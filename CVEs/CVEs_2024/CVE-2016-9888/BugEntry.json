{"buggy_code": ["2016-08-20  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-08-20  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.40\n\n2016-06-29  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-06-29  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.39\n\n2016-06-17  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-06-17  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.38\n\n2016-06-04  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_trailer64_write): Fix ZIP64 EOCD size\n\tto exclude leading 12 bytes.  From Felix Bu\u0308nemann\n\t<buenemann@louis.info>\n\n\t* tests/LibGsfTest.pm: Use 7z for archive testing when available.\n\tIt's stricter.\n\n2016-05-30  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-05-30  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.37\n\n2016-04-18  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-tar.c (unpack_octal): Allow a terminating space\n\tinstead of NUL.  Fixes #765099.\n\n2016-02-12  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-02-12  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.36\n\n2016-02-09  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/gsf-output-gio.c (gsf_output_gio_new_full),\n\t(gsf_output_gio_close), (gsf_output_gio_init): Remove the unused GFile\n\tmember. Fix a few criticals.\n\n2016-02-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_open_pkg_open_rel): Move\n\tparent-reffing to after we handle absolute references.  Fixes\n\t#761648.\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_parse): Plug leak.\n\n2016-02-06  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-02-06  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.35\n\n2016-01-21  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (main): Set of locale stuff.  Patch by Ting-Wei Lan.\n\tAlso set up gettext stuff.\n\n2016-01-13  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_read): Improve error\n\thandling.  Fixes #760543.\n\n2016-01-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_section): Handle the\n\tno-property case sanely.  Fixes #760047.\n\n2015-07-28  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2015-07-28  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.34\n\n2015-07-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_seek_block): Fix seek error check.\n\n2015-07-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_init_info): Add debug code.\n\t(gsf_infile_msole_new_child): Fix error check from seek.\n\n2015-07-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Exit loop if no\n\tprogress.  Fixes #751273.\n\n2015-06-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_utf8_gets): Go\n\tcharacter-by-character.  This is the right thing to do and also\n\tprevents stepping past the end.\n\n2015-06-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_open_pkg_open_rel): Improve\n\thandling of absolute references.  Fixes #751120.\n\n2015-06-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_read): Fuzzed file fix.\n\tFixes #750809.\n\n2015-05-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_write): Fix portability issue.\n\n2015-05-10  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (open_pkg_rel_begin): Be more careful\n\tin removing entries partially overwritten by dupes.  [#749183]\n\n2015-05-09  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (vba_dir_read): Free only once.\n\t(gsf_vba_inflate): Don't crash after error.  [#749169]\n\n2015-04-27  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_read): Reduce size available\n\tfor property by 4 since that is taken by the typeid.\n\n2015-04-18  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_get_output): Doc fix.\n\n2015-04-16  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2015-04-16  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.33\n\n2015-04-09  Morten Welinder  <terra@gnome.org>\n\n\t* tests/test-xml.c: Add meaning code in here.\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_end_element): Only indent closing\n\ttag if we're at the beginning of the line because we\n\tpretty-printed the previous closing tag.\n\t(gsf_xml_out_get_pretty_print, gsf_xml_out_set_pretty_print): New\n\tconvenience functions.\n\n2015-03-30  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_add_nodes): Introduce new flag\n\tGSF_XML_2ND to explicitly identify duplicate nodes.\n\n2015-03-13  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_set_silent_unknowns): New function.\n\n2015-03-04  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_float): Do a better job of\n\tsaving all precision.\n\n2015-03-04  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2015-03-04  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.32\n\n2015-02-22  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c\n\t(gsf_outfile_open_pkg_set_content_type): Allow a NULL content type\n\tfor when defaults cover the file.\n\n2015-02-09  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_open_pkg_write_content_override):\n\tRelease children here, not in gsf_outfile_open_pkg_close.\n\n2015-02-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_outfile_open_pkg_close): Plug\n\tleak.\n\n2015-02-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_outfile_open_pkg_close): Also add\n\tvml extension.\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element): Nodes inside\n\tunknown nodes are themselves unknown, even if they would appear to\n\tbe known had the intervening unknown nodes not been there.  In\n\tother words: don't lookup nodes while we are parsing an unknown\n\ttag's contents.\n\n2015-02-04  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2015-02-04  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.31\n\n2015-02-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_vaname): Fix age-old leak.\n\n2015-01-25  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add 2 new localc namespaces\n\t* gsf/gsf-opendoc-utils.h: add new enum values to support above\n\tname spaces)\n\n2014-12-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (special_mimetype_dirent): New function.\n\t(zip_dirent_write, zip_header_write): Don't write a special unix\n\tmtime field for the special mimetype entry.\n\t(zip_close_root): Sort by offset.  Note: this may not be necessary\n\tor even desired, but help with the zipdetails utility.\n\t(zip_init_write): Make the special mimetype default to !zip64.\n\t(gsf_outfile_zip_new): Null the error return value.\n\t(zip_dirent_write, zip_header_write): Use extract version 2.0 for\n\tthe !zip64 case.\n\n2014-12-14  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_write): Fix test for writing\n\tignore header.\n\n2014-12-02  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (gsf_create): Allow \"-\" for output to stdout.\n\n\t* tests/LibGsfTest.pm (test_valgrind): Dump valgrind output when\n\tverbose.\n\n\t* tools/gsf.c (gsf_create): Use our perfectly fine GType macros\n\tinstead of a home grown enum.\n\n2014-12-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (follow_symlinks): Plug leak.\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_write): Handle the case of\n\tsmall file beyond offset 4G.  The header record won't be zip64,\n\tbut the dirent needs to.\n\t(zip_dirent_write): Mark this entry as needing 4.5 to extract if\n\tthe central directory entry uses zip64, even if the local header\n\tdoes not.\n\n2014-11-30  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.h (GSF_LE_SET_GU?INT{16,32,64}): Add casts to make\n\tthings more function-like and avoid implementation defined\n\tbehaviour.\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_write): The the archive is in\n\tauto mode and the member is not using a zip64 extra field, use an\n\tIGNORE extra field to work around known zipinfo bug.\n\n\t* tools/gsf.c (gsf_create, load_recursively): Add error checks on\n\tclose.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_write): When zip64 is\n\tforced off, don't allow writing beyond the 4G barrier.\n\t(zip_header_write): If we write a real zip64 entry, mark the\n\tdirent as being zip64.\n\t(zip_close_root): If any dirent is zip64, the archive is.\n\t(zip_output_block): Catch overflow of csize.\n\t(zip_header_patch_sizes): Resolve zip64 to FALSE if it remained\n\tauto until now.\n\n2014-11-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_header_write): Determine if the sink\n\tis seekable.  Use a DDESC, if not.\n\n\t* gsf/gsf-output-gio.c (gsf_output_gio_write): Simplify and handle\n\tthe zero bytes cases better.\n\t(gsf_output_gio_new_full): Check seekability here and thus only\n\tonce.\n\n\t* gsf/gsf-output-iochannel.c (gsf_output_iochannel_seek): Check\n\tfor is_seekable before trying to do so.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_class_init): Properly\n\tinstall zip64 property.\n\t(zip_header_write): Fix auto-zip64 mode's writing of sizes.\n\t(zip_ddesc_write): Do write signature.\n\n2014-11-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_new_out): Store mtime in zip\n\tfiles, as long as they fit.\n\n2014-11-27  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_copy): Minor cleanups.\n\n\t* tools/gsf.c (load_recursively): Complain if gsf_input_copy\n\tfails.\n\n2014-11-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (zip_dirent_new_in): Fix reading of\n\textended field.  csize and usize are swapped in there.\n\t(zip_dirent_new_in): Read the right amount of variable data.\n\t(zip_read_dirents): Check trailer64 signature.\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_write): Fix file mode.\n\n2014-11-22  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (open_archive): Plug leak.\n\n\t* gsf/gsf-infile-stdio.c (GsfInfileStdio): Use a GPtrArray instead\n\tof a list for performance with large directories.\n\n2014-11-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_read0): Fix 64-bit issue.\n\n\t* gsf/gsf-utils.c (gsf_input_dump): Fix 64-bit issue.  Read larger\n\tblocks.\n\n\t* gsf/gsf-infile-zip.c (zip_read_dirents): Handle zip64 format for\n\tarchives with 65535 or more members.\n\t(ZipInfo): Larger fields; use GPtrArray for speed.  All users\n\tchanged.\n\t(zip_find_trailer): Fix endianess issue.\n\t(gsf_infile_zip_read): Fix 64-bit issue.\n\t(zip_dirent_new_in): Handle zip64 extra fields.\n\n\t* gsf/gsf-zip-impl.h (GsfZipVDir): Use a GPtrArray for speed.  All\n\tusers changed.\n\n\t* gsf/gsf-input.c: Update to new introspection syntax.\n\n2014-11-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_user_defined_end): Plug leak.\n\n2014-11-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_inflate): Don't place\n\tuninitialized values into the output even for corrupted files.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Plug leak.\n\n\t* gsf/gsf-infile-msvba.c (vba_dir_read): Plug leak.\n\n\t* gsf/gsf-structured-blob.c (blob_finalize, blob_dup)\n\t(blob_child_by_name, gsf_structured_blob_read): Reduce CRITICALs\n\ton corrupted files.\n\n2014-10-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c: Avoid deprecated g_type_init.\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Plug leak.\n\n2014-04-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_set_property): Add new\n\tproperty default-level.\n\n2014-03-19  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2014-03-19  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.30\n\n2014-03-06  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/gsf-input-http.c (make_local_copy), (gsf_input_http_new):\n\tmake a local copy. nanohttp does not always report the correct size.\n\t[see #724970]\n\n2014-03-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gio.c (gsf_input_gio_new): Always make local copy.\n\tglib reports wrong size.\n\n2014-02-28  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (main): Activate translations.  Patch from\n\tJuhani Numminen <juhaninumminen0@gmail.com>\n\n2014-01-04  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2014-01-04  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.29\n\n2013-12-14  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (open_pkg_rel_begin): Handle duplicate\n\tor missing id and type.  Fixes #720458.\n\n2013-12-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.h (GSF_LE_GET_GUINT32): cast unsigned char to\n\tguint32 before left-shifting by 24.  This avoids an implicit cast\n\tto int followed by an overflowing left-shift which is undefined in\n\tthe C standard.\n\n2013-09-13  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (zip_child_init): Fix translation marking,\n\tplug leak.  Fixes #706937.\n\n2013-08-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-stdio.c (gsf_outfile_stdio_new_valist): Allow\n\tthe directory to exist.  Patch from  Allin Cottrell.  #706219.\n\n2013-08-01  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2013-08-01  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.28\n\n2013-08-01  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac (set_more_warnings): When checking for warnings\n\tflags, include <stdio.h> for mingw's benefit.\n\n2013-07-30  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_parser_context_full): allow the huge libxml\n\tparser mode so that gnumeric can load large images. [#705100]\n\n2013-07-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_string): Protect\n\tagainst strings that cannot be converted.  See bug #703952.\n\n2013-06-25  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_read): use the\n\tcorrect conversion specifier\n\n2013-06-23  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2013-06-23  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.27\n\n2013-06-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-ar.[ch]: Delete.\n\n2013-06-21  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_end_document): Plug leak.\n\n2013-06-19  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_load_from_string): perfrom\n\tsome range checking to avoid crashing in glib.\n\n2013-04-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (gsf_vba_inflate): Plug multiple leaks.\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_read): Don't read\n\tbeyond the number of bat blocks we have.  (We can have less blocks\n\tthan expected when the bat chain is found to be circular.)  Don't\n\toptimize seek; the lower levels will do that just fine.\n\t(ole_make_bat): Simplify.\n\n2013-03-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_set_modtime): Change to transfer-none\n\tsemantics.  All callers changed.\n\t* gsf/gsf-output.c (gsf_output_set_modtime): Change to\n\ttransfer-none semantics.  All callers changed.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close_root): Set\n\tmodtime when available.\n\n\t* gsf/gsf-output.c (gsf_output_set_property): Make name property\n\twritable.\n\n\t* gsf/gsf-input.c (gsf_input_dup): Simplify.  Prevent leak of\n\tcontainer ref if derived class set one.\n\n2013-03-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_property_settings_find): New function.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_new_child): Don't add\n\tmodtime is caller did.\n\n\t* tools/gsf.c (load_recursively): Simlify using, of all things,\n\tgsf.  Avoid crazy memory usage.  Take care of modtime.\n\n2013-03-04  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-tar.c (tar_init_info): Also read mtime from\n\tarchive.\n\t(gsf_infile_tar_child_by_index): Set modtime of input when\n\tpossible.\n\n\t* tools/gsf.c (ls_R): Print also modtime when available.\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_new_child): Set modtime of\n\tchild.\n\t(zip_dirent_new_in): Read modtime from file.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_new_child): Parent's\n\tmodtime is child's default.\n\t(gsf_outfile_zip_constructor): Default modtime is now.\n\n\t* configure.ac: Check for utime.h and sys/utime.h.  Check for\n\tstat.st_mtimensec and stat.st_mtim.tv_nsec.\n\n\t* tests/test-cp.c (test): Copy modtime too.\n\n\t* gsf/gsf-input.c (gsf_input_get_property): Add new modtime\n\tproperty.\n\t* gsf/gsf-output.c (gsf_output_get_property): Ditto.\n\n\t* gsf/gsf-input-gzip.c (check_header): Set modtime when available.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Set modtime.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close): Set modtime of\n\tresulting file.\n\n\t* gsf/gsf-input.c (gsf_input_uncompress): Fix potential failure\n\twith bzip'd input.\n\n2013-03-03  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-command-context.c: Remove.\n\t* gsf/gsf-command-context.h: Remove.\n\t* gsf/gsf-io-context.c: Remove.\n\t* gsf/gsf-io-context.h: Remove.\n\t* gsf/gsf-output-transaction.c: Remove.\n\t* gsf/gsf-output-transaction.h: Remove.\n\t* gsf/Makefile.am: Remove references to those files.\n\n2013-02-27  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2013-02-27  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.26\n\n2013-02-25  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* tests/test-msole1.c (test): fix build.\n\n2013-02-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_name)\n\t(gsf_infile_child_by_vname, gsf_infile_child_by_vaname)\n\t(gsf_infile_child_by_aname): Doc improvements.\n\n\t* gsf/gsf-input.c (gsf_input_uncompress): Avoid HAVE_BZ2\n\tconditionals.\n\n\t* gsf/gsf-utils.c (gsf_init_dynamic): Register the tar type too.\n\n\t* gsf/gsf-input.c (gsf_input_read): Detect overflow.\n\n2013-02-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_section): Add sanity\n\tcheck.\n\n2013-02-17  Morten Welinder  <terra@gnome.org>\n\n\t* configure.ac (set_more_warnings): Improve support for clang.\n\n2013-02-05  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* doc/gsf-sections.txt: fix gtk-doc warnings.\n\t* gsf/gsf-opendoc-utils.c: ditto.\n\t* tools/gsf.c (get_meta_data): don't use deprecated symbols.\n\n2013-01-26  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (ole_write_bat, ole_write_const): Bunch\n\tthings up as large writes instead of piles of little ones.\n\n2013-01-19  Valek Filippov  <frob@df.ru>\n\n\t* gsf/gsf-infile-msvba.c,.h (gsf_vba_inflate): Fix for short streams.\n\n2013-01-15  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* configure.ac: renamed configure.in and update obsolete macros.\n\t* configure.in: ditto.\n\n2013-01-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (chown_wrapper): New function.\n\t(chmod_wrapper, access_wrapper): Eliminate in favour of g_chmod\n\tand g_access.\n\n\t* configure.in: Check for g_chown instead of g_chmod and g_access\n\twhich we can now assume.\n\n\t* gsf/gsf-infile-zip.c (zip_child_init): Attempt working around\n\tanother clang false positive.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_new_clone): For around\n\ta clang false positive.\n\n\t* gsf/*.c: Stop pretending that g_object_new can return NULL.\n\n2013-01-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gio.c (gsf_output_gio_new_full): New function\n\tfactored out from gsf_output_gio_new.\n\t(gsf_output_gio_new_for_path, gsf_output_gio_new_for_uri): Use\n\tgsf_output_gio_new_full for proper error handling.\n\n2013-01-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gio.c (gsf_output_gio_new_for_uri): Use\n\tpreconditions for programming errors.\n\t(gsf_output_gio_write): Drop unneeded cast.\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_gvalue): Deal with G_TYPE_CHAR\n\talways being signed char.\n\t(gsf_xml_gvalue_from_str): Ditto.\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Ditto.\n\n2013-01-05  Valek Filippov  <frob@df.ru>\n\n\t* gsf/gsf-infile-msvba.c,.h (gsf_vba_inflate): Fix based on\n\t [MS-OVBA] and test files.  Fixes #656531.\n\n2012-12-20  =?UTF-8?q?Marc-Andr=C3=A9=20Lureau?= <marcandre.lureau@gmail.com>\n\n\t* gsf/gsf-infile-msole.c (ole_seek_block): Factor out from\n\tgsf_infile_msole_read.\n\n2012-12-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_child_by_index)\n\t(gsf_infile_msole_name_by_index): Avoid casts.\n\n2012-12-05  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_dup): Make this a\n\tsimple wrapper over gsf_infile_msole_dup.  Fixes #689706.\n\n2012-11-13  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2012-11-13  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.25\n\n2012-10-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_string): Pad to\n\t4-byte boundary if char_size>1 as per spec.\n\n2012-10-27  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_string): New\n\tfunction to take codepage into account.\n\t(msole_metadata_write_prop, cb_write_dict): Use\n\tmsole_metadata_write_string.\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_meta_data_insert): Initialize\n\t->ref_count.\n\n2012-10-16  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (main): Add commands to create zip and ole files.\n\tPatch from jorilx@gmail.com, see bug 683788.\n\n2012-09-03  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2012-09-03  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.24\n\n2012-08-02  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* doc/Makefile.am: fixed as many introspection and gtk-doc issues as\n\tpossible.\n\t* doc/gsf-sections.txt: ditto.\n\t* gsf/Makefile.am: ditto.\n\t* gsf/gsf-blob.c: ditto.\n\t* gsf/gsf-blob.h: ditto.\n\t* gsf/gsf-clip-data.c: ditto.\n\t* gsf/gsf-clip-data.h: ditto.\n\t* gsf/gsf-infile-msvba.c (gsf_input_find_vba): ditto.\n\t* gsf/gsf-infile-zip.c (vdir_insert), (zip_info_unref): ditto.\n\t* gsf/gsf-libxml.c (gsf_xml_gvalue_from_str),\n\t(gsf_xml_out_get_output): ditto.\n\t* gsf/gsf-msole-utils.c (msole_prop_parse),\n\t(gsf_doc_meta_data_read_from_msole), (gsf_msole_metadata_read),\n\t(gsf_doc_meta_data_write_to_msole), (gsf_msole_metadata_write):\n\t* gsf/gsf-msole-utils.h: ditto.\n\t* gsf/gsf-open-pkg-utils.h: ditto.\n\t* gsf/gsf-opendoc-utils.c (gsf_odf_get_version_string),\n\t(gsf_odf_get_version), (get_gsf_odf_version), (gsf_odf_get_ns),\n\t(get_gsf_ooo_ns), (gsf_doc_meta_data_odf_subtree),\n\t(gsf_opendoc_metadata_subtree), (gsf_doc_meta_data_read_from_odf),\n\t(gsf_opendoc_metadata_read), (gsf_doc_meta_data_write_to_odf),\n\t(gsf_opendoc_metadata_write): ditto.\n\t* gsf/gsf-opendoc-utils.h: ditto.\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_finalize),\n\t(gsf_outfile_zip_new_child): ditto.\n\t* gsf/gsf-timestamp.c (gsf_timestamp_load_from_string),\n\t(gsf_timestamp_from_string), (gsf_timestamp_parse),\n\t(gsf_timestamp_to_value): ditto.\n\t* gsf/gsf-timestamp.h: ditto.\n\t* gsf/gsf-utils.c (gsf_init_dynamic): ditto.\n\t* gsf/gsf-zip-impl.h: ditto.\n\t* gsf/gsf-zip-utils.c (gsf_vdir_free), (gsf_zip_vdir_free),\n\t(gsf_zip_vdir_copy), (gsf_zip_vdir_destroy),\n\t(gsf_zip_vdir_get_type), (gsf_vdir_add_child),\n\t(gsf_zip_vdir_add_child): ditto.\n\t* gsf/gsf.h: ditto.\n\t* thumbnailer/main.c (msole_thumbnail): ditto.\n\n2012-07-20  Jean Brefort  <jean.brefort@normalesup.org>\n\t* all files: fix introspection and gtk-doc warnings.\n\n2012-05-22  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_xml_out_add_gvalue_for_odf): new\n\t(meta_write_props_user_defined): use gsf_xml_out_add_gvalue_for_odf\n\t(meta_write_props): use gsf_xml_out_add_gvalue_for_odf\n\n2012-05-21  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* configure.in: copied code from introspection.m4\n\n2012-05-18  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* Makefile.am: enhance introspection build support.\n\t* configure.in: ditto.\n\t* gsf/Makefile.am: ditto.\n\n2012-04-19  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2012-04-19  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.23\n\n2012-03-31  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_user_defined): default to\n\tG_TYPE_NONE\n\t(od_meta_user_defined_end): Check for \"GSF_DOCPROP_VECTOR:\" and\n\thandle accordingly\n\t(meta_write_props_user_defined): code extracted from\n\tmeta_write_props\n\t(meta_write_props): use meta_write_props_user_defined and handle\n\tGSF_DOCPROP_VECTOR_TYPE\n\n2012-03-25  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (test_python): Disable by default.  Patch from\n\tAlban Browaeys in #672663.\n\n2012-03-21  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.h (GsfODFOut): New object class.\n\n\t* gsf/gsf-opendoc-utils.c (gsf_opendoc_metadata_write): change\n\toutput argument type to \"gpointer\" so we can take either GsfXMLOut\n\tor GsfODFOut.  Get the odf version from the output if that happens\n\tto be a GsfODFOut.\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_class_init): Install new property\n\t\"sink\".\n\t(gsf_xml_out_new): Just call g_object_new.\n\n\t* gsf/gsf-libxml.h (GsfXMLOut): Make this just public enough that\n\twe can derive from it.\n\n2012-03-20  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (libgsf_reqs): Fix glib dependency.\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_from_string): Reimplement\n\tbased on glib's GDateTime.  Fixes time-shift part of #671860.\n\n2012-03-10  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/Makefile.am: make introspection work when libgsf is not installed.\n\t[#671698]\n\n2012-02-06  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* configure.in: apply patch from Alan Knowles to add gobject introspection\n\tsupport. [#610340]\n\t* gsf/Makefile.am:\n\n2011-12-15  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2011-12-15  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.22\n\n2011-12-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_cmp): Use\n\tgsf_msole_sorting_key_cmp.\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_sorting_key_new)\n\t(gsf_msole_sorting_key_free, gsf_msole_sorting_key_cmp): New\n\tfunctions.\n\n\t* gsf/gsf-outfile-msole.c (make_sorting_name): New function.\n\t(gsf_outfile_msole_constructor): New function.\n\t(gsf_outfile_msole_class_init): Hook up constructor.\n\t(GsfOutfileMSOle): Add a key member.\n\t(ole_name_cmp): Use gsf_msole_sorting_key_cmp.  Fixes #665712.\n\n2011-12-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-memory.c: Drop HAVE_BROKEN_MMAP -- FreeBSD was\n\tfixed 8+ years ago, so this code isn't being run.\n\n\t* gsf/gsf-utils.c: Assume HAVE_G_BASE64_ENCODE.\n\n\t* gsf/*.c: Eliminate pointless G_OBJECT casts.\n\n\t* configure.in: Require glib 2.16 for g_strcmp0.\n\n\t* gsf/gsf-input.c (gsf_input_dispose): Rename from\n\tgsf_input_finalize and hook up accordingly.\n\t(gsf_input_set_name): Notify the property if changed.\n\n\t* gsf/gsf-output.c (gsf_output_set_name): Notify the property if\n\tchanged.\n\t(gsf_output_set_name_from_filename): Base of gsf_output_set_name.\n\n2011-11-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gio.c (gsf_input_gio_read): Handle unexpected EOF\n\tfrom source.  Never request more than gio is documented to handle.\n\t(make_local_copy): Set name from file.\n\n2011-09-08  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Switch to AM_MAINTAINER_MODE([enable]).\n\n2011-07-01  Morten Welinder  <terra@gnome.org>\n\n\t* thumbnailer/main.c (set_resource_limits): Fix conditional.\n\n2011-05-21  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-win32/gsf-output-win32.c (gsf_output_istream_set_error): Use\n\tproper format string.\n\t* gsf-win32/gsf-input-win32.c (hresult_to_gerror): Ditto.\n\n2011-05-20  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2011-05-20  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.21\n\n2011-05-10  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (get_gsf_odf_version_string): bump to 1.2\n\t(get_gsf_odf_version): bump to 1.2\n\n2011-05-09  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_user_defined): check for all ODF defined\n\tvalue types and use the correct attribute name\n\t(meta_write_props): use the correct attribute name\n\n2011-05-09  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_user_defined): initialize type\n\tand name.\n\n2011-05-02  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/gsf-impl-utils.h: fix GSF_DYNAMIC_CLASS_FULL to make gcc-4.6 happy.\n\n2011-04-05  Morten Welinder  <terra@gnome.org>\n\n\t* Makefile.am: ${ACLOCAL_FLAGS}, not $(ACLOCAL_FLAGS) which seems\n\tto matter to Gentoo.  Fixes #645777.\n\n2011-03-28  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Implement --without-gconf (as opposed to looking\n\tfor gconftool-2.\n\n2011-03-24  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.20\n\n2011-03-24  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2011-03-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_user_defined_end): Create a\n\tvalue of the requested type.\n\t(od_meta_user_defined): Handle the meta:type attribute.\n\t(GsfOOMetaIn): Add new member \"typ\".\n\t(meta_write_props): Fix typo.\n\n2010-12-17  Morten Welinder  <terra@gnome.org>\n\n\t* tests/test-outmem-printf.c (test): Attempt a leak fix.\n\n2010-11-10  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Handle NULL error\n\tmessage without crashing.  [#634435]  Patch by Caolan McNamara.\n\n2010-09-25  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2010-09-25  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.19\n\n2010-09-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element): Don't complain over\n\telements in unknown namespaces.\n\n2010-09-15  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add another one of OOo's\n\tnamespaces\n\t* gsf/gsf-opendoc-utils.h: add new enum value to support above\n\tname spaces)\n\n2010-08-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-impl-utils.h (GSF_CLASS_FULL): Don't use C89 argument\n\tlists.\n\n\t* gsf/gsf-output-bzip.c (gsf_output_bzip_close): Rework previous\n\tchange.  We do not want two prototypes.\n\n2010-08-15  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add some more of OOo's\n\tnamespaces\n\t* gsf/gsf-opendoc-utils.h: add new enum values to support above\n\tname spaces)\n\t* gsf/gsf-output-bzip.c (gsf_output_bzip_close): quieten compile\n\n2010-07-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_debug_flag): New function.\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element): Don't complain over\n\tmissing namespace uris unless a debug flag is set.\n\n2010-04-07  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release-bump.\n\n2010-04-07  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.18\n\n2010-04-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_header_write, zip_dirent_write): Use\n\tdirent->flags for consistency.  Fixes #614968.\n\t(zip_dirent_update_flags): New function.\n\t(zip_dirent_new_out): Deduce dirent->flags.\n\n\t* gsf/gsf-infile-zip.c (zip_dirent_new_in): Read dirent->flags.\n\n2010-04-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_cstr): Fix win32 warning about\n\tformat.\n\n2010-02-13  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release-bump.\n\n2010-02-13  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.17\n\n2009-11-18  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_meta_data_foreach): Sort the\n\tkey-value pairs.\n\n2009-11-17  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* autogen.sh: allow dirs on PATH to have spaces withou causing warning\n\n2009-10-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_probe_element): Fix crash on documents\n\tlike <a:b xmlns:c=\"d://\"/>\n\n2009-10-11  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.16\n\n2009-09-25  Morten Welinder  <terra@gnome.org>\n\n\t* thumbnailer/main.c (call_convert): Use gdk_pixbuf if available.\n\n2009-09-25  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (libgsf_gnome_reqs): Remove gnome-vfs stuff.\n\tFixes #593480\n\n2009-09-22  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add variant of OO_NS_FIELD\n\n2009-08-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element): Complain to stderr,\n\tnot stdout.  Fixes #592471.\n\n2009-06-20  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Post-release-bump.\n\n2009-06-20  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.15\n\n2009-06-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Use gsf_timestamp_new\n\tand gsf_timestamp_set_time.\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_from_string): Improve error\n\tchecking.\n\t(gsf_timestamp_set_time): New function.\n\t(gsf_timestamp_new): New function.\n\n2009-06-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): If parsing fails,\n\tdon't return a bogus value.  Fixes #584848.\n\n2009-05-26  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.h (gsf_odf_version): deleted\n\t(gsf_odf_version_string): deleted\n\t(get_gsf_ooo_ns): new\n\t(get_gsf_odf_version_string): new\n\t(get_gsf_odf_version): new\n\n2009-05-25  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.[ch]: replace GSF_ODF_VERSION with a variable\n\n2009-05-25  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.[ch]: replace GSF_ODF_VERSION_STRING with the\n\t  varaible gsf_odf_version_string and turn GSF_ODF_VERSION into an\n\t  enum.\n\n2009-05-24  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_opendoc_metadata_write): use\n\t  GSF_ODF_VERSION_STRING\n\t* gsf-opendoc-utils.h (GSF_ODF_VERSION): new and bump to 1.1\n\t(GSF_ODF_VERSION_STRING): new\n\n2009-05-23  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Psot-release bump.\n\n2009-05-23  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.14\n\n2009-05-16  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.h: add namespace enumeration constant for\n\t  new OOo and Gnumeric namespaces\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add new namespaces for OOo\n\t  and Gnumeric\n\n2009-05-13  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_start_element): remove erroneous\n\t  g_return_if_fail. Note that some part of the code specifically\n\t  handles that situation.\n\t(close_tag_if_neccessary): If we are in GSF_XML_OUT_CHILD we need\n\t  not close the tag\n\n2009-05-10  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.h: add namespace enumeration constant for\n\t  MSOXL\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add namespace for MSOXL\n\n2009-05-10  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_opendoc_meta_dtd): scan meta's\n\t  children for more namespaces to handle CleverAge's files.\n\n2009-05-10  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.h: add more new namespace enumeration\n\t  constants\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add more new namespaces\n\n2009-05-10  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.h: add new namespace enumeration\n\t  constants\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add new namespaces\n\n2009-05-06  Morten Welinder <terra@gnome.org>\n\n\t* configure.in : post release bump\n\n2009-05-06  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.13\n\n2009-05-06  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\tFixes #581530\n\t* gsf/gsf-opendoc-utils.c (gsf_opendoc_meta_dtd): split into\n\t  gsf_opendoc_meta_dtd and gsf_opendoc_meta_st_dtd\n\t(gsf_opendoc_metadata_subtree_free): free the state not the doc\n\t(gsf_opendoc_metadata_subtree): use your own dtd\n\t(gsf_opendoc_metadata_subtree_internal): new\n\n2009-04-28  Emmanuel Pacaud <emmanuel@gnome.org>\n\n\tAdd doap file.\n\n2009-04-25  Morten Welinder <terra@gnome.org>\n\n\t* configure.in : post release bump\n\n2009-04-25  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.12\n\n2009-04-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_new_clone): Fix\n\tpreconditions.  Always allocate at least one byte.  Avoid cast.\n\tFixes #580228.\n\n2009-04-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_set_error): Fix allocation method\n\tproblem for errors.  Fixes #579155.\n\n2009-04-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new_child): Fix a\n\tcouple of warnings.\n\n2009-04-13  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (GsfOOMetaIn): added field\n\t(od_meta_user_defined): implement\n\t(od_meta_user_defined_end): new\n\t(gsf_opendoc_meta_dtd): handle \"user-defined\" completely\n\t(gsf_opendoc_metadata_read): initialize state.name\n\n2009-04-11  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (lookup_child) : handle namespace uri being\n\t  declared as both default and explict prefix.\n\n2009-02-07  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (bonobo): auto-detect.\n\n2009-02-19  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf.h : document the members of timestamp to avoid gtk-doc\n\t  warnings.\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_from_string) : renamed from.\n\t(gsf_timestamp_parse) : here, and this is deprecated.\n\n2009-02-18  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new_child) : Handle\n\t  small-block files that are not block aligned. [#572290]\n\n2009-02-04  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_cstr): Drop characters that\n\txml 1.0 cannot represent.  Bandaids #568919.\n\n2009-01-30  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_quoting_mode_get_type):\n\tDeclare \"values\" as static, as the second argument to\n\tg_enum_register_static may not be stack-allocated, because GObject\n\tkeeps a reference to the data. This fixes a problem generating the\n\tdocumentation in some environments; see\n\thttp://gcc.gnu.org/bugzilla/show_bug.cgi?id=39015 .\n\n2009-01-26  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_characters): Handle the case where\n\twe get here without being initialized.  See 568994.\n\t(gsf_xml_in_end_document): Mark ourselves uninitialized here.\n\n2009-01-06  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2009-01-06  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.11\n\n2009-01-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_open_pkg_open_rel) : clean up the\n\t  logic to handle rels with empty components, leading '/', or '.'\n\t  to deal with POI generated files.\n\n2008-12-25  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (statfs): Fix detection for Darwin.  Fixes #565603.\n\n\t* gsf-gnome/gsf-input-gnomevfs.h, gsf-gnome/gsf-output-gnomevfs.h:\n\tFix compilation in gnome case.  Fixes #565605.\n\n2008-12-24  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gio.c (make_local_copy): Use larger buffer.\n\t(gsf_input_gio_new, gsf_input_gio_new_for_path,\n\tgsf_input_gio_new_for_uri): Use g_return_val_if_fail as\n\tappropriate.\n\n\t* gsf/gsf-input-stdio.c (make_local_copy): New function.\n\t(gsf_input_stdio_new, gsf_input_stdio_new_FILE): Use\n\tmake_local_copy for non-regular files.\n\n2008-12-14  Morten Welinder  <terra@gnome.org>\n\n\t* */*.c: Clean up glib includes.  Patch from Pedro Fragoso.  Fixes\n\t#564004.\n\n2008-11-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (DllMain): glib-2.18 deprecated\n\t  G_WIN32_DLLMAIN_FOR_DLL_NAME, create a DllMain ourselves to\n\t  capture the dll handle.\n\t(gsf_init): use it here with\n\tg_win32_get_package_installation_directory_of_module.\n\n\t* configure.in : add MSGs for the preceding bz2 test.\n\n2008-11-23  Jody Goldberg <jody@gnome.org>\n\n\tFrom : Richard W.M. Jones <rjones@redhat.com>\n\t* configure.in : AC_CHECK_LIB doesn't work with the Windows port\n\tof libbz2 because dnl it uses the __stdcall calling convention.\n\n2008-11-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-bzip.c: Pretend to use args in the\n\tdon't-have-bzip case.\n\t* gsf/gsf-intput-bzip.c: Pretend to use args in the\n\tdon't-have-bzip case.\n\n2008-11-05  Morten Welinder  <terra@gnome.org>\n\n\t* */*.c: Fix problem with formats.  Based on patch from Hib Eris,\n\t#559291.\n\n2008-10-30  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (rename_wrapper): Only use statfs if it\n\tis the expected two-argument kind.  Fixes #558253.\n\n2008-10-23  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-utils.c: Natural endian doubles aren't just used on VFP\n\tenabled ARM, but on ARM with EABI as well. Adjust the logic for\n\tdefining G_FLOAT_BYTE_ORDER accordingly. Patch courtesy of Riku Voipio\n\t<riku.voipio@iki.fi>. (Debian #503144)\n\n2008-10-19  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.10\n\n2008-10-17  Andreas J. Guelzow  <aguelzow@pyrshep.ca>\n\n\t* gsf-gnome/gsf-input-gnomevfs.h: add #define if\n\t  LIBGSF_GNOMEVFS_VIA_GIO is defined\n\n2008-10-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/Makefile.am: Don't compile the gnomevfs part unless\n\tasked to.\n\n2008-10-16  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Define LIBGSF_GNOMEVFS_VIA_GIO via command line,\n\tif needed.\n\t* gsf-gnome/gsf-output-gnomevfs.h: Don't include config file.  Get\n\tLIBGSF_GNOMEVFS_VIA_GIO from command line.\n\t* gsf-gnome/gsf-input-gnomevfs.h: Ditto.\n\n2008-10-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_info_read_metabat): Use g_warning,\n\tnot g_return_val_if_fail.  Fixes #554848.\n\n2008-09-28  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (ls_R): Handle NULL children.  Fixes #553861.\n\n2008-09-24  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-tar.c (unpack_octal): Add error check. Fixes\n\t#553655.\n\n\t* tools/gsf.c (open_archive): Also try tar file format.\n\n\t* gsf/gsf-infile-tar.[ch]: New files.\n\n2008-09-14  Gil Forcada  <gforcada@gnome.org>\n\n\t* configure.in:\n\t* po/LINGUAS:\n\tAdded support for po/LINGUAS file, closing #551577.\n\n2008-09-12  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_iconv_get_codepage_string_list) :\n\t  We intentionally fallthrough to the next case.\n\n2008-09-11  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_read) : local variable shadowed a\n\t  poorly named parameter.  It wasn't a bug, but it can't hurt to fix\n\t  it. [Coverity #189]\n\n2008-09-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_real_vprintf) : add va_end after the\n\t  G_VA_COPY. [Coverity #250]\n\t* gsf/gsf-output-memory.c (gsf_output_memory_vprintf) : ditto.\n\t  [Coverity #251]\n\n2008-09-03  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (rename_wrapper): Work around sshfs\n\tbrokenness.  Fixes #509883.\n\n2008-08-30  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : Post release bump\n\n2008-08-29  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.9\n\n2008-08-28  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (GNOMEVFS_REQ, BONOBO_REQ): Define as needed.\n\t* libgsf-gnome-1.pc.in: Use the above.\n\n2008-08-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_add_nodes) : new, split from\n\t  gsf_xml_in_doc_new to facilitate splitting node sets so that they\n\t  can be used in multiple situations.\n\n2008-08-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (gsf_input_find_vba) : move this here from\n\t  tools/gsf-vba-dump.\n\t(gsf_infile_msvba_get_modules) : new.\n\t(vba_extract_module_source) : store the code rather than dumping it to stdout.\n\n\t* tools/gsf-vba-dump.c (test) : use the new utilities.\n\t(cb_dump_vba) : do the dumping here.\n\n2008-07-28  Hubert Figuiere  <hfiguiere@novell.com>\n\n\t* thumbnailer/gsf-office-thumbnailer.schemas.in:\n\t* thumbnailer/main.c (zip_thumbnail): Add support for OpenPkg\n\t(MS Office Open XML) thumbnailing.\n\n2008-07-19  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c : Some components do not have relations.\n\t  Do not generate a warning. e.g. foreach_rel in an empty sheet.\n\n2008-07-18  Dominic Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf/gsf-input-gio.c (gsf_input_gio_new): Don't leak @input if\n\twe're going to make a local copy of the requested file\n\n2008-07-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/gsf-output-gnomevfs.c: Use gio, not gnomevfs, when\n\tLIBGSF_GNOMEVFS_VIA_GIO is defined.\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new,\n\tgsf_input_gnomevfs_new_uri): Call gsf_input_gio_new_for_uri, not\n\tgsf_input_gio_new_for_path.\n\n2008-07-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_open_pkg_open_rel) : make public.\n\t(gsf_open_pkg_foreach_rel) : new.\n\n2008-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_aname) : new.\n\t(gsf_infile_child_by_vaname) : new.\n\n2008-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-msole1.c :\n\t* tests/test-http.c :\n\t* tests/test-zip1.c :\n\t* tests/test-gzip1.c :\n\t* tests/test-gzip2.c :\n\t* tests/test-bzip.c :\n\t* tests/test-msvba.c : Clear error after use in preparation for the\n\t  next file.\n\n2008-06-08  Kjartan Maraas  <kmaraas@gnome.org>\n\n\t* configure.in: Add nb to ALL_LINGUAS.\n\n2008-05-20  Tor Lillqvist  <tml@novell.com>\n\n\t* libgsf-zip.in: Message catalogs nowadays end up in share/locale\n\tas they should, not lib/locale.\n\n2008-05-04  Jody Goldberg <jody@gnome.org>\n\n\t* tools/gsf-vba-dump.c (test) : support MS OOX.\n\n2008-04-13  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_init): Run-time test for gsf_le_get_double.\n\tMight save __arm__ people some head scratching.\n\n2008-04-09  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Reorganize gnome-vfs/bonobo checks.\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri):\n\tPrepare for making this a simple wrapper over gio.\n\n\t* gsf/gsf-utils.c (gsf_base64_decode_step): Use\n\tg_base64_decode_step when available.\n\t(gsf_base64_encode_step): Use g_base64_encode_step when available.\n\t(gsf_base64_encode_close): Use g_base64_encode_close when available.\n\n2008-03-17  Dominic Lachowicz <domlachowicz@gmail.com>\n\n\t* tests/Makefile.am: libgsf-gio-1.la doesn't exist any more\n\n2008-03-17  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* libgsf-gio-1.pc.in: No longer needed.\n\t* configure.in, Makefile: Drop references to it.\n\n2008-03-16  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/Makefile.am: Don't install gio support in its own library.\n\n2008-03-06  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf-vba-dump.1: New.\n\n2008-03-14  Dominic Lachowicz <domlachowicz@gmail.com>\n\n\t* libgsf-gio-1.pc.in:\n\t* tests/test-gio.c:\n\t* tests/test-gvfs.c:\n\t* tests/Makefile.am:\n\t* gsf/gsf-output-gio.h:\n\t* gsf/Makefile.am:\n\t* gsf/gsf-input-gio.c:\n\t* gsf/gsf-output-gio.c:\n\t* gsf/gsf-input-gio.h:\n\t* gsf-gvfs:\n\t* configure.in:\n\t* Makefile.am:\n\t* libgsf-gvfs-1.pc.in: Migrate names from \"gvfs\" to \"gio\";\n\tmove GIO code to gsf/ and get rid of gsf-gvfs/\n\n2008-03-14  Dominic Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf-gvfs/gsf-input-gvfs.c:\n\t* gsf-gvfs/gsf-output-gvfs.c: g_file_new() functions cannot fail\n\n2008-03-14  Dominic Lachowicz <domlachowicz@gmail.com>\n\n\t* tests/Makefile.am:\n\t* gsf-gvfs/gsf-input-gvfs.c:\n\t* gsf-gvfs/gsf-output-gvfs.c:\n\t* gsf-gvfs/gsf-input-gvfs.h:\n\t* gsf-gvfs/gsf-output-gvfs.h:\n\t* gsf-gvfs/Makefile.am:\n\t* configure.in:\n\t* Makefile.am: Update GIO backend to use glib 2.16's API\n\n2008-03-06  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf.1: Fixed typo in font setting.\n\t* doc/gsf-office-thumbnailer.1, doc/gsf.1: Define .URL macro when not\n\talready defined by the man implementation and use it for hyperlinks.\n\n2008-03-05  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Post release bump.\n\n2008-03-05  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.8\n\n2008-02-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new): Add new argument to\n\tkeep track of what entries we have seen before.  All callers\n\tchanged.  Check for loops.  Handle overflow in block computation.\n\tFixes #513831.\n\t(ole_init_info): Sanity check num_sbat too.\n\n2007-12-07  Jody Goldberg <jody@gnome.org>\n\t* gsf/gsf-infile-msole.c (ole_make_bat) : be more forgiving of\n\t  failure.  We do not need to abort completely on a cycle, just\n\t  truncate.\n\n2007-11-22  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_enum) : ref/unref the type class.\n\t  Peek does not seem sufficient to fully instantiate it.\n\n2007-11-10  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (gsf_dump_props): Let 'gsf listprops archive' print\n\ta list of properties.\n\t(gsf_list_props): New function.\n\t(gsf_help): Update accordingly.\n\n\t* gsf/gsf-msole-utils.c (msole_debug): New function.\n\t(msole_prop_parse): Use msole_debug so we don't print scale\n\tmessages unless we want to.\n\n2007-11-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_set_sink): Allow setting a\n\tNULL sink.\n\n2007-10-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-http.c (gsf_input_http_finalize): Let g_free\n\thandle NULL.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_finalize): Let\n\tg_slist_free handle empty lists too.\n\n2007-10-27  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Improve sanity\n\tchecks.  [#404934]\n\n2007-10-27  Jody Goldberg <jody@gnome.org>\n\n\t* gsf-win32/Makefile.am : Only install headers on win32. [#459771]\n\n2007-10-27  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c : Add\n\t    urn:oasis:names:tc:opendocument:xmlns:presentation:1.0\n\n2007-10-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read): Sanity check\n\tsections without hitting g_return_val_if_fail.  Probably fixes\n\t#485964.\n\n2007-09-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-stdio.c (gsf_outfile_stdio_new_child) : use it for\n\t  standard children too.\n\n2007-09-19  Dom Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf/gsf-outfile-stdio.c (gsf_outfile_stdio_new_child): Pass the va_list\n\tto the child\n\n2007-09-07  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2007-09-07  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.7\n\n2007-09-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_start_element) : Good grief.\n\t  Overzealous renaming breaks all xml output.\n\n2007-09-04  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_outfile_open_pkg_add_extern_rel) : add\n\t  some docs.\n\n\t* gsf/gsf-libxml.c : s/xml/xout/ to placate gtk-doc.\n\n2007-09-03  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2007-09-03  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.6\n\n2007-08-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_outfile_open_pkg_relate) : handle\n\t  relative paths better.\n\t(open_pkg_rel_begin) : init rel::is_extern.\n\t(open_pkg_rel_begin) : parse and store TargetMode as is_extern.\n\t(gsf_open_pkg_rel_is_extern) : new.\n\t(gsf_open_pkg_rel_get_target) : new.\n\t(gsf_open_pkg_rel_get_type) : new.\n\t(gsf_open_pkg_lookup_rel_by_type) : new.\n\t(gsf_open_pkg_lookup_rel_by_id) : new.\n\t(gsf_open_pkg_open_rel_by_id) : renamed from ...\n\t(gsf_open_pkg_get_rel_by_id) : which was deprecated because the name\n\t  was unclear.\n\t(gsf_open_pkg_open_rel_by_type) : renamed from ...\n\t(gsf_open_pkg_get_rel_by_type) : which was deprecated because the name\n\t  was unclear.\n\t(GsfOutfileOpenPkgRel) : delete.\n\t(gsf_outfile_open_pkg_close) : use straight GsfOpenPkgRel and export\n\t  the TargetMode for is_extern.\n\t(gsf_outfile_open_pkg_create_rel) : new.\n\t(gsf_outfile_open_pkg_add_extern_rel) : new.\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_get_output) : new.\n\n2007-07-29  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Resync ALL_LINGUAS with po files.\n\n2007-07-24  Jody Goldberg <jody@gnome.org>\n\n\tFrom coverity\n\t* gsf/gsf-msole-utils.c (cb_write_dict) : fix buffer overrun that\n\t  would overwrite a variable with itself +1\n\n2007-07-22  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_new_clone) : add some\n\t  safety checks against invalid parameters.\n\n2007-07-20  Dom Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf-gvfs/gsf-input-gvfs.c: Make a local copy of the stream if it's not\n\tseekable\n\t* gsf-gvfs/gsf-output-gvfs.c: Use replace() instead of create() when creating\n\tstreams. create() won't overwrite an existing file. Document limitations\n\tregarding seeking.\n\n2007-07-14  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* configure.in: always initialize have_gvfs.\n\n2007-07-12  Dom Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf-gvfs/gsf-input-gvfs.c:\n\t* gsf-gvfs/gsf-input-gvfs.h:\n\t* gsf-gvfs/gsf-output-gvfs.c:\n\t* gsf-gvfs/gsf-output-gvfs.h:\n\t* gsf-gvfs/Makefile.am:\n\t* libgsf-gvfs-1.pc.in:\n\t* Makefile.am:\n\t* configure.in: New GVFS-based backend\n\n\t* tests/test-gvfs.c:\n\t* tests/Makefile.am: Small test harness for the new GVFS-based backend\n\n2007-07-10  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2007-07-10  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.5\n\n2007-07-05  Jody Goldberg <jody@gnome.org>\n\n\t* python/gsfmodule.c : warning suppression.\n\n2007-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_quoting_mode_get_type) : missed\n\t  converting this back from a dynamic type.\n\n2007-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_outfile_open_pkg_set_sink) : fix a doc\n\t  build error.\n\n2007-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : fix --without-bonobo case in the --without-gnome\n\t  case. [#4488842]\n\n2007-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* thumbnailer/Makefile.am : Work even if gconf macros are not\n\t  installed.\n\t* configure.in : ditto.\n\n2007-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* *.[ch]  (*register_type) : back out the move to dynamic types.\n\t  They have significant problems with threads.  [#450722]\n\t  Which also patches a compilation glitch on windows.  [#449807]\n\n2007-06-19  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/Makefile.am: Add gsf.1 to manpage_DATA.\n\n2007-06-18  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump.\n\n2007-06-18  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.4\n\n2007-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-impl-utils.h (GSF_PARAM_STATIC) : deprecate in favour of\n\t  glib's G_PARAM_STATIC_STRINGS.\n\t(GSF_DYNAMIC_CLASS_FULL) : No need to add a reloc by making the type\n\t  info static.\n\t(GSF_DYNAMIC_INTERFACE_FULL) : ditto.\n\n2007-06-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gzip.c (GsfInputGZip): Use gsf_off_t for\n\theader_size and trailer_size to kill warnings.\n\n\t* gsf/gsf-input.c (gsf_input_read): Fix warning.\n\n\t* gsf-gnome/gsf-input-bonobo.c (gsf_input_bonobo_read): Fix printf\n\tsize mismatch.\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c : Move over from gnumeric.\n\t* po/POTFILES.in : Add the new code.\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : Add a test for setrlimit.\n\t* thumbnailer/main.c : use it here, just in case.\n\n2006-12-21  Federico Mena Quintero  <federico@novell.com>\n\n\thttps://bugzilla.novell.com/show_bug.cgi?id=229609 - Limit the\n\tresource consumption of the helper process in gsf-office-thumbnailer.\n\n\t* thumbnailer/main.c (set_resource_limits): New function.  We use\n\tsetrlimit() to put a cap on how much resources the helper process\n\tcan use, as convert(1) is known to leak tons of memory and CPU on\n\tcertain WMF files.\n\t(main): Call set_resource_limits().\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* doc/gsf-sections.txt : Add the dynamic _register_type functions, and\n\t  the new nano-http class.\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_init_dynamic) : register the new input type.\n\n\tFrom :  Michael Lawrence [#362373]\n\t* gsf/gsf-input-http.[ch] : provide a nano-http (from libxml2)\n\t  input wrapper.\n\t* tests/test-http.c : add.\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\tFrom : Eduardo Limo [#442205]\n\t* configure.in : Make bonobo support optional, but enabled by default.\n\t* gsf-gnome/Makefile.am : Use the new configure flag here.\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* m4/Makefile.am : new.\n\t* configure.in : Add it.\n\t* Makefile.am : handle m4 as a subdir rather than in EXTRA_DIST to\n\t  avoid distcheck failure.\n\n2007-04-08  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf.1: New.\n\t* gsf/gsf-meta-names.h, gsf/gsf.h, gsf/gsf-impl-utils.h,\n\tgsf/gsf-utils.h: Documentation work.\n\n2007-02-16  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-cp-zip.c (clone) : make more resistant to read failures.\n\n2007-01-23  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (pygtk): Show result.\n\n2007-01-13  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Adjusted pkg-config requirements to reflect that\n\tlibgsf-gnome doesn't need libxml-2.0.\n\n2007-01-10  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (push_child, gsf_xml_in_end_element): Handle\n\tnested contents.\n\n2006-12-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-bzip.c : include gsf-input-impl.h\n\t  to suppress warning.\n\n2006-12-15  Dom Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf/gsf-input-bzip.c: Set input name\n\t* gsf/gsf-input-gzip.c: Ditto\n\t* gsf/gsf-input-proxy.c: Ditto\n\t* gsf/gsf-input-textline.c: Ditto\n\n2006-12-15  Dom Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_new): Set the input's\n\tsize based on its source sink's size.\n\n2006-12-10  Jody Goldberg <jody@gnome.org>\n\n\tBegin merging patch from Danny Milosavljevic (danny.milo@gmx.net)\n\t* gsf/gsf-blob.c (gsf_blob_get_size) : constify.\n\t(gsf_blob_peek_data) : constify.\n\n2006-12-09  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-output.h: Annotate GsfOutputClass.Vprintf with a format\n\tattribute.\n\n2006-12-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_mem_dump_full): Cleanup.  (Avoid boundary\n\tcase problems and print line-by-line.)\n\n\t* gsf/gsf-output.c (gsf_output_real_vprintf): Do not reuse a\n\tva_list argument.  That does not work.\n\n2006-12-04  Morten Welinder  <terra@gnome.org>\n\n\t* thumbnailer/main.c: Use g_printerr, not fprintf.  That fixes\n\toutput in non-UTF8 locales.\n\n\t* configure.in (libgsf_reqs): Bump glib req to 2.8 for g_try_new.\n\n\t* gsf/gsf-infile-msole.c (ole_init_info): Use g_try_new, not\n\tg_alloca.  (And g_free the memory after use.)  Fixes #381600.\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_write_field): Quote on\n\tinitial or terminal whitespace, see bug #359348.\n\n2006-12-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_info_read_metabat): Advance bats in\n\tthe empty case too.  Fixes #381588.\n\n2006-12-01  Christian Neumair  <chris@gnome-de.org>\n\n\t* gsf/gsf-libxml.c: (gsf_xml_gvalue_from_str):\n\tHandle types derived from G_TYPE_ENUM and G_TYPE_FLAGS correctly.\n\tBail if type was not handled.\n\n2006-11-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_gvalue): Plug leak.\n\n2006-11-20  Jody Goldberg <jody@gnome.org>\n\n\t* doc/gsf-docs.sgml : Add some missing indicies.\n\t* doc/Makefile.am : init with gsf_init\n\n2006-11-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/*.[ch] : update copyrights\n\n2006-11-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/*.[ch] : Make GTypes dynamic and enable gsf_init_dynamic\n\n2006-11-10  Jody Goldberg <jody@gnome.org>\n\n\t* tools/gsf-vba-dump.c : Handle vba in .doc too.\n\t  PPT is going to be more work.  It seems to be embedded in the escher\n\t  stream as a compressed data blob.\n\n2006-11-09  Tor Lillqvist  <tml@novell.com>\n\n\t* libgsf-zip.in: Fix typo.\n\n2006-11-05  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2006-11-05  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.3\n\n2006-11-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read) : add some debug\n\t  spew to help track the OOo prop warnings.  Looks like an OOo\n\t  problem.\n\n2006-11-03  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_prop_free), gsf/gsf-infile-ar.c\n\t(ar_dirent_free), gsf/gsf-infile-msole.c (gsf_infile_msole_read),\n\tgsf/gsf-input-textline.c (gsf_input_textline_finalize), gsf/gsf-input.c\n\t(gsf_input_finalize), gsf/gsf-outfile-msole.c\n\t(gsf_outfile_msole_finalize): simplified as g_free handles NULL\n\tproperly. Fixes #369663.\n\n2006-10-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c (meta_write_props) : clean up the code to\n\t  handle missing values and invalid properties.\n\n2006-10-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c (meta_write_props) : OLE2 stores a single\n\t  string, ODF stores a vector.\n\n2006-10-02  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2006-09-26  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.2\n\n2006-09-26  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (test_python): Fix python tests.\n\n2006-09-24  Jody Goldberg <jody@gnome.org>\n\n\tPatch from Robert:\n\t* autogen.sh : Check srcdir for the extra macros.\n\t* python/Makefile.am : Include srcdir.\n\n2006-09-24  Jody Goldberg <jody@gnome.org>\n\n\tPatch from Ivan:\n\t* configure.in : conditionalize the python checks.\n\n2006-09-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (push_child) : Handle namespaces internally by id\n\t  rather than object pointer.  We don't actually need the struct and\n\t  the code is simpler when using ids.\n\t(lookup_child) : ditto.  No need for a verbose warning if the document\n\t  does not yet define a namespace.\n\t(gsf_xml_in_start_element) : warn when we find an unknown namespace uri.\n\t(gsf_xml_in_doc_free) : now that we are using ids, the ns_by_id array\n\t  goes away.  We did not really need it.\n\t(gsf_xml_in_doc_new) : Get rid of ns_by_id and use ids directly.  This\n\t  fixes support for multiple uris with the same id (common when\n\t  versioning)\n\t(gsf_xml_in_doc_new) : Be sure to look up the parent of the e_node,\n\t  not the node already in the tree to fix the multple decl handling.\n\n2004-07-16  Stepan Kasal  <kasal@ucw.cz>\n\n\tYES, 2004!.  Commit an ancient patch that was forgotten.\n\n\tCleanup of test-*msole*.c examples.\n\t* tests/test-cp-msole.c:\n\t* tests/test-dump-msole.c:\n\t* tests/test-restore-msole.c:\n\t* tests/test-msole1.c:\n\t* tests/test-msole2.c:\n\t* tests/test-msole-printf.c:\n\n2006-09-23  Jody Goldberg <jody@gnome.org>\n\n\tPatch from Frederic Peters : #354690\n\t* python/Makefile.am : Link to our version of libgsf, not the system.\n\n2006-09-18  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_uncompress): Use correct HAVE_ symbol\n\tfor bzip2 and fix typo.  Fixes #356391.\n\n2006-09-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_init_info): Silence a warning issued\n\tfor an only marginally bogus file.  See bug 346118.\n\t(ole_dirent_new): Always treat the root directory as a directory,\n\teven if the file claims otherwise.  See bug 346118.\n\n\t* tools/gsf.c (gsf_dump_props): Print proper filename in error\n\tmessage.\n\n2006-08-28  Wouter Bolsterlee  <uws+gnome@xs4all.nl>\n\n\t* thumbnailer/gsf-office-thumbnailer.schemas.in: Trivial\n\tpatch to install all the schemas in the correct place.\n\tFixes bug #353216.\n\n2006-08-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_init_info) : Add validation in case\n\t  ::num_metabat too large for the ::num_bats.\n\n2006-08-19  Jody Goldberg <jody@gnome.org>\n\n\thttp://bugzilla.gnome.org/show_bug.cgi?id=352055\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read) : do not generate\n\t  an error when given an empty property file.  It's not a perfect\n\t  solution but it will be what most people want.\n\n2006-08-19  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_prop_dump) : new.\n\t(cb_print_property) : split out from here.\n\n\t* tools/gsf.c (gsf_dump_props) : new.\n\t(main) : Add 'props' command to dump metadata.\n\n2006-06-30  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read): Validate\n\tnum_props a little bit.  (#346189, Michal Kowalczuk)\n\n2006-06-14  Jody Goldberg <jody@gnome.org>\n\n\tFrom Dannym.\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_prop) : Fix export of\n\t  R8.  Typo was using SET_FLOAT rather than SET_DOUBLE.\n\n2006-05-26  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_prop_set_link) : as per Federico's\n\t  note.  Handle the case of @link being the result of\n\t  gsf_doc_prop_get_link.\n\t(gsf_doc_prop_set_val) : ditto.\n\n2006-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (vba_dir_read) : dump as xml.\n\t  This is still a cheesy hack, but at least it does something useful.\n\n2006-05-18  Jody Goldberg <jody@gnome.org>\n\n\t* thumbnailer/gsf-office-thumbnailer.schemas.in : Add OpenOffice 1.0\n\t  mime types and missing OpenDocument types.\n\n2006-05-08  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2006-05-08  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.1\n\n2006-05-02  Jody Goldberg <jody@gnome.org>\n\n\tFrom : Ronan MELENNEC <ronan.melennec@cena.fr>\n\t* gsf/gsf-timestamp.c (gsf_timestamp_as_string) : make it clear that\n\t  the time stamp is in UTC.\n\n2006-05-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf.c (main): New (uninstalled) beginning of a tar-like\n\tprogram.\n\n2006-04-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (GsfXMLOut) : added 'pretty-print' property to\n\t  optionally disable auto indenting of output.\n\n2006-04-18  Jody Goldberg <jody@gnome.org>\n\n\tFrom: Xavier Roche <roche@exalead.com>\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : Fix over zealous boundary\n\t  check for wide character string properties.  There are _two_ bytes\n\t  per character.\n\n2006-04-21  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_cstr): Drop characters 1-8, 11,\n\t12, 14-31 on the floor.  The XML 1.0 spec does not allow them.\n\tBandaids #339335.\n\n2006-04-15  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_check_ns) : handle default namespaces\n\t  properly.\n\t(gsf_xml_in_namecmp) : ditto.\n\n2006-04-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_as_string) : single digit seconds\n\t  should pad with 0.\n\n2006-04-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_sibling) : fix docs.\n\n2006-04-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_init_info): Constrain big blocksize\n\tto be no bigger than file size.\n\n2006-04-07  Jody Goldberg <jody@gnome.org>\n\n\thttp://bugzilla.gnome.org/show_bug.cgi?id=336858\n\t* gsf/gsf-infile-msole.c (ole_info_read_metabat) : handle situation\n\t  where an entire metabat is unused.  We don't have any normative docs\n\t  on what that indicates but this seems relatively safe.\n\n2006-04-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_check_ns) : check the current default\n\t  namespace too.\n\t(gsf_xml_in_namecmp) : ditto.\n\t(gsf_xml_in_start_element) : improve the warning for unexpected\n\t  elements.\n\n\t* gsf/gsf-blob.h : deprecate the non-standard name 'GSF_TYPE_BLOB'\n\t  and add GSF_BLOB_TYPE.\n\n\t* doc/gsf-docs.sgml : fix up the organization a bit.\n\t* doc/gsf-sections.txt : ditto.\n\n2006-03-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_parse): Set new member\n\tstate.initialized.\n\t(gsf_xml_in_start_document): Ditto.\n\t(gsf_xml_in_end_document): Avoid crashing if not initialized.\n\tWorks around #335152.\n\n2006-03-08  Morten Welinder  <terra@gnome.org>\n\n\t* doc/Makefile.am (manpagedir): Fix #316107.\n\n2006-03-07  Eduardo Lima <eduardo.lima@indt.org.br>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_prop_free): Ensure that\n\tprop->linked_to is valid before free it.\n\t(gsf_doc_prop_set_val): Just unset and free prop->val if it is not\n\tNULL.\n\t(gsf_doc_prop_set_link): Just free prop->linked_to if it is not NULL.\n\n2006-03-06  Ivan, Wong Yat Cheung <ivanwong@gnome.org>\n\n\t* configure.in: detect gmtime/gmtime_r\n\t* gsf/gsf-timestamp.c: various fixes to enable compilatioon on win32\n\n\t* thumbnailer/Makefile.am: disable running of gconftool when\n\tcross-compile\n\n2006-03-03  Jody Goldberg <jody@gnome.org>\n\n\t* thumbnailer/main.c (call_convert) : use -thumbnail rather than -resize\n\t  to handle transparent backgrounds.  I can not find normative docs on\n\t  this but it seems to do the right thing.  It seems like we also want\n\t  '+matte'\n\n2006-03-02  Eduardo Lima <eduardo.lima@indt.org.br>\n\n\t* gsf/gsf-docprop-vector.c (gsf_docprop_vector_as_string) : no need\n\t  to call g_value_unset () because g_value_array_get_nth () returns\n\t  just a pointer to the value.\n\n2006-03-02  Luciano M. Wolf <luciano.wolf@indt.org.br>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_keyword) : init the value to string\n\t  before storing the result.\n\n2006-03-02  Jody Goldberg <jody@gnome.org>\n\n\t* thumbnailer/gsf-office-thumbnailer.schemas.in : Add the opendoc\n\t  types to the schema.  Need to check the older OOo 1.x formats before\n\t  we can add them.\n\n2006-03-02  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2006-03-02  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.0 / 1.13.99 (for Novell)\n\n2006-03-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_opendoc_metadata_write) : enabled.\n\t(meta_write_props) : new.\n\t(gsf_opendoc_metadata_read) : handle keywords.\n\t(od_meta_keyword) : ditto.\n\n2006-03-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_meta_dump) : Move this here from\n\t  test-msole1.\n\n2006-03-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_parse) : enable this.  keep the\n\t  cheesy name to avoid api changes.\n\t  (gsf_timestamp_as_string) : sync with timestamp_parse.\n\n2006-02-26  Jody Goldberg <jody@gnome.org>\n\n\t* thumbnailer/main.c (read_thumbnail_and_write) : split out ole2\n\t  handling into.\n\t(msole_thumbnail) : here.\n\t(zip_thumbnail) : and add a quick call to unzip for ODF.  We can tack\n\t  on MS Office Open when docs become available.\n\n2006-02-25  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-input-textline.c, gsf/gsf-input-textline.h, gsf/gsf-libxml.c,\n\tgsf/gsf-outfile-zip.c, gsf/gsf-output.c, gsf/gsf-utils.c: Documentation work.\n\n2006-02-16  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_document): Plug leaks.\n\t(gsf_xml_in_start_element): Fix key used for inserting into\n\tstate->ns_prefixes hash.\n\n2006-01-21  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_parser_context_full): Fix a\n\thypothetical leak.\n\n2006-02-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_seek): Plug leak by\n\tshutting down the old stream properly.\n\n2006-02-15  Morten Welinder  <welinder@rentec.com>\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_seek):\n\n2006-02-04  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Add \"sv\" to ALL_LINGUAS.\n\n2006-01-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_parser_context_full) : set\n\t  xmlParserCtxt::replaceEntities.  This fixes parsing problems with\n\t  attributes that contain &amp;\n\n2006-01-08  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-impl-utils.h (GSF_CLASS_FULL): Wrap (type==0) by G_UNLIKELY.\n\n2006-01-06  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-clip-data.c (gsf_clip_data_finalize): Bug 325989 - Memory\n\tleak in gsf_clip_data_finalize(). Based on a patch from Michal\n\tKowalczuk.\n\n2006-01-02  Stepan Kasal  <kasal@ucw.cz>\n\n\t* doc/tmpl/*.sgml: Cleanup errors introduced by gtk-doc, #318666.\n\n2005-12-24  Stepan Kasal  <kasal@ucw.cz>\n\n\t* doc/developer/blocksize.html: New file in a new subdir.\n\t* doc/Makefile.am: Distribute it.\n\n2005-12-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-iconv.c (iconv_flush): Fix handling of partial\n\tinput sequences.   Fixes #323503.\n\n2005-11-16  Tor Lillqvist  <tml@novell.com>\n\n\t* configure.in: Calculate CURRENT_MINUS_AGE as the libtool version\n\tinfo's CURRENT - AGE and AC_SUBST it. This number gets used in the\n\tDLL name, and thus needed in libgsf-zip.\n\n\t* libgsf-zip.in: Use CURRENT_MINUS_AGE. DLLs are always in \"bin\"\n\tnowadays. Build packages for gsf-gnome, too.\n\n\t* gsf/gsf-utils.c: Use G_WIN32_DLLMAIN_FOR_DLL_NAME to get DLL\n\tname, use g_win32_get_package_installation_directory() to\n\tconstruct locale directory name at run-time on Win32.\n\n\t* tests/*.c: Initialize GError pointers to NULL.\n\n\t* thumbnailer/Makefile.am (install-data-local): Workaround for\n\tMSYS feature that causes problems when running gconftool on Win32.\n\n2005-11-07  Kjartan Maraas  <kmaraas@gnome.org>\n\n\t* gsf-win32/Makefile.am: Unbreak the build\n\t* gsf/Makefile.am: Same here.\n\n2005-11-07  Ivan, Wong Yat Cheung <ivanwong@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c: use /* FIXME FIXME FIXME Blah Blah */\n\tinstead of #warning for non-gcc compilers. (#306740)\n\n2005-11-07  Ivan, Wong Yat Cheung <ivanwong@gnome.org>\n\n\t* Makefile.am:\n\t* configure.in:\n\t* dumpdef.in: New\n\t* gsf.mk: New\n\t* gsf/Makefile.am:\n\t* gsf-gnome/Makefile.am:\n\t* gsf-win32/Makefile.am:\n\tFor Win32 Only: 1.) For every source directory of a library, pass all\n\tthe public headers (with all #include removed) to the C preprocessor.\n\t2.) Pass the result from 1. to a perl script which extracts names of\n\tall the public functions and variables. 3.) Concat all from step 2. to\n\tproduce a single .def file at the top directory of the library. No\n\t--export-all-symbols anymore.\n\n\t* gsf/.cvsignore:\n\t* gsf-win32/.cvsignore:\n\tShutup CVS.\n\n2005-11-07  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-11-06  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.13.3\n\n2005-11-06  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-timestamp.h: Dropped two superfluous declarations.\n\t* doc/gsf-sections.txt: Mark internal symbols as subsection \"Private\"\n\tso as not to be counted for coverage stats.\n\t* doc/tmpl/*.sgml: Cascaded updates.\n\n2005-11-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (push_child) : apply extension if one was supplied.\n\t(lookup_child) : pass the extension to push_child.\n\t(gsf_xml_in_start_element) : if none of the current node's children\n\t  match, check for extensions.\n\t(gsf_xml_in_ext_free) : new.\n\t(gsf_xml_in_end_element) : free any extensions.\n\t(gsf_xml_in_push_state) : handle an extension that adds children to\n\t  the current node vs an extension to add a handler for an unknown node.\n\n2005-11-05  Jody Goldberg <jody@gnome.org>\n\n\tPatch from Luciano Miguel Wolf <luciano.wolf@indt.org.br>\n\t* gsf/gsf-opendoc-utils.c (od_get_meta_prop) : fix typo.\n\n2005-11-05  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf-docs.sgml: Fleshed things out a bit.\n\n2005-11-04  Christian Neumair  <chris@gnome-de.org>\n\n\t* libgsf-gnome-1.pc.in: Add required packages to Requires field.\n\n2005-11-01  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* README: Updated list archive URL. (Debian #336699)\n\n2005-10-30  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-infile-ar.c, gsf/gsf-infile-msole.c, gsf/gsf-infile-zip.c,\n\tsf/gsf-infile.c, gsf/gsf-input-textline.c, gsf/gsf-input.c,\n\tgsf/gsf-libxml.c, gsf/gsf-outfile-msole.c, gsf/gsf-outfile-zip.c,\n\tgsf/gsf-output-transaction.c, gsf/gsf-output.c,\n\tgsf/gsf-structured-blob.c: Minor documentation work.\n\n2005-10-29  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf-docs.sgml: Add OpenDoc documentation.\n\t* gsf/gsf-timestamp.c, gsf/gsf-utils.c, doc/tmpl/compression.sgml,\n\tdoc/tmpl/gsf-opendoc-utils.sgml, doc/tmpl/msole.sgml,\n\tdoc/tmpl/utils.sgml, doc/tmpl/zip.sgml: Add some basic documentation.\n\n2005-10-26  Stepan Kasal  <kasal@ucw.cz>\n\n\t* tests/test-dump-msole.c: Improve the description line in the top\n\tcomment; remove an unused #include.\n\t* tests/test-restore-msole.c: Likewise.\n\n2005-10-17  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-libxml.c (lookup_child): `inst' is a local variable, not\n\t  a parameter.\n\n\t* doc/gsf.types: Add #include <gsf/gsf-shared-memory.h> to fix a\n\t  warning.\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_init): Initialize eol_len, too.\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.13.2\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\tDOH!\n\t* gsf/gsf-libxml.c (gsf_xml_in_end_element) : clear the content before\n\t  we pop the node.\n\t(gsf_xml_in_doc_new) : restore the hack to handle bools in\n\t  has_content.  There are still several callers that are passing bool.\n\t(gsf_xml_in_doc_new) : Fix bogus typo that was crashing everything.\n\t(gsf_xml_in_doc_new) : Init root_node\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.13.1\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_end_element) : Clean up after\n\t  extensions.  If the extensions was created by an unknown handler we\n\t  do not need to do anything special.  If it was created by a start\n\t  handler then there are effectively two nodes for one parse state,\n\t  loop back to clear the original.\n\t(gsf_xml_in_push_state) : finally get an api that will be able to do\n\t  what we'll need.\n\n2005-10-04  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-10-04  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.13.0\n\n2005-10-03  Sven Herzberg  <herzi@gnome-de.org>\n\n\tGot okay from Morten for this:\n\n\t* gsf-gnome/gsf-output-gnomevfs.c: create the file if necessary; fixes\n\tbug 317766\n\n2005-10-02  Jody Goldberg <jody@gnome.org>\n\n\tFrom :  Luciano Wolf (luciano.wolf@indt.org.br)\n\t* gsf/gsf-opendoc-utils.{c,h} : new\n\t* gsf/Makefile.am : Add gsf/gsf-opendoc-utils.{c,h}\n\n2005-10-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (glade_enum_from_string) : imported from goffice.\n\t(glade_flags_from_string) : ditto.\n\t(gsf_xml_gvalue_from_str) : ditto.\n\t(lookup_child) : break this out of.\n\t(gsf_xml_in_start_element) : here.\n\t  Add a new flags to node 'share_children_with_parent' this is allows\n\t  all of a nodes siblings to work as mutual children.  Eg for\n\t  <b><i><u> for rich text which need to nest arbitrarily.\n\t(gsf_xml_in_doc_parse) : renamed from gsf_xml_in_parse.\n\t  Takes a GsfXMLInDoc rather than a GsfXMLIn.  This is useful to keep\n\t  the lifecycle of the GsfXMLIn more under our control.  We intialize\n\t  it not the caller.  People no longer need to inherit/contain it, now\n\t  they store their state seperately.\n\n2005-10-02  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : bump the version to 1.13.0 due to the xml changes.\n\t  Add -Wno-pointer-sign to make the warnings stop.\n\t* doc/gsf-sections.txt : update\n\t* doc/gsf.types : update\n\n2005-10-01  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in (VERSION_INFO): Fix the definition, add a comment.\n\n2005-09-18  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in: Make sure that the Automake conditional\n\t  GCONF_SCHEMAS_INSTALL is always set.\n\t* msvc/README: Don't mention packages which are not prerequisities\n\t  of libgsf.\n\n2005-09-16  Stepan Kasal  <kasal@ucw.cz>\n\n\t* doc/gsf-sections.txt: Add gsf_input_stdio_new_FILE.\n\n2005-09-06  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-09-06  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.12.3\n\n2005-08-24  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : Make gconf optional\n\t* Makefile.am : ditto.\n\n2005-08-22  Jody Goldberg <jody@gnome.org>\n\n\t* gsf-gnome/Makefile.am : Add -no-undefined on win32 [#314221]\n\n2005-08-19  Tim Janik  <timj@imendio.com>\n\n\t* gsf/gsf-outfile-zip.c (zip_close_stream): call deflateEnd, free\n\tstream and buffer space, so we are not holding on to large amounts\n\tof memory until we're done with the current directory.\n\n2005-08-17  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf-office-thumbnailer.1: Added.\n\t* doc/Makefile.am: Updated accordingly.\n\n2005-08-16  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in: Update obsolete AC_TRY_* macros.\n\tBefore the tests for g_chmod and g_access, LIBGSF_LIBS should be\n\t_prepended_ to LIBS, not appended; more specific libs have to be\n\tlisted first.\n\t* gsf/gsf-impl-utils.h: Align tabs.\n\n2005-08-13  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post release bump\n\n2005-08-13  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.12.2\n\n2005-08-11  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/gsf-impl-utils.h: made GSF_CLASS_FULL and GSF_DYNAMIC_CLASS_FULL\n\treally full.\n\n2005-08-09  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Changed tests for g_chmod and g_access: actually try\n\tlinking the test fragments and use the LIBS being constructed in those\n\tattempts.\n\n2005-08-09  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Test for g_chmod and g_access.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close): Use the right\n\terrno.  Fixes part of #312930.\n\t(chmod_wrapper): New function to help Win32.\n\t(access_wrapper): Renamed from gsf_access and simplified.\n\n2005-08-09  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* thumbnailer/main.c (show_error_and_exit): Mark this G_GNUC_NORETURN\n\tas well.\n\n2005-08-08  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* *: Updated the FSF's address.\n\n2005-08-07  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new_FILE): Don't forget\n\t  to set the keep_open flag.\n\t* thumbnailer/main.c (show_error_string_and_exit): Add G_GNUC_NORETURN.\n\n2005-08-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : be more careful\n\n2005-08-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new_FILE): New function\n\tfor symmetry.  (This is not as useful as it might seem since the\n\tfile must be seekable.)\n\n2005-08-02  Stepan Kasal  <kasal@ucw.cz>\n\n\t* Makefile.am (clean-local): That rule contained command\n\t  \"rm -f intl/po2tbl.sed\".  But it seems the subdirectory intl/ is\n\t  no longer used.\n\t(ACLOCAL_AMFLAGS): Remove again.\n\t(EXTRA_DIST): Remove files added by gettextize and files distributed\n\t  by default.\n\t(DISTCLEANFILES): Add the three intltool-* scripts.\n\t* configure.in (GCONFTOOL): Determine by a procedure similar to\n\t  what is in gnumeric/configure.in.\n\t* thumbnailer/Makefile.am (install-data-local): Fix the rule so that\n\t  we pass distcheck.\n\t* acinclude.m4, acinclude.m4.am15: Partial cleanup of the comments;\n\t  in particular, don't speak as if Automake 1.5 were something new.\n\n2005-07-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_set_name_from_filename): Make this\n\twork for NULL filename.\n\n2005-07-30  Jody Goldberg <jody@gnome.org>\n\n\thttp://bugzilla.gnome.org/show_bug.cgi?id=310118\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_prop) : be more careful\n\t  about NULL strings.  This fixes the crash on export, but there are\n\t  still some warnings on import that put us into an inconsistent\n\t  state.\n\t(msole_prop_parse) : In the LPSTR case use the actual byte size not\n\t  the result of the conversion.  If the encoding is off, we ended up\n\t  with the wrong size.\n\n2005-07-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-msole-utilc.c (msole_prop_parse): Move some g_prints behind\n\t  a debug macro.\n\n2005-07-19  Federico Mena Quintero  <federico@ximian.com>\n\n\t* thumbnailer/main.c (main): Oops, remove some leftover debugging code.\n\n\t* configure.in: Generate thumbnailer/Makefile.  Add a test for GConf.\n\n\t* Makefile.am (SUBDIRS): Added the thumbnailer directory.\n\n\t* gsf/gsf-utils.c (gsf_init): Call bindtextdomain() and\n\tbind_textdomain_codeset().\n\n\t* gsf/gsf-clip-data.c: Mark strings for translation.\n\n\t* gsf/gsf-blob.c: Likewise.\n\n\t* gsf/gsf-msole-utils.c: Mark strings in GErrors for translation.\n\n\t* gsf/Makefile.am (AM_CPPFLAGS): Add the locale directory.\n\n2005-07-19  gettextize  <bug-gnu-gettext@gnu.org>\n\n\t* Makefile.am (SUBDIRS): Add po.\n\t(ACLOCAL_AMFLAGS): New variable.\n\t(EXTRA_DIST): Add config.rpath, m4/ChangeLog.\n\t* configure.in (AC_CONFIG_FILES): Add po/Makefile.in.\n\n2005-07-19  Federico Mena Quintero  <federico@ximian.com>\n\n\t* configure.in: Pull in intltool and gettext.\n\n\t* thumbnailer/gsf-office-thumbnailer.schemas.in: New file with the\n\tschemas for the thumbnailer.\n\n2005-07-18  Federico Mena Quintero  <federico@ximian.com>\n\n\t* thumbnailer/main.c: New file with a very simple GNOME\n\tthumbnailer for MS Office files.  This will grow to something more\n\tsophisticated in the future.\n\n\t* thumbnailer/Makefile.am: New file.\n\n\tI'll add this subdir to the build tomorrow, when I get the GConf\n\tbits right for configure.in.\n\n2005-07-18  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_free): In the description, remove\n\tthe reference to the nonexistent gsf_xml_in_doc_prep.\n\n2005-07-07  Ivan, Wong Yat Cheung  <email@ivanwong.info>\n\n\t* msvc/.cvsignore:\n\t* msvc/README:\n\t* msvc/config.dsp:\n\t* msvc/install.pl:\n\t* msvc/autom4te.hack: New\n\tInclude a hacked version autoheader that doesn't need a posix\n\tenvironment. The whole MSVC building process is now posix-\n\tindependent.\n\n2005-07-06  Federico Mena Quintero  <federico@ximian.com>\n\n\t* gsf/gsf-blob.[ch]: New files with a GsfBlob object, used to hold\n\tgeneric binary data.\n\n\t* gsf/gsf-clip-data.[ch]: New files with a GsfClipData object,\n\tused to hold the VT_CF property data.\n\n\t* gsf/gsf-msole-utils.c (parse_vt_cf): New function; creates a\n\tGsfClipData for the resulting GValue.\n\t(msole_prop_parse): Handle the VT_CF property.\n\n\t* gsf/gsf-utils.h (GSF_ERROR): Add a generic error quark.\n\t(GsfError): Add an enum with generic error values; so far we only\n\thave GSF_ERROR_OUT_OF_MEMORY and GSF_ERROR_INVALID_DATA.\n\n\t* gsf/gsf-utils.c (gsf_error_quark): Implement.\n\n\t* gsf/Makefile.am: Added gsf-blob.[ch] and gsf-clip-data.[ch].\n\n\t* doc/gsf-sections.txt: Added sections for GsfBlob and\n\tGsfClipData.  Added the GsfError stuff to the \"utils\" section.\n\n\t* doc/gsf-docs.sgml: Add the GsfBlob and GsfClipData sections.\n\tRenamed the old \"GsfBlob\" entity to \"GsfStructuredBlob\", to match\n\tthe object to which it refers.\n\n\t* doc/tmpl/utils.sgml: Document the GError bits.\n\n\t* doc/tmpl/gsf-clip-data.sgml: New file.\n\n\t* doc/tmpl/gsf-blob.sgml: New file.\n\n2005-07-05  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_prop): Fix\n\tVT_FILETIME export.\n\n2005-07-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-memory.c (gsf_output_memory_vprintf): Don't use a\n\tva_list twice as an argument.  (The standard does not allow that.)\n\tFixes i86_64 problems and was found by Jean.\n\n\t* gsf/gsf-utils.c (gsf_mem_dump_full): Kill a warning.\n\n2005-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_iconv_get_codepage_string_list) :\n\t  Add 0x8001 as a synonym for 1252 as per the OOo docs.  I wish there\n\t  was something more normative than that.\n\n\t* gsf/gsf-docprop-vector.c : remove custom GTypeValueTable it was\n\t  wrong and unnecessary.  This fixes the leak of the GValueArray\n\n2005-06-30  Ivan, Wong Yat Cheung  <email@ivanwong.info>\n\n\t* win: Rename to msvc\n\t* msvc: Add MSVC build files, see msvc/README for\n\t  details.\n\n2005-06-23  Ivan, Wong Yat Cheung  <email@ivanwong.info>\n\n\t* configure.in: Check for the existence of S_ISREG,\n\t  if it is not defined (e.g. MS's PSDK), do\n\t  it ourself.\n\n2005-06-21  Ivan, Wong Yat Cheung  <email@ivanwong.info>\n\n\t* gsf/gsf-input-stdio.c:\n\t* gsf/gsf-libxml.c:\n\t* gsf/gsf-msole-utils.c:\n\t* gsf/gsf-outfile-msole.c:\n\t* gsf/gsf-outfile-stdio.c:\n\t* gsf/gsf-output-stdio.c:\n\t* gsf/gsf-timestamp.c:\n\t* gsf/gsf-utils.h\n\t* gsf-win32/gsf-input-win32.c:\n\t* gsf-win32/gsf-output-win32.c: Remove all #warning. That is\n\t  a gcc only directive. Use /* FIXME FIXME FIXME Blah Blah */ instead.\n\t  Remove all _MSC_VER, which are either unnecessary or not belong\n\t  there.\n\n2005-06-13  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Use g_value_set_uint64\n\tand g_value_set_int64 where appropriate.\n\t(msole_prop_cmp): Handle offsets larger than int.\n\n2005-06-12  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-06-12  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.12.1\n\n2005-06-12  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_lid_to_codepage) : codepages are\n\t  signed.\n\t(gsf_msole_iconv_win_codepage) : ditto.\n\t(gsf_msole_iconv_open_codepages_for_export) : ditto.\n\t(gsf_msole_iconv_open_codepage_for_export) : ditto.\n\t(gsf_msole_iconv_get_codepage_string_list) : ditto.\n\t  -535(uint16) == 65001\n\n2005-06-12  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-impl-utils.h (GSF_DYNAMIC_CLASS_FULL) : remove useless\n\t  trailing backslash that was confusing gtk-doc\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new_valist) : new.\n\t(gsf_output_stdio_new_full) Use it here.\n\t(gsf_output_stdio_new) : And use that here.\n\t* gsf/gsf-outfile-stdio.c (gsf_output_stdio_new_valist) : new.\n\t(gsf_outfile_stdio_new_full) Use it here.\n\t(gsf_outfile_stdio_new) : And use that here.\n\n2005-06-10  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_enum): New function.\n\n2005-06-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Test\n\tdirectory-ness of the right mode.\n\n2005-06-04  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-output.h (gsf_output_vprintf): Add the function attribute\n\t  G_GNUC_PRINTF (2, 0).  Add the same to various static *vprintf\n\t  funtions in other files.\n\t* gsf/gsf-output-csv.c (gsf_output_cvs_close): The parameter is\n\t  unused, mark it as such.\n\n\t* .cvsignore: Add gtk-doc.make; remove gsf-config; replace stamp-h\n\tand stamp-* by stamp-h*.\n\n2005-06-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.h (gsf_init_dynamic) : new hook.  Unimplemented yet.\n\n\t* gsf/gsf-impl-utils.h (prefix) : use a cleaner pattern for the\n\t  dynamic type/interface declarations.\n\n2005-06-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_vt_name) : suppress warning\n\t(msole_prop_parse) : assign the right type.\n\n2005-06-02  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-outfile-zip.c (zip_flush): Check for Z_BUF_ERROR case.\n\tThis is the cause of AbiWord bug #7652\n\n2005-06-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_float): Use \"C\" locale\n\tconventions.  Fix ambiguities in docs.\n\n2005-06-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_read): Only trigger the\n\ttruncated-file check after we have added a single NUL byte.\n\t(check_header): Avoid overflows.\n\n2005-05-31  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_read) : get upset when an input\n\t  file is truncated.\n\t(check_header) : Add a heuristic to warn about files with > 1000:1\n\t  compression ratios.  It is crude but likely to catch the worst\n\t  truncated files were we're using data rather than a trailer by\n\t  accident.\n\n2005-05-31  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_parse) : add some protection.\n\n2005-05-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_section) : warning\n\t  suppression.\n\t(msole_prop_parse) : it seems GValue needs to be a G_OBJECT in order\n\t  for it to be unrefed.\n\n2005-05-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-docprop-vector.c (gsf_docprop_vector_finalize) : patch leak.\n\n2005-05-25  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (CFLAGS): Don't use -Wcrazy.\n\n2005-05-15  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Enable a number of additional warnings (when available)\n\tfor which the current code base is already virtually clean.\n\tEnsure at link time that the shared objects, contain complete\n\tdependency information for all symbols they use from elsewhere.\n\n2005-05-10  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-05-09  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.12.0\n\n2005-05-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (ole_bytes_left_in_block) : As per Stuart\n\t  Cunningham from the AAF group the header is always bb.size.\n\t(gsf_outfile_msole_new_full) : ditto.  pad the header with zeros.\n\n2005-05-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : Do not check for a\n\t  namespace we have not seen yet.  Fixes crash when reading OOo 2.0\n\t  with the dtd from 1.0\n\n2005-05-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_check_ns) : Add some safety.\n\n2005-05-04  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_vt_name) : handle sparse entries.\n\n2005-05-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_write) : complete rewrite.\n\t  Just write the properties then seek back to fill in the offsets\n\t  rather than measuring then writing.\n\t(cb_count_props) : new. collect builtin vs user defined props\n\t from the hash.\n\t(msole_metadata_write_section) : new. write the props and collect the\n\t  offsets and ids.  Handle linked props, vectors and variant vectors.\n\t(msole_metadata_write_prop) : Adds padding to the simple types.\n\t(gvalue_to_msole_vt) : map from a GValue to a variant type.  Be smart\n\t  about handling boxed types, and check vectors to see if they are\n\t  fixed type vs variant.  Use the table of builtin types if possible\n\t  to deal with ambiguities.\n\t(cb_write_dict) : new.\n\t(msole_vtname) : new util to get debug name.\n\n2005-04-27  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_property_settings_collect,\n\tgsf_property_settings_collect_valist, gsf_property_settings_free):\n\tNew functions.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_new): Move guts into\n\tgsf_outfile_zip_constructor.\n\t(gsf_outfile_zip_constructor): New function.\n\t(gsf_outfile_zip_class_init): Link in gsf_outfile_zip_constructor.\n\tAdd entry-name and sink properties.  In the process separate\n\tfilenames from gsf_output_name which is UTF-8 encoded.\n\t(stream_name_write_to_buf): Greatly simplify using GString.\n\n\t* gsf/gsf-infile-zip.c: New property \"source\".  Install a proxy\n\tlayer between the zip file and the source so we don't dup\n\tGsfInputStdio or GsfInputGnomeVFS objects (which is expensive and\n\tsubject to lots of problems).\n\n2005-04-26  Morten Welinder  <terra@gnome.org>\n\n\t* tests/test-cp-zip.c (clone): Be a bit verbose.  Make the copy\n\tuse the compression levels of the source.\n\n\t* gsf/gsf-outfile-zip.c: Add construct-only compression-level\n\tproperty.\n\t(gsf_outfile_zip_set_compression_method): Make this an empty stub\n\tand deprecate.\n\n\t* gsf/gsf-zip-utils.c (gsf_vdir_add_child): Do not sort because\n\tdoing so breaks copying of OOo files.\n\n\t* gsf/gsf-infile-zip.c: Add readable compression-level property.\n\t(vdir_child_by_index): simplify.  (This is really use\n\tg_slist_nth_data, modulo pointer types.)\n\n2005-04-26  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (cb_measure_props) : handle custom props for\n\t  ints and uints.\n\n2005-04-26  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_gsf_name_to_prop) : fix my silliness\n\t(check_variant) : new.\n\t(cb_measure_props) : renamed from add_props.  Signature changed to\n\t  match the new foreach semantics.  Some initial work on handling\n\t  variant vectors vs single type vectors.  Removed nasty kludge for\n\t  DocumentParts and HeadingPairs.\n\n\t* gsf/gsf-docprop-vector.c (gsf_value_get_docprop_vector) : Use\n\t  g_value_get_object and clarify the docs.\n\t(gsf_value_set_docprop_vector) : delete\n\t(VAL_IS_GSF_DOCPROP_VECTOR) : new.\n\t(IS_GSF_DOCPROP_VECTOR) : adjust to use the std GObject semantics\n\n2005-04-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.h (gsf_doc_prop_new) : new\n\t(gsf_doc_prop_free) : new\n\t(gsf_doc_prop_swap_val) : new\n\n\t* gsf/gsf-msole-utils.c : disable the debug spew\n\n2005-04-22  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in: Use m4 macros for version numbering.\n\n2005-04-16  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-msole1.c : update for the new ms-ole property import api\n\n\t* gsf/gsf-msole-utils.c : disable debug spew\n\t(msole_prop_id_to_gsf) : flag links\n\t(msole_prop_read) : store the property directly.\n\t(msole_prop_store) : delete.\n\n2005-04-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-docprop-vector.c (gsf_value_get_docprop_varray) : Add some\n\t  safety.\n\n2005-04-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.[ch] : Major interface changes to make the\n\t  hash like behavior perfectly clear, and to support links.\n\n2005-04-16  Jody Goldberg <jody@gnome.org>\n\n\t* doc/gsf-sections.txt :  update\n\n2005-04-12  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: revert last change.\n\n2005-04-12  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in: Small changes in the pygtk check, though it's\n\t  currently not in use.\n\n2005-04-11  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-msole1.c: Make the test program work.\n\n2005-04-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_write) : replace incessant\n\t  if (success) with a 'goto err' and prune more non-C89 var decls\n\n2005-04-09  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile.h : remove G_GNUC_NULL_TERMINATED for now.\n\t  we do not want to require glib-2.7\n\n2005-04-09  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-impl.h (new_child) : change the signature to pass in\n\t  var_args.  Changed all callers.\n\n\t* gsf/gsf-outfile.c (gsf_outfile_new_child_full) : new.\n\t(gsf_outfile_new_child) : convert into a wrapper to\n\t  gsf_outfile_new_child_full.\n\t* gsf/gsf-input.c (gsf_input_error_id) : renamed from gsf_input_error\n\t  and a deprecated wrapper with the old name.\n\t* gsf/gsf-docprop-vector.c (gsf_value_get_docprop_varray) : new.\n\t* gsf/gsf-infile-msvba.c (vba_project_read) : add a few new\n\t  signatures.\n\n2005-04-09  Jody Goldberg <jody@gnome.org>\n\n\tFrom Manuel Mausz <Manuel.Mausz@fabasoft.com>\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_write) : initial\n\t  implementation.\n\n2005-04-07  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : bump the library version to indicate api change\n\n2005-04-04  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in (LIBGSF_MODULES): This macro was replaced by...\n\t(libgsf_reqs, libgsf_gnome_reqs): ... these two shell variables.\n\tPKG_CHECK_MODULES from pkconfig-0.16.0 double quotes its arguments,\n\twhich is an error; using shell variables is a handy workaround.\n\t* Makefile.am: Clean up.\n\t* test/Makefile.am (LDADD): Use this, instead of the per-target\n\t  variables.\n\n2005-04-04  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_write_field): Fix auto\n\tquoting.\n\n\t* gsf/gsf-output-iconv.h: Make GsfOutputIconvClass public.\n\t* gsf/gsf-output-impl.h: Make GsfOutputClass public.\n\t* gsf/gsf-output-csv.h: Make GsfOutputCsvClass public.\n\n2005-04-03  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Fixed the GNOME support check: \"LIBGSF_MODULES\" needed\n\tto be expanded in the PKG_CHECK_MODULES.\n\n2005-04-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-iconv.c: New file.\n\t* gsf/gsf-output-csv.c: New file.\n\n\t* gsf/gsf-output.c (gsf_output_dispose): Silently close if needed.\n\n2005-04-01  Stepan Kasal  <kasal@ucw.cz>\n\n\ts/INCLUDES/AM_CPPFLAGS/  \"automake -Wall\" has told me this.\n\n\t* configure.in: More sophisticated check for zlib, an improved\n\t  version of the check in gnumeric (to be removed soon from there),\n\t  which in turn was inspired by libxml2's configure.in.\n\t  Require Autoconf 2.54 and other cosmetic changes.\n\t* autogen.sh: Require Autoconf 2.54 and other cosmetic changes.\n\n2005-03-31  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_set_error): Make public.\n\n\t* */*.c: Don't test for NULL before g_free.\n\n\t* gsf/gsf-utils.h (GSF_LE_GET_GINT64, GSF_LE_SET_GINT64,\n\tGSF_LE_SET_GUINT64): New macros for completeness.\n\n2005-03-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-impl-utils.h (GSF_PARAM_STATIC): Define suitably.\n\t* gsf/*.c: Use GSF_PARAM_STATIC for properties.\n\n\t* configure.in: Don't check for readline and lstat.  Do check for\n\tmode_t.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Again use mode_t\n\tfor saved umask.\n\n2005-03-28  Morten Welinder  <terra@gnome.org>\n\n\t* */*.c: Use canonical property names.\n\n2005-03-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close): In case of\n\terror, simply unlink the temporary file and leave the target file\n\talone.\n\n\t* gsf/gsf-output-gzip.c (gzip_output_block): If we cannot write to\n\tthe sink, set an error for ourself.\n\t(gzip_flush): If we get a compression failure, set an error for\n\tourself.\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_class_init): Install\n\tset_property, get_property, and constructor methods.\n\t(check_header): Allow skipping the header.  Allow getting\n\tuncompressed size from construction property.\n\t(gsf_input_gzip_read): Allow having to trailer.\n\t(gsf_input_gzip_dup): Cleanly construct the new object.\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_class_init): Rename\n\t\"container\" property to \"raw\" with opposite semantics.\n\n2005-03-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_set_property): Handle\n\tNULL sink better.\n\t(gsf_output_gzip_new): Don't bother closing the output on error.\n\n\t* gsf/gsf-output.c (gsf_output_dispose): Renamed from _finalize.\n\tDon't complain when a stream with an error is not closed -- just\n\tsilently close it.\n\t(gsf_output_class_init): Hook up for _dispose instead of\n\t_finalize.\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_close): Do nothing for a\n\tstream with an error.\n\n2005-03-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_class_init): Install\n\tset_property, get_property, and constructor methods.\n\t(gsf_output_gzip_constructor): Allow skipping the gzip header.\n\t(gsf_output_gzip_close): Allow skipping the tail.\n\n2005-03-24  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_access): Renamed from\n\tfile_is_writable.  Make it a full access wrapper.  Caller changed.\n\n2005-03-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_filename_to_utf8): Make this sane (which it\n\tnever was).  We no longer use this, but keep it around.\n\t(gsf_extension_pointer): Fix this for Win32.\n\n2005-03-23  Ivan, Wong Yat Cheung <email@ivanwong.info>\n\n\t* gsf/gsf-msole-utils.c: Add new function\n\tgsf_msole_iconv_get_codepage_string_list() which returns all\n\tpossible names of a codepage given a codepage number. This helps\n\tgsf_msole_iconv_open_codepage_for_(im|ex)port().\n\t* gsf-win32/Makefile.am: some more minor changes so that\n\tlibgsf_win32_1_la can be built as dll.\n\n2005-03-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (follow_symlinks): Handle lack of ELOOP.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): g_open has a\n\tmandatory mode arg that open does not.\n\n2005-03-22  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (close_tag_if_neccessary): New function.\n\t(gsf_xml_out_add_cstr_unchecked, gsf_xml_out_add_cstr): Use\n\tclose_tag_if_neccessary.  Patch from #167166.\n\n2005-03-22  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Conditionalize\n\towner/group stuff on HAVE_CHOWN.  Use file_is_writable.\n\t(file_is_writable): New function.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Use f_open, not\n\topen.\n\n\t* gsf/gsf-outfile-stdio.c (gsf_outfile_stdio_new): Simplify using\n\tg_mkdir.\n\n\t* configure.in: Require glib 2.6 for g_filename_display_name.\n\n\t* gsf/gsf-output-stdio.c (rename_wrapper): Use g_rename and\n\tg_unlink.\n\t(gsf_output_stdio_new): Use g_stat.  Fix error message.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek): Don't call perror.\n\t(struct GsfInputStdio): Add filename member.\n\t(gsf_input_stdio_finalize): Free filename member.\n\t(gsf_input_stdio_dup): Use filename member.\n\t(gsf_input_stdio_new): Fix error messages; initialize filename\n\tmember; use g_fopen to open file.\n\n\t* gsf/gsf-docprop-vector.c: Fix includes.\n\n\t* gsf/gsf-infile-stdio.c (gsf_infile_stdio_new): Simply using\n\tglib's GDir stuff.  (This should fix Win32 in the process.)\n\n2005-03-05  Jody Goldberg <jody@gnome.org>\n\n\tPatch from Frank Chiulli\n\t* gsf/Makefile.am : Add gsf-docprop-vector\n\t* gsf/gsf-docprop-vector.{c,h} : new files to add vector support\n\t* tests/test-msole1.c (print_property) : support for vectors\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : ditto\n\n2005-02-02  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-gnomevfs.c: A bit more robustness and documentation\n\tfor bug 159442.\n\n2005-01-16  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-gnomevfs.c: This should fix bug 159442 by truncating\n\tnewly-created files whenever possible WHILE preserving file permissions.\n\n2004-09-25  Stepan Kasal <kasal@ucw.cz>\n\n\t* gsf/gsf-output-stdio.c: Use g_file_read_link() - (bug 149827)\n\n2004-12-02  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-memory.c: Add mmap support on win32 (bug #160294)\n\t* gsf/gsf-shared-memory.c: Ditto\n\n2004-12-06  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2004-12-06  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.11.1\n\n2004-12-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close): Flush file if\n\twe don't close it.\n\n2004-12-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Make sure new\n\tfiles end us with as lose permissions as the umask says.\n\t[#159331]\n\t(rename_wrapper): New function to hide the fact that Win32's\n\trename does not unlink the target file if it exists.  [#160108]\n\n2004-11-28  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : Post release bump\n\n2004-11-28  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.11.0\n\n2004-11-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : NULL unhandled types\n\n2004-11-25  Sven Herzberg  <herzi@gnome-de.org>\n\n\t* gsf-gnome/gsf-output-gnomevfs.c: (gsf_output_gnomevfs_new_uri):\n\ttruncate the output file to length 0 when opening (fix #159442)\n\n2004-11-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close) : add a hook to\n\t  accept existing FILE*\n\t(gsf_output_stdio_new_FILE) : new.\n\n2004-11-19  Veerapuram Varadhan <vvaradhan@novell.com>\n\n\t* Add gsf/gsf-meta-names.h\n\n\t* gsf/gsf-doc-meta-data.[ch] (gsf_get_prop_val,\n\tgsf_get_prop_val_str): new\n\t(gsf_doc_meta_data_get_prop) : return GsfDocProp instead of\n\tGsfDocMetaData.  Caller should release the return value.\n\n\t* gsf/Makefile.am : Add gsf-meta-names.h to the list of headers.\n\n2004-11-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : Check the unknown\n\t  handler if we come across something that has not been registered\n\t  yet.\n\t(gsf_xml_in_doc_set_unknown_handler) : new.\n\t(gsf_xml_in_doc_new) : split part of this out into\n\t(gsf_xml_in_doc_extend) : here, so that we can add nodes to a\n\t  description later.\n\n2004-11-12  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_cstr): Escape 1..31 when used\n\tin attributes.\n\n2004-11-02  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-msole1.c (test) : fix leak and use\n\t  gsf_msole_metadata_read_real.\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read) : store them in\n\t  GsfDocProp\n\t(gsf_msole_metadata_read_real) : renamed from gsf_msole_metadata_read\n\t(gsf_msole_metadata_read) : a quick stub to avoid creating a leak in\n\t  existing calls to this routine.\n\n2004-11-02  Jody Goldberg <jody@gnome.org>\n\n\tFrom Frank\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read) : store the\n\t  properties\n\t* tests/test-msole1.c (test) : dump the properties\n\t* gsf/Makefile.am : Add gsf-doc-meta-data.c to the build\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_meta_data_set_prop) : init\n\t  the GValue before we assign.\n\n2004-09-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/*.c: Remove useless casts of 0 to gsf_off_t in parameters.\n\n\t* gsf/gsf-output.c (gsf_output_set_name_from_filename): New function.\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Use\n\tgsf_output_set_name_from_filename.\n\t* gsf/gsf-outfile-stdio.c (gsf_outfile_stdio_new): Use\n\tgsf_output_set_name_from_filename.\n\n\t* gsf/gsf-input.c (gsf_input_set_name_from_filename): New function.\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Use\n\tgsf_input_set_name_from_filename.\n\t* gsf/gsf-infile-stdio.c (gsf_infile_stdio_new): Use\n\tgsf_input_set_name_from_filename.\n\n\t* gsf/gsf-infile-zip.c (zip_update_stream_in): Add seek error check.\n\t(gsf_infile_zip_read): Ditto.\n\n2004-09-19  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* configure.in: Morten's VFS local copy requires VFS >= 2.2. Upgrade configure check.\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri): Follow symlinks similarly to the STDIO input\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Convert file name to UTF8\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Convert file name to UTF8\n\t* BUGS: remove above\n\n2004-09-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Fix gsf_input_seek\n\tcheck.\n\n\t* gsf/gsf-input.c: Doc fixes, notably reversing the sense of\n\tgsf_input_seek_emulate's return value.\n\n2004-09-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri):\n\tForce local copy for small (<256KB) files that are not local.\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new): Add a proxy layer\n\tso we don't have to dup files or net connections.\n\n\t* gsf/gsf-input.c (gsf_input_dup): Provide error messages.\n\n\t* gsf/gsf-input-proxy.c (gsf_input_proxy_read): gsf_input_read\n\tupdates our position so we should not.\n\n\t* gsf/gsf-input-proxy.[ch]: New file.\n\n2004-09-16  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_dup): Set size.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_dup): Set size.\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_seek): Ugly\n\twork-around for gnome-vfs bug.\n\n\t* gsf/gsf-input.c (gsf_input_dup): Check size and seek return\n\tvalue.\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_name): Protect against\n\tNULL input name.\n\t(gsf_infile_child_by_index): Ditto.\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new_child): Handle\n\tfailure to dup.\n\t(ole_info_get_sb_file): Handle failure to dup.\n\t(gsf_infile_msole_new_child): Handle failure from\n\tole_info_get_sb_file.\n\n2004-09-15  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-win32/gsf-input-win32.c: Create more meaningful error messages\n\tfrom HRESULTs.\n\t* gsf-win32/gsf-output-win32.c: Ditto. Add error reporting.\n\n2004-08-27  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_seek): Use G_GNUC_UNUSED.\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_seek): Likewise.\n\t* gsf/gsf-structured-blob.c (blob_dup): Likewise.\n\t* gsf/gsf-input-textline.c (gsf_input_textline_dup): Likewise.\n\t* gsf/gsf-input-memory.c (gsf_input_memory_dup): Likewise.\n\t(gsf_input_mmap_new): Remove useless #warning.\n\n2004-08-26  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-shared-memory.c (gsf_shared_memory_finalize): Don't\n\tcheck size overflow here.\n\t(gsf_shared_memory_mmapped_new): Check it here.  Return NULL if we\n\tdon't have mmap.\n\n\t* gsf/gsf-timestamp.c (gsf_value_set_timestamp): Renamed from\n\tg_value_set_timestamp.\n\n2004-08-25  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close_root): Be careful\n\t  with empty files (fixes bug #150923).\n\n2004-08-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_base64_encode_step): Avoid potential\n\trounding error.\n\n\t* gsf/gsf-input-bzip.c (gsf_input_memory_new_from_bzip): Kill\n\tpointless #warning.\n\n2004-08-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_cstr) : Add some libxml compat\n\t  behavior and ignore NULLs\n\t(gsf_xml_out_add_cstr_unchecked) : ditto\n\n2004-08-17  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-utils.c (BASE64_LINE_LEN): New constant to determine\n\t  the line length, my mbox indicates that 76 is commonly used.\n\t(gsf_base64_encode_simple): Use it.\n\t(gsf_base64_encode_step): Use it too; remember that `already'\n\t  holds line length / 4.\n\t(gsf_base64_encode_close): Don't add '\\n' if not necessary.\n\n2004-07-29  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_new_full): One more sanity\n\t  check, bb.size has to be at least DIRENT_SIZE.\n\t(gsf_outfile_msole_close_root): For non-root dirs, don't set\n\t  FIRSTBLOCK to DIRENT_MAGIC_END, it is BAT_MAGIC_END_OF_CHAIN; though\n\t  both are -1.  Explanation: BAT_MAGIC_END_OF_CHAIN is of type ``block\n\t  number'' while DIRENT_MAGIC_END is of type ``dirent number''.\n\n2004-08-20  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2004-08-20  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.10.1\n\n2004-08-17  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-utils.c (gsf_base64_decode_simple): Revert base64\n\tinitialization change.\n\n2004-08-16  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_base64_encode_simple): Request line\n\tbreaking.\n\n2004-08-13  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-utils.c (gsf_base64_decode_simple): Initialize during\n\tfirst use.\n\n2004-08-10  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_utf8_gets): Fix\n\toff-by-one in buffer length check.\n\n2004-08-08  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output-stdio.c (follow_symlinks, gsf_output_stdio_new):\n\tUse g_error_new_literal, not g_error_new on strings which we do\n\tnot control.\n\n2004-07-30  Christopher James Lahey  <clahey@ximian.com>\n\n\t* gsf/gsf-input.c (gsf_input_class_init), gsf/gsf-output.c\n\t(gsf_output_class_init): Use correct types for properties here.\n\n2004-07-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_class_init) : Init the parent_class\n\t  here.\n\t(gsf_xml_out_init) : not here.\n\n2004-07-27  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_new_full):\n\t  Fix a race condition with a static buffer.\n\t  Write correct sb.shift to the header, even if it differs\n\t  from the default.\n\n2004-07-29  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (ole_bytes_left_in_block) : sigh.\n\t  Pull my head out of my rearend.  a one line function with two\n\t  errors.  I really shouldn't code when tired.\n\t(ole_pad_zero) : remove residual parm rename ole_ from bb_\n\t(ole_pad_bat_unused) : add a residual parm.\n\t(gsf_outfile_msole_close_root) : pad metabat with BAT_UNUSED\n\n2004-07-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Use NULL, not 0 for\n\tpointer.\n\t(gsf_input_memory_seek): Use G_GNUC_UNUSED instead of\n\tvoid-casting.\n\n\t* gsf/gsf-libxml.c (gsfXMLInParser): Ditto.\n\t(gsf_xml_in_get_entity, gsf_xml_in_warning, gsf_xml_in_error,\n\tgsf_xml_in_fatal_error): Use G_GNUC_UNUSED instead of\n\tvoid-casting.\n\t(gsf_xml_out_add_color): Make buffer size overflow safe.\n\n\t* gsf/gsf-utils.c: Always #define G_ARMFLOAT_ENDIAN.\n\n2004-07-28  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close_root):\n\t  Check for overflow of the size field of a regular file entry.\n\n2004-07-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (bb_pad_zero) : add a residual param to not\n\t  fill the entire block if desired and clarify that the current block\n\t  is cur_size - HEADER not block_size.\n\t(gsf_outfile_msole_close_root) : Clarify the metabat writing logic a\n\t  bit and just in case add a CHAIN_END to the last incomplete metabat\n\t(ole_bytes_left_in_block) : similar to Kasal's suggestion without the\n\t  -1 % size + 1\n\t(bb_pad_zero) : use it here to make this safe to use when not at the\n\t  end of the file.\n\t(ole_pad_bat_unused) : and here to fix the mystery corruption when XL\n\t  reads the file.\n\n2004-07-27  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close_root) : the last\n\t  xbat does not require a forwarding link\n\n2004-07-27  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-msole.c (metabat_size): Nuke; doesn't have to\n\t  be an instance variable, it can be local ...\n\t(gsf_outfile_msole_close_root): ... here.\n\t(gsf_outfile_msole_set_block_shift): Don't set metabat_size.\n\n2004-07-26  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (OLE_DEFAULT_METABAT_SIZE): delete\n\t(gsf_outfile_msole_close_root) : pull out of\n\t(gsf_outfile_msole_close) : here as a cleanup gesture.\n\n\tPer : Stepan Kasal  <kasal@ucw.cz>\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_set_block_shift) : Use\n\t  BAT_INDEX_SIZE, not hardwired shift of 2.\n\t(gsf_outfile_msole_close): Use the current sb.shift, not\n\t  OLE_DEFAULT_SB_SHIFT.\n\n2004-07-23  Stepan Kasal  <kasal@ucw.cz>\n\n\tReplace various instances of local parent_class variables by\n\ta static ones, initialized by class_init.\n\t* gsf/gsf-*.c: (20 files touched)\n\t* gsf/gsf-output-transaction.c: A general cleanup.\n\n2004-07-21  Stepan Kasal  <kasal@ucw.cz>\n\n\tThe gsf_ouput_printf method didn't correctly update cur_offset.\n\n\tThe implementations of vprintf virtual method shouldn't touch\n\tcur_offset but they should return the number of bytes written;\n\tthe dispatcher updates cur_offset accordingly.\n\n\t* gsf/gsf-output-impl.h (Vprintf): The virtual private method now\n\t  returns number of bytes printed.\n\t* gsf/gsf-output.c (gsf_output_vprintf): Renamed to ...\n\t  (gsf_output_ireal_vprintf): ... this.\n\t  (gsf_output_printf): Collect the va_list and call ...\n\t  (gsf_output_vprintf): ... this new function, which dispatches\n\t  the Vprintf virtual method and takes care of updating cur_offset\n\t  and cur_size, via ...\n\t  (gsf_output_inc_cur_offset): ... a new static function, extracted\n\t  from ...\n\t  (gsf_output_write): ... there.\n\t  (gsf_output_real_vprintf): In this fallback code, don't call\n\t  gsf_output_write, but only dispatch to the Write virual method,\n\t  so that gsf_output_inc_cur_offset is not called twice.\n\t* gsf/gsf-output.h (gsf_output_vprintf): New public method.\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_vprintf): Adapt.\n\t* gsf/gsf-output-transaction.c (gsf_output_trans_vprintf): Likewise.\n\t* gsf/gsf-outfile-msole.c (gsf_output_class): New static variable,\n\t  which is set to point to GsfOutput class structure.\n\t  (gsf_outfile_msole_vprintf): Adapt. If it's a MSOLE_BIG_FILE,\n\t  call vprintf method of the underlaying file, else fall back to\n\t  gsf_output_class->Vprintf.\n\t* gsf/gsf-output-memory.c (parent_class): New static variable.\n\t  (gsf_output_memory_vprintf): Use it too. Adapt to the new prototype.\n\n2004-07-21  Stepan Kasal  <kasal@ucw.cz>\n\n\tMake the two fseek() wrappers more consistent.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek): Fix the overflow\n\t  checking.\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Set errno=0\n\t  before calling fseek().\n\n2004-07-21  Stepan Kasal  <kasal@ucw.cz>\n\n\tGnomish autogen.sh uses ACLOCAL_FLAGS, if some of the macros are\n\tin nonstandard places.  If you touch configure.in then, aclocal.m4\n\tis regenerated, but without ACLOCAL_FLAGS.  This change ensures\n\tthat ACLOCAL_FLAGS is propagated to the Makefile.\n\n\t* configure.in: AC_SUBST(ACLOCAL_FLAGS)\n\t* Makefile.am: ACLOCAL_AMFLAGS = @ACLOCAL_FLAGS@\n\n2004-07-20  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-output-stdio.c: Check for overflow\n\n2004-07-09  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Remove the\n\t  \"overflow check\"; it can never catch anything.\n\n\t* gsf/gsf-output-memory.c (MAX_STEP): Parenthesize.\n\t(gsf_output_memory_expand): Fix the overflow checking.\n\t(gsf_output_memory_seek): make use of G_GNUC_UNUSED, instead of void\n\t reference.\n\n2004-07-12  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-output-iochannel.c (GET_OUTPUT_CLASS): Remove unused macro.\n\t* gsf/gsf-structured-blob.c (GET_CLASS): Likewise.\n\n2004-06-15  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_input_dump) : flush the stream when we're just\n\t  using stdio.\n\n2004-07-04  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: recheck all PKG_CHECK_MODULES for libgsf for\n\tlibgsf-gnome as well, so as not to trip on unresolved symbols with a\n\t-Wl,-z,defs build.\n\n2004-07-03  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2004-07-03  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.10.0\n\n2004-07-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_vprintf) : premature\n\t  optimization is the root of all evil.  We can not directly write\n\t  small block data because it will be in the wrong place and will miss\n\t  the transition to large block.  This is not a hugely common case and\n\t  does not need such special attention.\n\n2004-06-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek) : conditionalize the\n\t  use of fseeko.\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek) : ditto.\n\t* gsf/gsf-outfile-msole.c : Extend Stuart's work to use the internal\n\t  block sizes rather than keeping them global.\n\n2004-06-25  Jody Goldberg <jody@gnome.org>\n\tFor : Stuart Cunningham <stuartc@rd.bbc.co.uk>\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek) : use fseeko\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek) : ditto.\n\t* gsf/gsf-outfile-msole.c : rework to honor the requested block sizes\n\n2004-06-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri):\n\tDon't leak info components.  Handle lack of get_file_info\n\tsupports.  Rework make_local_copy case.  Work around gnomevfs\n\tget_file_info bogosity.\n\n2004-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : bump to 1.10.0 to handle all the signature changes in\n\t  return values.\n\t* *.[ch] : return the interesting base type rather than the derived\n\t  type for *_new.\n\n2004-06-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new): Change\n\treturn type to plain GsfInput*.\n\t(gsf_input_gnomevfs_new_uri): Change return type to plain\n\tGsfInput*.  If seek is not supported, snarf a local copy.\n\n2004-06-06  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new): Better\n\tsolution for Morten's problem.\n\n2004-05-26  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new): Handle\n\tfailure to parse URI.\n\n2004-05-20  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-outfile-stdio.c: mkdir() has a different prototype on win32\n\n2004-05-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : work around odd files from\n\t  softmaker, seems like they consider dirs to be rootdirs ??\n\n2004-05-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_le_get_double, gsf_le_set_double): Attempt\n\tARM fix.  Fix various #error messages.\n\n2004-05-15  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2004-05-15  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.9.1\n\n2004-05-11  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_set_doc_type) : new.\n\n\t* doc/gsf-sections.txt : more cleanup, still ugly but at least it's\n\t  somewhat better.\n\t* doc/gsf-docs.sgml : drop the useless Gsf section\n\n2004-05-09  Jody Goldberg <jody@gnome.org>\n\n\t* s/ZipDirent/GsfZipDirent\n\t* s/ZipVDir/GsfZipVDir\n\n2004-05-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-infile-zip.c: Don't pollute the global namespace\n\t* gsf/gsf-outfile-zip.c: Ditto\n\t* gsf/gsf-zip-impl.h: Ditto\n\t* gsf/gsf-zip-utils.c: Ditto\n\n2004-05-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-infile-stdio.c: Fix non-static definition of 'parent_class'\n\t* gsf/gsf-outfile-stdio.c: Ditto\n\n2004-05-07  James M. Cape <jcape@ignore-your.tv>\n\n\t* doc/gsf-sections.txt: Hide type macros.\n\t* gsf/gsf-output.c: s/<protected>/<note>/.\n\n2004-05-06  Jody Goldberg <jody@gnome.org>\n\n\thttp://bugzilla.gnome.org/show_bug.cgi?id=141899\n\t* doc/Makefile.am : Apply patch from James Cape\n\n2004-05-05  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/Makefile.am: Install docs in the $(DOC_MODULE) subdir of\n\t$(HTML_DIR) rather than in $(HTML_DIR) itself.\n\n2004-05-05  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2004-05-04  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.9.0\n\n2004-05-04  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : support merging of\n\t  content from a node and some of it's children\n\t(gsf_xml_in_end_element) : ditto.\n\t(gsf_xml_in_characters) : ditto.\n\t(sf_xml_in_doc_new) : kludge to support the old interface but still\n\t  allow new semantics.\n\n2004-05-01  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri) : Don't\n\trequire gnome-vfs-method.h\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_output_gnomevfs_new_uri): we\n\trequire random access.\n\n\t* gsf-win32/gsf-input-win32.c: fix seek's return value in the win32\n\tIStream input.\n\n2004-04-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri) : we\n\t  require random access.\n\n2004-04-26  Jody Goldberg <jody@gnome.org>\n\n\t* doc/Makefile.am : steal a few things from gtk-doc.make to get things\n\t  building.  A full jump to gtk-doc.make directly is failing, dunno\n\t  why\n\n\t* Makefile.am : Remove the AUTOMAKE_OPTIONS = 1.4 that disabled the\n\t  DISTCHECK_CONFIGURE_FLAGS\n\n2004-04-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : placate the bogus\n\t  -fstrict-aliasing gods.  gcc is being stupid.\n\n\t* configure.in : call this 1.9.0\n\n2004-04-27  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-bzip.c (gsf_output_bzip_write): If the output\n\tbuffer turns full on the last deflate, empty the buffer.\n\n2004-04-24  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_write): If the output\n\tbuffer turns full on the last deflate, empty the buffer.\n\n2004-04-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_seek) : fix sense\n\t  of return.  This code is clearly not being used.  A year and a half\n\t  and no one noticed ???\n\n2004-03-31  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Plug leak.\n\n2004-03-31  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c (find_match):\n\tsize limit the matches to the available bits for\n\tstoring the match length (doh). & make debug nicer.\n\n2004-03-16  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_finalize): Chain up.\n\t* gsf/gsf-shared-memory.c (gsf_shared_memory_finalize): Chain up.\n\t* gsf-gnome/gsf-shared-bonobo-stream.c\n\t(gsf_shared_bonobo_stream_finalize): Chain up.\n\n2004-03-12  Michael Meeks  <michael@ximian.com>\n\n\t* gsf/gsf-infile-msvba.c (vba_dir_read),\n\t* tests/test-msvba-zip.c (decode_dir):\n\tsimplify / treat op 9 as the quirk-meister.\n\n2004-03-11  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c (decode_dir): better\n\tquirk understanding.\n\t(find_match): remove unnecessary hacks.\n\n2004-03-10  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c (decode_dir): impl.\n\ta good run at enterpreting 'dir'.\n\n\t* tests/test-msvba-zip.c (do_compress): bin nasty\n\t3 byte header store / restore and generate header\n\ton the fly.\n\n2004-03-09  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c (find_match): shrink dodgy\n\tlooking matches.\n\n2004-03-08  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c (output_match): add a\n\tsmall/stupid LZSS compressor.\n\n2004-03-08  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c: add for compressing/decompressing\n\t'dir' (or other pure compressed) streams.\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_inflate): move from\n\t* gsf/gsf-infile-msvba.c (gsf_vba_inflate): here.\n\n2004-03-01  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : drop -Wmissing-format-attribute because it was\n\t  irritating me.\n\n2004-03-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-stdio.c :\n\t* gsf/gsf-infile-stdio.c : Some utility wrappers to pull or push from\n\t  a directory tree.\n\t* tests/test-dump-msole.c :\n\t* tests/test-restore-msole.c : tests for it.\n\n2004-02-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* configure.in: Add Win32 stuff\n\t* libgsf-win32-1.pc.in: Ditto\n\t* Makefile.am: Ditto\n\t* gsf-win32/Makefile.am: Win32 build system\n\n2004-02-05  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Fix typo.\n\n2004-02-05  Tomasz K\u00b3oczko <kloczek@pld.org.pl>\n\n\t* Makefile.am: Added \"DISTCHECK_CONFIGURE_FLAGS = --enable-gtk-doc\"\n\t  for force correct pass build documentation during \"make dist\"\n\t  (like in many other GNOME projects).\n\t  Added gtk-doc.make to EXTRA_DIST for generate correct tar ball on\n\t  \"make dist\".\n\t* configure.in: Removed old on place defined gtk-doc suport and added use\n\t  GTK_DOC_CHECK([1.0]).\n\n2004-01-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_fatal_error) : Looks like Daniel has\n\t  added another field\n\n2004-01-30  Jody Goldberg <jody@gnome.org>\n\n\thttp://bugzilla.gnome.org/show_bug.cgi?id=130596\n\t* configure.in : apply the patch\n\nWed Jan 28 00:43:36 2004  Matthias Clasen  <maclas@gmx.de>\n\n\t* doc/Makefile.am (EXTRA_HFILES): Add ../gsf-gnome/*.h to give\n\tgtk-doc a chance to pick up declarations from there.  (Partial fix\n\tfor bug #132661.\n\n2004-01-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : minor portability fix.\n\n2004-01-18  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-msole-utils.c: Country code for Albania is sq_AL not al_AL\n\t* gsf-win32/*.c: Some work on the IStream input and output\n\n2003-12-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/*.c: Documentation\n\n2003-12-06  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c : Major work.\n\t  We can now extract the compressed source for all of our sample\n\t  files.  There's still lots of unknowns, but at least the code\n\t  is visible now.  The next step will be looking at the p-code\n\n2003-11-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_input_hex_dump) : new.\n\t(gsf_mem_dump_full) : expand the interface a bit.\n\n2003-11-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/Makefile.am (uninstall) : make the impl headers for the base\n\t  interfaces public.\n\n2003-10-29  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : The anal check should\n\t  take the prevailing char width also as noted by Xavier Roche.\n\n\t* gsf/gsf-infile-msole.c (ole_init_info) : Doh!  do not double convert\n\t  to native endianness.  Fixes error reading files > 13.6 Meg on sparc\n\t  and alpha as noted by Xavier Roche.\n\n2003-10-21  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c : Make the codepage arguments int to allow\n\t  smooth handling of bogus files that encode the codepage as an int\n\t  and break the utf-8 page '65001' because it looks like -535\n\n2003-10-09  Jody Goldberg <jody@gnome.org>\n\n\t* libgsf-gnome-1.spec.in : An old patch from Joseph Frazee\n\n2003-09-29  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new) : as noted by Nick\n\t  Lamb a failure should not change the file pos of @input.\n\n2003-09-23  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : downgrade.  No need to force a version bump yet.\n\t* gsf/gsf-libxml.c (gsf_xml_parser_context_full) : use a _full version\n\t  internally because that seems cleaner than manually tweaking pointers.\n\t  However, its a cosmetic change and not worth a version bump.\n\n2003-09-22  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : jump to 1.9.0 for api change.\n\n\t* gsf/gsf-libxml.c :  Initialize sax handler correctly to make sure\n\t  they work with libxml2 2.6.0.\n\t(gsf_xml_parser_context) : take a sax handler and user data so taht we\n\t  can initialize it on creation.\n\n2003-09-21  Tor Lillqvist  <tml@iki.fi>\n\n\t* libgsf-zip.in: New file.\n\n\t* configure.in: Expand it.\n\n\t* Makefile.am (EXTRA_DIST): Distribute it.\n\n2003-09-13  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump to 1.8.3 for now.\n\t  If this becomes the basis for the interleaved write support it will\n\t  jump to 1.9 without a release.\n\n2003-09-12  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.8.2\n\n2003-09-12  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : libole2 depends\n\t  on all entries having names.  Hard code 'Root Entry' for the root.\n\n2003-08-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* win/libgsf.ds*: Add win32 project files, from Jeremy Davis\n\t* gsf/*: Some casts and ifdefs to let this puppy build on win32 using\n\tMSVC. Also from Jeremy Davis, with some touch-up work by myself.\n\t* configure.in: check for <io.h>\n\n2003-08-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c : some initial work to define an interface\n\t  for using non-default block sizes.  We're just managing these values\n\t  not using them yet.\n\n2003-08-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_make_bat) : weaken the post condition\n\t  from error -> warning in the event that a BAT is missing a valid\n\t  terminator.  We've already loaded a BAT, and we're sure that it is\n\t  not too big.  Hopefully this will allow some of the data to be\n\t  restored.\n\n2003-08-01  Jody Goldberg <jody@gnome.org>\n\n\tFor Stuart Cunningham <stuartc@rd.bbc.co.uk>\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_read) : another patch to\n\t  fix non-default sector size support.\n\n2003-07-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (zip_dup) : take an error arg.\n\t(zip_child_init) : ditto.\n\t(gsf_infile_zip_dup) : use the error from zip_dup and zip_child_init.\n\n\t* gsf/gsf-infile-impl.h : Take GError args for child_by_* virtuals.\n\t  We can not expose them yet.\n\t* gsf/gsf-structured-blob.c (blob_child_by_index) : fix here.\n\t(blob_child_by_name) : and here.\n\t* gsf/gsf-infile-ar.c : and here.\n\t* gsf/gsf-infile-msvba.c : and here.\n\n\t* gsf/gsf-infile-msole.c (ole_dup) : catch gsf_input_dup failures\n\t  for the underlying source, and take a GError arg.\n\t(gsf_infile_msole_dup) : pass the new err arg to ole_dup and use error\n\t  from ole_dup directly.  No need to cruft another one up.\n\t(gsf_infile_msole_new_child) : Take a GError arg to pass to ole_dup.\n\n2003-07-15  Jody Goldberg <jody@gnome.org>\n\n\tFor Stuart Cunningham <stuartc@rd.bbc.co.uk>\n\t* gsf/gsf-infile-msole.c (ole_get_block) : fix ole block seeking in\n\t  4k-sector files\n\n2003-07-03  Jody Goldberg <jody@gnome.org>\n\n\tFor : Stuart Cunningham <stuartc@rd.bbc.co.uk>\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : store the directory's CLSID\n\t(gsf_infile_msole_get_class_id) : new.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : store the CLSID\n\t(gsf_outfile_msole_set_class_id) : new.\n\t(gsf_outfile_msole_init) : be really anal and ensure the CLSID is 0.\n\n2003-07-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new_child) : Even if a\n\t  directory claims to have a size set it to 0.  Thanks to the AAF\n\t  people for the test case.\n\n2003-06-28  Jody Goldberg <jody@gnome.org>\n\n\t* doc/Makefile.am : fix the case when gtk-doc is not available\n\n2003-06-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_read): Handle premature end\n\tof stream.\n\n2003-06-21  Jody Goldberg <jody@gnome.org>\n\n\tAs per ryang@bway.org :\n\t* README : s/automake/autoconf/ and add automake details.\n\n2003-06-15  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Remove test for obsolete orbit-python module.\n\n2003-06-09  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* debian/*: Updated debianisation.\n\n2003-06-07  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2003-06-07  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.8.1\n\n2003-06-06  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_simple_int_element) : new util.\n\t(gsf_xml_out_simple_float_element) : ditto.\n\n2003-05-14  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/Makefile.am: Added $(LIBGSF_LIBS) to libgsf_1_la_LIBADD to get\n\tcomplete inter-library dependency information.\n\n2003-05-13  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* COPYING.LIB: update the the version of the LGPL license we're\n\tactually licensed under\n\n2003-05-13  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* libgsf-1.spec.in: Updates from Rui\n\n2003-05-12  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_finalize): Plug\n\ttruck-sized leak.\n\n2003-05-12  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2003-05-11  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.8.0\n\n2003-04-29  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-win32/gsf-input-istream.[ch]: IStream based input. Untested\n\t* gsf-win32/gsf-output-istream.[ch]: IStream based output. Untested\n\n2003-04-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c\n\t(gsf_msole_iconv_open_codepage_for_import): Try MACROMAN as alias\n\tfor 10000.\n\n2003-04-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c\n\t(gsf_msole_iconv_open_codepage_for_import): Remove code\n\tduplication.\n\n2003-04-21  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : terminate the name before\n\t  conversion.\n\n2003-04-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): FREEBSD have broken\n\tmmap -- we must keep the file descriptor around.\n\n2003-04-09  Jody Goldberg <jody@gnome.org>\n\n\tFrom Xavier Roche <roche@exalead.com>\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : gsize is not always\n\t  guinit32.  Fixes sparc-64 problem.\n\t* gsf/gsf-infile-msvba.c (vba3_dir_read) : ditto.\n\n2003-04-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-impl-utils.h : Add utils for objects in plugins\n\n2003-03-20  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* configure.in: Better checks for bz2\n\n2003-03-20  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-bzip.c (gsf_input_memory_new_from_bzip): Warning\n\tkiller.\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_new): Kill warning.\n\n2003-03-09  Jody Goldberg <jody@gnome.org>\n\n\t* Relicense from GPL -> LGPL\n\n2003-03-05  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* NEWS: update for correctness and mention AR infile\n\t* README: typo police\n\n2003-03-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c : More morten  warnings\n\n2003-03-05  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_seek): Fix return type.\n\n\t* gsf/gsf-input.c (gsf_input_seek): Fix failure return.\n\n2003-03-05  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-infile.c (gsf_infile_num_children): Fix failure return\n\tvalue.\n\t(gsf_infile_name_by_index): Ditto.\n\t(gsf_infile_child_by_index): Ditto.\n\t(gsf_infile_child_by_name): Ditto.\n\t* gsf/gsf-outfile.c (gsf_outfile_new_child): Ditto.\n\n2003-03-04  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-zip-impl.h: s/off_t/gsf_off_t\n\t* gsf/gsf-infile-ar.[ch]: AR infile. DOES NOT YET WORK\n\n2003-02-23  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input.c (gsf_input_copy): remove == TRUE for Morten\n\n2003-02-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input.c (gsf_input_uncompress): Support uncompressing BZ2\n\tstreams as well, optionally\n\n2003-02-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-bzip.c: Restructure things so that it's possible to\n\tbuild without bzip2 support\n\n2003-02-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-textline.c: Replace g_realloc with g_renew\n\t* gsf/gsf-output-memory.c: Ditto\n\n2003-02-21  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-bzip.c: Implement this\n\t* gsf/gsf-input-memory.[ch]: New function: gsf_input_memory_new_clone\n\t* gsf/Makefile.am: Build bz2 importer, distribute header\n\t* tests/test-bzip.c: New test\n\t* tests/Makefile.am: Add new test\n\n2003-02-20  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-bzip.[ch]: Stubs for a BZ2 input I'm working on\n\n2003-02-18  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input.c (gsf_input_class_init): Install GObject properties\n\t(gsf_input_get_property): Ditto\n\t(gsf_input_set_property): Ditto\n\n\t* gsf/gsf-output.c (gsf_output_class_init): Install GObject properties\n\t(gsf_output_get_property): Ditto\n\t(gsf_output_set_property): Ditto\n\n2003-02-14  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* configure.in: Emit a warning instead of breaking if VFS and Bonobo\n\taren't found, but --without-gnome wasn't specified. Makes the KDE folk\n\thappy.\n\n2003-02-11  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : compartmentalize the bzip config tests, and trust\n\t  libtool for the dependent libraries enough to not mention them in\n\t  the pkg-config file\n\n\t* gsf/gsf-output-bzip.c : improve the conditionalization.\n\n\t* gsf/gsf-input-iochannel.c (gsf_input_memory_new_from_iochannel) :\n\t  warning suppression.\n\n2003-02-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* configure.in: Changes to (optionally) compile bz2 functionality\n\t* Makefile.am: Ditto\n\t* gsf/Makefile.am: Ditto\n\t* tests/Makefile.am: Ditto\n\t* gsf/gsf-output-bzip2.c: Changes to optionally compile parts of this\n\n2003-02-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* tests/test-out-bzip.c: Tester for new BZip2 output\n\t* gsf/gsf-impl-utils.h: Correct typo\n\t* gsf/gsf-output-gzip.c: Fix memory leak (leaked buffer)\n\t* gsf/gsf-output-bzip.[ch]: New output class, not currently built\n\n2003-02-09  Dom Lachoiwcz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-iochannel.[ch]: Rework as per Jody's suggestions. Now\n\tit is a utility constructor.\n\n2003-02-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-iochannel.c: Fixed iochannel. Unfortunately uses memory\n\tbackend because there's no way to query the size of an IOChannel\n\n2003-02-07  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/gsf-input-iochannel.[ch]: new GIOChannel based input.\n\n2003-02-07  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-doc-meta-data.[ch]: Clean API a bit to include consts, gsize\n\n2003-02-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : clip long names,\n\t  and do not output a name for the root file.\n\n2003-02-04  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* Changed below commit to use g_new instead of g_malloc + typecast, at\n\tJody's and Morten's request\n\n2003-02-01  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-infile-msole.c\n\t* gsf/gsf-infile-zip.c\n\t* gsf/gsf-input-gzip.c\n\t* gsf/gsf-input-stdio.c\n\t* gsf/gsf-input-textline.c\n\t* gsf/gsf-outfile-msole.c\n\t* gsf/gsf-output-gzip.c\n\t* gsf/gsf-output-memory.c\n\t* gsf/gsf-utils.c\n\t* gsf-gnome/gsf-input-bonobo.c\n\t* gsf-gnome/gsf-input-gnomevfs.c: More castings needed\n\n2003-02-01  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-infile-msole.c: Some castings to help things build using\n\tMSVC++\n\t* gsf/gsf-msole-utils.c: Ditto\n\n2003-01-31  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* test/*.c: Correctness fixes in the testcases. No need to unref a null\n\tobject\n\n2003-01-29  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* *: With Jody's permission, change all _new() calls to return the\n\tderived/subclassed type, instead of the mix we had before\n\t* tests/*: Updated to conform with above\n\n2003-01-28  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2003-01-28  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.7.2\n\n2003-01-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : be a touch more anal.\n\n2003-01-24  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : remove -Wunreachable-code it was damn irritating and\n\t  mostly wrong.\n\n\t* gsf/gsf-msole-utils.c : warning suppression.\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : support default\n\t  namespaces.\n\t(gsf_xml_in_end_element) : ditto.\n\t(gsf_xml_in_start_document) : ditto.\n\n2003-01-23  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Calculate MAJOR_VERSION_PLUS_MINOR_VERSION.\n\n2003-01-22  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c : Rename everything (again) and add namespace\n\t  support for the import wrappers.\n\n\t* configure.in : bump version to 1.7.1 to reflect the major changes in\n\t  the xml import/export api.\n\n2003-01-22  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-utils.h, gsf/gsf-utils.c (gsf_base64_encode_close,\n\tgsf_base64_encode_step), gsf/gsf-input.c (gsf_input_copy,\n\tgsf_input_uncompress),\n\tgsf-input-textline.c (gsf_input_textline_utf8_gets): Fixed signedness.\n\n2003-01-21  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-msole-utils.c: Mark the 11644473600 constant as ULL.\n\n2003-01-21  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-input.c: The gzip signature consists of unsigned chars.\n\n2003-01-21  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-libxml.c, gsf/gsf-output-memory.c, gsf/gsf-output.c,\n\tgsf/gsf-structured-blob.c, gsf/gsf-zip-utils.c: #include <string.h> for\n\tstrcmp(), strlen() and memcpy().\n\n2003-01-21  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Redirect grep output to /dev/null instead of using -q\n\twhich Morten pointed out doesn't work on Solaris.\n\n2003-01-20  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Check if -D_POSIX_SOURCE is needed for the fdopen()\n\tprototype in a cleaner fashion; might fix problems on Mac OS X.\n\n2003-01-09  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_read): Handle eof.\n\n2003-01-08  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-iochannel.c (gsf_output_iochannel_write): ensure\n\tlarge writes happen\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_output_gnomevfs_write):\n\tDitto\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_read): Ensure that large\n\treads happen\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_input_gnomevfs_read) :\n\tDitto\n\n2003-01-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : fix off by 1 in\n\t  calculation of how many meta bats are required.  Store correct\n\t  position of initial xbat, the original code did not take small\n\t  blocks into account.\n\n\t* gsf/gsf-infile-msole.c (ole_make_bat) : add protection against\n\t  cycles.\n\n2003-01-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_output_xml_add_attr_cstr_safe) : clone over\n\t  logic for escaping strings from libxml and revamp it to be more\n\t  libgsf-ish.\n\n\t* gsf/gsf-utils.c : rename the base64 utilities and clean up the types\n\t  and const to match gsf conventions.\n\n2003-01-06  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-transaction.c : New capability - transacted\n\toutputs. Not thoroughly tested.\n\n\t* tests/test-trans.c : Transaction testsuite for above\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_write) : Put write\n\tinside of a loop to ensure that large writes are carried out\n\tproperly and feof is properly detected\n\n\t* TODO: remove the \"try to support canceling a write\" item since\n\tsuch functionality is supported via transactions\n\n2003-01-05  Tor Lillqvist  <tml@iki.fi>\n\n\t* configure.in: Check for lstat() and readlink().  Check for\n\tnative Win32 and for Win32 in general (including Cygwin).  Set\n\tautomake conditionals OS_WIN32 and PLATFORM_WIN32 accordingly.\n\tAdd AC_LIBTOOL_WIN32_DLL.\n\n\t* gsf/Makefile.am: On Win32, use -no-undefined, and install (and\n\tuninstall) import libraries.\n\n\t* gsf/gsf-output-stdio.c: Add workaround #defines for various Unix\n\tstuff on Win32. Bypass follow_symlinks() unless HAVE_READLINK.\n\n2003-01-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c : Pull in the bas64 utilites from evolution.  Unused\n\t  for now.\n\n2003-01-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output.c (cb_output_unwrap) : renamed from\n\t  cb_output_wrap_screwup and weaken restrictions.  The weak ref\n\t  handler is called before the wrappers finalize, so we can not always\n\t  unwrap in such a way as to avoid a warning.  Just handle it silently\n\t  now.\n\t(gsf_output_wrap) : ditto.  Weaken the requirement of the wrapper to\n\t  be a GObject, no need for a full fledged GsfOutput.\n\t(gsf_output_unwrap) : ditto.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : fix reversal of\n\t  arguments for the wrapping.\n\t(gsf_outfile_msole_write) : ditto.\n\t* gsf/gsf-outfile-zip.c (zip_init_write) : ditto.\n\t(zip_close_stream) : ditto.\n\n\t* gsf/gsf-libxml.c : rename xml_sax -> GsfInputXML\n\t(GsfOutputXML) : new\n\n2003-01-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-impl-utils.h : add hooks for interfaces\n\n2002-12-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read) : patch some warnings.\n\n2003-01-01  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* debian/changelog, debian/control, debian/libgsf-1-dev.dirs,\n\tdebian/libgsf-1-dev.files, debian/rules: Updated.\n\n2002-12-30  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Check if res is a GValue.\n\t(gsf_msole_metadata_read): Check if v is a GValue and holds an int\n\tbefore reading codepage. Check if v is a GValue before unsetting.\n\n2002-12-23  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-libxml.c (gsf_xml_output_buffer_new): Fix comment and\n\tref output to match gsf_libxml_close.\n\n2002-12-20  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-libxml.c (gsf_libxml_close): Plug leak.\n\n2002-12-19  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri) : Able to\n\topen URI objects as well as strings\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_output_gnomevfs_new_uri) : ditto\n\n2002-12-11  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump.\n\n2002-12-11  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.6.0\n\n2002-12-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_lid_for_language) : Suggestion from\n\tNicolas Peninguy <peninguy.nicolas@wanadoo.fr>\n\n2002-12-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_finalize) : do not unref\n\t  the info for the magic internal small block file it was already\n\t  removed.\n\t(ole_info_get_sb_file) : do not create a reference loop from the info\n\t  to the small block file and back.  Remove the default reference from\n\t  the magic internal small block file to the info.\n\n2002-12-10  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-structured-blob.c (blob_finalize): Link to the right\n\tparent type.\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_new_out): Don't allocate and\n\tthrow away memory.\n\n2002-12-09  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Fix typo.\n\n2002-12-09  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-outfile-zip.c (disconnect_children): Factor out from\n\tzip_close_root.\n\t(gsf_outfile_zip_finalize): Use here too.  (This closes a leak if\n\tclosing fails.)\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Free the property\n\tvalues until we figure out what to do with them.\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_finalize): Plug leak.\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_as_string): 64-bit fix.\n\n2002-12-04  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input.c (gsf_input_copy): Copies a GsfInput to a GsfOutput.\n\tWill probably be useful for some abiword stuff I'll be doing\n\n\t* tests/test-cp.c: New test program exercising gsf_input_copy\n\n2002-12-04  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-output-stdio.c (follow_symlinks): Fix error return\n\tconventions.\n\t(gsf_output_stdio_new): Clean up error messages.\n\n2002-12-03  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close): Try much harder\n\trestoring owner and permissions.  Still not good.\n\t(gsf_output_stdio_new): Simplify using g_path_get_dirname.\n\tRespect non-writable files!\n\t(follow_symlinks): Simplify using g_path_is_absolute and\n\tg_path_get_dirname.  Eliminate some race conditions.\n\n2002-11-29  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output-gzip.c (init_gzip): Return set error if\n\tdeflateInit2 fails.\n\t(gzip_output_header): Add missing argument to time().\n\n2002-11-27  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-libxml.c (gsf_libxml_close): Change to do nothing. We\n\texpect higher layers to close.\n\t(gsf_xmlDocFormatDump): Use encoding argument. Don't call\n\txmlOutputBufferClose - libxml calls it for us via the callback we\n\tsupply.\n\n\t* gsf/gsf-libxml.[ch] (gsf_xmlDocFormatDump: Add encoding parameter.\n\n2002-11-27  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-out-gzip.c\n\n\t* gsf/gsf-output-gzip.[ch]: New files. Gzip output.\n\n\t* gsf/Makefile.am (libgsf_1_la_SOURCES): Add gsf-output-gzip.c.\n\t(libgsf_1_include_HEADERS): Add gsf-output-gzip.h.\n\n2002-11-25  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-outmem-printf.c (test): Adjust to new\n\tgsf_output_memory_get_bytes API.\n\n\t* gsf/gsf-outfile-zip.c (root_register_child): Don't ref children\n\twhich are directories.\n\n\t* tests/test-zip-out-subdirs.c (test): Make close/unref strategy\n\tthe same as in test-cp-zip/test-cp-ole (with change above, this\n\tworks!). Test closing subdirs at different times in the lifecycle.\n\n2002-11-25  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_init_write): Fail if already writing\n\tto another stream in archive. Set \"writing\" flag in zip root to\n\tindicate that we're writing to a stream.\n\t(zip_close_stream): Unset \"writing\" flag in zip root to indicate\n\tthat we're now free to write to a new stream.\n\t (zip_close_root): s/g_message/g_warning/.\n\n\t* tests/test-zip-out-subdirs.c (test): Close each substream before\n\tstarting to write to the next.\n\n2002-11-24  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-outfile-zip.c (stream_name_len,\n\tstream_name_write_to_buf): Stop recursing at root of zip archive,\n\ti.e. don't append name of archive file to stream names. Take zip\n\trather than outfile argument.\n\t(stream_name_build): Take zip rather than outfile argument.\n\t(zip_dirent_new_out): Call stream_name_build with new signature.\n\n2002-11-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-ouput-iochannel.c (): New output sink. No IOChannel\n\tinput sink possible due to API limitations\n\n\t* gsf/gsf-input-stdio.c (_new): Open files with \"rb\" status\n\n2002-11-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-memory.c (gsf_output_memory_get_bytes): WARNING:\n\tchanged prototype\n\t(gsf_output_memory_seek): Re-implement seek() in a saner fashion\n\t(gsf_output_memory_write): ditto\n\t(gsf_output_memory_vprintf): ditto\n\t(gsf_output_memory_init): ditto\n\n2002-11-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_seek): Code\n\tcleanup\n\n2002-11-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-memory.c (gsf_output_memory_seek): Implement\n\tseek() by implementing a cursor as well as the existing nwritten\n\tand capacity fields\n\t(gsf_output_memory_write): ditto\n\t(gsf_output_memory_vprintf): ditto\n\t(gsf_output_memory_init): ditto\n\n2002-11-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_vprintf) : rename from\n\t  gsf_output_msole_vprintf to conform to naming convention.\n\t(gsf_outfile_msole_class_init) : hook up the vprintf method and fix\n\t  some old cut-n-paste errors.\n\n\t* gsf/gsf-output.c (gsf_output_finalize) : free the new printf buf.\n\t(gsf_output_init) : init the new printf buf.\n\t(gsf_output_vprintf) :  use a stream local buffer and handle older\n\t  version of glibc that did not return the required number of\n\t  characters.\n\n2002-11-23  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-zip-out-subdirs.c: New test program. Add.\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-zip-out-subdirs.\n\n2002-11-23  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-zip-out.c: New test program. Add.\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-zip-out.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_finalize): Only free\n\tvdirs from the root down.\n\t(zip_trailer_write): Take no. of entries as a parameter, so that\n\tthe root_order array doesn't have to be live when we call this\n\tfunction.\n\t(zip_close_root): Slight tweak of Dom's fix.\n\n2002-11-23  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-outfile-zip.c (zip_close_root): Free the root_array and\n\tunref the child outputs when closing the root directory\n\n2002-11-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Disable creating\n\tbackup copies of files, open files with \"wb\" status instead of\n\tjust \"w\"\n\n2002-11-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output.c (gsf_output_puts): Check for null input\n\t(gsf_output_vprintf): Don't use static internal buffer, will lead\n\tto nasty race conditions and a memory-leak on shutdown\n\n2002-11-22  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-outmem-printf.c: New test program. Add.\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-outmem-printf.\n\n\t* gsf/gsf-output-memory.c (gsf_output_memory_vprintf):\n\tNew. vprintf implementation which uses g_vsnprintf directly\n\tinto buffer if there is space.\n\t(gsf_output_memory_class_init):  Initialize vprintf virtual.\n\n2002-11-22  Jody Goldberg <jody@gnome.org>\n\n\t* doc/Makefile.am : pull in newer magic from gtk.\n\t* configure.in : ditto.\n\n2002-11-22  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_output_msole_vprintf): New. vprintf\n\timplementation which falls through to the sink's implementation if\n\tpossible.\n\t(gsf_outfile_msole_class_init):  Initialize vprintf virtual.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_vprintf): New. vprintf\n\timplementation which just falls through to vfprintf.\n\t(gsf_output_stdio_class_init): Initialize vprintf virtual.\n\n2002-11-22  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-msole-printf.c: New test program. Add.\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-msole-printf.\n\n2002-11-21  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output.c (gsf_output_puts): Remove unused variable.\n\n2002-11-21  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-libxml.c (gsf_libxml_write): Fix inverted\n\tsuccess/failure test.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Set name\n\n2002-11-21  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output.[ch] (gsf_output_printf): New function. printf\n\tfor GsfOutput.\n\t(gsf_output_puts): New function. fputs for GsfOutput.\n\n\t* gsf/gsf-output-impl.h (struct GsfOutputClass): Add Vprintf virtual.\n\n\t* gsf/gsf-output.c (gsf_output_class_init): Initialize to default\n\tvprintf method.\n\t(gsf_output_vprintf): New function: Default vprintf method.\n\n\t* tests/test-out-printf.c: New test program. Add.\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-out-printf.\n\n2002-10-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : be more careful about\n\t  invalid stream names.\n\n2002-10-30  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* debian/changelog, debian/control, debian/rules: updated.\n\t* debian/shlibs.local: dropped.\n\n2002-10-26  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2002-10-26  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.5.0\n\n2002-10-26  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_lid_to_codepage) : remove warning.\n\n2002-10-14  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output-memory.c (gsf_output_memory_finalize) : close != exit.\n\t  Chain to the parent, and keep the content around until detruction.\n\n2002-10-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-msole-utils.c\n\t(gsf_msole_iconv_open_codepage_for_export): Fix bug where we used\n\tUTF-8 regardless of the 'from' codepage\n\n2002-10-21  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-msole-utils.c (*): Large rewrite of the codepage handling\n\tcode. More functions, more complete, more flexible, etc...\n\n2002-10-18  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_ascii_gets): Handle\n\tend-of-buffer case without asserting.\n\n2002-10-08  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-utils.c (gsf_filename_to_utf8): New function.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Ensure sane\n\tfilenames before putting them into error messages.\n\t* gsf/gsf-output-stdio.c (follow_symlinks): Ditto.\n\t(gsf_output_stdio_new): Ditto.\n\t(gsf_output_stdio_close): Ditto.\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Ditto.\n\n2002-10-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xmlSAX_prep_dtd) : support recursive\n\t  structures.\n\n2002-09-30  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2002-09-30  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.4.0\n\n2002-09-27  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-structured-blob.c (gsf_structured_blob_read) : fix.\n\t(gsf_structured_blob_write) : fix.\n\n2002-09-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output-memory.c: Remove debug printouts.\n\n2002-09-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output-memory.[ch] (gsf_output_memory_get_bytes): Take\n\t1st argument GsfOutputMemory instead of GsfOutput.\n\n\t* gsf/gsf-output-memory.c (struct _GsfOutputMemory): Add\n\t'capacity' member.\n\t(gsf_output_memory_new): Don't duplicate work done in\n\tgsf_output_memory_init.\n\t(gsf_output_memory_expand): Encapsulate expansion and make it more\n\tintelligent.\n\t(gsf_output_memory_write): Use gsf_output_memory_expand.\n\t(gsf_output_memory_init): Initialize capacity.\n\n2002-09-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_read) : remove some debug spew\n\t  that snuck in.\n\n2002-09-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c :  support unicode property names and values,\n\t  including some ugly heuristics to add the documented padding only\n\t  when using unicode (? what where they smoking ?)\n\n2002-09-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xmlSAX_prep_dtd) : typo\n\t  and make the errors more verbose.\n\n2002-09-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-structured-blob.c (gsf_structured_blob_read) : handle out of\n\t  memory.\n\n2002-09-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xmlSAX_parse) : some initial work on utility\n\t  structures and routines to make building a sax parser easy.\n\n\t* gsf/gsf-structured-blob.c : new utility to read/write trees of\n\t  unparsed data.\n\n2002-09-19  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-outfile-zip.h (enum GsfZipCompressionMethod): Define.\n\n\t* gsf/gsf-outfile-zip.[ch]\n\t(gsf_outfile_zip_set_compression_method): New function. Set\n\tcompression method.\n\n\t* gsf/gsf-outfile-zip.c (struct _GsfOutfileZip): Add\n\tcompression_mehod member.\n\t(zip_dirent_new_out): Set compression method.\n\t(zip_header_write): Write current compression method.\n\t(zip_init_write, zip_close_stream, gsf_outfile_zip_write): Handle\n\tnoncompressed streams.\n\t(zip_header_write_sizes): New function. Write crc and sizes to\n\tlocal file header.\n\t(gsf_outfile_zip_init): Initialize compression method to deflated.\n\t(gsf_outfile_zip_set_compression_method): New function. Set\n\tcompression method.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Fix typo.\n\n2002-09-19  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (zip_read_dirents): Don't expect a file\n\theader at the start of the archive. It's not required by the\n\tspecification, and e.g. self-extracting zips do not have one.\n\tWith this change, we can read self-extracting zips.\n\n2002-09-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_close) : always close even if the\n\t  implementation failed.\n\t(gsf_output_finalize) : free the error.\n\t(gsf_output_init) : init the error.\n\t(gsf_output_seek) : inver the return flag to be consistent with write.\n\t(gsf_output_error) : new.\n\t(gsf_output_set_error) : new.\n\n\t* gsf/gsf-output-stdio.c : borrow the temp file handling from gedit so\n\t  that we can handle setgid directories correctly.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_seek) :\n\t  invert the return type.\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_seek) : ditto.\n\t* gsf/gsf-output-memory.c (gsf_output_memory_seek) : ditto.\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_write) : add some error\n\t  checking.\n\n2002-09-15  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_iconv_win_codepage) : fix warning.\n\n\t* configure.in : reorder the _BSD_SOURCE and _POSIX_SOURCE tests\n\t  because POSIX changes things under linux.\n\t  Add an lstat test\n\n2002-09-15  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-zip2.c: Add.\n\n2002-09-14  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/gsf-command-context.[ch]: added support for warnings.\n\t(gsf_command_context_has_warnings, gsf_command_context_push_warning,\n\t gsf_command_context_pop_warning): new functions.\n\n2002-09-14  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/gsf-command-context.[ch]: new class for command contexts,\n\tstealing some implementation from GsfIOContext.\n\n\t* gsf/gsf-io-context.[ch]: base this class on GsfCommandContext.\n\n2002-09-14  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_read): Fix reading\n\tnon compressed streams.\n\n2002-09-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_read) : tweak boundary case\n\t  to match reality\n\n2002-09-14  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-outfile-zip.[ch]: Really add this time.\n\n\t* gsf/gsf-infile-zip.c: gsf-zip-utils.h doesn't exist - don't\n\tinclude it!\n\n\t* gsf/gsf-zip-utils.c: Ditto.\n\n2002-09-14  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/Makefile.am: Add test-cp-zip.c\n\n2002-09-13  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-cp-zip.c: Add a test program for zip export.\n\n2002-09-13  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-zip-util.c: Add.\n\n\t* gsf/gsf-infile-zip.c (enum ZipCompressionMethod, struct\n\tZipDirent, struct ZipDir): Move to gsf-zip-impl.h.\n\t(vdir_new, vdir_free, vdir_compare, vdir_add_child,\n\tzip_dirent_free): Move to gsf-zip-utils.c.\n\t(zip_dirent_new): Rename to zip_dirent_new_in.\n\t(vdir_free, zip_info_unref): Add free_dirent parameter to\n\tvdir_free.\n\t(zip_child_init): Move before first use.\n\t(gsf_infile_zip_finalize): Free zlib stream.\n\n\t* gsf/Makefile.am: Add gsf-zip-utils.c, gsf-outfile-zip.[ch]\n\n2002-09-12  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/Makefile.am: add gsf-output-memory\n\n\t* gsf/gsf-output-memory.c (_seek): fix seek type, compiles\n\n\t* gsf-gnome/Makefile.am: add gsf-output-bonobo\n\n\t* gsf-gnome/gsf-output-bonobo.c (): make compile\n\n2002-09-06  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-input-gzip.c (init_zip): Factored out of gsf_input_gzip_new.\n\t(gsf_input_gzip_new): See init_zip.\n\t(gsf_input_gzip_dup): Dup source instead of sharing it, and\n\tinitialize zip context.\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_dup): Call zip_child_init.\n\n2002-09-04  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (struct ZipDirent, struct _GsfInfileZip,\n\tzip_dirent_new, zip_dirent_free, zip_update_stream_in,\n\tgsf_infile_zip_read, zip_child_init, gsf_infile_zip_seek,\n\tgsf_infile_zip_init): Move zlib context to GsfInfile object. It is\n\tper opened stream, not per subfile.\n\t(gsf_infile_zip_init, gsf_infile_zip_new): Initialize all fields\n\tin gsf_infile_zip_init.\n\n2002-09-03  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-input-gzip.c (check_header): Fix typo.\n\n2002-09-03  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-libxml.c (gsf_libxml_read): Don't signal error when\n\treading len = 0.\n\n\t* gsf/gsf-input-gzip.c (check_header): Check signature before\n\tseeking to end. Seeking to end is *expensive* if seek is slow in\n\tunderlying stream.\n\tAdd check that there's room for payload.\n\n2002-09-02  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (struct _GsfInfileZip): Add seek_skipped.\n\t(gsf_infile_zip_seek): Implement. As slow as gzip.\n\t(zip_child_init): Initialize dirent->restlen,\n\tdirent->crestlen. Don't call zip_update_stream_in.\n\t(gsf_infile_zip_new): Initialize seek_skipped.\n\n2002-09-01  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-cat-zip.c : replace the old test with test-msole2.c\n\t  with s/msole/zip/ so that we get the end of file right.\n\n2002-08-31  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_num_children) : return -1 for\n\t  non directories.\n\n2002-08-31  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-timestamp.c : dummy up a quick implementation.\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : support FILETIME.\n\n2002-08-30  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : remove -Wconversion because it was pissing me off.\n\n2002-08-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : add some basic\n\t  implementation.\n\t(msole_prop_id_to_gsf) : new.\n\n2002-08-29  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_prop_read) : conditionalize the\n\t  debug spew.\n\n2002-08-29  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_prop_parse) : new.\n\t(gsf_msole_prop_read) : new.\n\t(gsf_msole_metadata_read) : prepare to parse the actual properties.\n\n2002-08-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_new) : restore the current file\n\t  position when sniffing for gzip fails.\n\n2002-08-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-metadata.c (gsf_msole_iconv_open_for_export) : moved\n\t  from gnumeric.\n\t(gsf_msole_iconv_open_for_import) : ditto.\n\t(gsf_msole_iconv_win_codepage) : ditto.\n\t* gsf/gsf-utils.c (gsf_iconv_close) : ditto.\n\t(gsf_extension_pointer) : moved from gnumeric, originally from libgnome.\n\n2002-08-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf-gnome/gsf-input-bonobo.[ch],\n\tgsf-gnome/gsf-output-bonobo.[ch],\n\tgsf-gnome/gsf-input-gnomevfs.[ch],\n\tgsf-gnome/gsf-output-gnomevfs.c, gsf/gsf-infile-msvba.c,\n\tgsf/gsf-input-gzip.h, gsf/gsf-input-impl.h,\n\tgsf/gsf-input-memory.h, gsf/gsf-msole-impl.h,\n\tgsf/gsf-output-impl.h, gsf/gsf-output-memory.h,\n\tgsf/gsf-output-stdio.h, gsf/gsf-output.c, gsf/gsf-shared-memory.h,\n\tgsf/gsf-zip-impl.h, gsf/gsf.h: Fix file headers - file name was\n\twrong.\n\n2002-08-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (struct ZipVDir): Define struct to\n\trepresent a directory entry in a tree of contained files.\n\t(struct ZipInfo): Add vdir. Move dirent_list here from\n\t_GsfInfileZip.\n\t(struct _GsfInfileZip): Add vdir. Remove dirent_list and dirent.\n\t(vdir_new, vdir_free, vdir_child_by_name, vdir_child_by_index,\n\tvdir_compare, vdir_add_child, vdir_insert): New\n\tfunctions. Operations on file tree directories.\n\t(zip_info_unref): Free dirent_list and vdir.\n\t(zip_read_dirents): Renamed from zip_init_info. dirent_list now in\n\tZipInfo.\n\t(zip_build_vdirs): New function. Build directory tree of contained\n\tfiles.\n\t(zip_init_info): New function, old name. Wraps zip_read_dirents\n\tand zip_build_vdirs.\n\t(gsf_infile_zip_dup): Copy vdir, not dirent.\n\t(zip_update_stream_in,\n\t(gsf_infile_zip_read): dirent now in vdir.\n\t(zip_child_init): New function. Contains the parts of\n\tgsf_infile_zip_new_child which operated on the zip file.\n\t(gsf_infile_zip_new_child): Simplify and call zip_child_init.\n\t(gsf_infile_zip_child_by_index, gsf_infile_zip_name_by_index): Use\n\tvdir_child_by_index.\n\t(gsf_infile_zip_child_by_name): Use vdir_child_by_name\n\t(gsf_infile_zip_num_children): Count children in vdir.\n\t(gsf_infile_zip_finalize): dirent_list is no longer freed here.\n\t(gsf_infile_zip_init, gsf_infile_zip_new): Initialize vdir.\n\n\t* gsf/gsf-zip-impl.h (ZIP_NAME_SEPARATOR): Define path name\n\tcomponent separator for zip archives.\n\n2002-08-26  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf.h: Don't include <glib-object.h> here.\n\t* gsf/gsf-input.h: Do it here.\n\t* gsf/gsf-output.h: And here.\n\n\t* configure.in: Take out -Wcast-align until someone fixes the\n\thundreds of things that violates it.\n\n2002-08-25  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2002-08-25  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.3.0\n\n2002-08-22  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Fix case when no match\n\tis found first time round.\n\n2002-08-21  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Don't try to read\n\tbeyond EOF.\n\n2002-08-21  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (struct _GsfInfileZip): Add buf and\n\tbuf_size for inflating.\n\t(zip_init_info, gsf_infile_zip_dup): Use g_error_new rather than\n\tg_set_error.\n\t(gsf_infile_zip_read): Fix segfaulting bug. Make inflate buffer a\n\tprivate member of the class rather than a static.\n\t(gsf_infile_zip_finalize): Free inflate buffer.\n\t(gsf_infile_zip_new): Initialize inflate buffer.\n\n\t* tests/test-cp-msole.c: Revert 2nd arg to\n\tgsf_input_read/write from gsf_off_t to size_t.\n\n2002-08-21  Mikael Hallendal  <micke@codefactory.se>\n\n\t* tests/test-textline.c (test): output argv[0] when printing\n\t  Usage.\n\n2002-08-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf-gnome/Makefile.am : depend on libgsf\n\n2002-08-20  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf-gnome/.cvsignore: Add.\n\n2002-08-19  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-cp-msole.c (clone): Cast 2nd arg to\n\tgsf_input_read/write to gsf_off_t.\n\n2002-08-19  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf.h: Remove GsfSeekType.\n\n\t* gsf/gsf-input.[ch]: s/GsfSeekType/GSeekType/ in gsf_input_seek\n\tsignature.\n\n\t* gsf/gsf-output.[ch]: s/GsfSeekType/GSeekType/ in gsf_output_seek\n\tsignature.\n\n\t* gsf/gsf-input-impl.h (GsfInputClass) s/GsfSeekType/GSeekType/ in\n\tSeek method.\n\n\t* gsf/gsf-output-impl.h (GsfOutputClass) Ditto.\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_seek):\n\ts/GsfSeekType/GSeekType/ in signature.\n\n\t* gsf/gsf-infile-msvba.c (gsf_infile_msvba_seek): Ditto.\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_seek): Ditto.\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_seek): Ditto.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_seek): Ditto.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek): Ditto.\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_seek): Ditto.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_seek): Ditto.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Ditto.\n\n\t* gsf-gnome/gsf-input-bonobo.c (gsf_input_bonobo_seek): Ditto.\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_seek): Ditto.\n\n\t* gsf-gnome/gsf-output-bonobo.c (gsf_output_bonobo_seek): Ditto.\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_output_gnomevfs_seek): Ditto.\n\n\t* gsf/gsf-input.c (gsf_input_seek): Replace GSF_SEEK_SET, CUR, END\n\twith G_SEEK_SET, CUR, END.\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_seek): Ditto.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek): Ditto.\n\n\t* gsf/gsf-output.c (gsf_output_seek): Ditto.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_seek): Ditto.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Ditto.\n\n\t* gsf-gnome/gsf-input-bonobo.c (gsf_input_bonobo_seek): Ditto.\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_seek): Ditto.\n\n\t* gsf-gnome/gsf-output-bonobo.c (gsf_output_bonobo_seek): Ditto.\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_output_gnomevfs_seek): Ditto.\n\n\t* gsf/gsf-infile-msole.c (ole_get_block, ole_init_info,\n\tgsf_infile_msole_read, gsf_infile_msole_new_child):\n\ts/GSF_SEEK_SET/G_SEEK_SET/.\n\n\t* gsf/gsf-infile-msvba.c (vba_inflate, vba56_dir_read,\n\tgsf_infile_msvba_seek, gsf_infile_msvba_seek): Ditto.\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer, zip_dirent_new)\n\t(zip_init_info, zip_init_info, zip_update_stream_in)\n\t(gsf_infile_zip_new_child): Ditto.\n\n\t* gsf/gsf-input-gzip.c (check_header, check_header): Ditto.\n\n\t* gsf/gsf-input.c (gsf_input_dup, gsf_input_uncompress): Ditto.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_seek,\n\tgsf_outfile_msole_close): Ditto.\n\n2002-08-18  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Revert today's first change to the file, but keep\n\tthe second.\n\n2002-08-18  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: See below. Hope it's true this time.\n\n2002-08-18  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Make --without-gnome work.\n\n2002-08-18  Jon K Hellan  <hellan@acm.org>\n\n\t* acinclude.m4: Change it to just a comment referring to\n\tpython/README-python.\n\n\t* acinclude.m4.am15: Added. A copy of the previous version, but no\n\tlonger commented out. See python/README-python.\n\n2002-08-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/Makefile.am : install the xml header\n\n2002-08-17  Jon K Hellan  <hellan@acm.org>\n\n\t* libgsf-gnome-1.pc.in (Cflags): Fix Libs line.\n\n2002-08-17  Jon K Hellan  <hellan@acm.org>\n\n\t* Makefile.am (pkgconfig_DATA): Add libgsf-gnome-1.pc when\n\t--with-gnome is selected.\n\t(EXTRA_DIST): Add libgsf-gnome-1.spec, libgsf-gnome-1.spec.in and\n\tlibgsf-gnome-1.pc.in\n\n2002-08-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : pad the last bat\n\t  and sbat block with unused rather than 0.\n\t(ole_pad_bat_unused) : New.\n\n2002-08-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : clean up the\n\t  iteration to calculate the number of bat blocks required to hold the\n\t  bat and metabat.  Fill in the bat flags for the metabat.\n\n2002-08-16  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in  : move bonobo and gnome-vfs into a standalone library.\n\n\t* gsf/gsf-infile-msole.c (ole_init_info) : add a warning about invalid\n\t  state.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_new) : Fill with 0xff\n\t  instead of 0 to be more compatible with MS.\n\t(gsf_outfile_msole_close) : If there is no small block data don't\n\t  pretend there is an allocation chain for it.  Write BAT entries for\n\t  the bat itself.  TODO : BAT entries for the metabat.\n\n2002-08-16  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-io-context.c (gsf_io_context_update_progress): Don't\n\tzero out memory only to overwrite it.\n\n2002-08-16  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Require autoconf 2.52\n\n2002-08-16  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-metadata-bag.c (gsf_metadata_bag_new): Fix prototype.\n\t* gsf/gsf-output-memory.c (gsf_output_memory_new): Ditto.\n\t(gsf_output_memory_write): Fix brown-bag.\n\n2002-08-15  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Test for orbit-python.\n\n2002-08-15  Jon K Hellan  <hellan@acm.org>\n\n\t*  gsf/gsf-input-memory.c  (gsf_input_mmap_new):  Stop warnings on\n\tSolaris.\n\n2002-08-15  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-shared-memory.c (gsf_shared_memory_finalize): Cast to\n\tgsf_off_t when checing for overflow.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close,\n\tgsf_outfile_msole_write): Ditto.\n\n\t* gsf/gsf-input-bonobo.c (gsf_input_bonobo_seek): Ditto.\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Ditto.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Use long, not\n\toff_t for offset arg. to fseek.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek): Ditto.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Add forgotten\n\targument to g_error_new.\n\n2002-08-15  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Bump minor verision to 1.3. Add AC_SYS_LARGEFILE.\n\n\t* gsf/gsf.h: Rename GsfOff_t enum to GsfSeekType. Define gsf_off_t\n\ttype to use instead of off_t. We have to do this because we do not\n\tknow what idea the application has of the size of off_t, this can\n\tbe defined with #define _FILE_OFFS_BITS xx.\n\n\t* gsf/gsf-shared-memory.h (struct _GsfSharedMemory): Change type\n\tof size to gsf_off_t.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Change type of\n\toffset parameter to gsf_off_t, type of 'whence' parameter to\n\tGsfSeekType. Check for overflow copying from gsf_off_t to off_t.\n\n\t* gsf/gsf-output-impl.h (struct _GsfOutput): Change type of\n\tcur_size, cur_offset to gsf_off_t.\n\t(GsfOutputClass): Change type of offset parameter of Seek method\n\tto gsf_off_t, type of 'whence' parameter to GsfSeekType.\n\n\t* gsf/gsf-output-gnomevfs.c (gsf_output_gnomevfs_new): Various\n\tfixes.\n\t(gsf_output_gnomevfs_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.  Cast\n\t'whence' argument to gnome_vfs_seek to GnomeVFSFileOffset to shut\n\tup warning.\n\t(gsf_output_gnomevfs_write): Cast 'bytes' argument to\n\tgnome_vfs_write to GnomeVFSFileSize to shut up warning.\n\n\t* gsf/gsf-output-bonobo.c (gsf_output_bonobo_seek): Change type of\n\toffset parameter to gsf_off_t, type of 'whence' parameter to\n\tGsfSeekType.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_seek): Change type of\n\toffset parameter to gsf_off_t, type of 'whence' parameter to\n\tGsfSeekType. Type of offset argument to gsf_input_seek has changed\n\tto gsf_off_t. Use.\n\t(gsf_outfile_msole_close): Return type of gsf_output_tell is\n\tchanged to gsf_off_t. Introduce gsf_off_t typed variable data_size\n\tto detect overflow. Type of size argument to gsf_output_set_size\n\thas changed to gsf_off_t. Use. Type of offset argument to\n\tgsf_output_seek has changed to gsf_off_t. Use.\n\t(gsf_outfile_msole_write): Return type of gsf_output_tell is\n\tchanged to gsf_off_t. Introduce gsf_off_t typed variables wsize\n\tand start_offset to detect overflow.\n\n\t* gsf/gsf-libxml.c (gsf_libxml_read): Return type of\n\tgsf_input_remaining has changed to gsf_off_t. Use.\n\n\t* gsf/gsf-io-context.c (GSF_CLASS): G_TYPE_GLIB is the parent\n\tclass, not the io-context class itself.\n\n\t* gsf/gsf-input.h: (gsf_input_size, gsf_input_remaining,\n\tgsf_input_tell): Change return type to gsf_off_t.\n\t(gsf_input_seek): Change type of offset parameter to gsf_off_t,\n\ttype of 'whence' parameter to GsfSeekType.\n\n\t* gsf/gsf-input.c (gsf_input_dup): Type of offset argument to\n\tgsf_input_seek has changed to gsf_off_t. Use.\n\t(gsf_input_size, gsf_input_remaining, gsf_input_tell): Change\n\treturn type to gsf_off_t.\n\t(gsf_input_seek): Change type of offset parameter to gsf_off_t,\n\ttype of 'whence' parameter to GsfSeekType.\n\t(gsf_input_set_size): Change type of size parameter to gsf_off_t.\n\t(gsf_input_seek_emulate): Change type of pos parameter to\n\tgsf_off_t.\n\t(gsf_input_uncompress): Change type of cur_offset variable to\n\tgsf_off_t. Type of offset argument to gsf_input_seek has changed\n\tto gsf_off_t. Use.\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_new): Remove cast\n\tof size argument to gsf_input_set_size.\n\t(gsf_input_textline_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\t(gsf_input_textline_ascii_gets, gsf_input_textline_utf8_gets ):\n\tAdd 'remain' variable, and make sure that overflows don't occur.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Change type of size\n\tvariable to gsf_off_t.\n\t(gsf_input_stdio_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType. Check for\n\toverflow copying from gsf_off_t to off_t.\n\n        * gsf/gsf-input-memory.h: Change type of length parameter to\n\tgsf_off_t.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_new): Change type of\n\tlength parameter to gsf_off_t.\n\t(gsf_input_memory_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\t(gsf_input_mmap_new): Check for overflow copying from st.st_size\n\tto ssize_t. Type of size argument to gsf_shared_memory_mmapped_new\n\tand gsf_input_set_size has changed to gsf_off_t. Use.\n\n\t* gsf/gsf-input-impl.h (struct _GsfInput): Change type of size,\n\tcur_offset to gsf_off_t.\n\t(GsfInputClass): Change type of offset parameter of Seek method to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\t(gsf_input_set_size): Change type of size parameter to gsf_off_t.\n\t(gsf_input_seek_emulate): Change type of pos parameter to\n\tgsf_off_t.\n\n\t* gsf/gsf-input-gzip.c (struct _GsfInputGZip): Change type of\n\tseek_skipped to gsf_off_t.\n\t(check_header): Type of offset argument to gsf_input_seek is\n\tchanged to gsf_off_t. Use. Type of size argument to\n\tgsf_input_set_size has changed to gsf_off_t. Use.\n\t(gsf_input_gzip_read): Return type of gsf_input_remaing has\n\tchanged to gsf_off_t. Use.\n\t(gsf_input_gzip_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\n\t* gsf/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new): Change type\n\tof size variable to gsf_off_t. Cast 'code' argument to g_set_error\n\tto gint to shut up warning.\n\t(gsf_input_gnomevfs_read): Cast 'bytes' argument to gnome_vfs_read\n\tto GnomeVFSFileSize to shut up warning.\n\t(gsf_input_gnomevfs_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.  Cast\n\t'whence' argument to gnome_vfs_seek to GnomeVFSFileOffset to shut\n\tup warning.\n\n\t* gsf/gsf-input-bonobo.c (struct _GsfInputBonobo): Change type of\n\t'pos' to gsf_off_t.\n\t(gib_synch_shared_ptr): Cast to gsf_off_t when assigning pos.\n\t(gsf_input_bonobo_new): Change type of size variable to\n\tCORBA_long.  Type of size argument to gsf_input_set_size is\n\tchanged to gsf_off_t. Use.\n\t(gsf_input_bonobo_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType. Check for\n\toverflow copying from gsf_off_t to CORBA_long.\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Change return type to\n\tgsf_off_t. Check for overflow copying from gsf_off_t to size_t.\n\t(zip_dirent_new, gsf_infile_zip_new_child): Change type of offset\n\tparameter to gsf_off_t. Type of size argument to\n\tgsf_input_set_size has changed to gsf_off_t. Use.\n\t(gsf_infile_zip_new): Type of size argument to gsf_input_set_size\n\thas changed to gsf_off_t. Use.\n\n\t* gsf/gsf-infile-msvba.c (vba_inflate): Change type of offset\n\tparameter to gsf_off_t.\n\t(vba3_dir_read): Cast 2nd argument to vba_inflate to gsf_off_t.\n\t(gsf_infile_msvba_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\t(gsf_infile_msvba_new): Type of size argument to\n\tgsf_input_set_size has changed to gsf_off_t. Use.\n\n\t* gsf/gsf-infile-msole.c (ole_get_block, ole_init_info,\n\tgsf_infile_msole_read, gsf_infile_msole_new_child): Type of offset\n\targument to gsf_input_seek has changed to gsf_off_t. Use.\n\t(gsf_infile_msole_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\t(gsf_infile_msole_new_child, gsf_infile_msole_new): Type of size\n\targument to gsf_input_set_size has changed to gsf_off_t. Use.\n\n2002-08-12  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.2.0\n\n2002-08-06  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-utils.c (gsf_le_get_double, gsf_le_set_double): New\n\tfunctions (from gnumeric).\n\t* gsf/gsf-utils.h: Add macros for signed types.\n\n2002-08-05  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-msole1.c (test) : why did I add that limitation ?\n\n2002-08-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_is_closed) : forgot to implement.\n\n2002-08-02  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : bump version\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_finalize) : add a safety\n\t  to close the file before finalizing.\n\n\t* gsf/gsf-output.c (gsf_output_finalize) : add a warning when\n\t  finalizing an unclosed stream.\n\t(gsf_output_init) : init the new is_closed flag.\n\n2002-08-02  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/gsf-io-context.c: removed progress_min and progress_max, since\n\tthey don't seem too useful right now (ie, let's keep it simple).\n\t(gsf_io_context_clear): free progress_ranges list and initialize\n\tprogress-related internal values.\n\t(gsf_io_context_update_progress): implemented.\n\t(gsf_io_context_class_init): added \"progress\" signal to class.\n\n2002-08-01  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/Makefile.am (HTML_DIR) : conditionally define.\n\t* doc/gsf-docs.sgml : tidy up.\n\n2002-07-27  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* MAINTAINERS : add myself\n\t* gsf-metadata-bag.[ch] : add cardinatliy (size) method\n\n2002-07-26  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-output-bonobo.[ch]: implement output stream (untested)\n\n2002-07-26  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-meta-keys.h: list of default/builtin keys that we will want\n\tto support\n\n\t* gsf-metadata-bag.[ch]: add key creation and manipulation\n\tfunctions, update TODO list\n\n2002-07-26  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-metadata-bag.c: implement (untested)\n\n2002-07-25  Dom Lachowicz <cinamod@hotmail.com>\n\n        * gsf-input-gnomevfs.[ch]: implement (untested)\n        * gsf-output-gnomevfs.[ch]: implement (untested)\n        * gsf-output-memory.[ch]: implement (untested)\n\n2002-07-22  Zbigniew Chyla  <cyba@gnome.pl>\n\n\t* gsf-input-gnomevfs.c (struct _GsfInputGnomeVFS):\n\tAdded missing semicolon at the end of struct.\n\n2002-07-21  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.1.0\n\n2002-07-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_mem_dump) : tweak.\n\n2002-07-15  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_dup): Don't ignore err\n\t-- that will crash the caller.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Plug file\n\tdescriptor leaks.\n\n2002-07-09  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_dup) : avoid leak if derived dup has\n\t  already assigned a name.\n\n2002-07-08  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-cp-msole.c (test) : simplify.\n\n2002-07-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_new) : doh!\n\t  fix the header to include the correct small block shift.\n\n2002-07-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (ole_name_cmp) : new.\n\t(gsf_outfile_msole_new_child) : order the names correctly.\n\t(gsf_outfile_msole_close) : write meta bats.\n\n\t* gsf/gsf-msole-impl.h : add OLE_HEADER_METABAT_SIZE.\n\t* gsf/gsf-infile-msole.c (ole_init_info) : use it here.\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : and here.\n\n2002-07-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/Makefile.am : Make gsf-impl-utils.h public\n\n2002-07-06  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-impl.h : pull in more information.  We may not need it\n\t  but it makes for better documentation than 'unknown'\n\n2002-07-06  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c : initial implementation.\n\t* gsf/gsf-outfile.c : initial implementation.\n\t* gsf/gsf-output.c : initial implementation.\n\n2002-07-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : be more anal in case the\n\t  input file has a cycle.\n\n2002-07-03  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-textline.c (test) : make the compiler shut up.\n\n2002-06-27  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-gzip.c (check_header): Set header_size here.\n\t(gsf_input_gzip_read): When allocating a buffer, allocate at least\n\t256 bytes so we don't have to realloc all the time.\n\t(gsf_input_gzip_read): Handle truncated streams.\n\n\t* gsf/gsf-input.c (gsf_input_seek): Handle seeks that go to same\n\tposition here.\n\t(gsf_input_uncompress): Reorganise a bit.\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_free): Actually free the\n\tdirent.  And the list of children.\n\n2002-06-27  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_read): Exit on error.\n\n\t* gsf/gsf-infile-msole.c (ole_init_info): Always set error info.\n\n\t* configure.in (LIBGSF_LIBS): Include the Bonobo libs.\n\n\t* tests/test-msole2.c (test): Plug leak.  Uncompress source.\n\n\t* gsf/gsf-input.c (gsf_input_uncompress): New function.\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_finalize): Plug leak.\n\n2002-06-27  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-input-bonobo.c: Actually check in the stuff mentioned\n\tyesterday.\n\n2002-06-27  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_seek): Attempt\n\timplementation.\n\n\t* gsf/gsf-input.c (gsf_input_seek): Make pos an off_t.\n\n2002-06-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-input-bonobo.c (struct _GsfInputBonobo): Replace stream\n\tattribute with GsfSharedBonoboStream * 'shared'. Add 'pos'\n\tattribute.\n\t(gib_synch_shared_ptr): New helper function. Seek the shared\n\tstream if necessary.\n\t(gsf_input_bonobo_new): Probably better to free the exceptions\n\t*after* retrieving the exception texts.  Initialize 'shared'.\n\t(gsf_input_bonobo_finalize): unref 'shared'.\n\t(gsf_input_bonobo_dup): Implement.\n\t(gsf_input_bonobo_read): Use shared stream. Use\n\tgib_synch_shared_ptr to seek first if necessary.\n\t(gsf_input_bonobo_seek): Ditto.\n\t(gsf_input_bonobo_init): Initialize 'shared'.\n\n\t* gsf/gsf-shared-bonobo-stream.[ch]: new helper class for bonobo\n\tstream IO. Lets us dup the streams.\n\t* gsf/Makefile.am: added new files.\n\n2002-06-26  Morten Welinder  <terra@diku.dk>\n\n\t* configure.in: If needed, define __EXTENSIONS__.\n\n2002-06-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-input-bonobo.c: Include bonobo-persist-stream.h\n\t(gsf_input_bonobo_read): Silence warning.\n\n2002-06-25  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: New flag --with-bonobo\n\n\t* gsf/Makefile.am (INCLUDES): added new files.\n\n\t* gsf/gsf-input-bonobo.[ch]: new class for bonobo stream IO.\n\n2002-06-25  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/gsf-io-context.[ch]: new class for managing IO contexts.\n\n\t* gsf/Makefile.am: added new files.\n\n2002-06-24  Jody Goldberg <jody@gnome.org>\n\n\t* python/Makefile.am : pyexec is not available in automake-1.4.\n\tnor is nodist_.\n\n\t* acinclude.m4 : something was still interpretting the AC_REQUIRE even\n\t  though ti was commented out.  change case and comment for now to\n\t  avoid problems.\n\n2002-06-23  Jon K Hellan  <hellan@acm.org>\n\n\t* acinclude.m4: Comment out everything.\n\n2002-06-21  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : uncomment the AM_CONDITIONAL for WITH_PYTHON\n\n2002-06-21  Jon K Hellan  <hellan@acm.org>\n\n\t* acinclude.m4: Add it. It provides AM_CHECK_PYTHON_HEADERS.\n\n2002-06-20  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_new_child): Add\n\tmissing arg.\n\n2002-06-20  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Add support for building Python bindings, but\n\tcomment it out because it requires automake1.5.\n\n\t* Makefile.am: Build python subdir if WITH_PYTHON is set.\n\n2002-06-18  Rui M. Seabra <rms@1407.org>\n\n\t* libgsf-1.spec.in : set permission correctly\n\t    fix common mistake of Copyright flag into License flag.\n\n2002-06-18  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : lower the libxml version req\n\n2002-06-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile.c (gsf_outfile_new_child) : adjust signature to\n\t  include 'is_dir'\n\n2002-06-15  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_eof) : fix docs.\n\n\t* gsf/gsf-utils.c (gsf_mem_dump) : use size_t.\n\n2002-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_ascii_gets) : implement.\n\t(gsf_input_textline_utf8_gets) : pretend to implement.\n\n2002-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* Makefile.am : move the tests into a standalone dir because they are\n\t  getting irritating to build for every single library rebuild.\n\n2002-06-13  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-infile-msvba.c (vba_inflate): Make offset an off_t.\n\n2002-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c : initial stub implementation.\n\t* gsf/gsf-outfile.c : initial stub implementation.\n\t* gsf/gsf-output-stdio.c : initial stub implementation.\n\t* gsf/gsf-output.c : initial stub implementation.\n\n2002-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (vba_inflate) : cleanup.\n\n2002-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.h (GSF_OLE_GET_GUINT{8,16,32}) : move to\n\t  gsf-utils and rename.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_dup) : silence warning.\n\t(gsf_input_mmap_new) : fix the no mmap case.\n\n2002-06-12  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (vba_inflate) : store the uncompressed\n\t  result.\n\t(vba_dirent_read) : new.  We can now lookup the correct offsets for\n\t  the compressed source.  The question remaining is how to fin the\n\t  start of the dir table ...\n\n2002-06-12  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/*: s/IS_GSF/GSF_IS.\n\n2002-06-12  Jon K Hellan  <hellan@acm.org>\n\n\t* libgsf-1.pc.in (Requires): Add libxml-2.0\n\n2002-06-11  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_read) : fix reading into an\n\t  assigned buffer for small block files.\n\n2002-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_name) : typo.\n\n2002-06-09  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/test-msole1.c (read_types): Casts to suppress signedness\n\t  warnings.\n\t* gsf/gsf-input-memory.c (gsf_input_memory_read): Changed src type to\n\t  guchar.\n\t* gsf/gsf-input-textline.c (gsf_input_textline_ascii_gets): Cast\n\t  return value.\n\t* gsf/gsf-infile-msole.c (ole_dirent_new): Signedness fixes.\n\t* debian/*: updated; include pkgconfig file.\n\n2002-06-09  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c : new.\n\t* gsf/test-msvba.c : new.\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_vname) : new utility routine.\n\n2002-06-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_dup) : Add an err parameter.\n\n2002-06-07  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Plug FILE* leak.\n\t(gsf_input_stdio_dup): Go via filename.\n\n2002-06-07  Jody Goldberg <jody@gnome.org>\n\n\t* doc/Makefile.am : fix the type init function for gtk-doc.\n\t* gsf/* : fix docs a bit.\n\n2002-06-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_input_dump) : new utility split out of.\n\t* gsf/test-gzip1.c (test) : here.\n\n\t* gsf/test-msole2.c (test) : spruce this up a might so that it can be\n\t  used as a general utility to dump streams and storages.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_dup) : dup the descriptor\n\t  before creating a new file handle.\n\n2002-06-06  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : remove -Wmissing-noreturn\n\n\t* gsf/test-msole1.c (test) : remove the --use-memory bit.  Just use\n\t  mmap.  We can test the other input types in another program.\n\n\t* gsf/*.c : change the convention for wrappers.  They all add their\n\t       own references to the source rather than absorbing the ref that\n\t       was passed in.\n\n2002-06-06  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : add zlib.\n\t* libgsf-1.pc.in (Cflags) : ditto.\n\n\t* gsf/gsf-input-gzip.c : wrapper to uncompress things.\n\n\t* gsf/gsf-libxml.c : some convenience routines for dealing with libxml.\n\n\t* gsf/test-gzip1.c :  add some tests for gzip.\n\n2002-06-05  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/*.[ch]: switch to using system types.\n\n2002-06-05  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/Makefile.am: Fix typo - libgsf_1_includedir didn't get defined.\n\n2002-06-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new) : set the filename.\n\n2002-06-04  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_eof) : do this internally.\n\t* gsf/gsf-input* : remove the _eof methods.\n\n2002-06-04  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-impl.h (GsfInputClass): Change structure members\n\tfrom \"read\" to \"Read\", etc.  This avoids names reserved by the\n\tsystem libraries.\n\n2002-06-04  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/test-msole1.c (test): Add --memory option.\n\n\t* gsf/gsf-shared-memory.c: New class.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_new): Use new\n\tGsfSharedMemory class.\n\t(gsf_input_memory_read): Add missing parameter.\n\n2002-06-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/Makefile.am : Add gsf-input-textline.[ch]\n\t  Add gsf-libxml.[ch]\n\n2002-05-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-stdio.h : fix the name mismatch.\n\n2002-05-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_seek) : doh!\n\n2002-05-28  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-infile-msole.c (ole_make_bat): Cast via gconstpointer to\n\tplease gcc.\n\n\t* gsf/gsf-infile-msole.h (GSF_OLE_GET_GUINT8, GSF_OLE_GET_GUINT16,\n\tGSF_OLE_GET_GUINT32): fix alignment problems.\n\n\t* gsf/test-msole1.c (read_types): Fix isspace usage.\n\n2002-05-27  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c : add some prepoc constants to prep for\n\t  export support.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* README : add more details\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/test-msole1.c (get_biff_opcode_name) : suppress warning.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new) : ensure it is a regular\n\t  file.\n\n\t* configure.in : remove -Wundef to shut it up about glib.\n\t  remove -Wcast-qual because we sometimes need to explicitly cast away\n\t  const.  C does not have const_cast<>().\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-impl-utils.h (GSF_CLASS_FULL) : suppress warning.\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : disable debug spew.\n\t(ole_init_info) : suppress bogus compile warning.\n\t  Use gsf_ole_get_guint32s to convert the data to normal endianness.\n\t(gsf_ole_get_guint32s) : new.\n\t(ole_info_read_metabat) : assume the metabat is already uses native\n\t  byte ordering.\n\n\t* gsf/gsf-input.c (gsf_input_seek) : suppress warning.\n\t(gsf_input_dup) : ditto.\n\t(gsf_input_init) : ditto.\n\n2002-05-25  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in:\n\t  Actually use warning flags from GNOME_COMPILE_WARNINGS, so\n\t  \"--enable-warnings=maximum\" and \"--with-iso-c\" are honoured.\n\t  Test whether defining _BSD_SOURCE is needed for caddr_t.\n\t  (e.g. on Debian with -ansi for gcc3.0 and 3.1)\n\t  Test whether defining _POSIX_SOURCE is needed for fdopen().\n\t  Enable a lot more warnings.\n\t* debian/rules: minor tweaks.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_seek) : more error checking.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/test-msole1.c (test) : dump head of odd records.\n\n\t* gsf/gsf-input.c (gsf_input_seek) : do more of the work up here.\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_seek) : adjust here.\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek) : and here.\n\t* gsf/gsf-input-memory.c (gsf_input_memory_seek) : and here.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : fix off by 1 error in\n\t  handling broken ascii stream names.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_init_info) : libole2 knew about a smidge\n\t  more of the ole header, use the sbat counter.\n\n\t* gsf/test-msole1.c (test) : even more sanity checking.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/test-msole1.c (test) : add more safety checks to automate\n\t  validation of imported biff records.\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : Based on char-width2.xls\n\t  it looks like directory sizes are periodically screwed.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c : fix small block support.\n\t  Handle the bogus use of ascii stream names in some case.\n\n2002-05-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new) : merge the size\n\t  checking in here and do more error reporting.\n\t(gsf_input_stdio_class_init) : delete gsf_input_stdio_size\n\t(gsf_input_stdio_size) : delete.\n\n\t* gsf/gsf-input.c (gsf_input_read) : put the bound check here.\n\n2002-05-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new) : make buf_size unsigned.\n\t(gsf_input_stdio_finalize) : and here.\n\t(gsf_input_stdio_read) : and here.\n\n\t* gsf/gsf-input.c (gsf_input_seek) : As morten suggested this is\n\t  better as > size rather than >= size.\n\n2002-05-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_read) : only seek if we\n\t  need to.\n\n2002-05-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/test-msole1.c (test) : more debug info, and less content spew.\n\n2002-05-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_size) : be more careful about\n\t  people who open devices.\n\n2002-05-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : more error handling.\n\t(ole_info_get_sb_file) : make things more readable and split this out.\n\t(gsf_infile_msole_new_child) : fix reading small blocks.\n\n2002-05-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.h (GSF_OLE_GET_GUINT8) : move here.\n\t(GSF_OLE_GET_GUINT16) : ditto.\n\t(GSF_OLE_GET_GUINT32) : ditto.\n\n2002-05-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.h : Use the glib type macros instead of defining our\n\t  own.\n\n2002-05-23  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n \t* doc/Makefile.am: Introduced DOC_DIR so the location can be easily\n \toverridden when building packages.\n \t* debian/*: Preliminary Debian packaging.\n\n2002-05-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_info_read_xbat) : DOH!\n\t  We need to check endianness when reading the bat elements.\n\t(gsf_infile_msole_read) : slow but effective work around for\n\t  breaking at block boundaries.  I'll work up something faster this\n\t  evening.\n\n2002-05-19  Jody Goldberg <jody@gnome.org>\n\n\t* Start making this into a real package.\n", "libgsf 1.14.41\n\n--------------------------------------------------------------------------\nlibgsf 1.14.40\n\nMorten:\n\t* Avoid gnome-common dependency\n\n--------------------------------------------------------------------------\nlibgsf 1.14.39\n\nMorten:\n\t* Test improvements.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.38\n\nFelix B\u00fcnemann:\n\t* BSD compatibility for test.  [#767044]\n\t* Fix zip64 problem.  [#767043]\n\nMorten:\n\t* Improve testing.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.37\n\nMorten:\n\t* Fix tar issue.   [#765099]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.36\n\nJean:\n\t* Fix some criticals.\n\nMorten:\n\t* Plug leak\n\t* Fix openpkg absolute member reference.  [#761648]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.35\n\nMorten:\n\t* Fix OLE2 property writing issue.  [#760047]\n\t* Improve handling of broken zip files.  [#760543]\n\nTing-Wei Lan:\n\t* Fix locale handling in thumbnailer.  [#760428]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.34\n\nMorten:\n\t* Fix OLE2 property parsing problem.  [#748528]\n\t* Fuzzed file fixes.  [#749120] [#749169] [#749183] [#750809]\n\t  [#751273]\n\t* xlsx: fix problem with absolute relation targets.  [#751120]\n\t* Fix text line problem with very long lines.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.33\n\nMorten:\n\t* Ensure floats roundtrip through our xml functions.\n\t* Improve handling of unknown xml tags.\n\t* xml parser improvements.\n\t* xml pretty-printing improvements.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.32\n\nMorten:\n\t* Fix obscure problem with xml parser.\n\t* Add vml to openpkg utils.\n\t* Allow NULL content type for openpkg.\n\t* Plug leak.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.31\n\nAndreas:\n\t* Add two new localc name spaces to gsf-opendoc-utils\n\nAllin Cottrell:\n\t* Add support for non-default zip compression level.  [#722470]\n\nMorten:\n\t* Plug leaks.\n\t* Dead kittens.\n\t* Reduce number of CRITICALs for corrupted files.\n\t* Read zip files with 64k+ members.  [Part of #732209]\n\t* Read zip files members larger than 4G.  [Part of #732209]\n\t* Speed up zip file reading for lots of members.\n\t* Speed up stdio directory handling with large number of files.\n\t* Fix various issues with files larger than 4G.\n\t* Fix minor zip file issues.\n\t* Write zip archives with more than 64k+ members.\n\t* Store unix modtime in zip.  (Until that overflows.)\n\t* Fix seekability checks in GsfOutputIOChannel.\n\t* Avoid implementation defined behaviour of shifts.\n\t* Start a test suite.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.30\n\nJuhani Numminen:\n\t* Activate translations for gsf.  [#725409]\n\nMorten:\n\t* Fix invalid g_free for Windows.\n\t* Work around glib/gio bug.  [#724970]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.29\n\nAllin Cottrell:\n\t* Fix problem with GsfOutfileStdio.  [#706219]\n\nMorten:\n\t* Fix translation issue and leak.  [#706937]\n\t* Fix fuzzed ods file crash.  [#720458]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.28\n\nAndreas:\n\t* Fix conversion specifiers. [#703064]\n\nJean:\n\t* Allow the huge libxml parser mode so that gnumeric can load large images.\n\t[#705100]\n\nMorten:\n\t* Fix problem with bogus metadata.  [#703952]\n\t* Avoid interaction problems between Werror and system headers.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.27\n\nAndreas:\n\t* Perform some range checking in gsf_timestamp_load_from_string\n\tto avoid crashing in glib. [#702671] \n\nMorten:\n\t* Introspection fixes.\n\t* Property documentation fixes.\n\t* I18n fixes for property strings.\n\t* I18n fixes for error strings.\n\t* Fix uncompress problem with bzip'd files.\n\t* Add modtime support for GsfInput, GsfInputStdio, GsfInputGzip.\n\t* Add modtime support for GsfInfileZip, GsfInfileTar, GsfInfileMSOle.\n\t* Add modtime support for GsfOutput, GsfOutputStdio, GsfOutputGzip.\n\t* Add modtime support for GsfOutfileZip, GsfOutfileMSOle.\n\t* Enhance gsf tool to print modtime and create archives with modtime.\n\t* Improve handling of broken OLE2 files.\n\t* Plug leaks.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.26\n\nFrob:\n\t* Fix vba stream problem.  [#656531]\n\nMarc-Andre Lureau:\n\t* Make somewhat more robust with truncated files.  [#690524]\n\nMorten:\n\t* Deal with G_TYPE_CHAR signedness.\n\t* Fix error handling of gsf_output_gio_new_for_uri.\n\t* Clean out mistaken null checks from g_object_new.\n\t* Clean out old glib tests.\n\t* Speed up ole writing a bit.\n\t* Header cleanup.  gsf/gsf.h is now main header.  [#684608]\n\t* GsfInput doc improvements.  [#540521]\n\t* Introspection fixes.\n\nPaolo Bonzini:\n\t* Fix gsf_input_dep for msole streams.  [#689706]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.25\n\njorilx@gmail.com:\n\t* Enhance gsf tool to create archives.\n\nMorten:\n\t* Fix memory management problem with document properties.\n\t* Fix writing of OLE2 properties for multi-byte codepages.  [#627696]\n\nRyan Lortie:\n\t* Unconditionally require gio.  [#687753]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.24\n\nJean Brefort:\n\t* Fix namespace issues. [#672512]\n\t* Fix build after introspection implementation. [#673029]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.23\n\nAndreas:\n\t* Fix read/write of GSF_DOCPROP_VECTOR_TYPE meta data [Part of #672716]\n\t* Fix writing of boolean values in ODF files. [#676604]\n\nAlan Knowles:\n\t* Add gobject introspection support. [#610340]\n\nAntoine Jacoutot:\n\t* OpenBSD portability fix.\n\nJean Brefort:\n\t* Make introspection work when libgsf is not installed.\t[#671698]\n\nMorten:\n\t* Fix time stamp drift problem.  [Part of #671860]\n\t* New GsfODFOut class.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.22\n\nDamien Lespiau:\n\t* Fix thumbnailer manual install problem.\n\nMorten:\n\t* Fix error messages on win32.\n\t* Fix resource limiting in thumbnailer.\n\t* Ensure GsfOutput::name and GsfInput::name notifications.\n\t* Cleanup old code.\n\t* Drop support for gnome-vfs and bonobo.\n\t* Fix ole2 entry sorting based on patch from Junping Zhang.  [#665712]\n\nVincent Untz:\n\t* New installation method for thumbnailer.  [#651187]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.21\n\nAndreas:\n\t* Fix crash on encountering user defined meta data of default \n\ttype. [649827]\n\t* Write/read the correct attribute name for the value-type of user\n\tdefined meta-data. \n\t* Move ODF version to 1.2.\n\nGilles Dartiguelongue:\n\t* Implement --without-gconf for explicit dependency control.  [#645775]\n\t* Fix python compilation problem.  [#645778]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.20\n\nCaolan McNamara:\n\t* Fix msole reading crash.\n\nMorten:\n\t* Improve loading on metadata.  [#644217]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.19\n\nAndreas:\n\t* Add some more OOo 3.2 and 3.3 namespaces.\n\nMorten:\n\t* Quiet xml parsing two bits.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.18\n\nMorten:\n\t* Fix zip directory record problem.  [#614968]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.17\n\nMorten:\n\t* Fix xml parser crash.\n\t* Write meta-data values in name order.\n\t* Don't call gnome_vfs_init in python binding.  [#599973]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.16\n\nAndreas:\n\t* Add variant of OO_NS_FIELD.\n\nCaolan McNamara:\n        * Use gdk_pixbug for thumbnailing when available.  [#594359]\n\nMorten:\n\t* Fix problem with errors to stdout.  [#592471]\n\nVincent Untz:\n\t* Fix gnome-vfs dependency handling.  [#593480]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.15\n\nAndreas:\n\t* Bump ODF version to 1.1 and add enum to inform users. \n\nMorten:\n\t* Fix criticals when parsing bogus OLE properties.  [#584848]\n\t* Start cleaning up timestamp code.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.14\n\nAndreas:\n\t* Added namespaces used by openoffice 3.0, Lotus Symphony, etc.\n\t* Fix gsf_xml_out_start_element to allow child elements mixed\n\t  with other content\n\n--------------------------------------------------------------------------\nlibgsf 1.14.13\n\nAndreas:\n\t* Fix gsf_opendoc_metadata_subtree [#581530]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.12\n\nAndreas:\n\t* Also read user defined OpenDocument metadata\n\nChristian Persch:\n\t* Fix allocation method problem.  [#579155]\n\nJ.H.M. Dassen (Ray):\n\t* Fix incorrect use of g_enum_register_static which broke\n\t  documentation generation in some environments.\n\t  [http://gcc.gnu.org/bugzilla/show_bug.cgi?id=39015]\n\nJody :\n\t* Handle small-block files that are not block aligned. [#572290]\n\t* Deprecate gsf_timestamp_parse and replace it with\n\t  gsf_timestamp_from_string.\n\t* Gtk-Doc fixes.\n\t* Fix handling of namespace declared default and prefix.\n\t  (Such as in SpreadsheetML-2003)\n\nMorten:\n\t* Handle malformed xml better.  [#568994]\n\t* Drop characters that xml 1.0 cannot represent.  [#568919]\n\t* Fix problem loading zero-sized files.  [#580228]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.11\n\nJody:\n\t* win32 build fix for glib-2.18 deprecation.\n\t* Extend MS Office Open Pkg handling to accept POI files.\n\t* Add libxml2 wrapper to simplify probing.\n\nMorten:\n\t* Solaris compilation issue.  [#558253]\n\t* Handle non-seekable files in gsf_input_stdio_new.  [#154417]\n\t* Auto-detect bonobo.\n\nPaul:\n\t* Fix various Mac compilation issues.  [#565603]  [#565605]\n\nPedro Fragoso:\n\t* Clean up glib includes.  [#564004]\n\nRichard W.M. Jones:\n\t* MinGW configure fix for libbz2 detection.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.10\n\nJody:\n\t* Patch some coverity issues [189, 250, 251]\n\nMorten:\n\t* Work around sshfs bug.  [#509883]\n\t* Support tar archives.\n\t* Improve gsf support for broken archives.  [#553861]\n\t* Avoid a critical for bad ole2.  [#554848]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.9\n\nDom:\n\t* Revitalize gio support.\n\nJody:\n\t* Add MS OOX support to gsf-vba-dump.\n\t* Extend the utility wrappers for GsfInfile.\n\t* Be more forgiving of corrupt ole2.\n\t* Add additional MS OpenPkg support to facilitate pivots.\n\t* gtk-doc improvements.\n\t* Make the VBA extractor more accessible.\n\t* Extensions for the xml parser to allow modularization.\n\nMorten:\n\t* Use g_base64_-routines from glib when available.\n\t* When gio is available, do not link in gnomevfs.\n\t* Add self-check for the benefit of __arm__.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.8\n\nJody:\n\t* Add missing ODF presentation namespace.\n\t* Only install win32 header for win32. [#459771]\n\t* Fix XML enum export utils.\n\nMorten:\n\t* Fix criticals for corrupted file.  [#485964]\n\t* Improve sanity checks of ole properties.  [#404934]\n\t* Enhance gsf (the program) to list all document properites.\n\t* Fix endless loop with broken ole files.  [#513831]\n\t* Fix memory allocation problem due to broken ole files.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.7\n\nJody:\n\t* Fix typo that would break all xml output.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.6\n\nJody:\n\t* Add some safety checks for out of memory conditions.\n\t* Some extensions to simplify OOX export.\n\t* Docs improvements.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.5\n\nJody:\n\t* Revert jump to dynamic types, they aren't threadsafe. [#450722]\n\t* Compilation glitch on windows.  [#449807]\n\t* Avoid problems building without gconf macros installed.\n\t* Configure breakage --without-gnome. [#4488842]\n\n--------------------------------------------------------------------------\n\nlibgsf 1.14.4\n\nEduardo Lima :\n\t* Make Bonobo support optional. [#442205]\n\nFederico Mena Quintero :\n\t* Limit resource usage in the thumbnailer. [#446087]\n\nJody:\n\t* Have gsf-vba-dump handle .doc files too.\n\t* Implement gsf_init_dynamic\n\t* Tidy up docs and #includes in public headers.\n\t* Move the MS/ECMA Open Package code here from gnumeric.\n\nMichael Lawrence :\n\t* Provide a libxml2-nanohttp wrapper. [#362373]\n\nMorten:\n\t* Plug leak.\n\t* Fix potential problem with reading mildly bogus files.  [#381588]\n\t* Fix potential oom crash on crazy OLE2 files.  [#381600]\n\t* Quote csv fields on initial or terminal white-space.  [#359348]\n\t* Fix encoding problem with thumbnailer.\n\t* Fix problem with gsf_output_printf triggering on x64_86.\n\t* Handle nested xml contents.\n\t* Basic life support for python bindings.  [#382239] [#382254]\n\n--------------------------------------------------------------------------\n\nlibgsf 1.14.3\t: Last Release before branching 1.15.x\n\nJody:\n\t* Fix crash exporting keyword vector from OLE2 -> ODF.\n\t* Improve debug spew for OLE2 propert import.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.2\n\nDannyM:\n\t* Fix export of msole2 double(r8) properties.\n\nJody:\n\t* Add more OOo 1.0.x and 2.0.x mime types to thumbnailer.\n\t* Add gsf-vba-dump utility to extra macros from Ms Office files.\n\t* Add metadata property dump function to gsf command\n\t* Accept invalid empty msole2 property files from psiwin. [#352055]\n\t* More checks msole2 files with inconsistent headers.\n\t* Fix python build\n\t* Fix xml-sax wrapper to correctly handle shared subtrees.\n\nMichal Kowalczuk:\n\t* Improve ms-ole property sanity checking.\n\nMorten:\n\t* Initial variant of a gsf based tar like utility.\n\t* Handle some broken FrameMaker generated files.  [#346118]\n\t* Fix bzip2 problem in gsf_input_uncompress.  [#356391]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.1\n\nJody:\n\t* Enable the ODF support in the thumbnailer's schema.\n\t* Fix handling of transparent backgrounds in ODF thumbnails.\n\t* Fix handling of default namespaces in libxml sax wrappers.\n\t* Handle odd OLE2 files from palmcalc. [#336858]\n\nMorten:\n\t* Make --mandir=... work.  [#316107]\n\t* Avoid crash on parsing completely empty xml.  [#335152]\n\t* Crudely avoid producing invalid xml by dropping certain control\n\t  characters on the floor.  [#339335]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.0 aka 1.13.99\n\n    NOTE : 1.13.99 and 1.14.0 are identical.  The former was made as a\n\tconvenience to avoid bumping .so versions late in the release cycle.\n\nDaniel Nylander:\n\t* Initial Swedish PO translation. [Debian #351382]\n\nIvan Wong :\n\t* Only export symbols which are in the public headers (Win32).\n\nJody:\n\t* Fix parsing xml files with &amp;\n\t* bump to 1.14.0 to indicate a stable release.\n\t* improve header versioning.\n\t* Add ODF thumbnail support to gsf-office-thumbnailer\n\t* Enable ODF meta data import/export.\n\nMorten:\n\t* Fix GsfOutputIConv.  [#323503]\n\t* Plug leak in GsfInfileZip.\n\n--------------------------------------------------------------------------\nlibgsf 1.13.3\n\nJ.H.M. Dassen (Ray) :\n\t* Improve documentation.\n\nJody :\n\t* More work on extension interface to sax import wrapper.\n\n--------------------------------------------------------------------------\nlibgsf 1.13.0\n\nJody:\n\t* API changes SAX wrappers for help OpenDoc and SpreadsheetML.\n\nKasal:\n\t* Improve libtool versioning.\n\t* Relax the gconf requirement.\n\nLuciano Wolf:\n\t* OpenDocument meta stream parser.\n\nSven Herzberg:\n\t* Fix for GsfOutputGnomeVFS\n\n--------------------------------------------------------------------------\nlibgsf 1.12.3\n\nJody:\n\t* Make gconf optional again.\n\nRambokid:\n\t* Fix excessive memory use problem for writing zip files.\n\n--------------------------------------------------------------------------\nlibgsf 1.12.2\n\nJean Brefort:\n\t* made GSF_CLASS_FULL and GSF_DYNAMIC_CLASS_FULL really full (add\n\tbase_init, base_finalize and class_finalize arguments).\n\nJody:\n\t* Handle 0x8000 and 0x8001 codepages.\n\t* Fix leak in array properties.\n\nJon K\u013are:\n\t* Fix VT_FILETIME OLE property export.\n\nMorten:\n\t* Fix problem with 64-bit OLE properties.\n\t* Fix standard-violation that hit i86_64.\n\n--------------------------------------------------------------------------\nlibgsf 1.12.1\n\nDom:\n\t* Better handling of error conditions when creating a zip.\n\nJody:\n\t* Patch a leak in vector properties from OLE2.\n\t* Be more delicate handling truncated gzip files.\n\t* Improve utility macros for dynamic type creation (incompatible).\n\t* Make constructors for output_stdio outfile_stdio more flexible\n\nMorten:\n\t* Fix gsf_xml_out_add_float to always use \".\" as separator.\n\t* Fix problem with creating new files in g+s directories.\n\n--------------------------------------------------------------------------\nlibgsf 1.12.0\n\nHerzi:\n\t* Allow multiple calls to gsf_xml_out_add_cstr.  [#167166]\n\nIvan:\n\t* Fix codepage problem.  [#162841]\n\nJody:\n\t* Support GObject properties in GsfOutfile::new_child\n\t* Cleanup the OLE2 property import\n\t* Re-org the GsfDocMetadata interface\n\t* Cleanup the OLE2 property export\n\nManuel Mausz:\n\t* OLE2 property export.\n\nMorten:\n\t* Attempt to get non-ASCII filenames right on Win32.  [#171145]\n\t* Add \"raw\" properties to GsfInputGzip and GsfOutputGzip to\n\t  allow header/trailer-less files.  Also allow g_object_new\n\t  construction of these classes.\n\t* Add \"uncompressed_size\" property to GsfInputGzip allowing to\n\t  decompress files larger than 4GB.\n\t* Propagate errors from GsfOutputGzip's sink to itself.\n\t* Fix GsfOutputStdio to avoid killing the target file when we\n\t  get an error.\n\t* Add new GsfOutputCsv and GsfOutputIconv.\n\t* Fix GsfOutfileZip's handling of compression levels.\n\t* Allow getting the compression level when reading zip files.\n\t* Improve zip file performance.  (No longer reopens the underlying\n\t  file for each member you read.)\n\t* Clean up zip output for zip files with non-ASCII members.\n\t* Make it possible to use g_object_new to create zip io objects.\n\n------------------------------------------------------------------------------\nlibgsf 1.11.1\n\nMorten:\n\t* Fix permissions for new files.  [#159331]\n\t* Fix save-to-existing-file on Win32.  [#160108]\n\t* Fix stdio when we're not closing the file.\n\n------------------------------------------------------------------------------\nlibgsf 1.11.0\n\nChristopher James Lahey:\n\t* GObject property support for input/output (for C# bindings)\n\t* GObject support for doc-meta-data\n\nFrank Chiulli:\n\t* Have the OLE2 property set parser store the data\n\nJody:\n\t* More work on storing OLE2 properties\n\t* Add some hooks to the libxml sax wrappers to facilitate extending\n\t  specs\n\t* An extra wrapper to GsfOutputStdio to handle FILE* directly\n\nJon K\u013are:\n\t* make xml string export more convenient by ignoring NULL\n\nKasal:\n\t* More consistent use of G_GNUC_UNUSED.\n\nMorten:\n\t* Check size and seek in gsf_input_dup.\n\t* Fix a pile of crashes having to do with failed dups.\n\t* Fix crashes having to do with NULL input->name.\n\t* Work around gnome-vfs bug #152844.\n\t* Create input proxy object.\n\t* Make msole reading use a proxy layer instead of dup-ing the source\n\t  like crazy.  (Dup-ing is expensive for network connections and\n\t  slightly expensive for disk files.)\n\t* Doc fixes.\n\t* Escape characters 1..31 when used in xml attributes.  [#157850]\n\nVeerapuram Varadhan:\n\t* sync the ole2 property names with the existing beagle properties\n\n------------------------------------------------------------------------------\nlibgsf 1.10.1\n\nJon K\u013are:\n\t* Fix base64 decoding.\n\nKasal:\n\t* Lots of code auditing and cleanup.\n\t* Identified the long standing source of the problem with XL corrupting\n\t  large files\n\n------------------------------------------------------------------------------\n\nlibgsf 1.10.0\n\nJody:\n\t* Patch to read slightly odd planmaker generated OLE2.\n\t* Fix printf implementation in GsfOutfileMSOle\n\t* Make the msole block sizes instance specific\n\nMorten:\n\t* Attempt fix for ARM.\n\t* Make gsf_input_gnomevfs_new_uri handle missing \"seek\" methods.\n\nStuart Cunningham <stuartc@rd.bbc.co.uk>\n\t* Enable OLE2 export for larger block sizes\n\n------------------------------------------------------------------------------\nlibgsf 1.9.1\n\nJ.H.M. Dassen (Ray):\n\t* Corrected the location where the documentation gets installed.\n\t*\nJames Cape :\n\t* Clean up the gtk-doc build\n\nJody :\n\t* Support DOCTYPE in the simplified xml generator\n\t* More gtk-doc cleanup\n\nMorten, Dom:\n\t* Avoid polluting global name space with symbols lacking gsf_ prefix.\n\t  This only effects implementation utilites shared by the zip in/out\n\t  code so hopefully the abi breakage will not hurt too many people.\n\n------------------------------------------------------------------------------\nlibgsf 1.9.0\n\nDom:\n\t* Fix bzip output to flush if last deflate fills buffer\n\nJody Goldberg:\n\t* If the file is not an OLE2 file do not change the filepos.\n\t* Handle broken ole files that specify codepage as signed short\n\t* Fix reading ole files > 13.6 Meg on sparc/alpha (from Xavier Roche)\n\t* Tune validation test for LPSTR properties to handle char width > 1\n\t* Make the impl headers for the base interfaces public as requested\n\t* Add some directory tree wrappers\n\t* Work around a -fstrict-alias warning for SuSE\n\t* Move to automake-1.7\n\t* Fix gnome-vfs backend to open files with random access\n\t* Support merging content from nested nodes for sax parsing\n\t* Fix gtk-doc\n\nJoseph Frazee:\n\t* patch the spec file.\n\nMorten Welinder:\n\t* Properly chain finalizer.\n\t* Fix gzip output to flush if last deflate fills buffer\n\nTor Lillqvist:\n\t* packaging tools for win32.\n\n------------------------------------------------------------------------------\nlibgsf 1.8.2\n\nJody:\n\t* Catch invalid OLE2 files that claim there is data in a directory.\n\t* Better error handling for Infile::child_by_*\n\t* Work harder to restore invalid ole2 files with bad BATs.\n\t* Begin an interface for ole2 export with non-default block sizes.\n\t* Name the root directory 'Root Entry' to keep libole2 happy.\n\nStuart Cunningham <stuartc@rd.bbc.co.uk>:\n\t* Support CLSIDs for Storages for the AAF project\n\t* Test and fix bugs reading ole files with non-default block sizes.\n\n------------------------------------------------------------------------------\nlibgsf 1.8.1\n\nMorten:\n\t* Plug major gzip output leak.\n\n------------------------------------------------------------------------------\nlibgsf 1.8\n\n    2003 Mar 9\n\tWith the approval off all contributors the library has been\n\trelicensed from GPL -> LGPL\n\nDom:\n\t* Some extra casts to make Bloodshed DevC++ happy\n\t* IOChannel input work\n\t* BZ2 input & output\n\t* Return the derived types from constructor functions\n\t* Support GObject properties for the inputs and outputs\n\t* Start an AR infile\n\t* Start Win32 COM IStream input/output\n\t\nJody:\n\t* Fix ms ole export bug that would not clip overly long file names.\n\t* Fix ms ole import bug with potentially invalid names\n\nRodrigo:\n\t* Added GsfInputIOChannel, a GIOChannel-based input.\n\nXavier Roche:\n\t* Patch some gsize == gunit32 assumptions.\n\n------------------------------------------------------------------------------\nlibgsf 1.7\n\nDom:\n\t* Extend gnome-vfs support to handle uris\n\t* Transacted output capability\n\t* Ensure large reads and writes happen\n\nJody:\n\t* Start work on some simplified xml export utilities.\n\t* Extend xml import facilities to support namespaces.\n\t* Catch invalid OLE files with cycles.\n\t* Fix exporting OLE files larger than 6.8 Meg\n\nJon K\u013are:\n\t* Only unset valid GValues when reading msole properties.\n\nMorten:\n\t* Fix xml save problem.\n\nTor Lillqvist:\n\t* Tweaks for the win32 build.\n\n------------------------------------------------------------------------------\nlibgsf 1.6.0\n\nJody:\n\t* Be more anal about invalid stream names..\n\t* Fix documentation install.\n\t* Fix a subtle leak that Morten found.\n\t* Suppress some warnings in the test suite.\n\nJon K\u013are:\n\t* Add printf mechanism.\n\t* Fix misc bugs.\n\t* Add gzip output.\n\nMorten:\n\t* Don't overwrite files we're not supposed to write.\n\n------------------------------------------------------------------------------\nlibgsf 1.5.0\n\nJody:\n\t* Adjust sax routines to support recusive structures.\n\nMorten:\n\t* Handle file names that are not valid utf8.\n\nDom:\n\t* Port over code page utilities from libwv.\n\n------------------------------------------------------------------------------\nlibgsf 1.4.0\n\nJody:\n\t* Move some iconv utility routines here from gnumeric.\n\t* More work on reading ole property sets.\n\t* Minor tweak directory handling for infile-zip.\n\t* Replace test-cat-zip with test-msole2\n\t* Add error handling mechanism to GsfOutput\n\t* Borrow the temp file handling from gedit\n\t* Add some xml SAX parsing utilities (api is tentative)\n\t* Add some structured blob utilites for easy in/out of blob trees\n\t* Support unicode property values and names in ole files.\n\nJon K\u013are:\n\t* sync the directory semantics of infile-zip with infile-msole.\n\t* Support seeking within zip streams.\n\t* Make dup work properly for gzip and zip children.\n\t* Implement Zip export.\n\n------------------------------------------------------------------------------\nlibgsf 1.3.0\n\nJody:\n\t* Split gnome-vfs and bonobo into a distinct library\n\t* Polish the OLE export so that libole2 is molified.\n\t* Add a timestamp object for use with metadata\n\t* Some initial work on MS OLE property streams (doc metadata)\n\t* Some initial work on doc meta data (expect changes as ole settles)\n\nJon K\u013are:\n\t* Work and plan to support big files.\n\n------------------------------------------------------------------------------\nlibgsf 1.2.0\n\nDom:\n\t* Read/Write gnome-vfs (untested)\n\t* Write to mem buf (untested)\n\nJody:\n\t* Add some safety and utilty to ensure outputs are closed before\n\t  finalizing\n\t* Add some printf style capabilities for outputs.\n\nRay:\n\t* improve doc generation\n\t* Update debian support in preparation for packaging.\n\nRodrigo:\n\t* more work on io_context.\n\nTambet:\n\t* Read zip files\n\n------------------------------------------------------------------------------\nlibgsf 1.1.0\n\nJody:\n\t* Initial pass at an api\n\t* Read & Write OLE\n\t* Read gzip\n\t* Read textlines\n\t* Read & Write stdio wrapper\n\t* Some libxml2 utility wrappers\n\t* some test programs to dump or copy ole streams and file structures\n\t* Uncompress vba streams\n\t* Initial incomplete work on parsing vba3 & vba56 directories\n\nMorten:\n\t* mmap/buffer wrapper\n\t* testing & purification\n\nJon K\u013are:\n\t* Some configure cleanup\n\t* Bonobo Stream wrapper\n", "/*\n * gsf-infile-tar.c :\n *\n * Copyright (C) 2008 Morten Welinder (terra@gnome.org)\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of version 2.1 of the GNU Lesser General Public\n * License as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301\n * USA\n *\n * TODO:\n *   symlinks\n *   hardlinks\n *   weird headers\n */\n\n#include <gsf-config.h>\n#include <gsf/gsf-infile-tar.h>\n#include <gsf/gsf.h>\n#include <glib/gi18n-lib.h>\n\n#include <string.h>\n\n#undef G_LOG_DOMAIN\n#define G_LOG_DOMAIN \"libgsf:tar\"\n\nstatic void gsf_infile_tar_set_source (GsfInfileTar *tar, GsfInput *src);\n\nenum {\n\tPROP_0,\n\tPROP_SOURCE\n};\n\nstatic GObjectClass *parent_class;\n\ntypedef struct {\n\tchar *name;\n\n\tGDateTime *modtime;\n\n\t/* The location of data.  */\n\tgsf_off_t offset;\n\tgsf_off_t length;\n\n\t/* The directory object, or NULL for a data file.  */\n\tGsfInfileTar *dir;\n} TarChild;\n\n/* tar header from POSIX 1003.1-1990.  */\ntypedef struct {\n\tchar name[100];               /*   0 */\n\tchar mode[8];                 /* 100 (octal) */\n\tchar uid[8];                  /* 108 (octal) */\n\tchar gid[8];                  /* 116 (octal) */\n\tchar size[12];                /* 124 (octal) */\n\tchar mtime[12];               /* 136 (octal) */\n\tchar chksum[8];               /* 148 (octal) */\n\tchar typeflag;                /* 156 */\n\tchar linkname[100];           /* 157 */\n\tchar magic[6];                /* 257 */\n\tchar version[2];              /* 263 */\n\tchar uname[32];               /* 265 */\n\tchar gname[32];               /* 297 */\n\tchar devmajor[8];             /* 329 (octal) */\n\tchar devminor[8];             /* 337 (octal) */\n\tchar prefix[155];             /* 345 */\n\tchar filler[12];              /* 500 */\n} TarHeader;\n\n#define HEADER_SIZE (sizeof (TarHeader))\n#define BLOCK_SIZE 512\n#define MAGIC_LONGNAME \"././@LongLink\"\n\nstruct _GsfInfileTar {\n\tGsfInfile parent;\n\n\tGsfInput *source;\n\tGArray *children;  /* of TarChild */\n\tGError *err;\n};\n\ntypedef struct {\n\tGsfInfileClass  parent_class;\n} GsfInfileTarClass;\n\n#define GSF_INFILE_TAR_CLASS(k)    (G_TYPE_CHECK_CLASS_CAST ((k), GSF_INFILE_TAR_TYPE, GsfInfileTarClass))\n#define GSF_IS_INFILE_TAR_CLASS(k) (G_TYPE_CHECK_CLASS_TYPE ((k), GSF_INFILE_TAR_TYPE))\n\nstatic gint64\nunpack_octal (GsfInfileTar *tar, const char *s, size_t len)\n{\n\tguint64 res = 0;\n\n\t/*\n\t * Different specifications differ on what terminating characters\n\t * are allowed.  It doesn't hurt for us to allow both space and\n\t * NUL.\n\t */\n\tif (len == 0 || (s[len - 1] != 0 && s[len - 1] != ' '))\n\t\tgoto invalid;\n\tlen--;\n\n\twhile (len--) {\n\t\tunsigned char c = *s++;\n\t\tif (c < '0' || c > '7')\n\t\t\tgoto invalid;\n\t\tres = (res << 3) | (c - '0');\n\t}\n\n\treturn (gint64)res;\n\ninvalid:\n\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t_(\"Invalid tar header\"));\n\treturn 0;\n}\n\n\nstatic GsfInfileTar *\ntar_create_dir (GsfInfileTar *dir, const char *name)\n{\n\tTarChild c;\n\n\tc.offset = 0;\n\tc.length = 0;\n\tc.name = g_strdup (name);\n\tc.modtime = NULL;\n\tc.dir = g_object_new (GSF_INFILE_TAR_TYPE, NULL);\n\n\t/*\n\t * We set the source here, so gsf_infile_tar_constructor doesn't\n\t * start reading the tarfile recursively.\n\t */\n\tgsf_infile_tar_set_source (c.dir, dir->source);\n\n\tgsf_input_set_name (GSF_INPUT (c.dir), name);\n\n\tg_array_append_val (dir->children, c);\n\n\treturn c.dir;\n}\n\nstatic GsfInfileTar *\ntar_directory_for_file (GsfInfileTar *dir, const char *name, gboolean last)\n{\n\tconst char *s = name;\n\n\twhile (1) {\n\t\tconst char *s0 = s;\n\t\tchar *dirname;\n\n\t\t/* Find a directory component, if any.  */\n\t\twhile (1) {\n\t\t\tif (*s == 0) {\n\t\t\t\tif (last && s != s0)\n\t\t\t\t\tbreak;\n\t\t\t\telse\n\t\t\t\t\treturn dir;\n\t\t\t}\n\t\t\t/* This is deliberately slash-only.  */\n\t\t\tif (*s == '/')\n\t\t\t\tbreak;\n\t\t\ts++;\n\t\t}\n\n\t\tdirname = g_strndup (s0, s - s0);\n\t\twhile (*s == '/')\n\t\t\ts++;\n\n\t\tif (strcmp (dirname, \".\") != 0) {\n\t\t\tGsfInput *subdir =\n\t\t\t\tgsf_infile_child_by_name (GSF_INFILE (dir),\n\t\t\t\t\t\t\t  dirname);\n\t\t\tif (subdir) {\n\t\t\t\t/* Undo the ref. */\n\t\t\t\tg_object_unref (subdir);\n\t\t\t\tdir = GSF_INFILE_TAR (subdir);\n\t\t\t} else\n\t\t\t\tdir = tar_create_dir (dir, dirname);\n\t\t}\n\n\t\tg_free (dirname);\n\t}\n}\n\n\n/*****************************************************************************/\n\n/**\n * tar_init_info :\n * @tar : #GsfInfileTar\n *\n * Read tar headers and do some sanity checking\n * along the way.\n **/\nstatic void\ntar_init_info (GsfInfileTar *tar)\n{\n\tTarHeader end;\n\tconst TarHeader *header;\n\tgsf_off_t pos0 = gsf_input_tell (tar->source);\n\tchar *pending_longname = NULL;\n\n\tmemset (&end, 0, sizeof (end));\n\n\twhile (tar->err == NULL &&\n\t       (header = (const TarHeader *)gsf_input_read (tar->source,\n\t\t\t\t\t\t\t    HEADER_SIZE,\n\t\t\t\t\t\t\t    NULL))) {\n\t\tchar *name;\n\t\tgsf_off_t length;\n\t\tgsf_off_t offset;\n\t\tgint64 mtime;\n\n\t\tif (memcmp (header->filler, end.filler, sizeof (end.filler))) {\n\t\t\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t\t\t_(\"Invalid tar header\"));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (memcmp (header, &end, HEADER_SIZE) == 0)\n\t\t\tbreak;\n\n\t\tif (pending_longname) {\n\t\t\tname = pending_longname;\n\t\t\tpending_longname = NULL;\n\t\t} else\n\t\t\tname = g_strndup (header->name, sizeof (header->name));\n\t\tlength = unpack_octal (tar, header->size, sizeof (header->size));\n\t\toffset = gsf_input_tell (tar->source);\n\n\t\tmtime = unpack_octal (tar, header->mtime, sizeof (header->mtime));\n\n\t\tswitch (header->typeflag) {\n\t\tcase '0': case 0: {\n\t\t\t/* Regular file. */\n\t\t\tGsfInfileTar *dir;\n\t\t\tconst char *n = name, *s;\n\t\t\tTarChild c;\n\n\t\t\t/* This is deliberately slash-only.  */\n\t\t\twhile ((s = strchr (n, '/')))\n\t\t\t\tn = s + 1;\n\t\t\tc.name = g_strdup (n);\n\t\t\tc.modtime = mtime > 0\n\t\t\t\t? g_date_time_new_from_unix_utc (mtime)\n\t\t\t\t: NULL;\n\t\t\tc.offset = offset;\n\t\t\tc.length = length;\n\t\t\tc.dir = NULL;\n\t\t\tdir = tar_directory_for_file (tar, name, FALSE);\n\t\t\tg_array_append_val (dir->children, c);\n\t\t\tbreak;\n\t\t}\n\t\tcase '5': {\n\t\t\t/* Directory */\n\t\t\t(void)tar_directory_for_file (tar, name, TRUE);\n\t\t\tbreak;\n\t\t}\n\t\tcase 'L': {\n\t\t\tconst char *n;\n\n\t\t\tif (pending_longname ||\n\t\t\t    strcmp (name, MAGIC_LONGNAME) != 0) {\n\t\t\t\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t\t\t\t_(\"Invalid longname header\"));\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tn = gsf_input_read (tar->source, length, NULL);\n\t\t\tif (!n) {\n\t\t\t\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t\t\t\t_(\"Failed to read longname\"));\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tpending_longname = g_strndup (n, length);\n\t\t\tbreak;\n\t\t}\n\t\tdefault:\n\t\t\t/* Other -- ignore */\n\t\t\tbreak;\n\t\t}\n\n\t\tg_free (name);\n\n\t\t/* Round up to block size */\n\t\tlength = (length + (BLOCK_SIZE - 1)) / BLOCK_SIZE * BLOCK_SIZE;\n\n\t\tif (!tar->err &&\n\t\t    gsf_input_seek (tar->source, offset + length, G_SEEK_SET)) {\n\t\t\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t\t\t_(\"Seek failed\"));\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (pending_longname) {\n\t\tif (!tar->err)\n\t\t\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t\t\t_(\"Truncated archive\"));\n\t\tg_free (pending_longname);\n\t}\n\n\tif (tar->err)\n\t\tgsf_input_seek (tar->source, pos0, G_SEEK_SET);\n}\n\n\n/* GsfInput class functions */\n\nstatic GsfInput *\ngsf_infile_tar_dup (GsfInput *src_input, GError **err)\n{\n\tGsfInfileTar *res, *src;\n\tunsigned ui;\n\n\tsrc = GSF_INFILE_TAR (src_input);\n\tif (src->err) {\n\t\tif (err)\n\t\t\t*err = g_error_copy (src->err);\n\t\treturn NULL;\n\t}\n\n\tres = (GsfInfileTar *)g_object_new (GSF_INFILE_TAR_TYPE, NULL);\n\tgsf_infile_tar_set_source (res, src->source);\n\n\tfor (ui = 0; ui < src->children->len; ui++) {\n\t\t/* This copies the structure.  */\n\t\tTarChild c = g_array_index (src->children, TarChild, ui);\n\t\tc.name = g_strdup (c.name);\n\t\tif (c.modtime) g_date_time_ref (c.modtime);\n\t\tif (c.dir) g_object_ref (c.dir);\n\t\tg_array_append_val (res->children, c);\n\t}\n\n\treturn NULL;\n}\n\nstatic guint8 const *\ngsf_infile_tar_read (GsfInput *input, size_t num_bytes, guint8 *buffer)\n{\n\t(void)input;\n\t(void)num_bytes;\n\t(void)buffer;\n\treturn NULL;\n}\n\nstatic gboolean\ngsf_infile_tar_seek (GsfInput *input, gsf_off_t offset, GSeekType whence)\n{\n\t(void)input;\n\t(void)offset;\n\t(void)whence;\n\treturn FALSE;\n}\n\n/* GsfInfile class functions */\n\n/*****************************************************************************/\n\nstatic GsfInput *\ngsf_infile_tar_child_by_index (GsfInfile *infile, int target, GError **err)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (infile);\n\tconst TarChild *c;\n\n\tif (err)\n\t\t*err = NULL;\n\n\tif (target < 0 || (unsigned)target >= tar->children->len)\n\t\treturn NULL;\n\n\tc = &g_array_index (tar->children, TarChild, target);\n\tif (c->dir)\n\t\treturn g_object_ref (c->dir);\n\telse {\n\t\tGsfInput *input = gsf_input_proxy_new_section (tar->source,\n\t\t\t\t\t\t\t       c->offset,\n\t\t\t\t\t\t\t       c->length);\n\t\tgsf_input_set_modtime (input, c->modtime);\n\t\tgsf_input_set_name (input, c->name);\n\t\treturn input;\n\t}\n}\n\nstatic char const *\ngsf_infile_tar_name_by_index (GsfInfile *infile, int target)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (infile);\n\n\tif (target < 0 || (unsigned)target >= tar->children->len)\n\t\treturn NULL;\n\n\treturn g_array_index (tar->children, TarChild, target).name;\n}\n\nstatic GsfInput *\ngsf_infile_tar_child_by_name (GsfInfile *infile, char const *name, GError **err)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (infile);\n\tunsigned ui;\n\n\tfor (ui = 0; ui < tar->children->len; ui++) {\n\t\tconst TarChild *c = &g_array_index (tar->children,\n\t\t\t\t\t\t    TarChild,\n\t\t\t\t\t\t    ui);\n\t\tif (strcmp (name, c->name) == 0)\n\t\t\treturn gsf_infile_tar_child_by_index (infile, ui, err);\n\t}\n\n\treturn NULL;\n}\n\nstatic int\ngsf_infile_tar_num_children (GsfInfile *infile)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (infile);\n\n\treturn tar->children->len;\n}\n\nstatic void\ngsf_infile_tar_finalize (GObject *obj)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (obj);\n\tg_array_free (tar->children, TRUE);\n\tparent_class->finalize (obj);\n}\n\nstatic void\ngsf_infile_tar_dispose (GObject *obj)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (obj);\n\tunsigned ui;\n\n\tgsf_infile_tar_set_source (tar, NULL);\n\tg_clear_error (&tar->err);\n\n\tfor (ui = 0; ui < tar->children->len; ui++) {\n\t\tTarChild *c = &g_array_index (tar->children, TarChild, ui);\n\t\tg_free (c->name);\n\t\tif (c->modtime)\n\t\t\tg_date_time_unref (c->modtime);\n\t\tif (c->dir)\n\t\t\tg_object_unref (c->dir);\n\t}\n\tg_array_set_size (tar->children, 0);\n\n\tparent_class->dispose (obj);\n}\n\nstatic GObject*\ngsf_infile_tar_constructor (GType                  type,\n\t\t\t    guint                  n_construct_properties,\n\t\t\t    GObjectConstructParam *construct_params)\n{\n\tGsfInfileTar *tar = (GsfInfileTar *)\n\t\t(parent_class->constructor (type,\n\t\t\t\t\t    n_construct_properties,\n\t\t\t\t\t    construct_params));\n\tif (tar->source)\n\t\ttar_init_info (tar);\n\n\treturn (GObject *)tar;\n}\n\n\nstatic void\ngsf_infile_tar_init (GObject *obj)\n{\n\tGsfInfileTar *tar = (GsfInfileTar *)obj;\n\ttar->source = NULL;\n\ttar->children = g_array_new (FALSE, FALSE, sizeof (TarChild));\n\ttar->err = NULL;\n}\n\nstatic void\ngsf_infile_tar_get_property (GObject     *object,\n\t\t\t     guint        property_id,\n\t\t\t     GValue      *value,\n\t\t\t     GParamSpec  *pspec)\n{\n\tGsfInfileTar *tar = (GsfInfileTar *)object;\n\n\tswitch (property_id) {\n\tcase PROP_SOURCE:\n\t\tg_value_set_object (value, tar->source);\n\t\tbreak;\n\tdefault:\n\t\tG_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);\n\t\tbreak;\n\t}\n}\n\nstatic void\ngsf_infile_tar_set_source (GsfInfileTar *tar, GsfInput *src)\n{\n\tif (src)\n\t\tsrc = gsf_input_proxy_new (src);\n\tif (tar->source)\n\t\tg_object_unref (tar->source);\n\ttar->source = src;\n}\n\nstatic void\ngsf_infile_tar_set_property (GObject      *object,\n\t\t\t     guint         property_id,\n\t\t\t     GValue const *value,\n\t\t\t     GParamSpec   *pspec)\n{\n\tGsfInfileTar *tar = (GsfInfileTar *)object;\n\n\tswitch (property_id) {\n\tcase PROP_SOURCE:\n\t\tgsf_infile_tar_set_source (tar, g_value_get_object (value));\n\t\tbreak;\n\tdefault:\n\t\tG_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);\n\t\tbreak;\n\t}\n}\n\n\nstatic void\ngsf_infile_tar_class_init (GObjectClass *gobject_class)\n{\n\tGsfInputClass  *input_class  = GSF_INPUT_CLASS (gobject_class);\n\tGsfInfileClass *infile_class = GSF_INFILE_CLASS (gobject_class);\n\n\tgobject_class->constructor      = gsf_infile_tar_constructor;\n\tgobject_class->finalize\t\t= gsf_infile_tar_finalize;\n\tgobject_class->dispose\t\t= gsf_infile_tar_dispose;\n\tgobject_class->get_property     = gsf_infile_tar_get_property;\n\tgobject_class->set_property     = gsf_infile_tar_set_property;\n\n\tinput_class->Dup\t\t= gsf_infile_tar_dup;\n\tinput_class->Read\t\t= gsf_infile_tar_read;\n\tinput_class->Seek\t\t= gsf_infile_tar_seek;\n\tinfile_class->num_children\t= gsf_infile_tar_num_children;\n\tinfile_class->name_by_index\t= gsf_infile_tar_name_by_index;\n\tinfile_class->child_by_index\t= gsf_infile_tar_child_by_index;\n\tinfile_class->child_by_name\t= gsf_infile_tar_child_by_name;\n\n\tparent_class = g_type_class_peek_parent (gobject_class);\n\n\tg_object_class_install_property\n\t\t(gobject_class,\n\t\t PROP_SOURCE,\n\t\t g_param_spec_object (\"source\",\n\t\t\t\t      _(\"Source\"),\n\t\t\t\t      _(\"The archive being interpreted\"),\n\t\t\t\t      GSF_INPUT_TYPE,\n\t\t\t\t      GSF_PARAM_STATIC |\n\t\t\t\t      G_PARAM_READWRITE |\n\t\t\t\t      G_PARAM_CONSTRUCT_ONLY));\n}\n\nGSF_CLASS (GsfInfileTar, gsf_infile_tar,\n\t   gsf_infile_tar_class_init, gsf_infile_tar_init,\n\t   GSF_INFILE_TYPE)\n\n/**\n * gsf_infile_tar_new:\n * @source: A base #GsfInput\n * @err: A #GError, optionally %NULL\n *\n * Opens the root directory of a Tar file.\n * <note>This adds a reference to @source.</note>\n *\n * Returns: the new tar file handler\n **/\nGsfInfile *\ngsf_infile_tar_new (GsfInput *source, GError **err)\n{\n\tGsfInfileTar *tar;\n\n\tg_return_val_if_fail (GSF_IS_INPUT (source), NULL);\n\n\ttar = g_object_new (GSF_INFILE_TAR_TYPE,\n\t\t\t    \"source\", source,\n\t\t\t    NULL);\n\n\tif (tar->err) {\n\t\tif (err)\n\t\t\t*err = g_error_copy (tar->err);\n\t\tg_object_unref (tar);\n\t\treturn NULL;\n\t}\n\n\treturn GSF_INFILE (tar);\n}\n"], "fixing_code": ["2016-11-30  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-tar.c (tar_directory_for_file): Handle the case\n\twhere what we expected to be a directory is a file.  (That implies\n\ta corrupted tar file.)  Thanks to Behzad Najjarpour Jabbari,\n\tSecunia Research at Flexera Software for discovering this.\n\n2016-08-20  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-08-20  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.40\n\n2016-06-29  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-06-29  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.39\n\n2016-06-17  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-06-17  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.38\n\n2016-06-04  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_trailer64_write): Fix ZIP64 EOCD size\n\tto exclude leading 12 bytes.  From Felix Bu\u0308nemann\n\t<buenemann@louis.info>\n\n\t* tests/LibGsfTest.pm: Use 7z for archive testing when available.\n\tIt's stricter.\n\n2016-05-30  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-05-30  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.37\n\n2016-04-18  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-tar.c (unpack_octal): Allow a terminating space\n\tinstead of NUL.  Fixes #765099.\n\n2016-02-12  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-02-12  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.36\n\n2016-02-09  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/gsf-output-gio.c (gsf_output_gio_new_full),\n\t(gsf_output_gio_close), (gsf_output_gio_init): Remove the unused GFile\n\tmember. Fix a few criticals.\n\n2016-02-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_open_pkg_open_rel): Move\n\tparent-reffing to after we handle absolute references.  Fixes\n\t#761648.\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_parse): Plug leak.\n\n2016-02-06  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2016-02-06  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.35\n\n2016-01-21  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (main): Set of locale stuff.  Patch by Ting-Wei Lan.\n\tAlso set up gettext stuff.\n\n2016-01-13  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_read): Improve error\n\thandling.  Fixes #760543.\n\n2016-01-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_section): Handle the\n\tno-property case sanely.  Fixes #760047.\n\n2015-07-28  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2015-07-28  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.34\n\n2015-07-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_seek_block): Fix seek error check.\n\n2015-07-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_init_info): Add debug code.\n\t(gsf_infile_msole_new_child): Fix error check from seek.\n\n2015-07-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Exit loop if no\n\tprogress.  Fixes #751273.\n\n2015-06-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_utf8_gets): Go\n\tcharacter-by-character.  This is the right thing to do and also\n\tprevents stepping past the end.\n\n2015-06-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_open_pkg_open_rel): Improve\n\thandling of absolute references.  Fixes #751120.\n\n2015-06-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_read): Fuzzed file fix.\n\tFixes #750809.\n\n2015-05-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_write): Fix portability issue.\n\n2015-05-10  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (open_pkg_rel_begin): Be more careful\n\tin removing entries partially overwritten by dupes.  [#749183]\n\n2015-05-09  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (vba_dir_read): Free only once.\n\t(gsf_vba_inflate): Don't crash after error.  [#749169]\n\n2015-04-27  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_read): Reduce size available\n\tfor property by 4 since that is taken by the typeid.\n\n2015-04-18  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_get_output): Doc fix.\n\n2015-04-16  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2015-04-16  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.33\n\n2015-04-09  Morten Welinder  <terra@gnome.org>\n\n\t* tests/test-xml.c: Add meaning code in here.\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_end_element): Only indent closing\n\ttag if we're at the beginning of the line because we\n\tpretty-printed the previous closing tag.\n\t(gsf_xml_out_get_pretty_print, gsf_xml_out_set_pretty_print): New\n\tconvenience functions.\n\n2015-03-30  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_add_nodes): Introduce new flag\n\tGSF_XML_2ND to explicitly identify duplicate nodes.\n\n2015-03-13  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_set_silent_unknowns): New function.\n\n2015-03-04  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_float): Do a better job of\n\tsaving all precision.\n\n2015-03-04  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2015-03-04  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.32\n\n2015-02-22  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c\n\t(gsf_outfile_open_pkg_set_content_type): Allow a NULL content type\n\tfor when defaults cover the file.\n\n2015-02-09  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_open_pkg_write_content_override):\n\tRelease children here, not in gsf_outfile_open_pkg_close.\n\n2015-02-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_outfile_open_pkg_close): Plug\n\tleak.\n\n2015-02-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_outfile_open_pkg_close): Also add\n\tvml extension.\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element): Nodes inside\n\tunknown nodes are themselves unknown, even if they would appear to\n\tbe known had the intervening unknown nodes not been there.  In\n\tother words: don't lookup nodes while we are parsing an unknown\n\ttag's contents.\n\n2015-02-04  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2015-02-04  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.31\n\n2015-02-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_vaname): Fix age-old leak.\n\n2015-01-25  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add 2 new localc namespaces\n\t* gsf/gsf-opendoc-utils.h: add new enum values to support above\n\tname spaces)\n\n2014-12-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (special_mimetype_dirent): New function.\n\t(zip_dirent_write, zip_header_write): Don't write a special unix\n\tmtime field for the special mimetype entry.\n\t(zip_close_root): Sort by offset.  Note: this may not be necessary\n\tor even desired, but help with the zipdetails utility.\n\t(zip_init_write): Make the special mimetype default to !zip64.\n\t(gsf_outfile_zip_new): Null the error return value.\n\t(zip_dirent_write, zip_header_write): Use extract version 2.0 for\n\tthe !zip64 case.\n\n2014-12-14  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_write): Fix test for writing\n\tignore header.\n\n2014-12-02  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (gsf_create): Allow \"-\" for output to stdout.\n\n\t* tests/LibGsfTest.pm (test_valgrind): Dump valgrind output when\n\tverbose.\n\n\t* tools/gsf.c (gsf_create): Use our perfectly fine GType macros\n\tinstead of a home grown enum.\n\n2014-12-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (follow_symlinks): Plug leak.\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_write): Handle the case of\n\tsmall file beyond offset 4G.  The header record won't be zip64,\n\tbut the dirent needs to.\n\t(zip_dirent_write): Mark this entry as needing 4.5 to extract if\n\tthe central directory entry uses zip64, even if the local header\n\tdoes not.\n\n2014-11-30  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.h (GSF_LE_SET_GU?INT{16,32,64}): Add casts to make\n\tthings more function-like and avoid implementation defined\n\tbehaviour.\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_write): The the archive is in\n\tauto mode and the member is not using a zip64 extra field, use an\n\tIGNORE extra field to work around known zipinfo bug.\n\n\t* tools/gsf.c (gsf_create, load_recursively): Add error checks on\n\tclose.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_write): When zip64 is\n\tforced off, don't allow writing beyond the 4G barrier.\n\t(zip_header_write): If we write a real zip64 entry, mark the\n\tdirent as being zip64.\n\t(zip_close_root): If any dirent is zip64, the archive is.\n\t(zip_output_block): Catch overflow of csize.\n\t(zip_header_patch_sizes): Resolve zip64 to FALSE if it remained\n\tauto until now.\n\n2014-11-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_header_write): Determine if the sink\n\tis seekable.  Use a DDESC, if not.\n\n\t* gsf/gsf-output-gio.c (gsf_output_gio_write): Simplify and handle\n\tthe zero bytes cases better.\n\t(gsf_output_gio_new_full): Check seekability here and thus only\n\tonce.\n\n\t* gsf/gsf-output-iochannel.c (gsf_output_iochannel_seek): Check\n\tfor is_seekable before trying to do so.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_class_init): Properly\n\tinstall zip64 property.\n\t(zip_header_write): Fix auto-zip64 mode's writing of sizes.\n\t(zip_ddesc_write): Do write signature.\n\n2014-11-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_new_out): Store mtime in zip\n\tfiles, as long as they fit.\n\n2014-11-27  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_copy): Minor cleanups.\n\n\t* tools/gsf.c (load_recursively): Complain if gsf_input_copy\n\tfails.\n\n2014-11-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (zip_dirent_new_in): Fix reading of\n\textended field.  csize and usize are swapped in there.\n\t(zip_dirent_new_in): Read the right amount of variable data.\n\t(zip_read_dirents): Check trailer64 signature.\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_write): Fix file mode.\n\n2014-11-22  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (open_archive): Plug leak.\n\n\t* gsf/gsf-infile-stdio.c (GsfInfileStdio): Use a GPtrArray instead\n\tof a list for performance with large directories.\n\n2014-11-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_read0): Fix 64-bit issue.\n\n\t* gsf/gsf-utils.c (gsf_input_dump): Fix 64-bit issue.  Read larger\n\tblocks.\n\n\t* gsf/gsf-infile-zip.c (zip_read_dirents): Handle zip64 format for\n\tarchives with 65535 or more members.\n\t(ZipInfo): Larger fields; use GPtrArray for speed.  All users\n\tchanged.\n\t(zip_find_trailer): Fix endianess issue.\n\t(gsf_infile_zip_read): Fix 64-bit issue.\n\t(zip_dirent_new_in): Handle zip64 extra fields.\n\n\t* gsf/gsf-zip-impl.h (GsfZipVDir): Use a GPtrArray for speed.  All\n\tusers changed.\n\n\t* gsf/gsf-input.c: Update to new introspection syntax.\n\n2014-11-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_user_defined_end): Plug leak.\n\n2014-11-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_inflate): Don't place\n\tuninitialized values into the output even for corrupted files.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Plug leak.\n\n\t* gsf/gsf-infile-msvba.c (vba_dir_read): Plug leak.\n\n\t* gsf/gsf-structured-blob.c (blob_finalize, blob_dup)\n\t(blob_child_by_name, gsf_structured_blob_read): Reduce CRITICALs\n\ton corrupted files.\n\n2014-10-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c: Avoid deprecated g_type_init.\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Plug leak.\n\n2014-04-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_set_property): Add new\n\tproperty default-level.\n\n2014-03-19  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2014-03-19  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.30\n\n2014-03-06  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/gsf-input-http.c (make_local_copy), (gsf_input_http_new):\n\tmake a local copy. nanohttp does not always report the correct size.\n\t[see #724970]\n\n2014-03-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gio.c (gsf_input_gio_new): Always make local copy.\n\tglib reports wrong size.\n\n2014-02-28  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (main): Activate translations.  Patch from\n\tJuhani Numminen <juhaninumminen0@gmail.com>\n\n2014-01-04  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2014-01-04  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.29\n\n2013-12-14  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (open_pkg_rel_begin): Handle duplicate\n\tor missing id and type.  Fixes #720458.\n\n2013-12-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.h (GSF_LE_GET_GUINT32): cast unsigned char to\n\tguint32 before left-shifting by 24.  This avoids an implicit cast\n\tto int followed by an overflowing left-shift which is undefined in\n\tthe C standard.\n\n2013-09-13  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (zip_child_init): Fix translation marking,\n\tplug leak.  Fixes #706937.\n\n2013-08-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-stdio.c (gsf_outfile_stdio_new_valist): Allow\n\tthe directory to exist.  Patch from  Allin Cottrell.  #706219.\n\n2013-08-01  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2013-08-01  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.28\n\n2013-08-01  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac (set_more_warnings): When checking for warnings\n\tflags, include <stdio.h> for mingw's benefit.\n\n2013-07-30  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_parser_context_full): allow the huge libxml\n\tparser mode so that gnumeric can load large images. [#705100]\n\n2013-07-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_string): Protect\n\tagainst strings that cannot be converted.  See bug #703952.\n\n2013-06-25  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_read): use the\n\tcorrect conversion specifier\n\n2013-06-23  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2013-06-23  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.27\n\n2013-06-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-ar.[ch]: Delete.\n\n2013-06-21  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_end_document): Plug leak.\n\n2013-06-19  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_load_from_string): perfrom\n\tsome range checking to avoid crashing in glib.\n\n2013-04-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (gsf_vba_inflate): Plug multiple leaks.\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_read): Don't read\n\tbeyond the number of bat blocks we have.  (We can have less blocks\n\tthan expected when the bat chain is found to be circular.)  Don't\n\toptimize seek; the lower levels will do that just fine.\n\t(ole_make_bat): Simplify.\n\n2013-03-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_set_modtime): Change to transfer-none\n\tsemantics.  All callers changed.\n\t* gsf/gsf-output.c (gsf_output_set_modtime): Change to\n\ttransfer-none semantics.  All callers changed.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close_root): Set\n\tmodtime when available.\n\n\t* gsf/gsf-output.c (gsf_output_set_property): Make name property\n\twritable.\n\n\t* gsf/gsf-input.c (gsf_input_dup): Simplify.  Prevent leak of\n\tcontainer ref if derived class set one.\n\n2013-03-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_property_settings_find): New function.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_new_child): Don't add\n\tmodtime is caller did.\n\n\t* tools/gsf.c (load_recursively): Simlify using, of all things,\n\tgsf.  Avoid crazy memory usage.  Take care of modtime.\n\n2013-03-04  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-tar.c (tar_init_info): Also read mtime from\n\tarchive.\n\t(gsf_infile_tar_child_by_index): Set modtime of input when\n\tpossible.\n\n\t* tools/gsf.c (ls_R): Print also modtime when available.\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_new_child): Set modtime of\n\tchild.\n\t(zip_dirent_new_in): Read modtime from file.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_new_child): Parent's\n\tmodtime is child's default.\n\t(gsf_outfile_zip_constructor): Default modtime is now.\n\n\t* configure.ac: Check for utime.h and sys/utime.h.  Check for\n\tstat.st_mtimensec and stat.st_mtim.tv_nsec.\n\n\t* tests/test-cp.c (test): Copy modtime too.\n\n\t* gsf/gsf-input.c (gsf_input_get_property): Add new modtime\n\tproperty.\n\t* gsf/gsf-output.c (gsf_output_get_property): Ditto.\n\n\t* gsf/gsf-input-gzip.c (check_header): Set modtime when available.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Set modtime.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close): Set modtime of\n\tresulting file.\n\n\t* gsf/gsf-input.c (gsf_input_uncompress): Fix potential failure\n\twith bzip'd input.\n\n2013-03-03  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-command-context.c: Remove.\n\t* gsf/gsf-command-context.h: Remove.\n\t* gsf/gsf-io-context.c: Remove.\n\t* gsf/gsf-io-context.h: Remove.\n\t* gsf/gsf-output-transaction.c: Remove.\n\t* gsf/gsf-output-transaction.h: Remove.\n\t* gsf/Makefile.am: Remove references to those files.\n\n2013-02-27  Morten Welinder <terra@gnome.org>\n\n\t* configure.ac: Post-release bump.\n\n2013-02-27  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.26\n\n2013-02-25  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* tests/test-msole1.c (test): fix build.\n\n2013-02-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_name)\n\t(gsf_infile_child_by_vname, gsf_infile_child_by_vaname)\n\t(gsf_infile_child_by_aname): Doc improvements.\n\n\t* gsf/gsf-input.c (gsf_input_uncompress): Avoid HAVE_BZ2\n\tconditionals.\n\n\t* gsf/gsf-utils.c (gsf_init_dynamic): Register the tar type too.\n\n\t* gsf/gsf-input.c (gsf_input_read): Detect overflow.\n\n2013-02-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_section): Add sanity\n\tcheck.\n\n2013-02-17  Morten Welinder  <terra@gnome.org>\n\n\t* configure.ac (set_more_warnings): Improve support for clang.\n\n2013-02-05  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* doc/gsf-sections.txt: fix gtk-doc warnings.\n\t* gsf/gsf-opendoc-utils.c: ditto.\n\t* tools/gsf.c (get_meta_data): don't use deprecated symbols.\n\n2013-01-26  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (ole_write_bat, ole_write_const): Bunch\n\tthings up as large writes instead of piles of little ones.\n\n2013-01-19  Valek Filippov  <frob@df.ru>\n\n\t* gsf/gsf-infile-msvba.c,.h (gsf_vba_inflate): Fix for short streams.\n\n2013-01-15  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* configure.ac: renamed configure.in and update obsolete macros.\n\t* configure.in: ditto.\n\n2013-01-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (chown_wrapper): New function.\n\t(chmod_wrapper, access_wrapper): Eliminate in favour of g_chmod\n\tand g_access.\n\n\t* configure.in: Check for g_chown instead of g_chmod and g_access\n\twhich we can now assume.\n\n\t* gsf/gsf-infile-zip.c (zip_child_init): Attempt working around\n\tanother clang false positive.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_new_clone): For around\n\ta clang false positive.\n\n\t* gsf/*.c: Stop pretending that g_object_new can return NULL.\n\n2013-01-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gio.c (gsf_output_gio_new_full): New function\n\tfactored out from gsf_output_gio_new.\n\t(gsf_output_gio_new_for_path, gsf_output_gio_new_for_uri): Use\n\tgsf_output_gio_new_full for proper error handling.\n\n2013-01-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gio.c (gsf_output_gio_new_for_uri): Use\n\tpreconditions for programming errors.\n\t(gsf_output_gio_write): Drop unneeded cast.\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_gvalue): Deal with G_TYPE_CHAR\n\talways being signed char.\n\t(gsf_xml_gvalue_from_str): Ditto.\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Ditto.\n\n2013-01-05  Valek Filippov  <frob@df.ru>\n\n\t* gsf/gsf-infile-msvba.c,.h (gsf_vba_inflate): Fix based on\n\t [MS-OVBA] and test files.  Fixes #656531.\n\n2012-12-20  =?UTF-8?q?Marc-Andr=C3=A9=20Lureau?= <marcandre.lureau@gmail.com>\n\n\t* gsf/gsf-infile-msole.c (ole_seek_block): Factor out from\n\tgsf_infile_msole_read.\n\n2012-12-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_child_by_index)\n\t(gsf_infile_msole_name_by_index): Avoid casts.\n\n2012-12-05  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_dup): Make this a\n\tsimple wrapper over gsf_infile_msole_dup.  Fixes #689706.\n\n2012-11-13  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2012-11-13  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.25\n\n2012-10-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_string): Pad to\n\t4-byte boundary if char_size>1 as per spec.\n\n2012-10-27  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_string): New\n\tfunction to take codepage into account.\n\t(msole_metadata_write_prop, cb_write_dict): Use\n\tmsole_metadata_write_string.\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_meta_data_insert): Initialize\n\t->ref_count.\n\n2012-10-16  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (main): Add commands to create zip and ole files.\n\tPatch from jorilx@gmail.com, see bug 683788.\n\n2012-09-03  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2012-09-03  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.24\n\n2012-08-02  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* doc/Makefile.am: fixed as many introspection and gtk-doc issues as\n\tpossible.\n\t* doc/gsf-sections.txt: ditto.\n\t* gsf/Makefile.am: ditto.\n\t* gsf/gsf-blob.c: ditto.\n\t* gsf/gsf-blob.h: ditto.\n\t* gsf/gsf-clip-data.c: ditto.\n\t* gsf/gsf-clip-data.h: ditto.\n\t* gsf/gsf-infile-msvba.c (gsf_input_find_vba): ditto.\n\t* gsf/gsf-infile-zip.c (vdir_insert), (zip_info_unref): ditto.\n\t* gsf/gsf-libxml.c (gsf_xml_gvalue_from_str),\n\t(gsf_xml_out_get_output): ditto.\n\t* gsf/gsf-msole-utils.c (msole_prop_parse),\n\t(gsf_doc_meta_data_read_from_msole), (gsf_msole_metadata_read),\n\t(gsf_doc_meta_data_write_to_msole), (gsf_msole_metadata_write):\n\t* gsf/gsf-msole-utils.h: ditto.\n\t* gsf/gsf-open-pkg-utils.h: ditto.\n\t* gsf/gsf-opendoc-utils.c (gsf_odf_get_version_string),\n\t(gsf_odf_get_version), (get_gsf_odf_version), (gsf_odf_get_ns),\n\t(get_gsf_ooo_ns), (gsf_doc_meta_data_odf_subtree),\n\t(gsf_opendoc_metadata_subtree), (gsf_doc_meta_data_read_from_odf),\n\t(gsf_opendoc_metadata_read), (gsf_doc_meta_data_write_to_odf),\n\t(gsf_opendoc_metadata_write): ditto.\n\t* gsf/gsf-opendoc-utils.h: ditto.\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_finalize),\n\t(gsf_outfile_zip_new_child): ditto.\n\t* gsf/gsf-timestamp.c (gsf_timestamp_load_from_string),\n\t(gsf_timestamp_from_string), (gsf_timestamp_parse),\n\t(gsf_timestamp_to_value): ditto.\n\t* gsf/gsf-timestamp.h: ditto.\n\t* gsf/gsf-utils.c (gsf_init_dynamic): ditto.\n\t* gsf/gsf-zip-impl.h: ditto.\n\t* gsf/gsf-zip-utils.c (gsf_vdir_free), (gsf_zip_vdir_free),\n\t(gsf_zip_vdir_copy), (gsf_zip_vdir_destroy),\n\t(gsf_zip_vdir_get_type), (gsf_vdir_add_child),\n\t(gsf_zip_vdir_add_child): ditto.\n\t* gsf/gsf.h: ditto.\n\t* thumbnailer/main.c (msole_thumbnail): ditto.\n\n2012-07-20  Jean Brefort  <jean.brefort@normalesup.org>\n\t* all files: fix introspection and gtk-doc warnings.\n\n2012-05-22  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_xml_out_add_gvalue_for_odf): new\n\t(meta_write_props_user_defined): use gsf_xml_out_add_gvalue_for_odf\n\t(meta_write_props): use gsf_xml_out_add_gvalue_for_odf\n\n2012-05-21  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* configure.in: copied code from introspection.m4\n\n2012-05-18  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* Makefile.am: enhance introspection build support.\n\t* configure.in: ditto.\n\t* gsf/Makefile.am: ditto.\n\n2012-04-19  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2012-04-19  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.23\n\n2012-03-31  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_user_defined): default to\n\tG_TYPE_NONE\n\t(od_meta_user_defined_end): Check for \"GSF_DOCPROP_VECTOR:\" and\n\thandle accordingly\n\t(meta_write_props_user_defined): code extracted from\n\tmeta_write_props\n\t(meta_write_props): use meta_write_props_user_defined and handle\n\tGSF_DOCPROP_VECTOR_TYPE\n\n2012-03-25  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (test_python): Disable by default.  Patch from\n\tAlban Browaeys in #672663.\n\n2012-03-21  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.h (GsfODFOut): New object class.\n\n\t* gsf/gsf-opendoc-utils.c (gsf_opendoc_metadata_write): change\n\toutput argument type to \"gpointer\" so we can take either GsfXMLOut\n\tor GsfODFOut.  Get the odf version from the output if that happens\n\tto be a GsfODFOut.\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_class_init): Install new property\n\t\"sink\".\n\t(gsf_xml_out_new): Just call g_object_new.\n\n\t* gsf/gsf-libxml.h (GsfXMLOut): Make this just public enough that\n\twe can derive from it.\n\n2012-03-20  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (libgsf_reqs): Fix glib dependency.\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_from_string): Reimplement\n\tbased on glib's GDateTime.  Fixes time-shift part of #671860.\n\n2012-03-10  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/Makefile.am: make introspection work when libgsf is not installed.\n\t[#671698]\n\n2012-02-06  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* configure.in: apply patch from Alan Knowles to add gobject introspection\n\tsupport. [#610340]\n\t* gsf/Makefile.am:\n\n2011-12-15  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2011-12-15  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.22\n\n2011-12-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_cmp): Use\n\tgsf_msole_sorting_key_cmp.\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_sorting_key_new)\n\t(gsf_msole_sorting_key_free, gsf_msole_sorting_key_cmp): New\n\tfunctions.\n\n\t* gsf/gsf-outfile-msole.c (make_sorting_name): New function.\n\t(gsf_outfile_msole_constructor): New function.\n\t(gsf_outfile_msole_class_init): Hook up constructor.\n\t(GsfOutfileMSOle): Add a key member.\n\t(ole_name_cmp): Use gsf_msole_sorting_key_cmp.  Fixes #665712.\n\n2011-12-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-memory.c: Drop HAVE_BROKEN_MMAP -- FreeBSD was\n\tfixed 8+ years ago, so this code isn't being run.\n\n\t* gsf/gsf-utils.c: Assume HAVE_G_BASE64_ENCODE.\n\n\t* gsf/*.c: Eliminate pointless G_OBJECT casts.\n\n\t* configure.in: Require glib 2.16 for g_strcmp0.\n\n\t* gsf/gsf-input.c (gsf_input_dispose): Rename from\n\tgsf_input_finalize and hook up accordingly.\n\t(gsf_input_set_name): Notify the property if changed.\n\n\t* gsf/gsf-output.c (gsf_output_set_name): Notify the property if\n\tchanged.\n\t(gsf_output_set_name_from_filename): Base of gsf_output_set_name.\n\n2011-11-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gio.c (gsf_input_gio_read): Handle unexpected EOF\n\tfrom source.  Never request more than gio is documented to handle.\n\t(make_local_copy): Set name from file.\n\n2011-09-08  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Switch to AM_MAINTAINER_MODE([enable]).\n\n2011-07-01  Morten Welinder  <terra@gnome.org>\n\n\t* thumbnailer/main.c (set_resource_limits): Fix conditional.\n\n2011-05-21  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-win32/gsf-output-win32.c (gsf_output_istream_set_error): Use\n\tproper format string.\n\t* gsf-win32/gsf-input-win32.c (hresult_to_gerror): Ditto.\n\n2011-05-20  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2011-05-20  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.21\n\n2011-05-10  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (get_gsf_odf_version_string): bump to 1.2\n\t(get_gsf_odf_version): bump to 1.2\n\n2011-05-09  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_user_defined): check for all ODF defined\n\tvalue types and use the correct attribute name\n\t(meta_write_props): use the correct attribute name\n\n2011-05-09  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_user_defined): initialize type\n\tand name.\n\n2011-05-02  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/gsf-impl-utils.h: fix GSF_DYNAMIC_CLASS_FULL to make gcc-4.6 happy.\n\n2011-04-05  Morten Welinder  <terra@gnome.org>\n\n\t* Makefile.am: ${ACLOCAL_FLAGS}, not $(ACLOCAL_FLAGS) which seems\n\tto matter to Gentoo.  Fixes #645777.\n\n2011-03-28  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Implement --without-gconf (as opposed to looking\n\tfor gconftool-2.\n\n2011-03-24  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.20\n\n2011-03-24  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2011-03-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_user_defined_end): Create a\n\tvalue of the requested type.\n\t(od_meta_user_defined): Handle the meta:type attribute.\n\t(GsfOOMetaIn): Add new member \"typ\".\n\t(meta_write_props): Fix typo.\n\n2010-12-17  Morten Welinder  <terra@gnome.org>\n\n\t* tests/test-outmem-printf.c (test): Attempt a leak fix.\n\n2010-11-10  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Handle NULL error\n\tmessage without crashing.  [#634435]  Patch by Caolan McNamara.\n\n2010-09-25  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release bump.\n\n2010-09-25  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.19\n\n2010-09-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element): Don't complain over\n\telements in unknown namespaces.\n\n2010-09-15  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add another one of OOo's\n\tnamespaces\n\t* gsf/gsf-opendoc-utils.h: add new enum value to support above\n\tname spaces)\n\n2010-08-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-impl-utils.h (GSF_CLASS_FULL): Don't use C89 argument\n\tlists.\n\n\t* gsf/gsf-output-bzip.c (gsf_output_bzip_close): Rework previous\n\tchange.  We do not want two prototypes.\n\n2010-08-15  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add some more of OOo's\n\tnamespaces\n\t* gsf/gsf-opendoc-utils.h: add new enum values to support above\n\tname spaces)\n\t* gsf/gsf-output-bzip.c (gsf_output_bzip_close): quieten compile\n\n2010-07-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_debug_flag): New function.\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element): Don't complain over\n\tmissing namespace uris unless a debug flag is set.\n\n2010-04-07  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release-bump.\n\n2010-04-07  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.18\n\n2010-04-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_header_write, zip_dirent_write): Use\n\tdirent->flags for consistency.  Fixes #614968.\n\t(zip_dirent_update_flags): New function.\n\t(zip_dirent_new_out): Deduce dirent->flags.\n\n\t* gsf/gsf-infile-zip.c (zip_dirent_new_in): Read dirent->flags.\n\n2010-04-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_cstr): Fix win32 warning about\n\tformat.\n\n2010-02-13  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post-release-bump.\n\n2010-02-13  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.17\n\n2009-11-18  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_meta_data_foreach): Sort the\n\tkey-value pairs.\n\n2009-11-17  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* autogen.sh: allow dirs on PATH to have spaces withou causing warning\n\n2009-10-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_probe_element): Fix crash on documents\n\tlike <a:b xmlns:c=\"d://\"/>\n\n2009-10-11  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.16\n\n2009-09-25  Morten Welinder  <terra@gnome.org>\n\n\t* thumbnailer/main.c (call_convert): Use gdk_pixbuf if available.\n\n2009-09-25  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (libgsf_gnome_reqs): Remove gnome-vfs stuff.\n\tFixes #593480\n\n2009-09-22  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add variant of OO_NS_FIELD\n\n2009-08-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element): Complain to stderr,\n\tnot stdout.  Fixes #592471.\n\n2009-06-20  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Post-release-bump.\n\n2009-06-20  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.15\n\n2009-06-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Use gsf_timestamp_new\n\tand gsf_timestamp_set_time.\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_from_string): Improve error\n\tchecking.\n\t(gsf_timestamp_set_time): New function.\n\t(gsf_timestamp_new): New function.\n\n2009-06-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): If parsing fails,\n\tdon't return a bogus value.  Fixes #584848.\n\n2009-05-26  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.h (gsf_odf_version): deleted\n\t(gsf_odf_version_string): deleted\n\t(get_gsf_ooo_ns): new\n\t(get_gsf_odf_version_string): new\n\t(get_gsf_odf_version): new\n\n2009-05-25  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.[ch]: replace GSF_ODF_VERSION with a variable\n\n2009-05-25  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.[ch]: replace GSF_ODF_VERSION_STRING with the\n\t  varaible gsf_odf_version_string and turn GSF_ODF_VERSION into an\n\t  enum.\n\n2009-05-24  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_opendoc_metadata_write): use\n\t  GSF_ODF_VERSION_STRING\n\t* gsf-opendoc-utils.h (GSF_ODF_VERSION): new and bump to 1.1\n\t(GSF_ODF_VERSION_STRING): new\n\n2009-05-23  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Psot-release bump.\n\n2009-05-23  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.14\n\n2009-05-16  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.h: add namespace enumeration constant for\n\t  new OOo and Gnumeric namespaces\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add new namespaces for OOo\n\t  and Gnumeric\n\n2009-05-13  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_start_element): remove erroneous\n\t  g_return_if_fail. Note that some part of the code specifically\n\t  handles that situation.\n\t(close_tag_if_neccessary): If we are in GSF_XML_OUT_CHILD we need\n\t  not close the tag\n\n2009-05-10  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.h: add namespace enumeration constant for\n\t  MSOXL\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add namespace for MSOXL\n\n2009-05-10  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_opendoc_meta_dtd): scan meta's\n\t  children for more namespaces to handle CleverAge's files.\n\n2009-05-10  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.h: add more new namespace enumeration\n\t  constants\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add more new namespaces\n\n2009-05-10  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.h: add new namespace enumeration\n\t  constants\n\t* gsf/gsf-opendoc-utils.c (gsf_ooo_ns): add new namespaces\n\n2009-05-06  Morten Welinder <terra@gnome.org>\n\n\t* configure.in : post release bump\n\n2009-05-06  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.13\n\n2009-05-06  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\tFixes #581530\n\t* gsf/gsf-opendoc-utils.c (gsf_opendoc_meta_dtd): split into\n\t  gsf_opendoc_meta_dtd and gsf_opendoc_meta_st_dtd\n\t(gsf_opendoc_metadata_subtree_free): free the state not the doc\n\t(gsf_opendoc_metadata_subtree): use your own dtd\n\t(gsf_opendoc_metadata_subtree_internal): new\n\n2009-04-28  Emmanuel Pacaud <emmanuel@gnome.org>\n\n\tAdd doap file.\n\n2009-04-25  Morten Welinder <terra@gnome.org>\n\n\t* configure.in : post release bump\n\n2009-04-25  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.12\n\n2009-04-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_new_clone): Fix\n\tpreconditions.  Always allocate at least one byte.  Avoid cast.\n\tFixes #580228.\n\n2009-04-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_set_error): Fix allocation method\n\tproblem for errors.  Fixes #579155.\n\n2009-04-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new_child): Fix a\n\tcouple of warnings.\n\n2009-04-13  Andreas J. Guelzow <aguelzow@pyrshep.ca>\n\n\t* gsf/gsf-opendoc-utils.c (GsfOOMetaIn): added field\n\t(od_meta_user_defined): implement\n\t(od_meta_user_defined_end): new\n\t(gsf_opendoc_meta_dtd): handle \"user-defined\" completely\n\t(gsf_opendoc_metadata_read): initialize state.name\n\n2009-04-11  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (lookup_child) : handle namespace uri being\n\t  declared as both default and explict prefix.\n\n2009-02-07  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (bonobo): auto-detect.\n\n2009-02-19  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf.h : document the members of timestamp to avoid gtk-doc\n\t  warnings.\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_from_string) : renamed from.\n\t(gsf_timestamp_parse) : here, and this is deprecated.\n\n2009-02-18  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new_child) : Handle\n\t  small-block files that are not block aligned. [#572290]\n\n2009-02-04  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_cstr): Drop characters that\n\txml 1.0 cannot represent.  Bandaids #568919.\n\n2009-01-30  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_quoting_mode_get_type):\n\tDeclare \"values\" as static, as the second argument to\n\tg_enum_register_static may not be stack-allocated, because GObject\n\tkeeps a reference to the data. This fixes a problem generating the\n\tdocumentation in some environments; see\n\thttp://gcc.gnu.org/bugzilla/show_bug.cgi?id=39015 .\n\n2009-01-26  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_characters): Handle the case where\n\twe get here without being initialized.  See 568994.\n\t(gsf_xml_in_end_document): Mark ourselves uninitialized here.\n\n2009-01-06  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2009-01-06  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.11\n\n2009-01-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_open_pkg_open_rel) : clean up the\n\t  logic to handle rels with empty components, leading '/', or '.'\n\t  to deal with POI generated files.\n\n2008-12-25  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (statfs): Fix detection for Darwin.  Fixes #565603.\n\n\t* gsf-gnome/gsf-input-gnomevfs.h, gsf-gnome/gsf-output-gnomevfs.h:\n\tFix compilation in gnome case.  Fixes #565605.\n\n2008-12-24  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gio.c (make_local_copy): Use larger buffer.\n\t(gsf_input_gio_new, gsf_input_gio_new_for_path,\n\tgsf_input_gio_new_for_uri): Use g_return_val_if_fail as\n\tappropriate.\n\n\t* gsf/gsf-input-stdio.c (make_local_copy): New function.\n\t(gsf_input_stdio_new, gsf_input_stdio_new_FILE): Use\n\tmake_local_copy for non-regular files.\n\n2008-12-14  Morten Welinder  <terra@gnome.org>\n\n\t* */*.c: Clean up glib includes.  Patch from Pedro Fragoso.  Fixes\n\t#564004.\n\n2008-11-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (DllMain): glib-2.18 deprecated\n\t  G_WIN32_DLLMAIN_FOR_DLL_NAME, create a DllMain ourselves to\n\t  capture the dll handle.\n\t(gsf_init): use it here with\n\tg_win32_get_package_installation_directory_of_module.\n\n\t* configure.in : add MSGs for the preceding bz2 test.\n\n2008-11-23  Jody Goldberg <jody@gnome.org>\n\n\tFrom : Richard W.M. Jones <rjones@redhat.com>\n\t* configure.in : AC_CHECK_LIB doesn't work with the Windows port\n\tof libbz2 because dnl it uses the __stdcall calling convention.\n\n2008-11-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-bzip.c: Pretend to use args in the\n\tdon't-have-bzip case.\n\t* gsf/gsf-intput-bzip.c: Pretend to use args in the\n\tdon't-have-bzip case.\n\n2008-11-05  Morten Welinder  <terra@gnome.org>\n\n\t* */*.c: Fix problem with formats.  Based on patch from Hib Eris,\n\t#559291.\n\n2008-10-30  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (rename_wrapper): Only use statfs if it\n\tis the expected two-argument kind.  Fixes #558253.\n\n2008-10-23  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-utils.c: Natural endian doubles aren't just used on VFP\n\tenabled ARM, but on ARM with EABI as well. Adjust the logic for\n\tdefining G_FLOAT_BYTE_ORDER accordingly. Patch courtesy of Riku Voipio\n\t<riku.voipio@iki.fi>. (Debian #503144)\n\n2008-10-19  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.10\n\n2008-10-17  Andreas J. Guelzow  <aguelzow@pyrshep.ca>\n\n\t* gsf-gnome/gsf-input-gnomevfs.h: add #define if\n\t  LIBGSF_GNOMEVFS_VIA_GIO is defined\n\n2008-10-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/Makefile.am: Don't compile the gnomevfs part unless\n\tasked to.\n\n2008-10-16  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Define LIBGSF_GNOMEVFS_VIA_GIO via command line,\n\tif needed.\n\t* gsf-gnome/gsf-output-gnomevfs.h: Don't include config file.  Get\n\tLIBGSF_GNOMEVFS_VIA_GIO from command line.\n\t* gsf-gnome/gsf-input-gnomevfs.h: Ditto.\n\n2008-10-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_info_read_metabat): Use g_warning,\n\tnot g_return_val_if_fail.  Fixes #554848.\n\n2008-09-28  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (ls_R): Handle NULL children.  Fixes #553861.\n\n2008-09-24  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-tar.c (unpack_octal): Add error check. Fixes\n\t#553655.\n\n\t* tools/gsf.c (open_archive): Also try tar file format.\n\n\t* gsf/gsf-infile-tar.[ch]: New files.\n\n2008-09-14  Gil Forcada  <gforcada@gnome.org>\n\n\t* configure.in:\n\t* po/LINGUAS:\n\tAdded support for po/LINGUAS file, closing #551577.\n\n2008-09-12  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_iconv_get_codepage_string_list) :\n\t  We intentionally fallthrough to the next case.\n\n2008-09-11  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_read) : local variable shadowed a\n\t  poorly named parameter.  It wasn't a bug, but it can't hurt to fix\n\t  it. [Coverity #189]\n\n2008-09-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_real_vprintf) : add va_end after the\n\t  G_VA_COPY. [Coverity #250]\n\t* gsf/gsf-output-memory.c (gsf_output_memory_vprintf) : ditto.\n\t  [Coverity #251]\n\n2008-09-03  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (rename_wrapper): Work around sshfs\n\tbrokenness.  Fixes #509883.\n\n2008-08-30  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : Post release bump\n\n2008-08-29  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.9\n\n2008-08-28  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (GNOMEVFS_REQ, BONOBO_REQ): Define as needed.\n\t* libgsf-gnome-1.pc.in: Use the above.\n\n2008-08-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_add_nodes) : new, split from\n\t  gsf_xml_in_doc_new to facilitate splitting node sets so that they\n\t  can be used in multiple situations.\n\n2008-08-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (gsf_input_find_vba) : move this here from\n\t  tools/gsf-vba-dump.\n\t(gsf_infile_msvba_get_modules) : new.\n\t(vba_extract_module_source) : store the code rather than dumping it to stdout.\n\n\t* tools/gsf-vba-dump.c (test) : use the new utilities.\n\t(cb_dump_vba) : do the dumping here.\n\n2008-07-28  Hubert Figuiere  <hfiguiere@novell.com>\n\n\t* thumbnailer/gsf-office-thumbnailer.schemas.in:\n\t* thumbnailer/main.c (zip_thumbnail): Add support for OpenPkg\n\t(MS Office Open XML) thumbnailing.\n\n2008-07-19  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c : Some components do not have relations.\n\t  Do not generate a warning. e.g. foreach_rel in an empty sheet.\n\n2008-07-18  Dominic Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf/gsf-input-gio.c (gsf_input_gio_new): Don't leak @input if\n\twe're going to make a local copy of the requested file\n\n2008-07-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/gsf-output-gnomevfs.c: Use gio, not gnomevfs, when\n\tLIBGSF_GNOMEVFS_VIA_GIO is defined.\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new,\n\tgsf_input_gnomevfs_new_uri): Call gsf_input_gio_new_for_uri, not\n\tgsf_input_gio_new_for_path.\n\n2008-07-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_open_pkg_open_rel) : make public.\n\t(gsf_open_pkg_foreach_rel) : new.\n\n2008-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_aname) : new.\n\t(gsf_infile_child_by_vaname) : new.\n\n2008-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-msole1.c :\n\t* tests/test-http.c :\n\t* tests/test-zip1.c :\n\t* tests/test-gzip1.c :\n\t* tests/test-gzip2.c :\n\t* tests/test-bzip.c :\n\t* tests/test-msvba.c : Clear error after use in preparation for the\n\t  next file.\n\n2008-06-08  Kjartan Maraas  <kmaraas@gnome.org>\n\n\t* configure.in: Add nb to ALL_LINGUAS.\n\n2008-05-20  Tor Lillqvist  <tml@novell.com>\n\n\t* libgsf-zip.in: Message catalogs nowadays end up in share/locale\n\tas they should, not lib/locale.\n\n2008-05-04  Jody Goldberg <jody@gnome.org>\n\n\t* tools/gsf-vba-dump.c (test) : support MS OOX.\n\n2008-04-13  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_init): Run-time test for gsf_le_get_double.\n\tMight save __arm__ people some head scratching.\n\n2008-04-09  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Reorganize gnome-vfs/bonobo checks.\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri):\n\tPrepare for making this a simple wrapper over gio.\n\n\t* gsf/gsf-utils.c (gsf_base64_decode_step): Use\n\tg_base64_decode_step when available.\n\t(gsf_base64_encode_step): Use g_base64_encode_step when available.\n\t(gsf_base64_encode_close): Use g_base64_encode_close when available.\n\n2008-03-17  Dominic Lachowicz <domlachowicz@gmail.com>\n\n\t* tests/Makefile.am: libgsf-gio-1.la doesn't exist any more\n\n2008-03-17  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* libgsf-gio-1.pc.in: No longer needed.\n\t* configure.in, Makefile: Drop references to it.\n\n2008-03-16  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/Makefile.am: Don't install gio support in its own library.\n\n2008-03-06  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf-vba-dump.1: New.\n\n2008-03-14  Dominic Lachowicz <domlachowicz@gmail.com>\n\n\t* libgsf-gio-1.pc.in:\n\t* tests/test-gio.c:\n\t* tests/test-gvfs.c:\n\t* tests/Makefile.am:\n\t* gsf/gsf-output-gio.h:\n\t* gsf/Makefile.am:\n\t* gsf/gsf-input-gio.c:\n\t* gsf/gsf-output-gio.c:\n\t* gsf/gsf-input-gio.h:\n\t* gsf-gvfs:\n\t* configure.in:\n\t* Makefile.am:\n\t* libgsf-gvfs-1.pc.in: Migrate names from \"gvfs\" to \"gio\";\n\tmove GIO code to gsf/ and get rid of gsf-gvfs/\n\n2008-03-14  Dominic Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf-gvfs/gsf-input-gvfs.c:\n\t* gsf-gvfs/gsf-output-gvfs.c: g_file_new() functions cannot fail\n\n2008-03-14  Dominic Lachowicz <domlachowicz@gmail.com>\n\n\t* tests/Makefile.am:\n\t* gsf-gvfs/gsf-input-gvfs.c:\n\t* gsf-gvfs/gsf-output-gvfs.c:\n\t* gsf-gvfs/gsf-input-gvfs.h:\n\t* gsf-gvfs/gsf-output-gvfs.h:\n\t* gsf-gvfs/Makefile.am:\n\t* configure.in:\n\t* Makefile.am: Update GIO backend to use glib 2.16's API\n\n2008-03-06  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf.1: Fixed typo in font setting.\n\t* doc/gsf-office-thumbnailer.1, doc/gsf.1: Define .URL macro when not\n\talready defined by the man implementation and use it for hyperlinks.\n\n2008-03-05  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Post release bump.\n\n2008-03-05  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.14.8\n\n2008-02-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new): Add new argument to\n\tkeep track of what entries we have seen before.  All callers\n\tchanged.  Check for loops.  Handle overflow in block computation.\n\tFixes #513831.\n\t(ole_init_info): Sanity check num_sbat too.\n\n2007-12-07  Jody Goldberg <jody@gnome.org>\n\t* gsf/gsf-infile-msole.c (ole_make_bat) : be more forgiving of\n\t  failure.  We do not need to abort completely on a cycle, just\n\t  truncate.\n\n2007-11-22  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_enum) : ref/unref the type class.\n\t  Peek does not seem sufficient to fully instantiate it.\n\n2007-11-10  Morten Welinder  <terra@gnome.org>\n\n\t* tools/gsf.c (gsf_dump_props): Let 'gsf listprops archive' print\n\ta list of properties.\n\t(gsf_list_props): New function.\n\t(gsf_help): Update accordingly.\n\n\t* gsf/gsf-msole-utils.c (msole_debug): New function.\n\t(msole_prop_parse): Use msole_debug so we don't print scale\n\tmessages unless we want to.\n\n2007-11-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_set_sink): Allow setting a\n\tNULL sink.\n\n2007-10-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-http.c (gsf_input_http_finalize): Let g_free\n\thandle NULL.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_finalize): Let\n\tg_slist_free handle empty lists too.\n\n2007-10-27  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Improve sanity\n\tchecks.  [#404934]\n\n2007-10-27  Jody Goldberg <jody@gnome.org>\n\n\t* gsf-win32/Makefile.am : Only install headers on win32. [#459771]\n\n2007-10-27  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c : Add\n\t    urn:oasis:names:tc:opendocument:xmlns:presentation:1.0\n\n2007-10-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read): Sanity check\n\tsections without hitting g_return_val_if_fail.  Probably fixes\n\t#485964.\n\n2007-09-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-stdio.c (gsf_outfile_stdio_new_child) : use it for\n\t  standard children too.\n\n2007-09-19  Dom Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf/gsf-outfile-stdio.c (gsf_outfile_stdio_new_child): Pass the va_list\n\tto the child\n\n2007-09-07  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2007-09-07  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.7\n\n2007-09-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_start_element) : Good grief.\n\t  Overzealous renaming breaks all xml output.\n\n2007-09-04  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_outfile_open_pkg_add_extern_rel) : add\n\t  some docs.\n\n\t* gsf/gsf-libxml.c : s/xml/xout/ to placate gtk-doc.\n\n2007-09-03  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2007-09-03  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.6\n\n2007-08-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_outfile_open_pkg_relate) : handle\n\t  relative paths better.\n\t(open_pkg_rel_begin) : init rel::is_extern.\n\t(open_pkg_rel_begin) : parse and store TargetMode as is_extern.\n\t(gsf_open_pkg_rel_is_extern) : new.\n\t(gsf_open_pkg_rel_get_target) : new.\n\t(gsf_open_pkg_rel_get_type) : new.\n\t(gsf_open_pkg_lookup_rel_by_type) : new.\n\t(gsf_open_pkg_lookup_rel_by_id) : new.\n\t(gsf_open_pkg_open_rel_by_id) : renamed from ...\n\t(gsf_open_pkg_get_rel_by_id) : which was deprecated because the name\n\t  was unclear.\n\t(gsf_open_pkg_open_rel_by_type) : renamed from ...\n\t(gsf_open_pkg_get_rel_by_type) : which was deprecated because the name\n\t  was unclear.\n\t(GsfOutfileOpenPkgRel) : delete.\n\t(gsf_outfile_open_pkg_close) : use straight GsfOpenPkgRel and export\n\t  the TargetMode for is_extern.\n\t(gsf_outfile_open_pkg_create_rel) : new.\n\t(gsf_outfile_open_pkg_add_extern_rel) : new.\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_get_output) : new.\n\n2007-07-29  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Resync ALL_LINGUAS with po files.\n\n2007-07-24  Jody Goldberg <jody@gnome.org>\n\n\tFrom coverity\n\t* gsf/gsf-msole-utils.c (cb_write_dict) : fix buffer overrun that\n\t  would overwrite a variable with itself +1\n\n2007-07-22  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_new_clone) : add some\n\t  safety checks against invalid parameters.\n\n2007-07-20  Dom Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf-gvfs/gsf-input-gvfs.c: Make a local copy of the stream if it's not\n\tseekable\n\t* gsf-gvfs/gsf-output-gvfs.c: Use replace() instead of create() when creating\n\tstreams. create() won't overwrite an existing file. Document limitations\n\tregarding seeking.\n\n2007-07-14  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* configure.in: always initialize have_gvfs.\n\n2007-07-12  Dom Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf-gvfs/gsf-input-gvfs.c:\n\t* gsf-gvfs/gsf-input-gvfs.h:\n\t* gsf-gvfs/gsf-output-gvfs.c:\n\t* gsf-gvfs/gsf-output-gvfs.h:\n\t* gsf-gvfs/Makefile.am:\n\t* libgsf-gvfs-1.pc.in:\n\t* Makefile.am:\n\t* configure.in: New GVFS-based backend\n\n\t* tests/test-gvfs.c:\n\t* tests/Makefile.am: Small test harness for the new GVFS-based backend\n\n2007-07-10  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2007-07-10  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.5\n\n2007-07-05  Jody Goldberg <jody@gnome.org>\n\n\t* python/gsfmodule.c : warning suppression.\n\n2007-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_quoting_mode_get_type) : missed\n\t  converting this back from a dynamic type.\n\n2007-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c (gsf_outfile_open_pkg_set_sink) : fix a doc\n\t  build error.\n\n2007-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : fix --without-bonobo case in the --without-gnome\n\t  case. [#4488842]\n\n2007-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* thumbnailer/Makefile.am : Work even if gconf macros are not\n\t  installed.\n\t* configure.in : ditto.\n\n2007-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* *.[ch]  (*register_type) : back out the move to dynamic types.\n\t  They have significant problems with threads.  [#450722]\n\t  Which also patches a compilation glitch on windows.  [#449807]\n\n2007-06-19  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/Makefile.am: Add gsf.1 to manpage_DATA.\n\n2007-06-18  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump.\n\n2007-06-18  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.4\n\n2007-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-impl-utils.h (GSF_PARAM_STATIC) : deprecate in favour of\n\t  glib's G_PARAM_STATIC_STRINGS.\n\t(GSF_DYNAMIC_CLASS_FULL) : No need to add a reloc by making the type\n\t  info static.\n\t(GSF_DYNAMIC_INTERFACE_FULL) : ditto.\n\n2007-06-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gzip.c (GsfInputGZip): Use gsf_off_t for\n\theader_size and trailer_size to kill warnings.\n\n\t* gsf/gsf-input.c (gsf_input_read): Fix warning.\n\n\t* gsf-gnome/gsf-input-bonobo.c (gsf_input_bonobo_read): Fix printf\n\tsize mismatch.\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-open-pkg-utils.c : Move over from gnumeric.\n\t* po/POTFILES.in : Add the new code.\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : Add a test for setrlimit.\n\t* thumbnailer/main.c : use it here, just in case.\n\n2006-12-21  Federico Mena Quintero  <federico@novell.com>\n\n\thttps://bugzilla.novell.com/show_bug.cgi?id=229609 - Limit the\n\tresource consumption of the helper process in gsf-office-thumbnailer.\n\n\t* thumbnailer/main.c (set_resource_limits): New function.  We use\n\tsetrlimit() to put a cap on how much resources the helper process\n\tcan use, as convert(1) is known to leak tons of memory and CPU on\n\tcertain WMF files.\n\t(main): Call set_resource_limits().\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* doc/gsf-sections.txt : Add the dynamic _register_type functions, and\n\t  the new nano-http class.\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_init_dynamic) : register the new input type.\n\n\tFrom :  Michael Lawrence [#362373]\n\t* gsf/gsf-input-http.[ch] : provide a nano-http (from libxml2)\n\t  input wrapper.\n\t* tests/test-http.c : add.\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\tFrom : Eduardo Limo [#442205]\n\t* configure.in : Make bonobo support optional, but enabled by default.\n\t* gsf-gnome/Makefile.am : Use the new configure flag here.\n\n2007-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* m4/Makefile.am : new.\n\t* configure.in : Add it.\n\t* Makefile.am : handle m4 as a subdir rather than in EXTRA_DIST to\n\t  avoid distcheck failure.\n\n2007-04-08  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf.1: New.\n\t* gsf/gsf-meta-names.h, gsf/gsf.h, gsf/gsf-impl-utils.h,\n\tgsf/gsf-utils.h: Documentation work.\n\n2007-02-16  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-cp-zip.c (clone) : make more resistant to read failures.\n\n2007-01-23  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (pygtk): Show result.\n\n2007-01-13  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Adjusted pkg-config requirements to reflect that\n\tlibgsf-gnome doesn't need libxml-2.0.\n\n2007-01-10  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (push_child, gsf_xml_in_end_element): Handle\n\tnested contents.\n\n2006-12-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-bzip.c : include gsf-input-impl.h\n\t  to suppress warning.\n\n2006-12-15  Dom Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf/gsf-input-bzip.c: Set input name\n\t* gsf/gsf-input-gzip.c: Ditto\n\t* gsf/gsf-input-proxy.c: Ditto\n\t* gsf/gsf-input-textline.c: Ditto\n\n2006-12-15  Dom Lachowicz <domlachowicz@gmail.com>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_new): Set the input's\n\tsize based on its source sink's size.\n\n2006-12-10  Jody Goldberg <jody@gnome.org>\n\n\tBegin merging patch from Danny Milosavljevic (danny.milo@gmx.net)\n\t* gsf/gsf-blob.c (gsf_blob_get_size) : constify.\n\t(gsf_blob_peek_data) : constify.\n\n2006-12-09  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-output.h: Annotate GsfOutputClass.Vprintf with a format\n\tattribute.\n\n2006-12-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_mem_dump_full): Cleanup.  (Avoid boundary\n\tcase problems and print line-by-line.)\n\n\t* gsf/gsf-output.c (gsf_output_real_vprintf): Do not reuse a\n\tva_list argument.  That does not work.\n\n2006-12-04  Morten Welinder  <terra@gnome.org>\n\n\t* thumbnailer/main.c: Use g_printerr, not fprintf.  That fixes\n\toutput in non-UTF8 locales.\n\n\t* configure.in (libgsf_reqs): Bump glib req to 2.8 for g_try_new.\n\n\t* gsf/gsf-infile-msole.c (ole_init_info): Use g_try_new, not\n\tg_alloca.  (And g_free the memory after use.)  Fixes #381600.\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_write_field): Quote on\n\tinitial or terminal whitespace, see bug #359348.\n\n2006-12-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_info_read_metabat): Advance bats in\n\tthe empty case too.  Fixes #381588.\n\n2006-12-01  Christian Neumair  <chris@gnome-de.org>\n\n\t* gsf/gsf-libxml.c: (gsf_xml_gvalue_from_str):\n\tHandle types derived from G_TYPE_ENUM and G_TYPE_FLAGS correctly.\n\tBail if type was not handled.\n\n2006-11-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_gvalue): Plug leak.\n\n2006-11-20  Jody Goldberg <jody@gnome.org>\n\n\t* doc/gsf-docs.sgml : Add some missing indicies.\n\t* doc/Makefile.am : init with gsf_init\n\n2006-11-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/*.[ch] : update copyrights\n\n2006-11-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/*.[ch] : Make GTypes dynamic and enable gsf_init_dynamic\n\n2006-11-10  Jody Goldberg <jody@gnome.org>\n\n\t* tools/gsf-vba-dump.c : Handle vba in .doc too.\n\t  PPT is going to be more work.  It seems to be embedded in the escher\n\t  stream as a compressed data blob.\n\n2006-11-09  Tor Lillqvist  <tml@novell.com>\n\n\t* libgsf-zip.in: Fix typo.\n\n2006-11-05  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2006-11-05  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.3\n\n2006-11-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read) : add some debug\n\t  spew to help track the OOo prop warnings.  Looks like an OOo\n\t  problem.\n\n2006-11-03  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_prop_free), gsf/gsf-infile-ar.c\n\t(ar_dirent_free), gsf/gsf-infile-msole.c (gsf_infile_msole_read),\n\tgsf/gsf-input-textline.c (gsf_input_textline_finalize), gsf/gsf-input.c\n\t(gsf_input_finalize), gsf/gsf-outfile-msole.c\n\t(gsf_outfile_msole_finalize): simplified as g_free handles NULL\n\tproperly. Fixes #369663.\n\n2006-10-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c (meta_write_props) : clean up the code to\n\t  handle missing values and invalid properties.\n\n2006-10-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c (meta_write_props) : OLE2 stores a single\n\t  string, ODF stores a vector.\n\n2006-10-02  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2006-09-26  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.2\n\n2006-09-26  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (test_python): Fix python tests.\n\n2006-09-24  Jody Goldberg <jody@gnome.org>\n\n\tPatch from Robert:\n\t* autogen.sh : Check srcdir for the extra macros.\n\t* python/Makefile.am : Include srcdir.\n\n2006-09-24  Jody Goldberg <jody@gnome.org>\n\n\tPatch from Ivan:\n\t* configure.in : conditionalize the python checks.\n\n2006-09-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (push_child) : Handle namespaces internally by id\n\t  rather than object pointer.  We don't actually need the struct and\n\t  the code is simpler when using ids.\n\t(lookup_child) : ditto.  No need for a verbose warning if the document\n\t  does not yet define a namespace.\n\t(gsf_xml_in_start_element) : warn when we find an unknown namespace uri.\n\t(gsf_xml_in_doc_free) : now that we are using ids, the ns_by_id array\n\t  goes away.  We did not really need it.\n\t(gsf_xml_in_doc_new) : Get rid of ns_by_id and use ids directly.  This\n\t  fixes support for multiple uris with the same id (common when\n\t  versioning)\n\t(gsf_xml_in_doc_new) : Be sure to look up the parent of the e_node,\n\t  not the node already in the tree to fix the multple decl handling.\n\n2004-07-16  Stepan Kasal  <kasal@ucw.cz>\n\n\tYES, 2004!.  Commit an ancient patch that was forgotten.\n\n\tCleanup of test-*msole*.c examples.\n\t* tests/test-cp-msole.c:\n\t* tests/test-dump-msole.c:\n\t* tests/test-restore-msole.c:\n\t* tests/test-msole1.c:\n\t* tests/test-msole2.c:\n\t* tests/test-msole-printf.c:\n\n2006-09-23  Jody Goldberg <jody@gnome.org>\n\n\tPatch from Frederic Peters : #354690\n\t* python/Makefile.am : Link to our version of libgsf, not the system.\n\n2006-09-18  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_uncompress): Use correct HAVE_ symbol\n\tfor bzip2 and fix typo.  Fixes #356391.\n\n2006-09-06  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_init_info): Silence a warning issued\n\tfor an only marginally bogus file.  See bug 346118.\n\t(ole_dirent_new): Always treat the root directory as a directory,\n\teven if the file claims otherwise.  See bug 346118.\n\n\t* tools/gsf.c (gsf_dump_props): Print proper filename in error\n\tmessage.\n\n2006-08-28  Wouter Bolsterlee  <uws+gnome@xs4all.nl>\n\n\t* thumbnailer/gsf-office-thumbnailer.schemas.in: Trivial\n\tpatch to install all the schemas in the correct place.\n\tFixes bug #353216.\n\n2006-08-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_init_info) : Add validation in case\n\t  ::num_metabat too large for the ::num_bats.\n\n2006-08-19  Jody Goldberg <jody@gnome.org>\n\n\thttp://bugzilla.gnome.org/show_bug.cgi?id=352055\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read) : do not generate\n\t  an error when given an empty property file.  It's not a perfect\n\t  solution but it will be what most people want.\n\n2006-08-19  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_prop_dump) : new.\n\t(cb_print_property) : split out from here.\n\n\t* tools/gsf.c (gsf_dump_props) : new.\n\t(main) : Add 'props' command to dump metadata.\n\n2006-06-30  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read): Validate\n\tnum_props a little bit.  (#346189, Michal Kowalczuk)\n\n2006-06-14  Jody Goldberg <jody@gnome.org>\n\n\tFrom Dannym.\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_prop) : Fix export of\n\t  R8.  Typo was using SET_FLOAT rather than SET_DOUBLE.\n\n2006-05-26  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_prop_set_link) : as per Federico's\n\t  note.  Handle the case of @link being the result of\n\t  gsf_doc_prop_get_link.\n\t(gsf_doc_prop_set_val) : ditto.\n\n2006-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (vba_dir_read) : dump as xml.\n\t  This is still a cheesy hack, but at least it does something useful.\n\n2006-05-18  Jody Goldberg <jody@gnome.org>\n\n\t* thumbnailer/gsf-office-thumbnailer.schemas.in : Add OpenOffice 1.0\n\t  mime types and missing OpenDocument types.\n\n2006-05-08  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2006-05-08  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.1\n\n2006-05-02  Jody Goldberg <jody@gnome.org>\n\n\tFrom : Ronan MELENNEC <ronan.melennec@cena.fr>\n\t* gsf/gsf-timestamp.c (gsf_timestamp_as_string) : make it clear that\n\t  the time stamp is in UTC.\n\n2006-05-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf.c (main): New (uninstalled) beginning of a tar-like\n\tprogram.\n\n2006-04-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (GsfXMLOut) : added 'pretty-print' property to\n\t  optionally disable auto indenting of output.\n\n2006-04-18  Jody Goldberg <jody@gnome.org>\n\n\tFrom: Xavier Roche <roche@exalead.com>\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : Fix over zealous boundary\n\t  check for wide character string properties.  There are _two_ bytes\n\t  per character.\n\n2006-04-21  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_cstr): Drop characters 1-8, 11,\n\t12, 14-31 on the floor.  The XML 1.0 spec does not allow them.\n\tBandaids #339335.\n\n2006-04-15  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_check_ns) : handle default namespaces\n\t  properly.\n\t(gsf_xml_in_namecmp) : ditto.\n\n2006-04-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_as_string) : single digit seconds\n\t  should pad with 0.\n\n2006-04-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_sibling) : fix docs.\n\n2006-04-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_init_info): Constrain big blocksize\n\tto be no bigger than file size.\n\n2006-04-07  Jody Goldberg <jody@gnome.org>\n\n\thttp://bugzilla.gnome.org/show_bug.cgi?id=336858\n\t* gsf/gsf-infile-msole.c (ole_info_read_metabat) : handle situation\n\t  where an entire metabat is unused.  We don't have any normative docs\n\t  on what that indicates but this seems relatively safe.\n\n2006-04-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_check_ns) : check the current default\n\t  namespace too.\n\t(gsf_xml_in_namecmp) : ditto.\n\t(gsf_xml_in_start_element) : improve the warning for unexpected\n\t  elements.\n\n\t* gsf/gsf-blob.h : deprecate the non-standard name 'GSF_TYPE_BLOB'\n\t  and add GSF_BLOB_TYPE.\n\n\t* doc/gsf-docs.sgml : fix up the organization a bit.\n\t* doc/gsf-sections.txt : ditto.\n\n2006-03-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_parse): Set new member\n\tstate.initialized.\n\t(gsf_xml_in_start_document): Ditto.\n\t(gsf_xml_in_end_document): Avoid crashing if not initialized.\n\tWorks around #335152.\n\n2006-03-08  Morten Welinder  <terra@gnome.org>\n\n\t* doc/Makefile.am (manpagedir): Fix #316107.\n\n2006-03-07  Eduardo Lima <eduardo.lima@indt.org.br>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_prop_free): Ensure that\n\tprop->linked_to is valid before free it.\n\t(gsf_doc_prop_set_val): Just unset and free prop->val if it is not\n\tNULL.\n\t(gsf_doc_prop_set_link): Just free prop->linked_to if it is not NULL.\n\n2006-03-06  Ivan, Wong Yat Cheung <ivanwong@gnome.org>\n\n\t* configure.in: detect gmtime/gmtime_r\n\t* gsf/gsf-timestamp.c: various fixes to enable compilatioon on win32\n\n\t* thumbnailer/Makefile.am: disable running of gconftool when\n\tcross-compile\n\n2006-03-03  Jody Goldberg <jody@gnome.org>\n\n\t* thumbnailer/main.c (call_convert) : use -thumbnail rather than -resize\n\t  to handle transparent backgrounds.  I can not find normative docs on\n\t  this but it seems to do the right thing.  It seems like we also want\n\t  '+matte'\n\n2006-03-02  Eduardo Lima <eduardo.lima@indt.org.br>\n\n\t* gsf/gsf-docprop-vector.c (gsf_docprop_vector_as_string) : no need\n\t  to call g_value_unset () because g_value_array_get_nth () returns\n\t  just a pointer to the value.\n\n2006-03-02  Luciano M. Wolf <luciano.wolf@indt.org.br>\n\n\t* gsf/gsf-opendoc-utils.c (od_meta_keyword) : init the value to string\n\t  before storing the result.\n\n2006-03-02  Jody Goldberg <jody@gnome.org>\n\n\t* thumbnailer/gsf-office-thumbnailer.schemas.in : Add the opendoc\n\t  types to the schema.  Need to check the older OOo 1.x formats before\n\t  we can add them.\n\n2006-03-02  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2006-03-02  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.14.0 / 1.13.99 (for Novell)\n\n2006-03-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c (gsf_opendoc_metadata_write) : enabled.\n\t(meta_write_props) : new.\n\t(gsf_opendoc_metadata_read) : handle keywords.\n\t(od_meta_keyword) : ditto.\n\n2006-03-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_meta_dump) : Move this here from\n\t  test-msole1.\n\n2006-03-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_parse) : enable this.  keep the\n\t  cheesy name to avoid api changes.\n\t  (gsf_timestamp_as_string) : sync with timestamp_parse.\n\n2006-02-26  Jody Goldberg <jody@gnome.org>\n\n\t* thumbnailer/main.c (read_thumbnail_and_write) : split out ole2\n\t  handling into.\n\t(msole_thumbnail) : here.\n\t(zip_thumbnail) : and add a quick call to unzip for ODF.  We can tack\n\t  on MS Office Open when docs become available.\n\n2006-02-25  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-input-textline.c, gsf/gsf-input-textline.h, gsf/gsf-libxml.c,\n\tgsf/gsf-outfile-zip.c, gsf/gsf-output.c, gsf/gsf-utils.c: Documentation work.\n\n2006-02-16  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_document): Plug leaks.\n\t(gsf_xml_in_start_element): Fix key used for inserting into\n\tstate->ns_prefixes hash.\n\n2006-01-21  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_parser_context_full): Fix a\n\thypothetical leak.\n\n2006-02-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_seek): Plug leak by\n\tshutting down the old stream properly.\n\n2006-02-15  Morten Welinder  <welinder@rentec.com>\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_seek):\n\n2006-02-04  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Add \"sv\" to ALL_LINGUAS.\n\n2006-01-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_parser_context_full) : set\n\t  xmlParserCtxt::replaceEntities.  This fixes parsing problems with\n\t  attributes that contain &amp;\n\n2006-01-08  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-impl-utils.h (GSF_CLASS_FULL): Wrap (type==0) by G_UNLIKELY.\n\n2006-01-06  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-clip-data.c (gsf_clip_data_finalize): Bug 325989 - Memory\n\tleak in gsf_clip_data_finalize(). Based on a patch from Michal\n\tKowalczuk.\n\n2006-01-02  Stepan Kasal  <kasal@ucw.cz>\n\n\t* doc/tmpl/*.sgml: Cleanup errors introduced by gtk-doc, #318666.\n\n2005-12-24  Stepan Kasal  <kasal@ucw.cz>\n\n\t* doc/developer/blocksize.html: New file in a new subdir.\n\t* doc/Makefile.am: Distribute it.\n\n2005-12-07  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-iconv.c (iconv_flush): Fix handling of partial\n\tinput sequences.   Fixes #323503.\n\n2005-11-16  Tor Lillqvist  <tml@novell.com>\n\n\t* configure.in: Calculate CURRENT_MINUS_AGE as the libtool version\n\tinfo's CURRENT - AGE and AC_SUBST it. This number gets used in the\n\tDLL name, and thus needed in libgsf-zip.\n\n\t* libgsf-zip.in: Use CURRENT_MINUS_AGE. DLLs are always in \"bin\"\n\tnowadays. Build packages for gsf-gnome, too.\n\n\t* gsf/gsf-utils.c: Use G_WIN32_DLLMAIN_FOR_DLL_NAME to get DLL\n\tname, use g_win32_get_package_installation_directory() to\n\tconstruct locale directory name at run-time on Win32.\n\n\t* tests/*.c: Initialize GError pointers to NULL.\n\n\t* thumbnailer/Makefile.am (install-data-local): Workaround for\n\tMSYS feature that causes problems when running gconftool on Win32.\n\n2005-11-07  Kjartan Maraas  <kmaraas@gnome.org>\n\n\t* gsf-win32/Makefile.am: Unbreak the build\n\t* gsf/Makefile.am: Same here.\n\n2005-11-07  Ivan, Wong Yat Cheung <ivanwong@gnome.org>\n\n\t* gsf/gsf-opendoc-utils.c: use /* FIXME FIXME FIXME Blah Blah */\n\tinstead of #warning for non-gcc compilers. (#306740)\n\n2005-11-07  Ivan, Wong Yat Cheung <ivanwong@gnome.org>\n\n\t* Makefile.am:\n\t* configure.in:\n\t* dumpdef.in: New\n\t* gsf.mk: New\n\t* gsf/Makefile.am:\n\t* gsf-gnome/Makefile.am:\n\t* gsf-win32/Makefile.am:\n\tFor Win32 Only: 1.) For every source directory of a library, pass all\n\tthe public headers (with all #include removed) to the C preprocessor.\n\t2.) Pass the result from 1. to a perl script which extracts names of\n\tall the public functions and variables. 3.) Concat all from step 2. to\n\tproduce a single .def file at the top directory of the library. No\n\t--export-all-symbols anymore.\n\n\t* gsf/.cvsignore:\n\t* gsf-win32/.cvsignore:\n\tShutup CVS.\n\n2005-11-07  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-11-06  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.13.3\n\n2005-11-06  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-timestamp.h: Dropped two superfluous declarations.\n\t* doc/gsf-sections.txt: Mark internal symbols as subsection \"Private\"\n\tso as not to be counted for coverage stats.\n\t* doc/tmpl/*.sgml: Cascaded updates.\n\n2005-11-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (push_child) : apply extension if one was supplied.\n\t(lookup_child) : pass the extension to push_child.\n\t(gsf_xml_in_start_element) : if none of the current node's children\n\t  match, check for extensions.\n\t(gsf_xml_in_ext_free) : new.\n\t(gsf_xml_in_end_element) : free any extensions.\n\t(gsf_xml_in_push_state) : handle an extension that adds children to\n\t  the current node vs an extension to add a handler for an unknown node.\n\n2005-11-05  Jody Goldberg <jody@gnome.org>\n\n\tPatch from Luciano Miguel Wolf <luciano.wolf@indt.org.br>\n\t* gsf/gsf-opendoc-utils.c (od_get_meta_prop) : fix typo.\n\n2005-11-05  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf-docs.sgml: Fleshed things out a bit.\n\n2005-11-04  Christian Neumair  <chris@gnome-de.org>\n\n\t* libgsf-gnome-1.pc.in: Add required packages to Requires field.\n\n2005-11-01  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* README: Updated list archive URL. (Debian #336699)\n\n2005-10-30  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-infile-ar.c, gsf/gsf-infile-msole.c, gsf/gsf-infile-zip.c,\n\tsf/gsf-infile.c, gsf/gsf-input-textline.c, gsf/gsf-input.c,\n\tgsf/gsf-libxml.c, gsf/gsf-outfile-msole.c, gsf/gsf-outfile-zip.c,\n\tgsf/gsf-output-transaction.c, gsf/gsf-output.c,\n\tgsf/gsf-structured-blob.c: Minor documentation work.\n\n2005-10-29  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf-docs.sgml: Add OpenDoc documentation.\n\t* gsf/gsf-timestamp.c, gsf/gsf-utils.c, doc/tmpl/compression.sgml,\n\tdoc/tmpl/gsf-opendoc-utils.sgml, doc/tmpl/msole.sgml,\n\tdoc/tmpl/utils.sgml, doc/tmpl/zip.sgml: Add some basic documentation.\n\n2005-10-26  Stepan Kasal  <kasal@ucw.cz>\n\n\t* tests/test-dump-msole.c: Improve the description line in the top\n\tcomment; remove an unused #include.\n\t* tests/test-restore-msole.c: Likewise.\n\n2005-10-17  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-libxml.c (lookup_child): `inst' is a local variable, not\n\t  a parameter.\n\n\t* doc/gsf.types: Add #include <gsf/gsf-shared-memory.h> to fix a\n\t  warning.\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_init): Initialize eol_len, too.\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.13.2\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\tDOH!\n\t* gsf/gsf-libxml.c (gsf_xml_in_end_element) : clear the content before\n\t  we pop the node.\n\t(gsf_xml_in_doc_new) : restore the hack to handle bools in\n\t  has_content.  There are still several callers that are passing bool.\n\t(gsf_xml_in_doc_new) : Fix bogus typo that was crashing everything.\n\t(gsf_xml_in_doc_new) : Init root_node\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.13.1\n\n2005-10-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_end_element) : Clean up after\n\t  extensions.  If the extensions was created by an unknown handler we\n\t  do not need to do anything special.  If it was created by a start\n\t  handler then there are effectively two nodes for one parse state,\n\t  loop back to clear the original.\n\t(gsf_xml_in_push_state) : finally get an api that will be able to do\n\t  what we'll need.\n\n2005-10-04  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-10-04  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.13.0\n\n2005-10-03  Sven Herzberg  <herzi@gnome-de.org>\n\n\tGot okay from Morten for this:\n\n\t* gsf-gnome/gsf-output-gnomevfs.c: create the file if necessary; fixes\n\tbug 317766\n\n2005-10-02  Jody Goldberg <jody@gnome.org>\n\n\tFrom :  Luciano Wolf (luciano.wolf@indt.org.br)\n\t* gsf/gsf-opendoc-utils.{c,h} : new\n\t* gsf/Makefile.am : Add gsf/gsf-opendoc-utils.{c,h}\n\n2005-10-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (glade_enum_from_string) : imported from goffice.\n\t(glade_flags_from_string) : ditto.\n\t(gsf_xml_gvalue_from_str) : ditto.\n\t(lookup_child) : break this out of.\n\t(gsf_xml_in_start_element) : here.\n\t  Add a new flags to node 'share_children_with_parent' this is allows\n\t  all of a nodes siblings to work as mutual children.  Eg for\n\t  <b><i><u> for rich text which need to nest arbitrarily.\n\t(gsf_xml_in_doc_parse) : renamed from gsf_xml_in_parse.\n\t  Takes a GsfXMLInDoc rather than a GsfXMLIn.  This is useful to keep\n\t  the lifecycle of the GsfXMLIn more under our control.  We intialize\n\t  it not the caller.  People no longer need to inherit/contain it, now\n\t  they store their state seperately.\n\n2005-10-02  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : bump the version to 1.13.0 due to the xml changes.\n\t  Add -Wno-pointer-sign to make the warnings stop.\n\t* doc/gsf-sections.txt : update\n\t* doc/gsf.types : update\n\n2005-10-01  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in (VERSION_INFO): Fix the definition, add a comment.\n\n2005-09-18  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in: Make sure that the Automake conditional\n\t  GCONF_SCHEMAS_INSTALL is always set.\n\t* msvc/README: Don't mention packages which are not prerequisities\n\t  of libgsf.\n\n2005-09-16  Stepan Kasal  <kasal@ucw.cz>\n\n\t* doc/gsf-sections.txt: Add gsf_input_stdio_new_FILE.\n\n2005-09-06  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-09-06  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.12.3\n\n2005-08-24  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : Make gconf optional\n\t* Makefile.am : ditto.\n\n2005-08-22  Jody Goldberg <jody@gnome.org>\n\n\t* gsf-gnome/Makefile.am : Add -no-undefined on win32 [#314221]\n\n2005-08-19  Tim Janik  <timj@imendio.com>\n\n\t* gsf/gsf-outfile-zip.c (zip_close_stream): call deflateEnd, free\n\tstream and buffer space, so we are not holding on to large amounts\n\tof memory until we're done with the current directory.\n\n2005-08-17  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/gsf-office-thumbnailer.1: Added.\n\t* doc/Makefile.am: Updated accordingly.\n\n2005-08-16  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in: Update obsolete AC_TRY_* macros.\n\tBefore the tests for g_chmod and g_access, LIBGSF_LIBS should be\n\t_prepended_ to LIBS, not appended; more specific libs have to be\n\tlisted first.\n\t* gsf/gsf-impl-utils.h: Align tabs.\n\n2005-08-13  Morten Welinder <terra@gnome.org>\n\n\t* configure.in: Post release bump\n\n2005-08-13  Morten Welinder <terra@gnome.org>\n\n\t* Release 1.12.2\n\n2005-08-11  Jean Brefort  <jean.brefort@normalesup.org>\n\n\t* gsf/gsf-impl-utils.h: made GSF_CLASS_FULL and GSF_DYNAMIC_CLASS_FULL\n\treally full.\n\n2005-08-09  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Changed tests for g_chmod and g_access: actually try\n\tlinking the test fragments and use the LIBS being constructed in those\n\tattempts.\n\n2005-08-09  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: Test for g_chmod and g_access.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close): Use the right\n\terrno.  Fixes part of #312930.\n\t(chmod_wrapper): New function to help Win32.\n\t(access_wrapper): Renamed from gsf_access and simplified.\n\n2005-08-09  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* thumbnailer/main.c (show_error_and_exit): Mark this G_GNUC_NORETURN\n\tas well.\n\n2005-08-08  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* *: Updated the FSF's address.\n\n2005-08-07  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new_FILE): Don't forget\n\t  to set the keep_open flag.\n\t* thumbnailer/main.c (show_error_string_and_exit): Add G_GNUC_NORETURN.\n\n2005-08-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : be more careful\n\n2005-08-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new_FILE): New function\n\tfor symmetry.  (This is not as useful as it might seem since the\n\tfile must be seekable.)\n\n2005-08-02  Stepan Kasal  <kasal@ucw.cz>\n\n\t* Makefile.am (clean-local): That rule contained command\n\t  \"rm -f intl/po2tbl.sed\".  But it seems the subdirectory intl/ is\n\t  no longer used.\n\t(ACLOCAL_AMFLAGS): Remove again.\n\t(EXTRA_DIST): Remove files added by gettextize and files distributed\n\t  by default.\n\t(DISTCLEANFILES): Add the three intltool-* scripts.\n\t* configure.in (GCONFTOOL): Determine by a procedure similar to\n\t  what is in gnumeric/configure.in.\n\t* thumbnailer/Makefile.am (install-data-local): Fix the rule so that\n\t  we pass distcheck.\n\t* acinclude.m4, acinclude.m4.am15: Partial cleanup of the comments;\n\t  in particular, don't speak as if Automake 1.5 were something new.\n\n2005-07-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_set_name_from_filename): Make this\n\twork for NULL filename.\n\n2005-07-30  Jody Goldberg <jody@gnome.org>\n\n\thttp://bugzilla.gnome.org/show_bug.cgi?id=310118\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_prop) : be more careful\n\t  about NULL strings.  This fixes the crash on export, but there are\n\t  still some warnings on import that put us into an inconsistent\n\t  state.\n\t(msole_prop_parse) : In the LPSTR case use the actual byte size not\n\t  the result of the conversion.  If the encoding is off, we ended up\n\t  with the wrong size.\n\n2005-07-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-msole-utilc.c (msole_prop_parse): Move some g_prints behind\n\t  a debug macro.\n\n2005-07-19  Federico Mena Quintero  <federico@ximian.com>\n\n\t* thumbnailer/main.c (main): Oops, remove some leftover debugging code.\n\n\t* configure.in: Generate thumbnailer/Makefile.  Add a test for GConf.\n\n\t* Makefile.am (SUBDIRS): Added the thumbnailer directory.\n\n\t* gsf/gsf-utils.c (gsf_init): Call bindtextdomain() and\n\tbind_textdomain_codeset().\n\n\t* gsf/gsf-clip-data.c: Mark strings for translation.\n\n\t* gsf/gsf-blob.c: Likewise.\n\n\t* gsf/gsf-msole-utils.c: Mark strings in GErrors for translation.\n\n\t* gsf/Makefile.am (AM_CPPFLAGS): Add the locale directory.\n\n2005-07-19  gettextize  <bug-gnu-gettext@gnu.org>\n\n\t* Makefile.am (SUBDIRS): Add po.\n\t(ACLOCAL_AMFLAGS): New variable.\n\t(EXTRA_DIST): Add config.rpath, m4/ChangeLog.\n\t* configure.in (AC_CONFIG_FILES): Add po/Makefile.in.\n\n2005-07-19  Federico Mena Quintero  <federico@ximian.com>\n\n\t* configure.in: Pull in intltool and gettext.\n\n\t* thumbnailer/gsf-office-thumbnailer.schemas.in: New file with the\n\tschemas for the thumbnailer.\n\n2005-07-18  Federico Mena Quintero  <federico@ximian.com>\n\n\t* thumbnailer/main.c: New file with a very simple GNOME\n\tthumbnailer for MS Office files.  This will grow to something more\n\tsophisticated in the future.\n\n\t* thumbnailer/Makefile.am: New file.\n\n\tI'll add this subdir to the build tomorrow, when I get the GConf\n\tbits right for configure.in.\n\n2005-07-18  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_free): In the description, remove\n\tthe reference to the nonexistent gsf_xml_in_doc_prep.\n\n2005-07-07  Ivan, Wong Yat Cheung  <email@ivanwong.info>\n\n\t* msvc/.cvsignore:\n\t* msvc/README:\n\t* msvc/config.dsp:\n\t* msvc/install.pl:\n\t* msvc/autom4te.hack: New\n\tInclude a hacked version autoheader that doesn't need a posix\n\tenvironment. The whole MSVC building process is now posix-\n\tindependent.\n\n2005-07-06  Federico Mena Quintero  <federico@ximian.com>\n\n\t* gsf/gsf-blob.[ch]: New files with a GsfBlob object, used to hold\n\tgeneric binary data.\n\n\t* gsf/gsf-clip-data.[ch]: New files with a GsfClipData object,\n\tused to hold the VT_CF property data.\n\n\t* gsf/gsf-msole-utils.c (parse_vt_cf): New function; creates a\n\tGsfClipData for the resulting GValue.\n\t(msole_prop_parse): Handle the VT_CF property.\n\n\t* gsf/gsf-utils.h (GSF_ERROR): Add a generic error quark.\n\t(GsfError): Add an enum with generic error values; so far we only\n\thave GSF_ERROR_OUT_OF_MEMORY and GSF_ERROR_INVALID_DATA.\n\n\t* gsf/gsf-utils.c (gsf_error_quark): Implement.\n\n\t* gsf/Makefile.am: Added gsf-blob.[ch] and gsf-clip-data.[ch].\n\n\t* doc/gsf-sections.txt: Added sections for GsfBlob and\n\tGsfClipData.  Added the GsfError stuff to the \"utils\" section.\n\n\t* doc/gsf-docs.sgml: Add the GsfBlob and GsfClipData sections.\n\tRenamed the old \"GsfBlob\" entity to \"GsfStructuredBlob\", to match\n\tthe object to which it refers.\n\n\t* doc/tmpl/utils.sgml: Document the GError bits.\n\n\t* doc/tmpl/gsf-clip-data.sgml: New file.\n\n\t* doc/tmpl/gsf-blob.sgml: New file.\n\n2005-07-05  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_prop): Fix\n\tVT_FILETIME export.\n\n2005-07-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-memory.c (gsf_output_memory_vprintf): Don't use a\n\tva_list twice as an argument.  (The standard does not allow that.)\n\tFixes i86_64 problems and was found by Jean.\n\n\t* gsf/gsf-utils.c (gsf_mem_dump_full): Kill a warning.\n\n2005-06-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_iconv_get_codepage_string_list) :\n\t  Add 0x8001 as a synonym for 1252 as per the OOo docs.  I wish there\n\t  was something more normative than that.\n\n\t* gsf/gsf-docprop-vector.c : remove custom GTypeValueTable it was\n\t  wrong and unnecessary.  This fixes the leak of the GValueArray\n\n2005-06-30  Ivan, Wong Yat Cheung  <email@ivanwong.info>\n\n\t* win: Rename to msvc\n\t* msvc: Add MSVC build files, see msvc/README for\n\t  details.\n\n2005-06-23  Ivan, Wong Yat Cheung  <email@ivanwong.info>\n\n\t* configure.in: Check for the existence of S_ISREG,\n\t  if it is not defined (e.g. MS's PSDK), do\n\t  it ourself.\n\n2005-06-21  Ivan, Wong Yat Cheung  <email@ivanwong.info>\n\n\t* gsf/gsf-input-stdio.c:\n\t* gsf/gsf-libxml.c:\n\t* gsf/gsf-msole-utils.c:\n\t* gsf/gsf-outfile-msole.c:\n\t* gsf/gsf-outfile-stdio.c:\n\t* gsf/gsf-output-stdio.c:\n\t* gsf/gsf-timestamp.c:\n\t* gsf/gsf-utils.h\n\t* gsf-win32/gsf-input-win32.c:\n\t* gsf-win32/gsf-output-win32.c: Remove all #warning. That is\n\t  a gcc only directive. Use /* FIXME FIXME FIXME Blah Blah */ instead.\n\t  Remove all _MSC_VER, which are either unnecessary or not belong\n\t  there.\n\n2005-06-13  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Use g_value_set_uint64\n\tand g_value_set_int64 where appropriate.\n\t(msole_prop_cmp): Handle offsets larger than int.\n\n2005-06-12  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-06-12  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.12.1\n\n2005-06-12  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_lid_to_codepage) : codepages are\n\t  signed.\n\t(gsf_msole_iconv_win_codepage) : ditto.\n\t(gsf_msole_iconv_open_codepages_for_export) : ditto.\n\t(gsf_msole_iconv_open_codepage_for_export) : ditto.\n\t(gsf_msole_iconv_get_codepage_string_list) : ditto.\n\t  -535(uint16) == 65001\n\n2005-06-12  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-impl-utils.h (GSF_DYNAMIC_CLASS_FULL) : remove useless\n\t  trailing backslash that was confusing gtk-doc\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new_valist) : new.\n\t(gsf_output_stdio_new_full) Use it here.\n\t(gsf_output_stdio_new) : And use that here.\n\t* gsf/gsf-outfile-stdio.c (gsf_output_stdio_new_valist) : new.\n\t(gsf_outfile_stdio_new_full) Use it here.\n\t(gsf_outfile_stdio_new) : And use that here.\n\n2005-06-10  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_enum): New function.\n\n2005-06-08  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Test\n\tdirectory-ness of the right mode.\n\n2005-06-04  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-output.h (gsf_output_vprintf): Add the function attribute\n\t  G_GNUC_PRINTF (2, 0).  Add the same to various static *vprintf\n\t  funtions in other files.\n\t* gsf/gsf-output-csv.c (gsf_output_cvs_close): The parameter is\n\t  unused, mark it as such.\n\n\t* .cvsignore: Add gtk-doc.make; remove gsf-config; replace stamp-h\n\tand stamp-* by stamp-h*.\n\n2005-06-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.h (gsf_init_dynamic) : new hook.  Unimplemented yet.\n\n\t* gsf/gsf-impl-utils.h (prefix) : use a cleaner pattern for the\n\t  dynamic type/interface declarations.\n\n2005-06-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_vt_name) : suppress warning\n\t(msole_prop_parse) : assign the right type.\n\n2005-06-02  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-outfile-zip.c (zip_flush): Check for Z_BUF_ERROR case.\n\tThis is the cause of AbiWord bug #7652\n\n2005-06-02  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_float): Use \"C\" locale\n\tconventions.  Fix ambiguities in docs.\n\n2005-06-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_read): Only trigger the\n\ttruncated-file check after we have added a single NUL byte.\n\t(check_header): Avoid overflows.\n\n2005-05-31  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_read) : get upset when an input\n\t  file is truncated.\n\t(check_header) : Add a heuristic to warn about files with > 1000:1\n\t  compression ratios.  It is crude but likely to catch the worst\n\t  truncated files were we're using data rather than a trailer by\n\t  accident.\n\n2005-05-31  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_parse) : add some protection.\n\n2005-05-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_metadata_write_section) : warning\n\t  suppression.\n\t(msole_prop_parse) : it seems GValue needs to be a G_OBJECT in order\n\t  for it to be unrefed.\n\n2005-05-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-docprop-vector.c (gsf_docprop_vector_finalize) : patch leak.\n\n2005-05-25  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in (CFLAGS): Don't use -Wcrazy.\n\n2005-05-15  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Enable a number of additional warnings (when available)\n\tfor which the current code base is already virtually clean.\n\tEnsure at link time that the shared objects, contain complete\n\tdependency information for all symbols they use from elsewhere.\n\n2005-05-10  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2005-05-09  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.12.0\n\n2005-05-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (ole_bytes_left_in_block) : As per Stuart\n\t  Cunningham from the AAF group the header is always bb.size.\n\t(gsf_outfile_msole_new_full) : ditto.  pad the header with zeros.\n\n2005-05-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : Do not check for a\n\t  namespace we have not seen yet.  Fixes crash when reading OOo 2.0\n\t  with the dtd from 1.0\n\n2005-05-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_check_ns) : Add some safety.\n\n2005-05-04  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_vt_name) : handle sparse entries.\n\n2005-05-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_write) : complete rewrite.\n\t  Just write the properties then seek back to fill in the offsets\n\t  rather than measuring then writing.\n\t(cb_count_props) : new. collect builtin vs user defined props\n\t from the hash.\n\t(msole_metadata_write_section) : new. write the props and collect the\n\t  offsets and ids.  Handle linked props, vectors and variant vectors.\n\t(msole_metadata_write_prop) : Adds padding to the simple types.\n\t(gvalue_to_msole_vt) : map from a GValue to a variant type.  Be smart\n\t  about handling boxed types, and check vectors to see if they are\n\t  fixed type vs variant.  Use the table of builtin types if possible\n\t  to deal with ambiguities.\n\t(cb_write_dict) : new.\n\t(msole_vtname) : new util to get debug name.\n\n2005-04-27  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_property_settings_collect,\n\tgsf_property_settings_collect_valist, gsf_property_settings_free):\n\tNew functions.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_new): Move guts into\n\tgsf_outfile_zip_constructor.\n\t(gsf_outfile_zip_constructor): New function.\n\t(gsf_outfile_zip_class_init): Link in gsf_outfile_zip_constructor.\n\tAdd entry-name and sink properties.  In the process separate\n\tfilenames from gsf_output_name which is UTF-8 encoded.\n\t(stream_name_write_to_buf): Greatly simplify using GString.\n\n\t* gsf/gsf-infile-zip.c: New property \"source\".  Install a proxy\n\tlayer between the zip file and the source so we don't dup\n\tGsfInputStdio or GsfInputGnomeVFS objects (which is expensive and\n\tsubject to lots of problems).\n\n2005-04-26  Morten Welinder  <terra@gnome.org>\n\n\t* tests/test-cp-zip.c (clone): Be a bit verbose.  Make the copy\n\tuse the compression levels of the source.\n\n\t* gsf/gsf-outfile-zip.c: Add construct-only compression-level\n\tproperty.\n\t(gsf_outfile_zip_set_compression_method): Make this an empty stub\n\tand deprecate.\n\n\t* gsf/gsf-zip-utils.c (gsf_vdir_add_child): Do not sort because\n\tdoing so breaks copying of OOo files.\n\n\t* gsf/gsf-infile-zip.c: Add readable compression-level property.\n\t(vdir_child_by_index): simplify.  (This is really use\n\tg_slist_nth_data, modulo pointer types.)\n\n2005-04-26  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (cb_measure_props) : handle custom props for\n\t  ints and uints.\n\n2005-04-26  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_gsf_name_to_prop) : fix my silliness\n\t(check_variant) : new.\n\t(cb_measure_props) : renamed from add_props.  Signature changed to\n\t  match the new foreach semantics.  Some initial work on handling\n\t  variant vectors vs single type vectors.  Removed nasty kludge for\n\t  DocumentParts and HeadingPairs.\n\n\t* gsf/gsf-docprop-vector.c (gsf_value_get_docprop_vector) : Use\n\t  g_value_get_object and clarify the docs.\n\t(gsf_value_set_docprop_vector) : delete\n\t(VAL_IS_GSF_DOCPROP_VECTOR) : new.\n\t(IS_GSF_DOCPROP_VECTOR) : adjust to use the std GObject semantics\n\n2005-04-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.h (gsf_doc_prop_new) : new\n\t(gsf_doc_prop_free) : new\n\t(gsf_doc_prop_swap_val) : new\n\n\t* gsf/gsf-msole-utils.c : disable the debug spew\n\n2005-04-22  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in: Use m4 macros for version numbering.\n\n2005-04-16  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-msole1.c : update for the new ms-ole property import api\n\n\t* gsf/gsf-msole-utils.c : disable debug spew\n\t(msole_prop_id_to_gsf) : flag links\n\t(msole_prop_read) : store the property directly.\n\t(msole_prop_store) : delete.\n\n2005-04-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-docprop-vector.c (gsf_value_get_docprop_varray) : Add some\n\t  safety.\n\n2005-04-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-doc-meta-data.[ch] : Major interface changes to make the\n\t  hash like behavior perfectly clear, and to support links.\n\n2005-04-16  Jody Goldberg <jody@gnome.org>\n\n\t* doc/gsf-sections.txt :  update\n\n2005-04-12  Morten Welinder  <terra@gnome.org>\n\n\t* configure.in: revert last change.\n\n2005-04-12  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in: Small changes in the pygtk check, though it's\n\t  currently not in use.\n\n2005-04-11  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-msole1.c: Make the test program work.\n\n2005-04-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_write) : replace incessant\n\t  if (success) with a 'goto err' and prune more non-C89 var decls\n\n2005-04-09  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile.h : remove G_GNUC_NULL_TERMINATED for now.\n\t  we do not want to require glib-2.7\n\n2005-04-09  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-impl.h (new_child) : change the signature to pass in\n\t  var_args.  Changed all callers.\n\n\t* gsf/gsf-outfile.c (gsf_outfile_new_child_full) : new.\n\t(gsf_outfile_new_child) : convert into a wrapper to\n\t  gsf_outfile_new_child_full.\n\t* gsf/gsf-input.c (gsf_input_error_id) : renamed from gsf_input_error\n\t  and a deprecated wrapper with the old name.\n\t* gsf/gsf-docprop-vector.c (gsf_value_get_docprop_varray) : new.\n\t* gsf/gsf-infile-msvba.c (vba_project_read) : add a few new\n\t  signatures.\n\n2005-04-09  Jody Goldberg <jody@gnome.org>\n\n\tFrom Manuel Mausz <Manuel.Mausz@fabasoft.com>\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_write) : initial\n\t  implementation.\n\n2005-04-07  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : bump the library version to indicate api change\n\n2005-04-04  Stepan Kasal  <kasal@ucw.cz>\n\n\t* configure.in (LIBGSF_MODULES): This macro was replaced by...\n\t(libgsf_reqs, libgsf_gnome_reqs): ... these two shell variables.\n\tPKG_CHECK_MODULES from pkconfig-0.16.0 double quotes its arguments,\n\twhich is an error; using shell variables is a handy workaround.\n\t* Makefile.am: Clean up.\n\t* test/Makefile.am (LDADD): Use this, instead of the per-target\n\t  variables.\n\n2005-04-04  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-csv.c (gsf_output_csv_write_field): Fix auto\n\tquoting.\n\n\t* gsf/gsf-output-iconv.h: Make GsfOutputIconvClass public.\n\t* gsf/gsf-output-impl.h: Make GsfOutputClass public.\n\t* gsf/gsf-output-csv.h: Make GsfOutputCsvClass public.\n\n2005-04-03  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Fixed the GNOME support check: \"LIBGSF_MODULES\" needed\n\tto be expanded in the PKG_CHECK_MODULES.\n\n2005-04-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-iconv.c: New file.\n\t* gsf/gsf-output-csv.c: New file.\n\n\t* gsf/gsf-output.c (gsf_output_dispose): Silently close if needed.\n\n2005-04-01  Stepan Kasal  <kasal@ucw.cz>\n\n\ts/INCLUDES/AM_CPPFLAGS/  \"automake -Wall\" has told me this.\n\n\t* configure.in: More sophisticated check for zlib, an improved\n\t  version of the check in gnumeric (to be removed soon from there),\n\t  which in turn was inspired by libxml2's configure.in.\n\t  Require Autoconf 2.54 and other cosmetic changes.\n\t* autogen.sh: Require Autoconf 2.54 and other cosmetic changes.\n\n2005-03-31  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_set_error): Make public.\n\n\t* */*.c: Don't test for NULL before g_free.\n\n\t* gsf/gsf-utils.h (GSF_LE_GET_GINT64, GSF_LE_SET_GINT64,\n\tGSF_LE_SET_GUINT64): New macros for completeness.\n\n2005-03-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-impl-utils.h (GSF_PARAM_STATIC): Define suitably.\n\t* gsf/*.c: Use GSF_PARAM_STATIC for properties.\n\n\t* configure.in: Don't check for readline and lstat.  Do check for\n\tmode_t.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Again use mode_t\n\tfor saved umask.\n\n2005-03-28  Morten Welinder  <terra@gnome.org>\n\n\t* */*.c: Use canonical property names.\n\n2005-03-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close): In case of\n\terror, simply unlink the temporary file and leave the target file\n\talone.\n\n\t* gsf/gsf-output-gzip.c (gzip_output_block): If we cannot write to\n\tthe sink, set an error for ourself.\n\t(gzip_flush): If we get a compression failure, set an error for\n\tourself.\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_class_init): Install\n\tset_property, get_property, and constructor methods.\n\t(check_header): Allow skipping the header.  Allow getting\n\tuncompressed size from construction property.\n\t(gsf_input_gzip_read): Allow having to trailer.\n\t(gsf_input_gzip_dup): Cleanly construct the new object.\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_class_init): Rename\n\t\"container\" property to \"raw\" with opposite semantics.\n\n2005-03-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_set_property): Handle\n\tNULL sink better.\n\t(gsf_output_gzip_new): Don't bother closing the output on error.\n\n\t* gsf/gsf-output.c (gsf_output_dispose): Renamed from _finalize.\n\tDon't complain when a stream with an error is not closed -- just\n\tsilently close it.\n\t(gsf_output_class_init): Hook up for _dispose instead of\n\t_finalize.\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_close): Do nothing for a\n\tstream with an error.\n\n2005-03-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_class_init): Install\n\tset_property, get_property, and constructor methods.\n\t(gsf_output_gzip_constructor): Allow skipping the gzip header.\n\t(gsf_output_gzip_close): Allow skipping the tail.\n\n2005-03-24  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_access): Renamed from\n\tfile_is_writable.  Make it a full access wrapper.  Caller changed.\n\n2005-03-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_filename_to_utf8): Make this sane (which it\n\tnever was).  We no longer use this, but keep it around.\n\t(gsf_extension_pointer): Fix this for Win32.\n\n2005-03-23  Ivan, Wong Yat Cheung <email@ivanwong.info>\n\n\t* gsf/gsf-msole-utils.c: Add new function\n\tgsf_msole_iconv_get_codepage_string_list() which returns all\n\tpossible names of a codepage given a codepage number. This helps\n\tgsf_msole_iconv_open_codepage_for_(im|ex)port().\n\t* gsf-win32/Makefile.am: some more minor changes so that\n\tlibgsf_win32_1_la can be built as dll.\n\n2005-03-23  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (follow_symlinks): Handle lack of ELOOP.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): g_open has a\n\tmandatory mode arg that open does not.\n\n2005-03-22  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (close_tag_if_neccessary): New function.\n\t(gsf_xml_out_add_cstr_unchecked, gsf_xml_out_add_cstr): Use\n\tclose_tag_if_neccessary.  Patch from #167166.\n\n2005-03-22  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Conditionalize\n\towner/group stuff on HAVE_CHOWN.  Use file_is_writable.\n\t(file_is_writable): New function.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Use f_open, not\n\topen.\n\n\t* gsf/gsf-outfile-stdio.c (gsf_outfile_stdio_new): Simplify using\n\tg_mkdir.\n\n\t* configure.in: Require glib 2.6 for g_filename_display_name.\n\n\t* gsf/gsf-output-stdio.c (rename_wrapper): Use g_rename and\n\tg_unlink.\n\t(gsf_output_stdio_new): Use g_stat.  Fix error message.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek): Don't call perror.\n\t(struct GsfInputStdio): Add filename member.\n\t(gsf_input_stdio_finalize): Free filename member.\n\t(gsf_input_stdio_dup): Use filename member.\n\t(gsf_input_stdio_new): Fix error messages; initialize filename\n\tmember; use g_fopen to open file.\n\n\t* gsf/gsf-docprop-vector.c: Fix includes.\n\n\t* gsf/gsf-infile-stdio.c (gsf_infile_stdio_new): Simply using\n\tglib's GDir stuff.  (This should fix Win32 in the process.)\n\n2005-03-05  Jody Goldberg <jody@gnome.org>\n\n\tPatch from Frank Chiulli\n\t* gsf/Makefile.am : Add gsf-docprop-vector\n\t* gsf/gsf-docprop-vector.{c,h} : new files to add vector support\n\t* tests/test-msole1.c (print_property) : support for vectors\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : ditto\n\n2005-02-02  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-gnomevfs.c: A bit more robustness and documentation\n\tfor bug 159442.\n\n2005-01-16  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-gnomevfs.c: This should fix bug 159442 by truncating\n\tnewly-created files whenever possible WHILE preserving file permissions.\n\n2004-09-25  Stepan Kasal <kasal@ucw.cz>\n\n\t* gsf/gsf-output-stdio.c: Use g_file_read_link() - (bug 149827)\n\n2004-12-02  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-memory.c: Add mmap support on win32 (bug #160294)\n\t* gsf/gsf-shared-memory.c: Ditto\n\n2004-12-06  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2004-12-06  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.11.1\n\n2004-12-05  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close): Flush file if\n\twe don't close it.\n\n2004-12-01  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Make sure new\n\tfiles end us with as lose permissions as the umask says.\n\t[#159331]\n\t(rename_wrapper): New function to hide the fact that Win32's\n\trename does not unlink the target file if it exists.  [#160108]\n\n2004-11-28  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : Post release bump\n\n2004-11-28  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.11.0\n\n2004-11-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : NULL unhandled types\n\n2004-11-25  Sven Herzberg  <herzi@gnome-de.org>\n\n\t* gsf-gnome/gsf-output-gnomevfs.c: (gsf_output_gnomevfs_new_uri):\n\ttruncate the output file to length 0 when opening (fix #159442)\n\n2004-11-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close) : add a hook to\n\t  accept existing FILE*\n\t(gsf_output_stdio_new_FILE) : new.\n\n2004-11-19  Veerapuram Varadhan <vvaradhan@novell.com>\n\n\t* Add gsf/gsf-meta-names.h\n\n\t* gsf/gsf-doc-meta-data.[ch] (gsf_get_prop_val,\n\tgsf_get_prop_val_str): new\n\t(gsf_doc_meta_data_get_prop) : return GsfDocProp instead of\n\tGsfDocMetaData.  Caller should release the return value.\n\n\t* gsf/Makefile.am : Add gsf-meta-names.h to the list of headers.\n\n2004-11-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : Check the unknown\n\t  handler if we come across something that has not been registered\n\t  yet.\n\t(gsf_xml_in_doc_set_unknown_handler) : new.\n\t(gsf_xml_in_doc_new) : split part of this out into\n\t(gsf_xml_in_doc_extend) : here, so that we can add nodes to a\n\t  description later.\n\n2004-11-12  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_cstr): Escape 1..31 when used\n\tin attributes.\n\n2004-11-02  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-msole1.c (test) : fix leak and use\n\t  gsf_msole_metadata_read_real.\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read) : store them in\n\t  GsfDocProp\n\t(gsf_msole_metadata_read_real) : renamed from gsf_msole_metadata_read\n\t(gsf_msole_metadata_read) : a quick stub to avoid creating a leak in\n\t  existing calls to this routine.\n\n2004-11-02  Jody Goldberg <jody@gnome.org>\n\n\tFrom Frank\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read) : store the\n\t  properties\n\t* tests/test-msole1.c (test) : dump the properties\n\t* gsf/Makefile.am : Add gsf-doc-meta-data.c to the build\n\t* gsf/gsf-doc-meta-data.c (gsf_doc_meta_data_set_prop) : init\n\t  the GValue before we assign.\n\n2004-09-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/*.c: Remove useless casts of 0 to gsf_off_t in parameters.\n\n\t* gsf/gsf-output.c (gsf_output_set_name_from_filename): New function.\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Use\n\tgsf_output_set_name_from_filename.\n\t* gsf/gsf-outfile-stdio.c (gsf_outfile_stdio_new): Use\n\tgsf_output_set_name_from_filename.\n\n\t* gsf/gsf-input.c (gsf_input_set_name_from_filename): New function.\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Use\n\tgsf_input_set_name_from_filename.\n\t* gsf/gsf-infile-stdio.c (gsf_infile_stdio_new): Use\n\tgsf_input_set_name_from_filename.\n\n\t* gsf/gsf-infile-zip.c (zip_update_stream_in): Add seek error check.\n\t(gsf_infile_zip_read): Ditto.\n\n2004-09-19  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* configure.in: Morten's VFS local copy requires VFS >= 2.2. Upgrade configure check.\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri): Follow symlinks similarly to the STDIO input\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Convert file name to UTF8\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Convert file name to UTF8\n\t* BUGS: remove above\n\n2004-09-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Fix gsf_input_seek\n\tcheck.\n\n\t* gsf/gsf-input.c: Doc fixes, notably reversing the sense of\n\tgsf_input_seek_emulate's return value.\n\n2004-09-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri):\n\tForce local copy for small (<256KB) files that are not local.\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new): Add a proxy layer\n\tso we don't have to dup files or net connections.\n\n\t* gsf/gsf-input.c (gsf_input_dup): Provide error messages.\n\n\t* gsf/gsf-input-proxy.c (gsf_input_proxy_read): gsf_input_read\n\tupdates our position so we should not.\n\n\t* gsf/gsf-input-proxy.[ch]: New file.\n\n2004-09-16  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_dup): Set size.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_dup): Set size.\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_seek): Ugly\n\twork-around for gnome-vfs bug.\n\n\t* gsf/gsf-input.c (gsf_input_dup): Check size and seek return\n\tvalue.\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_name): Protect against\n\tNULL input name.\n\t(gsf_infile_child_by_index): Ditto.\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new_child): Handle\n\tfailure to dup.\n\t(ole_info_get_sb_file): Handle failure to dup.\n\t(gsf_infile_msole_new_child): Handle failure from\n\tole_info_get_sb_file.\n\n2004-09-15  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-win32/gsf-input-win32.c: Create more meaningful error messages\n\tfrom HRESULTs.\n\t* gsf-win32/gsf-output-win32.c: Ditto. Add error reporting.\n\n2004-08-27  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_seek): Use G_GNUC_UNUSED.\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_seek): Likewise.\n\t* gsf/gsf-structured-blob.c (blob_dup): Likewise.\n\t* gsf/gsf-input-textline.c (gsf_input_textline_dup): Likewise.\n\t* gsf/gsf-input-memory.c (gsf_input_memory_dup): Likewise.\n\t(gsf_input_mmap_new): Remove useless #warning.\n\n2004-08-26  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-shared-memory.c (gsf_shared_memory_finalize): Don't\n\tcheck size overflow here.\n\t(gsf_shared_memory_mmapped_new): Check it here.  Return NULL if we\n\tdon't have mmap.\n\n\t* gsf/gsf-timestamp.c (gsf_value_set_timestamp): Renamed from\n\tg_value_set_timestamp.\n\n2004-08-25  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close_root): Be careful\n\t  with empty files (fixes bug #150923).\n\n2004-08-25  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_base64_encode_step): Avoid potential\n\trounding error.\n\n\t* gsf/gsf-input-bzip.c (gsf_input_memory_new_from_bzip): Kill\n\tpointless #warning.\n\n2004-08-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_add_cstr) : Add some libxml compat\n\t  behavior and ignore NULLs\n\t(gsf_xml_out_add_cstr_unchecked) : ditto\n\n2004-08-17  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-utils.c (BASE64_LINE_LEN): New constant to determine\n\t  the line length, my mbox indicates that 76 is commonly used.\n\t(gsf_base64_encode_simple): Use it.\n\t(gsf_base64_encode_step): Use it too; remember that `already'\n\t  holds line length / 4.\n\t(gsf_base64_encode_close): Don't add '\\n' if not necessary.\n\n2004-07-29  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_new_full): One more sanity\n\t  check, bb.size has to be at least DIRENT_SIZE.\n\t(gsf_outfile_msole_close_root): For non-root dirs, don't set\n\t  FIRSTBLOCK to DIRENT_MAGIC_END, it is BAT_MAGIC_END_OF_CHAIN; though\n\t  both are -1.  Explanation: BAT_MAGIC_END_OF_CHAIN is of type ``block\n\t  number'' while DIRENT_MAGIC_END is of type ``dirent number''.\n\n2004-08-20  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2004-08-20  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.10.1\n\n2004-08-17  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-utils.c (gsf_base64_decode_simple): Revert base64\n\tinitialization change.\n\n2004-08-16  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_base64_encode_simple): Request line\n\tbreaking.\n\n2004-08-13  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-utils.c (gsf_base64_decode_simple): Initialize during\n\tfirst use.\n\n2004-08-10  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_utf8_gets): Fix\n\toff-by-one in buffer length check.\n\n2004-08-08  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output-stdio.c (follow_symlinks, gsf_output_stdio_new):\n\tUse g_error_new_literal, not g_error_new on strings which we do\n\tnot control.\n\n2004-07-30  Christopher James Lahey  <clahey@ximian.com>\n\n\t* gsf/gsf-input.c (gsf_input_class_init), gsf/gsf-output.c\n\t(gsf_output_class_init): Use correct types for properties here.\n\n2004-07-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_class_init) : Init the parent_class\n\t  here.\n\t(gsf_xml_out_init) : not here.\n\n2004-07-27  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_new_full):\n\t  Fix a race condition with a static buffer.\n\t  Write correct sb.shift to the header, even if it differs\n\t  from the default.\n\n2004-07-29  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (ole_bytes_left_in_block) : sigh.\n\t  Pull my head out of my rearend.  a one line function with two\n\t  errors.  I really shouldn't code when tired.\n\t(ole_pad_zero) : remove residual parm rename ole_ from bb_\n\t(ole_pad_bat_unused) : add a residual parm.\n\t(gsf_outfile_msole_close_root) : pad metabat with BAT_UNUSED\n\n2004-07-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Use NULL, not 0 for\n\tpointer.\n\t(gsf_input_memory_seek): Use G_GNUC_UNUSED instead of\n\tvoid-casting.\n\n\t* gsf/gsf-libxml.c (gsfXMLInParser): Ditto.\n\t(gsf_xml_in_get_entity, gsf_xml_in_warning, gsf_xml_in_error,\n\tgsf_xml_in_fatal_error): Use G_GNUC_UNUSED instead of\n\tvoid-casting.\n\t(gsf_xml_out_add_color): Make buffer size overflow safe.\n\n\t* gsf/gsf-utils.c: Always #define G_ARMFLOAT_ENDIAN.\n\n2004-07-28  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close_root):\n\t  Check for overflow of the size field of a regular file entry.\n\n2004-07-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (bb_pad_zero) : add a residual param to not\n\t  fill the entire block if desired and clarify that the current block\n\t  is cur_size - HEADER not block_size.\n\t(gsf_outfile_msole_close_root) : Clarify the metabat writing logic a\n\t  bit and just in case add a CHAIN_END to the last incomplete metabat\n\t(ole_bytes_left_in_block) : similar to Kasal's suggestion without the\n\t  -1 % size + 1\n\t(bb_pad_zero) : use it here to make this safe to use when not at the\n\t  end of the file.\n\t(ole_pad_bat_unused) : and here to fix the mystery corruption when XL\n\t  reads the file.\n\n2004-07-27  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close_root) : the last\n\t  xbat does not require a forwarding link\n\n2004-07-27  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-outfile-msole.c (metabat_size): Nuke; doesn't have to\n\t  be an instance variable, it can be local ...\n\t(gsf_outfile_msole_close_root): ... here.\n\t(gsf_outfile_msole_set_block_shift): Don't set metabat_size.\n\n2004-07-26  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (OLE_DEFAULT_METABAT_SIZE): delete\n\t(gsf_outfile_msole_close_root) : pull out of\n\t(gsf_outfile_msole_close) : here as a cleanup gesture.\n\n\tPer : Stepan Kasal  <kasal@ucw.cz>\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_set_block_shift) : Use\n\t  BAT_INDEX_SIZE, not hardwired shift of 2.\n\t(gsf_outfile_msole_close): Use the current sb.shift, not\n\t  OLE_DEFAULT_SB_SHIFT.\n\n2004-07-23  Stepan Kasal  <kasal@ucw.cz>\n\n\tReplace various instances of local parent_class variables by\n\ta static ones, initialized by class_init.\n\t* gsf/gsf-*.c: (20 files touched)\n\t* gsf/gsf-output-transaction.c: A general cleanup.\n\n2004-07-21  Stepan Kasal  <kasal@ucw.cz>\n\n\tThe gsf_ouput_printf method didn't correctly update cur_offset.\n\n\tThe implementations of vprintf virtual method shouldn't touch\n\tcur_offset but they should return the number of bytes written;\n\tthe dispatcher updates cur_offset accordingly.\n\n\t* gsf/gsf-output-impl.h (Vprintf): The virtual private method now\n\t  returns number of bytes printed.\n\t* gsf/gsf-output.c (gsf_output_vprintf): Renamed to ...\n\t  (gsf_output_ireal_vprintf): ... this.\n\t  (gsf_output_printf): Collect the va_list and call ...\n\t  (gsf_output_vprintf): ... this new function, which dispatches\n\t  the Vprintf virtual method and takes care of updating cur_offset\n\t  and cur_size, via ...\n\t  (gsf_output_inc_cur_offset): ... a new static function, extracted\n\t  from ...\n\t  (gsf_output_write): ... there.\n\t  (gsf_output_real_vprintf): In this fallback code, don't call\n\t  gsf_output_write, but only dispatch to the Write virual method,\n\t  so that gsf_output_inc_cur_offset is not called twice.\n\t* gsf/gsf-output.h (gsf_output_vprintf): New public method.\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_vprintf): Adapt.\n\t* gsf/gsf-output-transaction.c (gsf_output_trans_vprintf): Likewise.\n\t* gsf/gsf-outfile-msole.c (gsf_output_class): New static variable,\n\t  which is set to point to GsfOutput class structure.\n\t  (gsf_outfile_msole_vprintf): Adapt. If it's a MSOLE_BIG_FILE,\n\t  call vprintf method of the underlaying file, else fall back to\n\t  gsf_output_class->Vprintf.\n\t* gsf/gsf-output-memory.c (parent_class): New static variable.\n\t  (gsf_output_memory_vprintf): Use it too. Adapt to the new prototype.\n\n2004-07-21  Stepan Kasal  <kasal@ucw.cz>\n\n\tMake the two fseek() wrappers more consistent.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek): Fix the overflow\n\t  checking.\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Set errno=0\n\t  before calling fseek().\n\n2004-07-21  Stepan Kasal  <kasal@ucw.cz>\n\n\tGnomish autogen.sh uses ACLOCAL_FLAGS, if some of the macros are\n\tin nonstandard places.  If you touch configure.in then, aclocal.m4\n\tis regenerated, but without ACLOCAL_FLAGS.  This change ensures\n\tthat ACLOCAL_FLAGS is propagated to the Makefile.\n\n\t* configure.in: AC_SUBST(ACLOCAL_FLAGS)\n\t* Makefile.am: ACLOCAL_AMFLAGS = @ACLOCAL_FLAGS@\n\n2004-07-20  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-output-stdio.c: Check for overflow\n\n2004-07-09  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Remove the\n\t  \"overflow check\"; it can never catch anything.\n\n\t* gsf/gsf-output-memory.c (MAX_STEP): Parenthesize.\n\t(gsf_output_memory_expand): Fix the overflow checking.\n\t(gsf_output_memory_seek): make use of G_GNUC_UNUSED, instead of void\n\t reference.\n\n2004-07-12  Stepan Kasal  <kasal@ucw.cz>\n\n\t* gsf/gsf-output-iochannel.c (GET_OUTPUT_CLASS): Remove unused macro.\n\t* gsf/gsf-structured-blob.c (GET_CLASS): Likewise.\n\n2004-06-15  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_input_dump) : flush the stream when we're just\n\t  using stdio.\n\n2004-07-04  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: recheck all PKG_CHECK_MODULES for libgsf for\n\tlibgsf-gnome as well, so as not to trip on unresolved symbols with a\n\t-Wl,-z,defs build.\n\n2004-07-03  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2004-07-03  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.10.0\n\n2004-07-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_vprintf) : premature\n\t  optimization is the root of all evil.  We can not directly write\n\t  small block data because it will be in the wrong place and will miss\n\t  the transition to large block.  This is not a hugely common case and\n\t  does not need such special attention.\n\n2004-06-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek) : conditionalize the\n\t  use of fseeko.\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek) : ditto.\n\t* gsf/gsf-outfile-msole.c : Extend Stuart's work to use the internal\n\t  block sizes rather than keeping them global.\n\n2004-06-25  Jody Goldberg <jody@gnome.org>\n\tFor : Stuart Cunningham <stuartc@rd.bbc.co.uk>\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek) : use fseeko\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek) : ditto.\n\t* gsf/gsf-outfile-msole.c : rework to honor the requested block sizes\n\n2004-06-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri):\n\tDon't leak info components.  Handle lack of get_file_info\n\tsupports.  Rework make_local_copy case.  Work around gnomevfs\n\tget_file_info bogosity.\n\n2004-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : bump to 1.10.0 to handle all the signature changes in\n\t  return values.\n\t* *.[ch] : return the interesting base type rather than the derived\n\t  type for *_new.\n\n2004-06-11  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new): Change\n\treturn type to plain GsfInput*.\n\t(gsf_input_gnomevfs_new_uri): Change return type to plain\n\tGsfInput*.  If seek is not supported, snarf a local copy.\n\n2004-06-06  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new): Better\n\tsolution for Morten's problem.\n\n2004-05-26  Morten Welinder  <terra@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new): Handle\n\tfailure to parse URI.\n\n2004-05-20  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-outfile-stdio.c: mkdir() has a different prototype on win32\n\n2004-05-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : work around odd files from\n\t  softmaker, seems like they consider dirs to be rootdirs ??\n\n2004-05-17  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_le_get_double, gsf_le_set_double): Attempt\n\tARM fix.  Fix various #error messages.\n\n2004-05-15  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2004-05-15  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.9.1\n\n2004-05-11  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_set_doc_type) : new.\n\n\t* doc/gsf-sections.txt : more cleanup, still ugly but at least it's\n\t  somewhat better.\n\t* doc/gsf-docs.sgml : drop the useless Gsf section\n\n2004-05-09  Jody Goldberg <jody@gnome.org>\n\n\t* s/ZipDirent/GsfZipDirent\n\t* s/ZipVDir/GsfZipVDir\n\n2004-05-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-infile-zip.c: Don't pollute the global namespace\n\t* gsf/gsf-outfile-zip.c: Ditto\n\t* gsf/gsf-zip-impl.h: Ditto\n\t* gsf/gsf-zip-utils.c: Ditto\n\n2004-05-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-infile-stdio.c: Fix non-static definition of 'parent_class'\n\t* gsf/gsf-outfile-stdio.c: Ditto\n\n2004-05-07  James M. Cape <jcape@ignore-your.tv>\n\n\t* doc/gsf-sections.txt: Hide type macros.\n\t* gsf/gsf-output.c: s/<protected>/<note>/.\n\n2004-05-06  Jody Goldberg <jody@gnome.org>\n\n\thttp://bugzilla.gnome.org/show_bug.cgi?id=141899\n\t* doc/Makefile.am : Apply patch from James Cape\n\n2004-05-05  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/Makefile.am: Install docs in the $(DOC_MODULE) subdir of\n\t$(HTML_DIR) rather than in $(HTML_DIR) itself.\n\n2004-05-05  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2004-05-04  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.9.0\n\n2004-05-04  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : support merging of\n\t  content from a node and some of it's children\n\t(gsf_xml_in_end_element) : ditto.\n\t(gsf_xml_in_characters) : ditto.\n\t(sf_xml_in_doc_new) : kludge to support the old interface but still\n\t  allow new semantics.\n\n2004-05-01  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri) : Don't\n\trequire gnome-vfs-method.h\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_output_gnomevfs_new_uri): we\n\trequire random access.\n\n\t* gsf-win32/gsf-input-win32.c: fix seek's return value in the win32\n\tIStream input.\n\n2004-04-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri) : we\n\t  require random access.\n\n2004-04-26  Jody Goldberg <jody@gnome.org>\n\n\t* doc/Makefile.am : steal a few things from gtk-doc.make to get things\n\t  building.  A full jump to gtk-doc.make directly is failing, dunno\n\t  why\n\n\t* Makefile.am : Remove the AUTOMAKE_OPTIONS = 1.4 that disabled the\n\t  DISTCHECK_CONFIGURE_FLAGS\n\n2004-04-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : placate the bogus\n\t  -fstrict-aliasing gods.  gcc is being stupid.\n\n\t* configure.in : call this 1.9.0\n\n2004-04-27  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-bzip.c (gsf_output_bzip_write): If the output\n\tbuffer turns full on the last deflate, empty the buffer.\n\n2004-04-24  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_write): If the output\n\tbuffer turns full on the last deflate, empty the buffer.\n\n2004-04-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_seek) : fix sense\n\t  of return.  This code is clearly not being used.  A year and a half\n\t  and no one noticed ???\n\n2004-03-31  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Plug leak.\n\n2004-03-31  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c (find_match):\n\tsize limit the matches to the available bits for\n\tstoring the match length (doh). & make debug nicer.\n\n2004-03-16  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_finalize): Chain up.\n\t* gsf/gsf-shared-memory.c (gsf_shared_memory_finalize): Chain up.\n\t* gsf-gnome/gsf-shared-bonobo-stream.c\n\t(gsf_shared_bonobo_stream_finalize): Chain up.\n\n2004-03-12  Michael Meeks  <michael@ximian.com>\n\n\t* gsf/gsf-infile-msvba.c (vba_dir_read),\n\t* tests/test-msvba-zip.c (decode_dir):\n\tsimplify / treat op 9 as the quirk-meister.\n\n2004-03-11  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c (decode_dir): better\n\tquirk understanding.\n\t(find_match): remove unnecessary hacks.\n\n2004-03-10  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c (decode_dir): impl.\n\ta good run at enterpreting 'dir'.\n\n\t* tests/test-msvba-zip.c (do_compress): bin nasty\n\t3 byte header store / restore and generate header\n\ton the fly.\n\n2004-03-09  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c (find_match): shrink dodgy\n\tlooking matches.\n\n2004-03-08  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c (output_match): add a\n\tsmall/stupid LZSS compressor.\n\n2004-03-08  Michael Meeks  <michael@ximian.com>\n\n\t* tests/test-msvba-zip.c: add for compressing/decompressing\n\t'dir' (or other pure compressed) streams.\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_inflate): move from\n\t* gsf/gsf-infile-msvba.c (gsf_vba_inflate): here.\n\n2004-03-01  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : drop -Wmissing-format-attribute because it was\n\t  irritating me.\n\n2004-03-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-stdio.c :\n\t* gsf/gsf-infile-stdio.c : Some utility wrappers to pull or push from\n\t  a directory tree.\n\t* tests/test-dump-msole.c :\n\t* tests/test-restore-msole.c : tests for it.\n\n2004-02-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* configure.in: Add Win32 stuff\n\t* libgsf-win32-1.pc.in: Ditto\n\t* Makefile.am: Ditto\n\t* gsf-win32/Makefile.am: Win32 build system\n\n2004-02-05  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Fix typo.\n\n2004-02-05  Tomasz K\u00b3oczko <kloczek@pld.org.pl>\n\n\t* Makefile.am: Added \"DISTCHECK_CONFIGURE_FLAGS = --enable-gtk-doc\"\n\t  for force correct pass build documentation during \"make dist\"\n\t  (like in many other GNOME projects).\n\t  Added gtk-doc.make to EXTRA_DIST for generate correct tar ball on\n\t  \"make dist\".\n\t* configure.in: Removed old on place defined gtk-doc suport and added use\n\t  GTK_DOC_CHECK([1.0]).\n\n2004-01-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_fatal_error) : Looks like Daniel has\n\t  added another field\n\n2004-01-30  Jody Goldberg <jody@gnome.org>\n\n\thttp://bugzilla.gnome.org/show_bug.cgi?id=130596\n\t* configure.in : apply the patch\n\nWed Jan 28 00:43:36 2004  Matthias Clasen  <maclas@gmx.de>\n\n\t* doc/Makefile.am (EXTRA_HFILES): Add ../gsf-gnome/*.h to give\n\tgtk-doc a chance to pick up declarations from there.  (Partial fix\n\tfor bug #132661.\n\n2004-01-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : minor portability fix.\n\n2004-01-18  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-msole-utils.c: Country code for Albania is sq_AL not al_AL\n\t* gsf-win32/*.c: Some work on the IStream input and output\n\n2003-12-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/*.c: Documentation\n\n2003-12-06  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c : Major work.\n\t  We can now extract the compressed source for all of our sample\n\t  files.  There's still lots of unknowns, but at least the code\n\t  is visible now.  The next step will be looking at the p-code\n\n2003-11-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_input_hex_dump) : new.\n\t(gsf_mem_dump_full) : expand the interface a bit.\n\n2003-11-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/Makefile.am (uninstall) : make the impl headers for the base\n\t  interfaces public.\n\n2003-10-29  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : The anal check should\n\t  take the prevailing char width also as noted by Xavier Roche.\n\n\t* gsf/gsf-infile-msole.c (ole_init_info) : Doh!  do not double convert\n\t  to native endianness.  Fixes error reading files > 13.6 Meg on sparc\n\t  and alpha as noted by Xavier Roche.\n\n2003-10-21  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c : Make the codepage arguments int to allow\n\t  smooth handling of bogus files that encode the codepage as an int\n\t  and break the utf-8 page '65001' because it looks like -535\n\n2003-10-09  Jody Goldberg <jody@gnome.org>\n\n\t* libgsf-gnome-1.spec.in : An old patch from Joseph Frazee\n\n2003-09-29  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new) : as noted by Nick\n\t  Lamb a failure should not change the file pos of @input.\n\n2003-09-23  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : downgrade.  No need to force a version bump yet.\n\t* gsf/gsf-libxml.c (gsf_xml_parser_context_full) : use a _full version\n\t  internally because that seems cleaner than manually tweaking pointers.\n\t  However, its a cosmetic change and not worth a version bump.\n\n2003-09-22  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : jump to 1.9.0 for api change.\n\n\t* gsf/gsf-libxml.c :  Initialize sax handler correctly to make sure\n\t  they work with libxml2 2.6.0.\n\t(gsf_xml_parser_context) : take a sax handler and user data so taht we\n\t  can initialize it on creation.\n\n2003-09-21  Tor Lillqvist  <tml@iki.fi>\n\n\t* libgsf-zip.in: New file.\n\n\t* configure.in: Expand it.\n\n\t* Makefile.am (EXTRA_DIST): Distribute it.\n\n2003-09-13  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump to 1.8.3 for now.\n\t  If this becomes the basis for the interleaved write support it will\n\t  jump to 1.9 without a release.\n\n2003-09-12  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.8.2\n\n2003-09-12  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : libole2 depends\n\t  on all entries having names.  Hard code 'Root Entry' for the root.\n\n2003-08-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* win/libgsf.ds*: Add win32 project files, from Jeremy Davis\n\t* gsf/*: Some casts and ifdefs to let this puppy build on win32 using\n\tMSVC. Also from Jeremy Davis, with some touch-up work by myself.\n\t* configure.in: check for <io.h>\n\n2003-08-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c : some initial work to define an interface\n\t  for using non-default block sizes.  We're just managing these values\n\t  not using them yet.\n\n2003-08-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_make_bat) : weaken the post condition\n\t  from error -> warning in the event that a BAT is missing a valid\n\t  terminator.  We've already loaded a BAT, and we're sure that it is\n\t  not too big.  Hopefully this will allow some of the data to be\n\t  restored.\n\n2003-08-01  Jody Goldberg <jody@gnome.org>\n\n\tFor Stuart Cunningham <stuartc@rd.bbc.co.uk>\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_read) : another patch to\n\t  fix non-default sector size support.\n\n2003-07-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (zip_dup) : take an error arg.\n\t(zip_child_init) : ditto.\n\t(gsf_infile_zip_dup) : use the error from zip_dup and zip_child_init.\n\n\t* gsf/gsf-infile-impl.h : Take GError args for child_by_* virtuals.\n\t  We can not expose them yet.\n\t* gsf/gsf-structured-blob.c (blob_child_by_index) : fix here.\n\t(blob_child_by_name) : and here.\n\t* gsf/gsf-infile-ar.c : and here.\n\t* gsf/gsf-infile-msvba.c : and here.\n\n\t* gsf/gsf-infile-msole.c (ole_dup) : catch gsf_input_dup failures\n\t  for the underlying source, and take a GError arg.\n\t(gsf_infile_msole_dup) : pass the new err arg to ole_dup and use error\n\t  from ole_dup directly.  No need to cruft another one up.\n\t(gsf_infile_msole_new_child) : Take a GError arg to pass to ole_dup.\n\n2003-07-15  Jody Goldberg <jody@gnome.org>\n\n\tFor Stuart Cunningham <stuartc@rd.bbc.co.uk>\n\t* gsf/gsf-infile-msole.c (ole_get_block) : fix ole block seeking in\n\t  4k-sector files\n\n2003-07-03  Jody Goldberg <jody@gnome.org>\n\n\tFor : Stuart Cunningham <stuartc@rd.bbc.co.uk>\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : store the directory's CLSID\n\t(gsf_infile_msole_get_class_id) : new.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : store the CLSID\n\t(gsf_outfile_msole_set_class_id) : new.\n\t(gsf_outfile_msole_init) : be really anal and ensure the CLSID is 0.\n\n2003-07-02  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_new_child) : Even if a\n\t  directory claims to have a size set it to 0.  Thanks to the AAF\n\t  people for the test case.\n\n2003-06-28  Jody Goldberg <jody@gnome.org>\n\n\t* doc/Makefile.am : fix the case when gtk-doc is not available\n\n2003-06-20  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_read): Handle premature end\n\tof stream.\n\n2003-06-21  Jody Goldberg <jody@gnome.org>\n\n\tAs per ryang@bway.org :\n\t* README : s/automake/autoconf/ and add automake details.\n\n2003-06-15  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Remove test for obsolete orbit-python module.\n\n2003-06-09  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* debian/*: Updated debianisation.\n\n2003-06-07  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2003-06-07  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.8.1\n\n2003-06-06  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_out_simple_int_element) : new util.\n\t(gsf_xml_out_simple_float_element) : ditto.\n\n2003-05-14  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/Makefile.am: Added $(LIBGSF_LIBS) to libgsf_1_la_LIBADD to get\n\tcomplete inter-library dependency information.\n\n2003-05-13  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* COPYING.LIB: update the the version of the LGPL license we're\n\tactually licensed under\n\n2003-05-13  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* libgsf-1.spec.in: Updates from Rui\n\n2003-05-12  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-output-gzip.c (gsf_output_gzip_finalize): Plug\n\ttruck-sized leak.\n\n2003-05-12  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2003-05-11  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.8.0\n\n2003-04-29  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-win32/gsf-input-istream.[ch]: IStream based input. Untested\n\t* gsf-win32/gsf-output-istream.[ch]: IStream based output. Untested\n\n2003-04-29  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c\n\t(gsf_msole_iconv_open_codepage_for_import): Try MACROMAN as alias\n\tfor 10000.\n\n2003-04-28  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-msole-utils.c\n\t(gsf_msole_iconv_open_codepage_for_import): Remove code\n\tduplication.\n\n2003-04-21  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : terminate the name before\n\t  conversion.\n\n2003-04-15  Morten Welinder  <terra@gnome.org>\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): FREEBSD have broken\n\tmmap -- we must keep the file descriptor around.\n\n2003-04-09  Jody Goldberg <jody@gnome.org>\n\n\tFrom Xavier Roche <roche@exalead.com>\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : gsize is not always\n\t  guinit32.  Fixes sparc-64 problem.\n\t* gsf/gsf-infile-msvba.c (vba3_dir_read) : ditto.\n\n2003-04-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-impl-utils.h : Add utils for objects in plugins\n\n2003-03-20  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* configure.in: Better checks for bz2\n\n2003-03-20  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-bzip.c (gsf_input_memory_new_from_bzip): Warning\n\tkiller.\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_doc_new): Kill warning.\n\n2003-03-09  Jody Goldberg <jody@gnome.org>\n\n\t* Relicense from GPL -> LGPL\n\n2003-03-05  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* NEWS: update for correctness and mention AR infile\n\t* README: typo police\n\n2003-03-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c : More morten  warnings\n\n2003-03-05  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_seek): Fix return type.\n\n\t* gsf/gsf-input.c (gsf_input_seek): Fix failure return.\n\n2003-03-05  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-infile.c (gsf_infile_num_children): Fix failure return\n\tvalue.\n\t(gsf_infile_name_by_index): Ditto.\n\t(gsf_infile_child_by_index): Ditto.\n\t(gsf_infile_child_by_name): Ditto.\n\t* gsf/gsf-outfile.c (gsf_outfile_new_child): Ditto.\n\n2003-03-04  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-zip-impl.h: s/off_t/gsf_off_t\n\t* gsf/gsf-infile-ar.[ch]: AR infile. DOES NOT YET WORK\n\n2003-02-23  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input.c (gsf_input_copy): remove == TRUE for Morten\n\n2003-02-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input.c (gsf_input_uncompress): Support uncompressing BZ2\n\tstreams as well, optionally\n\n2003-02-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-bzip.c: Restructure things so that it's possible to\n\tbuild without bzip2 support\n\n2003-02-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-textline.c: Replace g_realloc with g_renew\n\t* gsf/gsf-output-memory.c: Ditto\n\n2003-02-21  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-bzip.c: Implement this\n\t* gsf/gsf-input-memory.[ch]: New function: gsf_input_memory_new_clone\n\t* gsf/Makefile.am: Build bz2 importer, distribute header\n\t* tests/test-bzip.c: New test\n\t* tests/Makefile.am: Add new test\n\n2003-02-20  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-bzip.[ch]: Stubs for a BZ2 input I'm working on\n\n2003-02-18  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input.c (gsf_input_class_init): Install GObject properties\n\t(gsf_input_get_property): Ditto\n\t(gsf_input_set_property): Ditto\n\n\t* gsf/gsf-output.c (gsf_output_class_init): Install GObject properties\n\t(gsf_output_get_property): Ditto\n\t(gsf_output_set_property): Ditto\n\n2003-02-14  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* configure.in: Emit a warning instead of breaking if VFS and Bonobo\n\taren't found, but --without-gnome wasn't specified. Makes the KDE folk\n\thappy.\n\n2003-02-11  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : compartmentalize the bzip config tests, and trust\n\t  libtool for the dependent libraries enough to not mention them in\n\t  the pkg-config file\n\n\t* gsf/gsf-output-bzip.c : improve the conditionalization.\n\n\t* gsf/gsf-input-iochannel.c (gsf_input_memory_new_from_iochannel) :\n\t  warning suppression.\n\n2003-02-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* configure.in: Changes to (optionally) compile bz2 functionality\n\t* Makefile.am: Ditto\n\t* gsf/Makefile.am: Ditto\n\t* tests/Makefile.am: Ditto\n\t* gsf/gsf-output-bzip2.c: Changes to optionally compile parts of this\n\n2003-02-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* tests/test-out-bzip.c: Tester for new BZip2 output\n\t* gsf/gsf-impl-utils.h: Correct typo\n\t* gsf/gsf-output-gzip.c: Fix memory leak (leaked buffer)\n\t* gsf/gsf-output-bzip.[ch]: New output class, not currently built\n\n2003-02-09  Dom Lachoiwcz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-iochannel.[ch]: Rework as per Jody's suggestions. Now\n\tit is a utility constructor.\n\n2003-02-09  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input-iochannel.c: Fixed iochannel. Unfortunately uses memory\n\tbackend because there's no way to query the size of an IOChannel\n\n2003-02-07  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/gsf-input-iochannel.[ch]: new GIOChannel based input.\n\n2003-02-07  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-doc-meta-data.[ch]: Clean API a bit to include consts, gsize\n\n2003-02-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : clip long names,\n\t  and do not output a name for the root file.\n\n2003-02-04  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* Changed below commit to use g_new instead of g_malloc + typecast, at\n\tJody's and Morten's request\n\n2003-02-01  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-infile-msole.c\n\t* gsf/gsf-infile-zip.c\n\t* gsf/gsf-input-gzip.c\n\t* gsf/gsf-input-stdio.c\n\t* gsf/gsf-input-textline.c\n\t* gsf/gsf-outfile-msole.c\n\t* gsf/gsf-output-gzip.c\n\t* gsf/gsf-output-memory.c\n\t* gsf/gsf-utils.c\n\t* gsf-gnome/gsf-input-bonobo.c\n\t* gsf-gnome/gsf-input-gnomevfs.c: More castings needed\n\n2003-02-01  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-infile-msole.c: Some castings to help things build using\n\tMSVC++\n\t* gsf/gsf-msole-utils.c: Ditto\n\n2003-01-31  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* test/*.c: Correctness fixes in the testcases. No need to unref a null\n\tobject\n\n2003-01-29  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* *: With Jody's permission, change all _new() calls to return the\n\tderived/subclassed type, instead of the mix we had before\n\t* tests/*: Updated to conform with above\n\n2003-01-28  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2003-01-28  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.7.2\n\n2003-01-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : be a touch more anal.\n\n2003-01-24  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : remove -Wunreachable-code it was damn irritating and\n\t  mostly wrong.\n\n\t* gsf/gsf-msole-utils.c : warning suppression.\n\n\t* gsf/gsf-libxml.c (gsf_xml_in_start_element) : support default\n\t  namespaces.\n\t(gsf_xml_in_end_element) : ditto.\n\t(gsf_xml_in_start_document) : ditto.\n\n2003-01-23  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Calculate MAJOR_VERSION_PLUS_MINOR_VERSION.\n\n2003-01-22  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c : Rename everything (again) and add namespace\n\t  support for the import wrappers.\n\n\t* configure.in : bump version to 1.7.1 to reflect the major changes in\n\t  the xml import/export api.\n\n2003-01-22  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-utils.h, gsf/gsf-utils.c (gsf_base64_encode_close,\n\tgsf_base64_encode_step), gsf/gsf-input.c (gsf_input_copy,\n\tgsf_input_uncompress),\n\tgsf-input-textline.c (gsf_input_textline_utf8_gets): Fixed signedness.\n\n2003-01-21  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-msole-utils.c: Mark the 11644473600 constant as ULL.\n\n2003-01-21  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-input.c: The gzip signature consists of unsigned chars.\n\n2003-01-21  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/gsf-libxml.c, gsf/gsf-output-memory.c, gsf/gsf-output.c,\n\tgsf/gsf-structured-blob.c, gsf/gsf-zip-utils.c: #include <string.h> for\n\tstrcmp(), strlen() and memcpy().\n\n2003-01-21  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Redirect grep output to /dev/null instead of using -q\n\twhich Morten pointed out doesn't work on Solaris.\n\n2003-01-20  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in: Check if -D_POSIX_SOURCE is needed for the fdopen()\n\tprototype in a cleaner fashion; might fix problems on Mac OS X.\n\n2003-01-09  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_read): Handle eof.\n\n2003-01-08  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-iochannel.c (gsf_output_iochannel_write): ensure\n\tlarge writes happen\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_output_gnomevfs_write):\n\tDitto\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_read): Ensure that large\n\treads happen\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_input_gnomevfs_read) :\n\tDitto\n\n2003-01-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : fix off by 1 in\n\t  calculation of how many meta bats are required.  Store correct\n\t  position of initial xbat, the original code did not take small\n\t  blocks into account.\n\n\t* gsf/gsf-infile-msole.c (ole_make_bat) : add protection against\n\t  cycles.\n\n2003-01-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_output_xml_add_attr_cstr_safe) : clone over\n\t  logic for escaping strings from libxml and revamp it to be more\n\t  libgsf-ish.\n\n\t* gsf/gsf-utils.c : rename the base64 utilities and clean up the types\n\t  and const to match gsf conventions.\n\n2003-01-06  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-transaction.c : New capability - transacted\n\toutputs. Not thoroughly tested.\n\n\t* tests/test-trans.c : Transaction testsuite for above\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_write) : Put write\n\tinside of a loop to ensure that large writes are carried out\n\tproperly and feof is properly detected\n\n\t* TODO: remove the \"try to support canceling a write\" item since\n\tsuch functionality is supported via transactions\n\n2003-01-05  Tor Lillqvist  <tml@iki.fi>\n\n\t* configure.in: Check for lstat() and readlink().  Check for\n\tnative Win32 and for Win32 in general (including Cygwin).  Set\n\tautomake conditionals OS_WIN32 and PLATFORM_WIN32 accordingly.\n\tAdd AC_LIBTOOL_WIN32_DLL.\n\n\t* gsf/Makefile.am: On Win32, use -no-undefined, and install (and\n\tuninstall) import libraries.\n\n\t* gsf/gsf-output-stdio.c: Add workaround #defines for various Unix\n\tstuff on Win32. Bypass follow_symlinks() unless HAVE_READLINK.\n\n2003-01-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c : Pull in the bas64 utilites from evolution.  Unused\n\t  for now.\n\n2003-01-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output.c (cb_output_unwrap) : renamed from\n\t  cb_output_wrap_screwup and weaken restrictions.  The weak ref\n\t  handler is called before the wrappers finalize, so we can not always\n\t  unwrap in such a way as to avoid a warning.  Just handle it silently\n\t  now.\n\t(gsf_output_wrap) : ditto.  Weaken the requirement of the wrapper to\n\t  be a GObject, no need for a full fledged GsfOutput.\n\t(gsf_output_unwrap) : ditto.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : fix reversal of\n\t  arguments for the wrapping.\n\t(gsf_outfile_msole_write) : ditto.\n\t* gsf/gsf-outfile-zip.c (zip_init_write) : ditto.\n\t(zip_close_stream) : ditto.\n\n\t* gsf/gsf-libxml.c : rename xml_sax -> GsfInputXML\n\t(GsfOutputXML) : new\n\n2003-01-03  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-impl-utils.h : add hooks for interfaces\n\n2002-12-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_read) : patch some warnings.\n\n2003-01-01  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* debian/changelog, debian/control, debian/libgsf-1-dev.dirs,\n\tdebian/libgsf-1-dev.files, debian/rules: Updated.\n\n2002-12-30  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Check if res is a GValue.\n\t(gsf_msole_metadata_read): Check if v is a GValue and holds an int\n\tbefore reading codepage. Check if v is a GValue before unsetting.\n\n2002-12-23  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-libxml.c (gsf_xml_output_buffer_new): Fix comment and\n\tref output to match gsf_libxml_close.\n\n2002-12-20  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-libxml.c (gsf_libxml_close): Plug leak.\n\n2002-12-19  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new_uri) : Able to\n\topen URI objects as well as strings\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_output_gnomevfs_new_uri) : ditto\n\n2002-12-11  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump.\n\n2002-12-11  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.6.0\n\n2002-12-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_lid_for_language) : Suggestion from\n\tNicolas Peninguy <peninguy.nicolas@wanadoo.fr>\n\n2002-12-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_finalize) : do not unref\n\t  the info for the magic internal small block file it was already\n\t  removed.\n\t(ole_info_get_sb_file) : do not create a reference loop from the info\n\t  to the small block file and back.  Remove the default reference from\n\t  the magic internal small block file to the info.\n\n2002-12-10  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-structured-blob.c (blob_finalize): Link to the right\n\tparent type.\n\n\t* gsf/gsf-outfile-zip.c (zip_dirent_new_out): Don't allocate and\n\tthrow away memory.\n\n2002-12-09  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Fix typo.\n\n2002-12-09  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-outfile-zip.c (disconnect_children): Factor out from\n\tzip_close_root.\n\t(gsf_outfile_zip_finalize): Use here too.  (This closes a leak if\n\tclosing fails.)\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse): Free the property\n\tvalues until we figure out what to do with them.\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_finalize): Plug leak.\n\n\t* gsf/gsf-timestamp.c (gsf_timestamp_as_string): 64-bit fix.\n\n2002-12-04  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-input.c (gsf_input_copy): Copies a GsfInput to a GsfOutput.\n\tWill probably be useful for some abiword stuff I'll be doing\n\n\t* tests/test-cp.c: New test program exercising gsf_input_copy\n\n2002-12-04  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-output-stdio.c (follow_symlinks): Fix error return\n\tconventions.\n\t(gsf_output_stdio_new): Clean up error messages.\n\n2002-12-03  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_close): Try much harder\n\trestoring owner and permissions.  Still not good.\n\t(gsf_output_stdio_new): Simplify using g_path_get_dirname.\n\tRespect non-writable files!\n\t(follow_symlinks): Simplify using g_path_is_absolute and\n\tg_path_get_dirname.  Eliminate some race conditions.\n\n2002-11-29  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output-gzip.c (init_gzip): Return set error if\n\tdeflateInit2 fails.\n\t(gzip_output_header): Add missing argument to time().\n\n2002-11-27  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-libxml.c (gsf_libxml_close): Change to do nothing. We\n\texpect higher layers to close.\n\t(gsf_xmlDocFormatDump): Use encoding argument. Don't call\n\txmlOutputBufferClose - libxml calls it for us via the callback we\n\tsupply.\n\n\t* gsf/gsf-libxml.[ch] (gsf_xmlDocFormatDump: Add encoding parameter.\n\n2002-11-27  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-out-gzip.c\n\n\t* gsf/gsf-output-gzip.[ch]: New files. Gzip output.\n\n\t* gsf/Makefile.am (libgsf_1_la_SOURCES): Add gsf-output-gzip.c.\n\t(libgsf_1_include_HEADERS): Add gsf-output-gzip.h.\n\n2002-11-25  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-outmem-printf.c (test): Adjust to new\n\tgsf_output_memory_get_bytes API.\n\n\t* gsf/gsf-outfile-zip.c (root_register_child): Don't ref children\n\twhich are directories.\n\n\t* tests/test-zip-out-subdirs.c (test): Make close/unref strategy\n\tthe same as in test-cp-zip/test-cp-ole (with change above, this\n\tworks!). Test closing subdirs at different times in the lifecycle.\n\n2002-11-25  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-outfile-zip.c (zip_init_write): Fail if already writing\n\tto another stream in archive. Set \"writing\" flag in zip root to\n\tindicate that we're writing to a stream.\n\t(zip_close_stream): Unset \"writing\" flag in zip root to indicate\n\tthat we're now free to write to a new stream.\n\t (zip_close_root): s/g_message/g_warning/.\n\n\t* tests/test-zip-out-subdirs.c (test): Close each substream before\n\tstarting to write to the next.\n\n2002-11-24  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-outfile-zip.c (stream_name_len,\n\tstream_name_write_to_buf): Stop recursing at root of zip archive,\n\ti.e. don't append name of archive file to stream names. Take zip\n\trather than outfile argument.\n\t(stream_name_build): Take zip rather than outfile argument.\n\t(zip_dirent_new_out): Call stream_name_build with new signature.\n\n2002-11-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-ouput-iochannel.c (): New output sink. No IOChannel\n\tinput sink possible due to API limitations\n\n\t* gsf/gsf-input-stdio.c (_new): Open files with \"rb\" status\n\n2002-11-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-memory.c (gsf_output_memory_get_bytes): WARNING:\n\tchanged prototype\n\t(gsf_output_memory_seek): Re-implement seek() in a saner fashion\n\t(gsf_output_memory_write): ditto\n\t(gsf_output_memory_vprintf): ditto\n\t(gsf_output_memory_init): ditto\n\n2002-11-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_seek): Code\n\tcleanup\n\n2002-11-24  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-memory.c (gsf_output_memory_seek): Implement\n\tseek() by implementing a cursor as well as the existing nwritten\n\tand capacity fields\n\t(gsf_output_memory_write): ditto\n\t(gsf_output_memory_vprintf): ditto\n\t(gsf_output_memory_init): ditto\n\n2002-11-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_vprintf) : rename from\n\t  gsf_output_msole_vprintf to conform to naming convention.\n\t(gsf_outfile_msole_class_init) : hook up the vprintf method and fix\n\t  some old cut-n-paste errors.\n\n\t* gsf/gsf-output.c (gsf_output_finalize) : free the new printf buf.\n\t(gsf_output_init) : init the new printf buf.\n\t(gsf_output_vprintf) :  use a stream local buffer and handle older\n\t  version of glibc that did not return the required number of\n\t  characters.\n\n2002-11-23  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-zip-out-subdirs.c: New test program. Add.\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-zip-out-subdirs.\n\n2002-11-23  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-zip-out.c: New test program. Add.\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-zip-out.\n\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_finalize): Only free\n\tvdirs from the root down.\n\t(zip_trailer_write): Take no. of entries as a parameter, so that\n\tthe root_order array doesn't have to be live when we call this\n\tfunction.\n\t(zip_close_root): Slight tweak of Dom's fix.\n\n2002-11-23  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-outfile-zip.c (zip_close_root): Free the root_array and\n\tunref the child outputs when closing the root directory\n\n2002-11-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Disable creating\n\tbackup copies of files, open files with \"wb\" status instead of\n\tjust \"w\"\n\n2002-11-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-output.c (gsf_output_puts): Check for null input\n\t(gsf_output_vprintf): Don't use static internal buffer, will lead\n\tto nasty race conditions and a memory-leak on shutdown\n\n2002-11-22  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-outmem-printf.c: New test program. Add.\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-outmem-printf.\n\n\t* gsf/gsf-output-memory.c (gsf_output_memory_vprintf):\n\tNew. vprintf implementation which uses g_vsnprintf directly\n\tinto buffer if there is space.\n\t(gsf_output_memory_class_init):  Initialize vprintf virtual.\n\n2002-11-22  Jody Goldberg <jody@gnome.org>\n\n\t* doc/Makefile.am : pull in newer magic from gtk.\n\t* configure.in : ditto.\n\n2002-11-22  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_output_msole_vprintf): New. vprintf\n\timplementation which falls through to the sink's implementation if\n\tpossible.\n\t(gsf_outfile_msole_class_init):  Initialize vprintf virtual.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_vprintf): New. vprintf\n\timplementation which just falls through to vfprintf.\n\t(gsf_output_stdio_class_init): Initialize vprintf virtual.\n\n2002-11-22  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-msole-printf.c: New test program. Add.\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-msole-printf.\n\n2002-11-21  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output.c (gsf_output_puts): Remove unused variable.\n\n2002-11-21  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-libxml.c (gsf_libxml_write): Fix inverted\n\tsuccess/failure test.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_new): Set name\n\n2002-11-21  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output.[ch] (gsf_output_printf): New function. printf\n\tfor GsfOutput.\n\t(gsf_output_puts): New function. fputs for GsfOutput.\n\n\t* gsf/gsf-output-impl.h (struct GsfOutputClass): Add Vprintf virtual.\n\n\t* gsf/gsf-output.c (gsf_output_class_init): Initialize to default\n\tvprintf method.\n\t(gsf_output_vprintf): New function: Default vprintf method.\n\n\t* tests/test-out-printf.c: New test program. Add.\n\n\t* tests/Makefile.am (check_PROGRAMS): Add test-out-printf.\n\n2002-10-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : be more careful about\n\t  invalid stream names.\n\n2002-10-30  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* debian/changelog, debian/control, debian/rules: updated.\n\t* debian/shlibs.local: dropped.\n\n2002-10-26  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2002-10-26  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.5.0\n\n2002-10-26  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_lid_to_codepage) : remove warning.\n\n2002-10-14  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output-memory.c (gsf_output_memory_finalize) : close != exit.\n\t  Chain to the parent, and keep the content around until detruction.\n\n2002-10-22  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-msole-utils.c\n\t(gsf_msole_iconv_open_codepage_for_export): Fix bug where we used\n\tUTF-8 regardless of the 'from' codepage\n\n2002-10-21  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/gsf-msole-utils.c (*): Large rewrite of the codepage handling\n\tcode. More functions, more complete, more flexible, etc...\n\n2002-10-18  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_ascii_gets): Handle\n\tend-of-buffer case without asserting.\n\n2002-10-08  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-utils.c (gsf_filename_to_utf8): New function.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Ensure sane\n\tfilenames before putting them into error messages.\n\t* gsf/gsf-output-stdio.c (follow_symlinks): Ditto.\n\t(gsf_output_stdio_new): Ditto.\n\t(gsf_output_stdio_close): Ditto.\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Ditto.\n\n2002-10-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xmlSAX_prep_dtd) : support recursive\n\t  structures.\n\n2002-09-30  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release bump\n\n2002-09-30  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.4.0\n\n2002-09-27  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-structured-blob.c (gsf_structured_blob_read) : fix.\n\t(gsf_structured_blob_write) : fix.\n\n2002-09-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output-memory.c: Remove debug printouts.\n\n2002-09-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-output-memory.[ch] (gsf_output_memory_get_bytes): Take\n\t1st argument GsfOutputMemory instead of GsfOutput.\n\n\t* gsf/gsf-output-memory.c (struct _GsfOutputMemory): Add\n\t'capacity' member.\n\t(gsf_output_memory_new): Don't duplicate work done in\n\tgsf_output_memory_init.\n\t(gsf_output_memory_expand): Encapsulate expansion and make it more\n\tintelligent.\n\t(gsf_output_memory_write): Use gsf_output_memory_expand.\n\t(gsf_output_memory_init): Initialize capacity.\n\n2002-09-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_read) : remove some debug spew\n\t  that snuck in.\n\n2002-09-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c :  support unicode property names and values,\n\t  including some ugly heuristics to add the documented padding only\n\t  when using unicode (? what where they smoking ?)\n\n2002-09-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xmlSAX_prep_dtd) : typo\n\t  and make the errors more verbose.\n\n2002-09-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-structured-blob.c (gsf_structured_blob_read) : handle out of\n\t  memory.\n\n2002-09-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-libxml.c (gsf_xmlSAX_parse) : some initial work on utility\n\t  structures and routines to make building a sax parser easy.\n\n\t* gsf/gsf-structured-blob.c : new utility to read/write trees of\n\t  unparsed data.\n\n2002-09-19  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-outfile-zip.h (enum GsfZipCompressionMethod): Define.\n\n\t* gsf/gsf-outfile-zip.[ch]\n\t(gsf_outfile_zip_set_compression_method): New function. Set\n\tcompression method.\n\n\t* gsf/gsf-outfile-zip.c (struct _GsfOutfileZip): Add\n\tcompression_mehod member.\n\t(zip_dirent_new_out): Set compression method.\n\t(zip_header_write): Write current compression method.\n\t(zip_init_write, zip_close_stream, gsf_outfile_zip_write): Handle\n\tnoncompressed streams.\n\t(zip_header_write_sizes): New function. Write crc and sizes to\n\tlocal file header.\n\t(gsf_outfile_zip_init): Initialize compression method to deflated.\n\t(gsf_outfile_zip_set_compression_method): New function. Set\n\tcompression method.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Fix typo.\n\n2002-09-19  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (zip_read_dirents): Don't expect a file\n\theader at the start of the archive. It's not required by the\n\tspecification, and e.g. self-extracting zips do not have one.\n\tWith this change, we can read self-extracting zips.\n\n2002-09-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_close) : always close even if the\n\t  implementation failed.\n\t(gsf_output_finalize) : free the error.\n\t(gsf_output_init) : init the error.\n\t(gsf_output_seek) : inver the return flag to be consistent with write.\n\t(gsf_output_error) : new.\n\t(gsf_output_set_error) : new.\n\n\t* gsf/gsf-output-stdio.c : borrow the temp file handling from gedit so\n\t  that we can handle setgid directories correctly.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_seek) :\n\t  invert the return type.\n\t* gsf/gsf-outfile-zip.c (gsf_outfile_zip_seek) : ditto.\n\t* gsf/gsf-output-memory.c (gsf_output_memory_seek) : ditto.\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_metadata_write) : add some error\n\t  checking.\n\n2002-09-15  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_iconv_win_codepage) : fix warning.\n\n\t* configure.in : reorder the _BSD_SOURCE and _POSIX_SOURCE tests\n\t  because POSIX changes things under linux.\n\t  Add an lstat test\n\n2002-09-15  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-zip2.c: Add.\n\n2002-09-14  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/gsf-command-context.[ch]: added support for warnings.\n\t(gsf_command_context_has_warnings, gsf_command_context_push_warning,\n\t gsf_command_context_pop_warning): new functions.\n\n2002-09-14  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/gsf-command-context.[ch]: new class for command contexts,\n\tstealing some implementation from GsfIOContext.\n\n\t* gsf/gsf-io-context.[ch]: base this class on GsfCommandContext.\n\n2002-09-14  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_read): Fix reading\n\tnon compressed streams.\n\n2002-09-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_read) : tweak boundary case\n\t  to match reality\n\n2002-09-14  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-outfile-zip.[ch]: Really add this time.\n\n\t* gsf/gsf-infile-zip.c: gsf-zip-utils.h doesn't exist - don't\n\tinclude it!\n\n\t* gsf/gsf-zip-utils.c: Ditto.\n\n2002-09-14  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/Makefile.am: Add test-cp-zip.c\n\n2002-09-13  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-cp-zip.c: Add a test program for zip export.\n\n2002-09-13  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-zip-util.c: Add.\n\n\t* gsf/gsf-infile-zip.c (enum ZipCompressionMethod, struct\n\tZipDirent, struct ZipDir): Move to gsf-zip-impl.h.\n\t(vdir_new, vdir_free, vdir_compare, vdir_add_child,\n\tzip_dirent_free): Move to gsf-zip-utils.c.\n\t(zip_dirent_new): Rename to zip_dirent_new_in.\n\t(vdir_free, zip_info_unref): Add free_dirent parameter to\n\tvdir_free.\n\t(zip_child_init): Move before first use.\n\t(gsf_infile_zip_finalize): Free zlib stream.\n\n\t* gsf/Makefile.am: Add gsf-zip-utils.c, gsf-outfile-zip.[ch]\n\n2002-09-12  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf/Makefile.am: add gsf-output-memory\n\n\t* gsf/gsf-output-memory.c (_seek): fix seek type, compiles\n\n\t* gsf-gnome/Makefile.am: add gsf-output-bonobo\n\n\t* gsf-gnome/gsf-output-bonobo.c (): make compile\n\n2002-09-06  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-input-gzip.c (init_zip): Factored out of gsf_input_gzip_new.\n\t(gsf_input_gzip_new): See init_zip.\n\t(gsf_input_gzip_dup): Dup source instead of sharing it, and\n\tinitialize zip context.\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_dup): Call zip_child_init.\n\n2002-09-04  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (struct ZipDirent, struct _GsfInfileZip,\n\tzip_dirent_new, zip_dirent_free, zip_update_stream_in,\n\tgsf_infile_zip_read, zip_child_init, gsf_infile_zip_seek,\n\tgsf_infile_zip_init): Move zlib context to GsfInfile object. It is\n\tper opened stream, not per subfile.\n\t(gsf_infile_zip_init, gsf_infile_zip_new): Initialize all fields\n\tin gsf_infile_zip_init.\n\n2002-09-03  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-input-gzip.c (check_header): Fix typo.\n\n2002-09-03  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-libxml.c (gsf_libxml_read): Don't signal error when\n\treading len = 0.\n\n\t* gsf/gsf-input-gzip.c (check_header): Check signature before\n\tseeking to end. Seeking to end is *expensive* if seek is slow in\n\tunderlying stream.\n\tAdd check that there's room for payload.\n\n2002-09-02  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (struct _GsfInfileZip): Add seek_skipped.\n\t(gsf_infile_zip_seek): Implement. As slow as gzip.\n\t(zip_child_init): Initialize dirent->restlen,\n\tdirent->crestlen. Don't call zip_update_stream_in.\n\t(gsf_infile_zip_new): Initialize seek_skipped.\n\n2002-09-01  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-cat-zip.c : replace the old test with test-msole2.c\n\t  with s/msole/zip/ so that we get the end of file right.\n\n2002-08-31  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_num_children) : return -1 for\n\t  non directories.\n\n2002-08-31  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-timestamp.c : dummy up a quick implementation.\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : support FILETIME.\n\n2002-08-30  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : remove -Wconversion because it was pissing me off.\n\n2002-08-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (msole_prop_parse) : add some basic\n\t  implementation.\n\t(msole_prop_id_to_gsf) : new.\n\n2002-08-29  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_prop_read) : conditionalize the\n\t  debug spew.\n\n2002-08-29  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-utils.c (gsf_msole_prop_parse) : new.\n\t(gsf_msole_prop_read) : new.\n\t(gsf_msole_metadata_read) : prepare to parse the actual properties.\n\n2002-08-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_new) : restore the current file\n\t  position when sniffing for gzip fails.\n\n2002-08-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-metadata.c (gsf_msole_iconv_open_for_export) : moved\n\t  from gnumeric.\n\t(gsf_msole_iconv_open_for_import) : ditto.\n\t(gsf_msole_iconv_win_codepage) : ditto.\n\t* gsf/gsf-utils.c (gsf_iconv_close) : ditto.\n\t(gsf_extension_pointer) : moved from gnumeric, originally from libgnome.\n\n2002-08-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf-gnome/gsf-input-bonobo.[ch],\n\tgsf-gnome/gsf-output-bonobo.[ch],\n\tgsf-gnome/gsf-input-gnomevfs.[ch],\n\tgsf-gnome/gsf-output-gnomevfs.c, gsf/gsf-infile-msvba.c,\n\tgsf/gsf-input-gzip.h, gsf/gsf-input-impl.h,\n\tgsf/gsf-input-memory.h, gsf/gsf-msole-impl.h,\n\tgsf/gsf-output-impl.h, gsf/gsf-output-memory.h,\n\tgsf/gsf-output-stdio.h, gsf/gsf-output.c, gsf/gsf-shared-memory.h,\n\tgsf/gsf-zip-impl.h, gsf/gsf.h: Fix file headers - file name was\n\twrong.\n\n2002-08-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (struct ZipVDir): Define struct to\n\trepresent a directory entry in a tree of contained files.\n\t(struct ZipInfo): Add vdir. Move dirent_list here from\n\t_GsfInfileZip.\n\t(struct _GsfInfileZip): Add vdir. Remove dirent_list and dirent.\n\t(vdir_new, vdir_free, vdir_child_by_name, vdir_child_by_index,\n\tvdir_compare, vdir_add_child, vdir_insert): New\n\tfunctions. Operations on file tree directories.\n\t(zip_info_unref): Free dirent_list and vdir.\n\t(zip_read_dirents): Renamed from zip_init_info. dirent_list now in\n\tZipInfo.\n\t(zip_build_vdirs): New function. Build directory tree of contained\n\tfiles.\n\t(zip_init_info): New function, old name. Wraps zip_read_dirents\n\tand zip_build_vdirs.\n\t(gsf_infile_zip_dup): Copy vdir, not dirent.\n\t(zip_update_stream_in,\n\t(gsf_infile_zip_read): dirent now in vdir.\n\t(zip_child_init): New function. Contains the parts of\n\tgsf_infile_zip_new_child which operated on the zip file.\n\t(gsf_infile_zip_new_child): Simplify and call zip_child_init.\n\t(gsf_infile_zip_child_by_index, gsf_infile_zip_name_by_index): Use\n\tvdir_child_by_index.\n\t(gsf_infile_zip_child_by_name): Use vdir_child_by_name\n\t(gsf_infile_zip_num_children): Count children in vdir.\n\t(gsf_infile_zip_finalize): dirent_list is no longer freed here.\n\t(gsf_infile_zip_init, gsf_infile_zip_new): Initialize vdir.\n\n\t* gsf/gsf-zip-impl.h (ZIP_NAME_SEPARATOR): Define path name\n\tcomponent separator for zip archives.\n\n2002-08-26  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf.h: Don't include <glib-object.h> here.\n\t* gsf/gsf-input.h: Do it here.\n\t* gsf/gsf-output.h: And here.\n\n\t* configure.in: Take out -Wcast-align until someone fixes the\n\thundreds of things that violates it.\n\n2002-08-25  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : post release version bump\n\n2002-08-25  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.3.0\n\n2002-08-22  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Fix case when no match\n\tis found first time round.\n\n2002-08-21  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Don't try to read\n\tbeyond EOF.\n\n2002-08-21  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-infile-zip.c (struct _GsfInfileZip): Add buf and\n\tbuf_size for inflating.\n\t(zip_init_info, gsf_infile_zip_dup): Use g_error_new rather than\n\tg_set_error.\n\t(gsf_infile_zip_read): Fix segfaulting bug. Make inflate buffer a\n\tprivate member of the class rather than a static.\n\t(gsf_infile_zip_finalize): Free inflate buffer.\n\t(gsf_infile_zip_new): Initialize inflate buffer.\n\n\t* tests/test-cp-msole.c: Revert 2nd arg to\n\tgsf_input_read/write from gsf_off_t to size_t.\n\n2002-08-21  Mikael Hallendal  <micke@codefactory.se>\n\n\t* tests/test-textline.c (test): output argv[0] when printing\n\t  Usage.\n\n2002-08-20  Jody Goldberg <jody@gnome.org>\n\n\t* gsf-gnome/Makefile.am : depend on libgsf\n\n2002-08-20  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf-gnome/.cvsignore: Add.\n\n2002-08-19  Jon K Hellan  <hellan@acm.org>\n\n\t* tests/test-cp-msole.c (clone): Cast 2nd arg to\n\tgsf_input_read/write to gsf_off_t.\n\n2002-08-19  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf.h: Remove GsfSeekType.\n\n\t* gsf/gsf-input.[ch]: s/GsfSeekType/GSeekType/ in gsf_input_seek\n\tsignature.\n\n\t* gsf/gsf-output.[ch]: s/GsfSeekType/GSeekType/ in gsf_output_seek\n\tsignature.\n\n\t* gsf/gsf-input-impl.h (GsfInputClass) s/GsfSeekType/GSeekType/ in\n\tSeek method.\n\n\t* gsf/gsf-output-impl.h (GsfOutputClass) Ditto.\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_seek):\n\ts/GsfSeekType/GSeekType/ in signature.\n\n\t* gsf/gsf-infile-msvba.c (gsf_infile_msvba_seek): Ditto.\n\n\t* gsf/gsf-infile-zip.c (gsf_infile_zip_seek): Ditto.\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_seek): Ditto.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_seek): Ditto.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek): Ditto.\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_seek): Ditto.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_seek): Ditto.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Ditto.\n\n\t* gsf-gnome/gsf-input-bonobo.c (gsf_input_bonobo_seek): Ditto.\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_seek): Ditto.\n\n\t* gsf-gnome/gsf-output-bonobo.c (gsf_output_bonobo_seek): Ditto.\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_output_gnomevfs_seek): Ditto.\n\n\t* gsf/gsf-input.c (gsf_input_seek): Replace GSF_SEEK_SET, CUR, END\n\twith G_SEEK_SET, CUR, END.\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_seek): Ditto.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek): Ditto.\n\n\t* gsf/gsf-output.c (gsf_output_seek): Ditto.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_seek): Ditto.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Ditto.\n\n\t* gsf-gnome/gsf-input-bonobo.c (gsf_input_bonobo_seek): Ditto.\n\n\t* gsf-gnome/gsf-input-gnomevfs.c (gsf_input_gnomevfs_seek): Ditto.\n\n\t* gsf-gnome/gsf-output-bonobo.c (gsf_output_bonobo_seek): Ditto.\n\n\t* gsf-gnome/gsf-output-gnomevfs.c (gsf_output_gnomevfs_seek): Ditto.\n\n\t* gsf/gsf-infile-msole.c (ole_get_block, ole_init_info,\n\tgsf_infile_msole_read, gsf_infile_msole_new_child):\n\ts/GSF_SEEK_SET/G_SEEK_SET/.\n\n\t* gsf/gsf-infile-msvba.c (vba_inflate, vba56_dir_read,\n\tgsf_infile_msvba_seek, gsf_infile_msvba_seek): Ditto.\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer, zip_dirent_new)\n\t(zip_init_info, zip_init_info, zip_update_stream_in)\n\t(gsf_infile_zip_new_child): Ditto.\n\n\t* gsf/gsf-input-gzip.c (check_header, check_header): Ditto.\n\n\t* gsf/gsf-input.c (gsf_input_dup, gsf_input_uncompress): Ditto.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_seek,\n\tgsf_outfile_msole_close): Ditto.\n\n2002-08-18  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Revert today's first change to the file, but keep\n\tthe second.\n\n2002-08-18  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: See below. Hope it's true this time.\n\n2002-08-18  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Make --without-gnome work.\n\n2002-08-18  Jon K Hellan  <hellan@acm.org>\n\n\t* acinclude.m4: Change it to just a comment referring to\n\tpython/README-python.\n\n\t* acinclude.m4.am15: Added. A copy of the previous version, but no\n\tlonger commented out. See python/README-python.\n\n2002-08-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/Makefile.am : install the xml header\n\n2002-08-17  Jon K Hellan  <hellan@acm.org>\n\n\t* libgsf-gnome-1.pc.in (Cflags): Fix Libs line.\n\n2002-08-17  Jon K Hellan  <hellan@acm.org>\n\n\t* Makefile.am (pkgconfig_DATA): Add libgsf-gnome-1.pc when\n\t--with-gnome is selected.\n\t(EXTRA_DIST): Add libgsf-gnome-1.spec, libgsf-gnome-1.spec.in and\n\tlibgsf-gnome-1.pc.in\n\n2002-08-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : pad the last bat\n\t  and sbat block with unused rather than 0.\n\t(ole_pad_bat_unused) : New.\n\n2002-08-16  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : clean up the\n\t  iteration to calculate the number of bat blocks required to hold the\n\t  bat and metabat.  Fill in the bat flags for the metabat.\n\n2002-08-16  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in  : move bonobo and gnome-vfs into a standalone library.\n\n\t* gsf/gsf-infile-msole.c (ole_init_info) : add a warning about invalid\n\t  state.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_new) : Fill with 0xff\n\t  instead of 0 to be more compatible with MS.\n\t(gsf_outfile_msole_close) : If there is no small block data don't\n\t  pretend there is an allocation chain for it.  Write BAT entries for\n\t  the bat itself.  TODO : BAT entries for the metabat.\n\n2002-08-16  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-io-context.c (gsf_io_context_update_progress): Don't\n\tzero out memory only to overwrite it.\n\n2002-08-16  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Require autoconf 2.52\n\n2002-08-16  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-metadata-bag.c (gsf_metadata_bag_new): Fix prototype.\n\t* gsf/gsf-output-memory.c (gsf_output_memory_new): Ditto.\n\t(gsf_output_memory_write): Fix brown-bag.\n\n2002-08-15  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Test for orbit-python.\n\n2002-08-15  Jon K Hellan  <hellan@acm.org>\n\n\t*  gsf/gsf-input-memory.c  (gsf_input_mmap_new):  Stop warnings on\n\tSolaris.\n\n2002-08-15  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-shared-memory.c (gsf_shared_memory_finalize): Cast to\n\tgsf_off_t when checing for overflow.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close,\n\tgsf_outfile_msole_write): Ditto.\n\n\t* gsf/gsf-input-bonobo.c (gsf_input_bonobo_seek): Ditto.\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Ditto.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Use long, not\n\toff_t for offset arg. to fseek.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek): Ditto.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Add forgotten\n\targument to g_error_new.\n\n2002-08-15  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Bump minor verision to 1.3. Add AC_SYS_LARGEFILE.\n\n\t* gsf/gsf.h: Rename GsfOff_t enum to GsfSeekType. Define gsf_off_t\n\ttype to use instead of off_t. We have to do this because we do not\n\tknow what idea the application has of the size of off_t, this can\n\tbe defined with #define _FILE_OFFS_BITS xx.\n\n\t* gsf/gsf-shared-memory.h (struct _GsfSharedMemory): Change type\n\tof size to gsf_off_t.\n\n\t* gsf/gsf-output-stdio.c (gsf_output_stdio_seek): Change type of\n\toffset parameter to gsf_off_t, type of 'whence' parameter to\n\tGsfSeekType. Check for overflow copying from gsf_off_t to off_t.\n\n\t* gsf/gsf-output-impl.h (struct _GsfOutput): Change type of\n\tcur_size, cur_offset to gsf_off_t.\n\t(GsfOutputClass): Change type of offset parameter of Seek method\n\tto gsf_off_t, type of 'whence' parameter to GsfSeekType.\n\n\t* gsf/gsf-output-gnomevfs.c (gsf_output_gnomevfs_new): Various\n\tfixes.\n\t(gsf_output_gnomevfs_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.  Cast\n\t'whence' argument to gnome_vfs_seek to GnomeVFSFileOffset to shut\n\tup warning.\n\t(gsf_output_gnomevfs_write): Cast 'bytes' argument to\n\tgnome_vfs_write to GnomeVFSFileSize to shut up warning.\n\n\t* gsf/gsf-output-bonobo.c (gsf_output_bonobo_seek): Change type of\n\toffset parameter to gsf_off_t, type of 'whence' parameter to\n\tGsfSeekType.\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_seek): Change type of\n\toffset parameter to gsf_off_t, type of 'whence' parameter to\n\tGsfSeekType. Type of offset argument to gsf_input_seek has changed\n\tto gsf_off_t. Use.\n\t(gsf_outfile_msole_close): Return type of gsf_output_tell is\n\tchanged to gsf_off_t. Introduce gsf_off_t typed variable data_size\n\tto detect overflow. Type of size argument to gsf_output_set_size\n\thas changed to gsf_off_t. Use. Type of offset argument to\n\tgsf_output_seek has changed to gsf_off_t. Use.\n\t(gsf_outfile_msole_write): Return type of gsf_output_tell is\n\tchanged to gsf_off_t. Introduce gsf_off_t typed variables wsize\n\tand start_offset to detect overflow.\n\n\t* gsf/gsf-libxml.c (gsf_libxml_read): Return type of\n\tgsf_input_remaining has changed to gsf_off_t. Use.\n\n\t* gsf/gsf-io-context.c (GSF_CLASS): G_TYPE_GLIB is the parent\n\tclass, not the io-context class itself.\n\n\t* gsf/gsf-input.h: (gsf_input_size, gsf_input_remaining,\n\tgsf_input_tell): Change return type to gsf_off_t.\n\t(gsf_input_seek): Change type of offset parameter to gsf_off_t,\n\ttype of 'whence' parameter to GsfSeekType.\n\n\t* gsf/gsf-input.c (gsf_input_dup): Type of offset argument to\n\tgsf_input_seek has changed to gsf_off_t. Use.\n\t(gsf_input_size, gsf_input_remaining, gsf_input_tell): Change\n\treturn type to gsf_off_t.\n\t(gsf_input_seek): Change type of offset parameter to gsf_off_t,\n\ttype of 'whence' parameter to GsfSeekType.\n\t(gsf_input_set_size): Change type of size parameter to gsf_off_t.\n\t(gsf_input_seek_emulate): Change type of pos parameter to\n\tgsf_off_t.\n\t(gsf_input_uncompress): Change type of cur_offset variable to\n\tgsf_off_t. Type of offset argument to gsf_input_seek has changed\n\tto gsf_off_t. Use.\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_new): Remove cast\n\tof size argument to gsf_input_set_size.\n\t(gsf_input_textline_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\t(gsf_input_textline_ascii_gets, gsf_input_textline_utf8_gets ):\n\tAdd 'remain' variable, and make sure that overflows don't occur.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Change type of size\n\tvariable to gsf_off_t.\n\t(gsf_input_stdio_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType. Check for\n\toverflow copying from gsf_off_t to off_t.\n\n        * gsf/gsf-input-memory.h: Change type of length parameter to\n\tgsf_off_t.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_new): Change type of\n\tlength parameter to gsf_off_t.\n\t(gsf_input_memory_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\t(gsf_input_mmap_new): Check for overflow copying from st.st_size\n\tto ssize_t. Type of size argument to gsf_shared_memory_mmapped_new\n\tand gsf_input_set_size has changed to gsf_off_t. Use.\n\n\t* gsf/gsf-input-impl.h (struct _GsfInput): Change type of size,\n\tcur_offset to gsf_off_t.\n\t(GsfInputClass): Change type of offset parameter of Seek method to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\t(gsf_input_set_size): Change type of size parameter to gsf_off_t.\n\t(gsf_input_seek_emulate): Change type of pos parameter to\n\tgsf_off_t.\n\n\t* gsf/gsf-input-gzip.c (struct _GsfInputGZip): Change type of\n\tseek_skipped to gsf_off_t.\n\t(check_header): Type of offset argument to gsf_input_seek is\n\tchanged to gsf_off_t. Use. Type of size argument to\n\tgsf_input_set_size has changed to gsf_off_t. Use.\n\t(gsf_input_gzip_read): Return type of gsf_input_remaing has\n\tchanged to gsf_off_t. Use.\n\t(gsf_input_gzip_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\n\t* gsf/gsf-input-gnomevfs.c (gsf_input_gnomevfs_new): Change type\n\tof size variable to gsf_off_t. Cast 'code' argument to g_set_error\n\tto gint to shut up warning.\n\t(gsf_input_gnomevfs_read): Cast 'bytes' argument to gnome_vfs_read\n\tto GnomeVFSFileSize to shut up warning.\n\t(gsf_input_gnomevfs_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.  Cast\n\t'whence' argument to gnome_vfs_seek to GnomeVFSFileOffset to shut\n\tup warning.\n\n\t* gsf/gsf-input-bonobo.c (struct _GsfInputBonobo): Change type of\n\t'pos' to gsf_off_t.\n\t(gib_synch_shared_ptr): Cast to gsf_off_t when assigning pos.\n\t(gsf_input_bonobo_new): Change type of size variable to\n\tCORBA_long.  Type of size argument to gsf_input_set_size is\n\tchanged to gsf_off_t. Use.\n\t(gsf_input_bonobo_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType. Check for\n\toverflow copying from gsf_off_t to CORBA_long.\n\n\t* gsf/gsf-infile-zip.c (zip_find_trailer): Change return type to\n\tgsf_off_t. Check for overflow copying from gsf_off_t to size_t.\n\t(zip_dirent_new, gsf_infile_zip_new_child): Change type of offset\n\tparameter to gsf_off_t. Type of size argument to\n\tgsf_input_set_size has changed to gsf_off_t. Use.\n\t(gsf_infile_zip_new): Type of size argument to gsf_input_set_size\n\thas changed to gsf_off_t. Use.\n\n\t* gsf/gsf-infile-msvba.c (vba_inflate): Change type of offset\n\tparameter to gsf_off_t.\n\t(vba3_dir_read): Cast 2nd argument to vba_inflate to gsf_off_t.\n\t(gsf_infile_msvba_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\t(gsf_infile_msvba_new): Type of size argument to\n\tgsf_input_set_size has changed to gsf_off_t. Use.\n\n\t* gsf/gsf-infile-msole.c (ole_get_block, ole_init_info,\n\tgsf_infile_msole_read, gsf_infile_msole_new_child): Type of offset\n\targument to gsf_input_seek has changed to gsf_off_t. Use.\n\t(gsf_infile_msole_seek): Change type of offset parameter to\n\tgsf_off_t, type of 'whence' parameter to GsfSeekType.\n\t(gsf_infile_msole_new_child, gsf_infile_msole_new): Type of size\n\targument to gsf_input_set_size has changed to gsf_off_t. Use.\n\n2002-08-12  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.2.0\n\n2002-08-06  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-utils.c (gsf_le_get_double, gsf_le_set_double): New\n\tfunctions (from gnumeric).\n\t* gsf/gsf-utils.h: Add macros for signed types.\n\n2002-08-05  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-msole1.c (test) : why did I add that limitation ?\n\n2002-08-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-output.c (gsf_output_is_closed) : forgot to implement.\n\n2002-08-02  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : bump version\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_finalize) : add a safety\n\t  to close the file before finalizing.\n\n\t* gsf/gsf-output.c (gsf_output_finalize) : add a warning when\n\t  finalizing an unclosed stream.\n\t(gsf_output_init) : init the new is_closed flag.\n\n2002-08-02  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/gsf-io-context.c: removed progress_min and progress_max, since\n\tthey don't seem too useful right now (ie, let's keep it simple).\n\t(gsf_io_context_clear): free progress_ranges list and initialize\n\tprogress-related internal values.\n\t(gsf_io_context_update_progress): implemented.\n\t(gsf_io_context_class_init): added \"progress\" signal to class.\n\n2002-08-01  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* doc/Makefile.am (HTML_DIR) : conditionally define.\n\t* doc/gsf-docs.sgml : tidy up.\n\n2002-07-27  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* MAINTAINERS : add myself\n\t* gsf-metadata-bag.[ch] : add cardinatliy (size) method\n\n2002-07-26  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-output-bonobo.[ch]: implement output stream (untested)\n\n2002-07-26  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-meta-keys.h: list of default/builtin keys that we will want\n\tto support\n\n\t* gsf-metadata-bag.[ch]: add key creation and manipulation\n\tfunctions, update TODO list\n\n2002-07-26  Dom Lachowicz <cinamod@hotmail.com>\n\n\t* gsf-metadata-bag.c: implement (untested)\n\n2002-07-25  Dom Lachowicz <cinamod@hotmail.com>\n\n        * gsf-input-gnomevfs.[ch]: implement (untested)\n        * gsf-output-gnomevfs.[ch]: implement (untested)\n        * gsf-output-memory.[ch]: implement (untested)\n\n2002-07-22  Zbigniew Chyla  <cyba@gnome.pl>\n\n\t* gsf-input-gnomevfs.c (struct _GsfInputGnomeVFS):\n\tAdded missing semicolon at the end of struct.\n\n2002-07-21  Jody Goldberg <jody@gnome.org>\n\n\t* Release 1.1.0\n\n2002-07-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_mem_dump) : tweak.\n\n2002-07-15  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_dup): Don't ignore err\n\t-- that will crash the caller.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new): Plug file\n\tdescriptor leaks.\n\n2002-07-09  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_dup) : avoid leak if derived dup has\n\t  already assigned a name.\n\n2002-07-08  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-cp-msole.c (test) : simplify.\n\n2002-07-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_new) : doh!\n\t  fix the header to include the correct small block shift.\n\n2002-07-08  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c (ole_name_cmp) : new.\n\t(gsf_outfile_msole_new_child) : order the names correctly.\n\t(gsf_outfile_msole_close) : write meta bats.\n\n\t* gsf/gsf-msole-impl.h : add OLE_HEADER_METABAT_SIZE.\n\t* gsf/gsf-infile-msole.c (ole_init_info) : use it here.\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_close) : and here.\n\n2002-07-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/Makefile.am : Make gsf-impl-utils.h public\n\n2002-07-06  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-msole-impl.h : pull in more information.  We may not need it\n\t  but it makes for better documentation than 'unknown'\n\n2002-07-06  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c : initial implementation.\n\t* gsf/gsf-outfile.c : initial implementation.\n\t* gsf/gsf-output.c : initial implementation.\n\n2002-07-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : be more anal in case the\n\t  input file has a cycle.\n\n2002-07-03  Jody Goldberg <jody@gnome.org>\n\n\t* tests/test-textline.c (test) : make the compiler shut up.\n\n2002-06-27  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-gzip.c (check_header): Set header_size here.\n\t(gsf_input_gzip_read): When allocating a buffer, allocate at least\n\t256 bytes so we don't have to realloc all the time.\n\t(gsf_input_gzip_read): Handle truncated streams.\n\n\t* gsf/gsf-input.c (gsf_input_seek): Handle seeks that go to same\n\tposition here.\n\t(gsf_input_uncompress): Reorganise a bit.\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_free): Actually free the\n\tdirent.  And the list of children.\n\n2002-06-27  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_read): Exit on error.\n\n\t* gsf/gsf-infile-msole.c (ole_init_info): Always set error info.\n\n\t* configure.in (LIBGSF_LIBS): Include the Bonobo libs.\n\n\t* tests/test-msole2.c (test): Plug leak.  Uncompress source.\n\n\t* gsf/gsf-input.c (gsf_input_uncompress): New function.\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_finalize): Plug leak.\n\n2002-06-27  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-input-bonobo.c: Actually check in the stuff mentioned\n\tyesterday.\n\n2002-06-27  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-gzip.c (gsf_input_gzip_seek): Attempt\n\timplementation.\n\n\t* gsf/gsf-input.c (gsf_input_seek): Make pos an off_t.\n\n2002-06-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-input-bonobo.c (struct _GsfInputBonobo): Replace stream\n\tattribute with GsfSharedBonoboStream * 'shared'. Add 'pos'\n\tattribute.\n\t(gib_synch_shared_ptr): New helper function. Seek the shared\n\tstream if necessary.\n\t(gsf_input_bonobo_new): Probably better to free the exceptions\n\t*after* retrieving the exception texts.  Initialize 'shared'.\n\t(gsf_input_bonobo_finalize): unref 'shared'.\n\t(gsf_input_bonobo_dup): Implement.\n\t(gsf_input_bonobo_read): Use shared stream. Use\n\tgib_synch_shared_ptr to seek first if necessary.\n\t(gsf_input_bonobo_seek): Ditto.\n\t(gsf_input_bonobo_init): Initialize 'shared'.\n\n\t* gsf/gsf-shared-bonobo-stream.[ch]: new helper class for bonobo\n\tstream IO. Lets us dup the streams.\n\t* gsf/Makefile.am: added new files.\n\n2002-06-26  Morten Welinder  <terra@diku.dk>\n\n\t* configure.in: If needed, define __EXTENSIONS__.\n\n2002-06-26  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/gsf-input-bonobo.c: Include bonobo-persist-stream.h\n\t(gsf_input_bonobo_read): Silence warning.\n\n2002-06-25  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: New flag --with-bonobo\n\n\t* gsf/Makefile.am (INCLUDES): added new files.\n\n\t* gsf/gsf-input-bonobo.[ch]: new class for bonobo stream IO.\n\n2002-06-25  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/gsf-io-context.[ch]: new class for managing IO contexts.\n\n\t* gsf/Makefile.am: added new files.\n\n2002-06-24  Jody Goldberg <jody@gnome.org>\n\n\t* python/Makefile.am : pyexec is not available in automake-1.4.\n\tnor is nodist_.\n\n\t* acinclude.m4 : something was still interpretting the AC_REQUIRE even\n\t  though ti was commented out.  change case and comment for now to\n\t  avoid problems.\n\n2002-06-23  Jon K Hellan  <hellan@acm.org>\n\n\t* acinclude.m4: Comment out everything.\n\n2002-06-21  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : uncomment the AM_CONDITIONAL for WITH_PYTHON\n\n2002-06-21  Jon K Hellan  <hellan@acm.org>\n\n\t* acinclude.m4: Add it. It provides AM_CHECK_PYTHON_HEADERS.\n\n2002-06-20  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-outfile-msole.c (gsf_outfile_msole_new_child): Add\n\tmissing arg.\n\n2002-06-20  Jon K Hellan  <hellan@acm.org>\n\n\t* configure.in: Add support for building Python bindings, but\n\tcomment it out because it requires automake1.5.\n\n\t* Makefile.am: Build python subdir if WITH_PYTHON is set.\n\n2002-06-18  Rui M. Seabra <rms@1407.org>\n\n\t* libgsf-1.spec.in : set permission correctly\n\t    fix common mistake of Copyright flag into License flag.\n\n2002-06-18  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : lower the libxml version req\n\n2002-06-17  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile.c (gsf_outfile_new_child) : adjust signature to\n\t  include 'is_dir'\n\n2002-06-15  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_eof) : fix docs.\n\n\t* gsf/gsf-utils.c (gsf_mem_dump) : use size_t.\n\n2002-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-textline.c (gsf_input_textline_ascii_gets) : implement.\n\t(gsf_input_textline_utf8_gets) : pretend to implement.\n\n2002-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* Makefile.am : move the tests into a standalone dir because they are\n\t  getting irritating to build for every single library rebuild.\n\n2002-06-13  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-infile-msvba.c (vba_inflate): Make offset an off_t.\n\n2002-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-outfile-msole.c : initial stub implementation.\n\t* gsf/gsf-outfile.c : initial stub implementation.\n\t* gsf/gsf-output-stdio.c : initial stub implementation.\n\t* gsf/gsf-output.c : initial stub implementation.\n\n2002-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (vba_inflate) : cleanup.\n\n2002-06-13  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.h (GSF_OLE_GET_GUINT{8,16,32}) : move to\n\t  gsf-utils and rename.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_dup) : silence warning.\n\t(gsf_input_mmap_new) : fix the no mmap case.\n\n2002-06-12  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c (vba_inflate) : store the uncompressed\n\t  result.\n\t(vba_dirent_read) : new.  We can now lookup the correct offsets for\n\t  the compressed source.  The question remaining is how to fin the\n\t  start of the dir table ...\n\n2002-06-12  Rodrigo Moya <rodrigo@gnome-db.org>\n\n\t* gsf/*: s/IS_GSF/GSF_IS.\n\n2002-06-12  Jon K Hellan  <hellan@acm.org>\n\n\t* libgsf-1.pc.in (Requires): Add libxml-2.0\n\n2002-06-11  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_read) : fix reading into an\n\t  assigned buffer for small block files.\n\n2002-06-10  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_name) : typo.\n\n2002-06-09  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* gsf/test-msole1.c (read_types): Casts to suppress signedness\n\t  warnings.\n\t* gsf/gsf-input-memory.c (gsf_input_memory_read): Changed src type to\n\t  guchar.\n\t* gsf/gsf-input-textline.c (gsf_input_textline_ascii_gets): Cast\n\t  return value.\n\t* gsf/gsf-infile-msole.c (ole_dirent_new): Signedness fixes.\n\t* debian/*: updated; include pkgconfig file.\n\n2002-06-09  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msvba.c : new.\n\t* gsf/test-msvba.c : new.\n\n\t* gsf/gsf-infile.c (gsf_infile_child_by_vname) : new utility routine.\n\n2002-06-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_dup) : Add an err parameter.\n\n2002-06-07  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new): Plug FILE* leak.\n\t(gsf_input_stdio_dup): Go via filename.\n\n2002-06-07  Jody Goldberg <jody@gnome.org>\n\n\t* doc/Makefile.am : fix the type init function for gtk-doc.\n\t* gsf/* : fix docs a bit.\n\n2002-06-07  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.c (gsf_input_dump) : new utility split out of.\n\t* gsf/test-gzip1.c (test) : here.\n\n\t* gsf/test-msole2.c (test) : spruce this up a might so that it can be\n\t  used as a general utility to dump streams and storages.\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_dup) : dup the descriptor\n\t  before creating a new file handle.\n\n2002-06-06  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : remove -Wmissing-noreturn\n\n\t* gsf/test-msole1.c (test) : remove the --use-memory bit.  Just use\n\t  mmap.  We can test the other input types in another program.\n\n\t* gsf/*.c : change the convention for wrappers.  They all add their\n\t       own references to the source rather than absorbing the ref that\n\t       was passed in.\n\n2002-06-06  Jody Goldberg <jody@gnome.org>\n\n\t* configure.in : add zlib.\n\t* libgsf-1.pc.in (Cflags) : ditto.\n\n\t* gsf/gsf-input-gzip.c : wrapper to uncompress things.\n\n\t* gsf/gsf-libxml.c : some convenience routines for dealing with libxml.\n\n\t* gsf/test-gzip1.c :  add some tests for gzip.\n\n2002-06-05  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/*.[ch]: switch to using system types.\n\n2002-06-05  Jon K Hellan  <hellan@acm.org>\n\n\t* gsf/Makefile.am: Fix typo - libgsf_1_includedir didn't get defined.\n\n2002-06-05  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new) : set the filename.\n\n2002-06-04  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_eof) : do this internally.\n\t* gsf/gsf-input* : remove the _eof methods.\n\n2002-06-04  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-input-impl.h (GsfInputClass): Change structure members\n\tfrom \"read\" to \"Read\", etc.  This avoids names reserved by the\n\tsystem libraries.\n\n2002-06-04  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/test-msole1.c (test): Add --memory option.\n\n\t* gsf/gsf-shared-memory.c: New class.\n\n\t* gsf/gsf-input-memory.c (gsf_input_memory_new): Use new\n\tGsfSharedMemory class.\n\t(gsf_input_memory_read): Add missing parameter.\n\n2002-06-01  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/Makefile.am : Add gsf-input-textline.[ch]\n\t  Add gsf-libxml.[ch]\n\n2002-05-30  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-stdio.h : fix the name mismatch.\n\n2002-05-28  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_seek) : doh!\n\n2002-05-28  Morten Welinder  <terra@diku.dk>\n\n\t* gsf/gsf-infile-msole.c (ole_make_bat): Cast via gconstpointer to\n\tplease gcc.\n\n\t* gsf/gsf-infile-msole.h (GSF_OLE_GET_GUINT8, GSF_OLE_GET_GUINT16,\n\tGSF_OLE_GET_GUINT32): fix alignment problems.\n\n\t* gsf/test-msole1.c (read_types): Fix isspace usage.\n\n2002-05-27  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c : add some prepoc constants to prep for\n\t  export support.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* README : add more details\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/test-msole1.c (get_biff_opcode_name) : suppress warning.\n\n\t* gsf/gsf-input-memory.c (gsf_input_mmap_new) : ensure it is a regular\n\t  file.\n\n\t* configure.in : remove -Wundef to shut it up about glib.\n\t  remove -Wcast-qual because we sometimes need to explicitly cast away\n\t  const.  C does not have const_cast<>().\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-impl-utils.h (GSF_CLASS_FULL) : suppress warning.\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : disable debug spew.\n\t(ole_init_info) : suppress bogus compile warning.\n\t  Use gsf_ole_get_guint32s to convert the data to normal endianness.\n\t(gsf_ole_get_guint32s) : new.\n\t(ole_info_read_metabat) : assume the metabat is already uses native\n\t  byte ordering.\n\n\t* gsf/gsf-input.c (gsf_input_seek) : suppress warning.\n\t(gsf_input_dup) : ditto.\n\t(gsf_input_init) : ditto.\n\n2002-05-25  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n\t* configure.in:\n\t  Actually use warning flags from GNOME_COMPILE_WARNINGS, so\n\t  \"--enable-warnings=maximum\" and \"--with-iso-c\" are honoured.\n\t  Test whether defining _BSD_SOURCE is needed for caddr_t.\n\t  (e.g. on Debian with -ansi for gcc3.0 and 3.1)\n\t  Test whether defining _POSIX_SOURCE is needed for fdopen().\n\t  Enable a lot more warnings.\n\t* debian/rules: minor tweaks.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input.c (gsf_input_seek) : more error checking.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/test-msole1.c (test) : dump head of odd records.\n\n\t* gsf/gsf-input.c (gsf_input_seek) : do more of the work up here.\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_seek) : adjust here.\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_seek) : and here.\n\t* gsf/gsf-input-memory.c (gsf_input_memory_seek) : and here.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : fix off by 1 error in\n\t  handling broken ascii stream names.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_init_info) : libole2 knew about a smidge\n\t  more of the ole header, use the sbat counter.\n\n\t* gsf/test-msole1.c (test) : even more sanity checking.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/test-msole1.c (test) : add more safety checks to automate\n\t  validation of imported biff records.\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : Based on char-width2.xls\n\t  it looks like directory sizes are periodically screwed.\n\n2002-05-25  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c : fix small block support.\n\t  Handle the bogus use of ascii stream names in some case.\n\n2002-05-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new) : merge the size\n\t  checking in here and do more error reporting.\n\t(gsf_input_stdio_class_init) : delete gsf_input_stdio_size\n\t(gsf_input_stdio_size) : delete.\n\n\t* gsf/gsf-input.c (gsf_input_read) : put the bound check here.\n\n2002-05-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_new) : make buf_size unsigned.\n\t(gsf_input_stdio_finalize) : and here.\n\t(gsf_input_stdio_read) : and here.\n\n\t* gsf/gsf-input.c (gsf_input_seek) : As morten suggested this is\n\t  better as > size rather than >= size.\n\n2002-05-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (gsf_infile_msole_read) : only seek if we\n\t  need to.\n\n2002-05-24  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/test-msole1.c (test) : more debug info, and less content spew.\n\n2002-05-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-input-stdio.c (gsf_input_stdio_size) : be more careful about\n\t  people who open devices.\n\n2002-05-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_dirent_new) : more error handling.\n\t(ole_info_get_sb_file) : make things more readable and split this out.\n\t(gsf_infile_msole_new_child) : fix reading small blocks.\n\n2002-05-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.h (GSF_OLE_GET_GUINT8) : move here.\n\t(GSF_OLE_GET_GUINT16) : ditto.\n\t(GSF_OLE_GET_GUINT32) : ditto.\n\n2002-05-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-utils.h : Use the glib type macros instead of defining our\n\t  own.\n\n2002-05-23  J.H.M. Dassen (Ray) <jdassen@debian.org>\n\n \t* doc/Makefile.am: Introduced DOC_DIR so the location can be easily\n \toverridden when building packages.\n \t* debian/*: Preliminary Debian packaging.\n\n2002-05-23  Jody Goldberg <jody@gnome.org>\n\n\t* gsf/gsf-infile-msole.c (ole_info_read_xbat) : DOH!\n\t  We need to check endianness when reading the bat elements.\n\t(gsf_infile_msole_read) : slow but effective work around for\n\t  breaking at block boundaries.  I'll work up something faster this\n\t  evening.\n\n2002-05-19  Jody Goldberg <jody@gnome.org>\n\n\t* Start making this into a real package.\n", "libgsf 1.14.41\n\nMorten:\n\t* Fix corrupted-tar-file crash.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.40\n\nMorten:\n\t* Avoid gnome-common dependency\n\n--------------------------------------------------------------------------\nlibgsf 1.14.39\n\nMorten:\n\t* Test improvements.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.38\n\nFelix B\u00fcnemann:\n\t* BSD compatibility for test.  [#767044]\n\t* Fix zip64 problem.  [#767043]\n\nMorten:\n\t* Improve testing.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.37\n\nMorten:\n\t* Fix tar issue.   [#765099]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.36\n\nJean:\n\t* Fix some criticals.\n\nMorten:\n\t* Plug leak\n\t* Fix openpkg absolute member reference.  [#761648]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.35\n\nMorten:\n\t* Fix OLE2 property writing issue.  [#760047]\n\t* Improve handling of broken zip files.  [#760543]\n\nTing-Wei Lan:\n\t* Fix locale handling in thumbnailer.  [#760428]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.34\n\nMorten:\n\t* Fix OLE2 property parsing problem.  [#748528]\n\t* Fuzzed file fixes.  [#749120] [#749169] [#749183] [#750809]\n\t  [#751273]\n\t* xlsx: fix problem with absolute relation targets.  [#751120]\n\t* Fix text line problem with very long lines.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.33\n\nMorten:\n\t* Ensure floats roundtrip through our xml functions.\n\t* Improve handling of unknown xml tags.\n\t* xml parser improvements.\n\t* xml pretty-printing improvements.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.32\n\nMorten:\n\t* Fix obscure problem with xml parser.\n\t* Add vml to openpkg utils.\n\t* Allow NULL content type for openpkg.\n\t* Plug leak.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.31\n\nAndreas:\n\t* Add two new localc name spaces to gsf-opendoc-utils\n\nAllin Cottrell:\n\t* Add support for non-default zip compression level.  [#722470]\n\nMorten:\n\t* Plug leaks.\n\t* Dead kittens.\n\t* Reduce number of CRITICALs for corrupted files.\n\t* Read zip files with 64k+ members.  [Part of #732209]\n\t* Read zip files members larger than 4G.  [Part of #732209]\n\t* Speed up zip file reading for lots of members.\n\t* Speed up stdio directory handling with large number of files.\n\t* Fix various issues with files larger than 4G.\n\t* Fix minor zip file issues.\n\t* Write zip archives with more than 64k+ members.\n\t* Store unix modtime in zip.  (Until that overflows.)\n\t* Fix seekability checks in GsfOutputIOChannel.\n\t* Avoid implementation defined behaviour of shifts.\n\t* Start a test suite.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.30\n\nJuhani Numminen:\n\t* Activate translations for gsf.  [#725409]\n\nMorten:\n\t* Fix invalid g_free for Windows.\n\t* Work around glib/gio bug.  [#724970]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.29\n\nAllin Cottrell:\n\t* Fix problem with GsfOutfileStdio.  [#706219]\n\nMorten:\n\t* Fix translation issue and leak.  [#706937]\n\t* Fix fuzzed ods file crash.  [#720458]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.28\n\nAndreas:\n\t* Fix conversion specifiers. [#703064]\n\nJean:\n\t* Allow the huge libxml parser mode so that gnumeric can load large images.\n\t[#705100]\n\nMorten:\n\t* Fix problem with bogus metadata.  [#703952]\n\t* Avoid interaction problems between Werror and system headers.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.27\n\nAndreas:\n\t* Perform some range checking in gsf_timestamp_load_from_string\n\tto avoid crashing in glib. [#702671] \n\nMorten:\n\t* Introspection fixes.\n\t* Property documentation fixes.\n\t* I18n fixes for property strings.\n\t* I18n fixes for error strings.\n\t* Fix uncompress problem with bzip'd files.\n\t* Add modtime support for GsfInput, GsfInputStdio, GsfInputGzip.\n\t* Add modtime support for GsfInfileZip, GsfInfileTar, GsfInfileMSOle.\n\t* Add modtime support for GsfOutput, GsfOutputStdio, GsfOutputGzip.\n\t* Add modtime support for GsfOutfileZip, GsfOutfileMSOle.\n\t* Enhance gsf tool to print modtime and create archives with modtime.\n\t* Improve handling of broken OLE2 files.\n\t* Plug leaks.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.26\n\nFrob:\n\t* Fix vba stream problem.  [#656531]\n\nMarc-Andre Lureau:\n\t* Make somewhat more robust with truncated files.  [#690524]\n\nMorten:\n\t* Deal with G_TYPE_CHAR signedness.\n\t* Fix error handling of gsf_output_gio_new_for_uri.\n\t* Clean out mistaken null checks from g_object_new.\n\t* Clean out old glib tests.\n\t* Speed up ole writing a bit.\n\t* Header cleanup.  gsf/gsf.h is now main header.  [#684608]\n\t* GsfInput doc improvements.  [#540521]\n\t* Introspection fixes.\n\nPaolo Bonzini:\n\t* Fix gsf_input_dep for msole streams.  [#689706]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.25\n\njorilx@gmail.com:\n\t* Enhance gsf tool to create archives.\n\nMorten:\n\t* Fix memory management problem with document properties.\n\t* Fix writing of OLE2 properties for multi-byte codepages.  [#627696]\n\nRyan Lortie:\n\t* Unconditionally require gio.  [#687753]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.24\n\nJean Brefort:\n\t* Fix namespace issues. [#672512]\n\t* Fix build after introspection implementation. [#673029]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.23\n\nAndreas:\n\t* Fix read/write of GSF_DOCPROP_VECTOR_TYPE meta data [Part of #672716]\n\t* Fix writing of boolean values in ODF files. [#676604]\n\nAlan Knowles:\n\t* Add gobject introspection support. [#610340]\n\nAntoine Jacoutot:\n\t* OpenBSD portability fix.\n\nJean Brefort:\n\t* Make introspection work when libgsf is not installed.\t[#671698]\n\nMorten:\n\t* Fix time stamp drift problem.  [Part of #671860]\n\t* New GsfODFOut class.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.22\n\nDamien Lespiau:\n\t* Fix thumbnailer manual install problem.\n\nMorten:\n\t* Fix error messages on win32.\n\t* Fix resource limiting in thumbnailer.\n\t* Ensure GsfOutput::name and GsfInput::name notifications.\n\t* Cleanup old code.\n\t* Drop support for gnome-vfs and bonobo.\n\t* Fix ole2 entry sorting based on patch from Junping Zhang.  [#665712]\n\nVincent Untz:\n\t* New installation method for thumbnailer.  [#651187]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.21\n\nAndreas:\n\t* Fix crash on encountering user defined meta data of default \n\ttype. [649827]\n\t* Write/read the correct attribute name for the value-type of user\n\tdefined meta-data. \n\t* Move ODF version to 1.2.\n\nGilles Dartiguelongue:\n\t* Implement --without-gconf for explicit dependency control.  [#645775]\n\t* Fix python compilation problem.  [#645778]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.20\n\nCaolan McNamara:\n\t* Fix msole reading crash.\n\nMorten:\n\t* Improve loading on metadata.  [#644217]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.19\n\nAndreas:\n\t* Add some more OOo 3.2 and 3.3 namespaces.\n\nMorten:\n\t* Quiet xml parsing two bits.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.18\n\nMorten:\n\t* Fix zip directory record problem.  [#614968]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.17\n\nMorten:\n\t* Fix xml parser crash.\n\t* Write meta-data values in name order.\n\t* Don't call gnome_vfs_init in python binding.  [#599973]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.16\n\nAndreas:\n\t* Add variant of OO_NS_FIELD.\n\nCaolan McNamara:\n        * Use gdk_pixbug for thumbnailing when available.  [#594359]\n\nMorten:\n\t* Fix problem with errors to stdout.  [#592471]\n\nVincent Untz:\n\t* Fix gnome-vfs dependency handling.  [#593480]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.15\n\nAndreas:\n\t* Bump ODF version to 1.1 and add enum to inform users. \n\nMorten:\n\t* Fix criticals when parsing bogus OLE properties.  [#584848]\n\t* Start cleaning up timestamp code.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.14\n\nAndreas:\n\t* Added namespaces used by openoffice 3.0, Lotus Symphony, etc.\n\t* Fix gsf_xml_out_start_element to allow child elements mixed\n\t  with other content\n\n--------------------------------------------------------------------------\nlibgsf 1.14.13\n\nAndreas:\n\t* Fix gsf_opendoc_metadata_subtree [#581530]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.12\n\nAndreas:\n\t* Also read user defined OpenDocument metadata\n\nChristian Persch:\n\t* Fix allocation method problem.  [#579155]\n\nJ.H.M. Dassen (Ray):\n\t* Fix incorrect use of g_enum_register_static which broke\n\t  documentation generation in some environments.\n\t  [http://gcc.gnu.org/bugzilla/show_bug.cgi?id=39015]\n\nJody :\n\t* Handle small-block files that are not block aligned. [#572290]\n\t* Deprecate gsf_timestamp_parse and replace it with\n\t  gsf_timestamp_from_string.\n\t* Gtk-Doc fixes.\n\t* Fix handling of namespace declared default and prefix.\n\t  (Such as in SpreadsheetML-2003)\n\nMorten:\n\t* Handle malformed xml better.  [#568994]\n\t* Drop characters that xml 1.0 cannot represent.  [#568919]\n\t* Fix problem loading zero-sized files.  [#580228]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.11\n\nJody:\n\t* win32 build fix for glib-2.18 deprecation.\n\t* Extend MS Office Open Pkg handling to accept POI files.\n\t* Add libxml2 wrapper to simplify probing.\n\nMorten:\n\t* Solaris compilation issue.  [#558253]\n\t* Handle non-seekable files in gsf_input_stdio_new.  [#154417]\n\t* Auto-detect bonobo.\n\nPaul:\n\t* Fix various Mac compilation issues.  [#565603]  [#565605]\n\nPedro Fragoso:\n\t* Clean up glib includes.  [#564004]\n\nRichard W.M. Jones:\n\t* MinGW configure fix for libbz2 detection.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.10\n\nJody:\n\t* Patch some coverity issues [189, 250, 251]\n\nMorten:\n\t* Work around sshfs bug.  [#509883]\n\t* Support tar archives.\n\t* Improve gsf support for broken archives.  [#553861]\n\t* Avoid a critical for bad ole2.  [#554848]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.9\n\nDom:\n\t* Revitalize gio support.\n\nJody:\n\t* Add MS OOX support to gsf-vba-dump.\n\t* Extend the utility wrappers for GsfInfile.\n\t* Be more forgiving of corrupt ole2.\n\t* Add additional MS OpenPkg support to facilitate pivots.\n\t* gtk-doc improvements.\n\t* Make the VBA extractor more accessible.\n\t* Extensions for the xml parser to allow modularization.\n\nMorten:\n\t* Use g_base64_-routines from glib when available.\n\t* When gio is available, do not link in gnomevfs.\n\t* Add self-check for the benefit of __arm__.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.8\n\nJody:\n\t* Add missing ODF presentation namespace.\n\t* Only install win32 header for win32. [#459771]\n\t* Fix XML enum export utils.\n\nMorten:\n\t* Fix criticals for corrupted file.  [#485964]\n\t* Improve sanity checks of ole properties.  [#404934]\n\t* Enhance gsf (the program) to list all document properites.\n\t* Fix endless loop with broken ole files.  [#513831]\n\t* Fix memory allocation problem due to broken ole files.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.7\n\nJody:\n\t* Fix typo that would break all xml output.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.6\n\nJody:\n\t* Add some safety checks for out of memory conditions.\n\t* Some extensions to simplify OOX export.\n\t* Docs improvements.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.5\n\nJody:\n\t* Revert jump to dynamic types, they aren't threadsafe. [#450722]\n\t* Compilation glitch on windows.  [#449807]\n\t* Avoid problems building without gconf macros installed.\n\t* Configure breakage --without-gnome. [#4488842]\n\n--------------------------------------------------------------------------\n\nlibgsf 1.14.4\n\nEduardo Lima :\n\t* Make Bonobo support optional. [#442205]\n\nFederico Mena Quintero :\n\t* Limit resource usage in the thumbnailer. [#446087]\n\nJody:\n\t* Have gsf-vba-dump handle .doc files too.\n\t* Implement gsf_init_dynamic\n\t* Tidy up docs and #includes in public headers.\n\t* Move the MS/ECMA Open Package code here from gnumeric.\n\nMichael Lawrence :\n\t* Provide a libxml2-nanohttp wrapper. [#362373]\n\nMorten:\n\t* Plug leak.\n\t* Fix potential problem with reading mildly bogus files.  [#381588]\n\t* Fix potential oom crash on crazy OLE2 files.  [#381600]\n\t* Quote csv fields on initial or terminal white-space.  [#359348]\n\t* Fix encoding problem with thumbnailer.\n\t* Fix problem with gsf_output_printf triggering on x64_86.\n\t* Handle nested xml contents.\n\t* Basic life support for python bindings.  [#382239] [#382254]\n\n--------------------------------------------------------------------------\n\nlibgsf 1.14.3\t: Last Release before branching 1.15.x\n\nJody:\n\t* Fix crash exporting keyword vector from OLE2 -> ODF.\n\t* Improve debug spew for OLE2 propert import.\n\n--------------------------------------------------------------------------\nlibgsf 1.14.2\n\nDannyM:\n\t* Fix export of msole2 double(r8) properties.\n\nJody:\n\t* Add more OOo 1.0.x and 2.0.x mime types to thumbnailer.\n\t* Add gsf-vba-dump utility to extra macros from Ms Office files.\n\t* Add metadata property dump function to gsf command\n\t* Accept invalid empty msole2 property files from psiwin. [#352055]\n\t* More checks msole2 files with inconsistent headers.\n\t* Fix python build\n\t* Fix xml-sax wrapper to correctly handle shared subtrees.\n\nMichal Kowalczuk:\n\t* Improve ms-ole property sanity checking.\n\nMorten:\n\t* Initial variant of a gsf based tar like utility.\n\t* Handle some broken FrameMaker generated files.  [#346118]\n\t* Fix bzip2 problem in gsf_input_uncompress.  [#356391]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.1\n\nJody:\n\t* Enable the ODF support in the thumbnailer's schema.\n\t* Fix handling of transparent backgrounds in ODF thumbnails.\n\t* Fix handling of default namespaces in libxml sax wrappers.\n\t* Handle odd OLE2 files from palmcalc. [#336858]\n\nMorten:\n\t* Make --mandir=... work.  [#316107]\n\t* Avoid crash on parsing completely empty xml.  [#335152]\n\t* Crudely avoid producing invalid xml by dropping certain control\n\t  characters on the floor.  [#339335]\n\n--------------------------------------------------------------------------\nlibgsf 1.14.0 aka 1.13.99\n\n    NOTE : 1.13.99 and 1.14.0 are identical.  The former was made as a\n\tconvenience to avoid bumping .so versions late in the release cycle.\n\nDaniel Nylander:\n\t* Initial Swedish PO translation. [Debian #351382]\n\nIvan Wong :\n\t* Only export symbols which are in the public headers (Win32).\n\nJody:\n\t* Fix parsing xml files with &amp;\n\t* bump to 1.14.0 to indicate a stable release.\n\t* improve header versioning.\n\t* Add ODF thumbnail support to gsf-office-thumbnailer\n\t* Enable ODF meta data import/export.\n\nMorten:\n\t* Fix GsfOutputIConv.  [#323503]\n\t* Plug leak in GsfInfileZip.\n\n--------------------------------------------------------------------------\nlibgsf 1.13.3\n\nJ.H.M. Dassen (Ray) :\n\t* Improve documentation.\n\nJody :\n\t* More work on extension interface to sax import wrapper.\n\n--------------------------------------------------------------------------\nlibgsf 1.13.0\n\nJody:\n\t* API changes SAX wrappers for help OpenDoc and SpreadsheetML.\n\nKasal:\n\t* Improve libtool versioning.\n\t* Relax the gconf requirement.\n\nLuciano Wolf:\n\t* OpenDocument meta stream parser.\n\nSven Herzberg:\n\t* Fix for GsfOutputGnomeVFS\n\n--------------------------------------------------------------------------\nlibgsf 1.12.3\n\nJody:\n\t* Make gconf optional again.\n\nRambokid:\n\t* Fix excessive memory use problem for writing zip files.\n\n--------------------------------------------------------------------------\nlibgsf 1.12.2\n\nJean Brefort:\n\t* made GSF_CLASS_FULL and GSF_DYNAMIC_CLASS_FULL really full (add\n\tbase_init, base_finalize and class_finalize arguments).\n\nJody:\n\t* Handle 0x8000 and 0x8001 codepages.\n\t* Fix leak in array properties.\n\nJon K\u013are:\n\t* Fix VT_FILETIME OLE property export.\n\nMorten:\n\t* Fix problem with 64-bit OLE properties.\n\t* Fix standard-violation that hit i86_64.\n\n--------------------------------------------------------------------------\nlibgsf 1.12.1\n\nDom:\n\t* Better handling of error conditions when creating a zip.\n\nJody:\n\t* Patch a leak in vector properties from OLE2.\n\t* Be more delicate handling truncated gzip files.\n\t* Improve utility macros for dynamic type creation (incompatible).\n\t* Make constructors for output_stdio outfile_stdio more flexible\n\nMorten:\n\t* Fix gsf_xml_out_add_float to always use \".\" as separator.\n\t* Fix problem with creating new files in g+s directories.\n\n--------------------------------------------------------------------------\nlibgsf 1.12.0\n\nHerzi:\n\t* Allow multiple calls to gsf_xml_out_add_cstr.  [#167166]\n\nIvan:\n\t* Fix codepage problem.  [#162841]\n\nJody:\n\t* Support GObject properties in GsfOutfile::new_child\n\t* Cleanup the OLE2 property import\n\t* Re-org the GsfDocMetadata interface\n\t* Cleanup the OLE2 property export\n\nManuel Mausz:\n\t* OLE2 property export.\n\nMorten:\n\t* Attempt to get non-ASCII filenames right on Win32.  [#171145]\n\t* Add \"raw\" properties to GsfInputGzip and GsfOutputGzip to\n\t  allow header/trailer-less files.  Also allow g_object_new\n\t  construction of these classes.\n\t* Add \"uncompressed_size\" property to GsfInputGzip allowing to\n\t  decompress files larger than 4GB.\n\t* Propagate errors from GsfOutputGzip's sink to itself.\n\t* Fix GsfOutputStdio to avoid killing the target file when we\n\t  get an error.\n\t* Add new GsfOutputCsv and GsfOutputIconv.\n\t* Fix GsfOutfileZip's handling of compression levels.\n\t* Allow getting the compression level when reading zip files.\n\t* Improve zip file performance.  (No longer reopens the underlying\n\t  file for each member you read.)\n\t* Clean up zip output for zip files with non-ASCII members.\n\t* Make it possible to use g_object_new to create zip io objects.\n\n------------------------------------------------------------------------------\nlibgsf 1.11.1\n\nMorten:\n\t* Fix permissions for new files.  [#159331]\n\t* Fix save-to-existing-file on Win32.  [#160108]\n\t* Fix stdio when we're not closing the file.\n\n------------------------------------------------------------------------------\nlibgsf 1.11.0\n\nChristopher James Lahey:\n\t* GObject property support for input/output (for C# bindings)\n\t* GObject support for doc-meta-data\n\nFrank Chiulli:\n\t* Have the OLE2 property set parser store the data\n\nJody:\n\t* More work on storing OLE2 properties\n\t* Add some hooks to the libxml sax wrappers to facilitate extending\n\t  specs\n\t* An extra wrapper to GsfOutputStdio to handle FILE* directly\n\nJon K\u013are:\n\t* make xml string export more convenient by ignoring NULL\n\nKasal:\n\t* More consistent use of G_GNUC_UNUSED.\n\nMorten:\n\t* Check size and seek in gsf_input_dup.\n\t* Fix a pile of crashes having to do with failed dups.\n\t* Fix crashes having to do with NULL input->name.\n\t* Work around gnome-vfs bug #152844.\n\t* Create input proxy object.\n\t* Make msole reading use a proxy layer instead of dup-ing the source\n\t  like crazy.  (Dup-ing is expensive for network connections and\n\t  slightly expensive for disk files.)\n\t* Doc fixes.\n\t* Escape characters 1..31 when used in xml attributes.  [#157850]\n\nVeerapuram Varadhan:\n\t* sync the ole2 property names with the existing beagle properties\n\n------------------------------------------------------------------------------\nlibgsf 1.10.1\n\nJon K\u013are:\n\t* Fix base64 decoding.\n\nKasal:\n\t* Lots of code auditing and cleanup.\n\t* Identified the long standing source of the problem with XL corrupting\n\t  large files\n\n------------------------------------------------------------------------------\n\nlibgsf 1.10.0\n\nJody:\n\t* Patch to read slightly odd planmaker generated OLE2.\n\t* Fix printf implementation in GsfOutfileMSOle\n\t* Make the msole block sizes instance specific\n\nMorten:\n\t* Attempt fix for ARM.\n\t* Make gsf_input_gnomevfs_new_uri handle missing \"seek\" methods.\n\nStuart Cunningham <stuartc@rd.bbc.co.uk>\n\t* Enable OLE2 export for larger block sizes\n\n------------------------------------------------------------------------------\nlibgsf 1.9.1\n\nJ.H.M. Dassen (Ray):\n\t* Corrected the location where the documentation gets installed.\n\t*\nJames Cape :\n\t* Clean up the gtk-doc build\n\nJody :\n\t* Support DOCTYPE in the simplified xml generator\n\t* More gtk-doc cleanup\n\nMorten, Dom:\n\t* Avoid polluting global name space with symbols lacking gsf_ prefix.\n\t  This only effects implementation utilites shared by the zip in/out\n\t  code so hopefully the abi breakage will not hurt too many people.\n\n------------------------------------------------------------------------------\nlibgsf 1.9.0\n\nDom:\n\t* Fix bzip output to flush if last deflate fills buffer\n\nJody Goldberg:\n\t* If the file is not an OLE2 file do not change the filepos.\n\t* Handle broken ole files that specify codepage as signed short\n\t* Fix reading ole files > 13.6 Meg on sparc/alpha (from Xavier Roche)\n\t* Tune validation test for LPSTR properties to handle char width > 1\n\t* Make the impl headers for the base interfaces public as requested\n\t* Add some directory tree wrappers\n\t* Work around a -fstrict-alias warning for SuSE\n\t* Move to automake-1.7\n\t* Fix gnome-vfs backend to open files with random access\n\t* Support merging content from nested nodes for sax parsing\n\t* Fix gtk-doc\n\nJoseph Frazee:\n\t* patch the spec file.\n\nMorten Welinder:\n\t* Properly chain finalizer.\n\t* Fix gzip output to flush if last deflate fills buffer\n\nTor Lillqvist:\n\t* packaging tools for win32.\n\n------------------------------------------------------------------------------\nlibgsf 1.8.2\n\nJody:\n\t* Catch invalid OLE2 files that claim there is data in a directory.\n\t* Better error handling for Infile::child_by_*\n\t* Work harder to restore invalid ole2 files with bad BATs.\n\t* Begin an interface for ole2 export with non-default block sizes.\n\t* Name the root directory 'Root Entry' to keep libole2 happy.\n\nStuart Cunningham <stuartc@rd.bbc.co.uk>:\n\t* Support CLSIDs for Storages for the AAF project\n\t* Test and fix bugs reading ole files with non-default block sizes.\n\n------------------------------------------------------------------------------\nlibgsf 1.8.1\n\nMorten:\n\t* Plug major gzip output leak.\n\n------------------------------------------------------------------------------\nlibgsf 1.8\n\n    2003 Mar 9\n\tWith the approval off all contributors the library has been\n\trelicensed from GPL -> LGPL\n\nDom:\n\t* Some extra casts to make Bloodshed DevC++ happy\n\t* IOChannel input work\n\t* BZ2 input & output\n\t* Return the derived types from constructor functions\n\t* Support GObject properties for the inputs and outputs\n\t* Start an AR infile\n\t* Start Win32 COM IStream input/output\n\t\nJody:\n\t* Fix ms ole export bug that would not clip overly long file names.\n\t* Fix ms ole import bug with potentially invalid names\n\nRodrigo:\n\t* Added GsfInputIOChannel, a GIOChannel-based input.\n\nXavier Roche:\n\t* Patch some gsize == gunit32 assumptions.\n\n------------------------------------------------------------------------------\nlibgsf 1.7\n\nDom:\n\t* Extend gnome-vfs support to handle uris\n\t* Transacted output capability\n\t* Ensure large reads and writes happen\n\nJody:\n\t* Start work on some simplified xml export utilities.\n\t* Extend xml import facilities to support namespaces.\n\t* Catch invalid OLE files with cycles.\n\t* Fix exporting OLE files larger than 6.8 Meg\n\nJon K\u013are:\n\t* Only unset valid GValues when reading msole properties.\n\nMorten:\n\t* Fix xml save problem.\n\nTor Lillqvist:\n\t* Tweaks for the win32 build.\n\n------------------------------------------------------------------------------\nlibgsf 1.6.0\n\nJody:\n\t* Be more anal about invalid stream names..\n\t* Fix documentation install.\n\t* Fix a subtle leak that Morten found.\n\t* Suppress some warnings in the test suite.\n\nJon K\u013are:\n\t* Add printf mechanism.\n\t* Fix misc bugs.\n\t* Add gzip output.\n\nMorten:\n\t* Don't overwrite files we're not supposed to write.\n\n------------------------------------------------------------------------------\nlibgsf 1.5.0\n\nJody:\n\t* Adjust sax routines to support recusive structures.\n\nMorten:\n\t* Handle file names that are not valid utf8.\n\nDom:\n\t* Port over code page utilities from libwv.\n\n------------------------------------------------------------------------------\nlibgsf 1.4.0\n\nJody:\n\t* Move some iconv utility routines here from gnumeric.\n\t* More work on reading ole property sets.\n\t* Minor tweak directory handling for infile-zip.\n\t* Replace test-cat-zip with test-msole2\n\t* Add error handling mechanism to GsfOutput\n\t* Borrow the temp file handling from gedit\n\t* Add some xml SAX parsing utilities (api is tentative)\n\t* Add some structured blob utilites for easy in/out of blob trees\n\t* Support unicode property values and names in ole files.\n\nJon K\u013are:\n\t* sync the directory semantics of infile-zip with infile-msole.\n\t* Support seeking within zip streams.\n\t* Make dup work properly for gzip and zip children.\n\t* Implement Zip export.\n\n------------------------------------------------------------------------------\nlibgsf 1.3.0\n\nJody:\n\t* Split gnome-vfs and bonobo into a distinct library\n\t* Polish the OLE export so that libole2 is molified.\n\t* Add a timestamp object for use with metadata\n\t* Some initial work on MS OLE property streams (doc metadata)\n\t* Some initial work on doc meta data (expect changes as ole settles)\n\nJon K\u013are:\n\t* Work and plan to support big files.\n\n------------------------------------------------------------------------------\nlibgsf 1.2.0\n\nDom:\n\t* Read/Write gnome-vfs (untested)\n\t* Write to mem buf (untested)\n\nJody:\n\t* Add some safety and utilty to ensure outputs are closed before\n\t  finalizing\n\t* Add some printf style capabilities for outputs.\n\nRay:\n\t* improve doc generation\n\t* Update debian support in preparation for packaging.\n\nRodrigo:\n\t* more work on io_context.\n\nTambet:\n\t* Read zip files\n\n------------------------------------------------------------------------------\nlibgsf 1.1.0\n\nJody:\n\t* Initial pass at an api\n\t* Read & Write OLE\n\t* Read gzip\n\t* Read textlines\n\t* Read & Write stdio wrapper\n\t* Some libxml2 utility wrappers\n\t* some test programs to dump or copy ole streams and file structures\n\t* Uncompress vba streams\n\t* Initial incomplete work on parsing vba3 & vba56 directories\n\nMorten:\n\t* mmap/buffer wrapper\n\t* testing & purification\n\nJon K\u013are:\n\t* Some configure cleanup\n\t* Bonobo Stream wrapper\n", "/*\n * gsf-infile-tar.c :\n *\n * Copyright (C) 2008 Morten Welinder (terra@gnome.org)\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of version 2.1 of the GNU Lesser General Public\n * License as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301\n * USA\n *\n * TODO:\n *   symlinks\n *   hardlinks\n *   weird headers\n */\n\n#include <gsf-config.h>\n#include <gsf/gsf-infile-tar.h>\n#include <gsf/gsf.h>\n#include <glib/gi18n-lib.h>\n\n#include <string.h>\n\n#undef G_LOG_DOMAIN\n#define G_LOG_DOMAIN \"libgsf:tar\"\n\nstatic void gsf_infile_tar_set_source (GsfInfileTar *tar, GsfInput *src);\n\nenum {\n\tPROP_0,\n\tPROP_SOURCE\n};\n\nstatic GObjectClass *parent_class;\n\ntypedef struct {\n\tchar *name;\n\n\tGDateTime *modtime;\n\n\t/* The location of data.  */\n\tgsf_off_t offset;\n\tgsf_off_t length;\n\n\t/* The directory object, or NULL for a data file.  */\n\tGsfInfileTar *dir;\n} TarChild;\n\n/* tar header from POSIX 1003.1-1990.  */\ntypedef struct {\n\tchar name[100];               /*   0 */\n\tchar mode[8];                 /* 100 (octal) */\n\tchar uid[8];                  /* 108 (octal) */\n\tchar gid[8];                  /* 116 (octal) */\n\tchar size[12];                /* 124 (octal) */\n\tchar mtime[12];               /* 136 (octal) */\n\tchar chksum[8];               /* 148 (octal) */\n\tchar typeflag;                /* 156 */\n\tchar linkname[100];           /* 157 */\n\tchar magic[6];                /* 257 */\n\tchar version[2];              /* 263 */\n\tchar uname[32];               /* 265 */\n\tchar gname[32];               /* 297 */\n\tchar devmajor[8];             /* 329 (octal) */\n\tchar devminor[8];             /* 337 (octal) */\n\tchar prefix[155];             /* 345 */\n\tchar filler[12];              /* 500 */\n} TarHeader;\n\n#define HEADER_SIZE (sizeof (TarHeader))\n#define BLOCK_SIZE 512\n#define MAGIC_LONGNAME \"././@LongLink\"\n\nstruct _GsfInfileTar {\n\tGsfInfile parent;\n\n\tGsfInput *source;\n\tGArray *children;  /* of TarChild */\n\tGError *err;\n};\n\ntypedef struct {\n\tGsfInfileClass  parent_class;\n} GsfInfileTarClass;\n\n#define GSF_INFILE_TAR_CLASS(k)    (G_TYPE_CHECK_CLASS_CAST ((k), GSF_INFILE_TAR_TYPE, GsfInfileTarClass))\n#define GSF_IS_INFILE_TAR_CLASS(k) (G_TYPE_CHECK_CLASS_TYPE ((k), GSF_INFILE_TAR_TYPE))\n\nstatic gint64\nunpack_octal (GsfInfileTar *tar, const char *s, size_t len)\n{\n\tguint64 res = 0;\n\n\t/*\n\t * Different specifications differ on what terminating characters\n\t * are allowed.  It doesn't hurt for us to allow both space and\n\t * NUL.\n\t */\n\tif (len == 0 || (s[len - 1] != 0 && s[len - 1] != ' '))\n\t\tgoto invalid;\n\tlen--;\n\n\twhile (len--) {\n\t\tunsigned char c = *s++;\n\t\tif (c < '0' || c > '7')\n\t\t\tgoto invalid;\n\t\tres = (res << 3) | (c - '0');\n\t}\n\n\treturn (gint64)res;\n\ninvalid:\n\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t_(\"Invalid tar header\"));\n\treturn 0;\n}\n\n\nstatic GsfInfileTar *\ntar_create_dir (GsfInfileTar *dir, const char *name)\n{\n\tTarChild c;\n\n\tc.offset = 0;\n\tc.length = 0;\n\tc.name = g_strdup (name);\n\tc.modtime = NULL;\n\tc.dir = g_object_new (GSF_INFILE_TAR_TYPE, NULL);\n\n\t/*\n\t * We set the source here, so gsf_infile_tar_constructor doesn't\n\t * start reading the tarfile recursively.\n\t */\n\tgsf_infile_tar_set_source (c.dir, dir->source);\n\n\tgsf_input_set_name (GSF_INPUT (c.dir), name);\n\n\tg_array_append_val (dir->children, c);\n\n\treturn c.dir;\n}\n\nstatic GsfInfileTar *\ntar_directory_for_file (GsfInfileTar *dir, const char *name, gboolean last)\n{\n\tconst char *s = name;\n\n\twhile (1) {\n\t\tconst char *s0 = s;\n\t\tchar *dirname;\n\n\t\t/* Find a directory component, if any.  */\n\t\twhile (1) {\n\t\t\tif (*s == 0) {\n\t\t\t\tif (last && s != s0)\n\t\t\t\t\tbreak;\n\t\t\t\telse\n\t\t\t\t\treturn dir;\n\t\t\t}\n\t\t\t/* This is deliberately slash-only.  */\n\t\t\tif (*s == '/')\n\t\t\t\tbreak;\n\t\t\ts++;\n\t\t}\n\n\t\tdirname = g_strndup (s0, s - s0);\n\t\twhile (*s == '/')\n\t\t\ts++;\n\n\t\tif (strcmp (dirname, \".\") != 0) {\n\t\t\tGsfInput *subdir =\n\t\t\t\tgsf_infile_child_by_name (GSF_INFILE (dir),\n\t\t\t\t\t\t\t  dirname);\n\t\t\tif (subdir) {\n\t\t\t\tdir = GSF_IS_INFILE_TAR (subdir)\n\t\t\t\t\t? GSF_INFILE_TAR (subdir)\n\t\t\t\t\t: dir;\n\t\t\t\t/* Undo the ref. */\n\t\t\t\tg_object_unref (subdir);\n\t\t\t} else\n\t\t\t\tdir = tar_create_dir (dir, dirname);\n\t\t}\n\n\t\tg_free (dirname);\n\t}\n}\n\n\n/*****************************************************************************/\n\n/**\n * tar_init_info :\n * @tar : #GsfInfileTar\n *\n * Read tar headers and do some sanity checking\n * along the way.\n **/\nstatic void\ntar_init_info (GsfInfileTar *tar)\n{\n\tTarHeader end;\n\tconst TarHeader *header;\n\tgsf_off_t pos0 = gsf_input_tell (tar->source);\n\tchar *pending_longname = NULL;\n\n\tmemset (&end, 0, sizeof (end));\n\n\twhile (tar->err == NULL &&\n\t       (header = (const TarHeader *)gsf_input_read (tar->source,\n\t\t\t\t\t\t\t    HEADER_SIZE,\n\t\t\t\t\t\t\t    NULL))) {\n\t\tchar *name;\n\t\tgsf_off_t length;\n\t\tgsf_off_t offset;\n\t\tgint64 mtime;\n\n\t\tif (memcmp (header->filler, end.filler, sizeof (end.filler))) {\n\t\t\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t\t\t_(\"Invalid tar header\"));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (memcmp (header, &end, HEADER_SIZE) == 0)\n\t\t\tbreak;\n\n\t\tif (pending_longname) {\n\t\t\tname = pending_longname;\n\t\t\tpending_longname = NULL;\n\t\t} else\n\t\t\tname = g_strndup (header->name, sizeof (header->name));\n\t\tlength = unpack_octal (tar, header->size, sizeof (header->size));\n\t\toffset = gsf_input_tell (tar->source);\n\n\t\tmtime = unpack_octal (tar, header->mtime, sizeof (header->mtime));\n\n\t\tswitch (header->typeflag) {\n\t\tcase '0': case 0: {\n\t\t\t/* Regular file. */\n\t\t\tGsfInfileTar *dir;\n\t\t\tconst char *n = name, *s;\n\t\t\tTarChild c;\n\n\t\t\t/* This is deliberately slash-only.  */\n\t\t\twhile ((s = strchr (n, '/')))\n\t\t\t\tn = s + 1;\n\t\t\tc.name = g_strdup (n);\n\t\t\tc.modtime = mtime > 0\n\t\t\t\t? g_date_time_new_from_unix_utc (mtime)\n\t\t\t\t: NULL;\n\t\t\tc.offset = offset;\n\t\t\tc.length = length;\n\t\t\tc.dir = NULL;\n\t\t\tdir = tar_directory_for_file (tar, name, FALSE);\n\t\t\tg_array_append_val (dir->children, c);\n\t\t\tbreak;\n\t\t}\n\t\tcase '5': {\n\t\t\t/* Directory */\n\t\t\t(void)tar_directory_for_file (tar, name, TRUE);\n\t\t\tbreak;\n\t\t}\n\t\tcase 'L': {\n\t\t\tconst char *n;\n\n\t\t\tif (pending_longname ||\n\t\t\t    strcmp (name, MAGIC_LONGNAME) != 0) {\n\t\t\t\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t\t\t\t_(\"Invalid longname header\"));\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tn = gsf_input_read (tar->source, length, NULL);\n\t\t\tif (!n) {\n\t\t\t\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t\t\t\t_(\"Failed to read longname\"));\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tpending_longname = g_strndup (n, length);\n\t\t\tbreak;\n\t\t}\n\t\tdefault:\n\t\t\t/* Other -- ignore */\n\t\t\tbreak;\n\t\t}\n\n\t\tg_free (name);\n\n\t\t/* Round up to block size */\n\t\tlength = (length + (BLOCK_SIZE - 1)) / BLOCK_SIZE * BLOCK_SIZE;\n\n\t\tif (!tar->err &&\n\t\t    gsf_input_seek (tar->source, offset + length, G_SEEK_SET)) {\n\t\t\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t\t\t_(\"Seek failed\"));\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (pending_longname) {\n\t\tif (!tar->err)\n\t\t\ttar->err = g_error_new (gsf_input_error_id (), 0,\n\t\t\t\t\t\t_(\"Truncated archive\"));\n\t\tg_free (pending_longname);\n\t}\n\n\tif (tar->err)\n\t\tgsf_input_seek (tar->source, pos0, G_SEEK_SET);\n}\n\n\n/* GsfInput class functions */\n\nstatic GsfInput *\ngsf_infile_tar_dup (GsfInput *src_input, GError **err)\n{\n\tGsfInfileTar *res, *src;\n\tunsigned ui;\n\n\tsrc = GSF_INFILE_TAR (src_input);\n\tif (src->err) {\n\t\tif (err)\n\t\t\t*err = g_error_copy (src->err);\n\t\treturn NULL;\n\t}\n\n\tres = (GsfInfileTar *)g_object_new (GSF_INFILE_TAR_TYPE, NULL);\n\tgsf_infile_tar_set_source (res, src->source);\n\n\tfor (ui = 0; ui < src->children->len; ui++) {\n\t\t/* This copies the structure.  */\n\t\tTarChild c = g_array_index (src->children, TarChild, ui);\n\t\tc.name = g_strdup (c.name);\n\t\tif (c.modtime) g_date_time_ref (c.modtime);\n\t\tif (c.dir) g_object_ref (c.dir);\n\t\tg_array_append_val (res->children, c);\n\t}\n\n\treturn NULL;\n}\n\nstatic guint8 const *\ngsf_infile_tar_read (GsfInput *input, size_t num_bytes, guint8 *buffer)\n{\n\t(void)input;\n\t(void)num_bytes;\n\t(void)buffer;\n\treturn NULL;\n}\n\nstatic gboolean\ngsf_infile_tar_seek (GsfInput *input, gsf_off_t offset, GSeekType whence)\n{\n\t(void)input;\n\t(void)offset;\n\t(void)whence;\n\treturn FALSE;\n}\n\n/* GsfInfile class functions */\n\n/*****************************************************************************/\n\nstatic GsfInput *\ngsf_infile_tar_child_by_index (GsfInfile *infile, int target, GError **err)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (infile);\n\tconst TarChild *c;\n\n\tif (err)\n\t\t*err = NULL;\n\n\tif (target < 0 || (unsigned)target >= tar->children->len)\n\t\treturn NULL;\n\n\tc = &g_array_index (tar->children, TarChild, target);\n\tif (c->dir)\n\t\treturn g_object_ref (c->dir);\n\telse {\n\t\tGsfInput *input = gsf_input_proxy_new_section (tar->source,\n\t\t\t\t\t\t\t       c->offset,\n\t\t\t\t\t\t\t       c->length);\n\t\tgsf_input_set_modtime (input, c->modtime);\n\t\tgsf_input_set_name (input, c->name);\n\t\treturn input;\n\t}\n}\n\nstatic char const *\ngsf_infile_tar_name_by_index (GsfInfile *infile, int target)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (infile);\n\n\tif (target < 0 || (unsigned)target >= tar->children->len)\n\t\treturn NULL;\n\n\treturn g_array_index (tar->children, TarChild, target).name;\n}\n\nstatic GsfInput *\ngsf_infile_tar_child_by_name (GsfInfile *infile, char const *name, GError **err)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (infile);\n\tunsigned ui;\n\n\tfor (ui = 0; ui < tar->children->len; ui++) {\n\t\tconst TarChild *c = &g_array_index (tar->children,\n\t\t\t\t\t\t    TarChild,\n\t\t\t\t\t\t    ui);\n\t\tif (strcmp (name, c->name) == 0)\n\t\t\treturn gsf_infile_tar_child_by_index (infile, ui, err);\n\t}\n\n\treturn NULL;\n}\n\nstatic int\ngsf_infile_tar_num_children (GsfInfile *infile)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (infile);\n\n\treturn tar->children->len;\n}\n\nstatic void\ngsf_infile_tar_finalize (GObject *obj)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (obj);\n\tg_array_free (tar->children, TRUE);\n\tparent_class->finalize (obj);\n}\n\nstatic void\ngsf_infile_tar_dispose (GObject *obj)\n{\n\tGsfInfileTar *tar = GSF_INFILE_TAR (obj);\n\tunsigned ui;\n\n\tgsf_infile_tar_set_source (tar, NULL);\n\tg_clear_error (&tar->err);\n\n\tfor (ui = 0; ui < tar->children->len; ui++) {\n\t\tTarChild *c = &g_array_index (tar->children, TarChild, ui);\n\t\tg_free (c->name);\n\t\tif (c->modtime)\n\t\t\tg_date_time_unref (c->modtime);\n\t\tif (c->dir)\n\t\t\tg_object_unref (c->dir);\n\t}\n\tg_array_set_size (tar->children, 0);\n\n\tparent_class->dispose (obj);\n}\n\nstatic GObject*\ngsf_infile_tar_constructor (GType                  type,\n\t\t\t    guint                  n_construct_properties,\n\t\t\t    GObjectConstructParam *construct_params)\n{\n\tGsfInfileTar *tar = (GsfInfileTar *)\n\t\t(parent_class->constructor (type,\n\t\t\t\t\t    n_construct_properties,\n\t\t\t\t\t    construct_params));\n\tif (tar->source)\n\t\ttar_init_info (tar);\n\n\treturn (GObject *)tar;\n}\n\n\nstatic void\ngsf_infile_tar_init (GObject *obj)\n{\n\tGsfInfileTar *tar = (GsfInfileTar *)obj;\n\ttar->source = NULL;\n\ttar->children = g_array_new (FALSE, FALSE, sizeof (TarChild));\n\ttar->err = NULL;\n}\n\nstatic void\ngsf_infile_tar_get_property (GObject     *object,\n\t\t\t     guint        property_id,\n\t\t\t     GValue      *value,\n\t\t\t     GParamSpec  *pspec)\n{\n\tGsfInfileTar *tar = (GsfInfileTar *)object;\n\n\tswitch (property_id) {\n\tcase PROP_SOURCE:\n\t\tg_value_set_object (value, tar->source);\n\t\tbreak;\n\tdefault:\n\t\tG_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);\n\t\tbreak;\n\t}\n}\n\nstatic void\ngsf_infile_tar_set_source (GsfInfileTar *tar, GsfInput *src)\n{\n\tif (src)\n\t\tsrc = gsf_input_proxy_new (src);\n\tif (tar->source)\n\t\tg_object_unref (tar->source);\n\ttar->source = src;\n}\n\nstatic void\ngsf_infile_tar_set_property (GObject      *object,\n\t\t\t     guint         property_id,\n\t\t\t     GValue const *value,\n\t\t\t     GParamSpec   *pspec)\n{\n\tGsfInfileTar *tar = (GsfInfileTar *)object;\n\n\tswitch (property_id) {\n\tcase PROP_SOURCE:\n\t\tgsf_infile_tar_set_source (tar, g_value_get_object (value));\n\t\tbreak;\n\tdefault:\n\t\tG_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);\n\t\tbreak;\n\t}\n}\n\n\nstatic void\ngsf_infile_tar_class_init (GObjectClass *gobject_class)\n{\n\tGsfInputClass  *input_class  = GSF_INPUT_CLASS (gobject_class);\n\tGsfInfileClass *infile_class = GSF_INFILE_CLASS (gobject_class);\n\n\tgobject_class->constructor      = gsf_infile_tar_constructor;\n\tgobject_class->finalize\t\t= gsf_infile_tar_finalize;\n\tgobject_class->dispose\t\t= gsf_infile_tar_dispose;\n\tgobject_class->get_property     = gsf_infile_tar_get_property;\n\tgobject_class->set_property     = gsf_infile_tar_set_property;\n\n\tinput_class->Dup\t\t= gsf_infile_tar_dup;\n\tinput_class->Read\t\t= gsf_infile_tar_read;\n\tinput_class->Seek\t\t= gsf_infile_tar_seek;\n\tinfile_class->num_children\t= gsf_infile_tar_num_children;\n\tinfile_class->name_by_index\t= gsf_infile_tar_name_by_index;\n\tinfile_class->child_by_index\t= gsf_infile_tar_child_by_index;\n\tinfile_class->child_by_name\t= gsf_infile_tar_child_by_name;\n\n\tparent_class = g_type_class_peek_parent (gobject_class);\n\n\tg_object_class_install_property\n\t\t(gobject_class,\n\t\t PROP_SOURCE,\n\t\t g_param_spec_object (\"source\",\n\t\t\t\t      _(\"Source\"),\n\t\t\t\t      _(\"The archive being interpreted\"),\n\t\t\t\t      GSF_INPUT_TYPE,\n\t\t\t\t      GSF_PARAM_STATIC |\n\t\t\t\t      G_PARAM_READWRITE |\n\t\t\t\t      G_PARAM_CONSTRUCT_ONLY));\n}\n\nGSF_CLASS (GsfInfileTar, gsf_infile_tar,\n\t   gsf_infile_tar_class_init, gsf_infile_tar_init,\n\t   GSF_INFILE_TYPE)\n\n/**\n * gsf_infile_tar_new:\n * @source: A base #GsfInput\n * @err: A #GError, optionally %NULL\n *\n * Opens the root directory of a Tar file.\n * <note>This adds a reference to @source.</note>\n *\n * Returns: the new tar file handler\n **/\nGsfInfile *\ngsf_infile_tar_new (GsfInput *source, GError **err)\n{\n\tGsfInfileTar *tar;\n\n\tg_return_val_if_fail (GSF_IS_INPUT (source), NULL);\n\n\ttar = g_object_new (GSF_INFILE_TAR_TYPE,\n\t\t\t    \"source\", source,\n\t\t\t    NULL);\n\n\tif (tar->err) {\n\t\tif (err)\n\t\t\t*err = g_error_copy (tar->err);\n\t\tg_object_unref (tar);\n\t\treturn NULL;\n\t}\n\n\treturn GSF_INFILE (tar);\n}\n"], "filenames": ["ChangeLog", "NEWS", "gsf/gsf-infile-tar.c"], "buggy_code_start_loc": [0, 1, 183], "buggy_code_end_loc": [0, 1, 187], "fixing_code_start_loc": [1, 2, 184], "fixing_code_end_loc": [8, 5, 188], "type": "CWE-476", "message": "An error within the \"tar_directory_for_file()\" function (gsf-infile-tar.c) in GNOME Structured File Library before 1.14.41 can be exploited to trigger a Null pointer dereference and subsequently cause a crash via a crafted TAR file.", "other": {"cve": {"id": "CVE-2016-9888", "sourceIdentifier": "cve@mitre.org", "published": "2016-12-08T08:59:02.430", "lastModified": "2016-12-15T03:00:42.467", "vulnStatus": "Modified", "descriptions": [{"lang": "en", "value": "An error within the \"tar_directory_for_file()\" function (gsf-infile-tar.c) in GNOME Structured File Library before 1.14.41 can be exploited to trigger a Null pointer dereference and subsequently cause a crash via a crafted TAR file."}, {"lang": "es", "value": "Un error dentro de la funci\u00f3n \"tar_directory_for_file()\" (gsf-infile-tar.c) en GNOME Structured File Library en versiones anteriores a 1.14.41 puede ser explotado para desencadenar una referencia a puntero Null y subsecuentemente provocar una ca\u00edda a trav\u00e9s de un archivo TAR manipulado."}], "metrics": {"cvssMetricV30": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:L/AC:L/PR:N/UI:R/S:U/C:N/I:N/A:H", "attackVector": "LOCAL", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "HIGH", "baseScore": 5.5, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 1.8, "impactScore": 3.6}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:M/Au:N/C:N/I:N/A:P", "accessVector": "NETWORK", "accessComplexity": "MEDIUM", "authentication": "NONE", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "PARTIAL", "baseScore": 4.3}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.6, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": true}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-476"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:gnome:libgsf:*:*:*:*:*:*:*:*", "versionEndIncluding": "1.14.40", "matchCriteriaId": "44CCEAF4-DD5F-499A-B43E-4F09C696A15A"}]}]}], "references": [{"url": "http://www.securityfocus.com/bid/94860", "source": "cve@mitre.org"}, {"url": "https://github.com/GNOME/libgsf/commit/95a8351a75758cf10b3bf6abae0b6b461f90d9e5", "source": "cve@mitre.org", "tags": ["Patch", "Vendor Advisory"]}, {"url": "https://lists.debian.org/debian-lts-announce/2020/04/msg00016.html", "source": "cve@mitre.org"}]}, "github_commit_url": "https://github.com/GNOME/libgsf/commit/95a8351a75758cf10b3bf6abae0b6b461f90d9e5"}}