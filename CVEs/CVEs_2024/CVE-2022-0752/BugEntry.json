{"buggy_code": ["<?php\n\n/* Hestia way to enable support for SSO to PHPmyAdmin */\n/* To install please run v-add-sys-pma-sso */\n\n/* Following keys will get replaced when calling v-add-sys-pma-sso */\ndefine('PHPMYADMIN_KEY', '%PHPMYADMIN_KEY%');\ndefine('API_HOST_NAME', '%API_HOST_NAME%');\ndefine('API_HESTIA_PORT', '%API_HESTIA_PORT%');\ndefine('API_KEY', '%API_KEY%');\n\n\nclass Hestia_API\n{\n    private $api_url;\n    public function __construct()\n    {\n        $this -> hostname = 'https://' . API_HOST_NAME . ':' . API_HESTIA_PORT .'/api/';\n        $this -> key = API_KEY;\n        $this -> pma_key = PHPMYADMIN_KEY;\n    }\n\n    /* Creates curl request */\n    public function request($postvars)\n    {\n        $postdata = http_build_query($postvars);\n        $curl = curl_init();\n        curl_setopt($curl, CURLOPT_URL, $this -> hostname);\n        curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n        curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n        curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false);\n        curl_setopt($curl, CURLOPT_POST, true);\n        curl_setopt($curl, CURLOPT_POSTFIELDS, $postdata);\n        $answer = curl_exec($curl);\n        return $answer;\n    }\n\n    /* Creates an new temp user in mysql */\n    public function create_temp_user($database, $user, $host)\n    {\n        $post_request = array(\n        'hash' => $this -> key,\n        'returncode' => 'no',\n        'cmd' => 'v-add-database-temp-user',\n        'arg1' => $user,\n        'arg2' => $database,\n        'arg3' => 'mysql',\n        'arg4' => $host\n        );\n        $request = $this -> request($post_request);\n        $json = json_decode($request);\n        if (json_last_error() == JSON_ERROR_NONE) {\n            return $json;\n        } else {\n            trigger_error('Unable to connect over API please check api connection', E_USER_WARNING);\n            return false;\n        }\n    }\n\n    /* Delete an new temp user in mysql */\n    public function delete_temp_user($database, $user, $dbuser, $host)\n    {\n        $post_request = array(\n        'hash' => $this -> key,\n        'returncode' => 'yes',\n        'cmd' => 'v-delete-database-temp-user',\n        'arg1' => $user,\n        'arg2' => $database,\n        'arg3' => $dbuser,\n        'arg4' => 'mysql',\n        'arg5' => $host\n        );\n        $request = $this -> request($post_request);\n        if (is_numeric($request) && $request == 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public function get_user_ip()\n    {\n        // Saving user IPs to the session for preventing session hijacking\n        $user_combined_ip = array();\n        if ($_SERVER['REMOTE_ADDR'] != $_SERVER['SERVER_ADDR']) {\n            $user_combined_ip[] = $_SERVER['REMOTE_ADDR'];\n        }\n        if (isset($_SERVER['HTTP_CLIENT_IP'])) {\n            $user_combined_ip .=  '|'. $_SERVER['HTTP_CLIENT_IP'];\n        }\n        if (isset($_SERVER['HTTP_X_FORWARDED_FOR'])) {\n            if ($_SERVER['REMOTE_ADDR'] != $_SERVER['HTTP_X_FORWARDED_FOR']) {\n                $user_combined_ip[] = $_SERVER['HTTP_X_FORWARDED_FOR'];\n            }\n        }\n        if (isset($_SERVER['HTTP_FORWARDED_FOR'])) {\n            if ($_SERVER['REMOTE_ADDR'] != $_SERVER['HTTP_FORWARDED_FOR']) {\n                $user_combined_ip[] = $_SERVER['HTTP_FORWARDED_FOR'];\n            }\n        }\n        if (isset($_SERVER['HTTP_X_FORWARDED'])) {\n            if ($_SERVER['REMOTE_ADDR'] != $_SERVER['HTTP_X_FORWARDED']) {\n                $user_combined_ip[] = $_SERVER['HTTP_X_FORWARDED'];\n            }\n        }\n        if (isset($_SERVER['HTTP_FORWARDED'])) {\n            if ($_SERVER['REMOTE_ADDR'] != $_SERVER['HTTP_FORWARDED']) {\n                $user_combined_ip[] =  '|'. $_SERVER['HTTP_FORWARDED'];\n            }\n        }\n        if (isset($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n            if (!empty($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n                $user_combined_ip[] = $_SERVER['HTTP_CF_CONNECTING_IP'];\n            }\n        }\n        return implode('|',$user_combined_ip);\n    }\n}\n\n/* Need to have cookie visible from parent directory */\nsession_set_cookie_params(0, '/', '', true, true);\n/* Create signon session */\n$session_name = 'SignonSession';\nsession_name($session_name);\n@session_start();\n\nfunction session_invalid()\n{\n    global $session_name;\n    //delete all current sessions\n    session_destroy();\n    setcookie($session_name, null, -1, '/');\n    header(\"Location: \" . dirname($_SERVER['PHP_SELF']) . \"/index.php\");\n    die();\n}\n    $api = new Hestia_API();\n    if (!empty($_GET)) {\n        if (isset($_GET['logout'])) {\n            $api -> delete_temp_user($_SESSION['HESTIA_sso_database'], $_SESSION['HESTIA_sso_user'], $_SESSION['PMA_single_signon_user'], $_SESSION['HESTIA_sso_host']);\n            //remove sessin\n            session_invalid();\n            header(\"Location: \" . dirname($_SERVER['PHP_SELF']) . \"/index.php\");\n            die();\n        } else {\n            if (isset($_GET['user']) && isset($_GET['hestia_token'])) {\n                $database = $_GET['database'];\n                $user = $_GET['user'];\n                $host = 'localhost';\n                $token = $_GET['hestia_token'];\n                $time = $_GET['exp'];\n\n                if ($time + 60 > time()) {\n                    //note: Possible issues with cloudflare due to ip obfuscation\n                    $ip = $api -> get_user_ip();\n                    if (!password_verify($database.$user.$ip.$time.PHPMYADMIN_KEY, $token)) {\n                        trigger_error('Access denied: There is a security token mismatch '. $time, E_USER_WARNING);\n                        session_invalid();\n                        die();\n                        session_invalid();\n                    } else {\n                        $id = session_id();\n                        //create a new temp user\n                        $data = $api -> create_temp_user($database, $user, $host);\n                        if ($data) {\n                            $_SESSION['PMA_single_signon_user'] = $data -> login -> user;\n                            $_SESSION['PMA_single_signon_password'] = $data -> login -> password ;\n                            $_SESSION['PMA_single_signon_host'] = $host;\n                            //save database / username to be used for sending logout notification.\n                            $_SESSION['HESTIA_sso_user'] = $user;\n                            $_SESSION['HESTIA_sso_database'] = $database;\n                            $_SESSION['HESTIA_sso_host'] = $host;\n\n                            @session_write_close();\n                            setcookie($session_name, $id, 0, \"/\");\n                            header(\"Location: \" . dirname($_SERVER['PHP_SELF']) . \"/index.php\");\n                        } else {\n                            session_invalid();\n                        }\n                        die();\n                    }\n                } else {\n                    trigger_error('Link has been expired: System time: '. time() .' / Time provided in link: '. $time, E_USER_WARNING);\n                    session_invalid();\n                    die();\n                }\n            }\n        }\n    } else {\n        session_invalid();\n        die();\n    }\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=$_GET['user'];\n}\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['system'])) {\n    $v_username = escapeshellarg($user);\n    $v_system = escapeshellarg($_GET['system']);\n    exec(HESTIA_CMD.\"v-delete-user-backup-exclusions \".$v_username.\" \".$v_system, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/backup/exclusions/\");\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=$_GET['user'];\n}\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['backup'])) {\n    $v_username = escapeshellarg($user);\n    $v_backup = escapeshellarg($_GET['backup']);\n    exec(HESTIA_CMD.\"v-delete-user-backup \".$v_username.\" \".$v_backup, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/backup/\");\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=$_GET['user'];\n}\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['job'])) {\n    $v_username = escapeshellarg($user);\n    $v_job = escapeshellarg($_GET['job']);\n    exec(HESTIA_CMD.\"v-delete-cron-job \".$v_username.\" \".$v_job, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/cron/\");\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=$_GET['user'];\n}\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['database'])) {\n    $v_username = escapeshellarg($user);\n    $v_database = escapeshellarg($_GET['database']);\n    exec(HESTIA_CMD.\"v-delete-database \".$v_username.\" \".$v_database, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/db/\");\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Delete as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=$_GET['user'];\n}\n\n// Check token\nverify_csrf($_GET);\n\n// DNS domain\nif ((!empty($_GET['domain'])) && (empty($_GET['record_id']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-delete-dns-domain \".$v_username.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/\");\n    exit;\n}\n\n// DNS record\nif ((!empty($_GET['domain'])) && (!empty($_GET['record_id']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_record_id = escapeshellarg($_GET['record_id']);\n    exec(HESTIA_CMD.\"v-delete-dns-record \".$v_username.\" \".$v_domain.\" \".$v_record_id, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/?domain=\".$_GET['domain']);\n    exit;\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/dns/\");\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user = $_GET['user'];\n}\n\nif (!empty($_GET['key'])) {\n    $v_key = escapeshellarg(trim($_GET['key']));\n    $v_user = escapeshellarg(trim($user));\n    exec(HESTIA_CMD.\"v-delete-user-ssh-key \".$v_user.\" \".$v_key);\n    check_return_code($return_var, $output);\n}\n\nunset($output);\n\n//die();\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\nheader(\"Location: /list/key/\");\nexit;\n", "<?php\n\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Check if administrator is viewing system log (currently 'admin' user)\nif (($_SESSION['userContext'] === \"admin\") && (isset($_GET['user']))) {\n    $user=$_GET['user'];\n    $token=$_SESSION['token'];\n}\n\n// Clear log\n$v_username = escapeshellarg($user);\nexec(HESTIA_CMD.\"v-delete-user-auth-log \".$v_username, $output, $return_var);\ncheck_return_code($return_var, $output);\nunset($output);\n\n\n$ip = $_SERVER['REMOTE_ADDR'];\nif (isset($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n    if (!empty($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n        $ip = $_SERVER['HTTP_CF_CONNECTING_IP'];\n    }\n}\n$v_ip = escapeshellarg($ip);\n$user_agent = $_SERVER['HTTP_USER_AGENT'];\n$v_user_agent = escapeshellarg($user_agent);\n\n$v_session_id = escapeshellarg($_SESSION['token']);\n\n// Add current user session back to log unless impersonating another user\nif (!isset($_SESSION['look'])) {\n    exec(HESTIA_CMD.\"v-log-user-login \".$v_username.\" \".$v_ip.\" success \".$v_session_id.\" \".$v_user_agent, $output, $return_var);\n}\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n\n// Set correct page reload target\nif (($_SESSION['userContext'] === \"admin\") && (!empty($_GET['user']))) {\n    header(\"Location: /list/log/auth/?user=$user&token=$token\");\n} else {\n    header(\"Location: /list/log/auth/\");\n}\n\nexit;\n", "<?php\n\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Check if administrator is viewing system log (currently 'admin' user)\nif (($_SESSION['userContext'] === \"admin\") && (!empty($_GET['user']))) {\n    $user=$_GET['user'];\n    $token=$_SESSION['token'];\n}\n\n// Set correct page reload target\nif (($_SESSION['userContext'] === \"admin\") && (!empty($_GET['user']))) {\n    header(\"Location: /list/log/?user=$user&token=$token\");\n} else {\n    header(\"Location: /list/log/\");\n}\n\n// Clear log\n$v_username = escapeshellarg($user);\nexec(HESTIA_CMD.\"v-delete-user-log \".$v_username.\" \".$output, $return_var);\ncheck_return_code($return_var, $output);\nunset($output);\nunset($token);\n\n// Render page\nrender_page($user, $TAB, 'list_log');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Delete as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=$_GET['user'];\n}\n\n// Check token\nverify_csrf($_GET);\n\n// Mail domain\nif ((!empty($_GET['domain'])) && (empty($_GET['account']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-delete-mail-domain \".$v_username.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/\");\n    exit;\n}\n\n// Mail account\nif ((!empty($_GET['domain'])) && (!empty($_GET['account']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_account = escapeshellarg($_GET['account']);\n    exec(HESTIA_CMD.\"v-delete-mail-account \".$v_username.\" \".$v_domain.\" \".$v_account, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/?domain=\".$_GET['domain']);\n    exit;\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/mail/\");\nexit;\n", "<?php\n\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif ($_GET['delete'] == 1) {\n    $v_username = escapeshellarg($user);\n    $v_id = escapeshellarg((int)$_GET['notification_id']);\n    exec(HESTIA_CMD.\"v-delete-user-notification \".$v_username.\" \".$v_id, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n} else {\n    $v_username = escapeshellarg($user);\n    $v_id = escapeshellarg((int)$_GET['notification_id']);\n    exec(HESTIA_CMD.\"v-acknowledge-user-notification \".$v_username.\" \".$v_id, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Delete as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=$_GET['user'];\n}\n\nif (!empty($_GET['domain'])) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-purge-nginx-cache \".$v_username.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n}\n$_SESSION['ok_msg'] = _('Nginx cache has been successfully purged');\nheader(\"Location: /edit/web/?domain=\".$_GET['domain']);\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'] . '/inc/main.php');\n\n// Check token\nverify_csrf($_GET);\n\n// Delete as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user = $_GET['user'];\n}\n\nif (!empty($_GET['domain'])) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD . 'v-delete-web-domain ' . $v_username . ' ' . $v_domain . \" 'yes'\", $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header('Location: ' . $back);\n    exit;\n}\n\nheader('Location: /list/web/');\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n$backup = $_GET['backup'];\n\nif (!file_exists('/backup/'.$backup)) {\n    $v_username = escapeshellarg($user);\n    $backup = escapeshellarg($_GET['backup']);\n    exec(HESTIA_CMD.\"v-schedule-user-backup-download \".$v_username.\" \".$backup, $output, $return_var);\n    if ($return_var == 0) {\n        $_SESSION['error_msg'] = _('BACKUP_DOWNLOAD_SCHEDULED');\n    } else {\n        $_SESSION['error_msg'] = implode('<br>', $output);\n        if (empty($_SESSION['error_msg'])) {\n            $_SESSION['error_msg'] = _('Error: Hestia did not return any output.');\n        }\n    }\n    unset($output);\n    header(\"Location: /list/backup/\");\n    exit;\n} else {\n    if ($_SESSION['userContext'] === 'admin') {\n        header('Content-type: application/gzip');\n        header(\"Content-Disposition: attachment; filename=\\\"\".$backup.\"\\\";\");\n        header(\"X-Accel-Redirect: /backup/\" . $backup);\n    }\n\n    if ((!empty($_SESSION['user'])) && ($_SESSION['userContext'] != 'admin')) {\n        if (strpos($backup, $user.'.') === 0) {\n            header('Content-type: application/gzip');\n            header(\"Content-Disposition: attachment; filename=\\\"\".$backup.\"\\\";\");\n            header(\"X-Accel-Redirect: /backup/\" . $backup);\n        }\n    }\n}\n", "<?php\n\nob_start();\n$TAB = 'CRON';\n\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// Check job id\nif (empty($_GET['job'])) {\n    header(\"Location: /list/cron/\");\n    exit;\n}\n\n// List cron job\n$v_job = escapeshellarg($_GET['job']);\nexec(HESTIA_CMD.\"v-list-cron-job \".$user.\" \".$v_job.\" 'json'\", $output, $return_var);\ncheck_return_code($return_var, $output);\n\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse cron job\n$v_username = $user;\n$v_job = $_GET['job'];\n$v_min = $data[$v_job]['MIN'];\n$v_hour = $data[$v_job]['HOUR'];\n$v_day = $data[$v_job]['DAY'];\n$v_month = $data[$v_job]['MONTH'];\n$v_wday = $data[$v_job]['WDAY'];\n$v_cmd = $data[$v_job]['CMD'];\n$v_date = $data[$v_job]['DATE'];\n$v_time = $data[$v_job]['TIME'];\n$v_suspended = $data[$v_job]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n\n// Check POST request\nif (!empty($_POST['save'])) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    $v_username = $user;\n    $v_job = escapeshellarg($_GET['job']);\n    $v_min = escapeshellarg($_POST['v_min']);\n    $v_hour = escapeshellarg($_POST['v_hour']);\n    $v_day = escapeshellarg($_POST['v_day']);\n    $v_month = escapeshellarg($_POST['v_month']);\n    $v_wday = escapeshellarg($_POST['v_wday']);\n    $v_cmd = escapeshellarg($_POST['v_cmd']);\n\n    // Save changes\n    exec(HESTIA_CMD.\"v-change-cron-job \".$v_username.\" \".$v_job.\" \".$v_min.\" \".$v_hour.\" \".$v_day.\" \".$v_month.\" \".$v_wday.\" \".$v_cmd, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n\n    $v_cmd = $_POST['v_cmd'];\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _(\"Changes has been saved.\");\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_cron');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'DB';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].'/inc/main.php');\n\n// Check database id\nif (empty($_GET['database'])) {\n    header(\"Location: /list/db/\");\n    exit;\n}\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// List datbase\n$v_database = $_GET['database'];\nexec(HESTIA_CMD.\"v-list-database \".$user.\" \".escapeshellarg($v_database).\" 'json'\", $output, $return_var);\ncheck_return_code($return_var, $output);\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse database\n$v_username = $user;\n$v_dbuser =  preg_replace(\"/^\".$user.\"_/\", \"\", $data[$v_database]['DBUSER']);\n$v_password = \"\";\n$v_host = $data[$v_database]['HOST'];\n$v_type = $data[$v_database]['TYPE'];\n$v_charset = $data[$v_database]['CHARSET'];\n$v_date = $data[$v_database]['DATE'];\n$v_time = $data[$v_database]['TIME'];\n$v_suspended = $data[$v_database]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n\n// Check POST request\nif (!empty($_POST['save'])) {\n    $v_username = $user;\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Change database user\n    if (($v_dbuser != $_POST['v_dbuser']) && (empty($_SESSION['error_msg']))) {\n        $v_dbuser = escapeshellarg($v_dbuser);\n        exec(HESTIA_CMD.\"v-change-database-user \".$v_username.\" \".escapeshellarg($v_database).\" \".$v_dbuser, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_dbuser = $user.\"_\".preg_replace(\"/^\".$user.\"_/\", \"\", $_POST['v_dbuser']);\n    }\n\n    // Change database password\n    if ((!empty($_POST['v_password'])) && (empty($_SESSION['error_msg']))) {\n        if (!validate_password($_POST['v_password'])) {\n            $_SESSION['error_msg'] = _('Password does not match the minimum requirements');\n        } else {\n            $v_password = tempnam(\"/tmp\", \"vst\");\n            $fp = fopen($v_password, \"w\");\n            fwrite($fp, $_POST['v_password'].\"\\n\");\n            fclose($fp);\n            exec(HESTIA_CMD.\"v-change-database-password \".$v_username.\" \".escapeshellarg($v_database).\" \".$v_password, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unlink($v_password);\n            $v_password = escapeshellarg($_POST['v_password']);\n        }\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_db');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'DNS';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check domain name\nif (empty($_GET['domain'])) {\n    header(\"Location: /list/dns/\");\n    exit;\n}\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// List ip addresses\nexec(HESTIA_CMD.\"v-list-user-ips \".$user.\" json\", $output, $return_var);\n$v_ips = json_decode(implode('', $output), true);\nunset($output);\n\n// List dns domain\nif ((!empty($_GET['domain'])) && (empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-list-dns-domain \".$user.\" \".$v_domain.\" json\", $output, $return_var);\n    check_return_code($return_var, $output);\n    $data = json_decode(implode('', $output), true);\n    unset($output);\n\n    // Parse dns domain\n    $v_username = $user;\n    $v_domain = $_GET['domain'];\n    $v_ip = $data[$v_domain]['IP'];\n    $v_template = $data[$v_domain]['TPL'];\n    $v_ttl = $data[$v_domain]['TTL'];\n    $v_exp = $data[$v_domain]['EXP'];\n    $v_soa = $data[$v_domain]['SOA'];\n    $v_date = $data[$v_domain]['DATE'];\n    $v_time = $data[$v_domain]['TIME'];\n    $v_suspended = $data[$v_domain]['SUSPENDED'];\n    if ($v_suspended == 'yes') {\n        $v_status =  'suspended';\n    } else {\n        $v_status =  'active';\n    }\n\n    // List dns templates\n    exec(HESTIA_CMD.\"v-list-dns-templates json\", $output, $return_var);\n    $templates = json_decode(implode('', $output), true);\n    unset($output);\n}\n\n// List dns record\nif ((!empty($_GET['domain'])) && (!empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_record_id = escapeshellarg($_GET['record_id']);\n    exec(HESTIA_CMD.\"v-list-dns-records \".$user.\" \".$v_domain.\" 'json'\", $output, $return_var);\n    check_return_code($return_var, $output);\n    $data = json_decode(implode('', $output), true);\n    unset($output);\n\n    // Parse dns record\n    $v_username = $user;\n    $v_domain = $_GET['domain'];\n    $v_record_id = $_GET['record_id'];\n    $v_rec = $data[$v_record_id]['RECORD'];\n    $v_type = $data[$v_record_id]['TYPE'];\n    $v_val = $data[$v_record_id]['VALUE'];\n    $v_priority = $data[$v_record_id]['PRIORITY'];\n    $v_suspended = $data[$v_record_id]['SUSPENDED'];\n    if ($v_suspended == 'yes') {\n        $v_status =  'suspended';\n    } else {\n        $v_status =  'active';\n    }\n    $v_date = $data[$v_record_id]['DATE'];\n    $v_time = $data[$v_record_id]['TIME'];\n    $v_ttl = $data[$v_record_id]['TTL'];\n}\n\n// Check POST request for dns domain\nif ((!empty($_POST['save'])) && (!empty($_GET['domain'])) && (empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_POST['v_domain']);\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Change domain IP\n    if (($v_ip != $_POST['v_ip']) && (empty($_SESSION['error_msg']))) {\n        $v_ip = escapeshellarg($_POST['v_ip']);\n        exec(HESTIA_CMD.\"v-change-dns-domain-ip \".$v_username.\" \".$v_domain.\" \".$v_ip.\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        $restart_dns = 'yes';\n        unset($output);\n    }\n\n    // Change domain template\n    if (($v_template != $_POST['v_template']) && (empty($_SESSION['error_msg']))) {\n        $v_template = escapeshellarg($_POST['v_template']);\n        exec(HESTIA_CMD.\"v-change-dns-domain-tpl \".$v_username.\" \".$v_domain.\" \".$v_template.\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $restart_dns = 'yes';\n    }\n\n    // Change SOA record\n    if (($v_soa != $_POST['v_soa']) && (empty($_SESSION['error_msg']))) {\n        $v_soa = escapeshellarg($_POST['v_soa']);\n        exec(HESTIA_CMD.\"v-change-dns-domain-soa \".$v_username.\" \".$v_domain.\" \".$v_soa.\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $restart_dns = 'yes';\n    }\n\n    // Change expiriation date\n    if (($v_exp != $_POST['v_exp']) && (empty($_SESSION['error_msg']))) {\n        $v_exp = escapeshellarg($_POST['v_exp']);\n        exec(HESTIA_CMD.\"v-change-dns-domain-exp \".$v_username.\" \".$v_domain.\" \".$v_exp.\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Change domain ttl\n    if (($v_ttl != $_POST['v_ttl']) && (empty($_SESSION['error_msg']))) {\n        $v_ttl = escapeshellarg($_POST['v_ttl']);\n        exec(HESTIA_CMD.\"v-change-dns-domain-ttl \".$v_username.\" \".$v_domain.\" \".$v_ttl.\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $restart_dns = 'yes';\n    }\n\n    // Restart dns server\n    if (!empty($restart_dns) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-restart-dns\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n// Check POST request for dns record\nif ((!empty($_POST['save'])) && (!empty($_GET['domain'])) && (!empty($_GET['record_id']))) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Protect input\n    $v_domain = escapeshellarg($_POST['v_domain']);\n    $v_record_id = escapeshellarg($_POST['v_record_id']);\n\n    // Change dns record\n    if (($v_rec != $_POST['v_rec']) || ($v_type != $_POST['v_type']) || ($v_val != $_POST['v_val']) || ($v_priority != $_POST['v_priority']) || ($v_ttl != $_POST['v_ttl']) && (empty($_SESSION['error_msg']))) {\n        $v_rec = escapeshellarg($_POST['v_rec']);\n        $v_type = escapeshellarg($_POST['v_type']);\n        $v_val = escapeshellarg($_POST['v_val']);\n        $v_priority = escapeshellarg($_POST['v_priority']);\n        $v_ttl = escapeshellarg($_POST['v_ttl']);\n        exec(HESTIA_CMD.\"v-change-dns-record \".$v_username.\" \".$v_domain.\" \".$v_record_id.\" \".$v_rec.\" \".$v_type.\" \".$v_val.\" \".$v_priority.\" false \".$v_ttl, $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_rec = $_POST['v_rec'];\n        $v_type = $_POST['v_type'];\n        $v_val = $_POST['v_val'];\n        unset($output);\n        $restart_dns = 'yes';\n    }\n\n\n    // Change dns record id\n    if (($_GET['record_id'] != $_POST['v_record_id']) && (empty($_SESSION['error_msg']))) {\n        $v_old_record_id = escapeshellarg($_GET['record_id']);\n        exec(HESTIA_CMD.\"v-change-dns-record-id \".$v_username.\" \".$v_domain.\" \".$v_old_record_id.\" \".$v_record_id, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $restart_dns = 'yes';\n    }\n\n    // Restart dns server\n    if (!empty($restart_dns) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-restart-dns\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n\n    // Change url if record id was changed\n    if ((empty($_SESSION['error_msg'])) && ($_GET['record_id'] != $_POST['v_record_id'])) {\n        header(\"Location: /edit/dns/?domain=\".$_GET['domain'].\"&record_id=\".$_POST['v_record_id']);\n        exit;\n    }\n}\n\n\n// Render page\nif (empty($_GET['record_id'])) {\n    // Display body for dns domain\n    render_page($user, $TAB, 'edit_dns');\n} else {\n    // Display body for dns record\n    render_page($user, $TAB, 'edit_dns_rec');\n}\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'FIREWALL';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check user\nif ($_SESSION['userContext'] != 'admin') {\n    header(\"Location: /list/user\");\n    exit;\n}\n\n// Check ip argument\nif (empty($_GET['rule'])) {\n    header(\"Location: /list/firewall/\");\n    exit;\n}\n\n// List rule\n$v_rule = escapeshellarg($_GET['rule']);\nexec(HESTIA_CMD.\"v-list-firewall-rule \".$v_rule.\" 'json'\", $output, $return_var);\ncheck_return_code($return_var, $output);\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse rule\n$v_rule = $_GET['rule'];\n$v_action = $data[$v_rule]['ACTION'];\n$v_protocol = $data[$v_rule]['PROTOCOL'];\n$v_port = $data[$v_rule]['PORT'];\n$v_ip = $data[$v_rule]['IP'];\n$v_comment = $data[$v_rule]['COMMENT'];\n$v_date = $data[$v_rule]['DATE'];\n$v_time = $data[$v_rule]['TIME'];\n$v_suspended = $data[$v_rule]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n\n// Get ipset lists\nexec(HESTIA_CMD.\"v-list-firewall-ipset 'json'\", $output, $return_var);\ncheck_return_code($return_var, $output);\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n$ipset_lists=[];\nforeach ($data as $key => $value) {\n    if (isset($value['SUSPENDED']) && $value['SUSPENDED'] === 'yes') {\n        continue;\n    }\n    if (isset($value['IP_VERSION']) && $value['IP_VERSION'] !== 'v4') {\n        continue;\n    }\n    array_push($ipset_lists, ['name'=>$key]);\n}\n$ipset_lists_json=json_encode($ipset_lists);\n\n// Check POST request\nif (!empty($_POST['save'])) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Check empty fields\n    if (empty($_POST['v_action'])) {\n        $errors[] = _('action');\n    }\n    if (empty($_POST['v_protocol'])) {\n        $errors[] = _('protocol');\n    }\n    if (empty($_POST['v_port']) && strlen($_POST['v_port']) == 0) {\n        $errors[] = _('port');\n    }\n    if (empty($_POST['v_ip'])) {\n        $errors[] = _('ip address');\n    }\n    if (!empty($errors[0])) {\n        foreach ($errors as $i => $error) {\n            if ($i == 0) {\n                $error_msg = $error;\n            } else {\n                $error_msg = $error_msg.\", \".$error;\n            }\n        }\n        $_SESSION['error_msg'] = sprintf(_('Field \"%s\" can not be blank.'), $error_msg);\n    }\n    if (empty($_SESSION['error_msg'])) {\n        $v_rule = escapeshellarg($_GET['rule']);\n        $v_action = escapeshellarg($_POST['v_action']);\n        $v_protocol = escapeshellarg($_POST['v_protocol']);\n        $v_port = str_replace(\" \", \",\", $_POST['v_port']);\n        $v_port = preg_replace('/\\,+/', ',', $v_port);\n        $v_port = trim($v_port, \",\");\n        $v_port = escapeshellarg($v_port);\n        $v_ip = escapeshellarg($_POST['v_ip']);\n        $v_comment = escapeshellarg($_POST['v_comment']);\n\n        // Change Status\n        exec(HESTIA_CMD.\"v-change-firewall-rule \".$v_rule.\" \".$v_action.\" \".$v_ip.\" \".$v_port.\" \".$v_protocol.\" \".$v_comment, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n\n        $v_rule = $_GET['v_rule'];\n        $v_action = $_POST['v_action'];\n        $v_protocol = $_POST['v_protocol'];\n        $v_port = str_replace(\" \", \",\", $_POST['v_port']);\n        $v_port = preg_replace('/\\,+/', ',', $v_port);\n        $v_port = trim($v_port, \",\");\n        $v_ip = $_POST['v_ip'];\n        $v_comment = $_POST['v_comment'];\n\n        // Set success message\n        if (empty($_SESSION['error_msg'])) {\n            $_SESSION['ok_msg'] = _('Changes has been saved.');\n        }\n    } else {\n        $v_rule = $_GET['v_rule'];\n        $v_action = $_POST['v_action'];\n        $v_protocol = $_POST['v_protocol'];\n        $v_port = str_replace(\" \", \",\", $_POST['v_port']);\n        $v_port = preg_replace('/\\,+/', ',', $v_port);\n        $v_port = trim($v_port, \",\");\n        $v_ip = $_POST['v_ip'];\n        $v_comment = $_POST['v_comment'];\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_firewall');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'IP';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check user\nif ($_SESSION['userContext'] != 'admin') {\n    header(\"Location: /list/user\");\n    exit;\n}\n\n// Check ip argument\nif (empty($_GET['ip'])) {\n    header(\"Location: /list/ip/\");\n    exit;\n}\n\n// List ip\n$v_ip = escapeshellarg($_GET['ip']);\nexec(HESTIA_CMD.\"v-list-sys-ip \".$v_ip.\" 'json'\", $output, $return_var);\ncheck_return_code($return_var, $output);\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse ip\n$v_username = $user;\n$v_ip = $_GET['ip'];\n$v_netmask = $data[$v_ip]['NETMASK'];\n$v_interface = $data[$v_ip]['INTERFACE'];\n$v_name = $data[$v_ip]['NAME'];\n$v_nat = $data[$v_ip]['NAT'];\n$v_ipstatus = $data[$v_ip]['STATUS'];\nif ($v_ipstatus == 'dedicated') {\n    $v_dedicated = 'yes';\n}\n$v_owner = $data[$v_ip]['OWNER'];\n$v_date = $data[$v_ip]['DATE'];\n$v_time = $data[$v_ip]['TIME'];\n$v_suspended = $data[$v_ip]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n\n// List users\nexec(HESTIA_CMD.\"v-list-sys-users 'json'\", $output, $return_var);\n$users = json_decode(implode('', $output), true);\nunset($output);\n\n// Check POST request\nif (!empty($_POST['save'])) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    $v_ip = escapeshellarg($_POST['v_ip']);\n\n    // Change Status\n    if (($v_ipstatus == 'shared') && (empty($_POST['v_shared'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-change-sys-ip-status \".$v_ip.\" 'dedicated'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_dedicated = 'yes';\n    }\n    if (($v_ipstatus == 'dedicated') && (!empty($_POST['v_shared'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-change-sys-ip-status \".$v_ip.\" 'shared'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        unset($v_dedicated);\n    }\n\n    // Change owner\n    if (($v_owner != $_POST['v_owner']) && (empty($_SESSION['error_msg']))) {\n        $v_owner = escapeshellarg($_POST['v_owner']);\n        exec(HESTIA_CMD.\"v-change-sys-ip-owner \".$v_ip.\" \".$v_owner, $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_owner = $_POST['v_owner'];\n        unset($output);\n    }\n\n    // Change associated domain\n    if (($v_name != $_POST['v_name']) && (empty($_SESSION['error_msg']))) {\n        $v_name = escapeshellarg($_POST['v_name']);\n        exec(HESTIA_CMD.\"v-change-sys-ip-name \".$v_ip.\" \".$v_name, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Change NAT address\n    if (($v_nat != $_POST['v_nat']) && (empty($_SESSION['error_msg']))) {\n        $v_nat = escapeshellarg($_POST['v_nat']);\n        exec(HESTIA_CMD.\"v-change-sys-ip-nat \".$v_ip.\" \".$v_nat, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_ip');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'MAIL';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check domain argument\nif (empty($_GET['domain'])) {\n    header(\"Location: /list/mail/\");\n    exit;\n}\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n$v_username = $user;\n\n// Get all user domains\nexec(HESTIA_CMD.\"v-list-mail-domains \".escapeshellarg($user).\" json\", $output, $return_var);\n$user_domains = json_decode(implode('', $output), true);\n$user_domains = array_keys($user_domains);\nunset($output);\n\nexec(HESTIA_CMD.\"v-list-sys-webmail json\", $output, $return_var);\n$webmail_clients = json_decode(implode('', $output), true);\nunset($output);\n\n// List mail domain\nif ((!empty($_GET['domain'])) && (empty($_GET['account']))) {\n    $v_domain = $_GET['domain'];\n    if ($_SESSION['userContext'] !== 'admin') {\n        if (!in_array($v_domain, $user_domains)) {\n            header(\"Location: /list/mail/\");\n            exit;\n        }\n    }\n\n    exec(HESTIA_CMD.\"v-list-mail-domain \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n    $data = json_decode(implode('', $output), true);\n    unset($output);\n\n    // Parse domain\n    $v_antispam = $data[$v_domain]['ANTISPAM'];\n    $v_antivirus = $data[$v_domain]['ANTIVIRUS'];\n    $v_dkim = $data[$v_domain]['DKIM'];\n    $v_catchall = $data[$v_domain]['CATCHALL'];\n    $v_date = $data[$v_domain]['DATE'];\n    $v_time = $data[$v_domain]['TIME'];\n    $v_suspended = $data[$v_domain]['SUSPENDED'];\n    $v_webmail_alias = $data[$v_domain]['WEBMAIL_ALIAS'];\n    $v_webmail = $data[$v_domain]['WEBMAIL'];\n    $v_smtp_relay = $data[$v_domain]['U_SMTP_RELAY'];\n    $v_smtp_relay_host = $data[$v_domain]['U_SMTP_RELAY_HOST'];\n    $v_smtp_relay_port = $data[$v_domain]['U_SMTP_RELAY_PORT'];\n    $v_smtp_relay_user = $data[$v_domain]['U_SMTP_RELAY_USERNAME'];\n\n    if ($v_suspended == 'yes') {\n        $v_status =  'suspended';\n    } else {\n        $v_status =  'active';\n    }\n\n    $v_ssl = $data[$v_domain]['SSL'];\n    if (!empty($v_ssl)) {\n        exec(HESTIA_CMD.\"v-list-mail-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n        $ssl_str = json_decode(implode('', $output), true);\n        unset($output);\n        $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n        $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n        $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n        $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n        $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n        $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n        $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n        $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n        $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n        $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n    }\n    $v_letsencrypt = $data[$v_domain]['LETSENCRYPT'];\n    if (empty($v_letsencrypt)) {\n        $v_letsencrypt = 'no';\n    }\n}\n\n// List mail account\nif ((!empty($_GET['domain'])) && (!empty($_GET['account']))) {\n    $v_domain = $_GET['domain'];\n    if ($_SESSION['userContext'] !== 'admin') {\n        if (!in_array($v_domain, $user_domains)) {\n            header(\"Location: /list/mail/\");\n            exit;\n        }\n    }\n\n    $v_account = $_GET['account'];\n    exec(HESTIA_CMD.\"v-list-mail-account \".$user.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" 'json'\", $output, $return_var);\n    $data = json_decode(implode('', $output), true);\n    unset($output);\n\n    // Parse mail account\n    $v_username = $user;\n    $v_password = \"\";\n    $v_aliases = str_replace(',', \"\\n\", $data[$v_account]['ALIAS']);\n    $valiases = explode(\",\", $data[$v_account]['ALIAS']);\n    $v_fwd = str_replace(',', \"\\n\", $data[$v_account]['FWD']);\n    if ($v_fwd == \":blackhole:\") {\n        $v_fwd = '';\n        $v_blackhole = \"yes\";\n    } else {\n        $v_blackhole = \"no\";\n    }\n    $vfwd = explode(\",\", $data[$v_account]['FWD']);\n    $v_fwd_only = $data[$v_account]['FWD_ONLY'];\n    $v_quota = $data[$v_account]['QUOTA'];\n    $v_autoreply = $data[$v_account]['AUTOREPLY'];\n    $v_suspended = $data[$v_account]['SUSPENDED'];\n    $v_webmail_alias = $data[$v_account]['WEBMAIL_ALIAS'];\n    if ($v_suspended == 'yes') {\n        $v_status =  'suspended';\n    } else {\n        $v_status =  'active';\n    }\n    $v_date = $data[$v_account]['DATE'];\n    $v_time = $data[$v_account]['TIME'];\n\n    // Parse autoreply\n    if ($v_autoreply == 'yes') {\n        exec(HESTIA_CMD.\"v-list-mail-account-autoreply \".$user.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" json\", $output, $return_var);\n        $autoreply_str = json_decode(implode('', $output), true);\n        unset($output);\n        $v_autoreply_message = $autoreply_str[$v_account]['MSG'];\n        $v_autoreply_message=str_replace(\"\\\\n\", \"\\n\", $v_autoreply_message);\n    }\n}\n\n\n// Check POST request for mail domain\nif ((!empty($_POST['save'])) && (!empty($_GET['domain'])) && (empty($_GET['account']))) {\n    $v_domain = $_POST['v_domain'];\n    if (!in_array($v_domain, $user_domains)) {\n        check_return_code(3, [\"Unknown domain\"]);\n    }\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Delete antispam\n    if (($v_antispam == 'yes') && (empty($_POST['v_antispam'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-domain-antispam \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_antispam = 'no';\n        unset($output);\n    }\n\n    // Add antispam\n    if (($v_antispam == 'no') && (!empty($_POST['v_antispam'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-mail-domain-antispam \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_antispam = 'yes';\n        unset($output);\n    }\n\n    // Delete antivirus\n    if (($v_antivirus == 'yes') && (empty($_POST['v_antivirus'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-domain-antivirus \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_antivirus = 'no';\n        unset($output);\n    }\n\n    // Add antivirus\n    if (($v_antivirus == 'no') && (!empty($_POST['v_antivirus'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-mail-domain-antivirus \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_antivirus = 'yes';\n        unset($output);\n    }\n\n    // Delete DKIM\n    if (($v_dkim == 'yes') && (empty($_POST['v_dkim'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-domain-dkim \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_dkim = 'no';\n        unset($output);\n    }\n\n    // Add DKIM\n    if (($v_dkim == 'no') && (!empty($_POST['v_dkim'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-mail-domain-dkim \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_dkim = 'yes';\n        unset($output);\n    }\n\n    // Delete catchall\n    if ((!empty($v_catchall)) && (empty($_POST['v_catchall'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-domain-catchall \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_catchall = '';\n        unset($output);\n    }\n\n    // Change catchall address\n    if ((!empty($v_catchall)) && (!empty($_POST['v_catchall'])) && (empty($_SESSION['error_msg']))) {\n        if ($v_catchall != $_POST['v_catchall']) {\n            $v_catchall = escapeshellarg($_POST['v_catchall']);\n            exec(HESTIA_CMD.\"v-change-mail-domain-catchall \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_catchall, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        }\n    }\n\n    // Add catchall\n    if ((empty($v_catchall)) && (!empty($_POST['v_catchall'])) && (empty($_SESSION['error_msg']))) {\n        $v_catchall = escapeshellarg($_POST['v_catchall']);\n        exec(HESTIA_CMD.\"v-add-mail-domain-catchall \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_catchall, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    if (!empty($_SESSION['IMAP_SYSTEM']) && !empty($_SESSION['WEBMAIL_SYSTEM'])) {\n        if (empty($_SESSION['error_msg'])) {\n            if (!empty($_POST['v_webmail'])) {\n                $v_webmail = escapeshellarg($_POST['v_webmail']);\n                exec(HESTIA_CMD.\"v-add-mail-domain-webmail \".$user.\" \".$v_domain.\" \".$v_webmail.\" yes\", $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n        }\n    }\n\n    if (!empty($_SESSION['IMAP_SYSTEM']) && !empty($_SESSION['WEBMAIL_SYSTEM'])) {\n        if (empty($_POST['v_webmail'])) {\n            if (empty($_SESSION['error_msg'])) {\n                exec(HESTIA_CMD.\"v-delete-mail-domain-webmail \".$user.\" \".$v_domain.\" yes\", $output, $return_var);\n                check_return_code($return_var, $output);\n                $v_webmail = \"\";\n                unset($output);\n            }\n        }\n    }\n\n    // Change SSL certificate\n    if (($v_letsencrypt == 'no') && (empty($_POST['v_letsencrypt'])) && ($v_ssl == 'yes') && (!empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        if (($v_ssl_crt != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt'])) || ($v_ssl_key != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key'])) || ($v_ssl_ca != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']))) {\n            exec('mktemp -d', $mktemp_output, $return_var);\n            $tmpdir = $mktemp_output[0];\n\n            // Certificate\n            if (!empty($_POST['v_ssl_crt'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".crt\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            // Key\n            if (!empty($_POST['v_ssl_key'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".key\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            // CA\n            if (!empty($_POST['v_ssl_ca'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".ca\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            exec(HESTIA_CMD.\"v-change-mail-domain-sslcert \".$user.\" \".escapeshellarg($v_domain).\" \".$tmpdir.\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_web = 'yes';\n            $restart_proxy = 'yes';\n\n            exec(HESTIA_CMD.\"v-list-mail-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n            $ssl_str = json_decode(implode('', $output), true);\n            unset($output);\n            $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n            $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n            $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n            $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n            $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n            $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n            $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n            $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n            $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n            $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n\n            // Cleanup certificate tempfiles\n            if (!empty($_POST['v_ssl_crt'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".crt\");\n            }\n            if (!empty($_POST['v_ssl_key'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".key\");\n            }\n            if (!empty($_POST['v_ssl_ca'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".ca\");\n            }\n            rmdir($tmpdir);\n        }\n    }\n\n    // Delete Lets Encrypt support\n    if (($v_letsencrypt == 'yes') && (empty($_POST['v_letsencrypt']) || empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-letsencrypt-domain \".$user.\" \".escapeshellarg($v_domain).\" ' ' 'yes'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_crt = '';\n        $v_ssl_key = '';\n        $v_ssl_ca = '';\n        $v_letsencrypt = 'no';\n        $v_letsencrypt_deleted = 'yes';\n        $v_ssl = 'no';\n        $restart_mail = 'yes';\n    }\n\n    // Delete SSL certificate\n    if (($v_ssl == 'yes') && (empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-domain-ssl \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_crt = '';\n        $v_ssl_key = '';\n        $v_ssl_ca = '';\n        $v_ssl = 'no';\n        $restart_mail = 'yes';\n    }\n\n    // Add Lets Encrypt support\n    if ((!empty($_POST['v_ssl'])) && ($v_letsencrypt == 'no') && (!empty($_POST['v_letsencrypt'])) && empty($_SESSION['error_msg'])) {\n        exec(HESTIA_CMD.\"v-add-letsencrypt-domain \".$user.\" \".escapeshellarg($v_domain).\" ' ' 'yes'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_letsencrypt = 'yes';\n        $v_ssl = 'yes';\n        $restart_mail = 'yes';\n    }\n\n    // Add SSL certificate\n    if (($v_ssl == 'no') && (!empty($_POST['v_ssl']))  && (empty($v_letsencrypt_deleted)) && (empty($_SESSION['error_msg']))) {\n        if (empty($_POST['v_ssl_crt'])) {\n            $errors[] = 'ssl certificate';\n        }\n        if (empty($_POST['v_ssl_key'])) {\n            $errors[] = 'ssl key';\n        }\n        if (!empty($errors[0])) {\n            foreach ($errors as $i => $error) {\n                if ($i == 0) {\n                    $error_msg = $error;\n                } else {\n                    $error_msg = $error_msg.\", \".$error;\n                }\n            }\n            $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n        } else {\n            exec('mktemp -d', $mktemp_output, $return_var);\n            $tmpdir = $mktemp_output[0];\n\n            // Certificate\n            if (!empty($_POST['v_ssl_crt'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".crt\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt']));\n                fclose($fp);\n            }\n\n            // Key\n            if (!empty($_POST['v_ssl_key'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".key\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key']));\n                fclose($fp);\n            }\n\n            // CA\n            if (!empty($_POST['v_ssl_ca'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".ca\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']));\n                fclose($fp);\n            }\n            exec(HESTIA_CMD.\"v-add-mail-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" \".$tmpdir.\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_ssl = 'yes';\n            $restart_web = 'yes';\n            $restart_proxy = 'yes';\n\n            exec(HESTIA_CMD.\"v-list-mail-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n            $ssl_str = json_decode(implode('', $output), true);\n            unset($output);\n            $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n            $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n            $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n            $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n            $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n            $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n            $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n            $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n            $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n            $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n\n            // Cleanup certificate tempfiles\n            if (!empty($_POST['v_ssl_crt'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".crt\");\n            }\n            if (!empty($_POST['v_ssl_key'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".key\");\n            }\n            if (!empty($_POST['v_ssl_ca'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".ca\");\n            }\n            rmdir($tmpdir);\n        }\n    }\n\n    // Add SMTP Relay Support\n    if (empty($_SESSION['error_msg'])) {\n        if (isset($_POST['v_smtp_relay']) && (!empty($_POST['v_smtp_relay_host'])) && (!empty($_POST['v_smtp_relay_user']))) {\n            if (($_POST['v_smtp_relay_host'] != $v_smtp_relay_host) ||\n                ($_POST['v_smtp_relay_user'] != $v_smtp_relay_user) ||\n                ($_POST['v_smtp_relay_port'] != $v_smtp_relay_port) ||\n                (!empty($_POST['v_smtp_relay_pass']))) {\n                if (!empty($_POST['v_smtp_relay_pass'])) {\n                    $v_smtp_relay = true;\n                    $v_smtp_relay_host = escapeshellarg($_POST['v_smtp_relay_host']);\n                    $v_smtp_relay_user = escapeshellarg($_POST['v_smtp_relay_user']);\n                    $v_smtp_relay_pass = escapeshellarg($_POST['v_smtp_relay_pass']);\n                    if (!empty($_POST['v_smtp_relay_port'])) {\n                        $v_smtp_relay_port = escapeshellarg($_POST['v_smtp_relay_port']);\n                    } else {\n                        $v_smtp_relay_port = '587';\n                    }\n                    exec(HESTIA_CMD.\"v-add-mail-domain-smtp-relay \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_smtp_relay_host.\" \".$v_smtp_relay_user.\" \".$v_smtp_relay_pass.\" \".$v_smtp_relay_port, $output, $return_var);\n                    check_return_code($return_var, $output);\n                    unset($output);\n                } else {\n                    $_SESSION['error_msg'] = _('SMTP Relay Password is required');\n                }\n            }\n        }\n        if ((!isset($_POST['v_smtp_relay'])) && ($v_smtp_relay == true)) {\n            $v_smtp_relay = false;\n            $v_smtp_relay_host = $v_smtp_relay_user = $v_smtp_relay_pass = $v_smtp_relay_port = '';\n            exec(HESTIA_CMD.\"v-delete-mail-domain-smtp-relay \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        }\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n// Check POST request for mail account\nif ((!empty($_POST['save'])) && (!empty($_GET['domain'])) && (!empty($_GET['account']))) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Validate email\n    if ((!empty($_POST['v_send_email'])) && (empty($_SESSION['error_msg']))) {\n        if (!filter_var($_POST['v_send_email'], FILTER_VALIDATE_EMAIL)) {\n            $_SESSION['error_msg'] = _('Please enter valid email address.');\n        }\n    }\n\n    $v_domain = $_POST['v_domain'];\n    if (!in_array($v_domain, $user_domains)) {\n        check_return_code(3, [\"Unknown domain\"]);\n    }\n\n    $v_account = $_POST['v_account'];\n    $v_send_email = $_POST['v_send_email'];\n    $v_credentials = $_POST['v_credentials'];\n\n    // Change password\n    if ((!empty($_POST['v_password'])) && (empty($_SESSION['error_msg']))) {\n        if (!validate_password($_POST['v_password'])) {\n            $_SESSION['error_msg'] = _('Password does not match the minimum requirements');\n        } else {\n            $v_password = tempnam(\"/tmp\", \"vst\");\n            $fp = fopen($v_password, \"w\");\n            fwrite($fp, $_POST['v_password'].\"\\n\");\n            fclose($fp);\n            exec(HESTIA_CMD.\"v-change-mail-account-password \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".$v_password, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unlink($v_password);\n            $v_password = escapeshellarg($_POST['v_password']);\n        }\n    }\n\n    // Change quota\n    if (($v_quota != $_POST['v_quota']) && (empty($_SESSION['error_msg']))) {\n        if (empty($_POST['v_quota'])) {\n            $v_quota = 0;\n        } else {\n            $v_quota = escapeshellarg($_POST['v_quota']);\n        }\n        exec(HESTIA_CMD.\"v-change-mail-account-quota \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".$v_quota, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Change account aliases\n    if (empty($_SESSION['error_msg'])) {\n        $waliases = preg_replace(\"/\\n/\", \" \", $_POST['v_aliases']);\n        $waliases = preg_replace(\"/,/\", \" \", $waliases);\n        $waliases = preg_replace('/\\s+/', ' ', $waliases);\n        $waliases = trim($waliases);\n        $aliases = explode(\" \", $waliases);\n        $v_aliases = str_replace(' ', \"\\n\", $waliases);\n        $result = array_diff($valiases, $aliases);\n        foreach ($result as $alias) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($alias))) {\n                exec(HESTIA_CMD.\"v-delete-mail-account-alias \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".escapeshellarg($alias), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n        }\n        $result = array_diff($aliases, $valiases);\n        foreach ($result as $alias) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($alias))) {\n                exec(HESTIA_CMD.\"v-add-mail-account-alias \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".escapeshellarg($alias), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n        }\n    }\n    // Change forwarders to :blackhole:\n    if (empty($_SESSION['error_msg']) && !empty($_POST['v_blackhole'])) {\n        foreach ($vfwd as $forward) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($forward))) {\n                exec(HESTIA_CMD.\"v-delete-mail-account-forward \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".escapeshellarg($forward), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n            exec(HESTIA_CMD.\"v-add-mail-account-forward \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" :blackhole:\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_fwd  = '';\n            $v_blackhole = \"yes\";\n        }\n    }\n    // Change forwarders\n    if (empty($_SESSION['error_msg']) && empty($_POST['v_blackhole'])) {\n        $wfwd = preg_replace(\"/\\n/\", \" \", $_POST['v_fwd']);\n        $wfwd = preg_replace(\"/,/\", \" \", $wfwd);\n        $wfwd = preg_replace('/\\s+/', ' ', $wfwd);\n        $wfwd = trim($wfwd);\n        $fwd = explode(\" \", $wfwd);\n        $v_fwd = str_replace(' ', \"\\n\", $wfwd);\n        $result = array_diff($vfwd, $fwd);\n        foreach ($result as $forward) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($forward))) {\n                exec(HESTIA_CMD.\"v-delete-mail-account-forward \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".escapeshellarg($forward), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n        }\n        $result = array_diff($fwd, $vfwd);\n        foreach ($result as $forward) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($forward))) {\n                exec(HESTIA_CMD.\"v-add-mail-account-forward \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".escapeshellarg($forward), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n        }\n        $v_blackhole = \"no\";\n    }\n\n    // Delete FWD_ONLY flag\n    if (($v_fwd_only == 'yes') && (empty($_POST['v_fwd_only'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-account-fwd-only \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_fwd_only = '';\n    }\n\n    // Add FWD_ONLY flag\n    if (($v_fwd_only != 'yes') && (!empty($_POST['v_fwd_only'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-mail-account-fwd-only \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_fwd_only = 'yes';\n    }\n\n    // Delete autoreply\n    if (($v_autoreply == 'yes') && (empty($_POST['v_autoreply'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-account-autoreply \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_autoreply = 'no';\n        $v_autoreply_message = '';\n    }\n\n    // Add autoreply\n    if ((!empty($_POST['v_autoreply'])) && (empty($_SESSION['error_msg']))) {\n        if ($v_autoreply_message != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_autoreply_message'])) {\n            $v_autoreply_message = str_replace(\"\\r\\n\", \"\\n\", $_POST['v_autoreply_message']);\n            $v_autoreply_message = escapeshellarg($v_autoreply_message);\n            exec(HESTIA_CMD.\"v-add-mail-account-autoreply \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".$v_autoreply_message, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_autoreply = 'yes';\n            $v_autoreply_message = $_POST['v_autoreply_message'];\n        }\n    }\n\n    // Email login credentials\n    if ((!empty($v_send_email)) && (empty($_SESSION['error_msg']))) {\n        $to = $v_send_email;\n        $subject = _(\"Email Credentials\");\n        $hostname = exec('hostname');\n        $from = \"noreply@\".$hostname;\n        $from_name = _('Hestia Control Panel');\n        $mailtext = $v_credentials;\n        send_email($to, $subject, $mailtext, $from, $from_name);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n\n// Render page\nif (empty($_GET['account'])) {\n    // Display body for mail domain\n    render_page($user, $TAB, 'edit_mail');\n} else {\n    // Display body for mail account\n    render_page($user, $TAB, 'edit_mail_acc');\n}\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'PACKAGE';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n\n// Check user\nif ($_SESSION['userContext'] != 'admin') {\n    header(\"Location: /list/user\");\n    exit;\n}\n\n// Check package argument\nif (empty($_GET['package'])) {\n    header(\"Location: /list/package/\");\n    exit;\n}\n\n// Prevent editing of system package\nif ($_GET['package'] === 'system') {\n    header(\"Location: /list/package/\");\n    exit;\n}\n\n// List package\n$v_package = escapeshellarg($_GET['package']);\nexec(HESTIA_CMD.\"v-list-user-package \".$v_package.\" 'json'\", $output, $return_var);\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse package\n$v_package = $_GET['package'];\n$v_package_new = $_GET['package'];\n$v_web_template = $data[$v_package]['WEB_TEMPLATE'];\n$v_backend_template = $data[$v_package]['BACKEND_TEMPLATE'];\n$v_proxy_template = $data[$v_package]['PROXY_TEMPLATE'];\n$v_dns_template = $data[$v_package]['DNS_TEMPLATE'];\n$v_web_domains = $data[$v_package]['WEB_DOMAINS'];\n$v_web_aliases = $data[$v_package]['WEB_ALIASES'];\n$v_dns_domains = $data[$v_package]['DNS_DOMAINS'];\n$v_dns_records = $data[$v_package]['DNS_RECORDS'];\n$v_mail_domains = $data[$v_package]['MAIL_DOMAINS'];\n$v_mail_accounts = $data[$v_package]['MAIL_ACCOUNTS'];\n$v_databases = $data[$v_package]['DATABASES'];\n$v_cron_jobs = $data[$v_package]['CRON_JOBS'];\n$v_disk_quota = $data[$v_package]['DISK_QUOTA'];\n$v_bandwidth = $data[$v_package]['BANDWIDTH'];\n$v_shell = $data[$v_package]['SHELL'];\n$v_ns = $data[$v_package]['NS'];\n$nameservers = explode(\",\", $v_ns);\n$v_ns1 = $nameservers[0];\n$v_ns2 = $nameservers[1];\n$v_ns3 = $nameservers[2];\n$v_ns4 = $nameservers[3];\n$v_ns5 = $nameservers[4];\n$v_ns6 = $nameservers[5];\n$v_ns7 = $nameservers[6];\n$v_ns8 = $nameservers[7];\n$v_backups = $data[$v_package]['BACKUPS'];\n$v_date = $data[$v_package]['DATE'];\n$v_time = $data[$v_package]['TIME'];\n$v_status =  'active';\n\n// List web templates\nexec(HESTIA_CMD.\"v-list-web-templates json\", $output, $return_var);\n$web_templates = json_decode(implode('', $output), true);\nunset($output);\n\n// List backend templates\nif (!empty($_SESSION['WEB_BACKEND'])) {\n    exec(HESTIA_CMD.\"v-list-web-templates-backend json\", $output, $return_var);\n    $backend_templates = json_decode(implode('', $output), true);\n    unset($output);\n}\n\n// List proxy templates\nif (!empty($_SESSION['PROXY_SYSTEM'])) {\n    exec(HESTIA_CMD.\"v-list-web-templates-proxy json\", $output, $return_var);\n    $proxy_templates = json_decode(implode('', $output), true);\n    unset($output);\n}\n\n\n// List dns templates\nexec(HESTIA_CMD.\"v-list-dns-templates json\", $output, $return_var);\n$dns_templates = json_decode(implode('', $output), true);\nunset($output);\n\n// List shels\nexec(HESTIA_CMD.\"v-list-sys-shells json\", $output, $return_var);\n$shells = json_decode(implode('', $output), true);\nunset($output);\n\n// Check POST request\nif (!empty($_POST['save'])) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Check empty fields\n    if (empty($_POST['v_package'])) {\n        $errors[] = _('package');\n    }\n    if (empty($_POST['v_web_template'])) {\n        $errors[] = _('web template');\n    }\n    if (!empty($_SESSION['WEB_BACKEND'])) {\n        if (empty($_POST['v_backend_template'])) {\n            $errors[] = _('backend template');\n        }\n    }\n    if (!empty($_SESSION['PROXY_SYSTEM'])) {\n        if (empty($_POST['v_proxy_template'])) {\n            $errors[] = _('proxy template');\n        }\n    }\n    if (empty($_POST['v_dns_template'])) {\n        $errors[] = _('dns template');\n    }\n    if (empty($_POST['v_shell'])) {\n        $errrors[] = _('shell');\n    }\n    if (!isset($_POST['v_web_domains'])) {\n        $errors[] = _('web domains');\n    }\n    if (!isset($_POST['v_web_aliases'])) {\n        $errors[] = _('web aliases');\n    }\n    if (!isset($_POST['v_dns_domains'])) {\n        $errors[] = _('dns domains');\n    }\n    if (!isset($_POST['v_dns_records'])) {\n        $errors[] = _('dns records');\n    }\n    if (!isset($_POST['v_mail_domains'])) {\n        $errors[] = _('mail domains');\n    }\n    if (!isset($_POST['v_mail_accounts'])) {\n        $errors[] = _('mail accounts');\n    }\n    if (!isset($_POST['v_databases'])) {\n        $errors[] = _('databases');\n    }\n    if (!isset($_POST['v_cron_jobs'])) {\n        $errors[] = _('cron jobs');\n    }\n    if (!isset($_POST['v_backups'])) {\n        $errors[] = _('backups');\n    }\n    if (!isset($_POST['v_disk_quota'])) {\n        $errors[] = _('quota');\n    }\n    if (!isset($_POST['v_bandwidth'])) {\n        $errors[] = _('bandwidth');\n    }\n\n    // Check if name server entries are blank if DNS server is installed\n    if ((isset($_SESSION['DNS_SYSTEM'])) && (!empty($_SESSION['DNS_SYSTEM']))) {\n        if (empty($_POST['v_ns1'])) {\n            $errors[] = _('ns1');\n        }\n        if (empty($_POST['v_ns2'])) {\n            $errors[] = _('ns2');\n        }\n    }\n\n    if (!empty($errors[0])) {\n        foreach ($errors as $i => $error) {\n            if ($i == 0) {\n                $error_msg = $error;\n            } else {\n                $error_msg = $error_msg.\", \".$error;\n            }\n        }\n        $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n    }\n\n    // Protect input\n    $v_package = escapeshellarg($_POST['v_package']);\n    $v_package_new = escapeshellarg($_POST['v_package_new']);\n    $v_web_template = escapeshellarg($_POST['v_web_template']);\n    if (!empty($_SESSION['WEB_BACKEND'])) {\n        $v_backend_template = escapeshellarg($_POST['v_backend_template']);\n    }\n    if (!empty($_SESSION['PROXY_SYSTEM'])) {\n        $v_proxy_template = escapeshellarg($_POST['v_proxy_template']);\n    }\n    $v_dns_template = escapeshellarg($_POST['v_dns_template']);\n    $v_shell = escapeshellarg($_POST['v_shell']);\n    $v_web_domains = escapeshellarg($_POST['v_web_domains']);\n    $v_web_aliases = escapeshellarg($_POST['v_web_aliases']);\n    $v_dns_domains = escapeshellarg($_POST['v_dns_domains']);\n    $v_dns_records = escapeshellarg($_POST['v_dns_records']);\n    $v_mail_domains = escapeshellarg($_POST['v_mail_domains']);\n    $v_mail_accounts = escapeshellarg($_POST['v_mail_accounts']);\n    $v_databases = escapeshellarg($_POST['v_databases']);\n    $v_cron_jobs = escapeshellarg($_POST['v_cron_jobs']);\n    $v_backups = escapeshellarg($_POST['v_backups']);\n    $v_disk_quota = escapeshellarg($_POST['v_disk_quota']);\n    $v_bandwidth = escapeshellarg($_POST['v_bandwidth']);\n    $v_ns1 = trim($_POST['v_ns1'], '.');\n    $v_ns2 = trim($_POST['v_ns2'], '.');\n    $v_ns3 = trim($_POST['v_ns3'], '.');\n    $v_ns4 = trim($_POST['v_ns4'], '.');\n    $v_ns5 = trim($_POST['v_ns5'], '.');\n    $v_ns6 = trim($_POST['v_ns6'], '.');\n    $v_ns7 = trim($_POST['v_ns7'], '.');\n    $v_ns8 = trim($_POST['v_ns8'], '.');\n    $v_ns = $v_ns1.\",\".$v_ns2;\n    if (!empty($v_ns3)) {\n        $v_ns .= \",\".$v_ns3;\n    }\n    if (!empty($v_ns4)) {\n        $v_ns .= \",\".$v_ns4;\n    }\n    if (!empty($v_ns5)) {\n        $v_ns .= \",\".$v_ns5;\n    }\n    if (!empty($v_ns6)) {\n        $v_ns .= \",\".$v_ns6;\n    }\n    if (!empty($v_ns7)) {\n        $v_ns .= \",\".$v_ns7;\n    }\n    if (!empty($v_ns8)) {\n        $v_ns .= \",\".$v_ns8;\n    }\n    $v_ns = escapeshellarg($v_ns);\n    $v_time = escapeshellarg(date('H:i:s'));\n    $v_date = escapeshellarg(date('Y-m-d'));\n\n    // Save package file on a fs\n    $pkg = \"WEB_TEMPLATE=\".$v_web_template.\"\\n\";\n    $pkg .= \"BACKEND_TEMPLATE=\".$v_backend_template.\"\\n\";\n    $pkg .= \"PROXY_TEMPLATE=\".$v_proxy_template.\"\\n\";\n    $pkg .= \"DNS_TEMPLATE=\".$v_dns_template.\"\\n\";\n    $pkg .= \"WEB_DOMAINS=\".$v_web_domains.\"\\n\";\n    $pkg .= \"WEB_ALIASES=\".$v_web_aliases.\"\\n\";\n    $pkg .= \"DNS_DOMAINS=\".$v_dns_domains.\"\\n\";\n    $pkg .= \"DNS_RECORDS=\".$v_dns_records.\"\\n\";\n    $pkg .= \"MAIL_DOMAINS=\".$v_mail_domains.\"\\n\";\n    $pkg .= \"MAIL_ACCOUNTS=\".$v_mail_accounts.\"\\n\";\n    $pkg .= \"DATABASES=\".$v_databases.\"\\n\";\n    $pkg .= \"CRON_JOBS=\".$v_cron_jobs.\"\\n\";\n    $pkg .= \"DISK_QUOTA=\".$v_disk_quota.\"\\n\";\n    $pkg .= \"BANDWIDTH=\".$v_bandwidth.\"\\n\";\n    $pkg .= \"NS=\".$v_ns.\"\\n\";\n    $pkg .= \"SHELL=\".$v_shell.\"\\n\";\n    $pkg .= \"BACKUPS=\".$v_backups.\"\\n\";\n    $pkg .= \"TIME=\".$v_time.\"\\n\";\n    $pkg .= \"DATE=\".$v_date.\"\\n\";\n\n    $tmpfile = tempnam('/tmp/', 'hst_');\n    $fp = fopen($tmpfile, 'w');\n    fwrite($fp, $pkg);\n    exec(HESTIA_CMD.\"v-add-user-package \".$tmpfile.\" \".$v_package.\" yes\", $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n\n    fclose($fp);\n    unlink($tmpfile);\n\n    // Propogate new package\n    exec(HESTIA_CMD.\"v-update-user-package \".$v_package.\" 'json'\", $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n\n    if ($v_package_new != $v_package) {\n        exec(HESTIA_CMD.\"v-rename-user-package \" . $v_package . \" \" . $v_package_new, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n\n// Render page\nrender_page($user, $TAB, 'edit_package');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'USER';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n\n// Check user argument\nif (empty($_GET['user'])) {\n    header(\"Location: /list/user/\");\n    exit;\n}\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=$_GET['user'];\n    $v_username=$_GET['user'];\n} else {\n    $user=$_SESSION['user'];\n    $v_username=$_SESSION['user'];\n}\n\n// Prevent other users with admin privileges from editing properties of default 'admin' user\nif (($_SESSION['userContext'] === 'admin') && (isset($_SESSION['look'])) && ($user == 'admin') || ($_SESSION['userContext'] === 'admin') && (!isset($_SESSION['look'])) && ($user == 'admin') && ($_SESSION['user'] != 'admin')) {\n    header(\"Location: /list/user/\");\n    exit;\n}\n\n// Check token\nverify_csrf($_GET);\n\n// List user\nexec(HESTIA_CMD.\"v-list-user \".escapeshellarg($v_username).\" json\", $output, $return_var);\ncheck_return_code($return_var, $output);\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse user\n$v_password = \"\";\n$v_email = $data[$v_username]['CONTACT'];\n$v_package = $data[$v_username]['PACKAGE'];\n$v_language = $data[$v_username]['LANGUAGE'];\n$v_user_theme = $data[$v_username]['THEME'];\n$v_sort_order = $data[$v_username]['PREF_UI_SORT'];\n$v_name = $data[$v_username]['NAME'];\n$v_shell = $data[$v_username]['SHELL'];\n$v_twofa = $data[$v_username]['TWOFA'];\n$v_qrcode = $data[$v_username]['QRCODE'];\n$v_phpcli = $data[$v_username]['PHPCLI'];\n$v_role = $data[$v_username]['ROLE'];\n$v_login_disabled = $data[$v_username]['LOGIN_DISABLED'];\n$v_login_use_iplist = $data[$v_username]['LOGIN_USE_IPLIST'];\n$v_login_allowed_ips = $data[$v_username]['LOGIN_ALLOW_IPS'];\n$v_ns = $data[$v_username]['NS'];\n$nameservers = explode(\",\", $v_ns);\n$v_ns1 = $nameservers[0];\n$v_ns2 = $nameservers[1];\n$v_ns3 = $nameservers[2];\n$v_ns4 = $nameservers[3];\n$v_ns5 = $nameservers[4];\n$v_ns6 = $nameservers[5];\n$v_ns7 = $nameservers[6];\n$v_ns8 = $nameservers[7];\n\n$v_suspended = $data[$v_username]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n$v_time = $data[$v_username]['TIME'];\n$v_date = $data[$v_username]['DATE'];\n\nif (empty($v_phpcli)) {\n    $v_phpcli = substr(DEFAULT_PHP_VERSION, 4);\n}\n\n// List packages\nexec(HESTIA_CMD.\"v-list-user-packages json\", $output, $return_var);\n$packages = json_decode(implode('', $output), true);\nunset($output);\n\n// List languages\nexec(HESTIA_CMD.\"v-list-sys-languages json\", $output, $return_var);\n$language = json_decode(implode('', $output), true);\nforeach ($language as $lang) {\n    $languages[$lang] = translate_json($lang);\n}\nasort($languages);\nunset($output);\n\n// List themes\nexec(HESTIA_CMD.\"v-list-sys-themes json\", $output, $return_var);\n$themes = json_decode(implode('', $output), true);\nunset($output);\n\n// List shells\nexec(HESTIA_CMD.\"v-list-sys-shells json\", $output, $return_var);\n$shells = json_decode(implode('', $output), true);\nunset($output);\n\n//List PHP Versions\n// List supported php versions\nexec(HESTIA_CMD.\"v-list-sys-php json\", $output, $return_var);\n$php_versions = json_decode(implode('', $output), true);\nunset($output);\n\n// Check POST request\nif (!empty($_POST['save'])) {\n\n     // Check token\n    verify_csrf($_POST);\n\n    // Change password\n    if ((!empty($_POST['v_password'])) && (empty($_SESSION['error_msg']))) {\n        // Check password length\n        $pw_len = strlen($_POST['v_password']);\n        if (!validate_password($_POST['v_password'])) {\n            $_SESSION['error_msg'] = _('Password does not match the minimum requirements');\n        }\n        if (empty($_SESSION['error_msg'])) {\n            $v_password = tempnam(\"/tmp\", \"vst\");\n            $fp = fopen($v_password, \"w\");\n            fwrite($fp, $_POST['v_password'].\"\\n\");\n            fclose($fp);\n            exec(HESTIA_CMD.\"v-change-user-password \".escapeshellarg($v_username).\" \".$v_password, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unlink($v_password);\n            $v_password = escapeshellarg($_POST['v_password']);\n        }\n    }\n\n    // Enable twofa\n    if ((!empty($_POST['v_twofa'])) && (empty($v_twofa)) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-user-2fa \".escapeshellarg($v_username), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n\n        // List user\n        exec(HESTIA_CMD.\"v-list-user \".escapeshellarg($v_username).\" json\", $output, $return_var);\n        check_return_code($return_var, $output);\n        $data = json_decode(implode('', $output), true);\n        unset($output);\n\n        // Parse user twofa\n        $v_twofa = $data[$v_username]['TWOFA'];\n        $v_qrcode = $data[$v_username]['QRCODE'];\n    }\n\n    // Disable twofa\n    if ((empty($_POST['v_twofa'])) && (!empty($v_twofa)) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-user-2fa \".escapeshellarg($v_username), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_twofa = '';\n        $v_qrcode = '';\n    }\n\n    // Change default sort order\n    if (($v_sort_order != $_POST['v_sort_order']) && (empty($_SESSION['error_msg']))) {\n        $v_sort_order = escapeshellarg($_POST['v_sort_order']);\n        exec(HESTIA_CMD.\"v-change-user-sort-order \".escapeshellarg($v_username).\" \".$v_sort_order, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($_SESSION['userSortOrder']);\n        $_SESSION['userSortOrder'] = $v_sort_order;\n        unset($output);\n    }\n\n    // Update Control Panel login disabled status (admin only)\n    if (empty($_SESSION['error_msg'])) {\n        if ($_POST['v_login_disabled'] != $data[$user]['LOGIN_DISABLED']) {\n            if ($_POST['v_login_disabled'] == 'on') {\n                $_POST['v_login_disabled'] = 'yes';\n            } else {\n                $_POST['v_login_disabled'] = 'no';\n            }\n            exec(HESTIA_CMD.\"v-change-user-config-value \".escapeshellarg($v_username).\" LOGIN_DISABLED \".escapeshellarg($_POST['v_login_disabled']), $output, $return_var);\n            check_return_code($return_var, $output);\n            $data[$user]['LOGIN_DISABLED'] = $_POST['v_login_disabled'];\n            unset($output);\n        }\n    }\n\n    // Update IP whitelist option\n    if (empty($_SESSION['error_msg'])) {\n        if ($_POST['v_login_use_iplist'] != $data[$user]['LOGIN_USE_IPLIST']) {\n            if ($_POST['v_login_use_iplist'] == 'on') {\n                $_POST['v_login_use_iplist'] = 'yes';\n            } else {\n                $_POST['v_login_use_iplist'] = 'no';\n            }\n            exec(HESTIA_CMD.\"v-change-user-config-value \".escapeshellarg($v_username).\" LOGIN_USE_IPLIST \".escapeshellarg($_POST['v_login_use_iplist']), $output, $return_var);\n            if ($_POST['v_login_use_iplist'] === 'no') {\n                exec(HESTIA_CMD.\"v-change-user-config-value \".escapeshellarg($v_username).\" LOGIN_ALLOW_IPS ''\", $output, $return_var);\n                $v_login_allowed_ips = '';\n            } else {\n                exec(HESTIA_CMD.\"v-change-user-config-value \".escapeshellarg($v_username).\" LOGIN_ALLOW_IPS \".escapeshellarg($_POST['v_login_allowed_ips']), $output, $return_var);\n                unset($v_login_allowed_ips);\n                $v_login_allowed_ips = $_POST['v_login_allowed_ips'];\n            }\n            check_return_code($return_var, $output);\n            $data[$user]['LOGIN_USE_IPLIST'] = $_POST['v_login_use_iplist'];\n            unset($output);\n        }\n    }\n\n    // Change package (admin only)\n    if (($v_package != $_POST['v_package']) && ($_SESSION['userContext'] === 'admin') && (empty($_SESSION['error_msg']))) {\n        $v_package = escapeshellarg($_POST['v_package']);\n        exec(HESTIA_CMD.\"v-change-user-package \".escapeshellarg($v_username).\" \".$v_package, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Change phpcli (admin only)\n    if (($v_phpcli != $_POST['v_phpcli']) && ($_SESSION['userContext'] === 'admin') && (empty($_SESSION['error_msg']))) {\n        $v_phpcli = escapeshellarg($_POST['v_phpcli']);\n        exec(HESTIA_CMD.\"v-change-user-php-cli \".escapeshellarg($v_username).\" \".$v_phpcli, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n    // Change Role (admin only)\n    if (($v_role != $_POST['v_role']) && ($_SESSION['userContext'] === 'admin') && $v_username != \"admin\" && (empty($_SESSION['error_msg']))) {\n        if (!empty($_POST['v_role'])) {\n            $v_role = escapeshellarg($_POST['v_role']);\n            exec(HESTIA_CMD.\"v-change-user-role \".escapeshellarg($v_username).\" \".$v_role, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_role = $_POST['v_role'];\n        }\n    }\n    // Change language\n    if (($v_language != $_POST['v_language']) && (empty($_SESSION['error_msg']))) {\n        $v_language = escapeshellarg($_POST['v_language']);\n        exec(HESTIA_CMD.\"v-change-user-language \".escapeshellarg($v_username).\" \".$v_language, $output, $return_var);\n        check_return_code($return_var, $output);\n        if (empty($_SESSION['error_msg'])) {\n            if (($_GET['user'] == $_SESSION['user'])) {\n                unset($_SESSION['language']);\n                $_SESSION['language'] = $_POST['v_language'];\n                $refresh = $_SERVER['REQUEST_URI'];\n                header(\"Location: $refresh\");\n            }\n        }\n        unset($output);\n    }\n\n    // Change shell (admin only)\n    if (($v_shell != $_POST['v_shell']) && ($_SESSION['userContext'] === 'admin') && (empty($_SESSION['error_msg']))) {\n        $v_shell = escapeshellarg($_POST['v_shell']);\n        exec(HESTIA_CMD.\"v-change-user-shell \".escapeshellarg($v_username).\" \".$v_shell, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Change contact email\n    if (($v_email != $_POST['v_email']) && (empty($_SESSION['error_msg']))) {\n        if (!filter_var($_POST['v_email'], FILTER_VALIDATE_EMAIL)) {\n            $_SESSION['error_msg'] = _('Please enter valid email address.');\n        } else {\n            $v_email = escapeshellarg($_POST['v_email']);\n            exec(HESTIA_CMD.\"v-change-user-contact \".escapeshellarg($v_username).\" \".$v_email, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        }\n    }\n\n    // Change full name\n    if ($v_name != $_POST['v_name']) {\n        if (empty($_POST['v_name'])) {\n            $_SESSION['error_msg'] = _('Please enter a valid name');\n        } else {\n            $v_name = escapeshellarg($_POST['v_name']);\n            exec(HESTIA_CMD.\"v-change-user-name \".escapeshellarg($v_username). \" \".$v_name, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_name = $_POST['v_name'];\n        }\n    }\n\n    // Update theme\n    if (empty($_SESSION['error_msg'])) {\n        if ($_POST['v_user_theme'] != $_SESSION['userTheme']) {\n            exec(HESTIA_CMD.\"v-change-user-theme \".escapeshellarg($v_username).\" \".escapeshellarg($_POST['v_user_theme']), $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_user_theme = $_POST['v_user_theme'];\n            if ($_SESSION['user'] === $v_username) {\n                unset($_SESSION['userTheme']);\n                $_SESSION['userTheme'] = $v_user_theme;\n            }\n        }\n    }\n\n    // Change NameServers\n    if (($v_ns1 != $_POST['v_ns1']) || ($v_ns2 != $_POST['v_ns2']) || ($v_ns3 != $_POST['v_ns3']) || ($v_ns4 != $_POST['v_ns4']) || ($v_ns5 != $_POST['v_ns5'])\n || ($v_ns6 != $_POST['v_ns6']) || ($v_ns7 != $_POST['v_ns7']) || ($v_ns8 != $_POST['v_ns8']) && (empty($_SESSION['error_msg']))) {\n        $v_ns1 = escapeshellarg($_POST['v_ns1']);\n        $v_ns2 = escapeshellarg($_POST['v_ns2']);\n        $v_ns3 = escapeshellarg($_POST['v_ns3']);\n        $v_ns4 = escapeshellarg($_POST['v_ns4']);\n        $v_ns5 = escapeshellarg($_POST['v_ns5']);\n        $v_ns6 = escapeshellarg($_POST['v_ns6']);\n        $v_ns7 = escapeshellarg($_POST['v_ns7']);\n        $v_ns8 = escapeshellarg($_POST['v_ns8']);\n        $ns_cmd = HESTIA_CMD.\"v-change-user-ns \".escapeshellarg($v_username).\" \".$v_ns1.\" \".$v_ns2;\n        if (!empty($_POST['v_ns3'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns3;\n        }\n        if (!empty($_POST['v_ns4'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns4;\n        }\n        if (!empty($_POST['v_ns5'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns5;\n        }\n        if (!empty($_POST['v_ns6'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns6;\n        }\n        if (!empty($_POST['v_ns7'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns7;\n        }\n        if (!empty($_POST['v_ns8'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns8;\n        }\n        exec($ns_cmd, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n\n        $v_ns1 = str_replace(\"'\", \"\", $v_ns1);\n        $v_ns2 = str_replace(\"'\", \"\", $v_ns2);\n        $v_ns3 = str_replace(\"'\", \"\", $v_ns3);\n        $v_ns4 = str_replace(\"'\", \"\", $v_ns4);\n        $v_ns5 = str_replace(\"'\", \"\", $v_ns5);\n        $v_ns6 = str_replace(\"'\", \"\", $v_ns6);\n        $v_ns7 = str_replace(\"'\", \"\", $v_ns7);\n        $v_ns8 = str_replace(\"'\", \"\", $v_ns8);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_user');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\nunset($_SESSION['error_msg']);\n$TAB = 'WEB';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check domain argument\nif (empty($_GET['domain'])) {\n    header(\"Location: /list/web/\");\n    exit;\n}\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// Get all user domains\nexec(HESTIA_CMD.\"v-list-web-domains \".escapeshellarg($user).\" json\", $output, $return_var);\n$user_domains = json_decode(implode('', $output), true);\n$user_domains = array_keys($user_domains);\nunset($output);\n\n// List domain\n$v_domain = $_GET['domain'];\nif ($_SESSION['userContext'] !== 'admin') {\n    if (!in_array($v_domain, $user_domains)) {\n        header(\"Location: /list/mail/\");\n        exit;\n    }\n}\n\nexec(HESTIA_CMD.\"v-list-web-domain \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse domain\n$v_username = $user;\n$v_ip = $data[$v_domain]['IP'];\n$v_template = $data[$v_domain]['TPL'];\n$v_aliases = str_replace(',', \"\\n\", $data[$v_domain]['ALIAS']);\n$valiases = explode(\",\", $data[$v_domain]['ALIAS']);\n\n$v_tpl = $data[$v_domain]['IP'];\n$v_cgi = $data[$v_domain]['CGI'];\n$v_elog = $data[$v_domain]['ELOG'];\n$v_ssl = $data[$v_domain]['SSL'];\nif (!empty($v_ssl)) {\n    exec(HESTIA_CMD.\"v-list-web-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n    $ssl_str = json_decode(implode('', $output), true);\n    unset($output);\n    $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n    $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n    $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n    $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n    $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n    $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n    $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n    $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n    $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n    $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n    $v_ssl_forcessl = $data[$v_domain]['SSL_FORCE'];\n    $v_ssl_hsts = $data[$v_domain]['SSL_HSTS'];\n}\n$v_letsencrypt = $data[$v_domain]['LETSENCRYPT'];\nif (empty($v_letsencrypt)) {\n    $v_letsencrypt = 'no';\n}\n$v_ssl_home = $data[$v_domain]['SSL_HOME'];\n$v_backend_template = $data[$v_domain]['BACKEND'];\n$v_nginx_cache = $data[$v_domain]['FASTCGI_CACHE'];\n$v_nginx_cache_duration = $data[$v_domain]['FASTCGI_DURATION'];\n$v_nginx_cache_check = '';\nif (empty($v_nginx_cache_duration)) {\n    $v_nginx_cache_duration = '2m';\n    $v_nginx_cache_check = '';\n} else {\n    $v_nginx_cache_check = 'on';\n}\n$v_proxy = $data[$v_domain]['PROXY'];\n$v_proxy_template = $data[$v_domain]['PROXY'];\n$v_proxy_ext = str_replace(',', ', ', $data[$v_domain]['PROXY_EXT']);\n$v_stats = $data[$v_domain]['STATS'];\n$v_stats_user = $data[$v_domain]['STATS_USER'];\nif (!empty($v_stats_user)) {\n    $v_stats_password = \"\";\n}\n$v_custom_doc_root_prepath = '/home/'.$v_username.'/web/';\n\nif (!empty($data[$v_domain]['CUSTOM_DOCROOT'])) {\n    $v_custom_doc_root = realpath($data[$v_domain]['CUSTOM_DOCROOT']) . DIRECTORY_SEPARATOR;\n}\n\nif (!empty($v_custom_doc_root) &&\n    false !== preg_match('/\\/home\\/'.$v_username.'\\/web\\/([[:alnum:]].*?)\\/public_html\\/([[:alnum:]].*)?/', $v_custom_doc_root, $matches)) {\n    // Regex for extracting target web domain and custom document root. Regex test: https://regex101.com/r/2CLvIF/1\n\n    if (!empty($matches[1])) {\n        $v_custom_doc_domain = $matches[1];\n    }\n\n    if (!empty($matches[2])) {\n        $v_custom_doc_folder = rtrim($matches[2], '/');\n    }\n\n    if ($v_custom_doc_domain && !in_array($v_custom_doc_domain, $user_domains)) {\n        $v_custom_doc_domain = '';\n        $v_custom_doc_folder = '';\n    }\n}\n\n$redirect_code_options = array(301,302);\n$v_redirect = $data[$v_domain]['REDIRECT'];\n$v_redirect_code = $data[$v_domain]['REDIRECT_CODE'];\nif (!in_array($v_redirect, array('www.'.$v_domain, $v_domain))) {\n    $v_redirect_custom = $v_redirect;\n}\n\n$v_ftp_user = $data[$v_domain]['FTP_USER'];\n$v_ftp_path = $data[$v_domain]['FTP_PATH'];\nif (!empty($v_ftp_user)) {\n    $v_ftp_password = \"\";\n}\n\nif ($v_custom_doc_domain != '') {\n    $v_ftp_user_prepath = '/home/'.$v_username.'/web/'.$v_custom_doc_domain;\n} else {\n    $v_ftp_user_prepath = '/home/'.$v_username.'/web/'.$v_domain;\n}\n\n\n$v_ftp_email = $panel[$user]['CONTACT'];\n$v_suspended = $data[$v_domain]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n$v_time = $data[$v_domain]['TIME'];\n$v_date = $data[$v_domain]['DATE'];\n\n// List ip addresses\nexec(HESTIA_CMD.\"v-list-user-ips \".$user.\" json\", $output, $return_var);\n$ips = json_decode(implode('', $output), true);\nunset($output);\n\n$v_ip_public = empty($ips[$v_ip]['NAT']) ? $v_ip : $ips[$v_ip]['NAT'];\n\n// List web templates\nexec(HESTIA_CMD.\"v-list-web-templates json\", $output, $return_var);\n$templates = json_decode(implode('', $output), true);\nunset($output);\n\n// List backend templates\nif (!empty($_SESSION['WEB_BACKEND'])) {\n    exec(HESTIA_CMD.\"v-list-web-templates-backend json\", $output, $return_var);\n    $backend_templates = json_decode(implode('', $output), true);\n    unset($output);\n}\n\n// List proxy templates\nif (!empty($_SESSION['PROXY_SYSTEM'])) {\n    exec(HESTIA_CMD.\"v-list-web-templates-proxy json\", $output, $return_var);\n    $proxy_templates = json_decode(implode('', $output), true);\n    unset($output);\n}\n\n// List web stat engines\nexec(HESTIA_CMD.\"v-list-web-stats json\", $output, $return_var);\n$stats = json_decode(implode('', $output), true);\nunset($output);\n\n// Check POST request\nif (!empty($_POST['save'])) {\n    $v_domain = $_POST['v_domain'];\n    if (!in_array($v_domain, $user_domains)) {\n        check_return_code(3, [\"Unknown domain\"]);\n    }\n    // Check token\n    verify_csrf($_POST);\n\n    // Change web domain IP\n    $v_newip='';\n    $v_newip_public='';\n\n    if (!empty($_POST['v_ip'])) {\n        $v_newip = $_POST['v_ip'];\n        $v_newip_public = empty($ips[$v_newip]['NAT']) ? $v_newip : $ips[$v_newip]['NAT'];\n    }\n\n    if (($v_ip != $_POST['v_ip']) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-change-web-domain-ip \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($_POST['v_ip']).\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n        unset($output);\n    }\n\n    // Change dns domain IP\n    if (($v_ip != $_POST['v_ip']) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-list-dns-domain \".$v_username.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n        unset($output);\n        if ($return_var == 0) {\n            exec(HESTIA_CMD.\"v-change-dns-domain-ip \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_newip_public).\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_dns = 'yes';\n        }\n    }\n\n    // Change dns ip for each alias\n    if (($v_ip != $_POST['v_ip']) && (empty($_SESSION['error_msg']))) {\n        foreach ($valiases as $v_alias) {\n            exec(HESTIA_CMD.\"v-list-dns-domain \".$v_username.\" \".escapeshellarg($v_alias).\" json\", $output, $return_var);\n            unset($output);\n            if ($return_var == 0) {\n                exec(HESTIA_CMD.\"v-change-dns-domain-ip \".$v_username.\" \".escapeshellarg($v_alias).\" \".escapeshellarg($v_newip_public), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n                $restart_dns = 'yes';\n            }\n        }\n    }\n\n    // Change mail domain IP\n    if (($v_ip != $_POST['v_ip']) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-list-mail-domain \".$v_username.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n        unset($output);\n        if ($return_var == 0) {\n            exec(HESTIA_CMD.\"v-rebuild-mail-domain \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_email = 'yes';\n        }\n    }\n\n\n    if (($_SESSION['POLICY_USER_EDIT_WEB_TEMPLATES'] == 'yes') || ($_SESSION['userContext'] === \"admin\")) {\n        // Change template\n        if (($v_template != $_POST['v_template']) && (empty($_SESSION['error_msg']))) {\n            exec(HESTIA_CMD.\"v-change-web-domain-tpl \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($_POST['v_template']).\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_web = 'yes';\n        }\n\n        // Change backend template\n        if ((!empty($_SESSION['WEB_BACKEND'])) && ($v_backend_template != $_POST['v_backend_template'])  && (empty($_SESSION['error_msg']))) {\n            $v_backend_template = $_POST['v_backend_template'];\n            exec(HESTIA_CMD.\"v-change-web-domain-backend-tpl \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_backend_template), $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        }\n\n        // Enable/Disable nginx cache\n        if (($_SESSION['WEB_SYSTEM'] == 'nginx') && ($v_nginx_cache_check != $_POST['v_nginx_cache_check']) || ($v_nginx_cache_duration != $_POST['v_nginx_cache_duration'] && $_POST['v_nginx_cache'] = \"yes\") && (empty($_SESSION['error_msg']))) {\n            if ($_POST['v_nginx_cache_check'] == 'on') {\n                if (empty($_POST['v_nginx_cache_duration'])) {\n                    $_POST['v_nginx_cache_duration'] = \"2m\";\n                }\n                exec(HESTIA_CMD.\"v-add-fastcgi-cache \".$v_username.\" \".escapeshellarg($v_domain).' '. escapeshellarg($_POST['v_nginx_cache_duration']), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            } else {\n                exec(HESTIA_CMD.\"v-delete-fastcgi-cache \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n            $restart_web = 'yes';\n        }\n\n        // Delete proxy support\n        if ((!empty($_SESSION['PROXY_SYSTEM'])) && (!empty($v_proxy)) && (empty($_POST['v_proxy'])) && (empty($_SESSION['error_msg']))) {\n            exec(HESTIA_CMD.\"v-delete-web-domain-proxy \".$v_username.\" \".escapeshellarg($v_domain).\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unset($v_proxy);\n            $restart_web = 'yes';\n        }\n\n        // Change proxy template / Update extension list\n        if ((!empty($_SESSION['PROXY_SYSTEM'])) && (!empty($v_proxy)) && (!empty($_POST['v_proxy'])) && (empty($_SESSION['error_msg']))) {\n            $ext = preg_replace(\"/\\n/\", \" \", $_POST['v_proxy_ext']);\n            $ext = preg_replace(\"/,/\", \" \", $ext);\n            $ext = preg_replace('/\\s+/', ' ', $ext);\n            $ext = trim($ext);\n            $ext = str_replace(' ', \", \", $ext);\n            if (($v_proxy_template != $_POST['v_proxy_template']) || ($v_proxy_ext != $ext)) {\n                $ext = str_replace(', ', \",\", $ext);\n                if (!empty($_POST['v_proxy_template'])) {\n                    $v_proxy_template = $_POST['v_proxy_template'];\n                }\n                exec(HESTIA_CMD.\"v-change-web-domain-proxy-tpl \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_proxy_template).\" \".escapeshellarg($ext).\" 'no'\", $output, $return_var);\n                check_return_code($return_var, $output);\n                $v_proxy_ext = str_replace(',', ', ', $ext);\n                unset($output);\n                $restart_proxy = 'yes';\n            }\n        }\n\n        // Add proxy support\n        if ((!empty($_SESSION['PROXY_SYSTEM'])) && (empty($v_proxy)) && (!empty($_POST['v_proxy'])) && (empty($_SESSION['error_msg']))) {\n            $v_proxy_template = $_POST['v_proxy_template'];\n            if (!empty($_POST['v_proxy_ext'])) {\n                $ext = preg_replace(\"/\\n/\", \" \", $_POST['v_proxy_ext']);\n                $ext = preg_replace(\"/,/\", \" \", $ext);\n                $ext = preg_replace('/\\s+/', ' ', $ext);\n                $ext = trim($ext);\n                $ext = str_replace(' ', \",\", $ext);\n                $v_proxy_ext = str_replace(',', ', ', $ext);\n            }\n            exec(HESTIA_CMD.\"v-add-web-domain-proxy \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_proxy_template).\" \".escapeshellarg($ext).\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_proxy = 'yes';\n        }\n    }\n    // Change aliases\n    if (empty($_SESSION['error_msg'])) {\n        $waliases = preg_replace(\"/\\n/\", \" \", $_POST['v_aliases']);\n        $waliases = preg_replace(\"/,/\", \" \", $waliases);\n        $waliases = preg_replace('/\\s+/', ' ', $waliases);\n        $waliases = trim($waliases);\n        $aliases = explode(\" \", $waliases);\n        $v_aliases = str_replace(' ', \"\\n\", $waliases);\n        $result = array_diff($valiases, $aliases);\n        foreach ($result as $alias) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($alias))) {\n                $restart_web = 'yes';\n                $restart_proxy = 'yes';\n                exec(HESTIA_CMD.\"v-delete-web-domain-alias \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($alias).\" 'no'\", $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n\n                if (empty($_SESSION['error_msg'])) {\n                    exec(HESTIA_CMD.\"v-list-dns-domain \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n                    unset($output);\n                    if ($return_var == 0) {\n                        exec(HESTIA_CMD.\"v-delete-dns-on-web-alias \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($alias).\" 'no'\", $output, $return_var);\n                        check_return_code($return_var, $output);\n                        unset($output);\n                        $restart_dns = 'yes';\n                    }\n                }\n            }\n        }\n\n        $result = array_diff($aliases, $valiases);\n        foreach ($result as $alias) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($alias))) {\n                $restart_web = 'yes';\n                $restart_proxy = 'yes';\n                exec(HESTIA_CMD.\"v-add-web-domain-alias \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($alias).\" 'no'\", $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n                if (empty($_SESSION['error_msg'])) {\n                    exec(HESTIA_CMD.\"v-list-dns-domain \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n                    unset($output);\n                    if ($return_var == 0) {\n                        exec(HESTIA_CMD.\"v-add-dns-on-web-alias \".$v_username.\" \".escapeshellarg($alias).\" \".escapeshellarg($v_newip_public ?: $v_ip_public).\" no\", $output, $return_var);\n                        check_return_code($return_var, $output);\n                        unset($output);\n                        $restart_dns = 'yes';\n                    }\n                }\n            }\n        }\n\n        // Regenerate LE if aliases are different\n        if ((!empty($_POST['v_ssl'])) && ($v_letsencrypt == 'yes') && (!empty($_POST['v_letsencrypt'])) && empty($_SESSION['error_msg'])) {\n\n        // If aliases are different from stored aliases\n            if (array_diff($valiases, $aliases) || array_diff($aliases, $valiases)) {\n\n            // Add certificate with new aliases\n                $l_aliases = str_replace(\"\\n\", ',', $v_aliases);\n                exec(HESTIA_CMD.\"v-add-letsencrypt-domain \".$user.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($l_aliases).\" ''\", $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n                $v_letsencrypt = 'yes';\n                $v_ssl = 'yes';\n                $restart_web = 'yes';\n                $restart_proxy = 'yes';\n\n                exec(HESTIA_CMD.\"v-list-web-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n                $ssl_str = json_decode(implode('', $output), true);\n                unset($output);\n                $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n                $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n                $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n                $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n                $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n                $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n                $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n                $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n                $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n                $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n            }\n        }\n\n        if ((!empty($v_stats)) && ($_POST['v_stats'] == $v_stats) && (empty($_SESSION['error_msg']))) {\n            // Update statistics configuration when changing domain aliases\n            $v_stats = escapeshellarg($_POST['v_stats']);\n            exec(HESTIA_CMD.\"v-change-web-domain-stats \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_stats, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        }\n    }\n\n    // Change document root for ssl domain\n    if (($v_ssl == 'yes') && (!empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        if ($v_ssl_home != $_POST['v_ssl_home']) {\n            $v_ssl_home = escapeshellarg($_POST['v_ssl_home']);\n            exec(HESTIA_CMD.\"v-change-web-domain-sslhome \".$user.\" \".escapeshellarg($v_domain).\" \".$v_ssl_home.\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            $v_ssl_home = $_POST['v_ssl_home'];\n            $restart_web = 'yes';\n            $restart_proxy = 'yes';\n            unset($output);\n        }\n    }\n\n    // Change SSL certificate\n    if (($v_letsencrypt == 'no') && (empty($_POST['v_letsencrypt'])) && ($v_ssl == 'yes') && (!empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        if (($v_ssl_crt != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt'])) || ($v_ssl_key != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key'])) || ($v_ssl_ca != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']))) {\n            exec('mktemp -d', $mktemp_output, $return_var);\n            $tmpdir = $mktemp_output[0];\n\n            // Certificate\n            if (!empty($_POST['v_ssl_crt'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".crt\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            // Key\n            if (!empty($_POST['v_ssl_key'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".key\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            // CA\n            if (!empty($_POST['v_ssl_ca'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".ca\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            exec(HESTIA_CMD.\"v-change-web-domain-sslcert \".$user.\" \".escapeshellarg($v_domain).\" \".$tmpdir.\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_web = 'yes';\n            $restart_proxy = 'yes';\n\n            exec(HESTIA_CMD.\"v-list-web-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n            $ssl_str = json_decode(implode('', $output), true);\n            unset($output);\n            $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n            $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n            $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n            $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n            $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n            $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n            $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n            $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n            $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n            $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n\n            // Cleanup certificate tempfiles\n            if (!empty($_POST['v_ssl_crt'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".crt\");\n            }\n            if (!empty($_POST['v_ssl_key'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".key\");\n            }\n            if (!empty($_POST['v_ssl_ca'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".ca\");\n            }\n            rmdir($tmpdir);\n        }\n    }\n\n    // Delete Lets Encrypt support\n    if (($v_letsencrypt == 'yes') && (empty($_POST['v_letsencrypt']) || empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-letsencrypt-domain \".$user.\" \".escapeshellarg($v_domain).\" ''\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_crt = '';\n        $v_ssl_key = '';\n        $v_ssl_ca = '';\n        $v_letsencrypt = 'no';\n        $v_letsencrypt_deleted = 'yes';\n        $v_ssl = 'no';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Delete SSL certificate\n    if (($v_ssl == 'yes') && (empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-ssl \".$v_username.\" \".escapeshellarg($v_domain).\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_crt = '';\n        $v_ssl_key = '';\n        $v_ssl_ca = '';\n        $v_ssl = 'no';\n        $v_ssl_forcessl = 'no';\n        $v_ssl_hsts = 'no';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Add Lets Encrypt support\n    if ((!empty($_POST['v_ssl'])) && ($v_letsencrypt == 'no') && (!empty($_POST['v_letsencrypt'])) && empty($_SESSION['error_msg'])) {\n        $l_aliases = str_replace(\"\\n\", ',', $v_aliases);\n        exec(HESTIA_CMD.\"v-add-letsencrypt-domain \".$user.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($l_aliases).\" ''\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        if ($return_var != 0) {\n            $v_letsencrypt = 'no';\n        } else {\n            $v_letsencrypt = 'yes';\n        }\n        $v_ssl = 'yes';\n        if ($_POST['v_ssl_forcessl'] == 'on') {\n            $v_ssl_forcessl = 'yes';\n        } else {\n            $v_ssl_forcessl = 'no';\n        }\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Add SSL certificate\n    if (($v_ssl == 'no') && (!empty($_POST['v_ssl']))  && (empty($v_letsencrypt_deleted)) && (empty($_SESSION['error_msg']))) {\n        if (empty($_POST['v_ssl_crt'])) {\n            $errors[] = 'ssl certificate';\n        }\n        if (empty($_POST['v_ssl_key'])) {\n            $errors[] = 'ssl key';\n        }\n        if (empty($_POST['v_ssl_home'])) {\n            $errors[] = 'ssl home';\n        }\n        $v_ssl_home = escapeshellarg($_POST['v_ssl_home']);\n        if (!empty($errors[0])) {\n            foreach ($errors as $i => $error) {\n                if ($i == 0) {\n                    $error_msg = $error;\n                } else {\n                    $error_msg = $error_msg.\", \".$error;\n                }\n            }\n            $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n        } else {\n            exec('mktemp -d', $mktemp_output, $return_var);\n            $tmpdir = $mktemp_output[0];\n\n            // Certificate\n            if (!empty($_POST['v_ssl_crt'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".crt\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt']));\n                fclose($fp);\n            }\n\n            // Key\n            if (!empty($_POST['v_ssl_key'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".key\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key']));\n                fclose($fp);\n            }\n\n            // CA\n            if (!empty($_POST['v_ssl_ca'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".ca\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']));\n                fclose($fp);\n            }\n            exec(HESTIA_CMD.\"v-add-web-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" \".$tmpdir.\" \".$v_ssl_home.\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_ssl = 'yes';\n            $restart_web = 'yes';\n            $restart_proxy = 'yes';\n\n            exec(HESTIA_CMD.\"v-list-web-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n            $ssl_str = json_decode(implode('', $output), true);\n            unset($output);\n            $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n            $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n            $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n            $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n            $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n            $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n            $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n            $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n            $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n            $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n\n            // Cleanup certificate tempfiles\n            if (!empty($_POST['v_ssl_crt'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".crt\");\n            }\n            if (!empty($_POST['v_ssl_key'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".key\");\n            }\n            if (!empty($_POST['v_ssl_ca'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".ca\");\n            }\n            rmdir($tmpdir);\n        }\n    }\n\n    // Add Force SSL\n    if ((!empty($_POST['v_ssl_forcessl'])) && (!empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-web-domain-ssl-force \".$user.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_forcessl = 'yes';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Add SSL HSTS\n    if ((!empty($_POST['v_ssl_hsts'])) && (!empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-web-domain-ssl-hsts \".$user.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_hsts = 'yes';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Delete Force SSL\n    if (($v_ssl_forcessl == 'yes') && (empty($_POST['v_ssl_forcessl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-ssl-force \".$user.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_forcessl = 'no';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Delete SSL HSTS\n    if (($v_ssl_hsts == 'yes') && (empty($_POST['v_ssl_hsts'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-ssl-hsts \".$user.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_hsts = 'no';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Delete web stats\n    if ((!empty($v_stats)) && ($_POST['v_stats'] == 'none') && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-stats \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_stats = '';\n    }\n\n    // Change web stats engine\n    if ((!empty($v_stats)) && ($_POST['v_stats'] != $v_stats) && (empty($_SESSION['error_msg']))) {\n        $v_stats = escapeshellarg($_POST['v_stats']);\n        exec(HESTIA_CMD.\"v-change-web-domain-stats \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_stats, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Add web stats\n    if ((empty($v_stats)) && ($_POST['v_stats'] != 'none') && (empty($_SESSION['error_msg']))) {\n        $v_stats = escapeshellarg($_POST['v_stats']);\n        exec(HESTIA_CMD.\"v-add-web-domain-stats \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_stats, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Delete web stats authorization\n    if ((!empty($v_stats_user)) && (empty($_POST['v_stats_auth'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-stats-user \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_stats_user = '';\n        $v_stats_password = '';\n    }\n\n    // Change web stats user or password\n    if ((empty($v_stats_user)) && (!empty($_POST['v_stats_auth'])) && (empty($_SESSION['error_msg']))) {\n        if (empty($_POST['v_stats_user'])) {\n            $errors[] = _('stats username');\n        }\n        if (!empty($errors[0])) {\n            foreach ($errors as $i => $error) {\n                if ($i == 0) {\n                    $error_msg = $error;\n                } else {\n                    $error_msg = $error_msg.\", \".$error;\n                }\n            }\n            $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n        } else {\n            $v_stats_user = escapeshellarg($_POST['v_stats_user']);\n            $v_stats_password = tempnam(\"/tmp\", \"vst\");\n            $fp = fopen($v_stats_password, \"w\");\n            fwrite($fp, $_POST['v_stats_password'].\"\\n\");\n            fclose($fp);\n            exec(HESTIA_CMD.\"v-add-web-domain-stats-user \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_stats_user.\" \".$v_stats_password, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unlink($v_stats_password);\n            $v_stats_password = escapeshellarg($_POST['v_stats_password']);\n        }\n    }\n\n    // Add web stats authorization\n    if ((!empty($v_stats_user)) && (!empty($_POST['v_stats_auth'])) && (empty($_SESSION['error_msg']))) {\n        if (empty($_POST['v_stats_user'])) {\n            $errors[] = _('stats user');\n        }\n        if (!empty($errors[0])) {\n            foreach ($errors as $i => $error) {\n                if ($i == 0) {\n                    $error_msg = $error;\n                } else {\n                    $error_msg = $error_msg.\", \".$error;\n                }\n            }\n            $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n        }\n        if (($v_stats_user != $_POST['v_stats_user']) || (!empty($_POST['v_stats_password'])) && (empty($_SESSION['error_msg']))) {\n            $v_stats_user = escapeshellarg($_POST['v_stats_user']);\n            $v_stats_password = tempnam(\"/tmp\", \"vst\");\n            $fp = fopen($v_stats_password, \"w\");\n            fwrite($fp, $_POST['v_stats_password'].\"\\n\");\n            fclose($fp);\n            exec(HESTIA_CMD.\"v-add-web-domain-stats-user \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_stats_user.\" \".$v_stats_password, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unlink($v_stats_password);\n            $v_stats_password = escapeshellarg($_POST['v_stats_password']);\n        }\n    }\n\n    // Update ftp account\n    if (!empty($_POST['v_ftp_user'])) {\n        $v_ftp_users_updated = array();\n        foreach ($_POST['v_ftp_user'] as $i => $v_ftp_user_data) {\n            if (empty($v_ftp_user_data['v_ftp_user'])) {\n                continue;\n            }\n\n            $v_ftp_user_data['v_ftp_user'] = preg_replace(\"/^\".$user.\"_/i\", \"\", $v_ftp_user_data['v_ftp_user']);\n            if ($v_ftp_user_data['is_new'] == 1 && !empty($_POST['v_ftp'])) {\n                if ((!empty($v_ftp_user_data['v_ftp_email'])) && (!filter_var($v_ftp_user_data['v_ftp_email'], FILTER_VALIDATE_EMAIL))) {\n                    $_SESSION['error_msg'] = _('Please enter valid email address.');\n                }\n                if (empty($v_ftp_user_data['v_ftp_user'])) {\n                    $errors[] = 'ftp user';\n                }\n                if (!empty($errors[0])) {\n                    foreach ($errors as $i => $error) {\n                        if ($i == 0) {\n                            $error_msg = $error;\n                        } else {\n                            $error_msg = $error_msg.\", \".$error;\n                        }\n                    }\n                    $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n                }\n\n                // Add ftp account\n                $v_ftp_username      = $v_ftp_user_data['v_ftp_user'];\n                $v_ftp_username_full = $user . '_' . $v_ftp_user_data['v_ftp_user'];\n                $v_ftp_user = escapeshellarg($v_ftp_username);\n                $v_ftp_path = escapeshellarg(trim($v_ftp_user_data['v_ftp_path']));\n                if (empty($_SESSION['error_msg'])) {\n                    $v_ftp_password = tempnam(\"/tmp\", \"vst\");\n                    $fp = fopen($v_ftp_password, \"w\");\n                    fwrite($fp, $v_ftp_user_data['v_ftp_password'].\"\\n\");\n                    fclose($fp);\n                    exec(HESTIA_CMD.\"v-add-web-domain-ftp \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_ftp_user.\" \".$v_ftp_password . \" \" . $v_ftp_path, $output, $return_var);\n                    check_return_code($return_var, $output);\n                    if ((!empty($v_ftp_user_data['v_ftp_email'])) && (empty($_SESSION['error_msg']))) {\n                        $to = $v_ftp_user_data['v_ftp_email'];\n                        $subject = _(\"FTP login credentials\");\n                        $hostname = exec('hostname');\n                        $from = \"noreply@\".$hostname;\n                        $from_name = _('Hestia Control Panel');\n                        $mailtext = sprintf(_('FTP_ACCOUNT_READY'), escapeshellarg($_GET['domain']), $user, $v_ftp_username, $v_ftp_user_data['v_ftp_password']);\n                        send_email($to, $subject, $mailtext, $from, $from_name);\n                        unset($v_ftp_email);\n                    }\n                    unset($output);\n                    unlink($v_ftp_password);\n                    $v_ftp_password = escapeshellarg($v_ftp_user_data['v_ftp_password']);\n                }\n\n                if ($return_var == 0) {\n                    $v_ftp_password = \"\";\n                    $v_ftp_user_data['is_new'] = 0;\n                } else {\n                    $v_ftp_user_data['is_new'] = 1;\n                }\n\n                $v_ftp_users_updated[] = array(\n                    'is_new'            => empty($_SESSION['error_msg']) ? 0 : 1,\n                    'v_ftp_user'        => $v_ftp_username_full,\n                    'v_ftp_password'    => $v_ftp_password,\n                    'v_ftp_path'        => $v_ftp_user_data['v_ftp_path'],\n                    'v_ftp_email'       => $v_ftp_user_data['v_ftp_email'],\n                    'v_ftp_pre_path'    => $v_ftp_user_prepath\n                );\n\n                continue;\n            }\n\n            // Delete FTP account\n            if ($v_ftp_user_data['delete'] == 1) {\n                $v_ftp_username = $user . '_' . $v_ftp_user_data['v_ftp_user'];\n                exec(HESTIA_CMD.\"v-delete-web-domain-ftp \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_ftp_username, $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n\n                continue;\n            }\n\n            if (!empty($_POST['v_ftp'])) {\n                if (empty($v_ftp_user_data['v_ftp_user'])) {\n                    $errors[] = _('ftp user');\n                }\n                if (!empty($errors[0])) {\n                    foreach ($errors as $i => $error) {\n                        if ($i == 0) {\n                            $error_msg = $error;\n                        } else {\n                            $error_msg = $error_msg.\", \".$error;\n                        }\n                    }\n                    $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n                }\n\n                // Change FTP account path\n                $v_ftp_username_for_emailing = $v_ftp_user_data['v_ftp_user'];\n                $v_ftp_username = $user . '_' . $v_ftp_user_data['v_ftp_user']; //preg_replace(\"/^\".$user.\"_/\", \"\", $v_ftp_user_data['v_ftp_user']);\n                $v_ftp_username = escapeshellarg($v_ftp_username);\n                $v_ftp_path = escapeshellarg(trim($v_ftp_user_data['v_ftp_path']));\n                if (escapeshellarg(trim($v_ftp_user_data['v_ftp_path_prev'])) != $v_ftp_path) {\n                    exec(HESTIA_CMD.\"v-change-web-domain-ftp-path \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_ftp_username.\" \".$v_ftp_path, $output, $return_var);\n                }\n\n                // Change FTP account password\n                if (!empty($v_ftp_user_data['v_ftp_password'])) {\n                    $v_ftp_password = tempnam(\"/tmp\", \"vst\");\n                    $fp = fopen($v_ftp_password, \"w\");\n                    fwrite($fp, $v_ftp_user_data['v_ftp_password'].\"\\n\");\n                    fclose($fp);\n                    exec(HESTIA_CMD.\"v-change-web-domain-ftp-password \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_ftp_username.\" \".$v_ftp_password, $output, $return_var);\n                    unlink($v_ftp_password);\n\n                    $to = $v_ftp_user_data['v_ftp_email'];\n                    $subject = _(\"FTP login credentials\");\n                    $hostname = exec('hostname');\n                    $from = \"noreply@\".$hostname;\n                    $from_name = _('Hestia Control Panel');\n                    $mailtext = _('FTP_ACCOUNT_READY', escapeshellarg($_GET['domain']), $user, $v_ftp_username_for_emailing, $v_ftp_user_data['v_ftp_password']);\n                    send_email($to, $subject, $mailtext, $from, $from_name);\n                    unset($v_ftp_email);\n                }\n                check_return_code($return_var, $output);\n                unset($output);\n\n                $v_ftp_users_updated[] = array(\n                    'is_new'            => 0,\n                    'v_ftp_user'        => $v_ftp_username,\n                    'v_ftp_password'    => $v_ftp_user_data['v_ftp_password'],\n                    'v_ftp_path'        => $v_ftp_user_data['v_ftp_path'],\n                    'v_ftp_email'       => $v_ftp_user_data['v_ftp_email'],\n                    'v_ftp_pre_path'    => $v_ftp_user_prepath\n                );\n            }\n        }\n    }\n    //custom docoot with check box disabled\n    if (!empty($v_custom_doc_root) && empty($_POST['v_custom_doc_root_check'])) {\n        exec(HESTIA_CMD.\"v-change-web-domain-docroot \".$v_username.\" \".escapeshellarg($v_domain).\" default\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        unset($_POST['v-custom-doc-domain'], $_POST['v-custom-doc-folder']);\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    if (!empty($_POST['v-custom-doc-domain']) && !empty($_POST['v_custom_doc_root_check']) && $v_custom_doc_root_prepath.$v_custom_doc_domain.'/public_html'.$v_custom_doc_folder != $v_custom_doc_root) {\n        if ($_POST['v-custom-doc-domain'] == $v_domain && empty($_POST['v-custom-doc-folder'])) {\n            exec(HESTIA_CMD.\"v-change-web-domain-docroot \".$v_username.\" \".escapeshellarg($v_domain).\" default\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        } else {\n            $v_custom_doc_folder = escapeshellarg(rtrim($_POST['v-custom-doc-folder'], '/'));\n            $v_custom_doc_domain = escapeshellarg($_POST['v-custom-doc-domain']);\n\n            exec(HESTIA_CMD.\"v-change-web-domain-docroot \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_custom_doc_domain.\" \".$v_custom_doc_folder .\" yes\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_custom_doc_root = 1;\n        }\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    } else {\n        unset($v_custom_doc_root);\n    }\n\n    if (!empty($v_redirect) && empty($_POST['v-redirect-checkbox'])) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-redirect \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        unset($_POST['v-redirect']);\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    if (!empty($_POST['v-redirect']) && !empty($_POST['v-redirect-checkbox'])) {\n        if (empty($v_redirect)) {\n            if ($_POST['v-redirect']  == 'custom' && empty($_POST['v-redirect-custom'])) {\n            } else {\n                if ($_POST['v-redirect']  == 'custom') {\n                    $_POST['v-redirect'] = $_POST['v-redirect-custom'];\n                }\n                exec(HESTIA_CMD.\"v-add-web-domain-redirect \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($_POST['v-redirect']).\" \".escapeshellarg($_POST['v-redirect-code']), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n                $restart_web = 'yes';\n                $restart_proxy = 'yes';\n            }\n        } else {\n            if ($_POST['v-redirect'] == 'custom') {\n                $_POST['v-redirect'] = $_POST['v-redirect-custom'];\n            }\n            if ($_POST['v-redirect'] != $v_redirect || $_POST['v-redirect-code'] != $v_redirect_code) {\n                exec(HESTIA_CMD.\"v-add-web-domain-redirect \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($_POST['v-redirect']).\" \".escapeshellarg($_POST['v-redirect-code']), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n                $restart_web = 'yes';\n                $restart_proxy = 'yes';\n            }\n        }\n    }\n    // Restart web server\n    if (!empty($restart_web) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-restart-web\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Restart proxy server\n    if ((!empty($_SESSION['PROXY_SYSTEM'])) && !empty($restart_proxy) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-restart-proxy\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Restart dns server\n    if (!empty($restart_dns) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-restart-dns\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n        header(\"Location: /edit/web/?domain=\" . $v_domain);\n        exit();\n    }\n}\n\n\n$v_ftp_users_raw = explode(':', $v_ftp_user);\n$v_ftp_users_paths_raw = explode(':', $data[$v_domain]['FTP_PATH']);\n$v_ftp_users = array();\nforeach ($v_ftp_users_raw as $v_ftp_user_index => $v_ftp_user_val) {\n    if (empty($v_ftp_user_val)) {\n        continue;\n    }\n    $v_ftp_users[] = array(\n        'is_new'            => 0,\n        'v_ftp_user'        => preg_replace(\"/^\".$user.\"_/\", \"\", $v_ftp_user_val),\n        'v_ftp_password'    => $v_ftp_password,\n        'v_ftp_path'        => (isset($v_ftp_users_paths_raw[$v_ftp_user_index]) ? $v_ftp_users_paths_raw[$v_ftp_user_index] : ''),\n        'v_ftp_email'       => $v_ftp_email,\n        'v_ftp_pre_path'    => $v_ftp_user_prepath\n    );\n}\n\nif (empty($v_ftp_users)) {\n    $v_ftp_user = null;\n    $v_ftp_users[] = array(\n        'is_new'            => 1,\n        'v_ftp_user'        => '',\n        'v_ftp_password'    => '',\n        'v_ftp_path'        => (isset($v_ftp_users_paths_raw[$v_ftp_user_index]) ? $v_ftp_users_paths_raw[$v_ftp_user_index] : ''),\n        'v_ftp_email'       => '',\n        'v_ftp_pre_path'    => $v_ftp_user_prepath\n    );\n}\n\n// set default pre path for newly created users\n$v_ftp_pre_path_new_user = $v_ftp_user_prepath;\nif (isset($v_ftp_users_updated)) {\n    $v_ftp_users = $v_ftp_users_updated;\n    if (empty($v_ftp_users_updated)) {\n        $v_ftp_user = null;\n        $v_ftp_users[] = array(\n            'is_new'            => 1,\n            'v_ftp_user'        => '',\n            'v_ftp_password'    => '',\n            'v_ftp_path'        => (isset($v_ftp_users_paths_raw[$v_ftp_user_index]) ? $v_ftp_users_paths_raw[$v_ftp_user_index] : ''),\n            'v_ftp_email'       => '',\n            'v_ftp_pre_path'    => $v_ftp_user_prepath\n        );\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_web');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nsession_start();\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\SMTP;\nuse PHPMailer\\PHPMailer\\Exception;\n\nif(!file_exists(dirname(__FILE__).'/vendor/autoload.php')){\n    trigger_error('Unable able to load required libaries. Please run v-add-sys-phpmailer in command line');\n    echo 'Unable able to load required libaries. Please run v-add-sys-phpmailer in command line';\n    exit(1);\n}\n\nrequire 'vendor/autoload.php';\n\ndefine('HESTIA_CMD', '/usr/bin/sudo /usr/local/hestia/bin/');\nif ($_SESSION['RELEASE_BRANCH'] == 'release' && $_SESSION['DEBUG_MODE'] == 'false') {\n    define('JS_LATEST_UPDATE', 'v=' . $_SESSION['VERSION']);\n} else {\n    define('JS_LATEST_UPDATE', 'r=' . time());\n}\ndefine('DEFAULT_PHP_VERSION', 'php-' . exec('php -r \"echo substr(phpversion(),0,3);\"'));\n\n// Load Hestia Config directly\nload_hestia_config();\nrequire_once(dirname(__FILE__) . '/prevent_csrf.php');\n\nfunction destroy_sessions()\n{\n    unset($_SESSION);\n    session_unset();\n    session_destroy();\n    session_start();\n}\n\n$i = 0;\n\n// Saving user IPs to the session for preventing session hijacking\n$user_combined_ip = $_SERVER['REMOTE_ADDR'];\n\nif (isset($_SERVER['HTTP_CLIENT_IP'])) {\n    $user_combined_ip .= '|' . $_SERVER['HTTP_CLIENT_IP'];\n}\nif (isset($_SERVER['HTTP_X_FORWARDED_FOR'])) {\n    $user_combined_ip .= '|' . $_SERVER['HTTP_X_FORWARDED_FOR'];\n}\nif (isset($_SERVER['HTTP_FORWARDED_FOR'])) {\n    $user_combined_ip .= '|' . $_SERVER['HTTP_FORWARDED_FOR'];\n}\nif (isset($_SERVER['HTTP_X_FORWARDED'])) {\n    $user_combined_ip .= '|' . $_SERVER['HTTP_X_FORWARDED'];\n}\nif (isset($_SERVER['HTTP_FORWARDED'])) {\n    $user_combined_ip .= '|' . $_SERVER['HTTP_FORWARDED'];\n}\nif (isset($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n    if (!empty($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n        $user_combined_ip = $_SERVER['HTTP_CF_CONNECTING_IP'];\n    }\n}\n\nif (!isset($_SESSION['user_combined_ip'])) {\n    $_SESSION['user_combined_ip'] = $user_combined_ip;\n}\n\n// Checking user to use session from the same IP he has been logged in\nif ($_SESSION['user_combined_ip'] != $user_combined_ip && $_SERVER['REMOTE_ADDR'] != '127.0.0.1') {\n    $v_user = escapeshellarg($_SESSION['user']);\n    $v_session_id = escapeshellarg($_SESSION['token']);\n    exec(HESTIA_CMD . 'v-log-user-logout ' . $v_user . ' ' . $v_session_id, $output, $return_var);\n    destroy_sessions();\n    header('Location: /login/');\n    exit;\n}\n\n\n// Check system settings\nif ((!isset($_SESSION['VERSION'])) && (!defined('NO_AUTH_REQUIRED'))) {\n    destroy_sessions();\n    header('Location: /login/');\n    exit;\n}\n\n// Check user session\nif ((!isset($_SESSION['user'])) && (!defined('NO_AUTH_REQUIRED'))) {\n    destroy_sessions();\n    header('Location: /login/');\n    exit;\n}\n\n// Generate CSRF Token\nif (isset($_SESSION['user'])) {\n    if (!isset($_SESSION['token'])) {\n        $token = bin2hex(file_get_contents('/dev/urandom', false, null, 0, 16));\n        $_SESSION['token'] = $token;\n    }\n}\n\nif (!defined('NO_AUTH_REQUIRED')) {\n    if (empty($_SESSION['LAST_ACTIVITY']) || empty($_SESSION['INACTIVE_SESSION_TIMEOUT'])) {\n        destroy_sessions();\n        header('Location: /login/');\n    } elseif ($_SESSION['INACTIVE_SESSION_TIMEOUT'] * 60 + $_SESSION['LAST_ACTIVITY'] < time()) {\n        $v_user = escapeshellarg($_SESSION['user']);\n        $v_session_id = escapeshellarg($_SESSION['token']);\n        exec(HESTIA_CMD . 'v-log-user-logout ' . $v_user . ' ' . $v_session_id, $output, $return_var);\n        destroy_sessions();\n        header('Location: /login/');\n        exit;\n    } else {\n        $_SESSION['LAST_ACTIVITY'] = time();\n    }\n}\n\nif (isset($_SESSION['user'])) {\n    $user = $_SESSION['user'];\n}\n\nif (isset($_SESSION['look']) && ($_SESSION['userContext'] === 'admin')) {\n    $user = $_SESSION['look'];\n}\n\nrequire_once(dirname(__FILE__) . '/i18n.php');\n\nfunction check_error($return_var)\n{\n    if ($return_var > 0) {\n        header('Location: /error/');\n        exit;\n    }\n}\n\nfunction check_return_code($return_var, $output)\n{\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = sprintf(_('Error code:'), $return_var);\n        }\n        $_SESSION['error_msg'] = $error;\n    }\n}\n\nfunction render_page($user, $TAB, $page)\n{\n    $__template_dir = dirname(__DIR__) . '/templates/';\n    $__pages_js_dir = dirname(__DIR__) . '/js/pages/';\n\n    // Header\n    include($__template_dir . 'header.html');\n\n    // Panel\n    top_panel(empty($_SESSION['look']) ? $_SESSION['user'] : $_SESSION['look'], $TAB);\n\n    // Extract global variables\n    // I think those variables should be passed via arguments\n    extract($GLOBALS, EXTR_SKIP);\n\n    // Policies controller\n    @include_once(dirname(__DIR__) . '/inc/policies.php');\n\n    // Body\n    include($__template_dir . 'pages/' . $page . '.html');\n\n    // Including common js files\n    @include_once(dirname(__DIR__) . '/templates/includes/end_js.html');\n    // Including page specific js file\n    if (file_exists($__pages_js_dir . $page . '.js')) {\n        echo '<script src=\"/js/pages/' . $page . '.js?' . JS_LATEST_UPDATE . '\"></script>';\n    }\n\n    // Footer\n    include($__template_dir . 'footer.html');\n}\n\n// Match $_SESSION['token'] against $_GET['token'] or $_POST['token']\n// Usage: verify_csrf($_POST) or verify_csrf($_GET); Use verify_csrf($_POST,true) to return on failure instead of redirect\nfunction verify_csrf($method, $return = false)\n{\n    if ($method['token'] !== $_SESSION['token'] || empty($method['token']) || empty($_SESSION['token'])) {\n        if ($return === true) {\n            return false;\n        } else {\n            header('Location: /login/');\n            die();\n        }\n    } else {\n        return true;\n    }\n}\n\nfunction top_panel($user, $TAB)\n{\n    global $panel;\n    $command = HESTIA_CMD . 'v-list-user ' . escapeshellarg($user) . \" 'json'\";\n    exec($command, $output, $return_var);\n    if ($return_var > 0) {\n        echo '<span style=\"font-size: 18px;\"><b>ERROR: Unable to retrieve account details.</b><br>Please <b><a href=\"/login/\">log in</a></b> again.</span>';\n        destroy_sessions();\n        header('Location: /login/');\n        exit;\n    }\n    $panel = json_decode(implode('', $output), true);\n    unset($output);\n\n    // Log out active sessions for suspended users\n    if (($panel[$user]['SUSPENDED'] === 'yes') && ($_SESSION['POLICY_USER_VIEW_SUSPENDED'] !== 'yes')) {\n        if(empty($_SESSION['look'])){\n        $_SESSION['error_msg'] = 'You have been logged out. Please log in again.';\n        destroy_sessions();\n        header('Location: /login/');\n        }\n    }\n\n    // Reset user permissions if changed while logged in\n    if (($panel[$user]['ROLE']) !== ($_SESSION['userContext']) && (!isset($_SESSION['look']))) {\n        unset($_SESSION['userContext']);\n        $_SESSION['userContext'] = $panel[$user]['ROLE'];\n    }\n\n    // Load user's selected theme and do not change it when impersonting user\n    if ((isset($panel[$user]['THEME'])) && (!isset($_SESSION['look']))) {\n        $_SESSION['userTheme'] = $panel[$user]['THEME'];\n    }\n\n    // Unset userTheme override variable if POLICY_USER_CHANGE_THEME is set to no\n    if ($_SESSION['POLICY_USER_CHANGE_THEME'] === 'no') {\n        unset($_SESSION['userTheme']);\n    }\n\n    // Set preferred sort order\n    if (!isset($_SESSION['look'])) {\n        $_SESSION['userSortOrder'] = $panel[$user]['PREF_UI_SORT'];\n    }\n\n    // Set home location URLs\n    if (($_SESSION['userContext'] === 'admin') && (!isset($_SESSION['look']))) {\n        // Display users list for administrators unless they are impersonating a user account\n        $home_url = '/list/user/';\n    } else {\n        // Set home location URL based on available package features from account\n        if ($panel[$user]['WEB_DOMAINS'] != '0') {\n            $home_url = '/list/web/';\n        } elseif ($panel[$user]['DNS_DOMAINS'] != '0') {\n            $home_url = '/list/dns/';\n        } elseif ($panel[$user]['MAIL_DOMAINS'] != '0') {\n            $home_url = '/list/mail/';\n        } elseif ($panel[$user]['DATABASES'] != '0') {\n            $home_url = '/list/db/';\n        } elseif ($panel[$user]['CRON_JOBS'] != '0') {\n            $home_url = '/list/cron/';\n        } elseif ($panel[$user]['BACKUPS'] != '0') {\n            $home_url = '/list/backups/';\n        }\n    }\n\n    include(dirname(__FILE__) . '/../templates/includes/panel.html');\n}\n\nfunction translate_date($date)\n{\n    $date = strtotime($date);\n    return strftime('%d &nbsp;', $date) . _(strftime('%b', $date)) . strftime(' &nbsp;%Y', $date);\n}\n\nfunction humanize_time($usage)\n{\n    if ($usage > 60) {\n        $usage = $usage / 60;\n        if ($usage > 24) {\n            $usage = $usage / 24;\n            $usage = number_format($usage);\n            return sprintf(ngettext('%d day', '%d days', $usage), $usage);\n        } else {\n            return sprintf(ngettext('%d hour', '%d hours', $usage), $usage);\n        }\n    } else {\n        return sprintf(ngettext('%d minute', '%d minutes', $usage), $usage);\n    }\n}\n\nfunction humanize_usage_size($usage)\n{\n    if ($usage > 1024) {\n        $usage = $usage / 1024;\n        if ($usage > 1024) {\n            $usage = $usage / 1024 ;\n            if ($usage > 1024) {\n                $usage = $usage / 1024 ;\n                $usage = number_format($usage, 2);\n            } else {\n                $usage = number_format($usage, 2);\n            }\n        } else {\n            $usage = number_format($usage, 2);\n        }\n    }\n    return $usage;\n}\n\nfunction humanize_usage_measure($usage)\n{\n    $measure = 'kb';\n    if ($usage > 1024) {\n        $usage = $usage / 1024;\n        if ($usage > 1024) {\n            $usage = $usage / 1024 ;\n            $measure = ($usage > 1024) ? 'pb' : 'tb';\n        } else {\n            $measure = 'gb';\n        }\n    } else {\n        $measure = 'mb';\n    }\n    return $measure;\n}\n\nfunction get_percentage($used, $total)\n{\n    if (!isset($total)) {\n        $total = 0;\n    }\n    if (!isset($used)) {\n        $used = 0;\n    }\n    if ($total == 0) {\n        $percent = 0;\n    } else {\n        $percent = $used / $total;\n        $percent = $percent * 100;\n        $percent = number_format($percent, 0, '', '');\n        if ($percent < 0) {\n            $percent = 0;\n        } elseif ($percent > 100) {\n            $percent = 100;\n        }\n    }\n    return $percent;\n}\n\nfunction send_email($to, $subject, $mailtext, $from, $from_name, $to_name = '')\n{\n    $mail = new PHPMailer();\n\n    if (isset($_SESSION['USE_SERVER_SMTP']) && $_SESSION['USE_SERVER_SMTP'] == \"true\") {\n        $from = $_SESSION['SERVER_SMTP_ADDR'];\n\n        $mail->IsSMTP();\n        $mail->Mailer = \"smtp\";\n        $mail->SMTPDebug  = 0;\n        $mail->SMTPAuth   = true;\n        $mail->SMTPSecure = $_SESSION['SERVER_SMTP_SECURITY'];\n        $mail->Port       = $_SESSION['SERVER_SMTP_PORT'];\n        $mail->Host       = $_SESSION['SERVER_SMTP_HOST'];\n        $mail->Username   = $_SESSION['SERVER_SMTP_USER'];\n        $mail->Password   = $_SESSION['SERVER_SMTP_PASSWD'];\n    }\n\n    $mail->IsHTML(true);\n    $mail->ClearReplyTos();\n    if (empty($to_name)) {\n        $mail->AddAddress($to);\n    } else {\n        $mail->AddAddress($to, $to_name);\n    }\n    $mail->SetFrom($from, $from_name);\n\n    $mail->CharSet = \"utf-8\";\n    $mail->Subject = $subject;\n    $content = $mailtext;\n    $content = nl2br($content);\n    $mail->MsgHTML($content);\n    $mail->Send();\n}\n\nfunction list_timezones()\n{\n    foreach (['AKST', 'AKDT', 'PST', 'PDT', 'MST', 'MDT', 'CST', 'CDT', 'EST', 'EDT', 'AST', 'ADT'] as $timezone) {\n        $tz = new DateTimeZone($timezone);\n        $timezone_offsets[$timezone] = $tz->getOffset(new DateTime());\n    }\n\n    foreach (DateTimeZone::listIdentifiers() as $timezone) {\n        $tz = new DateTimeZone($timezone);\n        $timezone_offsets[$timezone] = $tz->getOffset(new DateTime());\n    }\n\n    foreach ($timezone_offsets as $timezone => $offset) {\n        $offset_prefix = $offset < 0 ? '-' : '+';\n        $offset_formatted = gmdate('H:i', abs($offset));\n        $pretty_offset = \"UTC${offset_prefix}${offset_formatted}\";\n        $t = new DateTimeZone($timezone);\n        $c = new DateTime(null, $t);\n        $current_time = $c->format('H:i:s');\n        $timezone_list[$timezone] = \"$timezone [ $current_time ] ${pretty_offset}\";\n    }\n    return $timezone_list;\n}\n\n/**\n * A function that tells is it MySQL installed on the system, or it is MariaDB.\n *\n * Explaination:\n * $_SESSION['DB_SYSTEM'] has 'mysql' value even if MariaDB is installed, so you can't figure out is it really MySQL or it's MariaDB.\n * So, this function will make it clear.\n *\n * If MySQL is installed, function will return 'mysql' as a string.\n * If MariaDB is installed, function will return 'mariadb' as a string.\n *\n * Hint: if you want to check if PostgreSQL is installed - check value of $_SESSION['DB_SYSTEM']\n *\n * @return string\n */\nfunction is_it_mysql_or_mariadb()\n{\n    exec(HESTIA_CMD . 'v-list-sys-services json', $output, $return_var);\n    $data = json_decode(implode('', $output), true);\n    unset($output);\n    $mysqltype = 'mysql';\n    if (isset($data['mariadb'])) {\n        $mysqltype = 'mariadb';\n    }\n    return $mysqltype;\n}\n\nfunction load_hestia_config()\n{\n    // Check system configuration\n    exec(HESTIA_CMD . \"v-list-sys-config json\", $output, $return_var);\n    $data = json_decode(implode('', $output), true);\n    $sys_arr = $data['config'];\n    foreach ($sys_arr as $key => $value) {\n        $_SESSION[$key] = $value;\n    }\n}\n\n/**\n * Returns the list of all web domains from all users grouped by Backend Template used and owner\n *\n * @return array\n */\nfunction backendtpl_with_webdomains()\n{\n    exec(HESTIA_CMD . 'v-list-users json', $output, $return_var);\n    $users = json_decode(implode('', $output), true);\n    unset($output);\n\n    $backend_list=[];\n    foreach ($users as $user => $user_details) {\n        exec(HESTIA_CMD . 'v-list-web-domains '. escapeshellarg($user) . ' json', $output, $return_var);\n        $domains = json_decode(implode('', $output), true);\n        unset($output);\n        foreach ($domains as $domain => $domain_details) {\n            if (!empty($domain_details['BACKEND'])) {\n                $backend = $domain_details['BACKEND'];\n                $backend_list[$backend][$user][] = $domain;\n            }\n        }\n    }\n    return $backend_list;\n}\n/**\n * Check if password is valid\n *\n * @return int; 1 / 0\n */\nfunction validate_password($password)\n{\n    return preg_match('/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(.){8,}$/', $password);\n}\n", "<?php\ndefine('NO_AUTH_REQUIRED', true);\n// Main include\n\ninclude($_SERVER['DOCUMENT_ROOT'] . '/inc/main.php');\n\n$TAB = 'login';\n\n\nif (isset($_GET['logout'])) {\n    unset($_SESSION);\n    session_unset();\n    session_destroy();\n    header('Location: /login/');\n}\n\n/* ACTIONS FOR CURRENT USER SESSION */\nif (isset($_SESSION['user'])) {\n\n    // User impersonation\n    // Allow administrators to view and manipulate contents of other user accounts\n    if (($_SESSION['userContext'] === 'admin') && (!empty($_GET['loginas']))) {\n        // Ensure token is passed and matches before granting user impersonation access\n        if (verify_csrf($_GET)) {\n            $v_user = escapeshellarg($_GET['loginas']);\n            $v_impersonator = escapeshellarg($_SESSION['user']);\n            exec(HESTIA_CMD . \"v-list-user \".$v_user.\" json\", $output, $return_var);\n            if ($return_var == 0) {\n                $data = json_decode(implode('', $output), true);\n                reset($data);\n                $_SESSION['look'] = key($data);\n                // Log impersonation events\n                exec(HESTIA_CMD . 'v-log-action ' . $v_impersonator . \" 'Info' 'Security' 'Logged in as another user (User: $v_user)'\", $output, $return_var);\n                exec(HESTIA_CMD . \"v-log-action system 'Warning' 'Security' 'User impersonation session started (User: $v_user, Administrator: $v_impersonator)'\", $output, $return_var);\n                // Reset account details for File Manager to impersonated user\n                unset($_SESSION['_sf2_attributes']);\n                unset($_SESSION['_sf2_meta']);\n                header('Location: /login/');\n            }\n        }\n        exit;\n    }\n\n    // Set view based on account properties\n    if (empty($_GET['loginas'])) {\n        // Default view to Users list for administrator accounts\n        if (($_SESSION['userContext'] === 'admin') && (!isset($_SESSION['look']))) {\n            header('Location: /list/user/');\n            exit;\n        }\n\n        // Obtain account properties\n        $v_user = escapeshellarg($_SESSION[(($_SESSION['userContext'] === 'admin') && (isset($_SESSION['look']))) ? 'look' : 'user']);\n\n        exec(HESTIA_CMD . 'v-list-user ' . $v_user . ' json', $output, $return_var);\n        $data = json_decode(implode('', $output), true);\n        unset($output);\n\n        // Determine package features and land user at the first available page\n        if ($data[$user]['WEB_DOMAINS'] !== '0') {\n            header('Location: /list/web/');\n        } elseif ($data[$user]['DNS_DOMAINS'] !== '0') {\n            header('Location: /list/dns/');\n        } elseif ($data[$user]['MAIL_DOMAINS'] !== '0') {\n            header('Location: /list/mail/');\n        } elseif ($data[$user]['DATABASES'] !== '0') {\n            header('Location: /list/db/');\n        } elseif ($data[$user]['CRON_JOBS'] !== '0') {\n            header('Location: /list/cron/');\n        } elseif ($data[$user]['BACKUPS'] !== '0') {\n            header('Location: /list/backup/');\n        } else {\n            header('Location: /error/');\n        }\n        exit;\n    }\n\n    // Do not allow non-administrators to access account impersonation\n    if (($_SESSION['userContext'] !== 'admin') && (!empty($_GET['loginas']))) {\n        header('Location: /login/');\n        exit;\n    }\n\n    exit;\n}\n\nfunction authenticate_user($user, $password, $twofa = '')\n{\n    unset($_SESSION['login']);\n    if (verify_csrf($_POST, true)) {\n        $v_user = escapeshellarg($user);\n        $ip = $_SERVER['REMOTE_ADDR'];\n        $user_agent = $_SERVER['HTTP_USER_AGENT'];\n        if (isset($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n            if (!empty($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n                $ip = $_SERVER['HTTP_CF_CONNECTING_IP'];\n            }\n        }\n        $v_ip = escapeshellarg($ip);\n        $v_user_agent = escapeshellarg($user_agent);\n\n        // Get user's salt\n        $output = '';\n        exec(HESTIA_CMD . 'v-get-user-salt ' . $v_user . ' ' . $v_ip . ' json', $output, $return_var);\n        $pam = json_decode(implode('', $output), true);\n        if ($return_var > 0) {\n            sleep(2);\n            if($return_var == 5){\n                $error = '<a class=\"error\">' . _('Account has been suspended') . '</a>';   \n            }elseif($return_var == 1){\n                $error = '<a class=\"error\">' . _('Unsuported hash method') . '</a>';     \n            }else{\n                $error = '<a class=\"error\">' . _('Invalid username or password') . '</a>';    \n            }\n            return $error;\n        } else {\n            $salt = $pam[$user]['SALT'];\n            $method = $pam[$user]['METHOD'];\n\n            if ($method == 'md5') {\n                $hash = crypt($password, '$1$' . $salt . '$');\n            }\n            if ($method == 'sha-512') {\n                $hash = crypt($password, '$6$rounds=5000$' . $salt . '$');\n                $hash = str_replace('$rounds=5000', '', $hash);\n            }\n            if ($method == 'des') {\n                $hash = crypt($password, $salt);\n            }\n\n            // Send hash via tmp file\n            $v_hash = exec('mktemp -p /tmp');\n            $fp = fopen($v_hash, 'w');\n            fwrite($fp, $hash.\"\\n\");\n            fclose($fp);\n\n            // Check user hash\n            exec(HESTIA_CMD . 'v-check-user-hash ' . $v_user . ' ' . $v_hash . ' ' . $v_ip, $output, $return_var);\n            unset($output);\n\n            // Remove tmp file\n            unlink($v_hash);\n            // Check API answer\n            if ($return_var > 0) {\n                sleep(2);\n                $error = '<a class=\"error\">' . _('Invalid username or password') . '</a>';\n                $v_session_id = escapeshellarg($_POST['token']);\n                exec(HESTIA_CMD . 'v-log-user-login ' . $v_user . ' ' . $v_ip . ' failed ' . $v_session_id . ' ' . $v_user_agent, $output, $return_var);\n                return $error;\n            } else {\n\n                // Get user specific parameters\n                exec(HESTIA_CMD . 'v-list-user ' . $v_user . ' json', $output, $return_var);\n                $data = json_decode(implode('', $output), true);\n                unset($output);\n                if ($data[$user]['LOGIN_DISABLED'] === 'yes') {\n                    sleep(2);\n                    $error = '<a class=\"error\">' . _('Invalid username or password') . '</a>';\n                    $v_session_id = escapeshellarg($_POST['token']);\n                    exec(HESTIA_CMD . 'v-log-user-login ' . $v_user . ' ' . $v_ip . ' failed ' . $v_session_id . ' ' . $v_user_agent .' yes \"Login disabled for this user\"', $output, $return_var);\n                    return $error;\n                }\n\n                if ($data[$user]['LOGIN_USE_IPLIST'] === 'yes') {\n                    $v_login_user_allowed_ips = explode(',', $data[$user]['LOGIN_ALLOW_IPS']);\n                    $v_login_user_allowed_ips = array_map('trim', $v_login_user_allowed_ips);\n                    if (!in_array($ip, $v_login_user_allowed_ips, true)) {\n                        sleep(2);\n                        $error = '<a class=\"error\">' . _('Invalid username or password') . '</a>';\n                        $v_session_id = escapeshellarg($_POST['token']);\n                        exec(HESTIA_CMD . 'v-log-user-login ' . $v_user . ' ' . $v_ip . ' failed ' . $v_session_id . ' ' . $v_user_agent .' yes \"Ip not in allowed list\"', $output, $return_var);\n                        return $error;\n                    }\n                }\n\n                if ($data[$user]['TWOFA'] != '') {\n                    exec(HESTIA_CMD . \"v-check-user-2fa \" . $v_user . \" \" . $v_twofa, $output, $return_var);\n                    $error = \"<a class=\\\"error\\\">\" . _('Invalid or missing 2FA token') . \"</a>\";\n                    if (empty($twofa)) {\n                        $_SESSION['login']['username'] = $user;\n                        $_SESSION['login']['password'] = $password;\n                        return false;\n                    } else {\n                        $v_twofa = escapeshellarg($twofa);\n                        exec(HESTIA_CMD .'v-check-user-2fa '.$v_user.' '.$v_twofa, $output, $return_var);\n                        unset($output);\n                        if ($return_var > 0) {\n                            sleep(2);\n                            $error = '<a class=\"error\">' ._('Invalid or missing 2FA token') . '</a>';\n                            $_SESSION['login']['username'] = $user;\n                            $_SESSION['login']['password'] = $password;\n                            $v_session_id = escapeshellarg($_POST['token']);\n                            if (isset($_SESSION['failed_twofa'])) {\n                                //allow a few failed attemps before start of logging.\n                                if ($_SESSION['failed_twofa']  > 2) {\n                                    exec(HESTIA_CMD.'v-log-user-login ' . $v_user . ' ' . $v_ip . ' failed ' . $v_session_id . ' ' . $v_user_agent .' yes \"Invalid or missing 2FA token\"', $output, $return_var);\n                                }\n                                $_SESSION['failed_twofa']++;\n                            } else {\n                                $_SESSION['failed_twofa'] = 1;\n                            }\n                            unset($_POST['twofa']);\n                            return $error;\n                        }\n                    }\n                }\n\n                // Define session user\n                $_SESSION['user'] = key($data);\n                $v_user = $_SESSION['user'];\n                //log successfull login attempt\n                $v_session_id = escapeshellarg($_POST['token']);\n                exec(HESTIA_CMD.\"v-log-user-login \".$v_user.\" \".$v_ip.\" success \".$v_session_id.\" \".$v_user_agent, $output, $return_var);\n\n                $_SESSION['LAST_ACTIVITY'] = time();\n                $_SESSION['MURMUR'] = $_POST['murmur'];\n\n                // Define user role / context\n                $_SESSION['userContext'] = $data[$user]['ROLE'];\n\n                // Set active user theme on login\n                $_SESSION['userTheme'] = $data[$user]['THEME'];\n                if ($_SESSION['POLICY_USER_CHANGE_THEME'] !== 'yes') {\n                    unset($_SESSION['userTheme']);\n                }\n\n                $_SESSION['userSortOrder'] = (!empty($data[$user]['PREF_UI_SORT'])) ? $data[$user]['PREF_UI_SORT'] : 'name';\n\n                // Define language\n                $output = '';\n                exec(HESTIA_CMD . 'v-list-sys-languages json', $output, $return_var);\n                $languages = json_decode(implode('', $output), true);\n                $_SESSION['language'] = (in_array($data[$v_user]['LANGUAGE'], $languages)) ? $data[$user]['LANGUAGE'] : 'en';\n\n                // Regenerate session id to prevent session fixation\n                session_regenerate_id(true);\n\n                // Redirect request to control panel interface\n                if (!empty($_SESSION['request_uri'])) {\n                    header('Location: ' . $_SESSION['request_uri']);\n                    unset($_SESSION['request_uri']);\n                    exit;\n                } else {\n                    if ($_SESSION['userContext'] === 'admin') {\n                        header('Location: /list/user/');\n                    } else {\n                        if ($data[$user]['WEB_DOMAINS'] != '0') {\n                            header('Location: /list/web/');\n                        } elseif ($data[$user]['DNS_DOMAINS'] != '0') {\n                            header('Location: /list/dns/');\n                        } elseif ($data[$user]['MAIL_DOMAINS'] != '0') {\n                            header('Location: /list/mail/');\n                        } elseif ($data[$user]['DATABASES'] != '0') {\n                            header('Location: /list/db/');\n                        } elseif ($data[$user]['CRON_JOBS'] != '0') {\n                            header('Location: /list/cron/');\n                        } elseif ($data[$user]['BACKUPS'] != '0') {\n                            header('Location: /list/backup/');\n                        } else {\n                            header('Location: /error/');\n                        }\n                    }\n                    exit;\n                }\n            }\n        }\n    } else {\n        unset($_POST);\n        unset($_GET);\n        unset($_SESSION);\n        // Delete old session and  start a new one\n        session_write_close();\n        session_unset();\n        session_destroy();\n        session_start();\n        return false;\n    }\n}\nif (preg_match('/^[[:alnum:]][-|\\.|_[:alnum:]]{0,28}[[:alnum:]]$/', $_POST['user'])) {\n    $_SESSION['login']['username'] = $_POST['user'];\n} else {\n    $user = '';\n}\nif (!empty($_SESSION['login']['username']) && !empty($_SESSION['login']['password']) && !empty($_POST['twofa'])) {\n    $error = authenticate_user($_SESSION['login']['username'], $_SESSION['login']['password'], $_POST['twofa']);\n    unset($_POST);\n} elseif (!empty($_SESSION['login']['username']) && !empty($_POST['password'])) {\n    $error = authenticate_user($_SESSION['login']['username'], $_POST['password']);\n    unset($_POST);\n}\n// Check system configuration\nload_hestia_config();\n\n// Detect language\nif (empty($_SESSION['language'])) {\n    $output = '';\n    exec(HESTIA_CMD . 'v-list-sys-config json', $output, $return_var);\n    $config = json_decode(implode('', $output), true);\n    $lang = $config['config']['LANGUAGE'];\n\n    $output = '';\n    exec(HESTIA_CMD . 'v-list-sys-languages json', $output, $return_var);\n    $languages = json_decode(implode('', $output), true);\n    $_SESSION['language'] = (in_array($lang, $languages)) ? $lang : 'en';\n}\n\n// Generate CSRF token\n$token = bin2hex(file_get_contents('/dev/urandom', false, null, 0, 16));\n$_SESSION['token'] = $token;\n\nrequire_once('../templates/header.html');\nif (!empty($_SESSION['login']['password'])) {\n    require_once('../templates/pages/login/login_2.html');\n} elseif (empty($_SESSION['login']['username'])) {\n    require_once('../templates/pages/login/login' . (($_SESSION['LOGIN_STYLE'] != 'old') ? '' : '_a') . '.html');\n} elseif (empty($_POST['password'])) {\n    require_once('../templates/pages/login/login_1.html');\n} else {\n    require_once('../templates/pages/login/login' . (($_SESSION['LOGIN_STYLE'] != 'old') ? '' : '_a') . '.html');\n}\n", "<?php\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['job'])) {\n    $v_username = escapeshellarg($user);\n    $v_job = escapeshellarg($_GET['job']);\n    exec(HESTIA_CMD.\"v-suspend-cron-job \".$v_username.\" \".$v_job, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/cron/\");\nexit;\n", "<?php\n\n// Init\nerror_reporting(null);\nob_start();\nsession_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['database'])) {\n    $v_username = escapeshellarg($user);\n    $v_database = escapeshellarg($_GET['database']);\n    exec(HESTIA_CMD.\"v-suspend-database \".$v_username.\" \".$v_database, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/db/\");\nexit;\n", "<?php\n\n// Init\nerror_reporting(null);\nob_start();\nsession_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// DNS domain\nif ((!empty($_GET['domain'])) && (empty($_GET['record_id']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-suspend-dns-domain \".$v_username.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/\");\n    exit;\n}\n\n// DNS record\nif ((!empty($_GET['domain'])) && (!empty($_GET['record_id']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_record_id = escapeshellarg($_GET['record_id']);\n    exec(HESTIA_CMD.\"v-suspend-dns-record \".$v_username.\" \".$v_domain.\" \".$v_record_id, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/?domain=\".$_GET['domain']);\n    exit;\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/dns/\");\nexit;\n", "<?php\n\n// Init\nerror_reporting(null);\nob_start();\nsession_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Mail domain\nif ((!empty($_GET['domain'])) && (empty($_GET['account']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-suspend-mail-domain \".$v_username.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back=getenv(\"HTTP_REFERER\");\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/\");\n    exit;\n}\n\n// Mail account\nif ((!empty($_GET['domain'])) && (!empty($_GET['account']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_account = escapeshellarg($_GET['account']);\n    exec(HESTIA_CMD.\"v-suspend-mail-account \".$v_username.\" \".$v_domain.\" \".$v_account, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/?domain=\".$_GET['domain']);\n    exit;\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/mail/\");\nexit;\n", "<?php\n\nerror_reporting(null);\nob_start();\nsession_start();\n$TAB = 'USER';\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Check user\nif ($_SESSION['userContext'] != 'admin') {\n    header(\"Location: /list/user\");\n    exit;\n}\n\nif (!empty($_GET['user'])) {\n    $v_username = escapeshellarg($_GET['user']);\n    exec(HESTIA_CMD.\"v-suspend-user \".$v_username, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/user/\");\nexit;\n", "<?php\n\n// Init\nerror_reporting(null);\nob_start();\nsession_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['domain'])) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-suspend-web-domain \".$v_username.\" \".$v_domain, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/web/\");\nexit;\n", "<meta charset=\"utf-8\">\n<title><?=$_SERVER['HTTP_HOST']; ?> - <?=_($TAB)?> - <?=_('Hestia Control Panel');?></title>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/cron/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<div class=\"vst-text step-top helper-container\">\n\t\t<div id=\"tabs\" class=\"cron-helper-tabs\">\n\t\t\t<ul>\n\t\t\t\t<li><a href=\"#tabs-1\"><?=_('Minutes');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-2\"><?=_('Hourly');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-3\"><?=_('Daily');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-4\"><?=_('Weekly');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-5\"><?=_('Monthly');?></a></li>\n\t\t\t</ul>\n\t\t\t<div id=\"tabs-1\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_hour\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every minute');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every two minutes');?></option>\n\t\t\t\t\t\t\t<option value=\"*/5\"><?=_('every');?> 5</option>\n\t\t\t\t\t\t\t<option value=\"*/10\"><?=_('every');?> 10</option>\n\t\t\t\t\t\t\t<option value=\"*/15\"><?=_('every');?> 15</option>\n\t\t\t\t\t\t\t<option value=\"*/30\"><?=_('every');?> 30</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-2\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every hour');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every two hours');?></option>\n\t\t\t\t\t\t\t<option value=\"*/6\"><?=_('every');?> 6</option>\n\t\t\t\t\t\t\t<option value=\"*/12\"><?=_('every');?> 12</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-3\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_day\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every day');?></option>\n\t\t\t\t\t\t\t<option value=\"1-31/2\"><?=_('every odd day');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every even day');?></option>\n\t\t\t\t\t\t\t<option value=\"*/3\"><?=_('every');?> 3</option>\n\t\t\t\t\t\t\t<option value=\"*/5\"><?=_('every');?> 5</option>\n\t\t\t\t\t\t\t<option value=\"*/10\"><?=_('every');?> 10</option>\n\t\t\t\t\t\t\t<option value=\"*/15\"><?=_('every');?> 15</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list  short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-4\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_wday\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every day');?></option>\n\t\t\t\t\t\t\t<option value=\"1,2,3,4,5\"><?=_('weekdays (5 days)');?></option>\n\t\t\t\t\t\t\t<option value=\"0,6\"><?=_('weekend (2 days)');?></option>\n\t\t\t\t\t\t\t<option value=\"1\"><?=_('Monday');?></option>\n\t\t\t\t\t\t\t<option value=\"2\"><?=_('Tuesday');?></option>\n\t\t\t\t\t\t\t<option value=\"3\"><?=_('Wednesday');?></option>\n\t\t\t\t\t\t\t<option value=\"4\"><?=_('Thursday');?></option>\n\t\t\t\t\t\t\t<option value=\"5\"><?=_('Friday');?></option>\n\t\t\t\t\t\t\t<option value=\"6\"><?=_('Saturday');?></option>\n\t\t\t\t\t\t\t<option value=\"0\"><?=_('Sunday');?></option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-5\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_month\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every month');?></option>\n\t\t\t\t\t\t\t<option value=\"1-11/2\"><?=_('every odd month');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every even month');?></option>\n\t\t\t\t\t\t\t<option value=\"*/3\"><?=_('every');?> 3</option>\n\t\t\t\t\t\t\t<option value=\"*/6\"><?=_('every');?> 6</option>\n\t\t\t\t\t\t\t<option value=\"1\"><?=_('Jan');?></option>\n\t\t\t\t\t\t\t<option value=\"2\"><?=_('Feb');?></option>\n\t\t\t\t\t\t\t<option value=\"3\"><?=_('Mar');?></option>\n\t\t\t\t\t\t\t<option value=\"4\"><?=_('Apr');?></option>\n\t\t\t\t\t\t\t<option value=\"5\"><?=_('May');?></option>\n\t\t\t\t\t\t\t<option value=\"6\"><?=_('Jun');?></option>\n\t\t\t\t\t\t\t<option value=\"7\"><?=_('Jul');?></option>\n\t\t\t\t\t\t\t<option value=\"8\"><?=_('Aug');?></option>\n\t\t\t\t\t\t\t<option value=\"9\"><?=_('Sep');?></option>\n\t\t\t\t\t\t\t<option value=\"10\"><?=_('Oct');?></option>\n\t\t\t\t\t\t\t<option value=\"11\"><?=_('Nov');?></option>\n\t\t\t\t\t\t\t<option value=\"12\"><?=_('Dec');?></option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Date');?>:</span>\n\t\t\t\t\t\t<select name=\"h_day\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"1\" selected=\"selected\">1</option>\n\t\t\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t\t\t<option value=\"3\">3</option>\n\t\t\t\t\t\t\t<option value=\"4\">4</option>\n\t\t\t\t\t\t\t<option value=\"5\">5</option>\n\t\t\t\t\t\t\t<option value=\"6\">6</option>\n\t\t\t\t\t\t\t<option value=\"7\">7</option>\n\t\t\t\t\t\t\t<option value=\"8\">8</option>\n\t\t\t\t\t\t\t<option value=\"9\">9</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t\t<option value=\"24\">24</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"26\">26</option>\n\t\t\t\t\t\t\t<option value=\"27\">27</option>\n\t\t\t\t\t\t\t<option value=\"28\">28</option>\n\t\t\t\t\t\t\t<option value=\"29\">29</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"31\">31</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<form id=\"vstobjects\" name=\"v_add_cron\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Cron Job');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Command');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"30\" class=\"vst-input long\" name=\"v_cmd\" value=\"<?=htmlentities(trim($v_cmd, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Minute');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_min\" value=\"<?=htmlentities(trim($v_min, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Hour');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_hour\" value=\"<?=htmlentities(trim($v_hour, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Day');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_day\" value=\"<?=htmlentities(trim($v_day, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Month');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_month\" value=\"<?=htmlentities(trim($v_month, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Day of week');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_wday\" value=\"<?=htmlentities(trim($v_wday, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/db/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_db\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding database');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] !== \"true\")))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span class=\"alert alert-danger alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t\t<?=_('Avoid adding web domains on admin account');?>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (empty($_GET['accept']))) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/user/\" class=\"vst-advanced admin-warning-button\"><?=_('Add User');?></a></span>\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/db/?accept=true\" class=\"vst-advanced button danger admin-warning-button\"><?=_('Continue');?></a> </span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] === \"true\")) || ($user !== \"admin\"))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"hint\">\n\t\t\t\t\t\t\t\t\t<?=sprintf(_('Prefix %s will be automatically added to database name and database user'),'<b>'.$user.'_</b>'); ?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Database');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_database\" value=\"<?=htmlentities(trim($v_database, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Type');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_type\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($db_types as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_type)) && ( $value == $v_type )) echo ' selected';\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tprint _('Username');\n\t\t\t\t\t\t\t\t\t\techo \"&nbsp;&nbsp;&nbsp;&nbsp;<em><small>(\".sprintf(_('maximum characters length, including prefix'), 32).\")</small></em>\";\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dbuser\" value=\"<?=htmlentities(trim($v_dbuser, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\"><br />\n\t\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Send login credentials to email address') ?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input\" name=\"v_db_email\" value=\"<?=htmlentities(trim($v_db_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top vst-text\" style=\"/*padding: 32px 0 20px 0;*/\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advanced-opts');\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<table id=\"advanced-opts\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_host\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($db_hosts as $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_host)) && ( $value == $v_host )) echo ' selected';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Charset');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_charset\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=big5 <?php if ((!empty($v_charset)) && ( $v_charset == 'big5')) echo 'selected';?>>big5</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=dec8 <?php if ((!empty($v_charset)) && ( $v_charset == 'dec8')) echo 'selected';?>>dec8</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp850 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp850')) echo 'selected';?>>cp850</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=hp8 <?php if ((!empty($v_charset)) && ( $v_charset == 'hp8')) echo 'selected';?>>hp8</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=koi8r <?php if ((!empty($v_charset)) && ( $v_charset == 'koi8r')) echo 'selected';?>>koi8r</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=latin1 <?php if ((!empty($v_charset)) && ( $v_charset == 'latin1')) echo 'selected';?>>latin1</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=latin2 <?php if ((!empty($v_charset)) && ( $v_charset == 'latin2')) echo 'selected';?>>latin2</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=swe7 <?php if ((!empty($v_charset)) && ( $v_charset == 'swe7')) echo 'selected';?>>swe7</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=ascii <?php if ((!empty($v_charset)) && ( $v_charset == 'ascii')) echo 'selected';?>>ascii</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=ujis <?php if ((!empty($v_charset)) && ( $v_charset == 'ujis')) echo 'selected';?>>ujis</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=sjis <?php if ((!empty($v_charset)) && ( $v_charset == 'sjis')) echo 'selected';?>>sjis</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=hebrew <?php if ((!empty($v_charset)) && ( $v_charset == 'hebrew')) echo 'selected';?>>hebrew</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=tis620 <?php if ((!empty($v_charset)) && ( $v_charset == 'tis620')) echo 'selected';?>>tis620</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=euckr <?php if ((!empty($v_charset)) && ( $v_charset == 'euckr')) echo 'selected';?>>euckr</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=koi8u <?php if ((!empty($v_charset)) && ( $v_charset == 'koi8u')) echo 'selected';?>>koi8u</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=gb2312 <?php if ((!empty($v_charset)) && ( $v_charset == 'gb2312')) echo 'selected';?>>gb2312</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=greek <?php if ((!empty($v_charset)) && ( $v_charset == 'greek')) echo 'selected';?>>greek</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp1250 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp1250')) echo 'selected';?>>cp1250</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=gbk <?php if ((!empty($v_charset)) && ( $v_charset == 'gbk')) echo 'selected';?>>gbk</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=latin5 <?php if ((!empty($v_charset)) && ( $v_charset == 'latin5')) echo 'selected';?>>latin5</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=armscii8 <?php if ((!empty($v_charset)) && ( $v_charset == 'armscii8')) echo 'selected';?>>armscii8</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=utf8 <?php if ((!empty($v_charset)) && ( $v_charset == 'utf8')) echo 'selected';?> <?php if (empty($v_charset)) echo 'selected';?>>utf8</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=utf8mb4 <?php if ((!empty($v_charset)) && ( $v_charset == 'utf8mb4')) echo 'selected';?>>utf8mb4</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=ucs2 <?php if ((!empty($v_charset)) && ( $v_charset == 'ucs2')) echo 'selected';?>>ucs2</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp866 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp866')) echo 'selected';?>>cp866</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=keybcs2 <?php if ((!empty($v_charset)) && ( $v_charset == 'keybcs2')) echo 'selected';?>>keybcs2</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=macce <?php if ((!empty($v_charset)) && ( $v_charset == 'macce')) echo 'selected';?>>macce</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=macroman <?php if ((!empty($v_charset)) && ( $v_charset == 'macroman')) echo 'selected';?>>macroman</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp852 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp852')) echo 'selected';?>>cp852</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=latin7 <?php if ((!empty($v_charset)) && ( $v_charset == 'latin7')) echo 'selected';?>>latin7</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp1251 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp1251')) echo 'selected';?>>cp1251</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp1256 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp1256')) echo 'selected';?>>cp1256</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp1257 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp1257')) echo 'selected';?>>cp1257</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=binary <?php if ((!empty($v_charset)) && ( $v_charset == 'binary')) echo 'selected';?>>binary</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=geostd8 <?php if ((!empty($v_charset)) && ( $v_charset == 'geostd8')) echo 'selected';?>>geostd8</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp932 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp932')) echo 'selected';?>>cp932</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=eucjpms <?php if ((!empty($v_charset)) && ( $v_charset == 'eucjpms')) echo 'selected';?>>eucjpms</option>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t<?php } ?>\n\t\t</table>\n\t</form>\n</div>\n\n<script>\nGLOBAL.DB_USER_PREFIX = \"<?php echo htmlentities($user.'_');?>\";\nGLOBAL.DB_DBNAME_PREFIX = \"<?php echo htmlentities($user.'_')?>\";\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/dns/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_dns\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding DNS Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] !== \"true\")))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span class=\"alert alert-danger alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t\t<?=_('Avoid adding web domains on admin account');?>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (empty($_GET['accept']))) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/user/\" class=\"vst-advanced admin-warning-button\"><?=_('Add User');?></a></span>\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/dns/?accept=true\" class=\"vst-advanced button danger admin-warning-button\"><?=_('Continue');?></a> </span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] === \"true\")) || ($user !== \"admin\"))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('IP address');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">clear</option>\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($v_ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t$display_ip = empty($value['NAT']) ? $ip : \"{$value['NAT']}\";\n\t\t\t\t\t\t\t\t\t\t\t\techo \"<option value='{$display_ip}'>\" . htmlentities($display_ip) . \"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === 'admin') || ($_SESSION['userContext'] === 'user') && ($_SESSION['POLICY_USER_EDIT_DNS_TEMPLATES'] === 'yes')) { ?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t<?=_('Template') . \"<span class='optional'>\" . strtoupper($_SESSION['DNS_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_template\">\n\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\tforeach ($templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_template)) && ( $value == $v_template ) || ($svalue == $v_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advtable');\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"advtable\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Expiration Date');?> <span class=\"optional\">(<?=_('YYYY-MM-DD');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_exp\" value=\"<?=htmlentities(trim($v_exp, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('TTL');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ttl\" value=\"<?=htmlentities(trim($v_ttl, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Name servers');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns1\" value=\"<?=htmlentities(trim($v_ns1, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\"><?=_('delete');?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns2\" value=\"<?=htmlentities(trim($v_ns2, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\"><?=_('delete');?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns3) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns3\" value=\"'.htmlentities(trim($v_ns3, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns4) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns4\" value=\"'.htmlentities(trim($v_ns4, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns5) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns5\" value=\"'.htmlentities(trim($v_ns5, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns6) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns6\" value=\"'.htmlentities(trim($v_ns6, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns7) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns7\" value=\"'.htmlentities(trim($v_ns7, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns8) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns8\" value=\"'.htmlentities(trim($v_ns8, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"add-ns\" <?php if ($v_ns8) echo 'style=\"display:none;\"' ; ?> >\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-top-small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"add-ns-button additional-control add\"><?=_('Add one more Name Server');?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t<?php } ?>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/dns/?domain=<?=htmlentities(trim($v_domain, \"'\"))?>&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_dns_rec\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok_rec\" value=\"add\" />\n\t\t\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding DNS Record');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Record');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_rec\" value=\"<?=htmlentities(trim($v_rec, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Type');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_type\">\n\t\t\t\t\t\t\t\t\t<option value=\"A\" <?php if ($v_type == 'A') echo selected; ?>>A</option>\n\t\t\t\t\t\t\t\t\t<option value=\"AAAA\" <?php if ($v_type == 'AAAA') echo selected; ?>>AAAA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"CAA\" <?php if ($v_type == 'CAA') echo selected; ?>>CAA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"CNAME\" <?php if ($v_type == 'CNAME') echo selected; ?>>CNAME</option>\n\t\t\t\t\t\t\t\t\t<option value=\"DNSKEY\" <?php if ($v_type == 'DNSKEY') echo selected; ?>>DNSKEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"IPSECKEY\" <?php if ($v_type == 'IPSECKEY') echo selected; ?>>IPSECKEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"KEY\" <?php if ($v_type == 'KEY') echo selected; ?>>KEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"MX\" <?php if ($v_type == 'MX') echo selected; ?>>MX</option>\n\t\t\t\t\t\t\t\t\t<option value=\"NS\" <?php if ($v_type == 'NS') echo selected; ?>>NS</option>\n\t\t\t\t\t\t\t\t\t<option value=\"PTR\" <?php if ($v_type == 'PTR') echo selected; ?>>PTR</option>\n\t\t\t\t\t\t\t\t\t<option value=\"SPF\" <?php if ($v_type == 'SPF') echo selected; ?>>SPF</option>\n\t\t\t\t\t\t\t\t\t<option value=\"SRV\" <?php if ($v_type == 'SRV') echo selected; ?>>SRV</option>\n\t\t\t\t\t\t\t\t\t<option value=\"TLSA\" <?php if ($v_type == 'TLSA') echo selected; ?>>TLSA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"TXT\" <?php if ($v_type == 'TXT') echo selected; ?>>TXT</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP or Value');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">&nbsp;</option>\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($v_ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$display_ip = empty($value['NAT']) ? $ip : \"{$value['NAT']}\";\n\t\t\t\t\t\t\t\t\t\t\techo \"<option value='{$display_ip}'>\" . htmlentities($display_ip) . \"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_val\" value=\"<?=htmlentities(trim($v_val, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Priority');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_priority\" value=\"<?=htmlentities(trim($v_priority, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('TTL');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ttl\" value=\"<?=htmlentities(trim($v_ttl, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n\n<script>\n\tGLOBAL.DNS_REC_PREFIX = \"<?=htmlentities($_GET['domain']); ?>\";\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/firewall/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_ip\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Firewall Rule');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Action') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_action\">\n\t\t\t\t\t\t\t\t\t<option value=\"DROP\" <?php if ((!empty($v_action)) && ( $v_action == \"'DROP'\" )) echo 'selected'?>><?=_('DROP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"ACCEPT\" <?php if ((!empty($v_action)) && ( $v_action == \"'ACCEPT'\" )) echo 'selected'?>><?=_('ACCEPT');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Protocol') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_protocol\">\n\t\t\t\t\t\t\t\t\t<option value=\"TCP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"'TCP'\" )) echo 'selected'?>><?=_('TCP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"UDP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"'UDP'\" )) echo 'selected'?>><?=_('UDP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"ICMP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"'ICMP'\" )) echo 'selected'?>><?=_('ICMP');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Port');?> <span class=\"optional\">(<?=_('Ranges and Lists are acceptable');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_port\" value=\"<?=htmlentities(trim($v_port, \"'\"))?>\" placeholder=\"<?=_('All ports: 0, Range: 80-82, List: 80,443,8080,8443');?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP address / IPset');?> <span class=\"optional\">(<?=_('CIDR format is supported');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" id=\"quickips_list\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">&nbsp;</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Comment');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_comment\" maxlength=\"255\" value=\"<?=htmlentities(trim($v_comment, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n\n<script>\n\tvar iplists = JSON.parse('<?=$ipset_lists_json?>');\n\tiplists.sort(function (a, b) {\n\t\treturn a.name > b.name;\n\t});\n\n\t$(function () {\n\t\tvar targetelement = document.getElementById('quickips_list');\n\n\t\tvar newEl = document.createElement(\"option\");\n\t\tnewEl.text = \"IP address lists:\";\n\t\tnewEl.disabled = true;\n\t\ttargetelement.appendChild(newEl);\n\n\t\tiplists.forEach(iplist => {\n\t\t\tvar newEl = document.createElement(\"option\");\n\t\t\tnewEl.text = iplist.name;\n\t\t\tnewEl.value = \"ipset:\" + iplist.name;\n\t\t\ttargetelement.appendChild(newEl);\n\t\t});\n\t});\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/firewall/banlist/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_ip\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding IP Address to Banlist');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP address');?> <span class=\"optional\">(<?=_('CIDR format is supported');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Banlist') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_chain\">\n\t\t\t\t\t\t\t\t\t<option value=\"SSH\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'SSH'\" )) echo 'selected'?>><?=_('SSH');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"WEB\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'WEB'\" )) echo 'selected'?>><?=_('WEB');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"FTP\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'FTP'\" )) echo 'selected'?>><?=_('FTP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"DNS\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'DNS'\" )) echo 'selected'?>><?=_('DNS');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"MAIL\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'MAIL'\" )) echo 'selected'?>><?=_('MAIL');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"DB\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'DB'\" )) echo 'selected'?>><?=_('DB');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"HESTIA\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'HESTIA'\" )) echo 'selected'?>><?=_('HESTIA');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/firewall/ipset/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_ipset\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Firewall Ipset List');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Ip List Name') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ipname\" maxlength=\"255\" value=\"<?=htmlentities(trim($v_ipname, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Data Source') ?> <span class=\"optional\">(<?=_('url, script or file');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" id=\"datasource_list\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">clear</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_datasource\" maxlength=\"255\" value=\"<?=htmlentities(trim($v_datasource, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Ip Version') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_ipver\">\n\t\t\t\t\t\t\t\t\t<option value=\"v4\" <?php if ((!empty($v_ipver)) && ( $v_ipver == \"'v4'\" )) echo 'selected'?>><?=_('ip v4');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"v6\" <?php if ((!empty($v_ipver)) && ( $v_ipver == \"'v6'\" )) echo 'selected'?>><?=_('ip v6');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Autoupdate') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_autoupdate\">\n\t\t\t\t\t\t\t\t\t<option value=\"yes\" <?php if ((!empty($v_autoupdate)) && ( $v_autoupdate == \"'yes'\" )) echo 'selected'?>><?=_('yes');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"no\" <?php if ((!empty($v_autoupdate)) && ( $v_autoupdate == \"'no'\" )) echo 'selected'?>><?=_('no');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n\n<script>\n\tvar country_iplists = [\n\t\t<?php \n\t\t\t$country = array('ca' => 'Canada', 'cn' => 'China', 'fr' => 'French', 'de' => 'Germany', 'in' => 'India', 'nl' => 'Netherlands', 'ro' => 'Romania', 'ru' => 'Russia', 'es' => 'Spain', 'ch' => 'Switzerland', 'tr' => 'Turkey', 'ua' => 'Ukraine',  'uk' => 'United Kingdom', 'us' => 'United States');\n\t\t\tforeach($country as $iso =>$name){\n\t\t\t\techo '{name: \"[IPV] Country - '.$name.'\",\tsource:\"https://raw.githubusercontent.com/ipverse/rir-ip/master/country/'.$iso.'/ipv4-aggregated.txt\"},'.\"\\n\";\n\t\t\t}\n\t\t?>\n\t\t// Define IPv6 country lists\n\t\t/*\n\t\t<?php\n\t\t\tforeach($country as $iso =>$name){\n\t\t\t\techo '{name: \"[IPV] Country - '.$name.'\",\tsource:\"https://raw.githubusercontent.com/ipverse/rir-ip/master/country/'.$iso.'/ipv4-aggregated.txt\"},'.\"\\n\";\n\t\t\t}\n\t\t?>\n\t\t*/\n\t];\n\n\tvar blacklist_iplists = [\n\t\t{ name: \"[IPv4] Block Malicious IPs\", source: \"script:/usr/local/hestia/install/deb/firewall/ipset/blacklist.sh\" },\n\t\t/*\n\t\t{name: \"[IPv6] Block Malicious IPs\",       source:\"script:/usr/local/hestia/install/deb/firewall/ipset/blacklist.ipv6.sh\"},\n\t\t*/\n\t];\n\n\tcountry_iplists.sort(function (a, b) {\n\t\treturn a.name > b.name;\n\t});\n\n\tblacklist_iplists.sort(function (a, b) {\n\t\treturn a.name > b.name;\n\t});\n\n\t$(function () {\n\t\tvar targetelement = document.getElementById('datasource_list');\n\n\t\t// Blacklist\n\t\tvar newEl = document.createElement(\"option\");\n\t\tnewEl.text = \"<?=_('BLACKLIST') ?>\";\n\t\tnewEl.disabled = true;\n\t\ttargetelement.appendChild(newEl);\n\n\t\tblacklist_iplists.forEach(iplist => {\n\t\t\tvar newEl = document.createElement(\"option\");\n\t\t\tnewEl.text = iplist.name;\n\t\t\tnewEl.value = iplist.source;\n\t\t\ttargetelement.appendChild(newEl);\n\t\t});\n\n\t\t// IPVERSE\n\t\tvar newEl = document.createElement(\"option\");\n\t\tnewEl.text = \"<?=_('IPVERSE') ?>\";\n\t\tnewEl.disabled = true;\n\t\ttargetelement.appendChild(newEl);\n\n\t\tcountry_iplists.forEach(iplist => {\n\t\t\tvar newEl = document.createElement(\"option\");\n\t\t\tnewEl.text = iplist.name;\n\t\t\tnewEl.value = iplist.source;\n\t\t\ttargetelement.appendChild(newEl);\n\t\t});\n\t});\n</script>\n", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/ip/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_ip\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding IP address');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('IP address') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Netmask');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_netmask\" value=\"<?=htmlentities(trim($v_netmask, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Interface');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_interface\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($interfaces as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_interface)) && ( $value == $v_interface )) echo ' selected';\n\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_shared\" <?php if (empty($v_dedicated)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('usrtable');\"><?=_('Shared');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_dedicated)) { echo 'none';} else {echo 'block';}?> ;\" id=\"usrtable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Assigned user');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-bottom\">\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_owner\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($users as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_owner)) && ( $value == $v_owner )) echo ' selected';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Assigned domain');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_name\" value=\"<?=htmlentities(trim($v_name, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('NAT IP association');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_nat\" value=\"<?=htmlentities(trim($v_nat, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n            <?php if (($_SESSION['userContext'] === 'admin') && (isset($_GET['user'])) && ($_GET['user'] !== 'admin')) { ?>\n                <a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/key/?user=<?=htmlentities($_GET['user']);?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n            <?php } else { ?>\n                <a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/key/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n            <?php } ?>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_key\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Add SSH Key');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('SSH KEY') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput\" name=\"v_key\"><?=htmlentities(trim($v_key, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/mail/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_mail\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\t\t\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Mail Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] !== \"true\")))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span class=\"alert alert-danger alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t\t<?=_('Avoid adding web domains on admin account');?>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (empty($_GET['accept']))) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/user/\" class=\"vst-advanced admin-warning-button\"><?=_('Add User');?></a></span>\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/mail/?accept=true\" class=\"vst-advanced button danger admin-warning-button\"><?=_('Continue');?></a> </span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] === \"true\")) || ($user !== \"admin\"))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php if($_SESSION['WEBMAIL_SYSTEM']){?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t<?=_('Webmail Client');?>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_webmail\" tabindex=\"6\">\n\t\t\t\t\t\t\t\t\t\t\t<?php foreach ($webmail_clients as $client){\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($client).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\tif (( $v_webmail == $client )) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities(ucfirst($client)).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"\" <?php if (empty($v_webmail) || $v_webmail == 'disabled' ){ echo \"selected\";}?>><?=_('Disabled');?></option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTISPAM_SYSTEM'])) {?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_antispam\" <?php if ((empty($v_antispam)) || ($v_antispam == 'yes')) echo \"checked=yes\"; ?>><?=_('AntiSpam Support');?></label>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTIVIRUS_SYSTEM'])) {?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_antivirus\" <?php if ((empty($v_antivirus)) || ($v_antivirus == 'yes')) echo \"checked=yes\"; ?>><?=_('AntiVirus Support');?></label>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_dkim\" <?php if (isset($v_dkim)&&$v_dkim == 'yes') echo \"checked=yes\"; ?>><?=_('DKIM Support');?></label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_smtp_relay\" <?php if ($v_smtp_relay == 'true') echo \"checked=yes\"; ?> onclick=\"javascript:elementHideShow('smtp_relay_table');\"><?=_('SMTP Relay');?></label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_smtp_relay == 'true'){echo 'block';} else {echo 'none';} ?>;\" id=\"smtp_relay_table\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_host\" value=\"<?=htmlentities(trim($v_smtp_relay_host, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Port');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_port\" value=\"<?=htmlentities(trim($v_smtp_relay_port, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_user\" value=\"<?=htmlentities(trim($v_smtp_relay_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_pass\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/mail/?domain=<?=htmlentities(trim($v_domain, \"'\"))?>&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_mail_acc\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok_acc\" value=\"add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"440px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Mail Account');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Account');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_account\" value=\"<?=htmlentities(trim($v_account, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\"><br />\n\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advtable');\" class=\"vst-advanced\"> <?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"advtable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Quota');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_quota\" value=\"<?=htmlentities(trim($v_quota, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-quota\" /</i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Aliases');?> <span class=\"optional\">(<?=_('use local-part');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_aliases\"><?=htmlentities(trim($v_aliases, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Forward to');?> <span class=\"optional\">(<?=_('one or more email addresses');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_fwd\" id=\"v_fwd\" <?php if($v_blackhole == 'yes') echo \"disabled\";?>><?=htmlentities(trim($v_fwd, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" id=\"v_blackhole\" name=\"v_blackhole\" <?php if ($v_blackhole == 'yes') echo \"checked=yes\" ?>><?=_('Discard all mail');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr <?php if ($v_blackhole == 'yes') echo 'style=\"display:none\"'; ?> id=\"id_fwd_for\">\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" id=\"v_fwd_for\" name=\"v_fwd_only\" <?php if ($v_fwd_only == 'yes') echo \"checked=yes\" ?>><?=_('Do not store forwarded mail');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Send login credentials to email address') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input\" name=\"v_send_email\" value=\"<?=htmlentities(trim($v_send_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_credentials\" id=\"v_credentials\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"mail-infoblock-td\">\n\t\t\t\t\t<div class=\"mail-infoblock\">\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<?php $uname_arr=posix_uname(); $hostname=$uname_arr['nodename']; ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t<select id=\"mail_configuration\" class=\"vst-list flat\">\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"hostname\" domain=\"<?=$v_domain?>\"><?=_('Use domain hostname');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"starttls\"><?=_('Use STARTTLS');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"ssl\"><?=_('Use SSL / TLS');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"no_encryption\" domain=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" no_encryption=\"<?=_('No encryption');?>\"><?=_('No encryption');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('Username');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><span id=\"v_account\">example</span>@<?=htmlentities(trim($v_domain, \"'\"))?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('Password');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"v_password\">******</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP hostname');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_hostname\">mail.<?=$v_domain?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP port');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_port\">143</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP security');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_encryption\"><?=_('STARTTLS');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP auth method');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><?=_('Normal password');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP hostname');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_hostname\">mail.<?=$v_domain?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP port');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_port\">587</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP security');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_encryption\"><?=_('STARTTLS');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP auth method');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><?=_('Normal password');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php if ($_SESSION['WEBMAIL_SYSTEM']) {?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><?=_('Webmail URL');?>:</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div><a class=\"vst\" href=\"http://<?=$v_webmail_alias?>\" target=\"_blank\">http://<?=$v_webmail_alias?> <i></i></a></div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/package/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_package\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Package');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Package Name');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_package\" value=\"<?=htmlentities(trim($v_package, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Quota');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_disk_quota\" value=\"<?=htmlentities(trim($v_disk_quota, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-disk-quota\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Bandwidth');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_bandwidth\" value=\"<?=htmlentities(trim($v_bandwidth, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-bandwidth\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Backups');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backups\" value=\"<?=htmlentities(trim($v_backups, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('web-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Web');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"web-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_web_domains\" value=\"<?=htmlentities(trim($v_web_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-web-domains\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Aliases');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_web_aliases\" value=\"<?=htmlentities(trim($v_web_aliases, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-web-aliases\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Template')  . \" <span class='optional'> \" .strtoupper($_SESSION['WEB_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_web_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($web_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_web_template)) && ( $value == $v_web_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_web_template)) && ( $value == $_POST['v_web_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND'])) { echo \"\"; ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Backend Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['WEB_BACKEND']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backend_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($backend_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $v_backend_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $_POST['v_backend_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?=\"\"; }?>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['PROXY_SYSTEM'])) { echo \"\"; ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['PROXY_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_proxy_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($proxy_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $v_proxy_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $_POST['v_proxy_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?=\"\"; }?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('dns-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('DNS');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"dns-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['DNS_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_dns_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($dns_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_dns_template)) && ( $value == $v_dns_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_dns_template)) && ( $value == $_POST['v_dns_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dns_domains\" value=\"<?=htmlentities(trim($v_dns_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-dns-domain\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS records');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dns_records\" value=\"<?=htmlentities(trim($v_dns_records, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-dns-records\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if ((isset($_SESSION['DNS_SYSTEM'])) && (!empty($_SESSION['DNS_SYSTEM']))) {?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Name Servers');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns1\" value=\"<?=htmlentities(trim($v_ns1, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns2\" value=\"<?=htmlentities(trim($v_ns2, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns3) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns3\" value=\"'.htmlentities(trim($v_ns3, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns4) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns4\" value=\"'.htmlentities(trim($v_ns4, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns5) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns5\" value=\"'.htmlentities(trim($v_ns5, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns6) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns6\" value=\"'.htmlentities(trim($v_ns6, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns7) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns7\" value=\"'.htmlentities(trim($v_ns7, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns8) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns8\" value=\"'.htmlentities(trim($v_ns8, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"add-ns\" <?php if ($v_ns8) echo 'style=\"display:none;\"' ; ?> >\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-top-small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"add-ns-button additional-control add\"><?=_('Add one more Name Server');?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('mail-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Mail');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"mail-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Mail Domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mail_domains\" value=\"<?=htmlentities(trim($v_mail_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-mail-domains\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Mail Accounts');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mail_accounts\" value=\"<?=htmlentities(trim($v_mail_accounts, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-mail-accounts\"></i>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('database-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Databases');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"database-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Databases');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_databases\" value=\"<?=htmlentities(trim($v_databases, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-databases\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('system-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('System');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"system-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Cron Jobs');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_cron_jobs\" value=\"<?=htmlentities(trim($v_cron_jobs, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-cron-jobs\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSH Access');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_shell\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($shells as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_shell)) && ( $value == $v_shell)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_shell)) && ( $value == $_POST['v_shell'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/user/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_user\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding User');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_username\" value=\"<?=htmlentities(trim($v_username, \"'\"))?>\" tabindex=\"1\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text \">\n\t\t\t\t\t\t\t\t<?=_('Contact');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_name\" value=\"<?=htmlentities(trim($v_name, \"'\"))?>\" tabindex=\"2\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Email');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_email\" id='v_email' value=\"<?=htmlentities(trim($v_email, \"'\"))?>\" tabindex=\"3\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\" value=\"<?=htmlentities(trim($v_password, \"'\"))?>\" tabindex=\"4\" /><br />\n\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" onclick=\"javascript:elementHideShow('send-welcome');\" name=\"v_login_disabled\" <?php if ($data[$user]['LOGIN_DISABLED'] == \"yes\") echo \"checked=yes\" ?>><?=_('Do not allow user to log in to Control Panel');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr id=\"send-welcome\">\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_email_notice\" id='v_email_notify' value=\"\" tabindex=\"5\" /><?=_('Send welcome email');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Language');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_language\" tabindex=\"6\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($languages as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".htmlentities($key).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif (( $key == $_SESSION['LANGUAGE'] ) && (empty($v_language))){\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (isset($v_language)){\n\t\t\t\t\t\t\t\t\t\t\t\tif ( htmlentities($key) == trim($v_language,\"'\") ){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Role');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_role\" tabindex=\"7\">\n\t\t\t\t\t\t\t\t\t<option value=\"user\"><?=_('User');?>\n\t\t\t\t\t\t\t\t\t<option value=\"admin\" <?php if($v_role == \"admin\" ){ echo \"selected\"; } ?>><?=_('Administrator');?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\" name=\"v_package\">\n\t\t\t\t\t\t\t\t<?=_('Package');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_package\" tabindex=\"8\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($data as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".htmlentities($key).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_package)) && ( $key == $_POST['v_package'])){\n\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tif ( $key == 'default'){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($key).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Send login credentials to email address');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input\" name=\"v_notify\" id=\"v_notify\" value=\"<?=htmlentities(trim($v_notify, \"'\"))?>\" tabindex=\"8\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/web/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] === \"true\")) || ($user !== \"admin\"))  {?>\n\t\t\t\t<a href=\"#\" class=\"ui-button\" title=\"<?=_('Save');?>\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_web\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Add Web Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] !== \"true\")))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span class=\"alert alert-danger alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t\t<?=_('Avoid adding web domains on admin account');?>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (empty($_GET['accept']))) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/user/\" class=\"vst-advanced admin-warning-button\"><?=_('Add User');?></a></span>\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/web/?accept=true\" class=\"vst-advanced button danger admin-warning-button\"><?=_('Continue');?></a> </span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] === \"true\")) || ($user !== \"admin\")) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" id=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('IP address');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_ip\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\tforeach ($ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$display_ip = htmlentities(empty($value['NAT']) ? $ip : \"{$value['NAT']}\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t$ip_selected = (!empty($v_ip) && $ip == $_POST['v_ip']) ? 'selected' : '';\n\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"{$ip}\\\" {$ip_selected}>{$display_ip}</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"input-label\"></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php if ((isset($_SESSION['DNS_SYSTEM'])) && (!empty($_SESSION['DNS_SYSTEM']))) {?>\n\t\t\t\t\t\t\t\t<?php if($panel[$user]['DNS_DOMAINS'] != \"0\") { ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_dns\" <?php if (empty($v_dns)&&$panel[$user]['DNS_DOMAINS'] != \"0\") ?>><?=_('DNS Support');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php if ((isset($_SESSION['IMAP_SYSTEM'])) && (!empty($_SESSION['IMAP_SYSTEM']))) {?>\n\t\t\t\t\t\t\t\t<?php if($panel[$user]['MAIL_DOMAINS'] != \"0\") { ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_mail\" <?php if (empty($v_mail)&&$panel[$user]['MAIL_DOMAINS'] != \"0\") ?>><?=_('Mail Support');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<!-- OPTION DISABLED\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top vst-text\" style=\"/*padding: 32px 0 20px 0;*/\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advtable');\" class=\"vst-advanced\"><?=_('Advanced options');?>&nbsp;<i class=\"fas fa-arrow-circle-right\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t-->\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<!--\n\t\t\t\t\t\tTHE FOLLOWING SECTION OF CODE IS NO LONGER EXPOSED VIA USER INTERFACE\n\t\t\t\t\t\tBUT VALUES ARE REQUIRED FOR DOMAINS TO BE CREATED CORRECTLY UNTIL BACKEND CALLS ARE MODIFIED\n\t\t\t\t\t-->\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" style=\"display: none;\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Aliases');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_aliases\" id=\"v_aliases\"><?=htmlentities(trim($v_aliases, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Web Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['WEB_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_template\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_template)) && ( $value == $v_template ) || ($svalue == $v_template)){\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND'])) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Backend Template') . \" <span class='optional'>\" . strtoupper($_SESSION['WEB_BACKEND']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backend_template\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($backend_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $v_backend_template ) || ($svalue == $v_backend_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_backend_template)) && ($value == 'default')){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php }?>\n\t\t\t\t\t\t<?php if (!empty($_SESSION['PROXY_SYSTEM'])) { echo \"\"; ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_proxy\" <?php if ($v_proxy !== 'off') echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('proxytable');\"><?=_('Proxy Support');?></label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Proxy Template');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_proxy_template\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($proxy_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $v_proxy_template ) || ($svalue == $v_proxy_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_proxy_template)) && ($value == 'default')){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_proxy == 'off') { echo 'none';} else {echo 'block';}?>;\" id=\"proxytable\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Extensions');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_proxy_ext\"><?php if (!empty($v_proxy_ext)) { echo htmlentities(trim($v_proxy_ext, \"'\"));} else { echo 'jpeg, jpg, png, gif, bmp, ico, svg, tif, tiff, css, js, htm, html, ttf, otf, webp, woff, txt, csv, rtf, doc, docx, xls, xlsx, ppt, pptx, odf, odp, ods, odt, pdf, psd, ai, eot, eps, ps, zip, tar, tgz, gz, rar, bz2, 7z, aac, m4a, mp3, mp4, ogg, wav, wma, 3gp, avi, flv, m4v, mkv, mov, mp4, mpeg, mpg, wmv, exe, iso, dmg, swf'; }  ?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?=\"\"; }?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Web Statistics');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_stats\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($stats as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif (empty($v_stats)) $v_stats = 'none';\n\t\t\t\t\t\t\t\t\t\t\tif (( $value == $v_stats ) || ($svalue == $v_stats )){\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\techo \">\" . htmlentities(_($value)) . \"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr class=\"stats-auth\" style=\"<?php if (trim($v_stats, \"'\") == ' none') { echo 'display:none;'; } ?>\">\n\t\t\t\t\t\t\t<td class=\"step-left vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_stats_auth\" <?php if (!empty($v_stats_user)) echo \"checked=yes\" ?>\n\t\t\t\t\t\t\t\t\t\tonclick=\"javascript:elementHideShow('statstable');\"><?=_('Statistics Authorization');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_stats_user)) { echo 'none';} else {echo 'block';}?> ;\" id=\"statstable\" name=\"v-add-web-domain-stats-user\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_stats_user\" value=\"<?=htmlentities(trim($v_stats_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:WEBrandom();\" class=\"generate\"><?=_('generate');?></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_stats_password\" value=\"<?=htmlentities(trim($v_stats_password, \"'\"))?>\" id=\"v_password\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_custom_doc_root_check\" <?php if (!empty($v_custom_doc_root)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('v_custom_doc_root');\"><?=_('Custom document root');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_custom_doc_root)) { echo 'none';} else {echo 'block';}?> ;\" id=\"v_custom_doc_root\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Point to');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v-custom-doc-root_prepath\" value=\"<?=$v_custom_doc_root_prepath;?>\">\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v-custom-doc-domain\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" id=\"v-custom-doc-domain-main\"><?=htmlentities(trim($v_domain, \"'\"))?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($user_domains  as $domain) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif($domain != $v_domain ){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif($v_custom_doc_domain == $domain){\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=$domain;?>\" selected=\"selected\"><?=$domain;?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php } else{ ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=$domain;?>\"><?=$domain;?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php } } } ?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?php print( _('Directory'));?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"v-custom-doc-folder\" value=\"<?=htmlentities(trim($v_custom_doc_folder, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<small class=\"custom_docroot_hint\"></small>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top vst-text\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl\" <?php if($v_ssl == 'yes' || $v_ssl == 'on') echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('ssltable');\"><?=_('SSL Support');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_ssl)) { echo 'none';} else {echo 'block';}?>;\" id=\"ssltable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_letsencrypt\" <?php if($v_letsencrypt == 'yes' || $v_letsencrypt == 'on') echo \"checked=yes\" ?> onclick=\"App.Actions.WEB.toggle_letsencrypt(this)\"><?=_('Lets Encrypt Support');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label lets-encrypt-note step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<?= _('Your certificate will be automatically issued in 5 minutes');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl_forcessl\" <?php if($v_ssl_forcessl != 'no') echo \"checked=yes\" ?> onclick=\"App.Actions.WEB.toggle_forcessl(this)\"><?=_('Force SSL/HTTPS');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate');?>\n\t\t\t\t\t\t\t\t\t\t\t<span id=\"generate-csr\"> / <a class=\"generate\" target=\"_blank\" href=\"/generate/ssl/?domain=<?=htmlentities(trim($v_domain, \"'\")) ?>\"><?=_('Generate CSR') ?></a></span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_crt\"><?=htmlentities(trim($v_ssl_crt, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Key');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_key\"><?=htmlentities(trim($v_ssl_key, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate Authority / Intermediate');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_ca\"><?=htmlentities(trim($v_ssl_ca, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ftp\" <?php if (!empty($v_ftp) && count($v_ftp_users)) echo \"checked=yes\" ?> onclick=\"App.Actions.WEB.toggle_additional_ftp_accounts(this)\"><?=_('Additional FTP Account');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td id=\"ftp_users\">\n\t\t\t\t\t\t\t\t<?php foreach ($v_ftp_users as $i => $ftp_user): ?>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t$v_ftp_user     = $ftp_user['v_ftp_user'];\n\t\t\t\t\t\t\t\t\t$v_ftp_password = $ftp_user['v_ftp_password'];\n\t\t\t\t\t\t\t\t\t$v_ftp_path     = $ftp_user['v_ftp_path'];\n\t\t\t\t\t\t\t\t\t$v_ftp_email    = $ftp_user['v_ftp_email'];\n\t\t\t\t\t\t\t\t\t$v_ftp_pre_path = $ftp_user['v_ftp_pre_path'];\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<table <?=(!empty($v_ftp)) ? \"style='display: block'\" : \"style='display:none;'\"  ?> class=\"ftptable ftptable-nrm\" name=\"v_add_domain_ftp\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('FTP') ?> #<span class=\"ftp-user-number\"><?=$i + 1; ?></span> <a class=\"ftp-remove-user additional-control do_delete\" onCLick=\"App.Actions.WEB.remove_ftp_user(this)\">(<?=_('delete') ?>)</a>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-deleted\" name=\"v_ftp_user[<?=$i ?>][delete]\" value=\"0\" />\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-is-new\" name=\"v_ftp_user[<?=$i ?>][is_new]\" value=\"<?=htmlentities($ftp_user['is_new']) ?>\" />\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?><br>\n\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size: 10pt; color:#777;\"><?=sprintf(_('Prefix %s will be added to username automatically'),$user.\"_\");?></span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input v-ftp-user\" <?=$ftp_user['is_new'] != 1 ? 'disabled=\"disabled\"' : '' ?> name=\"v_ftp_user[<?=$i ?>][v_ftp_user]\" value=\"<?=htmlentities(trim($v_ftp_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left  input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:void(0);\" onClick=\"FTPrandom(this)\" ; class=\"generate\"><?=_('generate');?></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-user-psw password\" name=\"v_ftp_user[<?=$i ?>][v_ftp_password]\" value=\"<?=htmlentities(trim($v_ftp_password, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Path');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"vst-input v-ftp-pre-path\" name=\"v_ftp_pre_path\" value=\"<?=!empty($v_ftp_pre_path) ? htmlentities(trim($v_ftp_pre_path, \"'\")) : '/'; ?>\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-path\" name=\"v_ftp_user[<?=$i ?>][v_ftp_path]\" value=\".htmlentities(trim($v_ftp_path, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<br /><span class=\"ftp-path-prefix\"><?=htmlentities(trim($v_ftp_pre_path, \"'\"))?></span><span class=\"ftp-path-value v-ftp-path-hint\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t <?=_('Send FTP credentials to email');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\"  class=\"vst-input\" name=\"v_ftp_user[<?=$i ?>][v_ftp_email]\" value=\"<?=htmlentities(trim($v_ftp_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top v-add-new-user step-bottom\"  style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<a class=\"additional-control\" onClick=\"App.Actions.WEB.add_ftp_user_form()\"><?=_('Add one more FTP Account');?></a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n\n\t<div id=\"templates\" class=\"hidden\">\n\t\t\t<table class=\"ftptable ftptable-nrm\" name=\"v_add_domain_ftp\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t<?=_('FTP') ?> #<span class=\"ftp-user-number\"></span> <a class=\"ftp-remove-user additional-control do_delete\" onCLick=\"App.Actions.WEB.remove_ftp_user(this)\">(<?=_('delete');?>)</a>\n\t\t\t\t\t\t<input type=\"hidden\"  class=\"v-ftp-user-deleted\" name=\"v_ftp_user[%INDEX%][delete]\" value=\"0\" />\n\t\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-is-new\" name=\"v_ftp_user[%INDEX%][is_new]\" value=\"1\" />\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t<?=_('Username');?><br>\n\t\t\t\t\t\t<span style=\"font-size: 10pt; color:#777;\"><?=sprintf(_('Prefix %s will be added to username automatically'),$user.\"_\");?></span>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input v-ftp-user\" name=\"v_ftp_user[%INDEX%][v_ftp_user]\" value=\"\">\n\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"vst-text step-left  input-label\">\n\t\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:void(0);\" onClick=\"FTPrandom(this)\"; class=\"generate\" ><?=_('generate');?></a>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-user-psw password\" name=\"v_ftp_user[%INDEX%][v_ftp_password]\" value=\"\">\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t <?=_('Path');?>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t<input type=\"hidden\" class=\"vst-input v-ftp-pre-path\" name=\"v_ftp_pre_path\" value=\"\">\n\t\t\t\t\t\t<input type=\"text\"  class=\"vst-input v-ftp-path\" name=\"v_ftp_user[%INDEX%][v_ftp_path]\" value=\"\">\n\t\t\t\t\t\t<br /><span class=\"ftp-path-prefix\"><?=htmlentities(trim($v_ftp_pre_path_new_user, \"'\")) ?></span><span class=\"ftp-path-value v-ftp-path-hint\"></span>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t <?=_('Send FTP credentials to email');?>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t<input type=\"text\" class=\"vst-input\" name=\"v_ftp_user[%INDEX%][v_ftp_email]\" value=\"\">\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t</table>\n\t\t</div>\n\t  </div>\n\n\t<script>\n\t\tGLOBAL.FTP_USER_PREFIX = \"<?=htmlentities($user.'_');?>\";\n\t\tGLOBAL.FTP_USER_PREPATH = \"<?=htmlentities($v_ftp_user_prepath);?>\";\n\t</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/backup/exclusions/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center edit animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_backup_exclusions\" method=\"post\" class=\"<?=_($v_status)?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Backup Exclusions');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Web Domains');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput\" name=\"v_web\" placeholder=\"<?=_('WEB_EXCLUSIONS') ?>\"><?=htmlentities(trim($v_web, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Mail Domains');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput\" name=\"v_mail\" placeholder=\"<?=_('MAIL_EXCLUSIONS') ?>\"><?=htmlentities(trim($v_mail, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Databases');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput\" name=\"v_db\" placeholder=\"<?=_('DB_EXCLUSIONS') ?>\"><?=htmlentities(trim($v_db, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('User Directories');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput\" name=\"v_userdir\" placeholder=\"<?=_('USER_EXCLUSIONS') ?>\"><?=htmlentities(trim($v_userdir, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/cron/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<div class=\"vst-text step-top helper-container\">\n\t\t<div id=\"tabs\" class=\"cron-helper-tabs\">\n\t\t\t<ul>\n\t\t\t\t<li><a href=\"#tabs-1\"><?=_('Minutes');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-2\"><?=_('Hourly');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-3\"><?=_('Daily');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-4\"><?=_('Weekly');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-5\"><?=_('Monthly');?></a></li>\n\t\t\t</ul>\n\t\t\t<div id=\"tabs-1\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_hour\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every minute');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every two minutes');?></option>\n\t\t\t\t\t\t\t<option value=\"*/5\"><?=_('every');?> 5</option>\n\t\t\t\t\t\t\t<option value=\"*/10\"><?=_('every');?> 10</option>\n\t\t\t\t\t\t\t<option value=\"*/15\"><?=_('every');?> 15</option>\n\t\t\t\t\t\t\t<option value=\"*/30\"><?=_('every');?> 30</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-2\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every hour');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every two hours');?></option>\n\t\t\t\t\t\t\t<option value=\"*/6\"><?=_('every');?> 6</option>\n\t\t\t\t\t\t\t<option value=\"*/12\"><?=_('every');?> 12</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-3\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_day\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every day');?></option>\n\t\t\t\t\t\t\t<option value=\"1-31/2\"><?=_('every odd day');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every even day');?></option>\n\t\t\t\t\t\t\t<option value=\"*/3\"><?=_('every');?> 3</option>\n\t\t\t\t\t\t\t<option value=\"*/5\"><?=_('every');?> 5</option>\n\t\t\t\t\t\t\t<option value=\"*/10\"><?=_('every');?> 10</option>\n\t\t\t\t\t\t\t<option value=\"*/15\"><?=_('every');?> 15</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list  short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-4\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_wday\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every day');?></option>\n\t\t\t\t\t\t\t<option value=\"1,2,3,4,5\"><?=_('weekdays (5 days)');?></option>\n\t\t\t\t\t\t\t<option value=\"0,6\"><?=_('weekend (2 days)');?></option>\n\t\t\t\t\t\t\t<option value=\"1\"><?=_('Monday');?></option>\n\t\t\t\t\t\t\t<option value=\"2\"><?=_('Tuesday');?></option>\n\t\t\t\t\t\t\t<option value=\"3\"><?=_('Wednesday');?></option>\n\t\t\t\t\t\t\t<option value=\"4\"><?=_('Thursday');?></option>\n\t\t\t\t\t\t\t<option value=\"5\"><?=_('Friday');?></option>\n\t\t\t\t\t\t\t<option value=\"6\"><?=_('Saturday');?></option>\n\t\t\t\t\t\t\t<option value=\"0\"><?=_('Sunday');?></option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-5\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_month\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every month');?></option>\n\t\t\t\t\t\t\t<option value=\"1-11/2\"><?=_('every odd month');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every even month');?></option>\n\t\t\t\t\t\t\t<option value=\"*/3\"><?=_('every');?> 3</option>\n\t\t\t\t\t\t\t<option value=\"*/6\"><?=_('every');?> 6</option>\n\t\t\t\t\t\t\t<option value=\"1\"><?=_('Jan');?></option>\n\t\t\t\t\t\t\t<option value=\"2\"><?=_('Feb');?></option>\n\t\t\t\t\t\t\t<option value=\"3\"><?=_('Mar');?></option>\n\t\t\t\t\t\t\t<option value=\"4\"><?=_('Apr');?></option>\n\t\t\t\t\t\t\t<option value=\"5\"><?=_('May');?></option>\n\t\t\t\t\t\t\t<option value=\"6\"><?=_('Jun');?></option>\n\t\t\t\t\t\t\t<option value=\"7\"><?=_('Jul');?></option>\n\t\t\t\t\t\t\t<option value=\"8\"><?=_('Aug');?></option>\n\t\t\t\t\t\t\t<option value=\"9\"><?=_('Sep');?></option>\n\t\t\t\t\t\t\t<option value=\"10\"><?=_('Oct');?></option>\n\t\t\t\t\t\t\t<option value=\"11\"><?=_('Nov');?></option>\n\t\t\t\t\t\t\t<option value=\"12\"><?=_('Dec');?></option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Date');?>:</span>\n\t\t\t\t\t\t<select name=\"h_day\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"1\" selected=\"selected\">1</option>\n\t\t\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t\t\t<option value=\"3\">3</option>\n\t\t\t\t\t\t\t<option value=\"4\">4</option>\n\t\t\t\t\t\t\t<option value=\"5\">5</option>\n\t\t\t\t\t\t\t<option value=\"6\">6</option>\n\t\t\t\t\t\t\t<option value=\"7\">7</option>\n\t\t\t\t\t\t\t<option value=\"8\">8</option>\n\t\t\t\t\t\t\t<option value=\"9\">9</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t\t<option value=\"24\">24</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"26\">26</option>\n\t\t\t\t\t\t\t<option value=\"27\">27</option>\n\t\t\t\t\t\t\t<option value=\"28\">28</option>\n\t\t\t\t\t\t\t<option value=\"29\">29</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"31\">31</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<form id=\"vstobjects\" name=\"v_edit_cron\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Cron Job');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Command');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input long\" name=\"v_cmd\" value=\"<?=htmlentities(trim($v_cmd, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Minute');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_min\" value=\"<?=htmlentities(trim($v_min, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Hour');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_hour\" value=\"<?=htmlentities(trim($v_hour, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Day');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_day\" value=\"<?=htmlentities(trim($v_day, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Month');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_month\" value=\"<?=htmlentities(trim($v_month, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Day of week');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_wday\" value=\"<?=htmlentities(trim($v_wday, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/db/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_db\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Database');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Database');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_database\" value=\"<?=htmlentities(trim($v_database, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tprint _('Username');\n\t\t\t\t\t\t\t\t\techo \"&nbsp;&nbsp;&nbsp;&nbsp;<em><small>(\".sprintf(_('maximum characters length, including prefix'), 32).\")</small></em>\";\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dbuser\" value=\"<?=htmlentities(trim($v_dbuser, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\" value=\"<?=htmlentities(trim($v_password, \"'\"))?>\"><br />\n\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Type');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_type\" value=\"<?=htmlentities(trim($v_type, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_host\" value=\"<?=htmlentities(trim($v_host, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Charset');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_charset\" value=\"<?=htmlentities(trim($v_charset, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n<?php if ($v_type == 'pgsql'){ $user=strtolower($user); } ?>\n<script>\n    GLOBAL.DB_USER_PREFIX = \"<?php echo htmlentities($user.'_');?>\";\n    GLOBAL.DB_DBNAME_PREFIX = \"<?php echo htmlentities($user.'_')?>\";\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/dns/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_dns\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing DNS Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP Address');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">clear</option>\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($v_ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$display_ip = empty($value['NAT']) ? $ip : \"{$value['NAT']}\";\n\t\t\t\t\t\t\t\t\t\t\t$ip_selected = ((!empty($v_ip) && ($v_ip==$ip||$v_ip==$display_ip) ))? 'selected' : '';\n\t\t\t\t\t\t\t\t\t\t\techo \"<option value='{$display_ip}' {$ip_selected}>\" . htmlentities($display_ip) . \"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === 'admin') || ($_SESSION['userContext'] === 'user') && ($_SESSION['POLICY_USER_EDIT_DNS_TEMPLATES'] === 'yes')) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Template') . \"<span class='optional'>\" . strtoupper($_SESSION['DNS_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_template\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_template)) && ( $value == $v_template ) || ($svalue == $v_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Expiration Date');?><span class=\"optional\">(<?=_('YYYY-MM-DD');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_exp\" value=\"<?=htmlentities(trim($v_exp, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('SOA');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_soa\" value=\"<?=htmlentities(trim($v_soa, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('TTL');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ttl\" value=\"<?=htmlentities(trim($v_ttl, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/dns/?domain=<?=htmlentities(trim($v_domain, \"'\"))?>&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_dns_rec\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing DNS Record');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Record');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_rec\" value=\"<?=htmlentities(trim($v_rec, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_record_id\" value=\"<?=htmlentities($v_record_id)?>\">\n\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Type');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_type\">\n\t\t\t\t\t\t\t\t\t<option value=\"A\" <?php if ($v_type == 'A') echo selected; ?>>A</option>\n\t\t\t\t\t\t\t\t\t<option value=\"AAAA\" <?php if ($v_type == 'AAAA') echo selected; ?>>AAAA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"CAA\" <?php if ($v_type == 'CAA') echo selected; ?>>CAA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"CNAME\" <?php if ($v_type == 'CNAME') echo selected; ?>>CNAME</option>\n\t\t\t\t\t\t\t\t\t<option value=\"DNSKEY\" <?php if ($v_type == 'DNSKEY') echo selected; ?>>DNSKEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"IPSECKEY\" <?php if ($v_type == 'IPSECKEY') echo selected; ?>>IPSECKEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"KEY\" <?php if ($v_type == 'KEY') echo selected; ?>>KEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"MX\" <?php if ($v_type == 'MX') echo selected; ?>>MX</option>\n\t\t\t\t\t\t\t\t\t<option value=\"NS\" <?php if ($v_type == 'NS') echo selected; ?>>NS</option>\n\t\t\t\t\t\t\t\t\t<option value=\"PTR\" <?php if ($v_type == 'PTR') echo selected; ?>>PTR</option>\n\t\t\t\t\t\t\t\t\t<option value=\"SPF\" <?php if ($v_type == 'SPF') echo selected; ?>>SPF</option>\n\t\t\t\t\t\t\t\t\t<option value=\"SRV\" <?php if ($v_type == 'SRV') echo selected; ?>>SRV</option>\n\t\t\t\t\t\t\t\t\t<option value=\"TLSA\" <?php if ($v_type == 'TLSA') echo selected; ?>>TLSA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"TXT\" <?php if ($v_type == 'TXT') echo selected; ?>>TXT</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP or Value');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">clear</option>\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($v_ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$display_ip = empty($value['NAT']) ? $ip : \"{$value['NAT']}\";\n\t\t\t\t\t\t\t\t\t\t\techo \"<option value='{$display_ip}'>\" . htmlentities($display_ip) . \"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_val\" value=\"<?=htmlentities(trim($v_val, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Priority');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_priority\" value=\"<?=htmlentities(trim($v_priority, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('TTL');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ttl\" value=\"<?=htmlentities(trim($v_ttl, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" size=\"20\" class=\"vst-input\" name=\"v_record_id\" value=\"<?=htmlentities(trim($v_record_id, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n<script>\n\tGLOBAL.DNS_REC_PREFIX = \"<?=htmlentities($_GET['domain']); ?>\";\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/firewall/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_firewall\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Firewall Rule');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Action'); ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_action\">\n\t\t\t\t\t\t\t\t\t<option value=\"DROP\" <?php if ((!empty($v_action)) && ( $v_action == \"DROP\" )) echo 'selected'?>><?=_('DROP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"ACCEPT\" <?php if ((!empty($v_action)) && ( $v_action == \"ACCEPT\" )) echo 'selected'?>><?=_('ACCEPT');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Protocol') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_protocol\">\n\t\t\t\t\t\t\t\t\t<option value=\"TCP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"TCP\" )) echo 'selected'?>><?=_('TCP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"UDP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"UDP\" )) echo 'selected'?>><?=_('UDP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"ICMP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"ICMP\" )) echo 'selected'?>><?=_('ICMP');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Port');?> <span class=\"optional\">(<?=_('Ranges and Lists are acceptable');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_port\" value=\"<?=htmlentities(trim($v_port, \"'\"))?>\" placeholder=\"<?=_('All ports: 0, Range: 80-82, List: 80,443,8080,8443');?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP address / IPset');?> <span class=\"optional\">(<?=_('CIDR format is supported');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" id=\"quickips_list\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">&nbsp;</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Comment');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_comment\" maxlength=\"255\" value=\"<?=htmlentities(trim($v_comment, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n\n<script>\n\tvar iplists = JSON.parse('<?=$ipset_lists_json?>');\n\tiplists.sort(function (a, b) {\n\t\treturn a.name > b.name;\n\t});\n\n\t$(function () {\n\t\tvar targetelement = document.getElementById('quickips_list');\n\n\t\tvar newEl = document.createElement(\"option\");\n\t\tnewEl.text = \"IP address lists:\";\n\t\tnewEl.disabled = true;\n\t\ttargetelement.appendChild(newEl);\n\n\t\tiplists.forEach(iplist => {\n\t\t\tvar newEl = document.createElement(\"option\");\n\t\t\tnewEl.text = iplist.name;\n\t\t\tnewEl.value = \"ipset:\" + iplist.name;\n\t\t\ttargetelement.appendChild(newEl);\n\t\t});\n\t});\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/ip/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_ip\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing IP Address');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('IP address'); ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Netmask');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_netmask\" value=\"<?=htmlentities(trim($v_netmask, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Interface'); ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_netmask\" value=\"<?=htmlentities(trim($v_interface, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_shared\" <?php if (empty($v_dedicated)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('usrtable');\"><?=_('Shared');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_dedicated)) { echo 'none';} else {echo 'block';}?> ;\" id=\"usrtable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Assigned user');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-bottom\">\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_owner\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($users as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_owner)) && ( $value == $v_owner )) echo ' selected';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Assigned domain');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_name\" value=\"<?=htmlentities(trim($v_name, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('NAT IP association');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_nat\" value=\"<?=htmlentities(trim($v_nat, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/mail/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_mail\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Mail Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if($_SESSION['WEBMAIL_SYSTEM']){?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Webmail Client');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_webmail\" tabindex=\"6\">\n\t\t\t\t\t\t\t\t\t<?php foreach ($webmail_clients as $client){\n\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($client).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\tif (( htmlentities(trim($v_webmail,\"'\")) == $client )) {\n\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities(ucfirst($client)).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t<option value=\"disabled\" <?php if (htmlentities(trim($v_webmail,\"'\")) == 'disabled') { echo \"selected\";}?>><?=_('Disabled');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Catchall email');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_catchall\" value=\"<?=htmlentities(trim($v_catchall, \"'\"))?>\"> <?php /*'*/ ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTISPAM_SYSTEM'])) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_antispam\" <?php if ($v_antispam == 'yes') echo \"checked=yes\"; ?>><?=_('AntiSpam Support');?></label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTIVIRUS_SYSTEM'])) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_antivirus\" <?php if ($v_antivirus == 'yes') echo \"checked=yes\"; ?>><?=_('AntiVirus Support');?></label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_dkim\" <?php if ($v_dkim == 'yes') echo \"checked=yes\"; ?>><?=_('DKIM Support');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl\" <?php if ($v_ssl == 'yes') echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('ssltable');\"><?=_('SSL Support');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr id=\"ssltable\" style=\"display:<?php if ($v_ssl == 'no' ) { echo 'none';} else {echo 'block';}?> ;\" class=\"step-left\">\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_letsencrypt\" onclick=\"javascript:elementHideShow('ssl-details');App.Actions.MAIL.toggle_letsencrypt(this);\" <?php if($v_letsencrypt == 'yes' || $v_letencrypt == 'on') echo \"checked=yes\" ?>\"><?=_('Lets Encrypt Support');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr id=\"le-warning\" class=\"step-top\">\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"alert alert-info alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_(\"To enable Let's Encrypt SSL, ensure that DNS records exist for mail.$v_domain and $v_webmail_alias!\")?><br />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"ssl-details\" style=\"<?php if ($v_letsencrypt == 'yes' || $v_letsencrypt == 'on') { echo 'display: none;'; } ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span id=\"generate-csr\"> / <a class=\"generate\" target=\"_blank\" href=\"/generate/ssl/?domain=<?=$v_domain?>\"><?=_('Generate CSR');?></a></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" <?php if ($v_letsencrypt == 'yes') echo 'disabled' ?> name=\"v_ssl_crt\"><?=htmlentities(trim($v_ssl_crt, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Key');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" <?php if ($v_letsencrypt == 'yes') echo 'disabled' ?> name=\"v_ssl_key\"><?=htmlentities(trim($v_ssl_key, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate Authority / Intermediate');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" <?php if ($v_letsencrypt == 'yes') echo 'disabled' ?> name=\"v_ssl_ca\"><?=htmlentities(trim($v_ssl_ca, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t<?php if ($v_ssl != 'no' ) { ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table class=\"additional-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SUBJECT');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_subject?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php if ($v_ssl_aliases){?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('Aliases');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_aliases?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_BEFORE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_not_before?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_AFTER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_not_after?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SIGNATURE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_signature?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('PUB_KEY');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_pub_key?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('ISSUER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_issuer?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<? } // if ssl is enabled ?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_smtp_relay\" <?php if ($v_smtp_relay == 'true') echo \"checked=yes\"; ?> onclick=\"javascript:elementHideShow('smtp_relay_table');\"><?=_('SMTP Relay');?>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_smtp_relay == 'true') {echo 'block';} else {echo 'none';} ?>;\" id=\"smtp_relay_table\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_host\" value=\"<?=htmlentities(trim($v_smtp_relay_host, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Port');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_port\" value=\"<?=htmlentities(trim($v_smtp_relay_port, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_user\" value=\"<?=htmlentities(trim($v_smtp_relay_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_pass\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/mail/?domain=<?=htmlentities(trim($v_domain, \"'\"))?>&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_mail_acc\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"420px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Mail Account');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top input-label\">\n\t\t\t\t\t\t\t\t<?=_('Account');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_email\" value=\"<?=htmlentities($_GET['account']).\"@\".htmlentities($_GET['domain'])?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_account\" value=\"<?=htmlentities(trim($v_account, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\" value=\"<?=htmlentities(trim($v_password, \"'\"))?>\"><br />\n\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Send login credentials to email address') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input\" name=\"v_send_email\" value=\"<?=htmlentities(trim($v_send_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_credentials\" id=\"v_credentials\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t<?=_('Quota');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_quota\" value=\"<?php if (!empty($v_quota)) {echo htmlentities(trim($v_quota, \"'\"));} else { echo \"0\"; } ?>\">\n\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-quota\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t<?=_('Aliases');?> <span class=\"optional\">(<?=_('use local-part');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_aliases\"><?=htmlentities(trim($v_aliases, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" onclick=\"javascript:elementHideShow(' v-fwd-opt');\" id=\"v_blackhole\" name=\"v_blackhole\" <?php if ($v_blackhole == 'yes') echo \"checked=yes\" ?>><?=_('Discard all mail');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr <?php if ($v_blackhole == 'yes') echo 'style=\"display:none\"'; ?> id=\"id_fwd_for\">\n\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" id=\"v_fwd_for\" name=\"v_fwd_only\" <?php if ($v_fwd_only == 'yes') echo \"checked=yes\" ?>><?=_('Do not store forwarded mail');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_autoreply\" <?php if ($v_autoreply == 'yes') echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('autoreplytable');\"><?=_('Autoreply');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_autoreply == 'yes') { echo 'block';} else {echo 'none';}?> ;\" id=\"autoreplytable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Message');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_autoreply_message\"><?=htmlentities(trim($v_autoreply_message, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"v-fwd-opt\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Forward to');?> <span class=\"optional\">(<?=_('one or more email addresses');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_fwd\" id=\"v_fwd\" <?php if($v_blackhole == 'yes') echo \"disabled\";?>><?=htmlentities(trim($v_fwd, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"mail-infoblock-td\">\n\t\t\t\t\t<div class=\"mail-infoblock\">\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<?php $uname_arr=posix_uname(); $hostname=$uname_arr['nodename']; ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t<select id=\"mail_configuration\" class=\"vst-list flat\">\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"hostname\" domain=\"<?='mail.'.$v_domain?>\"><?=_('Use domain hostname');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"starttls\"><?=_('Use STARTTLS');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"ssl\"><?=_('Use SSL / TLS');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"no_encryption\" domain=\"<?=htmlentities(trim('mail.'.$v_domain, \"'\"))?>\" no_encryption=\"<?=_('No encryption');?>\"><?=_('No encryption');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('Username');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><span id=\"v_account\">example</span>@<?=htmlentities(trim($v_domain, \"'\"))?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('Password');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"v_password\">******</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP hostname');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_hostname\">mail.<?=$v_domain?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP port');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_port\">143</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP security');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_encryption\"><?=_('STARTTLS');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP auth method');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><?=_('Normal password');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP hostname');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_hostname\">mail.<?=$v_domain?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP port');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_port\">587</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP security');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_encryption\"><?=_('STARTTLS');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP auth method');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><?=_('Normal password');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php if ($_SESSION['WEBMAIL_SYSTEM']) { ?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><?=_('Webmail URL');?>:</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div><a class=\"vst\" href=\"http://<?=$v_webmail_alias?>\" target=\"_blank\">http://<?=$v_webmail_alias?> <i></i></a></div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/package/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_package\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Package');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Package Name');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_package_new\" value=\"<?=htmlentities(trim($v_package_new, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_package\" value=\"<?=htmlentities(trim($v_package, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Quota');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_disk_quota\" value=\"<?=htmlentities(trim($v_disk_quota, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-disk-quota\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Bandwidth');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_bandwidth\" value=\"<?=htmlentities(trim($v_bandwidth, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-bandwidth\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Backups');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backups\" value=\"<?=htmlentities(trim($v_backups, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('web-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Web');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"web-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_web_domains\" value=\"<?=htmlentities(trim($v_web_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-web-domains\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Aliases');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_web_aliases\" value=\"<?=htmlentities(trim($v_web_aliases, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-web-aliases\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Template')  . \" <span class='optional'> \" .strtoupper($_SESSION['WEB_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_web_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($web_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_web_template)) && ( $value == $v_web_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_web_template)) && ( $value == $_POST['v_web_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND'])) { echo \"\"; ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Backend Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['WEB_BACKEND']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backend_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($backend_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $v_backend_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $_POST['v_backend_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?=\"\"; }?>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['PROXY_SYSTEM'])) { echo \"\"; ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['PROXY_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_proxy_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($proxy_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $v_proxy_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $_POST['v_proxy_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?=\"\"; }?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('dns-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('DNS');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"dns-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['DNS_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_dns_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($dns_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_dns_template)) && ( $value == $v_dns_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_dns_template)) && ( $value == $_POST['v_dns_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dns_domains\" value=\"<?=htmlentities(trim($v_dns_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-dns-domain\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS records');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dns_records\" value=\"<?=htmlentities(trim($v_dns_records, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-dns-records\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if ((isset($_SESSION['DNS_SYSTEM'])) && (!empty($_SESSION['DNS_SYSTEM']))) {?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Name Servers');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns1\" value=\"<?=htmlentities(trim($v_ns1, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns2\" value=\"<?=htmlentities(trim($v_ns2, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php \n\t\t\t\t\t\t\t\t\t\t\tif($v_ns3) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns3\" value=\"'.htmlentities(trim($v_ns3, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns4) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns4\" value=\"'.htmlentities(trim($v_ns4, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns5) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns5\" value=\"'.htmlentities(trim($v_ns5, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns6) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns6\" value=\"'.htmlentities(trim($v_ns6, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns7) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns7\" value=\"'.htmlentities(trim($v_ns7, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns8) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns8\" value=\"'.htmlentities(trim($v_ns8, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"add-ns\" <?php if ($v_ns8) echo 'style=\"display:none;\"' ; ?> >\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-top-small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"add-ns-button additional-control add\"><?=_('Add one more Name Server');?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('mail-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Mail');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"mail-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Mail Domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mail_domains\" value=\"<?=htmlentities(trim($v_mail_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-mail-domains\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Mail Accounts');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mail_accounts\" value=\"<?=htmlentities(trim($v_mail_accounts, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-mail-accounts\"></i>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('database-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Databases');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"database-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Databases');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_databases\" value=\"<?=htmlentities(trim($v_databases, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-databases\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('system-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('System');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"system-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Cron Jobs');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_cron_jobs\" value=\"<?=htmlentities(trim($v_cron_jobs, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-cron-jobs\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSH Access');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_shell\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($shells as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_shell)) && ( $value == $v_shell)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_shell)) && ( $value == $_POST['v_shell'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<a href=\"/list/ip/\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-ethernet status-icon blue\"></i><?=_('IP');?></a>\n\t\t\t<?php if ((isset($_SESSION['FIREWALL_SYSTEM'])) && (!empty($_SESSION['FIREWALL_SYSTEM']))) {?>\n\t\t\t\t<a href=\"/list/firewall/\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-shield-alt status-icon red\"></i><?=_('Firewall');?></a>\n\t\t\t<?php }?>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<!-- Basic options tab -->\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('basic');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-cog\"></i><b><?=_('Basic options');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"basic\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Hostname');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_hostname\" value=\"<?=htmlentities(trim($v_hostname, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Time Zone');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_timezone\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($v_timezones as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$key.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_timezone)) && ( $key == $v_timezone)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_timezone)) && ( $key == $_POST['v_timezone'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".$value.\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Theme');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_theme\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($theme as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($_SESSION['THEME'])) && ( $value == $_SESSION['THEME'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($_SESSION['THEME'])) && ( $value == $_POST['v_theme'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".$value.\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_policy_user_change_theme\" <?php if ((isset($_SESSION['POLICY_USER_CHANGE_THEME'])) && (!empty($_SESSION['POLICY_USER_CHANGE_THEME'])) && ($_SESSION['POLICY_USER_CHANGE_THEME'] == \"no\")) echo \"checked=yes\" ?>><?=_('Set as selected theme for all users');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Default Language');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_language\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($languages as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".$key.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( $key == $v_language ){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (( $key == $_SESSION['LANGUAGE'] && (empty($v_language)) )) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_language_update\"><?=_('Set as default language for all users');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<!-- Updates tab -->\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('version');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-code-branch\"></i><b><?=_('Updates');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"version\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Version'); ?>: <span class=\"optional\"><?=$_SESSION['VERSION'];?></span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['RELEASE_BRANCH'] !== 'release') {?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Release'); ?>: <span class=\"optional\"><?=$_SESSION['RELEASE_BRANCH'];?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Options'); ?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_debug_mode\" <?php if ((isset($_SESSION['DEBUG_MODE'])) && (!empty($_SESSION['DEBUG_MODE'])) && ($_SESSION['DEBUG_MODE'] == \"true\")) echo \"checked=yes\" ?>><?=_('Enable debug mode');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_experimental_features\" <?php if ((isset($_SESSION['POLICY_SYSTEM_ENABLE_BACON'])) && (!empty($_SESSION['POLICY_SYSTEM_ENABLE_BACON'])) && ($_SESSION['POLICY_SYSTEM_ENABLE_BACON'] == \"true\")) echo \"checked=yes\" ?>><?=_('Enable preview features');?></label> <span class=\"hint\">(<a href=\"/list/server/preview/\"><?=_('View');?></a>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_upgrade_send_notification_email\" <?php if ((isset($_SESSION['UPGRADE_SEND_EMAIL'])) && (!empty($_SESSION['UPGRADE_SEND_EMAIL'])) && ($_SESSION['UPGRADE_SEND_EMAIL'] == \"true\")) echo \"checked=yes\" ?>><?=_('SYSTEM_UPGRADE_SEND_NOTIFICATION_EMAIL');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_upgrade_send_email_log\" <?php if ((isset($_SESSION['UPGRADE_SEND_EMAIL_LOG'])) && (!empty($_SESSION['UPGRADE_SEND_EMAIL_LOG'])) && ($_SESSION['UPGRADE_SEND_EMAIL_LOG'] == \"true\")) echo \"checked=yes\" ?>><?=_('SYSTEM_UPGRADE_SEND_EMAIL_LOG');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<!-- Web Server tab -->\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('web');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-globe-americas\"></i><b><?=_('Web Server');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"web\" class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['PROXY_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Server');?>: <span class=\"optional\"><?=$_SESSION['PROXY_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['PROXY_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Server');?>: <span class=\"optional\"><?=$_SESSION['WEB_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['WEB_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND'])) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Backend Server');?>: <span class=\"optional\"><?=$_SESSION['WEB_BACKEND']; ?> <a href=\"/edit/server/<? echo $_SESSION['WEB_BACKEND'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND_POOL'])) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Backend Pool Mode');?>: <span class=\"optional\"><?=$_SESSION['WEB_BACKEND_POOL']; ?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php if(count($v_php_versions)): ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Enabled multi PHP versions');?>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"alert alert-info alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-info\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Please wait while php is installed or removed');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php foreach($v_php_versions as $php_version): ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$php_version->installed?'checked':''; ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$php_version->protected?'disabled':''; ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"<?=$php_version->name?>\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"v_php_versions[<?=$php_version->tpl?>]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"<?=$php_version->name?>\"><?=$php_version->name?></label>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<?php foreach($php_version->usedby as $wd_user => $wd_domains ): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach($wd_domains as $wd_domain ): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"border: 1px lightgrey; padding:0 10px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-user\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$wd_user;?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"optional\" style=\"float:right\"><?=$wd_domain;?></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t<?php endif; ?>\n\t\t\t\t\t\t\t\t\t<?php if(!empty($_SESSION['WEB_BACKEND'])){\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('System PHP version');?></span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_php_default_version\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach($v_php_versions as $php_version){\n\t\t\t\t\t\t\t\t\t\t\t\tif($php_version -> installed){\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=$php_version->version; ?>\" <?php if($php_version->name == DEFAULT_PHP_VERSION){ echo \"selected\" ;}?> ><?=$php_version->name; ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\t\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<!-- DNS Server tab -->\n\t\t\t\t\t\t<?php if (!empty($_SESSION['DNS_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('dns');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-atlas\"></i><b><?=_('DNS Server');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"dns\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS Server');?>: <span class=\"optional\"><?=$_SESSION['DNS_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['DNS_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS Cluster');?>: <span class=\"optional\"><?php if ($v_dns_cluster == 'yes') { echo _('Yes'); } else { echo _('No'); } ?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php if ($v_dns_cluster == 'yes') {\n\t\t\t\t\t\t\t\t\t\t\t$i = 0;\n\t\t\t\t\t\t\t\t\t\t\tforeach ($dns_cluster as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t$i++;\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host'). ' #'.$i  ?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dns_remote_host\" value=\"<?=$key; ?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } } ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td><br></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<!-- Mail Server tab -->\n\t\t\t\t\t\t<?php if ((!empty($_SESSION['MAIL_SYSTEM']))) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('mail');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-mail-bulk\"></i><b><?=_('Mail Server');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_mail_adv)) echo 'none';?> ;\" id=\"mail\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Mail Server');?>: <span class=\"optional\"><?=$_SESSION['MAIL_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['MAIL_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTIVIRUS_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Antivirus');?>: <span class=\"optional\"><?=$_SESSION['ANTIVIRUS_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['ANTIVIRUS_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTISPAM_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('AntiSpam');?>: <span class=\"optional\"><?=$_SESSION['ANTISPAM_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['ANTISPAM_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php if($_SESSION['WEBMAIL_SYSTEM']){?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Webmail URL');?> <span class=\"hint\">(<?=$_SESSION['WEBMAIL_ALIAS'];?>.example.com)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_webmail_alias\" value=\"<?=$_SESSION['WEBMAIL_ALIAS']; ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_smtp_relay\" <?php if ($v_smtp_relay == 'true') echo \"checked=yes\"; ?> onclick=\"javascript:elementHideShow('smtp_relay_table');\"><?=_('Global SMTP Relay');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_smtp_relay == 'true') {echo 'block';} else {echo 'none';} ?>;\" id=\"smtp_relay_table\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_host\" value=\"<?=htmlentities(trim($v_smtp_relay_host, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Port');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_port\" value=\"<?=htmlentities(trim($v_smtp_relay_port, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_user\" value=\"<?=htmlentities(trim($v_smtp_relay_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_smtp_relay_pass\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<!-- Databases tab -->\n\t\t\t\t\t\t<?php if (!empty($_SESSION['DB_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('db');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-database\"></i><b><?=_('Databases');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_db_adv)) echo 'none';?> ;\" id=\"db\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('MySQL Support');?> <a href=\"/edit/server/mysql/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_mysql\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($v_mysql == 'yes') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t<!-- MySQL / MariaDB Options-->\n\t\t\t\t\t\t\t\t\t\t<?php if ($v_mysql == 'yes') { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('phpMyAdmin URL');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mysql_url\" value=\"<?=$_SESSION['DB_PMA_ALIAS']; ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('phpMyAdmin Single Sign On');?><span class=\"hint\">(<a href=\"https://docs.hestiacp.com/admin_docs/database/phpmyadmin-sso.html\" target=\"_blank\"><?=_('More info');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_phpmyadmin_key\" <?php if ($_SESSION['API'] != 'yes'){ echo \"disabled\"; }?>>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('Disabled'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_POST['v_phpmyadmin_key'] == \"yes\" || $_SESSION['PHPMYADMIN_KEY'] != ''){ echo 'selected=\"selected\"'; }; ?>><?=_('Enabled'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php if ($v_mysql == 'yes') {\n\t\t\t\t\t\t\t\t\t\t\t$i = 0;\n\t\t\t\t\t\t\t\t\t\t\tforeach ($v_mysql_hosts as $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t$i++;\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host'). ' #'.$i  ?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mysql_host\" value=\"<?=$value['HOST']?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_mysql_password\" value=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Maximum Number Of Databases');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mysql_max\" value=\"<?=$value['MAX_DB']; ?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Current Number Of Databases');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mysql_max\" value=\"<?=$value['U_DB_BASES']; ?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php }} ?>\n\n\t\t\t\t\t\t\t\t\t\t<!-- PostgreSQL Options-->\n\t\t\t\t\t\t\t\t\t\t<?php if ($v_pgsql == 'yes') { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('PostgreSQL Support');?> <a href=\"/edit/server/postgresql/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_pgsql\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($v_pgsql == 'yes') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('phpPgAdmin URL');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_pgsql_url\" value=\"<?=$_SESSION['DB_PGA_ALIAS']; ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php if ($v_pgsql == 'yes') {\n\t\t\t\t\t\t\t\t\t\t\t$i = 0;\n\t\t\t\t\t\t\t\t\t\t\tforeach ($v_pgsql_hosts as $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t$i++;\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host'). ' #'.$i  ?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_pgsql_host\" value=\"<?=$value['HOST']?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Maximum Number Of Databases');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_psql_max\" value=\"<?=$value['MAX_DB']; ?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Current Number Of Databases');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_pgsql_max\" value=\"<?=$value['U_DB_BASES']; ?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br><br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php }} ?>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('backup');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo\"></i><b><?=_('Backups');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"<?php if (empty($v_backup_adv)) echo 'display:none';?> ;\" id=\"backup\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Local backup');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backup\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($v_backup == 'yes') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Compression');?> <a target=\"_blank\" href=\"http://docs.hestiacp.com/admin_docs/backups.html#what-is-the-difference-between-zstd-and-gzip\"><i class=\"fas fa-question-circle\"></i></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backup_mode\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='gzip' <?php if($v_backup_mode != 'zstd') echo 'selected' ?>>gzip</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='zstd' <?php if($v_backup_mode == 'zstd') echo 'selected' ?>>zstd</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Compression level');?> <a target=\"_blank\" href=\"http://docs.hestiacp.com/admin_docs/backups.html#what-is-the-optimal-compression-ratio\"><i class=\"fas fa-question-circle\"></i></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backup_gzip\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php for ($level = 1; $level < 20; $level++) { ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='<?=$level;?>' <?php if($v_backup_gzip == $level) echo 'selected' ?>><?=$level;?><?php if($level > 9){ echo sprintf(' (%s)', _('zstd only')); } ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Directory');?> <a target=\"_blank\" href=\"https://docs.hestiacp.com/admin_docs/backups.html#how-to-change-default-backup-folder\"><i class=\"fas fa-question-circle\"></i></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_dir\" value=\"<?=trim($v_backup_dir, \"'\")?>\" disabled=\"disabled\">\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_backup_remote_adv\" <?php if (!empty($v_backup_remote_adv)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('remote_backup');\"><?=_('Remote backup');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_backup_remote_adv)) echo 'none';?> ;\" id=\"remote_backup\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Protocol');?> <a target=\"_blank\" href=\"http://docs.hestiacp.com/admin_docs/backups.html#what-kind-of-protocols-are-currently-supported\"><i class=\"fas fa-question-circle\"></i></a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backup_type\" id=\"backup_type\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='ftp'><?=_('ftp'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='sftp' <?php if((!empty($v_backup_type)) && (trim($v_backup_type,\"'\")  == 'sftp' )) echo 'selected=\"selected\"'; ?>><?=_('sftp'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"b2\" <?php if((!empty($v_backup_type)) && (trim($v_backup_type,\"'\")  == 'b2' )) echo 'selected=\"selected\"'; ?>><?=_('Backblaze'); ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\"display: <?php if ((!empty($v_backup_type)) && !in_array(trim($v_backup_type, \"'\"),array('ftp','sftp'))){ echo 'none';} else {echo 'block';} ?>\" id=\"backup_sftp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_host\" value=\"<?=trim($v_backup_host, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Port');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_port\" value=\"<?=trim($v_backup_port, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_username\" value=\"<?=trim($v_backup_username, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_backup_password\" value=\"<?=trim($v_backup_password, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Directory');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_bpath\" value=\"<?=trim($v_backup_bpath, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\"display: <?php if ((empty($v_backup_type)) || !in_array(trim($v_backup_type, \"'\"),array('b2'))){ echo 'none';} else {echo 'block';} ?>\" id=\"backup_bucket\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Bucket');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_bucket\" value=\"<?=trim($v_backup_bucket, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Application ID');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_application_id\" value=\"<?=trim($v_backup_application_id, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Application Key');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_application_key\" value=\"<?=trim($v_backup_application_key, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('ssl');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-lock\"></i><b><?=_('Hestia SSL');?><img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"ssl\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate');?>\n\t\t\t\t\t\t\t\t\t\t\t<span id=\"generate-csr\"> / <a class=\"generate\" target=\"_blank\" href=\"/generate/ssl/?domain=<?=$v_hostname?>\"><?=_('Generate CSR');?></a></span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_crt\"><?=htmlentities(trim($v_ssl_crt, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Key');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_key\"><?=htmlentities(trim($v_ssl_key, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table class=\"additional-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SUBJECT');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_subject?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php if ($v_ssl_aliases){?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('Aliases');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_aliases?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_BEFORE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_not_before?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_AFTER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_not_after?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SIGNATURE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_signature?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('PUB_KEY');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_pub_key?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('ISSUER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_issuer?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('security');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-key\"></i><b><?=_('Security');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"<?php if (empty($v_security_adv)) echo 'display:none;';?>\" id=\"security\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('security-system-table',this);\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('System');?>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"security-system-table\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\" style=\"font-size:1rem;padding-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('API');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Enable API access');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_api\" id=\"api\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['API'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table id=\"security_ip\" style=\"<?php if ($_SESSION['API'] == \"no\") echo 'display:none;';?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allowed IP addresses for API');?> <span class=\"optional\" style=\"float:right\">1 IP address per line</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_api_allowed_ip\"><?php \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach(explode(',',$_SESSION['API_ALLOWED_IP']) as $ip ){ \n                                                                            echo trim($ip).\"\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\" style=\"font-size:1rem;padding-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Login');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Login screen style');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_login_style\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='default'><?=_('Default'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='old' <?php if($_SESSION['LOGIN_STYLE'] == 'old') echo 'selected' ?>><?=_('Old Style'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to reset their passwords');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_system_password_reset\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_SYSTEM_PASSWORD_RESET'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Inactive session timeout');?> (<?=_('Minutes');?>)\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_inactive_session_timeout\" value=\"<?=trim($_SESSION['INACTIVE_SESSION_TIMEOUT'], \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Prevent CSRF');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_csrf_strictness\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"0\"  <?php if($_SESSION['POLICY_CSRF_STRICTNESS'] == '0') echo 'selected' ?>><?=_('Disabled');?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"1\"  <?php if($_SESSION['POLICY_CSRF_STRICTNESS'] == '1') echo 'selected' ?>><?=_('Enabled');?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"2\"  <?php if($_SESSION['POLICY_CSRF_STRICTNESS'] == '2') echo 'selected' ?>><?=_('Strict');?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === \"admin\") && ($_SESSION['user'] === 'admin')) {?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('security-sysadminprotect-table',this);\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('System Protection');?>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<table id=\"security-sysadminprotect-table\" class=\"step-top\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\" style=\"font-size:1rem;padding-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('System Administrator account');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Restrict access to read-only for other administrators');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_system_protected_admin\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_SYSTEM_PROTECTED_ADMIN'] !== 'yes') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Hide account from other administrators');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_system_hide_admin\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_SYSTEM_HIDE_ADMIN'] !== 'yes') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Do not allow other administrators to access Server Settings');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_system_hide_services\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_SYSTEM_HIDE_SERVICES'] !== 'yes') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('security-policies-table',this);\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Policies');?>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"security-policies-table\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\" style=\"font-size:1rem;padding-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Users');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['POLICY_SYSTEM_ENABLE_BACON'] === 'true') { ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow suspended users to log in with read-only access');?> <span class=\"hint\">(<?=_('Preview');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_view_suspended\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_VIEW_SUSPENDED'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_VIEW_SUSPENDED'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to edit their account details');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_edit_details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_EDIT_DETAILS'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_EDIT_DETAILS'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to change templates when editing web domains');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_edit_web_templates\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_EDIT_WEB_TEMPLATES'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_EDIT_WEB_TEMPLATES'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to change templates when editing DNS zones');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_edit_dns_templates\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_EDIT_DNS_TEMPLATES'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_EDIT_DNS_TEMPLATES'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to view action and login history logs');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_view_logs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_VIEW_LOGS'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_VIEW_LOGS'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to delete log history');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_delete_logs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_DELETE_LOGS'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_DELETE_LOGS'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\" style=\"font-size:1rem;padding-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Domains');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Enforce subdomain ownership');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_enforce_subdomain_ownership\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['ENFORCE_SUBDOMAIN_OWNERSHIP'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('hestia');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-puzzle-piece\"></i><b><?=_('Hestia Control Panel Plugins');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"hestia\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Quick App Installer');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_plugin_app_installer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='false'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='true' <?php if($_SESSION['PLUGIN_APP_INSTALLER'] == 'true') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Filemanager');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_filemanager\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='false'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='true' <?php if($_SESSION['FILE_MANAGER'] == 'true') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('FileSystem Disk Quota');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_quota\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['DISK_QUOTA'] == 'yes') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Firewall');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_firewall\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['FIREWALL_SYSTEM'] == 'iptables') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_options_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_options\"><?=$v_options;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (!empty($v_config_path1)) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path1;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config1\"><?=$v_config1?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path2;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config2\"><?=$v_config2?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path3;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config3\"><?=$v_config3?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path4;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config4\"><?=$v_config4?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path5;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config5\"><?=$v_config5?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path6;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config6\"><?=$v_config6?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path7;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config7\"><?=$v_config7?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path8;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config8\"><?=$v_config8?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<a href=\"/edit/server/php/\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-pencil-alt status-icon orange\"></i><?=_('Configure');?> PHP</a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr class=\"step-top\">\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" id=\"basic-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\tmax_connections\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"max_connections\" prev_value=\"<?=htmlentities($v_max_connections)?>\" name=\"v_max_connections\" value=\"<?=htmlentities($v_max_connections)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tmax_user_connections\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"max_user_connections\" prev_value=\"<?=htmlentities($v_max_user_connections)?>\" name=\"v_max_user_connections\" value=\"<?=htmlentities($v_max_user_connections)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\twait_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"wait_timeout\" prev_value=\"<?=htmlentities($v_wait_timeout)?>\" name=\"v_wait_timeout\" value=\"<?=htmlentities($v_wait_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tinteractive_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"interactive_timeout\" prev_value=\"<?=htmlentities($v_interactive_timeout)?>\" name=\"v_interactive_timeout\" value=\"<?=htmlentities($v_interactive_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tmax_allowed_packet\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"max_allowed_packet\" prev_value=\"<?=htmlentities($v_max_allowed_packet)?>\" name=\"v_display_errors\" value=\"<?=htmlentities($v_max_allowed_packet)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"advanced-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Basic options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<a href=\"/edit/server/php/\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-pencil-alt status-icon orange\"></i> <?=_('Configure');?> PHP</a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" id=\"basic-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\tworker_processes\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"worker_processes\" prev_value=\"<?=htmlentities($v_worker_processes)?>\" name=\"v_worker_processes\" value=\"<?=htmlentities($v_worker_processes)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tworker_connections\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"worker_connections\" prev_value=\"<?=htmlentities($v_worker_connections)?>\" name=\"v_worker_connections\" value=\"<?=htmlentities($v_worker_connections)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tclient_max_body_size\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"client_max_body_size\" prev_value=\"<?=htmlentities($v_client_max_body_size)?>\" name=\"v_client_max_body_size\" value=\"<?=htmlentities($v_client_max_body_size)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tsend_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"send_timeout\" prev_value=\"<?=htmlentities($v_send_timeout)?>\" name=\"v_send_timeout\" value=\"<?=htmlentities($v_send_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tproxy_connect_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"proxy_connect_timeout\" prev_value=\"<?=htmlentities($v_proxy_connect_timeout)?>\" name=\"v_proxy_connect_timeout\" value=\"<?=htmlentities($v_proxy_connect_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tproxy_send_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"proxy_send_timeout\" prev_value=\"<?=htmlentities($v_proxy_send_timeout)?>\" name=\"v_proxy_send_timeout\" value=\"<?=htmlentities($v_proxy_send_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tproxy_read_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"proxy_read_timeout\" prev_value=\"<?=htmlentities($v_proxy_read_timeout)?>\" name=\"v_proxy_read_timeout\" value=\"<?=htmlentities($v_proxy_read_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tgzip\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"gzip\" prev_value=\"<?=htmlentities($v_gzip)?>\" name=\"v_gzip\" value=\"<?=htmlentities($v_gzip)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tgzip_comp_level\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"gzip_comp_level\" prev_value=\"<?=htmlentities($v_gzip_comp_level)?>\" name=\"v_gzip_comp_level\" value=\"<?=htmlentities($v_gzip_comp_level)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tcharset\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"charset\" prev_value=\"<?=htmlentities($v_charset)?>\" name=\"v_charset\" value=\"<?=htmlentities($v_charset)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"advanced-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Basic options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" id=\"basic-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_options_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_options\"><?=$v_options;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" id=\"basic-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: PHP</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\tmax_execution_time\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"max_execution_time\" prev_value=\"<?=htmlentities($v_max_execution_time)?>\" name=\"v_max_execution_time\" value=\"<?=htmlentities($v_max_execution_time)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tmax_input_time\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"max_input_time\" prev_value=\"<?=htmlentities($v_max_input_time)?>\" name=\"v_worker_connections\" value=\"<?=htmlentities($v_max_input_time)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tmemory_limit\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"memory_limit\" prev_value=\"<?=htmlentities($v_memory_limit)?>\" name=\"v_memory_limit\" value=\"<?=htmlentities($v_memory_limit)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\terror_reporting\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"error_reporting\" prev_value=\"<?=htmlentities($v_error_reporting)?>\" name=\"v_error_reporting\" value=\"<?=htmlentities($v_error_reporting)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tdisplay_errors\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"display_errors\" prev_value=\"<?=htmlentities($v_display_errors)?>\" name=\"v_display_errors\" value=\"<?=htmlentities($v_display_errors)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tpost_max_size\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"post_max_size\" prev_value=\"<?=htmlentities($v_post_max_size)?>\" name=\"v_post_max_size\" value=\"<?=htmlentities($v_post_max_size)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tupload_max_filesize\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"upload_max_filesize\" prev_value=\"<?=htmlentities($v_upload_max_filesize)?>\" name=\"v_upload_max_filesize\" value=\"<?=htmlentities($v_upload_max_filesize)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"advanced-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Basic options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/user/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<?php \n\t\t\t\tif (($_SESSION['userContext'] === 'admin') && (!isset($_SESSION['look'])) && ($_SESSION['user'] !== $v_username)) {\n\t\t\t\t\t$ssh_key_url = \"/list/key/?user=\".$user.\"&token=\".$_SESSION['token'].\"\";\n\t\t\t\t\t$log_url = \"/list/log/?user=\".$user.\"&token=\".$_SESSION['token'].\"\";\n\t\t\t\t} else {\n\t\t\t\t\t$ssh_key_url = \"/list/key/\";\n\t\t\t\t\t$log_url = \"/list/log/\";\n\t\t\t\t} \n\t\t\t?>\n\t\t\t<a href=\"<?=$ssh_key_url; ?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\" title=\"<?=_('Manage SSH keys');?>\"><i class=\"fas fa-key status-icon orange\"></i><?=_('Manage SSH keys');?></a>\n\t\t\t<?php if (($_SESSION['userContext'] == 'admin') || ($_SESSION['userContext'] !== 'admin') && ($_SESSION['POLICY_USER_VIEW_LOGS'] !== 'no')) {?>\n\t\t\t\t<a href=\"<?=$log_url; ?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\" title=\"<?=_('Logs');?>\"><i class=\"fas fa-history status-icon maroon\"></i><?=_('Logs');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t<?php if (($_SESSION['user'] == $v_username) || (isset($_SESSION['look']))) {?>\n\t\t\t\t<!-- Do not show delete button for currently logged in user-->\n\t\t\t<?} else {?>\n\t\t\t\t<a href=\"/login/?loginas=<?=$v_username?>&token=<?=$_SESSION['token']?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\" title=\"<?=_('login as');?>\"><i class=\"fas fa-sign-in-alt status-icon maroon\"></i><?=_('login as');?></a>\n\t\t\t\t<div class=\"display-inline-block\" key-action=\"js\">\n\t\t\t\t\t<a class=\"data-controls do_delete ui-button danger cancel\">\n\t\t\t\t\t\t<i class=\"do_delete fas fa-times-circle status-icon red\"></i>\n\t\t\t\t\t\t<?=_('Delete');?>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/user/?user=<?=$v_username?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t<div class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_USER_CONFIRMATION'),$v_username)?></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t<?php } ?>\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i> <?=_('Save');?></a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" method=\"post\" name=\"v_edit_user\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing User');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_user\" value=\"<?=htmlentities(trim($v_username, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_username\" value=\"<?=htmlentities(trim($v_username, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Contact');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_name\" value=\"<?=htmlentities(trim($v_name, \"'\"))?>\" <?php if (($_SESSION['userContext'] !=='admin' ) && ($_SESSION['POLICY_USER_EDIT_DETAILS'] !=='yes' )) { echo 'disabled' ; }?> >\n\t\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] !== 'admin') && ($_SESSION['POLICY_USER_EDIT_DETAILS'] !== 'yes')) {?>\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_name\" value=\"<?=htmlentities(trim($v_name, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Email');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_email\" value=\"<?=htmlentities(trim($v_email, \"'\"))?>\" <?php if (($_SESSION['userContext'] !=='admin' ) && ($_SESSION['POLICY_USER_EDIT_DETAILS'] !=='yes' )) { echo 'disabled' ; }?>>\n\t\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] !== 'admin') && ($_SESSION['POLICY_USER_EDIT_DETAILS'] !== 'yes')) {?>\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_email\" value=\"<?=htmlentities(trim($v_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\" value=\"<?=htmlentities(trim($v_password, \"'\"))?>\"><br />\n\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"password-details\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" onclick=\"javascript:elementHideShow('password-options');elementHideShow('password-options-ip');\" name=\"v_login_disabled\" <?php if ($data[$user]['LOGIN_DISABLED'] == \"yes\") echo \"checked=yes\" ?>><?=_('Do not allow user to log in to Control Panel');?></label>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td id=\"password-options\" style=\"<?php if ($data[$user]['LOGIN_DISABLED'] == \"yes\") { echo 'display: none;'; } else { echo 'display: table-cell;'; }?>\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" class=\"vst-checkbox password-option\" name=\"v_twofa\" <?php if(!empty($v_twofa)) echo \"checked=yes\" ?>><?=_('Enable 2FA');?></label>\n\t\t\t\t\t\t\t\t\t\t\t<?php if (!empty($v_twofa)) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<p><?=_('2FA Reset Code:').' '.$v_twofa; ?></br></p>\n\t\t\t\t\t\t\t\t\t\t\t<p><?=_('Please scan the code below in your 2FA application:'); ?></p>\n\t\t\t\t\t\t\t\t\t\t\t<div><img class=\"qr-code\" src=\"<?=$v_qrcode; ?>\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td id=\"password-options-ip\" style=\"<?php if ($data[$user]['LOGIN_DISABLED'] == \"yes\") { echo 'display: none;'; } else { echo 'display: table-cell;'; }?>\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" onclick=\"javascript:elementHideShow('ip-allowlist')\" name=\"v_login_use_iplist\" <?php if ($data[$user]['LOGIN_USE_IPLIST'] === \"yes\") echo \"checked=yes\" ?>><?=_('Use IP address allow list for login attempts');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"ip-allowlist\" style=\"<?php if ($data[$user]['LOGIN_USE_IPLIST'] === 'yes') { echo 'display: table-cell;'; } else { echo 'display: none;'; } ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" placeholder=\"<?=_('Example: 127.0.0.1,192.168.1.100');?>\" name=\"v_login_allowed_ips\" value=\"<?=htmlentities(trim($v_login_allowed_ips, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Language');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_language\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($languages as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".$key.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t$skey = \"'\".$key.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\tif (( $key == $v_language ) || ( $skey == $v_language)){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif (( $key == detect_user_language() ) && (empty($v_language))){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if ($v_username == 'admin') {?>\n\t\t\t\t\t\t\t<!-- Hide option to change 'admin' user's role-->\n\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === 'admin') && ($_SESSION['user'] != $v_username)) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Role');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_role\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"user\"><?=_('User');?>\n\t\t\t\t\t\t\t\t\t\t<option value=\"admin\" <?php if($v_role == \"admin\" ){ echo \"selected\"; } ?>><?=_('Administrator');?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if ($_SESSION['POLICY_USER_CHANGE_THEME'] !== 'no') {?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Theme') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_user_theme\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($themes as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif ((!empty($_SESSION['userTheme'])) && ( $value == $v_user_theme )) {\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_user_theme) && (!empty($_SESSION['THEME']))) && ( $value == $_SESSION['THEME'] )) {\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif ((!empty($_SESSION['userTheme'])) && ( $value == $_POST['v_user_theme'])){\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\techo \">\".$value.\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if ($_GET['user'] === $_SESSION['user']) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Default list sort order');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_sort_order\">\n\t\t\t\t\t\t\t\t\t\t<option value='date' <?php if($_SESSION['userSortOrder'] === 'date') echo 'selected' ?>><?=_('Date'); ?></option>\n\t\t\t\t\t\t\t\t\t\t<option value='name' <?php if($_SESSION['userSortOrder'] === 'name') echo 'selected' ?>><?=_('Name'); ?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t<?=_('Package');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_package\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($packages as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".htmlentities($key).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t$skey = \"'\".$key.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\tif (( $key == $v_package ) || ( $skey == $v_package)){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($key).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top vst-text\" style=\"/*padding: 32px 0 20px 0;*/\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advanced-opts');\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<table id=\"advanced-opts\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSH Access');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_shell\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($shells as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (( $value == $v_shell ) || ($svalue == $v_shell )){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('PHP CLI Version');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_phpcli\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($php_versions as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$php = explode('-',$value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_phpcli)) && ( $value == $v_phpcli ) || ($svalue == $v_phpcli)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_phpcli)) && ($value == DEFAULT_PHP_VERSION)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php if ((isset($_SESSION['DNS_SYSTEM'])) && (!empty($_SESSION['DNS_SYSTEM']))) {?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Default Name Servers');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns1\" value=\"<?=htmlentities(trim($v_ns1, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\"><?=_('delete');?></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns2\" value=\"<?=htmlentities(trim($v_ns2, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\"><?=_('delete');?></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns3) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns3\" value=\"'.htmlentities(trim($v_ns3, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns4) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns4\" value=\"'.htmlentities(trim($v_ns4, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns5) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns5\" value=\"'.htmlentities(trim($v_ns5, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns6) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns6\" value=\"'.htmlentities(trim($v_ns6, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns7) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns7\" value=\"'.htmlentities(trim($v_ns7, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns8) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns8\" value=\"'.htmlentities(trim($v_ns8, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t<tr class=\"add-ns\" <?php if ($v_ns8) echo 'style=\"display:none;\"' ; ?> >\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-top-small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"add-ns-button vst-advanced button\"><?=_('Add one more Name Server');?></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if ($_SESSION['userContext'] !== 'admin') {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/web/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"/delete/web/cache/?domain=<?=$v_domain;?>&token=<?=$_SESSION['token'];?>\" class=\"ui-button cancel <?php if ( $v_nginx_cache == 'yes' || ($v_proxy_template == 'caching' && $_SESSION['PROXY_SYSTEM'] == 'nginx')) { echo \"block\"; } else{ echo \"hidden\"; }?>\" id=\"v-clear-cache\">\n\t\t\t\t<i class=\"fas fa-trash status-icon red\"></i><?=_('Purge Nginx Cache');?>\n\t\t\t</a>\n\t\t\t<?php if ($_SESSION['PLUGIN_APP_INSTALLER'] !== 'false') {?>\n\t\t\t\t<a href=\"/add/webapp/?domain=<?=$v_domain?>\" class=\"ui-button cancel\" dir=\"ltr\">\n\t\t\t\t\t<i class=\"fas fa-magic status-icon blue\"></i> <?=_('Quick Install App');?>\n\t\t\t\t</a>\n\t\t\t<?php } ?>\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_web\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Aliases');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_aliases\"><?=htmlentities(trim($v_aliases, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if ($v_letsencrypt == 'yes' || $v_letsencrypt == 'on') {?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<span class=\"alert alert-info alert-with-icon\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t<?=_('Lets Encrypt will obtain a new SSL certificate if web domain aliases are changed.');?>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP Address');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_ip\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$display_ip = htmlentities(empty($value['NAT']) ? $ip : \"{$value['NAT']}\");\n\t\t\t\t\t\t\t\t\t\t\t$ip_selected = ((!empty($v_ip) && $ip == $v_ip) || $v_ip == \"'{$ip}'\")  ? 'selected' : '';\n\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"{$ip}\\\" {$ip_selected}>{$display_ip}</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Web Statistics');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_stats\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($stats as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif (empty($v_stats)) $v_stats = 'none';\n\t\t\t\t\t\t\t\t\t\t\tif (( $value == $v_stats ) || ($svalue == $v_stats )){\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\techo \">\". htmlentities(_($value)) .\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr class=\"stats-auth\" style=\"<?php if ($v_stats == 'none') { ?>display:none<?php } ?>\">\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_stats_auth\" <?php if (!empty($v_stats_user)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('statstable');\"><?=_('Statistics Authorization');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr class=\"stats-auth\">\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_stats_user)) { echo 'none';} else {echo 'block';}?> ;\" id=\"statstable\" name=\"v-add-web-domain-stats-user\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_stats_user\" value=\"<?=htmlentities(trim($v_stats_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:WEBrandom();\" class=\"generate\"><?=_('generate');?></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_stats_password\" value=\"<?=htmlentities(trim($v_stats_password, \"'\"))?>\" id=\"v_password\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v-redirect-checkbox\" <?php if (!empty($v_redirect)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('v_redirect');\"><?=_('Enable domain redirection');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_redirect)) { echo 'none';} else {echo 'block';}?> ;\" id=\"v_redirect\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"radio\" name=\"v-redirect\" value=\"<?='www.'.$v_domain;?>\" <?php if ($v_redirect == \"www.\".$v_domain) echo \"checked\"; ?> class=\"v-redirect-custom-value\"><?=sprintf(_('Redirect visitors to %s'),\"www.\".$v_domain);?></label></input><br />\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"radio\" name=\"v-redirect\" value=\"<?=$v_domain;?>\" <?php if( $v_redirect == $v_domain) echo \"checked\";?> class=\"v-redirect-custom-value\"><?=sprintf(_('Redirect visitors to %s'),$v_domain);?></label></input><br />\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"radio\" name=\"v-redirect\" value=\"custom\" <?php if( !empty($v_redirect_custom)) echo \"checked\";?> class=\"v-redirect-custom-value\"><?=_(\"Redirect visitors to a custom domain or web address\");?></label></input>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"custom_redirect\" style=\"margin-left: 22px; display:<?php if (empty($v_redirect_custom)) { echo 'none';} else {echo 'block';}?> ;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Target domain or URL');?>:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"v-redirect-custom\" class=\"vst-input\" value=\"<?=$v_redirect_custom;?>\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Status code');?>:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v-redirect-code\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach ($redirect_code_options as $status_code): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=$status_code;?>\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=($v_redirect_code === $status_code || (empty($v_redirect_code) && $status_code === $v_redirect_code))?' selected=\"selected\" ':''; ?>>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$status_code;?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl\" <?php if ($v_ssl == 'yes') echo \"checked=yes\" ?> onclick=\"javascript:App.Actions.WEB.toggle_ssl(this);\"><?=_('SSL Support');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_ssl == 'no' ) { echo 'none';} else {echo 'block';}?> ;\" id=\"ssltable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_letsencrypt\" id=\"letsencrypt\" <?php if($v_letsencrypt == 'yes' || $v_letencrypt == 'on') echo \"checked=yes\" ?> onclick=\"elementHideShow('letsinfo');App.Actions.WEB.toggle_letsencrypt(this)\"><?=_('Lets Encrypt Support');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl_forcessl\" id=\"v_ssl_forcessl\" <?php if($v_ssl_forcessl == 'yes') echo \"checked=yes\" ?> onclick=\"\"><?=_('Force SSL/HTTPS');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl_hsts\" id=\"ssl_hsts\" <?php if($v_ssl_hsts == 'yes') echo \"checked=yes\" ?> onclick=\"App.Actions.WEB.toggle_hsts(this)\"><?=_('Enable SSL HSTS');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Home Directory');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_ssl_home\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='same'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tpublic_html\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"ssl-details\" style=\"<?php if ($v_letsencrypt == 'yes' || $v_letsencrypt == 'on') { echo 'display: none;'; } ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span id=\"generate-csr\"> / <a class=\"generate\" target=\"_blank\" href=\"/generate/ssl/?domain=<?=$v_domain?>\"><?=_('Generate CSR');?></a></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_crt\" id=\"ssl_crt\"><?=htmlentities(trim($v_ssl_crt, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Key');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_key\"><?=htmlentities(trim($v_ssl_key, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate Authority / Intermediate');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_ca\"><?=htmlentities(trim($v_ssl_ca, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if ($v_ssl != 'no' ) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<table class=\"additional-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SUBJECT');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_subject?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php if ($v_ssl_aliases){?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('ALIASES');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_aliases?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_BEFORE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_not_before?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_AFTER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_not_after?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SIGNATURE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_signature?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('PUB_KEY');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_pub_key?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('ISSUER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_issuer?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr id=\"letsinfo\" style=\"display:<?php if ($v_letsencrypt == 'yes' || $v_letencrypt == 'on' ) { echo 'block';} else {echo 'none';} ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td><a href=\"#\" onclick=\"elementHideShow('ssl-details'); return false;\" class=\"generate\"><?=_('Show Certificate');?></a></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<? } // if ssl is enabled ?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top vst-text\" style=\"/*padding: 32px 0 20px 0;*/\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advanced-opts');\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<table id=\"advanced-opts\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === 'admin') || ($_SESSION['userContext'] === 'user') && ($_SESSION['POLICY_USER_EDIT_WEB_TEMPLATES'] === 'yes')) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['WEB_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_template)) && ( $value == $v_template ) || ($svalue == $v_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php if($_SESSION['WEB_SYSTEM'] == 'nginx'){?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_nginx_cache_check\" <?php if ($v_nginx_cache == 'yes') echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('v_nginx_duration');\"><?=_('Enable FastCGI Cache'); ?> <a href=\"https://docs.hestiacp.com/admin_docs/web/fastcgi.html#nginx-fastcgi-cache\" target=\"_blank\"><i class=\"fas fa-question-circle\"></i></a></label>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<table id=\"v_nginx_duration\" style=\"display:<?php if ($v_nginx_cache != 'yes' ) { echo 'none';} else {echo 'block';}?> ;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Cache Duration'); ?> <span class=\"optional\"><?=_('For example: 30s, 10m or 1d');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td><input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_nginx_cache_duration\" value=\"<?=htmlentities(trim($v_nginx_cache_duration, \"'\"))?>\"></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND'])) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Backend Template') . \" <span class='optional'>\" . strtoupper($_SESSION['WEB_BACKEND']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backend_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($backend_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $v_backend_template ) || ($svalue == $v_backend_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_backend_template)) && ($value == 'default')){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php }?>\n\t\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['PROXY_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_proxy\" <?php if (!empty($v_proxy)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('proxytable');\"><?=_('Proxy Support') . \"<span class='optional'>\" . strtoupper($_SESSION['PROXY_SYSTEM']) . \"</span>\";?></label>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_proxy)) { echo 'none';} else {echo 'block';}?> ;\" id=\"proxytable\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Template');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_proxy_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($proxy_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $v_proxy_template ) || ($svalue == $v_proxy_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_proxy_template)) && ($value == 'default')){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Extensions');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_proxy_ext\"><?php if (!empty($v_proxy_ext)) { echo htmlentities(trim($v_proxy_ext, \"'\"));} else { echo 'jpg, jpeg, gif, png, ico, svg, css, zip, tgz, gz, rar, bz2, exe, pdf, doc, xls, ppt, txt, odt, ods, odp, odf, tar, bmp, rtf, js, mp3, avi, mpeg, flv, html, htm'; }  ?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_custom_doc_root_check\" <?php if (!empty($v_custom_doc_root)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('v_custom_doc_root');\"><?=_('Custom document root');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_custom_doc_root)) { echo 'none';} else {echo 'block';}?> ;\" id=\"v_custom_doc_root\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Point to');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v-custom-doc-root_prepath\" value=\"<?=$v_custom_doc_root_prepath;?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v-custom-doc-domain\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach ($user_domains as $domain): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=$domain;?>\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=($v_custom_doc_domain === $domain || (empty($v_custom_doc_domain) && $domain === $v_domain))?' selected=\"selected\" ':''; ?>>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$domain;?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php print( _('Directory'));?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"v-custom-doc-folder\" value=\"<?=htmlentities(trim($v_custom_doc_folder, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class=\"custom_docroot_hint\"></small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if (in_array($_SESSION['FTP_SYSTEM'], array('vsftpd', 'proftpd'))) { ?>  \n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ftp\" <?php if (!empty($v_ftp_user)) echo \"checked=yes\" ?> onclick=\"App.Actions.WEB.toggle_additional_ftp_accounts(this)\"><?=_('Additional FTP Account');?></label>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td id=\"ftp_users\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach ($v_ftp_users as $i => $ftp_user): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t$v_ftp_user     = $ftp_user['v_ftp_user'];\n\t\t\t\t\t\t\t\t\t\t\t\t\t$v_ftp_password = $ftp_user['v_ftp_password'];\n\t\t\t\t\t\t\t\t\t\t\t\t\t$v_ftp_path     = $ftp_user['v_ftp_path'];\n\t\t\t\t\t\t\t\t\t\t\t\t\t$v_ftp_email    = $ftp_user['v_ftp_email'];\n\t\t\t\t\t\t\t\t\t\t\t\t\t$v_ftp_pre_path = $ftp_user['v_ftp_pre_path'];\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_ftp_user)) { echo 'none';} else {echo 'block';}?> ;\" class=\"ftptable ftptable-nrm\" name=\"v_add_domain_ftp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('FTP');?> #<span class=\"ftp-user-number\"><?=$i + 1; ?></span> <a class=\"ftp-remove-user additional-control\" onCLick=\"App.Actions.WEB.remove_ftp_user(this)\"><?=_('delete');?></a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-deleted\" name=\"v_ftp_user[<?=$i ?>][delete]\" value=\"0\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-is-new\" name=\"v_ftp_user[<?=$i ?>][is_new]\" value=\"<?=htmlentities($ftp_user['is_new']) ?>\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size: 10pt; color:#777;\"><?=sprintf(_('Prefix %s will be added to username automatically'),$user.\"_\");?></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input v-ftp-user\" <?=$ftp_user['is_new'] != 1 ? 'disabled=\"disabled\"' : '' ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"v_ftp_user[<?=$i ?>][v_ftp_user]\" value=\"<?=htmlentities(trim($v_ftp_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left  input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:void(0);\" onClick=\"FTPrandom(this)\" ; class=\"generate\"><?=_('generate');?></a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-user-psw password\" name=\"v_ftp_user[<?=$i ?>][v_ftp_password]\" value=\"<?=htmlentities(trim($v_ftp_password, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Path');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"vst-input v-ftp-pre-path\" name=\"v_ftp_pre_path\" value=\"<?=!empty($v_ftp_pre_path) ? htmlentities(trim($v_ftp_pre_path, \"'\")) : '/'; ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"vst-input v-ftp-path\" name=\"v_ftp_user[<?=$i ?>][v_ftp_path_prev]\" value=\"<?php if (!empty($v_ftp_path)) echo ($v_ftp_path[0] != '/' ? '/' : '').htmlentities(trim($v_ftp_path, \"'\")) ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-path\" name=\"v_ftp_user[<?=$i ?>][v_ftp_path]\" value=\"<?php if (!empty($v_ftp_path)) echo ($v_ftp_path[0] != '/' ? '/' : '').htmlentities(trim($v_ftp_path, \"'\")); ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br /><span class=\"ftp-path-prefix\"><?=htmlentities(trim($v_ftp_pre_path, \"'\"))?></span><span class=\"ftp-path-value v-ftp-path-hint\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php if ($ftp_user['is_new'] == 1): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Send FTP credentials to email');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input vst-email-alert-on-psw\" name=\"v_ftp_user[<?=$i ?>][v_ftp_email]\" value=\"<?=htmlentities(trim($v_ftp_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php endif; ?>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t<tr class=\"add-new-ftp-user-button\" style=\"<?=!empty($v_ftp_user) ? '' : 'display:none;' ?>\">\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top v-add-new-user step-bottom\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"additional-control vst-advanced\" onClick=\"App.Actions.WEB.add_ftp_user_form()\"><?=_('Add one more FTP Account');?></a>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n\n\t<div id=\"templates\" class=\"hidden\">\n\t\t<table class=\"ftptable ftptable-nrm\" name=\"v_add_domain_ftp\">\n\t\t\t<tr>\n\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t<?=_('FTP') ?> #<span class=\"ftp-user-number\"></span> <a class=\"ftp-remove-user additional-control\" onCLick=\"App.Actions.WEB.remove_ftp_user(this)\"><?=_('delete');?></a>\n\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-deleted\" name=\"v_ftp_user[%INDEX%][delete]\" value=\"0\" />\n\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-is-new\" name=\"v_ftp_user[%INDEX%][is_new]\" value=\"1\" />\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t<?=_('Username');?><br>\n\t\t\t\t\t<span style=\"font-size: 10pt; color:#777;\"><?=sprintf(_('Prefix %s will be added to username automatically'),$user.\"_\");?></span>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input v-ftp-user\" name=\"v_ftp_user[%INDEX%][v_ftp_user]\" value=\"\">\n\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"vst-text step-left  input-label\">\n\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:void(0);\" onClick=\"FTPrandom(this)\" ; class=\"generate\"><?=_('generate');?></a>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-user-psw password\" name=\"v_ftp_user[%INDEX%][v_ftp_password]\" value=\"\">\n\t\t\t\t</td>\n\t\t\t</tr>\n\n\t\t\t<tr>\n\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t<?=_('Path');?>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t<input type=\"hidden\" class=\"vst-input v-ftp-pre-path\" name=\"v_ftp_pre_path\" value=\"\">\n\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-path\" name=\"v_ftp_user[%INDEX%][v_ftp_path]\" value=\"\">\n\t\t\t\t\t<br /><span class=\"ftp-path-prefix\"><?=htmlentities(trim($v_ftp_pre_path_new_user, \"'\"))?></span><span class=\"ftp-path-value v-ftp-path-hint\"></span>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t<?=_('Send FTP credentials to email');?>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t<input type=\"text\" class=\"vst-input vst-email-alert-on-psw\" name=\"v_ftp_user[%INDEX%][v_ftp_email]\" value=\"\">\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n</div>\n<script>\n\tGLOBAL.FTP_USER_PREFIX = \"<?php echo htmlentities($user.'_') ?>\";\n</script>", "<div class=\"l-center\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-sort-toolbar clearfix float-left\">\n\t\t\t<?php\n\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t} else {\n\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t?>\n\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_generate_csr\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"generate\" value=\"generate\" />\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Generating CSR');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 24px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\")) ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 24px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('Aliases');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_aliases\"><?=htmlentities(trim($v_aliases, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('Email');?>\n\t\t\t\t\t\t\t\t<span class=\"optional\">(<?php print _('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_email\" value=\"<?=htmlentities(trim($v_email, \"'\")) ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('Country'); ?>\n\t\t\t\t\t\t\t\t<span class=\"optional\">(<?=_('2 letter code');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_country\" value=\"<?=htmlentities(trim($v_country, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('State / Province');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_state\" value=\"<?=htmlentities(trim($v_state, \"'\")) ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('City / Locality');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_locality\" value=\"<?=htmlentities(trim($v_locality, \"'\")) ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('Organization');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_org\" value=\"<?=htmlentities(trim($v_org, \"'\")) ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td style=\"padding: 24px 0 0 0;\" width=\"116px\">\n\t\t\t\t\t\t\t\t<input type=\"submit\" class=\"button\" name=\"generate\" value=\"<?=_('Ok');?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td style=\"padding: 24px 0 0 0;\">\n\t\t\t\t\t\t\t\t<input type=\"button\" class=\"button cancel\" value=\"<?=_('Back');?>\" onclick=\"<?=$back?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/backup/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<a href=\"/schedule/restore/?token=<?=$_SESSION['token']?>&backup=<?=htmlentities($_GET['backup'])?>\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-undo status-icon green\"></i><?=_('Restore All');?></a>\n\t\t</div>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<form action=\"/bulk/restore/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"backup\" value=\"<?=htmlentities($_GET['backup']); ?>\">\n\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t<select name=\"action\">\n\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"restore\"><?=_('restore') ?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" onchange=\"checkedAll('objects');\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\"><b><?=_('Type');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\"><b><?=_('Details');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-4\"><b><?=_('Restore');?></b></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<!-- List web domains -->\n\t<?php\n\t\t$backup = $_GET['backup'];\n\t\t$web = explode(',',$data[$backup]['WEB']);\n\t\tforeach ($web as $key) {\n\t\t\tif (!empty($key)) {\n\t\t\t\t++$i;\n\t\t?>\n\t\t<div class=\"l-unit animated fadeIn\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"web[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('Web domain');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?=$key?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=web&object=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Restore');?>\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim icon-pad-right\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n\n\t<!-- List mail domains -->\n\t<?php\n\t\t$mail = explode(',',$data[$backup]['MAIL']);\n\t\tforeach ($mail as $key) {\n\t\t\tif (!empty($key)) {\n\t\t?>\n\t\t<div class=\"l-unit\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check2<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"mail[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('Mail domain');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?=$key?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=mail&object=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"Restore\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n\n\t<!-- List DNS zones -->\n\t<?php\n\t\t$dns = explode(',',$data[$backup]['DNS']);\n\t\tforeach ($dns as $key) {\n\t\t\tif (!empty($key)) {\n\t\t?>\n\t\t<div class=\"l-unit\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check3<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"dns[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('DNS domain');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?=$key?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=dns&object=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"Restore\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n\n\t<!-- List Databases -->\n\t<?php\n\t\t$db = explode(',',$data[$backup]['DB']);\n\t\tforeach ($db as $key) {\n\t\t\tif (!empty($key)) {\n\t\t?>\n\t\t<div class=\"l-unit\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check4<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"db[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('Database');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?=$key?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=db&object=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"Restore\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n\n\t<!-- List Cron Jobs -->\n\t<?php\n\t\t$backup = $_GET['backup'];\n\t\tif (!empty($data[$backup]['CRON'])) {\n\t\t\tif (!empty($key)) {\n\t\t?>\n\t\t<div class=\"l-unit\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check5<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"check\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('Cron Records');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?='cron '._('records');?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=cron&object=records&token=<?=$_SESSION['token']?>\" title=\"Restore\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n\n\t<!-- List user directories -->\n\t<?php\n\t\t$udir = explode(',',$data[$backup]['UDIR']);\n\t\tforeach ($udir as $key) {\n\t\t\tif (!empty($key)) {\n\t\t?>\n\t\t<div class=\"l-unit\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check6<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"udir[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('user dir');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?=$key?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=udir&object=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"Restore\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right total clearfix\">\n\t\t\t\t<?php printf(ngettext('%d item', '%d items', $i),$i); ?>\n\t\t\t</div>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right back clearfix\">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/cron/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Cron Job');?></a>\n\t\t\t\t<?php if($panel[$user]['CRON_REPORTS'] == 'yes') { ?>\n\t\t\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" href=\"/delete/cron/reports/?token=<?=$_SESSION['token'];?>\"><i class=\"fas fa-toggle-off status-icon green\"></i><?=_('turn off notifications');?></a>\n\t\t\t\t<?php } else { ?>\n\t\t\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" href=\"/add/cron/reports/?token=<?=$_SESSION['token'];?>\"><i class=\"fas fa-toggle-off status-icon grey\"></i><?=_('turn on notifications');?></a>\n\t\t\t\t<?php } ?>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Command');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = 'Command'; } else { $label = 'Date'; } ?>\n\t\t\t\t\t\t\t\t<?=_($label)?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t<td class=\"\">\n\t\t\t\t\t\t\t<form action=\"/bulk/cron/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php if($panel[$user]['CRON_REPORTS'] == 'yes') echo '<option value=\"delete-cron-reports\">'._('turn off notifications').'</option>'; ?>\n\t\t\t\t\t\t\t\t\t\t<?php if($panel[$user]['CRON_REPORTS'] == 'no') echo '<option value=\"add-cron-reports\">'._('turn on notifications').'</option>'; ?>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-5\"><b><?=_('Command');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-2 text-right\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><b><?=_('Min');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><b><?=_('Hour');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><b><?=_('Day');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><b><?=_('Month');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><b><?=_('Day of week');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin cron job list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_CRON_CONFIRMATION') ;\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_CRON_CONFIRMATION') ;\n\t\t\t}\n\t\t?>\n\t\t<div class=\"l-unit <?php if($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['CRON'][$key] == 1) echo ' l-unit--starred'; ?> animated fadeIn\" v_unit_id=\"<?=$key?>\" v_section=\"cron\"\n\t\t\tsort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=htmlspecialchars($data[$key]['CMD'], ENT_NOQUOTES)?>\"\n\t\t\tsort-star=\"<?php if($_SESSION['favourites']['CRON'][$key] == 1) echo '1'; else echo '0';  ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i ?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"job[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-5 truncate\">\n\t\t\t\t\t<?php if (($read_only === 'true') || ($data[$key]['SUSPENDED'] == 'yes')) {?>\n\t\t\t\t\t\t<b><?=htmlspecialchars($data[$key]['CMD'], ENT_NOQUOTES)?></b>\n\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t<b><a href=\"/edit/cron/?job=<?=$data[$key]['JOB']?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Cron Job');?>: <?=htmlspecialchars($data[$key]['CMD'], ENT_NOQUOTES)?>\"><?=htmlspecialchars($data[$key]['CMD'], ENT_NOQUOTES)?></a></b>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</div>\n\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-2 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t<!-- Restrict other administrators from editing, deleting, or suspending 'admin' user cron jobs -->\n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__download shortcut-enter\" key-action=\"href\"><a href=\"/edit/cron/?job=<?=$data[$key]['JOB']?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Cron Job');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/cron/?job=<?=$data[$key]['JOB']?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/cron/?job=<?=$data[$key]['JOB']?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_CRON_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><?=$data[$key]['MIN']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><?=$data[$key]['HOUR']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><?=$data[$key]['DAY']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><?=$data[$key]['MONTH']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><?=$data[$key]['WDAY']?></div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d cron job', '%d cron jobs', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<?php\n\tlist($http_host, $port) = explode(':', $_SERVER[\"HTTP_HOST\"].\":\");\n\n\t$db_myadmin_link = \"//\".$http_host.\"/phpmyadmin/\";\n\t$db_pgadmin_link = \"//\".$http_host.\"/phppgadmin/\";\n\n\tif (!empty($_SESSION['DB_PMA_ALIAS'])) {\n\t\t$db_myadmin_link = \"//\".$http_host.\"/\".$_SESSION['DB_PMA_ALIAS'].\"/\";\n\t}\n\tif (!empty($_SESSION['DB_PGA_ALIAS'])) {\n\t\t$db_pgadmin_link = \"//\".$http_host.\"/\".$_SESSION['DB_PGA_ALIAS'].\"/\";\n\t}\n?>\n\n<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/db/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Database');?></a>\n\t\t\t\t<?php if (($_SESSION['DB_SYSTEM'] === 'mysql') || ($_SESSION['DB_SYSTEM'] === 'mysql,pgsql') || ($_SESSION['DB_SYSTEM'] === 'pgsql,mysql')) {?>\n\t\t\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" href=\"<?=$db_myadmin_link; ?>\" target=\"_blank\"><i class=\"fas fa-database status-icon orange\"></i>phpMyAdmin</a>\n\t\t\t\t<?php } ?>\n\t\t\t\t<?php if (($_SESSION['DB_SYSTEM'] === 'pgsql') || ($_SESSION['DB_SYSTEM'] === 'mysql,pgsql') || ($_SESSION['DB_SYSTEM'] === 'pgsql,mysql')) {?>\n\t\t\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" href=\"<?=$db_pgadmin_link; ?>\" target=\"_blank\"><i class=\"fas fa-database status-icon orange\"></i>phpPgAdmin</a>\n\t\t\t\t<?php } ?>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-charset\"><span class=\"name\"><?=_('Charset');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-disk\" sort_as_int=\"1\"><span class=\"name\"><?=_('Disk');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-server\"><span class=\"name\"><?=_('Host');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-user\"><span class=\"name\"><?=_('Username');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = 'Name'; } else { $label = 'Date'; } ?>\n\t\t\t\t\t\t\t\t<?=_($label)?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<form action=\"/bulk/db/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"rebuild\"><?=_('rebuild');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3\"><b><?=_('Name');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-3\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Disk');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('Type');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center wide\"><b><?=_('Username');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Hostname');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Charset');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin database list item loop -->\n\t<?php\n\t\tlist($http_host, $port) = explode(':', $_SERVER[\"HTTP_HOST\"].\":\");\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_DATABASE_CONFIRMATION') ;\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_DATABASE_CONFIRMATION') ;\n\t\t\t}\n\t\t\tif ($data[$key]['HOST'] != 'localhost' ) $http_host = $data[$key]['HOST'];\n\t\t\tif ($data[$key]['TYPE'] == 'mysql') $db_admin = \"phpMyAdmin\";\n\t\t\tif ($data[$key]['TYPE'] == 'mysql') $db_admin_link = \"https://\".$http_host.\"/phpmyadmin/\";\n\t\t\tif (($data[$key]['TYPE'] == 'mysql') && (!empty($_SESSION['DB_PMA_ALIAS']))) $db_admin_link = $_SESSION['DB_PMA_ALIAS'];\n\t\t\tif ($data[$key]['TYPE'] == 'pgsql') $db_admin = \"phpPgAdmin\";\n\t\t\tif ($data[$key]['TYPE'] == 'pgsql') $db_admin_link = \"https://\".$http_host.\"/phppgadmin/\";\n\t\t\tif (($data[$key]['TYPE'] == 'pgsql') && (!empty($_SESSION['DB_PGA_ALIAS']))) $db_admin_link = $_SESSION['DB_PGA_ALIAS'];\n\t\t?>\n\t\t<div class=\"l-unit <?php if($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['DB'][$key] == 1) echo ' l-unit--starred'; ?> animated fadeIn\" v_unit_id=\"<?=$key?>\" v_section=\"db\"\n\t\t\tsort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=$key?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\"\n\t\t\tsort-user=\"<?=$data[$key]['DBUSER']?>\" sort-server=\"<?=$data[$key]['HOST']?>\" sort-charset=\"<?=$data[$key]['CHARSET']?>\" sort-star=\"<?php if($_SESSION['favourites']['DB'][$key] == 1) echo '1'; else echo '0'; ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t\t<input id=\"check<?=$i ?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"database[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3 truncate\">\n\t\t\t\t\t\t<?php if (($read_only === 'true') || ($data[$key]['SUSPENDED'] == 'yes')) {?>\n\t\t\t\t\t\t\t<b><?=$key?></b>\n\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t<b><a href=\"/edit/db/?database=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Database');?>: <?=$key?>\"><?=$key?></a></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-3\">\n\t\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t\t<!-- Restrict the ability to edit, delete, or suspend domain items when impersonating 'admin' user -->\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a href=\"/edit/db/?database=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Database');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php if ($data[$key]['TYPE'] == 'mysql' && isset($_SESSION['PHPMYADMIN_KEY']) && $_SESSION['PHPMYADMIN_KEY'] != '') { $time = time(); ?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a target=\"_blank\" href=\"<?=$db_myadmin_link;?>/hestia-sso.php?database=<?=$key;?>&user=<?=$user;?>&exp=<?=$time;?>&hestia_token=<?=password_hash($key.$user.$_SESSION['user_combined_ip'].$time.$_SESSION['PHPMYADMIN_KEY'], PASSWORD_DEFAULT)?>\" title=\"<?=_('phpMyAdmin');?>\"><i class=\"fas fa-sign-in-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/db/?database=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/db/?database=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_DATABASE_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=humanize_usage_size($data[$key]['U_DISK'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_DISK'])?></span></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><?=$data[$key]['TYPE']?></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center wide\"><b><?=$data[$key]['DBUSER']?></b></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=$data[$key]['HOST']?></b></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><?=$data[$key]['CHARSET']?></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d SQL database', '%d SQL databases', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/dns/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add DNS Domain');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display: none;\">\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-expire\" sort_as_int=\"1\"><span class=\"name\"><?=_('Expire');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-ip\"><span class=\"name\"><?=_('IP address');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-records\"><span class=\"name\"><?=_('Records');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\">\n\t\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = 'Name'; } else { $label = 'Date'; } ?>\n\t\t\t\t\t\t\t\t\t<?=_($label)?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<form action=\"/bulk/dns/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"rebuild\"><?=_('rebuild');?></option>\n\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3\"><b><?=_('Name');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('Records_DNS');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Template');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('TTL');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center wide\"><b><?=_('SOA');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Expiration Date');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin DNS zone list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t}\n\t\t?>\n\t\t<div class=\"l-unit <?php if ($status == 'suspended') echo ' l-unit--suspended'; if($_SESSION['favourites']['DNS'][$key] == 1) echo ' l-unit--starred'; ?> animated fadeIn\" v_unit_id=\"<?=htmlentities($key);?>\"\n\t\t\tv_section=\"dns\" sort-ip=\"<?=str_replace('.', '', $data[$key]['IP'])?>\" sort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=htmlentities($key);?>\"\n\t\t\tsort-expire=\"<?=strtotime($data[$key]['EXP'])?>\" sort-records=\"<?=(int)$data[$key]['RECORDS']?>\" sort-star=\"<?php if ($_SESSION['favourites']['DNS'][$key] == 1) echo '1'; else echo '0';?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i ?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"domain[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3 truncate\">\n\t\t\t\t\t<b><a href=\"/list/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('DNS records');?>: <?=htmlentities($key);?>\"><?=htmlentities($key);?></a></b>\n\t\t\t\t\t<?=empty($data[$key]['SRC'])? '' : '<br/>\u21e2 <span style=\"font-size:11px;\">' . htmlspecialchars($data[$key]['SRC'], ENT_QUOTES) . '</span>'; ?>\n\t\t\t\t</div>\n\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t<!-- Restrict administrators from editing domain items when impersonating the 'admin' user -->\n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-n\" key-action=\"href\"><a href=\"/add/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Add DNS Record');?>\"><i class=\"fas fa-plus-circle status-icon green status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a href=\"/edit/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing DNS Domain');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-l\" key-action=\"href\"><a href=\"/list/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('DNS records');?>\"><i class=\"fas fa-list status-icon lightblue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_DOMAIN_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\">\n\t\t\t\t\t<?php if ($data[$key]['RECORDS']) echo '<span>'.$data[$key]['RECORDS'].'</span>';?>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=$data[$key]['TPL']?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><?=$data[$key]['TTL']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center wide\"><?=$data[$key]['SOA']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=$data[$key]['EXP']?></b></div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d DNS zone', '%d DNS zones', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/dns/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/dns/?domain=<?=htmlentities($_GET['domain'])?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i> <?=_('Add Record');?></a>\n\t\t\t\t<a href=\"/edit/dns/?domain=<?=htmlentities($_GET['domain'])?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-pencil-alt status-icon blue\"></i> <?=_('Editing DNS Domain');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-value\"><span class=\"name\"><?=_('IP or Value');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-record\"><span class=\"name\"><?=_('Record');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-ttl\" sort_as_int=\"1\"><span class=\"name\"><?=_('TTL');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-type\"><span class=\"name\"><?=_('Type');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = 'Record'; } else { $label = 'Date'; } ?>\n\t\t\t\t\t\t\t\t<?=_($label)?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<form action=\"/bulk/dns/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"domain\" value=\"<?=htmlentities($_GET['domain'])?>\" />\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left small\"><b><?=_('Record');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact text-right\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\" style=\"padding-left: 32px;\"><b><?=_('Type');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\"><b><?=_('Priority');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\"><b><?=_('TTL');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-6\"><b><?=_('IP or Value');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin DNS record list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t?>\n\t\t<div class=\"l-unit<?php if ($status == 'suspended') echo ' l-unit--suspended'; if($_SESSION['favourites']['DNS_REC'][$key] == 1) echo ' l-unit--starred';?> animated fadeIn\"\n\t\t\tv_unit_id=\"<?=htmlentities($key);?>\" v_section=\"dns_rec\" sort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-record=\"<?=$data[$key]['RECORD']?>\" sort-type=\"<?=$data[$key]['TYPE']?>\" sort-ttl=\"<?=$data[$key]['TTL']?>\" sort-value=\"<?=$data[$key]['VALUE']?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$data[$key]['ID']?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"record[]\" value=\"<?=$data[$key]['ID']?>\" <?=$display_mode;?>>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left small truncate\">\n\t\t\t\t\t<b>\n\t\t\t\t\t<?php if (($read_only === 'true') || ($data[$key]['SUSPENDED'] == 'yes')) {?>\n\t\t\t\t\t\t<?=substr($data[$key]['RECORD'], 0, 12); if(strlen($data[$key]['RECORD']) > 12 ) echo '...'; ?>\n\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t<a href=\"/edit/dns/?domain=<?=htmlspecialchars($_GET['domain'])?>&record_id=<?=$data[$key]['ID']?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing DNS Record').': '.htmlspecialchars($data[$key]['RECORD'])?>\"><? echo substr($data[$key]['RECORD'], 0, 12); if(strlen($data[$key]['RECORD']) > 12 ) echo '...'; ?></a>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</b>\n\t\t\t\t</div>\n\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact text-right\">\n\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t<!-- Restrict editing of DNS records when impersonating 'admin' account -->\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a href=\"/edit/dns/?domain=<?=htmlspecialchars($_GET['domain'])?>&record_id=<?=$data[$key]['ID']?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing DNS Record');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/dns/?domain=<?=htmlspecialchars($_GET['domain'])?>&record_id=<?=$data[$key]['ID']?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_RECORD_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\" style=\"padding-left: 32px;\"><b><?=$data[$key]['TYPE']?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\"><?=$data[$key]['PRIORITY']?>&nbsp;</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\"><?php if($data[$key]['TTL'] == ''){ echo _('Default'); }else{ echo $data[$key]['TTL'];} ?></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-6 truncate\" style=\"word-break: break-word;\"><?=htmlspecialchars($data[$key]['VALUE'], ENT_QUOTES, 'UTF-8');?></div>\n\t\t</div>\n\t</div>\n<?php } ?>\n\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right total clearfix\">\n\t\t\t\t<?php printf(ngettext('%d DNS record', '%d DNS records', $i),$i); ?>\n\t\t\t</div>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right back clearfix\">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/mail/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Mail Domain');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-accounts\" sort_as_int=\"1\"><span class=\"name\"><?=_('Accounts');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-disk\" sort_as_int=\"1\"><span class=\"name\"><?=_('Disk');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = 'Name'; } else { $label = 'Date'; } ?>\n\t\t\t\t\t\t\t\t<?=_($label)?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<form action=\"/bulk/mail/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"rebuild\"><?=_('rebuild');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3\"><b><?=_('Name');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-5\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-2\"><b><?=_('Accounts');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-2\"><b><?=_('Disk');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\"><b><?=_('Antivirus');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\"><b><?=_('AntiSpam');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\"><b><?=_('DKIM');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\"><b><?=_('SSL');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin mail domain list item loop -->\n\t<?php\n\t\tlist($http_host, $port) = explode(':', $_SERVER[\"HTTP_HOST\"].\":\");\n\t\t$webmail = \"webmail\";\n\t\tif (!empty($_SESSION['WEBMAIL_ALIAS'])) $webmail = $_SESSION['WEBMAIL_ALIAS'];\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t\tif ($data[$key]['ANTIVIRUS'] == 'no') {\n\t\t\t\t\t$antivirus_icon = 'fa-times-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$antivirus_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['ANTISPAM'] == 'no') {\n\t\t\t\t\t$antispam_icon = 'fa-times-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$antispam_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['DKIM'] == 'no') {\n\t\t\t\t\t$dkim_icon = 'fa-times-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$dkim_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['SSL'] == 'no') {\n\t\t\t\t\t$ssl_icon = 'fa-times-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$ssl_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t\tif ($data[$key]['ANTIVIRUS'] == 'no') {\n\t\t\t\t\t$antivirus_icon = 'fa-times-circle status-icon red';\n\t\t\t\t} else {\n\t\t\t\t\t$antivirus_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['ANTISPAM'] == 'no') {\n\t\t\t\t\t$antispam_icon = 'fa-times-circle status-icon red';\n\t\t\t\t} else {\n\t\t\t\t\t$antispam_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['DKIM'] == 'no') {\n\t\t\t\t\t$dkim_icon = 'fa-times-circle status-icon red';\n\t\t\t\t} else {\n\t\t\t\t\t$dkim_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['SSL'] == 'no') {\n\t\t\t\t\t$ssl_icon = 'fa-times-circle status-icon red';\n\t\t\t\t} else {\n\t\t\t\t\t$ssl_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (empty($data[$key]['CATCHALL'])) {\n\t\t\t\t$data[$key]['CATCHALL'] = '/dev/null';\n\t\t\t}\n\t\t?>\n\t\t<div class=\"l-unit <?php if ($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['MAIL'][$key] == 1) echo ' l-unit--starred'; ?> animated fadeIn\" v_unit_id=\"<?=$key?>\" v_section=\"mail\"\n\t\t\tsort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=$key?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\"\n\t\t\tsort-accounts=\"<?=$data[$key]['ACCOUNTS']?>\" sort-star=\"<?php if ($_SESSION['favourites']['MAIL'][$key] == 1) echo \" 1\"; else echo \"0\" ; ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t\t<input id=\"check<?=$i ?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"domain[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3 truncate\"><b><a href=\"?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('mail accounts');?>: <?=$key?>\"><?=$key?></a></b></div>\n\t\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-5\">\n\t\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t\t<!-- Restrict ability to edit, delete, or suspend domain items when impersonating 'admin' account -->\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-l\" key-action=\"href\"><a href=\"?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('mail accounts');?>\"><i class=\"fas fa-users status-icon blue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-l\" key-action=\"href\"><a href=\"?domain=<?=$key?>&dns=1&token=<?=$_SESSION['token']?>\" title=\"<?=_('DNS records mail');?>\"><i class=\"fas fa-atlas status-icon blue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit\" key-action=\"href\"><a href=\"http://<?=$webmail;?>.<?=$key?>/\" target=\"_blank\" title=\"<?=_('open webmail');?>\"><i class=\"fas fa-paper-plane status-icon lightblue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-n\" key-action=\"href\"><a href=\"/add/mail/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Add Mail Account');?>\"><i class=\"fas fa-plus-circle status-icon green status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t\t<?php if($_SESSION['WEBMAIL_SYSTEM']){?>\n\t\t\t\t\t\t\t\t\t\t\t<?php if (!empty($data[$key]['WEBMAIL'])) {?>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit\" key-action=\"href\"><a href=\"http://<?=$webmail;?>.<?=$key?>/\" target=\"_blank\" title=\"<?=_('open webmail');?>\"><i class=\"fas fa-paper-plane status-icon lightblue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a href=\"/edit/mail/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Mail Domain');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-l\" key-action=\"href\"><a href=\"?domain=<?=$key?>&dns=1&token=<?=$_SESSION['token']?>\" title=\"<?=_('DNS records');?>\"><i class=\"fas fa-atlas status-icon blue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/mail/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/mail/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_DOMAIN_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-2\"><b>\n\t\t\t\t\t\t\t<?php \n\t\t\t\t\t\t\t\tif ($data[$key]['ACCOUNTS']) { \n\t\t\t\t\t\t\t\t\t$mail_accounts = htmlentities($data[$key]['ACCOUNTS']);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$mail_accounts = '0'; \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t<span><?=$mail_accounts;?></span>\n\t\t\t\t\t\t</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-2\"><b>\n\t\t\t\t\t\t\t<?=humanize_usage_size($data[$key]['U_DISK'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_DISK'])?></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\">\n\t\t\t\t\t\t<i class=\"fas <?=$antivirus_icon;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\">\n\t\t\t\t\t\t<i class=\"fas <?=$antispam_icon;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\">\n\t\t\t\t\t\t<i class=\"fas <?=$dkim_icon;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\">\n\t\t\t\t\t\t<i class=\"fas <?=$ssl_icon;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d mail domain', '%d mail domains', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<?php\n\t$v_webmail_alias = \"webmail\";\n\tif (!empty($_SESSION['WEBMAIL_ALIAS'])) $v_webmail_alias = $_SESSION['WEBMAIL_ALIAS'];\n?>\n<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/mail/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<?php if ($read_only !== 'true') { ?>\n\t\t\t\t<a href=\"/add/mail/?domain=<?=htmlentities($_GET['domain'])?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Mail Account');?></a>\n\t\t\t\t<a href=\"/edit/mail/?domain=<?=htmlentities($_GET['domain'])?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-pencil-alt status-icon blue\"></i><?=_('Editing Mail Domain');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-disk\" sort_as_int=\"1\"><span class=\"name\"><?=_('Disk');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-quota\" sort_as_int=\"1\"><span class=\"name\"><?=_('Quota');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = 'Name'; } else { $label = 'Date'; } ?>\n\t\t\t\t\t\t\t\t<?=_($label)?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') { ?>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<form action=\"/bulk/mail/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<input type=\"hidden\" value=\"<?=htmlspecialchars($_GET['domain']); ?>\" name=\"domain\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3\"><b><?=_('Name');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-4\"><b>&nbsp;</b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('Disk');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Quota');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Aliases');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Forwarding');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Autoreply');?></b></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin mail account list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_MAIL_ACCOUNT_CONFIRMATION');\n\t\t\t\tif ($data[$key]['ALIAS'] == '') {\n\t\t\t\t\t$alias_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$alias_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['FWD'] == '') {\n\t\t\t\t\t$fwd_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$fwd_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['AUTOREPLY'] == 'no') {\n\t\t\t\t\t$autoreply_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$autoreply_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_MAIL_ACCOUNT_CONFIRMATION');\n\t\t\t\tif ($data[$key]['ALIAS'] == '') {\n\t\t\t\t\t$alias_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$alias_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['FWD'] == '') {\n\t\t\t\t\t$fwd_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$fwd_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['AUTOREPLY'] == 'no') {\n\t\t\t\t\t$autoreply_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$autoreply_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t}\n\t\t?>\n\t\t<div class=\"l-unit <?php if ($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['MAIL_ACC'][$key.\" @\".$_GET['domain']]==1) echo ' l-unit--starred' ; ?> animated fadeIn\"\n\t\t\tv_unit_id=\"<?=$key.\"@\".$_GET['domain']?>\" v_section=\"mail_acc\" sort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=$key?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\"\n\t\t\tsort-quota=\"<?=$data[$key]['QUOTA']?>\" sort-star=\"\n\t\t\t<?php if ($_SESSION['favourites']['MAIL_ACC'][$key.\"@\".$_GET['domain']] == 1) echo '1'; else echo '0'; ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i ?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"account[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3 truncate\">\n\t\t\t\t\t<?php if (($read_only === 'true') || ($data[$key]['SUSPENDED'] == 'yes')) { ?>\n\t\t\t\t\t\t<b><?=$key.\"@\".$_GET['domain']?></b>\n\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t<b><a href=\"/edit/mail/?domain=<?=htmlspecialchars($_GET['domain'])?>&account=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Mail Account');?>: <?=$key?>@<?=htmlspecialchars($_GET['domain'])?>\"><?=$key.\"@\".$_GET['domain']?></a></b>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</div>\n\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-4\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<?php if ($read_only === 'true') { ?>\n\t\t\t\t\t\t\t\t<!-- Restrict the ability to edit, delete, or suspend domain items when impersonating 'admin' account -->\n\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'yes') { ?>\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit\" key-action=\"href\"><a href=\"http://<?=$v_webmail_alias;?>.<?=htmlspecialchars($_GET['domain'])?>/?_user=<?=$key?>@<?=htmlspecialchars($_GET['domain'])?>\" target=\"_blank\" title=\"<?=_('open webmail');?>\"><i class=\"fas fa-envelope-open-text status-icon maroon status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') { ?>\n\t\t\t\t\t\t\t\t\t<?php if($_SESSION['WEBMAIL_SYSTEM']){?>\n\t\t\t\t\t\t\t\t\t\t<?php if (!empty($data[$key]['WEBMAIL'])) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit\" key-action=\"href\"><a href=\"http://<?=$v_webmail_alias;?>.<?=htmlspecialchars($_GET['domain'])?>/?_user=<?=$key?>@<?=htmlspecialchars($_GET['domain'])?>\" target=\"_blank\" title=\"<?=_('open webmail');?>\"><i class=\"fas fa-envelope-open-text status-icon maroon status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a href=\"/edit/mail/?domain=<?=htmlspecialchars($_GET['domain'])?>&account=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Mail Account');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/mail/?domain=<?=htmlspecialchars($_GET['domain'])?>&account=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/mail/?domain=<?=htmlspecialchars($_GET['domain'])?>&account=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_MAIL_ACCOUNT_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=humanize_usage_size($data[$key]['U_DISK'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_DISK'])?></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_(humanize_usage_size($data[$key]['QUOTA'])) ?></b> <span class=\"text-small\"><?=_(humanize_usage_measure($data[$key]['QUOTA'])) ?></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\">\n\t\t\t\t\t<i class=\"fas <?=$alias_icon;?>\"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\">\n\t\t\t\t\t<i class=\"fas <?=$fwd_icon;?>\"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\">\n\t\t\t\t\t<i class=\"fas <?=$autoreply_icon;?>\"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d mail account', '%d mail accounts', $i),$i); ?>\n\t\t\t</div>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right back clearfix\">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/user/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<a href=\"/add/package/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Package');?></a>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = 'Name'; } else { $label = 'Date'; } ?>\n\t\t\t\t\t\t\t\t<?=_($label)?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<form action=\"/bulk/package/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t<select class=\"\" name=\"action\">\n\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\">\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-2\"><b><?=_('Package');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-right\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><i class=\"fas fa-terminal\" title=\"<?=_('Shell');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><i class=\"fas fa-hdd\" title=\"<?=_('Quota');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><i class=\"fas fa-exchange-alt\" title=\"<?=_('Bandwidth');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-globe-americas\" title=\"<?=_('Web Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-link\" title=\"<?=_('Web Aliases');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-atlas\" title=\"<?=_('DNS Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-globe\" title=\"<?=_('DNS Records');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-mail-bulk\" title=\"<?=_('Mail Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-inbox\" title=\"<?=_('Mail Accounts');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-database\" title=\"<?=_('Databases');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-clock\" title=\"<?=_('Cron Jobs');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-file-archive\" title=\"<?=_('Backups');?>\"></i></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin package list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t?>\n\t\t<div class=\"l-unit  <?php if ($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['USER'][$key] == 1) echo ' l-unit--starred';?> animated fadeIn\" v_section=\"user\"\n\t\t\tv_unit_id=\"<?=$key?>\" sort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=$key?>\"\n\t\t\tsort-bandwidth=\"<?=$data[$key]['U_BANDWIDTH']?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\" sort-star=\"<?php if ($_SESSION['favourites']['USER'][$key] == 1) echo '1'; else echo '0'; ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"user[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<?php if ($key == 'system'){ ?>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-2 truncate\"><b><?=$key?></b></div>\n\t\t\t\t<?php } else {?>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-2 truncate\"><b><a href=\"/edit/package/?package=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Package');?>: <?=$key?>\"><?=$key?></b></a></div>\n\t\t\t\t<?php } ?>\n\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-3\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<?php if (($key == 'system')) { ?>\n\t\t\t\t\t\t\t\t<!-- Restrict editing system package -->\n\t\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-enter\" key-action=\"href\"><a href=\"/edit/package/?package=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Package');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit\" key-action=\"href\"><a href=\"/copy/package/?package=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Copy');?>\"><i class=\"fas fa-clone status-icon teal status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t<?php if ($key == 'system') { ?>\n\t\t\t\t\t\t\t\t<!-- Restrict deleting system package -->\n\t\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('Delete');?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/package/?package=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_PACKAGE_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\">\n\t\t\t\t\t<?php if ($data[$key]['SHELL'] == 'nologin'){ ?>\n\t\t\t\t\t\t<i class=\"fas fa-minus-circle status-icon large\" title=\"<?=_('SSH Access');?>: <?=$data[$key]['SHELL']?>\"> </i>\n\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t<i class=\"fas fa-check-circle status-icon green large\"></i>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\">\n\t\t\t\t\t<span title=\"<?=_('Quota');?>: <?=humanize_usage_size($data[$key]['DISK_QUOTA'])?> <?=humanize_usage_measure($data[$key]['DISK_QUOTA'])?>\">\n\t\t\t\t\t\t<?php if (preg_match('/[a-z]/i', $data[$key]['DISK_QUOTA'])): ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php else: ?>\n\t\t\t\t\t\t\t<b><?=humanize_usage_size($data[$key]['DISK_QUOTA'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['DISK_QUOTA'])?></span>\n\t\t\t\t\t\t<?php endif; ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\">\n\t\t\t\t\t<span title=\"<?=_('Bandwidth');?>: <?=humanize_usage_size($data[$key]['BANDWIDTH'])?> <?=humanize_usage_measure($data[$key]['BANDWIDTH'])?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['BANDWIDTH'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=humanize_usage_size($data[$key]['BANDWIDTH'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['BANDWIDTH'])?></span>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Web Domains');?>: <?=$data[$key]['WEB_DOMAINS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['WEB_DOMAINS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['WEB_DOMAINS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Web Aliases');?>: <?=$data[$key]['WEB_ALIASES']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['WEB_ALIASES'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['WEB_ALIASES']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('DNS Domains');?>: <?=$data[$key]['DNS_DOMAINS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['DNS_DOMAINS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['DNS_DOMAINS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('DNS Records');?>: <?=$data[$key]['DNS_RECORDS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['DNS_RECORDS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['DNS_RECORDS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Mail Domains');?>: <?=$data[$key]['MAIL_DOMAINS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['MAIL_DOMAINS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['MAIL_DOMAINS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Mail Accounts');?>: <?=$data[$key]['MAIL_ACCOUNTS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['MAIL_ACCOUNTS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['MAIL_ACCOUNTS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Databases');?>: <?=$data[$key]['DATABASES']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['DATABASES'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['DATABASES']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Cron Jobs');?>: <?=$data[$key]['CRON_JOBS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['CRON_JOBS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['CRON_JOBS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Backups');?>: <?=$data[$key]['BACKUPS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['BACKUPS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['BACKUPS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator visible\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d package', '%d packages', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-sort-toolbar clearfix float-left\">\n\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_generate_csr\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Generating CSR');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\"><?=_('SSL Certificate');?> <a href=\"javascript:saveTextToBlob('<?php echo $v_domain;?>.crt', 'v_crt');\"><i class=\"fas fa-download\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput\" name=\"v_crt\" id=\"v_crt\"><?=$v_crt ?> </textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('SSL Key');?> <a href=\"javascript:saveTextToBlob('<?php echo $v_domain;?>.key', 'v_key');\"><i class=\"fas fa-download\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput\" name=\"v_key\" id=\"v_key\"><?=$v_key ?> </textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 24px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('SSL CSR');?> <a href=\"javascript:saveTextToBlob('<?php echo $v_domain;?>.csr', 'v_crt');\"><i class=\"fas fa-download\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput\" name=\"v_csr\" id=\"v_csr\"><?=$v_csr ?> </textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td style=\"padding: 24px 0 0 0;\">\n\t\t\t\t\t\t\t\t<input type=\"button\" class=\"button cancel\" value=\"<?=_('Back');?>\" onclick=\"<?=$back ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a href=\"/add/user/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add User');?></a>\n\t\t\t<a href=\"/list/package/\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-box-open status-icon orange\"></i><?=_('Packages');?></a>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-bandwidth\" sort_as_int=\"1\"><span class=\"name\"><?=_('Bandwidth');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-disk\" sort_as_int=\"1\"><span class=\"name\"><?=_('Disk');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = 'Name'; } else { $label = 'Date'; } ?>\n\t\t\t\t\t\t\t\t<?=_($label)?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<form action=\"/bulk/user/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t<select class=\"\" name=\"action\">\n\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild\"><?=_('rebuild');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild user\"><?=_('rebuild user');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild web\"><?=_('rebuild web');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild dns\"><?=_('rebuild dns');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild mail\"><?=_('rebuild mail');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild db\"><?=_('rebuild db');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild cron\"><?=_('rebuild cron');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"update counters\"><?=_('update counters');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?= _('suspend');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\n\t<!-- Table header -->\n\t<div class=\"table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\">\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3\"><b><?=_('Name');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Package');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><?=_('IPs');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-hdd\" title=\"<?=_('Disk');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><i class=\"fas fa-exchange-alt\" title=\"<?=_('Bandwidth');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-globe-americas\" title=\"<?=_('Web Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-atlas\" title=\"<?=_('DNS Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-mail-bulk\" title=\"<?=_('Mail Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-database\" title=\"<?=_('Databases');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-clock\" title=\"<?=_('Cron Jobs');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-file-archive\" title=\"<?=_('Backups');?>\"></i></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin user list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_USER_CONFIRMATION');\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_USER_CONFIRMATION');\n\t\t\t}\n\t\t?>\n\t\t<div class=\"l-unit <?php if ($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['USER'][$key] == 1) echo ' l-unit--starred';?> animated fadeIn\" v_section=\"user\"\n\t\t\tv_unit_id=\"<?=$key?>\" sort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=strtolower($key)?>\"\n\t\t\tsort-bandwidth=\"<?=$data[$key]['U_BANDWIDTH']?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\" sort-star=\"<?php if ($_SESSION['favourites']['USER'][$key] == 1) echo '1'; else echo '0'; ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\" style=\"<?php if (($_SESSION['POLICY_SYSTEM_HIDE_ADMIN'] === 'yes') && ($_SESSION['user'] !== 'admin') && ($key === 'admin')) { echo 'display: none';} else {echo 'display: table-cell';}?>\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"user[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3 userlist-username\">\n\t\t\t\t\t<?php if ($key == $user) { ?>\n\t\t\t\t\t\t<b><a href=\"/edit/user/?user=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing User');?>\"><?=$key?> <span style=\"font-weight: normal !important;\">(<?=$data[$key]['NAME'];?>)</span></b></a>\n\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t<b><a href=\"/login/?loginas=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('login as');?> <?=$key?>\"><?=$key?> <span style=\"font-weight: normal !important;\">(<?=$data[$key]['NAME'];?>)</span></b></a>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div class=\"userlist-email\"><b><?=_('Email');?>:</b> <?=$data[$key]['CONTACT']?></div>\n\t\t\t\t</div>\n\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-3\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<?php if ($key == $user) { ?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-user-check status-icon status-icon dim icon-large\" title=\"<?=$key?> (<?=$data[$key]['NAME']?>)\"></i>\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<a href=\"/login/?loginas=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('login as');?> <?=$key?>\"><i class=\"fas fa-sign-in-alt status-icon green status-icon dim icon-large\"></i></a>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === 'admin') && ($key == 'admin') && ($_SESSION['user'] != 'admin')) { ?>\n\t\t\t\t\t\t\t\t<!-- Hide edit button from admin user when logged in with another admin user -->\n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-enter\" key-action=\"href\"><a href=\"/edit/user/?user=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing User');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php if ($key == 'admin') { ?>\n\t\t\t\t\t\t\t\t<!-- Hide suspend and delete buttons in the user list for primary 'admin' account -->\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<?php if ($key == $user) { ?>\n\t\t\t\t\t\t\t\t\t<!-- Hide suspend and delete buttons in the user list for current user -->\n\t\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/user/?user=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/user/?user=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_USER_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\">\n\t\t\t\t\t<b>\n\t\t\t\t\t\t<?php if ($data[$key]['PACKAGE'] === 'default' ){?>\n\t\t\t\t\t\t\t<?=$data[$key]['PACKAGE']?>\n\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t<a href=\"/edit/package/?package=<?=$data[$key]['PACKAGE']?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Edit Package');?>\"><?=$data[$key]['PACKAGE']?></a>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</b>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><?=$data[$key]['IP_OWNED']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><?=humanize_usage_size($data[$key]['U_DISK'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_DISK'])?></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=humanize_usage_size($data[$key]['U_BANDWIDTH'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_BANDWIDTH'])?></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_WEB_DOMAINS']?> <?=_('Web Domains');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_WEB_DOMAINS']?></b></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_DNS_DOMAINS']?> <?=_('DNS Domains');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_DNS_DOMAINS']?></b></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_MAIL_DOMAINS']?> <?=_('Mail Domains');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_MAIL_DOMAINS']?></b></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_DATABASES']?> <?=_('Databases');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_DATABASES']?></b></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_CRON_JOBS']?> <?=_('Cron Jobs');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_CRON_JOBS']?></b></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_BACKUPS']?> <?=_('Backups');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_BACKUPS']?></b></span></div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator visible\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d user account', '%d user accounts', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/web/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Web Domain');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-bandwidth\" sort_as_int=\"1\"><span class=\"name\"><?=_('Bandwidth');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-disk\" sort_as_int=\"1\"><span class=\"name\"><?=_('Disk');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-ip\" sort_as_int=\"1\"><span class=\"name\"><?=_('IP address');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = 'Name'; } else { $label = 'Date'; } ?>\n\t\t\t\t\t\t\t\t<?=_($label)?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<form action=\"/bulk/web/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"rebuild\"><?=_('rebuild');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units narrow\">\n\t\n\t<!-- Table header -->\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-4\"><b><?=_('Name');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('IP address');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Disk');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('Bandwidth');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('SSL');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('Statistics');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin web domain list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t\t++$i;\n\t\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t\t\t$status = 'suspended';\n\t\t\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t\t\t$spnd_confirmation = _('UNSUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t\t} else {\n\t\t\t\t\t\t$status = 'active';\n\t\t\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t\t\t$spnd_confirmation = _('SUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t\t}\n\t\t\t\tif (!empty($data[$key]['SSL_HOME'])) {\n\t\t\t\t\t\tif ($data[$key]['SSL_HOME'] == 'same') {\n\t\t\t\t\t\t\t\t$ssl_home = 'public_html';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$ssl_home = 'public_shtml';\n\t\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t\t$ssl_home = '';\n\t\t\t\t}\n\t\t\t\t$web_stats='no';\n\t\t\t\tif (!empty($data[$key]['STATS'])) {\n\t\t\t\t\t\t$web_stats=$data[$key]['STATS'];\n\t\t\t\t}\n\t\t\t\t$ftp_user='no';\n\t\t\t\tif (!empty($data[$key]['FTP_USER'])) {\n\t\t\t\t\t\t$ftp_user=$data[$key]['FTP_USER'];\n\n\t\t\t\t}\n\t\t\t\tif (strlen($ftp_user) > 24 ) {\n\t\t\t\t\t\t$ftp_user = str_replace(':', ', ', $ftp_user);\n\t\t\t\t\t\t$ftp_user = substr($ftp_user, 0, 24);\n\t\t\t\t\t\t$ftp_user = trim($ftp_user, \":\");\n\t\t\t\t\t\t$ftp_user = str_replace(':', ', ', $ftp_user);\n\t\t\t\t\t\t$ftp_user = $ftp_user.\", ...\";\n\t\t\t\t} else {\n\t\t\t\t\t\t$ftp_user = str_replace(':', ', ', $ftp_user);\n\t\t\t\t}\n\n\t\t\t\t$backend_support='no';\n\t\t\t\tif (!empty($data[$key]['BACKEND'])) {\n\t\t\t\t\t\t$backend_support='yes';\n\t\t\t\t}\n\n\t\t\t\t$proxy_support='no';\n\t\t\t\tif (!empty($data[$key]['PROXY'])) {\n\t\t\t\t\t\t$proxy_support='yes';\n\t\t\t\t}\n\t\t\t\tif (strlen($data[$key]['PROXY_EXT']) > 24 ) {\n\t\t\t\t\t\t$proxy_ext_title = str_replace(',', ', ', $data[$key]['PROXY_EXT']);\n\t\t\t\t\t\t$proxy_ext = substr($data[$key]['PROXY_EXT'], 0, 24);\n\t\t\t\t\t\t$proxy_ext = trim($proxy_ext, \",\");\n\t\t\t\t\t\t$proxy_ext = str_replace(',', ', ', $proxy_ext);\n\t\t\t\t\t\t$proxy_ext = $proxy_ext.\", ...\";\n\t\t\t\t} else {\n\t\t\t\t\t\t$proxy_ext_title = '';\n\t\t\t\t\t\t$proxy_ext = str_replace(',', ', ', $data[$key]['PROXY_EXT']);\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['SUSPENDED'] === 'yes') {\n\t\t\t\t\tif ($data[$key]['SSL'] == 'no') { \n\t\t\t\t\t\t$icon_ssl = 'fas fa-times-circle';\n\t\t\t\t\t}\n\t\t\t\t\tif ($data[$key]['SSL'] == 'yes') { \n\t\t\t\t\t\t$icon_ssl = 'fas fa-check-circle';\n\t\t\t\t\t}\n\t\t\t\t\tif ($web_stats == 'no') { \n\t\t\t\t\t\t$icon_webstats = 'fas fa-times-circle';\n\t\t\t\t\t} else { \n\t\t\t\t\t\t$icon_webstats = 'fas fa-check-circle';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ($data[$key]['SSL'] == 'no') { \n\t\t\t\t\t\t$icon_ssl = 'fas fa-times-circle status-icon red';\n\t\t\t\t\t}\n\t\t\t\t\tif ($data[$key]['SSL'] == 'yes') { \n\t\t\t\t\t\t$icon_ssl = 'fas fa-check-circle status-icon green';\n\t\t\t\t\t}\n\t\t\t\t\tif ($web_stats == 'no') { \n\t\t\t\t\t\t$icon_webstats = 'fas fa-times-circle status-icon red';\n\t\t\t\t\t} else { \n\t\t\t\t\t\t$icon_webstats = 'fas fa-check-circle status-icon green';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t?>\n\t\t\t<div class=\"l-unit <?php if ($data[$key]['SUSPENDED'] == 'yes') echo 'l-unit--suspended'; if($_SESSION['favourites']['WEB'][$key] == 1) echo ' l-unit--starred'; ?> animated fadeIn\" v_section=\"web\" v_unit_id=\"<?=$key?>\"\n\t\t\t\tid=\"web-unit-<?=$i?>\" sort-ip=\"<?=str_replace('.', '', $data[$key]['IP'])?>\"\n\t\t\t\tsort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\"\n\t\t\t\tsort-name=\"<?=$key?>\" sort-bandwidth=\"<?=$data[$key]['U_BANDWIDTH']?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\" sort-star=\"<?php if ($_SESSION['WEB'][$key] == 1) echo '1'; else echo '0';?>\">\n\t\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t\t<input id=\"check<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"domain[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-4 truncate\">\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t<?=$key?>\n\t\t\t\t\t\t\t<?php } else {\n\t\t\t\t\t\t\t\t$aliases = explode(',', $data[$key]['ALIAS']);\n\t\t\t\t\t\t\t\t$alias_new = array();\n\t\t\t\t\t\t\t\tforeach($aliases as $alias){\n\t\t\t\t\t\t\t\t\tif($alias != 'www.'.$key){\n\t\t\t\t\t\t\t\t\t\t$alias_new[] = trim($alias);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<a href=\"/edit/web/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Domain');?>: <?=$key?>\"><?=$key?><?php if( !empty($alias_new) && !empty($data[$key]['ALIAS']) ){ echo \" <span class=\\\"hint\\\">(\".implode(',',$alias_new).\")\"; } ?></a>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t\t<?php if (!empty($data[$key]['STATS'])) { ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-w\" key-action=\"href\"><a href=\"http://<?=$key?>/vstats/\" rel=\"noopener\" target=\"_blank\" rel=\"noopener\" title=\"<?=_('Statistics');?>\"><i class=\"fas fa-chart-bar status-icon maroon status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__view\" key-action=\"href\"><a href=\"http://<?=$key?>/\" rel=\"noopener\" target=\"_blank\"><i class=\"fas fa-external-link-square-alt status-icon lightblue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t\t<!-- Restrict ability to edit, delete, or suspend web domains when impersonating the 'admin' account -->\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-enter\" key-action=\"href\"><a href=\"/edit/web/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Domain');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-l\" key-action=\"href\"><a href=\"/list/web-log/?domain=<?=$key?>&type=access#\" title=\"<?=_('AccessLog');?>\"><i class=\"fas fa-binoculars status-icon purple status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/web/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/web/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_DOMAIN_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><?=empty($ips[$data[$key]['IP']]['NAT']) ? $data[$key]['IP'] : \"{$ips[$data[$key]['IP']]['NAT']}\"; ?></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=humanize_usage_size($data[$key]['U_DISK'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_DISK'])?></span></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=humanize_usage_size($data[$key]['U_BANDWIDTH'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_BANDWIDTH'])?></span></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\">\n\t\t\t\t\t\t<i class=\"fas <?=$icon_ssl;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\">\n\t\t\t\t\t\t<i class=\"fas <?=$icon_webstats;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<?php } ?>\n\t</div>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d web domain', '%d web domains', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/edit/web/?domain=<?=$v_domain?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\" style=\"padding-top:240px;\">\n\n\t<div style=\"margin-left:68px; margin-top: 20px\">\n\t\t<div class=\"page-title\">\n\t\t\t<span><?=_('Quick Install App');?></span><br>\n\t\t</div>\n\t\t<div>\n\t\t\t<span>\n\t\t\t\t<?php\n\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t?>\n\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\t<div class=\"app-list cards\">\n\t\t<!-- List available web apps -->\n\t\t<?php foreach($v_web_apps as $webapp):?>\n\t\t\t<div class=\"card <?=($webapp['enabled']?'':'disable');?>\">\n\t\t\t\t<span class=\"card-thumb\"><img src=\"/src/app/WebApp/Installers/<?=$webapp['name'];?>/<?=$webapp['thumbnail'];?>\"></span>\n\t\t\t\t<div class=\"card-details\">\n\t\t\t\t\t<p class=\"card-title\"><?=$webapp['name'];?></p>\n\t\t\t\t\t<p><?=_('version');?>: <?=$webapp['version'];?></p>\n\t\t\t\t\t<a href=\"/add/webapp/?app=<?=$webapp['name'];?>&domain=<?=$v_domain?>\" class=\"ui-button cancel\" dir=\"ltr\"><?=_('Setup');?></a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<?php endforeach; ?>\n\t</div>\n</div>", "<!doctype html>\n<html lang=\"en\">\n\n<head>\n\t<!-- Load necessary CSS and JavaScript from source -->\n\t<?php require ''.$_SERVER['HESTIA'].'/web/templates/includes/title.html'; ?>\n\t<?php require ''.$_SERVER['HESTIA'].'/web/templates/includes/css.html'; ?>\n\t<?php require ''.$_SERVER['HESTIA'].'/web/templates/includes/top_js.html'; ?>\n\t<script src=\"/js/jquery/jquery.cookie.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/jquery/jquery-ui.min.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/jquery/jquery.finder.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/hotkeys.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/events.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/app.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/init.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/i18n.js.php?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/templates.js?<?=JS_LATEST_UPDATE?>\"></script>\n</head>\n\n<body>\n\t<a href=\"#\" class=\"to-top\" title=\"<?=_('Top');?>\">\n\t\t<i class=\"fas fa-arrow-up\"></i>\n\t</a>\n\t<div class=\"l-header\">\n\t\t<div class=\"l-center\">\n\t\t\t<a href=\"/\" class=\"l-logo\"></a>\n\t\t\t<div class=\"l-menu clearfix\">\n\t\t\t\t<div class=\"l-menu__item\"><a href=\"/list/web/\"><i class=\"fas fa-arrow-alt-circle-left\"></i>&nbsp;&nbsp;&nbsp;<?=_('Back');?></a></div>\n\t\t\t\t<div class=\"l-menu__item <?php if($_GET['type'] == 'access') echo 'l-menu__item--active' ?>\"><a href=\"/list/web-log/?domain=<?=htmlentities($_GET['domain'])?>&type=access&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-eye\"></i>&nbsp;&nbsp;&nbsp;<?=_('Access Log');?></a><a href=\"/download/web-log/?domain=<?=htmlentities($_GET['domain'])?>&type=access&&token=<?=$_SESSION['token']?>\" title=\"<?=_('Download');?>\"><i class=\"fas fa-download\"></i></a></div>\n\t\t\t\t<div class=\"l-menu__item <?php if($_GET['type'] == 'error') echo 'l-menu__item--active' ?>\"><a href=\"/list/web-log/?domain=<?=htmlentities($_GET['domain'])?>&type=error&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-exclamation-circle\"></i>&nbsp;&nbsp;&nbsp;<?=_('Error Log');?></a><a href=\"/download/web-log/?domain=<?=htmlentities($_GET['domain'])?>&type=error&token=<?=$_SESSION['token']?>\" title=\"<?=_('Download');?>\"><i class=\"fas fa-download\"></i></a></div>\n\t\t\t</div>\n\t\t\t<div class=\"l-profile\">\n\t\t\t\t<div class=\"l-menu__item\"><a href=\"javascript:location.reload();\" title=\"<?=_('Refresh');?>\"><i class=\"fas fa-redo\"></i></a></div>\n\t\t\t\t<div class=\"l-menu__item\"><a href=\"/edit/user/?user=<?=$user; ?>\" title=\"<?=$user?>\" class=\"l-profile__username\"><i class=\"fas fa-user-circle\"></i></a></div>\n\t\t\t\t<div class=\"l-menu__item\"><a href=\"/logout/?token=<?=$_SESSION['token']?>\" title=\"<?=_('Log out');?>\" class=\"l-profile__logout\"><i class=\"fas fa-sign-out-alt\"></i></a></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div style=\"margin-left: auto; margin-right: auto; padding-top: 80px; width: 1020px;\"><?=_('Last 70 lines of %s.%s.log',htmlentities($_GET['domain']),htmlentities($_GET['type'])) ;?></div>\n\t<pre style=\"width: 1020px; margin-left: auto; margin-right: auto;\" class=\"console-output\">", "<center>\n\t<table class=\"login\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td style=\"padding: 22px 30px 0 42px; height: 280px; width: 170px;\">\n\t\t\t\t\t\t\t<a href=\"/\"><img border=0 src=\"/images/logo.svg\" title=\"<?=_('Hestia Control Panel');?>\" style=\"margin-top: 70px;\" /></a>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td style=\"padding: 40px 60px 0 0;\" class=\"animated fadeIn\">\n\t\t\t\t\t\t\t<form method=\"get\" action=\"/reset/\">\n\t\t\t\t\t\t\t\t<table class=\"login-box\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\" class=\"login-welcome\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Forgot Password');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('RESET_CODE_SENT');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\" colspan=2><?=_('Reset Code');?></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"action\" value=\"confirm\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token'];?>\"/>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"user\" value=\"<?=htmlentities($_GET['user'], ENT_QUOTES|ENT_HTML5)?>\">\n\t\t\t\t\t\t\t\t\t\t\t<input tabindex=\"1\" type=\"text\" size=\"20px\" style=\"width:240px\" name=\"code\" class=\"vst-input\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 20px 0 12px 0;\">\n\t\t\t\t\t\t\t\t\t\t\t<input tabindex=\"2\" type=\"submit\" value=\"<?=_('Confirm');?>\" class=\"button\">&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"button\" class=\"button cancel\" value=\"<?=_('Back');?>\" onclick=\"location.href='/reset/'\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td colspan=2>\n\t\t\t\t\t\t\t<div class=\"login-bottom\">\n\t\t\t\t\t\t\t\t<div style=\"height:20px\"><?php if (isset($ERROR)) echo $ERROR ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n</center>\n</body>\n\n</html>", "<center>\n\t<table class=\"login\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td style=\"padding: 22px 30px 0 42px; height: 280px; width: 170px;\">\n\t\t\t\t\t\t\t<a href=\"/\"><img border=0 src=\"/images/logo.svg\" title=\"<?=_('Hestia Control Panel');?>\" style=\"margin-top: 70px;\" /></a>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td style=\"padding: 40px 60px 0 0;\" class=\"animated fadeIn\">\n\t\t\t\t\t\t\t<form method=\"post\">\n\t\t\t\t\t\t\t\t<table class=\"login-box\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\" class=\"login-welcome\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Forgot Password');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"action\" value=\"confirm\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token'];?>\"/>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"user\" value=\"<?=htmlentities($_GET['user'], ENT_QUOTES|ENT_HTML5)?>\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"code\" value=\"<?=htmlentities($_GET['code'], ENT_QUOTES|ENT_HTML5)?>\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('New Password');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input tabindex=\"1\" type=\"password\" size=\"20px\" style=\"width:200px;\" name=\"password\" class=\"vst-input\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Confirm Password');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input tabindex=\"2\" type=\"password\" size=\"20px\" style=\"width:200px;\" name=\"password_confirm\" class=\"vst-input\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 20px 0 12px 0;\">\n\t\t\t\t\t\t\t\t\t\t\t<input tabindex=\"3\" type=\"submit\" value=\"<?=_('Reset');?>\" class=\"button\">&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"button\" class=\"button cancel\" value=\"<?=_('Back');?>\" onclick=\"location.href='/login/'\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td colspan=2>\n\t\t\t\t\t\t\t<div class=\"login-bottom\">\n\t\t\t\t\t\t\t\t<div style=\"height:20px\"><?php if (isset($ERROR)) echo $ERROR ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n</center>\n</body>\n\n</html>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/add/webapp/?domain=<?=$v_domain?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<?php\n\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\techo \"<span class=\\\"vst-error\\\"> \u2192 \".htmlentities($_SESSION['error_msg']).\"</span>\";\n\t\t\t\t} else {\n\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\techo \"<span class=\\\"vst-ok\\\"> \u2192 \".$_SESSION['ok_msg'].\"</span>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t?>\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i> <?=_('Install');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\" style=\"padding-top:240px;\">\n\n\t<?php if( !empty($WebappInstaller->getOptions())): ?>\n\t\t<form id=\"vstobjects\" method=\"POST\" name=\"v_setup_webapp\" style=\"padding-top:0px;\">\n\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t<input type=\"hidden\" name=\"ok\" value=\"true\" />\n\n\t\t\t<div class=\"app-form\">\n\t\t\t\t<?php if( !$WebappInstaller->isDomainRootClean()): ?>\n\t\t\t\t\t<span class=\"alert alert-info alert-with-icon\">\n\t\t\t\t\t\t<i class=\"fas fa-info\"></i>\n\t\t\t\t\t\t<?=_('Data loss warning!<br>Your web domain already has files uploaded, the installer will overwrite your files and/or the installation might fail.<br/><br/> Please use the installer only for empty web domains');?>\n\t\t\t\t\t</span>\n\t\t\t\t\t<br />\n\t\t\t\t<?php endif; ?>\n\t\t\t\t<?php foreach ($WebappInstaller->getOptions() as $form_name => $form_control):?>\n\t\t\t\t\t<?php\n\t\t\t\t\t\t$f_name = $WebappInstaller->formNs() . '_' . $form_name;\n\t\t\t\t\t\t$f_type = $form_control;\n\t\t\t\t\t\t$f_value = '';\n\t\t\t\t\t\tif(isset($form_control['label'])){\n\t\t\t\t\t\t\t$f_label = htmlentities($form_control['label']);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$f_label = ucwords(str_replace(['.','_'], ' ', $form_name));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$f_placeholder = '';\n\t\t\t\t\t\tif (is_array($form_control)) {\n\t\t\t\t\t\t\t\t$f_type = (!empty($form_control['type']))?$form_control['type']:'text';\n\t\t\t\t\t\t\t\t$f_value = (!empty($form_control['value']))?$form_control['value']:'';\n\t\t\t\t\t\t\t\t$f_placeholder = (!empty($form_control['placeholder']))?$form_control['placeholder']:'';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$f_value = htmlentities($f_value);\n\t\t\t\t\t\t$f_label = htmlentities($f_label);\n\t\t\t\t\t\t$f_placeholder = htmlentities($f_placeholder);\n\t\t\t\t\t?>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label style=\"padding-bottom: 2px;\" for=\"<?=$f_name?>\"><?=$f_label?>\n\t\t\t\t\t\t\t<?php if ($f_type === 'password'):?> / <a href=\"javascript:randomString('<?=$f_name?>');\" class=\"generate\"><?=_('generate');?></a> <?php endif?>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<?php if (in_array($f_type, ['select']) && count($form_control['options']) ):?>\n\t\t\t\t\t\t\t<p style=\"margin-top:0;\"></p>\n\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"<?=$f_name?>\">\n\t\t\t\t\t\t\t\t<?php foreach ($form_control['options'] as $option):?>\n\t\t\t\t\t\t\t\t\t<?php $selected = (!empty($form_control['value']) && $option === $form_control['value'])?'selected':''?>\n\t\t\t\t\t\t\t\t\t<option value=\"<?=$option?>\" <?=$selected?>><?=htmlentities($option)?></option>\n\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<?php elseif (in_array($f_type, ['boolean'])):?>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<?php $checked = (!empty($f_value))?'checked':''?>\n\t\t\t\t\t\t\t\t<input style=\"width:auto;\" type=\"checkbox\" class=\"vst-input\" name=\"<?=$f_name?>\" id=\"<?=$f_name?>\" <?=$checked?> value=\"true\">\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<?php else:?>\n\t\t\t\t\t\t\t<p style=\"margin-top:0;\"></p>\n\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"<?=$f_name?>\" id=\"<?=$f_name?>\" placeholder=\"<?=$f_placeholder?>\" value=\"<?=$f_value?>\">\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<?php endif; ?>\n\t\t\t\t\t</div>\n\t\t\t\t<?php endforeach; ?>\n\t\t\t</div>\n\t\t</form>\n\t<?php endif ?>\n</div>", "<?php\n\n// Init\nob_start();\n\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['job'])) {\n    $v_username = escapeshellarg($user);\n    $v_job = escapeshellarg($_GET['job']);\n    exec(HESTIA_CMD.\"v-unsuspend-cron-job \".$v_username.\" \".$v_job, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n$back=getenv(\"HTTP_REFERER\");\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/cron/\");\nexit;\n", "<?php\n\n// Init\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['database'])) {\n    $v_username = escapeshellarg($user);\n    $v_database = escapeshellarg($_GET['database']);\n    exec(HESTIA_CMD.\"v-unsuspend-database \".$v_username.\" \".$v_database, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n$back=getenv(\"HTTP_REFERER\");\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/db/\");\nexit;\n", "<?php\n\n// Init\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// DNS domain\nif ((!empty($_GET['domain'])) && (empty($_GET['record_id']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-unsuspend-dns-domain \".$v_username.\" \".$v_domain, $output, $return_var);\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = _('Error: Hestia did not return any output.');\n        }\n        $_SESSION['error_msg'] = $error;\n    }\n    unset($output);\n    $back=getenv(\"HTTP_REFERER\");\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/\");\n    exit;\n}\n\n// DNS record\nif ((!empty($_GET['domain'])) && (!empty($_GET['record_id']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_record_id = escapeshellarg($_GET['record_id']);\n    exec(HESTIA_CMD.\"v-unsuspend-dns-record \".$v_username.\" \".$v_domain.\" \".$v_record_id, $output, $return_var);\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = _('Error: Hestia did not return any output.');\n        }\n        $_SESSION['error_msg'] = $error;\n    }\n    unset($output);\n    $back=getenv(\"HTTP_REFERER\");\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/?domain=\".$_GET['domain']);\n    exit;\n}\n\n$back=getenv(\"HTTP_REFERER\");\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/dns/\");\nexit;\n", "<?php\n\n// Init\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Mail domain\nif ((!empty($_GET['domain'])) && (empty($_GET['account']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-unsuspend-mail-domain \".$v_username.\" \".$v_domain, $output, $return_var);\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = _('Error: Hestia did not return any output.');\n        }\n        $_SESSION['error_msg'] = $error;\n    }\n    unset($output);\n    $back=getenv(\"HTTP_REFERER\");\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/\");\n    exit;\n}\n\n// Mail account\nif ((!empty($_GET['domain'])) && (!empty($_GET['account']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_account = escapeshellarg($_GET['account']);\n    exec(HESTIA_CMD.\"v-unsuspend-mail-account \".$v_username.\" \".$v_domain.\" \".$v_account, $output, $return_var);\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = _('Error: Hestia did not return any output.');\n        }\n        $_SESSION['error_msg'] = $error;\n    }\n    unset($output);\n    $back=getenv(\"HTTP_REFERER\");\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/?domain=\".$_GET['domain']);\n    exit;\n}\n\n$back=getenv(\"HTTP_REFERER\");\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/mail/\");\nexit;\n", "<?php\n\n// Init\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['domain'])) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-unsuspend-domain \".$v_username.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n\n$back=getenv(\"HTTP_REFERER\");\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/web/\");\nexit;\n"], "fixing_code": ["<?php\n\n/* Hestia way to enable support for SSO to PHPmyAdmin */\n/* To install please run v-add-sys-pma-sso */\n\n/* Following keys will get replaced when calling v-add-sys-pma-sso */\ndefine('PHPMYADMIN_KEY', '%PHPMYADMIN_KEY%');\ndefine('API_HOST_NAME', '%API_HOST_NAME%');\ndefine('API_HESTIA_PORT', '%API_HESTIA_PORT%');\ndefine('API_KEY', '%API_KEY%');\n\n\nclass Hestia_API\n{\n    private $api_url;\n    public function __construct()\n    {\n        $this -> hostname = 'https://' . API_HOST_NAME . ':' . API_HESTIA_PORT .'/api/';\n        $this -> key = API_KEY;\n        $this -> pma_key = PHPMYADMIN_KEY;\n    }\n\n    /* Creates curl request */\n    public function request($postvars)\n    {\n        $postdata = http_build_query($postvars);\n        $curl = curl_init();\n        curl_setopt($curl, CURLOPT_URL, $this -> hostname);\n        curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n        curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n        curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false);\n        curl_setopt($curl, CURLOPT_POST, true);\n        curl_setopt($curl, CURLOPT_POSTFIELDS, $postdata);\n        $answer = curl_exec($curl);\n        return $answer;\n    }\n\n    /* Creates an new temp user in mysql */\n    public function create_temp_user($database, $user, $host)\n    {\n        $post_request = array(\n        'hash' => $this -> key,\n        'returncode' => 'no',\n        'cmd' => 'v-add-database-temp-user',\n        'arg1' => $user,\n        'arg2' => $database,\n        'arg3' => 'mysql',\n        'arg4' => $host\n        );\n        $request = $this -> request($post_request);\n        $json = json_decode($request);\n        if (json_last_error() == JSON_ERROR_NONE) {\n            return $json;\n        } else {\n            trigger_error('Unable to connect over API please check api connection', E_USER_WARNING);\n            return false;\n        }\n    }\n\n    /* Delete an new temp user in mysql */\n    public function delete_temp_user($database, $user, $dbuser, $host)\n    {\n        $post_request = array(\n        'hash' => $this -> key,\n        'returncode' => 'yes',\n        'cmd' => 'v-delete-database-temp-user',\n        'arg1' => $user,\n        'arg2' => $database,\n        'arg3' => $dbuser,\n        'arg4' => 'mysql',\n        'arg5' => $host\n        );\n        $request = $this -> request($post_request);\n        if (is_numeric($request) && $request == 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public function get_user_ip()\n    {\n        // Saving user IPs to the session for preventing session hijacking\n        $user_combined_ip = array();\n        if ($_SERVER['REMOTE_ADDR'] != $_SERVER['SERVER_ADDR']) {\n            $user_combined_ip[] = $_SERVER['REMOTE_ADDR'];\n        }\n        if (isset($_SERVER['HTTP_CLIENT_IP'])) {\n            $user_combined_ip .=  '|'. $_SERVER['HTTP_CLIENT_IP'];\n        }\n        if (isset($_SERVER['HTTP_X_FORWARDED_FOR'])) {\n            if ($_SERVER['REMOTE_ADDR'] != $_SERVER['HTTP_X_FORWARDED_FOR']) {\n                $user_combined_ip[] = $_SERVER['HTTP_X_FORWARDED_FOR'];\n            }\n        }\n        if (isset($_SERVER['HTTP_FORWARDED_FOR'])) {\n            if ($_SERVER['REMOTE_ADDR'] != $_SERVER['HTTP_FORWARDED_FOR']) {\n                $user_combined_ip[] = $_SERVER['HTTP_FORWARDED_FOR'];\n            }\n        }\n        if (isset($_SERVER['HTTP_X_FORWARDED'])) {\n            if ($_SERVER['REMOTE_ADDR'] != $_SERVER['HTTP_X_FORWARDED']) {\n                $user_combined_ip[] = $_SERVER['HTTP_X_FORWARDED'];\n            }\n        }\n        if (isset($_SERVER['HTTP_FORWARDED'])) {\n            if ($_SERVER['REMOTE_ADDR'] != $_SERVER['HTTP_FORWARDED']) {\n                $user_combined_ip[] =  '|'. $_SERVER['HTTP_FORWARDED'];\n            }\n        }\n        if (isset($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n            if (!empty($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n                $user_combined_ip[] = $_SERVER['HTTP_CF_CONNECTING_IP'];\n            }\n        }\n        return implode('|',$user_combined_ip);\n    }\n}\n\n/* Need to have cookie visible from parent directory */\nsession_set_cookie_params(0, '/', '', true, true);\n/* Create signon session */\n$session_name = 'SignonSession';\nsession_name($session_name);\n@session_start();\n\nfunction session_invalid()\n{\n    global $session_name;\n    //delete all current sessions\n    session_destroy();\n    setcookie($session_name, null, -1, '/');\n    header(\"Location: \" . dirname($_SERVER['PHP_SELF']) . \"/index.php\");\n    die();\n}\n    $api = new Hestia_API();\n    if (!empty($_GET)) {\n        if (isset($_GET['logout'])) {\n            $api -> delete_temp_user($_SESSION['HESTIA_sso_database'], $_SESSION['HESTIA_sso_user'], $_SESSION['PMA_single_signon_user'], $_SESSION['HESTIA_sso_host']);\n            //remove sessin\n            session_invalid();\n            header(\"Location: \" . dirname($_SERVER['PHP_SELF']) . \"/index.php\");\n            die();\n        } else {\n            if (isset($_GET['user']) && isset($_GET['hestia_token'])) {\n                $database = $_GET['database'];\n                $user = $_GET['user'];\n                $host = 'localhost';\n                $token = $_GET['hestia_token'];\n                if(is_numeric($_GET['exp'])){\n                    $time = $_GET['exp'];\n                }else{\n                    $time = 0; \n                }\n\n                if ($time + 60 > time()) {\n                    //note: Possible issues with cloudflare due to ip obfuscation\n                    $ip = $api -> get_user_ip();\n                    if (!password_verify($database.$user.$ip.$time.PHPMYADMIN_KEY, $token)) {\n                        trigger_error('Access denied: There is a security token mismatch '. $time, E_USER_WARNING);\n                        session_invalid();\n                        die();\n                        session_invalid();\n                    } else {\n                        $id = session_id();\n                        //create a new temp user\n                        $data = $api -> create_temp_user($database, $user, $host);\n                        if ($data) {\n                            $_SESSION['PMA_single_signon_user'] = $data -> login -> user;\n                            $_SESSION['PMA_single_signon_password'] = $data -> login -> password ;\n                            $_SESSION['PMA_single_signon_host'] = $host;\n                            //save database / username to be used for sending logout notification.\n                            $_SESSION['HESTIA_sso_user'] = $user;\n                            $_SESSION['HESTIA_sso_database'] = $database;\n                            $_SESSION['HESTIA_sso_host'] = $host;\n\n                            @session_write_close();\n                            setcookie($session_name, $id, 0, \"/\");\n                            header(\"Location: \" . dirname($_SERVER['PHP_SELF']) . \"/index.php\");\n                        } else {\n                            session_invalid();\n                        }\n                        die();\n                    }\n                } else {\n                    trigger_error('Link has been expired: System time: '. time() .' / Time provided in link: '. $time, E_USER_WARNING);\n                    session_invalid();\n                    die();\n                }\n            }\n        }\n    } else {\n        session_invalid();\n        die();\n    }\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['system'])) {\n    $v_system = escapeshellarg($_GET['system']);\n    exec(HESTIA_CMD.\"v-delete-user-backup-exclusions \".$user.\" \".$v_system, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/backup/exclusions/\");\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['backup'])) {\n    $v_backup = escapeshellarg($_GET['backup']);\n    exec(HESTIA_CMD.\"v-delete-user-backup \".$user.\" \".$v_backup, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/backup/\");\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['job'])) {\n    $v_username = escapeshellarg($user);\n    $v_job = escapeshellarg($_GET['job']);\n    exec(HESTIA_CMD.\"v-delete-cron-job \".$user.\" \".$v_job, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/cron/\");\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['database'])) {\n    $v_database = escapeshellarg($_GET['database']);\n    exec(HESTIA_CMD.\"v-delete-database \".$user.\" \".$v_database, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/db/\");\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Delete as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// Check token\nverify_csrf($_GET);\n\n// DNS domain\nif ((!empty($_GET['domain'])) && (empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-delete-dns-domain \".$user.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/\");\n    exit;\n}\n\n// DNS record\nif ((!empty($_GET['domain'])) && (!empty($_GET['record_id']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_record_id = escapeshellarg($_GET['record_id']);\n    exec(HESTIA_CMD.\"v-delete-dns-record \".$v_username.\" \".$v_domain.\" \".$v_record_id, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    if($return_var > 0){\n        header(\"Location: /list/dns/\");\n        exit;\n    }else{\n        header(\"Location: /list/dns/?domain=\".$_GET['domain']);\n        exit;\n    }\n    \n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/dns/\");\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\nif (!empty($_GET['key'])) {\n    $v_key = escapeshellarg(trim($_GET['key']));\n    exec(HESTIA_CMD.\"v-delete-user-ssh-key \".$user.\" \".$v_key);\n    check_return_code($return_var, $output);\n}\n\nunset($output);\n\n//die();\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\nheader(\"Location: /list/key/\");\nexit;\n", "<?php\n\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Check if administrator is viewing system log (currently 'admin' user)\nif (($_SESSION['userContext'] === \"admin\") && (isset($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n    $token=$_SESSION['token'];\n}\n\n// Clear log\nexec(HESTIA_CMD.\"v-delete-user-auth-log \".$user, $output, $return_var);\ncheck_return_code($return_var, $output);\nunset($output);\n\n\n$ip = $_SERVER['REMOTE_ADDR'];\nif (isset($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n    if (!empty($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n        $ip = $_SERVER['HTTP_CF_CONNECTING_IP'];\n    }\n}\n$v_ip = escapeshellarg($ip);\n$user_agent = $_SERVER['HTTP_USER_AGENT'];\n$v_user_agent = escapeshellarg($user_agent);\n\n$v_session_id = escapeshellarg($_SESSION['token']);\n\n// Add current user session back to log unless impersonating another user\nif (!isset($_SESSION['look'])) {\n    exec(HESTIA_CMD.\"v-log-user-login \".$user.\" \".$v_ip.\" success \".$v_session_id.\" \".$v_user_agent, $output, $return_var);\n}\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n\n// Set correct page reload target\nif (($_SESSION['userContext'] === \"admin\") && (!empty($_GET['user']))) {\n    header(\"Location: /list/log/auth/?user=$user&token=$token\");\n} else {\n    header(\"Location: /list/log/auth/\");\n}\n\nexit;\n", "<?php\n\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Check if administrator is viewing system log (currently 'admin' user)\nif (($_SESSION['userContext'] === \"admin\") && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n    $token=$_SESSION['token'];\n}\n\n// Clear log\nexec(HESTIA_CMD.\"v-delete-user-log \".$user.\" \".$output, $return_var);\ncheck_return_code($return_var, $output);\nunset($output);\nunset($token);\n\nif($return_var > 0){\n    header(\"Location: /list/log/\");\n}else{\n    // Set correct page reload target\n    if (($_SESSION['userContext'] === \"admin\") && (!empty($_GET['user']))) {\n        header(\"Location: /list/log/?user=$user&token=$token\");\n    } else {\n        header(\"Location: /list/log/\");\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'list_log');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Delete as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=scapeshellarg($user);\n}\n\n// Check token\nverify_csrf($_GET);\n\n// Mail domain\nif ((!empty($_GET['domain'])) && (empty($_GET['account']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-delete-mail-domain \".$user.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if($return_var > 0){\n       header(\"Location: /list/mail/\"); \n    }\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/\");\n    exit;\n}\n\n// Mail account\nif ((!empty($_GET['domain'])) && (!empty($_GET['account']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_account = escapeshellarg($_GET['account']);\n    exec(HESTIA_CMD.\"v-delete-mail-account \".$user.\" \".$v_domain.\" \".$v_account, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    if($return_var > 0){\n       header(\"Location: /list/mail/\"); \n    }else{\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/?domain=\".$_GET['domain']);\n    exit;\n    }\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/mail/\");\nexit;\n", "<?php\n\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif ($_GET['delete'] == 1) {\n    $v_id = escapeshellarg((int)$_GET['notification_id']);\n    exec(HESTIA_CMD.\"v-delete-user-notification \".$user.\" \".$v_id, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n} else {\n    $v_username = escapeshellarg($user);\n    $v_id = escapeshellarg((int)$_GET['notification_id']);\n    exec(HESTIA_CMD.\"v-acknowledge-user-notification \".$user.\" \".$v_id, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Delete as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\nif (!empty($_GET['domain'])) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-purge-nginx-cache \".$user.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n}\n$_SESSION['ok_msg'] = _('Nginx cache has been successfully purged');\nheader(\"Location: /edit/web/?domain=\".$_GET['domain']);\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'] . '/inc/main.php');\n\n// Check token\nverify_csrf($_GET);\n\n// Delete as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user = escapeshellarg($user);\n}\n\nif (!empty($_GET['domain'])) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD . 'v-delete-web-domain ' . $user . ' ' . $v_domain . \" 'yes'\", $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header('Location: ' . $back);\n    exit;\n}\n\nheader('Location: /list/web/');\nexit;\n", "<?php\n\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n$backup = $_GET['backup'];\n\nif (!file_exists('/backup/'.$backup)) {\n    $backup = escapeshellarg($_GET['backup']);\n    exec(HESTIA_CMD.\"v-schedule-user-backup-download \".$user.\" \".$backup, $output, $return_var);\n    if ($return_var == 0) {\n        $_SESSION['error_msg'] = _('BACKUP_DOWNLOAD_SCHEDULED');\n    } else {\n        $_SESSION['error_msg'] = implode('<br>', $output);\n        if (empty($_SESSION['error_msg'])) {\n            $_SESSION['error_msg'] = _('Error: Hestia did not return any output.');\n        }\n    }\n    unset($output);\n    header(\"Location: /list/backup/\");\n    exit;\n} else {\n    if ($_SESSION['userContext'] === 'admin') {\n        header('Content-type: application/gzip');\n        header(\"Content-Disposition: attachment; filename=\\\"\".$backup.\"\\\";\");\n        header(\"X-Accel-Redirect: /backup/\" . $backup);\n    }\n\n    if ((!empty($_SESSION['user'])) && ($_SESSION['userContext'] != 'admin')) {\n        if (strpos($backup, $user.'.') === 0) {\n            header('Content-type: application/gzip');\n            header(\"Content-Disposition: attachment; filename=\\\"\".$backup.\"\\\";\");\n            header(\"X-Accel-Redirect: /backup/\" . $backup);\n        }\n    }\n}\n", "<?php\n\nob_start();\n$TAB = 'CRON';\n\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// Check job id\nif (empty($_GET['job'])) {\n    header(\"Location: /list/cron/\");\n    exit;\n}\n\n// List cron job\n$v_job = escapeshellarg($_GET['job']);\nexec(HESTIA_CMD.\"v-list-cron-job \".$user.\" \".$v_job.\" 'json'\", $output, $return_var);\ncheck_return_code_redirect($return_var, $output, '/list/cron/');\n\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse cron job\n$v_username = $user;\n$v_job = $_GET['job'];\n$v_min = $data[$v_job]['MIN'];\n$v_hour = $data[$v_job]['HOUR'];\n$v_day = $data[$v_job]['DAY'];\n$v_month = $data[$v_job]['MONTH'];\n$v_wday = $data[$v_job]['WDAY'];\n$v_cmd = $data[$v_job]['CMD'];\n$v_date = $data[$v_job]['DATE'];\n$v_time = $data[$v_job]['TIME'];\n$v_suspended = $data[$v_job]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n\n// Check POST request\nif (!empty($_POST['save'])) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    $v_username = $user;\n    $v_job = escapeshellarg($_GET['job']);\n    $v_min = escapeshellarg($_POST['v_min']);\n    $v_hour = escapeshellarg($_POST['v_hour']);\n    $v_day = escapeshellarg($_POST['v_day']);\n    $v_month = escapeshellarg($_POST['v_month']);\n    $v_wday = escapeshellarg($_POST['v_wday']);\n    $v_cmd = escapeshellarg($_POST['v_cmd']);\n\n    // Save changes\n    exec(HESTIA_CMD.\"v-change-cron-job \".$v_username.\" \".$v_job.\" \".$v_min.\" \".$v_hour.\" \".$v_day.\" \".$v_month.\" \".$v_wday.\" \".$v_cmd, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n\n    $v_cmd = $_POST['v_cmd'];\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _(\"Changes has been saved.\");\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_cron');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'DB';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].'/inc/main.php');\n\n// Check database id\nif (empty($_GET['database'])) {\n    header(\"Location: /list/db/\");\n    exit;\n}\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// List datbase\n$v_database = $_GET['database'];\nexec(HESTIA_CMD.\"v-list-database \".$user.\" \".escapeshellarg($v_database).\" 'json'\", $output, $return_var);\ncheck_return_code_redirect($return_var, $output, '/list/db/');\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse database\n$v_username = $user;\n$v_dbuser =  preg_replace(\"/^\".$user.\"_/\", \"\", $data[$v_database]['DBUSER']);\n$v_password = \"\";\n$v_host = $data[$v_database]['HOST'];\n$v_type = $data[$v_database]['TYPE'];\n$v_charset = $data[$v_database]['CHARSET'];\n$v_date = $data[$v_database]['DATE'];\n$v_time = $data[$v_database]['TIME'];\n$v_suspended = $data[$v_database]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n\n// Check POST request\nif (!empty($_POST['save'])) {\n    $v_username = $user;\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Change database user\n    if (($v_dbuser != $_POST['v_dbuser']) && (empty($_SESSION['error_msg']))) {\n        $v_dbuser = escapeshellarg($v_dbuser);\n        exec(HESTIA_CMD.\"v-change-database-user \".$v_username.\" \".escapeshellarg($v_database).\" \".$v_dbuser, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_dbuser = $user.\"_\".preg_replace(\"/^\".$user.\"_/\", \"\", $_POST['v_dbuser']);\n    }\n\n    // Change database password\n    if ((!empty($_POST['v_password'])) && (empty($_SESSION['error_msg']))) {\n        if (!validate_password($_POST['v_password'])) {\n            $_SESSION['error_msg'] = _('Password does not match the minimum requirements');\n        } else {\n            $v_password = tempnam(\"/tmp\", \"vst\");\n            $fp = fopen($v_password, \"w\");\n            fwrite($fp, $_POST['v_password'].\"\\n\");\n            fclose($fp);\n            exec(HESTIA_CMD.\"v-change-database-password \".$v_username.\" \".escapeshellarg($v_database).\" \".$v_password, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unlink($v_password);\n            $v_password = escapeshellarg($_POST['v_password']);\n        }\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_db');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'DNS';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check domain name\nif (empty($_GET['domain'])) {\n    header(\"Location: /list/dns/\");\n    exit;\n}\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// List ip addresses\nexec(HESTIA_CMD.\"v-list-user-ips \".$user.\" json\", $output, $return_var);\n$v_ips = json_decode(implode('', $output), true);\nunset($output);\n\n// List dns domain\nif ((!empty($_GET['domain'])) && (empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-list-dns-domain \".$user.\" \".$v_domain.\" json\", $output, $return_var);\n    check_return_code_redirect($return_var, $output,'/list/dns/');\n    $data = json_decode(implode('', $output), true);\n    unset($output);\n\n    // Parse dns domain\n    $v_username = $user;\n    $v_domain = $_GET['domain'];\n    $v_ip = $data[$v_domain]['IP'];\n    $v_template = $data[$v_domain]['TPL'];\n    $v_ttl = $data[$v_domain]['TTL'];\n    $v_exp = $data[$v_domain]['EXP'];\n    $v_soa = $data[$v_domain]['SOA'];\n    $v_date = $data[$v_domain]['DATE'];\n    $v_time = $data[$v_domain]['TIME'];\n    $v_suspended = $data[$v_domain]['SUSPENDED'];\n    if ($v_suspended == 'yes') {\n        $v_status =  'suspended';\n    } else {\n        $v_status =  'active';\n    }\n\n    // List dns templates\n    exec(HESTIA_CMD.\"v-list-dns-templates json\", $output, $return_var);\n    $templates = json_decode(implode('', $output), true);\n    unset($output);\n}\n\n// List dns record\nif ((!empty($_GET['domain'])) && (!empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_record_id = escapeshellarg($_GET['record_id']);\n    exec(HESTIA_CMD.\"v-list-dns-records \".$user.\" \".$v_domain.\" 'json'\", $output, $return_var);\n    check_return_code_redirect($return_var, $output,'/list/dns/');\n    $data = json_decode(implode('', $output), true);\n    unset($output);\n    // Parse dns record\n    $v_username = $user;\n    $v_domain = $_GET['domain'];\n    $v_record_id = $_GET['record_id'];\n    $v_rec = $data[$v_record_id]['RECORD'];\n    $v_type = $data[$v_record_id]['TYPE'];\n    $v_val = $data[$v_record_id]['VALUE'];\n    $v_priority = $data[$v_record_id]['PRIORITY'];\n    $v_suspended = $data[$v_record_id]['SUSPENDED'];\n    if ($v_suspended == 'yes') {\n        $v_status =  'suspended';\n    } else {\n        $v_status =  'active';\n    }\n    $v_date = $data[$v_record_id]['DATE'];\n    $v_time = $data[$v_record_id]['TIME'];\n    $v_ttl = $data[$v_record_id]['TTL'];\n}\n\n// Check POST request for dns domain\nif ((!empty($_POST['save'])) && (!empty($_GET['domain'])) && (empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_POST['v_domain']);\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Change domain IP\n    if (($v_ip != $_POST['v_ip']) && (empty($_SESSION['error_msg']))) {\n        $v_ip = escapeshellarg($_POST['v_ip']);\n        exec(HESTIA_CMD.\"v-change-dns-domain-ip \".$v_username.\" \".$v_domain.\" \".$v_ip.\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        $restart_dns = 'yes';\n        unset($output);\n    }\n\n    // Change domain template\n    if (($v_template != $_POST['v_template']) && (empty($_SESSION['error_msg']))) {\n        $v_template = escapeshellarg($_POST['v_template']);\n        exec(HESTIA_CMD.\"v-change-dns-domain-tpl \".$v_username.\" \".$v_domain.\" \".$v_template.\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $restart_dns = 'yes';\n    }\n\n    // Change SOA record\n    if (($v_soa != $_POST['v_soa']) && (empty($_SESSION['error_msg']))) {\n        $v_soa = escapeshellarg($_POST['v_soa']);\n        exec(HESTIA_CMD.\"v-change-dns-domain-soa \".$v_username.\" \".$v_domain.\" \".$v_soa.\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $restart_dns = 'yes';\n    }\n\n    // Change expiriation date\n    if (($v_exp != $_POST['v_exp']) && (empty($_SESSION['error_msg']))) {\n        $v_exp = escapeshellarg($_POST['v_exp']);\n        exec(HESTIA_CMD.\"v-change-dns-domain-exp \".$v_username.\" \".$v_domain.\" \".$v_exp.\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Change domain ttl\n    if (($v_ttl != $_POST['v_ttl']) && (empty($_SESSION['error_msg']))) {\n        $v_ttl = escapeshellarg($_POST['v_ttl']);\n        exec(HESTIA_CMD.\"v-change-dns-domain-ttl \".$v_username.\" \".$v_domain.\" \".$v_ttl.\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $restart_dns = 'yes';\n    }\n\n    // Restart dns server\n    if (!empty($restart_dns) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-restart-dns\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n// Check POST request for dns record\nif ((!empty($_POST['save'])) && (!empty($_GET['domain'])) && (!empty($_GET['record_id']))) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Protect input\n    $v_domain = escapeshellarg($_POST['v_domain']);\n    $v_record_id = escapeshellarg($_POST['v_record_id']);\n\n    // Change dns record\n    if (($v_rec != $_POST['v_rec']) || ($v_type != $_POST['v_type']) || ($v_val != $_POST['v_val']) || ($v_priority != $_POST['v_priority']) || ($v_ttl != $_POST['v_ttl']) && (empty($_SESSION['error_msg']))) {\n        $v_rec = escapeshellarg($_POST['v_rec']);\n        $v_type = escapeshellarg($_POST['v_type']);\n        $v_val = escapeshellarg($_POST['v_val']);\n        $v_priority = escapeshellarg($_POST['v_priority']);\n        $v_ttl = escapeshellarg($_POST['v_ttl']);\n        exec(HESTIA_CMD.\"v-change-dns-record \".$v_username.\" \".$v_domain.\" \".$v_record_id.\" \".$v_rec.\" \".$v_type.\" \".$v_val.\" \".$v_priority.\" false \".$v_ttl, $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_rec = $_POST['v_rec'];\n        $v_type = $_POST['v_type'];\n        $v_val = $_POST['v_val'];\n        unset($output);\n        $restart_dns = 'yes';\n    }\n\n\n    // Change dns record id\n    if (($_GET['record_id'] != $_POST['v_record_id']) && (empty($_SESSION['error_msg']))) {\n        $v_old_record_id = escapeshellarg($_GET['record_id']);\n        exec(HESTIA_CMD.\"v-change-dns-record-id \".$v_username.\" \".$v_domain.\" \".$v_old_record_id.\" \".$v_record_id, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $restart_dns = 'yes';\n    }\n\n    // Restart dns server\n    if (!empty($restart_dns) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-restart-dns\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n\n    // Change url if record id was changed\n    if ((empty($_SESSION['error_msg'])) && ($_GET['record_id'] != $_POST['v_record_id'])) {\n        header(\"Location: /edit/dns/?domain=\".$_GET['domain'].\"&record_id=\".$_POST['v_record_id']);\n        exit;\n    }\n}\n\n\n// Render page\nif (empty($_GET['record_id'])) {\n    // Display body for dns domain\n    render_page($user, $TAB, 'edit_dns');\n} else {\n    if(empty($data[$_GET['record_id']])){\n        header(\"Location: /list/dns/\");\n        $_SESSION['error_msg'] = _(\"Unknown record ID\");\n    }\n    // Display body for dns record\n    render_page($user, $TAB, 'edit_dns_rec');\n}\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'FIREWALL';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check user\nif ($_SESSION['userContext'] != 'admin') {\n    header(\"Location: /list/user\");\n    exit;\n}\n\n// Check ip argument\nif (empty($_GET['rule'])) {\n    header(\"Location: /list/firewall/\");\n    exit;\n}\n\n// List rule\n$v_rule = escapeshellarg($_GET['rule']);\nexec(HESTIA_CMD.\"v-list-firewall-rule \".$v_rule.\" 'json'\", $output, $return_var);\ncheck_return_code_redirect($return_var, $output,'/list/firewall');\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse rule\n$v_rule = $_GET['rule'];\n$v_action = $data[$v_rule]['ACTION'];\n$v_protocol = $data[$v_rule]['PROTOCOL'];\n$v_port = $data[$v_rule]['PORT'];\n$v_ip = $data[$v_rule]['IP'];\n$v_comment = $data[$v_rule]['COMMENT'];\n$v_date = $data[$v_rule]['DATE'];\n$v_time = $data[$v_rule]['TIME'];\n$v_suspended = $data[$v_rule]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n\n// Get ipset lists\nexec(HESTIA_CMD.\"v-list-firewall-ipset 'json'\", $output, $return_var);\ncheck_return_code($return_var, $output);\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n$ipset_lists=[];\nforeach ($data as $key => $value) {\n    if (isset($value['SUSPENDED']) && $value['SUSPENDED'] === 'yes') {\n        continue;\n    }\n    if (isset($value['IP_VERSION']) && $value['IP_VERSION'] !== 'v4') {\n        continue;\n    }\n    array_push($ipset_lists, ['name'=>$key]);\n}\n$ipset_lists_json=json_encode($ipset_lists);\n\n// Check POST request\nif (!empty($_POST['save'])) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Check empty fields\n    if (empty($_POST['v_action'])) {\n        $errors[] = _('action');\n    }\n    if (empty($_POST['v_protocol'])) {\n        $errors[] = _('protocol');\n    }\n    if (empty($_POST['v_port']) && strlen($_POST['v_port']) == 0) {\n        $errors[] = _('port');\n    }\n    if (empty($_POST['v_ip'])) {\n        $errors[] = _('ip address');\n    }\n    if (!empty($errors[0])) {\n        foreach ($errors as $i => $error) {\n            if ($i == 0) {\n                $error_msg = $error;\n            } else {\n                $error_msg = $error_msg.\", \".$error;\n            }\n        }\n        $_SESSION['error_msg'] = sprintf(_('Field \"%s\" can not be blank.'), $error_msg);\n    }\n    if (empty($_SESSION['error_msg'])) {\n        $v_rule = escapeshellarg($_GET['rule']);\n        $v_action = escapeshellarg($_POST['v_action']);\n        $v_protocol = escapeshellarg($_POST['v_protocol']);\n        $v_port = str_replace(\" \", \",\", $_POST['v_port']);\n        $v_port = preg_replace('/\\,+/', ',', $v_port);\n        $v_port = trim($v_port, \",\");\n        $v_port = escapeshellarg($v_port);\n        $v_ip = escapeshellarg($_POST['v_ip']);\n        $v_comment = escapeshellarg($_POST['v_comment']);\n\n        // Change Status\n        exec(HESTIA_CMD.\"v-change-firewall-rule \".$v_rule.\" \".$v_action.\" \".$v_ip.\" \".$v_port.\" \".$v_protocol.\" \".$v_comment, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n\n        $v_rule = $_GET['v_rule'];\n        $v_action = $_POST['v_action'];\n        $v_protocol = $_POST['v_protocol'];\n        $v_port = str_replace(\" \", \",\", $_POST['v_port']);\n        $v_port = preg_replace('/\\,+/', ',', $v_port);\n        $v_port = trim($v_port, \",\");\n        $v_ip = $_POST['v_ip'];\n        $v_comment = $_POST['v_comment'];\n\n        // Set success message\n        if (empty($_SESSION['error_msg'])) {\n            $_SESSION['ok_msg'] = _('Changes has been saved.');\n        }\n    } else {\n        $v_rule = $_GET['v_rule'];\n        $v_action = $_POST['v_action'];\n        $v_protocol = $_POST['v_protocol'];\n        $v_port = str_replace(\" \", \",\", $_POST['v_port']);\n        $v_port = preg_replace('/\\,+/', ',', $v_port);\n        $v_port = trim($v_port, \",\");\n        $v_ip = $_POST['v_ip'];\n        $v_comment = $_POST['v_comment'];\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_firewall');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'IP';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check user\nif ($_SESSION['userContext'] != 'admin') {\n    header(\"Location: /list/user\");\n    exit;\n}\n\n// Check ip argument\nif (empty($_GET['ip'])) {\n    header(\"Location: /list/ip/\");\n    exit;\n}\n\n// List ip\n$v_ip = escapeshellarg($_GET['ip']);\nexec(HESTIA_CMD.\"v-list-sys-ip \".$v_ip.\" 'json'\", $output, $return_var);\ncheck_return_code_redirect($return_var, $output,'/list/ip');\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse ip\n$v_username = $user;\n$v_ip = $_GET['ip'];\n$v_netmask = $data[$v_ip]['NETMASK'];\n$v_interface = $data[$v_ip]['INTERFACE'];\n$v_name = $data[$v_ip]['NAME'];\n$v_nat = $data[$v_ip]['NAT'];\n$v_ipstatus = $data[$v_ip]['STATUS'];\nif ($v_ipstatus == 'dedicated') {\n    $v_dedicated = 'yes';\n}\n$v_owner = $data[$v_ip]['OWNER'];\n$v_date = $data[$v_ip]['DATE'];\n$v_time = $data[$v_ip]['TIME'];\n$v_suspended = $data[$v_ip]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n\n// List users\nexec(HESTIA_CMD.\"v-list-sys-users 'json'\", $output, $return_var);\n$users = json_decode(implode('', $output), true);\nunset($output);\n\n// Check POST request\nif (!empty($_POST['save'])) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    $v_ip = escapeshellarg($_POST['v_ip']);\n\n    // Change Status\n    if (($v_ipstatus == 'shared') && (empty($_POST['v_shared'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-change-sys-ip-status \".$v_ip.\" 'dedicated'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_dedicated = 'yes';\n    }\n    if (($v_ipstatus == 'dedicated') && (!empty($_POST['v_shared'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-change-sys-ip-status \".$v_ip.\" 'shared'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        unset($v_dedicated);\n    }\n\n    // Change owner\n    if (($v_owner != $_POST['v_owner']) && (empty($_SESSION['error_msg']))) {\n        $v_owner = escapeshellarg($_POST['v_owner']);\n        exec(HESTIA_CMD.\"v-change-sys-ip-owner \".$v_ip.\" \".$v_owner, $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_owner = $_POST['v_owner'];\n        unset($output);\n    }\n\n    // Change associated domain\n    if (($v_name != $_POST['v_name']) && (empty($_SESSION['error_msg']))) {\n        $v_name = escapeshellarg($_POST['v_name']);\n        exec(HESTIA_CMD.\"v-change-sys-ip-name \".$v_ip.\" \".$v_name, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Change NAT address\n    if (($v_nat != $_POST['v_nat']) && (empty($_SESSION['error_msg']))) {\n        $v_nat = escapeshellarg($_POST['v_nat']);\n        exec(HESTIA_CMD.\"v-change-sys-ip-nat \".$v_ip.\" \".$v_nat, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_ip');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'MAIL';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check domain argument\nif (empty($_GET['domain'])) {\n    header(\"Location: /list/mail/\");\n    exit;\n}\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n$v_username = $user;\n\n// Get all user domains\nexec(HESTIA_CMD.\"v-list-mail-domains \".escapeshellarg($user).\" json\", $output, $return_var);\n$user_domains = json_decode(implode('', $output), true);\n$user_domains = array_keys($user_domains);\nunset($output);\n\nexec(HESTIA_CMD.\"v-list-sys-webmail json\", $output, $return_var);\n$webmail_clients = json_decode(implode('', $output), true);\nunset($output);\n\n// List mail domain\nif ((!empty($_GET['domain'])) && (empty($_GET['account']))) {\n    $v_domain = $_GET['domain'];\n\n    exec(HESTIA_CMD.\"v-list-mail-domain \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n    $data = json_decode(implode('', $output), true);\n    check_return_code_redirect($return_var, $output, '/list/mail/');\n    unset($output);\n\n    // Parse domain\n    $v_antispam = $data[$v_domain]['ANTISPAM'];\n    $v_antivirus = $data[$v_domain]['ANTIVIRUS'];\n    $v_dkim = $data[$v_domain]['DKIM'];\n    $v_catchall = $data[$v_domain]['CATCHALL'];\n    $v_date = $data[$v_domain]['DATE'];\n    $v_time = $data[$v_domain]['TIME'];\n    $v_suspended = $data[$v_domain]['SUSPENDED'];\n    $v_webmail_alias = $data[$v_domain]['WEBMAIL_ALIAS'];\n    $v_webmail = $data[$v_domain]['WEBMAIL'];\n    $v_smtp_relay = $data[$v_domain]['U_SMTP_RELAY'];\n    $v_smtp_relay_host = $data[$v_domain]['U_SMTP_RELAY_HOST'];\n    $v_smtp_relay_port = $data[$v_domain]['U_SMTP_RELAY_PORT'];\n    $v_smtp_relay_user = $data[$v_domain]['U_SMTP_RELAY_USERNAME'];\n\n    if ($v_suspended == 'yes') {\n        $v_status =  'suspended';\n    } else {\n        $v_status =  'active';\n    }\n\n    $v_ssl = $data[$v_domain]['SSL'];\n    if (!empty($v_ssl)) {\n        exec(HESTIA_CMD.\"v-list-mail-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n        $ssl_str = json_decode(implode('', $output), true);\n        unset($output);\n        $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n        $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n        $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n        $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n        $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n        $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n        $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n        $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n        $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n        $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n    }\n    $v_letsencrypt = $data[$v_domain]['LETSENCRYPT'];\n    if (empty($v_letsencrypt)) {\n        $v_letsencrypt = 'no';\n    }\n}\n\n// List mail account\nif ((!empty($_GET['domain'])) && (!empty($_GET['account']))) {\n    $v_domain = $_GET['domain'];\n\n    $v_account = $_GET['account'];\n    exec(HESTIA_CMD.\"v-list-mail-account \".$user.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" 'json'\", $output, $return_var);\n    $data = json_decode(implode('', $output), true);\n    check_return_code_redirect($return_var, $output, '/list/mail/');\n    unset($output);\n\n    // Parse mail account\n    $v_username = $user;\n    $v_password = \"\";\n    $v_aliases = str_replace(',', \"\\n\", $data[$v_account]['ALIAS']);\n    $valiases = explode(\",\", $data[$v_account]['ALIAS']);\n    $v_fwd = str_replace(',', \"\\n\", $data[$v_account]['FWD']);\n    if ($v_fwd == \":blackhole:\") {\n        $v_fwd = '';\n        $v_blackhole = \"yes\";\n    } else {\n        $v_blackhole = \"no\";\n    }\n    $vfwd = explode(\",\", $data[$v_account]['FWD']);\n    $v_fwd_only = $data[$v_account]['FWD_ONLY'];\n    $v_quota = $data[$v_account]['QUOTA'];\n    $v_autoreply = $data[$v_account]['AUTOREPLY'];\n    $v_suspended = $data[$v_account]['SUSPENDED'];\n    $v_webmail_alias = $data[$v_account]['WEBMAIL_ALIAS'];\n    if ($v_suspended == 'yes') {\n        $v_status =  'suspended';\n    } else {\n        $v_status =  'active';\n    }\n    $v_date = $data[$v_account]['DATE'];\n    $v_time = $data[$v_account]['TIME'];\n\n    // Parse autoreply\n    if ($v_autoreply == 'yes') {\n        exec(HESTIA_CMD.\"v-list-mail-account-autoreply \".$user.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" json\", $output, $return_var);\n        $autoreply_str = json_decode(implode('', $output), true);\n        unset($output);\n        $v_autoreply_message = $autoreply_str[$v_account]['MSG'];\n        $v_autoreply_message=str_replace(\"\\\\n\", \"\\n\", $v_autoreply_message);\n    }\n}\n\n\n// Check POST request for mail domain\nif ((!empty($_POST['save'])) && (!empty($_GET['domain'])) && (empty($_GET['account']))) {\n    $v_domain = $_POST['v_domain'];\n    if (!in_array($v_domain, $user_domains)) {\n        check_return_code(3, [\"Unknown domain\"]);\n    }\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Delete antispam\n    if (($v_antispam == 'yes') && (empty($_POST['v_antispam'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-domain-antispam \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_antispam = 'no';\n        unset($output);\n    }\n\n    // Add antispam\n    if (($v_antispam == 'no') && (!empty($_POST['v_antispam'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-mail-domain-antispam \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_antispam = 'yes';\n        unset($output);\n    }\n\n    // Delete antivirus\n    if (($v_antivirus == 'yes') && (empty($_POST['v_antivirus'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-domain-antivirus \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_antivirus = 'no';\n        unset($output);\n    }\n\n    // Add antivirus\n    if (($v_antivirus == 'no') && (!empty($_POST['v_antivirus'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-mail-domain-antivirus \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_antivirus = 'yes';\n        unset($output);\n    }\n\n    // Delete DKIM\n    if (($v_dkim == 'yes') && (empty($_POST['v_dkim'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-domain-dkim \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_dkim = 'no';\n        unset($output);\n    }\n\n    // Add DKIM\n    if (($v_dkim == 'no') && (!empty($_POST['v_dkim'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-mail-domain-dkim \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_dkim = 'yes';\n        unset($output);\n    }\n\n    // Delete catchall\n    if ((!empty($v_catchall)) && (empty($_POST['v_catchall'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-domain-catchall \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        $v_catchall = '';\n        unset($output);\n    }\n\n    // Change catchall address\n    if ((!empty($v_catchall)) && (!empty($_POST['v_catchall'])) && (empty($_SESSION['error_msg']))) {\n        if ($v_catchall != $_POST['v_catchall']) {\n            $v_catchall = escapeshellarg($_POST['v_catchall']);\n            exec(HESTIA_CMD.\"v-change-mail-domain-catchall \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_catchall, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        }\n    }\n\n    // Add catchall\n    if ((empty($v_catchall)) && (!empty($_POST['v_catchall'])) && (empty($_SESSION['error_msg']))) {\n        $v_catchall = escapeshellarg($_POST['v_catchall']);\n        exec(HESTIA_CMD.\"v-add-mail-domain-catchall \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_catchall, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    if (!empty($_SESSION['IMAP_SYSTEM']) && !empty($_SESSION['WEBMAIL_SYSTEM'])) {\n        if (empty($_SESSION['error_msg'])) {\n            if (!empty($_POST['v_webmail'])) {\n                $v_webmail = escapeshellarg($_POST['v_webmail']);\n                exec(HESTIA_CMD.\"v-add-mail-domain-webmail \".$user.\" \".$v_domain.\" \".$v_webmail.\" yes\", $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n        }\n    }\n\n    if (!empty($_SESSION['IMAP_SYSTEM']) && !empty($_SESSION['WEBMAIL_SYSTEM'])) {\n        if (empty($_POST['v_webmail'])) {\n            if (empty($_SESSION['error_msg'])) {\n                exec(HESTIA_CMD.\"v-delete-mail-domain-webmail \".$user.\" \".$v_domain.\" yes\", $output, $return_var);\n                check_return_code($return_var, $output);\n                $v_webmail = \"\";\n                unset($output);\n            }\n        }\n    }\n\n    // Change SSL certificate\n    if (($v_letsencrypt == 'no') && (empty($_POST['v_letsencrypt'])) && ($v_ssl == 'yes') && (!empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        if (($v_ssl_crt != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt'])) || ($v_ssl_key != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key'])) || ($v_ssl_ca != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']))) {\n            exec('mktemp -d', $mktemp_output, $return_var);\n            $tmpdir = $mktemp_output[0];\n\n            // Certificate\n            if (!empty($_POST['v_ssl_crt'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".crt\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            // Key\n            if (!empty($_POST['v_ssl_key'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".key\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            // CA\n            if (!empty($_POST['v_ssl_ca'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".ca\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            exec(HESTIA_CMD.\"v-change-mail-domain-sslcert \".$user.\" \".escapeshellarg($v_domain).\" \".$tmpdir.\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_web = 'yes';\n            $restart_proxy = 'yes';\n\n            exec(HESTIA_CMD.\"v-list-mail-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n            $ssl_str = json_decode(implode('', $output), true);\n            unset($output);\n            $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n            $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n            $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n            $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n            $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n            $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n            $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n            $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n            $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n            $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n\n            // Cleanup certificate tempfiles\n            if (!empty($_POST['v_ssl_crt'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".crt\");\n            }\n            if (!empty($_POST['v_ssl_key'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".key\");\n            }\n            if (!empty($_POST['v_ssl_ca'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".ca\");\n            }\n            rmdir($tmpdir);\n        }\n    }\n\n    // Delete Lets Encrypt support\n    if (($v_letsencrypt == 'yes') && (empty($_POST['v_letsencrypt']) || empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-letsencrypt-domain \".$user.\" \".escapeshellarg($v_domain).\" ' ' 'yes'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_crt = '';\n        $v_ssl_key = '';\n        $v_ssl_ca = '';\n        $v_letsencrypt = 'no';\n        $v_letsencrypt_deleted = 'yes';\n        $v_ssl = 'no';\n        $restart_mail = 'yes';\n    }\n\n    // Delete SSL certificate\n    if (($v_ssl == 'yes') && (empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-domain-ssl \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_crt = '';\n        $v_ssl_key = '';\n        $v_ssl_ca = '';\n        $v_ssl = 'no';\n        $restart_mail = 'yes';\n    }\n\n    // Add Lets Encrypt support\n    if ((!empty($_POST['v_ssl'])) && ($v_letsencrypt == 'no') && (!empty($_POST['v_letsencrypt'])) && empty($_SESSION['error_msg'])) {\n        exec(HESTIA_CMD.\"v-add-letsencrypt-domain \".$user.\" \".escapeshellarg($v_domain).\" ' ' 'yes'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_letsencrypt = 'yes';\n        $v_ssl = 'yes';\n        $restart_mail = 'yes';\n    }\n\n    // Add SSL certificate\n    if (($v_ssl == 'no') && (!empty($_POST['v_ssl']))  && (empty($v_letsencrypt_deleted)) && (empty($_SESSION['error_msg']))) {\n        if (empty($_POST['v_ssl_crt'])) {\n            $errors[] = 'ssl certificate';\n        }\n        if (empty($_POST['v_ssl_key'])) {\n            $errors[] = 'ssl key';\n        }\n        if (!empty($errors[0])) {\n            foreach ($errors as $i => $error) {\n                if ($i == 0) {\n                    $error_msg = $error;\n                } else {\n                    $error_msg = $error_msg.\", \".$error;\n                }\n            }\n            $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n        } else {\n            exec('mktemp -d', $mktemp_output, $return_var);\n            $tmpdir = $mktemp_output[0];\n\n            // Certificate\n            if (!empty($_POST['v_ssl_crt'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".crt\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt']));\n                fclose($fp);\n            }\n\n            // Key\n            if (!empty($_POST['v_ssl_key'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".key\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key']));\n                fclose($fp);\n            }\n\n            // CA\n            if (!empty($_POST['v_ssl_ca'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".ca\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']));\n                fclose($fp);\n            }\n            exec(HESTIA_CMD.\"v-add-mail-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" \".$tmpdir.\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_ssl = 'yes';\n            $restart_web = 'yes';\n            $restart_proxy = 'yes';\n\n            exec(HESTIA_CMD.\"v-list-mail-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n            $ssl_str = json_decode(implode('', $output), true);\n            unset($output);\n            $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n            $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n            $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n            $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n            $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n            $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n            $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n            $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n            $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n            $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n\n            // Cleanup certificate tempfiles\n            if (!empty($_POST['v_ssl_crt'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".crt\");\n            }\n            if (!empty($_POST['v_ssl_key'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".key\");\n            }\n            if (!empty($_POST['v_ssl_ca'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".ca\");\n            }\n            rmdir($tmpdir);\n        }\n    }\n\n    // Add SMTP Relay Support\n    if (empty($_SESSION['error_msg'])) {\n        if (isset($_POST['v_smtp_relay']) && (!empty($_POST['v_smtp_relay_host'])) && (!empty($_POST['v_smtp_relay_user']))) {\n            if (($_POST['v_smtp_relay_host'] != $v_smtp_relay_host) ||\n                ($_POST['v_smtp_relay_user'] != $v_smtp_relay_user) ||\n                ($_POST['v_smtp_relay_port'] != $v_smtp_relay_port) ||\n                (!empty($_POST['v_smtp_relay_pass']))) {\n                if (!empty($_POST['v_smtp_relay_pass'])) {\n                    $v_smtp_relay = true;\n                    $v_smtp_relay_host = escapeshellarg($_POST['v_smtp_relay_host']);\n                    $v_smtp_relay_user = escapeshellarg($_POST['v_smtp_relay_user']);\n                    $v_smtp_relay_pass = escapeshellarg($_POST['v_smtp_relay_pass']);\n                    if (!empty($_POST['v_smtp_relay_port'])) {\n                        $v_smtp_relay_port = escapeshellarg($_POST['v_smtp_relay_port']);\n                    } else {\n                        $v_smtp_relay_port = '587';\n                    }\n                    exec(HESTIA_CMD.\"v-add-mail-domain-smtp-relay \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_smtp_relay_host.\" \".$v_smtp_relay_user.\" \".$v_smtp_relay_pass.\" \".$v_smtp_relay_port, $output, $return_var);\n                    check_return_code($return_var, $output);\n                    unset($output);\n                } else {\n                    $_SESSION['error_msg'] = _('SMTP Relay Password is required');\n                }\n            }\n        }\n        if ((!isset($_POST['v_smtp_relay'])) && ($v_smtp_relay == true)) {\n            $v_smtp_relay = false;\n            $v_smtp_relay_host = $v_smtp_relay_user = $v_smtp_relay_pass = $v_smtp_relay_port = '';\n            exec(HESTIA_CMD.\"v-delete-mail-domain-smtp-relay \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        }\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n// Check POST request for mail account\nif ((!empty($_POST['save'])) && (!empty($_GET['domain'])) && (!empty($_GET['account']))) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Validate email\n    if ((!empty($_POST['v_send_email'])) && (empty($_SESSION['error_msg']))) {\n        if (!filter_var($_POST['v_send_email'], FILTER_VALIDATE_EMAIL)) {\n            $_SESSION['error_msg'] = _('Please enter valid email address.');\n        }\n    }\n\n    $v_domain = $_POST['v_domain'];\n    if (!in_array($v_domain, $user_domains)) {\n        check_return_code(3, [\"Unknown domain\"]);\n    }\n\n    $v_account = $_POST['v_account'];\n    $v_send_email = $_POST['v_send_email'];\n    $v_credentials = $_POST['v_credentials'];\n\n    // Change password\n    if ((!empty($_POST['v_password'])) && (empty($_SESSION['error_msg']))) {\n        if (!validate_password($_POST['v_password'])) {\n            $_SESSION['error_msg'] = _('Password does not match the minimum requirements');\n        } else {\n            $v_password = tempnam(\"/tmp\", \"vst\");\n            $fp = fopen($v_password, \"w\");\n            fwrite($fp, $_POST['v_password'].\"\\n\");\n            fclose($fp);\n            exec(HESTIA_CMD.\"v-change-mail-account-password \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".$v_password, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unlink($v_password);\n            $v_password = escapeshellarg($_POST['v_password']);\n        }\n    }\n\n    // Change quota\n    if (($v_quota != $_POST['v_quota']) && (empty($_SESSION['error_msg']))) {\n        if (empty($_POST['v_quota'])) {\n            $v_quota = 0;\n        } else {\n            $v_quota = escapeshellarg($_POST['v_quota']);\n        }\n        exec(HESTIA_CMD.\"v-change-mail-account-quota \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".$v_quota, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Change account aliases\n    if (empty($_SESSION['error_msg'])) {\n        $waliases = preg_replace(\"/\\n/\", \" \", $_POST['v_aliases']);\n        $waliases = preg_replace(\"/,/\", \" \", $waliases);\n        $waliases = preg_replace('/\\s+/', ' ', $waliases);\n        $waliases = trim($waliases);\n        $aliases = explode(\" \", $waliases);\n        $v_aliases = str_replace(' ', \"\\n\", $waliases);\n        $result = array_diff($valiases, $aliases);\n        foreach ($result as $alias) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($alias))) {\n                exec(HESTIA_CMD.\"v-delete-mail-account-alias \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".escapeshellarg($alias), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n        }\n        $result = array_diff($aliases, $valiases);\n        foreach ($result as $alias) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($alias))) {\n                exec(HESTIA_CMD.\"v-add-mail-account-alias \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".escapeshellarg($alias), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n        }\n    }\n    // Change forwarders to :blackhole:\n    if (empty($_SESSION['error_msg']) && !empty($_POST['v_blackhole'])) {\n        foreach ($vfwd as $forward) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($forward))) {\n                exec(HESTIA_CMD.\"v-delete-mail-account-forward \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".escapeshellarg($forward), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n            exec(HESTIA_CMD.\"v-add-mail-account-forward \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" :blackhole:\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_fwd  = '';\n            $v_blackhole = \"yes\";\n        }\n    }\n    // Change forwarders\n    if (empty($_SESSION['error_msg']) && empty($_POST['v_blackhole'])) {\n        $wfwd = preg_replace(\"/\\n/\", \" \", $_POST['v_fwd']);\n        $wfwd = preg_replace(\"/,/\", \" \", $wfwd);\n        $wfwd = preg_replace('/\\s+/', ' ', $wfwd);\n        $wfwd = trim($wfwd);\n        $fwd = explode(\" \", $wfwd);\n        $v_fwd = str_replace(' ', \"\\n\", $wfwd);\n        $result = array_diff($vfwd, $fwd);\n        foreach ($result as $forward) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($forward))) {\n                exec(HESTIA_CMD.\"v-delete-mail-account-forward \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".escapeshellarg($forward), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n        }\n        $result = array_diff($fwd, $vfwd);\n        foreach ($result as $forward) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($forward))) {\n                exec(HESTIA_CMD.\"v-add-mail-account-forward \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".escapeshellarg($forward), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n        }\n        $v_blackhole = \"no\";\n    }\n\n    // Delete FWD_ONLY flag\n    if (($v_fwd_only == 'yes') && (empty($_POST['v_fwd_only'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-account-fwd-only \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_fwd_only = '';\n    }\n\n    // Add FWD_ONLY flag\n    if (($v_fwd_only != 'yes') && (!empty($_POST['v_fwd_only'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-mail-account-fwd-only \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_fwd_only = 'yes';\n    }\n\n    // Delete autoreply\n    if (($v_autoreply == 'yes') && (empty($_POST['v_autoreply'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-mail-account-autoreply \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_autoreply = 'no';\n        $v_autoreply_message = '';\n    }\n\n    // Add autoreply\n    if ((!empty($_POST['v_autoreply'])) && (empty($_SESSION['error_msg']))) {\n        if ($v_autoreply_message != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_autoreply_message'])) {\n            $v_autoreply_message = str_replace(\"\\r\\n\", \"\\n\", $_POST['v_autoreply_message']);\n            $v_autoreply_message = escapeshellarg($v_autoreply_message);\n            exec(HESTIA_CMD.\"v-add-mail-account-autoreply \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_account).\" \".$v_autoreply_message, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_autoreply = 'yes';\n            $v_autoreply_message = $_POST['v_autoreply_message'];\n        }\n    }\n\n    // Email login credentials\n    if ((!empty($v_send_email)) && (empty($_SESSION['error_msg']))) {\n        $to = $v_send_email;\n        $subject = _(\"Email Credentials\");\n        $hostname = exec('hostname');\n        $from = \"noreply@\".$hostname;\n        $from_name = _('Hestia Control Panel');\n        $mailtext = $v_credentials;\n        send_email($to, $subject, $mailtext, $from, $from_name);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n\n// Render page\nif (empty($_GET['account'])) {\n    // Display body for mail domain\n    render_page($user, $TAB, 'edit_mail');\n} else {\n    // Display body for mail account\n    render_page($user, $TAB, 'edit_mail_acc');\n}\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'PACKAGE';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n\n// Check user\nif ($_SESSION['userContext'] != 'admin') {\n    header(\"Location: /list/user\");\n    exit;\n}\n\n// Check package argument\nif (empty($_GET['package'])) {\n    header(\"Location: /list/package/\");\n    exit;\n}\n\n// Prevent editing of system package\nif ($_GET['package'] === 'system') {\n    header(\"Location: /list/package/\");\n    exit;\n}\n\n// List package\n$v_package = escapeshellarg($_GET['package']);\nexec(HESTIA_CMD.\"v-list-user-package \".$v_package.\" 'json'\", $output, $return_var);\ncheck_return_code_redirect($return_var, $output, '/list/package/');\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse package\n$v_package = $_GET['package'];\n$v_package_new = $_GET['package'];\n$v_web_template = $data[$v_package]['WEB_TEMPLATE'];\n$v_backend_template = $data[$v_package]['BACKEND_TEMPLATE'];\n$v_proxy_template = $data[$v_package]['PROXY_TEMPLATE'];\n$v_dns_template = $data[$v_package]['DNS_TEMPLATE'];\n$v_web_domains = $data[$v_package]['WEB_DOMAINS'];\n$v_web_aliases = $data[$v_package]['WEB_ALIASES'];\n$v_dns_domains = $data[$v_package]['DNS_DOMAINS'];\n$v_dns_records = $data[$v_package]['DNS_RECORDS'];\n$v_mail_domains = $data[$v_package]['MAIL_DOMAINS'];\n$v_mail_accounts = $data[$v_package]['MAIL_ACCOUNTS'];\n$v_databases = $data[$v_package]['DATABASES'];\n$v_cron_jobs = $data[$v_package]['CRON_JOBS'];\n$v_disk_quota = $data[$v_package]['DISK_QUOTA'];\n$v_bandwidth = $data[$v_package]['BANDWIDTH'];\n$v_shell = $data[$v_package]['SHELL'];\n$v_ns = $data[$v_package]['NS'];\n$nameservers = explode(\",\", $v_ns);\n$v_ns1 = $nameservers[0];\n$v_ns2 = $nameservers[1];\n$v_ns3 = $nameservers[2];\n$v_ns4 = $nameservers[3];\n$v_ns5 = $nameservers[4];\n$v_ns6 = $nameservers[5];\n$v_ns7 = $nameservers[6];\n$v_ns8 = $nameservers[7];\n$v_backups = $data[$v_package]['BACKUPS'];\n$v_date = $data[$v_package]['DATE'];\n$v_time = $data[$v_package]['TIME'];\n$v_status =  'active';\n\n// List web templates\nexec(HESTIA_CMD.\"v-list-web-templates json\", $output, $return_var);\n$web_templates = json_decode(implode('', $output), true);\nunset($output);\n\n// List backend templates\nif (!empty($_SESSION['WEB_BACKEND'])) {\n    exec(HESTIA_CMD.\"v-list-web-templates-backend json\", $output, $return_var);\n    $backend_templates = json_decode(implode('', $output), true);\n    unset($output);\n}\n\n// List proxy templates\nif (!empty($_SESSION['PROXY_SYSTEM'])) {\n    exec(HESTIA_CMD.\"v-list-web-templates-proxy json\", $output, $return_var);\n    $proxy_templates = json_decode(implode('', $output), true);\n    unset($output);\n}\n\n\n// List dns templates\nexec(HESTIA_CMD.\"v-list-dns-templates json\", $output, $return_var);\n$dns_templates = json_decode(implode('', $output), true);\nunset($output);\n\n// List shels\nexec(HESTIA_CMD.\"v-list-sys-shells json\", $output, $return_var);\n$shells = json_decode(implode('', $output), true);\nunset($output);\n\n// Check POST request\nif (!empty($_POST['save'])) {\n\n    // Check token\n    verify_csrf($_POST);\n\n    // Check empty fields\n    if (empty($_POST['v_package'])) {\n        $errors[] = _('package');\n    }\n    if (empty($_POST['v_web_template'])) {\n        $errors[] = _('web template');\n    }\n    if (!empty($_SESSION['WEB_BACKEND'])) {\n        if (empty($_POST['v_backend_template'])) {\n            $errors[] = _('backend template');\n        }\n    }\n    if (!empty($_SESSION['PROXY_SYSTEM'])) {\n        if (empty($_POST['v_proxy_template'])) {\n            $errors[] = _('proxy template');\n        }\n    }\n    if (empty($_POST['v_dns_template'])) {\n        $errors[] = _('dns template');\n    }\n    if (empty($_POST['v_shell'])) {\n        $errrors[] = _('shell');\n    }\n    if (!isset($_POST['v_web_domains'])) {\n        $errors[] = _('web domains');\n    }\n    if (!isset($_POST['v_web_aliases'])) {\n        $errors[] = _('web aliases');\n    }\n    if (!isset($_POST['v_dns_domains'])) {\n        $errors[] = _('dns domains');\n    }\n    if (!isset($_POST['v_dns_records'])) {\n        $errors[] = _('dns records');\n    }\n    if (!isset($_POST['v_mail_domains'])) {\n        $errors[] = _('mail domains');\n    }\n    if (!isset($_POST['v_mail_accounts'])) {\n        $errors[] = _('mail accounts');\n    }\n    if (!isset($_POST['v_databases'])) {\n        $errors[] = _('databases');\n    }\n    if (!isset($_POST['v_cron_jobs'])) {\n        $errors[] = _('cron jobs');\n    }\n    if (!isset($_POST['v_backups'])) {\n        $errors[] = _('backups');\n    }\n    if (!isset($_POST['v_disk_quota'])) {\n        $errors[] = _('quota');\n    }\n    if (!isset($_POST['v_bandwidth'])) {\n        $errors[] = _('bandwidth');\n    }\n\n    // Check if name server entries are blank if DNS server is installed\n    if ((isset($_SESSION['DNS_SYSTEM'])) && (!empty($_SESSION['DNS_SYSTEM']))) {\n        if (empty($_POST['v_ns1'])) {\n            $errors[] = _('ns1');\n        }\n        if (empty($_POST['v_ns2'])) {\n            $errors[] = _('ns2');\n        }\n    }\n\n    if (!empty($errors[0])) {\n        foreach ($errors as $i => $error) {\n            if ($i == 0) {\n                $error_msg = $error;\n            } else {\n                $error_msg = $error_msg.\", \".$error;\n            }\n        }\n        $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n    }\n\n    // Protect input\n    $v_package = escapeshellarg($_POST['v_package']);\n    $v_package_new = escapeshellarg($_POST['v_package_new']);\n    $v_web_template = escapeshellarg($_POST['v_web_template']);\n    if (!empty($_SESSION['WEB_BACKEND'])) {\n        $v_backend_template = escapeshellarg($_POST['v_backend_template']);\n    }\n    if (!empty($_SESSION['PROXY_SYSTEM'])) {\n        $v_proxy_template = escapeshellarg($_POST['v_proxy_template']);\n    }\n    $v_dns_template = escapeshellarg($_POST['v_dns_template']);\n    $v_shell = escapeshellarg($_POST['v_shell']);\n    $v_web_domains = escapeshellarg($_POST['v_web_domains']);\n    $v_web_aliases = escapeshellarg($_POST['v_web_aliases']);\n    $v_dns_domains = escapeshellarg($_POST['v_dns_domains']);\n    $v_dns_records = escapeshellarg($_POST['v_dns_records']);\n    $v_mail_domains = escapeshellarg($_POST['v_mail_domains']);\n    $v_mail_accounts = escapeshellarg($_POST['v_mail_accounts']);\n    $v_databases = escapeshellarg($_POST['v_databases']);\n    $v_cron_jobs = escapeshellarg($_POST['v_cron_jobs']);\n    $v_backups = escapeshellarg($_POST['v_backups']);\n    $v_disk_quota = escapeshellarg($_POST['v_disk_quota']);\n    $v_bandwidth = escapeshellarg($_POST['v_bandwidth']);\n    $v_ns1 = trim($_POST['v_ns1'], '.');\n    $v_ns2 = trim($_POST['v_ns2'], '.');\n    $v_ns3 = trim($_POST['v_ns3'], '.');\n    $v_ns4 = trim($_POST['v_ns4'], '.');\n    $v_ns5 = trim($_POST['v_ns5'], '.');\n    $v_ns6 = trim($_POST['v_ns6'], '.');\n    $v_ns7 = trim($_POST['v_ns7'], '.');\n    $v_ns8 = trim($_POST['v_ns8'], '.');\n    $v_ns = $v_ns1.\",\".$v_ns2;\n    if (!empty($v_ns3)) {\n        $v_ns .= \",\".$v_ns3;\n    }\n    if (!empty($v_ns4)) {\n        $v_ns .= \",\".$v_ns4;\n    }\n    if (!empty($v_ns5)) {\n        $v_ns .= \",\".$v_ns5;\n    }\n    if (!empty($v_ns6)) {\n        $v_ns .= \",\".$v_ns6;\n    }\n    if (!empty($v_ns7)) {\n        $v_ns .= \",\".$v_ns7;\n    }\n    if (!empty($v_ns8)) {\n        $v_ns .= \",\".$v_ns8;\n    }\n    $v_ns = escapeshellarg($v_ns);\n    $v_time = escapeshellarg(date('H:i:s'));\n    $v_date = escapeshellarg(date('Y-m-d'));\n\n    // Save package file on a fs\n    $pkg = \"WEB_TEMPLATE=\".$v_web_template.\"\\n\";\n    $pkg .= \"BACKEND_TEMPLATE=\".$v_backend_template.\"\\n\";\n    $pkg .= \"PROXY_TEMPLATE=\".$v_proxy_template.\"\\n\";\n    $pkg .= \"DNS_TEMPLATE=\".$v_dns_template.\"\\n\";\n    $pkg .= \"WEB_DOMAINS=\".$v_web_domains.\"\\n\";\n    $pkg .= \"WEB_ALIASES=\".$v_web_aliases.\"\\n\";\n    $pkg .= \"DNS_DOMAINS=\".$v_dns_domains.\"\\n\";\n    $pkg .= \"DNS_RECORDS=\".$v_dns_records.\"\\n\";\n    $pkg .= \"MAIL_DOMAINS=\".$v_mail_domains.\"\\n\";\n    $pkg .= \"MAIL_ACCOUNTS=\".$v_mail_accounts.\"\\n\";\n    $pkg .= \"DATABASES=\".$v_databases.\"\\n\";\n    $pkg .= \"CRON_JOBS=\".$v_cron_jobs.\"\\n\";\n    $pkg .= \"DISK_QUOTA=\".$v_disk_quota.\"\\n\";\n    $pkg .= \"BANDWIDTH=\".$v_bandwidth.\"\\n\";\n    $pkg .= \"NS=\".$v_ns.\"\\n\";\n    $pkg .= \"SHELL=\".$v_shell.\"\\n\";\n    $pkg .= \"BACKUPS=\".$v_backups.\"\\n\";\n    $pkg .= \"TIME=\".$v_time.\"\\n\";\n    $pkg .= \"DATE=\".$v_date.\"\\n\";\n\n    $tmpfile = tempnam('/tmp/', 'hst_');\n    $fp = fopen($tmpfile, 'w');\n    fwrite($fp, $pkg);\n    exec(HESTIA_CMD.\"v-add-user-package \".$tmpfile.\" \".$v_package.\" yes\", $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n\n    fclose($fp);\n    unlink($tmpfile);\n\n    // Propogate new package\n    exec(HESTIA_CMD.\"v-update-user-package \".$v_package.\" 'json'\", $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n\n    if ($v_package_new != $v_package) {\n        exec(HESTIA_CMD.\"v-rename-user-package \" . $v_package . \" \" . $v_package_new, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n\n// Render page\nrender_page($user, $TAB, 'edit_package');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\n$TAB = 'USER';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n\n// Check user argument\nif (empty($_GET['user'])) {\n    header(\"Location: /list/user/\");\n    exit;\n}\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=$_GET['user'];\n    $v_username=$_GET['user'];\n} else {\n    $user=$_SESSION['user'];\n    $v_username=$_SESSION['user'];\n}\n\n// Prevent other users with admin privileges from editing properties of default 'admin' user\nif (($_SESSION['userContext'] === 'admin') && (isset($_SESSION['look'])) && ($user == 'admin') || ($_SESSION['userContext'] === 'admin') && (!isset($_SESSION['look'])) && ($user == 'admin') && ($_SESSION['user'] != 'admin')) {\n    header(\"Location: /list/user/\");\n    exit;\n}\n\n// Check token\nverify_csrf($_GET);\n\n// List user\nexec(HESTIA_CMD.\"v-list-user \".escapeshellarg($v_username).\" json\", $output, $return_var);\ncheck_return_code_redirect($return_var, $output, '/list/user/');\n\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse user\n$v_password = \"\";\n$v_email = $data[$v_username]['CONTACT'];\n$v_package = $data[$v_username]['PACKAGE'];\n$v_language = $data[$v_username]['LANGUAGE'];\n$v_user_theme = $data[$v_username]['THEME'];\n$v_sort_order = $data[$v_username]['PREF_UI_SORT'];\n$v_name = $data[$v_username]['NAME'];\n$v_shell = $data[$v_username]['SHELL'];\n$v_twofa = $data[$v_username]['TWOFA'];\n$v_qrcode = $data[$v_username]['QRCODE'];\n$v_phpcli = $data[$v_username]['PHPCLI'];\n$v_role = $data[$v_username]['ROLE'];\n$v_login_disabled = $data[$v_username]['LOGIN_DISABLED'];\n$v_login_use_iplist = $data[$v_username]['LOGIN_USE_IPLIST'];\n$v_login_allowed_ips = $data[$v_username]['LOGIN_ALLOW_IPS'];\n$v_ns = $data[$v_username]['NS'];\n$nameservers = explode(\",\", $v_ns);\n$v_ns1 = $nameservers[0];\n$v_ns2 = $nameservers[1];\n$v_ns3 = $nameservers[2];\n$v_ns4 = $nameservers[3];\n$v_ns5 = $nameservers[4];\n$v_ns6 = $nameservers[5];\n$v_ns7 = $nameservers[6];\n$v_ns8 = $nameservers[7];\n\n$v_suspended = $data[$v_username]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n$v_time = $data[$v_username]['TIME'];\n$v_date = $data[$v_username]['DATE'];\n\nif (empty($v_phpcli)) {\n    $v_phpcli = substr(DEFAULT_PHP_VERSION, 4);\n}\n\n// List packages\nexec(HESTIA_CMD.\"v-list-user-packages json\", $output, $return_var);\n$packages = json_decode(implode('', $output), true);\nunset($output);\n\n// List languages\nexec(HESTIA_CMD.\"v-list-sys-languages json\", $output, $return_var);\n$language = json_decode(implode('', $output), true);\nforeach ($language as $lang) {\n    $languages[$lang] = translate_json($lang);\n}\nasort($languages);\nunset($output);\n\n// List themes\nexec(HESTIA_CMD.\"v-list-sys-themes json\", $output, $return_var);\n$themes = json_decode(implode('', $output), true);\nunset($output);\n\n// List shells\nexec(HESTIA_CMD.\"v-list-sys-shells json\", $output, $return_var);\n$shells = json_decode(implode('', $output), true);\nunset($output);\n\n//List PHP Versions\n// List supported php versions\nexec(HESTIA_CMD.\"v-list-sys-php json\", $output, $return_var);\n$php_versions = json_decode(implode('', $output), true);\nunset($output);\n\n// Check POST request\nif (!empty($_POST['save'])) {\n\n     // Check token\n    verify_csrf($_POST);\n\n    // Change password\n    if ((!empty($_POST['v_password'])) && (empty($_SESSION['error_msg']))) {\n        // Check password length\n        $pw_len = strlen($_POST['v_password']);\n        if (!validate_password($_POST['v_password'])) {\n            $_SESSION['error_msg'] = _('Password does not match the minimum requirements');\n        }\n        if (empty($_SESSION['error_msg'])) {\n            $v_password = tempnam(\"/tmp\", \"vst\");\n            $fp = fopen($v_password, \"w\");\n            fwrite($fp, $_POST['v_password'].\"\\n\");\n            fclose($fp);\n            exec(HESTIA_CMD.\"v-change-user-password \".escapeshellarg($v_username).\" \".$v_password, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unlink($v_password);\n            $v_password = escapeshellarg($_POST['v_password']);\n        }\n    }\n\n    // Enable twofa\n    if ((!empty($_POST['v_twofa'])) && (empty($v_twofa)) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-user-2fa \".escapeshellarg($v_username), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n\n        // List user\n        exec(HESTIA_CMD.\"v-list-user \".escapeshellarg($v_username).\" json\", $output, $return_var);\n        check_return_code($return_var, $output);\n        $data = json_decode(implode('', $output), true);\n        unset($output);\n\n        // Parse user twofa\n        $v_twofa = $data[$v_username]['TWOFA'];\n        $v_qrcode = $data[$v_username]['QRCODE'];\n    }\n\n    // Disable twofa\n    if ((empty($_POST['v_twofa'])) && (!empty($v_twofa)) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-user-2fa \".escapeshellarg($v_username), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_twofa = '';\n        $v_qrcode = '';\n    }\n\n    // Change default sort order\n    if (($v_sort_order != $_POST['v_sort_order']) && (empty($_SESSION['error_msg']))) {\n        $v_sort_order = escapeshellarg($_POST['v_sort_order']);\n        exec(HESTIA_CMD.\"v-change-user-sort-order \".escapeshellarg($v_username).\" \".$v_sort_order, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($_SESSION['userSortOrder']);\n        $_SESSION['userSortOrder'] = $v_sort_order;\n        unset($output);\n    }\n\n    // Update Control Panel login disabled status (admin only)\n    if (empty($_SESSION['error_msg'])) {\n        if ($_POST['v_login_disabled'] != $data[$user]['LOGIN_DISABLED']) {\n            if ($_POST['v_login_disabled'] == 'on') {\n                $_POST['v_login_disabled'] = 'yes';\n            } else {\n                $_POST['v_login_disabled'] = 'no';\n            }\n            exec(HESTIA_CMD.\"v-change-user-config-value \".escapeshellarg($v_username).\" LOGIN_DISABLED \".escapeshellarg($_POST['v_login_disabled']), $output, $return_var);\n            check_return_code($return_var, $output);\n            $data[$user]['LOGIN_DISABLED'] = $_POST['v_login_disabled'];\n            unset($output);\n        }\n    }\n\n    // Update IP whitelist option\n    if (empty($_SESSION['error_msg'])) {\n        if ($_POST['v_login_use_iplist'] != $data[$user]['LOGIN_USE_IPLIST']) {\n            if ($_POST['v_login_use_iplist'] == 'on') {\n                $_POST['v_login_use_iplist'] = 'yes';\n            } else {\n                $_POST['v_login_use_iplist'] = 'no';\n            }\n            exec(HESTIA_CMD.\"v-change-user-config-value \".escapeshellarg($v_username).\" LOGIN_USE_IPLIST \".escapeshellarg($_POST['v_login_use_iplist']), $output, $return_var);\n            if ($_POST['v_login_use_iplist'] === 'no') {\n                exec(HESTIA_CMD.\"v-change-user-config-value \".escapeshellarg($v_username).\" LOGIN_ALLOW_IPS ''\", $output, $return_var);\n                $v_login_allowed_ips = '';\n            } else {\n                exec(HESTIA_CMD.\"v-change-user-config-value \".escapeshellarg($v_username).\" LOGIN_ALLOW_IPS \".escapeshellarg($_POST['v_login_allowed_ips']), $output, $return_var);\n                unset($v_login_allowed_ips);\n                $v_login_allowed_ips = $_POST['v_login_allowed_ips'];\n            }\n            check_return_code($return_var, $output);\n            $data[$user]['LOGIN_USE_IPLIST'] = $_POST['v_login_use_iplist'];\n            unset($output);\n        }\n    }\n\n    // Change package (admin only)\n    if (($v_package != $_POST['v_package']) && ($_SESSION['userContext'] === 'admin') && (empty($_SESSION['error_msg']))) {\n        $v_package = escapeshellarg($_POST['v_package']);\n        exec(HESTIA_CMD.\"v-change-user-package \".escapeshellarg($v_username).\" \".$v_package, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Change phpcli (admin only)\n    if (($v_phpcli != $_POST['v_phpcli']) && ($_SESSION['userContext'] === 'admin') && (empty($_SESSION['error_msg']))) {\n        $v_phpcli = escapeshellarg($_POST['v_phpcli']);\n        exec(HESTIA_CMD.\"v-change-user-php-cli \".escapeshellarg($v_username).\" \".$v_phpcli, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n    // Change Role (admin only)\n    if (($v_role != $_POST['v_role']) && ($_SESSION['userContext'] === 'admin') && $v_username != \"admin\" && (empty($_SESSION['error_msg']))) {\n        if (!empty($_POST['v_role'])) {\n            $v_role = escapeshellarg($_POST['v_role']);\n            exec(HESTIA_CMD.\"v-change-user-role \".escapeshellarg($v_username).\" \".$v_role, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_role = $_POST['v_role'];\n        }\n    }\n    // Change language\n    if (($v_language != $_POST['v_language']) && (empty($_SESSION['error_msg']))) {\n        $v_language = escapeshellarg($_POST['v_language']);\n        exec(HESTIA_CMD.\"v-change-user-language \".escapeshellarg($v_username).\" \".$v_language, $output, $return_var);\n        check_return_code($return_var, $output);\n        if (empty($_SESSION['error_msg'])) {\n            if (($_GET['user'] == $_SESSION['user'])) {\n                unset($_SESSION['language']);\n                $_SESSION['language'] = $_POST['v_language'];\n                $refresh = $_SERVER['REQUEST_URI'];\n                header(\"Location: $refresh\");\n            }\n        }\n        unset($output);\n    }\n\n    // Change shell (admin only)\n    if (($v_shell != $_POST['v_shell']) && ($_SESSION['userContext'] === 'admin') && (empty($_SESSION['error_msg']))) {\n        $v_shell = escapeshellarg($_POST['v_shell']);\n        exec(HESTIA_CMD.\"v-change-user-shell \".escapeshellarg($v_username).\" \".$v_shell, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Change contact email\n    if (($v_email != $_POST['v_email']) && (empty($_SESSION['error_msg']))) {\n        if (!filter_var($_POST['v_email'], FILTER_VALIDATE_EMAIL)) {\n            $_SESSION['error_msg'] = _('Please enter valid email address.');\n        } else {\n            $v_email = escapeshellarg($_POST['v_email']);\n            exec(HESTIA_CMD.\"v-change-user-contact \".escapeshellarg($v_username).\" \".$v_email, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        }\n    }\n\n    // Change full name\n    if ($v_name != $_POST['v_name']) {\n        if (empty($_POST['v_name'])) {\n            $_SESSION['error_msg'] = _('Please enter a valid name');\n        } else {\n            $v_name = escapeshellarg($_POST['v_name']);\n            exec(HESTIA_CMD.\"v-change-user-name \".escapeshellarg($v_username). \" \".$v_name, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_name = $_POST['v_name'];\n        }\n    }\n\n    // Update theme\n    if (empty($_SESSION['error_msg'])) {\n        if ($_POST['v_user_theme'] != $_SESSION['userTheme']) {\n            exec(HESTIA_CMD.\"v-change-user-theme \".escapeshellarg($v_username).\" \".escapeshellarg($_POST['v_user_theme']), $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_user_theme = $_POST['v_user_theme'];\n            if ($_SESSION['user'] === $v_username) {\n                unset($_SESSION['userTheme']);\n                $_SESSION['userTheme'] = $v_user_theme;\n            }\n        }\n    }\n\n    // Change NameServers\n    if (($v_ns1 != $_POST['v_ns1']) || ($v_ns2 != $_POST['v_ns2']) || ($v_ns3 != $_POST['v_ns3']) || ($v_ns4 != $_POST['v_ns4']) || ($v_ns5 != $_POST['v_ns5'])\n || ($v_ns6 != $_POST['v_ns6']) || ($v_ns7 != $_POST['v_ns7']) || ($v_ns8 != $_POST['v_ns8']) && (empty($_SESSION['error_msg']))) {\n        $v_ns1 = escapeshellarg($_POST['v_ns1']);\n        $v_ns2 = escapeshellarg($_POST['v_ns2']);\n        $v_ns3 = escapeshellarg($_POST['v_ns3']);\n        $v_ns4 = escapeshellarg($_POST['v_ns4']);\n        $v_ns5 = escapeshellarg($_POST['v_ns5']);\n        $v_ns6 = escapeshellarg($_POST['v_ns6']);\n        $v_ns7 = escapeshellarg($_POST['v_ns7']);\n        $v_ns8 = escapeshellarg($_POST['v_ns8']);\n        $ns_cmd = HESTIA_CMD.\"v-change-user-ns \".escapeshellarg($v_username).\" \".$v_ns1.\" \".$v_ns2;\n        if (!empty($_POST['v_ns3'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns3;\n        }\n        if (!empty($_POST['v_ns4'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns4;\n        }\n        if (!empty($_POST['v_ns5'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns5;\n        }\n        if (!empty($_POST['v_ns6'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns6;\n        }\n        if (!empty($_POST['v_ns7'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns7;\n        }\n        if (!empty($_POST['v_ns8'])) {\n            $ns_cmd = $ns_cmd.\" \".$v_ns8;\n        }\n        exec($ns_cmd, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n\n        $v_ns1 = str_replace(\"'\", \"\", $v_ns1);\n        $v_ns2 = str_replace(\"'\", \"\", $v_ns2);\n        $v_ns3 = str_replace(\"'\", \"\", $v_ns3);\n        $v_ns4 = str_replace(\"'\", \"\", $v_ns4);\n        $v_ns5 = str_replace(\"'\", \"\", $v_ns5);\n        $v_ns6 = str_replace(\"'\", \"\", $v_ns6);\n        $v_ns7 = str_replace(\"'\", \"\", $v_ns7);\n        $v_ns8 = str_replace(\"'\", \"\", $v_ns8);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_user');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nob_start();\nunset($_SESSION['error_msg']);\n$TAB = 'WEB';\n\n// Main include\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check domain argument\nif (empty($_GET['domain'])) {\n    header(\"Location: /list/web/\");\n    exit;\n}\n\n// Edit as someone else?\nif (($_SESSION['userContext'] === 'admin') && (!empty($_GET['user']))) {\n    $user=escapeshellarg($_GET['user']);\n}\n\n// Get all user domains\nexec(HESTIA_CMD.\"v-list-web-domains \".$user.\" json\", $output, $return_var);\n$user_domains = json_decode(implode('', $output), true);\n$user_domains = array_keys($user_domains);\nunset($output);\n\n$v_domain = $_GET['domain'];\nexec(HESTIA_CMD.\"v-list-web-domain \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n# Check if domain exists if not return /list/web/\ncheck_return_code_redirect($return_var, $output, '/list/web/');\n$data = json_decode(implode('', $output), true);\nunset($output);\n\n// Parse domain\n$v_username = $user;\n$v_ip = $data[$v_domain]['IP'];\n$v_template = $data[$v_domain]['TPL'];\n$v_aliases = str_replace(',', \"\\n\", $data[$v_domain]['ALIAS']);\n$valiases = explode(\",\", $data[$v_domain]['ALIAS']);\n\n$v_tpl = $data[$v_domain]['IP'];\n$v_cgi = $data[$v_domain]['CGI'];\n$v_elog = $data[$v_domain]['ELOG'];\n$v_ssl = $data[$v_domain]['SSL'];\nif (!empty($v_ssl)) {\n    exec(HESTIA_CMD.\"v-list-web-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n    $ssl_str = json_decode(implode('', $output), true);\n    unset($output);\n    $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n    $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n    $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n    $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n    $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n    $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n    $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n    $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n    $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n    $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n    $v_ssl_forcessl = $data[$v_domain]['SSL_FORCE'];\n    $v_ssl_hsts = $data[$v_domain]['SSL_HSTS'];\n}\n$v_letsencrypt = $data[$v_domain]['LETSENCRYPT'];\nif (empty($v_letsencrypt)) {\n    $v_letsencrypt = 'no';\n}\n$v_ssl_home = $data[$v_domain]['SSL_HOME'];\n$v_backend_template = $data[$v_domain]['BACKEND'];\n$v_nginx_cache = $data[$v_domain]['FASTCGI_CACHE'];\n$v_nginx_cache_duration = $data[$v_domain]['FASTCGI_DURATION'];\n$v_nginx_cache_check = '';\nif (empty($v_nginx_cache_duration)) {\n    $v_nginx_cache_duration = '2m';\n    $v_nginx_cache_check = '';\n} else {\n    $v_nginx_cache_check = 'on';\n}\n$v_proxy = $data[$v_domain]['PROXY'];\n$v_proxy_template = $data[$v_domain]['PROXY'];\n$v_proxy_ext = str_replace(',', ', ', $data[$v_domain]['PROXY_EXT']);\n$v_stats = $data[$v_domain]['STATS'];\n$v_stats_user = $data[$v_domain]['STATS_USER'];\nif (!empty($v_stats_user)) {\n    $v_stats_password = \"\";\n}\n$v_custom_doc_root_prepath = '/home/'.$v_username.'/web/';\n\nif (!empty($data[$v_domain]['CUSTOM_DOCROOT'])) {\n    $v_custom_doc_root = realpath($data[$v_domain]['CUSTOM_DOCROOT']) . DIRECTORY_SEPARATOR;\n}\n\nif (!empty($v_custom_doc_root) &&\n    false !== preg_match('/\\/home\\/'.$v_username.'\\/web\\/([[:alnum:]].*?)\\/public_html\\/([[:alnum:]].*)?/', $v_custom_doc_root, $matches)) {\n    // Regex for extracting target web domain and custom document root. Regex test: https://regex101.com/r/2CLvIF/1\n\n    if (!empty($matches[1])) {\n        $v_custom_doc_domain = $matches[1];\n    }\n\n    if (!empty($matches[2])) {\n        $v_custom_doc_folder = rtrim($matches[2], '/');\n    }\n\n    if ($v_custom_doc_domain && !in_array($v_custom_doc_domain, $user_domains)) {\n        $v_custom_doc_domain = '';\n        $v_custom_doc_folder = '';\n    }\n}\n\n$redirect_code_options = array(301,302);\n$v_redirect = $data[$v_domain]['REDIRECT'];\n$v_redirect_code = $data[$v_domain]['REDIRECT_CODE'];\nif (!in_array($v_redirect, array('www.'.$v_domain, $v_domain))) {\n    $v_redirect_custom = $v_redirect;\n}\n\n$v_ftp_user = $data[$v_domain]['FTP_USER'];\n$v_ftp_path = $data[$v_domain]['FTP_PATH'];\nif (!empty($v_ftp_user)) {\n    $v_ftp_password = \"\";\n}\n\nif ($v_custom_doc_domain != '') {\n    $v_ftp_user_prepath = '/home/'.$v_username.'/web/'.$v_custom_doc_domain;\n} else {\n    $v_ftp_user_prepath = '/home/'.$v_username.'/web/'.$v_domain;\n}\n\n\n$v_ftp_email = $panel[$user]['CONTACT'];\n$v_suspended = $data[$v_domain]['SUSPENDED'];\nif ($v_suspended == 'yes') {\n    $v_status =  'suspended';\n} else {\n    $v_status =  'active';\n}\n$v_time = $data[$v_domain]['TIME'];\n$v_date = $data[$v_domain]['DATE'];\n\n// List ip addresses\nexec(HESTIA_CMD.\"v-list-user-ips \".$user.\" json\", $output, $return_var);\n$ips = json_decode(implode('', $output), true);\nunset($output);\n\n$v_ip_public = empty($ips[$v_ip]['NAT']) ? $v_ip : $ips[$v_ip]['NAT'];\n\n// List web templates\nexec(HESTIA_CMD.\"v-list-web-templates json\", $output, $return_var);\n$templates = json_decode(implode('', $output), true);\nunset($output);\n\n// List backend templates\nif (!empty($_SESSION['WEB_BACKEND'])) {\n    exec(HESTIA_CMD.\"v-list-web-templates-backend json\", $output, $return_var);\n    $backend_templates = json_decode(implode('', $output), true);\n    unset($output);\n}\n\n// List proxy templates\nif (!empty($_SESSION['PROXY_SYSTEM'])) {\n    exec(HESTIA_CMD.\"v-list-web-templates-proxy json\", $output, $return_var);\n    $proxy_templates = json_decode(implode('', $output), true);\n    unset($output);\n}\n\n// List web stat engines\nexec(HESTIA_CMD.\"v-list-web-stats json\", $output, $return_var);\n$stats = json_decode(implode('', $output), true);\nunset($output);\n\n// Check POST request\nif (!empty($_POST['save'])) {\n    $v_domain = $_POST['v_domain'];\n    if (!in_array($v_domain, $user_domains)) {\n        check_return_code(3, [\"Unknown domain\"]);\n    }\n    // Check token\n    verify_csrf($_POST);\n\n    // Change web domain IP\n    $v_newip='';\n    $v_newip_public='';\n\n    if (!empty($_POST['v_ip'])) {\n        $v_newip = $_POST['v_ip'];\n        $v_newip_public = empty($ips[$v_newip]['NAT']) ? $v_newip : $ips[$v_newip]['NAT'];\n    }\n\n    if (($v_ip != $_POST['v_ip']) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-change-web-domain-ip \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($_POST['v_ip']).\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n        unset($output);\n    }\n\n    // Change dns domain IP\n    if (($v_ip != $_POST['v_ip']) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-list-dns-domain \".$v_username.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n        unset($output);\n        if ($return_var == 0) {\n            exec(HESTIA_CMD.\"v-change-dns-domain-ip \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_newip_public).\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_dns = 'yes';\n        }\n    }\n\n    // Change dns ip for each alias\n    if (($v_ip != $_POST['v_ip']) && (empty($_SESSION['error_msg']))) {\n        foreach ($valiases as $v_alias) {\n            exec(HESTIA_CMD.\"v-list-dns-domain \".$v_username.\" \".escapeshellarg($v_alias).\" json\", $output, $return_var);\n            unset($output);\n            if ($return_var == 0) {\n                exec(HESTIA_CMD.\"v-change-dns-domain-ip \".$v_username.\" \".escapeshellarg($v_alias).\" \".escapeshellarg($v_newip_public), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n                $restart_dns = 'yes';\n            }\n        }\n    }\n\n    // Change mail domain IP\n    if (($v_ip != $_POST['v_ip']) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-list-mail-domain \".$v_username.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n        unset($output);\n        if ($return_var == 0) {\n            exec(HESTIA_CMD.\"v-rebuild-mail-domain \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_email = 'yes';\n        }\n    }\n\n\n    if (($_SESSION['POLICY_USER_EDIT_WEB_TEMPLATES'] == 'yes') || ($_SESSION['userContext'] === \"admin\")) {\n        // Change template\n        if (($v_template != $_POST['v_template']) && (empty($_SESSION['error_msg']))) {\n            exec(HESTIA_CMD.\"v-change-web-domain-tpl \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($_POST['v_template']).\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_web = 'yes';\n        }\n\n        // Change backend template\n        if ((!empty($_SESSION['WEB_BACKEND'])) && ($v_backend_template != $_POST['v_backend_template'])  && (empty($_SESSION['error_msg']))) {\n            $v_backend_template = $_POST['v_backend_template'];\n            exec(HESTIA_CMD.\"v-change-web-domain-backend-tpl \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_backend_template), $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        }\n\n        // Enable/Disable nginx cache\n        if (($_SESSION['WEB_SYSTEM'] == 'nginx') && ($v_nginx_cache_check != $_POST['v_nginx_cache_check']) || ($v_nginx_cache_duration != $_POST['v_nginx_cache_duration'] && $_POST['v_nginx_cache'] = \"yes\") && (empty($_SESSION['error_msg']))) {\n            if ($_POST['v_nginx_cache_check'] == 'on') {\n                if (empty($_POST['v_nginx_cache_duration'])) {\n                    $_POST['v_nginx_cache_duration'] = \"2m\";\n                }\n                exec(HESTIA_CMD.\"v-add-fastcgi-cache \".$v_username.\" \".escapeshellarg($v_domain).' '. escapeshellarg($_POST['v_nginx_cache_duration']), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            } else {\n                exec(HESTIA_CMD.\"v-delete-fastcgi-cache \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n            }\n            $restart_web = 'yes';\n        }\n\n        // Delete proxy support\n        if ((!empty($_SESSION['PROXY_SYSTEM'])) && (!empty($v_proxy)) && (empty($_POST['v_proxy'])) && (empty($_SESSION['error_msg']))) {\n            exec(HESTIA_CMD.\"v-delete-web-domain-proxy \".$v_username.\" \".escapeshellarg($v_domain).\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unset($v_proxy);\n            $restart_web = 'yes';\n        }\n\n        // Change proxy template / Update extension list\n        if ((!empty($_SESSION['PROXY_SYSTEM'])) && (!empty($v_proxy)) && (!empty($_POST['v_proxy'])) && (empty($_SESSION['error_msg']))) {\n            $ext = preg_replace(\"/\\n/\", \" \", $_POST['v_proxy_ext']);\n            $ext = preg_replace(\"/,/\", \" \", $ext);\n            $ext = preg_replace('/\\s+/', ' ', $ext);\n            $ext = trim($ext);\n            $ext = str_replace(' ', \", \", $ext);\n            if (($v_proxy_template != $_POST['v_proxy_template']) || ($v_proxy_ext != $ext)) {\n                $ext = str_replace(', ', \",\", $ext);\n                if (!empty($_POST['v_proxy_template'])) {\n                    $v_proxy_template = $_POST['v_proxy_template'];\n                }\n                exec(HESTIA_CMD.\"v-change-web-domain-proxy-tpl \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_proxy_template).\" \".escapeshellarg($ext).\" 'no'\", $output, $return_var);\n                check_return_code($return_var, $output);\n                $v_proxy_ext = str_replace(',', ', ', $ext);\n                unset($output);\n                $restart_proxy = 'yes';\n            }\n        }\n\n        // Add proxy support\n        if ((!empty($_SESSION['PROXY_SYSTEM'])) && (empty($v_proxy)) && (!empty($_POST['v_proxy'])) && (empty($_SESSION['error_msg']))) {\n            $v_proxy_template = $_POST['v_proxy_template'];\n            if (!empty($_POST['v_proxy_ext'])) {\n                $ext = preg_replace(\"/\\n/\", \" \", $_POST['v_proxy_ext']);\n                $ext = preg_replace(\"/,/\", \" \", $ext);\n                $ext = preg_replace('/\\s+/', ' ', $ext);\n                $ext = trim($ext);\n                $ext = str_replace(' ', \",\", $ext);\n                $v_proxy_ext = str_replace(',', ', ', $ext);\n            }\n            exec(HESTIA_CMD.\"v-add-web-domain-proxy \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($v_proxy_template).\" \".escapeshellarg($ext).\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_proxy = 'yes';\n        }\n    }\n    // Change aliases\n    if (empty($_SESSION['error_msg'])) {\n        $waliases = preg_replace(\"/\\n/\", \" \", $_POST['v_aliases']);\n        $waliases = preg_replace(\"/,/\", \" \", $waliases);\n        $waliases = preg_replace('/\\s+/', ' ', $waliases);\n        $waliases = trim($waliases);\n        $aliases = explode(\" \", $waliases);\n        $v_aliases = str_replace(' ', \"\\n\", $waliases);\n        $result = array_diff($valiases, $aliases);\n        foreach ($result as $alias) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($alias))) {\n                $restart_web = 'yes';\n                $restart_proxy = 'yes';\n                exec(HESTIA_CMD.\"v-delete-web-domain-alias \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($alias).\" 'no'\", $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n\n                if (empty($_SESSION['error_msg'])) {\n                    exec(HESTIA_CMD.\"v-list-dns-domain \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n                    unset($output);\n                    if ($return_var == 0) {\n                        exec(HESTIA_CMD.\"v-delete-dns-on-web-alias \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($alias).\" 'no'\", $output, $return_var);\n                        check_return_code($return_var, $output);\n                        unset($output);\n                        $restart_dns = 'yes';\n                    }\n                }\n            }\n        }\n\n        $result = array_diff($aliases, $valiases);\n        foreach ($result as $alias) {\n            if ((empty($_SESSION['error_msg'])) && (!empty($alias))) {\n                $restart_web = 'yes';\n                $restart_proxy = 'yes';\n                exec(HESTIA_CMD.\"v-add-web-domain-alias \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($alias).\" 'no'\", $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n                if (empty($_SESSION['error_msg'])) {\n                    exec(HESTIA_CMD.\"v-list-dns-domain \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n                    unset($output);\n                    if ($return_var == 0) {\n                        exec(HESTIA_CMD.\"v-add-dns-on-web-alias \".$v_username.\" \".escapeshellarg($alias).\" \".escapeshellarg($v_newip_public ?: $v_ip_public).\" no\", $output, $return_var);\n                        check_return_code($return_var, $output);\n                        unset($output);\n                        $restart_dns = 'yes';\n                    }\n                }\n            }\n        }\n\n        // Regenerate LE if aliases are different\n        if ((!empty($_POST['v_ssl'])) && ($v_letsencrypt == 'yes') && (!empty($_POST['v_letsencrypt'])) && empty($_SESSION['error_msg'])) {\n\n        // If aliases are different from stored aliases\n            if (array_diff($valiases, $aliases) || array_diff($aliases, $valiases)) {\n\n            // Add certificate with new aliases\n                $l_aliases = str_replace(\"\\n\", ',', $v_aliases);\n                exec(HESTIA_CMD.\"v-add-letsencrypt-domain \".$user.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($l_aliases).\" ''\", $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n                $v_letsencrypt = 'yes';\n                $v_ssl = 'yes';\n                $restart_web = 'yes';\n                $restart_proxy = 'yes';\n\n                exec(HESTIA_CMD.\"v-list-web-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n                $ssl_str = json_decode(implode('', $output), true);\n                unset($output);\n                $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n                $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n                $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n                $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n                $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n                $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n                $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n                $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n                $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n                $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n            }\n        }\n\n        if ((!empty($v_stats)) && ($_POST['v_stats'] == $v_stats) && (empty($_SESSION['error_msg']))) {\n            // Update statistics configuration when changing domain aliases\n            $v_stats = escapeshellarg($_POST['v_stats']);\n            exec(HESTIA_CMD.\"v-change-web-domain-stats \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_stats, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        }\n    }\n\n    // Change document root for ssl domain\n    if (($v_ssl == 'yes') && (!empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        if ($v_ssl_home != $_POST['v_ssl_home']) {\n            $v_ssl_home = escapeshellarg($_POST['v_ssl_home']);\n            exec(HESTIA_CMD.\"v-change-web-domain-sslhome \".$user.\" \".escapeshellarg($v_domain).\" \".$v_ssl_home.\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            $v_ssl_home = $_POST['v_ssl_home'];\n            $restart_web = 'yes';\n            $restart_proxy = 'yes';\n            unset($output);\n        }\n    }\n\n    // Change SSL certificate\n    if (($v_letsencrypt == 'no') && (empty($_POST['v_letsencrypt'])) && ($v_ssl == 'yes') && (!empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        if (($v_ssl_crt != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt'])) || ($v_ssl_key != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key'])) || ($v_ssl_ca != str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']))) {\n            exec('mktemp -d', $mktemp_output, $return_var);\n            $tmpdir = $mktemp_output[0];\n\n            // Certificate\n            if (!empty($_POST['v_ssl_crt'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".crt\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            // Key\n            if (!empty($_POST['v_ssl_key'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".key\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            // CA\n            if (!empty($_POST['v_ssl_ca'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".ca\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']));\n                fwrite($fp, \"\\n\");\n                fclose($fp);\n            }\n\n            exec(HESTIA_CMD.\"v-change-web-domain-sslcert \".$user.\" \".escapeshellarg($v_domain).\" \".$tmpdir.\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $restart_web = 'yes';\n            $restart_proxy = 'yes';\n\n            exec(HESTIA_CMD.\"v-list-web-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n            $ssl_str = json_decode(implode('', $output), true);\n            unset($output);\n            $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n            $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n            $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n            $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n            $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n            $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n            $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n            $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n            $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n            $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n\n            // Cleanup certificate tempfiles\n            if (!empty($_POST['v_ssl_crt'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".crt\");\n            }\n            if (!empty($_POST['v_ssl_key'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".key\");\n            }\n            if (!empty($_POST['v_ssl_ca'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".ca\");\n            }\n            rmdir($tmpdir);\n        }\n    }\n\n    // Delete Lets Encrypt support\n    if (($v_letsencrypt == 'yes') && (empty($_POST['v_letsencrypt']) || empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-letsencrypt-domain \".$user.\" \".escapeshellarg($v_domain).\" ''\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_crt = '';\n        $v_ssl_key = '';\n        $v_ssl_ca = '';\n        $v_letsencrypt = 'no';\n        $v_letsencrypt_deleted = 'yes';\n        $v_ssl = 'no';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Delete SSL certificate\n    if (($v_ssl == 'yes') && (empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-ssl \".$v_username.\" \".escapeshellarg($v_domain).\" 'no'\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_crt = '';\n        $v_ssl_key = '';\n        $v_ssl_ca = '';\n        $v_ssl = 'no';\n        $v_ssl_forcessl = 'no';\n        $v_ssl_hsts = 'no';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Add Lets Encrypt support\n    if ((!empty($_POST['v_ssl'])) && ($v_letsencrypt == 'no') && (!empty($_POST['v_letsencrypt'])) && empty($_SESSION['error_msg'])) {\n        $l_aliases = str_replace(\"\\n\", ',', $v_aliases);\n        exec(HESTIA_CMD.\"v-add-letsencrypt-domain \".$user.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($l_aliases).\" ''\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        if ($return_var != 0) {\n            $v_letsencrypt = 'no';\n        } else {\n            $v_letsencrypt = 'yes';\n        }\n        $v_ssl = 'yes';\n        if ($_POST['v_ssl_forcessl'] == 'on') {\n            $v_ssl_forcessl = 'yes';\n        } else {\n            $v_ssl_forcessl = 'no';\n        }\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Add SSL certificate\n    if (($v_ssl == 'no') && (!empty($_POST['v_ssl']))  && (empty($v_letsencrypt_deleted)) && (empty($_SESSION['error_msg']))) {\n        if (empty($_POST['v_ssl_crt'])) {\n            $errors[] = 'ssl certificate';\n        }\n        if (empty($_POST['v_ssl_key'])) {\n            $errors[] = 'ssl key';\n        }\n        if (empty($_POST['v_ssl_home'])) {\n            $errors[] = 'ssl home';\n        }\n        $v_ssl_home = escapeshellarg($_POST['v_ssl_home']);\n        if (!empty($errors[0])) {\n            foreach ($errors as $i => $error) {\n                if ($i == 0) {\n                    $error_msg = $error;\n                } else {\n                    $error_msg = $error_msg.\", \".$error;\n                }\n            }\n            $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n        } else {\n            exec('mktemp -d', $mktemp_output, $return_var);\n            $tmpdir = $mktemp_output[0];\n\n            // Certificate\n            if (!empty($_POST['v_ssl_crt'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".crt\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_crt']));\n                fclose($fp);\n            }\n\n            // Key\n            if (!empty($_POST['v_ssl_key'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".key\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_key']));\n                fclose($fp);\n            }\n\n            // CA\n            if (!empty($_POST['v_ssl_ca'])) {\n                $fp = fopen($tmpdir.\"/\".$v_domain.\".ca\", 'w');\n                fwrite($fp, str_replace(\"\\r\\n\", \"\\n\", $_POST['v_ssl_ca']));\n                fclose($fp);\n            }\n            exec(HESTIA_CMD.\"v-add-web-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" \".$tmpdir.\" \".$v_ssl_home.\" 'no'\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_ssl = 'yes';\n            $restart_web = 'yes';\n            $restart_proxy = 'yes';\n\n            exec(HESTIA_CMD.\"v-list-web-domain-ssl \".$user.\" \".escapeshellarg($v_domain).\" json\", $output, $return_var);\n            $ssl_str = json_decode(implode('', $output), true);\n            unset($output);\n            $v_ssl_crt = $ssl_str[$v_domain]['CRT'];\n            $v_ssl_key = $ssl_str[$v_domain]['KEY'];\n            $v_ssl_ca = $ssl_str[$v_domain]['CA'];\n            $v_ssl_subject = $ssl_str[$v_domain]['SUBJECT'];\n            $v_ssl_aliases = $ssl_str[$v_domain]['ALIASES'];\n            $v_ssl_not_before = $ssl_str[$v_domain]['NOT_BEFORE'];\n            $v_ssl_not_after = $ssl_str[$v_domain]['NOT_AFTER'];\n            $v_ssl_signature = $ssl_str[$v_domain]['SIGNATURE'];\n            $v_ssl_pub_key = $ssl_str[$v_domain]['PUB_KEY'];\n            $v_ssl_issuer = $ssl_str[$v_domain]['ISSUER'];\n\n            // Cleanup certificate tempfiles\n            if (!empty($_POST['v_ssl_crt'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".crt\");\n            }\n            if (!empty($_POST['v_ssl_key'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".key\");\n            }\n            if (!empty($_POST['v_ssl_ca'])) {\n                unlink($tmpdir.\"/\".$v_domain.\".ca\");\n            }\n            rmdir($tmpdir);\n        }\n    }\n\n    // Add Force SSL\n    if ((!empty($_POST['v_ssl_forcessl'])) && (!empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-web-domain-ssl-force \".$user.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_forcessl = 'yes';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Add SSL HSTS\n    if ((!empty($_POST['v_ssl_hsts'])) && (!empty($_POST['v_ssl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-add-web-domain-ssl-hsts \".$user.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_hsts = 'yes';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Delete Force SSL\n    if (($v_ssl_forcessl == 'yes') && (empty($_POST['v_ssl_forcessl'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-ssl-force \".$user.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_forcessl = 'no';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Delete SSL HSTS\n    if (($v_ssl_hsts == 'yes') && (empty($_POST['v_ssl_hsts'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-ssl-hsts \".$user.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_ssl_hsts = 'no';\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    // Delete web stats\n    if ((!empty($v_stats)) && ($_POST['v_stats'] == 'none') && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-stats \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_stats = '';\n    }\n\n    // Change web stats engine\n    if ((!empty($v_stats)) && ($_POST['v_stats'] != $v_stats) && (empty($_SESSION['error_msg']))) {\n        $v_stats = escapeshellarg($_POST['v_stats']);\n        exec(HESTIA_CMD.\"v-change-web-domain-stats \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_stats, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Add web stats\n    if ((empty($v_stats)) && ($_POST['v_stats'] != 'none') && (empty($_SESSION['error_msg']))) {\n        $v_stats = escapeshellarg($_POST['v_stats']);\n        exec(HESTIA_CMD.\"v-add-web-domain-stats \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_stats, $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Delete web stats authorization\n    if ((!empty($v_stats_user)) && (empty($_POST['v_stats_auth'])) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-stats-user \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        $v_stats_user = '';\n        $v_stats_password = '';\n    }\n\n    // Change web stats user or password\n    if ((empty($v_stats_user)) && (!empty($_POST['v_stats_auth'])) && (empty($_SESSION['error_msg']))) {\n        if (empty($_POST['v_stats_user'])) {\n            $errors[] = _('stats username');\n        }\n        if (!empty($errors[0])) {\n            foreach ($errors as $i => $error) {\n                if ($i == 0) {\n                    $error_msg = $error;\n                } else {\n                    $error_msg = $error_msg.\", \".$error;\n                }\n            }\n            $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n        } else {\n            $v_stats_user = escapeshellarg($_POST['v_stats_user']);\n            $v_stats_password = tempnam(\"/tmp\", \"vst\");\n            $fp = fopen($v_stats_password, \"w\");\n            fwrite($fp, $_POST['v_stats_password'].\"\\n\");\n            fclose($fp);\n            exec(HESTIA_CMD.\"v-add-web-domain-stats-user \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_stats_user.\" \".$v_stats_password, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unlink($v_stats_password);\n            $v_stats_password = escapeshellarg($_POST['v_stats_password']);\n        }\n    }\n\n    // Add web stats authorization\n    if ((!empty($v_stats_user)) && (!empty($_POST['v_stats_auth'])) && (empty($_SESSION['error_msg']))) {\n        if (empty($_POST['v_stats_user'])) {\n            $errors[] = _('stats user');\n        }\n        if (!empty($errors[0])) {\n            foreach ($errors as $i => $error) {\n                if ($i == 0) {\n                    $error_msg = $error;\n                } else {\n                    $error_msg = $error_msg.\", \".$error;\n                }\n            }\n            $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n        }\n        if (($v_stats_user != $_POST['v_stats_user']) || (!empty($_POST['v_stats_password'])) && (empty($_SESSION['error_msg']))) {\n            $v_stats_user = escapeshellarg($_POST['v_stats_user']);\n            $v_stats_password = tempnam(\"/tmp\", \"vst\");\n            $fp = fopen($v_stats_password, \"w\");\n            fwrite($fp, $_POST['v_stats_password'].\"\\n\");\n            fclose($fp);\n            exec(HESTIA_CMD.\"v-add-web-domain-stats-user \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_stats_user.\" \".$v_stats_password, $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            unlink($v_stats_password);\n            $v_stats_password = escapeshellarg($_POST['v_stats_password']);\n        }\n    }\n\n    // Update ftp account\n    if (!empty($_POST['v_ftp_user'])) {\n        $v_ftp_users_updated = array();\n        foreach ($_POST['v_ftp_user'] as $i => $v_ftp_user_data) {\n            if (empty($v_ftp_user_data['v_ftp_user'])) {\n                continue;\n            }\n\n            $v_ftp_user_data['v_ftp_user'] = preg_replace(\"/^\".$user.\"_/i\", \"\", $v_ftp_user_data['v_ftp_user']);\n            if ($v_ftp_user_data['is_new'] == 1 && !empty($_POST['v_ftp'])) {\n                if ((!empty($v_ftp_user_data['v_ftp_email'])) && (!filter_var($v_ftp_user_data['v_ftp_email'], FILTER_VALIDATE_EMAIL))) {\n                    $_SESSION['error_msg'] = _('Please enter valid email address.');\n                }\n                if (empty($v_ftp_user_data['v_ftp_user'])) {\n                    $errors[] = 'ftp user';\n                }\n                if (!empty($errors[0])) {\n                    foreach ($errors as $i => $error) {\n                        if ($i == 0) {\n                            $error_msg = $error;\n                        } else {\n                            $error_msg = $error_msg.\", \".$error;\n                        }\n                    }\n                    $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n                }\n\n                // Add ftp account\n                $v_ftp_username      = $v_ftp_user_data['v_ftp_user'];\n                $v_ftp_username_full = $user . '_' . $v_ftp_user_data['v_ftp_user'];\n                $v_ftp_user = escapeshellarg($v_ftp_username);\n                $v_ftp_path = escapeshellarg(trim($v_ftp_user_data['v_ftp_path']));\n                if (empty($_SESSION['error_msg'])) {\n                    $v_ftp_password = tempnam(\"/tmp\", \"vst\");\n                    $fp = fopen($v_ftp_password, \"w\");\n                    fwrite($fp, $v_ftp_user_data['v_ftp_password'].\"\\n\");\n                    fclose($fp);\n                    exec(HESTIA_CMD.\"v-add-web-domain-ftp \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_ftp_user.\" \".$v_ftp_password . \" \" . $v_ftp_path, $output, $return_var);\n                    check_return_code($return_var, $output);\n                    if ((!empty($v_ftp_user_data['v_ftp_email'])) && (empty($_SESSION['error_msg']))) {\n                        $to = $v_ftp_user_data['v_ftp_email'];\n                        $subject = _(\"FTP login credentials\");\n                        $hostname = exec('hostname');\n                        $from = \"noreply@\".$hostname;\n                        $from_name = _('Hestia Control Panel');\n                        $mailtext = sprintf(_('FTP_ACCOUNT_READY'), escapeshellarg($_GET['domain']), $user, $v_ftp_username, $v_ftp_user_data['v_ftp_password']);\n                        send_email($to, $subject, $mailtext, $from, $from_name);\n                        unset($v_ftp_email);\n                    }\n                    unset($output);\n                    unlink($v_ftp_password);\n                    $v_ftp_password = escapeshellarg($v_ftp_user_data['v_ftp_password']);\n                }\n\n                if ($return_var == 0) {\n                    $v_ftp_password = \"\";\n                    $v_ftp_user_data['is_new'] = 0;\n                } else {\n                    $v_ftp_user_data['is_new'] = 1;\n                }\n\n                $v_ftp_users_updated[] = array(\n                    'is_new'            => empty($_SESSION['error_msg']) ? 0 : 1,\n                    'v_ftp_user'        => $v_ftp_username_full,\n                    'v_ftp_password'    => $v_ftp_password,\n                    'v_ftp_path'        => $v_ftp_user_data['v_ftp_path'],\n                    'v_ftp_email'       => $v_ftp_user_data['v_ftp_email'],\n                    'v_ftp_pre_path'    => $v_ftp_user_prepath\n                );\n\n                continue;\n            }\n\n            // Delete FTP account\n            if ($v_ftp_user_data['delete'] == 1) {\n                $v_ftp_username = $user . '_' . $v_ftp_user_data['v_ftp_user'];\n                exec(HESTIA_CMD.\"v-delete-web-domain-ftp \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_ftp_username, $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n\n                continue;\n            }\n\n            if (!empty($_POST['v_ftp'])) {\n                if (empty($v_ftp_user_data['v_ftp_user'])) {\n                    $errors[] = _('ftp user');\n                }\n                if (!empty($errors[0])) {\n                    foreach ($errors as $i => $error) {\n                        if ($i == 0) {\n                            $error_msg = $error;\n                        } else {\n                            $error_msg = $error_msg.\", \".$error;\n                        }\n                    }\n                    $_SESSION['error_msg'] = _('Field \"%s\" can not be blank.', $error_msg);\n                }\n\n                // Change FTP account path\n                $v_ftp_username_for_emailing = $v_ftp_user_data['v_ftp_user'];\n                $v_ftp_username = $user . '_' . $v_ftp_user_data['v_ftp_user']; //preg_replace(\"/^\".$user.\"_/\", \"\", $v_ftp_user_data['v_ftp_user']);\n                $v_ftp_username = escapeshellarg($v_ftp_username);\n                $v_ftp_path = escapeshellarg(trim($v_ftp_user_data['v_ftp_path']));\n                if (escapeshellarg(trim($v_ftp_user_data['v_ftp_path_prev'])) != $v_ftp_path) {\n                    exec(HESTIA_CMD.\"v-change-web-domain-ftp-path \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_ftp_username.\" \".$v_ftp_path, $output, $return_var);\n                }\n\n                // Change FTP account password\n                if (!empty($v_ftp_user_data['v_ftp_password'])) {\n                    $v_ftp_password = tempnam(\"/tmp\", \"vst\");\n                    $fp = fopen($v_ftp_password, \"w\");\n                    fwrite($fp, $v_ftp_user_data['v_ftp_password'].\"\\n\");\n                    fclose($fp);\n                    exec(HESTIA_CMD.\"v-change-web-domain-ftp-password \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_ftp_username.\" \".$v_ftp_password, $output, $return_var);\n                    unlink($v_ftp_password);\n\n                    $to = $v_ftp_user_data['v_ftp_email'];\n                    $subject = _(\"FTP login credentials\");\n                    $hostname = exec('hostname');\n                    $from = \"noreply@\".$hostname;\n                    $from_name = _('Hestia Control Panel');\n                    $mailtext = _('FTP_ACCOUNT_READY', escapeshellarg($_GET['domain']), $user, $v_ftp_username_for_emailing, $v_ftp_user_data['v_ftp_password']);\n                    send_email($to, $subject, $mailtext, $from, $from_name);\n                    unset($v_ftp_email);\n                }\n                check_return_code($return_var, $output);\n                unset($output);\n\n                $v_ftp_users_updated[] = array(\n                    'is_new'            => 0,\n                    'v_ftp_user'        => $v_ftp_username,\n                    'v_ftp_password'    => $v_ftp_user_data['v_ftp_password'],\n                    'v_ftp_path'        => $v_ftp_user_data['v_ftp_path'],\n                    'v_ftp_email'       => $v_ftp_user_data['v_ftp_email'],\n                    'v_ftp_pre_path'    => $v_ftp_user_prepath\n                );\n            }\n        }\n    }\n    //custom docoot with check box disabled\n    if (!empty($v_custom_doc_root) && empty($_POST['v_custom_doc_root_check'])) {\n        exec(HESTIA_CMD.\"v-change-web-domain-docroot \".$v_username.\" \".escapeshellarg($v_domain).\" default\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        unset($_POST['v-custom-doc-domain'], $_POST['v-custom-doc-folder']);\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    if (!empty($_POST['v-custom-doc-domain']) && !empty($_POST['v_custom_doc_root_check']) && $v_custom_doc_root_prepath.$v_custom_doc_domain.'/public_html'.$v_custom_doc_folder != $v_custom_doc_root) {\n        if ($_POST['v-custom-doc-domain'] == $v_domain && empty($_POST['v-custom-doc-folder'])) {\n            exec(HESTIA_CMD.\"v-change-web-domain-docroot \".$v_username.\" \".escapeshellarg($v_domain).\" default\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n        } else {\n            $v_custom_doc_folder = escapeshellarg(rtrim($_POST['v-custom-doc-folder'], '/'));\n            $v_custom_doc_domain = escapeshellarg($_POST['v-custom-doc-domain']);\n\n            exec(HESTIA_CMD.\"v-change-web-domain-docroot \".$v_username.\" \".escapeshellarg($v_domain).\" \".$v_custom_doc_domain.\" \".$v_custom_doc_folder .\" yes\", $output, $return_var);\n            check_return_code($return_var, $output);\n            unset($output);\n            $v_custom_doc_root = 1;\n        }\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    } else {\n        unset($v_custom_doc_root);\n    }\n\n    if (!empty($v_redirect) && empty($_POST['v-redirect-checkbox'])) {\n        exec(HESTIA_CMD.\"v-delete-web-domain-redirect \".$v_username.\" \".escapeshellarg($v_domain), $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n        unset($_POST['v-redirect']);\n        $restart_web = 'yes';\n        $restart_proxy = 'yes';\n    }\n\n    if (!empty($_POST['v-redirect']) && !empty($_POST['v-redirect-checkbox'])) {\n        if (empty($v_redirect)) {\n            if ($_POST['v-redirect']  == 'custom' && empty($_POST['v-redirect-custom'])) {\n            } else {\n                if ($_POST['v-redirect']  == 'custom') {\n                    $_POST['v-redirect'] = $_POST['v-redirect-custom'];\n                }\n                exec(HESTIA_CMD.\"v-add-web-domain-redirect \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($_POST['v-redirect']).\" \".escapeshellarg($_POST['v-redirect-code']), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n                $restart_web = 'yes';\n                $restart_proxy = 'yes';\n            }\n        } else {\n            if ($_POST['v-redirect'] == 'custom') {\n                $_POST['v-redirect'] = $_POST['v-redirect-custom'];\n            }\n            if ($_POST['v-redirect'] != $v_redirect || $_POST['v-redirect-code'] != $v_redirect_code) {\n                exec(HESTIA_CMD.\"v-add-web-domain-redirect \".$v_username.\" \".escapeshellarg($v_domain).\" \".escapeshellarg($_POST['v-redirect']).\" \".escapeshellarg($_POST['v-redirect-code']), $output, $return_var);\n                check_return_code($return_var, $output);\n                unset($output);\n                $restart_web = 'yes';\n                $restart_proxy = 'yes';\n            }\n        }\n    }\n    // Restart web server\n    if (!empty($restart_web) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-restart-web\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Restart proxy server\n    if ((!empty($_SESSION['PROXY_SYSTEM'])) && !empty($restart_proxy) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-restart-proxy\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Restart dns server\n    if (!empty($restart_dns) && (empty($_SESSION['error_msg']))) {\n        exec(HESTIA_CMD.\"v-restart-dns\", $output, $return_var);\n        check_return_code($return_var, $output);\n        unset($output);\n    }\n\n    // Set success message\n    if (empty($_SESSION['error_msg'])) {\n        $_SESSION['ok_msg'] = _('Changes has been saved.');\n        header(\"Location: /edit/web/?domain=\" . $v_domain);\n        exit();\n    }\n}\n\n\n$v_ftp_users_raw = explode(':', $v_ftp_user);\n$v_ftp_users_paths_raw = explode(':', $data[$v_domain]['FTP_PATH']);\n$v_ftp_users = array();\nforeach ($v_ftp_users_raw as $v_ftp_user_index => $v_ftp_user_val) {\n    if (empty($v_ftp_user_val)) {\n        continue;\n    }\n    $v_ftp_users[] = array(\n        'is_new'            => 0,\n        'v_ftp_user'        => preg_replace(\"/^\".$user.\"_/\", \"\", $v_ftp_user_val),\n        'v_ftp_password'    => $v_ftp_password,\n        'v_ftp_path'        => (isset($v_ftp_users_paths_raw[$v_ftp_user_index]) ? $v_ftp_users_paths_raw[$v_ftp_user_index] : ''),\n        'v_ftp_email'       => $v_ftp_email,\n        'v_ftp_pre_path'    => $v_ftp_user_prepath\n    );\n}\n\nif (empty($v_ftp_users)) {\n    $v_ftp_user = null;\n    $v_ftp_users[] = array(\n        'is_new'            => 1,\n        'v_ftp_user'        => '',\n        'v_ftp_password'    => '',\n        'v_ftp_path'        => (isset($v_ftp_users_paths_raw[$v_ftp_user_index]) ? $v_ftp_users_paths_raw[$v_ftp_user_index] : ''),\n        'v_ftp_email'       => '',\n        'v_ftp_pre_path'    => $v_ftp_user_prepath\n    );\n}\n\n// set default pre path for newly created users\n$v_ftp_pre_path_new_user = $v_ftp_user_prepath;\nif (isset($v_ftp_users_updated)) {\n    $v_ftp_users = $v_ftp_users_updated;\n    if (empty($v_ftp_users_updated)) {\n        $v_ftp_user = null;\n        $v_ftp_users[] = array(\n            'is_new'            => 1,\n            'v_ftp_user'        => '',\n            'v_ftp_password'    => '',\n            'v_ftp_path'        => (isset($v_ftp_users_paths_raw[$v_ftp_user_index]) ? $v_ftp_users_paths_raw[$v_ftp_user_index] : ''),\n            'v_ftp_email'       => '',\n            'v_ftp_pre_path'    => $v_ftp_user_prepath\n        );\n    }\n}\n\n// Render page\nrender_page($user, $TAB, 'edit_web');\n\n// Flush session messages\nunset($_SESSION['error_msg']);\nunset($_SESSION['ok_msg']);\n", "<?php\n\nsession_start();\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\SMTP;\nuse PHPMailer\\PHPMailer\\Exception;\n\nif(!file_exists(dirname(__FILE__).'/vendor/autoload.php')){\n    trigger_error('Unable able to load required libaries. Please run v-add-sys-phpmailer in command line');\n    echo 'Unable able to load required libaries. Please run v-add-sys-phpmailer in command line';\n    exit(1);\n}\n\nrequire 'vendor/autoload.php';\n\ndefine('HESTIA_CMD', '/usr/bin/sudo /usr/local/hestia/bin/');\nif ($_SESSION['RELEASE_BRANCH'] == 'release' && $_SESSION['DEBUG_MODE'] == 'false') {\n    define('JS_LATEST_UPDATE', 'v=' . $_SESSION['VERSION']);\n} else {\n    define('JS_LATEST_UPDATE', 'r=' . time());\n}\ndefine('DEFAULT_PHP_VERSION', 'php-' . exec('php -r \"echo substr(phpversion(),0,3);\"'));\n\n// Load Hestia Config directly\nload_hestia_config();\nrequire_once(dirname(__FILE__) . '/prevent_csrf.php');\n\nfunction destroy_sessions()\n{\n    unset($_SESSION);\n    session_unset();\n    session_destroy();\n    session_start();\n}\n\n$i = 0;\n\n// Saving user IPs to the session for preventing session hijacking\n$user_combined_ip = $_SERVER['REMOTE_ADDR'];\n\nif (isset($_SERVER['HTTP_CLIENT_IP'])) {\n    $user_combined_ip .= '|' . $_SERVER['HTTP_CLIENT_IP'];\n}\nif (isset($_SERVER['HTTP_X_FORWARDED_FOR'])) {\n    $user_combined_ip .= '|' . $_SERVER['HTTP_X_FORWARDED_FOR'];\n}\nif (isset($_SERVER['HTTP_FORWARDED_FOR'])) {\n    $user_combined_ip .= '|' . $_SERVER['HTTP_FORWARDED_FOR'];\n}\nif (isset($_SERVER['HTTP_X_FORWARDED'])) {\n    $user_combined_ip .= '|' . $_SERVER['HTTP_X_FORWARDED'];\n}\nif (isset($_SERVER['HTTP_FORWARDED'])) {\n    $user_combined_ip .= '|' . $_SERVER['HTTP_FORWARDED'];\n}\nif (isset($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n    if (!empty($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n        $user_combined_ip = $_SERVER['HTTP_CF_CONNECTING_IP'];\n    }\n}\n\nif (!isset($_SESSION['user_combined_ip'])) {\n    $_SESSION['user_combined_ip'] = $user_combined_ip;\n}\n\n// Checking user to use session from the same IP he has been logged in\nif ($_SESSION['user_combined_ip'] != $user_combined_ip && $_SERVER['REMOTE_ADDR'] != '127.0.0.1') {\n    $v_user = escapeshellarg($_SESSION['user']);\n    $v_session_id = escapeshellarg($_SESSION['token']);\n    exec(HESTIA_CMD . 'v-log-user-logout ' . $v_user . ' ' . $v_session_id, $output, $return_var);\n    destroy_sessions();\n    header('Location: /login/');\n    exit;\n}\n\n\n// Check system settings\nif ((!isset($_SESSION['VERSION'])) && (!defined('NO_AUTH_REQUIRED'))) {\n    destroy_sessions();\n    header('Location: /login/');\n    exit;\n}\n\n// Check user session\nif ((!isset($_SESSION['user'])) && (!defined('NO_AUTH_REQUIRED'))) {\n    destroy_sessions();\n    header('Location: /login/');\n    exit;\n}\n\n// Generate CSRF Token\nif (isset($_SESSION['user'])) {\n    if (!isset($_SESSION['token'])) {\n        $token = bin2hex(file_get_contents('/dev/urandom', false, null, 0, 16));\n        $_SESSION['token'] = $token;\n    }\n}\n\nif (!defined('NO_AUTH_REQUIRED')) {\n    if (empty($_SESSION['LAST_ACTIVITY']) || empty($_SESSION['INACTIVE_SESSION_TIMEOUT'])) {\n        destroy_sessions();\n        header('Location: /login/');\n    } elseif ($_SESSION['INACTIVE_SESSION_TIMEOUT'] * 60 + $_SESSION['LAST_ACTIVITY'] < time()) {\n        $v_user = escapeshellarg($_SESSION['user']);\n        $v_session_id = escapeshellarg($_SESSION['token']);\n        exec(HESTIA_CMD . 'v-log-user-logout ' . $v_user . ' ' . $v_session_id, $output, $return_var);\n        destroy_sessions();\n        header('Location: /login/');\n        exit;\n    } else {\n        $_SESSION['LAST_ACTIVITY'] = time();\n    }\n}\n\nif (isset($_SESSION['user'])) {\n    $user = escapeshellarg($_SESSION['user']);\n}\n\nif (isset($_SESSION['look']) && ($_SESSION['userContext'] === 'admin')) {\n    $user = escapeshellarg($_SESSION['look']);\n}\n\nrequire_once(dirname(__FILE__) . '/i18n.php');\n\nfunction check_error($return_var)\n{\n    if ($return_var > 0) {\n        header('Location: /error/');\n        exit;\n    }\n}\n\nfunction check_return_code($return_var, $output)\n{\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = sprintf(_('Error code:'), $return_var);\n        }\n        $_SESSION['error_msg'] = $error;\n    }\n}\nfunction check_return_code_redirect($return_var, $output, $location){\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = sprintf(_('Error code:'), $return_var);\n        }\n        $_SESSION['error_msg'] = $error;\n        header(\"Location:\".$location);\n    }\n\n}\n\nfunction render_page($user, $TAB, $page)\n{\n    $__template_dir = dirname(__DIR__) . '/templates/';\n    $__pages_js_dir = dirname(__DIR__) . '/js/pages/';\n\n    // Header\n    include($__template_dir . 'header.html');\n\n    // Panel\n    top_panel(empty($_SESSION['look']) ? $_SESSION['user'] : $_SESSION['look'], $TAB);\n\n    // Extract global variables\n    // I think those variables should be passed via arguments\n    extract($GLOBALS, EXTR_SKIP);\n\n    // Policies controller\n    @include_once(dirname(__DIR__) . '/inc/policies.php');\n\n    // Body\n    include($__template_dir . 'pages/' . $page . '.html');\n\n    // Including common js files\n    @include_once(dirname(__DIR__) . '/templates/includes/end_js.html');\n    // Including page specific js file\n    if (file_exists($__pages_js_dir . $page . '.js')) {\n        echo '<script src=\"/js/pages/' . $page . '.js?' . JS_LATEST_UPDATE . '\"></script>';\n    }\n\n    // Footer\n    include($__template_dir . 'footer.html');\n}\n\n// Match $_SESSION['token'] against $_GET['token'] or $_POST['token']\n// Usage: verify_csrf($_POST) or verify_csrf($_GET); Use verify_csrf($_POST,true) to return on failure instead of redirect\nfunction verify_csrf($method, $return = false)\n{\n    if ($method['token'] !== $_SESSION['token'] || empty($method['token']) || empty($_SESSION['token'])) {\n        if ($return === true) {\n            return false;\n        } else {\n            header('Location: /login/');\n            die();\n        }\n    } else {\n        return true;\n    }\n}\n\nfunction show_error_panel($data){\n    if (!empty($data['error_msg'])) {\n        $msg_icon = 'fa-exclamation-circle status-icon red';\n        $msg_text = $data['error_msg'];\n        $msg_id = 'vst-error';\n    } else {\n        if (!empty($data['ok_msg'])) {\n        $msg_icon = 'fa-check-circle status-icon green';\n        $msg_text = $data['ok_msg'];\n        $msg_id = 'vst-ok';\n    }\n    }\n    ?>\n        <span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=htmlentities($msg_text);?></span>\n    <?php\n}\n\nfunction top_panel($user, $TAB)\n{\n    global $panel;\n    $command = HESTIA_CMD . 'v-list-user ' . escapeshellarg($user) . \" 'json'\";\n    exec($command, $output, $return_var);\n    if ($return_var > 0) {\n        destroy_sessions();\n        $_SESSION['error_msg'] = _('You have been logged out. Please log in again.');\n        header('Location: /login/');\n        exit;\n    }\n    $panel = json_decode(implode('', $output), true);\n    unset($output);\n\n    // Log out active sessions for suspended users\n    if (($panel[$user]['SUSPENDED'] === 'yes') && ($_SESSION['POLICY_USER_VIEW_SUSPENDED'] !== 'yes')) {\n        if(empty($_SESSION['look'])){\n        destroy_sessions();\n        $_SESSION['error_msg'] = _('You have been logged out. Please log in again.');\n        header('Location: /login/');\n        }\n    }\n\n    // Reset user permissions if changed while logged in\n    if (($panel[$user]['ROLE']) !== ($_SESSION['userContext']) && (!isset($_SESSION['look']))) {\n        unset($_SESSION['userContext']);\n        $_SESSION['userContext'] = $panel[$user]['ROLE'];\n    }\n\n    // Load user's selected theme and do not change it when impersonting user\n    if ((isset($panel[$user]['THEME'])) && (!isset($_SESSION['look']))) {\n        $_SESSION['userTheme'] = $panel[$user]['THEME'];\n    }\n\n    // Unset userTheme override variable if POLICY_USER_CHANGE_THEME is set to no\n    if ($_SESSION['POLICY_USER_CHANGE_THEME'] === 'no') {\n        unset($_SESSION['userTheme']);\n    }\n\n    // Set preferred sort order\n    if (!isset($_SESSION['look'])) {\n        $_SESSION['userSortOrder'] = $panel[$user]['PREF_UI_SORT'];\n    }\n\n    // Set home location URLs\n    if (($_SESSION['userContext'] === 'admin') && (!isset($_SESSION['look']))) {\n        // Display users list for administrators unless they are impersonating a user account\n        $home_url = '/list/user/';\n    } else {\n        // Set home location URL based on available package features from account\n        if ($panel[$user]['WEB_DOMAINS'] != '0') {\n            $home_url = '/list/web/';\n        } elseif ($panel[$user]['DNS_DOMAINS'] != '0') {\n            $home_url = '/list/dns/';\n        } elseif ($panel[$user]['MAIL_DOMAINS'] != '0') {\n            $home_url = '/list/mail/';\n        } elseif ($panel[$user]['DATABASES'] != '0') {\n            $home_url = '/list/db/';\n        } elseif ($panel[$user]['CRON_JOBS'] != '0') {\n            $home_url = '/list/cron/';\n        } elseif ($panel[$user]['BACKUPS'] != '0') {\n            $home_url = '/list/backups/';\n        }\n    }\n\n    include(dirname(__FILE__) . '/../templates/includes/panel.html');\n}\n\nfunction translate_date($date)\n{\n    $date = strtotime($date);\n    return strftime('%d &nbsp;', $date) . _(strftime('%b', $date)) . strftime(' &nbsp;%Y', $date);\n}\n\nfunction humanize_time($usage)\n{\n    if ($usage > 60) {\n        $usage = $usage / 60;\n        if ($usage > 24) {\n            $usage = $usage / 24;\n            $usage = number_format($usage);\n            return sprintf(ngettext('%d day', '%d days', $usage), $usage);\n        } else {\n            return sprintf(ngettext('%d hour', '%d hours', $usage), $usage);\n        }\n    } else {\n        return sprintf(ngettext('%d minute', '%d minutes', $usage), $usage);\n    }\n}\n\nfunction humanize_usage_size($usage)\n{\n    if ($usage > 1024) {\n        $usage = $usage / 1024;\n        if ($usage > 1024) {\n            $usage = $usage / 1024 ;\n            if ($usage > 1024) {\n                $usage = $usage / 1024 ;\n                $usage = number_format($usage, 2);\n            } else {\n                $usage = number_format($usage, 2);\n            }\n        } else {\n            $usage = number_format($usage, 2);\n        }\n    }\n    return $usage;\n}\n\nfunction humanize_usage_measure($usage)\n{\n    $measure = 'kb';\n    if ($usage > 1024) {\n        $usage = $usage / 1024;\n        if ($usage > 1024) {\n            $usage = $usage / 1024 ;\n            $measure = ($usage > 1024) ? 'pb' : 'tb';\n        } else {\n            $measure = 'gb';\n        }\n    } else {\n        $measure = 'mb';\n    }\n    return $measure;\n}\n\nfunction get_percentage($used, $total)\n{\n    if (!isset($total)) {\n        $total = 0;\n    }\n    if (!isset($used)) {\n        $used = 0;\n    }\n    if ($total == 0) {\n        $percent = 0;\n    } else {\n        $percent = $used / $total;\n        $percent = $percent * 100;\n        $percent = number_format($percent, 0, '', '');\n        if ($percent < 0) {\n            $percent = 0;\n        } elseif ($percent > 100) {\n            $percent = 100;\n        }\n    }\n    return $percent;\n}\n\nfunction send_email($to, $subject, $mailtext, $from, $from_name, $to_name = '')\n{\n    $mail = new PHPMailer();\n\n    if (isset($_SESSION['USE_SERVER_SMTP']) && $_SESSION['USE_SERVER_SMTP'] == \"true\") {\n        $from = $_SESSION['SERVER_SMTP_ADDR'];\n\n        $mail->IsSMTP();\n        $mail->Mailer = \"smtp\";\n        $mail->SMTPDebug  = 0;\n        $mail->SMTPAuth   = true;\n        $mail->SMTPSecure = $_SESSION['SERVER_SMTP_SECURITY'];\n        $mail->Port       = $_SESSION['SERVER_SMTP_PORT'];\n        $mail->Host       = $_SESSION['SERVER_SMTP_HOST'];\n        $mail->Username   = $_SESSION['SERVER_SMTP_USER'];\n        $mail->Password   = $_SESSION['SERVER_SMTP_PASSWD'];\n    }\n\n    $mail->IsHTML(true);\n    $mail->ClearReplyTos();\n    if (empty($to_name)) {\n        $mail->AddAddress($to);\n    } else {\n        $mail->AddAddress($to, $to_name);\n    }\n    $mail->SetFrom($from, $from_name);\n\n    $mail->CharSet = \"utf-8\";\n    $mail->Subject = $subject;\n    $content = $mailtext;\n    $content = nl2br($content);\n    $mail->MsgHTML($content);\n    $mail->Send();\n}\n\nfunction list_timezones()\n{\n    foreach (['AKST', 'AKDT', 'PST', 'PDT', 'MST', 'MDT', 'CST', 'CDT', 'EST', 'EDT', 'AST', 'ADT'] as $timezone) {\n        $tz = new DateTimeZone($timezone);\n        $timezone_offsets[$timezone] = $tz->getOffset(new DateTime());\n    }\n\n    foreach (DateTimeZone::listIdentifiers() as $timezone) {\n        $tz = new DateTimeZone($timezone);\n        $timezone_offsets[$timezone] = $tz->getOffset(new DateTime());\n    }\n\n    foreach ($timezone_offsets as $timezone => $offset) {\n        $offset_prefix = $offset < 0 ? '-' : '+';\n        $offset_formatted = gmdate('H:i', abs($offset));\n        $pretty_offset = \"UTC${offset_prefix}${offset_formatted}\";\n        $t = new DateTimeZone($timezone);\n        $c = new DateTime(null, $t);\n        $current_time = $c->format('H:i:s');\n        $timezone_list[$timezone] = \"$timezone [ $current_time ] ${pretty_offset}\";\n    }\n    return $timezone_list;\n}\n\n/**\n * A function that tells is it MySQL installed on the system, or it is MariaDB.\n *\n * Explaination:\n * $_SESSION['DB_SYSTEM'] has 'mysql' value even if MariaDB is installed, so you can't figure out is it really MySQL or it's MariaDB.\n * So, this function will make it clear.\n *\n * If MySQL is installed, function will return 'mysql' as a string.\n * If MariaDB is installed, function will return 'mariadb' as a string.\n *\n * Hint: if you want to check if PostgreSQL is installed - check value of $_SESSION['DB_SYSTEM']\n *\n * @return string\n */\nfunction is_it_mysql_or_mariadb()\n{\n    exec(HESTIA_CMD . 'v-list-sys-services json', $output, $return_var);\n    $data = json_decode(implode('', $output), true);\n    unset($output);\n    $mysqltype = 'mysql';\n    if (isset($data['mariadb'])) {\n        $mysqltype = 'mariadb';\n    }\n    return $mysqltype;\n}\n\nfunction load_hestia_config()\n{\n    // Check system configuration\n    exec(HESTIA_CMD . \"v-list-sys-config json\", $output, $return_var);\n    $data = json_decode(implode('', $output), true);\n    $sys_arr = $data['config'];\n    foreach ($sys_arr as $key => $value) {\n        $_SESSION[$key] = $value;\n    }\n}\n\n/**\n * Returns the list of all web domains from all users grouped by Backend Template used and owner\n *\n * @return array\n */\nfunction backendtpl_with_webdomains()\n{\n    exec(HESTIA_CMD . 'v-list-users json', $output, $return_var);\n    $users = json_decode(implode('', $output), true);\n    unset($output);\n\n    $backend_list=[];\n    foreach ($users as $user => $user_details) {\n        exec(HESTIA_CMD . 'v-list-web-domains '. escapeshellarg($user) . ' json', $output, $return_var);\n        $domains = json_decode(implode('', $output), true);\n        unset($output);\n        foreach ($domains as $domain => $domain_details) {\n            if (!empty($domain_details['BACKEND'])) {\n                $backend = $domain_details['BACKEND'];\n                $backend_list[$backend][$user][] = $domain;\n            }\n        }\n    }\n    return $backend_list;\n}\n/**\n * Check if password is valid\n *\n * @return int; 1 / 0\n */\nfunction validate_password($password)\n{\n    return preg_match('/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(.){8,}$/', $password);\n}\n", "<?php\ndefine('NO_AUTH_REQUIRED', true);\n// Main include\n\ninclude($_SERVER['DOCUMENT_ROOT'] . '/inc/main.php');\n\n$TAB = 'login';\n\n\nif (isset($_GET['logout'])) {\n    unset($_SESSION);\n    session_unset();\n    session_destroy();\n    header('Location: /login/');\n}\n\n/* ACTIONS FOR CURRENT USER SESSION */\nif (isset($_SESSION['user'])) {\n\n    // User impersonation\n    // Allow administrators to view and manipulate contents of other user accounts\n    if (($_SESSION['userContext'] === 'admin') && (!empty($_GET['loginas']))) {\n        // Ensure token is passed and matches before granting user impersonation access\n        if (verify_csrf($_GET)) {\n            $v_user = escapeshellarg($_GET['loginas']);\n            $v_impersonator = escapeshellarg($_SESSION['user']);\n            exec(HESTIA_CMD . \"v-list-user \".$v_user.\" json\", $output, $return_var);\n            if ($return_var == 0) {\n                $data = json_decode(implode('', $output), true);\n                reset($data);\n                $_SESSION['look'] = key($data);\n                // Log impersonation events\n                exec(HESTIA_CMD . 'v-log-action ' . $v_impersonator . \" 'Info' 'Security' 'Logged in as another user (User: $v_user)'\", $output, $return_var);\n                exec(HESTIA_CMD . \"v-log-action system 'Warning' 'Security' 'User impersonation session started (User: $v_user, Administrator: $v_impersonator)'\", $output, $return_var);\n                // Reset account details for File Manager to impersonated user\n                unset($_SESSION['_sf2_attributes']);\n                unset($_SESSION['_sf2_meta']);\n                header('Location: /login/');\n            }else{\n                # User doesn't exists\n                header('Location: /');\n            }\n        }\n        exit;\n    }\n\n    // Set view based on account properties\n    if (empty($_GET['loginas'])) {\n        // Default view to Users list for administrator accounts\n        if (($_SESSION['userContext'] === 'admin') && (!isset($_SESSION['look']))) {\n            header('Location: /list/user/');\n            exit;\n        }\n\n        // Obtain account properties\n        $v_user = escapeshellarg($_SESSION[(($_SESSION['userContext'] === 'admin') && (isset($_SESSION['look']))) ? 'look' : 'user']);\n\n        exec(HESTIA_CMD . 'v-list-user ' . $v_user . ' json', $output, $return_var);\n        $data = json_decode(implode('', $output), true);\n        unset($output);\n\n        // Determine package features and land user at the first available page\n        if ($data[$user]['WEB_DOMAINS'] !== '0') {\n            header('Location: /list/web/');\n        } elseif ($data[$user]['DNS_DOMAINS'] !== '0') {\n            header('Location: /list/dns/');\n        } elseif ($data[$user]['MAIL_DOMAINS'] !== '0') {\n            header('Location: /list/mail/');\n        } elseif ($data[$user]['DATABASES'] !== '0') {\n            header('Location: /list/db/');\n        } elseif ($data[$user]['CRON_JOBS'] !== '0') {\n            header('Location: /list/cron/');\n        } elseif ($data[$user]['BACKUPS'] !== '0') {\n            header('Location: /list/backup/');\n        } else {\n            header('Location: /error/');\n        }\n        exit;\n    }\n\n    // Do not allow non-administrators to access account impersonation\n    if (($_SESSION['userContext'] !== 'admin') && (!empty($_GET['loginas']))) {\n        header('Location: /login/');\n        exit;\n    }\n\n    exit;\n}\n\nfunction authenticate_user($user, $password, $twofa = '')\n{\n    unset($_SESSION['login']);\n    if (verify_csrf($_POST, true)) {\n        $v_user = escapeshellarg($user);\n        $ip = $_SERVER['REMOTE_ADDR'];\n        $user_agent = $_SERVER['HTTP_USER_AGENT'];\n        if (isset($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n            if (!empty($_SERVER['HTTP_CF_CONNECTING_IP'])) {\n                $ip = $_SERVER['HTTP_CF_CONNECTING_IP'];\n            }\n        }\n        $v_ip = escapeshellarg($ip);\n        $v_user_agent = escapeshellarg($user_agent);\n\n        // Get user's salt\n        $output = '';\n        exec(HESTIA_CMD . 'v-get-user-salt ' . $v_user . ' ' . $v_ip . ' json', $output, $return_var);\n        $pam = json_decode(implode('', $output), true);\n        if ($return_var > 0) {\n            sleep(2);\n            if($return_var == 5){\n                $error = '<a class=\"error\">' . _('Account has been suspended') . '</a>';   \n            }elseif($return_var == 1){\n                $error = '<a class=\"error\">' . _('Unsuported hash method') . '</a>';     \n            }else{\n                $error = '<a class=\"error\">' . _('Invalid username or password') . '</a>';    \n            }\n            return $error;\n        } else {\n            $salt = $pam[$user]['SALT'];\n            $method = $pam[$user]['METHOD'];\n\n            if ($method == 'md5') {\n                $hash = crypt($password, '$1$' . $salt . '$');\n            }\n            if ($method == 'sha-512') {\n                $hash = crypt($password, '$6$rounds=5000$' . $salt . '$');\n                $hash = str_replace('$rounds=5000', '', $hash);\n            }\n            if ($method == 'des') {\n                $hash = crypt($password, $salt);\n            }\n\n            // Send hash via tmp file\n            $v_hash = exec('mktemp -p /tmp');\n            $fp = fopen($v_hash, 'w');\n            fwrite($fp, $hash.\"\\n\");\n            fclose($fp);\n\n            // Check user hash\n            exec(HESTIA_CMD . 'v-check-user-hash ' . $v_user . ' ' . $v_hash . ' ' . $v_ip, $output, $return_var);\n            unset($output);\n\n            // Remove tmp file\n            unlink($v_hash);\n            // Check API answer\n            if ($return_var > 0) {\n                sleep(2);\n                $error = '<a class=\"error\">' . _('Invalid username or password') . '</a>';\n                $v_session_id = escapeshellarg($_POST['token']);\n                exec(HESTIA_CMD . 'v-log-user-login ' . $v_user . ' ' . $v_ip . ' failed ' . $v_session_id . ' ' . $v_user_agent, $output, $return_var);\n                return $error;\n            } else {\n\n                // Get user specific parameters\n                exec(HESTIA_CMD . 'v-list-user ' . $v_user . ' json', $output, $return_var);\n                $data = json_decode(implode('', $output), true);\n                unset($output);\n                if ($data[$user]['LOGIN_DISABLED'] === 'yes') {\n                    sleep(2);\n                    $error = '<a class=\"error\">' . _('Invalid username or password') . '</a>';\n                    $v_session_id = escapeshellarg($_POST['token']);\n                    exec(HESTIA_CMD . 'v-log-user-login ' . $v_user . ' ' . $v_ip . ' failed ' . $v_session_id . ' ' . $v_user_agent .' yes \"Login disabled for this user\"', $output, $return_var);\n                    return $error;\n                }\n\n                if ($data[$user]['LOGIN_USE_IPLIST'] === 'yes') {\n                    $v_login_user_allowed_ips = explode(',', $data[$user]['LOGIN_ALLOW_IPS']);\n                    $v_login_user_allowed_ips = array_map('trim', $v_login_user_allowed_ips);\n                    if (!in_array($ip, $v_login_user_allowed_ips, true)) {\n                        sleep(2);\n                        $error = '<a class=\"error\">' . _('Invalid username or password') . '</a>';\n                        $v_session_id = escapeshellarg($_POST['token']);\n                        exec(HESTIA_CMD . 'v-log-user-login ' . $v_user . ' ' . $v_ip . ' failed ' . $v_session_id . ' ' . $v_user_agent .' yes \"Ip not in allowed list\"', $output, $return_var);\n                        return $error;\n                    }\n                }\n\n                if ($data[$user]['TWOFA'] != '') {\n                    exec(HESTIA_CMD . \"v-check-user-2fa \" . $v_user . \" \" . $v_twofa, $output, $return_var);\n                    $error = \"<a class=\\\"error\\\">\" . _('Invalid or missing 2FA token') . \"</a>\";\n                    if (empty($twofa)) {\n                        $_SESSION['login']['username'] = $user;\n                        $_SESSION['login']['password'] = $password;\n                        return false;\n                    } else {\n                        $v_twofa = escapeshellarg($twofa);\n                        exec(HESTIA_CMD .'v-check-user-2fa '.$v_user.' '.$v_twofa, $output, $return_var);\n                        unset($output);\n                        if ($return_var > 0) {\n                            sleep(2);\n                            $error = '<a class=\"error\">' ._('Invalid or missing 2FA token') . '</a>';\n                            $_SESSION['login']['username'] = $user;\n                            $_SESSION['login']['password'] = $password;\n                            $v_session_id = escapeshellarg($_POST['token']);\n                            if (isset($_SESSION['failed_twofa'])) {\n                                //allow a few failed attemps before start of logging.\n                                if ($_SESSION['failed_twofa']  > 2) {\n                                    exec(HESTIA_CMD.'v-log-user-login ' . $v_user . ' ' . $v_ip . ' failed ' . $v_session_id . ' ' . $v_user_agent .' yes \"Invalid or missing 2FA token\"', $output, $return_var);\n                                }\n                                $_SESSION['failed_twofa']++;\n                            } else {\n                                $_SESSION['failed_twofa'] = 1;\n                            }\n                            unset($_POST['twofa']);\n                            return $error;\n                        }\n                    }\n                }\n\n                // Define session user\n                $_SESSION['user'] = key($data);\n                $v_user = $_SESSION['user'];\n                //log successfull login attempt\n                $v_session_id = escapeshellarg($_POST['token']);\n                exec(HESTIA_CMD.\"v-log-user-login \".$v_user.\" \".$v_ip.\" success \".$v_session_id.\" \".$v_user_agent, $output, $return_var);\n\n                $_SESSION['LAST_ACTIVITY'] = time();\n                $_SESSION['MURMUR'] = $_POST['murmur'];\n\n                // Define user role / context\n                $_SESSION['userContext'] = $data[$user]['ROLE'];\n\n                // Set active user theme on login\n                $_SESSION['userTheme'] = $data[$user]['THEME'];\n                if ($_SESSION['POLICY_USER_CHANGE_THEME'] !== 'yes') {\n                    unset($_SESSION['userTheme']);\n                }\n\n                $_SESSION['userSortOrder'] = (!empty($data[$user]['PREF_UI_SORT'])) ? $data[$user]['PREF_UI_SORT'] : 'name';\n\n                // Define language\n                $output = '';\n                exec(HESTIA_CMD . 'v-list-sys-languages json', $output, $return_var);\n                $languages = json_decode(implode('', $output), true);\n                $_SESSION['language'] = (in_array($data[$v_user]['LANGUAGE'], $languages)) ? $data[$user]['LANGUAGE'] : 'en';\n\n                // Regenerate session id to prevent session fixation\n                session_regenerate_id(true);\n\n                // Redirect request to control panel interface\n                if (!empty($_SESSION['request_uri'])) {\n                    header('Location: ' . $_SESSION['request_uri']);\n                    unset($_SESSION['request_uri']);\n                    exit;\n                } else {\n                    if ($_SESSION['userContext'] === 'admin') {\n                        header('Location: /list/user/');\n                    } else {\n                        if ($data[$user]['WEB_DOMAINS'] != '0') {\n                            header('Location: /list/web/');\n                        } elseif ($data[$user]['DNS_DOMAINS'] != '0') {\n                            header('Location: /list/dns/');\n                        } elseif ($data[$user]['MAIL_DOMAINS'] != '0') {\n                            header('Location: /list/mail/');\n                        } elseif ($data[$user]['DATABASES'] != '0') {\n                            header('Location: /list/db/');\n                        } elseif ($data[$user]['CRON_JOBS'] != '0') {\n                            header('Location: /list/cron/');\n                        } elseif ($data[$user]['BACKUPS'] != '0') {\n                            header('Location: /list/backup/');\n                        } else {\n                            header('Location: /error/');\n                        }\n                    }\n                    exit;\n                }\n            }\n        }\n    } else {\n        unset($_POST);\n        unset($_GET);\n        unset($_SESSION);\n        // Delete old session and  start a new one\n        session_write_close();\n        session_unset();\n        session_destroy();\n        session_start();\n        return false;\n    }\n}\nif (preg_match('/^[[:alnum:]][-|\\.|_[:alnum:]]{0,28}[[:alnum:]]$/', $_POST['user'])) {\n    $_SESSION['login']['username'] = $_POST['user'];\n} else {\n    $user = '';\n}\nif (!empty($_SESSION['login']['username']) && !empty($_SESSION['login']['password']) && !empty($_POST['twofa'])) {\n    $error = authenticate_user($_SESSION['login']['username'], $_SESSION['login']['password'], $_POST['twofa']);\n    unset($_POST);\n} elseif (!empty($_SESSION['login']['username']) && !empty($_POST['password'])) {\n    $error = authenticate_user($_SESSION['login']['username'], $_POST['password']);\n    unset($_POST);\n}\n// Check system configuration\nload_hestia_config();\n\n// Detect language\nif (empty($_SESSION['language'])) {\n    $output = '';\n    exec(HESTIA_CMD . 'v-list-sys-config json', $output, $return_var);\n    $config = json_decode(implode('', $output), true);\n    $lang = $config['config']['LANGUAGE'];\n\n    $output = '';\n    exec(HESTIA_CMD . 'v-list-sys-languages json', $output, $return_var);\n    $languages = json_decode(implode('', $output), true);\n    $_SESSION['language'] = (in_array($lang, $languages)) ? $lang : 'en';\n}\n\n// Generate CSRF token\n$token = bin2hex(file_get_contents('/dev/urandom', false, null, 0, 16));\n$_SESSION['token'] = $token;\n\nrequire_once('../templates/header.html');\nif (!empty($_SESSION['login']['password'])) {\n    require_once('../templates/pages/login/login_2.html');\n} elseif (empty($_SESSION['login']['username'])) {\n    require_once('../templates/pages/login/login' . (($_SESSION['LOGIN_STYLE'] != 'old') ? '' : '_a') . '.html');\n} elseif (empty($_POST['password'])) {\n    require_once('../templates/pages/login/login_1.html');\n} else {\n    require_once('../templates/pages/login/login' . (($_SESSION['LOGIN_STYLE'] != 'old') ? '' : '_a') . '.html');\n}\n", "<?php\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['job'])) {\n    $v_job = escapeshellarg($_GET['job']);\n    exec(HESTIA_CMD.\"v-suspend-cron-job \".$user.\" \".$v_job, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/cron/\");\nexit;\n", "<?php\n\n// Init\nerror_reporting(null);\nob_start();\nsession_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['database'])) {\n    $v_database = escapeshellarg($_GET['database']);\n    exec(HESTIA_CMD.\"v-suspend-database \".$user.\" \".$v_database, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/db/\");\nexit;\n", "<?php\n\n// Init\nerror_reporting(null);\nob_start();\nsession_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// DNS domain\nif ((!empty($_GET['domain'])) && (empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-suspend-dns-domain \".$user.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/\");\n    exit;\n}\n\n// DNS record\nif ((!empty($_GET['domain'])) && (!empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_record_id = escapeshellarg($_GET['record_id']);\n    exec(HESTIA_CMD.\"v-suspend-dns-record \".$user.\" \".$v_domain.\" \".$v_record_id, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/?domain=\".$_GET['domain']);\n    exit;\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/dns/\");\nexit;\n", "<?php\n\n// Init\nerror_reporting(null);\nob_start();\nsession_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Mail domain\nif ((!empty($_GET['domain'])) && (empty($_GET['account']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-suspend-mail-domain \".$user.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back=getenv(\"HTTP_REFERER\");\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/\");\n    exit;\n}\n\n// Mail account\nif ((!empty($_GET['domain'])) && (!empty($_GET['account']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_account = escapeshellarg($_GET['account']);\n    exec(HESTIA_CMD.\"v-suspend-mail-account \".$user.\" \".$v_domain.\" \".$v_account, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n    $back = $_SESSION['back'];\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/?domain=\".$_GET['domain']);\n    exit;\n}\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/mail/\");\nexit;\n", "<?php\n\nerror_reporting(null);\nob_start();\nsession_start();\n$TAB = 'USER';\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Check user\nif ($_SESSION['userContext'] != 'admin') {\n    header(\"Location: /list/user\");\n    exit;\n}\n\nif (!empty($_GET['user'])) {\n    exec(HESTIA_CMD.\"v-suspend-user \".$user, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/user/\");\nexit;\n", "<?php\n\n// Init\nerror_reporting(null);\nob_start();\nsession_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['domain'])) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-suspend-web-domain \".$user.\" \".$v_domain, $output, $return_var);\n}\ncheck_return_code($return_var, $output);\nunset($output);\n\n$back = $_SESSION['back'];\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/web/\");\nexit;\n", "<meta charset=\"utf-8\">\n<title><?=htmlentities($_SERVER['HTTP_HOST']); ?> - <?=_($TAB)?> - <?=_('Hestia Control Panel');?></title>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/cron/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<div class=\"vst-text step-top helper-container\">\n\t\t<div id=\"tabs\" class=\"cron-helper-tabs\">\n\t\t\t<ul>\n\t\t\t\t<li><a href=\"#tabs-1\"><?=_('Minutes');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-2\"><?=_('Hourly');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-3\"><?=_('Daily');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-4\"><?=_('Weekly');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-5\"><?=_('Monthly');?></a></li>\n\t\t\t</ul>\n\t\t\t<div id=\"tabs-1\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_hour\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every minute');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every two minutes');?></option>\n\t\t\t\t\t\t\t<option value=\"*/5\"><?=_('every');?> 5</option>\n\t\t\t\t\t\t\t<option value=\"*/10\"><?=_('every');?> 10</option>\n\t\t\t\t\t\t\t<option value=\"*/15\"><?=_('every');?> 15</option>\n\t\t\t\t\t\t\t<option value=\"*/30\"><?=_('every');?> 30</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-2\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every hour');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every two hours');?></option>\n\t\t\t\t\t\t\t<option value=\"*/6\"><?=_('every');?> 6</option>\n\t\t\t\t\t\t\t<option value=\"*/12\"><?=_('every');?> 12</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-3\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_day\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every day');?></option>\n\t\t\t\t\t\t\t<option value=\"1-31/2\"><?=_('every odd day');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every even day');?></option>\n\t\t\t\t\t\t\t<option value=\"*/3\"><?=_('every');?> 3</option>\n\t\t\t\t\t\t\t<option value=\"*/5\"><?=_('every');?> 5</option>\n\t\t\t\t\t\t\t<option value=\"*/10\"><?=_('every');?> 10</option>\n\t\t\t\t\t\t\t<option value=\"*/15\"><?=_('every');?> 15</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list  short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-4\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_wday\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every day');?></option>\n\t\t\t\t\t\t\t<option value=\"1,2,3,4,5\"><?=_('weekdays (5 days)');?></option>\n\t\t\t\t\t\t\t<option value=\"0,6\"><?=_('weekend (2 days)');?></option>\n\t\t\t\t\t\t\t<option value=\"1\"><?=_('Monday');?></option>\n\t\t\t\t\t\t\t<option value=\"2\"><?=_('Tuesday');?></option>\n\t\t\t\t\t\t\t<option value=\"3\"><?=_('Wednesday');?></option>\n\t\t\t\t\t\t\t<option value=\"4\"><?=_('Thursday');?></option>\n\t\t\t\t\t\t\t<option value=\"5\"><?=_('Friday');?></option>\n\t\t\t\t\t\t\t<option value=\"6\"><?=_('Saturday');?></option>\n\t\t\t\t\t\t\t<option value=\"0\"><?=_('Sunday');?></option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-5\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_month\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every month');?></option>\n\t\t\t\t\t\t\t<option value=\"1-11/2\"><?=_('every odd month');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every even month');?></option>\n\t\t\t\t\t\t\t<option value=\"*/3\"><?=_('every');?> 3</option>\n\t\t\t\t\t\t\t<option value=\"*/6\"><?=_('every');?> 6</option>\n\t\t\t\t\t\t\t<option value=\"1\"><?=_('Jan');?></option>\n\t\t\t\t\t\t\t<option value=\"2\"><?=_('Feb');?></option>\n\t\t\t\t\t\t\t<option value=\"3\"><?=_('Mar');?></option>\n\t\t\t\t\t\t\t<option value=\"4\"><?=_('Apr');?></option>\n\t\t\t\t\t\t\t<option value=\"5\"><?=_('May');?></option>\n\t\t\t\t\t\t\t<option value=\"6\"><?=_('Jun');?></option>\n\t\t\t\t\t\t\t<option value=\"7\"><?=_('Jul');?></option>\n\t\t\t\t\t\t\t<option value=\"8\"><?=_('Aug');?></option>\n\t\t\t\t\t\t\t<option value=\"9\"><?=_('Sep');?></option>\n\t\t\t\t\t\t\t<option value=\"10\"><?=_('Oct');?></option>\n\t\t\t\t\t\t\t<option value=\"11\"><?=_('Nov');?></option>\n\t\t\t\t\t\t\t<option value=\"12\"><?=_('Dec');?></option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Date');?>:</span>\n\t\t\t\t\t\t<select name=\"h_day\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"1\" selected=\"selected\">1</option>\n\t\t\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t\t\t<option value=\"3\">3</option>\n\t\t\t\t\t\t\t<option value=\"4\">4</option>\n\t\t\t\t\t\t\t<option value=\"5\">5</option>\n\t\t\t\t\t\t\t<option value=\"6\">6</option>\n\t\t\t\t\t\t\t<option value=\"7\">7</option>\n\t\t\t\t\t\t\t<option value=\"8\">8</option>\n\t\t\t\t\t\t\t<option value=\"9\">9</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t\t<option value=\"24\">24</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"26\">26</option>\n\t\t\t\t\t\t\t<option value=\"27\">27</option>\n\t\t\t\t\t\t\t<option value=\"28\">28</option>\n\t\t\t\t\t\t\t<option value=\"29\">29</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"31\">31</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<form id=\"vstobjects\" name=\"v_add_cron\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Cron Job');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Command');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"30\" class=\"vst-input long\" name=\"v_cmd\" value=\"<?=htmlentities(trim($v_cmd, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Minute');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_min\" value=\"<?=htmlentities(trim($v_min, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Hour');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_hour\" value=\"<?=htmlentities(trim($v_hour, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Day');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_day\" value=\"<?=htmlentities(trim($v_day, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Month');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_month\" value=\"<?=htmlentities(trim($v_month, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Day of week');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_wday\" value=\"<?=htmlentities(trim($v_wday, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/db/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_db\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding database');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] !== \"true\")))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span class=\"alert alert-danger alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t\t<?=_('Avoid adding web domains on admin account');?>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (empty($_GET['accept']))) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/user/\" class=\"vst-advanced admin-warning-button\"><?=_('Add User');?></a></span>\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/db/?accept=true\" class=\"vst-advanced button danger admin-warning-button\"><?=_('Continue');?></a> </span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] === \"true\")) || ($user !== \"admin\"))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"hint\">\n\t\t\t\t\t\t\t\t\t<?=sprintf(_('Prefix %s will be automatically added to database name and database user'),'<b>'.$user.'_</b>'); ?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Database');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_database\" value=\"<?=htmlentities(trim($v_database, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Type');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_type\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($db_types as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_type)) && ( $value == $v_type )) echo ' selected';\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tprint _('Username');\n\t\t\t\t\t\t\t\t\t\techo \"&nbsp;&nbsp;&nbsp;&nbsp;<em><small>(\".sprintf(_('maximum characters length, including prefix'), 32).\")</small></em>\";\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dbuser\" value=\"<?=htmlentities(trim($v_dbuser, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\"><br />\n\t\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Send login credentials to email address') ?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input\" name=\"v_db_email\" value=\"<?=htmlentities(trim($v_db_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top vst-text\" style=\"/*padding: 32px 0 20px 0;*/\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advanced-opts');\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<table id=\"advanced-opts\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_host\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($db_hosts as $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_host)) && ( $value == $v_host )) echo ' selected';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Charset');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_charset\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=big5 <?php if ((!empty($v_charset)) && ( $v_charset == 'big5')) echo 'selected';?>>big5</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=dec8 <?php if ((!empty($v_charset)) && ( $v_charset == 'dec8')) echo 'selected';?>>dec8</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp850 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp850')) echo 'selected';?>>cp850</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=hp8 <?php if ((!empty($v_charset)) && ( $v_charset == 'hp8')) echo 'selected';?>>hp8</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=koi8r <?php if ((!empty($v_charset)) && ( $v_charset == 'koi8r')) echo 'selected';?>>koi8r</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=latin1 <?php if ((!empty($v_charset)) && ( $v_charset == 'latin1')) echo 'selected';?>>latin1</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=latin2 <?php if ((!empty($v_charset)) && ( $v_charset == 'latin2')) echo 'selected';?>>latin2</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=swe7 <?php if ((!empty($v_charset)) && ( $v_charset == 'swe7')) echo 'selected';?>>swe7</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=ascii <?php if ((!empty($v_charset)) && ( $v_charset == 'ascii')) echo 'selected';?>>ascii</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=ujis <?php if ((!empty($v_charset)) && ( $v_charset == 'ujis')) echo 'selected';?>>ujis</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=sjis <?php if ((!empty($v_charset)) && ( $v_charset == 'sjis')) echo 'selected';?>>sjis</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=hebrew <?php if ((!empty($v_charset)) && ( $v_charset == 'hebrew')) echo 'selected';?>>hebrew</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=tis620 <?php if ((!empty($v_charset)) && ( $v_charset == 'tis620')) echo 'selected';?>>tis620</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=euckr <?php if ((!empty($v_charset)) && ( $v_charset == 'euckr')) echo 'selected';?>>euckr</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=koi8u <?php if ((!empty($v_charset)) && ( $v_charset == 'koi8u')) echo 'selected';?>>koi8u</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=gb2312 <?php if ((!empty($v_charset)) && ( $v_charset == 'gb2312')) echo 'selected';?>>gb2312</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=greek <?php if ((!empty($v_charset)) && ( $v_charset == 'greek')) echo 'selected';?>>greek</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp1250 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp1250')) echo 'selected';?>>cp1250</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=gbk <?php if ((!empty($v_charset)) && ( $v_charset == 'gbk')) echo 'selected';?>>gbk</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=latin5 <?php if ((!empty($v_charset)) && ( $v_charset == 'latin5')) echo 'selected';?>>latin5</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=armscii8 <?php if ((!empty($v_charset)) && ( $v_charset == 'armscii8')) echo 'selected';?>>armscii8</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=utf8 <?php if ((!empty($v_charset)) && ( $v_charset == 'utf8')) echo 'selected';?> <?php if (empty($v_charset)) echo 'selected';?>>utf8</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=utf8mb4 <?php if ((!empty($v_charset)) && ( $v_charset == 'utf8mb4')) echo 'selected';?>>utf8mb4</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=ucs2 <?php if ((!empty($v_charset)) && ( $v_charset == 'ucs2')) echo 'selected';?>>ucs2</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp866 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp866')) echo 'selected';?>>cp866</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=keybcs2 <?php if ((!empty($v_charset)) && ( $v_charset == 'keybcs2')) echo 'selected';?>>keybcs2</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=macce <?php if ((!empty($v_charset)) && ( $v_charset == 'macce')) echo 'selected';?>>macce</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=macroman <?php if ((!empty($v_charset)) && ( $v_charset == 'macroman')) echo 'selected';?>>macroman</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp852 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp852')) echo 'selected';?>>cp852</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=latin7 <?php if ((!empty($v_charset)) && ( $v_charset == 'latin7')) echo 'selected';?>>latin7</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp1251 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp1251')) echo 'selected';?>>cp1251</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp1256 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp1256')) echo 'selected';?>>cp1256</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp1257 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp1257')) echo 'selected';?>>cp1257</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=binary <?php if ((!empty($v_charset)) && ( $v_charset == 'binary')) echo 'selected';?>>binary</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=geostd8 <?php if ((!empty($v_charset)) && ( $v_charset == 'geostd8')) echo 'selected';?>>geostd8</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=cp932 <?php if ((!empty($v_charset)) && ( $v_charset == 'cp932')) echo 'selected';?>>cp932</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=eucjpms <?php if ((!empty($v_charset)) && ( $v_charset == 'eucjpms')) echo 'selected';?>>eucjpms</option>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t<?php } ?>\n\t\t</table>\n\t</form>\n</div>\n\n<script>\nGLOBAL.DB_USER_PREFIX = \"<?php echo htmlentities($user.'_');?>\";\nGLOBAL.DB_DBNAME_PREFIX = \"<?php echo htmlentities($user.'_')?>\";\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/dns/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_dns\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding DNS Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] !== \"true\")))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span class=\"alert alert-danger alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t\t<?=_('Avoid adding web domains on admin account');?>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (empty($_GET['accept']))) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/user/\" class=\"vst-advanced admin-warning-button\"><?=_('Add User');?></a></span>\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/dns/?accept=true\" class=\"vst-advanced button danger admin-warning-button\"><?=_('Continue');?></a> </span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] === \"true\")) || ($user !== \"admin\"))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('IP address');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">clear</option>\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($v_ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t$display_ip = empty($value['NAT']) ? $ip : \"{$value['NAT']}\";\n\t\t\t\t\t\t\t\t\t\t\t\techo \"<option value='{$display_ip}'>\" . htmlentities($display_ip) . \"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === 'admin') || ($_SESSION['userContext'] === 'user') && ($_SESSION['POLICY_USER_EDIT_DNS_TEMPLATES'] === 'yes')) { ?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t<?=_('Template') . \"<span class='optional'>\" . strtoupper($_SESSION['DNS_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_template\">\n\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\tforeach ($templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_template)) && ( $value == $v_template ) || ($svalue == $v_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advtable');\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"advtable\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Expiration Date');?> <span class=\"optional\">(<?=_('YYYY-MM-DD');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_exp\" value=\"<?=htmlentities(trim($v_exp, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('TTL');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ttl\" value=\"<?=htmlentities(trim($v_ttl, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Name servers');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns1\" value=\"<?=htmlentities(trim($v_ns1, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\"><?=_('delete');?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns2\" value=\"<?=htmlentities(trim($v_ns2, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\"><?=_('delete');?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns3) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns3\" value=\"'.htmlentities(trim($v_ns3, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns4) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns4\" value=\"'.htmlentities(trim($v_ns4, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns5) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns5\" value=\"'.htmlentities(trim($v_ns5, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns6) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns6\" value=\"'.htmlentities(trim($v_ns6, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns7) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns7\" value=\"'.htmlentities(trim($v_ns7, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns8) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns8\" value=\"'.htmlentities(trim($v_ns8, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"add-ns\" <?php if ($v_ns8) echo 'style=\"display:none;\"' ; ?> >\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-top-small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"add-ns-button additional-control add\"><?=_('Add one more Name Server');?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t<?php } ?>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/dns/?domain=<?=htmlentities(trim($v_domain, \"'\"))?>&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_dns_rec\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok_rec\" value=\"add\" />\n\t\t\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding DNS Record');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Record');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_rec\" value=\"<?=htmlentities(trim($v_rec, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Type');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_type\">\n\t\t\t\t\t\t\t\t\t<option value=\"A\" <?php if ($v_type == 'A') echo selected; ?>>A</option>\n\t\t\t\t\t\t\t\t\t<option value=\"AAAA\" <?php if ($v_type == 'AAAA') echo selected; ?>>AAAA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"CAA\" <?php if ($v_type == 'CAA') echo selected; ?>>CAA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"CNAME\" <?php if ($v_type == 'CNAME') echo selected; ?>>CNAME</option>\n\t\t\t\t\t\t\t\t\t<option value=\"DNSKEY\" <?php if ($v_type == 'DNSKEY') echo selected; ?>>DNSKEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"IPSECKEY\" <?php if ($v_type == 'IPSECKEY') echo selected; ?>>IPSECKEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"KEY\" <?php if ($v_type == 'KEY') echo selected; ?>>KEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"MX\" <?php if ($v_type == 'MX') echo selected; ?>>MX</option>\n\t\t\t\t\t\t\t\t\t<option value=\"NS\" <?php if ($v_type == 'NS') echo selected; ?>>NS</option>\n\t\t\t\t\t\t\t\t\t<option value=\"PTR\" <?php if ($v_type == 'PTR') echo selected; ?>>PTR</option>\n\t\t\t\t\t\t\t\t\t<option value=\"SPF\" <?php if ($v_type == 'SPF') echo selected; ?>>SPF</option>\n\t\t\t\t\t\t\t\t\t<option value=\"SRV\" <?php if ($v_type == 'SRV') echo selected; ?>>SRV</option>\n\t\t\t\t\t\t\t\t\t<option value=\"TLSA\" <?php if ($v_type == 'TLSA') echo selected; ?>>TLSA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"TXT\" <?php if ($v_type == 'TXT') echo selected; ?>>TXT</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP or Value');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">&nbsp;</option>\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($v_ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$display_ip = empty($value['NAT']) ? $ip : \"{$value['NAT']}\";\n\t\t\t\t\t\t\t\t\t\t\techo \"<option value='{$display_ip}'>\" . htmlentities($display_ip) . \"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_val\" value=\"<?=htmlentities(trim($v_val, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Priority');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_priority\" value=\"<?=htmlentities(trim($v_priority, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('TTL');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ttl\" value=\"<?=htmlentities(trim($v_ttl, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n\n<script>\n\tGLOBAL.DNS_REC_PREFIX = \"<?=htmlentities($_GET['domain']); ?>\";\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/firewall/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_ip\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Firewall Rule');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Action') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_action\">\n\t\t\t\t\t\t\t\t\t<option value=\"DROP\" <?php if ((!empty($v_action)) && ( $v_action == \"'DROP'\" )) echo 'selected'?>><?=_('DROP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"ACCEPT\" <?php if ((!empty($v_action)) && ( $v_action == \"'ACCEPT'\" )) echo 'selected'?>><?=_('ACCEPT');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Protocol') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_protocol\">\n\t\t\t\t\t\t\t\t\t<option value=\"TCP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"'TCP'\" )) echo 'selected'?>><?=_('TCP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"UDP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"'UDP'\" )) echo 'selected'?>><?=_('UDP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"ICMP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"'ICMP'\" )) echo 'selected'?>><?=_('ICMP');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Port');?> <span class=\"optional\">(<?=_('Ranges and Lists are acceptable');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_port\" value=\"<?=htmlentities(trim($v_port, \"'\"))?>\" placeholder=\"<?=_('All ports: 0, Range: 80-82, List: 80,443,8080,8443');?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP address / IPset');?> <span class=\"optional\">(<?=_('CIDR format is supported');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" id=\"quickips_list\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">&nbsp;</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Comment');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_comment\" maxlength=\"255\" value=\"<?=htmlentities(trim($v_comment, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n\n<script>\n\tvar iplists = JSON.parse('<?=$ipset_lists_json?>');\n\tiplists.sort(function (a, b) {\n\t\treturn a.name > b.name;\n\t});\n\n\t$(function () {\n\t\tvar targetelement = document.getElementById('quickips_list');\n\n\t\tvar newEl = document.createElement(\"option\");\n\t\tnewEl.text = \"IP address lists:\";\n\t\tnewEl.disabled = true;\n\t\ttargetelement.appendChild(newEl);\n\n\t\tiplists.forEach(iplist => {\n\t\t\tvar newEl = document.createElement(\"option\");\n\t\t\tnewEl.text = iplist.name;\n\t\t\tnewEl.value = \"ipset:\" + iplist.name;\n\t\t\ttargetelement.appendChild(newEl);\n\t\t});\n\t});\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/firewall/banlist/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_ip\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding IP Address to Banlist');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP address');?> <span class=\"optional\">(<?=_('CIDR format is supported');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Banlist') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_chain\">\n\t\t\t\t\t\t\t\t\t<option value=\"SSH\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'SSH'\" )) echo 'selected'?>><?=_('SSH');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"WEB\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'WEB'\" )) echo 'selected'?>><?=_('WEB');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"FTP\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'FTP'\" )) echo 'selected'?>><?=_('FTP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"DNS\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'DNS'\" )) echo 'selected'?>><?=_('DNS');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"MAIL\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'MAIL'\" )) echo 'selected'?>><?=_('MAIL');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"DB\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'DB'\" )) echo 'selected'?>><?=_('DB');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"HESTIA\" <?php if ((!empty($v_chain)) && ( $v_chain == \"'HESTIA'\" )) echo 'selected'?>><?=_('HESTIA');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/firewall/ipset/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_ipset\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Firewall Ipset List');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Ip List Name') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ipname\" maxlength=\"255\" value=\"<?=htmlentities(trim($v_ipname, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Data Source') ?> <span class=\"optional\">(<?=_('url, script or file');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" id=\"datasource_list\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">clear</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_datasource\" maxlength=\"255\" value=\"<?=htmlentities(trim($v_datasource, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Ip Version') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_ipver\">\n\t\t\t\t\t\t\t\t\t<option value=\"v4\" <?php if ((!empty($v_ipver)) && ( $v_ipver == \"'v4'\" )) echo 'selected'?>><?=_('ip v4');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"v6\" <?php if ((!empty($v_ipver)) && ( $v_ipver == \"'v6'\" )) echo 'selected'?>><?=_('ip v6');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Autoupdate') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_autoupdate\">\n\t\t\t\t\t\t\t\t\t<option value=\"yes\" <?php if ((!empty($v_autoupdate)) && ( $v_autoupdate == \"'yes'\" )) echo 'selected'?>><?=_('yes');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"no\" <?php if ((!empty($v_autoupdate)) && ( $v_autoupdate == \"'no'\" )) echo 'selected'?>><?=_('no');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n\n<script>\n\tvar country_iplists = [\n\t\t<?php \n\t\t\t$country = array('ca' => 'Canada', 'cn' => 'China', 'fr' => 'French', 'de' => 'Germany', 'in' => 'India', 'nl' => 'Netherlands', 'ro' => 'Romania', 'ru' => 'Russia', 'es' => 'Spain', 'ch' => 'Switzerland', 'tr' => 'Turkey', 'ua' => 'Ukraine',  'uk' => 'United Kingdom', 'us' => 'United States');\n\t\t\tforeach($country as $iso =>$name){\n\t\t\t\techo '{name: \"[IPV] Country - '.$name.'\",\tsource:\"https://raw.githubusercontent.com/ipverse/rir-ip/master/country/'.$iso.'/ipv4-aggregated.txt\"},'.\"\\n\";\n\t\t\t}\n\t\t?>\n\t\t// Define IPv6 country lists\n\t\t/*\n\t\t<?php\n\t\t\tforeach($country as $iso =>$name){\n\t\t\t\techo '{name: \"[IPV] Country - '.$name.'\",\tsource:\"https://raw.githubusercontent.com/ipverse/rir-ip/master/country/'.$iso.'/ipv4-aggregated.txt\"},'.\"\\n\";\n\t\t\t}\n\t\t?>\n\t\t*/\n\t];\n\n\tvar blacklist_iplists = [\n\t\t{ name: \"[IPv4] Block Malicious IPs\", source: \"script:/usr/local/hestia/install/deb/firewall/ipset/blacklist.sh\" },\n\t\t/*\n\t\t{name: \"[IPv6] Block Malicious IPs\",       source:\"script:/usr/local/hestia/install/deb/firewall/ipset/blacklist.ipv6.sh\"},\n\t\t*/\n\t];\n\n\tcountry_iplists.sort(function (a, b) {\n\t\treturn a.name > b.name;\n\t});\n\n\tblacklist_iplists.sort(function (a, b) {\n\t\treturn a.name > b.name;\n\t});\n\n\t$(function () {\n\t\tvar targetelement = document.getElementById('datasource_list');\n\n\t\t// Blacklist\n\t\tvar newEl = document.createElement(\"option\");\n\t\tnewEl.text = \"<?=_('BLACKLIST') ?>\";\n\t\tnewEl.disabled = true;\n\t\ttargetelement.appendChild(newEl);\n\n\t\tblacklist_iplists.forEach(iplist => {\n\t\t\tvar newEl = document.createElement(\"option\");\n\t\t\tnewEl.text = iplist.name;\n\t\t\tnewEl.value = iplist.source;\n\t\t\ttargetelement.appendChild(newEl);\n\t\t});\n\n\t\t// IPVERSE\n\t\tvar newEl = document.createElement(\"option\");\n\t\tnewEl.text = \"<?=_('IPVERSE') ?>\";\n\t\tnewEl.disabled = true;\n\t\ttargetelement.appendChild(newEl);\n\n\t\tcountry_iplists.forEach(iplist => {\n\t\t\tvar newEl = document.createElement(\"option\");\n\t\t\tnewEl.text = iplist.name;\n\t\t\tnewEl.value = iplist.source;\n\t\t\ttargetelement.appendChild(newEl);\n\t\t});\n\t});\n</script>\n", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/ip/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_ip\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding IP address');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('IP address') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Netmask');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_netmask\" value=\"<?=htmlentities(trim($v_netmask, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Interface');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_interface\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($interfaces as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_interface)) && ( $value == $v_interface )) echo ' selected';\n\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_shared\" <?php if (empty($v_dedicated)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('usrtable');\"><?=_('Shared');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_dedicated)) { echo 'none';} else {echo 'block';}?> ;\" id=\"usrtable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Assigned user');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-bottom\">\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_owner\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($users as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_owner)) && ( $value == $v_owner )) echo ' selected';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Assigned domain');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_name\" value=\"<?=htmlentities(trim($v_name, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('NAT IP association');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_nat\" value=\"<?=htmlentities(trim($v_nat, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n            <?php if (($_SESSION['userContext'] === 'admin') && (isset($_GET['user'])) && ($_GET['user'] !== 'admin')) { ?>\n                <a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/key/?user=<?=htmlentities($_GET['user']);?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n            <?php } else { ?>\n                <a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/key/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n            <?php } ?>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_key\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Add SSH Key');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('SSH KEY') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput\" name=\"v_key\"><?=htmlentities(trim($v_key, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/mail/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_mail\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\t\t\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Mail Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] !== \"true\")))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span class=\"alert alert-danger alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t\t<?=_('Avoid adding web domains on admin account');?>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (empty($_GET['accept']))) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/user/\" class=\"vst-advanced admin-warning-button\"><?=_('Add User');?></a></span>\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/mail/?accept=true\" class=\"vst-advanced button danger admin-warning-button\"><?=_('Continue');?></a> </span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] === \"true\")) || ($user !== \"admin\"))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php if($_SESSION['WEBMAIL_SYSTEM']){?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t<?=_('Webmail Client');?>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_webmail\" tabindex=\"6\">\n\t\t\t\t\t\t\t\t\t\t\t<?php foreach ($webmail_clients as $client){\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($client).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\tif (( $v_webmail == $client )) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities(ucfirst($client)).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"\" <?php if (empty($v_webmail) || $v_webmail == 'disabled' ){ echo \"selected\";}?>><?=_('Disabled');?></option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTISPAM_SYSTEM'])) {?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_antispam\" <?php if ((empty($v_antispam)) || ($v_antispam == 'yes')) echo \"checked=yes\"; ?>><?=_('AntiSpam Support');?></label>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTIVIRUS_SYSTEM'])) {?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_antivirus\" <?php if ((empty($v_antivirus)) || ($v_antivirus == 'yes')) echo \"checked=yes\"; ?>><?=_('AntiVirus Support');?></label>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_dkim\" <?php if (isset($v_dkim)&&$v_dkim == 'yes') echo \"checked=yes\"; ?>><?=_('DKIM Support');?></label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_smtp_relay\" <?php if ($v_smtp_relay == 'true') echo \"checked=yes\"; ?> onclick=\"javascript:elementHideShow('smtp_relay_table');\"><?=_('SMTP Relay');?></label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_smtp_relay == 'true'){echo 'block';} else {echo 'none';} ?>;\" id=\"smtp_relay_table\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_host\" value=\"<?=htmlentities(trim($v_smtp_relay_host, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Port');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_port\" value=\"<?=htmlentities(trim($v_smtp_relay_port, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_user\" value=\"<?=htmlentities(trim($v_smtp_relay_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_pass\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/mail/?domain=<?=htmlentities(trim($v_domain, \"'\"))?>&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_mail_acc\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok_acc\" value=\"add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"440px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Mail Account');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Account');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_account\" value=\"<?=htmlentities(trim($v_account, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\"><br />\n\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advtable');\" class=\"vst-advanced\"> <?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"advtable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Quota');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_quota\" value=\"<?=htmlentities(trim($v_quota, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-quota\" /</i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Aliases');?> <span class=\"optional\">(<?=_('use local-part');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_aliases\"><?=htmlentities(trim($v_aliases, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Forward to');?> <span class=\"optional\">(<?=_('one or more email addresses');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_fwd\" id=\"v_fwd\" <?php if($v_blackhole == 'yes') echo \"disabled\";?>><?=htmlentities(trim($v_fwd, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" id=\"v_blackhole\" name=\"v_blackhole\" <?php if ($v_blackhole == 'yes') echo \"checked=yes\" ?>><?=_('Discard all mail');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr <?php if ($v_blackhole == 'yes') echo 'style=\"display:none\"'; ?> id=\"id_fwd_for\">\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" id=\"v_fwd_for\" name=\"v_fwd_only\" <?php if ($v_fwd_only == 'yes') echo \"checked=yes\" ?>><?=_('Do not store forwarded mail');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Send login credentials to email address') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input\" name=\"v_send_email\" value=\"<?=htmlentities(trim($v_send_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_credentials\" id=\"v_credentials\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"mail-infoblock-td\">\n\t\t\t\t\t<div class=\"mail-infoblock\">\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<?php $uname_arr=posix_uname(); $hostname=$uname_arr['nodename']; ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t<select id=\"mail_configuration\" class=\"vst-list flat\">\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"hostname\" domain=\"<?=htmlentities($v_domain)?>\"><?=_('Use domain hostname');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"starttls\"><?=_('Use STARTTLS');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"ssl\"><?=_('Use SSL / TLS');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"no_encryption\" domain=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" no_encryption=\"<?=_('No encryption');?>\"><?=_('No encryption');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('Username');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><span id=\"v_account\">example</span>@<?=htmlentities(trim($v_domain, \"'\"))?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('Password');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"v_password\">******</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP hostname');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_hostname\">mail.<?=htmlentities($v_domain)?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP port');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_port\">143</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP security');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_encryption\"><?=_('STARTTLS');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP auth method');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><?=_('Normal password');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP hostname');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_hostname\">mail.<?=htmlentities($v_domain)?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP port');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_port\">587</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP security');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_encryption\"><?=_('STARTTLS');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP auth method');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><?=_('Normal password');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php if ($_SESSION['WEBMAIL_SYSTEM']) {?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><?=_('Webmail URL');?>:</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div><a class=\"vst\" href=\"http://<?=htmlentities($v_webmail_alias)?>\" target=\"_blank\">http://<?=htmlentities($v_webmail_alias)?> <i></i></a></div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/package/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_package\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding Package');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Package Name');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_package\" value=\"<?=htmlentities(trim($v_package, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Quota');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_disk_quota\" value=\"<?=htmlentities(trim($v_disk_quota, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-disk-quota\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Bandwidth');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_bandwidth\" value=\"<?=htmlentities(trim($v_bandwidth, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-bandwidth\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Backups');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backups\" value=\"<?=htmlentities(trim($v_backups, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('web-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Web');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"web-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_web_domains\" value=\"<?=htmlentities(trim($v_web_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-web-domains\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Aliases');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_web_aliases\" value=\"<?=htmlentities(trim($v_web_aliases, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-web-aliases\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Template')  . \" <span class='optional'> \" .strtoupper($_SESSION['WEB_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_web_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($web_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_web_template)) && ( $value == $v_web_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_web_template)) && ( $value == $_POST['v_web_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND'])) { echo \"\"; ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Backend Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['WEB_BACKEND']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backend_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($backend_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $v_backend_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $_POST['v_backend_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?=\"\"; }?>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['PROXY_SYSTEM'])) { echo \"\"; ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['PROXY_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_proxy_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($proxy_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $v_proxy_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $_POST['v_proxy_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?=\"\"; }?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('dns-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('DNS');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"dns-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['DNS_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_dns_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($dns_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_dns_template)) && ( $value == $v_dns_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_dns_template)) && ( $value == $_POST['v_dns_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dns_domains\" value=\"<?=htmlentities(trim($v_dns_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-dns-domain\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS records');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dns_records\" value=\"<?=htmlentities(trim($v_dns_records, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-dns-records\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if ((isset($_SESSION['DNS_SYSTEM'])) && (!empty($_SESSION['DNS_SYSTEM']))) {?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Name Servers');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns1\" value=\"<?=htmlentities(trim($v_ns1, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns2\" value=\"<?=htmlentities(trim($v_ns2, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns3) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns3\" value=\"'.htmlentities(trim($v_ns3, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns4) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns4\" value=\"'.htmlentities(trim($v_ns4, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns5) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns5\" value=\"'.htmlentities(trim($v_ns5, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns6) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns6\" value=\"'.htmlentities(trim($v_ns6, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns7) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns7\" value=\"'.htmlentities(trim($v_ns7, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns8) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns8\" value=\"'.htmlentities(trim($v_ns8, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"add-ns\" <?php if ($v_ns8) echo 'style=\"display:none;\"' ; ?> >\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-top-small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"add-ns-button additional-control add\"><?=_('Add one more Name Server');?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('mail-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Mail');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"mail-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Mail Domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mail_domains\" value=\"<?=htmlentities(trim($v_mail_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-mail-domains\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Mail Accounts');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mail_accounts\" value=\"<?=htmlentities(trim($v_mail_accounts, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-mail-accounts\"></i>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('database-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Databases');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"database-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Databases');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_databases\" value=\"<?=htmlentities(trim($v_databases, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-databases\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('system-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('System');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"system-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Cron Jobs');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_cron_jobs\" value=\"<?=htmlentities(trim($v_cron_jobs, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-cron-jobs\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSH Access');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_shell\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($shells as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_shell)) && ( $value == $v_shell)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_shell)) && ( $value == $_POST['v_shell'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/user/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_user\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Adding User');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_username\" value=\"<?=htmlentities(trim($v_username, \"'\"))?>\" tabindex=\"1\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text \">\n\t\t\t\t\t\t\t\t<?=_('Contact');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_name\" value=\"<?=htmlentities(trim($v_name, \"'\"))?>\" tabindex=\"2\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Email');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_email\" id='v_email' value=\"<?=htmlentities(trim($v_email, \"'\"))?>\" tabindex=\"3\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\" value=\"<?=htmlentities(trim($v_password, \"'\"))?>\" tabindex=\"4\" /><br />\n\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" onclick=\"javascript:elementHideShow('send-welcome');\" name=\"v_login_disabled\" <?php if ($data[$user]['LOGIN_DISABLED'] == \"yes\") echo \"checked=yes\" ?>><?=_('Do not allow user to log in to Control Panel');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr id=\"send-welcome\">\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_email_notice\" id='v_email_notify' value=\"\" tabindex=\"5\" /><?=_('Send welcome email');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Language');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_language\" tabindex=\"6\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($languages as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".htmlentities($key).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif (( $key == $_SESSION['LANGUAGE'] ) && (empty($v_language))){\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (isset($v_language)){\n\t\t\t\t\t\t\t\t\t\t\t\tif ( htmlentities($key) == trim($v_language,\"'\") ){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Role');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_role\" tabindex=\"7\">\n\t\t\t\t\t\t\t\t\t<option value=\"user\"><?=_('User');?>\n\t\t\t\t\t\t\t\t\t<option value=\"admin\" <?php if($v_role == \"admin\" ){ echo \"selected\"; } ?>><?=_('Administrator');?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\" name=\"v_package\">\n\t\t\t\t\t\t\t\t<?=_('Package');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_package\" tabindex=\"8\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($data as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".htmlentities($key).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_package)) && ( $key == $_POST['v_package'])){\n\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tif ( $key == 'default'){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($key).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Send login credentials to email address');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input\" name=\"v_notify\" id=\"v_notify\" value=\"<?=htmlentities(trim($v_notify, \"'\"))?>\" tabindex=\"8\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/web/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] === \"true\")) || ($user !== \"admin\"))  {?>\n\t\t\t\t<a href=\"#\" class=\"ui-button\" title=\"<?=_('Save');?>\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_add_web\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"ok\" value=\"Add\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Add Web Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] !== \"true\")))  {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span class=\"alert alert-danger alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t\t<?=_('Avoid adding web domains on admin account');?>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (empty($_GET['accept']))) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/user/\" class=\"vst-advanced admin-warning-button\"><?=_('Add User');?></a></span>\n\t\t\t\t\t\t\t\t\t<span><a href=\"/add/web/?accept=true\" class=\"vst-advanced button danger admin-warning-button\"><?=_('Continue');?></a> </span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (($user == 'admin') && (($_GET['accept'] === \"true\")) || ($user !== \"admin\")) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" id=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('IP address');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_ip\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\tforeach ($ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$display_ip = htmlentities(empty($value['NAT']) ? $ip : \"{$value['NAT']}\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t$ip_selected = (!empty($v_ip) && $ip == $_POST['v_ip']) ? 'selected' : '';\n\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"{$ip}\\\" {$ip_selected}>{$display_ip}</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"input-label\"></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php if ((isset($_SESSION['DNS_SYSTEM'])) && (!empty($_SESSION['DNS_SYSTEM']))) {?>\n\t\t\t\t\t\t\t\t<?php if($panel[$user]['DNS_DOMAINS'] != \"0\") { ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_dns\" <?php if (empty($v_dns)&&$panel[$user]['DNS_DOMAINS'] != \"0\") ?>><?=_('DNS Support');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php if ((isset($_SESSION['IMAP_SYSTEM'])) && (!empty($_SESSION['IMAP_SYSTEM']))) {?>\n\t\t\t\t\t\t\t\t<?php if($panel[$user]['MAIL_DOMAINS'] != \"0\") { ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_mail\" <?php if (empty($v_mail)&&$panel[$user]['MAIL_DOMAINS'] != \"0\") ?>><?=_('Mail Support');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<!-- OPTION DISABLED\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top vst-text\" style=\"/*padding: 32px 0 20px 0;*/\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advtable');\" class=\"vst-advanced\"><?=_('Advanced options');?>&nbsp;<i class=\"fas fa-arrow-circle-right\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t-->\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<!--\n\t\t\t\t\t\tTHE FOLLOWING SECTION OF CODE IS NO LONGER EXPOSED VIA USER INTERFACE\n\t\t\t\t\t\tBUT VALUES ARE REQUIRED FOR DOMAINS TO BE CREATED CORRECTLY UNTIL BACKEND CALLS ARE MODIFIED\n\t\t\t\t\t-->\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" style=\"display: none;\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Aliases');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_aliases\" id=\"v_aliases\"><?=htmlentities(trim($v_aliases, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Web Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['WEB_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_template\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_template)) && ( $value == $v_template ) || ($svalue == $v_template)){\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND'])) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Backend Template') . \" <span class='optional'>\" . strtoupper($_SESSION['WEB_BACKEND']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backend_template\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($backend_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $v_backend_template ) || ($svalue == $v_backend_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_backend_template)) && ($value == 'default')){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php }?>\n\t\t\t\t\t\t<?php if (!empty($_SESSION['PROXY_SYSTEM'])) { echo \"\"; ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_proxy\" <?php if ($v_proxy !== 'off') echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('proxytable');\"><?=_('Proxy Support');?></label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Proxy Template');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_proxy_template\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($proxy_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $v_proxy_template ) || ($svalue == $v_proxy_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_proxy_template)) && ($value == 'default')){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_proxy == 'off') { echo 'none';} else {echo 'block';}?>;\" id=\"proxytable\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Extensions');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_proxy_ext\"><?php if (!empty($v_proxy_ext)) { echo htmlentities(trim($v_proxy_ext, \"'\"));} else { echo 'jpeg, jpg, png, gif, bmp, ico, svg, tif, tiff, css, js, htm, html, ttf, otf, webp, woff, txt, csv, rtf, doc, docx, xls, xlsx, ppt, pptx, odf, odp, ods, odt, pdf, psd, ai, eot, eps, ps, zip, tar, tgz, gz, rar, bz2, 7z, aac, m4a, mp3, mp4, ogg, wav, wma, 3gp, avi, flv, m4v, mkv, mov, mp4, mpeg, mpg, wmv, exe, iso, dmg, swf'; }  ?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?=\"\"; }?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Web Statistics');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_stats\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($stats as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif (empty($v_stats)) $v_stats = 'none';\n\t\t\t\t\t\t\t\t\t\t\tif (( $value == $v_stats ) || ($svalue == $v_stats )){\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\techo \">\" . htmlentities(_($value)) . \"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr class=\"stats-auth\" style=\"<?php if (trim($v_stats, \"'\") == ' none') { echo 'display:none;'; } ?>\">\n\t\t\t\t\t\t\t<td class=\"step-left vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_stats_auth\" <?php if (!empty($v_stats_user)) echo \"checked=yes\" ?>\n\t\t\t\t\t\t\t\t\t\tonclick=\"javascript:elementHideShow('statstable');\"><?=_('Statistics Authorization');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_stats_user)) { echo 'none';} else {echo 'block';}?> ;\" id=\"statstable\" name=\"v-add-web-domain-stats-user\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_stats_user\" value=\"<?=htmlentities(trim($v_stats_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:WEBrandom();\" class=\"generate\"><?=_('generate');?></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_stats_password\" value=\"<?=htmlentities(trim($v_stats_password, \"'\"))?>\" id=\"v_password\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_custom_doc_root_check\" <?php if (!empty($v_custom_doc_root)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('v_custom_doc_root');\"><?=_('Custom document root');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_custom_doc_root)) { echo 'none';} else {echo 'block';}?> ;\" id=\"v_custom_doc_root\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Point to');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v-custom-doc-root_prepath\" value=\"<?=htmlentities($v_custom_doc_root_prepath);?>\">\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v-custom-doc-domain\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" id=\"v-custom-doc-domain-main\"><?=htmlentities(trim($v_domain, \"'\"))?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($user_domains  as $domain) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif($domain != $v_domain ){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif($v_custom_doc_domain == $domain){\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=htmlentities($domain);?>\" selected=\"selected\"><?=htmlentities($domain);?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php } else{ ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=htmlentities($domain);?>\"><?=htmlentities($domain);?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php } } } ?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?php print( _('Directory'));?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"v-custom-doc-folder\" value=\"<?=htmlentities(trim($v_custom_doc_folder, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<small class=\"custom_docroot_hint\"></small>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top vst-text\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl\" <?php if($v_ssl == 'yes' || $v_ssl == 'on') echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('ssltable');\"><?=_('SSL Support');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_ssl)) { echo 'none';} else {echo 'block';}?>;\" id=\"ssltable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_letsencrypt\" <?php if($v_letsencrypt == 'yes' || $v_letsencrypt == 'on') echo \"checked=yes\" ?> onclick=\"App.Actions.WEB.toggle_letsencrypt(this)\"><?=_('Lets Encrypt Support');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label lets-encrypt-note step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<?= _('Your certificate will be automatically issued in 5 minutes');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl_forcessl\" <?php if($v_ssl_forcessl != 'no') echo \"checked=yes\" ?> onclick=\"App.Actions.WEB.toggle_forcessl(this)\"><?=_('Force SSL/HTTPS');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate');?>\n\t\t\t\t\t\t\t\t\t\t\t<span id=\"generate-csr\"> / <a class=\"generate\" target=\"_blank\" href=\"/generate/ssl/?domain=<?=htmlentities(trim($v_domain, \"'\")) ?>\"><?=_('Generate CSR') ?></a></span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_crt\"><?=htmlentities(trim($v_ssl_crt, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Key');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_key\"><?=htmlentities(trim($v_ssl_key, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate Authority / Intermediate');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_ca\"><?=htmlentities(trim($v_ssl_ca, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ftp\" <?php if (!empty($v_ftp) && count($v_ftp_users)) echo \"checked=yes\" ?> onclick=\"App.Actions.WEB.toggle_additional_ftp_accounts(this)\"><?=_('Additional FTP Account');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td id=\"ftp_users\">\n\t\t\t\t\t\t\t\t<?php foreach ($v_ftp_users as $i => $ftp_user): ?>\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t$v_ftp_user     = $ftp_user['v_ftp_user'];\n\t\t\t\t\t\t\t\t\t$v_ftp_password = $ftp_user['v_ftp_password'];\n\t\t\t\t\t\t\t\t\t$v_ftp_path     = $ftp_user['v_ftp_path'];\n\t\t\t\t\t\t\t\t\t$v_ftp_email    = $ftp_user['v_ftp_email'];\n\t\t\t\t\t\t\t\t\t$v_ftp_pre_path = $ftp_user['v_ftp_pre_path'];\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<table <?=(!empty($v_ftp)) ? \"style='display: block'\" : \"style='display:none;'\"  ?> class=\"ftptable ftptable-nrm\" name=\"v_add_domain_ftp\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('FTP') ?> #<span class=\"ftp-user-number\"><?=$i + 1; ?></span> <a class=\"ftp-remove-user additional-control do_delete\" onCLick=\"App.Actions.WEB.remove_ftp_user(this)\">(<?=_('delete') ?>)</a>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-deleted\" name=\"v_ftp_user[<?=$i ?>][delete]\" value=\"0\" />\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-is-new\" name=\"v_ftp_user[<?=$i ?>][is_new]\" value=\"<?=htmlentities($ftp_user['is_new']) ?>\" />\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?><br>\n\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size: 10pt; color:#777;\"><?=sprintf(_('Prefix %s will be added to username automatically'),$user.\"_\");?></span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input v-ftp-user\" <?=$ftp_user['is_new'] != 1 ? 'disabled=\"disabled\"' : '' ?> name=\"v_ftp_user[<?=$i ?>][v_ftp_user]\" value=\"<?=htmlentities(trim($v_ftp_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left  input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:void(0);\" onClick=\"FTPrandom(this)\" ; class=\"generate\"><?=_('generate');?></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-user-psw password\" name=\"v_ftp_user[<?=$i ?>][v_ftp_password]\" value=\"<?=htmlentities(trim($v_ftp_password, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Path');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"vst-input v-ftp-pre-path\" name=\"v_ftp_pre_path\" value=\"<?=!empty($v_ftp_pre_path) ? htmlentities(trim($v_ftp_pre_path, \"'\")) : '/'; ?>\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-path\" name=\"v_ftp_user[<?=$i ?>][v_ftp_path]\" value=\".htmlentities(trim($v_ftp_path, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<br /><span class=\"ftp-path-prefix\"><?=htmlentities(trim($v_ftp_pre_path, \"'\"))?></span><span class=\"ftp-path-value v-ftp-path-hint\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t <?=_('Send FTP credentials to email');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\"  class=\"vst-input\" name=\"v_ftp_user[<?=$i ?>][v_ftp_email]\" value=\"<?=htmlentities(trim($v_ftp_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top v-add-new-user step-bottom\"  style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<a class=\"additional-control\" onClick=\"App.Actions.WEB.add_ftp_user_form()\"><?=_('Add one more FTP Account');?></a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n\n\t<div id=\"templates\" class=\"hidden\">\n\t\t\t<table class=\"ftptable ftptable-nrm\" name=\"v_add_domain_ftp\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t<?=_('FTP') ?> #<span class=\"ftp-user-number\"></span> <a class=\"ftp-remove-user additional-control do_delete\" onCLick=\"App.Actions.WEB.remove_ftp_user(this)\">(<?=_('delete');?>)</a>\n\t\t\t\t\t\t<input type=\"hidden\"  class=\"v-ftp-user-deleted\" name=\"v_ftp_user[%INDEX%][delete]\" value=\"0\" />\n\t\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-is-new\" name=\"v_ftp_user[%INDEX%][is_new]\" value=\"1\" />\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t<?=_('Username');?><br>\n\t\t\t\t\t\t<span style=\"font-size: 10pt; color:#777;\"><?=sprintf(_('Prefix %s will be added to username automatically'),$user.\"_\");?></span>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input v-ftp-user\" name=\"v_ftp_user[%INDEX%][v_ftp_user]\" value=\"\">\n\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"vst-text step-left  input-label\">\n\t\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:void(0);\" onClick=\"FTPrandom(this)\"; class=\"generate\" ><?=_('generate');?></a>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-user-psw password\" name=\"v_ftp_user[%INDEX%][v_ftp_password]\" value=\"\">\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t <?=_('Path');?>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t<input type=\"hidden\" class=\"vst-input v-ftp-pre-path\" name=\"v_ftp_pre_path\" value=\"\">\n\t\t\t\t\t\t<input type=\"text\"  class=\"vst-input v-ftp-path\" name=\"v_ftp_user[%INDEX%][v_ftp_path]\" value=\"\">\n\t\t\t\t\t\t<br /><span class=\"ftp-path-prefix\"><?=htmlentities(trim($v_ftp_pre_path_new_user, \"'\")) ?></span><span class=\"ftp-path-value v-ftp-path-hint\"></span>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t <?=_('Send FTP credentials to email');?>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t<input type=\"text\" class=\"vst-input\" name=\"v_ftp_user[%INDEX%][v_ftp_email]\" value=\"\">\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t</table>\n\t\t</div>\n\t  </div>\n\n\t<script>\n\t\tGLOBAL.FTP_USER_PREFIX = \"<?=htmlentities($user.'_');?>\";\n\t\tGLOBAL.FTP_USER_PREPATH = \"<?=htmlentities($v_ftp_user_prepath);?>\";\n\t</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/backup/exclusions/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center edit animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_backup_exclusions\" method=\"post\" class=\"<?=_($v_status)?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Backup Exclusions');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Web Domains');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput\" name=\"v_web\" placeholder=\"<?=_('WEB_EXCLUSIONS') ?>\"><?=htmlentities(trim($v_web, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Mail Domains');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput\" name=\"v_mail\" placeholder=\"<?=_('MAIL_EXCLUSIONS') ?>\"><?=htmlentities(trim($v_mail, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Databases');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput\" name=\"v_db\" placeholder=\"<?=_('DB_EXCLUSIONS') ?>\"><?=htmlentities(trim($v_db, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('User Directories');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput\" name=\"v_userdir\" placeholder=\"<?=_('USER_EXCLUSIONS') ?>\"><?=htmlentities(trim($v_userdir, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/cron/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<div class=\"vst-text step-top helper-container\">\n\t\t<div id=\"tabs\" class=\"cron-helper-tabs\">\n\t\t\t<ul>\n\t\t\t\t<li><a href=\"#tabs-1\"><?=_('Minutes');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-2\"><?=_('Hourly');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-3\"><?=_('Daily');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-4\"><?=_('Weekly');?></a></li>\n\t\t\t\t<li><a href=\"#tabs-5\"><?=_('Monthly');?></a></li>\n\t\t\t</ul>\n\t\t\t<div id=\"tabs-1\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_hour\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every minute');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every two minutes');?></option>\n\t\t\t\t\t\t\t<option value=\"*/5\"><?=_('every');?> 5</option>\n\t\t\t\t\t\t\t<option value=\"*/10\"><?=_('every');?> 10</option>\n\t\t\t\t\t\t\t<option value=\"*/15\"><?=_('every');?> 15</option>\n\t\t\t\t\t\t\t<option value=\"*/30\"><?=_('every');?> 30</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-2\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every hour');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every two hours');?></option>\n\t\t\t\t\t\t\t<option value=\"*/6\"><?=_('every');?> 6</option>\n\t\t\t\t\t\t\t<option value=\"*/12\"><?=_('every');?> 12</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-3\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_day\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every day');?></option>\n\t\t\t\t\t\t\t<option value=\"1-31/2\"><?=_('every odd day');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every even day');?></option>\n\t\t\t\t\t\t\t<option value=\"*/3\"><?=_('every');?> 3</option>\n\t\t\t\t\t\t\t<option value=\"*/5\"><?=_('every');?> 5</option>\n\t\t\t\t\t\t\t<option value=\"*/10\"><?=_('every');?> 10</option>\n\t\t\t\t\t\t\t<option value=\"*/15\"><?=_('every');?> 15</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list  short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-4\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_month\" value=\"*\" />\n\t\t\t\t\t<input type=\"hidden\" name=\"h_day\" value=\"*\" />\n\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_wday\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every day');?></option>\n\t\t\t\t\t\t\t<option value=\"1,2,3,4,5\"><?=_('weekdays (5 days)');?></option>\n\t\t\t\t\t\t\t<option value=\"0,6\"><?=_('weekend (2 days)');?></option>\n\t\t\t\t\t\t\t<option value=\"1\"><?=_('Monday');?></option>\n\t\t\t\t\t\t\t<option value=\"2\"><?=_('Tuesday');?></option>\n\t\t\t\t\t\t\t<option value=\"3\"><?=_('Wednesday');?></option>\n\t\t\t\t\t\t\t<option value=\"4\"><?=_('Thursday');?></option>\n\t\t\t\t\t\t\t<option value=\"5\"><?=_('Friday');?></option>\n\t\t\t\t\t\t\t<option value=\"6\"><?=_('Saturday');?></option>\n\t\t\t\t\t\t\t<option value=\"0\"><?=_('Sunday');?></option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t<div id=\"tabs-5\">\n\t\t\t\t<form>\n\t\t\t\t\t<input type=\"hidden\" name=\"h_wday\" value=\"*\" />\n\t\t\t\t\t<p><span class=\"first\"><?=_('Run Command');?>:</span>\n\t\t\t\t\t\t<select name=\"h_month\" class=\"vst-list\">\n\t\t\t\t\t\t\t<option value=\"*\" selected=\"selected\"><?=_('every month');?></option>\n\t\t\t\t\t\t\t<option value=\"1-11/2\"><?=_('every odd month');?></option>\n\t\t\t\t\t\t\t<option value=\"*/2\"><?=_('every even month');?></option>\n\t\t\t\t\t\t\t<option value=\"*/3\"><?=_('every');?> 3</option>\n\t\t\t\t\t\t\t<option value=\"*/6\"><?=_('every');?> 6</option>\n\t\t\t\t\t\t\t<option value=\"1\"><?=_('Jan');?></option>\n\t\t\t\t\t\t\t<option value=\"2\"><?=_('Feb');?></option>\n\t\t\t\t\t\t\t<option value=\"3\"><?=_('Mar');?></option>\n\t\t\t\t\t\t\t<option value=\"4\"><?=_('Apr');?></option>\n\t\t\t\t\t\t\t<option value=\"5\"><?=_('May');?></option>\n\t\t\t\t\t\t\t<option value=\"6\"><?=_('Jun');?></option>\n\t\t\t\t\t\t\t<option value=\"7\"><?=_('Jul');?></option>\n\t\t\t\t\t\t\t<option value=\"8\"><?=_('Aug');?></option>\n\t\t\t\t\t\t\t<option value=\"9\"><?=_('Sep');?></option>\n\t\t\t\t\t\t\t<option value=\"10\"><?=_('Oct');?></option>\n\t\t\t\t\t\t\t<option value=\"11\"><?=_('Nov');?></option>\n\t\t\t\t\t\t\t<option value=\"12\"><?=_('Dec');?></option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><span class=\"first\"><?=_('Date');?>:</span>\n\t\t\t\t\t\t<select name=\"h_day\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"1\" selected=\"selected\">1</option>\n\t\t\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t\t\t<option value=\"3\">3</option>\n\t\t\t\t\t\t\t<option value=\"4\">4</option>\n\t\t\t\t\t\t\t<option value=\"5\">5</option>\n\t\t\t\t\t\t\t<option value=\"6\">6</option>\n\t\t\t\t\t\t\t<option value=\"7\">7</option>\n\t\t\t\t\t\t\t<option value=\"8\">8</option>\n\t\t\t\t\t\t\t<option value=\"9\">9</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t\t<option value=\"24\">24</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"26\">26</option>\n\t\t\t\t\t\t\t<option value=\"27\">27</option>\n\t\t\t\t\t\t\t<option value=\"28\">28</option>\n\t\t\t\t\t\t\t<option value=\"29\">29</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"31\">31</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Hour');?>:</span>\n\t\t\t\t\t\t<select name=\"h_hour\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"3\">03</option>\n\t\t\t\t\t\t\t<option value=\"4\">04</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"6\">06</option>\n\t\t\t\t\t\t\t<option value=\"7\">07</option>\n\t\t\t\t\t\t\t<option value=\"8\">08</option>\n\t\t\t\t\t\t\t<option value=\"9\">09</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t\t\t\t<option value=\"12\" selected=\"selected\">12</option>\n\t\t\t\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span><?=_('Minute');?>:</span>\n\t\t\t\t\t\t<select name=\"h_min\" class=\"vst-list short\">\n\t\t\t\t\t\t\t<option value=\"0\" selected=\"selected\">00</option>\n\t\t\t\t\t\t\t<option value=\"1\">01</option>\n\t\t\t\t\t\t\t<option value=\"2\">02</option>\n\t\t\t\t\t\t\t<option value=\"5\">05</option>\n\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t\t\t\t<option value=\"35\">35</option>\n\t\t\t\t\t\t\t<option value=\"40\">40</option>\n\t\t\t\t\t\t\t<option value=\"45\">45</option>\n\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t<option value=\"55\">55</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"step-top\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"<?=_('generate');?>\" class=\"button\">\n\t\t\t\t\t</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<form id=\"vstobjects\" name=\"v_edit_cron\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Cron Job');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Command');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input long\" name=\"v_cmd\" value=\"<?=htmlentities(trim($v_cmd, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Minute');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_min\" value=\"<?=htmlentities(trim($v_min, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Hour');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_hour\" value=\"<?=htmlentities(trim($v_hour, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Day');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_day\" value=\"<?=htmlentities(trim($v_day, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Month');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_month\" value=\"<?=htmlentities(trim($v_month, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Day of week');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input short\" name=\"v_wday\" value=\"<?=htmlentities(trim($v_wday, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/db/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_db\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Database');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Database');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_database\" value=\"<?=htmlentities(trim($v_database, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\tprint _('Username');\n\t\t\t\t\t\t\t\t\techo \"&nbsp;&nbsp;&nbsp;&nbsp;<em><small>(\".sprintf(_('maximum characters length, including prefix'), 32).\")</small></em>\";\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dbuser\" value=\"<?=htmlentities(trim($v_dbuser, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\" value=\"<?=htmlentities(trim($v_password, \"'\"))?>\"><br />\n\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Type');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_type\" value=\"<?=htmlentities(trim($v_type, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_host\" value=\"<?=htmlentities(trim($v_host, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Charset');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_charset\" value=\"<?=htmlentities(trim($v_charset, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n<?php if ($v_type == 'pgsql'){ $user=strtolower($user); } ?>\n<script>\n    GLOBAL.DB_USER_PREFIX = \"<?php echo htmlentities($user.'_');?>\";\n    GLOBAL.DB_DBNAME_PREFIX = \"<?php echo htmlentities($user.'_')?>\";\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/dns/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_dns\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing DNS Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP Address');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">clear</option>\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($v_ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$display_ip = empty($value['NAT']) ? $ip : \"{$value['NAT']}\";\n\t\t\t\t\t\t\t\t\t\t\t$ip_selected = ((!empty($v_ip) && ($v_ip==$ip||$v_ip==$display_ip) ))? 'selected' : '';\n\t\t\t\t\t\t\t\t\t\t\techo \"<option value='{$display_ip}' {$ip_selected}>\" . htmlentities($display_ip) . \"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === 'admin') || ($_SESSION['userContext'] === 'user') && ($_SESSION['POLICY_USER_EDIT_DNS_TEMPLATES'] === 'yes')) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Template') . \"<span class='optional'>\" . strtoupper($_SESSION['DNS_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_template\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_template)) && ( $value == $v_template ) || ($svalue == $v_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Expiration Date');?><span class=\"optional\">(<?=_('YYYY-MM-DD');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_exp\" value=\"<?=htmlentities(trim($v_exp, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('SOA');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_soa\" value=\"<?=htmlentities(trim($v_soa, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('TTL');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ttl\" value=\"<?=htmlentities(trim($v_ttl, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/dns/?domain=<?=htmlentities(trim($v_domain, \"'\"))?>&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_dns_rec\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing DNS Record');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Record');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_rec\" value=\"<?=htmlentities(trim($v_rec, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_record_id\" value=\"<?=htmlentities($v_record_id)?>\">\n\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Type');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_type\">\n\t\t\t\t\t\t\t\t\t<option value=\"A\" <?php if ($v_type == 'A') echo selected; ?>>A</option>\n\t\t\t\t\t\t\t\t\t<option value=\"AAAA\" <?php if ($v_type == 'AAAA') echo selected; ?>>AAAA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"CAA\" <?php if ($v_type == 'CAA') echo selected; ?>>CAA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"CNAME\" <?php if ($v_type == 'CNAME') echo selected; ?>>CNAME</option>\n\t\t\t\t\t\t\t\t\t<option value=\"DNSKEY\" <?php if ($v_type == 'DNSKEY') echo selected; ?>>DNSKEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"IPSECKEY\" <?php if ($v_type == 'IPSECKEY') echo selected; ?>>IPSECKEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"KEY\" <?php if ($v_type == 'KEY') echo selected; ?>>KEY</option>\n\t\t\t\t\t\t\t\t\t<option value=\"MX\" <?php if ($v_type == 'MX') echo selected; ?>>MX</option>\n\t\t\t\t\t\t\t\t\t<option value=\"NS\" <?php if ($v_type == 'NS') echo selected; ?>>NS</option>\n\t\t\t\t\t\t\t\t\t<option value=\"PTR\" <?php if ($v_type == 'PTR') echo selected; ?>>PTR</option>\n\t\t\t\t\t\t\t\t\t<option value=\"SPF\" <?php if ($v_type == 'SPF') echo selected; ?>>SPF</option>\n\t\t\t\t\t\t\t\t\t<option value=\"SRV\" <?php if ($v_type == 'SRV') echo selected; ?>>SRV</option>\n\t\t\t\t\t\t\t\t\t<option value=\"TLSA\" <?php if ($v_type == 'TLSA') echo selected; ?>>TLSA</option>\n\t\t\t\t\t\t\t\t\t<option value=\"TXT\" <?php if ($v_type == 'TXT') echo selected; ?>>TXT</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP or Value');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">clear</option>\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($v_ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$display_ip = empty($value['NAT']) ? $ip : \"{$value['NAT']}\";\n\t\t\t\t\t\t\t\t\t\t\techo \"<option value='{$display_ip}'>\" . htmlentities($display_ip) . \"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_val\" value=\"<?=htmlentities(trim($v_val, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Priority');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_priority\" value=\"<?=htmlentities(trim($v_priority, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('TTL');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ttl\" value=\"<?=htmlentities(trim($v_ttl, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" size=\"20\" class=\"vst-input\" name=\"v_record_id\" value=\"<?=htmlentities(trim($v_record_id, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n<script>\n\tGLOBAL.DNS_REC_PREFIX = \"<?=htmlentities($_GET['domain']); ?>\";\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/firewall/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_firewall\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Firewall Rule');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Action'); ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_action\">\n\t\t\t\t\t\t\t\t\t<option value=\"DROP\" <?php if ((!empty($v_action)) && ( $v_action == \"DROP\" )) echo 'selected'?>><?=_('DROP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"ACCEPT\" <?php if ((!empty($v_action)) && ( $v_action == \"ACCEPT\" )) echo 'selected'?>><?=_('ACCEPT');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Protocol') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_protocol\">\n\t\t\t\t\t\t\t\t\t<option value=\"TCP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"TCP\" )) echo 'selected'?>><?=_('TCP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"UDP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"UDP\" )) echo 'selected'?>><?=_('UDP');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"ICMP\" <?php if ((!empty($v_protocol)) && ( $v_protocol == \"ICMP\" )) echo 'selected'?>><?=_('ICMP');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Port');?> <span class=\"optional\">(<?=_('Ranges and Lists are acceptable');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_port\" value=\"<?=htmlentities(trim($v_port, \"'\"))?>\" placeholder=\"<?=_('All ports: 0, Range: 80-82, List: 80,443,8080,8443');?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP address / IPset');?> <span class=\"optional\">(<?=_('CIDR format is supported');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" tabindex=\"-1\" id=\"quickips_list\" onchange=\"this.nextElementSibling.value=this.value\">\n\t\t\t\t\t\t\t\t\t<option value=\"\">&nbsp;</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input vst-list-editor\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Comment');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_comment\" maxlength=\"255\" value=\"<?=htmlentities(trim($v_comment, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n\n<script>\n\tvar iplists = JSON.parse('<?=$ipset_lists_json?>');\n\tiplists.sort(function (a, b) {\n\t\treturn a.name > b.name;\n\t});\n\n\t$(function () {\n\t\tvar targetelement = document.getElementById('quickips_list');\n\n\t\tvar newEl = document.createElement(\"option\");\n\t\tnewEl.text = \"IP address lists:\";\n\t\tnewEl.disabled = true;\n\t\ttargetelement.appendChild(newEl);\n\n\t\tiplists.forEach(iplist => {\n\t\t\tvar newEl = document.createElement(\"option\");\n\t\t\tnewEl.text = iplist.name;\n\t\t\tnewEl.value = \"ipset:\" + iplist.name;\n\t\t\ttargetelement.appendChild(newEl);\n\t\t});\n\t});\n</script>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/ip/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_ip\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing IP Address');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('IP address'); ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_ip\" value=\"<?=htmlentities(trim($v_ip, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Netmask');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_netmask\" value=\"<?=htmlentities(trim($v_netmask, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Interface'); ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_netmask\" value=\"<?=htmlentities(trim($v_interface, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_shared\" <?php if (empty($v_dedicated)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('usrtable');\"><?=_('Shared');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_dedicated)) { echo 'none';} else {echo 'block';}?> ;\" id=\"usrtable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Assigned user');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-bottom\">\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_owner\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($users as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_owner)) && ( $value == $v_owner )) echo ' selected';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Assigned domain');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_name\" value=\"<?=htmlentities(trim($v_name, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('NAT IP association');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_nat\" value=\"<?=htmlentities(trim($v_nat, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/mail/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_mail\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Mail Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if($_SESSION['WEBMAIL_SYSTEM']){?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Webmail Client');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_webmail\" tabindex=\"6\">\n\t\t\t\t\t\t\t\t\t<?php foreach ($webmail_clients as $client){\n\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($client).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\tif (( htmlentities(trim($v_webmail,\"'\")) == $client )) {\n\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities(ucfirst($client)).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t<option value=\"disabled\" <?php if (htmlentities(trim($v_webmail,\"'\")) == 'disabled') { echo \"selected\";}?>><?=_('Disabled');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Catchall email');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_catchall\" value=\"<?=htmlentities(trim($v_catchall, \"'\"))?>\"> <?php /*'*/ ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTISPAM_SYSTEM'])) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_antispam\" <?php if ($v_antispam == 'yes') echo \"checked=yes\"; ?>><?=_('AntiSpam Support');?></label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTIVIRUS_SYSTEM'])) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_antivirus\" <?php if ($v_antivirus == 'yes') echo \"checked=yes\"; ?>><?=_('AntiVirus Support');?></label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_dkim\" <?php if ($v_dkim == 'yes') echo \"checked=yes\"; ?>><?=_('DKIM Support');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl\" <?php if ($v_ssl == 'yes') echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('ssltable');\"><?=_('SSL Support');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr id=\"ssltable\" style=\"display:<?php if ($v_ssl == 'no' ) { echo 'none';} else {echo 'block';}?> ;\" class=\"step-left\">\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_letsencrypt\" onclick=\"javascript:elementHideShow('ssl-details');App.Actions.MAIL.toggle_letsencrypt(this);\" <?php if($v_letsencrypt == 'yes' || $v_letencrypt == 'on') echo \"checked=yes\" ?>\"><?=_('Lets Encrypt Support');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr id=\"le-warning\" class=\"step-top\">\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"alert alert-info alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php echo $v_webmail_alias;?>\n\t\t\t\t\t\t\t\t\t\t\t\t<?=sprintf(_(\"To enable Let's Encrypt SSL, ensure that DNS records exist for mail.%s and %s!\"), $v_domain, $v_webmail_alias); ?><br />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"ssl-details\" style=\"<?php if ($v_letsencrypt == 'yes' || $v_letsencrypt == 'on') { echo 'display: none;'; } ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span id=\"generate-csr\"> / <a class=\"generate\" target=\"_blank\" href=\"/generate/ssl/?domain=<?=htmlentities($v_domain)?>\"><?=_('Generate CSR');?></a></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" <?php if ($v_letsencrypt == 'yes') echo 'disabled' ?> name=\"v_ssl_crt\"><?=htmlentities(trim($v_ssl_crt, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Key');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" <?php if ($v_letsencrypt == 'yes') echo 'disabled' ?> name=\"v_ssl_key\"><?=htmlentities(trim($v_ssl_key, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate Authority / Intermediate');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" <?php if ($v_letsencrypt == 'yes') echo 'disabled' ?> name=\"v_ssl_ca\"><?=htmlentities(trim($v_ssl_ca, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t<?php if ($v_ssl != 'no' ) { ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table class=\"additional-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SUBJECT');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=htmlentities($v_ssl_subject);?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php if ($v_ssl_aliases){?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('Aliases');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=htmlentities($v_ssl_aliases)?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_BEFORE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=htmlentities($v_ssl_not_before)?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_AFTER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=htmlentities($v_ssl_not_after)?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SIGNATURE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=htmlentities($v_ssl_signature)?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('PUB_KEY');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=htmlentities($v_ssl_pub_key)?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('ISSUER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=htmlentities($v_ssl_issuer)?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<? } // if ssl is enabled ?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_smtp_relay\" <?php if ($v_smtp_relay == 'true') echo \"checked=yes\"; ?> onclick=\"javascript:elementHideShow('smtp_relay_table');\"><?=_('SMTP Relay');?>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_smtp_relay == 'true') {echo 'block';} else {echo 'none';} ?>;\" id=\"smtp_relay_table\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_host\" value=\"<?=htmlentities(trim($v_smtp_relay_host, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Port');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_port\" value=\"<?=htmlentities(trim($v_smtp_relay_port, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_user\" value=\"<?=htmlentities(trim($v_smtp_relay_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_pass\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/mail/?domain=<?=htmlentities(trim($v_domain, \"'\"))?>&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_mail_acc\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"420px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Mail Account');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top input-label\">\n\t\t\t\t\t\t\t\t<?=_('Account');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_email\" value=\"<?=htmlentities($_GET['account']).\"@\".htmlentities($_GET['domain'])?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_account\" value=\"<?=htmlentities(trim($v_account, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\" value=\"<?=htmlentities(trim($v_password, \"'\"))?>\"><br />\n\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Send login credentials to email address') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input\" name=\"v_send_email\" value=\"<?=htmlentities(trim($v_send_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_credentials\" id=\"v_credentials\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t<?=_('Quota');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_quota\" value=\"<?php if (!empty($v_quota)) {echo htmlentities(trim($v_quota, \"'\"));} else { echo \"0\"; } ?>\">\n\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-quota\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t<?=_('Aliases');?> <span class=\"optional\">(<?=_('use local-part');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_aliases\"><?=htmlentities(trim($v_aliases, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" onclick=\"javascript:elementHideShow(' v-fwd-opt');\" id=\"v_blackhole\" name=\"v_blackhole\" <?php if ($v_blackhole == 'yes') echo \"checked=yes\" ?>><?=_('Discard all mail');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr <?php if ($v_blackhole == 'yes') echo 'style=\"display:none\"'; ?> id=\"id_fwd_for\">\n\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" id=\"v_fwd_for\" name=\"v_fwd_only\" <?php if ($v_fwd_only == 'yes') echo \"checked=yes\" ?>><?=_('Do not store forwarded mail');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_autoreply\" <?php if ($v_autoreply == 'yes') echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('autoreplytable');\"><?=_('Autoreply');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_autoreply == 'yes') { echo 'block';} else {echo 'none';}?> ;\" id=\"autoreplytable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Message');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_autoreply_message\"><?=htmlentities(trim($v_autoreply_message, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"v-fwd-opt\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-type input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Forward to');?> <span class=\"optional\">(<?=_('one or more email addresses');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_fwd\" id=\"v_fwd\" <?php if($v_blackhole == 'yes') echo \"disabled\";?>><?=htmlentities(trim($v_fwd, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"mail-infoblock-td\">\n\t\t\t\t\t<div class=\"mail-infoblock\">\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<?php $uname_arr=posix_uname(); $hostname=$uname_arr['nodename']; ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t<select id=\"mail_configuration\" class=\"vst-list flat\">\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"hostname\" domain=\"<?='mail.'.$v_domain?>\"><?=_('Use domain hostname');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"starttls\"><?=_('Use STARTTLS');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"ssl\"><?=_('Use SSL / TLS');?></option>\n\t\t\t\t\t\t\t\t\t\t<option v_type=\"no_encryption\" domain=\"<?=htmlentities(trim('mail.'.$v_domain, \"'\"))?>\" no_encryption=\"<?=_('No encryption');?>\"><?=_('No encryption');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('Username');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><span id=\"v_account\">example</span>@<?=htmlentities(trim($v_domain, \"'\"))?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('Password');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"v_password\">******</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP hostname');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_hostname\">mail.<?=htmlentities($v_domain)?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP port');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_port\">143</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP security');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_imap_encryption\"><?=_('STARTTLS');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('IMAP auth method');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><?=_('Normal password');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP hostname');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_hostname\">mail.<?=htmlentities($v_domain)?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP port');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_port\">587</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP security');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div id=\"td_smtp_encryption\"><?=_('STARTTLS');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><?=_('SMTP auth method');?>:</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div><?=_('Normal password');?></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php if ($_SESSION['WEBMAIL_SYSTEM']) { ?>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><?=_('Webmail URL');?>:</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div><a class=\"vst\" href=\"http://<?=htmlentities($v_webmail_alias)?>\" target=\"_blank\">http://<?=htmlentities($v_webmail_alias)?> <i></i></a></div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/package/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_package\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\t\t\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Package');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Package Name');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_package_new\" value=\"<?=htmlentities(trim($v_package_new, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_package\" value=\"<?=htmlentities(trim($v_package, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Quota');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_disk_quota\" value=\"<?=htmlentities(trim($v_disk_quota, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-disk-quota\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Bandwidth');?> <span class=\"optional\">(<?=_('in megabytes');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_bandwidth\" value=\"<?=htmlentities(trim($v_bandwidth, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-bandwidth\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Backups');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backups\" value=\"<?=htmlentities(trim($v_backups, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('web-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Web');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"web-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_web_domains\" value=\"<?=htmlentities(trim($v_web_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-web-domains\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Aliases');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_web_aliases\" value=\"<?=htmlentities(trim($v_web_aliases, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-web-aliases\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Template')  . \" <span class='optional'> \" .strtoupper($_SESSION['WEB_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_web_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($web_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_web_template)) && ( $value == $v_web_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_web_template)) && ( $value == $_POST['v_web_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND'])) { echo \"\"; ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Backend Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['WEB_BACKEND']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backend_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($backend_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $v_backend_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $_POST['v_backend_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?=\"\"; }?>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['PROXY_SYSTEM'])) { echo \"\"; ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['PROXY_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_proxy_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($proxy_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $v_proxy_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $_POST['v_proxy_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?=\"\"; }?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('dns-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('DNS');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"dns-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['DNS_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_dns_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($dns_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_dns_template)) && ( $value == $v_dns_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_dns_template)) && ( $value == $_POST['v_dns_template'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dns_domains\" value=\"<?=htmlentities(trim($v_dns_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-dns-domain\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS records');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dns_records\" value=\"<?=htmlentities(trim($v_dns_records, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-dns-records\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if ((isset($_SESSION['DNS_SYSTEM'])) && (!empty($_SESSION['DNS_SYSTEM']))) {?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Name Servers');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns1\" value=\"<?=htmlentities(trim($v_ns1, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns2\" value=\"<?=htmlentities(trim($v_ns2, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php \n\t\t\t\t\t\t\t\t\t\t\tif($v_ns3) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns3\" value=\"'.htmlentities(trim($v_ns3, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns4) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns4\" value=\"'.htmlentities(trim($v_ns4, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns5) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns5\" value=\"'.htmlentities(trim($v_ns5, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns6) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns6\" value=\"'.htmlentities(trim($v_ns6, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns7) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns7\" value=\"'.htmlentities(trim($v_ns7, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif($v_ns8) {\n\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns8\" value=\"'.htmlentities(trim($v_ns8, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns\"><i class=\"fas fa-trash status-icon dim red\"></i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"add-ns\" <?php if ($v_ns8) echo 'style=\"display:none;\"' ; ?> >\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-top-small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"add-ns-button additional-control add\"><?=_('Add one more Name Server');?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('mail-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Mail');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"mail-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Mail Domains');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mail_domains\" value=\"<?=htmlentities(trim($v_mail_domains, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-mail-domains\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Mail Accounts');?> <span class=\"optional\">(<?=_('per domain');?>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mail_accounts\" value=\"<?=htmlentities(trim($v_mail_accounts, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-mail-accounts\"></i>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('database-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('Databases');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"database-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Databases');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_databases\" value=\"<?=htmlentities(trim($v_databases, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-databases\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('system-options',this)\">\n\t\t\t\t\t\t\t\t<?=_('System');?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"system-options\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Cron Jobs');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_cron_jobs\" value=\"<?=htmlentities(trim($v_cron_jobs, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"unlim-trigger fas fa-infinity\" title=\"<?=_('Unlimited');?>\" id=\"unlim-cron-jobs\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSH Access');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_shell\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($shells as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_shell)) && ( $value == $v_shell)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_shell)) && ( $value == $_POST['v_shell'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<a href=\"/list/ip/\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-ethernet status-icon blue\"></i><?=_('IP');?></a>\n\t\t\t<?php if ((isset($_SESSION['FIREWALL_SYSTEM'])) && (!empty($_SESSION['FIREWALL_SYSTEM']))) {?>\n\t\t\t\t<a href=\"/list/firewall/\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-shield-alt status-icon red\"></i><?=_('Firewall');?></a>\n\t\t\t<?php }?>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<!-- Basic options tab -->\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('basic');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-cog\"></i><b><?=_('Basic options');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"basic\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Hostname');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_hostname\" value=\"<?=htmlentities(trim($v_hostname, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Time Zone');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_timezone\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($v_timezones as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$key.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_timezone)) && ( $key == $v_timezone)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_timezone)) && ( $key == $_POST['v_timezone'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".$value.\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Theme');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_theme\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($theme as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($_SESSION['THEME'])) && ( $value == $_SESSION['THEME'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($_SESSION['THEME'])) && ( $value == $_POST['v_theme'])){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".$value.\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_policy_user_change_theme\" <?php if ((isset($_SESSION['POLICY_USER_CHANGE_THEME'])) && (!empty($_SESSION['POLICY_USER_CHANGE_THEME'])) && ($_SESSION['POLICY_USER_CHANGE_THEME'] == \"no\")) echo \"checked=yes\" ?>><?=_('Set as selected theme for all users');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Default Language');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_language\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($languages as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".$key.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( $key == $v_language ){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (( $key == $_SESSION['LANGUAGE'] && (empty($v_language)) )) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_language_update\"><?=_('Set as default language for all users');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<!-- Updates tab -->\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('version');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-code-branch\"></i><b><?=_('Updates');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"version\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Version'); ?>: <span class=\"optional\"><?=$_SESSION['VERSION'];?></span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['RELEASE_BRANCH'] !== 'release') {?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Release'); ?>: <span class=\"optional\"><?=$_SESSION['RELEASE_BRANCH'];?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Options'); ?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_debug_mode\" <?php if ((isset($_SESSION['DEBUG_MODE'])) && (!empty($_SESSION['DEBUG_MODE'])) && ($_SESSION['DEBUG_MODE'] == \"true\")) echo \"checked=yes\" ?>><?=_('Enable debug mode');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_experimental_features\" <?php if ((isset($_SESSION['POLICY_SYSTEM_ENABLE_BACON'])) && (!empty($_SESSION['POLICY_SYSTEM_ENABLE_BACON'])) && ($_SESSION['POLICY_SYSTEM_ENABLE_BACON'] == \"true\")) echo \"checked=yes\" ?>><?=_('Enable preview features');?></label> <span class=\"hint\">(<a href=\"/list/server/preview/\"><?=_('View');?></a>)</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_upgrade_send_notification_email\" <?php if ((isset($_SESSION['UPGRADE_SEND_EMAIL'])) && (!empty($_SESSION['UPGRADE_SEND_EMAIL'])) && ($_SESSION['UPGRADE_SEND_EMAIL'] == \"true\")) echo \"checked=yes\" ?>><?=_('SYSTEM_UPGRADE_SEND_NOTIFICATION_EMAIL');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_upgrade_send_email_log\" <?php if ((isset($_SESSION['UPGRADE_SEND_EMAIL_LOG'])) && (!empty($_SESSION['UPGRADE_SEND_EMAIL_LOG'])) && ($_SESSION['UPGRADE_SEND_EMAIL_LOG'] == \"true\")) echo \"checked=yes\" ?>><?=_('SYSTEM_UPGRADE_SEND_EMAIL_LOG');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<!-- Web Server tab -->\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('web');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-globe-americas\"></i><b><?=_('Web Server');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"web\" class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['PROXY_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Server');?>: <span class=\"optional\"><?=$_SESSION['PROXY_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['PROXY_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Server');?>: <span class=\"optional\"><?=$_SESSION['WEB_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['WEB_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND'])) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Backend Server');?>: <span class=\"optional\"><?=$_SESSION['WEB_BACKEND']; ?> <a href=\"/edit/server/<? echo $_SESSION['WEB_BACKEND'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND_POOL'])) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Backend Pool Mode');?>: <span class=\"optional\"><?=$_SESSION['WEB_BACKEND_POOL']; ?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php if(count($v_php_versions)): ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Enabled multi PHP versions');?>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"alert alert-info alert-with-icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-info\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Please wait while php is installed or removed');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php foreach($v_php_versions as $php_version): ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$php_version->installed?'checked':''; ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$php_version->protected?'disabled':''; ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"<?=$php_version->name?>\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"v_php_versions[<?=$php_version->tpl?>]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"<?=$php_version->name?>\"><?=$php_version->name?></label>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<?php foreach($php_version->usedby as $wd_user => $wd_domains ): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach($wd_domains as $wd_domain ): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"border: 1px lightgrey; padding:0 10px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-user\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$wd_user;?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"optional\" style=\"float:right\"><?=$wd_domain;?></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t<?php endif; ?>\n\t\t\t\t\t\t\t\t\t<?php if(!empty($_SESSION['WEB_BACKEND'])){\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('System PHP version');?></span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_php_default_version\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach($v_php_versions as $php_version){\n\t\t\t\t\t\t\t\t\t\t\t\tif($php_version -> installed){\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=$php_version->version; ?>\" <?php if($php_version->name == DEFAULT_PHP_VERSION){ echo \"selected\" ;}?> ><?=$php_version->name; ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\t\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<!-- DNS Server tab -->\n\t\t\t\t\t\t<?php if (!empty($_SESSION['DNS_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('dns');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-atlas\"></i><b><?=_('DNS Server');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"dns\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS Server');?>: <span class=\"optional\"><?=$_SESSION['DNS_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['DNS_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('DNS Cluster');?>: <span class=\"optional\"><?php if ($v_dns_cluster == 'yes') { echo _('Yes'); } else { echo _('No'); } ?></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php if ($v_dns_cluster == 'yes') {\n\t\t\t\t\t\t\t\t\t\t\t$i = 0;\n\t\t\t\t\t\t\t\t\t\t\tforeach ($dns_cluster as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t$i++;\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host'). ' #'.$i  ?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_dns_remote_host\" value=\"<?=$key; ?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } } ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td><br></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<!-- Mail Server tab -->\n\t\t\t\t\t\t<?php if ((!empty($_SESSION['MAIL_SYSTEM']))) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('mail');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-mail-bulk\"></i><b><?=_('Mail Server');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_mail_adv)) echo 'none';?> ;\" id=\"mail\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Mail Server');?>: <span class=\"optional\"><?=$_SESSION['MAIL_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['MAIL_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTIVIRUS_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Antivirus');?>: <span class=\"optional\"><?=$_SESSION['ANTIVIRUS_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['ANTIVIRUS_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['ANTISPAM_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('AntiSpam');?>: <span class=\"optional\"><?=$_SESSION['ANTISPAM_SYSTEM']; ?> <a href=\"/edit/server/<? echo $_SESSION['ANTISPAM_SYSTEM'] ?>/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php if($_SESSION['WEBMAIL_SYSTEM']){?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Webmail URL');?> <span class=\"hint\">(<?=$_SESSION['WEBMAIL_ALIAS'];?>.example.com)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_webmail_alias\" value=\"<?=$_SESSION['WEBMAIL_ALIAS']; ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_smtp_relay\" <?php if ($v_smtp_relay == 'true') echo \"checked=yes\"; ?> onclick=\"javascript:elementHideShow('smtp_relay_table');\"><?=_('Global SMTP Relay');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_smtp_relay == 'true') {echo 'block';} else {echo 'none';} ?>;\" id=\"smtp_relay_table\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_host\" value=\"<?=htmlentities(trim($v_smtp_relay_host, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Port');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_port\" value=\"<?=htmlentities(trim($v_smtp_relay_port, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_smtp_relay_user\" value=\"<?=htmlentities(trim($v_smtp_relay_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_smtp_relay_pass\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<!-- Databases tab -->\n\t\t\t\t\t\t<?php if (!empty($_SESSION['DB_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('db');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-database\"></i><b><?=_('Databases');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_db_adv)) echo 'none';?> ;\" id=\"db\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('MySQL Support');?> <a href=\"/edit/server/mysql/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_mysql\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($v_mysql == 'yes') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t<!-- MySQL / MariaDB Options-->\n\t\t\t\t\t\t\t\t\t\t<?php if ($v_mysql == 'yes') { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('phpMyAdmin URL');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mysql_url\" value=\"<?=$_SESSION['DB_PMA_ALIAS']; ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('phpMyAdmin Single Sign On');?><span class=\"hint\">(<a href=\"https://docs.hestiacp.com/admin_docs/database/phpmyadmin-sso.html\" target=\"_blank\"><?=_('More info');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_phpmyadmin_key\" <?php if ($_SESSION['API'] != 'yes'){ echo \"disabled\"; }?>>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('Disabled'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_POST['v_phpmyadmin_key'] == \"yes\" || $_SESSION['PHPMYADMIN_KEY'] != ''){ echo 'selected=\"selected\"'; }; ?>><?=_('Enabled'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php if ($v_mysql == 'yes') {\n\t\t\t\t\t\t\t\t\t\t\t$i = 0;\n\t\t\t\t\t\t\t\t\t\t\tforeach ($v_mysql_hosts as $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t$i++;\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host'). ' #'.$i  ?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mysql_host\" value=\"<?=$value['HOST']?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_mysql_password\" value=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Maximum Number Of Databases');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mysql_max\" value=\"<?=$value['MAX_DB']; ?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Current Number Of Databases');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_mysql_max\" value=\"<?=$value['U_DB_BASES']; ?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php }} ?>\n\n\t\t\t\t\t\t\t\t\t\t<!-- PostgreSQL Options-->\n\t\t\t\t\t\t\t\t\t\t<?php if ($v_pgsql == 'yes') { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('PostgreSQL Support');?> <a href=\"/edit/server/postgresql/\"><i class=\"fas fa-pencil-alt status-icon orange icon-pad-right\"></i></a>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_pgsql\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($v_pgsql == 'yes') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('phpPgAdmin URL');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_pgsql_url\" value=\"<?=$_SESSION['DB_PGA_ALIAS']; ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php if ($v_pgsql == 'yes') {\n\t\t\t\t\t\t\t\t\t\t\t$i = 0;\n\t\t\t\t\t\t\t\t\t\t\tforeach ($v_pgsql_hosts as $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t$i++;\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host'). ' #'.$i  ?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_pgsql_host\" value=\"<?=$value['HOST']?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Maximum Number Of Databases');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_psql_max\" value=\"<?=$value['MAX_DB']; ?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Current Number Of Databases');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_pgsql_max\" value=\"<?=$value['U_DB_BASES']; ?>\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br><br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php }} ?>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('backup');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo\"></i><b><?=_('Backups');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"<?php if (empty($v_backup_adv)) echo 'display:none';?> ;\" id=\"backup\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Local backup');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backup\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($v_backup == 'yes') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Compression');?> <a target=\"_blank\" href=\"http://docs.hestiacp.com/admin_docs/backups.html#what-is-the-difference-between-zstd-and-gzip\"><i class=\"fas fa-question-circle\"></i></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backup_mode\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='gzip' <?php if($v_backup_mode != 'zstd') echo 'selected' ?>>gzip</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='zstd' <?php if($v_backup_mode == 'zstd') echo 'selected' ?>>zstd</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Compression level');?> <a target=\"_blank\" href=\"http://docs.hestiacp.com/admin_docs/backups.html#what-is-the-optimal-compression-ratio\"><i class=\"fas fa-question-circle\"></i></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backup_gzip\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php for ($level = 1; $level < 20; $level++) { ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='<?=$level;?>' <?php if($v_backup_gzip == $level) echo 'selected' ?>><?=$level;?><?php if($level > 9){ echo sprintf(' (%s)', _('zstd only')); } ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Directory');?> <a target=\"_blank\" href=\"https://docs.hestiacp.com/admin_docs/backups.html#how-to-change-default-backup-folder\"><i class=\"fas fa-question-circle\"></i></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_dir\" value=\"<?=trim($v_backup_dir, \"'\")?>\" disabled=\"disabled\">\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_backup_remote_adv\" <?php if (!empty($v_backup_remote_adv)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('remote_backup');\"><?=_('Remote backup');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_backup_remote_adv)) echo 'none';?> ;\" id=\"remote_backup\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Protocol');?> <a target=\"_blank\" href=\"http://docs.hestiacp.com/admin_docs/backups.html#what-kind-of-protocols-are-currently-supported\"><i class=\"fas fa-question-circle\"></i></a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backup_type\" id=\"backup_type\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='ftp'><?=_('ftp'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='sftp' <?php if((!empty($v_backup_type)) && (trim($v_backup_type,\"'\")  == 'sftp' )) echo 'selected=\"selected\"'; ?>><?=_('sftp'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"b2\" <?php if((!empty($v_backup_type)) && (trim($v_backup_type,\"'\")  == 'b2' )) echo 'selected=\"selected\"'; ?>><?=_('Backblaze'); ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\"display: <?php if ((!empty($v_backup_type)) && !in_array(trim($v_backup_type, \"'\"),array('ftp','sftp'))){ echo 'none';} else {echo 'block';} ?>\" id=\"backup_sftp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Host');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_host\" value=\"<?=trim($v_backup_host, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Port');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_port\" value=\"<?=trim($v_backup_port, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_username\" value=\"<?=trim($v_backup_username, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_backup_password\" value=\"<?=trim($v_backup_password, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Directory');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_bpath\" value=\"<?=trim($v_backup_bpath, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr style=\"display: <?php if ((empty($v_backup_type)) || !in_array(trim($v_backup_type, \"'\"),array('b2'))){ echo 'none';} else {echo 'block';} ?>\" id=\"backup_bucket\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Bucket');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_bucket\" value=\"<?=trim($v_backup_bucket, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Application ID');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_application_id\" value=\"<?=trim($v_backup_application_id, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Application Key');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_backup_application_key\" value=\"<?=trim($v_backup_application_key, \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('ssl');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-lock\"></i><b><?=_('Hestia SSL');?><img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"ssl\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate');?>\n\t\t\t\t\t\t\t\t\t\t\t<span id=\"generate-csr\"> / <a class=\"generate\" target=\"_blank\" href=\"/generate/ssl/?domain=<?=$v_hostname?>\"><?=_('Generate CSR');?></a></span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_crt\"><?=htmlentities(trim($v_ssl_crt, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Key');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_key\"><?=htmlentities(trim($v_ssl_key, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table class=\"additional-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SUBJECT');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_subject?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php if ($v_ssl_aliases){?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('Aliases');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_aliases?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_BEFORE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_not_before?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_AFTER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_not_after?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SIGNATURE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_signature?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('PUB_KEY');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_pub_key?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('ISSUER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_issuer?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('security');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-key\"></i><b><?=_('Security');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"<?php if (empty($v_security_adv)) echo 'display:none;';?>\" id=\"security\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('security-system-table',this);\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('System');?>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"security-system-table\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\" style=\"font-size:1rem;padding-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('API');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Enable API access');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_api\" id=\"api\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['API'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table id=\"security_ip\" style=\"<?php if ($_SESSION['API'] == \"no\") echo 'display:none;';?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allowed IP addresses for API');?> <span class=\"optional\" style=\"float:right\">1 IP address per line</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_api_allowed_ip\"><?php \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach(explode(',',$_SESSION['API_ALLOWED_IP']) as $ip ){ \n                                                                            echo trim($ip).\"\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\" style=\"font-size:1rem;padding-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Login');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Login screen style');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_login_style\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='default'><?=_('Default'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='old' <?php if($_SESSION['LOGIN_STYLE'] == 'old') echo 'selected' ?>><?=_('Old Style'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to reset their passwords');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_system_password_reset\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_SYSTEM_PASSWORD_RESET'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Inactive session timeout');?> (<?=_('Minutes');?>)\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_inactive_session_timeout\" value=\"<?=trim($_SESSION['INACTIVE_SESSION_TIMEOUT'], \"'\")?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Prevent CSRF');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_csrf_strictness\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"0\"  <?php if($_SESSION['POLICY_CSRF_STRICTNESS'] == '0') echo 'selected' ?>><?=_('Disabled');?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"1\"  <?php if($_SESSION['POLICY_CSRF_STRICTNESS'] == '1') echo 'selected' ?>><?=_('Enabled');?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"2\"  <?php if($_SESSION['POLICY_CSRF_STRICTNESS'] == '2') echo 'selected' ?>><?=_('Strict');?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === \"admin\") && ($_SESSION['user'] === 'admin')) {?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('security-sysadminprotect-table',this);\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('System Protection');?>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<table id=\"security-sysadminprotect-table\" class=\"step-top\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\" style=\"font-size:1rem;padding-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('System Administrator account');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Restrict access to read-only for other administrators');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_system_protected_admin\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_SYSTEM_PROTECTED_ADMIN'] !== 'yes') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Hide account from other administrators');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_system_hide_admin\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_SYSTEM_HIDE_ADMIN'] !== 'yes') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Do not allow other administrators to access Server Settings');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_system_hide_services\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_SYSTEM_HIDE_SERVICES'] !== 'yes') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"section-title\" onclick=\"javascript:elementHideShow('security-policies-table',this);\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Policies');?>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-plus-square status-icon dim maroon section-hide-button\"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"security-policies-table\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\" style=\"font-size:1rem;padding-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Users');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['POLICY_SYSTEM_ENABLE_BACON'] === 'true') { ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow suspended users to log in with read-only access');?> <span class=\"hint\">(<?=_('Preview');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_view_suspended\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_VIEW_SUSPENDED'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_VIEW_SUSPENDED'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to edit their account details');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_edit_details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_EDIT_DETAILS'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_EDIT_DETAILS'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to change templates when editing web domains');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_edit_web_templates\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_EDIT_WEB_TEMPLATES'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_EDIT_WEB_TEMPLATES'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to change templates when editing DNS zones');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_edit_dns_templates\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_EDIT_DNS_TEMPLATES'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_EDIT_DNS_TEMPLATES'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to view action and login history logs');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_view_logs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_VIEW_LOGS'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_VIEW_LOGS'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Allow users to delete log history');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_policy_user_delete_logs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['POLICY_USER_DELETE_LOGS'] !== 'no') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['POLICY_USER_DELETE_LOGS'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\" style=\"font-size:1rem;padding-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Domains');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Enforce subdomain ownership');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_enforce_subdomain_ownership\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes'><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='no' <?php if($_SESSION['ENFORCE_SUBDOMAIN_OWNERSHIP'] == 'no') echo 'selected' ?>><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top advanced-options\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('hestia');\" class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-puzzle-piece\"></i><b><?=_('Hestia Control Panel Plugins');?> <img src=\"/images/arrow.png\"></b>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"hestia\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Quick App Installer');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_plugin_app_installer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='false'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='true' <?php if($_SESSION['PLUGIN_APP_INSTALLER'] == 'true') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Filemanager');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_filemanager\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='false'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='true' <?php if($_SESSION['FILE_MANAGER'] == 'true') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('FileSystem Disk Quota');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_quota\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['DISK_QUOTA'] == 'yes') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Firewall');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_firewall\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='no'><?=_('No'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='yes' <?php if($_SESSION['FIREWALL_SYSTEM'] == 'iptables') echo 'selected' ?>><?=_('Yes'); ?></option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>\n", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_options_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_options\"><?=$v_options;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if (!empty($v_config_path1)) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path1;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config1\"><?=$v_config1?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path2;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config2\"><?=$v_config2?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path3;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config3\"><?=$v_config3?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path4;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config4\"><?=$v_config4?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path5;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config5\"><?=$v_config5?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path6;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config6\"><?=$v_config6?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path7;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config7\"><?=$v_config7?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t\t<?=$v_config_path8;?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config8\"><?=$v_config8?></textarea>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<a href=\"/edit/server/php/\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-pencil-alt status-icon orange\"></i><?=_('Configure');?> PHP</a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr class=\"step-top\">\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" id=\"basic-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\tmax_connections\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"max_connections\" prev_value=\"<?=htmlentities($v_max_connections)?>\" name=\"v_max_connections\" value=\"<?=htmlentities($v_max_connections)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tmax_user_connections\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"max_user_connections\" prev_value=\"<?=htmlentities($v_max_user_connections)?>\" name=\"v_max_user_connections\" value=\"<?=htmlentities($v_max_user_connections)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\twait_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"wait_timeout\" prev_value=\"<?=htmlentities($v_wait_timeout)?>\" name=\"v_wait_timeout\" value=\"<?=htmlentities($v_wait_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tinteractive_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"interactive_timeout\" prev_value=\"<?=htmlentities($v_interactive_timeout)?>\" name=\"v_interactive_timeout\" value=\"<?=htmlentities($v_interactive_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tmax_allowed_packet\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"max_allowed_packet\" prev_value=\"<?=htmlentities($v_max_allowed_packet)?>\" name=\"v_display_errors\" value=\"<?=htmlentities($v_max_allowed_packet)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"advanced-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Basic options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<a href=\"/edit/server/php/\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-pencil-alt status-icon orange\"></i> <?=_('Configure');?> PHP</a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" id=\"basic-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\tworker_processes\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"worker_processes\" prev_value=\"<?=htmlentities($v_worker_processes)?>\" name=\"v_worker_processes\" value=\"<?=htmlentities($v_worker_processes)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tworker_connections\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"worker_connections\" prev_value=\"<?=htmlentities($v_worker_connections)?>\" name=\"v_worker_connections\" value=\"<?=htmlentities($v_worker_connections)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tclient_max_body_size\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"client_max_body_size\" prev_value=\"<?=htmlentities($v_client_max_body_size)?>\" name=\"v_client_max_body_size\" value=\"<?=htmlentities($v_client_max_body_size)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tsend_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"send_timeout\" prev_value=\"<?=htmlentities($v_send_timeout)?>\" name=\"v_send_timeout\" value=\"<?=htmlentities($v_send_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tproxy_connect_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"proxy_connect_timeout\" prev_value=\"<?=htmlentities($v_proxy_connect_timeout)?>\" name=\"v_proxy_connect_timeout\" value=\"<?=htmlentities($v_proxy_connect_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tproxy_send_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"proxy_send_timeout\" prev_value=\"<?=htmlentities($v_proxy_send_timeout)?>\" name=\"v_proxy_send_timeout\" value=\"<?=htmlentities($v_proxy_send_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tproxy_read_timeout\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"proxy_read_timeout\" prev_value=\"<?=htmlentities($v_proxy_read_timeout)?>\" name=\"v_proxy_read_timeout\" value=\"<?=htmlentities($v_proxy_read_timeout)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tgzip\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"gzip\" prev_value=\"<?=htmlentities($v_gzip)?>\" name=\"v_gzip\" value=\"<?=htmlentities($v_gzip)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tgzip_comp_level\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"gzip_comp_level\" prev_value=\"<?=htmlentities($v_gzip_comp_level)?>\" name=\"v_gzip_comp_level\" value=\"<?=htmlentities($v_gzip_comp_level)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tcharset\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"charset\" prev_value=\"<?=htmlentities($v_charset)?>\" name=\"v_charset\" value=\"<?=htmlentities($v_charset)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"advanced-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Basic options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" id=\"basic-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_options_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_options\"><?=$v_options;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" id=\"basic-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: PHP</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\tmax_execution_time\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"max_execution_time\" prev_value=\"<?=htmlentities($v_max_execution_time)?>\" name=\"v_max_execution_time\" value=\"<?=htmlentities($v_max_execution_time)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tmax_input_time\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"max_input_time\" prev_value=\"<?=htmlentities($v_max_input_time)?>\" name=\"v_worker_connections\" value=\"<?=htmlentities($v_max_input_time)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tmemory_limit\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"memory_limit\" prev_value=\"<?=htmlentities($v_memory_limit)?>\" name=\"v_memory_limit\" value=\"<?=htmlentities($v_memory_limit)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\terror_reporting\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"error_reporting\" prev_value=\"<?=htmlentities($v_error_reporting)?>\" name=\"v_error_reporting\" value=\"<?=htmlentities($v_error_reporting)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tdisplay_errors\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"display_errors\" prev_value=\"<?=htmlentities($v_display_errors)?>\" name=\"v_display_errors\" value=\"<?=htmlentities($v_display_errors)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tpost_max_size\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"post_max_size\" prev_value=\"<?=htmlentities($v_post_max_size)?>\" name=\"v_post_max_size\" value=\"<?=htmlentities($v_post_max_size)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\tupload_max_filesize\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" regexp=\"upload_max_filesize\" prev_value=\"<?=htmlentities($v_upload_max_filesize)?>\" name=\"v_upload_max_filesize\" value=\"<?=htmlentities($v_upload_max_filesize)?>\">\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\" style=\"display:<?php if (empty($v_adv)) echo 'none';?> ;\" id=\"advanced-options\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:toggleOptions();\" class=\"vst-advanced\"><?=_('Basic options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/server/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_configure_server\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class=\"data mode-add\">\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<table class=\"data-col2\" width=\"600px\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Configuring Server');?>: <?=$v_service_name;?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=$v_config_path;?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea class=\"vst-textinput console\" name=\"v_config\"><?=$v_config;?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\" style=\"text-transform: capitalize;\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_restart\" checked=\"yes\"><?=_('restart');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/user/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<?php \n\t\t\t\tif (($_SESSION['userContext'] === 'admin') && (!isset($_SESSION['look'])) && ($_SESSION['user'] !== $v_username)) {\n\t\t\t\t\t$ssh_key_url = \"/list/key/?user=\".htmlentities($user).\"&token=\".$_SESSION['token'].\"\";\n\t\t\t\t\t$log_url = \"/list/log/?user=\".htmlentities($user).\"&token=\".$_SESSION['token'].\"\";\n\t\t\t\t} else {\n\t\t\t\t\t$ssh_key_url = \"/list/key/\";\n\t\t\t\t\t$log_url = \"/list/log/\";\n\t\t\t\t} \n\t\t\t?>\n\t\t\t<a href=\"<?=$ssh_key_url; ?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\" title=\"<?=_('Manage SSH keys');?>\"><i class=\"fas fa-key status-icon orange\"></i><?=_('Manage SSH keys');?></a>\n\t\t\t<?php if (($_SESSION['userContext'] == 'admin') || ($_SESSION['userContext'] !== 'admin') && ($_SESSION['POLICY_USER_VIEW_LOGS'] !== 'no')) {?>\n\t\t\t\t<a href=\"<?=$log_url; ?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\" title=\"<?=_('Logs');?>\"><i class=\"fas fa-history status-icon maroon\"></i><?=_('Logs');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t<?php if (($_SESSION['user'] == $v_username) || (isset($_SESSION['look']))) {?>\n\t\t\t\t<!-- Do not show delete button for currently logged in user-->\n\t\t\t<?} else {?>\n\t\t\t\t<a href=\"/login/?loginas=<?=htmlentities($v_username)?>&token=<?=$_SESSION['token']?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\" title=\"<?=_('login as');?>\"><i class=\"fas fa-sign-in-alt status-icon maroon\"></i><?=_('login as');?></a>\n\t\t\t\t<div class=\"display-inline-block\" key-action=\"js\">\n\t\t\t\t\t<a class=\"data-controls do_delete ui-button danger cancel\">\n\t\t\t\t\t\t<i class=\"do_delete fas fa-times-circle status-icon red\"></i>\n\t\t\t\t\t\t<?=_('Delete');?>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/user/?user=<?=htmlentities($v_username)?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t<div class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_USER_CONFIRMATION'),htmlentities($v_username))?></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t<?php } ?>\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i> <?=_('Save');?></a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" method=\"post\" name=\"v_edit_user\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing User');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_user\" value=\"<?=htmlentities(trim($v_username, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_username\" value=\"<?=htmlentities(trim($v_username, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Contact');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_name\" value=\"<?=htmlentities(trim($v_name, \"'\"))?>\" <?php if (($_SESSION['userContext'] !=='admin' ) && ($_SESSION['POLICY_USER_EDIT_DETAILS'] !=='yes' )) { echo 'disabled' ; }?> >\n\t\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] !== 'admin') && ($_SESSION['POLICY_USER_EDIT_DETAILS'] !== 'yes')) {?>\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_name\" value=\"<?=htmlentities(trim($v_name, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Email');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_email\" value=\"<?=htmlentities(trim($v_email, \"'\"))?>\" <?php if (($_SESSION['userContext'] !=='admin' ) && ($_SESSION['POLICY_USER_EDIT_DETAILS'] !=='yes' )) { echo 'disabled' ; }?>>\n\t\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] !== 'admin') && ($_SESSION['POLICY_USER_EDIT_DETAILS'] !== 'yes')) {?>\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_email\" value=\"<?=htmlentities(trim($v_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Password');?> <a href=\"javascript:randomString();\" title=\"<?=_('generate');?>\"><i class=\"fas fa-sync status-icon green icon-large\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_password\" value=\"<?=htmlentities(trim($v_password, \"'\"))?>\"><br />\n\t\t\t\t\t\t\t\t<meter max=\"4\" id=\"meter\"></meter>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<table id=\"password-details\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Your password must have at least');?>:\n\t\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t<li><?=_('8 characters long');?></li>\n\t\t\t\t\t\t\t\t\t\t\t\t<li><?=_('1 uppercase & 1 lowercase character');?></li>\n\t\t\t\t\t\t\t\t\t\t\t\t<li><?=_('1 number');?></li>\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" onclick=\"javascript:elementHideShow('password-options');elementHideShow('password-options-ip');\" name=\"v_login_disabled\" <?php if ($data[$user]['LOGIN_DISABLED'] == \"yes\") echo \"checked=yes\" ?>><?=_('Do not allow user to log in to Control Panel');?></label>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td id=\"password-options\" style=\"<?php if ($data[$user]['LOGIN_DISABLED'] == \"yes\") { echo 'display: none;'; } else { echo 'display: table-cell;'; }?>\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" class=\"vst-checkbox password-option\" name=\"v_twofa\" <?php if(!empty($v_twofa)) echo \"checked=yes\" ?>><?=_('Enable 2FA');?></label>\n\t\t\t\t\t\t\t\t\t\t\t<?php if (!empty($v_twofa)) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<p><?=_('2FA Reset Code:').' '.$v_twofa; ?></br></p>\n\t\t\t\t\t\t\t\t\t\t\t<p><?=_('Please scan the code below in your 2FA application:'); ?></p>\n\t\t\t\t\t\t\t\t\t\t\t<div><img class=\"qr-code\" src=\"<?=htmlentities($v_qrcode); ?>\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td id=\"password-options-ip\" style=\"<?php if ($data[$user]['LOGIN_DISABLED'] == \"yes\") { echo 'display: none;'; } else { echo 'display: table-cell;'; }?>\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" onclick=\"javascript:elementHideShow('ip-allowlist')\" name=\"v_login_use_iplist\" <?php if ($data[$user]['LOGIN_USE_IPLIST'] === \"yes\") echo \"checked=yes\" ?>><?=_('Use IP address allow list for login attempts');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"ip-allowlist\" style=\"<?php if ($data[$user]['LOGIN_USE_IPLIST'] === 'yes') { echo 'display: table-cell;'; } else { echo 'display: none;'; } ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" placeholder=\"<?=_('Example: 127.0.0.1,192.168.1.100');?>\" name=\"v_login_allowed_ips\" value=\"<?=htmlentities(trim($v_login_allowed_ips, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Language');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_language\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($languages as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".$key.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t$skey = \"'\".$key.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\tif (( $key == $v_language ) || ( $skey == $v_language)){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif (( $key == detect_user_language() ) && (empty($v_language))){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if ($v_username == 'admin') {?>\n\t\t\t\t\t\t\t<!-- Hide option to change 'admin' user's role-->\n\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === 'admin') && ($_SESSION['user'] != $v_username)) {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Role');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_role\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"user\"><?=_('User');?>\n\t\t\t\t\t\t\t\t\t\t<option value=\"admin\" <?php if($v_role == \"admin\" ){ echo \"selected\"; } ?>><?=_('Administrator');?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if ($_SESSION['POLICY_USER_CHANGE_THEME'] !== 'no') {?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Theme') ?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_user_theme\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($themes as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif ((!empty($_SESSION['userTheme'])) && ( $value == $v_user_theme )) {\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_user_theme) && (!empty($_SESSION['THEME']))) && ( $value == $_SESSION['THEME'] )) {\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif ((!empty($_SESSION['userTheme'])) && ( $value == $_POST['v_user_theme'])){\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\techo \">\".$value.\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if ($_GET['user'] === $_SESSION['user']) { ?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t<?=_('Default list sort order');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_sort_order\">\n\t\t\t\t\t\t\t\t\t\t<option value='date' <?php if($_SESSION['userSortOrder'] === 'date') echo 'selected' ?>><?=_('Date'); ?></option>\n\t\t\t\t\t\t\t\t\t\t<option value='name' <?php if($_SESSION['userSortOrder'] === 'name') echo 'selected' ?>><?=_('Name'); ?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t<?=_('Package');?>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_package\">\n\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\tforeach ($packages as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"\".htmlentities($key).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t$skey = \"'\".$key.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\tif (( $key == $v_package ) || ( $skey == $v_package)){\n\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($key).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top vst-text\" style=\"/*padding: 32px 0 20px 0;*/\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advanced-opts');\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t\t<table id=\"advanced-opts\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSH Access');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_shell\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($shells as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (( $value == $v_shell ) || ($svalue == $v_shell )){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo 'selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('PHP CLI Version');?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_phpcli\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($php_versions as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$php = explode('-',$value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_phpcli)) && ( $value == $v_phpcli ) || ($svalue == $v_phpcli)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_phpcli)) && ($value == DEFAULT_PHP_VERSION)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php if ((isset($_SESSION['DNS_SYSTEM'])) && (!empty($_SESSION['DNS_SYSTEM']))) {?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Default Name Servers');?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns1\" value=\"<?=htmlentities(trim($v_ns1, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\"><?=_('delete');?></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns2\" value=\"<?=htmlentities(trim($v_ns2, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\"><?=_('delete');?></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns3) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns3\" value=\"'.htmlentities(trim($v_ns3, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns4) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns4\" value=\"'.htmlentities(trim($v_ns4, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns5) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns5\" value=\"'.htmlentities(trim($v_ns5, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns6) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns6\" value=\"'.htmlentities(trim($v_ns6, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns7) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns7\" value=\"'.htmlentities(trim($v_ns7, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif($v_ns8) {\n\t\t\t\t\t\t\t\t\t\t\t\t\techo '<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_ns8\" value=\"'.htmlentities(trim($v_ns8, \"'\")).'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"remove-ns additional-control delete vst-advanced button danger\">'._('delete').'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t<tr class=\"add-ns\" <?php if ($v_ns8) echo 'style=\"display:none;\"' ; ?> >\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-top-small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"add-ns-button vst-advanced button\"><?=_('Add one more Name Server');?></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<?php if ($_SESSION['userContext'] !== 'admin') {?>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/web/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<a href=\"/delete/web/cache/?domain=<?=htmlentities($v_domain);?>&token=<?=$_SESSION['token'];?>\" class=\"ui-button cancel <?php if ( $v_nginx_cache == 'yes' || ($v_proxy_template == 'caching' && $_SESSION['PROXY_SYSTEM'] == 'nginx')) { echo \"block\"; } else{ echo \"hidden\"; }?>\" id=\"v-clear-cache\">\n\t\t\t\t<i class=\"fas fa-trash status-icon red\"></i><?=_('Purge Nginx Cache');?>\n\t\t\t</a>\n\t\t\t<?php if ($_SESSION['PLUGIN_APP_INSTALLER'] !== 'false') {?>\n\t\t\t\t<a href=\"/add/webapp/?domain=<?=htmlentities($v_domain);?>\" class=\"ui-button cancel\" dir=\"ltr\">\n\t\t\t\t\t<i class=\"fas fa-magic status-icon blue\"></i> <?=_('Quick Install App');?>\n\t\t\t\t</a>\n\t\t\t<?php } ?>\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i><?=_('Save');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_edit_web\" method=\"post\" class=\"<?=$v_status?>\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"save\" value=\"save\" />\n\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Editing Domain');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\" disabled>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('Aliases');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_aliases\"><?=htmlentities(trim($v_aliases, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php if ($v_letsencrypt == 'yes' || $v_letsencrypt == 'on') {?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<span class=\"alert alert-info alert-with-icon\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation\"></i>\n\t\t\t\t\t\t\t\t\t<?=_('Lets Encrypt will obtain a new SSL certificate if web domain aliases are changed.');?>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<?=_('IP Address');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_ip\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($ips as $ip => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$display_ip = htmlentities(empty($value['NAT']) ? $ip : \"{$value['NAT']}\");\n\t\t\t\t\t\t\t\t\t\t\t$ip_selected = ((!empty($v_ip) && $ip == $v_ip) || $v_ip == \"'{$ip}'\")  ? 'selected' : '';\n\t\t\t\t\t\t\t\t\t\t\techo \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<option value=\\\"{$ip}\\\" {$ip_selected}>{$display_ip}</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text step-top\">\n\t\t\t\t\t\t\t\t<?=_('Web Statistics');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_stats\">\n\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\tforeach ($stats as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\tif (empty($v_stats)) $v_stats = 'none';\n\t\t\t\t\t\t\t\t\t\t\tif (( $value == $v_stats ) || ($svalue == $v_stats )){\n\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\techo \">\". htmlentities(_($value)) .\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr class=\"stats-auth\" style=\"<?php if ($v_stats == 'none') { ?>display:none<?php } ?>\">\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_stats_auth\" <?php if (!empty($v_stats_user)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('statstable');\"><?=_('Statistics Authorization');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr class=\"stats-auth\">\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_stats_user)) { echo 'none';} else {echo 'block';}?> ;\" id=\"statstable\" name=\"v-add-web-domain-stats-user\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_stats_user\" value=\"<?=htmlentities(trim($v_stats_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:WEBrandom();\" class=\"generate\"><?=_('generate');?></a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input password\" name=\"v_stats_password\" value=\"<?=htmlentities(trim($v_stats_password, \"'\"))?>\" id=\"v_password\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v-redirect-checkbox\" <?php if (!empty($v_redirect)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('v_redirect');\"><?=_('Enable domain redirection');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_redirect)) { echo 'none';} else {echo 'block';}?> ;\" id=\"v_redirect\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"radio\" name=\"v-redirect\" value=\"<?='www.'.htmlentities($v_domain);?>\" <?php if ($v_redirect == \"www.\".$v_domain) echo \"checked\"; ?> class=\"v-redirect-custom-value\"><?=sprintf(_('Redirect visitors to %s'),\"www.\".htmlentities($v_domain));?></label></input><br />\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"radio\" name=\"v-redirect\" value=\"<?=htmlentities($v_domain);?>\" <?php if( $v_redirect == $v_domain) echo \"checked\";?> class=\"v-redirect-custom-value\"><?=sprintf(_('Redirect visitors to %s'),htmlentities($v_domain));?></label></input><br />\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"radio\" name=\"v-redirect\" value=\"custom\" <?php if( !empty($v_redirect_custom)) echo \"checked\";?> class=\"v-redirect-custom-value\"><?=_(\"Redirect visitors to a custom domain or web address\");?></label></input>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"custom_redirect\" style=\"margin-left: 22px; display:<?php if (empty($v_redirect_custom)) { echo 'none';} else {echo 'block';}?> ;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Target domain or URL');?>:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"v-redirect-custom\" class=\"vst-input\" value=\"<?=$v_redirect_custom;?>\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Status code');?>:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v-redirect-code\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach ($redirect_code_options as $status_code): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=$status_code;?>\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=($v_redirect_code === $status_code || (empty($v_redirect_code) && $status_code === $v_redirect_code))?' selected=\"selected\" ':''; ?>>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$status_code;?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl\" <?php if ($v_ssl == 'yes') echo \"checked=yes\" ?> onclick=\"javascript:App.Actions.WEB.toggle_ssl(this);\"><?=_('SSL Support');?></label>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t<table style=\"display:<?php if ($v_ssl == 'no' ) { echo 'none';} else {echo 'block';}?> ;\" id=\"ssltable\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_letsencrypt\" id=\"letsencrypt\" <?php if($v_letsencrypt == 'yes' || $v_letencrypt == 'on') echo \"checked=yes\" ?> onclick=\"elementHideShow('letsinfo');App.Actions.WEB.toggle_letsencrypt(this)\"><?=_('Lets Encrypt Support');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl_forcessl\" id=\"v_ssl_forcessl\" <?php if($v_ssl_forcessl == 'yes') echo \"checked=yes\" ?> onclick=\"\"><?=_('Force SSL/HTTPS');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"input-label vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ssl_hsts\" id=\"ssl_hsts\" <?php if($v_ssl_hsts == 'yes') echo \"checked=yes\" ?> onclick=\"App.Actions.WEB.toggle_hsts(this)\"><?=_('Enable SSL HSTS');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Home Directory');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_ssl_home\">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value='same'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tpublic_html\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<table id=\"ssl-details\" style=\"<?php if ($v_letsencrypt == 'yes' || $v_letsencrypt == 'on') { echo 'display: none;'; } ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label step-top\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span id=\"generate-csr\"> / <a class=\"generate\" target=\"_blank\" href=\"/generate/ssl/?domain=<?=htmlentities($v_domain)?>\"><?=_('Generate CSR');?></a></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_crt\" id=\"ssl_crt\"><?=htmlentities(trim($v_ssl_crt, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Key');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_key\"><?=htmlentities(trim($v_ssl_key, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('SSL Certificate Authority / Intermediate');?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short console\" name=\"v_ssl_ca\"><?=htmlentities(trim($v_ssl_ca, \"'\"))?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if ($v_ssl != 'no' ) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<table class=\"additional-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SUBJECT');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_subject?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php if ($v_ssl_aliases){?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('ALIASES');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_aliases?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_BEFORE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_not_before?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('NOT_AFTER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_not_after?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('SIGNATURE');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_signature?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('PUB_KEY');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_pub_key?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b><?=_('ISSUER');?>:</b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=$v_ssl_issuer?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr id=\"letsinfo\" style=\"display:<?php if ($v_letsencrypt == 'yes' || $v_letencrypt == 'on' ) { echo 'block';} else {echo 'none';} ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td><a href=\"#\" onclick=\"elementHideShow('ssl-details'); return false;\" class=\"generate\"><?=_('Show Certificate');?></a></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<? } // if ssl is enabled ?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top vst-text\" style=\"/*padding: 32px 0 20px 0;*/\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:elementHideShow('advanced-opts');\" class=\"vst-advanced\"><?=_('Advanced options');?></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<table id=\"advanced-opts\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === 'admin') || ($_SESSION['userContext'] === 'user') && ($_SESSION['POLICY_USER_EDIT_WEB_TEMPLATES'] === 'yes')) { ?>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Web Template')  . \"<span class='optional'>\" .strtoupper($_SESSION['WEB_SYSTEM']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_template)) && ( $value == $v_template ) || ($svalue == $v_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php if($_SESSION['WEB_SYSTEM'] == 'nginx'){?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_nginx_cache_check\" <?php if ($v_nginx_cache == 'yes') echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('v_nginx_duration');\"><?=_('Enable FastCGI Cache'); ?> <a href=\"https://docs.hestiacp.com/admin_docs/web/fastcgi.html#nginx-fastcgi-cache\" target=\"_blank\"><i class=\"fas fa-question-circle\"></i></a></label>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<table id=\"v_nginx_duration\" style=\"display:<?php if ($v_nginx_cache != 'yes' ) { echo 'none';} else {echo 'block';}?> ;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Cache Duration'); ?> <span class=\"optional\"><?=_('For example: 30s, 10m or 1d');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td><input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_nginx_cache_duration\" value=\"<?=htmlentities(trim($v_nginx_cache_duration, \"'\"))?>\"></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['WEB_BACKEND'])) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Backend Template') . \" <span class='optional'>\" . strtoupper($_SESSION['WEB_BACKEND']) . \"</span>\";?>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_backend_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($backend_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".$value.\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_backend_template)) && ( $value == $v_backend_template ) || ($svalue == $v_backend_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_backend_template)) && ($value == 'default')){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php }?>\n\t\t\t\t\t\t\t\t\t\t<?php if (!empty($_SESSION['PROXY_SYSTEM'])) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<tr style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_proxy\" <?php if (!empty($v_proxy)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('proxytable');\"><?=_('Proxy Support') . \"<span class='optional'>\" . strtoupper($_SESSION['PROXY_SYSTEM']) . \"</span>\";?></label>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_proxy)) { echo 'none';} else {echo 'block';}?> ;\" id=\"proxytable\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Template');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v_proxy_template\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tforeach ($proxy_templates as $key => $value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \"\\t\\t\\t\\t<option value=\\\"\".htmlentities($value).\"\\\"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$svalue = \"'\".$value.\"'\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((!empty($v_proxy_template)) && ( $value == $v_proxy_template ) || ($svalue == $v_proxy_template)){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((empty($v_proxy_template)) && ($value == 'default')){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo ' selected' ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\techo \">\".htmlentities($value).\"</option>\\n\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Proxy Extensions');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_proxy_ext\"><?php if (!empty($v_proxy_ext)) { echo htmlentities(trim($v_proxy_ext, \"'\"));} else { echo 'jpg, jpeg, gif, png, ico, svg, css, zip, tgz, gz, rar, bz2, exe, pdf, doc, xls, ppt, txt, odt, ods, odp, odf, tar, bmp, rtf, js, mp3, avi, mpeg, flv, html, htm'; }  ?></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_custom_doc_root_check\" <?php if (!empty($v_custom_doc_root)) echo \"checked=yes\" ?> onclick=\"javascript:elementHideShow('v_custom_doc_root');\"><?=_('Custom document root');?></label>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_custom_doc_root)) { echo 'none';} else {echo 'block';}?> ;\" id=\"v_custom_doc_root\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Point to');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"v-custom-doc-root_prepath\" value=\"<?=$v_custom_doc_root_prepath;?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"v-custom-doc-domain\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach ($user_domains as $domain): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<?=htmlentities($domain);?>\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=($v_custom_doc_domain === $domain || (empty($v_custom_doc_domain) && $domain === $v_domain))?' selected=\"selected\" ':''; ?>>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=htmlentities($domain);?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?php print( _('Directory'));?> <span class=\"optional\">(<?=_('optional');?>)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"v-custom-doc-folder\" value=\"<?=htmlentities(trim($v_custom_doc_folder, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class=\"custom_docroot_hint\"></small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php if (in_array($_SESSION['FTP_SYSTEM'], array('vsftpd', 'proftpd'))) { ?>  \n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label><input type=\"checkbox\" size=\"20\" class=\"vst-checkbox\" name=\"v_ftp\" <?php if (!empty($v_ftp_user)) echo \"checked=yes\" ?> onclick=\"App.Actions.WEB.toggle_additional_ftp_accounts(this)\"><?=_('Additional FTP Account');?></label>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td id=\"ftp_users\">\n\t\t\t\t\t\t\t\t\t\t\t\t<?php foreach ($v_ftp_users as $i => $ftp_user): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php\n\t\t\t\t\t\t\t\t\t\t\t\t\t$v_ftp_user     = $ftp_user['v_ftp_user'];\n\t\t\t\t\t\t\t\t\t\t\t\t\t$v_ftp_password = $ftp_user['v_ftp_password'];\n\t\t\t\t\t\t\t\t\t\t\t\t\t$v_ftp_path     = $ftp_user['v_ftp_path'];\n\t\t\t\t\t\t\t\t\t\t\t\t\t$v_ftp_email    = $ftp_user['v_ftp_email'];\n\t\t\t\t\t\t\t\t\t\t\t\t\t$v_ftp_pre_path = $ftp_user['v_ftp_pre_path'];\n\t\t\t\t\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t\t\t\t\t<table style=\"display:<?php if (empty($v_ftp_user)) { echo 'none';} else {echo 'block';}?> ;\" class=\"ftptable ftptable-nrm\" name=\"v_add_domain_ftp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('FTP');?> #<span class=\"ftp-user-number\"><?=$i + 1; ?></span> <a class=\"ftp-remove-user additional-control\" onCLick=\"App.Actions.WEB.remove_ftp_user(this)\"><?=_('delete');?></a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-deleted\" name=\"v_ftp_user[<?=$i ?>][delete]\" value=\"0\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-is-new\" name=\"v_ftp_user[<?=$i ?>][is_new]\" value=\"<?=htmlentities($ftp_user['is_new']) ?>\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Username');?><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size: 10pt; color:#777;\"><?=sprintf(_('Prefix %s will be added to username automatically'),$user.\"_\");?></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input v-ftp-user\" <?=$ftp_user['is_new'] != 1 ? 'disabled=\"disabled\"' : '' ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"v_ftp_user[<?=$i ?>][v_ftp_user]\" value=\"<?=htmlentities(trim($v_ftp_user, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left  input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:void(0);\" onClick=\"FTPrandom(this)\" ; class=\"generate\"><?=_('generate');?></a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-user-psw password\" name=\"v_ftp_user[<?=$i ?>][v_ftp_password]\" value=\"<?=htmlentities(trim($v_ftp_password, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Path');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"vst-input v-ftp-pre-path\" name=\"v_ftp_pre_path\" value=\"<?=!empty($v_ftp_pre_path) ? htmlentities(trim($v_ftp_pre_path, \"'\")) : '/'; ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"vst-input v-ftp-path\" name=\"v_ftp_user[<?=$i ?>][v_ftp_path_prev]\" value=\"<?php if (!empty($v_ftp_path)) echo ($v_ftp_path[0] != '/' ? '/' : '').htmlentities(trim($v_ftp_path, \"'\")) ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-path\" name=\"v_ftp_user[<?=$i ?>][v_ftp_path]\" value=\"<?php if (!empty($v_ftp_path)) echo ($v_ftp_path[0] != '/' ? '/' : '').htmlentities(trim($v_ftp_path, \"'\")); ?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br /><span class=\"ftp-path-prefix\"><?=htmlentities(trim($v_ftp_pre_path, \"'\"))?></span><span class=\"ftp-path-value v-ftp-path-hint\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php if ($ftp_user['is_new'] == 1): ?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<?=_('Send FTP credentials to email');?>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"vst-input vst-email-alert-on-psw\" name=\"v_ftp_user[<?=$i ?>][v_ftp_email]\" value=\"<?=htmlentities(trim($v_ftp_email, \"'\"))?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<?php endif; ?>\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t\t<tr class=\"add-new-ftp-user-button\" style=\"<?=!empty($v_ftp_user) ? '' : 'display:none;' ?>\">\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"vst-text step-top v-add-new-user step-bottom\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"additional-control vst-advanced\" onClick=\"App.Actions.WEB.add_ftp_user_form()\"><?=_('Add one more FTP Account');?></a>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n\n\t<div id=\"templates\" class=\"hidden\">\n\t\t<table class=\"ftptable ftptable-nrm\" name=\"v_add_domain_ftp\">\n\t\t\t<tr>\n\t\t\t\t<td class=\"vst-text input-label\">\n\t\t\t\t\t<?=_('FTP') ?> #<span class=\"ftp-user-number\"></span> <a class=\"ftp-remove-user additional-control\" onCLick=\"App.Actions.WEB.remove_ftp_user(this)\"><?=_('delete');?></a>\n\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-deleted\" name=\"v_ftp_user[%INDEX%][delete]\" value=\"0\" />\n\t\t\t\t\t<input type=\"hidden\" class=\"v-ftp-user-is-new\" name=\"v_ftp_user[%INDEX%][is_new]\" value=\"1\" />\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t<?=_('Username');?><br>\n\t\t\t\t\t<span style=\"font-size: 10pt; color:#777;\"><?=sprintf(_('Prefix %s will be added to username automatically'),$user.\"_\");?></span>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input v-ftp-user\" name=\"v_ftp_user[%INDEX%][v_ftp_user]\" value=\"\">\n\t\t\t\t\t<small class=\"hint\"></small>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"vst-text step-left  input-label\">\n\t\t\t\t\t<?=_('Password');?> / <a href=\"javascript:void(0);\" onClick=\"FTPrandom(this)\" ; class=\"generate\"><?=_('generate');?></a>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-user-psw password\" name=\"v_ftp_user[%INDEX%][v_ftp_password]\" value=\"\">\n\t\t\t\t</td>\n\t\t\t</tr>\n\n\t\t\t<tr>\n\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t<?=_('Path');?>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t<input type=\"hidden\" class=\"vst-input v-ftp-pre-path\" name=\"v_ftp_pre_path\" value=\"\">\n\t\t\t\t\t<input type=\"text\" class=\"vst-input v-ftp-path\" name=\"v_ftp_user[%INDEX%][v_ftp_path]\" value=\"\">\n\t\t\t\t\t<br /><span class=\"ftp-path-prefix\"><?=htmlentities(trim($v_ftp_pre_path_new_user, \"'\"))?></span><span class=\"ftp-path-value v-ftp-path-hint\"></span>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"vst-text step-left input-label\">\n\t\t\t\t\t<?=_('Send FTP credentials to email');?>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td class=\"step-left\">\n\t\t\t\t\t<input type=\"text\" class=\"vst-input vst-email-alert-on-psw\" name=\"v_ftp_user[%INDEX%][v_ftp_email]\" value=\"\">\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n</div>\n<script>\n\tGLOBAL.FTP_USER_PREFIX = \"<?php echo htmlentities($user.'_') ?>\";\n</script>", "<div class=\"l-center\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-sort-toolbar clearfix float-left\">\n\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_generate_csr\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<input type=\"hidden\" name=\"generate\" value=\"generate\" />\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Generating CSR');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 24px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('Domain');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_domain\" value=\"<?=htmlentities(trim($v_domain, \"'\")) ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 24px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('Aliases');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput short\" name=\"v_aliases\"><?=htmlentities(trim($v_aliases, \"'\"))?></textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('Email');?>\n\t\t\t\t\t\t\t\t<span class=\"optional\">(<?php print _('optional');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_email\" value=\"<?=htmlentities(trim($v_email, \"'\")) ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('Country'); ?>\n\t\t\t\t\t\t\t\t<span class=\"optional\">(<?=_('2 letter code');?>)</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_country\" value=\"<?=htmlentities(trim($v_country, \"'\"))?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('State / Province');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_state\" value=\"<?=htmlentities(trim($v_state, \"'\")) ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('City / Locality');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_locality\" value=\"<?=htmlentities(trim($v_locality, \"'\")) ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('Organization');?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"v_org\" value=\"<?=htmlentities(trim($v_org, \"'\")) ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td style=\"padding: 24px 0 0 0;\" width=\"116px\">\n\t\t\t\t\t\t\t\t<input type=\"submit\" class=\"button\" name=\"generate\" value=\"<?=_('Ok');?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td style=\"padding: 24px 0 0 0;\">\n\t\t\t\t\t\t\t\t<input type=\"button\" class=\"button cancel\" value=\"<?=_('Back');?>\" onclick=\"<?=$back?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/backup/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<a href=\"/schedule/restore/?token=<?=$_SESSION['token']?>&backup=<?=htmlentities($_GET['backup'])?>\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-undo status-icon green\"></i><?=_('Restore All');?></a>\n\t\t</div>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<form action=\"/bulk/restore/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"backup\" value=\"<?=htmlentities($_GET['backup']); ?>\">\n\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t<select name=\"action\">\n\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"restore\"><?=_('restore') ?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" onchange=\"checkedAll('objects');\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\"><b><?=_('Type');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\"><b><?=_('Details');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-4\"><b><?=_('Restore');?></b></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<!-- List web domains -->\n\t<?php\n\t\t$backup = htmlentities($_GET['backup']);\n\t\t$web = explode(',',$data[$backup]['WEB']);\n\t\tforeach ($web as $key) {\n\t\t\tif (!empty($key)) {\n\t\t\t\t++$i;\n\t\t?>\n\t\t<div class=\"l-unit animated fadeIn\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"web[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('Web domain');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?=$key?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=web&object=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Restore');?>\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim icon-pad-right\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n\n\t<!-- List mail domains -->\n\t<?php\n\t\t$mail = explode(',',$data[$backup]['MAIL']);\n\t\tforeach ($mail as $key) {\n\t\t\tif (!empty($key)) {\n\t\t?>\n\t\t<div class=\"l-unit\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check2<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"mail[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('Mail domain');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?=$key?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=mail&object=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"Restore\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n\n\t<!-- List DNS zones -->\n\t<?php\n\t\t$dns = explode(',',$data[$backup]['DNS']);\n\t\tforeach ($dns as $key) {\n\t\t\tif (!empty($key)) {\n\t\t?>\n\t\t<div class=\"l-unit\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check3<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"dns[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('DNS domain');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?=$key?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=dns&object=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"Restore\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n\n\t<!-- List Databases -->\n\t<?php\n\t\t$db = explode(',',$data[$backup]['DB']);\n\t\tforeach ($db as $key) {\n\t\t\tif (!empty($key)) {\n\t\t?>\n\t\t<div class=\"l-unit\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check4<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"db[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('Database');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?=$key?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=db&object=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"Restore\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n\n\t<!-- List Cron Jobs -->\n\t<?php\n\t\tif (!empty($data[$backup]['CRON'])) {\n\t\t\tif (!empty($key)) {\n\t\t?>\n\t\t<div class=\"l-unit\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check5<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"check\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('Cron Records');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?='cron '._('records');?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=cron&object=records&token=<?=$_SESSION['token']?>\" title=\"Restore\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n\n\t<!-- List user directories -->\n\t<?php\n\t\t$udir = explode(',',$data[$backup]['UDIR']);\n\t\tforeach ($udir as $key) {\n\t\t\tif (!empty($key)) {\n\t\t?>\n\t\t<div class=\"l-unit\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check6<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" name=\"udir[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left\"><?=_('user dir');?></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-7\">\n\t\t\t\t\t<div class=\"l-unit__stat-col l-unit__stat-col--left wide-7\"><b><?=$key?></b></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__list shortcut-enter\" key-action=\"href\">\n\t\t\t\t\t\t\t\t<a href=\"/schedule/restore/?backup=<?=$backup?>&type=udir&object=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"Restore\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-undo status-icon green status-icon dim\"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php }} ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right total clearfix\">\n\t\t\t\t<?php printf(ngettext('%d item', '%d items', $i),$i); ?>\n\t\t\t</div>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right back clearfix\">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/cron/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Cron Job');?></a>\n\t\t\t\t<?php if($panel[$user]['CRON_REPORTS'] == 'yes') { ?>\n\t\t\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" href=\"/delete/cron/reports/?token=<?=$_SESSION['token'];?>\"><i class=\"fas fa-toggle-off status-icon green\"></i><?=_('turn off notifications');?></a>\n\t\t\t\t<?php } else { ?>\n\t\t\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" href=\"/add/cron/reports/?token=<?=$_SESSION['token'];?>\"><i class=\"fas fa-toggle-off status-icon grey\"></i><?=_('turn on notifications');?></a>\n\t\t\t\t<?php } ?>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Command');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = _('Name'); } else { $label = _('Date'); } ?>\n\t\t\t\t\t\t\t\t<?=$label;?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t<td class=\"\">\n\t\t\t\t\t\t\t<form action=\"/bulk/cron/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php if($panel[$user]['CRON_REPORTS'] == 'yes') echo '<option value=\"delete-cron-reports\">'._('turn off notifications').'</option>'; ?>\n\t\t\t\t\t\t\t\t\t\t<?php if($panel[$user]['CRON_REPORTS'] == 'no') echo '<option value=\"add-cron-reports\">'._('turn on notifications').'</option>'; ?>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-5\"><b><?=_('Command');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-2 text-right\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><b><?=_('Min');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><b><?=_('Hour');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><b><?=_('Day');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><b><?=_('Month');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><b><?=_('Day of week');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin cron job list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_CRON_CONFIRMATION') ;\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_CRON_CONFIRMATION') ;\n\t\t\t}\n\t\t?>\n\t\t<div class=\"l-unit <?php if($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['CRON'][$key] == 1) echo ' l-unit--starred'; ?> animated fadeIn\" v_unit_id=\"<?=$key?>\" v_section=\"cron\"\n\t\t\tsort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=htmlspecialchars($data[$key]['CMD'], ENT_NOQUOTES)?>\"\n\t\t\tsort-star=\"<?php if($_SESSION['favourites']['CRON'][$key] == 1) echo '1'; else echo '0';  ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i ?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"job[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-5 truncate\">\n\t\t\t\t\t<?php if (($read_only === 'true') || ($data[$key]['SUSPENDED'] == 'yes')) {?>\n\t\t\t\t\t\t<b><?=htmlspecialchars($data[$key]['CMD'], ENT_NOQUOTES)?></b>\n\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t<b><a href=\"/edit/cron/?job=<?=$data[$key]['JOB']?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Cron Job');?>: <?=htmlspecialchars($data[$key]['CMD'], ENT_NOQUOTES)?>\"><?=htmlspecialchars($data[$key]['CMD'], ENT_NOQUOTES)?></a></b>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</div>\n\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-2 text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t<!-- Restrict other administrators from editing, deleting, or suspending 'admin' user cron jobs -->\n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__download shortcut-enter\" key-action=\"href\"><a href=\"/edit/cron/?job=<?=$data[$key]['JOB']?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Cron Job');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/cron/?job=<?=$data[$key]['JOB']?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/cron/?job=<?=$data[$key]['JOB']?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_CRON_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><?=$data[$key]['MIN']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><?=$data[$key]['HOUR']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><?=$data[$key]['DAY']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><?=$data[$key]['MONTH']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-center\"><?=$data[$key]['WDAY']?></div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d cron job', '%d cron jobs', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<?php\n\tlist($http_host, $port) = explode(':', $_SERVER[\"HTTP_HOST\"].\":\");\n\n\t$db_myadmin_link = \"//\".$http_host.\"/phpmyadmin/\";\n\t$db_pgadmin_link = \"//\".$http_host.\"/phppgadmin/\";\n\n\tif (!empty($_SESSION['DB_PMA_ALIAS'])) {\n\t\t$db_myadmin_link = \"//\".$http_host.\"/\".$_SESSION['DB_PMA_ALIAS'].\"/\";\n\t}\n\tif (!empty($_SESSION['DB_PGA_ALIAS'])) {\n\t\t$db_pgadmin_link = \"//\".$http_host.\"/\".$_SESSION['DB_PGA_ALIAS'].\"/\";\n\t}\n?>\n\n<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/db/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Database');?></a>\n\t\t\t\t<?php if (($_SESSION['DB_SYSTEM'] === 'mysql') || ($_SESSION['DB_SYSTEM'] === 'mysql,pgsql') || ($_SESSION['DB_SYSTEM'] === 'pgsql,mysql')) {?>\n\t\t\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" href=\"<?=$db_myadmin_link; ?>\" target=\"_blank\"><i class=\"fas fa-database status-icon orange\"></i>phpMyAdmin</a>\n\t\t\t\t<?php } ?>\n\t\t\t\t<?php if (($_SESSION['DB_SYSTEM'] === 'pgsql') || ($_SESSION['DB_SYSTEM'] === 'mysql,pgsql') || ($_SESSION['DB_SYSTEM'] === 'pgsql,mysql')) {?>\n\t\t\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" href=\"<?=$db_pgadmin_link; ?>\" target=\"_blank\"><i class=\"fas fa-database status-icon orange\"></i>phpPgAdmin</a>\n\t\t\t\t<?php } ?>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-charset\"><span class=\"name\"><?=_('Charset');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-disk\" sort_as_int=\"1\"><span class=\"name\"><?=_('Disk');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-server\"><span class=\"name\"><?=_('Host');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-user\"><span class=\"name\"><?=_('Username');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = _('Name'); } else { $label = _('Date'); } ?>\n\t\t\t\t\t\t\t\t<?=$label;?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<form action=\"/bulk/db/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"rebuild\"><?=_('rebuild');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3\"><b><?=_('Name');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-3\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Disk');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('Type');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center wide\"><b><?=_('Username');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Hostname');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Charset');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin database list item loop -->\n\t<?php\n\t\tlist($http_host, $port) = explode(':', $_SERVER[\"HTTP_HOST\"].\":\");\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_DATABASE_CONFIRMATION') ;\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_DATABASE_CONFIRMATION') ;\n\t\t\t}\n\t\t\tif ($data[$key]['HOST'] != 'localhost' ) $http_host = $data[$key]['HOST'];\n\t\t\tif ($data[$key]['TYPE'] == 'mysql') $db_admin = \"phpMyAdmin\";\n\t\t\tif ($data[$key]['TYPE'] == 'mysql') $db_admin_link = \"https://\".$http_host.\"/phpmyadmin/\";\n\t\t\tif (($data[$key]['TYPE'] == 'mysql') && (!empty($_SESSION['DB_PMA_ALIAS']))) $db_admin_link = $_SESSION['DB_PMA_ALIAS'];\n\t\t\tif ($data[$key]['TYPE'] == 'pgsql') $db_admin = \"phpPgAdmin\";\n\t\t\tif ($data[$key]['TYPE'] == 'pgsql') $db_admin_link = \"https://\".$http_host.\"/phppgadmin/\";\n\t\t\tif (($data[$key]['TYPE'] == 'pgsql') && (!empty($_SESSION['DB_PGA_ALIAS']))) $db_admin_link = $_SESSION['DB_PGA_ALIAS'];\n\t\t?>\n\t\t<div class=\"l-unit <?php if($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['DB'][$key] == 1) echo ' l-unit--starred'; ?> animated fadeIn\" v_unit_id=\"<?=$key?>\" v_section=\"db\"\n\t\t\tsort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=$key?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\"\n\t\t\tsort-user=\"<?=$data[$key]['DBUSER']?>\" sort-server=\"<?=$data[$key]['HOST']?>\" sort-charset=\"<?=$data[$key]['CHARSET']?>\" sort-star=\"<?php if($_SESSION['favourites']['DB'][$key] == 1) echo '1'; else echo '0'; ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t\t<input id=\"check<?=$i ?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"database[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3 truncate\">\n\t\t\t\t\t\t<?php if (($read_only === 'true') || ($data[$key]['SUSPENDED'] == 'yes')) {?>\n\t\t\t\t\t\t\t<b><?=$key?></b>\n\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t<b><a href=\"/edit/db/?database=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Database');?>: <?=$key?>\"><?=$key?></a></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-3\">\n\t\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t\t<!-- Restrict the ability to edit, delete, or suspend domain items when impersonating 'admin' user -->\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a href=\"/edit/db/?database=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Database');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php if ($data[$key]['TYPE'] == 'mysql' && isset($_SESSION['PHPMYADMIN_KEY']) && $_SESSION['PHPMYADMIN_KEY'] != '') { $time = time(); ?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a target=\"_blank\" href=\"<?=$db_myadmin_link;?>/hestia-sso.php?database=<?=$key;?>&user=<?=$user;?>&exp=<?=$time;?>&hestia_token=<?=password_hash($key.$user.$_SESSION['user_combined_ip'].$time.$_SESSION['PHPMYADMIN_KEY'], PASSWORD_DEFAULT)?>\" title=\"<?=_('phpMyAdmin');?>\"><i class=\"fas fa-sign-in-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/db/?database=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/db/?database=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_DATABASE_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=humanize_usage_size($data[$key]['U_DISK'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_DISK'])?></span></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><?=$data[$key]['TYPE']?></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center wide\"><b><?=$data[$key]['DBUSER']?></b></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=$data[$key]['HOST']?></b></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><?=$data[$key]['CHARSET']?></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d SQL database', '%d SQL databases', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/dns/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add DNS Domain');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display: none;\">\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-expire\" sort_as_int=\"1\"><span class=\"name\"><?=_('Expire');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-ip\"><span class=\"name\"><?=_('IP address');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-records\"><span class=\"name\"><?=_('Records');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\">\n\t\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = _('Name'); } else { $label = _('Date'); } ?>\n\t\t\t\t\t\t\t\t\t<?=$label;?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<form action=\"/bulk/dns/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"rebuild\"><?=_('rebuild');?></option>\n\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3\"><b><?=_('Name');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('Records_DNS');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Template');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('TTL');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center wide\"><b><?=_('SOA');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Expiration Date');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin DNS zone list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t}\n\t\t?>\n\t\t<div class=\"l-unit <?php if ($status == 'suspended') echo ' l-unit--suspended'; if($_SESSION['favourites']['DNS'][$key] == 1) echo ' l-unit--starred'; ?> animated fadeIn\" v_unit_id=\"<?=htmlentities($key);?>\"\n\t\t\tv_section=\"dns\" sort-ip=\"<?=str_replace('.', '', $data[$key]['IP'])?>\" sort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=htmlentities($key);?>\"\n\t\t\tsort-expire=\"<?=strtotime($data[$key]['EXP'])?>\" sort-records=\"<?=(int)$data[$key]['RECORDS']?>\" sort-star=\"<?php if ($_SESSION['favourites']['DNS'][$key] == 1) echo '1'; else echo '0';?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i ?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"domain[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3 truncate\">\n\t\t\t\t\t<b><a href=\"/list/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('DNS records');?>: <?=htmlentities($key);?>\"><?=htmlentities($key);?></a></b>\n\t\t\t\t\t<?=empty($data[$key]['SRC'])? '' : '<br/>\u21e2 <span style=\"font-size:11px;\">' . htmlspecialchars($data[$key]['SRC'], ENT_QUOTES) . '</span>'; ?>\n\t\t\t\t</div>\n\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t<!-- Restrict administrators from editing domain items when impersonating the 'admin' user -->\n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-n\" key-action=\"href\"><a href=\"/add/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Add DNS Record');?>\"><i class=\"fas fa-plus-circle status-icon green status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a href=\"/edit/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing DNS Domain');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-l\" key-action=\"href\"><a href=\"/list/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('DNS records');?>\"><i class=\"fas fa-list status-icon lightblue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/dns/?domain=<?=htmlentities($key);?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_DOMAIN_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\">\n\t\t\t\t\t<?php if ($data[$key]['RECORDS']) echo '<span>'.$data[$key]['RECORDS'].'</span>';?>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=$data[$key]['TPL']?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><?=$data[$key]['TTL']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center wide\"><?=$data[$key]['SOA']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=$data[$key]['EXP']?></b></div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d DNS zone', '%d DNS zones', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/dns/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/dns/?domain=<?=htmlentities($_GET['domain'])?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i> <?=_('Add Record');?></a>\n\t\t\t\t<a href=\"/edit/dns/?domain=<?=htmlentities($_GET['domain'])?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-pencil-alt status-icon blue\"></i> <?=_('Editing DNS Domain');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-value\"><span class=\"name\"><?=_('IP or Value');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-record\"><span class=\"name\"><?=_('Record');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-ttl\" sort_as_int=\"1\"><span class=\"name\"><?=_('TTL');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-type\"><span class=\"name\"><?=_('Type');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = _('Record'); } else { $label = _('Date'); } ?>\n\t\t\t\t\t\t\t\t<?=$label;?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<form action=\"/bulk/dns/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"domain\" value=\"<?=htmlentities($_GET['domain'])?>\" />\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left small\"><b><?=_('Record');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact text-right\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\" style=\"padding-left: 32px;\"><b><?=_('Type');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\"><b><?=_('Priority');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\"><b><?=_('TTL');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-6\"><b><?=_('IP or Value');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin DNS record list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t?>\n\t\t<div class=\"l-unit<?php if ($status == 'suspended') echo ' l-unit--suspended'; if($_SESSION['favourites']['DNS_REC'][$key] == 1) echo ' l-unit--starred';?> animated fadeIn\"\n\t\t\tv_unit_id=\"<?=htmlentities($key);?>\" v_section=\"dns_rec\" sort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-record=\"<?=$data[$key]['RECORD']?>\" sort-type=\"<?=$data[$key]['TYPE']?>\" sort-ttl=\"<?=$data[$key]['TTL']?>\" sort-value=\"<?=$data[$key]['VALUE']?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$data[$key]['ID']?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"record[]\" value=\"<?=$data[$key]['ID']?>\" <?=$display_mode;?>>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left small truncate\">\n\t\t\t\t\t<b>\n\t\t\t\t\t<?php if (($read_only === 'true') || ($data[$key]['SUSPENDED'] == 'yes')) {?>\n\t\t\t\t\t\t<?=substr($data[$key]['RECORD'], 0, 12); if(strlen($data[$key]['RECORD']) > 12 ) echo '...'; ?>\n\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t<a href=\"/edit/dns/?domain=<?=htmlspecialchars($_GET['domain'])?>&record_id=<?=$data[$key]['ID']?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing DNS Record').': '.htmlspecialchars($data[$key]['RECORD'])?>\"><? echo substr($data[$key]['RECORD'], 0, 12); if(strlen($data[$key]['RECORD']) > 12 ) echo '...'; ?></a>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</b>\n\t\t\t\t</div>\n\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact text-right\">\n\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t<!-- Restrict editing of DNS records when impersonating 'admin' account -->\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a href=\"/edit/dns/?domain=<?=htmlspecialchars($_GET['domain'])?>&record_id=<?=$data[$key]['ID']?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing DNS Record');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/dns/?domain=<?=htmlspecialchars($_GET['domain'])?>&record_id=<?=$data[$key]['ID']?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_RECORD_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\" style=\"padding-left: 32px;\"><b><?=$data[$key]['TYPE']?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\"><?=$data[$key]['PRIORITY']?>&nbsp;</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact text-center\"><?php if($data[$key]['TTL'] == ''){ echo _('Default'); }else{ echo $data[$key]['TTL'];} ?></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-6 truncate\" style=\"word-break: break-word;\"><?=htmlspecialchars($data[$key]['VALUE'], ENT_QUOTES, 'UTF-8');?></div>\n\t\t</div>\n\t</div>\n<?php } ?>\n\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right total clearfix\">\n\t\t\t\t<?php printf(ngettext('%d DNS record', '%d DNS records', $i),$i); ?>\n\t\t\t</div>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right back clearfix\">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/mail/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Mail Domain');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-accounts\" sort_as_int=\"1\"><span class=\"name\"><?=_('Accounts');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-disk\" sort_as_int=\"1\"><span class=\"name\"><?=_('Disk');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = _('Name'); } else { $label = _('Date'); } ?>\n\t\t\t\t\t\t\t\t<?=$label;?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<form action=\"/bulk/mail/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"rebuild\"><?=_('rebuild');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3\"><b><?=_('Name');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-5\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-2\"><b><?=_('Accounts');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-2\"><b><?=_('Disk');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\"><b><?=_('Antivirus');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\"><b><?=_('AntiSpam');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\"><b><?=_('DKIM');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\"><b><?=_('SSL');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin mail domain list item loop -->\n\t<?php\n\t\tlist($http_host, $port) = explode(':', $_SERVER[\"HTTP_HOST\"].\":\");\n\t\t$webmail = \"webmail\";\n\t\tif (!empty($_SESSION['WEBMAIL_ALIAS'])) $webmail = $_SESSION['WEBMAIL_ALIAS'];\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t\tif ($data[$key]['ANTIVIRUS'] == 'no') {\n\t\t\t\t\t$antivirus_icon = 'fa-times-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$antivirus_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['ANTISPAM'] == 'no') {\n\t\t\t\t\t$antispam_icon = 'fa-times-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$antispam_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['DKIM'] == 'no') {\n\t\t\t\t\t$dkim_icon = 'fa-times-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$dkim_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['SSL'] == 'no') {\n\t\t\t\t\t$ssl_icon = 'fa-times-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$ssl_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t\tif ($data[$key]['ANTIVIRUS'] == 'no') {\n\t\t\t\t\t$antivirus_icon = 'fa-times-circle status-icon red';\n\t\t\t\t} else {\n\t\t\t\t\t$antivirus_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['ANTISPAM'] == 'no') {\n\t\t\t\t\t$antispam_icon = 'fa-times-circle status-icon red';\n\t\t\t\t} else {\n\t\t\t\t\t$antispam_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['DKIM'] == 'no') {\n\t\t\t\t\t$dkim_icon = 'fa-times-circle status-icon red';\n\t\t\t\t} else {\n\t\t\t\t\t$dkim_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['SSL'] == 'no') {\n\t\t\t\t\t$ssl_icon = 'fa-times-circle status-icon red';\n\t\t\t\t} else {\n\t\t\t\t\t$ssl_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (empty($data[$key]['CATCHALL'])) {\n\t\t\t\t$data[$key]['CATCHALL'] = '/dev/null';\n\t\t\t}\n\t\t?>\n\t\t<div class=\"l-unit <?php if ($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['MAIL'][$key] == 1) echo ' l-unit--starred'; ?> animated fadeIn\" v_unit_id=\"<?=$key?>\" v_section=\"mail\"\n\t\t\tsort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=$key?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\"\n\t\t\tsort-accounts=\"<?=$data[$key]['ACCOUNTS']?>\" sort-star=\"<?php if ($_SESSION['favourites']['MAIL'][$key] == 1) echo \" 1\"; else echo \"0\" ; ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t\t<input id=\"check<?=$i ?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"domain[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3 truncate\"><b><a href=\"?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('mail accounts');?>: <?=$key?>\"><?=$key?></a></b></div>\n\t\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-5\">\n\t\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t\t<!-- Restrict ability to edit, delete, or suspend domain items when impersonating 'admin' account -->\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-l\" key-action=\"href\"><a href=\"?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('mail accounts');?>\"><i class=\"fas fa-users status-icon blue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-l\" key-action=\"href\"><a href=\"?domain=<?=$key?>&dns=1&token=<?=$_SESSION['token']?>\" title=\"<?=_('DNS records mail');?>\"><i class=\"fas fa-atlas status-icon blue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit\" key-action=\"href\"><a href=\"http://<?=$webmail;?>.<?=$key?>/\" target=\"_blank\" title=\"<?=_('open webmail');?>\"><i class=\"fas fa-paper-plane status-icon lightblue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-n\" key-action=\"href\"><a href=\"/add/mail/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Add Mail Account');?>\"><i class=\"fas fa-plus-circle status-icon green status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t\t<?php if($_SESSION['WEBMAIL_SYSTEM']){?>\n\t\t\t\t\t\t\t\t\t\t\t<?php if (!empty($data[$key]['WEBMAIL'])) {?>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit\" key-action=\"href\"><a href=\"http://<?=$webmail;?>.<?=$key?>/\" target=\"_blank\" title=\"<?=_('open webmail');?>\"><i class=\"fas fa-paper-plane status-icon lightblue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a href=\"/edit/mail/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Mail Domain');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-l\" key-action=\"href\"><a href=\"?domain=<?=$key?>&dns=1&token=<?=$_SESSION['token']?>\" title=\"<?=_('DNS records');?>\"><i class=\"fas fa-atlas status-icon blue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/mail/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/mail/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_DOMAIN_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-2\"><b>\n\t\t\t\t\t\t\t<?php \n\t\t\t\t\t\t\t\tif ($data[$key]['ACCOUNTS']) { \n\t\t\t\t\t\t\t\t\t$mail_accounts = htmlentities($data[$key]['ACCOUNTS']);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$mail_accounts = '0'; \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t<span><?=$mail_accounts;?></span>\n\t\t\t\t\t\t</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-2\"><b>\n\t\t\t\t\t\t\t<?=humanize_usage_size($data[$key]['U_DISK'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_DISK'])?></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\">\n\t\t\t\t\t\t<i class=\"fas <?=$antivirus_icon;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\">\n\t\t\t\t\t\t<i class=\"fas <?=$antispam_icon;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\">\n\t\t\t\t\t\t<i class=\"fas <?=$dkim_icon;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact-3\">\n\t\t\t\t\t\t<i class=\"fas <?=$ssl_icon;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d mail domain', '%d mail domains', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<?php\n\t$v_webmail_alias = \"webmail\";\n\tif (!empty($_SESSION['WEBMAIL_ALIAS'])) $v_webmail_alias = $_SESSION['WEBMAIL_ALIAS'];\n?>\n<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/mail/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<?php if ($read_only !== 'true') { ?>\n\t\t\t\t<a href=\"/add/mail/?domain=<?=htmlentities($_GET['domain'])?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Mail Account');?></a>\n\t\t\t\t<a href=\"/edit/mail/?domain=<?=htmlentities($_GET['domain'])?>\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-pencil-alt status-icon blue\"></i><?=_('Editing Mail Domain');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-disk\" sort_as_int=\"1\"><span class=\"name\"><?=_('Disk');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-quota\" sort_as_int=\"1\"><span class=\"name\"><?=_('Quota');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = _('Name'); } else { $label = _('Date'); } ?>\n\t\t\t\t\t\t\t\t<?=$label;?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') { ?>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<form action=\"/bulk/mail/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<input type=\"hidden\" value=\"<?=htmlspecialchars($_GET['domain']); ?>\" name=\"domain\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\" id=\"\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3\"><b><?=_('Name');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-4\"><b>&nbsp;</b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('Disk');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Quota');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Aliases');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Forwarding');?></b></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Autoreply');?></b></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin mail account list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_MAIL_ACCOUNT_CONFIRMATION');\n\t\t\t\tif ($data[$key]['ALIAS'] == '') {\n\t\t\t\t\t$alias_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$alias_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['FWD'] == '') {\n\t\t\t\t\t$fwd_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$fwd_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['AUTOREPLY'] == 'no') {\n\t\t\t\t\t$autoreply_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$autoreply_icon = 'fa-check-circle';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_MAIL_ACCOUNT_CONFIRMATION');\n\t\t\t\tif ($data[$key]['ALIAS'] == '') {\n\t\t\t\t\t$alias_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$alias_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['FWD'] == '') {\n\t\t\t\t\t$fwd_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$fwd_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['AUTOREPLY'] == 'no') {\n\t\t\t\t\t$autoreply_icon = 'fa-minus-circle';\n\t\t\t\t} else {\n\t\t\t\t\t$autoreply_icon = 'fa-check-circle status-icon green';\n\t\t\t\t}\n\t\t\t}\n\t\t?>\n\t\t<div class=\"l-unit <?php if ($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['MAIL_ACC'][$key.\" @\".$_GET['domain']]==1) echo ' l-unit--starred' ; ?> animated fadeIn\"\n\t\t\tv_unit_id=\"<?=$key.\"@\".htmlentities($_GET['domain']);?>\" v_section=\"mail_acc\" sort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=$key?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\"\n\t\t\tsort-quota=\"<?=$data[$key]['QUOTA']?>\" sort-star=\"\n\t\t\t<?php if ($_SESSION['favourites']['MAIL_ACC'][$key.\"@\".$_GET['domain']] == 1) echo '1'; else echo '0'; ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i ?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"account[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3 truncate\">\n\t\t\t\t\t<?php if (($read_only === 'true') || ($data[$key]['SUSPENDED'] == 'yes')) { ?>\n\t\t\t\t\t\t<b><?=$key.\"@\".htmlentities($_GET['domain']);?></b>\n\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t<b><a href=\"/edit/mail/?domain=<?=htmlspecialchars($_GET['domain'])?>&account=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Mail Account');?>: <?=$key?>@<?=htmlspecialchars($_GET['domain'])?>\"><?=$key.\"@\".htmlentities($_GET['domain']);?></a></b>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</div>\n\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-4\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<?php if ($read_only === 'true') { ?>\n\t\t\t\t\t\t\t\t<!-- Restrict the ability to edit, delete, or suspend domain items when impersonating 'admin' account -->\n\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'yes') { ?>\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit\" key-action=\"href\"><a href=\"http://<?=$v_webmail_alias;?>.<?=htmlspecialchars($_GET['domain'])?>/?_user=<?=$key?>@<?=htmlspecialchars($_GET['domain'])?>\" target=\"_blank\" title=\"<?=_('open webmail');?>\"><i class=\"fas fa-envelope-open-text status-icon maroon status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') { ?>\n\t\t\t\t\t\t\t\t\t<?php if($_SESSION['WEBMAIL_SYSTEM']){?>\n\t\t\t\t\t\t\t\t\t\t<?php if (!empty($data[$key]['WEBMAIL'])) { ?>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit\" key-action=\"href\"><a href=\"http://<?=$v_webmail_alias;?>.<?=htmlspecialchars($_GET['domain'])?>/?_user=<?=$key?>@<?=htmlspecialchars($_GET['domain'])?>\" target=\"_blank\" title=\"<?=_('open webmail');?>\"><i class=\"fas fa-envelope-open-text status-icon maroon status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-enter\" key-action=\"href\"><a href=\"/edit/mail/?domain=<?=htmlspecialchars($_GET['domain'])?>&account=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Mail Account');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/mail/?domain=<?=htmlspecialchars($_GET['domain'])?>&account=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/mail/?domain=<?=htmlspecialchars($_GET['domain'])?>&account=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_MAIL_ACCOUNT_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=humanize_usage_size($data[$key]['U_DISK'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_DISK'])?></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_(humanize_usage_size($data[$key]['QUOTA'])) ?></b> <span class=\"text-small\"><?=_(humanize_usage_measure($data[$key]['QUOTA'])) ?></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\">\n\t\t\t\t\t<i class=\"fas <?=$alias_icon;?>\"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\">\n\t\t\t\t\t<i class=\"fas <?=$fwd_icon;?>\"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\">\n\t\t\t\t\t<i class=\"fas <?=$autoreply_icon;?>\"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d mail account', '%d mail accounts', $i),$i); ?>\n\t\t\t</div>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right back clearfix\">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/list/user/\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t\t<a href=\"/add/package/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Package');?></a>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = _('Name'); } else { $label = _('Date'); } ?>\n\t\t\t\t\t\t\t\t<?=$label;?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<form action=\"/bulk/package/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t<select class=\"\" name=\"action\">\n\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\t<div class=\"table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\">\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-2\"><b><?=_('Package');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3 text-right\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><i class=\"fas fa-terminal\" title=\"<?=_('Shell');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><i class=\"fas fa-hdd\" title=\"<?=_('Quota');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><i class=\"fas fa-exchange-alt\" title=\"<?=_('Bandwidth');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-globe-americas\" title=\"<?=_('Web Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-link\" title=\"<?=_('Web Aliases');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-atlas\" title=\"<?=_('DNS Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-globe\" title=\"<?=_('DNS Records');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-mail-bulk\" title=\"<?=_('Mail Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-inbox\" title=\"<?=_('Mail Accounts');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-database\" title=\"<?=_('Databases');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-clock\" title=\"<?=_('Cron Jobs');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-file-archive\" title=\"<?=_('Backups');?>\"></i></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin package list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t?>\n\t\t<div class=\"l-unit  <?php if ($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['USER'][$key] == 1) echo ' l-unit--starred';?> animated fadeIn\" v_section=\"user\"\n\t\t\tv_unit_id=\"<?=$key?>\" sort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=$key?>\"\n\t\t\tsort-bandwidth=\"<?=$data[$key]['U_BANDWIDTH']?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\" sort-star=\"<?php if ($_SESSION['favourites']['USER'][$key] == 1) echo '1'; else echo '0'; ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"user[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<?php if ($key == 'system'){ ?>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-2 truncate\"><b><?=$key?></b></div>\n\t\t\t\t<?php } else {?>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-2 truncate\"><b><a href=\"/edit/package/?package=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Package');?>: <?=$key?>\"><?=$key?></b></a></div>\n\t\t\t\t<?php } ?>\n\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-3\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<?php if (($key == 'system')) { ?>\n\t\t\t\t\t\t\t\t<!-- Restrict editing system package -->\n\t\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-enter\" key-action=\"href\"><a href=\"/edit/package/?package=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Package');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit\" key-action=\"href\"><a href=\"/copy/package/?package=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Copy');?>\"><i class=\"fas fa-clone status-icon teal status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t<?php if ($key == 'system') { ?>\n\t\t\t\t\t\t\t\t<!-- Restrict deleting system package -->\n\t\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('Delete');?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/package/?package=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_PACKAGE_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\">\n\t\t\t\t\t<?php if ($data[$key]['SHELL'] == 'nologin'){ ?>\n\t\t\t\t\t\t<i class=\"fas fa-minus-circle status-icon large\" title=\"<?=_('SSH Access');?>: <?=$data[$key]['SHELL']?>\"> </i>\n\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t<i class=\"fas fa-check-circle status-icon green large\"></i>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\">\n\t\t\t\t\t<span title=\"<?=_('Quota');?>: <?=humanize_usage_size($data[$key]['DISK_QUOTA'])?> <?=humanize_usage_measure($data[$key]['DISK_QUOTA'])?>\">\n\t\t\t\t\t\t<?php if (preg_match('/[a-z]/i', $data[$key]['DISK_QUOTA'])): ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php else: ?>\n\t\t\t\t\t\t\t<b><?=humanize_usage_size($data[$key]['DISK_QUOTA'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['DISK_QUOTA'])?></span>\n\t\t\t\t\t\t<?php endif; ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\">\n\t\t\t\t\t<span title=\"<?=_('Bandwidth');?>: <?=humanize_usage_size($data[$key]['BANDWIDTH'])?> <?=humanize_usage_measure($data[$key]['BANDWIDTH'])?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['BANDWIDTH'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=humanize_usage_size($data[$key]['BANDWIDTH'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['BANDWIDTH'])?></span>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Web Domains');?>: <?=$data[$key]['WEB_DOMAINS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['WEB_DOMAINS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['WEB_DOMAINS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Web Aliases');?>: <?=$data[$key]['WEB_ALIASES']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['WEB_ALIASES'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['WEB_ALIASES']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('DNS Domains');?>: <?=$data[$key]['DNS_DOMAINS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['DNS_DOMAINS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['DNS_DOMAINS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('DNS Records');?>: <?=$data[$key]['DNS_RECORDS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['DNS_RECORDS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['DNS_RECORDS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Mail Domains');?>: <?=$data[$key]['MAIL_DOMAINS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['MAIL_DOMAINS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['MAIL_DOMAINS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Mail Accounts');?>: <?=$data[$key]['MAIL_ACCOUNTS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['MAIL_ACCOUNTS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['MAIL_ACCOUNTS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Databases');?>: <?=$data[$key]['DATABASES']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['DATABASES'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['DATABASES']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Cron Jobs');?>: <?=$data[$key]['CRON_JOBS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['CRON_JOBS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['CRON_JOBS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\">\n\t\t\t\t\t<span class=\"jump-top badge gray raised\" title=\"<?=_('Backups');?>: <?=$data[$key]['BACKUPS']?>\">\n\t\t\t\t\t\t<?php if ($data[$key]['BACKUPS'] == 'unlimited'){ ?>\n\t\t\t\t\t\t\t<b>&infin;</b>\n\t\t\t\t\t\t<?php } else {?>\n\t\t\t\t\t\t\t<b><?=$data[$key]['BACKUPS']?></b>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator visible\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d package', '%d packages', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-sort-toolbar clearfix float-left\">\n\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\">\n\n\t<form id=\"vstobjects\" name=\"v_generate_csr\" method=\"post\">\n\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t<table class='data'>\n\t\t\t<tr class=\"data-add\">\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"data-dotted\">\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"step-top\">\n\t\t\t\t\t\t\t\t<span class=\"page-title\"><?=_('Generating CSR');?></span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<?php show_error_panel($_SESSION);?>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\"><?=_('SSL Certificate');?> <a href=\"javascript:saveTextToBlob('<?php echo htmlentities($v_domain);?>.crt', 'v_crt');\"><i class=\"fas fa-download\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput\" name=\"v_crt\" id=\"v_crt\"><?=$v_crt ?> </textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 12px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('SSL Key');?> <a href=\"javascript:saveTextToBlob('<?php echo htmlentities($v_domain);?>.key', 'v_key');\"><i class=\"fas fa-download\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput\" name=\"v_key\" id=\"v_key\"><?=$v_key ?> </textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"vst-text\" style=\"padding: 24px 0 0 0;\">\n\t\t\t\t\t\t\t\t<?=_('SSL CSR');?> <a href=\"javascript:saveTextToBlob('<?php echo htmlentities($v_domain);?>.csr', 'v_crt');\"><i class=\"fas fa-download\"></i></a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<textarea size=\"20\" class=\"vst-textinput\" name=\"v_csr\" id=\"v_csr\"><?=$v_csr ?> </textarea>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<table class=\"data-col2\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td style=\"padding: 24px 0 0 0;\">\n\t\t\t\t\t\t\t\t<input type=\"button\" class=\"button cancel\" value=\"<?=_('Back');?>\" onclick=\"<?=$back ?>\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</form>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a href=\"/add/user/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add User');?></a>\n\t\t\t<a href=\"/list/package/\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-box-open status-icon orange\"></i><?=_('Packages');?></a>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-bandwidth\" sort_as_int=\"1\"><span class=\"name\"><?=_('Bandwidth');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-disk\" sort_as_int=\"1\"><span class=\"name\"><?=_('Disk');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = _('Name'); } else { $label = _('Date'); } ?>\n\t\t\t\t\t\t\t\t<?=$label;?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<form action=\"/bulk/user/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t<select class=\"\" name=\"action\">\n\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild\"><?=_('rebuild');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild user\"><?=_('rebuild user');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild web\"><?=_('rebuild web');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild dns\"><?=_('rebuild dns');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild mail\"><?=_('rebuild mail');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild db\"><?=_('rebuild db');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"rebuild cron\"><?=_('rebuild cron');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"update counters\"><?=_('update counters');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?= _('suspend');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units\">\n\n\t<!-- Table header -->\n\t<div class=\"table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\">\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3\"><b><?=_('Name');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-3\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Package');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><?=_('IPs');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-hdd\" title=\"<?=_('Disk');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><i class=\"fas fa-exchange-alt\" title=\"<?=_('Bandwidth');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-globe-americas\" title=\"<?=_('Web Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-atlas\" title=\"<?=_('DNS Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-mail-bulk\" title=\"<?=_('Mail Domains');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-database\" title=\"<?=_('Databases');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-clock\" title=\"<?=_('Cron Jobs');?>\"></i></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><i class=\"fas fa-file-archive\" title=\"<?=_('Backups');?>\"></i></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin user list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t++$i;\n\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t$status = 'suspended';\n\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t$spnd_confirmation = _('UNSUSPEND_USER_CONFIRMATION');\n\t\t\t} else {\n\t\t\t\t$status = 'active';\n\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t$spnd_confirmation = _('SUSPEND_USER_CONFIRMATION');\n\t\t\t}\n\t\t?>\n\t\t<div class=\"l-unit <?php if ($status == 'suspended') echo 'l-unit--suspended'; if($_SESSION['favourites']['USER'][$key] == 1) echo ' l-unit--starred';?> animated fadeIn\" v_section=\"user\"\n\t\t\tv_unit_id=\"<?=$key?>\" sort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\" sort-name=\"<?=strtolower($key)?>\"\n\t\t\tsort-bandwidth=\"<?=$data[$key]['U_BANDWIDTH']?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\" sort-star=\"<?php if ($_SESSION['favourites']['USER'][$key] == 1) echo '1'; else echo '0'; ?>\">\n\t\t\t<div class=\"l-unit__col l-unit__col--right\" style=\"<?php if (($_SESSION['POLICY_SYSTEM_HIDE_ADMIN'] === 'yes') && ($_SESSION['user'] !== 'admin') && ($key === 'admin')) { echo 'display: none';} else {echo 'display: table-cell';}?>\">\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t<input id=\"check<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"user[]\" value=\"<?=$key?>\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-3 userlist-username\">\n\t\t\t\t\t<?php if ($key == $user) { ?>\n\t\t\t\t\t\t<b><a href=\"/edit/user/?user=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing User');?>\"><?=$key?> <span style=\"font-weight: normal !important;\">(<?=$data[$key]['NAME'];?>)</span></b></a>\n\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t<b><a href=\"/login/?loginas=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('login as');?> <?=$key?>\"><?=$key?> <span style=\"font-weight: normal !important;\">(<?=$data[$key]['NAME'];?>)</span></b></a>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div class=\"userlist-email\"><b><?=_('Email');?>:</b> <?=$data[$key]['CONTACT']?></div>\n\t\t\t\t</div>\n\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-right compact-3\">\n\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t<?php if ($key == $user) { ?>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-user-check status-icon status-icon dim icon-large\" title=\"<?=$key?> (<?=$data[$key]['NAME']?>)\"></i>\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<a href=\"/login/?loginas=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('login as');?> <?=$key?>\"><i class=\"fas fa-sign-in-alt status-icon green status-icon dim icon-large\"></i></a>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php if (($_SESSION['userContext'] === 'admin') && ($key == 'admin') && ($_SESSION['user'] != 'admin')) { ?>\n\t\t\t\t\t\t\t\t<!-- Hide edit button from admin user when logged in with another admin user -->\n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-enter\" key-action=\"href\"><a href=\"/edit/user/?user=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing User');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php if ($key == 'admin') { ?>\n\t\t\t\t\t\t\t\t<!-- Hide suspend and delete buttons in the user list for primary 'admin' account -->\n\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<?php if ($key == $user) { ?>\n\t\t\t\t\t\t\t\t\t<!-- Hide suspend and delete buttons in the user list for current user -->\n\t\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/user/?user=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/user/?user=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_USER_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\">\n\t\t\t\t\t<b>\n\t\t\t\t\t\t<?php if ($data[$key]['PACKAGE'] === 'default' ){?>\n\t\t\t\t\t\t\t<?=$data[$key]['PACKAGE']?>\n\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t<a href=\"/edit/package/?package=<?=$data[$key]['PACKAGE']?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Edit Package');?>\"><?=$data[$key]['PACKAGE']?></a>\n\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t</b>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><?=$data[$key]['IP_OWNED']?></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\"><b><?=humanize_usage_size($data[$key]['U_DISK'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_DISK'])?></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=humanize_usage_size($data[$key]['U_BANDWIDTH'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_BANDWIDTH'])?></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_WEB_DOMAINS']?> <?=_('Web Domains');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_WEB_DOMAINS']?></b></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_DNS_DOMAINS']?> <?=_('DNS Domains');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_DNS_DOMAINS']?></b></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_MAIL_DOMAINS']?> <?=_('Mail Domains');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_MAIL_DOMAINS']?></b></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_DATABASES']?> <?=_('Databases');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_DATABASES']?></b></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_CRON_JOBS']?> <?=_('Cron Jobs');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_CRON_JOBS']?></b></span></div>\n\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center super-compact\" title=\"<?=$data[$key]['U_BACKUPS']?> <?=_('Backups');?>\"><span class=\"jump-top badge gray raised\"><b><?=$data[$key]['U_BACKUPS']?></b></span></div>\n\t\t\t</div>\n\t\t</div>\n\t<?php } ?>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator visible\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d user account', '%d user accounts', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center\">\n\t<div class=\"l-sort clearfix noselect\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t<a href=\"/add/web/\" id=\"btn-create\" class=\"ui-button cancel\" dir=\"ltr\"><i class=\"fas fa-plus-circle status-icon green\"></i><?=_('Add Web Domain');?></a>\n\t\t\t<?php } ?>\n\t\t</div>\n\t\t<ul class=\"context-menu sort-order animated fadeIn\" style=\"display:none;\">\n\t\t\t<li entity=\"sort-bandwidth\" sort_as_int=\"1\"><span class=\"name\"><?=_('Bandwidth');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-date\" sort_as_int=\"1\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'date') { echo 'active'; } ?>\"><?=_('Date');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-disk\" sort_as_int=\"1\"><span class=\"name\"><?=_('Disk');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-name\"><span class=\"name <?php if ($_SESSION['userSortOrder'] === 'name') { echo 'active'; } ?>\"><?=_('Name');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t\t<li entity=\"sort-ip\" sort_as_int=\"1\"><span class=\"name\"><?=_('IP address');?> <i class=\"fas fa-sort-alpha-down\"></i></span><span class=\"up\"><i class=\"fas fa-sort-alpha-up\"></i></span></li>\n\t\t</ul>\n\t\t<div class=\"l-sort-toolbar clearfix\">\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"sort-by\" title=\"<?=_('Sort items');?>\">\n\t\t\t\t\t\t<?=_('sort by');?>: <span>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t<?php if ($_SESSION['userSortOrder'] === 'name') { $label = ('Name'); } else { $label = _('Date'); } ?>\n\t\t\t\t\t\t\t\t<?=$label?> <i class=\"fas fa-sort-alpha-down\"></i>\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"l-sort-toolbar__search-box\">\n\t\t\t\t\t\t<form action=\"/search/\" method=\"get\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t<input type=\"text\" name=\"q\" class=\"search-input\" value=\"<? echo isset($_POST['q']) ? htmlspecialchars($_POST['q']) : '' ?>\" title=\"<?=_('Search');?>\" />\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" onclick=\"return doSearch('/search/')\" value=\"\" title=\"<?=_('Search');?>\"><i class=\"fas fa-search\"></i></button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</td>\n\t\t\t\t\t<?php if ($read_only !== 'true') {?>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<form action=\"/bulk/web/\" method=\"post\" id=\"objects\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t<div class=\"l-select\">\n\t\t\t\t\t\t\t\t\t<select name=\"action\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"><?=_('apply to selected');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php if ($_SESSION['userContext'] === 'admin') {?>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"rebuild\"><?=_('rebuild');?></option>\n\t\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t\t<option value=\"suspend\"><?=_('suspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"unsuspend\"><?=_('unsuspend');?></option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"delete\"><?=_('delete');?></option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"l-sort-toolbar__filter-apply\" value=\"\" title=\"<?=_('apply to selected');?>\"><i class=\"fas fa-arrow-right\"></i></button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t<?php } ?>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center units narrow\">\n\t\n\t<!-- Table header -->\n\t<div class=\"header table-header\">\n\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t<input id=\"toggle-all\" type=\"checkbox\" name=\"toggle-all\" value=\"toggle-all\" title=\"<?=_('Select all');?>\" onChange=\"checkedAll('objects');\" <?=$display_mode;?>>\n\t\t\t</div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-4\"><b><?=_('Name');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\"><b>&nbsp;</b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('IP address');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('Disk');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('Bandwidth');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=_('SSL');?></b></div>\n\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=_('Statistics');?></b></div>\n\t\t</div>\n\t</div>\n\n\t<!-- Begin web domain list item loop -->\n\t<?php\n\t\tforeach ($data as $key => $value) {\n\t\t\t\t++$i;\n\t\t\t\tif ($data[$key]['SUSPENDED'] == 'yes') {\n\t\t\t\t\t\t$status = 'suspended';\n\t\t\t\t\t\t$spnd_action = 'unsuspend';\n\t\t\t\t\t\t$spnd_icon = 'fa-play';\n\t\t\t\t\t\t$spnd_confirmation = _('UNSUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t\t} else {\n\t\t\t\t\t\t$status = 'active';\n\t\t\t\t\t\t$spnd_action = 'suspend';\n\t\t\t\t\t\t$spnd_icon = 'fa-pause';\n\t\t\t\t\t\t$spnd_confirmation = _('SUSPEND_DOMAIN_CONFIRMATION');\n\t\t\t\t}\n\t\t\t\tif (!empty($data[$key]['SSL_HOME'])) {\n\t\t\t\t\t\tif ($data[$key]['SSL_HOME'] == 'same') {\n\t\t\t\t\t\t\t\t$ssl_home = 'public_html';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$ssl_home = 'public_shtml';\n\t\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t\t$ssl_home = '';\n\t\t\t\t}\n\t\t\t\t$web_stats='no';\n\t\t\t\tif (!empty($data[$key]['STATS'])) {\n\t\t\t\t\t\t$web_stats=$data[$key]['STATS'];\n\t\t\t\t}\n\t\t\t\t$ftp_user='no';\n\t\t\t\tif (!empty($data[$key]['FTP_USER'])) {\n\t\t\t\t\t\t$ftp_user=$data[$key]['FTP_USER'];\n\n\t\t\t\t}\n\t\t\t\tif (strlen($ftp_user) > 24 ) {\n\t\t\t\t\t\t$ftp_user = str_replace(':', ', ', $ftp_user);\n\t\t\t\t\t\t$ftp_user = substr($ftp_user, 0, 24);\n\t\t\t\t\t\t$ftp_user = trim($ftp_user, \":\");\n\t\t\t\t\t\t$ftp_user = str_replace(':', ', ', $ftp_user);\n\t\t\t\t\t\t$ftp_user = $ftp_user.\", ...\";\n\t\t\t\t} else {\n\t\t\t\t\t\t$ftp_user = str_replace(':', ', ', $ftp_user);\n\t\t\t\t}\n\n\t\t\t\t$backend_support='no';\n\t\t\t\tif (!empty($data[$key]['BACKEND'])) {\n\t\t\t\t\t\t$backend_support='yes';\n\t\t\t\t}\n\n\t\t\t\t$proxy_support='no';\n\t\t\t\tif (!empty($data[$key]['PROXY'])) {\n\t\t\t\t\t\t$proxy_support='yes';\n\t\t\t\t}\n\t\t\t\tif (strlen($data[$key]['PROXY_EXT']) > 24 ) {\n\t\t\t\t\t\t$proxy_ext_title = str_replace(',', ', ', $data[$key]['PROXY_EXT']);\n\t\t\t\t\t\t$proxy_ext = substr($data[$key]['PROXY_EXT'], 0, 24);\n\t\t\t\t\t\t$proxy_ext = trim($proxy_ext, \",\");\n\t\t\t\t\t\t$proxy_ext = str_replace(',', ', ', $proxy_ext);\n\t\t\t\t\t\t$proxy_ext = $proxy_ext.\", ...\";\n\t\t\t\t} else {\n\t\t\t\t\t\t$proxy_ext_title = '';\n\t\t\t\t\t\t$proxy_ext = str_replace(',', ', ', $data[$key]['PROXY_EXT']);\n\t\t\t\t}\n\t\t\t\tif ($data[$key]['SUSPENDED'] === 'yes') {\n\t\t\t\t\tif ($data[$key]['SSL'] == 'no') { \n\t\t\t\t\t\t$icon_ssl = 'fas fa-times-circle';\n\t\t\t\t\t}\n\t\t\t\t\tif ($data[$key]['SSL'] == 'yes') { \n\t\t\t\t\t\t$icon_ssl = 'fas fa-check-circle';\n\t\t\t\t\t}\n\t\t\t\t\tif ($web_stats == 'no') { \n\t\t\t\t\t\t$icon_webstats = 'fas fa-times-circle';\n\t\t\t\t\t} else { \n\t\t\t\t\t\t$icon_webstats = 'fas fa-check-circle';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ($data[$key]['SSL'] == 'no') { \n\t\t\t\t\t\t$icon_ssl = 'fas fa-times-circle status-icon red';\n\t\t\t\t\t}\n\t\t\t\t\tif ($data[$key]['SSL'] == 'yes') { \n\t\t\t\t\t\t$icon_ssl = 'fas fa-check-circle status-icon green';\n\t\t\t\t\t}\n\t\t\t\t\tif ($web_stats == 'no') { \n\t\t\t\t\t\t$icon_webstats = 'fas fa-times-circle status-icon red';\n\t\t\t\t\t} else { \n\t\t\t\t\t\t$icon_webstats = 'fas fa-check-circle status-icon green';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t?>\n\t\t\t<div class=\"l-unit <?php if ($data[$key]['SUSPENDED'] == 'yes') echo 'l-unit--suspended'; if($_SESSION['favourites']['WEB'][$key] == 1) echo ' l-unit--starred'; ?> animated fadeIn\" v_section=\"web\" v_unit_id=\"<?=$key?>\"\n\t\t\t\tid=\"web-unit-<?=$i?>\" sort-ip=\"<?=str_replace('.', '', $data[$key]['IP'])?>\"\n\t\t\t\tsort-date=\"<?=strtotime($data[$key]['DATE'].' '.$data[$key]['TIME'])?>\"\n\t\t\t\tsort-name=\"<?=$key?>\" sort-bandwidth=\"<?=$data[$key]['U_BANDWIDTH']?>\" sort-disk=\"<?=$data[$key]['U_DISK']?>\" sort-star=\"<?php if ($_SESSION['WEB'][$key] == 1) echo '1'; else echo '0';?>\">\n\t\t\t\t<div class=\"l-unit__col l-unit__col--right\">\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left super-compact\">\n\t\t\t\t\t\t<input id=\"check<?=$i?>\" class=\"ch-toggle\" type=\"checkbox\" title=\"<?=_('Select');?>\" name=\"domain[]\" value=\"<?=$key?>\" <?=$display_mode;?>>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left wide-4 truncate\">\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t<?=$key?>\n\t\t\t\t\t\t\t<?php } else {\n\t\t\t\t\t\t\t\t$aliases = explode(',', $data[$key]['ALIAS']);\n\t\t\t\t\t\t\t\t$alias_new = array();\n\t\t\t\t\t\t\t\tforeach($aliases as $alias){\n\t\t\t\t\t\t\t\t\tif($alias != 'www.'.$key){\n\t\t\t\t\t\t\t\t\t\t$alias_new[] = trim($alias);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t?>\n\t\t\t\t\t\t\t\t<a href=\"/edit/web/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Domain');?>: <?=$key?>\"><?=$key?><?php if( !empty($alias_new) && !empty($data[$key]['ALIAS']) ){ echo \" <span class=\\\"hint\\\">(\".implode(',',$alias_new).\")\"; } ?></a>\n\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t</b>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- START QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left compact-4 text-right\">\n\t\t\t\t\t\t<div class=\"l-unit-toolbar__col l-unit-toolbar__col--right noselect\">\n\t\t\t\t\t\t\t<div class=\"actions-panel clearfix\">\n\t\t\t\t\t\t\t\t<?php if (!empty($data[$key]['STATS'])) { ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-w\" key-action=\"href\"><a href=\"http://<?=$key?>/vstats/\" rel=\"noopener\" target=\"_blank\" rel=\"noopener\" title=\"<?=_('Statistics');?>\"><i class=\"fas fa-chart-bar status-icon maroon status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__view\" key-action=\"href\"><a href=\"http://<?=$key?>/\" rel=\"noopener\" target=\"_blank\"><i class=\"fas fa-external-link-square-alt status-icon lightblue status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t<?php if ($read_only === 'true') {?>\n\t\t\t\t\t\t\t\t\t<!-- Restrict ability to edit, delete, or suspend web domains when impersonating the 'admin' account -->\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t<?php } else { ?>\n\t\t\t\t\t\t\t\t\t<?php if ($data[$key]['SUSPENDED'] == 'no') {?>\n\t\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__edit shortcut-enter\" key-action=\"href\"><a href=\"/edit/web/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" title=\"<?=_('Editing Domain');?>\"><i class=\"fas fa-pencil-alt status-icon orange status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__logs shortcut-l\" key-action=\"href\"><a href=\"/list/web-log/?domain=<?=$key?>&type=access#\" title=\"<?=_('AccessLog');?>\"><i class=\"fas fa-binoculars status-icon purple status-icon dim\"></i></a></div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__suspend shortcut-s\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"<?=$spnd_action ?>_link_<?=$i?>\" class=\"data-controls do_<?=$spnd_action?>\" title=\"<?=_($spnd_action)?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas <?=$spnd_icon?> status-icon highlight status-icon dim do_<?=$spnd_action?>\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"<?=$spnd_action?>_url\" value=\"/<?=$spnd_action?>/web/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"<?=$spnd_action?>_dialog_<?=$i?>\" class=\"confirmation-text-suspention hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf($spnd_confirmation,$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"actions-panel__col actions-panel__delete shortcut-delete\" key-action=\"js\">\n\t\t\t\t\t\t\t\t\t\t<a id=\"delete_link_<?=$i?>\" class=\"data-controls do_delete\" title=\"<?=_('delete');?>\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-trash status-icon red status-icon dim do_delete\"></i>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"delete_url\" value=\"/delete/web/?domain=<?=$key?>&token=<?=$_SESSION['token']?>\" />\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"delete_dialog_<?=$i?>\" class=\"confirmation-text-delete hidden\" title=\"<?=_('Confirmation');?>\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"confirmation\"><?=sprintf(_('DELETE_DOMAIN_CONFIRMATION'),$key)?></p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<?php } ?>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- END QUICK ACTION TOOLBAR AREA -->\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><?=empty($ips[$data[$key]['IP']]['NAT']) ? $data[$key]['IP'] : \"{$ips[$data[$key]['IP']]['NAT']}\"; ?></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\"><b><?=humanize_usage_size($data[$key]['U_DISK'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_DISK'])?></span></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\"><b><?=humanize_usage_size($data[$key]['U_BANDWIDTH'])?></b> <span class=\"text-small\"><?=humanize_usage_measure($data[$key]['U_BANDWIDTH'])?></span></div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center\">\n\t\t\t\t\t\t<i class=\"fas <?=$icon_ssl;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"clearfix l-unit__stat-col--left text-center compact\">\n\t\t\t\t\t\t<i class=\"fas <?=$icon_webstats;?>\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<?php } ?>\n\t</div>\n</div>\n\n<div id=\"vstobjects\">\n\t<div class=\"l-separator\"></div>\n\t<div class=\"l-center\">\n\t\t<div class=\"l-unit-ft\">\n\t\t\t<table class='data'></table>\n\t\t\t<div class=\"data-count l-unit__col l-unit__col--right clearfix\">\n\t\t\t\t<?php printf(ngettext('%d web domain', '%d web domains', $i),$i); ?>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/edit/web/?domain=<?=htmlentities($v_domain)?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\" style=\"padding-top:240px;\">\n\n\t<div style=\"margin-left:68px; margin-top: 20px\">\n\t\t<div class=\"page-title\">\n\t\t\t<span><?=_('Quick Install App');?></span><br>\n\t\t</div>\n\t\t<div>\n\t\t\t<span>\n\t\t\t\t<?php\n\t\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\t\t$msg_icon = 'fa-exclamation-circle status-icon red';\n\t\t\t\t\t\t$msg_text = htmlentities($_SESSION['error_msg']);\n\t\t\t\t\t\t$msg_id = 'vst-error';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\t\t$msg_icon = 'fa-check-circle status-icon green';\n\t\t\t\t\t\t\t$msg_text = $_SESSION['ok_msg'];\n\t\t\t\t\t\t\t$msg_id = 'vst-ok';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t?>\n\t\t\t\t<span class=\"<?=$msg_id;?>\"> <i class=\"fas <?=$msg_icon;?>\"></i> <?=$msg_text;?></span>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\t<div class=\"app-list cards\">\n\t\t<!-- List available web apps -->\n\t\t<?php foreach($v_web_apps as $webapp):?>\n\t\t\t<div class=\"card <?=($webapp['enabled']?'':'disable');?>\">\n\t\t\t\t<span class=\"card-thumb\"><img src=\"/src/app/WebApp/Installers/<?=$webapp['name'];?>/<?=$webapp['thumbnail'];?>\"></span>\n\t\t\t\t<div class=\"card-details\">\n\t\t\t\t\t<p class=\"card-title\"><?=$webapp['name'];?></p>\n\t\t\t\t\t<p><?=_('version');?>: <?=$webapp['version'];?></p>\n\t\t\t\t\t<a href=\"/add/webapp/?app=<?=$webapp['name'];?>&domain=<?=htmlentities($v_domain)?>\" class=\"ui-button cancel\" dir=\"ltr\"><?=_('Setup');?></a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<?php endforeach; ?>\n\t</div>\n</div>", "<!doctype html>\n<html lang=\"en\">\n\n<head>\n\t<!-- Load necessary CSS and JavaScript from source -->\n\t<?php require ''.$_SERVER['HESTIA'].'/web/templates/includes/title.html'; ?>\n\t<?php require ''.$_SERVER['HESTIA'].'/web/templates/includes/css.html'; ?>\n\t<?php require ''.$_SERVER['HESTIA'].'/web/templates/includes/top_js.html'; ?>\n\t<script src=\"/js/jquery/jquery.cookie.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/jquery/jquery-ui.min.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/jquery/jquery.finder.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/hotkeys.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/events.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/app.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/init.js?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/i18n.js.php?<?=JS_LATEST_UPDATE?>\"></script>\n\t<script src=\"/js/templates.js?<?=JS_LATEST_UPDATE?>\"></script>\n</head>\n\n<body>\n\t<a href=\"#\" class=\"to-top\" title=\"<?=_('Top');?>\">\n\t\t<i class=\"fas fa-arrow-up\"></i>\n\t</a>\n\t<div class=\"l-header\">\n\t\t<div class=\"l-center\">\n\t\t\t<a href=\"/\" class=\"l-logo\"></a>\n\t\t\t<div class=\"l-menu clearfix\">\n\t\t\t\t<div class=\"l-menu__item\"><a href=\"/list/web/\"><i class=\"fas fa-arrow-alt-circle-left\"></i>&nbsp;&nbsp;&nbsp;<?=_('Back');?></a></div>\n\t\t\t\t<div class=\"l-menu__item <?php if($_GET['type'] == 'access') echo 'l-menu__item--active' ?>\"><a href=\"/list/web-log/?domain=<?=htmlentities($_GET['domain'])?>&type=access&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-eye\"></i>&nbsp;&nbsp;&nbsp;<?=_('Access Log');?></a><a href=\"/download/web-log/?domain=<?=htmlentities($_GET['domain'])?>&type=access&&token=<?=$_SESSION['token']?>\" title=\"<?=_('Download');?>\"><i class=\"fas fa-download\"></i></a></div>\n\t\t\t\t<div class=\"l-menu__item <?php if($_GET['type'] == 'error') echo 'l-menu__item--active' ?>\"><a href=\"/list/web-log/?domain=<?=htmlentities($_GET['domain'])?>&type=error&token=<?=$_SESSION['token']?>\"><i class=\"fas fa-exclamation-circle\"></i>&nbsp;&nbsp;&nbsp;<?=_('Error Log');?></a><a href=\"/download/web-log/?domain=<?=htmlentities($_GET['domain'])?>&type=error&token=<?=$_SESSION['token']?>\" title=\"<?=_('Download');?>\"><i class=\"fas fa-download\"></i></a></div>\n\t\t\t</div>\n\t\t\t<div class=\"l-profile\">\n\t\t\t\t<div class=\"l-menu__item\"><a href=\"javascript:location.reload();\" title=\"<?=_('Refresh');?>\"><i class=\"fas fa-redo\"></i></a></div>\n\t\t\t\t<div class=\"l-menu__item\"><a href=\"/edit/user/?user=<?=htmlentities($user); ?>\" title=\"<?=htmlentities($user)?>\" class=\"l-profile__username\"><i class=\"fas fa-user-circle\"></i></a></div>\n\t\t\t\t<div class=\"l-menu__item\"><a href=\"/logout/?token=<?=$_SESSION['token']?>\" title=\"<?=_('Log out');?>\" class=\"l-profile__logout\"><i class=\"fas fa-sign-out-alt\"></i></a></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div style=\"margin-left: auto; margin-right: auto; padding-top: 80px; width: 1020px;\"><?=_('Last 70 lines of %s.%s.log',htmlentities($_GET['domain']),htmlentities($_GET['type'])) ;?></div>\n\t<pre style=\"width: 1020px; margin-left: auto; margin-right: auto;\" class=\"console-output\">", "<center>\n\t<table class=\"login\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td style=\"padding: 22px 30px 0 42px; height: 280px; width: 170px;\">\n\t\t\t\t\t\t\t<a href=\"/\"><img border=0 src=\"/images/logo.svg\" title=\"<?=_('Hestia Control Panel');?>\" style=\"margin-top: 70px;\" /></a>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td style=\"padding: 40px 60px 0 0;\" class=\"animated fadeIn\">\n\t\t\t\t\t\t\t<form method=\"get\" action=\"/reset/\">\n\t\t\t\t\t\t\t\t<table class=\"login-box\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\" class=\"login-welcome\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Forgot Password');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('RESET_CODE_SENT');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\" colspan=2><?=_('Reset Code');?></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"action\" value=\"confirm\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=htmlentities($_SESSION['token']);?>\"/>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"user\" value=\"<?=htmlentities($_GET['user'])?>\">\n\t\t\t\t\t\t\t\t\t\t\t<input tabindex=\"1\" type=\"text\" size=\"20px\" style=\"width:240px\" name=\"code\" class=\"vst-input\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 20px 0 12px 0;\">\n\t\t\t\t\t\t\t\t\t\t\t<input tabindex=\"2\" type=\"submit\" value=\"<?=_('Confirm');?>\" class=\"button\">&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"button\" class=\"button cancel\" value=\"<?=_('Back');?>\" onclick=\"location.href='/reset/'\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td colspan=2>\n\t\t\t\t\t\t\t<div class=\"login-bottom\">\n\t\t\t\t\t\t\t\t<div style=\"height:20px\"><?php if (isset($ERROR)) echo $ERROR ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n</center>\n</body>\n\n</html>", "<center>\n\t<table class=\"login\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td style=\"padding: 22px 30px 0 42px; height: 280px; width: 170px;\">\n\t\t\t\t\t\t\t<a href=\"/\"><img border=0 src=\"/images/logo.svg\" title=\"<?=_('Hestia Control Panel');?>\" style=\"margin-top: 70px;\" /></a>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td style=\"padding: 40px 60px 0 0;\" class=\"animated fadeIn\">\n\t\t\t\t\t\t\t<form method=\"post\">\n\t\t\t\t\t\t\t\t<table class=\"login-box\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\" class=\"login-welcome\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Forgot Password');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"action\" value=\"confirm\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=htmlentities($_SESSION['token']);?>\"/>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"user\" value=\"<?=htmlentities($_GET['user']);?>\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"code\" value=\"<?=htmlentities($_GET['code']);?>\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('New Password');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input tabindex=\"1\" type=\"password\" size=\"20px\" style=\"width:200px;\" name=\"password\" class=\"vst-input\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 12px 0 0 2px;\">\n\t\t\t\t\t\t\t\t\t\t\t<?=_('Confirm Password');?>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<input tabindex=\"2\" type=\"password\" size=\"20px\" style=\"width:200px;\" name=\"password_confirm\" class=\"vst-input\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style=\"padding: 20px 0 12px 0;\">\n\t\t\t\t\t\t\t\t\t\t\t<input tabindex=\"3\" type=\"submit\" value=\"<?=_('Reset');?>\" class=\"button\">&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"button\" class=\"button cancel\" value=\"<?=_('Back');?>\" onclick=\"location.href='/login/'\">\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td colspan=2>\n\t\t\t\t\t\t\t<div class=\"login-bottom\">\n\t\t\t\t\t\t\t\t<div style=\"height:20px\"><?php if (isset($ERROR)) echo $ERROR ?></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n</center>\n</body>\n\n</html>", "<!-- Begin toolbar -->\n<div class=\"l-center edit\">\n\t<div class=\"l-sort clearfix\">\n\t\t<div class=\"l-unit-toolbar__buttonstrip\">\n\t\t\t<a class=\"ui-button cancel\" dir=\"ltr\" id=\"btn-back\" href=\"/add/webapp/?domain=<?=htmlentities($v_domain);?>\"><i class=\"fas fa-arrow-left status-icon blue\"></i><?=_('Back');?></a>\n\t\t</div>\n\t\t<div class=\"l-unit-toolbar__buttonstrip float-right\">\n\t\t\t<?php\n\t\t\t\tif (!empty($_SESSION['error_msg'])) {\n\t\t\t\t\techo \"<span class=\\\"vst-error\\\"> \u2192 \".htmlentities($_SESSION['error_msg']).\"</span>\";\n\t\t\t\t} else {\n\t\t\t\t\tif (!empty($_SESSION['ok_msg'])) {\n\t\t\t\t\t\techo \"<span class=\\\"vst-ok\\\"> \u2192 \".$_SESSION['ok_msg'].\"</span>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t?>\n\t\t\t<a href=\"#\" class=\"ui-button\" data-action=\"submit\" data-id=\"vstobjects\"><i class=\"fas fa-save status-icon purple\"></i> <?=_('Install');?></a>\n\t\t</div>\n\t</div>\n</div>\n<!-- End toolbar -->\n\n<div class=\"l-separator\"></div>\n\n<div class=\"l-center animated fadeIn\" style=\"padding-top:240px;\">\n\n\t<?php if( !empty($WebappInstaller->getOptions())): ?>\n\t\t<form id=\"vstobjects\" method=\"POST\" name=\"v_setup_webapp\" style=\"padding-top:0px;\">\n\t\t\t<input type=\"hidden\" name=\"token\" value=\"<?=$_SESSION['token']?>\" />\n\t\t\t<input type=\"hidden\" name=\"ok\" value=\"true\" />\n\n\t\t\t<div class=\"app-form\">\n\t\t\t\t<?php if( !$WebappInstaller->isDomainRootClean()): ?>\n\t\t\t\t\t<span class=\"alert alert-info alert-with-icon\">\n\t\t\t\t\t\t<i class=\"fas fa-info\"></i>\n\t\t\t\t\t\t<?=_('Data loss warning!<br>Your web domain already has files uploaded, the installer will overwrite your files and/or the installation might fail.<br/><br/> Please use the installer only for empty web domains');?>\n\t\t\t\t\t</span>\n\t\t\t\t\t<br />\n\t\t\t\t<?php endif; ?>\n\t\t\t\t<?php foreach ($WebappInstaller->getOptions() as $form_name => $form_control):?>\n\t\t\t\t\t<?php\n\t\t\t\t\t\t$f_name = $WebappInstaller->formNs() . '_' . $form_name;\n\t\t\t\t\t\t$f_type = $form_control;\n\t\t\t\t\t\t$f_value = '';\n\t\t\t\t\t\tif(isset($form_control['label'])){\n\t\t\t\t\t\t\t$f_label = htmlentities($form_control['label']);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$f_label = ucwords(str_replace(['.','_'], ' ', $form_name));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$f_placeholder = '';\n\t\t\t\t\t\tif (is_array($form_control)) {\n\t\t\t\t\t\t\t\t$f_type = (!empty($form_control['type']))?$form_control['type']:'text';\n\t\t\t\t\t\t\t\t$f_value = (!empty($form_control['value']))?$form_control['value']:'';\n\t\t\t\t\t\t\t\t$f_placeholder = (!empty($form_control['placeholder']))?$form_control['placeholder']:'';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$f_value = htmlentities($f_value);\n\t\t\t\t\t\t$f_label = htmlentities($f_label);\n\t\t\t\t\t\t$f_name = htmlentities($f_name);\n\t\t\t\t\t\t$f_placeholder = htmlentities($f_placeholder);\n\t\t\t\t\t?>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label style=\"padding-bottom: 2px;\" for=\"<?=$f_name?>\"><?=$f_label?>\n\t\t\t\t\t\t\t<?php if ($f_type === 'password'):?> / <a href=\"javascript:randomString('<?=$f_name?>');\" class=\"generate\"><?=_('generate');?></a> <?php endif?>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<?php if (in_array($f_type, ['select']) && count($form_control['options']) ):?>\n\t\t\t\t\t\t\t<p style=\"margin-top:0;\"></p>\n\t\t\t\t\t\t\t<select class=\"vst-list\" name=\"<?=$f_name?>\">\n\t\t\t\t\t\t\t\t<?php foreach ($form_control['options'] as $option):?>\n\t\t\t\t\t\t\t\t\t<?php $selected = (!empty($form_control['value']) && $option === $form_control['value'])?'selected':''?>\n\t\t\t\t\t\t\t\t\t<option value=\"<?=$option?>\" <?=$selected?>><?=htmlentities($option)?></option>\n\t\t\t\t\t\t\t\t<?php endforeach; ?>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<?php elseif (in_array($f_type, ['boolean'])):?>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<?php $checked = (!empty($f_value))?'checked':''?>\n\t\t\t\t\t\t\t\t<input style=\"width:auto;\" type=\"checkbox\" class=\"vst-input\" name=\"<?=$f_name?>\" id=\"<?=$f_name?>\" <?=$checked?> value=\"true\">\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<?php else:?>\n\t\t\t\t\t\t\t<p style=\"margin-top:0;\"></p>\n\t\t\t\t\t\t\t<input type=\"text\" size=\"20\" class=\"vst-input\" name=\"<?=$f_name?>\" id=\"<?=$f_name?>\" placeholder=\"<?=$f_placeholder?>\" value=\"<?=$f_value?>\">\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<?php endif; ?>\n\t\t\t\t\t</div>\n\t\t\t\t<?php endforeach; ?>\n\t\t\t</div>\n\t\t</form>\n\t<?php endif ?>\n</div>", "<?php\n\n// Init\nob_start();\n\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['job'])) {\n    $v_job = escapeshellarg($_GET['job']);\n    exec(HESTIA_CMD.\"v-unsuspend-cron-job \".$user.\" \".$v_job, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n$back=getenv(\"HTTP_REFERER\");\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/cron/\");\nexit;\n", "<?php\n\n// Init\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['database'])) {\n    $v_database = escapeshellarg($_GET['database']);\n    exec(HESTIA_CMD.\"v-unsuspend-database \".$user.\" \".$v_database, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n$back=getenv(\"HTTP_REFERER\");\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/db/\");\nexit;\n", "<?php\n\n// Init\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// DNS domain\nif ((!empty($_GET['domain'])) && (empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-unsuspend-dns-domain \".$user.\" \".$v_domain, $output, $return_var);\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = _('Error: Hestia did not return any output.');\n        }\n        $_SESSION['error_msg'] = $error;\n    }\n    unset($output);\n    $back=getenv(\"HTTP_REFERER\");\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/\");\n    exit;\n}\n\n// DNS record\nif ((!empty($_GET['domain'])) && (!empty($_GET['record_id']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_record_id = escapeshellarg($_GET['record_id']);\n    exec(HESTIA_CMD.\"v-unsuspend-dns-record \".$user.\" \".$v_domain.\" \".$v_record_id, $output, $return_var);\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = _('Error: Hestia did not return any output.');\n        }\n        $_SESSION['error_msg'] = $error;\n    }\n    unset($output);\n    $back=getenv(\"HTTP_REFERER\");\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/dns/?domain=\".$_GET['domain']);\n    exit;\n}\n\n$back=getenv(\"HTTP_REFERER\");\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/dns/\");\nexit;\n", "<?php\n\n// Init\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\n// Mail domain\nif ((!empty($_GET['domain'])) && (empty($_GET['account']))) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-unsuspend-mail-domain \".$user.\" \".$v_domain, $output, $return_var);\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = _('Error: Hestia did not return any output.');\n        }\n        $_SESSION['error_msg'] = $error;\n    }\n    unset($output);\n    $back=getenv(\"HTTP_REFERER\");\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/\");\n    exit;\n}\n\n// Mail account\nif ((!empty($_GET['domain'])) && (!empty($_GET['account']))) {\n    $v_username = escapeshellarg($user);\n    $v_domain = escapeshellarg($_GET['domain']);\n    $v_account = escapeshellarg($_GET['account']);\n    exec(HESTIA_CMD.\"v-unsuspend-mail-account \".$user.\" \".$v_domain.\" \".$v_account, $output, $return_var);\n    if ($return_var != 0) {\n        $error = implode('<br>', $output);\n        if (empty($error)) {\n            $error = _('Error: Hestia did not return any output.');\n        }\n        $_SESSION['error_msg'] = $error;\n    }\n    unset($output);\n    $back=getenv(\"HTTP_REFERER\");\n    if (!empty($back)) {\n        header(\"Location: \".$back);\n        exit;\n    }\n    header(\"Location: /list/mail/?domain=\".$_GET['domain']);\n    exit;\n}\n\n$back=getenv(\"HTTP_REFERER\");\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/mail/\");\nexit;\n", "<?php\n\n// Init\nob_start();\ninclude($_SERVER['DOCUMENT_ROOT'].\"/inc/main.php\");\n\n// Check token\nverify_csrf($_GET);\n\nif (!empty($_GET['domain'])) {\n    $v_domain = escapeshellarg($_GET['domain']);\n    exec(HESTIA_CMD.\"v-unsuspend-domain \".$user.\" \".$v_domain, $output, $return_var);\n    check_return_code($return_var, $output);\n    unset($output);\n}\n\n\n$back=getenv(\"HTTP_REFERER\");\nif (!empty($back)) {\n    header(\"Location: \".$back);\n    exit;\n}\n\nheader(\"Location: /list/web/\");\nexit;\n"], "filenames": ["install/deb/phpmyadmin/hestia-sso.php", "web/delete/backup/exclusion/index.php", "web/delete/backup/index.php", "web/delete/cron/index.php", "web/delete/db/index.php", "web/delete/dns/index.php", "web/delete/key/index.php", "web/delete/log/auth/index.php", "web/delete/log/index.php", "web/delete/mail/index.php", "web/delete/notification/index.php", "web/delete/web/cache/index.php", "web/delete/web/index.php", "web/download/backup/index.php", "web/edit/cron/index.php", "web/edit/db/index.php", "web/edit/dns/index.php", "web/edit/firewall/index.php", "web/edit/ip/index.php", "web/edit/mail/index.php", "web/edit/package/index.php", "web/edit/user/index.php", "web/edit/web/index.php", "web/inc/main.php", "web/login/index.php", "web/suspend/cron/index.php", "web/suspend/db/index.php", "web/suspend/dns/index.php", "web/suspend/mail/index.php", "web/suspend/user/index.php", "web/suspend/web/index.php", "web/templates/includes/title.html", "web/templates/pages/add_cron.html", "web/templates/pages/add_db.html", "web/templates/pages/add_dns.html", "web/templates/pages/add_dns_rec.html", "web/templates/pages/add_firewall.html", "web/templates/pages/add_firewall_banlist.html", "web/templates/pages/add_firewall_ipset.html", "web/templates/pages/add_ip.html", "web/templates/pages/add_key.html", "web/templates/pages/add_mail.html", "web/templates/pages/add_mail_acc.html", "web/templates/pages/add_package.html", "web/templates/pages/add_user.html", "web/templates/pages/add_web.html", "web/templates/pages/edit_backup_exclusions.html", "web/templates/pages/edit_cron.html", "web/templates/pages/edit_db.html", "web/templates/pages/edit_dns.html", "web/templates/pages/edit_dns_rec.html", "web/templates/pages/edit_firewall.html", "web/templates/pages/edit_ip.html", "web/templates/pages/edit_mail.html", "web/templates/pages/edit_mail_acc.html", "web/templates/pages/edit_package.html", "web/templates/pages/edit_server.html", "web/templates/pages/edit_server_bind9.html", "web/templates/pages/edit_server_dovecot.html", "web/templates/pages/edit_server_httpd.html", "web/templates/pages/edit_server_mysql.html", "web/templates/pages/edit_server_nginx.html", "web/templates/pages/edit_server_pgsql.html", "web/templates/pages/edit_server_php.html", "web/templates/pages/edit_server_service.html", "web/templates/pages/edit_user.html", "web/templates/pages/edit_web.html", "web/templates/pages/generate_ssl.html", "web/templates/pages/list_backup_detail.html", "web/templates/pages/list_cron.html", "web/templates/pages/list_db.html", "web/templates/pages/list_dns.html", "web/templates/pages/list_dns_rec.html", "web/templates/pages/list_mail.html", "web/templates/pages/list_mail_acc.html", "web/templates/pages/list_packages.html", "web/templates/pages/list_ssl.html", "web/templates/pages/list_user.html", "web/templates/pages/list_web.html", "web/templates/pages/list_webapps.html", "web/templates/pages/list_weblog.html", "web/templates/pages/login/reset_2.html", "web/templates/pages/login/reset_3.html", "web/templates/pages/setup_webapp.html", "web/unsuspend/cron/index.php", "web/unsuspend/db/index.php", "web/unsuspend/dns/index.php", "web/unsuspend/mail/index.php", "web/unsuspend/web/index.php"], "buggy_code_start_loc": [150, 7, 7, 7, 7, 8, 10, 10, 10, 8, 9, 11, 11, 12, 22, 23, 29, 24, 24, 35, 30, 36, 22, 116, 38, 9, 13, 14, 14, 19, 15, 2, 344, 40, 40, 40, 40, 40, 40, 40, 44, 40, 40, 40, 40, 42, 41, 345, 41, 41, 41, 41, 41, 41, 41, 41, 44, 40, 40, 41, 40, 41, 40, 40, 40, 8, 8, 4, 56, 24, 43, 23, 24, 21, 27, 18, 35, 20, 22, 5, 34, 29, 21, 5, 12, 12, 12, 12, 11], "buggy_code_end_loc": [151, 17, 17, 17, 17, 46, 17, 36, 26, 44, 18, 18, 18, 15, 23, 24, 208, 25, 25, 101, 30, 37, 36, 210, 38, 12, 16, 34, 34, 21, 16, 3, 358, 54, 54, 54, 54, 54, 54, 54, 58, 54, 244, 54, 54, 325, 55, 359, 55, 55, 55, 55, 55, 235, 252, 55, 62, 54, 54, 55, 54, 55, 54, 54, 54, 162, 509, 18, 187, 26, 45, 25, 26, 23, 142, 21, 74, 22, 24, 49, 35, 31, 24, 58, 15, 15, 38, 38, 14], "fixing_code_start_loc": [150, 7, 7, 7, 7, 8, 10, 10, 10, 8, 8, 11, 11, 11, 22, 23, 29, 24, 24, 34, 31, 36, 22, 116, 39, 8, 12, 13, 13, 19, 15, 2, 344, 40, 40, 40, 40, 40, 40, 40, 44, 40, 40, 40, 40, 42, 41, 345, 41, 41, 41, 41, 41, 41, 41, 41, 44, 40, 40, 41, 40, 41, 40, 40, 40, 8, 8, 4, 56, 24, 43, 23, 24, 21, 27, 18, 35, 20, 22, 5, 34, 29, 21, 5, 11, 11, 11, 11, 10], "fixing_code_end_loc": [155, 16, 16, 17, 16, 51, 16, 35, 30, 51, 17, 17, 17, 14, 23, 24, 212, 25, 25, 92, 32, 38, 31, 239, 42, 11, 15, 32, 33, 20, 16, 3, 345, 41, 41, 41, 41, 41, 41, 41, 45, 41, 231, 41, 41, 312, 42, 346, 42, 42, 42, 42, 42, 223, 239, 42, 47, 41, 41, 42, 41, 42, 41, 41, 41, 149, 496, 5, 185, 26, 45, 25, 26, 23, 142, 23, 61, 22, 24, 49, 35, 31, 24, 60, 14, 14, 36, 37, 13], "type": "CWE-79", "message": "Cross-site Scripting (XSS) - Generic in GitHub repository hestiacp/hestiacp prior to 1.5.9.", "other": {"cve": {"id": "CVE-2022-0752", "sourceIdentifier": "security@huntr.dev", "published": "2022-03-04T12:15:07.760", "lastModified": "2022-03-10T15:05:41.380", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "Cross-site Scripting (XSS) - Generic in GitHub repository hestiacp/hestiacp prior to 1.5.9."}, {"lang": "es", "value": "Una vulnerabilidad de tipo Cross-site Scripting (XSS) - Gen\u00e9rico en el repositorio de GitHub hestiacp/hestiacp versiones anteriores a 1.5.9"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 6.1, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 2.7}], "cvssMetricV30": [{"source": "security@huntr.dev", "type": "Secondary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:U/C:L/I:N/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "LOW", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 3.5, "baseSeverity": "LOW"}, "exploitabilityScore": 2.1, "impactScore": 1.4}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:M/Au:N/C:N/I:P/A:N", "accessVector": "NETWORK", "accessComplexity": "MEDIUM", "authentication": "NONE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "NONE", "baseScore": 4.3}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.6, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": true}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-79"}]}, {"source": "security@huntr.dev", "type": "Secondary", "description": [{"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:hestiacp:control_panel:*:*:*:*:*:*:*:*", "versionEndExcluding": "1.5.9", "matchCriteriaId": "E42E974B-BEAB-45E8-9AA0-F62535DA83D4"}]}]}], "references": [{"url": "https://github.com/hestiacp/hestiacp/commit/ee10e2275139684fc9a2d32169d0da702cea5ad2", "source": "security@huntr.dev", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://huntr.dev/bounties/49940dd2-72c2-4607-857a-1fade7e8f080", "source": "security@huntr.dev", "tags": ["Exploit", "Patch", "Third Party Advisory"]}]}, "github_commit_url": "https://github.com/hestiacp/hestiacp/commit/ee10e2275139684fc9a2d32169d0da702cea5ad2"}}