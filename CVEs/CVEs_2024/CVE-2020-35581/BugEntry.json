{"buggy_code": ["\n== Changelog ==\n\n1.8.3.2\n\n* Fixed: Lightbox Bug with WordPress 5.6.0\n\n1.8.3.1\n\n* Added: Lifetime option notice.\n\n1.8.3\n\n* Updated: Recent News On Welcome Screen.\n* Updated: Links On What's New Screen.\n\n1.8.2\n\n* Added: Most Popular sort in Addons screen.\n* Updated: Recent News On Welcome Screen.\n* Updated: Links On What's New Screen.\n\n1.8.1\n\n* Added: envira_gallery_output_item_src_retina filter.\n* Added: envira_gallery_title_display filter.\n* Added: filters for aspectRatio, loop, lightbox openclose effect, and more for Fancybox settings.\n* Updated: Subscription number.\n* Updated: Remove references to Facebook Video.\n\n1.8.0.3\n\n* Fix: Tweak UI for upcoming WordPress 5.5 admin visual changes.\n* Fix: Removed outdated URL from translation files.\n\n1.8.0.2\n\n* Removed: Legacy style related to Gutenberg.\n\n1.8.0.1\n\n* Removed: Redirect upon updating.\n\n1.8.0\n\n* Added: Enable links in lightbox settings, when lightbox is deactivated.\n\n1.7.9.0\n\n* Fix: Updated bad link that resulted in a 404.\n\n1.7.8.9\n\n* Updated: Text on Welcome Screen.\n* Fix: Replace deprecated filter media_buttons_context.\n\n1.7.8.8\n\n* Added: Oringial Size option for image sizes in gallery.\n: Added: Compatibility with animated GIFS (oringial size option).\n\n1.7.8.7\n\n* Fixed: Bug associated with using non-default WordPress media upload folders.\n\n1.7.8.6\n\n* Fixed: Readme.txt updated\n\n1.7.8.5\n\n* Updated: Tested with WordPress 5.4.0.\n\n1.7.8.4\n\n* Fixed: Readme.txt updated\n\n1.7.8.2\n\n* Fixed: Version number variable updated.\n\n1.7.8.1\n\n* Fixed: Minor typos.\n\n1.7.8\n\n* Fixed: Alert message appearing in wrong location on Lite vs. Pro page.\n\n1.7.7\n\n* Updated: Minor code cleanup, updating authors.\n\n1.7.6\n\n* Updated: Welcome Screen, tracking links.\n\n1.7.5.1\n\n* Updated: Welcome Screen.\n\n1.7.5\n\n* Updated: Welcome Screen, Lite vs Pro tab.\n\n1.7.4.2\n\n* Updated: Promotion updating.\n\n1.7.4.1\n\n* Fix: Promotion updating.\n\n\n1.7.4\n\n* Added: Messaging.\n* Added: Promotion class.\n\n1.7.3.1\n\n* Fix: Resolving Gutenberg links and minor errors related to media uploads.\n\n1.7.3\n\n* Fix: Reverting some changes related to Gutenberg.\n\n1.7.2\n\n* Updated: Gutenberg performance improvements.\n* Fix: Errors related to Gutenberg updates.\n* Fix: Typo resolved in Media.php causing PHP Warning.\n\n1.7.1\n\n* Fix: Schema referenced now points to https.\n* Fix: Remove unused CSS.\n\n1.7.0\n\n* Updated: Welcome Screen information.\n* Fix: Issue involving showing captions in certain scenarios.\n* Fix: Remove unused CSS.\n\n\n= 1.7.0 =\n\n* Updated: Welcome Screen information.\n* Fix: Issue involving showing captions in certain scenarios.\n* Fix: Remove unused CSS.\n\n= 1.6.9 =\n\n* Fix: Update post_type-check in the add-meta-boxes hook.\n\n= 1.6.8 =\n\n* Added: Welcome Screen.\n* Fix: Translation tag.\n\n= 1.6.7 =\n\n* Fix: Issue involving automatic and column galleries on the same page.\n* Fix: Minor bug fixes.\n\n= 1.6.6 =\n\n* Fix: Escaping in the admin.\n* Fix: Minor bug fixes.\n\n= 1.6.5 =\n\n* Fix: Escaping in the admin\n* Remove: Error Log\n* Fix: Minor bug fixes.\n\n= 1.6.4 =\n\n* Fix: Gutenberg Block gallery preview appearing out of order.\n* Fix: Minor bug fixes.\n\n\n= 1.6.3 =\n\n* Added: Gutenberg Block support ( Beta )\n* Added: Set margins for Automatic Layouts\n* Fix: Minor bug fixes\n\n= 1.6.2 =\n\n* Fix: Image titles with numbers throwing js errors.\n* Fix: Minor bug fixes\n\n= 1.6.1.7 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1.6 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1.5 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1.4 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1.3 =\n\n* Fix: Compress CSS files.\n* Fix: External URL in Lightbox.\n* Fix: Minor bug fixes\n\n= 1.6.1.2 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1.1 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1 =\n\n* Fix: Minor bug fixes\n\n= 1.6.0 =\n\n* Added: Lazy loading\n* Fix: Minor bug fixes\n\n= 1.5.6.4 =\n\n* Fix: CSS issues TwentySeventeen\n* Fix: Minor bug fixes.\n\n= 1.5.6.3 =\n\n* Fix: Fix PHP 5.2 compatibility.\n\n\n= 1.5.6.2 =\n\n* Fix: Improved image selection based on various settings.\n* Fix: Minor bug fixes.\n\n\n= 1.5.6.1 =\n\n* Fix: Fix cases where images appear blurry with automatic layout\n* Fix: Minor bug fixes\n\n= 1.5.6 =\n\n* Fix: PHP optimizations to improve performance\n* Fix: Automatic Layout option now selects default images based on the specified row height to improve loading times\n* Fix: Minor bug fixes\n\n= 1.5.5.1 =\n\n* Fix: Fatal Error on empty trash for galleries\n\n= 1.5.5 =\n* Added: Select Image sizes for Automatic Layout.\n* Fix: Some servers limit how many images can be inserted at a time.\n* Fix: Various minor bug fixes.\n\n= 1.5.4 =\n* Fix: Error with lightbox script causing it not to load in some instances.\n\n= 1.5.3 =\n* Updated: Revising Fancybox JS.\n\n= 1.5.2 =\n* Fix: Justified layout setting of 150 pixels for row height applies to galleries that were using the older Automattic layout.\n\n= 1.5.1 =\n* Added: A justified layout replaces the old \"automatic\" layout setting for galleries. See documentation on enviragallery.com for additional information.\n* Updated: Spanish translation.\n* Fix: Removing \"Insert From Url\" option for galleries.\n* Fix: Display follows settings properly when WPML is used in certain circumstances.\n\n= 1.5.0.8 =\n* Fix: Close button in Lightbox admin bar should not jump position with longer titles.\n\n= 1.5.0.7 =\n* Fix: Addressing \"unexpected end of input\" JS Error.\n\n= 1.5.0.6 =\n* Fix: Took care of an issue with compatibility on PHP 5.2 that caused images not be editable in the image metadata modal\n* Fix: Make sure that the link modal appears above the metadata edit modal when inserting a link into the caption\n* Fix: Prevent the page from jumping to the top when navigating between images in the Lightbox\n* Fix: Prevent page from scrolling while Lightbox is active on mobile devices\n* Fix: Images on a mobile device now open with a single click\n* Fix: Adjust Lightbox transitions so that they work properly\n\n= 1.5.0.5 =\n* Fix: Make sure columns on mobile correspond to the settings selected in general config\n\n= 1.5.0.4 =\n* Fix: Improved default settings for new galleries\n* Fix: Correctly display the title in the Lightbox if the Lightbox view is defined\n* Fix: Sometimes galleries throwing JS errors in admin\n\n= 1.5.0.3 =\n* Fix: Ensure all CSS and JS is minified\n* Fix: Ensure all inline JS is minified\n* Fix: Prevent potential collisions with third party Plugins and Themes using different versions of the imagesLoaded library.\n* Fix: Minor layout issues with Addons screen\n* Fix: Improved Addons search and sorting performance\n* Fix: Prevent JS errors when Galleries are loaded by slug\n\n= 1.5.0.2 =\n* Added: ImageGallery and ImageObject Schema Markup to Galleries\n* Added: Option to insert Title as heading when using the Add button in a Visual Editor\n* Added: More detailed on screen progress bars when uploading multiple images\n* Added: envira_isotopes and envira_isotopes_config JS arrays for developers\n* Updated: Isotope to 3.0.0\n* Updated: ImagesLoaded to 4.1.0\n* Updated: Standardised edit screen titles and descriptions\n* Fix: Better rendering of Isotope layouts using imagesLoaded\n* Fix: Image uploader on Add/Edit screen not displaying on some tablet and mobile devices\n* Fix: Checkmark icon wrongly displaying on modal close when editing images.\n* Fix: Display text in warning when Envira Lite and Envira are both activated.\n* Fix: Ensure that third party notification plugins don\u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u201e\u00a2t remove the Envira logo and header from Envira screens\n* Fix: Various resets for images and captions to prevent themes overriding default behaviour\n* Fix: Minified admin CSS for faster load times\n* Fix: When editing an image, store any checkbox values if checked, instead of assuming 1 or 0 for better Addon compatibility.\n\n= 1.5.0.1 =\n* Updated: Standardised edit screen titles and descriptions\n* Updated: Screenshots\n\n= 1.5.0 =\n* Added: New UI\n* Added: WordPress native modal window for image upload, insertion from Media Library and edit\n* Added: Isotope / masonry layout on galleries\n* Added: Define Image Size for Images (either a WordPress registered size or your own dimensions)\n\n= 1.3.5.9 =\n* Fix: WordPress 4.5 compatibility.\n\n= 1.3.5.8 =\n* Fix: Changed retina icon filenames to ensure they work with All in One WP Security\n* Fix: Removed unused image files\n\n= 1.3.5.7 =\n* Fix: Use WP_Query to get galleries by slug when cache/transient is empty, preventing output blanking after a day when using caching plugins\n\n= 1.3.5.6 =\n* Fix: Menu icon would not display when All In One WP Security activated\n\n= 1.3.5.5 =\n* Fix: Use WP_Query to get galleries when cache/transient is empty, preventing output blanking after a day when using caching plugins\n\n= 1.3.5.4 =\n* Fix: Slug would not save when changed\n\n= 1.3.5.3 =\n* Fix: Close icon display on modals for WordPress 4.4\n\n= 1.3.5.2 =\n* Fix: Correct image orientation for uploaded images (whether through Envira or not). Fixes known issue: https://core.trac.wordpress.org/ticket/14459\n\n= 1.3.5.1 =\n* Fix: Shortcodes using slugs working with WordPress 4.3+\n\n= 1.3.5.0 =\n* Fix: Prevent Envira Custom Post Type from appearing in search results, which would result in a 404\n\n= 1.3.4.10 =\n* Fix: Get rid of undefined property errors\n\n= 1.3.4.9 =\n* Fix: Removed unused variables\n\n= 1.3.4.8 =\n* Fix: Changed text domain and settings for localization to meet translate.wordpress.org requirements\n\n= 1.3.4.7 =\n* Fix: Remove HTML tags from image title attribute on hover\n\n= 1.3.4.6 =\n* Fix: Optimized theme images\n\n= 1.3.4.5 =\n* Added: Better debugging when WP_DEBUG enabled and images do not crop/resize\n\n= 1.3.4.4 =\n* Fix: Localization support with correct domain\n\n= 1.3.4.3 =\n* Added: German translations\n\n= 1.3.4.2 =\n* Fix: Made lightbox strings translatable for close, previous and next\n\n= 1.3.4.1 =\n* Fix: 4.3 compatibility for modal close icon\n\n= 1.3.4 =\n* Fix: Removed console.log entry in JS which would have caused image upload issues in legacy IE browsers\n\n= 1.3.3 =\n* Added: Enable/disable Lightbox option\n\n= 1.3.2 =\n* Added: Units label to Column Gutter Width and Margin Below Each Image settings\n\n= 1.3.1 =\n* Fix: Force ID on save, to ensure compat with WPML and duplication plugins\n\n= 1.3.0 =\n* Fix: Sorting images and not clicking Update would result in loss of configuration\n\n= 1.2.9 =\n* Added: envira_minify_strip_double_forward_slashes filter when minifying, allowing developers to disable this for edge cases\n\n= 1.2.8 =\n* Added: RTL Support\n\n= 1.2.7 =\n* Added: Caption Position Float (Wrapped) option, to wrap Lightbox Caption text to match width of image.\n\n= 1.2.6 =\n* Added: Insert Images Modal automatically loads more images on scroll\n* Added: Insert Images Modal search functionality performance improved\n* Fix: Better Insert Images Modal image grid layout for WordPress 4.0+\n\n= 1.2.5 =\n* Added: WordPress 4.2.1 support\n\n= 1.2.4 =\n* Fix: This Post's was missing when using the Add button\n\n= 1.2.3 =\n* Added: Mobile - lightbox arrows remain displayed on touchscreen devices, so it is clearer to the user how they can navigate through the images\n\n= 1.2.2 =\n* Fix: Image title link color changed to stand out from image title background color in Lightbox\n\n= 1.2.1 =\n* Fix: Loading localization language files for some installations\n\n= 1.2.0 =\n* Added: .POT file for translation / localization support\n\n= 1.1.9 =\n* Added: Minified editor JS\n\n= 1.1.8 =\n* Added: CSS minification for Administration CSS\n\n= 1.1.7 =\n* Fix: Minification of inline CSS and JS\n* Fix: Alt tags on images\n* Fix: Links on Lightbox Image Titles\n\n= 1.1.6 =\n* Fix: Upgraded Fancybox to 2.1.5\n* Fix: Improved error message UI when uploading files exceeding WordPress / PHP file size limits\n\n= 1.1.5 =\n* Fix: Metadata - close window would not always work after uploading new images\n* Fix: Support single quotation character in Image Title\n\n= 1.1.4 =\n* Added: Metadata - Image Alt Text Helpful Tip\n* Fix: Metadata - wp_editor too large for smaller screen resolutions\n\n= 1.1.3 =\n* Fix: Enable HTML captions\n\n= 1.1.2 =\n* Fix: WordPress 4.0 support for Add Slider attachment window\n\n= 1.1.1 =\n* Compatibility updates with WordPress 4.1.\n\n= 1.1.0.1 =\n* Fixed bug with saving image titles.\n\n= 1.1.0 =\n* Fixed bug with HTML being output on image hover for title attribute.\n* Fixed bug with internal link dialog being shown below the edit metadata modal window.\n\n= 1.0.9 =\n* Fixed JS error issues with WordPress 3.9.\n* Added ability to link to external URLs in images.\n* Other miscellaneous bug fixes and improvements.\n\n= 1.0.8.1 =\n* Fixed fatal error with calling wrong class name.\n\n= 1.0.8 =\n* Fixed bug where URLs would not switch over if migrating to a new site.\n* Fixed bug with image uploader and WordPress 3.9.\n* Fixed bug with Quicktags duplicating for image uploaded with the drag-and-drop uploader.\n\n= 1.0.7 =\n* Fixed crop images issue where the original and destination dimensions match.\n* Ensure to restrain thumbnail views.\n\n= 1.0.6.1 =\n* Ensure post form is available before setting post hash.\n\n= 1.0.6 =\n* Added hash support for settings tabs.\n\n= 1.0.5 =\n* Fixed undefined index notice with media max_upload_size variable.\n\n= 1.0.4 =\n* No more limit restrictions. You can now create as many galleries as you want.\n* Features not accessible in Lite version are now removed from display.\n* Fixed bug with resizing not working properly on window resize.\n* Updated the uploader script to reduce outside conflicts.\n* Better style support for the display.\n* Numerous other bug fixes and improvements.\n\n= 1.0.3.1 =\n* Flush caches when interacting with meta.\n* Fixed Isotope init on resize.\n* Added Isotope config hooks.\n* Added constant ENVIRA_FORCE_ACTIVATION that, when defined, allows you to load Envira on WordPress installs less than 3.8 (no guarantees of everything working properly).\n* Fixed improper mobile loading.\n\n= 1.0.3 =\n* Fixed performance leak with Isotope. Galleries should load much faster now!\n\n= 1.0.2.1 =\n* Added ability to pass args in template tag.\n\n= 1.0.2 =\n* Fixed bug with cropped images not loading properly.\n* Added hook for cache flush utility method.\n\n= 1.0.1 =\n* Fixed bug with preloading a large # of images and the\n display not resorting properly.\n\n= 1.0.0 =\n* Initial release.", "<?php\n/**\n * Plugin Name: Envira Gallery Lite\n * Plugin URI:  http://enviragallery.com\n * Description: Envira Gallery is the best responsive WordPress gallery plugin. This is the Lite version.\n * Author:      Envira Gallery Team\n * Author URI:  http://enviragallery.com\n * Version:     1.8.3.2\n * Text Domain: envira-gallery-lite\n *\n * Envira Gallery is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 2 of the License, or\n * any later version.\n *\n * Envira Gallery is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Envira Gallery. If not, see <http://www.gnu.org/licenses/>.\n */\n\n// Exit if accessed directly.\nif ( ! defined( 'ABSPATH' ) ) {\n\texit;\n}\n\n/**\n * Main plugin class.\n *\n * @since 1.0.0\n *\n * @package Envira_Gallery\n * @author  Envira Gallery Team\n */\nclass Envira_Gallery_Lite {\n\n\t/**\n\t * Holds the class object.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @var object\n\t */\n\tpublic static $instance;\n\n\t/**\n\t * Plugin version, used for cache-busting of style and script file references.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @var string\n\t */\n\tpublic $version = '1.8.3.2';\n\n\t/**\n\t * The name of the plugin.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @var string\n\t */\n\tpublic $plugin_name = 'Envira Gallery Lite';\n\n\t/**\n\t * Unique plugin slug identifier.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @var string\n\t */\n\tpublic $plugin_slug = 'envira-gallery-lite';\n\n\t/**\n\t * Plugin file.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @var string\n\t */\n\tpublic $file = __FILE__;\n\n\t/**\n\t * Primary class constructor.\n\t *\n\t * @since 1.0.0\n\t */\n\tpublic function __construct() {\n\n\t\t// Fire a hook before the class is setup.\n\t\tdo_action( 'envira_gallery_pre_init' );\n\n\t\t// Load the plugin textdomain.\n\t\tadd_action( 'plugins_loaded', array( $this, 'load_plugin_textdomain' ) );\n\n\t\t// Load the plugin.\n\t\tadd_action( 'init', array( $this, 'init' ), 0 );\n\n\t\tif ( ! defined( 'ENVIRA_VERSION' ) ) {\n\n\t\t\tdefine( 'ENVIRA_VERSION', $this->version );\n\n\t\t}\n\n\t\tif ( ! defined( 'ENVIRA_SLUG' ) ) {\n\n\t\t\tdefine( 'ENVIRA_SLUG', $this->plugin_slug );\n\n\t\t}\n\n\t\tif ( ! defined( 'ENVIRA_FILE' ) ) {\n\n\t\t\tdefine( 'ENVIRA_FILE', $this->file );\n\n\t\t}\n\n\t\tif ( ! defined( 'ENVIRA_DIR' ) ) {\n\n\t\t\tdefine( 'ENVIRA_DIR', plugin_dir_path( __FILE__ ) );\n\n\t\t}\n\n\t\tif ( ! defined( 'ENVIRA_URL' ) ) {\n\n\t\t\tdefine( 'ENVIRA_URL', plugin_dir_url( __FILE__ ) );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Loads the plugin textdomain for translation.\n\t *\n\t * @since 1.0.0\n\t */\n\tpublic function load_plugin_textdomain() {\n\n\t\tload_plugin_textdomain( 'envira-gallery-lite' );\n\n\t}\n\n\t/**\n\t * Loads the plugin into WordPress.\n\t *\n\t * @since 1.0.0\n\t */\n\tpublic function init() {\n\n\t\t// Don't load Lite if Envira Gallery is already active.\n\t\t// Envira Gallery will display a notice telling the user to deactivate Lite.\n        if ( class_exists( 'Envira_Gallery' ) ) {\n            return;\n        }\n\n        // Run hook once Envira has been initialized.\n        // This hook is deliberately different from the Pro version, to prevent the entire site breaking\n\t\t// if a user activates Lite with Pro Addons.\n        do_action( 'envira_gallery_lite_init' );\n\n\t\t// Load global components.\n\t\t$this->require_global();\n\n        // Load admin only components.\n        if ( is_admin() ) {\n            $this->require_admin();\n        }\n\n\t\t// Add hook for when Envira has loaded.\n\t\t// This hook is deliberately different from the Pro version, to prevent the entire site breaking\n\t\t// if a user activates Lite with Pro Addons.\n\t\tdo_action( 'envira_gallery_lite_loaded' );\n\n\t}\n\n\t/**\n\t * Loads all admin related files into scope.\n\t *\n\t * @since 1.0.0\n\t */\n\tpublic function require_admin() {\n\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/addons.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/common.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/editor.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/media.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/media-view.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/metaboxes.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/notice.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/posttype.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/table.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/review.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/gutenberg.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/subscribe.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/promotion.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/welcome.php';\n\n\t}\n\n\t/**\n\t * Loads a partial view for the Administration screen\n\t *\n\t * @since 1.5.0\n\t *\n\t * @param      string    $template      PHP file at includes/admin/partials, excluding file extension\n\t * @param      array     $data          Any data to pass to the view\n\t * @return     void\n\t */\n\tpublic function load_admin_partial( $template, $data = array() ){\n\n\t\t$dir = trailingslashit( plugin_dir_path( __FILE__ ) . 'includes/admin/partials' );\n\n\t\tif ( file_exists( $dir . $template . '.php' ) ) {\n\t\t\trequire_once(  $dir . $template . '.php' );\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Loads all global files into scope.\n\t *\n\t * @since 1.0.0\n\t */\n\tpublic function require_global() {\n\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/global/common.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/global/posttype.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/global/shortcode.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/global/rest.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/ajax.php';\n\n\t}\n\n\t/**\n\t * Returns a gallery based on ID.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param int $id     The gallery ID used to retrieve a gallery.\n\t * @return array|bool Array of gallery data or false if none found.\n\t */\n\tpublic function get_gallery( $id ) {\n\n\t\t// Attempt to return the transient first, otherwise generate the new query to retrieve the data.\n\t\tif ( false === ( $gallery = get_transient( '_eg_cache_' . $id ) ) ) {\n\t\t\t$gallery = $this->_get_gallery( $id );\n\t\t\tif ( $gallery ) {\n\t\t\t\t$expiration = Envira_Gallery_Common::get_instance()->get_transient_expiration_time();\n\t\t\t\tset_transient( '_eg_cache_' . $id, $gallery, $expiration );\n\t\t\t}\n\t\t}\n\n\t\t// Return the gallery data.\n\t\treturn $gallery;\n\n\t}\n\n\t/**\n\t * Internal method that returns a gallery based on ID.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param int $id     The gallery ID used to retrieve a gallery.\n\t * @return array|bool Array of gallery data or false if none found.\n\t */\n\tpublic function _get_gallery( $id ) {\n\n\t\t$meta = get_post_meta( $id, '_eg_gallery_data', true );\n\n\t\t/**\n\t\t* Version 1.2.1+: Check if $meta has a value - if not, we may be using a Post ID but the gallery\n\t\t* has moved into the Envira CPT\n\t\t*/\n\t\tif ( empty( $meta ) ) {\n\t\t\t$gallery_id = get_post_meta( $id, '_eg_gallery_id', true );\n\t\t\t$meta = get_post_meta( $gallery_id, '_eg_gallery_data', true );\n\t\t}\n\n\t\treturn $meta;\n\n\t}\n\n\t/**\n\t * Returns the number of images in a gallery.\n\t *\n\t * @since 1.2.1\n\t *\n\t * @param int $id The gallery ID used to retrieve a gallery.\n\t * @return int    The number of images in the gallery.\n\t */\n\tpublic function get_gallery_image_count( $id ) {\n\n\t\t$gallery = $this->get_gallery( $id );\n\t    return isset( $gallery['gallery'] ) ? count( $gallery['gallery'] ) : 0;\n\n\t}\n\n\t/**\n\t * Returns a gallery based on slug.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param string $slug The gallery slug used to retrieve a gallery.\n\t * @return array|bool  Array of gallery data or false if none found.\n\t */\n\tpublic function get_gallery_by_slug( $slug ) {\n\n\t\t// Attempt to return the transient first, otherwise generate the new query to retrieve the data.\n\t\tif ( false === ( $gallery = get_transient( '_eg_cache_' . $slug ) ) ) {\n\t\t\t$gallery = $this->_get_gallery_by_slug( $slug );\n\t\t\tif ( $gallery ) {\n\t\t\t\t$expiration = Envira_Gallery_Common::get_instance()->get_transient_expiration_time();\n\t\t\t\tset_transient( '_eg_cache_' . $slug, $gallery, $expiration );\n\t\t\t}\n\t\t}\n\n\t\t// Return the gallery data.\n\t\treturn $gallery;\n\n\t}\n\n\t/**\n\t * Internal method that returns a gallery based on slug.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param string $slug The gallery slug used to retrieve a gallery.\n\t * @return array|bool  Array of gallery data or false if none found.\n\t */\n\tpublic function _get_gallery_by_slug( $slug ) {\n\n\t\t// Get Envira CPT by slug.\n\t\t$galleries = new WP_Query( array(\n\t\t\t'post_type'    => 'envira',\n\t\t\t'name'              => $slug,\n\t\t\t'fields'        => 'ids',\n\t\t\t'posts_per_page' => 1,\n\t\t) );\n\t\tif ( $galleries->posts ) {\n\t\t\treturn get_post_meta( $galleries->posts[0], '_eg_gallery_data', true );\n\t\t}\n\n\t\t// If nothing found, get Envira CPT by _eg_gallery_old_slug.\n\t\t// This covers Galleries migrated from Pages/Posts --> Envira CPTs.\n\t\t$galleries = new WP_Query( array(\n\t\t\t'post_type'     => 'envira',\n\t\t\t'no_found_rows' => true,\n\t\t\t'cache_results' => false,\n\t\t\t'fields'        => 'ids',\n\t\t\t'meta_query'    => array(\n\t\t\t\tarray(\n\t\t\t\t\t'key'     => '_eg_gallery_old_slug',\n\t\t\t\t\t'value'   => $slug,\n\t\t\t\t),\n\t\t\t),\n\t\t\t'posts_per_page' => 1,\n\t\t) );\n\t\tif ( $galleries->posts ) {\n\t\t\treturn get_post_meta( $galleries->posts[0], '_eg_gallery_data', true );\n\t\t}\n\n\t\t// No galleries found.\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Returns all galleries created on the site.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param bool           $skip_empty         Skip empty sliders.\n\t * @param bool           $ignore_cache       Ignore Transient cache.\n\t * @param string    $search_terms       Search for specified Galleries by Title\n\t *\n\t * @return array|bool                        Array of gallery data or false if none found.\n\t */\n\tpublic function get_galleries( $skip_empty = true, $ignore_cache = false, $search_terms = '' ) {\n\n\t\t// Attempt to return the transient first, otherwise generate the new query to retrieve the data.\n\t\tif ( $ignore_cache || ! empty( $search_terms ) || false === ( $galleries = get_transient( '_eg_cache_all' ) ) ) {\n\t\t\t$galleries = $this->_get_galleries( $skip_empty, $search_terms );\n\n\t\t\t// Cache the results if we're not performing a search and we have some results\n\t\t\tif ( $galleries && empty( $search_terms ) ) {\n\t\t\t\t$expiration = Envira_Gallery_Common::get_instance()->get_transient_expiration_time();\n\t\t\t\tset_transient( '_eg_cache_all', $galleries, $expiration );\n\t\t\t}\n\t\t}\n\n\t\t// Return the gallery data.\n\t\treturn $galleries;\n\n\t}\n\n\t/**\n\t * Internal method that returns all galleries created on the site.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param bool           $skip_empty    Skip Empty Galleries.\n\t * @param string    $search_terms  Search for specified Galleries by Title\n\t * @return mixed                        Array of gallery data or false if none found.\n\t */\n\tpublic function _get_galleries( $skip_empty = true, $search_terms = '' ) {\n\n\t\t// Build WP_Query arguments.\n\t\t$args = array(\n\t\t\t'post_type'     => 'envira',\n\t\t\t'post_status'   => 'publish',\n\t\t\t'posts_per_page'=> 99,\n\t\t\t'no_found_rows' => true,\n\t\t\t'fields'        => 'ids',\n\t\t\t'meta_query'    => array(\n\t\t\t\tarray(\n\t\t\t\t\t'key'   => '_eg_gallery_data',\n\t\t\t\t\t'compare' => 'EXISTS',\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\n\t\t// If search terms exist, add a search parameter to the arguments.\n\t\tif ( ! empty( $search_terms ) ) {\n\t\t\t$args['s'] = $search_terms;\n\t\t}\n\n\t\t// Run WP_Query.\n\t\t$galleries = new WP_Query( $args );\n\t\tif ( ! isset( $galleries->posts ) || empty( $galleries->posts ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Now loop through all the galleries found and only use galleries that have images in them.\n\t\t$ret = array();\n\t\tforeach ( $galleries->posts as $id ) {\n\t\t\t$data = get_post_meta( $id, '_eg_gallery_data', true );\n\n\t\t\t// Skip empty galleries.\n\t\t\tif ( $skip_empty && empty( $data['gallery'] ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Skip default/dynamic gallery types.\n\t\t\t$type = Envira_Gallery_Shortcode::get_instance()->get_config( 'type', $data );\n\t\t\tif ( 'defaults' === Envira_Gallery_Shortcode::get_instance()->get_config( 'type', $data ) || 'dynamic' === Envira_Gallery_Shortcode::get_instance()->get_config( 'type', $data ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Add gallery to array of galleries.\n\t\t\t$ret[] = $data;\n\t\t}\n\n\t\t// Return the gallery data.\n\t\treturn $ret;\n\n\t}\n\n\t/**\n\t * Returns the license key for Envira.\n\t *\n\t * As Lite doesn't need a license key, but includes/admin/addons.php\n\t * expects something, we return an empty string.\n\t *\n\t * @since 1.5.0.3\n\t *\n\t * @return string Empty String\n\t */\n\tpublic function get_license_key() {\n\n\t\treturn '';\n\n\t}\n\n\t/**\n\t * Returns the license key type for Envira.\n\t *\n\t * As Lite doesn't need a license key, but includes/admin/addons.php\n\t * expects something, we return an empty string.\n\t *\n\t * @since 1.5.0.3\n\t *\n\t * @return string Empty String\n\t */\n\tpublic function get_license_key_type() {\n\n\t\treturn '';\n\n\t}\n\n\t/**\n\t * Returns the license key error(s) for Envira.\n\t *\n\t * As Lite doesn't need a license key, but includes/admin/addons.php\n\t * expects something, we return false\n\t *\n\t * @since 1.5.0.3\n\t *\n\t * @return bool false\n\t */\n\tpublic function get_license_key_errors() {\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Returns the singleton instance of the class.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @return object The Envira_Gallery object.\n\t */\n\tpublic static function get_instance() {\n\n\t\tif ( ! isset( self::$instance ) && ! ( self::$instance instanceof Envira_Gallery_Lite ) ) {\n\t\t\tself::$instance = new Envira_Gallery_Lite();\n\t\t}\n\n\t\treturn self::$instance;\n\n\t}\n}\n\nregister_activation_hook( __FILE__, 'envira_gallery_lite_activation_hook' );\n/**\n * Fired when the plugin is activated.\n *\n * @since 1.0.0\n *\n * @global int $wp_version      The version of WordPress for this install.\n * @global object $wpdb         The WordPress database object.\n * @param boolean $network_wide True if WPMU superadmin uses \"Network Activate\" action, false otherwise.\n */\nfunction envira_gallery_lite_activation_hook( $network_wide ) {\n\n\tglobal $wp_version;\n\tif ( version_compare( $wp_version, '4.0', '<' ) && ! defined( 'ENVIRA_FORCE_ACTIVATION' ) ) {\n\t\tdeactivate_plugins( plugin_basename( __FILE__ ) );\n\t\twp_die( sprintf( __( 'Sorry, but your version of WordPress does not meet Envira Gallery\\'s required version of <strong>4.0</strong> to run properly. The plugin has been deactivated. <a href=\"%s\">Click here to return to the Dashboard</a>.', 'envira-gallery-lite' ), get_admin_url() ) );\n\t}\n\n\t// Make sure Envira Pro plugin, if activated is deactivated\n\tdeactivate_plugins( 'envira-gallery/envira-gallery.php' );\n\n}\n\n// Load the main plugin class.\n$envira_gallery_lite = Envira_Gallery_Lite::get_instance();\n\n\nif ( ! function_exists( 'envira_mobile_detect' ) ) {\n\n\t/**\n\t * Holder for mobile detect.\n\t *\n\t * @access public\n\t * @return void\n\t */\n\tfunction envira_mobile_detect(){\n\n\t\t//Check for mobile detect class before loading it again //prevents conflicts with themes\n\t\tif ( ! class_exists( 'Mobile_Detect' ) ) {\n\n\t\t\trequire_once trailingslashit( plugin_dir_path( __FILE__ ) ) . 'includes/global/Mobile_Detect.php';\n\n\t\t}\n\n\t\treturn new Mobile_Detect;\n\n\t}\n\n}\n\n// Conditionally load the upgrade function.\nif ( ! function_exists( 'envira_wp_upe_upgrade_completed' ) ) {\n\n\t/**\n\t * This function runs when WordPress completes its upgrade process\n\t * It iterates through each plugin updated to see if Envira is included\n\t * @param $upgrader_object Array\n\t * @param $options Array\n\t */\n\tfunction envira_wp_upe_upgrade_completed( $upgrader_object, $options ) {\n\t\t// The path to our plugin's main file\n\t\t$our_plugin = plugin_basename( __FILE__ );\n\t\t// If an update has taken place and the updated type is plugins and the plugins element exists\n\t\tif( $options['action'] == 'update' && $options['type'] == 'plugin' && isset( $options['plugins'] ) ) {\n\t\t\t// Iterate through the plugins being updated and check if ours is there\n\t\t\tforeach( $options['plugins'] as $plugin ) {\n\t\t\t\tif( $plugin == $our_plugin ) {\n\t\t\t\t\t// Set a transient to record that our plugin has just been updated\n\t\t\t\t\tset_transient( 'envira_lite_updated', 1, 60 ); // one minute\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tadd_action( 'upgrader_process_complete', 'envira_wp_upe_upgrade_completed', 10, 2 );\n\n}\n\n// Conditionally load the template tag.\nif ( ! function_exists( 'envira_gallery' ) ) {\n\t/**\n\t * Primary template tag for outputting Envira galleries in templates.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param int    $id          The ID of the gallery to load.\n\t * @param string $type        The type of field to query.\n\t * @param array  $args        Associative array of args to be passed.\n\t * @param bool   $return    Flag to echo or return the gallery HTML.\n\t */\n\tfunction envira_gallery( $id, $type = 'id', $args = array(), $return = false ) {\n\n\t\t// If we have args, build them into a shortcode format.\n\t\t$args_string = '';\n\t\tif ( ! empty( $args ) ) {\n\t\t\tforeach ( (array) $args as $key => $value ) {\n\t\t\t\t$args_string .= ' ' . $key . '=\"' . $value . '\"';\n\t\t\t}\n\t\t}\n\n\t\t// Build the shortcode.\n\t\t$shortcode = ! empty( $args_string ) ? '[envira-gallery ' . $type . '=\"' . $id . '\"' . $args_string . ']' : '[envira-gallery ' . $type . '=\"' . $id . '\"]';\n\n\t\t// Return or echo the shortcode output.\n\t\tif ( $return ) {\n\t\t\treturn do_shortcode( $shortcode );\n\t\t} else {\n\t\t\techo do_shortcode( $shortcode );\n\t\t}\n\n\t}\n}\n", " === Gallery Plugin for WordPress - Envira Photo Gallery ===\nContributors: enviragallery, nathansingh, chrisakelley, dimensionmedia\nTags: gallery, image gallery, photo gallery, best gallery plugin, wordpress gallery plugin\nRequires at least: 4.4.0\nTested up to: 5.6.0\nRequires PHP: 5.6\nStable tag: trunk\nLicense: GNU General Public License v2.0 or later\n\nEnvira Gallery is the fastest, easiest to use WordPress image gallery plugin. Lightbox with Drag & Drop builder that helps you create beautiful galleries with just a few clicks.\n\n== Description ==\n\n= Gallery Plugin =\n\nhttps://www.youtube.com/watch?v=4jHG3LOmV-c&w=532&rel=0\n\n= Helpful Links: =\n* [Gallery Demo](https://bit.ly/35iqELD)\n* [Gallery Documentation](https://bit.ly/35fmlRv)\n* [Gallery Support](https://bit.ly/2W8ZXoF)\n\nWe believe that you shouldn't have to hire a developer to create a WordPress gallery. That's why we built [Envira](https://bit.ly/35gNvqW), a drag & drop **photo gallery plugin** that's both EASY, FAST and POWERFUL.\n\nEnvira Gallery is optimized for web and server performance as well as SEO and conversion, because we understand the importance of speed when it comes to image and gallery load times. Especially if your looking to sell from your site.\n\nWorks great with the top page builders including: Elementor, Beaver Builder, Divi and more.\n\n> <strong>Envira  Gallery Pro</strong><br />\n> Photo Gallery by Envira is the lite version of the popular Envira Pro plugin that comes with all the features you will ever need including albums, video galleries, tags, social media integration, gallery templates / gallery layouts, deeplinking, pagination, e-commerce, image proofing, and tons more. [Click here to purchase Envira Pro now!](https://bit.ly/2YnXCsV)\n\n**Envira** has been downloaded over 2.8 million times. Here's why smart photographers, designers, and developers love Envira, and you will too!\n\n= Drag & Drop Gallery Builder =\n\nWe were tired with the bloated and buggy gallery widgets. That's why we built Envira Gallery to adapt to your workflow and allow you to create in minutes. By using our easy to use [drag and drop builder](https://bit.ly/3bObn87), you can upload your photos, rearrange them, and create an image gallery with just a few clicks.\n\nYou can also add gallery blocks built for the Gutenberg block editor.\n\n> The trick to making difficult things easy is to keep the easy things still easy. <strong>Envira makes everything easy.</strong> If you've struggled with WordPress gallery plugins that take video tutorials to learn, you're going to love Envira Gallery.<br>\n> Chris Lema - WordPress Blogger and Speaker\n\n= Mobile Ready, SEO Friendly and Optimized for Speed =\n\nEnvira is 100% responsive and mobile-friendly by default. We optimized every query on the front-end and the back-end to ensure maximum speed.\n\nPlus, you have the ability for meta data, deeplinks, standalone galleries, and pagination.\n\n= Sharing and Selling Photos Made EASY =\n\nSocial media integrations, image proofing, and WooCommerce store integration.\n\n> Not only is Envira <strong>exceptionally well built</strong> behind the scenes, it's also exceptionally easy to use. It's perfect for those who really want to get things done.<br>\n> Pippin Williamson - WordPress Core Contributor and founder of EasyDigitalDownloads\n\n= Easy to Customize and Extend =\n\nYou can easily customize with our built-in Wordpress templates and layouts or create your own.\n\nBut we also knew that our developer friends may want to extend it further. That's why Envira comes with tons of hooks and filters (and yes it's all very-well documented).\n\n> Most WordPress gallery options are either too basic or require a PhD to figure out. For my clients, I need something that is easy to use yet powerful. Envira is the answer. Its straight forward approach means it is a breeze for my clients to quickly create galleries. Nevertheless, with the API and documentation available, it also allows developers to make customizations and extend functionality when necessary. Simply put, <strong>Envira is a great tool</strong> for everyone's tool chest.<br>\n> Jared Atchison - Top Notch Engineer and WordPress Developer\n\n= Full Envira Feature List =\n\n* Guttenberg Blocks\n* Drag & Drop Photo Gallery Builder\n* 100% Responsive - Mobile Friendly\n* Beautiful WordPress Templates for Customization\n* [Albums](https://bit.ly/35dXeP1) - Easily organize your photo galleries, choose cover photos, and more.\n* [Social Sharing](https://bit.ly/2W8Ye2P) - Share your photos on Facebook, Twitter, Pinterest, LinkedIn, and WhatsApp.\n* [Video Galleries](https://bit.ly/2ySgvcz) - Not just for photos! You can add YouTube, Vimeo, Wistia, and other videos in your video gallery.\n* [Watermarking](https://bit.ly/3bNWCCd) - Protect your images from theft with watermarking.\n* [Slideshow](https://bit.ly/2WenYuq) - Add beautiful slideshow with autoplay, manual controls, and more.\n* [Deeplinking](https://bit.ly/3cVYiJZ) - Make your gallery and images SEO friendly and easily link to individual images with deeplinking.\n* [Pagination](https://bit.ly/2KHavGg) - Split your large galleries into multiple pages to improve page speed, user experience, and pageviews.\n* [Image Proofing](https://bit.ly/2WbMn3Q) - We made client image proofing easy for your photography business.\n* [WooCommerce Integration](https://bit.ly/3bNIngt) - Instantly display and sell your photos with the most popular eCommerce software on the web.\n* [Image Tags](https://bit.ly/3aUChKh) - Organize your WordPress photos with tags for easy search and display that also filtrable.\n* [Password Protection](https://bit.ly/3aPH53t) - Prevent unauthorized access to your WordPress galleries.\n* [Standalone Galleries](https://bit.ly/2KLpFKA) - Create independent galleries that are not tied to your posts or pages.\n* [EXIF Meta Data](https://bit.ly/3bQw4zZ) - Display your EXIF data including camera model, aperture, shutter speed, and more.\n* [Pinterest](https://bit.ly/2Wbiwsd) - Add the Pinterest Pin It button to improve your reach.\n* [Instagram](https://bit.ly/3cZHYru) - Import Instagram images.\n* [Fullscreen Display](https://bit.ly/3f9cP79) - Take advantage of the native fullscreen and Lightbox display.\n* [Supersized Images](https://bit.ly/3aNyf68) - Don't want to crop or resize your images? Supersize allows you to do just that.\n* [Dynamic Galleries](https://bit.ly/2YjsE5c) - Easily create galleries on the fly from various different sources.\n* [Gallery Defaults](https://bit.ly/2WgmAI2) - Speed up the creation process by saving your default settings.\n* [CSS Styles](https://bit.ly/3cYslAD) - Customize your portfolio by adding custom CSS and styles.\n* [Adobe Lightroom to WordPress](https://bit.ly/3f1StMX) - Do you love Adobe Lightroom? We do too. You can automatically create and sync photo galleries from your Adobe Lightroom Collections. We made Lightroom to WordPress import easy!\n* [Zip Importer](https://bit.ly/2yaFCr7) - Nobody likes uploading images individually. Now you can build a gallery from a .zip file.\n* [Dropbox Importer](https://bit.ly/2YjAdsq) - You can easily import photos from your Dropbox account.\n* [NextGEN Importer](https://bit.ly/3bRqvkX) - Import your NextGEN files in few simple clicks.\n* Want us to add something else? Suggest a feature and we'll get it added!\n\n> When it comes to WordPress gallery plugins, <strong>Envira has no equal</strong>. Solid enough to do the job right, while flexible enough to handle any situation you can throw at it.<br>\n> Andrew Norcross - Expert WordPress Consultant and Core Contributer\n\n= Demos =\n\nWhile Envira offers tons of features, below are some of the most requested demos.\n\n* [WordPress Lightbox Photo Display Demo](https://bit.ly/2xkoZc1)\n* [WordPress Masonry Display Demo](https://bit.ly/2KMlyhy)\n* [WordPress Photo Albums Demo](https://bit.ly/35fRAMc)\n* [WordPress Polaroid Photo Display Demo](https://bit.ly/3aQoTGI)\n* [WordPress Video Display Demo](https://bit.ly/2KKqkMr)\n* See the full list of [Envira Demos](https://bit.ly/3f1AbLG)\n\n= Popular Envira Tutorials =\n\nWe share tons of photography tutorials at the [Envira blog](https://bit.ly/35oaK2E).\n\nBelow are some of the most popular Envira tutorials:\n\n* [How to Create Your First Gallery](https://bit.ly/3f5XrIk)\n* [How to Upload Photos Directly from Adobe Lightroom to WordPress](https://bit.ly/35epfWE)\n* [How to Protect Your Galleries from Image Theft](https://bit.ly/2YioHxB)\n* [How to Turn Your Photos Into Products](https://bit.ly/3eZgpAu)\n* [How to Optimize Your Envira for Search Engine Optimization](https://bit.ly/2SjUFps)\n* [How to Add a Polaroid Gallery in WordPress](https://bit.ly/3aLXxl1)\n* [How to Create a Masonry Image Gallery in WordPress](https://bit.ly/3aUZvzW)\n* [How to Create a Photo Album in WordPress](https://bit.ly/35eq8OY)\n* [How to Create an Image Slider for Your WordPress Galleries](https://bit.ly/3f6ol2P)\n* [How to Add Pagination in WordPress Image Galleries](https://bit.ly/3cTtcCC)\n= Credits =\n\n= What's Next =\n\nIf you like this plugin, then consider checking out our other plugin:\n\n* [Soliloquy](https://bit.ly/2yXNk8c) - The Best WordPress Slider Plugin\n\n== Installation ==\n\n1. Install Envira Lite either via the WordPress.org plugin repository or by uploading the files to your server. (See instructions on <a href=\"http://www.wpbeginner.com/beginners-guide/step-by-step-guide-to-install-a-wordpress-plugin-for-beginners/\" rel=\"friend\">how to install a WordPress plugin</a>)\n2. Activate Envira Lite.\n3. Navigate to the Envira tab at the bottom of your admin menu and click the \"Add New\" button to begin creating, or you can create directly inside the post/page/custom post type of your choice.\n4. Salivate for new features and [purchase the full version of Envira](https://bit.ly/3bP85RV)!\n\n== Screenshots ==\n\n1. Envira Gallery post type overview screen.\n2. Modal box to select images from your Media Library.\n3. Overlay helper with shortcode and template tag information.\n4. Media modal for inserting a gallery into your WYSIWYG editor.\n5. Gallery display on the front-end with 2 columns.\n6. Lightbox view of the gallery.\n\n== Frequently Asked Questions ==\n\n= Who should use Envira? =\n\nEnvira is perfect for photographers, designers, bloggers, and small businesses.\n\n= Do I need to have coding skills to use Envira? =\n\nAbsolutely not. You can create and customize beautiful image and video galleries without any coding knowledge. We made it super easy.\n\n= What kind of galleries can I create with Envira Gallery? =\n\nHere are the types of galleries you can create:\n\nPhoto / Image\nVideo Gallery\nFullscreen\nImage Gallery with Albums\nImage Gallery with Lightbox\nFeatured Content\nMasonry Photo\nJustified Image\nImage Gallery with Pagination\nPolaroid Image\nInstagram Photo Gallery\nImage Gallery with Tags\nPinterest Image Gallery\nPhoto Gallery with EXIF Data\nImage Gallery with Watermarks\nPhoto Gallery with Slideshow\nImage Gallery with Zoom\nPhoto Gallery with Proofing\nLazyload\nWooCommerce Product\nImage Gallery with Lightroom Photos\nPassword Protected Photo\nDropbox Images\nImage from Zip Files\nPhotos with Breadcrumb Navigation\nCustom Post Type Content\nYouTube Video\nInstagram Video\nFacebook Video\nVimeo Video\nWistia Video\nTwitch.tv Video\nCustom Video\nDynamic Photos\nPortfolio\nTiles\nGrid\nMusic Gallery\n\n= I'd like access to all features. How can I get them? =\n\nYou can get access to more features, Addons and support by [visiting the Envira website and purchasing a support license](https://bit.ly/35iRqUn). Purchasing a support license gets you access to the full version of Envira, automatic updates and support, and depending on the level of support license, you can even get exclusive access to Envira Addons!\n\n= Is Envira translation ready? =\n\nYes, Envira has full translation and localization support via the envira-gallery textdomain. To submit a translation, see https://translate.wordpress.org/projects/wp-plugins/envira-gallery-lite\n\n\n== Changelog ==\n\n1.8.3.2\n\n* Fixed: Lightbox Bug with WordPress 5.6.0\n\n1.8.3.1\n\n* Added: Lifetime option notice.\n\n1.8.3\n\n* Updated: Recent News On Welcome Screen.\n* Updated: Links On What's New Screen.\n\n1.8.2\n\n* Added: Most Popular sort in Addons screen.\n* Updated: Recent News On Welcome Screen.\n* Updated: Links On What's New Screen.\n\n1.8.1\n\n* Added: envira_gallery_output_item_src_retina filter.\n* Added: envira_gallery_title_display filter.\n* Added: filters for aspectRatio, loop, lightbox openclose effect, and more for Fancybox settings.\n* Updated: Subscription number.\n* Updated: Remove references to Facebook Video.\n\n1.8.0.3\n\n* Fix: Tweak UI for upcoming WordPress 5.5 admin visual changes.\n* Fix: Removed outdated URL from translation files.\n\n1.8.0.2\n\n* Removed: Legacy style related to Gutenberg.\n\n1.8.0.1\n\n* Removed: Redirect upon updating.\n\n1.8.0\n\n* Added: Enable links in lightbox settings, when lightbox is deactivated.\n\n"], "fixing_code": ["\n== Changelog ==\n\n1.8.3.3\n\n* Fixed: Improving metadata sanitization.\n\n1.8.3.2\n\n* Fixed: Lightbox Bug with WordPress 5.6.0\n\n1.8.3.1\n\n* Added: Lifetime option notice.\n\n1.8.3\n\n* Updated: Recent News On Welcome Screen.\n* Updated: Links On What's New Screen.\n\n1.8.2\n\n* Added: Most Popular sort in Addons screen.\n* Updated: Recent News On Welcome Screen.\n* Updated: Links On What's New Screen.\n\n1.8.1\n\n* Added: envira_gallery_output_item_src_retina filter.\n* Added: envira_gallery_title_display filter.\n* Added: filters for aspectRatio, loop, lightbox openclose effect, and more for Fancybox settings.\n* Updated: Subscription number.\n* Updated: Remove references to Facebook Video.\n\n1.8.0.3\n\n* Fix: Tweak UI for upcoming WordPress 5.5 admin visual changes.\n* Fix: Removed outdated URL from translation files.\n\n1.8.0.2\n\n* Removed: Legacy style related to Gutenberg.\n\n1.8.0.1\n\n* Removed: Redirect upon updating.\n\n1.8.0\n\n* Added: Enable links in lightbox settings, when lightbox is deactivated.\n\n1.7.9.0\n\n* Fix: Updated bad link that resulted in a 404.\n\n1.7.8.9\n\n* Updated: Text on Welcome Screen.\n* Fix: Replace deprecated filter media_buttons_context.\n\n1.7.8.8\n\n* Added: Oringial Size option for image sizes in gallery.\n: Added: Compatibility with animated GIFS (oringial size option).\n\n1.7.8.7\n\n* Fixed: Bug associated with using non-default WordPress media upload folders.\n\n1.7.8.6\n\n* Fixed: Readme.txt updated\n\n1.7.8.5\n\n* Updated: Tested with WordPress 5.4.0.\n\n1.7.8.4\n\n* Fixed: Readme.txt updated\n\n1.7.8.2\n\n* Fixed: Version number variable updated.\n\n1.7.8.1\n\n* Fixed: Minor typos.\n\n1.7.8\n\n* Fixed: Alert message appearing in wrong location on Lite vs. Pro page.\n\n1.7.7\n\n* Updated: Minor code cleanup, updating authors.\n\n1.7.6\n\n* Updated: Welcome Screen, tracking links.\n\n1.7.5.1\n\n* Updated: Welcome Screen.\n\n1.7.5\n\n* Updated: Welcome Screen, Lite vs Pro tab.\n\n1.7.4.2\n\n* Updated: Promotion updating.\n\n1.7.4.1\n\n* Fix: Promotion updating.\n\n\n1.7.4\n\n* Added: Messaging.\n* Added: Promotion class.\n\n1.7.3.1\n\n* Fix: Resolving Gutenberg links and minor errors related to media uploads.\n\n1.7.3\n\n* Fix: Reverting some changes related to Gutenberg.\n\n1.7.2\n\n* Updated: Gutenberg performance improvements.\n* Fix: Errors related to Gutenberg updates.\n* Fix: Typo resolved in Media.php causing PHP Warning.\n\n1.7.1\n\n* Fix: Schema referenced now points to https.\n* Fix: Remove unused CSS.\n\n1.7.0\n\n* Updated: Welcome Screen information.\n* Fix: Issue involving showing captions in certain scenarios.\n* Fix: Remove unused CSS.\n\n\n= 1.7.0 =\n\n* Updated: Welcome Screen information.\n* Fix: Issue involving showing captions in certain scenarios.\n* Fix: Remove unused CSS.\n\n= 1.6.9 =\n\n* Fix: Update post_type-check in the add-meta-boxes hook.\n\n= 1.6.8 =\n\n* Added: Welcome Screen.\n* Fix: Translation tag.\n\n= 1.6.7 =\n\n* Fix: Issue involving automatic and column galleries on the same page.\n* Fix: Minor bug fixes.\n\n= 1.6.6 =\n\n* Fix: Escaping in the admin.\n* Fix: Minor bug fixes.\n\n= 1.6.5 =\n\n* Fix: Escaping in the admin\n* Remove: Error Log\n* Fix: Minor bug fixes.\n\n= 1.6.4 =\n\n* Fix: Gutenberg Block gallery preview appearing out of order.\n* Fix: Minor bug fixes.\n\n\n= 1.6.3 =\n\n* Added: Gutenberg Block support ( Beta )\n* Added: Set margins for Automatic Layouts\n* Fix: Minor bug fixes\n\n= 1.6.2 =\n\n* Fix: Image titles with numbers throwing js errors.\n* Fix: Minor bug fixes\n\n= 1.6.1.7 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1.6 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1.5 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1.4 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1.3 =\n\n* Fix: Compress CSS files.\n* Fix: External URL in Lightbox.\n* Fix: Minor bug fixes\n\n= 1.6.1.2 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1.1 =\n\n* Fix: Minor bug fixes\n\n= 1.6.1 =\n\n* Fix: Minor bug fixes\n\n= 1.6.0 =\n\n* Added: Lazy loading\n* Fix: Minor bug fixes\n\n= 1.5.6.4 =\n\n* Fix: CSS issues TwentySeventeen\n* Fix: Minor bug fixes.\n\n= 1.5.6.3 =\n\n* Fix: Fix PHP 5.2 compatibility.\n\n\n= 1.5.6.2 =\n\n* Fix: Improved image selection based on various settings.\n* Fix: Minor bug fixes.\n\n\n= 1.5.6.1 =\n\n* Fix: Fix cases where images appear blurry with automatic layout\n* Fix: Minor bug fixes\n\n= 1.5.6 =\n\n* Fix: PHP optimizations to improve performance\n* Fix: Automatic Layout option now selects default images based on the specified row height to improve loading times\n* Fix: Minor bug fixes\n\n= 1.5.5.1 =\n\n* Fix: Fatal Error on empty trash for galleries\n\n= 1.5.5 =\n* Added: Select Image sizes for Automatic Layout.\n* Fix: Some servers limit how many images can be inserted at a time.\n* Fix: Various minor bug fixes.\n\n= 1.5.4 =\n* Fix: Error with lightbox script causing it not to load in some instances.\n\n= 1.5.3 =\n* Updated: Revising Fancybox JS.\n\n= 1.5.2 =\n* Fix: Justified layout setting of 150 pixels for row height applies to galleries that were using the older Automattic layout.\n\n= 1.5.1 =\n* Added: A justified layout replaces the old \"automatic\" layout setting for galleries. See documentation on enviragallery.com for additional information.\n* Updated: Spanish translation.\n* Fix: Removing \"Insert From Url\" option for galleries.\n* Fix: Display follows settings properly when WPML is used in certain circumstances.\n\n= 1.5.0.8 =\n* Fix: Close button in Lightbox admin bar should not jump position with longer titles.\n\n= 1.5.0.7 =\n* Fix: Addressing \"unexpected end of input\" JS Error.\n\n= 1.5.0.6 =\n* Fix: Took care of an issue with compatibility on PHP 5.2 that caused images not be editable in the image metadata modal\n* Fix: Make sure that the link modal appears above the metadata edit modal when inserting a link into the caption\n* Fix: Prevent the page from jumping to the top when navigating between images in the Lightbox\n* Fix: Prevent page from scrolling while Lightbox is active on mobile devices\n* Fix: Images on a mobile device now open with a single click\n* Fix: Adjust Lightbox transitions so that they work properly\n\n= 1.5.0.5 =\n* Fix: Make sure columns on mobile correspond to the settings selected in general config\n\n= 1.5.0.4 =\n* Fix: Improved default settings for new galleries\n* Fix: Correctly display the title in the Lightbox if the Lightbox view is defined\n* Fix: Sometimes galleries throwing JS errors in admin\n\n= 1.5.0.3 =\n* Fix: Ensure all CSS and JS is minified\n* Fix: Ensure all inline JS is minified\n* Fix: Prevent potential collisions with third party Plugins and Themes using different versions of the imagesLoaded library.\n* Fix: Minor layout issues with Addons screen\n* Fix: Improved Addons search and sorting performance\n* Fix: Prevent JS errors when Galleries are loaded by slug\n\n= 1.5.0.2 =\n* Added: ImageGallery and ImageObject Schema Markup to Galleries\n* Added: Option to insert Title as heading when using the Add button in a Visual Editor\n* Added: More detailed on screen progress bars when uploading multiple images\n* Added: envira_isotopes and envira_isotopes_config JS arrays for developers\n* Updated: Isotope to 3.0.0\n* Updated: ImagesLoaded to 4.1.0\n* Updated: Standardised edit screen titles and descriptions\n* Fix: Better rendering of Isotope layouts using imagesLoaded\n* Fix: Image uploader on Add/Edit screen not displaying on some tablet and mobile devices\n* Fix: Checkmark icon wrongly displaying on modal close when editing images.\n* Fix: Display text in warning when Envira Lite and Envira are both activated.\n* Fix: Ensure that third party notification plugins don\u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u201e\u00a2t remove the Envira logo and header from Envira screens\n* Fix: Various resets for images and captions to prevent themes overriding default behaviour\n* Fix: Minified admin CSS for faster load times\n* Fix: When editing an image, store any checkbox values if checked, instead of assuming 1 or 0 for better Addon compatibility.\n\n= 1.5.0.1 =\n* Updated: Standardised edit screen titles and descriptions\n* Updated: Screenshots\n\n= 1.5.0 =\n* Added: New UI\n* Added: WordPress native modal window for image upload, insertion from Media Library and edit\n* Added: Isotope / masonry layout on galleries\n* Added: Define Image Size for Images (either a WordPress registered size or your own dimensions)\n\n= 1.3.5.9 =\n* Fix: WordPress 4.5 compatibility.\n\n= 1.3.5.8 =\n* Fix: Changed retina icon filenames to ensure they work with All in One WP Security\n* Fix: Removed unused image files\n\n= 1.3.5.7 =\n* Fix: Use WP_Query to get galleries by slug when cache/transient is empty, preventing output blanking after a day when using caching plugins\n\n= 1.3.5.6 =\n* Fix: Menu icon would not display when All In One WP Security activated\n\n= 1.3.5.5 =\n* Fix: Use WP_Query to get galleries when cache/transient is empty, preventing output blanking after a day when using caching plugins\n\n= 1.3.5.4 =\n* Fix: Slug would not save when changed\n\n= 1.3.5.3 =\n* Fix: Close icon display on modals for WordPress 4.4\n\n= 1.3.5.2 =\n* Fix: Correct image orientation for uploaded images (whether through Envira or not). Fixes known issue: https://core.trac.wordpress.org/ticket/14459\n\n= 1.3.5.1 =\n* Fix: Shortcodes using slugs working with WordPress 4.3+\n\n= 1.3.5.0 =\n* Fix: Prevent Envira Custom Post Type from appearing in search results, which would result in a 404\n\n= 1.3.4.10 =\n* Fix: Get rid of undefined property errors\n\n= 1.3.4.9 =\n* Fix: Removed unused variables\n\n= 1.3.4.8 =\n* Fix: Changed text domain and settings for localization to meet translate.wordpress.org requirements\n\n= 1.3.4.7 =\n* Fix: Remove HTML tags from image title attribute on hover\n\n= 1.3.4.6 =\n* Fix: Optimized theme images\n\n= 1.3.4.5 =\n* Added: Better debugging when WP_DEBUG enabled and images do not crop/resize\n\n= 1.3.4.4 =\n* Fix: Localization support with correct domain\n\n= 1.3.4.3 =\n* Added: German translations\n\n= 1.3.4.2 =\n* Fix: Made lightbox strings translatable for close, previous and next\n\n= 1.3.4.1 =\n* Fix: 4.3 compatibility for modal close icon\n\n= 1.3.4 =\n* Fix: Removed console.log entry in JS which would have caused image upload issues in legacy IE browsers\n\n= 1.3.3 =\n* Added: Enable/disable Lightbox option\n\n= 1.3.2 =\n* Added: Units label to Column Gutter Width and Margin Below Each Image settings\n\n= 1.3.1 =\n* Fix: Force ID on save, to ensure compat with WPML and duplication plugins\n\n= 1.3.0 =\n* Fix: Sorting images and not clicking Update would result in loss of configuration\n\n= 1.2.9 =\n* Added: envira_minify_strip_double_forward_slashes filter when minifying, allowing developers to disable this for edge cases\n\n= 1.2.8 =\n* Added: RTL Support\n\n= 1.2.7 =\n* Added: Caption Position Float (Wrapped) option, to wrap Lightbox Caption text to match width of image.\n\n= 1.2.6 =\n* Added: Insert Images Modal automatically loads more images on scroll\n* Added: Insert Images Modal search functionality performance improved\n* Fix: Better Insert Images Modal image grid layout for WordPress 4.0+\n\n= 1.2.5 =\n* Added: WordPress 4.2.1 support\n\n= 1.2.4 =\n* Fix: This Post's was missing when using the Add button\n\n= 1.2.3 =\n* Added: Mobile - lightbox arrows remain displayed on touchscreen devices, so it is clearer to the user how they can navigate through the images\n\n= 1.2.2 =\n* Fix: Image title link color changed to stand out from image title background color in Lightbox\n\n= 1.2.1 =\n* Fix: Loading localization language files for some installations\n\n= 1.2.0 =\n* Added: .POT file for translation / localization support\n\n= 1.1.9 =\n* Added: Minified editor JS\n\n= 1.1.8 =\n* Added: CSS minification for Administration CSS\n\n= 1.1.7 =\n* Fix: Minification of inline CSS and JS\n* Fix: Alt tags on images\n* Fix: Links on Lightbox Image Titles\n\n= 1.1.6 =\n* Fix: Upgraded Fancybox to 2.1.5\n* Fix: Improved error message UI when uploading files exceeding WordPress / PHP file size limits\n\n= 1.1.5 =\n* Fix: Metadata - close window would not always work after uploading new images\n* Fix: Support single quotation character in Image Title\n\n= 1.1.4 =\n* Added: Metadata - Image Alt Text Helpful Tip\n* Fix: Metadata - wp_editor too large for smaller screen resolutions\n\n= 1.1.3 =\n* Fix: Enable HTML captions\n\n= 1.1.2 =\n* Fix: WordPress 4.0 support for Add Slider attachment window\n\n= 1.1.1 =\n* Compatibility updates with WordPress 4.1.\n\n= 1.1.0.1 =\n* Fixed bug with saving image titles.\n\n= 1.1.0 =\n* Fixed bug with HTML being output on image hover for title attribute.\n* Fixed bug with internal link dialog being shown below the edit metadata modal window.\n\n= 1.0.9 =\n* Fixed JS error issues with WordPress 3.9.\n* Added ability to link to external URLs in images.\n* Other miscellaneous bug fixes and improvements.\n\n= 1.0.8.1 =\n* Fixed fatal error with calling wrong class name.\n\n= 1.0.8 =\n* Fixed bug where URLs would not switch over if migrating to a new site.\n* Fixed bug with image uploader and WordPress 3.9.\n* Fixed bug with Quicktags duplicating for image uploaded with the drag-and-drop uploader.\n\n= 1.0.7 =\n* Fixed crop images issue where the original and destination dimensions match.\n* Ensure to restrain thumbnail views.\n\n= 1.0.6.1 =\n* Ensure post form is available before setting post hash.\n\n= 1.0.6 =\n* Added hash support for settings tabs.\n\n= 1.0.5 =\n* Fixed undefined index notice with media max_upload_size variable.\n\n= 1.0.4 =\n* No more limit restrictions. You can now create as many galleries as you want.\n* Features not accessible in Lite version are now removed from display.\n* Fixed bug with resizing not working properly on window resize.\n* Updated the uploader script to reduce outside conflicts.\n* Better style support for the display.\n* Numerous other bug fixes and improvements.\n\n= 1.0.3.1 =\n* Flush caches when interacting with meta.\n* Fixed Isotope init on resize.\n* Added Isotope config hooks.\n* Added constant ENVIRA_FORCE_ACTIVATION that, when defined, allows you to load Envira on WordPress installs less than 3.8 (no guarantees of everything working properly).\n* Fixed improper mobile loading.\n\n= 1.0.3 =\n* Fixed performance leak with Isotope. Galleries should load much faster now!\n\n= 1.0.2.1 =\n* Added ability to pass args in template tag.\n\n= 1.0.2 =\n* Fixed bug with cropped images not loading properly.\n* Added hook for cache flush utility method.\n\n= 1.0.1 =\n* Fixed bug with preloading a large # of images and the\n display not resorting properly.\n\n= 1.0.0 =\n* Initial release.", "<?php\n/**\n * Plugin Name: Envira Gallery Lite\n * Plugin URI:  http://enviragallery.com\n * Description: Envira Gallery is the best responsive WordPress gallery plugin. This is the Lite version.\n * Author:      Envira Gallery Team\n * Author URI:  http://enviragallery.com\n * Version:     1.8.3.3\n * Text Domain: envira-gallery-lite\n *\n * Envira Gallery is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 2 of the License, or\n * any later version.\n *\n * Envira Gallery is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Envira Gallery. If not, see <http://www.gnu.org/licenses/>.\n */\n\n// Exit if accessed directly.\nif ( ! defined( 'ABSPATH' ) ) {\n\texit;\n}\n\n/**\n * Main plugin class.\n *\n * @since 1.0.0\n *\n * @package Envira_Gallery\n * @author  Envira Gallery Team\n */\nclass Envira_Gallery_Lite {\n\n\t/**\n\t * Holds the class object.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @var object\n\t */\n\tpublic static $instance;\n\n\t/**\n\t * Plugin version, used for cache-busting of style and script file references.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @var string\n\t */\n\tpublic $version = '1.8.3.3';\n\n\t/**\n\t * The name of the plugin.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @var string\n\t */\n\tpublic $plugin_name = 'Envira Gallery Lite';\n\n\t/**\n\t * Unique plugin slug identifier.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @var string\n\t */\n\tpublic $plugin_slug = 'envira-gallery-lite';\n\n\t/**\n\t * Plugin file.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @var string\n\t */\n\tpublic $file = __FILE__;\n\n\t/**\n\t * Primary class constructor.\n\t *\n\t * @since 1.0.0\n\t */\n\tpublic function __construct() {\n\n\t\t// Fire a hook before the class is setup.\n\t\tdo_action( 'envira_gallery_pre_init' );\n\n\t\t// Load the plugin textdomain.\n\t\tadd_action( 'plugins_loaded', array( $this, 'load_plugin_textdomain' ) );\n\n\t\t// Load the plugin.\n\t\tadd_action( 'init', array( $this, 'init' ), 0 );\n\n\t\tif ( ! defined( 'ENVIRA_VERSION' ) ) {\n\n\t\t\tdefine( 'ENVIRA_VERSION', $this->version );\n\n\t\t}\n\n\t\tif ( ! defined( 'ENVIRA_SLUG' ) ) {\n\n\t\t\tdefine( 'ENVIRA_SLUG', $this->plugin_slug );\n\n\t\t}\n\n\t\tif ( ! defined( 'ENVIRA_FILE' ) ) {\n\n\t\t\tdefine( 'ENVIRA_FILE', $this->file );\n\n\t\t}\n\n\t\tif ( ! defined( 'ENVIRA_DIR' ) ) {\n\n\t\t\tdefine( 'ENVIRA_DIR', plugin_dir_path( __FILE__ ) );\n\n\t\t}\n\n\t\tif ( ! defined( 'ENVIRA_URL' ) ) {\n\n\t\t\tdefine( 'ENVIRA_URL', plugin_dir_url( __FILE__ ) );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Loads the plugin textdomain for translation.\n\t *\n\t * @since 1.0.0\n\t */\n\tpublic function load_plugin_textdomain() {\n\n\t\tload_plugin_textdomain( 'envira-gallery-lite' );\n\n\t}\n\n\t/**\n\t * Loads the plugin into WordPress.\n\t *\n\t * @since 1.0.0\n\t */\n\tpublic function init() {\n\n\t\t// Don't load Lite if Envira Gallery is already active.\n\t\t// Envira Gallery will display a notice telling the user to deactivate Lite.\n        if ( class_exists( 'Envira_Gallery' ) ) {\n            return;\n        }\n\n        // Run hook once Envira has been initialized.\n        // This hook is deliberately different from the Pro version, to prevent the entire site breaking\n\t\t// if a user activates Lite with Pro Addons.\n        do_action( 'envira_gallery_lite_init' );\n\n\t\t// Load global components.\n\t\t$this->require_global();\n\n        // Load admin only components.\n        if ( is_admin() ) {\n            $this->require_admin();\n        }\n\n\t\t// Add hook for when Envira has loaded.\n\t\t// This hook is deliberately different from the Pro version, to prevent the entire site breaking\n\t\t// if a user activates Lite with Pro Addons.\n\t\tdo_action( 'envira_gallery_lite_loaded' );\n\n\t}\n\n\t/**\n\t * Loads all admin related files into scope.\n\t *\n\t * @since 1.0.0\n\t */\n\tpublic function require_admin() {\n\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/addons.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/common.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/editor.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/media.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/media-view.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/metaboxes.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/notice.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/posttype.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/table.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/review.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/gutenberg.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/subscribe.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/promotion.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/welcome.php';\n\n\t}\n\n\t/**\n\t * Loads a partial view for the Administration screen\n\t *\n\t * @since 1.5.0\n\t *\n\t * @param      string    $template      PHP file at includes/admin/partials, excluding file extension\n\t * @param      array     $data          Any data to pass to the view\n\t * @return     void\n\t */\n\tpublic function load_admin_partial( $template, $data = array() ){\n\n\t\t$dir = trailingslashit( plugin_dir_path( __FILE__ ) . 'includes/admin/partials' );\n\n\t\tif ( file_exists( $dir . $template . '.php' ) ) {\n\t\t\trequire_once(  $dir . $template . '.php' );\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Loads all global files into scope.\n\t *\n\t * @since 1.0.0\n\t */\n\tpublic function require_global() {\n\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/global/common.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/global/posttype.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/global/shortcode.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/global/rest.php';\n\t\trequire plugin_dir_path( __FILE__ ) . 'includes/admin/ajax.php';\n\n\t}\n\n\t/**\n\t * Returns a gallery based on ID.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param int $id     The gallery ID used to retrieve a gallery.\n\t * @return array|bool Array of gallery data or false if none found.\n\t */\n\tpublic function get_gallery( $id ) {\n\n\t\t// Attempt to return the transient first, otherwise generate the new query to retrieve the data.\n\t\tif ( false === ( $gallery = get_transient( '_eg_cache_' . $id ) ) ) {\n\t\t\t$gallery = $this->_get_gallery( $id );\n\t\t\tif ( $gallery ) {\n\t\t\t\t$expiration = Envira_Gallery_Common::get_instance()->get_transient_expiration_time();\n\t\t\t\tset_transient( '_eg_cache_' . $id, $gallery, $expiration );\n\t\t\t}\n\t\t}\n\n\t\t// Return the gallery data.\n\t\treturn $gallery;\n\n\t}\n\n\t/**\n\t * Internal method that returns a gallery based on ID.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param int $id     The gallery ID used to retrieve a gallery.\n\t * @return array|bool Array of gallery data or false if none found.\n\t */\n\tpublic function _get_gallery( $id ) {\n\n\t\t$meta = get_post_meta( $id, '_eg_gallery_data', true );\n\n\t\t/**\n\t\t* Version 1.2.1+: Check if $meta has a value - if not, we may be using a Post ID but the gallery\n\t\t* has moved into the Envira CPT\n\t\t*/\n\t\tif ( empty( $meta ) ) {\n\t\t\t$gallery_id = get_post_meta( $id, '_eg_gallery_id', true );\n\t\t\t$meta = get_post_meta( $gallery_id, '_eg_gallery_data', true );\n\t\t}\n\n\t\treturn $meta;\n\n\t}\n\n\t/**\n\t * Returns the number of images in a gallery.\n\t *\n\t * @since 1.2.1\n\t *\n\t * @param int $id The gallery ID used to retrieve a gallery.\n\t * @return int    The number of images in the gallery.\n\t */\n\tpublic function get_gallery_image_count( $id ) {\n\n\t\t$gallery = $this->get_gallery( $id );\n\t    return isset( $gallery['gallery'] ) ? count( $gallery['gallery'] ) : 0;\n\n\t}\n\n\t/**\n\t * Returns a gallery based on slug.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param string $slug The gallery slug used to retrieve a gallery.\n\t * @return array|bool  Array of gallery data or false if none found.\n\t */\n\tpublic function get_gallery_by_slug( $slug ) {\n\n\t\t// Attempt to return the transient first, otherwise generate the new query to retrieve the data.\n\t\tif ( false === ( $gallery = get_transient( '_eg_cache_' . $slug ) ) ) {\n\t\t\t$gallery = $this->_get_gallery_by_slug( $slug );\n\t\t\tif ( $gallery ) {\n\t\t\t\t$expiration = Envira_Gallery_Common::get_instance()->get_transient_expiration_time();\n\t\t\t\tset_transient( '_eg_cache_' . $slug, $gallery, $expiration );\n\t\t\t}\n\t\t}\n\n\t\t// Return the gallery data.\n\t\treturn $gallery;\n\n\t}\n\n\t/**\n\t * Internal method that returns a gallery based on slug.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param string $slug The gallery slug used to retrieve a gallery.\n\t * @return array|bool  Array of gallery data or false if none found.\n\t */\n\tpublic function _get_gallery_by_slug( $slug ) {\n\n\t\t// Get Envira CPT by slug.\n\t\t$galleries = new WP_Query( array(\n\t\t\t'post_type'    => 'envira',\n\t\t\t'name'              => $slug,\n\t\t\t'fields'        => 'ids',\n\t\t\t'posts_per_page' => 1,\n\t\t) );\n\t\tif ( $galleries->posts ) {\n\t\t\treturn get_post_meta( $galleries->posts[0], '_eg_gallery_data', true );\n\t\t}\n\n\t\t// If nothing found, get Envira CPT by _eg_gallery_old_slug.\n\t\t// This covers Galleries migrated from Pages/Posts --> Envira CPTs.\n\t\t$galleries = new WP_Query( array(\n\t\t\t'post_type'     => 'envira',\n\t\t\t'no_found_rows' => true,\n\t\t\t'cache_results' => false,\n\t\t\t'fields'        => 'ids',\n\t\t\t'meta_query'    => array(\n\t\t\t\tarray(\n\t\t\t\t\t'key'     => '_eg_gallery_old_slug',\n\t\t\t\t\t'value'   => $slug,\n\t\t\t\t),\n\t\t\t),\n\t\t\t'posts_per_page' => 1,\n\t\t) );\n\t\tif ( $galleries->posts ) {\n\t\t\treturn get_post_meta( $galleries->posts[0], '_eg_gallery_data', true );\n\t\t}\n\n\t\t// No galleries found.\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Returns all galleries created on the site.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param bool           $skip_empty         Skip empty sliders.\n\t * @param bool           $ignore_cache       Ignore Transient cache.\n\t * @param string    $search_terms       Search for specified Galleries by Title\n\t *\n\t * @return array|bool                        Array of gallery data or false if none found.\n\t */\n\tpublic function get_galleries( $skip_empty = true, $ignore_cache = false, $search_terms = '' ) {\n\n\t\t// Attempt to return the transient first, otherwise generate the new query to retrieve the data.\n\t\tif ( $ignore_cache || ! empty( $search_terms ) || false === ( $galleries = get_transient( '_eg_cache_all' ) ) ) {\n\t\t\t$galleries = $this->_get_galleries( $skip_empty, $search_terms );\n\n\t\t\t// Cache the results if we're not performing a search and we have some results\n\t\t\tif ( $galleries && empty( $search_terms ) ) {\n\t\t\t\t$expiration = Envira_Gallery_Common::get_instance()->get_transient_expiration_time();\n\t\t\t\tset_transient( '_eg_cache_all', $galleries, $expiration );\n\t\t\t}\n\t\t}\n\n\t\t// Return the gallery data.\n\t\treturn $galleries;\n\n\t}\n\n\t/**\n\t * Internal method that returns all galleries created on the site.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param bool           $skip_empty    Skip Empty Galleries.\n\t * @param string    $search_terms  Search for specified Galleries by Title\n\t * @return mixed                        Array of gallery data or false if none found.\n\t */\n\tpublic function _get_galleries( $skip_empty = true, $search_terms = '' ) {\n\n\t\t// Build WP_Query arguments.\n\t\t$args = array(\n\t\t\t'post_type'     => 'envira',\n\t\t\t'post_status'   => 'publish',\n\t\t\t'posts_per_page'=> 99,\n\t\t\t'no_found_rows' => true,\n\t\t\t'fields'        => 'ids',\n\t\t\t'meta_query'    => array(\n\t\t\t\tarray(\n\t\t\t\t\t'key'   => '_eg_gallery_data',\n\t\t\t\t\t'compare' => 'EXISTS',\n\t\t\t\t),\n\t\t\t),\n\t\t);\n\n\t\t// If search terms exist, add a search parameter to the arguments.\n\t\tif ( ! empty( $search_terms ) ) {\n\t\t\t$args['s'] = $search_terms;\n\t\t}\n\n\t\t// Run WP_Query.\n\t\t$galleries = new WP_Query( $args );\n\t\tif ( ! isset( $galleries->posts ) || empty( $galleries->posts ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Now loop through all the galleries found and only use galleries that have images in them.\n\t\t$ret = array();\n\t\tforeach ( $galleries->posts as $id ) {\n\t\t\t$data = get_post_meta( $id, '_eg_gallery_data', true );\n\n\t\t\t// Skip empty galleries.\n\t\t\tif ( $skip_empty && empty( $data['gallery'] ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Skip default/dynamic gallery types.\n\t\t\t$type = Envira_Gallery_Shortcode::get_instance()->get_config( 'type', $data );\n\t\t\tif ( 'defaults' === Envira_Gallery_Shortcode::get_instance()->get_config( 'type', $data ) || 'dynamic' === Envira_Gallery_Shortcode::get_instance()->get_config( 'type', $data ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Add gallery to array of galleries.\n\t\t\t$ret[] = $data;\n\t\t}\n\n\t\t// Return the gallery data.\n\t\treturn $ret;\n\n\t}\n\n\t/**\n\t * Returns the license key for Envira.\n\t *\n\t * As Lite doesn't need a license key, but includes/admin/addons.php\n\t * expects something, we return an empty string.\n\t *\n\t * @since 1.5.0.3\n\t *\n\t * @return string Empty String\n\t */\n\tpublic function get_license_key() {\n\n\t\treturn '';\n\n\t}\n\n\t/**\n\t * Returns the license key type for Envira.\n\t *\n\t * As Lite doesn't need a license key, but includes/admin/addons.php\n\t * expects something, we return an empty string.\n\t *\n\t * @since 1.5.0.3\n\t *\n\t * @return string Empty String\n\t */\n\tpublic function get_license_key_type() {\n\n\t\treturn '';\n\n\t}\n\n\t/**\n\t * Returns the license key error(s) for Envira.\n\t *\n\t * As Lite doesn't need a license key, but includes/admin/addons.php\n\t * expects something, we return false\n\t *\n\t * @since 1.5.0.3\n\t *\n\t * @return bool false\n\t */\n\tpublic function get_license_key_errors() {\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Returns the singleton instance of the class.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @return object The Envira_Gallery object.\n\t */\n\tpublic static function get_instance() {\n\n\t\tif ( ! isset( self::$instance ) && ! ( self::$instance instanceof Envira_Gallery_Lite ) ) {\n\t\t\tself::$instance = new Envira_Gallery_Lite();\n\t\t}\n\n\t\treturn self::$instance;\n\n\t}\n}\n\nregister_activation_hook( __FILE__, 'envira_gallery_lite_activation_hook' );\n/**\n * Fired when the plugin is activated.\n *\n * @since 1.0.0\n *\n * @global int $wp_version      The version of WordPress for this install.\n * @global object $wpdb         The WordPress database object.\n * @param boolean $network_wide True if WPMU superadmin uses \"Network Activate\" action, false otherwise.\n */\nfunction envira_gallery_lite_activation_hook( $network_wide ) {\n\n\tglobal $wp_version;\n\tif ( version_compare( $wp_version, '4.0', '<' ) && ! defined( 'ENVIRA_FORCE_ACTIVATION' ) ) {\n\t\tdeactivate_plugins( plugin_basename( __FILE__ ) );\n\t\twp_die( sprintf( __( 'Sorry, but your version of WordPress does not meet Envira Gallery\\'s required version of <strong>4.0</strong> to run properly. The plugin has been deactivated. <a href=\"%s\">Click here to return to the Dashboard</a>.', 'envira-gallery-lite' ), get_admin_url() ) );\n\t}\n\n\t// Make sure Envira Pro plugin, if activated is deactivated\n\tdeactivate_plugins( 'envira-gallery/envira-gallery.php' );\n\n}\n\n// Load the main plugin class.\n$envira_gallery_lite = Envira_Gallery_Lite::get_instance();\n\n\nif ( ! function_exists( 'envira_mobile_detect' ) ) {\n\n\t/**\n\t * Holder for mobile detect.\n\t *\n\t * @access public\n\t * @return void\n\t */\n\tfunction envira_mobile_detect(){\n\n\t\t//Check for mobile detect class before loading it again //prevents conflicts with themes\n\t\tif ( ! class_exists( 'Mobile_Detect' ) ) {\n\n\t\t\trequire_once trailingslashit( plugin_dir_path( __FILE__ ) ) . 'includes/global/Mobile_Detect.php';\n\n\t\t}\n\n\t\treturn new Mobile_Detect;\n\n\t}\n\n}\n\n// Conditionally load the upgrade function.\nif ( ! function_exists( 'envira_wp_upe_upgrade_completed' ) ) {\n\n\t/**\n\t * This function runs when WordPress completes its upgrade process\n\t * It iterates through each plugin updated to see if Envira is included\n\t * @param $upgrader_object Array\n\t * @param $options Array\n\t */\n\tfunction envira_wp_upe_upgrade_completed( $upgrader_object, $options ) {\n\t\t// The path to our plugin's main file\n\t\t$our_plugin = plugin_basename( __FILE__ );\n\t\t// If an update has taken place and the updated type is plugins and the plugins element exists\n\t\tif( $options['action'] == 'update' && $options['type'] == 'plugin' && isset( $options['plugins'] ) ) {\n\t\t\t// Iterate through the plugins being updated and check if ours is there\n\t\t\tforeach( $options['plugins'] as $plugin ) {\n\t\t\t\tif( $plugin == $our_plugin ) {\n\t\t\t\t\t// Set a transient to record that our plugin has just been updated\n\t\t\t\t\tset_transient( 'envira_lite_updated', 1, 60 ); // one minute\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tadd_action( 'upgrader_process_complete', 'envira_wp_upe_upgrade_completed', 10, 2 );\n\n}\n\n// Conditionally load the template tag.\nif ( ! function_exists( 'envira_gallery' ) ) {\n\t/**\n\t * Primary template tag for outputting Envira galleries in templates.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param int    $id          The ID of the gallery to load.\n\t * @param string $type        The type of field to query.\n\t * @param array  $args        Associative array of args to be passed.\n\t * @param bool   $return    Flag to echo or return the gallery HTML.\n\t */\n\tfunction envira_gallery( $id, $type = 'id', $args = array(), $return = false ) {\n\n\t\t// If we have args, build them into a shortcode format.\n\t\t$args_string = '';\n\t\tif ( ! empty( $args ) ) {\n\t\t\tforeach ( (array) $args as $key => $value ) {\n\t\t\t\t$args_string .= ' ' . $key . '=\"' . $value . '\"';\n\t\t\t}\n\t\t}\n\n\t\t// Build the shortcode.\n\t\t$shortcode = ! empty( $args_string ) ? '[envira-gallery ' . $type . '=\"' . $id . '\"' . $args_string . ']' : '[envira-gallery ' . $type . '=\"' . $id . '\"]';\n\n\t\t// Return or echo the shortcode output.\n\t\tif ( $return ) {\n\t\t\treturn do_shortcode( $shortcode );\n\t\t} else {\n\t\t\techo do_shortcode( $shortcode );\n\t\t}\n\n\t}\n}\n", " === Gallery Plugin for WordPress - Envira Photo Gallery ===\nContributors: enviragallery, nathansingh, chrisakelley, dimensionmedia\nTags: gallery, image gallery, photo gallery, best gallery plugin, wordpress gallery plugin\nRequires at least: 4.4.0\nTested up to: 5.6.0\nRequires PHP: 5.6\nStable tag: trunk\nLicense: GNU General Public License v2.0 or later\n\nEnvira Gallery is the fastest, easiest to use WordPress image gallery plugin. Lightbox with Drag & Drop builder that helps you create beautiful galleries with just a few clicks.\n\n== Description ==\n\n= Gallery Plugin =\n\nhttps://www.youtube.com/watch?v=4jHG3LOmV-c&w=532&rel=0\n\n= Helpful Links: =\n* [Gallery Demo](https://bit.ly/35iqELD)\n* [Gallery Documentation](https://bit.ly/35fmlRv)\n* [Gallery Support](https://bit.ly/2W8ZXoF)\n\nWe believe that you shouldn't have to hire a developer to create a WordPress gallery. That's why we built [Envira](https://bit.ly/35gNvqW), a drag & drop **photo gallery plugin** that's both EASY, FAST and POWERFUL.\n\nEnvira Gallery is optimized for web and server performance as well as SEO and conversion, because we understand the importance of speed when it comes to image and gallery load times. Especially if your looking to sell from your site.\n\nWorks great with the top page builders including: Elementor, Beaver Builder, Divi and more.\n\n> <strong>Envira  Gallery Pro</strong><br />\n> Photo Gallery by Envira is the lite version of the popular Envira Pro plugin that comes with all the features you will ever need including albums, video galleries, tags, social media integration, gallery templates / gallery layouts, deeplinking, pagination, e-commerce, image proofing, and tons more. [Click here to purchase Envira Pro now!](https://bit.ly/2YnXCsV)\n\n**Envira** has been downloaded over 2.8 million times. Here's why smart photographers, designers, and developers love Envira, and you will too!\n\n= Drag & Drop Gallery Builder =\n\nWe were tired with the bloated and buggy gallery widgets. That's why we built Envira Gallery to adapt to your workflow and allow you to create in minutes. By using our easy to use [drag and drop builder](https://bit.ly/3bObn87), you can upload your photos, rearrange them, and create an image gallery with just a few clicks.\n\nYou can also add gallery blocks built for the Gutenberg block editor.\n\n> The trick to making difficult things easy is to keep the easy things still easy. <strong>Envira makes everything easy.</strong> If you've struggled with WordPress gallery plugins that take video tutorials to learn, you're going to love Envira Gallery.<br>\n> Chris Lema - WordPress Blogger and Speaker\n\n= Mobile Ready, SEO Friendly and Optimized for Speed =\n\nEnvira is 100% responsive and mobile-friendly by default. We optimized every query on the front-end and the back-end to ensure maximum speed.\n\nPlus, you have the ability for meta data, deeplinks, standalone galleries, and pagination.\n\n= Sharing and Selling Photos Made EASY =\n\nSocial media integrations, image proofing, and WooCommerce store integration.\n\n> Not only is Envira <strong>exceptionally well built</strong> behind the scenes, it's also exceptionally easy to use. It's perfect for those who really want to get things done.<br>\n> Pippin Williamson - WordPress Core Contributor and founder of EasyDigitalDownloads\n\n= Easy to Customize and Extend =\n\nYou can easily customize with our built-in Wordpress templates and layouts or create your own.\n\nBut we also knew that our developer friends may want to extend it further. That's why Envira comes with tons of hooks and filters (and yes it's all very-well documented).\n\n> Most WordPress gallery options are either too basic or require a PhD to figure out. For my clients, I need something that is easy to use yet powerful. Envira is the answer. Its straight forward approach means it is a breeze for my clients to quickly create galleries. Nevertheless, with the API and documentation available, it also allows developers to make customizations and extend functionality when necessary. Simply put, <strong>Envira is a great tool</strong> for everyone's tool chest.<br>\n> Jared Atchison - Top Notch Engineer and WordPress Developer\n\n= Full Envira Feature List =\n\n* Guttenberg Blocks\n* Drag & Drop Photo Gallery Builder\n* 100% Responsive - Mobile Friendly\n* Beautiful WordPress Templates for Customization\n* [Albums](https://bit.ly/35dXeP1) - Easily organize your photo galleries, choose cover photos, and more.\n* [Social Sharing](https://bit.ly/2W8Ye2P) - Share your photos on Facebook, Twitter, Pinterest, LinkedIn, and WhatsApp.\n* [Video Galleries](https://bit.ly/2ySgvcz) - Not just for photos! You can add YouTube, Vimeo, Wistia, and other videos in your video gallery.\n* [Watermarking](https://bit.ly/3bNWCCd) - Protect your images from theft with watermarking.\n* [Slideshow](https://bit.ly/2WenYuq) - Add beautiful slideshow with autoplay, manual controls, and more.\n* [Deeplinking](https://bit.ly/3cVYiJZ) - Make your gallery and images SEO friendly and easily link to individual images with deeplinking.\n* [Pagination](https://bit.ly/2KHavGg) - Split your large galleries into multiple pages to improve page speed, user experience, and pageviews.\n* [Image Proofing](https://bit.ly/2WbMn3Q) - We made client image proofing easy for your photography business.\n* [WooCommerce Integration](https://bit.ly/3bNIngt) - Instantly display and sell your photos with the most popular eCommerce software on the web.\n* [Image Tags](https://bit.ly/3aUChKh) - Organize your WordPress photos with tags for easy search and display that also filtrable.\n* [Password Protection](https://bit.ly/3aPH53t) - Prevent unauthorized access to your WordPress galleries.\n* [Standalone Galleries](https://bit.ly/2KLpFKA) - Create independent galleries that are not tied to your posts or pages.\n* [EXIF Meta Data](https://bit.ly/3bQw4zZ) - Display your EXIF data including camera model, aperture, shutter speed, and more.\n* [Pinterest](https://bit.ly/2Wbiwsd) - Add the Pinterest Pin It button to improve your reach.\n* [Instagram](https://bit.ly/3cZHYru) - Import Instagram images.\n* [Fullscreen Display](https://bit.ly/3f9cP79) - Take advantage of the native fullscreen and Lightbox display.\n* [Supersized Images](https://bit.ly/3aNyf68) - Don't want to crop or resize your images? Supersize allows you to do just that.\n* [Dynamic Galleries](https://bit.ly/2YjsE5c) - Easily create galleries on the fly from various different sources.\n* [Gallery Defaults](https://bit.ly/2WgmAI2) - Speed up the creation process by saving your default settings.\n* [CSS Styles](https://bit.ly/3cYslAD) - Customize your portfolio by adding custom CSS and styles.\n* [Adobe Lightroom to WordPress](https://bit.ly/3f1StMX) - Do you love Adobe Lightroom? We do too. You can automatically create and sync photo galleries from your Adobe Lightroom Collections. We made Lightroom to WordPress import easy!\n* [Zip Importer](https://bit.ly/2yaFCr7) - Nobody likes uploading images individually. Now you can build a gallery from a .zip file.\n* [Dropbox Importer](https://bit.ly/2YjAdsq) - You can easily import photos from your Dropbox account.\n* [NextGEN Importer](https://bit.ly/3bRqvkX) - Import your NextGEN files in few simple clicks.\n* Want us to add something else? Suggest a feature and we'll get it added!\n\n> When it comes to WordPress gallery plugins, <strong>Envira has no equal</strong>. Solid enough to do the job right, while flexible enough to handle any situation you can throw at it.<br>\n> Andrew Norcross - Expert WordPress Consultant and Core Contributer\n\n= Demos =\n\nWhile Envira offers tons of features, below are some of the most requested demos.\n\n* [WordPress Lightbox Photo Display Demo](https://bit.ly/2xkoZc1)\n* [WordPress Masonry Display Demo](https://bit.ly/2KMlyhy)\n* [WordPress Photo Albums Demo](https://bit.ly/35fRAMc)\n* [WordPress Polaroid Photo Display Demo](https://bit.ly/3aQoTGI)\n* [WordPress Video Display Demo](https://bit.ly/2KKqkMr)\n* See the full list of [Envira Demos](https://bit.ly/3f1AbLG)\n\n= Popular Envira Tutorials =\n\nWe share tons of photography tutorials at the [Envira blog](https://bit.ly/35oaK2E).\n\nBelow are some of the most popular Envira tutorials:\n\n* [How to Create Your First Gallery](https://bit.ly/3f5XrIk)\n* [How to Upload Photos Directly from Adobe Lightroom to WordPress](https://bit.ly/35epfWE)\n* [How to Protect Your Galleries from Image Theft](https://bit.ly/2YioHxB)\n* [How to Turn Your Photos Into Products](https://bit.ly/3eZgpAu)\n* [How to Optimize Your Envira for Search Engine Optimization](https://bit.ly/2SjUFps)\n* [How to Add a Polaroid Gallery in WordPress](https://bit.ly/3aLXxl1)\n* [How to Create a Masonry Image Gallery in WordPress](https://bit.ly/3aUZvzW)\n* [How to Create a Photo Album in WordPress](https://bit.ly/35eq8OY)\n* [How to Create an Image Slider for Your WordPress Galleries](https://bit.ly/3f6ol2P)\n* [How to Add Pagination in WordPress Image Galleries](https://bit.ly/3cTtcCC)\n= Credits =\n\n= What's Next =\n\nIf you like this plugin, then consider checking out our other plugin:\n\n* [Soliloquy](https://bit.ly/2yXNk8c) - The Best WordPress Slider Plugin\n\n== Installation ==\n\n1. Install Envira Lite either via the WordPress.org plugin repository or by uploading the files to your server. (See instructions on <a href=\"http://www.wpbeginner.com/beginners-guide/step-by-step-guide-to-install-a-wordpress-plugin-for-beginners/\" rel=\"friend\">how to install a WordPress plugin</a>)\n2. Activate Envira Lite.\n3. Navigate to the Envira tab at the bottom of your admin menu and click the \"Add New\" button to begin creating, or you can create directly inside the post/page/custom post type of your choice.\n4. Salivate for new features and [purchase the full version of Envira](https://bit.ly/3bP85RV)!\n\n== Screenshots ==\n\n1. Envira Gallery post type overview screen.\n2. Modal box to select images from your Media Library.\n3. Overlay helper with shortcode and template tag information.\n4. Media modal for inserting a gallery into your WYSIWYG editor.\n5. Gallery display on the front-end with 2 columns.\n6. Lightbox view of the gallery.\n\n== Frequently Asked Questions ==\n\n= Who should use Envira? =\n\nEnvira is perfect for photographers, designers, bloggers, and small businesses.\n\n= Do I need to have coding skills to use Envira? =\n\nAbsolutely not. You can create and customize beautiful image and video galleries without any coding knowledge. We made it super easy.\n\n= What kind of galleries can I create with Envira Gallery? =\n\nHere are the types of galleries you can create:\n\nPhoto / Image\nVideo Gallery\nFullscreen\nImage Gallery with Albums\nImage Gallery with Lightbox\nFeatured Content\nMasonry Photo\nJustified Image\nImage Gallery with Pagination\nPolaroid Image\nInstagram Photo Gallery\nImage Gallery with Tags\nPinterest Image Gallery\nPhoto Gallery with EXIF Data\nImage Gallery with Watermarks\nPhoto Gallery with Slideshow\nImage Gallery with Zoom\nPhoto Gallery with Proofing\nLazyload\nWooCommerce Product\nImage Gallery with Lightroom Photos\nPassword Protected Photo\nDropbox Images\nImage from Zip Files\nPhotos with Breadcrumb Navigation\nCustom Post Type Content\nYouTube Video\nInstagram Video\nFacebook Video\nVimeo Video\nWistia Video\nTwitch.tv Video\nCustom Video\nDynamic Photos\nPortfolio\nTiles\nGrid\nMusic Gallery\n\n= I'd like access to all features. How can I get them? =\n\nYou can get access to more features, Addons and support by [visiting the Envira website and purchasing a support license](https://bit.ly/35iRqUn). Purchasing a support license gets you access to the full version of Envira, automatic updates and support, and depending on the level of support license, you can even get exclusive access to Envira Addons!\n\n= Is Envira translation ready? =\n\nYes, Envira has full translation and localization support via the envira-gallery textdomain. To submit a translation, see https://translate.wordpress.org/projects/wp-plugins/envira-gallery-lite\n\n\n== Changelog ==\n\n1.8.3.3\n\n* Fixed: Improving metadata sanitization.\n\n\n1.8.3.2\n\n* Fixed: Lightbox Bug with WordPress 5.6.0\n\n1.8.3.1\n\n* Added: Lifetime option notice.\n\n1.8.3\n\n* Updated: Recent News On Welcome Screen.\n* Updated: Links On What's New Screen.\n\n1.8.2\n\n* Added: Most Popular sort in Addons screen.\n* Updated: Recent News On Welcome Screen.\n* Updated: Links On What's New Screen.\n\n1.8.1\n\n* Added: envira_gallery_output_item_src_retina filter.\n* Added: envira_gallery_title_display filter.\n* Added: filters for aspectRatio, loop, lightbox openclose effect, and more for Fancybox settings.\n* Updated: Subscription number.\n* Updated: Remove references to Facebook Video.\n\n1.8.0.3\n\n* Fix: Tweak UI for upcoming WordPress 5.5 admin visual changes.\n* Fix: Removed outdated URL from translation files.\n\n1.8.0.2\n\n* Removed: Legacy style related to Gutenberg.\n\n1.8.0.1\n\n* Removed: Redirect upon updating.\n\n1.8.0\n\n* Added: Enable links in lightbox settings, when lightbox is deactivated.\n\n"], "filenames": ["changelog.txt", "envira-gallery-lite.php", "readme.txt"], "buggy_code_start_loc": [2, 8, 214], "buggy_code_end_loc": [2, 57, 214], "fixing_code_start_loc": [3, 8, 215], "fixing_code_end_loc": [7, 57, 220], "type": "CWE-79", "message": "A stored cross-site scripting (XSS) issue in Envira Gallery Lite before 1.8.3.3 allows remote attackers to inject arbitrary JavaScript/HTML code via a POST /wp-admin/admin-ajax.php request with the meta[title] parameter.", "other": {"cve": {"id": "CVE-2020-35581", "sourceIdentifier": "cve@mitre.org", "published": "2021-01-15T07:15:13.377", "lastModified": "2021-01-15T19:12:31.573", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "A stored cross-site scripting (XSS) issue in Envira Gallery Lite before 1.8.3.3 allows remote attackers to inject arbitrary JavaScript/HTML code via a POST /wp-admin/admin-ajax.php request with the meta[title] parameter."}, {"lang": "es", "value": "Un problema de tipo cross-site scripting (XSS) almacenado en Envira Gallery Lite versiones anteriores a 1.8.3.3, permite a atacantes remotos inyectar c\u00f3digo JavaScript/HTML arbitrario por medio de una petici\u00f3n POST del archivo /wp-admin/admin-ajax.php con el par\u00e1metro meta[title]"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 5.4, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.3, "impactScore": 2.7}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:M/Au:S/C:N/I:P/A:N", "accessVector": "NETWORK", "accessComplexity": "MEDIUM", "authentication": "SINGLE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "NONE", "baseScore": 3.5}, "baseSeverity": "LOW", "exploitabilityScore": 6.8, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": true}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:enviragallery:envira_gallery:*:*:*:*:lite:wordpress:*:*", "versionEndExcluding": "1.8.3.3", "matchCriteriaId": "4DA20741-4782-4562-989B-AB9D0B7A17D0"}]}]}], "references": [{"url": "http://packetstormsecurity.com/files/160924/Envira-Gallery-Lite-1.8.3.2-Cross-Site-Scripting.html", "source": "cve@mitre.org", "tags": ["Exploit", "Third Party Advisory", "VDB Entry"]}, {"url": "https://github.com/enviragallery/envira-gallery-lite/blob/master/changelog.txt", "source": "cve@mitre.org", "tags": ["Release Notes", "Third Party Advisory"]}, {"url": "https://github.com/enviragallery/envira-gallery-lite/commit/102651514e6faca914ec1c7e113def340d8e1e09", "source": "cve@mitre.org", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/enviragallery/envira-gallery-lite/commit/3b081dd10a1731f8cd981bebeac0e775fb217acf", "source": "cve@mitre.org", "tags": ["Patch", "Third Party Advisory"]}]}, "github_commit_url": "https://github.com/enviragallery/envira-gallery-lite/commit/102651514e6faca914ec1c7e113def340d8e1e09"}}