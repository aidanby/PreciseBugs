{"buggy_code": ["9.2.0\n-----\n\nBackwards Incompatible Changes\n==============================\n\nTODO\n^^^^\n\nDeprecations\n============\n\nPyQt5 and PySide2\n^^^^^^^^^^^^^^^^^\n\n.. deprecated:: 9.2.0\n\n`Qt 5 reached end-of-life <https://www.qt.io/blog/qt-5.15-released>`_ on 2020-12-08 for\nopen-source users (and will reach EOL on 2023-12-08 for commercial licence holders).\n\nSupport for PyQt5 and PySide2 has been deprecated from ``ImageQt`` and will be removed\nin Pillow 10 (2023-07-01). Upgrade to\n`PyQt6 <https://www.riverbankcomputing.com/static/Docs/PyQt6/>`_ or\n`PySide6 <https://doc.qt.io/qtforpython/>`_ instead.\n\nFreeTypeFont.getmask2 fill parameter\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n.. deprecated:: 9.2.0\n\nThe undocumented ``fill`` parameter of :py:meth:`.FreeTypeFont.getmask2`\nhas been deprecated and will be removed in Pillow 10 (2023-07-01).\n\nPhotoImage.paste box parameter\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n.. deprecated:: 9.2.0\n\nThe ``box`` parameter is unused. It will be removed in Pillow 10.0.0 (2023-07-01).\n\nImage.coerce_e\n^^^^^^^^^^^^^^\n\n.. deprecated:: 9.2.0\n\nThis undocumented method has been deprecated and will be removed in Pillow 10\n(2023-07-01).\n\nAPI Changes\n===========\n\nTODO\n^^^^\n\nTODO\n\nAPI Additions\n=============\n\nImage.apply_transparency\n^^^^^^^^^^^^^^^^^^^^^^^^\n\nAdded :py:meth:`~PIL.Image.Image.apply_transparency`, a method to take a P mode image\nwith \"transparency\" in ``im.info``, and apply the transparency to the palette instead.\nThe image's palette mode will become \"RGBA\", and \"transparency\" will be removed from\n``im.info``.\n\nSecurity\n========\n\nTODO\n^^^^\n\nTODO\n\nOther Changes\n=============\n\nUsing gnome-screenshot on Linux\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nIn :py:meth:`~PIL.ImageGrab.grab` on Linux, if ``xdisplay`` is ``None`` then\n``gnome-screenshot`` will be used to capture the display if it is installed. To capture\nthe default X11 display instead, pass ``xdisplay=\"\"``.\n"], "fixing_code": ["9.2.0\n-----\n\nDeprecations\n============\n\nPyQt5 and PySide2\n^^^^^^^^^^^^^^^^^\n\n.. deprecated:: 9.2.0\n\n`Qt 5 reached end-of-life <https://www.qt.io/blog/qt-5.15-released>`_ on 2020-12-08 for\nopen-source users (and will reach EOL on 2023-12-08 for commercial licence holders).\n\nSupport for PyQt5 and PySide2 has been deprecated from ``ImageQt`` and will be removed\nin Pillow 10 (2023-07-01). Upgrade to\n`PyQt6 <https://www.riverbankcomputing.com/static/Docs/PyQt6/>`_ or\n`PySide6 <https://doc.qt.io/qtforpython/>`_ instead.\n\nFreeTypeFont.getmask2 fill parameter\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n.. deprecated:: 9.2.0\n\nThe undocumented ``fill`` parameter of :py:meth:`.FreeTypeFont.getmask2`\nhas been deprecated and will be removed in Pillow 10 (2023-07-01).\n\nPhotoImage.paste box parameter\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n.. deprecated:: 9.2.0\n\nThe ``box`` parameter is unused. It will be removed in Pillow 10.0.0 (2023-07-01).\n\nImage.coerce_e\n^^^^^^^^^^^^^^\n\n.. deprecated:: 9.2.0\n\nThis undocumented method has been deprecated and will be removed in Pillow 10\n(2023-07-01).\n\nAPI Additions\n=============\n\nImage.apply_transparency\n^^^^^^^^^^^^^^^^^^^^^^^^\n\nAdded :py:meth:`~PIL.Image.Image.apply_transparency`, a method to take a P mode image\nwith \"transparency\" in ``im.info``, and apply the transparency to the palette instead.\nThe image's palette mode will become \"RGBA\", and \"transparency\" will be removed from\n``im.info``.\n\nSecurity\n========\n\nAn additional decompression bomb check has been added for the GIF format.\n\nOther Changes\n=============\n\nUsing gnome-screenshot on Linux\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nIn :py:meth:`~PIL.ImageGrab.grab` on Linux, if ``xdisplay`` is ``None`` then\n``gnome-screenshot`` will be used to capture the display if it is installed. To capture\nthe default X11 display instead, pass ``xdisplay=\"\"``.\n"], "filenames": ["docs/releasenotes/9.2.0.rst"], "buggy_code_start_loc": [3], "buggy_code_end_loc": [75], "fixing_code_start_loc": [2], "fixing_code_end_loc": [58], "type": "NVD-CWE-Other", "message": "Pillow before 9.2.0 performs Improper Handling of Highly Compressed GIF Data (Data Amplification).", "other": {"cve": {"id": "CVE-2022-45198", "sourceIdentifier": "cve@mitre.org", "published": "2022-11-14T07:15:10.347", "lastModified": "2023-01-10T20:11:59.787", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "Pillow before 9.2.0 performs Improper Handling of Highly Compressed GIF Data (Data Amplification)."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "HIGH", "baseScore": 7.5, "baseSeverity": "HIGH"}, "exploitabilityScore": 3.9, "impactScore": 3.6}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "NVD-CWE-Other"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:python:pillow:*:*:*:*:*:*:*:*", "versionEndExcluding": "9.2.0", "matchCriteriaId": "119BDBC3-799F-4E0F-B242-C5E1FED7499D"}]}]}], "references": [{"url": "https://bugs.gentoo.org/855683", "source": "cve@mitre.org", "tags": ["Issue Tracking", "Patch", "Third Party Advisory"]}, {"url": "https://cwe.mitre.org/data/definitions/409.html", "source": "cve@mitre.org", "tags": ["Third Party Advisory"]}, {"url": "https://github.com/python-pillow/Pillow/commit/11918eac0628ec8ac0812670d9838361ead2d6a4", "source": "cve@mitre.org", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/python-pillow/Pillow/pull/6402", "source": "cve@mitre.org", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/python-pillow/Pillow/releases/tag/9.2.0", "source": "cve@mitre.org", "tags": ["Release Notes", "Third Party Advisory"]}, {"url": "https://security.gentoo.org/glsa/202211-10", "source": "cve@mitre.org", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/python-pillow/Pillow/commit/11918eac0628ec8ac0812670d9838361ead2d6a4"}}