{"buggy_code": ["Mon May 11 22:33:46 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ext/dl/lib/dl/func.rb (DL::Function#call): prevents\n\t  passing tainted arguments to a C function.\n\t  Patch by sheepman <sheepman AT sheepman.sakura.ne.jp>.\n\n\t* ext/dl/lib/dl/func.rb (DL::Function#check_safe_obj): \n\t  new method for checking #call's arguments.\n\nTue Mar 10 04:53:16 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (MINIRUBY): keep macro into Makefile.\n\n\t* configure.in (RUBY_CHECK_SIZEOF): fix for fallback.\n\nThu Feb 19 15:47:11 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* template/fake.rb.in: extracted from Makefile.in.\n\n\t* configure.in (fake.rb): prefixed with $(arch)-.\n\nSun Apr 26 20:21:39 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* .gitignore: added.\n\nFri May  1 13:18:01 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_intern.h (_longjmp): never return.  see [ruby-core:23241]\n\nSun Apr 26 20:33:12 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* tool/transcode-tb (ActionMap#generate_node):\n\t  Use ActionMap#gennode instead of generate_node\n\t  because of initialization.\n\nSun Apr 26 18:35:32 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (io_reopen): keeps pathv for prep_stdio.  [ruby-dev:38131]\n\nSun Apr 26 15:13:09 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#parse_in_order): do not make an\n\t  option from non-option argument.  [ruby-dev:38333]\n\nSat Apr 25 19:11:13 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_daemon): use daemon(3) only on *BSD.\n\n\t* process.c (proc_daemon): double fork to ensure not having ctty.\n\t  [ruby-core:23305]\n\nSun Apr 19 14:43:18 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): the order of local variables on stack is\n\t  undefined.  should use outermost VALUE for ruby_init_stack.\n\nMon Apr 13 11:35:55 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): optimize previous commit.\n\t  [ruby-list:45954]\n\nMon Apr 13 10:58:54 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): check encoding compatibility only on\n\t  real parts.\n\nSun Apr 19 13:17:25 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gem_prelude.rb (Gem::QuickLoader#push_gem_version_on_load_path):\n\t  check for requirement if the gem is installed.  a patch from\n\t  Kyosuke MOROHASHI at [ruby-dev:38020].\n\nWed Apr 15 20:24:49 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_flatten): flatten(0) works as Array#dup.\n\t  [ruby-core:23168]\n\n\t* test/ruby/test_array.rb: add a test for above.\n\nFri Apr 17 00:45:09 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* dir.c (bracket): fix escape handling for range character in bracket\n\t  of fnmatch pattern.  e.g., '[a\\-c]' should not match 'b'.\n\nWed Apr 15 11:53:35 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (fnmatch_helper): use rb_enc_precise_mbclen and\n\t  fail if bytes are invalid. [ruby-dev:38307]\n\nTue Apr 14 18:11:26 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (bracket): if same in bytes, path is matching.\n\t  [ruby-dev:38305]\n\nSun Apr 12 19:54:56 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (bracket, fnmatch_helper): compare bytewise first, to get\n\t  rid of invalid byte sequence.  [ruby-dev:38303]\n\nWed Apr  8 21:58:12 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (rb_str_dump): buffer length plus one byte for null\n\t  terminator.  [ruby-dev:38294]\n\n\t* test/ruby/test_m17n.rb (test_str_dump): add a test for above.\n\nWed Apr  8 20:08:16 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_rstrip_bang): should not sign-expand non-ascii.\n\t  [ruby-core:23158]\n\nWed Apr  8 17:29:29 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_chop_bang): reset coderange. [ruby-core:23155]\n\nTue Apr  7 13:14:32 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LIBRUBY_DLDFLAGS): compatibility version is\n\t  ruby_version.\n\nSat Apr  4 17:05:15 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (RB_NUM_COERCE_FUNCS_NEED_OPID): macro to\n\t  check compatibility.  [ruby-dev:38162]\n\nFri Apr  3 14:02:42 2009  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/irb/completion.rb (IRB::InputCompletor::Operators): Add\n\t  overloadable negative operators.\n\n\t* lib/irb/ruby-lex.rb (RubyLex#lex_init): Support overloadable\n\t  negative operators.\n\n\t* lib/irb/ruby-lex.rb (RubyLex#identify_identifier): Minus signs\n\t  need to be escaped in regexp character class.\n\n\t* misc/ruby-mode.el (ruby-font-lock-keywords, ruby-parse-partial):\n\t  Support overloadable negative operators.\n\nWed Apr  1 20:37:49 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (rb_cv_fork_with_pthread): fail if the child process\n\t  fail.\n\nMon Mar 30 19:04:25 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* .gdbinit (rp): show negative fixnum correctly.\n\nMon Mar 30 12:12:46 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_eval.c (eval_string_with_cref): replaces the message if\n\t  frozen.  [ruby-dev:38208]\n\nSun Mar 29 08:59:26 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pathname.rb (Pathname#relative_path_from): compares path\n\t  components according to system default case-sensitiveness.\n\t  [ruby-core:22829]\n\nSat Mar 28 11:10:32 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (ruby.imp): all symbols in static library need to be\n\t  exported, so that encoding-extensions can be loaded.  based on a\n\t  patch from Yutaka Kanemoto <kinpoco AT gmail.com> a\n\t  [ruby-talk:332282].\n\nFri Mar 27 01:33:37 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_cmp): negate the result of reverse comparison.\n\nFri Mar 27 01:19:50 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c (rb_cmpint): FIX2INT may fail on LP64 platforms.\n\nFri Mar 13 21:11:51 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/sdbm/_sdbm.c: should include \"ruby/defines.h\" as well for\n\t  prototypes of compatibility functions on Win32 platform.\n\t  [ruby-core:22870]\n\nThu Mar 26 11:33:13 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/ri/paths.rb (RDoc::RI::Paths): considers\n\t  --program-prefix and --program-suffix.  reapplied r19923.\n\nMon Mar 23 21:41:14 2009  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/dbm/dbm.c (fdbm_initialize): Make the file variable\n\t  volatile, because FilePathValue() currently does not protect the\n\t  given variable from GC. (Probably it should)\n\n\t* ext/sdbm/init.c (fsdbm_initialize): Ditto.\n\nMon Mar 23 06:51:16 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend (link_so): replaces $(TARGET) with basename of the\n\t  target.  [ruby-talk:330286]\n\nWed Mar 18 02:41:33 2009  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (open_server_inaddr_any): fixed multiple network\n\t  families problem. a patch from Charl Matthee at [ruby-core:21033].\n\nTue Mar 17 21:42:54 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot (package): creates .revision.time and passes\n\t  CHDIR to create prerequisite files.\n\nTue Mar 17 18:00:55 2009  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (Enumerator#{each_,}{with_index,with_object}): Fix\n\t  a bug where any parameter but the first one is dropped even if\n\t  multiple values are yielded with. [Bug #1198]\n\nTue Mar 17 14:25:16 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pathname.rb (Pathname#sub): set $~ in block.binding.\n\t  [ruby-dev:38173]\n\nSun Mar 15 02:09:31 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (bmcall): should not uninitialized variable.  a patch from\n\t  pegacorn at [ruby-dev:38169].\n\nSat Mar 14 18:18:08 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (rb_proc_call, rb_node_arity, bmcall, curry): checks\n\t  overflow.\n\n\t* proc.c (rb_proc_parameters): unnamed_parameters() expects in\n\t  not VALUE.\n\nFri Mar 13 09:17:12 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/fileutils.rb (FileUtils#fu_get_gid): stringify group\n\t  argument before making regexp match.  [ruby-dev:38155]\n\nFri Mar 13 15:10:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_set_value): should use\n\t  OPENSSL_free instead of free.  a patch from Charlie Savage a\n\t  [ruby-core:22858].\n\nFri Mar 13 08:06:48 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (rv_strdup): macro to duplicate nul-terminated string.\n\t  [ruby-core:22852]\n\nThu Mar 12 22:14:01 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_def_const): use INT2NUM because\n\t  OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG doesn't fit into Fixnum.\n\nThu Mar 12 05:22:50 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (copy_stream_fallback_body): off_t may be larger than long.\n\n\t* iseq.c (rb_iseq_disasm): RSTRING_LEN() returns long.\n\n\t* process.c (rb_f_sleep): time() needs time_t.\n\nThu Mar 12 05:12:53 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread_pthread.c (ruby_init_stack): range of rlim_cur may be\n\t  larger than int.\n\n\t* missing/vsnprintf.c (BSD_vfprintf): commented out code which has\n\t  no effect at all.\n\nWed Mar 11 20:13:38 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/handle.c (rb_dlhandle_sym): RTLD_NEXT is not for symbol\n\t  name.   [ruby-dev:38150]\n\nWed Mar 11 13:03:12 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/handle.c (rb_dlhandle_sym): fixed heap corruption.\n\t  [ruby-core:22822]\n\nTue Mar 10 13:45:54 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (LDFLAGS): moved -link to TRY_LINK, LINK_SO\n\t  and so on.  based on a patch by Charlie Savage at\n\t  [ruby-core:22794]\n\n\t* win32/Makefile.sub (config.h): passes LDFLAGS to rbconfig.rb so\n\t  that extconf.rb could refer it.  [ruby-core:22725]\n\nWed Mar  4 05:19:27 2009  James Edward Gray II  <jeg2@ruby-lang.org>\n\n  * lib/csv.rb: Some minor documentation fixes from Gregory Brown.\n\nWed Mar  4 00:54:43 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/prime.rb (Prime::prime?): used to return a wrong answer.\n\t  [ruby-core:22646].\n\n\t* test/test_prime.rb (test_prime?): test case for [ruby-core:22646].\n\nThu Mar  5 11:27:16 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (miniruby.exe): workaround for a failure of\n\t  mt.exe on Windows 7 beta.  [ruby-talk:330284]\n\nWed Mar  4 21:21:51 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/thread.rb (SizedQueue#push): fix limit condition.\n\t  [ruby-dev:38135]\n\nWed Mar  4 03:42:56 2009  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb: A patch from Madoka Yakamamoto to prevent an infinite\n\t  loop while reading some encodings.\n\nMon Mar  2 21:01:36 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* file.c: include fcntl.h for O_RDONLY on Solaris.\n\nMon Mar  2 19:43:02 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/uri/common.rb (URI::Parser#escape): escaped string is ascii\n\t  only.\n\n\t* lib/uri/common.rb (URI::Parser#unescape): converts bytewise.\n\t  [ruby-dev:38005], [ruby-dev:38110]\n\nMon Mar  2 10:50:53 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/handle.c (rb_dlhandle_sym): get rid of buffer overrun,\n\t  and try ASCII WINAPI versions too.\n\nMon Mar  2 00:56:45 2009  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/observer.rb: The module oberservable uses now a hash to\n\t  store listeners. merged a patch from Alessandro Di Maria in\n\t  [ruby-core:22560].\n\nSun Mar  1 19:52:46 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/win32/lib/Win32API.rb (initialize): passes res\n\t  arguments to DL.\n\nSun Mar  1 19:36:18 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (ruby_dtoa): allocates one more byte to get rid of buffer\n\t  overrun.  a patch from Charlie Savage at [ruby-core:22604].\n\nSun Mar  1 19:10:59 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (.y.c): removed extra backslash.  [ruby-core:22602]\n\nSun Mar  1 19:02:03 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/cfunc.c (rb_dlcfunc_call): fix for stdcall and missing\n\t  argument numbers.  [ruby-core:22601]\n\n\t* ext/dl/dl.h (DLSTACK_PROTO0_): added.\n\n\t* ext/dl/mkcallback.rb (gencallback, gen_callback_file),\n\t  (rb_dl_init_callbacks): omit stdcall functions unless supported.\n\n\t* lib/rubygems/config_file.rb (SHGetFolderPath): stdcall.\n\nSun Mar  1 17:27:14 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (gfDebug): uncommented out.\n\t  [ruby-core:22600]\n\nSun Mar  1 16:15:31 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_waitpid): use wait_each() on no waitpid platforms.\n\t  [ruby-dev:38054]\n\nSun Mar  1 16:01:01 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (proc_daemon): stops and restarts timer thread because\n\t  daemon(3) implies fork(2).  [ruby-dev:38055]\n\nFri Feb 27 22:02:34 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* util.c: fix SEGV by test_time.rb with\n\t  gcc version 4.4.0 20090219 (Red Hat 4.4.0-0.21) on Fedora 11 Alpha.\n\nFri Feb 27 18:30:51 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (cdhash_type, iseq_set_sequence): should not call\n\t  methods of the argument of case, to keep the semantics of\n\t  case/when.  [ruby-dev:38079]\n\nFri Feb 27 18:01:20 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (ruby_get_stack_grow_direction): no needs to use thread\n\t  here, and not initialized yet.  [ruby-core:22439]\n\nFri Feb 27 17:45:25 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_load_ok): checks if regular file, except for the\n\t  platform disallows to open directories, e.g. dosish.\n\t  [ruby-dev:38097], [Bug #1221]\n\nWed Feb 25 12:27:59 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_force_encoding): should clear coderange at changing\n\t  encoding.  [ruby-core:22437]\n\nWed Feb 25 12:06:09 2009    <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline_1): enables limit even if rs is given.\n\t  [ruby-core:22434]\n\nWed Feb 25 02:28:51 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_chomp_bang): coderange may change.\n\t  [ruby-core:22414]\n\nWed Feb 25 02:17:30 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_delete_bang): should recalculate coderange.\n\t  [ruby-talk:329267]\n\nTue Feb 24 19:01:05 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (main): split from exts and makes main program after\n\t  building exts with miniruby, to get rid of overwriting running\n\t  program.  [ruby-core:22339]\n\n\t* Makefile.in, win32/Makefile.sub (RUNCMD, MKMAIN_CMD): macros to\n\t  run script file.\n\n\t* ext/extmk.rb (parse_args): added --command-output option which\n\t  creates script file to make main program.\n\nTue Feb 24 17:58:07 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (ripper.c): exec can't work on Windows.\n\n\t* ext/ripper/depend (.SUFFIXES): nmake doesn't have .y by default.\n\n\t* Makefile.in (id.h): overwrites unconditinally.\n\nTue Feb 24 13:13:49 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/vsnprintf.c (BSD_vfprintf): ptrdiff_t may be larger than\n\t  long.\n\nTue Feb 24 10:49:37 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_waitpid): last argument was missing.\n\n\t* process.c (waitall_each): fixed typo.  a patch from shinichiro.h\n\t  <shinichiro.hamaji AT gmail.com> at [ruby-dev:38054].\n\nTue Feb 24 01:22:19 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bootstraptest/test_thread.rb: fix for environment where fork is not\n\t  available.\n\nTue Feb 24 01:19:38 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (thread_cleanup_func): unlock all locked mutexes even when\n\t  forking.  [ruby-core:22269]\n\nMon Feb 23 14:47:04 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/fileutils.rb (mv): added description for the case of\n\t  different partitions.  [ruby-talk:329072]\n\nSun Feb 22 22:42:20 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (tr_trans): should recalculate coderange.\n\t  [ruby-core:22326] (reopened at [ruby-core:22328])\n\nSun Feb 22 14:33:06 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (tr_trans): should not be affected by the encoding of\n\t  replacement unless actually modified.  [ruby-talk:328967]\n\nFri Feb  6 12:11:24 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (process_options): set initial default_external before -r.\n\nSun Feb 22 10:43:57 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_eval.c (method_missing): should not pop cfp if missing method\n\t  is method_missing.  [ruby-core:22298]\n\n\t* vm_eval.c (rb_raise_method_missing): new function to directly\n\t  raise NoMethodError.\n\n\t* vm_insnhelper.c (vm_call_method): fixed the case method_missing\n\t  is missing.\n\nFri Feb 20 23:28:11 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* util.c (rv_alloc, freedtoa): use our normal xmalloc()/xfree() because\n\t  couldn't free the returned pointer from ruby_dtoa().\n\n\t* missing/vsnprintf.c (cvt): receive buffer and use/return it instead\n\t  of returning the pointer returned from BSD__dtoa().\n\n\t* missing/vsnprintf.c (BSD_vfprintf): pass buf to cvt() as the buffer.\n\t  [ruby-core:22184]\n\nThu Feb 19 15:39:50 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspbres_verify): OCSP_basic_verify\n\t  returns positive value on success, not non-zero.  [ruby-core:21762]\n\nWed Feb 18 12:35:31 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_extname): fix for spaces before extention.\n\t  [ruby-dev:38044]\n\nWed Feb 18 10:29:12 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): do not delete main thread from\n\t  living_threads.  [ruby-core:19385], [ruby-core:22158]\n\nTue Feb 17 05:41:08 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: fix to add \"ensure\" codes across \"while\" clause\n\t  before \"return\" expression.  [ruby-dev:37967]\n\n\t* bootstraptest/test_flow.rb: add a test.\n\nSun Feb 15 11:45:29 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (rb_define_hooked_variable): suppress false assertion\n\t  with VC9.  [ruby-core:22115]\n\nFri Feb 13 15:11:11 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_eval.c (eval_string_with_cref): use rb_vm_get_ruby_level_next_cfp() \n\t  instead of vm_get_ruby_level_caller_cfp().  checking a upper frame\n\t  is not enough.  [ruby-dev:37984]\n\n\t* proc.c, vm_core.h: declare rb_vm_get_ruby_level_next_cfp()\n\t  on vm_core.h.\n\nThu Feb 12 22:51:18 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (hide_obj): OBJ_FREEZE() is not an expression.  a patch\n\t  from nagachika <nagachika00 AT gmail.com> at [ruby-dev:37977].\n\n\t* compile.c (insn_set_sc_state): fixed typoe.\n\nThu Feb 12 19:42:33 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (compile_array_, defined_expr, iseq_compile_each): hide\n\t  and freeze internal literal objects, to prevent from modifying.\n\t  [ruby-dev:37959]\n\n\t* iseq.c (insn_operand_intern): copy internal literal objects.\n\n\t* insns.def (putstring, duparray): ditto.\n\n\t* string.c (rb_str_replace): exported.\n\nThu Feb 12 17:17:51 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_ungetc): calculates new position\n\t  before reallocation.  [Bug#1099]\n\nMon Feb  9 20:11:55 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c (load_conv_function51932): fixed for the\n\t  case IMultiLanguage is not available.  [ruby-dev:37950]\n\nMon Feb  9 11:31:09 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (io_encoding_set): ignore second argument when external and\n\t  internal are same. [ruby-dev:37939]\n\nSun Feb  8 23:28:05 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* include/ruby/st.h, st.c: order entries by a linked list instead of\n\t  a loop to fix iteration miss when hash is modified during iteration.\n\t  [ruby-dev:37910]\n\nSun Feb  8 22:44:20 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/backward/rubysig.h (rb_thread_blocking_region_begin),\n\t  (rb_thread_blocking_region_end): marked as deprecated.\n\n\t* include/ruby/backward/rubysig.h (TRAP_BEG): fix for C++.  a\n\t  patch from Aman Gupta at [ruby-core:21934]\n\nSun Feb  8 19:05:24 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/backward/rubysig.h: extern \"C\" was missing.\n\t  [ruby-core:21929]\n\nSun Feb  8 18:34:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_s_binread): ensures file path.  [ruby-dev:37940]\n\nFri Feb  6 23:28:33 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fread): use rb_io_wait_readable for retry\n\t  avoid Errno::EINTR on ruby -e 'trap(:CHLD) {}; spawn(\"sleep 1\"); STDIN.read'\n\nFri Feb  6 20:37:42 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* signal.c (register_sigaltstack): ignore sigaltstack error.\n\t  It fails on OpenBSD 4.4 when pthread library is linked.\n\nFri Feb  6 12:03:47 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (process_options): -K and -E in shebang should be reflect to\n\t  default_external. [ruby-dev:37920]\n\nFri Feb  6 02:51:59 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_each_codepoint): update RDoc for\n\t  String#codepoints.  a patch from Radoslaw Bulat in\n\t  [ruby-core:21835]\n\nFri Feb  6 01:09:13 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* cont.c (cont_mark, cont_capture, cont_restore_1): use #else instead\n\t  of #elif.  a patch from NISHIMATSU Takeshi <t_nissie at yahoo.co.jp>\n\t  in [ruby-list:45856].\n\nThu Feb  5 07:39:33 2009  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* ext/readline/readline.c (Init_readline): remove_history(0) may be\n\t  NULL.  [ruby-dev:37891]\n\nThu Feb  5 03:55:22 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (LOCALTIME): should call tzset() before localtime_r().\n\t  [ruby-dev:37896]\n\nWed Feb  4 11:45:06 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/mkexports.rb: shouldn't export DllMain.\n\t  reported at http://pc11.2ch.net/test/read.cgi/tech/1233686068/21\n\nWed Feb  4 10:12:05 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/vsnprintf.c (BSD_vfprintf): should support 't' format\n\t  modifier to handle PRIdPTRDIFF.  thanks for the info from\n\t  Kazuhiro NISHIYAMA.  [ruby-core:21807]\n\nTue Feb  3 23:37:08 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file_internal): resets EOF flag after parse.\n\nTue Feb  3 14:12:10 2009  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: validate data before sending to a server.\n\t  [ruby-core:20320]\n\nTue Feb  3 12:09:08 2009  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (hmac_md5): should use String#ord to get ascii\n\t  code from the one-character string.\n\nMon Feb  2 17:05:55 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_find_file_ext): should not be infected from other\n\t  load paths.\n\nSat Jan 31 19:09:30 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_require_safe): raises when the path to be loaded is\n\t  tainted.  [ruby-dev:37843]\n\nMon Feb  2 08:12:50 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/xmlrpc/server.rb (Server#serve): gets rid of hardcoded\n\t  platform names. (win64 support)\n\n\t* lib/resolv.rb (Resolv::Hosts::DefaultFileName),\n\t  (Resolv::DNS::Config.default_config_hash): tries win32/resolv on\n\t  mswin64 too. (win64 support)\n\n\t* lib/rubygems/specification.rb (Gem::Specification#ruby_code):\n\t  aded mswin64. (win64 support)\n\n\t* lib/drb/extservm.rb (DRb::ExtServManager#invoke_service_command):\n\t  spawn is better to start a process in background.\n\n\t* ext/extmk.rb: uses FNM_SYSCASE. (win64 support)\n\n\t* instruby.rb: installs win32.h on mswin64 platform. (win64 support)\n\t  [ruby-core:21722]\n\nMon Feb  2 12:41:52 2009  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* complex.c (f_signbit): regard NaN as a positive value.\n\t  [ruby-dev:37861].\n\nMon Feb  2 06:51:36 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* encoding.c (rb_filesystem_encoding): Windows' filesystem encoding is\n\t  sometimes ANSI code page and sometimes OEM code page. we should check\n\t  whether code page is used.\n\nSun Feb  1 05:19:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (rb_const_get_0), vm_insnhelper.c (vm_get_ev_const):\n\t  avoids infinite self recursion autoload.  [ruby-core:21696]\n\nFri Jan 30 14:31:14 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* tool/make-snapshot (prereq): remove enc.mk from tarball because\n\t  BSD make checks $(srcdir)/enc.mk and try to run $(builddir)/enc.mk.\n\nFri Jan 30 14:11:48 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/depend: extract comile rules to each target for VC++.\n\nFri Jan 30 12:59:49 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (RUBYDEF): depends on makefiles.\n\n\t* cygwin/GNUmakefile.in (RUBYDEF): adds DATA to non-function symbols\n\t  which is not marked as T.\n\nTue Jan 20 16:17:12 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cont.c (ruby_Init_{Continuation_body,Fiber_as_Coroutine}): prefixed\n\t  with ruby_ to export.\n\n\t* ext/continuation/continuation.c, ext/fiber/fiber.c: ditto.\n\nThu Jan 29 16:22:41 2009  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* load.c (rb_feature_provided): should not calculate len by pointer\n\t  subtraction because feature may be a expanded path.\n\t  [ruby-core:21267]\n\nThu Jan 29 14:12:15 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (BASERUBY): erases RUBYOPT at the test.\n\n\t* configure.in (OBJCOPY): not used on Windows.\n\nThu Jan 29 12:29:51 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (FileUtils#rake_system): no longer needs workaround\n\t  on Windows.  [ruby-core:21339]\n\n\t* lib/rake/win32.rb (Rake::Win32#rake_system): ditto.\n\n\t* lib/rake/win32.rb (Rake::Win32#win32_system_dir): no longer\n\t  needs environment variables other than APPDATA now.\n\n\t* lib/rake.rb (Rake::Application#standard_system_dir): uses\n\t  platfrom specific definition on Windows system.\n\nThu Jan 29 00:24:48 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (zstream_run): previous change didn't resolve the\n\t  problem.\n\nFri Jan 30 01:39:27 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* parse.y (top_compstmt, top_stmts, top_stmt): prohibit BEGIN {} in\n\t  non-toplevel scope.  [ruby-core:21657]\n\n\t* test/ruby/test_beginendblock.rb (test_begininclass): add a test for\n\t  above.\n\nWed Jan 28 22:51:12 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (zstream_run): desperately guard the variable.\n\t  [ruby-core:20576]\n\nMon Jan 19 11:46:39 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_eval.c, eval.c (rb_f_block_given_p): move definition of\n\t  \"iterator?\" and \"block_given?\" to make static.\n\n\t* vm.c (vm_get_ruby_level_caller_cfp): make it static.\n\n\t* eval_intern.h, vm_insnhelper.c: move decl. of\n\t  vm_get_ruby_level_caller_cfp()\n\t  from eval_intern.h to vm_insnhelper.c.\n\nMon Jan 19 11:27:39 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: add a prefix \"rb_\" to exposed functions\n\t  vm_get_ruby_level_next_cfp(), rb_vm_make_env_object(),\n\t  vm_stack_to_heap(), vm_make_proc(), vm_invoke_proc(),\n\t  vm_get_sourceline(), vm_cref(), vm_localjump_error(),\n\t  vm_make_jump_tag_but_local_jump(), vm_jump_tag_but_local_jump().\n  \t  This changes may affect only core because most of renamed functions\n\t  require a pointer of not-exposed struct such as rb_thread_t or NODE.\n\t  In short, they are core functions.\n\n\t* cont.c, eval.c, eval_intern.h, load.c, proc.c, thread.c,\n\t  vm_core.h, vm_dump.c, vm_eval.c, vm_exec.c, vm_insnhelper.c:\n\t  ditto.\n\nMon Jan 19 11:02:30 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_dump.c: add a prefix \"rb_vmdebug_\" to\n\t  vm_stack_dump_raw(), vm_stack_dump_raw_current(),\n\t  vm_env_dump_raw(), vm_proc_dump_raw(), vm_stack_dump_th(),\n\t  vm_debug_print_register(), vm_thread_dump_regs(),\n\t  vm_debug_print_pre(), vm_debug_print_post(),\n\t  vm_thread_dump_state().\n\t  This change also may affect core (in fact, user of\n\t  above functions may be only ko1).\n\n\t* vm_core.h: ditto.\n\n\t* vm_exec.h (SDR2): remove duplicate definition.\n\nMon Jan 19 09:53:43 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c:\n\t  rename ruby_iseq_disasm_insn() -> rb_iseq_disasm_insn().\n\t  rename ruby_iseq_disasm() -> rb_iseq_disasm().\n\n\t* compile.c:\n\t  rename ruby_iseq_compile() -> rb_iseq_compile_node().\n\t  rename ruby_iseq_translate_threaded_code() ->\n\t         rb_iseq_translate_threaded_code().\n\t  rename ruby_insns_name_array() -> rb_insns_name_array().\n\t  rename ruby_iseq_build_from_ary() -> rb_iseq_build_from_ary().\n\n\t* iseq.c, compile.c: remove ruby_insn_make_insn_table() and make\n\t  static function insn_make_insn_table().\n\n\t* iseq.h, ruby.c, vm.c, vm_core.h, vm_eval.c, vm_dump.c, \n\t  blockinlining.c: ditto.\n\t  Rename strange \"ruby_\" prefix to \"rb_\" prefix.\n\t  This changes may affect only core because renamed functions\n\t  require a pointer of rb_iseq_t which is not exposed.\n\nMon Jan 19 08:56:53 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, vm_eval.c (rb_f_local_variables): move definition from eval.c\n\t  to vm_eval.c because vm_collect_local_variables_in_heap() should\n\t  be static function.\n\n\t* vm.c (vm_collect_local_variables_in_heap): make it static.\n\nTue Jan 27 14:41:33 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (RUBYDEF): needs DATA marks to export\n\t  non-function symbols.  [ruby-core:21582]\n\n\t* win32/mkexports.rb (Exports::Mingw#each_export): ditto.\n\nSun Jan 25 12:17:21 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (RUBYDEF): needs read-only section too.\n\nTue Jan 20 15:32:29 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (miniruby): renames and then removes, to get rid of\n\t  EPERM on cygwin and mingw.\n\n\t* Makefile.in ($(LIBRUBY_SO)): use wildcard option of objcopy.\n\n\t* configure.in (DLDFLAGS): do not export all symbols.\n\n\t* cygwin/GNUmakefile.in (RUBYDEF): rejects symbols prefixex with\n\t  Init_.\n\n\t* win32/mkexports.rb (Exports::Mingw): includes all symbols except for\n\t  prefixed with Init_ as well as mswin32.\n\nWed Jan 28 15:24:11 2009  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* math.c: SEGV is caused by implicit rb_to_float declaration\n\t  test_complexrational.rb: [BUG] in IA-64 architecture\n\nTue Jan 27 03:23:43 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): should point correct path to\n\t  ruby.h and defines.h.   [ruby-core:21570]\n\nMon Jan 26 16:00:40 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_aset): fixed arguments evaluation order.\n\nSun Jan 25 12:02:56 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (clean-ext): condition of EXTS was inverted.\n\nSun Jan 25 11:50:20 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile):fixed the variables order because\n\t  converter proc refers the separator.\n\nSun Jan 25 11:25:10 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, win32/Makefile.sub (RMDIRS): remove directory and\n\t  parents.\n\n\t* Makefile.in, win32/Makefile.sub (distclean-rdoc): added to remove\n\t  temprary rdoc.\n\n\t* Makefile.in, win32/Makefile.sub (clean-ext): skips non-existent\n\t  directories.\n\n\t* common.mk (clean, distclean): cleans rdoc.\n\n\t* common.mk (clean-extout): removes extout directory.\n\n\t* configure.in (RMDIRS, RMALL): added to clean extout.\n\n\t* lib/fileutils.rb (FileUtils#rmdir): added :parents option.\n\n\t* lib/mkmf.rb (create_makefile): cleans installed files at clean\n\t  instead of distclean.\n\n\t* lib/mkmf.rb (create_makefile): added clean-so and clean-rb.\n\n\t* lib/mkmf.rb (def init_mkmf): added DISTCLEANDIRS.\n\n\t* lib/un.rb (rmdir): added -p option.\n\n\t* tool/rmdirs, win32/rmdirs.bat: removes directory and the parents.\n\n\t* win32/rm.bat: added -r option.\n\nSun Jan 25 09:09:29 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (join_path): use strlcat() to force link.\n\n\t* dir.c (glob_helper): no strcpy() is needed since len is known.\n\nSat Jan 24 08:22:35 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): tools under the top source\n\t  directory are not installed, so unusable outside extmk.rb.\n\nFri Jan 23 17:24:31 2009  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* golf_prelude.rb (Enumerator#inspect): avoid warning.\n\nFri Jan 23 15:12:52 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (mkintpath): new function which converts native path\n\t  to format acceptable in Makefile.\n\n\t* lib/mkmf.rb (configuration): leaves PATH_SEPARATOR unchanged.\n\n\t* lib/mkmf.rb (configuration): convers srcdir, topdir and hdrdir.\n\t  a patch by Alexey Borzenkov <snaury AT gmail.com> at\n\t  [ruby-core:21448].\n\n\t* lib/mkmf.rb (try_func): got rid of c-mode confusion.\n\nFri Jan 23 13:26:45 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (trap_handler): also accepts symbols.  [ruby-dev:37823]\n\nThu Jan 22 18:14:04 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): removes installed files under\n\t  extout at distclean.\n\nThu Jan 22 17:12:37 2009  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI.parse): generate only key on params hash\n\t  if request have only key uri parameters.\n\t\t(ex. index.cgi?aaa&bbb=1 # params=>{:aaa=>[],:bbb=>[\"1\"]})\n\n\t* test/cgi/test_cgi_core.rb: fix test for key only params.\n\nThu Jan 22 16:29:50 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rubygems/installer.rb (Gem::Installer#initialize): fixed\n\t  typos.\n\nThu Jan 22 14:53:29 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_process.rb (MANDATORY_ENVS): needs RUBYLIB to run\n\t  tests without install.\n\nThu Jan 22 12:19:29 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (define_final): cannot define finalizer for immediate\n\t  values.  [ruby-core:21500]\n\n\t* gc.c (define_final): freezes or hides internal values.\n\nThu Jan 22 11:33:08 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_time_timeval): made a real prototype.  a patch from\n\t  Marcus Rueckert <darix AT opensu.se> at [ruby-core:21492].\n\nWed Jan 21 21:43:50 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_ungetbyte, rb_io_ungetc): allows nil to reset EOF\n\t  flag with ungetting nothing.\n\n\t* ruby.c (load_file_internal): rests EOF flag to make possible to\n\t  load from stdin after reading data.\n\nWed Jan 21 15:32:15 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_ungetbyte, rb_io_ungetc): clears EOF flag.\n\nWed Jan 21 13:58:17 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/io.h (FMODE_EOF): EOF flag on TTY.\n\n\t* io.c (io_set_eof): sets EOF flag for TTY.\n\n\t* io.c (io_seek): clears EOF flag.\n\n\t* io.c (io_fillbuf): returns EOF if already met EOF.  [ruby-dev:37798]\n\n\t* io.c (io_fillbuf, io_fread, io_getpartial): sets EOF.\n\nWed Jan 21 14:41:48 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* array.c (take_items): to_ary() raises ArgumentError if cannot to\n\t  convert to Array. [ruby-dev:37797]\n\nWed Jan 21 21:12:47 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* introduces r21693 again for merging r21713.\n\nTue Jan 20 19:12:18 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* reverts r21693.\n\nTue Jan 20 18:49:59 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/rdoc/ri/path.rb: Gem::Enable was removed.\n\t  Use just defined?(Gem).\n\t  And this prevents unexpected directory creation at\n\t  installation. [ruby-core:20990]\n\nTue Jan 20 17:59:52 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* Reverts r21598 and r21599 because the original behavior is\n\t  intentional.\n\nTue Jan 20 09:26:05 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_buf_push): maybe a bug.\n\n\t* ext/nkf/nkf-utf8/nkf.c (options): no need to support help option.\n\nTue Jan 20 06:48:56 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (take_items), enum.c (enum_zip): tries to convert to\n\t  array first.  [ruby-core:21442]\n\nTue Jan 20 03:50:37 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: Update nkf to 2.0.9.\n\t  revert -s meaning as Shift_JIS, etc.\n\nMon Jan 19 14:31:59 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_execute_interrupts): needs\n\t  rb_signal_buff_size to be declared.\n\nMon Jan 19 13:34:25 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.c (require_libraries): reset th->parse_in_eval while\n\t  loading libraries.  fixes [ruby-dev:37780]\n\nSat Jan 17 21:04:27 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/erb.rb: changes style of the rdoc for suppressing\n\t  warning. [ruby-core:21117] \n\nSat Jan 17 17:58:22 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/irb/xmp.rb: multilingualizes XMP::StringInputMethod.\n\t  [ruby-core:21383].\n\nSat Jan 17 11:12:21 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_dump.c (vm_stack_dump_each): initialized at declarations.\n\n\t* vm_dump.c (rb_vm_bugreport): constified to suppress a warning.\n\nSat Jan 17 19:33:48 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* configure.in (VCSUP): fixed the cases for git-svn or git.\n\n\t* win32/Makefile.sub (VCSUP): ditto.\n\n\t* Makefile.in (up): `cd' is necessary for git and git-svn.\n\nFri Jan 16 18:51:11 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (up): tell nmake that need to run command via\n\t  shell.\n\nFri Jan 16 17:33:59 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (Makefile): set VCS and VCSUP to support `git svn'\n\t  and git.\n\n\t* Makefile.in, win32/Makefile.sub (up): split from common.mk.\n\nMon Dec 29 22:37:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): template f should not accept non float\n\t  values.  [ruby-dev:37656]\n\nFri Jan 16 18:43:30 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot (package): includes all rules and expand\n\t  configured values from the environment to create *.inc, sets RM\n\t  for ripper.c, and needs chdir if absolute path is given with\n\t  -exported option.\n\nThu Jan 15 14:27:27 2009  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* LEGAL: Added information for missing/langinfo.c\n\nFri Jan 16 13:39:24 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/minitest/unit.rb: temporarily merges Kouji's patch without\n\t  maintainer's permission in order to release 1.9.1 RC2. \n\t  [ruby-core:21364] .\n\t  Patch by Takao Kouji <kouji AT takao7.net>.\n\nFri Jan 16 13:28:09 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/minitest/test_mini_test.rb: the number of assertions must be\n\t  exactly equal to the number of assertion method calls that the end-user\n\t  would write. [ruby-dev:37703]\n\n\t* test/minitest/test_mini_spec.rb: ditto.\n\n\t* lib/minitest/unit.rb: ditto. \n\t  Patch by David Flanagan <david AT davidflanagan.com>. [ruby-core:21350]\n\nFri Jan 16 12:24:39 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (thread_start_func_2): call ruby_cleanup() if thread is\n\t  main thread.  [ruby-dev:37624]\n\nFri Jan 16 12:27:50 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub ($(INSNS), node_name.inc, known_errors.inc,\n\t  miniprelude.c, newline.c): if dependencies is newer than targets or\n\t  targets don't exist, try to create targets with BASERUBY. no need to\n\t  detect errors there because the absence of BASERUBY is not abnormal.\n\t  after the try, if the targets still don't exist, copy them from\n\t  $(srcdir).\n\nFri Jan 16 11:47:56 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_parse_in_main): fixed typo.\n\nFri Jan 16 02:25:46 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (rb_thread_execute_interrupts): if signal is already\n\t  buffered, main thread should wait until timer thread delivers it.\n\n\t* thread.c (timer_thread_function): should defer delivery of a signal\n\t  if main thread does not yet trap a previous one.  [ruby-dev:37676]\n\nFri Jan 16 01:42:50 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (call_trace_proc): as Matz said ([ruby-core:21183]),\n\t  should skip rb_str_new2() if rb_sourcefile() returns NULL.\n\t  rb_sourcefile() returns NULL if frame is toplevel of Fiber.\n\t  [ruby-core:21161] [Bug #985]\n\nFri Jan  9 12:29:46 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (test-sample), rubytest.rb: use runruby.rb\n\nFri Jan 16 01:09:37 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.c (process_options): decrement parse_in_eval to recognize\n\t  parsing main or normal eval script.\n\n\t* compile.c (rb_parse_in_main): return 1 if parsing main script.\n\t (if parse_in_eval is negative value, it means main script)\n\n\t* parse.y (yycompile0): check rb_parse_in_main() to accumulate\n\t  script text.  Bug #848 [ruby-core:20450]\n\nFri Jan 16 00:57:34 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/debug.rb: as wanabe-san pointed out,\n\t  set_trace_func should be completely final task in debug.rb.\n\t  Bug #847 [ruby-core:20449]\n\nFri Jan 16 00:27:03 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (rb_vm_inc_const_missing_count, ruby_vm_const_missing_count): \n\t  added.\n\n\t* vm_insnhelper.h: ditto.\n\n\t* variable.c (rb_const_get_0), insns.def: Constants should not be\n\t  cached if const_missing is called.  [ruby-core:21059] [Bug #967]\n\n\t* bootstraptest/test_class.rb: add a test.\n\nFri Jan 16 00:25:09 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: btest-ruby should receive option with OPTS.\n\nFri Jan 16 00:21:10 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub ($(INSNS), node_name.inc, known_errors.inc,\n\t  miniprelude.c, newline.c): shoudn't copy when $(srcdir) != \".\", too.\n\t  (this is a workaround.  we need more strict check.)\n\n\t* win32/Makefile.sub ($(INSNS)): shound't remove BASERUBY.\n\nFri Jan 16 00:19:55 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c (gc_with_gvl): suppress warnings.\n\nThu Jan 15 20:44:30 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/file2lastrev.rb: RUBY_REVISION must be an integer.\n\nThu Jan 15 15:55:31 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (enc_set_default_encoding): should not treat US-ASCII\n\t  special here.  a patch from Yui NARUSE in [ruby-dev:37769].\n\t  [ruby-dev:37699]\n\nThu Jan 15 13:10:09 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, win32/Makefile.sub (MISSING): added langinfo on mingw\n\t  and mswin.\n\n\t* encoding.c (rb_locale_charmap): use environments on mingw and mswin.\n\n\t* missing/langinfo.c (nl_langinfo_codeset): MS-Windows Japanese\n\t  environment uses Windows-31J derived from Shift_JIS, not EUC-JP.\n\nThu Jan 15 12:10:39 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub ($(INSNS), node_name.inc, known_errors.inc,\n\t  miniprelude.c, newline.c): copy only when $(srcdir) != pwd.\n\nWed Jan 14 23:57:28 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_locale_charmap): fallback to codepage if no\n\t  locale is found.  [ruby-core:21110]\n\n\t* missing/langinfo.c (nl_langinfo_codeset): returns NULL if no\n\t  locale is found.\n\nWed Jan 14 22:38:30 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (negative_size_allocation_error_with_gvl): abolish a warning.\n\t  (negative_size_allocation_error): ditto.\n\n\t* ext/openssl/ossl.c (ossl_raise): ditto.\n\nThu Jan 15 13:10:58 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (COMPILERFLAG): for enc/trans/gb18030.c.\n\nThu Jan 15 00:06:12 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/trans/gb18030.trans: get rid of a 1.9 feature for cross\n\t  compile.  [ruby-core:21345]\n\nWed Jan 14 20:05:05 2009  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/gb18030.trans, gb18030-tbl.rb:\n\t  new Chinese GB18030 transcoding (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi)\n\n\t* transcode_data.h, transcode.c, tool/transcode_tblgen.rb:\n\t  added support for GB18030-specific 4-byte sequences\n\t  (with Yoshihiro Kambayashi)\n\nWed Jan 14 16:16:19 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/curses/extconf.rb: check ncursesw earlier than ncurses to\n\t  support UTF-8 strings.   non UTF-8 strings should be converted\n\t  explicitly.   [ruby-core:21094]\n\nWed Jan 14 13:09:00 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/extconf.rb (gai_strerror): checks if available and if\n\t  returns const pointer.\n\n\t* ext/socket/getaddrinfo.c (gai_strerror): defines only if non\n\t  available.  [ruby-core:21328]\n\nWed Jan 14 12:39:16 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_wait_readable, rb_io_wait_writable): need rb_fd_ptr.\n\n\t* io.c (appendline): reformed.\n\n\t* io.c (rb_io_s_pipe): reduced nest of rb_ensure of main block.\n\nTue Jan 13 21:45:53 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/ostruct.rb (OpenStruct#inspect): fixed the recursion check.\n\t  Patch by Kornelius Kalnbach.  [ruby-core:20992].\n\n\t* test/ostruct/test_ostruct.rb: test for inspect.\n\t  Patch by Kornelius Kalnbach.  [ruby-core:20992].\n\nTue Jan 13 21:28:14 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* object.c (rb_obj_not_match): rdoc.\n\t  Patch by Kornelius Kalnbach.  [ruby-core:20991]\n\nTue Jan 13 21:44:30 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (io_reopen, rb_io_init_copy): should register fptr to pipe_list\n\t  when copying pipe fptr.\n\nTue Jan 13 18:21:44 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_io_close_read): call rb_io_fptr_cleanup() instead of\n\t  fptr_finalize() because the fptr has special finalizser if it is a\n\t  pipe.  [ruby-dev:37757] (3)\n\nTue Jan 13 18:19:49 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_io_initialize): workaround for Windows. [ruby-dev:37686]\n          (also see [ruby-dev:37721])\n\nTue Jan 13 17:29:02 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/trans/make_transdb.rb (converters): should not depend on the\n\t  hash order for cross compile.\n\nTue Jan 13 16:39:11 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/intern.h, thread.c, win32/Makefile.sub (rb_fdset_t,\n\t  rb_fd_init, rb_fd_term, rb_fd_zero, rb_fd_set, rb_fd_clr, rb_fd_isset,\n\t  rb_fd_select, rb_fd_ptr, rb_fd_max, HAVE_RB_FD_INIT): new type,\n\t  functions, and macros for Windows.\n\n\t* win32/win32.c (extract_fd, rb_w32_select): use rb_fdset_t to expand\n\t  fd_array if needed.  [ruby-core:19946]\n\n\t* win32/win32.c (copy_fd): new funcion for rb_w32_select().\n\nTue Jan 13 12:31:54 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/file2lastrev.rb (get_revisions): fixes problem with\n\t  svn on cygwin. [ruby-dev:37702].\n\t  Patch by Kouhei Sutou.\n\nTue Jan 13 11:58:04 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/irb/input-method.rb: IRB did not prompt for MSwin32.\n\t  [ruby-dev:37686].\n\t  Patch by arton <artonx AT yahoo.co.jp>.\n\nTue Jan 13 12:10:42 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/{getaddrinfo,getnameinfo}.c: need to include ws2tcpip.h\n\t  on Windows.\n\nTue Jan 13 03:07:28 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* instruby.rb: require \"tool/mdoc2man.rb\" before chdir if needed.\n\nTue Jan 13 02:54:54 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/extconf.rb: use headers instead of \"netdb.h\" in checking\n\t  getnameinfo() and getaddrinfo() because Windows doesn't have it.\n\t  [ruby-dev:37757] (1)\n\n\t* ext/socket/sockport.h (SA_LEN): use sockaddr_in6 when defined AF_INET6\n\t  if INET6 is not defined.  winsock2's getaddrinfo() returns\n\t  sockaddr_in6 if ipv6 is available.\n\nWed Jan 14 13:19:21 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_aspawn): should not escape with carret\n\t  unless using cmd.exe.\n\nTue Jan 13 02:21:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (internal_cmd_match): extracted from\n\t  is_internal_cmd.\n\n\t* win32/win32.c (argv_size, join_argv): escapes redirection, pipe\n\t  and carret punctuations with carrets.\n\n\t* win32/win32.c (rb_w32_aspawn): ditto, and redirections and pipe\n\t  have no meanings.\n\nTue Jan 13 02:07:38 2009  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: use Encoding.find(\"locale\") instead of\n\t  Encoding.locale_charmap\n\nTue Jan 13 00:57:56 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (sock_s_unpack_sockaddr_in): check too short\n\t  sockaddr.\n\t  (sock_s_unpack_sockaddr_un): ditto.\n\nMon Jan 12 17:23:05 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb (assert_nothing_raised): removes the\n\t  current trace to get rid of an issue of MiniTest::Unit#location.\n\nMon Jan 12 16:49:20 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (install): erased a garbage.\n\nMon Jan 12 16:45:28 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (open_dir_handle): extracted from rb_w32_opendir.\n\n\t* win32/win32.c (winnt_stat): gets rid of strange behavior of\n\t  GetFileAttributes().  [ruby-core:21269]\n\nMon Jan 12 11:59:19 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c (ruby_xmalloc, ruby_xrealloc, ruby_xfree):\n\t  enable to use them without GVL.\n\t  if GC is invoked, acquire GVL during GC.\n\t  if NoMemoryError is raised, acquire GVL and raise it.\n\nMon Jan 12 10:39:19 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c: fix comment (terminology: Global VM Lock).\n\n\t* thread.c (blocking_region_begin, blocking_region_end):\n\t  save and clear th->blocking_region_buffer.\n\n\t* thread.c (rb_thread_call_with_gvl): check if it has GVL.\n\n\t* thread.c (ruby_thread_has_gvl_p): added.\n\n\t* vm_core.h: add decls.\n\nSun Jan 11 16:53:14 2009  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/erb.rb (PercentScanner): remove PercentScanner. fixed % after\n\t  %> bug. [ruby-dev:37751] [Bug #997] \n\n\t* test/erb/test_erb.rb: ditto\n\nSun Jan 11 09:47:30 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (rb_hash_s_create): set nil as the value if assoc length\n\t  is not enough.  [ruby-core:21249]\n\nSat Jan 10 20:26:17 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* version.h: make version string succinct:\n\t  \"ruby 1.9.1p5000 (2009-01-10 trunk 21414) [i686-linux]\".\n\nSat Jan 10 19:05:13 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_restore_1): should not be inlined.\n\nFri Jan  9 13:20:08 2009  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: rescue abnormal Encoding.locale_charmap value.\n\nFri Jan  9 10:40:52 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_process.rb (TestProcess::MANDATORY_ENVS): some\n\t  platforms need environments for shared objects.\n\nThu Jan  8 17:32:51 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb: should not depend on a library which does not exist\n\t  in 1.8.\n\nWed Jan  7 22:13:03 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (man, gem): fixed errors.\n\nWed Jan  7 17:14:40 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb: use installed libraries.  [ruby-core:21006]\n\nWed Jan  7 17:13:38 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n \n \t* instruby.rb (gem), lib/rubygems/defaults.rb (Gem.default_dir):\n \t  use version invariant configuration.\n\n\t* instruby.rb: use installed libraries.  [ruby-core:21006]\n\n\t* instruby.rb (gem), lib/rubygems/defaults.rb (Gem.default_dir):\n\t  use version invariant configuration.\n\nThu Jan  8 00:31:58 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit/assertions.rb (assert_no_match): don't count up as two\n\t  assertions.\n\nMon Jan  5 12:52:08 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (init_env): use user profile folder than personal\n\t  folder.\n\nMon Jan  5 17:59:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (cygwin): needs properly implemented nl_langinfo().\n\t  [ruby-core:21110]\n\n\t* missing/langinfo.c: added as suggested at [ruby-core:21015], from\n\t  http://www.cl.cam.ac.uk/~mgk25/ucs/langinfo.c.\n\n\t* missing/langinfo.c (nl_langinfo_0): fixed typos for SJIS.\n\nMon Jan  5 17:38:40 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* encoding.c (rb_locale_charmap): use GetConsoleCP() instead of\n\t  GetACP() because external encoding should be console's one.\n\n\t* encoding.c (rb_filesystem_encoding): use GetOEMCP() instead of\n\t  GetACP() because VFAT/FAT32 uses OEM CP.\n\nMon Jan  5 16:26:48 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_filesystem_encoding): use ANSI codepage for file\n\t  system on cygwin.\n\n\t* encoding.c (rb_locale_charmap): reverted.  [ruby-core:21110]\n\nMon Jan  5 16:15:00 2009  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* ext/curses/curses.c (free_window): use xfree instead of free.\n\t  [ruby-dev:37200]\n\nMon Jan  5 08:41:13 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_s_stat): need type check for non string values.\n\t  [ruby-dev:37673]  fix: #964\n\n\t* file.c (rb_file_s_size, rb_file_s_atime, rb_file_s_mtime,\n\t  rb_file_s_ctime, rb_f_test): ditto.\n\nMon Jan  5 07:58:37 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* random.c (rb_f_srand): update RDoc.  [ruby-core:21113]\n\nThu Jan  8 07:30:52 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI.redirectable?): reverted https redirection.\n\nSun Jan  4 18:10:10 2009  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/gbk.trans, gbk-tbl.rb:\n\t  new Chinese GBK transcoding (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi)\n\nSun Jan  4 17:55:55 2009  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: added tests for GB2312\n\t  (from Yoshihiro Kambayashi)\n\n\t* enc/trans/chinese.trans: set valid byte patterns for\n\t  GB2312 and GB12345\n\nSun Jan  4 17:39:39 2009  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/big5.trans, big5-tbl.rb:\n\t  new Chinese Big5 transcoding (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi)\n\nSun Jan  4 15:41:37 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_filesystem_encoding, rb_locale_charmap): uses\n\t  codepage on cygwin.  [ruby-core:20994]\n\nSun Jan  4 11:58:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (ruby_float_step): extracted from num_step().\n\n\t* range.c (range_step): uses ruby_float_step() for float range.\n\t  [ruby-dev:37691]\n\nSun Jan  4 11:11:31 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): does not use both of makefile.rb and\n\t  extconf.rb at the same time.\n\n\t* lib/mkmf.rb (DLLIB): depends on Makefile.  [ruby-core:21096]\n\nSun Jan  4 03:30:18 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (maygvl_copy_stream_wait_read): renamed to add prefix to\n\t  express GVL state.\n\t  (nogvl_copy_stream_wait_write): ditto.\n\t  (nogvl_copy_stream_sendfile): ditto.\n\t  (maygvl_copy_stream_read): ditto.\n\t  (nogvl_copy_stream_write): ditto.\n\t  (nogvl_copy_stream_read_write): ditto.\n\t  (nogvl_copy_stream_func): ditto.\n\nSun Jan  4 00:30:50 2009  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/erb.rb: merged r20850, r17881, r16811, r16763, r16748, r15829, \n\t  r15794 and r15698 from ruby_1_8.\n\n\t* test/erb/test_erb.rb: ditto.\n\nSat Jan  3 22:24:36 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk, Makefile.in, win32/Makefile.sub (INSNS): move the macro\n\t  definition from common.mk to {Makefile.in,win32/Makefile.sub}.\n\t  [ruby-dev:37678]\n\nSat Jan  3 15:30:09 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/chinese.trans: added for transcoding EUC-CN and GB12345.\n\n\t* enc/trans/GB/: ditto.\n\nSat Jan  3 15:26:30 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/euc-cn.c: renemed from gb2312.c because GB2312 is\n\t  the name of a CSS.  it's encoding name is \"EUC-CN\".\n\nSat Jan  3 03:00:42 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk, Makefile.in, win32/Makefile.sub ($(INSNS), node_name.inc,\n\t  known_errors.inc, miniprelude.c, newline.c): move rules from common.mk\n\t  to {Makefile.in,win32/Makefile.sub} for nmake.\n\t  [ruby-core:20993]\n\nFri Jan  2 23:51:41 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_sleep.rb (test_sleep_5sec): stop gc.\n\nFri Jan  2 23:36:10 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c: don't apply socktype hack [ruby-core:184] for\n\t  sock_s_getaddrinfo.\n\t  (sock_getaddrinfo): add socktype_hack argument.\n\t  (sock_addrinfo): call sock_getaddrinfo with socktype_hack.\n\t  (sock_s_getaddrinfo): call sock_getaddrinfo without socktype_hack.\n\t  [ruby-dev:37674]\n\nFri Jan  2 23:33:38 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/missing.h, sprintf.c: get rid of a warning of VC++.\n\nFri Jan  2 10:20:24 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/singleton.rb: fix documentation. [ruby-core:21038]\n\nFri Jan  2 22:25:46 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* process.c: use sigaction instead of sigset.  [ruby-core:21021]\n\nFri Jan  2 22:20:46 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_process.rb (test_wait_and_sigchild): remove debug\n\t  output.\n\nFri Jan  2 06:43:58 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* signal.c (rb_signal_buff_size): defined for check whether signal\n\t  is in the buffer or not.\n\n\t* thread_pthread.c (thread_timer): don't exit the loop when signal\n\t  is in the buffer. [ruby-dev:37637]\n\nThu Jan  1 22:27:55 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/default.mspec: fix for builddir != srcdir\n\n\t* Makefile.in: ditto.\n\nThu Jan  1 20:50:09 2009  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* process.c (before_exec): it makes no sense for a conditional\n\t  expression to return a void value.\n\nThu Jan  1 15:08:46 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/flie2lastrev.rb: supports git repositories which are cloned\n\t  from a git-svn gateway.\n\t  Patch by Hongli Lai. [ruby-core:21020]\n\nThu Jan  1 07:42:36 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/singleton.rb: fix indentation of RDoc text.  [ruby-core:21029]\n\nThu Jan  1 07:16:44 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (distclean-ext, realclean-ext): use EXTS as default.\n\n\t* win32/Makefile.sub (distclean-ext, realclean-ext): try to remove ext\n\t  directory.\n\nThu Jan  1 06:56:28 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/file2lastrev.rb: unset PWD.\n\nWed Dec 31 14:12:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_to_float): replaced by to_flo definition from\n\t  math.c  [ruby-dev:37668]\n\n\t* math.c (Need_Float): use rb_to_float().\n\nWed Dec 31 19:35:57 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/README: follows the change of directory structure in rubyspec.\n\n\t* spec/default.mspec: ditto. Also follows change of mspec command.\n\n\t* Makefile.in: ditto.\n\nWed Dec 31 15:45:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_body): don't check to_io because\n\t  Zlib::GzipWriter#to_io returns the underlying IO.\n\nWed Dec 31 14:52:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/openssl/ossl_digest.c (GetDigestPtr): use StringValueCStr\n\t  instead of STR2CSTR.\n\n\t* ext/openssl/ossl_pkey_ec.c (ossl_ec_key_initialize): ditto.\n\t  (ossl_ec_group_initialize): ditto.\n\nTue Dec 30 21:17:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/mkconstants.rb: use sock_define_uconst for INADDR_*\n\t  constants because Socket::INADDR_LOOPBACK should be 0x7f000001\n\t  instead of -0xffffff.\n\n\t* ext/socket/socket.c (sock_define_uconst): defined.\n\nTue Dec 30 18:23:10 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/minitest/*.rb: Imported minitest 1.3.1 r4506.\n\t* test/minitest/*.rb: ditto.\n\nTue Dec 30 17:59:59 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c: Minor fixes and tweaks in documentation.\n\nTue Dec 30 17:03:51 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/dl/test/test_import.rb: fix a prototype decl.\n\t  pointed out by Takehiro Kubo [ruby-core:20971].\n\nTue Dec 30 16:56:09 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_blocking_region): add a comment.\n\n\t* thread.c (rb_thread_call_without_gvl): added as a alias of\n\t  rb_thread_blocking_region().\n\n\t* thread.c (rb_thread_call_with_gvl): added.\n\n\t* vm_core.h (rb_thread_t#blocking_region_buffer): added for\n\t  rb_thread_call_with_gvl().\n\nMon Dec 29 22:37:17 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* process.c (rb_waitpid): retries waitpid when EINTR.\n\t  [ruby-core:19744].\n\nMon Dec 29 23:41:42 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/dl/test/test_base.rb: add libc search logic.\n\t  this patch is written by Takehiro Kubo.\n\t  [ruby-core:20963] [Bug #932]\n\n\t* ext/dl/dl.h: Add \",...\" as the last argument.\n\t  this patch is written by Takehiro Kubo.\n\t  Bug #633 [ruby-core:19289]\n\n\t* ext/dl/lib/dl/stack.rb: add add_padding() to calculate\n\t  alignment.  this patch is written by Takehiro Kubo.\n\t  Bug #633 [ruby-core:19289]\n\n\t* ext/dl/test/test_func.rb: atof()'s return value is double.\n\t  this patch is written by Takehiro Kubo.\n\t  Bug #633 [ruby-core:19289]\n\n\t* ext/dl/test/test_import.rb:\n\t  - atof()'s return value is double.\n\t  - The types of qsort's second and third argument are size_t.\n\t  - fprintf()'s return value is int.\n\t  this patch is written by Takehiro Kubo.\n\t  Bug #633 [ruby-core:19289]\n\nMon Dec 29 20:57:14 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/ri.1: new manpage.\n\nMon Dec 29 17:53:24 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* bin/erb: accepts options in more flexible styles.\n\nMon Dec 29 17:25:17 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/erb.rb (ERB): m17n of ERB. adds rdoc.\n\t  fixes #712. c.f. [ruby-dev:37516].\n\n\t* lib/erb.rb (ERB::Compiler#compile): recognizes magic comments.\n\t  returns a pair of compiled script and its script encoding.\n\n\t* lib/erb.rb (ERB#set_eoutvar): make generated scripts return a \n\t  string in correct encoding.\n\n\t* lib/erb.rb (ERB#def_method): use Kernel#eval for encoding-awareness  \n\t  of the evaluated string.\n\n\t* bin/erb.rb (ERB::Main.run): adds -E and -U options.\n\t  String is no longer Enumerable.\n\n\t* man/erb.1: new manapage.\n\n\t* test/erb/test_erb_m17n.rb: new test case for m17n features.\n\nMon Dec 29 16:16:20 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (vm_set_eval_stack, vm_set_main_stack, vm_set_top_stack): \n\t  check stack overflow.  [ruby-dev:37646]\n\nMon Dec 29 14:50:19 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* Makefile.in (ext-clean): ext-clean always fails.\n\n\t* ext/dl/ripper/extconf.rb: adds y.output into the clean list.\n\nMon Dec 29 11:58:39 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_mutex_trylock): return false if Mutex owned\n\t  by current thread.  [ruby-core:20943]\n\n\t* thread.c (rb_mutex_lock): check dead lock (recursive lock) here.\n\n\t* test/ruby/test_thread.rb: add a test.\n\nMon Dec 29 07:15:16 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* cont.c: small RDoc fix mentioned from <radek.bulat at gmail.com>\n\t  in [ruby-core:20921].\n\nMon Dec 29 03:43:25 2008  Koichi Sasada  <ko1@atdot.net> \n\n\t* ruby.c (process_options): set th->base_block only while\n\t  it is needed.  [ruby-dev:37634] [Bug #939]\n\n\t* ruby.c (require_libraries): clear th->base_block before\n\t  require libraries.\n\nSun Dec 28 18:39:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c: not force to override snprintf/vsnprintf.\n\t  [ruby-core:20824]\n\nSun Dec 28 21:33:52 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ext/dl/test_base.rb : add BSD's case.\n\nSun Dec 28 21:09:12 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ext/dl/lib/dl/import.rb (DL::Importer#sizeof): follows\n\t  a feature change in 1.9.\n\nSun Dec 28 19:11:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.h): do not use snprintf/vsnprintf in\n\t  msvcrt.\n\n\t* sprintf.c: not force to override snprintf/vsnprintf.\n\t  [ruby-core:20824]\n\nSun Dec 28 17:10:13 2008  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* ext/dl/test/test_dl2.rb: modify strncpy, strcpy, qsort, types.\n\t  Patch by Takehiro Kubo.\n\t  Bug #633 [ruby-core:19289]\n\t* ext/dl/test/test_base.rb: /lib/libc.so is x86_64 binary in x86_64 architecture.\n\nSun Dec 28 18:36:33 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/rubygems/test_gem_command.rb\n\t  (test_add_option_overlapping_common_and_local_options):\n\t  follows r21066.\n\nSun Dec 28 17:21:36 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/rubygems/test_ext_configure_builder.rb (test_self_build_fail):\n\t  Extends pattern for FreeBSD's error message.\n\nSun Dec 28 12:24:14 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (mutex_free, mutex_unlock): add qualifiers.\n\nSun Dec 28 10:28:04 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (mutex_free): GC thread (main thread) has failed to unlock\n\t  a mutex that is locked by another thread, which makes the mutex\n\t  dangling in keeping_mutexes and causes [BUG] or stuck finally.\n\t  Now unlocking is performed as locking thread.\n\n\t* thread.c (mutex_unlock, rb_mutex_unlock, rb_mutex_unlock_all):\n\t  mutex_unlock receives a thread.\n\nSun Dec 28 05:44:44 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/minitest/*.rb: Imported minitest 1.3.1 r4505.\n\t* test/minitest/*.rb: ditto.\n\nSun Dec 28 00:43:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* runruby.rb: refactored to modify ENV as once.\n\nSat Dec 27 22:41:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/rdoc/test_rdoc_info_formatting.rb (setup, teadown): uses\n\t  mktmpdir and removes it alfter the test.\n\n\t* test/cgi/test_cgi_session.rb (setup, teadown): ditto.\n\nSun Dec 28 12:53:10 2008  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* ext/dl/test/test_base.rb: use libc.dylib when the platform is darwin.\n\nSat Dec 27 21:46:10 2008  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* ext/dl/test/test_base.rb: use lib64 when the architecture is x86_64.\n\nSat Dec 27 20:26:59 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_argv_size): if an argument is empty, it's size\n\t  is 2, not 0, because it will be converted to \"\".\n\nSat Dec 27 19:40:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (after_exec): needs to reset before restart timer\n\t  thread.\n\n\t* thread.c (thread_start_func_2): stops timer thread if forked in\n\t  the new thread.   [ruby-core:19385]\n\n\t* thread.c (rb_thread_atfork, rb_thread_atfork_before_exec): DRY.\n\nSat Dec 27 17:08:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* .gdbinit (dummy_gdb_enums.special_consts): forces to load debug\n\t  info on Mac OS X.\n\n\t* .gdbinit (rp): added T_ZOMBIE.\n\nSat Dec 27 16:18:02 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_frame_callee, rb_frame_caller): rb_frame_callee() \n\t  should return method id on current frame.\n\t  add rb_frame_caller() to get method id on parent frame.\n\t  Bug #884 [ruby-dev:37446]\n\n\t* eval.c (rb_f_method_name): use rb_frame_caller()\n\t  instead of rb_frame_callee().\n\nSat Dec 27 15:28:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_econv_exception): show source and destination\n\t  encoding.  [ruby-dev:37285]\n\nSat Dec 27 15:23:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_yield_with_cfunc): rename parameter name\n\t  \"blockptr\" to \"blockargptr\".\n\nSat Dec 27 15:15:56 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (revision.h): ignores failure of file2lastrev.\n\nSat Dec 27 15:02:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.c (process_options): fix to untouch th->mild_compile_error.\n\t  [ruby-dev:37621], [ruby-dev:37620]\n\nSat Dec 27 14:48:26 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.h, iseq.c (rb_iseq_new_main): add a type ISEQ_TYPE_MAIN.\n\t  [ruby-dev:37619]\n\n\t* compile.c (rb_dvar_defined, ruby_iseq_compile): ditto.\n\n\t* iseq.c (iseq_data_to_ary, iseq_load): ditto.\n\n\t* compile.c (iseq_compile_each): fix to check ip->compile_data.\n\nSat Dec 27 14:29:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI.redirectable?): permit https redirection.\n\t  patch from Roman Shterenzon.  [ruby-core:20485]\n\nSat Dec 27 13:36:55 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (get_errinfo): return th->errinfo value\n\t  if normal errinfo place (dynamic local viriable) is not found.\n\t  fixes Bug #732 [ruby-dev:37046].\n\n\t* bootstraptest/test_proc.rb: add a test.\n\nSat Dec 27 11:41:45 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_call_method, vm_call_cfunc): use original id instead of\n\t  calling id when NODE_CFUNC or NODE_BMETHOD.\n\t  fixes Bug #632 [ruby-core:19282].\n\n\t* vm_eval.c (vm_call0, vm_call_super): ditto.\n\n\t* vm_method.c (rb_add_method, rb_alias): store original id\n\t  in nd_file field of NODE_METHOD.\n\n\t* test/stringio/test_stringio.rb: add a test.\n\nSat Dec 27 13:09:36 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/irb.1: adds -v, -h, -E, and -U.\n\nSat Dec 27 09:48:54 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (Init_VM): create and define TOPLEVEL_BINDING at first.\n\n\t* vm.c (vm_set_main_stack, rb_iseq_eval_main): added.\n\n\t* parse.y (rb_parser_compile_file): fix to check parse_in_eval flag.\n\n\t* eval.c (ruby_exec_node): use rb_iseq_eval_main()\n\t  instead of rb_iseq_eval().\n\n\t* iseq.c (rb_iseq_new_main), vm_core.h: added.\n\t  main script (specified by -e or script name) should be run\n\t  under TOPLEVEL_BINDING using Kernel#eval.  Above changes\n\t  simulate Kernel#eval behaviour.  [ruby-dev:37240]\n\n\t* compile.c (make_name_for_block): skip iseq except block type.\n\t  this fix is needed for [ruby-dev:37240], and also fixes\n\t  [ruby-dev:35392].\n\nSat Dec 27 05:38:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (after_fork): ignores a termination request in the\n\t  parent process.  [ruby-dev:37447]\n\nSat Dec 27 01:52:39 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb:  Using a more robust transcoding scheme to produce\n\t  ASCII compatible inspect() messages.  [ruby-dev:37591]\n\nMon Dec 22 16:32:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): encoding of packed string only from 'm',\n\t  'M', and 'u' should be US-ASCII.  [ruby-dev:37284]\n\n\t* pack.c (pack_pack): encoding of packed string only from 'U'\n\t  should be UTF-8.  also upgrade US-ASCII strings to UTF-8.\n\nSat Dec 27 09:14:17 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* cont.c: rdoc for Fiber. patch by Muhammad Ali.\n\t  [ruby-core:20894]\n\nFri Dec 26 18:04:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (fptr_finalize): don't allocate objects if noraise.\n\t  (finish_writeconv): add noalloc argument to be able to avoid\n\t  object allocation.\n\t  (finish_writeconv_arg): introduced again.\n\t  (finish_writeconv_sync): follow the above change.\n\nMon Dec 22 09:54:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (gettable_gen): the encoding of __FILE__ should be\n\t  rb_filesystem_encoding().  [ruby-list:45733]\n\n\t* parse.y (gettable_gen): __FILE__ should be ASCII-8BIT when\n\t  filesystem encoding is US-ASCII and __FILE__ contains non 7bit\n\t  characters.\n\nFri Dec 26 15:50:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::List#summarize): gives priority\n\t  to latter switches.  [ruby-dev:36692]\n\n\t* lib/optparse.rb (OptionParser#summarize): do not append\n\t  unnecessary line terminator.\n\nFri Dec 26 14:01:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (fptr_finalize): close the IO object even if finish_writeconv or\n\t  flush is failed.\n\t  (finish_writeconv): don't raise.  return errno or exception.\n\t  (finish_writeconv_arg): removed.\n\t  (finish_writeconv_sync): follow finish_writeconv change.\n\n\t* transcode.c (rb_econv_make_exception): new function.\n\n\t* include/ruby/encoding.h (rb_econv_make_exception): declared.\n\nFri Dec 26 17:04:14 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/irb/input-method.rb (IRB::StdioInputMethod#initialize):\n\t  removed a 'p' for debugging.\n\nThu Dec 25 20:57:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (str_transcode0): set encoding when String#encode was\n\t  given explicit but the same destination and source encoding.\n\nThu Dec 25 19:35:51 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (sym_ignore): remove useless symbol.\n\nMon Dec 22 21:31:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* numeric.c (int_ord): Integer#ord implemented.\n\nTue Dec 16 22:15:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/minitest/unit.rb (MiniTest::Assertions#assert_instance_of):\n\t  should assert by instance_of?, not ===.  [ruby-dev:37458]\n\n\t* lib/minitest/unit.rb (MiniTest::Assertions#assert_instance_of):\n\t  typo fixed.\n\nMon Dec 15 20:59:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/pty/pty.c (child_info): add slavename.\n\t  (chfunc): use slavename.\n\t  (establishShell): set slavename.\n\t\nTue Dec  9 13:23:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (check_cfunc): use function pointer.\n\nThu Nov 27 10:40:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_div2): should return\n\t  Integer for #div operation.\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_div2): should raise\n\t  ZeroDivisionError if divisor is zero.  [ruby-dev:37207]\n\nMon Nov  3 00:36:44 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole_event.rb: rename test class.\n\n\t* test/win32ole/test_win32ole_variant_outarg.rb: add in order\n\t  to use ADO instead of Internet Explorer.\n\t  remove test/win32ole/test_win32ole_variant_with_ie.rb.\n\n\t* test/win32ole/orig_data.csv: ditto.\n\nSun Nov  2 22:12:41 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_event_free): invoke IConnectionPoint::Unadvise\n\t  before invoking IConnectionPoint::Release.\n\n\t* test/win32ole/test_win32ole_event.rb, test/win32ole/err_in_callback.rb,\n\t  test/win32ole/test_err_in_callback.rb: Use ActiveX Data Object\n\t  Library instead of InternetExplorer.\n\nSun Nov  2 22:06:55 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* win32/Makefile.sub: add RUNRUBYOPT. [ruby-dev:37009]\n\nThu Dec 25 17:49:45 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (decorate_convpath): show type of escaping for\n\t  xml_attr_quote or some conversions.\n\nThu Dec 25 17:06:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_initialize): check fd validity.  [ruby-dev:36646]\n\nThu Dec 25 16:23:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (flush_before_seek): check io_fflush result.\n\t  (rb_io_check_readable): ditto.\n\t  (rb_io_flush): ditto.\n\t  (rb_io_fsync): ditto.\n\t  (remain_size): ditto.\n\t  (rb_io_write_nonblock): ditto.\n\t  (finish_writeconv): ditto.\n\t  (fptr_finalize): ditto.\n\t  (io_reopen): ditto.\n\t  (rb_io_reopen): ditto.\n\t  (copy_stream_body): ditto.\n\nThu Dec 25 15:54:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fflush): flush write buffer without write lock in\n\t  finalizers.  [ruby-dev:37572]\n\n\t* io.c (rb_io_fptr_finalize): clear write lock before finalizing.\n\nThu Dec 25 15:07:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (fptr_finalize): close the IO object even if close(2) is failed.\n\nThu Dec 25 14:51:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/parser.rb (RDoc::Parser.binary?): should read in binary mode.\n\nThu Dec 25 13:28:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_io_flush): fsync() after buffer is flushed on win32.\n\t  [ruby-core:20043]\n\nThu Dec 25 14:32:23 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_method_search): fix control flow bug.\n\t  (commited at r20981)\n\nThu Dec 25 13:13:00 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_method_search): return rb_cObject if there is no\n\t  super class.  [ruby-dev:37587]\n\n\t* bootstraptest/test_method.rb: add tests for above.\n\nThu Dec 25 12:49:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (proc_new): should use proc_dup() if block has Proc.\n\n\t* vm.c (vm_make_proc_from_block): should use rb_cProc for block.\n\n\t* vm.c (vm_make_proc): add an assertion.\n\n\t* bootstraptest/test_proc.rb: add a test.\n\nThu Dec 25 12:44:27 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_yield_with_cfunc): check block has Proc.\n\nThu Dec 25 05:53:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* template/id.h.tmpl, id.h (ruby_method_ids): not depend on if\n\t  token are defined as macros.  [ruby-dev:37553]\n\n\t* template/id.h.tmpl, id.h (ruby_method_ids_check): enclosed in a\n\t  struct.\n\nThu Dec 25 01:52:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): sets native thread key.\n\nThu Dec 25 01:09:23 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline_history.rb: check the encoding that\n\t  is in the Readline::HISTORY.\n\nWed Dec 24 22:36:06 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* error.c, vm_dump.c: change message by rb_bug().\n\nWed Dec 24 21:57:39 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_peephole_optimize): fix typo.\n\nSun Dec 21 13:38:04 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (invoke_block_from_c): fix to point right cfp.\n\n\t* vm.c (vm_make_proc, vm_make_proc_from_block), vm_core.h:\n\t  remove unused parameter cfp.\n\n\t* vm_insnhelper.c, proc.c (proc_new): ditto.\n\nWed Dec 24 20:59:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* error.c (exc_equal): == method should not raise Exception.\n\t  [ruby-dev:37519]\n\n\t* sample/test.rb: fix test\n\nFri Dec 19 07:45:37 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (exc_equal): duck typing equal to make it transitive.\n\t  [ruby-dev:34880]\n\nWed Dec 24 20:33:45 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_call_method): use class of method defined\n\t  instead of receiver's class on bmethod.  fixes [ruby-core:20786]\n\n\t* bootstraptest/test_method.rb: add a test for above.\n\n\t* vm_insnhelper.c (vm_setup_method): remove unused parameter klass.\n\n\t* vm_insnhelper.h (CALL_METHOD): ditto.\n\n\t* insns.def, vm_eval.c: ditto.\n\nWed Dec 24 20:15:50 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/file2lastrev.rb (get_revisions): fix to ignore end of line.\n\nWed Dec 24 13:33:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (HAVE_LONG_LONG, HAVE_OFF_T): revised for autoconf\n\t  2.62 or later.\n\nWed Dec 24 06:29:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (OBJDUMP, OBJCOPY): autoconf list is not comma\n\t  separated.\n\n\t* configure.in (AC_HEADER_STDC, AC_CHECK_HEADERS, AC_CHECK_FUNCS):\n\t  removed duplicated checks.\n\nWed Dec 24 03:21:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el: added comment to mention newer version\n\t  bundled with Emacs 23 or later.  a patch from Phil Hagelberg\n\t  <phil at hagelb.org> in [ruby-core:20838].\n\nTue Dec 23 23:49:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_init_copy): call io_seek only if io_tell succeeds.\n\nTue Dec 23 20:28:28 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* io.c: rdoc for File::open and 1.9 feature in file modes.\n\n\t* transcode.c: rdoc for String#encode\n\nTue Dec 23 19:51:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_spawn): deals with quoted commands.\n\nTue Dec 23 18:44:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* strftime.c (rb_strftime): use locale insensitive functions for tr_TR\n\t  locale.\n\nTue Dec 23 17:38:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit/assertions.rb (assert_equal): show small differences\n\t  for Regexp and Float.\n\nTue Dec 23 16:49:48 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_spawn): support normal commands with arguments.\n\nTue Dec 23 15:46:43 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/mathn.rb: Math.sqrt(NaN) should be NaN. [ruby-dev:37537]\n\nTue Dec 23 15:46:47 2008  Eric Hodel  <drbrain@segment7.net>\n\t* gem_prelude.rb:  Match full RubyGems behavior when a gem can't be\n\t  found.\n\nTue Dec 23 15:30:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (pipe_open): need to initialize args.\n\nTue Dec 23 14:18:14 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/st.h: need to include defines.h because LONG_LONG is\n\t  defined there.\n\nTue Dec 23 13:52:05 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parser/c.rb:  Don't coalesce adjacent comment blocks.\n\t  [bug#901]\n\nTue Dec 23 08:10:05 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems/installer.rb: Fix documentation.  [bug#827]\n\nTue Dec 23 08:04:58 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb: Don't remove methods twice.  [bug#555]\n\nWed Dec 24 20:15:50 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/file2lastrev.rb (get_revisions): fix to ignore end of line.\n\nTue Dec 23 15:48:55 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* tool/file2lastrev.rb: shouldn't use single quote in shell's command\n\t  line if you want to support Windows.\n\nTue Dec 23 15:36:58 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/file2lastrev.rb: detects vcs directory properly on\n\t  building outside of srcdir. [ruby-dev:37555] [ruby-dev:37561]\n\nMon Dec 22 19:31:19 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (revision.h): uses tool/file2lastrev.rb to support\n\t  git-svn.\n\n\t* version.h: changed version string as\n\t  `ruby 1.9.1 (2008-12-22 patchlevel-5000 trunk 20912)\n\t  [i386-darwin9.6.0]'.\n\nMon Dec 22 21:08:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit/assertions.rb (assert_nothing_raised): increment\n\t  assertion count.  [ruby-dev:37480]\n\nMon Dec 22 19:10:44 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.c (Init_native_thread): need to call\n\t  ruby_thread_set_native() here.\n\nMon Dec 22 18:00:36 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: fix wrong flag value.\n\nMon Dec 22 14:35:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_external_str_new_with_enc): set ASCII-8BIT if\n\t  encoding is US-ASCII and string contains 8bit characters.\n\nMon Dec 22 12:26:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (rubydll.def), win32/mkexports.rb\n\t  (Exports#exports): added VERSION.\n\nTue Dec 23 00:16:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* sprintf.c (rb_str_format): fix buffer overflow.\n\nMon Dec 22 12:25:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/vsnprintf.c (BSD_vfprintf): fix for test_sprintf_comb.rb, by\n\t  wanabe in [ruby-dev:36935].\n\nMon Dec 22 12:05:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (mingw): no longer uses snprintf and vsnprintf of\n\t  msvcrt.  [Bug#6]\n\n\t* win32/win32.c (rb_w32_vsnprintf, rb_w32_snprintf): removed.\n\n\t* win32/Makefile.sub (config.h): vsnprintf exists in VC7 or later.\n\n\t* win32/mkexports.rb (Exports#initialize): aliases\n\t  rb_w32_vsnprintf and rb_w32_snprintf for binary compatibility.\n\n\t* sprintf.c (rb_str_format): uses snprintf instead of sprintf.\n\n\t* numeric.c (flo_to_s, rb_num2long, rb_num2ll): ditto.\n\nSat Dec 20 15:34:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rake.rb (Rake::FileList#egrep): change open mode to \"rb\",\n\t  i.e. default to binary.    [ruby-dev:37385]\n\n\t* lib/rake.rb (Rake::FileList#egrep): allow specifying reading\n\t  encoding, e.g. FileList['*.rb'].egrep(/require/, encoding:\n\t  \"ascii-8bit\")\n\nMon Dec 22 10:59:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_upto): should return enumerator if called\n\t  without block.  [ruby-dev:37526]\n\nThu Dec 25 00:59:06 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline_history.rb: did not check the\n\t  encoding that is in the Readline::HISTORY. I will fix it.\n\nMon Dec 22 02:54:56 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: temporary patch for trouble on TkAqua (> Tk8.4.9).\n\n\t* ext/tk/sample/demos-jp/widget: set encoding to a demo-code string to\n\t  avoid garbled text on the Code Window.\n\nSun Dec 21 14:48:51 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline_history.rb: checked encoding.\n\nSun Dec 21 13:50:37 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline.rb\n\t  (TestReadline#test_some_characters_methods): checked encoding.\n\nSun Dec 21 14:55:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (SPLAT_PROC): splat values by hand.\n\nSun Dec 21 12:23:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (SPLAT_PROC): fix for regexp.  [ruby-dev:37514]\n\nMon Dec 22 15:25:03 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* thread.c (Thread#set_trace_func, #add_trace_func): removed.\n\t  This is an unsupported feature in 1.9.1 and will be supported \n\t  in 1.9.2. [ruby-core:19581]\n\t  (thread_add_trace_func): removes unnecessary function.\n\t  (thread_add_trace_func_m): ditto.\n\t  (thread_set_trace_func_m): ditto.\n\nSat Dec 20 18:28:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.c (dln_find_1): supplements an extension for executable\n\t  files on DOSish platforms.\n\n\t* io.c (pipe_open): use rb_w32_aspawn() for array form.\n\n\t* win32/win32.c (rb_w32_pipe_exec): no longer used.\n\n\t* win32/win32.c (rb_w32_spawn, rb_w32_aspawn): deals with batch\n\t  files and commands with extensions.  [ruby-core:20695]\n\n\t* win32/win32.c (has_redirection): supports environment variables\n\t  references.\n\nFri Dec  5 01:37:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_read): ERROR_BROKEN_PIPE is not a real error\n\t  at this point.\n\n\t* io.c (pipe_open): use rb_w32_spawn() instead of rb_w32_pipe_exec()\n\t  to use our own redirection scheme.\n\n\t* lib/rake.rb (Rake::MultiTask): invoke_prerequisites should be\n\t  private.  a patch from okkez in [ruby-dev:37399]\n\nSat Dec 20 10:59:16 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/irb/locale.rb (IRB::Locale#initialize)\n\t  initializes instance variables to suppress warnings.\n\t  typo fix to ignore LoadError: [ruby-dev:37508]\n\nFri Dec 19 17:01:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_extract_encoding_option): \"internal_encoding: nil\"\n\t  to specify no-transcoding.  and other corner case fixed.\n\t  [ruby-dev:37496]\n\n\t* hash.c (rb_hash_lookup2): new function to look-up hash with\n\t  default value.\n\nFri Dec 19 15:51:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): get rid of warning on DOSISH.\n\nThu Dec 18 19:31:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/irb/init.rb (IRB.opt_parse): (M17N) adds -U and -E as command\n\t  line options. [ruby-dev:37161]. Fixes #711. \n\t  improved long optinos.\n\n\t* lib/irb/init.rb (IRB.set_encoding): new subroutine for IRB.opt_parse\n\n\t* lib/irb/input-method.rb (IRB::StdioInputMethod): (M17N) regards\n\t  scripts that user types as encoded in the external_encoding. \n\n\t* lib/irb/input-method.rb (IRB::ReadlineInputMethod): ditto.\n\n\t* lib/irb/input-method.rb (IRB::FileInputMethod): (M17N) respects\n\t  magic comment.\n\n\t* lib/irb/help.rb (IRB.print_usage): (M17N) respects magic comment \n\t  in the resource file.\n\n\t* lib/irb/lc/help-message: adds -U and -E.\n\n\t* lib/irb/lc/ja/help-message: ditto. re-encoded from ISO-2022-JP into UTF-8.\n\n\t* lib/irb/lc/ja/encoding_aliases.rb: new file. provides Japanese specific\n\t  character encoding name table for backward compatibility.\n\n\t* lib/irb/lc/ja/error.rb: re-eoncoded from ISO-2022-JP into UTF-8.\n\t  magic comment.\n\n\t* lib/irb/locale.rb: integrated with Ruby 1.9's M17N support.\n\n\t* lib/irb/magic-file.rb: new file. utility to handle files with magic\n\t  comment and opens in the correct encoding.\n\n\t* lib/irb/ruby-lex.rb (RubyLex#each_top_level_statement): recovers\n\t  character encoding for a statement after it lexed so that irb can\n\t  eval the statement in correct encoding.\n\n\t* lib/irb/src_encoding.rb: new file. utility.\n\nThu Dec 18 21:12:28 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/session.rb: fix bug for ignore session_id option.\n\t  report from [ruby-core:18635], [Bug #572]\n\n\t* lib/cgi/core.rb: use Encoding#find when encoding set.\n\n\t* test/cgi/test_cgi_session.rb: test for session_id specified.\n\nThu Dec 18 16:48:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/optparse/version.rb: remove variable shadowing to stop\n\t  warning.   [ruby-core:20612]\n\n\t* lib/irb/completion.rb, lib/net/imap.rb, lib/prime.rb,\n\t  lib/rinda/ring.rb, lib/racc/parser.rb,\n\t  lib/shell/command-processor.rb, lib/yaml/yamlnode.rb: ditto.\n\n\t* lib/racc/parser.rb: remove space before parentheses.\n\n\t* lib/shell/command-processor.rb, lib/shell/process-controller.rb:\n\t  use parentheses around arguments.\n\n\t* lib/irb/ext/change-ws.rb, lib/rexml/validation/relaxng.rb,\n\t  lib/yaml/baseemitter.rb: indentation fix.\n\n\t* lib/matrix.rb: small cosmetic change.\n\nThu Dec 18 08:15:04 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/server.rb:  Restricting method inspection to show only\n\t  non-inherited public methods.  [ruby-core:20603]\n\n\t* lib/xmlrpc/server.rb:  Fixing method inspection so it doesn't \n\t  trigger XMLRPC::FaultException when used.  [ruby-core:20604]\n\nWed Dec 17 19:39:44 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (unix_recv_io): relax msg_controllen error\n\t  check.\n\nWed Dec 17 19:37:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/pty/extconf.rb: check util.h for OpenBSD.\n\n\t* ext/pty/pty.c: include util.h if available.\n\nWed Dec 17 19:23:28 2008  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/matrix.rb: shut up warning. [ruby-dev:37481] [Bug #899]\n\nSat Dec 13 08:35:14 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_canonicalization): renamed.\n\n\t* ext/math/complex.c: followed the above change.\n\n\t* rational.c (nurat_canonicalization): renamed.\n\n\t* ext/math/rational.c: followed the above change.\n\n\t* configure.in: defines a new macro.\n\nWed Dec 17 15:44:28 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_pop_m): use enum ary_take_pos_flags.\n\n\t* array.c (rb_ary_push_m): add modification check before actual\n\t  operation.   [ruby-dev:37440]\n\nWed Dec 17 15:35:39 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* configure.in (OBJDUMP, OBJCOPY): \n\t  Also BSD's ports prefixes GNU binutils with 'g'.\n\nWed Dec 17 11:39:39 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/bigdecimal/test_bigdecimal.rb (TestBigDecimal#test_hash):\n\t  shut up warning.  see [ruby-dev:37437]\n\nWed Dec 17 11:01:35 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_hash): gets rid of collisions between differen\n\t  encoding strings.  [ruby-core:20526]\n\nTue Dec 16 22:55:11 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bin/testrb: set $0.\n\nTue Dec 16 21:59:02 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (VpToString): reverted modification\n\t  (that caused a bug) in r20359.  [ruby-dev:37370]\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_limit): comment update.\n\t  [ruby-dev:37465]\n\nTue Dec 16 22:42:16 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/test/unit.rb (Test::Unit.setup_argv): sorry, fixed wrong commit.\n\nTue Dec 16 21:59:29 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/test/unit.rb (Test::Unit.setup_argv): ALT_SEPARATOR support.\n\nTue Dec 16 20:24:20 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (_parse): m17n compliant.\n\nTue Dec 16 19:43:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c: use strlcpy for error messages.\n\nTue Dec 16 16:41:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): returns dispatched result.\n\n\t* parse.y (primary): also in ripper, saves in_def before restoring.\n\nTue Dec 16 12:30:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ac_cv_header_ucontext_h): do not use ucontext.h on Mac\n\t  OS X 10.5 or later.  merged from MacPorts.\n\n\t* configure.in (ac_cv_func_daemon): daemon(3) is deprecated on Mac OS\n\t  X 10.5 or later.\n\nTue Dec 16 11:37:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (set_arg0): use strlcpy() instead of strncpy().\n\n\t* load.c (rb_feature_p): ditto.\n\n\t* dln.c (dln_load): ditto.\n\nTue Dec 16 09:14:28 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (block_call): block should not be given to yield.\n\t  [ruby-core:20583]\n\nMon Dec 15 23:48:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (sleep_timeval): cast tv_usec to long to shut up\n\t  warnings on OSX.  [ruby-dev:37449]\n\nMon Dec 15 23:29:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (process_options): revive global sub, gsub, chop, chomp\n\t  only when auto looping options (-p/-n) is specified.\n\t  [ruby-core:20570]\n\nMon Dec 15 21:01:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/pty/pty.c (chfunc): make it static.\n\nMon Dec 15 20:16:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (EXTMK_ARGS): shouldn't use ``\\\"'' because cmd.exe eat\n\t  ''\\'' in such quotes.\n\nMon Dec 15 19:07:31 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.h): define CANONICALIZATION_FOR_MATHN\n\t  to follow r20683.\n\nMon Dec 15 18:12:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rake/packagetask.rb (Rake::PackageTask): small document\n\t  update from okkez in [ruby-dev:37443]\n\nMon Dec 15 16:26:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_callee_setup_arg_complex): uses cfp from\n\t  blockptr instead of the current cfp.  [ruby-core:20544]\n\nWed Dec 17 09:50:19 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_metaclass.rb: removed codes for my debugging.\n\t  sorry. [ruby-dev:37470]\n\nMon Dec 15 14:56:59 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_metaclass.rb: new test case for metaclass hierarchy.\n\n\t* class.c (make_metametaclass): new function. extracted from\n\t  rb_make_metaclass.\n\n\t* class.c (rb_make_metaclass): uses make_metametaclass when called for a\n\t  metaclass.\n\n\t* class.c (rb_singleton_class): creates a meta^(n+2)-class in\n\t  addition to a meta^(n+1)-class when called for a meta^(n)-class.\n\t  This is because the returned meta^(n+1) class must acts as an instance of \n\t  Class, metaclass of Class, ..., meta^(n+1)-class of Class,\n\t  Module, metaclass of Module, ..., meta^(n+1)-class of Module,\n\t  Object, metaclass of Object, ..., meta^(n+2)-class of Object,\n\t  BasicObject, metaclass of BasicObject, ..., meta^(n+2)-class of\n\t  and BasicObject even when Class, Module, Object or BasicObject has\n\t  not have its meta^(i)-class yet. \n\nMon Dec 15 15:13:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* id.h, template/id.h.tmpl (ruby_method_ids): sees YYTOKENTYPE too.\n\t  [ruby-dev:37436]\n\nMon Dec 15 15:02:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (EXTMK_ARGS): needs MINIRUBY for cross-compile.\n\t  [ruby-core:20131]\n\nMon Dec 15 14:39:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_eval.c (vm_call0): NODE_ZSUPER supported.  [ruby-core:20480]\n\n\t* vm_eval.c (vm_call_super): uses method_missing().\n\n\t* vm_eval.c (method_missing): get rid of too large alloca.\n\n\t* vm_eval.c (rb_call0, method_missing): uses idMethodMissing.\n\n\t* vm_method.c (rb_add_method, remove_method, rb_undef): uses\n\t  id__send__.\n\n\t* vm_method.c (Init_eval_method): removed IDs which are defined as\n\t  immediate values.\n\nMon Dec 15 11:35:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (vm_backtrace): defaults to script name for C functions.\n\nMon Dec 15 11:32:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (rubylib_mangled_path, rubylib_mangled_path2): cannot use\n\t  locale encoding before load path is initialized\n\n\t* ruby.c (ruby_init_loadpath_safe): ditto.\n\n\t* ruby.c (process_options): loads encdb so that encodings can be\n\t  loaded, then associates script name and load paths with the\n\t  locale encoding.\n\nSun Dec 14 14:26:11 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/README: directory structrue changed\n\nSun Dec 14 01:35:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (forked_child): new variable.\n\t  (before_exec): don't call rb_thread_stop_timer_thread if\n\t  forked_child.\n\t  (after_exec): reset forked_child after rb_thread_start_timer_thread.\n\t  (rb_fork): set forked_child just after fork in child.\n\n\t* ext/pty/pty.c (chfunc): extracted from establishShell.\n\t  (establishShell): use rb_fork.\n\n\t  [ruby-dev:37418]\n\nSat Dec 13 18:34:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_printable): wrong condition for string iteration.\n\nSat Dec 13 15:52:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_equal): remove documentation error \"Otherwise,\n\t  compares them as strings\".  [ruby-dev:37398]\n\nSat Dec 13 15:55:37 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ruby.c (process_options): fixed default_internal is nil.\n\t  (closes #862)\n\nSat Dec 13 13:03:20 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: use rb_usascii_str_new2 instead of rb_str_new2.\n\n\t* rational.c: ditto.\n\nFri Dec 12 22:12:46 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c, rational.c: do not use RUBY_VERSION_CODE.\n\nFri Dec 12 10:20:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* complex.c, rational.c: do not use RUBY_VERSION_CODE.\n\nTue Dec 16 12:41:52 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* configure.in (OBJDUMP, OBJCOPY): \n\t  (darwin) MacPorts prefixes GNU binutils with 'g'.\n\nSun Dec  7 23:17:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (LIBRUBY_SO): localizes non-public symbols.\n\n\t* configure.in (OBJDUMP, OBJCOPY): for dealing with binary files.\n\nMon Dec 15 10:00:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (btest-ruby): use RUNRUBY instead of MINIRUBY to load the\n\t  shared library.  [Bug #849]\n\nSun Dec 14 09:14:37 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* reverts r20713.\n\nSat Dec 13 22:17:30 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (help): describes more targets.\n\t  based on a patch by Michael Klishin. [ruby-core:20523].\n\nSat Dec 13 16:04:48 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* encoding.c (default_external): endless recursion during\n\t  loading a locale encoding on some locale.\n\t  fixed by Nobuyoshi Nakada.\n\n\t* string.c (sym_inspect): quote if symbol contains non-printable\n\t  characters.  [ruby-dev:37398]\n\nSat Dec 13 14:24:38 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/enc/test_utf16.rb: feature changed in r20626.\n\t  follows it.\n\nSat Dec 13 13:41:44 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_m17n_comb.rb: feature changed in r20626.\n\t  follows it.\n\nSat Dec 13 12:48:57 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_m17n.rb: feature changed in r20626.\n\t  follows it.\n\nSat Dec 13 12:38:16 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/minitest/test.rb (MinTest::Unit#location): \n\t  skips user-defined assertions as MiniTest's.\n\t  e.g. for test/ruby/test_m17n.rb.\n\nWed Dec 10 12:56:32 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_rewind): If the enclosed object\n\t  responds to a \"rewind\" method, call it; cf. [ruby-dev:37268]\n\nSat Dec 13 09:17:33 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/minitest/*.rb: Imported minitest 1.3.1 r4503.\n\t* test/minitest/test_mini_test.rb: ditto.\n\t* lib/miniunit/autorun.rb: added (as part of r4503).\n\t\nSat Dec 13 01:10:03 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/readline.c\n\t  (readline_s_get_completion_append_character): uses locale\n\t  encoding but not ASCII-8BIT.\n\nFri Dec 12 19:24:47 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (run, runruby, parse, gdb, gdb-ruby): you can also run\n\t  other scripts than $(srcdir)/test.rb.\n\nFri Dec 12 19:13:43 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/readline.c (readline_readline): changed the message\n\t  of IOError to 'closed stdin' from 'stdin closed' if stdin was\n\t  closed.\n\nFri Dec 12 11:00:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_feature_p): load path must be expanded.\n\t  [ruby-dev:37388]\n\nFri Dec 12 10:19:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_string_value_ptr, rb_to_id): do not use a side\n\t  effect expression in RSTRING_PTR.\n\n\t* string.c (rb_str_split_m): simplified the argument of\n\t  RSTRING_LEN.\n\nThu Dec 11 23:48:00 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/cmath.rb (sqrt): should pass nan to the original method.\n\nThu Dec 11 19:31:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit/assertions.rb: extracted from lib/test/unit.rb.\n\t  lib/test/unit/testcase.rb: ditto.\n\t  at asakusa.rb.  [ruby-core:20014]\n\nThu Dec 11 19:23:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_io.rb (test_dup_many): extracted from test_dup.\n\t  test in ruby subprocess.  at asakusa.rb.  [ruby-dev:35648]\n\nThu Dec 11 19:16:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pathname.rb (Pathname#=~): undefed.  at asakusa.rb.\n\t  [ruby-core:19690]\n\nThu Dec 11 13:09:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (reg_enc_error): raise EncodingCompatibilityError for\n\t  encoding incompatibility.  [ruby-core:18600]\n\n\t* re.c (rb_reg_prepare_enc): more consistent error message.\n\t  [ruby-core:18611]\n\nFri Dec 12 19:29:07 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* encoding.c (rb_enc_set_default_external): default_internal can be\n\t  nil, but default_external cannot.\n\n\t* encoding.c (rb_set_default_internal): adds rdoc.\n\n\t* encoding.c (enc_find): ditto.\n\nFri Dec 12 14:09:55 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* encoding.c (enc_get_default_encoding): removed.\n\t  Generalizing rb_default_{external,internal}_encoding seems to be\n\t  difficult. \n\t  default_external cannot be NULL even before detected. [ruby-dev:37390]\n\n\t* encoding.c (rb_default_external_encoding): has its own\n\t  implementation again.\n\n\t* encoding.c (rb_default_internal_encoding): ditto.\n\n\t* gem_prelude.rb: added notice.\n\n\t* ruby.c (rubylib_mangled_path, rubylib_mangled_path2): uses locale\n\t  encoding but not ASCII-8BIT.\n\n\t* ruby.c (process_options): refers less to default_external.\n\nThu Dec 11 20:05:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_aliases_enc_i): skips default internal.\n\nThu Dec 11 13:36:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_set_default_encoding): allowed to set default\n\t  encoding.\n\n\t* encoding.c (rb_locale_encoding): removed Encoding::LOCALE.\n\n\t* encoding.c (rb_enc_set_default_external): ditto.\n\n\t* encoding.c (rb_enc_set_default_internal): ditto.\n\n\t* encoding.c (rb_enc_set_default_internal): defines internal\n\t  encoding as nil.\n\nThu Dec 11 10:25:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_bignum.rb (TestBignum#test_convert): remove\n\t  platform dependent call of Process.wait.  coverage should be\n\t  accomplished by other method.  [ruby-dev:36062]\n\nThu Dec 11 10:18:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/document.rb (REXML::Document#write): require\n\t  rexml/formatters/transitive if transitive flag is on.  a patch\n\t  from akira yamada in [ruby-dev:36230].  fix #553\n\n\t* lib/rexml/element.rb (REXML::Element#write): ditto.\n\n\t* lib/rexml/formatters/transitive.rb (REXML::Formatters::Transitive#write_element): \n\t  add hack for IE.  [ruby-dev:36230]\n\nThu Dec 11 02:37:22 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (domain_check): should not raise EDOM exception for NaN\n\t  value if operand is also NaN.  affects acos, asin, acosh, atanh,\n\t  log, log2, log10, sqrt, gamma, lgamma. [ruby-dev:37357]\n\nThu Dec 11 01:21:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (rb_mutex_unlock): shut up warning.  a patch from\n\t  Kazuhiro NISHIYAMA in [ruby-dev:37345]. fix #846\n\nWed Dec 10 23:58:56 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: avoided warnings on cpp. [ruby-dev:37344]\n\n\t* rational.c: ditto.\n\nWed Dec 10 12:46:52 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_next): Fix a typo: s/rewinded/rewound/.\n\n\t* lib/prime.rb (Prime::OldCompatibility#each): Ditto.\n\nWed Dec 10 11:25:53 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): raise RegexpError when encoding\n\t  is dummy encoding. [ruby-dev:37091]\n\nTue Dec  9 18:35:35 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans, cp850-tbl.rb, cp852-tbl.rb,\n\t  cp855-tbl.rb, koi8-r-tbl.rb, koi8-u-tbl.rb, tis-620-tbl.rb:\n\t  new single-byte transcodings (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi), small cosmetic fixes\n\nTue Dec  9 13:33:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each), gc.c (assign_heap_slot),\n\t  (gc_mark_children), parse.y (vtable_alloc, vtable_free, vtable_add),\n\t  proc.c (proc_to_s), thread.c (terminate_i, rb_thread_terminate_all),\n\t  (thread_start_func_2, blocking_region_begin, blocking_region_end),\n\t  (rb_thread_kill), thread_pthread.c (native_thread_create),\n\t  (ubf_pthread_cond_signal), vm.c (check_env, thread_free), vm_dump.c\n\t  (vm_env_dump_raw, vm_stack_dump_each, vm_thread_dump_state),\n\t  (vm_call0): use void pointer for %p.\n\n\t* cont.c (fiber_status), template/insns.inc.tmpl (ruby_vminsn_type),\n\t  vm_insnhelper.h (BOP): ISO C forbids comma at end of enumerator\n\t  list.\n\n\t* vm_insnhelper.c (check_cfunc): use function pointer.\n\nTue Dec  9 12:08:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* .gdbinit (rp): fixed typo for T_STRUCT.\n\nTue Dec  9 03:21:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: fix for continued lines.  based on a patch from\n\t  Marcus Rueckert <darix AT opensu.se> at [ruby-core:20420].\n\nFri Dec  5 22:56:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_make_exception): single argument to raise may be\n\t  string compatible object.\n\nTue Dec  9 00:54:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot (package): enc.mk in snapshot is dummy and should\n\t  not deal with objects.  [ruby-core:20422]\n\nTue Dec  9 00:17:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend (clean-srcs): split out from clean.\n\nMon Dec  8 23:34:18 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* pack.c (pack_pack): fixed odd act of 'm*', 'M*', and 'P*'.\n\t  just ignores '*' in these cases.\n\t  [ruby-dev:37289]\n\nMon Dec  8 18:31:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_pack): fixed length for odd length string.\n\t  [ruby-dev:37283]\n\nMon Dec  8 10:32:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (set_option_encoding_once): dry.\n\n\t* ruby.c (proc_options): checks extra argument for -E/--encoding.\n\nSun Dec  7 23:47:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LIBPATHFLAG): use numbered specifier if RPATHFLAG\n\t  is set.  [ruby-talk:322136]\n\nSat Dec  6 17:51:35 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* pack.c (pack_pack): 'u0' is not special differently from 'm0'.\n\nTue Dec  9 11:50:46 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* pack.c (pack_pck): fixed [ruby-dev:37295]. \n\t  Array#pack always has returned an US-ASCII string when\n\t  the given format ended with 'u', 'M' or 'm'.\n\nSat Dec  6 14:35:06 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* pack.c (pack_pack): set US-ASCII and CODERANGE_7BIT\n\t  when quoted-printable ('M') and base64 ('m').\n\t  [ruby-dev:37284]\n\n\t* pack.c (pack_unpack): ditto.\n\nThu Dec 11 11:51:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_locale_encoding): removed Encoding::LOCALE.\n\n\t* encoding.c (rb_enc_set_default_external): ditto.\n\n\t* encoding.c (rb_enc_set_default_internal): ditto.\n\nThu Dec 11 11:11:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/st.h (size_t): needs stddef.h or stdlib.h.\n\t  [ruby-core:20339]\n\nWed Dec 10 01:28:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (win32.obj): depend on headers.\n\nSat Dec  6 18:33:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot (package): added RM and CP.  [ruby-dev:37288]\n\nFri Dec  5 21:45:45 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c (nurat_{to_s,inspect}): performance improvement.\n\nFri Dec  5 21:42:44 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: inpsect should not depend on to_s.\n\nFri Dec  5 12:38:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_set_sequence): uses rb_compile_warning() for\n\t  warning at compilation time.\n\nFri Dec  5 12:35:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (ruby_iseq_compile, ruby_iseq_translate_threaded_code),\n\t  (ruby_insns_name_array, ruby_iseq_build_from_ary): prefixed with\n\t  ruby_.\n\n\t* iseq.c (ruby_iseq_load, ruby_insn_make_insn_table): ditto.\n\nFri Dec  5 10:01:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_cmp_m): fixed rdoc.  pointed out by <Thomas\n\t  C. Mitchell AT gmail.com> at [ruby-talk:321967]\n\nFri Dec  5 07:58:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_binwrite): arg.offset should be updated after retry.\n\nFri Dec  5 03:29:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_get_load_path): returns the load path without\n\t  touching.\n\n\t* load.c (rb_feature_provided): new function to return the loading\n\t  path in addition to rb_provided().\n\n\t* load.c (search_required): sets path if loading.\n\n\t* variable.c (autoload_provided): load paths are expanded to check\n\t  if loading.\n\n\t* variable.c (autoload_node): keeps autoload mark while loading.\n\t  [ruby-core:20235]\n\n\t* variable.c (rb_const_get_0): loops while autoload mark is set.\n\nFri Dec  5 01:19:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): propagate taint status from format string to\n\t  result string.\n\nThu Dec  4 23:02:13 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/default.mspec: follows changes in rubyspec project.\n\t  inherits configurations from ruby.1.9.mspec.\n\nThu Dec  4 22:13:55 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* test/ruby/test_complex.rb: added some tests.\n\n\t* test/ruby/test_rational.rb: ditto.\n\nFri Dec  5 18:13:56 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_read, rb_w32_write, rb_w32_isatty): check\n\t  whether fd is valid.\n\nThu Dec  4 23:31:12 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (waitpid): fix bug of checking child slot.\n\n\t* win32/win32.c (FindChildSlotByHandle): new.\n\nThu Dec  4 16:58:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rubygems/validator.rb (Gem#remove_leading_dot_dir): make\n\t  this method private.  a patch from okkez in [ruby-dev:37245]\n\nThu Dec  4 16:16:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/gserver.rb: fixed type in sample code.  a report from Oleg\n\t  Puchinin.\n\nThu Dec  4 14:54:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rubygems/local_remote_options.rb (Gem#add_update_sources_option): \n\t  little documentation fix.  a patch from okkez.  [ruby-dev:37271]\n\nThu Dec  4 13:56:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/curses/curses.c (window_getch): avoid ISPRINT() macro which\n\t  has an issue with OpenSolaris.  [ruby-core:20189]\n\n\t* ext/curses/curses.c (curses_getch): no ISPRINT(). [ruby-core:20294]\n\n\t* signal.c (ruby_signal): EINVAL from sigaction(2) is not a bug.\n\nThu Dec  4 11:38:40 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* vm_method.c (rb_obj_respond_to): Remove a duplicated rdoc\n\t  comment and fix a markup error.\n\nThu Dec  4 06:04:16 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/menu.rb: TkOptionMenubutton.new fails to treat \n\t  'parent' and 'variable' options on a Hash argument.\n\nThu Dec  4 05:06:47 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: bug fix. use ::RubyVM instead of ::VM \n\t  [ruby-list:45676]\n\n\t* ext/tk/tcltklib.c: update RELEASE_DATE\n\nThu Dec  4 01:37:47 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nurat_{to_s,inspect}): provides better representation\n\t  for in-finite imag part.\n\nThu Dec  4 01:22:41 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (f_signbit): NaN may be signed value.\n\nWed Dec  3 22:54:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (expr): keyword_not can continue across newline.\n\t  [ruby-core:20252]\n\nWed Dec  3 14:48:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/tcltklib.c (ip_ruby_cmd, ip_invoke_with_position): must\n\t  not access internal union directly.  [ruby-list:45670]\n\nWed Dec  3 12:24:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getc, rb_io_readchar): documentation correction from\n\t  Emiel van de Laar.  [ruby-core:20212]\n\n\t* ext/stringio/stringio.c (strio_readchar): ditto.\n\nWed Dec  3 09:26:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/xpath.rb (REXML::XPath.first): apply documentation\n\t  patch from Ken Bloom in [ruby-core:20213].\n\n\t* lib/rexml/xpath.rb (REXML::XPath.each): ditto.\n\nWed Dec  3 02:53:24 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_range.rb: add a test.\n\nWed Dec  3 02:26:07 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_string.rb: add some tests.\n\nMon Dec  1 12:00:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cont.c (rb_fiber_start): calls with exact argument number.\n\t  [ruby-core:20088]\n\nMon Dec  1 16:06:15 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* signal.c (register_sigaltstack): no need to define on non-sigaltstack\n\t  platform.\n\nSun Nov 30 21:41:10 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/rake.1: new manual page\n\nSat Nov 29 23:56:44 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/irb.1 (EXAMPLES): new section\n\nSat Nov 29 19:19:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regparse.c (is_invalid_quantifier_target): Perl and old Ruby\n\t  accepts quantifier on anchors.  [ruby-core:20161]\n\nSat Nov 29 00:18:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* cont.c (fiber_alloc): separate allocation and initialization.\n\t  allow subclass to override #initialize.   [ruby-core:20086]\n\nFri Nov 28 18:31:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getaddrinfo): refactored to remove\n\t  code duplication regarding getaddrinfo.\n\n\t* ext/socket/socket.c (sock_getaddrinfo): should have updated for\n\t  Mac OS X.  a patch from Shumpei Akai in [ruby-dev:37234]\n\nThu Nov 27 21:41:29 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* strftime.c (rb_strftime): should add padding for %%.\n\nThu Nov 27 16:32:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (register_sigaltstack): stores alt stack for debug\n\t  purpose.\n\nThu Nov 27 16:12:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (ruby_sigaction_t): added.\n\nThu Nov 27 15:59:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (ruby_stack_check): no check if using sigaltstack.\n\n\t* signal.c (ALT_STACK_SIZE): default minimum size is insufficient\n\t  for method calls.\n\n\t* signal.c (sigsegv): handles stack overflow if possible.\n\n\t* thread.c (ruby_thread_stack_overflow): helper function to raise\n\t  sysstack_error.\n\n\t* thread_pthread.c (ruby_stack_overflowed_p): checks for stack\n\t  overflow.\n\nWed Nov 26 23:15:47 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* strftime.c (STRFTIME): use rb_strftime() recursively, instead of\n\t  platform's strftime().\n\nWed Nov 26 22:46:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (VpException): bigdecimal zero\n\t  division should raise FloatDomainError if mode\n\t  VP_EXCEPTION_ZERODIVIDE is set.  [ruby-dev:37204]\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_mode): should handle\n\t  VP_EXCEPTION_ZERODIVIDE.\n\nWed Nov 26 15:16:07 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* ext/gdbm/gdbm.c (rb_gdbm_nextkey): fix memory leak.\n\nWed Nov 26 03:17:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_to_r): raise exception\n\t  for nan/inf conversion.  [ruby-dev:37187] fix #793\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_to_i): ditto.\n\nWed Nov 26 03:00:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (VpAlloc): avoid ALLOCA_N() to avoid\n\t  segmentation fault caused by (insanely) long decimal values.\n\t  [ruby-dev:37189] fix #794\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_dump, BigDecimal_to_i,\n\t  BigDecimal_to_f, BigDecimal_to_s, BigDecimal_split,\n\t  BigDecimal_inspect): ditto.\n\n\t* ext/bigdecimal/bigdecimal.c (VpToString): small performance\n\t  improvement.\n\nWed Nov 26 00:26:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* strftime.c (STRFTIME): should add padding for %[xXrR] etc.\n\t  [ruby-dev:37185] fix: #792\n\nTue Nov 25 16:26:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_times): taint (and untrust) status should be\n\t  inherited by \"ary * 0\".  [ruby-dev:37024]\n\nTue Nov 25 15:54:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): should not swallow incomplete\n\t  formatter, e.g. \"%E\".  [ruby-dev:37170] fix: #787\n\n\t* strftime.c (rb_strftime): clear flags before processing unknown\n\t  formatter, e.g. \"%i\".  [ruby-dev:37180]\n\nTue Nov 25 10:35:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): \"%^P\" should convert to upper case.\n\t  [ruby-dev:37180]\n\nTue Nov 25 07:51:18 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* strftime.c (FMT): use \"%0d\" formatter for zero padding, not \"%.d\".\n\t  [ruby-dev:37168]  fix: #768\n\n\t* strftime.c (rb_strftime): %s to use zero padding by default.\n\t  [ruby-dev:37180]\n\nTue Nov 25 03:37:42 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/blt/tabset.rb, \n\t  ext/tk/lib/tkextlib/blt/tabnotebook.rb: \n\t  fix many bugs. Now, those work properly.\n\nTue Nov 25 03:26:04 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (num_step): treat infinite step specially.\n\t  [ruby-dev:37157] fix: #781.\n\nTue Nov 25 01:23:25 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (strftime): ignores '_' flag for %[LN].\n\nSat Nov 29 00:27:33 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* thread.c, thread_pthread.c, thread_win32.c: merges nobu's commits - \n\t  r20117, r20123, r20124, r20127, r20132-r20134, r20138, r20140, r20141 \n\t  and r20160 - from trunk into ruby_1_9_1.\n\n\t* thread_pthread.c (thread_timer): checks working flags again.\n\n\t* thread_pthread.c (rb_thread_create_timer_thread): do not wait never\n\t  coming signal if failed to create tiemr thread.\n\n\t* thread_pthread.c (native_cond_timedwait): returns error code.\n\n\t* thread_pthread.c (thread_timer, rb_thread_create_timer_thread):\n\t  handshakes properly.\n\n\t* thread_pthread.c (thread_timer): initializes mutex each time.\n\n\t* thread_win32.c (thread_start_func_1): use already gotten stack info.\n\n\t* thread.c (thread_timer): pthread_cond_timedwait returns ETIMEDOUT\n\t  when timed out.\n\n\t* thread_pthread.c (thread_timer): uses pthread_cond_timedwait always\n\t  instead of pthread_kill.\n\n\t* thread.c (thread_timer): uses timedwait on cygwin.\n\n\t* thread.c (rb_thread_stop_timer_thread): terminates timer thread\n\t  immediately.\n\nTue Nov 25 00:08:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_fork): stops the timer thread during fork.\n\t  [ruby-dev:37117]\n\n\t* thread.c (rb_thread_start_timer_thread): timer thread needs\n\t  system_working to be set.\n\nMon Nov 24 23:27:28 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): The # flag should work with %a, %A, %b,\n\t  %B, and %h.  [ruby-dev:37162]\n\n\t* test/ruby/test_time.rb (test_strftime): ditto.\n\nMon Nov 24 23:16:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (register_sigaltstack): should not add external\n\t  variable (with some cosmetic changes).  [ruby-dev:37158]\n\nMon Nov 24 22:57:25 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): A width specifier for %t and %n should\n\t  work.  [ruby-dev:37160]\n\nMon Nov 24 22:07:07 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): The precision of %0N should be 9.\n\t  [ruby-dev:37156]\n\n\t* test/ruby/test_time.rb (test_strftime): ditto.\n\nMon Nov 24 21:38:23 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): The default precision should be 1, not\n\t  0.  [ruby-dev:37155]\n\n\t* test/ruby/test_time.rb (test_strftime): ditto.\n\nMon Nov 24 18:35:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/time.rb: r20251 reverted.  The patched behavior do not round\n\t  trip.  [ruby-core:19988]\n\nSun Nov 23 16:04:05 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* signal.c (default_handler, Init_signal): compile error if\n\t  USE_SIGALTSTACK is not defined.\n\nSun Nov 23 13:39:49 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ext/pty/pty.c: reverts 20326. [ruby-dev:37146].\n\nSat Nov 22 23:59:06 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/time.rb: reverts r20305. [ruby-dev:37144].\n\nSat Nov 22 18:24:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_world_writable_p): should return nil for non\n\t  world-writable files.\n\nSat Nov 22 10:31:25 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/blt.rb, ext/tk/lib/tkextlib/blt/vector.rb: \n\t  fix NameError bug.\n\nSat Nov 22 03:41:22 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/pty/pty.c (get_device_once): abandon asynchronous exception\n\t  that might cause serious problem if a program terminated early.\n\t  asynchronous exception is a very bad thing anyway.  use\n\t  Process.waitpid(pid) or PTY.check(pid) to poll program\n\t  termination. if PTY.check is called with optional second\n\t  argument being true, it raises an exception same as one from\n\t  previous behavior.  [incompatible] fix: [ruby-core:19583]\n\nFri Nov 21 22:17:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (usage): -W description updated.  [ruby-core:19858]\n\nSat Nov 22 23:03:47 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* signal.c (ALT_STACK_SIZE): 4KB is not enough on Mac OS X.\n\t  Uses SIGSTKSZ.\n\nFri Nov 21 21:50:54 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (register_sigaltstack): use alternative stack for\n\t  SIGSEGV to avoid uncaught stack overflow. based on a patch from\n\t  Hiro Yoshioka <hyoshiok at miraclelinux.com> in [ruby-dev:37134].\n\t  [ruby-dev:36993]\n\nFri Nov 21 16:06:54 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm.c (thread_free): th->vm may be NULL when pthread_create\n\t  failed for ENOMEM.  [ruby-dev:37095]\n\nThu Nov 20 07:33:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/logger.rb (Logger): should handle the case that cvs/svn do\n\t  not expand $Id keyword.  [ruby-core:19991]\n\nThu Nov 20 07:27:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/minitest/unit.rb (MiniTest::Assertions#capture_io): adjust\n\t  indentation to shut up warning.  [ruby-core:19993]\n\nWed Nov 19 17:48:05 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (rb_syck_mktime): return DateTime for a value\n\t  out of range of Time.   [ruby-core:19919]\n\nSat Nov 22 21:29:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_method.rb (test_default_accessiblity): test case for\n\t  [ruby-dev:37124].\n\nWed Nov 19 14:14:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* node.h (NOEX_MODFUNC): should be include NOEX_PRIVATE. \n\t  [ruby-dev:37124]\n\nWed Nov 19 03:01:04 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb: fixed fails occasionally [ruby-dev:37119].\n\t  thanks, shinichiro.h.\n\nWed Nov 19 02:39:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (Init_syserr): moved function definition itself from\n\t  template/known_errors.inc.tmpl.\n\nWed Nov 19 01:10:52 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRbConn::alive?): fixed NoMethodError problem\n\t  from NaHi [ruby-dev:37110].\n\nWed Nov 19 01:05:26 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* cont.c (cont_mark, cont_capture, cont_restore_1): speed up\n\t  continuation by copying only valid YARV stack.  [ruby-dev:37106]\n\nWed Nov 19 00:03:13 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/time.rb: according to RFC2822, -0000 means local time, +0000\n\t  means UTC.  a patch from Chun Wang.   [ruby-core:19578]\n\nTue Nov 18 23:02:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (proc_eq): equivalence check should not done by pointer\n\t  comparison, but should be based on iseq contents.   [ruby-dev:37101]\n\nTue Nov 18 20:30:08 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/ftp.rb (Net::FTP#open_socket): SOCKSsocket is obsolete.\n\t  a patch from Alan Johnson <alan.wayne.johnson at gmail.com> in\n\t  [ruby-core:19982].\n\nTue Nov 18 16:18:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/logger.rb (ProgName): fixed for svn, based on a patch from\n\t  Nobuhiro IMAI at [ruby-dev:37108].\n\nTue Nov 18 15:56:55 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPRequest#read_request_line): \n\t  use possessive match for path retrieval to avoid huge recursion\n\t  for insanely long path.\n\nTue Nov 18 15:50:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_desc): re might be NULL.\n\n\t* regerror.c (onig_error_code_to_format): message updated.\n\nTue Nov 18 09:42:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::make_switch): makes default\n\t  conversion to splat.  [ruby-list:45645]\n\nMon Nov 17 18:05:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend (LIBS): fixed for disable-shared.  [ruby-dev:37103]\n\nMon Nov 17 11:12:24 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* bin/erb: remove -K option.\n\nMon Nov 17 02:19:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LIBRUBYARG_STATIC): fixed for --enable-rpath.\n\nSat Nov 15 22:46:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_regsub): returns -1 unless ascii as well as\n\t  rb_enc_ascget().  [ruby-dev:37097]\n\nSat Nov 15 22:23:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LDSHARED): do not suppress debug info if higher debug\n\t  level is given, on cygwin and mingw.\n\nThu Nov 13 11:31:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_barrier_wait): gets rid of recursive deadlock.\n\nThu Nov 13 06:08:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_barrier_{new,wait,release,destroy}): use Mutex so that\n\t  circular requires fail with deadlock.  [ruby-core:19821]\n\nWed Nov 12 07:16:01 2008  David Flanagan  <david@think32>\n\n\t* ruby.c (set_internal_encoding_once): fix typo in error string\n\nWed Nov 12 03:30:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_{external,locale}_str_new_cstr): optimized\n\t  versions for literal strings.\n\nWed Nov 12 03:28:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_require_safe): destroys barrier after successfully\n\t  loaded, to get rid of loading same library again.  [ruby-core:19798]\n\n\t* thread.c (rb_barrier_wait): can not wait destroyed barrier.\n\n\t* thread.c (rb_barrier_destroy): destroys barrier so that no longer\n\t  waited.\n\nTue Nov 11 21:22:28 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic#check_path): REL_PATH should a\n\t  symbol.  [ruby-core:19805]\n\nTue Nov 11 23:02:27 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/ruby.1 (RUBYOPT): wrote which option can appear.\n\t  (--yydebug): wrote \"do not use\".\n\t  (--dump): wrote \"do not use\".\n\nTue Nov 11 20:49:29 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* configure.in: fix SEGV on Mac OS X 10.5.3 with pthread.\n\t  a patch from Wataru Kimura in Bug #193 [ruby-core:17333].\n\nTue Nov 11 23:24:23 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ruby.c: merges r20053 and r20067 from trunk into ruby_1_9_1.\n\n\t* ruby.c (moreswitches): splits option string and passes arguments.\n\n\t* ruby.c (proc_options): checks if allowed in RUBYOPT.\n\n\t* ruby.c (process_options): allows long style options in RUBYOPT.\n\n\t* ruby.c (load_file_internal): ditto in shebang.  [ruby-dev:36979]\n\n\t* ruby.c (process_options): delays setting safe level.\n\t  [ruby-dev:36997]\n\nTue Nov 11 23:36:45 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_accept): commit miss.\n\nTue Nov 11 23:02:27 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/ruby.1 (RUBYOPT): wrote which option can appear.\n\t  (--yydebug): wrote \"do not use\".\n\t  (--dump): wrote \"do not use\".\n\nTue Nov 11 14:40:40 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: unnecessary setup method\n\t  (setup_really_needed?) removed\n\nTue Nov 11 14:25:25 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans, macgreek-tbl.rb, macroman-tbl.rb,\n\t  macromania-tbl.rb, macturkish-tbl.rb, macukraine-tbl.rb,\n\t  ibm437-tbl.rb, ibm852-tbl.rb, ibm855-tbl.rb, ibm857-tbl.rb,\n\t  ibm860-tbl.rb, ibm861-tbl.rb, ibm862-tbl.rb, ibm863-tbl.rb,\n\t  ibm865-tbl.rb, ibm866-tbl.rb, ibm869-tbl.rb, ibm775-tbl.rb:\n\t  new single-byte transcodings (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi)\n\nTue Nov 11 13:20:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_to_r): moved from\n\t  bigdecimal/util, converted into C.  [ruby-dev:36805]\n\nTue Nov 11 07:55:57 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (inspect): changed the format.\n\nMon Nov 10 17:34:50 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/sdbm/test_sdbm.rb (TestSDBM#test_index): Reflect the method\n\t  name change from #index to #key and remove a duplicated test\n\t  method.\n\nMon Nov 10 10:50:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator.delegating_block): should not refer\n\t  DelegateClass specific @delegate_dc_obj.  a patch from Erik\n\t  Hollensbe in [ruby-core:19671].\n\nSun Nov  9 13:04:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_initialize_m): avoid unnecessary array\n\t  allocation.\n\nSun Nov  9 04:10:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_dump.c (control_frame_dump): suppresses finished method name.\n\nSun Nov  9 00:02:01 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/session/pstore.rb: fix indentation.\n\nSat Nov  8 23:47:45 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/session.rb (FileStore): use marshalized data.\n\n\t* test/cgi/session_dir: add a session directory in test.\n\n\t* test/cgi/test_cgi_session.rb: add a test. \n\nSat Nov  8 21:57:03 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/session.rb: remove debug code. \n\nSat Nov  8 21:33:53 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/session.rb: fix indentation. \n\nSat Nov  8 18:11:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#do_CONNECT):\n\t  use #bytesize instead of #size.  a patch submitted from\n\t  raspberry lemon in  [ruby-core:18571].\n\n\t* lib/webrick/httpauth/digestauth.rb, lib/webrick/httpproxy.rb,\n\t  lib/webrick/httprequest.rb, lib/webrick/httpservlet/cgi_runner.rb,\n\t  lib/webrick/httpservlet/abstract.rb, lib/webrick/httpresponse.rb,\n\t  lib/webrick/httpservlet/cgihandler.rb, lib/webrick/utils.rb: ditto.\n\nSat Nov  8 17:31:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_ungetc): ungetc position should\n\t  not be changed from 1.8.   [ruby-core:19632]\n\nSat Nov  8 17:15:08 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#make_switch): 1.9 Symbols respond\n\t  to :match.  a patch from keith cascio, <keith at ucla.edu>.\n\t  [ruby-core:19730]\n\nSat Nov  8 12:10:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/gdbm/gdbm.c (fgdbm_index): make #index warn like Hash.\n\t  [ruby-dev:37039]\n\n\t* ext/sdbm/init.c (Init_sdbm): typo fixed.  [ruby-dev:37039]\n\nSat Nov  8 07:07:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: detect stdio buffer pointers for uClibc.  a patch\n\t  from Brian Candler <B.Candler at pobox.com> in [ruby-core:12020].\n\t  [ruby-core:19713]\n\nSat Nov  8 06:51:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dbm/dbm.c (fdbm_index): make #index warn like Hash.\n\n\t* ext/dbm/dbm.c (fdbm_key): new method.\n\n\t* ext/sdbm/init.c: ditto.\n\nSat Nov  8 06:20:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/curses/curses.c: curses encoding should obey locale.\n\n\t* ext/curses/curses.c (curses_getch): 1.9 getch should return one\n\t  character string for single byte string.  wchar_t support may\n\t  follow in the future.\n\nSat Nov  8 05:46:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/io.h (rb_io_t): added write_lock to serialize.\n\t  [ruby-core:19668]\n\n\t* gc.c (gc_mark_children): mark write_lock.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): Mutex also needs to be\n\t  deferred.\n\n\t* io.c (io_fflush, io_binwrite, fptr_finalize): serializes writing.\n\nTue Nov 11 17:37:47 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_accept): secure fd before accept because if\n\t  error causes in securing, cannot restore the state of accepted\n\t  socket.\n\t  fixed [ruby-core:19728]\n\nSat Nov  8 05:31:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* safe.c (safe_setter): add warning for $SAFE=3.\n\nFri Nov  7 22:51:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* inits.c (rb_call_inits): do not repeat.\n\nFri Nov  7 12:26:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb.rb (IRB::Irb#eval_input): remove extra  @context.prompt_i.\n\t  [ruby-core:19718]\n\nFri Nov  7 11:55:30 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* nkf.c: update to r1.188. fixes for 16bit environment.\n\nFri Nov  7 07:32:55 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: support Rational and Complex as 1.8\n\t  does.  a patch from Hiroshi Moriyama in [ruby-dev:36899].\n\nFri Nov  7 06:58:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (Init_String): remove Symbol#===.  [ruby-dev:37026]\n\nFri Nov  7 02:00:12 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/rexml/entity.rb (unnormalized): do not call\n\t  document.record_entity_expansion if document is nil.\n\t  see <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=502535>.\n\t  Thanks, Naohisa Goto.\n\n\t* test/rexml/test_document.rb: ditto.\n\nFri Nov  7 01:24:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: binary encoding spec is no longer needed in 1.9.\n\nMon Nov 10 09:56:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (ifs_open_socket): should retry without proto_buffer\n\t  if cannot find the suitable protocol. a patch from Heesob Park.\n\t  fixed [ruby-core:19713]\n\nThu Nov  6 22:05:36 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fole_s_connect, fole_initialize,\n\t  folevariant_initialize): check argument type of WIN32OLE.connect,\n\t  WIN32OLE.new, WIN32OLE_VARIANT.new.\n\n\t* test/win32ole/test_win32ole.rb (test_s_new_exc, test_s_connect_exc):\n\t  ditto.\n\n\t* test/win32ole/test_win32ole_variant.rb (test_s_new_exc): ditto.\n\n\t* test/win32ole/test_win32ole_method.rb: add assertion of\n\t  WIN32OLE_METHOD.new.\n\nTue Nov  4 08:00:00 2008  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* test/zlib/test_zlib.rb(test_readchar): compare in same type.\n\nTue Nov  4 03:28:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_join): do not repeat self in a recursive array.\n\t  [ruby-dev:37019]\n\nTue Nov  4 01:56:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_mutex_synchronize): fixed prototype.\n\n\t* thread.c (rb_mutex_synchronize): fixed function name.\n\nMon Nov  3 16:32:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing.h: needs RUBY_EXTERN instead of extern for mswin.\n\nSat Nov  1 07:09:40 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb:  Don't require rubygems/defaults.rb.\n\nMon Nov  3 13:01:13 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* array.c (rb_ary_take_first_or_last): renamed rb_ary_partial more\n\t  appropriately.\n\t  (ary_take_pos_flags): new enum. makes the fourth argument of\n\t  rb_ary_take_first_or_last more descriptive.\n\t  (rb_ary_partial): renamed rb_ary_partial0 more appropriately.\n\t  takes a new parameter klass for what class to instanciate.\n\nMon Nov  3 13:00:26 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* range.c (rb_range_beg_len): rb_raise takes C values as arguments.\n\t  [BUG] ranges turned into other value in a message of RangeError.\n\nMon Nov  3 06:41:19 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_event_free): invoke IConnectionPoint::Unadvise\n\t  before invoking IConnectionPoint::Release.\n\n\t* test/win32ole/test_win32ole_event.rb, test/win32ole/err_in_callback.rb,\n\t  test/win32ole/test_err_in_callback.rb, \n\t  test/win32ole/test_win32ole_variant_outarg.rb,\n\t  test/win32ole/orig_data.csv: Use ActiveX Data Object\n\t  Library instead of InternetExplorer.\n\t  remove test/win32ole/test_win32ole_variant_with_ie.rb.\n\nSun Nov  2 16:41:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (Init_zlib): defines readbyte instead redefining\n\t  readchar.\n\nFri Oct 31 21:58:50 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/converter.rb (RSS::Converter): use String#encode.\n\nFri Oct 31 18:05:05 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans, maccroatioan-tbl.rb,\n\t  maccyrillic-tbl.rb, maciceland-tbl.rb: new single-byte\n\t  transcodings (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi)\n\nFri Oct 31 12:51:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_globs): need taint check.  reported by steve\n\t  <oksteev at gmail.com>\n\nFri Oct 31 12:42:45 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* array.c (rb_ary_decrement_share): fix to work recycling\n\t  shared-array without the following.  [ruby-dev:36991]\n\n\t* array.c (ary_make_substitution): don't recycle substitution array.\n\nFri Oct 31 11:35:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_set_default_internal): no alias \"internal\" if\n\t  defalt internal is not set.  [ruby-dev:37000]\n\nFri Oct 31 21:28:14 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/webrick/httpauth/digestauth.rb\n\t  (WEBrick::HTTPAuth::DigestAuth#initialize): fix typo.\n\nFri Oct 31 18:51:42 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_array.rb (test_array_subclass): test for r20076.\n\nFri Oct 31 18:42:19 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* array.c (ary_partial0): recovers the mistakenly change feature at r19723.\n\t  Array#[m,n] had returned an Array even for an instance of a\n\t  subclass.\n\nFri Oct 31 12:27:52 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/default.mspec: supports that the build directory != srcdir.\n\nThu Oct 30 23:32:17 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/test_delegate.rb (test_syscallerror_eq): ignored because the\n\t  behaviour is now unspecified.\n\nThu Oct 30 21:32:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_permutation): hide temporal array.\n\nThu Oct 30 14:45:45 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans: refactoring to make it easier\n\t  to add more transcodings (with Yoshihiro Kambayashi)\n\n\t* enc/trans/iso-8859-1-tbl.rb: new file to avoid having to\n\t  treat ISO-8859-1 as special\n\nThu Oct 30 14:10:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): templates a, A, Z should propagate encoding\n\t  of original strings.  templates b, B, h, H brings ASCII-8BIT to\n\t  the result.\n\nThu Oct 30 09:31:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_locale_encoding): makes an alias for locale.\n\t  [ruby-dev:36976]\n\n\t* encoding.c (rb_enc_set_default_external): ditto for external.\n\n\t* encoding.c (rb_enc_set_default_internal): ditto for internal.\n\nThu Oct 30 03:30:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (load_file_internal): should not set script encoding to\n\t  ASCII-8BIT.\n\n\t* ruby.c (load_file_internal): do not auto convert scripts even\n\t  when default_internal is set.  [ruby-core:19579]\n\nThu Oct 30 02:20:33 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_sort_bang): remove SEGV when replacing array with\n\t  embedded one during sort.  [ruby-dev:36983]\n\n\t* test/ruby/test_array.rb (test_sort!): add tests for above.\n\nThu Oct 30 01:44:23 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb: add some tests.\n\nThu Oct 30 01:32:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_splice): remove redundant check.\n\nThu Oct 30 01:24:55 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (rb_str_cmp): fix condition which always returned true\n\t  because ENCODING_GET returns unsigned long.\n\nThu Oct 30 01:10:32 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb (test_permutation): add a test that replaces\n\t  array during permutation.\n\nWed Oct 29 23:31:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_check_dummy_enc): new function to check dummy\n\t  encoding.\n\n\t* string.c (rb_str_upcase_bang): case conversion functions should\n\t  not be applicable to strings in dummy encoding.  [ruby-dev:36985]\n\nWed Oct 29 23:57:29 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_sort_bang): replacing array during sort broke\n\tinvariant of array.  [ruby-dev:36983]\n\nWed Oct 29 21:06:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_rewind): should reset fptr->readconv if it's\n\t  available.\n\n\t* io.c (more_char): clear readconv at EOF.\n\n\t* test/ruby/test_file.rb: should not read after EOF.  use rewind\n\t  instead.\n\nWed Oct 29 20:45:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/webrick/utils.rb (start_server): provide a reference to log of\n\t  webrick.\n\n\t* test/webrick/test_httpproxy.rb, test/webrick/test_httpauth.rb,\n\t  test/webrick/test_cgi.rb, test/webrick/test_httpserver.rb,\n\t  test/webrick/test_server.rb, test/webrick/test_filehandler.rb: use\n\t  webrick log as an assertion message.\n\nWed Oct 29 16:41:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_pack): set encoding from packing string and UTF-8 for\n\t  \"U\".  [ruby-core:19590]\n\nWed Oct 29 15:50:00 2008  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* complex.c (imp1, imp2): should declare type.\n\t  [BUG] at IA-64\n\nWed Oct 29 14:36:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (revision.h): have to be updated daily or by non-trivial\n\t  commits.\n\nWed Oct 29 13:18:02 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* README, README.ja: Update the portability section.\n\nWed Oct 29 13:02:17 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* configure.in (rb_cv_lib_xpg4_needed): Drop legacy FreeBSD\n\t  support regarding libxpg4.  Those old versions of FreeBSD\n\t  shipped with the library don't have a working pthread library\n\t  anyway.\n\nWed Oct 29 11:50:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (dln-a-out): cannot make shared library nor work with\n\t  ELF.  [ruby-core:19571]\n\nWed Oct 29 11:01:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_open): shouldn't seek here.\n\n\t* win32/win32.c (rb_w32_write): write to the end of the file when\n\t  FAPPEND is specified.\n\nWed Oct 29 09:30:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file_internal): cache common interned IDs.\n\nWed Oct 29 00:43:39 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: uses macro in declarations.\n\nWed Oct 29 00:29:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_open): need to seek to the end of the file when\n\t  O_APPEND is specified.\n\nWed Oct 29 00:08:05 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* math.c (rb_math_{atan2,cos,cosh,hypot,log,sin,sinh,sqrt}): added.\n\n\t* complex.c: follows the above change.\n\nTue Oct 28 23:29:06 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (kanji_convert): output unicode chars.\n\t  [ruby-dev:36957]\n\n\t* ext/nkf/nkf-utf8/nkf.c (numchar_getc): increase buffer size.\n\t  reported and patched at [ruby-dev:36957] by mame.\n\nTue Oct 28 23:03:46 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_proc.rb: filled all patterns for testing\n\t  vm_yield_setup_args.\n\nTue Oct 28 23:05:35 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: continues to support canonicalization *unofficially*\n\t  for an odd library mathn for the time being (only 1.9.x).\n\t  since grand mathn must be very very special library for us.\n\n\t* rational.c: ditto.\n\n\t* ext/mathn/*/*: follow the above changes.\n\nTue Oct 28 21:31:55 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* parse.y (parser_yylex): check EOF explicitly.\n\nTue Oct 28 21:11:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (extract_binmode): new function to extract binmode/textmode\n\t  options from hash.\n\n\t* io.c (rb_io_extract_modeenc): use above function.\n\n\t* io.c (rb_io_s_pipe): recognize binmode/textmode options.\n\n\t* io.c (make_readconv): now can specify the size of cbuf.\n\n\t* io.c (read_all, appendline, io_getc, rb_io_ungetc): follow above\n\t  change.\n\n\t* win32/win32.c (rb_w32_pipe_exec): internal fds should be always\n\t  binmode.\n\nTue Oct 28 17:22:35 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/make-snapshot.rb: merged back from trunk.\n\nTue Oct 28 16:43:05 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/make-snapshot.rb: had returned wrong sizes for generated\n\t  archives.\n\nTue Oct 28 12:42:28 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/make-snapshot.rb (package): did not accept tagnames with the\n\t  prefix \"previewN\"\n\nTue Oct 28 12:06:07 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/rubygems/test_gem.rb (@default_dir_re): considers \n\t  --program-suffix and prefix configure options.\n\nTue Oct 28 11:06:48 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* version.h: set 1.9.1 into Ruby's version number.\n\nTue Oct 28 10:42:50 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* gem_prelude.rb: considers --program-suffix and prefix configure\n\t  options.\n\n\t* lib/rubygems/defaults.rb: ditto.\n\nTue Oct 28 09:51:48 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bootstraptest/test_thread.rb: ignore some exceptions.\n\t  [ruby-dev:36951]\n\nTue Oct 28 09:19:40 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (RUNRUBY): now ruby requires something from\n\t  gem_prelude, so need to set library path.\n\nMon Oct 27 22:29:11 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* vm_insnhelper.c (vm_yield_setup_args): supports optional parameters.\n\t  Fixed [ruby-core:19503].\n\n\t* vm_insnhelper.c (vm_yield_setup_block_args): a new function. extracted\n\t  from vm_yield_setup_args.\n\n\t* vm_insnhelper.c (vm_yield_setup_block_args_complex): ditto.\n\n\t* test/ruby/test_proc.rb: added tests for arguments on a Proc from\n\t  Kernel#proc called.\n\nMon Oct 27 20:03:05 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/mathn/complex/complex.c: no need to define rb_cComplex because\n\t  it's already defined at $(srcdir)/complex.c.\n\n\t* ext/mathn/rational/rational.c: no need to define rb_cRational because\n\t  it's already defined at $(srcdir)/rational.c.\n\nMon Oct 27 15:58:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file): preserves $..  [ruby-dev:36937]\n\n\t* io.c (argf_init): initial value of $. should be 0.\n\t  see [ruby-dev:36937].\n\nMon Oct 27 15:38:38 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/minitest/test_mini_test.rb\n\t  (test_assert_raises_triggered_different): the test failed when a\n\t  file path in the backtrace contontains something except [\\w\\/\\.],\n\t  e.g. hyphen, Japanese characters or backslash.\n\n\t* test/minitest/test_mini_test.rb\n\t  (test_assert_raises_triggered_subclass): ditto.\n\nMon Oct 27 15:32:08 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/minitest/test_mini_test.rb: fixed that r19958 made\n\t  test-all fail when the ruby was built at $(srcdir).\n\nMon Oct 27 12:04:58 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/envutil.rb: reverted the changeset 19948 because it\n\t  concealed unexpected behaviours of ruby.\n\n\t* test/ruby/test_io.rb: ditto.\n\nMon Oct 27 12:02:53 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* ext/nkf/nkf.c (rb_nkf_convert): should specify type of variable.\n\nMon Oct 27 11:34:56 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/minitest/test_mini_test.rb (test_filter_backtrace):\n\t  fixed failure on Ruby built at out of $(srcdir).\n\n\t* test/minitest/test_mini_test.rb (test_Filter_backtrace_unit_starts):\n\t  ditto.\n\nMon Oct 27 10:02:47 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (read_all): the 3rd argument maybe Qnil.\n\nMon Oct 27 01:29:55 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/nkf/test_nkf.rb: add a test for [ruby-dev:36909].\n\nMon Oct 27 01:05:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_convert): avoid GC.\n\t  reported in [ruby-dev:36909] and patched [ruby-dev:36941] by mame.\n\nSun Oct 26 21:28:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/json/test_json.rb: remove dependency on permutation gem.\n\nSun Oct 26 19:18:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (blocking_region_{begin,end}): declared as inline.\n\n\t* util.c (freedtoa): used only when MULTIPLE_THREADS is not defined.\n\n\t* win32/win32.c (rb_w32_pipe): serial is DWORD.\n\n\t* ext/etc/etc.c (sGroup): getgrent may not be available.\n\nSun Oct 26 18:11:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/io/wait/{extconf.rb,wait.c}: needs sys/ioctl.h for fcntl on\n\t  cygwin.\n\nSun Oct 26 18:18:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gem_prelude.rb: disables debug and verbose flags to suppress failure\n\t  messages.  interpolation does not occur inside single quotes.\n\nSun Oct 26 18:42:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/envutil.rb (assert_in_out_err): disables builtin rubygems\n\t  to get rid of the interference.\n\n\t* test/ruby/test_io.rb (ruby): ditto.\n\nSun Oct 26 13:30:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (read_all): use the given buffer to read when needs readconv.\n\t  based on the patch by wanabe <s.wanabe AT gmail.com> at\n\t  [ruby-dev:36931].\n\nSun Oct 26 07:57:35 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*:  Update to RubyGems 1.3.1 r1909.\n\nSun Oct 26 07:35:56 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/minitest/unit.rb: Imported minitest 1.3.0 r4429.\n\t* test/minitest/*: ditto.\n\nSun Oct 26 02:16:29 2008  Yuki Sonoda (Yugui)   <yugui@yugui.jp>\n\n\t* configure.in ($MANTYPE): followed ruby.1, which had moved.\n\n\t* instruby.rb (:man): ditto.\n\n\t* mdoc2man.rb: fixed for the case Xr with 2 arguments.\n\nSun Oct 26 01:42:45 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/irb.1: new manual page.\n\nSun Oct 26 00:11:48 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/ruby.1: moved into man/. added some descriptions.\n\n\t* man/goruby.1: new file.\n\n\t* instruby.rb (:man): followed ruby.1.\n\nSat Oct 25 20:05:22 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (gc_profile_result): bug fix. The millisecond is 1/1000.\n\nSat Oct 25 11:12:40 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ruby.c (usage): updated the description of -E option.\n\nSat Oct 25 09:54:10 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb:  Fixed a bug in read_to_char() that would slurp\n\t  whole files if the encoding was invalid.  It will now read\n\t  up to 10 bytes ahead to find a valid character boundary or\n\t  give up.  [ruby-core:19465]\n\n\t* test/csv/test_features.rb, test/csv/test_table.rb, test/csv/test_row.rb:\n\t  Loosened some tests to check for a compatible? Encoding instead\n\t  of an exact Encoding.  [ruby-core:19470]\n\nSat Oct 25 07:42:49 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc*: Update to RDoc 2.2.2 r192.\n\nSat Oct 25 04:00:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/us_ascii.c (us_ascii_mbc_enc_len): made static.  a patch by\n\t  Tadashi Saito <shiba AT mail2.accsnet.ne.jp> at [ruby-dev:36916]\n\n\t* signal.c (signal_buff): made static.  a patch by Tadashi Saito\n\t  <shiba AT mail2.accsnet.ne.jp> at [ruby-dev:36915]\n\n\t* util.c (freedtoa): made static to get rid of name clash.  a patch by\n\t  Tadashi Saito <shiba AT mail2.accsnet.ne.jp> at [ruby-dev:36913]\n\n\t* util.c (ruby_dtoa): added prefix, ditto.\n\nSat Oct 25 03:43:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (lambda): need to adjust lpar_beg for both of the parser and\n\t  ripper.\n\nSat Oct 25 01:29:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/mathn/rational/rational.c: undef duplicated macro definition\n\t  first to shut up the warning.\n\n\t* ext/mathn/rational/rational.c (rb_rational_new_mathn): specify\n\t  omitted return value.\n\nSat Oct 25 00:14:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sample): fixed sizes and randomness.\n\nFri Oct 24 23:04:42 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* configure.in (sitedir): considers --program-prefix and\n\t  --program-suffix.\n\t  (vendordir): ditto.\n\t  (rubyhdrdir): ditto.\n\n\t* mkconfig.rb (CONFIG[\"rubylibdir\"]): ditto.\n\n\t* win32/Makefile.sub: ditto.\n\n\t* instruby.rb (:rdoc): ditto.\n\n\t* lib/rdoc/ri/paths.rb (RDoc::RI::Paths): ditto.\n\nFri Oct 24 22:59:27 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb (test_sample): add tests for size of\n\t  returned array and randomness.\n\nFri Oct 24 21:50:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* id.h, template/id.h.tmpl (enum ruby_method_ids): reordered.\n\nFri Oct 24 21:19:45 2008  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* ext/mathn/rational.c: change several global functions.\n\nFri Oct 24 21:05:38 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/html.rb: allow symbolized key.\n\n\t* test/cgi/test_cgi_tag_helper.rb: add a test.\n\nFri Oct 24 20:54:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (exts): renamed to get rid of the existent directory.\n\nFri Oct 24 20:45:41 2008  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* ext/mathn/rational.c: change several global functions to static\n\t  function.\n\nFri Oct 24 19:57:19 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_dump): should have removed commented out\n\t  unnecessary code.  [ruby-cvs:27131]\n\nFri Oct 24 19:16:36 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* id.h (enum ruby_method_ids): ISO C forbids comma at end of\n\t  enumerator list.\n\nFri Oct 24 18:29:00 2008  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/mathn.rb: moved into ext/mathn/rational/rational.c and\n\t  ext/mathn/complex/complex.c.\n\t* ext/mathn: new mathn ext-libralies.\n\nFri Oct 24 18:21:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_array.rb (TestArray#test_join): should restore\n\t  global variable after the test.  [ruby-dev:36896]\n\n\t* test/ruby/test_hash.rb (TestHash#test_to_s): ditto.\n\nFri Oct 24 17:43:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (lambda): need to adjust lpar_beg for ripper as well.\n\t  [ruby-dev:36702]\n\nFri Oct 24 16:13:12 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (read_multipart): change field value as String\n\t  from StringIO or Tempfile when multipart parse except file field.\n\t  add files method that can get uploaded files. [ruby-dev:36547]\n\n\t* test/cgi/test_cgi_multipart.rb: fix the test for core.rb.\n\nFri Oct 24 14:22:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (ext): split out the target for extension library.\n\n\t* common.mk (encs): depends on enc and trans.\n\nFri Oct 24 10:23:24 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_signal.rb (TestSignal#test_exit_action): Thread\n\t  may terminate before sysread. [ruby-dev:36835]\n\nThu Oct 23 22:06:23 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* distruby.rb: removed. \"make dist\" uses tool/make-snapshot for the 1.9\n\t  series. distruby.rb has been no longer used.\n\nThu Oct 23 17:30:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* class.c (rb_class_instance_methods): rdoc fixed.  [ruby-core:19458]\n\nThu Oct 23 16:19:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/init.rb (IRB.load_modules): catch LoadError explicitly.\n\t  a patch from Daniel Berger <Daniel.Berger at qwest.com> in\n\t  [ruby-core:19451].  fix [ruby-core:19450]\n\nThu Oct 23 16:16:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyport): check if the port range.\n\t  [ruby-core:19460]\n\nThu Oct 23 14:08:07 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyname): unuse unnecessary\n\t  object.\n\n\t* ext/socket/socket.c (sock_s_getservbyport): the port should be\n\t  converted before the proto so that the #to_int of the former cannot\n\t  alter the latter.\n\nThu Oct 23 10:55:08 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_dump): use \\u{ff} escape for UTF-8 encoding\n\t  string.\n\nThu Oct 23 09:26:22 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyport): cast to get rid of\n\t  warning.\n\nThu Oct 23 08:06:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyport): port should be\n\t  network byte order.  a patch from Dave Thomas in [ruby-core:19454].\n\nThu Oct 23 01:26:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_conv_enc_opts): new function to convert with\n\t  specifying ecflags and ecopts.\n\n\t* ext/zlib/zlib.c (gzfile_newstr): specify ecflags and ecopts for\n\t  conversion using above function.\n\n\t* ext/zlib/zlib.c (gzfile_newstr): use own rb_econv_t for dummy\n\t  encoding to handling stateful encoding (e.g. iso-2022-jp).\n\t  [ruby-dev:36857]\n\n\t* ext/zlib/zlib.c (gzfile_getc): ditto.\n\nThu Oct 23 01:24:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_tmpsrc): get rid of side effects.\n\nThu Oct 23 00:10:01 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: separate data structure between rb_fiber_t and\n\t  rb_context_t (rb_fiber_t includes rb_context_t).\n\t  rb_fiber_t has double linked list of fibers in same threads.\n\nWed Oct 22 17:25:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (pipe_open): remove unnecessary flush before fork.\n\t  a patch from Kazuhiro NISHIYAMA <zn at mbf.nifty.com>\n\t  in [ruby-dev:36840].\n\nWed Oct 22 16:27:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_yield_setup_args): should not drop arguments\n\t  corresponding to default paramters.\n\nWed Oct 22 14:59:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_larglist): should not allow semicolon separated local\n\t  variable declarations if formal argument list is not surrounded\n\t  by parentheses, mostly because semicolon outside of parentheses\n\t  appears to terminate the expression.\n\nWed Oct 22 14:52:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_external_str_new_with_enc): no implicit strlen call.\n\t  [ruby-dev:36854]\n\n\t* string.c (rb_external_str_new_cstr): new function to create\n\t  string from external NUL terminated C string.\n\n\t* string.c (rb_locale_str_new_cstr): ditto.\n\n\t* ext/readline/readline.c: now use rb_locale_str_new_cstr().\n\n\t* test/sdbm/test_sdbm.rb (TestSDBM#test_delete_with_block):\n\t  deleted key to the block may be a copy of specified key.\n\n\t* test/dbm/test_dbm.rb (TestDBM#test_delete_with_block): ditto.\n\nWed Oct 22 13:16:47 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (unescape_escaped_nonascii): back out the last change on\n\t  the function.  [ruby-dev:36818]\n\nWed Oct 22 07:09:19 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (rb_gzreader_ungetc): should be able to unget\n\t  Fixnum.\n\n\t* ext/stringio/stringio.c (strio_ungetc): should convert unget\n\t  string.\n\n\t* ext/stringio/stringio.c (strio_ungetbyte): new method.\n\nWed Oct 22 05:46:25 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/vm.h: write a comment.\n\n\t* common.mk: remove vm.h from any rules.\n\t  vm.h is not needed on this version.\n\n\t* vm_core.h: ditto.\n\nWed Oct 22 05:39:39 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y (arg_concat_gen): concat target node should be NODE_ARRAY.\n\t  [ruby-core:19413]\n\n\t* bootstraptest/test_method.rb: add tests.\n\nWed Oct 22 00:29:13 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb (test_core_03_notify): Fixed test failures\n\t  [ruby-dev:36837].\n\nWed Oct 22 00:22:06 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_external_str_new_with_enc): wrong condition to\n\t  calculate strlen().\n\n\t* ext/readline/readline.c: add encoding support.\n\nTue Oct 21 23:12:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_write): should convert writing\n\t  string to the encoding of the buffer.\n\n\t* hash.c (rb_any_hash): typo fixed.\n\n\t* ext/zlib/zlib.c (rb_gzwriter_write): oops, IO string conversion\n\t  need to be done by to_s.\n\nTue Oct 21 22:38:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (open_key_args): should adjust argc, argv in struct\n\t  foreach_arg.\n\nTue Oct 21 21:52:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (rb_gzwriter_write): conversion should be done\n\t  using to_str, not to_s.\n\n\t* ext/zlib/zlib.c (rb_gzwriter_write): need proper conversion\n\t  according to gz encoding.\n\n\t* ext/zlib/zlib.c (rb_gzreader_ungetc): convert string encoding\n\t  before unget.\n\nTue Oct 21 21:33:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit.rb (assert_nothing_raised): raise with backtrace.\n\nTue Oct 21 20:12:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (assert_nothing_raised): set backtrace.\n\nTue Oct 21 18:17:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c: remove obsolete prototype macros.\n\n\t* ext/zlib/zlib.c (struct gzfile): add encoding field to gzfile\n\t  structure.\n\n\t* ext/zlib/zlib.c (rb_gzreader_getc): now works on characters.\n\n\t* ext/zlib/zlib.c (rb_gzreader_getbyte): new method to retrieve\n\t  single byte.\n\n\t* ext/zlib/zlib.c (rb_gzreader_readbyte): ditto.\n\n\t* ext/zlib/zlib.c (rb_gzreader_each_byte): renamed from each_char\n\n\t* ext/zlib/zlib.c (rb_gzreader_ungetc): allow unget strings.\n\n\t* ext/zlib/zlib.c (rb_gzreader_ungetbyte): renamed from ungetc.\n\nTue Oct 21 13:28:42 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* io.c, include/ruby/intern.h (rb_io_ascii8bit_binmode): externed.\n\n\t* ext/socket/socket.c (init_sock): use rb_io_ascii8bit_binmode()\n\t  instead of rb_io_binmode().\n\nTue Oct 21 13:17:39 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* mdoc2man.rb: moved into tools/.\n\n\t* instruby.rb: followed the change of mdoc2man.\n\nTue Oct 21 11:34:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (strip_glibc_option, map_charset): check if\n\t  encoding is a string.  based on the patch by Hiroshi Moriyama at\n\t  [ruby-dev:36811].\n\n\t* test/iconv/test_basic.rb (test_invalid_arguments): added tests.\n\nTue Oct 21 10:40:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_file_open_internal): should initialize fmode before using.\n\nTue Oct 21 08:56:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regparse.c (parse_char_class): CCV_SB is only for single\n\t  byte.  [ruby-dev:36786]\n\nTue Oct 21 01:49:55 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_extract_modeenc): plain rb/wb should set ASCII-8BIT\n\t  to the external_encoding.\n\n\t* io.c (rb_file_open_internal): ditto.\n\n\t* io.c (NEED_WRITECONV): no conversion when the external_encoding\n\t  is ASCII-8BIT.\n\n\t* io.c (do_writeconv): skip ASCII-8BIT.\n\nTue Oct 21 00:51:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_ascii8bit_binmode): renamed from rb_io_binmode.\n\t  (rb_io_binmode): don't change encoding conversion.\n\t  (rb_io_binmode_m): call rb_io_ascii8bit_binmode.\n\nMon Oct 20 21:19:00 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (read_multipart): file's encoding is ascii-8bit\n\t  from file field of multipart form.\n\nMon Oct 20 20:16:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (Init_zlib): add getbyte as an alias to getc.\n\t  [ruby-dev:36801]\n\nMon Oct 20 17:31:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (exc_equal): should not compare recursively.\n\t  [ruby-dev:36796]\n\nMon Oct 20 16:48:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/ruby.h (ExportStringValue): new macro to convert\n\t  string in internal encoding to external to export.\n\n\t* string.c (rb_str_export): new function to do conversion to\n\t  external encoding.\n\n\t* ext/sdbm/init.c: encoding conversion support.\n\n\t* ext/dbm/dbm.c: ditto.\n\nMon Oct 20 15:42:02 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_locale_str_new): new function to convert string\n\t  from locale to internal encoding.\n\nMon Oct 20 09:47:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/runner.rb: search srcdir/test/arg at first to find test/ruby\n\t  directory when \"ruby\" is specified.\n\nMon Oct 20 08:20:01 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: support Encoding.default_internal.\n\n\t* ext/tk/tcltklib.c: ditto.\n\n\t* ext/tk/extconf.rb: improve the strategy for searching Tcl/Tk headers.\n\nMon Oct 20 00:57:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (Test::Unit.setup_argv): call given block for\n\t  filtering files.\n\n\t* test/runner.rb: search srcdir/test/arg, srcdir/arg.\n\n\t* bin/testrb: show usage if no files given.\n\nSun Oct 19 21:19:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (srcs): removed ID_H_TARGET.\n\n\t* tool/generic_erb.rb: always overwrites if no if-change option.\n\t  sends the result to stdout if no output option.\n\n\t* template/id.h.tmpl: shows which token differs.\n\nSun Oct 19 18:15:15 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans: adding WINDOWS-wwww encodings\n\t  (wwww = 874/1250/1251/1253/1254/1255/1256/1257)\n\t  (contributed by Yoshihiro Kambayashi)\n\n\t* enc/trans/windows-wwww-tbl.rb: 8 new files\n\t  (contributed by Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added test_windows_wwww\n\t  (contributed by Yoshihiro Kambayashi)\n\nSun Oct 19 07:37:13 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/cmath.rb (log2,cbrt,frexp,ldexp,hypot,erf,erfc,gamma,lgamma):\n\t  should be also provided as module function.  [ruby-dev:36787]\n\nSun Oct 19 07:25:08 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* keywords, lex.c.src, opt_insn_unif.def, opt_operand.def: moved rarely changed\n\t  input files for code generators into defs/ directory.\n\n\t* Makefile.in (lex.c): followed keywords and lex.c.src.\n\n\t* common.mk (parser.o): followed keywords.\n\t  (INSNS): followed opt_*.def\n\n\t* tools/instruction.rb: followed opt_*.def.\n\nSun Oct 19 12:28:01 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* test/csv/*:  Renamed tc_* files to test_* to fit in within Ruby's\n\t  testing process.\n\nSun Oct 19 00:15:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (assert_nothing_thrown): don't intern.\n\nSat Oct 18 14:40:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (num_sadded): remove newly defined singleton method\n\t  that should not exist after exception handling.  [ruby-dev:36569]\n\nSat Oct 18 14:27:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (opt_block_arg): allow trailing comma after usual\n\t  arguments.  not after block argument.\n\nSat Oct 18 13:30:53 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_external_str_new): a new function to convert from\n\t  external encoding to internal encoding.  if something went\n\t  wrong, it returns a string with the external encoding.\n\n\t* string.c (rb_external_str_new_with_enc): same as above besides\n\t  you can specify the source encoding.\n\n\t* ruby.c (ruby_set_argv): use rb_external_str_new()\n\n\t* ruby.c (set_arg0, ruby_script): ditto.\n\nSat Oct 18 04:08:18 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tempfile.rb (Tempfile#initialize): now Tempfile.new takes\n\t  keyword arguments to open().  [ruby-dev:36756]\n\nSat Oct 18 17:10:10 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* tool/transcode-tblgen.rb: added set_valid_byte_pattern\n\t  to reduce coupling between table generation script and\n\t  specific encodings.\n\n\t* enc/trans/single_byte.trans: using set_valid_byte_pattern\n\nSat Oct 18 16:39:39 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c: in transcode_search_path, eliminated a warning\n\t  on cygwin about pathlen potentially not being initialized\n\nSat Oct 18 13:40:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (assert_nothing_thrown): implemented.\n\nSat Oct 18 01:33:22 2008  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* common.mk: use added options for generic_erb.rb.\n\nSat Oct 18 00:47:51 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* array.c: don't recycle shared-array while sort!.\n\nFri Oct 17 22:04:38 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* array.c: recycle shared-array when it isn't referenced.\n\nFri Oct 17 20:29:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize_m): specify ARG_ENCODING_NONE instead of\n\t  ARG_ENCODING_FIXED for Regexp.new(\"\", nil, \"n\").  [ruby-dev:36761]\n\n\t* test/ruby/test_regexp.rb (TestRegexp#test_initialize): test\n\t  updated.\n\nFri Oct 17 19:46:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/ifchange, win32/ifchange.bat: --timestamp option added.\n\n\t* tool/generic_erb.rb: --timestamp, --output and --if-change options\n\t  added.\n\nFri Oct 17 18:33:12 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* array.c (ary_resize_capa): renamed RESIZE_CAPA.\n\nFri Oct 17 18:16:51 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/bigdecimal/test_bigdecimal.rb (TestBigDecimal#test_sqrt_bigdecimal):\n\t  test updated.  a patch from TAKANO Mitsuhiro <takano32 at jus.or.jp> in\n\t  [ruby-dev:36736].\n\nFri Oct 17 18:14:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (uncommon.mk): ignores failures at loading.\n\n\t* test/rubygems/gemutilities.rb (RubyGemTestCase#build_rake_in):\n\t  get rid of interference with other tests.\n\nFri Oct 17 18:06:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c (str_transcode0): String#encode without argument now\n\t  behave as if :undef => :replace, :invalid => :replace specified.\n\n\t* transcode.c (rb_econv_prepare_opts): should preserve options in\n\t  any case.\n\nFri Oct 17 11:48:18 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/socket/socket.c (init_sock): sockets should be binmode.\n\n\t* test/socket/test_tcp.rb (test_encoding): ditto.\n\nFri Oct 17 10:26:13 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* tool/insns2vm.rb: remove -Kn option in shebang line because it's\n\t  inconsistent with -Ks commandline option in common.mk.\n\nFri Oct 17 01:26:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_restartable0): in_pos and out_pos never be\n\t  NULL, now.\n\nFri Oct 17 00:39:19 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/test/unit.rb: sort the order of executing tests.\n\nFri Oct 17 00:24:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_binmode): reset encoding conversion.\n\nFri Oct 17 00:16:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (rb_getc, rb_io_fread, rb_io_fwrite, rb_read_pending):\n\t  remove deprecated functions which do not work.  [ruby-dev:36697]\n\nThu Oct 16 23:48:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk (TESTS): removed to re-enable test for minitest.\n\nThu Oct 16 23:37:11 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_set_sequence): fix memory leak.\n\nThu Oct 16 23:27:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (assert_equal): avoid incompatible character\n\t  encodings error.\n\nThu Oct 16 23:23:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (assert_equal): failure message changed.\n\nThu Oct 16 22:52:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit: removed test/unit.\n\n\t* lib/test/unit.rb: new compatibility layer using minitest.\n\n\t* bin/testrb: use above.\n\n\t* test/runner.rb: ditto.\n\nThu Oct 16 14:34:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, enc/depend (enc, trans): targets for sources.\n\nThu Oct 16 14:30:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (lib): installs all files other than README etc.\n\nThu Oct 16 09:48:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize_m): changed the message to clarify the\n\t  third option argument is now ignored.  [ruby-dev:36753]\n\nThu Oct 16 08:14:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (proc_options): no warning when default_external already\n\t  set by -E.\n\n\t* test/ruby/test_rubyoptions.rb (TestRubyOptions#test_rubyopt):\n\t  put -K after -E to set script encoding.\n\nThu Oct 16 06:20:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_transcode.rb (TestTranscode#test_errors):\n\t  String#encode now works without any argument. [ruby-dev:36740]\n\nWed Oct 15 23:48:22 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* .gdbinit (rp): REGEXP handling fixed.\n\n\t* string.c (rb_str_rindex_m): need not to call rb_enc_check on\n\t  regexp.\n\n\t* re.c (unescape_escaped_nonascii): try ASCII-8BIT encoding for\n\t  broken strings.\n\nWed Oct 15 23:11:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (DelegateClass): restored 1.8 behavior for\n\t  DelegateClass as well.  [ruby-dev:36739]\n\nWed Oct 15 22:19:14 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* array.c (RESIZE_CAPA): check whether len is longer than capacity.\n\n\t* array.c (rb_ary_compact_bang): resize ary before changing capacity.\n\t  fixed [ruby-dev:36704]\n\nWed Oct 15 16:57:30 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* version.h (RUBY_DESCRIPTION): remove unnecessary space.\n\nTue Oct 14 23:18:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator): simplified and restored 1.8\n\t  behavior.  [ruby-dev:35986]\n\nTue Oct 14 21:50:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (TESTS): skips minitest by default, since it interferes\n\t  with test/unit.\n\nTue Oct 14 21:36:29 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (load_conv_function51932): check\n\t  having IMultiLanguage2 or IMultiLanguage. [ruby-dev:36716]\n\n\t* ext/win32ole/extconf.rb: ditto.\n\nTue Oct 14 20:45:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (Init_IO): $FILENAME and $* must be read-only.  [ruby-dev:36698]\n\n\t* variable.c (*_getter, *_setter, *_marker): made public.\n\n\t* include/ruby/ruby.h (rb_gvar_*_{getter,setter,marker}): declared.\n\nTue Oct 14 20:32:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/single_byte.trans (transcode_tblgen_singlebyte): renamed\n\t  from transcode_tblgen_windows.\n\t  (transcode_tblgen_iso8859): use transcode_tblgen_singlebyte.\n\nTue Oct 14 19:32:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (process_options): -U should be allowed in RUBYOPT\n\t  environment variable.  [ruby-dev:36720]\n\nTue Oct 14 14:11:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): -U can be followed by other options.\n\nTue Oct 14 13:30:30 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans: added windows-1252\n\n\t* enc/trans/windows-1252-tbl.rb: new file\n\t  (contributed by Yoshihiro Kambayashi)\n\n\t* tool/transcode-tblgen.rb: listed windows-1252 as '1byte'\n\n\t* test/ruby/test_transcode.rb: added test_windows_1252\n\t  (contributed by Yoshihiro Kambayashi)\n\nTue Oct 14 12:22:32 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_variable.rb (TestVariable#test_variable): add\n\t  a test of [ruby-dev:36698].\n\nTue Oct 14 11:14:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c (str_transcode0): should not raise error when\n\t  default_internal is not set.  [ruby-core:19309]\n\nTue Oct 14 11:14:26 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/net/pop.rb: check for invalid APOP timestamp. (CVE-2007-1558)\n\t  [ruby-dev:36631]\n\n\t* test/net/pop/test_pop.rb: ditto.\n\nTue Oct 14 09:39:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (set_internal_encoding_once): check double contradicted\n\t  specification of the encoding from command line.\n\n\t* ruby.c (set_external_encoding_once): ditto.\n\nTue Oct 14 08:28:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): allow reserved word to be keyword argument.\n\nMon Oct 13 19:07:52 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* parse.y (token_info_pop): show source filename. [ruby-dev:36710]\n\nMon Oct 13 08:59:08 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (load_conv_function51932): support\n\t  CP51932 on cygwin and mingw32. thanks to arton.\n\n\t* test/win32ole/test_win32ole.rb (test_cp51932): ditto.\n\nMon Oct 13 07:54:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (proc_options): add -U command line option to specify\n\t  utf-8 as default_internal.\n\nMon Oct 13 07:42:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c (str_transcode0): String#encode() with no encoding\n\t  specified transcode the string into Encoding.default_internal.\n\t  inspired by [ruby-core:19298].\n\nSun Oct 12 18:00:18 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (set_ole_codepage, ole_cp2encoding,\n\t  ole_wc2mb, ole_vstr2wc, ole_mb2wc): support CP51932 (only mswin32).\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nSun Oct 12 12:03:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_insnhelper.h (ruby_vm_redefined_flag): apply optimization\n\t  patch proposed by Paul Brannan.  [ruby-core:19171]\n\nSun Oct 12 09:46:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): suppressed warnings on cygwin.\n\nSat Oct 11 19:49:35 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_prepare): use utf-8 encoding directly.\n\nSat Oct 11 10:20:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (CLEANINGS): uses escaped form tabs to preventing the\n\t  confusion.  [ruby-talk:317345]\n\nSat Oct 11 08:51:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (Rake::Application#standard_exception_handling): removed\n\t  unnecessary SystemExit, and exits with false instead of system\n\t  dependent value.  [ruby-talk:317330]\n\nSat Oct 11 03:54:05 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: optimize 'for' statement when one variable given.\n\n\t* benchmark/bm_loop_for.rb: added.\n\n\t* benchmark/bm_loop_times.rb: modified.\n\nSat Oct 11 12:09:05 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv/csv.rb:  Added support for Encoding::default_internal.\n\t* lib/csv/csv.rb:  Switched to new Hash syntax.\n\nFri Oct 10 22:16:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (comment_at_top): needed for ripper too.\n\nFri Oct 10 22:07:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby.h: updated macros for headers.  [ruby-core:19275]\n\nFri Oct 10 19:21:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (magic_comment_encoding): warns when ignored.\n\n\t* parse.y (parser_magic_comment): replaces '-' with '_'.\n\n\t* parse.y (parser_yylex): allows magic comments indented and the\n\t  second line or later.\n\nFri Oct 10 17:26:50 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/ext/parser/parser.c (JSON_parse_string):\n\t  associate encoding.\n\nFri Oct 10 10:18:21 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/test/*: reverted back to test/unit.\n\t* test/test/*: ditto\n\t* lib/minitest/*: Imported minitest 1.3.0 r4333.\n\nFri Oct 10 03:41:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): check if codepoint for %c is valid.\n\t  [ruby-dev:36691]\n\nFri Oct 10 01:55:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_names): minor improvement.\n\nFri Oct 10 00:21:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (ParseError.filter_backtrace): removes internal\n\t  backtrace.\n\nFri Oct 10 00:11:16 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* transcode.c (rb_econv_add_converter): remove unnecessary NULL check.\n\nThu Oct  9 23:53:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-c-mode): buffer may not have file\n\t  name.\n\nThu Oct  9 23:30:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* process.c (run_exec_dup2): fix resource leak.\n\nThu Oct  9 23:19:02 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* process.c (rb_run_exec_options): fix resource leak.\n\nThu Oct  9 22:13:58 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_module.rb (test_remove_class_variable): add a test\n\t  for Class#remove_class_variable.\n\n\t* test/ruby/test_object.rb (test_remove_instance_variable): add a test\n\t  for Object#remove_instance_variable.\n\nThu Oct  9 22:04:38 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* variable.c (rb_mod_remove_cvar): fix r19711.\n\nThu Oct  9 21:17:50 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/syck/syck.c (syck_lookup_sym): remove reading uninitialized\n\t  variable.\n\nThu Oct  9 16:34:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/ext/generator/extconf.rb: fix target.\n\n\t* ext/json/ext/parser/extconf.rb: ditto.\n\nThu Oct  9 14:37:59 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* include/ruby/ruby.h: embeds the elements of an array into its\n\t  struct RArray for # of elements <= 3.\n\n\t* array.c: ditto.\n\n\t* gc.c (gc_mark_children): following the change of struct RArray.\n\n\t* ext/tk/tcltklib.c (ip_ruby_cmp): ditto.\n\n\t* parse.y (coverage): ditto.\n\n\t* proc.c (curry): ditto.\n\n\t* .gdbinit: ditto.\n\nThu Oct  9 11:29:33 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (Init_Encoding): new instance method Encoding#names,\n\t  returns its name and alias names.\n\n\t* encoding.c (enc_names): defined for Encoding#names.\n\n\t* encoding.c (enc_names_i): defined for enc_names.\n\nThu Oct  9 08:47:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (rb_thread_wait_fd_rw): should not block by select if\n\t  there's only one thread living.  fixed [ruby-dev:36646].\n\nWed Oct  8 20:59:52 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_init_cp): initialize WIN32OLE.codepage\n\t  according to Encoding.default_internal and\n\t  Encoding.default_external.\n\nWed Oct  8 17:02:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure/generator.rb (utf8_to_json):\n\t  process each unpacked Unicode character.\n\nWed Oct  8 15:00:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure/parser.rb\n\t  (JSON::Pure::Parser#parse_string): force_encoding(\"UTF-8\").\n\nWed Oct  8 11:56:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: assert_nothing_thrown,\n\t  assert_raise, assert_not_equal, assert_no_match, assert_not_nil,\n\t  assert_not_same are coming back as alias.\n\nWed Oct  8 11:18:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (autoload_delete, autoload_file): should not delete\n\t  autoload table, since it may be shared with duplicated modules.\n\t  [ruby-core:19181]\n\nWed Oct  8 02:38:28 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_default_internal_encoding): merged a patch from\n\t  Michael Selig <michael.selig at fs.com.au> in [ruby-core:18985].\n\n\t* io.c (rb_io_ext_int_to_encs): ditto.\n\n\t* ruby.c (proc_options): support default internal encoding in -E\n\t  option.\n\nWed Oct  8 00:03:39 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (today,now): should produce own instances.\n\t  [ruby-talk:317020]\n\nTue Oct  7 16:43:51 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure/generator.rb (utf8_to_json):\n\t  force_encoding before gsub.\n\nTue Oct  7 16:35:41 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure/generator.rb (utf8_to_json):\n\t  downcase the result of Unicode escape.\n\nMon Oct  6 16:44:52 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI::QueryExtension::initialize_query): fix the\n\t  condition.\n\n\t* test/cgi/test_cgi_core.rb: bug fix encoding.\n\t  thanks to TAKANO Mitsuhiro <takano32 at jus.or.jp> .\n\n\t* test/cgi/test_cgi_multipart.rb: temporary comment in.\n\nMon Oct  6 15:22:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (gc_mark_children): ignores T_ZOMBIE.\n\nMon Oct  6 12:45:20 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_module.rb (TestModule#_wrap_assertion): add\n\t  definition.  is this really needed?\n\n\t* test/ruby/test_module.rb (TestModule#test_mod_constants): should\n\t  not depend on global Module constants.\n\nMon Oct  6 12:38:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb (Test::Assertions#assert_nothing_raised):\n\t  should take optional message argument.\n\nMon Oct  6 12:18:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): string comparison should be\n\t  transitive.  [ruby-dev:36484]\n\n\t* test/ruby/test_m17n_comb.rb (TestM17NComb#test_str_eq): test\n\t  updated.\n\nMon Oct  6 09:00:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/bigdecimal/test_bigdecimal.rb (test_sqrt_bigdecimal): test\n\t  updated.  a patch from TAKANO Mitsuhiro <takano32 at jus.or.jp>\n\t  in [ruby-dev:36669].\n\nSun Oct  5 23:34:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb ($config_h): now always defines for old libraries.\n\nSun Oct  5 23:06:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_method.c (rb_mod_modfunc): method undefined in included module\n\t  may not have nd_body.  [ruby-core:18738]\n\nSun Oct  5 21:28:58 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/rational.rb: resolved conflicts of aliases.\n\n\t* lib/mathn.rb: avoided some warnings.\n\nSun Oct  5 18:51:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb: remove debug code introduced by previous change.\n\nSun Oct  5 17:49:35 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/open-uri.rb (OpenURI.open_uri): set encoding to strio.\n\nSun Oct  5 17:39:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_set_encoding): defined for\n\t  StringIO#set_encoding.\n\nSun Oct  5 11:24:42 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* eval.c: come back definition of environ.\n\nSun Oct  5 09:19:49 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/utf8tbl.c: update table.\n\nSat Oct  4 22:50:14 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* dln.c: Ruby no longer supports VMS.\n\n\t* error.c: ditto.\n\n\t* eval.c: ditto.\n\n\t* eval_intern.h: ditto.\n\n\t* include/ruby/defines.h: ditto.\n\n\t* include/ruby/ruby.h: ditto.\n\n\t* io.c: ditto.\n\n\t* process.c: ditto.\n\n\t* ruby.c: ditto.\n\n\t* vms/config.h: removed.\n\n\t* vms/vms.h: ditto.\n\n\t* vms/vmsruby_private.c: ditto.\n\n\t* vms/vmsruby_private.h: ditto.\n\nSat Oct  4 22:44:23 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* dln.c: Ruby no longer supports Windows CE.\n\n\t* eval.c: ditto.\n\n\t* include/ruby/defines.h: ditto.\n\n\t* include/ruby/win32.h: ditto.\n\n\t* ruby.c: ditto.\n\n\t* strftime.c: ditto.\n\n\t* win32/Makefile.sub: ditto.\n\n\t* win32/win32.c: ditto.\n\n\t* ext/tk/extconf.rb: ditto.\n\n\t* lib/fileutils.rb: ditto.\n\n\t* test/fileutils/test_fileutils.rb: ditto.\n\n\t* wince/*: removed.\n\nSat Oct  4 22:35:06 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* dln.c: Ruby no longer supports MacOS 9 or before.\n\n\t* eval.c: ditto.\n\n\t* eval_intern.h: ditto.\n\n\t* ext/extmk.rb: ditto.\n\n\t* ext/tk/sample/tkextlib/treectrl/demo.rb: ditto.\n\n\t* ext/tk/stubs.c: ditto.\n\n\t* file.c: ditto.\n\n\t* hash.c: ditto.\n\n\t* include/ruby/defines.h: ditto.\n\n\t* ruby.c: ditto.\n\n\t* signal.c: ditto.\n\n\t* vm_core.h: ditto.\n\nSat Oct  4 22:30:28 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* dln.c: Ruby no longer supports MS-DOS.\n\n\t* ext/sdbm/_sdbm.c: ditto.\n\n\t* ext/sdbm/sdbm.h: ditto.\n\n\t* gc.c: ditto.\n\n\t* hash.c: ditto.\n\n\t* include/ruby/defines.h: ditto.\n\n\t* include/ruby/util.h: ditto.\n\n\t* io.c: ditto.\n\n\t* process.c: ditto.\n\n\t* ruby.c: ditto.\n\n\t* strftime.c: ditto.\n\n\t* util.c: ditto.\n\nSat Oct  4 22:14:15 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* djgpp/GNUmakefile.in: removed. Ruby no longer supports djgpp.\n\n\t* djgpp/README.djgpp: ditto.\n\n\t* djgpp/config.hin: ditto.\n\n\t* djgpp/config.sed: ditto.\n\n\t* djgpp/configure.bat: ditto.\n\n\t* djgpp/mkver.sed: ditto.\n\n\t* ext/Setup.dj: ditto.\n\n\t* dln.c: removed djgpp supports.\n\n\t* file.c: ditto.\n\n\t* gc.c: ditto.\n\n\t* io.c: ditto.\n\n\t* process.c: ditto.\n\n\t* ruby.c: ditto.\n\n\t* signal.c: ditto.\n\n\t* util.c: ditto.\n\n\t* vm_core.h: ditto.\n\n\t* lib/fileutils.rb: ditto.\n\n\t* lib/mkmf.rb: ditto.\n\n\t* ext/socket/socket.c: ditto.\n\n\t* test/fileutils/test_fileutils.rb: ditto.\n\n\t* test/ruby/test_env.rb: ditto.\n\n\t* test/ruby/test_path.rb: ditto.\n\nSat Oct  4 21:59:39 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* x68/_dtos18.c: removed. Ruby no longer supports human68k.\n\n\t* x68/_round.c: ditto.\n\n\t* x68/fconvert.c: ditto.\n\n\t* x68/select.c: ditto.\n\n\t* ext/Setup.x68: ditto.\n\n\t* missing/x68.c: ditto.\n\n\t* dln.c (dln_find_exe_r): removed human68k supports.\n\t  (dln_find_1): ditto.\n\n\t* lib/mkmf.rb: ditto.\n\n\t* ext/extmk.rb (Init_ext): ditto.\n\n\t* ext/socket/socket.c (init_sock): ditto.\n\n\t* gc.c (GC_MALLOC_LIMIT): ditto.\n\t  (rb_setjmp, rb_jmpbuf): ditto.\n\t  (mark_current_machine_context): ditto.\n\n\t* include/ruby/defines.h (PATH_ENV): ditto.\n\n\t* io.c: ditto.\n\n\t* process.c: ditto.\n\n\t* ruby.c: ditto.\n\n\t* test/ruby/test_env.rb: ditto.\n\n\t* test/ruby/test_path.rb: ditto.\n\n\t* LEGAL\n\nSat Oct  4 19:02:36 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: no need to require the \"lib/rational.rb\".\n\nSat Oct  4 19:02:59 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_enc_get): don't replicate encoding.\n\t  [ruby-dev:36575]\n\nSat Oct  4 18:47:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_external_encoding): defined.\n\n\t* ext/stringio/stringio.c (strio_internal_encoding): defined.\n\n\t* ext/stringio/stringio.c (Init_stringio): define above.\n\nSat Oct  4 15:52:17 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/mini/test_mini_test.rb: recovered.\n\t  It had been temporarily removed at r19645.\n\n\t* test/mini/test_mini_mock.rb: ditto.\n\n\t* test/mini/test_mini_spec.rb: ditto.\n\n\t* lib/test/**/*: replaced by miniunit.\n\t  miniunit had been temporarily reverted at r19643 but\n\t  now recovered.\n\nSat Oct  4 15:33:26 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (gdb-ruby): new target. it runs ruby under controlled by\n\t  gdb.\n\n\t* common.mk (dist): accepts RELNAME variable as the second argument of\n\t  make-snapshot.rb.\n\nSat Oct  4 12:17:46 2008  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/irb/ext/save-history.rb: change load_history using File.expand_path. see [ruby-dev:36660]. Thanks Kouhei Sutou.\n\t* lib/irb/irb/context.rb: convert string Symbol of instance variable names in IRB:Context#inspect.\n\nFri Oct  3 22:43:04 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ext/dl/extconf.rb ($distcleanfiles): added callback-?.c into\n\t  the distclean list.\n\nFri Oct  3 19:33:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure.rb (module JSON): remove Iconv dependency.\n\n\t* ext/json/lib/json/pure/generator.rb (utf8_to_json): process as\n\t  binary and remove Iconv dependency.\n\n\t* ext/json/lib/json/pure/parser.rb (parse_string): ditto.\n\nFri Oct  3 14:04:05 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/{configure.bat,setup.mak,Makefile.sub): add --program-prefix\n\t  configure option support.\n\nThu Oct  2 21:22:43 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI::QueryExtension): delete MorphingBody\n\t  and replace like as 1.8's in multipart reading.\n\t\tsee [ruby-dev:36443],\n\t  reference from CGIAlt http://cgialt.rubyforge.org/\n\n\t* test/cgi/test_cgi_multipart.rb : fixed multipart test.\n\nThu Oct  2 20:46:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_sub_bang): fix coderange.\n\nWed Oct  1 22:54:09 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/rexml/parsers/lightparser.rb, lib/debug.rb: remove unused when\n\t  clauses.\n\nWed Oct  1 22:43:59 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/xmlrpc, lib/rexml, test/ruby/test_array.rb,\n\t  test/ruby/test_unicode_escape.rb, test/scanf/test_scanf.rb,\n\t  test/rss/rss-assertions.rb: fix indentation to remove warning.\n\nWed Oct  1 21:36:35 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): finalize deferred IO and Data.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): defers IO finalization.\n\t  [ruby-dev:36646]\n\nWed Oct  1 19:11:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (marshal_dump): fixed for check_dump_arg.\n\n\t* marshal.c (marshal_dump): initializes dump_arg before any funcall.\n\t  [ruby-dev:36648]\n\nWed Oct  1 00:54:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_split_m): should use rb_str_subseq() which use\n\t  offset and length by bytes.  [ruby-dev:36641]\n\nWed Oct  1 00:29:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_settracefunc.rb (test_call, test_class): line number\n\t  was changed at r19592.\n\nWed Oct  1 00:20:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (check_exec_redirect): don't depend on rb_stdout and\n\t  rb_stderr.\n\nTue Sep 30 23:06:58 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/mini/test_mini_test.rb: removed.\n\t  Temporarily removed the tests for miniunit because of\n\t  they depend on the miniunit version of test/unit,\n\t  where test/unit was temporarily reverted to the state\n\t  before importing miniunit.\n\n\t* test/mini/test_mini_mock.rb: ditto.\n\n\t* test/mini/test_mini_spec.rb: ditto.\n\nTue Sep 30 23:04:30 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/test/**/*: recovered.\n\t  Temporarily reverts the changes of lib/test/unit/* in\n\t  r19502 and r19501, in order to release 1.9.0-5.\n\nTue Sep 30 23:00:05 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/test/unit.rb: removed.\n\t  Temporarily reverts the changes of lib/test/unit/* in\n\t  r19543, r19534 and r19503, in order to release 1.9.0-5.\n\n\t* lib/test/unit/assertions.rb: ditto.\n\n\t* lib/test/unit/deprecate.rb: ditto.\n\n\t* lib/test/unit/error.rb: ditto.\n\n\t* lib/test/unit/testcase.rb: ditto.\n\nTue Sep 30 20:17:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_extract_modeenc): should honor value of the\n\t  textmode: and binmode: options.\n\nTue Sep 30 17:04:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/bigdecimal/test_bigdecimal.rb (test_sqrt_bigdecimal): wrong\n\t  precision specification.  a patch from TAKANO Mitsuhiro\n\t  <takano32 at jus.or.jp> in [ruby-dev:36634].\n\nTue Sep 30 16:53:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): returns non zero.  [ruby-dev:36633]\n\nTue Sep 30 16:52:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): add %<name>s style named argument\n\t  support.  a patch from Yusuke Endoh <mame at tsg.ne.jp>\n\t  in [ruby-dev:35851].\n\n\t* sprintf.c (rb_str_format): add gettext style named format\n\t  (%{name}) support.  inspired by [ruby-dev:35852].\n\n\t* sprintf.c (GETNAMEARG): should raise KeyError exception when no\n\t  named argument found.\n\n\t* hash.c (rb_hash_fetch): export fetch function.\n\nTue Sep 30 13:19:01 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* test/rubygems/test_gem_installer.rb: remove extra call to setup to\n\t  fix ENV['HOME'] pollution.\n\nTue Sep 30 13:04:11 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/mini/test.rb: Updated to 1.3.0 r4257.\n\t* test/mini/*: added from r4257.\n\nTue Sep 30 07:46:07 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* test/rdoc/test_rdoc_markup_attribute_manager.rb: Test with clean\n\t  SPECIALS.\n\t* test/rubygems/gemutilities.rb: Restore ENV['HOME'] after test.\n\t* test/runner.rb: Pass -n argument down to miniunit.\n\nTue Sep 30 01:02:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (token_info_push, token_info_pop): do nothing for evaled\n\t  source.\n\nTue Sep 30 00:47:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: constified.\n\nMon Sep 29 23:32:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_subseq): don't use rb_str_drop_bytes for short\n\t  string.\n\nMon Sep 29 22:54:29 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/mathn.rb: added String#to_[rc].  moved def_canon.\n\nMon Sep 29 20:41:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_subseq): use rb_str_drop_bytes if possible.\n\nMon Sep 29 20:22:20 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* test/date/*.rb: imported additional tests and some adjustments.\n\nMon Sep 29 20:13:05 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fev_initialize): initialization\n\t  handler instance variable.\n\n\t* test/win32ole/test_win32ole_typelib.rb (test_s_typelibs):\n\t  fix the warning of shadowing outer local variable.\n\nMon Sep 29 19:59:00 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (rescue_callback): use rb_write_error\n\t  instead of fprintf.\n\nMon Sep 29 01:51:54 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/rdoc/test_rdoc_info_formatting.rb (teardown): delete tmpdir for\n\t  test.\n\nMon Sep 29 00:30:20 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/html.rb (CGI::HtmlExtension::{radio_group, checkbox_group}):\n\tcan specify the false as checked or selected value.\n\t[ruby-core:18306], [ruby-core:18307]\n\n\t* test/cgi/test_cgi_tag_helper.rb: add a test.\n\nSun Sep 28 23:08:38 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/html.rb (CGI::HtmlExtension::popup_menu):\n\tfix the calls #bytesize on array parameters. [ruby-core:18919]\n\nSun Sep 28 22:44:26 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI::parse): ignore illegal query params.\n\t[ruby-dev:36618]\n\nSun Sep 28 22:05:07 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_set_sequence): check duplicated when clause.\n\t  [ruby-dev:36616]\n\nSun Sep 28 19:04:03 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* test/date/*.rb: imported a date test suite ruby 1.9 limited ed.\n\nSun Sep 28 18:40:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mini/test.rb (MINI_DIR): loaded path is expanded.\n\n\t* lib/mini/test.rb (assert_match): get rid of confusion of\n\t  ruby-mode.el.\n\nSun Sep 28 12:36:09 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_exec.c (vm_exec_core): add an UNLIKELY() hint.\n\n\t* vm_insnhelper.h (BASIC_OP_UNREDEFINED_P): add a LIKELY() hint.\n\nSun Sep 28 12:04:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_new): sets empty string to coderange 7bit.\n\t  [ruby-core:18993]\n\nSun Sep 28 09:39:48 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/mathn.rb ({Fixnum,Bignum,Float}#**): may produce complex\n\t  value.\n\nSun Sep 28 09:05:53 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv/csv.rb:  Worked around some minor encoding changes in Ruby\n\t  pointed out by Nobu.\n\nSun Sep 28 08:37:12 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/mathn.rb: a hack to provide canonicalization.  This must be\n\t  temporary, but this seems to be not bad for the time being.\n\nSat Sep 27 06:22:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (Module#rake_extension, String#ext, String#pathmap): use\n\t  built-in methods.\n\n\t* lib/rake.rb (String#pathmap): fixed typo in rdoc.\n\nSat Sep 27 04:28:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rmext): preceding dots are not a part of extension.\n\n\t* file.c (rb_file_s_extname): ditto.\n\nSat Sep 27 03:15:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (vm_jump_tag_but_local_jump): exc is not used if val is nil.\n\nSat Sep 27 03:12:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (host_str): numeric address should be unsigned.\n\t  [ruby-core:18971]\n\nFri Sep 26 22:46:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (primary, brace_block): fix for line number.\n\n\t* proc.c (rb_proc_location, rb_method_location): new methods\n\t  {Proc,Method,UnboundMethod}#source_location.  [ruby-core:18452]\n\nFri Sep 26 21:36:33 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_core.h (RUBY_VM_CHECK_INTS_TH): add an UNLIKELY hint.\n\nFri Sep 26 19:33:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_str_encode): renamed from\n\t  rb_str_transcode.  [ruby-dev:36593]\n\t  (rb_econv_has_convpath_p): renamed from rb_transcode_convertible.\n\n\t* transcode.c: follow the renaming.\n\n\t* io.c: ditto.\n\nFri Sep 26 19:01:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/bigdecimal/test_bigdecimal.rb (test_inspect): fixed CPU bit\n\t  size dependent test.  pointed out by TAKANO Mitsuhiro <takano32 AT\n\t  jus.or.jp>.\n\nFri Sep 26 18:57:33 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/pathname/test_pathname.rb: Fix use of deprecated methods.\n\nFri Sep 26 18:39:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (dist): nothing is needed to run BASERUBY.\n\n\t* tool/make-snapshot: new option -archname.\n\nFri Sep 26 18:24:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el: safe customizable variables.\n\nFri Sep 26 17:37:18 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* include/ruby/ruby.h (rb_mPrecision): removed.\n\t  Precision module was temporarily removed at r19430.\n\nFri Sep 26 17:25:10 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (dist): Changed its dependencies and action.\n\nFri Sep 26 17:07:04 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* error.c (Init_syserr): moved to the template.\n\t  (errno_missing): removed. fixed [ruby-dev:35958].\n\n\t* defs/known_errors.def: added. extracted from Init_syserr.\n\n\t* templates/known_errors.inc.tmpl: added. Template for Init_syserr.\n\t  c.f. [ruby-dev:35958].\n\n\t* tools/generic_erb.rb: added. general purpose mapper which maps\n\t  data+template into source code.\n\n\t* common.mk (error.$(OBJEXT), incs, known_errors.inc):\n\t  Fixed dependencies.\n\nFri Sep 26 17:02:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thlist_signal): clears the woken thread if nothing woke.\n\n\t* thread.c (rb_barrier_wait): achieves the lock if no thread was\n\t  waiting yet.\n\nFri Sep 26 12:04:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/curses/curses.c: should include <ruby/io.h>.\n\n\t* ext/io/wait/wait.c: ditto.\n\n\t* ext/openssl/ossl.h: ditto.\n\nFri Sep 26 11:34:08 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* variable.c (rb_define_hooked_variable): cast to get rid of compiler\n\t  warnings.\n\nFri Sep 26 11:05:41 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* transcode.c, include/ruby/encoding.c (rb_transcode_convertible):\n\t  new function. checking the existence of converter.\n\nFri Sep 26 10:35:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (global_variable, struct trace_var): made function\n\t  members more strict.\n\nFri Sep 26 09:55:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby{io,sig}.h: moved to include/ruby/backward.\n\nFri Sep 26 09:47:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/rubysig.h: old macros for backward compatibility.\n\n\t* thread.c (BLOCKING_REGION): rewritten using helper functions.\n\nFri Sep 26 03:03:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* vm_eval.c (Init_vm_eval): define module_eval, class_eval and eval\n\t  here for rdoc.\n\nFri Sep 26 00:40:30 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* range.c (range_inspect): fix SEGV for cyclic range object.\n\t  [ruby-core:18835]\n\nThu Sep 25 23:59:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk: dependency updated.\n\nThu Sep 25 21:46:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_eUndefinedConversionError): renamed from\n\t  rb_eConversionUndefinedError.\n\t  (rb_eConverterNotFoundError): renamed from rb_eNoConverterError.\n\nThu Sep 25 21:23:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* pack.c (pack_pack, pack_unpack): 'm0' format (base64) complies with\n\t  RFC 4648.  It adds no line feed when encoding, and raise ArgumentError\n\t  if the encoded string contains non-alphabet (including CR and LF).\n\n\t* lib/base64.rb: added.  This provides encoding/decoding method for\n\t  Base64 in standard RFC 2045, Base64 in standard RFC 4648 and ``Base 64\n\t  Encoding with URL and Filename SafeAlphabet'' in RFC 4648.\n\n\t* test_pack.c, test/base64/test_base64.rb: add tests for above.\n\nThu Sep 25 21:00:32 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: fix btest-* rules [ruby-dev:36528].\n\t  and remove obsolete rules.\n\nThu Sep 25 20:27:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* class.c (rb_make_metaclass): [BUG] Fixed a bus error\n\t  on the case for metaclass of a class which includes a\n\t  module.\n\nThu Sep 25 19:34:33 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* test/rubygems/*: Update some new tests to use build_rake_in.\n\t* test/rubygems/gemutilities.rb: Fix broken merge of rake detection.\n\nThu Sep 25 19:13:12 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*: Update to RubyGems 1.3.0 r1891.\n\nThu Sep 25 18:40:42 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* class.c (rb_make_metaclass): Made class of class of class\n\t  from Class into its own eigenclass. Now meta^(n)-class\n\t  hierarchy regresses infinitely, again.\n\t  (This feature was decided on developer-meeting-20080922.)\n\nThu Sep 25 16:01:07 2008  Jim Weirich  <jim@tardis.local>\n\n\t* lib/rake.rb: Update rake source to version 0.8.3.  This\n\t  version includes some fixes for running Rake on windows.\n\t  (1) better APPDATA/HOMExxx/USERPROFILE integration for\n\t  system rakefiles, (2) Better handling of the :ruby command\n\t  when installed in directory containing spaces.\n\nThu Sep 25 11:22:51 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc*: Update to RDoc 2.2.1 r185.\n\nThu Sep 25 02:08:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_mode_enc): make it static.\n\nThu Sep 25 01:22:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mini/test.rb (Mini::Assertions#assert_raise): fixed typo.\n\nWed Sep 24 23:39:00 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* test/cgi/test_cgi_multipart.rb : revert last change.\n\t  ( deprecated is assert_raises. )\n\t* test/cgi/test_cgi_core.rb      : ditto.\n\t* test/cgi/test_cgi_header.rb    : ditto.\n\nWed Sep 24 23:12:49 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI::new, CGI::{accept_charset,accept_charset=}) :\n\t  accept parameters either in a hash,\n\t  string as a block. add the encoding validation process.\n\t* test/cgi/test_cgi_core.rb : test for query encoding check.\n\nWed Sep 24 22:58:18 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_rstrip_bang): raise exception when the encoding of\n\t  the string is dummy.\n\n\t* string.c (rb_str_rstrip_bang): remove nul characters even if the\n\t  encoding of the string is not single byte optimizable.\n\t  fixed [ruby-core:18844], reported by Michael Selig.\n\nWed Sep 24 19:01:45 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_rstrip_bang): workaround for VC++8 x64.\n\nWed Sep 24 17:44:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* complex.c (Init_Complex), rational.c (Init_Rational): undefines\n\t  default #allocate methods which call the allocator.\n\nWed Sep 24 17:02:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* complex.c (Init_Complex), rational.c (Init_Rational): ID_ALLOCATOR\n\t  differs from :allocate, and invisible in ruby level.\n\nWed Sep 24 15:58:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_rstrip_bang): removing mixed spaces and nuls at\n\t  the end of strings.  [ruby-dev:36497]\n\nWed Sep 24 15:13:04 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* test/cgi/test_cgi_multipart.rb : test for miniunit.\n\t* test/cgi/test_cgi_core.rb      : ditto.\n\t* test/cgi/test_cgi_header.rb    : ditto.\n\nWed Sep 24 14:38:29 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/tmpdir.rb: setup buffer with nul characters instead of spaces.\n\t  fixed [ruby-dev:36493]\n\nWed Sep 24 11:18:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_binread): offset argument was wrongly passed to\n\t  internal IO#read call.  [ruby-core:18810]\n\nWed Sep 24 07:38:23 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* vm_core.h: ruby/ruby.h should be included at the very first\n\t  place in an entire compilation unit, as it includes\n\t  ruby/config.h\n\nWed Sep 24 06:41:24 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/test/*: removed test/unit.\n\t* lib/test/*: added miniunit.\n\t* lib/mini/*: ditto.\n\nWed Sep 24 04:45:35 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/node.h, node.h: move node.h from include path.\n\t  This change stop to install node.h because of saving ABI\n\t  (node.h will be changed. Extensions should not depends on\n\t   this file).\n\n\t* blockinlining.c, class.c, compile.c, debug.h, enum.c,\n\t  gc.c, iseq.c, parse.y, ruby.c, signal.c, variable.c,\n\t  vm.c, vm_core.h, vm_dump.c: ditto.\n\n\t* ext/ripper/depend: ditto.\n\nWed Sep 24 04:09:13 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_core.h: remove unused frame values.\n\nWed Sep 24 04:07:07 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* signal.c (signal_exec): execute rb_eval_cmd() directly.\n\nWed Sep 24 03:08:58 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/uri/mailto.rb: fix indentation.\n\t* lib/uri/generic.rb: ditto.\n\t* lib/yaml.rb: ditto.\n\t* lib/uri/cgi/core.rb: fix indentation and ambiguous argument warning.\n\nTue Sep 23 23:39:25 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv/csv.rb:  Improved the idea of whitespace and word characters used\n\t  in substitutions during header conversion as suggested by Michael Selig.\n\nTue Sep 23 21:50:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_binwrite): allocate wbuf if nosync.\n\nTue Sep 23 21:45:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_body): use io_binwrite instead of io_fwrite.\n\nTue Sep 23 21:31:16 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* test/ruby/test_rational2.rb: updated.\n\n\t* test/ruby/test_complex2.rb: added.\n\n\t* test/ruby/test_complexrational.rb: added.\n\nTue Sep 23 21:26:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_casecmp): make the ordering consistent with\n\t  String#<=>.\n\nTue Sep 23 20:52:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_binwrite): add nosync argument.\n\t  (do_writeconv): extracted from io_fwrite.\n\t  (io_fwrite): add nosync argument.  use do_writeconv.\n\t  (io_write): add nosync argument.\n\t  (io_write_m): new function for IO#write.\n\t  (rb_p): don't append record separator.\n\nTue Sep 23 20:24:41 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* signal.c (signal_exec): fix to use rb_proc_call().\n\nTue Sep 23 20:06:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/formatters/pretty.rb (REXML::Formatters::Pretty#wrap):\n\t  abandon wrapping if the line contains no space.  [ruby-dev:36045]\n\nTue Sep 23 19:38:03 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (subtract): check tv_sec. reported by ko1.\n\nTue Sep 23 19:21:03 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_canonicalize_internal): does no apply\n\t  canonicalization rule anymore.\n\n\t* rational.c (nurat_s_canonicalize_internal(_no_reduce)?): ditto.\n\n\t* complex.c: removed class method new! and new.\n\n\t* rational.c: ditto.\n\nTue Sep 23 19:20:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_binread): a new method to read binary chunk from a\n\t  file.  [ruby-core:18674]\n\n\t* io.c (open_key_args): wrong permission specified for read-open.\n\nTue Sep 23 18:24:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* hash.c (rb_obj_is_proc): declaration moved for rdoc.\n\nTue Sep 23 18:07:55 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk (io.o): remove dependency for vm_core.h.\n\nTue Sep 23 17:56:44 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_blocking_region): fix typo in a document.\n\nTue Sep 23 17:50:35 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_blocking_region): write a document.\n\nTue Sep 23 17:14:31 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c, include/ruby/intern.h (rb_thread_interrupted): added.\n\n\t* io.c: use VALUE of thead instead of rb_tread_t to check interrupts.\n\nTue Sep 23 17:05:14 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* class.c, vm_core.h: move decl of rb_iseq_clone() to class.c.\n\nTue Sep 23 17:02:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* debug.h (ruby_set_debug_option): declared.\n\n\t* main.c: include debug.h.\n\n\t* common.mk (main.$(OBJEXT)): dependency updated.\n\nTue Sep 23 16:59:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (ENVMATCH, ENVNMATCH): reduced same code.\n\nTue Sep 23 16:55:11 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.h: fix comment and rename macro HAVE_RUBY_MVM_H to\n\t  HAVE_RUBY_VM_H.\n\nTue Sep 23 16:41:31 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/node.h, vm_core.h: move definition of\n\t  RUBY_VM_METHOD_NODE to node.h.\n\n\t* class.c, common.mk: remove useless inclusion.\n\n\t* compile.h, iseq.h, vm_core.h: rename compile.h to iseq.h.\n\t  move some definitions from vm_core.h to iseq.h.\n\n\t* compile.c, iseq.c, vm.c: ditto.\n\n\t* eval.c, compile.c: move some functions for parser\n\t  from eval.c to compile.c.\n\n\t* eval_intern.h, vm_core.h: move va_init_list() macro to\n\t  vm_core.h.\n\n\t* iseq.c (rb_iseq_new_top, rb_iseq_first_lineno): added.\n\n\t* load.c, ruby.c: use rb_iseq_new_top() instead of\n\t  rb_iseq_new() with ISEQ_TYPE_TOP constant directly.\n\n\t* proc.c: use rb_iseq_first_lineno() instead of accessing\n\t  iseq structure.\n\nTue Sep 23 16:17:54 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/ripper/eventids2.c (token_to_eventid): supper __ENCODING__\n\t  keyword.  [ruby-dev:36478]\n\nTue Sep 23 15:30:53 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk, hash.c: remove unused inclusion.\n\nTue Sep 23 09:52:07 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_safe.c, safe.c: rename eval_safe.c to safe.c.\n\n\t* common.mk, eval.c, safe.c, inits.c: separate safe.c from eval.c and\n\t  make Init_safe().\n\nTue Sep 23 09:20:00 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: clean up\n\t  - remove blockinlining.$(OBJEXT) to built\n\t  - make ENCODING_H_INCLDUES variable (include/ruby/encoding.h)\n\t  - make VM_CORE_H_INCLUDES variable (vm_core.h)\n\t  - simplify rules.\n\t  - make depends rule to output depend status using gcc -MM.\n\n\t* include/ruby/mvm.h, include/ruby/vm.h: rename mvm.h to vm.h.\n\n\t* include/ruby.h: ditto.\n\n\t* load.c: add inclusion explicitly.\n\n\t* enumerator.c, object.c, parse.y, thread.c, vm_dump.c:\n\t  remove useless inclusion.\n\n\t* eval_intern.h: cleanup inclusion.\n\n\t* vm_core.h: rb_thread_t should be defined in this file.\n\n\t* vm_evalbody.c, vm_exec.c: rename vm_evalbody.c to vm_exec.c.\n\n\t* vm.h, vm_exec.h: rename vm.h to vm_exec.h.\n\n\t* insnhelper.h, vm_insnhelper.h: rename insnhelper.h to vm_insnhelper.h.\n\n\t* vm.c, vm_insnhelper.c, vm_insnhelper.h:\n\t  - rename vm_eval() to vm_exec_core().\n\t  - rename vm_eval_body() to vm_exec().\n\t  - cleanup include order.\n\n\t* vm_method.c: fix comment.\n\nTue Sep 23 09:01:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/pathname.rb (each_filename): return Enumerator if no block\n\t  given.\n\n\t* test/pathname/test_pathname.rb: add a test for above.\n\nTue Sep 23 08:25:56 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (env_aset): allow nil value to remove an entry.\n\t  [ruby-dev:36465]\n\n\t* test/ruby/test_env.rb (TestEnv#test_aset): test updated.\n\nTue Sep 23 08:07:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-keyword-end-re): emacs21 support.  a\n\t  patch from Hiroshi Moriyama <hiroshi at kvd.biglobe.ne.jp> in\n\t  [ruby-dev:36471].\n\n\t* misc/ruby-mode.el (ruby-in-ppss-context-p): ditto.\n\n\t* misc/ruby-mode.el (ruby-here-doc-end-syntax):\n\nTue Sep 23 02:07:52 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline_history.rb\n\t  (Readline::TestHistory#test_each): checked return value.\n\nTue Sep 23 02:05:34 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/readline.c (Init_readline): used remove_history to\n\t  check offset of history if unsupported clear_history.\n\nMon Sep 22 17:39:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tempfile.rb (Tempfile#open): should return a value from the\n\t  block (if given).   [ruby-core:18394]\n\nMon Sep 22 11:17:51 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* include/ruby/encoding.h (enum): ISO C forbids comma at end of\n\t  enumerator list\n\nMon Sep 22 10:15:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* LEGAL: updated file names removed and added.  [ruby-dev:36426]\n\nMon Sep 22 02:39:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (get_default_external): add description.\n\nSun Sep 21 21:52:41 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* math.c (math_log): should check argc.\n\nSun Sep 21 21:20:24 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: added two macros.\n\n\t* rational.c: ditto.\n\nSun Sep 21 18:06:38 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_convert): checks argc.\n\n\t* rational.c (nurat_s_convert): ditto.\n\nSun Sep 21 10:19:04 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_canonicalize_internal): checks exactness of\n\t  imag only.\n\n\t* rational.c (nurat_s_convert): accepts non real value\n\t  (Rational(a,b) as a/b).\n\n\t* complex.c (nucomp_s_convert): refined.\n\nSun Sep 21 09:37:57 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv/csv.rb:  Reworked CSV's parser and generator to be m17n.  Data\n\t  is now parsed in the Encoding it is in without need for translation.\n\t* lib/csv/csv.rb:  Improved inspect() messages for better IRb support.\n\t* lib/csv/csv.rb:  Fixed header writing bug reported by Dov Murik.\n\t* lib/csv/csv.rb:  Use custom separators in parsing header Strings as\n\t  suggested by Shmulik Regev.\n\t* lib/csv/csv.rb:  Added a :write_headers option for outputting headers.\n\t* lib/csv/csv.rb:  Handle open() calls in binary mode whenever we can to\n\t  workaround a Windows issue where line-ending translation can cause an\n\t  off-by-one error in seeking back to a non-zero starting position after\n\t  auto-discovery for :row_sep as suggested by Robert Battle.\n\t* lib/csv/csv.rb:  Improved the parser to fail faster when fed some forms\n\t  of invalid CSV that can be detected without reading ahead.\n\t* lib/csv/csv.rb:  Added a :field_size_limit option to control CSV's\n\t  lookahead and prevent the parser from biting off more data than\n\t  it can chew.\n\t* lib/csv/csv.rb:  Added readers for CSV attributes:  col_sep(), row_sep(),\n\t  quote_char(), field_size_limit(), converters(), unconverted_fields?(),\n\t  headers(), return_headers?(), write_headers?(), header_converters(),\n\t  skip_blanks?(), and force_quotes?().\n\t* lib/csv/csv.rb:  Cleaned up code syntax to be more inline with\n\t  Ruby 1.9 than 1.8.\n\nSun Sep 21 07:43:16 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: an instance method image has been removed and\n\t  uses \"imag\" instead of \"image\".\n\n\t* complex.c: two instance method re and im are removed.\n\n\t* rational.c: follows the above changes.\n\n\t* include/ruby/ruby.h: ditto.\n\n\t* gc.c: ditto.\n\n\t* lib/cmath.rb: ditto.\n\n\t* lib/mathn.rb: ditto.\n\n\t* lib/complex.rb: ditto. and provides some obsolete methods.\n\nSun Sep 21 02:48:45 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/ext/parser/parse.c: use ruby_xfree().\n\n\t* ext/json/ext/parser/parse.rl: ditto.\n\n\t* ext/json/ext/parser/unicode.c: ditto.\n\nSun Sep 21 02:40:20 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json: import JSON v 1.1.3.\n\nSat Sep 20 11:43:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/optparse.rb (summarize): separator \"\" should output new line.\n\nSat Sep 20 08:07:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* parse.y: strings which contain only US-ASCII don't force to have\n\t  US-ASCII encoding. [ruby-dev:36400]\n\nSat Sep 20 07:59:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_reg_desc): Regexps of ASCII Compatible encoding may\n\t  contain non-ASCII characters. So in that case its encoding\n\t  must keep original encoding.\n\nSat Sep 20 07:44:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: prec.c is removed.\n\nFri Sep 19 22:37:25 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: uses f_(in)?exact_p macro.\n\n\t* rational.c: ditto.\n\n\t* bignum.c (rb_big_pow): bignum**bignum - should calculate without\n\t  rational.\n\n\t* lib/complex.rb: should override Math module at most once.\n\n\t* lib/mathn.rb: requires 'cmath' directly.\n\nFri Sep 19 20:48:06 2008  Yuki Sonoda  <yugui@yugui.jp>\n\n\t* prec.c: removed. Precision will be redesigned and be back again.\n\t  c.f. [ruby-dev:36352].\n\n\t* common.mk (COMMON_OBJS): removed prec.o.\n\n\t* inits.c (rb_call_inits): removed Init_Precision.\n\n\t* numeric.c (Init_Numeric): removed inclusion of Precision.\n\t  removed #induced_from from each class.\n\n\t* rational.c: ditto.\n\n\t* ext/bigdecimal/bigdecimal.c: ditto.\n\n\t* lib/rdoc/known_classes.rb: removed the entry for Precision.\n\n\t* test/ruby/test_prec.rb: removed.\n\n\t* test/ruby/test_integer.rb: removed tests for Precision.\n\n\t* test/ruby/test_fixnum.rb: ditto.\n\n\t* test/ruby/test_float.rb: ditto.\n\n\t* test/ruby/test_rational.rb: ditto.\n\n\t* test/ruby/test_complex.rb: ditto.\n\n\t* test/bigdecimal/test_bigdecimal.rb: ditto.\n\nFri Sep 19 19:43:40 2008  Yuki Sonoda  <yugui@yugui.jp>\n\n\t* common.mk : Reverts the changeset 18994.\n\t  Uses the official repository of rubyspec again.\n\nFri Sep 19 17:41:56 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: applied OS/2 support patch from Brendan Oakley\n\t  <gentux2 at gmail.com> in [ruby-core:18707].\n\nFri Sep 19 09:29:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dln.c: newer BeOS support.  a patch from Pete Goodeve\n\t  <pete.goodeve at computer.org> in [ruby-core:18712].\n\nFri Sep 19 03:41:25 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: fix memory violation. mentioned by mame [ruby-dev:36373]\n\nFri Sep 19 01:07:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* regexec.c (string_cmp_ic): add text_end argument.\n\t  (slow_search): call enclen with real string end.\n\t  (map_search): add text_end argument.\n\nThu Sep 18 22:54:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/openssl/ossl_pkey_ec.c (ossl_ec_key_to_string): comment out\n\t  fragments of unused code.\n\nThu Sep 18 22:35:03 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (VpCtoV): 1E1000...000 is interpreted as\n\t  Infinity.  [ruby-dev:36159]\n\n\t* ext/bigdecimal/bigdecimal.c (VpPower): Infinity ** 1 returns\n\t  Infinity instead of NaN.  [ruby-dev:36159]\n\n\t* test/bigdecimal/test_bigdecimal.rb: add tests for above.\n\nThu Sep 18 22:20:08 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (Init_Exception): introduce EncodingError which is a\n\t  superclass for all encoding related exception classes,\n\t  e.g. Encoding::CompatibilityError.  [ruby-dev:36371]\n\n\t* transcode.c (Init_transcode): ditto.\n\nThu Sep 18 21:57:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): make ascii8bit string to be\n\t  compatible with any other encoding.\n\n\t* string.c (rb_str_cmp): use rb_str_comparable() instead of\n\t  rb_enc_compatible() since <=> is a comparison anyway.\n\nThu Sep 18 21:37:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* grapheme cluster implementation reverted.  [ruby-dev:36375]\n\nThu Sep 18 20:50:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (Rake::Application#standard_exception_handling):\n\t  replaced magic numbers for exit status.\n\nThu Sep 18 20:37:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::ParseError#set_backtrace): omits\n\t  OptionParser internal backtraces unless debug flag is set.\n\nThu Sep 18 20:02:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/uri/common.rb (unescape): skip '%' to make String#hex work\n\t  correctly.\n\nThu Sep 18 19:51:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (big2str_karatsuba): free internal buffer eagerly.\n\t  a patch from TOYOFUKU Chikanobu <nobu_toyofuku at nifty.com>\n\t  in [ruby-dev:36217].\n\n\t* bignum.c (rb_big2str0): ditto.\n\nThu Sep 18 19:43:04 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* st.c (new_size): raise RuntimeError when st_table is too big.\n\t  [ruby-dev:36354]\n\nThu Sep 18 18:23:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (enc_arg): must take pointer argument to avoid GC\n\t  problem.  StringValueCStr modifies the argument and it should be\n\t  preserved while the string StringValueCStr returns is used.\n\t  Since the string is used by caller, the modified argument should be\n\t  hold by caller.  Actually\n\t    GC.stress = true\n\t    def (o=Object.new).to_str()\n\t      \"universal\"+\"_newline\"\n\t    end\n\t    \"\\u3042\".encode(o, \"\")\n\t  causes curious warning:\n\t    rb_define_const: invalid name `' for constant\n\nThu Sep 18 17:32:44 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c: add \"Error\" suffix for Encoding exception classes.\n\t  a patch from Tadashi Saito <shiba at mail2.accsnet.ne.jp> in\n\t  [ruby-dev:36346].\n\n\t* encoding.c (Init_Encoding): rename EncodingCompatibilityError to\n\t  Encoding::CompatibilityError.  [ruby-dev:36366]\n\nThu Sep 18 17:18:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c (enc_arg): revert last change.  too early exception\n\t  raising.\n\n\t* transcode.c (enc_arg): need not to take pointer argument.\n\nSun Sep 18 02:22:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/bigdecimal/test_bigdecimal.rb: add tests to achieve over 90%\n\t  test coverage of bigdecimal.\n\nWed Sep 17 21:50:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_casecmp): don't use rb_enc_codepoint.\n\nWed Sep 17 19:55:33 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_convert): accepts complex\n\t  value (Complex(a,b) as a+bi).\n\nWed Sep 17 19:16:47 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_io.rb (TestIO#test_dup): avoid infinite loop.\n\t  [ruby-dev:36326]\n\n\t* test/ruby/test_io.rb (TestIO#test_dup): remove needless open.\n\t  [ruby-dev:35957]\n\nWed Sep 17 17:44:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_extract_modeenc): process option mode: and perm: as\n\t  well.\n\n\t* io.c (open_key_args): move mode: and perm: related code to\n\t  rb_io_extract_modeenc().\n\nWed Sep 17 13:42:59 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/html.rb (checkbox_group,radio_group): bug fix\n\t  use size instead of\tbytesize.\n\n\t* test/cgi/test_cgi_tag_helper.rb: test for checkbox_group,radio_group.\n\nWed Sep 17 06:58:31 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* numeric.c: provides predicate real? instead of scalar?.\n\n\t* complex.c: follows the above change.\n\n\t* lib/cmath.rb: ditto.\n\nWed Sep 17 01:56:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_io_m17n.rb: use __FILE__ instead of /dev/null.\n\t  [ruby-dev:36327]\n\nWed Sep 17 01:33:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): add precise_ret\n\t  argument for mbc_to_code.\n\t  (ONIGENC_MBC_TO_CODE): provide NULL for precise_ret.\n\t  (ONIGENC_MBC_PRECISE_CODEPOINT): defined.\n\n\t* include/ruby/encoding.h (rb_enc_mbc_precise_codepoint): defined.\n\n\t* regenc.h (onigenc_single_byte_mbc_to_code): precise_ret argument\n\t  added.\n\t  (onigenc_mbn_mbc_to_code): ditto.\n\n\t* regenc.c (onigenc_single_byte_mbc_to_code): precise_ret argument\n\t  added.\n\t  (onigenc_mbn_mbc_to_code): ditto.\n\n\t* string.c (count_utf8_lead_bytes_with_word): removed.\n\t  (str_utf8_nth): removed.\n\t  (str_utf8_offset): removed.\n\t  (str_strlen): UTF-8 codepoint oriented optimization removed.\n\t  (rb_str_substr): ditto.\n\t  (enc_succ_char): use rb_enc_mbc_precise_codepoint.\n\t  (enc_pred_char): ditto.\n\t  (rb_str_succ): ditto.\n\n\t* encoding.c (rb_enc_ascget): check length with\n\t  rb_enc_mbc_precise_codepoint.\n\t  (rb_enc_codepoint): use rb_enc_mbc_precise_codepoint.\n\n\t* regexec.c (string_cmp_ic): add text_end argument.\n\t  (match_at): check end of character after exact string matches.\n\n\t* enc/utf_8.c (grapheme_table): defined for extended grapheme cluster\n\t  boundary.\n\t  (grapheme_cmp): defined.\n\t  (get_grapheme_properties): defined.\n\t  (grapheme_boundary_p): defined.\n\t  (MAX_BYTES_LENGTH): defined.\n\t  (comb_char_enc_len): defined.\n\t  (mbc_to_code0): extracted from mbc_to_code.\n\t  (mbc_to_code): use mbc_to_code0.\n\t  (left_adjust_combchar_head): defined.\n\t  (utf_8): use a extended grapheme cluster as a unit.\n\n\t* enc/unicode.c (onigenc_unicode_mbc_case_fold): use\n\t  ONIGENC_MBC_PRECISE_CODEPOINT to extract codepoints.\n\t  (onigenc_unicode_get_case_fold_codes_by_str): ditto.\n\n\t* enc/euc_jp.c (mbc_to_code): follow mbc_to_code field change.\n\t  use onigenc_mbn_mbc_to_code.\n\n\t* enc/shift_jis.c (mbc_to_code): ditto.\n\n\t* enc/emacs_mule.c (mbc_to_code): ditto.\n\n\t* enc/gbk.c (gbk_mbc_to_code): follow mbc_to_code field and\n\t  onigenc_mbn_mbc_to_code change.\n\n\t* enc/cp949.c (cp949_mbc_to_code): ditto.\n\n\t* enc/big5.c (big5_mbc_to_code): ditto.\n\n\t* enc/euc_tw.c (euctw_mbc_to_code): ditto.\n\n\t* enc/euc_kr.c (euckr_mbc_to_code): ditto.\n\n\t* enc/gb18030.c (gb18030_mbc_to_code): ditto.\n\n\t* enc/utf_32be.c (utf32be_mbc_to_code): follow mbc_to_code field\n\t  change.\n\n\t* enc/utf_16be.c (utf16be_mbc_to_code): ditto.\n\n\t* enc/utf_32le.c (utf32le_mbc_to_code): ditto.\n\n\t* enc/utf_16le.c (utf16le_mbc_to_code): ditto.\n\nWed Sep 17 01:17:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (enc_arg): raise exception when unknown encoding is\n\t  given.\n\nTue Sep 16 22:23:24 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI#header): performance improvement.\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\n\t* test/cgi/test_cgi_header.rb: exception class fixed.\n\nTue Sep 16 22:21:33 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_concat): fix rdoc. (codepoint is integer)\n\n\t* string.c (rb_str_each_codepoint): use UINT2NUM.\n\nTue Sep 16 21:48:55 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_reg_desc): Regexp#inspect should be US-ASCII.\n\nTue Sep 16 21:33:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_crypt): orthodox crypt() sees only first two bytes\n\t  of salt.\n\nTue Sep 16 19:18:40 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_marshal_{dump,load}): preserve instance\n\t  variables.\n\n\t* rational.c (nurat_marshal_{dump,load}): ditto.\n\nTue Sep 16 18:28:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_gets_m): rdoc updated.  limit counts in bytes.\n\t  [ruby-core:18617]\n\n\t* io.c (rb_io_readlines, rb_f_gets): ditto.\n\n\t* io.c (rb_io_readbyte): rdoc updated.  [ruby-core:18617]\n\nTue Sep 16 11:55:16 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_each_codepoint): add new methods, #codepoints\n\t  and #each_codepoint.  a patch from Michael Selig\n\t  <michael.selig at fs.com.au> in [ruby-core:18532].\n\nTue Sep 16 11:24:44 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/mkconstants.rb: add new constants.  a patch from\n\t  IWAMURO Motonori <deenheart+ruby at gmail.com> in [ruby-dev:36309].\n\nTue Sep 16 09:20:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_io.rb (TestIO#test_dup): exception should be\n\t  raised from IO#dup.\n\nTue Sep 16 08:35:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_io.rb (TestIO#test_dup): this test might fail if\n\t  there are any garbage IO objects.\n\nTue Sep 16 02:02:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_buf_cat_ascii): codepoint is unsigned int.\n\n\t* string.c (rb_str_concat): ditto.\n\n\t* string.c (str_cat_char): ditto.\n\n\t* string.c (prefix_escape): ditto.\n\nTue Sep 16 01:47:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (single_byte_optimizable): make function inline.  based\n\t  on a patch from Michael Selig <michael.selig at fs.com.au> in\n\t  [ruby-core:18532].\n\n\t* string.c (str_modify_keep_cr): new function act as\n\t  rb_str_modify(), but don't clear coderange\n\n\t* string.c (rb_str_casecmp): specialized for single byte strings.\n\n\t* string.c (rb_str_splice): preserve coderange.\n\n\t* string.c (rb_str_slice_bang, rb_str_reverse_bang,\n\t  rb_str_upcase_bang, rb_str_downcase_bang, tr_trans,\n\t  rb_str_capitalize_bang, rb_str_swapcase_bang,\n\t  rb_str_delete_bang, rb_str_chop_bang, rb_str_chomp_bang,\n\t  rb_str_lstrip_bang, rb_str_rstrip_bang): ditto.\n\n\t* string.c (rb_str_clear): preset coderange.\n\n\t* string.c (rb_str_split_m): specialized for splitting with a\n\t  string.\n\nTue Sep 16 00:57:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_quote): use rb_enc_mbcput to generate ASCII\n\t  incompatible characters properly.\n\nTue Sep 16 00:51:59 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (Encoding#base_encoding): removed. [ruby-dev:36270]\n\nTue Sep 16 00:40:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (STR1_LENGTH): defined.\n\t  (makeSTR1LEN): defined.\n\n\t* tool/transcode-tblgen.rb: use makeSTR1LEN.  generate STR1 for 4 to\n\t  259 bytes.\n\n\t* transcode.c (rb_transcoding): new field: output_index.\n\t  (transcode_restartable0): use STR1_LENGTH.\n\nMon Sep 15 23:52:45 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c, include/ruby/ruby.h: rename rb_register_mark_object()\n\t  to rb_gc_register_mark_object().\n\n\t* eval.c, vm.c: initialize vm->mark_object_ary at\n\t  Init_top_self().\n\n\t* bignum.c, complex.c, encoding.c, ext/win32ole/win32ole.c,\n\t  io.c, load.c, marshal.c, rational.c, ruby.c, vm.c:\n\t  use rb_gc_register_mark_object() instead of\n\t  rb_global_variable() or rb_gc_register_address().\n\nMon Sep 15 23:37:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_opts): don't use to_sym.\n\nMon Sep 15 23:28:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_get_index): don't return -1.\n\n\t* io.c (rb_scan_open_args): call FilePathValue before encoding\n\t  conversion.\n\nMon Sep 15 22:11:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_squeeze_bang): specialized for 7bit characters in\n\t  ASCII compatible strings.\n\n\t* string.c (rb_str_count): ditto.\n\n\t* string.c (tr_trans): preserve 7bit/valid coderange flag.\n\n\t* string.c (rb_str_squeeze_bang): preserve previous coderange value.\n\n\t* string.c (rb_str_lstrip_bang): ditto.\n\n\t* string.c (rb_str_rstrip_bang): ditto.\n\n\t* encoding.c (rb_default_external_encoding): preserve\n\t  default_external_encoding in a static variable.\n\n\t* string.c (single_byte_optimizable): check coderange first, to\n\t  reduce number of calling rb_enc_from_index().\n\nMon Sep 15 20:57:00 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/matrix.rb (Matrix#eql?): fixed [ruby-dev:36298].\n\t  Reported by an anonymous user.\n\n\t* lib/matrix.rb (Vector#eql?): ditto.\n\n\t* (Matrix#compare_by_row_vectors): takes comparison\n\t  strategy as an optional parameter.\n\n\t* (Vector#compare_by): ditto.\n\nMon Sep 15 14:34:32 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (RUBY_MAX_CHAR_LEN): defined.\n\n\t* encoding.c (str_cat_char): use RUBY_MAX_CHAR_LEN.\n\nMon Sep 15 13:53:33 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): accept other than strings and\n\t  regexps. [ruby-core:18595]\n\n\t* encoding.c (rb_enc_get_index): works files and encodings.\n\nMon Sep 15 13:17:21 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_eql_p): new.\n\n\t* complex.c (nucomp_hash): should use hash values of the elements.\n\n\t* rational.c (nurat_hash): ditto.\n\n\t* hash.c (rb_any_cmp): removed an unused variable.\n\nMon Sep 15 11:11:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): resetsize_func and resetstate_func\n\t  also returns ssize_t.\n\n\t* enc/trans/iso2022.trans: follow the type change.\n\nMon Sep 15 10:28:10 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/matrix/test_matrix.rb (setup): typo.\n\t  (test_equality): misdefinition of the expected working.\n\t  Reported by an anonymous user.\n\t  (test_hash): added.\n\n\t* test/matrix/test_vector.rb: ditto.\n\nMon Sep 15 03:33:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h: return output functions ssize_t.\n\n\t* transcode.c (transcode_restartable0): don't need to cast the result\n\t  of output functions.\n\n\t* enc/trans/newline.trans: follow the type change.\n\n\t* enc/trans/escape.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/japanese.trans: ditto.\n\nMon Sep 15 03:04:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h: output function takes output buffer size.\n\n\t* transcode.c: give output buffer size for output functions.\n\n\t* enc/trans/newline.trans: follow the type change.\n\n\t* enc/trans/escape.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/japanese.trans: ditto.\n\nMon Sep 15 02:37:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (str_encode): returns duplicated string if nothing\n\t  changed.  [ruby-core:18578]\n\nSun Sep 14 22:09:01 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI::parse): performance improvement\n\nSun Sep 14 18:33:32 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: trivial changes.\n\nSun Sep 14 16:15:22 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/matrix.rb (Vector#eql?): typo of the method name as \"eqn?\".\n\t  (Vector#eqn?): removed. Defined by mistake.\n\t  Fixes [ruby-dev:36294]. Reported by weda <weda AT\n\t  issp.u-tokyo.ac.jp> and an anonymous user.\n\n\t* test/matrix/test_matrix.rb: added.\n\n\t* test/matrix/test_vector.rb: added.\n\nSun Sep 14 16:07:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): associates the locale encoding with $0 as\n\t  well as ARGV.\n\nSun Sep 14 13:48:03 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* object.c (Init_Object): added metameta-class initialization for\n\t  BasicObject, Object, and Module.\n\t  The metameta-classes of them are now the metaclass of Class, as the\n\t  metameta-class of Class is.\n\n\t* object.c (boot_defmetametaclass): added.\n\nSun Sep 14 10:10:43 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (f_{add,mul,sub}): omitted some shortcuts for preserving\n\t  signed zero anyway.\n\n\t* complex.c (nucomp_negate): new.\n\nSun Sep 14 04:15:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): add end argument for\n\t  left_adjust_char_head.\n\t  (ONIGENC_LEFT_ADJUST_CHAR_HEAD): add end argument.\n\t  (onigenc_get_left_adjust_char_head): ditto.\n\n\t* include/ruby/encoding.h (rb_enc_left_char_head): add end argument.\n\n\t* regenc.h (onigenc_single_byte_left_adjust_char_head): ditto.\n\n\t* regenc.c (onigenc_get_right_adjust_char_head): follow the interface\n\t  change.\n\t  (onigenc_get_right_adjust_char_head_with_prev): ditto.\n\t  (onigenc_get_prev_char_head): ditto.\n\t  (onigenc_step_back): ditto.\n\t  (onigenc_get_left_adjust_char_head): ditto.\n\t  (onigenc_single_byte_code_to_mbc): ditto.\n\n\t* re.c: ditto.\n\n\t* string.c: ditto.\n\n\t* io.c: ditto.\n\n\t* regexec.c: ditto.\n\n\t* enc/euc_jp.c: ditto.\n\n\t* enc/cp949.c: ditto.\n\n\t* enc/shift_jis.c: ditto.\n\n\t* enc/gbk.c: ditto.\n\n\t* enc/big5.c: ditto.\n\n\t* enc/euc_tw.c: ditto.\n\n\t* enc/euc_kr.c: ditto.\n\n\t* enc/emacs_mule.c: ditto.\n\n\t* enc/gb18030.c: ditto.\n\n\t* enc/utf_8.c: ditto.\n\n\t* enc/utf_16le.c: ditto.\n\n\t* enc/utf_16be.c: ditto.\n\n\t* enc/utf_32le.c: ditto.\n\n\t* enc/utf_32be.c: ditto.\n\nSun Sep 14 03:43:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (ONIGENC_STEP_BACK): add end argument.\n\t  (onigenc_step_back): ditto.\n\n\t* regenc.c (onigenc_step_back): add end argument.\n\n\t* regexec.c: follow the interface change.\n\nSun Sep 14 03:20:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (onigenc_get_prev_char_head): add end\n\t  argument.\n\n\t* include/ruby/encoding.h (rb_enc_prev_char): ditto.\n\n\t* regenc.c (onigenc_get_prev_char_head): add end argument.\n\n\t* regparse.c: follow the interface change.\n\n\t* regexec.c: ditto.\n\n\t* string.c: ditto.\n\n\t* parse.y: ditto.\n\nSun Sep 14 02:04:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h\n\t  (onigenc_get_right_adjust_char_head_with_prev): add end argument.\n\n\t* regenc.c (onigenc_get_right_adjust_char_head_with_prev): use end\n\t  argument.\n\n\t* regexec.c (forward_search_range): follow the interface change.\n\nSun Sep 14 01:38:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (onigenc_get_right_adjust_char_head): add\n\t  end argument.\n\n\t* include/ruby/encoding.h (rb_enc_right_char_head): add end argument.\n\n\t* regenc.c (onigenc_get_right_adjust_char_head): use end argument.\n\n\t* re.c (rb_reg_adjust_startpos): follow the interface change.\n\n\t* string.c (rb_str_index): ditto.\n\n\t* regexec.c (backward_search_range): ditto.\n\t  (onig_search): ditto.\n\nSun Sep 14 00:43:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/ripper/depend (ripper.o): it depends on ruby headers.\n\nSat Sep 13 19:27:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_encoding_set): don't need argc argument.\n\t  (rb_io_s_pipe): update io_encoding_set call.\n\t  (rb_io_set_encoding): ditto.\n\nSat Sep 13 18:46:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_transcoding): align state field.\n\nSat Sep 13 18:21:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (DECORATOR_P): renamed from SUPPLEMENTAL_CONVERSION.\n\nSat Sep 13 18:05:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (make_writeconv): use rb_enc_name.\n\t  (make_readconv): ditto.\n\n\t* transcode.c (rb_econv_open_opts): ditto.\n\t  (econv_args): ditto.\n\t  (decorate_convpath): ditto.\n\t  (econv_set_replacement): ditto.\n\nSat Sep 13 11:15:38 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/rexml/document.rb: fixed typo.\n\nSat Sep 13 10:53:13 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: refined.\n\n\t* rational.c: ditto.\n\nSat Sep 13 03:44:52 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_prepare_opts): raise ArgumentError if\n\t  a broken string is specified as a replacement.\n\nSat Sep 13 03:31:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* iseq.c (iseq_s_compile_file): use rb_file_open_str.\n\n\t* io.c (rb_file_open_generic): call validate_enc_binmode.\n\t  (rb_file_open_str): call FilePathValue.\n\nSat Sep 13 02:58:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (validate_enc_binmode): extracted from rb_io_extract_modeenc.\n\t  (rb_io_extract_modeenc): use validate_enc_binmode.\n\t  (io_encoding_set): call validate_enc_binmode.\n\nSat Sep 13 02:50:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_prepare_opts): initialize *opt and return 0\n\t  if opthash is nil.\n\nSat Sep 13 02:29:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans: transcoder name renamed to use underscore.\n\n\t* transcode.c: follow the renaming.\n\nSat Sep 13 02:12:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_init_by_convpath_i): new function.\n\t  (rb_econv_init_by_convpath): new function.\n\t  (econv_init): use rb_econv_init_by_convpath.\n\nSat Sep 13 01:11:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_args): take snamev_p and dnamev_p to prevent\n\t  possible GC problem.\n\nSat Sep 13 00:38:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (enc_arg): take arg as VALUE * to prevent possible GC\n\t  problem.\n\nFri Sep 12 23:19:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_add_transcoder_at): fix loop condition.\n\nFri Sep 12 22:39:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (decorator_names): extracted from rb_econv_open.\n\t  (rb_econv_open): use decorator_names.\n\t  (econv_args): extracted from econv_init.\n\t  (econv_init): use econv_args.\n\t  (decorate_convpath): new function.\n\t  (search_convpath_i): new function.\n\t  (econv_s_search_convpath): new method.\n\t  (Init_transcode): new method defined.\n\nFri Sep 12 21:55:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_t): new field: num_allocated.\n\t  (rb_econv_alloc): extracted from\n\t  rb_econv_open_by_transcoder_entries.\n\t  (rb_econv_add_transcoder_at): extracted from rb_econv_decorate_at\n\t  and generalized\n\t  (rb_econv_open_by_transcoder_entries): use rb_econv_alloc and\n\t  rb_econv_add_transcoder_at.\n\t  (rb_econv_add_converter): extracted from rb_econv_decorate_at.\n\t  (rb_econv_decorate_at): use rb_econv_add_converter.\n\n\nFri Sep 12 21:22:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_t): new field: started.\n\t  (rb_econv_open_by_transcoder_entries): initialize started field.\n\t  (rb_econv_convert): set started field.\n\t  (rb_econv_insert_output): ditto.\n\t  (rb_econv_decorate_at): check started field instead of num_finished.\n\nFri Sep 12 20:28:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* regenc.c (onigenc_single_byte_code_to_mbc): follow OnigEncoding\n\t  change.\n\nFri Sep 12 20:00:22 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* regparse.c (parse_exp): fix resource leak.\n\nFri Sep 12 01:21:22 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/syck/node.c (syck_replace_str2): fix wrong check to free ptr.\n\nThu Sep 11 20:18:24 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_err_in_callback.rb (teardown): get rid\n\t  of infinite loop.\n\nThu Sep 11 19:12:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h (OnigCodePoint): unsigned long to unsigned int.\n\n\t* include/ruby/encoding.h (rb_enc_codepoint): ditto.\n\n\t* encoding.c (rb_enc_codepoint): signed int to unsigned int.\n\n\t* encoding.c (rb_enc_ascget): ditto.\n\n\t* string.c (rb_str_casecmp): ditto.\n\n\t* string.c (enc_succ_alnum_char): ditto.\n\n\t* string.c (rb_str_inspect): ditto.\n\n\t* string.c (rb_str_upcase_bang): ditto.\n\n\t* string.c (rb_str_downcase_bang): ditto.\n\n\t* string.c (rb_str_capitalize_bang): ditto.\n\n\t* string.c (rb_str_swapcase_bang): ditto.\n\n\t* string.c (struct tr): ditto.\n\n\t* string.c (trnext): ditto.\n\n\t* string.c (tr_trans): ditto.\n\n\t* string.c (tr_setup_table): ditto.\n\n\t* string.c (tr_find): ditto.\n\n\t* string.c (rb_str_delete_bang): ditto.\n\n\t* string.c (rb_str_squeeze_bang): ditto.\n\n\t* string.c (rb_str_count): ditto.\n\n\t* string.c (rb_str_split_m): ditto.\n\n\t* string.c (rb_str_each_line): ditto.\n\n\t* string.c (rb_str_lstrip_bang): ditto.\n\n\t* string.c (rb_str_rstrip_bang): ditto.\n\n\t* string.c (rb_str_intern): ditto.\n\n\t* dir.c (char_casecmp): ditto.\n\n\t* sprintf.c (rb_str_format): ditto.\n\n\t* enc/emacs_mule.c (mbc_to_code): to be 32bit clean.\n\n\t* enc/emacs_mule.c (code_to_mbc): ditto.\n\n\t* enc/gb18030.c (mbc_to_code): ditto.\n\n\t* enc/gb18030.c (code_to_mbc): ditto.\n\nThu Sep 11 19:09:25 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/iconv/iconv.c: add attention for machine independent.\n\nThu Sep 11 15:23:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bigdivrem): adjust length for division and remainder.\n\t  a patch from TOYOFUKU Chikanobu <nobu_toyofuku at nifty.com> in\n\t  [ruby-dev:36231].\n\nThu Sep 11 02:59:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_binwrite): extracted from io_fwrite.\n\nThu Sep 11 02:25:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_encoding): new function.\n\t  (make_encobj): new function.\n\t  (econv_s_asciicompat_encoding): use make_encoding.\n\t  (rb_econv_open_exc): use SUPPLEMENTAL_CONVERSION.\n\t  (econv_convpath): use encoding object in the result.\n\nThu Sep 11 02:14:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_convpath): new method.\n\nWed Sep 10 23:00:43 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* tool/compile_prelude.rb: print \"<internal:prelude>\" instead of\n\t  \"prelude.rb\" on stack trace.  [ruby-dev:36129]\n\nWed Sep 10 21:19:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (big2str_karatsuba): remove unnecessary fixnum code.  a\n\t  patch from TOYOFUKU Chikanobu <nobu_toyofuku at nifty.com> in\n\t  [ruby-dev:36217].\n\nWed Sep 10 21:09:32 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_err_in_callback.rb: InternetExplorer should\n\t  be closed.\n\n\t* test/win32ole/err_in_callback.rb: ditto.\n\nWed Sep 10 18:25:19 2008  akira yamada  <akira@rice.p.arika.org>\n\n\t* lib/uri/common.rb (URI::Parser): new class.\n\n\t* lib/uri/mailto.rb, lib/uri/generic.rb: follow the above change.\n\n\t* test/uri/test_parser.rb: added tests for URI::Parser.\n\nWed Sep 10 10:35:32 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/cookie.rb (CGI::Cookie#to_s): performance improvement\n\t  from http://jp.rubyist.net/magazine/?0023-Cgirb.\n\nWed Sep 10 10:12:29 2008  akira yamada  <akira@arika.org>\n\n\t* lib/sync.rb (Sync_m#sync_exclusive): fixed\n\t  typo. [ruby-dev:36233] [RubyForge#11680]\n\nWed Sep 10 01:57:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (StrSet#hash): cache hash value.\n\t  (ActionMap#hash): ditto.\n\nWed Sep 10 01:26:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (econv_after_output): renamed from\n\t  econv_output_followed_by_input.\n\t  (ECONV_AFTER_OUTPUT): renamed from ECONV_OUTPUT_FOLLOWED_BY_INPUT.\n\n\t* transcode.c: follow the renaming.\n\n\t* io.c: ditto.\n\nWed Sep 10 01:16:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (get_replacement_character): don't return ASCII\n\t  incompatible replacements.\n\t  (make_replacement): don't convert the result of\n\t  get_replacement_character.\n\nWed Sep 10 01:05:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/newline.trans (rb_universal_newline): swap src_encoding\n\t  and dst_encoding.\n\n\t* transcode.c (rb_econv_decorate_at): call get_transcoder_entry only\n\t  once.\n\t  (rb_econv_binmode): follow universal_newline change.\n\nWed Sep 10 00:01:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): rename field: writeconv_stateless to\n\t  writeconv_asciicompat.\n\n\t* io.c: follow the renaming.\n\n\t* gc.c: ditto.\n\nTue Sep  9 23:55:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fwrite): raise an error if ASCII incompatible string\n\t  written for text mode IO without encoding conversion.\n\t  (rb_io_extract_modeenc): binmode requirement changed.\n\nTue Sep  9 21:59:48 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi*: split cgi.rb into four files. [ruby-dev:36041]\n\nTue Sep  9 21:17:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_DECORATOR_MASK): merge\n\t  ECONV_ENCODER_MASK and ECONV_DECORATOR_MASK.\n\t  (ECONV_UNIVERSAL_NEWLINE_DECORATOR): renamed from\n\t  ECONV_UNIVERSAL_NEWLINE_DECODER.\n\t  (ECONV_CRLF_NEWLINE_DECORATOR): renamed from\n\t  ECONV_CRLF_NEWLINE_ENCODER.\n\t  (ECONV_CR_NEWLINE_DECORATOR): renamed from ECONV_CR_NEWLINE_ENCODER.\n\t  (ECONV_XML_TEXT_DECORATOR): renamed from ECONV_XML_TEXT_ENCODER.\n\t  (ECONV_XML_ATTR_CONTENT_DECORATOR): renamed from\n\t  ECONV_XML_ATTR_CONTENT_ENCODER.\n\t  (ECONV_STATEFUL_DECORATOR_MASK): renamed from\n\t  ECONV_STATEFUL_ENCODER_MASK.\n\t  (ECONV_XML_ATTR_QUOTE_DECORATOR): renamed from\n\t  ECONV_XML_ATTR_CONTENT_DECORATOR.\n\n\t* io.c: follow the renaming.\n\n\t* transcode.c: ditto.\n\nTue Sep  9 20:55:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open0): make it static.\n\t  (rb_econv_open): place decorators at last.\n\nTue Sep  9 20:40:15 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/openssl/test_ssl.rb (OpenSSL#test_client_session):\n\t  Debian's openssl 0.9.8g-13 failed at assert(ssl.session_reused?),\n\t  when use default SSLContext. [ruby-dev:36167]\n\nTue Sep  9 20:34:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_t): last_trans_index removed.\n\t  (rb_econv_open_by_transcoder_entries): follow the type change.\n\t  (rb_econv_open0): ditto.\n\t  (rb_econv_decorate_at): ditto.\n\t  (rb_econv_binmode): ditto.\n\t  (rb_econv_insert_output): simplified because there are no decorators\n\t  at last.\n\nTue Sep  9 20:21:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): reverse the order of decoders.\n\nTue Sep  9 20:18:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open0): num_encoders and num_decoders removed.\n\nTue Sep  9 03:59:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (make_writeconv): useless branch removed.\n\nTue Sep  9 02:18:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_decorate_at_first): declared.\n\t  (rb_econv_decorate_at_last): declared.\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): initialize\n\t  replacement_enc.  allocate outbuf for the last transcoder.\n\t  (rb_econv_open0): extracted from rb_econv_open.\n\t  (rb_econv_open): use rb_econv_open0 and decorate the result using\n\t  rb_econv_decorate_at_first and rb_econv_decorate_at_last.\n\t  (rb_econv_decorate_at): new function.\n\t  (rb_econv_decorate_at_first): ditto.\n\t  (rb_econv_decorate_at_last): ditto.\n\t  (rb_econv_binmode): fix iteration end condition.\n\t  (econv_init): don't set source_encoding_name and\n\t  destination_encoding_name because they are set in rb_econv_open0.\n\nTue Sep  9 01:10:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): make ec a local variable.\n\nTue Sep  9 00:20:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_asciicompat_encoding): check decoder.\n\nTue Sep  9 00:00:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_t): last_error.partial_input removed.\n\nMon Sep  8 23:24:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_asciicompat_encoding): renamed\n\t  from rb_econv_stateless_encoding to apply stateless ASCII\n\t  incompatible encodings such as UTF-16BE.\n\n\t* io.c (make_writeconv): use rb_econv_asciicompat_encoding.\n\n\t* transcode_data.h (rb_transcoder_asciicompat_type_t): renamed from\n\t  rb_transcoder_stateful_type_t.\n\t  (rb_transcoder): use rb_transcoder_asciicompat_type_t.\n\n\t* transcode.c: follow the type change.\n\t  (asciicompat_encoding_i): renamed from stateless_encoding_i.\n\t  (rb_econv_asciicompat_encoding): renamed from\n\t  rb_econv_stateless_encoding.\n\t  (econv_s_asciicompat_encoding): method renamed.\n\n\t* tool/transcode-tblgen.rb: follow the type change.\n\n\t* enc/trans/utf_16_32.trans: follow the type change.\n\t  rb_from_UTF_16BE to UTF-8 is asciicompat_decoder.\n\t  rb_from_UTF_16LE to UTF-8 is asciicompat_decoder.\n\t  rb_from_UTF_32BE to UTF-8 is asciicompat_decoder.\n\t  rb_from_UTF_32LE to UTF-8 is asciicompat_decoder.\n\t  UTF-8 to rb_to_UTF_16BE is asciicompat_encoder.\n\t  UTF-8 to rb_to_UTF_16LE is asciicompat_encoder.\n\t  UTF-8 to rb_to_UTF_32BE is asciicompat_encoder.\n\t  UTF-8 to rb_to_UTF_32LE is asciicompat_encoder.\n\n\t* enc/trans/newline.trans: follow the type change.  universal newline\n\t  decoder is asciicompat_converter.\n\n\t* enc/trans/escape.trans: follow the type change.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/japanese.trans: ditto.\n\nMon Sep  8 23:05:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_insert_output): \"readagain\" part should be\n\t  after replacement.\n\nMon Sep  8 22:30:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (dir_initialize): rename option name of Dir.open\n\t  from :external_encoding to :encoding.\n\nMon Sep  8 22:16:20 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi.rb : obsolete regex \"n\" option. [ruby-dev:36130]\n\nMon Sep  8 18:13:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (getppid): typo. [ruby-dev:36202]\n\n\t* process.c (get_ppid): mention the return value on Windows.\n\nMon Sep  8 18:15:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ArrayCode): less string substitutions.\n\nMon Sep  8 18:13:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* vm.c (rb_mRubyVMFrozenCore): registered for GC.\n\n\t* re.c (rb_reg_preprocess_dregexp): fix GC problem on MacOS X with\n\t  powerpc-apple-darwin8-gcc-4.0.1 (GCC) 4.0.1 (Apple Computer, Inc.\n\t  build 5367).\n\nMon Sep  8 18:09:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.h): define SIZE_MAX for VC++6/7.\n\nMon Sep  8 17:46:09 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (filetime_to_unixtime): remove unused variable.\n\t  [ruby-dev:36191]\n\nMon Sep  8 13:47:39 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_io.rb (TestIO#test_dup): add open in block.\n\t  see [ruby-dev:35957].\n\nMon Sep  8 07:09:42 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: some adjustments.\n\n\t* rational.c: ditto.\n\nMon Sep  8 06:50:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (XLDFLAGS): added --enable-auto-import for cygwin and\n\t  mingw.\n\nMon Sep  8 02:04:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_set_replacement): renamed from\n\t  rb_econv_set_replacemenet.\n\n\t* transcode.c: follow the renaming.\n\nMon Sep  8 01:10:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (transcode_tblgen): log message refined.\n\nMon Sep  8 00:58:04 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c: removed unused code.\n\nMon Sep  8 00:04:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/iso2022.trans: upcase to iso-2022-jp.\n\n\t* enc/emacs_mule.c: ditto.\n\nSun Sep  7 23:46:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/iso2022.trans: stateless-iso-2022-jp is defined to avoid\n\t  undefined conversion error between iso-2022-jp and the corresponding\n\t  stateless encoding.\n\n\t* enc/emacs_mule.c: replicate emacs-mule as stateless-iso-2022-jp.\n\nSun Sep  7 20:03:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans (hexstr): renamed from str1.\n\nSun Sep  7 19:45:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans: use transcode_tblgen.\n\n\t* tool/transcode-tblgen.rb: generate an empty line after str1.\n\nSun Sep  7 19:16:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ActionMap#str_name): new method to\n\t  generate a name base on string content.\n\t  (ActionMap#gen_str): extracted from generate_info and use str_name.\n\nSun Sep  7 18:28:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ActionMap#generate_info): use a memo to\n\t  avoid duplication for STR1.\n\nSun Sep  7 18:10:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (STR1): defined for a string up to 255 bytes.\n\t  (STR1_BYTEINDEX): defined.\n\t  (makeSTR1): defined.\n\n\t* tool/transcode-tblgen.rb: generate STR1.\n\n\t* transcode.c (transcode_restartable0): interpret STR1.\n\n\t* enc/trans/escape.trans (fun_so_escape_xml_chref): removed.  STR1 is\n\t  used instead.\n\nSun Sep  7 17:54:45 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* configure.in: Mac OS X's crypt(2) is broken with invalid salt.\n\t  [ruby-dev:35899]\n\t* string.c (rb_str_crypt): ditto.\n\nSun Sep  7 17:29:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: o4 is usable only if the first byte is\n\t  f0-f7.\n\nSun Sep  7 12:44:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (make_writeconv): choose ASCII compatible encoding as\n\t  intermediate encoding if stateful encoder exists.\n\nSun Sep  7 12:09:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_XML_ATTR_CONTENT_ENCODER): defined.\n\t  (ECONV_STATEFUL_ENCODER_MASK): defined.\n\t  (ECONV_XML_ATTR_QUOTE_ENCODER): defined.\n\t  (ECONV_XML_ATTR_ENCODER): removed.\n\n\t* enc/trans/escape.trans (rb_escape_xml_attr_content): defined.\n\t  (rb_escape_xml_attr_quote): defined.\n\t  (rb_escape_xml_attr): removed.\n\n\t* io.c (NEED_WRITECONV): writeconv is required if supplemental\n\t  converter is used.\n\t  (make_writeconv): apply stateful encoder in writeconv.\n\n\t* transcode.c: follow the constant change.\n\nSun Sep  7 07:24:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/*.el:  merged the following patches from Nathan Weizenbaum\n\t  <nex342 at gmail.com>.   [ruby-core:18424]\n\n\t* misc/ruby-mode.el: improve here-doc performance.\n\n\t* misc/ruby-mode.el: don't crash the whole mode if the Subversion\n\t  $ keyword isn't interpolated.\n\n\t* misc/ruby-mode.el: don't highlight keywords when they're the\n\t  beginning of non-keyword symbols.\n\n\t* misc/ruby-mode.el, misc/ruby-electric.el: use regexp-opt where\n\t  possible for more efficient regexps.\n\n\t* misc/*.el: untabify, for internal consistency and consistency\n\t  with standard Emacs elisp files.\n\n\t* misc/ruby-mode.el: fix a variable-name error.\n\n\t* misc/emacs-mode.el: don't set case-fold-search globally to nil;\n\t  instead just set it when we need it.\n\nSun Sep  7 06:31:51 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (file_expand_path): applied a patch from Nobuhiro Tachino\n\t  in [ruby-dev:35948].  fix #491\n\nSun Sep  7 03:37:05 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_block_optarg): allow default for block parameters as\n\t  long as the value is primary.  a patch from Eric Mahurin\n\t  <eric.mahurin at gmail.com> in [ruby-core:16880].\n\nSun Sep  7 01:07:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (yylex): \"1.upto 2 {|i| p i }\" should be syntax error.\n\t  [ruby-dev:36008]\n\n\t* test/ruby/test_parse.rb (TestParse): update a test not to use\n\t  recently fixed inconsistent syntax.\n\nSun Sep  7 00:37:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_ERROR_HANDLER_MASK): defined.\n\t  (ECONV_DECODER_MASK): defined.\n\t  (ECONV_ENCODER_MASK): defined.\n\n\t* io.c (make_writeconv): restrict ecflags for writeconv with\n\t  ECONV_ERROR_HANDLER_MASK.\n\nSat Sep  6 23:03:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_XML_TEXT_ENCODER): renamed from\n\t  ECONV_HTML_TEXT_ENCODER.\n\t  (ECONV_XML_ATTR_ENCODER): renamed from ECONV_HTML_ATTR_ENCODER.\n\n\t* enc/trans/escape.trans: follow the renaming.\n\n\t* transcode.c: ditto.\n\nSat Sep  6 21:35:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/mkconstants.rb: add some IPV6 constants. [ruby-dev:36175]\n\nSat Sep  6 20:10:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_description): show ECONV_HTML_TEXT_ENCODER and\n\t  ECONV_HTML_ATTR_ENCODER.\n\nSat Sep  6 20:06:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_binmode): check actual transcoders.\n\nSat Sep  6 19:54:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): fix last_tc.\n\nSat Sep  6 19:36:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_binmode): clear newline flags in writeconv_pre_ecflags.\n\nSat Sep  6 18:47:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (str_transcode0): check ECONV_HTML_TEXT_ENCODER and\n\t  ECONV_HTML_ATTR_ENCODER.\n\nSat Sep  6 18:38:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (allocate_converted_string): fix overflow condition.\n\nSat Sep  6 15:06:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (sym_html): new variable.\n\t  (sym_text): ditto.\n\t  (sym_attr): ditto.\n\t  (econv_opts): check :html=>:text and :html=>:attr.\n\t  (Init_transcode): initialize the above variables.\n\nSat Sep  6 14:46:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_HTML_TEXT_ENCODER): new constant.\n\t  (ECONV_HTML_ATTR_ENCODER): ditto.\n\n\t* transcode.c (rb_econv_open): check ECONV_HTML_TEXT_ENCODER and\n\t  ECONV_HTML_ATTR_ENCODER.\n\t  (Init_transcode): Encoding::Converter::HTML_TEXT_ENCODER and\n\t  Encoding::Converter::HTML_ATTR_ENCODER defined.\n\nSat Sep  6 14:15:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (struct trans_open_t): defined to pass num_additional.\n\t  (trans_open_i): use struct trans_open_t.\n\t  (rb_econv_open): ditto.\n\nSat Sep  6 13:43:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans (fun_so_escape_html_attr): fix return type.\n\nSat Sep  6 12:43:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): needless branch removed.\n\nSat Sep  6 12:38:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): test condition simplified.\n\nSat Sep  6 12:25:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (stateless_encoding_i): ignore supplemental conversions.\n\t  Encoding::Converter.stateless_encoding(\"html-attr-escaped\") should be\n\t  nil.\n\nSat Sep  6 12:19:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans (escape_html_attr_init): new function.\n\t  (fun_so_escape_html_attr): new function.\n\t  (escape_html_attr_finish): new function.\n\t  (rb_escape_html_attr): use them to quote the converted result.\n\nSat Sep  6 07:54:36 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: uses f_real_p macro.\n\nSat Sep  6 07:27:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): fail for ASCII incompatible with\n\t  newline conversion.\n\nSat Sep  6 07:24:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_extract_modeenc): raise an error for ASCII incompatible\n\t  encoding without binmode.\n\nSat Sep  6 07:12:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bigdivrem1): optimization by skipping zeros at the\n\t  tail of digits.  a patch from TOYOFUKU Chikanobu\n\t  <nobu_toyofuku at nifty.com> in [ruby-dev:36169].\n\nSat Sep  6 06:28:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans: new file.\n\nSat Sep  6 06:23:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (StrSet.parse): accept upper case\n\t  hexadecimal digits.\n\nSat Sep  6 05:37:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (output_hex_charref): upcase hexadecimal digits.\n\nSat Sep  6 05:22:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_UNDEF_HEX_CHARREF): defined.\n\n\t* transcode.c (output_hex_charref): new function.\n\t  (rb_econv_convert): call output_hex_charref if\n\t  ECONV_UNDEF_HEX_CHARREF.\n\t  (Init_transcode): Encoding::Converter::UNDEF_HEX_CHARREF added.\n\nSat Sep  6 03:52:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_convert): use ECONV_INVALID_MASK and\n\t  ECONV_UNDEF_MASK.\n\nSat Sep  6 06:05:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/ruby.h (DBL2NUM): renamed from DOUBLE2NUM.\n\t  a patch from Tadashi Saito <shiba at mail2.accsnet.ne.jp>\n\t  in [ruby-dev:36102].\n\nSat Sep  6 04:44:06 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (Init_Proc): add '===' operator to use procs in when\n\t  clause of the case statement.  inspired by <http://www.aimred.com/news/developers/2008/08/14/unlocking_the_power_of_case_equality_proc/>.\n\nSat Sep  6 03:18:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (allocate_converted_string): add arguments for a buffer\n\t  allocated by caller.\n\t  (rb_econv_insert_output): provide caller allocated buffer to\n\t  allocate_converted_string.\n\nSat Sep  6 02:58:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (str_transcode_enc_args): local variables renamed.\n\t  (str_transcode0): ditto.\n\nSat Sep  6 02:23:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_s_stateless_encoding): new method.\n\nSat Sep  6 02:01:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (enc_arg): extracted from str_transcode_enc_args.\n\t  (str_transcode_enc_args): use enc_arg.\n\nFri Sep  5 20:27:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_modestr_fmode): renamed from\n\t  rb_io_mode_flags.\n\t  (rb_io_modestr_oflags): renamed from rb_io_mode_modenum.\n\t  (rb_io_oflags_fmode): renamed from rb_io_modenum_flags.\n\t  (rb_io_mode_flags): defined as a macro.\n\t  (rb_io_modenum_flags): ditto.\n\n\t* io.c: follow the renaming with consistency.\n\n\t* process.c (check_exec_redirect): call rb_io_modestr_oflags.\n\n\t* ext/pty/depend: pty.o depends on io.h.\n\nFri Sep  5 20:12:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/newline.trans (universal_newline_finish): new function.\n\nFri Sep  5 20:07:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_mode_modenum): moved from\n\t  include/ruby/intern.h.\n\nFri Sep  5 19:59:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (MODENUM_MAX): removed.\n\nFri Sep  5 18:37:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (copy_stream_fallback_body): use read method unless readpartial\n\t  is available.  [ruby-dev:36124]\n\nFri Sep  5 18:16:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_create): strips glibc style option before\n\t  charset mapping.  retries without options if they seemed causing\n\t  error, and warns.  [ruby-dev:36147]\n\nFri Sep  5 03:09:48 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (iseq_data_to_ary): make it static.\n\n\t* thread.c (thgroup_enclose): ditto.\n\nFri Sep  5 02:56:37 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (thread_recycle_stack_slot, thread_recycle_stack_count):\n\t  make it static.\n\nFri Sep  5 02:40:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_critical): removed.\n\nFri Sep  5 01:22:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (argf_mark): mark p->encs.ecopts.\n\nFri Sep  5 00:45:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): rename fields:\n\t  from_encoding -> src_encoding, to_encoding -> dst_encoding.\n\n\t* transcode.c: follow the renaming.\n\nFri Sep  5 00:22:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c: variables renamed for consistency.\n\nFri Sep  5 00:05:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* pack.c (encodes): make buff fixed length to avoid SEGV by\n\t  ruby -e '[\"a\"*10000000].pack(\"m1000000000\")'\n\nThu Sep  4 23:47:05 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_mode): set exception mode\n\t  correctly.  In spite of BigDecimal.mode(BigDecimal::EXCEPTION_ALL,\n\t  true), BigDecimal.new(\"NaN\") did not raise an exception previously.\n\nThu Sep  4 23:42:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_file_open_str): declared.\n\n\t* io.c (rb_file_open_str): defined.\n\n\t* ext/zlib/zlib.c (gzfile_s_open): use rb_file_open_str instead of\n\t  rb_file_open.\n\nThu Sep  4 23:18:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/newline.trans: record newline types met in universal\n\t  newline decoder.\n\nThu Sep  4 23:05:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/prime.rb (Prime::OldCompatibility#each): added compatibility to\n\t    Ruby 1.8.7.\n\t  (Prime#each): added more rdocs.\n\t  (Prime#each): remembers the last value of the given block.\n\nThu Sep  4 21:53:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_init): accept an integer as 3rd argument as well.\n\nThu Sep  4 21:46:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (sym_partial_input): new variable.\n\t  (econv_primitive_convert): accept a hash as 5th argument as well.\n\nThu Sep  4 21:04:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (sym_universal_newline_decoder): new variable.\n\t  (sym_crlf_newline_encoder): ditto.\n\t  (sym_cr_newline_encoder): ditto.\n\t  (econv_opts): check newline converter options.\n\t  (econv_init): make 3rd argument hash/nil only.\n\nThu Sep  4 21:03:28 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_dump.c: rename some debug functions.\n\nThu Sep  4 20:57:54 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_check_trap_pending): added for compatibility.\n\n\t* ext/tk/tcltklib.c, ext/tk/tkutil/tkutil.c: remove ruby/signal.h\n\t  dependency.\n\nThu Sep  4 20:30:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (PType): defined unconditionally.\n\n\t* transcode.c (PType): don't define here.\n\nThu Sep  4 20:19:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c: variables renamed for consistency.\n\nThu Sep  4 19:40:50 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (gc_profile_record_get): to static function.\n\t(gc_profile_result): ditto.\n\t(gc_profile_report): ditto.\n\nThu Sep  4 19:20:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_enc_t): rename flags to ecflags.\n\t  (rb_io_t): rename writeconv_pre_flags to writeconv_pre_ecflags.\n\t  (MakeOpenFile): follow the renaming.\n\n\t* io.c: follow the renaming.\n\nThu Sep  4 19:10:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_INVALID_IGNORE): removed because\n\t  it tend to cause security problem.  If the behaviour is really\n\t  required, ECONV_INVALID_REPLACE with empty string can be used.\n\t  For example, CVE-2006-2313, CVE-2008-1036, [ruby-core:15645],\n\t  http://unicode.org/reports/tr36/\n\t  (ECONV_UNDEF_IGNORE): ditto.\n\n\t* transcode.c (rb_econv_convert): follow the above change.\n\t  (econv_opts): ditto.\n\t  (Init_transcode): ditto.\n\nThu Sep  4 13:22:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (struct rb_vm_struct): replaced signal staff with trap\n\t  staff.\n\n\t* signal.c (signal_buff): per process resource now.\n\n\t* signal.c (trap_list): moved to VM.\n\n\t* signal.c (rb_get_next_signal): reverted.\n\n\t* signal.c (rb_trap_exit): trap_pending_list was no longer used.\n\n\t* thread.c (timer_thread_function): delivers buffered per-process\n\t  signals to each VMs.\n\n\t* vm.c (rb_vm_mark): marks trap_list.\n\nThu Sep  4 13:01:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (struct sysopen_struct, rb_sysopen_internal, rb_sysopen):\n\t  constified.\n\n\t* io.c: expanded ARGF members macros.\n\nThu Sep  4 10:43:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/transcode-tblgen.rb (citrus_decode_mapsrc): support older 1.8.\n\nThu Sep  4 10:33:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_next_argv, argf_set_encoding): copy struct wise.\n\nThu Sep  4 09:46:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_scan_open_args): follow rb_str_transcode change.\n\nThu Sep  4 08:59:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* file.c (rb_find_file): fix GC problem on Debian GNU/Linux (IA64)\n\t  with gcc (GCC) 4.1.2 20061115 (prerelease) (Debian 4.1.1-21).\n\t  There is no register/memory to contain load_path.  A register (r35)\n\t  contains &RARRAY_PTR(load_path), (char*)load_path + 32.\n\nThu Sep  4 03:10:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): new fields: encs.ecopts and\n\t  writeconv_pre_ecopts.\n\t  (MakeOpenFile): initialize them.\n\n\t* include/ruby/encoding.h (rb_str_transcode): take ecopts argument.\n\t  (rb_econv_flags): removed.\n\t  (rb_econv_prepare_opts): declared.\n\t  (rb_econv_open_opts): declared.\n\n\t* io.c (make_writeconv): use rb_econv_open_opts.\n\t  (make_readconv): ditto.\n\t  (io_fwrite): follow rb_str_transcode change.\n\t  (rb_io_extract_modeenc): use rb_econv_prepare_opts.\n\t  (rb_file_open_generic): initialize encs.ecopts.\n\t  (rb_file_open_internal): ditto.\n\t  (rb_io_reopen): ditto.\n\t  (argf_ecopts): defined.\n\t  (argf_next_argv): set encs.ecopts.\n\t  (io_encoding_set): use rb_econv_prepare_opts.\n\t  (argf_set_encoding): set argf_ecopts.\n\n\t* gc.c (gc_mark_children): mark encs.ecopts and writeconv_pre_ecopts\n\t  in T_FILE.\n\n\t* transcode.c (transcode_loop): take ecopts argument. use\n\t  rb_econv_open_opts.\n\t  (rb_econv_flags): removed.\n\t  (rb_econv_prepare_opts): defined.\n\t  (rb_econv_open_opts): defined.\n\t  (str_transcode0): take ecopts.\n\t  (str_transcode): use rb_econv_prepare_opts.\n\t  (rb_str_transcode): take ecopts.\n\t  (econv_init): accept hash argument.\n\t  (econv_insert_output): follow rb_str_transcode change.\n\nThu Sep  4 01:30:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_set_replacemenet): declared.\n\n\t* transcode.c (rb_econv_t): new fields: replacement_str,\n\t  replacement_len, replacement_enc and replacement_allocated.\n\t  (get_replacement_character): make len as size_t.\n\t  (rb_econv_open_by_transcoder_entries): initialize the new fields.\n\t  (rb_econv_close): deallocate replacement_str if it allocated.\n\t  (make_replacement): new function.\n\t  (output_replacement_character): use make_replacement.\n\t  (rb_econv_set_replacemenet): defined.\n\t  (econv_get_replacement): new method.\n\t  (econv_set_replacement): new method.\n\nThu Sep  4 01:12:03 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (filetime_to_timeval): new function, split from\n\t  gettimeofday().\n\n\t* win32/win32.c (gettimeofday): use above function.\n\n\t* win32/win32.c (filetime_to_unixtime): ditto. [ruby-dev:36135]\n\nThu Sep  4 01:00:57 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* transcode.c (transcode_restartable0): avoid VC++6's bug.\n\nThu Sep  4 00:26:27 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (make_writeconv): follow akr's previous commit.\n\nThu Sep  4 00:09:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_option_t): removed.  Since\n\t  rb_econv_option_t has only one field, int flags, rb_econv_option_t is\n\t  replaced by int.\n\n\t* include/ruby/io.h: follow the above change.\n\n\t* io.c: ditto.\n\n\t* transcode.c: ditto.\n\nThu Sep  4 00:04:59 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* win32/win32.c: fix ruby/signal.h depending codes.\n\nThu Sep  4 00:01:45 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/etc/test_etc.rb (test_getpwuid, test_getgrgid): use\n\t  Process.euid and egid instead of Etc.getlogin to identify current\n\t  user which may be different from a login one (e.g., su command).\n\nWed Sep  3 23:52:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/etc/test_etc.rb: check only typical use of\n\t  setpwent/getpwent/endpwent and setgrent/getgrent/endgrent.\n\nWed Sep  3 23:33:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_transcoding): moved from transcode_data.h.\n\t  (TRANSCODING_READBUF): ditto.\n\t  (TRANSCODING_WRITEBUF): ditto.\n\t  (TRANSCODING_STATE_EMBED_MAX): ditto.\n\t  (TRANSCODING_STATE): ditto.\n\nWed Sep  3 23:03:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): remove stateful field.\n\t  add state field.\n\t  (TRANSCODING_STATE): defined.\n\t  (rb_transcoder): add fields: state_size, state_init_func,\n\t  state_fini_func.\n\t  change rb_transcoding* argument to void*.\n\n\t* transcode.c (transcode_restartable0): use TRANSCODING_STATE for\n\t  first arguments of transcoder functions.\n\t  (rb_transcoding_open_by_transcoder): initialize state field.\n\t  (rb_transcoding_close): finalize state field.\n\n\t* tool/transcode-tblgen.rb: provide state size/init/fini.\n\n\t* enc/trans/newline.trans (universal_newline_init): defined.\n\t  (fun_so_universal_newline): take void* as a state pointer.\n\t  (rb_universal_newline): provide state size/init/fini.\n\t  (rb_crlf_newline): ditto.\n\t  (rb_cr_newline): ditto.\n\n\t* enc/trans/iso2022.trans (iso2022jp_init): defined.\n\t  (fun_si_iso2022jp_to_eucjp): take void* as a state pointer.\n\t  (fun_so_iso2022jp_to_eucjp): ditto.\n\t  (fun_so_eucjp_to_iso2022jp): ditto.\n\t  (iso2022jp_reset_sequence_size): ditto.\n\t  (finish_eucjp_to_iso2022jp): ditto.\n\t  (rb_ISO_2022_JP_to_EUC_JP): provide state size/init/fini.\n\t  (rb_EUC_JP_to_ISO_2022_JP): ditto.\n\n\t* enc/trans/utf_16_32.trans (fun_so_from_utf_16be): take void* as a\n\t  state pointer.\n\t  (fun_so_to_utf_16be): ditto.\n\t  (fun_so_from_utf_16le): ditto.\n\t  (fun_so_to_utf_16le): ditto.\n\t  (fun_so_from_utf_32be): ditto.\n\t  (fun_so_to_utf_32be): ditto.\n\t  (fun_so_from_utf_32le): ditto.\n\t  (fun_so_to_utf_32le): ditto.\n\t  (rb_from_UTF_16BE): provide state size/init/fini.\n\t  (rb_to_UTF_16BE): ditto.\n\t  (rb_from_UTF_16LE): ditto.\n\t  (rb_to_UTF_16LE): ditto.\n\t  (rb_from_UTF_32BE): ditto.\n\t  (rb_to_UTF_32BE): ditto.\n\t  (rb_from_UTF_32LE): ditto.\n\t  (rb_to_UTF_32LE): ditto.\n\n\t* enc/trans/japanese.trans (fun_so_eucjp2sjis): take void* as a state\n\t  pointer.\n\t  (fun_so_sjis2eucjp): ditto.\n\t  (rb_eucjp2sjis): provide state size/init/fini.\n\t  (rb_sjis2eucjp): provide state size/init/fini.\n\nWed Sep  3 22:31:11 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/mathn.rb (Integer): moved into prime.rb.\n\t  (Prime): ditto.\n\n\t* lib/prime.rb (Integer): moved from mathn.rb.\n\t  (Integer.each_prime): added.\n\t  (Integer#prime?): added.\n\t  (Prime): moved from mathn.rb.\n\t    Its implementation was rewritten. see [ruby-dev:35863].\n\t    And patched by Keiju ISHITSUKA <keiju@ishitsuka.com>,\n\t    see [ruby-dev:36128].\n\t  (Prime.new):                     obsolete.\n\t  (Prime.instance):                added.\n\t  (Prime.each):                    added.\n\t  (Prime.int_from_prime_division): added.\n\t  (Prime.prime_division):          added.\n\t  (Prime.prime?):                  added.\n\t    Patch by TOYOFUKU Chikanobu\n\t    <nobu_toyofuku at nifty.com> in [ruby-dev:36067].\n\t  (Prime.cache):                   removed.\n\t  (Prime.primes):                  removed.\n\t  (Prime.primes_so_far):           removed.\n\t  (Prime#int_from_prime_division): added.\n\t  (Prime#prime_division):          added.\n\t  (Prime#prime?):                  added.\n\t  (Prime#primes):                  removed.\n\t  (Prime#primes_so_far):           removed.\n\t  (Prime::PseudoPrmeGenerator):    added.\n\t  (Prime::EratosthenesGenerator):  added.\n\t  (Prime::TrialDivisionGenerator): added.\n\t  (Prime::Generator23):            added.\n\t  (Prime::TrialDivision):          added.\n\t    Extracted from the previous implementation of Prime\n\t    by Keiju ISHITSUKA.\n\t  (Prime::EratosthenesSieve):      added.\n\n\t* lib/.document (prime.rb): added\n\n\t* lib/README (prime.rb): added\n\n\t* test/test_prime.rb: added.\n\nWed Sep  3 21:49:00 2008  David A. Black  <dblack@rubypal.com>\n\n\t* lib/scanf.rb: fixed bug involving matching literal '['\n\n\t* test/scanf/test_scanf.rb: added test for scanf.rb fix\n\nWed Sep  3 21:31:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (WORDINDEX_SHIFT_BITS): defined.\n\t  (WORDINDEX2INFO): defined.\n\t  (INFO2WORDINDEX): defined.\n\n\t* tool/transcode-tblgen.rb: use WORDINDEX2INFO.\n\n\t* transcode.c: use INFO2WORDINDEX.\n\nWed Sep  3 21:19:51 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* golf_prelude.rb: suppress warnings when goruby -v.\n\nWed Sep  3 21:07:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (BL_MIN_BYTE): defined.\n\t  (BL_MAX_BYTE): defined.\n\t  (BL_OFFSET): defined.\n\t  (BL_ACTION): defined.\n\t  (transcode_restartable0): use BL_MIN_BYTE, BL_MAX_BYTE and\n\t  BL_ACTION.\n\nWed Sep  3 20:58:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (BYTE_ADDR): defined.\n\t  (WORD_ADDR): ditto.\n\t  (BL_BASE): use BYTE_ADDR and WORD_ADDR.\n\t  (BL_INFO): use WORD_ADDR.\n\nWed Sep  3 20:47:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): new field: byte_array_length and\n\t  word_array_length.\n\n\t* tool/transcode-tblgen.rb (transcode_generated_code): generate\n\t  byte_array_length and word_array_length.\n\nWed Sep  3 20:34:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ArrayCode): new class.\n\t  (ActionMap#gen_array_code): moved to ArrayCode.\n\t  (ActionMap#numelt_array_code): ditto.\n\t  (ActionMap#array_code_insert_at_last): ditto.\n\t  (TRANSCODE_GENERATED_BYTES_CODE): use ArrayCode.\n\t  (TRANSCODE_GENERATED_WORDS_CODE): ditto.\n\nWed Sep  3 20:08:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/japanese.trans: new file.\n\nWed Sep  3 20:04:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ActionMap#gen_array_code): extracted from\n\t  generate_lookup_node.\n\t  (ActionMap#numelt_array_code): ditto.\n\t  (ActionMap#array_code_insert_at_last): ditto.\n\nWed Sep  3 20:01:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (parser_encoding_name): defined.\n\t  (parser_tokadd_mbchar): show encoding in the message of\n\t  \"invalid multibyte char\" error.\n\nWed Sep  3 19:28:04 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_method_missing): C99.\n\nWed Sep  3 19:18:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_thread.rb: fix test.\n\t   [ruby-dev:35960]\n\nWed Sep  3 17:48:32 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/make_transdb.rb: check $(srcdir)/enc/trans before\n\t  enc/trans.\n\n\t* enc/trans/make_transdb.rb: keep names_t.\n\nWed Sep  3 16:54:46 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/signal.h: removed.\n\n\t* common.mk, class.c, eval.c, eval_intern.h, file.c, gc.c, hash.c,\n\t  io.c, process.c, signal.c: vm_core.h: ditto.\n\t  Some unused external global variables are also removed.\n\t (rb_prohibit_interrupt, rb_trap_immediate, rb_trap_pending,\n\t  rb_thread_critical)\n\n\t* ext/openssl/ossl_ssl.c, ext/openssl/ossl_x509store.c,\n\t  ext/readline/readline.c, ext/socket/depend,\n\t  ext/socket/socket.c: ditto.\n\nWed Sep  3 00:23:25 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm_insnhelper.c (vm_method_missing): copy arguments to allocated\n\t  memory from machine stack.  [ruby-dev:36064]\n\nTue Sep  2 22:20:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (base_element): removed.\n\t  (BYTE_LOOKUP): removed.\n\t  (BYTE_LOOKUP_BASE): don't cast.\n\t  (BYTE_LOOKUP_INFO): ditto.\n\t  (PType): unsigned int, instead of uintptr_t.\n\t  (rb_transcoding): change type of next_field, conv_tree_start and\n\t  word_array.\n\n\t* tool/transcode-tblgen.rb: generate word_array as array of unsigned\n\t  int.\n\n\t* transcode.c (transcode_restartable0): follow the above type change.\n\nTue Sep  2 21:22:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: add prefix for byte_array and word_array.\n\nTue Sep  2 20:57:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/make_transdb.rb: check foo.c only if foo.trans exists.\n\nTue Sep  2 19:19:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/make_transdb.rb: error message improved.\n\nTue Sep  2 14:05:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/trans/utf_16_32.trans (from_UTF_8): rename from to_UTF_16BE\n\t  because it was not collect.\n\nTue Sep  2 14:00:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* enc/emacs_mule.c (svn:executable): dropped executable bit.\n\n\t* enc/make_encdb.rb (svn:executable): ditto.\n\nTue Sep  2 12:58:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (COMPILERFLAG): new compiler flag to compile\n\t  enc/trans/japanese*.c.\n\nTue Sep  2 12:37:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/japanese_euc.trans: splitted from japanese.trans to avoid\n\t  compiler limitation.  reported by usa.\n\n\t* enc/trans/japanese_sjis.trans: ditto.\n\nTue Sep  2 12:31:24 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (miniruby): new target.\n\nTue Sep  2 11:47:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (struct load_arg): data is now st_table.\n\n\t* marshal.c (mark_load_arg): marks data and compat_tbl.\n\n\t* marshal.c (r_object0): no need to check if reentered.\n\n\t* marshal.c (marshal_load): make the wrapper with mark_load_arg.\n\nTue Sep  2 10:49:18 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (gettimeofday): easier calculation. use the definition\n\t  of the Gregorian calendar.\n\nTue Sep  2 10:33:12 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (distclean-golf): moved golf_prelude.c here from\n\t    distclean-local.\n\t  (GOLFPRELUDE): added.\n\t  (distclean-local): moved golf_prelude.c into distclean-golf.\n\nTue Sep  2 10:09:17 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (gettimeofday): calc tv_sec and tv_usec from system\n\t  time by myself. [ruby-dev:36084]\n\nTue Sep  2 04:00:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (o3): prevent sign extension on 64bit environment.\n\t  (o4): ditto.\n\nTue Sep  2 03:26:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: comment removed in generated code.\n\nTue Sep  2 03:16:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: define TRANSCODE_TABLE_INFO in generated\n\t  code.  use it in rb_transcoder.\n\n\t* enc/trans/newline.trans: use TRANSCODE_TABLE_INFO.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\nTue Sep  2 03:04:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: record infos and BYTE_LOOKUPs as index of\n\t  word_array to avoid relocation.\n\n\t* transcode.c (transcode_restartable0): add word_array to get infos\n\t  and BYTE_LOOKUPs.\n\n\t* transcode_data.h (BYTE_LOOKUP_INFO): change return type to\n\t  uintptr_t.\n\nTue Sep  2 02:48:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: don't need to cast offsets array.\n\nTue Sep  2 02:36:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: record offsets array as index of\n\t  byte_array to avoid relocation.\n\n\t* transcode.c (transcode_restartable0): add byte_array to get offsets\n\t  array.\n\n\t* transcode_data.h (BYTE_LOOKUP_BASE): change return type to\n\t  uintptr_t.\n\t  (rb_transcoder): add fields: byte_array, word_array and word_size.\n\n\t* enc/trans/newline.trans: follow rb_transcoder change.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\nTue Sep  2 02:05:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: make infos arrays and BYTE_LOOKUPs into\n\t  single array.\n\nTue Sep  2 01:47:44 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (clean-golf): added.\n\t  (distclean-golf): added.\n\t  (realclean-golf): added.\n\t  (clean): added clean-golf.\n\t  (distclean): added distclean-golf.\n\t  (realclean): added realclean-golf.\n\nTue Sep  2 01:31:45 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (realclean-local): added newline.c.\n\nTue Sep  2 01:19:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (BYTE_LOOKUP): change to uintptr_t array.\n\t  (BYTE_LOOKUP_BASE): follow the type change.\n\t  (BYTE_LOOKUP_INFO): ditto.\n\t  (PType): ditto.\n\t  (rb_transcoding): ditto.\n\n\t* tool/transcode-tblgen.rb: follow the type change.\n\n\t* transcode.c: ditto.\n\n\t* enc/trans/newline.trans: ditto.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\nMon Sep  1 23:32:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (BYTE_LOOKUP_BASE): abstract accessor for\n\t  BYTE_LOOKUP.\n\t  (BYTE_LOOKUP_INFO): ditto.\n\n\t* transcode.c (transcode_restartable0): use BYTE_LOOKUP_BASE and\n\t  BYTE_LOOKUP_INFO.\n\nMon Sep  1 23:14:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: gather infos arrays and BYTE_LOOKUPs.\n\nMon Sep  1 22:42:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/mkmf.rb (distclean): added RM_RF conftest.dSYM.\n\t  Fixes distclean-ext problem on Mac OS X.\n\t  (RM_RF): added.\n\nMon Sep  1 22:37:06 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/rexml/document.rb: limit entity expansion.  Thanks, Luka\n\t  Treiber, Mitja Kolsek, and Michael Koziarski.\n\n\t* lib/rexml/entity.rb: ditto.\n\n\t* test/rexml/test_document.rb: ditto.\n\nMon Sep  1 22:20:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: make offsets arrays into single array.\n\nMon Sep  1 21:46:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: gather offsets arrays at top.\n\nMon Sep  1 21:09:04 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ./: removed rubyspec from svn:ignore subversion property.\n\t  rubyspec directory is no longer used.\n\n\t* spec: added mspec and rubyspec to svn:ignore.\n\nMon Sep  1 19:37:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: ValidEncoding['eucJP-ms'] defined.\n\t  \"\\xA2\\xAF\".encode(\"utf-8\", \"eucJP-ms\") should raise\n\t  Encoding::ConversionUndefined, not Encoding::InvalidByteSequence.\n\nMon Sep  1 18:27:51 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (gettimeofday): shouldn't use mktime(3) because it's\n\t  buggy about handling summer time.\n\t  reported by Yoshikawa <yoshixool AT gmail.com> at [ruby-dev:36071]\n\nMon Sep  1 17:07:23 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/euc_jp.c (euc-jp-ms): euc-jp-ms is not an alias of EUC-JP\n\t  but eucJP-ms.\n\n\t* enc/trans/japanese.trans (eucJP-ms): eucJP-ms is the correct\n\t  name of the encoding in Ruby. [ruby-dev:36070]\n\nMon Sep  1 16:48:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/digest/md5/md5init.c (md5), ext/digest/rmd160/rmd160init.c\n\t  (rmd160) ext/digest/sha1/sha1init.c (sha1),\n\t  ext/digest/sha2/sha2init.c (sha256, sha384, sha512): constified.\n\nMon Sep  1 15:15:40 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.trans: fix mapping priority.\n\t  IBM extended is prior than NEC selected IBM.\n\nMon Sep  1 14:44:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* tool/transcode-tblgen.rb (transcode_compile_tree): use the first\n\t  mapping when some mappings are given for a character.\n\t  [ruby-dev:36068]\n\n\t* tool/transcode-tblgen.rb: expandtab.\n\nMon Sep  1 14:40:18 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* README.EXT (Appendix A): fixed the name of class\n\t  Enumerator. Enumerable::Enumerator was renamed just\n\t  Enumerator at revision 18564.\n\n\t* README.EXT (Appendix A): ditto.\n\nMon Sep  1 14:37:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* tool/transcode-tblgen.rb: set ERB source filename for error message.\n\nMon Sep  1 14:37:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend: transdb.c may not present.\n\nMon Sep  1 14:25:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.trans: fix Ruby 1.8 compatibility.\n\n\t* enc/trans/japanese.trans: fix mapping priority. [ruby-dev:36068]\n\nMon Sep  1 14:24:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/test_transcode.rb (test_windows_31j): added.\n\nMon Sep  1 14:00:04 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* README.EXT (Data-types): fixed for current status.\n\t  (Manipulating Ruby data): mentioned some more functions.\n\t  (Class/module definition): ditto.\n\t  (Global variables shared between C and Ruby):\n\t    fixed prototypes for the getter/setter's of global variables.\n\t  (Appendix A): mentioned some more files.\n\n\t* README.EXT.ja: ditto.\n\nMon Sep  1 11:31:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/fileutils.rb (copy_stream, fu_copy_stream0, copy_file): use\n\t  IO.copy_stream to get rid of extraneous conversion.\n\nMon Sep  1 02:55:15 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): calc timezone offset by myself if system\n\t  doesn't provide timezone info.\n\nMon Sep  1 02:48:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: change \"illegal\" to \"invalid\".\n\nMon Sep  1 02:31:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (transcode_generated_code): defined for\n\t  generating table at once.\n\t  (transcode_tblgen): returns an empty string.\n\t  (transcode_generate_node): ditto.\n\n\t* enc/trans/newline.trans: use transcode_generated_code.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/single_byte.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\n\t* enc/trans/japanese.trans: ditto.\n\n\t* enc/trans/korean.trans: ditto.\n\nMon Sep  1 02:10:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (citrus_decode_mapsrc): print logging\n\t  message on STDERR.\n\nMon Sep  1 01:24:09 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/eucjp-tbl.rb: replace by previous Citrus maps.\n\n\t* enc/trans/sjis-tbl.rb: ditto.\n\nMon Sep  1 01:18:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* tool/transcode-tblgen.rb: add table generator from Citrus maps.\n\n\t* enc/trans/japanese.trans: use Citrus maps.\n\n\t* enc/trans/CP: add maps from Citrus.\n\n\t* enc/trans/JIS: ditto.\n\n\t* test/ruby/test_transcode.rb: Shift_JIS and EUC-JP doesn't support\n\t  IBM extended characters.\n\nMon Sep  1 00:19:45 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (docs): removed a useless make target.\n\t  tool/makedoc.rb was removed at revision 13919.\n\nSun Aug 31 20:49:42 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (numeric_abs2): new.\n\nSun Aug 31 18:22:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (have_devel?): checks if the compiler works.\n\nSun Aug 31 18:02:41 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* Temporarily uses git://github.com/yugui/rubyspec.git\n\t  until specs for 1.9 is merged into\n\t  git://github.com/rubyspec/rubyspec.git.\n\nSun Aug 31 18:06:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode.c): set source_encoding and\n\t  destination_encoding as encoding object.\n\t  (ecerr_source_encoding): new method.\n\t  (ecerr_destination_encoding): ditto.\n\nSun Aug 31 17:58:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (Logging.log_open): opens in binary mode to get rid of\n\t  extra CR.\n\n\t* lib/mkmf.rb (try_func, try_var, have_struct_member),\n\t  (scalar_ptr_type?, scalar_type?): use MAIN_DOES_NOTHING.\n\n\t* lib/mkmf.rb (MAIN_DOES_NOTHING): defaults to ordinary main.\n\n\t* win32/Makefile.sub (config): for MAIN_DOES_NOTHING for wince.\n\nSun Aug 31 17:30:35 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/README (How to run): added.\n\nSun Aug 31 17:28:25 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/default.mspec (config): added.\n\n\t* spec/default.mspec (target): replaced the built ruby\n\t  to runruby.rb.\n\t  Improved $LOAD_PATH on running specs.\n\n\t* spec/default.mspec (flags): ditto.\n\nSun Aug 31 17:16:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_econv_exception): rename instance variable names\n\t  for storing encoding names.\n\t  (ecerr_source_encoding_name): method renamed.\n\t  (ecerr_destination_encoding_name): ditto.\n\nSun Aug 31 16:57:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_putback): associate encoding to the result.\n\nSun Aug 31 16:43:56 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/intern.h: rename RB_UBF_DFL to\n\t  RUBY_UBF_IO and RUBY_UBF_PROCESS.\n\t  Because there is no default (universal) unblocking function.\n\n\t* ext/socket/socket.c, file.c, io.c, process.c, thread.c: ditto.\n\nSun Aug 31 16:42:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_insert_output): raise ArgumentError on failure.\n\nSun Aug 31 16:39:17 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_thread.rb: add a test.\n\nSun Aug 31 16:34:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/single_byte.trans (us_ascii_map): don't define 8bit bytes.\n\nSun Aug 31 14:27:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_last_error): new method.\n\nSun Aug 31 14:17:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): make two arguments,\n\t  destination_byteoffset and destination_bytesize, optional.\n\nSun Aug 31 14:12:06 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_econv_exception): error message simplified.\n\nSun Aug 31 13:47:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/coverage/coverage.c (rb_mCoverage): removed unneeded static variable.\n\n\t* ext/socket/socket.c (unix_recv_io): ditto.\n\n\t* ext/socket/socket.c (mConst): ditto.\n\nSun Aug 31 13:45:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspres_initialize): fix for\n\t  initialization of r18168.\n\nSun Aug 31 13:42:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/ripper/eventids2.c (ripper_init_eventids2): use rb_intern_const.\n\n\t* ext/ripper/tools/generate.rb (generate_eventids1): ditto.\n\n\t* ext/ripper/tools/generate.rb (generate_eventids2_table): ditto.\n\nSun Aug 31 12:56:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/mkcallback.rb (rb_dl_init_callbacks): fix indent.\n\nSun Aug 31 11:39:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/strscan/strscan.c (strscan_do_scan): fix usecnt decrement.\n\nSun Aug 31 04:38:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_putback): make max argument optional.\n\nSun Aug 31 04:35:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_putback): putback from last byte.\n\nSun Aug 31 04:27:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_putback): renamed from econv_primitive_putback.\n\nSun Aug 31 04:22:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_insert_output): renamed from\n\t  econv_primitive_insert_output.\n\nSun Aug 31 04:20:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_econv.rb: follow econv_primitive_errinfo change.\n\nSun Aug 31 03:44:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_errinfo): 5th element (partial_input)\n\t  removed from result.\n\nSun Aug 31 01:53:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/mkcallback.rb: split callback.h to callback-[0-9].c to reduce\n\t  memory consumption on compilation.  [ruby-dev:31898]\n\n\t* ext/dl/depend: add dependency for callback-[0-9].[co].\n\nSun Aug 31 01:27:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/mkcallback.rb (foreach_proc_entry): extracted.\n\t  (gencallback): ditto.\n\t  (gen_push_proc_ary): ditto.\n\t  (gen_push_addr_ary): ditto.\n\nSat Aug 30 23:51:01 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_tuplebag.rb (test_has_expires_eh): fix failures\n\t  [ruby-dev:35937].\n\nSat Aug 30 23:38:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/test/test_import.rb: fix character code.\n\n\t* ext/dl/test/test_func.rb: ditto.\n\nSat Aug 30 22:23:31 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c: added a static variable for nurat_to_f.\n\nSat Aug 30 20:05:41 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_open, rb_w32_read, rb_w32_write): fallback to\n\t  MSVCRT if text mode is specified. this case will not be used from\n\t  ruby itself.\n\nSat Aug 30 19:49:38 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_read): EOF is not error.\n\t  ref [ruby-dev:36050]\n\nSat Aug 30 18:17:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (struct token_info): constified.\n\n\t* parse.y (token_info_get_column, token_info_has_nonspaces),\n\t  (token_info_push, token_info_pop): constified.\n\nSat Aug 30 15:43:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/openssl/ossl_config.c (Init_ossl_config): memory leak fixed.\n\t  a patch <shinichiro.hamaji at gmail.com> in [ruby-dev:35880].\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_set_value): ditto.\n\n\t* ext/strscan/strscan.c (strscan_do_scan): ditto.\n\nSat Aug 30 14:58:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_initialize): fix for\n\t  initialization of r18168.\n\nSat Aug 30 14:47:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/mkcallback.rb: fix continuation line detection.\n\nSat Aug 30 14:39:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/mkcallback.rb (rb_dl_init_callbacks): avoid GC problem which\n\t  is caused by 'GC.stress=true; require \"dl\"'.\n\nSat Aug 30 11:54:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (token_info_push): -w warns indentation level mismatch.\n\t  based on a patch from Yukina Yamano presented at RubyKaigi'07.\n\t  See <http://jp.rubyist.net/RubyKaigi2007/Log0609-LT06.html> and\n\t  <http://www.logic-junction.com/products/rubyend.html> (Japanese).\n\nSat Aug 30 10:46:44 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/iconv/iconv.c: remove include pragma for \"ruby/intern.h\".\n\nSat Aug 30 10:43:03 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: remove include pragma for \"ruby/intern.h\".\n\nSat Aug 30 10:41:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (Rake::Application#help): fix for OPTIONAL_ARGUMENT and\n\t  multiple short options.  [ruby-dev:36051]\n\nSat Aug 30 08:59:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_file_s_absolute_path),\n\t  (rb_file_absolute_path): prototyped.\n\nSat Aug 30 08:09:36 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_compatible_p): use TYPE not BUILTIN_TYPE.\n\t  [ruby-dev:36048]\n\nSat Aug 30 07:48:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_compatible_p): add SPECIAL_CONST_P check.\n\t  [ruby-dev:36048]\n\n\t* test/ruby/test_m17n.rb (test_compatible): fix test.\n\nSat Aug 30 02:48:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_freeze): update rdoc to mention RuntimeError\n\t  (not TypeError any longer) would be raised.  [ruby-dev:35982]\n\nSat Aug 30 01:55:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bigdivmod): remove redundant code.  a patch from\n\t  TOYOFUKU Chikanobu <nobu_toyofuku at nifty.com> in [ruby-dev:36044].\n\nSat Aug 30 01:37:20 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI#initialize): remove unused constants.  a patch\n\t  from Takeyuki Fujioka in [ruby-dev:36046].\n\nFri Aug 29 22:29:41 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c ({nucomp,numeric}_rect): new.\n\n\t* complex.c: added some aliases\n\t  (::rectangular, ::rect, #rectangular, #rect, #phase,\n\t  #magnitude).\n\n\t* complex.c (string_to_c_internal): should not strip any null\n\t  bytes.\n\n\t* rational.c (string_to_r_internal): ditto.\n\n\t* rational.c (i_gcd): reverted to nurat 0.0.2's one.\n\n\t* numeric.c: added an alias (#magnitude).\n\n\t* bignum.c: ditto.\n\n\t* test/ruby/test_complex.rb: added assertions.\n\n\t* test/ruby/test_rational.rb: ditto.\n\nFri Aug 29 19:46:02 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c, include/ruby/ruby.h: rename T_DEFERRED to T_ZOMBIE.\n\nFri Aug 29 18:22:27 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_compatible_p): raise TypeError when argument is not\n\t  String nor Regexp.\n\nFri Aug 29 18:20:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_index_m): only regexp uses byte offset.\n\n\t* string.c (rb_str_rindex_m): ditto.\n\nFri Aug 29 16:48:34 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_call_method): copy arguments to allocated\n\t  memory from machine stack.  [ruby-dev:36028]\n\n\t* KNOWNBUGS.rb, bootstraptest/test_method.rb: move fixed test.\n\nFri Aug 29 12:19:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_x509attr.c (ossl_x509attr_initialize): fix for\n\t  initialization of r18168.\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspreq_initialize): ditto.\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_initialize): ditto.\n\nFri Aug 29 11:04:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): ASCII compatible string and US-ASCII\n\t  regexp is compatible. [ruby-dev:36033]\n\n\t* string.c (rb_str_index_m): second argument is position of character.\n\t  by usa. [ruby-dev:36033]\n\n\t* string.c (rb_str_rindex_m): ditto.\n\nFri Aug 29 04:47:49 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_read, rb_w32_write): more accurate handling\n\t  of wait result.\n\nFri Aug 29 02:59:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_finish): new method.\n\nFri Aug 29 02:45:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_convert): new method.\n\nFri Aug 29 02:38:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): accept nil as\n\t  destination_bytesize for unlimited destination size.\n\nFri Aug 29 02:11:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): accept nil as input for empty\n\t  input.\n\nFri Aug 29 02:03:56 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): supported %s and %P.\n\n\t* time.c (time_strftime): ditto.\n\n\t* test/ruby/test_time.rb (test_strftime): ditto.\n\nFri Aug 29 01:57:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (sym_invalid_byte_sequence): new variable.\n\t  (sym_undefined_conversion): ditto.\n\t  (sym_destination_buffer_full): ditto.\n\t  (sym_source_buffer_empty): ditto.\n\t  (sym_finished): ditto.\n\t  (sym_output_followed_by_input): ditto.\n\t  (sym_incomplete_input): ditto.\n\t  (econv_result_to_symbol): use above variables.\n\t  (Init_transcode): initialize above variables.\n\nFri Aug 29 00:53:40 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): fixed a bug of padding.\n\n\t* test/ruby/test_time.rb: ditto.\n\nFri Aug 29 00:19:54 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (set_pioinfo_extra): use MSVCRT's open() and close().\n\nFri Aug 29 00:03:13 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* file.c (file_expand_path): check invalid access.\n\nThu Aug 28 23:55:50 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): Time.mktime(2000).strftime(\"%-S\") should\n\t  return \"0\", not \"\".\n\n\t* test/ruby/test_time.rb: ditto.\n\nThu Aug 28 23:55:22 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_time.rb: suppress warning during test.\n\nThu Aug 28 23:50:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_time.rb (test_strftime): make test for %a independent\n\t  from local timezone.  [ruby-dev:35992]\n\nThu Aug 28 23:39:49 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (rb_str_shared_replace): remove corrupt noembed string\n\t  which causes SEGV.  [ruby-dev:35989]\n\nThu Aug 28 23:36:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk: dependency updated.\n\nThu Aug 28 23:28:57 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* KNOWNBUGS.rb: add a test.  see [ruby-dev:36028]\n\nThu Aug 28 21:43:05 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c, include/ruby/win32.h (rb_w32_open): overlapped file\n\t  I/O support.\n\n\t* win32/win32.c, include/ruby/win32.h (rb_w32_pipe): overlapped pipe\n\t  I/O support.\n\n\t* win32/win32.c (rb_w32_read, rb_w32_write): overlapped I/O support to\n\t  enable canceling I/O.\n\n\t* thread_win32.c (ubf_handle): remove workaround.\n\nThu Aug 28 20:22:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_yield_setup_args): object with to_ary should\n\t  behave like array.  a patch from Yusuke Endoh  <mame at tsg.ne.jp>\n\t  in [ruby-dev:35988].  [ruby-dev:35977]\n\n\t* object.c (convert_type): call less rb_intern() less frequently\n\t  by using cache structure.\n\n\t* vm_method.c (rb_method_node): fail earlier if no method found.\n\nThu Aug 28 19:04:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bootstraptest/test_io.rb: no need to create real file.\n\nThu Aug 28 09:26:53 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_multipart.rb: add test for multipart.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:36014]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nThu Aug 28 09:22:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_modruby.rb: add test for mod_ruby adaptor.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:36013]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nThu Aug 28 09:17:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_header.rb: add test for CGI::Header.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:36010] [ruby-dev:36011]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nThu Aug 28 02:16:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): refcnt field removed.\n\t  (MakeOpenFile): refcnt initialization removed.\n\n\t* io.c (rb_io_fptr_finalize): don't check refcnt.\n\t  (rb_io_close_read): don't use refcnt.\n\nThu Aug 28 00:07:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_initialize): don't accept IO object.  [ruby-dev:35895]\n\nWed Aug 27 23:28:51 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_invoke): WIN32OLE#[] and WIN32OLE#[]=\n\t  accepts number argument.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nWed Aug 27 14:45:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_core.rb: add core test.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:36001] [ruby-dev:36002]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nWed Aug 27 10:34:42 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie): remove delegate.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:35995]\n\n\t* test/cgi/test_cgi_cookie.rb: added for above.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:35996]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nWed Aug 27 01:13:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_loop): simplified.\n\nWed Aug 27 01:03:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_result_t): enumeration constant:\n\t  econv_incomplete_input.\n\n\t* io.c (finish_writeconv): check econv_incomplete_input.\n\n\t* transcode.c (transcode_restartable0): return econv_incomplete_input\n\t  for unexpected end of source buffer.\n\t  (trans_sweep): check econv_incomplete_input.\n\t  (rb_trans_conv): ditto.\n\t  (rb_econv_convert0): ditto.\n\t  (rb_econv_convert): ditto.\n\t  (transcode_loop): ditto.\n\t  (make_econv_exception): change message for econv_incomplete_input.\n\t  (econv_result_to_symbol): return :incomplete_input for\n\t  econv_incomplete_input.\n\t  (ecerr_incomplete_input): new method.\n\nWed Aug 27 00:05:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): rename crbuf to cbuf.\n\n\t* io.c: follow the renaming.\n\nTue Aug 26 23:52:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_elem_t): move to transcode.c\n\t  (rb_econv_t): defined as an incomplete type.\n\n\t* transcode.c (rb_econv_elem_t): moved from encoding.h.\n\t  (rb_econv_t): complete type defined.\n\nTue Aug 26 22:44:12 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* time.c (time_asctime): workaround for MSVCRT's bug.\n\t  based on a patch from wanabe <s.wanabe AT gmail.com> at\n\t  [ruby-dev:35831] and a suggestion by KIMURA Koichi\n\t  <kbk AT kt.rim.or.jp> at [ruby-dev:35832]\n\t  fixed [ruby-dev:35555]\n\nTue Aug 26 21:53:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): disable newline conversion for ASCII\n\t  incompatible encodings.\n\t  (str_transcode0): don't need disable newline conversion here.\n\nTue Aug 26 21:44:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_binmode): binmode is effective only once.\n\nTue Aug 26 19:43:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_s_expand_path): new class method for class File.\n\n\t* file.c (file_expand_path): add absolute_path handling (no ~user\n\t  expansion).  [ruby-core:18319]\n\nTue Aug 26 19:27:54 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/ruby/test_enum.rb (TestEnumerable#test_each_with_object):\n\t  Add a test for Enumerable#each_with_object.\n\nTue Aug 26 19:25:44 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/ruby/test_enumerator.rb (TestEnumerator#test_with_object):\n\t  Add (back) the test for Enumerator#with_object.\n\nTue Aug 26 16:16:43 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_tag_helper.rb: add more tests for html3.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:35975]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nTue Aug 26 14:43:10 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c: Activate Enumerator#with_object and add\n\t  Enumerable#each_with_object. [experimental]\n\nTue Aug 26 14:38:32 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_initialize),\n\t  test/ruby/test_enumerator.rb: Add an ability to generate an\n\t  enumerator from a block. [experimental] [ruby-dev:35903]\n\nTue Aug 26 13:25:25 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: added test_euc_jp\n\t  (contributed by Yoshihiro Kambayashi)\n\nTue Aug 26 11:54:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_tag_helper.rb: added by Takeyuki Fujioka.\n\t  [ruby-dev:35971]\n\nTue Aug 26 11:33:30 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/cgi.rb (nOE_element_def): fix error when cascade methods which\n\t  don't have arguments. Patch by Takeyuki Fujioka. [ruby-dev:35964]\n\n\t* lib/cgi.rb (blockquote): String#collect (this depends on\n\t  String#each) is no longer exists.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:35946]\n\n\t* lib/cgi.rb (blockquote): ditto.\n\nTue Aug 26 03:06:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (make_writeconv): copy invalid/undef flags.\n\nTue Aug 26 02:47:08 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (dist): tool/make-snapshot is executable.\n\n\t* tool/make-snapshot (package): supported release numbers 1.9.0-x.\n\nTue Aug 26 02:43:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): new field: writeconv_pre_opts.\n\n\t* io.c (make_writeconv): initialize writeconv_pre_opts.\n\t  (io_fwrite): use writeconv_pre_opts.\n\nTue Aug 26 01:48:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c: test _WIN32 for CRLF platform.  (cygwin defines O_BINARY.)\n\nTue Aug 26 01:29:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c: force CRLF handling if RUBY_TEST_CRLF_ENVIRONMENT is defined.\n\t  This is only for testing.\n\nTue Aug 26 01:26:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (str_transcode0): disable newline conversion for ASCII\n\t  incompatible encoding.\n\nTue Aug 26 00:55:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (str_transcode0): don't short cut for newline conversion.\n\nTue Aug 26 00:36:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fwrite): add TEXTMODE_NEWLINE_ENCODER to option for\n\t  rb_str_transcode.\n\nTue Aug 26 00:24:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_econv_exception): show readagain part for invalid\n\t  byte sequence exception.  store the part as an instance variable.\n\t  (ecerr_readagain_bytes): new method to access the readagain part.\n\nTue Aug 26 00:02:49 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (VpMult): fix double free.\n\nMon Aug 25 23:59:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): make last_tc NULL if there are only\n\t  additional transcoders.\n\t  (econv_description): extracted from rb_econv_open_exc.\n\t  (rb_econv_open_exc): use econv_description.\n\t  (econv_inspect): use econv_description.\n\nMon Aug 25 23:56:42 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32.c (init_stdhandle): set binmode.\n\nMon Aug 25 23:38:17 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb(strftime): %[LN] can print with given\n\t  arbitrary precision.\n\n\t* lib/date/format.rb(strftime): optional flags and filed width\n\t  should also affect %[nt].\n\nMon Aug 25 23:01:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): default defined? should return\n\t  \"expression\" without evaluating the expression.  [ruby-dev:35967]\n\nMon Aug 25 22:46:01 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_thread.rb (test_status_and_stop_p): reduce the risk\n\t  of race condition.\n\nMon Aug 25 22:39:57 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/irb/extend-command.rb (def_extend_command): check number of\n\t  arguments.  [ruby-dev:35074]\n\n\t* lib/irb/ext/multi-irb.rb (search): check if a corresponding job is\n\t  found.  [ruby-dev:35074]\n\nMon Aug 25 22:29:13 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_io.rb (test_dup): fix typo.  see [ruby-dev:35958]\n\nMon Aug 25 22:02:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): initialize\n\t  last_error.  num_trans may be zero.\n\t  (rb_econv_convert0): num_trans may be zero.\n\t  (rb_econv_putbackable): ditto.\n\t  (rb_econv_putback): ditto.\n\t  (rb_econv_convert): input_ptr and output_ptr may be NULL.\n\nMon Aug 25 19:05:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): should handle NODE_{AND,OR} as\n\t  \"expression\".  [ruby-dev:35951]\n\nMon Aug 25 17:36:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_io_ungetbyte): added prototype.\n\n\t* io.c (rb_io_gets): use rb_io_getline_1 for unget buffer.\n\n\t* ruby.c (load_file): use rb_io_ungetbyte.\n\n\t* transcode.c (rb_econv_substr_append): fix for buffer overrun.\n\n\t* win32/enc-setup.mak (BUILTIN_TRANSOBJS): added.\n\nMon Aug 25 14:22:21 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* parse.y (YYSTYPE): struct RVarmap has been no longer\n\t  defined.\n\t  see also r11717 by matz.\n\nMon Aug 25 10:42:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (rb_econv_open_exc): constified.\n\nMon Aug 25 07:10:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/emacs_mule.c: fix ctype.\n\nMon Aug 25 00:52:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (BUILTIN_TRANSSRCS): defined.\n\t  (BUILTIN_TRANSOBJS): defined.\n\n\t* enc/Makefile.in (BUILTIN_TRANSES): defined.\n\n\t* enc/make_encmake.rb (BUILTIN_TRANSES): defined.\n\n\t* enc/depend: don't generate rules for builtin transcoders.\n\n\t* common.mk (COMMONOBJS): add BUILTIN_TRANSOBJS.\n\t  (enc.mk): pass BUILTIN_TRANSOBJS.\n\t  (newline.c): new rule.\n\t  (newline.$(OBJEXT)): new rule.\n\t  (srcs): newline.c added.\n\n\t* Makefile.in (BUILTIN_TRANSSRCS): defined.\n\t  (BUILTIN_TRANSOBJS): defined.\n\n\t* transcode.c (Init_transcode): call Init_newline.\n\nMon Aug 25 00:11:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (declare_transcoder): arguments order changed.\n\t  (rb_declare_transcoder): call declare_transcoder just once.\n\nSun Aug 24 19:48:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_t): use rb_econv_option_t.\n\n\t* transcode.c: follow the rb_econv_t change.\n\nSun Aug 24 19:40:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_init_copy): copy encs.\n\nSun Aug 24 19:17:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_open): add an argument: vperm.\n\t  (open_key_args): call rb_io_open with perm.\n\nSun Aug 24 19:11:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (sym_invalid): removed.\n\t  (sym_undef): removed.\n\t  (sym_ignore): removed.\n\t  (sym_replace): removed.\n\nSun Aug 24 19:07:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_reopen): initialize fptr->encs.opts.\n\nSun Aug 24 18:37:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_s_pipe): accept optional hash.\n\t  (rb_io_set_encoding): ditto.\n\t  (rb_io_extract_modeenc): use rb_econv_opts to initialize\n\t  ecopts.\n\t  (rb_file_open_generic): ditto.\n\t  (rb_file_open_internal): ditto.\n\t  (io_encoding_set): new argument: opt.\n\t  (argf_set_encoding): copy fptr->encs.opts to argf_ecopts.\n\n\t* transcode.c (rb_econv_opts): accept Qnil for initialization.\n\nSun Aug 24 18:10:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_enc_t): add opts field.\n\t  (FMODE_INVALID_MASK): removed.\n\t  (FMODE_INVALID_IGNORE): ditto.\n\t  (FMODE_INVALID_REPLACE): ditto.\n\t  (FMODE_UNDEF_MASK): ditto.\n\t  (FMODE_UNDEF_IGNORE): ditto.\n\t  (FMODE_UNDEF_REPLACE): ditto.\n\t  (MakeOpenFile): initialize the opts field.\n\n\t* io.c (make_writeconv): use the opts field.\n\t  (io_fwrite): ditto.\n\t  (make_readconv): ditto.\n\t  (argf_ecopts): new macro.\n\t  (rb_io_extract_modeenc): fill the opts field.\n\t  (argf_next_argv): ditto.\n\t  (rb_file_open_generic): initialize the opts field.\n\t  (rb_file_open_internal): ditto.\n\t  (io_encoding_set): ditto.\n\t  (argf_set_encoding): ditto.\n\nSun Aug 24 18:02:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (struct argf): use struct rb_io_enc_t.\n\t  (argf_enc): follow the struct argf change.\n\t  (argf_enc2): ditto.\n\nSun Aug 24 17:36:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_str_transcode): make 3rd argument\n\t  rb_econv_option_t*.\n\n\t* transcode.c (transcode_loop): take rb_econv_option_t* as a argument.\n\t  (str_transcode0): ditto.\n\t  (str_transcode): make rb_econv_option_t and call str_transcode0 with\n\t  it.\n\t  (rb_str_transcode): take rb_econv_option_t*.\n\n\t* io.c (io_fwrite): follow the rb_str_transcode change.\n\nSun Aug 24 16:47:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): make enc and enc2 as struct\n\t  rb_io_enc_t;\n\n\t* io.c: follow the structure change.\n\t  (convconfig_t): defined by rb_io_enc_t.\n\nSun Aug 24 16:19:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_opts): declared.\n\n\t* transcode.c (rb_econv_opts): defined.\n\n\t* io.c (rb_io_extract_modeenc): use rb_econv_opts.\n\nSun Aug 24 16:06:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_option_t): defined.\n\t  (rb_econv_open): 3rd arg changed.\n\t  (rb_econv_open_exc): ditto.\n\n\t* io.c (make_writeconv): use rb_econv_option_t.\n\t  (make_readconv): ditto.\n\t  (rb_econv_open): take rb_econv_option_t for options.\n\t  (rb_econv_open_exc): ditto.\n\t  (transcode_loop): use rb_econv_option_t.\n\t  (econv_init): use rb_econv_option_t.\n\nSun Aug 24 15:43:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_substr_append): associate dst with destination\n\t  encoding when dst is created.\n\nSun Aug 24 15:21:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_str_transcode): add ecflags argument.\n\n\t* transcode.c (econv_opts): extracted from str_transcode.\n\t  (str_transcode_enc_args): extracted from str_transcode.\n\t  (str_transcode0): extracted from str_transcode.\n\t  (str_transcode): use econv_opts, str_transcode_enc_args,\n\t  str_transcode0.\n\t  (rb_str_transcode): call str_transcode0.\n\t  (econv_primitive_insert_output): give the additional argument for\n\t  rb_str_transcode.\n\n\t* io.c (make_writeconv): use invalid/undef flags.\n\t  (io_fwrite): ditto.\n\t  (rb_scan_open_args): give the additional argument for\n\t  rb_str_transcode.\n\nSun Aug 24 13:27:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (str_transcode): check last hash only if 0 < argc.\n\nSun Aug 24 12:22:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_substr_append): renamed from\n\t  rb_econv_string.\n\t  (rb_econv_str_convert): declared.\n\t  (rb_econv_substr_convert): declared.\n\t  (rb_econv_str_append): declared.\n\n\t* io.c (io_fwrite): use rb_econv_str_convert instead of\n\t  rb_econv_string.\n\n\t* transcode.c (rb_econv_substr_append): renamed from rb_econv_string.\n\t  (rb_econv_str_append): new function.\n\t  (rb_econv_substr_convert): ditto.\n\t  (rb_econv_str_convert): ditto.\n\nSun Aug 24 12:15:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/net/http.rb (Net::HTTP#urlencode): str[0] returns char in 1.9.\n\t  Patch by Junegunn Choi [ruby-core:18368]\n\nSun Aug 24 12:02:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): return NULL on error.\n\nSun Aug 24 11:40:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_open_exc): declared.\n\n\t* transcode.c (rb_eNoConverter): new exception.\n\t  (rb_econv_open_exc): new function.\n\t  (transcode_loop): use rb_econv_open_exc.\n\n\t* io.c (make_writeconv): use rb_econv_open_exc.\n\t  (make_readconv): ditto.\n\nSun Aug 24 11:26:54 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::unescapeHTML): consider ISO-8859-1.\n\t  [ruby-dev:35936]\n\nSun Aug 24 10:55:00 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/emacs_mule.c: support Emacs/Mule internal encoding.\n\nSun Aug 24 08:03:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* strftime.c (daylight, timezone): not provided as dllexport on cygwin,\n\t  right now.\n\nSun Aug 24 06:39:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::unescapeHTML): more encoding sensible unescaping.\n\t  [ruby-dev:35936]\n\nSun Aug 24 04:23:19 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_compatible_p): raise TypeError when argument is Encoding.\n\nSat Aug 23 23:25:47 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI#out): remove auto encoding conversion and set\n\t  LANGUAGE. [ruby-dev:35922]\n\nSat Aug 23 20:01:29 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_process.rb (TestProcess#test_rlimit_value):\n\t  add Errno::EINVAL. [ruby-dev:35900]\n\nSat Aug 23 18:29:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_scan_open_args): use pop_last_hash.\n\nSat Aug 23 16:59:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_INVALID_MASK): defined.\n\t  (FMODE_INVALID_IGNORE): defined.\n\t  (FMODE_INVALID_REPLACE): defined.\n\t  (FMODE_UNDEF_MASK): defined.\n\t  (FMODE_UNDEF_IGNORE): defined.\n\t  (FMODE_UNDEF_REPLACE): defined.\n\n\t* io.c (sym_invalid): defined.\n\t  (sym_undef): defined.\n\t  (sym_ignore): defined.\n\t  (sym_replace): defined.\n\t  (make_readconv): specify ECONV_INVALID_* and ECONV_UNDEF_* if\n\t  FMODE_INVALID_* and FMODE_UNDEF_* is set.\n\t  (rb_io_extract_modeenc): check {:invalid, :undef} => {:replace,\n\t  :ignore} for FMODE_INVALID_* and FMODE_UNDEF_*.\n\nSat Aug 23 17:06:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): support more flags.\n\nSat Aug 23 15:14:10 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_opts.h: enable \"OPT_TRACE_INSTRUCTION\" on default.\n\nSat Aug 23 14:59:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_INVALID_MASK): defined.\n\t  (ECONV_INVALID_IGNORE): defined.\n\t  (ECONV_INVALID_REPLACE): defined.\n\t  (ECONV_UNDEF_MASK): defined.\n\t  (ECONV_UNDEF_IGNORE): defined.\n\t  (ECONV_UNDEF_REPLACE): defined.\n\n\t* transcode.c (INVALID_IGNORE): removed.\n\t  (INVALID_REPLACE): removed.\n\t  (UNDEF_IGNORE): removed.\n\t  (UNDEF_REPLACE): removed.\n\t  (rb_econv_convert0): renamed from rb_econv_convert.\n\t  (rb_econv_convert): defined to call rb_econv_convert0 with\n\t  replace/ignore behavior moved from transcode_loop.\n\t  (transcode_loop): replace/ignore behavior removed.\n\nSat Aug 23 11:23:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_extract_modeenc): check :textmode and :binmode in option\n\t  hash.\n\nSat Aug 23 10:48:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/pty/pty.c (pty_getpty): follow rb_io_t's path -> pathv change.\n\nSat Aug 23 10:42:52 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (check_pipe_command): extracted from rb_f_open and rb_io_open.\n\t  (rb_f_open): use check_pipe_command.\n\t  (rb_io_open): ditto.\n\nSat Aug 23 10:13:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (read_all): fptr->enc2 is 0 if no conversion.\n\t  (rb_io_getline_fast): ditto.\n\t  (io_getc): ditto.\n\nSat Aug 23 09:45:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): remove path field and add pathv field.\n\t  (MakeOpenFile): initialize pathv as Qnil.\n\n\t* gc.c: mark pathv field in T_FILE.\n\n\t* io.c: follow the rb_io_t field change.\n\n\t* file.c: ditto.\n\n\t* ext/socket/socket.c: ditto.\n\nSat Aug 23 01:42:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_TEXTMODE): defined.\n\n\t* include/ruby/encoding.h (rb_econv_t): new field: flags.\n\t  (rb_econv_binmode): declared.\n\n\t* io.c (io_unread): text mode hack removed.\n\t  (NEED_NEWLINE_DECODER): defined.\n\t  (NEED_NEWLINE_ENCODER): defined.\n\t  (NEED_READCONV): defined.\n\t  (NEED_WRITECONV): defined.\n\t  (TEXTMODE_NEWLINE_ENCODER): defined for windows.\n\t  (make_writeconv): setup converter with TEXTMODE_NEWLINE_ENCODER for\n\t  text mode.\n\t  (io_fwrite): use NEED_WRITECONV.  character code conversion is\n\t  disabled if fptr->writeconv_stateless is nil.\n\t  (make_readconv): setup converter with\n\t  ECONV_UNIVERSAL_NEWLINE_DECODER for text mode.\n\t  (read_all): use NEED_READCONV.\n\t  (appendline): use NEED_READCONV.\n\t  (rb_io_getline_1): use NEED_READCONV.\n\t  (io_getc): use NEED_READCONV.\n\t  (rb_io_ungetc): use NEED_READCONV.\n\t  (rb_io_binmode): OS-level text mode test removed.  call\n\t  rb_econv_binmode.\n\t  (rb_io_binmode_m): call rb_io_binmode_m with write_io as well.\n\t  (rb_io_flags_mode): return mode string including \"t\".\n\t  (rb_io_mode_flags): detect \"t\" for text mode.\n\t  (rb_sysopen): always specify O_BINARY.\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): initialize flags.\n\t  (rb_econv_open): if source and destination encoding is\n\t  both empty string, open newline converter.  last_tc will be NULL in\n\t  this case.\n\t  (rb_econv_encoding_to_insert_output): last_tc may be NULL now.\n\t  (rb_econv_string): ditto.\n\t  (output_replacement_character): ditto.\n\t  (transcode_loop): ditto.\n\t  (econv_init): ditto.\n\t  (econv_inspect): ditto.\n\t  (rb_econv_binmode): new function.\n\nFri Aug 22 21:18:40 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_div): now behaves as quo.\n\n\t* complex.c (nucomp_s_generic_p): has been removed.\n\n\t* complex.c (nucomp_to_s): adopts new form.\n\n\t* complex.c (nucomp_inspect): ditto.\n\n\t* complex.c (string_to_c_internal): ditto and supports polar form.\n\n\t* complex.c (rb_complex_polar): new.\n\n\t* rational.c (nurat_to_s): do not canonicalize.\n\n\t* rational.c (nurat_inspect): adopts new form.\n\n\t* rational.c (string_to_r_internal): ditto.\n\n\t* include/ruby/intern.h: added a declaration.\n\n\t* lib/complex.rb: added an obsolete class method.\n\n\t* lib/cmath.rb: use scalar? instead of generic?.\n\nFri Aug 22 20:06:46 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#shutdown):\n\t  rescue Errno::ENOTCONN and close. [ruby-dev:35896]\n\n\t* test/openssl/test_ssl.rb (OpenSSL#start_server): ditto.\n\t  [ruby-dev:35897]\n\n\t* lib/net/imap.rb (Net::IMAP#disconnect): ditto. [ruby-dev:35898]\n\nFri Aug 22 19:58:27 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: no need to require the \"lib/rational.rb\" any more.\n\nFri Aug 22 15:47:38 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/cgi.rb: use bytesize instead of size/length.\n\nFri Aug 22 14:28:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): supported flags and precision for most\n\t  conversions.  [ruby-dev:35906]\n\nFri Aug 22 14:04:04 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: test_shift_jis:\n\t  fixed comment strings (see r18291)\n\nFri Aug 22 12:41:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_pid): use PIDT2NUM.\n\nFri Aug 22 11:36:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (dir_enc_str_new): set US-ASCII to the path\n\t  when the path is 7bit string and encoding is ASCII compatible.\n\n\t* dir.c (push_glob): set file system encoding when argument encoding\n\t  is US-ASCII.\n\nFri Aug 22 11:30:38 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (dir_enc_str_new): renamed from dir_enc_str.\n\n\t* dir.c (dir_read): use dir_enc_str_new.\n\n\t* dir.c (dir_each): ditto.\n\n\t* dir.c (push_pattern): ditto.\n\nFri Aug 22 11:29:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: remove config.h dependency.\n\nFri Aug 22 10:52:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (gmtime_r): check if reentrant versions are available.\n\n\t* time.c (IF_HAVE_GMTIME_R, ASCTIME, GMTIME, LOCALTIME): use reentrant\n\t  versions if available.\n\nFri Aug 22 05:29:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (INT2NUM): just use a simple macro on LP64.\n\t  (UINT2NUM): ditto.\n\nFri Aug 22 05:10:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_file_open_generic): take filename as a VALUE.\n\t  (rb_file_open_internal): ditto.\n\t  (rb_io_open): ditto.\n\t  (rb_file_open): pass filename as a VALUE to rb_file_open_internal.\n\t  (rb_open_file): pass filename as a VALUE to rb_file_open_generic.\n\t  (open_key_args): pass filename as a VALUE to rb_io_open.\n\nFri Aug 22 04:33:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h: fix previous change for LP64.\n\nFri Aug 22 03:19:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (NUM2LONG): make it inline function to evaluate\n\t  the argument only once.\n\t  `t = Object.new; def t.*(x) p x; 0 end; p Time.at(0, t)' did print x\n\t  twice.\n\t  (NUM2INT): ditto.\n\t  (NUM2LL): ditto.\n\t  (INT2NUM): make it inline function.\n\t  (LONG2NUM): ditto.\n\t  (UINT2NUM): ditto.\n\t  (ULONG2NUM): ditto.\n\nFri Aug 22 03:03:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_s_sysopen): mode can be a Bignum.\n\nFri Aug 22 02:57:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_extract_modeenc): notify coerced to caller.\n\t  (rb_io_initialize): mode may be a Bignum.\n\nFri Aug 22 02:42:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_extract_modeenc): use rb_check_to_integer to test\n\t  integer.\n\nFri Aug 22 02:25:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* iseq.c (iseq_inspect): don't raise on uninitialized object.\n\t  show real class name.\n\nFri Aug 22 02:08:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_initialize): accept hash argument.\n\nThu Aug 21 23:51:51 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): supported %F and %<precision>N.\n\t  reverted config.h to ruby.h for Windows.\n\n\t* test/ruby/test_time.rb (TestTime::test_strftime): added tests\n\t  for %F and %N.\n\n\t* time.c: documented %F and %N.\n\nThu Aug 21 20:23:26 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_m17n_comb.rb (TestM17NComb#test_str_crypt): add\n\t  key and salt to error message.\n\nThu Aug 21 19:20:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* file.c (rb_stat_inspect): don't raise if self is not initialized.\n\nThu Aug 21 19:17:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (pst_pid): use rb_attr_get to avoid warning on\n\t  Process::Status.allocate.pid.\n\t  (pst_inspect): don't raise if self is not initialized.\n\nThu Aug 21 19:05:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_extract_encoding_option): if internal encoding is not\n\t  specified, enc is external encoding.\n\nThu Aug 21 14:22:50 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c: include ruby/config.h instead of ruby/ruby.h.\n\n\t* common.mk: removed the old rule for missing/strftime.c.\n\nThu Aug 21 09:29:01 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): return \"UTC\" instead of \"GMT\".\n\n\t* test/ruby/test_time.rb (test_strftime): ditto.\n\nThu Aug 21 07:59:04 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/iconv/test_option.rb (test_ignore_option): skip if iconv\n\t  doesn't have transliterate.\n\n\t* test/iconv/test_option.rb (test_translit_option): ditto.\n\nThu Aug 21 06:12:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/scanf.rb (Scanf::FormatSpecifier#initialize): %i should accept\n\t  single digit decimal.  [ruby-core:18355]\n\nThu Aug 21 06:02:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_initialize_copy): Range is now a Struct.\n\t  [ruby-core:18353]\n\n\t* struct.c (rb_struct_init_copy): made public.\n\nThu Aug 21 03:09:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_extract_encoding_option): enc2 is external encoding if\n\t  external encoding and internal encoding is given.\n\t  (pipe_open): add flags and convconfig argument to initialize\n\t  fptr->{mode,enc,enc2}.\n\t  (pipe_open_v): pass flags and convconfig from caller to pipe_open.\n\t  (pipe_open_s): ditto.\n\t  (pop_last_hash): new function.\n\t  (rb_io_s_popen): use last hash as option to specify code conversion.\n\t  (rb_io_open): specify flags and convconfig arguments for\n\t  pipe_open_s.\n\t  (rb_f_backquote): ditto.\n\nThu Aug 21 02:27:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (prep_io): local variable renamed.\n\t  (rb_io_fdopen): ditto.\n\t  (prep_stdio): ditto.\n\nThu Aug 21 01:58:59 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* configure.in: always check timezone().\n\n\t* strftime.c (rb_strftime): prefer timezone/altzone rather than\n\t  gettimeofday().  The second argument to gettimeofday() is ignored\n\t  on Solaris.\n\nThu Aug 21 02:03:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (open_key_args): simplified.\n\nThu Aug 21 01:57:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (open_key_args): IO.foreach(path, rs, limit) didn't work.\n\nThu Aug 21 01:31:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_file_sysopen_internal): unused function removed.\n\t  (rb_file_sysopen): ditto.\n\nThu Aug 21 01:09:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c: use mode_t for the 3rd argument, permission, of open(2).\n\nThu Aug 21 00:51:42 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* configure.in: removed strftime from AC_REPLACE_FUNCS().\n\n\t* include/ruby/missing.h: removed prototype for strftime().\n\n\t* missing/strftime.c: removed.\n\n\t* time.c (time_to_s): use rb_strftime() instead of strftime(3).\n\t  (time_zone): ditto.\n\nThu Aug 21 00:49:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* strftime.c: win32 support.\n\nThu Aug 21 00:20:05 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c: new file.\n\n\t* common.mk (COMMONOBJS): added strftime.$(OBJEXT).\n\n\t* time.c (time_strftime): do not use strftime(3).  supported\n\t  %L(millisecond) and %N(nanosecond).\n\n\t* test/ruby/test_time.rb: added tests for %L and %N.\n\nWed Aug 20 23:53:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_set_encoding): removed.\n\t  (rb_io_open): set up encoding using new argument opt.\n\t  (open_key_args): call rb_io_open with opt.  don't call\n\t  io_set_encoding.\n\nWed Aug 20 22:30:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_file_open_internal): use rb_io_flags_modenum.\n\t  (rb_io_reopen): use rb_io_flags_modenum and rb_io_modenum_mode.\n\t  (rb_io_stdio_file): ditto.\n\nWed Aug 20 22:28:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (proc_new): use the given class.\n\n\t* vm.c (vm_make_proc): added an argument for the class.\n\nWed Aug 20 22:24:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_take): get rid of extraneous iteration.\n\nWed Aug 20 20:32:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_open_with_args): use rb_open_file instead of rb_io_open.\n\nWed Aug 20 20:16:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_scan_open_args): extracted from rb_open_file.\n\nWed Aug 20 19:22:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (convconfig_t): new type.\n\t  (rb_io_extract_modeenc): new function.\n\t  (rb_file_open_generic): new function.\n\t  (rb_file_open_internal): use rb_file_open_generic.\n\t  (rb_file_sysopen_internal): use rb_file_open_generic.\n\t  (rb_open_file): use rb_io_extract_modeenc and rb_file_open_generic.\n\t  (rb_io_open): call rb_file_open_internal instead of rb_file_open.\n\nWed Aug 20 19:15:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (Init_IO): new constants: File::DSYNC, File::RSYNC and\n\t  File::NOFOLLOW.\n\nWed Aug 20 18:41:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_open_file): don't lookup :mode and :perm in opt.  it is\n\t  useless because vmode and perm is overwritten by rb_scan_args\n\t  anyway.\n\nWed Aug 20 18:37:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (open_key_args): meaningless MEMCPY removed.\n\nWed Aug 20 18:30:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (prep_io) [cygwin]: use FMODE_BINMODE instead of O_BINARY.\n\nWed Aug 20 16:39:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sample): performance improvement for huge array.\n\nWed Aug 20 12:28:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sample): get rid of infinite loop.  #455\n\nWed Aug 20 06:09:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_TRUNC): value changed because 0x100 is used\n\t  as FMODE_NOREVLOOKUP in socket.c\n\nWed Aug 20 05:19:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (parse_mode_enc): extracted from mode_enc.\n\t  (io_extract_encoding_option): extracted from io_set_encoding.\n\nWed Aug 20 04:17:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_flags_modenum): make it static.\n\nWed Aug 20 03:36:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_TRUNC): new constant.\n\n\t* io.c (rb_io_mode_flags): set FMODE_TRUNC for \"w\".\n\t  (rb_io_modenum_flags): set FMODE_TRUNC for O_TRUNC.\n\t  (rb_io_flags_modenum): new function.\n\t  (rb_io_mode_modenum): just use rb_io_mode_flags and\n\t  rb_io_flags_modenum.\n\nWed Aug 20 02:36:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (fopen): macro for vms removed.  fopen is not used now.\n\nWed Aug 20 02:27:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): fix memory leak.\n\t  (rb_econv_close): ditto.\n\t  fixed by shinichiro.h.  [ruby-dev:35880]\n\nTue Aug 19 21:50:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_fopen): declaration removed.\n\n\t* io.c (rb_fopen): unused function removed.\n\nTue Aug 19 21:14:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_READWRITE): define as\n\t  FMODE_READABLE|FMODE_WRITABLE.\n\nTue Aug 19 21:13:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_flags_mode): use hexadecimal in error message.\n\t  (rb_io_modenum_mode): ditto.\n\t  (rb_io_initialize): ditto.\n\nTue Aug 19 18:23:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_flags_mode): add a prefix 0 to octal in error message.\n\t  (rb_io_modenum_mode): ditto.\n\nTue Aug 19 18:05:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_*): sorted and describe the values in\n\t  hexadecimal.\n\nTue Aug 19 17:32:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_initialize): store the\n\t  result of d2i_X509_NAME into DATA_PTR(self).\n\nTue Aug 19 04:54:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (FileUtils#ruby): takes care of space containing path.\n\t  [ ruby-Bugs-21591 ]\n\nTue Aug 19 01:32:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_open_file): encoding in mode string was ignored if perm is\n\t  specified.\n\nTue Aug 19 01:02:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_open_file): don't access argv[-1] by\n\t  File.allocate.instance_eval { initialize }.\n\nTue Aug 19 00:56:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_inspect): don't raise for uninitialized Regexp.\n\nTue Aug 19 00:34:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_check_readable): side effect for STDIN removed.\n\t  (rb_io_external_encoding): ditto.\n\nMon Aug 18 23:27:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_ungetbyte): renamed from io_ungetc.\n\t  (rb_io_ungetbyte): new method.\n\t  (rb_io_ungetc): push back into character buffer if enc2 is set.\n\nMon Aug 18 22:41:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (id_encode): removed.\n\nMon Aug 18 22:30:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (make_writeconv): if enc and enc2 is set, convert\n\t  string.encoding to enc2.\n\n\t* include/ruby/io.h: comment changed.\n\nMon Aug 18 21:02:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): new fields: writeconv,\n\t  writeconv_stateless and writeconv_initialized.\n\t  (MakeOpenFile): initialize them.\n\n\t* include/ruby/encoding.h (rb_econv_stateless_encoding): declared.\n\t  (rb_econv_string): declared.\n\n\t* io.c (make_writeconv): new function.\n\t  (io_fwrite): use econv.\n\t  (make_readconv): fix error message.\n\t  (finish_writeconv): new function.\n\t  (fptr_finalize): call finish_writeconv.\n\t  (clear_writeconv): new function.\n\t  (clear_codeconv): new function to call both clear_readconv and\n\t  clear_writeconv.\n\t  (rb_io_fptr_finalize): call clear_codeconv instead of\n\t  clear_readconv.\n\t  (mode_enc): ditto.\n\t  (io_set_encoding): ditto.\n\t  (argf_next_argv): ditto.\n\t  (io_encoding_set): ditto.\n\n\t* gc.c (gc_mark_children): mark writeconv_stateless in T_FILE.\n\n\t* transcode.c (stateless_encoding_i): new function.\n\t  (rb_econv_stateless_encoding): ditto.\n\t  (rb_econv_string): ditto.\n\nMon Aug 18 17:23:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (clear_readconv): extracted from rb_io_fptr_finalize.\n\t  (mode_enc): call clear_readconv.\n\t  (io_set_encoding): ditto.\n\t  (argf_next_argv): ditto.\n\t  (io_encoding_set): ditto.\n\nMon Aug 18 16:54:06 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (mode_enc): modify enc and enc2 consistently.\n\t  (io_set_encoding): ditto.\n\t  (io_encoding_set): ditto.\n\nMon Aug 18 13:21:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_search_path): prevent infinite loop by\n\t  searching a path for self conversion.\n\nMon Aug 18 12:45:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_enc_str): code conversion removed.\n\t  (io_enc_str_converted): removed because it is identical to\n\t  io_enc_str now.\n\nMon Aug 18 12:12:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_shift_crbuf): add strp argument to append into existing\n\t  string.\n\t  (read_all): use econv if enc2 is set.\n\t  (io_getc): follow the io_shift_crbuf change.\n\nMon Aug 18 10:35:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_enc_str_converted): new function.\n\t  (make_readconv): extracted from io_getc.\n\t  (more_char): ditto.\n\t  (appendline): use econv via make_readconv and more_char for code\n\t  conversion.\n\t  (prepare_getline_args): don't convert record separator.\n\t  (rb_io_getline_1): don't use rb_io_getline_fast if enc2 is set.\n\t  (io_getc): use make_readconv and more_char.\n\nMon Aug 18 08:27:44 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* common.mk: fix error in uncommon.mk.\n\nMon Aug 18 06:10:08 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: config.h depends config.status.\n\nMon Aug 18 03:59:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (appendline): appendline cannot check character boundary.\n\t  (rb_io_getline_1): relax limit until character boundary.\n\nMon Aug 18 02:25:11 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI::Socket#eof?): added lacked method.\n\nSun Aug 17 21:50:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (prepare_getline_args): io.gets(10,nil) should cause TypeError.\n\nSun Aug 17 15:58:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: not check config.h.\n\n\t* lib/mkmf.rb (init_mkmf): add include/ruby/backward to $INCFLAGS.\n\n\t* include/ruby/backward/{st,util}.h: added for backward compatibility.\n\t  [ruby-dev:35811]\n\nSun Aug 17 13:40:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_putback): new method.\n\nSun Aug 17 13:23:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_putbackable): declared.\n\t  (rb_econv_putback): ditto.\n\n\t* transcode.c (rb_econv_putbackable): implemented.\n\t  (rb_econv_putback): ditto.\n\n\t* io.c (io_getc): put back bytes if possible.\n\nSun Aug 17 12:00:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_econv_exception): add several instance variables\n\t  to exception object.\n\t  (ecerr_source_encoding): new method:\n\t  Encoding::ConversionUndefined#source_encoding and\n\t  Encoding::InvalidByteSequence#source_encoding.\n\t  (ecerr_destination_encoding): new method:\n\t  Encoding::ConversionUndefined#destination_encoding and\n\t  Encoding::InvalidByteSequence#destination_encoding.\n\t  (econverr_error_char): new method:\n\t  Encoding::ConversionUndefined#error_char.\n\t  (econverr_error_bytes): new method:\n\t  Encoding::ConversionUndefined#error_bytes.\n\nSun Aug 17 11:43:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* random.c (struct MT): packed Mersenne Twister staffs.\n\n\t* random.c (struct RandSeed): packed random seed staffs.\n\nSun Aug 17 08:38:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/iconv/test_option.rb (test_ignore_option): skip if iconv\n\t  doesn't have transliterate.\n\n\t* test/iconv/test_option.rb (test_translit_option): ditto.\n\nSun Aug 17 01:29:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): new fields: readconv, crbuf, crbuf_off,\n\t  crbuf_len, crbuf_capa.\n\t  (MakeOpenFile): initialize them.\n\n\t* io.c (io_shift_crbuf): new function.\n\t  (io_getc): use econv.\n\t  (rb_io_fptr_finalize): finalize readconv and crbuf.\n\nSun Aug 17 00:02:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_check_error): declared.\n\n\t* transcode.c (make_econv_exception): new function.\n\t  (transcode_loop): use make_econv_exception.\n\t  (rb_econv_check_error): defined.\n\nSat Aug 16 15:23:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_elem_t): fields removed: from and\n\t  to.\n\t  (rb_econv_t): new fields: source_encoding_name and\n\t  destination_encoding_name.\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): initialize the\n\t  new fields.\n\t  (rb_econv_open): set up the new fields.\n\t  (econv_inspect): use the new fields.\n\nSat Aug 16 14:22:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_t): add fields: in_buf_start,\n\t  in_data_start, in_data_end, in_buf_end and last_trans_index.\n\t  (rb_econv_output): removed.\n\t  (rb_econv_insert_output): declared.\n\t  (rb_econv_encoding_to_insert_output): declared.\n\n\t* enc/trans/newline.trans (rb_universal_newline): stateful_type\n\t  changed.\n\n\t* transcode.c (transcode_restartable0): initialize inchar_start,\n\t  tc->recognized_len and next_table at beginning of the loop.\n\t  (rb_econv_open_by_transcoder_entries): initialize new fields.\n\t  (rb_econv_open): setup last_trans_index.\n\t  (trans_sweep): last out_buf_start can be non-NULL now.\n\t  (rb_econv_convert): check last out_buf_start and in_buf_start at\n\t  first.\n\t  (rb_econv_output_with_destination_encoding): removed.\n\t  (econv_just_convert): removed.\n\t  (rb_econv_output): removed.\n\t  (econv_primitive_output): method removed.\n\t  (rb_econv_encoding_to_insert_output): new function.\n\t  (allocate_converted_string): new function.\n\t  (rb_econv_insert_output): new function.\n\t  (econv_primitive_insert_output): new method.\n\t  (output_replacement_character): use rb_econv_insert_output.  unused\n\t  arguments removed.\n\nSat Aug 16 09:20:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (rb_intern_const): tiny optimization.\n\n\t* include/ruby/ruby.h (SSIZET2NUM, NUM2SSIZET, SSIZE_MAX, SSIZE_MIN):\n\t  macros for ssize_t.\n\nSat Aug 16 08:11:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder_stateful_type_t): defined.\n\t  (rb_transcoder): add field: stateful_type.\n\n\t* tool/transcode-tblgen.rb: generate stateful_type field as\n\t  stateless_converter.\n\n\t* enc/trans/iso2022.trans: follow rb_transcoder change.\n\n\t* enc/trans/newline.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\nFri Aug 15 23:07:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_just_convert): extracted from rb_econv_output.\n\t  (rb_econv_output): use econv_just_convert.\n\t  (econv_primitive_output): new method.\n\nFri Aug 15 19:57:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_output): add str_encoding\n\t  argument.\n\n\t* transcode.c (get_replacement_character): add repl_enc_ptr argument.\n\t  (rb_econv_output_with_destination_encoding): renamed from\n\t  rb_econv_output and make it static.\n\t  (rb_econv_output): convert str and call\n\t  rb_econv_output_with_destination_encoding.\n\t  (output_replacement_character): follow above interface change.\n\nFri Aug 15 19:33:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_drop_bytes): use memmove.\n\nFri Aug 15 18:33:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_t): add error_tc in last_error.\n\n\t* transcode.c (rb_econv_convert): fill error_tc.\n\nFri Aug 15 18:10:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_t): new field: last_error.\n\n\t* transcode.c (rb_trans_conv): new argument: result_position_ptr.\n\t  (rb_econv_convert): fill last_error.\n\t  (econv_result_to_symbol): extracted from econv_primitive_convert.\n\t  (econv_primitive_errinfo): new method.\n\nFri Aug 15 17:39:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.{c,h}): creates in the dependency order.\n\nFri Aug 15 16:59:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (exec_event_hooks): skips RubyVM::FrozenCore.\n\n\t* vm.c (Init_VM): get rid of SEGV in a trace proc.\n\nFri Aug 15 09:33:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (conv_init): check empty name.\n\nFri Aug 15 09:03:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_init): don't create dummy encoding if\n\t  rb_econv_open is failed.\n\t  (make_dummy_encoding): new function extracted from make_encoding.\n\t  (make_encoding): removed.\n\nFri Aug 15 01:07:16 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk ({$(srcdir)}.y.c): escape backslash.\n\nFri Aug 15 01:05:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): set destination_buffer\n\t  encoding.\n\nFri Aug 15 00:52:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_output): declared.\n\n\t* transcode_data.h (rb_transcoder): add resetsize_func field.\n\n\t* enc/trans/iso2022.trans (iso2022jp_reset_sequence_size): defined.\n\t  (rb_EUC_JP_to_ISO_2022_JP): provide resetsize_func.\n\n\t* tool/transcode-tblgen.rb: set NULL for resetsize_func.\n\n\t* transcode.c (rb_econv_output): new function for inserting output.\n\t  (output_replacement_character): use rb_econv_output.\n\t  (transcode_loop): check return value of\n\t  output_replacement_character.\n\nThu Aug 14 23:47:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_UNIVERSAL_NEWLINE_DECODER): defined.\n\t  (ECONV_CRLF_NEWLINE_ENCODER): ditto.\n\t  (ECONV_CR_NEWLINE_ENCODER): ditto.\n\t  (ECONV_PARTIAL_INPUT): ditto.\n\t  (ECONV_OUTPUT_FOLLOWED_BY_INPUT): ditto.\n\n\t* transcode.c: use ECONV_* defined as above.\n\nThu Aug 14 23:35:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c: local variable renamed.\n\nThu Aug 14 23:22:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_result_t): moved from\n\t  transcode_data.h.\n\t  (rb_econv_elem_t): ditto.\n\t  (rb_econv_t): ditto.  source_encoding and destination_encoding field\n\t  is added.\n\t  (rb_econv_open): declared.\n\t  (rb_econv_convert): ditto.\n\t  (rb_econv_close): ditto.\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): initialize\n\t  source_encoding and destination_encoding field as NULL.\n\t  (rb_econv_open): make it external linkage.\n\t  (rb_econv_close): ditto.\n\t  (rb_econv_convert): ditto.  renamed from rb_econv_conv.\n\t  (make_encoding): new function.\n\t  (econv_init): use make_encoding and store rb_encoding* in\n\t  rb_econv_t.\n\t  (econv_source_encoding): new method\n\t  Encoding::Converter#source_encoding.\n\t  (econv_destination_encoding): new method\n\t  Encoding::Converter#destination_encoding.\n\nThu Aug 14 22:44:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_econv_result_t): change enumeration\n\t  constant's prefix: transcode_ to econv_.\n\n\t* transcode.c: follow the constant prefix change.\n\nThu Aug 14 21:34:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_init): accept Encoding object as source_encoding\n\t  and destination_encoding.\n\nThu Aug 14 21:10:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_filesystem_encoding): use default external encoding\n\t  for Unix.\n\n\t* dir.c (dir_initialize): don't cache fs_encoding.\n\nThu Aug 14 20:58:57 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): renamed from\n\t  rb_trans_open_by_transcoder_entries.\n\nThu Aug 14 20:56:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_max_output): removed.\n\nThu Aug 14 20:52:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: check unexpected actions.\n\nThu Aug 14 20:25:52 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (transcode_invalid_byte_sequence): renamed from\n\t  transcode_invalid_input.\n\t  (transcode_destination_buffer_full): renamed from transcode_obuf_full.\n\t  (transcode_source_buffer_empty): renamed from transcode_ibuf_empty.\n\t  (rb_econv_result_t): renamed from rb_trans_result_t.\n\t  (rb_econv_elem_t): renamed from rb_trans_elem_t.\n\t  (rb_econv_t): renamed from rb_trans_t.\n\n\t* transcode.c (UNIVERSAL_NEWLINE_DECODER): renamed from\n\t  UNIVERSAL_NEWLINE.\n\t  (CRLF_NEWLINE_ENCODER): renamed from CRLF_NEWLINE.\n\t  (CR_NEWLINE_ENCODER): renamed from CR_NEWLINE.\n\t  (rb_econv_open): renamed from rb_trans_open.\n\t  (rb_econv_close): renamed from rb_trans_close.\n\nThu Aug 14 19:41:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (load_transcoder): unused function removed.\n\t  (rb_transcoding_open): ditto.\n\nThu Aug 14 17:57:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_enc_ispunct): added.\n\n\t* common.mk (COMMONOBJS), inits.c (rb_call_inits): id.c is now\n\t  included from parse.c.\n\n\t* id.c (Init_id), id.h (ruby_method_ids): added IDs used by VM.\n\n\t* parse.y (global_symbols): added rooms for VM IDs.\n\n\t* parse.y (rb_intern3, rb_id2str): single punctuation symbol is now\n\t  same as char code.\n\nThu Aug 14 17:46:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (union tmpyystype): no longer needed, since YYSTYPE is\n\t  defined in parse.h now.\n\nThu Aug 14 17:27:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* version.c (Init_version): add RUBY_ENGINE constant.\n\nThu Aug 14 15:34:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_conv): new function.  it doesn't consume\n\t  input too much, even for multilevel conversion.\n\t  (transcode_loop): use rb_econv_conv.\n\t  (econv_primitive_convert): ditto.\n\nThu Aug 14 15:27:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/defines.h (RUBY_ALIAS_FUNCTION): fallback definition.\n\nThu Aug 14 15:08:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_trans_result_t): new enumeration constant:\n\t  transcode_output_followed_by_input.\n\n\t* transcode.c (OUTPUT_FOLLOWED_BY_INPUT): new flag.\n\t  (transcode_restartable0): suspend when output followed by input if\n\t  OUTPUT_FOLLOWED_BY_INPUT is specified.\n\t  (trans_sweep): check OUTPUT_FOLLOWED_BY_INPUT.\n\t  (rb_trans_conv): support OUTPUT_FOLLOWED_BY_INPUT.\n\t  (econv_primitive_convert): return :output_followed_by_input for\n\t  transcode_output_followed_by_input.\n\nThu Aug 14 14:57:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (getrusage_time): should return the value.\n\n\t* thread.c (rb_thread_priority_set): get rid of C99 feature.\n\n\t* transcode.c (transcode_search_path): ditto.\n\n\t* vm.c (REWIND_CFP): get rid of statement expressions.\n\nThu Aug 14 14:13:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (Init_VM): hide FrozenCore.\n\nThu Aug 14 12:20:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (load_transcoder): suppress warning.\n\n\t* missing/vsnprintf.c (BSD_vfprintf): ditto.\n\nThu Aug 14 12:01:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (gnumake): check for GNU make.\n\n\t* Makefile.in (uncommon.mk): includes filtered common.mk.\n\n\t* common.mk (parse.h): workaround for nmake.\n\nThu Aug 14 06:09:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_execute_interrupts): switch event\n\t  should be occur only once.\n\nThu Aug 14 05:36:36 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: parse.h depends on parse.c.\n\n\t* common.mk: hash.o depends on $(ID_H_INCLUDES).\n\nThu Aug 14 02:45:16 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_file_exhaustive.rb (TestFileExhaustive#setup):\n\t  set group of tmpdir.  [ruby-dev:35633]\n\nThu Aug 14 15:50:30 2008  Giuseppe Bilotta  <giuseppe.bilotta@gmail.com>\n\n\t* hash.c (set_default): fix rdoc.  #441\n\nThu Aug 14 02:23:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): add output_byteoffset\n\t  argument.\n\nThu Aug 14 00:43:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_gcc_function_alias): checks alias attribute.\n\n\t* string.c (alias_func): replaced with RUBY_ALIAS_FUNCTION.\n\nWed Aug 13 23:42:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.h): fake rule.\n\nWed Aug 13 23:15:58 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/ruby/test_thread.rb (test_list): call Thread.pass to run t1.\n\t  fixed [ruby-core:18264].\n\nWed Aug 13 23:05:51 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* string.c (alias_func): changed to 'weak, alias' from 'alias' for\n\t  Mac OSX. (closes #429)\n\nWed Aug 13 19:40:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c: count only freed object as freelist size.\n\nWed Aug 13 18:34:22 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* marshal.c (marshal_load): set arg.untrust properly.\n\nWed Aug 13 17:47:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_inspect): new method.\n\nWed Aug 13 17:35:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_restartable0): several local variables\n\t  removed.\n\nWed Aug 13 17:35:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_set_default_proc): add new method.  a patch from\n\t  Giuseppe Bilotta.  #419\n\nWed Aug 13 17:31:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm_insnhelper.c (caller_setup_args): should ensure if the value\n\t  from to_proc is a real Proc.\n\nWed Aug 13 17:28:29 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* common.mk: regint.h no longer includes vm_core.h.\n\nWed Aug 13 17:26:44 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): add fields: writebuf_off,\n\t  writebuf_len and writebuf.\n\t  (TRANSCODING_WRITEBUF): new macro.\n\n\t* transcode.c (transcode_restartable0): output until output buffer is\n\t  really full.\n\t  (rb_transcoding_open_by_transcoder): initialize writebuf_len,\n\t  writebuf_off and writebuf.\n\t  (rb_transcoding_close): finalize writebuf.\n\nWed Aug 13 17:18:37 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_check_ints): added.  please note that\n\t  this function may cause ruby's thread switching.\n\n\t* include/ruby/intern.h: ditto.\n\n\t* regint.h: use rb_thread_check_ints() instead of\n\t  RUBY_CHECK_INTS() directly.\n\nWed Aug 13 17:01:36 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* golf_prelude.rb, lib/set.rb (TC_Set#test_each),\n\t  test/readline/test_readline_history.rb (Readline#test_each__enumerator),\n\t  test/ruby/test_array.rb (TestArray#test_collect),\n\t  test/ruby/test_enumerator.rb (TestEnumerator#test_initialize):\n\t  Enumerable::Enumerator is now called Enumerator.\n\n\t* lib/rinda/tuplespace.rb (Rinda::TupleBag#initialize): Use\n\t  enum_for instead of hardcoding Enumerable::Enumerator.\n\nWed Aug 13 16:40:57 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c, vm_core.h: add manual priority support\n\t  using time slice.  if you enable USE_NATIVE_THREAD_PRIORITY\n\t  macro, this mechanism is ignored.  [ruby-dev:33124]\n\n\t* thread_pthread.c, thread_win32.c: ditto.\n\n\t* test/ruby/test_thread.rb: fix test parameter.\n\nWed Aug 13 16:02:14 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* object.c (rb_obj_untrusted): new method Object#untrusted?.\n\t  (rb_obj_untrust): new method Object#untrust.\n\t  (rb_obj_trust): new method Object#trust.\n\n\t* array.c, debug.c, time.c, include/ruby/ruby.h, re.c, variable.c,\n\t  string.c, io.c, dir.c, vm_method.c, struct.c, class.c, hash.c,\n\t  ruby.c, marshal.c: fixes for Object#untrusted?.\n\n\t* test/ruby/test_module.rb, test/ruby/test_array.rb,\n\t  test/ruby/test_object.rb, test/ruby/test_string.rb,\n\t  test/ruby/test_marshal.rb, test/ruby/test_hash.rb: added tests for\n\t  Object#untrusted?.\n\nWed Aug 13 16:13:58 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/test_m17n.rb: follow EncodingCompatibilityError.\n\n\t* test/ruby/test_mixed_unicode_escapes.rb: ditto.\n\n\t* test/ruby/enc/test_utf16.rb: ditto.\n\nWed Aug 13 16:05:50 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_cmp): retry with right hand operand if its not a\n\t  time object.  [ruby-dev:35011]\n\nWed Aug 13 15:51:22 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* string.c: Apply a temporary fix to fix build on OS X.  A real\n\t  fix will follow later.\n\nWed Aug 13 15:25:09 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (Init_Enumerator): Rename Enumerable::Enumerator to\n\t  just Enumerator.\n\nWed Aug 13 15:13:57 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* common.mk (prelude.c, golf_prelude.c): Using $(COMPILE_PRELUDE)\n\t  requires $(RBCONFIG).\n\nWed Aug 13 15:08:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_init): make flags argument optional.\n\t  (econv_primitive_convert): ditto.\n\nWed Aug 13 14:55:27 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* common.mk (realclean-local): Remove parse.h as well.\n\n\t* common.mk: Add missing dependencies regarding vm_core.h, id.h,\n\t  parse.c (parse.h), etc..\n\nWed Aug 13 14:45:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/newline.trans (rb_crlf_newline): new transcoder.\n\t  (rb_cr_newline): new transcoder.\n\n\t* transcode.c (trans_open_i): one more extra room for input newline\n\t  converter.\n\t  (rb_trans_open): crlf newline and cr newline implemented.\n\t  (Init_transcode): Encoding::Converter::CRLF_NEWLINE and\n\t  Encoding::Converter::CR_NEWLINE defined.\n\nWed Aug 13 14:22:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/newline.trans: new file.\n\n\t* transcode_data.h (rb_trans_t): add last_tc field.\n\n\t* transcode.c (UNIVERSAL_NEWLINE): defined.\n\t  (CRLF_NEWLINE): defined.\n\t  (CR_NEWLINE): defined.\n\t  (rb_trans_open_by_transcoder_entries): initialize last_tc.\n\t  (trans_open_i): allocate one more room for output newline converter.\n\t  (rb_trans_open): universal newline implemented.\n\t  (more_output_buffer): take max_output argument instead ts.\n\t  (output_replacement_character): take tc argument instead of ts.\n\t  (transcode_loop): use last_tc field.\n\t  (econv_init): add flags argument for rb_trans_open.\n\t  (Init_transcode): Encoding::Converter::UNIVERSAL_NEWLINE defined.\n\nWed Aug 13 14:00:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.c): generates parse.h together.\n\n\t* id.c, id.h: use constants for parser tokens.\n\nWed Aug 13 13:47:05 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: rewind cfp to show proper backtrace.\n\t  [ruby-dev:35820]\n\nWed Aug 13 13:09:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: fix for clean up.\n\nWed Aug 13 11:45:51 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* vm_core.h: Declare rb_iseq_clone, which is used in class.c.\n\nWed Aug 13 11:39:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_search_path): return the length of converter\n\t  path.\n\t  (load_transcoder_entry): renamed from load_transcoder.\n\t  (load_transcoder): new function for loading transcoder by encoding\n\t  names.\n\t  (rb_transcoding_open_by_transcoder): extracted from\n\t  rb_transcoding_open.\n\t  (rb_transcoding_open): use load_transcoder and\n\t  rb_transcoding_open_by_transcoder.\n\t  (rb_trans_open_by_transcoder_entries): new function.\n\t  (trans_open_i): construct entries array.\n\t  (rb_trans_open): use rb_trans_open_by_transcoder_entries.\n\nWed Aug 13 10:45:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: try to find exported directory.\n\nWed Aug 13 10:16:35 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* doc/NEWS: Mention the Readline.vi_editing_mode?,\n\t  Readline.emacs_editing_mode?, Readline::HISTORY[] and\n\t  Readline::HISTORY.clear change.\n\nWed Aug 13 08:03:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): add output_size argument.\n\nWed Aug 13 07:41:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_trans_conv): report last transcode_obuf_full.\n\t  (econv_max_output): new method Encoding::Converter#max_output.\n\nWed Aug 13 02:46:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* error.c (rb_eEncCompatError): add Exception.\n\n\t* include/ruby/ruby.h: ditto.\n\n\t* encoding.c (rb_enc_check): use rb_eEncCompatError.\n\n\t* string.c (rb_enc_cr_str_buf_cat): ditto.\n\n\t* string.c (rb_str_sub_bang): ditto.\n\n\t* string.c (rb_str_hex): ditto.\n\n\t* string.c (rb_str_oct): ditto.\n\nWed Aug 13 02:36:47 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (str_transcode): fix error message.\n\nTue Aug 12 23:42:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_cEncodingConverter): new class Encoding::Converter.\n\t  (econv_free): new function.\n\t  (econv_s_allocate): ditto.\n\t  (econv_init): ditto.\n\t  (check_econv): ditto.\n\t  (econv_primitive_convert): new method.\n\t  (Init_transcode): define Encoding::Converter.\n\nTue Aug 12 23:16:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_splice_0): call rb_str_drop_bytes, not rb_str_drop.\n\nTue Aug 12 19:11:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: fix for enc.mk.\n\nTue Aug 12 19:08:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_drop_bytes): new function to drop first bytes.\n\nTue Aug 12 18:58:48 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_insnhelper.c (vm_define_method): move\n\t  function place.\n\nTue Aug 12 18:56:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c: more descriptive aliases of rb_str_new[2-5].\n\t  [ruby-dev:35615]\n\nTue Aug 12 18:51:29 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* gc.c (getrusage_time): Returned effective value on Windows.\n\nTue Aug 12 18:51:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_trans_open): free ts before raise.\n\nTue Aug 12 18:46:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimalCmp): should not ignore\n\t  <=> comparison.  [ruby-dev:35732]\n\nTue Aug 12 18:43:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/make_transdb.rb: *.erb.c is not used anymore.\n\nTue Aug 12 18:32:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_trans_elem_t): new field: from and to.\n\n\t* transcode.c (trans_open_i): just record from and to.\n\t  (rb_trans_open): load transcodings.\n\nTue Aug 12 18:32:03 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/syslog/syslog.c (mSyslog_open): Use of Check_SafeStr() is\n\t  deprecated.\n\t  (mSyslogConstants_LOG_MASK, mSyslogConstants_LOG_UPTO): Use\n\t  NUM2INT() instead of FIX2INT() when the type of an given object\n\t  is not determined.\n\nTue Aug 12 18:14:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* tool/transcode-tblgen.rb (#transcode_tblgen): slight message\n\t  improvement.\n\nTue Aug 12 17:16:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (trans_open_i): check the result of rb_transcoding_open.\n\nTue Aug 12 16:23:32 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (gc_profile_result): use rb_str_catf.\n\nTue Aug 12 16:13:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (TRANSCODE_ERROR): removed.\n\n\t* tool/transcode-tblgen.rb: 8bit byte of ASCII-8BIT is a valid\n\t  (but unique to ASCII-8BIT) character.\n\n\t* transcode.c (rb_eConversionUndefined): new error.\n\t  (rb_eInvalidByteSequence): ditto.\n\nTue Aug 12 16:08:51 2008  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb: POP3Command should export @socket since POP\n\t  calls #socket.\n\nTue Aug 12 16:06:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c, util.c (quorem, nrv_alloc, dtoa): enabled floating point\n\t  support.\n\nTue Aug 12 15:52:45 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (gc_profile_result): use sprintf.\n\nTue Aug 12 15:37:40 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): should check symbol table overflow.\n\nTue Aug 12 15:31:04 2008  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (send_request_with_body): Content-Length should\n\t  be byte length of string. (closes #203)\n\nTue Aug 12 15:17:06 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/depend: (transvpath_prefix): prefix has no extension, so replace\n\t  %s with \"\".\n\nTue Aug 12 15:03:43 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline.rb (TestReadline#test_safe_level_4):\n\t  tested Readline.vi_editing_mode? and Readline.emacs_editing_mode?.\n\nTue Aug 12 14:25:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/Makefile.in (.SUFFIXES): renamed to .trans.\n\n\t* enc/make_encmake.rb: added --encs and --no-encs options.\n\n\t* enc/depend (TRANSVPATH): fix for nmake.\n\nTue Aug 12 14:19:53 2008  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/https.rb: suppress syntax warning.\n\nTue Aug 12 14:15:51 2008  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (Net::HTTP#initialize): initialize net/https\n\t  variables to suppress syntax warning.\n\nTue Aug 12 14:15:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/cptr.c (rb_dlptr_s_to_ptr): fixed shadowing variable.\n\nTue Aug 12 10:25:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_delete): Array#delete to return deleted element.\n\nTue Aug 12 10:18:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/win32ole/test_err_in_callback.rb: do not require 'mkmf'\n\t  unless WIN32OLE is defined.\n\nTue Aug 12 07:41:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): add resetstate_func field for\n\t  resetting a state of stateful encoding.\n\n\t* enc/trans/iso2022.trans (rb_EUC_JP_to_ISO_2022_JP): specify\n\t  finish_eucjp_to_iso2022jp for resetstate_func.\n\n\t* tool/transcode-tblgen.rb: specify NULL for resetstate_func.\n\n\t* transcode.c (output_replacement_character): call resetstate_func\n\t  before appending the replacement character.\n\nTue Aug 12 07:19:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (get_replacement_character): extracted from\n\t  output_replacement_character.\n\nTue Aug 12 07:00:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): typedef at first.\n\nTue Aug 12 06:48:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_trans_conv): find second last error.\n\nTue Aug 12 00:43:44 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_trans_result_t): new type.\n\t  (rb_trans_elem_t): new type.\n\t  (rb_trans_t): new type.\n\n\t* transcode.c (transcode_dispatch_cb): removed.\n\t  (transcode_dispatch): removed.\n\t  (rb_transcoding_result_t): moved to rb_trans_result_t in\n\t  transcode_data.h.\n\t  (transcode_restartable0): goto follow_info when FUNsi.\n\t  (rb_transcoding_open): use get_transcoder_entry.\n\t  (rb_trans_open): new function.\n\t  (rb_trans_conv): ditto.\n\t  (rb_trans_close): ditto.\n\t  (trans_open_i): ditto.\n\t  (trans_sweep): ditto.\n\t  (more_output_buffer): take rb_trans_t instead of rb_transcoding as\n\t  an argument.\n\t  (transcode_loop): take from_encoding and to_encoding instead of tr\n\t  as arguments.  use rb_trans_open/rb_trans_conv/rb_trans_close.\n\t  (str_transcode): don't use transcode_dispatch.\n\nMon Aug 11 20:37:05 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* iseq.c (rb_iseq_clone): should preserve cref_stack link.\n\nMon Aug 11 20:27:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dl/cfunc.c (rb_dlcfunc_call): add taint check.\n\n\t* ext/dl/dl.c (rb_dl_malloc): add rb_secure(2).\n\n\t* ext/dl/dl.c (rb_dl_realloc): ditto.\n\n\t* ext/dl/dl.c (rb_dl_free): ditto.\n\n\t* ext/dl/dl.c (rb_dl_ptr2value): ditto.\n\nMon Aug 11 20:11:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (getrusage_time): works only if RUSAGE_SELF is defined right\n\t  now.\n\n\t* gc.c (gc_profile_result): C99.\n\nMon Aug 11 18:57:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_sample): rename #choice to #sample.  in\n\t  addition, sample takes optional argument, a la #first.\n\nMon Aug 11 18:28:02 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c: added GC::Profiler.\n\nMon Aug 11 17:26:16 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/README.ja: added API document for\n\t  Readline.vi_editing_mode? and Readline.emacs_editing_mode?.\n\n\t* ext/readline/extconf.rb: checked rl_editing_mode variable in\n\t  Readline library.\n\n\t* ext/readline/readline.c (readline_s_emacs_editing_mode_p): added\n\t  Readline.emacs_editing_mode? method.\n\t  (readline_s_vi_editing_mode_p): added Readline.vi_editing_mode?\n\t  method.\n\t  (Init_readline): ditto.\n\nMon Aug 11 16:56:40 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline.rb: added test for Readline's class\n\t  methods.\n\nMon Aug 11 16:39:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* class.c (clone_method): should copy cbase in cref as well.\n\t  [ruby-dev:35116]\n\n\t* iseq.c (iseq_mark): mark original iseq object.\n\n\t* iseq.c (iseq_free): do not free internal data if they have\n\t  original iseq to belong.\n\n\t* iseq.c (rb_iseq_clone): a new function to clone iseq value.\n\nMon Aug 11 16:34:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/iso2022.trans: renamed from iso2022.erb.c.\n\n\t* enc/trans/single_byte.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\n\t* enc/trans/korean.trans: ditto.\n\n\t* enc/trans/japanese.trans: ditto.\n\n\t* enc/depend: follow the renaming.\n\n\t* tool/build-transcode: ditto.\n\nMon Aug 11 15:09:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (rb_cv_broken_glibc_ia64_erfc): renamed from\n\t  rb_broken_glibc_ia64_erfc.\n\t  [ruby-core:18228]\n\nMon Aug 11 10:04:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): rename fields.\n\t  readlen -> recognized_len.\n\t  feedlen -> readagain_len.\n\n\t* transcode.c: follow the field renaming.\n\nSun Aug 10 22:34:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_restartable0): invalid handling simplified.\n\t  (transcode_restartable): use PARTIAL_INPUT for converting buffered\n\t  input.\n\nSun Aug 10 22:24:24 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* encoding.c: include util.h.  [ruby-dev:35715]\n\n\t* common.mk: ditto.\n\nSun Aug 10 20:59:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): new field: flags.\n\n\t* transcode.c (load_transcoder): extracted from transcode_dispatch_cb.\n\t  (rb_transcoding_result_t): renamed from transcode_result_t.\n\t  (rb_transcoding_open): new function.\n\t  (rb_transcoding_convert): ditto.\n\t  (rb_transcoding_close): ditto.\n\t  (transcode_loop): use rb_transcoding_open, rb_transcoding_convert\n\t  and rb_transcoding_close.\n\t  (str_transcode): don't need rb_transcoding.\n\nSun Aug 10 18:09:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: record checksum of\n\t  transcode-tblgen.rb itself.\n\nSun Aug 10 12:34:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* config.guess ({powerpc-apple,i586-pc}-haiku): re-applied r18403.\n\t  [ruby-core:18110]\n\n\t* config.{guess,sub}: updated to automake-1.10.1.\n\nSun Aug 10 11:45:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/Makefile.in (make-workdir): use MAKEDIRS.\n\n\t* enc/depend: makes target directory before compile/link.\n\n\t* tool/transcode-tblgen.rb: creates target directory.\n\nSun Aug 10 11:30:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c: rename my_transcoding to tc and my_transcoder to tr.\n\nSun Aug 10 11:15:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): add feedlen field.\n\n\t* transcode.c (transcode_restartable0): renamed from\n\t  transcode_restartable.\n\t  save input buffer into feed buffer if next character is started the\n\t  point before input buffer.  for example, \"\\x00\\xd8\\x01\" then \"\\x02\"\n\t  in UTF-16LE.  \\x02 causes invalid and next character is started from\n\t  \\x01.\n\t  (transcode_restartable): new function to call\n\t  transcode_restartable0.  if feed buffer is not empty, convert it at\n\t  first.\n\nSun Aug 10 11:02:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (extconf): use MAKEDIRS.\n\nSun Aug 10 09:35:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/irb.rb (IRB::Irb#inspect): instance_variables returns symbols\n\t  instead of strings now.  [ruby-dev:34930]\n\nSun Aug 10 09:22:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_char_start): refactored to remove readlen\n\t  argument.\n\t  (transcode_restartable): refactored to remove readlen variable.\n\nSun Aug 10 08:56:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (STACK_LEVEL_MAX, ruby_stack_length): returns size_t.\n\t  [ruby-core:18207]\n\n\t* configure.in (rb_cv_missing__dtos18, rb_cv_missing_fconvert),\n\t  ext/digest/md5/md5.c, ext/openssl/ossl.c (main),\n\t  ext/socket/extconf.rb (ipv6, wide-getaddrinfo): main should be int.\n\n\t* main.c (main), win32/winmain.c, wince/wincemain.c (WinMain): envp is\n\t  no longer used so long time.  based on a patch from Peter Bowen at\n\t  [ruby-core:18208]\n\nSat Aug  9 22:05:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_loop): take destination and resize function\n\t  as parameters.\n\t  (more_output_buffer): ditto.\n\t  (str_transcoding_resize): argument changed from rb_transcoding* to\n\t  VALUE.\n\t  (str_transcode): call transcode_loop with destination string and its\n\t  resize function.\n\n\t* transcode_data.h (rb_transcoding): move ruby_string_dest and\n\t  flush_func to transcode_loop parameters.\n\nSat Aug  9 21:29:45 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: encs depend on transdb.h\n\nSat Aug  9 21:10:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_rshift_sign, rb_cv_binary_elf): get rid of\n\t  AC_TRY_RUN.\n\nSat Aug  9 16:33:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): new fields: next_info and next_byte.\n\n\t* transcode.c (transcode_restartable): save/restore next_info and\n\t  next_byte.\n\t  sync readlen and in_p when invalid.\n\nSat Aug  9 15:10:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_restartable): my_transcoder argument removed.\n\t  (transcode_loop): my_transcoder argument removed.\n\nSat Aug  9 14:39:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): add fields for restartable\n\t  transcoding.\n\t  (rb_transcoder): add max_input field.\n\t  from_unit_length field is renamed to input_unit_length.\n\n\t* tool/transcode-tblgen.rb: generate max_input field.\n\n\t* enc/trans/iso2022.erb.c: follow rb_transcoder change.\n\n\t* enc/trans/utf_16_32.erb.c: ditto.\n\n\t* transcode.c (PARTIAL_INPUT): new constant.\n\t  (transcode_char_start): new function.\n\t  (transcode_result_t): new type.\n\t  (transcode_restartable): new function.\n\t  (more_output_buffer): new function.\n\t  (transcode_loop): use transcode_restartable.\n\nSat Aug  9 13:35:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* stable/ext/socket/socket.c (NI_MAXHOST, NI_MAXSERV): fixed invalid\n\t  preprocessor directives.  a patch from Peter Bowen at\n\t  [ruby-core:18211].\n\nSat Aug  9 06:37:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/make_encdb.rb, enc/trans/make_transdb.rb: skip nonexistent\n\t  directory.  [ruby-dev:35802]\n\nSat Aug  9 01:07:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/utf_16_32.erb.c (fun_so_from_utf_32le): implemented.\n\t  (fun_so_to_utf_32le): implemented.\n\t  [ruby-dev:35777]\n\nSat Aug  9 00:42:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): from_unit_length field added.\n\t  from_utf8 field removed.\n\n\t* tool/transcode-tblgen.rb: generate offsets range.\n\t  follow rb_transcoder change.\n\n\t* transcode.c (transcode_loop): don't use from_utf8.\n\t  make invalid region from_unit_length wise.\n\n\t* enc/trans/iso2022.erb.c: follow rb_transcoder and\n\t  transcode_generate_node change.\n\n\t* enc/trans/utf_16_32.erb.c: follow rb_transcoder and\n\t  transcode_generate_node change.\n\t  explicit :invalid map removed.\n\nFri Aug  8 23:29:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend (TRANSCSRCS): needs rule_subst to apply.\n\n\t* io.c (shutdown): not define if defined already.\n\nFri Aug  8 22:47:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (opt_eq_func): large function to make inline.\n\n\t* bcc32/Makefile.sub (config.h): cannot compile a big inline function.\n\nFri Aug  8 21:09:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk (enk.mk): give not RUBY but MINIRUBY.\n\nFri Aug  8 17:03:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (shutdown, sched_yield, pthread_attr_setinheritsched):\n\t  check for Haiku.\n\n\t* eval_intern.h, io.c, thread_pthread.c: use autoconfisticated results.\n\nFri Aug  8 16:52:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (enc.mk): mkmf.rb requires rbconfig.rb.\n\n\t* common.mk (srcs-enc): renamed from transcodes.\n\n\t* enc/Makefile.in (make-workdir): creates object directories.\n\n\t* common.mk (encdb.h): see both $(srcdir)/enc and enc.\n\n\t* enc/make_encdb.rb: ditto.\n\n\t* enc/trans/make_transdb.rb: fix for the case no transdirs are given.\n\n\t* enc/trans/make_transdb.rb: converts only one transcoders for each\n\t  basename.\n\nFri Aug  8 10:53:52 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/resolv.rb: randomize source port and transaction id.\n\t  CVE-2008-1447.\n\n\t* lib/resolv-replace.rb (UDPSocket#bind): don't resolv host if host is\n\t  \"\".\n\nFri Aug  8 04:20:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: see both $(srcdir)/enc/trans and enc/trans.\n\n\t* enc/trans/make_transdb.rb: ditto.\n\nFri Aug  8 00:05:02 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/.document: added readline/readline.c.\n\n\t* ext/readline/readline.c: changed Copyright. added RDoc.\n\n\t* ext/readline/README.ja: fixed typo.\n\n\t* ext/readline/README: contents was moved RDoc.\n\nThu Aug  7 23:43:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): new field \"stateful\".\n\t  (rb_transcoder): preprocessor and postprocessor field removed.\n\t  change arguments of func_ii, func_si, func_io and func_so.\n\t  new field \"finish_func\".\n\n\t* tool/transcode-tblgen.rb: make FUNii, FUNsi and FUNio\n\t  generatable.\n\n\t* transcode.c (transcoder_lib_table): removed.\n\t  (transcoder_table): change structure.\n\t  (transcoder_key): removed because the above structure change.\n\t  (make_transcoder_entry): new function.\n\t  (get_transcoder_entry): ditto.\n\t  (rb_register_transcoder): follow the structure change.\n\t  (declare_transcoder): ditto.\n\t  (transcode_search_path): new function for breadth first search to\n\t  find a list of converters.\n\t  (transcode_search_path_i): new function.\n\t  (transcode_dispatch_cb): ditto.\n\t  (transcode_dispatch): use transcode_search_path.\n\t  (transcode_loop): follow the argument change.\n\t  (str_transcode): preprocessor and postprocessor stuff removed.\n\n\t* enc/trans/iso2022.erb.c: new file.  ISO-2022-JP conversion\n\t  re-implemented.\n\n\t* enc/trans/japanese.erb.c: ISO-2022-JP stuff removed.\n\n\t* enc/trans/utf_16_32.erb.c: follow argument change of FUNso.\n\n\t[ruby-dev:35798]\n\nThu Aug  7 22:55:44 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/README.ja: updated API document for Readline module.\n\nThu Aug  7 20:52:08 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb (login): raise FTPReplyError if passwd or acct\n\t  is not supplied.  fixed [ruby-core:18058].\n\nThu Aug  7 18:01:44 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* misc/ruby-mode.el (ruby-imenu-create-index-in-block): Fix the\n\t  regexp to only pick definition lines properly.  `module_function'\n\t  is not a definition of a module named `_function'.\n\nThu Aug  7 17:47:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend: add transdb.c.\n\nThu Aug  7 16:28:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.mk, {bcc,win}32/Makefile.sub (clean-ext): do not\n\t  use miniruby.\n\nThu Aug  7 14:17:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend: removed needless explicit commands.\n\n\t* lib/mkmf.rb, {bcc32,win32}/Makefile.sub (CLEANLIBS, CLEANOBJS):\n\t  moved clean targets to platform makefiles.\n\nThu Aug  7 13:12:30 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/getaddrinfo.c (gai_strerror): ignore only on Haiku.\n\t  a patch from <zn at mbf.nifty.com>, [ruby-dev:35796].\n\nThu Aug  7 06:31:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/process.rb (test_popen_fork): skip a test which is\n\t  freeze in FreeBSD.\n\nThu Aug  7 06:05:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* config.guess: add powerpc-apple-haiku, i586-pc-haiku.\n\t  see [ruby-core:18110]\n\nThu Aug  7 05:51:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* eval_intern.h: Add support to Haiku. see [ruby-core:18110]\n\n\t* include/ruby/defines.h: ditto.\n\n\t* configure.in: ditto.\n\n\t* thread_pthread.c: ditto.\n\n\t* io.c: ditto.\n\n\t* lib/mkmf.rb: ditto.\n\n\t* ext/socket/getaddrinfo.c: ditto.\n\n\t* ext/socket/extconf.rb: ditto.\n\n\t* ext/socket/socket.c: ditto.\n\n\t* ext/socket/addrinfo.h: ditto.\n\n\t* ext/socket/getnameinfo.c: ditto.\n\nThu Aug  7 05:43:32 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: mkdir enc/trans before build tables.\n\nThu Aug  7 05:18:30 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/depend: enc/*.c is source but enc/trans/*.c is generated.\n\nThu Aug  7 05:14:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* regenc.c (code_to_mbc): raise RangeError Integer#chr\n\t  when more than 255 is given with single byte encoding.\n\t  [ruby-dev:35789]\n\nThu Aug  7 05:06:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (run_final): runs finalizers with the object terminated.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): keeps finalized objects from\n\t  linking to freelist.\n\nThu Aug  7 04:43:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/depend: for build in other than srcdir.\n\nWed Aug  6 22:40:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (transcode_generate_node): code\n\t  argument removed.\n\nWed Aug  6 21:25:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (chain_finalized_object): deletes finalizers to be invoked from\n\t  finalizer_table.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): warns when could not invoke\n\t  finalizers.\n\nWed Aug  6 20:56:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/depend: transcode table generation depends on\n\t  tool/transcode-tblgen.rb.\n\nWed Aug  6 20:48:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): self-referencing finalizers\n\t  cannot be invoked.  [ruby-dev:35681]\n\nWed Aug  6 20:44:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: distinguish UNDEF and INVALID.\n\t  [ruby-dev:35709]\n\n\t* transcode.c (transcode_loop): don't need rb_enc_mbclen now.\n\nWed Aug  6 14:40:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (transdb.h): requires transcoders.\n\n\t* enc/depend (srcs): target for transcoders.\n\nWed Aug  6 14:04:08 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/depend: replace not only $(<:...) but also $<.\n\nWed Aug  6 13:54:30 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.status): export BASERUBY.\n\n\t* enc/depend: avoid GNU make'ism.\n\nWed Aug  6 07:59:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ActionMap#eql?): use == to compare @map.\n\nWed Aug  6 07:45:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: show generating tables in verbose mode.\n\t  (transcode_generate_node): call ActionMap#generate_node with showing\n\t  table name.\n\n\t* enc/trans/utf_16_32.erb.c: use transcode_generate_node.\n\nWed Aug  6 06:55:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): propagates fatal error and system\n\t  exit to the main thread.\n\nWed Aug  6 05:31:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_to_encoding_index, rb_to_encoding): check if the name\n\t  is ascii compatible as well as Encoding.find.\n\n\t* transcode.c (str_encode): no need to duplicate first.\n\nWed Aug  6 05:08:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sort_bang): reset to real class.\n\n\t* file.c (rb_find_file_ext, rb_find_file): ditto.\n\n\t* io.c (io_reopen): ditto.\n\nWed Aug  6 03:56:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (transcodes), tool/build-transcode: generates transcode\n\t  sources.\n\n\t* enc/trans/{japanese,korean,single_byte,utf_16_32}.c: to be\n\t  autogenerated now.\n\n\t* enc/depend: added rules for .c from .erb.c.\n\nTue Aug  5 20:46:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/build-transcode: new file.\n\n\t* tool/transcode-tblgen.rb: new file.\n\n\t* enc/trans/make_transdb.rb: exclude *.erb.c.\n\n\t* enc/depend: exclude *.erb.c.\n\n\t* enc/trans/utf_16_32.erb.c: new file.\n\n\t* enc/trans/single_byte.erb.c: new file.\n\n\t* enc/trans/japanese.erb.c: new file.\n\n\t* enc/trans/korean.erb.c: new file.\n\n\t* enc/trans/iso-8859-2-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-3-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-4-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-5-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-6-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-7-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-8-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-9-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-10-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-11-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-13-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-14-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-15-tbl.rb: new file.\n\n\t* enc/trans/eucjp-tbl.rb: new file.\n\n\t* enc/trans/sjis-tbl.rb: new file.\n\n\t* enc/trans/euckr-tbl.rb: new file.\n\n\t* enc/trans/utf_16_32.c: regenerated.\n\n\t* enc/trans/single_byte.c: regenerated.\n\n\t* enc/trans/japanese.c: regenerated.\n\n\t* enc/trans/korean.c: regenerated.\n\n\t[ruby-dev:35730]\n\nTue Aug  5 18:02:53 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/io/nonblock/test_flush.rb (TestIONonblock#test_flush):\n\t  rescue some exceptions. [ruby-dev:35638]\n\nTue Aug  5 16:40:06 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb (chdir): handle 5xx errors correctly.\n\t  fixed [ruby-core:18057].\n\nTue Aug  5 16:38:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/win32.h, bcc32/Makefile.sub (config.h): bcc 5.8 has\n\t  stdint.h.\n\nTue Aug  5 16:13:05 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (disconnect): do not refer SSL::SSLSocket for\n\t  environments without OpenSSL. fixed [ruby-dev:35755].\n\nTue Aug  5 14:19:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_stat_mode): generalized st_mode mask.\n\nTue Aug  5 12:43:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (retry_sendfile, retry_read): ENOSYS and EWOULDBLOCK are not\n\t  defined on every platforms.\n\nTue Aug  5 12:34:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode_data.h (TRANSCODE_ERROR): common transcode failure\n\t  exception, would be changed later.\n\n\t* enc/trans/japanese.c (UNSUPPORTED_MODE): unsupported mode transition\n\t  exception.\n\nTue Aug  5 03:29:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sort_bang): respect overridden <=> for String and\n\t  Fixnum.  [ruby-core:17708]\n\n\t* include/ruby/node.h (NOEX_BASIC): basic definition method flag.\n\n\t* include/ruby/intern.h, vm_method.c (rb_method_basic_definition_p):\n\t  new function to check if the method is not redefined after the\n\t  initialization.\n\n\t* vm_method.c (rb_obj_respond_to): use rb_method_basic_definition_p.\n\nMon Aug  4 20:39:06 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* Makefile.in (update-rubyspec): renamed the rubyspec directory\n\t  \"spec\". Changed directory structure.\n\n\t* Makefile.in (test-rubyspec): ditto.\n\n\t* spec/README: described the structure of \"spec\" directory.\n\n\t* spec/default.mspec: configured for Matz's Ruby Implementation.\n\nMon Aug  4 19:21:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_tmp_new): added.\n\n\t* vm_eval.c (vm_call_super): fixed typo, and get rid of too large\n\t  alloca.  [ruby-core:17922]\n\nMon Aug  4 16:48:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (deferred_nodes, compstmt, arg, fixup_nodes, range_op): fix\n\t  up fixnum range literal in conditional as automagical line number\n\t  comparison.  [ruby-core:12124], [ruby-dev:35731]\n\nMon Aug  4 14:41:25 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* lib/net/smtp.rb (Net::SMTP::rcptto): fix a typo. a patch from\n\t  Masao Takaku <masao at nii.ac.jp>\n\t  fix [ruby-dev:35489].\n\nMon Aug  4 14:08:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (dump_ensure), process.c (run_exec_dup2),\n\t  string.c (rb_str_replace), transcode.c (transcode_dispatch): fixed\n\t  memory leaks.  based on patches from shinichiro.h <shinichiro.hamaji\n\t  AT gmail.com> at [ruby-dev:35751].\n\nSun Aug  3 19:32:52 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (hash2named_arg): refactoring.\n\n\t* ext/win32ole/win32ole.c (ole_invoke, fole_respond_to, ev_on_event,\n\t  fev_off_event): accepts Symbol argument.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\nSun Aug  3 10:41:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_shared_replace): fixed memory leak.  a patch from\n\t  shinichiro.h <shinichiro.hamaji AT gmail.com> at [ruby-dev:35742]\n\nSat Aug  2 22:55:41 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_err_in_callback.rb: remove temporary files.\n\t  some refactoring.\n\nSat Aug  2 15:51:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (yylex): 8 and 9 in octal integer should cause compile\n\t  error.  [ruby-dev:35729]\n\nSat Aug  2 01:06:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c: add U+FF5E to EUC-JP.\n\t  [ruby-dev:35720] [ruby-dev:35722]\n\nFri Aug  1 23:49:44 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/extconf.rb: checked to have clear_history in\n\t  readline library.\n\t* ext/readline/readline.c (hist_get, hist_each, Init_readline):\n\t  The offset specified for the argument of history_get() might be\n\t  different in GNU Readline and libedit. If use libedit, it was\n\t  corrected that the computational method of the offset specified\n\t  for the argument of history_get() when the Readline module was\n\t  initialized was decided.\n\t  (hist_get, hist_set): If use libedit, accesses first an input\n\t  content in history when specifies the negative offset for the\n\t  argument of history_get() or replace_history_entry(). Then\n\t  checks the offset is negative in ruby.\n\t  (rb_remove_history): When compiling, it corrects it to warning\n\t  when libedit is used.\n\t  (hist_clear, Init_readline): added Readline::HISTORY.clear\n\t  method. [ruby-dev:35551]\n\t* test/readline/test_readline_history.rb: added unit test for\n\t  Readline::HISTORY.\n\nFri Aug  1 23:26:45 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (transcode_loop): undefined character is replaced with\n\t  only one character. [ruby-dev:35709]\n\nFri Aug  1 23:26:22 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\tMerged r16430(akr), r16431(akr), r16433(akr), r16469(nobu), and\n\tr17874(akr) from ruby_1_8.\n\n\t* Makefile.in (update-rubyspec): added\n\n\t* Makefile.in (test-rubyspec): added\n\nFri Aug  1 23:16:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c: add support for CP51932,\n\nFri Aug  1 22:59:40 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c: add U+FF0C,\n\nFri Aug  1 21:49:41 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/sdbm/test_sdbm.rb: add some tests.\n\nFri Aug  1 21:36:00 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* gc.c (allocate_heaps, assign_heap_slot, rb_newobj_from_heap):\n\t  reset during_gc before raising NoMemoryError.\n\nFri Aug  1 21:29:56 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm.c (Init_BareVM): check failure of malloc().\n\nFri Aug  1 20:55:27 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c (to_SHIFT_JIS_EF_BF_offsets): add U+FFF3,\n\t  U+FFF4, U+FFF5.\n\n\t* enc/trans/japanese.c (to_SHIFT_JIS_EF_BF_infos): ditto.\n\n\t* enc/trans/japanese.c (to_EUC_JP_EF_BF_infos): added.\n\n\t* enc/trans/japanese.c (to_EUC_JP_EF_BF): added.\n\n\t* enc/trans/japanese.c (to_EUC_JP_EF_infos): change size.\n\t  [ruby-dev:35714]\n\nFri Aug  1 18:27:15 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* parse.y (parser_yylex): removed an useless conditional, and magic\n\t  comment are ignored unless at the first of line.\n\n\t* test/ruby/test_m17n.rb (test_magic_comment_vim): added.\n\n\t* test/ruby/test_m17n.rb (test_magic_comment_at_various_positions):\n\t  added.\n\nFri Aug  1 14:54:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_seekdir): no need to rewind to seek forward.\n\nFri Aug  1 05:31:08 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (output_replacement_character):\n\t  rename from _get_replacement_character.\n\n\t* transcode.c (output_replacement_character):\n\t  fix replacement on UTF-32{BE,LE}. [ruby-dev:35705]\n\n\t* transcode.c (transcode_loop): ditto.\n\n\t* test/ruby/test_transcode.rb (test_invalid_replace):\n\t  add for above.\n\nFri Aug  1 01:01:49 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* proc.c (rb_proc_call_with_block): reduce comparison.\n\nWed Jul 30 21:08:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/syck/syck.c (syck_free_parser): fix memory leak by\n\t  YAML::Syck.compile.\n\nThu Jul 31 22:17:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (VpMult): prevent memory leak.\n\nThu Jul 31 20:05:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/test_transcode.rb (test_unicode_public_review_issue_121):\n\t  fix option1 and 3.\n\nThu Jul 31 19:54:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (get_replacement_character): use U+FFFD as replacement\n\t  character when convert to Unicode.\n\n\t* test/ruby/test_transcode.rb (test_unicode_public_review_issue_121):\n\t  rename from test_public_review_issue_121.\n\n\t* test/ruby/test_transcode.rb (test_unicode_public_review_issue_121):\n\t  enable option2.\n\nThu Jul 31 17:00:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (get_replacement_character): fix: invalid byte sequence\n\t  is always replaced \"\\x00?\".\n\nThu Jul 31 16:37:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/rubygems/test_gem_ext_configure_builder.rb\n\t  (test_self_build_fail): remove extra newline. [ruby-dev:35704]\n\nThu Jul 31 15:11:11 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: added test_shift_jis\n\t  (contributed by Yoshihiro Kambayashi) and\n\t  test_public_review_issue_121\n\t  (see http://www.unicode.org/review/pr-121.html)\n\nThu Jul 31 13:18:30 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* include/ruby/ruby.h (struct RString): size of ary must be\n\t  RSTRING_EMBED_LEN_MAX + 1.\n\nThu Jul 31 12:23:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_unpack): upper half of hexdigits has never been used.\n\nThu Jul 31 11:31:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/syck.h (ASSERT): fix typo at r18176.\n\n\t* ext/syck/rubyext.c (rb_syck_compile): expression in ASSERT() has no\n\t  effect unless debug mode.\n\nThu Jul 31 10:51:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* iseq.c (ruby_iseq_disasm_insn): suppress warnings on platforms which\n\t  int size differs from pointer size.\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_get_asn1type): ditto\n\n\t* ext/syck/rubyext.c (rb_syck_err_handler),\n\t  (syck_default_error_handler): ditto.\n\nThu Jul 31 02:21:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/syck/rubyext.c (rb_syck_compile): remove meaningless branch\n\t  that misleads into thinking that the variable sav may be\n\t  uninitialized.\n\nThu Jul 31 01:25:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_mutex_unlock_all): mutex is no longer a ruby object.\n\nThu Jul 31 01:18:07 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* parse.y (magic_comment_encoding): remove meaningless null check.\n\nThu Jul 31 01:09:28 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (VpIsRoundMode): fix tautology\n\t  condition.\n\nThu Jul 31 00:58:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_unpack): reduced static variables.\n\nThu Jul 31 00:10:20 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* proc.c (rb_proc_call_with_block): prevent null reference.\n\nWed Jul 30 22:19:13 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* parse.y (vtable_free): remove meaningless null check.\n\nWed Jul 30 22:08:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* dir.c (struct dir_data): change path field char * to VALUE.\n\t  (mark_dir): new function for mark path field.\n\t  (free_dir): follow the path field change.\n\t  (dir_s_alloc): ditto.\n\t  (dir_initialize): ditto.\n\t  (dir_s_open): ditto.\n\t  (dir_inspect): ditto.\n\t  (dir_path): return (duplicate of) the path field to preserve\n\t  encoding.  [ruby-dev:35685]\n\nWed Jul 30 22:06:56 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (sym_inspect): remove dead code.\n\nWed Jul 30 21:32:52 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ChangeLog: fix wrong method name and add reference.\n\nWed Jul 30 21:30:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* regparse.c (name_add): fix memory leak.\n\nWed Jul 30 21:08:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* regparse.c (parse_exp): fix memory leak at Regexp.new(\"x{1,1}\").\n\nWed Jul 30 17:48:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_select): recalc the rest of timeout for each\n\t  iterations.  [ruby-core:18015]\n\nTue Jul 29 23:37:37 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (io_ungetc): raise NotImplementedError when ungetc is called\n\t  against dummy encoding IO.  [ruby-dev:35686]\n\n\t* io.c (rb_io_getline_1): ditto when gets with delimiter is called.\n\n\t* io.c (io_getc): ditto when getc is called.\n\n\t* test/ruby/test_io_m17n.rb (test_terminator_stateful_conversion,\n\t  test_getc_stateful_conversion, test_ungetc_stateful_conversion):\n\t  these tests should raise NotImplementedError.\n\nTue Jul 29 22:55:34 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_io.rb (pipe): run reader thread and writer thread.\n\nTue Jul 29 21:38:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (Init_bigdecimal): fix typo.\n\nTue Jul 29 21:35:59 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/etc/test_etc.rb (test_passwd): age field may be string under\n\t  some environments.\n\nTue Jul 29 17:54:35 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (char_casecmp): fix: return 0 if either of characters is NUL.\n\nTue Jul 29 13:17:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/etc/test_etc.rb (test_getpwuid): fix for users whose uid is\n\t  shared.\n\nTue Jul 29 05:37:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_find_file_ext, rb_find_file): explicit relative path\n\t  which starts with \"./\" or \"../\" should be searched from cwd\n\t  instead of load path.  [ruby-dev:35673]\n\nTue Jul 29 02:39:46 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* math.c (math_atanh): raise EDOM on FreeBSD when atanh(1).\n\n\t* math.c (math_log): ditto.\n\n\t* math.c (math_log2): ditto.\n\n\t* math.c (math_log10): ditto.\n\n\t* test/ruby/test_math.rb: test for above.\n\nTue Jul 29 01:41:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* dir.c (struct dir_data): intenc field removed.\n\t  (dir_s_alloc): intenc initialization removed.\n\t  (dir_initialize): :internal_encoding option removed.  dirname code\n\t  conversion removed.\n\t  (dir_enc_str): code conversion removed.\n\t  [ruby-dev:35661]\n\nMon Jul 28 21:32:17 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/: use PNG instead of zlib as binary data.\n\nMon Jul 28 21:24:33 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.[ch] (cond_every_entry, rb_thread_cond_struct): reverted\n\t  r18239 because r18245 made the changes unnecessary.\n\n\t* thread.c (rb_mutex_struct): define after including thread_{pthread,\n\t  win32}.c.\n\nMon Jul 28 21:00:10 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_require.rb (test_require_too_long_filename):\n\t  Kernel#require does not use dln_find_file_r (at r18242).\n\nMon Jul 28 20:17:03 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm_core.h: move the definition of struct rb_mutex_struct.\n\n\t* thread.c: ditto.\n\nMon Jul 28 18:58:46 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (mutex_unlock): fix typo.\n\nMon Jul 28 18:15:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_find_file_ext, rb_find_file): not to split load path with\n\t  path separator.  [ruby-Bugs-21356]\n\nMon Jul 28 18:14:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (overlapped_socket_io, fcntl, rb_w32_close): must not\n\t  pass a pointer to int which is smaller than st_data_t on mswin64.\n\nMon Jul 28 16:49:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild, overlapped_socket_io): suppress\n\t  warnings.\n\nMon Jul 28 16:06:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (MAXPATHLEN): define before use.\n\nMon Jul 28 16:01:12 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.[ch] (cond_every_entry, rb_thread_cond_struct): moved\n\t  the definitions from .c to .h because rb_thread_cond_struct is used\n\t  in vm_core.h.\n\nMon Jul 28 14:29:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.c (load_lib): use dln_find_file_r instead of dln_find_file.\n\nMon Jul 28 00:18:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm_core.h, thread.c: It is now prohibited to use Data_Get_Struct in\n\t  *_free against an object that is going to be free'ed.  So, change type\n\t  of thread_t#keeping_mutexes from VALUE to mutex_t.\n\n\t* vm.c: remove mark to keeping_mutexes.\n\nSun Jul 27 23:32:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/openssl/test_ssl.rb (server_loop): rescue Errno::EINVAL and\n\t  Errno::ECONNABORTED.\n\nSun Jul 27 22:11:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* bootstraptests/method.rb: increase RLIMIT_STACK size to 4M+8Kbytes\n\t  because FreeBSD fails this less than that.\n\nSun Jul 27 21:45:59 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c (gc_mark_children, obj_free): T_DEFERRED should not be appear.\n\n\t* gc.c (gc_sweep, finalize_list): fix to decrement heap_slot#limit\n\t  after executing finalizer.\n\nSun Jul 27 14:48:37 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/ruby.h: add a type T_DEFERRED.\n\n\t* gc.c: fix deferred finalizer system.  finalize processes of\n\t  T_DATA and T_FILE are executed after gc process.\n\t  And fix to use BUILTIN_TYPE() instead of seeing flag.\n\n\t* thread.c, vm_core.h: add RUBY_VM_SET_FINALIZER_INTERRUPT()\n\t  and check interrupt_flag at rb_thread_execute_interrupts().\n\n\t* thread.c (mutex_mark): fix to mark next_mutex.\n\n\t* vm.c (rb_thread_mark): fix to mark keeping_mutexes.\n\nSun Jul 27 09:15:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.h (dln_find_exe, dln_find_file): deprecated, use reentrant\n\t  versions instead.\n\nSun Jul 27 09:02:32 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/tuplespace.rb: merged from 1.8.\n\n\t* test/rinda/test_rinda.rb: merged from 1.8.\n\nSat Jul 26 22:45:18 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* sample/exyacc.rb: fixed NoMethodError(Kernel#sub!).\n\t  replaced use of special variables with explicit IO\n\t  operations.\n\nSat Jul 26 21:17:18 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): add\n\t  WIN32OLE_EVENT#handler=, WIN32OLE_EVENT#handler\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\nSat Jul 26 07:44:14 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (add_event_call_back): remove unused\n\t  variable.\n\nFri Jul 25 23:48:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (gc_sweep, obj_free, run_final): defer finalizers of IO and\n\t  Data.  [ruby-dev:35578]\n\nFri Jul 25 23:35:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils#split_header_value):\n\t  reduce backtrack.  based on a fix by Christian Neukirchen\n\t  <chneukirchen AT gmail.com>.\n\nFri Jul 25 21:55:38 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/enc/test_koi8.rb: move from test/ruby/test_koi8.rb.\n\nFri Jul 25 21:09:32 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_invoke, add_event_callback,\n\t  rescue_callback): refactoring.\n\nFri Jul 25 20:52:44 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/err_in_callback.rb: add test of raising\n\t  exception in WIN32OLE_EVENT callback.\n\n\t* test/win32ole/test_err_in_callback.rb: ditto.\n\nFri Jul 25 20:43:57 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): add\n\t  WIN32OLE_EVENT#off_event.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\n\t* test/win32ole/test_win32ole_event.rb: some refactoring.\n\nFri Jul 25 19:50:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regint.c (xmalloc, xrealloc, xfree): not to use ruby managed memory.\n\nFri Jul 25 15:52:40 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (vm_invoke_proc): skip setting safe_level if\n\t  it from bmethod.  This change makes test/ruby/test_proc.rb pass.\n\nFri Jul 25 10:00:00 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: refactoring/cleanup of\n\t  test_iso_2022_jp(_1)\n\nFri Jul 25 04:12:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_convert): output of mime encode is US-ASCII.\n\t  [ruby-list:45257]\n\nFri Jul 25 02:43:11 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* sample/coverage.rb: move from lib/coverage.rb because this remains in\n\t  an early phase of development.\n\nFri Jul 25 00:10:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_find_file_ext, rb_find_file): converts Windows style path\n\t  to Cygwin path.  [ruby-dev:35647]\n\nThu Jul 24 16:30:21 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (exit_handler): use st_free_table() to free socklist.\n\n\t* win32/win32.c (rb_w32_pipe_exec, rb_w32_accept, rb_w32_socket,\n\t  rb_w32_socketpair): should check and release fd and sockets/handles\n\t  if an error occurs in rb_w32_open_osfhandle().\n\nThu Jul 24 16:05:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (overlapped_socket_io): avoid warnings.\n\n\t* thread_win32.c (ubf_handle): refactoring.\n\nThu Jul 24 07:01:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c: got rid of improper casts.\n\nWed Jul 23 23:19:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/socket/test_tcp.rb (test_recvfrom): replace an irrelevant test\n\t  for old behavior.\n\nWed Jul 23 21:38:16 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_marshal.rb: suppress warning during test.\n\nWed Jul 23 21:35:53 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_dir.rb: suppress warning during test.\n\nWed Jul 23 18:27:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/{stubs,tcltklib}.c, ext/tk/tkutil/tkutil.c: fix warnings\n\t  about constness and signedness.\n\nWed Jul 23 17:04:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/openssl_missing.h (d2i_of_void): define for older\n\t  versions.  [ruby-dev:35637]\n\nWed Jul 23 13:53:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/curses/extconf.rb: use try_static_assert.\n\nWed Jul 23 10:06:19 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/zlib/test_zlib.rb (TestZlibDeflate#test_params): suppress a\n\t  finalizer warning.\n\nWed Jul 23 06:25:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck: suppress warnings more.\n\nWed Jul 23 03:19:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (struct input_code.name, input_codename):\n\t  constified.\n\nWed Jul 23 03:02:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck: suppress warnings.\n\nWed Jul 23 00:34:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl: suppress warnings.\n\nTue Jul 22 23:01:34 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/syck/rubyext.c, ext/syck/yaml2byte.c, ext/syck/emitter.c,\n\t  ext/syck/syck.c, ext/syck/handler.c, ext/syck/syck.h: suppress GCC\n\t  warning.\n\nTue Jul 22 20:42:24 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimalCmp): BigDecimal#<=> should\n\t  return nil if an argument can't be coerced into BigDecimal.\n\n\t* ext/bigdecimal/bigdecimal.h, ext/bigdecimal/bigdecimal.c\n\t  (VpIsNegDoubleZero, VpItoV): comment out unused functions.\n\nTue Jul 22 20:33:54 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/rdoc/test_rdoc_parser_ruby.rb (teardown): close tempfile.\n\nTue Jul 22 19:38:38 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: added two comments\n\nTue Jul 22 18:08:34 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* README.EXT, README.EXT.ja: mention about FIX2LONG and NUM2LONG.\n\t  see [ruby-dev:35197]\n\nTue Jul 22 17:53:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (insn_data_to_s_detail), file.c (rb_stat_inspect),\n\t  iseq.c (ruby_iseq_disasm_insn, ruby_iseq_disasm),\n\t  process.c (pst_message), re.c (match_inspect): use rb_str_catf.\n\n\t* dir.c (dir_inspect), iseq.c (iseq_inspect, insn_operand_intern): use\n\t  rb_sprintf.\n\n\t* error.c (rb_name_error, rb_raise, rb_loaderror, rb_fatal): use\n\t  rb_vsprintf.\n\nTue Jul 22 17:20:25 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (init_func): new function to get API's address which\n\t  is often used and not supported on all Windows.\n\n\t* win32/win32.c (overlapped_socket_io): shouldn't use overlapped I/O if\n\t  CancelIo() is not supported.\n\nTue Jul 22 16:47:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h, sprintf.c (rb_str_catf, rb_str_vcatf): new\n\t  functions.  [ruby-dev:35597]\n\n\t* string.c (rb_str_capacity): new function to return the capacity.\n\nTue Jul 22 16:08:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (connect_blocking, socks_connect_blocking,\n\t  ruby_connect): cast.\n\nTue Jul 22 11:05:08 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_dir.rb: use realpath of tmpdir. [ruby-dev:35481]\n\n\t* test/ruby/test_process.rb: ditto.\n\nTue Jul 22 09:51:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el: fix here-doc strings with inner quotes.  patches\n\t  by Nathan Weizenbaum <nex342 AT gmail.com> from [ruby-core:17615]\n\t  through [ruby-core:17910].\n\nTue Jul 22 04:26:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_str_buf_new2): optimization for literals.\n\n\t* string.c (str_buf_cat): returns VALUE.\n\nTue Jul 22 03:34:01 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc*: Update to RDoc 2.1.0 r112.\n\nTue Jul 22 02:51:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_str_buf_cat2, rb_str_cat2): optimization\n\t  for literals.\n\nTue Jul 22 02:50:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* README.EXT, README.EXT.ja (1.5 Manipulating Ruby data): fix the\n\t  prototype of rb_vsprintf, and added rb_str_cat2.  [ruby-dev:35622]\n\nMon Jul 21 17:15:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_filesystem_encoding): use locale encoding on Unix.\n\t  [ruby-dev:35617]\n\nMon Jul 21 15:29:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/vsnprintf.c (struct __sbuf, FILE): use size_t.\n\n\t* sprintf.c (ruby__sfvwrite): ditto.\n\nMon Jul 21 13:55:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* README.EXT, README.EXT.ja (1.5 Manipulating Ruby data): mentioned\n\t  rb_sprintf and rb_vsprintf.  [ruby-dev:35611]\n\nMon Jul 21 10:25:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (prepare_getline_args): check if rs is a string when non-nil\n\t  lim is given.  [ruby-dev:35610]\n\nMon Jul 21 04:55:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* dir.c (dir_initialize): use rb_convert_type instead of\n\t  rb_check_convert_type to prevent SEGV by Dir.new(\".\", true).\n\t  (dir_initialize): use FilePathValue before rb_enc_get(dirname) to\n\t  prevent SEGV by Dir.new(0).\n\nMon Jul 21 04:42:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_s_union): useless rb_enc_get call removed to prevent\n\t  SEGV by Regexp.union(\"\", nil).\n\nSun Jul 20 22:50:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): NODE_POSTEXE should set each end\n\t  procs only once.  [ruby-dev:35596]\n\nSun Jul 20 16:00:37 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_Invoke): use rb_protect\n\t  instead of rb_rescue2. [ruby-dev:35595]\n\nSun Jul 20 01:23:24 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_Invoke): little refactoring.\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_GetIDsOfNames): return\n\t  ITypeInfo::GetIDsOfNames().\n\nSat Jul 19 09:31:35 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_Invoke): little refactoring.\n\n\t* ext/win32ole/win32ole.c: add document of inspect methods.\n\nSat Jul 19 06:08:43 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc*: Import RDoc r104.  Various make test-all fixes.\n\nSat Jul 19 00:27:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (check_uint, rb_num2uint, rb_fix2uint): fixed wrong check\n\t  about 64bit positive value.\n\nFri Jul 18 23:23:37 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_Invoke): avoid cfp consistency\n\t  error when exception raised in event callback.\n\nFri Jul 18 14:52:14 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (socklist): table for registering socket options\n\t  (currently only O_NONBLOCK).\n\n\t* win32/win32.c (StartSockets, exit_handler): alloc/free socklist.\n\n\t* win32/win32.c (is_socket): use socklist.\n\n\t* win32/win32.c (rb_w32_accept, rb_w32_socket, rb_w32_socketpair):\n\t  register new socket to socklist.\n\n\t* win32/win32.c (rb_w32_close): remove closing socket from socklist.\n\n\t* win32/win32.c (fcntl): register socket options.\n\n\t* win32/win32.c (overlapped_socket_io): send to/recv from socket with\n\t  overlapped operation if the socket is not nonblocking mode.\n\t  [experimental]\n\n\t* win32/win32.c (rb_w32_send, rb_w32_sendto, rb_w32_recv,\n\t  rb_w32_recvfrom): use overlapped_socket_io().\n\n\t* win32/win32.c (open_ifs_socket): set overlapped mode. this is the\n\t  default mode of winsock's socket(), so lacking it is an old bug.\n\nFri Jul 18 09:44:30 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/*: Import RDoc r101.\n\nThu Jul 17 23:45:55 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/rdoc/test_rdoc_c_parser.rb (teardown): close tempfile.\n\nThu Jul 17 21:08:49 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_process.rb (test_getpriority, test_setpriority): use\n\t  PRIO_PROCESS instead of PRIO_USER.\n\nThu Jul 17 20:41:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* pack.c (pack_unpack): fix v and V with big endian.\n\t  [1].pack(\"V\").unpack(\"V\") was [4294967296].\n\nThu Jul 17 20:35:03 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* pack.c (pack_pack): fix i! with big endian.  [1].pack(\"i!\") was\n\t  \"\\0\\0\\0\\0\".\n\nThu Jul 17 16:48:40 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect): select() for connect() has\n\t  mean only when the socket is non-blocking.\n\nThu Jul 17 10:55:24 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* mkconfig.rb: Simplify expression for RDoc.\n\nThu Jul 17 10:21:15 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (check_uint, rb_num2uint, rb_fix2uint): strict check.\n\t  fixed [ruby-dev:33683]\n\nThu Jul 17 04:19:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): wake up joining threads.\n\n\t* thread.c (sleep_forever, sleep_timeval): return when interrupted.\n\t  [ruby-dev:35542]\n\n\t* thread.c (timer_thread_function): restore main thread status.\n\t  [ruby-core:17270]\n\nThu Jul 17 01:27:38 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (appendline): remove invalid access.\n\nWed Jul 16 18:04:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (signal_exec, trap_handler): trap accepts a string as\n\t  command.  [ruby-dev:35533]\n\nWed Jul 16 00:04:30 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/envutil.rb (Test::Unit::Assertions#assert_in_out_err): new\n\t  method.\n\n\t* test/ruby/test_argf.rb: use assert_in_out_err instead of\n\t  EnvUtil.rubyexec.\n\n\t* test/ruby/test_module.rb: ditto.\n\n\t* test/ruby/test_require.rb: ditto.\n\n\t* test/ruby/test_objectspace.rb: ditto.\n\n\t* test/ruby/test_object.rb: ditto.\n\n\t* test/ruby/test_string.rb: ditto.\n\n\t* test/ruby/test_method.rb: ditto.\n\n\t* test/ruby/test_variable.rb: ditto.\n\n\t* test/ruby/test_io.rb: ditto.\n\n\t* test/ruby/test_rubyoptions.rb: ditto.\n\n\t* test/ruby/test_exception.rb: ditto.\n\n\t* test/ruby/test_class.rb: ditto.\n\n\t* test/ruby/test_thread.rb: ditto.\n\nTue Jul 15 22:34:03 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (ruby_version): follow changes in configure.in.\n\nTue Jul 15 21:58:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/{,tkutil/}extconf.rb: ruby/ruby.h no longer needs to be\n\t  checked.\n\n\t* ext/tk/{tcltklib.c,tkutil/tkutil.c}: check macros for each headers.\n\nTue Jul 15 21:45:41 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/tk/extconf.rb, ext/tk/tcltklib.c, ext/tk/tkutil/tkutil.c: Do\n\t  not test ruby/ruby.h, which makes OS X's gcc pick the wrong\n\t  header file from Ruby.framework.\n\nTue Jul 15 21:31:26 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* configure.in (--with-ruby-version): Add a new option to specify\n\t  the ruby version string for version specific directories.\n\t  [ruby-dev:35490]\n\n\t* mkconfig.rb: Definition of ruby_version is now determined by the\n\t  configure script.\n\nTue Jul 15 18:14:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect, s_accept): check before readable/\n\t  writable by select() instead of wrapping in blocking region.\n\n\t* ext/socket/socket.c (bsock_send, s_recvfrom, udp_send, unix_send_io,\n\t  unix_recv_io): should check readable/writable before calling blocking\n\t  functions.\n\t  see [ruby-dev:35446]\n\nTue Jul 15 18:12:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.c (ubf_handle): cancel blocking IO if it can (only\n\t  Vista). see [ruby-dev:35446]\n\n\t* win32/win32.c (errmap): add ERROR_OPERATION_ABORTED as EINTR.\n\nMon Jul 14 20:35:21 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole_event.rb (teardown): fix typo.\n\nMon Jul 14 18:47:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_loop): constified.\n\n\t* transcode.c (str_transcode): rb_str_set_len() sets a delimiter.\n\n\t* transcode_data.h (rb_transcoder): constified preprocessor and\n\t  postprocessor input.\n\n\t* enc/trans/japanese.c: ditto.\n\nSun Jul 13 05:37:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/ruby.h (PRI_PTRDIFF_PREFIX, PRI_SIZE_PREFIX): typo.\n\n\t* {bcc32,win32}/Makefile.sub: (SIZEOF_SIZE_T, SIZEOF_PTRDIFF_T): added.\n\nSat Jul 12 23:54:55 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (LIBRUBY_DLDFLAGS): import library which created\n\t  with DLL is broken. save import library which created by lib.exe and\n\t  install it.\n\t  fixed the problem mentioned at the postscript of [ruby-dev:35448]\n\nSat Jul 12 23:24:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c: use PRIuSIZE.\n\nSat Jul 12 22:41:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (PRI_PTRDIFF_PREFIX, PRI_SIZE_PREFIX): fixed typo.\n\nSat Jul 12 22:30:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (HAVE_RUBY_RUBY_H): defines macros so that\n\t  extconf.rb do not need to check if headers exist under separated\n\t  directory.  [ruby-dev:35437]\n\n\t* include/{ruby,rubyio,rubysig}.h, include/ruby/intern.h: use\n\t  \"ruby/...\" instead of <ruby/...>.\n\nSat Jul 12 22:17:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (sizeof ptrdiff_t): check for size of ptrdiff_t.\n\n\t* include/ruby/ruby.h (PRI?PTRDIFF, PRI?SIZE): printf conversion\n\t  specifiers for ptrdiff_t and size_t/ssize_t.\n\n\t* insns.def (leave), marshal.c (long_toobig), transcode.c\n\t  (str_transcode), vm_dump.c (control_frame_dump, stack_dump_each),\n\t  (debug_print_register, debug_print_pre): t and z length modifiers\n\t  are C99.\n\nSat Jul 12 16:02:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/xmlrpc/client.rb (XMLRPC::Client#do_rpc): requires\n\t  webrick/cookie.  [ ruby-Bugs-21139 ]\n\nSat Jul 12 09:25:07 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole_event.rb: add test\n\t  for WIN32OLE_EVENT#on_event_with_outargs\n\n\t* test/win32ole/test_win32ole_event.rb(teardown): calling\n\t  WIN32OLE_EVENT.message_loop\n\nSat Jul 12 01:54:13 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_select): shouldn't pass non-socket handle to\n\t  original select().\n\nFri Jul 11 23:05:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/zlib/test_zlib.rb: add a test for Zlib::Deflate#params.\n\nFri Jul 11 22:58:28 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/zlib/zlib.c (rb_deflate_params): flush before deflateParams.\n\t  [ruby-core:17675]\n\nFri Jul 11 22:09:01 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/setup.rb, win32/Makefile.sub (PLATFORM): use $(PLATFORM)\n\t  instead of $(OS) because ENV[\"OS\"] is used in test-all (drb).\n\nFri Jul 11 20:51:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_wait_readable, rb_io_wait_writable): check if the file\n\t  descriptor is closed.\n\n\t* thread.c (rb_thread_wait_fd_rw): ditto.\n\nFri Jul 11 16:16:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_accept, rb_w32_socket, rb_w32_socketpair):\n\t  prohibit inheritance of sockets, too. [experimental]\n\nFri Jul 11 14:39:49 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild): the measures for Vista is no longer\n\t  unnecessary.\n\nFri Jul 11 06:16:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (process.o): depends on util.h.\n\nFri Jul 11 05:07:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h (pipe): prohibit inheritance.\n\t  fixed: [ruby-dev:35421]\n\nFri Jul 11 00:56:46 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (thread_create_core): fix GC problem.\n\t  [ruby-core:17669]\n\nThu Jul 10 22:06:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pstore.rb (PStore#transaction): return the result from the\n\t  block.  [ruby-core:17718]\n\nThu Jul 10 21:15:49 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole_typelib.rb: add some illegal argument\n\t  test.\n\n\t* test/win32ole/test_win32ole_type.rb: ditto.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\n\t* test/win32ole/test_win32ole_param.rb: ditto.\n\n\t* test/win32ole/test_win32ole_method.rb: ditto.\n\nThu Jul 10 19:38:35 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): r17993 revert.\n\nThu Jul 10 18:29:41 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): finish writing script\n\t  before spawn(\"ruby\") to avoid blocking in win32.\n\nThu Jul 10 17:20:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (insert): follow recent changes of globbing.\n\nThu Jul 10 14:09:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/coverage/coverage.c (rb_coverage_start): return nil.\n\nThu Jul 10 12:41:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_wait_for): fixed variable name.\n\nThu Jul 10 12:09:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (rb_thread_t), vm.c (rb_thread_mark), process.c\n\t  (rb_last_status_get, rb_last_status_set, rb_last_status_clear):\n\t  moved last_status from rb_vm_t.  [ruby-dev:35414]\n\n\t* vm.c (th_init2): initialize last_status with nil.\n\nThu Jul 10 12:09:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_wait_for): wait until timed out only when\n\t  sleeping with timeout.\n\nWed Jul  9 22:41:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (sleep_timeval): wait until timed out.  [ruby-core:17270]\n\nWed Jul  9 20:58:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* array.c (rb_ary_fill): don't raise even if length is negative.\n\t  [ruby-core:17483], [ruby-core:17661]\n\nWed Jul  9 20:18:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_va_args_macro): check for __VA_ARGS__.\n\n\t* thread.c (thread_debug): show source name and line if possible.\n\n\t* thread_{pthread,win32}.c (rb_thread_create_timer_thread): needs more\n\t  stack for debug.\n\nWed Jul  9 11:13:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/profiler.rb (Profiler__#print_profile): sort in the descending\n\t  order of cumulative time.\n\nWed Jul  9 11:11:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (struct glob_args, rb_glob_caller, rb_glob2, push_pattern),\n\t  (glob_brace): make consistent prototypes.\n\n\t* dir.c (push_glob): set enc in the caller of rb_glob_caller as well\n\t  as rb_glob2.\n\nWed Jul  9 09:12:11 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (options): use input_endian.\n\nWed Jul  9 01:38:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_succ): alphabets or numerics mutually enclosing\n\t  non-alphanumeric characters can carry up.  e.g., \"1.999\".succ should\n\t  be \"2.000\".\n\nWed Jul  9 00:12:31 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (rb_set_coverages, rb_reset_coverages): enable and disable\n\t  coverage measurement.\n\n\t* thread.c (rb_get_coverages): rename and move from vm.c.\n\n\t* vm.c (rb_vm_get_coverages): ditto.\n\n\t* iseq.c (prepare_iseq_build): ditto.\n\n\t* thread.c (clear_coverage): ditto.\n\n\t* parse.y (coverage): ditto.\n\n\t* ext/coverage/coverage.c: use above functions, add new method\n\t  Coverage.start and fix rdoc .\n\nTue Jul  8 23:02:35 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (find_default_source): bug fix when\n\t  OLE object does not have default source interface.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\nTue Jul  8 22:56:23 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (rb_enable_coverages): hide coverage array by setting 0 to\n\t  klass during measurement.\n\n\t* parse.y (coverage, yycompile0): ditto.\n\n\t* iseq.c (prepare_iseq_build): use rb_hash_lookup instead of\n\t  rb_hash_aref.\n\n\t* thread.c (rb_coverage_result): restore klass of coverage array\n\t  and return it.\n\n\t* thread.c (update_coverage): check whether its klass is 0.\n\nTue Jul  8 22:28:25 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/debug.rb, lib/profile.rb: fix to use RubyVM.\n\n\t* lib/rdoc/parsers/parse_c.rb: ditto.\n\nTue Jul  8 21:45:22 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm.c (rb_vm_mark): mark the last element of special_exceptions.\n\nTue Jul  8 19:55:40 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (find_default_source): try to\n\t  find COCLASS when WIN32OLE object is not COCLASS.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto\n\nTue Jul  8 13:38:22 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.h: fix to skip inserting a trace insn.\n\nTue Jul  8 11:41:17 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* dir.c: shouldn't use ruby object in globbing, because glob service\n\t  routines are called before initializing ruby on some platforms (ex.\n\t  windows).\n\nTue Jul  8 10:08:40 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (Next): use rb_enc_mbclen. [ruby-dev:35390]\n\nTue Jul  8 07:59:40 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (Next): use rb_enc_precise_mbclen.\n\nTue Jul  8 02:27:23 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c: preserve encoding of strings in glob and fnmatch.\n\n\t* include/ruby/ruby.h: related changes.\n\nTue Jul  8 00:22:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_succ): limit carrying in an alphanumeric region if\n\t  exists.  [ruby-dev:35094]\n\nMon Jul  7 20:39:28 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(Init_win32ole): add\n\t  WIN32OLE_TYPE#source_ole_types, WIN32OLE_TYPE#default_ole_types,\n\t  WIN32OLE_TYPE#default_event_sources.\n\n\t* test/win32ole/test_win32ole_type.rb: ditto.\n\nMon Jul  7 19:45:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/test_dir.rb (test_chroot_nodir): add Errno::EPERM.\n\nMon Jul  7 17:12:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/ipaddr.rb (IPAddr#initialize): get rid of ArgumentError in\n\t  IPAddr#to_range.  a patch from okkez <okkez000 AT gmail.com> in\n\t  [ruby-dev:35091].\n\nMon Jul  7 01:24:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_extname): fix for file name with spaces.\n\t  [ruby-talk:307404]\n\nMon Jul  7 00:59:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread_pthread.c (ruby_init_stack): prior STACK_END_ADDRESS if\n\t  found.  [ruby-core:17624]\n\nSun Jul  6 23:48:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (bsock_send, s_recvfrom, ruby_connect, s_accept),\n\t  (udp_send, unix_send_io, unix_recv_io): blocking region support.\n\nSun Jul  6 18:34:35 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole_type.rb (test_initialize): add\n\t  more assertions.\n\nSun Jul  6 10:12:21 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/test/unit/collector/objectspace.rb\n\t  (Test::Unit::Collector::ObjectSpace::NAME): fix a typo.\n\nSun Jul  6 00:56:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (host_str): fix type mismatch in rb_raise\n\t  format and argument.\n\t  (port_str): ditto.\n\t  (unix_recv_io): ditto.\n\t  (sock_s_unpack_sockaddr_un): ditto.\n\nSat Jul  5 23:42:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (NUM2INT): cast to int.\n\t  (FIX2INT): ditto.\n\t  (NUM2UINT): cast to unsigned int.\n\t  (FIX2UINT): ditto.\n\nSat Jul  5 23:10:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_pipe): new function for handling EMFILE and ENFILE\n\t  error of pipe().\n\t  (UPDATE_MAXFD_PIPE): removed.\n\t  (pipe_open): use rb_pipe.\n\t  (rb_io_s_pipe): ditto.\n\n\t* process.c (pipe_nocrash): use rb_pipe.\n\n\t* include/ruby/intern.h (rb_pipe): declared.\n\nSat Jul  5 22:22:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_initialize): NUM2INT() returns int.\n\n\t* thread.c (timer_thread_function), thread_pthread.c (thread_timer),\n\t  thread_win32.c (timer_thread_func), thread_{pthread,win32}.c\n\t  (rb_thread_create_timer_thread): passing VM.\n\nSat Jul  5 20:53:18 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_word.rb: check word installed.\n\nSat Jul  5 16:12:54 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c: revert. before lazy sweep.\n\nSat Jul  5 09:55:44 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE#ole_respond_to?\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nSat Jul  5 08:48:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (unescape_nonascii): add has_property argument not to\n\t  raise error by /\\p{Hiragana}\\u{3042}/ in EUC-JP script.\n\t  (rb_reg_preprocess): use has_property argument to make regexp\n\t  encoding fixed.\n\nSat Jul  5 08:29:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (unescape_nonascii): make regexp fixed_encoding if \\p is used.\n\t  fixed [ruby-core:17279].\n\nFri Jul  4 23:12:53 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (d2time): fix the bug of VT_DATE\n\t  to String conversion when negative value.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\nFri Jul  4 22:15:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit/testcase.rb: collect descendants of\n\t  Test::Unit::TestCase using inherited.\n\n\t* lib/test/unit/autorunner.rb: don't use ObjectSpace.each_object.\n\n\t* lib/test/unit/collector/dir.rb: ditto.\n\n\t* lib/test/unit/collector/objectspace.rb: ditto.\n\n\t[ruby-core:17126]\n\nFri Jul  4 20:43:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h (OnigEncoding): removed auxiliary_data.\n\n\t* include/ruby/encoding.h (ENC_DUMMY_P): moved dummy encoding flag to\n\t  rb_encoding from Encoding instance.\n\n\t* encoding.c (rb_encoding_list): list of Encoding instances.\n\n\t* encoding.c (struct rb_encoding_entry): moved base encoding from\n\t  instance variable.\n\nFri Jul  4 17:51:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (check_uint, rb_num2uint, rb_fix2uint): proper check.\n\nFri Jul  4 14:17:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/net/ftp.rb (Net::FTP#sendport): use divmod.  [ruby-core:17557]\n\nFri Jul  4 11:08:37 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (garbage_collect_force): sweep is completely ended.\n\n\t* gc.c (os_obj_of): invoke garbage_collect_force() when freelist none.\n\nFri Jul  4 05:01:26 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (rb_num2uint, rb_fix2uint): typo.\n\nFri Jul  4 02:21:06 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (check_uint, rb_num2uint, rb_fix2uint): also needs checking\n\t  negative value. see [ruby-dev:33683]\n\nThu Jul  3 23:26:36 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* include/ruby/intern.h: remove prototypes about coverage.\n\n\t* iseq.c (prepare_iseq_build): add prototype.\n\n\t* parse.y (coverage): ditto.\n\n\t* thread.c (clear_coverage): ditto.\n\n\t* thread.c (update_coverage): use rb_sourceline.\n\n\t* thread.c (rb_get_coverages): rename and move to vm.c.\n\n\t* vm.c (rb_vm_get_coverages): ditto.\n\n\t* ext/coverage/coverage.c: add rdoc.\n\nThu Jul  3 21:51:21 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/coverage/coverage.c, ext/coverage/extconf.rb: eliminate\n\t  COVERAGE__ and introduce coverage.so instead.  How to measure\n\t  coverage: (1) require \"coverage.so\", (2) require or load Ruby source\n\t  file, and (3) Coverage.result will return the same hash as COVERAGE__.\n\t  [ruby-dev:35324]\n\n\t* thread.c (rb_enable_coverages): start coverage measurement by using\n\t  rb_add_event_hook.\n\n\t* thread.c (rb_get_coverages): returns current results of coverage\n\t  measurement.\n\n\t* include/ruby/intern.h: add prototype for above two functions.\n\n\t* vm_core.h, vm.c: add field of coverages to rb_vm_t.\n\n\t* insns.def (trace): remove special handling for COVERAGE__.\n\n\t* iseq.c (prepare_iseq_build): switch COVERAGE__ to\n\t  rb_get_coverages().\n\n\t* parse.y (coverage): ditto.\n\n\t* thread.c (clear_coverage): ditto.\n\n\t* lib/coverage.rb: use coverage.so instead of COVERAGE__.\n\nThu Jul  3 21:20:45 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (thread_initialize): NUM2INT returns long.\n\nThu Jul  3 21:06:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (Init_eval): typo fixed in r17833.\n\nThu Jul  3 19:44:44 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): remove duplicate line.\n\nThu Jul  3 16:08:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (erfc): erfc of glibc comes with Debian GNU/Linux Etch\n\t  on IA64 is broken.  erfc(10000.0) aborts.\n\t  use missing/erf.c instead.\n\t  http://sources.redhat.com/ml/libc-hacker/2005-08/msg00008.html\n\nThu Jul  3 12:49:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/smtp.rb (Net::SMTP::start): use 'localhost' instead of\n\t  'localhost.localdomain'.  [ruby-dev:35333]\n\n\t* lib/net/smtp.rb (Net::SMTP::SMTP.start): ditto.\n\nThu Jul  3 07:06:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (SET_LC_MESSAGES): LC_MESSAGES must be C.\n\nThu Jul  3 07:02:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (Init_eval), gc.c (Init_GC), proc.c (Init_Proc): freeze\n\t  messages of preallocated special exceptions also.\n\nThu Jul  3 04:39:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_during_gc): VALUE cache is irrelevant.\n\nThu Jul  3 01:44:01 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* regint.h (GET_ALIGNMENT_PAD_SIZE, ALIGNMENT_RIGHT): cast pointer to\n\t  uintptr_t instead of unsigned int.\n\nThu Jul  3 01:23:13 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* sprintf.c: include ieeefp.h to refer isinf.\n\n\t* ext/bigdecimal/bigdecimal.c: ditto.\n\n\t* ext/json/ext/generator/generator.c: ditto.\n\n\t* rational.c: ditto.\n\nThu Jul  3 01:01:57 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* missing/tgamma.c (tgamma): remove unused variable.\n\nThu Jul  3 00:18:00 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: avoid creating Ruby object during\n\t  GC. thanks to arton <artonx AT yahoo.co.jp>. [ruby-dev:35313]\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\nThu Jul  3 00:09:31 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* gc.c: add rb_during_gc(). based on a patch from arton <artonx AT\n\t  yahoo.co.jp> at [ruby-dev:35313].\n\n\t* include/ruby/intern.h: ditto.\n\nWed Jul  2 09:49:10 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (gc_lazy_sweep): use lazy sweep algorithm for response\n\t  performance gain.\n\n\t* gc.c (garbage_collect_force): mark and lazysweep invoke, after\n\t  erasing all mark.\n\n\t* gc.c (GC_NOT_LAZY_SWEEP): not lazy sweep flag. for debug.\n\nWed Jul  2 03:42:44 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_settracefunc.rb: fix expected traces for\n\t  RubyVM::FrozenCore's event and r17744.\n\nWed Jul  2 03:10:41 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.h, insns.def: reduce insn operand of \"trace\".\n\n\t* include/ruby/ruby.h: add RUBY_EVENT_COVERAGE event.\n\nWed Jul  2 02:02:34 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c, vm.c: fix to refer next ruby level cfp to make binding.\n\nWed Jul  2 01:58:19 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insns.def (trace): C99ism.\n\nWed Jul  2 01:53:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* Add coverage measurement constant COVERAGE__.  This constant is not\n\t  for casual use.  Usage: (1) assign {} to COVERAGE__, (2) require or\n\t  load Ruby source file, and (3) COVERAGE__[\"sourcefilepath\"] will\n\t  return an array whose elements represent number of executions per\n\t  line of source code.\n\n\t* vm_core.h: add field of coverage array to iseq.\n\n\t* iseq.c (prepare_iseq_build): ditto.\n\n\t* insns.def (trace): update coverage array.\n\n\t* parse.y (coverage): create and initialize coverage array.\n\n\t* compile.h (ADD_TRACE): add trace instruction to update coverage\n\t  array.\n\n\t* thread.c (clear_coverage): delete coverage array when forking.\n\t  Otherwise, double count of coverage may occur.\n\n\t* lib/coverage.rb: sample coverage measurement tool.\n\n\t* error.c: distinguish explicitly between parse_in_eval and\n\t  mild_compile_error.\n\n\t* load.c: ditto.\n\n\t* vm_eval.c: ditto.\n\nTue Jul  1 21:32:43 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/test/unit/ui/console/testrunner.rb: prevent destructive\n\t  modification to $0.\n\n\t* test/rubygems/gemutilities.rb (build_rake_in): move from\n\t  test_gem_ext_rake_builder.rb.\n\n\t* test/rubygems/test_gem_ext_rake_builder.rb: ditto.\n\n\t* test/rubygems/test_gem_installer.rb: override Gem.ruby and\n\t  ENV[\"rake\"].\n\n\t* test/rubygems/test_gem_uninstaller.rb: ditto.\n\n\nTue Jul  1 21:13:17 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, vm.c, insns.def: call FrozenCore.set_postexe method\n\t  instead to use \"postexe\" insn.\n\n\t* id.c, id.h: add a prepared id for above.\n\nTue Jul  1 21:09:58 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_tmpsrc): we need to include COMMON_HEADERS,\n\t  namely inclusion of ruby.h, because _GNU_SOURCE is now defined\n\t  there (if any) and socket.so requires it on Linux systems.\n\nTue Jul  1 20:55:07 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* eval.c (rb_interrupt): trick to suppress GCC warning.\n\n\t* sprintf.c (rb_str_format): ditto.\n\nTue Jul  1 20:44:36 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/instruction.rb: RubyVM is not module.\n\nTue Jul  1 19:31:24 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* ext/digest/digest.c (rb_digest_instance_inspect): constified.\n\n\t* variable.c (rb_path2class): field precision should have type int.\n\nTue Jul  1 19:01:00 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/shift_jis.c (code_is_ctype): HALF WIDTH KATAKANA is\n\t  a character.\n\nTue Jul  1 17:56:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/vsnprintf.c (BSD__uqtoa): constified.\n\nTue Jul  1 17:50:44 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/make_encdb.h: always add ';' at the end of line.\n\nTue Jul  1 17:44:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* iseq.c (COMPILE_OPTION_FALSE), time.c (timegm_noleapsecond),\n\t  thread.c (eKillSignal, eTerminateSignal),\n\t  missing/vsnprintf.c (BSD_vfprintf): constified.\n\nTue Jul  1 17:37:43 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* enc/ascii.c: ISO C does not allow extra ';' outside of a\n\t  function\n\n\t* enc/us_ascii.c: ditto.\n\n\t* enc/utf_8.c: ditto.\n\n\t* enc/big5.c: ditto.\n\n\t* enc/euc_jp.c: ditto.\n\n\t* enc/euc_kr.c: ditto.\n\n\t* enc/euc_tw.c: ditto.\n\n\t* enc/gb2312.c: ditto.\n\n\t* enc/gbk.c: ditto.\n\n\t* enc/iso_8859_1.c: ditto.\n\n\t* enc/iso_8859_2.c: ditto.\n\n\t* enc/iso_8859_3.c: ditto.\n\n\t* enc/iso_8859_4.c: ditto.\n\n\t* enc/iso_8859_5.c: ditto.\n\n\t* enc/iso_8859_6.c: ditto.\n\n\t* enc/iso_8859_7.c: ditto.\n\n\t* enc/iso_8859_8.c: ditto.\n\n\t* enc/iso_8859_9.c: ditto.\n\n\t* enc/iso_8859_10.c: ditto.\n\n\t* enc/iso_8859_11.c: ditto.\n\n\t* enc/iso_8859_13.c: ditto.\n\n\t* enc/iso_8859_14.c: ditto.\n\n\t* enc/iso_8859_15.c: ditto.\n\n\t* enc/iso_8859_16.c: ditto.\n\n\t* enc/koi8_r.c: ditto.\n\n\t* enc/shift_jis.c: ditto.\n\n\t* enc/utf_16be.c: ditto.\n\n\t* enc/utf_32be.c: ditto.\n\n\t* enc/utf_32le.c: ditto.\n\n\t* enc/windows_1251.c: ditto.\n\n\t* process.c (run_exec_rlimit): ISO C90 forbids mixed declarations\n\t  and code\n\n\t* include/ruby/ruby.h (enum ruby_special_consts): ISO C forbids\n\t  comma at end of enumerator list\n\n\t* include/ruby/ruby.h (enum ruby_value_type): ditto.\n\n\t* eval_intern.h (enum): ditto.\n\n\t* vm_core.h (enum rb_thread_status): ditto.\n\n\t* parse.y (enum lex_state_e): ditto.\n\n\t* parse.y (enum string_type): ditto.\n\n\t* process.c (enum): ditto.\n\n\t* ruby.c (enum dump_flag_bits): ditto.\n\n\t* ruby.c (enum disable_flag_bits): ditto.\n\n\t* enc/gb18030.c (enum): ditto.\n\nTue Jul  1 17:21:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regexec.c (stack_double): use MatchStackLimitSize atomically.\n\n\t* regparse.c (onig_free_shared_cclass_table): OnigTypeCClassTable\n\t  needs atomicity\n\n\t* regsyntax.c: constified all predefined OnigSyntaxTypes.\n\nTue Jul  1 16:57:44 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* include/ruby/st.h (struct st_table): type of bit-field\n\t  'num_entries' is a GCC extension\n\n\t* include/ruby/ruby.h (rb_intern): prefix __extension__ for\n\t  braced-groups within expressions.\n\n\t* include/ruby/intern.h (rb_usascii_str_new2): ditto.\n\n\t* include/ruby/intern.h (rb_tainted_str_new2): ditto.\n\n\t* include/ruby/intern.h (rb_str_new2): ditto.\n\nTue Jul  1 15:01:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rubygems/ext/builder.rb (Gem::Ext::Builder.make),\n\t  (Gem::Ext::Builder.run): EXIT_SUCCESS may be 0 or may not.\n\n\t* test/rubygems/test_gem_ext_rake_builder.rb (build_rake_in): override\n\t  Gem.ruby and ENV[\"rake\"].\n\n\t* runruby.rb: bin/rake does not exist in archdir where architecture\n\t  depend script (i.e. rbconfig.rb) exists.\n\nTue Jul  1 13:19:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_fill): check if beg is too big.\n\nTue Jul  1 12:01:16 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, insns.def, vm.c, vm_core.h: remove some insns\n\t  (undef, alias, definemethod).\n\t  Call RubyVM::FrozenCore's singleton method instead.\n\t  Add \"putiseq\" and \"putspecialobject\" instructions.\n\n\t* id.c, id.h: add ids for above.\n\n\t* tool/parse.rb: \"VM\" no longer exists.  Use RubyVM instead.\n\nTue Jul  1 03:28:16 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* test/rubygems/test_ext_configure_builder.rb:  Apply locale-free\n\t  patch by Yusuke ENDOH.  [ruby-core:17444].\n\n\t* runruby.rb: Set ENV['rake'].  Patch by Yusuke ENDOH\n\t  [ruby-core:17442].\n\nTue Jul  1 01:07:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension.read_multipart): blanks inside\n\t  double quotes are allowed.  [ruby-list:45140]\n\nTue Jul  1 00:59:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* numeric.c (num_coerce): call rb_Float(x) first.  don't depend on\n\t  evaluation order of function arguments.\n\nTue Jul  1 00:49:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_newobj): abort GC phase before rb_bug.\n\nMon Jun 30 23:15:07 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/openssl/test_ssl.rb (start_server): shutdown TCPServer before\n\t  close.\n\nMon Jun 30 23:01:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (RUBY_H_INCLUDES): common headers which are included with\n\t  ruby.h together.\n\nMon Jun 30 22:57:50 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_settracefunc.rb (test_raise): reveal an exception\n\t  hided by rescue modifier.\n\nMon Jun 30 22:49:32 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb (test_aset): access with too big index\n\t  raises not ArgumentError but IndexError now.\n\nMon Jun 30 22:30:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (recursive_collect): r15662 reverted.\n\nMon Jun 30 22:27:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/stringio/stringio.c (strio_getline): fix for nil and \"\" as\n\t  separator.  [ruby-dev:34591]\n\nMon Jun 30 22:21:30 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (argf_each_line): pass args to each_line. [ruby-dev:34958]\n\nMon Jun 30 22:12:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (chain_finalized_object): should not delete from finalizer\n\t  table until run.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): deferred_final_list may be\n\t  empty first.\n\nMon Jun 30 18:57:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (gc_finalize_deferred): allow object allocation in finalizers.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): ditto.\n\nMon Jun 30 14:41:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (rb_newobj): prohibit call of rb_newobj() during gc when\n\t  USE_VALUE_CACHE is not defined (normal case).\n\nMon Jun 30 10:28:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syslog/syslog.c (syslog_write): syslog operations should be\n\t  protected from $SAFE level 4.  a patch from Keita Yamaguchi\n\t  <keita.yamaguchi at gmail.com>.\n\n\t* ext/syslog/syslog.c (mSyslog_close): ditto.\n\n\t* ext/syslog/syslog.c (mSyslog_set_mask): ditto.\n\nMon Jun 30 03:01:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/net/http/test_http.rb (_test_request__file): specify encoding\n\t  explicitly.\n\n\t* test/net/http/utils.rb: ditto.\n\nMon Jun 30 02:31:07 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_utf8_encindex): defined.\n\n\t* include/ruby/encoding.h (rb_utf8_encindex): ditto.\n\nMon Jun 30 02:14:34 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_core.h,vm_core.h, vm_dump.c, iseq.c: rename class name\n\t  VM -> RubyVM, and rename rb_cVM -> rb_cRubyVM.\n\t  \"VM\" is too short name for class.\n\n\t* test/ruby/test_method.rb, test/ruby/test_settracefunc.rb: ditto.\n\n\t* include/ruby/ruby.h: rb_cRubyVM, rb_cEnv, rb_cISeq should not be\n\t  exposed.\n\nMon Jun 30 02:10:32 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* process.c (Init_process): fix to avoid a warning.\n\nMon Jun 30 01:52:05 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_parse.rb: remove tests for open_args.\n\nSun Jun 29 23:01:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_format_m): make tmp volatile to avoid possible GC\n\t  problem.\n\nSun Jun 29 18:01:30 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb, lib/rss/utils.rb: merge documents from ruby_1_8.\n\nSun Jun 29 17:44:23 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb (RSS::ListenerMixin#known_class): define to\n\t  work with ruby 1.8.x too.\n\nSun Jun 29 17:41:42 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/base.rb (RSS::Maker::RSSBase#to_feed): raise\n\t  exception not return nil if RSS::Maker.make can't get required\n\t  information.\n\n\t* test/rss/rss-assertions.rb: follow the above change.\n\nSun Jun 29 17:37:23 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/base.rb (RSS::Maker::RSSBase#make): require block.\n\n\t* test/rss/test_maker_{0.9,1.0,2.0}.rb: follow the above change.\n\nSun Jun 29 17:33:34 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/base.rb, lib/rss/maker/itunes.rb: don't use\n\t  instance_eval to initialize variables. (speed up)\n\nSun Jun 29 17:31:15 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, test/rss/test_version.rb (RSS::VERSION):\n\t  0.2.4 -> 0.2.5.\n\nSun Jun 29 11:36:20 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* dir.rb: fix resource leak.\n\nSun Jun 29 09:43:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/tmpdir.rb (@@systmpdir): prior LOCAL_APPDATA if possible, and\n\t  should be clean.  based on a patch from arton <artonx AT\n\t  yahoo.co.jp> at [ruby-dev:35269]\n\nSun Jun 29 07:53:08 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (date2time_str): fix the overflow in\n\t  some situation. [ruby-bugs-20793]\n\nSat Jun 28 21:25:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (struct RRegexp): new field usecnt.  replace\n\t  str and len by src.\n\n\t* gc.c (gc_mark_children): mark src field of regexp.\n\t  (obj_free): don't free str field.\n\n\t* re.c (REG_BUSY): removed.\n\t  (rb_reg_initialize): prohibit re-initialize regexp.\n\t  (rb_reg_search): use usecnt to prevent freeing regexp currently\n\t  using.  this prevents SEGV by:\n\t    r = /\\A((a.)*(a.)*)*b/\n\t    r =~ \"ab\" + \"\\xc2\\xa1\".force_encoding(\"euc-jp\")\n\t    t = Thread.new { r =~ \"ab\"*8 + \"\\xc2\\xa1\".force_encoding(\"utf-8\")}\n\t    sleep 0.2\n\t    r =~ \"ab\"*8 + \"\\xc2\\xa1\".force_encoding(\"euc-jp\")\n\nSat Jun 28 21:15:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_str_new2, rb_tainted_str_new2,\n\t  rb_usascii_str_new2): use inline versions only for constant\n\t  literals.\n\nSat Jun 28 13:12:06 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/rubygems/test_gem.rb (test_self_path_APPLE_GEM_HOME): don't use\n\t  fixed /tmp/apple_gem_home directory.\n\nSat Jun 28 08:40:18 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: check String encoding when\n\t  converting String to VT_BSTR in OLE.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nSat Jun 28 01:08:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_timespec): fix rounding negative float.\n\nFri Jun 27 21:38:57 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* struct.c: __size__ removed.  use the length of __members__ instead.\n\t  (num_members): new function.\n\nFri Jun 27 21:19:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/inlinetest.rb (InlineTest.in_progname): workaround for frozen\n\t  $0.  [ruby-dev:35261]\n\n\t* lib/test/unit/ui/console/testrunner.rb (TestRunner#finished): ditto.\n\nFri Jun 27 17:45:17 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/erb.rb: adjust line number for magic comment.\n\n\t* test/erb/test_erb.rb: add tests for def_method.\n\nFri Jun 27 14:29:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): empty not should call '!' on nil.\n\t  cf [ruby-dev:35227]\n\nFri Jun 27 14:25:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (vm_eval_body): if thrown exception is frozen, reraise it to\n\t  create a new instance.\n\nFri Jun 27 13:29:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_str_new2, rb_tainted_str_new2,\n\t  rb_usascii_str_new2): use with-length versions with strlen to\n\t  optimize strlen, if optimized.\n\nFri Jun 27 12:28:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/un.rb (mkmf): new command to create makefile.\n\nFri Jun 27 11:06:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/un.rb (wait_writable): added help message.\n\nFri Jun 27 06:52:54 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* configure.in: need a \",\".\n\n\t* process.c (rb_fork): check CANNOT_FORK_WITH_PTHREAD macro.\n\nFri Jun 27 06:50:56 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_eval.c (vm_call_super): fix to call method_missing.\n\t  [ruby-core:15719], [ruby-core:17340]\n\nFri Jun 27 00:00:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (set_arg0, ruby_prog_init): freeze $0.  a patch from Keita\n\t  Yamaguchi <keita.yamaguchi at gmail.com>.\n\nThu Jun 26 23:58:29 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (rb_str_index_m, rb_str_rindex_m, rb_str_include): fix\n\t  rdoc.\n\nThu Jun 26 17:43:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_f_trace_var): should not be allowed at safe level 4.\n\t  a patch from Keita Yamaguchi <keita.yamaguchi at gmail.com>.\n\nThu Jun 26 11:04:30 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems: Update to RubyGems 1.2.0 r1824.  Incorporates patch by\n\t  Yusuke ENDOH [ruby-core:17353].\n\nThu Jun 26 00:48:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): not operand might be empty.  [ruby-dev:35227]\n\nWed Jun 25 21:54:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): make functional-style not operator to act\n\t  like function.  see <http://d.hatena.ne.jp/ku-ma-me/20080624/p1>.\n\nWed Jun 25 15:28:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_fill): not depend on unspecified behavior at integer\n\t  overflow.  reported by Vincenzo Iozzo <snagg AT openssl.it>.\n\nWed Jun 25 13:42:44 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/erb.rb (ERB::Compiler:Buffer#new): push magic comment first.\n\n\t* lib/erb.rb (ERB::Compiler#compile): fix for broken input.\n\nWed Jun 25 12:10:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/erb.rb (ERB::Compiler#compile): magic comment needs LF.\n\nWed Jun 25 09:31:11 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/erb.rb (ERB::Compiler#compile): output magic comment.\n\nTue Jun 24 22:14:36 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm_eval.c (eval_string_with_cref): preserve parse_in_eval even if\n\t  exception raised.\n\nTue Jun 24 22:09:18 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(ole_invoke): fix memory leak.\n\t  [ruby-bugs-20792]\n\nTue Jun 24 17:20:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_fork_with_pthread): check after check for\n\t  pthread library, and define the macro when checked only.\n\nTue Jun 24 17:04:39 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/io/wait/extconf.rb: check sys/socket.h for cygwin.\n\nTue Jun 24 16:51:51 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (io_reopen): remove cygwin handling because it seems to be for\n\t  C's stdio.\n\t  fixed [ruby-dev:35183]\n\nTue Jun 24 11:12:33 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h, win32/win32.c (rb_w32_getppid): now support\n\t  getppid() on win32 (but only Win2k or later).\n\n\t* process.c (get_ppid): remove win32 special logic.\n\nTue Jun 24 09:40:47 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (init_sock): socket is binmode on platforms\n\t  which support binmode.\n\nTue Jun 24 00:21:53 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_build_from_ary): initialize arg_opts, a patch from\n\t  Adam Strzelecki <ono@java.pl> in [ruby-core:17220].\n\nTue Jun 24 00:10:53 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* compile.c (iseq_build_from_ary): fix expression to obtain\n\t  iseq->local_size and iseq->local_table_size.  [ruby-dev:35205]\n\nMon Jun 23 11:31:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Rational::power2): removed incomplete method.\n\t  see [ruby-dev:35195].   [ruby-core:17293]\n\nSun Jun 22 14:16:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/readline/extconf.rb (have_readline_func): readline on Mac OS X\n\t  needs headers to detect some functions.\n\nSun Jun 22 09:51:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_class_superclass): rdoc improvement, a patch from\n\t  Gaston Ramos <ramos.gaston AT gmail.com> in [ruby-core:17371].\n\nSun Jun 22 09:22:32 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* README.EXT: translated README.EXT.ja\n\nSun Jun 22 00:42:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_osid, rb_w32_osver, CreateChild): XP is\n\t  is different from Vista about pipe handle inheritance.\n\t  fixed [ruby-core:17367], reported by Lars Christensen <larsch at\n\t  belunktum.dk>\n\nSun Jun 22 00:38:45 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* README.EXT.ja: add note about mark and free.\n\nSun Jun 22 00:01:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_io_binmode_p, argf_binmode_p, Init_IO): new method\n\t  IO#binmode? and ARGF.binmode?  [ruby-dev:35148]\n\nSat Jun 21 17:33:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_spawn): no longer support P_WAIT.\n\nSat Jun 21 16:46:09 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.c (native_sleep): must block reentrance when accessing\n\t  th->unblock.\n\t  fixed [ruby-core:17341], reported by Bill Kelly <billk at cts.com>\n\nSat Jun 21 16:29:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (call_args2, open_args): removed.\n\n\t* parse.y (parser_yylex): unified warnings at space between method\n\t  name and argument parenthesis.  [ruby-dev:33943]\n\nSat Jun 21 16:21:07 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (flo_round): get rid of overflow.\n\nSat Jun 21 15:57:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc#collect_first_comment): skip\n\t  magic comment.\n\nSat Jun 21 15:54:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check if fork works with pthread.\n\nSat Jun 21 15:31:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: ported to ruby.\n\n\t* tool/make-snapshot: fixed digests.\n\nSat Jun 21 04:36:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/lib/bigdecimal/jacobian.rb (Jacobian::dfdxi):\n\t  typo fixed (raize -> raise).  [ruby-list:45101]\n\n\t* enumerator.c (enum_each_cons): typo in RDoc fixed.\n\nSat Jun 21 00:45:34 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* tool/make-snapshot: do not use sha256sum; use BASERUBY instead\n\n\t* common.mk (dist): use tool/make-snapshot instead\n\nFri Jun 20 16:34:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (Init_process): Process::Status#to_int removed.\n\t  (PST2INT): defined.\n\t  (pst_to_s): use PST2INT.\n\t  (pst_inspect): ditto.\n\t  (pst_equal): ditto.\n\t  (pst_bitand): ditto.\n\t  (pst_rshift): ditto.\n\t  (pst_wifstopped): ditto.\n\t  (pst_wstopsig): ditto.\n\t  (pst_wifsignaled): ditto.\n\t  (pst_wtermsig): ditto.\n\t  (pst_wifexited): ditto.\n\t  (pst_wexitstatus): ditto.\n\t  (pst_success_p): ditto.\n\t  (pst_wcoredump): ditto.\n\t  (rb_f_system): ditto.\n\nFri Jun 20 15:40:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_store, rb_ary_splice): not depend on unspecified\n\t  behavior at integer overflow.\n\n\t* string.c (str_buf_cat): ditto.\n\nFri Jun 20 12:39:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_detach_process): store detached process ID in the\n\t  thread local storage.  moved from lib/open3.rb.\n\nFri Jun 20 11:57:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_sub_bang): should preserve replacement points\n\t  since they may be altered in the yielded block.\n\nFri Jun 20 11:07:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_memhash): randomize hash to avoid algorithmic\n\t  complexity attacks.\n\t  (rb_str_hash): use rb_memhash.\n\n\t* include/ruby/intern.h (rb_reset_random_seed): declared.\n\n\t* thread.c (rb_thread_atfork): call rb_reset_random_seed.\n\n\t* inits.c (rb_call_inits): call Init_RandomSeed at first.\n\n\t* random.c (seed_initialized): defined.\n\t  (fill_random_seed): extracted from random_seed.\n\t  (make_seed_value): extracted from random_seed.\n\t  (rb_f_rand): initialize random seed at first.\n\t  (initial_seed): defined.\n\t  (Init_RandomSeed): defined.\n\t  (Init_RandomSeed2): defined.\n\t  (rb_reset_random_seed): defined.\n\t  (Init_Random): call Init_RandomSeed2.\n\nWed Jun 18 21:52:38 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* array.c (ary_new, rb_ary_initialize, rb_ary_store,\n\t  rb_ary_splice, rb_ary_times): integer overflows should be\n\t  checked. based on patches from Drew Yao <ayao at apple.com>\n\t  fixed CVE-2008-2726\n\n\t* string.c (rb_enc_cr_str_buf_cat): fixed unsafe use of alloca,\n\t  which led memory corruption. based on a patch from Drew Yao\n\t  <ayao at apple.com> fixed CVE-2008-2726\n\nFri Jun 20 03:26:00 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_f_fork): NetBSD 4.0 or later can fork.\n\nFri Jun 20 03:19:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/testunit/collector/test_dir.rb: r15825 made it unnecessary to\n\t  change String to Symbol.\n\n\t* test/testunit/collector/test_objectspace.rb: ditto.\n\nFri Jun 20 03:14:31 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*, test/rubygems/*:  Update to RubyGems 1.1.1 r1784 (pre\n\t  1.2).\n\nFri Jun 20 03:01:59 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c: try to remove false positive of deadlock detection (second\n\t  trial).\n\nFri Jun 20 02:16:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Rational::power2): typo fixed.  [ruby-core:17293]\n\nFri Jun 20 02:11:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): should preserve last successful match\n\t  data.  [ruby-dev:35182]\n\nFri Jun 20 01:07:28 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* KNOWNBUGS.rb, bootstraptest/pending.rb: move a bug (?) to pending.\n\nFri Jun 20 00:40:08 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (proc_new): fix to return Proc object if block is already\n\t  in heap.  [ruby-core:15711]\n\n\t* bootstraptest/test_proc.rb: add a test.\n\nFri Jun 20 00:18:04 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_win32.c (native_sleep): fix to decrement sleeper count.\n\nThu Jun 19 23:48:45 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/net/http/test_http.rb: compare encodings of two strings before\n\t  comparing themself, which suppress too big error output.\n\nThu Jun 19 23:46:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/json/ext/parser/parser.rl, ext/json/ext/parser/parser.c: JSON\n\t  text SHALL be encoded in Unicode.\n\nThu Jun 19 23:17:56 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c, thread_win32.c, vm_core.h: try to remove false positive of\n\t  deadlock detection.\n\nThu Jun 19 21:38:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): check if compile before showing message.\n\nThu Jun 19 21:35:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: supported multiple snapshots.\n\nThu Jun 19 20:37:00 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/net/pop.rb (Net::POP3#set_all_uids): speed\n\t  up. a patch from <m-sumi AT techfirm.co.jp> [ruby-list:45047]\n\nThu Jun 19 17:44:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/etc/etc.c (Init_etc): define constant aliases Etc::Passwd\n\t  and Etc::Group.  [ruby-dev:35150]\n\nThu Jun 19 17:37:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_alloc): specify 'inline' modifier.\n\n\t* string.c (str_alloc): remove cSymbol hack that no longer\n\t  necessary.\n\n\t* string.c (scan_once): avoid retrieving encoding info unless\n\t  necessary.\n\nThu Jun 19 17:19:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_scan): String#scan should preserve last\n\t  successful match data.  [ruby-dev:35106]\n\nThu Jun 19 16:49:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* missing/acosh.c (atanh): should set ERANGE to errno if parameter\n\t  is the boundary case. fixed [ruby-dev:35155]\n\nThu Jun 19 16:06:01 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/tile/treeview.rb: cannot configure tags.\n\nThu Jun 19 11:48:33 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_enumerator.rb: fix to skip \"with_memo\" test.\n\nThu Jun 19 11:40:55 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_throw): fix \"return\" process from \"lambda\".\n\n\t* bootstraptest/test_proc.rb: add a test.\n\n\t* bootstraptest/pending.rb: add a pending bug.\n\nThu Jun 19 00:33:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/etc/test_etc.rb: avoid infinite loop.  [ruby-dev:35158]\n\nWed Jun 18 23:07:19 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* gc.c (rb_newobj): prohibit call of rb_newobj() during gc.\n\t  a patch from Sylvain Joyeux in [ruby-core:12099].\n\nWed Jun 18 21:08:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (verbose_setter, opt_W_getter): fixed prototypes.\n\nWed Jun 18 19:20:00 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (opt_W_getter): use ruby_verbose directly instead of parameter\n\t  because ruby_verbose is not a real variable, so the address of\n\t  parameter is not collect.\n\nWed Jun 18 18:31:03 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (errmap): add some pipe errors.\n\n\t* win32/win32.c (rb_w32_write): set errno when CRT's errno is EINVAL\n\t  for pipe errors.\n\nWed Jun 18 18:09:08 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (poll_child_status): set EINVAL to errno when\n\t  GetExitCodeProcess() fails with ERROR_INVALID_HANDLE.\n\nWed Jun 18 15:01:18 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (rb_open_file): fs_encoding and fname_encoding is\n\t  rb_encoding *.\n\t  fixed [ruby-dev:35151]\n\nWed Jun 18 14:30:06 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (rb_open_file): not rb_enc_get_index but rb_enc_get.\n\nWed Jun 18 13:49:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h (pipe): now pipe is textmode. although this\n\t  change is experimental, it will be spec if no compatibility problem\n\t  is reported.\n\nWed Jun 18 12:05:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (w_object, marshal_dump, r_object0, marshal_load): search\n\t  public methods only.  [ruby-core:17283]\n\n\t* object.c (convert_type): ditto.\n\n\t* lib/singleton.rb (Singleton#_dump): conversion method should be\n\t  public.\n\nWed Jun 18 10:18:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/etc/etc.c (etc_passwd, etc_group): fixed rdoc.  a patch from\n\t  okkez <okkez000 AT gmail.com> in [ruby-dev:35141].\n\nWed Jun 18 08:58:16 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems/*:  Fix errors for 1.9.\n\n\t* gem_prelude.rb:  Only remove methods from gem_prelude.rb when\n\t  loading real RubyGems.\n\nWed Jun 18 07:03:30 2008  Eric Hodel  <drbrain@egment7.net>\n\n\t* lib/rubygems/*:  Update to RubyGems r1778 (pre 1.2).\n\nWed Jun 18 04:27:58 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* KNOWNBUGS.rb, bootstraptest/pending.rb: move pending bug.\n\nWed Jun 18 04:24:20 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_insnhelper.c: fix escape process with \"break\" and \"return\"\n\t  syntax in \"lambda\".  [ ruby-Bugs-19304 ], [ruby-core:17164]\n\n\t* KNOWNBUGS.rb, bootstraptest/test_proc.rb: add/move solved test.\n\nWed Jun 18 01:51:10 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: cannot access class variable from\n\t  singleton method.\n\nWed Jun 18 00:03:33 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* dir.c (Init_Dir): dir_foreach() takes variable argument.\n\nTue Jun 17 23:04:24 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/net/telnet.rb:  Fixing Telnet#wairfor() which was broken by\n\t  changes to the Kernel::Integer() method.  [ruby-core:17272]\n\nTue Jun 17 23:02:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (opt_W_getter): made a hooked variable.\n\nTue Jun 17 22:04:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* enc/euc_jp.c (property_name_to_ctype): core dumped when sizeof(int)\n\t  differs from sizeof(long).  [ruby-dev:35131]\n\n\t* enc/shift_jis.c (property_name_to_ctype): ditto.\n\n\t* enc/unicode.c (onigenc_unicode_property_name_to_ctype): ditto.\n\nTue Jun 17 20:32:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (miniruby$(EXEEXT)): $(PREP) isn't always same as\n\t  miniruby, and tests, debug, etc have no meaning when\n\t  cross-compiling.\n\nTue Jun 17 18:39:11 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* common.mk: fixed dependencies on miniruby.\n\nTue Jun 17 18:11:01 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h (pipe): expand pipe buffer size.\n\nTue Jun 17 17:07:35 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild): no need to inherit handles here because\n\t  spawn'ed child cannot detect that STDIN is closed.\n\nTue Jun 17 06:32:55 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (dir_data): add intenc and extenc.\n\n\t* dir.c (dir_s_alloc): ditto.\n\n\t* dir.c (dir_initialize): now accept internal_encoding and\n\t  external_encoding.\n\n\t* dir.c (dir_s_open): changed for dir_initialize.\n\n\t* dir.c (dir_open_dir): ditto.\n\n\t* dir.c (dir_foreach): changed for dir_open_dir.\n\n\t* dir.c (dir_entries): changed for dir_open_dir.\n\n\t* dir.c (dir_enc_str): defined.\n\n\t* dir.c (dir_path): use dir_enc_str.\n\n\t* dir.c (dir_read): ditto.\n\n\t* dir.c (dir_each): ditto.\n\nTue Jun 17 06:28:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (io_set_encoding): defined.\n\n\t* io.c (rb_open_file): convert path on Windows and Mac OS X.\n\n\t* io.c (open_key_args): use io_set_encoding and now accept\n\t  internal_encoding and external_encoding.\n\nTue Jun 17 06:26:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_filesystem_encoding): defined.\n\n\t* include/ruby/encoding.h (rb_filesystem_encoding): added.\n\nTue Jun 17 06:24:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: add encoding header.\n\nTue Jun 17 01:52:50 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: SEGV when exit.\n\n\t* ext/tk/lib/tk.rb: add a check for safety to Tk.exit.\n\n\t* ext/tk/sample/irbtkw.rbw: freezes when receives SIGINT.\n\nMon Jun 16 21:58:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_each, strio_readlines): IO#each and\n\t  IO#readlines do not affect $_.  [ruby-core:17277]\n\nMon Jun 16 18:52:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/thwait.rb (ThreadsWait): Exception2MessageMapper no longer has\n\t  extend_to method.  [ruby-core:17267]\n\nMon Jun 16 14:46:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/e2mmap.rb (E2MM.def_e2message): typo.\n\nMon Jun 16 09:43:27 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_with_object, Init_Enumerator):\n\t  Temporarily back out with_memo, for which we need a better name.\n\nMon Jun 16 07:14:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_readline, strio_each)\n\t  (strio_readlines): set lastline.  [ruby-core:17257]\n\nMon Jun 16 01:49:39 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_f_block_given_p): fix to skip class frame.\n\t  [ruby-core:14813]\n\n\t* KNOWNBUGS.rb, bootstraptest/test_method.rb: move solved test.\n\nMon Jun 16 01:48:08 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_dump.c (vm_stack_dump_raw): disable verbose debug output.\n\nMon Jun 16 01:33:08 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_core.h, thread.c: rename global_interpreter_lock to\n\t  global_vm_lock.\n\nSun Jun 15 18:40:35 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (yaml_org_handler): associate encoding.\n\n\t* ext/syck/rubyext.c (syck_genericresolver_node_import): ditto.\n\nSun Jun 15 18:17:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (rb_vm_t), vm.c (rb_vm_mark): moved preallocated special\n\t  exceptions.\n\n\t* eval.c (Init_eval), gc.c (Init_GC), proc.c (Init_Proc): freeze\n\t  preallocated special exceptions.\n\n\t* eval.c (rb_longjmp): duplicate the thrown exception to set backtrace\n\t  if it was frozen.\n\n\t* gc.c (rb_memerror): raise nomem_error without backtrace if failed to\n\t  make backtrace.\n\nSat Jun 14 22:52:35 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_sysread): should not raise at empty\n\t  read.  a patch from Arthur Schreiber at [ruby-core:17245].\n\nSat Jun 14 16:55:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): no need to expand root path which has no\n\t  short file name.  [ruby-dev:35095]\n\nSat Jun 14 11:59:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.h (STACK_UPPER): moved from gc.c\n\n\t* thread.c, thread_{pthread,win32}.c (ruby_init_stack,\n\t  ruby_thread_init_stack): moved stack initialization from gc.c.\n\nSat Jun 14 11:57:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.h (STACK_UPPER): moved from gc.c\n\n\t* thread.c, thread_{pthread,win32}.c (ruby_init_stack,\n\t  ruby_thread_init_stack): moved stack initialization from gc.c.\n\nSat Jun 14 07:52:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (ruby_initial_gc_stress): defined.\n\t  (ruby_initial_gc_stress_ptr): defined.\n\n\t* debug.c (set_debug_option): use ruby_initial_gc_stress_ptr for\n\t  gc_stress option.\n\nSat Jun 14 00:09:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (ruby_gc_stress): moved to rb_objspace_t.\n\n\t* gc.c (gc_stress_get, gc_stress_set): VM local attribute.\n\n\t* signal.c (sigsegv): ditto.\n\nFri Jun 13 21:55:48 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c (nurat_equal_p): Rational(0,x) and 0 are equivalent,\n\t  anyway.\n\nFri Jun 13 21:26:39 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (string_to_c, nucomp_s_convert): preserve the current\n\t  backref.\n\n\t* rational.c (string_to_r, nurat_s_convert): ditto.\n\n\t* include/ruby/intern.h (rb_match_busy): added a declaration.\n\nFri Jun 13 18:08:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/time.rb (Time.xmlschema): don't accept decimal dot without\n\t  fractional digits.  fractional digits handling simplified.\n\nFri Jun 13 17:20:40 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* complex.c (string_to_c_internal): save and restore backref.\n\t  fixed [ruby-dev:34991]\n\nFri Jun 13 17:06:20 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* rational.c (string_to_r_internal): save and restore backref.\n\t  fixed [ruby-dev:34990]\n\nFri Jun 13 14:41:26 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* README.EXT.ja: update about Fixnum. reported in\n\t   <http://www.tmtm.org/ja/tdiary/?date=20080611#p01>\n\n\t* README.EXT.ja: describe about StringValueCStr().\n\n\t* README.EXT: ditto.\n\nFri Jun 13 14:24:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_memerror): exit with EXIT_FAILURE instead of magic number.\n\n\t* gc.c (ruby_stack_check): STACK_LENGTH should be less than\n\t  STACK_LEVEL_MAX.\n\nFri Jun 13 12:55:37 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (sort_by_i): use NODE_DOT2 instead of NODE_MEMO to avoid\n\t  extra calls to is_pointer_to_heap() in GC.\n\n\t* enum.c (enum_zip): ditto.\n\nFri Jun 13 00:41:58 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_thread.rb: add a test.\n\nThu Jun 12 23:30:11 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (mutex_unlock): fix cond_notified consistency.\n\nThu Jun 12 22:19:45 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.c (native_sleep): fixed previous commit.\n\nThu Jun 12 21:59:17 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c, vm_core.h, vm.c, thread_pthread.c, thread_win32.c: add\n\t  deadlock detection.  [ruby-dev:35044]\n\n\t* bootstraptest/test_thread.rb: add tests for above.\n\nThu Jun 12 21:39:55 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: refactoring.\n\n\t* rational.c: ditto.\n\nThu Jun 12 17:11:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regint.h: undefine USE_CAPTURE_HISTORY which is mentioned as\n\t  unsupported in the Onigiruma document.\n\nThu Jun 12 13:36:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (rb_intern): use rb_intern2 with strlen for\n\t  constant symbols to optimize strlen.\n\nThu Jun 12 08:47:51 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): should use io_read_encoding(), not\n\t  io_input_encoding().\n\n\t* io.c (rb_io_getline_1): reduce calling of io_read_encoding().\n\n\t* string.c (rb_str_scan): need not to restore $~ value, so avoid\n\t  pinning match object.\n\nThu Jun 12 02:49:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/stringio/stringio.c (strio_init): rewind when reopened.\n\nThu Jun 12 02:43:27 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_zip): ANSI style.\n\nThu Jun 12 02:25:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_reopen): clear read buffer.\n\nThu Jun 12 00:56:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk: check proper conditions.  [ruby-dev:35047]\n\nWed Jun 11 23:33:13 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fread): bypass buffered read if reading buffer is empty.\n\n\t* io.c (remain_size): do not add extra one byte.\n\nWed Jun 11 12:15:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_normal_exit): hide stderr output\n\t  when success.\n\nWed Jun 11 09:26:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (encs): need to pass miniruby path for windows.\n\nWed Jun 11 05:53:20 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, eval_intern.h (PASS_PASSED_BLOCK):\n\t  set a VM_FRAME_FLAG_PASSED flag to skip this frame when\n\t  searching ruby-level-cfp.\n\n\t* eval.c, eval_intern.h, proc.c: fix to check cfp.  if there is\n\t  no valid ruby-level-cfp, cause RuntimeError exception.\n\t  [ruby-dev:34128]\n\n\t* vm_core.h, vm_evalbody.c, vm.c, vm_dump.c, vm_insnhelper.c,\n\t  insns.def: rename FRAME_MAGIC_* to VM_FRAME_MAGIC_*.\n\n\t* KNOWNBUGS.rb, bootstraptest/test*.rb: move solved bugs.\n\nWed Jun 11 05:55:31 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: SEGV when tcltk-stubs is enabled.\n\n\t* ext/tk/tcltklib.c: avoid error on a shared object.\n\n\t* ext/tk/extconf.rb: support --with-tcltkversion\n\n\t* ext/tk/README.tcltklib: add document about --with-tcltkversion\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/multi-tk.rb, ext/tk/lib/remote-tk.rb:\n\t  not work on $SAFE==4\n\n\t* ext/tk/lib/multi-tk.rb: Object#methods returns Symbols on Ruby1.9.\n\n\t* ext/tk/lib/tk/timer.rb: add TkTimer#at_end(proc) to register the\n\t  procedure which called at end of the timer.\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/itemfont.rb, ext/tk/lib/font.rb:\n\t  support __IGNORE_UNKNOWN_CONFIGURE_OPTION__ about font options.\n\n\t* ext/tk/lib/*: treat __IGNORE_UNKNOWN_CONFIGURE_OPTION__\n\n\t* ext/tk/lib/tkextlib/iwidgets/scrolledcanvas.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/scrolledlistbox.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/scrolledtext.rb: bug fix.\n\n\t* ext/tk/lib/tk/text.rb: typo. call a wrong method.\n\n\t* ext/tk/lib/tk/itemconfig.rb: ditto.\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/itemconfig.rb,\n\t  ext/tk/lib/tk/canvas.rb: support alias names of option keys.\n\n\t* ext/tk/lib/tk/grid.rb: lack of module-method definitions.\n\n\t* ext/tk/lib/tk/pack.rb, ext/tk/lib/tk/grid.rb: increase supported\n\t  parameter patterns of configure method.\n\n\t* ext/tk/lib/tk.rb: add TkWindow#grid_anchor, grid_column, grid_row.\n\n\t* ext/tk/lib/tk/wm.rb: methods of Tk::Wm_for_General module cannot\n\t  pass the given block to methods of Tk::Wm module.\n\n\t* ext/tk/lib/tk/wm.rb: Wm#overrideredirect overwrites argument to\n\t  an invalid value.\n\n\t* ext/tk/lib/tk.rb: fix memory (object) leak bug.\n\n\t* ext/tk/tcltklib.c, ext/tk/tkutil/tkutil.c: fix memory leak.\n\n\t* ext/tk/sample/demos-jp/aniwave.rb, ext/tk/sample/demos-en/aniwave.rb:\n\t  bug fix.\n\n\t* ext/tk/lib/tkextlib/blt/component.rb,\n\t  ext/tk/lib/tkextlib/tile/tentry.rb,\n\t  ext/tk/lib/tkextlib/tile/treeview.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/tile/tpaned.rb: improve TPaned#add.\n\n\t* ext/tk/sample/demos-jp/widget, ext/tk/sample/demos-en/widget,\n\t  ext/tk/sample/demos-jp/style.rb, ext/tk/sample/demos-en/style.rb,\n\t  ext/tk/sample/demos-jp/bind.rb, ext/tk/sample/demos-en/bind.rb:\n\t  bug fix.\n\n\t* ext/tk/sample/ttk_wrapper.rb: ditto.\n\n\t* ext/tk/sample/ttk_wrapper.rb: support \"if __FILE__ == $0\" idiom.\n\n\t* ext/tk/sample/tktextio.rb: add binding for 'Ctrl-u' at console mode.\n\n\t* ext/tk/lib/tkextlib/tile.rb, ext/tk/lib/tkextlib/tile/style.rb,\n\t  ext/tk/sample/ttk_wrapper.rb: improve treating and control themes.\n\t  add Tk::Tile.themes and Tk::Tile.set_theme(theme).\n\n\t* ext/tk/lib/tkextlib/tile.rb: lack of autoload definitions.\n\n\t* ext/tk/lib/tkextlib/tile/tnotebook.rb: cannot use kanji (not UTF-8)\n\t  characters for headings.\n\n\t* ext/tk/lib/tkextlib/tkDND/shape.rb: wrong package name.\n\n\t* ext/tk/tkutil/tkutil.c: improve handling callback-subst-keys.\n\t  Now, support longnam-keys (e.g. '%CTT' on tkdnd-2.0; however, still\n\t  not support tkdnd-2.0 on tkextlib), and symbols of parameters (e.g.\n\t  :widget=>'%W', :keycode=>'%k', '%x'=>:x, '%X'=>:root_x, and so on;\n\t  those are attributes of event object). It means that Ruby/Tk accepts\n\t  not only \"widget.bind(ev, '%W', '%k', ...){|w, k, ...| ... }\", but\n\t  also \"widget.bind(ev, :widget, :keycode, ...){|w, k, ...| ... }\".\n\t  It is potentially incompatible, when user passes symbols to the\n\t  arguments of the callback block (the block receives the symbols as\n\t  strings). I think that is very rare case (probably, used by Ruby/Tk\n\t  experts only). When causes such trouble, please give strings instead\n\t  of such symbol parameters (e.g. call Symbol#to_s method).\n\n\t* ext/tk/lib/tk/event.rb, ext/tk/lib/tk/validation.rb,\n\t  ext/tk/lib/tkextlib/blt/treeview.rb,\n\t  ext/tk/lib/tkextlib/winico/winico.rb: ditto.\n\n\t* ext/tk/tkutil/tkutil.c: strings are available on subst_tables on\n\t  TkUtil::CallbackSubst class (it is useful on Ruby 1.9).\n\n\t* ext/tk/lib/tk/spinbox.rb, ext/tk/lib/tkextlib/iwidgets/hierarchy.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/spinner.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/entryfield.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/calendar.rb,\n\t  ext/tk/lib/tkextlib/blt/dragdrop.rb,\n\t  ext/tk/lib/tkextlib/tkDND/tkdnd.rb,\n\t  ext/tk/lib/tkextlib/treectrl/tktreectrl.rb,\n\t  ext/tk/lib/tkextlib/tktable/tktable.rb: disable code piece became\n\t  unnecessary by reason of the changes of ext/tk/tkutil/tkutil.c.\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/multi-tk.rb: change strategy to define\n\t  the constant WITH_ENCODING.\n\n\t* ext/tk/lib/tk.rb: fix bug on Tk::Encoding.tk_encoding_names.\n\nWed Jun 11 03:40:37 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/find.rb (Find#find): Return an enumerator if no block is\n\t  given.\n\nWed Jun 11 01:28:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/intern.h, proc.c: revert rb_proc_call() and\n\t  create rb_proc_call_with_block() instead.\n\n\t* include/ruby/ruby.h, eval_jump.c, thread.c, vm_insnhelper.c:\n\t  rb_blockptr should not be exposed.\n\nTue Jun 10 21:07:19 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_float.rb: add tests. [ruby-dev:35009]\n\nTue Jun 10 20:55:57 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_convert): need not to initialize optional\n\t  argument for rb_scan_args().\n\nTue Jun 10 20:13:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: negate default of --without-ext if --with-ext is\n\t  given.\n\n\t* ext/extmk.rb: negate default of --without-ext.\n\nTue Jun 10 17:43:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_shuffle_bang): update RDoc.  [ruby-dev:35034]\n\nTue Jun 10 17:30:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_obj_instance_exec, rb_mod_module_exec):\n\t  added prototypes.\n\nTue Jun 10 17:00:29 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* util.c (ruby_strtod): ruby_strtod don't allow a trailing\n\t  decimal point like \"7.\". [ruby-dev:34835] [ruby-dev:35009]\n\nTue Jun 10 13:48:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* rational.c (nurat_s_convert): need not to initialize optional\n\t  argument for rb_scan_args().\n\nTue Jun 10 12:58:07 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/io/wait/wait.c (FIONREAD_POSSIBLE_P): suppress warnings.\n\nTue Jun 10 12:43:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (CONST_ID_CACHE): fixed statement expression.\n\nTue Jun 10 11:25:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (rb_argv0): revised for ext/tk.\n\n\t* include/ruby/encoding.h: not to use varargs.h since requiring C89.\n\nTue Jun 10 00:50:51 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* include/ruby/ruby.h, vm_core.h: add a type rb_blockptr.\n\n\t* vm_insnhelper.c (vm_yield_with_cfunc): vm_yield_with_cfunc receives\n\t  blockptr and passes it to iterating block.\n\n\t* proc.c (rb_proc_call), include/ruby/intern.h: rb_proc_call receives\n\t  blockptr.  \"rb_proc_call(self, args, blockptr)\" in C corresponds to\n\t  \"self.call(*args, &block)\" in Ruby.\n\n\t* proc.c (proc_call): pass blockptr to block that is written in C.\n\n\t* proc.c (curry): receive blockptr and pass it to original proc.\n\t  [ruby-core:15551]\n\n\t* vm.c (invoke_block_from_c): fix for change of vm_yield_with_cfunc.\n\n\t* thread.c (call_trace_proc), eval_jump.c (rb_call_end_proc): fix for\n\t  change of rb_proc_call.\n\nTue Jun 10 00:10:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk (test-knownbug): give $(OPTS) for bootstraptest/runner.rb.\n\nMon Jun  9 23:10:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (Init_stack): don't declare.  it is a macro now.\n\nMon Jun  9 22:46:47 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* compile.c : treat []&&= in virtually the same way as []||=.\n\t  [ruby-dev:34679]\n\nMon Jun  9 21:17:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend (clean): remove build directories.\n\n\t* test_knownbug.rb -> KNOWNBUGS.rb: renamed.\n\n\t* common.mk: apply above change.\n\nMon Jun  9 21:14:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): set flags.\n\nMon Jun  9 21:09:02 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb -> ./test_knownbug.rb: moved.\n\n\t* common.mk: add a rule \"test-knownbug\".\n\nMon Jun  9 21:00:32 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_convert): can accept Complex('i').\n\t  [ruby-dev:34991]\n\nMon Jun  9 18:25:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (CONST_ID): constant ID cache for non-gcc.\n\n\t* *.c: no cache in init functions.\n\nMon Jun  9 17:56:30 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#delete_if): Call to_a.\n\t  (SortedSet#delete_if, TC_SortedSet#test_sortedset): Use super to\n\t  yield elements in sorted order; [ruby-core:17144] by Arthur\n\t  Schreiber.\n\t  (SortedSet#each, SortedSet#each, TC_Set#test_each)\n\t  (TC_SortedSet#test_sortedset): Return self; [ruby-dev:35002] by\n\t  Arthur Schreiber.\n\nMon Jun  9 17:47:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (fptr_finalize): close IO object if fd is already closed.\n\t  (rb_p): call rb_io_write just once.\n\nMon Jun  9 15:37:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (require_libraries): req_list may be NULL.  [ruby-dev:35008]\n\nMon Jun  9 14:18:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (struct rb_vm_struct): moved src_encoding_index,\n\t  ruby_debug, ruby_verbose, and rb_progname.\n\n\t* ruby.c (rb_argv0): no longer used.\n\n\t* ruby.c (struct cmdline_options): moved setids and req_list, and the\n\t  latter is now an array, to prevent memory leak.\n\n\t* ruby.c (cmdline_options_init): added.\n\n\t* ruby.c (add_modules, require_libraries, init_ids, forbid_setid): use\n\t  struct cmdline_options.\n\n\t* vm.c (vm_init2): initialize src_encoding_index.\n\n\t* vm.c: getters/setters for ruby_{debug,verbose}.\n\nMon Jun  9 09:54:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (Init_stack): make to call ruby_init_stack.\n\nMon Jun  9 08:12:40 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* vm_insnhelper.c, vm.c, proc.c : revert r17021. [ruby-dev:34997]\n\nMon Jun  9 03:12:23 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/pending.rb: move/remove solved issues.\n\n\t* bootstraptest/test_class.rb: ditto.\n\nMon Jun  9 02:32:58 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/zlib/zlib.c (rb_deflate_init_copy): Copy buffers as well.\n\t  [ruby-list:45018]\n\nSun Jun  8 22:22:20 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* vm_insnhelper.c, vm.c, proc.c (proc_call): allow call method with\n\t  block that both is written in C. [ruby-dev:34273] [ruby-core:15551]\n\n\t*  proc.c (curry): use proc_call instead of rb_proc_call.\n\t  [ruby-dev:34273] [ruby-core:15551]\n\nSun Jun  8 21:50:27 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/zlib/test_zlib.rb: add tests to achieve over 90% test coverage\n\t  of zlib.\n\nSun Jun  8 20:12:47 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* vm_insnhelper.c (vm_throw): regard break as return in lambda.\n\t  [ruby-dev:34646]\n\nSun Jun  8 19:17:59 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c: add a build option \"CALC_EXACT_MALLOC_SIZE\".\n\t  This option enables to calculate exact size of current\n\t  allocated size by malloc().  You can access these information\n\t  with GC.malloc_allocated_size and GC.malloc_allocations.\n\t  This option consume additional memory as a header of each memory\n\t  object.  This option also helps to find out xmalloc()/xfree()\n\t  consistency.  If you get trouble with this option, some extension\n\t  using \"free()\" instead of \"xfree()\".\n\t  This options is disabled by default.\n\nSun Jun  8 18:15:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* array.c, bignum.c, cont.c, dir.c, dln.c, encoding.c, enumerator.c,\n\t  enumerator.c (enumerator_allocate), eval_jump.c, file.c, hash.c,\n\t  io.c, load.c, pack.c, proc.c, random.c, re.c, ruby.c, st.c,\n\t  string.c, thread.c, thread_pthread.c, time.c, util.c, variable.c,\n\t  vm.c, gc.c:\n\t  allocated memory objects by xmalloc (ruby_xmalloc) should be\n\t  freed by xfree (ruby_xfree).\n\n\t* ext/curses/curses.c, ext/dbm/dbm.c, ext/digest/digest.c,\n\t  ext/gdbm/gdbm.c, ext/json/ext/parser/parser.c,\n\t  ext/json/ext/parser/unicode.c, ext/openssl/ossl_cipher.c,\n\t  ext/openssl/ossl_hmac.c, ext/openssl/ossl_pkey_ec.c,\n\t  ext/sdbm/init.c, ext/strscan/strscan.c, ext/zlib/zlib.c:\n\t  ditto.\n\nSun Jun  8 01:15:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* hash.c (hash_i): make Hash#hash order insensitive.\n\t  (rb_hash_dup): use DUPSETUP.\n\nSat Jun  7 23:47:35 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/zlib/zlib.c (rb_deflate_initialize, Init_zlib): Fix up\n\t  initialize_copy; [ruby-list:45016].\n\nSat Jun  7 22:15:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (VENDOR_DIR): use LIBDIR instead of PREFIX as well as\n\t  SITE_DIR.  a patch from Richard Brown <rbrown AT exherbo.org> in\n\t  [ruby-core:17129].\n\nSat Jun  7 21:37:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_f_open), re.c (rb_reg_search), transcode.c (str_transcode):\n\t  suppress warnings.\n\n\t* util.c (quorem, rv_alloc, nrv_alloc): only used in dtoa().\n\nSat Jun  7 16:06:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (CFLAGS, CXXFLAGS): append default flags.\n\nSat Jun  7 01:23:59 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_open_file, rb_io_s_sysopen): fmode should be unsigned int.\n\t  fixed [ruby-dev:34979]\n\nFri Jun  6 23:46:19 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_callee_setup_arg): check simple flag before\n\t  calling setup_arg function().  this change reduce function call.\n\nFri Jun  6 21:51:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (COMMON_HEADERS): include ws2tcpip.h.\n\n\t* ext/socket/addrinfo.h (addrinfo, getaddrinfo, getnameinfo,\n\t  freehostent, freeaddrinfo): undef before define because these are\n\t  macros in some versions of Windows SDK.\n\n\t  merged from ruby_1_8.\n\nFri Jun  6 18:25:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/iconv/utils.rb (default_test): override not to croak.\n\nFri Jun  6 16:41:45 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h: include ws2tcpip.h. fixed [ruby-Bugs-20528]\n\nFri Jun  6 15:05:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (count_objects): clear hash after counting objects.\n\nFri Jun  6 12:43:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_dir.rb (TestDir::test_glob): glob file names not sorted.\n\nFri Jun  6 00:05:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/time.rb (Time.xmlschema): don't use float.  fix\n\t  http://rubyforge.org/tracker/index.php?func=detail&group_id=426&atid=1698&aid=20504\n\nThu Jun  5 23:56:18 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_gc.rb: add tests to achieve over 90% test coverage of\n\t  gc.c.\n\n\t* test/ruby/test_objectspace.rb: ditto.\n\n\t* test/ruby/test_marshal.rb: ditto.\n\nThu Jun  5 23:40:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* gc.c (rb_objspace_alloc): this function is needed only when\n\t  ENABLE_VM_OBJSPACE macro is defined.\n\n\t* vm.c: ditto.\n\nThu Jun  5 23:31:21 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/stringio/test_stringio.rb: add tests to achieve over 95% test\n\t  coverage of stringio.\n\n\t* test/strscan/test_stringscanner.rb: ditto for strscan.\n\nThu Jun  5 23:25:34 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* eval.c (ruby_finalize_0): clear trace_func after executing END\n\t  procs.\n\n\t* thread.c: fix typo.\n\nThu Jun  5 22:50:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (os_obj_of): heaps may be modified in yield.\n\nThu Jun  5 21:46:50 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* st.c (st_reverse_foreach): comment out unused function.\n\n\t* util.c (dtoa): ditto.\n\nThu Jun  5 20:30:46 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/openssl/ossl_ssl_session.c (ossl_ssl_session_initialize):\n\t  Add a null check for ssl; submitted by akira yamada\n\t  in [ruby-dev:34950].\n\n\t* ext/openssl/ossl_ssl.c (Init_ossl_ssl): Define OP_NO_TICKET if\n\t  SSL_OP_NO_TICKET is present; submitted by akira yamada\n\t  in [ruby-dev:34944].\n\n\t* test/openssl/test_ssl.rb (OpenSSL#test_server_session): Add a\n\t  workaround for the case where OpenSSL is configured with\n\t  --enable-tlsext; submitted by akira yamada in [ruby-dev:34944].\n\nThu Jun  5 20:24:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (thread_set_trace_func_m): fix check for proc argument.\n\nThu Jun  5 20:17:29 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/rexml/document.rb (REXML::Document:write): leaky modification\n\t  trans -> transitive.  [ruby-dev:32040], r13686\n\n\t* lib/rexml/text.rb (Text.check): fix check for illegal character.\n\nThu Jun  5 14:03:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_create): find encoding without options.\n\nThu Jun  5 07:48:32 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* string.c (hash): should be \"static\".\n\nThu Jun  5 01:47:18 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_transcode.rb: add tests for iso-2022-jp.\n\nThu Jun  5 01:27:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_process.rb: add tests.\n\nWed Jun  4 23:10:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/zlib/zlib.c (rb_gzfile_set_mtime): fix typo.\n\nWed Jun  4 18:53:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_alloc): RDoc updated.  a patch from Gaston\n\t  Ramos <ramos.gaston at gmail.com> in [ruby-core:17073].\n\nWed Jun  4 18:36:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc.rb: massive spelling correction patch from Evan Farrar\n\t  <evanfarrar at gmail.com> in [ruby-doc:1382] applied.\n\nWed Jun  4 17:52:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_iconv): fix for length argument and now\n\t  allows range.  [ruby-core:17092]\n\nWed Jun  4 15:45:41 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_with_index, enumerator_with_memo): Fix\n\t  grammo in rdoc.\n\nWed Jun  4 13:06:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (CFLAGS, CXXFLAGS): include additional flags to\n\t  CFLAGS and CXXFLAGS while configuration.\n\nTue Jun  3 23:06:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/strscan/strscan.c (strscan_scan_full, strscan_search_full): fix\n\t  document.\n\nTue Jun  3 22:37:26 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/strscan/strscan.c (strscan_exist_p): fix document.\n\nTue Jun  3 22:33:29 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_dir.rb: add tests to achieve over 90% test coverage\n\t  of dir.c.\n\n\t* test/ruby/test_encoding.rb: add tests for dummy?, name_list and\n\t  aliases.\n\n\t* test/ruby/test_marshal.rb: add some tests.\n\nTue Jun  3 22:25:51 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/etc/test_etc.rb: new tests for etc.\n\nTue Jun  3 19:35:02 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_with_memo): New method: with_memo().\n\nTue Jun  3 20:04:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (miniruby$(EXEEXT)): miniruby cannot be\n\t  written by miniruby itself.\n\nTue Jun  3 19:33:22 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_init_copy): Take care of\n\t  initialize_copy as well as initialize.\n\nTue Jun  3 16:06:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): fix for non-existent files and SFN of\n\t  symlinks.  [ruby-talk:303736]\n\nTue Jun  3 15:12:01 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#classify): Back out the `group_by' alias.\n\t  Better think twice.\n\nTue Jun  3 15:00:22 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#collect, Set#select): Back out.  I thought it\n\t  was consistent but turned out to be wrong.\n\nTue Jun  3 13:41:08 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#collect, Set#select): Override Enumerable\n\t  methods and make them return a set. [ruby-core:17055]\n\t  (Set#delete_if, Set#collect!, Set#reject!, Set#classify)\n\t  (Set#divide, Set#delete_if): Return an enumerator if no block is\n\t  given.\n\t  (Set#classify): Define an alias `group_by' to override that of\n\t  Enumerable.\n\nTue Jun  3 13:35:40 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (run_exec_pgroup): C99 ism.\n\nTue Jun  3 12:51:57 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_allocate, enumerator_ptr): Properly\n\t  detect if the object is initialized and raise error when\n\t  appropriate.\n\t  (enumerator_initialize): Fix a typo in rdoc. [ruby-core:17052]\n\nTue Jun  3 01:21:51 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_method.rb: add a test.\n\nTue Jun  3 00:26:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* marshal.c (w_object): add a check for modification of array during\n\t  its dump.\n\nMon Jun  2 22:27:57 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* enc/iso_8859_5.c: Large omicron should lowercase to small omicron.\n\n\t* test/ruby/test_big5.rb, test/ruby/test_cp949.rb,\n\t  test/ruby/test_euc_jp.rb, test/ruby/test_euc_kr.rb,\n\t  test/ruby/test_euc_tw.rb, test/ruby/test_gb18030.rb,\n\t  test/ruby/test_gbk.rb, test/ruby/test_iso_8859.rb,\n\t  test/ruby/test_koi8.rb, test/ruby/test_shift_jis.rb,\n\t  test/ruby/test_windows_1251.rb: new tests for encoding.\n\n\t* test/ruby/test_utf16.rb, test/ruby/test_utf32.rb,\n\t  test/ruby/test_regexp.rb: add tests.\n\nMon Jun  2 21:56:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_file.rb: add tests for uninitialized object.\n\n\t* test/ruby/test_class.rb: ditto.\n\n\t* test/ruby/test_thread.rb: ditto.\n\nMon Jun  2 21:44:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* re.c: fix SEGV by Regexp.allocate.names, Match.allocate.names, etc.\n\n\t* test/ruby/test_regexp.rb: add tests for above.\n\n\t* io.c: fix SEGV by IO.allocate.print, etc.\n\n\t* test/ruby/test_io.rb: add tests for above.\n\nMon Jun  2 19:17:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_argf.rb (teardown): remove renamed temporary files.\n\nMon Jun  2 18:51:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/un.rb (wait_writable): wait until target files can be\n\t  written actually.\n\n\t* win32/Makefile.sub (LDSHARED_0, LINK_SO): get rid of failure of\n\t  mt.exe.\n\nMon Jun  2 16:26:17 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/delegate.rb (Delegator::MethodDelegation#respond_to):\n\t  respond_to? should now take optional second argument; submitted\n\t  by Jeremy Kemper <jeremy at bitsweat.net> in [ruby-core:17045].\n\nMon Jun  2 16:14:18 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/erb.rb (ERB::Compiler::TrimScanner#scan_line): Oops.  This\n\t  change did not apply to trunk.  Backed out.\n\nMon Jun  2 16:08:24 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/erb.rb (ERB::Compiler::TrimScanner#scan_line): Fix a bug\n\t  where tokens are not yielded one by one.\n\n\t* test/erb/test_erb.rb (TestERBCore#_test_01)\n\t  (TestERBCore#test_02_safe_04): The expected value should come\n\t  first for assert_equal().\n\nMon Jun  2 13:06:38 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* mkconfig.rb: hide build path from rbconfig.rb.\n\nMon Jun  2 08:46:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (ruby_strtod, dtoa): initialize more variables for error\n\t  handling.\n\nMon Jun  2 04:55:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* suppress warnings on cygwin, mingw and mswin.\n\nMon Jun  2 04:35:32 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/gb18030.c (gb18030_code_to_mbc): add 0x80000000\n\t  for 4bytes character.\n\nMon Jun  2 03:52:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (set_arg0): reverted used variable definition.\n\nMon Jun  2 03:23:25 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/gb18030.c (gb18030_mbc_to_code): mask by 0x7FFFFFFF\n\t  because OnigCodePoint will be used as 32bit signed int.\n\t  Masking by 0x7FFFFFFF is ok on GB18030;\n\t  Minimum 4bytes character is 0x81308130.\n\nSun Jun  1 22:29:35 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* rational.c (string_to_r_internal): use rb_isdigit.\n\n\t* marshal.c (long_toobig): use %zd.\n\n\t* ruby.c (set_arg0): move unused variable definition.\n\nSun Jun  1 12:18:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* insns.def (DEFINE_INSN): subtract of pointers is ptrdiff_t.\n\t  this is not int on 64bit system.\n\n\t* vm_dump.c (control_frame_dump): ditto.\n\n\t* vm_dump.c (stack_dump_each): ditto.\n\n\t* vm_dump.c (debug_print_register): ditto.\n\n\t* vm_dump.c (debug_print_pre): ditto.\n\n\t* transcode.c (str_transcode): ditto.\n\nSun Jun  1 10:32:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): show coredump status.\n\nSat May 31 23:33:34 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* README, README.ja: Add a note about default C flags.\n\nSat May 31 23:02:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (count_objects): clear given hash.\n\nSat May 31 20:28:10 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_regexp.rb: add tests.\n\nSat May 31 19:11:39 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/utf_16{be,le}.c (utf16{be,le}_code_to_mbc):\n\t  fix codepoint to bytes.\n\nSat May 31 18:28:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* suppress warnings with -Wwrite-string.\n\nSat May 31 18:26:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_delete_if): should return enumerator if no block\n\t  is given.  [ruby-dev:34901]\n\nSat May 31 15:58:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, configure.in (warnflags): defaulted to -Wall\n\t  -Wno-parentheses with gcc.  [ruby-dev:34810]\n\nSat May 31 15:17:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/mvm.h: new header file for MVM, and moved rb_vm_t and\n\t  rb_thread_t from vm_core.h.\n\nSat May 31 12:02:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): show pid when fail.\n\nFri May 30 23:55:56 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_rubyoptions.rb: add a test of RUBY_DESCRIPTION.\n\nFri May 30 22:47:17 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_regexp.rb: add tests.\n\nFri May 30 22:40:53 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_signal.rb: add tests to achieve over 80% test\n\t  coverage of signal.c.\n\nFri May 30 22:28:03 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* signal.c (esignal_signo): fix SignalException#signo which returned\n\t  nil absolutely.\n\n\t* signal.c (esignal_init): always prepend \"SIG\" to a string that is\n\t  returned by SignalException#signm.\n\nFri May 30 22:17:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_argf.rb: rename a conflicting method name.\n\n\t* test/ruby/test_string.rb: ditto.\n\n\t* test/ruby/test_io.rb: ditto.\n\nFri May 30 22:14:37 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (defined_expr): fix SEGV by defined?([1]).\n\nFri May 30 12:18:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (prelude.c): simply depends on PREP.  [ruby-dev:34877]\n\n\t* enc/make_encdb.rb, enc/trans/make_transdb.rb: ditto.\n\nFri May 30 10:55:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (struct rb_unblock_callback), thread.c\n\t  (set_unblock_function), thread_{pthread,win32}.c (native_sleep):\n\t  extracted from struct rb_thread_struct.\n\n\t* thread.c (reset_unblock_function): not check interrupts at leaving\n\t  blocking region.  [ruby-dev:34874]\n\nFri May 30 06:09:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/utf_8.c: add UTF8-MAC (UTF-8-MAC).\n\nFri May 30 04:17:13 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (enum_count, count_all_i, Init_Enumerable),\n\t  array.c (rb_ary_count): If no argument or block is given, count\n\t  the number of all elements.\n\nFri May 30 03:12:18 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/openssl/ossl_bn.c (ossl_bn_s_rand, ossl_bn_s_pseudo_rand):\n\t  Int should be enough here.\n\nFri May 30 02:35:00 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/openssl/ossl_bn.c (ossl_bn_s_rand, ossl_bn_s_pseudo_rand),\n\t  ext/openssl/ossl_pkey_dh.c (ossl_dh_s_generate)\n\t  (ossl_dh_initialize),\n\t  ext/openssl/ossl_pkey_dsa.c (ossl_dsa_s_generate),\n\t  ext/openssl/ossl_rand.c (ossl_rand_bytes)\n\t  (ossl_rand_pseudo_bytes, ossl_rand_egd_bytes),\n\t  ext/openssl/ossl_x509store.c (ossl_x509stctx_set_error): Do not\n\t  use FIX2INT() without checking the value type.  Use NUM2INT()\n\t  instead; found by akr in [ruby-dev:34890].\n\nFri May 30 02:08:20 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* signal.c (esignal_init): handle a non-integer argument correctly,\n\t  allowing SignalException.new(:INT).\n\nFri May 30 00:59:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_regexp.rb: add tests.\n\nThu May 29 22:51:05 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_require.rb: add a test for load with wrap flag, to\n\t  achieve 100% test coverage of eval_jump.c.\n\nThu May 29 22:47:53 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_argf.rb: new tests for ARGF, to achieve over 85% test\n\t  coverage of file.c.\n\n\t* test/ruby/test_io.rb: add tests.\n\nThu May 29 22:41:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (argf_readchar): raise EOFError, synchronizing IO#readchar.\n\nThu May 29 22:29:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (argf_external_encoding, argf_internal_encoding): fix SEGV by\n\t  ARGF.external_encoding.\n\nThu May 29 17:52:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/zlib/extconf.rb: search zlib1, and regard mswin32 later than VC6\n\t  as WIN32.  [ruby-core:16984]\n\nWed May 28 18:05:28 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_nitems, Init_Array): Axe Array#nitems().\n\t  cf. [ruby-dev:34676]-[ruby-dev:34713]\n\nWed May 28 17:50:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/mkexports.rb (Exports#objdump, Exports#each_line): extracted.\n\nWed May 28 17:41:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (MKPREP): appended $(RBCONFIG).\n\n\t* common.mk (enc.mk, prelude.c): not depend on $(RBCONFIG) on mswin32\n\t  to get of compiling twice each time.\n\n\t* win32/Makefile.sub (prelude.c): not depend on $(PREP).\n\nWed May 28 17:37:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/mkexports.rb (Exports::Mswin#each_export): speed up.\n\nWed May 28 16:41:59 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_slice_bang): Call rb_ary_modify_check() at the\n\t  beginning. [rubyspec]\n\nWed May 28 16:12:44 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb (WEBrick::HTTPServlet::CGIHandler#do_GET):\n\t  Set the HTTP status code to 302 if a Location header field is\n\t  present and the status code is not valid as a client\n\t  redirection.  cf. RFC 3875 6.2.3, 6.2.4.\n\nWed May 28 15:53:52 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/trans/japanese.c (to_SHIFT_JIS_EF_infos): typo.\n\nWed May 28 15:18:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/singleton.rb (SingletonClassMethods): _load should be public.\n\nWed May 28 13:30:43 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c: add workaround for Unicode to CP932.\n\t  U+2015->0x815C, U+2225->0x8161, U+FF0D->0x817C, U+FF3C->0x815F,\n\t  U+FF5E->0x8160, U+FFE0->0x8191, U+FFE1->0x8192, U+FFE2->0x81CA\n\nWed May 28 12:52:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (w_object, marshal_dump, r_object0, marshal_load): search\n\t  private methods too.  [ruby-dev:34671]\n\n\t* object.c (convert_type): ditto.\n\nWed May 28 08:42:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* numeric.c: \"%\" is required before PRI?VALUE.\n\nTue May 27 22:10:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_error.c (error_handle): SystemExit and SignalException throws\n\t  TAG_RAISE but not TAG_FATAL.\n\n\t* thread.c (rb_thread_execute_interrupts): delay interrupts during\n\t  raising exceptions.  [ruby-dev:34855]\n\nTue May 27 20:18:30 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_slice_bang): Return an empty array instead of\n\t  nil when pos is valid and len is adjusted from a valid value to\n\t  zero; caught by RubySpec.\n\nTue May 27 19:12:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (MKPREP), common.mk, win32/Makefile.sub (prelude.c): get\n\t  rid of depending PREP with nmake.\n\n\t* common.mk (encs): depends on libruby.\n\nTue May 27 19:00:22 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/stringio/stringio.c (strio_each_char, Init_stringio): Add\n\t  StringIO#{each_char,chars}.\n\t  (Init_stringio): Fix StringIO#bytes.\n\nTue May 27 17:54:35 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/stringio/stringio.c (strio_each_byte): Return self instead\n\t  of nil as the rdoc says.\n\nTue May 27 15:36:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (check_int): use PRIxVALUE format specifier.\n\n\t* numeric.c (check_uint, rb_num2fix, int_chr): ditto.\n\n\t* numeric.c (num_fdiv): fallback to_f should always return float\n\t  result.  should not use #quo that may return rational.\n\n\t* numeric.c (num_div): should raise ZeroDivisionError.\n\n\t* numeric.c (fix_divide): ditto.\n\n\t* test/ruby/test_numeric.rb (TestNumeric::test_divmod): avoid\n\t  ZeroDivisionError in tests.\n\nTue May 27 13:14:53 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (enum_to_a): Pass arguments through to #each().\n\t  (enum_sort): Follow the enum_to_a signature change.\n\t  (enum_reverse_each): Add #reverse_each().\n\nTue May 27 13:12:37 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* io.c (Init_IO): Define ARGF.{lines,bytes,chars}.\n\nTue May 27 12:06:37 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (BUFCHECK): wrong condition. [ruby-core:16921]\n\n\t* file.c (file_expand_buf): shouldn't use buflen for length of string.\n\nMon May 26 18:24:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (BUFCHECK): no resize if enough room.\n\n\t* file.c (file_expand_path): use BUFCHECK.\n\nMon May 26 17:48:42 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (struct enumerator, enumerator_init)\n\t  (enumerator_init_copy, enumerator_each): Eliminate iter.\n\t  (enumerator_ptr): Do not hardcode the class name.\n\t  (enumerator_with_index): Delay variable initialization after\n\t  RETURN_ENUMERATOR().\n\nMon May 26 17:23:49 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (file_expand_path): add more space for '/'.\n\n\t* file.c (file_expand_path): should reset address of p after calling\n\t  rb_str_resize(). [ruby-dev:34800]\n\nMon May 26 16:49:55 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-mode): use run-hooks if run-mode-hook is\n\t  not available.  a patch from Kazuhiro NISHIYAMA <zn at mbf.nifty.com>\n\t  in [ruby-dev:34853].\n\nMon May 26 16:41:35 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (ntfs_tail): filename which starts with '.' is valid.\n\n\t* file.c (file_expand_path): cygwin symlink support.\n\nMon May 26 07:15:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_dump.c (rb_vm_bugreport): rb_make_backtrace has no arguments.\n\nMon May 26 01:17:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): signal description\n\t  refined.\n\nMon May 26 00:52:52 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* hash.c (env_each_key, env_each_value, env_reject_bang)\n\t  (rb_env_clear, env_replace): Omit duplicated secure level check.\n\nMon May 26 00:37:16 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* hash.c (env_each_value): Do not call env_values() twice.\n\nSun May 25 17:54:36 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_compile): set local_table for\n\t  ISEQ_TYPE_DEFINED_GUARD.\n\nSun May 25 17:52:25 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_build_body): remove side effect from\n\t  VM::InstructionSequence.load.\n\nSun May 25 04:30:45 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_modules.rb (remove_json_mixins): change judgment\n\t  condition.\n\nSun May 25 03:54:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_modules.rb (test_ancestors, test_included_modules):\n\t  ignore json mixins.\n\nSun May 25 02:37:25 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_method.c: renamed from vm_method.c.  \"vm_method.c\" is included\n\t  by \"vm.c\".\n\n\t* vm_eval.c: added.  Some codes are moved from \"eval.c\"\n\n\t* common.mk: fix for above changes.\n\n\t* compile.c: make a vm_eval(0)\n\n\t* eval.c, eval_error.c, eval_intern.h, eval_jump.c, proc.c, vm.c,\n\t  id.c, id.h, vm_core.h, vm_dump.c, vm_evalbody.c, vm_insnhelper.c,\n\t  blockinlining.c: fix for above changes.  and do some refactoring.\n\t  this changes improve rb_yield() performance.\n\nSat May 24 22:32:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): clear errno at the top of our own\n\t  implementation of strtod(3).  [ruby-dev:34834] [ruby-dev:34839]\n\nSat May 24 15:26:16 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_set_exception_table, NODE_WHILE, NODE_NEXT): remove\n\t  special handling that decrements sp in CATCH_TYPE_NEXT for NODE_WHILE.\n\n\t* vm.c (vm_eval_body), vm_insnhelper.c (vm_throw): remove unused code.\n\nSat May 24 08:13:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (rb_str_transcode): argc is 1, and argv is &to.\n\nFri May 23 17:55:11 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_slice_bang): Be consistent with Array#slice()\n\t  and String#slice!().  Just return nil when a negative length or\n\t  out of boundary index is given instead of raising an exception\n\t  via internal functions.\n\nFri May 23 16:44:34 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (Init_Enumerator): Override\n\t  Enumerable::Enumerator#each_with_index with #with_index.\n\nFri May 23 12:23:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (rb_num_t): moved form vm.h.\n\n\t* tool/instruction.rb (RubyVM::Instruction#sp_increase_c_expr),\n\t  tool/instruction.rb (RubyVM::VmBodyGenerator#make_header_operands):\n\t  omit unused variables.\n\nFri May 23 08:47:02 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (exc_equal): == operator should be transitional.\n\t  [ruby-dev:34808]\n\n\t* error.c (syserr_eqq): === should be able to handle delegated\n\t  objects as well.\n\nFri May 23 06:15:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* iseq.c (rb_iseq_compile_with_option): get rid of segv.\n\nFri May 23 02:29:14 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (opt_gt|ge|lt|le): use values directly to compare.\n\nFri May 23 01:15:09 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, eval_intern.h, include/ruby/intern.h, include/ruby/ruby.h,\n\t  vm.c, vm_core.h, vm_insnhelper.c: remove pointless \"const\".\n\nThu May 22 23:45:17 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (get_destination_insn, get_next_insn, get_prev_insn):\n\t  peephole optimization should not ignore ISEQ_ELEMENT_ADJUST.\n\nThu May 22 20:20:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (check_dump_arg, check_load_arg): check if reentered.\n\t  [ruby-dev:34802]\n\nThu May 22 20:14:28 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* iseq.c (iseq_load, iseq_data_to_ary): support\n\t  ISEQ_TYPE_DEFINED_GUARD.\n\nThu May 22 19:01:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (vm_get_ruby_level_cfp): moved from eval_intern.h.\n\n\t* vm.c (sdr, nsdr): define methods only if VMDEBUG is defined.\n\nThu May 22 17:18:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* array.c (rb_ary_compact_bang): fix reallocation size.\n\nThu May 22 15:20:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval_intern.h, vm_core.h, include/ruby/intern.h, include/ruby/ruby.h,\n\t  vm.c: need to add const to prototypes, of course.\n\nThu May 22 13:24:43 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, vm.c, vm_core.h, vm_insnhelper.c: specify \"const\".\n\n\t* vm_opts.h: add a OPT_TOKEN_THREADED_CODE macro.\n\nThu May 22 12:51:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* insns.def (newhash): fix a variable definition: \"const k\".\n\nThu May 22 12:40:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (flatten): check if reentered.  [ruby-dev:34798]\n\nThu May 22 11:39:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): capture stdout and stderr\n\t  of the child process.\n\nThu May 22 08:28:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (flatten): free memo hash table before raising exception.\n\t  [ruby-dev:34789]\n\nThu May 22 06:30:10 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* array.c (flatten): fix memory leak.\n\nThu May 22 06:21:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_str_caseeql): added.\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_enc_find_index): use nkf_str_caseeql.\n\nThu May 22 05:45:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (proc_dup): should copy safe_level from src proc\n\t  properly.  a patch from Keita Yamaguchi\n\t  <keita.yamaguchi at gmail.com>\n\nThu May 22 02:46:08 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: do not use Thread#raise. [ruby-dev:34739]\n\nThu May 22 00:30:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_require.rb: new tests for library requiring, to\n\t  achieve over 90% test coverage of dln.c.\n\n\t* test/ruby/test_class.rb: add tests to achieve over 90% test coverage\n\t  of class.c.\n\n\t* test/ruby/test_module.rb: ditto.\n\nThu May 22 00:15:44 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def, vm_insnhelper.c: specify \"const\".\n\nWed May 21 23:20:21 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_eval.rb: fix syntax.\n\nWed May 21 17:46:17 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_enc_find_index):\n\t  use strcasecmp. [ruby-dev:34787]\n\nWed May 21 16:48:22 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_compact_bang): avoid forceful realloc.\n\nWed May 21 07:42:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_usascii_str_new): use rb_str_new.\n\n\t* string.c (rb_enc_str_new): ditto.\n\n\t* string.c (rb_usascii_str_new2): use rb_str_new2.\n\nWed May 21 07:22:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c, include/ruby/encoding.h\n\t  (rb_enc_associate, rb_enc_associate_index):\n\t  returns obj. [ruby-dev:34778]\n\nWed May 21 04:20:20 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_ascii8bit_encoding): use ENCINDEX_ASCII.\n\n\t* encoding.c, include/ruby/encoding.h (rb_ascii8bit_encindex):\n\t  added.\n\n\t* encoding.c (rb_locale_encoding): use rb_usascii_encoding().\n\nWed May 21 01:45:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_file_exhaustive.rb (setup): workaround for Windows\n\t  Vista.\n\n\t* test/ruby/envutil.rb (rubyexec): now Open3.open3 is supported on\n\t  Windows.\n\n\t* test/ruby/test_process.rb: use ``||'' instead of ``;'' because\n\t  cmd.exe not support it.\n\nWed May 21 01:28:47 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c, include/ruby/encoding.h (rb_str_transcode):\n\t  C API of encoding conversion for Ruby object.\n\t  VALUE rb_str_transcode(VALUE str, VALUE to).\n\n\t* transcode.c (str_encode, str_encode_bang):\n\t  rename from rb_tr_transcode or rb_str_transcode_bang.\n\nTue May 20 23:26:05 2008  Yusuke Endoh\t<mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb: fix tests for 64bit CPU.\n\nTue May 20 20:59:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (rb_nkf_convert) (nkf_enc_without_bom):\n\t  reverted. nkf-utf8/nkf.c should be independent of ruby.\n\n\t* ext/nkf/nkf.c (options):\n\t  moved from nkf-utf8/nkf.c.\n\t  override nkf's original settings for Unicode BOM.\n\nTue May 20 13:20:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_convert), ext/nkf/nkf-utf8/nkf.c\n\t  (nkf_enc_without_bom): BOM is not a part of encodings.\n\n\t* ext/nkf/nkf.c (Init_nkf), ext/nkf/nkf-utf8/nkf.c (options):\n\t  UTF-{16,32} without endian have no sense.\n\nTue May 20 12:13:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options, process_options): --dump option.\n\nTue May 20 11:36:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (PRI[diouxX]VALUE): printf format for VALUE.\n\n\t* gc.c (assign_heap_slot): suppress a warning.\n\nTue May 20 03:42:43 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, vm_insnhelper.c: fix cref in instance_eval\n\t  and cvar_base search protocol.\n\n\t* bootstraptest/test_knownbug.rb, test_eval.rb: move solved test\n\t  and add new tests.\n\n\t* test/ruby/test_eval.rb: fix tests for spec.\n\nTue May 20 01:43:44 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: fix a test.\n\t  \"block_given?\" returns true if \"yield\" can be used.\n\nTue May 20 01:07:19 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* parse.y (assignable_gen): when \"self = 1\" was evaluated, unnecessary\n\t  error message was output, which might cause null pointer access.\n\nTue May 20 08:38:56 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_enc_strlen_cr): need to set ENC_CODERANGE_7BIT if\n\t  search_nonascii() fails.    [ruby-dev:34751]\n\n\t* string.c (rb_str_reverse): preserve coderange info if the\n\t  receiver is 7bit string.\n\n\t* string.c (rb_str_reverse_bang): ditto.\n\n\t* string.c (rb_str_reverse_bang): should have called\n\t  single_byte_optimizable before rb_str_modify() that clears\n\t  coderange info.\n\n\t* string.c (tr_trans): handle single bytes more eagerly.\n\nMon May 19 23:32:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (invoke_block_from_c): fix call flow.\n\nMon May 19 23:19:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* regexec.c (slow_search): check the case when the length is 1.\n\t  The behavior of memcmp is undefined if the third argument is 0.\n\nMon May 19 21:07:48 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.c (native_thread_apply_priority):\n\t  fix argument range check.  [ruby-dev:33124]\n\nMon May 19 18:22:35 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/openssl/ossl_pkcs5.c (ossl_pkcs5_pbkdf2_hmac): Fix the type\n\t  of md; pointed out by Takahiro Kambe <taca at back-street.net>\n\t  in [ruby-dev:34748].\n\nMon May 19 17:23:55 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regparse.c (PINC): use optimized enclen() instead of\n\t  ONIGENC_MBC_ENC_LEN().\n\n\t* regparse.c (PFETCH): ditto.\n\n\t* regparse.c (PFETCH): small optimization.\n\n\t* regexec.c (slow_search): single byte encoding optimization.\n\n\t* regenc.h (enclen): avoid calling function when encoding's\n\t  min_len == max_len.\n\n\t* re.c (rb_reg_regsub): rb_enc_ascget() optimization for single\n\t  byte encoding.\n\n\t* re.c (rb_reg_search): avoid allocating new re_registers if we\n\t  already have MatchData.\n\n\t* re.c (match_init_copy): avoid unnecessary onig_region_free()\n\t  before onig_region_copy.\n\n\t* encoding.c (rb_enc_get_index): remove implicit enc_capable check\n\t  each time.\n\n\t* encoding.c (rb_enc_set_index): ditto.\n\n\t* encoding.c (enc_compatible_p): small refactoring.\n\n\t* include/ruby/encoding.h (rb_enc_dummy_p): inline\n\t  rb_enc_dummy_p() and export related code.\n\nMon May 19 14:32:03 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* version.h: fix strange change by version.h update tool.\n\nMon May 19 14:18:13 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: move solved tests.\n\n\t* bootstraptest/test_eval.rb, test_literal.rb, test_syntax.rb,\n\t  test_thread.rb: ditto.\n\n\t* test/ruby/test_m17n.rb, test_proc.rb, test_sprintf.rb,\n\t  test_string.rb, test/ruby/test_struct.rb: ditto.\n\nMon May 19 13:23:03 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_spawn_internal): set last_status when status == -1\n\t  because there is no path to set it on win32. this patch is derived\n\t  from [ruby-core:16787], submitted by Luis Lavena <luislavena at\n\t  gmail.com>\n\nMon May 19 11:32:47 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, insns.def, eval.c, vm_insnhelper.c: fix CREF handling.\n\t  VM value stack frame of block contains cref information.\n\t (dfp[-1] points CREF)\n\n\t* compile.c, eval_intern.h, eval_method.c, load.c, proc.c,\n\t  vm_dump.h, vm_core.h: ditto.\n\n\t* include/ruby/ruby.h, gc.c: remove T_VALUES because of above\n\t  changes.\n\n\t* bootstraptest/test_eval.rb, test_knownbug.rb: move solved test.\n\nSun May 18 22:26:51 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/filehandler.rb: should normalize path\n\t  name in path_info to prevent script disclosure vulnerability on\n\t  DOSISH filesystems. (fix: CVE-2008-1891)\n\t  Note: NTFS/FAT filesystem should not be published by the platforms\n\t  other than Windows. Pathname interpretation (including short\n\t  filename) is less than perfect.\n\n\t* lib/webrick/httpservlet/abstract.rb\n\t  (WEBrick::HTTPServlet::AbstractServlet#redirect_to_directory_uri):\n\t  should escape the value of Location: header.\n\n\t* lib/webrick/httpservlet/cgi_runner.rb: accept interpreter\n\t  command line arguments.\n\nSun May 18 02:54:46 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* pack.c (pack_pack): check errno to detect error of ruby_strtoul.\n\n\t* pack.c (pack_unpack): ditto.\n\n\t* test/ruby/test_pack.rb: add a test for above.\n\nSat May 17 23:53:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): fix for short file name on Cygwin.\n\nSat May 17 18:03:52 2008  Yuki Sonoda (Yugui) <yugui@yugui.jp>\n\n\t* vm.c (Init_VM): removed the definition of Thread#initialize,\n\t  which is overwritten in Init_Thread and is never used.\n\nSat May 17 14:01:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sort_bang): should not free shared pointer, and set\n\t  shared.  [ruby-dev:34732]\n\nSat May 17 12:34:54 2008  Yuki Sonoda (Yugui) <yugui@yugui.jp>\n\n\t* thread_pthread.c (Init_native_thread): Kernel#.sleep used never to\n\t  sleep on Mac OS X. Reported by arton <artonx AT yahoo.co.jp>.\n\n\t* thread_pthread.c (native_sleep): added error checks.\n\nSat May 17 11:29:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_extname): first dot is not an extension name.\n\nSat May 17 03:21:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_sort_bang): stop memory leak.  [ruby-dev:34726]\n\n\t* re.c (rb_reg_search): need to free allocated buffer in re_register.\n\n\t* regexec.c (onig_region_new): more pedantic malloc check.\n\n\t* regexec.c (onig_region_resize): ditto.\n\n\t* regexec.c (STATE_CHECK_BUFF_INIT): ditto.\n\n\t* regexec.c (onig_region_copy): use onig_region_resize.\n\nFri May 16 12:48:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (to_flo): rb_Float() accepts even strings for input.\n\n\t* complex.c (nucomp_to_f): fix wrong message.\n\n\t* complex.c (nucomp_to_r): ditto.\n\n\t* object.c (rb_Float): do not check NaN for error.  NaN is a part\n\t  of valid float values.\n\nThu May 15 23:36:09 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_string.rb: add tests to achieve over 90% test\n\t  coverage of string.c.\n\n\t* test/ruby/test_m17n.rb: ditto.\n\n\t* test/ruby/test_symbol.rb: ditto.\n\n\t* test/ruby/test_pack.rb: ditto.\n\nThu May 15 23:01:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (tr_find): String#delete returned wrong result when multiple\n\t  utf-8 arguments are passed.\n\n\t* test/ruby/test_m17n.rb (test_delete): add a test for above.\n\nThu May 15 22:37:56 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (ripper_warningS): now used.\n\nThu May 15 15:33:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): support for alternative data stream\n\t  and ignored trailing garbage of NTFS.\n\n\t* file.c (rb_file_s_basename): ditto.\n\n\t* file.c (rb_file_s_extname): ditto.\n\nThu May 15 13:43:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): no need for forceful warning when\n\t  converting to float.  overflow is a nature of float values.\n\n\t* parse.y (parser_yylex): ditto.\n\nThu May 15 13:23:20 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_prepare_enc): error condition was updated for non\n\t  ASCII compatible strings.\n\nThu May 15 12:19:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/openssl/openssl_missing.c (HMAC_CTX_copy): adopted\n\t  prototype change in openssl bundled with newer OpenBSD.\n\t  a patch from Takahiro Kambe <taca at back-street.net> in\n\t  [ruby-dev:34691].\n\nWed May 14 22:09:25 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ChangeLog: fix typo.\n\nWed May 14 21:49:14 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_object.rb: new tests to achieve over 90% test\n\t  coverage of object.c, eval.c and eval_method.c.\n\n\t* test/ruby/test_module.rb: ditto.\n\n\t* test/ruby/test_trace.rb: ditto.\n\n\t* test/ruby/test_integer.rb: ditto.\n\n\t* test/ruby/test_float.rb: ditto.\n\n\t* test/ruby/test_method.rb: ditto.\n\n\t* test/ruby/test_variable.rb: ditto.\n\n\t* test/ruby/test_eval.rb: ditto.\n\n\t* test/ruby/test_exception.rb: ditto.\n\n\t* test/ruby/test_class.rb: ditto.\n\nWed May 14 12:46:37 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (insn_operand_intern): remove Qundef related code.\n\nWed May 14 12:42:36 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_count): Override Enumerable#count for better\n\t  performance.\n\nWed May 14 11:29:06 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def: add a \"putcbase\" instruction.\n\n\t* compile.c, insns.def: fix to use putcbase instruction for\n\t  class search.  Qundef should not be used.\n\nWed May 14 07:49:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): defer calling of rb_frame_self() until it\n\t  become really necessary.\n\n\t* eval.c (rb_call): ditto.\n\nWed May 14 00:55:56 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_io_m17n.rb: remove a duplicative method.\n\n\t* test/ruby/test_utf16.rb: rename a conflicting method name.\n\n\t* test/ruby/test_array.rb: ditto.\n\n\t* test/ruby/test_file_exhaustive.rb: ditto.\n\n\t* test/ruby/test_hash.rb: ditto.\n\n\t* test/ruby/test_env.rb: ditto.\n\n\t* test/ruby/test_fixnum.rb: ditto.\n\n\t* test/ruby/test_rational.rb: ditto.\n\nWed May 14 00:45:58 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* eval_method.c (rb_add_method): fix check for warning when\n\t  Object#initialize is redefined. (same as 1.8)\n\nTue May 13 23:32:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_yield): use rb_yield_values2.\n\n\t* enum.c (DEFINE_ENUMFUNCS): macro to define enumerator and yielding\n\t  functions.\n\n\t* enum.c (enum_all_func, enum_any_func, enum_one_func,\n\t  enum_none_func): reduced duplicate code.\n\nTue May 13 15:09:38 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c: Update rdoc.\n\t  (enumerator_initialize): Discourage the use.\n\t  (enum_each_slice, enum_each_cons, enumerator_each)\n\t  (enumerator_with_index): Add a note about a call without a block.\n\nTue May 13 08:25:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_f_gets): re-enable rdoc.\n\t  (rb_f_readline): ditto.\n\t  (rb_f_readlines): ditto.\n\nTue May 13 07:56:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_cat): fixed buffer overrun reported by\n\t  Christopher Thompson <cthompson at nexopia.com> in [ruby-core:16746]\n\nMon May 12 23:37:57 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm.c (collect_local_variables_in_env): remove unnecessary check\n\t  which causes: x=1;proc{local_variables}.call #=> []\n\n\t* test/ruby/test_variable.rb: add a test for above.\n\nMon May 12 23:05:24 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c, include/ruby/intern.h (rb_run_exec_options): externed.\n\n\t* process.c (save_redirect_fd, save_env_i, save_env, run_exec_dup2,\n\t  run_exec_open, run_exec_pgroup, run_exec_rlimit, rb_run_exec_options):\n\t  save parent's process environments.\n\n\t* process.c (rb_spawn_internal): remove calling run_exec_options()\n\t  because cannot restore after spawn.\n\n\t* io.c (pipe_open): ditto.\n\n\t* test/ruby/test_process.rb (test_execopts_env): upcase environment\n\t  variable name for case insensitive platforms.\n\n\t* win32/win32.c (init_env): set USER environment variable only when\n\t  USERNAME is available.\n\nMon May 12 22:23:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/date.rb (once): use Object#object_id instead of Symbol#to_i.\n\nMon May 12 21:34:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/envutil.rb (rubybin): return expanded rubyexe instead of\n\t  expanded ruby if available.\n\nMon May 12 20:19:55 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (grep_i): Be aware of multiple values;\n\t  fix [ruby-dev:34653].\n\t  (grep_iter_i): Ditto.\n\t  (count_i): Ditto.\n\t  (find_i): Ditto.\n\t  (find_index_i): Ditto.\n\t  (find_all_i): Ditto.\n\t  (reject_i): Ditto.\n\t  (inject_i): Ditto.\n\t  (inject_op_i): Ditto.\n\t  (partition_i): Ditto.\n\t  (group_by_i): Ditto.\n\t  (first_i): Ditto.\n\t  (sort_by_i): Ditto.\n\t  (all_i): Ditto.\n\t  (all_iter_i): Ditto.\n\t  (any_i): Ditto.\n\t  (any_iter_i): Ditto.\n\t  (one_i): Ditto.\n\t  (one_iter_i): Ditto.\n\t  (none_i): Ditto.\n\t  (none_iter_i): Ditto.\n\t  (min_i): Ditto.\n\t  (min_ii): Ditto.\n\t  (max_i): Ditto.\n\t  (max_ii): Ditto.\n\t  (minmax_i): Ditto.\n\t  (minmax_ii): Ditto.\n\t  (min_by_i): Ditto.\n\t  (max_by_i): Ditto.\n\t  (minmax_by_i): Ditto.\n\t  (member_i): Ditto.\n\t  (take_i): Ditto.\n\t  (take_while_i): Ditto.\n\t  (drop_i): Ditto.\n\t  (drop_while_i): Ditto.\n\t  (cycle_i): Ditto.\n\n\t* enum.c (each_with_index): Update rdoc.  each_with_index() takes\n\t  arguments that are passed through to each(), and a hash preserves\n\t  key order.\n\nMon May 12 19:05:24 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_spawn_internal): remove calling run_exec_options()\n\t  because cannot restore after spawn. we'll fix this later.\n\nMon May 12 18:16:44 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_spawn_internal): need to call run_exec_options() before\n\t  spawn if the platform doesn't have fork. [ruby-dev:34647]\n\nMon May 12 15:20:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (ruby_vm_xmalloc): increase malloc_increase only if malloc\n\t  succeeds.  failed malloc size can be huge.  it may increase\n\t  malloc_limit too big which cause less GC and memory full.\n\t  (ruby_vm_xrealloc): ditto.\n\t  (rb_objspace): make params.limit and params.increase size_t.\n\nMon May 12 15:04:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_prepare_re): made non static with small refactoring.\n\n\t* ext/strscan/strscan.c (strscan_do_scan): should adjust encoding\n\t  before regex searching.\n\nMon May 12 13:57:19 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): add NODE_OP_ASGN_{OR,AND}.  \"defined?(a||=1)\"\n\t  should not operate assignment.  [ruby-dev:34645]\n\nMon May 12 13:29:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c (bigzero_p): check from MSB to LSB.  [ruby-dev:34649]\n\nMon May 12 12:32:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (RUBYOPT): affected BASERUBY too.  [ruby-talk:301514]\n\nMon May 12 12:27:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (assign_heap_slot): fix condition for number of objects in\n\t  a heap.\n\nMon May 12 12:24:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_to_i): really removed.  [ruby-dev:34641]\n\nMon May 12 11:15:55 2008  Yuki Sonoda (Yugui) <yugui@yugui.jp>\n\n\t* gc.c (assign_heap_slot):  put the binary search routine in order.\n\nMon May 12 10:52:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (ruby_init_gems), gem_prelude.rb: check if Gem is defined\n\t  instead of Gem::Enable.\n\n\t* gem_prelude.rb (load_full_rubygems_library, const_missing): prevent\n\t  infinite recursion.  [ruby-dev:34539]\n\nSun May 11 23:19:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (all_iter_i, any_iter_i): reduced duplicated code.\n\nSun May 11 22:54:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/runner.rb (main): leave -I options for purelib.rb\n\t  untouched.\n\n\t* bootstraptest/runner.rb (main): handle relative path -r options.\n\nSun May 11 19:04:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_thread.rb: kill and join temporal threads that are\n\t  created in each test.\n\nSun May 11 17:58:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_process.rb (TestProcess#with_stdin): defined.\n\t  (TestProcess#test_argv0_noarg): don't use redirect_fds.\n\t  [ruby-dev:34647]\n\nSun May 11 17:57:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (MINIRUBY): should not include extension library path.\n\nSun May 11 14:40:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (SIZET2NUM): new macro.\n\t  (NUM2SIZET): new macro.\n\n\t* gc.c (struct rb_objspace): use size_t for increment, length and\n\t  used for 64bit.\n\t  (allocate_heaps): ditto.\n\t  (assign_heap_slot): ditto.\n\t  (set_heaps_increment): ditto.\n\t  (gc_mark_all): ditto.\n\t  (is_pointer_to_heap): ditto.\n\t  (free_unused_heaps): ditto.\n\t  (gc_sweep): ditto.\n\t  (os_obj_of): ditto.\n\t  (rb_gc_call_finalizer_at_exit): ditto.\n\t  (count_objects): ditto.\n\nSun May 11 13:14:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* thread.c (thread_cleanup_func_before_exec): extracted from\n\t  thread_cleanup_func not to touch pthread data.\n\t  pthread_cond_destroy in forked process may cause deadlock on\n\t  Debian GNU/Linux Etch on x86, x86-64 and IA64.\n\t  this doesn't cause resource leak because the process will exec soon.\n\t  (terminate_atfork_before_exec_i): defined.\n\t  (rb_thread_atfork_before_exec): defined.\n\n\t* include/ruby/intern.h (rb_thread_atfork_before_exec): declared.\n\n\t* process.c (rb_exec_atfork): call rb_thread_atfork_before_exec\n\t  instead of rb_thread_atfork.\n\n\t* io.c (popen_exec): call rb_thread_atfork_before_exec instead of\n\t  rb_thread_atfork.\n\nSat May 10 22:14:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_trans): single '^' does not mean negation.\n\t  [ruby-dev:34632]\n\n\t* string.c (tr_trans): should check src size, not str size.\n\t  [ruby-dev:34637]\n\n\t* string.c (tr_trans): should not turn on modify flag if no\n\t  modification happens.  [ruby-dev:34631]\n\nSat May 10 18:11:18 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_each_line): zero length record separator should\n\t  split a string into paragraphs.  [ruby-dev:34586]\n\n\t* string.c (rb_str_each_line): RDoc updated.\n\nSat May 10 11:36:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* vm.c (env_mark): mark env->block.self.  prevent SEGV when GC occur\n\t  in prepare_iseq_build with gcc version 3.4.6 [FreeBSD] 20060305 on\n\t  FreeBSD/amd64.\n\nFri May  9 19:16:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (timeofday): use monotonic clock.  based on a patch\n\t  from zimbatm <zimbatm at oree.ch> in [ruby-core:16627].\n\nFri May  9 07:47:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* cont.c (cont_restore_0): dynamic stack direction code should be\n\t  consistent with static one.  [ruby-talk:301152]\n\nFri May  9 00:03:50 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (arg): operator assignment \"a += b rescue c\" should be\n\t  parsed as \"a += (b rescue c)\" just like normal assignment.\n\t  [ruby-talk:301000]\n\nThu May  8 18:14:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_and): bit-wise operation should not take float\n\t  values.  [ruby-dev:34612]\n\n\t* bignum.c (rb_big_or): ditto.\n\n\t* bignum.c (rb_big_xor): ditto.\n\nThu May  8 17:44:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, ext/extmk.rb, lib/mkmf.rb: use absolute path for RUBYOPT.\n\n\t* file.c (rb_find_file_ext): guard load_path from GC.\n\t  gcc version 4.1.2 20061115 (prerelease) (Debian 4.1.1-21) optimizes\n\t  load_path by holding only RARRAY_LEN(load_path) and\n\t  RARRAY_PTR(load_path) in registers on IA64 GNU/Linux Etch.\n\nThu May  8 16:41:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (MINIRUBY), common.mk (RUBYOPT): add purelib.rb.\n\t  [ruby-core:16642]\n\nThu May  8 16:00:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): ! and ? at the bottom are no longer part\n\t  of valid symbol names.  [ruby-dev:34590]\n\nThu May  8 15:36:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* thread.c (rb_gc_save_machine_context): call FLUSH_REGISTER_WINDOWS\n\t  to mark the register stack from GC on another thread.\n\nThu May  8 15:14:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sort_bang): freeze temporary array.\n\nThu May  8 13:19:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (rb_thread_mark): mark stat_insn_usage only when ptr is not\n\t  null.\n\nThu May  8 10:44:04 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (sort_reentered): reentered check may be called from\n\t  Array#sort.\n\nThu May  8 09:51:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (sort_1, sort_2): check for reentered and if elements are\n\t  accessible.  [ruby-core:16679]\n\nThu May  8 06:43:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.c (dln_find_exe_r, dln_find_file_r): reentrant versions.\n\n\t* file.c (rb_find_file_ext, rb_find_file), process.c (proc_exec_v),\n\t  (rb_proc_exec, proc_spawn_v, proc_spawn), ruby.c (process_options):\n\t  use reentrant versions.\n\nThu May  8 06:27:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_key_p): thread local storage stores ID.\n\nThu May  8 01:10:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_trans): should squeeze properly.  [ruby-dev:34587]\n\n\t* string.c (tr_trans): had a bug in treating multi-byte character\n\t  replacement.\n\n\t* string.c (rb_str_delete_bang): need not to do anything for empty\n\t  strings.\n\n\t* test/ruby/test_m17n_comb.rb (TestM17NComb::test_str_delete): add\n\t  test for empty receiver.\n\nWed May  7 20:19:18 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (process_options, ruby_set_argv): set encoding of rb_argv\n\t  after Init_prelude() because cannot load encoding extensions before\n\t  it.\n\nWed May  7 20:00:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (bit_coerce): float should not be a valid operand of\n\t  bitwise operations.  [ruby-dev:34583]\n\nWed May  7 19:35:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (rb_thread_key_p): should always convert symbol to ID.\n\t  [ruby-dev:34588]\n\nWed May  7 19:30:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_divide): float division should floor() before\n\t  rounding into integer.  [ruby-dev:34584]\n\nWed May  7 18:02:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_to_i): remove obsolete method.  preparation for\n\t  symbol GC.\n\n\t* numeric.c (fix_to_sym): ditto.\n\n\t* numeric.c (fix_id2name): ditto.\n\nWed May  7 17:43:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (io_puts_ary): check recursion first.  [ruby-dev:34580]\n\nWed May  7 17:41:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (vm_eval_body): initialize retval.  [ruby-dev:34576]\n\nWed May  7 13:02:56 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_fdiv): flo.fdiv(NaN) should result NaN.\n\n\t* numeric.c (num_quo): renamed and moved from bignum.c.\n\t  [ruby-dev:34582]\n\n\t* bignum.c (rb_big_fdiv): update RDoc description\n\n\t* rational.c (nurat_s_new_m): small refactoring.\n\n\t* bignum.c (rb_big2dbl): no need for forceful warning when\n\t  converting to float.  overflow is a nature of float values.\n\nWed May  7 00:54:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (gzreader_gets): may cause infinite loop.\n\t  a patch from Kouya <kouyataifu4 at gmail.com> in\n\t  [ruby-reference-manual:762].\n\nTue May  6 02:08:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/io/nonblock/test_flush.rb: don't set Thread.abort_on_exception.\n\n\t* test/net/imap/test_imap.rb: ensure disconnecting imap to terminate\n\t  receiver thread.\n\nTue May  6 00:29:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* iseq.c (insn_operand_intern): should handle Qundef embedded in\n\t  operand.  [ruby-core:16656]\n\nTue May  6 00:00:02 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): should call compile_cpath() for\n\t  modules as well.  [ruby-dev:34585]\n\n\t* insns.def (defineclass): add undef handling.\n\nMon May  5 23:49:40 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insns.def (defineclass): was using wrong variable.  [ruby-dev:34592]\n\nMon May  5 20:07:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fflush): IO#flush problem within threads.  a patch from\n\t  <s.wanabe at gmail.com> in [ruby-dev:34595].\n\nMon May  5 19:58:44 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): protect some expression from\n\t  segmentation fault.  a patch from wanabe <s.wanabe at gmail.com>\n\t  in [ruby-dev:34593].\n\nMon May  5 19:49:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_s_def): Struct.new(0) should not SEGV.\n\t  based on the patch from wanabe <s.wanabe at gmail.com> in\n\t  [ruby-dev:34594].\n\n\t* struct.c (make_struct): call to_str on name object.\n\nMon May  5 17:17:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (ruby_cleanup): wrap ruby_finalize_0 by SAVE_ROOT_JMPBUF to\n\t  avoid SEGV by at_exit { Fiber.new{}.resume } on IA64.\n\nMon May  5 12:12:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_slice_bang): should adjust length before making\n\t  sub-array.\n\nMon May  5 11:36:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_dup): should dupe corresponding information.\n\t  [ruby-dev:34581]\n\nMon May  5 11:13:50 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (compile_cpath): use Qundef to denote cbase lookup.\n\n\t* insns.def (defineclass): Qundef is passed for cbase.\n\n\t* insns.def (setconstant): ditto.\n\n\t* vm_insnhelper.c (vm_check_if_namespace): use rb_inspect()\n\t  instead of rb_obj_as_string() for better description.\n\nMon May  5 02:10:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (set_heaps_increment): fix memory allocation strategy by\n\t  determining heaps_inc from heaps_used, not objects_delta.\n\t  (struct rb_objspace): delta removed.  change increment, length and\n\t  used to long for LP64.\n\t  (objects_delta): removed.\n\t  (allocate_heaps): add next_heaps_length argument.\n\t  (init_heap): renamed from add_heap.\n\t  (garbage_collect): use heaps_increment in dont_gc.\n\nSun May  4 21:09:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/getoptlong.rb: use $stderr instead of $deferr.\n\nSun May  4 16:04:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (obj2nsec): fix string argument.\n\nSun May  4 14:29:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (rb_obj_respond_to): check the result of respond_to? method\n\t  by RTEST.\n\nSun May  4 12:57:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_each_line): return original string.\n\nSat May  3 20:57:06 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/envutil.rb (Test::Unit::Assertions#assert_normal_exit):\n\t  new method.\n\nSat May  3 18:10:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_timespec): raise TypeError for nil and other objects\n\t  which has no divmod method.\n\nFri May  2 23:59:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (internal_read_func, internal_write_func): split from\n\t  internal_io_func.\n\nFri May  2 23:55:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* variable.c (rb_define_hooked_variable): guard *var from GC to\n\t  prevent collecting argf under RUBY_DEBUG=gc_stress.\n\nFri May  2 17:29:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_step): call to_int if step is not a numeric\n\t  value.  [ruby-dev:34575]\n\nFri May  2 16:10:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_step): do not forcefully convert steps into\n\t  integers.  [ruby-dev:34571]\n\nFri May  2 14:52:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el: move fontifying code from hook.  a patch from\n\t  Phil Hagelberg <phil at hagelb.org> in [ruby-core:16636].\n\nFri May  2 14:10:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_step): step may be bignum.\n\nFri May  2 13:52:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (Init_Regexp): remove MatchData#select.  [ruby-dev:34563]\n\nThu May  1 23:59:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_divide), numeric.c (fix_divide): check for result\n\t  domain.  [ruby-dev:34559]\n\nThu May  1 23:57:06 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/net/telnet.rb:  This patch from Brian Candler adds a FailEOF mode which\n\t  can be activated to have net/telnet raise EOFError exceptions when the\n\t  remote connection is closed.  The default behavior remains unchanged though.\n\nThu May  1 23:43:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_step): check if step can be converted to an integer.\n\t  [ruby-dev:34558]\n\n\t* range.c (range_step): allow float step bigger than zero but less\n\t  than one.  [ruby-dev:34557]\n\nThu May  1 23:20:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_divide): return an integer for idiv.\n\t  [ruby-dev:34553]\n\nThu May  1 20:47:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_s_create): should access converted hash value.\n\t  [ruby-dev:34555]\n\nThu May  1 20:31:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_parse.rb (TestParse::test_void_expr_stmts_value):\n\t  shut up warning.\n\n\t* rational.c (nurat_to_f): no need for forceful warning when\n\t  converting to float.  overflow is a nature of float values.\n\nThu May  1 16:10:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (env_delete_if): return enumerator if no block given.\n\t  [ruby-dev:34554]\n\nWed Apr 30 21:36:40 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/erb.rb (url_encode): [ruby-dev:34497] ERB::Util#url_encode\n\t  bug fix. Reported by rubikitch.\n\n\t* test/erb/test_erb.rb: ditto\n\nWed Apr 30 20:11:36 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/net/telnet.rb:  Fixing a bug where line endings would not be properly\n\t  escaped when the two character ending was broken up into separate TCP\n\t  packets.  Issue reported and patched by Brian Candler.\n\nWed Apr 30 18:03:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_load_path), vm_core.h (rb_vm_t): moved to VM.\n\n\t* load.c (rb_get_load_path): returns absolute load path.\n\n\t* load.c (load_path_getter): $LOAD_PATH getter.\n\n\t* file.c (rb_find_file_ext, rb_find_file), ruby.c (push_include,\n\t  ruby_init_loadpath): use the accessor.\n\n\t* vm.c (rb_vm_mark): mark load_path.\n\nWed Apr 30 17:47:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_search): use local variable.  a patch from wanabe\n\t  <s.wanabe AT gmail.com> in [ruby-dev:34537].  [ruby-dev:34492]\n\nWed Apr 30 16:10:18 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* eval_intern.h: specify the values of the enumeration constants\n\t  explicitly.  [ruby-dev:34489]\n\nWed Apr 30 12:32:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (check_exec_redirect_fd): prohibit duplex IO.\n\t  (check_exec_fds): record maxhint even if close_others is not\n\t  specified.\n\t  (rb_exec_arg_fixup): renamed from rb_exec_arg_fix.\n\nMon Apr 28 20:24:27 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c (nurat_marshal_load): checks the given\n\t  denominator. [ruby-dev:34536]\n\nMon Apr 28 14:21:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (POSFIXABLE): use FIXNUM_MAX+1 instead of\n\t  FIXNUM_MAX to make it possible to convert to double accurately on\n\t  environments with 64bit VALUE and 64bit double.\n\t  It assumes FLT_RADIX is 2.\n\t  fix RubyForge bug #14102.\n\nMon Apr 28 12:48:57 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_exec_arg_addopt, rb_exec_arg_addopt): now can specify\n\t  close_exec on having no fork environment (but still meaningless).\n\nMon Apr 28 11:11:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (run_exec_options): don't call FIX2INT for nil.\n\nMon Apr 28 11:11:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (method_name): should return symbols instead of strings.\n\t  [ruby-dev:34531]\n\nMon Apr 28 09:02:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_exec_arg_init): declared.\n\t  (rb_exec_arg_addopt): declared.\n\t  (rb_exec_arg_fix): declared.\n\t  (rb_exec_initarg): removed.\n\t  (rb_exec_getargs): removed.\n\t  (rb_exec_initarg2): removed.\n\n\t* io.c (struct popen_arg): make execarg as a pointer.\n\t  (popen_exec): follow popen_arg change.\n\t  (pipe_open): add eargp argument.  extract argc and argv from eargp.\n\t  use rb_exec_arg_addopt to add redirect options.\n\t  (pipe_open_v): set up struct rb_exec_arg.\n\t  (pipe_open_s): set up struct rb_exec_arg.\n\n\t* process.c (rb_exec_arg_addopt): new function extracted from\n\t  check_exec_options_i.\n\t  (check_exec_options_i): use rb_exec_arg_addopt.\n\t  (rb_check_exec_options): opthash is always a hash now.\n\t  (rb_exec_getargs): make it static.\n\t  (rb_exec_fillarg): renamed from rb_exec_initarg2.  don't set up\n\t  redirect_fds.\n\t  (rb_exec_arg_init): new function.\n\t  (rb_exec_arg_fix): new function.\n\t  (rb_f_exec): use rb_exec_arg_init and rb_exec_arg_fix.  use\n\t  rb_exec_arg_addopt to set close_others option.\n\t  (run_exec_options): make close_others by default.\n\t  (rb_spawn_internal): use rb_exec_arg_init and rb_exec_arg_fix.  use\n\t  rb_exec_arg_addopt to set close_others option.\n\nSun Apr 27 18:59:04 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c (nurat_expt): use f_rational_new2. [ruby-dev:34524]\n\nSun Apr 27 15:23:40 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c (gc_count): add a GC.count method.  This method returns\n\t  a GC invoking count.\n\nSun Apr 27 12:20:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (rb_vm_t), gc.c (rb_objspace, rb_newobj), vm.c\n\t  (Init_BareVM): per-VM object space support, which is disabled now.\n\n\t* gc.c (rb_objspace_alloc), vm.c (Init_BareVM): should not use ruby\n\t  malloc here.\n\n\t* gc.c (garbage_collect, etc): performance improvement by passing the\n\t  reference instead of referring the global variable in each functions.\n\nSun Apr 27 08:06:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ruby.c (ruby_set_argv): ARGV should be locale encoding.\n\t  [ruby-list:44861]\n\nSun Apr 27 01:46:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open3.rb (Open3.popen3w): removed.\n\t  (Open3.popen3): notice wait_thr.\n\nSun Apr 27 01:13:05 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc, test/rdoc:  Update to RDoc 2.0.0 r56.\n\nSat Apr 26 21:30:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_hash_dup): declared.\n\n\t* hash.c (rb_hash_dup): new function.\n\n\t* process.c (rb_spawn_internal): don't modify option hash.\n\nSat Apr 26 18:36:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c, signal.c, thread.c, thread_win32.c, include/ruby/intern.h:\n\t  suppress warnings.\n\nSat Apr 26 17:42:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (builtin_types), gc.c (count_objects): added Complex and\n\t  Rational.\n\nSat Apr 26 17:35:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (rb_eNOERROR): renamed.\n\nSat Apr 26 17:30:11 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/ruby.h, gc.c: remove T_BLOCK.\n\n\t* include/ruby/ruby.h: re-number T_xxx.\n\nSat Apr 26 17:31:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_cProcessTms, rb_cProcessStatus): renamed.\n\n\t* error.c (builtin_types), signal.c (siglist), st.c (primes),\n\t  struct.c (ref_func), time.c (months): constified.\n\nSat Apr 26 13:00:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open3.rb: double fork is replaced by spawn with Process.detach.\n\t  (Open3.popen3w): new method to access the thread returned by\n\t  Process.detach.\n\nSat Apr 26 00:47:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (rb_spawn_internal): new function to specify\n\t  default_close_others.\n\t  (rb_spawn): specify default_close_others true.\n\t  (rb_f_system): call rb_spawn_internal with default_close_others as\n\t  false.\n\nSat Apr 26 12:26:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_each): use INT2FIX() for fixnum values.\n\nFri Apr 25 17:56:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (free_unused_heaps): preserve last used heap segment to\n\t  reduce malloc() call.\n\nFri Apr 25 17:54:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (HEAP_SIZE): use smaller heap segment (2K) for more chance\n\t  to be freed.  based on patch from authorNari <authornari at gmail.com>.\n\n\t* gc.c (rb_newobj_from_heap): eventually allocate heap segments.\n\nFri Apr 25 15:35:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_spawn): rb_exec_initarg() returns new argc and argv in\n\t  earg.\n\nFri Apr 25 12:37:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (flatten): returns an instance of same class.\n\t  [ruby-core:16554]\n\nFri Apr 25 10:52:27 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h: define mode_t for umask.\n\n\t* process.c (check_exec_options_i, check_exec_fds, run_exec_options):\n\t  support \"close_others\" only when fork(2) is available.\n\nFri Apr 25 00:16:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c: include sys/stat.h for umask.\n\nThu Apr 24 23:25:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_env_clear): declared.\n\t  (rb_io_mode_modenum): declared.\n\t  (rb_close_before_exec): declared.\n\t  (struct rb_exec_arg): add options and redirect_fds field.\n\t  (rb_check_argv): removed.\n\t  (rb_exec_initarg): declared.\n\t  (rb_exec_getargs): declared.\n\t  (rb_exec_initarg2): declared.\n\t  (rb_fork): add third argument: fds.\n\n\t* io.c (max_file_descriptor): new static variable to record maximum\n\t  file descriptor ruby used.\n\t  (UPDATE_MAXFD): new macro.\n\t  (UPDATE_MAXFD_PIPE): new macro.\n\t  (rb_io_mode_modenum): externed.\n\t  (rb_sysopen): update max_file_descriptor.\n\t  (rb_close_before_exec): new function.\n\t  (popen_exec): redirection removed because it is done by extended\n\t  spawn mechanism.\n\t  (pipe_open): generate a hash for spawn options to specify\n\t  redirections.\n\t  (pipe_open_v): use rb_exec_getargs.\n\t  (pipe_open_s): use rb_exec_getargs.\n\t  (rb_io_initialize): update max_file_descriptor.\n\n\t* process.c (hide_obj): new function.\n\t  (check_exec_redirect_fd): new function.\n\t  (check_exec_redirect): new function.\n\t  (check_exec_options_i): new function.\n\t  (check_exec_fds): new function.\n\t  (rb_check_exec_options): new function.\n\t  (check_exec_env_i): new function.\n\t  (rb_check_exec_env): new function.\n\t  (rb_exec_getargs): new function.\n\t  (rb_exec_initarg2): new function.\n\t  (rb_exec_initarg): new function.\n\t  (rb_f_exec): use rb_exec_initarg.\n\t  (intcmp): new function.\n\t  (run_exec_dup2): new function.\n\t  (run_exec_close): new function.\n\t  (run_exec_open): new function.\n\t  (run_exec_pgroup): new function.\n\t  (run_exec_rlimit): new function.\n\t  (run_exec_options): new function.\n\t  (rb_exec): call run_exec_options.\n\t  (move_fds_to_avoid_crash): new function.\n\t  (pipe_nocrash): new function.\n\t  (rb_fork): use pipe_nocrash to avoid file descriptor conflicts.\n\t  (rb_spawn): use rb_exec_initarg.\n\t  (rlimit_resource_name2int): extracted from rlimit_resource_type.\n\t  (rlimit_type_by_hname): new function.\n\t  (rlimit_type_by_lname): new function.\n\t  (rlimit_resource_type): use rlimit_type_by_hname.\n\t  (proc_daemon): add fds argument for rb_fork.\n\n\t* hash.c (rb_env_clear): renamed from env_clear and externed.\n\n\t[ruby-dev:34086]\n\nThu Apr 24 23:00:58 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_thread.rb: fix typos.\n\n\t* test/ruby/envutil.rb (rubyexec): move Open3.popen3 call into timeout\n\t  block.\n\nThu Apr 24 22:34:52 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_comparable.rb: new tests for Comparable, to achieve\n\t  100% test coverage of compar.c.\n\nThu Apr 24 17:19:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (process_options): set safe_level before loading script.\n\t  [ruby-dev:34421]\n\nThu Apr 24 14:15:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.c (dln_find_1): prior files with extensions to files sans\n\t  extensions.  [ruby-core:16517]\n\nThu Apr 24 00:26:06 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/ri/descriptions.rb: fixed wrong class nestings.\n\nThu Apr 24 00:20:01 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_settracefunc.rb: add a test for set_trace_func.\n\n\t* test/ruby/envutil.rb: move \"rubyexec\" method from test_rubyoptions.rb.\n\n\t* test/ruby/test_rubyoptions.rb: use rubyexec in envutil.rb.\n\n\t* test/ruby/test_thread.rb: add tests to achieve over 90% test coverage\n\t  of thread.c.\n\nWed Apr 23 15:28:52 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/gdbm/test_gdbm.rb (TestGDBM#test_s_open_no_create): failed\n\t  notice moved from comment to assertion message. [ruby-dev:29127]\n\nWed Apr 23 11:49:54 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#each, SortedSet#each, TC_Set#test_each): Return\n\t  an enumerator if no block is given.\n\nWed Apr 23 00:36:03 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/openssl/test_ssl.rb (start_server): add timeout to server.join.\n\nWed Apr 23 00:18:45 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_symbol.rb (TestSymbol#test_to_proc): Improve\n\t  tests of Symbol#to_proc.\n\nTue Apr 22 22:40:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/drb/drb.rb (DRb::DRbServer::check_insecure_method): should\n\t  check method names by symbols, not by strings.  a patch from\n\t  Kazuhiro NISHIYAMA <zn at mbf.nifty.com> in [ruby-dev:34487].\n\nTue Apr 22 22:15:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-{case,label}-indent): up list from\n\t  indentation point.\n\nTue Apr 22 21:09:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (score_table_A0, score_table_F0):\n\t  type of content is unsigned char.\n\n\t* ext/nkf/nkf-utf8/nkf.c (push_broken_buf): 'c' is nkf_char.\n\n\t* ext/nkf/nkf-utf8/nkf.c (push_broken_buf): enc is 0 or pointer.\n\n\t* ext/nkf//nkf.c (options): type of option is unsigned char.\n\nTue Apr 22 20:51:58 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (z_conv): characters must be nkf_char.\n\nTue Apr 22 19:23:05 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_initialize): Remove an undocumented\n\t  feature (passing a block to the constructor) that's broken.\n\t  This is not what I intended.\n\nTue Apr 22 17:54:05 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* vm_core.h (exec_event_hooks): ``inline'' is a type modifier, not\n\t  a type itself.\n\nTue Apr 22 16:24:27 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* string.c (rb_enc_cr_str_buf_cat): do not use C++ comments.\n\nTue Apr 22 16:23:53 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* configure.in: use AC_USE_SYSTEM_EXTENSIONS.\n\nTue Apr 22 16:23:16 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* vm_evalbody.c (DECL_SC_REG): use __asm__ instead.\n\nTue Apr 22 16:18:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_evalbody.c (DECL_SC_REG): typo fixed.\n\nTue Apr 22 15:25:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (struct timespec): needs time.h according to POSIX.\n\nTue Apr 22 13:19:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (rb_thread_stop_timer_thread): should clear\n\t  timer_thread_id after stopping it.\n\nTue Apr 22 13:12:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_join): remove the current thread from the join list\n\t  of the target thread.\n\nTue Apr 22 12:03:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_get_ev_const): search from the base klass if it\n\t  is given.\n\nTue Apr 22 09:58:13 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c: avoid warnings.\n\nTue Apr 22 09:56:51 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (eaccess): workaround for recent msvcrt's behavior.\n\t  [ruby-core:16460]\n\nMon Apr 21 19:08:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_body): call rb_io_check_readable and\n\t  rb_io_check_writable.\n\nMon Apr 21 17:45:27 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/dbm/dbm.c (fdbm_each_value, fdbm_each_key, fdbm_each_pair):\n\t  GDBM#{each,each_pair,each_key,each_value}: Return an enumerator\n\t  if no block is given.\n\n\t* ext/gdbm/gdbm.c (fgdbm_each_value, fgdbm_each_key,\n\t  fgdbm_each_pair): GDBM#{each,each_pair,each_key,each_value}:\n\t  Return an enumerator if no block is given.\n\n\t* ext/openssl/ossl_config.c (ossl_config_each):\n\t  OpenSSL::Config#each: Return an enumerator if no block is given.\n\n\t* ext/readline/readline.c (hist_each): Readline::HISTORY#each:\n\t  Return an enumerator if no block is given.\n\n\t* ext/sdbm/init.c (fsdbm_each_value, fsdbm_each_key,\n\t  fsdbm_each_pair): SDBM#{each,each_pair,each_key,each_value}:\n\t  Return an enumerator if no block is given.\n\n\t* ext/stringio/stringio.c (strio_each_byte, strio_each):\n\t  StringIO#{each,each_line,each_byte}: Return an enumerator if no\n\t  block is given.\n\n\t* ext/stringio/stringio.c (Init_stringio): Add #lines and #bytes,\n\t  which are aliases to #each_line and #each_byte, respectively.\n\n\t* ext/win32ole/win32ole.c (fole_each): WIN32OLE#each: Return an\n\t  enumerator if no block is given.\n\n\t* ext/zlib/zlib.c (rb_gzreader_each_byte, rb_gzreader_each):\n\t  Zlib::GzipReader#{each,each_line,each_byte}: Return an\n\t  enumerator if no block is given.\n\n\t* ext/zlib/zlib.c (Init_zlib): Add Zlib::GzipReader#lines and\n\t  #bytes, which are aliases to #each_line and #each_byte,\n\t  respectively.\n\nMon Apr 21 17:01:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* iseq.c (rb_iseq_compile_with_option): check if src is a string.\n\t  [ruby-core:16453]\n\nMon Apr 21 16:06:47 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_init): preserve the method name in ID.\n\n\t* enumerator.c (enumerator_each): need not to call rb_to_id().\n\n\t* enumerator.c (enumerator_with_index): ditto.\n\nMon Apr 21 11:00:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): capture exception during defined?\n\t  evaluation.  a patch from wanabe <s.wanabe at gmail.com> in\n\t  [ruby-dev:34461].  [ruby-core:16010]\n\nMon Apr 21 10:06:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c: should include <errno.h> to refer errno.\n\nMon Apr 21 09:58:04 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* time.c (rb_strftime): check errno to detect strftime(3)'s error.\n\t  this is workaround for recent version of MSVCRT.\n\t  [ruby-dev:34456]\n\nMon Apr 21 08:54:30 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (ruby_xmalloc): use size_t for malloc argument instead of long.\n\nSun Apr 20 21:00:21 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c, include/ruby/ruby.h: Export rb_cEnumerator.\n\nSun Apr 20 20:47:50 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c: Resolve the method every time an enumeration\n\t  method is run, not once when the enumerator is initialized as it\n\t  was before, so that method_missing() and method (re)definition\n\t  afterwards are both in effect; pointed out in: [ruby-core:16441]\n\nSun Apr 20 15:11:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_rbuf_to_dst): removed.\n\t  (copy_stream_fallback_body): don't bypass write method.\n\t  (copy_stream_body): simplified.\n\nSun Apr 20 15:01:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (struct iseq_compile_data): moved label_no from\n\t  new_label_body().\n\n\t* compile.c (iseq_set_exception_table): allocates catch_table only\n\t  when entries exist.\n\n\t* compile.c (struct iseq_link_element, struct iseq_insn_data): made\n\t  enum for debuggers.\n\nSun Apr 20 14:44:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): fix for splat in when and rescue.\n\t  a patch from wanabe <s.wanabe AT gmail.com> in [ruby-dev:34429].\n\t  [ruby-core:14537]\n\nSun Apr 20 13:55:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_fallback): write directly (bypassing write method)\n\t  if possible.\n\nSun Apr 20 12:49:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_fallback): read directly (bypassing readpartial\n\t  method) if possible.\n\nSun Apr 20 04:45:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_body): use readpartial and write method for\n\t  non-IOs such as StringIO and ARGF.\n\nFri Apr 18 20:57:33 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb: add tests to achieve over 95% test coverage\n\t  of array.c.\n\nFri Apr 18 17:37:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_gc_mark_locations): get rid of underflow.\n\n\t* gc.c (mark_current_machine_context): check if the main thread stack\n\t  position may shrink under the initialized position.  [ruby-core:16436]\n\nThu Apr 17 22:20:52 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* enc/trans/utf_16_32.c (fun_so_to_utf_16be, fun_so_to_utf_16le): add\n\t  parentheses to remove warnings of gcc.\n\n\t* io.c (rb_io_getc): remove unused variables.\n\n\t* compile.c (NODE_NEXT, NODE_REDO): remove unused labels.\n\n\t* ext/nkf/nkf.c (rb_nkf_convert): remove unused variables.\n\n\t* ext/syck/rubyext.c (syck_resolver_initialize,\n\t  syck_resolver_detect_implicit, syck_emitter_emit): remove unused\n\t  variables.\n\nThu Apr 17 20:12:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_rubyoptions.rb (test_search): enable some assertions.\n\n\t* test/ruby/test_rubyoptions.rb: flunk message in win32.\n\nThu Apr 17 16:07:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_rubyoptions.rb (ruby): run in C locale.\n\n\t* test/ruby/test_rubyoptions.rb (test_encoding): --encoding does not\n\t  affect source code.\n\nThu Apr 17 00:45:41 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_process.rb (test_rlimit_nofile): reset RLIMIT_NOFILE\n\t  before exit (for gcov).\n\n\t* test/ruby/test_rubyoptions.rb: new tests for option of ruby\n\t  interpreter, to achieve over 95% test coverage of ruby.c.\n\nWed Apr 16 02:40:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): preludes and parser need to run in safe\n\t  level 0.  [ruby-dev:34407]\n\nWed Apr 16 02:26:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): dln_find_file returns the pointer to a\n\t  static buffer, so should copy it.  [ruby-dev:34409]\n\nTue Apr 15 23:08:46 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/xmlrpc/client.rb: fix cookie handling. [ruby-dev:34403]\n\n\t* test/xmlrpc/test_cookie.rb: add a test for the above fix.\n\nTue Apr 15 19:20:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c: #undef rb_argv moved before #define.\n\nTue Apr 15 18:02:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_argv): replaced with rb_get_argv().\n\t  [ruby-Bugs-19514]\n\nTue Apr 15 17:10:59 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/net/http.rb, lib/net/smtp.rb, lib/net/pop.rb: update\n\t  URLs of Japanese documents.\n\nTue Apr 15 16:45:14 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_symbol.rb (TestSymbol#test_to_proc): add tests.\n\nTue Apr 15 15:38:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-encoding-map): added shift-jis for older\n\t  versions.\n\n\t* misc/ruby-mode.el (ruby-mode-set-encoding):\n\t  coding-system-to-mime-charset is not a standard function.\n\t  [carbon-emacs:795]\n\t  fix for the case that magic comment exists but coding system is\n\t  absent.\n\n\t* misc/ruby-mode.el (ruby-mode): use write-contents-functions or\n\t  write-contents-hooks for older versions.\n\nTue Apr 15 07:21:21 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_div): [ruby-dev:34357]\n\n\t* complex.c (nucomp_abs): use hypot.\n\n\t* complex.c (nucomp_quo): do not force conversion.\n\n\t* test/ruby/test_complex.rb: omitted some meaningless tests.\n\nMon Apr 14 23:25:50 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_objectspace.rb: add a test for\n\t  ObjectSpace.count_objects.\n\nMon Apr 14 22:44:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (SET_EXTERNAL_ENCODING): avoid call rb_enc_check() on\n\t  half-baked result string.\n\n\t* re.c (rb_reg_search): make search reentrant.  [ruby-dev:34223]\n\n\t* test/ruby/test_parse.rb (TestParse::test_global_variable):\n\t  should preserve $& variable.\n\nMon Apr 14 17:23:27 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* hash.c (rb_hash_delete_if, rb_hash_reject_bang, env_delete_if,\n\t  env_reject_bang): Return an enumerator if no block is given.\n\nMon Apr 14 14:33:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c, compile.h (compile_debug): made runtime option.\n\n\t* debug.c (ruby_debug_print_indent): returns if debug_level exceeds\n\t  the threshold.\n\n\t* debug.c (ruby_debug_printf): printf to stderr.\n\n\t* iseq.c (make_compile_option, make_compile_option_value): added\n\t  debug_level option.\n\n\t* vm_core.h (rb_compile_option_t): added debug_level.\n\n\t* vm_core.h (struct iseq_compile_data): added node_level.\n\nMon Apr 14 12:52:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (Init_stack): use ruby_init_stack.  [ruby-dev:34350]\n\n\t* gc.c (rb_objspace_t): packed globals.  [ruby-dev:34348]\n\n\t* gc.c (finalizers): removed.  [ruby-dev:34349]\n\nMon Apr 14 11:30:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (ary_new): new integer overflow check condition.\n\t  suggested by TOYOFUKU Chikanobu <nobu_toyofuku at nifty.com> in\n\t  [ruby-dev:34156].\n\n\t* array.c (rb_ary_initialize): ditto.\n\nMon Apr 14 00:51:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_parse.rb: add tests to achieve over 95% test coverage\n\t  of parse.y.\n\nSun Apr 13 23:53:58 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (enum_cycle): Make Enumerable#cycle do a finite loop when\n\t  the number of cycles is specified.\n\n\t* array.c (rb_ary_cycle): Ditto for Array#cycle.\n\nSun Apr 13 18:52:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread_pthread.c (lock_func): should not check interrupts in\n\t  blocking region.  [ruby-dev:34378]\n\nSat Apr 12 12:41:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_exec_node, ruby_run_node), ruby.c (process_options):\n\t  use iseq instead of NODE.\n\n\t* gc.c (source_filenames): removed.\n\n\t* include/ruby/intern.h, parse.y (yycompile, parser_mark, parser_free,\n\t  ripper_initialize): rb_source_filename() is no longer used.\n\n\t* compile.c, compile.h (ERROR_ARGS), parse.y (node_newnode, fixpos,\n\t  parser_warn, e_option_supplied, warn_unless_e_option, range_op,\n\t  cond0): nd_file is no longer used.\n\nSat Apr 12 12:17:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* prelude.rb (require_relative): move require_relative from\n\t  lib/require_relative.rb.  [ruby-core:16356]\n\n\t* lib/require_relative.rb: removed.\n\nSat Apr 12 05:55:57 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*, test/rubygems*:  Update to RubyGems 1.1.1 r1701.\n\nSat Apr 12 03:13:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): set external encoding.\n\n\t* file.c (rb_file_s_basename, rb_file_s_dirname, rb_file_s_extname):\n\t  copy encoding.\n\nFri Apr 11 17:35:06 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (count_i): modified to shut warning up.\n\nFri Apr 11 17:25:09 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (count_i, count_iter_i, enum_count, enum_find_index):\n\t  Reduce code.\n\nFri Apr 11 17:06:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (find_index_i): modified to shut warning up.\n\n\t* enum.c (find_index_iter_i): ditto.\n\nFri Apr 11 16:44:43 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (enum_find_index): Add support for find_index(obj);\n\t  [ruby-dev:34313].\n\n\t* array.c (rb_ary_index): Define find_index as an alias to index.\n\nFri Apr 11 16:42:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/yaml/store.rb (YAML::load): modified to support empty\n\t  database.\n\nFri Apr 11 08:05:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): add volatile to avoid potential GC bug.  a\n\t  patch from Tomoyuki Chikanaga <chikanag at nippon-control-system.co.jp>\n\t  in [ruby-dev:34312].\n\nThu Apr 10 23:08:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/pstore.rb (PStore::dump, PStore::load): allow subclass\n\t  overriding.  [ruby-dev:34305]\n\n\t* lib/yaml/store.rb (YAML::Store::marshal_dump_supports_canonical_option?):\n\t  add a method to support faster PStore.\n\nThu Apr 10 20:36:45 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* misc/rdebug.el, misc/README: Remove rdebug.el as per request\n\t  from the maintainer and mention the ruby-debug project at\n\t  RubyForge in README; bug#19043.\n\nThu Apr 10 19:41:00 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* eval.c (rb_f_loop): Mention StopIteration in the document.\n\nThu Apr 10 19:23:55 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_pop_m, rb_ary_shift_m): Update documents for\n\t  #pop() and #shift().\n\n\t* array.c (rb_ary_slice_bang): Update document.  Assigning\n\t  array[*args]= nil no longer removes elements.\n\nThu Apr 10 16:58:44 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (w_object): TYPE_USERDEF assigns id for ivars first.\n\t  [ruby-dev:34159] by nagachika.\n\nThu Apr 10 15:03:47 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/generator.rb: removed obsolete library.  [ruby-core:16233]\n\n\t* test/test_generator.rb: removed as well.  [ruby-dev:34306]\n\n\t* lib/pstore.rb: replaced by Hongli Lai's faster version.\n\nThu Apr 10 10:27:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread_pthread.c (native_sleep): sleep_cond is initialized at\n\t  creation.  [ruby-Patches-19361].\n\nWed Apr  9 14:43:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (lock_func): optimized and checks for interrupt_flag.\n\t  based on a patch from Sylvain Joyeux in [ruby-Patches-19361] and\n\t  [ruby-Patches-19362].\n\nWed Apr  9 12:12:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_thread.rb: new tests from Sylvain Joyeux in\n\t  [ruby-Patches-19361].\n\nTue Apr  8 21:36:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_mutex_sleep): ensures to re-acquire at waking up.\n\t  [ruby-Patches-19361]\n\nTue Apr  8 11:00:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/complex.rb: remove Math first before overwriting by CMath.\n\nTue Apr  8 10:34:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* load.c (rb_require_safe): should check fname path after $SAFE is\n\t  properly set.  [ruby-dev:34268]\n\n\t* re.c (rb_reg_quote): should always copy the quoting string.\n\t  [ruby-core:16235]\n\nTue Apr  8 10:30:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (prelude.c): depends on enc/prelude.rb.\n\n\t* enc/prelude.rb: fixed initial library names.\n\nTue Apr  8 03:39:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_provided): check expanded path for relative path\n\t  features, loading or loaded features are already expanded in 1.9.\n\n\t* variable.c (rb_autoload_load): no needs to check if provided before\n\t  rb_require_safe.  [ruby-dev:34266]\n\nMon Apr  7 22:41:21 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* numeric.c: cancelled recent changes (except to remove rdiv).\n\n\t* bignum.c: ditto.\n\n\t* bignum.c: added rb_big_idiv.\n\nMon Apr  7 15:51:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_init_db): moved to enc/encdb.c.\n\n\t* transcode.c (init_transcoder_table): moved to enc/trans/transdb.c.\n\n\t* enc/depend (enc/encdb.o enc/trans/transdb.o): depend on\n\t  corresponding headers.\n\n\t* common.mk (COMMONOBJS): moved transcode.o from OBJS\n\nMon Apr  7 12:26:32 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: add a known-bug.\n\nMon Apr  7 12:15:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_each_func): should not leave a variable\n\t  uninitialized, which could cause SEGV.\n\n\t* range.c (range_step): removed duplicated and unreachable code.\n\nMon Apr  7 02:12:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): need not to check if tainted.\n\t  [ruby-dev:34219]\n\nSun Apr  6 09:45:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (dir_tell): check if closed.  [ruby-core:16223]\n\nSat Apr  5 23:17:20 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/cmath.rb: new.\n\n\t* lib/complex.rb: depends lib/cmath.rb.\n\n\t* lib/rational.rb: added rdiv.\n\n\t* complex.c: removed some math functions.\n\nSat Apr  5 05:50:57 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Fix uninitialized variable warnings.\n\n\t* lib/rdoc/generator/html.rb: ditto.\n\n\t* lib/rdoc/options.rb: Fix shadowed variable warning.\n\n\t* lib/webrick/httprequest.rb: Fix redefined method warning.\n\nSat Apr  5 02:13:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_cmpint): moved from compar.c, to check bignum\n\t  zero.\n\nFri Apr  4 23:24:06 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_memsearch_qs): wrong boundary condition.\n\n\t* re.c (rb_memsearch_qs_utf8): ditto.\n\nFri Apr  4 14:11:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_memsearch_qs): wrong boundary condition.  a patch from\n\t  wanabe <s.wanabe AT gmail.com> in [ruby-dev:34248].\n\nFri Apr  4 05:57:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/pop.rb (Net::POP3::do_finish): clear @n_mails and\n\t  @n_bytes as well.  [ruby-core:16144]\n\nFri Apr  4 01:59:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_step): add step for each iteration if begin and\n\t  end are numeric.  [ruby-core:15990]\n\nFri Apr  4 00:42:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (Init_Bignum): rdiv method removed.  [ruby-dev:34242]\n\n\t* complex.c (nucomp_quo): ditto.\n\n\t* numeric.c (num_rdiv): ditto.\n\n\t* rational.c (nurat_div): ditto.\n\n\t* complex.c (nucomp_fdiv): fdiv implementation restored.\n\n\t* numeric.c (num_quo): RDoc updated.\n\nThu Apr  3 21:51:45 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_int_check): function for DRY real check.\n\n\t* complex.c (nucomp_{add,sub,mul,div,expt}): use rb_num_coerce_bin().\n\nThu Apr  3 19:59:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (defineclass): check if cbase is a class or a module.\n\t  [ruby-core:16118]\n\nThu Apr  3 14:42:11 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (INSNS): add insns_info.inc.\n\n\t* common.mk (INSNS): make incs separately for nmake.\n\nThu Apr  3 13:20:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (endb.h, transdb.h, prelude.c): depend on $(PREP) and\n\t  check if really changed.  [ruby-core:16102]\n\n\t* Makefile.in, common.mk, configure.in, {win32,bcc32}/Makefile.sub\n\t  (MINIOBJS, ARCHMINIOBJS): separated.\n\nThu Apr  3 09:00:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_set_sequence, iseq_insns_unification,\n\t  insn_data_to_s_detail): constified.\n\n\t* iseq.c (insn_operand_intern, ruby_iseq_disasm_insn): ditto.\n\n\t* template/{insns_info,opt_sc,optunifs}.inc.tmpl: ditto.\n\n\t* tool/instruction.rb (OptUnifsIncGenerator): ditto.\n\nThu Apr  3 08:46:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_include): add RDoc to describe that comparison\n\t  for numeric is done according magnitude of values.\n\t  [ruby-core:15907]\n\nWed Apr  2 22:29:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* rational.c (nurat_int_check): function for DRY integer check.\n\n\t* numeric.c (num_rdiv): should always return rational number.\n\n\t* rational.c (nurat_add, nurat_sub, nurat_mul, nurat_fdiv,\n\t  nurat_cmp): use rb_num_coerce_bin().\n\n\t* rational.c (nurat_division): does / and rdiv.\n\n\t* .gdbinit (rp): no longer use rb_p().\n\nWed Apr  2 06:52:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* .gdbinit (rp): supports rational and complex numbers.  it's\n\t  cheating since it uses rb_p().\n\nWed Apr  2 06:24:06 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/node.h: add new constants for rb_call()'s scope.\n\n\t* eval.c (iterate_method): use CALL_* scope constant to specify\n\t  proper scope value.\n\n\t* eval.c (rb_each, rb_apply, rb_funcall, rb_funcall2, rb_funcall3):\n\t  ditto.\n\nTue Apr  1 21:19:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* rational.c: need to include <float.h> just once.\n\nTue Apr  1 16:40:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (big2dbl): more precise conversion at edge cases.\n\t  [ruby-dev:34195]\n\nTue Apr  1 14:43:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: get rid of empty expansion.\n\n\t* configure.in: _setjmp is available but _longjmp is not on mingw.\n\nTue Apr  1 09:41:22 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile (config.h): need to define RUBY_SETJMP, etc.\n\nTue Apr  1 07:31:58 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems* test/rubygems*: Import RubyGems 1.1.0.\n\nTue Apr  1 03:20:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_SETJMP, RUBY_LONGJMP, RUBY_JMP_BUF): prefers\n\t  _setjmp over setjmp and sigsetjmp.  [ruby-core:16023]\n\t  __builtin_setjmp cannot handle a variable.\n\n\t* configure.in (--with-setjmp-type): new option to override the\n\t  default rule in the above.\n\n\t* eval_intern.h (ruby_setjmp, ruby_longjmp), gc.c (rb_setjmp),\n\t  vm_core.h (rb_jmpbuf_t): use RUBY_SETJMP, RUBY_LONGJMP and\n\t  RUBY_JMP_BUF.\n\nTue Apr  1 01:55:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/resolv.rb (Resolv::Config.default_config_hash): requires\n\t  win32/resolv to use Win32::Resolv.  [ruby-dev:34138]\n\nTue Apr  1 01:40:58 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: adopted the ruby's style.\n\n\t* rational.c: ditto.\n\nTue Apr  1 00:17:35 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c: revert.\n\nMon Mar 31 18:57:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub (config.h): define ssize_t.\n\n\t* io.c (copy_stream_body): some platform don't have O_NOCTTY.\n\nMon Mar 31 18:42:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check for ssize_t.  [ruby-dev:34184]\n\nMon Mar 31 14:45:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (num_quo): should convert its operand to Rational.\n\n\t* rational.c (string_to_r_strict): should raise TypeError.\n\n\t* bignum.c (Init_Bignum): should not redefine Bignum#div.\n\t  Numeric#div will do.  [ruby-dev:34066]\n\nMon Mar 31 04:05:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (io_getc): set coderange while getting characters.\n\nSun Mar 30 23:16:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (proc_dup): should copy is_lambda attribute as well.\n\t  [ruby-talk:296244]\n\nSun Mar 30 15:33:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c: IO.copy_stream implemented.  [ruby-dev:33843]\n\n\t* thread.c (rb_fd_select): new function.\n\n\t* configure.in (sys/sendfile.h): check the header file.\n\t  (sendfile): check the function.\n\t  (pread): check the function.\n\nSat Mar 29 14:18:41 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/*: full update Ruby/Tk to support Ruby(1.9|1.8) and Tc/Tk8.5.\n\n\t* ext/tk/lib/tkextlib/tile.rb: [incompatible] remove TileWidgets'\n\t  instate/state/identify method to avoid the conflict with standard\n\t  widget options. Those methods are renamed to ttk_instate/ttk_state/\n\t  ttk_identify (tile_instate/tile_state/tile_identify are available\n\t  too). Although I don't recommend, if you really need old methods,\n\t  please define \"Tk::USE_OBSOLETE_TILE_STATE_METHOD = true\" before\n\t  \"require 'tkextlib/tile'\".\n\n\t* ext/tk/lib/tkextlib/tile.rb: \"Tk::Tile::__Import_Tile_Widgets__!\"\n\t  is obsolete. It outputs warning. To control default widget set,\n\t  use \"Tk.default_widget_set = :Ttk\".\n\n\t* ext/tk/lib/tk.rb: __IGNORE_UNKNOWN_CONFIGURE_OPTION__ method and\n\t  __set_IGNORE_UNKNOWN_CONFIGURE_OPTION__!(mode) method are defined\n\t  as module methods of TkConfigMethod. It may help users to wrap old\n\t  Ruby/Tk scripts (use standard widgets) to force to use Ttk widgets.\n\t  Ttk widgets don't have some options of standard widgets which are\n\t  control the view of widgets. When set ignore-mode true, configure\n\t  method tries to ignore such unknown options with no exception.\n\t  Of course, it may raise other troubles on the GUI design.\n\t  So, those are a little danger methods.\n\n\t* ext/tk/lib/tk/itemconfig.rb: __IGNORE_UNKNOWN_CONFIGURE_OPTION__\n\t  method and __set_IGNORE_UNKNOWN_CONFIGURE_OPTION__!(mode) method\n\t  are defined as module methods of TkItemConfigMethod as the same\n\t  purpose as TkConfigMethod's ones.\n\n\t* ext/tk/sample/ttk_wrapper.rb: A new example. This is a tool for\n\t  wrapping old Ruby/Tk scripts (which use standard widgets) to use\n\t  Ttk (Tile) widgets as default.\n\n\t* ext/tk/sample/tkextlib/tile/demo.rb: use ttk_instate/ttk_state\n\t  method instead of instate/state method.\n\n\t* ext/tk/lib/tk/root, ext/tk/lib/tk/namespace.rb,\n\t  ext/tk/lib/tk/text.rb, ext/tk/lib/tkextlib/*: some 'instance_eval's\n\t  are replaced to \"instance_exec(self)\".\n\n\t* ext/tk/lib/tk/event.rb: bug fix on KEY_TBL and PROC_TBL (?x is not\n\t  a character code on Ruby1.9).\n\n\t* ext/tk/lib/tk/variable.rb: support new style of operation argument\n\t  on Tcl/Tk's 'trace' command for variables.\n\n\t* ext/tk/sample/demos-jp/widget, ext/tk/sample/demos-en/widget: bug fix\n\n\t* ext/tk/sample/demos-jp/textpeer.rb,\n\t  ext/tk/sample/demos-en/textpeer.rb: new widget demo.\n\n\t* ext/tk/tcltklib.c: decrease SEGV troubles (probably)\n\n\t* ext/tk/lib/tk.rb: remove Thread.critical access if Ruby1.9\n\n\t* ext/tk/lib/tk/multi-tk.rb: support Ruby1.9 (probably)\n\n\t* ext/tk/lib/tkextlib/tile.rb: add method to define Tcl/Tk command\n\t  to make Tcl/Tk theme sources (based on different version of Tile\n\t  extension) available.\n\t  (Tk::Tile::__define_LoadImages_proc_for_compatibility__)\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/wm.rb: support dockable frames\n\t  (Tcl/Tk8.5 feature). 'wm' command can treat many kinds of widgets\n\t  as toplevel widgets.\n\n\t* ext/tk/lib/tkextlib/tile/style.rb: ditto.\n\t  (Tk::Tile::Style.__define_wrapper_proc_for_compatibility__)\n\n\t* ext/tk/lib/tk/font.rb: add actual_hash and metrics_hash to get\n\t  properties as a hash. metrics_hash method returns a boolean value\n\t  for 'fixed' option. But metrics method returns numeric value\n\t  (0 or 1) for 'fixed' option, because of backward compatibility.\n\n\t* ext/tk/lib/tk/timer.rb: sometimes fail to set callback procedure.\n\n\t* ext/tk/lib/tk.rb: add Tk.sleep and Tk.wakeup method. Tk.sleep\n\t  doesn't block the eventloop. It will be better to use the method\n\t  in event callbacks.\n\n\t* ext/tk/sample/tksleep_sample.rb: sample script about Tk.sleep.\n\nThu Mar 27 20:44:22 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (f_lcm): removed.\n\n\t* rational.c (rb_lcm, rb_gcdlcm): added.\n\n\t* lib/complex.rb (gcd, lcm, gcdlcm): removed.\n\n\t* lib/rational.rb (gcd, lcm, gcdlcm): ditto.\n\nWed Mar 26 18:11:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_mod_constants): rdoc updated.  a patch from\n\t  Florian Gilcher <flo AT andersground.net> in [ruby-core:16009].\n\nWed Mar 26 00:55:28 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_rand.rb: add tests to achieve over 95% test coverage\n\t  of random.c.\n\nWed Mar 26 00:28:55 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_rational.rb: add tests to achieve over 90% test\n\t  coverage of rational.c.\n\n\t* test/ruby/test_complex.rb: ditto for complex.c.\n\nTue Mar 25 19:34:05 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bootstraptest/test_knownbug.rb: add tests.  [ruby-dev:34128]\n\nTue Mar 25 19:09:04 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (ary_new): fix size check.  [ruby-dev:34123]\n\n\t* array.c (rb_ary_take, rb_ary_drop): check negative size and use\n\t  NUM2LONG instead of FIX2LONG.  [ruby-dev:34123]\n\n\t* enum.c (enum_take, enum_drop): check negative size.\n\n\t* test/ruby/test_array.rb: add tests for above.\n\nTue Mar 25 16:32:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): checks if the word is empty.\n\n\t* ruby.c (process_options): typo fixed.  [ruby-dev:34122]\n\nTue Mar 25 15:26:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (defined_expr): false short-circuit destination label may\n\t  be needed.  [ruby-talk:295296]\n\n\t* compile.c (iseq_compile_each): put nil if false short-circuit is\n\t  created.\n\n\t* compile.c (compile_massign_opt): no need to use alloca.\n\nMon Mar 24 19:23:52 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* parse.y (debug_lines): Always prepare a new array for each\n\t  file's SCRIPT_LINES__ storage, instead of appending source lines\n\t  every time a file is re-loaded; submitted by Rocky Bernstein in\n\t  #18517.\n\nMon Mar 24 10:25:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: sitearch should use target_cpu.  [ruby-core:15986]\n\nSun Mar 23 02:51:57 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (rlimit_resource_value): use NUM2RLIM.\n\nSun Mar 23 02:28:01 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: fixed. [ruby-dev:34109]\n\n\t* rational.c: ditto.\n\nFri Mar 21 21:32:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_f_gets, rb_f_readline, rb_f_readlines): delegates to ARGF\n\t  as well as puts and putc.  [ruby-dev:34100]\n\nFri Mar 21 21:26:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/resolv.rb (Resolv::Hosts): should not use win32/resolv on cygwin.\n\t  [ruby-dev:29945], [ruby-dev:34095]\n\n\t* lib/win32/registry.rb (Win32::Registry.expand_environ): try upcased\n\t  name too for cygwin.  [ruby-dev:29945]\n\n\t* lib/win32/resolv.rb (Win32::Resolv.get_hosts_path): use expand_path.\n\nFri Mar 21 21:10:00 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/ipaddr.rb: Say that I am the current maintainer.\n\n\t* lib/set.rb: Ditto.\n\n\t* lib/shellwords.rb: Ditto.\n\n\t* ext/syslog/syslog.txt: Ditto.\n\nFri Mar 21 09:24:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (open_for_install): write block result and rewrite only\n\t  if changed from existing file.\n\nFri Mar 21 08:29:33 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c (nurat_to_f): rearrangement.\n\nFri Mar 21 06:44:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* rational.c (nurat_to_f): C99.\n\nFri Mar 21 01:40:27 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* complex.c (nucomp_sub, nucomp_expt): call corresponding functions.\n\nFri Mar 21 01:21:43 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* missing/tgamma.c: include config.h before math.h.  [ruby-dev:34075]\n\nThu Mar 20 21:46:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_getline): use receiver.\n\nThu Mar 20 21:20:19 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c: some improvements (include Shin-ichiro HARA's\n\t  effort).\n\n\t* complex.c: some improvements.\n\n\t* test/ruby/test_rational2.rb: new.\n\nThu Mar 20 00:21:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_initialize_copy): get rid of segfault.\n\n\t* io.c (argf_tell, argf_seek_m, argf_set_pos, argf_rewind,\n\t  argf_fileno, argf_to_io, argf_eofl, argf_getc, argf_getbyte,\n\t  argf_readchar, argf_readbyte, argf_each_line): use receiver.\n\nWed Mar 19 23:52:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_putc, rb_io_puts): output directly if the receiver is\n\t  rb_stdout to get rid of infinite recursion.  [ruby-dev:34059]\n\nWed Mar 19 22:27:41 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c: added rb_gcd.\n\n\t* complex.c: use rb_gcd.\n\nWed Mar 19 18:37:00 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: revert.\n\n\t* rational.c: revert.\n\nWed Mar 19 17:31:20 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_intern.h (TH_EXEC_TAG): need not to FLUSH_REGISTER_WINDOWS.\n\t  [ruby-core:15871], [ruby-dev:34088]\n\nWed Mar 19 14:53:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* complex.c (nucomp_to_s, nucomp_inspect): get rid of making\n\t  unnecessary intermediate objects.\n\n\t* complex.c (make_patterns, string_to_c): do not treat successive\n\t  underscores as a part of numeric like as literals.  [ruby-dev:34085]\n\n\t* rational.c (make_patterns, string_to_r): ditto.\n\nWed Mar 19 14:36:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_cstr_to_inum): treat successive underscores as\n\t  nondigit.  [ruby-dev:34089]\n\nWed Mar 19 14:08:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_check_encoding): should not load autoloaded encoding\n\t  directly, instead use rb_enc_find_index() which deal with alias and\n\t  replica.  [ruby-core:15957]\n\nWed Mar 19 11:49:47 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* regint.h (include): include ruby.h instead of defines.h and config.h.\n\nWed Mar 19 10:17:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regint.h (CHECK_INTERRUPT_IN_MATCH_AT): add interrupt check\n\t  during match.  [ruby-talk:295002]\n\nTue Mar 18 16:24:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (literal_concat_gen): bail out at different encoding.\n\nTue Mar 18 04:00:27 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_memsearch_ss): simple shift search.\n\n\t* re.c (rb_memsearch_qs): quick search.\n\n\t* re.c (rb_memsearch_qs_utf8): quick search for UTF-8 string.\n\n\t* re.c (rb_memsearch_qs_utf8_hash): hash functions for above.\n\n\t* re.c (rb_memsearch): use above functions.\n\n\t* string.c (rb_str_index): give enc to rb_memsearch.\n\n\t* include/ruby/intern.h (rb_memsearch): move to encoding.h.\n\n\t* include/ruby/encoding.h (rb_memsearch): move from intern.h.\n\n\t* common.mk (PREP): add dependency.\n\nMon Mar 17 22:23:54 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_take, rb_ary_take_while, rb_ary_drop,\n\t  rb_ary_drop_while): new methods. [ruby-dev:34067]\n\n\t* test/ruby/test_array.rb: add tests for above.\n\nMon Mar 17 17:11:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-mode): should use `run-mode-hooks' instead\n\t  of calling `run-hooks' directly to run the mode hook.  patch from\n\t  Chiyuan Zhang <pluskid AT gmail.com> in [ruby-core:15915]\n\nMon Mar 17 16:41:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: unset GREP_OPTIONS.  [ruby-core:15918]\n\nSun Mar 16 18:07:07 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/utf_16_32.c: bug fix (some invalid UTF-8 sequences\n\t  were legal)\n\n\t* test/ruby/test_transcode.rb: test for above bug\n\nSun Mar 16 17:28:07 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk (LIBRUBY_SO): add dependency to $(BUILTIN_ENCOBJS).\n\nSun Mar 16 08:51:41 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* include/ruby/intern.h: added some declarations.\n\n\t* include/ruby/ruby.h: ditto.\n\n\t* common.mk: added some entries.\n\n\t* configure.in: added a check for signbit.\n\n\t* lib/complex.rb: nearly all of core definitions have been removed.\n\n\t* lib/rational.rb: ditto.\n\n\t* lib/mathn.rb: some trivial adjustments.\n\n\t* complex.c: new.\n\n\t* rational.c: ditto.\n\n\t* numeric.c (flo_{quo,rdiv}, fix_fdiv): added.\n\n\t* numeric.c ({num,int}_{numerator,denominator}): ditto.\n\n\t* bignum.c (rb_big_fdiv): ditto.\n\n\t* numeric.c (fix_{quo,pow}): now may yield rational number.\n\n\t* bignum.c (rb_big_{quo,pow}): ditto.\n\n\t* numeric.c (rb_{int,flo}_induced_from): now can accept rational.\n\n\t* gc.c (gc_mark_children, obj_free): now detects complex and rational.\n\n\t* inits.c (rb_call_inits): now calls Init_{Complex,Rational}.\n\n\t* test/ruby/test_complex.rb: new.\n\n\t* test/ruby/test_rational.rb: ditto.\n\nSat Mar 15 17:48:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_enc_associate_index): pass unnecessary enc_capable().\n\n\t* string.c (rb_str_cmp): reduce invocation of rb_enc_compatible().\n\nFri Mar 14 17:04:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (inttypes.h): includes always if available.\n\n\t* string.c, ext/digest/defs.h: moved inttypes.h to ruby.h.\n\nFri Mar 14 16:59:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_LIB_PREFIX): fix for prefix.\n\nFri Mar 14 16:35:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie::initialize): performance patch from\n\t  Makoto Kuwata <kwa@kuwata-lab.com> in [ruby-dev:34048].\n\nFri Mar 14 15:49:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_LIB_PREFIX): use libdir.\n\nFri Mar 14 14:24:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/digest/defs.h: inttypes.h is still needed.\n\nFri Mar 14 11:34:12 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub: follow below changes.\n\nFri Mar 14 11:24:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-encoding-map, ruby-use-encoding-map): added\n\t  to customize.\n\nFri Mar 14 10:37:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* configure.in (int8_t, uint8_t,  int16_t,  uint16_t int32_t,\n\t  uint32_t int64_t, uint64_t, int128_t, uint128_t,\n\t  intptr_t, uintptr_t): check if defined.\n\n\t* win32/Makefile.sub: follow configure.in.\n\n\t* ext/digest/defs.h: remove checks for uint8_t, uint32_t and uint64_t.\n\nFri Mar 14 10:12:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_CHECK_VARTYPE): should not indent preprocessor\n\t  directives.\n\nFri Mar 14 10:03:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (UNALIGNED_WORD_ACCESS): IA64 cannot access unaligned word.\n\nThu Mar 13 21:00:50 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_slice_bang): should not use rb_ary_subseq()\n\t  which shares internal pointer.  splice modifies the receiver\n\t  right after subseq.  [ruby-dev:34005]\n\n\t* bootstraptest/test_struct.rb: some test moved from test to shut\n\t  warning up.\n\nThu Mar 13 19:42:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub (config.h): define uint32_t.\n\nThu Mar 13 14:14:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* trunk/configure.in (AC_CHECK_HEADERS): stdint.h is not needed to\n\t  check.\n\n\t* trunk/configure.in (rb_cv_type_uint32_t): unquoted.  [ruby-dev:34030]\n\n\t* trunk/string.c (hash): use inttypes.h instead of stdint.h.\n\nThu Mar 13 10:42:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_divmod): should return integer division.  [ruby-dev:34006]\n\n\t* enum.c (zip_ary): wrong boundary condition.\n\n\t* test/ruby/test_numeric.rb (TestNumeric::test_num2long): bit-and\n\t  should not raise RangeError.\n\nThu Mar 13 03:12:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/cmd/help.rb: should be updated for new ri structure.\n\t  [ruby-core:15825]\n\n\t* lib/rdoc/ri/driver.rb (RDoc::initialize): allow options to be optional.\n\n\t* lib/rdoc/ri/driver.rb (RDoc::class_cache): map_dirs may be\n\t  empty.\n\n\t* lib/rdoc/ri/driver.rb (RDoc::get_info_for): revive get_info_for\n\t  method.  maybe broken.\n\n\t* lib/rdoc/ri/util.rb (RDoc::initialize): should not use RiError\n\t  no more.\n\nThu Mar 13 01:45:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (stdint.h): check if presence.\n\n\t* configure.in (uint32_t): check if defined.\n\n\t* string.c (hash): fix for portability.  [ruby-dev:34020]\n\nWed Mar 12 17:33:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): fix for a mere underscore.\n\nWed Mar 12 14:47:07 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_intern.h (rb_thread_raised_set): use generic flags.\n\n\t* eval.c (rb_longjmp): clear all raised flags.\n\n\t* eval.c (stack_check): leave clearing flag to rb_longjmp.\n\n\t* gc.c (rb_memerror): use thread raised flag instead of static flag.\n\nTue Mar 11 23:38:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_combination): argument check before creating\n\t  Enumerator.\n\n\t* array.c (rb_ary_permutation): ditto.\n\n\t* enum.c (enum_zip): optimize if all arguments are arrays.\n\nTue Mar 11 19:48:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_coerce): try conversion before type check.\n\t  [ruby-core:15838]\n\nTue Mar 11 12:39:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (clean-local): WINMAINOBJ is Windows specific.\n\nTue Mar 11 10:19:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (hash): replaced by MurmurHash described in\n\t  <http://murmurhash.googlepages.com/>.\n\nTue Mar 11 09:52:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): empty strings in any encoding are\n\t  compatible each other.\n\nTue Mar 11 00:46:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (usage): remove some unimportant lines to fit -h message\n\t  in a page.  [ruby-dev:34018]\n\nMon Mar 10 17:11:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_local_variables): local_variables should return an\n\t  array of symbols.  [ruby-dev:34008]\n\n\t* vm.c (collect_local_variables_in_env): ditto.\n\nMon Mar 10 15:53:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* version.c (MKSTR): make US-ASCII.  [ruby-dev:34010]\n\nMon Mar 10 02:08:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_index): if t == s + pos, the character beginning\n\t  from s + pos is valid.\n\nSun Mar  9 13:51:21 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/generator.rb: Restore missing line to #params.  Patch by\n\t  Lincoln Stoll <lstoll at lstoll.net>\n\nSun Mar  9 09:52:00 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/code_objects.rb: Remove debugging Kernel#p.  Patch by\n\t  Lincoln Stoll <lstoll at lstoll.net>\n\t* lib/rdoc/generator/html.rb: Fully qualify AllReferences.  Patch by\n\t  Lincoln Stoll <lstoll at lstoll.net>\n\t* lib/rdoc/ri/writer.rb: Fix 1.8 backwards compatibility.\n\nSat Mar  8 18:50:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (isdirsep): backslash is valid path separator on cygwin too.\n\nSat Mar  8 06:53:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (search_nonascii): Use VALUE instead of unsigned long\n\t  because VALUE can be the fastest unsigned integer type.\n\t  On LLP64 unsigned long isn't the fastest.\n\t* string.c (str_strlen): ditto.\n\t* string.c (str_utf8_nth): ditto.\n\t* string.c (count_utf8_lead_bytes_with_ulong): ditto.\n\n\t* string.c (count_utf8_lead_bytes_with_word): renamed.\n\nFri Mar  7 21:27:43 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bignum.c: fix indent.\n\nFri Mar  7 21:12:19 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bignum.c (power_cache_init, power_cache_get_power0, Init_Bignum):\n\t  delayed initializing power cache per base.  [ruby-dev:34003]\n\nFri Mar  7 20:30:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cont.c (cont_restore_0): fixed typo.  [ruby-core:15821]\n\nFri Mar  7 19:56:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: rdoc added.  [ruby-Patches-9762]\n\nThu Mar  6 17:26:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): space flag is in effect for Inf/NaN too.\n\t  [ruby-dev:34002]\n\nThu Mar  6 15:44:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): casting double to long is undefined\n\t  if the integer part of double is out of the range of long.\n\nThu Mar  6 15:11:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): ignore 0 flag for NaN and Inf.\n\t  [ruby-dev:33994]\n\nThu Mar  6 15:05:25 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32}/Makefile.sub (RUNRUBY): use $(PROGRAM) instead of\n\t  ruby$(EXEEXT).\n\t  suggested by KIMURA Koichi <kimura.koichi at canon.co.jp>.\n\t  [ruby-dev:34000]\n\nThu Mar  6 14:46:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/lgamma_r.c (loggamma): return 0 for 1 and 2.\n\n\t* test/ruby/test_math.rb: accept errors by functions under missing/.\n\nThu Mar  6 14:29:44 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (rb_str_transcode_bang): set coderange.\n\n\t* transcode.c (rb_str_transcode): use rb_str_transcode_bang.\n\nThu Mar  6 14:00:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/missing.h (cbrt): add declaration.\n\nThu Mar  6 11:14:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-add-log-current-method): use ruby style\n\t  method name format.\n\nThu Mar  6 11:12:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): no need of loop.\n\nThu Mar  6 08:30:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_mod_freeze): call rb_class_name() directly.\n\t  [ruby-core:15802]\n\nThu Mar  6 04:32:06 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (count_utf8_lead_bytes_with_ulong): fix shift size.\n\t  [ruby-dev:33993]\n\n\t* string.c (str_utf8_nth) fix wrong counting.\n\nThu Mar  6 00:34:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): size_t returned from strlen() can be\n\t  unsigned.\n\nThu Mar  6 00:31:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* struct.c (make_struct): preserve encoding of struct name.\n\nWed Mar  5 22:49:20 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (is_utf8_lead_byte, count_utf8_lead_bytes_with_ulong):\n\t  defined for UTF-8 optimization.\n\n\t* string.c (str_strlen): use is_utf8_lead_byte and\n\t  count_utf8_lead_bytes_with_ulong.\n\n\t* string.c (str_utf8_nth) ditto.\n\nWed Mar  5 17:53:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_flock): returns false on EAGAIN if non-blocking.\n\t  [ruby-core:15795]\n\nWed Mar  5 17:43:43 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c (transcode_loop): Adjusted detection of invalid\n\t  (ill-formed) UTF-8 sequences. Fixing potential security issue, see\n\t  http://www.unicode.org/versions/Unicode5.1.0/#Notable_Changes.\n\n\t* test/ruby/test_transcode.rb: Added two tests for above fix.\n\nWed Mar  5 14:00:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_to_s): avoid rb_scan_args() when no argument\n\t  given.\n\t* bignum.c (rb_big_to_s): ditto.\n\t* enum.c (enum_first): ditto.\n\t* eval_jump.c (rb_f_catch): ditto.\n\t* io.c (rb_obj_display): ditto.\n\t* class.c (rb_obj_singleton_methods): ditto.\n\t* object.c (rb_class_initialize): ditto.\n\t* random.c (rb_f_srand): ditto.\n\t* range.c (range_step): ditto.\n\t* re.c (rb_reg_s_last_match): ditto.\n\t* string.c (rb_str_to_i): ditto.\n\t* string.c (rb_str_each_line): ditto.\n\t* string.c (rb_str_chomp_bang): ditto.\n\t* string.c (rb_str_sum): ditto.\n\n\t* string.c (str_modifiable): declare inline.\n\t* string.c (str_independent): ditto.\n\nWed Mar  5 11:50:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/debug.rb: require 'continuation' to implement \"restart\"\n\t  command.  [ruby-dev:33992]\n\n\t* lib/debug.rb (Context::debug_command): remove local variable\n\t  shadowing to shut up warnings.  [ruby-dev:33992]\n\n\t* lib/debug.rb (Context::display_list): ditto.\n\n\t* lib/debug.rb (Context::resume): ditto.\n\n\t* lib/debug.rb (Context::get_thread): no longer use #index for Hash.\n\nTue Mar  4 21:35:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb.rb (IRB::Irb::eval_input): SyntaxError should not be\n\t  considered as IRB bug.  [ruby-dev:33991]\n\n\t* lib/irb/workspace.rb (IRB::WorkSpace::filter_backtrace): should\n\t  filter 'irb.rb' as well for context mode 2 and 3.\n\nTue Mar  4 19:10:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_aset): should not copy key string when\n\t  compare_by_identity is set.  [ruby-dev:33604]\n\n\t* hash.c (hash_equal): two hash tables are different when internal\n\t  comparison table differ.  [ruby-dev:33989]\n\nTue Mar  4 16:29:06 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): disallow non digits '0o' expression.\n\nTue Mar  4 14:35:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (open_key_args): use rb_io_open_with_args instead of rb_f_open.\n\t  [ruby-core:15763]\n\nTue Mar  4 13:41:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (add_heap): fix previous change.  [ruby-dev:33988]\n\nTue Mar  4 10:21:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (add_heap): use binary search to find the place to insert the\n\t  new heap slot.  [ruby-dev:33983]\n\nTue Mar  4 05:30:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (open_key_args): use rb_io_open instead of rb_f_open.\n\t  [ruby-core:15746]\n\nMon Mar  3 23:28:37 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/filehandler.rb: should normalize path\n\t  separators in path_info to prevent directory traversal\n\t  attacks on DOSISH platforms.\n\t  reported by Digital Security Research Group [DSECRG-08-026].\n\n\t* lib/webrick/httpservlet/filehandler.rb: pathnames which have\n\t  not to be published should be checked case-insensitively.\n\nMon Mar  3 17:25:45 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (add_heap): sort heaps array in ascending order to use\n\t  binary search.\n\n\t* gc.c (is_pointer_to_heap): use binary search to identify object\n\t  in heaps.  works better when number of heap segments grow big.\n\nMon Mar  3 17:15:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_regsub): remove too strict encoding check.\n\t  [ruby-dev:33966]\n\nMon Mar  3 16:14:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (rb_any_hash): shrinks all results in Fixnum range.\n\t  [ruby-core:15713]\n\nSun Mar  2 23:03:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_ungetc): reduce redundant call.\n\nSun Mar  2 10:13:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file): parse shebang in us-ascii.  a patch from\n\t  sheepman <sheepman AT sheepman.sakura.ne.jp> in [ruby-dev:33955]\n\nSun Mar  2 00:08:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): check for successive underscores.\n\t  [ruby-dev:33952]\n\nSat Mar  1 17:59:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (struct argf): packed ARGF stuffs.\n\n\t* ruby.c (proc_options): use ruby_set_inplace_mode().\n\nSat Mar  1 17:51:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (recursive_collect): do not always\n\t  include all test_*.rb.\n\nSat Mar  1 14:14:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* development snapshot 1.9.0-1 released.\n\nSat Mar  1 13:46:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* tool/make-snapshot: make prereq uses MINIRUBY.\n\n\t* tool/make-snapshot: allow packaging like 1.9.0-1 by second\n\t  command-line argument.\n\nSat Mar  1 13:11:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/allpairs.rb: new file for all pairs method.\n\n\t* test/ruby/test_m17n_comb.rb: use allpairs.rb to reduce test cases.\n\n\t* test/ruby/test_sprintf_comb.rb: ditto.\n\nSat Mar  1 12:34:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_inspect): use rb_str_inspect() instead of\n\t  rb_str_dump().  [ruby-dev:33946]\n\nSat Mar  1 12:15:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_method.c (rb_get_method_body): ent->method may be freed by\n\t  GC.  [ruby-dev:31819]\n\n\t* thread.c (remove_event_hook): should not access freed memory.\n\t  [ruby-dev:31820]\n\nSat Mar  1 10:31:19 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (read_all, rb_io_getline_fast): encoding is io_input_encoding.\n\nSat Mar  1 10:09:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (tr_setup_table, rb_str_split_m, rb_str_chomp_bang):\n\t  simplified with rb_enc_ascget().  [ruby-dev:33944]\n\nSat Mar  1 10:01:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_coderange_scan_restartable): should not return\n\t  offset in the middle of a character.\n\n\t* string.c (rb_str_coderange_scan_restartable): should not return\n\t  invalid cr value.\n\nSat Mar  1 09:36:08 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): \"%#.0o\" should keep prefix where\n\t  \"%#.0x\" should not.\n\nSat Mar  1 02:35:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (big2str_find_n1): check integer overflow.\n\nSat Mar  1 00:29:07 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_dummy_p): bootstrap encodings can not be dummy.\n\n\t* encoding.c (rb_enc_ascget): no needs to call rb_enc_precise_mbclen()\n\t  twice.\n\nFri Feb 29 23:14:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_m17n_comb.rb (TestM17NComb::test_str_chomp): test\n\t  updated.\n\nFri Feb 29 20:58:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_enumerator):\n\t  adjust test for zip behavior reversion.\n\nFri Feb 29 20:25:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_chomp_bang): now works on UTF-16.\n\n\t* string.c (tr_setup_table): negation should work on non ASCII\n\t  compatible strings as well.\n\n\t* string.c (rb_str_split_m): awk split should work on non ASCII\n\t  compatible strings as well.\n\nFri Feb 29 18:08:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_strftime): format should be ascii compatible.\n\n\t* parse.y (rb_intern3): non ASCII compatible symbols.\n\n\t* re.c (rb_reg_regsub): add encoding check.\n\n\t* string.c (rb_str_chomp_bang): ditto.\n\n\t* test/ruby/test_utf16.rb (TestUTF16::test_chomp): raises exception.\n\nFri Feb 29 15:16:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_rpartition): calculation was done in byte indexing.\n\n\t* test/ruby/test_m17n_comb.rb (TestM17NComb::test_str_start_with):\n\t  allow start_with? matching on broken strings.\n\nFri Feb 29 15:12:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (opt_block_param): command can start just after block param\n\t  definition.  [ruby-list:44479]\n\nFri Feb 29 03:22:19 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/test_time.rb (test_readers): fix typo.\n\t  (test_strftime): \"UTC\" is also ok for time.gmtime.strftime(\"%Z\").\n\nFri Feb 29 02:50:07 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (str_new): remove encoding assumption of empty string.\n\n\t* hash.c ( rb_f_getenv, env_fetch, env_inspect): result of ENV should\n\t  be always ASCII-8BIT.\n\n\t* object.c (nil_to_s): nil.to_s should be US-ASCII.\n\nFri Feb 29 02:24:22 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: forgot to update RELEASE_DATE\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/text.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/scrolledtext.rb: remove adhoc check\n\t  of Ruby's features (use existence of some classes instead of\n\t  comparing with RUBY_VERSION)\n\n\t* ext/tk/lib/tk/root.rb, ext/tk/lib/tk/autoload.rb: make TkRoot\n\t  (Tk::Root) unswitchable\n\n\t* ext/tk/lib/multi-tk.rb: partial bug fix (still not work!!)\n\nThu Feb 28 23:37:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI::Meta#meta_setup_encoding): use ASCII-8BIT\n\t  for charset unspecified non-text data.\n\nThu Feb 28 22:19:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_capable): IMMEDIATE_P doesn't include Qnil and Qfalse.\n\t  use SPECIAL_CONST_P.\n\nThu Feb 28 19:45:52 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_find): check type of argument and convert to String\n\t  if it is StringValue. [ruby-cvs:22866]\n\nThu Feb 28 18:07:52 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI::Meta#meta_setup_encoding): setup encoding\n\t  by charset.\n\t  (OpenURI::Meta#meta_add_field): call meta_setup_encoding when\n\t  content-type.\n\nThu Feb 28 15:29:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (rb_io_getline_fast): scan coderange.\n\nThu Feb 28 14:36:46 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_str_copy): removed.\n\nThu Feb 28 13:51:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (stack_check): made flag per threads.\n\n\t* thread.c (rb_thread_set_raised, rb_thread_reset_raised): prefixed.\n\nThu Feb 28 11:43:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_flock): immediately returns on EAGAIN if\n\t  non-blocking.  [ruby-core:15672]\n\nThu Feb 28 11:23:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline_1): get rid of segfault.  [ruby-dev:33938]\n\nThu Feb 28 11:19:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_reverse_bang): removed unused variables.\n\n\t* include/ruby/encoding.h (rb_str_coderange_scan_restartable): added\n\t  prototype.\n\n\t* string.c (rb_str_coderange_scan_restartable, rb_str_times): removed\n\t  unused variables.\n\n\t* string.c (rb_str_reverse_bang): ditto\n\n\t* string.c (rb_enc_str_copy): unused now.  may be used in future?\n\nThu Feb 28 03:03:32 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/*: make default widget set\n\t  switchable between Tk (standard Tcl/Tk widget set) and\n\t  Ttk (Tile). Initial default widget set is Tk. Now, toplevel\n\t  widget classes are removed and defined as aliases.\n\t  For example, \"TkButton\" is an alias of the \"Tk::Button\" class.\n\t  Those aliases are replaced when switching default widget set.\n\t  \"Tk.default_widget_set=\" is the method for switching default\n\t  widget set. \"Tk.default_widget_set = :Ttk\" defines Ttk (Tile)\n\t  widget set as default. It means that \"TkButton\" denotes\n\t  \"Tk::Tile::Button\" class. And then, \"TkButton.new\" creates\n\t  a Tk::Tile::Button widget. Of course, you can back to use\n\t  standard Tk widgets as the default widget set by calling\n\t  \"Tk.default_widget_set = :Tk\", whenever you want. Based on\n\t  the feature, you can use Ttk widget styling engine on your\n\t  old Ruby/Tk application without modifying its source, if you\n\t  don't use widget options unsupported on Ttk widgets (At first,\n\t  call \"Tk.default_widget_set = :Ttk\", and next load and run\n\t  your application).\n\t  This is one step for supporting Tcl/Tk8.5 features.\n\nWed Feb 27 22:55:42 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_coderange_scan_restartable): coderange scanning\n\t  for partial read.\n\n\t* io.c (read_all): set coderange when not convert encoding.\n\nWed Feb 27 03:55:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, enc/make_encmake.rb: load current mkmf.rb even if\n\t  cross-compiling.\n\n\t* ext/extmk.rb, enc/make_encmake.rb, lib/mkmf.rb: need to be 1.8\n\t  compatible for cross-compiling.\n\nTue Feb 26 16:53:13 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-calculate-indent): should distinguish\n\t  comment and # in strings.  [ruby-dev:33874]\n\nTue Feb 26 16:41:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (combi_len, rb_ary_product): check for overflow.\n\t  [ruby-Bugs-18355]\n\nTue Feb 26 16:38:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (recursive_cmp): compare minimal length parts.\n\nTue Feb 26 16:06:00 2008  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_{ec,dh,dsa,rsa}.c: Remove useless warnings.\n\n\t* ext/openssl/ossl_asn1.c: Simplify code.\n\n\t* ext/openssl/ossl_ssl_session.c Fix compiler warnings.\n\t  Undefine #id if SSL_SESSION_get_id is not supported.\n\nTue Feb 26 15:50:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (value_expr_gen): removed inappropriate warning.\n\t  [ruby-core:15660]\n\nTue Feb 26 15:43:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (tokadd_escape): refactored.  [ruby-core:15657]\n\nTue Feb 26 15:30:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_eql, rb_ary_cmp): get rid of stack overflow with\n\t  self-recursive constructs.  [ruby-Bugs-18356]\n\nTue Feb 26 01:16:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (ROBJECT_NUMIV): renamed from ROBJECT_LEN.\n\t  (ROBJECT_IVPTR): renamed from ROBJECT_PTR.\n\n\t* variable.c: follow the above renaming.\n\n\t* object.c: ditto.\n\n\t* gc.c: ditto.\n\n\t* marshal.c: ditto.\n\nMon Feb 25 17:30:29 2008  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* ext/openssl/digest.c ext/openssl/lib/openssl/digest.rb:\n\t  Commit patch #9280 from Akinori MUSHA.\n\t  Simplify the OpenSSL::Digest class and make use of the\n\t  existing Digest framework.\n\t  Enhance performance.\n\nMon Feb 25 15:33:29 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bignum.c (big2str_karatsuba): initialize cache if not initialized.\n\n\t* bignum.c (Init_Bignum): delayed initializing cache.\n\t  [ruby-dev:33930]\n\nMon Feb 25 13:40:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (Init_process): share bignum objects for RLIM_INFINITY,\n\t  RLIM_SAVED_MAX and RLIM_SAVED_CUR if they are equal.\n\nMon Feb 25 10:41:41 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* encoding.c (Encoding#dummy): minor grammatical fixes\n\t  in rdoc documentation.\n\nMon Feb 25 00:01:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (clean-local): should be double-colon.\n\nSun Feb 24 23:39:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, {bcc,win}32/Makefile.sub (clean-local): remove\n\t  intermediate files.\n\n\t* cygwin/GNUmakefile.in (clean-local): remove def file.\n\nSun Feb 24 06:49:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* debug.c (ruby_set_debug_option): separated ruby_each_words().\n\n\t* util.c (ruby_each_words): extracted from ruby_set_debug_option().\n\n\t* ruby.c (enable_option, disable_option): allow all for all known\n\t  features.\n\n\t* ruby.c (proc_options): generalized enable/disable options.\n\n\t* ruby.c (ruby_init_gems): take enabled flag.  [ruby-core:14840]\n\n\t* ruby.c (process_options): added --disable-rubyopt flag.\n\n\t* include/ruby/util.h (ruby_each_words): prototype.\n\nSun Feb 24 05:25:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): check if argument for -E exists.\n\nSun Feb 24 05:09:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-label-indent): fix for labels inside\n\t  blocks in switch.\n\nSun Feb 24 03:52:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (valid_filename): use O_EXCL to get rid of clobbering\n\t  existing files in race conditions.\n\nSat Feb 23 21:36:13 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c (ole_init_cp): should return value.\n\nSat Feb 23 20:16:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (str_sublen): removed.\n\n\t* string.c (rb_str_reverse, rb_str_reverse_bang): use\n\t  single_byte_optimizable.\n\nSat Feb 23 19:25:18 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_cr_str_copy_for_substr): renamed from\n\t  rb_enc_cr_str_copy.\n\n\t* string.c: use rb_enc_cr_str_copy_for_substr and keep coderange.\n\nSat Feb 23 18:50:17 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_encoding2cp): remove US-ASCII\n\t  mapping.\n\nSat Feb 23 01:09:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (rlimit_resource_type): new function.\n\t  (rlimit_resource_value): new function.\n\t  (proc_getrlimit): use rlimit_resource_type to accept\n\t  symbol and string as resource type.\n\t  (proc_setrlimit): use rlimit_resource_type and rlimit_resource_value\n\t  to accept symbol and string as resource type and values.\n\nFri Feb 22 21:12:42 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_cr_str_copy): check string's coderange is 7bit or\n\t  valid.\n\nFri Feb 22 19:50:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (BIGZEROP): fix for longer Bignum zeros.  [ruby-Bugs-17454]\n\nFri Feb 22 15:47:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_mbclen): return minlen instead of 1 when\n\t  a character is not found properly.\n\n\t* string.c (rb_enc_strlen): round up string length with fixed\n\t  multibyte encoding such as UTF-32.\n\t  (rb_enc_strlen_cr): ditto.\n\t  (rb_str_substr): fix substring with fixed multibyte encoding.\n\t  (rb_str_justify): check number of characters.\n\nFri Feb 22 12:11:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_inspect): string of ascii incompatible encoding\n\t  should be escaped and returned as US-ASCII encoding.\n\nFri Feb 22 11:16:55 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_substr): copy encoding although empty string.\n\nFri Feb 22 04:48:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_times): empty string's coderange is CODERANGE_7BIT.\n\n\t* string.c (rb_str_substr): ditto.\n\n\t* encoding.c (rb_enc_compatible): empty string is compatible with not\n\t  only nonasciicompatible strings. [ruby-dev:33895]\n\nThu Feb 21 17:15:15 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c: Added basic support for passing options to String#encode\n\t  via a hash. Currently only one option, with one value, is supported:\n\t  invalid: :ignore (dropping invalid byte sequences instead of\n\t  producing an error). Option naming is not yet stable!\n\n\t* test/ruby/test_transcode.rb: Added a single test for invalid: :ignore\n\t  option. Not more tests because most data does not yet distinguish\n\t  between INVALID and UNKNOWN.\n\nThu Feb 21 16:35:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_unshift_m): expands enough for argc.  [ruby-dev:33880]\n\nThu Feb 21 14:49:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_set_encoding): uses current_file after check if next\n\t  input is available.\n\nThu Feb 21 14:13:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_putc): invoke stdout method so that redefining putc\n\t  may take effect.   [ruby-talk:291844]\n\n\t* io.c (rb_f_puts): ditto.\n\nThu Feb 21 11:10:49 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c: replace rb_enc_copy by rb_enc_cr_str_copy or\n\t  rb_enc_cr_str_exact_copy.\n\nThu Feb 21 10:35:04 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_enc_asciicompat): dummy encoding is not\n\t  ascii compatible. [ruby-dev:33878]\n\nThu Feb 21 00:01:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RPATHFLAG): -R option of HP-UX ld is not for runtime\n\t  load path.  [ruby-list:44600]\n\nWed Feb 20 23:55:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_map_errno): exported.\n\nWed Feb 20 23:28:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/readline/extconf.rb (rl_event_hook): workaround for native\n\t  windows.\n\nWed Feb 20 19:42:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_associate_index): doesn't clear coderange\n\t  when new encoding equals to old one.\n\nWed Feb 20 19:15:38 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_str_copy): added for wrapper for rb_enc_copy.\n\t  this also copy coderange when ptr and len is equal.\n\n\t* string.c (rb_enc_cr_str_copy): added for wrapper for rb_enc_copy.\n\t  this always copy coderange.\n\n\t* string.c (str_replace_shared): use rb_enc_str_copy.\n\n\t* string.c (str_new3): don't rb_enc_copy because encoding is copied\n\t  at str_replace_shared.\n\nWed Feb 20 13:08:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (parse_args): added --dir-mode, --script-mode and\n\t  --cmd-type options.  [ruby-dev:33816]\n\n\t* instruby.rb (parse_args): added bin-arch and bin-comm to install\n\t  type, for compiled files and script files.\n\n\t* instruby.rb (parse_args): deal with make style command line macros,\n\t  and count as long style options if prefixed with INSTALL_.\n\n\t* instruby.rb (makedirs): use $dir_mode.  [ruby-dev:33805]\n\n\t* instruby.rb (open_for_install): set file mode, which is now\n\t  permission mode instead of access mode.\n\n\t* instruby.rb (bin-comm): installs scripts with replacing shebang\n\t  lines.\n\nWed Feb 20 10:04:22 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (open_key_args): set arg->io even if no options passed.\n\t  [ruby-dev:33072]\n\nTue Feb 19 21:11:49 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_strlen_cr): get length with coderange scan.\n\n\t* string.c (str_strlen): use rb_enc_strlen_cr. [ruby-dev:33849]\n\nTue Feb 19 20:49:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_raise_jump): moved adjustment for control frame.\n\nTue Feb 19 18:34:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (STACK_LENGTH) [SPARC] : 0x80 offset removed.  [ruby-dev:33857]\n\nTue Feb 19 14:27:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_event): prevent polling.  based on\n\t  a patch from error errorsson in [ruby-Bugs-17675].\n\nTue Feb 19 11:14:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_exec_node): no thread starts inside iseq compilation.\n\n\t* eval.c (rb_f_raise): skip current control frame.  [ruby-core:15589]\n\n\t* insns.def (opt_div): raise as the ordinary method. [ruby-core:15589]\n\nMon Feb 18 15:16:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_each_line): fix newline size.\n\nMon Feb 18 13:06:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/irb/locale.rb (IRB::Locale#lc2kconv): check ja_JP.EUC-JP as well.\n\nMon Feb 18 11:51:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (re_warn): defined to restore warnings for /[a-c-e]/, etc.\n\nMon Feb 18 10:17:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/pty/lib/expect.rb (IO#expect): check if peer is closed.\n\t  [ruby-Bugs-17940]\n\nMon Feb 18 00:33:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_regsub): don't repeat repl twice with\n\t  \"X\".sub!(/./, sprintf(\"\\\\%c\", 255)).\n\nSun Feb 17 23:06:55 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/cgi.rb (CGI::escapeHTML): use gsub with Hash. [ruby-dev:33828]\n\nSun Feb 17 21:38:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (ENC_CODERANGE_AND): fix broken case. [ruby-dev:33826]\n\n\t* string.c (rb_str_times): fix broken case. [ruby-dev:33826]\n\nSun Feb 17 20:45:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_prepare_re): add enable_warning parameter.\n\t  (rb_reg_adjust_startpos): disable warning by rb_reg_prepare_re.\n\t  (rb_reg_search): follow rb_reg_prepare_re parameter change.\n\nSun Feb 17 20:12:41 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_regexp.rb: add tests to achieve over 90% test\n\t  coverage of re.c.\n\nSun Feb 17 15:25:08 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (ENC_CODERANGE_AND): added.\n\n\t* string.c (rb_str_plus, rb_str_times): keep coderange.\n\n\t* parse.y (STR_NEW0) use rb_usascii_str_new.\n\nSun Feb 17 14:07:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (str_strlen): rb_enc_strlen doesn't fail.\n\nSun Feb 17 13:03:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (str_sublen): use rb_enc_strlen.\n\nSun Feb 17 12:17:52 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/{euc_jp.c,gbk.c,iso_8859_1.c,iso_8859_11.c,iso_8859_13.c,\n\t  iso_8859_2.c,iso_8859_6.c,iso_8859_7.c,iso_8859_8.c,iso_8859_9.c,\n\t  shift_jis.c,windows_1251.c}: add document about encodings.\n\n\t* enc/cp949.c: divided into new file.\n\nSun Feb 17 10:59:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_quote): return US-ASCII string consistently.\n\nSun Feb 17 09:17:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_times): reduce loop overhead.\n\nSun Feb 17 03:37:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/re.h (struct rmatch_offset): new struct for character\n\t  offsets.\n\t  (struct rmatch): new struct.\n\t  (struct RMatch): reference struct rmatch.\n\t  (RMATCH_REGS): new macro.\n\n\t* re.c (match_alloc): initialize struct rmatch.\n\t  (pair_byte_cmp): new function.\n\t  (update_char_offset): update character offsets.\n\t  (match_init_copy): copy regexp and character offsets.\n\t  (match_sublen): removed.\n\t  (match_offset): use update_char_offset.\n\t  (match_begin): ditto.\n\t  (match_end): ditto.\n\t  (rb_reg_search): make character offset updated flag false.\n\t  (match_size): use RMATCH_REGS.\n\t  (match_backref_number): ditto.\n\t  (rb_reg_nth_defined): ditto.\n\t  (rb_reg_nth_match): ditto.\n\t  (rb_reg_match_pre): ditto.\n\t  (rb_reg_match_post): ditto.\n\t  (rb_reg_match_last): ditto.\n\t  (match_array): ditto.\n\t  (match_aref): ditto.\n\t  (match_values_at): ditto.\n\t  (match_inspect): ditto.\n\n\t* string.c (rb_str_subpat_set): use RMATCH_REGS.\n\t  (rb_str_sub_bang): ditto.\n\t  (str_gsub): ditto.\n\t  (rb_str_split_m): ditto.\n\t  (scan_once): ditto.\n\n\t* gc.c (obj_free): free character offsets.\n\nSun Feb 17 03:13:40 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/resource.rb: made version infos confirm to OS spec.\n\n\t* {bcc32,win32}/Makefile.sub (*.rc): add dependency.\n\nSat Feb 16 20:49:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_substr): optimized for UTF-8.\n\nSat Feb 16 18:13:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_compatible): check encoding incapable arguments.\n\nSat Feb 16 20:12:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (match_inspect): avoid SEGV with MatchData.allocate.inspect.\n\nSat Feb 16 19:04:17 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (str_strlen): revert r15507. [ruby-dev:33810]\n\nSat Feb 16 18:25:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (str_strlen): little more optimization.\n\t  (rb_enc_nth): remove needless variable 'c'.\n\nSat Feb 16 18:00:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_compatible): empty strings are always compatible.\n\n\t* string.c (rb_enc_cr_str_buf_cat): ditto.\n\nSat Feb 16 16:14:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_enc_strlen): UTF-8 character count moved to str_strlen.\n\t  (str_strlen): UTF-8 character count is only applicable for valid\n\t  UTF-8 string.  [ruby-dev:33807]\n\nSat Feb 16 13:16:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_sub_bang): stringize replacing hash values.\n\t  (str_gsub): ditto.\n\nSat Feb 16 13:01:33 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_strlen): add search_nonascii like character\n\t  counter for UTF-8.\n\nSat Feb 16 11:53:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_strlen): moved to string.c.\n\n\t* string.c (rb_enc_strlen): use search_nonascii.\n\t  (str_strlen): don't use search_nonascii.\n\nSat Feb 16 11:45:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/require_relative.rb: check require_relative call in eval.\n\nSat Feb 16 08:00:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ruby.c (process_options): set default_external before loading\n\t  libraries. [ruby-dev:33801]\n\nSat Feb 16 05:49:54 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/iso_8859_{4,13}.c: Windows-1257 is replica of ISO-8859-13.\n\n\t* string.c (single_byte_optimizable): rb_enc_mbminlen must be 1\n\t  when rb_enc_mbmaxlen is 1.\n\nSat Feb 16 03:43:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_nth): moved to string.c.\n\n\t* string.c (rb_enc_nth): moved from string.c.  use search_nonascii\n\t  for ASCII compatible string.\n\t  (str_nth): wrong optimization removed to fix\n\t  \"a\".force_encoding(\"EUC-JP\").slice!(0,10) returns\n\t  \"a\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\"\n\nSat Feb 16 00:21:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (rb_range_beg_len): check if responds to \"begin\" and \"end\"\n\t  methods for non-Range object.\n\nFri Feb 15 20:29:42 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_init_cp): initialize WIN32OLE.codepage\n\t  according to Encoding.default_external.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nFri Feb 15 19:31:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/node.h (NODE_FL_NEWLINE): renamed from NODE_NEWLINE\n\t  to denote its a flag.  [ruby-core:15529]\n\nFri Feb 15 18:23:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_sub_bang, str_gsub): allows hash for replacement.\n\nFri Feb 15 17:12:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_strlen): use search_nonascii() for performance.\n\n\t* string.c (str_nth): ditto.\n\nFri Feb 15 16:22:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (open_key_args): allow specifying both :mode and :encoding.\n\nFri Feb 15 15:34:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_getbyte): new method.\n\t  (rb_str_setbyte): new method.\n\nFri Feb 15 15:29:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/require_relative.rb: new file.\n\nFri Feb 15 15:23:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_convert): check upper bound.  a patch from\n\t  Daniel Luz at [ruby-Bugs-17910].\n\nFri Feb 15 10:35:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_quote): set US-ASCII for ASCII-only string.\n\t  [ruby-dev:33785]\n\nFri Feb 15 10:27:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {win,bcc}32/Makefile.sub (config.h): added HAVE_FTRUNCATE.\n\t  [ruby-dev:33786]\n\nFri Feb 15 09:44:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reg_compile_gen): reg_fragment_setenc might not raise an\n\t  exception before rb_reg_compile.\n\nFri Feb 15 07:37:40 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/paths.rb: Preserve compatibility with 1.8.\n\nFri Feb 15 02:42:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ftruncate): check if available.\n\n\t* file.c (rb_file_truncate): check if ftruncate instead of truncate.\n\nFri Feb 15 02:40:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (sigsetmask): check when signal semantics is not POSIX.\n\n\t* signal.c (USE_TRAP_MASK): set true if sigprocmask or sigsetmask is\n\t  available.\n\nThu Feb 14 23:56:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_error.c (error_print): append a newline to rest lines.\n\n\t* parse.y (reg_compile_gen): appends error message from\n\t  rb_reg_compile() to one from reg_fragment_setenc().\n\nThu Feb 14 21:00:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_reopen): check STDIN, STDOUT and STDERR mode according to\n\t  stdio streams.\n\nThu Feb 14 16:07:40 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_math.rb: actual-expected argument ordering for\n\t  test_math.rb fixed.  a patch from Tadashi Saito\n\t  <shiba AT mail2.accsnet.ne.jp> in [ruby-dev:33770].\n\nThu Feb 14 16:02:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_utime): inhibits with secure level 2 or higher.\n\nThu Feb 14 12:30:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_preprocess_dregexp): use non-preprocessed regexp source\n\t  for result.\n\nThu Feb 14 01:43:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/timeout.rb (Timeout::timeout): made sensitive to location on the\n\t  stack.  [ruby-core:15458]\n\nThu Feb 14 00:49:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (INSTRUBY_ARGS): pass mode to install.  [ruby-dev:33766]\n\n\t* instruby.rb (parse_args): added --data-mode and --prog-mode options.\n\nThu Feb 14 00:02:19 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* eval.c (eval): allow to eval in a binding that has a singleton method.\n\t  [ruby-dev:33763]\n\n\t* test/ruby/test_proc.rb: add tests to achieve over 70% test coverage\n\t  of proc.c.\n\n\t* test/ruby/test_method.rb: ditto.\n\nWed Feb 13 22:46:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pathname.rb (Pathname#sub_ext): new method.  [ruby-list:44608]\n\nWed Feb 13 21:50:32 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* proc.c (proc_curry): new method. [ruby-dev:33676]\n\n\t* test/ruby/test_proc.rb: add tests for above.\n\nWed Feb 13 20:48:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (RObject): add iv_index_tbl for shortcut of\n\t  RCLASS_IV_INDEX_TBL(rb_obj_class(obj)).\n\t  (ROBJECT_IV_INDEX_TBL): defined.\n\n\t* object.c (init_copy): initialize iv_index_tbl in struct RObject.\n\n\t* variable.c (ivar_get): use ROBJECT_IV_INDEX_TBL.\n\t  (rb_ivar_defined): ditto.\n\t  (obj_ivar_each): ditto.\n\t  (rb_obj_remove_instance_variable): ditto.\n\t  (rb_ivar_set): update iv_index_tbl in struct RObject.\n\nWed Feb 13 16:21:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/uri/generic.rb: revert r15442. 2nd argument of String#sub parse\n\t  escapes. [ruby-dev:33726]\n\n\t* bootstraptest/test_method.rb, enc/depend, instruby.rb, lib/mkmf.rb,\n\t  mkconfig.rb: revert r15443. ditto.\n\nWed Feb 13 11:20:26 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/depend: fix typo.\n\n\t* lib/mkmf.rb: revert r15443. \"\\\\1#{sep}\\\\2\" is wrong if sep is ended\n\t  with \"\\\\\".\n\nWed Feb 13 08:57:21 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/markup/inline.rb:  Allow inline markup to have a leading\n\t  '#' or '\\', or trailing punctuation.  i.e. *#freeze?*, *\\foo?*.\n\nWed Feb 13 07:21:23 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/to_html_hyperlink.rb:  Moved linking to to_html.rb, move\n\t  crossref to to_html_crossref.rb\n\nWed Feb 13 04:15:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (arg_concat_gen, arg_append_gen): optimize for array push.\n\n\t* parse.y (arg_concat_gen): optimize for array concat.\n\n\t* parse.y (arg_add_gen): removed since identical to arg_append_gen.\n\nTue Feb 12 21:04:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (exc_list): should use mrhs if non array.\n\nTue Feb 12 20:32:50 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/rational.rb (floor, ceil, truncate, round): do not use\n\t  definitions of Numeric.\n\n\t* lib/rational.rb (to_i): should returns truncated self.\n\n\t* lib/complex.rb (numerator): requires\n\t  Integer#{numerator,denominator}.\n\n\t* lib/complex.rb (quo): do not use definition of Numeric.\n\n\t* lib/complex.rb (>, >=, <, <=, between?, div, divmod, modulo,\n\t  floor, ceil, truncate, round): undef'ed.\n\n\t* lib/mathn.rb (Rational#inspect): removed.\n\nTue Feb 12 16:48:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (args, mrhs): flattens literal array splats.\n\n\t* parse.y (exc_list): splat literal array.\n\nTue Feb 12 15:27:19 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* bootstraptest/runner.rb, bootstraptest/test_method.rb, enc/depend,\n\t  instruby.rb, lib/mkmf.rb, lib/test/unit/util/procwrapper.rb,\n\t  mkconfig.rb, sample/test.rb, template/vm.inc.tmpl,\n\t  test/ruby/test_stringchar.rb: fixes around String#gsub.\n\n\nTue Feb 12 15:11:47 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure/generator.rb,\n\t  ext/json/lib/json/pure/parser.rb, ext/openssl/lib/openssl/x509.rb,\n\t  ext/win32ole/sample/olegen.rb, lib/date/format.rb, lib/irb/context.rb,\n\t  lib/irb/workspace.rb, lib/net/http.rb, lib/net/imap.rb,\n\t  lib/rdoc/generator.rb, lib/rdoc/markup/to_html.rb,\n\t  lib/rdoc/markup/to_latex.rb, lib/rdoc/parsers/parse_c.rb,\n\t  lib/rdoc/ri/formatter.rb, lib/rexml/parsers/baseparser.rb,\n\t  lib/rexml/quickpath.rb, lib/rexml/text.rb, lib/rss/parser.rb,\n\t  lib/uri/common.rb, lib/uri/generic.rb, lib/webrick/httpresponse.rb,\n\t  lib/webrick/httpservlet/filehandler.rb, lib/yaml/baseemitter.rb,\n\t  lib/yaml/encoding.rb: performance tuning around String#gsub.\n\nTue Feb 12 12:16:45 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_hash_cmp): lighter version of rb_str_cmp() for\n\t  hash comparison function.\n\n\t* hash.c (rb_any_cmp): use rb_str_hash_cmp().\n\n\t* string.c (rb_str_casecmp): should return nil for incompatible\n\t  comparison.\n\nTue Feb 12 12:13:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* instruby.rb: specify file mode to install.  a patch from\n\t  pegacorn  <subscriber.jp AT gmail.com> in [ruby-dev:33699].\n\nTue Feb 12 11:38:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (rb_num_coerce_bin): add ID argument to specify\n\t  caller's method name.  [ruby-dev:33663]\n\n\t* numeric.c (rb_num_coerce_cmp): ditto.\n\n\t* numeric.c (rb_num_coerce_relop): ditto.\n\n\t* ext/bigdecimal/bigdecimal.c (DoSomeOne): add function name argument.\n\nTue Feb 12 10:25:02 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/rdoc.rb:  Wrap parse_files' read in version check for\n\t  backwards compatibility.\n\nTue Feb 12 10:15:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ruby.c (load_file): enc must effect source encoding.\n\t  [ruby-core:15496]\n\nTue Feb 12 10:16:47 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/paths.rb:  Restore require rubygems check.\n\nTue Feb 12 02:42:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_include): specialize single character string\n\t  case (e.g. (?a ..?z).include(?x)) for performance.\n\t  [ruby-core:15481]\n\n\t* string.c (rb_str_upto): specialize single character case.\n\n\t* string.c (rb_str_hash): omit coderange scan for performance.\n\n\t* object.c (rb_check_to_integer): check Fixnum first.\n\n\t* object.c (rb_to_integer): ditto.\n\n\t* string.c (rb_str_equal): inline memcmp to avoid unnecessary\n\t  rb_str_comparable().\n\n\t* parse.y (rb_intern2): use US-ASCII encoding.\n\n\t* parse.y (rb_intern_str): ditto.\n\nMon Feb 11 17:21:18 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION), test/rss/test_version.rb:\n\t  0.2.3 -> 0.2.4.\n\n\t* lib/rss/maker.rb, lib/rss/maker/, test/rss/test_maker_2.0.rb:\n\t  fixed a bug that RSS::Maker.make(\"0.9\")'s item doesn't make some\n\t  elements if description is missed.\n\t  Reported by Michael Auzenne. Thanks!!!\n\n\t* lib/rss/maker/0.9.rb, test/rss/test_maker_0.9.rb:\n\t  RSS::Maker.make(\"0.9\") generates RSS 0.92 not RSS 0.91.\n\nMon Feb 11 10:43:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ruby.c (load_file): the encoding of DATA follows the source\n\t  file encoding. [ruby-dev:33693]\n\nMon Feb 11 06:50:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_pack.rb: fix tests for 64bit CPU.\n\n\t* test/ruby/test_bignum.rb: ditto.\n\n\t* test/ruby/test_file_exhaustive.rb: ditto.\n\n\t* test/ruby/test_integer.rb: ditto.\n\n\t* test/ruby/test_time.rb: ditto.\n\n\t* test/ruby/test_numeric.rb: ditto.\n\n\t* test/ruby/test_fixnum.rb: ditto.\n\nMon Feb 11 00:18:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/benchmark.rb (Job::Benchmark#item): fix typo.\n\nSun Feb 10 21:58:32 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk (encdb, transdb): depend on $(PREP).\n\nSun Feb 10 16:58:20 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*, test/rubygems*, gem_prelude.rb: Import RubyGems\n\t  r1601.  [ruby-core:15381]\n\nSun Feb 10 15:07:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/Makefile.sub (MISSING): added cbrt.obj.\n\nSun Feb 10 12:58:33 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/code_objects.rb: Make some attributes accessible for reuse.\n\t* lib/rdoc/generator/html.rb: Pull out ContextUser classes and related\n\t  methods for reuse.\n\t* lib/rdoc/generator.rb: Move ContextUser classes to\n\t  RDoc::Generator::Context for reuse.\n\t* lib/rdoc/rdoc.rb: Make RDoc::RDoc initialization a little easier.\n\t* lib/rdoc/options.rb: Make RDoc::Options easier to use without\n\t  parsing an ARGV.\n\t* lib/rdoc/markup/to_*.rb: Subclass RDoc::Markup::Formatter.\n\t* lib/rdoc/markup/formatter.rb: Add RDoc::Markup::Formatter to make\n\t  RDoc markup conversion easier.\n\t* lib/rdoc/markup/fragments.rb: Make RDoc::Markup::ListItem easier to\n\t  test.\n\t* lib/rdoc/markup/to_html_hyperlink.rb: Pulled out of the HTML\n\t  generator for easier reusability.\n\t* lib/rdoc/markup.rb: Fix bug with labeled lists containing bullet\n\t  lists.\n\t* lib/rdoc/generators/html/html.rb: Fix Constant display.\n\nSat Feb  9 23:44:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/tgamma.c (tgamma): use lgamma_r if available.\n\nSat Feb  9 23:22:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/bigdecimal/extconf.rb: simplified the condition.\n\nSat Feb  9 21:20:28 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_math.rb: add tests for Math.gamma, Math.lgamma and\n\t  Math.cbrt, and use assert_in_delta instead of assert.\n\nSat Feb  9 18:34:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* math.c (math_cbrt): new method Math.cbrt.\n\n\t* configure.in (cbrt): check for replacement functions.\n\n\t* missing/cbrt.c: new file.\n\nSat Feb  9 17:51:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_to_f): use strtod() for more\n\t  precision.  [ruby-talk:290296]\n\n\t* ext/bigdecimal/bigdecimal.c (BASE_FIG): made constant.\n\n\t* ext/bigdecimal/extconf.rb: ditto.  [ruby-dev:33658]\n\nSat Feb  9 12:06:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/tgamma.c (tgamma): add error check.\n\nSat Feb  9 11:47:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* math.c (math_gamma): add error check.\n\t  (math_lgamma): ditto.\n\nSat Feb  9 11:09:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/lgamma_r.c (lgamma_r): return HUGE_VAL for non-positive\n\t  integers.\n\nSat Feb  9 10:03:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_new4): copy encoding from orig, instead of shared\n\t  one.\n\nSat Feb  9 01:01:38 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* file.c (lchmod_internal): fix warning cast from pointer to integer of\n\t  different size.\n\nSat Feb  9 00:44:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/irb.rb (IRB::Irb::eval_input): rescues Interrupt and other than\n\t  SystemExit and SignalException.  [ruby-core:15359]\n\nFri Feb  8 23:51:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/lgamma_r.c (lgamma_r): use smaller argument for sin function.\n\nFri Feb  8 22:10:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI.open_http): rescue URI::InvalidURIError by\n\t  URI.parse for location URI.\n\nFri Feb  8 19:22:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (rb_str_derive): uses rb_str_subseq() for byte\n\t  length.  [ruby-dev:33653]\n\n\t* ext/iconv/iconv.c (iconv_convert): added toidx argument to set\n\t  encoding of successfully converted string.  [ruby-dev:33221]\n\nFri Feb  8 15:09:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (xsystem): expand macros like as make.\n\nFri Feb  8 09:27:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/rdoc/ri/driver.rb (read_yaml): remove SM* for compatibility.\n\nFri Feb  8 00:07:24 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_hash.rb: follow the change of Hash#flatten.\n\n\t* test/ruby/test_time.rb: add tests to achieve over 70% test coverage\n\t  of time.c.\n\n\t* test/ruby/test_prec.rb: ditto over 90% for prec.c.\n\nThu Feb  7 19:11:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_dup): reverted unneeded change.  [ruby-dev:33634]\n\n\t* string.c (rb_str_replace): makes frozen shared string before\n\t  sharing.\n\nThu Feb  7 16:33:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_reopen): don't change access mode for stdin, stdout and\n\t  stderr.  [ruby-core:15360]\n\nThu Feb  7 16:33:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_replace_shared): replaces string with sharing.\n\n\t* string.c (rb_str_new4, rb_str_associate, rb_str_associated): allows\n\t  associated strings shared.\n\n\t* string.c (rb_str_dup, rb_str_substr, rb_str_replace): shares memory.\n\t  [ruby-core:15400]\n\nThu Feb  7 15:42:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_end_with): compares with the suffix.\n\nThu Feb  7 15:03:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/korean.c: add support for CP949 by Park Ji-In.\n\t  [ruby-dev:33626]\n\nThu Feb  7 11:11:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* missing/lgamma_r.c (lgamma_r): some compilers don't permit dividing\n\t  by literal 0.0. use const variable instead.\n\n\t* {bcc32,win32,wince}/Makefile.sub (MISSING): add lgamma_r.obj and\n\t  tgamma.obj.\n\nThu Feb  7 10:39:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* math.c (math_gamma): new method Math.gamma.\n\t  (math_lgamma): new method Math.lgamma.\n\n\t* include/ruby/missing.h (tgamma): declared unless HAVE_TGAMMA.\n\t  (lgamma_r): declared unless HAVE_LGAMMA_R.\n\n\t* configure.in (tgamma): check for replacement functions.\n\t  (lgamma_r): ditto.\n\n\t* missing/tgamma.c: new file.  based on gamma.c from\n\t  \"C-gengo niyoru saishin algorithm jiten\" (New Algorithm handbook\n\t  in C language) (Gijyutsu hyouron sha, Tokyo, 1991)\n\t  by Haruhiko Okumura.\n\n\t* missing/lgamma_r.c: ditto.\n\n\t* LEGAL (missing/tgamma.c): describe as public domain.\n\t  (missing/lgamma_r.c): ditto.\n\nThu Feb  7 09:05:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_enc_from_index): BINARY does not\n\t  have in-bound encoding index.\n\nThu Feb  7 04:26:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/korean.c: add EUC-KR conversion support by Park Ji-In.\n\t  [ruby-dev:33621]\n\nWed Feb  6 01:47:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_flatten): do not flatten recursively by default.\n\t  [ruby-dev:33603]\n\nWed Feb  6 00:50:19 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insns.def (adjuststack): never use INC_SP with minus value because\n\t  some compilers cannot deal it correctly. use DEC_SP instead.\n\nWed Feb  6 00:48:41 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_hash.rb: add tests to achieve over 90% test coverage\n\t  of hash.c.\n\n\t* test/ruby/test_env.rb: ditto.\n\nWed Feb  6 00:24:49 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* hash.c (env_rassoc): remove access to free'd environment on mswin32.\n\nTue Feb  5 21:57:34 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm.c (rb_call_super): pass a passed block when super is called via\n\t  rb_call_super.  [ruby-dev:33598]\n\nTue Feb  5 11:14:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (INSTALL_DIRS, install_dirs): added BINDIR.\n\n\t* lib/mkmf.rb (install_files): rejects files matching to\n\t  $NONINSTALLFILES.\n\n\t* lib/mkmf.rb (init_mkmf): defaults $NONINSTALLFILES to backup and\n\t  temporary files.\n\nMon Feb  4 21:52:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/delegate.rb (DelegateClass): use define_method instead of\n\t  module_eval to improve performance.  [ruby-dev:33586]\n\nMon Feb  4 16:44:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (darwin): NSIG is not defined if _XOPEN_SOURCE > 500L.\n\t  [ruby-dev:33584]\n\nMon Feb  4 14:51:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_enc_symname2_p): support \"!\", \"!=\" and \"!~\".\n\t  [ruby-dev:33592]\n\nMon Feb  4 13:58:42 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator.preserved, DelegateClass.methods): extend\n\t  shouldn't be delegated. [ruby-dev:32987], etc.\n\nMon Feb  4 08:59:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::[]): no more transition\n\t  extend(CGI::Value).  a patch from <tommy AT tmtm.org> in\n\t  [ruby-dev:33583].\n\nSun Feb  3 21:13:13 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_numeric.rb: forgot to add this (at r15360).\n\n\t* test/ruby/test_file_exhaustive.rb: add tests to achieve over 80% test\n\t  coverage of file.c.\n\nSat Feb  2 20:06:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/benchmark.rb (Benchmark::realtime): make Benchmark#realtime\n\t  a bit faster.  a patch from Alexander Dymo <dymo AT ukrpost.ua> in\n\t  [ruby-core:15337].\n\nSat Feb  2 17:40:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* time.c (time_cmp): Time.<=> no longer supports comparison with\n\t  numeric. [ruby-core:15332]\n\nSat Feb  2 09:53:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (darwin): disabled fat-binary support which confuses\n\t  configure much, since ``universal'' implies hidden cross-compiling.\n\t  TODO: ruby and libruby.bundle might be possible to bound with `lipo'\n\t  after builds for each archs.  Anyway, config.h and rbconfig.rb must\n\t  be separated definitely at least.\n\nSat Feb  2 09:28:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* random.c (limited_big_rand): fix buffer overflow when SIZEOF_BDIGITS\n\t  is 2.  fixed by Kenta Murata.  [ruby-dev:33565]\n\nFri Feb  1 21:42:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (darwin): _XOPEN_SOURCE is necessary to make ucontext_t\n\t  consistent with the library implementation of MacOS X 10.5.\n\t  [ruby-dev:33461]\n\n\t* configure.in (darwin): ucontext on PowerPC MacOS X 10.5 is broken.\n\nFri Feb  1 11:44:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb (C_ESC): use octal escape to avoid\n\t  \"\\x09for (;;) ...\" to be interpret the first character 0x9f.\n\nThu Jan 31 23:06:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_bignum.rb: suppress warnings during test.\n\n\t* test/ruby/test_enum.rb: ditto.\n\n\t* test/ruby/test_integer.rb: add tests to achieve over 90% test\n\t  coverage of numeric.c.\n\n\t* test/ruby/test_float.rb: ditto.\n\n\t* test/ruby/test_fixnum.rb: ditto.\n\n\t* test/ruby/test_numeric.rb: ditto.\n\n\t* test/ruby/test_pack.rb: add tests to achieve over 90% test coverage\n\t  of pack.c.\n\nThu Jan 31 17:30:42 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* marshal.c (r_object0): no need to call r_entry for immediate values.\n\nThu Jan 31 15:46:30 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/ri/formatter.rb (output): add accessor.\n\n\t* lib/rdoc/ri/display.rb (page): replace @formatter.output instead of\n\t  $stdout.\n\nThu Jan 31 15:06:50 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* marshal.c (r_object0): call r_entry/r_leave to call proc when\n\t  TYPE_FIXNUM, TYPE_NIL, TYPE_TRUE, TYPE_FALSE, TYPE_SYMBOL.\n\nThu Jan 31 14:03:38 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/ri/display.rb (display_method_list, display_class_list):\n\t  use @formatter.raw_print_line instead of puts.\n\n\t* lib/rdoc/ri/driver.rb (select_methods): new method to collect all\n\t  instance/class methods which match with passed pattern.\n\n\t* lib/rdoc/ri/driver.rb (run): use class_cache's result directly\n\t  instead of select_classes' because it's removed now.\n\n\t* lib/rdoc/ri/driver.rb (run): search methods when passed name is not\n\t  class name. [ruby-core:15309]\n\nThu Jan 31 08:31:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (ext/extmk.rb, instruby.rb): inlined $(MAKE) so that can\n\t  be executed even with -n.\n\nThu Jan 31 06:24:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_close_read): replaces fptr with the tied writer if\n\t  duplex.\n\n\t* io.c (rb_io_close_write): unties the tied IO for writing if duplex.\n\t  [ruby-dev:33532]\n\nThu Jan 31 02:22:04 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (open_key_args): allow encoding key to take two encoding\n\t  names.  a patch from <rubikitch AT ruby-lang.org>.  [ruby-dev:33540]\n\nThu Jan 31 02:15:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (dsym): allow empty symbols.  [ruby-core:15248]\n\nThu Jan 31 00:01:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (select_internal): fix SEGV by `select [STDIN],nil,[STDIN]'.\n\t  fixed by Petr Chromec.\n\t  http://rubyforge.org/tracker/index.php?func=detail&aid=17275&group_id=426&atid=1698\n\nWed Jan 30 17:32:49 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/*.c: add GB12345, UCS-{2,4}{BE,LE}.\n\nWed Jan 30 14:32:18 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/ri/driver.rb (cache_file_for): shouldn't use `:' in filename.\n\nWed Jan 30 14:27:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_succ): use wrapped character as a carry for\n\t  ASCII incompatible encoding.\n\nWed Jan 30 12:26:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/utf_16be.c (UTF16_IS_SURROGATE_FIRST): avoid branch.\n\t  (UTF16_IS_SURROGATE_SECOND): ditto.\n\t  (UTF16_IS_SURROGATE): defined.\n\t  (utf16be_mbc_enc_len): validation implemented.\n\n\t* enc/utf_16le.c (UTF16_IS_SURROGATE_FIRST): avoid branch.\n\t  (UTF16_IS_SURROGATE_SECOND): ditto.\n\t  (UTF16_IS_SURROGATE): defined.\n\t  (utf16le_mbc_enc_len): validation implemented.\n\nWed Jan 30 12:06:43 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* bignum.c (rb_cstr_to_inum): '0_2' is a valid representation.\n\nWed Jan 30 11:57:50 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* bootstraptest/runner.rb: fix -I../../hoge case.\n\nWed Jan 30 01:25:16 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_range.rb: add tests to achieve over 90% test coverage\n\t  of range.c.\n\nWed Jan 30 00:09:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/euc_tw.c (euctw_mbc_enc_len): validation implemented.\n\nTue Jan 29 22:58:11 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_enumerator.rb: add tests to achieve over 90% test\n\t  coverage of enumerator.c.\n\n\t* test/ruby/test_enum.rb: add for enum.c.\n\nTue Jan 29 22:29:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* enumerator.c: fix documents.\n\nTue Jan 29 22:27:11 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* range.c: fix SEGV by (\"a\" .. \"z\").step(2 ** 30) { }.\n\nTue Jan 29 21:59:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/euc_tw.c (euctw_islead): 0x8e is a leading byte.\n\nTue Jan 29 21:55:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bignum.c: move object allocation out of blocking_region.\n\t  [ruby-dev:33139]\n\nTue Jan 29 20:37:36 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/make_transdb.rb: add for make transdb.h.\n\n\t* dmytranscode.c: add for miniruby.\n\n\t* enc/gbk.c (gbk_left_adjust_char_head, gbk_is_allowed_reverse_match):\n\t  fix odd regexp match. [ruby-dev:33502]\n\nTue Jan 29 20:17:06 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32}/Makefile.sub (MINIOBJS): add dmytranscode.$(OBJEXT).\n\nTue Jan 29 19:39:40 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* configure.in, common.mk: fix rule for dmytranscode.o.\n\nTue Jan 29 19:03:16 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c (rb_to_Windows_31J): to 'Windows-31J'.\n\n\t* common.mk: add rules for transdb.h.\n\n\t* transcode.c (init_transcoder_table): use transdb.h.\n\nTue Jan 29 18:05:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (encdb_{replicate,alias,dummy,declare}): define only if\n\t  NO_ENCDB_H is not defined.\n\nTue Jan 29 17:54:11 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/gbk.c (EncLen_gbk): too short. [ruby-dev:33497]\n\nTue Jan 29 17:25:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dmyencoding.c, encoding.c (enc_init_db, NO_ENCDB_H):\n\t  miniruby doesn't use encdb.\n\n\t* common.mk: encdb.h use miniruby.\n\nTue Jan 29 17:37:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/gb18030.c (gb18030_mbc_enc_len): validation implemented.\n\nTue Jan 29 17:01:07 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* tool/ifchange: remove $temp when unchanged.\n\nTue Jan 29 16:59:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* insns.def (toregexp): generate a regexp from strings instead of one\n\t  string.\n\n\t* re.c (rb_reg_new_ary): defined for toregexp.  it concatenates\n\t  strings after each string is preprocessed.\n\n\t* compile.c (compile_dstr_fragments): split from compile_dstr.\n\t  (compile_dstr): call compile_dstr_fragments.\n\t  (compile_dregx): defined for dynamic regexp.\n\t  (iseq_compile_each): use compile_dregx for dynamic regexp.\n\n\t  [ruby-dev:33400]\n\nTue Jan 29 16:25:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk, ext/extmk.rb: always make encdb.h.\n\nTue Jan 29 12:53:39 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/gbk.c: add GBK, CP936 and CP949.\n\n\t* enc/euc_kr.c: remove CP949.\n\n\t* enc/euc_cn.c: remove CP936 and rename to gb2312.c\n\n\t* enc/gb2312.c: GB2312 is preferred MIME name.\n\nTue Jan 29 03:01:29 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (reg_fragment_setenc_gen): US-ASCII script special code.\n\n\t* parse.y (reg_fragment_check_len, reg_compile_gen): no need such\n\t  trick.\n\t  [ruby-dev:33399]\n\n\t* test/ruby/test_m17n.rb (test_regexp_usacii_literal): add tests.\n\nTue Jan 29 01:38:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk ($(srcdir)/revision.h): no need to show ifchange execution\n\t  because ifchange echos updated or unchanged.\n\nTue Jan 29 01:26:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (up): use last changed revision.\n\n\t* common.mk (up): force to update revision.h.\n\nTue Jan 29 00:12:17 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): should be US-ASCII.\n\nTue Jan 29 00:10:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-mode-set-encoding): updates magic comment.\n\nMon Jan 28 23:47:52 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* parse.y (rb_id2str, ripper_initialize, Init_ripper):\n\t  use rb_usascii_str_new2. [ruby-dev:33449]\n\nMon Jan 28 19:37:08 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c (ole_cp2encoding): new function.\n\n\t* ext/win32ole/win32ole.c (ole_wc2vstr, ole_variant2val, fole_missing):\n\t  set encoding to result.\n\n\t* ext/win32ole/win32ole.c (fole_s_set_code_page, Init_win32ole): set\n\t  default encoding.\n\t  [ruby-dev:33433]\n\nMon Jan 28 11:17:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c, parse.y, re.c: use rb_ascii8bit_encoding.\n\nMon Jan 28 17:54:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/utf_7.h: add dummy encoding UTF-7 and its alias CP65000.\n\nMon Jan 28 17:41:19 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/utf_8.c: add alias CP65001.\n\nMon Jan 28 15:33:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/big5.c (big5_mbc_enc_len): validation implemented.\n\nMon Jan 28 13:02:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/euc_kr.c (euckr_mbc_enc_len): validation implemented.\n\nMon Jan 28 11:24:49 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_str_new): encoding of UTF-8 literal string in\n\t  US-ASCII script is UTF-8. [ruby-dev:33406]\n\nMon Jan 28 10:25:59 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_m17n.rb (test_magic_comment): add test.\n\nMon Jan 28 09:34:54 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (help): use double quotes for nmake.\n\nMon Jan 28 00:39:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_set_encode): check if encoding is ASCII compatible.\n\nMon Jan 28 01:21:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_open_file): should check NUL in path.\n\t  <http://www.rubyist.net/~matz/20080125.html#c01>.\n\n\t* io.c (rb_io_s_popen): ditto.\n\n\t* io.c (rb_io_reopen): ditto.\n\n\t* io.c (next_argv): ditto.\n\nSun Jan 27 23:33:35 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): fix for left justify flag.\n\n\t* sprintf.c (rb_str_format): zero-precision zero bug revised.\n\t  [ruby-dev:33419]\n\nSun Jan 27 23:20:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h: precise mbclen API redesigned to avoid\n\t  inline functions.\n\t  (onigenc_mbclen_charfound): removed.\n\t  (onigenc_mbclen_needmore): removed.\n\t  (onigenc_mbclen_recover): removed.\n\t  (ONIGENC_MBCLEN_CHARFOUND): removed.\n\t  (ONIGENC_MBCLEN_CHARFOUND_P): defined.\n\t  (ONIGENC_MBCLEN_CHARFOUND_LEN): defined.\n\t  (ONIGENC_MBCLEN_INVALID): removed.\n\t  (ONIGENC_MBCLEN_INVALID_P): defined.\n\t  (ONIGENC_MBCLEN_NEEDMORE): removed.\n\t  (ONIGENC_MBCLEN_NEEDMORE_P): defined.\n\t  (ONIGENC_MBCLEN_NEEDMORE_LEN): defined.\n\t  (ONIGENC_MBC_ENC_LEN): use onigenc_mbclen_approximate.\n\n\t* regenc.c (onigenc_mbclen_approximate): defined.\n\n\t* include/ruby/encoding.h (MBCLEN_CHARFOUND): removed.\n\t  (MBCLEN_INVALID): removed.\n\t  (MBCLEN_NEEDMORE): removed.\n\t  (MBCLEN_CHARFOUND_P): defined.\n\t  (MBCLEN_INVALID_P): defined.\n\t  (MBCLEN_NEEDMORE_P): defined.\n\t  (MBCLEN_CHARFOUND_LEN): defined.\n\t  (MBCLEN_NEEDMORE_LEN): defined.\n\n\t* encoding.c: use new API.\n\n\t* re.c: ditto.\n\n\t* string.c: ditto.\n\n\t* parse.y: ditto.\n\nSun Jan 27 22:55:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (value_expr_gen): reverted r12880.  [ruby-dev:33388]\n\nSun Jan 27 22:33:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): fix for octal with precision.\n\t  [ruby-dev:33411]\n\nSun Jan 27 22:31:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-mode-set-encoding): automatically insert\n\t  encoding magic comment.\n\n\t* misc/ruby-mode.el (ruby-mode): set ruby-mode-set-encoding to buffer\n\t  local before-save-hook.\n\nSun Jan 27 19:51:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_inspect): avoid exception by\n\t  \"\\#\\xa1\".force_encoding(\"euc-jp\").inspect.\n\nSun Jan 27 19:07:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_succ): warning suppressed.\n\nSun Jan 27 18:18:13 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk (help): show major targets.\n\nSun Jan 27 17:54:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c: raise error when no output encoding is given.\n\nSun Jan 27 17:20:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_succ): don't increment/decrement codepoint.\n\nSun Jan 27 16:03:42 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex#buf_input): use chars.to_a.\n\nSun Jan 27 16:27:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8: update nkf.\n\nSun Jan 27 16:25:27 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_reg_source): set encoding as regexp encoding.\n\nSun Jan 27 05:56:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_preprocess): force fixed encoding when ASCII\n\t  incompatible source string.\n\nSat Jan 26 23:46:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): zero-precision zero should be empty.\n\t  [ruby-dev:33363]\n\n\t* sprintf.c (rb_str_format): not prepend octal prefix to negative or\n\t  zero value.  [ruby-dev:33363], [ruby-dev:33367]\n\nSat Jan 26 23:42:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (assignable_gen, keyword_to_name): __ENCODING__ was missing.\n\nSat Jan 26 19:08:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (w_object): dump string encoding in USERDEF.\n\t  [ruby-dev:33401]\n\nSat Jan 26 17:42:23 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): validate argument expr of \"next\"\n\t  statement.\n\n\t* bootstraptest/test_syntax.rb: add a test.\n\nSat Jan 26 17:22:46 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, compile.h: fix to calculate correct stack depth\n\t   at each instruction.\n\nSat Jan 26 09:41:02 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/rexml/doctype.rb, test/rss/test_maker_itunes.rb: replace\n\t  multi-byte string.\n\n\t* test/json/{test_json.rb, test_json_unicode.rb}:\n\t  add magic comment.\n\nSat Jan 26 09:30:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_usascii_encindex): added prototype.\n\n\t* include/ruby/intern.h (rb_usascii_str_new, rb_usascii_str_new2):\n\t  ditto.\n\nSat Jan 26 09:17:13 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_new): set US-ASCII and ENC_CODERANGE_7BIT when\n\t  empty string (len == 0).\n\nSat Jan 26 03:41:53 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_initialize): set default script encoding as US-ASCII.\n\n\t* ruby.c (load_file): ditto.\n\n\t* ruby.c (process_options): set script encoding of -e from locale\n\t  except when -K is specified.\n\n\t* ruby.c (load_file): set script encoding of stdin from locale except\n\t  when -K is specified. [ruby-dev:33375]\n\nSat Jan 26 02:51:06 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, compile.h: fix stack pointer issues.\n\t  calculate correct stack depth at compile time.\n\n\t* insns.def (emptstack): remove it and add a new insn \"adjuststack\".\n\n\t* bootstraptest/test_knownbug.rb: move/remove fixed test.\n\n\t* bootstraptest/test_syntax.rb: ditto.\n\nSat Jan 26 00:17:18 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_usascii_new{,2}: defined.\n\t  (rb_str_new): set US-ASCII and ENC_CODERANGE_7BIT when empty\n\t  string.\n\n\t* encoding.c (rb_usascii_encoding, rb_usascii_encindex): defined.\n\t  (rb_enc_inspect, enc_name, rb_locale_charmap, rb_enc_name_list_i):\n\t  use rb_str_ascii_new.\n\n\t* array.c (recursive_join, inspect_ary): ditto.\n\n\t* object.c (nil_to_s, nil_inspect, true_to_s, false_to_s,\n\t  rb_mod_to_s): ditto.\n\n\t* hash.c (inspect_hash, rb_hash_inspect, rb_f_getenv, env_fetch,\n\t  env_clear, env_to_s, env_inspect): ditto.\n\n\t* numeric.c (flo_to_s, int_chr, rb_fix2str): ditto.\n\n\t* bignum.c (rb_big2str): ditto.\n\n\t* file.c (rb_file_ftype, rb_file_s_dirname, rb_file_s_extname,\n\t  file_inspect_join, Init_file): ditto.\n\n\t* test/ruby/test_ruby_m17n.rb: add checks for encoding of string.\n\nSat Jan 26 01:35:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (r_byte): use getbyte instead of getc.\n\t  (marshal_load): ditto.\n\t  [ruby-dev:33264]\n\nSat Jan 26 00:43:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_getline_fast): don't care ASCII incompatible encoding.\n\t  (prepare_getline_args): generate a newline according to IO encoding\n\t  when necessary.\n\t  (rb_io_getline_1): call rb_io_getline_fast only for ASCII\n\t  compatible encoding.\n\nFri Jan 25 21:49:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_buf_cat_ascii): use rb_enc_cr_str_buf_cat.\n\nFri Jan 25 19:38:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (version.$(OBJEXT)): depends on $(srcdir)/revision.h.\n\n\t* common.mk (revision.h): extracts revision number with ``svn info''.\n\n\t* common.mk (up): target to update from the repository.\n\n\t* Makefile.in, {win,bcc}32/Makefile.sub (IFCHANGE): tool to update a\n\t  file if changed.\n\n\t* tool/ifchange: for unixen.\n\n\t* win32/ifchange.bat: some fix\n\nFri Jan 25 17:12:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file): set default to ASCII-8BIT explicitly if -K\n\t  option is not given.\n\nFri Jan 25 16:31:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_str_buf_cat_ascii): declared.\n\n\t* string.c (rb_str_buf_cat_ascii): defined.\n\n\t* re.c (rb_reg_s_union): use rb_str_buf_cat_ascii to support ASCII\n\t  incompatible encoding.\n\nFri Jan 25 16:11:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options, load_file, rb_load_file): propagates script\n\t  encoding by -K to libraries.  [ruby-dev:33156]\n\nFri Jan 25 15:56:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (cmdline_arguments): split argc and argv from cmdline_options.\n\n\t* ruby.c (process_options): not set encoding of -e option from -E\n\t  option if they are not compatible.\n\nFri Jan 25 13:15:23 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (proc_options, process_options, load_file): shouldn't effect\n\t  --encoding to script encoding. [ruby-dev:33169]\n\nFri Jan 25 10:31:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* */*.bat: set svn:mime-type to text/batch.\n\nThu Jan 24 23:23:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* enum.c (enum_one, enum_take_while, enum_drop_while): fix documents.\n\nThu Jan 24 21:46:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (reg_fragment_setenc_gen): associate ASCII-8BIT only if\n\t  str has only ASCII characters.\n\nThu Jan 24 20:46:17 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_m17n.rb: follow to the following changes.\n\nThu Jan 24 20:21:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parser.y (parser_str_new): automatically update string literal's\n\t  encoding from US-ASCII to ASCII-8BIT when script encoding is US-ASCII\n\t  and the string includes non-ascii bytes. [ruby-dev:33348]\n\n\t* parser.y (reg_fragment_check_gen, reg_compile_gen): automatically\n\t  update regexp literal's encoding from US-ASCII to ASCII-8BIT when\n\t  script encoding is US-ASCII, the regexp has no kcode option and the\n\t  regexp includes non-ascii bytes. [ruby-dev:33353]\n\nThu Jan 24 19:36:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic::inspect): use Kernel#to_s instead\n\t  object_id with printf.  [ruby-dev:33347]\n\nThu Jan 24 19:29:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (remove_sign_bits): returns pointer to the first char to\n\t  be used, instead of copying.\n\n\t* sprintf.c (rb_str_format): negative indicator dots should come\n\t  before sign digits always.  [ruby-dev:33224]\n\nThu Jan 24 18:19:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_enc_is_newline): parenthesized arguments.\n\nThu Jan 24 18:14:14 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* re.c (rb_reg_fixed_encoding_p): no need to treat ASCII-8BIT specially.\n\nThu Jan 24 16:53:06 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): 7bit clean regexp should be US-ASCII.\n\t  [ruby-dev:33346]\n\nThu Jan 24 16:31:04 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_getline_fast): the end point of left_char_head()\n\t  must be the last character.  [ruby-cvs:22445]\n\nThu Jan 24 16:24:25 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (reg_fragment_setenc_gen): recognize regexp with option n as\n\t  as ASCII-8BIT instead of US-ASCII. [ruby-dev:33339]\n\nThu Jan 24 15:44:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (collect_bang_i): use rb_ary_store() to avoid potential\n\t  memory corruption.  a patch from Yusuke Endoh <mame@tsg.ne.jp>\n\t  in [ruby-dev:33328].\n\n\t* array.c (ITERATE): remove unnecessary macro.\n\n\t* array.c (sort_1): remove ary_sort_check().  in-place sort keep\n\t  original elements even when it's modified.\n\n\t* array.c (sort_2): ditto.\n\nThu Jan 24 15:09:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (make_time_t): revert round trip test.  [ruby-dev:33058]\n\nThu Jan 24 11:14:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_enc_cr_str_buf_cat): ASCII incompatible encoding is\n\t  not compatible with any other encoding.\n\nThu Jan 24 07:34:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* parse.y (STR_NEW0): set encoding as US-ASCII.\n\nThu Jan 24 03:47:41 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/rexml/text.rb, lib/rubygems/open-uri.rb, lib/open-uri.rb,\n\t  test/logger/test_logger.rb, test/ruby/test_regexp.rb:\n\t  fix tests. [ruby-dev:33336]\n\nThu Jan 24 03:23:44 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_each_line): use memchr(3) for faster newline\n\t  search.\n\n\t* io.c (appendline): remove unused arguments\n\n\t* io.c (rb_io_getline_fast): make much simpler (and faster).\n\nThu Jan 24 02:13:07 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* insns.def (expandarray): fix stack inc.  [ruby-dev:32892]\n\n\t* bootstraptest/test_knownbug.rb, test_massign.rb: move a fixed test.\n\nThu Jan 24 01:00:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.{c, h} (rb_usascii_encoding): added.\n\n\t* parse.y (parser_str_new, rb_intern3): ascii only string literal is\n\t  US-ASCII.\n\n\t* ruby.c (proc_optionc): -Kn means ASCII-8BIT.\n\nWed Jan 23 23:54:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* sprintf.c: fix comment.  [ruby-dev:33275]\n\n\t* math.c: fix comment.  [ruby-dev:33276]\n\nWed Jan 23 22:47:34 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_struct.rb: add tests to achieve over 90% test\n\t  coverage of struct.c.\n\n\t* test/ruby/test_sprintf.rb: ditto for sprintf.c.\n\n\t* test/ruby/test_math.rb: ditto for math.c.\n\nWed Jan 23 22:14:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/trans/japanese.c (rb_from_Windows_31J, rb_to_Windows_31J):\n\t  provisional workaround for Windows-31J.  [ruby-dev:33320]\n\nWed Jan 23 15:25:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_strftime): copy encoding from format.  [ruby-dev:33303]\n\nWed Jan 23 15:04:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_make_independent): should set length.\n\n\t* string.c (rb_str_associate): hide associated array from ObjectSpace.\n\n\t* string.c (rb_str_associated): return associated array with freezing\n\t  instead of false.  [ruby-dev:33282]\n\n\t* string.c (rb_str_freeze): freeze associated array together.\n\nWed Jan 23 13:39:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_prepare_re): fix SEGV by\n\t  /a/ =~ \"aa\".force_encoding(\"utf-16be\").\n\nWed Jan 23 11:53:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_mod_check, str_nth, str_offset): constified.\n\n\t* string.c (rb_str_dump): dump in ASCII-8BIT always.\n\nWed Jan 23 10:18:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_method.c (rb_export_method): set ruby_vm_redefined_flag for\n\t  visibility change as well.  reported by K.Kosako in\n\t  http://d.hatena.ne.jp/kkos/20080122#1201012720.\n\nTue Jan 22 22:26:23 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_bignum.rb: change some tests because rational\n\t  redefines Bignum#quo and Bignum#**.\n\nTue Jan 22 20:58:15 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): need to output sodir rule.\n\nTue Jan 22 19:37:16 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): lib files shouldn't depend on install\n\t  dir because if the dir is newer than lib files, lib files will be\n\t  always copied.\n\nTue Jan 22 17:52:52 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/utf_16_32.c: Streamline parentheses, add more\n\t  'static' qualifiers.\n\nTue Jan 22 12:57:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in (MINIRUBY): remove -I$(EXTOUT)/$(arch) from\n\t  MINIRUBY since miniruby might not be able to load DLL.\n\n\t* test/ruby/test_m17n.rb: move tests from bootstrap test.\n\n\t* encoding.c (enc_find): should check name if ASCII compatible.\n\n\t* string.c (rb_str_end_with): should check character boundary.\n\n\t* encoding.c (rb_enc_compatible): encoding must be ASCII\n\t  compatible before checking ENC_CODERANGE_7BIT.\n\n\t* encoding.c (rb_enc_compatible): wrong compatibility condition.\n\t  [ruby-dev:33273]\n\nTue Jan 22 09:26:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_each_char): iterates over a shadow.\n\t  [ruby-dev:33243]\n\nTue Jan 22 08:59:52 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/formatter.rb:  Indent labeled lists like note lists.\n\n\t* test/rdoc/test_rdoc_ri_overstrike_formatter.rb:  Added.\n\n\t* test/rdoc/test_rdoc_ri_formatter.rb:  Added tests.\n\nTue Jan 22 04:40:28 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (rb_intern3): do not call rb_enc_mbclen() if *m is\n\t  ASCII.  [ruby-talk:287225]\n\n\t* string.c (rb_str_each_line): use rb_enc_is_newline() to gain\n\t  performance if the record separator ($/) is not modified.\n\nTue Jan 22 01:15:51 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* ChangeLog: format-time-string under C locale. [ruby-dev:33261]\n\nTue Jan 22 00:45:12 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_bignum.rb: add tests for bignum.c.\n\nTue Jan 22 00:30:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bignum.c (big_shift): fix a bug that caused infinite loop when\n\t  left shifting.\n\nMon Jan 21 20:09:38 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (marshal_load): initialize the cache.\n\nMon Jan 21 19:42:42 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c, enc/trans/utf_16_32.c, test/ruby/test_transcode.rb:\n\t  added UTF-32BE and UTF-32LE conversions.\n\nMon Jan 21 14:36:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (str_transcode): initialize transcoder in\n\t  rb_transcoding.  [ruby-dev:33234]\n\n\t* transcode_data.h (rb_transcoding): transcoder constified.\n\nMon Jan 21 12:50:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c, gc.c (setjmp): sigsetjmp is a macro on cygwin.\n\nMon Jan 21 12:35:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_loop, str_transcoding_resize): use unsigned\n\t  char.  [ruby-dev:33232]\n\n\t* transcode_data.h (rb_transcoding, rb_transcoder): removed callback\n\t  parameters.\n\n\t* enc/trans/japanese.c: ditto.\n\n\t* enc/trans/utf_16_32.c: parenthesized bit-or operands.\n\nMon Jan 21 11:59:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_each_char): move forward.  [ruby-dev:33231]\n\nMon Jan 21 06:40:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_dispatch): constified return value.\n\n\t* transcode_data.h (rb_transcoding): include pointer to rb_transcoder\n\t  and auxiliary data.\n\n\t* transcode_data.h (rb_transcoder): all callback functions should have\n\t  their own parameters.\n\n\t* enc/trans/{japanese,single_byte}.c: constified.\n\nMon Jan 21 03:45:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_each_char): advance offset before get next char\n\t  length.  [ruby-dev:33211]\n\nSun Jan 20 20:00:20 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c, enc/trans/utf_16_32.c, test/ruby/test_transcode.rb:\n\t  added UTF-16LE conversions.\n\n\t* fixed changelog for last commit\n\nSun Jan 20 17:54:00 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* added changelog for last commit\n\nSun Jan 20 15:08:08 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/utf_16_32.c: new file, currently implementing\n\t  UTF-16BE conversions only.\n\n\t* test/ruby/test_transcode.rb: Added tests for UTF-16BE;\n\t  made check_both_ways() use force_encoding differently.\n\n\t* transcode_data.h, transcode.c: Support for more conversion\n\t  functions.\n\nSun Jan 20 13:06:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_each_char): performance improvement, and stop if\n\t  shortened in the block.  [ruby-dev:33189]\n\nSun Jan 20 09:12:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: use -Ks when read insns.def. [ruby-dev#33185]\n\n\t* parse.y: fix -e and stdin strings aren't set encoding.\n\nSun Jan 20 05:12:44 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/make_encdb.rb: fix duplication check.\n\nSun Jan 20 05:03:46 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ascii.c: remove definition of replica KOI8-U.\n\nSun Jan 20 00:33:59 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/koi8_u.c: added.\n\n\t* regenc.c, enc/utf_8.c, enc/unicode.c, enc/gb18030.c: add ARG_UNUSED.\n\nSat Jan 19 22:41:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (coderange_scan): don't call mbclen functions for ASCII\n\t  characters with ASCII compatible encoding.\n\nSat Jan 19 21:00:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/rdoc/template.rb (RDoc): defined to avoid uninitialized constant\n\t  error by `./ruby test/rubygems/test_gem_server.rb'.\n\nSat Jan 19 20:41:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (enc_new): don't free rb_encoding to avoid SEGV by\n\t  `miniruby -e exit' on x86_64 GNU/Linux.\n\nSat Jan 19 18:40:19 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (once): use an instance variable which points a hash\n\t  as cache. [experimental]\n\nSat Jan 19 17:21:29 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: parse's hints as an\n\t  experimental function has been removed.\n\nSat Jan 19 11:21:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (sigsetjmp): check if available.\n\n\t* eval.c, gc.c (setjmp): do not use _setjmp if sigsetjmp is available.\n\nSat Jan 19 11:10:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: Remove wrong assumptions about Cygwin.  a patch from\n\t  Corinna Vinschen in [ruby-Bugs-17018].\n\nSat Jan 19 09:23:14 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_set_safe_array): should not use\n\t  recursive calling.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\nSat Jan 19 08:58:47 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/markup: Remove ListBase and Line constants.\n\n\t* lib/rdoc/ri: Allow output IO to be specified.\n\n\t* test/rdoc/parser/test_parse_c.rb: Move up one level, fixed.\n\n\t* test/rdoc/parser/test_rdoc_markup_attribute_manager.rb: Renamed to\n\t  match new class name, updated to match new classes.\n\n\t* test/rdoc/test_rdoc_ri_formatter.rb: Start of RI formatting tests.\n\n\t* test/rdoc/test_rdoc_ri_attribute_manager.rb: Start of\n\t  RDoc::RI::AttributeManager tests.\n\n\t* test/rdoc/test_simple_markup.rb: Moved to match new class name.\n\nSat Jan 19 08:35:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_prepare): get encoding from the first line.\n\t  [ruby-dev:33168]\n\n\t* ruby.c (load_file): set encoding to input with set_encoding.\n\nSat Jan 19 03:46:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (thread_create_core): prohibit thread creation in the\n\t  frozen thread group.  a patch in [ruby-dev:33176] from sheepman\n\t  <sheepman AT sheepman.sakura.ne.jp>.\n\n\t* thread.c (thread_create_core): should inherit ThreadGroup from\n\t  the current thread.\n\nSat Jan 19 00:37:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): set result encoding for wider width.\n\nSat Jan 19 00:13:19 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.c (w32_wait_events): shouldn't invoke interrupt handle\n\t  by timer_thread.\n\nFri Jan 18 23:49:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_create_core): set thread group before creating\n\t  thread.\n\nFri Jan 18 20:19:51 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (ripper_initialize): too early to set parser->enc.\n\nFri Jan 18 20:03:05 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/setup.mak (BASERUBY): nmake cannot execute ruby correctly\n\t  if the path of ruby.exe is quoted.\n\n\t* win32/setup.mak ($(ARCH)): if a macro is appended by $(APPEND),\n\t  a space will be inserted on the top of the line.\n\nFri Jan 18 17:56:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_intern.h, insnhelper.h, thread_pthread.h, vm_core.h, vm_opts.h:\n\t  prefixed include guards with RUBY.\n\n\t* id.h: added include guard.\n\n\t* regenc.h, regint.h, regparse.h: prefixed include guards with\n\t  ONIGURUMA.\n\nFri Jan 18 15:57:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_cleanup_func): ignore errors from destroying mutex\n\t  of dead thread.  [ruby-core:15069]\n\n\t* thread_pthread.c, thread_win32.c (native_thread_destroy): ditto.\n\nFri Jan 18 15:56:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_name_list_i, rb_enc_aliases_enc_i): freeze\n\t  element strings to be returned.\n\nFri Jan 18 14:36:34 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_m17n.rb (test_str_dump): added test for\n\t  String#dump. [ruby-dev:33142]\n\nFri Jan 18 12:25:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (load_encoding): check if successfully loaded.\n\n\t* encoding.c (rb_enc_find_index): use original encoding name to\n\t  replicate loaded encoding instead alias.\n\nFri Jan 18 09:43:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* re.c (rb_char_to_option_kcode): Regexp switch `s' should mean\n\t  Windows-31J, as wells as `-Ks'.\n\nFri Jan 18 09:22:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_initialize): explicitly call rb_ascii8bit_encoding().\n\n\t* parse.y (parser_prepare): lex_input may not be have encoding (e.g. IO).\n\n\t* parse.y (rb_parser_compile_string): set encoding from input string.\n\n\t* encoding.c (rb_enc_find_index): use ASCII-8BIT if loading known\n\t  encoding failed.\n\n\t* parse.y (ripper_initialize): move parser->enc initialization.\n\n\t* encoding.c (rb_enc_aliases_enc_i): exclude non alias names from\n\t  Encoding.aliases.\n\n\t* encoding.c (rb_enc_find_index): use original encoding name to\n\t  load DLL.\n\nFri Jan 18 07:06:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (Init_IO): stdin/stdout may not be duplex.\n\nFri Jan 18 04:27:57 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* sample/rdoc/markup/rdoc2latex.rb:  Fix for new namespacing.\n\n\t* lib/rdoc/markup/to_latex.rb:  Fix namespacing.\n\nFri Jan 18 02:02:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/runner.rb (assert_valid_syntax): added.\n\n\t* bootstraptest/test_knownbug.rb: added test for [ruby-list:44479]\n\nFri Jan 18 01:48:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_call_method): check argument number to\n\t  attr_reader.  [ruby-core:15120]\n\nFri Jan 18 00:49:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_check_readable): flush tied write IO too.\n\n\t* io.c (Init_IO): tie stdin with stdout.  [ruby-core:15107]\n\nFri Jan 18 00:23:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_free): removed since rb_encoding may be used while\n\t  cleanup.\n\nFri Jan 18 00:17:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/euc_cn.c: split from enc/euc_kr.c.\n\nFri Jan 18 00:03:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_init): use default external encoding\n\t  if nothing is given.  a patch from sheepman <sheepman AT\n\t  sheepman.sakura.ne.jp> in [ruby-dev:33159].\n\nThu Jan 17 23:56:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encdb.h): give output file name to make_encdb.rb.\n\n\t* encoding.c (enc_table): simplified.\n\n\t* encoding.c (enc_register_at): lazy loading.  [ruby-dev:33013]\n\n\t* regenc.h (ENC_DUMMY): added.\n\n\t* enc/make_encdb.rb: now emits macros only.\n\n\t* enc/iso_2022_jp.h: split from encoding.c.\n\nThu Jan 17 21:48:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_char_to_option_kcode): fixed typo.\n\nThu Jan 17 21:01:25 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (Date::Infinity#<=>): didn't work.  A patch from\n\t  Dirkjan Bussink <d.bussink AT gmail.com> [ruby-core:15098].\n\t  This is a bug obviously.  However it didn't affect the library's\n\t  functions.\n\n\t* lib/date.rb, lib/date/format.rb: some trivial changes.\n\nThu Jan 17 13:07:18 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_dump): preserve the encoding of source string\n\t  if it is ASCII compatible.  otherwise, add '.force_encoding()'\n\t  for ugly work around.  maybe we should implement some other way\n\t  to keep non ASCII encoding in dumped string.  [ruby-dev:33142]\n\nThu Jan 17 10:30:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fwrite): always flush IO on tty, even without newlines.\n\t  [ruby-core:15107]\n\nWed Jan 16 22:45:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_register_at): make own copy.  [ruby-dev:33136]\n\nWed Jan 16 18:03:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open, rb_io_s_popen): clear temporary object to release\n\t  and prevent from GC.\n\nWed Jan 16 17:55:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (fix_quo): typo. a patch from Shin-ichiro HARA\n\t  <sinara AT blade.nagaokaut.ac.jp> in [ruby-dev:33130]\n\nWed Jan 16 17:36:26 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/test_delegate.rb: add new test file for delegate.rb.\n\nWed Jan 16 16:14:00 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ruby.1: Fix grammar.\n\nWed Jan 16 15:26:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (sys_fail2): get rid of unlimited alloca.\n\n\t* io.c (mode_enc, pipe_open, rb_io_s_popen): ditto.\n\n\t* load.c (rb_feature_p): ditto.\n\n\t* object.c (rb_cstr_to_dbl): ditto.\n\n\t* io.c (mode_enc): fixed uninitialized variable.\n\nWed Jan 16 12:51:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_str_tmp_new, rb_str_shared_replace):\n\t  prototype moved.\n\nTue Jan 15 23:52:51 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/*: add ARG_UNUSED.\n\n\t* enc/koi8_u.c: added.\n\nTue Jan 15 23:00:08 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/utf_{16,32}{be,le}.c: remove some ARG_UNUSED.  replace struct\n\t  OnigEncodingST by OnigEncoding.\n\nTue Jan 15 22:30:43 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (ENC_REGISTER): use &OnigEncoding*.\n\t  (ENCINDEX_UTF_8): renamed from ENCINDEX_UTF8.\n\t  (rb_enc_init): use ENC_REGISTER.\n\n\t* include/ruby/oniguruma.h (OnigEncodingUTF8, ONIG_ENCODING_UTF8):\n\t  removed.\n\n\t* enc/*.c: remove use of &encoding_*; use enc argument instead.\n\nTue Jan 15 18:44:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enc/utf_8.c: remove use of ONIG_ENCODING_UTF8 altogether; use\n\t  enc argument instead.\n\nTue Jan 15 18:05:26 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/utf_8.c (ONIG_ENCODING_UTF8): reverted.\n\nTue Jan 15 18:01:55 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (MKFILES): add dependencies.\n\nTue Jan 15 18:00:16 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enc/utf_8.c (OnigEncodingDefine): encoding name should be kept\n\t  unchanged.\n\nTue Jan 15 17:53:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/utf_8.c: renamed as IANA name.\n\n\t* enc/Makefile.in: ditto.\n\nTue Jan 15 16:59:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): encoding libraries cannot be loaded until\n\t  load path is set.\n\nTue Jan 15 15:09:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/setup.mak: strip out empty lines from CPP output.\n\nTue Jan 15 14:57:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {win,bcc}32/setup.mak (-basic-vars-): expand BASERUBY to full path\n\t  to get rid of ./ruby.exe.\n\n\t* win32/enc-setup.mak: workaround for Borland make.\n\nTue Jan 15 14:44:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_locale_charmap): use ASCII-8BIT in miniruby.\n\nTue Jan 15 13:54:41 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32}/Makefile.sub (RUNRUBY): need to set archdir when\n\t  invoking ruby.\n\nTue Jan 15 13:43:18 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (us_ascii.o): add dependencies. [ruby-dev:33111]\n\nTue Jan 15 03:41:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (eval): check if backtrace is empty.  [ruby-core:15040]\n\nTue Jan 15 01:28:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: simplified dummy objects dependencies.\n\nTue Jan 15 01:19:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (OBJS): moved encoding.o from COMMONOBJS.\n\n\t* common.mk (dmyencoding.o): added.  [ruby-dev:33099]\n\n\t* configure.in, {win,bcc}32/Makefile.sub (MINIOBJS): added\n\t  dmyencoding.o.\n\n\t* dmyencoding.c (rb_locale_charmap): returns nil for miniruby.\n\nTue Jan 15 00:05:50 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (appendline): specifying limit should not generate broken\n\t  byte sequence.  strings should be rounded.  [ruby-dev:33088]\n\nMon Jan 14 23:33:02 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (Kconv.tolocale): argument is str.\n\nMon Jan 14 23:31:05 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in (setup): add -I$(EXTOUT)/$(arch) to MINIRUBY.\n\n\t* bootstraptest/runner.rb (main): expand -I directory path.\n\nMon Jan 14 23:28:10 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/enc-setup.mak (BUILTIN_ENCOBJS): depends on enc/Makefile.in.\n\nMon Jan 14 22:48:16 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_char_to_option_kcode): use rb_enc_find_index() instead\n\t  of using fixed index value.\n\n\t* enc/Makefile.in (encsrcdir): make US-ASCII built-in.\n\nMon Jan 14 22:25:02 2008  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* golf_prelude.rb: Shorter method name completion.  Same method\n\t  used for const missing. do_while and do_until added.  Enumerator\n\t  gains all of Array's abilities. Ex:\n\t    '123'.m{|i|i*2} #=> \"112233\"\n\t    '123'.pe #=> '123'.perm*' ' #=> \"123 132 213 231 312 321\"\n\t  base on a patch from Darren Smith <darrenks AT ml1.net>.\n\nMon Jan 14 21:10:02 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enc/us_ascii.c: wrong alias name: ANSI_X3.4-1986.\n\n\t* rubytest.rb: add -I#{srcdir} to load encoding DLL.\n\nMon Jan 14 18:53:58 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c: clear thread structure.\n\t  (TODO: survey that child process should clear mutex or not).\n\n\t* bootstraptest/test_knownbug.rb, test_thread.rb: move a fixed test.\n\nMon Jan 14 18:43:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: add \"flunk\" method.\n\n\t* bootstraptest/test_knownbug.rb: fix to use flunk.\n\nMon Jan 14 18:10:59 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.h: remove dangerous assembler sentence.\n\nMon Jan 14 18:06:37 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_locale_encoding): return US-ASCII when charmap is\n\t  nil.\n\nMon Jan 14 16:12:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/shellwords.rb: scape should be an alias to shellescape.  a\n\t  patch from Masahiro Kawato <m-kawato AT mwb.biglobe.ne.jp> in\n\t  [ruby-dev:33060].\n\nMon Jan 14 16:09:16 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.1: a patch to describe --encoding.  a patch from Yugui\n\t  <yugui AT yugui.sakura.ne.jp> in [ruby-dev:33079].\n\n\t* ruby.c: ditto.\n\nMon Jan 14 13:49:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_prepare_re): initialize error message buffer.\n\t  (rb_reg_search): ditto.\n\t  (rb_reg_check_preprocess): ditto.\n\t  (rb_reg_new_str): ditto.\n\t  (rb_enc_reg_new): ditto.\n\t  (rb_reg_compile): ditto.\n\t  (rb_reg_initialize_m): ditto.\n\t  (rb_reg_s_union_m): ditto.\n\nMon Jan 14 12:33:07 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/markup*:  Renamespace from SM::SimpleMarkup to\n\t  RDoc::Markup.\n\nMon Jan 14 10:45:45 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/ascii.c: Exchanged order of arguments for one ENC_ALIAS\n\nMon Jan 14 09:19:07 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/time.rb: do not reference Time directly from the inside of\n\t  definitions. [ruby-dev:33059]\n\nMon Jan 14 05:44:44 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/*.c: add replicas and aliases.\n\n\t* enc/make_encdb.h: add duplicate and undefined check.\n\nMon Jan 14 02:03:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h: remove ONIG_ENCODING_* and OnigEncoding*\n\t  which are not builtin.\n\n\t* regenc.{c,h} (onigenc_mb2_code_to_mbclen, onigenc_mb4_code_to_mbclen):\n\t  fix prototype.\n\n\t* enc/big5.c, enc/euc_kr.c, enc/euc_tw.c, enc/gb18030.c,\n\t  enc/koi8_r.c, enc/windows_1251.c: imported from Oniguruma.\n\nSun Jan 13 22:47:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/make_encdb.h: sort encoding names by original name.\n\n\t* encoding.c, enc/*.c: define replicas and aliases.\n\nSun Jan 13 20:24:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c: add documents.\n\nSun Jan 13 18:41:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (Init_Encoding): moved initialization from encdb.h.\n\n\t* enc/make_encdb.rb (enc_name_list): constified.\n\n\t* enc/make_encdb.rb (enc_init_db): moved some functions to encoding.c.\n\nSun Jan 13 13:53:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file): local variable was not initialized when -x flag\n\t  is given.\n\n\t* ruby.c (load_file): script files should not be affected by locale.\n\t  [ruby-dev:33054]\n\nSun Jan 13 12:01:32 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/generators*: Reorganize RDoc generators.\n\nSun Jan 13 11:41:11 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (ENCINDEX_EUC_JP, ENCINDEX_SJIS): removed.\n\t  (rb_enc_init): EUC-JP and Shift_JIS are not builtin now.\n\n\t* enc/Makefile.in: ditto.\n\n\t* common.mk: ditto.\n\n\t* ruby.c (proc_options): ditto.\n\n\t* enc/shift_jis.c, enc/euc_jp.c: fixes for remove from builtin.\n\nSun Jan 13 10:21:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_table): packed all enc_table stuff.\n\nSun Jan 13 09:58:17 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_init): revert removing SJIS.\n\n\t* enc/sjis.c: move to enc/shift_jis.c, to make encoding name equal to\n\t  filename for convenience of loading lib.\n\n\t* enc/shift_jis.c: moved from enc/sjis.c.\n\n\t* common.mk: follows enc/shift_jis.c.\n\n\t* enc/Makefile.in: ditto.\n\nSun Jan 13 09:22:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (incs): includes encdb.h.\n\nSun Jan 13 09:17:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub (MV): use move instead of ren.  [ruby-Bugs-17019]\n\nSun Jan 13 01:52:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enc/make_encdb.rb: should work on Ruby 1.8.  [ruby-dev:33069]\n\n\t* common.mk (encdb.h): pass enc dir from outside to make_encdb.rb.\n\nSun Jan 13 00:01:07 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/make_encdb.rb: added. search enc/*.c and make encoding database.\n\n\t* regenc.h (ENC_REPLICATE, ENC_ALIAS): added for defining replica\n\t  encoding and encoding alias.\n\n\t* encoding.c (rb_enc_init): move alias definitions to enc/*.c.\n\t  (rb_enc_find_index): search original of replica and alias when no\n\t  encoding library.\n\t  (rb_enc_name_list, rb_enc_aliases_enc_i, rb_enc_aliases_str_i,\n\t   rb_enc_aliases, Encoding.name_list, Encoding.aliases): added.\n\t  (Init_Encoding): init encdb.\n\n\t* enc/ascii.c, enc/us_ascii.c, enc/euc_jp.c, enc/sjis.c:\n\t  add replica encoding and encoding alias definition.\n\n\t* common.mk (dist-clean-local): add rule for remove encdb.h.\n\nSat Jan 12 18:27:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_define_alloc_func, rb_undef_alloc_func): should\n\t  define/undef on a singleton class.  [ruby-core:09959]\n\nSat Jan 12 12:44:36 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c: rdoc update.\n\nSat Jan 12 12:01:49 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: tuning for performance.\n\nSat Jan 12 11:29:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/test_proc.rb: fixed wrong expected result.  pointed\n\t  out by Kornelius \"murphy\" Kalnbach <murphy AT rubychan.de> in\n\t  [ruby-core:15022].\n\nSat Jan 12 04:38:38 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ruby.c (process_options): -e'script' is locale encoding by default.\n\t  (load_file): ruby script from stdin is locale encoding by default.\n\nSat Jan 12 04:31:59 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: fix bug: -m was -m0.\n\nFri Jan 11 23:22:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (string.c): call rb_str_buf_append to update encoding of\n\t  str1, even if str2 is empty.\n\nFri Jan 11 20:20:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (proc_mark): needs to mark the receiver too.  a patch from\n\t  Chris Heath <chris AT heathens.co.nz> in [ruby-core:14983].\n\t  [ruby-core:14885]\n\nFri Jan 11 18:28:49 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/usage.rb: Removed.\n\n\t* lib/getoptlong.rb: Update example to not use lib/rdoc/usage.rb.\n\nFri Jan 11 18:17:10 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/driver.rb (read_yaml): Follow namespace change\n\t  [ruby-core:14964].\n\nFri Jan 11 16:55:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_append): performance improvement.\n\nFri Jan 11 12:35:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: moved broken syscall checks from process.c etc.\n\n\t* defines.h (WORDS_BIGENDIAN): honor __BIG_ENDIAN__ than the result of\n\t  configure.\n\n\t* lib/rdoc/options.rb (check_diagram): more precise check, darwin\n\t  is not Windows but mingw is on it.\n\nFri Jan 11 09:59:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: update to r1.163.\n\n\t* ext/nkf/nkf.c: ASCII's canonical name is US-ASCII.\n\n\t* ext/nkf/lib/kconv.rb (Kconv.isjis): force_encoding('BINARY').\n\nFri Jan 11 09:23:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (set_base_encoding): must use rb_enc_dummy_p.\n\nFri Jan 11 06:13:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_to_encoding_index, rb_to_encoding): disallow nil.\n\t  [ruby-dev:33003]\n\nFri Jan 11 01:08:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (rb_mutex_unlock): proper error message for unlocking\n\t  mutex that is not locked.  a patch from Yusuke ENDOH\n\t  <mame at tsg.ne.jp> in [ruby-dev:33010].\n\nThu Jan 10 18:00:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* prelude.rb (Mutex::synchronize): capture exception from unlock.\n\t  [ruby-dev:32935]\n\nThu Jan 10 10:15:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_encoding_set): IO.pipe(\"euc-jp\", nil) should work as\n\t  IO.pipe(\"euc-jp\", nil).  [ruby-dev:33000]\n\n\t* io.c (io_encoding_set): handle nil for v1.\n\nThu Jan 10 02:41:22 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_binmode): should not alter encoding.  [ruby-dev:32918]\n\n\t* io.c (io_read_encoding): need not to return ASCII-8BIT for\n\t  binary IO.\n\nWed Jan  9 22:04:17 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/mathn.rb (Prime#each): returns an enumerator if no block\n\t  given. [ruby-dev:32815]\n\nWed Jan  9 22:03:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_replicate): replica of dummy is a dummy.\n\nWed Jan  9 20:55:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/e2mmap.rb (Exception2MessageMapper::Raise): define fail.\n\t  [ruby-dev:32854]\n\nWed Jan  9 20:35:42 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb: support X-Forwarded-* header fields.\n\t  WEBrick::HTTPRequest#{host,port,request_uri} is derived having\n\t  regards to X-Forwarded-Proto and X-Forwarded-Host.\n\n\t* lib/webrick/httprequest.rb\n\t  (WEBrick::HTTPRequest#server_name?): new method.\n\t  (WEBrick::HTTPRequest#remote_ip?): new method.\n\t  (WEBrick::HTTPRequest#ssl?): new method.\n\nWed Jan  9 18:24:39 2008  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* golf_prelude.rb (Array#to_s): alias to join.\n\n\t* golf_prelude.rb (FalseClass#to_s): return \"\".\n\nWed Jan  9 16:59:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_enc_cr_str_buf_cat): fix self appending.\n\nWed Jan  9 15:54:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): give priority command line encoding option\n\t  to RUBYOPT, and enable -E option in RUBYOPT.\n\n\t* ruby.c (load_file): deal with encoding option in shebang line if\n\t  nothing in command line and RUBYOPT.\n\nWed Jan  9 14:55:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (yycompile0): remove setting parser->enc because it is set\n\t  in parser_prepare() by previous change of parser_prepare().\n\nWed Jan  9 14:52:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_enc_cr_str_buf_cat, rb_str_buf_append): deal with self\n\t  appending.\n\nWed Jan  9 14:44:57 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_prepare): set parser->enc from lex_input for ripper.\n\nWed Jan  9 13:45:52 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (WEBrick::HTTPServer#start):\n\t  :DoNotReverseLookup option had not been performed.\n\nWed Jan  9 13:03:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_enc_cr_str_buf_cat): do not recalculate coderange\n\t  value if it's given from outside.\n\nWed Jan  9 08:42:01 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* enum.c:  Updating the documentation of Enumerable#zip to reflect\n\t  the recent changes Matz made to the method.\n\nWed Jan  9 01:35:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/Makefile.in (BUILTIN_ENCS): UTF-{16,32}{BE,LE} are not builtin.\n\nTue Jan  8 23:55:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_init): UTF-{16,32}{BE,LE} are not builtin.\n\nTue Jan  8 22:33:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c, Makefile.in, include/ruby/oniguruma.h,\n\t  enc/Makefile.in: fix rules for UTF-{16,32}{BE,LE}.\n\nTue Jan  8 20:02:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win{32,ce}/Makefile.sub: merged.\n\nTue Jan  8 19:48:15 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/driver.rb: Speed up Marshal.load. Fix bug with nested\n\t  classes' methods.\n\nTue Jan  8 19:17:29 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/*: Clean up namespacing of RI's classes.\n\nTue Jan  8 18:05:35 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* bin/ri, lib/rdoc/ri/*: Replace with Ryan Davis' cached ri.\n\nTue Jan  8 17:32:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_zip): honor length of the receiver, not the\n\t  shortest length.  [ruby-core:14738]\n\n\t* enum.c (enum_zip): returns array not enumerator for no block\n\t  form.  [ruby-core:14738]\n\n\t* enumerator.c (next_ii): do not ignore multiple values yielded.\n\n\t* array.c (rb_ary_zip): faster version without creating generators.\n\nTue Jan  8 15:47:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/utf{16,32}_{be,le}.c: use &OnigEncodingName(*) instead of\n\t  ONIG_ENCODING_*.\n\nTue Jan  8 15:40:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regenc.c (onigenc_strlen_null, onigenc_str_bytelen_null): suppressed\n\t  warnings.\n\n\t* regenc.h, enc/unicode.c (onigenc_unicode_ctype_code_range): added\n\t  encoding argument.\n\n\t* enc/utf{16,32}_{be,le}.c: added init functions.\n\n\t* enc/utf{16,32}_{be,le}.c: imported from Oniguruma 5.9.1.\n\nTue Jan  8 15:03:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (str_gsub): avoid appending empty pre-match substr.\n\nTue Jan  8 13:05:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_build_from_ary), iseq.c (iseq_load): fix for format change.\n\nTue Jan  8 07:56:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_buf_append): fix append itself.\n\nTue Jan  8 01:13:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (STR_ENC_GET): defined.  same as rb_enc_get without\n\t  enc_capable.\n\t  (coderange_scan): ASCII-8BIT test refined.\n\t  (rb_enc_cr_str_buf_cat): new internal function to accumulate\n\t  strings with encoding.\n\t  (rb_enc_str_buf_cat): use rb_enc_cr_str_buf_cat.\n\t  (rb_str_buf_append): ditto\n\t  (str_gsub): use rb_str_buf_append.\n\t  (rb_str_hash): use ENCODING_GET.\n\t  (rb_str_comparable): ditto.\n\t  (rb_str_cmp): compare encoding index, not rb_encoding address.\n\nMon Jan  7 20:37:55 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb: external encoding of\n\t  tempfiles is set to \"ASCII-8BIT\".\n\nMon Jan  7 19:39:50 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/template.rb:  Use ERB instead of custom template language.\n\n\t* lib/rdoc/generators/template/html/old_html.rb:  Remove.\n\n\t* lib/rdoc/generators/template/*: Convert to ERB.\n\nMon Jan  7 19:11:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (Init_String): sym_match arity spec was wrong.  a patch\n\t  from Hiroyuki Iwatsuki <don at na.rim.or.jp> in [ruby-dev:32957].\n\nMon Jan  7 18:10:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (str_gsub): move rb_enc_get(str) to out of loop.\n\nMon Jan  7 15:52:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (OnigEncodingType): new member\n\t  ruby_encoding_index to avoid linear search in rb_enc_to_index.\n\n\t* include/ruby/encoding.h (rb_enc_to_index): macro defined to use\n\t  ruby_encoding_index.\n\n\t* encoding.c (rb_enc_to_index): removed.\n\t  (enc_register_at): initialize ruby_encoding_index member.\n\nMon Jan  7 16:10:35 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/tokenstream.rb:  Namespace under RDoc.\n\nMon Jan  7 16:06:09 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/dot.rb:  Namespace under RDoc.\n\n\t* lib/rdoc/diagram.rb:  Clean up formatting.\n\nMon Jan  7 15:51:35 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/options.rb:  Convert to OptionParser, clean up -h output,\n\t  namespace under RDoc.\n\t* lib/rdoc/*:  Namespace RDoc::Options.\n\nMon Jan  7 15:42:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk, Makefile.in, */Makefile.sub (distclean-local): move\n\t  removing rule of ext/ripper/y.output from common.mk to Makefiles\n\t  that depend on platforms.\n\nMon Jan  7 13:54:57 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_preprocess): fix fixed_enc condition.\n\nMon Jan  7 11:51:49 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/generators/ri_generator.rb:  Merge documentation from the\n\t  same class on output.  Fixes bug where documentation could\n\t  disappear.\n\n\t* lib/rdoc/options.rb:  Fix typo.\n\n\t* lib/rdoc/generators/*: Clean up some namespacing and make RDoc\n\t  consistent.\n\nMon Jan  7 11:44:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_internal_get_index): extracted from\n\t  rb_enc_get_index.\n\t  (rb_enc_internal_set_index): extracted from rb_enc_associate_index\n\n\t* include/ruby/encoding.h (ENCODING_SET): work over ENCODING_INLINE_MAX.\n\t  (ENCODING_GET): ditto.\n\t  (ENCODING_IS_ASCII8BIT): defined.\n\t  (ENCODING_CODERANGE_SET): defined.\n\n\t* re.c (rb_reg_fixed_encoding_p): use ENCODING_IS_ASCII8BIT.\n\n\t* string.c (rb_enc_str_buf_cat): use ENCODING_IS_ASCII8BIT.\n\n\t* parse.y (reg_fragment_setenc_gen): use ENCODING_IS_ASCII8BIT.\n\n\t* marshal.c (has_ivars): use ENCODING_IS_ASCII8BIT.\n\nMon Jan  7 02:14:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (coderange_scan): avoid rb_enc_to_index.\n\t  (rb_enc_str_buf_cat): ditto.\n\t  (str_cat_char): use rb_enc_str_buf_cat.\n\t  (rb_str_inspect): ditto.\n\nMon Jan  7 01:36:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (coderange_scan): optimize ASCII-8BIT string.\n\t  (rb_enc_str_buf_cat): don't call coderange_scan if possible.\n\nMon Jan  7 01:05:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/erb.rb (ERB::Revision): cut off locale dependent string in Date\n\t  keyword.\n\nMon Jan  7 00:48:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* Date keyword removed to avoid inclusion of locale dependent\n\t  string.  [ruby-dev:32940]\n\nSun Jan  6 21:14:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_initialize_str): forbid raw non ASCII character\n\t  for ASCII-8BIT regexp in non ASCII-8BIT script.\n\nSun Jan  6 18:19:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_enc_str_buf_cat): declared.\n\n\t* string.c (coderange_scan): extracted from rb_enc_str_coderange.\n\t  (rb_enc_str_coderange): use coderange_scan.\n\t  (rb_str_shared_replace): copy encoding and coderange.\n\t  (rb_enc_str_buf_cat): new function for linear complexity string\n\t  accumulation with encoding.\n\t  (rb_str_sub_bang): don't conflict substituted part and replacement.\n\t  (str_gsub): use rb_enc_str_buf_cat.\n\t  (rb_str_clear): clear coderange.\n\n\t* re.c (rb_reg_regsub): use rb_enc_str_buf_cat.\n\nSun Jan  6 17:55:44 2008  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* lib/securerandom.rb: Add Win32 support.\n\nSun Jan  6 09:32:58 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: introduced some constants\n\t  (for internal use) and aliases (minute and second).\n\n\t* sample/cal.rb: trivial adjustments.\n\nSun Jan  6 01:38:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_initialize_str): /\\x80/n is not an error even if script\n\t  encoding is EUC-JP.\n\nSun Jan  6 00:48:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/resolv.rb (Resolv::DNS#each_address): get A record and then AAAA\n\t  record. [ruby-dev:32925]\n\nSat Jan  5 21:48:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* vm_insnhelper.c (vm_callee_setup_arg): it is not inlinable because\n\t  alloca is used.\n\nSat Jan  5 16:50:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_resize): copy if old data is not empty\n\t  [ruby-core:14785]\n\nSat Jan  5 13:04:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): no need for intermediate object.\n\nSat Jan  5 11:48:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (Init_Encoding): alias csWindows31J to Windows-31J.\n\t  IE6 accepts csWindows31J but Windows-31J.\n\nSat Jan  5 02:21:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (rb_intern): memorize interned ID for constant\n\t  string, using gcc's __builtin_constant_p and statement expression.\n\nSat Jan  5 02:14:45 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (trnext): should enable backslash escape.\n\nSat Jan  5 01:50:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_eval): move instance_eval and instance_exec to\n\t  BasicObject.  [ruby-core:14747]\n\n\t* lib/delegate.rb: should preserve new methods in BasicObject.\n\nSat Jan  5 01:46:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (proc_options): update according to the last API revert.\n\nSat Jan  5 01:30:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h, re.c (rb_reg_new): keep interface same as\n\t  1.8.  [ruby-core:14583]\n\n\t* include/ruby/intern.h, re.c (rb_reg_new_str): renamed, and defines\n\t  HAVE_RB_REG_NEW_STR macro to tell if it is available.\n\n\t* include/ruby/encoding.h (rb_enc_reg_new): added.\n\n\t* insns.def (toregexp), marshal.c (r_object0): use rb_reg_new_str().\n\n\t* re.c (rb_reg_regcomp, rb_reg_s_union): ditto.\n\nFri Jan  4 23:08:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_arg): use converted object.  [ruby-core:14759]\n\nFri Jan  4 16:24:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/digest/lib/digest/hmac.rb (Digest::HMAC#initialize): use\n\t  String#bytesize to avoid test errors on EUC-JP environment.\n\nFri Jan  4 14:00:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_prepare_re): check string encoding.  Oniguruma doesn't\n\t  support invalid encoding.\n\nFri Jan  4 10:22:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_search): avoid inner loop for reverse search.\n\n\t* regexec.c: unset USE_MATCH_RANGE_MUST_BE_INSIDE_OF_SPECIFIED_RANGE\n\t  which is turned on since oniguruma 5.9.1.\n\nFri Jan  4 02:53:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/euc_jp.c: remove eucjp_ prefix.  breakpoint can be specified as\n\t  euc_jp.c:mbc_enc_len.  avoid needless conflict by merge.\n\n\t* enc/sjis.c: remove sjis_ prefix.\n\n\t* enc/utf8.c: remove utf8_ prefix.\n\n\t* enc/iso_8859_1.c: remove iso_8859_1_ prefix.\n\n\t* enc/iso_8859_2.c: remove iso_8859_2_ prefix.\n\n\t* enc/iso_8859_3.c: remove iso_8859_3_ prefix.\n\n\t* enc/iso_8859_4.c: remove iso_8859_4_ prefix.\n\n\t* enc/iso_8859_5.c: remove iso_8859_5_ prefix.\n\n\t* enc/iso_8859_6.c: remove iso_8859_6_ prefix.\n\n\t* enc/iso_8859_7.c: remove iso_8859_7_ prefix.\n\n\t* enc/iso_8859_8.c: remove iso_8859_8_ prefix.\n\n\t* enc/iso_8859_9.c: remove iso_8859_9_ prefix.\n\n\t* enc/iso_8859_10.c: remove iso_8859_10_ prefix.\n\n\t* enc/iso_8859_11.c: remove iso_8859_11_ prefix.\n\n\t* enc/iso_8859_13.c: remove iso_8859_13_ prefix.\n\n\t* enc/iso_8859_14.c: remove iso_8859_14_ prefix.\n\n\t* enc/iso_8859_15.c: remove iso_8859_15_ prefix.\n\n\t* enc/iso_8859_16.c: remove iso_8859_16_ prefix.\n\nFri Jan  4 02:47:06 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_search): iterate onig_match for reverse mode.\n\nFri Jan  4 01:20:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32.h: only VC6 needs extern \"C++\" for math.h.  [ruby-talk:285660]\n\nFri Jan  4 00:54:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h: Oniguruma 5.9.1 merged.\n\nFri Jan  4 00:20:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_ungetc): move data in buffer if it is required to store the\n\t  argument.\n\nThu Jan  3 21:56:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (st_strcasecmp): declared for STRCASECMP.\n\t  (st_strncasecmp): declared for STRNCASECMP.\n\nThu Jan  3 20:24:48 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_jump.c (rb_f_catch): Restore cfp if caught thrown object.\n\nThu Jan  3 19:45:57 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_eval.rb, test_knownbug.rb: move a fixed test.\n\nThu Jan  3 18:39:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c: (rb_tolower, rb_toupper): body was exchanged.\n\nThu Jan  3 17:54:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* regenc.h (onigenc_ascii_is_code_ctype): put back.\n\nThu Jan  3 17:33:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_isalnum): defined.\n\t  (rb_isalpha): ditto.\n\t  (rb_isblank): ditto.\n\t  (rb_iscntrl): ditto.\n\t  (rb_isdigit): ditto.\n\t  (rb_isgraph): ditto.\n\t  (rb_islower): ditto.\n\t  (rb_isprint): ditto.\n\t  (rb_ispunct): ditto.\n\t  (rb_isspace): ditto.\n\t  (rb_isupper): ditto.\n\t  (rb_isxdigit): ditto.\n\t  (rb_tolower): ditto.\n\t  (rb_toupper): ditto.\n\n\t* include/ruby/ruby.h: don't include include/ruby/encoding.h.\n\t  (rb_isascii): defined.\n\t  (rb_isalnum): declared.\n\t  (rb_isalpha): ditto.\n\t  (rb_isblank): ditto.\n\t  (rb_iscntrl): ditto.\n\t  (rb_isdigit): ditto.\n\t  (rb_isgraph): ditto.\n\t  (rb_islower): ditto.\n\t  (rb_isprint): ditto.\n\t  (rb_ispunct): ditto.\n\t  (rb_isspace): ditto.\n\t  (rb_isupper): ditto.\n\t  (rb_isxdigit): ditto.\n\t  (rb_tolower): ditto.\n\t  (rb_toupper): ditto.\n\t  (ISASCII): simplified.\n\t  (ISPRINT): ditto.\n\t  (ISSPACE): ditto.\n\t  (ISUPPER): ditto.\n\t  (ISLOWER): ditto.\n\t  (ISALNUM): ditto.\n\t  (ISALPHA): ditto.\n\t  (ISDIGIT): ditto.\n\t  (ISXDIGIT): ditto.\n\t  (TOUPPER): ditto.\n\t  (TOLOWER): ditto.\n\n\t* include/ruby/encoding.h (rb_isascii): removed.\n\t  (rb_isalnum): ditto.\n\t  (rb_isalpha): ditto.\n\t  (rb_isblank): ditto.\n\t  (rb_iscntrl): ditto.\n\t  (rb_isdigit): ditto.\n\t  (rb_isgraph): ditto.\n\t  (rb_islower): ditto.\n\t  (rb_isprint): ditto.\n\t  (rb_ispunct): ditto.\n\t  (rb_isspace): ditto.\n\t  (rb_isupper): ditto.\n\t  (rb_isxdigit): ditto.\n\t  (rb_tolower): ditto.\n\t  (rb_toupper): ditto.\n\n\t* common.mk: dependency updated.\n\nThu Jan  3 15:10:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_isascii): simplified.\n\t  (rb_isalnum): call onigenc_ascii_is_code_ctype without indirect call.\n\t  (rb_isalpha): ditto.\n\t  (rb_isblank): ditto.\n\t  (rb_iscntrl): ditto.\n\t  (rb_isdigit): ditto.\n\t  (rb_isgraph): ditto.\n\t  (rb_islower): ditto.\n\t  (rb_isprint): ditto.\n\t  (rb_ispunct): ditto.\n\t  (rb_isspace): ditto.\n\t  (rb_isupper): ditto.\n\t  (rb_isxdigit): ditto.\n\n\t* include/ruby/oniguruma.h (onigenc_ascii_is_code_ctype): declaration\n\t  moved from regenc.h.\n\nThu Jan  3 14:37:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (parser_magic_comment): use STRNCASECMP.\n\t  (set_file_encoding): ditto.\n\nThu Jan  3 11:44:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c: don't mention an obsolete library, ParseDate.\n\nThu Jan  3 11:28:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (fptr_finalize): clear errno first.  [ruby-talk:284492]\n\nThu Jan  3 05:02:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/us_ascii.c: add us_ascii_ prefix for functions to ease\n\t  setting breakpoint when debugging.\n\n\t* enc/euc_jp.c: add eucjp_ prefix.\n\n\t* enc/sjis.c: add sjis_ prefix.\n\n\t* enc/iso_8859_1.c: add iso_8859_1_ prefix.\n\n\t* enc/iso_8859_2.c: add iso_8859_2_ prefix.\n\n\t* enc/iso_8859_3.c: add iso_8859_3_ prefix.\n\n\t* enc/iso_8859_4.c: add iso_8859_4_ prefix.\n\n\t* enc/iso_8859_5.c: add iso_8859_5_ prefix.\n\n\t* enc/iso_8859_6.c: add iso_8859_6_ prefix.\n\n\t* enc/iso_8859_7.c: add iso_8859_7_ prefix.\n\nThu Jan  3 02:44:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c (conv_digit): use ISDIGIT, ISLOWER and ISUPPER.\n\nWed Jan  2 23:50:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* util.c (ruby_strtoul): \"0x\", \"+\" and \"-\" is not a valid integer.\n\t  end of integer should be just after \"0\", the beginning, the\n\t  beginning respectively.\n\nWed Jan  2 15:23:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* util.c (ruby_strtoul): locale independent strtoul is implemented to\n\t  avoid \"i\".to_i(36) cause 0 under tr_TR locale on Debian GNU/Linux\n\t  4.0 (Etch).\n\t  This is newly implemented, not a copy of missing/strtoul.c.\n\n\t* include/ruby/ruby.h (ruby_strtoul): declared.\n\t  (STRTOUL): defined to use ruby_strtoul.\n\n\t* bignum.c, pack.c, ext/socket/socket.c: use STRTOUL.\n\n\t* configure.in (strtoul): don't check.\n\n\t* missing/strtoul.c: removed.\n\n\t* include/ruby/missing.h (strtoul): removed.\n\n\t* common.mk (strtoul.o): removed.\n\n\t* LEGAL (missing/strtoul.c): removed.\n\nWed Jan  2 14:41:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk (strcasecmp.o): removed.\n\t  (strncasecmp.o): removed.\n\n\t* include/ruby/missing.h (strcasecmp): removed.\n\t  (strncasecmp): removed.\n\nWed Jan  2 11:34:57 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/strcasecmp.c: removed.  Ruby don't use locale dependent\n\t  strcasecmp.\n\n\t* missing/strncasecmp.c: ditto.\n\n\t* configure.in: don't check strcasecmp and strncasecmp.\n\n\t* LEGAL: missing/strcasecmp.c and missing/strncasecmp.c removed.\n\nWed Jan  2 10:13:54 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* sample/time.rb: use Process.times instead of Time.times.\n\nWed Jan  2 09:09:53 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* sample/goodfriday.rb: examples for date are enough.  retired.\n\nWed Jan  2 08:58:54 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* sample/cal.rb: just updated with the newest version.\n\nWed Jan  2 01:19:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/depend: dependency updated.\n\nWed Jan  2 00:14:41 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/{nkf.c, utf8tbl.c}: Update nkf.\n\n\t* ext/nkf/nkf.c: fix documents.\n\n\t* ext/nkf/lib/kconv.rb: fix documents.\n\t  (Kconv.is*): use valid_encoding?.\n\t  (Kconv.isjis): defined.\n\nTue Jan  1 23:17:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk: dependency updated.\n\nTue Jan  1 21:11:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_isascii): defined.\n\t  (rb_isalnum): ditto.\n\t  (rb_isalpha): ditto.\n\t  (rb_isblank): ditto.\n\t  (rb_iscntrl): ditto.\n\t  (rb_isdigit): ditto.\n\t  (rb_isgraph): ditto.\n\t  (rb_islower): ditto.\n\t  (rb_isprint): ditto.\n\t  (rb_ispunct): ditto.\n\t  (rb_isspace): ditto.\n\t  (rb_isupper): ditto.\n\t  (rb_isxdigit): ditto.\n\t  (rb_tolower): ditto.\n\t  (rb_toupper): ditto.\n\n\t* include/ruby/st.h (st_strcasecmp): declared.\n\t  (st_strncasecmp): ditto.\n\n\t* st.c (type_strcasehash): use st_strcasecmp instead of strcasecmp.\n\t  (st_strcasecmp): defined.\n\t  (st_strncasecmp): ditto.\n\n\t* include/ruby/ruby.h: include include/ruby/encoding.h.\n\t  (ISASCII): use rb_isascii.\n\t  (ISPRINT): use rb_isprint.\n\t  (ISSPACE): use rb_isspace.\n\t  (ISUPPER): use rb_isupper.\n\t  (ISLOWER): use rb_islower.\n\t  (ISALNUM): use rb_isalnum.\n\t  (ISALPHA): use rb_isalpha.\n\t  (ISDIGIT): use rb_isdigit.\n\t  (ISXDIGIT): use rb_isxdigit.\n\t  (TOUPPER): defined.\n\t  (TOLOWER): ditto.\n\t  (STRCASECMP): ditto.\n\t  (STRNCASECMP): ditto.\n\n\t* dir.c, encoding.c, file.c, hash.c, process.c, ruby.c, time.c,\n\t  transcode.c, ext/readline/readline.c: use locale insensitive\n\t  functions.  [ruby-core:14662]\n\nTue Jan  1 17:50:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_mode_enc): encoding spec is not allowed in binary mode.\n\t  [ruby-dev:32913]\n\nTue Jan  1 14:41:56 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml: 1.9 patch from Sam Ruby mentioned in his blog:\n\t  <http://intertwingly.net/blog/2007/12/31/Porting-REXML-to-Ruby-1-9>\n\t  [ruby-core:14639]\n\nTue Jan  1 14:15:04 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_substr): offset movement bug.  a patch from\n\t  Vincent Isambart <vincent.isambart at gmail.com> in\n\t  [ruby-core:14647].  [ruby-core:14644]\n\nTue Jan  1 01:29:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_to_encoding): raises for non-nil, non-encoding,\n\t  non-string object.  [ruby-core:14634]\n\nTue Jan  1 01:04:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): rejects dummy encoding.\n\nMon Dec 31 23:53:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options, process_options): delays finding encoding\n\t  until load_path is set.\n\nMon Dec 31 23:27:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_resize): embeds if ptr is null.  [ruby-dev:32819]\n\nMon Dec 31 23:17:22 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#proxy_service):\n\t  call do_XXX which correspond with request method.\n\t  (WEBrick::HTTPProxyServer#do_CONNECT,do_GET,do_POST,do_HEAD): added.\n\n\t* test/webrick/test_httpproxy.rb: add test for WEBrick::HTTPProxyServer.\n\nMon Dec 31 22:53:29 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread_pthread.c (native_sleep): timespec tv_sec may overflow on\n\t  some platform.  a patch from zunda <zunda616e AT yahoo.co.jp> in\n\t  [ruby-dev:32904].\n\nMon Dec 31 19:35:20 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (IS_7BIT): removed.\n\t  (single_byte_optimizable): new function to test optimizationability\n\t  using single byte string.\n\t  (str_strlen): use single_byte_optimizable instead of\n\t  is_ascii_string.\n\t  (str_nth): rename argument: asc -> singlebyte.\n\t  (str_offset): ditto.\n\t  (rb_str_substr): use single_byte_optimizable instead of IS_7BIT.\n\t  (rb_str_index): ditto.\n\t  (rb_str_rindex): ditto.\n\t  (rb_str_splice): ditto.\n\t  (rb_str_justify): ditto.\n\nMon Dec 31 07:39:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* main.c, goruby.c (RUBY_MAIN_INIT): removed.\n\n\t* goruby.c (goruby_run_node): run after ruby_init_loadpath() so that\n\t  require works, and protect the call.\n\nMon Dec 31 06:50:38 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: not use -I$(srcdir)/lib with $(MINIRUBY) for cross\n\t  compiling.\n\n\t* configure.in, {win,bcc}32/Makefile.sub (MINIRUBY): -I$(srcdir)/lib\n\t  moved.\n\nMon Dec 31 06:08:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_enc_sprintf, rb_enc_vsprintf): prototyped.\n\n\t* sprintf.c (rb_enc_sprintf, rb_enc_vsprintf): new functions to format\n\t  arguments with encoding.\n\nSun Dec 30 23:48:00 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (String#/): define / as split, as association of\n\t  Array#*.\n\nSun Dec 30 23:19:06 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* golf_prelude.rb (@@golf_hash): for performance improvement.\n\nSun Dec 30 22:44:50 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (_valid_time?): I'm not sure to recommend such an\n\t  expression.  but anyway it is acceptable now.  [ruby-core:14580]\n\nSun Dec 30 21:54:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (program, yycompile0): too early to drop lex_lastline in\n\t  rules.\n\nSun Dec 30 19:23:23 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bootstraptest/test_knownbug.rb: support DOSISH.\n\nSun Dec 30 17:43:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (Init_Encoding): registered rb_encoding differs from\n\t  ONIG_ENCODINGs.\n\nSun Dec 30 13:56:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (program): clear input strings after all process.\n\n\t* parse.y (parser_nextc, parser_yylex): should not drop lex_lastline\n\t  while lex_p is valid.  [ruby-dev:32896]\n\nSun Dec 30 10:54:49 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* configure.in: rm largefile.h.\n\n\t* common.mk: clean golf, conf*, preludes, and so on.\n\n\t* enc/depend: silent and ignore error for rm.\n\n\t* enc/Makefile.in: should define prefix and exec_prefix.\n\nSun Dec 30 06:31:11 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* encoding.c (Init_encoding): register Windows-31J and its alias.\n\t  [ruby-dev:32843]\n\n\t* ruby.c (proc_options): -Ks options means Windows-31J, not Shift_JIS.\n\nSun Dec 30 06:27:38 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (depend_rules): need to convert `/' to `\\' for windows\n\t  native commands.\n\nSun Dec 30 01:43:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/Makefile.in (DLDFLAGS): like as extensions.  [ruby-core:14567]\n\nSat Dec 29 23:48:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fflush): don't retry when wbuf modified by other threads.\n\nSat Dec 29 22:44:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_regsub): returns the given string itself if nothing\n\t  changed.\n\n\t* string.c (rb_str_sub_bang): keeps code-range as possible.\n\n\t* string.c (str_gsub): adjusts code-range.  [ruby-core:14566]\n\nSat Dec 29 21:54:37 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (clean, distclean, realclean): should include clean-enc\n\t  and others.  [ruby-dev:32887]\n\nSat Dec 29 13:29:29 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/test_knownbug.rb: add a test reported by\n\t  Kazuhiro NISHIYAMA.  [ruby-dev:32819].\n\t  add a test reported by Frederick Cheung.  [ruby-core:14556].\n\n\t* test/ruby/test_m17n.rb (test_gsub): add a test reported by\n\t  Sam Ruby.  [ruby-core:14566]\n\nSat Dec 29 04:46:58 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/test/unit/assertions.rb (Test::Unit::Assertions#assert_throws):\n\t  throw won't raise NameError nor ThreadError but ArgumentError on 1.9.\n\t  (Test::Unit::Assertions#assert_not_throws): ditto.\n\n\t* test/testunit/test_assertions.rb: add assertions for throwing some\n\t  objects other than Symbol.\n\nSat Dec 29 03:10:12 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (io_unread): fix typo.\n\nSat Dec 29 02:18:45 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (io_unread): adhoc workaround for non-binary mode of some DOSish\n\t  platforms. this is not perfect and safety, but works with most cases.\n\nFri Dec 28 23:53:18 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/strscan/strscan.c (str_new): new function for allocate an string\n\t  with encoding propagation.\n\t  (extract_range): use str_new.\n\t  (extract_beg_len): ditto.\n\t  (strscan_peek): ditto.\n\t  (strscan_rest): ditto.\n\nFri Dec 28 20:18:42 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* golf_prelude.rb (Object.say): derived from Perl 5.10.\n\nFri Dec 28 19:39:34 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* encoding.c (rb_locale_encoding): should check return value from\n\t  rb_locale_charmap().\n\n\t* ruby.c (locale_encoding): removed.\n\n\t* ruby.c (process_options): use rb_locale_encoding() instead of\n\t  locale_encoding().\n\n\t* ext/readline/readline.c (readline_readline): use locale encoding\n\t  instead of input IO's encoding. [ruby-dev:32872]\n\nFri Dec 28 19:29:07 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_readline, readline_s_set_input):\n\t  use mReadline directly because self is not always same.\n\nFri Dec 28 19:11:28 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_locale_encoding): defined.\n\n\t* include/ruby/encoding.h (rb_locale_encoding): declared.\n\nFri Dec 28 18:45:29 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_readline): set encoding to result.\n\n\t* ext/readline/readline.c (readline_s_set_input, Init_readline): save\n\t  input IO to hidden instance variable.\n\nFri Dec 28 01:55:04 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c (transcode_dispatch): reverted some of the changes\n\t  in r14746.\n\n\t* transcode.c, enc/trans/single_byte.c: Added conversions to/from\n\t  US-ASCII and ASCII-8BIT (using data tables).\n\n\t* enc/trans/single_byte.c: Some spacing/ordering changes due to\n\t  automatic data file generation.\n\n\t* transcode_data.h, transcode.c: Preliminary code for using\n\t  micro-conversion functions.\n\n\t* test/ruby/test_transcode.rb: Added some tests for US-ASCII and\n\t  ASCII-8BIT conversions.\n\nFri Dec 28 17:33:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (make_time_t): verify mktime and timegm result.\n\nFri Dec 28 16:36:33 2007  NARUSE, Yui  <naruse@airemix.com>\n\n\t* lib/resolv.rb (Resolv::DNS#each_address): now returns IPv6 address.\n\nFri Dec 28 16:10:00 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/dot/dot.rb: Move to lib/rdoc/dot.rb. Fix namespacing.\n\n\t* lib/rdoc/diagram.rb: Update for 1.9.\n\nFri Dec 28 15:38:29 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/markup/sample/: Move to sample/rdoc/markup directory.\n\nFri Dec 28 15:15:12 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/irb/completion.rb: Remove garbage (\"X=1\").\n\nFri Dec 28 15:12:05 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc, test/rdoc: Move RDoc tests out of lib/.\n\nFri Dec 28 15:10:47 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (set_base_encoding, enc_base_encoding): renamed\n\t  based_encoding as base_encoding.\n\nFri Dec 28 13:57:49 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (Integer#each): use alias simply.\n\nFri Dec 28 13:45:21 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* golf_prelude.rb (Object.const_missing): No need to delegate to\n\t  superclass.  Just raise a NameError when none matches.\n\nFri Dec 28 13:18:47 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, test/rss/test_version.rb: 0.2.2 -> 0.2.3.\n\n\t* lib/rss/parser.rb, test/rss/test_parser.rb: supported \"-\" in tag name.\n\t  Reported by Ray Chen. Thanks.\n\nFri Dec 28 13:07:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (os_obj_of): returns an enumerator if no block given.  based on\n\t  a patch from Yugui <yugui AT yugui.sakura.ne.jp>.  [ruby-dev:32828]\n\nFri Dec 28 11:46:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/ytab.sed: skip yydestruct hack unless yymsg exists, for bison\n\t  1.8 series.  [ruby-dev:32825]\n\nFri Dec 28 11:39:02 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (Object.quine): need to join because SCRIPT_LINES__[]\n\t  returns an array of lines.\n\nFri Dec 28 11:16:53 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (Object.quine): get the script itself.\n\nFri Dec 28 10:06:54 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* golf_prelude.rb (Object.const_missing): Auto-complete constants.\n\nFri Dec 28 01:55:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_dispatch): allows transcoding from/to\n\t  ASCII-8BIT.\n\nFri Dec 28 01:47:25 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (Integer): Integer is now enumerable on goruby.\n\nFri Dec 28 01:27:47 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/rdoc/rdoc.rb (parse_files): don't depend on the default external\n\t  encoding.\n\nFri Dec 28 00:01:57 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (golf_prelude.c): use MINIRUBY instead of BASERUBY because\n\t  tool/compile_prelude.rb requires rbconfig.rb.\n\nThu Dec 27 23:56:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: should not use the libraries under the source directory\n\t  at cross compiling.\n\nThu Dec 27 23:43:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (EXTOBJS): uses ruby.rc always for other than\n\t  rubyw.exe.\n\nThu Dec 27 22:31:37 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rubygems/commands/update_command.rb (do_rubygems_update): use\n\t  portable and safely ENV operation. reported in\n\t  <http://slashdot.jp/developers/comments.pl?sid=384937&cid=1273085>.\n\nThu Dec 27 21:47:04 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* mkconfig.rb (prefix): archdir is \"1.9.0\", not \"1.9\". reported in\n\t  <http://slashdot.jp/developers/comments.pl?sid=384937&cid=1273085>.\n\nThu Dec 27 17:57:30 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y, transcode_data.h, transcode.c, lib/weakref.rb,\n\t  lib/irb/ruby-lex.rb, lib/irb/lc/error.rb, enc/trans/japanese.c:\n\t  change \"illegal\" to \"invalid\" in a context which doesn't against\n\t  a law.\n\nThu Dec 27 16:37:06 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_s_union): show encodings in error message.\n\nThu Dec 27 15:25:16 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_codelen): show codepoint in error message.\n\n\t* include/ruby/encoding.h (rb_enc_codelen): comment it returns\n\t  positive integer.\n\n\t* string.c (rb_str_concat): rb_enc_codelen doesn't return 0.\n\nThu Dec 27 15:18:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_codelen): error message refined.\n\nThu Dec 27 15:11:27 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_check): show encodings in error message.\n\nThu Dec 27 15:02:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_casecmp): fixed using a wrong variable.\n\t  [ruby-list:44402]\n\nThu Dec 27 14:34:38 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fflush): checks wbuf modification by other threads.\n\t  not perfect.  it need locks.\n\nThu Dec 27 10:44:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: a patch to support IRIX from Andrew\n\t  Thompson <andrew@hijacked.us> in [ruby-core:14447].\n\nThu Dec 27 02:25:45 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_tmpsrc): retry to create file if Errno::EACCES\n\t  occurs. this is a workaround for mswin32.\n\nWed Dec 26 22:47:31 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Name.==): fix for other is array of\n\t  Resolv::DNS::Label::Str.\n\n\t* lib/resolv.rb (Resolv::DNS::MessageEncoder#put_label): String#string\n\t  is not defined, so replace to_s.\n\n\t* lib/resolv.rb (Resolv::IPv6#to_name): ip6.int is obsoleted by\n\t  ip6.arpa.\n\n\nWed Dec 26 21:27:02 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (_xmlschema): some improvements.\n\n\t* lib/date/format.rb (_parse): a new hint compfunc. [experimental]\n\nWed Dec 26 17:31:08 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fflush): check closed fptr after rb_write_internal to avoid\n\t  SEGV on MacOS X.\n\nWed Dec 26 16:10:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (Init_String): defines chars method.\n\nWed Dec 26 14:38:43 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* instruby.rb: install goruby if exists.\n\nWed Dec 26 13:55:02 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb:  Cleaned up some code with Ruby 1.9 idioms.\n\nWed Dec 26 13:29:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (tmpbuf): use rb_str_tmp_new().\n\nWed Dec 26 00:57:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/json/ext/generator/generator.c (Init_generator): requires\n\t  json/common.rb for GeneratorError, when static linked.  a patch from\n\t  Kenta Murata <muraken AT gmail.com> in [ruby-dev:32789].\n\nTue Dec 25 23:33:55 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* development version 1.9.0 released.\n\nTue Dec 25 23:25:29 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/node.rb (REXML::Node::indent): should initialize rv\n\t  variable.  a patch from Tadayoshi Funaba <tadf AT dotrb.org> in\n\t  [ruby-dev:32783].\n\nTue Dec 25 23:16:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): encoding option in shebang and RUBYOPT did not\n\t  work, do not store alloca()ed string in a parent scope struct.\n\nTue Dec 25 22:56:52 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.status): keep this file.\n\nTue Dec 25 22:55:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (TIMEZONE_VOID): typo.\n\nTue Dec 25 22:45:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns2vm.rb: add encoding option to shebang.\n\nTue Dec 25 22:13:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/pending.rb: add pending issue.\n\nTue Dec 25 22:12:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c: remove Thread.critical(=).\n\nTue Dec 25 21:44:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: add version number.\n\nTue Dec 25 21:32:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix stack consistency error\n\t  (break is compiled to throw instead of jump insn).\n\t  these problems are reported by Yusuke ENDOH <mame AT tsg.ne.jp>\n\n\t* bootstraptest/test_knownbug.rb, test_syntax.rb: move fixed test.\n\nTue Dec 25 21:32:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (struct parser_params): make parser_ruby_sourcefile common\n\t  field.  it is used by node_newnode.\n\t  new field parser_ruby_sourcefile_string for ripper.\n\t  (parser_initialize): initialize parser_ruby_sourcefile in ripper.\n\t  (ripper_initialize): initialize parser_ruby_sourcefile_string.\n\nTue Dec 25 21:26:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.c): depends on tool/ytab.sed.\n\n\t* tool/ytab.sed: hack for bison 2.1.\n\nTue Dec 25 20:24:58 2007  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_ssl.c: Only show a warning if the default\n\t  DH callback is actually used.\n\n\t* ext/openssl/ossl_rand.c: New method: random_add().\n\nTue Dec 25 20:24:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: argument check, and cleanup exported directory.\n\nTue Dec 25 20:07:13 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* tool/make-snapshot: more portable.\n\nTue Dec 25 19:01:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.h (rb_enc_mbc_to_codepoint): wrapper for\n\t  ONIGENC_MBC_TO_CODE().\n\n\t* string.c (rb_str_succ): deal with invalid sequence as binary.\n\nTue Dec 25 18:40:46 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c: all methods need $SAFE < 1.\n\n\t vm.c: comment out debug functions.\n\nTue Dec 25 18:37:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (appendline): move RS comparison to rb_io_getline_1().\n\nTue Dec 25 18:27:51 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_each_line): don't call rb_enc_codepoint with empty\n\t  string.\n\nTue Dec 25 18:06:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_inspect): don't call rb_enc_codepoint with empty\n\t  string.  fix '#'.inspect.\n\n\t* encoding.c (rb_enc_codepoint): raise on empty string.\n\nTue Dec 25 17:48:28 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* vm.c (rb_frame_method_id_and_class): new function to get the\n\t  method id and class of the current frame.\n\nTue Dec 25 17:32:04 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/mkmf.rb (create_makefile): Add a missing dependency on the\n\t  target directory for each .rb file.  This will hopefully fix\n\t  parallel make (-jN).  Tested on FreeBSD.\n\nTue Dec 25 16:51:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/trans/japanese.c (rb_{from,to}_{SHIFT_JIS,EUC_JP}): inversed\n\t  from_encoding and to_encoding.\n\nTue Dec 25 16:41:57 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (h): add new method for all golfers.\n\nTue Dec 25 16:37:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/trans/japanese.c (rb_to_EUC_JP): fixed typo.\n\nTue Dec 25 16:34:58 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/dl/depend: add dependencies. [ruby-dev:32760]\n\nTue Dec 25 16:26:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/ruby.h, thread.c: rename is_ruby_native_thread() to\n\t  ruby_native_thread_p().\n\n\t* ext/tk/tcltklib.c: apply it.\n\nTue Dec 25 16:15:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (clean-enc): clean encoding objects.\n\nTue Dec 25 16:04:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, goruby.c, golf_prelude.rb: for golfers.\n\n\t* main.c (main): hook for embedding applications.\n\n\t* tool/compile_prelude.rb: can change initialize function name.\n\nTue Dec 25 15:59:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_register): do not use based_encoding to check if\n\t  dummy encoding.\n\nTue Dec 25 15:55:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_succ): fix for string with non-alphanumeric chars.\n\nTue Dec 25 15:42:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_external_encoding): should return nil for\n\t  pass-through write IO.  [ruby-dev:32740]\n\nTue Dec 25 15:24:57 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (appendline): initialize rslen to 1 if rsptr is 0.\n\t  rslen is the length of the delimiter.\n\t  if only delim is given, it should be 1.\n\t  [ruby-dev:32746]\n\nTue Dec 25 15:21:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_dispatch): fix for multistep transcode.\n\nTue Dec 25 15:07:51 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/trans/single_byte.c (Init_single_byte): renamed.\n\nTue Dec 25 15:00:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_yield): when multiple values yielded from #each\n\t  pack them into an array.  [ruby-dev:32708]\n\n\t* enum.c: all method but all?, any?, one? and none? passed packed\n\t  multiple values to the block.\n\n\t* enum.c (collect_all): should pack all values.  [ruby-core:14410]\n\nTue Dec 25 14:57:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (COMMONOBJS): transcode_data_*.c moved under enc/trans.\n\n\t* transcode_data.h (rb_transcoding, rb_transcoder): prefixed.\n\n\t* transcode.c (rb_register_transcoder, rb_declare_transcoder): split\n\t  declaration and registration.  [ruby-dev:32704]\n\n\t* transcode.c (transcode_dispatch): autoload pre-declared transcoder.\n\n\t* transcode.c (str_transcode): use rb_define_dummy_encoding().\n\n\t* transcode.c (Init_transcode): initialize transcoder tables.\n\n\t* enc/trans/single_byte.c, enc/trans/japanese.c: moved from top.\n\nTue Dec 25 14:20:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mkmf.rb (map_dir): should generate path including $top_srcdir.\n\nTue Dec 25 14:09:16 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb:  Fixed test failures caused by changes to Ruby.\n\n\t* test/csv/tc_serialization, test/csv/tc_csv_parsing, test/csv/tc_features:\n\t  Fixed test failures caused by changes to Ruby.\n\nTue Dec 25 14:11:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (io_encoding_set): missing return type.\n\nTue Dec 25 14:03:48 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* test/rinda/test_rinda.rb (MockClock#{_forward, forward, sleep}):\n\t  Change default value of n as @reso from nil.  If default value is\n\t  nil, n.+ is not defined.\n\nTue Dec 25 13:54:01 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_io_m17n.rb (test_pipe): fixed.\n\t  [ruby-dev:32743]\n\nTue Dec 25 13:44:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_wait_fd_rw): should check EBADF on select().\n\nTue Dec 25 13:30:03 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.c, thread_pthread.h, thread_win32.c,\n\t  thread_win32.c: make some functions static functions.\n\t  a patch from Tadashi Saito <shiba AT mail2.accsnet.ne.jp>\n\t  in [ruby-core:14407]\n\nTue Dec 25 13:23:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_io_m17n.rb (test_write_noenc): don't mix text and\n\t  binary mode.  [ruby-dev:32743]\n\nTue Dec 25 13:13:09 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* README.EXT.ja, dir.c, eval.c, eval_intern.h, lex.c.src,\n\t  lex.c.blt, keywords, load.c, thread.c: more ANSI'ize.\n\t  a patch from Tadashi Saito <shiba AT mail2.accsnet.ne.jp>\n\t  in [ruby-dev:32725]\n\nTue Dec 25 13:07:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_core.h, thread.c, cont.c: add RUBY_VM_SET_INTERRUPT(),\n\t  RUBY_VM_SET_TIMER_INTERRUPT(), RUBY_VM_INTERRUPTED().\n\n\t* thread.c, thread_pthread.c, thread_win32.c: fix to ignore time slice\n\t  event until sleep.\n\n\t* bootstraptest/test_thread.rb: add a test for time limited join test.\n\nTue Dec 25 12:42:59 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (Init_VM): remove unused code.\n\t  [ruby-dev:32732]\n\nTue Dec 25 12:32:32 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c: Moving a static counter from inside register_transcoder()\n\t  and register_functional_transcoder() to outside the functions, renaming\n\t  from n to next_transcoder_position. Fixes 3) in [ruby-dev:32715].\n\nTue Dec 25 12:22:17 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* sample/from.rb: follow Ruby 1.9 libraries.\n\nTue Dec 25 12:21:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (method_inspect): preserve encoding of the method name.\n\nTue Dec 25 12:07:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (BASERUBY): delayed error until BASERUBY is used.\n\nTue Dec 25 11:48:35 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/README: removed obsoleted files: dbmtest.rb,\n\t  getopts.test, mrshtest.rb, regx.rb.\n\nTue Dec 25 11:45:34 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb:  Import the FasterCSV source as the new CSV class.\n\n\t* test/csv/*:  Added all applicable tests from FasterCSV.\n\nTue Dec 25 11:33:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (report_bug): uses ruby_description.\n\nTue Dec 25 11:20:38 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix stack consistency error.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>  [ruby-dev:32720]\n\n\t* bootstraptest/test_syntax.rb: add 2 tests for above.\n\nTue Dec 25 11:14:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c, vm_core.h: comment out unused fields.\n\nTue Dec 25 11:02:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: check frame is FINAL when creating env.\n\t  [ruby-core:14395]\n\n\t* bootstraptest/test_block.rb: add a test for above.\n\nTue Dec 25 09:12:13 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/:  Enable RDoc debugging only with $DEBUG_RDOC.\n\nTue Dec 25 08:37:43 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb, test/csv/test_csv.rb:  Removed in preparation for\n\t  FasterCSV code import.\n\nTue Dec 25 08:27:43 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems.rb:  Fix test failures.\n\n\t* test/rubygems/test_gem.rb:  Fix test failure.\n\nTue Dec 25 06:23:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb, test_literal.rb: move fixed test.\n\nTue Dec 25 06:19:04 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* sample/biorhythm.rb: follow Ruby 1.9 libraries.\n\nTue Dec 25 06:15:01 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: add dummy toplevel frame.\n\nTue Dec 25 05:44:56 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/net/http.rb:  Fix uninitialized variable warning.\n\t  [ruby-talk:284582]\n\n\t* lib/irb/output-method.rb:  Remove unused #foo method.\n\t  [ruby-talk:284582]\n\nTue Dec 25 05:24:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile): clear local table if node == 0.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>  [ruby-dev:32530]\n\n\t* vm.c: clear VM stack.\n\nTue Dec 25 04:23:32 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (rb_id2str): fill klass of returned string as rb_cString.\n\t  some strings are allocated before rb_cString is created.\n\t  This prevents a \"called on terminated object\" error by\n\t  ObjectSpace.each_object(Module) {|m| p m.name }.\n\nTue Dec 25 03:51:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix stack consistency bug.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>\n\nTue Dec 25 03:19:47 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* tool/make-snapshot: must create configure and lex.c.\n\nTue Dec 25 03:16:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_pipe): now takes up to two arguments.  allow its\n\t  external/internal encoding by Encoding objects.\n\n\t* io.c (rb_io_set_encoding): new method to set encoding of the IO.\n\n\t* io.c (argf_set_encoding): ditto.\n\nTue Dec 25 03:08:53 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* pack.c (pack_pack): use NUM2LONG instead of NUM2INT.\n\n\t* numeric.c (fix_lshift, fix_aref): use SIZEOF_LONG instead of\n\t  SIZEOF_VALUE.\n\n\t* bignum.c (big2ulong, rb_big_aref): ditto.\n\nTue Dec 25 02:55:26 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/rexml/element.rb (REXML::Elements#each): yield in each\n\t  should be called with one parameter. [ruby-dev:32708]\n\nTue Dec 25 02:15:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): add a \"pop\" insn after break\n\t  to fix stack consistency error.  [ruby-core:14385]\n\n\t* bootstraptest/test_syntax.rb: add tests for above.\n\n\t* bootstraptest/test_knownbug.rb: remove fixed bug.\n\nTue Dec 25 01:54:36 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* id.c (Init_id): remove several unused symbols. [ruby-core:14362]\n\n\t* compile.c (iseq_specialized_instruction): do not use\n\t  VM_CALL_SEND_BANG flag any longer.\n\nTue Dec 25 01:42:41 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/rdoc/rdoc.rb (parse_files): interpret coding cookie.\n\nTue Dec 25 01:38:04 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (method_name): preserve Symbol's encoding.\n\n\t* numeric.c (fix_id2name): ditto.\n\nTue Dec 25 01:19:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_enc_left_char_head): new utility macro.\n\n\t* include/ruby/encoding.h (rb_enc_right_char_head): ditto.\n\n\t* io.c (appendline): does multibyte RS search in the function.\n\n\t* io.c (prepare_getline_args): RS may be nil.\n\n\t* io.c (rb_io_getc): should process character based on external\n\t  encoding, when transcoding required.\n\nTue Dec 25 01:07:57 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/irb/output-method.rb: translate a comment to English to\n\t  avoid mix of EUC-JP comment and UTF-8 Date keyword.\n\t  svn substitute Date keyword with UTF-8 weekday on UTF-8 locale.\n\nTue Dec 25 00:27:28 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservley/cgihandler.rb\n\t  (WEBrick::HTTPServlet::CGIHandler#do_GET): m17nized.\n\nMon Dec 24 23:55:29 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/cgi.rb (CGI::escape): m17nized.\n\t  (CGI::unescape): ditto.\n\t  (CGI::escapeHTML): ditto.\n\t  (CGI::unescapeHTML): ditto.\n\nMon Dec 24 23:32:24 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* transcode_data_japanese.c (select_iso_2022_mode): '\\e' is not valid.\n\nMon Dec 24 23:13:09 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/rdoc/diagram.rb (RDoc::Diagram#initialize): use fileuitls\n\t  instead of ftools.\n\nMon Dec 24 23:04:57 2007  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/ftools.rb: removed obsoleted lib.  use fileutils instead (by eban).\n\n\t* lib/rdoc/rdoc.rb, lib/rdoc/generators/*, lib/rake.rb: let it use\n\t  fileutils instead of ftools.\n\n\t* lib/shell/command-processor.rb: removed unused references to ftools.\n\n\t* lib/parsedate.rb: removed.  see [ruby-core:12535], [ruby-dev:31969].\n\n\t* lib/README: updated.\n\nMon Dec 24 23:01:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI::Buffer): use Meta ===.  [ruby-core:14295]\n\nMon Dec 24 22:46:42 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* transcode.c: register_functional_transcoder() added.\n\t  (init_transcoder_table(: register ISO-2022-JP.\n\t  (str_transcode): add preprocessor and postprocessor.\n\n\t* transcode_data_japanese.c: add ISO-2022-JP support.\n\n\t* transcode_data.h: moved transcoder and transcoding definition from\n\t  transcode.c.\n\nMon Dec 24 20:29:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/io/nonblock/test_flush.rb: fix test for 1.9.\n\nMon Dec 24 20:23:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/rinda/test_rinda.rb: revert last commit because this test seems\n\t  to have timing problem to halt all tests.\n\nMon Dec 24 20:18:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/rinda/test_rinda.rb: enable rinda test.\n\nMon Dec 24 20:16:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* instruby.rb: fix rdoc install dir.\n\nMon Dec 24 18:37:32 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_prepare_re): show regexp encoding in the error message.\n\nMon Dec 24 18:23:32 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (rb_exc_raise): ANSI style.\n\t  (rb_exc_fatal): ditto.\n\t  (rb_raise_jump): ditto.\n\t  (rb_jump_tag): ditto.\n\t  (rb_block_given_p): ditto.\n\n\t* variable.c (original_module): ditto.\n\nMon Dec 24 18:05:09 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (Init_ISeq): disable ISeq.load() because there is no verifier.\n\n\t* iseq.c, proc.c: add ISeq.disasm(method).\n\nMon Dec 24 18:06:03 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval_method.c (Init_eval_method): extracted from Init_eval\n\t  for rdoc to find rb_mod_remove_method, rb_mod_undef_method and\n\t  rb_mod_alias_method.\n\n\t* eval.c (Init_eval): call Init_eval_method.\n\nMon Dec 24 17:59:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (load_lock): reverted.\n\n\t* thread.c (rb_barrier_wait): check for recursive wait.\n\nMon Dec 24 17:50:54 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (function_call_may_return_twice_jmp_buf): removed.\n\t  (function_call_may_return_twice_false): removed.\n\t  [ruby-core:14335]\n\nMon Dec 24 17:40:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (node_name.inc, miniprelude.c, prelude.c): nmake cannot\n\t  handle target vpath in other than implicit rules.\n\nMon Dec 24 17:20:34 2007  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/{mailread.rb,getopts.rb,parsearg.rb}: removed.\n\t  see [ruby-core:12535], [ruby-dev:31969].\n\nMon Dec 24 17:12:57 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h, random.c, array.c:\n\t  change exported name.\n\t  genrand_int32 -> rb_genrand_int32.\n\t  genrand_real -> rb_genrand_real.\n\t  [ruby-core:14335]\n\nMon Dec 24 17:06:37 2007  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* {lib,test}/{soap,wsdl,xsd}: removed soap4r along to the discussion\n\t  at ruby-core and ruby-dev.  see [ruby-core:12535], [ruby-dev:31969].\n\nMon Dec 24 17:06:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_feature_p): returns loading path name too.\n\n\t* load.c (search_required): returns path too if feature is being\n\t  loaded.  [ruby-dev:32048]  [TODO: refactoring]\n\nMon Dec 24 16:29:12 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* sample/openssl: reviewed and remove dependency on getopts.rb.\n\nMon Dec 24 16:18:57 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* mkconfig.rb: add teeny to CONFIG['ruby_version'].\n\nMon Dec 24 15:55:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/compile.rb, getrev.rb, runruby.rb: remove unused tools.\n\nMon Dec 24 15:42:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, cygwin/GNUmakefile.in, */Makefile.sub,\n\t  djgpp/config.hin.: version dependent directory names now contain\n\t  teeny.\n\nMon Dec 24 15:29:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/serb.rb: removed.\n\nMon Dec 24 13:55:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (rb_proc_new), vm.c (invoke_block): removed u3.state magic.\n\t  [ruby-core:14310]\n\n\t* test/ruby/test_symbol.rb (test_to_proc): a test from Frederick\n\t  Cheung <frederick.cheung AT gmail.com>.\n\nMon Dec 24 13:43:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_atfork): should not leave living_threads\n\t  referring freed table while allocating new table.\n\nMon Dec 24 12:49:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, configure.in, lib/mkmf.rb, */Makefile.sub: specify\n\t  compiled output file name explicitly.\n\n\t* enc/Makefile.in, enc/depend: now makes compiler to put generated\n\t  files under directories corresponding to the each source.\n\t  enc/trans supported.\n\n\t* enc/make_encmake.rb: evaluates depend file before Makefile.in so\n\t  that the former can influence to CONFIG.\n\nMon Dec 24 12:35:03 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win{32,ce}/Makefile.sub (MFLAGS): defaulted to -l.\n\nMon Dec 24 12:08:10 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* /, ext/:  Add svn:ignore for OS X Xcode 3's conftest.dSYM\n\t  directories.\n\nMon Dec 24 11:56:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: should not pass MAKEFLAGS to recursive make.\n\t  + normal make: MFLAGS are set and command line options and macros\n\t    are all passed silently.\n\t  + GNU make: ditto, and all options and macros in MAKEFLAGS are in\n\t    effect.\n\t  + nmake: MFLAGS is not set and MAKEFLAGS has only options without\n\t    hyphen, no macros exist in any variables.\n\t  + Borland make: ditto, and command line macros cannot override\n\t    macros in makefile, so passing them is vain.\n\n\t* {bcc32,win{32,ce}}/Makefile.sub (SET_MAKE): set MFLAGS which is not\n\t  set by default, to get rid of chaotic situation of MFLAGS/MAKEFLAGS.\n\nMon Dec 24 11:32:44 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): fixed to keep transitivity.\n\t  [ruby-dev:32693]\n\nMon Dec 24 11:20:31 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/ri_options.rb:  Fix display of GEMDIRS, make command\n\t  examples match ri's name.\n\n\t* lib/rdoc/ri/ri_paths.rb:  Only allow latest ri dirs in ri output.\n\nMon Dec 24 10:49:04 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/uri/mailto.rb, lib/uri/common.rb:  Fix Regexp warnings.  Patch\n\t  #16524 from Kornelius Kalnbach, [ruby-core:14302].\n\nMon Dec 24 10:37:38 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb:  Remove methods from Gem, not QuickLoader, to fix\n\t  warnings.\n\nMon Dec 24 09:45:45 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c, transcode_data_one_byte.c, transcode_data_japanese.c:\n\t  added rb_ prefix to external data symbols.\n\nMon Dec 24 05:32:22 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_inject): updated documentation.  a patch from Keita\n\t  Yamaguchi <keita.yamaguchi AT gmail.com> in [ruby-dev:32686].\n\n\t* README.EXT: updated.  a patch from Tadashi Saito\n\t  <shiba AT mail2.accsnet.ne.jp> in [ruby-core:14328].\n\n\t* array.c (rb_ary_at): updated documentation. a patch from Tadashi\n\t  Saito <shiba AT mail2.accsnet.ne.jp> in [ruby-core:14330].\n\nMon Dec 24 05:13:04 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_trans): should associate new encoding if modified.\n\nMon Dec 24 04:04:12 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/net/http/test_https.rb: should rescue LoadError.\n\nMon Dec 24 03:57:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c, vm.h: fix to support sparc machine.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>\n\nMon Dec 24 03:35:19 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: remove additional \"-\".\n\nMon Dec 24 02:59:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_check_readable): should not fill fptr->enc always.\n\t  read-write IO (e.g. socket) does not work.  [ruby-dev:32685]\n\n\t* io.c (io_read_encoding): retrieve reading encoding.\n\n\t* io.c (prepare_getline_args): convert RS to external encoding.\n\n\t* string.c (str_new_shared): was setting embedding flag of wrong\n\t  string object.  [ruby-dev:32685]\n\n\t* io.c (io_enc_str): should preserve default_external encoding.\n\n\t* io.c (appendline): should do multibyte aware RS search.\n\nMon Dec 24 02:06:35 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_open): documentation update.\n\n\t* io.c (rb_io_s_pipe): ditto.\n\n\t* io.c (io_fwrite): wrong encoding destination.\n\n\t* io.c (rb_io_external_encoding): should return the encoding of\n\t  the file reading.\n\n\t* io.c (rb_io_internal_encoding): should return the encoding of\n\t  read string.\n\nMon Dec 24 01:46:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_pipe): allow specifying read-side encoding.\n\n\t* io.c (io_enc_str): wrong encoding destination.\n\nMon Dec 24 01:03:17 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): comparison including broken\n\t  coderange strings do not consider encoding.\n\nMon Dec 24 00:57:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (open_key_args): IO direct methods (foreach, readlines,\n\t  read) now takes keyword argument: encoding, mode, open_args.\n\nMon Dec 24 00:52:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_read): encoding argument reverted.\n\n\t* io.c (mode_enc): independent function to share code.\n\n\t* io.c (rb_io_internal_encoding): new method.\n\nMon Dec 24 00:47:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb (TestBeginEndBlock::test_endblockwarn):\n\t  rename endblockwarn.rb to endblockwarn_rb to avoid unnecessary\n\t  warning in make test.\n\nSun Dec 23 23:03:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_codepoint): implemented to raise invalid\n\t  encoding.\n\n\t* include/ruby/encoding.h (rb_enc_codepoint): macro is replaced as a\n\t  declaration.\n\nSun Dec 23 19:45:22 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/time.rb (Time.httpdate): fix 2 digits year for 20xx.\n\t  reported by Tadayoshi Funaba.  [ruby-dev:32687]\n\nSun Dec 23 19:33:42 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/open-uri.rb:  Fix method redefined warning.  [ruby-core:14304]\n\nSun Dec 23 18:31:49 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_enc_get): use rb_define_dummy_encoding.\n\n\t* ext/nkf/nkf.c (Init_nkf): use rb_nkf_enc_get(\"ASCII\").\n\n\t* ext/nkf/nkf-utf8/nkf.c: Update 1.161.\n\n\t* ext/nkf/nkf-utf9/config.h: default output encoding is now UTF-8.\n\n\t* ext/nkf/lib/kconv.rb (Kconv.kconv): replace Encoding#name by\n\t  Encoding#to_s.\n\nSun Dec 23 18:02:52 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems/gem_open_uri.rb:  Fix version check.\n\nSun Dec 23 17:24:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_init): add eucJP as an alias of EUC-JP.\n\nSun Dec 23 17:00:23 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/time.rb (Time.httpdate): use Time.utc for\n\t  \"day-of-week, dd-mon-yy HH::MM:SS GMT\" format.\n\nSun Dec 23 16:12:40 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc:  Fix 1.9 warnings.\n\nSun Dec 23 15:28:37 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems, test/rubygems:  Fix new 1.9 warnings.\n\nSun Dec 23 14:43:10 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb:  Use require to load rubygems.rb so the correct path\n\t  is in $LOADED_FEATURES on RubyGems upgrade.\n\nSun Dec 23 11:26:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (sym_call): use exact argument array interface.\n\t  [ruby-core:14279]\n\nSun Dec 23 11:01:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_binmode_m): removed C99ism.\n\nSun Dec 23 10:23:23 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode_data_one_byte.c: Better (and more honest) optimization.\n\n\t* transcode_data_japanese.c: First optimization step.\n\nSun Dec 23 09:07:02 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h, encoding.c, re.c, io.c, parse.y, numeric.c,\n\t  ruby.c, transcode.c, ext/nkf/nkf.c: rename rb_ascii_encoding to\n\t  rb_ascii8bit_encoding.  rb_ascii_encoding is ambiguous with\n\t  ASCII-8BIT and US-ASCII.\n\nSun Dec 23 03:35:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* version.h: use patchlevel if revision is not set.\n\n\t* {bcc32,win{32,ce}}/setup.mak (-version-): skip including revision.h.\n\n\t* common.mk (srcs): new target to generated sources.\n\n\t* common.mk (encs, ext/ripper/ripper.c): MAKEFLAGS needs -.\n\n\t* enc/depend, enc/make_encmake.rb: use erb.\n\nSun Dec 23 01:56:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_mode_enc): do not set encoding unless explicitly\n\t  specified.\n\n\t* io.c (rb_io_check_readable): fill fptr->enc by default_external\n\t  if it's empty.\n\n\t* io.c (io_enc_str): fptr->enc is always set for reading IO (by\n\t  rb_io_check_readable(fptr)).\n\nSun Dec 23 01:18:06 2007  David Flanagan  <david@davidflanagan.com>\n\n\t* io.c, io.h: temporary patch to partially implement\n\t  transcode-on-read and transcode-on-write\n\nSun Dec 23 00:48:05 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/net/imap/test_imap.rb: added tests for SSL.\n\nSat Dec 22 21:10:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_genericresolver_node_import): should\n\t  not set instance variable \"@kind\" before initializing it.\n\t  [ruby-dev:32677]\n\nSat Dec 22 19:52:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_objectspace.rb: fix condition.\n\nSat Dec 22 19:17:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/probeprofiler/: removed.\n\nSat Dec 22 19:14:38 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* process.c (rb_f_fork): Unsupport Kernel.fork() on NetBSD.\n\nSat Dec 22 15:54:54 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: Added simple tests for\n\t  EUC-JP and Shift_JIS and tests for ASCII-only range\n\nSat Dec 22 18:20:13 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (version.o): add dependency. [ruby-dev:32680]\n\nSat Dec 22 17:45:11 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (Init_nkf): use rb_ascii_encoding() for\n\t  rb_nkf_enc_get(\"US-ASCII\").\n\t  * if use rb_nkf_enc_get(\"US-ASCII\"), ruby will crash - this is bug?\n\nSat Dec 22 17:39:03 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb ($extmk): fixed broken condition.\n\nSat Dec 22 17:35:59 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8.c: Update nkf.c rev:1.157.\n\n\t* ext/nkf/nkf.c (rb_nkf_enc_get): replicate proper based encoding.\n\n\t* ext/nkf/kconv.c (Kconv#kconv, to*): use self.encoding as from_enc\n\t  when from_enc isn't given.\n\nSat Dec 22 17:06:50 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/net/ssl.rb (OpenSSL::SSL::SSLContext.build): removed.\n\n\t* ext/openssl/lib/net/ssl.rb (OpenSSL::SSL::SSLContext#set_params):\n\t  new method to set suitable SSL parameters.\n\n\t* lib/net/pop.rb, lib/net/http.rb, lib/net/imap.rb,\n\t  test/openssl/test_ssl.rb: follow above change.\n\n\t* test/net/http/test_https.rb: refine error case.\n\nSat Dec 22 16:58:49 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (encode_utf7): accept UTF-8 strings.\n\n\t* lib/net/imap.rb (decode_utf7): return UTF-8 strings.\n\nSat Dec 22 15:56:36 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* transcode_data_japanese: typo.\n\nSat Dec 22 15:54:54 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* ChangeLog: Information for last patch got lost, fixed\n\nSat Dec 22 15:45:45 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode_data_one_byte: slightly optimized\n\n\t* transcode_data_japanese: new data file for EUC-JP and SHIFT_JIS\n\t  (not yet optimized; tests to follow; data from\n\t  http://nkf.sourceforge.jp/ucm/{SJIS|eucJP}-nkf.ucm)\n\n\t* common.mk, transcode.c: Adjusted for transcode_data_japanese\n\nSat Dec 22 15:30:13 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* */Makefile.sub (MFLAGS): define unless defined.\n\nSat Dec 22 15:17:40 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb ($extmk): set true only when under ext/ or tool/.\n\nSat Dec 22 15:14:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encs, ext/ripper/ripper.c): needs MFLAGS.\n\n\t* configure.in (STRINGIZE): stringizing macro.\n\n\t* include/ruby/defines.h (STRINGIZE): fallback.\n\n\t* tool/make-snapshot: new file.\n\n\t* version.c (ruby_description, ruby_copyright): string constants for\n\t  -v option.\n\nSat Dec 22 15:03:37 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (initialize): fixed documentation.\n\nSat Dec 22 15:01:16 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/pop.rb (enable_ssl): use OpenSSL::SSL::SSLContext.build\n\t  instead of SSLContext.new (default verify mode is now\n\t  OpenSSL::SSL::VERIFY_PEER).\n\nSat Dec 22 14:45:21 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: shouldn't freeze nil. [ruby-dev:32677]\n\nSat Dec 22 14:27:27 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* regenc.c (onigenc_ascii_is_code_ctype): moved from enc/ascii.c.\n\n\t* regenc.h (onigenc_ascii_is_code_ctype): declared.\n\n\t* enc/ascii.c: use onigenc_ascii_is_code_ctype.\n\n\t* enc/us_ascii.c: new file for US-ASCII.\n\nSat Dec 22 14:30:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reg_named_capture_assign_iter): allows non-ascii names and\n\t  get rid of reserved word IDs.\n\nSat Dec 22 14:18:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_float.rb, test_sprintf.rb: fix test place.\n\nSat Dec 22 14:17:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_objectspace.rb: skip frozen string.\n\nSat Dec 22 14:02:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* array.c (rb_ary_permutation): add volatile to avoid GC problem.\n\nSat Dec 22 11:47:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_obj_instance_eval): use class of immediate objects.\n\n\t* test/ruby/test_eval.rb: fix a test.\n\nSat Dec 22 11:37:06 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* encoding.c (rb_locale_charmap): win32 support.\n\nSat Dec 22 11:31:14 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb:  Place bin dir before lib dir so gem bin stubs work.\n\nSat Dec 22 11:05:44 2007  Jim Weirich  <jim@tardis.local>\n\n\t* lib/rake.rb (Rake): Added Rake and related libraries to the\n\t  source code base.\n\nSat Dec 22 10:30:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/insns2vm.rb: moved from lib/vm/instruction.rb.\n\nSat Dec 22 10:25:44 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (reg_named_capture_assign_iter): captured name should\n\t  not be reserved word.  a patch from Keita Yamaguchi\n\t  <keita.yamaguchi AT gmail.com> in [ruby-dev:32675].\n\n\t* parse.y (reg_named_capture_assign_iter): just ignore the\n\t  captures that do not have valid local variable name.\n\nSat Dec 22 10:19:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_method_name): now __method__ and __callee__ are\n\t  aliases.  [ruby-core:14244]\n\nSat Dec 22 08:29:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_buf_append): improvement for non-broken coded\n\t  strings.\n\nSat Dec 22 06:30:04 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_fork.rb: skip if fork is not unsupported.\n\n\t* bootstraptest/test_io.rb: skip if require failed.\n\nSat Dec 22 06:09:12 2007  David Flanagan  <david@davidflanagan.com>\n\n\t* io.c: fix typo in rdoc comment\n\nSat Dec 22 05:09:43 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_str_new, rb_intern3): rb_default_encoding() renamed.\n\n\t* ext/nkf/nkf.c (rb_nkf_putchar): ditto.\n\nSat Dec 22 03:54:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_ascii_encoding): renamed from previous\n\t  rb_default_encoding().\n\nSat Dec 22 02:49:02 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (command): block from cmd_brace_block was ignored.\n\t  [ruby-dev:32644]\n\n\t* re.c (rb_reg_prepare_re): stop ENCODING_NONE warning if the\n\t  encoding of the str is ASCII-8BIT.\n\nSat Dec 22 01:52:11 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_ungetc): avoid buffer relocation, which might cause\n\t  serious problem under concurrent situation.\n\nSat Dec 22 01:35:41 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (ARG_ENCODING_NONE): defined for /.../n option.\n\t  (REG_ENCODING_NONE): ditto.\n\t  (rb_char_to_option_kcode): return ARG_ENCODING_NONE for n.\n\t  (rb_reg_prepare_re): warn /ascii/n =~ \"non-ascii\".\n\t  (rb_reg_initialize): set REG_ENCODING_NONE from ARG_ENCODING_NONE.\n\nSat Dec 22 01:23:10 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/json/test_json_addition.rb (test_core): do not use Time.now\n\t  because JSON can't hold nsec.\n\nSat Dec 22 01:10:30 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tk/sample/tkextlib/vu/canvSticker2.rb,\n\t  ext/tk/sample/demos-{en,jp}/bind.rb: fix typo. [ruby-dev:32668]\n\nSat Dec 22 00:56:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/test.rb (valid_syntax): force_encoding input script.\n\nFri Dec 21 23:48:38 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (depend_rules): suffixes list broken. fixed.\n\nFri Dec 21 20:18:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_mul0): remove unused variable.\n\n\t* bignum.c (bigdivrem): ditto.\n\nFri Dec 21 20:13:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (rb_catch_obj, rb_throw_obj): prototyped.\n\n\t* include/ruby/intern.h (rb_fiber_alive_p): prototyped.\n\nFri Dec 21 20:09:18 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_succ): retry increasing until valid char is found.\n\nFri Dec 21 20:00:02 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_replicate): now creates first class encoding.\n\n\t* encoding.c (rb_define_dummy_encoding): always based on the default\n\t  encoding.\n\n\t* encoding.c (rb_enc_dummy_p): check if dummy.\n\n\t* encoding.c (enc_inspect): shows if dummy.\n\n\t* encoding.c (Init_Encoding): added dummy? method\n\n\t* include/ruby/encoding.h (ENCODING_INLINE_MAX): increased.\n\nFri Dec 21 18:40:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* io.c: write() should be in blocking region.\n\n\t* bootstraptest/test_io.rb, test_knownbug.rb: move a fixed test.\n\nFri Dec 21 17:56:30 2007  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: provisional support on Ruby-VM.\n\n\t* ext/tk/MANUAL_tcltklib.eng, ext/tk/MANUAL_tcltklib.eucj:\n\t  modify document about new functions.\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/labelframe.rb,\n\t  ext/tk/lib/tk/frame.rb, ext/tk/lib/tk/toplevel.rb,\n\t  ext/tk/lib/tk/scrollbar.rb, ext/tk/lib/tk/message.rb,\n\t  ext/tk/lib/tk/listbox.rb, ext/tk/lib/tk/text.rb,\n\t  ext/tk/lib/tk/scale.rb, ext/tk/lib/tk/entry.rb,\n\t  ext/tk/lib/tk/ttk_selector.rb, ext/tk/lib/tk/menu.rb,\n\t  ext/tk/lib/tk/label.rb, ext/tk/lib/tk/spinbox.rb,\n\t  ext/tk/lib/tk/textmark.rb, ext/tk/lib/tk/winpkg.rb,\n\t  ext/tk/lib/tk/checkbutton.rb, ext/tk/lib/tk/panedwindow.rb,\n\t  ext/tk/lib/tk/texttag.rb, ext/tk/lib/tk/root.rb,\n\t  ext/tk/lib/tk/textimage.rb, ext/tk/lib/tk/radiobutton.rb,\n\t  ext/tk/lib/tk/package.rb, ext/tk/lib/tk/macpkg.rb,\n\t  ext/tk/lib/tk/composite.rb, ext/tk/lib/tk/autoload.rb,\n\t  ext/tk/lib/tk/canvas.rb, ext/tk/lib/tk/button.rb,\n\t  ext/tk/lib/tk/textwindow.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/scrolledtext.rb,\n\t  ext/tk/lib/tkextlib/tile/style.rb,\n\t  ext/tk/lib/tkextlib/tile/tscrollbar.rb,\n\t  ext/tk/lib/tkextlib/tile/tpaned.rb, ext/tk/lib/tkextlib/tile.rb,\n\t  ext/tk/extconf.rb: support Tcl/Tk8.5 (partial, not complete).\n\n\t* ext/tk/sample/demos-jp/widget,\n\t  ext/tk/sample/demos-jp/pendulum.rb,\n\t  ext/tk/sample/demos-jp/bind.rb,\n\t  ext/tk/sample/tkextlib/vu/canvSticker2.rb,\n\t  ext/tk/sample/demos-en/pendulum.rb,\n\t  ext/tk/sample/demos-en/bind.rb: remove $KCODE and minor bug fix.\n\nFri Dec 21 17:49:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (rb_str_transcode_bang): returns self if no conversion.\n\t  [ruby-dev:32662]\n\nFri Dec 21 17:44:47 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*:  Update to RubyGems 1.0.1, r1581\n\nFri Dec 21 17:32:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/pending.rb: renamed from featurebug.rb.\n\t  This file contains bugs which is known but will not be\n\t  fixed in days.\n\nFri Dec 21 17:31:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* debug.c (dummy_gdb_enums.various): added ENCODING and CODERANGE\n\t  constants.\n\n\t* .gdbinit: use enum constants.\n\nFri Dec 21 17:28:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/featurebug.rb: added.\n\n\t* bootstraptest/test_knownbug.rb: move a feature bug.\n\nFri Dec 21 17:25:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_atfork): fix to mark thread object.\n\t  [ruby-dev:32404]\n\n\t* bootstraptest/test_knownbug.rb, test_fork.rb: move a fixed test.\n\nFri Dec 21 17:07:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.h: extern variable should not be initialized.\n\n\t* thread_pthread.c: add a parameter.\n\nFri Dec 21 16:50:43 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (Init_Encoding): use enc_name as to_s.\n\t  (enc_inspect): renamed from enc_to_s.  add \"#\" at beginning.\n\nFri Dec 21 16:37:43 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/config.h (MIME_DECODE_DEFAULT, X0201_DEFAULT):\n\t defined as FALSE.  nkf and kconv don't decode MIME encoded string\n\t and don't convert JIS X 0201 Katakana.\n\n\t* test/nkf/test_kconv.rb: fix tests.\n\nFri Dec 21 16:33:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (enumerator_iter_i): adjusted for rb_block_call_func.\n\n\t* include/ruby/ruby.h (rb_block_call_func): function to be called back\n\t  as block.\n\nFri Dec 21 16:25:25 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* common.mk, transcode_data_iso_8859.c: renamed to\n\t  transcode_data_one_byte.c.\n\nFri Dec 21 16:10:30 2007  Shigeo Kobayashi  <shigeo@tinyforest.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (VpMidRound): Round method bug\n\t  pointed by Ryan Platte fixed(Patch to the patch from \"NATORI\n\t  Shin\").  [ruby-talk:273360]\n\nFri Dec 21 16:06:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (append_utf8): use rb_utf8_encoding() instead of\n\t  rb_enc_find(\"utf-8\").\n\nFri Dec 21 15:59:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_init): use enc_register_at() directly.\n\n\t* encoding.c (rb_utf8_encoding): returns utf-8 encoding.\n\n\t* include/ruby/encoding.h (rb_utf8_encoding): prototyped.\n\n\t* parse.y (UTF8_ENC): uses rb_utf8_encoding().\n\nFri Dec 21 15:31:59 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_read): allow specifying encoding explicitly.\n\n\t* io.c (rb_io_binmode): specifies encoding to ASCII-8BIT (binary).\n\n\t* io.c (rb_io_s_read): IO should be in binary mode when offset is\n\t  specified.\n\n\t* encoding.c (rb_to_encoding): returns default encoding if no\n\t  corresponding encoding found.\n\nFri Dec 21 15:24:22 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (initialize): accept service name.  changed\n\t  the default value of the old style +verify+ argument to true.\n\nFri Dec 21 15:15:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (rb_garbage_collect): new function for debugging.\n\nFri Dec 21 15:16:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_to_encoding_index): should return error instead of\n\t  exception even if type is incorrect.\n\nFri Dec 21 14:58:27 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_init_copy): prohibit cloning of\n\t  generators since Fibers cannot be copied.\n\n\t* enumerator.c (enumerator_init_copy): typo fixed.\n\nFri Dec 21 14:46:07 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (Init_IO): define IO::BINARY even if O_BINARY is not exist.\n\nFri Dec 21 14:01:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_system.rb (TestSystem::valid_syntax): apply\n\t  ASCII-8BIT encoding explicitly.\n\n\t* re.c (rb_reg_prepare_re): add encoding name in the message.\n\nFri Dec 21 13:54:05 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c: change \"character encodings differ\" error messages.\n\nFri Dec 21 13:46:58 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_register): set encoding constant.\n\n\t* encoding.c (rb_enc_find_index): replace non-alphanumeric chars with\n\t  underscores, so that initialize function can be called.\n\n\t* encoding.c (rb_enc_find_index): extension libraries have lower case\n\t  names conventionally.\n\n\t* ruby.c (proc_options, process_options): finds encoding after\n\t  load_path is initialized.\n\nFri Dec 21 13:10:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_external_encoding): new method.\n\n\t* encoding.c (rb_enc_from_encoding): returns Qnil for NULL\n\t  encoding.\n\n\t* io.c (rb_io_external_encoding): should fill delayed\n\t  initialization for STDIN.\n\nFri Dec 21 13:09:11 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_locale_charmap): return nil if no locale information.\n\nFri Dec 21 12:55:39 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/runit, lib/rubyunit.rb, test/testunit/runit: removed.\n\nFri Dec 21 12:45:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_chomp_bang): avoid unnecessary loop using\n\t  ONIGENC_LEFT_ADJUST_CHAR_HEAD().\n\nFri Dec 21 12:32:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (Init_File): File.exists? revived.\n\n\t* dir.c (Init_Dir): Dir.exists? again.\n\nFri Dec 21 12:26:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: remove \"illegal\".\n\nFri Dec 21 12:22:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* keywords, parse.y (__ENCODING__): represent script encoding.\n\nFri Dec 21 12:16:50 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_is_ascii_only_p): new method ascii_only?.\n\nFri Dec 21 12:11:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_mode_enc): set default external encoding if no\n\t  encoding specified explicitly.\n\nFri Dec 21 12:00:34 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in: check langinfo.h and locale.h.\n\n\t* encoding.c: use langinfo.h only if available.\n\n\t* main.c: use locale.h only if available.\n\nFri Dec 21 11:47:56 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c: include locale.h\n\t  (rb_locale_charmap): new method Encoding.locale_charmap for\n\t  nl_langinfo(CODESET).\n\n\t* include/ruby/encoding.h (rb_locale_charmap): declared.\n\n\t* main.c (main): call setlocale with LC_CTYPE.\n\n\t* ruby.c (locale_encoding): use rb_locale_charmap.\n\nFri Dec 21 11:35:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_dump.c: fix typo.  Reported by Yuki Mitsui.\n\nFri Dec 21 11:28:00 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* regerror.c, string.c, io.c, lib/getoptlong.rb, lib/net/imap.rb,\n\t  compile.c, sprintf.c, parse.y, ext/win32ole/win32ole.c,\n\t  ext/tk/sample/demos-en/entry3.rb, ext/tk/lib/tcltk.rb,\n\t  ext/openssl/ossl_bn.c, numeric.c, vm.c,\n\t  benchmark/bm_so_meteor_contest.rb, bignum.c, ruby.c: don't \"illegal\"\n\t  for non law violation context.\n\nFri Dec 21 11:23:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (enc.mk): depends on $(RBCONFIG) instead of rbconfig.rb.\n\n\t* encoding.c (Init_Encoding): ISO-8859-1 is no longer a replica.\n\n\t* regenc.h (OnigEncodingDefine): names of extension and encoding can\n\t  differ.\n\n\t* enc/Makefile.in: always shared.\n\n\t* enc/depend (deffile): should not upcase.\n\n\t* enc/{ascii,euc_jp,sjis,utf8,iso_8859_{1..16}}.c: fix for Init.\n\nFri Dec 21 09:26:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: use erb.\n\nFri Dec 21 08:07:35 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_next): should call next_init() if fiber\n\t  is dead already. [ruby-dev:32459]\n\nFri Dec 21 01:21:49 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLContext.build):\n\t  enable CRL checking by default.\n\nFri Dec 21 01:20:56 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/http.rb (Net::HTTP#connect): use\n\t  OpenSSL::SSL::SSLContext.build instead of SSLContext.new (default\n\t  verify mode is now OpenSSL::SSL::VERIFY_PEER).\n\n\t* lib/net/https.rb: SSL parameters are defined by attr_accessor.\n\n\t* test/net/http/test_https.rb: add test for HTTPS features.\n\nFri Dec 21 01:11:37 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* io.c (select_internal): should return original value.\n\nFri Dec 21 00:26:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_trans): wrong encoding check for tree strings.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_tr_s): \"invalid mbstring\n\t  sequence\" is not an error to be tested.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_tr): ditto.\n\nThu Dec 20 19:29:07 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (initialize): the second argument is an option\n\t  hash now.  use SSLContext.build to specify SSL parameters.\n\nThu Dec 20 19:11:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.c (native_thread_apply_priority): check\n\t  _POSIX_PRIORITY_SCHEDULING for OpenBSD.\n\nThu Dec 20 18:33:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* configure.in: add libthr for FreeBSD.\n\nThu Dec 20 18:17:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk, *.ci: renamed to *.c.\n\n\t* eval_load.c: renamed to load.c.\n\nThu Dec 20 17:36:01 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*:  Import RubyGems 1.0.0, r1575.\n\nThu Dec 20 17:18:38 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c: support Proc#binding.\n\n\t* sample/test.rb: add a test.\n\nThu Dec 20 17:15:15 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* pack.c: Slight change to documentation ('character' ->\n\t  'byte (C char)'). [ruby-core:13126], see also [ruby-core:13998].\n\nThu Dec 20 17:07:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (enc.mk): depends on rbconfig.rb.\n\n\t* regenc.h (OnigEncodingDefine): external encoding definition macro.\n\n\t* enc/Makefile.in: fix for linking.\n\n\t* enc/depend, enc/make_encmake.rb: fix for Windows.\n\n\t* enc/{ascii,euc_jp,sjis,utf8,iso_8859_{1..16}}.c: renamed.\n\nThu Dec 20 16:42:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (find_line_no): return 0 if not found.\n\nThu Dec 20 16:04:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci, vm.c, vm_core.h: change interface of\n\t  vm_invoke_block() to specify block ptr.  [ruby-talk:266422]\n\n\t* cont.c, eval_jump.ci, insns.def, proc.c, signal.c, thread.c:\n\t  apply above change.\n\n\t* bootstraptest/test_knownbug.rb: move fixed bug.\n\n\t* bootstraptest/test_block.rb: ditto. and add a test.\n\nThu Dec 20 15:47:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/iso_8859_{1..16}.c: renamed.\n\nThu Dec 20 09:59:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_expandarray): fix sp increase place.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp> in [ruby-dev:32581].\n\n\t* bootstraptest/test_massign.rb: add a test for above.\n\n\t* bootstraptest/test_syntax.rb: fix last committed test.\n\nThu Dec 20 09:47:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_syntax.rb: add a test.\n\nThu Dec 20 09:40:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each/NODE_RETURN): fix stack consistency.\n\nThu Dec 20 09:42:11 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (big2str_orig): access beyond memory region cause crash\n\t  on interrupt.  a patch from Yusuke ENDOH <mame AT tsg.ne.jp> in\n\t  [ruby-dev:32651].  [ruby-dev:32641]\n\nThu Dec 20 09:06:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_index): wrong starting position.\n\nThu Dec 20 06:34:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): add pop after throw as return.\n\n\t* bootstraptest/test_knownbug.rb, test_syntax.rb: move resolved test.\n\n\t* vm_core.h, iseq.c, compile.h: add debug output code.\n\nThu Dec 20 04:57:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): remove unused retry entry.\n\nThu Dec 20 04:15:41 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* */Makefile.sub (DEFS, RM): output to config.status.\n\nThu Dec 20 02:59:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* common.mk (encs): create encoding directory.\n\nThu Dec 20 02:50:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/iso8859_{1..16}.c: adjust for ruby.\n\nThu Dec 20 02:28:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/iso8859_{1..16}.c: imported from Onigiruma 5.9.0.\n\nThu Dec 20 02:23:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/Makefile.in (RM): added.\n\n\t* enc/depend (encs): sort in alpha-numeric order.\n\n\t* enc/depend (clean, distclean): added.\n\nThu Dec 20 01:10:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): should handle upper level eval iseq\n\t  from break/next, and COMPILE_ERROR() breaks only one block.\n\t  [ruby-dev:31372]\n\nThu Dec 20 00:07:36 2007  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/drbtest.rb (test_07_public_private_protected_missing):\n\t  followed current Ruby specification.\n\nWed Dec 19 23:57:37 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (dir_inspect, dir_path, dir_tell): check for frozen and closed\n\t  is not needed.  [ruby-dev:32640]\n\nWed Dec 19 22:59:52 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_sublen): adjust position if position is not at the\n\t  head of a character.\n\n\t* string.c (rb_str_chomp_bang): check if match start at the head\n\t  of a character.\n\n\t* string.c (rb_str_chomp_bang): wrong adjust condition.\n\n\t* string.c (rb_str_rindex): comparison length should be based on\n\t  bytes, not characters.\n\n\t* string.c (rb_str_rindex_m): too much adjustment.\n\n\t* re.c (reg_match_pos): pos adjustment should be based on\n\t  characters.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_str_insert): test updated\n\t  to check negative offset behavior.\n\n\t* string.c (rb_str_each_line): should consider rslen.\n\n\t* string.c (rb_str_buf_append): should propagate encoding.\n\n\t* string.c (rb_str_each_line): ditto.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_str_each_line): should\n\t  check encoding as well.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_str_each_line): empty\n\t  array can not propagate encoding;  should not check.\n\nWed Dec 19 21:42:18 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_regsub): should set checked encoding.\n\n\t* string.c (rb_str_sub_bang): applied r14212 too.\n\nWed Dec 19 20:40:01 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bignum.c (bigmul1): C99ism.\n\n\t* bignum.c (bigdivrem1): need dummy return value.\n\nWed Dec 19 19:18:06 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: Updated.\n\n\t* ext/nkf/nkf.c (rb_nkf_enc_get): added.\n\t  (find encoding or replicate default encoding)\n\n\t* ext/nkf/nkf.c (NKF::<ENCODING>): redefine encoding constant.\n\n\t* ext/nkf/lib/kconv.rb (Kconv::<ENCODING>): redefined as Encoding.\n\n\t* ext/nkf/lib/kconv.rb: refactoring.\n\nWed Dec 19 19:11:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_mul0): blocking check for bigger numbers.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp> in [ruby-dev:32632].\n\n\t* bignum.c (bigdivrem): ditto.\n\nWed Dec 19 17:34:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): remove \"retry\" in block.\n\t  (\"iter{retry}\" cause syntax error)\n\t  Currently, \"begin; ...; rescue; iter{retry}; end\" cause\n\t  syntax error too.\n\n\t* bootstraptest/test_jump.rb: ditto.\n\n\t* lib/drb/invokemethod.rb: ditto.\n\n\t* sample/drb/darrayc.rb: ditto.\n\n\t* sample/test.rb: ditto.\n\n\t* test/drb/drbtest.rb: ditto.\n\n\t* test/ruby/test_iterator.rb: ditto.\n\n\t* sample/test.rb: add a 'test' directory on the SYSTEM test.\n\nWed Dec 19 17:12:59 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb, test_block.rb:\n\t  move fixed bug.\n\n\t* bootstraptest/test_m17n.rb: added.\n\nWed Dec 19 16:59:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (errinfo_place): skip if error is Fixnum.  [ruby-dev:32608]\n\n\t* bootstraptest/test_exception.rb, test_known_bug.rb: move fixed bug.\n\nWed Dec 19 16:31:58 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reg_named_capture_assign_iter): remove C99 dependency.\n\n\t* parse.y (reg_named_capture_assign_iter): get rid of creating\n\t  unnecessary ID.\n\n\t* parse.y (rb_enc_symname2_p): check for non-nul-terminated string.\n\nWed Dec 19 15:37:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insnhelper.ci (vm_yield_with_cfunc): call cfunc with\n\t   (argv[0], data, argc, argv) to pass all arguments.\n\n\t* enumerator.c (enumerator_each_i): adapted to new calling\n\t  convention.\n\nWed Dec 19 15:13:20 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_justify): should propagate encoding from pad\n\t  string too.\n\nWed Dec 19 13:57:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (TIMEZONE_VOID): check whether timezone requires zero\n\t  arguments.  [ruby-dev:32631]\n\nWed Dec 19 13:22:14 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (NKF::_ENCODING): removed.\n\n\t* ext/nkf/nkf.c (rb_nkf_kconv): renamed to rb_nkf_convert.\n\n\t* ext/nkf/nkf.c (rb_nkf_convert): set encoding.\n\n\t* ext/nkf/nkf.c (rb_nkf_guess1): removed.\n\n\t* ext/nkf/nkf.c (rb_nkf_guess2): renamed to rb_nkf_guess.\n\n\t* ext/nkf/nkf.c (rb_nkf_guess):\n\t  guess method now returns encoding object.\n\n\t* ext/nkf/nkf-utf8/nkf.c: Update to nkf 2.0.8 2007-12-19.\n\nWed Dec 19 10:52:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_cstr_to_inum): an underscore succeeding after octal\n\t  prefix is allowed.  [ruby-core:14139]\n\nWed Dec 19 00:09:19 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_cstr_to_inum): wrong radix check.  a patch from\n\t  Yusuke ENDOH <mame AT tsg.ne.jp> in [ruby-dev:32628].\n\n\t* bignum.c (big2str_find_n1): ditto.\n\nTue Dec 18 23:53:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): fix for segfault.  [ruby-dev:31372]\n\nTue Dec 18 23:44:32 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/net/http/utils.rb: split TestNetHTTPUtils module from\n\t  test/net/http/test_http.rb. and start HTTP server in each test case.\n\nTue Dec 18 23:27:51 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#accept_client):\n\t  should rescue Errno::EINVAL from TCPServer#accept. this exception\n\t  might occur if the server socket is not in ready to listen.\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#accept_client):\n\t  don't call TCPServer#close if the :ShutdownSocketWithoutClose is set.\n\n\t* lib/webrick/config.rb (WEBrick::Config::General): add new parameter\n\t  :ShutdownSocketWithoutClose.\n\nTue Dec 18 22:51:47 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLServer#shutdown):\n\t  new method which calls TCPSocket#shutdown of the underlying socket.\n\nTue Dec 18 22:11:50 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/rss/parser.rb, lib/rss/atom.rb, lib/rss/rss.rb,\n\t  test/rss/rss-assertions.rb, test/rss/test_atom.rb: use\n\t  pack/unpack(\"m\") instead of base64 library.\n\n\t* lib/webrick/httpproxy.rb: use delete(\"\\n\") instead of chomp/chop\n\t  because the result of pack(\"m\") might be multi-line.\n\nTue Dec 18 22:12:35 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci, vm.c: rewrite sp manipulation around method/block\n\t  invocation.  [ruby-dev:32547]\n\nTue Dec 18 22:11:23 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/dl/win32/lib/win32/sspi.rb: use pack/unpack(\"m\") instead of\n\t  base64 library which was already removed.\n\nTue Dec 18 21:09:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (invoke_block): merge 2 stack overflow checks.\n\nTue Dec 18 20:58:35 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, insnhelper.ci, insns.def, object.c, vm.c, vm.h:\n\t  optimize !@, != method invocation.\n\n\t* id.c, id.h: ditto.\n\n\t* bootstraptest/test_syntax.rb: add tests for above.\n\nTue Dec 18 18:10:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: add issues.\n\nTue Dec 18 20:22:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (arg tMATCH arg): call reg_named_capture_assign_gen if regexp\n\t  literal is used.\n\t  (reg_named_capture_assign_gen): assign the result of named capture\n\t  into local variables.\n\t  [ruby-dev:32588]\n\n\t* re.c: document the assignment by named captures.\n\nTue Dec 18 18:09:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_splice): propagate encoding.\n\n\t* string.c (rb_str_subpat_set): ditto.\n\nTue Dec 18 17:27:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_freeze): preserve frozen state of immediate\n\t  values in internal hash table, a la generic_ivar.\n\n\t* object.c (rb_obj_frozen_p): check immediate values too.\n\n\t* variable.c (generic_ivar_set): add frozen check fro immediate\n\t  values.\n\nTue Dec 18 17:04:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (rb_str_transcode_bang, rb_str_transcode): set new\n\t  encoding even if no conversion is done because of 7bit only.\n\t  [ruby-dev:32591]\n\nTue Dec 18 15:43:59 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encs, ext/ripper/ripper.c): other options must come\n\t  before MAKEFLAGS in GNU make.\n\nTue Dec 18 15:19:55 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Don't call private fail anymore.\n\nTue Dec 18 15:17:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encs, ext/ripper/ripper.c): pass MAKEFLAGS.\n\nTue Dec 18 14:45:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (op_tbl): remove duplication to avoid symbol aliases.\n\nTue Dec 18 14:39:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_nth): need not to raise out-of-range exception.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_str_aref_len): removed\n\t  debug print.\n\nTue Dec 18 14:05:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend: get rid of target expanded as empty for nmake.\n\nTue Dec 18 07:56:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (rb_obj_public_method): Object#public_method to retrieve\n\t  public method object.\n\n\t* proc.c (rb_mod_public_instance_method): Module#public_instance_method\n\t  to retrieve public instance method from class / module.\n\n\t* proc.c (mnew): visibility check added.\n\n\t* eval_error.ci (rb_print_undef): add rb_ prefix.\n\n\t* eval_error.ci (rb_print_undef): add visibility in the error\n\t  message.\n\nTue Dec 18 05:54:26 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/Env.rb, lib/base64.rb, lib/importenv.rb, lib/eregex.rb: removed.\n\n\t* lib/ping.rb, lib/readbytes.rb: removed\n\nTue Dec 18 02:30:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (BUILTIN_ENCS): removed.\n\n\t* common.mk (enc.mk): pass BUILTIN_ENCS from command line.\n\n\t* enc/depend: ditto.\n\n\t* enc/make_encmake.rb: ditto.\n\nTue Dec 18 01:46:48 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): need to clear output buffer to avoid\n\t  broken encoding compatibility check.\n\nTue Dec 18 01:40:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (depend_rules): inserts ruby to only headers.\n\nTue Dec 18 01:21:19 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_encode_length): chomp eol style modifiers.\n\n\t* parse.y (parser_magic_comment): ditto.\n\n\t* parse.y (set_file_encoding): ditto.\n\nTue Dec 18 01:15:44 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encs): added dependencies.\n\n\t* enc/Makefile.in, enc/depend, enc/make_encmake.rb: moved serb code.\n\n\t* lib/mkmf.rb (depend_rules): now takes content string, not file name.\n\n\t* win32/enc-setup.mak: overrides default target.\n\nTue Dec 18 00:26:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): raise error if non-Unicode fixed\n\t  encoding option is specified for regexp literals with \\u{}\n\t  escapes.\n\n\t* string.c (rb_str_squeeze_bang): should squeeze multibyte\n\t  characters as well.\n\nMon Dec 17 21:41:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/enc-setup.mak: extracts BUILTIN_ENCOBJS.\n\n\t* tool/compile_prelude.rb: needs srcdir.\n\nMon Dec 17 21:24:04 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* common.mk (miniprelude.c): add -I$(srcdir).\n\nMon Dec 17 20:53:27 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_set_ssl_version):\n\t  new method OpenSSL::SSL::SSLContext#ssl_version to wrap\n\t  SSL_CTX_set_ssl_version.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_get_verify_result):\n\t  new method OpenSSL::SSL::SSLSocket#verify_result to wrap\n\t  SSL_get_verify_result.\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLContext.build):\n\t  new method to build OpenSSL::SSL::SSLContext with Hash parameters.\n\t  this method provides safety default parameters than SSLContext.new.\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL.verify_certificate_identity):\n\t  new module function: pull out identity verification process\n\t  from OpenSSL::SSL::SSLSocket#post_connection_check.\n\nMon Dec 17 18:42:23 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (scan_once): need no encoding compatibility check.\n\t  it's done inside of re_reg_search().\n\n\t* string.c (rb_str_split_m): ditto.\n\n\t* re.c (rb_reg_regsub): ditto.\n\nMon Dec 17 17:50:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_index): check if substring is broken.\n\n\t* string.c (rb_str_rindex): ditto.\n\n\t* string.c (rb_str_succ): should carry over.\n\nMon Dec 17 17:47:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encs): new target to compile external encodings.\n\n\t* enc/Makefile.in: became a serb template.\n\n\t* enc/make_encmake.rb: creates enc.mk from enc/Makefile.in using serb.\n\n\t* lib/mkmf.rb (relative_from): moved from ext/extmk.rb.\n\n\t* lib/mkmf.rb ($extmk): true if under to top source directory, not\n\t  only ext.\n\n\t* lib/mkmf.rb (depend_rules): extracted from create_makefile.\n\n\t* tool/serb.rb (serb): splitted from tool/compile_prelude.rb.\n\nMon Dec 17 17:32:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (MAKEFILES): removed enc/Makefile.\n\n\t* configure.in (EXTERNAL_ENCOBJS, ENCSOS): removed.\n\n\t* enc/Makefile.in (BUILTIN_ENCS): includes .c suffix.\n\n\t* enc/depend: splitted from Makefile.in.\n\n\t* {bcc32,win32,wince}/setup.mak (-encs-): extracts BUILTIN_ENCOBJS.\n\nMon Dec 17 17:07:53 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_enc_str_asciionly_p): use rb_enc_str_coderange.\n\nMon Dec 17 16:39:25 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_enc_str_coderange): set ENC_CODERANGE_BROKEN using\n\t  rb_enc_precise_mbclen.\n\t  (rb_str_valid_encoding_p): just check coderange is\n\t  ENC_CODERANGE_BROKEN or not.\n\nMon Dec 17 16:04:16 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#gets): added second\n\t  optional argument to specify maximum length limit.\n\nMon Dec 17 16:02:30 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb, lib/webrick/cgi.rb: Request-Line or\n\t  header fields should be read with maximum length. [ruby-talk:231745]\n\nMon Dec 17 14:03:39 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ENC_CODERANGE_VALID): rename from\n\t  ENC_CODERANGE_8BIT.\n\n\t* string.c (rb_enc_str_coderange): follow the renaming.\n\nMon Dec 17 13:56:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_find): wrong condition fixed.\n\n\t* sprintf.c (rb_str_format): check encoding based on result, not\n\t  the format string.\n\n\t* string.c (rb_str_upto): add encoding check.\n\nMon Dec 17 12:21:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (RUNRUBY): added RUNRUBYOPT.\n\nMon Dec 17 11:38:59 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* thread_win32.ci (native_thread_create): initialize\n\t  th->machine_stack_maxsize as rb_gc_stack_maxsize.\n\nSun Dec 16 17:07:35 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c (transcode_loop): removed special case (-1)\n\t  for undefined conversions.\n\n\t* transcode_data_iso_8859.c: Changed from character constants\n\t  ('\\xC2') to integer constants (0xC2) for shorter files and\n\t  better readability; eliminated duplicated tables; changed\n\t  from -1 offset to actual UNDEF entry (not yet distinguishing\n\t  UNDEF and ILLEGAL correctly).\n\n\t* test/ruby/test_transcode.rb: added a test for UNDEF conversion.\n\nSun Dec 16 14:51:59 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (MAKEFILES): should be enc/Makefile, not GNUmakefile.\n\t  [ruby-dev:32609]\n\n\t* configure.in (BUILTIN_ENCS): removed escapes for OpenBSD.\n\nSat Dec 15 23:58:46 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/openssl/test_pair.rb (SSLPair#ssl_pair): join the thread, even\n\t  on an error.\n\nSat Dec 15 23:50:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/xmlrpc/webrick_testing.rb: join webrick server thread.\n\nSat Dec 15 22:27:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (BUILTIN_ENCS): splitted command line instead of\n\t  semicolons for Solaris.\n\nSat Dec 15 21:38:24 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/timeout.rb: join the background thread to make sure it is dead.\n\nSat Dec 15 20:20:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (enc/Makefile): add external encoding objects list.\n\n\t* common.mk (BUILTIN_ENCOBJS): renamed from ENCOBJS.\n\n\t* configure.in (BUILTIN_ENCS): [] needs to be enclosed because of m4.\n\n\t* Makefile.in (BUILTIN_ENCOBJS): substituted by autoconf.\n\n\t* enc/Makefile.in: new file to compile external encoding sources.\n\n\t* encoding.c (rb_enc_find_index): auto-load external encoding objects\n\t  as \"ext/ENCODING_NAME\".  [ruby-dev:32606]\n\nSat Dec 15 13:04:30 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* vm_core.h (rb_thread_t): new member machine_stack_maxsize and\n\t  machine_register_stack_maxsize.\n\n\t* gc.c (rb_gc_stack_maxsize): new global variable for the thread size\n\t  of the main thread.\n\t  (STACK_LEVEL_MAX): use machine_stack_maxsize of current thread.\n\t  (ruby_stack_check): check IA64 register stack.\n\t  (ruby_set_stack_size): set rb_gc_stack_maxsize.\n\t  (Init_stack): set rb_gc_stack_maxsize.\n\n\t* thread_pthread.ci (native_thread_create): initialize\n\t  th->machine_stack_maxsize and th->machine_register_stack_maxsize.\n\n\t* vm.c (Init_BareVM): initialize th->machine_stack_maxsize and\n\t  th->machine_register_stack_maxsize.\n\n\t* thread_win32.ci (native_thread_create): initialize\n\t  th->machine_stack_maxsize.  not tested.  just a guess at all.\n\n\t[ruby-dev:32604]\n\nSat Dec 15 12:58:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_register, rb_enc_replicate, rb_enc_alias): check\n\t  if already registered.\n\nSat Dec 15 01:57:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc/options.rb (Options::parse): do not access $KCODE any\n\t  longer.  [ruby-core:14079]\n\n\t* lib/irb/init.rb (IRB::IRB.parse_opts): ditto.\n\n\t* lib/cgi.rb (CGI::CGI): ditto.\n\nFri Dec 14 18:18:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* thread_pthread.ci (native_thread_create): twice the stack size.\n\t  512KB is not enough to complete test-all on Debian GNU/Linux on\n\t  IA64.\n\nFri Dec 14 16:10:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_p): RDoc update.  a patch from murphy <murphy AT rubychan.de>.\n\t  [ruby-core:14010]\n\nFri Dec 14 16:06:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_cmp): encoding aware comparison.\n\n\t* string.c (rb_str_casecmp): ditto.\n\nFri Dec 14 15:25:30 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c (encoding_equal): new function.\n\n\t* transcode.c (str_transcode, transcode_dispatch): added two-step\n\t  conversion logic via UTF-8.\n\n\t* transcode.c: some minor formatting fixes\n\n\t* transcode_data.h, transcode_data_iso_8859.c: Shortened\n\t  extremely frequently used macros to shorten file length.\n\n\t* test/ruby/test_transcode.rb: Fixed name of test class;\n\t  added setup method to ensure all necessary encodings exist;\n\t  split tests into more test methods; added tests; fixed ordering\n\t  of arguments in assert_equal to have expected result first.\n\nFri Dec 14 13:47:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (ruby.imp): fix for circular dependency.  a patch from\n\t  Yutaka Kanemoto <kinpoco AT gmail.com> in [ruby-dev:32590].\n\n\t* regint.h, st.c, ext/json/ext/generator/generator.c: suppress\n\t  warnings on AIX.\n\nFri Dec 14 12:36:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_CHECK_VARTYPE): check if a variable is defined\n\t  and its type.\n\n\t* configure.in (timezone, altzone): check for recent cygwin.\n\n\t* missing/strftime.c (strftime): fix for timezone.  [ruby-dev:32536]\n\n\t* lib/mkmf.rb (try_var): should fail for functions.\n\n\t* ext/readline/extconf.rb: should use have_func for functions instead\n\t  of have_var.\n\nFri Dec 14 10:25:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/e2mmap.rb (Exception2MessageMapper::E2MM.Raise): $! no\n\t  longer modifiable in 1.9.\n\nFri Dec 14 08:17:24 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (rb_protect): restore root_jmpbuf even if proc exits by\n\t  break such as dbm.delete_if { break }.\n\nFri Dec 14 02:55:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_nth): direct jump if string is 7bit only.  great\n\t  performance boost for worst case.\n\n\t* string.c (str_strlen): direct size if string is 7bit only.\n\nFri Dec 14 02:29:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): 1st argument (typically the\n\t  receiver) would have higher priority in encoding detection.\n\nFri Dec 14 02:05:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_synchronized): should check if initialized.\n\t  [ruby-dev:32585]\n\nFri Dec 14 00:54:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): embedded string may override encoding\n\t  of the regular expression.\n\n\t* re.c (rb_reg_initialize): fix encoding of regular expression if\n\t  embedded string has its own encoding specified.\n\nThu Dec 13 22:16:46 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): encoding should never fall back\n\t  to ASCII-8BIT unless both encodings are ASCII-8BIT.\n\nThu Dec 13 20:31:28 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_shared_replace): make str noembed after free.\n\nThu Dec 13 20:09:09 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (rb_protect): restore root_jmpbuf to avoid SEGV by\n\t  'IO.pipe; [].each.next' with gcc version 3.3.5 (Debian 1:3.3.5-13)\n\t  on IA64.\n\nThu Dec 13 17:51:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_split_m): need not to check encoding if regexp\n\t  is empty.\n\n\t* string.c (rb_str_justify): associate encoding of original to the\n\t  result.\n\n\t* string.c (rb_str_chomp_bang): need to check encoding of record\n\t  separator.\n\n\t* string.c (str_gsub): should copy encoding to the result.\n\n\t* sprintf.c (rb_str_format): ditto.\n\n\t* string.c (rb_str_succ): should not enter infinite loop for\n\t  non-ASCII, non-alphanumeric character at the bottom.\n\nThu Dec 13 17:03:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): should swap encoding indexes too.\n\nThu Dec 13 16:41:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): should not judge compatibility\n\t  based on rb_enc_asciicompat().\n\nThu Dec 13 13:09:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/io.h (MakeOpenFile): fptr->enc should be\n\t  initialized to zero.  [ruby-dev:32569]\n\nThu Dec 13 08:56:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_getc): use default external encoding if fptr->enc is\n\t  not set.  [ruby-dev:32565]\n\n\t* lib/rubygems/package.rb (Gem::TarReader::Entry::rewind): typo fixed.\n\t  [ruby-dev:32565]\n\nThu Dec 13 08:24:16 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): should associate default external encoding.\n\n\t* io.c (io_read): should NOT associate default external encoding.\n\nWed Dec 12 23:22:58 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c, regerror.c, string.c, parse.y, ruby.c, file.c:\n\t  use capital letter for \\xHH notation.  [ruby-dev:32511]\n\nWed Dec 12 22:21:34 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_mode_enc): allow specifying external encoding in\n\t  open mode, e.g. open(path, \"r:utf-8\").\n\nWed Dec 12 21:26:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_method.ci (rb_alias): no need to skip aliasing when new\n\t  equals to old.  [ruby-core:13990]\n\nWed Dec 12 16:34:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_check_readable): set default external encoding to\n\t  STDIN.\n\n\t* io.c (io_enc_str): associate encoding to output string.\n\nWed Dec 12 12:44:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (expr): 'not' and '!' should act as conditional\n\t  expression.   [ruby-dev:32548]\n\nWed Dec 12 12:11:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_regsub): should copy encoding.\n\n\t* string.c (rb_str_sub_bang, str_gsub): should check and copy encoding\n\t  to be replaced.\n\nTue Dec 11 23:04:17 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): RDoc update.  a patch from Gary Wright\n\t  <radar2002 AT gmail.com>.  [ruby-core:13998]\n\n\t* pack.c (pack_unpack): ditto.\n\nTue Dec 11 16:37:47 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_ascget): renamed from rb_enc_get_ascii.\n\n\t* include/ruby/encoding.h: follow the renaming.\n\n\t* re.c: ditto.\n\nTue Dec 11 16:19:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, */Makefile.sub (CP, MV): added.\n\n\t* common.mk (.y.c): not discard the old target until successfully\n\t  created.\n\nTue Dec 11 15:20:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): singleton_method_{added,removed,undefined}\n\t  hooks should be defined for BasicObject.  [ruby-dev:32531]\n\n\t* eval.c (Init_eval): method_missing should be defined for all\n\t  objects; moved to BasicObject.\n\nTue Dec 11 14:27:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_loop): get rid of SEGV at sequence can not be\n\t  converted.\n\n\t* transcode.c (rb_str_transcode_bang): copy encoding.  [ruby-dev:32532]\n\n\t* test/ruby/test_transcode.rb: added tests from Martin Duerst <duerst\n\t  AT it.aoyama.ac.jp>.  [ruby-dev:32532]\n\nTue Dec 11 12:05:51 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_get_ascii): add an argument to provide the\n\t  length of the returned character.\n\n\t* include/ruby/encoding.h (rb_enc_get_ascii): add the argument.\n\n\t* re.c (rb_reg_expr_str): modify rb_enc_get_ascii call.\n\t  (rb_reg_quote): ditto.\n\t  (rb_reg_regsub): ditto.\n\nTue Dec 11 09:40:21 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (ONIGENC_CONSTRUCT_MBCLEN_NEEDMORE):\n\t  parenthesize an argument.\n\nTue Dec 11 02:23:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_method_missing): RDoc update patch from Hugh Sasse\n\t  <hgs AT dmu.ac.uk>.  [ruby-core:12932]\n\nTue Dec 11 01:51:34 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/http.rb (Net::HTTP::get): now supports gzip\n\t  content-encoding.  a patch from Hugh Sasse <hgs AT dmu.ac.uk>.\n\t  [ruby-core:13451]\n\nTue Dec 11 01:21:21 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (shadowing_lvar_gen): no duplicate error for \"_\".\n\nMon Dec 10 22:08:47 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_slice_bang): If an invalid range is given, do\n\t  not raise an exception but return nil just like slice() does.\n\nMon Dec 10 21:47:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (str_transcode): allow non-registered encodings.\n\t  [ruby-dev:32520]\n\nMon Dec 10 21:00:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_slice_bang): should return nil if position out\n\t  of range.  a patch from Akinori MUSHA <knu AT iDaemons.org>.\n\t  [ruby-dev:32518]\n\nMon Dec 10 19:02:52 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_match): should calculate offset by converted\n\t  operand.  [ruby-cvs:21416]\n\nMon Dec 10 18:28:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/uri/common.rb (URI::REGEXP::PATTERN): typo in REG_NAME\n\t  regular expression.  a patch from Ueda Satoshi\n\t  <s-ueda AT livedoor.jp>.  [ruby-dev:32514]\n\nMon Dec 10 17:46:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_tmp_new): creates hidden temporary buffer.\n\n\t* transcode.c (transcoding): added a pointer to function to flush.\n\n\t* transcode.c (transcode_loop): do not use string internal.\n\t  [ruby-dev:32512]\n\n\t* transcode.c (str_transcode): allow Encoding objects.\n\n\t* transcode_data.h (BYTE_LOOKUP): use actual struct name.\n\nMon Dec 10 16:52:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_insert): should not add length in bytes to index in\n\t  chars.\n\nMon Dec 10 14:33:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_public_send): rename invoke_method to public_send.\n\t  it now invokes public method only no matter how it's called.\n\nMon Dec 10 14:00:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c: new file to provide encoding conversion features.\n\t  code contributed by Martin Duerst.\n\nMon Dec 10 13:50:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_search): return byte offset.  [ruby-dev:32452]\n\n\t* re.c (rb_reg_match, rb_reg_match2, rb_reg_match_m): convert byte\n\t  offset to char index.\n\n\t* string.c (rb_str_index): return byte offset.  [ruby-dev:32472]\n\n\t* string.c (rb_str_split_m): calculate in byte offset.\n\nMon Dec 10 09:56:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_vm1_neq.rb, bm_vm1_not.rb: added.\n\nMon Dec 10 07:48:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): wrong token was generated.  [ruby-dev:32498]\n\n\t* object.c (rb_obj_not_match): wrong test.\n\nMon Dec 10 06:44:47 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_expr_str): use \\xHH instead of \\OOO.\n\n\t* regerror.c (to_ascii): ditto.\n\t  (onig_snprintf_with_pattern): ditto.\n\t  (onig_snprintf_with_pattern): ditto.\n\n\t* string.c (rb_str_inspect): ditto.\n\t  (rb_str_dump): ditto.\n\n\t* parse.y (parser_yylex): ditto.\n\n\t* ruby.c (proc_options): ditto.\n\n\t* file.c (rb_f_test): ditto.\n\n\t[ruby-dev:32495]\n\nMon Dec 10 06:41:00 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_names): new method Regexp#names.\n\t  (rb_reg_named_captures): new method Regexp#named_captures\n\t  (match_regexp): new method MatchData#regexp.\n\t  (match_names): new method MatchData#names.\n\n\t* lib/pp.rb (MatchData#pretty_print): show names of named captures.\n\n\t[ruby-dev:32493]\n\nMon Dec 10 01:35:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (expr): redefinable not (!) operator.\n\n\t* parse.y (arg): ditto.\n\n\t* object.c (rb_obj_not): new method \"!\".\n\n\t* object.c (rb_obj_not_equal): new method \"!=\".\n\n\t* object.c (rb_obj_not_match): new method \"!~\".\n\nSun Dec  9 22:31:36 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_s_last_match): accept named capture's name.\n\nSun Dec  9 15:57:53 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (match_backref_number): new function for converting a backref\n\t  name/number to an integer.\n\t  (match_offset): use match_backref_number.\n\t  (match_begin): ditto.\n\t  (match_end): ditto.\n\t  (name_to_backref_number): raise IndexError instead of RuntimeError.\n\t  (match_inspect): show capture index.\n\nSun Dec  9 14:59:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h (CHECK_STACK_OVERFLOW): reserve frame size.\n\t  [ruby-dev:32485]\n\nSun Dec  9 14:38:25 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (rb_thread_mark): use rb_gc_mark_maybe() for\n\t  VM stack specified by mark_stack_len.  [ruby-dev:32462]\n\n\t* insnhelper.ci: clear vm stack extended by opt value.\n\nSun Dec  9 14:08:47 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (FilePathStringValue): defined.  similar to\n\t  FilePathValue but no taint check.\n\n\t* file.c (rb_get_path_no_checksafe): implementation of\n\t  FilePathStringValue.\n\t  (rb_file_s_basename): use FilePathStringValue.\n\t  (rb_file_s_dirname): ditto.\n\t  (rb_file_s_extname): ditto.\n\t  (rb_file_s_split): ditto.\n\t  (rb_file_join): ditto.\n\n\t* dir.c (file_s_fnmatch): ditto.\n\nSun Dec  9 12:49:34 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (append_utf8): check unicode range.\n\nSun Dec  9 12:39:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi.rb (read_multipart): exclude blanks from header values.\n\t  [ruby-list:44327]\n\nSun Dec  9 12:18:19 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_get_path): use the original object if to_path method is\n\t  not defined.  [ruby-dev:32473]\n\n\t* io.c (rb_f_open): call to_open on non-string objects, instead of\n\t  to_str.  [ruby-dev:32473]\n\nSun Dec  9 12:12:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (tr_find): returns true if no characters to be removed is\n\t  specified.\n\nSun Dec  9 12:03:16 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_magic_comment): delimits with a semicolon.\n\nSun Dec  9 11:29:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (tr_trans): get rid of segfaults when has multibytes but\n\t  source sets have no multibytes.\n\nSun Dec  9 04:01:28 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_mbclen): return 1 if underlying implementation\n\t  returns a length longer than e-p.\n\t  (rb_enc_precise_mbclen): return needmore if underlying\n\t  implementation returns a length longer than e-p.\n\nSat Dec  8 17:59:40 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* signal.c (posix_signal): return value.\n\nSat Dec  8 17:22:16 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/openssl/test_pkcs7.rb: Remove redundant module namespace.\n\nSat Dec  8 17:07:10 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ruby.c (proc_options): make rb_raise format as a string literal to\n\t  avoid warning.\n\nSat Dec  8 16:18:16 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_check_preprocess): new function for validating regexp\n\t  fragment.\n\n\t* parse.y (regexp): invoke reg_fragment_check.\n\t  (reg_fragment_check): defined.\n\t  (reg_fragment_check_gen): defined.\n\nSat Dec  8 11:06:29 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_mbclen): make it never fail.\n\t  (rb_enc_nth): don't check the return value of rb_enc_mbclen.\n\t  (rb_enc_strlen): ditto.\n\t  (rb_enc_precise_mbclen): return needmore(1) if e <= p.\n\t  (rb_enc_get_ascii): new function for extracting ASCII character.\n\n\t* include/ruby/encoding.h (rb_enc_get_ascii): declared.\n\n\t* include/ruby/regex.h (ismbchar): removed.\n\n\t* re.c (rb_reg_expr_str): use rb_enc_get_ascii.\n\t  (unescape_escaped_nonascii): use rb_enc_precise_mbclen to determine\n\t  the termination of escaped non-ASCII character.\n\t  (unescape_nonascii): use rb_enc_precise_mbclen.\n\t  (rb_reg_quote): use rb_enc_get_ascii.\n\t  (rb_reg_regsub): use rb_enc_get_ascii.\n\n\t* string.c (rb_str_reverse) don't check the return value of\n\t  rb_enc_mbclen.\n\t  (rb_str_split_m): don't call rb_enc_mbclen with e <= p.\n\n\t* parse.y (is_identchar): use ISASCII.\n\t  (parser_ismbchar): removed.\n\t  (parser_precise_mbclen): new macro.\n\t  (parser_isascii): new macro.\n\t  (parser_tokadd_mbchar): use parser_precise_mbclen to check invalid\n\t  character precisely.\n\t  (parser_tokadd_string): use parser_isascii.\n\t  (parser_yylex): ditto.\n\t  (is_special_global_name): don't call is_identchar with e <= p.\n\t  (rb_enc_symname_p): ditto.\n\n\t  [ruby-dev:32455]\n\n\t* ext/tk/sample/tkextlib/vu/canvSticker2.rb: remove coding cookie\n\t  because the encoding is not UTF-8.  [ruby-dev:32475]\n\nFri Dec  7 20:21:35 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/net/ftptls.rb, ext/openssl/lib/net/telnets.rb:\n\t  half-finished libraries are discontinued.\n\nFri Dec  7 15:44:40 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pp.rb: use Hash for recursion check as inspect.\n\nFri Dec  7 15:04:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (flatten): some performance improvements, based on a patch\n\t  from Yusuke ENDOH <mame AT tsg.ne.jp> in [ruby-core:13877].\n\t  [ruby-core:13851]\n\n\t* thread.c (rb_exec_recursive): use Hash instead of Array for\n\t  performance improvement.  [ruby-core:13898]\n\n\t* thread.c (recursive_pop): use object ID.\n\nThu Dec  6 19:52:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (arg): typo fixed (\"!\" -> \"|\") in the ripper code.\n\nThu Dec  6 19:48:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (arg): tUPLUS no longer works as identity operation any\n\t  more.  inspired by [ruby-talk:265532].\n\nThu Dec  6 18:22:11 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_precise_mbclen): new function for mbclen with\n\t  validation.\n\n\t* include/ruby/encoding.h (rb_enc_precise_mbclen): declared.\n\t  (MBCLEN_CHARFOUND): new macro.\n\t  (MBCLEN_INVALID): new macro.\n\t  (MBCLEN_NEEDMORE): new macro.\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): replace mbc_enc_len\n\t  by precise_mbc_enc_len.\n\t  (ONIGENC_PRECISE_MBC_ENC_LEN): new macro.\n\t  (ONIGENC_CONSTRUCT_MBCLEN_CHARFOUND): new macro.\n\t  (ONIGENC_CONSTRUCT_MBCLEN_INVALID): new macro.\n\t  (ONIGENC_CONSTRUCT_MBCLEN_NEEDMORE): new macro.\n\t  (ONIGENC_MBCLEN_CHARFOUND): new macro.\n\t  (ONIGENC_MBCLEN_INVALID): new macro.\n\t  (ONIGENC_MBCLEN_NEEDMORE): new macro.\n\t  (ONIGENC_MBC_ENC_LEN): use ONIGENC_PRECISE_MBC_ENC_LEN.\n\n\t* enc/euc_jp.c: validation implemented.\n\n\t* enc/sjis.c: ditto.\n\n\t* enc/utf8.c: ditto.\n\n\t* string.c (rb_str_inspect): use rb_enc_precise_mbclen for invalid\n\t  encoding.\n\t  (rb_str_valid_encoding_p): new method String#valid_encoding?.\n\n\t* io.c (rb_io_getc): use rb_enc_precise_mbclen.\n\n\t[ruby-dev:32438]\n\nThu Dec  6 01:37:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regparse.c (i_apply_case_fold): fix for negative character class.  a\n\t  patch from Yusuke ENDOH <mame AT tsg.ne.jp> in [ruby-core:13884].\n\nThu Dec  6 01:00:38 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_s_list): support NetBSD/Citrus iconv.\n\nWed Dec  5 16:18:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (rb_proc_s_new): call initialize.  [ruby-core:13824]\n\n\t* proc.c (rb_proc_location): return file name and line number where\n\t  the proc is defined.\n\n\t* thread.c (thread_s_new): call initialize.  [ruby-core:13835]\n\n\t* thread.c (thread_initialize): split initialize method.\n\nWed Dec  5 15:25:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_intern3): fix to changing encoding to default, and\n\t  uncommented r13835, which is rare but not impossible.\n\nWed Dec  5 15:15:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (step_i, range_step): support non-fixnum steps.\n\t  [ruby-talk:282100]\n\nWed Dec  5 14:25:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix typo.\n\nWed Dec  5 13:41:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (yycompile): get rid of tracing while parsing.\n\t  [ruby-dev:31351]\n\n\t* thread.c (ruby_suppress_tracing): added a new parameter, which\n\t  directs to call func always.\n\nTue Dec  4 19:56:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_convert): should not set encoding unless\n\t  the target encoding is supported.  [ruby-dev:32451]\n\nTue Dec  4 17:34:17 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (tojis, tosjis, toeuc, toutf8):\n\t  set encoding. [ruby-dev:32447]\n\nTue Dec  4 17:07:25 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/json.rb, lib/json/*: moved to ext/json/lib.\n\nTue Dec  4 16:34:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_create): achieve target encoding.\n\n\t* ext/iconv/iconv.c (iconv_convert, iconv_finish, iconv_iconv,\n\t  iconv_conv): set result string encoding.  [ruby-dev:32446]\n\n\t* ext/iconv/iconv.c (iconv_initialize, iconv_s_open): set encoding to\n\t  Iconv instance.\n\nTue Dec  4 14:34:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): reverted c flag.\n\nTue Dec  4 11:23:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_cstr_to_inum): trailing spaces may exist at squeezing\n\t  preceding 0s.  [ruby-core:13873]\n\nMon Dec  3 11:51:53 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/Win32API/*: removed or moved to ext/dl/win32.\n\n\t* ext/dl/win32/*: new. [ruby-dev:32387]\n\nSun Dec  2 22:08:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_tokadd_mbchar): fix for ASCII chars.  [ruby-dev:32432]\n\n\t* parse.y (parser_parse_string, parser_here_document): prevent false\n\t  error messages.\n\nSun Dec  2 20:43:22 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (unescape_escaped_nonascii): fix mbclen argument.\n\nSun Dec  2 15:47:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_tokadd_mbchar): check insufficient multibyte char.\n\t  [ruby-dev:32429]\n\nSun Dec  2 15:42:16 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, test/rss/test_version.rb: 0.2.1 -> 0.2.2.\n\n\t* lib/rss/maker/itunes.rb: fixed new_itunes_category.\n\t* lib/rss/maker/taxonomy.rb: new_taxo_topic -> new_topic because\n\t  of consistency.\n\n\t* test/rss/test_maker_itunes.rb, test/rss/test_itunes.rb: removed\n\t  needless UTF-8 characters.\n\nSun Dec  2 15:18:37 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_callee_setup_arg): fix error message.\n\t  [ruby-dev:32430]\n\nSun Dec  2 09:12:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (regexp): fix /#{}\\xa1\\xa2/e to be EUC-JP.\n\t  (reg_fragment_setenc_gen): extracted from reg_compile_gen.\n\nSun Dec  2 01:39:51 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_uv_to_utf8): declared.\n\n\t* re.c (rb_reg_preprocess): new function for dynamic regexp with\n\t  \\u{} such as Regexp.new(\"\\\\u{6666}\").\n\t  (rb_reg_prepare_re): preprocess regexp for recompiling.\n\t  (read_escaped_byte): new function.\n\t  (unescape_escaped_nonascii): new function.\n\t  (append_utf8): new function.\n\t  (unescape_unicode_list): new function.\n\t  (unescape_unicode_bmp): new function.\n\t  (unescape_nonascii): new function.\n\t  (rb_reg_initialize): preprocess regexp.\n\n\t* pack.c (rb_uv_to_utf8): renamed from uv_to_utf8.\n\n\t* parse.y (STR_NEW3): take func instead of has8 and hasmb.\n\t  (parser_str_new): use default coderange mechanism except for regexp.\n\t  (parser_tokadd_utf8): copy regexp source as-is.\n\t  (parser_read_escape): UTF-8 stuff removed.\n\t  (parser_tokadd_escape): has8bit and hasmb removed.\n\t  (parser_tokadd_string): fix 8-bit single byte character with \\u.\n\t  (parser_parse_string): has8bit and hasmb removed.\n\t  (parser_here_document): has8bit and hasmb removed.\n\t  (parser_yylex): call parser_tokadd_utf8 instead of read_escape for\n\t  UTF-8 character.\n\nWed Dec  2 01:00:07 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/server.rb (XMLRPC::Server#server): Improve signal handling so\n\t  pressing control-c in the controlling terminal or sending SIGTERM stops\n\t  the XML-RPC server.\n\nSat Dec  1 23:04:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c: rename primary_encoding -> default_external (encoding).\n\nSat Dec  1 19:52:57 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (Time#to_datetime): use nsec instead of usec.\n\n\t* lib/date.rb (DateTime#to_time): second minute as an argument to\n\t  Time::utc contains fractional part in rational; hence Time\n\t  object may keep resolution at most nanosecond.\n\nSat Dec  1 14:36:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: move fixed bugs.\n\n\t* test/ruby/test_sprintf.rb: ditto.\n\n\t* test/yaml/test_yaml.rb: ditto.\n\nSat Dec  1 13:24:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_yield_with_cfunc): fix to passing argc on third\n\t  parameter of IFUNC.  [ruby-dev:32329]\n\n\t* enumerator.c: fix to pass exact number of argument.\n\n\t* eval.c (rb_yield_values2): added.\n\n\t* include/ruby/ruby.h: ditto.\n\n\t* bootstraptest/test_knownbug.rb: move a fixed test.\n\n\t* bootstraptest/test_block.rb: ditto.\n\nSat Dec  1 10:45:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_open): use to_open for every non-string object.  path\n\t  object may use method_missing.\n\nSat Dec  1 09:44:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insns.def (concatarray, splatarray): use to_a instead of\n\t  to_splat.\n\n\t* insnhelper.ci (caller_setup_args): ditto.\n\nSat Dec  1 03:34:32 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (newline_node): always remove NODE_BEGIN.\n\nFri Nov 30 23:48:07 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (ruby_signal): use SA_SIGINFO if available.\n\t  [ ruby-Patches-6418 ]\n\nFri Nov 30 22:52:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (trap_signm): SIGVTALRM no longer used for green\n\t  thread.  [ruby-talk:281318]\n\n\t* signal.c (ruby_sig_finalize): do not install SIG_DFL handler if\n\t  previous handler is sighandler().\n\nFri Nov 30 21:02:15 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/json.rb, lib/json/add/{core.rb, rails.rb},\n\t  test/json/test_json_rails.rb: additional files of JSON 1.1.2.\n\t  [ruby-dev:32405]\n\nFri Nov 30 19:33:38 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (rb_syck_mktime): avoid segmentation fault.\n\t  [ruby-core:13735]\n\nFri Nov 30 19:05:55 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_count): precise argument number check.\n\n\t* enum.c (enum_count): return Enumerator if no block given.\n\nFri Nov 30 16:42:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_take_while): returns Enumerator if no block given.\n\n\t* enum.c (enum_drop_while): ditto.\n\nThu Nov 29 16:59:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): remove unnecessary NODE_BEGIN.  [ruby-core:13814]\n\nThu Nov 29 06:45:48 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_eql): recursive comparison should be based on\n\t  eql?  [ruby-core:13803]\n\nWed Nov 28 18:08:00 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json, lib/json, test/json: Update to JSON 1.1.2.\n\t  (RubyForge#15447)\n\n\t* math.c: fix typo.\n\nWed Nov 28 16:29:35 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_invoke_block): should splat args.\n\t  [ruby-dev:32392]\n\n\t* test/ruby/test_yield.rb: add tests for above.\n\nWed Nov 28 14:43:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extract_makefile): use dldflags instead of DLDFLAGS to\n\t  get rid of mixing $LDFLAGS and $ARCH_FLAG.\n\n\t* lib/mkmf.rb (configuration): ditto.\n\n\t* lib/mkmf.rb (create_makefile): support for extensions which has no\n\t  shared object.\n\nWed Nov 28 02:42:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (big2str_find_n1): removed extraneous element.\n\t  [ruby-dev:32351], [ruby-dev:32365]\n\n\t* bignum.c (big2str_find_n1): returns necessary digits now.\n\n\t* sprintf.c (remove_sign_bits): extends sign bit first.\n\nTue Nov 27 15:53:43 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): \"when *[],1\" dumps core.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:32350]\n\n\t* bootstraptest/test_syntax.rb: add a test for above.\n\nTue Nov 27 15:40:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): \"a[*b] += 1\" dumps core.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:32354]\n\n\t* bootstraptest/test_syntax.rb: add a test for above.\n\nTue Nov 27 12:47:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, insns.def: change return value of \"defined?\"\n\t  for $&, $1, ... .  If such variables are defined,\n\t  return \"global-variable\".\n\n\t* test/ruby/test_defined.rb: add tests.\n\n\t* bootstraptest/test_syntax.rb: fix a test.\n\nTue Nov 27 11:54:46 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def: fix typo.\n\nTue Nov 27 11:23:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test_beginendblock.rb: add loop to wait signal.\n\t  [ruby-dev:32332]\n\nTue Nov 27 11:14:57 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h, encoding.c, re.c, string.c, parse.y:\n\t  rename ENC_CODERANGE_SINGLE to ENC_CODERANGE_7BIT.\n\t  rename ENC_CODERANGE_MULTI to ENC_CODERANGE_8BIT.\n\t  Because single byte 8bit character, such as Shift_JIS 1byte katakana,\n\t  is represented by ENC_CODERANGE_MULTI even if it is not multi byte.\n\nTue Nov 27 10:45:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_method_missing): fix stack trace.\n\n\t* bootstraptest/test_knownbug.rb: move solved tests.\n\n\t* bootstraptest/test_method.rb, test/ruby/test_regexp.rb: ditto.\n\nTue Nov 27 09:57:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def, compile.c: fix to allow dsym for alias/undef.\n\t  [ruby-dev:32355]\n\n\t* bootstraptest/test_method.rb: add tests for above.\n\nMon Nov 26 23:18:46 2007  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/extserv.rb (initialize, stop_service): synchronize with\n\t  ExtServManager.\n\n\t* test/drb/test_drb.rb (TestDRbEval): ignored.\n\nMon Nov 26 17:32:16 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (Init_Regexp): new method Regexp#fixed_encoding?\n\t  [ruby-dev:32361]\n\nMon Nov 26 13:28:14 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/complex.rb: be able to create Complex(0, -0.0). [ruby-list:44268]\n\nMon Nov 26 11:24:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_fixed_encoding_p): extracted from rb_reg_prepare_re and\n\t  rb_reg_s_union.\n\t  (rb_reg_s_union): refactored.\n\nMon Nov 26 10:44:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_read_internal, rb_sysopen_internal): remove C99 dependency.\n\nSun Nov 25 22:21:35 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_enc_str_asciionly_p): declared.\n\t  (rb_enc_str_asciicompat_p): defined.\n\n\t* re.c (rb_reg_initialize_str): use rb_enc_str_asciionly_p.\n\t  (rb_reg_quote): return ascii-8bit string if the argument is\n\t  ascii-only to generate encoding generic regexp if possible.\n\t  (rb_reg_s_union): fix encoding handling.  [ruby-dev:32094]\n\n\t* string.c (rb_enc_str_asciionly_p): defined.\n\nSun Nov 25 12:12:03 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb: Import fast-loading gem_prelude.rb from RubyGems.\n\n\t* lib/rubygems*: Import RubyGems r1516.\n\nSat Nov 24 23:25:52 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_eval.rb (TestEval::test_instance_eval_cvar):\n\t  updated not to modify class variable of Object class.\n\nFri Nov 23 17:34:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* io.c: add rb_read_internal() as blocking function.\n\nFri Nov 23 17:33:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: fix comment.\n\nFri Nov 23 17:26:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: move solved tests.\n\n\t* bootstraptest/test_io.rb, test_marshal.rb, test_objectspace.rb:\n\t  ditto.\n\n\t* test/ruby/test_integer.rb, test_regexp.rb: ditto.\n\nFri Nov 23 15:59:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* struct.c (rb_struct_alloc_noinit): new function.\n\t  (rb_struct_define_without_accessor): add allocator to the arguments.\n\n\t* range.c (range_alloc): re-introduced using rb_struct_alloc_noinit.\n\nFri Nov 23 15:27:43 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (REG_CASESTATE): unused macro removed.\n\t  (rb_reg_prepare_re): check encoding difference.\n\t  (rb_reg_initialize): check 8bit byte.\n\n\t* parse.y (parser_tokadd_escape): fix has8bit.\n\n\t  [ruby-dev:32113]\n\nFri Nov 23 15:16:48 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_f_global_variables): variable names should not\n\t  duplicate.  [ruby-dev:32344]\n\nFri Nov 23 13:34:08 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* struct.c (rb_struct_define_without_accessor): new function.\n\n\t* range.c (range_alloc): removed.\n\t  (Init_Range): use rb_struct_define_without_accessor.\n\n\t  based on [ruby-dev:32327].\n\nFri Nov 23 11:01:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (match_begin): should return offset by character.\n\t  [ruby-dev:32331]\n\n\t* re.c (match_end): ditto.\n\n\t* re.c (rb_reg_search): ditto.\n\nFri Nov 23 10:44:24 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): defined(method(x)) dumped core.  a\n\t  patch from Yusuke ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:32335]\n\nWed Nov 21 18:03:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: fix to recycle thread data (VM stack).\n\n\t* thread.c: ditto.\n\n\t* benchmark/bm_vm3_thread_create_join.rb: add loop count.\n\nWed Nov 21 18:02:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: add path to trunk/lib if driver runner is\n\t  in build directory.\n\nWed Nov 21 16:39:21 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/fileutils/fileasserts.rb (assert_equal_timestamp): new assert\n\t  to test tv_sec only for filestamp resolution portability.\n\t  (assert_same_entry): use assert_same_entry for mtime comparison.\n\nWed Nov 21 14:55:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* array.c (rb_ary_permutation): add gc guard codes.\n\nWed Nov 21 11:16:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insnhelper.ci (vm_search_normal_superclass): rename function.\n\n\t* insnhelper.ci (vm_search_superclass): ditto.\n\n\t* proc.c (struct METHOD): rename rklass -> rclass.\n\nWed Nov 21 03:12:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (rb_f_system): returns nil on execution failure.\n\t  [ruby-core:13715]\n\nWed Nov 21 01:04:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (nil_plus): remove unused function.  [ruby-core:13737]\n\nTue Nov 20 21:46:46 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_mload): ignore invalid digits in submicro.\n\nTue Nov 20 20:33:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/ruby.h: rename RFloat#double_value -> float_value.\n\n\t* numeric.c, parse.y: ditto.\n\nTue Nov 20 19:36:21 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.h, vm_core.h: decl of rb_gc_save_machine_context()\n\t  should be at vm_core.h.\n\n\t* include/ruby/ruby.h, intern.h: remove type rb_thread_t.\n\n\t* include/ruby/intern.h: change rb_unblock_function_t,\n\t  rb_unblock_function_t.\n\n\t* file.c, process.c: apply above changes.\n\n\t* thread.c, thread_pthread.ci, thread_win32.ci: ditto.\n\n\t* io.c: support blocking open (2). [ruby-core:13614]\n\nTue Nov 20 17:10:11 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_close_on_exec_p): new method IO#close_on_exec?.\n\t  (rb_io_set_close_on_exec): new method IO#close_on_exec=.\n\t  [ruby-dev:32323]\n\nTue Nov 20 16:24:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (gc_mark_children): obj->as.file.fptr may be 0 for T_FILE.\n\nTue Nov 20 15:09:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_read_escape): has8bit flag may be set with control\n\t  escape.  [ruby-core:13722]\n\n\t* parse.y (parser_prepare): set begging after BOM if exists.\n\t  [ruby-core:13718]\n\nTue Nov 20 14:55:37 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*: Update to RubyGems 0.9.5.\n\nTue Nov 20 13:00:44 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h win32/win32.c (rb_w32_pipe_exec): use dual fd\n\t  instead of socketpair when mode is RDWR.\n\n\t* io.c (pipe_open): pass &write_fd to rb_w32_pipe_exec().\n\n\t* io.c (popen_redirect): define only when HAVE_FORK.\n\nTue Nov 20 12:12:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): add tied_io_for_writing member.\n\n\t* io.c: use tied_io_for_writing for duplex popen.\n\n\t* gc.c: mark tied_io_for_writing.\n\n\t* common.mk: gc.o depends io.h.\n\n\t  [ruby-dev:32205]\n\nTue Nov 20 11:59:33 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/drb/test_drb.rb: rename TestRubyYield to TestDRbRubyYield to\n\t  avoid name crash with test/ruby/test_yield.rb.\n\t  TestRuby18Yield is renamed to TestDRbRuby18Yield too.\n\nTue Nov 20 03:24:42 2007  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/extservm.rb: merged from ruby_1_8 branch.\n\n\t* lib/drb/acl.rb: ditto.\n\n\t* lib/drb/ssl.rb: ditto.\n\n\t* lib/drb/unix.rb: ditto.\n\n\t* lib/drb/drb.rb: ditto.\n\n\t* lib/drb/observer.rb: ditto.\n\n\t* lib/drb/invokemethod.rb: ditto.\n\n\t* test/drb/test_drbssl.rb: ditto.\n\n\t* test/drb/test_drb.rb: ditto.\n\n\t* test/drb/drbtest.rb: ditto.\n\n\t* test/drb/test_drbunix.rb: ditto.\n\nTue Nov 20 00:52:46 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/fileutils/fileasserts.rb (assert_equal_time): show nsec if\n\t  assertion fails but time.to_s equals.\n\t  (assert_same_entry): use assert_equal_time.\n\n\t* test/fileutils/test_fileutils.rb (test_install): use\n\t  assert_equal_time.\n\nMon Nov 19 18:46:49 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* file.c (utime_internal): fallback utimensat to utimes.\n\nMon Nov 19 17:51:27 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in: check struct timespec, clock_gettime, utimensat,\n\t  struct stat.st_atim,\n\t  struct stat.st_atimespec,\n\t  struct stat.st_atimensec,\n\t  struct stat.st_mtim,\n\t  struct stat.st_mtimespec,\n\t  struct stat.st_mtimensec,\n\t  struct stat.st_ctim,\n\t  struct stat.st_ctimespec,\n\t  struct stat.st_ctimensec.\n\n\t* include/ruby/missing.h: provide struct timespec if not available.\n\n\t* time.c: support nanosecond-resolution using struct timespec.\n\t  (time_nsec): new method: Time#nsec and Time#tv_nsec.\n\n\t* include/ruby/intern.h: provide rb_time_nano_new.\n\n\t* file.c (utime_internal): use utimensat if available.\n\t  (rb_file_s_utime): refactored.\n\t  (rb_f_test): use stat_atime, stat_mtime, stat_ctime.\n\t  (rb_stat_cmp): check tv_nsec.\n\t  (stat_atimespec): new function.\n\t  (stat_atime): ditto.\n\t  (stat_mtimespec): ditto.\n\t  (stat_mtime): ditto.\n\t  (stat_ctimespec): ditto.\n\t  (stat_ctime): ditto.\n\t  (rb_stat_atime): use stat_atime.\n\t  (rb_file_s_atime): ditto.\n\t  (rb_file_atime): ditto.\n\t  (rb_stat_mtime): use stat_mtime.\n\t  (rb_file_s_mtime): ditto.\n\t  (rb_file_mtime): ditto.\n\t  (rb_file_ctime): use stat_ctime.\n\t  (rb_file_s_ctime): ditto.\n\t  (rb_stat_ctime): ditto.\n\n\t* variable.c (rb_copy_generic_ivar): clear clone's instance variables\n\t  if obj has no instance variable.\n\n\t* marshal.c (w_object): dump instance variables of generated string\n\t  for TYPE_USERDEF, even if original object has instance variables.\n\n\t* lib/time.rb (Time#xmlschema): use nsec instead of usec.\n\n\t[ruby-dev:32306]\n\nMon Nov 19 17:48:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_class_superclass): should not raise exception for\n\t  BasicObject.  [ruby-Bugs-15668]\n\nMon Nov 19 16:04:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation): gives all permutations of elements\n\t  if no argument given.  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.\n\t  [ruby-dev:32309]\n\nMon Nov 19 02:44:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): alias and undef accept dsyms as well\n\t  as literals.  [ruby-dev:32308]\n\nMon Nov 19 02:31:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_method.ci (rb_add_method): no redefinition warning for undef.\n\nMon Nov 19 01:53:11 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_read_escape): disallow control and meta modifiers\n\t  for non-ASCII characters.  [ruby-core:13685]\n\nSun Nov 18 20:47:41 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (mark_dump_arg): it may be called after dump_ensure.\n\nSun Nov 18 18:27:47 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_minus): fix Time.at(2**60+1) - Time.at(2**60).\n\nSun Nov 18 17:28:49 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_arg): show actual year in 2-3 digits year warning.\n\t  (time_mdump): show actual year in \"year too big to marshal\" error.\n\nSun Nov 18 14:03:44 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_method.ci (rb_alias): do not call hook functions until\n\t  initialization finishes.  [ruby-talk:279538]\n\nSun Nov 18 09:09:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (String#tr_cpp): make preprocessor identifiers.\n\nSun Nov 18 05:19:46 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/mkmf.rb (have_struct_member): define HAVE_type_member.\n\nSat Nov 17 23:51:29 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_invoke): bug fix. [ruby-talk:279100]\n\nSat Nov 17 23:21:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): should clear parser->tokp as well.\n\t  [ruby-dev:32250]\n\n\t* parse.y: remove NEED_ASSOC that break test_parser_events.\n\n\t* parse.y (parser_yylex): should not decrement line numbers at the\n\t  end of file.\n\n\t* file.c (rb_find_file_ext): search .rb files first through in the\n\t  loadpath.\n\nFri Nov 16 23:31:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_odd_p): new method added.  a patch from Tadashi\n\t  Saito <shiba AT mail2.accsnet.ne.jp>.  [ruby-dev:32305]\n\n\t* bignum.c (rb_big_even_p): ditto.\n\nFri Nov 16 17:41:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (Document-class): moved the simplest example to\n\t  the top.\n\n\t* ext/iconv/iconv.c (iconv_s_iconv): Document-method: needs class\n\t  prefix for class method.  [ruby-core:13542]\n\n\t* ext/iconv/iconv.c (iconv_iconv): also instance method needs to be\n\t  qualified.\n\nFri Nov 16 16:26:57 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* include/ruby/ruby.h: added some declarations for event hooks.\n\n\t* lib/profile.rb: set VM::InstructionSequence.compile_option.\n\nFri Nov 16 11:16:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb (String#is_binary_data?): use Integer#fdiv.\n\nFri Nov 16 03:36:01 2007  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: Node#value defined twice.\n\n\t* lib/yaml/: several method redefinitions causing warnings.\n\nFri Nov 16 03:01:00 2007  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/types.rb: Likewise, pass self to YAML::quick_emit.\n\nFri Nov 16 02:51:59 2007  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb (quick_emit): use combination of object_id and hash to\n\t  identify repeated object references, since GC will reuse memory of\n\t  objects during output of YAML. [ruby-Bugs-8548] [ruby-Bugs-3698]\n\nThu Nov 15 19:49:03 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/curses/extconf.rb: check macro if cannot find func.\n\t  [ruby-list:44224]\n\nThu Nov 15 18:04:06 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: fix TMP_RUBY_PREFIX for relative load path\n\t  environment.\n\nThu Nov 15 17:28:21 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: absolute path may not start with a slash.\n\t  pointed by usa.\n\nThu Nov 15 17:07:54 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: fix first substitution.\n\t  use constant for prefix.\n\t  pointed by Richard Kilmer.\n\nThu Nov 15 14:29:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (prereq): added auto generated sources.  [ruby-dev:32280]\n\nThu Nov 15 12:31:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: use constant for prefix.\n\nThu Nov 15 12:24:39 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: use simple template system for source\n\t  code generation.\n\nThu Nov 15 12:19:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::FileStore::restore): use\n\t  lockfile for exclusive locks.  a patch from <tommy AT tmtm.org>.\n\t  [ruby-dev:32296]\n\nThu Nov 15 12:14:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* tool/compile_prelude.rb (c_esc): need to escape closing brace.\n\nThu Nov 15 11:52:16 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: adjust RbConfig::CONFIG paths relative\n\t  to the installation path.\n\nThu Nov 15 11:25:20 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ruby.c (usage): fix typo on --disable-gems option.\n\t  pointed by Richard Kilmer.\n\nWed Nov 14 16:16:17 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/net/http/test_https_proxy.rb\n\t  (HTTPSProxyTest::test_https_proxy_authentication): initialize\n\t  local variable 't' first.  [ruby-dev:32253]\n\nWed Nov 14 15:39:24 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/socket/test_socket.rb: update not to use 1.8 assignment to\n\t  external local variable in the block parameters.  [ruby-dev:32251]\n\n\t* test/strscan/test_stringscanner.rb: avoid $KCODE, and use\n\t  String#force_encoding().  [ruby-dev:32251]\n\nWed Nov 14 14:04:42 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk, Makefile.in: rename prelude.c to miniprelude.c.\n\t  rename ext_prelude.c to prelude.c\n\n\t* win32/Makefile.sub: ditto.\n\n\t* bcc32/Makefile.sub: ditto.\n\nWed Nov 14 07:09:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* blockinlining.c, compile.c, compile.h, debug.c, debug.h,\n\t  id.c, insnhelper.h, insns.def, thread.c, thread_pthread.ci,\n\t  thread_pthread.h, thread_win32.ci, thread_win32.h, vm.h,\n\t  vm_dump.c, vm_evalbody.ci, vm_opts.h: fix comments and\n\t  copyright year.\n\nWed Nov 14 07:07:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/makedocs.rb, template/insnstbl.html: removed.\n\nWed Nov 14 02:50:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.c): dependency also needs vpath.\n\n\t* common.mk (node_name.inc, prelude.c): VPATH in nmake does not\n\t  work for targets of explicit rules.\n\nWed Nov 14 02:11:38 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/isinf.c (isinf): don't define if the macro is defined.\n\n\t* configure.in: no need to set ac_cv_func_isinf=yes on non-gcc\n\t  solaris.\n\nWed Nov 14 01:34:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (round): fallback definition.\n\n\t* numeric.c (flo_divmod, flo_round): use round() always.\n\t  [ruby-dev:32269]\n\nWed Nov 14 00:33:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/ruby.h: introduce 2 macros:\n\t  RFLOAT_VALUE(v), DOUBLE2NUM(dbl).\n\t  Rename RFloat#value -> RFloat#double_value.\n\t  Do not touch RFloat#double_value directly.\n\n\t* bignum.c, insns.def, marshal.c, math.c, numeric.c, object.c,\n\t  pack.c, parse.y, process.c, random.c, sprintf.c, string.c,\n\t  time.c: apply above changes.\n\n\t* ext/dl/mkcallback.rb, ext/json/ext/generator/generator.c:\n\t  ditto.\n\nWed Nov 14 00:15:37 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/ytab.sed: get rid of GNU sed feature.  a patch from Laurent\n\t  Sansonetti <laurent.sansonetti AT gmail.com> in [ruby-core:13470].\n\nTue Nov 13 21:41:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.c), ext/ripper/depend (ripper.c): process after\n\t  bison with sed.  [ruby-dev:32204]\n\n\t* ruby.c (proc_options): use yydebug in cmdline_options.\n\n\t* ruby.c (process_options): set yydebug flag of parser.\n\n\t* parse.y (yydebug): moved into struct parser_params.\n\n\t* parse.y (rb_parser_get_yydebug, rb_parser_set_yydebug): parser\n\t  generic methods.\n\n\t* */Makefile.sub (parse.c): moved to common.mk.\n\n\t* tool/ytab.sed: comment out yydebug definition, and substitute\n\t  yyerror with parser_yyerror.\n\nTue Nov 13 16:33:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (flodivmod): work around for infinity.\n\n\t* numeric.c (flo_divmod): work around for platforms have no round().\n\t  [ruby-dev:32247]\n\nTue Nov 13 15:26:33 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lex.c.blt: moved from lex.c.\n\n\t* lex.c.src: copied from keywords.  This is the source of lex.c.blt.\n\n\t* Makefile.in (lex.c): use lex.c.blt if keywords is same as lex.c.src.\n\n\t* win32/Makefile.sub (lex.c): re-introduce copy rule.\n\n\t* bcc32/Makefile.sub (lex.c): ditto.\n\n\t* wince/Makefile.sub (lex.c): ditto.\n\nTue Nov 13 15:21:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_specialized_instruction): check argc.\n\nTue Nov 13 14:44:32 2007  why the lucky stiff  <why@ruby-lang.org>\n\n\t* test/yaml/test_yaml.rb: fixed the failing YAML Struct test\n\t  at ko1's request.\n\nTue Nov 13 02:57:04 2007  URABE Shyouhei  <shyouhei@ice.uec.ac.jp>\n\n\t* numeric.c (flo_divmod): round to the nearest integer.\n\t  [ ruby-Bugs-14540 ]\n\nTue Nov 13 00:36:16 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/ruby/test_settracefunc.rb: fixed tests for set_trace_func.\n\nMon Nov 12 19:47:29 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread.c (call_trace_proc): should return value.\n\nMon Nov 12 19:45:18 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub (miniruby): use $(COMMONOBJS) and $(DMYEXT)\n\t  instead of $(LIBRUBY_A).\n\nMon Nov 12 18:32:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub (MINIOBJS): added prelude.$(OBJEXT).\n\nMon Nov 12 17:13:23 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* Makefile.in, common.mk: add prelude.o to MINIOBJS.\n\nMon Nov 12 16:52:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): rdoc about srcprefix.  a patch from\n\t  Daniel Berger <djberg96 AT gmail.com> in [ruby-core:13378].\n\nMon Nov 12 16:48:09 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* Makefile.in, common.mk: add ext_prelude.o to OBJS.\n\nMon Nov 12 13:57:39 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (MINIDLNOBJS): removed.\n\t  (MINIOBJS): set to dln.o if dmydln.o is not used.\n\n\t* Makefile.in (miniruby): use MINIOBJS instead of MINIDLNOBJS.\n\nMon Nov 12 13:53:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-parse-partial): handle stringified\n\t  symbols properly using ruby-forward-string.\n\nMon Nov 12 12:17:59 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (MINIDLNOBJS): defined.\n\n\t* Makefile.in (miniruby): use MINIDLNOBJS and COMMONOBJS instead of\n\t  MINIOBJS and OBJS to avoid linking both dmydln.o and dln.o.\n\nSun Nov 11 20:32:45 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* {win32,wince,bcc32}/Makefile.sub: delete lex.c rule.\n\nSun Nov 11 19:40:52 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* Makefile.in (lex.c): simplified.\n\nSun Nov 11 18:31:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* Makefile.in (lex.c): touch lex.c if gperf failed but lex.c exists.\n\t  Although this may cause non-updated lex.c,\n\t  svn co may generate keywords newer than lex.c especially on\n\t  a file system which can record fractional mtime such as XFS.\n\nSun Nov 11 17:32:46 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* insnhelper.ci (vm_call_method): pass mn->nd_clss to\n\t  vm_call_cfunc() instead of klass.\n\n\t* vm.c (rb_thread_method_id_and_klass): traverse parent_iseq.\n\n\t* thread.c (call_trace_proc): use rb_thread_method_id_and_klass().\n\nSun Nov 11 16:54:25 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lex.c: renamed from lex.c.blt.\n\n\t* Makefile.in (lex.c): use find command to check mtime.\n\nSun Nov 11 05:34:13 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* bin/gem: Add forgotten gem command.\n\nSat Nov 10 23:50:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (tr_trans): cast to unsigned char after dereference\n\t  a pointer to a char to avoid SEGV with \"\\377\".tr(\"a\", \"b\").\n\t  on FreeBSD/amd64.\n\nSat Nov 10 23:08:53 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in, common.mk, Makefile.in: don't generate\n\t  libminiruby-static.a.\n\nSat Nov 10 19:46:54 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in, common.mk, Makefile.in: generate libminiruby-static.a\n\t  which contains prelude.o for miniruby.\n\nSat Nov 10 18:10:07 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gem_prelude.rb: new file for gem libraries.  currently empty.\n\n\t* common.mk: generate ext_prelude.c by prelude.rb and gem_prelude.rb.\n\t  ruby (not miniruby) is linked with ext_prelude.o instead of\n\t  prelude.o.\n\n\t* inits.c (rb_call_inits): don't call Init_prelude.\n\n\t* ruby.c: support --disable-gems option.\n\t  (ruby_init_gems): new function to define Gem::Enable and\n\t  invoke Init_prelude.\n\t  (process_options): call ruby_init_gems just after\n\t  ruby_init_loadpath.\n\n\t* tool/compile_prelude.rb: support multiple files.\n\nSat Nov 10 17:27:55 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* thread.c (call_trace_proc): don't call ID2SYM() for ID_ALLOCATOR\n\t  to avoid SEGV.\n\nSat Nov 10 16:37:07 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems: Import RubyGems revision 1493.\n\n\t* lib/rubygems.rb: ditto.\n\n\t* lib/ubygems.rb: ditto.\n\n\t* lib/rbconfig/datadir.rb: ditto.\n\n\t* test/rubygems: ditto.\n\nSat Nov 10 16:34:21 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/soap/property.rb: Don't override Enumerable#inject for 1.9.\n\nSat Nov 10 14:43:30 2007  David Flanagan  <davidflanagan@ruby-lang.org>\n\n\t* parse.y: use ASCII encoding for string literals that are\n\t  7-bit clean, fixing regression from my previous patch\n\nSat Nov 10 13:18:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc32,win32}/Makefile.sub: vendor_ruby support.\n\nFri Nov  9 23:33:16 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_nextc): added single line read forward buffer.\n\n\t* parse.y (parser_yylex): adjust line number for fluent interface.\n\nFri Nov  9 22:04:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.h (FRAME_MAGIC_MASK_BITS): bits of FRAME_MAGIC_MASK.\n\n\t* insnhelper.ci (vm_call_cfunc, vm_cfunc_flags): use shift operations.\n\nFri Nov  9 21:46:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (eval): should be volatile value for GC.\n\nFri Nov  9 17:48:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (locale_encoding): guesstimate encoding from environment\n\t  variables.  [ruby-core:13315]\n\n\t* ruby.c (process_options): set primary encoding from environment.\n\nFri Nov  9 16:51:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_each_byte): should update rbuf_off and rbuf_len for\n\t  each iteration.  [ruby-dev:31659][ruby-dev:32192]\n\n\t* variable.c (rb_cvar_set): cvar assignment obey same rule to cvar\n\t  reference.  [ruby-dev:32192]\n\nFri Nov  9 15:52:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_check_encoding, rb_set_primary_encoding): ENCODING\n\t  is no longer in FL_USERS flags.\n\nFri Nov  9 15:20:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_squeeze_bang): initialize squeezing table if no\n\t  arguments given.\n\nFri Nov  9 13:57:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (each_with_index_i): use rb_yield_values() for\n\t  compatibility with Enumerator#with_index().  a patch from Yusuke\n\t  ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:32195]\n\nFri Nov  9 13:45:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (TestIterator::IterTest::each):\n\t  #each_pair is now alias to #each.  [ruby-dev:32192]\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_assoc_yield):\n\t  ditto\n\nFri Nov  9 12:56:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_load.c (loaded_feature_path): check with type of given feature.\n\nFri Nov  9 12:43:02 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_basicinstructions.rb: updated for new class\n\t  behavior.  [ruby-dev:32192]\n\n\t* encoding.c (enc_name): Encoding should not rely on ENCODING in\n\t  the FL_USERS flags.\n\n\t* encoding.c (rb_enc_from_encoding): do not call rb_enc_associate\n\t  for encoding itself.\n\n\t* encoding.c (enc_register_at): ditto.\n\n\t* marshal.c (r_ivar): do not set real instance variable for\n\t  encoding data associated.\n\nFri Nov  9 10:43:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (send_internal): use self in the previous frame to check for\n\t  protected methods.  [ruby-core:13254]\n\n\t* insnhelper.ci (vm_call_method): send! method has gone.\n\nFri Nov  9 10:38:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* marshal.c (w_object): should be SPECIAL_CONST_P() instead of\n\t  IMMEDIATE_P().\n\nFri Nov  9 10:29:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_invoke_method): check if invoked in function style.\n\t  [ruby-core:13245]\n\n\t* insnhelper.ci (vm_call_cfunc, vm_cfunc_flags): stores and returns VM\n\t  calling flags.\n\n\t* vm.c (rb_vm_cfunc_funcall_p): returns if the current method is\n\t  invoked in function style.\n\nFri Nov  9 10:10:21 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: add rb_context_t#type.\n\nFri Nov  9 10:05:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.c (set_arg0): fix breaking environ bugs.\n\nFri Nov  9 07:26:04 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* random.c: update MT URL.[ruby-core:13305].\n\nThu Nov  8 17:09:55 2007  David Flanagan  <davidflanagan@ruby-lang.org>\n\n\t* object.c: improve docs for Object.tap\n\n\t* ChangeLog: fix bogus dates on my previous entries\n\nThu Nov  8 15:13:56 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* parse.y: fix segfault with \\x escapes in regexps\n\t  delete unused #if 0 code regions from previous patch\n\nThu Nov  8 12:12:10 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_read_escape): remove C99/gcc-ism.\n\nThu Nov  8 07:54:22 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* parse.y: patch, based on Nobu's, work to support \\u escapes\n\t           also modifications for better coderange detection\n\n\t* test/ruby/test_unicode_escapes.rb: test cases\n\n\t* test/ruby/test_mixed_unicode_escapes.rb: mixed encoding test cases\n\nThu Nov  8 07:14:37 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* parse.y (rb_intern3): commented out broken code that prevented\n\t  correct interning of multi-byte symbols.  Without this patch\n\t  :x==:x is false when x is a multi-byte character.\n\nThu Nov  8 07:04:31 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* string.c (tr_setup_table, tr_trans): fix test failures\n\t  in test/ruby/test_string.rb\n\nWed Nov  7 15:07:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_each_with_index): make different arrays at each\n\t  iteration.  [ruby-dev:32181]\n\nWed Nov  7 05:17:24 2007  David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* eval.c: fix typo in invoke_method documentation\n\nWed Nov  7 03:52:26 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_product): core dumped with non array arguments.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:32180]\n\nWed Nov  7 03:32:38 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/encodings/SHIFT-JIS.rb (REXML::Encoding): place -x for\n\t  nkf conversion.  a patch from <moonwolf AT moonwolf.com>.\n\t  [ruby-dev:32183]\n\nWed Nov  7 02:59:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_each_index): should return meaningful value.\n\nTue Nov  6 16:37:47 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_load.c (loaded_feature_path): need to expand relative paths.\n\n\t* eval_load.c (rb_feature_p): check if the feature is loading with\n\t  load path.  [ruby-dev:31932]\n\n\t* eval_load.c (load_lock): check the result of barrier waiting.\n\n\t* thread.c (rb_barrier_wait): check if owned by the current thread.\n\n\t* thread.c (rb_barrier_release): ditto.\n\nMon Nov  5 08:01:22 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_eval): move #send to Kernel module from BasicObject.\n\nMon Nov  5 05:17:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Switch::summarize): fix for long form\n\t  option with very long argument.  a patch from Kobayashi Noritada\n\t  <nori1 AT dolphin.c.u-tokyo.ac.jp> in [ruby-list:44179].\n\nMon Nov  5 01:20:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (call_args): remove \"parenthesize argument(s) for future\n\t  version\" warning.  when I added this warning, I had a plan to\n\t  reimplement the parser that is simpler than the current one.\n\t  since we abandoned the plan, warning no longer required.\n\nMon Nov  5 01:02:56 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTPHeader#initialize): provide default\n\t  User-Agent to fix 500 error on some corrupted HTTP servers.\n\t  [ruby-core:13135]\n\nMon Nov  5 00:32:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_send): allow send/__send__ to call methods of all\n\t  visibility again.  we no longer provide __send, __send!.\n\n\t* eval.c (rb_invoke_method): new method to honor private\n\t  visibility.  if it's invoked in a function call style, it calls\n\t  private methods as well (previous 1.9 send behavior).\n\nMon Nov  5 00:24:24 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub: vendor_ruby support.\n\n\t* configure.in (RUBY_LIB): duplicated.\n\nMon Nov  5 00:01:33 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_quote): quote \\v as well.\n\nSun Nov  4 23:51:59 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_initialize_m): use StringValuePtr instead of\n\t  StringValueCStr because \\0 exists when Regexp.new(\"\\0\").\n\nSun Nov  4 08:11:19 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (count_objects): count TOTAL.\n\nSun Nov  4 03:58:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_setup_table): use C array for characters that fit\n\t  in a byte to gain performance.\n\n\t* string.c (rb_str_delete_bang): ditto.\n\n\t* string.c (rb_str_squeeze_bang): ditto.\n\n\t* string.c (rb_str_count): ditto.\n\n\t* string.c (tr_trans): ditto.\n\nSun Nov  4 00:06:40 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (count_objects): ObjectSpace.count_objects implemented.\n\t  [ruby-core:12301]\n\nSat Nov  3 22:49:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_each_pair): make Hash#each to be alias to\n\t  Hash#each_pair for compatibility and clarity.\n\n\t* hash.c (env_each_pair): ditto.\n\nSat Nov  3 22:41:05 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in: --with-vendor-hdrdir implemented.\n\n\t* lib/mkmf.rb: check --vendor argument.\n\n\t* README.EXT: explain --vendor option for extconf.rb\n\n\t* README.EXT.ja: ditto.\n\nSat Nov  3 20:30:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in: --with-vendordir implemented.\n\n\t* mkconfig.rb: add config to vendorlibdir and vendorarchdir.\n\n\t* instruby.rb: make vendor library directories.\n\n\t* ruby.c: insert vendor library directories into load path.\n\nFri Nov  2 20:55:49 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/content.rb, lib/rss/content/, lib/rss/maker/content.rb,\n\t  test/rss/test_content.rb, test/rss/test_maker_content.rb,\n\t  test/rss/rss-testcase.rb (RSS::TestCase): supported\n\t  content:encoded with RSS 2.0.\n\t  Suggested by Sam Lown. Thanks.\n\nFri Nov  2 20:47:04 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, test/rss/test_version.rb: 0.2.0 -> 0.2.1.\n\nThu Nov  1 21:56:45 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (Init_Exception): make NameError to be subclass of\n\t  StandardError again.\n\n\t* error.c (Init_Exception): make SecurityError to be subclass of\n\t  Exception, since it's too important to be handled implicitly.\n\nThu Nov  1 14:51:39 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\t* enum.c (take_while_i, drop_while_i) add RTEST to handle nil return\n\nThu Nov  1 02:12:50 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (prereq): update the path of prelude.c.\n\n\t* common.mk (prelude.c): rollback a part of r13675, because it is not\n\t  documented and causes build error.\n\nThu Nov  1 01:52:23 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enum.c (enum_drop): fix typo.\n\nThu Nov  1 01:51:01 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* vm_core.h (ruby_current_thread): RUBY_EXTERN'ed for probeprofiler.\n\nThu Nov  1 00:46:30 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/configure.bat, setup.mak: now can recognize OS even if\n\t  the ``--target'' option of configure is omitted.\n\n\t* win32/README.win32: update the descriptions about compiler.\n\nWed Oct 31 03:13:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_take_while): separate with-block form.\n\n\t* enum.c (drop_while_i): ditto.\n\n\t* enum.c (enum_butfirst): abandon butfirst method.  reverted.\n\nTue Oct 30 10:03:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_butfirst): add a new method to iterates over\n\t  elements but first n.  RDoc need to be updated.\n\n\t* enumerator.c (Init_Enumerator): remove unnecessary symbol\n\t  initialization.\n\nMon Oct 29 18:42:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (bvar): block-local variable can shadow outer variable.\n\t  [ruby-core:13036]\n\nMon Oct 29 17:58:16 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_substr): performance improvement.  [ruby-dev:31806]\n\nMon Oct 29 17:20:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_replicate): new function to replicate encoding.\n\n\t* encoding.c (enc_based_encoding): Encoding#base_encoding returns\n\t  based encoding of replica.\n\nMon Oct 29 17:18:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): ASCII encoding is compatible with\n\t  ASCII-compatible encoding, even for non-string objects.\n\nSun Oct 28 21:50:02 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb: :redirect option implemented to disable redirects.\n\t  (OpenURI::HTTPRedirect): new exception class for redirection.\n\nFri Oct 26 17:38:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (int_chr): take an optional encoding parameter.\n\t  [ruby-core:12816]\n\nFri Oct 26 17:14:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_pow): returns 1.0 for 0**0.0.\n\n\t* numeric.c (fix_pow): returns infinity for 0**-1.  [ruby-dev:32084]\n\nFri Oct 26 15:00:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-{case,label}-indent): adjust for\n\t  labels inside switch block.\n\nFri Oct 26 05:48:57 2007  David Flanagan <davidflanagan@ruby-lang.org>\n\t* array.c: raise IndexError for negative length in rb_ary_fill\n\nWed Oct 25 07:12:03 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/net/telnet.rb (Net::Telnet#login): Allowing \"passphrase\" in\n\t  addition to \"password\" for Telnet login prompts. [ruby-Bugs-10746]\n\nWed Oct 25 06:34:11 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/net/telnet.rb (Net::Telnet#login): Making the password prompt\n\t  pattern case insensitive. [ruby-Bugs-10746]\n\nFri Oct 26 04:21:36 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/pop.rb (Net::POP3::do_start): type fixed.  a patch from\n\t  Dan Zwell <dzwell AT zwell.net> in [ruby-core:12941].\n\nFri Oct 26 01:48:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_assoc): check and convert inner arrays (assocs)\n\t  using #to_ary.\n\n\t* hash.c (rb_hash_s_create): check and convert argument hash\n\t  using #to_hash.\n\n\t* hash.c (rb_hash_s_create): Hash#[] now takes assocs as source of\n\t  hash conversion.\n\nThu Oct 25 16:46:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): dot at the head of the line denote line\n\t  continuation from previous one to support fluent interface.\n\t  [experimental]\n\n\t* misc/ruby-mode.el (ruby-calculate-indent): support fluent dot.\n\nThu Oct 25 14:19:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_tell, rb_io_seek): check errno too.  [ruby-dev:32093]\n\nThu Oct 25 13:59:53 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* parse.y (parser_tokspace): increment tokidx\n\t  fixes test failure at [test/ruby/test_stringchar.rb:72]\n\nThu Oct 25 09:49:49 2007  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri.rb, lib/uri/ldaps.rb: added LDAPS\n\t  scheme. [ruby-dev:31896]\n\nWed Oct 25 06:23:14 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/parser.rb (XMLRPC::Convert::dateTime): Fixing a bug that\n\t  caused time zone conversion to fail for some ISO 8601 date formats.\n\t  [ruby-Bugs-12677]\n\nWed Oct 25 04:59:28 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/client.rb (XMLRPC::Client#do_rpc): Explicitly start\n\t  the HTTP connection to support keepalive requests. [ruby-Bugs-9353]\n\nWed Oct 25 04:46:53 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/client.rb (XMLRPC::Client#do_rpc): Improving the error\n\t  message for Content-Type check failures. [ruby-core:12163]\n\nWed Oct 25 03:45:08 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/utils.rb (XMLRPC::ParseContentType#parse_content_type):\n\t  Making Content-Type checks case insensitive. [ruby-Bugs-3367]\n\nWed Oct 24 17:09:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_tokspace): make space in token buffer.\n\n\t* parse.y (parser_yylex): fix encoding of single character literal.\n\nTue Oct 23 13:44:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (call_args2): nd_head of NODE_BLOCK_PASS should be a list.\n\t  [ruby-core:12850]\n\nTue Oct 23 10:42:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): encoding set by command line option takes\n\t  priority over the encoding in the source, as the primary encoding.\n\nMon Oct 22 19:24:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (proc_options): allow space after -E (encoding) option.\n\nMon Oct 22 11:03:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_check_encoding): returns index now.\n\n\t* encoding.c (rb_enc_compatible): check if two objects have compatible\n\t  encodings.\n\n\t* encoding.c (enc_compatible_p): added Encoding.compatible?.\n\n\t* include/ruby/encoding.h (rb_enc_compatible): prototype.\n\nSun Oct 21 18:29:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_default, rb_enc_primary): return pointers to\n\t  rb_encoding of default and primary respectively.  [ruby-core:12795]\n\n\t* encoding.c (set_primary_encoding): removed primary_encoding setter.\n\nSat Oct 20 13:17:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_cycle): hide temporary array from ObjectSpace.\n\t  [ruby-core:12762]\n\nSat Oct 20 11:49:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_get_path): returns frozen string.\n\n\t* file.c (rb_file_s_chown, rb_file_s_lchown): use uid_t and gid_t.\n\nFri Oct 19 20:08:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_id_encoding): returns ID \"encoding\".\n\n\t* marshal.c (w_encoding): dump encoding name.\n\n\t* marshal.c (r_ivar): load encoding.\n\nFri Oct 19 16:41:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_regx_options, reg_compile_gen): relaxened encoding\n\t  matching rule.\n\n\t* re.c (rb_reg_initialize): always set encoding of Regexp.\n\n\t* re.c (rb_reg_initialize_str): fix encoding for non 7bit-clean\n\t  strings.\n\n\t* re.c (rb_reg_initialize_m): use ascii encoding for 'n' option.\n\nFri Oct 19 11:09:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): set primary encoding from the parser\n\t  always.  [ruby-core:12758]\n\n\t* ruby.c (load_file): should not discard the parser parameter.\n\nFri Oct 19 10:55:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_last): removed unused variables.\n\nThu Oct 18 17:08:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_find_index): update RDoc.  a patch from David Flanagan\n\t  <david AT davidflanagan.com> in [ruby-core:12710].\n\n\t* enum.c (enum_take, enum_drop): ditto.\n\n\t* enum.c (enum_cycle): should not cause infinite loop for empty\n\t  arrays.  [ruby-core:12710]\n\n\t* range.c (Init_Range): typo fixed.\n\nThu Oct 18 16:39:34 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/source.rb (REXML::SourceFactory::SourceFactory): more\n\t  duck typed.  better performance on JRuby.\n\t  http://headius.blogspot.com/2007/10/another-performance-discovery-rexml.html\n\nThu Oct 18 09:33:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_first): takes first n element if argument is\n\t  given.  [ruby-core:12697]\n\n\t* range.c (range_last): returns last n elements if argument is\n\t  given.\n\n\t* array.c (rb_ary_subseq, rb_ary_last): export.\n\nWed Oct 17 17:39:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): fixed reversed condition.  [ruby-core:12722]\n\nWed Oct 17 13:54:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_s_union): the last check was not complete.\n\nWed Oct 17 11:30:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_from_encoding, rb_enc_register): associate index\n\t  to self.\n\n\t* encoding.c (enc_capable): Encoding objects are encoding capable.\n\n\t* re.c (rb_reg_s_union): check if encoding matching by exact encoding\n\t  objects.\n\nWed Oct 17 06:18:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_alias, rb_enc_find_index): changed\n\t  enc_table_alias to a name-to-index hash.\n\n\t* encoding.c (rb_enc_init): use upper case names for aliases to use as\n\t  constant names.\n\n\t* encoding.c (enc_find): allow symbols.\n\n\t* encoding.c (Init_Encoding): define encoding constants.\n\n\t* st.c (strcasehash): fix wrong code range condition.\n\nWed Oct 17 05:07:18 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_primary_encoding): added Encoding.primary_encoding.\n\n\t* parse.y (rb_parser_encoding): added.\n\n\t* ruby.c (proc_options): added -E and --encoding options.\n\n\t* ruby.c (process_options): set primary encoding from command line\n\t  option if set, or source encoding.\n\n\t* include/ruby/encoding.h (rb_enc_from_encoding,\n\t  rb_get_primary_encoding, rb_set_primary_encoding): prototypes.\n\n\t* include/ruby/node.h (rb_parser_encoding): prototype.\n\nWed Oct 17 03:37:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_desc): set encoding.\n\n\t* re.c (rb_reg_s_union): check encodings.\n\n\t* enc/utf8.c (utf8_code_to_mbclen): 0xfe and 0xff are valid Unicode to\n\t  be encoded to 2bytes in UTF-8.  [ruby-core:12700]\n\nWed Oct 17 02:50:49 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_ord): use encoding.\n\nWed Oct 17 01:57:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize_m): allow binary encoding option.\n\t  [ruby-dev:32083]\n\nTue Oct 16 19:48:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_s_union): check for encoding of original object.\n\nTue Oct 16 18:28:51 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* debug.c: use enum for constants for gdb if possible.\n\nTue Oct 16 18:20:10 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ruby.c, debug.c: move debug enum and constants to debug.c.\n\nTue Oct 16 18:16:15 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ruby.c (RUBY_ENCODING_SHIFT): added as enum.\n\n\t* .gdbinit (rp): show encoding and coderange for strings.\n\nTue Oct 16 14:48:38 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_regx_options): check if regexp encoding option\n\t  matches to current encoding.\n\n\t* re.c (char_to_option, rb_char_to_option_kcode): 'n' is not kcode\n\t  option now.\n\n\t* re.c (rb_reg_to_s, rb_reg_error_desc): copy encoding rather than\n\t  append as an option.\n\n\t* re.c (make_regexp, rb_reg_prepare_re): use encoding of Regexp and\n\t  String instead of kcode.\n\n\t* re.c (rb_reg_initialize): set fixed option if none is set.\n\n\t* re.c (rb_reg_regcomp): ditto.\n\n\t* re.c (rb_reg_equal): check if encodings are equal.\n\n\t* re.c (rb_reg_initialize_m): encoding option is obsolete.\n\n\t* re.c (rb_kcode, rb_get_kcode, rb_set_kcode): removed.\n\n\t* re.c (Init_Regexp): removed Regexp#kcode method.\n\n\t* ruby.c (proc_options): allow long encoding name.\n\nTue Oct 16 14:03:09 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_s_union): encoding of all regexp objects should\n\t  match.  [ruby-dev:32076]\n\nTue Oct 16 13:49:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (enc_to_s): rename function.\n\nTue Oct 16 13:25:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_new4): should copy encoding.  a patch from NARUSE,\n\t  Yui <naruse AT airemix.com>.  [ruby-dev:32076]\n\nTue Oct 16 01:31:23 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_inject): RDoc update.  a patch from David Flanagan\n\t  <david AT davidflanagan.com> in [ruby-core:12710].\n\nTue Oct 16 01:25:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (Init_Encoding): define #to_s to show encoding name\n\t  in to_s representation as well as #inspect.\n\nMon Oct 15 13:24:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (flo_round): should be number but not rounding factor.\n\t  [ruby-dev:32060]\n\nMon Oct 15 11:45:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (r_bytes0): refined length check.  [ruby-dev:32059]\n\nMon Oct 15 10:24:19 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (pst_to_s): returns a string such as \"pid 10220 exit 1\"\n\t  instead of \"256\".  [ruby-dev:32053]\n\t  (pst_inspect): change format\n\t  \"#<Process::Status: pid=10220,exited(1)>\" to\n\t  \"#<Process::Status: pid 10220 exit 1>\".\n\nMon Oct 15 09:58:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (r_bytes0): check if source has enough data.\n\t  [ruby-dev:32054]\n\nMon Oct 15 01:15:09 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (s_accept_nonblock): make accepted fd\n\t  nonblocking.  [ruby-talk:274079]\n\nSun Oct 14 17:31:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_obj_encoding): rdoc update.  a patch from David\n\t  Flanagan <david AT davidflanagan.com>.  [ruby-core:12664]\n\n\t* encoding.c (enc_dump, enc_load): marshaling feature.  a patch from\n\t  David Flanagan.  [ruby-core:12665]\n\n\t* encoding.c (Init_Encoding): undefine allocator of Encoding.\n\t  [ruby-core:12665], [ruby-core:12666]\n\n\t* test/ruby/test_encoding.rb: tests for Encoding from David Flanagan\n\t  [ruby-core:12665]\n\nSun Oct 14 11:09:09 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pp.rb (PP::PPMethods#pp_hash): don't sort keys because hash is\n\t  ordered.\n\t  (ENV.pretty_print): call pp_hash with sorted hash.\n\nSun Oct 14 04:08:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (AC_SYS_LARGEFILE): keep results also in command\n\t  options, to vail out of mismatch.  [ruby-list:44114]\n\n\t* mkconfig.rb, lib/mkmf.rb (configuration): add DEFS.\n\nSun Oct 14 03:55:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/mkexports.rb: deal with __fastcall name decorations.\n\t  [ruby-list:44111]\n\nSun Oct 14 02:20:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_cEncoding): new Encoding class.\n\n\t* encoding.c (rb_to_encoding, rb_to_encoding_index): helper functions.\n\n\t* encoding.c (rb_obj_encoding): return Encoding object now.\n\n\t* gc.c (garbage_collect): mark Encoding objects.\n\n\t* inits.c (rb_call_inits): call Init_Encoding.\n\n\t* string.c (rb_str_force_encoding): accept Encoding object as well as\n\t  encoding name.\n\n\t* include/ruby/encoding.h (rb_to_encoding_index, rb_to_encoding):\n\t  prototypes.\n\nSun Oct 14 01:03:30 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI.open_http): fix :ssl_ca_cert option.\n\nSat Oct 13 21:23:21 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (foletype_s_ole_classes,\n\t  foletype_s_typelibs): refactoring.\n\n\t* test/win32ole/test_win32ole_type.rb: add some test.\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): change method name\n\t  WIN32OLE_TYPELIB.ole_types from WIN32OLE_TYPELIB.ole_classes.\n\n\t* test/win32ole/test_win32ole_typelib.rb: ditto.\n\n\t* test/win32ole/test_folderitem2_invokeverb.rb: check create\n\t  shortcut string more strictly (This test is invoked in Japanese\n\t  Windows environment).\n\nSat Oct 13 09:11:58 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (set_file_encoding): case-insensitive search, a patch from\n\t  David Flanagan <david AT davidflanagan.com> [ruby-core:12629]\n\nSat Oct 13 09:02:16 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc,win}32/mkexports.rb: explicit data.  [ruby-list:44108]\n\nSat Oct 13 00:17:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/document.rb (REXML::Document::write): leaky\n\t  modification trans -> transitive.  [ruby-dev:32040]\n\nSat Oct 13 00:00:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: encoding specifier should work if the line matches\n\t  /coding[:=] ?/, a la Python PEP-263, so that VIM comments like\n\t  \"# vim: set fileencoding=<encoding name>\" should be recognized.\n\nFri Oct 12 15:04:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (magic_comments): add \"encoding\" as same as \"coding\".\n\n\t* parse.y (set_file_encoding): special file encoding handling.\n\n\t* parse.y (parser_yylex): ditto.\n\nFri Oct 12 12:44:11 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_combination): fixed memory corruption due to too\n\t  small memory allocation\n\n\t* array.c (rb_ary_product): accessing out of memory bounds.\n\t  condition fixed.\n\nFri Oct 12 11:22:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (match_values_at): make #select to be alias to #values_at\n\t  to adapt RDoc description.  [ruby-core:12588]\n\nThu Oct 11 21:10:17 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/node.h (NOEX_LOCAL): remove unused local visibility.\n\n\t* class.c (ins_methods_push): ditto.\n\n\t* class.c (rb_class_local_methods): method removed.\n\nThu Oct 11 14:29:31 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* */Makefile.sub (COMMON_MACROS): workaround for old SDK's bug.\n\t  [ruby-core:12584]\n\nThu Oct 11 06:35:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, */Makefile.sub (VPATH): add enc directory.\n\n\t* common.mk (ENCOBJS): encoding objects.\n\n\t* enc: directory for encodings.\n\nThu Oct 11 00:04:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): add OnigEncoding\n\t  parameter to every function members.\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): add auxiliary\n\t  data member to provide user defined data for an encoding.\n\nWed Oct 10 23:32:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_s_quote): no longer takes optional second argument\n\t  that has never been documented.\n\nWed Oct 10 15:39:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_init): don't alias iso-8859-1 to ascii.\n\n\t* ascii.c (OnigEncodingASCII): change the name US-ASCII to ASCII-8BIT.\n\nWed Oct 10 14:31:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_enc_str_coderange): fixed check for non-ascii.\n\nTue Oct  9 21:35:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation, rb_ary_combination): missing type\n\t  names.\n\n\t* array.c (rb_ary_permutation): used buffer should be t1.\n\n\t* array.c (rb_ary_permutation): use frozen shared hidden array.\n\t  [ruby-dev:31985]\n\nTue Oct  9 16:58:10 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c: remove to_a completely.\n\n\t* array.c (tmpbuf): keep DRY to clear klass of temporary objects.\n\nTue Oct  9 16:33:32 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation, rb_ary_combination, rb_ary_product):\n\t  hide internal buffer objects.  [ruby-dev:31982]\n\nTue Oct  9 16:00:32 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_read_escape, parser_tokadd_escape): check code range.\n\t  [ruby-dev:31980]\n\nTue Oct  9 15:40:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (STR_NEW3): check for if single byte sequence.\n\nMon Oct  8 20:06:29 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/imap.rb, lib/net/smtp.rb, lib/net/pop.rb: hostname should\n\t  be verified against server's identity as presented in the server's\n\t  certificate. [ruby-dev:31960]\n\n\t* ext/openssl/lib/net/telnets.rb, ext/openssl/lib/net/ftptls.rb: ditto.\n\nSun Oct  7 22:37:47 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_taxonomy.rb, test/rss/test_parser_1.0.rb,\n\t  test/rss/test_image.rb, test/rss/rss-testcase.rb: ensured\n\t  declaring XML namespaces.\n\nSun Oct  7 22:00:01 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/node.h: make node flags as VALUE type.\n\t  enum ruby_node_flags removed.\n\n\t* ruby.c: define RUBY_NODE_* as const for gdb.\n\nSun Oct  7 18:57:12 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h: enum ruby_value_flags removed.  [ruby-dev:31959]\n\n\t* ruby.c: define RUBY_FL_* as const VALUE for gdb.\n\nSun Oct  7 17:50:14 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/http.rb: remove enable_post_connection_check flag.\n\n\t* lib/open-uri.rb: ditto.\n\nSun Oct  7 15:48:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (opt_eq): fix to use rb_str_equal().\n\nSat Oct  6 23:14:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_to_i): update RDoc since base can be any value\n\t  between 2 and 36.  [ruby-talk:272879]\n\nSat Oct  6 16:24:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_free): check Fiber or Continuation.\n\n\t* bootstraptest/test_knownbug.rb: remove a fixed test.\n\nSat Oct  6 14:56:02 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_register): returns new index or -1 if failed.\n\n\t* encoding.c (rb_enc_alias): check if original name is registered.\n\n\t* encoding.c (rb_enc_init): register in same order as kcode options in\n\t  re.c.  added new aliases.\n\n\t* string.c (rb_str_force_encoding): check if valid encoding name.\n\nSat Oct  6 14:32:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (opt_eq): get rid of gcc bug.\n\nSat Oct  6 02:34:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/defines.h: no longer provide DEFAULT_KCODE.\n\nFri Oct  5 21:24:59 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_s_union_m): Regexp.union accepts single argument which\n\t  is an array of patterns.  [ruby-list:44084]\n\nFri Oct  5 16:42:27 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_not_match): new method.\n\nFri Oct  5 16:15:52 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* configure.in: Turn on --enable-pthread by default for FreeBSD\n\t  5.2.1-RELEASE and later, and remove pthread support for older\n\t  versions which has never worked perfectly.\n\nFri Oct  5 16:11:50 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* time.c (time_to_s): Fix documentation.  Time format changed.\n\nFri Oct  5 04:02:39 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/ipaddr.rb (in_addr, in6_addr, addr_mask): Make some minor\n\t  code optimization.\n\nFri Oct  5 03:25:51 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/ipaddr.rb (<=>): Implement IPAddr#<=> and make IPAddr\n\t  comparable.\n\n\t* lib/ipaddr.rb (succ): Implement IPAddr#succ.  You can now create\n\t  a range between two IPAddr's, which (Range) object is\n\t  enumerable.\n\n\t* lib/ipaddr.rb (to_range): A new method to create a Range object\n\t  for the (network) address.\n\nFri Oct  5 03:14:45 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/ipaddr.rb (coerce_other): Support type coercion and make &,\n\t  |, == and include? accept a string or an integer instead of an\n\t  IPAddr object as the argument.\n\n\t* lib/ipaddr.rb (initialize): Give better error messages.\n\n\t* lib/ipaddr.rb: Improve documentation.\n\nThu Oct  4 20:45:53 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (Init_process): win32 has our own WNOHANG definition, so\n\t  remove unnecessary #ifdef guard.\n\nThu Oct  4 20:17:19 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation, rb_ary_product): support non C99\n\t  compilers.\n\nThu Oct  4 17:33:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (kcode_setter): Perl-ish global variable `$=' no longer\n\t  effective.\n\n\t* io.c (Init_IO): remove obsolete variables: $defout, $deferr.\n\n\t* re.c (Init_Regexp): remove obsolete const alias: MatchingData.\n\n\t* time.c (Init_Time): remove obsolete Time::times.\n\n\t* re.c (ignorecase_setter): change warning message.\n\n\t* re.c (ignorecase_getter): now gives warning.\n\n\t* string.c (rb_str_cmp_m): update RDoc document.\n\n\t* re.c (kcode_setter): restore erroneously removed setter.\n\nThu Oct  4 16:28:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_obj_encoding): returns encoding of the given object.\n\n\t* parse.y (reg_compile_gen): copy encoding from source string if\n\t  non-empty.\n\n\t* re.c (Init_Regexp): new method Regexp#encoding.\n\n\t* string.c (str_encoding): moved to encoding.c\n\nThu Oct  4 15:49:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation): remove C99 dependency.\n\t  [ruby-dev:31934]\n\n\t* array.c (rb_ary_product): ditto.\n\nWed Oct  3 23:37:17 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/nkf/nkf.c, bin/ri, bin/irb: fixed typos in doc and comments.\n\t  a patch from Eugene Ossintsev  <eugoss AT gmail.com>.\n\t  [ruby-core:12375]\n\nWed Oct  3 17:56:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: enable specify label to executable.\n\t  (-e \"ruby1::/path/to/ruby1; ruby2::/path/to/ruby2; ...\")\n\nWed Oct  3 16:58:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_str_new, parser_yylex, rb_intern3): set code-range\n\t  bits.\n\n\t* parse.y (parser_tokadd_string): check code-range.\n\n\t* parse.y (parser_parse_string, parser_here_document): ditto.\n\n\t* parse.y (parser_set_encode): check if valid encoding.\n\nWed Oct  3 15:43:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_cvar_set): check whether class variable is\n\t  defined in superclasses.  root classes have higher priority.\n\t  removes lower class variable entry from IV_TBL (if it's defined\n\t  in classes, not modules).\n\n\t* variable.c (rb_cvar_get): ditto.\n\nWed Oct  3 10:06:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (ruby_process_options): push frame with program name.\n\t  [ruby-core:12351]\n\nTue Oct  2 20:16:55 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (init_env): refactoring. remove unused code.\n\nTue Oct  2 12:30:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_product): generalized product, now takes\n\t  arbitrary number of arrays.  a patch from David Flanagan\n\t  <david AT davidflanagan.com>.  [ruby-core:12346]\n\nTue Oct  2 08:25:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation): implementation contributed from\n\t  David Flanagan.  [ruby-core:12344]\n\n\t* array.c (rb_ary_combination): RDoc update to clarify.  a patch\n\t  from David Flanagan.  [ruby-core:12344]\n\n\t* array.c (rb_ary_permutation): small dirty hack by Matz to avoid\n\t  arrays on stack.\n\nTue Oct  2 07:01:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (proc_dup): proc->block.proc should be self.\n\n\t* bootstraptest/test_knownbug.rb, test_method.rb:\n\t  move a fixed test.\n\nMon Oct  1 16:17:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/test_method.rb: use assert_normal_exit to test\n\t  [ruby-dev:31818].\n\nMon Oct  1 15:57:49 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (id2ref): skip ICLASS.\n\nMon Oct  1 15:29:35 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_normal_exit): use `` instead of\n\t  system.\n\nMon Oct  1 15:17:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (id2ref): T_VALUES is less than T_BLOCK.  [ruby-dev:31911]\n\nMon Oct  1 10:58:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (require_libraries): use require method instead of calling\n\t  rb_require directly.  [ruby-dev:31322]\n\nMon Oct  1 10:52:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_options), ruby.c (proc_options, process_options): not\n\t  call exit(2) directly.  [ruby-dev:31912]\n\n\t* eval.c (ruby_run_node): deal with direct exit code.\n\nSun Sep 30 17:12:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_append): always set encoding, and coderange\n\t  cache bits.\n\n\t* include/ruby/encoding.h (ENC_CODERANGE_SET): fixed a bug not to\n\t  set cache bits.\n\nSun Sep 30 11:52:11 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (pretty): don't show beginning empty line.\n\nSun Sep 30 11:32:34 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* numeric.c: use #ifdef for test LONG_LONG_VALUE.\n\nSun Sep 30 04:30:55 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c: use SIZEOF_LONG instead of SIZEOF_ULONG which is not\n\t  defined.\n\nSun Sep 30 04:03:43 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (Init_Regexp): test DEFAULT_KCODE in C code because\n\t  KCODE_EUC, etc. are enum.\n\nSun Sep 30 00:55:40 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* variable.c (obj_ivar_each): get rid of warning.\n\nSat Sep 29 17:45:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* main.c (main): use platform-independent per-process initialization.\n\t  [ruby-dev:31900]\n\n\t* ruby.c (ruby_sysinit): new function for per-process initialization.\n\n\t* include/ruby/ruby.h (RUBY_GLOBAL_SETUP): toplevel setup declaration.\n\n\t* include/ruby/win32.h, win32/mkexports.rb: alias NtInitialize\n\t  ruby_sysinit.\n\n\t* win32/win32.c (rb_w32_sysinit): renamed from NtInitialize.\n\nSat Sep 29 17:31:04 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_combination): new method to give all combination\n\t  of elements from an array.  [ruby-list:42671]\n\n\t* array.c (rb_ary_product): a new method to get all combinations\n\t  of elements from two arrays.  can be extended to combinations of\n\t  n-arrays, e.g. a.product(b,c,d).  anyone volunteer?\n\n\t* array.c (rb_ary_permutation): empty function body to calculate\n\t  permutations of array elements.  need volunteer.\n\nSat Sep 29 17:14:44 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_leave): move proc invocation from r_entry() to\n\t  avoid potential crash.\n\nSat Sep 29 12:28:08 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_normal_exit): new method.\n\n\t* bootstraptest/test_knownbug.rb: add test for Marshal.load.\n\nSat Sep 29 10:12:20 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* variable.c (rb_ivar_set): fix class instance variable.\n\n\t* object.c (rb_class_real): cl argument may be 0.\n\nSat Sep 29 09:12:02 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* object.c (rb_class_real): use BUILTIN_TYPE instead of TYPE.\n\t  access flags directly instead of FL_TEST.\n\t  they are enough because cl argument is a class.\n\nSat Sep 29 08:57:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/win32.h (strcasecmp): needed for type_strcasehash.\n\nSat Sep 29 06:47:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (struct cmdline_options): static variables packed.\n\nSat Sep 29 05:29:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_fdopen): create IO object from fd.\n\n\t* parse.y (yycompile): use encoding of the source as default.\n\n\t* ruby.c (proc_options, load_file): ditto.\n\nSat Sep 29 04:27:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_alias): allow encodings multiple aliases.\n\n\t* encoding.c (rb_enc_find_index): search the encoding which has the\n\t  given name and return its index if found, or -1.\n\n\t* st.c (type_strcasehash): case-insensitive string hash type.\n\n\t* string.c (rb_str_force_encoding): force encoding of self.  this name\n\t  comes from [ruby-dev:31894] by Martin Duerst.  [ruby-dev:31744]\n\n\t* include/ruby/encoding.h (rb_enc_find_index, rb_enc_associate_index):\n\t  prototyped.\n\n\t* include/ruby/encoding.h (rb_enc_isctype): direct interface to ctype.\n\n\t* include/ruby/st.h (st_init_strcasetable): prototyped.\n\nSat Sep 29 03:53:26 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: Thread local storage should be fiber local.\n\n\t* bootstraptest/test_knownbug.rb, test/ruby/test_fiber.rb:\n\t  move a fixed test.\n\nFri Sep 28 23:15:31 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insnhelper.ci (vm_call_method): allow send! to call protected\n\t  methods as well.  [ruby-core:12280]\n\nFri Sep 28 22:33:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_so_fasta.rb: added.\n\n\t* benchmark/bm_so_k_nucleotide.rb: added.\n\n\t* benchmark/bm_so_reverse_complement.rb: added.\n\n\t* benchmark/make_fasta_output.rb: added.\n\n\t* benchmark/prepare_so_k_nucleotide.rb: added.\n\n\t* benchmark/prepare_so_reverse_complement.rb: added.\n\nFri Sep 28 19:14:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: fix notations.\n\n\t* benchmark/bm_loop_whileloop.rb: ditto.\n\n\t* benchmark/bm_loop_whileloop2.rb: ditto.\n\n\t* benchmark/bm_app_uri.rb: added.\n\n\t* benchmark/bm_vm1_ivar_set.rb: ditto.\n\n\t* benchmark/bm_so_binary_trees.rb: added from Computer Language\n\t  Benchmarks Game (http://shootout.alioth.debian.org/).\n\n\t* benchmark/bm_so_fannkuch.rb: ditto.\n\n\t* benchmark/bm_so_mandelbrot.rb: ditto.\n\n\t* benchmark/bm_so_meteor_contest.rb: ditto.\n\n\t* benchmark/bm_so_nbody.rb: ditto.\n\n\t* benchmark/bm_so_nsieve.rb: ditto.\n\n\t* benchmark/bm_so_nsieve_bits.rb: ditto.\n\n\t* benchmark/bm_so_partial_sums.rb: ditto.\n\n\t* benchmark/bm_so_pidigits.rb: ditto.\n\n\t* benchmark/bm_so_spectralnorm.rb: ditto.\n\nFri Sep 28 16:22:52 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm_core.h (rb_vm_struct): fix typo: bufferd -> buffered.\n\nFri Sep 28 15:47:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: fix to output benchmark results\n\t  to file \"bmlog-#{Time.now.strftime('%Y%m%d-%H%M%S')}.#{$$}\".\n\n\t* benchmark/bm_io_file_create.rb: remove useless codes.\n\n\t* benchmark/bm_vm2_eval.rb: added.\n\nFri Sep 28 15:05:24 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h: export rb_ivar_foreach.\n\n\t* include/ruby/ruby.h: modify struct RObject and RClass for optimizing\n\t  T_OBJECT space.  [ruby-dev:31853]\n\t  (ROBJECT_LEN, ROBJECT_PTR)\n\t  (RCLASS_IV_TBL, RCLASS_M_TBL, RCLASS_SUPER, RCLASS_IV_INDEX_TBL)\n\t  (RMODULE_IV_TBL, RMODULE_M_TBL, RMODULE_SUPER): abstract accessor\n\t  defined.\n\n\t* variable.c: support the modified RObject and RClass.\n\n\t* object.c: ditto.\n\n\t* class.c: ditto.\n\n\t* gc.c: ditto.\n\n\t* marshal.c: ditto.\n\n\t* eval_method.ci: use the abstract accessor.\n\n\t* insns.def: ditto.\n\n\t* proc.c: ditto.\n\n\t* struct.c: ditto.\n\n\t* eval.c: ditto.\n\n\t* error.c: ditto.\n\n\t* vm.c: ditto.\n\n\t* insnhelper.ci: ditto.\n\n\t* ext/digest/digest.c: ditto.\n\nFri Sep 28 13:20:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline_fast, rb_io_getline_1): set encoding to the\n\t  result string, as well as getc.\n\nFri Sep 28 12:51:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_app_erb.rb: added.\n\n\t* benchmark/bm_io_file_(create|read|write).rb: added.\n\nFri Sep 28 12:49:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: fix file selection algorithm.\n\nFri Sep 28 02:05:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): need not to check asciicompat here.\n\n\t* encoding.c (rb_enc_check): ditto.\n\n\t* string.c (rb_enc_str_coderange): tuned a bit; no broken check.\n\n\t* encoding.c (rb_enc_check): new encoding comparison criteria.\n\nThu Sep 27 17:36:28 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/REAMDE.win32: follow recent changes.\n\nThu Sep 27 16:01:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: fix to output some helpful messages.\n\nThu Sep 27 15:44:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: added.\n\n\t* common.mk: fix to use above driver.\n\n\t* benchmark/prepare_so_count_words.rb: added.\n\n\t* benchmark/bm_so_count_words.rb: fix benchmark process.\n\nThu Sep 27 15:42:34 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/fiber/fiber.c: modify prototype declaration.\n\t  [ruby-core:12247]\n\nThu Sep 27 09:42:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (strings, xstring, regexp, dsym): empty strings have\n\t  US-ASCII encoding.\n\nThu Sep 27 07:39:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_finish): new method.\n\n\t* bootstraptest/test_knownbug.rb: add test for [ruby-dev:31866] using\n\t  assert_finish.\n\nThu Sep 27 04:46:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_associate_index): deal with ASCII compatible\n\t  flags.\n\n\t* encoding.c (rb_enc_check): allow ASCII compatible strings.\n\n\t* parse.y (rb_intern_str): use ASCII encoding for ASCII string.\n\n\t* string.c (rb_enc_str_coderange): check for code-range.\n\n\t* string.c (rb_str_modify): clear code-range flags.\n\n\t* string.c (rb_str_hash, rb_str_eql): ASCII compatible strings are\n\t  comparable.\n\n\t* include/ruby/encoding.h: added code-range flags.\n\nThu Sep 27 04:40:47 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_mark_set): new function to mark keys.\n\n\t* marshal.c (struct dump_arg, struct load_arg): added wrappers to mark\n\t  data and compat_tbl entries.  [ruby-dev:31870]\n\nThu Sep 27 03:17:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_waitpid): no needs to poll.  [ruby-dev:31871]\n\nWed Sep 26 20:11:46 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: remove a fixed test.\n\nWed Sep 26 20:00:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: move fixed tests.\n\n\t* bootstraptest/test_method.rb: ditto.\n\n\t* test/ruby/test_io.rb: ditto.\n\nWed Sep 26 19:36:26 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (eval): fix to check stack overflow.\n\t  [ruby-dev:31850]\n\n\t* eval_intern.h, vm.h: move CHECK_STACK_OVERFLOW() macro.\n\nWed Sep 26 19:27:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_throw): fix to move increment point.\n\t  [ruby-dev:31840]\n\nWed Sep 26 19:23:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: Fiber as SemiCoroutine on default. [ruby-core:12146]\n\n\t* ext/fiber/fiber.c: enable Fiber#transfer.\n\nWed Sep 26 18:38:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_check): check for ASCII-compatibilities.\n\n\t* parse.y (parser_tokadd_string, parser_parse_string,\n\t  parser_here_document, parser_yylex): set encoding to US-ASCII.\n\n\t* parse.y (rb_enc_symname_p): check if valid with encoding.\n\n\t* parse.y (rb_intern3): let symbols have encoding.\n\n\t* string.c (rb_str_hash): add encoding index.\n\n\t* string.c (rb_str_comparable, rb_str_equal, rb_str_eql): check if\n\t  compatible encoding.\n\n\t* string.c (sym_inspect): made encoding aware.\n\n\t* insns.def (opt_eq): compare with encoding.\n\n\t* include/ruby/encoding.h (rb_enc_asciicompat): check if ASCII\n\t  compatible.\n\n\t* include/ruby/encoding.h (rb_enc_get_index): added prototype.\n\n\t* include/ruby/intern.h (rb_str_comparable, rb_str_equal): ditto.\n\nWed Sep 26 15:01:16 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_method.ci (rb_get_alloc_func): cast to suppress a warning.\n\n\t* eval_method.ci (remove_method): local variable to be initialized.\n\nWed Sep 26 08:36:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (ext/extinit.o): use $(OUTFLAG) as well as other\n\t  objects.  [ruby-Bugs-14228]\n\nWed Sep 26 05:12:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_yyerror): limit error message length.\n\t  [ruby-dev:31848]\n\nTue Sep 25 15:11:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_ungetc): reallocate internal buffer if pushing data\n\t  excess capacity.  [ruby-dev:31650]\n\nTue Sep 25 13:43:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_method.ci (remove_method): should not remove undef place\n\t  holder.  [ruby-dev:31816], [ruby-dev:31817]\n\nTue Sep 25 09:51:31 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_longjmp): source file information may be NULL.\n\t  [ruby-dev:31849]\n\n\t* eval.c (ruby_finalize_0): clear trace_func before finalization.\n\nMon Sep 24 22:36:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_equal): should handle recursive array.\n\n\t* hash.c (hash_equal): should handle recursive hash.\n\nMon Sep 24 22:14:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/weakref.rb (WeakRef): remove debug print.  [ruby-dev:31799]\n\n\t* hash.c (hash_i): avoid too frequent hash conflict where key and\n\t  value are same.  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.\n\t  [ruby-dev:31802]\n\nMon Sep 24 17:56:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/strscan/strscan.c (strscan_initialize, strscan_getch): use the\n\t  encoding of the target string instead of setting to StringScanner\n\t  instance.  [ruby-dev:31831]\n\nMon Sep 24 16:52:11 2007  Urabe Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* lib/net/http.rb: fix typo.\n\nMon Sep 24 06:49:15 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/http.rb: an SSL verification (the server hostname should\n\t  be matched with its certificate's commonName) is added.\n\t  this verification can be skipped by\n\t  \"Net::HTTP#enable_post_connection_check=(false)\".\n\t  suggested by Chris Clark <cclark at isecpartners.com>\n\n\t* lib/net/open-uri.rb: use Net::HTTP#enable_post_connection_check to\n\t  perform SSL post connection check.\n\n\t* ext/openssl/lib/openssl/ssl.c\n\t  (OpenSSL::SSL::SSLSocket#post_connection_check): refine error message.\n\nSun Sep 23 09:05:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (os_obj_of, os_each_obj): hide objects to be finalized.\n\t  [ruby-dev:31810]\n\nSun Sep 23 08:58:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_method.ci (rb_attr): should not use alloca for unknown size\n\t  input.  [ruby-dev:31818]\n\n\t* parse.y (rb_intern_str): prevent str from optimization.\n\nSun Sep 23 06:16:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_method.ci (remove_method): check for undefined method.\n\t  [ruby-dev:31816]\n\nSun Sep 23 05:42:35 2007  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* lib/rdoc/options.rb (Options::check_diagram): dot -V output\n\t  changed. [ ruby-Bugs-11978 ], Thanks Florian Frank.\n\nSat Sep 22 06:02:11 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::List::summarize): use each_line if\n\t  defined rather than each.  [ruby-Patches-14096]\n\nSat Sep 22 05:19:49 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_init): separate from strio_initialize\n\t  to share with strio_reopen properly.  [ruby-Bugs-13919]\n\nFri Sep 21 14:51:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (gc_mark_rest): copy just used part.\n\n\t* gc.c (gc_mark_children): mark u1 and u2 of NODE_ARGSCAT.\n\n\t* gc.c (os_obj_of): hide T_VALUES too.  [ruby-dev:31804]\n\n\t* gc.c (run_final): freeze temporary argument array.\n\nFri Sep 21 04:58:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-label-indent): fix for function top\n\t  level labels.\n\nFri Sep 21 02:11:22 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_match_m): evaluate a block if match.  it would make\n\t  condition statement much shorter, if no else clause is needed.\n\n\t* string.c (rb_str_match_m): ditto.\n\nFri Sep 21 02:02:34 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (hash_equal): should call rb_eql when argument eql is set.\n\nThu Sep 20 17:28:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (popen_exec), process.c (rb_spawn): stop other threads before\n\t  exec.  [ruby-core:08262]\n\nTue Sep 18 22:08:42 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/matrix.rb: fix a coerce bug of Vector. [ruby-core: 12190]\n\nMon Sep 17 21:06:03 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTP::GenericRequest#initialize): check path is\n\t  not nil. [ruby-dev:31149]\n\nMon Sep 17 21:00:51 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (ripper): rename event: arglist_* -> args_*.\n\n\t* parse.y (ripper): rename event: restparam -> rest_param.\n\n\t* parse.y (ripper): rename event: constpath_* -> const_path_*.\n\n\t* parse.y (ripper): rename event: topconst_* -> top_const_*.\n\n\t* parse.y (ripper): rename event: iter_block -> method_add_block.\n\n\t* parse.y (ripper): support block local parameter declaration.\n\n\t* parse.y (ripper): introduce new macro params_new.\n\n\t* ext/ripper/lib/ripper/sexp.rb: should not dispose event\n\t  arguments whose name ends with \"_new\" but arity != 0.\n\nSat Sep 15 23:36:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (struct parser_params): common members in the parser and\n\t  ripper must be placed at each same location.\n\nSat Sep 15 18:25:15 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* string.c (rb_str_rstrip_bang): fixed too much rstrip. [ruby-dev:31786]\n\nSat Sep 15 17:32:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_initialize): set default encoding.  [ruby-dev:31787]\n\n\t* ruby.c (load_file): make new parse instance after processing shebang\n\t  line options.\n\nSat Sep 15 17:04:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_associate_index, rb_enc_get_index): check if\n\t  object is encoding capable.  [ruby-dev:31780]\n\n\t* string.c (rb_str_subpat_set): check for if the argument is a String.\n\nSat Sep 15 13:31:21 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss.rb, lib/rss/, test/rss/:\n\t  - 0.1.9 -> 0.2.0.\n\t  - supported Slash module.\n\nFri Sep 14 22:20:01 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fev_unadvise): no needs to reset\n\t  event handlers.\n\nFri Sep 14 17:28:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_io.rb: tests which cause SEGV should not be\n\t  added.\n\n\t* bootstraptest/test_knownbug.rb: add above test to known bug.\n\nFri Sep 14 16:24:04 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_expandarray): assignment should be placed\n\t  after creating new array.\n\nFri Sep 14 16:17:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: add a stress test (-s).\n\nFri Sep 14 16:14:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.h, eval_intern.h: move some macros to eval_intern.h.\n\n\t* eval_jump.ci (rb_f_throw): fix to use NEW_THROW_OBJECT().\n\n\t* eval.c (rb_f_loop): remove additional macro.\n\nFri Sep 14 16:12:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_expandarray): should be volatile value for GC.\n\nThu Sep 13 15:42:03 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): inline cache entries are overwritten\n\t  in iseq_build_body().\n\nThu Sep 13 14:00:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (brace_block): should use compstmt.  patch submitted by\n\t  Kirill A. Shutemov <k.shutemov AT gmail.com>  [ruby-core:12154].\n\nThu Sep 13 13:47:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_id2str): fixed typo.\n\nWed Sep 12 23:12:22 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (proc_options): -W should be allowed in RUBYOPT\n\t  environment variable.  [ruby-core:12118]\n\nWed Sep 12 15:19:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_s_sysopen): should not use alloca for unknown size\n\t  input.  [ruby-dev:31775]\n\n\t* parse.y (rb_id2str): ditto.\n\n\t* marshal.c (w_float): use snprintf instead of sprintf.\n\nTue Sep 11 17:28:00 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/tempfile.rb (Tempfile::make_tmpname): Allow to specify a\n\t  suffix for a temporary file name.\n\n\t* lib/tempfile.rb (Tempfile::make_tmpname): Make temporary file\n\t  names less predictable by including a random string.\n\t  [inspired by: akr]\n\nTue Sep 11 17:25:59 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/shellwords.rb: Add shellescape() and shelljoin().\n\n\t* lib/shellwords.rb: Rename shellwords() to shellsplit() and make\n\t  the former an alias to the latter.\n\n\t* lib/shellwords.rb: Add escape(), split(), join() as class\n\t  methods, which are aliases to their respective long names\n\t  prefixed with `shell'.\n\n\t* lib/shellwords.rb: Add String#shellescape(), String#shellsplit()\n\t  and Array#shelljoin() for convenience.\n\nMon Sep 10 15:48:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* range.c: represent initialized state using EXCL instead of FL_USER3.\n\n\t* range.c (range_dumper): make uninitialized range dumpable.\n\t  (range_loader): make uninitialized range loadable.\n\nMon Sep 10 13:44:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_cycle): avoid infinite loop for empty array.\n\t  based on a patch from David Flanagan.  [ruby-core:12085]\n\nMon Sep 10 01:21:23 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_object0): struct allocation first to check if a\n\t  class is a struct.  compatibility check should come next.\n\nMon Sep 10 01:05:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_step): fixed integer overflow.  [ruby-dev:31763]\n\nSun Sep  9 08:57:27 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (_strptime): now also attaches an element\n\t  which denotes leftover substring if exists.\n\nSun Sep  9 01:59:08 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (r_object0): check T_STRUCT type for structs.\n\nSun Sep  9 01:17:05 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (r_object0): don't call user-defined initialize for\n\t  T_STRUCT objects.\n\n\t* include/ruby/intern.h (rb_struct_initialize): declared.\n\n\t* struct.c (rb_struct_initialize): export.\n\nSat Sep  8 23:55:56 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval_method.ci (rb_get_alloc_func): new function to get allocation\n\t  function.\n\n\t* include/ruby/intern.h (rb_alloc_func_t): declared.\n\t  (rb_define_alloc_func): declared.\n\t  (rb_marshal_define_compat): declared.\n\n\t* range.c: use T_STRUCT for Range.\n\n\t* inits.c: move Init_marshal() prior to Init_Range() because\n\t  Init_Range calls rb_marshal_define_compat which needs\n\t  marshal's compat_allocator_tbl initialized.\n\n\t* marshal.c: support marshal format compatibility layer designed for\n\t  marshaling T_STRUCT Range using T_OBJECT format.\n\t  (rb_marshal_define_compat): defined.\n\n\t[ruby-dev:31710]\n\nSat Sep  8 10:05:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_s_members): check if __members__ is an\n\t  array to prevent segmentation fault.  [ruby-dev:31759]\n\nSat Sep  8 09:33:09 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (str[fp]time): now check specifications more\n\t  strictly.\n\nSat Sep  8 02:56:31 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_fiber.rb (TestFiber::test_throw): uncaught throw\n\t  now raise ArgumentError exception.\n\nSat Sep  8 02:45:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_s_members): should raise TypeError instead\n\t  of call rb_bug().  [ruby-dev:31709]\n\n\t* marshal.c (r_object0): no nil check require any more.\n\nSat Sep  8 01:46:36 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* regenc.c, regenc.h (onigenc_single_byte_mbc_enc_len): should take\n\t  two arguments. [ruby-dev:31754]\n\nFri Sep  7 00:58:16 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: fix typo.\n\nFri Sep  7 00:28:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_getc): forgot to commit rb_enc_mbclen() fix.\n\n\t* ext/stringio/stringio.c (strio_getc): rb_enc_mbclen() fix.\n\n\t* ext/stringio/stringio.c (strio_ungetc): ditto.\n\nThu Sep  6 22:57:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/fileutils.rb (FileUtils::Entry_::copy): prevent self copy of\n\t  directories.\n\n\t* lib/fileutils.rb (FileUtils::fu_each_src_dest0): use try_convert.\n\n\t* lib/fileutils.rb (FileUtils::fu_update_option): ditto.\n\nThu Sep  6 21:36:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): add end parameter\n\t  to mbc_enc_len.\n\n\t* euc_jp.c (mbc_enc_len), sjis.c (mbc_enc_len),\n\t  utf8.c (utf8_mbc_enc_len): ditto.\n\n\t* encoding.c (rb_enc_mbclen): add end parameter.\n\nThu Sep  6 21:31:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_cycle): typo in rdoc.  a patch from Yugui\n\t  <yugui@yugui.sakura.ne.jp>.  [ruby-dev:31748]\n\nThu Sep  6 12:42:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_succ, rb_str_chop_bang, rb_str_chop): m17n support.\n\t  [ruby-dev:31734]\n\nWed Sep  5 22:02:27 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_subseq): need integer overflow check.\n\t  [ruby-dev:31736]\n\n\t* array.c (rb_ary_splice): ditto.  [ruby-dev:31737]\n\n\t* array.c (rb_ary_fill): ditto.  [ruby-dev:31738]\n\n\t* string.c (rb_str_splice): integer overflow for length.\n\t  [ruby-dev:31739]\n\nTue Sep  4 20:43:44 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_EVENT#unadvise.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\nMon Sep  3 15:37:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (vm.o): depends on st.h too.\n\nSun Sep  2 23:38:29 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/st.h (struct st_table): make num_entries bitfield\n\t  instead of num_bins for speed.  num_entries has less access.\n\nSun Sep  2 00:37:57 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (_parse): improved parsing of ordinal dates.\n\n\t* lib/date/format.rb (_parse): use named character classes in some\n\t  regular expressions.\n\nSat Sep  1 23:44:26 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_jump.ci (rb_f_throw): wrap tag and TAG_THROW in a NODE_MEMO\n\t  node to make throw instruction to work well.\n\nSat Sep  1 20:56:07 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (struct RBignum): embed digits in RBignum for\n\t  small bignums.\n\n\t* bignum.c: RBignum embedded digits implemented.\n\n\t* include/ruby/intern.h: declare rb_big_resize.\n\n\t* gc.c: don't free embedded digits.\n\n\t* numeric.c: replace direct bignum field accessor by abstract field\n\t  accessor such as RBIGNUM(val)->sign to RBIGNUM_SIGN(val).\n\n\t* sprintf.c: ditto.\n\n\t* compar.c: ditto.\n\n\t* marshal.c: ditto.\n\n\t* random.c: ditto.\n\n\t* .gdbinit: support embedded small bignums.\n\n\t[ruby-dev:31689]\n\nSat Sep  1 19:59:43 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_event_free): IConnectionPoint should be\n\t  released.\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_Destructor): ITypeInfo should be\n\t  released.\n\n\t* ext/win32ole/win32ole.c (fev_initialize): refactoring.\n\nSat Sep  1 16:26:09 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/socket/test_tcp.rb (test_recvfrom): same as mswin32 on mswin64.\n\nSat Sep  1 14:24:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* st.c (st_numcmp, st_numhash): use st_data_t instead of long, because\n\t  the former may be larger than the latter.\n\n\t* include/ruby/st.h (CHAR_BIT): get rid of magic number.\n\n\t* include/ruby/st.h (rb_index_t): use st_data_t for the platforms it\n\t  is larger than int.\n\nSat Sep  1 10:43:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_jump.ci (rb_f_catch): generate new tag object if no argument is\n\t  given.  backported from MatzRuby.  [ruby-dev:31609]\n\n\t* eval_jump.ci (rb_catch): call #catch without arguments if tag\n\t  string is NULL.\n\n\t* eval_jump.ci (rb_f_throw): allow throwing non-symbol object.\n\n\t* eval_jump.ci (rb_catch_obj): new function to wait throw with arbitrary\n\t  object.\n\n\t* eval_jump.ci (rb_throw_obj): new function to throw arbitrary object.\n\n\t* variable.c (check_autoload_table): prevent multiple calls from\n\t  RSTRING_PTR().\n\nFri Aug 31 07:12:24 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (SQRT_LONG_MAX): use SIZEOF_LONG instead of SIZEOF_VALUE\n\t  because SIZEOF_VALUE > SIZEOF_LONG on some platforms.\n\nFri Aug 31 04:18:03 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_norm_arg, f_arg_item): not croak already erred names.\n\t  [ruby-dev:31687]\n\n\t* parse.y (assignable_gen): ignore already erred names.\n\n\t* parse.y (shadowing_lvar_gen): always make new block local variable\n\t  when shadowing outer local variable.  [ruby-dev:31507]\n\nThu Aug 30 19:40:33 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* regenc.h: check RUBY_EXTERN before including config.h and defines.h\n\n\t* common.mk: update header dependency.\n\nThu Aug 30 14:06:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (rb_obj_define_method): reverted.  [ruby-talk:266637]\n\nThu Aug 30 13:49:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: initialize $top_srcdir always.  [ruby-dev:31682]\n\n\t* lib/mkmf.rb (try_const, have_const): check for a const is defined.\n\t  [ruby-core:04422]\n\nThu Aug 30 08:00:12 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h: declare rb_hash_tbl.\n\n\t* include/ruby/ruby.h (RHash): delay st_table allocation.\n\t  rename tbl field to ntbl to detect direct reference to the st_table\n\t  as a compile error.\n\t  (RHASH_TBL): abstract accessor defined.\n\t  (RHASH_ITER_LEV): ditto.\n\t  (RHASH_IFNONE): ditto.\n\t  (RHASH_SIZE): ditto.\n\t  (RHASH_EMPTY_P): ditto.\n\t  (hash_alloc0, hash_alloc): unified because hash_alloc doesn't\n\t  allocate st_table now.\n\n\t* hash.c: delay st_table allocation.\n\n\t* gc.c: replace tbl by ntbl.\n\n\t* array.c: replace direct field accessor by abstract field accessor\n\t  such as RHASH(hash)->tbl to RHASH_TBL(hash).\n\n\t* marshal.c: ditto.\n\n\t* insns.def: ditto.\n\n\t* ext/iconv/iconv.c: ditto.\n\n\t* ext/json/ext/generator/generator.c: ditto.\n\n\t* ext/json/ext/parser/parser.c: ditto.\n\n\t* ext/json/ext/parser/parser.rl: ditto.\n\n\t* ext/syck/rubyext.c: ditto.\n\n\t* ext/tk/tkutil/tkutil.c: ditto.\n\n\t[ruby-dev:31678]\n\nWed Aug 29 18:36:06 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb: add :ftp_active_mode option.  [ruby-dev:31677]\n\nWed Aug 29 14:55:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): should not use mbclen2() which has broken API.\n\n\t* re.c: remove rb_reg_mbclen2().\n\nWed Aug 29 12:48:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (aref_args): args may not be a list.  [ruby-dev:31592]\n\nWed Aug 29 11:30:10 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/st.h (struct st_table): add entries_packed 1-bit\n\t  bitfield.  decrease num_bins 1-bit.\n\n\t* st.c: pack numhash which have 5 or less entries in bins.\n\t  (st_init_table_with_size): setup entries_packed flag.\n\t  (st_clear): support packed mode.\n\t  (st_lookup): ditto.\n\t  (st_insert): ditto.\n\t  (st_add_direct): ditto.\n\t  (st_copy): ditto.\n\t  (st_delete): ditto.\n\t  (st_foreach): ditto.\n\t  (st_reverse_foreach): ditto.\n\t  (unpack_entries): new function for converting to unpacked mode.\n\n\t[ruby-list:43954]\n\nWed Aug 29 10:46:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/defines.h (flush_register_windows): call \"ta 0x03\"\n\t  even on Linux/Sparc.  [ruby-dev:31674]\n\nTue Aug 28 19:16:00 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_type_progid): progid getted by\n\t  ProgIDFromCLSID should be freed by CoTaskMemFree. Thanks, arton.\n\n\t* test/win32ole/test_win32ole.rb (test_raise_message): set negative\n\t  compareMode value to raise WIN32OLERuntimeError.\n\n\t* test/win32ole/test_win32ole_type.rb (test_implemented_ole_types):\n\t  support some environment which returns IShellDispatch5 instead\n\t  of IShellDispatch.\n\nTue Aug 28 15:42:09 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_subseq): retrieve substring based on byte offset.\n\n\t* string.c (rb_str_rindex_m): was confusing character offset and\n\t  byte offset.\n\nTue Aug 28 14:23:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_splice_0): should check to modify.  [ruby-dev:31665]\n\nTue Aug 28 14:21:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_prepare): set parser encode too when BOM exists.\n\nTue Aug 28 00:51:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c: fix Mutex to be interruptable lock.\n\n\t* thread_win32.ci, thread_win32.h, thread_pthread.ci, thread_pthread.h:\n\t  prepare native_cond_*() which are based on pthread_cond_*() spec.\n\n\t* prelude.rb: fix Mutex#synchronize method.\n\n\t* vm_core.h, include/ruby/intern.h: change unblock function interface\n\t  (to pass some user data).\n\n\t* file.c, process.c: ditto.\n\n\t* benchmark/bm_vm2_mutex.rb: add a benchmark for mutex.\n\n\t* benchmark/bm_vm3_thread_mutex.rb: add a benchmark for mutex\n\t  with contention.\n\n\t* benchmark/run.rb: fix to remove ENV['RUBYLIB'] for matzruby.\n\n\t* test/ruby/test_thread.rb: add a test.\n\n\t* common.mk: fix benchmark options.\n\nMon Aug 27 23:14:02 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_rstrip_bang): wrong strip point.  [ruby-dev:31652]\n\n\t* string.c (rb_str_each_line): should swallow sequence of newlines\n\t  if rs (optional argument) is an empty string.  [ruby-dev:31652]\n\nMon Aug 27 22:39:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_enc_codelen): raises invalid sequence exception\n\t  if ONIGENC_CODE_TO_MBCLEN() returns zero.  [ruby-dev:31661]\n\n\t* encoding.c (rb_enc_mbclen): check invalid sequence.\n\nMon Aug 27 20:27:59 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_type_progid): fix the bug.\n\t  [ruby-dev:31576]\n\n\t* test/win32ole/test_win32ole_type.rb (test_initialize):\n\t  remove duplicate assertions.\n\nMon Aug 27 19:10:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/etc/etc.c (etc_getlogin): update documentation to note\n\t  security issue.  [ruby-Bugs-11821]\n\nMon Aug 27 15:56:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (sym_encoding): return the encoding of a Symbol.\n\nMon Aug 27 15:33:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (IEEE_BIG_ENDIAN): use configured value.  [ruby-dev:31623]\n\n\t* util.c (Llong): set to LONG_LONG if available.\n\nMon Aug 27 13:11:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_trans): wrong condition for mbmaxlen==1 strings.\n\t  [ruby-dev:31652]\n\nMon Aug 27 00:41:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_each_byte): caused infinite loop.  [ruby-dev:31652]\n\n\t* io.c (rb_io_getc): should return nil at EOF, not EOFError.\n\n\t* lib/delegate.rb (SimpleDelegator::__setobj__): use raise\n\t  argument to specify backtrace.\n\n\t* test/ruby/test_fnmatch.rb (TestFnmatch::bracket_test):\n\t  String#include? no longer works for Fixnum.  use #chr.\n\t  [ruby-dev:31652]\n\nSun Aug 26 12:27:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: fix to remove Fiber.new until fiber.so is not loaded.\n\n\t* test/ruby/test_continuation.rb: fix to use resume.\n\nSun Aug 26 06:51:46 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_wc2mb, reg_enum_key): allocate\n\t  buffer should be NULL terminated.\n\nSun Aug 26 06:04:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_setup_method): reorder code for branch prediction.\n\nSun Aug 26 05:54:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_call_method): fix to relaxant safe level check\n\t  ($SAFE > 2).  [ruby-core:11998]\n\n\t* bootstraptest/test_method.rb: add tests for above.\n\nSun Aug 26 05:52:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_fiber.rb: fix to require 'continuation'.\n\nSat Aug 25 23:52:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_next): message changed.\n\nSat Aug 25 23:22:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/encoding.h: remove unused rb_enc_ismbchar().\n\nSat Aug 25 22:50:14 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_event_free, EVENTSINK_Destructor,\n\t  fev_initialize): remove the connection ole_event_free and\n\t  EVENTSINK_Destructor.\n\nSat Aug 25 17:52:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* string.c, include/ruby/intern.h: export rb_str_length().\n\n\t* insns.def: use rb_str_length() in opt_length.\n\nSat Aug 25 17:48:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: rename FIBER_STACK_SIZE to FIBER_VM_STACK_SIZE.\n\nSat Aug 25 17:05:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (swallow): removed condition using an unset variable.\n\n\t* parse.y, re.c: re-applied revision 13092.\n\n\t* string.c (rb_str_splice): return from void function.\n\n\t* include/ruby/encoding.h (rb_enc_str_new): prototype added.\n\nSat Aug 25 11:45:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c: provide basic features for M17N.\n\n\t* parse.y: encoding aware parsing.\n\n\t* parse.y (pragma_encoding): encoding specification pragma.\n\n\t* parse.y (rb_intern3): encoding specified symbols.\n\n\t* string.c (rb_str_length): length based on characters.\n\t  for older behavior, bytesize method added.\n\n\t* string.c (rb_str_index_m): index based on characters.  rindex as\n\t  well.\n\n\t* string.c (succ_char): encoding aware succeeding string.\n\n\t* string.c (rb_str_reverse): reverse based on characters.\n\n\t* string.c (rb_str_inspect): encoding aware string description.\n\n\t* string.c (rb_str_upcase_bang): encoding aware case conversion.\n\t  downcase, capitalize, swapcase as well.\n\n\t* string.c (rb_str_tr_bang): tr based on characters.  delete,\n\t  squeeze, tr_s, count as well.\n\n\t* string.c (rb_str_split_m): split based on characters.\n\n\t* string.c (rb_str_each_line): encoding aware each_line.\n\n\t* string.c (rb_str_each_char): added.  iteration based on\n\t  characters.\n\n\t* string.c (rb_str_strip_bang): encoding aware whitespace\n\t  stripping.  lstrip, rstrip as well.\n\n\t* string.c (rb_str_justify): encoding aware justifying (ljust,\n\t  rjust, center).\n\n\t* string.c (str_encoding): get encoding attribute from a string.\n\n\t* re.c (rb_reg_initialize): encoding aware regular expression\n\n\t* sprintf.c (rb_str_format): formatting (i.e. length count) based\n\t  on characters.\n\n\t* io.c (rb_io_getc): getc to return one-character string.\n\t  for older behavior, getbyte method added.\n\n\t* ext/stringio/stringio.c (strio_getc): ditto.\n\n\t* io.c (rb_io_ungetc): allow pushing arbitrary string at the\n\t  current reading point.\n\n\t* ext/stringio/stringio.c (strio_ungetc): ditto.\n\n\t* ext/strscan/strscan.c: encoding support.\n\nSat Aug 25 10:59:19 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: separate Continuation and Fiber from core.\n\n\t* ext/continuation/*, ext/fiber/*: ditto.\n\n\t* include/ruby/ruby.h: remove rb_cFiber.\n\n\t* include/ruby/intern.h: add the rb_fiber_new() declaration.\n\n\t* enumerator.c (next_init): fix to use rb_fiber_new().\n\n\t* test/ruby/test_enumerator.rb: remove next? tests.\n\n\t* test/ruby/test_continuation.rb: add a require 'continuation'.\n\n\t* test/ruby/test_fiber.rb: add a require 'fiber'.\n\nSat Aug 25 10:20:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (prelude.o): depends on vm_core.h now.\n\n\t* common.mk (prelude.c): depends on tool/compile_prelude.rb too.\n\n\t* common.mk (prereq): updates all auto-generated sources.\n\n\t* tool/compile_prelude.rb: separated dynamic and static portions.\n\nSat Aug 25 10:05:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* prelude.rb: add Thread.exclusive.  This class method\n\t  is different from 1.8's.  Thread.exclusive only does\n\t  synchronize with VM global mutex.\n\nSat Aug 25 09:39:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_s_try_convert): more document description.\n\n\t* re.c (rb_reg_s_try_convert): typo fixed.\n\nSat Aug 25 08:54:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* id.h, id.c: remove idFuncall.\n\n\t* compile.c (iseq_specialized_instruction): ditto.\n\nSat Aug 25 08:47:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/compile_prelude.rb: fix to include \"vm_core.h\".\n\nSat Aug 25 03:49:14 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/sentence.rb (Sentence): include Enumerable.\n\t  (Sentence#each): defined.\n\n\t* test/ruby/test_assignment.rb: use Sentence#expand.\n\nSat Aug 25 03:08:57 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* prelude.rb: fix Mutex#synchronize definition.\n\nSat Aug 25 02:08:45 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_s_try_convert): a new class method to convert\n\t  object or nil if it's not target-type.  this mechanism is used\n\t  to convert types in the C implemented methods.\n\n\t* hash.c (rb_hash_s_try_convert): ditto.\n\n\t* io.c (rb_io_s_try_convert): ditto.\n\n\t* re.c (rb_reg_s_try_convert): ditto.\n\n\t* string.c (rb_str_s_try_convert): ditto.\n\nSat Aug 25 00:49:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_loop_generator.rb: added.\n\nSat Aug 25 00:22:31 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* prelude.rb: added.  run this script on startup.\n\n\t* tool/compile_prelude.rb: compile prelude.rb to C string.\n\t  (prelude.rb -> prelude.c)\n\n\t* common.mk: fix to build with prelude.c.\n\n\t* inits.c (rb_call_inits): ditto.\n\n\t* thread.c (Init_Thread): move definition of Mutex#synchronize\n\t  to prelude.rb.\n\nSat Aug 25 00:08:43 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (compile_massign_opt): fix to skip massign optimization\n\t  with global variables.\n\n\t* bootstraptest/test_massign.rb: add some tests for above.\n\nFri Aug 24 18:42:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_dir.rb (TestDir::setup): ?c now makes a string.\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner::initialize):\n\t  initialize @workdir to stop warning.\n\nFri Aug 24 18:30:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/drb/drb.rb (DRb::DRbServer::InvokeMethod::perform_without_block):\n\t  replace funcall by send!.  other files in the distribution as well.\n\nFri Aug 24 17:06:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_send_bang): abandon the name funcall for private\n\t  aware method call.\n\nFri Aug 24 15:27:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_next): stop pre-fetching.\n\n\t* enumerator.c (Init_Enumerator): remove next? method.\n\nFri Aug 24 15:14:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_loop): now handles StopIteration exception.\n\nThu Aug 23 20:31:31 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: optimize simple massign.\n\nThu Aug 23 20:02:25 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (reg_get_value): use RegQueryValueEx instead\n\t  of RegQueryValueEx.\n\n\t* ext/win32ole/win32ole.c (typelib_file_from_clsid): fix the bug\n\t  that the function always returns Qnil.\n\n\t* test/win32ole/test_win32ole_type.rb (test_initialize): add some test.\n\nThu Aug 23 17:25:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (group_member): check if presents.\n\n\t* configure.in (XCFLAGS): add _GNU_SOURCE on linux.\n\n\t* file.c (group_member): use system routine if available.\n\n\t* process.c: moved _GNU_SOURCE macro to Makefile.\n\nThu Aug 23 16:59:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (compile_massign), insnhelper.ci (vm_throw): not use C99\n\t  comment.\n\n\t* cont.c (rb_cont_call, fiber_switch, rb_fiber_resume, rb_fiber_yield):\n\t  suppress warnings.\n\n\t* cont.c (rb_fiber_start): change on non-volatile variable between\n\t  setjmp and longjmp may not has an effect.\n\n\t* enumerator.c (sym_call): initialize first.\n\n\t* enumerator.c (enum_iter): typedefed.\n\n\t* enumerator.c (next_i): suppress a warning.\n\nThu Aug 23 16:04:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, insns.def, parse.y: fix massign order.  This change\n\t  causes performance problem.  Try vm1_swap benchmark.\n\t  [ruby-dev:31522]\n\n\t* insns.def, insnhelper.ci: move process body of expandarray insn to\n\t  vm_expandarray().\n\n\t* bootstraptest/test_knownbug.rb, bootstraptest/test_massign.rb:\n\t  move a solved test.\n\nThu Aug 23 15:51:19 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_norm_arg): ripper has no shadowing check.\n\n\t* parse.y (f_block_arg): dispatch blkarg_mark.\n\nThu Aug 23 15:48:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (make_masgn_lhs, iseq_compile_each): fixed indent.\n\n\t* compile.c (iseq_translate_threaded_code),\n\t  vm_evalbody.ci (get_insns_address_table),\n\t  template/vmtc.inc.tmpl (insns_address_table): constified.\n\n\t* vm_evalbody.ci (vm_eval),\n\t  template/insns_info.inc.tmpl (insn_stack_increase, insn_ret_num):\n\t  suppress warnings.\n\nThu Aug 23 13:19:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_norm_arg): check also nested arguments.  [ruby-dev:31502]\n\nThu Aug 23 00:06:48 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c: updated for ANSI C only.  applied a patch from\n\t  <snakagawa AT infoteria.co.jp>.  [ruby-dev:31591]\n\nThu Aug 23 00:04:45 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/strtod.c: removed.  [ruby-dev:31588]\n\n\t* LEGAL: updated.\n\nWed Aug 22 15:59:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb:\n\t  fix typo of filename (test_knownbug.rb).\n\nWed Aug 22 14:04:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: added.  This file will contain\n\t  test cases which point out known bug.  If bug is fixed, tests\n\t  should move to the suitable place.\n\n\t* bootstraptest/test_massign.rb: move a test which show known bug\n\t  to test_knownbug.rb.\n\nWed Aug 22 13:02:26 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (in_temporary_working_directory):\n\t  don't remove the directory specified by --dir.\n\nWed Aug 22 05:51:23 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): replaced by the implementation by David\n\t  M. Gay inspired by William D. Clinger's paper \"How to Read Floating\n\t  Point Numbers Accurately\" [Proc. ACM SIGPLAN '90, pp. 92-101].\n\t  a patch from Satoshi Nakagawa <snakagawa AT infoteria.co.jp>.\n\t  [ruby-dev:31582]\n\n\t* test/ruby/test_float.rb (TestFloat::test_float): add test for\n\t  precision.\n\nWed Aug 22 03:51:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: add Fiber#resume and Fiber.yield.\n\t  and Fiber::Core class to realize Coroutine.\n\n\t* include/ruby/intern.h: declare rb_fiber_yield(), rb_fiber_resume().\n\n\t* enumerator.c: use above api.\n\n\t* test/ruby/test_fiber.rb: fix and add tests for above changes.\n\nTue Aug 21 21:09:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/tmpdir.rb (Dir.mktmpdir): make directory suffix specifiable.\n\t  suggested by knu.  [ruby-dev:31568]\n\nTue Aug 21 15:00:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* st.c (st_clear): reset num_entries too.\n\nTue Aug 21 13:57:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (st_foreach_func, rb_foreach_func): typedefed.\n\n\t* hash.c (rb_hash_clear): use st_clear() unless iterating.\n\n\t* st.c (struct st_table_entry): add new members, fore and back, to\n\t  iterate in inserted order.\n\n\t* include/ruby/st.h (struct st_table): ditto.\n\nTue Aug 21 04:09:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_vm2_case.rb: add a new benchmark.\n\t  YARV optimize case/when syntax.  If every conditions\n\t  are literal (such as Symbol, Fixnum, String), dispatch\n\t  calc order will be O(1).\n\nTue Aug 21 04:08:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_enumerator.rb: fix last commit.\n\nTue Aug 21 03:59:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test_enumerator.rb (enum_test): fix to return sorted\n\t  array (for Hash test).\n\nTue Aug 21 03:55:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* enumerator.c (next_i): fix to return with Fiber#yield at\n\t  the end of each block.  [ruby-dev:31470]\n\n\t* enumerator.c (enumerator_next_p): call init_next if not\n\t  initialized.  [ruby-dev:31514]\n\n\t* test/ruby/test_enumerator.rb: add tests for Enumerator.\n\nMon Aug 20 23:28:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (Init_String): remove Symbol.intern and Symbol#dump.\n\t  [ruby-dev:31525]\n\n\t* dir.c (dir_foreach): return Enumerator if no block given.\n\t  [ruby-dev:31525]\n\n\t* io.c (rb_io_s_foreach): argument count check before making\n\t  Enumerator.  [ruby-dev:31525]\n\nMon Aug 20 23:17:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (struct rb_thread_struct): removed first_func_arg and\n\t  reuse first_args instead.\n\nSun Aug 19 13:31:40 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c: use VALGRIND_MAKE_MEM_UNDEFINED to detect use of collected\n\t  objects if valgrind is available.  It cannot detect first 2 words\n\t  because they are used as the free list.\n\nSun Aug 19 13:13:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each/NODE_RESBODY): fix to add\n\t  additional nop to prevent tailcall optimization.\n\n\t* vm_opts.h: clean up comments.\n\nSun Aug 19 12:58:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_call_bmethod): fix to propagate information\n\t  that this proc is \"from Method\".  [ruby-dev:31490]\n\n\t* proc.c (method_proc, rb_mod_define_method): ditto.\n\n\t* vm.c (vm_invoke_proc_core): removed.\n\n\t* vm_core.h: ditto.\n\nSun Aug 19 12:36:11 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/sentence.rb: new method Sentence().\n\nSun Aug 19 12:32:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_callee_setup_arg): fix to mark enough VM stack.\n\t  [ruby-dev:31492]\n\nSat Aug 18 19:02:34 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_yield.rb (TestYieldGen): relax array size check\n\t  in nested parameters.\n\t  [ruby-dev:31485]\n\nSat Aug 18 17:44:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/tcltklib.c (Init_tcltklib): use rb_set_end_proc().\n\nSat Aug 18 17:40:11 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (is_ruby_native_thread): check properly.  [ruby-dev:31166]\n\nSat Aug 18 16:44:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_call_bmethod),\n\t  vm.c (vm_invoke_proc_core): fix to do not restore\n\t  $SAFE when proc invoked by bmethod.\n\n\t* vm_core.h: ditto.\n\nSat Aug 18 16:44:49 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_error.ci (ruby_error_print): call error_print.\n\n\t* eval_jump.ci, process.c (rb_exit, rb_f_exit, rb_f_abort): moved.\n\nSat Aug 18 15:59:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (detach_process_watcher): should not pass the pointer\n\t  to an auto variable to the thread to be created.  pointed and\n\t  fix by KUBO Takehiro <kubo at jiubao.org>  [ruby-dev:30618]\n\nSat Aug 18 15:52:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insnhelper.ci (vm_send_optimize): use MEMMOVE to shift values inside\n\t  an array.\n\nSat Aug 18 15:45:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insnhelper.ci (vm_yield_setup_args): rsize and psize should not be\n\t  negative.\n\nSat Aug 18 14:35:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insnhelper.ci (vm_callee_setup_arg, vm_send_optimize,\n\t  vm_yield_setup_args): bulk copy for arguments.\n\nSat Aug 18 13:55:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix to allow self.x=\n\t  if x= is private.\n\n\t* bootstraptest/test_method.rb: add a test for above.\n\nSat Aug 18 14:05:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reg_compile_gen): obtain error info from errinfo.\n\n\t* re.c (rb_reg_error_desc): make RegexpError for initialization error.\n\n\t* re.c (rb_reg_compile): return nil and set errinfo if error.\n\nSat Aug 18 13:23:01 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c: $! should not be writable.\n\n\t* eval.c (rb_rubylevel_errinfo): added.  rb_errinfo() returns\n\t  rb_thread_t#errinfo.  rb_rubylevel_errinfo() returns $! value.\n\nSat Aug 18 13:14:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_callee_setup_arg): fix to check arguments\n\t  correctly. [ruby-dev:31472]\n\nSat Aug 18 13:13:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_exception.rb: add escape character (\"\\\") for\n\t  editors.\n\nSat Aug 18 12:42:50 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_yield.rb (TestYieldGen): add test for yielding to\n\t  lambda using lambda parameter passing emulator.\n\nSat Aug 18 12:24:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sample/test.rb, test/ruby/test_system.rb(valid_syntax?): keep\n\t  comment lines first.\n\nSat Aug 18 11:44:59 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_set_arguments), insnhelper.ci\n\t  (vm_callee_setup_arg, vm_yield_setup_args):\n\t  fix to cause raise on \"lambda{|a|}.call(1, 2)\".\n\t  [ruby-dev:31464]\n\n\t* bootstraptest/test_block.rb: add tests for above.\n\nSat Aug 18 01:12:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (frame_func_id): return proper method ID.\n\nFri Aug 17 22:43:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): massign should return rvalue(s).\n\nFri Aug 17 22:10:19 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_basicinstructions.rb: fix old tests.\n\t  class variables should be inherited.\n\nFri Aug 17 21:20:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_call), eval_method.ci (rb_add_method, rb_alias),\n\t  insnhelper.ci (vm_call_method): fix to save safelevel for\n\t  method node.\n\n\t* include/ruby/node.h: ditto.\n\n\t* bootstraptest/test_method.rb: add a test for above.\n\nFri Aug 17 16:02:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_terminate_all): fix to ignore\n\t  exceptions.\n\n\t* thread.c (thread_start_func_2): fix\n\t  abort_on_exception process.  [ruby-dev:31394]\n\nFri Aug 17 14:38:36 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (in_temporary_working_directory): use\n\t  Dir.mktmpdir to create and remove temporary directory.\n\t  (Dir.mktmpdir): define if not available.\n\t  [ruby-dev:31431]\n\nFri Aug 17 03:07:37 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix throw insn option of next.\n\nFri Aug 17 01:25:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_set_arguments), insnhelper.ci\n\t  (vm_callee_setup_arg, vm_yield_setup_args): fix\n\t  block parameter problems. [ruby-dev:31437], [ruby-dev:31440]\n\n\t* bootstraptest/test_block.rb: add a test of [ruby-dev:31440].\n\nFri Aug 17 01:24:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (ruby_iseq_disasm): fix to show arg_simple value.\n\nFri Aug 17 01:21:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (throw): insert a RUBY_VM_CHECK_INTS(). [ruby-dev:31361]\n\nThu Aug 16 20:40:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bigtrunc): RBIGNUM(x)->len may be zero.  out of bound\n\t  access.  [ruby-dev:31404]\n\n\t* sprintf.c (rb_str_format): small float should not call\n\t  rb_dbl2big().\n\nThu Aug 16 22:10:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix next/redo stack consistency.\n\t  [ruby-dev:31373]\n\n\t* bootstraptest/test_syntax.rb: add tests for above.\n\n\t* sample/test.rb: fix to use __FILE__ instead of $0 to know basedir.\n\nThu Aug 16 21:14:06 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (BASERUBY): need AC_SUBST.  [ruby-dev:31438]\n\nThu Aug 16 19:18:26 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/sentence.rb: Sentence class implemented\n\t  based on sentgen.rb\n\n\t* test/ruby/sentgen.rb: removed.\n\n\t* test/ruby/test_assignment.rb: use sentence.rb.\n\n\t* test/ruby/test_yield.rb: block parameter passing emulator\n\t  implemented.\n\nThu Aug 16 16:48:47 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (BASERUBY): check if base ruby is runnable first.\n\t  [ruby-core:11900]\n\nThu Aug 16 16:46:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (aix): enable shared by default.\n\n\t* configure.in (aix): for 64bit-mode AIX.  [ruby-dev:31401]\n\t  + use CC for LDSHARED if non-gcc,\n\t  + moved -G option from *LDFLAGS to LDSHARED,\n\t  + set -brtl only in XLDFLAGS.\n\nThu Aug 16 13:06:08 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c (big_lshift): make shift offset long type.\n\t  (big_rshift): ditto.\n\t  (rb_big_lshift): ditto.\n\t  (big_rshift): ditto.\n\t  [ruby-dev:31434]\n\nThu Aug 16 06:29:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_readpartial): argf_forward needs argc and argv.\n\nThu Aug 16 02:47:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_fiber_m_yield): added.  use this function\n\t  for Fiber#yield instead of rb_fiber_yield.\n\nThu Aug 16 00:36:52 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/tmpdir.rb (Dir.mktmpdir): new method.  [ruby-dev:31416]\n\nWed Aug 15 18:57:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c (os_live_obj): fix to skip T_VALUES.\n\n\t* sample/test.rb: add an ObjectSpace test.\n\nWed Aug 15 16:49:04 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* inits.c (rb_call_inits): change initializing order.\n\t  [ruby-dev:31420]\n\nWed Aug 15 16:44:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (ARGF_FORWARD): wrongly compares with current_file with\n\t  rb_stdout.  should be rb_stdin.  [ruby-cvs:20177]\n\nWed Aug 15 14:59:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_initialize, argf_each_line, argf_each_byte): suppress\n\t  warnings.\n\nWed Aug 15 14:22:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: remove \"//\" type comment.\n\nWed Aug 15 13:42:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: fix rules around f_margs.  \"make test\" passes all tests.\n\n\t* bootstraptest/test_block.rb: add some tests for above.\n\nWed Aug 15 13:50:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (rb_hash_delete_key): delete the entry without calling block.\n\n\t* hash.c (rb_hash_shift): should consider iter_lev too.\n\n\t* hash.c (delete_if_i): use rb_hash_delete_key() so that the block\n\t  isn't called twice.  [ruby-core:11556]\n\nWed Aug 15 13:39:25 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* process.c (proc_geteuid): fix strange conversion.  [ruby-dev:31417]\n\nWed Aug 15 01:05:55 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_check): don't call newtest.\n\t  (assert_equal): call newtest.\n\t  (assert_match): ditto.\n\nTue Aug 14 21:43:39 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_check): new method.\n\t  (assert_match): new method.\n\t  (assert_equal): use assert_check.\n\t  (pretty): give failure description as an argument.\n\n\t* bootstraptest/test_exception.rb: use assert_match to describe the\n\t  test for [ruby-dev:31407].  [ruby-dev:31412]\n\nTue Aug 14 19:53:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (Init_Proc), eval.c (Init_eval), eval_intern.h: move\n\t  init place of exception_error.\n\n\t* inits.c: ditto.\n\n\t* eval.c (Init_eval): set exception_error#throwed_state as TAG_FATAL.\n\t  [ruby-dev:31407]\n\n\t* bootstraptest/test_exception.rb: add a test for above.\n\nTue Aug 14 19:51:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: change test order (test -> btest).\n\nTue Aug 14 00:04:27 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: 0.1.8 -> 0.1.9.\n\n\t* test/rss/test_version.rb: followed the above change.\n\n\t* lib/rss/parser.rb: fixed a bug that handles unintended elements.\n\t  Thanks to Takuo Yonezawa. [ruby-list:43841]\n\nMon Aug 13 17:23:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_clear_trace_func, rb_thread_stop_timer_thread):\n\t  declarations for forward references.\n\n\t* eval.c (rb_longjmp, eval): use local variable.\n\n\t* eval.c (rb_longjmp): string object not to be optimized.\n\nMon Aug 13 13:21:58 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb: make ftp passive mode to avoid NAT problem.\n\t  [ruby-dev:31377]\n\nMon Aug 13 09:18:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_getc): should returns\n\t  one-character string.\n\n\t* ext/stringio/stringio.c: remove unnecessary prototypes.\n\n\t* ext/stringio/stringio.c (strio_getbyte): new method.\n\n\t* ext/stringio/stringio.c (strio_readbyte): new method.\n\n\t* ext/stringio/stringio.c (strio_ungetc): should take a string as\n\t  an input.\n\nMon Aug 13 08:19:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_close): always close via method.\n\n\t* io.c (Init_IO): remove obsolete Kernel#getc.\n\nMon Aug 13 05:03:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_raise): check if target thread is\n\t  thrown by another thread or not.  [ruby-dev:31371]\n\n\t* bootstraptest/test_thread.rb: add a test for above.\n\nMon Aug 13 04:35:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_peephole_optimize): fix peephole optimization\n\t  bug. [ruby-dev:31360]\n\n\t* bootstraptest/test_syntax.rb: add a test for above.\n\nMon Aug 13 04:02:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_dump.c (debug_print_pre): fix to show control frame count.\n\n\t* insns.def (opt_call_c_function): fix operand type.\n\n\t* lib/vm/instruction.rb: ditto.\n\n\t* insnhelper.ci (vm_push_frame, vm_pop_frame): fix to show\n\t  control stack status on if VMDEBUG == 2.\n\n\t* vm.h: add a comment about VMDEBUG.\n\n\t* iseq.c (find_prev_line_no): fix to skip bug report if\n\t  line is not found.\n\n\t* lib/vm/instruction.rb: fix to use build_string() on\n\t  source code generators.\n\nMon Aug 13 03:57:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* template/yasmdata.rb.tmpl: fix type and name.\n\nSat Aug 11 23:27:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_each_line): should use #each_line, not #each.\n\n\t* io.c (argf_each_line): simplified.\n\n\t* io.c (argf_getline): should handle non T_FILE object in ARGV.\n\n\t* io.c (argf_each_byte): each_byte should yield bytes not\n\t  one-character strings.  [ruby-dev:31374]\n\nSat Aug 11 07:24:55 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: reverted some wrongly erased \"o\" options\n\t  (pointed out by nobu).\n\nSat Aug 11 00:01:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): not re-raise to main thread if it is\n\t  joining the current thread.\n\nFri Aug 10 23:54:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_create_core): inherit the priority of creating\n\t  thread.  submitted at [ruby-core:11873] by David Flanagan <david AT\n\t  davidflanagan.com>.  [ruby-core:11876]\n\nFri Aug 10 05:12:19 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): let abort_on_exception work.\n\t  [ruby-core:11873]\n\nFri Aug 10 04:47:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (internal_id_gen): internal ID must be bigger than\n\t  tLAST_TOKEN.\n\nThu Aug  9 16:04:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): check if rhs has value before assignment instead\n\t  inside node_assign_gen().  [ruby-dev:31293]\n\n\t* parse.y (call_bin_op_gen, call_uni_op_gen): split call_op_gen.\n\nThu Aug  9 14:01:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_marg_list): renamed from f_marg_head.\n\n\t* parse.y (f_margs): allow multiple mandatory arguments after a splat.\n\t  [ruby-dev:31153]\n\nThu Aug  9 02:02:02 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_cycle): typo fixed.  a patch from Kazuhiro\n\t  NISHIYAMA <zn AT mbf.nifty.com>.  [ruby-dev:31362]\n\nWed Aug  8 19:17:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dl/cptr.c (rb_dlptr_s_to_ptr): no longer check\n\t  HAVE_RB_IO_STDIO_FILE.\n\nWed Aug  8 15:52:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_next_p): should check correctly even when\n\t  e.next has not been called before.\n\n\t* enumerator.c (enumerator_next): raise StopIteration (name taken\n\t  from Python) instead of IndexError.\n\n\t* enum.c (enum_zip): catch StopIteration exception.\n\n\t* enumerator.c (enumerator_with_index): return Enumerator if no\n\t  block is given.\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_enumerator): add\n\t  test for enumerators.\n\nWed Aug  8 11:48:37 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): should not use RTEST for non-VALUE.\n\nWed Aug  8 11:25:25 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): should preserve sign mark.\n\nWed Aug  8 11:02:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (btest-miniruby, test-sample): split the test target\n\t  so that -k option works.\n\nTue Aug  7 14:58:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/pty/pty.c (establishShell): handshaking before close slave\n\t  device.  [ruby-talk:263410]\n\n\t* ext/pty/pty.c (MasterDevice, SlaveDevice, deviceNo): constified.\n\n\t* ext/pty/pty.c (SlaveName): removed static buffer.\n\n\t* ext/pty/expect_sample.rb: support for autologin.\n\nTue Aug  7 13:58:03 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (ruby_special_consts): added RUBY_SPECIAL_SHIFT.\n\n\t* .gdbinit: some improvements.\n\nTue Aug  7 13:28:32 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (node_name.inc): use $? instead of $< for nmake.\n\t  [ruby-dev:31356]\n\nTue Aug  7 12:45:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_isinf): set yes also on OpenSolaris.\n\t  [ruby-Bugs-12859]\n\nTue Aug  7 12:31:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open): fix for win32 platforms.\n\nTue Aug  7 02:58:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): make Bignum#to_s even faster.  a patch\n\t  from Kenta Murata <muraken AT gmail.com>.  [ruby-dev:31354]\n\nTue Aug  7 01:42:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_zip): zip no longer converts arguments into\n\t  arrays, uses enumerators.\n\nTue Aug  7 01:27:47 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* cont.c (rb_fiber_yield): change argument ordering.  export.\n\n\t* cont.c (rb_fiber_current): export\n\n\t* include/ruby/intern.h: export several functions from cont.c.\n\n\t* enumerator.c (enumerator_next): new method to implement external\n\t  iterator (generator) using fiber.\n\n\t* enumerator.c (enumerator_next_p): new method to check whether\n\t  any element is left in the generator sequence.\n\n\t* enumerator.c (enumerator_rewind): a new method to rewind the\n\t  generator sequence.\n\nTue Aug  7 01:15:24 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_cycle): new method to cycle enumerable forever.\n\nTue Aug  7 00:05:38 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* irb/ruby-lex.rb: support for '\\c'. [ruby-talk:263508]\n\nMon Aug  6 20:29:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci, insns.def: move some statements to functions.\n\n\t* vm.c, vm.h, vm_evalbody.ci: fix include/typedef places.\n\nMon Aug  6 18:41:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/vm/instruction.rb (make_header_analysys): fix last commit.\n\nMon Aug  6 18:33:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/vm/instruction.rb (make_header_analysys): add to separate\n\t  header addition process.\n\nMon Aug  6 17:36:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rexml/encodings/{ISO-8859-15,CP-1252}.rb: fixed invalid syntax.\n\nMon Aug  6 16:57:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* sample/test.rb: fix to output file name if it contains\n\t  invalid syntax.\n\nMon Aug  6 16:41:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y (value_expr_gen): fix to cause \"void value expression\"\n\t  when jump expression such as \"next\" are shown on value_expr().\n\t  [ruby-dev:31119]\n\n\t* bootstraptest/test_syntax.rb: fix to above change.\n\nMon Aug  6 14:36:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: fix a f_marg rule. [ruby-dev:31160]\n\nMon Aug  6 14:29:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb (assert_equal): add additional\n\t  message parameter.\n\nMon Aug  6 13:34:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (INSNS): not chdir to srcdir.\n\n\t* common.mk (node_name.inc): auto-generate node name list.\n\n\t* iseq.c (ruby_node_name): ditto.\n\n\t* iseq.c (iseq_s_compile_option_get, Init_ISeq): added a new\n\t  method VM::InstructionSequence::compile_option.\n\n\t* lib/vm/instruction.rb (RubyVM::SourceCodeGenerator): --destdir\n\t  option.\n\n\t* tool/node_name.rb: to auto-generate node name list.\n\nSun Aug  5 11:51:39 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss, sample/rss, test/rss:\n\t- 0.1.7 -> 0.1.8.\n\t- supported <itunes:XXX>.\n\t- reverted backward incompatibility API changes introduced 0.1.7.\n\nSun Aug  5 04:56:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open_v, pipe_open_s): separate array and string\n\t  cases.  [ruby-dev:31344]\n\nFri Aug  3 11:05:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): save all CONFIG values.\n\n\t* ext/extmk.rb (extmake): remove mkmf.log at clean, and extconf.h at\n\t  distclean, respectively.\n\n\t* ext/extmk.rb: remove rdoc at clean, and installed list file at\n\t  distclean, respectively.\n\nFri Aug  3 07:09:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: more verbose message.  [ruby-Bugs-12766]\n\n\t* lib/mkmf.rb (have_type): suppress a warning with -Wall.\n\n\t* lib/mkmf.rb (find_type): new method.\n\nFri Aug  3 00:00:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (big2str_table): base cannot be 0 or 1.\n\nThu Aug  2 23:42:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reg_compile_gen): set error if failed to compile regexp\n\t  literal.  [ruby-dev:31336]\n\n\t* re.c (option_to_str, arg_kcode, opt_kcode): options conversion\n\t  between int and string.\n\n\t* re.c (rb_reg_compile): should not use regexp which could not get\n\t  initialized.  [ruby-dev:31333]\n\t  return error message to let the parser know it.\n\n\t* re.c (rb_reg_compile): append regexp options to error message.\n\t  [ruby-dev:31334]\n\nThu Aug  2 22:05:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): faster Bignum#to_s using Karatsuba\n\t  algorithm.  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>\n\t  in [ruby-dev:31312], slightly modified by Kenta Murata\n\t  <muraken AT gmail.com> in [ruby-dev:31339].\n\nThu Aug  2 13:46:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): should not check positional number as\n\t  width.  [ruby-core:11838]\n\nWed Aug  1 12:40:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* generic.rb (URI::Generic::merge_path): behave as RFC 3986.\n\t  [ruby-talk:252052]\n\nTue Jul 31 23:38:09 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (_parse): now interprets slashed numerical\n\t  dates as a big endian (except dd/mm/yyyy). [experimental]\n\nMon Jul 30 11:16:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_aref): check for Bignum index range.\n\t  [ruby-dev:31271]\n\nSat Jul 28 09:35:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/digest/lib/digest.rb (Digest::self.const_missing): avoid\n\t  infinite recursive const_missing call.  [ruby-talk:262193]\n\nThu Jul 26 20:40:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_eqq): call_super() in === does not work well\n\t  since Enumerable#=== has different behavior.  [ruby-dev:31296]\n\nThu Jul 26 13:57:45 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.c (load_1, dln_find_1): constified.\n\n\t* dln.c (conv_to_posix_path): removed.\n\n\t* ruby.c (usage): constified.\n\n\t* ruby.c (rubylib_mangled_path, rubylib_mangled_path2): return\n\t  VALUE instead of a pointer to static buffer.\n\n\t* ruby.c (push_include_cygwin): fixed buffer overflow.\n\t  [ruby-dev:31297]\n\n\t* ruby.c (ruby_init_loadpath): not convert built-in paths.\n\nTue Jul 24 10:37:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_f_p): return nil if no argument.  [ruby-dev:31285]\n\nTue Jul 24 01:05:07 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regint.h (USE_MATCH_RANGE_IS_COMPLETE_RANGE): undef to achieve old\n\t  rindex behavior.  [ruby-dev:31265]\n\nMon Jul 23 18:37:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h: upgrade to Oniguruma 5.9.0.  fixes\n\t  some memory violation.  [ruby-dev:31070]\n\nSun Jul 22 20:09:49 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (Date._parse): now accepts some new\n\t  hints. [experimental]\n\n\t* lib/parsedate.rb: followed the changes on\n\t  lib/date/format.rb. [experimental]\n\nSun Jul 22 16:06:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (is_ruby_native_thread): made an int function as\n\t  well as version 1.8.\n\n\t* include/ruby/ruby.h (is_ruby_native_thread): moved prototype\n\t  from intern.h as well as version 1.8.\n\nSun Jul 22 14:33:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_rename): deleted code to get rid of a bug of\n\t  old Cygwin.\n\n\t* file.c (rb_file_truncate): added prototype of GetLastError()\n\t  on cygwin.  [ruby-dev:31239]\n\n\t* include/ruby/intern.h (is_ruby_native_thread): prototype.\n\n\t* missing/strftime.c (strftime): fix printf format and actual\n\t  arguments.\n\n\t* ext/Win32API/Win32API.c (Win32API_initialize): ditto.\n\n\t* ext/tk/tcltklib.c (ip_finalize): ditto.\n\n\t* ext/win32ole/win32ole.c (lcid_installed): ditto.\n\n\t* ext/socket/getnameinfo.c: include stdio.h always.\n\nSat Jul 21 21:39:12 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb (Date._parse): now can take some\n\t  hints (its aim must be mainly determination of endianness of\n\t  date). [experimental]\n\n\t* lib/date.rb, lib/date/format.rb (Date._parse): now completes\n\t  truncated year as default action. [experimental]\n\n\t* lib/date.rb, lib/date/format.rb: added ::iso8601, ::rfc3339,\n\t  ::xmlschema, ::rfc2822, ::httpdate, ::jisx0301, #xmlschema,\n\t  #httpdate. [experimental]\n\nSat Jul 21 17:48:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: inverted rules order.\n\n\t* thread_win32.ci (w32_create_thread): bcc does not have\n\t  _beginthreadex().\n\n\t* lib/mkmf.rb (create_makefile): make OBJS depend on RUBY_EXTCONF_H\n\t  only if extconf.h is created.\n\n\t* bcc32/Makefile.sub: headers have moved.\n\n\t* bcc32/{Makefile.sub,configure.bat,setup.mak: configure_args\n\t  support.\n\n\t* bcc32/setup.mak: check runtime version.\n\n\t* win32/win32.c (rb_w32_open_osfhandle): prototype has changed\n\t  in bcc 5.82.\n\n\t* {win32,wince,bcc32}/setup.mak (-version-): no RUBY_EXTERN magic.\n\n\t* win32/resource.rb: include patchlevel number.\n\nSat Jul 21 12:06:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (init_mkmf): should remove mkmf.log too.\n\nSat Jul 21 01:45:03 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (Date._parse): completes calendar week based year.\n\n\t* lib/date/format.rb (Date._parse): detects year of ordinal date in\n\t  extended format.\n\nFri Jul 20 16:30:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_set_sequence): raise SyntaxError instead of rb_bug\n\t  since this function can be called from VM::InstructionSequence.load.\n\n\t* compile.c (insn_set_sc_state, iseq_set_sequence_stackcaching): ditto.\n\nFri Jul 20 16:11:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c, compile.h (DECL_ANCHOR, INIT_ANCHOR): split not to\n\t  initialize aggregations with dynamic values.  [ruby-talk:259306]\n\n\t* eval.c (rb_protect): not to initialize aggregations with dynamic\n\t  values.  [ruby-talk:259306]\n\n\t* gc.c (mark_current_machine_context): ditto.\n\n\t* thread.c (thgroup_list, call_trace_func): ditto.\n\n\t* vm.c (vm_init_redefined_flag): ditto.\n\nFri Jul 20 15:22:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_config.c (ossl_config_set_section): do not\n\t  initialize aggregations with dynamic values.  [ruby-talk:259306]\n\nFri Jul 20 10:39:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt, mlhs_node, lhs, arg, var_ref): return dummy\n\t  NODE_BEGIN after errors.  [ruby-dev:31100], [ruby-dev:31118]\n\n\t* parse.y (remove_begin): keep empty NODE_BEGIN, instead of null.\n\t  [ruby-dev:31252], [ruby-dev:31263]\n\nFri Jul 20 09:50:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/runner.rb (get_result_string): check $?.coredump?\n\t  first.\n\n\t* bootstraptest/runner.rb (cleanup_coredump, check_coredump): see\n\t  stackdump file too.\n\nThu Jul 19 20:39:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (value_expr_gen): warn for empty expression ().\n\t  [ruby-dev:31252]\n\nThu Jul 19 19:24:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_error.ci (get_backtrace): check the result more.\n\t  [ruby-dev:31261] [ruby-bugs-12398]\n\nThu Jul 19 14:38:45 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_lshift, rb_big_rshift): separated functions\n\t  to get rid of infinite recursion.  fixed calculation in edge\n\t  cases.  [ruby-dev:31244]\n\n\t* numeric.c (rb_fix_lshift, rb_fix_rshift): ditto.\n\nWed Jul 18 16:57:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): refine overflow check.  [ruby-dev:31242]\n\nWed Jul 18 09:19:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_parser_append_print, rb_parser_while_loop): moved check\n\t  for node to the head.\n\n\t* ruby.c (proc_options): do nothing for -p/-n options if tree is null.\n\t  submitted by Yusuke ENDOH <mame AT tsg.ne.jp> at [ruby-dev:31243].\n\nWed Jul 18 08:47:09 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_succ): Time#succ should return a time object in the\n\t  same timezone mode to the original.  [ruby-talk:260256]\n\nMon Jul 16 23:07:51 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/base64.rb (Base64::b64encode): should not specify /o option\n\t  for regular expression.  [ruby-dev:31221]\n\nMon Jul 16 22:57:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): make %u behave like %d for negative\n\t  values, since decimal format does not work with preceding dots.\n\t  [ruby-core:11575]\n\nMon Jul 16 18:29:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_rindex_m): accept string-like object convertible\n\t  with #to_str method, as well as rb_str_index_m.  [ruby-core:11692]\n\nMon Jul 16 07:17:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (getspecial): lfp_svar_get() requires int for special\n\t  global variables.\n\nMon Jul 16 05:45:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): more checks for format argument.\n\t  [ruby-core:11569], [ruby-core:11570], [ruby-core:11571],\n\t  [ruby-core:11573]\n\nMon Jul 16 00:26:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): removed invariant variable.  [ruby-dev:31236]\n\nSun Jul 15 22:24:37 2007  pegacorn  <subscriber.jp AT gmail.com>\n\n\t* ext/dl/cfunc.c (rb_dlcfunc_call): adjust format.  [ruby-dev:31222]\n\n\t* ext/digest/digest.c (rb_digest_instance_update,\n\t  rb_digest_instance_finish, rb_digest_instance_reset,\n\t  rb_digest_instance_block_length): %s in rb_raise() expects char*.\n\t  [ruby-dev:31222]\n\n\t* ext/openssl/ossl.h: include ossl_pkcs5.h.  [ruby-dev:31231]\n\n\t* ext/openssl/ossl_pkcs5.h: new file for PKCS5.  [ruby-dev:31231]\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_to_s): use ossl_raise()\n\t  instead of rb_raise().  [ruby-dev:31222]\n\n\t* ext/sdbm/_sdbm.c: DOSISH platforms need io.h.  [ruby-dev:31232]\n\n\t* ext/syck/syck.h: include stdlib.h for malloc() and free().\n\t  [ruby-dev:31232]\n\n\t* ext/syck/syck.h (syck_parser_set_input_type): prototype added.\n\t  [ruby-dev:31231]\n\n\t* win32/win32.c: include mbstring.h for _mbspbrk().  [ruby-dev:31232]\n\n\t* include/ruby/win32.h (rb_w32_getcwd): prototype added.\n\t  [ruby-dev:31232]\n\nSun Jul 15 21:07:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (bigtrunc): do not empty Bignum.  [ruby-dev:31229]\n\nSun Jul 15 19:05:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_cstr_to_inum): check leading non-digits.\n\t  [ruby-core:11691]\n\nSun Jul 15 04:42:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (get2comp): do nothing for empty Bignum.  [ruby-dev:31225]\n\nSat Jul 14 22:49:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_pow): integer power calculation: 0**n => 0,\n\t  1**n => 1, -1**n => 1 (n: even) / -1 (n: odd).\n\n\t* test/ruby/test_fixnum.rb (TestFixnum::test_pow): update test\n\t  suite.  pow(-3, 2^64) gives NaN when pow(3, 2^64) gives Inf.\n\nSat Jul 14 18:46:35 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in: add --with-valgrind.\n\n\t* gc.h (SET_MACHINE_STACK_END): new macro to replace\n\t  rb_gc_set_stack_end.  it find out accurate stack boundary by\n\t  asm using gcc on x86.\n\n\t* thread.c (rb_gc_set_stack_end): don't define if asm-version\n\t  SET_MACHINE_STACK_END is available.\n\n\t* gc.c (mark_current_machine_context): extracted from garbage_collect.\n\t  it use SET_MACHINE_STACK_END to not scan out of stack area.\n\t  it notify conservative GC information to valgrind if\n\t  --with-valgrind.\n\nSat Jul 14 14:04:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (sort_by_cmp): check if reentered.  [ruby-dev:24291]\n\nSat Jul 14 11:08:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/json/ext/generator/generator.c (check_max_nesting): wrong\n\t  format specifier.  a patch from pegacorn <subscriber.jp AT gmail.com>.\n\t  [ruby-dev:31217]\n\nSat Jul 14 02:27:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_pow): overflow detection using FIT_SQRT_LONG().\n\t  [ruby-dev:31215]\n\nSat Jul 14 02:05:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insns.def (opt_div): LONG2FIX() may not work for corner cases,\n\t  use LONG2NUM() instead.  [ruby-dev:31210]\n\nSat Jul 14 00:34:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_round): should not return false, but self.\n\t  [ruby-dev:31212]\n\nFri Jul 13 18:31:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/intern.h: remove unused function declarations.\n\n\t* include/ruby/ruby.h: ditto.\n\nFri Jul 13 17:32:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm.c (vm_free): clear free'ed living_threads field.\n\t  [ruby-dev:31163]\n\n\t* insns.def (opt_succ): use cast to shut a warning up.\n\nFri Jul 13 16:10:00 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): use ENV.to_hash to access\n\t  http_proxy environment variable to avoid case insensitive\n\t  environment search.\n\nFri Jul 13 15:02:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild): enclose command line except for\n\t  command.com which can not handle quotes.  [ruby-talk:258939]\n\nFri Jul 13 11:33:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_max, range_min): return nil for empty set as well as\n\t  1.8 and Enumerable.  [ruby-dev:31198]\n\nFri Jul 13 11:28:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (bvar): semicolon was lost for ripper description.\n\t  [ruby-dev:31140]\n\nFri Jul 13 11:25:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (program, stmt, primary): reduced duplicated code.\n\n\t* parse.y (dsym): convert also literals containing NUL to\n\t  symbol.\n\n\t* parse.y (debug_lines): use rb_hash_lookup() to get rid of\n\t  call of Hash#default.\n\n\t* parse.y (ripper_warningS): unused in ripper right now.\n\nFri Jul 13 10:33:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_flatten_bang): check argument if valid\n\t  integer.  [ruby-dev:31197]\n\nFri Jul 13 10:10:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (link_command, cc_command, cpp_command): do not expand\n\t  ::CONFIG which is an alias of MAKEFILE_CONFIG.\n\nThu Jul 12 21:38:02 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insns.def (opt_succ): use LONG_MAX as maximum Fixnum VALUE.\n\t  [ruby-dev:31199]\n\nThu Jul 12 18:42:18 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* range.c (range_max): use FIX2LONG instead of FIX2INT to avoid\n\t  RangeError by ((-0x80000001)...(-0x80000001)).max on LP64.\n\n\t* insns.def (opt_plus): use FIX2LONG instead of FIX2INT to avoid\n\t  RangeError by 0x3fffffffffffffff+1 on LP64.\n\n\t* insns.def (opt_succ): don't use 0x80000000 which assumes 32bit VALUE.\n\t  use FIX2LONG instead of FIX2INT.\n\t  [ruby-dev:31190]\n\nThu Jul 12 17:03:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* struct.c (rb_struct_init_copy): disallow changing the size.\n\t  [ruby-dev:31168]\n\nThu Jul 12 12:58:21 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* blockinlining.c: remove \"yarv\" prefix.\n\n\t* array.c, numeric.c: ditto.\n\n\t* insnhelper.ci, insns.def, vm_evalbody.ci: ditto.\n\n\t* yarvcore.c: removed.\n\n\t* yarvcore.h: renamed to core.h.\n\n\t* cont.c, debug.c, error.c, process.c, signal.c : ditto.\n\n\t* ext/probeprofiler/probeprofiler.c: ditto.\n\n\t* id.c, id.h: added.\n\n\t* inits.c: ditto.\n\n\t* compile.c: rename internal functions.\n\n\t* compile.h: fix debug flag.\n\n\t* eval.c, object.c, vm.c: remove ruby_top_self.\n\t  use rb_vm_top_self() instead.\n\n\t* eval_intern.h, eval_load: ditto.\n\n\t* gc.c: rename yarv_machine_stack_mark() to\n\t  rb_gc_mark_machine_stack().\n\n\t* insnhelper.h: remove unused macros.\n\n\t* iseq.c: add iseq_compile() to create iseq object\n\t  from source string.\n\n\t* proc.c: rename a internal function.\n\n\t* template/insns.inc.tmpl: remove YARV prefix.\n\n\t* thread.c: use rb_iseq_eval() and rb_str_new2().\n\n\t* vm.c (rb_iseq_eval): added.\n\n\t* vm.c: move some functions from yarvcore.c.\n\n\t* vm_dump.c: fix to remove compiler warning.\n\nThu Jul 12 12:24:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (opt_succ): fixed typo.  [ruby-dev:31189]\n\nThu Jul 12 10:30:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): moved prototye from thread_*.ci.\n\n\t* thread_pthread.ci (thread_start_func_2): not use a directive\n\t  inside a macro argument.  [ruby-talk:258763]\n\n\t* thread.c (thread_join): pthread_t may not be pointer.\n\n\t* thread_pthread.ci (ubf_select_each): ditto.\n\nThu Jul 12 05:32:28 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/ruby.h (FIX2ULONG): drop sign bit for LLP64 platform.\n\nTue Jul 10 19:34:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* hash.c (rb_hash_lookup): added.  this function is similar to\n\t  rb_hash_aref(), but doesn't call Hash#default when no entry\n\t  exists.\n\n\t* include/ruby/intern.h: ditto.\n\n\t* insnhelper.ci (lfp_svar_get): use rb_hash_lookup().\n\nTue Jul 10 19:16:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, insnhelper.ci, vm.c: change cref index (-1 -> 2).\n\nTue Jul 10 18:49:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (exec_under): add proper casts.\n\nTue Jul 10 16:58:16 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, insnhelper.ci: fix svar interface.\n\n\t* compile.c (iseq_compile_each), yarvcore.h: fix to use new\n\t  svar interface for flip flop.\n\n\t* eval.c: ditto.\n\n\t* insns.def: ditto.\n\n\t* include/ruby/intern.h: remove \"rb_svar()\" declaration.\n\nTue Jul 10 16:52:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (rb_iseq_compile): formatted if/else to switch statement.\n\nTue Jul 10 15:57:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/test_flip.rb: new test for flip-flop operator.\n\nTue Jul 10 14:50:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/{Makefile.sub,setup.mak}: remove surplus slash from srcdir.\n\nMon Jul  9 02:17:36 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* cont.c (cont_restore_1): workaround for x64-mswin64's SEH.\n\nSun Jul  8 02:08:53 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/json.rb, lib/json/, ext/json/: import JSON 1.1.1\n\nSat Jul  7 21:59:29 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pp.rb (PP::PPMethods#pp_hash): sort condition changed:\n\t  all keys have a same class which is kind of Comparable.\n\nSat Jul  7 17:12:37 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: use rb_bug() instead of rb_compile_error().\n\nSat Jul  7 16:12:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: fix node construction (around f_margs).\n\t  [ruby-dev:31143]\n\n\t* bootstraptest/test_block.rb: add a test for above.\n\n\t* insnhelper.ci: fix indent.\n\nSat Jul  7 15:36:50 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pp.rb (PP::PPMethods#pp_hash): sort if\n\t  all keys are strings, symbols or integers.\n\nSat Jul  7 15:30:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_yield_setup_args), vm.c, insns.def:\n\t  fix to pass nil as block parameter to yielded block.\n\t  [ruby-dev:31147]\n\n\t* bootstraptest/test_block.rb: add a test for above.\n\nFri Jul  6 19:55:10 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb.rb: typo. Thanks, Giles Bowkett.\n\n\t* lib/irb/completion.rb: support Ruby1.9 changing return value\n\t  String to Symbol for Object#methods, etc. [ruby-dev:31148].\n\nFri Jul  6 18:20:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: fix load path.\n\n\t* common.mk: fix \"test\" rule to run with \"btest\".\n\n\t* rubytest.rb, sample/test.rb: fix to show tests progress.\n\nFri Jul  6 15:37:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_iterator.rb: fix test to 1.9 spec.\n\nFri Jul  6 15:21:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_interrupt): suppress a gcc's officious warning.\n\nFri Jul  6 14:57:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (keyword_to_name): constified.\n\n\t* ext/ripper/eventids2.c (token_to_eventid): ditto.\n\nFri Jul  6 14:50:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/runner.rb: added --quiet option.\n\nFri Jul  6 14:35:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_marg): wrap f_norm_arg assignment node with NODE_LIST.\n\t  [ruby-dev:31141]\n\nFri Jul  6 12:15:01 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/sentgen.rb: new file.\n\n\t* test/ruby/test_assignment.rb: tests implemented using assignment\n\t  generator and emulator.\n\nFri Jul  6 03:06:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def: remove unused code.\n\n\t* compile.c (compile_massign): fix to invoke to_splat on\n\t  splat rhs (example: *a = *nil). [ruby-dev:31136]\n\n\t* bootstraptest/test_massign.rb: add tests for above.\n\n\t* compile.c (iseq_compile_each): disable excess optimization.\n\t  [ruby-dev:31126]\n\nFri Jul  6 02:08:25 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def: fix to invoke nil.to_splat on NODE_ARGSCAT.\n\t  [ruby-dev:31138].\n\n\t* bootstraptest/test_literal.rb: add tests for above.\n\nThu Jul  5 19:45:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h: rename rb_control_frame_t#magic to flag.\n\n\t* vm.h: add VM_FRAME_TYPE() and VM_FRAME_FLAG().\n\n\t* cont.c, insnhelper.ci, insns.def, vm.c, vm_dump.c,\n\t  vm_evalbody.ci, yarvcore.c: apply above changes.\n\nThu Jul  5 19:16:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_basicinstructions.rb: remove an assertion using\n\t  unsupported hash literal (such as {1, 2}).\n\n\t* test/ruby/test_hash.rb: ditto.\n\nThu Jul  5 19:12:22 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c: Qfalse is VALUE, not pointer.\n\nThu Jul  5 18:42:01 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): add break catch point.\n\n\t* insns.def (throw): support correct \"break\" and \"return\".\n\t  this commit achieve that \"make test\" passes all tests.\n\n\t* vm.c: ditto.\n\nThu Jul  5 18:44:12 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (mlhs_basic): use mlhs_post after tSTAR.\n\t  [ruby-dev:31109]\n\nThu Jul  5 18:27:58 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/{intern,ruby}.h, compile.[ch], error.c, eval.c,\n\t  eval_load.c, gc.c, iseq.c, main.c, parse.y, re.c, ruby.c,\n\t  yarvcore.[ch] (ruby_eval_tree, ruby_sourcefile, ruby_sourceline,\n\t  ruby_nerrs): purge global variables.\n\n\t* ruby.c (proc_options): moved do_print and do_loop options\n\t  handling from ruby_process_options().\n\nThu Jul  5 16:37:34 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (int_pow): fix previous nubu's commit.\n\n\t* test/ruby/test_fixnum.rb: new test.\n\nThu Jul  5 15:56:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (int_pow): even number multiplication never be negative.\n\nThu Jul  5 10:42:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/{node,ruby}.h, ruby.c: added enum constants for gdb\n\t  support.  [ruby-dev:31066]\n\n\t* .gdbinit: some improvements.\n\nThu Jul  5 10:13:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (global_symbols.last_id): reduce unused ID numbers.\n\n\t* include/ruby/st.h, st.c (st_init_table, st_init_table_with_size):\n\t  constified.\n\nWed Jul  4 23:36:27 2007  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/webrick/httpauth/authenticator.rb\n\t  (WEBrick::HTTPAuth::Authenticator#check_scheme): auth-scheme must be\n\t  treated as a case-insensitive token according to RFC 2617 section 1.2.\n\nWed Jul  4 18:30:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (mlhs_inner): new rule.  [ruby-dev:31132]\n\nWed Jul  4 05:11:57 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (set_relation): added.\n\nWed Jul  4 04:58:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (caller_setup_args): fix to show correct class\n\t  on an error message (ex: m(&1)). [ruby-dev:31101]\n\nWed Jul  4 04:30:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (compile_array, iseq_compile_each): fix about array\n\t  generation in void context. [ruby-dev:31102]\n\n\t* bootstraptest/test_literal.rb: add a test for above.\n\nWed Jul  4 04:07:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (compile_array): ignore NODE_ZARRAY.\n\t  [ruby-dev:31110]\n\n\t* bootstraptest/test_method.rb: add a test for above.\n\nWed Jul  4 04:04:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.h: fix debug print level.\n\nWed Jul  4 03:52:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): support v[&b]= type method call.\n\t  [ruby-dev:31094]\n\n\t* bootstraptest/test_method.rb: add a test for above.\n\nWed Jul  4 03:43:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (compile_massign): fix massign compilation\n\t  (example: a, *v, (*x) = ...).  [ruby-dev:31107]\n\n\t* bootstraptest/test_massign.rb: add tests for above.\n\nTue Jul  3 23:12:29 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/onigiruma.h (ONIG_EXTERN): use RUBY_EXTERN if defined.\n\n\t* regenc.h: include ruby/defines.h.\n\n\t* regint.h: x64-mswin64 support.\n\nTue Jul  3 13:47:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_save_machine_stack): clear saved_thread.machine_stack*.\n\nMon Jul  2 21:45:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: rename iseq_translate_direct_threaded_code()\n\t  to iseq_translate_threaded_code().\n\n\t* eval_intern.h, yarvcore.h: mv EXEC_EVENT_HOOK() and\n\t  exec_event_hooks() to yarvcore.h.\n\n\t* insnhelper.ci, vm.c: mv yarv_finish_insn_seq to vm.c.\n\n\t* insns.def (opt_call_c_function): fix to use RESTORE_REGS().\n\n\t* iseq.c (rb_iseq_build_for_ruby2cext): fix to allocate iseq.\n\nMon Jul  2 11:59:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (defineclass): suppress a warning.\n\n\t* insns.def (opt_call_c_function): should raise the thrown exception\n\t  instead of returning it.\n\nMon Jul  2 08:53:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h, yarvcore.h: move declaration of sysstack_error\n\t  to yarvcore.h.\n\n\t* iseq.c: fix symbol name (:toplevel -> :top).\n\n\t* lib/vm/instruction.rb, template/vm.inc.tmpl: replaceable\n\t  current file name.\n\nMon Jul  2 05:29:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, iseq.c: fix iseq some of load/store process.\n\nMon Jul  2 03:09:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h, compile.c, insnhelper.ci, iseq.c, vm.c:\n\t  rename structure names and field names.\n\n\t* insnhelper.h, insns.def: add GET_CONST_INLINE_CACHE().\n\n\t* iseq.c: add rb_iseq_build_for_ruby2cext().\n\n\t* yarvcore.h, vm.h: move declaration of rb_insn_func_t\n\t  to yarvcore.h.\n\nSun Jul  1 03:25:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.h, vm.h: some refactoring.\n\t  remove useless comments, etc.\n\nSun Jul  1 03:02:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h: some refactoring on rb_iseq_t.\n\t  rename some variable names, add comments, etc.\n\n\t* compile.c, iseq.c, proc.c, vm.c: ditto.\n\nSun Jul  1 02:57:57 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.h: rename insn_func_type to rb_insn_func_type.\n\n\t* vm_evalbody.ci: ditto.\n\n\t* insns.def: add opt_call_native_compiled instruction\n\t  instead of opt_call_native_compiled.\n\nSat Jun 30 00:17:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_yylex): return non-valid token for an invalid\n\t  instance/class variable name.  a patch from Yusuke ENDOH\n\t  <mame AT tsg.ne.jp>.  [ruby-dev:31095]\n\nFri Jun 29 23:38:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmts): fix for ripper.\n\nFri Jun 29 21:55:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: fix to show line number of blank block.\n\t  [ruby-dev:31093]\n\nFri Jun 29 20:51:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/cgi/session.rb (create_new_id): don't cut off md5.hexdigest to\n\t  follow Ruby 1.8.\n\nFri Jun 29 17:10:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* debug.h: constified.\n\n\t* debug.c (ruby_set_debug_option): separated from main.c.\n\n\t* gc.c (ruby_gc_stress), signal.c (ruby_enable_coredump): prefixed.\n\nFri Jun 29 16:39:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (proc_new): fix to return a proc object\n\t  which block is contained ([ruby-dev:31056]).\n\nFri Jun 29 15:43:59 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_pow): get rid of division by zero.  reported by\n\t  Yusuke ENDOH <mame AT tsg.ne.jp> [ruby-dev:31040]\n\n\t* numeric.c (int_round): do nothing when rounding by zeroth digit.\n\t  check underflow.  [ruby-dev:31043]\n\nFri Jun 29 15:32:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* configure.in: add fastcall attribute check.\n\nFri Jun 29 14:51:24 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (assoc_list): remove expanded hash literal (no splat).\n\n\t* lib/webrick/httpstatus.rb (WEBrick::HTTPStatus::EOFError): adapt\n\t  to new syntax.\n\nFri Jun 29 14:48:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/insns2vm.rb, lib/vm/instruction.rb: move process body\n\t  to lib/vm/instruction.rb.\n\n\t* common.mk: fix aotc rule.\n\t  experimental. bin/ruby2cext is not added yet.\n\nFri Jun 29 11:23:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (dsym): return non-null NODE even if yyerror().  based on a\n\t  patch from Yusuke ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:31085]\n\nThu Jun 28 23:29:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (assoc_list): odd number check only for NODE_ARRAY.\n\t  [ruby-dev:31082]\n\nThu Jun 28 22:24:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* win32/Makefile.sub: define FUNC_FASTCALL macro.\n\n\t* vm.h: fix to use FUNC_FASTCALL macro.\n\t  TODO: add FUNC_FASTCALL macro by configure.\n\nThu Jun 28 19:38:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: fix to remove -Wall warnings on gcc.\n\n\t* compile.c (make_name_with_str): removed. use rb_sprintf() instead.\n\nThu Jun 28 18:53:01 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c (rb_big_hash): fix hash area.\n\nThu Jun 28 15:00:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_getline): local variable to be\n\t  initialized.  [ruby-dev:31077]\n\nThu Jun 28 11:30:39 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (rb_obj_id): use SIGNED_VALUE instead of long.\n\nThu Jun 28 05:01:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk (run.gdb): fix to load $(srcdir)/.gdbinit\n\n\t* vm.c (rb_vm_set_finish_env): add a cast.\n\n\t* vm.h: support __fastcall for MSVC.\n\nThu Jun 28 02:12:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: fix to untouch $:.\n\nThu Jun 28 02:03:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (setup_args): change parameter type.\n\nThu Jun 28 02:03:39 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (rb_intern2): unconstify cast.\n\nThu Jun 28 01:44:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (rb_intern2): don't allocate a string object at first.\n\t  [ruby-dev:31064]\n\nThu Jun 28 01:24:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: fix to show file name.\n\n\t* bootstraptest/test_*.rb: add bootstrap tests.\n\nThu Jun 28 01:22:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/node.h, parse.y, gc.c, iseq.c: remove NODE_CREF.\n\nThu Jun 28 01:19:43 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix popped backref and others.\n\t  ([ruby-dev:31068]).\n\n\t* compile.c (iseq_compile_each): remove needless statements.\n\nWed Jun 27 23:51:33 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c: remove unused functions.\n\nWed Jun 27 20:46:05 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h, win32/Makefile.sub, win32/configure.bat,\n\t  win32/mkexports.rb, win32/setup.mak, win32/win32.c: import\n\t  x64-mswin64 port.\n\nWed Jun 27 20:31:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_translate_direct_threaded_code): fix prototype\n\t  function name.\n\n\t* vm.h: add correct cast.\n\nWed Jun 27 17:08:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_evalbody.ci: support OPT_CALL_THREADED_CODE.\n\n\t* insns.def, vm.c, vm.h: ditto.\n\n\t* vm.h: add VM_CFP_CNT() and VM_SP_CNT().\n\nWed Jun 27 04:23:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix type error.\n\nWed Jun 27 03:26:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (compile_massign), insns.def (expandarray): support\n\t  postarg with massign (a, *b, c = ...).\n\n\t* bootstraptest/test_massign.rb: add tests for above.\n\n\t* compile.h: fix debug macro names.\n\nWed Jun 27 00:18:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_clear): need to check STR_EMBED_P() before\n\t  free()ing memory.  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.\n\t  [ruby-dev:31062]\n\nTue Jun 26 16:39:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (proc_getgroups): use GIDT2NUM for rb_gid_t.\n\nTue Jun 26 16:28:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_wait_fd_rw): terminate fdset.\n\nTue Jun 26 16:26:58 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* regint.h: IL32LLP64 support.\n\nTue Jun 26 16:22:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (ruby_node_name): update node names.\n\nTue Jun 26 15:21:20 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/ruby.h: IL32LLP64 support.\n\n\t* bignum.c (bigfixize, rb_cstr_to_inum): ditto.\n\n\t* insns.def (opt_plus, opt_minus, opt_mult): ditto.\n\nTue Jun 26 15:04:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_fiber_s_new): revert initializing VM stack.\n\n\t* yarvcore.c (th_init2): ditto.\n\n\t* vm.c, vm.h: fix to stop using Qundef on VM stack.  According to\n\t  this change, VM stack should not include Qundef value.\n\n\t* insns.def (putundef): removed.\n\n\t* compile.c (iseq_compile_each): ditto.\n\n\t* eval.c (eval): fix spacing.\n\nTue Jun 26 04:03:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_yield_with_cfunc), proc.c: fix Method#to_proc\n\t  to return lambda Proc ([ruby-dev:31021], [ruby-dev:31037]).\n\nTue Jun 26 03:46:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_fiber_s_new): fix to clear rb_thread_t#tag.\n\t  [ruby-dev:30995]\n\nTue Jun 26 03:38:31 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_fiber_s_new), yarvcore.c (th_init2): fix to clear\n\t  VM stack ([ruby-dev:31046]).\n\nTue Jun 26 03:15:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: rename setup_arg() to setup_args().\n\t  fix to use setup_args() at processing NODE_YIELD.\n\nTue Jun 26 02:50:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (setup_arg): support kind of \"m(*ary, x)\" method call.\n\t  ([ruby-dev:31048]).\n\nTue Jun 26 00:28:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci, vm.c: complete block parameter support.\n\t  post arguments, optional arguments, block argument.\n\n\t* compile.c, parse.y: fix {|a|} parameter.\n\n\t* insnshelper.ci, insns.def: revert caller_setup_args() option\n\t  (need_block_check) parameter.\n\nMon Jun 25 20:18:44 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (RVALUE): in RVALUE and RBasic, flags must be the same type.\n\nMon Jun 25 18:02:55 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/pty/extconf.rb: skip wince and win64.\n\nMon Jun 25 17:59:32 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/node.h (NODE_LMASK, nd_line): shouldn't use int and/or\n\t  long carelessly.\n\nMon Jun 25 11:36:35 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.h: add RUBY_ prefix to debug macros.\n\n\t* cont.c, proc.c, yarvcore.c,\n\n\t* gc.c: define ruby_gc_debug_indent variable to debug mark/free.\n\n\t* vm.c, insnhelper.ci: rename some functions to vm_* or rb_vm_*.\n\t  move some functions, definitions, declarations to suitable files.\n\n\t* eval.c, yarvcore.h, eval_error.ci, insnhelper.ci: ditto.\n\nMon Jun 25 09:45:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_error.ci, eval_jump.ci, eval_method.ci, eval_safe.ci: c-mode.\n\nMon Jun 25 05:27:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c: remove ruby_current_node and change eval() prototype.\n\t  fix to use rb_sourcefile/line() instead of ruby_sourcefile/line.\n\n\t* error.c, eval_error.ci, eval_load.c, eval_safe.ci, gc.c,\n\t  include/ruby/intern.h, parse.y, process.c, ruby.c: ditto.\n\n\t* vm.c: fix spaces.\n\nMon Jun 25 04:20:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_*.h: rename to eval_*.ci.\n\n\t* common.mk: ditto.\n\n\t* eval_error.ci: remove ruby_set_current_source().\n\n\t* error.c, eval.c, ruby.c: ditto.\n\n\t* eval_safe.c, proc.c: remove unused macros.\n\nMon Jun 25 03:37:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (caller_setup_args): add need_block_check option.\n\n\t* insns.def: ditto.\n\n\t* yarvcore.h: add GetCoreDataFromValue().\n\nMon Jun 25 02:14:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* call_cfunc.ci: removed.\n\n\t* insnhelper.ci: added. this function includes all functions that\n\t  vm insns need.\n\n\t* common.mk: ditto.\n\n\t* insnhelper.h, vm.h, vm.c: move some declaration.\n\n\t* gc.h: remove GC_CHECK() macro because GC.stress is more useful.\n\n\t* compile.c, iseq.c, vm_dump: ditto.\n\n\t* gc.h, thread.c: move a prototype declaration.\n\n\t* debug.c, debug.h: rename some functions.\n\n\t* compile.h: ditto.\n\nMon Jun 25 00:45:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (invokesuper): fix error message.\n\nMon Jun 25 00:14:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: some refactoring.\n\t  * rename th_* to vm_*.\n\t  * remove unused variables functions.\n\t  * add prototypes.\n\n\t* blockinlining.c, compile.c, cont.c, eval.c, eval_intern.h,\n\t  eval_jump.h, eval_load.c, inits.c, insns.def, iseq.c, parse.y,\n\t  proc.c, process.c, signal.c, thread.c, vm.c, vm_dump.c,\n\t  vm_evalbody.ci, yarvcore.c, yarvcore.h: ditto.\n\nSun Jun 24 22:32:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_method.h (rb_add_method): fix to check 0.\n\nSun Jun 24 22:00:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insn_send.ci: removed.\n\n\t* common.mk: ditto.\n\n\t* vm.c (vm_call_bmethod), isnsn.def: added.  fix to use this\n\t  function instead of using goto.\n\n\t* vm.c (vm_call_bmethod): renamed from th_invoke_bmethod().\n\n\t* vm.c (vm_method_missing): renamed from eval_method_missing().\n\n\t* vm_evalbody.ci: remove tmp_* variables.\n\n\t* insnhelper.h: add some macros.\n\n\t* insns.def: forbid zsuper from method defined by define_method().\n\n\t* test/ruby/test_super.rb: ditto.\n\nSun Jun 24 20:01:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_macro.def: removed.\n\n\t* insn_send.ci: added.  this file includes send instruction body.\n\n\t* common.mk: ditto.\n\n\t* insns.def: ditto.\n\n\t* tool/insns2vm.rb: ditto.\n\n\t* vm.c: ditto.\n\nSun Jun 24 19:30:37 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.h (RESTORE_REGS): add do/while(0) around macro.\n\n\t* vm.c, vm_macro.def: remove macro_eval_invoke_func() and\n\t  add vm_setup_method().  use it instead.\n\nSun Jun 24 19:02:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_macro.def : remove macro_eval_invoke_cfunc() and\n\t  add vm_call_cfunc().\n\nSun Jun 24 17:54:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def, vm.c: add/fix stack overflow check.\n\nSun Jun 24 17:28:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.h: change CHECK_STACK_OVERFLOW() to throw exception.\n\n\t* vm.c (caller_setup_arg), vm_macro.def: remove\n\t  macro_eval_setup_send_arguments and add caller_setup_arg().\n\n\t* insns.def: ditto.\n\n\t* bootstraptest/test_method.rb: add splat arg tests.\n\nSun Jun 24 16:35:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (proc_to_s): used a variable before initialized.\n\nSun Jun 24 16:05:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (callee_setup_arg): added.  support correct post arg.\n\n\t* vm_macro.def (macro_eval_invoke_func): fix to use\n\t  callee_setup_arg.\n\n\t* compile.c (set_arguments): adjust for above changes.\n\n\t* compile.c (iseq_compile_each): ditto.\n\n\t* iseq.c (ruby_iseq_disasm): ditto.\n\n\t* yarvcore.h: add rb_iseq_t#post_arg_start and arg_size.\n\n\t* bootstraptest/test_method.rb: add post arg tests.\n\nSun Jun 24 16:10:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (proc_to_s): suppress warning, and reduced duplicated code.\n\nSun Jun 24 15:33:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: set default directory to\n\t  '/tmp/bootstraptest.tmpwd' and add --dir option.\n\t  fix to output driver and target information.\n\n\t* common.mk: fix to run btest on BASERUBY and\n\t  add OPTS to pass option (\"make btest OPTS=...\").\n\nSun Jun 24 03:05:00 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* enum.c (enum_minmax): fix SEGV by [].minmax.\n\nSat Jun 23 17:18:19 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (match_inspect): MatchData#inspect implemented.\n\nSat Jun 23 15:00:16 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_minmax): new method to get the minimum and maximum\n\t  values from the enumerable at once.\n\n\t* enum.c (enum_minmax_by): ditto.\n\nSat Jun 23 01:25:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_assoc): new method.\n\n\t* hash.c (rb_hash_rassoc): ditto.\n\n\t* hash.c (rb_hash_flatten): ditto.\n\nFri Jun 22 23:55:59 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_upto): add optional argument to specify\n\t  exclusiveness.\n\n\t* range.c (range_step): use String#upto with optional argument.\n\n\t* range.c (range_each): ditto.\n\nFri Jun 22 19:55:51 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* proc.c (proc_to_s): revert the change from %p to %lx at YARV\n\t  merge time.\n\nFri Jun 22 19:33:49 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* proc.c (proc_to_s): show is_lambda.\n\nThu Jun 21 20:36:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_sort): remove hash specific implementation.\n\nThu Jun 21 20:28:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_select): returns new hash, not assoc array.\n\t  [ruby-core:11504]\n\n\t* hash.c (env_select): ditto.\n\nThu Jun 21 23:08:19 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (rb_intern2): ID_JUNK test based on len, not by NUL.\n\nThu Jun 21 19:42:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* yarvcore.c (rb_thread_mark): mark also thrown_errinfo.\n\nThu Jun 21 17:13:44 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_intern2): name may not be NUL-terminated.\n\nWed Jun 20 08:27:57 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval_error.h (error_print): show full stacktrace on\n\t  non-SystemStackError.\n\nWed Jun 20 04:45:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_intern2): use rb_intern2 to intern without trailing\n\t  equal sign.\n\n\t* parse.y (rb_intern2, ripper_id2sym): fixed indent.\n\nTue Jun 19 10:55:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_load.c (load_ext, rb_require_safe): pass VALUE instead of\n\t  pointer.  [ruby-Bugs-11659]\n\nMon Jun 18 08:47:54 2007  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* ext/openssl/{extconf.rb,ossl_ssl_session.c}:\n\t  Fix ruby-Bugs-11513.\n\n\t* ext/openssl/ossl_pkey_ec.c\n\t  New methods EC::Point.[eql,make_affine!,invert!,on_curve?,infinity?]\n\t  By default output the same key form as the openssl command.\n\n\t* ext/openssl/ossl_rand.c\n\t  New method Random.status?\n\n\t* test/openssl/test_ec.rb\n\t  New tests.\n\nMon Jun 18 17:04:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_load.c (rb_require_safe, ruby_init_ext): load with ruby level\n\t  cfp.  [ruby-core:10779]\n\n\t* eval_intern.h, vm.c (rb_vm_call_cfunc): new function to call a\n\t  function with ruby level cfp.\n\nMon Jun 18 16:57:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (yycompile): disable trace while creating ruby_debug_lines.\n\t  [ruby-talk:253586]\n\n\t* thread.c (ruby_suppress_tracing): new function to call a function\n\t  with suppressing trace.\n\n\t* lib/debug.rb, lib/tracer.rb: for YARV.\n\nMon Jun 18 13:54:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): return EXIT_FAILURE if any exceptions occurred\n\t  in at_exit blocks.  [ruby-core:11263]\n\nMon Jun 18 02:49:16 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (env_mark): fix to mark block.proc.\n\n\t* vm.c (th_make_proc_from_block): set created proc to block->proc.\n\nMon Jun 18 02:48:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_dump.c (vm_stack_dump_raw): hide VM stack trace.\n\nMon Jun 18 02:43:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* signal.c (sigsegv): clear gc_stress flag on SEGV.\n\nMon Jun 18 01:14:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (rb_path2class): get rid of dangling pointer caused by\n\t  optimized out value.\n\n\t* variable.c (rb_global_entry, rb_f_untrace_var, rb_alias_variable,\n\t  rb_generic_ivar_table, generic_ivar_get, generic_ivar_set,\n\t  generic_ivar_defined, generic_ivar_remove, rb_mark_generic_ivar,\n\t  rb_free_generic_ivar, rb_copy_generic_ivar,\n\t  rb_obj_instance_variables): suppress warnings.\n\nSun Jun 17 11:11:07 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (rb_method_missing): avoid a warning \"too many arguments\n\t  for format string\" on \"./ruby -ve 'def m() super end; m'\".\n\nSat Jun 16 22:24:17 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (garbage_collect): re-introduce ruby_current_node marking code.\n\t  [ruby-dev:31005]\n\nSat Jun 16 21:37:43 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (gc_sweep): re-introduce heap extension strategy change.\n\t  [ruby-dev:31005]\n\nFri Jun 15 22:59:37 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* .gdbinit: new file to ease debugging using gdb.\n\nFri Jun 15 22:33:55 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* signal.c (default_handler): func argument removed.\n\t  (trap_handler): support SYSTEM_DEFAULT.  call default_handler\n\t  internally.\n\t  (sig_trap): don't call default_handler.\n\t  [ruby-dev:30999]\n\nFri Jun 15 22:33:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (realclean): separate local and ext.\n\n\t* ext/extmk.rb: not remove unrelated directories.\n\nFri Jun 15 20:50:02 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* keywords: enclose C code in declaration section by %{ and %} to\n\t  avoid extra semicolon after #ifdef RIPPER.\n\t  pointed by eban.\n\nFri Jun 15 18:56:52 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* signal.c (trap_handler): trap(\"SIGSEGV\", \"DEFAULT\") may cause wrong\n\t  trap error because SIG_DFL may be zero.\n\nFri Jun 15 15:55:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (setconstant, toregexp): fix to mark object correctly.\n\nFri Jun 15 13:24:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* hash.c: exchange semantics of Hash#each and Hash#each_pair.\n\t  pointed out by [ruby-dev:30997].\n\n\t* test/ruby/test_iterator.rb: ditto.\n\n\t* test/ruby/test_yield.rb: ditto.\n\nFri Jun 15 12:38:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_iterator.rb: remove debug code (GC.stress=true).\n\nFri Jun 15 12:25:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (th_yield_setup_args): |v| should work as |v,|.\n\t  ex) def m;yield 1, 2; end; m{|v| p v} #=> 1\n\n\t* parse.y: apply above change for \"for\" statement.\n\n\t* test/ruby/test_assignment.rb: ditto\n\n\t* test/ruby/test_basicinstructions.rb: ditto.\n\n\t* test/ruby/test_iterator.rb: ditto.\n\n\t* test/ruby/test_yield.rb: ditto.\n\n\t* compile.c (iseq_compile_each): fix debug.\n\nFri Jun 15 12:22:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (ruby_finalize_1): rb_thread_t#errinfo should be clear with\n\t  Qnil.\n\nFri Jun 15 12:20:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_cont_call): forbid cross fiber continuation call.\n\n\t* test/ruby/test_fiber.rb: ditto.\n\nFri Jun 15 12:14:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* sample/test.rb: fix to show line information whether test succeeds.\n\nThu Jun 14 17:16:05 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval_load.c (Init_load): delay allocating an array for rb_load_path\n\t  to avoid GC problem in very early stage.\n\t  (RUBY_GC_STRESS causes GC in such stage.)\n\n\t* variable.c (rb_gc_mark_global_tbl): rb_global_tbl may be 0 in\n\t  very early stage.\n\n\t* thread.c (thread_cleanup_func) [IA64]: clear register stack position.\n\t  (thread_start_func_2) [IA64]: record the beginning of register\n\t  stack using extra argument.\n\t  (rb_gc_save_machine_context) [IA64]: record the end of register\n\t  stack.\n\n\t* gc.c [IA64] (SET_STACK_END): record the end of register stack.\n\t  (garbage_collect) [IA64]: use recorded register stack area for\n\t  GC marking.\n\t  (yarv_machine_stack_mark) [IA64]: GC mark from the register stack\n\t  area.\n\n\t* yarvcore.c [IA64] (rb_gc_register_stack_start): defined.\n\t  (Init_VM): store th->self on stack to fix GC problem.\n\t  (Init_yarv) [IA64]: initialize the beginning of register stack.\n\n\t* yarvcore.h (struct rb_thread_struct) [IA64]: new members for\n\t  register stack area.\n\n\t* thread_pthread.ci (thread_start_func_1) [IA64]: call\n\t  thread_start_func_2 with the end of register stack.\n\n\t* cont.c (struct rb_context_struct) [IA64]: new members for register\n\t  stack area.\n\t  (cont_mark) [IA64]: GC mark from register stack area.\n\t  (cont_free) [IA64]: free saved register stack.\n\t  (cont_save_machine_stack) [IA64]: record the position and contents\n\t  of the register stack.\n\t  (cont_capture): store cont->self on stack to fix GC problem.\n\t  (cont_restore_1) [IA64]: restore the register stack.\n\t  [IA64] (register_stack_extend): new function.\n\t  (cont_restore_0) [IA64]: call register_stack_extend instead of\n\t  cont_restore_1.\n\n\t[ruby-dev:30982]\n\nThu Jun 14 17:09:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser): handle more\n\t  extensions.  [ruby-dev:30972]\n\nThu Jun 14 14:40:42 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/securerandom.rb: document updated.\n\t  suggested by NaHi.  [ruby-dev:30966]\n\nWed Jun 13 22:42:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (garbage_collect): update IA64 register stack code.\n\t  [ruby-dev:30971]\n\nWed Jun 13 06:05:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (darwin): prohibit loading extension libraries to\n\t  miniruby.\n\nTue Jun 12 21:50:51 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (call_args): no allow splat after assocs.  takes\n\t  consistency over compatibility.\n\n\t* parse.y (call_args2): ditto\n\nTue Jun 12 14:53:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (Logging.quiet, Logging.message): added quiet flag and\n\t  use it.  [ruby-core:10909]\n\n\t* lib/mkmf.rb (find_header): use header names in the message.\n\nSun Jun 10 18:37:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/probeprofiler/probeprofiler.c: clean warnings.\n\nSun Jun 10 18:32:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/isinf.c, missing/dup2.c, missing/strtod.c, missing/x68.c,\n\t  missing/alloca.c: use \"ruby/config.h\".\n\nSun Jun 10 17:49:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (install_recursive): should check parent directories of\n\t  the destination.  [ruby-dev:30947]\n\nSun Jun 10 16:59:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (do_block, brace_block): fix line numbers.  [ruby-dev:30831]\n\nSun Jun 10 16:57:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (install_recursive): add :glob option rather than\n\t  using FNM_DOTMACH.\n\n\t* instruby.rb (ext-comm): make header directory first.\n\nSun Jun 10 16:10:58 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb: typo.\n\nSun Jun 10 16:07:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (install_recursive): skip .svn directories.\n\nSun Jun 10 15:44:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.status): rubyhdrdir was missing.\n\nSun Jun 10 15:26:36 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* Makefile.in: use --output-file for gperf to not leave lex.c.tmp.\n\nSun Jun 10 15:11:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, win32/Makefile.sub (XCFLAGS): -I. is needed for *.inc.\n\n\t* ext/extmk.rb: prepend also topdir to mflags at last.\n\nSun Jun 10 13:47:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb (test_should_propagate_signaled):\n\t  get rid of invoking shell.  [ruby-dev:30942]\n\nSun Jun 10 12:56:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby: moved public headers.\n\n\t* instruby.rb (install_recursive): skip backup files.\n\n\t* instruby.rb (ext-comm): install only current platform headers.\n\nSun Jun 10 10:42:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/securerandom.rb: renamed from lib/secrand.rb.\n\t  suggested by NaHi.  [ruby-dev:30934]\n\nSat Jun  9 06:40:05 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/secrand.rb: rename SecRand() to SecRand.random_number.\n\t  suggested by NaHi.  [ruby-dev:30934]\n\nFri Jun  8 16:34:20 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/zlib/zlib.c (gzfile_s_open): use FilePathValue to support\n\t  to_path.\n\nFri Jun  8 16:11:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_jump.h: th->errinfo should clear with nil.\n\nFri Jun  8 14:53:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (call_args): allow splat argument after unpacked\n\t  assocs like 1.8 does.\n\n\t* parse.y (call_args): ditto.\n\nFri Jun  8 14:26:18 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/secrand.rb: new file for secure random interface.\n\n\t* lib/cgi/session.rb: use secrand for generating cookies.\n\nFri Jun  8 12:44:37 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {win32,wince}/Makefile.sub: add lex.c rule.\n\nFri Jun  8 11:54:18 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lex.c.blt: moved from lex.c.\n\n\t* Makefile.in: use lex.c.blt if gperf is not available.\n\t  [ruby-list:8212], [ruby-list:8214], [ruby-list:24667],\n\t  [ruby-talk:120857], [ruby-dev:28102]\n\nThu Jun  7 21:38:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_execute_interrupts): invoke ensure when\n\t  main thread exits.\n\nThu Jun  7 19:02:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pp.rb: call original \"method\" method instead of redefined one.\n\nThu Jun  7 17:20:57 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (prepare_iseq_build): freeze filename and name string.\n\n\t* variable.c: freeze class name string.\n\nThu Jun  7 12:48:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_restore_1): fix to check root fiber [ruby-dev:30911].\n\n\t* test/ruby/test_fiber.rb: add a test.\n\nThu Jun  7 07:24:36 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/json/common.rb: Ponder offering parse! method.\n\n\t* lib/json/editor.rb: be a bit more robust while loading data.\n\n\t* ext/json/ext/{generator,parser}/extconf.rb:\n\t  add a have_header directive for st.h\n\n\t* test/json: fix some tests.\n\nThu Jun  7 03:29:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test_fiber.rb: add a test (Continuation and Fiber).\n\nThu Jun  7 03:17:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_new): add debug message.\n\n\t* cont.c (cont_restore_1): copy stack information from fiber.\n\n\t* cont.c (rb_fiber_s_new): fix to mark created fiber.\n\n\t* test/ruby/test_fiber.rb: add some tests around Thread and Fiber.\n\n\t* yarvcore.c (thread_free): fix to skip freeing stack if root fiber\n\t  is available.\n\nThu Jun  7 01:03:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h, eval.c (ruby_init): remove POP_TAG_INIT().\n\n\t* cont.c (rb_fiber_start): remove zero-clearing tag.\n\nWed Jun  6 20:23:46 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (invokeblock): fix of splat argument.\n\t  (splat same as normal method dispatch)\n\nWed Jun  6 16:27:25 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insns.def: fixed indentation.\n\nWed Jun  6 10:58:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_yield): fix to check Qundef.\n\nWed Jun  6 10:57:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_continuation.rb: add a test for last commit.\n\nWed Jun  6 10:55:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_cont_call): forbid calling dead fiber with\n\t  Continuation#call.\n\nWed Jun  6 10:50:01 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix around yield arguments\n\t  (with NODE_ARGSCAT).\n\nWed Jun  6 02:50:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_fiber_start): clear th->tag and check error to fix\n\t  [ruby-dev:30888] and [ruby-dev:30889].\n\n\t* eval_intern.h: fix rb_fiber_start() prototype.\n\n\t* test/ruby/test_fiber.rb: add tests for above.\n\nWed Jun  6 02:40:20 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insnhelper.h, insns.def (DEC_SP): shouldn't use unary minus operator\n\t  in pointer operation. some compilers (such as VC++8 x64) cannot deal\n\t  it with expected way.\n\nWed Jun  6 02:19:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y (new_yield), compile.c (iseq_compile_each): fix\n\t  passing parameter.\n\n\t* eval.c, eval_jump.h: simplify rb_yield*.\n\n\t* proc.c (proc_mark): fix to mark proc->block.proc.\n\n\t* proc.c (Init_Proc): add Proc#lambda?\n\n\t* test/ruby/test_lambda.rb: add some tests.\n\n\t* vm.c (invoke_block): fix to check lambda block or not.\n\n\t* vm.c (th_yield_setup_args): fix to check arguments size\n\t  when lambda block.\n\nTue Jun  5 16:30:38 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_p): returns arguments to intervene.  [ruby-dev:29736]\n\nTue Jun  5 14:07:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (invokeblock): check block is created by lambda\n\t  or Proc.new.\n\n\t* vm.c (block_proc_is_lambda): added.\n\nTue Jun  5 14:47:52 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/pp.rb (PP::PPMethods::seplist): revert last change to work\n\t  around wrapper bug.  [ruby-dev:30840]\n\nTue Jun  5 14:11:15 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (kanji_convert): Fix guess fallback.\n\nTue Jun  5 13:32:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c, dir.c, eval.c, eval_jump.h, eval_method.h, numeric.c,\n\t  pack.c, parse.y, re.c, thread.c, vm.c, vm_dump.c, call_cfunc.ci,\n\t  thread_pthread.ci, thread_win32.ci: fixed indentation.\n\n\t* call_cfunc.ci: protoized.\n\n\t* thread_win32.ci: fixed typo.\n\nTue Jun  5 13:17:11 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* call_cfunc.ci, compile.c, dir.c, eval.c, eval_jump.h, numeric.c,\n\t  pack.c, re.c, thread.c, thread_win32.ci, vm.c, vm_dump.c: fixed\n\t  indentation.\n\nMon Jun  4 21:15:45 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/json.rb, lib/json, ext/json, test/json:\n\t  import JSON library.\n\n\t* ext/nkf: import nkf.c rev:1.124\n\t  Support CP10001.\n\nMon Jun  4 20:52:58 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_round): should not just truncate.\n\nSat Jun  2 16:48:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (Fiber#pass): rename to Fiber#yield.  Block parameter\n\t  of fiber body receive first yield values.\n\t  e.g.: Fiber.new{|x| p x}.yield(:ok) #=> :ok\n\n\t* cont.c: rename rb_context_t#retval to rb_context_t#value.\n\n\t* test/ruby/test_fiber.rb: ditto.\n\nSat Jun  2 16:45:21 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (Init_Proc): remove a line break.\n\nSat Jun  2 01:27:27 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_round): small optimization to handle bignums.\n\nFri Jun  1 13:02:35 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insnhelper.h (INC_SP): shouldn't cast ``x'' to unsigned type because\n\t  it might be a negative value.\n\n\t* insnhelper.h, insns.def: shouldn't use unary minus operator in index\n\t  operator. some compilers (such as VC++8 x64) cannot deal it with\n\t  expected way.\n\nFri Jun  1 11:33:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (num_round): should convert self to Float.\n\t  [ruby-dev:30860]\n\nFri Jun  1 02:01:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (flo_round): now takes optional argument to specify\n\t  number of digits, like round() in Python/PHP.\n\n\t* numeric.c (num_round): ditto.\n\nFri Jun  1 01:58:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (each_with_index_i): should work well with continuation.\n\t  a patch from sheepman <sheepman AT sheepman.sakura.ne.jp>.\n\t  [ruby-dev:30846]\n\nThu May 31 17:27:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/benchmark.rb (Benchmark::Job::item): avoid modifying the\n\t  argument unintentionally.  [ruby-talk:253676]\n\nWed May 30 14:43:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_capture): store all local variables in heap\n\t  ([ruby-dev:30832]).\n\n\t* vm.c (th_stack_to_heap): added.\n\n\t* test/ruby/test_continuation.rb: add a test for above.\n\n\t* eval_intern.h (th_get_ruby_level_cfp): fix to clean code.\n\nWed May 30 13:32:34 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (ResponseParser#next_token): fixed\n\t  error message.\n\n\t* lib/net/imap.rb (ResponseParser#parse_error): fixed\n\t  the condition not to refer @token.symbol unexpectedly.\n\t  Thanks, Dick Monahan.\n\nWed May 30 13:24:33 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb (Net::FTP#transfercmd): skip 2XX\n\t  responses for some FTP servers.\n\nWed May 30 04:18:37 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval_cmd): just return if no exceptions.\n\t  [ruby-dev:30820]\n\nWed May 30 02:14:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (interrupt_init): needs to pass nil for Interrupt.\n\t  [ruby-core:11038]\n\n\t* signal.c (trap): fixed segfaults.  [ruby-dev:30830]\n\nWed May 30 00:50:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_source_filename, obj_free): suppress warnings.\n\n\t* gc.c (garbage_collect, yarv_machine_stack_mark): fixed typo.\n\t  http://bugs.debian.org/426267\n\nWed May 30 00:24:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (open_args, arg_ambiguous, parser_warning): should not use\n\t  rb_warning in the parser.\n\nTue May 29 12:31:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_opendir): removed duplicated code.\n\nTue May 29 10:55:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: fix bug around Continuation and Fiber.\n\n\t* test/ruby/test_continuation.rb: add tests for Continuation.\n\nTue May 29 10:54:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_opendir, rb_w32_readdir): eliminate magic\n\t  numbers.\n\nMon May 28 10:27:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cont.c: fixed a function name.\n\nMon May 28 03:56:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: support Fiber.  Check test/ruby/test_fiber.rb for detail.\n\t  Fiber is known as \"Micro Thread\", \"Coroutine\", and other terms.\n\t  At this time, only Fiber#pass is supported to change context.\n\t  I want to know more suitable method name/API for Fiber (... do you\n\t  know more suitable class name instead of Fiber?) as \"suspend/resume\",\n\t  \"call\", \"yield\", \"start/kick/stop/restart\", ....\n\n\t* eval.c, eval_intern.h, thread.c, yarvcore.c, yarvcore.h: ditto.\n\nSat May 26 00:38:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_exec_internal): do nothing if no code.\n\n\t* compile.c (rb_iseq_compile): check node if NULL before check\n\t  nd_type.  [ruby-talk:252956]\n\nSat May 26 00:05:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb (test_should_propagate_signaled):\n\t  skip tests for exitstatus and termsig on the platforms where\n\t  signals not supported.\n\nFri May 25 16:04:47 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* yarvcore.c (Init_VM): wrap already initialized structs to use\n\t  it directly.\n\nFri May 25 11:09:47 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* regint.h (include): on some platform, defines.h redefines\n\t  SIZE_OF_LONG_LONG so shouldn't re-include config.h after included\n\t  defines.h.\n\n\t* regint.h (vsnprintf): ruby on windows already have vsnprintf macro.\n\nThu May 24 12:07:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: check across trap violation.\n\n\t* eval.c, yarvcore.h: ditto.\n\nThu May 24 11:46:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c, yarvcore.c: fix to mark VM structure on startup.\n\n\t* yarvcore.h: disable USE_CACHED_VALUE.\n\nThu May 24 01:54:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: support callcc which everyone love.\n\t  incomplete. please give me bug reports.\n\n\t* common.mk, inits.c, thread.c: ditto.\n\n\t* yarvcore.c: export thread_mark().\n\n\t* yarvcore.h: disable value cache option.\n\n\t* eval_intern.h: set th_get_ruby_level_cfp to inline.\n\nWed May 23 15:39:02 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* common.mk: add a rule for regsyntax.c.\n\nWed May 23 10:31:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* oniguruma.h: updated to Oniguruma 5.7.0.\n\n\t* regsyntax.c, unicode.c: new files along with Oniguruma 5.x.\n\nWed May 23 06:51:46 2007  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI#[]): get rid of exceptions being raised.\n\t  [ruby-dev:30740], Thanks Kentaro KAWAMOTO.\n\nWed May 23 05:49:49 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, ext/purelib.rb, lib/mkmf.rb, runruby.rb: clear default\n\t  load path to get rid of load pre-installed extensions/libraries.\n\t  [ruby-core:11017]\n\nTue May 22 16:37:36 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (set_arg0): support RSTRING_LEN on HP-UX.  a patch from\n\t  WATANABE Tetsuya <Tetsuya.WATANABE AT nifty.com>.  [ruby-dev:30806]\n\nMon May 21 13:40:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, vm_macro.def: support tail call optimization\n\t  (on default, this feature is not enabled).\n\n\t* iseq.c, compile.c, vm_opts.h: add \"tailcall_optimization\"\n\t  option.\n\n\t* sample/test.rb (test_ok): fix to adjust tailcall stack layout.\n\n\t* insns.def, vm.c, compile.c, yarvcore.c, yarvcore.h:\n\t  add opt_gt, opt_le instructions.\n\nMon May 21 03:34:06 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: CRAM-MD5 authentication did not work.\n\t  [ruby-dev:30770]\n\nSat May 19 10:26:01 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (Date._parse): detects some OFX dates\n\t  (Of course not fully).\n\nSat May 19 03:08:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_inject): minor improvement.  [ruby-dev:30792]\n\n\t* enum.c (one_i): no needs to iterate once the result became false.\n\n\t* enum.c (enum_one): fix for an example.\n\n\t* enum.c (one_iter_i, none_iter_i): DRY.;\n\nSat May 19 01:07:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_inject): it is now can work without block.  you\n\t  have to specify two argument method name as the first argument.\n\n\t* enum.c (Init_Enumerable): reduce is new alias to inject.\n\nSat May 19 01:05:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (Init_File): method definition mismatch.\n\nFri May 18 16:44:04 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (Init_File): add to_path method to File objects.\n\nFri May 18 11:12:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (DllMain, ruby_init_loadpath): use DLL instance handle given\n\t  to DllMain instead of VirtualQuery so that loadpath becomes relative\n\t  from the DLL on WinCE too.\n\nThu May 17 17:03:11 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-label-indent): for yacc rules.\n\nThu May 17 13:30:27 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_arg): remove typo from ripper description.\n\nThu May 17 13:23:38 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y, compile.c (set_arguments): fix to support in-paren\n\t  parameter (ex: def foo((a, b))).\n\nThu May 17 13:01:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (ruby_iseq_disasm): fix to show post arg info.\n\nThu May 17 12:56:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* debug.c (ruby_debug_node): fix to show node line.\n\nWed May 16 21:48:44 2007  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb (Logger::Application): remove meaningless logdev\n\t  attribute and added logger attribute instead.  [ruby-core:11143]\n\t  also added Logger#formatter rdoc comment.\n\nTue May 15 16:40:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb (test_endblockwarn): now parser\n\t  warnings emit source names and line numbers.\n\nTue May 15 15:01:38 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (init_stdhandle): stderr should be without buffering,\n\t  but mswin32 use buffering when stderr is not connected to tty.\n\nMon May 14 02:12:07 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_zip): a.zip(b,c) should return an array, not\n\t  enumerator.\n\n\t* array.c (rb_ary_zip): a.zip(b,c) should return array with size\n\t  truncated to the size of its shortest argument array.\n\t  [incompatible]\n\nMon May 14 01:54:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_choice): should return nil when the array is\n\t  empty.\n\nSat May 12 18:26:36 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (tokens): forgot to add strip. [ruby-core:11120]\n\n\t* test/net/http/test_http.rb: test Net::HTTP.post_form.\n\nFri May 11 15:27:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* iseq.c (iseq_data_to_ary): internal IDs must not be exposed.\n\t  [ruby-core:11073]\n\n\t* parse.y (internal_id_gen): now returns scope local ID instead of\n\t  global one.\n\nThu May 10 15:15:53 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_super.rb: add tests.\n\nThu May 10 15:14:05 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_s_conv): rdoc fix.\n\nThu May 10 15:09:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (POINTER_P): pointer may be larger than long.\n\n\t* parse.y (vtable_size, vtable_included, vtable_tblcpy,\n\t  vtable_to_tbl): constified.\n\nThu May 10 10:13:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_priority): rdoc fix; the initial value is\n\t  inherited from the creating thread.  [ruby-core:10607]\n\nWed May  9 12:28:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (Init_Bignum), numeric.c (Init_Numeric): added fdiv as\n\t  aliases of quo.  [ruby-dev:30771]\n\nTue May  8 23:39:09 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (Date._parse): revised treatment of\n\t  hyphened/separatorless dates.\n\n\t* lib/date/format.rb: some trivial adjustments.\n\nTue May  8 20:23:07 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: reverted.\n\nTue May  8 19:32:18 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/rational.rb: fix high-precision Rationals cannot be\n\t  converted to Floats. [ruby-Bugs:10502], [ruby-core:11069],\n\t  [ruby-dev:30743]\n\nMon May  7 10:59:55 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/image.rb, test/rss/test_image.rb: fixed Image module\n\t  namespace URI. reported by Dmitry Borodaenko. Thanks.\n\nSun May  6 18:44:11 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (Net::HTTP.post_form): allow an Array of String\n\t  for pairs argument. [ruby-Bugs:10340]\n\n\t* lib/net/http.rb (Net::HTTP#set_form_data): ditto.\n\nSun May  6 17:54:36 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: Connection header field might include both of\n\t  \"keep-alive\" token and \"close\" token. [ruby-core:10818]\n\nSat May  5 16:26:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/date/format.rb (Format::Bag#method_missing): get rid of\n\t  modifying original argument.  [ruby-core:11090]\n\nThu May  3 22:20:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, defines.h, eval_load.c (rb_feature_p, rb_provided,\n\t  search_required, rb_require_safe), ext/extmk.rb: Fix\n\t  a bug where a statically linked extension cannot be autoloaded.\n\t  [ruby-dev:30023] / [ruby-dev:30239]\n\n\t* thread.c: added an internal class, Barrier.\n\n\t* thread.c: copied rdocs from fastthread.\n\n\t* yarvcore.h (struct rb_vm_struct): moved loading_table from global.\n\nThu May  3 18:10:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_evalbody.ci, insns.def, vm.c, tool/insns2vm.rb (rb_num_t):\n\t  renamed to get rid of name clash.  [ruby-dev:30504]\n\n\t* yarvcore.c (ruby_thread_init): ditto.\n\nWed May  2 18:52:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, yarvcore.h, yarvcore.c, insns.def: fix to mark VM stack\n\t  in correct range.\n\nWed May  2 17:13:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_quo): now calculate in integer.  [ruby-dev:30753]\n\nWed May  2 15:14:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_method.h: add redefine checks ([ruby-dev:30751]).\n\nWed May  2 11:22:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: use Qtrue instead of 2.\n\n\t* vm.c, insns.def: support \"lambda\" calling convention.\n\nWed May  2 06:46:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c, parse.y, ruby.h (rb_compile_warn, rb_compile_warning): warn\n\t  for compilation.  the parser should no longer use rb_warn() and\n\t  rb_warning().  [ruby-dev:30121]\n\nWed May  2 05:45:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (assoc): result of assoc_new needs to be an assoc.\n\nWed May  2 05:40:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): improvement by calculating from MSB and using\n\t  factorization.  <http://yowaken.dip.jp/tdiary/20070426.html#p01>\n\nTue May  1 18:45:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* sample/test.rb: import matzruby's sample/test.rb.\n\nTue May  1 17:46:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_choice): a new method to choose an element\n\t  randomly from an array.\n\n\t* array.c (rb_ary_choice): fixed mistake from RDoc.\n\nTue May  1 13:59:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (proc_arity): fix an arity bug ([ruby-core:11060]).\n\nTue May  1 13:12:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h, compile.c (set_arguments): support post arguments.\n\n\t* test/ruby/test_method.rb: add tests for above.\n\n\t* test/ruby/test_proc.rb: ditto.\n\n\t* proc.c: fix an arity bug ([ruby-core:11029]).\n\n\t* vm.c, vm.h, insns.def, vm_dump.h: fix bmethod process.\n\n\t* vm.c: support block argument on block parameter.\n\nFri Apr 27 17:05:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (int_pow): bugfix of overflow detection.\n\n\t* numeric.c (int_pow): rb_big_pow() may return other than Bignum.\n\nFri Apr 27 01:51:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: support multiple splat (e.g, [a, *b, *c, e, *f]).\n\nFri Apr 27 00:03:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): truncate all zero BDIGITs. [ruby-dev:30733]\n\nThu Apr 26 17:31:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): reduce multiplying for even number.\n\n\t* numeric.c (int_pow): calculate power in Fixnum as possible.\n\t  [ruby-dev:30726]\n\nThu Apr 26 17:18:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y: fixes for ripper.\n\n\t* parse.y (primary): reduced duplicated code.\n\n\t* parse.y (f_arg_item): should not override by meaningless value.\n\n\t* parse.y (f_arg, assocs): should not use $$ before assigned.\n\n\t* parse.y (assoc_list): dispatch assoclist_from_args for assocs as\n\t  well as args.\n\n\t* parse.y (assoc): return assoc if dispatched result is $1.\n\nThu Apr 26 13:54:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el: new file.  C/C++ style for ruby source code.\n\nWed Apr 25 19:49:16 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (unix_send_io, unix_recv_io): use CMSG_DATA to\n\t  align file descriptor appropriately.\n\nWed Apr 25 15:23:29 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (NtInitialize, exit_handler): add initializing and\n\t  cleanup of critical section object for select.\n\n\t* win32/win32.c (do_select): block reentrance.\n\n\t* win32/win32.c (rb_w32_select): 0 sec polling of socket. this is\n\t  workaround because winsock cannot do select at same socket at the\n\t  same time by two or more threads.\n\nWed Apr 25 14:10:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/probeprofiler/probeprofiler.c: fix function name and\n\t  return value.\n\nWed Apr 25 12:42:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h: remove rb_control_frame_t#callee_id.\n\n\t* vm_macro.def: ditto.\n\n\t* eval_intern.h (exec_event_hooks): fix to check event flags\n\n\t* eval_intern.h (EXEC_EVENT_HOOK): fix to re-check event flags.\n\n\t* ext/probeprofiler : added.  this profiler is sampling based\n\t  profiler.\n\n\t* vm.c: add rb_thread_current_status() API for probeprofiler.\n\n\t* thread.c (rb_thread_execute_interrupts): add comments.\n\nWed Apr 25 10:36:03 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_intern.h (PUSH_TAG): no argument now.\n\n\t* eval.c, eval_error.h, eval_jump.h, eval_load.c, proc.c, thread.c:\n\t  ditto.\n\n\t* thread.c (alloc_event_hook, rb_thread_remove_event_hook): should\n\t  return value.\n\nTue Apr 24 09:33:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (do_stat, do_lstat, do_opendir): should not warn ENOTDIR.\n\t  [ruby-talk:248288]\n\nMon Apr 23 22:14:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb ($ruby): add extout directory to include path.\n\t  [ruby-core:11003]\n\n\t* lib/mkmf.rb (libpathflag): not to append RPATHFLAG to current\n\t  directory.\n\n\t* lib/mkmf.rb (init_mkmf): add current directory to default\n\t  library path with highest priority.  [ruby-core:10960]\n\n\t* lib/mkmf.rb (LINK_SO): LIBPATH to be placed before DLDFLAGS.\n\nFri Apr 20 16:05:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LIBPATHFLAG, RPATHFLAG): no needs to be quoted,\n\t  it is done by libpathflag in mkmf.rb.\n\nFri Apr 20 12:27:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb: fix to override conv proc.\n\nFri Apr 20 12:21:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): fixed access to out of bound, and inverted\n\t  the order of errinfos.\n\nFri Apr 20 10:33:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h: add prototypes of rb_sourceline() and\n\t  rb_sourcefile().\n\nFri Apr 20 02:37:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): re-send signal.  [ruby-dev:30516]\n\n\t* eval_error.h (error_handle): no message when exiting by signal.\n\n\t* intern.h (rb_thread_signal_raise, ruby_default_signal): prototypes.\n\n\t* signal.c (esignal_init): takes a signal number and an optional\n\t  signal name.\n\n\t* signal.c (interrupt_init): pass SIGINT always.\n\n\t* signal.c (ruby_default_signal): invoke system default signal\n\t  handler.\n\n\t* signal.c (rb_f_kill): use NUM2PIDT instead of NUM2INT.\n\n\t* signal.c (rb_signal_exec, trap): handle SIGTERM.  [ruby-dev:30505]\n\n\t* thread.c (rb_thread_signal_raise): now takes signal number instead\n\t  of signal name.\n\n\t* thread.c (rb_thread_signal_exit): since rb_make_exception() calls\n\t  #exception method, rb_class_new_instance() is not needed here.\n\n\t* yarvcore.h (struct rb_vm_struct), eval_jump.h (terminate_process):\n\t  exit_code is no longer stored in VM.\n\nThu Apr 19 18:37:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, node.h, thread.c, yarvcore.[ch], eval_intern.h:\n\t  support set_trace_func (incomplete.  id and klass\n\t  don't be passed).  And support Thread#set_trace_func\n\t  which hook only specified thread and Thread#add_trace_func\n\t  which add new trace func instead of replace old one.\n\t  C level API was modified.  See thread.c (logic) and\n\t  yarvcore.h (data structures).\n\n\t* vm.c, vm_macro.def: add hook points.\n\n\t* compile.c, insns.def: fix \"trace\" instruction.\n\n\t* iseq.c, vm_macro.h: add compile option \"trace_instruction\".\n\n\t* test/ruby/test_settracefunc.rb: hook \"c-return\" of set_trace_func.\n\nThu Apr 19 20:57:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (symbol): symbols should be followed by EXPR_ENDARG.\n\n\t* parse.y (dsym): ditto.\n\n\t* parse.y (parser_yylex): strings should be followed by\n\t  EXPR_ENDARG.\n\n\t* parse.y (parser_yylex): ditto for numbers.\n\n\t* parse.y (parser_yylex): EXPR_ENDARG after ']' and '}'.\n\nThu Apr 19 17:46:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/optparse.rb: fix to override conv proc.\n\nWed Apr 18 10:41:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (ruby_strtod): exponent is radix 10.  [ruby-talk:248272]\n\nWed Apr 18 02:50:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* yarvcore.c (th_init2): push initial blockptr value for\n\t  rb_block_given_p() outside ruby_exec().  [ruby-core:10923]\n\nWed Apr 18 02:30:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LDFLAGS): prepend -L. instead appending it to\n\t  XLDFLAGS.  [ruby-core:10933]\n\n\t* configure.in (Makefile): remove $U for automake from MISSING.\n\t  [ruby-talk:248171]\n\nMon Apr 16 22:56:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/pty/expect_sample.rb: avoid symbolic link representation for\n\t  expect.  a patch from Kazuhiro NISHIYAMA <zn at mbf.nifty.com>.\n\t  [ruby-dev:30714]\n\nMon Apr 16 22:51:11 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample: replace TRUE, FALSE with true, false respectively.\n\t  a patch from Kazuhiro NISHIYAMA <zn at mbf.nifty.com>.\n\t  [ruby-dev:30713]\n\nMon Apr 16 17:08:02 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (make_switch): do not clobber converter if pattern\n\t  has no convert method.  reported by sheepman in [ruby-dev:30709].\n\nMon Apr 16 16:49:32 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_seek): consistent behavior with\n\t  IO#seek.  patch by sheepman in [ruby-dev:30710].\n\nMon Apr 16 16:34:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): should set command_start after block\n\t  starting \"do\"s and braces.  [ruby-core:10916]\n\nMon Apr 16 10:51:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_each_with_index): each_with_index to forward\n\t  arguments to each.  [ruby-core:10921]\n\nMon Apr 16 10:43:10 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_arg): should allow to specify 24:00.\n\t  [ruby-core:10915]\n\nSun Apr 15 09:12:54 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: added some zone names.\n\n\t* lib/date/format.rb (_parse): now interprets doted numerical\n\t  dates as a big endian (except dd.mm.yyyy).\n\nThu Apr 12 17:13:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (mutex_try_lock): check and set owner thread.\n\n\t* thread_pthread.ci: fix to show error code in error message.\n\nThu Apr 12 17:11:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_rescue2): restore cfp ([ruby-dev:30582]).\n\nThu Apr 12 16:06:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_protect): restore cfp ([ruby-dev:30671]).\n\nThu Apr 12 16:04:31 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): check node->nd_state == 1, not !0.\n\nWed Apr 11 16:35:16 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.[ch] (rb_w32_enter_critical, rb_w32_leave_critical): no\n\t  need to reject reentrance. removed.\n\n\t* rubysig.h (RUBY_CRITICAL): follow above changes.\n\n\t* rubysig.h (TRAP_BEG, TRAP_END): no need to save errno.\n\nTue Apr 10 17:02:17 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_fclose, rb_w32_close): need to save errno\n\t  before calling original fclose()/close().\n\nTue Apr 10 16:14:22 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.ci (w32_wait_events): check whether interrupt_event is\n\t  valid handle or not.\n\n\t* thread_win32.ci (native_thread_destroy): clear interrupt_event when\n\t  close it.\n\nTue Apr 10 15:53:17 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_pthread.ci (native_thread_create): initialize sleep_cond.\n\t  fixed: [ruby-dev:30675]\n\nMon Apr  9 18:48:57 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread.c (do_select): ubf_select() is not necessary. interrupt is\n\t  checked in the loop.\n\nMon Apr  9 18:27:26 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread.c (do_select): use ubf_select() as UBF on windows.\n\n\t* win32/win32.c (do_select): shouldn't call catch_interrupt() here.\n\t  fixed: [ruby-dev:30674], reported by wanabe.\n\nMon Apr  9 09:24:32 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (disconnect): call shutdown for\n\t  SSLSocket. Thanks, Technorama Ltd.\n\nSun Apr  8 13:28:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (defined_expr): test arguments of NODE_CALL and so\n\t  on as well as NODE_ATTRASGN.  [ruby-core:10886]\n\nFri Apr  6 10:56:29 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl_pkey_ec.c (ossl_ec_key_get_group): get rid of\n\t  warning. we are aware of it.\n\nFri Apr  6 04:00:24 2007  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_{bn,x509{attr,cert,name,store}}.c:\n\t  Add documentation.\n\nThu Apr  5 17:59:19 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (defined_expr): support for assignment.\n\t  [ruby-core:10867]\n\n\t* compile.h (ADD_CATCH_ENTRY): removed temporary variable.\n\nThu Apr  5 15:13:34 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl_ssl_session.c (ossl_ssl_session_alloc): should\n\t  return value.\n\nThu Apr  5 14:58:49 2007  Technorama Ltd. <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_pkcs5.c: New module.\n\n\t* ext/openssl/ossl_{cipher,digest,pkcs7,pkcs12}.c:\n\t  Remove redundant module namespace.\n\n\t* ext/openssl/lib/openssl/{cipher,digest}.rb\n\t  Add backwards compatible classes for rearranged classes.\n\n\t* ext/openssl/ossl_{pkcs7,pkcs12}.c: Add documentation.\n\nThu Apr  5 00:42:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (rb_notimplement), io.c (pipe_open): removed definite\n\t  articles and UNIX manual section from messages.  [ruby-dev:30690]\n\nWed Apr  4 17:09:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open): refined the message of NotImplementedError.\n\t  [ruby-dev:30685]\n\nWed Apr  4 12:29:02 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* error.c (rb_notimplement): should show the name of this func,\n\t  not callee.\n\nWed Apr  4 10:18:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (popen_exec): should not close close-on-exec FDs.\n\t  [ruby-dev:30679]\n\n\t* io.c (pipe_open): raise NotImplementedError for command \"-\" on\n\t  platforms where fork(2) is not available.  [ruby-dev:30681]\n\nTue Apr  4 04:17:18 2007  Technorama Ltd. <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_ssl.c: Add documentation.\n\nTue Apr  3 16:22:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/extconf.rb: check for functions added in 1.9.\n\n\t* ext/openssl/ruby_missing.h: check per features instead by\n\t  checking version code.  [ruby-core:10845]\n\nTue Apr  3 16:02:44 2007  Technorama Ltd. <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_bn.c: More documentation.\n\n\t* ext/openssl/lib/ossl_{pkey,pkey_ec}.[ch]: Add elliptic curves.\n\nTue Apr  3 15:50:41 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (s_recv, s_recvfrom): some systems (such as\n\t  windows) doesn't set fromlen if the socket is connection-oriented.\n\t  reported by Bram Whillock in [ruby-core:10512] [ruby-Bugs#9061]\n\nTue Apr  3 09:36:55 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ruby_missing.h: need to include version.h to check\n\t  RUBY_VERSION_CODE.\n\nMon Apr  3 07:10:12 2007  Technorama Ltd. <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_{ssl.[ch],ssl_session.c},\n\t  ext/openssl/lib/openssl/lib/openssl/ssl.rb:\n\t  New SSL::Session class.  Add session cb's, getter/setters,\n\t  config, and statistics methods.\n\nMon Apr  3 04:00:23 2007  Technorama Ltd. <oss-ruby@technorama.net>\n\n\t* ext/openssl/{ossl.[ch],ossl_pkey.c} Add documentation.\n\n\t* ext/openssl/ossl_hmac.c Add reset method.\n\n\t* ext/openssl/ossl_cipher.c (Cipher#update) Take additional\n\t  buffer argument.\n\n\t* ext/openssl/{ossl_bio.c,ossl_ssl.c,ruby_missing.h}\n\t  compatibility with 1.8.\n\nMon Apr  2 21:55:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (throw), thread.c, yarvcore.h (throwed_errinfo): fixed\n\t  typo.\n\nFri Mar 30 11:46:51 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_cmdvector): fixed buffer size. reported by\n\t  wanabe [ruby-dev:30672]\n\n\t* win32/win32.c (init_env, insert, rb_w32_get_environ): use strdup\n\t  instead of malloc + strlcpy. suggested by nobu [ruby-dev:30673]\n\nFri Mar 30 02:29:04 2007  Technorama  <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_{bn,cipher,digest,hmac,rand,pkey_{dh,dsa,rsa}}.c:\n\t  Add Documentation for various methods.\n\n\t* ext/openssl/lib/openssl/cipher.rb: Ditto\n\n\t* ext/openssl/ossl_bn.c: add lshift! and rshift! methods.\n\n\t* ext/openssl/ossl_digest.c: GetDigestPtr() also accept a string.\n\nFri Mar 23 11:28:24 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (init_env, insert, cmdglob, rb_w32_cmdvector,\n\t  rb_w32_opendir, rb_w32_readdir, rb_w32_strerror, rb_w32_stati64,\n\t  rb_w32_get_environ): use strlcpy() and strlcat().\n\n\t* win32/win32.c (rb_w32_opendir): use realloc() instead of xrealloc().\n\n\t* win32/win32.c (rb_w32_closedir): check NULL before free pointers.\n\nFri Mar 23 00:24:52 2007  Keiju Ishitsuka <keiju@ruby-lang.org>\n\n\t* lib/shell: commit miss(support for ruby 1.9(YARV) thread model).\n\nThu Mar 22 13:32:17 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (LIBS): remove an unnecessary library.\n\nThu Mar 22 10:27:58 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_bignum.rb (test_to_s): add tests for Bignum#to_s.\n\nWed Mar 21 20:38:06 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* marshal.c (w_short, w_long, w_object): get rid of VC++ warnings.\n\nWed Mar 21 20:05:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, parse.y, eval.c, intern.h, iseq.c, lex.c, node.h,\n\t  proc.c, vm.c, vm_macro.def, vm_macro.def, yarvcore.c, yarvcore.h,\n\t  debug.c, debug.h: merge half-baked-1.9 changes.  The biggest change\n\t  is to change node structure around NODE_SCOPE, NODE_ARGS.  Every\n\t  scope (method/class/block) has own NODE_SCOPE node and NODE_ARGS\n\t  represents more details of arguments information.  I'll write a\n\t  document about detail of node structure.\n\nWed Mar 21 17:04:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): round up for the most significant digit.\n\t  [ruby-core:10686]\n\nTue Mar 21 08:20:00 2007  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* test/testunit/collector/test_dir.rb: Fixed test/unit tests that\n\t  were breaking due to Module#public_instance_methods now\n\t  returning a Symbol instead of a String.\n\n\t* test/testunit/collector/test_objectspace.rb: Ditto.\n\nTue Mar 20 22:54:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_extended): erroneous check condition when dump\n\t  method is defined.  [ruby-core:10646]\n\nTue Mar 20 21:36:47 2007  Keiju Ishitsuka <keiju@ruby-lang.org>\n\n\t* lib/shell.rb, lib/shell: support for ruby 1.9(YARV) thread model.\n\nTue Mar 20 16:36:08 2007  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* distruby.rb: Add zip generation.\n\nTue Mar 20 16:20:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_callee_name): add __method__ and __callee__ again.\n\t  __callee__ need to rework to adopt YARV.  [ruby-core:10671]\n\nTue Mar 20 11:09:00 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb: Revise rdoc.\n\n\t* lib/set.rb (Set#freeze, Set#taint, Set#untaint): Implement\n\t  Set#freeze, Set#taint, and Set#untaint; requested by: Dan\n\t  Hutchings <dan AT moltoagitato.com> in [ruby-bugs:PR#9359].\n\nTue Mar 20 09:13:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_fork): flush stdouts always before fork(2).\n\t  fixed: [ruby-dev:30612]\n\nTue Mar 20 01:38:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): store the result of first_func\n\t  as well as first_proc.\n\n\t* thread.c (thread_create_core): block is not used if first_func\n\t  is given.\n\nMon Mar 19 16:58:52 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* missing/{strlcat,strlcpy}.c, missing.h: new functions.\n\n\t* LEGAL: add copyright notice about above files.\n\n\t* configure.in: check whether strlcat and strlcpy are exist or not.\n\n\t* {bcc32,win32,wince}/Makefile.sub: use above files.\n\nMon Mar 19 14:12:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/matrix.rb (Matrix::inverse_from): adding partial pivoting to\n\t  the Gauss-Jordan algorithm, making it stable.  a patch from\n\t  Peter Vanbroekhoven.  [ruby-core:10641]\n\nMon Mar 19 12:13:36 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regparse.c, etc.: K&R to ANSI code cleanup patch from Stefan\n\t  Huehner <stefan at huehner.org>.  [ruby-core:10543]\n\nMon Mar 19 11:27:13 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb (rbuf_read): extend buffer size for speed.\n\nSun Mar 18 08:31:51 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/dir.h, win32/win32.c (rb_w32_opendir, rb_w32_readdir,\n\t  rb_w32_closedir): get rid of possible buffer-overflows.\n\nSat Mar 17 19:10:39 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss, test/rss:\n\t- supported Atom.\n\t- bumped version 0.1.6 to 0.1.7.\n\t* sample/rss/convert.rb: added new sample.\n\nFri Mar 16 22:32:20 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb: change default verification mode from\n\t  VERIFY_PEER to VERIFY_NONE because most POPS server does not have\n\t  true certification.\n\nFri Mar 16 22:19:24 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE#ole_activex_initialize,\n\t  a little bit supporting ActiveX control. [ruby-talk:241188]\n\nFri Mar 16 22:16:58 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: merge Ruby-SSPI patch contributed by Justin\n\t  Bailey.\n\n\t* ext/Win32API/lib/win32/sspi.rb: new file.\n\nWed Mar 14 12:30:00 2007  Shigeo Kobayashi  <shigeo@tinyforest.jp>\n\n\t* ext/bigdecimal/bigdecimal.c: BigDecimal(\"-.31\") is now\n\t  treated as (\"-0.31\") not as (\"0.31\").\n\nTue Mar 13 19:04:30 2007  Keiju Ishitsuka <keiju@ruby-lang.org>\n\n\t* lib/sync.rb: support for ruby 1.9(YARV) thread model.\n\nTue Mar 13 09:25:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (clear-installed-list): separated from install-prereq.\n\nTue Mar 13 07:23:20 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb (mon_try_enter): call @mon_muetx.try_lock.\n\t  Thanks, Keiju ISHITSUKA. [ruby-dev:30507]\n\nTue Mar 13 02:42:58 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/cgi.rb (CGI::header): IIS >= 5.0 does not need the nph\n\t  assumption any more; submitted by MIYASAKA Masaru <alkaid AT\n\t  coral.ocn.ne.jp> in [ruby-dev:30537].\n\nMon Mar 12 10:53:28 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/openssl/ossl_asn1.c (Init_ossl_asn1): Let rdoc know about\n\t  externally defined modules; submitted by Technorama\n\t  Ltd. <oss-ruby AT technorama.net> in [ruby-bugs:PR#4704].\n\n\t* ext/openssl/ossl_bn.c (Init_ossl_bn): Ditto.\n\n\t* ext/openssl/ossl_cipher.c (Init_ossl_cipher): Ditto.\n\n\t* ext/openssl/ossl_digest.c (Init_ossl_digest): Ditto.\n\n\t* ext/openssl/ossl_hmac.c (Init_ossl_hmac): Ditto.\n\n\t* ext/openssl/ossl_pkey.c (Init_ossl_pkey): Ditto.\n\n\t* ext/openssl/ossl_pkey_dh.c (Init_ossl_dh): Ditto.\n\n\t* ext/openssl/ossl_pkey_dsa.c (Init_ossl_dsa): Ditto.\n\n\t* ext/openssl/ossl_pkey_rsa.c (Init_ossl_rsa): Ditto.\n\n\t* ext/openssl/ossl_rand.c (Init_ossl_rand): Ditto.\n\n\t* ext/openssl/ossl_ssl.c (Init_ossl_ssl): Ditto.\n\nSun Mar 11 18:42:01 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* misc/ruby-mode.el (ruby-block-end-re): Support for the\n\t  experimental ';;' terminator had been dropped.\n\nSun Mar 11 05:45:46 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* misc/README, misc/rdebug.el: Add rdebug.el, Emacs ruby-debug\n\t  interface based on rubydb3x.el; submitted by Martin Nordholts\n\t  <enselic AT gmail.com> in [ruby-bugs:PR#9023].\n\nSat Mar 10 07:20:28 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_TYPELIB#library_name,\n\t  WIN32OLE_TYPELIB#visible?.\n\n\t* test/win32ole/test_win32ole_typelib.rb: ditto.\n\nThu Mar  8 09:17:59 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* compile.c: iseq_compile -> rb_iseq_compile.\n\n\t* iseq.c: ditto.\n\n\t* intern.h: provide function prototype of Init_jump.\n\n\t* eval_jump.h (Init_jump): declare function type.\n\n\t* thread.c: platform-dependent functions should be surrounded by #ifdef.\n\n\t* iseq.c (iseq_data_to_ary): remove unused variable.\n\n\t* compile.c (set_arguments): ditto.\n\n\t* thread.c (set_unblock_function): ditto.\n\n\t* thread_pthread.ci: reduce printf warning.\n\n\t* vm_dump.c: ditto.\n\nTue Mar  6 16:35:04 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/shell/process-controller.rb: fix thread synchronization problem for [ruby-dev:30477].\n\nTue Mar  6 11:53:25 2007  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/irbtkw.rbw: fails to exit process.\n\nTue Mar  6 10:23:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* runruby.rb: added --pure (turned on by default) and --debugger\n\t  options.\n\nMon Mar  5 09:19:33 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/timeout.rb (Timeout.timeout): should return the block value\n\t  always.\n\n\t* lib/timeout.rb (Timeout.timeout): should yield sec argument\n\t  always.\n\n\t* lib/timeout.rb (Timeout.timeout): fix document.\n\nMon Mar  5 09:16:40 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: support automatic STARTTLS.\n\n\t* lib/net/smtp.rb: check server advertisement.\n\n\t* lib/net/smtp.rb: introduce new class SMTP::Response.\n\n\t* lib/net/smtp.rb (getok): should not use sprintf.\n\n\t* lib/net/smtp.rb (get_response): ditto.\n\n\t* lib/net/protocol.rb: reduce syntax warning on 1.9.\n\nMon Mar  5 07:13:28 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: reconstruct SMTPS/STARTTLS interface.  New\n\t  interface is incompatible from current 1.9 interface at all.\n\n\t* lib/net/smtp.rb: All SSL-related class methods are removed; use\n\t  instance methods instead.\n\n\t* lib/net/smtp.rb: rename methods: *ssl -> *tls (with alias\n\t  \"ssl\").\n\n\t* lib/net/smtp.rb: rename methods: *tls -> *starttls.\n\nMon Mar  5 01:36:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_yylex), win32/win32.c (rb_w32_utime): fixed\n\t  indentation broken at YARV merger.\n\nSun Mar  4 23:41:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_stat_uid, rb_stat_gid, eaccess): use rb_uid_t and\n\t  rb_gid_t instead of int.\n\n\t* file.c (rb_stat_s_utime): fixed a commit miss for the platforms\n\t  where utimes() does not exist.\n\n\t* lib/fileutils.rb (touch): ditto.\n\nSun Mar  4 14:46:56 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* util.c (push_element): should return a int value.\n\nSun Mar  4 01:01:25 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#^, Set#&): Correct documentation.  Those methods\n\t  return sets, not arrays; noted by Oliver Frank Wittich <nietz AT\n\t  mangabrain.de>.\n\nSat Mar  3 22:54:33 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (touch): last #touch change causes error when\n\t  :mtime option was not given.\n\nSat Mar  3 22:51:29 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mv): could not move directory between\n\t  different file systems. [ruby-dev:30411]\n\nSat Mar  3 22:37:02 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_utime): allow nil to set the current time.\n\n\t* lib/fileutils.rb (touch): ditto, and added :mtime and :nocreate\n\t  options.  fixed: [ruby-talk:219037]\n\nSat Mar  3 15:52:26 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* object.c (instance_variable_get): Restore rdoc markups lost in\n\t  the last commit.\n\nFri Mar  2 21:17:14 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (get_ptr_of_variant, ole_set_safe_array,\n\t  ole_val2ptr_variant, ole_val2olevariantdata, ole_variant2val,\n\t  ): fix some bugs of WIN32OLE_VARIANT.new when variant type is\n\t  VT_ARRAY|VT_BSTR or VT_BYREF.\n\n\t* ext/win32ole/win32ole.c (folevariant_s_array, folevariant_initialize):\n\t  WIN32OLE_VARIANT#[], WIN32OLE_VARIANT#[]=, WIN32OLE_VARIANT#value=\n\t  is defined as instance method of WIN32OLE_VARIANT.\n\n\t* test/win32ole/test_win32ole_variant.rb: add some test for\n\t  VT_ARRAY, VT_BYREF variant type.\n\nFri Mar  2 07:58:24 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_ivar_set): RDoc updated according to a\n\t  suggestion from Brian Candler <B.Candler AT pobox.com>.\n\t  [ruby-core:10469]\n\nThu Mar  1 21:38:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt, arg): should not omit lhs of OP_ASGN1 even if\n\t  empty.  [ruby-dev:30455]\n\nThu Mar  1 02:55:25 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (get_digest_base_metadata): Allow inheriting\n\t  Digest::Base subclasses, which was unintentionally made\n\t  impossible while restructuring Digest classes.\n\nThu Mar  1 02:05:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb (patchlevel): read from version.h.\n\nWed Feb 28 21:15:00 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_fcntl): fcntl support for MinGW.\n\n\t* missing/flock.c: workaround for MinGW.\n\nWed Feb 28 20:51:32 2007  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* pack.c (pack_unpack): properly ignore non-base64 octets such as\n\t  UTF-8 encoded BOMs; submitted by SOUMA Yutaka <holon@radastery.jp>\n\t  to fix [ruby-core:10437]\n\nWed Feb 28 18:31:51 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/extconf.rb: no need to check unistd.h and sys/time.h.\n\t  they are already checked at configure.\n\t  reported by KOBAYASHI Yasuhiro [ruby-list:43225]\n\nWed Feb 28 18:23:43 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb ($DEFLIBPATH): default library paths ($(topdir), etc)\n\t  should be the first elements of library paths list.\n\t  reported by KOBAYASHI Yasuhiro [ruby-list:43225]\n\nWed Feb 28 10:33:58 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, configure.in, */Makefile.sub (THREAD_MODEL): system\n\t  specific thread model.\n\n\t* compile.h, regint.h, vm.h, array.c: removed unnecessary #include.\n\nWed Feb 28 04:03:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (take_i): small cosmetic / documentation patch from\n\t  Tadashi Saito <shiba AT mail2.accsnet.ne.jp>. [ruby-dev:30446]\n\nWed Feb 28 01:20:18 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/{dbm,gdbm}/test_{dbm,gdbm}.rb: shouldn't use host_os. use\n\t  target_os instead. reported by KOBAYASHI Yasuhiro [ruby-list:43225]\n\nWed Feb 28 00:08:11 2007  URABE Shyouhei  <shyouhei@ice.uec.ac.jp>\n\n\t* mkconfig.rb (RbConfig): add CONFIG['PATCHLEVEL']\n\n\t* common.mk: new target dist\n\n\t* distruby.rb: new file\n\nTue Feb 27 22:18:45 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (--enable-auto-image-base): avoid the necessity to\n\t  rebase the shared libs as much as possible;\n\t  submitted by Corinna Vinschen <spam at vinschen.de> in\n\t  [ruby-talk:240964].\n\nTue Feb 27 21:36:47 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* util.c (__crt0_glob_function): use ruby_glob() instead of rb_globi().\n\nTue Feb 27 21:33:04 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_setrlimit): workaround for djgpp.\n\nTue Feb 27 20:35:28 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (error.c, process.c): depend on yarvcore.h and rubysig.h.\n\nTue Feb 27 19:26:31 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/nkf/nkf.c (rb_str_resize, rb_nkf_kconv, rb_nkf_guess1,\n\t  rb_nkf_guess2): Silence warnings regarding char * vs. unsigned\n\t  char * mismatch; submitted by Lyle Johnson\n\t  <lyle.johnson@gmail.com> in [ruby-core:10416].\n\nTue Feb 27 19:15:01 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/base64.rb (Base64::b64encode): Fix documentation; submitted\n\t  by David Symonds <dsymonds@gmail.com> in [ruby-core:10432].\n\nTue Feb 27 18:59:42 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_load): Silence warnings\n\t  regarding char * vs. unsigned char * mismatch; submitted by Lyle\n\t  Johnson <lyle.johnson@gmail.com> in [ruby-core:10416].\n\n\t* ext/digest/sha1/sha1ossl.c (SHA1_Finish): Ditto.\n\n\t* ext/digest/rmd160/rmd160ossl.c (RMD160_Finish): Ditto.\n\n\t* ext/digest/digest.c (rb_digest_base_finish,\n\t  rb_digest_base_update): Ditto.\n\nTue Feb 27 18:12:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_take): new method.  [ruby-dev:30407]\n\n\t* enum.c (enum_drop): ditto.\n\nTue Feb 27 07:47:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h, vm.h: rename th_invoke_yield() to th_yield().\n\n\t* blockinlining.c: ditto.\n\n\t* eval.c: ditto.\n\n\t* vm.c, insns.def: rename th_invoke_yield_cfunc()\n\t  to th_yield_with_cfunc().\n\n\t* yarvcore.h, yarvcore.c: rename theYarvVM to ruby_current_vm and\n\t  yarvCurrentThread to ruby_current_thread.  remove yarvVMArray.\n\nTue Feb 27 00:45:23 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_optimization.rb: restore method before calling\n\t  assert_equal.\n\nMon Feb 26 00:58:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h: add rb_thread_t#top_wrapper, top_self.\n\n\t* eval_load.c (rb_load): support eval in wrapper module\n\t  (load(file, true)).\n\n\t* eval.c: ditto.\n\n\t* eval_jump.h: ditto.\n\n\t* iseq.c: ditto.\n\n\t* vm.c: ditto.\n\n\t* yarvcore.c: ditto.\n\n\t* insns.def: add a empty line.\n\nMon Feb 26 00:54:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: change \"gdb\" rule.  You can debug miniruby with\n\t  $(srcdir)/test.rb on gdb by this rule (type \"make gdb\").\n\t  If you write break points to \"breakpoints.gdb\" on $srcdir,\n\t  gdb runs with this file.\n\nSun Feb 25 11:46:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* win32/Makefile.sub: enable -Zi (debug) option.\n\nSun Feb 25 11:38:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.h: define RUBY_VM macro and remove NATIVETHREAD* macros.\n\n\t* intern.h: ditto.\n\n\t* signal.c (posix_signal): remove unused function\n\t  posix_nativethread_signal().\n\nSun Feb 25 11:31:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_run): fix to ANSI style.\n\nSun Feb 25 11:09:16 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/runner.rb: show source code in error message.\n\nSun Feb 25 09:39:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h:\n\t  rename:\n\t    rb_iseq_t#file_name -> filename\n\t    rb_iseq_t#local_tbl -> local_table\n\t  add:\n\t    rb_iseq_t#local_table_size\n\n\t* compile.c: separate local_table_size and local_size\n\t  (local variable size)\n\n\t* blockinlining.c: apply above rename.\n\n\t* compile.h: ditto.\n\n\t* eval.c: ditto.\n\n\t* iseq.c: ditto.\n\n\t* proc.c: ditto.\n\n\t* vm.c: ditto.\n\n\t* vm_dump.c: ditto.\n\nSun Feb 25 10:27:17 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/runner.rb: add lib/ to load path.\n\nSat Feb 25 10:16:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* rubyio.h (HAVE_RB_IO_T): macro to tell if rb_io_t is defined.\n\nSat Feb 24 19:39:16 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* common.mk: new target \"btest\", to run bootstraptests.\n\nSat Feb 24 19:30:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c, gc.c, io.c, ruby.h, rubyio.h, win32/win32.h (rb_io_t):\n\t  renamed from OpenFile.\n\n\t* ext/dl/cptr.c, ext/io/wait/wait.c, ext/openssl/ossl.h,\n\t  ext/openssl/ossl_bio.c, ext/openssl/ossl_ssl.c, ext/pty/pty.c,\n\t  ext/readline/readline.c, ext/socket/socket.c: ditto.\n\nSat Feb 24 19:28:23 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/runner.rb: new option -v,--verbose.\n\nSat Feb 24 18:55:50 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* yarvtest/test_method.rb: removed (merged to bootstraptest).\n\n\t* yarvtest/test_class.rb: ditto.\n\nSat Feb 24 18:44:39 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/test_class.rb: new file.\n\n\t* bootstraptest/test_method.rb: add tests.\n\nSat Feb 24 18:44:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (rb_thread_blocking_region): add prototype.\n\n\t* file.c (rb_thread_flock, rb_file_flock): use UBF feature.\n\n\t* process.c (rb_waitpid_blocking, rb_waitpid): use UBF feature.\n\n\t* thread.c (rb_thread_debug): added runtime debugging flag.\n\n\t* thread.c (BLOCKING_REGION): restore previous UBF.\n\n\t* thread.c (rb_thread_blocking_region): default UBF to interrupt\n\t  in system dependent way by RB_UBF_DFL.\n\t  + ubf_select() on posix system\n\t  + ubf_handle() on Win32\n\t  + none on cygwin\n\n\t* thread_win32.ci (rb_w32_wait_events_blocking): blocking version.\n\n\t* win32/win32.c (waitpid): use rb_w32_wait_events_blocking().\n\nSat Feb 24 17:45:48 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (f_arg, opt_f_block_arg): ripper should export VALUE.\n\nSat Feb 24 16:52:55 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/runner.rb: fix syntax error.\n\nSat Feb 24 16:51:09 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/runner.rb: new option --help.\n\nSat Feb 24 16:47:33 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest: new test suite.\n\n\t* bootstraptest/runner.rb: new file.\n\n\t* bootstraptest/test_literal.rb: new file.\n\n\t* bootstraptest/test_method.rb: new file.\n\nSat Feb 24 16:29:15 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (StartSocket): remove unnecessary code.\n\nSat Feb 24 16:04:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (struct local_vars): remove unused nofree member from\n\t  struct.\n\n\t* parse.y (parser_free): ditto.\n\nSat Feb 24 15:57:19 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/thread.rb (ConditionVariable#broadcast): use Mutex\n\t  instead of Thread.exclusive.\n\n\t* lib/monitor.rb (MonitorMixin#mon_exit): unset @mon_owner\n\t  before calling Mutex#unlock.\n\nSat Feb 24 15:51:45 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (program): remove useless assignment to reduce warning.\n\nSat Feb 24 15:41:51 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (lambda): remove unused clause from the rule to stop\n\t  warning.\n\nSat Feb 24 15:41:22 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/thread.rb: do not redefine Mutex#synchronize.\n\nSat Feb 24 15:14:02 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb: rewritten using Mutex/ConditionVariable.\n\nSat Feb 24 13:25:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/soap/mapping/factory.rb: catch up with spec changes (return\n\t  Symbols instead of Strings).\n\n\t* lib/soap/mapping/mapping.rb: ditto.\n\nSat Feb 24 10:49:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y, node.h, compile.c: change node tree structure.  a purpose\n\t  of this change is to unify argument structure of method and block.\n\t  this change prohibits duplicate block parameter name.\n\t  new argument information:\n\t    NODE_ARGS\t  [m: int, o: NODE_OPT_ARG, ->]\n\t    NODE_ARGS_AUX [r: ID, b: ID, ->]\n\t    NODE_ARGS_AUX [Pst: id, Plen: int, init: NODE*]\n\t  optarg information:\n\t    NODE_OPT_ARGS [idx, expr, ->]\n\n\t* vm_macro.def: ditto.\n\n\t* gc.c: ditto.\n\n\t* iseq.c: ditto.\n\n\t* compile.h: fix debug function name.\n\n\t* test/ripper/test_scanner_events.rb: |_,_,foo| -> |_1,_2,foo|\n\n\t* test/ruby/test_lambda.rb: disable test temporarily.\n\nSat Feb 24 10:46:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/testunit/test_testcase.rb: catch up with current instance\n\t  variable spec.\n\nSat Feb 24 10:32:59 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: change vm_macro.def rule.\n\nSat Feb 24 10:38:05 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/racc/cparse/cparse.c (cparse_params_mark): remove useless\n\t  rb_gc_mark.  Thanks Tomoyuki Chikanaga. [ruby-dev:30405]\n\nSat Feb 24 07:31:35 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_VARIANT.array,\n\t  WIN32OLE_VARIANT#value=, refactoring.\n\n\t* test/win32ole/test_win32ole_variant.rb: add some test for\n\t  WIN32OLE_VARIANT.array, WIN32OLE_VARIANT#value=.\n\nFri Feb 23 18:37:55 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_yield.rb: new test.\n\n\t* yarvtest/test_yield.rb: removed (moved to test_yield.rb).\n\nFri Feb 23 18:27:17 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread.c (rb_thread_polling): check interrupts here.\n\n\t* thread_win32.ci (w32_wait_events): rename from w32_wait_event(), and\n\t  now receive multiple event handles.\n\n\t* win32/win32.c (wait_events, rb_w32_main_context): removed.\n\n\t* thread_win32.ci (rb_w32_wait_events): new function.\n\n\t* thread_win32.ci, win32/win32.c (rb_w32_sleep, rb_w32_Sleep): move\n\t  from win32/win32.c to thread_win32.ci, and use w32_wait_events().\n\nFri Feb 23 18:13:22 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_optimization.rb: new test (merges test_opts.rb).\n\n\t* yarvtest/test_opts.rb: removed.\n\nFri Feb 23 16:59:39 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_assignment.rb: merge yarvtest/test_massign.\n\n\t* yarvtest/test_massign.rb: removed (merged to\n\t  test_assignment.rb).\n\nFri Feb 23 15:58:20 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* signal.c (sighandler): need to re-install sighandler on some\n\t  platforms.\n\nFri Feb 23 15:05:57 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (set_pioinfo_extra): simplified.\n\nFri Feb 23 14:23:20 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_literal.rb: new test.\n\nFri Feb 23 12:40:12 2007  James Edward Gray II  <james@grayproductions.net>\n\n\t* lib/xmlrpc/client.rb (XMLRPC::Client::do_rpc): Make the\n\t  Content-Length parameter optional for responses in\n\t  xmlrpc/client.rb; suggested by Daniel Berger\n\t  <Daniel.Berger@qwest.com> and approved by the maintainer.\n\n\t* lib/xmlrpc/create.rb (XMLRPC::Create::conv2value): Add DateTime\n\t  support to xmlrpc; approved by the maintainer.\n\nFri Feb 23 12:24:46 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (lambda): add ripper event.  This fixes bus error on\n\t  \"make test-all\".\n\n\t* ext/ripper/extconf.rb: do not stop build.\n\nFri Feb 23 12:16:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: remove dyna_check_gen() prototype.\n\nFri Feb 23 11:41:21 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y, compile.c, gc.c, insns.def, intern.h, iseq.c, node.h,\n\t  object.c, string.c, variable.c, vm_macro.def: revert private\n\t  instance variable feature, which is postponed until next major\n\t  release.\n\n\t* marshal.c: TYPE_SYMBOL2 removed; MARSHAL_MINOR reverted back to\n\t  8th version.\n\nFri Feb 23 10:53:21 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* thread_pthread.ci (native_mutex_lock): do not call\n\t  pthread_mutex_trylock().\n\nFri Feb 23 10:31:16 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* dln.c: use dlopen on Mac OS X 10.3 or later.\n\nFri Feb 23 10:03:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_ord): need not to check string length;  ord\n\t  returns a codepoint for the first character in the string.\n\nWed Feb 21 22:29:45 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* numeric.c (fix_equal): A bit more optimization.\n\nWed Feb 21 17:40:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_equal): remove FIX2LONG() to optimize.  suggested\n\t  in http://t-a-w.blogspot.com/2007/02/making-ruby-faster.html.\n\t  [ruby-talk:240223]\n\n\t* numeric.c (fix_cmp): ditto.\n\nWed Feb 21 09:14:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_load.c (rb_require_safe): should restore safe level.\n\nTue Feb 20 21:19:29 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (installed_code_page_proc,\n\t  ole_variant2val): small refactoring.\n\nTue Feb 20 15:11:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, vm.c, yarvcore.h: move definition of rb_call_super() to\n\t  vm.c from eval.c.  change th_call_super() to static function.\n\nTue Feb 20 15:08:25 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/io/nonblock/test_flush.rb: YARV doesn't raise any errors if\n\t  another thread close IO object which current thread is blocking with.\n\nTue Feb 20 15:03:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (do_select, rb_thread_wait_fd_rw): raise sys error if\n\t  errno is not 0 and EBADF.\n\nMon Feb 19 22:15:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_REPLACE_TYPE): cache convertible type info.\n\n\t* intern.h (rb_detach_process): use rb_pid_t instead of pid_t.\n\n\t* ruby.h (PIDT2NUM, NUM2PIDT, UIDT2NUM, NUM2UIDT, GIDT2NUM, NUM2GIDT):\n\t  defaulted to conversion using long.\n\nMon Feb 19 17:14:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (unix_peeraddr): wrong syscall name in error\n\t  message for #peeraddr. a patch from Sam Roberts\n\t  <sroberts at uniserve.com>.  [ruby-core:10366]\n\nSun Feb 18 22:56:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/etc/etc.c (etc_getgrgid): missed to replace a macro.\n\nSun Feb 18 19:33:00 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: updated based on date2 4.0.3.\n\nSun Feb 18 13:11:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (pid_t, uid_t, gid_t): check if defined.\n\n\t* intern.h, process.c, rubyio.h, ext/etc/etc.c, ext/pty/pty.c: use\n\t  rb_{pid,uid,gid}_t instead of plain int.  [ruby-dev:30376]\n\n\t* ext/etc/extconf.rb (PIDT2NUM, NUM2PIDT, UIDT2NUM, NUM2UIDT, GIDT2NUM,\n\t  NUM2GIDT): moved to configure.in.\n\nFri Feb 16 21:34:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* object.c (rb_obj_ivar_set/get/defined): fix to check :@_v/C id.\n\n\t* test/testunit/test_testcase.rb: fix to use instance_variable_get()\n\t  to access @_result.\n\nFri Feb 16 20:59:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* intern.h: add a prototype of rb_sym_to_s().\n\nFri Feb 16 19:24:22 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (math_log): update document to mention second optional\n\t  argument for logarithm base.\n\nFri Feb 16 19:19:21 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (mrhs): need to append by arg_append().\n\t  [ruby-talk:239385]\n\nFri Feb 16 11:18:21 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/.document: Apply patch for irb, e2mmap and README by Hugh Sasse\n\t  <hgs at dmu.ac.uk> from [ruby-core:10135]\n\n\t* lib/prettyprint.rb: Suppress RDoc for PrettyPrint test suite.\n\nThu Feb 15 20:48:36 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (set_pioinfo_extra): new function for VC++8 SP1\n\t  workaround. [ruby-core:10259]\n\n\t* win32/win32.c (NtInitialize): call above function.\n\nThu Feb 15 16:25:54 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/uri/generic.rb (URI::Generic::userinfo): Considering how\n\t  `scheme://user:@...', `scheme://:password@...' and\n\t  `scheme://:@...' are parsed, an empty user name or password\n\t  should be allowed and represented as it is.\n\nThu Feb 15 01:52:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.(c|h), yarvcore.(c|h) (yarvGlobalStateVersion): rename to\n\t  ruby_vm_global_state_version.\n\nThu Feb 15 01:50:26 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/fileutils/test_fileutils.rb (check_singleton): fix to use\n\t  symbol instead of string.\n\n\t* test/io/nonblock/test_flush.rb: enable tests.\n\n\t* test/xmlrpc/test_webrick_server.rb: ditto.\n\nThu Feb 15 01:43:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/delegate.rb: catch up with class local variable (@_v) spec.\n\n\t* lib/singleton.rb: ditto.\n\nWed Feb 14 22:52:43 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_variant2val): VC++6 does not\n\t  support VT_I8, VT_UI8.\n\nWed Feb 14 22:10:21 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* configure.in: change stack limit to 2MB from 32MB.\n\n\t* win32/Makefile.sub: ditto.\n\nWed Feb 14 21:39:36 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest.rb (Digest::self.const_missing): Drop\n\t  autoloads for sha2 classes in favor of handling in\n\t  const_missing(), to work around a problem exposed on OS X.\n\nWed Feb 14 21:19:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.ci (native_thread_create): adjust 4KB (page size)\n\t  alignment.\n\nWed Feb 14 21:12:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.ci (CHECK_ERR): call rb_bug()\n\t  instead of printf() and exit().\n\nWed Feb 14 16:48:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/date/format.rb (Date::Format::Bag::method_missing): need not\n\t  to use instance variables corresponding each method; use Hash\n\t  instead.\n\nWed Feb 14 13:12:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (reg_operand): allow symbols to be operands for regular\n\t  expression matches.\n\n\t* string.c (Init_String): allow Symbol#===.\n\n\t* lib/date/format.rb (Date::Format::Bag::to_hash): string\n\t  added prefixes.\n\nWed Feb 14 12:58:38 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (do_select): fix to iterate select().\n\t  on cygwin/mswin32, iterate in unblocking region.\n\n\t* thread.c (rb_thread_select): don't iterate on this function.\n\t  (iterate in do_select).\n\nWed Feb 14 11:39:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (set_unblock_function): fix function interface.\n\nWed Feb 14 11:12:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_load.c, yarvcore.h: use rb_vm_t#loaded_features instead of\n\t  rb_features (global variable).\n\n\t* yarvcore.c: mark rb_vm_t#loaded_features.\n\nWed Feb 14 08:46:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): no longer distinguish ordinary local\n\t  variables and in-block local variables in defined? value.\n\nWed Feb 14 03:14:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic::userinfo): should support\n\t  empty password.  [ruby-core:10290]\n\n\t* lib/uri/generic.rb (URI::Generic::set_password): password can be\n\t  cleared by nil.  [ruby-core:10290]\n\nWed Feb 14 03:10:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (struct local_vars): no need to warn out-of-scope\n\t  variables; remove dnames member from struct.\n\nWed Feb 14 03:04:10 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: RVarmap no longer used as yytype; removed.\n\n\t* parse.y (dyna_push_gen): no longer need return value.\n\n\t* parse.y (dyna_pop_gen): no longer need argument.\n\n\t* parse.y (local_push_gen): initialize nofree.\n\nWed Feb 14 00:30:07 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (init_unixsock): path may contain NUL for\n\t  abstract unix sockets.  [ruby-core:10288]\n\nTue Feb 13 02:21:12 2007  Sam Roberts  <sroberts@uniserve.com>\n\n\t* io.c (rb_f_syscall): Fix buffer overflow with syscall\n\t  arguments.  [ruby-bugs:PR#8541]\n\nMon Feb 12 13:57:30 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_variant2val): support VT_I8, VT_UI8.\n\nMon Feb 12 11:48:52 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/dublincore.rb, lib/rss/maker/dublincore.rb: dc_rightses\n\t  -> dc_rights_list. dc_rightses still exists for backward\n\t  compatibility. [ruby-core:8350]\n\n\t* test/rss/test_maker_dc.rb: added tests for dc_rights_list.\n\nSun Feb 11 22:40:17 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_ptrtype2val): ole_type, ole_type_detail\n\t  should not return \"VARIANT,VARIANT\".\n\nSun Feb 11 22:11:05 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/xml-stylesheet.rb (RSS::XMLStyleSheet#initialize):\n\t  kept backward compatibility.\n\nSun Feb 11 22:10:08 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb (RSS::ListenerMixin#start_else_element): used\n\t  const_defined? instead of constants.include?.\n\nSun Feb 11 18:47:14 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata):\n\t  WIN32OLE_VARIANT#new accepts nil when variant type is VT_ARRAY.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\n\t* ext/win32ole/win32ole.c: small refactoring.\n\nSun Feb 11 07:42:25 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): Properly parse\n\t  a quoted-string in a Content-Disposition value.\n\nSat Feb 10 20:21:29 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE#ole_query_interface.\n\t  thanks to Mikael Pahmp.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nSat Feb 10 17:46:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: targets which depend on yarvcore.h now depend on\n\t  rubysig.h too.\n\n\t* yarvcore.h (rb_vm_t): use rb_atomic_t instead of int.\n\nSat Feb 10 00:13:11 2007  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: fix typo (TkConfigMethod::__confinfo_cmd,\n\t  __conv_keyonly_opts).\n\nFri Feb  9 12:33:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_win32.ci (w32_show_error_message): renamed to w32_error.\n\t  this function do rb_bug().\n\n\t* thread_win32.ci (w32_set_event, w32_reset_event, w32_close_handle,\n\t  w32_resume_thread): added. fix to use these functions instead calling\n\t  win32api directly.\n\n\t* thread_win32.ci (w32_create_thread): create suspend thread\n\t  (caller must call w32_resume_thread()).\n\nFri Feb  9 11:03:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_readpartial.rb: tests are working on mswin32/cygwin.\n\nFri Feb  9 05:08:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c, thread_pthread.ci, thread_win32.ci (thread_start_func_1):\n\t  move cleanup function to thread_start_func_2().\n\n\t* thread.c, thread_pthread.ci, thread_win32.ci:\n\t  add more destruct functions.\n\t  (native_thread_destroy() and native_mutex_destroy())\n\n\t* thread_pthread.ci, thread_pthread.h: make native_mutex_* functions\n\t  (check error, etc), it's not macro any more.\n\n\t* thread_win32.ci (thread_start_func_1): store some values before\n\t  running thread (to release these after running thread).\n\n\t* thread_win32.ci (native_thread_create): fix spaces.\n\nThu Feb  8 22:44:04 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_set_safe_array, ole_variant2val,\n\t  ole_val_ary2variant_ary): fix WIN32OLE_VARIANT.new bug when\n\t  1st argument is empty array, and when 2nd argument is\n\t  VT_ARRAY|VT_BYREF.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\nThu Feb  8 22:39:09 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvtest/yarvtest.rb: check target command names.\n\nThu Feb  8 22:31:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_clone.rb: fix to current spec\n\t  (Module should not be occur many times in ancestors).\n\nThu Feb  8 22:26:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_string.rb: (\"foo\" == :foo) and (\"foo\" === :foo)\n\t  should be false.\n\n\t* ChangeLog: fix last messages.\n\nThu Feb  8 22:24:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_module.rb: fix to use Symbol instead of String.\n\n\t* test/ruby/test_module.rb: remove space before argument parentheses.\n\nThu Feb  8 22:02:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/marshaltestlib.rb: eval(sym) -> eval(sym.to_s)\n\nThu Feb  8 21:35:16 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_propertyputref.rb (setup): fix typo.\n\n\t* test/win32ole/test_win32ole_event.rb: should not use\n\t  InternetExplorer.gohome to test.\n\nThu Feb  8 21:02:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (GVL_UNLOCK_RANGE): rename to BLOCKING_REGION().\n\n\t* thread.c (rb_thread_run_parallel): rename to\n\t  rb_thread_blocking_region().\n\nThu Feb  8 15:48:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h, thread.c: fix to use pthread on cygwin.\n\n\t* yarvcore.h, thread.c: move GVL_UNLOCK_BEGIN() and GVL_UNLOCK_END()\n\t  from yarvcore.h to thread.c.\n\n\t* thread.c: change GVL_UNLOCK_RANGE() arguments\n\t  (adding ubf as 2nd argument).\n\n\t* thread.c: fix to use polling in select on cygwin and mswin32.\n\n\t* thread.c, thread_pthread.ci, thread_win32.ci, yarvcore.h:\n\t  rename:\n\t  * rb_thread_t#interrupt_function -> unblock_function\n\t  * rb_interrupt_function_t -> rb_unblock_function\n\t  * some interrupt function name -> ubf_*\n\t  * yarv_* -> *\n\nThu Feb  8 16:08:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: fix to use RUNRUBY instead of BASERUBY if possible.\n\n\t* common.mk ($(INSNS) rule): remove $(PROGRAM) first.\n\nThu Feb  8 15:43:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* process.c: fix to use rb_status_line_set/get/clear().\n\n\t* eval_intern.h: fix line break.\n\nThu Feb  8 15:00:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* blockinlining.c, error.c, eval.c, eval_error.h, eval_intern.h,\n\t  eval_jump.h, eval_load.c, eval_safe.h, gc.c, proc.c, signal.c,\n\t  thread.c, thread_pthread.ci, thread_win32.ci, vm.c, vm.h,\n\t  vm_dump.c, vm_evalbody.ci, yarvcore.c, yarvcore.h:\n\t  fix typo (rb_thead_t -> rb_thread_t).\n\n\t* eval_intern.h: remove unused definitions.\n\n\t* common.mk: fix around vm_opts.h path\n\t  and remove harmful argument passed to insns2vm.rb.\n\nThu Feb  8 03:11:47 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::unescapeHTML): invalid decoding for single\n\t  unescaped ampersand.  a patch from Tietew\n\t  <tietew+ruby-dev at tietew.net> in [ruby-dev:30292].\n\t  fixed: [ruby-dev:30289]\n\nWed Feb  7 23:25:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (specific_eval): suppress warning.\n\n\t* thread_win32.h: undefine _WIN32 on cygwin.  [ruby-dev:30303]\n\nWed Feb  7 22:41:34 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h: remove UNSUPPORTED() macro.\n\n\t* thread.c: fix to define Continuation methods\n\t  (they only do rb_notimplement()).\n\nWed Feb  7 22:33:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h, yarvcore.h: remove unused macro definition.\n\nWed Feb  7 22:30:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c: fixed to use ANSI function style.\n\nWed Feb  7 09:35:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* this commit is a result of refactoring. only renaming functions,\n\t  moving definitions place, add/remove prototypes, deleting\n\t  unused variables and removing yarv.h.\n\t  This commit doesn't change any behavior of ruby/vm.\n\n\t* yarv.h, common.mk: remove yarv.h (contents are moved to yarvcore.h).\n\n\t* error.c, eval_intern.h: include yarvcore.h instead yarv.h\n\n\t* rename some functions:\n\t  * debug.[ch]: debug_*() -> ruby_debug_*()\n\t  * iseq.c: iseq_*() -> rb_iseq_*(), ruby_iseq_disasm()\n\t  * iseq.c: node_name() -> ruby_node_name()\n\t  * vm.c: yarv_check_redefinition_opt_method() ->\n\t          rb_vm_check_redefinition_opt_method()\n\n\t* some refactoring with checking -Wall.\n\n\t* array.c: remove rb_ary_ptr() (unused) and remove unused\n\t  local variables.\n\n\t* object.c: add a prototype of rb_mod_module_exec().\n\n\t* eval_intern.h (ruby_cref): set it inline.\n\n\t* eval_load.c (rb_load), yarvcore.c: yarv_load() -> rb_load_internal().\n\n\t* parse.y: add a prototype of rb_parse_in_eval() (in eval.c).\n\n\t* process.c: add a prototype of rb_thread_stop_timer_thread() (in thread.c).\n\n\t* thread.c: remove raw_gets() function (unused) and fix some format\n\t  mismatch (format mismatches have remained yet. this is todo).\n\n\t* thread.c (rb_thread_wait_fd_rw): fix typo on label name.\n\n\t* thread_pthread.ci: comment out codes with USE_THREAD_CACHE.\n\n\t* vm.c (rb_svar, rb_backref_get, rb_backref_get,\n\t  rb_lastline_get, rb_lastline_set) : moved from yarvcore.c.\n\n\t* vm.c (yarv_init_redefined_flag): add a prototype and rename\n\t  yarv_opt_method_table to vm_opt_method_table.\n\n\t* vm.c (rb_thread_eval): moved from yarvcore.c.\n\n\t* yarvcore.c: remove unused global variables and fix to use nsdr().\n\nWed Feb  7 03:39:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* blockinlining.c, compile.c, compile.h, error.c, eval.c,\n\t  eval_intern.h, eval_jump.h, eval_load.c, eval_method.h,\n\t  eval_safe.h, gc.c, insnhelper.h, insns.def, iseq.c, proc.c,\n\t  process.c, signal.c, thread.c, thread_pthread.ci, thread_win32.ci,\n\t  vm.c, vm.h, vm_dump.c, vm_evalbody.ci, vm_macro.def,\n\t  yarv.h, yarvcore.h, yarvcore.c: change type and macro names:\n\t  * yarv_*_t -> rb_*_t\n\t  * yarv_*_struct -> rb_*_struct\n\t  * yarv_tag -> rb_vm_tag\n\t  * YARV_* -> RUBY_VM_*\n\n\t* proc.c, vm.c: move functions about env object creation\n\t  from proc.c to vm.c.\n\n\t* proc.c, yarvcore.c: fix rb_cVM initialization place.\n\n\t* inits.c: change Init_ISeq() order (after Init_VM).\n\n\t* ruby.h, proc.c: change declaration place of rb_cEnv\n\t  from proc.c to ruby.c.\n\nTue Feb  6 22:06:45 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/{nkf.c,utf8tbl.c}:\n\t  imported nkf 2007-01-28.\n\t  * Fixed: can't decode MIME encode JIS string.\n\t  * Fixed: Fullwidth-halfwidth conversion.\n\t  * Support DoCoMo's and Softbank's EMOJI\n\t  * Support CP932, CP5022x, eucJP-ms UDC\n\t  * Support UTF-32 encoding\n\t  * Support beyond BMP\n\t  [ruby-dev:29700] [ruby-dev:29922] [ruby-dev:30144]\n\nTue Feb  6 20:36:19 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, lib/rss/parser.rb: followed current Ruby\n\t  specification. [ruby-dev:30274]\n\nTue Feb  6 20:29:44 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, lib/rss/parser.rb: removed needless code for\n\t  backward compatibility.\n\nTue Feb  6 18:43:17 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb: moved fixes for EPIPE to the correct\n\t  place. [ruby-core:10204]\n\nTue Feb  6 16:38:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_opts.h: set properties:\n\t  svn:keywords:  Author Date Id Revision\n\t  svn:eol-style: native\n\nTue Feb  6 15:55:46 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (ivar_i): need to support class local instance\n\t  variables.\n\nTue Feb  6 15:44:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix setting is_local flag.\n\n\t* yarvtest/test_class.rb: add a test for class local instance variable.\n\nTue Feb  6 14:15:34 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, insns.def: remove (get|set)instancevariable2 and add a\n\t  operand is_local to (get|set)instancevariable.\n\n\t* yarvtest/test_class.rb: add a test for class local instance variable.\n\n\t* parse.y (rb_decompose_ivar2): remove unused variable oid.\n\n\t* tool/insns2vm.rb: remove needless require.\n\nTue Feb  6 11:18:41 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb: check the control connection on EPIPE.\n\t  Thanks, Simon Williams. [ruby-core:9547]\n\nTue Feb  6 11:03:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* complement last commit.\n\n\t* common.mk (*.inc): use VPATH.\n\n\t* vm_opts.h: renamed from vm_opts.h.base.\n\nTue Feb  6 10:02:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/insns2vm.rb: use vm_opts.h in VPATH.\n\nTue Feb  6 03:47:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c: support Binding#eval.\n\n\t* yarvtest/test_eval.rb: add a test for above change.\n\nTue Feb  6 03:13:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c: refactoring (remove K&R style, move Binding stuffs from\n\t  Init_Proc() to Init_Binding()).\n\nTue Feb  6 01:07:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* intern.h: prepare rb_last_status_get() and rb_last_status_set().\n\t  Use these functions instead of rb_last_status ([ruby-dev:30264]).\n\n\t* process.c: define above functions.\n\n\t* ext/pty/pty.c: use above functions.\n\n\t* io.c (pipe_finalize): ditto.\n\n\t* process.c: ditto.\n\nMon Feb  5 21:26:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.h: add a prototype of rb_id2str().\n\nMon Feb  5 21:06:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_thread.c, common.mk: remove eval_thread.c.\n\n\t* yarvcore.c: rename cYarvThread to rb_cThread.\n\n\t* gc.c: remove YARV_* prefix.\n\n\t* gc.h: add an include guard and prototype of rb_gc_set_stack_end().\n\n\t* inits.c: fix to ANSI prototype style and reorder Init_*().\n\n\t* io.c (pipe_finalize): TODO: comment out last_status.\n\n\t* process.c, yarvcore.h: fix to use yarv_vm_t#last_status instead of\n\t  rb_last_status and make last_status_get() to access $?.\n\n\t* yarvcore.c (vm_mark): mark yarv_vm_t#last_status.\n\n\t* ruby.h: add declarations of rb_cISeq and rb_cVM.\n\n\t* thread.c: move eval_thread.c codes to thread.c and remove yarv_*\n\t  function prefix.\n\n\t* thread.c (thread_start_func_2): use yarv_thread_t#first_func if\n\t  it is not null.\n\n\t* vm.c: fix copyright year.\n\n\t* yarvcore.c (Init_vm): rename to Init_VM().\n\nMon Feb  5 04:09:48 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_frame_callee): check if prev_cfp can be accessible.\n\t  a patch from Yoshinori Sano <yoshinori.sano at gmail.com> in\n\t  [ruby-dev:30252].  solves [ruby-dev:30200] and [ruby-core:9856].\n\nSun Feb  4 20:34:41 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/rss-assertions.rb: removed needless code for backward\n\t  compatibility.\n\nSun Feb  4 02:22:59 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): Remove a debug\n\t  print.\n\nSat Feb  3 23:51:58 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (rb_compose_ivar2): function to create a new ivar2\n\t  symbol from a symbol and a class.  back-ported from matzruby.\n\n\t* parse.y (rb_decompose_ivar2): reverse function of\n\t  rb_compose_ivar2().\n\n\t* marshal.c (w_symbol): support class local instance variables.\n\n\t* marshal.c (r_object0): ditto.\n\n\t* compile.c (defined_expr): ditto.\n\n\t* compile.c (iseq_compile_each): ditto.\n\n\t* insns.def: add two new instructions: getinstancevariable2 and\n\t  setinstancevariable2.\n\nSat Feb  3 23:21:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insns.def (setclassvariable): remove unnecessary operand.\n\n\t* compile.c (iseq_compile_each): ditto.\n\n\t* common.mk (insns_info.inc): add dependency for insns_info.inc.\n\nSat Feb  3 14:32:58 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata, ole_val2variant):\n\t  fix the bug of WIN32OLE_VARIANT.new when variant type is\n\t  VT_ARRAY.\n\n\t* ext/win32ole/sample/excel1.rb: rewrite using WIN32OLE_VARIANT.\n\n\t* test/win32ole/test_win32ole.rb: add some test.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\nSat Feb  3 03:35:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, */Makefile.sub, common.mk (vmasm): generalized.\n\n\t* common.mk (runruby, benchmark, benchmark-each, tbench): use\n\t  PROGRAM for the file to be built.\n\n\t* proc.c (yarv_proc_alloc): needs return.\n\n\t* call_cfunc.ci, compile.c, compile.h, debug.h, eval.c,\n\t  eval_error.h, eval_jump.h, eval_load.c, eval_thread.c, gc.c,\n\t  insnhelper.h, insns.def, iseq.c, main.c, numeric.c, parse.y,\n\t  range.c, ruby.h, signal.c, thread.c, thread_win32.ci, vm.c,\n\t  vm.h, vm_dump.c, vm_evalbody.ci, yarvcore.c, yarvcore.h:\n\t  fixed indents and non-C90 comments.\n\n\t* regenc.h: revert to before YARV.\n\n\t* lib/mkmf.rb (create_makefile): make object files depend on\n\t  extconf.h even if depend file exists.\n\nFri Feb  2 23:39:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* common.mk (bin): add more dependency.  a patch from Tadashi\n\t  Saito <shiba at mail2.accsnet.ne.jp>.  [ruby-dev:30245]\n\nFri Feb  2 18:44:31 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insns.def (setclassvariable): remove warn argument.\n\nFri Feb  2 18:36:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* common.mk (compile.$(OBJEXT)): add config.h to vm.c and\n\t  compile.c.\n\nFri Feb  2 18:27:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c: remove duplicated global variables rb_cProc and\n\t  rb_cBinding.  [ruby-dev:30242]\n\nFri Feb  2 00:13:44 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (SYMBOL_P): make Symbol immediate again for performance.\n\n\t* string.c: redesign symbol methods.\n\nThu Feb  1 23:25:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_id2str): store Strings for operator symbols.\n\t  [ruby-dev:30235]\n\nThu Feb  1 21:04:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (assignable_gen): no need to generate NODE_CVDECL.\n\n\t* compile.c (iseq_compile_each): no NODE_CVDECL.\n\nThu Feb  1 20:53:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm.c (eval_get_cvar_base): destination for class variable access\n\t  is now strictly innermost surrounding class or module.  warned\n\t  if accessed from toplevel.\n\n\t* variable.c (rb_cvar_get): new class variable look-up scheme:\n\t  1) look up in the class.  2) if the class is singleton attached\n\t  to a class (i.e. metaclass) then start look up in the attached\n\t  class and its ancestors. 3) otherwise, look-up in ancestors of\n\t  the class.\n\n\t* eval.c (cvar_cbase): destination for class variable access is\n\t  the class/module that holds the method, or cbase outside of\n\t  methods.\n\nThu Feb  1 20:31:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_cvar_set): remove warn argument.\n\nWed Jan 31 14:52:09 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_block_given_within_iterator):\n\t  add new test.  [ruby-core:10125]\n\nTue Jan 30 17:01:21 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_sub_bang): calling rb_str_modify() should be just\n\t  before actually modifying the string.\n\t  fixed: [ruby-dev:30211] (originally reported by zunda)\n\nTue Jan 30 13:24:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_pred): add Integer#pred corresponding\n\t  Integer#succ.  [RCR#5]\n\nTue Jan 30 12:05:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: autoconf 2.61 support.  [ruby-core:10016]\n\nMon Jan 29 23:52:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* tool/compile.rb: replace YARVCore by VM class.\n\nMon Jan 29 17:52:44 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/date/format.rb (Date::Format::Bag::method_missing): add\n\t  prefix to avoid making t class-local instance variable.\n\nMon Jan 29 21:32:37 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE.locale=, WIN32OLE.locale,\n\t  WIN32OLE_VARIANT#vartype.\n\n\t* test/win32ole/test_win32ole.rb: add test for WIN32OLE.locale=,\n\t  WIN32OLE.locale.\n\n\t* test/win32ole/test_win32ole_variant.rb: add test for\n\t  WIN32OLE_VARIANT#vartype.\n\nMon Jan 29 14:14:35 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* tool/parse.rb: replace YARVCore by VM class.\n\t  http://d.hatena.ne.jp/ysano2005/20070128\n\nSun Jan 28 08:41:49 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: refactoring.\n\nSat Jan 27 18:36:33 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata): bug fix.\n\t  WIN32OLE_VARIANT.new check that 1st argument should T_ARRAY\n\t  when variant type is VT_ARRAY.\n\n\t* test/win32ole/test_win32ole_variant.rb: add some test.\n\nFri Jan 26 23:55:56 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: bug fix of WIN32OLE_VARIANT when variant\n\t  type is VT_BYREF|VT_VARIANT.\n\n\t* test/win32ole/test_win32ole_variant_with_ie.rb: ditto.\n\nFri Jan 26 12:03:39 2007  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb (TkConfigMethod#__confinfo_cmd,\n\t  __conv_keyonly_optkeys): make them private [ruby-dev:30074].\n\n\t* ext/tk/lib/tk/txtwin_abst.rb: fix typo [ruby-dev:30073].\n\n\t* ext/tk/lib/tk/canvas.rb (TkCanvas#scan_dragto): lack of an argument.\n\n\t* ext/tk/lib/tk/canvas.rb: clarify the including module name\n\t  [ruby-dev:30080].\n\n\t* ext/tk/lib/tk/scrollable.rb: change primary name of modules\n\t  [ruby-dev:30080].\n\nFri Jan 26 07:48:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_init_copy): need to copy internal\n\t  structure on clone and dup.  [ruby-dev:30192]\n\nWed Jan 24 20:34:51 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/ruby/test_iterator.rb: removed a needless workaround.\n\nWed Jan 24 18:05:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-font-lock-syntactic-keywords): fix\n\t  regexp font-lock bug.  [ruby-talk:235758]\n\nTue Jan 23 18:26:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): use == instead\n\t  of ===.  [ruby-dev:30176]\n\nTue Jan 23 15:39:25 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* Makefile.in, common.mk, configure.in, */{Makefile.sub, configure.bat,\n\t  setup.mak}: add --with-baseruby configure option.\n\nMon Jan 22 14:57:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: fix errors in socket sample code.\n\t  [ruby-core:09992]\n\nSat Jan 20 21:05:18 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fole_s_set_code_page): WIN32OLE.codepage=\n\t  accepts installed codepage.\n\n\t* test/win32ole/test_win32ole.rb (test_s_codepage_changed): ditto.\n\nSat Jan 20 11:18:49 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_invoke, ole_invoke2, ole_propertyput):\n\t  modify WIN32OLERuntimeError message.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nSat Jan 20 06:45:21 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_proc.c (method_receiver): add new method to get the bound\n\t  receiver of the method object.  [ruby-talk:234949]\n\n\t* eval_proc.c (method_name): new method to get the name of a\n\t  method.\n\n\t* eval_proc.c (method_owner): a new method to get the class or\n\t  module that defines the method.\n\nFri Jan 19 17:12:23 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): add WIN32OLE_VARIANT::Empty,\n\t  WIN32OLE_VARIANT::Null, WIN32OLE_VARIANT::Nothing.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\n\t* test/win32ole/test_nil2vtempty.rb(test_openSchema): ditto.\n\nFri Jan 19 06:53:38 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (olevariant_free): fix memory leak.\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata):\n\t  WIN32OLE_VARIANT.new accepts nil as first argument for some VARIANT\n\t  TYPE.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\nWed Jan 17 17:31:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* some refactoring around yarvcore and proc.\n\n\t* eval_proc.c: renamed to proc.c.\n\n\t* common.mk: ditto.\n\n\t* yarvcore.h, yarvcore.c: rename or remove some global variables\n\t  removed: mYarvCore, mYarvInsns\n\t  renamed: cYarvISeq -> rb_cISeq,\n\t           cYarvProc -> rb_cProc, cYarvBinding -> rb_cBinding\n\t  ::YarvCore module is removed and ::YarvCore::VM class becomes ::VM.\n\t  And change/remove some functions which added with YARV.\n\n\t* compile.c: ditto.\n\n\t* eval.c: ditto.\n\n\t* iseq.c: ditto.\n\n\t* vm.c: ditto.\n\n\t* inits.c: rename Init_yarvcore to Init_vm.\n\n\t* yarvcore.c, proc.c: move some functions and initialization\n\t  from yarvcore.c to proc.c.\n\n\t* intern.h, proc.c: add global function rb_binding_new(void).\n\nTue Jan 16 17:49:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (eval_search_super_klass): rename to search_super_klass() and\n\t  use it by th_call_super().\n\n\t* insns.def: ditto.\n\nTue Jan 16 17:48:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: fix ruby script path.\n\nTue Jan 16 17:39:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (invoke_block): fix to specify self.\n\nTue Jan 16 12:12:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* env.h: removed\n\nTue Jan 16 12:00:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_proc.c (rb_proc_new): added.\n\n\t* string.c (sym_to_proc): supported.\n\n\t* vm.c (invoke_block, th_invoke_yield, th_invoke_proc): fix to support\n\t  rb_proc_new.\n\n\t* yarvcore.c: add a test code.\n\nSat Jan 13 23:24:59 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_free, ole_type_free,\n\t  olemethod_free, olevariable_free, oleparam_free,\n\t  ole_event_free): fix memory leak.  [ruby-core:09846]\n\nWed Jan 10 00:10:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_replace): use ptr and len of orig instead of\n\t  shared.  fixed: [ruby-dev:30116]\n\nTue Jan  9 17:48:38 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (rb_find_file): should not call fpath_check() with NULL.\n\t  fixed: [ruby-core:09867]\n\nTue Jan  9 12:29:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/etc/etc.c (etc_getpwuid, etc_getgrgid): fix to correctly\n\t  convert uid/gid from VALUE.\n\n\t* ext/etc/etc.c (etc_getpwuid): ditto.\n\nTue Jan  9 03:54:38 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_upto): String#upto from empty string makes\n\t  infinite loop.  [ruby-core:09864]\n\n\t* string.c (rb_str_upto): use RSTRING_LEN().\n\nSun Jan  7 18:36:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_stop_timer_thread(), rb_thread_reset_timer_thread(),\n\t  rb_thread_start_timer_thread()): added.\n\n\t* thread_pthread.ci: add a native_thread_join() and move\n\t  rb_thread_reset_timer_thread() definition to thread.c.\n\n\t* thread_win32.ci: ditto\n\n\t* process.c: fix before_exec(), after_exec() to stop timer thread\n\t  (and restart timer thread if exec failed).  and fix to reset\n\t  timer thread information when forked child process starts\n\t  (to fix [ruby-core:09822]).\n\nSun Jan  7 18:28:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: add a \"compare\" rule and fix MATZRUBY variable\n\nSun Jan  7 17:47:16 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole.rb: add test for WIN32OLE#[],\n\t  WIN32OLE#[]=.\n\n\t* ext/win32ole/win32ole.c: update comment for rdoc of\n\t  WIN32OLE#[] and WIN32OLE#[]=.\n\nSun Jan  7 12:13:26 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#find_class_comment):\n\t  Look for class and module comments above rb_define_class and\n\t  rb_define_module.  Patch by Daniel Berger <djberg96 at gmail.com>\n\nSun Jan  7 10:32:12 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#handle_constants):\n\t  Properly handle escaping of : in comments.\n\t* test/rdoc/parsers/test_parse_c.rb:\n\t  Test RDoc::C_Parser#do_classes and Rdoc::C_Parser#find_class_comment.\n\nSun Jan  7 09:31:18 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: updated based on date2 4.0.1.\n\nSat Jan  6 18:46:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline_fast, rb_io_getline): increase lineno\n\t  when met the delimiter or EOF.  fixed: [ruby-dev:30081]\n\n\t* io.c (prepare_getline_args, rb_io_getline_1): split\n\t  preparation of arguments and reading.  [ruby-dev:30085]\n\nSat Jan  6 13:48:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (send): fix to optimize send() with Symbol.\n\n\t* yarvtest/test_method.rb: add another test.\n\nSat Jan  6 13:43:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: add PHONY dependency to some rules\n\nSat Jan  6 11:50:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_read): fix wrong replacement.  [ruby-dev:30070]\n\nSat Jan  6 09:10:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def: support direct method dispatch with \"send\" or \"funcall\".\n\t  This means that \"obj.send :m\" skips \"BasicObject#send\" invocation\n\t  (method frame creation, etc) and \"obj.m\" invokes directly.\n\t  If you make backtrace, there are no entries of \"send\" method.\n\n\t* compile.c (iseq_specialized_instruction): fix to support above\n\n\t* eval.c: ditto (remove \"static\" from rb_f_send and rb_f_funcall\n\n\t* yarvcore.c: ditto (add a external IDs for compiler)\n\n\t* yarvcore.h: ditto (add a VM_CALL_SEND_BIT macro)\n\n\t* yarvtest/test_method.rb: add tests for above changes\n\n\t* eval.c: remove unused \"Kernel#send\" declaration\n\nSat Jan  6 08:29:17 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): add\n\t  WIN32OLE::VARIANT::VT_EMPTY, WIN32OLE::VARIANT::VT_NULL\n\n\t* test/win32ole/test_win32ole_variant_m.rb (test_variant): ditto.\n\nSat Jan  6 03:49:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/run.rb: change option format\n\n\t* common.mk: ditto\n\nFri Jan  5 22:21:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_app_pentomino.rb: use Array#dup instead of\n\t  Array#clone\n\n\t* benchmark/bmx_temp.rb: removed\n\n\t* benchmark/run.rb: use run.rb instead of run_rite.rb\n\n\t* common.mk: ditto\n\n\t* benchmark/run_rite.rb: removed\n\n\t* common.mk: use $(srcdir)/test.rb to run a test program\n\t  with \"make run\"\n\n\t* benchmark/bmx_temp.rb: removed and\n\t  set svn:ignore (bmx_*.rb) to benchmark/\n\n\t* test.rb: set svn:ignore\n\nFri Jan  5 21:03:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvtest/yarvtest.rb: fix to compare results\n\nFri Jan  5 20:52:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, compile.h: add ADD_CALL_RECEIVER() macro.\n\n\t* insns.def (send): use GET_SELF() direct if FCALL.\n\n\t* eval.c (rb_f_send): check method dispatch type to permit\n\t  invoking private method when dispatch type is FCALL/VCALL\n\n\t* insns.def (opt_ltlt): remove useless statement.\n\n\t* vm.h: remove unused macros.\n\nFri Jan  5 20:50:31 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/run_rite.rb: fix to use readlines instead of\n\t  read(...).lines (because 1.8 doesn't have String#lines).\n\nFri Jan  5 20:28:19 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_win32.ci (rb_thread_reset_timer_thread):\n\t  added ([ruby-dev:30086]).\n\nFri Jan  5 20:20:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: add .SUFFIXES rule\n\nFri Jan  5 15:58:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_method.h (rb_alias): fix to check search result\n\nFri Jan  5 13:59:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_method.h (rb_add_method): fix to check old_node\n\nFri Jan  5 12:03:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each, set_block_local_tbl):\n\t  support NODE_LAMBDA (partly).\n\n\t* sample/test.rb: restore test of NODE_LAMBDA\n\n\t* test/ruby/test_lambda.rb: ditto\n\nFri Jan  5 12:31:23 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* thread_pthread.ci (native_sleep): fix tv_nsec overflow.\n\nThu Jan  4 20:01:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: rename yarv-test-[all/each] to compare-test[/-each].\n\t  purpose of \"compare-test\" rule is to compare ruby (trunk) and\n\t  matzruby (branches/matzruby) binary in miniruby level.  MATZRUBY\n\t  parameter means an path to miniruby of matzruby binary.  to do this\n\t  comparison test, you should build matzruby branch.\n\n\t* yarvtest/yarvtest.rb: fix to use command line option as\n\t  command names to be compared.\n\n\t* yarvtest/runner.rb: remove a debug output.\n\nThu Jan  4 19:12:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: fix to use test.rb script in build directory.\n\t  ($(srcdir)/test.rb -> test.rb)\n\nThu Jan  4 17:28:05 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/utils.rb (WEBrick::Utils::TimeoutHandler#initialize):\n\t  Arrays could not be modified in its each block. [ruby-dev:30063]\n\nThu Jan  4 16:57:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarv_version.h: removed.\n\n\t* common.mk: remove yarv_version.h from rules\n\n\t* yarvcore.h (Init_yarvcore): remove useless constants\n\nThu Jan  4 17:00:06 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (Init_ossl_asn1):\n\t  OpenSSL::ASN1::ASN1Data#value,#tag,#tag_class and\n\t  OpenSSL::ASN1::BitString#unused_bits should be public.\n\nThu Jan  4 13:45:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.ci: fix last changes around PTHREAD_STACK_MIN.\n\nThu Jan  4 13:42:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: restore changes.\n\nThu Jan  4 10:33:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.ci: fix to skip using PTHREAD_STACK_MIN.\n\t  [ruby-dev:30063]\n\nThu Jan  4 10:30:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/run_rite.rb (bm): fix to use lines.\n\nWed Jan  3 18:49:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_getline): lineno update condition was wrong.\n\t  [ruby-dev:30065]\n\n\t* io.c (rb_io_getline_fast): ditto.\n\nWed Jan  3 11:36:51 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (ruby_dup): start GC on ENOMEM as well.\n\nTue Jan  2 10:29:54 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* ext/zlib/zlib.c: fix to compile on YARV\n\t  ruby_errinfo -> rb_errinfo()\n\nMon Jan  1 08:07:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/tk/tcltklib.c: fix to compile on YARV\n\t  ruby_errinfo -> rb_errinfo(),\n\t  ruby_safe_level -> rb_safe_level().\n\nMon Jan  1 07:57:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/drb/test_drbssl.rb: fix to skip drb tests.\n\nMon Jan  1 06:13:11 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/c_parser.rb: Make Rdoc accessible.  Update constant\n\t  value information.\n\nMon Jan  1 06:13:11 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* ext/bigdecimal/bigdecimal.c: Update constant comments to provide\n\t  values for RDoc.\n\nMon Jan  1 06:05:55 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#handle_constants):\n\t  Allow RDoc comment to give friendly value for rb_define_const.  Patch\n\t  by Daniel Berger <djberg96 at gmail.com>, [ruby-patches-7499].\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#handle_constants): Fix\n\t  whitespace handling in constant comments.\n\nMon Jan  1 00:00:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* Merge YARV\n\nSun Dec 31 16:22:48 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* array.c: Fix Array#reject.\n\nSun Dec 31 00:46:25 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date2.rb: removed.\n\nSun Dec 31 00:15:13 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 4.0.\n\nSat Dec 30 04:38:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_each_with_index): reuse array for yield parameters.\n\n\t* enum.c (enum_min, enum_max): ditto.\n\nSat Dec 30 04:25:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_inject): reuse array for yield parameters.\n\nSat Dec 30 02:54:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_gets): accepts limit argument.\n\n\t* ext/stringio/stringio.c (strio_readline, strio_each,\n\t  strio_readlines): ditto.\n\nSat Dec 30 02:22:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_getline): add limit capability.\n\n\t* io.c (rb_io_gets_m): accepts limit argument.  [ruby-talk:231563]\n\n\t* io.c (rb_io_readline, rb_io_readlines, rb_io_each_line, argf_getline):\n\t  ditto.\n\n\t* io.c (appendline): add limit capability.\n\n\t* io.c (rb_io_getline_fast, rb_io_getline): ditto.\n\n\t* io.c (rb_io_getline): small refactoring for DRY.\n\n\t* io.c (rb_io_s_foreach, rb_io_s_readlines): small refactoring.\n\nThu Dec 28 15:27:38 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie::initialize): use Array() again.\n\t  [ruby-core:09781]\n\nWed Dec 27 20:52:32 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: remove WIN32OLE::PROPERTY class.\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: ditto.\n\nWed Dec 27 10:04:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_Array): returns 1-element array if the argument\n\t  does not have to_ary nor to_a.\n\nTue Dec 26 21:02:14 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_folderitem2_invokeverb.rb: The argument\n\t  of Shell.NameSpace should not be file path.\n\nTue Dec 26 06:13:08 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/bigdecimal/bigdecimal.c: remove useless method\n\t  BigDecimal#!=. [ruby-dev:30050]\n\nThu Dec 21 15:37:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_slice_bang): rdoc description bug fixed.\n\t  [ruby-core:09754]\n\nWed Dec 20 12:54:31 2006  Koichi Sasada  <ko1@atdot.net>\n\n\t* Convert CVS repository to Subversion repository.\n\nMon Dec 18 08:36:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie::initialize): Array(string) no longer\n\t  works.  [ruby-core:09738]\n\nFri Dec 15 00:19:53 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (COMPILE_RULES): latter rule has higher priority.\n\n\t* lib/mkmf.rb (create_makefile): remove static library before update,\n\t  to get rid of sludge of Borland tlib.exe.\n\nThu Dec 14 18:29:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/readline/readline.c: NetBSD editline does not have\n\t  rl_username_completion_function() and rl_completion_matches().\n\t  a patch from Takahiro Kambe <taca at back-street.net>.\n\t  [ruby-dev:30008]\n\nThu Dec 14 18:20:43 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/locale.rb (IRB::Locale::puts): typo fixed.  a patch from\n\t  NAKAMURA Usaku <usa@ruby-lang.org>.  [ruby-dev:30012]\n\nTue Dec 12 23:33:53 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (Switch#parse_arg, Switch#conv_arg): splat failures.\n\nMon Dec 11 11:51:10 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/sha2/lib/sha2.rb: Moved one level up from under\n\t  the superfluous subdirectory digest/.\n\nMon Dec 11 11:46:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_define_const): typo fixed.\n\nMon Dec 11 09:36:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_aset): index double decode problem.\n\t  [ruby-core:09695]\n\nSat Dec  9 21:39:24 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): keep the exception till after END blocks.\n\t  [ruby-core:09675]\n\nSat Dec  9 11:22:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/locale.rb (IRB::Locale::search_file): use File.exist?\n\t  instead of File.exists?.  a patch from Yutaka Kanemoto\n\t  <kinpoco at gmail.com> in [ruby-dev:30000].\n\nFri Dec  8 18:11:18 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/optparse.rb: cannot put :nodoc: before method definition.\n\t  put after it.\n\nFri Dec  8 17:00:13 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bin/rdoc: use File.exist? instead of File.exists?.\n\nThu Dec  7 23:50:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): new method Dir.exist?(path).\n\t  [ruby-core:09663]\n\n\t* file.c (Init_File): remove File.exists?; use File.exist?\n\t  instead.\n\n\t* file.c: rename functions to test_* to rb_file_*_p.\n\nThu Dec  7 09:29:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/weakref.rb (WeakRef::__setobj__): should support\n\t  marshaling.  [ruby-talk:228508]\n\nWed Dec  6 23:58:36 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.mk (NULLCMD): moved for platforms that empty\n\t  command does not run.  fixed: [ruby-dev:29994]\n\n\t* win32/win32.c (init_stdhandle): redirect unopened IOs to NUL.\n\t  [ruby-core:09572]\n\nTue Dec  5 19:01:42 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (SITE_DIR): fixed to empty RUBY_SITE_LIB in config.h on\n\t  NetBSD.  fixed: [ruby-dev:29358]\n\nTue Dec  5 18:38:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/matrix.rb (Matrix::rank): use quo method to avoid integer\n\t  division problem.  [ruby-core:09644]\n\n\t* lib/matrix.rb (Matrix::rank_e): ditto.\n\nTue Dec  5 00:59:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-parse-partial): need to parse \"/=\" as\n\t  self assignment operator, not regex.  [ruby-talk:227324]\n\nTue Dec  5 00:19:14 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h, object.c, variable.c (rb_mod_constants): added an optional\n\t  flag to search ancestors, which is defaulted to true, as well as\n\t  const_defined? and const_get.  [ruby-dev:29989]\n\nMon Dec  4 23:49:28 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (install_recursive): get rid of warning.\n\n\t* lib/optparse.rb (CompletingHash#match): get rid of splat failure.\n\nMon Dec  4 19:16:39 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb: Do alias << update.\n\nMon Dec  4 10:48:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (OFFT2NUM): use LONG2NUM() if sizeof(long) equals to\n\t  sizeof(off_t).\n\nMon Dec  4 08:32:25 2006  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): should quote\n\t  boundary. JVN#84798830\n\nSun Dec  3 16:16:53 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb: Fix problems with update\n\t  timing. [Reported by: oss-ruby@technorama.net]\n\nSat Dec  2 07:33:53 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils::FormData::<<):\n\t  HTTPUtils::parse_header() takes a string.  [ruby-dev:29931]\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils::parse_header):\n\t  String does no longer have each method.\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils::parse_form_data):\n\t  ditto.\n\nSat Dec  2 07:09:04 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ocsp.c: OpenSSL::OCSP::OSCPError should be\n\t  subclass of OpenSSL::OpenSSLError. [ruby-dev:29980]\n\nFri Dec  1 16:31:53 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: shouldn't run the killed thread at callback.\n\t  [ruby-talk: 227408]\n\nTue Nov 28 17:25:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (ary_iter_check): should check modification (size\n\t  change) during iteration.\n\n\t* array.c (rb_ary_initialize, rb_ary_shift, rb_ary_unshift,\n\t  rb_ary_splice, rb_ary_reverse, rb_ary_sort, rb_ary_delete,\n\t  rb_ary_delete_at, rb_ary_reject_bang, rb_ary_replace,\n\t  rb_ary_clear, rb_ary_fill, rb_ary_uniq_bang, rb_ary_compact,\n\t  rb_ary_shuffle): add iteration check.\n\nMon Nov 27 09:00:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_ord): typo fixed.  reported from Kornelius\n\t  Kalnbach <murphy@rubychan.de>.  [ruby-core:09621]\n\nSun Nov 26 16:36:46 2006  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* version.h: addition of RUBY_PATCHLEVEL.\n\t* version.c: ditto.\n\nWed Nov 22 16:00:49 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/extconf.rb: support --with-X11/--without-X11 option.\n\n\t* ext/tk/README.tcltklib: add description about --with-X11-* option\n\t  [ruby-talk:225166] and --with-X11/--without-X11 option.\n\n\t* ext/tk/tkutil/extconf.rb: able to be called manually\n\t  [ruby-talk:225950].\n\nSat Nov 18 23:39:20 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_tap): a new method.  [ruby-talk:224013]\n\nWed Nov 15 23:22:54 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (test_grpowned, rb_stat_grpowned): should honor\n\t  supplementary group IDs.  [ruby-core:09546]\n\nTue Nov  7 18:35:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (formal_assign): need to pack rest arg information in\n\t  argc.\n\nTue Nov  7 18:05:01 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/itemconfig.rb: minor bug fix.\n\nTue Nov  7 17:52:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* class.c (rb_include_module): revert duplicate inclusion of\n\t  modules.  [ruby-dev:29793]\n\nTue Nov  7 17:18:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (method_missing): update old argument adjustment.\n\nTue Nov  7 16:41:21 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (when_check): need to splat for NODE_ARGSCAT as well.\n\t  [ruby-dev:29860]\n\nMon Nov  6 22:23:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (Init_String): remove duplicated definition of\n\t  Symbol#to_s.\n\nMon Nov  6 18:54:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (svalue_to_avalue): need to splat but no error.\n\n\t* eval.c: new macros - YIELD_CALL, YIELD_VALUES.\n\n\t* eval.c (rb_yield_values): specify YIELD_VALUES.\n\n\t* eval.c (rb_yield_0): use new macros.\n\n\t* eval.c (proc_invoke): slightly modified to separate YIELD_CALL\n\t  and YIELD_VALUES from YIELD_ARY_ARGS.\n\n\t* object.c (Init_Object): add nil.to_splat => [].\n\nMon Nov  6 15:41:55 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/itemconfig.rb: ext/tk/lib/tk/itemconfig.rb: bug\n\t  fix on 'itemconfiginfo' method, and modify to make it easy to\n\t  override 'itemconfiginfo' method.\n\n\t* ext/tk/lib/tkextlib/tile/treeview.rb: support Tile 0.7.8.\n\n\t* ext/tk/lib/tkextlib/version.rb: [new] add Tk::Tkextlib_RELEASE_DATE\n\t  to get the information from scripts.\n\n\t* ext/tk/lib/tk.rb: load 'tkextlib/version.rb', and update RELEASE_DATE\n\n\t* ext/tk/lib/tkextlib/SUPPORT_STATUS: update.\n\n\t* ext/tk/sample/editable_listbox.rb: [new] the listbox with editable\n\t  items. It's one of the example about usage of Place geometry manager.\n\n\t* ext/tk/sample/tktextio.rb: improve the functions of TkTextIO class.\n\t  Those are required by 'irbtkw.rbw'.\n\n\t* ext/tk/sample/irbtkw.rbw: [new] IRB on Ruby/Tk. It doesn't need any\n\t  real console. IRB works on a text widget without I/O blocking. That\n\t  is, thread switching on IRB will work properly, even if on Windows.\n\nMon Nov  6 00:42:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (arg_dup_check): vid may be nameless internal id.\n\nSun Nov  5 19:52:19 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: updated based on date2 3.9.7.\n\nSat Nov  4 13:09:31 2006  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: accept NOMODSEQ. [ruby-core:9002]\n\nFri Nov  3 00:16:37 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_getnameinfo__aix): AF_INET6 workaround\n\t  for AIX.  a patch from Yutaka Kanemoto <kinpoco AT gmail.com>.\n\t  [ruby-dev:29744]\n\nThu Nov  2 14:19:44 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#^): Fix XOR operation against a container that\n\t  holds duplicate values. [ruby-core:9372]\n\nThu Nov  2 10:00:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c: class Symbol is no longer subclass of String. also\n\t  covers [ruby-core:09366]\n\nThu Nov  2 08:21:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/xmlrpc/create.rb (XMLRPC::Create::conv2value): Symbol should\n\t  come earlier than String.\n\n\t* lib/soap/mapping/rubytypeFactory.rb (RubytypeFactory::obj2soap):\n\t  ditto.\n\n\t* lib/set.rb (TC_Set::test_s_new): strings are no longer\n\t  Enumerable\n\n\t* lib/soap/property.rb (Property::load): ditto.\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils::parse_header): ditto.\n\n\t* lib/soap/mimemessage.rb (MIMEMessage::Headers::parse): ditto.\n\nThu Nov  2 09:08:04 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c: revert lfree shift/unshift boost patch to avoid unknown\n\t  memory error.\n\nWed Nov  1 23:24:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (struct RArray): revert embedding ptr in RVALUE.\n\n\t* array.c: ditto.\n\nWed Nov  1 23:01:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (hash): use Bob Jenkins' hash algorithm.\n\nWed Nov  1 02:22:31 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb (Digest::HMAC::update): Minor\n\t  optimization.\n\n\t* ext/digest/digest.c (rb_digest_instance_equal): Allow comparing\n\t  a digest instance with another of a different class.\n\nWed Nov  1 01:05:13 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_call0): fixed bug of zsuper with both of opt and rest.\n\t  fixed: [ruby-list:42928]\n\nTue Oct 31 17:03:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_dup): duplicate the class of original time.\n\t  [ruby-core:09357]\n\n\t* lib/time.rb (Time::make_time, Time::rfc2822, Time::httpdate):\n\t  should respect subclasses.  [ruby-core:09357]\n\nTue Oct 31 16:25:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (ary_shared_first): should address offset after\n\t  ary_shared_array().  [ruby-core:09358]\n\nMon Oct 30 23:40:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (miniruby): add XLDFLAGS.\n\n\t* configure.in (aix): use -bE option for miniruby.  [ruby-dev:29698]\n\n\t* dir.c (glob_helper): get rid of possible memory leak.\n\n\t* win32/win32.c (cmdglob, rb_w32_cmdvector, rb_w32_opendir,\n\t  rb_w32_get_environ): not to use GC before initialization.\n\nMon Oct 30 19:28:02 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): use better approximation.\n\nMon Oct 30 18:35:33 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): wrong allocation length.  a patch from\n\t  U.Nakamura <usa at garbagecollect.jp> [ruby-dev:29710]\n\nMon Oct 30 12:34:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): fix commit miss.  [ruby-dev:29707]\n\nMon Oct 30 11:15:40 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): should preserve leading zero\n\t  information for negative %b and %x.  [ruby-talk:221347]\n\nSun Oct 29 19:51:31 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* regexec.c: invalid offset value was used in STATE_CHECK_BUFF_INIT().\n\nSat Oct 28 20:13:18 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.4.5\n\n\t* regint.h: ditto.\n\n\t* regerror.c: ditto.\n\n\t* regexec.c: ditto.\n\n\t* regcomp.c ditto.\n\n\t* regparse.c ditto.\n\nSat Oct 28 07:56:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_object0): missing break.  [ruby-core:09345]\n\nFri Oct 27 17:30:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enum_each_cons): move RETURN_ENUMERATOR() after\n\t  argument check.\n\nThu Oct 26 21:05:48 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkcs7.c (ossl_pkcs7_verify): should clear error.\n\t  (fix http://bugs.debian.org/394336)\n\n\t* ext/openssl/ossl_ns_spki.c (ossl_spki_initialize): ditto.\n\nThu Oct 26 15:23:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c: remove by_slice and by_cons.\n\nThu Oct 26 15:12:12 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/digest/digest.c (Init_digest): typo.\n\nWed Oct 25 17:16:05 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/digest/test_digest_hmac.rb: added.\n\nWed Oct 25 16:34:31 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/test.sh: make this script work again.\n\nWed Oct 25 07:59:42 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: updated based on date2 3.9.6.\n\t  [ruby-core:09323]\n\nWed Oct 25 00:58:19 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/mkexports.rb, win32/resource.rb: use unique variable names.\n\nTue Oct 24 19:18:53 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_by_slice): new method added.\n\n\t* enumerator.c (enumerator_by_cons): ditto.\n\nTue Oct 24 18:56:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enum_each_slice, enum_each_cons): returns\n\t  Enumerable::Enumerator if no block is given.  [ruby-dev:29246]\n\n\t* enumerator.c: remove methods: enum_with_index, enum_slice,\n\t  enum_cons.  [ruby-dev:29246]\n\nTue Oct 24 18:51:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_zip): add RETURN_ENUMERATOR() to zip method.\n\nMon Oct 23 04:30:04 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_object0): use return value from proc given as the\n\t  second argument to Marshal#load() to allow value replacement in\n\t  the restoring data.\n\nSun Oct 22 14:48:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (Init_signal): avoid duplicated installation of SIGCHLD\n\t  handler.\n\nSun Oct 22 16:47:56 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_substr): should be infected with only original\n\t  string, but not the shared string.  fixed: [ruby-core:09152]\n\n\t* string.c (rb_str_new4): keep shared string untainted when original\n\t  string is tainted.  fixed: [ruby-dev:29672]\n\nSun Oct 22 07:55:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_upcase, rb_str_downcase, rb_str_downcase,\n\t  rb_str_upcase_bang, rb_str_downcase_bang, rb_str_swapcase_bang):\n\t  add RDoc description that case conversion to be effective only\n\t  in ASCII region.\n\nSun Oct 22 05:20:34 2006  URABE Shyouhei  <shyouhei@ice.uec.ac.jp>\n\n\t* configure.in: alloca is broken; use C_ALLOCA instead.\n\t  [ruby-dev:29416]\n\nSat Oct 21 17:50:40 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest.rb: Follow the framework updates.\n\nFri Oct 20 22:00:43 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb: Complete half-boiled updates.\n\n\t* ext/digest/sha2/lib/digest/sha2.rb: Fix #initialize_clone().\n\nFri Oct 20 20:28:37 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest: Prefix C constants with RUBY_ and C type names with\n\t  rb_ to avoid name clash in writing extensions.\n\n\t* ext/digest: Introduce Digest::Class and Digest::Instance for\n\t  ease of implementing subclasses and add-ons, inspired by\n\t  gotoyuzo.\n\n\t* ext/digest: The Digest::Instance module now requires and assumes\n\t  that any instance be resettable and clonable, and add some\n\t  convenient instance methods such as \"new()\", for creating a new\n\t  copy, parameter taking \"digest()\" and \"hexdigest()\", for instant\n\t  calculation.  These methods make digest instances work just like\n\t  digest classes.\n\n\t* ext/digest/sha2/lib/digest/sha2.rb:\n\t  Add the Digest::SHA2 class to wrap up SHA2 variants: SHA256,\n\t  SHA384 and SHA512, hoping this module would make a decent\n\t  example of a digest subclass written in Ruby.\n\n\t* ext/digest/lib/digest.rb: Adjust autoload entries for SHA2\n\t  classes.\n\n\t* ext/digest/lib/digest/hmac.rb: Follow the framework updates.\n\nFri Oct 20 10:47:43 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb: fixed the bug of handling COMMON_MACROS.\n\nFri Oct 20 08:42:38 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (NULLCMD): dummy command.\n\n\t* bcc32/Makefile.sub (post-install-*): Borland make cannot ignore\n\t  command-less double-colon rules.  [ruby-dev:29676]\n\nFri Oct 20 00:37:07 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/Makefile.sub ($(LIBRUBY_SO)): execute pre-link hook.\n\n\t* ext/extmk.rb: workaround for Borland make.\n\nWed Oct 18 23:02:40 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_shift): shorten copy size.  fixed: [ruby-list:42907]\n\n\t* signal.c (Init_signal): handle SIGTERM.  fixed: [ruby-list:42895]\n\n\t* win32/win32.c (rb_w32_utime): allow NULL to set the current time.\n\t  [ruby-talk:219248]\n\nWed Oct 18 13:25:50 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_each_line): String#lines now works when a block\n\t  is given.  in other words, lines become an alias to each_line.\n\t  [ruby-core:09218]\n\n\t* string.c (rb_str_each_byte): ditto for bytes in place of lines.\n\nWed Oct 18 00:55:33 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_yylex): use particular enums.  [ruby-core:09221]\n\nTue Oct 17 22:03:08 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/erb.rb: String#each was removed, use #each_line instead.\n\nTue Oct 17 12:27:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (ary_shared_array): should set NOEMBED flag for a copied\n\t  array.\n\nTue Oct 17 08:04:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_lines): now takes optional argument for the\n\t  line separator.\n\n\t* io.c (rb_io_lines, rb_io_bytes): new methods.\n\nMon Oct 16 23:33:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_unshift_m): a bug in lfree shift length\n\t  calculation.\n\nMon Oct 16 08:30:43 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: *OBJS are not needed for extension libraries.\n\n\t* {bcc32,wince,win32}/Makefile.sub (config.status): fixed typo,\n\t  missing comma.\n\nMon Oct 16 00:44:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_unpack): execute block if given with unpacked value\n\t  instead of creating an array.  an idea from Tim Bray.\n\nSun Oct 15 01:03:08 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (Collector::Dir#collect): append base\n\t  directory but not prepend.\n\n\t* lib/test/unit/collector/dir.rb (Collector::Dir#collect_file): do not\n\t  join with dot.  fixed: [ruby-core:09179]\n\nSat Oct 14 23:39:50 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (singleton): no need to re-create NODE_SELF() again.\n\t  [ruby-core:09177]\n\nSat Oct 14 23:25:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_warning, parser_warn): some error message may\n\t  contain format specifiers.  a patch from Akinori MUSHA <knu at\n\t  iDaemons.org>.  [ruby-dev:29657]\n\n\t* regparse.c (onig_rb_warning, onig_rb_warn): ditto.\n\n\t* ext/bigdecimal/bigdecimal.c (VpException): ditto.\n\n\t* ext/dl/handle.c (rb_dlhandle_initialize): ditto.\n\n\t* ext/gdbm/gdbm.c (rb_gdbm_fatal): ditto.\n\nSat Oct 14 08:15:42 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c, ext/digest/digest.h,\n\t  ext/digest/md5/md5init.c, ext/digest/rmd160/rmd160init.c,\n\t  ext/digest/sha1/sha1init.c, ext/digest/sha2/sha2init.c:\n\t  Introduce API versioning.\n\n\t* ext/digest/digest.c, ext/digest/digest.h,\n\t  ext/digest/md5/md5init.c, ext/digest/rmd160/rmd160init.c,\n\t  ext/digest/sha1/sha1init.c, ext/digest/sha2/sha2init.c: Remove\n\t  the constants DIGEST_LENGTH and BLOCK_LENGTH and turn them into\n\t  instance methods digest_length() and block_length().  Class\n\t  methods with the same names are also provided, which take extra\n\t  parameters for a digest method.\n\n\t* ext/digest/lib/digest/hmac.rb: Completely redesign the somewhat\n\t  bizarre API, now that Digest classes can take hashing\n\t  parameters.\n\nSat Oct 14 05:54:05 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c: Improve RDoc documentation further more.\n\nSat Oct 14 04:33:33 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c: Improve RDoc documentation.\n\n\t* ext/digest/digest.c (Init_digest, rb_digest_base_s_digest,\n\t  rb_digest_base_s_hexdigest): Make Digest::Base::digest() and\n\t  Digest::Base::hexdigest() take extra arguments, which are passed\n\t  through to the constructor in an internal call.\n\n\t* ext/digest/bubblebabble/bubblebabble.c\n\t  (rb_digest_base_s_bubblebabble): Ditto for\n\t  Digest::Base::bubblebabble().\n\nSat Oct 14 00:55:08 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/Makefile.sub (post-install-ext): no longer needed.\n\n\t* bcc32/configure.bat: get rid of a quirk of Borland make, which\n\t  sets empty macro in command line to \"1\".\n\nFri Oct 13 22:49:02 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: updated based on date2 3.9.5.\n\nFri Oct 13 21:00:01 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest.rb (Digest): Try to auto-load non-standard\n\t  digest modules when a specified digest class is missing.\n\n\t* ext/digest/lib/digest.rb: Define Digest(name) for ease of\n\t  dynamically selecting a hashing algorithm.\n\nFri Oct 13 20:53:37 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (Init_digest): Digest::Base.new() does no\n\t  longer take an initial string to feed.  This change allows\n\t  subclasses to take hashing parameters.  A statement such as\n\t  ``md = Digest::MD5.new(s)'' can be easily rewritten as\n\t  ``md = Digest::MD5.new << s'' or\n\t  ``md = Digest::MD5.new.update(s)''.\n\nFri Oct 13 20:51:55 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c, ext/digest/md5/md5init.c,\n\t  ext/digest/rmd160/rmd160init.c, ext/digest/sha1/sha1init.c,\n\t  ext/digest/sha2/sha2init.c: Add RDoc documentation.\n\n\t* ext/digest/digest.txt, ext/digest/digest.txt.ja: Removed in\n\t  favor of embedded RDoc documentation.\n\nFri Oct 13 20:38:12 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/bubblebabble, ext/digest/digest.c: Rip BubbleBabble\n\t  support out of the base class and have a separate module named\n\t  digest/bubblebabble.\n\nFri Oct 13 19:53:59 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (rb_digest_base_equal): Again, should call\n\t  digest() of a subclass instead of the one defined in the base\n\t  class.\n\nFri Oct 13 18:19:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c: Class#inherited RDoc added.  a patch from Daniel\n\t  Berger <djberg96 at gmail.com>  [ruby-core:08942]\n\nFri Oct 13 02:42:00 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (rb_digest_base_equal): Should call digest()\n\t  of a subclass instead of the one defined in the base class.\n\nFri Oct 13 02:30:12 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (Collector::Dir#collect): prepend\n\t  base directory to load path.\n\n\t* lib/test/unit/collector/dir.rb (Collector::Dir#collect_file): should\n\t  use the given File-like interface, but not File directly.\n\n\t* test/testunit/collector/test_dir.rb (TestDir::FileSystem): implement\n\t  File-like methods correctly.\n\nFri Oct 13 01:48:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/date.rb (Date::self.complete_hash): need to check if g is\n\t  nil before dereference.  [ruby-core:09116]\n\nFri Oct 13 01:05:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_partition): RDoc update.  a patch from\n\t  Mauricio Fernandez <mfp at acm.org>.  [ruby-core:09160]\n\n\t* hash.c (rb_hash_compare_by_id): ditto.\n\nFri Oct 13 00:34:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_mod_cvar_defined): wrong id check.  a patch from\n\t  Mauricio Fernandez <mfp at acm.org>.  [ruby-core:09158]\n\n\t* object.c (rb_mod_cvar_get): typo fixed.  [ruby-core:09168]\n\n\t* object.c (rb_mod_cvar_set): ditto.\n\nThu Oct 12 22:58:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_compare_by_id): somehow we lost renaming from\n\t  Hash#identical.  [ruby-core:09163]\n\nThu Oct 12 18:25:40 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/tk/tkutil/tkutil.c (cbsubst_table_setup): need to handle new\n\t  character literal (1 char string).\n\n\t* lib/mkmf.rb: shut up some warnings from tk's extconf.rb.\n\nThu Oct 12 02:15:24 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb: Make use of String#bytes.\n\nThu Oct 12 02:12:31 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (get_digest_base_metadata): Use an instance\n\t  variable of a class object instead of a class variable for\n\t  metadata.  This change is only crucial for ruby 1.8 because\n\t  class variables are inherited to subclasses prior to 1.9, but\n\t  applying it also to 1.9 will assure compatibilities.\n\n\t* ext/digest/md5/md5init.c (Init_md5): Ditto.\n\n\t* ext/digest/rmd160/rmd160init.c (Init_rmd160): Ditto.\n\n\t* ext/digest/sha1/sha1init.c (Init_sha1): Ditto.\n\n\t* ext/digest/sha2/sha2init.c (Init_sha2): Ditto.\n\nWed Oct 11 21:36:47 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (rb_digest_base_alloc,\n\t  rb_digest_base_equal): Simplify the equality check and just\n\t  compare resulted digests since state-level equality should\n\t  not be so significant.\n\n\t* ext/digest/digest.h: Ditto.\n\n\t* ext/digest/*/*.[ch]: Ditto.\n\nWed Oct 11 17:11:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_obj_define_method): add half boiled RDoc document.\n\nWed Oct 11 16:57:46 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_replace): should shift lfree pointer before\n\t  calling xfree.\n\nWed Oct 11 15:07:42 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb: Add digest/hmac, which implements\n\t  HMAC keyed-hashing algorithm.\n\nWed Oct 11 15:03:55 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (rb_digest_base_reset): Do not make\n\t  recursive calls, but call initialize() when reset() is not\n\t  defined in a subclass.\n\nWed Oct 11 14:56:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/digest/sha1/sha1ossl.h: libssl 0.9.8c-3 defines no\n\t  SHA_BLOCK_LENGTH.\n\nWed Oct 11 14:03:31 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (rb_digest_base_reset, Init_digest): Add\n\t  Digest::Base#reset.\n\n\t* ext/digest/digest.h: Update the header comment.\n\n\t* ext/digest/md5/md5ossl.h, ext/digest/md5/md5init.c (Init_md5):\n\t  Define DIGEST_LENGTH and BLOCK_LENGTH.\n\n\t* ext/digest/rmd160/rmd160init.c (Init_rmd160): Ditto.\n\n\t* ext/digest/sha1/sha1init.c (Init_sha1): Ditto.\n\n\t* ext/digest/sha2/sha2init.c (Init_sha2): Ditto.\n\n\t* ext/digest/depend, ext/digest/extconf.rb: Use $INSTALLFILES\n\t  rather than adding make targets. [Pointed out by: nobu]\n\nTue Oct 10 16:39:08 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (hexdigest_str_new, bubblebabble_str_new):\n\t  Perform StringValue() checks properly.\n\nTue Oct 10 13:21:21 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/sha1/depend, ext/digest/sha2/depend: Remove obsolete\n\t  dependencies.\n\nMon Oct  9 23:46:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/parsedate.rb: documentation patch from Konrad Meyer\n\t  <konrad.meyer@gmail.com>.  [ruby-doc:1238]\n\n\t* lib/open3.rb, lib/ping.rb: ditto.\n\nMon Oct  9 23:40:58 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, lib/fileutils.rb, lib/mkmf.rb, lib/optparse.rb,\n\t  lib/shellwords.rb: get rid of shadowing outer local variable.\n\nMon Oct  9 22:56:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/encoding.rb (REXML::Encoding::check_encoding): spaces\n\t  are allowed around equal sign.  [ruby-core:09032]\n\n\t* lib/rexml/parsers/baseparser.rb (REXML::Parsers::BaseParser): ditto.\n\nMon Oct  9 01:56:34 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_obj_define_method): add new method\n\t  Kernel#define_singleton_method.  [ruby-list:42851]\n\nSat Oct  7 23:53:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_scan): small documentation fix.\n\t  [ruby-core:09007]\n\nSat Oct  7 23:44:33 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_rshift): a bug in right shift of negative\n\t  bignums.  [ruby-core:09020]\n\nSat Oct  7 23:33:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (formal_assign): packed post splat arguments may conflict\n\t  with normal arguments.  [ruby-core:09021]\n\n\t* eval.c (rb_call0): ditto.\n\nSat Oct  7 11:53:04 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_mod_initialize): since module_eval no longer passes\n\t  self, use module_exec instead.  fixed: [ruby-dev:29637]\n\nSat Oct  7 00:27:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* class.c (rb_include_module): remove unnecessary check.\n\t  [ruby-talk:218402]\n\nFri Oct  6 15:19:59 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/depend: Fix header installation when the build\n\t  directory is different from srcdir. [Pointed out by: eban]\n\nFri Oct  6 09:56:31 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/Makefile.sub (config.status): shouldn't use\n\t  copy command instead of install. use -run install.\n\nFri Oct  6 06:53:46 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): small refactoring.\n\n\t* parse.y (bparam_item): fixed bugs in handling parenthesized LHS.\n\nFri Oct  6 04:47:07 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/depend: Install digest.h.\n\nFri Oct  6 04:27:40 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/md5.rb, ext/digest/lib/sha1.rb: Remove those\n\t  compatibility stub libraries.\n\n\t* sample/openssl/c_rehash.rb: Use digest/md5 instead of obsolete md5.\n\nFri Oct  6 04:09:51 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c: Make hexdigest() always call digest() internally.\n\n\t* ext/digest/digest.c: Add bubblebabble().\n\nFri Oct  6 02:38:42 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c: Allow subclassing in Ruby.\n\nFri Oct  6 02:06:10 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (hexdigest_str_new): Add a string size check.\n\nThu Oct  5 19:28:35 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.[ch]: Since the argument order of\n\t  hash_final_func_t was inconsistent with others, change it and\n\t  rename to hash_finish_func_t to avoid confusion.\n\n\t* ext/digest/digest.[ch]: Remove and eliminate the use of\n\t  hash_end_func_t.  Implement hexdigest conversion in the base\n\t  class.\n\n\t* ext/digest/md5/md5.c, ext/digest/md5/md5.h,\n\t  ext/digest/md5/md5init.c, ext/digest/md5/md5ossl.c,\n\t  ext/digest/md5/md5ossl.h: Remove MD5_End() and change\n\t  MD5_Final() to MD5_Finish().\n\n\t* ext/digest/rmd160/depend, ext/digest/rmd160/extconf.rb,\n\t  ext/digest/rmd160/rmd160.c, ext/digest/rmd160/rmd160.h,\n\t  ext/digest/rmd160/rmd160hl.c, ext/digest/rmd160/rmd160init.c,\n\t  ext/digest/rmd160/rmd160ossl.c, ext/digest/rmd160/rmd160ossl.h:\n\t  Remove unused functions RMD160_End(), RMD160_File(),\n\t  RMD160_Data() and change RMD160_Final() to RMD160_Finish().\n\n\t* ext/digest/sha1/extconf.rb, ext/digest/sha1/sha1.c,\n\t  ext/digest/sha1/sha1.h, ext/digest/sha1/sha1hl.c,\n\t  ext/digest/sha1/sha1init.c, ext/digest/sha1/sha1ossl.c,\n\t  ext/digest/sha1/sha1ossl.h: Likewise.\n\n\t* ext/digest/sha2/extconf.rb, ext/digest/sha2/sha2.c,\n\t  ext/digest/sha2/sha2.h, ext/digest/sha2/sha2hl.c,\n\t  ext/digest/sha2/sha2init.c: Likewise.\n\nWed Oct  4 18:47:25 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/*: bugfix and update\n\t  (see ext/tk/ChangeLog.tkextlib).\n\nWed Oct  4 17:25:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): check protected visibility based on real self,\n\t  not ruby_frame->self.  [ruby-talk:217822]\n\nWed Oct  4 15:46:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (block_param): should interpret single parenthesized\n\t  left hand side expression.\n\nWed Oct  4 08:52:30 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/optparse/test_getopts.rb: changed the class name of test case\n\t  to get rid of conflict with test_optparse.rb.\n\nTue Oct  3 21:04:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (dyna_in_block): inline using macro.\n\n\t* parse.y (mlhs): simplifies the rule a bit.\n\n\t* parse.y (block_param): restrict block parameters to be local\n\t  variables only.\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_nested_iterator):\n\t  update test suite to conform the last change.\n\nTue Oct  3 02:31:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (splat_value): use \"to_splat\" instead of \"to_ary\" to\n\t  prepare splat values as an array.\n\n\t* array.c (Init_Array): define to_splat.\n\n\t* range.c (range_to_splat): new method.\n\n\t* enumerator.c (enumerator_to_splat): ditto.\n\nTue Oct  3 01:36:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_lines): returns an Enumerator instead of an\n\t  array of lines.\n\n\t* string.c (rb_str_bytes): a new method.\n\nMon Oct  2 23:47:55 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner::COLLECTORS):\n\t  base directory should be lower precedence.  fixed: [ruby-dev:29622]\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner#options): typo.\n\n\t* lib/test/unit/collector/dir.rb (Test::Unit::Collector::Dir#collect_file):\n\t  load expanded path.  fixed: [ruby-dev:29621]\n\nMon Oct  2 15:47:55 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* instruby.rb: batfile should be CRLF'ed.\n\nMon Oct  2 01:24:26 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (test-all): separate directory where running test cases\n\t  from source tree.\n\n\t* lib/test/unit/autorunner.rb (options): added --basedir, --workdir\n\t  and --load-path options.\n\n\t* lib/test/unit/collector/dir.rb (recursive_collect, collect_file):\n\t  base directory support.\n\nSun Oct  1 23:56:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.mk, ext/extmk.rb, win{32,ce}/Makefile.in: keep\n\t  LIBRUBY_SO unless need to be removed.\n\nSun Oct  1 23:12:19 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#make_switch): pass arguments directly.\n\nSat Sep 30 15:11:26 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.9.4.\n\nFri Sep 29 13:18:24 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest.rb (Digest): Require digest.so and fix the\n\t  breakage.  Point out by NAKAMURA Usaku in [ruby-dev:29619].\n\nFri Sep 29 12:11:04 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* jcode.rb (succ!): call original succ! if $KCODE == 'n'.\n\t  fixed: [ruby-talk:216845]\n\nFri Sep 29 11:43:40 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (try_func): revert fallback checking undeclared function.\n\t  fixed: [ruby-core:08949]\n\nFri Sep 29 09:56:56 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: extout is needed for also clean.\n\t  fixed: [ruby-core:08944]\n\n\t* lib/optparse.rb (OptionParser::Switch#conv_arg): unsplat by\n\t  Proc#call if no conversion is given.\n\nThu Sep 28 23:59:31 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* node.h (struct thread): declare win32_exception_list on cygwin and\n\t  win32 regardless if it is implemented.  Provisional fix for\n\t  [ruby-core:08917].\n\nThu Sep 28 20:49:20 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/tmpdir.rb: use return value of getdir.call for length.\n\nWed Sep 27 22:08:16 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/md5/md5init.c (Init_md5): Now that we have digest.rb,\n\t  require \"digest\" rather than \"digest.so\".\n\n\t* ext/digest/rmd160/rmd160init.c (Init_rmd160): Ditto.\n\n\t* ext/digest/sha1/sha1init.c (Init_sha1): Ditto.\n\n\t* ext/digest/sha2/sha2init.c (Init_sha2): Ditto.\n\nWed Sep 27 21:21:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_startwith): rename startwith? to start_with?,\n\t  endwith? to endwith?, respectively.  [ruby-talk:216685]\n\nWed Sep 27 13:29:01 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::TagMaker::nOE_element_def): replace to_s by\n\t  join.  some other methods as well.  [ruby-dev:29613]\n\nWed Sep 27 01:04:49 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (try_func): check function pointer first and macro next.\n\n\t* lib/mkmf.rb (have_type): simplified with typedef and sizeof.\n\nWed Sep 27 00:08:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_shift): shift/unshift performance boost patch,\n\t  based on the patch from Eric Mahurin <eric_mahurin at yahoo.com>.\n\t  [ruby-core:05861]\n\n\t* array.c (rb_ary_unshift_m): ditto.\n\n\t* array.c (ary_make_shared): ditto.\n\n\t* array.c (RESIZE_CAPA): ditto.\n\n\t* array.c (rb_ary_free): new function to free memory.  code moved\n\t  from gc.c.\n\n\t* string.c (rb_str_free): ditto.\n\nTue Sep 26 23:57:03 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#getopts): use strings as key.\n\t  fixed: [ruby-dev:29614]\n\nTue Sep 26 15:29:55 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {win32,wince}/Makefile.sub (CPP): check predefined value.\n\nTue Sep 26 07:55:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_shift): should not move memory region if array\n\t  body is shared.  a patch from Kent Sibilev <ksruby at gmail.com>.\n\t  [ruby-core:08922]\n\nMon Sep 25 23:10:46 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (rb_push_glob): need not to check by FilePathValue().\n\t  [ruby-dev:29599]\n\n\t* dir.c (dir_globs): ditto.\n\nMon Sep 25 22:26:26 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_path_end): skip root directory.  fixed: [ruby-core:08913]\n\n\t* lib/mkmf.rb (rm_f): get rid of NUL.\n\n\t* lib/mkmf.rb (init_mkmf): set default $LDFLAGS.  Patch by Michal\n\t  Suchanek <hramrach at centrum.cz>.  [ruby-talk:216256]\n\nMon Sep 25 15:06:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/test.rb: \"print nil\" now prints empty string.\n\n\t* test/ruby/test_system.rb (TestSystem::test_system): ditto.\n\nMon Sep 25 11:26:25 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (recursive_hash): remove unused local variable.\n\n\t* parse.y (parser_yylex): ditto.\n\n\t* parse.y (rb_gc_mark_symbols): fix unmatched prototype .\n\n\t* file.c (rb_get_path): check NUL byte in the path string.\n\nMon Sep 25 08:14:43 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_shift): should clear shifting top element.\n\t  [ruby-talk:216055]\n\n\t* array.c (rb_ary_shift): avoid creating shared object if array\n\t  size is small.\n\nMon Sep 25 08:11:35 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* random.c (rb_f_rand): RDoc typo fix.  a patch from Frederick\n\t  Cheung <fred at 82ask.com>.  [ruby-talk:216047]\n\nSun Sep 24 21:19:24 2006  Guy Decoux  <ts@moulon.inra.fr>\n\n\t* gc.c (gc_mark_children): NODE_POSTEXE holds Ruby VALUE.\n\t  [ruby-core:08912]\n\nSun Sep 24 22:28:20 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* runruby.rb: extension library scripts moved into common directory.\n\nSun Sep 24 12:10:04 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.9.3.\n\nSun Sep 24 06:55:36 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_print): no special handling for nil as well as puts.\n\t  fixed: [ruby-dev:29586]\n\nSun Sep 24 06:25:53 2006  why the lucky stiff  <why@ruby-lang.org>\n\n\t* eval.c (rb_thread_save_context, rb_thread_restore_context):\n\t  sandbox hook to save and restore sandbox state.\n\n\t* eval.c (thread_no_ensure): added THREAD_NO_ENSURE thread flag.\n\n\t* eval.c (rb_thread_kill_bang): Thread#kill! uses the above flag\n\t  to circumvent ensure, in order to prevent endless loops.\n\t  contributed by MenTaLguY. [ruby-core:08768]\n\n\t* eval.c (rb_thread_kill): fix Thread#kill docs, which returns\n\t  the thread object in all cases.\n\n\t* node.h: expose the rb_jmpbuf_t and rb_thread_t structs, along\n\t  with the thread flags.  used by the sandbox extension.\n\n\t* ruby.h: extern rb_eThreadError, so sandbox can swap it.\n\nSat Sep 23 21:34:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): CGI content\n\t  may be empty.  a patch from Jamis Buck <jamis at 37signals.com>.\n\nSat Sep 23 20:54:28 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.4.4\n\n\t* regexec.c: ditto.\n\n\t* regcomp.c ditto.\n\nSat Sep 23 08:35:53 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc/ri/ri_options.rb: prevent NameError.  [ruby-dev:29597]\n\nSat Sep 23 01:02:57 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.9.2.\n\nFri Sep 22 18:07:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_partition): no need to call rb_call_super(),\n\t  since String is no longer includes Enumerable.\n\nFri Sep 22 17:33:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_eql): new method to be used by Hash.\n\n\t* hash.c (rb_hash_hash): ditto.\n\nFri Sep 22 06:53:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_hash): use rb_memhash().\n\n\t* numeric.c (flo_hash): simplified.  klass need not to affect\n\t  resulting hash value.\n\nFri Sep 22 02:06:26 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* .cvsignore: ignore timestamp files and installed list file.\n\nFri Sep 22 01:36:34 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb: include FileUtils unconditionally.\n\nFri Sep 22 00:36:05 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (Init_Numeric): fix_odd_p and fix_even_p are for Fixnum.\n\t  patch from Ondrej Bilka <neleai at seznam.cz>.  [ruby-core:08904]\n\nThu Sep 21 22:56:20 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (no-install): not install rdoc actually.\n\n\t* common.mk (install-doc, no-install-doc): use instruby.rb.\n\n\t* instruby.rb: rdoc installation.\n\n\t* ext/extmk.rb: expand ruby executable names.\n\nThu Sep 21 20:19:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_new3): embed shorter strings more eagerly.\n\nThu Sep 21 17:44:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_startwith): a new method to check if a string\n\t  starts with given prefix.\n\n\t* string.c (rb_str_endwith): the opposite of String#startwith?.\n\nThu Sep 21 16:29:02 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* rubytest.rb: use each_line instead of each.\n\nThu Sep 21 15:06:24 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_odd_p): a new method to check even or odd.\n\t  [RCR#337]\n\n\t* numeric.c (int_even_p): ditto.\n\nThu Sep 21 13:55:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/etc/etc.c (etc_getpwuid): uid integer should be wrapped in\n\t  uid_t value.  [ruby-core:08897]\n\n\t* ext/etc/etc.c (etc_getpwuid): uid_t may be bigger than plain\n\t  'int' type.\n\nThu Sep 21 10:07:09 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_partition): RDoc typo fixed.  [ruby-core:08898]\n\n\t* string.c (rb_str_rpartition): fixed separation seek bug.\n\nThu Sep 21 09:38:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_lines): new method to split a string into lines.\n\n\t* string.c (Init_String): Strings are no longer Enumerable.  use\n\t  each_line or lines method explicitly.\n\n\t* string.c (Init_String): remove each method. use each_lines.\n\nWed Sep 20 23:17:41 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (pre-install-doc): create data directory before install.\n\n\t* lib/mkmf.rb (dir_re): fixed typo.\n\n\t* lib/mkmf.rb (install_dirs): remove extra slash.\n\nWed Sep 20 22:41:45 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_mul): typo again.  patch from Tadashi Saito\n\t  <shiba at mail2.accsnet.ne.jp>.  fixed: [ruby-core:08893]\n\nWed Sep 20 19:32:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_partition): a new method to separate the string\n\t  by a separator.  taken from Python 2.5.\n\n\t* string.c (rb_str_rpartition): ditto.\n\nWed Sep 20 09:49:40 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/Makefile.sub (INSTALLED_LIST): need to define\n\t  this macro to install.\n\nWed Sep 20 09:43:10 2006  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: allow extra spaces in responses.\n\t  Thanks, Tom Soderlund.\n\nWed Sep 20 09:25:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/gdbm/gdbm.c: add RDoc documentation. a patch from Peter\n\t  Adolphs <futzilogik at users dot sourceforge dot net>.\n\t  [ruby-doc:1223]\n\nTue Sep 19 00:42:15 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_obj_ivar_defined, rb_mod_cvar_defined): new methods,\n\t  Kernel#instance_variable_defined? and Module#class_variable_defined?.\n\t  [ruby-dev:29587]\n\n\t* lib/date/format.rb (Date::Bag#method_missing): use new method,\n\t  instance_variable_defined? to check if an instance variable is\n\t  defined.  fixed: [ruby-dev:29554]\n\t  -- This didn't fix anything.\n\nTue Sep 19 00:07:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_eql): fail early to gain performance.\n\n\t* string.c (sym_hash): cache hash value in aux.shared if possible.\n\n\t* gc.c (rb_obj_id): no need to treat symbols specially.\n\n\t* lib/fileutils.rb (FileUtils::FileUtils): singleton_methods() no\n\t  longer return an array of strings, but of symbols.\n\n\t* lib/delegate.rb (DelegateClass): ditto.\n\nMon Sep 18 15:29:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_s_glob): restore GC protection volatile variable.\n\t  [ruby-dev:29588]\n\n\t* re.c (rb_reg_regcomp): ditto.\n\nMon Sep 18 12:16:48 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_mul): get rid of shift overflow.\n\nMon Sep 18 10:47:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_s_glob): remove unused variable.\n\n\t* math.c (math_log): ditto.\n\n\t* re.c (rb_reg_regcomp): ditto.\n\n\t* eval.c (break_jump): ditto.\n\n\t* eval.c (rb_thread_yield_0): remove unused function.\n\nSun Sep 17 23:44:58 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/rdoc.rb (RDoc::RDoc#document): scan only files modified\n\t  after the previous generation.\n\nSun Sep 17 17:42:13 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (install-doc): reverted.\n\n\t* instruby.rb: stores file name list without destdir prefix.\n\n\t* lib/rdoc/generators/ri_generator.rb: do not chdir twice.\n\nSun Sep 17 10:42:10 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_mul): fixed typo.  fixed: [ruby-core:08885]\n\nSat Sep 16 19:47:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* README.EXT: should mention new macros: RSTRING_PTR, RSTRING_LEN,\n\t  RARRAY_PTR, RARRAY_LEN.\n\n\t* README.EXT.ja: ditto.\n\nSat Sep 16 16:39:23 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.in, instruby.rb, ext/extmk.rb, lib/mkmf.rb:\n\t  use instruby.rb to install extensions instead of ext/extmk.rb.\n\n\t* instruby.rb: store installed list into the file.\n\n\t* ext/dbm/extconf.rb: allow multiple candidates for dbm-type.\n\n\t* ext/io/wait/extconf.rb: suspicious checking_for.\n\n\t* ext/pty/pty.c (establishShell): parent pid is not used.\n\n\t* ext/pty/pty.c (freeDevice): not used.\n\n\t* lib/mkmf.rb (checking_for): improved the messages.\n\nSat Sep 16 11:03:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (ary_shared_first): should create embedded copies\n\t  instead of sharing memory region for smaller arrays.\n\nSat Sep 16 09:37:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (inspect_struct): do not display a class name for\n\t  anonymous struct.  The member fields are sufficient.\n\nFri Sep 15 20:22:15 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-8/nkf.c: imported nkf 2.0.8 rev.110.\n\t  * Fix: check_bom cuts \\xfe\\xff\\xXX\\xXX of UTF-32LE.\n\t  * Add support --ic=UTF-32.\n\t  * Fix: can't guess UTF-16 and UTF-32.\n\t  * Fix: can't decode beyond BMP of UTF-16LE.\n\n\t* ext/nkf/nkf.c (guess): Support UTF-32.\n\n\t* ext/nkf/lib/kconv.rb (kconv): Support UTF-32.\n\n\t* ext/nkf/lib/kconv.rb (to_utf32): new method.\n\nFri Sep 15 05:23:24 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-8/nkf.c: imported nkf 2.0.8 2006-09-15.\n\t  Add support for U+10000 - U+10FFFF\n\t  Add support UTF-32\n\nFri Sep 15 00:03:07 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/digest/lib/digest.rb (Digest::Base.file): open a file in binary\n\t  mode.  suggested by Kazuhiro NISHIYAMA.  [ruby-dev:29579]\n\nThu Sep 14 17:21:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_mul): avoid bignum multiplication as far as\n\t  possible.  a patch from Ondrej Bilka <neleai at seznam.cz>.\n\t  [ruby-core:08825]\n\nThu Sep 14 16:34:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): allow zero length symbols.\n\t  [ruby-core:08861]\n\nThu Sep 14 16:11:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): raise SecurityError only when $SAFE\n\t  level is greater than zero.  [ruby-core:08862]\n\n\t* parse.y (rb_interned_p): new function to check if a string is\n\t  already interned.\n\n\t* string.c (str_to_id): use rb_str_intern().\n\nThu Sep 14 14:37:45 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/digest/lib/digest.rb (Digest::Base.file): new method.\n\t  [ruby-dev:29572]\n\nThu Sep 14 08:30:02 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/digest/digest.c (rb_digest_base_inspect): new method.\n\t  [ruby-dev:29573]\n\nThu Sep 14 01:13:56 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (ruby_init_stack): decrease \"stack level too deep\" in Windows.\n\t  [ruby-dev:29569]\n\nThu Sep 14 01:02:25 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/digest/lib/digest.rb: new file.\n\t  [ruby-dev:28689]\n\nWed Sep 13 18:43:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* README.EXT: English adjustment.  [ruby-core:08851] and\n\t  [ruby-core:08852]\n\nWed Sep 13 18:25:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-parse-partial): better here-doc support.\n\t  a patch from Marshall T. Vandegrift <llasram at gmail.com>.\n\t  [ruby-core:08804]\n\nWed Sep 13 16:43:36 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): prohibit interning tainted string.\n\nWed Sep 13 01:14:02 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#getopts): works with pre-registered\n\t  options.  [ruby-core:08826]\n\nTue Sep 12 03:58:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_compare_by_identity): rename Hash#identical to\n\t  Hash#compare_by_identity.\n\nMon Sep 11 16:52:37 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_identical): a new method to make a hash to\n\t  compare keys by their identity.\n\n\t* hash.c (rb_hash_identical_p): new method to tell if a hash is\n\t  identical or not.\n\n\t* st.c (st_numcmp, st_numhash): export hash type functions.\n\nMon Sep 11 11:42:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/source.rb (REXML::Source::encoding): should not\n\t  convert the body twice.  [ruby-core:08828]\n\n\t* lib/rexml/encoding.rb (REXML::Encoding::encoding):\n\t  Encoding#encoding= to return boolean value to tell if the body\n\t  is really converted or not.\n\n\t* lib/rexml/encoding.rb (REXML::Encoding::encoding): Specific\n\t  conversion library (e.g. rexml/encodings/UTF-16.rb) to have\n\t  higher preceding.\n\n\t* lib/rexml/encodings/UTF-16.rb (REXML::Encoding::decode_utf16):\n\t  UTF-16#decode_utf16 should work strings without BOM.\n\nMon Sep 11 07:39:44 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_equal): \"sym == str\" should compare them as\n\t  strings.  [ruby-dev:29554]\n\nSun Sep 10 22:59:43 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (parse_args): remove splat.\n\nSun Sep 10 20:25:30 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.9.1.\n\nSun Sep 10 09:41:29 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c: ISPRINT() needs ctype.h\n\nSun Sep 10 09:19:47 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb: splat parsed arguments.\n\nTue Jan 10 09:18:03 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_require_safe): prevent extension from loading twice.\n\t  fixed: [ruby-dev:29523]\n\nSat Sep  9 23:55:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_f_test): test(0) should not have any special\n\t  meaning.  [ruby-dev:29425]\n\n\t* file.c (rb_f_test): properer error message.\n\nSat Sep  9 14:08:38 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/test/unit/testcase.rb (Test::Unit::TestCase#run): Rescue\n\t  Exception in Test::Unit::TestCase#run.  [ruby-core:08783]\n\nSat Sep  9 04:55:59 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pstore.rb: open all in binary mode, and get rid of the quirk of\n\t  msvcrt.  fixed: [ruby-dev:29518]\n\nSat Sep  9 04:47:45 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, win32/Makefile.sub (MINIRUBY): append MINIRUBYOPT.\n\n\t* mkconfig.rb, ext/extmk.rb, lib/mkmf.rb, win32/mkexports.rb: suppress\n\t  warnings with $VERBOSE.\n\n\t* win32/resource.rb: only file which has more than one icon is DLL.\n\nFri Sep  8 16:53:30 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_alloc): should allocate a String object, even when\n\t  asked to allocate a Symbol object.  [ruby-dev:29529]\n\nFri Sep  8 16:36:27 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): follow Array#to_s.\n\n\t* lib/mkmf.rb (create_makefile): ditto.\n\n\t* win32/resource.rb: ditto.\n\nFri Sep  8 10:00:12 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cookie.rb (WEBrick::Cookie.parse_set_cookies): new\n\t  method to parse multiple cookies per Set-Cookie header.\n\t  Thanks to Aaron Patterson <aaron_patterson at speakeasy.net>.\n\t  [ruby-core:08802]\n\nFri Sep  8 08:59:30 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub, win32/configure.bat win32/setup.mak: program\n\t  name transform.\n\nFri Sep  8 08:25:39 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb: suppress `assigning void value' warning.\n\nFri Sep  8 01:16:34 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (Init_Array): #to_s to be an alias to #inspect.\n\t  [ruby-dev:29520]\n\n\t* hash.c (Init_Hash): ditto.\n\n\t* lib/mkmf.rb (create_makefile): replace \"print array\" by\n\t  \"print *array\".\n\n\t* mkconfig.rb: ditto.\n\nThu Sep  7 21:02:56 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (nil_to_s): returns the empty string again.\n\t  [ruby-dev:29520]\n\nThu Sep  7 23:27:05 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (path_check_0, fpath_check): disable path check on cygwin.\n\t  [ruby-talk:213074]\n\nThu Sep  7 02:03:45 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_to_s): adopt new date format using digits\n\t  e.g. \"2006-09-07 02:03:45 +9000\".\n\nThu Sep  7 01:54:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_equal): override.  check equivalence.\n\nWed Sep  6 13:25:04 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (symbols_i): need to initialize early-created symbols.\n\t  [ruby-dev:29496]\n\nWed Sep  6 12:05:19 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (Kconv::toeuc): remove -m0 [ruby-dev:29505]\n\nTue Sep  5 22:06:43 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/tcltklib.c: use rb_ary_new3() since RARRAY_LEN() is not l-value.\n\n\t* ext/tk/tkutil/tkutil.c: use RARRAY_PTR() and RARRAY_LEN() and etc.\n\t  fixed: [ruby-dev:29473]\n\nTue Sep  5 06:47:22 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_to_s): variable declaration after an execution\n\t  statement.\n\nTue Sep  5 05:49:41 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (path_check_0): check if sticky bit is set on parent\n\t  directories for executable path.  fixed: [ruby-dev:29415]\n\nTue Sep  5 05:03:46 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_plus): addition in Fixnum will never overflow\n\t  long.  a patch from Ondrej Bilka <neleai at seznam.cz>.\n\t  [ruby-core:08794]\n\n\t* numeric.c (fix_minus): ditto.\n\n\t* bignum.c (rb_big_pow): eagerly truncate resulting bignum.\n\t  [ruby-core:08794]\n\nMon Sep  4 23:15:34 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_to_s): make it conform to RFC2822 date format.\n\t  [ruby-dev:29467]\n\nMon Sep  4 21:43:57 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dbm/extconf.rb: create makefile according to the result of check\n\t  for dbm header.  fixed: [ruby-dev:29445]\n\nMon Sep  4 21:39:42 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.9.\n\nMon Sep  4 21:14:20 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_strftime): include nul character.  fixed: [ruby-dev:29422]\n\nMon Sep  4 16:39:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::out): specify -x option for nkf.\n\n\t* lib/cgi.rb (CGI::out): should not convert utf-8 implicitly using\n\t  NKF.  it is too Japanese centric.\n\nMon Sep  4 14:23:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dbm/extconf.rb (db_check): remove debug print.\n\nMon Sep  4 06:46:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (rb_id2sym): intern if id is attrset_id.\n\t  [ruby-dev:29420] [ruby-dev:29447]\n\nMon Sep  4 01:25:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_local_variables): list symbols.\n\n\t* struct.c (rb_struct_s_members_m): ditto.\n\n\t* variable.c (ivar_i): ditto.\n\n\t* variable.c (gvar_i): ditto.\n\n\t* variable.c (cv_i): ditto.\n\nSun Sep  3 20:47:02 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.h (SYMBOL_P): Qnil and Qfalse are not Symbol.\n\nSun Sep  3 15:32:44 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: get rid of nil.to_s.\n\nSun Sep  3 06:24:38 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (ruby_connect): sockerrlen should be socklen_t.\n\nSun Sep  3 04:40:42 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/extconf.rb: check arpa/inet.h for ntohs.\n\n\t* ext/socket/socket.c: include arpa/inet.h if available.\n\nSat Sep  2 23:59:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (Init_String): undef Symbol#new.\n\n\t* struct.c (rb_struct_s_def): wrong symbol detection.\n\nSat Sep  2 23:59:37 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_to_id): a bug caused by premature optimization.\n\nSat Sep  2 23:53:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): move symbol related code to string.c\n\n\t* string.c (Init_String): Symbol as subclass of String.\n\n\t* parse.y (rb_intern2): handle symbol as strings.\n\n\t* string.c (str_new): substring of symbols are mere strings, not\n\t  symbols.\n\nSat Sep  2 23:37:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (struct RArray): embed small arrays.\n\t  (RARRAY_LEN): defined for accessing array members.\n\t  (RARRAY_PTR): ditto.\n\n\t* array.c: use RARRAY_LEN and RARRAY_PTR.\n\nSat Sep  2 13:23:01 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk (ia64.o): use the compiler driver to assemble ia64.s\n\t  to use appropriate ABI.\n\nSat Sep  2 12:06:35 2006  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/generator.rb (SOAP::SOAPGenerator#encode_tag): do not dump\n\t  XML attribute which value is nil.  value \"\" and nil both were dumped\n\t  as 'attr=\"value\"'.  [ruby-dev:29395]\n\nSat Sep  2 11:47:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): should handle when in else clause.  a patch\n\t  from Eric Hodel <drbrain at segment7.net>.  [ruby-core:08662]\n\n\t* parse.y (primary): wrap with NODE_CASE.  [ruby-core:08663]\n\nSat Sep  2 12:00:32 2006  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb (CSV::IOReader#initialize): use String#[](pos, len)\n\t  instead of String#[](idx) to check utf BOM.  follows String#[](idx)\n\t  behavior change of 1.9.\n\nSat Sep  2 11:47:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): should handle when in else clause.  a patch\n\t  from Eric Hodel <drbrain at segment7.net>.  [ruby-core:08662]\n\n\t* parse.y (primary): wrap with NODE_CASE.  [ruby-core:08663]\n\nFri Sep  1 22:07:04 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (RSTRING_EMBED_LEN_MASK): uses 5 bits to support 64bit\n\t  environment.  [ruby-dev:29369]\n\nFri Sep  1 22:02:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_resize): should copy embedded string to\n\t  malloc'ed buffer.  a patch from <nobu at ruby-lang.org> in\n\t  [ruby-dev:29369].  fixed: [ruby-dev:29368]\n\n\t* string.c (rb_str_ord): use %ld specifier since STRING_LEN() is a\n\t  long.  [ruby-dev:29369]\n\nFri Sep  1 21:41:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (socks_init): typo fixed.  a patch from Sven\n\t  Klemm <sven at c3d2.de>.  [ruby-core:08770]\n\nFri Sep  1 14:22:42 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* array.c (rb_ary_shuffle): RDoc fixed.\n\nFri Sep  1 13:52:57 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/font.rb: TkFont#current_configinfo() doesn't work\n\t  on Tcl/Tk8.x.\n\nFri Sep  1 09:32:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex::getc): should not push nil into\n\t  reading buffer (@readed).  reported in\n\t  <http://jarp.does.notwork.org/diary/200608c.html#200608311>.\n\nThu Aug 31 23:59:03 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): follow nil.to_s.\n\nThu Aug 31 20:50:46 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): follow nil.to_s.\n\n\t* win32/resource.rb: ditto.\n\nThu Aug 31 20:21:47 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (search_required): use RSTRING_PTR and RSTRING_STR.\n\n\t* file.c (test_identical, rb_file_s_truncate): ditto.\n\n\t* io.c (pipe_open, rb_io_reopen): ditto.\n\n\t* object.c (nil_plus): ditto.\n\n\t* process.c (proc_spawn_n, rb_spawn): ditto.\n\n\t* util.c (ruby_add_suffix): ditto.\n\n\t* ext/Win32API/Win32API.c (Win32API_initialize): ditto.\n\n\t* ext/dl/cptr.c (rb_dlptr_s_to_ptr): ditto.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509extfactory_create_ext): ditto.\n\n\t* ext/tk/stubs.c, ext/tk/tcltklib.c, ext/tk/tkutil/tkutil.c: ditto.\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata): ditto.\n\nThu Aug 31 18:23:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (struct RString): embed small strings.\n\t  (RSTRING_LEN): defined for accessing string members.\n\t  (RSTRING_PTR): ditto.\n\n\t* string.c: use RSTRING_LEN and RSTRING_PTR.\n\nThu Aug 31 17:16:19 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_shuffle_bang): new method.\n\n\t* array.c (rb_ary_shuffle): ditto.\n\n\t* random.c (genrand_real): ditto.\n\n\t* random.c (genrand_int32): export the function.\n\n\t* random.c (Init_Random): initialize random seed at the\n\t  beginning.\n\nThu Aug 31 13:12:06 2006  why the lucky stiff  <why@ruby-lang.org>\n\n\t* eval.c (ruby_init): rename top_cref to ruby_top_cref and export,\n\t  along with ruby_cref, for use by the sandbox. [ruby-core:08762]\n\n\t* node.h: ditto.\n\nWed Aug 30 12:01:57 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (flo_hash): improve collision.\n\n\t* string.c (rb_memhash): new generic function to calculate hash value\n\t  for memory chunk.\n\nTue Aug 29 19:10:10 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (rb_hash_s_create): fixed memory leak, based on the patch\n\t  by Kent Sibilev <ksruby at gmail.com>.  fixed: [ruby-talk:211233]\n\nMon Aug 28 11:29:46 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* eval.c, parse.y: Revert.\n\t* ext/.document: Add digest.c.\n\t* ext/digest/digest.c: Make RDoc show up.\n\t* ext/io/wait.c: Fix call-seq in RDoc.\n\nMon Aug 28 08:03:20 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* ext/.document: Add C files with RDoc.\n\t* ext/digest/digest.c: Convert to RDoc.\n\t* ext/io/wait.c: ditto.\n\t* lib/rdoc/parsers/parse_rb.rb: Fix typo.  Submitted by\n\t  <calamitas at gmail.com>.  [ruby-core:08724]\n\nMon Aug 28 07:21:47 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* file.c (File#size?): Fix documentation submitted by Rick Ohnemus.\n\t  ruby-Bugs-5529.  [ruby-core:08725]\n\nSun Aug 27 21:41:23 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.4.0\n\n\t* regint.h: ditto.\n\n\t* regparse.h: ditto.\n\n\t* regexec.c: ditto.\n\n\t* regcomp.c ditto.\n\n\t* regparse.c: ditto.\n\nSat Aug 26 08:03:03 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.8.2.\n\nFri Aug 25 21:15:22 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* common.mk: add regint.h and oniguruma.h to dependence.\n\n\t* ext/strscan/depend: ditto.\n\nFri Aug 25 20:35:57 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/wsdl/document/echo.rb: removed.\n\n\t* test/wsdl/document/test_rpc.rb: remove echo.rb after test.\n\t  [ruby-dev:29337]\n\nFri Aug 25 17:02:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_sweep): typo fixed.\n\nFri Aug 25 16:05:50 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (sym_call): check if the receiver is given.\n\nFri Aug 25 01:10:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_Integer): Integer(nil) should raise TypeError.\n\t  [ruby-talk:210205]\n\n\t* object.c (nil_to_s): no longer returns empty string but \"nil\".\n\t  [ruby-talk:210205]\n\n\t* lib/mkmf.rb: avoid COMMON_HEADERS being nil.\n\nWed Aug 23 00:25:14 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rexml/source.rb (REXML::IOSource#initialize): encoding have to\n\t  be set with the accessor.  fixed: [ruby-list:42737]\n\nTue Aug 22 19:21:00 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: parameter `to_addrs' might be an Array,\n\t  .flatten is required. [ruby-dev:29316]\n\nTue Aug 22 18:47:51 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::handle_method):\n\t  rdoc documents C module methods as instance methods. a patch in\n\t  [ruby-core:08536].\n\nTue Aug 22 12:35:57 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (Kconv::RegexpEucjp): fix regexp for\n\t  euc-jp [ruby-dev:29344]\n\nSun Aug 20 11:46:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (num_step): also return an enumerator object if no block\n\t  is given.\n\nSat Aug 19 16:47:51 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (hash2named_arg): accept hash argument\n\t  of symbol key.\n\n\t* test/win32ole/test_win32ole.rb\n\t  ditto.\n\nSat Aug 19 11:28:08 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_rename): use errno if set properly.\n\t  fixed: [ruby-dev:29293]\n\nFri Aug 18 01:05:57 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::out): specify -m0 to disable MIME decode.  a\n\t  patch from Fujioka <fuj at rabbix.jp>.  [ruby-dev:29284]\n\nThu Aug 17 19:15:16 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_stat_[rRwWxX]): check for super user.\n\t  fixed: [ruby-core:08616]\n\nThu Aug 17 14:47:06 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: added rdoc by Daniel Berger.  [ruby-core:08177]\n\nWed Aug 16 17:46:59 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (r_byte): IO#getc returns one byte string now.\n\t  fixed: [ruby-dev:29255]\n\nWed Aug 16 17:22:44 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (pre-install-local): remove unnecessary code.\n\t  [ruby-dev:29249]\n\nWed Aug 16 11:45:36 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (proc_setuid, proc_setgid, proc_seteuid, proc_setegid):\n\t  get rid of bogus implementations on Mac OS X.\n\nWed Aug 16 11:09:26 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (set_arg0): fill argv other than the first with an empty\n\t  string instead of NULL.\n\nTue Aug 15 11:21:08 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: support SMTP/SSL.  Thanks Kazuhiro NISHIYAMA.\n\n\t* lib/net/smtp.rb: new method SMTP.use_ssl?\n\n\t* lib/net/smtp.rb: new method SMTP.enable_ssl.\n\n\t* lib/net/smtp.rb: new method SMTP.disable_ssl.\n\n\t* lib/net/smtp.rb: new method SMTP.default_ssl_port.\n\n\t* lib/net/smtp.rb: new method SMTP.default_tls_port.\n\n\t* lib/net/smtp.rb: now SMTP#enable_tls accepts a SSLContext\n\t  object, instead of a verity and cert.  [FEATURE CHANGE]\n\n\t* lib/net/smtp.rb: new method SMTP.ssl_context.\n\n\t* lib/net/smtp.rb: new method SMTP.default_ssl_context.\n\n\t* lib/net/smtp.rb: export SMTP.authenticate.\n\n\t* lib/net/smtp.rb: export SMTP.auth_plain.\n\n\t* lib/net/smtp.rb: export SMTP.auth_login.\n\n\t* lib/net/smtp.rb: export SMTP.auth_cram_md5.\n\n\t* lib/net/smtp.rb: export SMTP.starttls.\n\n\t* lib/net/smtp.rb: export SMTP.helo.\n\n\t* lib/net/smtp.rb: export SMTP.ehlo.\n\n\t* lib/net/smtp.rb: export SMTP.mailfrom.\n\n\t* lib/net/smtp.rb: export SMTP.rcptto.\n\n\t* lib/net/smtp.rb: export SMTP.rcptto_list.\n\n\t* lib/net/smtp.rb: export SMTP.data.\n\n\t* lib/net/smtp.rb: export SMTP.quit.\n\nSat Aug 12 22:33:06 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* string.c (String#split): Describe grouping behavior.  Patch by Jan\n\t  Svitok <jan.svitok at gmail.com>.  [ruby-core:08603]\n\nSun Aug 13 12:08:02 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c: ANSIfied.  [ruby-core:08601]\n\nSat Aug 12 15:55:32 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, bcc32/Makefile.sub, win32/Makefile.sub, win32/dir.h,\n\t  win32/win32.c, win32/win32.h: large file support for win32.\n\nFri Aug 11 15:39:25 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#find_body): Make RDoc\n\t  ignore C function prototypes.  Patch by Tilman Sauerbeck\n\t  <tilman at code-monkey.de>.  [ruby-core:8574]\n\t* lib/yaml/tag.rb: Replace nodoc with stopdoc so Module methods get\n\t  documented.\n\nWed Aug  9 16:53:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/smtp.rb (Net::SMTP::auth_cram_md5): use ord to retrieve\n\t  bytes from strings.  a patch from WATANABE Tetsuya\n\t  <Tetsuya.WATANABE at nifty.com>.  [ruby-dev:29240]\n\nTue Aug  8 23:49:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/extend-command.rb (IRB::ExtendCommandBundle): pacify\n\t  RDoc.  a patch from Eric Hodel <drbrain at segment7.net>.\n\t  [ruby-core:08522]\n\nTue Aug  8 19:26:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Message::MessageDecoder::get_string):\n\t  affected by str[0] returns 1 char string.  [ruby-dev:29223]\n\n\t* lib/resolv.rb (Resolv::DNS::Message::MessageDecoder::get_labels):\n\t  ditto.\n\nTue Aug  8 12:28:43 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (arg): allow newlines before ternary colon.  [ruby-dev:29189]\n\nMon Aug  7 17:56:59 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c, ext/digest/rmd160/rmd160ossl.c,\n\t  ext/digest/sha1/sha1ossl.c, ext/readline/readline.c: move\n\t  inclusion of config.h to pacify AIX.  a patch from Yutaka\n\t  Kanemoto <kinpoco at gmail.com>.  [ruby-dev:29197]\n\nMon Aug  7 15:55:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/syck.c (syck_move_tokens): should avoid negative\n\t  memmove.  [ruby-list:42625]\n\nMon Aug  7 14:37:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in, common.mk: AIX link issue.  a patch from Yutaka\n\t  Kanemoto <kinpoco at gmail.com>.  [ruby-dev:29190]\n\n\t* ext/socket/socket.c: AIX socket support.  [ruby-dev:29190]\n\nMon Aug  7 12:05:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dln.c, eval.c, gc.c, ruby.h: shut up AIX alloca warning.\n\t  a patch from Yutaka Kanemoto <kinpoco at gmail.com>.\n\t  [ruby-dev:29191]\n\nSun Aug  6 20:34:24 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (str[fp]time): %[EO]U didn't denote %U.\n\nSun Aug  6 17:12:12 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_reopen): STDERR.reopen(open(\"/dev/tty\", \"w\")) should not\n\t  clear FMODE_PREP in STDERR.\n\nSat Aug  5 22:53:41 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.2.2\n\n\t* regint.h: ditto.\n\n\t* regparse.h: ditto.\n\n\t* regexec.c: ditto.\n\n\t* regcomp.c ditto.\n\n\t* regerror.c: ditto.\n\n\t* regparse.c: ditto.\n\nSat Aug  5 17:07:43 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (top_local_setup): local_vars[-1] should point\n\t  ruby_scope itself to protect local_tbl from garbage collection.\n\t  [ruby-dev:29049]\n\nSat Aug  5 13:49:43 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (str[fp]time): \"%\\n\" means \"\\n\".\n\nFri Aug  4 12:13:22 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib: Clean up files for RDoc.\n\t* lib/.document: Include most of the standard library in RDoc\n\t  generation.\n\t* lib/rdoc/ri/ri_formatter.rb: Don't unescape HTML in HtmlFormatter.\n\t  Submitted by <ksruby at gmail.com>.  [ruby-core:08392].\n\t* lib/drb/ssl.rb: Close socket on SSLError [ruby-core:7197]\n\nFri Aug  4 18:59:49 2006  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/{init.rb,ruby-lex.rb,slex.rb}: can't input '\\c' for\n\t  [ruby-core: 7122]. and support for ruby1.8.X\n\nFri Aug  4 14:02:14 2006  James Edward Gray II  <james@grayproductions.net>\n\n\t* lib/date/format.rb (__strptime, strftime): allow multi-line patterns\n\t  in Date#strftime the same as Time#strftime accepts.\n\t  fixed: [ruby-core:08466]\n\nFri Aug  4 13:56:51 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_pack): check argument overrun for 'P'.  based on a\n\t  patch by rucila <rucila at yahoo.cojp>.  fixed: [ruby-dev:29182]\n\nFri Aug  4 02:42:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): a bug in %c type check.\n\nFri Aug  4 01:28:19 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_reopen): STDERR.reopen(File.open(\"/dev/null\", \"w\")) should\n\t  not fclose stderr.\n\nThu Aug  3 15:16:44 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_include): should always call Enumerable#include?\n\t  (not #===) for non numeric end points.  [ruby-core:08477]\n\t  [ruby-core:08496]\n\nMon Jul 31 16:51:40 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (exit_handler): new function; release winsock and\n\t  environment work area.\n\n\t* win32/win32.c (NTInitialize): setup exit_handler.\n\n\t* win32/win32.c (StartSockets): use exit_handler.\n\n\t* win32/win32.c (rb_w32_getenv): use GetEnvironmentStrings() instead\n\t  of GetEnvironmentVariable(), because the latter cannot distinguish\n\t  whether a null environment variable exists or not.\n\t  fixed: [ruby-talk:205123]\n\nMon Jul 31 16:15:13 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_process.rb (TestProcess#test_rlimit_nofile):\n\t  setrlimit may fail with EINVAL.\n\t  reported by MIYAMUKO Katsuyuki.  [ruby-dev:29174]\n\nMon Jul 31 09:22:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h: use ifdef (or defined) for macro constants that may or\n\t  may not be defined to shut up gcc's -Wundef warnings.\n\t  [ruby-core:08447]\n\nMon Jul 31 13:38:13 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPReuqest#parse_uri): improve\n\t  for the value of IPv6 address in the Host: header field.\n\nSun Jul 30 23:26:12 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_call0): trace call/return of method defined from block.\n\t  fixed: [ruby-core:08329]\n\n\t* eval.c (rb_trap_eval): make the current thread runnable to deal with\n\t  exceptions which occurred within the trap.  fixed: [ruby-dev:27729]\n\n\t* lib/cgi/session.rb, lib/cgi/session/pstore.rb: suppress warnings.\n\t  fixed: [ruby-talk:204896]\n\nSat Jul 29 06:12:06 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: freeze ip_name for security reason.\n\nSat Jul 29 01:23:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/logger.rb: improves the amount of documentation that Rdoc\n\t  picks up when processing logger.rb by moving the require\n\t  statement back before the comment block.  a patch from Hugh\n\t  Sasse <hgs at dmu.ac.uk>.  [ruby-core:08422]\n\nFri Jul 28 17:18:03 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/curses/curses.c (NUM2CH, CH2FIX): use single char strings.\n\nFri Jul 28 14:09:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): fixed typo in cache look-up.  [ruby-dev:29167]\n\nFri Jul 28 10:41:35 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): a bug in method cache look-up.\n\t  http://www.rubyist.net/~matz/20060720.html#c04\n\nFri Jul 28 10:19:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): documentation update patch from Jacob\n\t  Fugal <lukfugl at gmail.com>.  [ruby-core:08418]\n\nFri Jul 28 09:41:45 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_to_s): fixed typo.  [ruby-dev:29162]\n\nFri Jul 28 00:26:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (domain_check): ANSI style function arguments\n\n\t* math.c (math_log): too few argument to domain_check().\n\nThu Jul 27 21:19:54 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (domain_check): a new function to check domain error\n\t  explicitly for systems that return NaN like FreeBSD.\n\t  [ruby-core:07019]\n\n\t* math.c (math_acos, math_asin, math_acosh, math_atanh, math_log,\n\t  math_log10, math_sqrt): use domain_check().\n\n\t* math.c (math_sqrt): fix documentation flaw.\n\nThu Jul 27 22:21:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_to_s): fixed format mismatch.\n\nThu Jul 27 18:12:12 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* time.c: need to declare time_utc_offset.\n\nThu Jul 27 17:01:01 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_close): always calls \"close\" method of the receiver.\n\t  [ruby-core:6911] [ruby-core:8112]\n\nThu Jul 27 16:41:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/openssl/ossl.h: move <ruby.h> inclusion point to shut up\n\t  Solaris compiler.  [ruby-core:08114]\n\n\t* time.c (time_to_s): use +0900 style timezone string for local time.\n\t  [ruby-dev:29143]\n\nWed Jul 26 22:20:59 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: add support for as and ASFLAGS.  [ruby-dev:29138]\n\nWed Jul 26 21:59:33 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (Net::HTTP#post, request_post, request): should\n\t  set Content-Type: x-www-form-urlencoded by default.\n\n\t* lib/net/http.rb (Net::HTTPHeader#content_type): should return\n\t  nil when there's no Content-Type.\n\n\t* lib/net/http.rb (Net::HTTPHeader#sub_type): should return nil\n\t  when there's no sub Content-Type (e.g. \"Content-Type: text\").\n\n\t* lib/net/http.rb (Net::HTTPHeader#type_params): wrongly failed\n\t  when there's no Content-Type.\n\nWed Jul 26 18:38:13 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c (strscan_do_scan): always return nil if\n\t  p->curr exceeds string size.\n\nWed Jul 26 18:33:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_eval): rename #invoke_method and\n\t  #invoke_functional_method to __send and __send! respectively.\n\n\t* eval.c (remove_method): prohibit removing __send and __send!.\n\n\t* eval.c (rb_undef): prohibit undef'ing  __send and __send!.\n\n\t* eval.c (rb_eval): prohibit redefining  __send and __send!.\n\n\t* lib/delegate.rb (Delegator): preserve __send.\n\nWed Jul 26 18:14:19 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/pty/pty.c (getDevice): retry once after GC on failure.\n\t  [ruby-core:08282]\n\nWed Jul 26 17:43:20 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c (strscan_do_scan):\n\t  StringScanner.new(\"\").scan(//) should return \"\". [ruby-Bugs:4361]\n\nWed Jul 26 17:28:16 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): prepend \"..\" to %u for negative bignum,\n\t  but not \"-\".  fixed: [ruby-core:08167]\n\nWed Jul 26 16:39:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_scan): add string modification check.\n\t  [ruby-core:7216]\n\nWed Jul 26 16:06:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): check\n\t  multipart boundary end.  a patch from Fujioka <fuj at rabbix.jp>\n\t  [ruby-dev:28470]\n\nWed Jul 26 01:02:59 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: suppress warnings by automake 1.8 or later.\n\nTue Jul 25 14:46:14 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): typo.\n\nTue Jul 25 13:14:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (rb_proc_times): rename hz to hertz to avoid name\n\t  crash on AIX.  [ruby-dev:29126]\n\nMon Jul 24 22:03:40 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (backtrace): skip frames successive on node and method name.\n\nMon Jul 24 15:51:52 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/readline/readline.c (readline_readline): rl_deprep_term_function\n\t  may be NULL with libedit.  reported by Ryan Davis.  [ruby-dev:29070]\n\nMon Jul 24 15:19:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): revert last change.  [ruby-dev:29112]\n\t  [ruby-core:08374]\n\nSun Jul 23 22:59:49 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* test/socket/test_unix.rb: disabled on cygwin.\n\t  reported by Kouhei Yanagita.  [ruby-dev:29080]\n\nFri Jul 21 23:57:26 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): script is never used while recursing.\n\nFri Jul 21 21:21:08 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_call0): include funcalled methods in caller list.\n\t  fixed: [ruby-core:08290]\n\nFri Jul 21 17:52:24 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): \"9_e8\" should consider \"_e8\" as\n\t  trailing garbage so that it should return 9.0.  [ruby-dev:29088]\n\nFri Jul 21 12:11:00 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, lib/mkmf.rb (with_destdir): remove drive letter before\n\t  prepending destdir on DOSISH.\n\nFri Jul 21 04:17:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): try local method look-up first for fcall, then\n\t  normal method look-up.  [ruby-talk:202564]\n\n\t* eval.c (rb_get_method_body): save local method cache separately.\n\n\t* eval.c (search_method): export info whether method is local or\n\t  not.\n\nThu Jul 20 20:27:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_mod_attr): make Module#attr to be an alias to\n\t  attr_reader.  [RCR#331]\n\nThu Jul 20 15:07:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h: export classes/modules to implement sandbox.\n\t  [ruby-core:08283]\n\nWed Jul 19 19:40:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): should check args_args before lambda\n\t  argument check.  [ruby-dev:29029]\n\nTue Jul 18 23:53:59 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_f_system): shouldn't block SIGCHLD if it's not\n\t  exist.\n\nTue Jul 18 22:10:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (rb_f_system): block SIGCHLD during the process\n\t  execution, like glibc system(3) does.  [ruby-talk:202361]\n\nTue Jul 18 23:10:43 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (open_ifs_socket): should not use plain malloc.\n\n\t* win32/win32.c (rb_w32_opendir): should not use plain realloc.\n\nTue Jul 18 18:05:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_float.rb (TestFloat::test_strtod): update test to\n\t  conform strtod change.\n\nTue Jul 18 16:52:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (yield_under_i): argument should be passed in avalue\n\t  form.  [ruby-dev:29044]\n\nTue Jul 18 15:49:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_unpack): propagate association array to copied\n\t  string.  [ruby-core:08223]\n\n\t* pack.c (pack_unpack): return referenced string itself if it has\n\t  same length as specified.  a patch from <nobu at ruby-lang.org>\n\t  in [ruby-core:08225].\n\n\t* pack.c (pack_pack): taint 'p' packed strings.\n\nTue Jul 18 15:19:07 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* intern.h (st_foreach_safe): fix prototype.\n\n\t* node.h (NODE_LMASK): bigger than long on LLP64.\n\n\t* missing/vsnprintf.c (BSD__uqtoa): new function to support LLP64.\n\t  all changes are derived from [ruby-dev:29045]\n\nTue Jul 18 14:03:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer::unmount): remove\n\t  inpect argument from sprintf.  [ruby-dev:29039]\n\nTue Jul 18 10:53:37 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): limit out-of-range message.\n\n\t* util.c (ruby_strtod): return end pointer even if ERANGE occurred.\n\t  fixed: [ruby-dev:29041]\n\nMon Jul 18 00:43:05 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (ruby_strtod): stop at dot not followed by digits.\n\t  fixed: [ruby-dev:29036]\n\nTue Jul 18 00:01:27 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: remove LIBRUBY_SO if static linked extensions exist.\n\nMon Jul 17 23:30:46 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_msvcrt): defaulted to msvcrt.  Workaround for a\n\t  bug of cygwin 1.5.20.\n\nMon Jul 17 22:55:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/io/wait/wait.c (io_ready_p): protoize.\n\nMon Jul 17 13:43:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (define_swapx): should not use plain malloc.\n\n\t* ext/curses/curses.c (curses_getmouse): ditto.\n\nMon Jul 17 12:58:41 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: should use ac_cv_lib_dl_dlopen=no on MinGW.\n\nMon Jul 17 11:47:35 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* st.c: still need to include config.h on some platforms.\n\nSat Jul 15 01:09:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* st.c (malloc): use xmalloc/xcalloc instead of plain\n\t  malloc/calloc, to detect memory allocation failure.  see\n\t  <http://www.nongnu.org/failmalloc/>.\n\nFri Jul 14 13:08:13 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add methods for new features of latest Tcl/Tk8.5.\n\n\t* ext/tk/lib/tk/namespace.rb: ditto.\n\nFri Jul 14 02:30:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/monitor.rb: document patch from Hugh Sasse <hgs at dmu.ac.uk>.\n\t  [ruby-core:08205]\n\nFri Jul 14 00:10:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_pop): may cause realloc oscillation.  a patch\n\t  from MORITA Naoyuki <mlgetter at kidou.sakura.ne.jp>.\n\t  [ruby-dev:29028]\n\nThu Jul 13 22:23:56 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/composite.rb: improve handling of the classname on the\n\t  option database for the widget class which includes TkComposite.\n\nThu Jul 13 00:40:57 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (FIX2LONG): returns integer of size of VALUE.\n\t  [ruby-dev:29024]\n\n\t* ruby.h (FIX2ULONG): ditto.\n\nWed Jul 12 20:05:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_args): allow post mandatory arguments after optional\n\t  arguments.  [ruby-dev:29014]\n\n\t* parse.y (new_args_gen): allow post_args without rest_args.\n\n\t* eval.c (formal_assign): ditto.\n\n\t* parse.y (new_args_gen): check post argument duplication.\n\nTue Jul 11 20:58:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h: export rb_cMethod.  [ruby-talk:201259]\n\nTue Jul 11 19:13:33 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: remove restriction on the class of\n\t  pseudo-toplevel.\n\nTue Jul 11 18:00:57 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: security fix.\n\nTue Jul 11 17:28:08 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_dump): need to extend len for \\b.\n\nTue Jul 11 15:29:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_int2big): use SIGNED_VALUE.  [ruby-dev:29019]\n\n\t* bignum.c (rb_int2inum, rb_uint2inum): use VALUE sized integer.\n\n\t* bignum.c (rb_big2long, rb_big2ulong): ditto.\n\n\t* numeric.c (rb_num2long, rb_num2ulong): ditto.\n\n\t* numeric.c (check_int, check_uint): ditto.\n\n\t* bignum.c (rb_quad_pack): typo fixed.\n\nTue Jul 11 13:40:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bignorm): sizeof(long) may be smaller than\n\t  sizeof(VALUE).  [ruby-dev:29013]\n\n\t* ruby.h (FIXNUM_MAX): fixnum may be bigger than long.\n\n\t* ruby.h (SIGNED_VALUE): signed integer of size of VALUE.\n\nMon Jul 10 23:37:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/soap/rpc/proxy.rb (Proxy::Operation::response_doc): remove\n\t  splat star from return statements.\n\n\t* lib/soap/rpc/proxy.rb (Proxy::Operation::response_obj): retrieve\n\t  the first value from the result array if response has only one\n\t  value.\n\nMon Jul 10 22:00:00 2006  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c: Allows '_' to appear within\n\t  digits.  [ruby-dev:28872]\n\n\t* ext/bigdecimal/lib/bigdecimal/util.rb: Bug in to_r reported by\n\t  [ruby-list:42533] fixed.\n\nMon Jul 10 19:22:19 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (gc_sweep): expand heap earlier.\n\t  reported by MORITA Naoyuki.  [ruby-dev:28960]\n\nMon Jul 10 18:59:34 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/font.rb: sorry. mistaken to patch.\n\nMon Jul 10 18:46:52 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: make SEGV risk lower at exit.\n\n\t* ext/tk/lib/tk.rb: ditto.\n\n\t* ext/tk/lib/multi-tk.rb: fail to call function-style methods on slave\n\t  interpreters. The strategy (MultiTkIp_PseudoToplevel_Evaluable) to\n\t  fix the problem is a little tricky. You may have to take care of\n\t  conflicting with it.\n\n\t* ext/tk/lib/tk.rb: a little change for the pseudo-toplevel strategy.\n\n\t* ext/tk/lib/tk/font.rb: ditto.\n\n\t* ext/tk/lib/tk/msgcat.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/itk/incr_tk.rb: ditto.\n\n\t* ext/tk/sample/demos-en/widget: fail to call function-style methods\n\t  on sample scripts. To fix it, a strategy which similar to the way\n\t  on MultiTiIp is used. Please take care when re-write and re-run a\n\t  demo script on the Widget-Demo code viewer.\n\n\t* ext/tk/sample/demos-jp/widget: ditto.\n\nMon Jul 10 17:32:38 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/test.rb: update test suites.\n\n\t* test/ruby/test_assignment.rb (TestAssignment::test_yield): ditto.\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_itertest): ditto.\n\nMon Jul 10 14:43:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): remove erroneously restored prot_tag->blkid\n\t  initialization.  [ruby-dev:28997]  [ruby-dev:29000]\n\nMon Jul 10 13:58:08 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* signal.c (install_nativethread_sighandler): commented out.\n\nMon Jul 10 09:29:12 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_clear_cache_for_remove): clear entries for included\n\t  module.  fixed: [ruby-core:08180]\n\nMon Jul 10 02:22:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): should not overwrite block information in\n\t  current frame.  [ruby-dev:28957]\n\n\t* eval.c (rb_yield_0): retrieve proper block object from the frame\n\t  record.\n\n\t* eval.c (proc_alloc): return preserved block object if it's\n\t  available.\n\nMon Jul 10 01:48:38 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* st.h (st_data_t): use pointer sized integer for st_data_t.\n\t  [ruby-dev:28988]\n\nSun Jul  9 18:06:47 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (try_constant): fix for value 1 at cross compiling.\n\n\t* lib/mkmf.rb (create_makefile): prevent substitution of macro\n\t  definition.  fixed: http://www.yotabanana.com/lab/20060624.html#p02\n\nSun Jul  9 07:58:48 2006  Ryan Davis  <ryand@zenspider.com>\n\n\t* lib/rdoc/parsers/parse_f95.rb: massive overhaul from Yasuhiro\n\t  Morikawa including new file suffixes, function support, public\n\t  variables and constants, derived-types, defined operators and\n\t  assignments, namelists, and subroutine and function\n\t  arguments. Truly massive.\n\n\t* lib/rdoc/diagram.rb: diagrams are now cached.\n\n\t* lib/irb/completion.rb: fixed a crasher when completing against\n\t  an unnamed class/module.\n\n\t* lib/rdoc/parsers/parse_c.rb: private comment (--/++) support in\n\t  C-file rdoc.\n\n\t* lib/debug.rb: minor clarification in help.\n\n\t* lib/pp.rb: minor clarification on exception.\n\nSun Jul  9 00:54:11 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (next_jump): deal with destination of next.\n\t  fixed: [ruby-core:08169]\n\nFri Jul  7 17:49:16 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_ord): extract lower byte.  fixed: [ruby-dev:28980]\n\n\t* lib/jcode.rb (String#succ!): fix for 1.9.  fixed: [ruby-dev:28979]\n\nFri Jul  7 14:05:03 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.h): define FUNC_STDCALL/FUNC_CDECL.\n\t  from [ruby-dev:28970].\n\nFri Jul  7 00:38:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_default): should not call default procedure if\n\t  no key is given.  [ruby-list:42541]\n\nThu Jul  6 23:30:04 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_proc_times): use sysconf(_SC_CLK_TCK) value prior to\n\t  HZ and CLK_TCK.  fixed: [ruby-talk:200293]\n\nThu Jul  6 21:50:06 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/racc/cparse/cparse.c: sync with original code, rev 1.8.\n\n\t* ext/racc/cparse/cparse.c: should mark CparseParams objects.\n\n\t* lib/racc/parser.rb: sync with original code, rev 1.8.\n\n\t* lib/racc/parser.rb: update coding style.\n\nWed Jul  5 05:28:45 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (block_param): should allow block argument after splat\n\t  and post splat args.\n\nWed Jul  5 01:12:19 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_lambda.rb (TestLambdaParameters::test_lambda_as_iterator):\n\t  -> style block no longer available.  [ruby-dev:28958]\n\nTue Jul  4 21:48:56 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (proc_options): suppress warning on DOSISH.\n\nTue Jul  4 15:12:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): should not set prot_tag->blkid since it would\n\t  never catch breaks at this level.  [ruby-dev:28922]\n\nTue Jul  4 04:48:36 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c: ruby 1.9 HEAD 64 bit warnings clean up from\n\t  <ville.mattila at stonesoft.com>.   [ruby-core:08120]\n\nMon Jul  3 19:04:38 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_make_menu_embeddable): help to make a menu\n\t  widget embeddable (pack, grid, and so on) like as a general widget.\n\t  However, an embeddable menu may require to be defined some event\n\t  bindings for general use.\n\n\t* ext/tk/lib/tk/event.rb: [bug fix] Tk.callback_break and\n\t  Tk.callback_continue don't work on MultiTkIp.\n\n\t* ext/tk/lib/multi-tk.rb: ditto.\n\n\t* ext/tk/lib/tk.rb: lack of Tk.callback_return.\n\n\t* ext/tk/lib/tk/menu.rb: improve creating clone menus.\n\nMon Jul  3 14:42:06 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/etc/extconf.rb (PW_UID2VAL, PW_GID2VAL): defaulted to conversion\n\t  from int, and sys/types.h needs to be included before grp.h.\n\t  fixed: [ruby-dev:28938]\n\nMon Jul  3 10:44:01 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (popen_exec): close file descriptors other than standard I/Os.\n\t  fixed: [ruby-dev:28924]\n\nMon Jul  3 05:15:29 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/openssl/test_asn1.c: String#[]= doesn't accept Integer.\n\nMon Jul  3 01:14:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_inspect): encode \\b (\\010) for escape.\n\t  [ruby-dev:28927]\n\n\t* string.c (rb_str_dump): ditto.\n\nSun Jul  2 19:03:30 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/racc/cparse/cparse.c: sync with original code, rev 1.7.\n\n\t* ext/racc/cparse/cparse.c: must require version.h to get\n\t  RUBY_VERSION_CODE.\n\nSun Jul  2 18:42:27 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/racc/cparse/cparse.c: sync with original source code, rev\n\t  1.6.\n\n\t* ext/racc/cparse/cparse.c: do not use rb_iterate to give a block\n\t  to the method, use rb_block_call instead. [ruby-dev:28445]\n\nSun Jul  2 11:22:03 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (io_reopen): STDOUT.reopen(filename, \"w+\") didn't work.\n\t  (rb_io_reopen): STDOUT.reopen(File.open(filename, \"w+\")) didn't work.\n\nSat Jul  1 23:55:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (PUSH_FRAME): initialize frame->self.  [ruby-dev:28911]\n\nSat Jul  1 17:00:42 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/webrick/utils.rb: use Proc#yield instead of Proc#call.\n\t  [ruby-dev:28914]\n\nSat Jul  1 15:15:49 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* test/socket/test_nonblock.rb: add timeout to send/receive\n\t  an empty UDP packet.\n\t  [ruby-dev:28820]\n\nFri Jun 30 23:46:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: should test isinf for Solaris with GCC compiler.\n\t  a patch from <ville.mattila at stonesoft.com>.  [ruby-core:07791]\n\n\t* configure.in: -shared patch from Andrew Morrow\n\t  <andrew.c.morrow at gmail.com>.  [ruby-core:08100]\n\nFri Jun 30 19:35:41 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils._escape): should\n\t  use String#ord to get ascii code from the one-character string.\n\t  [ruby-dev:28901]\n\nThu Jun 29 23:56:01 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_mark_children): a bug in NODE_BLOCK_PASS marking.\n\t  [ruby-dev:28908]\n\nThu Jun 29 23:04:36 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: use ARGSPUSH instead of ARGSCAT to prevent too much\n\t  splat expansion.\n\n\t* eval.c (when_check): need to handle ARGSPUSH as well.\n\n\t* eval.c (block_orphan): lambda and proc from method are always\n\t  orphan.\n\n\t* gc.c (gc_mark_children): proper marking for NODE_LAMBDA.\n\nThu Jun 29 22:47:30 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (SETUP_ARGS0): avoid GC problem.\n\t  [ruby-dev:28902]\n\nThu Jun 29 18:58:51 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_version): fix patch\n\t  failure.\n\nThu Jun 29 18:00:51 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c: add RDoc document.  a patch from\n\t  mathew <meta at pobox.com>.   [ruby-core:07050]\n\nWed Jun 28 14:53:09 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/optparse.rb: RDoc patch from Robin Stocker <robin@nibor.org>\n\t  [ruby-core:08087]\n\nWed Jun 28 23:23:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): underscores should appear only\n\t  between digits.  [ruby-dev:28891]\n\nWed Jun 28 19:04:34 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* test/socket/test_unix.rb: test_seqpacket_pair removed.\n\t  [ruby-dev:28846]\n\nWed Jun 28 13:51:21 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (when_check): arbitrary values are allowed after splats.\n\t  fixed: [ruby-dev:28879]\n\nWed Jun 28 09:16:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): remove meaningless else-only case statement\n\t  syntax.\n\nWed Jun 28 08:08:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): problem to handle else part.  [ruby-dev:28873]\n\nWed Jun 28 01:48:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): support splat in when expression list.\n\t  [ruby-dev:28822]\n\n\t* eval.c (when_check): a new auxiliary function for case match.\n\n\t* eval.c (when_cond): ditto.\n\nWed Jun 28 01:05:37 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): should not skip '_' at the beginning\n\t  of a string.  [ruby-dev:28830]\n\n\t* bignum.c (rb_cstr_to_inum): ditto.\n\nTue Jun 27 23:03:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c: RDoc update for =~ method.  a patch from Alex Young\n\t  <alex at blackkettle.org>.  [ruby-core:08068]\n\nTue Jun 27 22:47:18 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: forgot to update TCLTKLIB_RELEASE_DATE.\n\n\t* ext/tk/lib/tk.rb (tk_tcl2ruby): [bug fix] sometimes fail to convert\n\t  a tcl string to a ruby object if the tcl string includes \"\\n\".\n\nTue Jun 27 20:05:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (pipe_open): backout unnecessary fix on 2006-06-26.\n\t  [ruby-dev:28865]\n\n\t* eval.c (rb_yield_0): exact argument number check now done only\n\t  for lambda Proc.\n\n\t* eval.c (rb_yield_0): add check for number of arguments, if\n\t  there's one lambda block parameter.\n\nTue Jun 27 16:04:05 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* win32/win32.h: define isascii on MinGW for msvcrt compatibility.\n\n\t* configure.in: set ac_cv_header_sys_time_h=no on MinGW\n\t  for msvcrt compatibility.\n\nTue Jun 27 11:36:02 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/etc/etc.c (setup_passwd, setup_group): allow bignum uid, gid and\n\t  so on.  [ruby-talk:199102]\n\nTue Jun 27 10:46:53 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_yield_0): avoid core dump.  [ruby-dev:28840]\n\nMon Jun 26 11:03:00 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri: Add options to limit the ri search path.\n\nTue Jun 27 01:31:59 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c (bsock_recv_nonblock): new method\n\t  BasicSocket#recv_nonblock.\n\t  (udp_recvfrom_nonblock): renamed from ip_recvfrom_nonblock.\n\t  IPSocket#recvfrom_nonblock is moved to UDPSocket#recvfrom_nonblock.\n\t  (unix_recvfrom_nonblock): removed.\n\t  UNIXSocket#recvfrom_nonblock is removed.\n\nTue Jun 27 00:52:40 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/ripper/eventids2.c (token_assoc): added tCHAR, which is not\n\t  under 256 now.  fixed: [ruby-dev:28832]\n\nMon Jun 26 23:42:57 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (call_trace_func): no check for argument number of the\n\t  callback.  fixed: [ruby-dev:28812]\n\nMon Jun 26 18:37:44 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_delete): fix SEGV when a slave-ip is\n\t  deleted on callback.\n\nMon Jun 26 15:40:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_accept): revert to avoid ambiguity of\n\t  argument evaluation order.  [ruby-dev:28861]\n\n\t* ext/socket/socket.c (sock_accept_nonblock): ditto.\n\nMon Jun 26 10:47:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (pipe_open): avoid closing uninitialized file descriptors.\n\t  a patch from <tommy at tmtm.org> [ruby-dev:28600]\n\nSun Jun 25 23:02:12 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, mkconfig.rb: catch-up for latest autoconf.\n\nSun Jun 25 17:44:16 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* parse.y (paren_args): wrap $2 by escape_Qundef because it may be\n\t  Qundef.  [ruby-dev:28843]\n\nSun Jun 25 17:18:33 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(ole_invoke): support some kind of\n\t  method of word. [ruby-Bugs#3237]\n\n\t* test/win32ole/test_word.rb: ditto.\n\nSat Jun 24 23:48:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: replace terminal token names with more descriptive\n\t  name, i.e. kEND to keyword_end.  [ruby-list:42477]\n\nSat Jun 24 23:37:41 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_eval): use rb_ary_new2 instead of rb_ary_new4 to avoid\n\t  GC problem.\n\t  (rb_yield_values): use rb_ary_new2 instead of rb_ary_new4.\n\n\t* array.c (rb_ary_new4): don't set len as n if contents is not\n\t  initialized.  make it safe with GC.\n\n\t  [ruby-dev:28826]\n\nFri Jun 23 23:35:32 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ruby.h, lib/drb/drb.rb, lib/drb/invokemethod.rb: remove Values class.\n\t  [ruby-dev:28805]\n\nFri Jun 23 17:27:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_block_pass): removed.\n\n\t* eval.c (rb_thread_start_1): use rb_proc_yield() instead of\n\t  rb_block_pass().  fixed: [ruby-dev:28794]\n\nThu Jun 22 11:52:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/http.rb (Net::HTTPResponse): duplicated error 501;\n\t  HTTPInternalServerError should be error 500.  [ruby-core:08037]\n\nThu Jun 22 11:47:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_mod_name): returns nil for anonymous modules.\n\t  [ruby-talk:198440]\n\nThu Jun 22 10:31:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_aref): \"abc\"[3] should not return an empty\n\t  string but nil.  [ruby-dev:28786]\n\nThu Jun 22 05:15:58 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c (sock_s_socketpair): try GC only once.\n\t  [ruby-dev:28778]\n\nWed Jun 21 21:20:31 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (jd_to_commercial): now works fine even if in\n\t  mathn-ized context.\n\nWed Jun 21 17:29:57 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/getaddrinfo.c (freeaddrinfo, get_name): fixed typo.\n\n\t* ext/tk/tcltklib.c (tcl_eval, tcl_global_eval): ditto.\n\n\t* ext/zlib/zlib.c (rscheck): constified.\n\nWed Jun 21 17:18:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/pp.rb (PP::PPMethods::seplist): should have preserved\n\t  original reference to the array.  [ruby-dev:28747]\n\nWed Jun 21 14:35:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (block_param): do not use multiple assignment for a sole\n\t  block parameter.  [ruby-dev:28710]\n\n\t* eval.c (rb_yield_0): pass a raw yielded value to a sole block\n\t  parameter if a value is passed by yield.\n\n\t* eval.c (proc_invoke): args may not be an array.\n\n\t* eval.c (rb_proc_yield): pass original value without wrapping\n\t  it in an array.\n\nWed Jun 21 14:06:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (method_call): remove (fn)(args) style lambda\n\t  invocation, add fn.(args) instead.\n\nWed Jun 21 08:39:54 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/xmlrpc/create.rb (XMLRPC::Create::conv2value): merge Date\n\t  and Time processing.  [ruby-core:08033]\n\nWed Jun 21 03:01:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c, file.c, etc.: code-cleanup patch from Stefan Huehner\n\t  <stefan at huehner.org>.  [ruby-core:08029]\n\nWed Jun 21 01:40:25 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reswords): modifier token is no longer returned in fname\n\t  state.  fixed: [ruby-dev:28775]\n\nTue Jun 20 23:28:34 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (parse_args): provisional catch-up for the recent changes.\n\n\t* lib/optparse.rb (OptionParser::List#summarize, OptionParser#order!): ditto.\n\nTue Jun 20 11:07:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): intercept break and return from lambda\n\t  Proc objects.  [ruby-dev:28742]\n\n\t* eval.c (proc_invoke): remove unnecessary YIELD_PROC_CALL flag.\n\n\t* eval.c (YIELD_EXACT_ARGS): renamed from YIELD_LAMBDA_CALL, which\n\t  is no longer related to the behavior turned on by this flag.\n\n\t* eval.c (return_jump): no need to care about PROT_YIELD.\n\n\t* eval.c (break_jump): no jump to toplevel PROT_THREAD tag.\n\n\t* eval.c (rb_yield_0): fix confusion between lambda (which is a\n\t  property of a proc) and pcall (which depends on whether it's\n\t  called via yield or call).\n\n\t* eval.c (rb_thread_yield): no need to specify YIELD_LAMBDA_CALL.\n\n\t* eval.c (rb_block_pass): update blkid in prot_tag.\n\nMon Jun 19 23:40:59 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t  * ext/nkf/lib/kconv.rb: remove default -m0 and fix document.\n\n\t  * ext/nkf/nkf-8/{nkf.c, config.h, utf8tbl.c, utf8tbl.h}:\n\t    imported nkf 2.0.7.\n\nMon Jun 19 17:02:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/test.rb (proc_return3): return within non lambda block\n\t  should terminate surrounding method.  [ruby-dev:28741]\n\nMon Jun 19 13:22:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (unix_sysaccept): typo fixed.\n\n\t* ext/socket/socket.c (sock_connect): remove an unused local\n\t  variable tmpaddr.\n\nMon Jun 19 02:10:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (tcp_accept_nonblock): forgot to remove\n\t  abandoned hacks.  [ruby-dev:28740]\n\nMon Jun 19 00:00:17 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: fix bug: initialize improper tables.\n\nSun Jun 18 20:28:43 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fole_methods): The return value\n\t  of WIN32OLE#ole_methods should include PROPERTYPUTREF methods.\n\n\t* ext/win32ole/win32ole.c (fole_put_methods): The return value\n\t  of WIN32OLE#ole_put_methods should include PROPERTYPUTREF methods.\n\n\t* test/win32ole/test_ole_methods.rb: ditto.\n\n\t* ext/win32ole/win32ole.c (ole_propertyput): support\n\t  PROPERTYPUTREF. [ruby-talk:183042]\n\n\t* test/win32ole/test_propertyputref.rb: ditto.\n\nSat Jun 17 23:42:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_eval): add aliases invoke_method and\n\t  invoke_functional_method corresponding send and funcall\n\t  respectively.  [ruby-talk:197512]\n\n\t* parse.y (parser_yylex): returns the most typical keyword token\n\t  on EXPR_FNAME.  [ruby-core:7995]\n\n\t* ext/socket/socket.c: protoize.\n\nSat Jun 17 22:17:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Integer::prime_division): raise ZeroDivisionError\n\t  on zeros.  [ruby-dev:28739]\n\nSat Jun 17 14:53:32 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Kernel#Pathname): new method.\n\nSat Jun 17 02:01:00 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (Kernel#pretty_inspect): defined for pretty printed\n\t  string.\n\nFri Jun 16 01:41:00 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_proc_arity): get rid of segfault for mere splat.\n\n\t* gc.c (gc_mark_children): NODE_BLOCK_PASS needs u3 to be marked.\n\nThu Jun 15 22:06:56 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (then): remove ':' from 'then' and 'do' rules.\n\nWed Jun 14 18:00:20 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* enum.c (enum_any): Documentation typo.\n\nWed Jun 14 15:01:09 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser#warn): Don't print\n\t  warnings when -q is set.\n\nWed Jun 14 16:11:37 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_f_method_name, rb_f_callee_name): document typo.\n\nWed Jun 14 15:19:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (env_aset): raise TypeError on nil with more descriptive\n\t  message.  [ruby-core:07990]\n\nTue Jun 13 17:22:19 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (Init_socket): remove obsolete constants:\n\t  IPsocket, TCPsocket, SOCKSsocket, TCPserver, UDPsocket,\n\t  UNIXsocket, UNIXserver.\n\nTue Jun 13 09:07:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (formal_assign): post splat arguments should have had\n\t  higher priority than optional arguments, since they are\n\t  mandatory.  [ruby-dev:28715]\n\n\t* eval.c (VIS_MASK): broken. should be 15.  [ruby-dev:28715]\n\n\t* io.c (argf_getc): should return one-character string.\n\t  [ruby-dev:28715]\n\n\t* io.c (rb_io_readchar): ditto.\n\nSun Jun 11 23:20:07 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (sym_call): disallow to call private methods.\n\n\t* lib/optparse.rb (OptionParser::Arguable#getopts): pass self to the\n\t  parser.\n\nSun Jun 11 09:56:41 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.h (write): not need to define on bcc.\n\nSun Jun 11 08:30:33 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#getopts): new methods.\n\nSun Jun 11 07:27:11 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/ri/ri_writer.rb: use String#ord.\n\nSun Jun 11 04:38:20 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (sym_to_proc): imported Symbol#to_proc from ActiveSupport.\n\nSat Jun 10 18:02:40 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/lib/bigdecimal/newton.rb (Newton::nlsolve): typo\n\t  fixed: raize -> raise.  [ruby-talk:196608]\n\nSat Jun 10 17:49:53 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_ord): new method.\n\n\t* parse.y (rbracket): allow optional newline before closing\n\t  brackets.\n\nSat Jun 10 15:12:29 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_f_method_name, rb_f_callee_name): new functions.\n\t  new global method `__method__' and `__callee__'.\n\nSat Jun 10 10:13:13 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/getoptlong.rb (GetoptLong#set_options): receive arguments\n\t  as Array.\n\n\t* lib/irb/slex.rb: use Proc#yield.\n\n\t* lib/rdoc/markup/simple_markup/inline.rb: follow the new behavior\n\t  of String#[].\n\n\t* lib/rdoc/ri/ri_writer.rb: ditto.\n\nSat Jun 10 08:17:23 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* math.c (log2): may be a macro.\n\n\t* parse.y (args, block_param, f_args): pass f_post_arg to #params.\n\n\t* util.c (powersOf10): constified.\n\n\t* ext/readline/readline.c: include extconf.h first.\n\n\t* ext/ripper/eventids2.c: removed tLAMBDA_ARG.\n\n\t* ext/tk/tcltklib.c (lib_fromUTF8_core): removed conflict.\n\n\t* ext/tk/tkutil/tkutil.c (cbsubst_get_subst_arg): rb_id2name() is\n\t  defined as const now.\n\n\t* ext/win32ole/win32ole.c (fole_missing): ditto.\n\n\t* lib/mkmf.rb (create_makefile): force to create extconf header.\n\n\t* lib/optparse.rb (order!): use Proc#yield.\n\nSat Jun 10 06:53:22 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (CALLARGS): remove last semicolon. C90 compiler doesn't\n\t  allow any lines (even if they're empty) within variable\n\t  declarations.\n\nFri Jun  9 09:56:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): allow %c to print one character\n\t  string (e.g. ?x).\n\nThu Jun  8 14:00:02 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.[ch] (rb_w32_read, rb_w32_write): new functions.\n\t  use recv() and send() when fd is socket. fixed: [ruby-dev:28694]\n\nWed Jun  7 16:22:51 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tempfile.rb (Tempfile::make_tmpname): put dot between\n\t  basename and pid.  [ruby-talk:196272]\n\nWed Jun  7 16:16:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (do_block): remove -> style block.\n\n\t* parse.y (parser_yylex): remove tLAMBDA_ARG.\n\nWed Jun  7 14:51:22 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (errmap): add some winsock errors.\n\nWed Jun  7 09:14:44 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): binding for the return event hook should have\n\t  consistent scope.  [ruby-core:07928]\n\nTue Jun  6 23:25:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): return behavior should depend whether it\n\t  is surrounded by a lambda or a mere block.\n\nMon Jun  5 18:12:12 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c (sock_s_unpack_sockaddr_in): reject\n\t  non-AF_INET/AF_INET6 sockaddr.\n\t  (sock_s_unpack_sockaddr_un): reject non-AF_UNIX sockaddr.\n\t  [ruby-dev:28691]\n\nSun Jun  4 20:40:19 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c: fix sockaddr_un handling.\n\t  [ruby-dev:28677]\n\nSat Jun  3 23:53:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (formal_assign): handles post splat arguments.\n\n\t* eval.c (rb_call0): ditto.\n\nSat Jun  3 13:10:41 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* st.c (strhash): use FNV-1a hash.\n\nFri Jun  2 20:01:24 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): removed experimental ';;' terminator.\n\nFri Jun  2 19:00:40 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: use create_header.\n\n\t* ext/openssl/ossl.h, ext/openssl/openssl_missing.h:\n\t  include RUBY_EXTCONF_H.\n\nFri Jun  2 17:16:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (CLEANINGS): remove extconf.h by distclean if created.\n\nFri Jun  2 00:11:19 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c (s_recvfrom): alen may be zero with UNIXSocket\n\t  too.  (tested on NetBSD 3.0)\n\t  (s_recvfrom_nonblock): extracted from sock_recvfrom_nonblock.\n\t  (sock_recvfrom_nonblock): use s_recvfrom_nonblock.\n\t  (ip_recvfrom_nonblock): new method: IPSocket#recvfrom_nonblock\n\t  (unix_recvfrom_nonblock): new method: UNIXSocket#recvfrom_nonblock\n\t  (s_accept_nonblock): extracted from sock_accept_nonblock.\n\t  (sock_accept_nonblock): use s_accept_nonblock.\n\t  (tcp_accept_nonblock): new method: TCPServer#accept_nonblock\n\t  (unix_accept_nonblock): new method: UNIXServer#accept_nonblock\n\nThu Jun  1 19:12:37 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_cmdvector): backslashes inside single-quotes\n\t  no longer has special meanings.  fixed: [ruby-list:42311]\n\nThu Jun  1 17:55:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_node_arity): should be aware of post splat arguments.\n\n\t* eval.c (rb_proc_arity): ditto.\n\nThu Jun  1 16:17:26 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_getcwd): runtime's getcwd() will not success\n\t  if the length of the cwd is longer than MAX_PATH.\n\t  fixed [ruby-list:42335]\n\nThu Jun  1 16:07:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_args): syntax rule enhanced to support arguments\n\t  after the splat.\n\n\t* parse.y (mlhs_basic): ditto for multiple assignments\n\n\t* parse.y (block_param): ditto for block parameters.\n\n\t* parse.y (f_post_arg): mandatory formal arguments after the splat\n\t  argument.\n\n\t* parse.y (new_args_gen): generate nodes for mandatory formal\n\t  arguments after the splat argument.\n\n\t* eval.c (rb_eval): dispatch mandatory formal arguments after the\n\t  splat argument.\n\nThu Jun  1 11:33:32 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_getcwd): set errno if not set.\n\t  fixed [ruby-list:42346]\n\nThu Jun  1 00:45:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (args): allow more than one splat in the argument list.\n\nWed May 31 18:38:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (method_call): allow aref [] to accept all kind of\n\t  method argument, including assocs, splat, and block argument.\n\n\t* eval.c (SETUP_ARGS0): prepare block argument as well.\n\nTue May 30 18:13:53 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Integer): remove Integer#gcd2. [ruby-core:07931]\n\nMon May 29 22:40:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (error_line): print receivers true/false/nil specially.\n\n\t* eval.c (rb_proc_yield): handles parameters in yield semantics.\n\n\t* eval.c (nil_yield): gives LocalJumpError to denote no block\n\t  error.\n\n\t* io.c (rb_io_getc): now takes one-character string.\n\nSat May 27 22:46:38 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): save and restore block in the current frame.\n\t  fixed: [ruby-core:07833], [ruby-talk:191639]\n\nSat May 27 11:29:46 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): remove extinit files if no statically linked\n\t  extensions.\n\nFri May 26 19:56:46 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_hash): use FNV-1a hash from Fowler/Noll/Vo\n\t  hashing algorithm.\n\nFri May 26 09:05:11 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.h, lib/mkmf.rb (create_header): clear command line options for\n\t  macros moved to extconf.h.\n\n\t* ext/extmk.rb (extract_makefile, extmk): made RUBY_EXTCONF_H and\n\t  EXTSTATIC permanent.\n\n\t* ext/{dbm,digest/*,socket,zlib}/extconf.rb: used $defs and $INCFLAGS.\n\n\t* {bcc32,win32,wince}/Makefile.sub (COMPILE_C, COMPILE_CXX): added\n\t  $(INCFLAGS).\n\n\t* lib/mkmf.rb (configuration): add $defs unless extconf.h was created.\n\nThu May 25 01:52:07 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (pkg_config): particular config commands support.\n\n\t* ext/extmk.rb: deal with $static set in extconf.rb.\n\n\t* mkconfig.rb: merge multiple entries to an entry with multiple lines.\n\n\t* lib/mkmf.rb: allow a series of commands to link.\n\n\t* win32/Makefile.sub: embed manifests.\n\n\t* win32/setup.mak: suffix OS name by runtime version.\n\nWed May 24 23:52:11 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ac_install_sh): ignore dummy install-sh.\n\t  [ruby-talk:193876]\n\nWed May 24 17:55:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_aref): str[0] now returns 1 character string,\n\t  instead of a fixnum.\t[Ruby2]\n\n\t* parse.y (parser_yylex): ?c now returns 1 character string,\n\t  instead of a fixnum.\t[Ruby2]\n\n\t* string.c (rb_str_aset): no longer support fixnum insertion.\n\nWed May 24 03:10:44 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb\n\t  (OpenSSL::SSL::SocketForwarder#setsockopt,getsockopt): typo fixed.\n\nMon May 22 16:32:03 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h (rb_io_set_nonblock): declared.\n\n\t* io.c (rb_io_set_nonblock): new function.\n\t  (io_getpartial): nonblocking read support.\n\t  (io_read_nonblock): new method: IO#read_nonblock.\n\t  (io_write_nonblock): new method: IO#write_nonblock.\n\n\t* ext/socket/socket.c (s_accept): retry for EWOULDBLOCK.\n\t  revert [ruby-talk:113807].\n\t  (sock_connect_nonblock): new method: Socket#connect_nonblock.\n\t  (sock_accept_nonblock): new method: Socket#accept_nonblock.\n\t  (sock_recvfrom_nonblock): new method: Socket#recvfrom_nonblock.\n\n\t  [ruby-core:7917]\n\nMon May 22 15:57:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (umethod_bind): should not update original class.\n\t  [ruby-dev:28636]\n\nMon May 22 13:38:57 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (ev_const_get): should support constant access from\n\t  within instance_eval().  [ruby-dev:28327]\n\nSun May 21 09:50:31 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* regexec.c: add STK_NULL_CHECK_END to IS_TO_VOID_TARGET().\n\t  [ruby-list:42234]\n\nThu May 18 22:37:20 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/config.rb (WEBrick::Config::HTTP): add new parameters,\n\t  :InputBufferSize and :OutputBufferSize.\n\n\t* lib/webrick/utils.rb (WEBrick::Utils.timeout): add new timeout\n\t  method. this implementation is expected to be compatible with\n\t  timeout.rb and faster than timeout.rb.\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPRequest#_read_data):\n\t  Timeout.timeout is replaced by WEBrick::Utils.timeout.\n\n\t* lib/webrick/httprequest.rb: WEBrick::HTTPRequest::BUFSIZE is\n\t  replaced by config[:InputBufferSize].\n\n\t* lib/webrick/httpresposne.rb: WEBrick::HTTPResponse::BUFSIZE is\n\t  replaced by config[:OutputBufferSize].\n\n\t* lib/webrick/server.rb: get rid of unnecessary require.\n\n\t* test/webrick/test_utils.rb: test for WEBrick::Utils.timeout.\n\nThu May 18 17:51:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_timeval): should round for usec floating\n\t  number.  [ruby-core:07896]\n\n\t* time.c (time_add): ditto.\n\nThu May 18 00:42:12 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, lib/mkmf.rb: use BUILD_FILE_SEPARATOR in Makefiles.\n\nWed May 17 17:55:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (sys_warning): should not call a vararg function\n\t  rb_sys_warning() indirectly.\t[ruby-core:07886]\n\nTue May 16 17:23:19 2006  Shin-ichiro HARA  <sinara@blade.nagaokaut.ac.jp>\n\n\t* numeric.c (flo_divmod): the first element of Float#divmod should\n\t  be an integer. [ruby-dev:28589]\n\n\t* test/ruby/test_float.rb: add tests for divmod, div, modulo and remainder.\n\nTue May 16 15:34:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): should not allow modifying literal\n\t  regexps.  frozen check moved from rb_reg_initialize_m as well.\n\nTue May 16 09:20:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): should not modify untainted objects in\n\t  safe levels higher than 3.\n\n\t* re.c (rb_memcmp): type change from char* to const void*.\n\n\t* dir.c (dir_close): should not close untainted dir stream.\n\n\t* dir.c (GetDIR): add tainted/frozen check for each dir operation.\n\nMon May 15 21:37:12 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c (rb_reg_prepare_re): don't use onig_recompile().\n\nMon May 15 17:42:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_symbol_arg):\n\t  typo fixed.  a patch from Florian Gross <florg at florg.net>.\n\nSat May 13 16:14:05 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (PP.mcall): new method.\n\t  (Struct#pretty_print): call Kernel#class and Struct#members even if\n\t  overridden.\n\t  (Struct#pretty_print_cycle): ditto.\n\t  [ruby-core:7865]\n\nFri May 12 15:54:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (EXEC_EVENT_HOOK): trace_func may remove itself from\n\t  event_hooks.\tno guarantee for arbitrary hook deletion.\n\t  [ruby-dev:28632]\n\nThu May 11 19:57:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): differ addition to minimize error.\n\t  [ruby-dev:28619]\n\nThu May 11 18:30:11 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_cipher.c (add_cipher_name_to_ary): should return\n\t  value. [ruby-dev:28627]\n\nThu May 11 18:10:43 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): should not raise ERANGE when the input\n\t  string does not have any digits.  [ruby-dev:28629]\n\nWed May 10 23:40:21 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.0.3\n\n\t* regexec.c: ditto.\n\nMon May  8 09:10:31 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: add check for OBJ_NAME_do_all_sorted.\n\n\t* ext/openssl/ossl_cipher.c (ossl_s_ciphers): new method\n\t  OpenSSL::Cipher.ciphers. it returns all the cipher names.\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_init): refine warning message.\n\n\t* ext/openssl/lib/openssl/cipher.rb: reimplement without eval() and\n\t  add constants AES128, AES192, AES256. [ruby-dev:28610]\n\n\t* ext/openssl/lib/openssl/digest.rb: reimplement without eval().\n\n\t* test/openssl/test_cipher.rb, test_digest: fix about reimplemented\n\t  features.\n\n\t* sample/openssl/cipher.rb: rewrite all.\n\nSun May  7 03:09:51 2006  Stephan Maka  <stephan@spaceboyz.net>\n\n\t* lib/resolv.rb (Resolv::DNS::Requester::ConnectedUDP#initialize):\n\t  Use AF_INET6 for nameservers containing colons.\n\nSat May  6 23:40:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): should restore old ruby_frame->block.\n\t  thanks to ts <decoux at moulon.inra.fr>.  [ruby-core:07833]\n\t  also fix [ruby-dev:28614] as well.\n\nSat May  6 00:38:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (trap): sig should be less then NSIG.  Coverity found\n\t  this bug.  a patch from Kevin Tew <tewk at tewk.com>.\n\t  [ruby-core:07823]\n\nThu May  4 22:13:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (math_log2): add new method inspired by\n\t  [ruby-talk:191237].\n\n\t* math.c (math_log): add optional base argument to Math::log().\n\t  [ruby-talk:191308]\n\nThu May  4 02:24:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/emitter.c (syck_scan_scalar): avoid accessing\n\t  uninitialized array element.\ta patch from Pat Eyler\n\t  <rubypate at gmail.com>.  [ruby-core:07809]\n\n\t* array.c (rb_ary_fill): initialize local variables first.  a\n\t  patch from Pat Eyler <rubypate at gmail.com>.\t [ruby-core:07810]\n\n\t* ext/syck/yaml2byte.c (syck_yaml2byte_handler): need to free\n\t  type_tag.  a patch from Pat Eyler <rubypate at gmail.com>.\n\t  [ruby-core:07808]\n\nWed May  3 02:12:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (make_hostent_internal): accept ai_family\n\t  check from Sam Roberts <sroberts at uniserve.com>.\n\t  [ruby-core:07691]\n\nMon May  1 17:58:16 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (add_event_call_back): should not\n\t  delete event handler when the event name is not entried.\n\nMon May  1 08:32:10 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_param_ole_type): should return\n\t  \"unknown type\" string when ITypeInfo::GetFuncDesc failed.\n\nSat Apr 29 22:43:37 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_decode0): should initialize\n\t  flag. [ruby-core:07785]\n\nFri Apr 28 10:53:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): should not cut off 18 digits for no\n\t  reason.  [ruby-core:07796]\n\nThu Apr 27 01:38:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_fill): internalize local variable \"beg\" to\n\t  pacify Coverity.  [ruby-core:07770]\n\nWed Apr 26 16:59:24 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_unpack): now supports CRLF newlines.  a patch from\n\t  <tommy at tmtm.org>.\t[ruby-dev:28601]\n\nWed Apr 26 16:55:19 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* applied code clean-up patch from Stefan Huehner\n\t  <stefan at huehner.org>.  [ruby-core:07764]\n\nTue Apr 25 18:00:05 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (delete_slaves): maybe increment the reference\n\t  count of a NULL Tcl_Obj [ruby-core:07759].\n\nTue Apr 25 07:55:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/jcode.rb (String::tr_s): should have translated non\n\t  squeezing character sequence (i.e. a character) as well.  thanks\n\t  to Hiroshi Ichikawa <gimite at gimite.ddo.jp> [ruby-list:42090]\n\nFri Apr 21 15:19:13 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (lib_eventloop_ensure): refer freed pointer\n\t  [ruby-core:07744] and memory leak.\n\nFri Apr 21 12:14:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: document update patch from Sam Roberts\n\t  <sroberts at uniserve.com>.  [ruby-core:07701]\n\nThu Apr 20 08:43:54 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Integer): need not to remove gcd2.  a patch from\n\t  NARUSE, Yui <naruse at airemix.com>.\t[ruby-dev:28570]\n\nWed Apr 19 13:55:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (arg): too much NEW_LIST()\n\n\t* eval.c (SETUP_ARGS0): remove unnecessary access to nd_alen.\n\nWed Apr 19 11:57:04 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): use ARGSCAT for NODE_OP_ASGN1.\n\t  [ruby-dev:28585]\n\n\t* parse.y (arg): use NODE_ARGSCAT for placeholder.\n\nWed Apr 19 11:13:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/getoptlong.rb (GetoptLong::get): RDoc update patch from\n\t  mathew <meta at pobox.com>.  [ruby-core:07738]\n\nWed Apr 19 10:13:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_const_set): raise error when no target klass is\n\t  supplied.  [ruby-dev:28582]\n\nTue Apr 18 17:40:37 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: add a binding to a container for a slave IP.\n\n\t* ext/tk/lib/tk.rb: update RELEASE_DATE.\n\n\t* ext/tk/tcltklib.c: forget to reset a Tcl interpreter.\n\n\t* ext/tk/stubs.c: fix potential bugs about handling rb_argv0.\n\nMon Apr 10 01:03:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* prec.c (prec_prec_f): documentation patch from\n\t  <gerardo.santana at gmail.com>.  [ruby-core:07689]\n\nSat Apr  8 02:34:34 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): second operand may be too big even if\n\t  it's a Fixnum.  [ruby-talk:187984]\n\nSat Apr  8 02:12:38 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* README.EXT: update symbol description.  [ruby-talk:188104]\n\nSat Apr  8 18:06:28 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_METHOD#inspect,\n\t  WIN32OLE_PARAM#inspect.\n\n\t* test/win32ole/test_win32ole_method.rb: ditto.\n\n\t* add test/win32ole/test_win32ole_param.rb.\n\nFri Apr  7 22:11:30 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(foletypelib_initialize): WIN32OLE_TYPELIB.new\n\t  accepts OLE file.\n\n\t* test/win32ole/test_win32ole_typelib.rb(test_initialize): ditto.\n\nThu Apr  6 23:28:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* COPYING: explicitly note GPLv2.  [ruby-talk:187922]\n\nThu Apr  6 16:43:06 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* intern.h (rb_obj_instance_exec, rb_mod_module_exec): add declaration.\n\nThu Apr  6 11:18:37 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/panedwindow.rb: lack of arguments. [ruby-core:7681]\n\nThu Apr  6 01:04:47 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: fix SEGV when embedding to an application.\n\t  [ruby-core:7600]\n\n\t* ext/tk/tcltklib.c: fix SEGV at exit. [ruby-talk:186489]\n\n\t* ext/tk/tkutil/tkutil.c: follow to changing specification of\n\t  instance_eval on ruby-1.9.x.\n\n\t* ext/tk/lib/tk.rb: ditto.\n\n\t* ext/tk/lib/multi-tk.rb: ditto.\n\n\t* ext/tk/lib/tk.rb: remove warning about redefinition of methods.\n\n\t* ext/tk/lib/tk/variable.rb: remove warning about unseting Tcl\n\t  variables.\n\nWed Apr  5 00:22:54 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: use a subclass for instantiation except\n\t  methods take pathname argument.  suggested by Evan Phoenix.\n\t  [ruby-core:7618]\n\nTue Apr  4 22:15:41 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: remove some obsolete syntax rules (unparenthesized\n\t  method calls in argument list).\n\nSat Apr  1 15:11:27 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_TYPE#inspect,\n\t  WIN32OLE_VARIABLE#inspect\n\n\t* remove ext/win32ole/tests/testOLEVARIABLE.rb, testOLETYPE.rb\n\t  testOLETYPELIB.rb.\n\n\t* testall.rb: ditto.\n\n\t* add test/win32ole\n\nFri Mar 31 14:24:55 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (enumerator_with_index): removed suspicious return\n\t  statement.\n\nWed Mar 29 23:06:48 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_invoke): change the behavior of\n\t  WIN32OLE#[], WIN32OLE#[]=. These methods invoke DISPID_VALUE.\n\n\t* ext/win32ole/sample/excel2.rb: ditto.\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: ditto.\n\nWed Mar 29 10:11:31 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_each_char_to_hex, encode_fallback_subchar,\n\t  e2w_conv): support C90 compiler.\n\nMon Mar 27 22:45:37 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/{nkf.c, utf8tbl.c}: imported nkf 2.0.6.\n\t  * Add --ic / --oc option and mapping tables.\n\t  * Add fallback option.\n\t  * Add --no-best-fit-chars option.\n\t  * Fix some bugs.\n\n\t* ext/nkf/nkf.c (nkf_split_options): added for parse option string.\n\n\t* ext/nkf/lib/kconv.rb (Kconv.to*): add -m0.\n\t  Note that Kconv.to* still imply -X.\n\n\t* ext/nkf/test.rb: Removed.  Obsolete by test/nkf.\n\n\t* ext/.document: enabled documents in nkf and kconv\n\n\t* ext/nkf/nkf.c, ext/nkf/lib/kconv.rb: Add rdoc.\n\nMon Mar 27 03:17:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): insecure calling should be checked for non\n\t  NODE_SCOPE method invocations too.\n\n\t* eval.c (rb_alias): should preserve the current safe level as\n\t  well as method definition.\n\nSun Mar 26 22:02:51 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c: refactoring for options.\n\n\t* parse.y: ditto.\n\nFri Mar 24 21:11:02 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c (match_aref): RDoc description updated.\n\n\t* string.c (rb_str_sub): ditto.\n\n\t* string.c (rb_str_gsub): ditto.\n\nFri Mar 24 17:20:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (rb_f_sleep): remove RDoc description about SIGALRM\n\t  which is not valid on the current implementation. [ruby-dev:28464]\n\nThu Mar 23 21:40:47 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c (rb_reg_regsub): prohibit \\1, \\2 ...\\9 in replaced string\n\t  for named regex pattern.\n\nThu Mar 23 21:06:23 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.0.2\n\n\t* regparse.c: ditto.\n\n\t* regcomp.c ditto.\n\n\t* regerror.c: ditto.\n\nThu Mar 23 10:47:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (method_missing): should support argument splat in\n\t  super.  a bug in combination of super, splat and\n\t  method_missing.  [ruby-talk:185438]\n\nThu Mar 23 00:01:32 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c (rb_reg_regsub): add back reference by name \\k<name> in\n\t  replace string.\n\n\t* re.h: add regexp argument to rb_reg_regsub().\n\n\t* string.c (rb_str_sub_bang): ditto.\n\n\t* string.c (str_gsub): ditto.\n\nTue Mar 21 22:14:01 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c (match_alloc): initialize member regexp.\n\n\t* re.c (match_aref): add String and Symbol argument. [ruby-dev:28448]\n\n\t* re.h: add member regexp to RMatch.\n\n\t* gc.c (gc_mark_children): add gc_mark() to regexp member.\n\nMon Mar 20 12:05:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: Solaris SunPro compiler -rapth patch from\n\t  <kuwa at labs.fujitsu.com>.  [ruby-dev:28443]\n\nMon Mar 20 11:12:38 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c (folevariant_value): could not compile\n\t  with C90 compiler.\n\nMon Mar 20 09:40:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: remove enable_rpath=no for Solaris.\n\t  [ruby-dev:28440]\n\nSun Mar 19 09:46:30 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata): change behavior\n\t  of converting\t OLE Variant object with VT_ARRAY|VT_UI1 and Ruby\n\t  String object.\n\n\t* ext/win32ole/win32ole.c (folevariant_value): ditto.\n\n\t* ext/win32ole/tests/testOLEVARIANT.rb: ditto.\n\nWed Mar 15 16:51:11 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): support libraries without *.so.\n\nWed Mar 15 16:39:29 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c, ext/openssl/ossl_nsspki.c: should use\n\t  \"rb_str_new(0, 0)\" to make empty string.\n\nSun Mar 12 17:02:10 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(ole_val2olevariantdata): support VT_ARRAY in\n\t  WIN32OLE_VARIANT.new().\n\n\t* ext/win32ole/tests/testOLEVARIANT.rb: ditto.\n\n\t* ext/win32ole/tests/testOLEPARAM.rb: test method name should not be\n\t  duplicated.\n\nSat Mar 11 14:24:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.1: a clarification patch from David Lutterkort\n\t  <dlutter at redhat.com>.  [ruby-core:7508]\n\nSun Mar  5 18:40:58 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: do not repeat command options.\n\nSun Mar  5 18:35:03 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (send_request_with_body): #content_type never\n\t  return false, use #main_type instead. [ruby-core:07476]\n\nSat Mar  4 15:26:40 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (id2ref): fix symbol test.\n\nSat Mar  4 01:08:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc/ri/ri_paths.rb (RI::Paths): adding paths from rubygems\n\t  directories.\ta patch from Eric Hodel <drbrain at segment7.net>.\n\t  [ruby-core:07423]\n\nFri Mar  3 17:59:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_clear_cache_by_class): clearing wrong cache.\n\nFri Mar  3 21:22:42 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/fileutils.rb (FileUtils.cp_r): implement :remove_destination\n\t  option.\n\n\t* ext/extmk.rb: use :remove_destination to install extension libraries\n\t  to avoid SEGV.  [ruby-dev:28417]\n\nFri Mar  3 14:41:04 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/dl/.cvsignore: ignore callback.h.\n\n\t* ext/ripper/.cvsignore: ignore eventids2table.c.\n\n\t* ext/socket/.cvsignore: ignore constants.h.\n\nThu Mar  2 18:58:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_fd_writable): should not re-schedule output\n\t  from KILLED thread (must be error printing).\n\nThu Mar  2 09:12:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_flatten_bang): allow specifying recursion\n\t  level.  [ruby-talk:182170]\n\n\t* array.c (rb_ary_flatten): ditto.\n\nThu Mar  2 08:02:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (add_heap): a heap_slots may overflow.  a patch from Stefan\n\t  Weil <weil at mail.berlios.de>.\n\nWed Mar  1 17:13:37 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): use separate cache for fcall/vcall\n\t  invocation.\n\n\t* eval.c (rb_eval): NODE_FCALL, NODE_VCALL can call local\n\t  functions.\n\n\t* eval.c (rb_mod_local): a new method to specify newly added\n\t  visibility \"local\".\n\n\t* eval.c (search_method): search for local methods which are\n\t  visible only from the current class.\n\n\t* class.c (rb_class_local_methods): a method to list local methods.\n\nThu Mar  2 17:54:45 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* gc.c: commited magic for reducing RVALUE size on windows. (24->20byte)\n\t  [ruby-core:7474]\n\nThu Mar  2 14:12:26 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c: align VALUE with sizeof(RVALUE) globally.\n\t  (is_pointer_to_heap): check alignment out of loop.\n\t  (id2ref): avoid collision between symbols and objects.\n\t  (rb_obj_id): ditto.  moved from object.c.\n\t  [ruby-talk:178364] [ruby-core:7305]\n\nThu Mar  2 12:55:16 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (filetime_to_unixtime): should set tm_isdst to -1.\n\t  stat() didn't treat daylight saving time property on WinNT.\n\t  [ruby-talk:182100]\n\nWed Mar  1 00:15:51 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/rdoc/parsers/parse_rb.rb (read_escape): could not handle /\\^/.\n\t  merged Mr. Ishizuka's lib/irb/ruby-lex.rb 's patch rev 1.29.\n\t  [ruby-talk:181631] [ruby-dev:28404]\n\nTue Feb 28 19:32:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): add BasicObject class as a top level\n\t  BlankSlate class.\n\nMon Feb 27 00:19:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (SYM2ID): should not cast to signed long.\n\t  [ruby-core:07414]\n\nFri Feb 24 20:21:38 2006  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/drbtest.rb (add_service_command): quote pathnames in the\n\t  server's command line for space contained directory names.\n\t  Thanks, arton. [ruby-dev:28386]\n\nFri Feb 24 12:10:07 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* instruby.rb: install *.exe.manifest and *.dll.manifest if exist.\n\t  It's for VC++8.\n\nFri Feb 24 11:17:45 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (NtInitialize): need to set a handler for VC++8.\n\nThu Feb 23 22:39:59 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: use borlndmm.dll if possible. bcc32's RTL internal\n\t  memory manager cannot handle large memory block properly.\n\t  ex: 10000.times { \"\" << \".\" * 529671; GC.start } # crash\n\t  [ruby-dev:28230]\n\nThu Feb 23 13:23:03 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* eval.c (SETUP_ARGS0): fixed memory corruption. [ruby-dev:28360]\n\nWed Feb 22 21:16:55 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#each_filename): use split_names properly.\n\nWed Feb 22 16:24:05 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/webrick/test_cgi.rb: should support platforms which search\n\t  library path from the interpreter's path.\n\t  And, support test without install incidentally.\n\nWed Feb 22 14:21:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bignorm): x may not be a bignum.  [ruby-dev:28367]\n\nWed Feb 22 09:22:40 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_alloc): add proper check for creation of a lambda\n\t  without a block.\n\nTue Feb 21 02:07:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_arglist): should set command_start = Qtrue for\n\t  command body.  [ruby-talk:180648]\n\nMon Feb 20 22:30:17 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* mkconfig.rb: alias Config to RbConfig for compatibility.\n\nMon Feb 20 18:21:41 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_io_reopen): flush before reopening a file.\n\t  reported by Mathieu Bouchard.  [ruby-core:7396]\n\nMon Feb 20 17:29:50 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* mkconfig.rb: generate RbConfig instead of Config.\n\n\t* instruby.rb, rubytest.rb, runruby.rb, bcc32/Makefile.sub,\n\t  ext/extmk.rb, ext/dl/extconf.rb, ext/iconv/charset_alias.rb,\n\t  lib/mkmf.rb, lib/rdoc/ri/ri_paths.rb,\n\t  lib/webrick/httpservlet/cgihandler.rb,\n\t  test/dbm/test_dbm.rb, test/gdbm/test_gdbm.rb,\n\t  test/ruby/envutil.rb, test/soap/calc/test_calc_cgi.rb,\n\t  test/soap/header/test_authheader_cgi.rb, test/soap/ssl/test_ssl.rb,\n\t  win32/mkexports.rb, win32/resource.rb: Use RbConfig instead of\n\t  Config.\n\nMon Feb 20 13:46:19 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/find.rb: should raise ENOENT if root entry does not exist,\n\t  without opening it. [ruby-dev:28345]\n\nMon Feb 20 12:27:53 2006  Kent Sibilev  <ksruby@gmail.com>\n\n\t* lib/rational.rb (Integer::gcd): small typo fix.\n\t  [ruby-core:07395]\n\nMon Feb 20 10:03:59 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_const_get_0): Object should have been the lowest\n\t  in const lookup precedence.  [ruby-dev:28343]\n\nMon Feb 20 09:17:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator): should not delegate \"funcall\".\n\nMon Feb 20 09:13:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb (WEBrick::HTTPServlet::CGIHandler):\n\t  qualify the access for Config constant.  [ruby-dev:28338]\n\n\t* lib/resolv.rb (Resolv::DNS::Resource::IN::A): qualify\n\t  ClassValue.  [ruby-dev:28338]\n\nMon Feb 20 01:05:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rational.rb (Integer::gcd): replaced by gcd4 in\n\t  [ruby-core:07390].  [ruby-core:07377]\n\nMon Feb 20 00:57:02 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.h (OSSL_Debug): should not use __func__.\n\t  [ruby-dev:28339]\n\nMon Feb 20 00:13:49 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: add :ssl_verify_mode option.\n\t  suggested by Will Glynn.\n\n\t* lib/open-uri.rb: add :ssl_ca_cert option.\n\nSun Feb 19 04:46:29 2006  Guy Decoux  <ts@moulon.inra.fr>\n\n\t* eval.c: initial value for block_unique must be 1.\n\t  [ruby-talk:180420]\n\nSat Feb 18 23:58:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tracer.rb (Tracer::Tracer.add_filter): turn on tracer mode\n\t  only when caller() level size is one.  [ruby-core:07389]\n\n\t* lib/rdoc/parsers/parse_rb.rb: need not to require \"tracer\".\n\t  [ruby-core:07389]\n\n\t* sample/rtags.rb: ditto.\n\nSat Feb 18 21:16:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_obj_instance_eval): RDoc description updated.  a\n\t  patch from Ozgur Murat Homurlu <ozgurmurath at gmail.com>.\n\t  [ruby-core:07381]\n\nSat Feb 18 01:01:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_const_get_0): skip ruby_wrapper in const search\n\t  to give it lower priority (just above Object).  need not to\n\t  change rb_const_defined_0() since it's only a precedence matter;\n\t  they are defined anyway.\n\nSat Feb 18 00:22:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tracer.rb: merged a minor clarification patch from Daniel\n\t  Berger <Daniel.Berger at qwest.com>.  [ruby-core:07376]\n\nFri Feb 17 17:30:20 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (ev_const_get): simplified using rb_const_get_fallback().\n\n\t* eval.c (ev_const_defined): adopt to ev_const_get() using\n\t  rb_const_defined_fallback().\n\n\t* variable.c (rb_const_get_fallback): new function to implement\n\t  constant search.\n\n\t* variable.c (rb_const_defined_fallback): new function to\n\t  implement constant definition check.\n\n\t* variable.c (rb_const_get_0): adopt to new behavior.  constants\n\t  are looked up in the order of: current class, super classes (but\n\t  Object), lexically external classes/modules, and Object.\n\n\t* variable.c (rb_const_defined_0): ditto.\n\nFri Feb 17 11:20:53 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.c (ruby_strtod): Float(\"1e\") should fail. [ruby-core:7330]\n\n\t* pack.c (EXTEND32): unpack(\"l\") did not work where sizeof(long) != 4.\n\t  [ruby-talk:180024]\n\n\t* pack.c (pack_unpack): fixed integer overflow on template \"w\".\n\t  [ruby-talk:180126]\n\nFri Feb 17 09:39:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_wait_for): sleep should always sleep for\n\t  specified amount of time.  [ruby-talk:180067]\n\nWed Feb 15 16:52:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): NODE_OP_ASGN1 should allow splat in its\n\t  argument list.  [ruby-core:07366]\n\n\t* parse.y (arg): avoid unnecessary extra argument.\n\t  [ruby-core:07366]\n\n\t* eval.c (rb_eval): honor visibility on OP_ASGN1 and\n\t  OP_ASGN2. [ruby-core:07366]\n\nWed Feb 15 15:20:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (error_line): remove void control path.  [ruby-dev:28335]\n\nWed Feb 15 10:09:51 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (yield_under_i): should not pass self as an argument to\n\t  the block for instance_eval.  [ruby-core:07364]\n\nWed Feb 15 09:20:35 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_obj_instance_eval): should be no singleton classes for\n\t  true, false, and nil.  [ruby-dev:28186]\n\nTue Feb 14 20:26:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_each): return self if no block is\n\t  given.  [yarv-dev:882]\n\nTue Feb 14 18:48:33 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (DMETHOD_P): accessing wrong frame.  [ruby-dev:28181]\n\n\t* eval.c (proc_invoke): preserve FRAME_DMETH flag.\n\nTue Feb 14 15:15:22 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/zlib/zlib.c: suppress warning on test/zlib. [ruby-dev:28323]\n\nTue Feb 14 13:47:22 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_utime): drop read-only attribute before\n\t  changing file time.\n\nTue Feb 14 13:38:01 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.h): should define HAVE_LONG_LONG with\n\t  VC++8.\n\nTue Feb 14 11:42:38 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* time.c (search_time_t): support non 32bit time_t environments.\n\n\t* win32/Makefile.sub (config.h): VC++8 has ``long long'' type.\n\n\t* win32/Makefile.sub (config.h): VC++8's time_t is 64bit value.\n\nMon Feb 13 18:01:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (copy_node_scope): remove duplicated semicolons at end.\n\t  a patch from KIMURA Koichi <kimura.koichi at canon.co.jp>.\n\t  [ruby-dev:28332]\n\n\t* eval.c (VIS_MODE): remove unnecessary argument.\n\t  [ruby-dev:28332]\n\nMon Feb 13 13:49:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_parse_string): mention \"regexp\" in a error\n\t  message.  a patch from Mauricio Fernandez <mfp at acm.org>\n\t  [ruby-core:07340]\n\nMon Feb 13 00:01:32 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.0.1\n\n\t* regparse.c (onig_free_shared_cclass_table): fix memory leaks.\n\n\t* regcomp.c (optimize_node_left): change from IS_POSIXLINE() to IS_MULTILINE().\n\n\t* regint.h: rename ANCHOR_ANYCHAR_STAR_PL to ANCHOR_ANYCHAR_STAR_ML.\n\n\t* regparse.h: ditto.\n\n\t* regexec.c: ditto.\n\nSat Feb 11 21:57:29 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE.create_guid.\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: ditto.\n\nSat Feb 11 01:57:44 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_autoload): check if ruby_cbase is nil (during\n\t  instance_eval for objects cannot have singleton classes,\n\t  e.g. fixnums and symbols).  [ruby-dev:28178]\n\nFri Feb 10 12:31:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): should support NODE_ZSUPER in NODE_ITER.\n\t  [ruby-dev:28326]\n\n\t* eval.c (ZSUPER_ARGS): support macro.\n\nWed Feb  8 10:26:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): turn on during_gc while\n\t  invoking finalizers.\n\n\t* gc.c (rb_gc_finalize_deferred): ditto.\n\nTue Feb  7 23:03:13 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/zlib/zlib.c: should not access ruby objects in finalizer.\n\t  [ruby-dev:28286]\n\nTue Feb  7 18:42:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_write_error2): use fwrite(3) if rb_stderr is not\n\t  updated or is already freed.  [ruby-dev:28313]\n\nMon Feb  6 16:02:51 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* file.c (rb_thread_flock): ERROR_NOT_LOCKED is not an error on Cygwin.\n\t  In such situation, flock() should return 0.\n\nMon Feb  6 14:36:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (error_line): include the class name of a surrounding\n\t  method in error position description.\n\nMon Feb  6 00:14:57 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_find_index): a new method Enumerable#find_index.\n\t  [ruby-talk:178495]\n\nSun Feb  5 23:29:31 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ruby.h (struct RStruct): embed 3 or less elements structs.\n\t  (RSTRUCT_LEN): defined for accessing struct members.\n\t  (RSTRUCT_PTR): ditto.\n\n\t* struct.c: use RSTRUCT_LEN and RSTRUCT_PTR.\n\t  (struct_alloc): allocate small structs in embedded format.\n\t  (rb_struct_init_copy): ditto.\n\n\t* gc.c (gc_mark_children): use RSTRUCT_LEN and RSTRUCT_PTR.\n\t  (obj_free): ditto.\n\n\t* marshal.c (w_object): use RSTRUCT_LEN and RSTRUCT_PTR.\n\nSun Feb  5 21:01:49 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* numeric.c (fix_to_s): removed workaround for radix 2. Historically,\n\t  rb_fix2str could only handle radix 8, 10, 16. (Rev1.37) But for now,\n\t  it can handle radix 2..36. [ruby-Bugs#3438] [ruby-core:7300]\n\nSun Feb  5 18:49:00 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (add_field, get_fields): keep 1.8.2\n\t  compatibility.  This patch is contributed by Rob Pitt.\n\nSun Feb  5 16:33:50 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/mkmf.rb (create_makefile): Kernel#sub! was removed on HEAD.\n\nSun Feb  5 14:26:54 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/pstore.rb: should return default value if name is not found.\n\t  [ruby-core:7304]\n\n\t* lib/pstore.rb: should raise PStore::Error if not in transaction.\n\nSat Feb  4 22:51:43 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c: apply the FreeBSD getcontext/setcontext workaround\n\t  only before FreeBSD 7-CURRENT.\n\nSat Feb  4 21:10:06 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (LK_ERR): ERROR_NOT_LOCKED is not an error.\n\t  In such situation, flock() should return 0.\n\nSat Feb  4 15:52:56 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* numeric.c (fix_to_s): (2**32).to_s(2) fails with exception where\n\t  sizeof(int) == 4 < sizeof(long). [ruby-core:7300]\n\nSat Feb  4 15:02:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* oniguruma.h: merge Oniguruma 4.0.0  [ruby-dev:28290]\n\nFri Feb  3 19:25:53 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ruby.h: fixed prototype.\n\n\t* ext/syck/rubyext.c: defined symbol ID as global variable as others.\n\nFri Feb  3 17:57:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c: unify ruby_class (for method definition) and ruby_cbase\n\t  (for constant reference).\n\nFri Feb  3 15:02:10 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/syck.c (syck_move_tokens): should reset p->cursor or etc\n\t  even if skip == 0. This causes buffer overrun.\n\t  (ex: YAML.load('--- \"..' + '\\x82\\xA0' * 511 + '\"'))\n\nFri Feb  3 00:01:31 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/emitter.c (syck_emitter_write): should not set '\\0' on\n\t  emitter's marker. if marker points to the end of buffer, this is\n\t  buffer overrun. (ex: YAML.dump(\".\" * 12288))\n\nThu Feb  2 17:13:01 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser#get_tk): added\n\t  support of :'string' style Symbol.\n\nThu Feb  2 16:01:24 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): use TMP_ALLOC() instead of allocating\n\t  a temporary array object.\n\n\t* eval.c (eval): need not to protect $SAFE value.\n\t  [ruby-core:07177]\n\n\t* error.c (Init_Exception): change NameError to direct subclass of\n\t  Exception so that default rescue do not handle it silently.\n\nThu Feb  2 14:45:53 2006  Ville Mattila  <ville.mattila@stonesoft.com>\n\n\t* configure.in: The isinf is not recognized by autoconf\n\t  library guesser on solaris 10. [ruby-core:7138]\n\nWed Feb  1 22:01:47 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* configure.in, hash.c (ruby_setenv): use setenv(3) and unsetenv(3)\n\t  where they are supported. modifying environ variable seems to\n\t  segfault solaris 10. [ruby-core:7276] [ruby-dev:28270]\n\n\t* ruby.c (set_arg0): if use setenv(3), environ space cannot be used\n\t  for altering argv[0].\n\nTue Jan 31 14:46:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_select): update RDoc description.\n\t  [ruby-core:7254]\n\nTue Jan 31 11:58:51 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: add MultiTkIp#eval and bg_eval.\n\n\t* ext/tk/lib/tk/namespace.rb: TkNamespace#eval was enbugged at the\n\t  last commit. Now it will return a proper object.\n\nTue Jan 31 08:07:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_upto): return an enumerator if no block is\n\t  attached to the method.\n\n\t* numeric.c (int_downto): ditto.\n\n\t* numeric.c (int_dotimes): ditto.\n\n\t* enum.c (enum_first): new method Enumerable#first to take first n\n\t  elements from an enumerable.\n\n\t* enum.c (enum_group_by): new method Enumerable#group_by that\n\t  groups enumerable values according to their block values.\n\nTue Jan 31 00:08:22 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (syck_resolver_transfer): workaround for SEGV.\n\t  ex: ruby -ryaml -e 'YAML.load(\"!map:B {}\")' [ruby-core:7217]\n\nSat Jan 28 07:49:30 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/rdoc/usage.rb: support \"a:0:33\" style caller[-1]. In this case\n\t  file name is \"a:0\". I don't know this really happens though...\n\t  [ruby-Bugs:3344]\n\nThu Jan 26 15:55:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: turn on do_not_reverse_lookup by default.\n\nWed Jan 25 22:29:04 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, dln.c, file.c, intern.h, missing.h (eaccess): use\n\t  system routine if provided.  fixed: [ruby-core:07195]\n\nSun Jan 22 23:27:13 2006  Go Noguchi  <gonoguti@yahoo.co.jp>\n\n\t* lib/test/unit/autorunner.rb (process_args): ignore arguments after\n\t  '--' so that test scripts can handle them.  fixed: [ruby-dev:28258]\n\nSun Jan 22 22:09:52 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (POST_GETCONTEXT): define separately from PRE_GETCONTEXT on\n\t  IA64 to avoid reusing variable address.\n\nSun Jan 22 20:03:35 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (ruby_setjmp): define PRE_GETCONTEXT and POST_GETCONTEXT\n\t  instead of FUNCTION_CALL_MAY_RETURN_TWICE.\n\t  define PRE_GETCONTEXT to clear carry flag for workaround of\n\t  FreeBSD/i386 getcontext/setcontext bug.\n\t  [ruby-dev:28263]\n\nThu Jan 19 22:19:18 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mv): should remove file after copying.\n\t  [ruby-dev:28223]\n\nWed Jan 18 23:37:06 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (FUNCTION_CALL_MAY_RETURN_TWICE): don't clobber %l7 of SPARC\n\t  if enable-shared.\n\t  (ruby_setjmp): call FUNCTION_CALL_MAY_RETURN_TWICE after getcontext\n\t  too.\n\t  reported by Pav Lucistnik and Marius Strobl.\n\t  http://lists.freebsd.org/pipermail/freebsd-sparc64/2006-January/003739.html\n\nTue Jan 17 23:59:56 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_mod_const_get, rb_mod_const_defined): added optional\n\t  flag to search ancestors, which is defaulted to true.\n\t  fixed: [ruby-talk:175899]\n\n\t* eval.c (rb_mod_method_defined): ditto.\n\nTue Jan 17 11:31:47 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/setup.mak (MAKE): workaround for nmake 8.\n\nTue Jan 17 11:06:19 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub: invoke .bat via shell. workaround for nmake 8.\n\nMon Jan 16 10:13:38 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/emitter.c (syck_emit_seq, syck_emit_map, syck_emit_item):\n\t  should output complex key mark even if map's key is empty seq/map.\n\t  [ruby-core:7129]\n\nSat Jan 14 03:38:54 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* file.c (rb_file_s_chmod): avoid warning where sizeof(int) !=\n\t  sizeof(void*).\n\nFri Jan 13 19:26:15 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/rdoc/diagram.rb:\n\t    - properly quote bare element attributes\n\t    - terminates dangling elements (e.g. <img>, <br>, <link>, etc)\n\t    - converts \"CVS\" to the more HTML-friendly acronym element\n\t    - adds missing type attributes to style elements\n\n\t  based on Paul Duncan's patch <pabs@pablotron.org> [ruby-core:7028]\n\n\t* lib/rdoc/generators/html_generator.rb: ditto.\n\t* lib/rdoc/generators/template/html/hefss.rb: ditto.\n\t* lib/rdoc/generators/template/html/html.rb: ditto.\n\t* lib/rdoc/generators/template/html/kilmer.rb: ditto.\n\nThu Jan 12 11:53:08 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkballoonhelp.rb: [bug fix] couldn't add to a widget\n\t  which is constructed with TkComposite module.\n\t  [new feature] support 'command' option which is called just before\n\t  popping up the balloon help.\n\nWed Jan 11 00:12:29 2006  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/erb.rb (ERB::Compiler): add instance variable @insert_cmd to\n\t  change <%='s behavior.\n\nTue Jan 10 19:42:33 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (garbage_collect): mark ruby_current_node.\n\t  if an exception is raised in a finalizer written in C called by\n\t  rb_gc_call_finalizer_at_exit, ruby_set_current_source may use\n\t  collected ruby_current_node and mark_source_filename may corrupt\n\t  memory.\n\nTue Jan 10 13:30:34 2006  akira yamada  <akira@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_resolver_transfer): should be able to load\n\t  !ruby/object:Bignum syntax 1.8.3 dumped. [ruby-core:6159]\n\nTue Jan 10 12:47:41 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/yaml/rubytypes.rb (Fixnum): Bignum could not be loaded in\n\t  ruby 1.8.3/1.8.4. [ruby-core:6115]\n\n\t* lib/yaml/rubytypes.rb (Numeric): Subclass of Numeric could not\n\t  be dumped properly. [ruby-core:7047]\n\nTue Jan 10 12:00:48 2006  Aaron Schrab  <aaron @nospam@ schrab.com>\n\n\t* lib/yaml/rubytypes.rb (Symbol#yaml_new): YAML loading of quoted\n\t  Symbols broken. [ruby-Bugs:2535]\n\nTue Jan 10 07:26:52 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (gc_stress): renamed from always_gc and enabled by default.\n\t  (gc_stress_get): new function for GC.stress.\n\t  (gc_stress_set): new function for GC.stress=.\n\nMon Jan  9 19:58:56 2006  arton  <artonx@yahoo.co.jp>\n\n\t* ext/zlib/extconf.rb: zlib compiled DLL version 1.2.3 distributed by\n\t  http://www.zlib.net/ has zdll.lib. [ruby-dev:28209]\n\nMon Jan  9 14:25:00 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/Makefile.sub (OPTFLAGS): I have experienced trouble on y- flag,\n\t  (VisualC++6) so use -O2b2xg- if  $(MSC_VER) < 1400. [ruby-core:7040]\n\nMon Jan  9 14:25:00 2006  Kero van Gelder  <rubyforge @nospam@ kero.tmfweb.nl>\n\n\t* lib/webrick/httpservlet/filehandler.rb: fixed typo. [ruby-core:7075]\n\nSun Jan  8 14:15:27 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (GCC_VERSION_BEFORE): check __INTEL_COMPILER.\n\t  Intel C++ Compiler defines __GNUC__.\n\t  http://www.intel.com/software/products/compilers/clin/docs/ug_cpp/lin1077.htm\n\nSat Jan  7 15:40:07 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (singleton): get rid of segfault on syntax error.\n\t  fixed: [ruby-core:07070]\n\nSat Jan  7 06:24:18 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_fd_isset): compare the result of FD_ISSET with 0 to\n\t  avoid FreeBSD bug.  FreeBSD defines FD_ISSET as just a bitmap of\n\t  unsigned long.  So returning the value from rb_fd_isset discards\n\t  upper 32bits on LP64 environment.\n\t  http://www.freebsd.org/cgi/query-pr.cgi?pr=ia64/91421\n\nFri Jan  6 02:20:18 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: don't force getcontext on IA64.\n\n\t* eval.c (ruby_setjmp): add an argument for just before getcontext.\n\t  (THREAD_SAVE_CONTEXT): call rb_thread_save_context just\n\t  before getcontext.\n\t  [ruby-dev:28205]\n\nSun Jan  1 15:28:46 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* missing.h (isinf): avoid macro expansion\n\t  \"extern int isinf(double);\" to\n\t  \"extern int ((sizeof(double)==sizeof(float))?_Isinff(double):_Isinf(double));\" on\n\t  HP-UX.\n\nSun Jan  1 14:42:54 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_seekdir): should not segfault even if passed\n\t  the location which rb_w32_telldir didn't return. (and should change\n\t  `bits' position) [ruby-core:7035]\n\n\t* win32/dir.h: ditto. (stores `loc' instead of `bitpos')\n\n\t* test/ruby/test_dir.rb: added.\n\nSat Dec 31 22:57:00 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_save_context): should not recycle scope object used\n\t  in a thread.  fixed: [ruby-dev:28177]\n\nSat Dec 31 19:50:38 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c: attribute name was truncated with Rev1.64.\n\nSat Dec 31 11:53:16 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/generator.rb: (Generator#initialize): should kill @loop_thread\n\t  before starting new thread. (occurs when called via Generator#rewind)\n\t  [ruby-dev:28184]\n\nFri Dec 30 18:22:42 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (garbage_collect): mark objects referred from aborting threads.\n\t  [ruby-dev:28190]\n\n\t* win32/Makefile.sub: VC++8 support.\n\nFri Dec 30 15:17:35 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/generator.rb (Generator#initialize): ensured to stop @loop_thread.\n\t  Mr. Tanaka pointed out one Thread.pass is not enough. [ruby-dev:28185]\n\nFri Dec 30 12:20:57 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/generator.rb (Generator#initialize): fixed dead lock. this occurred\n\t  when end? was called before @loop_thread was stopped. [ruby-core:7029]\n\nFri Dec 30 01:04:52 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/generator.rb: should work with another thread. (more robust code)\n\t  [ruby-dev:28177]\n\nThu Dec 29 23:59:37 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_gc_mark_threads): keep unmarked threads which won't wake\n\t  up alone, and mark threads in the loading table.  [ruby-dev:28154]\n\n\t* eval.c (rb_gc_abort_threads), gc.c (gc_sweep): kill unmarked\n\t  threads.  [ruby-dev:28172]\n\nThu Dec 29 17:02:07 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* test/ruby/envutil.rb (EnvUtil.rubybin): search \"ruby\" instead of\n\t  \"miniruby\".  [ruby-dev:28140]\n\nThu Dec 29 14:35:10 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_mod_define_method): should save safe_level in the\n\t  proc object.  [ruby-dev:28146]\n\nThu Dec 29 11:22:34 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/generator.rb: reimplemented Generator class with Thread instead of\n\t  callcc, in order to fix memory leak. [ruby-dev:28142]\n\nWed Dec 28 14:10:05 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ia64.s: remove .pred.safe_across_calls directive.\n\t  reported by WATANABE Tetsuya.  [ruby-dev:28141]\n\nWed Dec 28 01:32:39 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (struct thread): add bstr_max.\n\t  (rb_thread_save_context): use realloc instead of REALLOC_N\n\t  to avoid GC.\n\nTue Dec 27 23:59:53 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (CompletingHash#match): fix for 1.9.\n\nTue Dec 27 16:59:52 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/drb/drbtest.rb (DRbService::self.ext_service): increase\n\t  timeout limit.  a patch from Kazuhiro NISHIYAMA\n\t  <zn at mbf.nifty.com>. [ruby-dev:28132]\n\nTue Dec 27 14:17:55 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: define IA64 for portability.  (HP aC++/ANSI C doesn't\n\t  define __ia64__.)\n\t  don't check libunwind stuff.\n\t  check __libc_ia64_register_backing_store_base.\n\n\t* defines.h: declare rb_ia64_bsp and rb_ia64_flushrs.\n\t  (flush_register_windows): call rb_ia64_flushrs on IA64.\n\n\t* ia64.s: new file for IA64.\n\t  it is separated from C program files because\n\t  Intel C++ Compiler for IA64 doesn't support inline assembly.\n\n\t* common.mk (ia64.$(OBJEXT)): new target.\n\n\t* ruby.h (RUBY_INIT_STACK): defined.\n\t  (ruby_init_stack): declared for RUBY_INIT_STACK.\n\n\t* main.c (main): precedes RUBY_INIT_STACK before ruby_init.\n\n\t* gc.c (rb_gc_register_stack_start): new global variable on IA64.\n\t  (garbage_collect): simplify register stack marking code.\n\t  don't use libunwind.\n\t  (Init_stack): initialize rb_gc_register_stack_start.\n\t  (ruby_init_stack): new function for RUBY_INIT_STACK.\n\n\t* eval.c (struct thread): add bstr_pos member for original position of\n\t  register stack.\n\t  (rb_thread_save_context): simplify register stack saving code.\n\t  don't use libunwind.\n\t  (rb_thread_restore_context_0): new function.  moved from\n\t  rb_thread_restore_context except the stack position checking code.\n\t  don't use libunwind for IA64 register stack.\n\t  (register_stack_extend): new function.\n\t  (stack_extend): make it self-recursive with\n\t  the stack position checking code in old rb_thread_restore_context.\n\t  (rb_thread_restore_context): just call stack_extend.\n\t  (flush_register_windows): removed.\n\n\t  [ruby-dev:28127]\n\nTue Dec 27 14:09:39 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* process.c: new method Process.exec. [ruby-dev:28107]\n\nTue Dec 27 08:22:15 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLSocket#post_connection_check):\n\t  treat wildcard character in commonName. [ruby-dev:28121]\n\nMon Dec 26 08:50:36 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (ev_const_get): fixed a bug in constant reference during\n\t  instance_eval.  [yarv-dev:707]\n\n\t* eval.c (ev_const_defined): ditto.\n\n\t* lib/yaml.rb (YAML::add_domain_type): typo fixed.  a patch from\n\t  Joel VanderWerf <vjoel at path.berkeley.edu>.\n\t  [ruby-talk:165285] [ruby-core:6995]\n\nFri Dec 23 10:30:23 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/digest/sha2/sha2.c (ULL): support AIX C.  a patch from\n\t  Kailden <kailden at gmail.com>.  [ruby-core:06984]\n\nWed Dec 21 16:47:35 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* file.c (w32_io_info): should return handle because FileIndex is\n\t  valid only while file is open. [ruby-dev:28088]\n\nWed Dec 21 12:12:21 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* test/pathname/test_pathname.rb (test_kernel_open): use\n\t  File.identical?.\n\t  [ruby-talk:171804]\n\nTue Dec 20 22:41:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (eval_under_i): evaluate source in caller's frame.\n\t  [ruby-dev:28076]\n\nTue Dec 20 12:53:23 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_emitter_reset): to ensure compatibility\n\t  with previous Ruby versions, documents are no longer headless.\n\nTue Dec 20 12:33:01 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (syck_node_transform): ruby object holding\n\t  explicitly freed SyckNode caused SEGV. [ruby-dev:28067]\n\n\t... I think syck GC problem was solved now!\n\nTue Dec 20 01:46:48 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_f_backquote): fix a GC problem on\n\t  IA64 with gcc 4.0.3 20051216 (prerelease) -O3.\n\nMon Dec 19 23:32:39 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (XCFLAGS): separated as well as win32/Makefile.sub.\n\n\t* main.c (always_gc): dllimport is required for VC to import a DLL\n\t  symbol.  fixed: [ruby-dev:28051]\n\n\t* parse.y (rb_symname_p): fixed wrong validation.  [ruby-dev:28047]\n\nMon Dec 19 23:09:24 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* st.c: uses malloc instead of xmalloc to avoid GC. syck uses st_insert\n\t  in gram.c to insert node from rb_syck_bad_anchor_handler into\n\t  SyckParser's hash table. if GC occurs in st_insert, it's not under\n\t  SyckParser's mark system yet. so RString can be released wrongly.\n\n\t* ext/syck/syck.h (S_FREE): small hack. no need to check if pointer is\n\t  NULL or not before S_FREE.\n\n\t* ext/syck/rubyext.c (syck_parser_assign_io): rb_check_string_type can\n\t  return new RString. if so, it becomes unreachable from GC after\n\t  returns syck_parser_assign_io, and can be freed by GC. (dangling\n\t  in syck io system) so extends its life time till syck_parse is called.\n\n\t* ext/syck/rubyext.c (syck_parser_s_alloc): always allocates bonus,\n\t  so no need to check if NULL, and \"volatile VALUE hash\"\n\t  is not needed. (bonus->port was not protected in syck_emitter_reset)\n\n\t* ext/syck/rubyext.c (syck_mark_parser): ditto.\n\n\t* ext/syck/rubyext.c (syck_parser_load): ditto.\n\n\t* ext/syck/rubyext.c (syck_parser_load_documents): ditto.\n\n\t* ext/syck/rubyext.c (syck_emitter_s_alloc): ditto.\n\n\t* ext/syck/rubyext.c (syck_mark_emitter): ditto.\n\n\t* ext/syck/rubyext.c (syck_emitter_reset): ditto.\n\n\t* ext/syck/rubyext.c (syck_scalar_value_set): \"should set newly\n\t  allocated memory instead of RString's internal storage\" stuff again.\n\t  by this, should call syck_free_node instead of rb_syck_free_node.\n\n\t* ext/syck/rubyext.c (syck_node_type_id_set): ditto.\n\n\t... I believe syck GC problem was solved by this.\n\nMon Dec 19 12:20:59 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (FUNCTION_CALL_MAY_RETURN_TWICE): activate only\n\t  before gcc 4.0.3 on SPARC and IA64.\n\nMon Dec 19 11:37:47 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c: sorry, I reverted my \"should set newly\n\t  allocated memory instead of RString's internal storage\" stuff.\n\t  node allocated in rubyext.c seems to be freed by rb_syck_free_node\n\t  not syck_free_node, and it won't free data.str->ptr and type_id.\n\n\t (I still think this is unsafe because RString(foo)->ptr becomes\n\t  dangling pointer when RString is modified or freed, but anyway\n\t  I misunderstood, so go back to original code for now)\n\nSat Dec 17 21:50:41 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (syck_emitter_reset): should initialize\n\t  emitter->bonus->oid. otherwise rb_gc_mark crashes.\n\n\t* ext/syck/rubyext.c (syck_mark_parser): should mark anchor nodes\n\t  because they hold ruby objects. (ie: rb_syck_bad_anchor_handler)\n\nSat Dec 17 11:00:17 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (rb_syck_compile): avoid potential memory\n\t  leak.\n\n\t* ext/syck/rubyext.c (syck_set_ivars): avoid potential memory\n\t  leak by explicit symbol allocation.\n\nSat Dec 17 03:57:01 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* bignum.c (rb_big_rshift): fix a GC problem on\n\t  IA64 with gcc 4.0.3 20051216 (prerelease).\n\nSat Dec 17 03:30:23 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (bmcall): fix a GC problem by tail call on\n\t  IA64 with gcc 4.0.3 20051216 (prerelease).\n\nFri Dec 16 17:53:45 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (rb_syck_compile): fixed memory leak.\n\n\t* ext/syck/rubyext.c: should protect global variable from GC.\n\nFri Dec 16 11:44:43 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (syck_resolver_tagurize): fixed memory leak.\n\n\t* ext/syck/rubyext.c (syck_node_type_id_set): should set newly\n\t  allocated memory instead of RString's internal storage.\n\n\t* ext/syck/rubyext.c (syck_scalar_value_set): ditto.\n\n\t... these fixes won't fix [ruby-dev:27839]. more work is needed.\n\nFri Dec 16 04:38:55 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator::method_missing): should delegate\n\t  block as well.\n\nThu Dec 15 19:57:12 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::MorphingBody): fix criteria to\n\t  use Tempfile.  A fix from Zev Blut <rubyzbibd at ubit.com>.\n\t  [ruby-core:06076]\n\n\t* string.c: remove global functions work on $_.\n\nThu Dec 15 12:35:14 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tmpdir.rb: merged RDoc patch from Eric Hodel <drbrain at\n\t  segment7.net>.  [ruby-core:06894]\n\nThu Dec 15 01:33:31 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/zlib/zlib.c (zstream_run): fix a GC problem by tail call on\n\t  x86_64 with gcc 4.0.3 20051111 (prerelease) (Debian 4.0.2-4)\n\nWed Dec 14 23:50:20 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_c.rb (find_class_comment): fix for class\n\t  document with prototypes.  [ruby-core:06863]\n\nWed Dec 14 23:39:53 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (has_magic): glob names contain alphabets to enable case fold\n\t  search.  [ruby-dev:27735]\n\n\t* dir.c (Init_Dir): FNM_SYSCASE which is default case fold flag.\n\t  [ruby-dev:23296]\n\nWed Dec 14 12:01:26 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* marshal.c (r_object0): fix a GC problem for reading a bignum on\n\t  IA64 with gcc 3.3.5 (Debian 1:3.3.5-13).\n\nTue Dec 13 12:23:47 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* re.c (rb_reg_regcomp): fix a GC problem on x86_64 with\n\t  gcc 3.3.5 (Debian 1:3.3.5-13).\n\nTue Dec 13 01:44:16 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* array.c (rb_ary_diff): fix a GC problem on IA64 with\n\t  gcc 3.3.5 (Debian 1:3.3.5-13).\n\t  When rb_ary_push is called, there was no register which contains\n\t  `hash' but `&RHASH(hash)->tbl' instead.\n\nTue Dec 13 00:08:09 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* sprintf.c (rb_str_format): fix a GC problem.\n\t  [ruby-dev:28001]\n\nMon Dec 12 15:51:22 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/openssl/test_ssl.rb (test_parallel): call GC.start to close\n\t  unused files. [ruby-dev:27981]\n\nMon Dec 12 09:58:09 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_cover): new method Range#cover? added.  the\n\t  method name might be changed.  thanks to takano32 at\n\t  http://www.rubyist.net/~matz/20051210.html#c08 for name\n\t  suggestion.  [ruby-talk:167182]\n\nMon Dec 12 00:33:56 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/digest/digest.c (rb_digest_base_s_digest): add volatile to\n\t  protect temporary context object.  [ruby-dev:27979]\n\n\t* ext/iconv/iconv.c (Init_iconv): rb_gc_register_address() should\n\t  be called before actual variable initialization.\n\t  [ruby-dev:27986]\n\nSun Dec 11 23:54:07 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/*: update to support libraries in ActiveTcl8.4.12.0\n\t  (see ext/tk/ChangeLog.tkextlib).\n\n\t* ext/tk/sample/scrollframe.rb: add a new sample.\n\nSun Dec 11 22:07:58 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb (test_remote_array_and_hash): pseudo remote\n\t  objects are protected against GC. [ruby-dev:27911]\n\nSat Dec 10 01:06:06 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/matrix.rb: add Matrix#determinant_e, Matrix#rank_e.\n\t  [ruby-dev:27820] and related thread.\n\nSat Dec 10 00:31:42 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (calling_scope_t): gave names to magic numbers for rb_call().\n\t  [ruby-dev:27978]\n\nFri Dec  9 23:31:02 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rexml/encoding.rb (encoding=): give priority to particular\n\t  conversion to iconv.  [ruby-core:06520]\n\nFri Dec  9 23:16:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_include): return false unless included in numeric\n\t  range.  fixed: [ruby-dev:27975]\n\nThu Dec  8 02:07:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (umethod_bind): adjust invoking class for module method.\n\t  [ruby-dev:27964]\n\nThu Dec  8 00:40:52 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (call_trace_func): klass parameter should be a\n\t  class/module that defines calling method.  [ruby-talk:169307]\n\nWed Dec  7 17:10:27 2005  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* sprintf.c (rb_f_sprintf): [ruby-dev:27967]\n\nWed Dec  7 16:39:18 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_include): use discrete membership for non Numeric\n\t  values, for example, String.\n\n\t* numeric.c (num_scalar_p): new method. [ruby-dev:27936]\n\n\t* lib/complex.rb (Complex#scalar?): ditto.\n\nWed Dec  7 15:31:35 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): integer overflow check added.\n\n\t* sprintf.c (GETASTER): ditto.\n\nWed Dec  7 01:02:04 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/README.macosx-aqua: [new document] tips to avoid the known\n\t  bug on platform specific dialogs of Tcl/Tk Aqua on MacOS X.\n\n\t* ext/tk/tcltklib.c: fix bug on switching threads and waiting on the\n\t  deleted interpreter on vwait and tkwait command.\n\n\t* ext/tk/lib/multi-tk.rb: kill the meaningless loop for the deleted Tk\n\t  interpreter.\n\n\t* ext/tk/sample/demos-jp/image3.rb: [bug fix] wrong argument.\n\n\t* ext/tk/sample/demos-en/image3.rb: ditto.\n\n\t* ext/tk/sample/demos-jp/menu.rb: fix message for MacOS X.\n\n\t* ext/tk/sample/demos-jp/menu8x.rb: ditto.\n\n\t* ext/tk/sample/demos-en/menu.rb: ditto.\n\nTue Dec  6 16:48:40 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (ruby_xmalloc2): change check condition for integer\n\t  overflow.  [ruby-dev:27399]\n\n\t* gc.c (ruby_xrealloc2): ditto.\n\nTue Dec  6 16:37:57 2005  Yuya Nishida  <yuya@j96.org>\n\n\t* eval.c (exec_under): avoid accessing ruby_frame->prev.\n\t  [ruby-dev:27948]\n\nFri Dec  2 19:06:06 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (Compare): should not fold double byte alphabet on win9x.\n\nThu Dec  1 00:50:33 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_funcall2): allow to call protected methods.\n\t  fixed: [ruby-dev:27890]\n\nWed Nov 30 23:52:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (struct parser_params): fields common to ripper must be\n\t  placed at each same offset.\n\n\t* parse.y (NEWHEAP, ADD2HEAP): set count after pointer was set.\n\t  fixed: [ruby-dev:27896]\n\nWed Nov 30 13:43:07 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-expr-beg): support $! at the end of\n\t  expression.   [ruby-dev:27868]\n\nMon Nov 28 20:24:22 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (PP::PPMethods#object_address_group): mask an address with\n\t  word size.\n\nTue Nov 29 23:57:05 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (struct parser_params): heap must be placed at same offset\n\t  also in ripper.y.  fixed: [ruby-dev:27846]\n\n\t* parse.y (yycompile): prevent vparser from tail call optimization.\n\t  fixed: [ruby-dev:27851]\n\n\t* parse.y (parser_mark): value needs to be marked.\n\t  fixed: [ruby-dev:27845]\n\nTue Nov 29 22:45:30 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/observer.rb (notify_observers): follow change of observer.rb.\n\t  fixed: [ruby-core:6796]\n\nMon Nov 28 20:24:22 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (PP::PPMethods#object_address_group): adjust address format.\n\nMon Nov 28 18:55:22 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (init_inetsock_internal): remove setting\n\t  SO_REUSEADDR option on server socket on Cygwin.\n\t  fixed: [ruby-core:6765] ([ ruby-Bugs-2872 ])\n\nMon Nov 28 13:11:45 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_strerror): remove all CR and LF. (avoid broken\n\t  error message on bccwin32 + winsock)\n\nMon Nov 28 09:15:50 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/mkmf.rb (create_makefile): should not change sodir with\n\t  dir.gsub!. (bccwin32 failed to install third party extensions)\n\t  [ruby-dev:27834]\n\nSun Nov 27 05:37:20 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: use File.basename to decompose pathnames.\n\t  experimental Windows support.\n\nSun Nov 27 00:56:13 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/wsdl/xmlSchema/complexContent.rb: missing\n\t  ComplexContent#elementformdefault method.\n\nSat Nov 26 19:57:45 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* dln.c (conv_to_posix_path): should initialize posix.\n\nFri Nov 25 20:34:56 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/xmlrpc/datetime.rb (DateTime::to_a): comparison with non\n\t  array-convertible object must return false.\n\nFri Nov 25 14:34:09 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_max): treat end exclusion without iteration if\n\t  the end value is an integer.  [ruby-talk:167433]\n\nFri Nov 25 12:52:57 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: added backward compatibility codes.\n\t* lib/rss/parser.rb: ditto.\n\t* test/rss/test_parser.rb: ditto.\n\t* test/rss/test_2.0.rb: ditto.\n\n\t* test/rss/test_content.rb: use #__send__ instead of #funcall for\n\t  no private method.\n\nFri Nov 25 12:39:56 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: improved type conversion.\n\t* lib/rss/1.0.rb: ditto.\n\t* lib/rss/0.9.rb: ditto.\n\t* lib/rss/2.0.rb: ditto.\n\t* lib/rss/image.rb: ditto.\n\t* lib/rss/syndication.rb: ditto.\n\n\t* test/rss/test_2.0.rb: added type conversion tests.\n\t* test/rss/test_accessor.rb: ditto.\n\t* test/rss/test_to_s.rb: ditto.\n\t* test/rss/test_syndication.rb: ditto.\n\t* test/rss/test_setup_maker_2.0.rb: ditto.\n\t* test/rss/test_setup_maker_1.0.rb: ditto.\n\t* test/rss/test_setup_maker_0.9.rb: ditto.\n\t* test/rss/test_maker_sy.rb: ditto.\n\t* test/rss/test_maker_image.rb: ditto.\n\t* test/rss/test_maker_2.0.rb: ditto.\n\t* test/rss/test_maker_0.9.rb: ditto.\n\t* test/rss/test_image.rb: ditto.\n\n\t* test/rss/test_maker_1.0.rb: use assert instead of assert_equal.\n\n\t* test/rss/rss-assertions.rb: improved type conversion assertions.\n\nFri Nov 25 10:38:20 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/image.rb: added Image prefix.\n\n\t* lib/rss/maker/image.rb: ditto.\n\nFri Nov 25 10:33:02 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_2.0.rb: added RSS 2.0 tests.\n\n\t* test/rss/rss-assertions.rb: extended XML stylesheet assertion.\n\n\t* lib/rss/0.9.rb: added initialize method.\n\n\t* test/rss/test_1.0.rb: cleanup.\n\nFri Nov 25 10:29:48 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_min): use <=> comparison rather than iteration.\n\t  [ruby-talk:167420]\n\n\t* range.c (range_max): ditto.\n\nThu Nov 24 01:31:44 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* file.c (w32_io_info): CreateFile failed on Win9x if file was already\n\t  opened. (FILE_SHARE_READ was needed, but actually I don't understand\n\t  the flags of CreateFile well...)\n\nWed Nov 23 23:52:35 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (num_div): use floor rather than rb_Integer().\n\t  [ruby-dev:27674]\n\nWed Nov 23 22:34:15 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb: added entity handling type predicate.\n\t* lib/rss/rexmlparser.rb: ditto.\n\t* lib/rss/xmlparser.rb: ditto.\n\t* lib/rss/xmlscanner.rb: ditto.\n\n\t* lib/rss/xmlscanner.rb: more robust entity handling.\n\n\t* test/rss/test_parser.rb: added an entity handling test.\n\nWed Nov 23 20:59:01 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add Tk.pkgconfig_list and Tk.pkgconfig_get\n\t  [Tk8.5 feature].\n\n\t* ext/tk/lib/tk/text.rb: supports new indices modifiers on a Text\n\t  widget [Tk8.5 feature].\n\n\t* ext/tk/lib/tk/virtevent.rb: add TkNamedVirtualEvent.\n\n\t* ext/tk/lib/tk/autoload.rb: ditto.\n\n\t* ext/tk/lib/tk/event.rb: add :data key for virtual events [Tk8.5\n\t  feature].\n\nWed Nov 23 18:52:45 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* file.c (w32_io_info): should not call GetFileInformationByHandle\n\t  for pipe.\n\n\t* file.c (w32_io_info): checks return value from rb_w32_get_osfhandle.\n\n\t* file.c (w32_io_info): now can identify directory on WinNT.\n\nWed Nov 23 18:46:53 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/: use #__send__ instead of #send.\n\t* test/rss/: ditto.\n\nWed Nov 23 18:32:56 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_taxonomy.rb: use #reject directory.\n\nWed Nov 23 18:26:00 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/taxonomy.rb: changed class or module prefix to\n\t  Taxonomy from Taxo.\n\t* lib/rss/maker/taxonomy.rb: ditto.\n\nWed Nov 23 18:21:11 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/taxonomy.rb: implemented taxonomy module for RSS\n\t  Maker.\n\t* lib/rss/taxonomy.rb: supported RSS Maker.\n\t* lib/rss/maker.rb: added taxonomy module support.\n\n\t* lib/rss/rss.rb: adjusted to other element API.\n\t* lib/rss/1.0.rb: adjusted to other element API but backward\n\t  compatibility is reserved.\n\t* lib/rss/0.9.rb: ditto.\n\n\t* test/rss/test_maker_taxo.rb: added test case for taxonomy module\n\t  for RSS Maker.\n\t* test/rss/test_setup_maker_1.0.rb: added tests for taxo:topic.\n\n\t* test/rss/test_setup_maker_1.0.rb: added backward compatibility\n\t  test.\n\t* test/rss/test_setup_maker_0.9.rb: ditto.\n\t* test/rss/test_setup_maker_2.0.rb: ditto.\n\n\t* test/rss/rss-testcase.rb: added convenience method for setting\n\t  up taxo:topic.\n\t* test/rss/rss-assertions.rb: added assertion for taxo:topic.\n\n\t* sample/rss/blend.rb: followed new API.\n\nWed Nov 23 17:42:24 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: fixed a indentation bug.\n\n\t* lib/rss/taxonomy.rb: fixed <taxo:topic> #to_s bug.\n\n\t* test/rss/test_taxonomy.rb: added a #to_s test.\n\nWed Nov 23 03:40:49 2005  Guy Decoux  <ts@moulon.inra.fr>\n\n\t* re.c (KR_REHASH): should cast to unsigned for 64bit CPU.\n\t  [ruby-core:06721]\n\nWed Nov 23 07:26:44 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: check for X509V3_EXT_nconf_nid.\n\n\t* ext/openssl/ossl_x509ext.c (MakeX509ExtFactory): should use\n\t  OPENSSL_malloc to allocate X509V3_CTX.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509extfactory_create_ext): use\n\t  X509V3_EXT_nconf_nid to avoid SEGV (and to build extensions which\n\t  values are placed in separate section).\n\n\t* test/openssl/test_x509ext.rb: new file.\n\nWed Nov 23 01:22:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (test_identical): test if two files are identical.\n\n\t* file.c (rb_f_test): support DOSISH systems where st_ino is not\n\t  reliable.  fixed: [ruby-core:06672]\n\n\t* win32.h, win32.c (rb_w32_osid): check the running platform.\n\nTue Nov 22 23:52:06 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb: match incomplete (in current enconding) multibyte\n\t  string.  http://inamode6.tokuhirom.dnsalias.org/show/1551\n\nTue Nov 22 18:36:11 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (winnt_stat): set mapped errno instead of ENOENT.\n\nTue Nov 22 14:36:54 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (rb_file_s_basename): skip slashes just after UNC top slashes.\n\n\t* test/ruby/test_path.rb (test_dirname, test_basename): follow new\n\t  spec. and add new tests.\n\nTue Nov 22 13:30:15 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_stat): Dir.chdir('//server/shared');\n\t  p Dir.glob('*') should work on WinNT. (implemented our own\n\t  stat(2) on WinNT) [ruby-list:41552] [ruby-dev:27711]\n\nTue Nov 22 02:31:53 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/tile.rb: bug fix (Tk::Tile::USE_TTK_NAMESPACE\n\t  is not defined).\n\nTue Nov 22 01:45:21 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_basename): DOSISH_UNC is defined on cygwin but\n\t  DOSISH is not.  fixed: [ruby-dev:27797]\n\nMon Nov 21 22:50:48 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_path_skip_prefix, rb_file_s_basename): UNC without path\n\t  should not be splitted.  fixed: [ruby-dev:27776] [ruby-dev:27786]\n\n\t* parse.y (dsym): prohibit empty symbol literal by interpolation.\n\t  fixed: [ruby-talk:166529]\n\nMon Nov 21 16:03:48 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/setup.mk: findstr doesn't exist on win9x.\n\t  fixed: [ruby-dev:27756]\n\nSun Nov 20 21:39:27 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* regparse.c (fetch_token_in_cc): tok->escaped should be\n\t  initialized.  [ruby-dev:27763]\n\nSun Nov 20 22:34:06 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_symname_p): [ not followed by ] is not valid symbol.\n\t  fixed: [ruby-talk:166520]\n\nSat Nov 19 19:57:54 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/fileutils.rb (FileUtils::ln): ln documentation fix.\n\t  [ruby-core:06661]\n\nSat Nov 19 08:19:38 2005  Zach Dennis  <zdennis@mktec.com>\n\n\t* ext/socket/socket.c: Socket Documentation. [ruby-core:6552]\n\nSat Nov 19 07:34:32 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/font.rb: remove dependency on Ruby's version (1.8\n\t  or 1.9).\n\n\t* ext/tk/lib/tkextlib/ICONS/icons.rb: ditto.\n\n\t* ext/tk/sample/tkextlib/treectrl/demo.rb: ditto.\n\nFri Nov 18 18:07:05 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (rb_file_s_dirname): should use skipprefix for UNC path.\n\t  pointed out by nobu ([ruby-dev:27744]). fixed: [ruby-core:5076]\n\nFri Nov 18 17:35:09 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: add restriction to access the entried\n\t  command table and manipulate other IPs (for reason of security).\n\t  Now, a IP object can be controlled by only its master IP or the\n\t  default IP.\n\n\t* ext/tk/lib/remote-tk.rb: add restriction to manipulate.\n\n\t* ext/tk/tcltklib.c (ip_is_slave_of_p): add TclTkIp#slave_of?(ip)\n\t  to check manipulability.\n\n\t* ext/tk/lib/tk.rb: bug fix on handling of Tcl's namespaces.\n\n\t* ext/tk/lib/tk/namespace.rb: ditto.\n\nFri Nov 18 16:47:33 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (rb_file_s_dirname): added checks for some patterns with drive\n\t  letter. fixed: [ruby-dev:27738]\n\n\t* test/ruby/test_path.rb (test_dirname): added tests for above\n\t  patterns.\n\nFri Nov 18 12:19:16 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.h (S_IFIFO): r,w = IO.pipe; r.stat.pipe? now\n\t  returns true on VisualC++6.\n\nThu Nov 17 17:58:00 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/1.0.rb: added convenience method 'resources'.\n\n\t* lib/rss/taxonomy.rb: ditto.\n\n\t* test/rss/rss-assertions.rb: added test for 'resources'.\n\n\t* test/rss/test_taxonomy.rb: ditto.\n\nThu Nov 17 17:53:30 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/taxonomy.rb: implemented taxonomy module.\n\n\t* test/rss/test_taxonomy.rb: added tests for taxonomy support.\n\nThu Nov 17 17:40:19 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/1.0.rb: added rdf:Bag.\n\nThu Nov 17 13:52:00 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: removed needless argument 'prefix'.\n\n\t* lib/rss/parser.rb: ditto.\n\nWed Nov 16 23:24:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (static-ruby): overridable.\n\n\t* ext/extmk.rb (parse_args): force to link extensions statically only\n\t  if static is given for extstatic.\n\n\t* ext/extmk.rb (RUBY, RUBYW): overridable.\n\nWed Nov 16 01:29:31 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/trackback.rb: added TrackBack prefix.\n\n\t* lib/rss/maker/trackback.rb: ditto.\n\nWed Nov 16 01:26:13 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.5 -> 0.1.6.\n\n\t* test/rss/test_version.rb (RSS::TestVersion#test_version): ditto.\n\nTue Nov 15 23:54:24 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_load_ok): eaccess() returns 0 on success.\n\t  fixed: [ruby-dev:27713]\n\nTue Nov 15 16:36:03 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* array.c (rb_ary_fill): previous commit disabled this usage:\n\n\t    a = [0,1,2,3,4,5,6,7,8,9]\n\t    a.fill {|i| a[i] * 10} #=> [nil, nil, ...., nil]\n\n\t  previous commit has the advantage of early garbage collection, but\n\t  potentially this would break some script. so I reverted behavior.\n\nTue Nov 15 16:15:23 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (file_load_ok): use eaccess() instead of actually opening\n\t  the file.  [ruby-talk:156378]\n\n\t* lib/jcode.rb (String::reverse): add new methods.\n\t  [ruby-list:41245]\n\nTue Nov 15 15:49:34 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* array.c (rb_ary_fill): tail elements were vanished when the middle\n\t  part of array was filled. (ie: [0,1,2,3,4].fill(-1,2,1) => [0,1,-1])\n\n\t* test/ruby/test_array.rb (test_fill): added.\n\nTue Nov 15 14:39:16 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_fill): should adjust array length correctly when\n\t  an array is expanded in the fill process.  [ruby-core:06625]\n\nMon Nov 14 23:49:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_readlink): ERANGE will occur only on GPFS.\n\t  [ruby-dev:27699]\n\nMon Nov 14 17:36:22 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_first): RDoc update from Daniel Berger\n\t  <djberg96@yahoo.com>.  [ruby-core:06577].\n\nSun Nov 13 10:55:24 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/uri/common.rb (escape): regard second argument as a\n\t  character set. [ruby-dev:27692]\n\nSat Nov 12 08:36:40 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, eval.c, intern.h: check fd_mask type.\n\n\t* configure.in (socketpair): need to be checked.\n\nFri Nov 11 19:53:47 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* eval.c, intern.h: failed to compile where NFDBITS is defined but\n\t  howmany() is not defined. [ruby-dev:27680]\n\n\t* io.c (is_socket): failed to compile where S_ISSOCK is not defined.\n\n\t* io.c (pipe_open): failed to compile where socketpair is not supported.\n\nFri Nov 11 08:20:56 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (OUTFLAG): keep trailing spaces.  [ruby-dev:27666]\n\n\t* mkconfig.rb: substitution references added.\n\nFri Nov 11 07:39:49 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* configure.in: undef HAVE_LINK on BeOS. (link(2) always returns\n\t  EINVAL, and this causes error in test/fileutils.)\n\n\t* file.c: override chown(2) and fchown(2) on BeOS. (these functions\n\t  should not change user/group id if -1 is passed as corresponding\n\t  argument, and this causes error in test/fileutils too)\n\t  [ruby-dev:27672]\n\nThu Nov 10 21:05:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/shellwords.rb: fix for blank but not empty string.\n\t  fixed: [ruby-dev:27663]\n\nWed Nov  9 08:39:38 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/shellwords.rb: refactored.  [ruby-core:06581]\n\nTue Nov  8 17:35:53 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* intern.h, eval.c (rb_thread_signal_raise): constified.\n\n\t* signal.c: cosmetic change.\n\nTue Nov  8 15:32:27 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/drb/ssl.rb (DRb::SSLConfig#accept): fixed typo.\n\t  [ruby-dev:27560] [ruby-core:4627]\n\nMon Nov  7 20:54:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c: iconvctl() support.  [EXPERIMENTAL]\n\nMon Nov  7 16:23:23 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl.h: need to include winsock2.h before including\n\t  windows.h by some openssl headers.\n\nMon Nov  7 13:43:51 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/stubs.c (_nativethread_consistency_check): use simpler\n\t  (low cost) way to check whether the Tcl interpreter was compiled\n\t  with threads enabled of not.\n\n\t* ext/tk/tcltklib.c: reduce warnings.\n\n\t* ext/tk/tkutil/tkutil.c: ditto.\n\nMon Nov  7 00:06:12 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/yaml.rb: removed :nodoc: to generate Kernel doc. [ruby-core:6324]\n\nSun Nov  6 23:39:13 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (Iconv::BrokenLibrary): exception when detected a\n\t  bug of underlying library.\n\nSun Nov  6 21:43:22 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/stubs.c (ruby_tcl_create_ip_and_stubs_init): should touch\n\t  interpreter after initialization is done. [ruby-dev:27638]\n\nSun Nov  6 20:13:27 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_readlink): readlink(2) on AIX fails with ERANGE if\n\t  buffer size is less than required.  fixed: [ruby-dev:27634]\n\nSat Nov  5 13:42:50 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, cygwin/GNUmakefile.in (mingw): use def file to alias\n\t  symbols.  [ruby-dev:27532]\n\n\t* bcc32/mkexports.rb, win32/mkexports.rb: make aliases in DLL.\n\n\t* win32/win32.c, win32/win32.h: replace symbols only when RUBY_EXPORT\n\t  is defined.\n\nThu Nov  3 07:57:39 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/open-uri.rb (open_loop): find_proxy should return nil when\n\t  proxy does not exist. [ruby-dev:27630]\n\nWed Nov  2 20:25:28 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/extconf.rb: ext/tk/extconf.rb: change the check parameter\n\t  for Win32.\n\nWed Nov  2 19:03:06 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_rbUpdateObjCmd, ip_rb_threadUpdateObjCmd):\n\t  passed improper flags to DoOneEvent().\n\n\t* ext/tk/tkutil/tkutil.c: use rb_obj_respond_to() instead of\n\t  rb_respond_to().\n\nTue Nov  1 14:20:11 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call_super): should call method_missing if super is\n\t  called from Kernel method.\n\n\t* eval.c (exec_under): frame during eval should preserve external\n\t  information.\n\nTue Nov  1 10:48:49 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: should check ERR_peek_last_error().\n\t  [ruby-dev:27597]\n\n\t* ext/openssl/ossl.c (ossl_raise): ditto.\n\nMon Oct 31 17:34:46 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: use proper option for Sun linker. A patch from\n\t  Shinya Kuwamura <kuwa at labs.fujitsu.com>.  [ruby-dev:27603]\n\nMon Oct 31 05:46:08 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_update): input data must\n\t  not be empty. [ruby-talk:161220]\n\n\t* test/openssl/test_cipher.rb: add test for Cipher#update(\"\").\n\nMon Oct 31 05:38:26 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb\n\t  (WEBrick::HTTPServlet::CGIHandler#do_GET): the value of Set-Cookie:\n\t  header field should be splited into each cookie.  [ruby-Bugs:2199]\n\n\t* lib/webrick/cookie.rb (WEBrick::Cookie.parse_set_cookie): new method\n\t  to parse the value of Set-Cookie: header field.\n\n\t* test/webrick/test_cookie.rb, test/webrick/test_cgi.rb,\n\t  test/webrick/webrick.cgi: add some test for cookie.\n\nMon Oct 31 02:33:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_rshift): RDoc fix.  [ruby-core:6351]\n\n\t* util.h (strtod): add #undef for platforms defines strtod()\n\t  macro.   [ruby-dev:27563]\n\nMon Oct 31 02:31:41 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_float.rb (test_precision): test by assert_in_delta.\n\t  [ruby-dev:27575]\n\nSat Oct 29 01:58:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/etc/etc.c: document update from mathew <meta@pobox.com>.\n\t  [ruby-core:06473]\n\n\t* ext/fcntl/fcntl.c: ditto.\n\nSat Oct 29 16:56:03 2005  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: added seven predicates sunday? to saturday?.\n\n\t* lib/date.rb: added two methods {prev,next}_month,\n\t  that are almost same as << and >>.\n\nThu Oct 27 20:34:43 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (enumerator_allocate): allow subclassing.\n\nThu Oct 27 16:45:31 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (scan_once): wrong condition to use mbclen2().\n\t  [ruby-dev:27535]\n\nThu Oct 27 11:53:17 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* missing.h, missing/memcmp.c, missing/memmove.c:\n\t  ANSI compatible interface.\n\nWed Oct 26 09:15:48 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/implicit.c (syck_type_id_to_uri): should return\n\t  newly allocated memory. otherwise, type_id will be freed\n\t  twice. [ruby-dev:27384] [ruby-core:6385]\n\nWed Oct 26 01:58:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_EXTERN): macro to export symbols in shared\n\t  library.  [ruby-core:05528]\n\n\t* defines.h, {bcc32,win32,wince}/Makefile.sub (RUBY_EXTERN): moved to\n\t  configuration pass.\n\n\t* ext/extmk.rb (extmake): RUBY_EXTERN for static linked extensions.\n\nTue Oct 25 20:06:59 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ruby.h (Qfalse, Qtrue, Qnil, Qundef): make sure these immediate\n\t  values have VALUE type. there is an environment where sizeof(VALUE)\n\t  != sizeof(int) like IA64. if 32bit integer (Qtrue) is passed to ANYARGS\n\t  and received by 64bit integer (VALUE), upper bits may have garbage value.\n\t  [ruby-dev:27513]\n\nTue Oct 25 15:32:00 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rational.rb: applied documentation patch from Gavin Sinclair\n\t  <gsinclair@gmail.com>.  [ruby-core:06364]\n\n\t* lib/irb.rb (IRB::Irb::eval_input): handle prompts with newlines\n\t  in irb auto-indentation mode.  [ruby-core:06358]\n\nTue Oct 25 14:21:46 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* gc.c (garbage_collect): sorry, previous commit was incorrect.\n\t  [ruby-core:6386]\n\nTue Oct 25 13:40:16 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* gc.c (garbage_collect): return now whether there're rooms for new\n\t  objects, rather than whether GC run. fixed: [ruby-core:6376]\n\nTue Oct 25 02:12:08 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/markup/simple_markup.rb (SM::SimpleMarkup::LABEL_LIST_RE):\n\t  reduce redundant backtrack.  [ruby-talk:161771]\n\nTue Oct 25 00:35:33 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/*: RDoc documentation from Eric Hodel\n\t  <drbrain@segment7.net> added.\n\nMon Oct 24 21:14:29 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, io.c: use sys/syscall.h if syscall.h is not available.\n\t  [ruby-core:06247]\n\nMon Oct 24 20:38:25 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/Win32API/lib/win32/resolv.rb (get_info): support multiple DNS.\n\t  fixed: [ruby-list:40058], [ruby-dev:27479]\n\nMon Oct 24 11:01:11 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/canvas.rb (TkCanvasItemConfig::__item_val2ruby_optkeys):\n\t  typo fixed.  [ruby-talk:162187]\n\n\t* ext/tk/lib/tk/menu.rb (TkMenuEntryConfig::__item_val2ruby_optkeys):\n\t  ditto.  [ruby-core:06359]\n\nMon Oct 24 07:57:56 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/tk/lib/tk/canvas.rb (TkCanvasItemConfig::__item_val2ruby_optkeys):\n\t  typo fixed.  [ruby-talk:162187]\n\n\t* ext/tk/lib/tk/menu.rb (TkMenuEntryConfig::__item_val2ruby_optkeys):\n\t  ditto.  [ruby-core:06359]\n\n\t* lib/matrix.rb (Matrix::initialize): use funcall instead of send\n\t  to allow private methods to be called.  A report from\n\t  Jean-Claude Arbaut <jcarbaut@laposte.net>.  [ruby-core:06359]\n\nMon Oct 24 00:41:18 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_sunday): added predicate methods for the days of the\n\t  week.  [ruby-list:41340]\n\nSun Oct 23 07:11:11 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/extconf.rb: improve messages [ruby-core:06325].\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/canvas.rb, ext/tk/lib/tk/entry.rb,\n\t  ext/tk/lib/tk/frame.rb, ext/tk/lib/tk/image.rb,\n\t  ext/tk/lib/tk/itemconfig.rb, ext/tk/lib/tk/labelframe.rb,\n\t  ext/tk/lib/tk/listbox.rb, ext/tk/lib/tk/menu.rb,\n\t  ext/tk/lib/tk/radiobutton.rb, ext/tk/lib/tk/scale.rb,\n\t  ext/tk/lib/tk/spinbox.rb, ext/tk/lib/tk/text.rb,\n\t  ext/tk/lib/tk/toplevel.rb: improve conversion of option values.\n\n\t* ext/tk/lib/tkextlib/*: ditto.\n\n\t* ext/tk/lib/tkextlib/*: update to support ActiveTcl8.4.11.2.\n\n\t* ext/tk/lib/tkextlib/trofs/*: support Trofs 0.4.3.\n\n\t* ext/tk/lib/tkextlib/tile/*: support Tile 0.7.2.\n\n\t* ext/tk/lib/tkextlib/vu/*: support vu 2.3.0.\n\n\t* ext/tk/lib/tkextlib/tcllib/*: support Tcllib 1.8 (Tklib 0.3).\n\nSat Oct 22 23:54:07 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, lib/mkmf.rb (with_config): support --with-extension\n\t  options.  [ruby-dev:27449]\n\nSat Oct 22 14:25:43 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.[hc] (ruby_add_suffix): constified.\n\n\t* util.[hc] (ruby_scan_{oct,hex}): fixed typo. (renamed from\n\t  scan_{oct,hex})\n\n\t* util.c: almostly ANSI styled. (except for functions depending on\n\t  macro and K&R technique)\n\nSat Oct 22 13:26:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (sym_inspect), parse.y (parser_yylex, rb_symname_p): check\n\t  if valid as a symbol name more strictly.  [ruby-dev:27478]\n\n\t* test/ruby/test_symbol.rb: tests for [ruby-core:03573].\n\n\t* time.c (rb_strftime): removed meaningless volatile modifiers, and\n\t  concatenate successive nul characters at once.  [ruby-dev:27472]\n\n\t* ext/tk/lib/tk/font.rb, ext/tk/lib/tkextlib/ICONS/icons.rb,\n\t  ext/tk/sample/tkextlib/treectrl/demo.rb, lib/net/imap.rb,\n\t  lib/rss/parser.rb, test/rss/test_content.rb,\n\t  test/rss/test_dublincore.rb, test/rss/test_syndication.rb,\n\t  test/rss/test_trackback.rb, test/ruby/test_eval.rb,\n\t  test/socket/test_socket.rb, test/socket/test_udp.rb:\n\t  Object#fcall was renamed as Object#funcall.\n\nSat Oct 22 10:08:28 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* missing.h, missing/*.c: SUSv3 compatible strcasecmp and strncasecmp,\n\t  ANSI compatible strtol and strtoul, and ANSI styled other functions.\n\nFri Oct 21 19:16:08 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* rubysig.h (CHECK_INTS): fixed typo. (I believe bit-or is improper)\n\nFri Oct 21 17:49:32 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bin/erb (ERB::Main::run): typo fixed.  [ruby-core:06337]\n\nFri Oct 21 15:42:28 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* intern.h, struct.c (rb_struct_iv_get): constified.\n\n\t* marshal.c: avoid one VC++6 warning for implicit conversion\n\t  from int to char.\n\n\t* ruby.h: ANSI styled.\n\n\t* bcc32/Makefile.sub (HAVE_HYPOT): added.\n\n\t* ext/socket/extconf.rb: BeOS is only one platform should call\n\t  closesocket, so check __BEOS__ macro directly. (I was worried\n\t  accidently HAVE_CLOSESOCKET is defined on windows again because\n\t  it has it)\n\n\t* ext/socket/{getaddrinfo.c,socket.c}: ditto.\n\n\t... these are all cosmetic changes.\n\nFri Oct 21 15:23:23 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bignum.c (bignew_1): convertion from `int' to `char' discards\n\t  upper bits, (ie. (char)0xff00 -> 0) so it's better to test if\n\t  nonzero and set 0 or 1 instead of simply casting ... as a flag usage.\n\t  (but I believe this won't cause actual bug in current implementation)\n\t  [ruby-dev:27055]\n\n\t* time.c: should use LONG_LONG instead of `long long'.\n\nThu Oct 20 22:22:49 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parser.y (struct parser_params): parser never modify input string.\n\n\t* ext/ripper/tools/preproc.rb (prelude): do not append surplus\n\t  newlines to fix line numbers.\n\nThu Oct 20 11:41:57 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* class.c, eval.c, hash.c, st.c, variable.c: changed /* ??? */ stuff\n\t  protoize generated to ANYARGS.\n\nThu Oct 20 11:18:11 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* eval.c, file.c, ruby.c: removed strchr, strrchr, strstr definition\n\t  because they are defined in missing.h.\n\n\t* missing.h, missing/strchr.c, missing/strstr.c: ANSI styled.\n\nThu Oct 20 09:36:06 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/mkmf.rb (create_makefile): Borland make seems not to allow\n\t  empty dependency list. If this change is not good, please correct\n\t  it.\n\nThu Oct 20 07:55:09 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): get rid of a restriction\n\t  of Borland make.  fixed: [ruby-dev:27460]\n\n\t* ext/ripper/depend: ditto.\n\nWed Oct 19 23:58:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): do not create unnecessary empty\n\t  directories.  fixed: [ruby-dev:27451]\n\nWed Oct 19 08:28:32 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_join): elements may contain null pointer strings.\n\t  report and fixed by Lloyd Zusman (hippoman): [ruby-core:06326]\n\nWed Oct 19 02:34:33 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c, eval.c, gc.c, parse.y, regparse.c, sjis.c, time.c:\n\t  made internal symbols static.  [ruby-dev:27435]\n\nTue Oct 18 10:58:27 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/dl/depend, ext/dl/extconf.rb, ext/socket/depend,\n\t  ext/socket/extconf.rb: shouldn't define DESTCLEANFILES in depend,\n\t  use $distcleanfiles in extconf.rb.\n\n\t* win32/Makefile.sub (distclean-local): should remove .config.h.time.\n\nMon Oct 17 09:42:50 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* mkconfig.rb: fixup configure_args for mswin32 configure.\n\n\t* win32/configure.bat (srcdir, target): ditto.\n\nMon Oct 17 05:01:50 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* env.h: move struct METHOD and struct BLOCK from eval.c to\n\t  support NodeWrap and ParseTree.\n\nSun Oct 16 22:16:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: omit non-existing directories.\n\nSun Oct 16 14:40:54 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb (Rinda::Tuple#initialize): check remote hash\n\t  tuple. fixed: [ruby-list:41227]\n\n\t* test/rinda/test_rinda.rb: test it.\n\nSun Oct 16 03:38:07 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* rubysig.h (CHECK_INTS): prevent signal handler to run during\n\t  critical section.  [ruby-core:04039]\n\n\t* eval.c (load_wait): need not to call rb_thread_schedule()\n\t  explicitly.  [ruby-core:04039]\n\n\t* eval.c (rb_thread_schedule): clear rb_thread_critical.\n\t  [ruby-core:04039]\n\nSun Oct 16 00:13:14 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/configure.bat: remove unnecessary line which prevents\n\t  creating Makefile.\n\nSat Oct 15 23:52:07 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb: (getbinaryfile): allow nil for localfile, and\n\t  returns retrieved data if localfile is nil.\n\n\t* lib/net/ftp.rb: (gettextfile): ditto.\n\nSat Oct 15 19:51:29 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* bin/erb: typo fixed, again. thanks, Doug Kearns.\n\nFri Oct 14 23:09:31 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (MKFILES): update MKFILES if configure files get\n\t  changed.\n\n\t* win32/configure.bat, win32/setup.mak (configure_args): store\n\t  arguments to configure files.\n\nFri Oct 14 22:05:45 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (ioctl): should set errno.\n\nFri Oct 14 16:39:37 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/config.rb (Config::FileHandler): :UserDir should be nil.\n\t  It is harmful to permit the access to ~/public_html by default.\n\t  suggested by Hiroyuki Iwatsuki.\n\nFri Oct 14 04:58:38 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_obj_instance_exec): create instance_exec and\n\t  module_exec which pass arguments to the block.\n\n\t* eval.c (rb_f_funcall): rename fcall to funcall to follow\n\t  tradition.\n\nThu Oct 13 23:29:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (HEAPCNT): bison allocates indivisible size.\n\t  fixed: [ruby-core:06261]\n\n\t* io.c, pack.c, ext/syck/rubyext.c, ext/syck/syck.h, missing/isinf.c:\n\t  get rid of warnings.  fixed: [ruby-core:06247]\n\nWed Oct 12 12:51:56 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.c (Init_openssl): should call\n\t  OpenSSL_add_ssl_algorithms().\n\nWed Oct 12 11:08:54 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* file.c (rb_f_test): typo in RDoc comments.\n\nTue Oct 11 21:41:58 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_FUNC_ATTRIBUTE): check prefixed attribute form\n\t  first.  [ruby-dev:27398]\n\n\t* array.c, enum.c, eval.c, util.c: safer function pointer usage.\n\t  fixed: [ruby-core:06143]\n\n\t* util.h (qsort): removed the definition incompatible to ANSI.\n\t  fixed: [ruby-core:06147]\n\n\t* eval.c (rb_obj_respond_to): check if obj responds to the given\n\t  method with the given visibility.  [ruby-dev:27408]\n\n\t* eval.c (rb_respond_to): conform to Object#respond_to?.  [ruby-dev:27411]\n\nTue Oct 11 00:01:21 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* st.c (st_free_table): do not call free() but xfree().\n\t  [ruby-core:06205]\n\nSat Oct  8 19:49:42 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (Init_Binding): add Binding#dup method.  [yarv-dev:666]\n\n\t* io.c (rb_io_init_copy): clear PREP flag for copied IO.\n\t  fixed: [ruby-dev:27371]\n\n\t* parse.y (rb_parser_malloc, rb_parser_free): manage parser stack on\n\t  heap.  [ruby-list:41199]\n\n\t* parse.y (ripper_initialize): use rb_respond_to().\n\n\t* ext/ripper/depend (check): get rid of re-generating ripper.y always.\n\n\t* ext/iconv/charset_alias.rb: parse config.charset_alias file directly.\n\n\t* ext/nkf/lib/kconv.rb (Kconv.conv): get rid of nil.to_a.\n\n\t* lib/scanf.rb (Scanf::FormatSpecifier#letter, #width): use matched\n\t  substring directly.\n\n\t* test/ruby/test_assignment.rb, test/ruby/test_iterator.rb: followed\n\t  change of sample/test.rb.\n\n\t* test/net/http/test_http.rb: removed superfluous splatting stars.\n\nFri Oct  7 16:41:43 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (splat_value): call rb_Array() to convert svalue to\n\t  values.  [ruby-dev:27397]\n\nFri Oct  7 09:54:00 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie::parse): Cookies from Nokia devices may\n\t  not be parsed correctly.  A patch from August Z. Flatby\n\t  (augustzf) in [ruby-Patches-2595].  [ruby-core:06183]\n\nThu Oct  6 22:51:30 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_Array): Array() to raise error for objects without\n\t  to_ary, nor to_a.\n\n\t* object.c (nil_to_a): revert NilClass#to_a.\n\nThu Oct  6 20:10:38 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c (strscan_free): remove useless code.\n\t  [ruby-dev:26368] [ruby-dev:27389]\n\nThu Oct  6 01:02:19 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (rb_range_beg_len): should return Qfalse for non-range\n\t  object.\n\nWed Oct  5 04:42:38 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/xmlrpc/server.rb (XMLRPC::Server#initialize): should mount the\n\t  servlet on \"/\".\n\nWed Oct  5 04:06:49 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/xmlrpc/server.rb (XMLRPC::Server#serve): delete wrong call\n\t  of \"join\".\n\nMon Oct  3 00:04:00 2005  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* pack.c (EXTEND16): [ruby-dev:27383]\n\nSat Oct  1 23:55:24 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (do_select, rb_w32_select): brush up.\n\nSat Oct  1 12:57:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* bignum.c (rb_big_rand): removed.  [ruby-dev:25405]\n\nSat Oct  1 01:46:51 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_loop): prohibit multiple proxy\n\t  options.\n\nThu Sep 29 10:26:18 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/dl/cptr.c (rb_dlptr_s_to_ptr): abolish sizeof(FILE).\n\t  [ruby-dev:27317]\n\nThu Sep 29 10:15:14 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (:proxy_http_basic_authentication): new option.\n\nThu Sep 29 07:22:05 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_f_send): underscores need to be escaped.\n\t  fixed by Doug Kearns.  [ruby-core:06053]\n\nThu Sep 29 00:57:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ev_const_get), variable.c (rb_const_get_0): retry only when\n\t  autoload succeeded.\n\n\t* variable.c (rb_autoload_load): now return true if autoload\n\t  succeeded.  fixed: [ruby-dev:27331]\n\nWed Sep 28 23:40:04 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_stat_inspect): constified.\n\nWed Sep 28 15:12:28 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI#start): req.query_string should\n\t  refer the value of QUERY_STRING. [ruby-list:41186]\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPRequest#query_string=):\n\t  add new method.\n\nWed Sep 28 10:45:44 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: cannot compile with Tcl/Tk8.0.x [ruby-dev:27335].\n\nWed Sep 28 07:56:52 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/yaml/basenode.rb (YAML::BaseNode::match_segment): fix typo.\n\t  [ruby-dev:27237], [ruby-core:05854]\n\n\t* lib/yaml/tag.rb (Module#yaml_as): suppress warnings.\n\n\t* lib/yaml/types.rb (YAML::PrivateType, YAML::DomainType): ditto.\n\nWed Sep 28 03:16:41 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* rubysig.h: fixed build problem with --enable-pthread on platforms\n\t  which don't have setitimer().\n\nMon Sep 26 22:32:13 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (set_trace_func): add rb_secure(4) to prevent adding\n\t  tracing function.\n\nMon Sep 26 20:59:28 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* parse.y: changed to ANSI function style.\n\nSun Sep 25 12:02:04 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* bin/erb: typo fixed.\n\nSun Sep 25 11:54:11 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/tuplespace.rb (Rinda::TemplateEntry::initialize): pull\n\t  up method. Tabs converted to spaces.\n\nSun Sep 25 09:34:22 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* parse.y: replaced `foo _((boo))' with `foo(boo)'.\n\nSun Sep 25 08:19:53 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/rss/test_content.rb, test/rss/test_syndication.rb: use fcall\n\t  instead of send in order to override visibility.\n\nSun Sep 25 01:46:43 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-calculate-indent): arrange deep-indent\n\t  closing parenthesis at same column as the opening.\n\nSun Sep 25 01:33:41 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* process.c (proc_setrlimit): make the third argument (rlim_max)\n\t  optional.\n\nSun Sep 25 00:42:11 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-expr-beg): deal with heredoc separately.\n\t  fixed: [ruby-list:41168]\n\n\t* misc/ruby-mode.el (ruby-calculate-indent): not to deepen indent\n\t  level for continuous line inside parentheses.\n\t  http://nabeken.tdiary.net/20050915.html#p02\n\nSat Sep 24 21:19:39 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: document enhancement.\n\n\t* ext/strscan/strscan.c: update copyright year.\n\n\t* ext/strscan/strscan.c: update coding style.\n\nSat Sep 24 20:20:05 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/net/http/test_http.rb (teardown): Net::HTTP.version_1_1 breaks\n\t  many other tests; ensure that Net::HTTP is version 1.2 after test.\n\t  [ruby-dev:27312]\n\nSat Sep 24 11:44:28 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/net/http/test_http.rb: new file.\n\nSat Sep 24 08:54:05 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (cd): no longer accept :noop option, related\n\t  code is useless. [ruby-core:05858] [ruby-Bugs:2494]\n\nSat Sep 24 08:30:00 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#sub): new method.\n\nSat Sep 24 08:29:36 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: fix visibility of FileUtils::NoWrite, Verbose,\n\t  DryRun. [ruby-core:05954]\n\n\t* test/fileutils/test_nowrite.rb: test it.\n\n\t* test/fileutils/test_dryrun.rb: new file.\n\n\t* test/fileutils/test_verbose.rb: new file.\n\nSat Sep 24 07:59:01 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* sample/ripper/colorize.rb: removed (replaced by ruby2html.rb).\n\n\t* sample/ripper/ruby2html.rb: added.\n\nSat Sep 24 06:35:15 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper: no longer generates .rb files.\n\n\t* parse.y (Init_ripper): ripper_init_eventids*() takes 1 argument,\n\t  self (class Ripper).\n\n\t* ext/ripper/depend: target removed: `lib/ripper/core.rb'.\n\n\t* ext/ripper/depend: new target `eventids2table.c'.\n\n\t* ext/ripper/depend: new target `check'.\n\n\t* ext/ripper/eventids2.c: include eventids2table.c.\n\n\t* ext/ripper/eventids2.c: initialize SCANNER_EVENT_TABLE.\n\n\t* ext/ripper/extconf.rb: update $cleanfiles list.\n\n\t* ext/ripper/tools/generate.rb: no longer generate ripper/core.rb.\n\n\t* ext/ripper/tools/generate.rb: new mode `check'.\n\n\t* ext/ripper/tools/generate.rb: new mode `eventids2table'.\n\n\t* ext/ripper/lib/ripper/core.rb.in: removed.\n\n\t* ext/ripper/lib/ripper/core.rb: added.\n\n\t* ext/ripper/lib/ripper/filter.rb: update copyright year.\n\n\t* ext/ripper/lib/ripper/lexer.rb: ditto.\n\n\t* ext/ripper/lib/ripper/sexp.rb: ditto.\n\nSat Sep 24 02:40:20 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb: document update from James Edward Gray II\n\t  <james@grayproductions.net>.  [ruby-core:05942]\n\nSat Sep 24 02:05:51 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (proc_daemon): should restrict execution on levels\n\t  higher than $SAFE=2.  suggested by URABE Shyouhei\n\t  <shyouhei@ice.uec.ac.jp>.\n\nFri Sep 23 20:10:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/ripper/tools/generate.rb, ext/ripper/tools/preproc.rb: StringIO\n\t  is not available for miniruby.  fixed: [ruby-dev:27307]\n\nFri Sep 23 17:36:48 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: avoid core dump with WIN32OLE_EVENT.\n\t  [ruby-dev:27133]\n\nFri Sep 23 16:27:39 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/forwardable.rb: replaced by new implementation from\n\t  <Daniel.Berger@qwest.com>.  [ruby-core:05899]\n\nFri Sep 23 07:07:47 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/depend: use --output option instead of redirect;\n\t  nmake does not remove a target when the target file is created by\n\t  redirect. [ruby-dev:26466]\n\n\t* test/ripper/tools/preproc.rb: new option --output.\n\nFri Sep 23 06:57:52 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/tools/generate.rb: check parser event arity.\n\n\t* test/ripper/tools/generate.rb: detect crash of parser-event-IDs\n\t  and scanner-event-IDs.\n\nFri Sep 23 06:01:30 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_file.rb: check File#chown(nil,nil).\n\t  [ruby-dev:27140]\n\nFri Sep 23 05:57:23 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper: refactoring code generation tools. [ruby-dev:27247]\n\t  [ruby-dev:27273]\n\n\t* ext/ripper/depend: use generate.rb.\n\n\t* ext/ripper/lib/ripper/core.rb: removed.\n\n\t* ext/ripper/tools/generate-eventids1.rb: removed (code moved to\n\t  generate.rb).\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: removed (code moved to\n\t  generate.rb).\n\n\t* ext/ripper/tools/list-parse-event-ids.rb: removed (code moved to\n\t  generate.rb).\n\n\t* ext/ripper/tools/list-scan-event-ids.rb: removed (code moved to\n\t  generate.rb).\n\n\t* ext/ripper/lib/ripper/core.rb: removed.\n\n\t* ext/ripper: refactoring tests. [ruby-dev:27273]\n\n\t* ext/ripper/test/check-event-arity.rb: removed (code moved to\n\t  tools/generate.rb).\n\n\t* ext/ripper/test/check-event-coverage.rb: removed (code moved to\n\t  test/ripper/test_parser_events.rb).\n\n\t* ext/ripper/test/check-scanner-event-coverage.rb: removed (code\n\t  moved to test/ripper/test_scanner_events.rb).\n\n\t* ext/ripper/test/list-called-events.rb: removed.\n\n\t* ext/ripper/test/src_rb: removed.\n\n\t* ext/ripper/test/validate.rb: removed.\n\n\t* test/ripper/test_scanner_events.rb: check event coverage.\n\n\t* ext/ripper/lib/ripper/core.rb.in: update copyright year.\n\nThu Sep 22 23:40:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (find_executable0): default path if environment is not\n\t  set.  [ruby-dev:27281]\n\n\t* ext/ripper/extconf.rb (have_command): replaced with find_executable.\n\nThu Sep 22 17:31:48 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/readline/test_readline.rb (TestReadline::replace_stdio):\n\t  merged the patch of [ruby-dev:25232] instead of [ruby-dev:25223].\n\t  (merged from ruby_1_8 branch)\n\nWed Sep 21 23:30:44 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): generalized nmake dependent code.\n\nWed Sep 21 14:16:30 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/ripper/depend (SUFFIXES): no longer needed.\n\n\t* ext/ripper/depend (c): avoid nmake problem. fixed [ruby-dev:27191]\n\nWed Sep 21 08:52:25 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/token.c: correctly compute indentation of a block\n\t  scalar's parent node. [ruby-talk:150620]\n\nWed Sep 21 08:20:24 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* README.EXT, README.EXT.ja: add new features.\n\nWed Sep 21 07:43:58 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (default_argv, Arguable#options): defaults strings\n\t  to be parsed to Arguable instance.\n\nWed Sep 21 02:44:09 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (path_check_0): disallow sticky world writable directory\n\t  in PATH (and $LOAD_PATH).  [ruby-dev:27226]\n\nWed Sep 21 00:32:22 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_idiv): 1.div(1.0) should return integer value.\n\t  [ruby-dev:27235]\n\nTue Sep 20 22:25:43 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/io/wait/lib/nonblock.rb: disable on platforms non-blocking flag\n\t  is not available.  fixed: [ruby-dev:27187]\n\n\t* file.c (rb_stat_inspect): protoized function pointer.\n\nTue Sep 20 18:23:04 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (thread_mark): mark th->last_status.  [ruby-dev:27179]\n\nTue Sep 20 18:20:33 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/yaml.rb: require 'yaml/constants'.  [ruby-core:5776]\n\nTue Sep 20 17:48:34 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/xmlrpc/client.rb (XMLRPC::Client::do_rpc): add charset\n\t  information to content-type header.[ruby-core:5127]\n\n\t* lib/xmlrpc/server.rb (CGIServer::serve): ditto.\n\n\t* lib/xmlrpc/server.rb (ModRubyServer::serve): ditto.\n\n\t* lib/xmlrpc/server.rb (WEBrickServlet::service): ditto.\n\nTue Sep 20 17:26:42 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/webrick/test_cgi.rb: set ENV[\"PATH\"] to CGIEnvPath on\n\t  windows. bcc32's runtime is not installed into system directory,\n\t  so it cannot be found without this setting. [ruby-dev:27166]\n\nTue Sep 20 17:14:10 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* io.c: PIPE_BUF is not defined on BeOS. use _POSIX_PIPE_BUF instead.\n\t  [ruby-dev:27185]\n\nTue Sep 20 17:10:38 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/dbm/test_dbm.rb (TestDBM::test_s_open_error): remove\n\t  test_s_open_error test to detect duplicate open.\n\t  [ruby-dev:27202]\n\nTue Sep 20 15:39:40 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/emitter.c (syck_scan_scalar): prevent indicators from\n\t  appearing alone or at the end of plain scalars. [ruby-core:5826]\n\n\t* ext/syck/emitter.c (syck_emit_scalar): treat typed scalar nodes\n\t  as complex keys.\n\n\t* lib/syck.h: version 0.60.\n\n\t* lib/yaml/basenode.rb (YAML::BaseNode#at): transform keys during\n\t  key searches.\n\n\t* ext/syck/rubyext.c: loading of binary-typed nodes.  prevent\n\t  emission of plain strings that look like symbols, but which aren't.\n\nTue Sep 20 05:48:26 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/xmlrpc/test_webrick_server.rb (setup_http_server):\n\t  should not include 'webrick/https' unless 'use_ssl' because\n\t  it fails where openssl is not installed.\n\nTue Sep 20 01:24:45 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (splat_value): use to_a to splat non Array object.\n\n\t* object.c (nil_to_a): remove nil.to_a.  [experimental]\n\nTue Sep 20 01:01:41 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Fixnum): remove debug print.\n\n\t* lib/rational.rb (Rational): ditto.\n\nTue Sep 20 00:34:07 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_close): call rb_io_close() directly if io is a T_FILE\n\t  object.  [ruby-dev:27156]\n\nMon Sep 19 18:58:10 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* file.c (rb_file_chown): should accept nil. [ruby-dev:27171]\n\nMon Sep 19 18:29:54 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (file_expand_path): allow pathnames to expand.\n\t  [ruby-dev:27152]\n\nMon Sep 19 15:12:15 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/depend: do not make ripper/core.rb. [ruby-dev:26462]\n\nMon Sep 19 14:49:19 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/eventids2.c: add prefix `t' to tLAMBDA-related lexer\n\t  events.\n\n\t* ext/ripper/lib/ripper/core.rb: updated.\n\nMon Sep 19 14:39:46 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (do_block): do_block event dispatches 2 args.\n\t  [ruby-dev:26964]\n\n\t* ext/ripper/lib/ripper/core.rb: updated.\n\n\t* ext/ripper/tools/list-parser-event-ids.rb: check arity mismatch.\n\nMon Sep 19 07:45:37 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkey.h, ossl_pkey_rsa.c, ossl_pkey_dsa.c:\n\t  an instance variable \"private\" is added to OpenSSL::PKey class.\n\t  this ivar is a flag that shows whether there is a private key\n\t  in the instance.\n\n\t* ext/openssl/ossl_engine.c: (ossl_engine_load_privkey): set private\n\t  key flag.\n\n\t* test/openssl/test_pkey_rsa.rb: add test about private detection.\n\nMon Sep 19 06:38:03 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: method renaming: collect_methods ->\n\t  collect_method.\n\nMon Sep 19 05:58:59 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: use module_function instead of single extend.\n\n\t* test/fileutils/test_fileutils.rb: test existence of singleton\n\t  methods.\n\nMon Sep 19 05:32:41 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_entry_secure): does not use chdir(2).\n\nMon Sep 19 03:17:48 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* file.c (rb_thread_flock): wrap the flock system call by\n\t  TRAP_BEG/TRAP_END to enable signals.  [ruby-dev:27122]\n\n\t* ext/socket/socket.c (bsock_send): wrap the sendto and send system\n\t  call by TRAP_BEG/TRAP_END to enable signals when writing to a socket\n\t  which is full.  [ruby-dev:27132]\n\n\t* io.c (rb_io_syswrite): wrap the write system call by\n\t  TRAP_BEG/TRAP_END to run signal handler in syswrite method.\n\t  [ruby-dev:27134]\n\nMon Sep 19 01:07:38 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (Init_Numeric): should define Fixnum#div.\n\t  [ruby-dev:27129]\n\n\t* file.c (rb_thread_flock): wrap flock(2) by TRAP_BEG and\n\t  TRAP_END.  [ruby-dev:27122]\n\n\t* file.c (rb_file_join): call FilePathValue() to all Pathnames to\n\t  join.  [ruby-dev:27127]\n\n\t* file.c (rb_get_path): call StringValueCStr() to ensure no nul\n\t  bytes in path strings.\n\n\t* gc.c (garbage_collect): need value for return.  [ruby-dev:27127]\n\nSun Sep 18 02:10:47 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: remove comments that are bungling up\n\t  the rdoc and ri output.  output symbols as plain scalars.\n\n\t* ext/syck/rubyext.c (syck_emitter_reset): emit headless\n\t  documents always.\n\n\t* ext/syck/emitter.c (syck_scan_scalar): quote scalars with any\n\t  kind of surrounding line space, tabs or spaces alike.\n\n\t* ext/syck/token.c: accept tabs as whitespace, not for indentation,\n\t  but strip from plain scalars.\n\n\t* test/yaml/test_yaml.rb: remove outdated tests.\n\nSun Sep 18 01:10:37 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (garbage_collect): return false if no GC run.\n\nSat Sep 17 23:25:04 2005  sheepman  <sheepman@sheepman.sakura.ne.jp>\n\n\t* lib/mathn.rb (Rational::inspect): should preserve original\n\t  operand.  [ruby-core:05806]\n\nSat Sep 17 23:20:27 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie): should handle multiple values for a\n\t  cookie name.  [ruby-talk:156140]\n\n\t* test/socket/test_tcp.rb (TestTCPSocket::test_recvfrom): typo\n\t  fixed.  [ruby-dev:27123]\n\nSat Sep 17 20:58:56 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_select): fixed deadlock bug.\n\t  because select(2) modifies its fd_set arguments, it must be\n\t  restored sometimes.\n\n\t* win32/win32.c (rb_w32_select): performance improvement when\n\t 'always readable/writable handles' and sockets are passed.\n\t  sockets should be polled every time.\n\n\t    require \"net/http\"\n\n\t    Thread.new {\n\t      loop do\n\t\tSTDOUT.write(\".\") # busy on console (this is worst case though)\n\t      end\n\t    }\n\n\t    # socket operation took long time. (sometimes timed out)\n\t    Net::HTTP.start(\"www.ruby-lang.org\") do |http|\n\t\thttp.get(\"/cgi-bin/cvsweb.cgi/ruby/array.c?rev=1.179\")\n\t    end\n\nSat Sep 17 14:54:40 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_readpartial.rb (test_open_pipe, test_with_stdio):\n\t  these tests are working now, so turned on. (windows)\n\nSat Sep 17 14:18:15 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_select): I hope performance problem was\n\t  solved.\n\nSat Sep 17 13:45:22 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_select): console support is back.\n\t  but still has performance problem because I loosely took 1 second\n\t  for wait time. I'll fix it later. (The reason I drastically changed\n\t  the code is that I wanted to implement the fileset management as\n\t  single function, and I was worried that if pipe or console\n\t  was always available, socket may not be processed any time)\n\nSat Sep 17 11:24:16 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_select): select for socket didn't work.\n\t  this caused deadlock in drb test. this happened because GetFileType\n\t  for socket handle returns FILE_TYPE_PIPE. Of course, it's not a\n\t  pipe. So socket handle didn't reach winsock's select function.\n\n\t* win32/win32.c (rb_w32_select): read for pipe was still blocked\n\t  even if writer handle was closed.\n\n\t    r,w = IO.pipe\n\n\t    Thread.new {\n\t      sleep 3; puts \"------- 1\"\n\t      w.puts(\"foo\")\n\t      sleep 3; puts \"------- 2\"\n\t      w.puts(\"boo\")\n\t      sleep 3; puts \"------- 3\"\n\t      w.close\n\t    }\n\n\t    until r.eof? # should break by w.close but didn't.\n\t      puts r.gets\n\t    end\n\n\t* win32/win32.c (rb_w32_select): temporary reverted console support\n\t  but it'll be back soon.\n\nSat Sep 17 10:42:13 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp#eval_string and bg_eval_string\n\t  should call Kernel.eval on caller's safe-level instead of slave's\n\t  safe-level (Of course, the given script should be evaluated on\n\t  slave's safe-level).\n\nSat Sep 17 09:45:26 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_substr): should propagate taintness even for\n\t  empty strings.  [ruby-dev:27121]\n\n\t* string.c (rb_str_aref): should infect result if range argument\n\t  is tainted.  [ruby-dev:27121]\n\nSat Sep 17 08:35:39 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/base.rb (RSS::Maker::ItemsBase#normalize): fixed\n\t  strange RSS::Maker::Item#max_size behavior.\n\t  Thanks to Kazuhiko <kazuhiko@fdiary.net>.\n\n\t* test/rss/test_maker_1.0.rb (RSS::TestMaker10#test_items): ditto.\n\nSat Sep 17 08:02:53 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: supported DIGEST-MD5.  Thanks, Mathieu Arnold.\n\n\t* lib/net/imap.rb: use fcall instead of send.  Thanks, Satoru\n\t  Takabayashi.\n\nFri Sep 16 22:45:49 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_extname): empty string for path name ending with a\n\t  period.  fixed: [ruby-core:05651]\n\n\t* file.c (rb_file_join): smarter behavior at edge cases.\n\t  fixed: [ruby-core:05706]\n\n\t* gc.c (rb_memerror, ruby_xmalloc, ruby_xrealloc, rb_newobj): just\n\t  abandon if no memory available, when interpreter is not running.\n\t  [ruby-dev:27104]\n\n\t* gc.c (garbage_collect): return whether GC could run.\n\n\t* dir.c (rb_push_glob): fix delimiter bug.  fixed: [ruby-dev:27105]\n\n\t* dir.c (dir_s_aref, dir_s_glob): allow multiple patterns.\n\t  [ruby-dev:27110]\n\n\t* win32/win32.c (cmdglob): enable brace expansion.\n\nFri Sep 16 18:34:01 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/node.c (syck_replace_str): was using return from the\n\t  void function.  a patch from MIYAMUKO Katsuyuki\n\t  <miyamuko at mtb.biglobe.ne.jp>.  [ruby-dev:27111]\n\nFri Sep 16 14:48:48 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: fix typo on MultiTkIp#bg_eval_string\n\nFri Sep 16 12:02:12 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_resolver_transfer): remove C++ style\n\t  comment (//).  [ruby-core:05793]\n\nFri Sep 16 00:17:03 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/logger/test_logger.rb: unintentionally overwritten changes by\n\t  Usa.  reverted.\n\nFri Sep 16 00:03:11 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI::Socket#initialize): should set\n\t  $stdout.binmode.\n\nThu Sep 15 23:25:21 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/{soap,wsdl,xsd}, test/{soap,wsdl,xsd}: imported soap4r/1.5.5.\n\n\t  #nnn is a ticket number at http://dev.ctor.org/soap4r\n\n\t  * SOAP\n\n\t    * allow to configure an envelope namespace of SOAP request. (#124)\n\t\tTemporaryNamespace = 'http://www.w3.org/2003/05/soap-envelope'\n\t\t@client.options[\"soap.envelope.requestnamespace\"] =\n\t\t  TemporaryNamespace\n\t\t@client.options[\"soap.envelope.responsenamespace\"] =\n\t\t  TemporaryNamespace\n\t\t@client.do_proc(...)\n\n\t    * let SOAP request XML indent space configurable.  see\n\t      \"soap.envelope.no_indent\" option. (#130)\n\n\t    * let external CES configurable.\n\t      ex. client[\"soap.mapping.external_ces\"] = 'SJIS'.  $KCODE is used\n\t      by default. (#133)\n\t\texternal CES ::= CES used in Ruby object of client and server\n\t\tinternal CES ::= CES used in SOAP/OM\n\n\t    * add iso-8859-1 external CES support. (#106)\n\n\t    * fixed illegal 'qualified' handling of elements.  it caused\n\t      ASP.NET interoperability problem. (#144)\n\n\t    * added 'soap.envelope.use_numeric_character_reference' (boolean)\n\t      option to let query XML use numeric character reference in XML,\n\t      not plain UTF-8 character.  !GoogleSearch server seems to not\n\t      allow plain UTF-8 character since 2005-08-15 update. (#147)\n\n\t    * SOAP::Header::SimpleHeader (de)serialization throws an exception\n\t      on !SimpleHeader.on_(in|out)bound when header is a String.  so we\n\t      could not use a simple single element headerItem.  fixed.  thanks\n\t      to emil. (#129)\n\n\t    * out parameter of rpc operation did not work.  (#132)\n\n\t    * follow HTTP redirect only if using http-access2.  (#125) (#145)\n\n\t    * add a workaround for importing an WSDL whose path begins with\n\t      drive letter.  (#115)\n\n\t  * WSDL\n\n\t    * SOAP Data which is defined as a simpletype was not mapped\n\t      correctly to Ruby obj when using wsdl2ruby.rb generated classdef\n\t      file. (#123)\n\n\t    * rpc/literal support. (#118)\n\n\t    * re-implemented local element qualify/unqualify control.  handles\n\t      elementFormDefault and form in WSDL.  (#119)\n\n\t    * Array of an element which has simpleType causes a crash. (#128)\n\n\t    * prarmeterOrder may not contain return part so it can be shorter\n\t      than parts size.  Thanks to Hugh.  (#139)\n\n\t  * Samples\n\n\t    * added !BasicAuth client sample. (#117)\n\n\t    * added Base64 client/server sample.\n\n\t    * added Flickr SOAP interface client sample. (#122)\n\n\t    * added !SalesForce client sample. (#135)\n\n\t    * updated Thawte CA certificate for !GoogleAdWords sample.\n\n\t    * updated a client script with the newer version made by Johan.\n\t      thanks!\n\n\t    * shortened long file names. (#120)\n\n\t    * fixed typo in authheader sample. (#129)\n\n\t    * updated deprecated method usage.  (#138)\n\nThu Sep 15 22:40:27 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_signal.rb (test_exit_action): skip the test using\n\t  fork on fork-less platforms.\n\nThu Sep 15 13:54:33 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: add :read_timeout option.\n\t  [ruby-core:4848]\n\nThu Sep 15 11:39:18 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/dialog.rb: If a dialog does not show up yet,\n\t  TkDialogObj#name raises an exception. [ruby-talk:156109]\n\nThu Sep 15 11:01:58 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_pipe_exec): remove unnecessary CloseHandle().\n\n\t* win32/win32.c (extract_console_fd, peek_console): new functions.\n\n\t* win32/win32.c (rb_w32_select): check consoles by polling them.\n\nThu Sep 15 00:18:24 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/telnet.rb (Net::Telnet::waitfor): replace sysread with\n\t  readpartial.  [ruby-talk:127641]\n\nWed Sep 14 23:28:28 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (collect_file_fd): rename from extract_file_fd.\n\n\t* win32/win32.c (extract_pipe_fd, peek_pipe): new functions.\n\n\t* win32/win32.c (rb_w32_select): check pipes by polling them.\n\nWed Sep 14 22:40:26 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (ruby_glob): glob function not using ruby exception system.\n\nWed Sep 14 17:24:22 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c: changed `foo (*bar)_((boo))' to `foo (*bar)(boo)`.\n\n\t* enumerator.c, eval.c, gc.c, intern.h, io.c, process.c, ruby.c,\n\t  ruby.h, signal.c: ditto.\n\nWed Sep 14 15:06:22 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bignum.c: changed `foo _((boo))' to `foo(boo)`. [ruby-dev:27056]\n\n\t* defines.h, dir.c, dln.h, enumerator.c, env.h, error.c, eval.c, file.c,\n\t  gc.c, hash.c, inits.c, intern.h, io.c, lex.c, marshal.c, missing.h,\n\t  node.h, numeric.c, pack.c, process.c, re.h, ruby.c, ruby.h, rubyio.h,\n\t  rubysig.h, signal.c, sprintf.c, st.h, string.c, struct.c, time.c,\n\t  util.c, util.h, variable.c: ditto.\n\nTue Sep 13 22:09:40 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb (Logger): added formatter accessor to logger for\n\t  dictating the way in which the logger should format the messages it\n\t  displays.  Thanks to Nicholas Seckar (cf. [ruby-talk:153391]) and\n\t  Daniel Berger.\n\n\t* lib/logger.rb (Logger): added VERSION constant.\n\n\t* lib/logger.rb: removed document for LogDevice. It is an\n\t  implementation detail and is not a public interface.\n\n\t* test/logger/test_logger.rb: added tests.\n\nTue Sep 13 21:47:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (BEGIN_CALLARGS): pop halfly pushed status.\n\t  fixed: [ruby-dev:26881]\n\nTue Sep 13 20:24:37 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ruby.h (PRINTF_ARGS): new macro for printf style argument checking.\n\nTue Sep 13 15:41:29 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: wrote docuemntation of HTTPRequest/HTTPResponse\n\t  classes.\n\nTue Sep 13 14:27:47 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* string.c, missing.h: failed to build on powerpc-apple-darwin7.9.0\n\t  because of crypt argument's constness mismatch. (I hope this works)\n\t  (http://mput.dip.jp/autobuild/ruby-trunk/log/20050913T110001.gz)\n\nTue Sep 13 12:33:05 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb: reworking YAML::Stream to use the new\n\t  emitter.\n\n\t* lib/yaml/stream.rb: ditto.\n\n\t* lib/yaml/rubytypes.rb: added Object#yaml_new.\n\n\t* lib/yaml/tag.rb: the tag_subclasses? method now\n\t  shows up in the class.  allow taguri to be set using an accessor.\n\t  continue support of Object#to_yaml_type.\n\n\t* ext/syck/rubyext.c: new emitter code.  yaml_new and yaml_initialize\n\t  get called, should they be present.  consolidated all the diaspora of \t  internal node types into the family below YAML::Syck::Node -- Map,\n\t  Seq, Scalar -- all of whom are SyckNode structs pointing to\n\t  Ruby data.  moved Object#yaml_new into the node_import and made it\n\t  the default behavior.  the target_class is always called wih\n\t  yaml_new, prepended a parameter, which is the klass.  loaded nodes\n\t  through GenericResolver show their style.\n\t  new Resolver#tagurize converts type ids to taguris.\n\n\t* ext/syck/implicit.re: were 'y' and 'n' seriously omitted??\n\n\t* ext/syck/emitter.c: renovated emitter, walks the tree in advance.\n\t  consolidated redundant block_styles struct into\n\t  the scalar_style struct.  (this means loaded nodes can now\n\t  be sent back to emitter and preserve at least its very basic\n\t  formatting.)\n\n\t* ext/syck/gram.c: headless documents of any kind allowed.\n\n\t* ext/syck/node.c: new syck_replace_str methods and syck_empty_*\n\t  methods for rewriting node contents, while keeping the ID\n\t  and other setup info.  added syck_seq_assign.\n\n\t* ext/syck/syck.h: reflect block_styles and new node functions.\n\nTue Sep 13 08:09:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/ostruct.rb (new_ostruct_member): Object#send no longer call\n\t  private methods.  [ruby-dev:27044]\n\n\t* test/rss/test_dublincore.rb, test/rss/test_trackback.rb,\n\t  test/ruby/test_eval.rb, test/socket/test_socket.rb: ditto.\n\n\t* test/ruby/test_lambda (test_call_with_block): lambda makes new scope\n\t  for formal block parameter.\n\nTue Sep 13 01:17:45 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_save_safe_level): no need to restrict safe level\n\t  memoize in $SAFE>=3.  [ruby-dev:27050]\n\nTue Sep 13 00:02:33 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (apply2files): stricter callback definition.\n\n\t* file.c (rb_path_check): constified.\n\nMon Sep 12 20:53:06 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/openssl/test_pkcs7.rb (test_enveloped): skip this test\n\t  to avoid a bug of PKCS7_enctypt() (only if ext/openssl is\n\t  compiled with OpenSSL-0.9.7d or earlier versions).\n\t  http://www.mail-archive.com/openssl-dev@openssl.org/msg17376.html\n\nMon Sep 12 20:32:00 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.[hc] (rb_w32_argv_size, ...): reverted my latest change\n\t  to avoid incompatible pointer warning. (mingw32)\n\nMon Sep 12 19:58:53 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dln.c: avoid warning of const to non-const convertion.\n\t  [ruby-dev:27041]\n\n\t* eval.c, io.c, ruby.c: ditto.\n\nMon Sep 12 19:26:29 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* array.c: moved to ANSI function style from K&R function style.\n\t  (used protoize on windows, so still K&R remains on #ifdef part of\n\t   other platforms. And  `foo _((boo))' stuff is still there)\n\t   [ruby-dev:26975]\n\n\t* bignum.c, class.c, compar.c, dir.c, dln.c, dmyext.c, enum.c,\n\t  enumerator.c, error.c, eval.c, file.c, gc.c, hash.c, inits.c,\n\t  io.c, main.c, marshal.c, math.c, numeric.c, object.c, pack.c,\n\t  prec.c, process.c, random.c, range.c, re.c, regcomp.c, regenc.c,\n\t  regerror.c, regexec.c, regparse.c, regparse.h, ruby.c, signal.c,\n\t  sprintf.c, st.c, string.c, struct.c, time.c, util.h, variable.c,\n\t  version.c: ditto.\n\nMon Sep 12 14:03:33 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/dbm/test_dbm.rb: remove locking test, which may not be\n\t  supported on some platforms.  [ruby-dev:27030]\n\nSun Sep 11 23:23:02 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (starttls): supported the STARTTLS command.\n\nSun Sep 11 22:18:07 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* bin/erb (ERB::Main#run): set ERB#filename so that it is used\n\t  when reporting syntax/runtime errors. Tabs converted to spaces.\n\nSat Sep 10 22:34:19 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c, bignum.c: protoize.\n\nSat Sep 10 00:23:01 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (splat_value): simpler and consistent array conversion\n\t  for argument splat.  [yarv-dev:599]\n\nFri Sep  9 16:45:25 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_times): make empty strings to keep taintness,\n\t  and a little improvement.  [ruby-dev:26900]\n\n\t* ext/iconv/iconv.c (iconv_try), ext/iconv/extconf.rb: get rid of meta\n\t  characters in command line option.  fixed: [ruby-talk:155369]\n\n\t* ext/iconv/iconv.c: protoized.\n\nThu Sep  8 14:58:11 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* merged a patch from Takahiro Kambe <taca at back-street.net> to\n\t  support DragonFly BSD.  [ruby-dev:26984]\n\nThu Sep  8 13:14:57 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* missing/strchr.c (strrchr): fixed a bug in detecting NUL in a\n\t  string.  [ruby-dev:26985]\n\nWed Sep  7 17:29:27 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_s_by_id):\n\t  OpenSSL::Engine.by_id calls given block before calling\n\t  ENGINE_init (block parameter is the return value of this method\n\t  itself).  this functionality is useful to load dynamic shared\n\t  engines.\n\n\t\trequire \"openssl\"\n\t\tpkcs11 = OpenSSL::Engine.by_id(\"dynamic\"){|e|\n\t\t  e.ctrl_cmd(\"SO_PATH\", \"/usr/lib/opensc/engine_pkcs11.so\")\n\t\t  e.ctrl_cmd(\"LIST_ADD\", \"1\")\n\t\t  e.ctrl_cmd(\"LOAD\")\n\t\t}\n\t\tpkcs11.ctrl_cmd(\"PIN\", \"secret\")\n\t\tkey = pkcs11.load_private_key\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_ctrl_cmd): new method\n\t  OpenSSL::Engine#ctrl_cmd. it wraps ENGINE_ctrl_cmd_string.\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_get_cmds): new method\n\t  OpenSSL::Engine#cmds. it returms engine command definitions.\n\nWed Sep  7 15:48:37 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (asn1str_to_str): new function.\n\n\t* ext/openssl/ossl_pkcs7.c: new class OpenSSL::PKCS7::RecipientInfo.\n\t  this class wraps PKCS7_RECIP_INFO struct.\n\n\t* ext/openssl/ossl_pkcs7.c: OpenSSL::PKCS7::Signer is renamed to\n\t  OpenSSL::PKCS7::SignerInfo. (\"Signer\" remains as an alias of\n\t  SignerInfo.)\n\n\t* test/openssl/test_pkcs7.rb: new file.\n\nWed Sep  7 12:55:08 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: abolish mod === tempfile to avoid a problem\n\t  [ruby-dev:26967].\n\nWed Sep  7 10:45:15 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_switch): convert all exceptions to\n\t  SystemExit.  fixed: [ruby-core:05724]\n\n\t* eval.c (rb_thread_terminated): show backtrace before propagate\n\t  exceptions to main thread.\n\nWed Sep  7 09:21:41 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.[hc] (rb_w32_utime): constified.\n\n\t* win32/win32.h (rb_w32_stat): added prototype.\n\n\t* win32/win32.[hc] (rb_w32_argv_size,rb_w32_join_argv,rb_w32_aspawn):\n\t  changed `char *const *' to `const char *const *'. (constify string)\n\nWed Sep  7 08:35:04 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, configure.in (MINIOBJS): miniruby on HP-UX can not load\n\t  extension libraries.\n\n\t* bignum.c (bignew_1, bigadd): K&R style argument actually can't be\n\t  defined as char.\n\n\t* missing/vsnprintf.c: ANSI compiler supports const keyword.\n\n\t* ext/digest/sha2/extconf.rb: reject platforms which has inttypes.h\n\t  but no 64bit integer.\n\n\t* lib/mkmf.rb (what_type?): guesstimate type.\n\n\t* ext/etc/etc.c (setup_passwd), ext/etc/extconf.rb: pw_age might be\n\t  char*.  fixed: [ruby-core:05470]\n\nWed Sep  7 08:32:07 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_times): should taint empty strings as well.\n\n\t* object.c (Init_Object): make class_variable_{get,set} public.\n\t  [ruby-dev:26965]\n\nMon Sep  5 22:28:46 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt, mlhs_node, lhs, arg, method_call): aref_args might be\n\t  nothing.  fixed: [ruby-dev:26952]\n\n\t* ext/ripper/eventids2.c: added new tokens.  fixed: [ruby-dev:26952]\n\nMon Sep  5 17:03:07 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/find.rb: should raise ENOENT if root entry does not exist.\n\t  [ruby-list:41054]\n\n\t* lib/ostruct.rb: a patch from Florian Gross <florgro at gmail.com>\n\t  merged to allow recursive inspect (and to_s) for OpenStruct.\n\t  [ruby-core:05532]\n\nMon Sep  5 08:20:19 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/observer.rb: a patch from nornagon <nornagon at gmail.com>\n\t  merged to allow arbitrary names for update methods.\n\t  [ruby-core:05416]\n\nMon Sep  5 07:01:12 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/openssl/lib/openssl/buffering.rb (Buffering#do_write):\n\t  should clear data from the buffer which already been output.\n\nSun Sep  4 15:01:35 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (f_arg): Ripper should not do semantic check.\n\t  [ruby-dev:26948]\n\nSat Sep  3 23:52:35 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_fcall): new method to avoid inefficiency of\n\t  obj.instance_eval{send(...)} tricks.\n\nSat Sep  3 13:59:31 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#descend): Pathname.new(\"./a/b/c\").descend\n\t  didn't yield \".\"\n\t  (Pathname#ascend): ditto.\n\nFri Sep  2 23:51:54 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_arg): f_norm_arg is a VALUE in ripper, not an ID.\n\t  fixed: [ruby-dev:26942]\n\n\t* lib: do not use __send__ to access private methods.  [ruby-dev:26935]\n\nThu Sep  1 17:11:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): wrong condition for $SAFE restoration.\n\nThu Sep  1 14:12:45 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: On Tcl8.5, MultiTkIp#invoke_hidden doesn't\n\t  work (gives wrong order of arguments).\n\n\t* ext/tk/lib/multi-tk.rb: add MultiTkIp#invoke_hidden_on_namespace\n\t  to support '-namespace' option of 'interp invokehidden' command\n\t  on Tcl8.5.\n\nWed Aug 31 14:41:30 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (OPTFLAGS): default global optimization to\n\t  disabled for all VC++ versions.  fixed: [ruby-dev:26897]\n\nWed Aug 31 10:36:09 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* process.c (proc_detach, proc_setmaxgroups): missing argument type\n\t  declaration. (I recommend ANSI-style function)\n\nWed Aug 31 06:59:01 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_scan): already String#scan behaves differently\n\t  regarding if block is given.\n\nTue Aug 30 23:49:34 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c, dir.c, enum.c, hash.c, io.c, range.c, string.c, struct.c:\n\t  let enumerable methods return Enumerator.  [ruby-dev:26924]\n\n\t* intern.h (RETURN_ENUMERATOR): utility macro for enumerable methods.\n\nTue Aug 30 23:25:45 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/debug.rb: no need to restart at exit.\n\nTue Aug 30 23:20:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_rescue2): initialization miss.  fixed: [ruby-dev:26917]\n\n\t* lib/mkmf.rb (xsystem, xpopen): no longer expand by Config.\n\n\t* lib/mkmf.rb (link_command, cc_command, cpp_command): expand\n\t  variables at once, and quote hdrdir.  fixed: [ruby-core:05680]\n\n\t* lib/mkmf.rb (libpathflag): quote paths.\n\nTue Aug 30 19:34:27 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/digest/md5/md5ossl.h, ext/digest/rmd160/rmd160ossl.h,\n\t  ext/digest/sha1/sha1ossl.h: include <stddef.h> to avoid\n\t  error in compilation with OpenSSL-0.9.8. [ruby-list:41068]\n\nTue Aug 30 16:19:40 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/init.rb: bug fix. [ruby-dev: 26920]\n\nTue Aug 30 16:13:00 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_count): new method.  [ruby-dev:26895]\n\nTue Aug 30 12:45:15 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_send): do not call private methods if the receiver\n\t  is specified.  [ruby-talk:153672]\n\nMon Aug 29 19:47:18 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/rdoc/usage.rb: improper exceptions. [ruby-dev:26870]\n\n\t* lib/rdoc/usage.rb: support the case when non-ruby code exists before\n\t  shebang. (this is needed when ri.bat is executed on windows)\n\nMon Aug 29 18:58:05 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/init.rb: make IRB -I option that is same befavior for ruby.\n\t  [ruby-dev:26872]\n\n\t* lib/irb/locale.rb: support to print help message when OS locale is\n\t  ja_JP.utf-8. [ruby-dev:26872]\n\nMon Aug 29 01:43:05 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#descend): new method.\n\t  (Pathname#ascend): ditto.\n\nMon Aug 29 00:35:09 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/time.rb: require 'date/format' instead of 'parsedate'.\n\t  (Time.parse): extract fractional seconds using Date._parse.\n\t  (Time.strptime): extract fractional seconds using Date._strptime.\n\t  [ruby-talk:153859]\n\nSat Aug 27 20:13:31 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/curses/curses.c ({curses,window}_clrtoeol): added. suggested\n\t  by Reyn Vlietstra.\n\n\t* ext/curses/curses.c: chtype in curses is not `char', rahter `long'.\n\t  [ruby-Bugs:2298]\n\n\t* ext/curses/view.rb: String =~ String is deprecated.\n\nThu Aug 25 15:48:58 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/win32ole/win32ole.c: suppress warnings. (win32)\n\nWed Aug 24 11:01:26 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/logger/test_logger.rb (test_shifting_size): should close log\n\t  device before unlink, since some platform cannot unlink opened\n\t  file.\n\nTue Aug 23 06:07:02 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/digest.rb: added SHA224, SHA256, SHA384 and SHA512.\n\t  these features are enabled if this library is compiled with\n\t  OpenSSL 0.9.8 or later.\n\n\t* test/openssl/test_digest.rb: add test for new digests.\n\nTue Aug 23 05:47:04 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ns_spki.c (ossl_spki_initialize): try to decode\n\t  the argument as a string.\n\n\t* ext/openssl/ossl_ns_pki.c (ossl_spki_to_der): new method.\n\n\t* ext/openssl/ossl_x509store.c (ossl_x509store_initialize): should\n\t  set @time to avoid warning.\n\n\t* ext/openssl/ossl_x509store.c (ossl_x509store_set_default_paths,\n\t  X509_STORE_add_cert, X509_STORE_add_crl): should raise error if\n\t  wrapped functions fails.\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_set_ciphers): fix error message.\n\n\t* ext/openssl/ossl_x509req.c (ossl_x509req_set_attributes): get rid\n\t  of unused variable.\n\n\t* test/openssl/test_ns_spki.rb: add new file.\n\n\t* test/openssl/test_x509store.rb: add test for error.\n\nTue Aug 23 01:11:40 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* sprintf.c (ruby__sfvwrite): should move `buf' to the end of\n\t  `result'. [ruby-dev:26859]\n\nMon Aug 22 23:51:19 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: ONIG_OPTION_CAPTURE_GROUP conflicts with\n\t  RE_OPTION_ONCE.  [ruby-dev:26852]\n\nMon Aug 22 20:11:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/vsnprintf.c (BSD__sprint): needs to call vwrite function\n\t  pointer.  fixed: [ruby-dev:26854]\n\nSat Aug 20 23:55:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): update paren_nest for brackets [].\n\nSun Aug 21 00:10:23 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/wsdl/xmlSchema/importer.rb (WSDL::XMLSchema::Importer#fetch): add\n\t  a workaround for importing an WSDL whose path begins with drive\n\t  letter.  [ruby-dev:26242]\n\nSat Aug 20 22:05:25 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* regexec.c (code_is_in_cclass_node): check code size.\n\t  [ruby-dev:26840]\n\nSat Aug 20 22:37:13 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb (write, shift_log?, shift_log): file shifting race\n\t  condition bug fixed.  [ruby-dev:26764]\n\n\t* test/logger/test_logger.rb: tests.\n\nFri Aug 19 18:13:39 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/time.rb (Time.apply_offset): fix a problem with last day of\n\t  month.  reported by Lucas Nussbaum.  [ruby-talk:152866]\n\nThu Aug 18 11:05:36 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (socketpair_internal): need to call open_ifs_socket()\n\t  to create sockets instead of winsock's socket().\n\t  fixed: [yarv-dev:581]\n\nWed Aug 17 23:58:05 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (terminate_process): take String message.\n\n\t* eval.c (rb_thread_switch): propagate the exception caused thread\n\t  termination directly.  fixed: [ruby-core:05552]\n\nWed Aug 17 21:20:05 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb: ensure that symbol_to_option is private_class_method\n\t  and all other methods are module_function\n\t  fixed: [ruby-dev:26808]\n\nWed Aug 17 00:05:46 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_add_method): preserve safe level in the environment\n\t  where a method is defined .\n\n\t* eval.c (rb_call0): restore preserved safe level in the method\n\t  execution.\n\n\t* parse.y (lambda): need separate block variable stack\n\t  manipulation and lpar_beg maintenance.  based on a patch found\n\t  in [ruby-core:05551] from Mauricio Fernandez <mfp at acm.org>.\n\n\t* parse.y (parser_yylex): adjust lpar_beg after tLAMBEG and\n\t  kDO_LAMBDA. [ruby-core:05551]\n\nMon Aug 15 07:24:38 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (rb_check_to_integer): add declaration.\n\n\t* object.c (rb_to_integer, rb_check_to_integer): argument constified.\n\nMon Aug 15 00:38:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_rescue2): reduce PUSH_TAG() as well as NODE_RESCUE.\n\t  [ruby-dev:26800]\n\n\t* range.c (range_check, range_init): reduce uselse exceptions.\n\nMon Aug 15 00:34:11 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (yycompile): remove unreachable code.  [yarv-dev:570]\n\nSat Aug 13 22:16:12 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_entry_secure): forgot final chdir.\n\nSat Aug 13 22:07:49 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_entry_secure): uses chdir(2) and check\n\t  if current directory is correct. [ruby-dev:26100] [ruby-dev:26226]\n\nSat Aug 13 21:11:05 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_VARIANT class.\n\n\t* ext/win32ole/tests/testall.rb: ditto.\n\n\t* ext/win32ole/tests/testOLEVARIANT.rb: ditto.\n\nSat Aug 13 18:51:26 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_block_pass): distinguish current block from others.\n\t  fixed: [ruby-dev:26274]\n\n\t* ext/stringio/stringio.c (strio_set_string): disallow nil.\n\t  http://www.rubyist.net/~nobu/t/20050811.html#c05\n\nSat Aug 13 08:01:59 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb: Kconv.kconv is now alias of Kconv.conv\n\t* ext/nkf/lib/kconv.rb: remove nkf dependend symbols fomr SYMBOL_TO_OPTION\n\nFri Aug 12 17:06:53 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_larglist): allow optional arguments even when\n\t  parentheses are omitted.  based on Nobu's patch from\n\t  http://www.rubyist.net/~nobu/t/20050805.html\n\n\t* parse.y (parser_yylex): update & maintain lpar_beg for detect\n\t  lambda parameters.\n\nThu Aug 11 23:29:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c: keep holding string after closed.\n\nThu Aug 11 20:48:40 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* numeric.c (fix_equal, fix_cmp, fix_gt, fix_ge, fix_lt, fix_le):\n\t  reduce coercing when a method knows about a operand type.\n\t  [ruby-dev:26789]\n\nThu Aug 11 13:01:48 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss: fixed sort bug. [ruby-list:41018]\n\n\t* lib/rss/1.0.rb (RSS::RDF::Channel#setup_maker_attributes):\n\t  removed self.\n\n\t* lib/rss/maker/base.rb (RSS::Maker::ItemsBase#<=>): use #date\n\t  instead of @date.\n\t  (RSS::Maker::Base::self.def_array_element): added #size.\n\n\t* lib/rss/maker/1.0.rb\n\t  (RSS::Maker::RSS10::Channel#to_rss,\n\t   RSS::Maker::RSS10::Items::Item#to_rss): cleared dc_dates set\n\t  upped by using #date.\n\n\t* lib/rss/maker/dublincore.rb\n\t  (RSS::Maker::ChannelBase, RSS::Maker::ItemsBase::ItemBase):\n\t  fixed opposite alias.\n\n\t* test/rss/test_setup_maker_1.0.rb\n\t  (RSS::TestSetupMaker10::test_setup_maker_items_sort): added some\n\t  tests for RSS::Maker::ItemsBase#do_sort.\n\nWed Aug 10 12:01:20 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb: simplifies Delegator classes; SimpleDelegator\n\t  now uses method_missing for all methods.\n\nWed Aug 10 10:38:50 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_mul0): multiply two numbers (x, y) without\n\t  normalizing the result.  x should be a big number.\n\t  [ruby-dev:26778]\n\n\t* bignum.c (rb_big_pow): use rb_big_mul0() instead of\n\t  rb_big_mul().\n\n\t* array.c (rb_ary_or, rb_ary_and, rb_ary_plus, rb_ary_diff):\n\t  revert the change on 2005-08-03.  Set operation on other item\n\t  should have in separate methods.\n\n\t* parse.y (shadowing_lvar_gen): warn when arguments shadows\n\t  external local variables.\n\n\t* parse.y (f_opt): optional arguments should not clobber external\n\t  local variables.\n\n\t* parse.y (f_rest_arg): rest arguments should not clobber external\n\t  local variables.\n\nWed Aug 10 10:29:40 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: fix bug on handling __ruby2val_optkeys().\n\n\t* ext/tk/lib/tk/itemconfig.rb: fix bug on handling\n\t  __item_ruby2val_optkeys().\n\n\t* ext/tk/lib/tk/canvas.rb: didn't check __item_ruby2val_optkeys().\n\n\t* ext/tk/lib/tkextlib/blt/component.rb: ditto.\n\nTue Aug  9 21:53:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (formal_assign): let default values override\n\t  arguments to zsuper.  fixed: [ruby-dev:26743]\n\nTue Aug  9 20:30:19 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* bignum.c (rb_big_coerce): allow bignum x bignum coercing.\n\t  [ruby-dev:26778]\n\nTue Aug  9 15:12:04 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: remove dangerous 'rb_jump_tag's.\n\n\t* ext/tk/lib/tk.rb: add __val2ruby_optkeys and __ruby2val_optkeys to\n\t  help to convert option values between ruby and tcl.\n\n\t* ext/tk/lib/tk/itemconfig.rb: add __item_val2ruby_optkeys and\n\t  __item_ruby2val_optkeys to help to convert option values between\n\t    ruby and tcl.\n\n\t* ext/tk/lib/tk/radiobutton.rb: use __ruby2val_optkeys for 'variable'\n\t  option (for the reason of backward compatibility).\n\n\t* ext/tk/lib/tk/composite.rb: clarify the arguments of super().\n\n\t* ext/tk/lib/tk/spinbox.rb: ditto.\n\n\t* ext/tk/lib/tk/text.rb: ditto.\n\n\t* ext/tk/lib/tk/validation.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/*: support to treat tkvariable-type\n\t  configure options.\n\nTue Aug  9 08:24:05 2005  Mauricio Fernandez  <mfp@acm.org>\n\n\t* parse.y (f_block_arg), eval.c (rb_yield_0): deal with dynamic\n\t  variable lambda arguments.  [ruby-core:05540]\n\nMon Aug  8 22:13:48 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (assign): deal with new block argument.\n\t  fixed: [ruby-core:05536]\n\n\t* eval.c (rb_node_arity): follow change of NODE_ARGS.\n\t  fixed: [ruby-dev:26761]\n\nMon Aug  8 21:28:13 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_fnmatch.rb: separated from test_file.rb.\n\nMon Aug  8 20:40:35 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_method.rb: added.  [ruby-dev:26761]\n\nMon Aug  8 01:26:37 2005  Mauricio Fernandez  <mfp@acm.org>\n\n\t* parse.y (f_larglist): mistake in syntax rule.  [ruby-core:05535]\n\nMon Aug  8 05:16:55 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.c (ossl_raise): should use ERR_peek_last_error\n\t  to get last error on the current thread. And should report\n\t  if errors are on the stack while OpenSSL.debug is true.\n\n\t* ext/openssl/ossl.c (ossl_get_errors): new method for debugging\n\t  this library.\n\nMon Aug  8 05:15:19 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpproxy.rb (HTTPProxyServer#intialize),\n\t  lib/webrick/httpserver.rb (HTTPServer#intialize),\n\t  lib/webrick/httpservlet/cgihandler.rb (CGIHandler#initialize),\n\t  lib/webrick/httpservlet/erbhandler.rb (ERBHandler#initialize),\n\t  lib/webrick/httpservlet/filehandler.rb(DefaultFileHandler#initialize):\n\t  super (called with no arguments) takes default value of optional\n\t  arguments. [ruby-dev:26743]\n\n\t* lib/webrick/httputils.rb: add a media-type \"text/html\" for .xhtml.\n\nSun Aug  7 23:52:39 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_super.rb: added optional arg tests.  [ruby-dev:26743]\n\t  the tests expects 1.8 behavior at this time.\n\nSat Aug  6 12:35:24 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/{tk.rb,tk/itemconfig.rb}: configure creates\n\t  TkVariable if key name is 'variable' or 'textvariable'\n\t  by default. [ruby-dev:26749]\n\n\t* ext/tk/lib/tk/{label,radiobutton}.rb: removed its own\n\t  {variable,textvariable} function.\n\n\t* ext/tk/lib/tk/variable.rb: retains backward conpatibility.\n\nFri Aug  5 12:48:31 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c: fixed memory leak when tk_funcall raised\n\t  exception. (copies argv into heap in tk_funcall instead of\n\t  caller)\n\nFri Aug  5 12:36:40 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): need to convert path separetor\n\t  before invoking install command.\n\nFri Aug  5 08:08:05 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (return_jump): fix \"can't across thread\" error message\n\t  when no thread associated.\n\t  http://www.namikilab.tuat.ac.jp/~sasada/diary/200507.html#d31\n\nFri Aug  5 00:25:12 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c: refactoring - extract ruby string <->\n\t  tcl object conversion as get_str_from_obj and get_obj_from_str.\n\nFri Aug  5 00:19:33 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (Init_Enumerator): provided features should have\n\t  extensions.\n\n\t* eval.c (rb_feature_p): returns type of the feature instead of\n\t  extension.\n\n\t* eval.c (search_required): ruby library should be prior to statically\n\t  linked extentions.  fixed: [ruby-dev:26711]\n\n\t* eval.c (formal_assign): returns position of rest arguments variable.\n\n\t* parse.y (f_rest_arg): use anonymous variable for rest arguments.\n\t  fixed: [ruby-dev:26647]\n\n\t* extmk.rb (extmake): needs to be wrapped in an Array.\n\nThu Aug  4 20:03:18 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* numeric.c (Init_Numeric): do not share implementation among\n\t  Fixnum#/ and Fixnum#div.  [ruby-core:05531]\n\nThu Aug  4 18:38:36 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: cannot compile for Tcl7.6/Tk4.2.\n\n\t* ext/tk/tcltklib.c: add nativethread consistency check.\n\n\t* ext/tk/stubs.c: ditto.\n\n\t* ext/tk/lib/tk.rb: forgot to define TclTkIp.encoding and encoding=\n\t  when Tcl is 7.6 or 8.0.\n\n\t* ext/tk/lib/tk/wm.rb: support to make some methods as options of\n\t  root or toplevel widget. [ruby-talk:150336]\n\n\t* ext/tk/lib/tk/root.rb: ditto.\n\n\t* ext/tk/lib/tk/toplevel.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/SUPPRT_STATUS: update RELEASE_DATE\n\nThu Aug  4 13:30:15 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_div): should not convert the result into\n\t  integer.  [ruby-core:05524]\n\nThu Aug  4 08:03:39 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): should not modify $mflags for each\n\t  extentions.\n\nThu Aug  4 00:25:48 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, Makefile.in, {bcc32,win32,wince}/Makefile.sub: integrated\n\t  macro definitions.\n\n\t* bcc32/Makefile.sub: LIBRUBY_SO should use DLDOBJS, not EXTOBJS.\n\n\t* {win32,wince}/Makefile.sub: separate config.h for compiler versions.\n\nThu Aug  4 00:24:59 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c: replacing is no longer needed.\n\nWed Aug  3 21:59:16 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/variable.rb: TkVariable#trace didn't work on\n\t  TkVariable retrived from TkVariable.new_hash.ref. [ruby-dev:26721]\n\nWed Aug  3 12:40:28 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* numeric.c (fix_plus): reduce coercing when a method knows about\n\t  a operand type.  [ruby-dev:26723]\n\n\t* numeric.c (fix_minus, fix_mul, fix_quo, fix_div, fix_mod,\n\t  fix_divmod, fix_pow): ditto.\n\n\t* bignum.c (rb_big_div, rb_big_modulo): export to reduce\n\t  coercing.\n\nWed Aug  3 10:13:52 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* configure.in, {bcc32,win32,wince}/Makefile.sub (HAVE_SNPRINTF,\n\t  HAVE_VSNPRINTF): use win32/win32.c's implementation instead of\n\t  missing/vsnprintf.c's.\n\n\t* win32/win32.[ch] (rb_w32_snprintf, rb_w32_vsnprintf): reverted.\n\nWed Aug  3 10:05:08 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check vsnprintf() and snprintf().\n\n\t* sprintf.c, missing/vsnprintf.c: made vsnprintf() and snprintf()\n\t  private.  fixed: [ruby-dev:26651]\n\nWed Aug  3 08:22:13 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect): revert [ruby-talk:111654]\n\t  changes at 2004-09-07.  [ruby-dev:26656]\n\nWed Aug  3 06:53:35 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_or): wraps the operand in an array if it is not\n\t  an array.  [ruby-talk:150495] [EXPERIMENTAL]\n\n\t* array.c (rb_ary_and, rb_ary_plus, rb_ary_diff): ditto.\n\nTue Aug  2 10:23:12 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c: use Tcl_[GS]etVar2Ex instead of\n\t  Tcl_Obj[GS]etVar2. (avoid Tcl_NewStringObj on supported platforms)\n\n\t* ext/tk/tcltklib.c: use ip_{get,set,unset}_variable2_core from\n\t  ip_{get,set,unset}_variable.\n\n\t* ext/tk/tcltklib.c: replaced Tcl_Panic with rb_bug.\n\nTue Aug  2 01:40:38 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/ping.rb (Ping.pingecho): should rescue StandardError.\n\t  [ruby-dev:26677]\n\nMon Aug  1 19:02:23 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c: refactoring - replaced rb_ivar_defined &\n\t  rb_ivar_get with single rb_attr_get call.\n\nMon Aug  1 18:44:08 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c (Tcl_GetStringResult): refactoring - define\n\t  alternative macro on Tcl7.x or earlier.\n\nMon Aug  1 13:53:55 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c (deleted_ip): refactoring - interpreter\n\t  deletion check. [ruby-dev:26664]\n\nMon Aug  1 01:08:21 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (check_insecure_method): use private_methods and\n\t  protected_methods instead of respond_to? to check method visibility.\n\t  [ruby-dev:26616]\n\n\t* test/drb/drbtest.rb: ditto.\n\n\t* test/drb/ut_drb.rb: ditto.\n\nSat Jul 30 18:49:44 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_TYPE#ole_typelib,\n\t  WIN32OLE_TYPE#implemented_ole_types.\n\n\t* ext/win32ole/tests/testOLETYPE.rb: ditto.\n\nFri Jul 29 16:12:02 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/context.rb: fix `irb --readline` option. [ruby-dev:40955]\n\nFri Jul 29 09:59:38 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_call0): fix calling zsuper from a method with anonymous\n\t  rest argument.  [ruby-dev:26639]\n\n\t* eval.c (rb_yield_0): push yielded node instead of yielding.\n\t  fixed: [yarv-dev:549]\n\nThu Jul 28 21:49:17 2005  IWATSUKI Hiroyuki  <don@na.rim.or.jp>\n\n\t* parse.y (rb_parser_end_seen_p): exclude from ripper.\n\t  <http://moonrock.jp/~don/d/200507.html#d28_t2>\n\n\t* sprintf.c (clearerr): remove standard macro before re-definition.\n\t  <http://moonrock.jp/~don/d/200507.html#d28_t3>\n\nThu Jul 28 18:09:55 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/stubs.c: When --enable-tcltk-stubs, the initialize\n\t  routine creates a Tcl/Tk interpreter and deletes it. However,\n\t  init cost of Tk's MainWindow is not so small. And that makes it\n\t  impossible to use libraries written with Tcl functions only on\n\t  an environment without a graphical display. This changes support\n\t  delaying initalization of Tk_Stubs until the script needs Tk.\n\n\t* ext/tk/stubs.h: New file. Define prototypes and return codes of\n\t  functions on stubs.c.\n\n\t* ext/tk/tcltklib.c: Support delaying initalization of Tk_Stubs\n\t  until the script needs Tk.\n\n\t* ext/tk/tcltklib.c: Show friendly error messages for errors on\n\t  initialization.\n\n\t* ext/tk/tcltklib.c: Avoid SEGV on ip_finalize() when ruby is\n\t  exiting and $DEBUG is true. (Not fix. If you know the reason of\n\t  why, please fix it.)\n\n\t* ext/tk/tkutil/tkutil.c (ary2list, ary2list2): bug fix on handling\n\t  of encoding.\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp#eval_string and bg_eval_string\n\t  don't work propery.\n\n\t* ext/tk/lib/tk.rb: Forget extending Tk::Encoding module to Tk.\n\n\t* ext/tk/lib/tk/variable.rb: TkVarAccess fails to initialize the\n\t  object for an element of a Tcl's array variable.\n\nThu Jul 28 17:23:37 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_larglist): allow block argument in lambda parameter\n\t  list without parenthesis.\n\nThu Jul 28 17:14:01 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (each_i): typo fixed.  [ruby-dev:26622]\n\nThu Jul 28 15:04:11 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_arg): better argument name duplication check\n\n\t* parse.y (new_args_gen): factored out name duplication check for\n\t  optional and rest arguments.\n\n\t* parse.y (new_bv_gen): allow shadowing outer local variables;\n\t  warning remains.\n\nThu Jul 28 13:46:06 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (ripper_warningS): the argument was omitted.\n\t  [ruby-dev:26621]\n\nThu Jul 28 11:30:57 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_larglist): allow bv_decl at the end of lambda\n\t  argument list.  [EXPERIMENTAL]\n\n\t* parse.y (new_bv_gen): allow local variable shadowing, with\n\t  warning in verbose mode.\n\nWed Jul 27 23:23:54 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (obj_free): make message format consistent with one from\n\t  gc_mark().  [ruby-talk:149668]\n\n\t* sprintf.c (quad_t): prepare quad_t as well.  [ruby-talk:149668]\n\nWed Jul 27 22:11:37 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin: removed. because the plugin\n\t  is imported in the tDiary plugin packages.\n\nWed Jul 27 19:11:53 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (cd): follow :noop option change. (This patch\n\t  is contributed by Doug Kearns)\n\nWed Jul 27 16:25:59 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (lambda): Perl6 style -> lambda expression. [NEW]\n\t  [VERY EXPERIMENTAL]\n\nWed Jul 27 10:43:14 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (id2ref): must not assign pointers to long int.  use\n\t  LONG_LONG instead if SIZEOF_LONG < SIZEOF_VOIDP.\n\t  [ruby-talk:149645]\n\n\t* ruby.h: use LONG_LONG to simplify the change.\n\t  [ruby-talk:149645]\n\nWed Jul 27 10:59:02 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_each): rewinddir(3) before iteration.\n\t  [ruby-talk:149628]\n\nWed Jul 27 02:34:58 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_throw): replace all '0x%lx' by '%p'.\n\t  [ruby-talk:149553]\n\n\t* missing/vsnprintf.c (BSD_vfprintf): '%p' need to handle 64bit\n\t  size pointer.  [ruby-talk:149553]\n\nTue Jul 26 22:41:28 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/sexp.rb: new method Ripper.sexp_raw.\n\n\t* ext/ripper/lib/ripper/sexp.rb (Ripper.sexp): returns more\n\t  readable tree.  This is suggested by Kirill A. Shutemov.\n\nTue Jul 26 22:05:12 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: merge a patch contributed by Daniel Berger,\n\t  with some modification. (RubyForge #2128)\n\nTue Jul 26 18:11:33 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h: support LLP64 model.  [ruby-talk:149524]\n\nTue Jul 26 12:57:40 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/openssl_missin.c: include <openssl/engine.h> before\n\t  <openssl/x509_vfy.h> to avoid compilation error of mswin32.\n\t  suggested by NAKAMURA Usaku.\n\nMon Jul 25 23:48:55 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.[ch]: (rb_w32_vsnprintf, rb_w32_snprintf): removed.\n\nMon Jul 25 21:30:46 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: Borland MAKE doesn't look for file names which have paths\n\t  from VPATH.  fixed: [ruby-dev:26604]\n\n\t* ruby.h (NORETURN, DEPRECATED): moved just after config.h.\n\n\t* {win32,wince}/Makefile.sub: vsnprintf() is in missing now.\n\n\t* {bcc32,win32,wince}/Makefile.sub: moved CPPFLAGS only for ruby\n\t  source to XCFLAGS.\n\nMon Jul 25 14:10:02 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: fix en-bugged part in the last commit.\n\nMon Jul 25 13:45:18 2005  NAJIMA Hiroki  <najima@mickey.ai.kyutech.ac.jp>\n\n\t* io.c: check HAVE_SYS_IOCTL_H before including the header.\n\t  [ruby-dev:26610]\n\nSat Jul 23 16:48:12 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_s_load): should check\n\t  OPENSSL_NO_STATIC_ENGINE.\n\nSat Jul 23 11:46:30 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_fd_select): the all three fd_sets must be long enough for\n\t  select.  fixed: [ruby-talk:149059]\n\nSat Jul 23 10:01:41 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_vsprintf, rb_sprintf): new functions return new String,\n\t  using missing/vsnprintf.c.  [ruby-dev:26580]\n\n\t*  missing/vsnprintf.c: made the output changeable.\n\nFri Jul 22 21:06:08 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* bignum.c (rb_big_eq): reduce isnan().  [ruby-dev:26600]\n\n\t* numeric.c (flo_eq, flo_gt, flo_ge, flo_lt, flo_le): ditto.\n\nFri Jul 22 15:02:39 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: moved copyright description to lib/rss.rb.\n\n\t* lib/rss.rb: added for convenience.\n\n\t* sample/rss/re_read.rb: added #to_s sample.\n\n\t* sample/rss/blend.rb: use 'require \"rss\"' instead of\n\t  'require \"rss/*\"'.\n\t* sample/rss/list_description.rb: ditto.\n\t* sample/rss/rss_recent.rb: ditto.\n\t* sample/rss/tdiary-plugin/rss-recent.rb: ditto.\n\n\t* sample/rss/tdiary-plugin/rss-recent.rb: 0.0.6 -> 0.0.7.\n\nFri Jul 22 14:37:43 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb (RSS::Parser#initialize): accept HTTP/FTP\n\t  URI and local file path too.\n\n\t* test/rss/test_parser.rb (RSS::TestParser#test_parse): test\n\t  for the above.\n\nFri Jul 22 07:01:42 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil/tkutil.c (tk_conv_args): forget to revert\n\t  thread_critical and gc_disable when raise ArgumentError.\n\n\t* ext/tk/lib/remote-tk.rb: RemoteTkIp doesn't need to include TkUtil.\n\n\t* ext/tk/tcltklib.c: add TclTkIp#has_mainwindow? method.\n\n\t* ext/tk/lib/tk.rb: add Tk.has_mainwindow? method.\n\n\t* ext/tk/lib/multi-tk.rb: add MultiTkIp#has_mainwindow? method.\n\n\t* ext/tk/lib/remote-tk.rb: add RemoteTkIp#has_mainwindow? method.\n\n\t* ext/tk/lib/multi-tk.rb: slave IP fail to exit itself when $SAFE==4.\n\n\t* ext/tk/lib/multi-tk.rb: remove constants from MultiTkIp module to\n\t  avoid access from external.\n\n\t* ext/tk/lib/multi-tk.rb: check_root flag is ignored on slave IPs'\n\t  mainloop.\n\n\t* ext/tk/lib/multi-tk.rb: hang-up Tk.mainloop called on a slave IP\n\t  with $SAFE==4.\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp#bg_eval_proc doesn't work\n\t  properly.\n\n\t* ext/tk/lib/multi-tk.rb: add MultiTkIp#set_cb_error(proc) and\n\t  cb_error(exc) to log errors at callbacks on safe slave IPs.\n\n\t* ext/tk/lib/multi-tk.rb: fail to get an available slave IP object\n\t  when call Tk.mainloop in the block which is given to new_* method,\n\t    because cannot finish initialize while the root widget is alive.\n\n\t* ext/tk/lib/multi-tk.rb: fail to control a slave IP when Tk.mainloop\n\t  runs on the IP.\n\nThu Jul 21 01:00:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/{nkf.c,utf8tbl.c,config.h}:\n\t  import 1.76\n\t  [ruby-dev:26592] nkf constification\n\nWed Jul 20 19:18:52 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (S_ISREG): need to define S_ISREG before it is used first.\n\nWed Jul 20 18:33:15 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* io.c (wsplit_p): patch for the environment where\n\t  fcntl(F_GETFL, O_NONBLOCK) is not supported. in that case,\n\t  set FMODE_WSPLIT without fcntl check. [ruby-dev:26566]\n\nWed Jul 20 18:07:11 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_io_ctl): update FMODE_WSPLIT_INITIALIZED and FMODE_WSPLIT\n\t  by F_SETFL.\n\nWed Jul 20 10:04:51 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_class_path): need to adjust snprintf() len for\n\t  teminating NUL.  [ruby-dev:26581]\n\nWed Jul 20 03:58:52 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/socket/socket.c: sorry, BeOS also uses HAVE_CLOSESOCKET,\n\t  so reverted.\n\n\t* ext/socket/extconf.rb: should not define HAVE_CLOSESOCKET\n\t  on windows.\n\nWed Jul 20 03:12:21 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/socket/socket.c: should not undef close() on win32.\n\t  it's defined to rb_w32_close(), otherwise handle leaks.\n\t  [ruby-Bugs-2131]\n\nWed Jul 20 00:48:16 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (syserr_initialize): don't use str before StringValue()\n\t  check.  [ruby-dev:26579]\n\nTue Jul 19 22:47:29 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (syserr_initialize): add 1 byte for snprintf() size for\n\t  NUL at the end.  [ruby-dev:26574]\n\nTue Jul 19 17:16:34 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (trap): remove sigexit(); handle \"EXIT\" via sig_exec().\n\t  [ruby-dev:26440]\n\n\t* io.c (rb_io_inspect): replace sprintf() with \"%s\" format all\n\t  over the place by snprintf() to avoid integer overflow.\n\nTue Jul 19 14:10:50 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c: rbtk_eventloop_depth is used as int.\n\n\t* ext/tk/tcltklib.c: rbtk_pending_exception is tested with\n\t  NIL_P, so should assign Qnil instead of 0 (Qfalse).\n\n\t* ext/tk/tcltklib.c (ip_invoke_real): fixed memory leak when\n\t  ip is deleted.\n\nTue Jul 19 13:19:46 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/variable.rb: For symmetry, add TkVariable#string. It\n\t  returns a string even if the default value type of the TkVariable\n\t  object is not \"string\".\n\nMon Jul 18 21:39:18 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* eval.c (rb_call0): make the pointer to NODE volatile\n\t  instead of NODE itself.\n\nMon Jul 18 14:32:21 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_call0): make body volatile to avoid possible optimization\n\t  problem.\n\t  [ruby-dev:26195]\n\nMon Jul 18 12:23:27 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/io/wait/wait.c: wrong backport from trunk, and compile error on\n\t  platforms fd_set is not a bit set.  fixed: [ruby-dev:26562]\n\nMon Jul 18 09:36:25 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h (FMODE_WSPLIT, FMODE_WSPLIT_INITIALIZED): new constant.\n\n\t* io.c (wsplit_p): new function.\n\t  (io_fflush): split writing data by PIPE_BUF if wsplit_p is true in\n\t  multi-threaded mode.\n\t  (io_fwrite): ditto.\n\t  [ruby-dev:26540]\n\nMon Jul 18 05:00:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: import nkf.c 1.73\n\t  fix: TestKconv 1F\n\nSun Jul 17 13:46:54 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/io/wait/extconf.rb, ext/io/wait/wait.c: Win32 platforms support.\n\nSat Jul 16 23:43:16 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (Init_Enumerator): wrong argument specs.\n\t  [ruby-core:05481]\n\nSat Jul 16 15:52:50 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.[hc]: constified socket functions. [ruby-dev:26553]\n\nFri Jul 15 23:59:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_c.rb (handle_class_module): handle a\n\t  module enclosed in a built-in module.  fixed: [ruby-talk:148239]\n\n\t* lib/rdoc/parsers/parse_c.rb (find_body): allow macros as methods.\n\n\t* lib/rdoc/parsers/parse_c.rb (find_call_seq): allow :nodoc: modifier\n\t  in C.  [ruby-core:04572]\n\nFri Jul 15 23:20:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (Init_Enumerator): use an internal directly.\n\nFri Jul 15 07:58:10 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#accept_client):\n\t  sockets should be non-blocking mode. [ruby-dev:26405]\n\n\t* lib/webrick/utils.rb (WEBrick::Utils.set_non_blocking): new method.\n\nFri Jul 15 00:11:36 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enumeratorize): create new enumerator for current method if\n\t  no block is given.\n\n\t* enumerator.c: moved from ext/enumerator.\n\nThu Jul 14 18:27:35 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_strerror): should return correct message\n\t  for ENAMETOOLONG and ENOTEMPTY. (bcc32) [ruby-dev:26533]\n\n\t* win32/win32.c (rb_w32_strerror): stripped CR LF on the tail.\n\t  (bcc32) [ruby-dev:26533]\n\nThu Jul 14 00:45:42 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* LEGAL (ext/nkf/nkf-utf8): updated from nkf1.7 to nkf-utf8.\n\nWed Jul 13 22:44:00 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y: remove static variables.  [ruby-dev:26530]\n\nWed Jul 13 19:36:29 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_mkdir): should set EEXIST (not EACCES)\n\t  if file or directory already exists. (bcc32) [ruby-dev:26508]\n\n\t* win32/win32.c (rb_w32_rmdir): should set ENOTDIR (not EINVAL)\n\t  if it is not directory. (bcc32, win32)\n\n\t* win32/win32.c (rb_w32_rmdir, rb_w32_unlink): restore\n\t  FILE_ATTRIBUTE_READONLY flag on function failure.\n\nWed Jul 13 12:40:00 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: TclTkLib.do_one_event doesn't work.\n\n\t* ext/tk/lib/tk.rb: Tk.thread_update is available.\n\nTue Jul 12 23:32:11 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: keep curdir unexpanded.\n\nMon Jul 11 23:50:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c, intern.h (rb_proc_call, rb_obj_method, rb_method_call):\n\t  export.\n\n\t* ext/enumerator/enumerator.c (enumerator_with_index): [EXPERIMENTAL]\n\t  added a new method Enumerator#with_index.  [ruby-talk:147728]\n\nMon Jul 11 08:31:29 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regparse.c (fetch_escaped_value): mask values following \\c in\n\t  regexp.  fixed: [ruby-dev:26500]\n\nSun Jul 11 05:18:17 2005  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* lib/xmlrpc/server.rb (XMLRPC::Server): Switch from GServer over to\n\t  WEBrick. This makes file lib/xmlrpc/httpserver.rb obsolete (at least it is\n\t  no further used by the XML-RPC library).\n\nMon Jul 11 02:50:23 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI::Socket#request_line):\n\t  mistook to merge the patch of [ruby-dev:26235] at\n\t  revision 1.11.\n\nSun Jul 10 23:58:04 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#unlink): try Dir.unlink first to\n\t  avoid unlink a directory by root.\n\t  cf. [ruby-dev:26237]\n\nSun Jul 10 12:47:01 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/debug.rb (debug_command): added a deficient format specifier.\n\t  fixed: [ruby-core:05419]\n\nSat Jul  9 22:02:37 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_method_dispid): convert dispid\n\t  in Ruby and C by INT2NUM and NUM2INT.\n\n\t* ext/win32ole/win32ole.c (ole_invoke2): ditto.\n\n\t* ext/win32ole/test/testWIN32OLE.rb: ditto.\n\n\t* ext/win32ole/test/testOLEMETHOD.rb: ditto.\n\nFri Jul  8 15:45:04 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.4 -> 0.1.5.\n\n\t* test/rss/test_version.rb (RSS::TestVersion#test_version):\n\t  ditto.\n\n\t* lib/rss/0.9.rb (RSS::Rss::Channel::Item::Category):\n\t  domain attribute of <category> is optional. Thanks to\n\t  Chris Lee <clee@kde.org>.\n\n\t* test/rss/test_parser.rb (RSS::TestParser#test_category20):\n\t  adjusted test case.\n\nWed Jul  6 18:45:53 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_pattern_match): now returns nil.\n\t  [ruby-core:05391]\n\nMon Jul  4 14:35:52 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/svr.rb: service can be stopped by ill-behaved client; use\n\t  tsvr.rb instead.\n\nMon Jul  4 13:25:21 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/erf.c: original erf.c by prof. Okumura is confirmed to\n\t  be public domain.  reverted BSD implementation.\n\nWed Jul  6 11:15:21 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (open_ifs_socket): new function.\n\n\t* win32/win32.c (StartSockets, rb_w32_socket): use open_ifs_socket()\n\t  instead of socket().\n\t  all changes are derived from [ruby-core:5388].\n\nWed Jul  6 00:15:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/{nkf.c,utf8tbl.c,config.h}:\n\t  imported nkf.c 1.70 (support UTF-8-MAC)\n\n\t* ext/nkf/lib/kconv.rb: add :utf8mac and :internalunicode\n\nTue Jul  5 23:44:06 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb: expand source library path.\n\nTue Jul  5 23:27:14 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (sort_2): get rid of yet another bcc's bug.\n\t  fixed: [ruby-core:05152]\n\n\t* eval.c (rb_thread_save_context): must not switch contexts during\n\t  re-allocating stack.  fixed: [ruby-core:05219]\n\nTue Jul  5 15:15:10 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil.c: fix typo.\n\nTue Jul  5 14:52:56 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: bug fix on treating Unicode strings.\n\n\t* ext/tk/tcltklib.c: add methods to treat encoding mode.\n\n\t* ext/tk/MANUAL_tcltklib.eng: add description of TclTkLib#encoding,\n\t  encoding_system, and so on.\n\n\t* ext/tk/MANUAL_tcltklib.eucj: ditto.\n\n\t* ext/tk/tkutil/tkutil.c: fail to create a Tcl's list string from\n\t  an array including multiple kind of encoded strings.\n\n\t* ext/tk/lib/tk.rb: ditto.\n\n\t* ext/tk/lib/multi-tk.rb: 2nd arg of _{to|from}UTF8 is omissible.\n\n\t* ext/tk/lib/remote-tk.rb: ditto.\n\n\t* ext/tk/lib/tk.rb: override TclTkLib#encoding and encoding= to\n\t  use TkCore::INTERP.encoding and encoding=.\n\n\t* ext/tk/lib/tk.rb: when \"require 'tk'\" and $KCODE=='NONE', check\n\t  DEFAULT_TK_ENCODING to decide Ruby/Tk's system encoding mode.\n\n\t* ext/tk/lib/tk/encodedstr.rb: check both of Tk.encoding and\n\t  Tk.encoding_system. Tk.encoding has higher priority.\n\n\t* ext/tk/lib/tk/optiondb.rb: ditto.\n\n\t* ext/tk/lib/tk/spinbox.rb: ditto.\n\n\t* ext/tk/lib/tk/validation.rb: ditto.\n\n\t* ext/tk/lib/tk/namespace.rb: arguemnts for TclTkIp#_merge_tklist\n\t  should be UTF-8 strings.\n\nMon Jul  4 19:29:32 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/set.rb: test change to follow revision 1.28. (duck typing?)\n\nMon Jul  4 11:23:50 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/{dbm,gdbm,sdbm}/test_{dbm,gdbm,sdbm}.rb: skip some tests\n\t  which using fork on fork-less platforms.\n\nSun Jul  3 23:26:30 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/wsdl/document/test_rpc.rb: compare formatted time string of\n\t  Time objects instead of comparing Time objects itself to avoid\n\t  unintended conflict of usec part.  [ruby-dev:26220]\n\nSat Jul  2 22:41:04 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c (unix_send_io, unix_recv_io): support x86-64 and\n\t  IA64.\n\nSat Jul  2 17:06:23 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* defines.h (FLUSH_REGISTER_WINDOWS): defined for IA64.\n\t  (flush_register_windows): declare flush_register_windows.\n\n\t* eval.c (flush_register_windows): new function.\n\n\t* ruby.h (NOINLINE): move up to be effective in defines.h.\n\nSat Jul  2 15:19:41 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: check select_large_fdset.\n\n\t* eval.c: use select_large_fdset to support large file descriptors\n\t  on Solaris.  [ruby-dev:26404]\n\nFri Jul  1 17:55:08 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_neg): may be accessing bogus pointer value.\n\nFri Jul  1 15:50:12 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* missing/erf.c: need to include some headers for some platforms.\n\n\t* win32/win32.h (copysign, scalb): define for compatibility with\n\t  other platforms. [ruby-dev:26430]\n\nFri Jul  1 15:37:42 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/crypt.c: modified to make it compilable on platforms\n\t  other than BSD.  [ruby-dev:26430]\n\n\t* missing/erf.c: ditto.  code from <exp.c> merged.\n\nFri Jul  1 12:44:56 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_http): refine post_connection_check\n\t  call.\n\nFri Jul  1 11:34:08 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/crypt.c: replaced with 4.4BSD version.\n\n\t* missing/erf.c: ditto.\n\n\t* missing/vsnprintf.c: removed the third provision from the old\n\t  BSD license.  [ruby-core:05177]\n\nFri Jul  1 01:45:21 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_min, enum_max): must not return Qundef.\n\t  fixed: [ruby-core:05299]\n\nFri Jul  1 00:18:40 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator::respond_to): respond_to? must check\n\t  destination object.  [ruby-talk:146894]\n\nThu Jun 30 23:52:12 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (trap): non-string trap hander was ignored.\n\t  fixed: [ruby-dev:26417]\n\nThu Jun 30 19:00:21 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex::identify_number): alternative implements\n\t  for [ruby-dev:26410]. And support a numeric form of 0d99999.\n\nThu Jun 30 17:28:10 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex::identify_number): should not treat\n\t  plain zero as an octal number.  [ruby-dev:26410]\n\nThu Jun 30 15:13:16 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): pre-evaluate argument for unambiguous\n\t  evaluation order.  [ruby-dev:26383]\n\nThu Jun 30 14:48:23 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/http.rb (Net::HTTP#connect, Net::HTTP#request): should\n\t  not send proxy username and password to origin servers.\n\t  [ruby-dev:25673]\n\n\t* lib/net/http.rb (Net::HTTP::ProxyDelta#edit_path): should not\n\t  send HTTPS scheme URL to origine servers. [ruby-dev:25689]\n\nThu Jun 30 09:53:56 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator::method_missing): forward unknown\n\t  method to the destination.  suggested by\n\t  <christophe.poucet@gmail.com>.  [ruby-talk:146776]\n\nWed Jun 29 00:03:20 2005  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* regparse.c (fetch_token): avoid warning of unused goto tag.\n\t  [ruby-dev:26389]\n\nTue Jun 28 21:59:29 2005  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* dir.c, eval.c, parse.y, process.c, ruby.c: avoid warning \"unused\n\t  variable\" [ruby-dev:26387]\n\n\t* dir.c (glob_helper): avoid warning \"enumeration value `RECURSIVE'\n\t  not handled in switch\" [ruby-dev:26392]\n\nTue Jun 28 01:52:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb: add Kconv::VERSION\n\t* ext/nkf/lib/kconv.rb (conv): can process arrayed options\n\t* ext/nkf/nkf-utf8/nkf.c: imported Revision 1.69\n\t* ext/nkf/nkf-utf8/utf8tbl.c: imported Revision 1.9\n\nSat Jun 25 23:30:51 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (detach_process_watcher): terminate process watcher\n\t  thread right after rb_waitpid() succeed.  [ruby-talk:146430]\n\nSat Jun 25 17:12:20 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.parse_query): should\n\t  discard if key=val pair is empty. patch from Gary Wright.\n\nSat Jun 25 15:49:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_min, enum_max, enum_min_by, enum_max_by): do not ignore\n\t  nil as the first element.\n\nSat Jun 25 15:13:54 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/set.rb (Set#==): [ruby-dev:25206] (ported from ruby_1_8 branch)\n\nSat Jun 25 11:37:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb: remove constants\n\t  Iconv_Shift_JIS, Uconv_EUC_JP, Iconv_UTF8\n\t* ext/nkf/lib/kconv.rb: add module functions to Kconv\n\t  conv, {eucjp, shiftjis, utf8}?, guess_as_symbol\n\t* ext/nkf/lib/kconv.rb: add instance methods to String\n\t  conv, {eucjp, shiftjis, utf8}?\n\t* ext/nkf/lib/kconv.rb: add aliases Kconv.to_* and String#to_*\n\nFri Jun 24 17:00:00 2005  Shigeo Kobayashi  <shigeo@tinyforest.jp>\n\n\t* ext/bigdecimal/bigdecimal.c: patch from \"NATORI Shin\"\n\t  (u-tokyo.ac.jp) applied to fix rounding bug.\n\nFri Jun 24 13:17:45 2005  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/common.rb, lib/uri/generic.rb: fixed typo in documents and\n\t  replaced some existent domain name with \"example.com\".\n\nFri Jun 24 12:23:19 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: fix typo on Tk.grid_propagate.\n\n\t* ext/tk/lib/tk.rb: Tk.event_generate and TkWindow#event_generate\n\t  accept TkEvent::Event object as context argument.\n\n\t* ext/tk/lib/tk/event.rb: add TkEvent::Event#valid_fields and\n\t  valid_for_generate to get field parameters of event_generate.\n\nThu Jun 23 23:55:59 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* runruby.rb: should load built rbconfig.rb.\n\nThu Jun 23 16:53:15 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/canvastag.rb: TkcGroup.new cannot include given items.\n\t  TkcGroup#exclude calls wrong method.\n\t  Add alias TkcGroup#add [ruby-talk:146049].\n\n\t* ext/tk/lib/tk/canvas.rb: TkCanvas#dtag and some subcommands of\n\t  TkCanvas#addtag fail to treat a TkcTag argument.\n\n\t* ext/tk/lib/tk/event.rb: add TkEvent::Event#generate to help to send\n\t  current event to other widgets.\n\nMon Jun 20 18:44:04 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (FUNCTION_CALL_MAY_RETURN_TWICE): DUMMY_SETJMP is replaced\n\t  because setjmp is not enough to fix getcontext and SPARC register\n\t  window problem.\n\nMon Jun 20 17:15:51 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/dbm/dbm.c (fdbm_closed): new method DBM#closed?\n\n\t* ext/gdbm/gdbm.c (fgdbm_closed): new method GDBM#closed?\n\n\t* ext/sdbm/init.c (fsdbm_closed): new method SDBM#closed?\n\n\t* test/dbm/test_dbm.rb, test/gdbm/test_gdbm.rb, test/sdbm/test_sdbm.rb\n\t  (teardown): close all db objects before deleting data files.\n\n\t* win32/win32.{ch} (unlink): hook runtime function to change\n\t  file attribute before unlinking.\n\t  merge from 1.8, see [ruby-dev:26360]\n\nMon Jun 20 02:15:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (define_final): document fix: finalizers never get called\n\t  before target object is destroyed.\n\nMon Jun 20 01:26:49 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/openssl_missing.c, ext/openssl/ossl.h,\n\t  ext/openssl/ossl_asn1.c, ext/openssl/ossl_bio.c,\n\t  ext/openssl/ossl_pkcs12.h, ext/openssl/ossl_x509req.c: avoid\n\t  compiler warnings. suggested by Michal Rokos.\n\nSun Jun 20 00:22:02 2005  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* lib/xmlrpc/utils.rb: Patch by Nobuhiro IMAI fixes the following\n\t  problem: Default value modification on\n\t  Module#public_instance_methods (false -> true) breaks\n\t  s.add_handler(XMLRPC::iPIMethods(\"sample\"), MyHandler.new) style\n\t  security protection.\n\n\t* lib/xmlrpc/client.rb: Aliased XMLRPC::Client#new2 as\n\t  XMLRPC::Client#new_from_uri, and #new3 as #new_from_hash.\n\nSun Jun 19 14:09:07 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (run_final): reduce unnecessary object allocation during\n\t  finalization.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): deferred finalizers list should\n\t  be cleared before calling them.  fixed: [ruby-talk:145790]\n\nSat Jun 18 01:15:36 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_readline): do not set\n\t  rl_{in,out}stream.\n\n\t* ext/readline/readline.c (readline_s_set_input): new method.\n\n\t* ext/readline/readline.c (readline_s_set_output): new method.\n\n\t* lib/irb/input-method.rb: set Readline.input and Readline.output.\n\nFri Jun 17 13:01:40 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/time.rb (Time.parse): fix previous leap seconds support.\n\t  (Time.rfc2822): ditto.\n\t  (Time.xmlschema): ditto.\n\nThu Jun 16 15:41:32 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (load_file): '!' is already read. reported by gotoyuzo.\n\nThu Jun 16 15:09:38 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c (ip_rb_threadVwaitCommand): Tcl_Release\n\t  was missing.\n\nThu Jun 16 13:34:48 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add Tk.getMultiple{Open|Save}File() which return\n\t  an Array of selected files.\n\nThu Jun 16 12:53:24 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/time.rb (Time.parse): \"Fri Jan  1 08:59:60 +0900 1999\" was\n\t  parsed as \"Fri Jan 01 09:00:00 JST 1999\" even on an environment\n\t  which supports leap seconds.\n\t  (Time.rfc2822): ditto.\n\t  (Time.xmlschema): ditto.\n\nThu Jun 16 00:13:41 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Resource#ttl): new attribute.\n\t  (Resolv::DNS::Resource#==): ignore @ttl.\n\t  (Resolv::DNS::Resource#hash): ditto.\n\t  (Resolv::DNS::Message::MessageDecoder#get_rr): save TTL in a\n\t  Resource object.\n\t  based on [ruby-core:5190] by Eric Hodel.\n\nWed Jun 15 18:26:39 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: support \"tk inactive\" sub-command [for Tcl/Tk8.5a3]\n\n\t* ext/tk/lib/tk/namespace.rb: support \"namespace path\" sub-command and\n\t  'namespace ensemble' sub-command [for Tcl/Tk8.5a3]\n\nTue Jun 14 02:02:43 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil/tkutil.c: add TkUtil::CallbackSubst.subst_arg(m, ...)\n\t  & _define_attribute_aliases(hash) to get substitution-argument from\n\t  attributes (e.g. subst_arg(:x,:y,:num,:button) --> \"%x %y %b %b \").\n\n\t* ext/tk/lib/tk/event.rb: use _define_attribute_aliases().\n\nMon Jun 13 13:03:08 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* hash.c (ruby_setenv): fixed SEGV. [ruby-dev:26186]\n\nMon Jun 13 01:54:20 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (sigexit): call rb_thread_signal_exit() instead of\n\t  rb_exit().  [ruby-dev:26347]\n\n\t* eval.c (rb_thread_signal_exit): a new function to exit on main\n\t  thread.\n\n\t* eval.c (rb_thread_switch): exit status should be retrieved from\n\t  ruby_errinfo.\n\n\t* eval.c (rb_f_exit): ensure exit(0) should call\n\t  exit(EXIT_SUCCESS).\n\nMon Jun 13 01:20:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_gc_mark_threads): curr_thread may not be part of the\n\t  thread list.  [ruby-dev:26312]\n\nSat Jun 11 22:34:44 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y: missing arg_paren event.  This patch is contributed by\n\t  Mitchell N Charity.\n\nFri Jun 10 23:55:17 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (unknown_node): show more information.  [ruby-dev:26196]\n\nFri Jun 10 23:35:34 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/mkdir.c: remove. [ruby-core:05177]\n\nFri Jun 10 22:54:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing.h: fd_set stuffs need sys/types.h.  fixed: [ruby-core:05179]\n\nThu Jun  9 23:58:12 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/Win32API/Win32API.c (Win32API_Call): disable global\n\t  optimization. fixed: [ruby-core:05143]\n\nThu Jun  9 23:35:22 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_inject): default the result value to Qundef to use\n\t  first element as initial value if not given.\n\nThu Jun  9 19:55:41 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (ruby_longjmp): new macro to call longjmp, setcontext, etc.\n\t  (ruby_setjmp): new macro to call setjmp, getcontext, etc.\n\t  (ruby_setjmp): call setjmp before getcontext to avoid IA64 register\n\t  stack problem.\n\t  [ruby-talk:144939]\n\n\t* gc.c (Init_stack): remove IA64_MAGIC_STACK_LIMIT.\n\nThu Jun  9 18:24:16 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in, eval.c, gc.c: use libunwind only on HP-UX.\n\t  [ruby-dev:26297]\n\nThu Jun  9 14:46:32 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (env_aset): do not treat nil as key-removing value.\n\t  [ruby-list:40865]\n\n\t* parse.y (method_call): allow aref expression ([]) to take a\n\t  block.\n\n\t* parse.y (block_dup_check): a function to check duplication of\n\t  a block argument and an actual block.\n\nThu Jun  9 11:55:34 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (SimpleDelegator::__setobj__): need check for\n\t  recursive delegation.  [ruby-core:04940]\n\nThu Jun  9 11:50:43 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb: add underscore aliases CGI::escape_html,\n\t  CGI::unescape_html, CGI::escape_element, CGI::unescape_element.\n\t  [ruby-core:05058]\n\nWed Jun  8 18:47:10 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-expr-beg): fix looking point drift.\n\nWed Jun  8 12:25:59 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_nitems): add the block feature to Array#nitems.\n\t  suggested by Bertram Scharpf <lists@bertram-scharpf.de> in\n\t  [ruby-talk:134083].\n\nWed Jun  8 11:11:34 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (get2comp): revert all prior changes, and calculate\n\t  proper 2's complement for negative numbers.\n\nWed Jun  8 08:33:10 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_min_by, enum_max_by): return nil if no iteration.\n\t  fixed: [ruby-dev:26245]\n\n\t* eval.c (rb_need_block): ensure a block is given.\n\n\t* eval.c (backtrace): skip successive frames sharing same node.\n\nWed Jun  8 01:27:06 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bignorm): fixed a bug in normalizing negative numbers\n\t  reported from Honda Hiroki <hhonda@ipflex.com>.  normalizing\n\t  should not trim leading zeros from negative numbers.\n\n\t* bignum.c (rb_cstr_to_inum): must remove leading zeros for this\n\t  case.\n\nWed Jun  8 00:15:08 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_getaddrinfo__aix): merged a patch from\n\t  KUBO Takehiro <kubo at jiubao.org> to support AIX.  [ruby-list:40832]\n\nWed Jun  8 00:09:01 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb (Array::to_yaml): merged a patch from\n\t  Tilman Sauerbeck <tilman at code-monkey.de>.  [ruby-core:05055]\n\n\t* lib/yaml/rubytypes.rb (Hash::to_yaml): ditto.\n\nWed Jun  8 00:00:01 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/curses/curses.c (curses_insertln): merged a patch from\n\t  TAKAHASHI Tamotsu <ttakah at lapis.plala.or.jp>.  [ruby-ext:02305]\n\nTue Jun  7 19:34:15 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/init.rb (IRB::IRB.rc_file_generators): more flexible\n\t  IRB.rc_file_generators.  [ruby-core:05163]\n\nTue Jun  7 18:39:31 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/thread.rb: RDoc documentation from Eric Hodel\n\t  <drbrain@segment7.net> added.  [ruby-core:05148]\n\nTue Jun  7 18:30:04 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): add .SUFFIXES from depend file.\n\t  fixed: [ruby-dev:26294]\n\nTue Jun  7 17:20:39 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): allow ';;' to be block terminator in\n\t  place of 'end'.  [highly experimental]\n\n\t* misc/ruby-mode.el (ruby-block-end-re): allow ';;' to be a\n\t  negative indent trigger.  [highly experimental]\n\n\t* parse.y (parser_yylex): small error fixed.\n\nTue Jun  7 16:45:49 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): \"respond_to?:foo\" should be interpreted\n\t  as \"respond_to? :foo\" at the command level.  [ruby-talk:144303]\n\nTue Jun  7 16:32:53 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): raise exception on debug mode (-d),\n\t  not verbose mode (-v/-w).  [ruby-core:05123]\n\n\t* sprintf.c (rb_f_sprintf): warn always on verbose mode.\n\nTue Jun  7 10:30:49 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: slave-ip fails to call procedures\n\t  delegated by master-ip.\n\nMon Jun  6 16:35:18 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/ripper/depend: add .y to .SUFFIXES for nmake.\n\nSun Jun  5 23:00:35 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/console.rb: create console when required\n\n\t* ext/tk/sample/tkextlib/tile/demo.rb: fix TypeError & create Console\n\nSun Jun  5 10:23:52 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* signal.c (ruby_signal): don't set SA_RESTART.\n\t  [ruby-dev:26276]\n\nSat Jun  4 14:55:18 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* test/dbm/test_dbm.rb: merged from ext/dbm/testdbm.rb.\n\n\t* test/gdbm/test_gdbm.rb: merged from ext/gdbm/testgdbm.rb.\n\n\t* test/sdbm/test_sdbm.rb: renamed from ext/sdbm/testsdbm.rb with\n\t  modification to use test/unit.\n\nFri Jun  3 23:23:02 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (rb_fdset_t): deal with fd bit sets over FD_SETSIZE.\n\t  fixed: [ruby-dev:26187]\n\n\t* eval.c (rb_fd_init, rb_fd_term, rb_fd_zero, rb_fd_set, rb_fd_clr,\n\t  rb_fd_isset, rb_fd_copy): ditto.\n\n\t* io.c (rb_io_wait_readable, rb_io_wait_writable, rb_f_select): ditto.\n\n\t* ext/io/wait/wait.c (io_wait): ditto.\n\n\t* ext/socket/socket.c (wait_connectable, unix_recv_io): ditto.\n\nFri Jun  3 14:06:12 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: fix typo.\n\nThu Jun  2 23:42:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y: pragma support on ripper.  [ruby-dev:26266]\n\nThu Jun  2 00:02:16 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* struct.c: accessing >10 member caused segmentation fault.\n\t  [ruby-dev:26247]\n\n\t* test/ruby/test_struct.rb: test it.\n\nWed Jun  1 11:30:09 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: can use single quote character in DESTDIR.\n\t  [ruby-dev:26205]\n\n\t* bcc32/Makefile.sub: Dir.glob in 1.9 doesn't treat \\ as path separator.\n\t  [ruby-dev:26254]\n\nWed Jun  1 00:11:06 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (method_call): new experiment: \"(expr)(args...)\" to\n\t  invoke \"expr.call(args...)\".  [EXPERIMENTAL]\n\nTue May 31 23:43:41 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (command): revert implicit \"call\" for local variables.\n\nTue May 31 15:52:45 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): should\n\t  break the loop if the socket reached to EOF. [ruby-talk:142285]\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): send response\n\t  without reading the whole request body if keep-alive is diabled.\n\t  [experimental]\n\nMon May 30 23:48:29 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/macpkg.rb: add PACKAGE_NAME information of Tcl/Tk\n\t  Extension.\n\n\t* ext/tk/lib/tk/msgcat.rb: ditto.\n\n\t* ext/tk/lib/tk/winpkg.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/*: ditto.\n\nSat May 28 16:39:21 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/openssl/test_x509store.rb: add test for expired CRL\n\t  and refine some assertions.\n\nSat May 28 05:15:44 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509store.c (ossl_x509stctx_set_time): should\n\t  not set internal flag directry.\n\nSat May 28 02:00:11 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI::Socket#request_line):\n\t  ENV[\"REQUEST_URI\"] is better to get correct Request-URI\n\t  than ENV[\"SCRIPT_NAME\"] + ENV[\"PATH_INFO\"].  [ruby-dev:26235]\n\nFri May 27 16:32:04 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/mkmf.rb: use the semicolon as the path separator\n\t  in the environment of MSYS.  fixed: [ruby-dev:26232]\n\nThu May 26 20:31:21 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_entry_secure): add documentation.\n\n\t* lib/fileutils.rb (remove_entry_secure): should not invoke\n\t  unlink(2) against a directory.\n\nThu May 26 08:29:19 2005  Akiyoshi, Masamichi  <akiyoshi@hp.com>\n\n\t* vms/vmsruby_private.c, vms/vmsruby_private.h: private routines\n\t  for VMS port are added.\n\n\t* eval.c (ruby_init): change to call VMS private intialization routine.\n\nThu May 26 07:39:07 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (rm_r): use lchown(2), not chown(2).\n\t  [ruby-dev:26226]\n\n\t* lib/fileutils.rb (cd): remove :noop option. (feature change)\n\n\t* lib/fileutils.rb (cp_r): should copy symlink as symlink, for\n\t  also tree root. (feature change)\n\n\t* lib/fileutils.rb (cp_r): new option :dereference_root.\n\n\t* lib/fileutils.rb: new method remove_entry.\n\n\t* lib/fileutils.rb: new method remove_entry_secure.\n\n\t* lib/fileutils.rb: add documentation.\n\nThu May 26 06:08:11 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add shortcut-methods of tk_call + tk_split_list\n\nWed May 25 20:06:27 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: TkComm#tk_split_*list fail to split a kind of SJIS\n\t  strings. To avoid the trouble, add arguments to control converting\n\t  encoding, and do split on a UTF8 string.\n\n\t* ext/tk/lib/multi-tk.rb: modify to attend encoding.\n\n\t* ext/tk/lib/remote-tk.rb: ditto.\n\n\t* ext/tk/lib/tk/itemconfig.rb: ditto.\n\n\t* ext/tk/lib/tk/listbox.rb: ditto.\n\n\t* ext/tk/lib/tk/namespace.rb: ditto.\n\n\t* ext/tk/lib/tk/panedwindow.rb: ditto.\n\n\t* ext/tk/lib/tk/text.rb: ditto.\n\n\t* ext/tk/lib/tk/textmark.rb: ditto.\n\n\t* ext/tk/lib/tk/texttag.rb: ditto.\n\n\t* ext/tk/lib/tk/variable.rb: ditto.\n\n\t* ext/tk/lib/tk/winfo.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/iwidgets/scrolledlistbox.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/iwidgets/scrolledtext.rb: ditto.\n\n\t* ext/tk/lib/tk.rb: add TkWindow#lower_window/raise_window and\n\t  Tk#lower_window/raise_window by reason of method-name conflict\n\n\t* ext/tk/lib/tk/canvas.rb: bug fix on TkCanvas#delete when given\n\t  non-TkcItem arguments.\n\n\t* ext/tk/lib/tkextlib/iwidgets/scrolledcanvas.rb: ditto.\n\nWed May 25 19:48:12 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (rm_r): does chown(2). [ruby-dev:26199]\n\nWed May 25 12:59:48 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI::Meta::RE_QUOTED_STRING): a content of\n\t  quoted-string should be zero or more characters.\n\nTue May 24 23:42:16 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_pow): support Fixnum ** Float case directly\n\t  without coercing.  [ruby-talk:142697] [ruby-talk:143054]\n\nTue May 24 16:57:24 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (require_libraries): caused SEGV when continuation jumped\n\t  in to the required library code.\n\nTue May 24 17:45:59 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/readline/test_readline.rb: do not test libedit.\n\t  fixed: [ruby-dev:26217]\n\nTue May 24 06:45:31 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-font-lock-syntactic-keywords): string\n\t  literals to be matched non-greedy.\n\nTue May 24 00:39:14 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/calc: method name 'set' was able to crash with a class Set.\n\t  [ruby-dev:26210]\n\n\t* test/wsdl/document/test_rpc.rb: dateTime comparison failed under\n\t  TZ=right/Asia/Tokyo (with leap second.) [ruby-dev:26208]\n\nMon May 23 16:23:06 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/extconf.rb: Framework support on MacOS X Tiger.\n\n\t* ext/tk/README.tcltklib: add description of Framework support options.\n\nMon May 23 15:07:34 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub ($(PROGRAM)): add dependency on $(LIBRUBY_SO).\n\t  [experimental]\n\nMon May 23 12:21:37 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (make_regexp): should not return junk address during\n\t  compile time.  [ruby-dev:26206]\n\nSun May 22 21:54:06 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/{soap,wsdl,xsd}, test/{soap,wsdl,xsd}: imported soap4r/1.5.4.\n\n\t  == SOAP client and server ==\n\n\t  === for both client side and server side ===\n\n\t  * improved document/literal service support.\n\t    style(rpc,document)/use(encoding, literal) combination are all\n\t    supported.  for the detail about combination, see\n\t    test/soap/test_style.rb.\n\n\t  * let WSDLEncodedRegistry#soap2obj map SOAP/OM to Ruby according to\n\t    WSDL as well as obj2soap.  closes #70.\n\n\t  * let SOAP::Mapping::Object handle XML attribute for doc/lit service.\n\t    you can set/get XML attribute via accessor methods which as a name\n\t    'xmlattr_' prefixed (<foo name=\"bar\"/> -> Foo#xmlattr_name).\n\n\t  === client side ===\n\n\t  * WSDLDriver capitalized name operation bug fixed.  from\n\t    1.5.3-ruby1.8.2, operation which has capitalized name (such as\n\t    KeywordSearchRequest in AWS) is defined as a method having\n\t    uncapitalized name. (converted with GenSupport.safemethodname\n\t    to handle operation name 'foo-bar').  it introduced serious\n\t    incompatibility; in the past, it was defined as a capitalized.\n\t    define capitalized method as well under that circumstance.\n\n\t  * added new factory interface 'WSDLDriverFactory#create_rpc_driver'\n\t    to create RPC::Driver, not WSDLDriver (RPC::Driver and WSDLDriver\n\t    are merged).  'WSDLDriverFactory#create_driver' still creates\n\t    WSDLDriver for compatibility but it warns that the method is\n\t    deprecated.  please use create_rpc_driver instead of create_driver.\n\n\t  * allow to use an URI object as an endpoint_url even with net/http,\n\t    not http-access2.\n\n\t  === server side ===\n\n\t  * added mod_ruby support to SOAP::CGIStub.  rename a CGI script\n\t    server.cgi to server.rb and let mod_ruby's RubyHandler handles the\n\t    script.  CGIStub detects if it's running under mod_ruby environment\n\t    or not.\n\n\t  * added fcgi support to SOAP::CGIStub.  see the sample at\n\t    sample/soap/calc/server.fcgi.  (almost same as server.cgi but has\n\t    fcgi handler at the bottom.)\n\n\t  * allow to return a SOAPFault object to respond customized SOAP fault.\n\n\t  * added the interface 'generate_explicit_type' for server side\n\t    (CGIStub, HTTPServer).  call 'self.generate_explicit_type = true'\n\t    if you want to return simplified XML even if it's rpc/encoded\n\t    service.\n\n\t  == WSDL ==\n\n\t  === WSDL definition ===\n\n\t  * improved XML Schema support such as extension, restriction,\n\t    simpleType, complexType + simpleContent, ref, length, import,\n\t    include.\n\n\t  * reduced \"unknown element/attribute\" warnings (warn only 1 time for\n\t    each QName).\n\n\t  * importing XSD file at schemaLocation with xsd:import.\n\n\t  === code generation from WSDL ===\n\n\t  * generator crashed when there's '-' in defined element/attribute\n\t    name.\n\n\t  * added ApacheMap WSDL definition.\n\n\t* sample/{soap,wsdl}: removed.\n\nSun May 22 19:11:35 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLServer#intialize):\n\t  should initialize session id context. [ruby-core:4663]\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_setup): add session id support.\n\nSun May 22 12:30:58 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h, parse.y (ruby_pragma): removed.  fixed: [ruby-dev:26198]\n\n\t* parse.y (parser_pragma): pragma name was ignored.\n\nSun May 22 02:39:57 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (rm_r): new option :secure to avoid\n\t  time-to-check-to-time-to-use security problem.  [ruby-dev:26100]\n\n\t* lib/fileutils.rb (remove_file, remove_dir): try chmod(700) only\n\t  on Windows.\n\n\t* lib/fileutils.rb: does not depend on find.rb.\n\n\t* lib/fileutils.rb: new method chmod_R.\n\n\t* lib/fileutils.rb (chown_R): did not work.\n\nSat May 21 10:23:21 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: tds files were not deleted when DESTDIR\n\t  included '\\' path delimiter. [ruby-dev:26193]\n\nFri May 20 15:52:18 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_attempted_completion_function):\n\t  return 2 items if completion_proc returns only 1 item (for libedit).\n\nFri May 20 01:24:33 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/extconf.rb: check rl_vi_editing_mode() and\n\t  rl_emacs_editing_mode().\n\nThu May 19 23:33:09 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/readline.c: supported libedit. fixed: [ruby-core:4858]\n\n\t* ext/readline/extconf.rb: added new option --enable-libedit.\n\n\t* test/readline/test_readline.rb: added assertions for\n\t  Readline::HISTORY.\n\n\t* lib/irb/input-method.rb: do not use Readline::HISTORY.pop.\n\nWed May 18 23:42:25 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (exc_exception): reverted to call Exception#initialize\n\t  directly.  fixed: [ruby-dev:26177]\n\nWed May 18 17:38:51 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* dir.c (glob_helper): check whether path is \"\" before calling\n\t  do_opendir.  [ruby-dev:26183]\n\nWed May 18 13:40:48 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (NtInitialize): fix typo.\n\nWed May 18 11:07:47 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (glob_helper): get rid of using String.  [ruby-dev:26180]\n\n\t* eval.c (ruby_options), win32/win32.c (NtInitialize): move argument\n\t  intialization back.  [ruby-dev:26180]\n\nTue May 17 11:49:18 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (unixtime_to_filetime): use localtime() instead of\n\t  gmtime() when using FileLocalTimeToFileTime().\n\nMon May 16 22:42:52 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.h, {bcc32,win32,wince}/Makefile.sub: moved rb_[ugp]id_t\n\t  to get rid of redefinition warnings on mingw.\n\n\t* class.c (rb_class_init_copy): singleton class is disallowed to copy,\n\t  from its definition.  fixed: [ruby-talk:142749]\n\n\t* parse.y (pragma_encoding): add prototype to suppress false warning\n\t  by VC.\n\n\t* process.c (proc_spawn_v): use rb_w32_aspawn on Win32.\n\nMon May 16 03:29:01 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.{h,c}: define rb_[pgu]id_t.\n\nMon May 16 00:21:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#unlink): use SystemCallError instead of\n\t  Errno::EISDIR because EISDIR is not portable.\n\t  [ruby-core:5001]\n\nSun May 15 22:28:10 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRbObject#method_missing): use raise(exception).\n\t  [ruby-dev:26164]\n\nSun May 15 18:56:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, ruby.h: define rb_[pgu]id_t macros instead of typedefs\n\t  to get rid of types which might not be defined yet.  [ruby-dev:26165]\n\nSun May 15 14:35:46 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#unlink): unlink a symlink to a directory\n\t  was failed.  [ruby-core:4992]\n\nSun May 15 09:57:30 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (unixtime_to_filetime): deal with DST.\n\t  [ruby-talk:141817]\n\nSat May 14 23:59:11 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (exc_exception, {exit,name_err,syserr}_initialize): call\n\t  Execption#initialize.  fixed: [ruby-talk:142593]\n\nSat May 14 23:56:41 2005  Erik Huelsmann  <ehuels@gmail.com>\n\n\t* configure.in: Check for the availability of pid_t, gid_t and uid_t and\n\t  remove AC_TYPE_UID_T.  fixed: [ruby-core:04745]\n\n\t* defines.h: Remove pid_t typedef.\n\n\t* ruby.h: Define rb_pid_t, rb_gid_t and rb_uid_t in accordance with\n\t the available system types.\n\n\t* process.c: Change instances of pid_t and gid_t to their rb_*\n\t counterparts.\n\n\t* ext/pty/pty.c: Change pid_t to rb_pid_t.\n\n\t* vms/config.h: Define HAVE_{P,G,U}ID_T to 1.\n\n\t* win32/Makefile.sub: Remove #define for {g,u}id_t.\n\n\t* win32/win32.c: Change pid_t to rb_pid_t.\n\n\t* wince/Makefile.sub: Remove #define for {g,u}id_t.\n\n\t* wince/sys/types.h: Remove definitions of {p,g,u}id_t.\n\nSat May 14 11:47:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (ruby_pragma): prototype.  [ruby-core:04881]\n\n\t* parse.y (parser_pragma): parse Emacsen hack.\n\n\t* parse.y (parser_prepare): deal with specific syntax at the top.\n\n\t* ruby.c (load_file): read the first line iff it started with shebang.\n\nFri May 13 23:44:22 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: keep srcdir unexpanded.\n\n\t* lib/mkmf.rb (create_makefile): quote topdir and hdrdir if necessary.\n\t  fixed: [ruby-core:04932]\n\n\t* lib/mkmf.rb (configuration), {bcc32,win32,wince}/Makefile.sub: make\n\t  also INSTALL_PROG and INSTALL_DATA system dependent.\n\t  fixed: [ruby-core:04931]\n\nFri May 13 23:32:55 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (unknown_node): add volatile directive to prototype.\n\nFri May 13 17:50:49 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* variable.c (generic_ivar_get): rb_attr_get should not warn.\n\t  [ruby-dev:26010]\n\nThu May 12 17:41:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow nkf 2.0.5\n\nThu May 12 16:50:40 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/rdoc/parsers/parse_c.rb: more readability for mixing\n\t  progress \"c...\" and warning message.\n\nThu May 12 15:50:56 2005  Tilman Sauerbeck  <tilman@code-monkey.de>\n\n\t* lib/rdoc/parsers/parse_c.rb: show parsing progress for C files.\n\t  [ruby-core:4341]\n\nThu May 12 09:53:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* version.c (ruby_show_version): flush for non-tty stdout.\n\nThu May 12 01:23:55 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (unknown_node): ignore broken NODE to get rid of accessing\n\t  possibly inaccessible address.  fixed: [ruby-dev:26122]\n\t  should emit more useful information like [ruby-dev:26126], though.\n\nWed May 11 15:58:39 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (break_jump): break should not cross functions.\n\t  [ruby-list:40818]\n\nWed May 11 10:41:54 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/tempfile.rb (Tempfile#unlink): fixed typo.\n\nWed May 11 01:03:36 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (TMP_ALLOC): use macro NEW_NODE() to get rid of warnings on\n\t  platforms which have no alloca().  fixed: [ruby-talk:141301]\n\nSun May  8 23:17:47 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb: fix typo.\n\nSun May  8 21:00:50 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* hash.c (Init_Hash): remove custom \"hash\" and \"eql?\".\n\t  (ported from 1.8) [ruby-dev:26132]\n\nSun May  8 16:50:25 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/profiler.rb: fixed \"undefined method `[]' for nil:NilClass\"\n\t  [ruby-core:4775] [ruby-talk:140401] [ruby-dev:26118]\n\nSat May  7 22:58:00 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (have_var): no libs argument is given.\n\nFri May  6 08:08:37 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c:rb_hash_hash_i() should be static.  [ruby-core:04815]\n\n\t* re.c should include regint.h for declarations of oniguruma\n\t  functions.  [ruby-core:04815]\n\nSun May  1 09:15:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_sflag): replace '-' in variable names with '_'.\n\t  [ruby-dev:26107]\n\n\t* eval.c (rb_eval), parse.y (arg): reduce fixnum range literal at\n\t  parser.  fixed: [ruby-dev:26113]\n\nSat Apr 30 11:59:25 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_FUNC_ATTRIBUTE): check for function attribute.\n\t  [ruby-dev:26109]\n\n\t* eval.c, gc.c: moved noinline to configure.in.\n\n\t* rubyio.h (DEPRECATED): moved to configure.in.\n\n\t* ruby.h (DEPRECATED, NOINLINE): default definition.\n\n\t* win{32,ce}/Makefile.sub (config.h): deprecated and noinline for\n\t  __declspec() are available for VC++7 or later.\n\nSat Apr 30 06:57:39 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb: new methods WEBrick::CGI#[], WEBrick::CGI#logger\n\t  and WEBrick::CGI#config.  these are necessary to use an instance of\n\t  WEBrick::CGI as the first argument of HTTPServlet#get_instance.\n\t  (suggested by Tatsuki Sugiura)\n\n\t* lib/webrick/cgi.rb\n\t  (WEBrick::CGI#initalize): set a dummy to @config[:ServerSoftware]\n\t  if SERVER_SOFTWARE environment variable is not given.\n\t  (WEBrick::CGI#start): req.path_info must be a String.\n\t  (WEBrick::CGI::Socket#request_line): treat REQUEST_METHOD, PATH_INFO\n\t  and SCRIPT_NAME to run in console.\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.escape_path): should\n\t  not use String#split(\"/\"). it removes trailing empty path component.\n\nThu Apr 28 08:21:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (set_arg0): use also environment variable space for setting\n\t  $0.  [ruby-core:04774]\n\nWed Apr 27 23:42:22 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (OPTFLAGS): default global optimization to\n\t  disabled only for VC++6.\n\nTue Apr 26 22:58:00 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_invoke_core): call Tcl's \"::unknown\"\n\t  command when can't get information of target command.\n\nMon Apr 25 13:54:55 2005  speakillof  <speakillof@yahoo.co.jp>\n\n\t* lib/rexml/encodings/SHIFT-JIS.rb: encoding and decoding were\n\t  swapped. [ruby-core:4772]\n\nMon Apr 25 01:18:43 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* oniguruma.h (OnigWarnFunc): add a variadic argument.\n\t  [ruby-core:4751]\n\nSat Apr 23 19:49:21 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c (ip_RubyExitCommand): exit with status code\n\t  via TclTkIp#_eval didn't work. [ruby-talk:139390]\n\nSat Apr 23 11:45:29 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_provided): should check also path name to be loaded.\n\t  fixed: [ruby-dev:26093]\n\nFri Apr 22 16:55:35 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c (ip_set_exc_message): fixed memory leak.\n\n\t* ext/tk/tcltklib.c: eTkCallbackReturn was not initialized.\n\nThu Apr 21 06:45:28 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (ruby_incpush_expand, proc_options): expand relative path\n\t  given with -I option.  [ruby-dev:26090]\n\n\t* configure.in, lib/mkmf.rb, {bcc32,win32,wince}/Makefile.sub: improve\n\t  C++ support.  [ruby-dev:26089]\n\nThu Apr 21 01:53:09 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: add rdoc.\n\nThu Apr 21 00:07:50 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): support platforms have file separator\n\t  other than /.\n\n\t* {bcc32,win32,wince}/Makefile.sub (BUILD_FILE_SEPARATOR): separator\n\t  of building platform.\n\n\t* {bcc32,win32,wince}/Makefile.sub (CP, INSTALL): use COPY command.\n\nWed Apr 20 23:22:39 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.mk: miniruby depends on MINIOBJS.\n\n\t* dmydln.c (dln_load): dummy function to raise LoadError.\n\n\t* cygwin/GNUmakefile.in, {bcc32,win32,wince}/Makefile.sub: miniruby\n\t  can't load extensions on Windows.\n\nWed Apr 20 23:01:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/ifchange.bat: delete testing files.\n\nWed Apr 20 22:54:54 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: new method Net::HTTP.post_form.\n\n\t* lib/net/http.rb: new method Net::HTTPHeader#set_form_data and\n\t  its alias #form_data=.\n\n\t* lib/net/http.rb: Net::HTTPHeader#add_header -> add_field\n\t  (adjustted to Ruby 1.8).\n\nWed Apr 20 10:53:30 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_rb.rb (lex_init): use IRB module.\n\t  [ruby-core:04737]\n\nWed Apr 20 07:27:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/configure.bat, {bcc32,win32,wince}/setup.mak:\n\t  add extout option.\n\n\t* bcc32/setup.mak: make configuration variables overridable.\n\nTue Apr 19 23:37:09 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/ftools.rb (File.safe_unlink): do not modify a symlinked file.\n\nTue Apr 19 23:02:40 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (search_required): deal with features with path too.\n\n\t* intern.h (rb_file_expand_path): prototype.  fixed: [ruby-dev:26082]\n\nTue Apr 19 08:38:07 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (search_required, rb_require_safe): expand path in\n\t  rb_features.  [ruby-dev:26079]\n\n\t* file.c (rb_find_file_ext): return absolute path.\n\n\t* ext/extmk.rb: expand path for ext/**/extconf.rb.\n\n\t* eval.c (search_required): handle static linked extensions.\n\nMon Apr 18 15:37:35 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_attr): attribute name check added.\n\n\t* numeric.c (flo_plus): small typo fix.\n\nMon Apr 18 11:25:14 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/zlib/zlib.c (zstream_run): fixed SEGV. [ruby-core:4712]\n\nSun Apr 17 23:57:49 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake, parse_args): do not expand destdir.\n\n\t* ext/extmk.rb (relative_from): treat mere drive letter as an absolute\n\t  path.\n\nSat Apr 16 17:01:16 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb (rss_recent_cache_rss):\n\t  use the first date information of items as site date information\n\t  if channel doesn't have date information.\n\nSat Apr 16 15:27:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_PROG_INSTALL): not add -p option to INSTALL.\n\t  files need timestamps to be kept are only ar-archive on a few\n\t  platforms, and be installed by instruby.rb but not INSTALL.\n\t  fixed: [ruby-core:04721]\n\n\t* mkconfig.rb: purge autoconf value variables.\n\nSat Apr 16 10:33:48 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: quick hack... prepend DESTDIR.\n\t  still have restriction on DESTDIR (\"\", \"/\", \"e:\")\n\nSat Apr 16 03:59:42 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: check for OPENSSL_cleanse.\n\n\t* ext/openssl/openssl_missing.h: ditto.\n\nFri Apr 15 22:40:19 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: add test for WIN32OLE.codepage=\n\n\t* ext/win32ole/tests/testOLETYPELIB.rb: correct expected message.\n\nFri Apr 15 22:04:07 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(ole_invoke): retry after converting Qnil\n\t  to VT_EMPTY.\n\nThu Apr 14 19:05:06 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper] (regexp): dispatch regexp option.\n\t  [ruby-Bugs:1688]\n\n\t* ext/ripper/lib/core.rb: regenerated (interface changed).\n\nThu Apr 14 18:59:43 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_file): ignore exceptions caused by\n\t  chmod.\n\n\t* lib/fileutils.rb (remove_dir): try to get rights to rmdir.\n\t  [ruby-Bugs:1502]\n\nThu Apr 14 18:51:02 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb, lib/irb/slex.rb: bug fix of [ruby-Bugs-1745]\n\n\t* lib/irb/ext/loader.rb, lib/irb/ext/save-history.rb:\n\t  fix location of @RCS_ID\n\n\t* lib/irb/cmd/help.rb: a lost of release IRB 0.9.5.\n\nThu Apr 14 15:10:30 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/notifier.rb, lib/irb/output-method.rb, lib/irb/ext/history.rb\n\t  fixed warning of 'ruby -w'\n\nThu Apr 14 05:35:45 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* doc/irb/irb.rd.ja: a lost  of release IRB 0.9.5.\n\n\t* lib/irb/slex.rb: bug fix by [ruby-core:04707].\n\nThu Apr 14 00:20:31 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* bin/irb lib/irb.rb lib/irb/...: IRB 0.9.5.\n\nWed Apr 13 23:40:21 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.3 -> 0.1.4.\n\n\t* lib/rss/rss.rb (RSS::Element#converter): fixed converter\n\t  transmission bug.\n\nWed Apr 13 22:12:16 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#order!): call handlers iff matches\n\t  non-switch.\n\nWed Apr 13 21:20:35 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (mingw32): extract msvcr*.dll from objdump result.\n\nWed Apr 13 19:25:31 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (mingw32): use actual runtime DLL name as ruby DLL\n\t  name and default load path.\n\n\t* win32/Makefile.sub, win32/setup.mak: ditto.\n\nTue Apr 12 19:30:36 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#make_switch, OptionParser#order!):\n\t  added non-option and end-of-args handler.  [ruby-talk:136878]\n\t  [EXPERIMENTAL]\n\nTue Apr 12 15:33:09 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_finalize): better modification than the\n\t  previous commit [ruby-dev:26029].\n\nTue Apr 12 12:38:06 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_finalize): fix SEGV when Tcl_GlobalEval()\n\t  modifies the argument string to eval.\n\nTue Apr 12 02:21:55 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_finalize): add existence check of\n\t  Tcl commands before calling Tcl_GlobalEval().\n\nMon Apr 11 23:36:04 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: [druby-ja:123] fix: When reference of my object is\n\t  loaded, the object is tainted.\n\n\t* test/drb/test_drb.rb: ditto.\n\nMon Apr 11 22:18:23 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* dir.c, file.c (lstat): avoid warnings for mingw.\n\nMon Apr 11 20:11:06 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_finalize): adhoc patch to avoid SEGV when exit\n\t  on Tcl/Tk8.3.x.\n\nMon Apr 11 15:24:20 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): shouldn't output hdrdir twice.\n\nSat Apr  9 18:20:31 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/image.rb: support to create TkImage object without\n\t  creating a new image object on Tk.\n\n\t* ext/tk/lib/tk/menu.rb: use TkCommandNames on create_self()\n\n\t* ext/tk/lib/tk/root.rb: TkRoot.to_eval() returns '.'.\n\n\t* ext/tk/lib/tk/text.rb: add methods to create a TkText::IndexString\n\t  from (x, y) coords.\n\n\t* ext/tk/lib/tkextlib/tile/: add demo and update support status.\n\nSat Apr  9 14:42:29 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb: supported configuration\n\t  via Web browser.\n\nFri Apr  8 20:17:48 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): hdrdir needs to be defined also in\n\t  Config::CONFIG.\n\n\t* lib/mkmf.rb (configuration, create_makefile): get rid of recursive\n\t  macro reference.\n\nFri Apr  8 01:55:20 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/demos-{en,jp}/goldberg.rb: reduced window size.\n\t  [ruby-dev:25992]\n\nThu Apr  7 23:58:40 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): keep directory names in Makefile as macros.\n\n\t* lib/mkmf.rb (configuration, create_makefile): ditto.\n\n\t* lib/mkmf.rb (CXX_EXT): separate C++ extensions.\n\nThu Apr  7 17:24:17 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* eval.c (rb_call0): \"return\" event hook should be always executed\n\t  if event_hooks is set.\n\nThu Apr  7 14:33:09 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_maker_dc.rb (test_date): added a test for #date=\n\t  and #dc_date=.\n\nThu Apr  7 11:49:53 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/dublincore.rb: _really_ supported multiple Dublin\n\t  Core items.\n\n\t* test/rss/rss-assertions.rb (assert_multiple_dublin_core): added\n\t  an assertion for testing multiple Dublin Core items.\n\n\t* test/rss/test_maker_dc.rb (test_rss10_multiple): added a test\n\t  for making multiple Dublin Core items.\n\nWed Apr  6 16:06:30 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_env.rb (test_key): should test ENV.key instead of\n\t  ENV.index. [ruby-dev:25994]\n\nTue Apr  5 16:01:12 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/*: refactored.\n\t  - gave a name to 'x'.\n\t  - undef_method -> remove_method for avoiding a warning in ruby 1.6.\n\nTue Apr  5 15:45:33 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb:\n\t  new option: @options['rss-recent.use-image-link']:\n\t  use image as link instread of text if available.\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb (RSS_RECENT_VERSION):\n\t  0.0.5 -> 0.0.6.\n\nTue Apr  5 15:15:26 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/dublincore.rb: supported multiple Dublin Core items.\n\n\t* lib/rss/parser.rb: added class name registry for complex model\n\t  elements. (ex. have childlen elements, have some attributes and\n\t  a child element and so on.)\n\n\t* lib/rss/maker/base.rb: added default current_element implementation.\n\n\t* lib/rss/maker/dublincore.rb: supported multiple Dublin Core\n\t  items.\n\n\t* lib/rss/maker/image.rb: supproted new Dublin Core API.\n\n\n\t* lib/rss/trackback.rb (RSS::TrackBackUtils.new_with_value_if_need):\n\t  moved to RSS::Utils.\n\n\t* lib/rss/utils.rb (RSS::Utils.new_with_value_if_need):\n\t  moved from RSS::TrackBackUtils.\n\n\n\t* lib/rss/maker/image.rb: fixed invalid argument of\n\t  add_need_initialize_variable bug.\n\n\t* lib/rss/maker/trackback.rb: ditto.\n\n\n\t* lib/rss/rss.rb (Hash#merge): added for ruby 1.6.\n\n\t* lib/rss/rss.rb (RSS::BaseModel.date_writer): changed to accept nil\n\t  for date value.\n\n\n\t* test/test_dublincore.rb: added tests for plural accessor and\n\t  multiple Dublin Core items.\n\n\t* test/test_setup_maker_1.0.rb: fixed swapped actual and expected\n\t  values.\n\nMon Apr  4 23:17:52 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb (TkComm#array2tk_list): accept enc-mode argument to\n\t  decide whether convert encoding of each element or not.\n\n\t* ext/tk/lib/tk/variable.rb (TkVariable#value=): fail to convert the\n\t  encoding of array elements when assign an array to an TkVariable\n\t  object.\n\nMon Apr  4 10:26:48 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/lib/tk/dialog.rb: fixed typo.\n\nSat Apr  2 23:38:54 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (CP, INSTALL): get rid of less portable options.\n\n\t* lib/mkmf.rb (configuration, create_makefile): correct configuration\n\t  variable.\n\n\t* wince/configure.bat, wince/setup.mak: add prefix, extstatic and\n\t  rdoc options.\n\n\t* lib/mkmf.rb (create_makefile): ensure library directories get made\n\t  before copying libraries there.\n\nSat Apr  2 16:59:46 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: forgot to update RELEASE_DATE\n\n\t* ext/tk/lib/tk/variable.rb: fix namespace trouble when autoloading\n\n\t* ext/tk/lib/tk/palette.rb: define Tcl variable 'tkPalette' as global\n\n\t* ext/tk/lib/tk/dialog.rb: use array2tk_list method when calling\n\t  Tk.ip_eval.\n\n\t* ext/tk/lib/tk/autoload.rb: add autoload entry 'TkDialogObj' and\n\t  'TkWarningObj'\n\nSat Apr  2 13:23:17 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* hash.c (env_key): ENV.index is deprecated as well as Hash#index.\n\t  use ENV.key instead. [ruby-dev:25974]\n\nSat Apr  2 02:19:11 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb (TkWindow.initialize): accept 'without_creating'\n\t  option without 'widgetname' option to allow creating a widget object\n\t  which is used as an argument of Tcl/Tk's widget allocation commands.\n\n\t* ext/tk/lib/tk/image.rb (TkImage.initialize): accept 'imagename'\n\t  option to create a image object by the given name.\n\nThu Mar 31 22:23:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (SRC_EXT): exclude just case different suffixes on case\n\t  insensitive file system platforms.\n\n\t* README.EXT, README.EXT.ja (Appendix C): utility functions.\n\nThu Mar 31 14:08:43 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_s_load): should return\n\t  value. [ruby-dev:25971]\n\nThu Mar 31 11:07:50 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb: @@setter -> @@setters.\n\n\t* lib/rss/parser.rb\n\t  (RSS::BaseListener.register_uri)\n\t  (RSS::BaseListener.uri_registered?)\n\t  (RSS::BaseListener.install_get_text_element):\n\t  swapped the first argument and the second argument.\n\n\t* lib/rss/taxonomy.rb: swapped the first argument and the second\n\t  argument for RSS::BaseListener.install_get_text_element.\n\t* lib/rss/image.rb: ditto.\n\t* lib/rss/syndication.rb: ditto.\n\t* lib/rss/dublincore.rb: ditto.\n\t* lib/rss/parser.rb: ditto.\n\t* lib/rss/1.0.rb: ditto.\n\t* lib/rss/2.0.rb: ditto.\n\t* lib/rss/0.9.rb: ditto.\n\t* lib/rss/content.rb: ditto.\n\nThu Mar 31 11:00:36 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb\n\t  (RSS::BaseListener.install_setter)\n\t  (RSS::BaseListener.register_uri): changed fallback way.\n\nThu Mar 31 08:25:40 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (RUBYOPT): clear for the environment RubyGems installed.\n\n\t* common.mk (clean-local): keep $(PREP) files till distclean.\n\n\t* common.mk (check): do all tests.\n\nThu Mar 31 06:00:20 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_s_load): should not raise\n\t  error even if the specified engine could not be loaded. (Dynamic\n\t  engines don't have fixed name to load.)\n\nWed Mar 30 17:41:48 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: add TclTkIp#_create_console() method to create\n\t  a Tcl/Tk's console window.\n\n\t* ext/tk/lib/multi-tk.rb: support TclTkIp#_create_console() method.\n\n\t* ext/tk/lib/remote-tk.rb: ditto.\n\n\t* ext/tk/lib/tk/console.rb: ditto.\n\n\t* ext/tk/lib/tk.rb: update RELEASE_DATE\n\n\t* ext/tk/sample/demo-*/check2.rb: use 'return' in the Proc object.\n\n\t* ext/tk/sample/tkextlib/**: ditto.\n\nTue Mar 29 22:20:49 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb: use DRbObject.new_with instead of reinit.\n\t  [ruby-dev:25961]\n\nTue Mar 29 00:04:57 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: move method DRbObject#reinit to DRbObject.new_with.\n\t  extract method DRbObject.prepare_backtrace. add DRb.regist_server,\n\t  remove_server, fetch_server. change server in thread variable if\n\t  in-proc server. [druby-ja:113]\n\n\t* lib/drb/gw.rb: ditto.\n\nMon Mar 28 20:53:44 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extract_makefile): nothing to be removed when no file\n\t  was deleted.\n\n\t* ext/extmk.rb (extmake): restore srcdir.\n\nMon Mar 28 08:39:49 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_create): Iconv::Failure requires 3\n\t  arguments.  (pointed out by NaHi)\n\nSun Mar 27 00:56:58 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_file): ignore Errno::E* if force option\n\t  is set. [ruby-dev:25944]\n\nSat Mar 26 22:51:33 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb (_callback_entry_class?): add for checking whether\n\t  a class is available for a callback entry.\n\n\t* ext/tk/lib/tk.rb (after_cancel): add Tk.after_cancel(afterID) method.\n\n\t* ext/tk/lib/tk.rb (array2tk_list): change from private module method\n\t  of TkComm to public module method.\n\n\t* ext/tk/lib/tk.rb (cget): add check that slot argument is not\n\t  empty string.\n\n\t* ext/tk/lib/tk.rb (configinfo): ditto.\n\n\t* ext/tk/lib/tk/itemconfig.rb (itemcget): add check that slot argument\n\t  is not empty string.\n\n\t* ext/tk/lib/tk/itemconfig.rb (itemconfiginfo): ditto.\n\n\t* ext/tk/lib/tk/entry.rb: add TkEntry#icursor and icursor= (alias of\n\t  cursor and cursor= method).\n\n\t* ext/tk/lib/tk/font.rb: improve font treatment when the font name is\n\t  empty string.\n\n\t* ext/tk/lib/tk/variable.rb: add :variable, :window and :procedure\n\t  type.\n\n\t* ext/tk/lib/tk/variable.rb: improve treatment of array-type\n\t  tkvariable.\n\n\t* ext/tk/lib/tkextlib/blt.rb: add commands for zooming.\n\n\t* ext/tk/lib/tkextlib/blt/*: bug fix.\n\n\t* ext/tk/lib/tkextlib/treectrl/tktreectrl.rb: bug fix and add methods\n\t  to call TreeCtrl commands for bindings.\n\n\t* ext/tk/sample/tkextlib/blt/*: new sample scripts.\n\n\t* ext/tk/sample/tkextlib/treectrl/*: ditto.\n\nFri Mar 25 10:53:16 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (WIN32_LEAN_AND_MEAN): removed because a lot of\n\t  troubles.  [ruby-list:40721]\n\nThu Mar 24 23:10:44 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (macro_defined?): try to compile for an old compiler\n\t  which doesn't bail out at #error directive.  [ruby-dev:25818]\n\n\t* lib/mkmf.rb (check_sizeof): refine logging messages.\n\nWed Mar 23 19:08:10 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/utils.rb (WEBrick::Utils.create_listeners):\n\t  - should raise ArgumentError if no port is specified.\n\t  - even if the specified port is 0, all TCPServers should be\n\t    initialized with the port given to the first one.\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#initialize): if :Port\n\t  parameter is 0, it should be updated with the port number which\n\t  ectually listened.\n\nWed Mar 23 16:12:40 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* parse.y (primary): fix lineno of rescue and ensure.\n\nWed Mar 23 00:39:05 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/ruby/test_settracefunc.rb (test_event): added tests for\n\t  \"class\" and \"end\" and \"raise\".\n\nSun Mar 20 22:51:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (mkmf_failed): check if Makefile is created without\n\t  create_makefile.\n\nSat Mar 19 23:48:10 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-expr-beg): returned true always.\n\t  fixed: [ruby-list:40683]\n\nSat Mar 19 00:41:02 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/font.rb: add some TkFont class methods to get font\n\t  information without creating a TkFont object.\n\n\t* ext/tk/lib/tkextlib/treectrl/tktreectrl.rb: bug fix and define some\n\t  classes for components of Tk::TreeCtrl\n\nThu Mar 17 17:42:13 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (make_struct): allow non local-id field\n\t  names. [ruby-core:04575]\n\n\t* struct.c (inspect_struct): ditto.\n\nWed Mar 16 23:39:13 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/ruby/test_settracefunc.rb: added test for c-return.\n\nWed Mar 16 22:57:43 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* eval.c (rb_call0): call_cfunc() should be protected.\n\n\t* eval.c (rb_add_event_hook): use K&R style.\n\n\t* eval.c (rb_remove_event_hook): ditto.\n\nWed Mar 16 22:03:15 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* eval.c (rb_add_event_hook): new function to add a hook function for\n\t  interpreter events.\n\nWed Mar 16 18:08:32 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): reorganize \"return\" event post.\n\n\t* eval.c (return_jump): no need to post \"return\" event here.\n\nTue Mar 15 23:49:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (Init_iconv): InvalidEncoding also should include\n\t  Iconv::Failure.\n\nTue Mar 15 23:12:36 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (recursive_check, recursive_push): more restrictive check.\n\t  fixed: [ruby-dev:25916]\n\nTue Mar 15 16:38:31 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil/tkutil.c (ary2list): give wrong arguments to hash2kv()\n\nMon Mar 14 19:39:33 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb (TkTimer): forgot to clear @return_value\n\t  when restarting\n\n\t* ext/tk/lib/tk/sample/cd_timer.rb: new sample of TkRTTimer\n\nMon Mar 14 12:21:03 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb (TkRTTimer): forgot to reset the callback\n\t  time. So, 'continue' do all callbacks between 'stop' and 'continue'.\n\nMon Mar 14 08:14:56 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (str_to_id): raise ArgumentError for NUL containing\n\t  strings.\n\nMon Mar 14 00:13:49 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb (TkRTTimer): correct calculation of offset\n\t  value. get a little better accuracy.\n\n\t* ext/tk/sample/demos-en/widget: use a binding with no local variables\n\t  when eval a sample script.\n\n\t* ext/tk/sample/demos-en/bind.rb: ditto.\n\n\t* ext/tk/sample/demos-en/tcolor: ditto.\n\n\t* ext/tk/sample/demos-jp/widget: ditto.\n\n\t* ext/tk/sample/demos-jp/bind.rb: ditto.\n\n\t* ext/tk/sample/demos-jp/tcolor: ditto.\n\nSun Mar 13 22:19:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (recursive_pop): raise TypeError instead of fatal error.\n\t  fixed: [ruby-dev:25843]\n\nSun Mar 13 10:09:17 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb: remove test_gc. [ruby-dev:25871]\n\nSun Mar 13 02:32:54 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_tmp_dh_callback): should get DH\n\t  parameter from the current SSL object.\n\nSun Mar 13 02:09:03 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkey_dh.c (ossl_create_dh): fix typo.\n\t  patch from IWATSUKI Hiroyuki. [ruby-dev:25867]\n\n\t* ext/openssl/ossl_ssl.c (ossl_tmp_dh_callback): ditto.\n\t  (ossl_call_tmp_dh_callback): ditto\n\nFri Mar 11 03:24:59 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): wrong var node was set for NODE_LAMBDA.\n\t  [ruby-core:04555]\n\nThu Mar 10 19:10:29 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (lib_eventloop_ensure): mis-delete a timer handler\n\t  when exit from a recursive called eventloop\n\n\t* ext/tk/lib/tk/timer.rb: new TkRTTimer class, which can works for a\n\t  realtime operation\n\n\t* ext/tk/sample/tkrttimer.rb: sample of TkRTTimer class\n\n\t* ext/tk/lib/tk/textmark.rb: move  TkTextMark#+ and TkTextMark#- to\n\t  TkText::IndexModMethods\n\n\t* ext/tk/lib/tk/text.rb: improve TkTextMark#+ and TkTextMark#-, and\n\t  add them to TkText::IndexModMethods module\n\n\t* ext/tk/sample/tktextio.rb: add test part of \"seek by text index\n\t  modifiers\"\n\nThu Mar 10 08:10:11 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (make_regexp): need to free internal regexp structure when\n\t  compilation fails.  [ruby-talk:133228]\n\nThu Mar 10 01:08:20 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (bv_decl): remove initialize rule from block local\n\t  variable declaration.\n\nWed Mar  9 23:55:34 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (PP::PPMethods#guard_inspect_key): support\n\t  __recursive_key__.  [ruby-dev:25821]\n\nWed Mar  9 19:42:21 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c: OpenSSL::SSL::SSLContexts suports callbacks:\n\t  - SSLContext#client_cert_cb is a Proc. it is called when a client\n\t    certificate is requested by a server and no certificate was yet\n\t    set for the SSLContext. it must return an Array which includes\n\t    OpenSSL::X509::Certificate and OpenSSL::PKey::RSA/DSA objects.\n\t  - SSLContext#tmp_dh_callback is called in key exchange with DH\n\t    algorithm. it must return an OpenSSL::PKey::DH object.\n\n\t* ext/openssl/ossl_ssl.c:\n\t  (ossl_sslctx_set_ciphers): ignore the argument if it's nil.\n\t  (ossl_start_ssl, ossl_ssl_write): call rb_sys_fail if errno isn't 0.\n\t  [ruby-dev:25831]\n\n\t* ext/openssl/ossl_pkey.c\n\t  (GetPrivPKeyPtr, ossl_pkey_sign): should call rb_funcall first.\n\t  (DupPrivPKeyPtr): new function.\n\n\t* ext/openssl/ossl_pkey_dh.c: add default DH parameters.\n\n\t* ext/openssl/ossl_pkey.h: ditto.\n\n\t* ext/openssl/lib/openssl/cipher.rb: fix typo. [ruby-dev:24285]\n\nWed Mar  9 18:09:51 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (gettable_gen): warns if VCALL name is used as\n\t  out-of-scope block local variable.  [EXPERIMENTAL]\n\n\t* parse.y (opt_bv_decl): add explicit block local variable\n\t  declaration.  raises error for name conflicts.  [EXPERIMENTAL]\n\nWed Mar  9 13:37:57 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tktextio.rb: fix bug of handling 'end' position.\n\t  support initial text, overwrite setting and pos_gravity control.\n\nTue Mar  8 18:16:55 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tktextio.rb: New sample script. TkTextIO class in this\n\t  sample supports to use a text widget as if it is a I/O stream (such\n\t  like as StringIO class).\n\nTue Mar  8 13:39:25 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/mkconstants.rb: workaround for some of 4.4BSD-Lite\n\t  derived OSs.\n\nTue Mar  8 12:36:17 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: document from Sam Roberts\n\t  <sroberts@uniserve.com> for getsockopt and setsockopt is merged.\n\t  [ruby-doc:824]\n\nTue Mar  8 10:48:53 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_exec_recursive): declaration should precede statements\n\t  before C99.\n\nTue Mar  8 10:05:40 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (errno_missing): Errno.const_missing to allow references\n\t  to SyscallError exceptions not defined on the platform.\n\t  [ruby-core:04522]\n\n\t* error.c (Init_syserr): Errno::NOERROR(0) for fallback exception.\n\nTue Mar  8 01:19:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow nkf 1.66\n\t  fixed: [ruby-dev:25828]\n\nMon Mar  7 21:29:40 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#start): should\n\t  restore @token if accept failure. suggested by Dominique Brezinski.\n\t  [ruby-core:04518]\n\n\t* sample/webrick/httpsd.rb: fix typo in comment. suggested by\n\t  Kazuhiko Shiozaki.\n\nMon Mar  7 21:01:37 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_require_safe): get actual path string under safe level\n\t  when requested.  fixed: [ruby-dev:25815]\n\nMon Mar  7 16:46:02 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_start_ssl, ossl_ssl_read,\n\t  ossl_ssl_write): need to set errno on Win32 platform.\n\nMon Mar  7 14:55:43 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (block_pass): should not push unique number if a block is\n\t  not an orphan.  [ruby-dev:25808]\n\nMon Mar  7 14:13:23 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#initialize):\n\t  should set @eof and @rbuffer.\n\nMon Mar  7 10:28:00 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (inspect_obj): unintended space removal.\n\t  [ruby-dev:25810]\n\n\t* eval.c (rb_exec_recursive): should not use NODE in disclosed\n\t  context.  [ruby-dev:25812]\n\n\t* io.c (rb_f_open): need not to check if to_open value is a\n\t  T_FILE.  [ruby-dev:25812]\n\nMon Mar  7 01:21:01 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil/tkutil.c: follow the change of st.c (committed\n\t  at Fri, 4 Mar 2005 15:47:47 +0900 by matz)\n\nMon Mar  7 00:01:55 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: fail to call TclTkLib.mainloop when $SAFE==4\n\nSun Mar  6 13:04:10 2005  Dee Zsombor  <zsombor@ruby-lang.org>\n\n\t* misc/ruby-electric.el: added.\n\t* misc/Readme: updated.\n\nSun Mar  6 11:47:10 2005  Sam Roberts  <sroberts@uniserve.com>\n\n\t* lib/pp.rb: rdoced.  [ruby-core:4490]\n\nSun Mar  6 11:36:37 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (File::Stat#pretty_print): Etc.getpwuid and Etc.getgrgid\n\t  may return nil.  [ruby-talk:129826]\n\t  reported by Daniel Berger.\n\nSun Mar  6 06:34:31 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_start_ssl): should wait for that\n\t  the underlying IO become readable or writable if the error was\n\t  SSL_ERROR_WANT_READ or SSL_ERROR_WANT_WRITE. [ruby-dev:25795]\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_read, ossl_ssl_write): ditto.\n\n\t* ext/openssl/lib/openssl/buffering.rb\n\t  (Buffering#consume_rbuf): pointless eof flag resetting is deleted.\n\t  (Buffering#read): should return an empty string if the specified\n\t  size is zero.\n\t  (Buffering#readpartial): new method.\n\t  (Buffering#readline): fix typo.\n\t  (Buffering#getc): return the first character of string correctly.\n\t  (Buffering#readchar): fix typo.\n\t  (Buffering#eof?): should read again it the input buffer is empty.\n\t  (Buffering#do_write): should rescue Errno::EAGAIN.\n\t  (Buffering#puts): use \"\\n\" as the output field separator.\n\n\t* ext/openssl/extconf.rb: get rid of GNUmakefile generation.\n\n\t* text/openssl/test_pair.rb: test for IO like methods.\n\n\t* test/ruby/ut_eof.rb: test about empty file.\n\nSat Mar  5 17:48:31 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (rb_glob): fixed mismatch of argument.\n\n\t* dir.c (fnmatch): removed unnecessary code. (by string.c 1.219)\n\n\t* win32/win32.c (NtInitialize): ditto. (by numeric.c 1.117)\n\nSat Mar  5 16:50:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow nkf 1.65\n\nSat Mar  5 16:29:26 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: freeze callback-entry objects\n\n\t* ext/tk/lib/tkextlib/tile.rb: support tile-0.6\n\nSat Mar  5 12:52:08 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): allow putting spaces between target\n\t  and colon in depend file.\n\nSat Mar  5 02:41:00 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (eaccess): workaround for VC++8 runtime.\n\n\t* win32/win32.c (ioinfo): VC++8 support.\n\nFri Mar  4 19:39:55 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#do_includes): replace\n\t  also locally defined modules.\n\n\t* ext/iconv/iconv.c: rdocified.\n\n\t* ext/strscan/strscan.c: moved misplaced rdoc.\n\nFri Mar  4 16:11:20 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_exec_recursive): matched the declaration to prototype.\n\n\t* ext/curses/curses.c: don't need to check HAVE_WCOLOR_SET excluding\n\t  window_color_set().\n\n\t* ext/tk/tcltklib.c: fixed commit mistakes.\n\nFri Mar  4 12:45:17 2005  Tilman Sauerbeck  <tilman@code-monkey.de>\n\n\t* lib/rdoc/parsers/parse_c.rb: allow whitespace after function names.\n\t  [ruby-core:4296]\n\n\t* lib/rdoc/parsers/parse_simple.rb: adds support for private comments\n\t  in the \"simple\" parser. [ruby-core:4301]\n\nFri Mar  4 12:45:17 2005  Charles Mills  <cmills@freeshell.org>\n\n\t* lib/rdoc/parsers/parse_c.rb: adds support for constants\n\t  (rb_define_const), accessors (rb_define_attr), and makes a\n\t  couple fixes. [ruby-core:4307]\n\nFri Mar  4 12:45:17 2005  Florian Gross  <florgro@gmail.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Logic for def Builtin.method() end\n\t  [ruby-core:4302]\n\nFri Mar  4 12:45:17 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c: replace rb_protect_inspect() and rb_inspecting_p() by\n\t  rb_exec_recursive() in eval.c.\n\n\t* eval.c (rb_exec_recursive): new function.\n\n\t* array.c (rb_ary_join): use rb_exec_recursive().\n\n\t* array.c (rb_ary_inspect, rb_ary_hash): ditto.\n\n\t* file.c (rb_file_join): ditto.\n\n\t* hash.c (rb_hash_inspect, rb_hash_to_s, rb_hash_hash): ditto.\n\n\t* io.c (rb_io_puts): ditto.\n\n\t* object.c (rb_obj_inspect): ditto\n\n\t* struct.c (rb_struct_inspect): ditto.\n\nFri Mar  4 10:15:30 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/set.rb (SortedSet::setup): a hack to shut up warning.\n\t  [ruby-talk:132866]\n\nFri Mar  4 09:37:12 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (install-nodoc, pre-install-doc, post-install-doc):\n\t  fix some omissions.\n\nFri Mar  4 08:09:12 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/time.rb (Time::strptime): add new function.  inspired by\n\t  [ruby-talk:132815].\n\n\t* lib/parsedate.rb (ParseDate::strptime): ditto.\n\nFri Mar  4 07:07:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow nkf 1.63\n\nThu Mar  3 23:24:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow nkf 1.62\n\nThu Mar  3 18:47:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/Makefile.sub (config.h): check if affected\n\t  when makefiles are modified.\n\n\t* {bcc32,win32,wince}/Makefile.sub (config.status): add variables\n\t  for tests.\n\n\t* win32/ifchange.bat: try to update a file only if modified.\n\n\t* win32/resource.rb: more descriptions.\n\n\t* common.mk: add {pre,post}-install targets.\n\n\t* instruby.rb (install?): install particular part.\n\n\t* bcc32/Makefile.sub (post-install-ext): remove debug information\n\t  files after installation.\n\n\t* ext/tk/tcltklib.c (ip_rbUpdateCommand, ip_rb_threadUpdateCommand):\n\t  get rid of warnings with Tcl/Tk 8.3 or former.\n\nThu Mar  3 11:49:51 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb: added site information.\n\nWed Mar  2 19:53:44 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (parse_args): return false if nothing matched.\n\nWed Mar  2 17:15:08 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (lib_eventloop_core): fix typo\n\nWed Mar  2 16:59:50 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* eval.c (ruby_native_thread_kill): call pthread_kill() to send a\n\t  signal to ruby's native thread\n\n\t* ruby.h: add definition of ruby_native_thread_kill()\n\n\t* signal.c (sigsend_to_ruby_thread): send the signal to ruby's\n\t  native thread ([ruby-dev:25744], [ruby-dev:25754]), and set\n\t  signal mask to the current native thread\n\nWed Mar  2 16:03:08 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: enforce thread-check and exception-handling to\n\t  avoid SEGV trouble.\n\n\t* ext/tk/tkutil/tkutil.c; fix a bug on converting a SJIS string array\n\t  to a Tcl's list string.\n\n\t* ext/tk/tcltklib.c: wrap Tcl's original \"namespace\" command to\n\t  protect from namespace crash.\n\n\t* ext/tk/lib/multi-tk.rb: enforce exception-handling.\n\n\t* ext/tk/lib/multi-tk.rb: catch IRB_EXIT to work on irb.\n\n\t* ext/tk/lib/tk.rb: ditto.\n\n\t* ext/tk/tcltklib.c: add TclTkLib.mainloop_thread?\n\n\t* ext/tk/lib/multi-tk.rb: (bug fix) callback returns a value.\n\n\t* ext/tk/lib/tk/canvas.rb (delete): bug fix when multiple arguments.\n\n\t* ext/tk/lib/clock.rb: fix 'no method error'.\n\n\t* ext/tk/lib/clock.rb (self.clicks): accept a Symbol argument.\n\n\t* ext/tk/lib/variable.rb: be able to set default_value_type; :numeric,\n\t  :bool, :string, :symbol, :list, :numlist or nil (default; same to\n\t  :string). If set a type, TkVariable#value returns a value of the\n\t  type.\n\n\t* ext/tk/lib/tkextlib/tclx/tclx.rb: add Tk::TclX.signal to warn the\n\t  risk of using TclX extension's 'signal' command.\n\n\t* ext/tk/sample/irbtk.rb: irb with Ruby/Tk.\n\n\t* ext/tk/sample/demos-*/anilabel.rb: bug fix on 'show code'\n\n\t* ext/tk/sample/demos-*/aniwave.rb: new Ruby/Tk animation demo.\n\n\t* ext/tk/sample/demos-*/pendulum.rb: ditto.\n\n\t* ext/tk/sample/demos-*/goldberg.rb: ditto.\n\n\t* ext/tk/sample/demos-*/widget: add entries of animation demos.\n\nWed Mar  2 12:21:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): [EXPERIMENTAL] NODE_LAMBDA implemented.\n\t  [ruby-dev:25780]\n\n\t* node.h (NODE_LAMBDA): for literal Proc object.\n\n\t* parse.y (expr): interpret mere do...end block as proc object.\n\n\t* parse.y (primary): ditto, for brace block.\n\nTue Mar  1 21:16:54 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* regcomp.c (optimize_node_left): uninitialized member\n\t  (OptEnv.backrefed_status) was used. [ruby-dev:25778]\n\nTue Mar  1 16:50:37 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regparse.c: move st_*_strend() functions from st.c.  fixed some\n\t  potential memory leaks.\n\nTue Mar  1 00:40:35 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/tuplespace.rb (Rinda::TupleSpace): improved keeper thread.\n\n\t* test/rinda/test_rinda.rb: ditto.\n\nMon Feb 28 23:10:13 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/socket/socket.c (Init_socket): IPv6 is not supported although\n\t  AF_INET6 is defined on bcc32. (rev1.108 again)\n\n\t* ext/socket/mkconstants.rb: ditto.\n\nMon Feb 28 21:55:49 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* ext/strscan/strscan.c (strscan_s_allocate):\n\t  use onig_region_init().\n\n\t* ext/strscan/strscan.c (adjust_registers_to_matched):\n\t  use onig_region_set().\n\nMon Feb 28 15:12:06 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/socket/socket.c (Init_socket): ported more Socket::Constants\n\t  from ruby_1_8, and made it easy to add new constants.\n\t  [ruby-dev:25771]\n\n\t* ext/socket/depend: ditto.\n\n\t* ext/socket/mkconstants.rb: ditto. (added)\n\nMon Feb 28 11:42:23 2005  Ian Macdonald  <ian@caliban.org>\n\n\t* exception error messages updated.  [ruby-core:04497]\n\nMon Feb 28 09:03:09 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (Init_socket): add bunch of Socket\n\t  constants.  Patch from Sam Roberts <sroberts@uniserve.com>.\n\t  [ruby-core:04409]\n\nSun Feb 27 05:55:38 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: fix typo. [ruby-core:04494]\n\nSat Feb 26 16:58:20 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* parse.y, re.c, regex.h, LEGAL, ext/strscan/strscan.c:\n\t  remove oniggnu.h (GNU regex API).\n\nWed Feb 23 22:08:16 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* st.c, st.h: imported additional file changes on\n\t  Oniguruma 3.7.0.\n\nWed Feb 23 21:45:29 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* ascii.c, euc_jp.c, oniggnu.h, oniguruma.h, regcomp.c,\n\t  regenc.c, regenc.h, regerror.c, regexec.c, regint.h,\n\t  regparse.c, regparse.h, sjis.c, utf8.c: imported Oni Guruma\n\t  3.7.0.\n\nWed Feb 23 15:04:32 2005  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (split_userinfo): should split \":pass\" into \"\"\n\t  and \"pass\".  [ruby-dev:25667]\n\nWed Feb 23 08:00:18 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_s_create): no need for negative argc check.\n\t  [ruby-core:04463]\n\n\t* array.c (rb_ary_unshift_m): ditto.\n\nWed Feb 23 01:53:29 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (initialize): handle certs correctly. Thanks,\n\t  NABEYA Kenichi.\n\nWed Feb 23 00:37:34 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/mkmf.rb (mkmf_failed): fixed typo.\n\nTue Feb 22 23:52:45 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, lib/mkmf.rb: use simple commands if available.\n\n\t* mkconfig.rb: remove autoconf internal variables from rbconfig.rb.\n\n\t* lib/mkmf.rb (create_makefile): substitute implicit rules in depend\n\t  file.\n\n\t* {bcc32,win32,wince}/Makefile.sub (COMPILE_RULES, RULE_SUBST):\n\t  include $(topdir) and $(hdrdir) to search path.\n\nTue Feb 22 23:51:45 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: get rid of warnings caused by a bug of VC.\n\nTue Feb 22 23:50:26 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (ruby_signal, ruby_nativethread_signal): must be valid as\n\t  expressions, not only statements.\n\nTue Feb 22 12:54:13 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_0): update curr_thread before raising\n\t  TAG_THREAD.  [ruby-dev:25712]\n\nTue Feb 22 07:24:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_yylex): identifier after dot must not be a variable.\n\nMon Feb 21 18:31:12 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* signal.c: Standard signal handlers ignore signals on non-Ruby native\n\t  threads. When a handler is entried with ruby_signal() (like as the\n\t  standard signal handlers), the handler for the signal is marked as\n\t  it cannot accept non-Ruby native threads. If a handler can treat all\n\t  signals on all native threads, please use ruby_nativethread_signal()\n\t  to entry it.\n\nSun Feb 20 00:48:48 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::FTP#buffer_open): access mechanism\n\t  re-implemented according to RFC 1738.\n\t  reported by Guillaume Marcais.  [ruby-talk:131650]\n\nSat Feb 19 18:46:56 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRbObject#respond_to?): take two arguments.\n\t  [ruby-dev:25722]\n\n\t* test/drb/drbtest.rb: ditto.\n\nSat Feb 19 13:52:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: call OpenSSL::SSL::SSLSocket#post_connection_check\n\t  after connection is made.\n\nSat Feb 19 13:31:28 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extract_makefile): remove no longer existing installed\n\t  files.\n\n\t* lib/mkmf.rb (install_dirs): return installation directory list.\n\n\t* lib/mkmf.rb (create_makefile): reverted wrongly removed lines.\n\nSat Feb 19 01:28:56 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/bigdecimal/lib/bigdecimal/newton.rb: resolved LoadError.\n\t  [ruby-dev:25685]\n\n\t* ext/bigdecimal/sample/linear.rb: ditto.\n\n\t* ext/bigdecimal/sample/nlsolve.rb: ditto.\n\n\t* ext/bigdecimal/lib/bigdecimal/nlsolve.rb: removed because this file\n\t  is sample script and same file exists in ext/bigdecimal/sample.\n\nFri Feb 18 17:14:00 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/xmlrpc/parser.rb (XMLRPC::FaultException): make it subclass\n\t  of StandardError class, not Exception class.  [ruby-core:04429]\n\nFri Feb 18 04:06:41 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (fcall_gen): lvar(arg) will be evaluated as\n\t  lvar.call(arg) when lvar is a defined local variable. [new]\n\nThu Feb 17 22:15:34 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* ext/strscan/strscan.c: calls Oniguruma API directly.\n\nThu Feb 17 21:53:12 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* common.mk, LEGAL: remove reggnu.c.\n\nThu Feb 17 21:53:12 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* gc.c, re.c: now ruby calls Oniguruma API directly, bypassing\n\t  GNU compatible APIs.\n\nThu Feb 17 20:09:23 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/drb/drb.rb (DRbServer.default_safe_level): fix typo.\n\nThu Feb 17 20:09:23 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/digest/test_digest.rb: separate test case for each algorithms.\n\t  [ruby-dev:25412]\n\nThu Feb 17 14:31:52 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_class_initialize): call inherited method before\n\t  calling initializing block.\n\n\t* eval.c (rb_thread_start_1): initialize newly pushed frame.\n\t  fixed: [ruby-dev:25707]\n\nThu Feb 17 13:46:00 2005  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/collector.rb (collect_file): now deletes paths added\n\t  to $LOAD_PATH instead of restoring it verbatim.\n\n\t* lib/test/unit/autorunner.rb (AutoRunner.run): fixed so that\n\t  'ruby -rtest/unit -rtest1 -rtest2 -e0' will use the objectspace\n\t  collector again. Also tried to simplify the calling convention.\n\n\t* test/runner.rb: adjusted for new AutoRunner semantics.\n\n\t* lib/test/unit.rb: ditto.\n\nThu Feb 17 04:21:47 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/open3.rb (Open3::popen3): $? should not be EXIT_FAILURE.\n\t  fixed: [ruby-core:04444]\n\nThu Feb 17 00:31:21 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/test_drb.rb, ut_safe1.rb: port from 1.8\n\nThu Feb 17 00:02:27 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): NODE_IASGN is an assignment.\n\nWed Feb 16 23:54:14 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_1): outer block variables wasn't linked to\n\t  threads.  fixed: [ruby-dev:25700]\n\nWed Feb 16 15:11:43 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::Nonblock#initialize):\n\t  native win32 platform doesn't have F_GETFL.\n\nWed Feb 16 02:47:45 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_read, ossl_ssl_write): should\n\t  call rb_sys_fail instead of raising SSLError if SSL_ERROR_SYSCALL\n\t  occurred.\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#fill_rbuff):\n\t  should rescue Errno::EAGAIN.\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#each): fix typo.\n\t  suggested by Brian Ollenberger.\n\n\t* ext/openssl/lib/openssl/ssl.rb: set non-blocking flag to the\n\t  underlying IO.\n\nTue Feb 15 22:14:34 2005  sheepman  <sheepman@tcn.zaq.ne.jp>\n\n\t* ext/readline/readline.c (Readline.readline): use rl_outstream\n\t  and rl_instream.  [ruby-dev:25699]\n\nMon Feb 14 23:58:17 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb (RSS::ListenerMixin::tag_end):\n\t  fixed invalid namespace handling bug.\n\nMon Feb 14 13:12:38 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb\n\t  (OpenSSL::SSL::SSLSocket#post_connection_check): new method.\n\nMon Feb 14 00:10:17 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRbServer): add default_safe_level, safe_level,\n\t  config[:safe_level] ([druby-ja:120])\n\n\t* test/drb/test_drb.rb, ut_eval.rb, ut_safe1.rb: ditto.\n\nSun Feb 13 23:13:46 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/dublincore.rb (RSS::DublicCoreModel#date{,=}): added\n\t  convenient methods.\n\n\t* lib/rss/0.9.rb (RSS::Rss::Channel#date{,=}): ditto.\n\n\t* lib/rss/2.0.rb (RSS::Rss::Channel::Item#date{,=}): ditto.\n\n\t* test/rss/: added tests for the convenient methods.\n\nSun Feb 13 23:12:47 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_0): restore prot_tag before rewinding.\n\nSun Feb 13 16:56:52 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI.start): should set reason-phrase\n\t  to the value of status header field. ([ruby-dev:40617])\n\nSun Feb 13 11:38:40 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regparse.c (type_cclass_hash): (Thanks Nobu) fixed\n\t  overrun. ([ruby-dev:25676]).\n\nSun Feb 13 10:53:08 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* oniggnu.h, oniguruma.h, regcomp.c, st.c: imported\n\t  Oni Guruma 3.6.0.\n\nSun Feb 13 01:33:19 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/erb.rb (ERB::Util.h, u): make it module_function.\n\nSat Feb 12 22:17:11 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (TAG_THREAD): to start a new thread.\n\n\t* eval.c (ruby_init, ruby_options, ruby_cleanup, rb_protect,\n\t  rb_load_protect, rb_thread_start_0): make thread anchor.\n\n\t* eval.c (proc_alloc): clone proc object if klass is not Proc or\n\t  created in different thread.\n\n\t* eval.c (rb_block_pass): call a function with a block.  [new]\n\n\t* eval.c (rb_f_throw): raise NameError in main thread.\n\nSat Feb 12 17:29:19 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_loop): send authentication only for\n\t  the URI directly specified.\n\nSat Feb 12 15:07:23 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* random.c (rand_init): suppress warning.\n\nSat Feb 12 14:10:24 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_http): reject userinfo explicitly.\n\nSat Feb 12 13:54:03 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: support https if the platform provides CA\n\t  certificates.\n\nSat Feb 12 06:18:28 2005  URABE Shyouhei  <shyouhei@ice.uec.ac.jp>\n\n\t* ext/etc/etc.c (Init_etc): sGroup needs HAVE_ST_GR_PASSWD check\n\t  [ruby-dev:25675]\n\nFri Feb 11 17:37:50 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509store.c (ossl_x509store_set_default_paths):\n\t  new method OpenSSL::X509::Store#set_default_paths.\n\nFri Feb 11 11:33:53 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::HTTP#proxy_open): new option supported:\n\t  :http_basic_authentication.\n\t  suggested by Kent Sibilev.  [ruby-core:4392]\n\nFri Feb 11 06:30:07 2005  George Ogata  <g_ogata@optushome.com.au>\n\n\t* misc/ruby-mode.el: ignore parenthesis inside heredoc.\n\t  [ruby-core:04415]\n\nFri Feb 11 04:54:13 2005  Tilman Sauerbeck  <tilman@code-monkey.de>\n\n\t* lib/rdoc/generators/html_generator.rb: [ruby-core:04412]\n\n\t* lib/rdoc/generators/ri_generator.rb: ditto.\n\nThu Feb 10 13:52:42 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* configure.in, win32/Makefile.sub (LIBS, COMMON_HEADERS): use\n\t  winsock2 on mswin32/mingw.\n\n\t* ext/socket/extconf.rb: ditto.\n\n\t* win32/win32.c (StartSockets): ditto.\n\n\t* win32/win32.h: ditto.\n\nThu Feb 10 12:09:16 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extract_makefile): default to true if not compiled\n\t  previously.\n\n\t* ext/extmk.rb (extmake): create dummy makefile if extconf failed.\n\nThu Feb 10 12:07:10 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (init_stdhandle): assign standard file handles.\n\n\t* bcc32/Makefile.sub (COMMON_LIBS): add libraries included in\n\t  import32.lib.\n\n\t* lib/mkmf.rb (create_makefile): restrict prefixing with srcdir to\n\t  rule lines, add search path to implicit rules, and set Borland make\n\t  special macros for search path.\n\n\t* win32/win32.c, win32/win32.h (read): avoid a BCC runtime bug.\n\nThu Feb 10 00:47:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (make_struct): fixed: [ruby-core:04402]\n\nWed Feb  9 16:33:05 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (wait_connectable): fixed wrong condition.\n\nWed Feb  9 14:42:28 2005  URABE Shyouhei  <shyouhei@ice.uec.ac.jp>\n\n\t* eval.c (scope_dup): add volatile not to optimize tbl.\n\nWed Feb  9 10:02:02 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tk/make-tkutil, ext/tk/tkutil/subconf.rb: no longer used.\n\n\t* ext/tk/tkutil/extconf.rb: need to compile tkutil. [ruby-dev:25607]\n\nWed Feb  9 08:07:08 2005  Paul Duncan  <pabs@pablotron.org>\n\n\t* ext/curses/curses.c (window_color_set): [ruby-core:04393]\n\nTue Feb  8 23:48:36 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: reject :instance_eval, :class_eval, :module_eval\n\t  [druby-ja:117]\n\nTue Feb  8 22:38:28 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* keywords, parse.y: separate EXPR_VALUE from EXPR_BEG.\n\t  fixed: [ruby-core:04310], [ruby-core:04368]\n\nTue Feb  8 13:06:12 2005  Sam Roberts  <sroberts@uniserve.com>\n\n\t* ext/socket/socket.c (Init_socket): SO_REUSEPORT added.\n\t  [ruby-talk:130092]\n\nTue Feb  8 00:19:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Name#subdomain_of?): new method.\n\t  (Resolv::DNS::Name#inspect): ditto.\n\t  Suggested by Sam Roberts.  [ruby-talk:129086]\n\nMon Feb  7 23:14:11 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (io_getc): flush rb_stdout before read from stdin, which is\n\t  connected to a tty.  [ruby-core:4378]\n\n\t* rubyio.h (FMODE_TTY): renamed from FMODE_LINEBUF.\n\nMon Feb  7 10:06:30 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c: [ruby-doc:818]\n\nMon Feb  7 02:13:05 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/extconf.rb (sockaddr_storage): winsock2.h have the\n\t  definition of struct sockaddr_storage, but socket.c doesn't\n\t  include it because this version of ruby still has binary level\n\t  compatibility with winsock1.\n\nMon Feb  7 01:22:50 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extract_makefile): extract previously collected\n\t  informations from existing Makefile.\n\n\t* ext/socket/extconf.rb: check if getaddrinfo() works fine only when\n\t  wide-getaddrinfo option is not given.  fixed: [ruby-dev:25422]\n\n\t* ext/tk/extconf.rb: separate tkutil configuration.\n\n\t* lib/mkmf.rb ($extmk): check if under ext directory.\n\n\t* lib/mkmf.rb (Logging.postpone): allow recursive operation.\n\n\t* lib/mkmf.rb (try_constant): make sure if really a constant, reduce\n\t  the number of times of compile.\n\n\t* lib/mkmf.rb (have_macro, have_var, byte_order): new functions.\n\n\t* lib/mkmf.rb (find_library): allow directory list with separators.\n\n\t* lib/mkmf.rb (arg_config): manage provided configuration options.\n\n\t* lib/mkmf.rb (dir_config): accept arrays of directory names as\n\t  default values.\n\n\t* lib/mkmf.rb (with_cppflags, with_cflags, with_ldflags): keep flags\n\t  modified if the block returned true.\n\nSun Feb  6 19:20:05 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (stack_extend): add prototype because VC++8 doesn't\n\t  accept __declspec(noinline) with K&R style function definitions.\n\nSun Feb  6 13:56:19 2005  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (new_with_hash): changed messages of exception.\n\n\t* lib/date/format.rb (str[fp]time): undocumented conversion\n\t  specifications %[1-3] are now deprecated.\n\nSun Feb  6 11:27:37 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/dl/dl.c (Init_dl): function declaration should precede\n\t  statements before C99.\n\nSun Feb  6 03:24:20 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Resource::TXT): multiple strings was not\n\t  handled.\n\t  (Resolv::DNS::Resource::TXT#strings): new method to return all\n\t  strings.\n\t  (Resolv::DNS::Message::MessageEncoder#put_string_list): new method.\n\t  (Resolv::DNS::Message::MessageDecoder#get_string_list): ditto.\n\t  based on [ruby-talk:129732] by Sam Roberts.\n\nSat Feb  5 02:24:06 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/test_scanner_events.rb: fix test.\n\nFri Feb  4 18:44:35 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/lexer.rb: last Lexer fix was incomplete;\n\t  test all green.\n\nFri Feb  4 15:57:06 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (open_args): fix too verbose warnings for the space\n\t  before argument parentheses.  [ruby-dev:25492]\n\n\t* parse.y (parser_yylex): ditto.\n\nFri Feb  4 14:33:25 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/filter.rb: ripper/tokenizer ->\n\t  ripper/lexer. [ruby-dev:25632]\n\nFri Feb  4 00:24:15 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss: supported Image module.\n\t  http://web.resource.org/rss/1.0/modules/image/\n\nThu Feb  3 23:42:36 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_close, strio_close_read, strio_close_write):\n\t  should return nil instead of self as well as IO.  [ruby-dev:25623]\n\n\t* ext/stringio/stringio.c (strio_extend, strio_putc): fill with zero\n\t  extended portion.  [ruby-dev:25626]\n\nThu Feb  3 16:12:57 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): the first expression in the parentheses\n\t  should not be a command.  [ruby-dev:25492]\n\nThu Feb  3 03:31:20 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow original v 1.57\n\n\t* ext/nkf/nkf-utf8/utf8tbl.c: follow original v 1.8\n\n\t* ext/nkf/nkf-utf8/config.h: follow original v 1.7\n\nWed Feb  2 23:52:53 2005  sheepman  <sheepman@tcn.zaq.ne.jp>\n\n\t* ext/stringio/stringio.c (strio_truncate): should MEMZERO an extended\n\t  part.  [ruby-dev:25618]\n\nWed Feb  2 21:56:01 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::Element#convert): added.\n\n\t* lib/rss/rss.rb: convert -> need_convert.\n\n\t* lib/rss/1.0.rb: ditto.\n\n\t* lib/rss/0.9.rb: ditto.\n\n\t* lib/rss/2.0.rb: ditto.\n\n\t* lib/rss/trackback.rb: ditto.\n\nWed Feb  2 03:30:58 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/tokenizer.rb -> lexer.rb.\n\n\t* ext/ripper/lib/ripper/lexer.rb: new method Ripper.slice.\n\t  [experimental]\n\n\t* ext/ripper/lib/ripper/sexp.rb: new file. [experimental]\n\n\t* ext/ripper/lib/ripper.rb: require ripper/lexer and ripper/sexp.\n\nTue Feb  1 21:49:24 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRb::DRbObject#respond_to?): check marshal_dump and\n\t  _dump.\n\nTue Feb  1 00:20:23 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, configure.in: made EXTOUT configurable.\n\n\t* ext/extmk.rb (extmake), lib/mkmf.rb: keep topdir as relative style.\n\n\t* lib/mkmf.rb: make extensions in depth order.  [ruby-dev:25522]\n\n\t* configure.in (aix): fix linker flags on AIX.  [ruby-talk:125460]\n\nMon Jan 31 13:16:39 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/extconf.rb: add tkutil configuration step (remove old schema)\n\n\t* ext/tk/depend: remove the information of tkutil\n\n\t* ext/tk/make-tkutil: sub-part of Makefile to compile tkutil\n\n\t* ext/tk/tkutil/tkutil.c: move tkutil.c to subdirectory\n\n\t* ext/tk/tkutil/subconf.rb: configuration file for tkutil.c\n\n\t* ext/tk/tkutil/depend: ditto\n\nMon Jan 31 13:13:35 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: add invalid namespace check\n\n\t* ext/tk/lib/multi-tk.rb: add invalid_namespace? method\n\n\t* ext/tk/lib/remote-tk.rb: ditto\n\nMon Jan 31 10:29:18 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/context.rb (IRB::Context::initialize): [ruby-core:04330]\n\nMon Jan 31 09:44:03 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): remove Object#type.  [ruby-core:04335]\n\nSat Jan 29 09:42:12 2005  Sam Roberts  <sroberts@uniserve.com>\n\n\t* lib/resolv.rb (Resolv::DNS::Resource::IN::SRV): Added RFC2782 SRV\n\t  resource record for specifying location of services.\n\nSat Jan 29 00:10:33 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* ascii.c, euc_jp.c, hash.c, oniggnu.h, oniguruma.h, regcomp.c,\n\t  regenc.c, regenc.h, regerror.c, regexec.c, reggnu.c, regint.h,\n\t  regparse.c, regparse.h, sjis.c, st.c, st.h, utf8.c: imported\n\t  Oni Guruma 3.5.4.\n\nFri Jan 28 17:16:55 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Config.parse_resolv_conf):\n\t  parse options line for ndots option.\n\t  (Resolv::Hosts#lazy_initialize): return self.\n\t  (Resolv::DNS#lazy_initialize): ditto.\n\t  (Resolv::DNS::Config#lazy_initialize): ditto.\n\t  Suggested by Sam Roberts.\n\nThu Jan 27 17:15:03 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tk/extconf.rb: support new tk scheme on bccwin32.\n\t  fixed: [ruby-dev:25546]\n\nThu Jan 27 13:18:03 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* st.c (st_foreach): report success/failure by return value.\n\t  [ruby-Bugs-1396]\n\nThu Jan 27 00:12:19 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (setup): support BSD style\n\t  directory group inheritance (again).\n\nThu Jan 27 00:02:40 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (setup): support BSD style\n\t  directory group inheritance. [ruby-dev:25440]\n\n\t* test/fileutils/fileasserts.rb (assert_same_entry): show entry\n\t  difference.\n\nWed Jan 26 17:12:50 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: forgot to initialize parser struct.  [ruby-dev:25492]\n\n\t* parse.y (parser_yylex): no tLABEL on EXPR_BEG.\n\t  [ruby-talk:127711]\n\nWed Jan 26 14:12:58 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/Setup*: remove tcltklib.\n\nWed Jan 26 12:45:16 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tk/extconf.rb: support new tk scheme on mswin32.\n\t fixed: [ruby-dev:25535]\n\nWed Jan 26 10:45:19 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (flock_winnt, flock_win95): unlock file even if\n\t  LOCK_NB is specified.\n\nTue Jan 25 23:10:48 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk: merge tcltklib for Ruby/Tk installation control\n\n\t* ext/tcltklib: remove\n\nTue Jan 25 17:05:15 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (proc_options): correct -T option in RUBYOPT.\n\t  fixed: [ruby-dev:25512]\n\nTue Jan 25 14:05:52 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix SEGV bug; trouble on canceling remained\n\t  after scripts [ruby-dev:25479]: NULL current namespace when deleting\n\t    Tk interpreter [ruby-talk:126225]\n\n\t* ext/tcltklib/extconf.rb: bug fix; TCL_ENABLE_THREAD flag is inverted\n\t  [ruby-talk:126360]\n\n\t* ext/tcltklib/extconf.rb: add yet another native-thread check\n\n\t* ext/tk/tkutil.c: fix SEGV bug; NULL string pointer when finalize\n\t  Ruby interpreter\n\n\t* ext/tk/lib/multi-tk.rb: avoid warning for deleted safeTk ip frame\n\n\t* ext/tk/lib/tk/bindtag.rb: bug fix; new method of named bindtag\n\t  doesn't return the created object [ruby-dev:25479]\n\n\t* ext/tk/lib/tk/menu.rb: bug on treating arguments [ruby-dev:25479]\n\n\t* ext/tk/lib/tk.rb: bug fix; cannot accept a callback ID string for\n\t  a command argument [ruby-dev:25479]\n\n\t* ext/tk/lib/multi-tk.rb: ditto\n\n\t* ext/tk/lib/tk/*.rb: ditto\n\n\t* ext/tk/lib/tkextlib/*.rb: ditto\n\n\t* ext/tk/sample/demos-jp/anilabel.rb: new demo script\n\n\t* ext/tk/sample/demos-en/anilabel.rb: ditto\n\n\t* ext/tk/sample/tkHTML/ss.rb: local variable scope bug fix\n\t  [ruby-dev:25479]\n\nMon Jan 24 16:00:53 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (guess_old): not use NKF.guess_old\n\t  but NKF.guess1. fixed: [ruby-dev:25491]\n\nMon Jan 24 15:44:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* document updates - [ruby-core:04296], [ruby-core:04301],\n\t  [ruby-core:04302], [ruby-core:04307]\n\nSun Jan 23 12:38:01 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/wsdlDriver.rb: from 1.5.3-ruby1.8.2, operation which has\n\t  capitalized name (such as KeywordSearchRequest in AWS) is defined as\n\t  a method having uncapitalized name. (converted with\n\t  GenSupport.safemethodname to handle operation name 'foo-bar').  it\n\t  introduced serious incompatibility; in the past, it was defined as a\n\t  capitalized.\n\n\t  define capitalized method as well under that circumstance.\n\nSun Jan 23 05:24:42 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspreq_to_der): should call\n\t  GetOCSPReq at first.\n\nSat Jan 22 22:59:08 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/ssl.rb (accept): rescue SSLError. [druby-ja:110]\n\nSat Jan 22 22:27:28 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/unix.rb: fail if UNIXFileOwner is set. [druby-ja:111]\n\nFri Jan 21 20:07:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Config.resolv): don't raise ResolvError.\n\t  reported by Sam Roberts.  [ruby-talk:127133]\n\nFri Jan 21 17:09:44 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (decode_utf7): use pack(\"U*\") to encode UTF-8.\n\n\t* lib/net/imap.rb (encode_utf7): use unpack(\"U*\") to decode UTF-8.\n\n\t* test/net/imap/test_imap.rb: added tests for Net::IMAP.\n\nFri Jan 21 16:58:10 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (rb_push_glob): should work for NUL delimited patterns.\n\n\t* dir.c (rb_glob2): should aware of offset in the pattern.\n\nFri Jan 21 13:58:37 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (u8tou16): fixed typo. fixed: [ruby-list:40546]\n\nFri Jan 21 00:37:09 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (syck_parser_bufsize_set): avoid VC++ warning\n\t  \"local variable 'size' used without having been initialized\".\n\nThu Jan 20 11:42:02 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_new4): should propagate taintedness.\n\n\t* env.h: rename member names in struct FRAME; last_func -> callee,\n\t  orig_func -> this_func, last_class -> this_class.\n\n\t* struct.c (rb_struct_set): use original method name, not callee\n\t  name, to retrieve member slot.  [ruby-core:04268]\n\n\t* time.c (time_strftime): protect from format modification from GC\n\t  finalizers.\n\nThu Jan 20 02:01:10 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): remove rb_obj_id_obsolete()\n\nWed Jan 19 18:02:19 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/ipaddr.rb (to_s, test_to_s): too many colons with some cases.\n\nWed Jan 19 01:16:30 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Config.parse_resolv_conf): ignore\n\t  domain and search directive without an argument.\n\t  reported by Sam Roberts.  [ruby-talk:126781]\n\nMon Jan 17 23:33:46 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (aix): fix typo.  [ruby-talk:126401]\n\nMon Jan 17 07:08:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/readline/readline.c: suppress warnings.\n\n\t* lib/irb/extend-command.rb (IRB::ContextExtender.def_extend_command):\n\t  ditto.\n\n\t* lib/irb/ext/history.rb (IRB::Context::set_last_value): ditto.\n\n\t* lib/irb/ext/history.rb (IRB::Context::eval_history): ditto.\n\n\t* lib/irb/locale.rb (IRB::Locale::real_load): ditto.\n\n\t* lib/irb/slex.rb (SLex::Node::create_subnode): remove garbage.\n\nMon Jan 17 00:09:42 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/uri/common.rb (PORT): typo fix. fixed: [ruby-core:04256]\n\nSat Jan 15 14:57:22 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): ignore trailing CRs at the end of short\n\t  options as well as long options.  fixed: [ruby-core:04232]\n\nSat Jan 15 13:44:22 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.2 -> 0.1.3.\n\n\t* lib/rss/rss.rb: accept inheritance. [ruby-talk:126104]\n\nWed Jan 12 12:29:28 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_mod_define_method): incomplete subclass check.\n\t  [ruby-dev:25464]\n\n\t* class.c (rb_make_metaclass): class of metaclasses should be\n\t  plain Class.  [ruby-list:40524]\n\nTue Jan 11 20:58:52 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (remain_size): use buffered data instead of unreading to avoid\n\t  inconsistency of text mode.  fixed: [ruby-dev:25446]\n\nTue Jan 11 09:37:53 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* numeric.c (Init_Numeric): turn off floating point exceptions\n\t  on bcc32. \"1e300\".to_f had crashed by overflow.\n\nMon Jan 10 15:28:51 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI::Socket#request_line): should\n\t  escape SCRIPT_NAME and PATH_INFO before being parsed as a URI.\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils#escape_path): add\n\t  new method to escape URI path component.\n\n\t* lib/webrick/ssl.rb (WEBrick::Config::SSL): the default value\n\t  of :SSLEnable is false.\n\n\t* test/webrick/{test_cgi.rb,webrick.cgi}: new file.\n\n\t* test/webrick/utils.rb: require \"webrick/https.h\".\n\nMon Jan 10 01:22:55 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (rb_data_object_alloc): klass may be NULL.\n\t  [ruby-list:40498]\n\nSun Jan  9 14:12:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_f_select): IO list could be altered.  [ruby-dev:25312]\n\nSun Jan  9 04:08:40 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/webrick/test_server.rb (test_daemon): delete an assertion\n\t  which has possibility to fail by race condition.\n\nSun Jan  9 03:22:46 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (test_copy_entry): copy_entry\n\t  copies only file type, not mtime. [ruby-dev:25383]\n\nSat Jan  8 04:38:47 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb: Kernel#y requires an argument.\n\nFri Jan  7 21:12:29 2005  TAMURA Takashi  <sheepman@tcn.zaq.ne.jp>\n\n\t* random.c (rand_init): use ALLOC_N instead of ALLOCA_N\n\t  [ruby-dev:25426]\n\nFri Jan  7 20:01:31 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#proxy_service):\n\t  should delete trailing LF from the result of pack(\"m*\").\n\n\t* lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#proxy_connect):\n\t  - should delete trailing LF from the result of pack(\"m*\").\n\t  - clear Request-Line not to send the response by HTTPServer#run.\n\n\t* lib/webrick/httputils (WEBrick::HTTPUtils.parse_qvalues):\n\t  refine regexp (and change the name of a local variable).\n\n\t* lib/webrick/server.rb (WEBrick::Daemon.start): prepared stdio\n\t  don't allow changing its mode.\n\n\t* test/webrick/*, sample/webrick/httpproxy.rb: add new files.\n\nFri Jan  7 18:03:35 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (mark_locations_array): avoid core dump with -O3.\n\t  [ruby-dev:25424]\n\nThu Jan  6 20:29:18 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (zstream_end): should return value.\n\nThu Jan  6 19:59:03 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_close): didn't close socket handle.\n\t  [ruby-dev:25414]\n\n\t* win32/win32.c (rb_w32_open_osfhandle): bcc32's _open_osfhandle\n\t  never set EMFILE.\n\nThu Jan  6 17:22:41 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* random.c (random_seed): O_NONBLOCK isn't defined on some\n\t  platforms. [ruby-dev:25417]\n\nThu Jan  6 13:45:35 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/time.rb: recognize +00:00 and GMT as a localtime.\n\nThu Jan  6 07:58:28 2005  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/usage.rb (RDoc::RDoc.usage_no_exit): Allow for colons\n\t  in path names on DOS machines. (thanks to Johan Nilsson)\n\nThu Jan  6 00:02:35 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb: use MockClock.sleep instead of Kernel.sleep\n\t  [ruby-dev:25387]\n\nWed Jan  5 20:16:32 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* random.c (limited_big_rand): didn't work if SIZEOF_BDIGITS == 2.\n\t  [ruby-dev:25408]\n\n\t* random.c (random_seed): refined.\n\nWed Jan  5 16:39:54 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* parse.y (BITSTACK_POP): workaround for bcc32 compiler's bug.\n\t  shift assignment operator '>>=' for __int64 in struct may\n\t  generate collapsed code. [ruby-dev:25342]\n\n\t* win32/win32.[ch]: failed to compile on bcc32 (and probably wince)\n\t  [ruby-dev:25306]\n\nWed Jan  5 12:49:39 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_initialize): Thread objects cannot be initialized\n\t  again.  fixed: [ruby-core:04067]\n\nWed Jan  5 02:30:11 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* random.c (init_by_array): imported from mt19937ar-cok.tgz.\n\t  (genrand_int32): ditto.\n\t  (genrand_real): replaced with genrand_res53 in mt19937ar-cok.\n\t  (rand_init): support bignum for longer seed.\n\t  (random_seed): generate longer seed.\n\t  (make_mask): new function.\n\t  (limited_rand): ditto.\n\t  (limited_big_rand): ditto.\n\t  (rb_f_rand): call limited_rand and limited_big_rand.\n\t  [ruby-dev:25403]\n\nTue Jan  4 23:25:29 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_rand): should return positive random number.\n\t  [ruby-dev:25401]\n\nTue Jan  4 21:25:43 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/{test_drbssl.rb,test_drbunix.rb,ut_drb.rb}: use\n\t  DRbService.ext_service. reduce sleep.\n\nMon Jan  3 14:01:54 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* random.c (random_seed): don't use /dev/urandom if it is not\n\t  character device.\n\nMon Jan  3 11:37:42 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* random.c (random_seed): use /dev/urandom if available.\n\t  [ruby-dev:25392]\n\nTue Jan  4 11:15:29 2005  TAMURA Takashi  <sheepman@tcn.zaq.ne.jp>\n\n\t* bignum.c (rb_big_rand): do not use rb_big_modulo to generate\n\t  random bignums.  [ruby-dev:25396]\n\nMon Jan  3 11:03:37 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/test_drb.rb: move TestDRbReusePort to new file.\n\t  [ruby-dev:25238]\n\n\t* test/drb/drbtest.rb: change timeout.\n\n\t* test/drb/ignore_test_drb.rb: new file.\n\nMon Jan  3 07:27:46 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpauth/htpasswd.rb (WEBrick::Htpasswd#reload):\n\t  raise NotImplementedError if password is encrypted by digest\n\t  algorithms. This patch is contributed by sheepman. [ruby-list:40467]\n\n\t* lib/webrick/httpauth/digestauth.rb\n\t  (WEBrick::HTTPAuth::DigestAuth#_authenticate): fix digest calculation.\n\t  This patch is contributed by sheepman. [ruby-list:40482]\n\n\t* lib/webrick/{httpauth.rb,httpauth/basicauth.rb,httpproxy.rb}: use\n\t  pack/unpack-template char \"m\" instead of lib/base64.rb to do base64\n\t  encoding/decoding. fixed: [ruby-dev:25336]\n\n\t* test/webrick/test_httpauth.rb: new file.\n\nSun Jan  2 15:42:10 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: add lazy stop_service.\n\n\t* lib/drb/extserv.rb: ditto.\n\nSun Jan  2 01:17:17 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/drbtest.rb: add method DRbService.ext_service.\n\n\t* test/drb/test_drb.rb: ditto.\n\n\t* test/drb/test_drbssl.rb: ditto.\n\nSat Jan  1 20:23:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (argf_readpartial): new method ARGF.readpartial.\n\t  (io_getpartial): extracted from io_readpartial.\n\t  (io_readpartial): call io_getpartial.\n\nSat Jan  1 17:44:54 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (each_capitalized): should join header field\n\t  value.  This patch is contributed sheepman [ruby-list:40478]\n\n\t* test/net/http/test_httpheader.rb: test it.\n\nSat Jan  1 16:21:29 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (copy_stream): use read/write instead of\n\t  sysread/syswrite, which allows duck typing. [ruby-dev:25369]\n\n\t* lib/fileutils.rb (copy_stream): does NOT support nonblocking IO.\n\t  [ruby-dev:25370]\n\n\t* lib/fileutils.rb (copy_entry): could not copy symlink.\n\n\t* test/fileutils/test_fileutils.rb: test copy_entry, copy_file,\n\t  copy_stream.\n\nSat Jan  1 04:20:23 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ns_spki.c (ossl_spki_set_challenge): should call\n\t  StringValue before GetSPKI. fixed: [ruby-dev:25359].\n\nSat Jan  1 01:13:28 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_autoload): [ruby-dev:25373]\n\nFri Dec 31 14:10:43 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::TextFormatter::display_flow_item):\n\t  Fix problem if heading contains formatting.\n\nFri Dec 31 00:08:02 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in (HAVE_RLIM_T): removed because not used.\n\nThu Dec 30 22:45:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h: don't deprecate rb_read_check.\n\n\t* io.c (STDIO_READ_DATA_PENDING): reverted from old READ_DATA_PENDING\n\t  to check stdio read buffer.\n\t  (rb_read_check): use STDIO_READ_DATA_PENDING.\n\t  (rb_read_pending): ditto.\n\t  (rb_getc): ditto.\n\nThu Dec 30 05:39:35 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y: eliminate unused members in struct parser_params.\n\t  [ruby-dev:25258] (again)\n\n\t* parse.y: make parser_new() static.\n\nThu Dec 30 00:41:42 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (svalue_to_avalue): [ruby-dev:25366]\n\n\t* string.c (rb_str_justify): [ruby-dev:25367]\n\nWed Dec 29 11:07:07 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/html/kilmer.rb: Update to use new\n\t  sections.\n\nTue Dec 28 22:31:46 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_justify): create buffer string after argument type\n\t  conversion.  fixed: [ruby-dev:25341]\n\nTue Dec 28 17:18:17 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/net/telnet.rb (preprocess): remove NULL unless binmode.\n\t  fixed: [ruby-list:40320]\n\nTue Dec 28 15:41:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (reinit): should initialize all static\n\t  variables.  fixed: [ruby-list:40445]\n\nTue Dec 28 15:25:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (Kconv::RegexpEucjp): second byte is up to\n\t  0xfe.\n\n\t* ext/nkf/lib/kconv.rb (Kconv#kconv): should handle UTF8 and UTF16\n\t  properly.\n\nTue Dec 28 13:35:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (rb_deflate_s_deflate, rb_inflate_s_inflate): ensure\n\t  freeing internal zstreams.  fixed: [ruby-dev:25309]\n\n\t* ext/zlib/zlib.c (rb_deflate_init_copy): replace rb_deflate_clone.\n\nMon Dec 27 20:02:14 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix SEGV bug when deleting Tk interp\n\n\t* ext/tk/lib/multi-tk.rb: ditto\n\nMon Dec 27 16:54:05 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c (Init_ossl_x509name): should use\n\t  rb_hash_new to get exactly a Hash. fix [ruby-dev:25325].\n\nMon Dec 27 15:29:12 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (cp_r): tested wrong file name.\n\t  [ruby-dev:25339]\n\nMon Dec 27 15:15:18 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mv): should raise error when moving a\n\t  directory to the (empty) directory. [ruby-talk:124368]\n\n\t* lib/fileutils.rb (mv): wrongly did not overwrite file on Win32\n\t  platforms.\n\nMon Dec 27 14:36:20 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (NUM2RLIM, RLIM2NUM): Without SIZEOF_RLIM_T is not error.\n\t  fixed: [ruby-dev:25346]\n\nSun Dec 26 16:21:39 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (Net::IMAP::PlainAuthenticator): added a new class\n\t  to support the PLAIN authentication mechanism. Thanks, Benjamin\n\t  Stiglitz.\n\nSat Dec 25 01:28:23 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_select): [ruby-dev:25312]\n\nFri Dec 24 23:27:18 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/image.rb: TkPhotoImage#cget bug fix\n\nFri Dec 24 03:06:13 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (io_reopen, rb_io_reopen): prohibit to change access mode for\n\t  special IO ports.  [ruby-dev:25225]\n\n\t* io.c (next_argv): reduce use of stdio.\n\nFri Dec 24 02:22:53 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_loader_transfer): check type conversion.\n\n\t* ext/syck/rubyext.c (syck_parser_assign_io, rb_new_syck_node): duck\n\t  typing.\n\n\t* ext/syck/rubyext.c (syck_parser_s_alloc, syck_parser_initialize):\n\t  allocation framework.\n\n\t* ext/syck/rubyext.c (syck_emitter_s_alloc, syck_emitter_initialize):\n\t  ditto.\n\nFri Dec 24 01:21:00 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/blt.rb: add BLT extension support\n\n\t* ext/tk/lib/tkextlib/blt/*.rb: ditto\n\n\t* ext/tk/lib/tkextlib/blt/tile/*.rb: ditto\n\nThu Dec 23 23:43:24 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (proc_setgroups): check if the argument length is\n\t  modified.  fixed: [ruby-dev:25285]\n\n\t* process.c (SIZEOF_RLIM_T): err if size of rlim_t is not set.\n\nThu Dec 23 19:08:41 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h: rename FMODE_UNSEEKABLE to FMODE_DUPLEX.\n\n\t* io.c (io_check_tty): extracted function to set FMODE_LINEBUF and\n\t  FMODE_DUPLEX.\n\nThu Dec 23 13:13:33 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: define TclTkLib::COMPILE_INFO and\n\t  RELEASE_DATE\n\n\t* ext/tcltklib/extconf.rb: ditto\n\n\t* ext/tk/tkutil.c: define TkUtil::RELEASE_DATE\n\n\t* ext/tk/lib/tk.rb: define Tk::RELEASE_DATE\n\nThu Dec 23 00:16:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (bsdi): use $(CC) for LDSHARED.  fixed [ruby-dev:25270]\n\nWed Dec 22 11:14:55 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_mode_modenum): replace O_ACCMODE with O_RDWR.\n\t  fixed: [ruby-dev:25273]\n\nWed Dec 22 08:34:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/sym.c (rb_dlsym_initialize): extract internal pointers after\n\t  all argument conversion.  fixed: [ruby-dev:25271]\n\nTue Dec 21 16:15:21 2004  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* lib/xmlrpc/client.rb: use \"\" instead of \".\" if prefix argument is\n\t  nil in proxy methods. nil is default value.\n\n\t* test/xmlrpc/test_webrick_server.rb, test/xmlrpc/webrick_testing.rb:\n\t  use threads instead of forking. this should fix issue #1208\n\t  (http://rubyforge.org/tracker/?func=detail&atid=1698&aid=1208&group_id=426).\n\t  removed testing of SSL enabled servlet as this hangs.\n\nWed Dec 22 00:05:10 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/*, test/soap/*, sample/soap/authheader/*: eval cleanup.\n\nTue Dec 21 22:07:41 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_decode_all): use rb_str_new4\n\t  to avoid SEGV.\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_traverse, ossl_asn1_decode,\n\t  ossl_asn1_decode_all): temporary value should be marked volatile.\n\nTue Dec 21 12:42:34 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_traverse, ossl_asn1_decode):\n\t  use rb_str_new4 to avoid SEGV. fix [ruby-dev:25261]\n\n\t* test/openssl/test_asn1.rb: add tests for OpenSSL::ASN1.\n\nTue Dec 21 12:10:04 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/grid.rb: rescue bug of 'grid configure' on Tcl/Tk8.3-\n\nMon Dec 20 22:52:29 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* added samples for the previous soap4r's commit.\n\nMon Dec 20 22:56:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (set_stack_end): gcc noinline attribute is available since\n\t  gcc-3.1.\n\nMon Dec 20 22:40:31 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* added files:\n\t  * lib/soap/mapping/wsdl*.rb\n\t  * lib/wsdl/soap/element.rb\n\t  * lib/wsdl/xmlSchema/simpleContent.rb\n\n\t* modified files:\n\t  * lib/soap/*\n\t  * lib/wsdl/*\n\t  * lib/xsd/*\n\t  * test/soap/*\n\t  * test/wsdl/*\n\t  * test/xsd/*\n\n\t* summary\n\t  * imported from the soap4r repository.  Version: 1.5.3-ruby1.8.2\n\n\t  * added several XSD basetype support: nonPositiveInteger,\n\t    negativeInteger, nonNegativeInteger, unsignedLong, unsignedInt,\n\t    unsignedShort, unsignedByte, positiveInteger\n\n\t  * HTTP client connection/send/receive timeout support.\n\n\t  * HTTP client/server gzipped content encoding support.\n\n\t  * improved WSDL schema definition support; still is far from\n\t    complete, but is making step by step improvement.\n\nMon Dec 20 14:45:19 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/https.rb: delete descriptions about key_file and cert_file.\n\t  fixed: [ruby-dev:25243]\n\n\t* ext/openssl/lib/net/telnets.rb: ditto.\n\nMon Dec 20 14:07:02 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: supports new features of Tcl/Tk8.5a2\n\n\t* ext/tk/lib/tk/clock.rb: ditto\n\n\t* ext/tk/lib/tk/text.rb: ditto\n\n\t* ext/tk/lib/tk/panedwindow.rb: ditto\n\nMon Dec 20 13:51:40 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyport): [ruby-talk:124072]\n\nMon Dec 20 10:51:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (special_local_set): prevent the parser object from GC.\n\t  fixed: [ruby-dev:25252]\n\nMon Dec 20 03:30:40 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session#initialize): empty session id was\n\t  used if request had no session key.  fixed: [ruby-core:03981]\n\nMon Dec 20 01:51:01 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (make_struct): [ruby-dev:25249]\n\nMon Dec 20 00:16:54 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rexml/encodings/SHIFT_JIS.rb: fixed LoadError bug.\n\t  [ruby-core:3958]\n\nSun Dec 19 17:24:59 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (enable_rpath): use rpath flag to embed the library\n\t  path into extensions on ELF environment.  [ruby-dev:25035]\n\nSun Dec 19 11:01:25 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit.rb: use standalone runner for -e.\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner#options): accept\n\t  multiple -p and -x options.\n\n\t* lib/test/unit/collector/dir.rb (Test::Unit::Collector::Dir#recursive_collect):\n\t  ditto.\n\nSat Dec 18 16:36:23 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (rb_deflate_s_deflate, rb_inflate_s_inflate):\n\t  disallow interrupt by type conversion.  fixed: [ruby-dev:25226]\n\nSat Dec 18 15:09:02 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/webrick/httpauth.rb,\n\t  lib/webrick/httpauth/{basicauth.rb,digestauth.rb}: use\n\t  pack/unpack-template char \"m\" instead of lib/base64.rb to do base64\n\t  encoding/decoding.\n\nSat Dec 18 10:51:01 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_open_dir): new function.  [ruby-dev:25242]\n\n\t* io.c (rb_f_open): add type check for return value from to_open.\n\nFri Dec 17 16:44:26 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in (ac_cv_sizeof_rlim_t): set 8 for BSD/OS.\n\t  Reported by OHARA Shigeki.  [ruby-dev:25236]\n\nFri Dec 17 16:28:12 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: fix bug on setting up system encoding\n\n\t* ext/tk/lib/tk/event.rb: fix error on require process\n\n\t* ext/tk/lib/tk/font.rb: fix abnormal termination error on Windows\n\n\t* ext/tk/lib/tk/virtevent.rb: TkVirtualEvent::PreDefVirtEvent.new()\n\t  accepts event-sequence arguments\n\n\t* ext/tk/lib/tk/text.rb: fail to dump embedded images\n\n\t* ext/tk/lib/tk/text.rb: tag_nextrange and tag_prevrange returns wrong\n\t  types of values\n\n\t* ext/tk/lib/tk/texttag.rb: nextrange and prevrange returns wrong\n\t  types of values\n\n\t* ext/tk/lib/tk/text.rb: add TkText::IndexModMethods module and\n\t  TkText::IndexString class to treat text index modifiers\n\n\t* ext/tk/lib/tk/texttag.rb: use TkText::IndexModMethods module\n\n\t* ext/tk/lib/tk/textmark.rb: ditto\n\n\t* ext/tk/lib/tk/textimage.rb: ditto\n\n\t* ext/tk/lib/tk/textwindow.rb: ditto\n\n\t* ext/tk/lib/tk/textimage.rb: wrong gravity of text mark for embedded\n\t  image\n\n\t* ext/tk/lib/tk/textwindow.rb: wrong gravity of text mark for\n\t  embedded window\n\nFri Dec 17 13:33:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session#initialize): control adding\n\t  session_id hidden fields.  fixed: [ruby-talk:123850]\n\nFri Dec 17 00:01:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_proc_arity, rb_node_arity, rb_mod_method_arity,\n\t  rb_obj_method_arity): new functions to obtain method arity.\n\t  [ruby-dev:25143]\n\nThu Dec 16 23:31:13 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): create RUBYARCHDIR also when no extension\n\t  is installed.  fixed: [ruby-dev:25215]\n\nThu Dec 16 22:36:57 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/test_drb.rb: adjust and reduce sleep.\n\nThu Dec 16 18:37:08 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.c (ossl_raise): refine message format.\n\nThu Dec 16 16:29:44 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/demos-en/widget: modify version check for\n\t  supporting features\n\nThu Dec 16 16:03:50 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/bindtag.rb: bug fix [ruby-talk: 123667]\n\n\t* ext/tk/lib/tk/timer.rb: accept :idle for the interval argument\n\n\t* ext/tk/lib/tk.rb: add TkComm._callback_entry?()\n\n\t* ext/tk/lib/multi-tk.rb: add MultiTkIp.cb_entry_class\n\n\t* ext/tk/lib/tk/canvas.rb: use TkComm._callback_entry?()\n\n\t* ext/tk/lib/tk/canvastag.rb: ditto\n\n\t* ext/tk/lib/tk/dialog.rb: ditto\n\n\t* ext/tk/lib/tk/optiondb.rb: ditto\n\n\t* ext/tk/lib/tk/text.rb: ditto\n\n\t* ext/tk/lib/tk/texttag.rb: ditto\n\n\t* ext/tk/lib/tk/textwindow.rb: ditto\n\n\t* ext/tk/lib/tk/timer.rb: ditto\n\n\t* ext/tk/lib/tk/validation.rb: ditto\n\n\t* ext/tk/lib/tkextlib/*: ditto\n\nThu Dec 16 04:02:28 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/extconf.rb: bison is not needed if ripper.c exists.\n\t  [ruby-dev:25191]\n\nThu Dec 16 03:27:10 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: remove junk.\n\nThu Dec 16 00:57:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (rb_syck_io_str_read): [ruby-core:03973]\n\nThu Dec 16 00:43:29 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: changed default binded address family to use an\n\t  available address family of host name. [druby-ja:101]\n\n\t* lib/drb/ssl.rb: ditto\n\nWed Dec 15 17:47:17 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#start_thread):\n\t  should log about all accepted socket. [ruby-core:03962]\n\n\t* lib/webrick/accesslog.rb (WEBrick::AccessLog#setup_params):\n\t  \"%%\" and \"%u\" are supported. [webricken:135]\n\n\t* lib/webrick/httpservlet/filehandler.rb\n\t  (WEBrick::HTTPServlet::FileHandler#check_filename):\n\t  :NondisclosureName is acceptable if it is Enumerable.\n\n\t* lib/webrick/config.rb (WEBrick::Config::FileHandler):\n\t  default value of :NondisclosureName is [\".ht*\", \"*~\"].\n\nWed Dec 15 16:10:23 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_id_obsolete): warn always.\n\nWed Dec 15 15:31:02 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/set.rb (Set#==): [ruby-dev:25206]\n\nWed Dec 15 14:32:18 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_fdisset): check whether the handle is valid.\n\nWed Dec 15 10:30:37 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/openssl/ossl_digest.c (ossl_digest_initialize): [ruby-dev:25198]\n\nTue Dec 14 19:17:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* utf8.c (utf8_is_mbc_ambiguous): [ruby-talk:123561]\n\n\t* utf8.c (utf8_mbc_to_normalize): ditto.\n\nTue Dec 14 17:08:15 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_close): need to reset osfhnd().\n\nTue Dec 14 14:03:57 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.c (ossl_raise): avoid buffer overrun.\n\t  [ruby-dev:25187]\n\nTue Dec 14 12:36:04 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::initialize): generate new\n\t  session if given session_id does not exist.  [ruby-list:40368]\n\nTue Dec 14 08:47:45 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_eval): should mark ruby_eval_tree.  [ruby-dev:25189]\n\nMon Dec 13 18:13:52 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (set_stack_end): new function to obtain stack end address.\n\t  set_stack_end obtains a stack end address by an address of local\n\t  variable in the function.\n\t  (SET_STACK_END, STACK_END): use set_stack_end.  don't use alloca.\n\t  This makes the conservative garbage collector to scan a stack frame\n\t  of the garbage_collect function itself.  This is required because\n\t  callee-save registers may be stored in the frame.\n\t  [ruby-dev:25158]\n\nMon Dec 13 02:45:51 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/curses/curses.c (window_subwin): call NUM2INT() before\n\t  GetWINDOW(). fixed: [ruby-dev:25161]\n\nMon Dec 13 00:58:02 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (cleanpath_aggressive): make it private.\n\t  (cleanpath_conservative): ditto.\n\t  Suggested by Daniel Berger.  [ruby-core:3914]\n\nSun Dec 12 21:32:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_super.rb (TestSuper#test_define_method): now methods\n\t  from procs can call super.\n\nSun Dec 12 10:35:10 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/html/html.rb (RDoc::Page): Don't\n\t  show an accessor's r/w flag if none was specified\n\nSun Dec 12 10:14:03 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb (RDoc::RDoc::parse_files): Never exclude files\n\t  explicitly given on the command line.\n\nSat Dec 11 21:10:16 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: add DRbRemoteError. [ruby-list:40348],\n\t  [ruby-list:40390]\n\n\t* test/drb/drbtest.rb: ditto.\n\n\t* test/drb/ut_drb.rb: ditto.\n\nSat Dec 11 13:08:28 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sample/optparse/subcommand.rb: a sample for sub commands like\n\t  cvs.  contributed by Minero Aoki.\n\nFri Dec 10 08:39:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_listen): get OpenFile just before calling\n\t  listen(2).\n\nThu Dec  9 16:28:35 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/sdbm/init.c (GetDBM): typo.\n\nThu Dec  9 16:21:51 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI#setup_header): avoid\n\t  SecurityError. [ruby-dev:24970]\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): should wait\n\t  for reading request till data arrive. [ruby-talk:121068]\n\nThu Dec  9 14:38:35 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_inspect): escape # which starts an expression\n\t  substitution.  fixed: [ruby-core:03922]\n\n\t* string.c (rb_str_dump): not escape # which isn't a substitution.\n\nThu Dec  9 12:31:53 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (pipe_open): should set prog if argc != 0.\n\nThu Dec  9 10:54:36 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dbm/dbm.c (fdbm_select): [ruby-dev:25132]\n\n\t* ext/sdbm/init.c: ditto.\n\n\t* ext/gdbm/gdbm.c: ditto.\n\nThu Dec  9 10:19:18 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/socket/test_socket.rb (test_setsockopt): use SO_LINGER instead\n\t  of SO_BINDTODEVICE.  fixed: [ruby-dev:25133]\n\nThu Dec  9 03:08:36 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_init): set root-win title to \"ruby\" when\n\t  the running script is '-e one-liner' or '-' (stdin).\n\n\t* ext/tcltklib/extconf.rb: add find_library(\"#{lib}#{ver}\",..) for\n\t  stub libs\n\n\t* ext/tk/lib/tk/textmark.rb: TkTextMarkCurrent and TkTextMarkAnchor\n\t  have a wrong parent class.\n\n\t* ext/tk/lib/tk/dialog.rb: rename TkDialog2 --> TkDialogObj and\n\t  TkWarning2 --> TkWarningObj (old names are changed to alias names)\n\n\t* ext/tk/lib/tk/dialog.rb: bug fix of treatment of 'prev_command'\n\t  option and hashes for configuration\n\n\t* ext/tk/lib/tk/dialog.rb: add TkDialogObj#name to return the\n\t  button name\n\n\t* ext/tk/lib/tk/radiobutton.rb: rename enbugged method value() ==>\n\t  get_value() and value=(val) ==> set_value(val).\n\n\t* ext/tk/lib/tk/menu.rb: add TkMenu.new_menuspec\n\n\t* ext/tk/lib/tk/menu.rb: add alias (TkMenuButton = TkMenubutton,\n\t  TkOptionMenuButton = TkOptionMenubutton)\n\n\t* ext/tk/lib/tk/event.rb: new method aliases (same as option keys of\n\t  event_generate) for Event object\n\n\t* ext/tk/lib/tk/font.rb: configinfo returns proper types of values\n\n\t* ext/tk/lib/tk.rb: bind methods accept subst_args + block\n\n\t* ext/tk/lib/tk/canvas.rb: ditto\n\n\t* ext/tk/lib/tk/canvastag.rb: ditto\n\n\t* ext/tk/lib/tk/frame.rb: ditto\n\n\t* ext/tk/lib/tk/text.rb: ditto\n\n\t* ext/tk/lib/tk/texttag.rb: ditto\n\n\t* ext/tk/lib/tk/toplevel.rb: ditto\n\n\t* ext/tk/lib/tkextlib/*: ditto and bug fix\n\nWed Dec  8 23:54:29 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/html/html.rb (RDoc::Page): Typo\n\t  meant that h2 tag was invisible.\n\nWed Dec  8 22:10:02 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h, io.c, ext/dl/dl.c, ext/pty/pty.c, ext/socket/socket.c:\n\t  create FILE object only when required: popen(3) and DL's IO#to_ptr.\n\t  [ruby-dev:25122]\n\n\t* io.c (rb_io_binmode): use setmode for Human68k.  [ruby-dev:25121]\n\nWed Dec  8 20:13:06 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* process.c (rb_spawn): support for DJGPP.\n\n\t* lib/mkmf.rb (VPATH): specify the implicit path separator for DJGPP.\n\nWed Dec  8 17:48:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): merge Guy Decoux's argument preserve\n\t  patch in [ruby-core:03874].\n\nWed Dec  8 17:37:33 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_pipe_exec): need to close original socket\n\t  handle.\n\nWed Dec  8 14:31:36 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): [ruby-dev:25104]\n\nWed Dec  8 13:49:46 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_pipe_exec): must close original handle\n\t  before exec. fixed: [ruby-dev:25112]\n\nWed Dec  8 11:46:26 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (string_content): get rid of segfault at empty evstr.\n\t  fixed: [ruby-dev:25113]\n\nWed Dec  8 03:26:51 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_bio.c (ossl_obj2bio): should not use fptr->f.\n\t  [ruby-dev:25101]\n\nWed Dec  8 03:26:41 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* runruby.rb: prepend LIBRUBY_SO to LD_PRELOAD as well as rubytest.rb.\n\nWed Dec  8 01:35:44 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (is_socket): reorder of function definitions.\n\nWed Dec  8 00:44:31 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (pipe_open): win32 bidirectional pipe support.\n\n\t* win32/win32.[ch] (rb_w32_pipe_exec): ditto.\n\n\t* win32/win32.[ch] (socketpair): new function. POSIX socketpair\n\t  emulation.\n\n\t* win32/win32.c (socketpair_internal): ditto.\n\nWed Dec  8 00:25:07 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_version.rb: added version check test.\n\t  [ruby-dev:25053]\n\nTue Dec  7 15:40:38 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (io_fwrite): avoid context switch before writing to stderr.\n\t  [ruby-dev:25080]\n\n\t* rubyio.h: refine deprecated declaration.\n\n\t* configure.in, file.c, io.c: remove useless check: fseeko, etc.\n\nTue Dec  7 13:42:07 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* dir.c (dir_s_mkdir): win32 special processing doesn't need any\n\t  longer.\n\n\t* win32/win32.[ch] (rb_w32_mkdir): new function. POSIX.1 compatible\n\t  interface.\n\n\t* win32/win32.[ch] (rb_w32_rmdir): new function.\n\nTue Dec  7 00:27:37 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (proc_setgroups): [ruby-dev:25081]\n\nMon Dec  6 23:07:57 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: check -lsocket for socketpair and shutdown.\n\t  reported by Ville Mattila.  [ruby-core:03903]\n\nMon Dec  6 23:00:45 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (ac_cv_sizeof_rlim_t): setup for DJGPP.\n\n\t* io.c (is_socket, shutdown): define dummy macros for DJGPP.\n\n\t* process.c: use SIZEOF_RLIM_T instead of HAVE_RLIM_T for DJGPP.\n\nMon Dec  6 21:19:40 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (is_socket): fix typos. [ruby-core:03900]\n\nMon Dec  6 20:13:28 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (is_socket): new function.\n\n\t* io.c (rb_io_close_read, rb_io_close_write): use is_socket().\n\n\t* io.c (rb_io_fptr_finalize): need to check fptr->f before calling\n\t  rb_io_fptr_cleanup().\n\n\t* io.c (pipe_open): win32 pipe support (experimental).\n\n\t* win32/win32.[ch] (rb_w32_pipe_exec): return file descriptors\n\t  instead of FILE structure objects.\n\n\t* win32/win32.[ch] (rb_w32_is_socket): new function.\n\nMon Dec  6 19:40:40 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* Makefile.in (.y.c): simplify the rule.\n\nMon Dec  6 18:08:10 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_eqq): document fix.  [ruby-talk:122541]\n\nMon Dec  6 17:49:30 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (run_trap_eval): add prototype for Microsoft compiler.\n\nMon Dec  6 17:32:38 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h, intern.h, io.c, file.c, process.c, ext/socket/socket.c,\n\t  ext/pty/pty.c, ext/io/wait/wait.c, ext/openssl/ossl_ssl.c:\n\t  Use own buffering mechanism instead of stdio.  [ruby-dev:25056]\n\n\t* io.c, ext/stringio/stringio.c, test/ruby/ut_eof.rb:\n\t  EOF flag removed.\n\nMon Dec  6 17:15:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/socket/test_socket.rb (TestBasicSocket#test_setsockopt):\n\t  BasicSocket#setsockopt dumps core.  [ruby-dev:25039]\n\n\t* test/socket/test_tcp.rb (TestTCPSocket#test_recvfrom):\n\t  TCPSocket#recvfrom dumps core.  [ruby-dev:24705]\n\n\t* test/socket/test_udp.rb (TestUDPSocket#test_connect):\n\t  UDPSocket#connect dumps core.  [ruby-dev:25045]\n\n\t* test/socket/test_udp.rb (TestUDPSocket#test_bind):\n\t  UDPSocket#bind dumps core.  [ruby-dev:25057]\n\nMon Dec  6 09:59:23 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fread): take VALUE argument.\n\n\t* ext/socket/socket.c (sock_connect): use rb_str_new4().\n\t  [ruby-dev:25052]\n\n\t* eval.c (rb_yield_0): [ruby-dev:25051]\n\nMon Dec  6 01:32:31 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkey_rsa.c (ossl_rsa_public_encrypt,\n\t  ossl_rsa_public_decrypt, ossl_rsa_private_encrypt,\n\t  ossl_rsa_private_decrypt): should take an optional argument\n\t  to specify padding mode. [ruby-talk:122539]\n\n\t* ext/openssl/ossl_pkey_rsa.c (Init_ossl_rsa): add new constants\n\t  PKCS1_PADDING, SSLV23_PADDING, NO_PADDING and PKCS1_OAEP_PADDING\n\t  under OpenSSL::PKey::RSA.\n\n\t* test/openssl/test_pkey_rsa.rb: new file.\n\nSun Dec  5 19:39:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Completion#complete): new parameter\n\t  to direct case insensitiveness.\n\n\t* lib/optparse.rb (OptionParser#order!): ignore case only for long\n\t  option.  [ruby-dev:25048]\n\nSun Dec  5 00:54:32 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* mkconfig.rb: setup library paths before requiring library.\n\t  [ruby-core:03892]\n\nSat Dec  4 22:54:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_write): remove rb_str_locktmp().  [ruby-dev:25050]\n\n\t* io.c (io_fwrite): takes VALUE string as an argument.\n\t  [ruby-dev:25050]\n\n\t* ext/socket/socket.c (sock_connect): remove rb_str_locktmp().\n\t  [ruby-dev:25050]\n\n\t* ext/socket/socket.c (udp_connect): [ruby-dev:25045]\n\n\t* ext/socket/socket.c (udp_bind): ditto.\n\n\t* ext/socket/socket.c (udp_send): ditto.\n\n\t* ext/socket/socket.c (bsock_send): ditto.\n\n\t* ext/socket/socket.c (s_recvfrom): ditto.\n\n\t* hash.c (rb_hash_hash): should provide \"hash\" method where \"eql?\"\n\t  is redefined.  [ruby-talk:122482]\n\nSat Dec  4 21:29:05 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: (In previous commit) new method chown.\n\n\t* lib/fileutils.rb: (In previous commit) new method chown_R.\n\n\t* lib/fileutils.rb: (In previous commit) new method chmod_R\n\t  wrongly added.  Removed now.\n\nSat Dec  4 20:45:52 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir, mkdir_p): should chmod explicitly.\n\t  [ruby-core:03881]\n\nSat Dec  4 18:54:09 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: removed empty lines from output.\n\nSat Dec  4 18:49:09 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.1 -> 0.1.2\n\n\t* lib/rss/rss.rb: #item=/#set_item and so on are obsolete.\n\nSat Dec  4 14:28:56 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::Section::set_comment):\n\t  Section comments may now be bracketed by lines which are\n\t  ignored. You can now write\n\t      # -----------\n\t      # :section: Dave's Section\n\t      # comment material\n\t      # -----------\n\t   The lines before :section: are removed, and identical lines at the end are\n\t   also removed if present.\n\nSat Dec  4 00:35:08 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (bsock_setsockopt): [ruby-dev:25039]\n\nFri Dec  3 12:25:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* st.h: fix prototype for C++.\n\nFri Dec  3 01:55:24 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: widget configuration by TkWindow#method_missing\n\t  returns proper object. \"widget.option = val\" returns val, and\n\t  \"widget.option(val)\" returns self.\n\n\t* ext/tk/lib/tk/font.rb: TkFont#replace accepts only one font argument.\n\n\t* ext/tk/lib/tk/radiobutton.rb: add TkRadiobutton#value and\n\t  TkRadiobutton#value=(val).\n\n\t* ext/tk/lib/tk/spinbox.rb: callback substitution support on\n\t  command option.\n\n\t* ext/tk/sample/demos-en/widget: bug fix (wrong image height)\n\n\t* ext/tk/sample/demos-jp/widget: ditto.\n\nFri Dec  3 00:21:05 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): prepare to pass a block from \"call\" method\n\t  to a Proc generated by Method#to_proc.  [ruby-dev:25031]\n\n\t* eval.c (rb_yield_0): actually passes a block given to \"call\".\n\n\t* object.c (convert_type): use rb_respond_to() again.  this fix is\n\t  based on [ruby-dev:25021]\n\n\t* eval.c (rb_respond_to): funcall respond_to? if it's redefined.\n\t  [ruby-dev:25021]\n\nThu Dec  2 15:13:53 2004  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* test/xmlrpc/test_parser.rb, test/xmlrpc/data/*.expected: Expected\n\t  values are now stored in YAML instead of using #inspect. This fixes\n\t  false hash order.\n\nFri Dec  3 00:11:48 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_file_initialize): [ruby-dev:25032]\n\nThu Dec  2 16:41:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_protect): prevent continuations created inside from being\n\t  called from the outside.  [ruby-dev:25003]\n\n\t* eval.c (rb_callcc, rb_cont_call): prohibit calling from different\n\t  signal contexts.  [ruby-dev:25022]\n\nThu Dec  2 10:45:02 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/readline/test_readline.rb: fix for NetBSD.\n\nThu Dec  2 09:57:24 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/ostruct.rb (OpenStruct::Marshaler): OpenStruct can be\n\t  marshaled again.  [ruby-core:03862]\n\nThu Dec  2 09:30:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (thread_mark): mark thread group.  [ruby-dev:25020]\n\n\t* eval.c (thgroup_add): check whether the argument is really a Thread.\n\nThu Dec  2 07:57:16 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_ctl): [ruby-dev:25019]\n\nWed Dec  1 06:13:00 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c: add constant NKF::VERSION\n\n\t* ext/nkf/nkf.c(guess): this becomes an alias of guess2\n\n\t* ext/nkf/test.rb: add --no-cp932\n\n\t* ext/nkf/nkf-utf8/nkf.c: original nkf2 revision 1.47\n\nWed Dec  1 02:21:02 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (sighandler): call handler immediately only for default\n\t  handlers.  [ruby-dev:25003]\n\nTue Nov 30 23:49:12 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open): errno should be preserved for rb_sys_fail() when\n\t  fork failed.\n\nTue Nov 30 16:18:50 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fread): need not to null terminate.  [ruby-dev:24998]\n\n\t* eval.c (rb_eval): should check previous frame for ZSUPER.\n\n\t* io.c (read_all): remove unnecessary rb_str_resize().\n\t  [ruby-dev:24996]\n\n\t* io.c (io_readpartial): ditto.\n\n\t* io.c (io_read): ditto.\n\nTue Nov 30 14:58:33 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* instruby.rb (install): add arguments explicitly to \"super\".\n\nTue Nov 30 00:49:08 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (PUSH_FRAME): flags should have been initialized.\n\n\t* eval.c (rb_eval): [ruby-core:03856]\n\n\t* io.c (rb_io_sysread): use temporary lock.  [ruby-dev:24992]\n\nTue Nov 30 00:12:57 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regparse.c: now handles many alternatives (over 500000)\n\t  in regexp. [ruby-dev:24773]\n\nMon Nov 29 16:06:04 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_write): insufficiently filled string\n\t  being extended when overwriting.  [ruby-core:03836]\n\nMon Nov 29 15:59:05 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/ostruct.rb (OpenStruct::method_missing): check method\n\t  duplication for -d.\n\n\t* lib/ostruct.rb (OpenStruct::initialize): ditto.\n\nMon Nov 29 15:22:28 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/io/nonblock/test_flush.rb: abandon tests when io/nonblock is\n\t  not supported.\n\nMon Nov 29 13:37:54 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (fptr_finalize): must not use FILE after fclose().\n\t  [ruby-dev:24985]\n\nMon Nov 29 13:13:13 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild): push back the last space before next\n\t  loop because CharNext() eats it.\n\nMon Nov 29 03:08:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (convert_type): [ruby-core:03845]\n\n\t* eval.c (rb_funcall_rescue): new function.\n\n\t* object.c (rb_Array): avoid using rb_respond_to().\n\n\t* object.c (rb_Integer): ditto.\n\n\t* eval.c (get_backtrace): no conversion for nil.\n\n\t* parse.y (reduce_nodes): empty body should return nil.\n\nMon Nov 29 01:18:18 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_io_check_writable): call io_seek regardless of\n\t  NEED_IO_SEEK_BETWEEN_RW.  [ruby-dev:24986]\n\nSun Nov 28 15:57:58 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::Element#tag): not use block_given? for\n\t  working with ruby 1.6 again.\n\n\t* lib/rss/{0.9,2.0,trackback}.rb, lib/rss/maker/base.rb:\n\t  undef -> remove_method for working with ruby 1.6 again.\n\nSun Nov 28 15:51:40 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::NotSetError): added.\n\n\t* lib/rss/maker/{1.0,0.9,2.0}.rb: changed RSS Maker to raise\n\t  RSS::NotSetError if required values of maker.channel are not\n\t  set. [ruby-talk:120061]\n\n\t* test/rss/test_maker_{1.0,0.9,2.0}.rb: changed tests to check RSS\n\t  Maker raises or not.\n\nSun Nov 28 12:14:47 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regparse.c (fetch_token): fixed test failure on HP-UX ia64\n\t  ([ruby-dev:24859]).\n\nSun Nov 28 12:08:15 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regparse.c, test/ruby/test_regexp.rb: fixed problem with UTF-8\n\t  characters that have U+00FE or invalid characters.\n\nSun Nov 28 12:07:04 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regexec.c, test/ruby/test_regexp.rb: fixed segmentation fault\n\t  ([ruby-dev:24887]).\n\nSun Nov 28 12:05:48 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regcomp.c, regint.h: fixed PLATFORM_UNALIGNED_WORD_ACCESS\n\t  problem ([ruby-dev:24802] and [ruby-core:3733])\n\nSat Nov 27 23:43:39 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_initialize): [ruby-dev:24972]\n\nSat Nov 27 21:43:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c: avoid data lost with nonblocking fd and\n\t  stdio buffering in sync mode.  [ruby-dev:24966]\n\t  based on matz's patch [ruby-dev:24967]\n\t  (io_fwrite): new primitive writing function which writes\n\t  directly if sync mode.\n\t  (rb_io_fwrite): wrapper for io_fwrite now.\n\t  (io_write): call io_fwrite instead of rb_io_fwrite.\n\nSat Nov 27 17:43:21 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/{0.9,1.0,2.0,trackback,xml-stylesheet}.rb: added\n\t  #setup_maker.\n\n\t* test/rss/test_setup_maker_*.rb: added tests for #setup_maker.\n\n\t* lib/rss/maker/base.rb(RSS::Maker::Items#max_size=): supported\n\t  output item size limitation.\n\n\t* sample/rss/blend.rb: added sample for RSS Maker.\n\nSat Nov 27 17:41:35 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/0.9.rb: supported RSS::Maker.make(\"0.91\"). Now,\n\t  \"0.9\" is just alias of \"0.91.\"\n\n\t* test/rss/test_maker_0.9.rb: make(\"0.9\") -> maker(\"0.91\").\n\n\t* test/rss/test_to_s.rb: ditto.\n\nSat Nov 27 17:21:30 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/list_description.rb: untabified.\n\n\t* sample/rss/rss_recent.rb: ditto.\n\nSat Nov 27 14:44:15 2004  Kent Sibilev  <ksibilev@bellsouth.net>\n\n\t* lib/cgi/session.rb (CGI::Session::initialize): [ruby-core:03832]\n\nSat Nov 27 09:41:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fread): old rb_io_fread with file closing checking.\n\t  (rb_io_fread): wrapper for io_fread now.\n\t  [ruby-dev:24964]\n\nFri Nov 26 18:02:44 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: Tk.destroy uses TkWindow#epath\n\n\t* ext/tk/lib/tk/image.rb: bug fix\n\n\t* ext/tk/lib/tk/wm.rb: add 'iconphoto' method(Windows only)\n\n\t* ext/tk/lib/tkextlib/*: some methods uses TkWindow#epath\n\nFri Nov 26 14:29:39 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_initialize): uninitialized fd was checked to see open\n\t  mode.  [ruby-dev:24963]\n\n\t* io.c (rb_io_initialize): uninitialized fd was used.  [ruby-dev:24962]\n\nFri Nov 26 13:49:06 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_initialize): should retrieve flags from copying file\n\t  descriptor. [ruby-dev:24961]\n\n\t* eval.c (method_missing): raise TypeError for classes do not\n\t  have allocators.  [ruby-core:03752]\n\n\t* lib/erb.rb: add RDoc by James Edward Gray II.  [ruby-core:03786]\n\nFri Nov 26 13:29:02 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::look_for_directives_in): Break\n\t  out of preprocessing when we find a :section: directive (previously cleared out the\n\t  comment, but this apparently now generates an error in gsub!)\n\nFri Nov 26 00:17:40 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_read): move StringValue() check before GetOpenFile().\n\t  [ruby-dev:24959]\n\nThu Nov 25 20:14:57 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/thwait.rb (ThreadsWait#join_nowait): abnormally terminated\n\t  threads should be also processed.  [ruby-talk:121320]\n\nThu Nov 25 18:06:37 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: AC_CHECK_SIZEOF(rlim_t) to include stdio.h to fix\n\t  problem with autoconf 2.52 or earlier.\n\t  revert AC_PREREQ to 2.50.\n\t  [ruby-core:3809]\n\nThu Nov 25 07:59:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: AC_PREREQ(2.53) [ruby-core:03800]\n\n\t* io.c (read_all): stringify non-nil buffer argument, and always\n\t  taint the result.  [ruby-dev:24955]\n\nWed Nov 24 01:01:31 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_read): integer conversion should be prior to\n\t  GetOpenFile().  [ruby-dev:24952]\n\n\t* configure.in, io.c: cancel [ ruby-Patches-1074 ].\n\nTue Nov 23 08:09:50 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/menu.rb: improve usability of TkOptionMenubutton\n\nTue Nov 23 02:00:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_chown): integer conversion should be prior to\n\t  GetOpenFile().  [ruby-dev:24949]\n\nTue Nov 23 00:10:48 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_chown): integer conversion should be prior to\n\t  GetOpenFile().  [ruby-dev:24947]\n\n\t* file.c (rb_file_truncate): ditto.\n\n\t* file.c (rb_file_s_truncate): ditto.\n\n\t* dir.c (dir_seek): use NUM2OFFT().\n\n\t* misc/ruby-mode.el (ruby-non-block-do-re): [ruby-core:03719]\n\nMon Nov 22 22:33:02 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::parse_require): Don't use names\n\t  of variables or constants when parsing 'require'\n\nMon Nov 22 00:13:35 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_seek): should retrieve dir_data after NUM2INT().\n\t  [ruby-dev:24941]\n\nSat Nov 20 23:57:33 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/README (et al): Add a new directive, :section:, and\n\t  change the output format to accommodate. :section: allows to to\n\t  group together methods, attributes, constants, etc under\n\t  headings in the output. If used, a table of contents is\n\t  generated.\n\nSat Nov 20 23:56:54 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/options.rb (Options::parse): Force --inline-source if\n\t  --one-file option given\n\nSat Nov 20 23:55:19 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_splice): should place index wrapping after\n\t  possible modification.  [ruby-dev:24940]\n\nSat Nov 20 23:25:12 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* io.c (rb_io_getline): f.gets(\"\") did not work. [ruby-core:03771]\n\n\t* test/ruby/test_io.rb (test_gets_rs): test it.\n\nSat Nov 20 22:55:09 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/runner.rb (CROSS_COMPILING): need to require rbconfig.rb before\n\t  using CROSS_COMPILNG.\n\nSat Nov 20 20:42:42 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/depend: fix ripper.o dependency.\n\nSat Nov 20 17:48:29 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (io_reopen): work around problem with Cygwin fseeko\n\t  returning ESPIPE.\n\nSat Nov 20 05:34:24 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: original nkf.c rev:1.40\n\n\t* ext/nkf/test.rb: add test for mime encode/decode\n\nSat Nov 20 01:45:04 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/xmlrpc/test_webrick_server.rb: move `requrie \"webrick/https\"'\n\t  into #setup_http_server method to avoid soap test errors.\n\nSat Nov 20 01:37:34 2004  Johan Holmberg  <holmberg@iar.se>\n\n\t* eval.c (error_print): nicer traceback at interrupt.\n\t  [ruby-core:03774]\n\nSat Nov 20 00:07:16 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): internal buffer should not be listed by\n\t  ObjectSpace.each_object() by String#gsub.  [ruby-dev:24931]\n\nFri Nov 19 22:44:43 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb: better support for -p/-x option.\n\nFri Nov 19 17:46:56 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/0.9.rb (RSS::Maker::RSS09::Image#have_required_values):\n\t  changed /rss/channel/image to be optional. [ruby-Bugs:1047]\n\n\t* test/rss/test_maker_0.9.rb: added tests for the above.\n\nFri Nov 19 17:18:17 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.0 -> 0.1.1.\n\n\t* lib/rss: #to_s used #tag.\n\n\t* test/rss/test_to_s.rb: added.\n\n\t* lib/rss/maker.rb (RSS::Maker.make): changed API. It's not\n\t  received modules which is used as the second argument.\n\n\t* lib/rss/xml-stylesheet.rb (RSS::XMLStyleSheet#alternate):\n\t  changed return value type which is not String but Boolean.\n\n\t* lib/rss/2.0.rb (RSS::Rss::Channel#ttl): changed return value\n\t  type which is not String but Integer.\n\n\t* lib/rss/0.9.rb (RSS::Rss::Channel): <skipDays> has <day>s and\n\t  <skipHours> has <hour>s.\n\n\t* lib/rss/maker/0.9.rb (RSS::Maker::RSS09::Channel): ditto.\n\n\t* lib/rss/0.9.rb (RSS::Rss::Channel::Item): <item> has <category>s.\n\n\t* lib/rss/maker/2.0.rb (RSS::Maker::Rss20::Channel::Item): ditto.\n\n\t* lib/rss/2.0.rb (RSS::Rss::Channel): <channel> has <category>s.\n\n\t* lib/rss/maker/2.0.rb (RSS::Maker::RSS20::Channel): ditto.\n\n\t* lib/rss/trackback.rb: parent element has <trackback:about>s.\n\n\t* lib/rss/maker/trackback.rb: ditto.\n\nFri Nov 19 11:10:16 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb: add support for directory name\n\t  with -p/-x options.\n\n\t* test/testunit/collector/test_dir.rb: ditto.\n\n\t* lib/xmlrpc/datetime.rb (XMLRPC::DateTime#==): should use Array()\n\t  instead of to_a.\n\nFri Nov 19 10:32:36 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_s_set_completion_append_character):\n\t  accept nil.  [ruby-core:03765]\n\nFri Nov 19 01:20:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::FileStore::initialize): raise\n\t  exception if data corresponding to session specified from the\n\t  client does not exist.\n\nFri Nov 19 00:59:31 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): internal buffer should not be listed by\n\t  ObjectSpace.each_object().  [ruby-dev:24919]\n\nThu Nov 18 23:42:36 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/depend: Never regenerate lib/ripper/core.rb\n\t  automatically. [ruby-dev:24911]\n\nThu Nov 18 20:47:24 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.[ch] (rb_w32_isatty): new function to replace MSVCRT's\n\t  isatty because it never sets errno.\n\nThu Nov 18 18:41:08 2004  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_stringchar.rb (test_bang): added.\n\n\t* string.c (rb_str_upcase_bang, rb_str_capitalize_bang)\n\t  (rb_str_swapcase_bang): missing rb_str_modify().\n\nThu Nov 18 17:05:01 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_rest_arg): store rest args into invisible local variable\n\t  in order to get rid of SEGV at ZSUPER.  [ruby-dev:24913]\n\nThu Nov 18 15:39:52 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_f_getenv): prohibit for $SAFE=4. [ruby-dev:24908]\n\nThu Nov 18 14:58:42 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/readline.c: check $SAFE.\n\n\t* test/readline/test_readline.rb: added tests for readline.\n\nThu Nov 18 00:21:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (proc_getpgrp): prohibit for $SAFE=2.\n\t  [ruby-dev:24899]\n\n\t* process.c (get_pid): ditto.  [ruby-dev:24904]\n\n\t* process.c (get_ppid): ditto.\n\n\t* array.c (rb_ary_delete): defer rb_ary_modify() until actual\n\t  modification.  [ruby-dev:24901]\n\nThu Nov 18 10:10:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c, rubyio.h (rb_io_modenum_flags): exported.\n\n\t* ext/stringio/stringio.c (strio_initialize): allow Fixnum as mode as\n\t  well as IO.new does.  [ruby-dev:24896]\n\nWed Nov 17 23:47:30 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_settracefunc.rb: added.  [ruby-dev:24884]\n\nWed Nov 17 18:59:16 2004  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* process.c (proc_getrlimit, proc_setrlimit): add rb_secure(2) to\n\t  methods of Process.{getrlimit,setrlimit}\n\nWed Nov 17 13:56:57 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (newline_node): should not use FL_SET. [ruby-dev:24874]\n\n\t* parse.y (string_content): should not use FL_UNSET.\n\n\t* node.h (NODE_NEWLINE): remove unused bit to utilize flag field\n\t  in nodes.\n\nWed Nov 17 13:05:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (rb_push_glob): fix overrun.  [ruby-dev:24886]\n\nWed Nov 17 11:48:17 2004  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* lib/xmlrpc/parser.rb, test/xmlrpc/test_features.rb: fixed \"assigning\n\t  to constants\" warnings\n\nWed Nov 17 09:38:18 2004  Johan Holmberg  <holmberg@iar.se>\n\n\t* re.c (rb_reg_initialize_m): should raise exception instead of\n\t  compile error.  [ruby-core:03755]\n\nWed Nov 17 03:42:45 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_splice): move rb_str_modify() after\n\t  StringValue(), which may alter the receiver.  [ruby-dev:24878]\n\n\t* error.c (rb_error_frozen): now raise RuntimeError instead of\n\t  TypeError.\n\nTue Nov 16 21:22:47 2004  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* lib/xmlrpc/server.rb (CGIServer): fixed bug when client sends\n\t  \"Content-typ: text/xml; ...\"\n\nTue Nov 16 23:45:07 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (flo_divmod): protect float values from GC by\n\t  assignment to local variables.  [ruby-dev:24873]\n\nTue Nov 16 14:31:54 2004  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* test/xmlrpc/*: imported and refactored original test cases.\n\n\t* test/xmlrpc/test_webrick_server.rb, test/xmlrpc/webrick_testing.rb:\n\t  added test case that starts up a WEBrick XML-RPC server and performs\n\t  some tests on it (both http and https servers are started).\n\n\t* lib/xmlrpc/create.rb (XMLWriter::each_installed_writer),\n\t  lib/xmlrpc/parser.rb (XMLParser::each_installed_parser):\n\t  added methods to simply original test cases\n\n\t* lib/xmlrpc/parser.rb, lib/xmlrpc/datetime.rb: applied patch by\n\t  MoonWolf <moonwolf@moonwolf.com> to allow parsing datetime.iso8601\n\t  (e.g. 20041105T01:15:23Z).\n\n\t* lib/xmlrpc/server.rb: fixed issue #998\n\t  (http://rubyforge.org/tracker/?func=detail&atid=1700&aid=998&group_id=426)\n\n\t* lib/xmlrpc/create.rb, lib/xmlrpc/utils.rb: when marshalling/loading\n\t  user-defined data structures, use Class#allocate instead of defining\n\t  an empty #initialize method. module XMLRPC::Marshallable is now only\n\t  used for tagging.\n\n\t* lib/xmlrpc/.document, lib/xmlrpc/README.rdoc: added howto\n\nTue Nov 16 16:26:12 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/setup.mak (-epilogue-): remove config.h and\n\t  config.status to force updating them.\n\nTue Nov 16 16:20:45 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): position was ignored when a\n\t  buffer was passed.  http://www.yo.rim.or.jp/~nov/d/?date=20041116#p03\n\nTue Nov 16 13:35:54 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner::options): add\n\t  new option --exclude (-x) to skip some tests. [ruby-core:3363],\n\t  [ruby-dev:24865]\n\n\t* lib/test/unit/collector/dir.rb (Test::Unit::Collector::Dir.exclude):\n\t  ditto.\n\nTue Nov 16 11:19:07 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner::options): use\n\t  Regexp conversion.\n\nTue Nov 16 01:41:31 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_mod_check): frozen check should be separated.\n\t  [ruby-core:3742]\n\n\t* array.c (rb_ary_update): pedantic check to detect\n\t  rb_ary_to_ary() to modify the receiver.  [ruby-dev:24861]\n\nMon Nov 15 18:58:05 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: check rlim_t more portably. [ruby-core:3735]\n\nMon Nov 15 11:50:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-special-char-p, ruby-parse-partial): handle\n\t  operator symbols.  [ruby-talk:120177]\n\nMon Nov 15 08:58:55 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_Proc): make proc as an alias to Proc.new.\n\t  [ruby-dev:24848]\n\nMon Nov 15 00:46:03 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): lambda{}.call(1) should raise exception.\n\t  [ruby-talk:120253]\n\nMon Nov 15 00:33:40 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_clear): avoid revealing NULL pointer.\n\t  [ruby-dev:24766]\n\n\t* string.c (str_gsub): add paranoid check. [ruby-dev:24827]\n\n\t* string.c (str_mod_check): check frozen status as well.\n\t  [ruby-dev:24801]\n\nSun Nov 14 18:59:03 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* process.c (proc_getrlimit): new function for Process.getrlimit.\n\t  (proc_setrlimit): new function for Process.setrlimit.\n\t  [ruby-dev:24834]\n\n\t* configure.in: check rlim_t and its size.  check setrlimit.\n\n\t* ruby.h (NUM2ULL): new macro.\n\nSun Nov 14 13:27:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pp.rb (PP#object_address_group): remove odd number of 'f'\n\t  prefixed to negative address.\n\nSun Nov 14 10:48:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Integer::gcd2): faster implementation by\n\t  <erlercw@siu.edu>. [ruby-talk:120232]\n\nSun Nov 14 08:46:33 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/logger/test_logger.rb: Logger just expects\n\t  Logger#datetime_format to be used for Time#strftime independently of\n\t  locale. [ruby-dev:24828]\n\nFri Nov 12 17:32:07 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/README.bcc32, win32/README.win32: need bison instead of\n\t  byacc.\n\nFri Nov 12 15:15:06 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (ruby_options): now we cannot call rb_glob() before\n\t  ruby_init(), so call rb_w32_cmdvector() at ruby_options().\n\n\t* win32/win32.{c,h} (rb_w32_cmdvector): rename make_cmdvector() and\n\t  export it.\n\nFri Nov 12 14:08:01 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/event.rb: remove $LOADED_FEATURES trick\n\n\t* ext/tk/lib/tk.rb: ditto\n\nFri Nov 12 00:31:05 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/gdbm/gdbm.c (fgdbm_store): StringValue() may alter string\n\t  pointer.  [ruby-dev:24783]\n\nThu Nov 11 17:58:19 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (rb_glob): should have called rb_glob_caller().\n\t  [ruby-dev:24773]\n\nThu Nov 11 16:56:10 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_file.rb (test_truncate_wbuf): we want to test\n\t  only File#truncate, not behavior of seek(2).\n\nThu Nov 11 01:52:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (syserr_initialize): use stringified object.\n\t  [ruby-dev:24768]\n\nWed Nov 10 22:49:01 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (SimpleDelegator::dup): wrong number of\n\t  arguments.\n\n\t* lib/delegate.rb (DelegateClass::dup): ditto.\n\nWed Nov 10 19:47:55 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (glob_helper): path is a string object now.\n\nWed Nov 10 12:31:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* README.EXT (Example): extconf.rb is indispensable now.\n\nWed Nov 10 03:33:36 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix SEGV when compiled with Tcl/Tk8.3.x\n\t  or older\n\n\t* ext/tk/lib/tkextlib/tile/style.rb: bug fix\n\nTue Nov  9 22:24:07 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf: original nkf.c rev:1.38\n\n\t* ext/nkf/nkf.c: fix bug: can't parse long-name options\n\n\t* ext/nkf/test.rb: fix bug: mime tests fail\n\nTue Nov  9 14:27:18 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Officious): moved from DefaultList.\n\nTue Nov  9 00:50:06 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb: Change version numbering of RDoc and ri\n\nTue Nov  9 01:05:04 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (rb_glob2): do not allocate buffer from heap to avoid\n\t  memory leaks.  use string object for buffering instead.\n\t  [ruby-dev:24738]\n\n\t* dir.c (join_path): ditto.\n\n\t* io.c (io_read): external input buffer may be modified even after\n\t  rb_str_locktmp().  [ruby-dev:24735]\n\n\t* dir.c (fnmatch): p or s may be NULL.  [ruby-dev:24749]\n\nTue Nov  9 00:36:26 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/extservm.rb: add DRb::ExtServManager#uri=.\n\t  [ruby-dev:24743]\n\nMon Nov  8 22:20:19 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_class):\n\t  Fix bug where parent class wasn't being detected if the\n\t  child class was defined using the A::B notation.\n\nMon Nov  8 00:14:13 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: add setup for mignw32 cross compiling.\n\t  [ruby-talk:119413]\n\nSun Nov  7 23:49:26 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: bind-event methods accept multi substitution\n\t  arguments.\n\n\t* ext/tk/lib/tk/canvas.rb: ditto.\n\n\t* ext/tk/lib/tk/canvastag.rb: ditto.\n\n\t* ext/tk/lib/tk/text.rb: ditto.\n\n\t* ext/tk/lib/tk/texttag.rb: ditto.\n\n\t* ext/tk/lib/tkextlib: ditto.\n\nSat Nov  6 20:40:16 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: rename WIN32OLE#ole_obj_help to\n\t  WIN32OLE#ole_type. alias ole_obj_help to ole_type.\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: ditto.\n\nSat Nov  6 11:18:59 2004  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (_parse): checks whether zone was given.\n\nSat Nov  6 00:46:27 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_locktmp): check STR_TMPLOCK flag before\n\t  locking.  [ruby-dev:24727]\n\nFri Nov  5 19:07:16 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf: follow CVS Head of original nkf.\n\nFri Nov  5 18:12:42 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/scrollable.rb: divide Scrollable module into\n\t  X_Scrollable and Y_Scrollable\n\n\t* ext/tk/lib/tk/entry.rb: include X_Scrollable instead of Scrollable\n\n\t* ext/tk/lib/tk/autoload.rb: define autoload for X_Scrollable and\n\t  Y_Scrollable\n\nFri Nov  5 16:05:32 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: TkComm._at() supprts both of \"@x,y\" and \"@x\"\n\nFri Nov  5 13:22:58 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/text.rb: sorry. bug fix again.\n\nFri Nov  5 13:17:54 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/text.rb: bug fix\n\nFri Nov  5 08:52:48 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_mark): stricter GC stack check.\n\nFri Nov  5 08:34:43 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): should have removed rb_str_unlocktmp(str).\n\t  [ruby-dev:24708]\n\n\t* ext/socket/socket.c (s_recvfrom): buffer modification check.\n\t  [ruby-dev:24708]\n\nThu Nov  4 23:54:21 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regexec.c, regparse.c, regint.h: fixed conflicts between\n\t  vendor branch.\n\nThu Nov  4 23:41:55 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* ascii.c, euc_jp.c, oniggnu.h, oniguruma.h, regcomp.c,\n\t  regenc.c, regenc.h, regerror.c, regexec.c, reggnu.c,\n\t  regint.h, regparse.c, regparse.h, sjis.c, utf8.c:\n\t  imported Oni Guruma 3.4.0.\n\n\t* parse.y, re.c: Now mbclen() takes unsigned char as\n\t  its argument.\n\nThu Nov  4 21:25:38 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): string modify check no longer based on\n\t  tmplock.  [ruby-dev:24706]\n\nThu Nov  4 21:13:48 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(typelib_file_from_typelib): search \"win16\"\n\t  entry to get library path.\n\n\t* ext/win32ole/win32ole.c(oletypelib_path): ditto.\n\n\t* ext/win32ole/win32ole.c(ole_typedesc2val): add VT_LPWSTR, VT_LPSTR,\n\t  VT_ERROR case.\n\nThu Nov  4 15:02:14 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/variable.rb: forget to initialize instance_variables\n\t  of TkVarAccess objects\n\nThu Nov  4 09:11:35 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_mark): enable GC stack checking.\n\nThu Nov  4 03:11:33 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): lock strings temporarily.  [ruby-dev:24687]\n\n\t* ext/socket/socket.c (s_recvfrom): tmplock input buffer.\n\t  [ruby-dev:24705]\n\nWed Nov  3 22:24:17 2004  Daigo Moriwaki  <techml@sgtpepper.net>\n\n\t* lib/webrick/httpauth/digestauth.rb: use Base64.encode64 to\n\t  avoid warnings.\n\nWed Nov  3 17:19:59 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_uniq_bang): do not push frozen string from hash\n\t  table.  [ruby-dev:24695]\n\n\t* array.c (rb_ary_and): ditto.\n\n\t* array.c (rb_ary_or): ditto.\n\nWed Nov  3 17:02:48 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: support to use different Tcl commands between\n\t  configure and configinfo\n\n\t* ext/tk/lib/font.rb: ditto.\n\n\t* ext/tk/lib/itemconfig.rb: support to use different Tcl commands\n\t  between item_configure and item_configinfo\n\n\t* ext/tk/lib/itemfont.rb: ditto.\n\n\t* ext/tk/extconf.rb: install SUPPORT_STATUS\n\n\t* ext/tk/lib/tkextlib: some bug fixes (see ext/tk/ChangeLog.tkextlib)\n\nWed Nov  3 15:38:28 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/*.rb: removed tab width configuration headers.\n\n\t* test/rss/test_maker_{0.9,1.0}.rb: sort -> do_sort.\n\n\t* lib/rss/maker/*.rb: changed API to RSS version independence.\n\n\t* lib/rss/maker/base.rb\n\t  (RSS::Maker::XMLStyleSheets::XMLStyleSheet): checked required\n\t  (pseudo) attributes.\n\n\t* lib/rss/maker/base.rb (RSS::Maker::Items): sort -> do_sort.\n\n\t* lib/rss/rss.rb (RSS::BaseModel.install_date_element): avoided\n\t  warning.\n\n\t* lib/rss/0.9.rb (RSS::Rss#textinput): added convenience method.\n\nTue Nov  2 16:35:57 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/enumerator/enumerator.c (each_cons_i): pass copy of an\n\t  internal consequent array.  [ruby-talk:118691]\n\nTue Nov  2 14:54:02 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (pipe_open): need to set cmd if argc == 0 (win32).\n\nTue Nov  2 01:20:09 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (pipe_open): IO.popen should take array as 1st argument for\n\t  a command line.  [ruby-dev:24678]\n\n\t* eval.c (proc_invoke): nail down dyna_var node when Proc object\n\t  or continuation is created.  [ruby-dev:24671]\n\n\t* io.c (rb_io_s_popen): do not expand argv array.  [ruby-dev:24670]\n\nMon Nov  1 22:25:56 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/base.rb: changed xml-stylesheet's API of RSS Maker\n\t  like to item's one.\n\n\t* lib/rss/xml-stylesheet.rb (RSS::XMLStyleSheet#guess_type): fixed\n\t  regular expression bug.\n\n\t* test/rss/test_maker_xml-stylesheet.rb: updated tests for\n\t  xml-stylesheet.\n\nMon Nov  1 13:59:28 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/extmk.rb (MANIFEST): do not use anymore, use extconf.rb instead.\n\n\t* ext/enumerator/extconf.rb, ext/fcntl/extconf.rb,\n\t  ext/stringio/extconf.rb: added.\n\n\t* MANIFEST, ext/**/MANIFEST: removed.\n\n\t* README.EXT, README.EXT.ja: remove MANIFEST stuff.\n\nMon Nov  1 11:52:18 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (pipe_open): avoid conflict of variable name. [ruby-dev:24662]\n\nMon Nov  1 11:46:19 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* process.c (rb_f_exec): should check whether prog is NULL.\n\nMon Nov  1 09:37:19 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker.rb: added entry point of RSS Maker.\n\nMon Nov  1 03:14:14 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_get_method_body): store ICLASS in the cache.\n\t  [ruby-core:03672]\n\n\t* eval.c (rb_provided): should return true for loading library\n\t  too for autoloading.  [ruby-core:03655]\n\nMon Nov  1 01:14:52 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_open): create copy of popen specifier.  [ruby-dev:24656]\n\n\t* string.c (rb_str_locktmp): lock string temporarily.\n\n\t* string.c (str_independent): add tmplock check.\n\n\t* io.c (io_write): lock output string temporarily.\n\t  [ruby-dev:24649]\n\n\t* io.c (io_write): use rb_str_locktmp().\n\n\t* io.c (read_all): ditto.\n\nSun Oct 31 23:37:00 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* process.c: on NetBSD don't use setruid() and setrgid().\n\nSun Oct 31 23:12:10 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/*.rb: added RSS Maker.\n\n\t* test/rss/test_maker_*.rb: added tests for RSS Maker.\n\nSun Oct 31 16:58:12 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE.codepage, WIN32OLE.codepage=.\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: ditto.\n\nSun Oct 31 14:35:26 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: add \"\\075?UTF-8?Q?\" for Gmail.\n\nSun Oct 31 14:18:56 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: emit lexer-event values to the parser\n\t  (still incomplete).\n\nSat Oct 30 15:24:41 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_TYPELIB class. add\n\t  WIN32OLE#ole_typelib method.\n\n\t* ext/win32ole/tests/testOLETYPELIB.rb: add WIN32OLE_TYPELIB class.\n\nSat Oct 30 06:53:24 2004  Peter Vanbroekhoven  <peter.vanbroekhoven@cs.kuleuven.ac.be>\n\n\t* eval.c (rb_eval): NODE_XSTR should pass copy of literal string.\n\nSat Oct 30 00:19:40 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_update): a[n,m]=nil no longer works as element\n\t  deletion.\n\n\t* enum.c (enum_sort_by): protect continuation jump in.\n\t  [ruby-dev:24642]\n\n\t* eval.c (rb_eval), gc.c (gc_mark_children), node.h (NEW_ALIAS,\n\t  NEW_VALIAS), parse.y (fitem): allow dynamic symbols to\n\t  NODE_UNDEF and NODE_ALIAS.\n\nFri Oct 29 21:27:51 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_check_initialized): new function to check uninitialized\n\t  object.  [ruby-talk:118234]\n\n\t* file.c (rb_file_path), io.c (rb_io_closed): check if initialized.\n\nFri Oct 29 19:05:33 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf: follow nkf2.0.\n\nFri Oct 29 17:18:22 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (ripper_s_allocate): add prototype for Microsoft compiler.\n\n\t* range.c (range_step, range_each): need cast.\n\nFri Oct 29 16:34:19 2004  Daiki Ueno  <ueno@unixuser.org>\n\n\t* misc/ruby-mode.el (ruby-parse-partial): Parse the rest of the\n\t  line after opening heredoc identifier.  [ruby-dev:24635]\n\nFri Oct 29 11:35:04 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_parser_append_print, rb_parser_while_loop): body node\n\t  can be empty.  [ruby-dev:24628]\n\nFri Oct 29 10:00:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_0): forget to free some memory chunks.\n\t  [ruby-core:03611]\n\n\t* eval.c (ruby_cleanup): ruby_finalize_1 may cause exception,\n\t  should be wrapped by PUSH_TAG/POP_TAG().  [ruby-dev:24627]\n\nThu Oct 28 08:42:02 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (argf_forward): use ANSI style.\n\t  (argf_read): call argf_forward with argv argument.\n\t  [ruby-dev:24624]\n\nWed Oct 27 09:17:30 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_gsub): use a string object for exception safeness.\n\t  [ruby-dev:24601]\n\nWed Oct 27 07:38:55 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* node.h (NODE_TYPESHIFT): allow 4 more bits for line numbers.\n\t  [ruby-talk:117841]\n\n\t* ruby.h (FL_ABLE): nodes are not subject for flag operations.\n\n\t* io.c (ARGF_FORWARD): should have specified argv explicitly,\n\t  since we no longer have frame->argv saved.  [ruby-dev:24602]\n\nTue Oct 26 23:30:39 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::add_class_or_module):\n\t  Restore correct :nopdoc: behavior with nested classes and modules.\n\nTue Oct 26 18:21:29 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (RESIZE_CAPA): check string attribute before modifying\n\t  capacity member of string structure.  [ruby-dev:24594]\n\nTue Oct 26 11:33:26 2004  David G. Andersen  <dga@lcs.mit.edu>\n\n\t* ext/zlib/zlib.c (gzreader_gets): use memchr() to to gain\n\t  performance.  [ruby-talk:117701]\n\nTue Oct 26 10:56:55 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): raise ArgumentError for extra\n\t  arguments, unless (digit)$ style used.\n\nMon Oct 25 18:35:39 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* win32/win32.c (isUNCRoot): should check NUL after '.'.\n\t  [ruby-dev:24590]\n\n\t* win32/win32.c (isUNCRoot): fixed buffer overrun.\n\nMon Oct 25 08:03:26 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (get_backtrace): ignore illegal backtrace.  [ruby-dev:24587]\n\nSun Oct 24 00:40:50 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_load, search_required, rb_require_safe, rb_require): use\n\t  frozen shared string to avoid outside modification.  [ruby-dev:24580]\n\nSat Oct 23 23:40:34 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_fptr_finalize): leave stdin/stdout/stderr open in\n\t  interpreter termination.  [ruby-dev:24579]\n\nSat Oct 23 22:18:32 2004  Guy Decoux  <ts@moulon.inra.fr>\n\n\t* eval.c (frame_free): Guy Decoux solved the leak problem.\n\t  Thanks.  [ruby-core:03549]\n\nSat Oct 23 00:20:55 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (zstream_append_input): clear klass for z->input\n\t  to avoid potential vulnerability.\n\n\t* ext/zlib/zlib.c (zstream_run): always use zstream_append_input()\n\t  to avoid SEGV.  [ruby-dev:24568]\n\nFri Oct 22 12:02:28 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_alias): was warning for wrong condition.\n\t  [ruby-dev:24565]\n\nFri Oct 22 10:36:37 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPRequest#meta_vars):\n\t  should check if path_info is not nil.\n\nFri Oct 22 00:22:31 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (zstream_shift_buffer): should restore class\n\t  field of a buffer.  [ruby-dev:24562]\n\nFri Oct 22 00:20:33 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_include): should not treat char as negative value.\n\t  [ruby-dev:24558]\n\nThu Oct 21 21:32:30 2004  IWATSUKI Hiroyuki  <don@na.rim.or.jp>\n\n\t* lib/pstore.rb (PStore#transaction): Use the empty content when a\n\t  file is not found.  [ruby-dev:24561]\n\nThu Oct 21 19:06:15 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpresponse.rb (WEBrick::HTTPResponse#send_body_io):\n\t  ensure to close @body. (http://bugs.debian.org/277520)\n\nThu Oct 21 13:11:31 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (pipe_open): variable name \"fpw\" is conflicted.\n\nThu Oct 21 00:36:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_alias): should warn on method discarding.\n\t  [ruby-dev:24546]\n\n\t* ext/zlib/zlib.c (zstream_expand_buffer_into): hide internal\n\t  string buffer by clearing klass.  [ruby-dev:24548]\n\n\t* parse.y (lex_getline): should not touch ruby_debug_lines if\n\t  RIPPER is defined.  [ruby-dev:24547]\n\nWed Oct 20 19:45:13 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): \treentrant check.  [ruby-dev:24432]\n\nWed Oct 20 12:42:53 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline): rs modification check should not interfere\n\t  in the loop.\n\nWed Oct 20 10:31:33 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (lex_getline): should update ruby_debug_lines.\n\nWed Oct 20 04:17:55 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dbm/dbm.c (fdbm_delete_if): should check if deleting element\n\t  is a string.  [ruby-dev:24490]\n\n\t* ext/sdbm/init.c (fsdbm_delete_if): ditto.\n\nWed Oct 20 01:37:18 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_times): Array#* should return an instance of\n\t  the class of right operand.  [ruby-dev:24526]\n\n\t* ext/zlib/zlib.c (zstream_detach_buffer): should not expose\n\t  class-less object to Ruby world. [ruby-dev:24530]\n\n\t* eval.c (proc_dup): provide Proc#dup as well.  [ruby-talk:116915]\n\n\t* eval.c (ruby_exec): stack marking position may be higher than\n\t  expected.  thanks to Guy Decoux.  [ruby-core:03527]\n\nWed Oct 20 00:25:41 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (search_required): required name must not be changed before\n\t  loading.  [ruby-dev:24492]\n\nTue Oct 19 23:59:46 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_require_safe): provide the feature after loaded.\n\t  [ruby-list:40085]\n\nTue Oct 19 22:43:12 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_attr): If\n\t  we come across 'attr' in a context where it isn't\n\t  followed by a symbol, just issue a warning.\n\nTue Oct 19 20:32:50 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole.c(ole_invoke): retrieve the result value when\n\t  retrying the IDispatch::invoke.\n\nTue Oct 19 17:24:11 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): block string buffer modification during\n\t  rb_io_fread() by freezing it temporarily. [ruby-dev:24479]\n\n\t* dir.c (rb_push_glob): block call at once the end of method.\n\t  [ruby-dev:24487]\n\n\t* ext/enumerator/enumerator.c (enum_each_slice): remove\n\t  rb_gc_force_recycle() to prevent potential SEGV.\n\t  [ruby-dev:24499]\n\n\t* ext/zlib/zlib.c (zstream_expand_buffer): hide internal string\n\t  buffer by clearing klass.  [ruby-dev:24510]\n\nTue Oct 19 08:47:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_upto): method result must be checked.  [ruby-dev:24504]\n\n\t* eval.c (error_print): ditto.  [ruby-dev:24519]\n\nMon Oct 18 23:37:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (r_object0): check inheritance by the internal function.\n\t  [ruby-dev:24515]\n\nMon Oct 18 11:29:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_flags_mode, rb_io_mode_flags): distinguish whether file\n\t  not existing is created.  [ruby-dev:24505]\n\nMon Oct 18 07:26:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_truncate): discard read buffer before truncation.\n\t  [ruby-dev:24197]\n\nMon Oct 18 01:56:03 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPRequest#initialize):\n\t  initial value of accpet-* should be array.\n\nMon Oct 18 00:42:45 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyaname): protocol string\n\t  might be altered.  [ruby-dev:24503]\n\n\t* string.c (rb_str_upto): check if return value from succ is a\n\t  string.  [ruby-dev:24504]\n\nSun Oct 17 23:03:48 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb: TkTimer#start and restart accept a block\n\nSun Oct 17 12:53:46 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fole_func_methods): correct argument mismatch.\n\t* ext/win32ole/win32ole.c (fole_get_methods): ditto.\n\t* ext/win32ole/win32ole.c (fole_put_methods): ditto.\n\t* ext/win32ole/tests/testWIN32OLE.rb: add test for WIN32OLE#ole_func_methods\n\t  WIN32OLE#ole_get_methods, WIN32OLE#ole_put_methods\n\nSat Oct 16 14:45:28 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/0.9.rb (RSS::Rss#to_s): removed garbage.\n\nSat Oct 16 13:42:49 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/: untabified.\n\t* test/rss/: untabified.\n\t* lib/rss/0.9.rb (RSS::Rss#to_s): inent -> indent.\n\nSat Oct 16 13:34:56 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss: supported prety print.\n\t* test/rss/test_1.0.rb: added test for calculating default indent size.\n\nSat Oct 16 10:56:36 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): install-rb is needed for statically\n\t  linked extensions.  [ruby-dev:24491]\n\nFri Oct 15 18:07:08 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509store.c\n\t  (ossl_x509stctx_initialize): setup OpenSSL::X509::StoreContext with\n\t  ossl_x509stctx_* functions instead of X509_STORE_CTX_*.\n\t  (ossl_x509store_set_time): add OpenSSL::X509::Store#time=.\n\t  (ossl_x509stctx_set_time): add OpenSSL::X509::StoreContext#time=.\n\n\t* test/openssl/ossl_x509store.rb: test certificate validity times.\n\nFri Oct 15 18:04:35 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb: TkTimer.new(interval, loop){ ... } is\n\t  acceptable. Add TkTimer.start ( == new + start ).\n\nFri Oct 15 12:43:09 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (Init_stack): make prototype declaration consistent with\n\t  the definition in gc.c.\n\nThu Oct 14 13:33:59 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: added link to Tutorial.\n\nTue Oct 12 21:22:50 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/config.rb:\n\t  add WEBrick::Config::FileHandler[:AcceptableLanguages].\n\n\t* lib/webrick/httpservlet/filehandler.rb\n\t  (WEBrick::HTTPServlet::FileHandler#set_filename): search files\n\t  having suffix of language-name which Accept-Language header field\n\t  includes if :AcceptableLanguages options is present.\n\n\t* lib/webrick/httpservlet/filehandler.rb\n\t  (WEBrick::HTTPServlet::FileHandler#get_servlet): new method to\n\t  search servlet correspond to the suffix of filename.\n\n\t* lib/webrick/httprequest.rb: add attributes access methods: accept,\n\t  accept_charset, accept_encoding, accept_language, content_length\n\t  and content_type.\n\n\t* lib/webrick/httpresponse.rb: add attribute access methods:\n\t  content_length, content_length=, content_type and content_type=.\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.mime_types):\n\t  use the second suffix to detect media type. (the first suffix\n\t  may be a language name.)\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.parse_qvalues):\n\t  add method to parse Accept header field. it returns an Array of\n\t  values sorted by the qvalues.\n\nTue Oct 12 15:05:32 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (MODE_BINMODE, MODE_BINARY): fixed reversed condition.\n\nMon Oct 11 17:51:34 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_popen): get mode string via rb_io_flags_mode() to\n\t  avoid mode string modification.  [ruby-dev:24454]\n\n\t* io.c (rb_io_getline_fast): should take delim as unsigned char to\n\t  distinguish EOF and '\\377'.  [ruby-dev:24460]\n\n\t* io.c (rb_io_getline): add check for RS modification.\n\t  [ruby-dev:24461]\n\n\t* enum.c (enum_sort_by): use qsort() directly instead using\n\t  rb_iterate().  [ruby-dev:24462]\n\n\t* enum.c (enum_each_with_index): remove rb_gc_force_recycle() to\n\t  prevent access to recycled object (via continuation for\n\t  example).  [ruby-dev:24463]\n\nMon Oct 11 13:48:20 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/*: untabify\n\nSun Oct 10 12:32:08 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::parse_require): Allow 'require'\n\t  to be used as a variable name\n\nSun Oct 10 02:49:14 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/filter.rb: require ripper/tokenizer.\n\n\t* ext/ripper/lib/ripper/filter.rb (parse): argument is optional.\n\nSun Oct 10 02:43:13 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: \\n between two comments disappeared.\n\nSat Oct  9 21:23:37 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/converter.rb: changed to try to use Iconv for default\n\t  conversion.\n\n\t* lib/rss/rss.rb: 0.0.9 -> 0.1.0.\n\nSat Oct  9 19:50:36 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline): should not treat char as negative value.\n\t  [ruby-dev:24460]\n\nSat Oct  9 00:25:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_io_fread): rb_thread_wait_fd() was lost.\n\t  [ruby-dev:24457]\n\nFri Oct  8 21:36:56 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_traverse): return value of Dir.entries is\n\t  reliable. (pass $SAFE=1)\n\n\t* lib/fileutils.rb (remove_dir): return value of Dir.foreach is\n\t  reliable. (pass $SAFE=1)\n\nFri Oct  8 09:49:32 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): pointer modification check before each\n\t  iteration.  [ruby-dev:24445]\n\nFri Oct  8 01:13:05 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/optiondb.rb: make it more secure\n\nThu Oct  7 23:47:57 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/scrollbar.rb: When 'set' operation, a scrollbar\n\t  cannot propagate view port information from the source widget\n\t  (that calls 'set') to other assigned widgets.\n\nThu Oct  7 17:36:25 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: When CHILDKILLED and so on, Tk.errorCode returns\n\t  a Fixnum for 2nd element (it's pid) of the return value.\n\nThu Oct  7 12:55:04 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_read): should freeze buffer before thread context\n\t  switch. [ruby-dev:24442]\n\n\t* pack.c (pack_unpack): string conversion should at the top of the\n\t  method.  [ruby-dev:24439]\n\n\t* io.c (io_read): buffer should be frozen only after the length\n\t  check.  [ruby-dev:24440]\n\nThu Oct  7 02:56:43 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c: use FMODE_APPEND.\n\nThu Oct  7 01:05:33 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add Tk.errorInfo and Tk.errorCode\n\nThu Oct  7 00:08:37 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_sysopen): preserve path in the buffer allocated by\n\t  ALLOCA_N() to prevent modification.  [ruby-dev:24438]\n\nWed Oct  6 09:21:00 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_mode_flags): preserve append mode flag.\n\t  [ruby-dev:24436]\n\n\t* io.c (rb_io_modenum_mode): do not use external output buffer.\n\n\t* string.c (rb_str_justify): differ pointer retrieval to prevent\n\t  padding string modification.  [ruby-dev:24434]\n\n\t* range.c (range_each_func): allow func to terminate loop by\n\t  returning RANGE_EACH_BREAK.\n\n\t* range.c (member_i): use RANGE_EACH_BREAK. [ruby-talk:114959]\n\nTue Oct  5 09:53:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_fopen): mode string copy at the lowest level.\n\n\t* io.c (rb_io_flags_mode): requires output buffer no more.  no\n\t  allocation needed.\n\n\t* array.c (rb_ary_index): takes a block to compare items in an\n\t  array.  [ruby-talk:113069] [Ruby2]\n\n\t* array.c (rb_ary_rindex): ditto.\n\nMon Oct  4 14:03:40 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_file_open_internal, rb_io_reopen): fname might be altered\n\t  while GC.  [ruby-dev:24408]\n\nMon Oct  4 12:53:45 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/optiondb.rb: support definition of command\n\t  resources on widgets\n\n\t* ext/tk/lib/tk/image.rb: bug fix\n\nSun Oct  3 21:16:05 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (TEXT_REGEXP): allow 8-bit characters for the german\n\t  version of Microsoft Exchange Server.\n\n\t* lib/net/imap.rb (RTEXT_REGEXP): ditto.\n\n\t* lib/net/imap.rb (CTEXT_REGEXP): ditto.\n\nSat Oct  2 20:34:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (local_vars): moved to struct parser_params.\n\t  [ruby-dev:24391]\n\n\t* parser.y (stmts): remove suspicious NODE_BEGIN.  [ruby-dev:24390]\n\n\t* node.h (NEW_DVAR): extra semicolon.\n\nSat Oct  2 00:42:20 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_byte): retrieve pointer from string value for each\n\t  time.  [ruby-dev:24404]\n\n\t* marshal.c (r_bytes0): ditto.\n\n\t* enum.c (sort_by_i): re-entrance check added.  [ruby-dev:24399]\n\n\t* io.c (io_read): should freeze all reading buffer.\n\t  [ruby-dev:24400]\n\n\t* string.c (rb_str_sum): should use bignums when bits is greater\n\t  than or equals to sizeof(long)*CHAR_BITS. [ruby-dev:24395]\n\n\t* eval.c (specific_eval): defer pointer retrieval to prevent\n\t  unsafe sourcefile string modification.  [ruby-dev:24382]\n\n\t* string.c (rb_str_sum): wrong cast caused wrong result.\n\t  [ruby-dev:24385]\n\n\t* enum.c (enum_sort_by): hide temporary array from\n\t  ObjectSpace.each_object.  [ruby-dev:24386]\n\n\t* string.c (rb_str_sum): check was done with false pointer.\n\t  [ruby-dev:24383]\n\n\t* string.c (rb_str_sum): string may be altered.  [ruby-dev:24381]\n\nFri Oct  1 11:40:14 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_eval): defer pointer retrieval to prevent unsafe\n\t  sourcefile string modification.  [ruby-dev:24373]\n\n\t* io.c (io_read): block string buffer modification during\n\t  rb_io_fread() by freezing it temporarily. [ruby-dev:24366]\n\n\t* io.c (rb_io_s_popen): mode argument may be altered.\n\t  [ruby-dev:24375]\n\n\t* file.c (rb_file_s_basename): ext argument may be altered.\n\t  [ruby-dev:24377]\n\n\t* enum.c (enum_sort_by): use NODE instead of 2 element arrays.\n\t  [ruby-dev:24378]\n\n\t* string.c (rb_str_chomp_bang): StringValue() may change the\n\t  receiver.  [ruby-dev:24371]\n\nFri Oct  1 11:25:20 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/grid.rb: revive TkGrid.grid\n\n\t* ext/tk/lib/tk/pack.rb: revive TkPack.pack\n\n\t* ext/tk/lib/tk/place.rb: revive TkPlace.place\n\nThu Sep 30 00:50:44 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_init): bug fix\n\n\t* ext/tk/tkutil.c (get_eval_string_core): accept a Regexp object\n\n\t* ext/tk/lib/multi-tk.rb: fix bug on 'exit' operation\n\n\t* ext/tk/lib/tk/text.rb: 'tksearch' accepts a Regexp object as a\n\t  matting pattern argument\n\nWed Sep 29 10:58:07 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (sort_by_i): internally used object must not be changed\n\t  outside.  [ruby-dev:24368]\n\nMon Sep 27 21:25:12 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_call0): invoke finalizers periodically.\n\n\t* gc.c (gc_sweep): defer running finalizers.  [ruby-dev:24354]\n\n\t* gc.c (rb_gc_finalize_deferred): run deferred finalizers.\n\nMon Sep 27 15:01:59 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: missing ';'.\n\nMon Sep 27 13:46:45 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h, struct.c (rb_struct_s_members, rb_struct_members): public\n\t  accessors.  [ruby-dev:24342]\n\n\t* marshal.c (w_object, r_object0): use accessors.\n\nMon Sep 27 09:14:03 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_delete): comparison may change the capacity.\n\t  [ruby-dev:24348]\n\n\t* array.c (rb_ary_fill): fill should honor length argument.\n\t  [ruby-dev:24346]\n\n\t* array.c (rb_ary_replace): should not use ptr from shared array.\n\t  [ruby-dev:24345]\n\n\t* ext/socket/socket.c (s_accept): don't retry for EWOULDBLOCK.\n\t  [ruby-talk:113807]\n\nSun Sep 26 08:05:10 2004  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: provides {Time,Date,DateTime}#to_{time,date,datetime}.\n\n\t* sample/cal.rb: uses getoptlong instead of getopts.\n\nSat Sep 25 18:39:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (flatten): element size might change during comparison.\n\t  [ruby-dev:24343]\n\nSat Sep 25 01:52:49 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_s_members): wrong call of struct_members.\n\t  [ruby-dev:24333]\n\nFri Sep 24 16:09:42 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): propagate DVAR_DONT_RECYCLE on termination\n\t  to avoid double call to rb_gc_force_recycle(). [ruby-dev:24311]\n\nFri Sep 24 08:29:45 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (rb_parser_append_print): should handle prelude.\n\t  [llama@u01.gate0]\n\n\t* parse.y (rb_parser_while_loop): ditto.\n\n\t* array.c (rb_ary_subseq): original object might be modified after\n\t  sharing data creation.  [ruby-dev:24327]\n\n\t* array.c (rb_ary_replace): ditto.\n\n\t* array.c (ary_make_shared): freeze shared array. [ruby-dev:24325]\n\n\t* struct.c (struct_members): always check struct size and size of\n\t  members list in the class.  [ruby-dev:24320]\n\nThu Sep 23 19:48:14 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/Makefile.dev: removed.\n\n\t* ext/ripper/ripper.rb.in: moved to lib/ripper/core.rb.in.\n\n\t* ext/ripper/lib/ripper/core.rb: new file.\n\n\t* ext/ripper/lib/ripper/core.rb.in: new file.\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: change comment.\n\n\t* test/ripper/*.rb: on__scan event removed.\n\n\t* test/ripper/*.rb: event name is changed: on__XXX -> on_XXX.\n\nThu Sep 23 09:29:14 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_sub_bang): check if string is not modified\n\t  during iteration.  [ruby-dev:24315]\n\n\t* hash.c (rb_hash_rehash): replace st_foreach() by its deep\n\t  checking counterpart.  [ruby-dev:24310]\n\nWed Sep 22 14:21:54 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: on__scan event removed.\n\n\t* parse.y [ripper]: event name is changed: on__XXX -> on_XXX.\n\n\t* ext/ripper/eventids2.c: ditto.\n\n\t* ext/ripper/ripper.rb.in: ditto.\n\n\t* ext/ripper/lib/ripper.rb: sync with ripper.rb.in.\n\n\t* ext/ripper/lib/ripper/tokenizer: ditto.\n\n\t* ext/ripper/lib/ripper/filter: new file.\n\n\t* sample/ripper/colorize.rb: new file.\n\n\t* sample/ripper/strip-comment.rb: new file.\n\nWed Sep 22 13:50:49 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (hash_alloc): was using tbl pointer without\n\t  initialization.\n\nWed Sep 22 13:38:12 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_rehash): add iteration check.  [ruby-dev:24301]\n\n\t* st.c (st_foreach): add deep check.\n\n\t* hash.c (rb_hash_fetch): returns KeyError instead of IndexError.\n\n\t* hash.c (env_fetch): ditto.\n\nWed Sep 22 13:02:02 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_call_handler): workaround for Ctrl-C.\n\nWed Sep 22 09:04:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: remove global variables ruby_eval_tree and\n\t  ruby_eval_tree_begin.\n\n\t* array.c (rb_ary_collect_bang): element size might change during\n\t  comparison.  [ruby-dev:24300]\n\n\t* array.c (rb_ary_reject_bang): ditto. [ruby-dev:24300]\n\n\t* array.c (rb_ary_eql): ditto. [ruby-dev:24300]\n\nWed Sep 22 00:11:12 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* process.c: Add documentation for fork()\n\nTue Sep 21 18:29:49 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_uniq_bang): element size might change during\n\t  comparison.  [ruby-dev:24298]\n\nMon Sep 20 17:46:51 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/tokenizer.rb: fix typo.\n\nMon Sep 20 17:38:43 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/test_scanner_events.rb: tokens must be reordered.\n\n\t* ext/ripper/lib/ripper/tokenizer.rb: ditto.\n\nMon Sep 20 16:58:16 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: do not delay dispatching.\n\n\t* ext/ripper/lib/ripper/tokenizer.rb: sort tokens by right order.\n\nMon Sep 20 15:17:47 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/tokenizer.rb: new file.\n\nMon Sep 20 15:13:52 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/test_scanner_events.rb: test #lineno and #column.\n\nMon Sep 20 14:50:17 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: delayed heredocument events should be\n\t  dispatched after EOF.\n\nMon Sep 20 14:39:42 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: adjust lineno and columns for multi-line\n\t  strings.\n\n\t* parse.y [ripper]: delay heredocument events until seeing\n\t  end-of-line.\n\n\t* parse.y [ripper]: event on__heredoc_contentn ->\n\t  on__tstring_content.\n\n\t* ext/ripper/eventids2.c: ditto.\n\n\t* ext/ripper/lib/ripper.rb: sync with eventids2.c.\n\n\t* test/ripper/test_scanner_events.rb: test it.\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: show basename of input.\n\n\t* ext/ripper/Makefile.dev: support objdir build.\n\nMon Sep 20 13:22:55 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: remove Ripper#pos.\n\n\t* parse.y [ripper]: Ripper#column should return the column of the\n\t  current token.\n\nMon Sep 20 12:02:41 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: unify old_lex_p and token_head.\n\n\t* test/ripper/test_scanner_events.rb: now \\r\\n is saved correctly.\n\n\t* parse.y: new macro lex_goto_eol() for next change.\n\nMon Sep 20 11:01:55 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: adjust line number for heredoc.  [ruby-dev:24272]\n\nMon Sep 20 04:49:22 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/ripper.rb.in: new const Ripper::PARSER_EVENT_TABLE.\n\n\t* ext/ripper/ripper.rb.in: new const Ripper::SCANNER_EVENT_TABLE.\n\n\t* ext/ripper/lib/ripper.rb: sync with ripper.rb.in.\n\nMon Sep 20 04:13:00 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/test_scanner_events.rb: test spaces before heredoc\n\t  mark.\n\nMon Sep 20 03:46:54 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: spaces before heredoc marker was lost.\n\t  [ruby-dev:24272]\n\n\t* keywords: rb_reserved_word() should be defined only in ruby\n\t  core.  [ruby-dev:24272]\n\n\t* lex.c: sync with keywords.\n\n\t* ext/ripper/ripper.rb.in (parse): fix typo.\n\n\t* ext/ripper/lib/ripper.rb: sync with ripper.rb.in.\n\nMon Sep 20 03:37:59 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/zlib/zlib.c (gzfile_read_raw): call readpartial at first.\n\t  (Zlib::GzipReader#readpartial): new method.\n\nMon Sep 20 00:24:19 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_sort_by): do not use qsort directly.  use\n\t  rb_ary_sort_bang() instead.  [ruby-dev:24291]\n\n\t* enum.c (enum_sort_by): pedantic type check added.\n\t  [ruby-dev:24291]\n\n\t* hash.c (rb_hash_foreach_iter): check iter_lev after each\n\t  iteration.  [ruby-dev:24289]\n\n\t* array.c (rb_ary_and): element size might change during\n\t  comparison.  [ruby-dev:24290]\n\n\t* array.c (rb_ary_or): ditto. [ruby-dev:24292]\n\n\t* array.c (rb_ary_equal): wrong fix. [ruby-dev:24286]\n\nSat Sep 18 15:02:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_equal): element size might change during\n\t  comparison.  [ruby-dev:24254]\n\n\t* array.c (rb_ary_diff): ditto. [ruby-dev:24274]\n\n\t* array.c (rb_ary_select): ditto. [ruby-dev:24278]\n\n\t* array.c (rb_ary_delete): ditto. [ruby-dev:24283]\n\n\t* array.c (rb_ary_rindex): ditto. [ruby-dev:24275]\n\n\t* array.c (rb_ary_initialize): element size might change during\n\t  initializing block.  [ruby-dev:24284]\n\nSat Sep 18 14:10:23 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_s_chdir): avoid memory leak and unnecessary chdir to\n\t  the original directory when exception has caused in changing\n\t  direcotry or within block.  thanks to Johan Holmberg\n\t  <holmberg@iar.se> [ruby-core:03446]\n\nFri Sep 17 20:29:33 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y: add prototypes for Microsoft compiler.\n\n\t* ext/ripper/depend (parse.obj): lex.c exists at hdrdir.\n\n\t* {bcc32,win32,wince}/Makefile.sub (YACC, YFLAGS, parse.c):\n\t  use bison.\n\nFri Sep 17 17:11:08 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_delete): element comparison might change array\n\t  size. [ruby-dev:24273]\n\n\t* parse.y: make ruby parser reentrant. merge ripper parser to the\n\t  real one.  this change makes ruby require bison.\n\n\t* file.c (rb_file_truncate): clear stdio buffer before truncating\n\t  the file.  [ruby-dev:24191]\n\n\t* ext/digest/digest.c: use rb_obj_class() instead of CLASS_OF\n\t  which might return singleton class.  [ruby-dev:24202]\n\nFri Sep 17 16:07:09 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: improve exit operation\n\nFri Sep 17 15:01:57 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix SEGV when (thread_)vwait or\n\t  (thread_)tkwait\n\n\t* ext/tk/lib/tk.rb: add alias wait_window to wait_destroy\n\n\t* ext/tk/lib/multi-tk.rb: support calling 'mainloop' on slave\n\t  interpreters (however, the 'real' eventloop must be run on the\n\t  Default Master IP)\n\n\t* ext/tk/lib/remote-tk.rb: follow the changes of ext/tk/lib/multi-tk.rb\n\n\t* ext/tk/sample/remote-ip_sample2.rb: ditto\n\n\t* ext/tk/sample/tkoptdb-safeTk.rb: ditto\n\nThu Sep 16 18:12:13 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI#start): should set REMOTE_USER\n\t  to request.user attribute.\n\n\t* lib/webrick/httpservlet/filehandler.rb\n\t  (WEBrick::HTTPServlet::FileHandler#initialize): should expand\n\t  the pathname of document root directory.\n\nThu Sep 16 15:49:28 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): protect string argument from GC.\n\t  [ruby-core:03411]\n\nWed Sep 15 20:22:23 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkoptdb-safeTk.rb: fix a bug depend on the changes\n\t  of MultiTkIp\n\nTue Sep 14 23:54:11 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp#eval_string was en-bugged by\n\t  the previous changes.\n\nTue Sep 14 23:45:44 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::TextFormatter::TextFormatter.for):\n\t  Add Eric Hodel's simpleformatter.\n\nTue Sep 14 22:11:08 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: Add rdoc.\n\nTue Sep 14 20:24:49 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: space event is on__sp, not on__lwsp.\n\t  [ruby-dev:24257]\n\n\t* ext/ripper/eventids2.c: ditto.\n\n\t* ext/ripper/lib/ripper.rb: ditto.\n\n\t* ext/ripper/depend (ripper.o): No action is needed.\n\t  [ruby-dev:24260]\n\n\t* ext/ripper/depend: Borland make does not accept pipes in\n\t  Makefile rules. [ruby-dev:24589]\n\n\t* ext/ripper/depend: separate rules for developpers.\n\n\t* ext/ripper/Makefile.dev: new file.\n\n\t* ext/ripper/MANIFEST: add Makefile.dev.\n\n\t* ext/ripper/tools/generate-eventids1.rb: read from file, not\n\t  stdin.\n\n\t* ext/ripper/extconf.rb: clean ripper.E.\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: #include ids1/ids2\n\t  function was lost.\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: SCANNER_EVENTS wrongly\n\t  contained parser events.\n\n\t* ext/ripper/lib/ripper.rb: ditto.\n\nTue Sep 14 16:59:37 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix SEGV\n\n\t* ext/tk/lib/multi-tk.rb: improve safe-level handling of argument proc\n\n\t* ext/tk/sample/multi-ip_sample.rb: rename of old 'safe-tk.rb'\n\n\t* ext/tk/sample/safe-tk.rb: new sample script\n\n\nMon Sep 13 21:33:40 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_to_s): add optional\n\t  second argument to specify the output format (see also\n\t   X509_NAME_print_ex).\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_init): new constants:\n\t  OpenSSL::X509::Name::COMPAT, OpenSSL::X509::Name::RFC2253,\n\t  OpenSSL::X509::ONELINE, OpenSSL::X509::MULTILINE.\n\n\t* ext/openssl/lib/openssl/x509.rb (OpenSSL::X509::Name::RFC2253DN):\n\t  new module to provide the parse for RFC2253 DN format.\n\n\t* ext/openssl/lib/openssl/x509.rb (OpenSSL::X509::Name.parse_rfc2253):\n\t  new method to parse RFC2253 DN format.\n\nMon Sep 13 19:16:33 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* eval.c (blk_copy_prev): need frame_dup().  [ruby-dev:24103]\n\nMon Sep 13 16:23:27 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp.new_master and new_slave accept\n\t  safe-level value argument\n\nMon Sep 13 10:48:37 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_getpid): don't need to use _getpid() on\n\t  mswin32 and mingw32.\n\nMon Sep 13 10:22:05 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* object.c (nil_inspect): fix typo.\n\nMon Sep 13 09:29:58 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/depend: (nmake hack) prepend \"./\" to ripper.c to\n\t  avoid {$(srcdir)}.\n\nMon Sep 13 06:43:42 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/tools/list-parse-event-ids.rb: does not use getopts.\n\n\t* ext/ripper/tools/list-scan-event-ids.rb: ditto.\n\nMon Sep 13 02:42:28 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/Setup: add ripper.\n\n\t* ext/Setup.atheos: ditto.\n\n\t* ext/Setup.dj: ditto.\n\n\t* ext/Setup.emx: ditto.\n\n\t* ext/Setup.nt: ditto.\n\n\t* ext/Setup.x68: ditto.\n\nMon Sep 13 02:26:31 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper: ripper extention added.\n\n\t* ext/ripper/MANIFEST: new file.\n\n\t* ext/ripper/README: new file.\n\n\t* ext/ripper/depend: new file.\n\n\t* ext/ripper/extconf.rb: new file.\n\n\t* ext/ripper/eventids2.c: new file.\n\n\t* ext/ripper/ripper.rb.in: new file.\n\n\t* ext/ripper/lib/ripper.rb: new file.\n\n\t* ext/ripper/test/check-event-arity.rb: new file.\n\n\t* ext/ripper/test/check-event-coverage.sh: new file.\n\n\t* ext/ripper/test/check-scanner-event-coverage.rb: new file.\n\n\t* ext/ripper/test/list-called-events.rb: new file.\n\n\t* ext/ripper/test/src_rb: new file.\n\n\t* ext/ripper/test/validate.rb: new file.\n\n\t* ext/ripper/tools/generate-eventids1.rb: new file.\n\n\t* ext/ripper/tools/generate-param-macros.rb: new file.\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: new file.\n\n\t* ext/ripper/tools/list-parse-event-ids.rb: new file.\n\n\t* ext/ripper/tools/list-scan-event-ids.rb: new file.\n\n\t* ext/ripper/tools/preproc.rb: new file.\n\n\t* ext/ripper/tools/strip.rb: new file.\n\n\t* test/ripper: ripper tests added.\n\n\t* test/ripper/dummyparser.rb: new file.\n\n\t* test/ripper/test_parser_events.rb: new file.\n\n\t* test/ripper/test_scanner_events.rb: new file.\n\nMon Sep 13 01:03:02 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: improve control of preserv/release tcltkip\n\n\t* ext/tcltklib/tcltklib.c: store original 'exit' command\n\n\t* ext/tk/tkutil.c: fix(?) SEGV\n\nMon Sep 13 00:22:53 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y: fix file header.\n\nMon Sep 13 00:20:39 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y: ripper merged.\n\n\t* lex.c: ditto.\n\n\t* keywords: ditto.\n\nSun Sep 12 23:53:17 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.c (ruby_strdup): remove unnecessary code. (xmalloc never\n\t  returns NULL.)\n\n\t* util.c (ruby_getcwd): fix memory leak on failure.\n\nSun Sep 12 02:41:58 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: add TclTkIp#allow_ruby_exit? and\n\t  allow_ruby_exit=\n\n\t* ext/tk/lib/multi-tk.rb: ditto.\n\n\t* ext/tk/lib/remote-tk.rb: ditto.\n\n\t* ext/tcltklib/MANUAL.euc: ditto.\n\n\t* ext/tcltklib/MANUAL.eng: ditto.\n\n\t* ext/tcltklib/tcltklib.c: fix some reasons of SEGV\n\n\t* ext/tk/tkutil.c: ditto.\n\n\t* ext/tk/lib/multi-tk.rb: ditto.\n\n\t* ext/tk/lib/tk/timer.rb: ditto.\n\nSat Sep 11 16:09:46 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Fix up cross-file class merging.\n\nFri Sep 10 20:18:05 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tcltklib/tcltklib.c (lib_merge_tklist): fix suspicious\n\t  pointer conversion.\n\nFri Sep 10 19:16:24 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: bccwin32 port starts to use RTL dll.\n\t  (need to rebuild all) [ruby-dev:24138]\n\n\t* win32/win32.{h,c}: ditto.\n\nFri Sep 10 15:55:59 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir_p): should pass mode argument to\n\t  Dir.mkdir. [ruby-dev:24242]\n\n\t* test/fileutils/test_fileutils.rb: test it.\n\nFri Sep 10 02:43:54 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/kilmer.rb: James Buck's\n\t  patch for call-seq.\n\nThu Sep  9 13:58:56 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_init): change flag value for setting\n\t  'argv' and 'argv0' variable\n\n\t* ext/tk/lib/remote-tk.rb: follow changes of multi-tk.rb\n\nThu Sep  9 11:46:18 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::do_classes): Allow\n\t  spaces aroun parameter to define_method_under (James Buck)\n\nWed Sep  8 18:44:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_write): zero fill a gap if exsts.\n\t  [ruby-dev:24190]\n\nWed Sep  8 15:19:49 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_init): cannot create a IP at level 4\n\n\t* ext/tk/lib/multi-tk.rb: improve 'exit' operation, security check,\n\t  and error treatment\n\n\t* ext/tk/lib/multi-tk.rb: allow a trusted slave IP to create slave IPs\n\n\t* ext/tk/lib/tk/listbox.rb: add TkListbox#value, value=, clear,\tand\n\t  erase\n\n\t* ext/tk/lib/tk/text.rb: add TkText#clear and erase\n\nTue Sep  7 15:17:49 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect): break immediately if a\n\t  socket is non-blocking.  [ruby-talk:111654]\n\nTue Sep  7 12:48:22 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/Makefile.sub (config.h): add fcntl.\n\n\t* win32/win32.[ch] (fcntl): ditto.\n\n\t* win32/win32.c (rb_w32_connect): support nonblocking mode.\n\n\t* ext/socket/socket.c (wait_connectable, ruby_connect): support\n\t  nonblocking connect on various platforms.\n\nMon Sep  6 11:00:47 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_s_chdir): the patch to shut up false warning when\n\t  exception occurred within a block.  a patch was given from Johan\n\t  Holmberg <holmberg at iar.se>.  [ruby-core:03292]\n\nMon Sep  6 10:57:40 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/lib/tk/menu.rb(TkOptionMenubutton#insert): call correct method\n\nMon Sep  6 07:51:42 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (cvar_cbase): singletons should refer outer cvar scope.\n\t  [ruby-dev:24223]\n\n\t* eval.c (rb_load): should preserve previous ruby_wrapper value.\n\t  [ruby-dev:24226]\n\nSat Sep  4 01:14:57 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (cvar_cbase): class variables cause SEGV in\n\t  instance_eval() for fixnums and symbols. [ruby-dev:24213]\n\nFri Sep  3 17:47:58 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (make_struct): remove redefining constant when\n\t  conflict.  [ruby-dev:24210]\n\nFri Sep  3 11:31:44 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: Tk.after makes TkCore::INTERP.tk_cmd_tbl grow\n\t  [ruby-dev:24207]\n\nFri Sep  3 02:12:48 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix typo [ruby-talk:111266]\n\n\t* ext/tk/lib/tk/text.rb: fix typo\n\n\t* ext/tk/lib/multi-tk.rb: improve safe-level treatment on slave IPs\n\nFri Sep  3 01:54:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): extact target prefix from Makefiles.\n\n\t* ext/extmk.rb: already built-in libraries satisfy dependencies.\n\t  [ruby-dev:24028]\n\nWed Sep  1 21:16:50 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/lib/tk/spinbox.rb: fix typo\n\nWed Sep  1 19:28:37 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_proc_exec): label cannot precede variable declarations.\n\nTue Aug 31 18:20:49 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tkutil.c (cbsubst_init): fix memory leak\n\n\t* ext/tk/tkutil.c (cbsubst_get_all_subst_keys): fix SEGV\n\nTue Aug 31 16:04:22 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_delete): when a tcltkip is deleted,\n\t  destroy its root widget\n\nTue Aug 31 12:30:36 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (del_root): fix SEGV\n\nMon Aug 30 21:50:14 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* object.c: Add RDoc for Module.included.\n\nMon Aug 30 23:11:06 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_driver.rb (and others): ri now merges documentation\n\t  if it finds the same class in multiple places.\n\nMon Aug 30 22:40:30 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: 'restart' method accepts arguments\n\nMon Aug 30 15:10:46 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (GNU/k*BSD): fixed FTBFS on GNU/k*BSD. [ruby-dev:24051]\n\nSun Aug 29 14:08:56 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: compile error on bcc32 [ruby-dev:24081]\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp#eval_string does not work\n\nSat Aug 28 23:04:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_and): protect parameters from GC.\n\t  [ruby-talk:110664]\n\nFri Aug 27 12:13:50 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/stringio/stringio.c (Init_stringio): add StringIO#readpartial as\n\t  an alias for StringIO#sysread.\n\nFri Aug 27 10:14:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_proc_exec): strip trailing spaces.  [ruby-dev:24143]\n\n\t* win32/win32.c (CreateChild): ditto.\n\nThu Aug 26 04:38:29 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* eval.c (return_jump): Minor typo in error message. Now reads\n\t  \"return can't jump across threads\".\n\nWed Aug 25 15:18:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_longjmp): Exception#to_str is no longer defined.\n\nWed Aug 25 11:39:10 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (exc_equal): exceptions are equal if they share same\n\t  class, message and backtrace. [ruby-talk:110354]\n\n\t* error.c (name_err_mesg_equal): ditto.\n\nTue Aug 24 16:41:48 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::FileStore#initialize): do not\n\t  use a session id as a filename.\n\n\t* lib/cgi/session/pstore.rb (CGI::Session::PStore#initialize): ditto.\n\n\t* lib/cgi/session/pstore.rb (CGI::Session::PStore#initialize): use\n\t  Dir::tmpdir.\n\nTue Aug 24 14:32:17 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::FileStore#initialize): untaint\n\t  session id after check.\n\nTue Aug 24 08:57:51 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509attr.c (ossl_x509attr_initialize): d2i\n\t  functions may replace the pointer indicated by the first argument.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_initialize): ditto.\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_initialize): ditto.\n\nMon Aug 23 12:43:32 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/resolv.rb (Config.default_config_hash): when multiple domains\n\t  are set, Win32::Resolv.get_resolv_info returns Array.\n\nSun Aug 22 16:27:38 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_read):\n\t  - should return an empty string if specified length to read is 0.\n\t  - should check for pending data and wait for fd before reading.\n\t  - call underlying IO's sysread if SSL session is not started.\n\t  [ruby-dev:24072], [ruby-dev:24075]\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_write):\n\t  - call underlying IO's syswrite if SSL session is not started.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_pending): new method\n\t  OpenSSL::SSL#pending.\n\n\t* ext/openssl/lib/openssl/buffering.rb: should not use select.\n\nSun Aug 22 01:10:36 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#proxy_connect):\n\t  should call :ProxyContentHandler before finishing CONNECT.\n\nSat Aug 21 06:41:16 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tcltklib/extconf.rb (find_tcl, find_tk): find stub library.\n\n\t* lib/mkmf.rb (arg_config, with_config): deal with '-' and '_'\n\t  uniformly.  [ruby-dev:24118]\n\nFri Aug 20 14:49:42 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_io_check_writable): no need to check read buffer if\n\t  already changed to write mode.\n\nFri Aug 20 11:46:43 2004  UENO Katsuhiro  <katsu@blue.sky.or.jp>\n\n\t* ext/zlib/zlib.c: GzipReader#ungetc caused crc error.\n\nThu Aug 19 16:29:45 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: Fail to treat a hash value of 'font' option.\n\n\t* ext/tk/lib/tk.rb: bindinfo cannot return '%' substiturion infomation.\n\n\t* ext/tk/lib/menu.rb: typo bug.\n\nThu Aug 19 15:15:24 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (free_dir): fix memory leak.  reported by yamamoto\n\t  madoka.\n\nThu Aug 19 09:19:27 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* configure.in, win32/Makefile.sub (LIBS): need to link shell32\n\t  library for SH* functions on mswin32 and mingw32.\n\n\t* wince/Makefile.sub (LIBS): need to link ceshell library for SH*\n\t  functions on mswince.\n\nThu Aug 19 03:07:00 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/baseemitter.rb: folding now handles double-quoted strings,\n\t  fixed problem with extra line feeds at end of folding, whitespace\n\t  opening scalar blocks.\n\n\t* lib/yaml/rubytypes.rb: subtelties in handling strings with\n\t  non-printable characters and odd whitespace patterns.\n\nWed Aug 18 23:44:20 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb (rbuf_fill): OpenSSL::SSLSocket has its own\n\t  buffer, select(2) might not work. [ruby-dev:24072]\n\nWed Aug 18 17:10:12 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/tcltklib/stubs.c (ruby_tcltk_stubs): need to call\n\t  Tcl_FindExecutable() for Tcl/Tk 8.4.\n\nWed Aug 18 12:52:55 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_obj_instance_eval): evaluates under special singleton\n\t  classes as for special constants.\n\nWed Aug 18 11:22:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (init_env): initialize HOME and USER environment\n\t  variables unless set.\n\nWed Aug 18 10:17:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (bind_eval): new method. [RCR 251]\n\n\t* string.c (rb_str_clear): new method. [ruby-dev:24104]\n\nTue Aug 17 17:20:59 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_reopen): should clear allocated OpenFile.  pointed\n\t  out by Guy Decoux. [ruby-core:03288]\n\nTue Aug 17 01:36:32 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/usage.rb: Remove extra indent. Tidy 'ri' option\n\t  parsing so RDoc::usage plays better with OptionParser.\n\nSat Aug 14 02:48:16 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/usage.rb: Added. Allows command line programs\n\t  to report usage using their initial RDoc comment.\n\nSat Aug 14 01:25:48 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/token.c: re2c no longer compiled with bit vectors.  caused\n\t  problems for non-ascii characters. [ruby-core:03280]\n\t* ext/syck/implicit.c: ditto.\n\t* ext/syck/bytecode.c: ditto.\n\nFri Aug 13 12:55:20 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.parse_range_header):\n\t  fix regex for range-spec.\n\n\t* lib/webrick/httpservlet/filehandler.rb\n\t  (WEBrick::HTTPServlet::DefaultFileHandler#make_partial_content):\n\t  multipart/byteranges response was broken.\n\n\t* lib/xmlrpc/server.rb: refine example code.\n\nThu Aug 12 10:54:17 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* rubyio.h (rb_eof_error): should mark as NORETURN.\n\n\t* win32/win32.c (make_cmdvector): adjust escaped successive\n\t  double-quote handling.\n\nThu Aug 12 01:53:10 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (read_buffered_data): extracted from rb_io_fread.\n\t  (io_readpartial): new method IO#readpartial.\n\t  [ruby-dev:24055]\n\nWed Aug 11 17:17:50 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (RPATHFLAG): stop setting RPATHFLAG on Interix.\n\nMon Aug  9 15:03:20 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/erbhandler.rb\n\t  (WEBrick::HTTPServlet::ERBHandler#do_GET): should select media type\n\t  by suffix of script filename.\n\nMon Aug  9 12:51:43 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* dir.c (dir_s_glob): Roll in Austin Ziegler's Dir.glob and\n\t  fnmatch updates.\n\nMon Aug  9 06:33:06 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (cp_r): copies symlink to symlink, except\n\t  root entries of cp_r.\n\n\t* lib/fileutils.rb: new method FileUtils.copy_entry.\n\n\t* test/fileutils/test_fileutils.rb: more cp_r tests.\n\nSun Aug  8 00:43:31 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/implicit.c: added sexagecimal float#base60.\n\n\t* ext/syck/rubyext.c (yaml_org_handler): ditto.\n\n\t* lib/token.c: indentation absolutely ignored when processing flow\n\t  collections.  plain scalars are trimmed if indentation follows in\n\t  an ambiguous flow collection.\n\nSat Aug  7 03:08:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (proc_daemon): new method.  should be modified for\n\t  platforms without /dev/null.\n\nSat Aug  7 00:50:01 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/zlib/zlib.c: Zlib::GzipReader#read(0) returns \"\" instead of nil.\n\nWed Aug  4 13:26:00 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_bytes0): optimize out read(0). [ruby-talk:108276]\n\nTue Aug  3 13:49:12 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/namespace.rb: bug fix\n\n\t* ext/tk/lib/tkextlib/treectrl/tktreectrl.rb: add Tk::TreeCtrl.loupe\n\nMon Aug  2 23:33:48 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_file.rb (test_fnmatch): added more tests.\n\nMon Aug  2 18:04:21 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/msgcat.rb (set_translation): bug fix (fail to set\n\t  trans_str to the same as src_str when trans_str is not given.)\n\nMon Aug  2 17:40:44 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (blk_free): fixed serious memory leak. [ruby-dev:24013]\n\nMon Aug  2 11:53:06 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::find_symbol): Fix infinite recursion\n\t  looking up some top level symbols (batsman)\n\nMon Aug  2 11:48:29 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::do_methods): Allow '.'s in\n\t  variable names to support SWIG generated files (Hans Fugal)\n\nSat Jul 31 23:08:00 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): stupid mistakes fixed. [ruby-dev:24006]\n\nSat Jul 31 17:39:47 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-expr-beg, ruby-parse-partial,\n\t  ruby-calculate-indent, ruby-move-to-block, ruby-forward-sexp,\n\t  ruby-backward-sexp): keywords must match word-wise.\n\nSat Jul 31 13:37:51 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): avoid unnecessary method invocations.\n\nSat Jul 31 05:35:37 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: exceptions were using an older\n\t  YAML.object_maker. [ruby-core:03080]\n\n\t* ext/syck/token.c (sycklex_yaml_utf8): using newline_len to\n\t  handline CR-LFs.  \"\\000\" was showing up on folded blocks which\n\t  stopped at EOF.\n\nSat Jul 31 01:25:11 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): call is_defined() before invoking\n\t  rb_eval().  [ruby-talk:107867]\n\nFri Jul 30 16:10:54 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (lib_fromUTF8_core): raise ArgumentError when\n\t  the unknown encoding name is given.\n\n\t* ext/tcltklib/tcltklib.c (lib_toUTF8_core): ditto.\n\n\t* ext/tk/lib/tk.rb (Tk::Encoding.encoding_convertfrom): bug fix.\n\n\t* ext/tk/lib/tk.rb (Tk::Encoding.encoding_convertto): ditto.\n\nWed Jul 28 18:59:17 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::initialize): remove at_exit code for CGI_PARAMS\n\t  and CGI_COOKIES.  they will no longer be used.\n\nWed Jul 28 15:44:08 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): should call rb_call_super() directly for\n\t  visibility overriding.  [ruby-dev:23989]\n\nWed Jul 28 01:04:44 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* env.h: remove argv from ruby_frame.\n\n\t* eval.c (rb_eval): no more copy on write.\n\n\t* eval.c (assign): ditto.\n\n\t* eval.c (rb_call0): can receive *rest by specifying negative\n\t  argc.  (-1 means 0 arg and *rest, -2 means 1 arg and *rest...)\n\n\t* eval.c (rb_call0): properly set frame's argc counter.\n\n\t* gc.c (rb_gc_mark_frame): need not to mark frame's argv\n\n\t* gc.c (run_final): wrong order of data. [ruby-dev:23984]\n\nTue Jul 27 07:05:04 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): copy on write for argument local variable\n\t  assignment.\n\n\t* eval.c (assign): ditto.\n\n\t* eval.c (rb_call0): update ruby_frame->argv with the default\n\t  value used for the optional arguments.\n\n\t* object.c (Init_Object): \"===\" calls rb_obj_equal() directly.\n\t  [ruby-list:39937]\n\nMon Jul 26 11:22:55 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.escape): should\n\t  escape space.\n\nSun Jul 25 10:56:28 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.{h,c} (rb_w32_{f,fd,fs}open): workaround for bcc32's\n\t  {f,fd,fs}open bug. set errno EMFILE and EBADF. [ruby-dev:23963]\n\n\t* test/drb/drbtest.rb: fix method duplication.\n\nSat Jul 24 13:32:47 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (rb_range_beg_len): returns Qnil only when \"beg\" points\n\t  outside of a range.  No boundary check for \"end\".\n\nFri Jul 23 16:40:25 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (define_final): should not disclose NODE* to Ruby world.\n\t  [ruby-dev:23957]\n\nFri Jul 23 08:52:22 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (disconnected?): new method.\n\nThu Jul 22 16:41:54 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::FileStore#update): sets the\n\t  permission of the session data file to 0600.\n\n\t* lib/cgi/session/pstore.rb (CGI::Session::Pstore#initialize):\n\t  ditto.\n\nMon Jul 19 00:53:46 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb\n\t  (WEBrick::HTTPServlet::CGIhandler#do_GET): set SystemRoot environment\n\t  variable to CGI process on Windows native platforms. [ruby-dev:23936]\n\nSun Jul 18 16:14:29 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/msgcat.rb (TkMsgCatalog.callback): bug fix\n\t  ( wrong number of argument )\n\nSun Jul 18 08:13:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): remove extra sign digit.\n\nSun Jul 18 03:19:14 2004  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* dir.c (bracket): use NULL instead of 0.\n\nSun Jul 18 02:35:30 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (receive_responses): return if a LOGOUT response\n\t  received.\n\nSat Jul 17 23:59:01 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (send_string_data): wait command continuation\n\t  requests before sending octet data of literals.\n\nSat Jul 17 23:54:59 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/variable.rb: TkVariable#ref returns a TkVariable object\n\nSat Jul 17 22:04:44 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/ldap.rb: method hierarchical? should be in URI::LDAP.\n\nSat Jul 17 18:29:07 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): not to show same error messages twice.\n\nSat Jul 17 14:18:11 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_match_m): String#match should also take\n\t  optional argument.  [ruby-core:03205]\n\n\t* re.c (rb_reg_match_m): add optional second argugment \"pos\" to\n\t  specify match start point.  [ruby-core:03203]\n\nSat Jul 17 13:13:32 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex::identify_string): %s string do not\n\t  process expression interpolation.  [ruby-talk:106691]\n\nSat Jul 17 05:26:27 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/diagram.rb: Incorporate Micheal Neumann's\n\t  client-side imagemao patch\n\nSat Jul 17 01:57:03 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (THREAD_ALLOC): th->thread should be initialized to NULL.\n\t  [ruby-talk:106657]  The solution was found by Guy Decoux.\n\nFri Jul 16 22:30:28 2004  Michael Neumann  <mneumann@ntecs.de>\n\n\t* file.c (rb_stat_dev_major): new methods File::Stat#dev_major and\n\t  #dev_minor. [ruby-core:03195]\n\nFri Jul 16 11:17:38 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (exit_initialize): use EXIT_SUCCESS instead of 0.\n\t  [ruby-dev:23913]\n\n\t* error.c (exit_success_p): new method SystemExit#success?.\n\t  [ruby-dev:23912]\n\n\t* error.c (syserr_initialize): initialization for subclasses.\n\t  [ruby-dev:23912]\n\nThu Jul 15 23:53:38 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#warn, OptionParser#abort): Exception\n\t  no longer has to_str method.\n\nThu Jul 15 22:59:48 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/extconf.rb: added dir_config for curses, ncurses,\n\t  termcap.\n\nThu Jul 15 20:44:46 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* class.c: rdoc patch\n\nThu Jul 15 14:12:34 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb (YAML::load_file, YAML::parse_file): added.\n\n\t* ext/syck/token.c: re2c compiled with bit vectors now.\n\t* ext/syck/implicit.c: ditto.\n\t* ext/syck/bytecode.c: ditto.\n\nThu Jul 15 10:15:04 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/, ext/tcltklib/: bug fix\n\n\t* ext/tk/lib/tk.rb: better operation for SIGINT when processing\n\t  callbacks.\n\t* ext/tk/lib/tk/msgcat.rb: ditto.\n\t* ext/tk/lib/tk/variable.rb: ditto.\n\t* ext/tk/lib/tk/timer.rb: ditto.\n\n\t* ext/tk/lib/tk/validation.rb: add Tk::ValidateConfigure.__def_validcmd\n\t  to define validatecommand methods easier\n\n\t* ext/tk/lib/tk.rb (_genobj_for_tkwidget): support autoload Tk ext\n\t  classes\n\n\t* ext/tk/lib/tk/canvas.rb and so on: remove the parent widget type\n\t  check for items (e.g. canvas items; depends on the class) to\n\t  avoid some troubles on Tk extension widget class definition.\n\n\t* ext/tk/lib/tkextlib/: add Iwidget and TkTable extension support\n\n\t* ext/tk/sample/tkextlib/: add samples of Iwidget and TkTable\n\n\nWed Jul 14 23:49:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_min_by): new method Enum#min_by.  added Enum#max_by\n\t  as well.\n\nWed Jul 14 18:05:21 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1cons_to_der): fix type of\n\t  argument. [ruby-dev:23891]\n\n\t* test/openssl/test_x509store.rb: prune tests for CRL checking\n\t  unless X509::V_FLAG_CRL_CHECK is defined.\n\nWed Jul 14 12:20:05 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.c (ruby_strtod): should not convert string in the form of\n\t  \"-I.FE-X\" which both \"I\" and \"F\" are ommitted. [ruby-dev:23883]\n\n\t* test/ruby/test_float.rb (test_strtod): add test for bug fix.\n\nWed Jul 14 00:33:48 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* array.c: rdoc patch. merged patch from Johan Holmberg\n\t  <holmberg@iar.se> [ruby-core:3170]\n\nTue Jul 13 19:39:12 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic#merge_path):\n\t  \"URI('http://www.example.com/foo/..') + './'\" should return\n\t  \"URI('http://www.example.com/')\".  [ruby-list:39838]\n\t  \"URI('http://www.example.com/') + './foo/bar/..'\" should return\n\t  \"URI('http://www.example.com/foo/')\".  [ruby-list:39844]\n\n\t* test/uri/test_generic.rb (TestGeneric#test_merge): added tests.\n\nTue Jul 13 15:48:56 2004  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/mkmf.rb (init_mkmf): Do not add $(libdir) to $LIBPATH in\n\t   extmk mode.\n\n\t* lib/mkmf.rb (dir_config): Prepend a new library path instead of\n\t  appending so it is tried first.\n\nTue Jul 13 00:50:48 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Support call-seq: for Ruby files.\n\nMon Jul 12 21:20:51 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* html_generator.rb: Support hyperlinks of the form {any text}[xxx]\n\t  as well as stuff[xxx]\n\nSat Jul 10 09:30:24 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/marshal/test_struct.rb: use qualified built-in class name\n\t  (::Struct) to avoid name crash.\n\nSat Jul 10 04:21:56 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: better operation for SIGINT when processing\n\t  callbacks.\n\t* ext/tk/lib/tk/msgcat.rb: ditto.\n\t* ext/tk/lib/tk/variable.rb: ditto.\n\t* ext/tk/lib/tk/timer.rb: ditto.\n\n\t* ext/tk/lib/tk/validation.rb (__def_validcmd):  add a module\n\t  function of Tk::ValidateConfigure to define validatecommand\n\t  methods easier\n\nFri Jul  9 22:18:59 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* array.c, enum.c, pack.c: rdoc patch from Johan Holmberg\n\t  <holmberg@iar.se> [ruby-core:3132] [ruby-core:3136]\n\n\t* numeric.c: rdoc patch.\n\nFri Jul  9 19:26:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::HTTPS#proxy_open): raise ArgumentError to\n\t  notice https is not supported.\n\nFri Jul  9 14:28:54 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_raise): accept third argument as well as\n\t  Kernel#raise, and evaluate the arguments to create an exception in\n\t  the caller's context.  [ruby-talk:105507]\n\nFri Jul  9 01:47:08 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib: bug fix\n\t* ext/tk/lib/tkextlib/itcl: add [incr Tcl] support\n\t* ext/tk/lib/tkextlib/itk: add [incr Tk] support\n\t* ext/tk/lib/tkextlib/iwidgets: midway point of [incr Widgets] support\n\t* ext/tk/sample/tkextlib/iwidgets: very simple examples of\n\t  [incr Widgets]\n\nThu Jul  8 19:27:16 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_stack_end_address): detect stack end address\n\t  variable supplied by system.  [ruby-core:03115]\n\n\t* gc.c (Init_stack): use system provided address if possible.\n\nThu Jul  8 00:05:23 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/tempfile.rb (Tempfile::initialize): got out code of\n\t  generating tmpname.  [ruby-dev:23832][ruby-dev:23837]\n\nWed Jul  7 02:31:41 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/{rss,parser,0.9,1.0,2.0}.rb: supported RSS 0.9x/2.0\n\t  validation and validation which disregard order of elements.\n\t* test/rss/test_parser.rb: added tests for RSS 0.9x/2.0\n\t  validation.\n\t* test/rss/{test_trackback,rss-testcase}.rb: fixed no good method\n\t  name.\n\nWed Jul  7 00:48:34 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/tk/lib/tkextlib/tktrans.rb,\n\t  ext/tk/lib/tkextlib/treectrl.rb: fix syntax errors.\n\nTue Jul  6 18:38:45 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib: improve framework of developping Tcl/Tk extension\n\t  wrappers\n\nMon Jul  5 23:56:42 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/{trackback,syndication,dublincore,content}.rb: worked\n\t  with ruby 1.6 again.\n\n\t* test/rss/rss-assertions.rb: ditto.\n\nMon Jul  5 22:54:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/uri/common.rb (Kernel#URI): new global method for parsing URIs.\n\nMon Jul  5 09:02:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_yield, rb_f_catch): 4th argument to rb_yield_0()\n\t  is a set of bit flags.  [ruby-dev:23859]\n\nMon Jul  5 01:20:17 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/drb/drb.rb(DRbConn self.open): If socket pool is full, close\n\t  the socket whose last-access-time is oldest. (and add new one)\n\t  [ruby-dev:23860]\n\nSun Jul  4 12:24:50 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: added copyright header.\n\nSat Jul  3 22:25:27 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* added files:\n\t  * lib/soap/header/*\n\t  * lib/soap/rpc/httpserver.rb\n\t  * lib/wsdl/soap/cgiStubCreator.rb\n\t  * lib/wsdl/soap/classDefCreator.rb\n\t  * lib/wsdl/soap/classDefCreatorSupport.rb\n\t  * lib/wsdl/soap/clientSkeltonCreator.rb\n\t  * lib/wsdl/soap/driverCreator.rb\n\t  * lib/wsdl/soap/mappingRegistryCreator.rb\n\t  * lib/wsdl/soap/methodDefCreator.rb\n\t  * lib/wsdl/soap/servantSkeltonCreator.rb\n\t  * lib/wsdl/soap/standaloneServerStubCreator.rb\n\t  * lib/wsdl/xmlSchema/enumeration.rb\n\t  * lib/wsdl/xmlSchema/simpleRestriction.rb\n\t  * lib/wsdl/xmlSchema/simpleType.rb\n\t  * lib/xsd/codegen/*\n\t  * lib/xsd/codegen.rb\n\t  * sample/soap/authheader/*\n\t  * sample/soap/raa2.4/*\n\t  * sample/soap/ssl/*\n\t  * sample/soap/swa/*\n\t  * sample/soap/whois.rb\n\t  * sample/wsdl/raa2.4/*\n\t  * test/soap/header/*\n\t  * test/soap/ssl/*\n\t  * test/soap/struct/*\n\t  * test/soap/swa/*\n\t  * test/soap/wsdlDriver/*\n\t  * test/wsdl/multiplefault.wsdl\n\t  * test/wsdl/simpletype/*\n\t  * test/wsdl/test_multiplefault.rb\n\n\t* modified files:\n\t  * lib/soap/baseData.rb\n\t  * lib/soap/element.rb\n\t  * lib/soap/generator.rb\n\t  * lib/soap/netHttpClient.rb\n\t  * lib/soap/parser.rb\n\t  * lib/soap/property.rb\n\t  * lib/soap/soap.rb\n\t  * lib/soap/streamHandler.rb\n\t  * lib/soap/wsdlDriver.rb\n\t  * lib/soap/encodingstyle/handler.rb\n\t  * lib/soap/encodingstyle/literalHandler.rb\n\t  * lib/soap/encodingstyle/soapHandler.rb\n\t  * lib/soap/mapping/factory.rb\n\t  * lib/soap/mapping/mapping.rb\n\t  * lib/soap/mapping/registry.rb\n\t  * lib/soap/mapping/rubytypeFactory.rb\n\t  * lib/soap/mapping/wsdlRegistry.rb\n\t  * lib/soap/rpc/cgistub.rb\n\t  * lib/soap/rpc/driver.rb\n\t  * lib/soap/rpc/proxy.rb\n\t  * lib/soap/rpc/router.rb\n\t  * lib/soap/rpc/soaplet.rb\n\t  * lib/soap/rpc/standaloneServer.rb\n\t  * lib/wsdl/data.rb\n\t  * lib/wsdl/definitions.rb\n\t  * lib/wsdl/operation.rb\n\t  * lib/wsdl/parser.rb\n\t  * lib/wsdl/soap/definitions.rb\n\t  * lib/wsdl/xmlSchema/complexContent.rb\n\t  * lib/wsdl/xmlSchema/complexType.rb\n\t  * lib/wsdl/xmlSchema/data.rb\n\t  * lib/wsdl/xmlSchema/parser.rb\n\t  * lib/wsdl/xmlSchema/schema.rb\n\t  * lib/xsd/datatypes.rb\n\t  * lib/xsd/qname.rb\n\t  * sample/soap/sampleStruct/server.rb\n\t  * sample/wsdl/amazon/AmazonSearch.rb\n\t  * sample/wsdl/amazon/AmazonSearchDriver.rb\n\t  * test/soap/test_property.rb\n\t  * test/soap/calc/test_calc_cgi.rb\n\t  * test/wsdl/test_emptycomplextype.rb\n\n\t* summary\n\t  * add SOAP Header mustUnderstand support.\n\n\t  * add HTTP client SSL configuration and Cookies support (works\n\t    completely with http-access2).\n\n\t  * add header handler for handling sending/receiving SOAP Header.\n\n\t  * map Ruby's anonymous Struct to common SOAP Struct in SOAP Object\n\t    Model.  it caused error.\n\n\t  * add WSDL simpleType support to restrict lexical value space.\n\nSat Jul  3 17:19:44 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/tk/lib/tkextlib/tkDND.rb: fix syntax error.\n\nThu Jul  1 18:36:08 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tcltklib: bug fix\n\n\t* ext/tk/lib/tk: bug fix and add Tcl/Tk extension support libraries\n\nThu Jul  1 18:31:31 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pstore.rb (PStore#transaction): get rid of opening in write mode\n\t  when read only transaction.  [ruby-dev:23842]\n\nThu Jul  1 00:44:42 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_encrypt, ossl_cipher_decrypt):\n\t  re-implemnt (the arguments for this method is ).\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_pkcs5_keyivgen): new method\n\t  OpenSSL::Cipher::Cipher#pkcs5_keyivgen. it calls EVP_BytesToKey().\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_set_key_length): new method\n\t  OpenSSL::Cipher::Cipher#key_len=.\n\nWed Jun 30 19:48:09 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: check for EVP_CIPHER_CTX_copy, ENGINE_add,\n\t  EVP_CIPHER_CTX_set_padding, EVP_CipherFinal_ex, EVP_CipherInit_ex,\n\t  EVP_DigestFinal_ex and EVP_DigestInit_ex.\n\n\t* ext/openssl/openssl_missing.c (EVP_CIPHER_CTX_copy): new function.\n\n\t* ext/openssl/openssl_missing.h (EVP_DigestInit_ex, EVP_DigestFinal_ex,\n\t  EVP_CipherInit_ex, EVP_CipherFinal_ex, HMAC_Init_ex): new macro for\n\t  OpenSSL 0.9.6.\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_alloc, ossl_cipher_initialize,\n\t  ossl_cipher_copy, ossl_cipher_reset, ossl_cipher_encrypt,\n\t  ossl_cipher_decrypt, ossl_cipher_final, ossl_cipher_set_key,\n\t  ossl_cipher_set_iv): replace all EVP_CipherInit and\n\t  EVP_CipherFinal into EVP_CipherInit_ex and EVP_CipherFinal_ex.\n\t  and EVP_CIPHER_CTX_init should only be called once.\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_set_padding): check for\n\t  EVP_CIPHER_CTX_set_padding.\n\n\t* ext/openssl/ossl_cipher.c (Init_ossl_cipher): Cipher#<< is deprecated.\n\n\t* ext/openssl/ossl_digest.c: replace all EVP_DigestInit and\n\t  EVP_DigestFinal into EVP_DigestInit_ex and EVP_DigestFinal_ex.\n\t  and EVP_MD_CTX_init should only be called once.\n\n\t* ext/openssl/ossl_digest.c (digest_final): should call\n\t  EVP_MD_CTX_cleanup to avoid memory leak.\n\n\t* ext/openssl/ossl_hmac.c (ossl_hmac_initialize): repalce HMAC_init\n\t  into HMAC_init_ex. and HMAC_CTX_init is moved to ossl_hmac_alloc.\n\n\t* ext/openssl/ossl_hmac.c (hmac_final): should call\n\t  HMAC_CTX_cleanup to avoid memory leak.\n\n\t* test/openssl/test_cipher.rb, test/openssl/test_digest.rb,\n\t  test/openssl/test_hmac.rb: new file.\n\nWed Jun 30 16:59:39 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_file.rb (test_fnmatch): some tests for File.fnmatch\n\t  are added.\n\nWed Jun 30 11:38:51 2004  Mikael Brockman  <phubuh@phubuh.org>\n\n\t* parse.y (primary): should not be NULL.  [ruby-core:03098]\n\nWed Jun 30 02:41:10 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_emitter_new): set buffer after\n\t  Data_Wrap_Struct to avoid possible GC. [ruby-talk:104835]\n\nTue Jun 29 10:31:19 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval_cmd, rb_thread_trap_eval): restore safe level.\n\n\t* gc.c (define_final, run_final): preserve and restore safe level for\n\t  finalizers.  [ruby-core:03058]\n\n\t* signal.c (signal_exec, rb_trap_exit, trap): preserve and restore\n\t  safe level for signal handlers.  [ruby-dev:23829]\n\nMon Jun 28 14:57:56 2004  Jeff Mitchell  <quixoticsycophant@yahoo.com>\n\n\t* configure.in, lib/mkmf.rb (LIBPATHFLAG): use double quotes due to\n\t  DOSISH compilers.  [ruby-core:03107]\n\nMon Jun 28 00:35:29 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* sample/drb/*.rb: using 'DRb.thread.join' instead of 'gets'\n\nSun Jun 27 22:36:47 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb: supported Hiki.\n\nSat Jun 26 15:17:11 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (rb_mod_class_variables): class variables are no longer\n\t  inherited.  [ruby-dev:23808]\n\nSat Jun 26 11:07:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (aix): -b must come at the start of the command line,\n\t  and -e must not appear while testing libraries.  [ruby-talk:104501]\n\n\t* lib/mkmf.rb (find_header, dir_config): quote directory names if\n\t  necessary.  [ruby-talk:104505]\n\nSat Jun 26 00:13:08 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_fopen, rb_fdopen, rb_io_reopen): setvbuf() may return\n\t  positive value on failure.  [ruby-dev:23792]\n\nFri Jun 25 18:07:15 2004  Michal Rokos  <michal@ruby-lang.org>\n\n\t* gc.c: bring back _stklen for DJGPP [ruby-core:3084]\n\nFri Jun 25 15:33:01 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/extconf.rb: check stricter.  [ruby-talk:104501]\n\nFri Jun 25 01:58:01 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/setup.mak: remove RUBY_EXTERN lines when\n\t  including version.h. [ruby-talk:104456]\n\nThu Jun 24 14:23:29 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_fread): return already read data when system call is\n\t  interrupted.  [ruby-talk:97206]\n\nThu Jun 24 01:25:21 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* version.h: added declarations of ruby_version,\n\t  ruby_release_date, ruby_platform.\n\nThu Jun 24 01:07:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_sockaddr): Socket#gethostbyname()\n\t  should give us packed address, not struct sockaddr.\n\t  [ruby-core:03053]\n\nWed Jun 23 22:19:10 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* ext/socket/socket.c (sock_s_gethostbyaddr): Work around problem\n\t  with OS X not returning 'from' parameter to recvfrom for\n\t  connection-oriented sockets.\n\nWed Jun 23 22:16:16 2004  Michal Rokos  <michal@ruby-lang.org>\n\n\t* io.c: io_seek()'s retval should be checked [ruby-core:03045]\n\nWed Jun 23 21:48:27 2004  Michal Rokos  <michal@ruby-lang.org>\n\n\t* time.c: Fix indentation.\n\n\t* main.c: Remove _stklen, and _CRT_glob. Move _stacksize for\n\t  __human68k__ to gc.c where the others are.\n\n\t* gc.c: put _stacksize in place and clean the #ifdefs macros.\n\nWed Jun 23 17:37:54 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: added new option --ssl.\n\nWed Jun 23 01:45:27 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RubyLex::identify_quotation):\n\t  Fix problem with the 'r' being dropped from %r{xxx}\n\nWed Jun 23 00:10:17 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_hresult2msg): remove trailing\n\t  CRs and LFs. (doesn't depend on CR+LF) [ruby-dev:23749]\n\nWed Jun 23 00:00:25 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (return_jump, break_jump): raise unexpected local jump\n\t  exception directly.  [ruby-dev:23740]\n\n\t* io.c (rb_io_initialize): should check fcntl result.  [ruby-dev:23742]\n\nTue Jun 22 23:35:43 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): support FZERO and FSPACE with NaN/Inf.\n\n\t* test/ruby/test_sprintf.rb (test_nan, test_inf): add tests.\n\nTue Jun 22 21:11:36 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (OLE_FREE): should not call CoFreeUnuse-\n\t  dLibraries().\n\n\t* ext/win32ole/win32ole.c (ole_event_free): ditto.\n\n\t* ext/win32ole/win32ole.c (ole_hresult2msg): truncate error message\n\t  before CR.\n\nTue Jun 22 19:24:59 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): unify output of NaN, Inf and -Inf with\n\t  \"%f\" or etc on all platform. [ruby-dev:23704], [ruby-dev:23747]\n\nTue Jun 22 15:28:12 2004  Michal Rokos  <michal@ruby-lang.org>\n\n\t* compar.c: Remove explicit NIL_P() checks since rb_cmpint() does it\n\t  again in the exactly same manner.\n\nTue Jun 22 01:32:40 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkey_dh.c (ossl_dh_initialize): should create\n\t  empty pkey object if no argument is passed. [ruby-talk:103328]\n\n\t* ext/openssl/ossl_pkey_dsa.c (ossl_dsa_initialize): ditto.\n\n\t* ext/openssl/ossl_pkey_rsa.c (ossl_rsa_initialize): ditto.\n\n\t* ext/openssl/ossl_pkey_dh.c: add new methods: OpenSSL::PKey::DH#p,\n\t  OpenSSL::PKey::DH#p=, OpenSSL::PKey::DH#g, OpenSSL::PKey::DH#g=,\n\t  OpenSSL::PKey::DH#pub_key, OpenSSL::PKey::DH#pub_key=,\n\t  OpenSSL::PKey::DH#priv_key and OpenSSL::PKey::DH#priv_key=.\n\n\t* ext/openssl/ossl_pkey_dsa.c: add new methods: OpenSSL::PKey::DSA#p,\n\t  OpenSSL::PKey::DSA#p=, OpenSSL::PKey::DSA#q, OpenSSL::PKey::DSA#q=,\n\t  OpenSSL::PKey::DSA#g, OpenSSL::PKey::DSA#g=,\n\t  OpenSSL::PKey::DSA#pub_key, OpenSSL::PKey::DSA#pub_key=,\n\t  OpenSSL::PKey::DSA#priv_key and OpenSSL::PKey::DSA#priv_key=.\n\nMon Jun 21 09:24:51 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_opendir): should set errno if error occurs\n\t  when calling OS API.\n\nSun Jun 20 21:12:54 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb (binary=): send TYPE commands only once.\n\nSat Jun 19 13:27:01 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (method_call): allow changing $SAFE.  [ruby-dev:23713]\n\n\t* eval.c (proc_set_safe_level, proc_invoke, rb_mod_define_method): not\n\t  set $SAFE for methods defined from Proc.  [ruby-dev:23697]\n\nSat Jun 19 01:10:12 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb: added more information.\n\nFri Jun 18 23:12:22 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (proc_save_safe_level, rb_set_safe_level, safe_setter): limit\n\t  safe level.\n\nWed Jun 16 23:05:57 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_mod_freeze): prepare string representation before\n\t  freezing. [ruby-talk:103646]\n\nWed Jun 16 19:57:24 2004  Michal Rokos  <michal@ruby-lang.org>\n\n\t* test/ruby/test_array.rb: extend testcase to check #first, #last,\n\t  #shift, #unshift, #pop, #push\n\nWed Jun 16 16:05:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (ary_new): move alloc behind checks.  [ruby-core:02982]\n\n\t* array.c (rb_ary_pop_m, rb_ary_shift_m): take arg to behave as push\n\t  and unshift.\n\n\t* array.c (rb_ary_first, rb_ary_last): make shared array for result\n\t  array, and correct doc for Array#first(n) and Array#last(n)\n\n\t* array.c (rb_ary_select): not accept any arg.\n\nWed Jun 16 16:03:59 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_class_inherited_p): singleton class inherits Class\n\t  rather than its object's class.  [ruby-dev:23690]\n\nWed Jun 16 16:01:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (stack_grow_direction): memoize the direction.\n\n\t* gc.c (Init_stack): should always move to end of VALUE.\n\nTue Jun 15 12:10:04 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: bug fix (TkWindow#grab)\n\nMon Jun 14 18:23:27 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/remote-tk.rb: bug fix\n\nSun Jun 13 00:23:04 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/extconf.rb: [EXPERIMENTAL] MacOS X (darwin) support\n\n\t* ext/tcltklib/tcltklib.c: fix thread trouble on callback proc, and\n\t  eliminate warning about instance variable access\n\n\t* ext/tk/lib/tk/menubar.rb: improve supported menu_spec\n\n\t* ext/tk/lib/tk/menuspec.rb: [add] menu_spec support library\n\n\t* ext/tk/lib/tk/root.rb: add menu_spec support\n\n\t* ext/tk/lib/tk/text.rb: bug fix\n\n\t* ext/tk/lib/tk/toplevel.rb: add menu_spec support\n\n\t* ext/tk/sample/menubar?.rb: [add] sample of menu_spec usage\n\nSat Jun 12 14:15:20 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c: RDOC for File::FNM_CASEFOLD was missed.\n\nSat Jun 12 11:15:53 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (target_os): strip -gnu suffix on Linux.\n\nFri Jun 11 22:08:50 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c: remove #indexes, #indices.\n\n\t* hash.c: ditto.\n\n\t* ext/dbm/dbm.c: remove #indexes, #indices, \"values_at\" warning\n\t  from #select.\n\n\t* ext/gdbm/gdbm.c: ditto.\n\n\t* ext/sdbm/init.c: ditto.\n\n\t* ext/dbm/dbm.c (Init_dbm): set VERSION constant as \"unknown\" when\n\t  DB_VERSION_STRING is not available.\n\nThu Jun 10 19:19:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/sdbm/init.c (fsdbm_store): sdbm should use StringValue().\n\t  [ruby-talk:103062]\n\nWed Jun  9 16:09:01 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic::merge,\n\t  URI::Generic::route_from): accepts non-hierarchical URI.\n\t  [ruby-dev:23631]\n\n\t* test/uri/test_generic.rb (TestGeneric::test_route,\n\t  TestGeneric::test_merge): added tests for above changes.\n\nWed Jun  9 15:39:55 2004  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* configure.in: Add support for DragonFly BSD.\n\nWed Jun  9 15:07:06 2004  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* config.guess, config.sub: Update to a more recent version as of\n\t  2004-01-20.\n\nWed Jun  9 11:20:05 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c: remove unused functions and variables.\n\nWed Jun  2 20:16:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_new4): should share shared instance if it already\n\t  exists.  [ruby-dev:23665]\n\nWed Jun  2 12:41:53 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_gets_m): set lastline ($_) even when read line is\n\t  nil.  [ruby-dev:23663]\n\nFri May 28 11:20:31 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): bad influence on frame node.\n\n\t* eval.c (eval): reverted wrongly removed condition.  [ruby-dev:23638]\n\nThu May 27 21:37:50 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#initialize): fix pathname initialization\n\t  by pathname.\n\nThu May 27 20:02:09 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* io.c (rb_io_fwrite): check all case errno != 0 [ruby-dev:23648]\n\nThu May 27 15:54:02 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb (MDTM_REGEXP): fix for demon's ftp server.\n\t  Thanks, Rutger Nijlunsing.\n\nThu May 27 14:53:13 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (rb_io_fwrite): workaround for bcc32's fwrite bug.\n\t  add errno checking.  [ruby-dev:23627]\n\n\t* io.c (rb_io_fwrite): should check if errno == ENOENT, too.\n\nThu May 27 11:25:03 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: illegal require module name (../lib/csv.rb).\n\nWed May 26 23:12:13 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb (CSV.read, CSV.readlines): added.  works as IO.read and\n\t  IO.readlines in CSV format.\n\n\t* lib/csv.rb (CSV.parse): [CAUTION] behavior changed.  in the past,\n\t  CSV.parse accepts a filename to be read-opened (it was just a\n\t  shortcut of CSV.open(filename, 'r')).  now CSV.parse accepts a\n\t  string or a stream to be parsed e.g.\n\t  CSV.parse(\"1,2\\n3,r\") #=> [['1', '2'], ['3', '4']]\n\n\t* test/csv/test_csv.rb: follow above changes.\n\nWed May 26 14:19:42 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval, eval): make line number consistent on eval with\n\t  Proc.  [ruby-talk:101253]\n\nWed May 26 13:59:17 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::skip_for_variable): Allow for\n\t  'do' after for statement\n\nWed May 26 13:56:03 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb (Generators::MarkUp::style_url): Fix\n\t  relative path to code CSS file\n\nWed May 26 13:14:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_init_copy): copy also positions.  [ruby-talk:100910]\n\nWed May 26 00:00:00 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/syck.c (syck_new_parser): clear parser on init.\n\t  thanks, ts. [ruby-core:02931]\n\n\t* ext/syck/token.c (sycklex_yaml_utf8): buffer underflow.\n\t  thanks, ts. [ruby-core:02929]\n\n\t* lib/yaml/baseemitter.rb (indent_text): simpler flow block code.\n\nTue May 25 11:54:13 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_yield_0, proc_invoke, proc_arity): allow passing a block\n\t  to a Proc.  [ruby-dev:23533]\n\n\t* parse.y (block_par, block_var): ditto.\n\nTue May 25 01:50:17 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_i2d_ASN1_TYPE, ossl_ASN1_TYPE_free):\n\t  workaround for the versions earlier than OpenSSL-0.9.7.\n\nMon May 24 10:46:26 2004  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/rdoc/generators/template/html/html.rb: SYSTEM identifiers\n\t  must be absolute URIs\n\nSun May 23 04:53:50 2004  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/pstore.rb (transaction): allow overriding dump and load.\n\t  [ruby-dev:23567]\n\n\t* lib/yaml/store.rb: follow lib/pstore.rb's change.\n\nSat May 22 11:54:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* MANIFEST: add test/openssl/test_x509store.rb.\n\n\t* ext/tk/MANIFEST: add recent files.\n\nSat May 22 05:37:11 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/remote-tk.rb: (NEW library) controll Tk interpreters\n\t  on the other processes by Tcl/Tk's 'send' command\n\nFri May 21 09:22:05 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_method_parameters):\n\t  Add ()'s around parameters that don't have them\n\nFri May 21 02:21:11 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb: fixed a few bugs around multi char record/field separator.\n\n\t* test/csv/test_csv.rb: added boundary test for above feature.\n\nThu May 20 17:02:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (check_sizeof): define result size.  [ruby-core:02911]\n\n\t* lib/mkmf.rb (create_header): macro name should not include equal\n\t  sign.\n\nThu May 20 14:35:52 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c: check SCM_RIGHTS macro addition to\n\t  the msg_control field to test existence of file descriptor passing\n\t  by msg_control.\n\nThu May 20 12:38:06 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (flo_eq): always check if operands are NaN.\n\t  [ruby-list:39685]\n\nThu May 20 12:34:39 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_visibility):\n\t  At Ryan Davis' suggestion, honor visibility modifers if guarded by a\n\t  statement modifier\n\nThu May 20 12:22:13 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (have_type): do not check pointer to incomplete type,\n\t  which always get compiled.\n\t  [ruby-list:39683]\n\nWed May 19 23:45:43 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/inlinetest.rb (InlineTest::loadtest): requiring library with\n\t  replaced $0 can make $0 == __FILE__ block be evaluated twice.\n\n\t* test/ruby/envutil.rb (EnvUtil::rubybin): give priority to\n\t  environment variable.  [ruby-dev:23538]\n\nWed May 19 11:08:10 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: change permition of TkObject#tk_send from\n\t  private to public\n\nWed May 19 02:29:36 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: support TRACE.\n\nWed May 19 02:21:53 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: do not use class variables.\n\nTue May 18 21:21:43 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb: writes lines with \"\\n\" when row separator is not given.\n\t  formerly it was \"\\r\\n\".\n\n\t* lib/csv.rb: [CAUTION] API change\n\n\t  * CSV::Row removed.  a row is represented as just an Array.  since\n\t    CSV::Row was a subclass of Array, it won't hurt almost all programs\n\t    except one which depended CSV::Row#match.\n\n\t  * CSV::Cell removed.  a cell is represented as just a String or\n\t    nil(NULL).  this change will cause widespread destruction.\n\n\t      CSV.open(\"foo.csv\", \"r\") do |row|\n\t\trow.each do |cell|\n\t\t  if cell.is_null       # Cell#is_null\n\t\t    p \"(NULL)\"\n\t\t  else\n\t\t    p cell.data\t\t# Cell#data\n\t\t  end\n\t\tend\n\t      end\n\n\t    must be just;\n\n\t      CSV.open(\"foo.csv\", \"r\") do |row|\n\t\trow.each do |cell|\n\t\t  if cell.nil?\n\t\t    p \"(NULL)\"\n\t\t  else\n\t\t    p cell\n\t\t  end\n\t\tend\n\t      end\n\n\t* lib/csv.rb: [CAUTION] record separator(CR, LF, CR+LF) behavior\n\t  change.  CSV.open, CSV.parse, and CSV,generate now do not force\n\t  opened file binmode.  formerly it set binmode explicitly.\n\n\t  with CSV.open, binmode of opened file depends the given mode\n\t  parameter \"r\", \"w\", \"rb\", and \"wb\".  CSV.parse and CSV.generate open\n\t  file with \"r\" and \"w\".\n\n\t  setting mode properly is user's responsibility now.\n\n\t* lib/csv.rb: accepts String as a fs (field separator/column separator)\n\t  and rs (record separator/row separator)\n\n\t* lib/csv.rb: added CSV.foreach(path, rs = nil, &block).  CSV.foreach\n\t  now does not handle \"| cmd\" as a path different from IO.foreach.\n\t  needed?\n\n\t* test/csv/test_csv.rb: updated.\n\nTue May 18 14:24:20 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb: added rdoc to beginning of lib.\n\nTue May 18 14:00:46 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* node.h (NEW_DSTR): adjust list length.\n\n\t* parse.y (literal_concat): ditto.\n\nTue May 18 09:30:25 2004  SASADA Koichi  <ko1@atdot.net>\n\n\t* eval.c (rb_method_node): search cache entry first.\n\nMon May 17 16:04:06 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* numeric.c (flo_to_s): it's preferable that \"p 0.0\" outputs \"0.0\"\n\t  instead of \"0.0e+00\". [ruby-dev:23480]\n\n\t* numeric.c (flo_to_s): it's preferable that \"p 0.00000000000000000001\"\n\t  outputs \"1.0e-20\" instead of \"9.999999999999999e-21\". (the precision\n\t  is considered, but there is assumption DBL_DIG == 15 in current\n\t  implementation)\n\nMon May 17 10:13:33 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (setup_domain_and_type): honor duck typing.\n\t  [ruby-dev:23522]\n\n\t* ext/socket/socket.c (sock_s_getnameinfo): ditto.\n\nMon May 17 00:36:21 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/baseemitter.rb (indent_text): was forcing a mod value\n\t  of zero at times, which kept some blocks from getting indentation.\n\nMon May 17 00:07:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/drb/drb.rb: Cosmetic documentation changes.\n\nSun May 16 20:55:49 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/dbm/dbm.c (fdbm_initialize): accept optional 3rd argument to\n\t  specify an open flag.\n\t  (Init_dbm): define open flags: DBM::READER, DBM::WRITER, DBM::WRCREAT\n\t  and DBM::NEWDB.\n\nSat May 15 17:52:24 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_float.rb(test_strtod): Add test for signed 0.000...1\n\nSat May 15 14:20:13 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/syck/depend: add ruby's headers.\n\nSat May 15 13:38:33 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/MANIFEST, ext/syck/depend: new file.\n\n\t* lib/yaml/rubytypes.rb: range of exponential floats.  [ruby-core:02824]\n\n\t* test/yaml/test_yaml.rb: tests for strings start with colon and some\n\t  round trip.\n\nSat May 15 12:04:58 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb: removed fallback to pure Ruby parser.\n\n\t* lib/yaml/baseemitter.rb (node_text): rewriting folded scalars.\n\n\t* ext/syck/syck.h: reports style of scalars now, be they plain, block\n\t  single-, or double-quoted.\n\n\t* ext/syck/syck.c: ditto.\n\n\t* ext/syck/gram.c: ditto.\n\n\t* ext/syck/node.c: ditto.\n\n\t* ext/syck/token.c: ditto.\n\n\t* ext/syck/rubyext.c (yaml_org_handler): symbols loaded only\n\t  if scalar style is plain.\n\n\t* test/yaml/test_yaml.rb (test_perl_regexp): updated test to\n\t  match new regexp serialization.\n\nSat May 15 01:41:34 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (eval): forgot to restore $SAFE value before evaluating\n\t  compiled node.  [ruby-core:02872]\n\nSat May 15 01:33:12 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_each_func): terminates loop if generating value\n\t  is same to @end.  [ruby-talk:100269]\n\nFri May 14 22:08:38 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_new4): should not reuse frozen shared string if\n\t  the original is not an instance of String. [ruby-talk:100193]\n\nFri May 14 21:29:26 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_mdump): preserve GMT bit in the marshal data.\n\t  [ruby-talk:100213]\n\nFri May 14 18:37:49 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/canvas.rb: improve coords support for canvas\n\t  items. Now, supports all of the followings.\n\t       TkcLine.new(c, 0, 0, 100, 100, :fill=>'red')\n\t       TkcLine.new(c, [0, 0, 100, 100], :fill=>'red')\n\t       TkcLine.new(c, [0, 0], [100, 100], :fill=>'red')\n\t       TkcLine.new(c, [[0, 0], [100, 100]], :fill=>'red')\n\t       TkcLine.new(c, :coords=>[0, 0, 100, 100], :fill=>'red')\n\t       TkcLine.new(c, :coords=>[[0, 0], [100, 100]], :fill=>'red')\n\nFri May 14 13:30:39 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_float.rb: Add test for util.c revision 1.42.\n\nFri May 14 12:13:46 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.c (ruby_strtod): strtod(\"0\", &end); => end should point '\\0'.\n\t [ruby-dev:23498]\n\nThu May 13 15:47:30 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/net/telnet.rb (Net::Telnet::login): \"options\" can specify\n\t  regexps for login prompt and/or password prompt.\n\nThu May 13 14:17:57 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (yaml_org_handler): some empty strings were\n\t  loaded as symbols.\n\nThu May 13 11:04:08 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_pack): always add with null for 'Z'.\n\n\t* pack.c (pack_unpack): terminated by null for 'Z'.  [ruby-talk:98281]\n\nWed May 12 19:59:43 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (have_type, check_sizeof): replace unusable characters.\n\t  [ruby-talk:99788]\n\nWed May 12 17:41:42 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Config): make it configurable without\n\t  external file such as /etc/resolv.conf.\n\nWed May 12 14:37:27 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c: attribute value of DC (short name of\n\t  domainComponent) should be IA5String.\n\nWed May 12 13:20:19 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/composite.rb: improve configure methods (based on\n\t  the proposal of [ruby-talk:99671]).\n\nWed May 12 11:51:08 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* class.c (rb_obj_singleton_methods): fix rdoc\n\nTue May 11 07:09:42 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): do not protect exception during receiver\n\t  evaluation.\n\nMon May 10 22:28:14 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb (each_crlf_line): remove junk line.\n\nMon May 10 21:44:42 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Change scheme for\n\t  looking up symbols in  HTML generator.\n\nMon May 10 16:45:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (eval): warning during eval should not cause deadlock.\n\t  [ruby-talk:98651]\n\n\t* eval.c (rb_eval): raise TypeError exception for superclass\n\t  mismatch.  [ruby-list:39567]\n\nMon May 10 12:11:37 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Hack to search parents\n\t  for unqualified constant names.\n\nMon May 10 01:18:15 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb (logging): append \"\\n\".\n\nSun May  9 23:38:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/net/ftp.rb: ported documentation improvement from 1.8 branch\n\n\t* lib/net/imap.rb:   ditto\n\n\t* lib/net/pop.rb:    ditto\n\n\t* lib/net/smtp.rb:   ditto\n\n\t* lib/net/telnet.rb: ditto\n\nSun May  9 23:34:51 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_float.rb: added test_strtod to test Float(\"0\").\n\nSun May  9 13:24:24 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/yaml/store.rb: use FileUtils::copy.\n\nSun May  9 12:34:26 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regex.c: removed unused file.\n\nSat May  8 10:53:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_open): open should not ignore block when \"to_open\"\n\t  method is used.  [ruby-dev:23478]\n\nFri May  7 22:07:39 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mv): new option `force'. [ruby-talk:99457]\n\n\t* lib/fileutils.rb: new method for command option reflection:\n\t  FileUtils.commands, .options, .have_option?, .options_of,\n\t  .collect_methods.\n\n\t* lib/fileutils.rb: module Verbose, NoWrite, DryRun do not have\n\t  option flags @fileutils_verbose and @fileutils_noop, they make no\n\t  sense.\n\nFri May  7 21:50:21 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::parse_include): Allow\n\t  multiple arguments to 'include'\n\nFri May  7 21:03:51 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_list): Array() breaks pathes including \"\\n\".\n\t  [ruby-core:02843]\n\n\t* test/fileutils/test_fileutils.rb (mkdir): test \"\\n\" in path.\n\nFri May  7 20:53:25 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dbm/dbm.c (fdbm_modify): typo fixed. [ruby-dev:23473]\n\nFri May  7 11:17:27 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.c (ruby_strtod): \"0.0000000000000000001\" should be converted\n\t  to 1.0e-19 instead of 0.0. (leading zeros aren't significant digits)\n\t  [ruby-talk:99318] [ruby-dev:23465]\n\nThu May  6 22:27:32 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* ext/socket/socket.c (ippaddr): use NUMERICHOST if can not resolve\n\t  hostname.\n\nThu May  6 22:09:29 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil.c (get_eval_string_core): bug fix. [ruby-dev:23466]\n\nThu May  6 14:22:29 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb (to_yaml): added instance variable handling\n\t  for Ranges, Strings, Structs, Regexps.\n\n\t* lib/yaml/rubytypes.rb (to_yaml_fold): new method for setting a\n\t  String's flow style.\n\n\t* lib/yaml.rb (YAML::object_maker): now uses Object.allocate.\n\n\t* ext/syck/gram.c: fixed transfer methods on structs, broke it\n\t  last commit.\n\nThu May  6 14:38:02 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (rb_push_glob): simplified code (not change behavior)\n\nThu May  6 13:32:44 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: get rid of side effect of Config.expand, patched by\n\t  <tttt01@infoseek.jp>  (ruby-bugs:PR#597)\n\nThu May  6 11:40:28 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (string): accept NIL.\n\n\t* lib/net/imap.rb (body_type_basic): allow body-fields omissions.\n\nThu May  6 01:59:04 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb (Generators::HtmlMethod::params):\n\t  Don't include the &block parameter if we have explicit\n\t  yield parameters.\n\nWed May  5 03:52:31 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/ring.rb: use recv instead of recvfrom.\n\nWed May  5 00:38:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/gserver.rb: documented\n\t* lib/xmlrpc/README.txt: introduced for documentation purposes\n\nMon May  3 09:47:24 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_method_or_yield_parameters):\n\t  Fix parsing bug if yield called within 1 line block\n\nSun May  2 21:56:48 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (rm_f, rm_r): test :force flag.\n\nSun May  2 01:04:38 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib, ext/tk: renewal Ruby/Tk\n\nFri Apr 30 20:08:41 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* time.c (SIZEOF_TIME_T): support SIZEOF_TIME_T == SIZEOF_INT.\n\nWed Apr 28 01:26:11 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* oniguruma.h, regparse.c: imported Oni Guruma 2.2.8.\n\nWed Apr 28 01:16:23 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* oniguruma.h, regparse.c: imported Oni Guruma 2.2.7.\n\nTue Apr 27 14:43:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: LIBURUBY_A is needed for extconf.rb even when\n\t  cross-compiling.\n\nTue Apr 27 13:33:50 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (string_content): turn off NODE_NEWLINE flag to avoid\n\t  unnecessary line trace for inlined expression.\n\t  (ruby-bugs PR#1320)\n\nTue Apr 27 08:15:13 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: passing Range tests.\n\n\t* ext/syck/syck.h: version 0.44.\n\n\t* ext/syck/gram.c: transfers no longer open an indentation.\n\t  fixed transfers which precede blocks.\n\n\t* ext/syck/token.c: ditto.\n\n\t* ext/syck/syck.c: fixed segfault if an anchor has been released already.\n\n\t* ext/syck/node.c (syck_free_members): organized order of free'd nodes.\n\n\t* ext/syck/rubyext.c (syck_emitter_write_m): test for proper string with\n\t  StringValue.\n\nMon Apr 26 23:56:54 2004  Daniel Kelley  <news-1082945587@dkelley.gmp.san-jose.ca.us>\n\n\t* README.EXT, README.EXT.ja: fixed wrong function signature.\n\t  [ruby-talk:98349]\n\nMon Apr 26 21:40:09 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::add_alias): Only alias\n\t  to instance methods.\n\nSun Apr 25 18:26:23 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_fork): set to no on DJGPP.\n\nSat Apr 24 14:32:03 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* re.c: applied stack error handling patch. [ruby-dev:23431]\n\nSat Apr 24 10:38:31 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/markup/simple_markup.rb (SM::SimpleMarkup::group_lines):\n\t  Fix bug where consecutive headings are merged.\n\nFri Apr 23 23:24:47 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: $hdrdir should not contain macros, for backward\n\t  compatibility.  [bruby-dev:28]\n\n\t* lib/mkmf.rb (create_makefile): in the case of extout, just copy\n\t  script files, without comparison.\n\nFri Apr 23 16:38:46 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: sync taint/freeze flag between\n\t  a pathname object and its internal string object.\n\nFri Apr 23 14:52:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt, arg, aref_args): should not make sole splat into\n\t  array, in aref_args other than aref with op_asgn.\n\nFri Apr 23 14:14:38 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb: don't use Regexp#source to embed regexps.\n\t  [ruby-dev:23432]\n\nThu Apr 22 18:25:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, ext/extmk.rb: make ext and .ext get removed by distclean.\n\nThu Apr 22 10:07:01 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* */Makefile.sub (distclean-local): should remove $(RBCONFIG).\n\nThu Apr 22 04:17:57 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_mod_define_method): allow binding methods to modules.\n\t  [ruby-dev:23410]\n\n\t* parse.y (aref_args): should pass expanded list.  [ruby-core:02793]\n\nThu Apr 22 01:12:57 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (flo_to_s): tweak output string based to preserve\n\t  decimal point and to remove trailing zeros.  [ruby-talk:97891]\n\n\t* string.c (rb_str_index_m): use unsigned comparison for T_FIXNUM\n\t  search.  [ruby-talk:97342]\n\nWed Apr 21 23:04:42 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb, test/rinda/test_rinda.rb: check Hash tuple size.\n\nWed Apr 21 20:05:00 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::HTTP#proxy_open): set Host: field explicitly.\n\t  [ruby-list:39542]\n\nWed Apr 21 18:39:46 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: merge SMTP-TLS patch.  This patch is\n\t  contributed by Daniel Hob. [ruby-core:02789]\n\nWed Apr 21 18:23:45 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: change coding style: def m( a ) -> def m(a).\n\nWed Apr 21 18:01:47 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb: do not use class variables.\n\n\t* lib/net/pop.rb (do_start): ensure to clean up connection when\n\t  authentication failed.\n\nWed Apr 21 17:23:59 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTP#connect): CONNECT must precede SSL connect.\n\t  [ruby-dev:23379]\n\n\t* lib/net/http.rb (HTTP.new): class variables are not inherited\n\t  now.\n\nWed Apr 21 15:56:43 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/ui/console/testrunner.rb (test_started): restore $0\n\t  after changing process title.  [ruby-talk:97426]\n\nWed Apr 21 10:18:06 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* process.c(rb_spawn): fix SEGV at \"p system('command line here')\"\n\t (may happen only in bccwin32) [ruby-dev:23380]\n\nMon Apr 19 20:58:44 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c: Updated RDocs.\n\nMon Apr 19 18:11:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_equal): returns true if two hashes have same set\n\t  of key-value set.  [ruby-talk:97559]\n\n\t* hash.c (rb_hash_eql): returns true if two hashes are equal and\n\t  have same default values.\n\nMon Apr 19 08:19:11 2004  Doug Kearns  <djkea2@mugca.its.monash.edu.au>\n\n\t* dln.c, io.c, pack.c, lib/benchmark.rb, lib/cgi.rb, lib/csv.rb,\n\t  lib/date.rb, lib/ftools.rb, lib/getoptlong.rb, lib/logger.rb,\n\t  lib/matrix.rb, lib/monitor.rb, lib/set.rb, lib/thwait.rb,\n\t  lib/timeout.rb, lib/yaml.rb, lib/drb/drb.rb, lib/irb/workspace.rb,\n\t  lib/net/ftp.rb, lib/net/http.rb, lib/net/imap.rb, lib/net/pop.rb,\n\t  lib/net/telnet.rb, lib/racc/parser.rb, lib/rinda/rinda.rb,\n\t  lib/rinda/tuplespace.rb, lib/shell/command-processor.rb,\n\t  lib/soap/rpc/soaplet.rb, lib/test/unit/testcase.rb,\n\t  lib/test/unit/testsuite.rb: typo fix.\n\nMon Apr 19 08:14:18 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::find_body): Allow for\n\t  #ifdef HAVE_PROTOTYPES\n\nFri Apr 16 17:04:07 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_equal): always returns true or false, never\n\t  returns nil. [ruby-dev:23404]\n\nFri Apr 16 12:38:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/drb/drb.rb (DRb::DRbUnknown::initialize): Exception#to_str is\n\t  deprecated.\n\n\t* lib/drb/drb.rb (DRb::DRbServer::InvokeMethod::perform): multiple\n\t  value class changed.\n\n\t* lib/drb/invokemethod.rb (DRb::DRbServer::InvokeMethod18Mixin::block_yield):\n\t  ditto.\n\nFri Apr 16 08:27:08 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: skip linking when libraries to be preloaded not\n\t  compiled.  [ruby-list:39561]\n\nThu Apr 15 19:57:11 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (pst_success_p): new method Process::Status#success?.\n\t  [ruby-dev:23385]\n\n\t* rubytest.rb: do nothing while cross-compiling, return status in\n\t  system independent style.\n\nThu Apr 15 19:26:54 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (rb_push_glob): Dir.glob() should return nil if block is given.\n\t  (http://www.ruby-lang.org/ja/man/index.cgi?cmd=view;name=Dir)\n\n\t* dir.c (push_braces): Dir.glob() should handle '{ }' nested more than\n\t  3 times.\n\n\t* dir.c (push_braces, rb_push_glob): Dir.glob() should handle escaped\n\t  '{' and '}' and ','.\n\n\t  [ruby-dev:23376]\n\nThu Apr 15 17:12:13 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/gdbm/gdbm.c (Init_gdbm): define GDBM::READER, GDBM::WRITER,\n\t  GDBM::WRCREAT and GDBM::NEWDB.\n\t  (fgdbm_initialize): use specified read/write flag.\n\nWed Apr 14 13:06:09 2004  Doug Kearns  <djkea2@mugca.its.monash.edu.au>\n\n\t* array.c, enum.c, eval.c, file.c, io.c, numeric.c, object.c, prec.c,\n\t  process.c, re.c, string.c: typos in RDoc comments.  [ruby-core:02783]\n\nWed Apr 14 11:29:56 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* numeric.c (flo_eq): workaround for bcc32's bug.\n\t  (ruby-bugs-ja:PR#594)\n\nWed Apr 14 11:06:38 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::scan): Changed\n\t  behavior of :enddoc: -- it now unconditionally terminates\n\t  processing of the current file.\n\nWed Apr 14 10:57:40 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* defines.h: include <net/socket.h> to get fd_set definition in BeOS.\n\nTue Apr 13 23:00:55 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb: change pattern matching.\n\t  a === b -> a == b || a === b. [druby-ja:98]\n\n\t* test/rinda/test_rinda.rb: ditto.\n\nTue Apr 13 21:50:57 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/Makefile.sub (PHONY): Borland make disallows empty command\n\t  rules.\n\nTue Apr 13 17:55:16 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (begin_transport): should not overwrite HTTP\n\t  request header. [ruby-list:39543]\n\nTue Apr 13 16:48:00 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb: merge POP3S patch.  This patch is contributed by\n\t  Daniel Hobe.\n\nTue Apr 13 02:56:29 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* common.mk: changed the order of ascii.c alphabetically.\n\nMon Apr 12 19:11:21 2004  Eric Hodel  <drbrain@segment7.net>\n\n\t* gc.c (rb_gc_copy_finalizer): typo.  [ruby-core:02774]\n\nMon Apr 12 18:45:58 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_init_i): should return\n\t  a value.\n\nMon Apr 12 10:39:50 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (rb_glob2, rb_glob, push_globs, push_braces, rb_push_glob):\n\t  fix memory leak. (leaked when block was interrupted)\n\nSun Apr 11 19:10:13 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (require_libraries): restore source file/line after\n\t  statically linked extensions initialized.  [ruby-dev:23357]\n\nSun Apr 11 10:47:04 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::TopLevel::add_class_or_module): Toplevel\n\t  classes and modules are a special case too... (handle extending existing\n\t  classes with or without :enddoc:)\n\nSat Apr 10 23:51:13 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::add_to): Implementation of :enddoc:\n\t  made one too many assumptions...\n\nSat Apr 10 00:00:19 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/markup/simple_markup/inline.rb: Fix problem\n\t  with \\_cat_<b>dog</b>\n\nFri Apr  9 17:05:21 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (has_magic, find_dirsep): incomplete '[' matches no character\n\t  in Dir.glob. (follows File.fnmatch's behavior)\n\n\t* dir.c (fnmatch_helper): incomplete escape is ignored in File.fnmatch.\n\t  (follows Dir.glob's behavior)\n\n\t* dir.c (find_dirsep): '/' between '[' and ']' is ignored in Dir.glob.\n\t  (follows File.fnmatch with File::FNM_PATHNAME 's behavior)\n\n\t* dir.c (find_dirsep): escaped slash '\\/' loses its meaning as\n\t  directory separator in Dir.glob.\n\n\t  [ruby-dev:23291]\n\nThu Apr  8 20:25:19 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): skip uncompiled extensions.\n\n\t* lib/mkmf.rb (create_makefile): emit no rules for static library if\n\t  $static is nil, e.g., outside of ext/.\n\n\t* lib/test/unit/ui/console/testrunner.rb (test_started): show test\n\t  name via $0.\n\n\t* runruby.rb: set environments to use the compiled binary.\n\n\t* test/runner.rb: do nothing while cross-compiling.\n\n\t* test/drb/drbtest.rb, test/soap/calc/test_calc_cgi.rb: use envutil to\n\t  know ruby binary, and restore $: after require.\n\n\t* test/ruby/envutil.rb: give priority to RUBY environment variable to\n\t  use just compiled binary and libraries.\n\nThu Apr  8 19:03:33 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_binmode): inverted condition.  [ruby-dev:23349]\n\nThu Apr  8 18:22:00 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_s_list): return encoding list if no block\n\t  is given.  [ruby-dev:23063]\n\nWed Apr  7 15:29:24 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): use NUM2INT() instead of num2i32().\n\nWed Apr  7 12:32:02 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb, lib/rss/1.0.rb: accepted rdf:resource or\n\t  resource attribute in rdf:li.\n\t* test/rss/test_parser.rb: added test for above change.\n\n\t* lib/rss/dublincore.rb: reverted style.\n\n\t* lib/rss/xmlparser.rb: normalized XMLParser class hierarchy.\n\nWed Apr  7 10:43:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.mk, */Makefile.sub (ext/extinit.o): OUTFLAG\n\t  doesn't work for object files on VC.\n\n\t* */Makefile.sub (config.h): need SIZEOF_TIME_T now.\n\nWed Apr  7 00:24:34 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb: fix hash tuple bug.\n\n\t* lib/rinda/tuplespace.rb: ditto.\n\n\t* test/rinda/test_rinda.rb\n\nTue Apr  6 18:24:18 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_get_path): get path string via \"to_path\" method if\n\t  path object is not a string. [Ruby2]\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): do not free threads in the\n\t  exit finalizers.\n\n\t* io.c (rb_io_reopen): should use rb_io_check_io().\n\nTue Apr  6 16:46:09 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: check the size of time_t.\n\n\t* time.c (time_add): new function.\n\t  (time_plus): use time_add.\n\t  (time_minus): use time_add.\n\nTue Apr  6 13:11:48 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (raise_socket_error): never return.\n\n\t* ext/socket/socket.c (make_hostent): must return value.\n\nTue Apr  6 00:14:43 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (Init_Exception): remove Exception#to_str. [Ruby2]\n\n\t* eval.c (error_print): should no call \"to_str\" anymore use\n\t  \"message\" method instead.\n\n\t* io.c (rb_f_open): Kernel#open() calls \"to_open\" if the first\n\t  argument responds to it. [Ruby2]\n\nTue Apr  6 00:13:43 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb: add require 'drb/drb'\n\nMon Apr  5 22:25:32 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* test/zlib/test_zlib.rb: new file.\n\t  (TestZlibGzipWriter#test_new_nil): test for [ruby-dev:23228].\n\nMon Apr  5 22:16:23 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (assoc_list): {a: 1, b: 2} should be allowed.\n\t  [ruby-dev:23328]\n\nMon Apr  5 19:43:40 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regexec.c: imported Oni Guruma 2.2.6.\n\nMon Apr  5 19:39:10 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regparse.c, oniguruma.h: imported Oni Guruma 2.2.6.\n\nMon Apr  5 12:12:09 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (raise_socket_error): some platforms don't have\n\t  EAI_SYSTEM.\n\nMon Apr  5 08:18:23 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb: Remove leading ./ from file names so that cross\n\t  references work properly.\n\nSun Apr  4 14:01:20 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/options.rb (Options::parse): Allow multiple -x options to\n\t  RDoc. Fix bug where files weren't being excluded properly\n\nSat Apr  3 09:36:38 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/syck.h: version 0.43.\n\nSat Apr  3 08:28:47 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/lib/gram.c: allow root-level inline collections.\n\t  [ruby-talk:94922]\n\n\t* lib/yaml/rubytypes.rb (Symbol#to_yaml): emit symbols as implicits.\n\t  [ruby-talk:94930]\n\nFri Apr  2 19:28:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/Makefile.sub (OUTFLAG): needed for static-linked-ext.\n\nFri Apr  2 18:00:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): extract necessary variables for static link\n\t  from Makefile.\n\n\t* lib/mkmf.rb (create_makefile): save preload and libpath for next\n\t  compile.\n\nFri Apr  2 17:27:17 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (top_include): include in the wrapped load is done for\n\t  the wrapper, not for a singleton class for wrapped main.\n\t  [ruby-dev:23305]\n\nFri Apr  2 15:13:44 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_eq): use temporary double variable to save the\n\t  result (internal float register may be bigger than 64 bits, for\n\t  example, 80 bits on x86).  [ruby-dev:23311]\n\nFri Apr  2 14:35:26 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (block_pass): should generate unique identifier of the\n\t  pushing block.  [ruby-talk:96363]\n\nFri Apr  2 11:36:20 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* eval.c (Init_load): make $LOADED_FEATURES built-in.\n\t  [ruby-dev:23299]\n\n\t* ruby.c (ruby_prog_init): make $PROGRAM_NAME built-in.\n\n\t* lib/English.rb: remove $LOADED_FEATURES and $PROGRAM_NAME.\n\nFri Apr  2 07:31:38 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: mistakingly removed do_not_reverse_lookup.\n\t  [ruby-list:39475]\n\n\t* ext/socket/socket.c (make_hostent): fix memory leak, based on\n\t  the patch from HORIKAWA Hisashi <vzw00011@nifty.ne.jp>.\n\nThu Apr  1 22:55:33 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Allow rdoc comments in\n\t  =begin rdoc/=end\n\n\t* lib/rdoc/parsers/parse_rb.rb: Fix problem with comment in\n\t  top-level method being taken as file comment.\n\nThu Apr  1 22:55:04 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_options.rb: Fix undefined variable warning.\n\nThu Apr  1 19:58:37 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/mapping/{factory.rb,registry.rb}: fixed illegal mapped URI\n\t  object with soap/marshal.\n\t  added URIFactory class for URI mapping.  BasetypeFactory checks\n\t  instance_variables when original mapping is not allowed (ivar must\n\t  be empty).  Instance of URI have instance_variables but it must be\n\t  llowed whenever original mapping is allowed or not.\n\nWed Mar 31 19:06:23 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* time.c (year_leap_p): new function.\n\t  (timegm_noleapsecond): ditto.\n\t  (search_time_t): use timegm_noleapsecond instead of\n\t  mktime for first guess.\n\nWed Mar 31 12:05:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/delegate.rb (DelegateClass): define internal methods of the\n\t  result class, but not metaclass of the caller.  [ruby-talk:96156]\n\n\t* intern.h: provide proper prototypes.  [ruby-core:02724]\n\n\t* ruby.h: missing.h is now prerequisite to intern.h.\n\nWed Mar 31 11:17:16 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): raises RangeError if uv is out of UTF8 value\n\t  range.  [ruby-dev:23281]\n\n\t* io.c (rb_io_binmode): stdio buffer should be empty when calling\n\t  IO#binmode.  [ruby-talk:96155]\n\nTue Mar 30 20:25:34 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* time.c (search_time_t): limit guess range by mktime if it is\n\t  available.  [ruby-dev:23274]\n\nTue Mar 30 18:19:00 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): fix SEGV at retry in iterator's receiver.\n\t  [ruby-dev:23227]\n\nMon Mar 29 20:17:16 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_exec): follow older behavior if close-on-exec is not\n\t  available.\n\n\t* process.c (rb_fork): protect from exceptions while waiting failed\n\t  process, if status is given.\n\nSun Mar 28 16:25:37 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (clean-local, distclean-local): remove\n\t  work files.\n\n\t* win32/Makefile.sub (clean-local): ditto.\n\nSun Mar 28 14:23:02 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb: def m( arg ) -> def m(arg).\n\nSun Mar 28 14:09:13 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb (auth): failed when account/password include \"%\".\n\t  [ruby-talk:95933]\n\nSat Mar 27 21:40:41 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: permit extra semicolon in content-type field.\n\nSat Mar 27 10:40:48 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* (lib/pp.rb, lib/prettyprint.rb): define seplist in PP::PPMethods\n\t  instead of PrettyPrint.\n\nSat Mar 27 01:47:09 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: trim tail space of each line.  no user visible change.\n\n\t* lib/rss/dublincore.rb: fixed class definition mismatch.\n\n\t* sample/openssl/gen_csr.rb: fixed wrong usage text.\n\nThu Mar 25 23:15:24 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_options.rb (RI::Options::show_version):\n\t  Add --version option\n\nThu Mar 25 21:45:00 2004  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c: Bug in + and - reported by Bret Jolly\n\t  fixed.\n\nThu Mar 25 21:01:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* version.c (ruby_show_copyright): obtain copyright year from\n\t  RUBY_RELEASE_YEAR.\n\n\t* win32/resource.rb: ditto.\n\nThu Mar 25 19:37:35 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/resource.rb: default rubyw icon to ruby.ico, and let DLL also\n\t  include them.\n\n\t* win32/resource.rb: include winver.h for older WindowsCE.\n\nThu Mar 25 14:01:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, */Makefile.sub (lib, dll): phony targets.\n\n\t* configure.in (ruby, miniruby): ditto.\n\n\t* cygwin/GNUmakefile.in (rubyw): ditto.\n\nThu Mar 25 04:16:18 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_options.rb (RI::Options): Add the --list-names option,\n\t  which dumps our all known names\n\nThu Mar 25 03:57:47 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_util.rb (NameDescriptor::initialize): No longer\n\t  allow nested classes to be designated using \".\"--you must\n\t  now use \"::\"\n\nThu Mar 25 02:00:18 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/html/one_page_html.rb (Page):\n\t  Fix to work with C modules.\n\nWed Mar 24 20:49:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/uri.rb: Documented (thanks Dmitry V. Sabanin).\n\t* lib/uri/common.rb: Ditto.\n\t* lib/uri/ftp.rb: Ditto.\n\t* lib/uri/generic.rb: Ditto.\n\t* lib/uri/http.rb: Ditto.\n\t* lib/uri/https.rb: Ditto.\n\t* lib/uri/ldap.rb: Ditto.\n\t* lib/uri/mailto.rb: Ditto.\n\nWed Mar 24 18:48:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb ($ruby, $topdir, $hdrdir): should not be affected by\n\t  DESTDIR after installed.\n\n\t* lib/mkmf.rb (dummy_makefile): default file lists to be cleaned.\n\nWed Mar 24 12:32:56 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::handle_class_module):\n\t  Don't document methods if we don't know for sure the\n\t  class or module.\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_class):\n\t  Don't store documentation for singleton classes if we\n\t  don't know the real class.\n\nWed Mar 24 11:11:26 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb (Generators::HTMLGenerator::load_html_template):\n\t  Allow non-RDoc templates by putting a slash in the template name\n\nWed Mar 24 10:05:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tempfile.rb (Tempfile::_close): should not clear @tmpname\n\t  until the file is really removed. [ruby-core:02684]\n\nWed Mar 24 04:12:44 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_mod_cvar_get): new method Module#class_variable_get.\n\n\t* object.c (rb_mod_cvar_set): ditto (Module#class_variable_set).\n\nTue Mar 23 17:45:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_atfork): 1.9 warns no more for thread\n\t  termination.  [ruby-dev:23212]\n\nTue Mar 23 14:46:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, */Makefile.sub, common.mk (clean-local, distclean-local):\n\t  separate files under directories due to directory separator.\n\n\t* */Makefile.sub (MKFILES): common.mk and */Makefile.sub should not be\n\t  removed.\n\n\t* win32/Makefile.sub, wince/Makefile.sub: $* cannot appear in explicit\n\t  rules.\n\n\t* cygwin/GNUmakefile.in: some mingw stuffs were missed.\n\n\t* lib/mkmf.rb (create_makefile): Borland make wrongly removes braces\n\t  from command lines.\n\n\t* bcc32/Makefile.sub: needs bcc32/mkexports.rb.\n\nMon Mar 22 08:21:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, */Makefile.sub, common.mk: extract common portions.\n\n\t* Makefile.in, cygwin/GNUmakefile.in, */Makefile.sub (RBCONFIG):\n\t  separated time stamp file for rbconfig.rb.\n\n\t* configure.in: append common.mk to Makefile.\n\n\t* mkconfig.rb: keep mtime of rbconfig.rb if unchanged.\n\n\t* win32/rm.bat: remove multiple files.\n\n\t* wince/mkconfig_wce.rb: use fake.rb instead.\n\nSun Mar 21 22:17:35 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#virtual_host):\n\t  sort @virtual_hosts in address, port, host order.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#lookup_server):\n\t  hostname should not be match if :ServerAlias is not given.\n\nSun Mar 21 21:11:16 2004  Keiju Ishitsuka  <keiju@ishitsuka.com>\n\n\t* lib/shell/*: bug fix for Shell#system(command_line_string).\n\nSun Mar 21 21:04:42 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ruby.1: add -width option to .Bl for old groff.\n\nSun Mar 21 18:57:37 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/*: Test::Unit::TestCase -> RSS::TestCase and\n\t  Test::Unit::Assertions -> RSS::Assertions.\n\nSun Mar 21 18:48:20 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/{rss,dublincore,syndication}.rb: handled W3CDTF correctly.\n\nSun Mar 21 18:15:29 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_xml-stylesheet.rb: added tests for xml-stylesheet.\n\n\t* lib/rss/xml-stylesheet.rb: added xml-stylesheet parsing\n\t  function.\n\nSat Mar 20 23:51:03 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* eval.c (rb_require_safe): preserve old ruby_errinfo.\n\t  [ruby-talk:95409]\n\n\t* eval.c (rb_f_raise): should not clear backtrace information if\n\t  exception object already have one.\n\nSat Mar 20 21:21:03 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/extmk.rb: rm -rf $extout, not extout.\n\nSat Mar 20 15:25:36 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/html/html.rb (RDoc::Page): Force\n\t  page background to white.\n\nSat Mar 20 09:33:36 2004  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: _parse() now accepts fractional\n\t  part of second minute that follows a comma or a full stop.\n\nFri Mar 19 21:06:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (assoc_list): allow {sym: val} style Hash. [Ruby2]\n\t  this change is done by Nobuyoshi Nakada <nobu@ruby-lang.org>.\n\nFri Mar 19 15:15:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_cvar_set): class variables become private to the\n\t  particular class/module. [Ruby2]\n\n\t* variable.c (rb_cvar_get): ditto.\n\n\t* variable.c (rb_cvar_defined): ditto.\n\nFri Mar 19 11:31:32 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb ($beos, $solaris): add OS flags.\n\n\t* lib/mkmf.rb (RUBY): / is not recognized as path separator on\n\t   nmake/bmake. [ruby-list:39388]\n\n\t* lib/mkmf.rb (CLEANLIBS, CLEANOBJS): should remove *.exp with *.so.\n\nFri Mar 19 01:55:57 2004  Mauricio Fernandez  <batsman.geo@yahoo.com>\n\n\t* io.c (rb_io_sync): need not to check writable. [ruby-core:02674]\n\nThu Mar 18 19:47:44 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* instruby.rb, rubytest.rb: do not depend on srcdir.\n\nThu Mar 18 18:50:06 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: no longer embed srcdir and compile_dir into\n\t  rbconfig.rb.\n\n\t* ext/extmk.rb, lib/mkmf.rb: obtain top_srcdir and topdir from library\n\t  paths.\n\nThu Mar 18 17:46:35 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: do not undef :to_a.\n\nThu Mar 18 16:22:38 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_eq): avoid false positive by using scope and\n\t  dyna_vars.  no longer use frame.uniq.\n\n\t* eval.c (proc_arity): arity is now defined as number of\n\t  parameters that would not be ignored. i.e. Proc.new{}.arity\n\t  returns zero.  update test suites too.\n\nThu Mar 18 15:27:25 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c: remove specialized version of rb_Array().  use simple\n\t  one defined in object.c.\n\n\t* object.c (Init_Object): remove Kernel#to_a.\n\n\t* enum.c (enum_zip): use \"to_a\" instead of \"to_ary\".\n\nWed Mar 17 00:22:03 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* oniguruma.h: imported Oniguruma 2.2.5.\n\t* regparse.c: ditto.\n\nTue Mar 16 11:14:17 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (fnmatch_helper): File.fnmatch('\\.', '.') should return true.\n\t  (Rev1.112 lost compatiblity)\n\n\t* dir.c (fnmatch_helper): File.fnmatch('\\/', '/', File::FNM_PATHNAME)\n\t  should return true. (Rev1.112 lost compatiblity)\n\n\t* dir.c (fnmatch): File.fnmatch('**/.boo', '.foo/.boo',\n\t  File::FNM_PATHNAME) should return false because of leading period.\n\nMon Mar 15 17:01:07 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (exc_initialize): calling 'to_str' each time just for\n\t  type checking is too heavy.  [ruby-core:02661]\n\nMon Mar 15 10:14:51 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SocketForwarder):\n\t  add do_not_reverse_lookup.\n\nMon Mar 15 07:39:13 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): should not re-submit TAG_BREAK if this\n\t  yield is not break destination. [ruby-dev:23197]\n\nSun Mar 14 22:07:38 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_raise): err at unstarted thread.  (PR#1302)\n\nSat Mar 13 14:56:32 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/ut_drb.rb: use 'druby://localhost:0'. [ruby-dev:23078]\n\n\t* test/drb/ut_eval.rb: ditto.\n\n\t* test/drb/ut_large.rb: ditto.\n\n\t* test/drb/ut_safe1.rb: ditto.\n\n\t* test/drb/ut_drb_drbssl.rb: use 'drbssl://localhost:0'.\n\nFri Mar 12 23:52:56 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (fnmatch): directory recursion '**/' can be used with\n\t  File::FNM_PATHNAME. [ruby-dev:22901]\n\n\t* dir.c (fnmatch, fnmatch_helper): only '/' is accepted as path\n\t  separator even in DOSISH environment. [ruby-dev:22974]\n\t  [ruby-list:39337]\n\n\t* dir.c (fnmatch_helper): faster '*' matching.\n\nFri Mar 12 20:19:16 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_noreturn): default for platforms not support\n\t  prototypes.\n\n\t* ruby.c (ruby_init_loadpath): buffer for path name should have\n\t  MAXPATHLEN.\n\n\t* lib/mkmf.rb (configuration): include topdir and hdrdir in VPATH.\n\n\t* lib/mkmf.rb (create_makefile): default dependency rule.\n\nFri Mar 12 07:35:36 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/config.rb (WEBrick::Config::General): add\n\t  :DoNotReverseLookup.\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#accept): call\n\t  do_not_reverse_lookup for each socket if :DoNotReverseLookup\n\t  is set.  [ruby-code:02357]\n\nWed Mar 10 22:26:25 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_dir): should handle symlink correctly.\n\t  This patch is contributed by Christian Loew.  [ruby-talk:94635]\n\nWed Mar 10 16:28:42 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (return_jump): set return value to the return\n\t  destination.  separated from localjump_destination().\n\n\t* eval.c (break_jump): break innermost loop (or thread or proc).\n\n\t* eval.c (rb_yield_0): set exit_value for block break.\n\nWed Mar 10 16:00:14 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_s_def): Struct::new executes block with\n\t  generated struct class. [ruby-talk:02606]\n\nWed Mar 10 15:58:43 2004  Ryan Davis  <ryand@zenspider.com>\n\n\t* eval.c (eval): Only print backtrace if generating the backtrace\n\t  doesn't generate an exception.  [ruby-core:02621]\n\nWed Mar 10 10:15:16 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (opt_W_getter): get rid of warning.\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub:\n\t  fixed dependency.\n\nTue Mar  9 13:04:26 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_ungetc): raise IOError instead of calling\n\t  rb_sys_fail().  [ruby-talk:23181]\n\nTue Mar  9 10:03:40 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub:\n\t  replaced regex.c entry with Oniguruma files.\n\nTue Mar  9 01:09:46 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* Makefile.in: replaced regex.c entry with Oniguruma files.\n\nMon Mar  8 23:16:07 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: HTTPHeader did not initialized correctly.\n\n\t* lib/net/http.rb (connect): does same debug output.\n\nMon Mar  8 21:38:18 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (add_header): remove warning. [ruby-dev:23170]\n\nMon Mar  8 21:09:39 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (range): Cancel change for incomplete '['. More discussion\n\t  is needed.\n\nMon Mar  8 19:35:13 2004  akira yamada  <akira@arika.org>\n\n\t* lib/uri/common.rb (URI::REGEXP::PATTERN::HOSTPORT): (?:#{PORT})\n\t  -> (?::#{PORT}).  [ruby-dev:23170]\n\nMon Mar  8 15:03:24 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (range): treat incomplete '[' as ordinary character (like\n\t  has_magic does). fix buffer overrun at incomplete escape like '[\\'.\n\nMon Mar  8 13:35:32 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* regparse.c (parse_exp): need to separate initialization for bcc32.\n\t  [ruby-dev:23169]\n\n\t* oniguruma.h (ONIG_EXTERN): check __GNUC__ instead of __CYGWIN__.\n\nMon Mar  8 01:05:55 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/config.rb (WEBrick::Config::HTTP): rename :RequestHander\n\t  to :RequestCallback and add new option :ServerAlias.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): use\n\t  :RequestCallback and warn if :RequestHandler is in server's option.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): should print\n\t  error message for WEBrick::HTTPSataus::Error.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#lookup_server):\n\t  lookup for hostname from :ServerAlias if the req.host is not match\n\t  to :ServerName.\n\n\t* lib/webrick/httpservlet.rb (WEBrick::HTTPServlet::CGIHandler#do_GET):\n\t  use $?.exitstatus and refine log message.\n\nSun Mar  7 16:22:26 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* Makefile.in (lex.c): use $? instead of $<.\n\n\t* lib/pstore.rb (commit_new): use FileUtils.copy_stream for Cygwin.\n\t  [ruby-dev:23157]\n\nSun Mar  7 05:34:42 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: HTTPHeader keeps its header fields as an array.\n\n\t* lib/net/http.rb: new method HTTPHeader#add_header, get_fields.\n\n\t* lib/net/http.rb: new method HTTPHeader#content_length=.\n\n\t* lib/net/http.rb: new method HTTPHeader#content_type, main_type,\n\t  sub_type, type_params, content_type=, set_content_type.\n\n\t* lib/net/http.rb (HTTPHeader#basic_encode): result of pack(m) may\n\t  contain multiple LFs.\n\nSun Mar  7 03:11:00 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: new method Net::HTTPRequest#body(=).\n\n\t* lib/net/http.rb: new method Net::HTTPRequest#body_stream(=).\n\nSun Mar  7 02:06:07 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: spin off https code again.\n\n\t* lib/net/https.rb: new file.\n\n\t* ext/openssl/lib/net/https.rb: removed.  moved to net/https with\n\t  slight modifications.\n\n\t* ext/openssl/lib/net/protocols.rb: removed.  merged with net/http.\n\n\t* lib/net/protocol.rb: new class BufferedIO.\n\n\t* lib/net/protocol.rb: InternetMessageIO < BufferedIO.\n\n\t* lib/net/protocol.rb: BufferedIO.new takes an IO.\n\n\t* lib/net/smtp.rb: follow InternetMessageIO's change.\n\n\t* lib/net/pop.rb: ditto.\n\nSun Mar  7 00:55:03 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb: remove method: InternetMessageIO#address,\n\t  port, ip_address, read_timeout(=), socket.\n\n\t* lib/net/protocol.rb: simplify code.\n\n\t* lib/net/protocol.rb: apply latest coding style.\n\nSat Mar  6 15:15:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/strscan/depend: depends on re.h and regex.h.\n\n\t* ext/strscan/strscan.c: no version check needed.\n\n\t* ext/strscan/strscan.c (strscan_init_copy): struct re_registers must\n\t  not be bitwise copied.\n\nSat Mar  6 11:14:33 2004  David Black  <dblack@wobblini.net>\n\n\t* lib/scanf.rb: refixed the previous fix in IO#block_scanf\n\nSat Mar  6 10:49:40 2004  David Black  <dblack@wobblini.net>\n\n\t* lib/scanf.rb: fixed a logic glitch in IO#block_scanf\n\nSat Mar  6 02:00:19 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: net/https is merged.\n\n\t* ext/openssl/lib/net/https.rb: ditto.\n\nSat Mar  6 00:39:21 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* oniggnu.h: imported from Oniguruma library.\n\t* oniguruma.h: ditto.\n\t* regcomp.c: ditto.\n\t* regenc.c: ditto.\n\t* regenc.h: ditto.\n\t* regerror.c: ditto.\n\t* regex.c: ditto.\n\t* regexec.c: ditto.\n\t* reggnu.c: ditto.\n\t* regint.h: ditto.\n\t* regparse.c: ditto.\n\t* regparse.h: ditto.\n\t* ascii.c: ditto.\n\t* euc_jp.c: ditto.\n\t* sjis.c: ditto.\n\t* utf8.c: ditto.\n\n\t* MANIFEST: added Oniguruma files listed above.\n\n\t* LEGAL: added Oniguruma license.\n\n\t* regex.h: now includes oniggnu.h.\n\n\t* re.c: applied Oniguruma patch.\n\nFri Mar  5 23:13:08 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: support WebDAV methods, PROPPATCH, LOCK,\n\t  UNLOCK, OPTIONS, PROPFIND, DELETE, MOVE, COPY, MKCOL.\n\t  This patch is contributed by Tatsuki Sugiura.\n\nFri Mar  5 20:58:37 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: Net::HTTPResponse#response is obsolete.\n\t  [ruby-core:02592]\n\n\t* lib/net/http.rb: Net::HTTPResponse#header is obsolete.\n\n\t* lib/net/http.rb: Net::HTTPResponse#read_header is obsolete.\n\nFri Mar  5 20:10:57 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: new method StringScanner#initialize_copy\n\t  to allow #dup and #clone.\n\n\t* test/strscan/test_strscan.rb: test StringScanner#dup.\n\nFri Mar  5 19:42:09 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTPResponse#to_ary): should return an object\n\t  which does not respond to #to_ary.  It causes infinite loop in\n\t  puts. [ruby-core:02578]\n\nFri Mar  5 00:51:35 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/test/unit.rb: Move RDoc documentation so that you can\n\t  now say 'ri Test::Unit'\n\nThu Mar  4 22:31:40 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in: miniruby is not needed for cross compile.\n\n\t* configure.in (PREP): miniruby for native compile.\n\nThu Mar  4 11:46:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/drb/extservm.rb (DRb::ExtServManager#invoke_service_command):\n\t  detach server processes to get rid of zombies.\n\nThu Mar  4 10:41:25 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (T_MASK): save 1 bit in flags bits by shifting T_xxx\n\t  values.\n\nThu Mar  4 08:08:36 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: get rid of warnings.\n\n\t* lib/rss/taxonomy.rb: ditto.\n\n\t* lib/rdoc/ri/ri_formatter.rb: ditto.\n\n\t* test/ruby/test_assignment.rb: ditto.\n\nThu Mar  4 01:17:28 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/ri/ri_display.rb (DefaultDisplay::page): wait until the\n\t  pager terminates.\n\nWed Mar  3 13:10:56 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (method_hash): new method. [ruby-talk:93968]\n\n\t* eval.c (proc_eq): do not compare dyna_vars.\n\n\t* eval.c (proc_hash): new method.\n\n\t* eval.c (rb_yield_0): protect break/return from within orphan (or\n\t  lambda) Proc object.\n\nWed Mar  3 09:52:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb ($topdir): use compile_dir only when not installed yet.\n\t  [ruby-talk:94098]\n\nWed Mar  3 01:18:52 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/converter.rb: handled Uconv::Error.\n\n\t* lib/rss/dublincore.rb: DublincoreModel -> DublinCoreModel\n\nWed Mar  3 00:59:30 2004  David Black  <dblack@wobblini.net>\n\n\t* lib/scanf.rb: soak_up_spaces only ungetc's non-space last\n\t  character\n\n\t* lib/scanf.rb: IO#block_scanf now returns partial last iteration\n\t  array if format string matches partly\n\nTue Mar  2 16:30:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open): erred program name should be reported by\n\t  exceptions, instead of the first argument.\n\n\t* process.c (rb_spawn): ditto.\n\n\t* process.c (proc_spawn_v): use first argument as program name.\n\n\t* win32/win32.c (rb_w32_aspawn): ditto.\n\n\t* win32/win32.c (CreateChild): search executable file if no program\n\t  name given.\n\n\t* lib/drb/extservm.rb (invoke_service_command): use Process.spawn.\n\t  [ruby-dev:23103]\n\n\t* lib/rdoc/ri/ri_display.rb (setup_pager): use IO.popen.\n\t  [ruby-dev:23086], [ruby-dev:23103]\n\n\t* lib/rdoc/diagram.rb (convert_to_png): ditto.\n\n\t* lib/rdoc/generators/chm_generator.rb (compile_project): ditto.\n\nTue Mar  2 12:24:03 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub, wince/Makefile.sub (config.h): shouldn't check\n\t  defined? NORETURN. [ruby-dev:23100]\n\nTue Mar  2 11:28:40 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (test_ljump): cannot use\n\t  assert_nothing_raised due to passing block.\n\nTue Mar  2 06:23:14 2004  David Black  <dblack@wobblini.net>\n\n\t* lib/scanf.rb: fixed Kernel#scanf to propagate code block\n\nMon Mar  1 23:25:40 2004  David Black  <dblack@wobblini.net>\n\n\t* lib/scanf.rb: Partial fix so STDIN#scanf works with new\n\t STDIN#pos behavior\n\nMon Mar  1 19:42:05 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/setup.mak: configure's default is \"--enable-install-doc\"\n\n\t* win32/setup.mak: ditto.\n\nMon Mar  1 12:24:10 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_alias):\n\t  Allow aliases to have parentheses\n\nSun Feb 29 23:14:53 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_class):\n\t  Handle :nodoc: on singleton classes.\n\nSat Feb 28 21:50:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, bcc32/README.bcc32, bcc32/configure.bat,\n\t  bcc32/setup.mak: new configure scheme. use ``configure --prefix=dir''\n\t  instead of ``make DESTDIR=dir install''.\n\t  --with-static-linked-ext support on bccwin32. [ruby-dev:23034]\n\nSat Feb 28 21:50:20 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/setup.mak: \"configure --disable-install-doc\" is now working.\n\n\t* win32/setup.mak: ditto.\n\nSat Feb 28 15:09:49 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/configure.bat: append missing label \":exit\".\n\n\t* bcc32/configure.bat: fix typo.\n\nSat Feb 28 10:31:03 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* MANIFEST: add test_erb.rb\n\n\t* lib/erb.rb, test/erb/test_erb.rb: don't forget filename,\n\t  if both filename and safe_level given. [ruby-dev:23050]\n\nSat Feb 28 01:08:40 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (yylex): should not allow symbol for invalid global\n\t  variable (e.g. `:$-)`). [ruby-core:02518]\n\nFri Feb 27 20:37:09 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): no orphan block check is needed when pcall\n\t  is true.\n\n\t* eval.c (localjump_destination): update localjump condition.\n\nFri Feb 27 02:10:49 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (localjump_destination): lambda should not interfere\n\t  return from the yielded block.\n\nFri Feb 27 00:53:49 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb, test/drb/drbtest.rb: require drb/eq.rb by default\n\nThu Feb 26 12:15:02 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (make_cmdvector): adjust successive double-quote\n\t  handling.\n\nThu Feb 26 09:42:56 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (delete_if_i): use st_delete_safe() (via\n\t  rb_hash_delete()) instead of returning ST_DELETE.\n\nThu Feb 26 02:35:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_f_exec): get rid of SEGV when exec failed for command\n\t  in single string.\n\nWed Feb 25 21:17:33 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (obj_free), io.c (rb_io_fptr_finalize), rubyio.h (OpenFile):\n\t  sharing OpenFile.\n\n\t* io.c (rb_io_initialize): accept IO instance.  [ruby-dev:22195]\n\nWed Feb 25 21:16:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (with_destdir): should return the given argument if no\n\t  DESTDIR is given.\n\n\t* instruby.rb: use path name expansion of cmd.exe.\n\nWed Feb 25 20:44:45 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi-lib.rb, lib/getopts.rb, lib/importenv.rb, lib/parsearg.rb:\n\t  warn with caller position.\n\n\t* test/rss/test_content.rb, test/rss/test_dublincore.rb,\n\t  test/rss/test_syndication.rb, test/rss/test_trackback.rb: use cgi\n\t  instead of cgi-lib.\n\nTue Feb 24 18:42:03 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (glob_helper): '**/' should not match leading period\n\t  unless File::FNM_DOTMATCH is set. (like '*/') [ruby-dev:23014]\n\nTue Feb 24 18:03:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_file.rb (test_fnmatch): test for dir.c:1.108.\n\nTue Feb 24 17:07:17 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (fnmatch): File.fnmatch with File::FNM_PATHNAME was broken\n\t  for the pattern including '*' followed by '/'.\n\nTue Feb 24 13:22:21 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb (RDoc::RDoc::normalized_file_list): Attempt to get better\n\t  heuristics on which files to include and exclude. Now only include\n\t  non-standard files if they are explicitly named in ARGV.\n\nTue Feb 24 07:23:30 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Deal with :stopdoc: when\n\t  choosing a default main page to display (ie. don't select a page\n\t  if we don't have documentation for it).\n\nTue Feb 24 06:40:14 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RubyLex::identify_identifier): Handle\n\t  class variables in code listings\n\nTue Feb 24 06:32:27 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::do_aliases): Handle\n\t  aliases in C files.\n\nTue Feb 24 06:16:22 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb (RDoc::RDoc::document): Now create op dir _before_\n\t  parsing files.\n\nTue Feb 24 06:08:47 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_constant):\n\t  Start collecting text of constant values earlier: was missing\n\t  values in output if there was no space after '='\n\nTue Feb 24 06:08:25 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Escape contant values.\n\nTue Feb 24 03:45:06 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_config.c (ossl_config_each): add new method\n\t  OpenSSL::Config#each. it iterates with section name, field name\n\t  and value.\n\n\t* ext/openssl/ossl_config.c (Init_ossl_config): include Enumerable.\n\nMon Feb 23 09:09:44 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (parse_args): use optparse instead of getopts.\n\n\t* instruby.rb (DOSISH): embedded path in batch files should not be\n\t  prefixed by DESTDIR.  [ruby-core:02186]\n\nSun Feb 22 14:58:04 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: $extstatic is Array or nil now.  [ruby-talk:93383]\n\n\t* Makefile.in, bcc32/Makefile.sub, win32/Makefile.sub: terminate options.\n\n\t* lib/mkmf.rb (init_mkmf): $INCFLAGS also should be lazy-evaluated.\n\nSun Feb 22 13:05:37 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/mailto.rb (URI::MailTo::to_s): should include fragment.\n\nSun Feb 22 12:58:35 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: use optparse instead of getopts.\n\n\t* Makefile.in, bcc32/Makefile.sub, win32/Makefile.sub: ditto.\n\nSun Feb 22 09:51:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* re.c: corrected documentation format (rb_reg_initialize_m)\n\nSat Feb 21 22:41:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* ext/zlib/zlib.c: documented, but needs more effort.\n\nSat Feb 21 14:33:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: prefer relative path.  [ruby-talk:93037]\n\nSat Feb 21 11:12:08 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/os2.c, missing/x68.c: typo fix.  pointed out by greentea.\n\nFri Feb 20 19:11:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/ostruct.rb (OpenStruct#initialize_copy): should not share\n\t  members.  [ruby-dev:22966]\n\nFri Feb 20 18:59:47 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/init.rb (IRB::IRB.parse_opts): add -I option to\n\t  irb. [ruby-dev:39243]\n\nFri Feb 20 12:55:27 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open): fix typo.\n\n\t* win32/win32.c (CreateChild): first argument to CreateProcess() must\n\t  have path, not just basename.\n\nThu Feb 19 23:24:16 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb (Generators::HtmlClass::build_attribute_list):\n\t  Support visibility modifiers for attributes\n\nThu Feb 19 22:39:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/ostruct.rb: documented\n\nThu Feb 19 22:39:04 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/rinda/test_rinda.rb: DRb.start_service only once in testsuites.\n\t  DRb.start_service could handle this.\n\nThu Feb 19 22:24:04 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/mapping/rubytypeFactory.rb: should not dump singleton class.\n\t  [ruby-dev:22588]\n\t  c = class << Object.new; class C; self; end; end; SOAPMarshal.dump(c)\n\nThu Feb 19 18:08:18 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* ext/strscan/strscan.c: improved documentation\n\nThu Feb 19 18:08:18 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c, win32/win32.h: fixed prototypes.\n\n\t* win32/win32.c (wait): same as waitpid() with -1.\n\nThu Feb 19 02:34:28 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/markup/simple_markup/preprocess.rb (SM::PreProcess::include_file):\n\t  Only strip comment markers if all lines start with comments.\n\nThu Feb 19 03:05:49 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: StringScanner#restsize is obsolete;\n\t  use #rest_size instead.\n\n\t* ext/strscan/strscan.c: StringScanner#matchedsize is obsolete;\n\t  use #matched_size instead.\n\nThu Feb 19 02:42:19 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: don't use rb_eval_string, it defines\n\t  classes under the module when required in module clauses.\n\t  [ruby-dev:22951]\n\nThu Feb 19 02:37:28 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: merge documentation from 1.8 branch.\n\t  Thanks Gavin Sinclair.\n\nThu Feb 19 00:20:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/cgi-lib.rb:   deprecated after 1.8.1\n\n\t* lib/getopts.rb:   ditto\n\n\t* lib/importenv.rb: ditto\n\n\t* lib/parsearg.rb:  ditto\n\nThu Feb 19 00:11:05 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/markup/simple_markup/preprocess.rb (SM::PreProcess::handle):\n\t  Strip extraneous space from filenames in :include:\n\nWed Feb 18 22:53:41 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/unix.rb: remove O_NONBLOCk, thanks \\ay\n\nWed Feb 18 22:42:19 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb: improt test_rinda.rb\n\nWed Feb 18 22:03:11 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/*: should not depend on $KCODE.\n\nWed Feb 18 18:07:09 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_sprintf.rb: added tests.\n\nWed Feb 18 17:18:01 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c: need to include <olectl.h> on Cygwin.\n\nWed Feb 18 10:40:38 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): sign bit extension should not be done\n\t  if FPLUS flag is specified.  [ruby-list:39224]\n\n\t* sprintf.c (rb_f_sprintf): do not prepend dots for negative\n\t  numbers if FZERO is specified.  [ruby-dev:39218]\n\nWed Feb 18 10:23:34 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): clean up.\n\nTue Feb 17 23:40:34 2004  Guy Decoux  <ts@moulon.inra.fr>\n\n\t* sprintf.c (rb_f_sprintf): preserve original val for\n\t  format_integer. [ruby-talk:92975]\n\nTue Feb 17 23:28:45 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/marshal/test_marshal.rb, test/ruby/test_marshal.rb: do $:\n\t  trick to share the testcase test/ruby/marshaltestlib.rb.\n\nTue Feb 17 23:13:23 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/marshaltestlib.rb: common marshal testcase added.\n\n\t* test/ruby/test_marshal.rb: use above testsuite.\n\n\t* test/soap/marshal/test_marshal.rb: ditto.\n\n\t* test/soap/marshal/cmarshal.rb: removed (not used).\n\nTue Feb 17 19:34:26 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): $extout_prefix doesn't vary for libraries.\n\n\t* ext/extmk.rb (extmake): remove compile directory if empty.\n\n\t* ext/extmk.rb (parse_args) lib/mkmf.rb (create_makefile): move\n\t  initialization of $extout_prefix from lib/mkmf.rb.  [ruby-dev:22928]\n\n\t* ext/extmk.rb: clear ext and extout directory when cleaning.\n\n\t* lib/mkmf.rb (CLEANLIBS): should be under $(arch) directory.\n\nTue Feb 17 18:02:10 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: ScanError may be (wrongly) garbage\n\t  collected. (thanks Gavin Sinclair)\n\n\t* ext/strscan/strscan.c: move ::ScanError to StringScanner::Error.\n\t  ::ScanError is also defined for backward compatibility.\n\n\t* ext/strscan/strscan.c: #peep is obsolete, use #peek.\n\n\t* ext/strscan/strscan.c: #empty? is obsolete, use #eos?.\n\n\t* ext/strscan/strscan.c: #clear is obsolete, use #terminate.\n\n\t* ext/strscan/strscan.c: #getbyte is obsolete, use #get_byte.\n\nTue Feb 17 12:12:47 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (parse_args): delay expanding $(extout) until invoking\n\t  make.\n\n\t* lib/mkmf.rb (CLEANLIBS): should remove files have specific\n\t  extensions.\n\nTue Feb 17 11:33:30 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rss/rexmlparser.rb: REXML version may be 4 digits.\n\nTue Feb 17 10:45:59 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_emitter_end_object): takes only one arg.\n\nTue Feb 17 07:48:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rexml/encodings/SHIFT_JIS: wrong library name.\n\nTue Feb 17 01:35:28 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_eval): care that another thread replace NODE_DREGX_ONCE\n\t  to NODE_LIT.  [ruby-dev:22920]\n\nTue Feb 17 01:20:57 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: new module FileUtils::DryRun.\n\nMon Feb 16 23:28:14 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb: document reduction.  [ruby-core:02429]\n\n\t* test/yaml/test_yaml.rb: added 0..1 test with \"0\"..\"1\" on display.\n\t  it should be defined that the specification about what kind of Range\n\t  is supported in ruby's custom type in YAML.\n\nMon Feb 16 22:22:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/generator.rb: corrected doc format\n\n\t* lib/rinda/rinda.rb: added documentation (from Hugh Sasse)\n\n\t* lib/rinda/tuplespace.rb: ditto\n\n\t  [Note: rinda files actually committed Wed Feb 18 07:27:00 2004]\n\nMon Feb 16 20:28:52 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: show more warnings. (refering to mingw)\n\n\t* bcc32/setup.mak: ditto.\n\nMon Feb 16 18:35:58 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.status): should create *.pdb on ext/,\n\t  not .ext/.\n\n\t* win32/Makefile.sub (config.status): convert the name of import\n\t  library.\n\n\t* lib/mkmf.rb (create_makefile): now don't need to remove\n\t  $(TARGET).lib.\n\nMon Feb 16 15:45:22 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check functions, fork spawnv.\n\n\t* io.c (rb_io_s_popen): accept argv not only single command line.\n\n\t* process.c (rb_proc_exec_n): export.\n\n\t* process.c (rb_check_argv): check if arguments are safe to invoke.\n\n\t* process.c (rb_fork): retry to fork.\n\n\t* process.c (rb_spawn): spawn child process asynchronously.\n\n\t* process.c (rb_f_system): raise an exception if the command could not\n\t  execute.\n\n\t* win32/win32.c (rb_w32_argv_size): count necessary size for joined\n\t  arguments.\n\n\t* win32/win32.c (rb_w32_join_argv): join arguments with quoting.\n\n\t* win32/win32.c (rb_w32_pipe_exec, rb_w32_spawn, rb_w32_aspawn):\n\t  accept program name adding to command line.\n\nMon Feb 16 15:18:33 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/racc/parser.rb: add note for Racc full package.\n\nMon Feb 16 15:13:01 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/racc/cparse/README: new file.\n\n\t* ext/racc/cparse/MANIFEST: add README.\n\nMon Feb 16 12:29:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_s_list): new method Iconv.list\n\t  (libiconv only).\n\nMon Feb 16 10:29:52 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (CompareImpl): File.fnmatch and Dir.glob get better performance\n\t  in Win32. This is achived by calling downcase() for single-byte\n\t  characters. (CharLower() is slower than downcase())\n\nMon Feb 16 02:14:29 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: should warn suspicious pointer conversion.\n\n\t* bcc32/setup.mak: ditto.\n\nSun Feb 15 20:56:22 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (push_braces): remove wrong const. [ruby-dev:22891]\n\nSun Feb 15 20:41:15 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* sample/soap/calc/httpd.rb, sample/soap/exchange/httpd.rb,\n\t  sample/soap/sampleStruct/httpd.rb, sample/wsdl/googleSearch/httpd.rb:\n\t  use soap/property instead of getopts for configuring DocumentRoot\n\t  and port# of httpd.  see samplehttpd.conf below.\n\n\t* sample/soap/calc/samplehttpd.conf,\n\t  sample/soap/exchange/samplehttpd.conf,\n\t  sample/soap/sampleStruct/samplehttpd.conf,\n\t  sample/wsdl/googleSearch/samplehttpd.conf: added.\n\nSun Feb 15 19:13:33 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/tuplespace.rb: read(tpl,0), raise RequestExpiredError\n\t  if not found.\n\nSun Feb 15 15:48:57 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add IDispatch wrapper in val2variant.\n\t  Thanks, arton.\n\nSun Feb 15 15:23:29 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ruby.h, dir.c (rb_glob): add const.\n\nSun Feb 15 01:46:05 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/mkmf.rb: absolute path of ruby is assigned to $(RUBY).\n\t  [ruby-dev:22870]\n\nSat Feb 14 23:59:11 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: use fileutils.rb instead of ftools.rb.\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub (config.h): define\n\t  STACK_GROW_DIRECTION.\n\n\t* bcc32/Makefile.sub (config.h): add newer checks.\n\n\t* wince/Makefile.sub (config.h): define NEED_IO_SEEK_BETWEEN_RW.\n\nSat Feb 14 23:26:27 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/un.rb: use OptionParser instead of getopts.\n\nSat Feb 14 11:28:14 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* sample/drb/*: import lib/drb/sample\n\nSat Feb 14 11:14:12 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: add pretty_print, thanks gotoken.\n\nFri Feb 13 21:51:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/fileutils.rb: slighly improved documentation (sync with 1.8)\n\nFri Feb 13 19:57:01 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_trackback.rb: added tests for TrackBack with RSS\n\t  2.0.\n\n\t* test/rss/common.rb: added methods make RSS 2.0.\n\n\t* lib/rss/trackback.rb: TrackBack API is decided.\n\n\t* lib/rss/rss.rb: RSS::VERSION 0.0.7 -> 0.0.8.\n\n\t* lib/rss/parser.rb, lib/rss/rss.rb: replaced $DEBUG by RSS::DEBUG.\n\n\t* lib/rss/2.0.rb: removed RSS 2.0 URI. Because RSS 2.0 doesn't\n\t  have URI.\n\nFri Feb 13 14:41:00 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: en-bugged at last commit (Feb 11 23:24:22 2004)\n\nFri Feb 13 12:26:37 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: rescue SystemCallError instead\n\t  of EINVAL.  File.link may raise EACCES on network file systems.\n\nFri Feb 13 05:18:58 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: File.link raises EINVAL on\n\t  Win9x. [ruby-dev:22713]\n\nThu Feb 12 21:49:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/ftools.rb: documented\n\nThu Feb 12 21:19:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/base64.rb: added and tidied documentation\n\nThu Feb 12 20:45:01 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb (WriteAdapater#puts): must append \"\\n\" to\n\t  the string, don't prepend. (ruby-bugs:PR#1280)\n\nThu Feb 12 20:31:43 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_tmpsrc): cpp32 of Borland C++ ignores #error\n\t  directives in DOS line-ending files at all.\n\nThu Feb 12 15:23:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rparen): ignore preceding newlines to right parentheses.\n\t  (ruby-bugs:PR#1221) [ruby-dev:22858]\n\nThu Feb 12 14:17:43 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: set ac_cv_func_link to yes to enable link() on MinGW.\n\t  [ruby-dev:22241]\n\nThu Feb 12 13:32:49 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (link): raise NotImplementedError on Win9X.\n\t  contributed by Tietew. [ruby-dev:22713]\n\n\t* win32/win32.c, win32/win32.h (link): add const.\n\nThu Feb 12 09:56:19 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/lib/tk.rb (TkComm::tk_split_list): suppress a warning.\n\nThu Feb 12 02:23:56 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: use assert_raise instead of assert_raises.\n\n\t* lib/pp.rb: ditto.\n\n\t* lib/time.rb: ditto.\n\n\t* lib/tsort.rb: ditto.\n\t  use TSortHash and TSortArray instead of Hash and Array in test.\n\nWed Feb 11 23:24:22 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: properly treat a Tcl/Tk's string with escaping\n\t  special characters.\n\nTue Feb 10 20:49:07 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (method_proc): return bound Proc object.  [ruby-dev:22854]\n\n\t* eval.c (rb_mod_define_method): bind method body itself for Method\n\t  object.\n\n\t* node.h (NODE_DMETHOD): deprecated.\n\n\t* object.c (rb_class_inherited_p): export.\n\nTue Feb 10 16:43:50 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (umethod_bind): purge unused check.  [ruby-dev:22850]\n\nTue Feb 10 14:33:08 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_match): raise TypeError when both arguments are\n\t  strings. [ruby-dev:22851]\n\n\t* string.c (rb_str_match2): removed.\n\n\t* Makefile.in, bcc32/Makefile.sub, win32/Makefile.sub,\n\t  wince/Makefile.sub (string.c): now not depend on version.h.\n\nMon Feb  9 17:46:07 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, bcc32/Makefile.sub, win32/Makefile.sub, configure.in,\n\t  runruby.rb: run rdoc, test and so on with compiled extension\n\t  libraries.  [ruby-dev:22688]\n\n\t* ext/extmk.rb, lib/mkmf.rb: make extension libraries in separated\n\t  directory, similar to the actual directory structure.\n\n\t* lib/fileutils.rb (FileUtils.copy_file): use the mode of the original\n\t  file to create new file.\n\n\t* lib/rdoc/ri/ri_paths.rb (RI::Paths::SYSDIR): get rid of unexpected\n\t  influence by envirionment variable.\n\n\t* bcc32/configure.bat, win32/configure.bat: add install-doc options.\n\n\t* win32/win32.c, win32/win32.h (rb_w32_fstat): fix Borland C runtime\n\t  bug which returns wrong mode.  [ruby-dev:22846]\n\nMon Feb  9 16:30:12 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (detach_process_watcher): return the last status.\n\t  [ruby-dev:22841]\n\nSun Feb  8 16:46:08 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pp.rb (PP::PPMethods::object_address_group): suppress negative\n\t  sign for higher heap areas.\n\nSun Feb  8 16:18:27 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/yaml/test_yaml.rb (YAML_Unit_Tests::test_range_cycle):\n\t  added tests.\n\nSun Feb  8 15:51:57 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/ruby/test_file.rb (TestFile::test_fnmatch): added tests for\n\t  File.fnmatch. [ruby-dev:22815][ruby-dev:22819]\n\nSun Feb  8 15:41:45 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/yaml/test_yaml.rb (YAML_Unit_Tests::test_range_cycle):\n\t  added tests. [ruby-core:02306] [ruby-core:02311]\n\nSun Feb  8 14:24:35 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTP#request): should not overwrite Connection\n\t  header. (ruby-bugs:PR#1274)\n\nSun Feb  8 10:11:21 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (glob_helper): Dir.glob('**/') did not work. [ruby-dev:22832]\n\nSun Feb  8 00:29:26 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (fnmatch): File.fnmatch('*?', 'a') should return true.\n\t  [ruby-dev:22815]\n\n\t* dir.c (fnmatch): File.fnmatch('\\[1\\]' , '[1]') should return true.\n\t  [ruby-dev:22819]\n\n\t* dir.c: Did some styles (no change to behavior)\n\nSat Feb  7 19:56:11 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/irb/init.rb (IRB.rc_files): yield possible rc file names.\n\n\t* lib/irb/input-method.rb (IRB::ReadlineInputMethod::initialize):\n\t  load and save history automatically.  [ruby-core:02352]\n\nFri Feb  6 22:48:16 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb (gen_url): Support\n\t  https in RDoc hyperlinks\n\nFri Feb  6 22:41:22 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/pp.rb (PPInspectTest#test_to_s_with_iv): rollback the previous\n\t  commit.  [ruby-dev:22813]\n\nFri Feb  6 22:22:50 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/pp.rb (PPInspectTest#test_to_s_with_iv): remove instance\n\t  variable which is defined in the test.\n\nFri Feb  6 18:54:18 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/ruby/test_proc.rb (TestProc::test_eq): added a\n\t  test.  [ruby-dev:22599]\n\nFri Feb  6 18:26:00 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/ruby/test_proc.rb (TestProc::test_eq): added tests for\n\t  Proc#==.  [ruby-dev:22592], [ruby-dev:22601]\n\nFri Feb  6 10:12:06 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (bsock_do_not_reverse_lookup): control reverse\n\t  lookup for every instance.  [ruby-core:02346]\n\nFri Feb  6 09:15:11 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/irb/extend-command.rb: add irb_help command.  [ruby-talk:91610]\n\n\t* lib/irb/cmd/help.rb (IRB::ExtendCommand::Help): show RDoc.\n\nFri Feb  6 00:48:37 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/prettyprint.rb (PrettyPrint#first?): obsoleted.\n\nThu Feb  5 23:56:55 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/prettyprint.rb (PrettyPrint#seplist): added.\n\n\t* lib/pp.rb (PPMethods#pp_object): use seplist.\n\t  (PPMethods#pp_hash): ditto.\n\t  (Array#pretty_print): ditto.\n\t  (Struct#pretty_print): ditto.\n\t  (MatchData#pretty_print): ditto.\n\n\t* lib/set.rb (Set#pretty_print): use seplist.\n\nWed Feb  4 22:39:46 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_stat_mode): should not sign-expand, so backout.\n\nWed Feb  4 02:12:06 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* file.c (test_l): fix wrong method name in document.\n\t  (test_S): ditto.\n\t  (test_b): ditto.\n\t  (test_c): ditto.\n\t  (test_suid): ditto.\n\t  (test_sgid): ditto.\n\t  (test_sticky): ditto.\n\nTue Feb  3 22:36:25 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/2.0.rb, lib/rss/content.rb, lib/rss/dublincore.rb,\n\t  lib/rss/rss.rb, lib/rss/syndication.rb: removed warnings.\n\n\t* lib/rss/converter.rb: removed handling load error of nkf.\n\n\t* test/rss/test_syndication.rb, test/rss/test_trackback.rb,\n\t  test/rss/test_dublincore.rb, test/rss/test_content.rb: replaced\n\t  'require \"rss/parser\"' by 'require \"rss/1.0\"'.\n\n\t* test/rss/test_parser.rb, test/rss/test_accessor.rb: removed\n\t  'require \"rss/parser\"'.\n\nTue Feb  3 11:23:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reduce_nodes): remove tail returns.  [ruby-talk:90934]\n\nTue Feb  3 08:04:57 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (Struct#pretty_print_cycle): follow 1.8 style.\n\nMon Feb  2 22:06:31 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (block_append, new_evstr, void_expr0): remove no longer used\n\t  labels.\n\nMon Feb  2 18:45:50 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* dln.c (dln_load): don't specify RTLD_GLOBAL on Interix,\n\t  because it caused SEGV when running runner.rb.\n\nMon Feb  2 01:54:00 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (Struct#pretty_print): make it 1.8 style.\n\t  (Numeric#pretty_print, FalseClass#pretty_print)\n\t  (TrueClass#pretty_print, Module#pretty_print): fix pp for objects\n\t  with instance variables.  [ruby-talk:91157]\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): return nil on loopback\n\t  address.\n\n\t* lib/resolv-replace.rb (BasicSocket#send): don't replace because\n\t  it has no hostname argument.\n\t  (IPSocket.getaddress): raise SocketError instead of\n\t  Resolv::ResolvError for errors.\n\t  (TCPSocket#initialize, UDPSocket#bind, UDPSocket#connect)\n\t  (SOCKSSocket#initialize): use IPSocket.getaddress instead of\n\t  Resolv.getaddress.\n\t  (UDPSocket#send): recognize 3 arguments form.  try all addresses on\n\t  4 arguments form.\n\nSun Feb  1 23:00:00 2004  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal.c: Bug in BigDecimal(\"1e#{n}\").add BigDecimal('.5'),n)\n\t  reported and fixed by Javier Goizueta.\n\nSun Feb  1 18:21:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t  From ruby_1_8 branch:\n\t* lib/test/unit.rb: rearranged documentation for RDoc's sake.\n\t* lib/matrix.rb: improved documentation.\n\t* lib/net/http.rb: slight documentation formatting improvement.\n\nSun Feb  1 05:30:06 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): warn HTTP_PROXY.\n\t raise an errror on non-http proxy URI.\n\t (OpenURI::Buffer#<<): make a tempfile binmode.  [ruby-talk:90793]\n\nSun Feb  1 00:57:41 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb (RSS::Parser): added @@default_parser. Used\n\t  XML parser became selectable.\n\t* test/rss/test_parser.rb: added tests for\n\t  RSS::Parser.default_parser.\n\nSat Jan 31 02:28:15 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (RPATHFLAG): set to -Wl,-R like NetBSD on Interix.\n\nSat Jan 31 01:09:41 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: leading 0 padding of timestamp usec part.\n\nFri Jan 30 18:53:23 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (KR_REHASH): wrong hash value on sizeof(long) > sizeof(int).\n\nThu Jan 29 23:11:57 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (DLEXT2): removed.  Ruby does not treat\n\t  \".dll\" as a extention library anymore.\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub (DLEXT2):\n\t  ditto.\n\n\t* util.c (mblen): fix overrun.  [ruby-dev:22672]\n\nThu Jan 29 22:41:53 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Allow 'link:' in Tidylinks.\n\t  THis means you can write \"see f1[link:files/f1_rb.html]\".\n\nThu Jan 29 22:24:47 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* sample/openssl/gen_csr.rb: follow OpenSSL::X509::Name change.\n\t  ASN.1 type of subject DN elements were wrong.\n\nThu Jan 29 22:19:51 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/*: remove $: trick.  [ruby-dev:22763]  use test/runner.rb to\n\t  run test.\n\nThu Jan 29 19:28:16 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (Request#initialize): reject only when a path is\n\t  empty. [ruby-dev:22771]\n\nThu Jan 29 18:54:08 2004  H.Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (glob_helper): infinite loop bug in win32 code.\n\t  [ruby-dev:22770]\n\nThu Jan 29 17:03:49 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c: merge tuning from H.Yamamoto <ocean@m2.ccsnet.ne.jp>.\n\t  [ruby-dev:22761]\n\nThu Jan 29 11:32:14 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/rss/test_*: do $: trick while searching a module in the current\n\t  directory.\n\n\t* test/xsd/test_xmlschemaparser.rb, test/wsdl/test_emptycomplextype.rb,\n\t  test/soap/helloworld/test_helloworld.rb,\n\t  test/soap/calc/{test_calc.rb,test_calc2.rb}: do File.expand_path\n\t  before using __FILE__.\n\n\t* test/yaml/test_yaml.rb: assert_equals -> assert_equal.\n\nThu Jan 29 01:56:02 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: usec round-tripping skew. [ruby-core:2305]\n\n\t* lib/yaml/rubytypes.rb: character Range now round-trips. [ruby-core:2306]\n\n\t* test/yaml/test_yaml.rb: add Time and Range tests.\n\nThu Jan 29 00:00:46 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss: rss/parser.rb is always required.\n\nWed Jan 28 15:09:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/rss/*.rb: remove \"test/\" prefix.\n\nWed Jan 28 13:07:02 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/extconf.rb: include iconv.h for libiconv.  [ruby-dev:22715]\n\nWed Jan 28 12:43:07 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rss: rss library imported. [ruby-dev:22726]\n\nWed Jan 28 04:29:41 2004  Eric Schwartz  <emschwar@fc.hp.com>\n\n\t* lib/cgi/session.rb: use LOCK_SH to read, and a few other\n\t  improvements.  [ruby-core:02328]\n\nTue Jan 27 15:00:14 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el: better support for general delimited\n\t  strings.  [ruby-dev:22695]\n\nTue Jan 27 11:04:40 2004  FUKUMOTO Atsushi  <fukumoto@nospam.imasy.or.jp>\n\n\t* ext/socket/socket.c (s_recvfrom): sending length should be an\n\t  invariant while retrying on EAGAIN.  [ruby-talk:89962]\n\nTue Jan 27 10:31:28 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c (set_argv): fix condition.\n\nTue Jan 27 02:26:31 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick:HTTPUtils::parse_header):\n\t  refine regex for header-name.\n\nMon Jan 26 22:53:04 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* io.c: Remove documentation references to $defout.\n\nMon Jan 26 14:41:46 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/weakref.rb (WeakRef::initialize): set up @__id before\n\t  calling \"super\".\n\n\t* lib/delegate.rb (Delegator::initialize): preserve\n\t  singleton_method_added method [ruby-dev:22685]\n\n\t* lib/delegate.rb (Delegator::initialize): use Kernel::raise\n\t  instead of mere raise.  [ruby-dev:22681]\n\nMon Jan 26 12:45:23 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: define CONST84 when TCL_MAJOR_VERSION == 7\n\nMon Jan 26 11:30:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: Makefiles should depend on also rbconfig.rb.\n\t  (ruby-bugs:PR#1256)\n\n\t* ext/win32ole/win32ole.c (set_argv): set real arguments to\n\t  WIN32OLE::ARGV.  [ruby-list:39073]\n\nSun Jan 25 18:25:26 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_add_entry): third\n\t  argument become optional.\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_initialize): ditto.\n\n\t* ext/openssl/ossl_x509name.c (Init_x509name): emailAddress and\n\t  domainComponent should be IA5String.\n\nSun Jan 25 01:45:38 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): support\n\t  virtual host.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#virtual_host): add\n\t  new method to register virtual hosting server.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#lookup_server): add\n\t  new method to lookup virtual hosting server.\n\nSat Jan 24 13:06:26 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509hame.c (ossl_x509name_initialize): change\n\t  second argument. it expected to be a Hash not an Integer.\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_add_entry): add new\n\t  function for OpenSSL::X509::Name#add_entry.\n\n\t* ext/openssl/ossl_x509name.c (Init_ossl_x509name): add constants\n\t  OpenSSL::X509::Name::DEFAULT_OBJECT_TYPE and OBJECT_TYPE_TEMPLATE.\n\n\t* ext/openssl/lib/openssl/x509.rb (OpenSSL::X509::Name#initialize):\n\t  second argument takes OBJECT_TYPE_TEMPLATE by default.\n\nFri Jan 23 02:26:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (num2i32): pack should not raise RangeError.\n\t  [ruby-dev:22654]\n\n\t* pack.c (pack_pack): do not auto convert nil to zero.\n\nThu Jan 22 22:54:53 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (BEG_REGEXP): allow 8-bit characters in quoted\n\t  strings for Novell GroupWise Internet Agent.\n\n\t* lib/net/imap.rb (DATA_REGEXP): ditto.\n\nThu Jan 22 18:35:49 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/e2mmap.rb (VERSION): remove unnecessary version checking.\n\nThu Jan 22 16:21:02 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (string_content): reset lexical states at the beginning of\n\t  string contents.  [ruby-list:39061]\n\nThu Jan 22 08:08:50 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (opt_rescue): use NODE_ERRINFO() instead of\n\t  NODE_GVAR(\"$!\"), to avoid confusion from variable aliasing.\n\t  [ruby-talk:90074]\n\n\t* version.c (Init_version): remove obsolete constants VERSION\n\t  etc.  [ruby-dev:22643]\n\nThu Jan 22 01:46:32 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (newline_node): do not use NODE_NEWLINE node anymore,\n\t  use NEWLINE flag instead.\n\nThu Jan 22 01:12:12 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* missing/os2.c (chdir, getcwd):\n\t  use _chdir2 and _getcwd2 supporting multiple drives in OS/2 with EMX.\n\nThu Jan 22 00:33:52 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* configure.in: check availability of link(). [ruby-dev:22237]\n\t* file.c (rb_file_s_link): raise an exception when link() is unavailable.\n\t* missing/os2.c (link): removed. File#link isn't supported.\n\t* bcc32/Makefile.sub: define HAVE_LINK to enable link(). [ruby-dev:22241]\n\t* win32/Makefile.sub: ditto.\n\nThu Jan 22 00:26:25 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* ChangeLog: typo: RUBY_MBCHAR_MAX was RUBY_MBCHAR_MAXSIZE.\n\nThu Jan 22 00:12:51 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* defines.h: define RUBY_MBCHAR_MAX instead of MB_CUR_MAX.\n\t* dir.c (Next, emx_mblen): use RUBY_MBCHAR_MAX for mblen().\n\t* file.c (CharNext): ditto.\n\t* ruby.c (translate_char): ditto.\n\t* util.c (__crt0_glob_function): ditto.\n\nThu Jan 22 00:10:01 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/base64.rb: :nodoc: the Deprecated module\n\nWed Jan 21 23:52:39 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: Interix(SFU) support.\n\nWed Jan 21 23:03:45 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: remove O_NONBLOCK, thanks \\ay\n\t* lib/drb/extserv.rb: typo\n\nWed Jan 21 17:57:56 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (envelope): allow NIL.\n\t* lib/net/imap.rb (body): ditto.\n\t* lib/net/imap.rb (number): ditto.\n\t* lib/net/imap.rb (ensure_nz_number): show a detailed error\n\t  message.\n\nWed Jan 21 16:44:15 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (merge_libs): squeeze successive same libraries.\n\t  [ruby-dev:22652]\n\nWed Jan 21 16:10:36 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/base64.rb: enclosed in a module.  [ruby-core:02285]\n\nWed Jan 21 16:01:26 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/digest/rmd160/extconf.rb: have_library appends found library.\n\nWed Jan 21 11:36:00 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_gethostbyname): returns host if\n\t  ai_canonname is NULL. (ruby-bugs PR#1243)\n\n\t* parse.y (block_append): update nd_end for \"real\" head node.\n\t  [ruby-list:39058]\n\nTue Jan 20 14:48:28 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: should check <openssl/conf_api.h> instead\n\t  of OPENSSL_VERSION_NUMBER. [ruby-list:39056]\n\nTue Jan 20 14:43:17 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/base64.rb: Add RDoc\n\nTue Jan 20 14:25:51 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/abbrev.rb: Add RDoc\n\nTue Jan 20 13:22:39 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Document aliases at\n\t  top-most level.\n\n\t* lib/English.rb: Document English.rb.\n\nTue Jan 20 04:41:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_marshal.rb (MarshalTestLib::test_exception): test\n\t  for [ruby-dev:22604].\n\n\t* test/ruby/test_marshal.rb (MarshalTestLibtest_singleton): test\n\t  for [ruby-dev:22588].\n\nTue Jan 20 02:38:13 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_class): should not dump singleton class.\n\t  [ruby-dev:22631]\n\nTue Jan 20 02:49:22 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: add check for OpenSSL version.\n\t  [ruby-list:39054]\n\nMon Jan 19 23:56:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (name_err_mesg_to_str): inverted condition for result of\n\t  inspection.  [ruby-dev:22628]\n\nMon Jan 19 22:24:28 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* sample/exyacc.rb: escape '}' to avoid warning.\n\n\t* lib/rdoc/parsers/parse_c.rb: escape '{' and '}' to avoid warnings.\n\nMon Jan 19 21:28:06 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/digest/defs.h, win32/win3.c, win32/win32.h, file.c: remove\n\t  useless casts for Borland C.\n\nMon Jan 19 17:39:38 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (NameError::message): internal use only.\n\n\t* eval.c (rb_method_missing): use hidden constant.\n\nMon Jan 19 16:30:53 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/ruby/test_time.rb: added tests for [ruby-dev:22614] and\n\t  [ruby-dev:22617].\n\nMon Jan 19 13:09:21 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/extmk.rb, win32/Makefile.sub, win32/configure.bat,\n\t  win32/setup.mak: --with-static-linked-ext support on mswin32.\n\nMon Jan 19 06:49:07 2004  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: zone was wrong when it was behind UTC.\n\t  Thanks Mark J. Reed.\n\n\t* lib/date/format.rb: %z is now always replaced by four digits\n\t  with a leading plus or minus sign.\n\n\t* sample/cal.rb: added a class, anyway.\n\nMon Jan 19 01:08:39 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* class.c, error.c, eval.c, intern.h, object.c, variable.c:\n\t  do not set path if it is a singleton class.  [ruby-dev:22588]\n\n\t* lib/cgi.rb (CGI::QueryExtension): give extended string, not a\n\t  delegater object.\n\nSun Jan 18 23:59:44 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/charset_alias.rb: prefer us_EN locale encodings or\n\t  former.  [ruby-dev:22609]\n\n\t* ext/iconv/iconv.c (iconv_create): raise InvalidEncoding\n\t  exception when EINVAL.\n\nSun Jan 18 23:16:34 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* class.c, error.c, file.c, io.c, numeric.c, object.c, re.c, struct.c,\n\t  time.c: marked init_copy functions nodoc.\n\nSun Jan 18 20:47:35 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ruby.c: use translate_char() on Cygwin.\n\nSun Jan 18 20:00:16 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/wsdlDriver.rb, lib/wsdl/soap/operation.rb: add support of\n\t  \"parts\" attribute of soap:body element in WSDL.\n\n\t* lib/wsdl/xmlSchema/schema.rb: friendly warning message for\n\t  simpleType element which is not supported for now.\n\n\t* test/wsdl/soap/{soapbodyparts.wsdl,test_soapbodyparts.wsdl}: new\n\t  files.\n\nSun Jan 18 16:46:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_overflow_p): should return results.  [ruby-dev:22614]\n\nSun Jan 18 12:07:24 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* test/ruby/test_time.rb: new test case to test Time#[+-].\n\n\t* time.c (time_plus, time_minus): fix RangeError for a negative\n\t  argument in environments whose time_t is unsigned. [ruby-dev:22608]\n\nSun Jan 18 02:33:26 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* defines.h (_WIN32): undef _WIN32 on Cygwin before defining DOSISH.\n\nSun Jan 18 00:23:55 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (class2path): check anonymous class/module before\n\t  checking referable, and allow singleton classes.\n\nSat Jan 17 23:58:51 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (NameError::Message): new class for lazy evaluation of\n\t  message to ensure replaced before marshalling.  [ruby-dev:22604]\n\n\t* eval.c (rb_method_missing): use NameError::Message.\n\nSat Jan 17 21:49:50 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/time.rb (test_rfc2822, test_rfc3339, test_encode_xmlschema):\n\t  should not expect that all platforms handle negative time_t value.\n\nFri Jan 16 23:53:09 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (proc_eq): compare also arguments and environment\n\t  (including local variables).  [ruby-dev:22590]\n\nFri Jan 16 14:33:35 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (class2path): get class path and check referable.\n\t  [ruby-dev:22588]\n\nThu Jan 15 12:58:26 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_read): do not append EOF.  (ruby-bugs-ja:PR#585)\n\n\t* io.c (rb_io_fwrite): ad-hockery hack to get rid of HP-UX stdio\n\t  weird behavior.  [ruby-dev:22424]\n\nWed Jan 14 21:13:06 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/inlinetest.rb (InlineTest::eval_part): eval under the top\n\t  level environment.\n\nWed Jan 14 17:54:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/inlinetest.rb (InlineTest::loadtest): require instead of\n\t  load, to get rid of multiple loading.\n\nWed Jan 14 13:30:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/extconf.rb: wrapper iconv.rb is dependent on platform.\n\nWed Jan 14 09:32:02 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* MANIFEST: add test/net/test_httpheader.rb. (commit miss?)\n\nWed Jan 14 00:58:35 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_Proc): move SystemStackError from under\n\t  StandardError to Exception.  [ruby-talk:89782]\n\nTue Jan 13 18:03:02 2004  Ian Macdonald  <ian@caliban.org>\n\n\t* file.c (rb_stat_wr, rb_stat_ww): New functions\n\t  implementing new methods (File::Stat#world_readable?,\n\t  File::Stat#world_writable?).\n\nTue Jan 13 16:53:25 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: omission of Date library code caused\n\t  test suite failure. [ruby-core:2251]\n\nTue Jan 13 16:50:03 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: use $0 as the default application class name.\n\nTue Jan 13 14:48:00 2004  Ian Macdonald  <ian@caliban.org>\n\n\t* lib/pathname.rb: New methods (Pathname#world_readable?,\n\t  Pathname#world_writable?).\n\nTue Jan 13 14:48:01 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): allow no \"when\" case. [ruby-dev:22578]\n\n\t* ruby.h (rb_class_of): reduce branch. [ruby-dev:22577]\n\n\t* ruby.h (rb_type): ditto.\n\nTue Jan 13 14:26:59 2004  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/test/unit/ui/testrunnerutilities.rb (TestRunnerUtilities):\n\t  moved run method which allows output level.  [ruby-dev:22554]\n\nTue Jan 13 13:04:24 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/test_*.rb: Pathname#parent -> Pathname#dirname.\n\nTue Jan 13 11:38:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/yaml/test_yaml.rb (YAML_Unit_Tests::test_spec_type_{int,float}):\n\t  fix syntax error.\n\nTue Jan 13 07:52:40 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/bytecode.c: turn off default implicit typing.\n\n\t* ext/syck/implicit.c: detect base60 integers.\n\n\t* ext/syck/rubyext.c: handle base60, as well as hex and octal\n\t  with commas.  implicit typing of ruby symbols.\n\n\t* test/yaml/test_yaml.rb: add test.\n\nTue Jan 13 04:29:52 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_driver.rb (RiDriver::report_method_stuff):\n\t  Show fully-qualified class names in class list.\n\nTue Jan 13 01:24:17 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (test_wr): Rdoc fix.  [ruby-core:02225]\n\nTue Jan 13 01:04:37 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_paths.rb (RI::Paths): First attempt at\n\t  incorporating DESTDIR in the rdoc installation.\n\nMon Jan 12 23:26:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (primary): fix position after FCALL.  [ruby-dev:22574]\n\nMon Jan 12 18:00:11 2004  Ian Macdonald  <ian@caliban.org>\n\n\t* file.c (test_wr, test_ww): New functions implementing new\n\t  methods (File::world_readable?, File::world_writable?).\n\n\t* file.c (S_IRUGO, S_IGUGO): New macros.\n\nMon Jan 12 12:07:22 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::do_methods):\n\t  Someone changed the \"// in eval.c\" comments to \"/*...*/\" style,\n\t  so the parsing of the source file name broke.\n\n\t* object.c: Remove spurious space in TrueClass documentation.\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::find_body): Fix\n\t  bad regexp: if the code before a documented method contained\n\t  a comment that wasn't terminated by whitespace, that comment\n\t  and all intervening code was included in the following\n\t  method's documentation.\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::HtmlFormatter::break_to_newline):\n\t  HTML formats need explicit line breaks.\n\nMon Jan 12 02:24:07 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::HtmlFormatter): Add HTML\n\t  generation support to ri (Elliot Hughes)\n\nSun Jan 11 23:54:41 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* env.h (ruby_frame, ruby_scope, ruby_in_eval, ruby_class,\n\t  ruby_dyna_vars): export.  [ruby-dev:22566]\n\nSun Jan 11 02:35:53 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (make_hostent): a bug in brace position.\n\n\t* configure.in: install rdoc by default. if you do not want to\n\t  install rdoc, specify --disable-install-doc.\n\nSun Jan 11 02:07:47 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_options.rb (RI::Options::OptionList::OptionList):\n\t  Also accept command line options via the 'RI' environment variable.\n\nSat Jan 10 21:27:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (eval): need to add message delimiter. [ruby-dev:22561]\n\nSat Jan 10 01:54:50 2004  Eric Sunshine  <sunshine@sunshineco.com>\n\n\t* defines.h (__NeXT__): Ensure that all standard S_IRUSR, S_IWGRP,\n\t  S_IRWXO, etc. macros are defined since future code might require\n\t  them (even though present code only requires a subset).\n\n\t* defines.h (__NeXT__): Bug fix: WORDS_BIGENDIAN was not being set\n\t  correctly on Rhapsody when -arch compiler flag was used (via\n\t  configure's --enable-fat-binary option).\n\nSat Jan 10 23:01:41 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LIBPATHFLAG, RPATHFLAG): enclose paths with single\n\t  quotes.  [ruby-dev:22564]\n\n\t* lib/mkmf.rb (libpathflag): do not enclose with quotes always.\n\n\t* {bcc32,win32,wince}/Makefile.sub (LIBPATHFLAG): quoted.\n\nSat Jan 10 22:46:18 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (dir_inspect): new method, Dir#inspect.  [ruby-dev:22562]\n\nFri Jan  9 17:36:51 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (make_hostent): getaddrinfo(3) on BSD do not\n\t  fill ai_canonname if serv is not supplied.  (ruby-bugs PR#1243)\n\nFri Jan  9 13:14:59 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb: do not ignore exceptions(LoadError\n\t  and SystemExitError) while loading a testcase.  smell of bug.\n\n\t* test/testunit/collector/test_dir.rb: add new test of the LoadError.\n\n\t* test/drb/{test_drbssl.rb,test_drbunix.rb}: do not define testcase if\n\t  openssl is not installed.\n\n\t* test/testunit/collector/test_dir.rb: assert_raises -> assert_raise.\n\nFri Jan  9 11:52:16 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* rubysig.h: <errno.h> is needed to use errno which may be a macro.\n\nFri Jan  9 11:20:24 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* ext/extmk.rb (extmake): should not reduce necessary libraries.\n\t  [ruby-dev:22440]\n\n\t* lib/mkmf.rb (merge_libs): merge libraries according to\n\t  dependency.\n\nFri Jan  9 10:05:23 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* lib/mkmf.rb (libpathflag): use single quotes.  [ruby-dev:22440]\n\nThu Jan  8 23:49:21 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (RDOCTARGET): new macro.  if you want to install\n\t  rdoc documentation, you need to run configure with\n\t  --enable-install-doc.\n\nThu Jan  8 21:17:43 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkey.c (ossl_pkey_to_der): removed; it returns\n\t  public key only.\n\n\t* ext/openssl/ossl_pkey_dh.c (ossl_dh_to_der): new function for\n\t  OpenSSL::PKey::DH#to_der.\n\n\t* ext/openssl/ossl_pkey_dsa.c (ossl_dsa_to_der): new function for\n\t  OpenSSL::PKey::DSA#to_der.\n\n\t* ext/openssl/ossl_pkey_rsa.c (ossl_rsa_to_der): new function for\n\t  OpenSSL::PKey::RSA#to_der.\n\nThu Jan  8 18:25:29 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (glob_helper): should not recurse in exceptional status.\n\nThu Jan  8 16:51:04 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/wsdl/datetime/test_datetime.rb: fixed a stupid testcase which\n\t  dumps \"E\" at month-end.\n\nThu Jan  8 11:20:01 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* eval.c, object.c, process.c, re.c: don't use C++ style comments.\n\nThu Jan  8 08:46:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (yaml_org_handler): lazy-load Date for\n\t  static-ext.\n\nThu Jan  8 07:06:30 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: preserve order in Setup.  [ruby-dev:22503]\n\n\t* ext/extmk.rb: move dependent libraries just after depended\n\t  libraries.\n\n\t* ext/digest/*/extconf.rb: depend on digest.\n\nThu Jan  8 04:36:17 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI#initialize): should create\n\t  @config[:Logger] if it was not given.\n\nWed Jan  7 22:28:12 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (glob_helper): fix memory leak.\n\nWed Jan  7 21:15:07 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* sample/webrick/*: new files.\n\n\t* MANIFEST: add sample/webrick/*\n\nWed Jan  7 20:51:51 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/net/test_httpheader.rb: new file.\n\n\t* MANIFEST: add test/net/test_httpheader.rb.\n\nWed Jan  7 20:42:06 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTPHeader#content_length): should return nil\n\t  unless header exists. [ruby-dev:22519]\n\nWed Jan  7 14:26:05 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb (TkPanedWindow): use epath for embedded windows.\n\n\t* ext/tk/lib/tktext.rb: use epath for embedded windows.\n\n\t* ext/tk/lib/tkcanvas.rb: use epath for window items.\n\nWed Jan  7 14:24:04 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/{attachment.rb,mimemessage.rb}: added from soap4r/1.5.2.\n\nWed Jan  7 13:00:18 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_driver.rb: Fix problem where ri was\n\t  being too eager to find matches of ambiguous method\n\t  names (such as \"ri Thread.join\" would return both\n\t  Thread.join and ThreadsWait.join)\n\nWed Jan  7 12:35:41 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/debug.rb: revert command parse regexps.  [ruby-list:39014] by\n\t  Shirai,Kaoru.\n\nWed Jan  7 08:21:04 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parserfactory.rb: Check for shebang\n\t  line in files that would otherwise be treated as\n\t  plain text.\n\nTue Jan  6 22:13:34 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_mod_modfunc): should break if m has no super class.\n\t  [ruby-dev:22498]\n\nTue Jan  6 21:51:37 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (fptr_finalize): should save errno just after failure.\n\t  [ruby-dev:22492]\n\nTue Jan  6 20:51:10 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb(Logger#msg2str): no special treatment for the object\n\t  which responds to :to_str.\n\n\t* lib/logger.rb(LogDevice#initialize): remove type checking if the\n\t  given object is a String.  Kernel.open handles it correctly.\n\n\t* test/logger/test_logger.rb: follow above change (ArgumentError ->\n\t  TypeError.)\n\nTue Jan  6 14:53:14 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* bin/ri: split out the display side, making it pluggable. Added\n\t  new ri_driver and ri_display files in lib/rdoc/ri.\n\nTue Jan  6 11:29:43 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/inlinetest.rb, test/{test_generator.rb,test_ipaddr.rb,\n\t  test_pathname.rb,test_pp.rb,test_prettyprint.rb,test_set.rb,\n\t  test_time.rb,test_tsort.rb: added.\n\nTue Jan  6 09:38:27 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* import soap4r/1.5.2;\n\n\t* lib/soap/{attachment.rb,baseData.rb,encodingstyle/soapHandler.rb}:\n\t  introduce SOAPExternalReference class as a referenct to SOAPEnvelope\n\t  external content.\n\n\t* lib/soap/{attachment.rb,mimemessage.rb}: great SwA (SOAP messages\n\t  with Attachments) support code by Jamie Herre.\n\n\t* lib/soap/{element.rb,marshal.rb,parser.rb,processor.rb,\n\t  streamHandler.rb,wsdlDriver.rb}: SwA support.\n\n\t* lib/soap/rpc/{cgistub.rb,driver.rb,element.rb,proxy.rb,router.rb,\n\t  soaplet.rb}: SwA support and refactoring.\n\n\t* lib/soap/generator.rb, lib/soap/mapping/mapping.rb: follow\n\t  SOAPReference#initialize signature change.\n\n\t* lib/soap/mapping/factory.rb: deleted unused methods.\n\n\t* lib/soap/mapping/rubytypeFactory.rb: do no ignore case while xsi:type\n\t  string <-> Ruby class name matching.\n\n\t* lib/xsd/datatypes.rb: check the smallest positive non-zero\n\t  single-precision float exactly instead of packing with \"f\".\n\t  [ruby-talk:88822]\n\n\t* test/soap/test_basetype.rb, test/xsd/test_xsd.rb: use 1.402e-45, not\n\t  1.4e-45.  1.4e-45 is smaller than 2 ** -149...\n\n\t* test/soap/test_basetype.rb, test/soap/marshal/test_marshal.rb,\n\t  test/xsd/test_xsd.rb: use \"(-1.0 / (1.0 / 0.0))\" instead of \"-0.0\".\n\n\t* test/soap/test_streamhandler.rb: revert to the previous test that\n\t  warns \"basic_auth unsupported under net/http\".\n\nTue Jan  6 06:37:53 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* bin/rdoc: Add --ri-system switch\n\n\t* lib/.document: Update with list of files that seem to have\n\t  documentation\n\n\t* lib/test/unit.rb: Reorder comment to make it RDoc friendly.\n\n\t* Makefile.in: add install-nodoc target, and make it\n\t  generate RDoc on default install.\n\n\t* lib/rdoc/ri/ri_options.rb (RI::Options::parse): Add\n\t  --doc-dir option to ri.\n\nTue Jan  6 00:04:40 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_method_or_yield_parameters):\n\t  fix parsing if there are braces in a method parameter list\n\nTue Jan  6 01:01:04 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/dir.h, win32/win32.c: fix patch miss.\n\n\t* win32/Makefile.sub: fix file dependency.\n\nMon Jan  5 20:32:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/logger.rb: enhanced documentation.\n\nMon Jan  5 18:58:47 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c: merge tuning from H.Yamamoto <ocean@m2.ccsnet.ne.jp>.\n\t  [ruby-dev:22486]\n\n\t* pack.c (pack_unpack): unpack requires big endian offet (OFF16B\n\t  and OFF32B).  The patch is from Minero Aoki in [ruby-dev:22489]\n\n\t* pack.c (OFF16B): add big-endian offset again.\n\nMon Jan  5 03:00:53 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_pack.rb: new test test_unpack_N.\n\nMon Jan  5 01:47:53 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): remove duplicated object files\n\t  from $objs on DOSISH platforms.\n\nSat Jan  3 02:44:48 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* rubysig.h (TRAP_END): preserve errno before switching context.\n\t  [ruby-core:02137]\n\nSat Jan  3 01:18:08 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c: merge tuning from H.Yamamoto <ocean@m2.ccsnet.ne.jp>.\n\t  [ruby-dev:22476]\n\nFri Jan  2 14:54:11 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* bin/ri: Add new --classes option, and arrange for\n\t  help messages to be paged too.\n\n\t* bin/rdoc: Add statistics.\n\n\t* process.c: (MG) Added Process documentation\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::AttributeFormatter::wrap):\n\t  Fix problem with labels not displaying in RI labeled\n\t  lists using BS and ANSI modes.\n\nFri Jan  2 01:50:13 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_eof): ARGF.eof? should not have any side effect.\n\t  [ruby-dev:22469]\n\nThu Jan  1 09:03:20 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* bin/ri (report_class_stuff): Fix problem with ambiguous nested\n\t  classes not matching.\n\nWed Dec 31 17:25:17 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_each_byte): should return self.  [ruby-dev:22465]\n\nWed Dec 31 15:05:00 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/pathname.rb: Corrected small coding error.\n\nWed Dec 31 15:00:00 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/pathname.rb: Completed documentation.\n\nWed Dec 31 11:20:34 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::do_methods): Make\n\t  file referenced in \"// in sss.c\" relative to current file.\n\nWed Dec 31 11:17:37 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Fix problem when\n\t  a public method was aliased, but the alias is then\n\t  made private, and hence doesn't appear in RDoc output.\n\nWed Dec 31 01:33:05 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* array.c, error.c, eval.c, io.c, prec.c, range.c, re.c,\n\t  string.c, time.c: Add RDoc for Kernel functions, and tidy.\n\nTue Dec 30 19:39:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_readline): should raise EOFError at the end of\n\t  files.  [ruby-dev:22458]\n\n\t* io.c (argf_read): should concatenate input files when length\n\t  argument is nil. [ruby-dev:22450]\n\n\t* io.c (argf_read): should update supplied string buffer (2nd\n\t  argument) even when IO#read is called multiple times.\n\n\t* io.c: should initialize lineno by zero. [ruby-dev:22460]\n\nTue Dec 30 12:30:30 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::find_symbol): If a\n\t  class and a method have the same name, finding Xxx.abc was trying\n\t  to find 'abc' in method 'Xxx', not class 'Xxx'.\n\nTue Dec 30 08:32:32 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_method):\n\t  Handle undoing nsting of yield parameters correctly for:\n\n\t    def each_entry(&b) Dir.foreach(@path) {|f| yield P.new(f) } end\n\nTue Dec 30 07:30:00 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/pathname.rb: Added documentation.\n\nMon Dec 29 20:08:17 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (GenericRequest#initialize): check if path\n\t  begins with '/'.\n\n\t* lib/net/http.rb: def m( arg ) -> def m(arg)\n\nMon Dec 29 12:51:02 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* eval.c: Add RDoc for Kernel global functions.\n\nMon Dec 29 11:00:16 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* array.c: Tidy up RDoc loose ends.\n\nMon Dec 29 05:05:51 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* struct.c, random: Add RDoc comments\n\nMon Dec 29 02:25:00 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/optparse.rb: Improved documentation.\n\nMon Dec 29 02:20:54 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* eval.c: Add RDoc for class Proc, Method, UnboundMethod\n\nMon Dec 29 02:20:26 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* instruby.rb: fix install directory if destdir and compile_dir are\n\t  not in the same drive.\n\n\t* ext/extmk.rb: ditto. [ruby-list:39009]\n\n\t* win32/Makefile.sub, win32/README.win32, win32/configure.bat,\n\t  win32/setup.mak: new configure scheme. use ``configure --prefix=dir''\n\t  instead of ``nmake DESTDIR=dir install''.\n\nMon Dec 29 00:41:44 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* math.c: Add RDoc comments\n\nSun Dec 28 20:19:11 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/stringio/stringio.c (strio_sysread): StringIO.new.sysread didn't\n\t  raise EOFError.\n\n\t* ext/zlib/zlib.c (gzreader_gets): don't increment lineno when\n\t  gzfile_read_all returns \"\".\n\nSun Dec 28 15:25:08 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* class.c,object.c,parse.y,sprintf.c,variable.c: Document classes\n\t  Object, Module, etc...\n\nSun Dec 28 11:55:29 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: generate bom.csv and mac.csv files on the fly.\n\t  [ruby-talk:88852]\n\n\t* test/csv/{bom.csv,mac.csv}: removed.\n\nSun Dec 28 08:56:51 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* eval.c: Thead[Group] RDoc (thanks to MG)\n\nSun Dec 28 03:50:05 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::find_override_comment):\n\t  Escape method names used in regexp\n\nSun Dec 28 01:46:02 2003  Dave Thomas  <dave@wireless_3.local.thomases.com>\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::TextFormatter::display_flow_item):\n\t  Add support for rules in 'ri' output.\n\nSun Dec 28 01:35:35 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::find_body):\n\t  Sometimes the Ruby source aliases two otherwise\n\t  unrelated methods (for example Kernel#object_id and\n\t  Kernel#hash are both the same C function). Provide a\n\t  facility to allow the methods to be documented\n\t  separately.\n\nSun Dec 28 01:05:31 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* marshal.c, signal.c: RDoc collemts added by Elliott Hughes\n\nSun Dec 28 00:46:25 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::find_class_comment):\n\t  Some Ruby source uses lower-case class names for the\n\t  Init_Xxx C function name.\n\nSat Dec 27 23:41:46 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: fix \"test: too many arguments\" error.\n\nSat Dec 27 15:32:40 2003  Dave Thomas  <dave@wireless_3.local.thomases.com>\n\n\t* time.c: Add RDoc comments for Time class.\n\nSat Dec 27 15:07:26 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* object.c: Add RDoc comments for Symbol class.\n\nSat Dec 27 14:39:53 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* numeric.c (Init_Numeric): Add RDoc comments.\n\nSat Dec 27 00:44:00 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (next_argv): warn always for stdin on inplace edit mode.\n\n\t* io.c (read_all): need to check string value.\n\n\t* io.c (argf_read): allow ARGF.read(nil).  [ruby-dev:22433]\n\nFri Dec 26 23:02:09 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_backquote): need not to check nil result.\n\t  [ruby-core:02078]\n\n\t* io.c (rb_io_getline): should return nil when read_all gives\n\t  empty string, even when nil rs is specified. [ruby-core:02077]\n\nFri Dec 26 18:33:54 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check if getcontext and setcontext are available.\n\n\t* eval.c: use presence of getcontext/setcontext.\n\nFri Dec 26 16:40:53 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (PathnameTest#test_plus): add 2 assertions.\n\nFri Dec 26 14:05:13 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_pack.rb: new test test_pack_N.\n\nFri Dec 26 12:53:26 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): add sign check for 'i', and 'l'.\n\t  [ruby-dev:22427]\n\n\t* bignum.c (rb_quad_pack): add range check for 'quad int'.\n\nFri Dec 26 10:58:58 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* MANIFEST: add vms/config.h and remove vms/config.h_in.\n\nFri Dec 26 10:42:00 2003  AKIYOSHI, Masamichi  <masamichi.akiyoshi@hp.com>\n\n\t* io.c: [VMS] \"rfm=stmlf\" is specified for open() and fopen().\n\nThu Dec 25 22:29:53 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_update): don't return any value.\n\nThu Dec 25 15:30:17 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_update): call rb_str_modify().\n\nThu Dec 25 05:08:09 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (search_required): search actual file name once when no\n\t  extension specified.\n\nThu Dec 25 04:00:44 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* stable version 1.8.1 released.\n\nThu Dec 25 00:17:53 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: check for nanosleep, -lrt if required.\n\t  [ruby-core:02059]\n\n\t* eval.c (thread_timer): use select(2) if nanosleep(2) is not\n\t  available.\n\n\t* eval.c: check __stub_getcontext for glibc on some platforms.\n\t  [ruby-list:38984]\n\nWed Dec 24 23:48:04 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/test_basetype.rb, test/soap/marshal/test_marshal.rb\n\t  test/xsd/test_xsd.rb: use \"(-1.0 / (1.0 / 0.0))\" instead of \"-0.0\"\n\t  to express -0.0.  [ruby-talk:88786]\n\nWed Dec 24 23:29:30 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/tsort.rb (test_orphaned_break): removed.\n\nWed Dec 24 20:53:06 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkmulticolumnlist.rb: new sample\n\n\t* ext/tk/sample/tkmultilistframe.rb: bug fix\n\nWed Dec 24 20:37:37 2003  Eric Sunshine  <sunshine@sunshineco.com>\n\n\t* configure.in (LDSHARED): Fixed typographical error in assignment of\n\t  LDSHARED for Rhapsody which caused linking of extension modules to\n\t  fail.\n\nWed Dec 24 17:51:18 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_thread_flock): enable thread support again.\n\nWed Dec 24 16:46:08 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (catch_timer): do not call rb_thread_schedule() inside to\n\t  avoid pthread_mutex_lock() deadlock.  interrupts to system calls\n\t  are detected by TRAP_END via EINTR error.\n\n\t* eval.c (thread_timer): do not post signal unless it is\n\t  absolutely necessary.\n\n\t* rubysig.h (TRAP_END): add CHECK_INTS to switch thread.\n\n\t* regex.c (re_compile_pattern): check if nextp is smaller than\n\t  pend.  [ruby-dev:22372]\n\n\t* eval.c (umethod_bind): remove method overridden check.\n\t  [ruby-dev:22366]\n\nWed Dec 24 16:13:05 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_read): should check for error\n\t  status by SSL_get_error().\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_write): ditto.\n\nWed Dec 24 14:23:27 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): clear the buffer argument\n\t  when returning nil.  [ruby-dev:22363]\n\n\t* test/ruby/ut_eof.rb (TestEOF::test_eof_0, TestEOF::test_eof_1):\n\t  add buffer argument tests.\n\nWed Dec 24 14:07:55 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: Modules are allowed to rescue.\n\n\t* lib/test/unit/autorunner.rb: show output_level in order.\n\n\t* lib/test/unit/collector/dir.rb: get rid of successive same\n\t  directories in load path.\n\n\t* test/testunit/test_assertions.rb (test_assert_nothing_raised,\n\t  test_assert_raise): test for modules.\n\nWed Dec 24 13:43:34 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (authenticate): remove \"\\n\" from base64 encoded\n\t  strings.\n\nWed Dec 24 11:26:41 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/fileutils/test_fileutils.rb: should not create any\n\t  files or directories in current directory.  [ruby-talk:88724]\n\nWed Dec 24 10:29:53 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): never return nil at\n\t  unlimited read.  [ruby-dev:22334]\n\n\t* ext/stringio/stringio.c (strio_read): support second\n\t  argument.  [ruby-dev:22350]\n\nWed Dec 24 09:38:49 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (arg): should return 0 after error.  [ruby-dev:22360]\n\nWed Dec 24 00:56:54 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): do not return nil at the end of file.\n\t  [ruby-dev:22334]\n\n\t* io.c (argf_read): do not depend on nil at eof behavior of\n\t  IO#read().\n\n\t* eval.c (rb_thread_join): dup exception before re-raising it.\n\n\t* io.c (rb_io_eof): call clearerr() to prevent side effect.  this\n\t  patch is supplied by Masahiro Sakai <sakai@tom.sfc.keio.ac.jp>.\n\t  [ruby-dev:22234]\n\n\t* pack.c (OFF16): get offset for big endian machines.\n\n\t* pack.c (pack_pack): use OFF16 instead of OFF16B.\n\t  [ruby-dev:22344]\n\n\t* pack.c (pack_unpack): ditto.\n\nTue Dec 23 22:47:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_check_readable): set FMODE_RBUF always, even if\n\t  NEED_IO_SEEK_BETWEEN_RW is not defined. [ruby-dev:22340]\n\n\t* io.c (rb_io_check_writable): clear FMODE_RBUF before writing\n\t  something.\n\nTue Dec 23 22:25:00 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/optparse.rb: incomplete RDoc documentation added in place of\n\t  existing RD comments.  Tabs converted to spaces.\n\nTue Dec 23 19:44:47 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/test_streamhandler.rb (test_basic_auth): removed.\n\t  soap4r + basic_auth is not officially supported in ruby/1.8.1 even\n\t  though soap4r + basic_auth + http-access2 should run fine.\n\nTue Dec 23 19:42:59 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_ungetc): raise an exception at unread stream to\n\t  avoid unspecified behavior.  [ruby-dev:22330]\n\n\t* test/ruby/test_system.rb (test_syntax): glob relatively from\n\t  __FILE__.\n\nTue Dec 23 18:09:40 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): remove unnecessary negative value check.\n\t  [ruby-dev:22329]\n\nTue Dec 23 17:26:55 2003  KONISHI Hiromasa  <konishih@fd6.so-net.ne.jp>\n\n\t* bcc32/Makefile.sub (config.h): bcc has finite(). [ruby-list:38940]\n\nTue Dec 23 16:08:16 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/rexml/encodings/US-ASCII.rb: typo.  [ruby-talk:88650]\n\n\t* test/ruby/test_system.rb: num of asserts depended on running dir.\n\n\t* test/xsd/test_noencoding.rb: rexml + without iconv/uconv cannot\n\t  handle euc-jp.  install iconv, uconv or xmlscan.\n\nTue Dec 23 14:13:51 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic::check_userinfo,\n\t  URI::Generic::check_user, URI::Generic::check_password): tests\n\t  conflicts/depends with other components closely.\n\n\t* test/uri/test_generic.rb (TestGeneric::test_set_component):\n\t  added tets.\n\nTue Dec 23 11:08:34 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/xsd/test_noencoding.rb: rescue Errno::EINVAL and do not test.\n\t  \"euc-jp\" might not be in supported encoding name list.\n\t  [ruby-talk:88650]\n\nTue Dec 23 06:10:31 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (CGI): add support for mod_ruby.\n\n\t* lib/webrick/cgi.rb (CGI::Socket): add check for existence of\n\t  OpenSSL module in all HTTPS related methods.\n\n\t* lib/webrick/cgi.rb (CGI::Socket#cipher): should create similar\n\t  value to OpenSSL::SSLSocket#cipher.\n\n\t* lib/webrick/httpresponse.rb (HTTPResponse#setup_header): should\n\t  set \"connection: close\" if @keep_alive is false.\n\n\t* lib/webrick/https.rb (HTTPrequest#meta_vars): add supprt for\n\t  SSL_PROTOCOL, SSL_CIPHER_USEKEYSIZE and SSL_CIPHER_ALGKEYSIZE.\n\nMon Dec 22 23:00:05 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic::check_opaque): fixed typo.\n\nMon Dec 22 21:59:24 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (map_charset): always ensure code is a String.\n\nMon Dec 22 21:15:29 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* class.c (rb_mod_init_copy): always copy singleton class.\n\t  [ruby-dev:22325]\n\nMon Dec 22 20:44:36 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic#route_from): accepts urls which\n\t  has no host-part.\n\n\t* test/uri/test_generic.rb (TestGeneric::test_route): added a test.\n\nMon Dec 22 20:38:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi.rb: reduce eval.\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): alias path to\n\t  local_path.  [ruby-list:38883]\n\nMon Dec 22 20:09:31 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/test_property.rb: remove duplicated test method.\n\nMon Dec 22 18:22:04 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub (config.h): remove\n\t  HAVE_ISINF definition to follow previous commits of missing.h\n\t  and win32/win32.h.\n\nMon Dec 22 17:23:42 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_setitimer): moved from defines.h\n\n\t* defines.h, rubysig.h, signal.c: removed macro handling which\n\t  should be done in configure.\n\n\t* configure.in (intrinsics.h): check if present.\n\n\t* ruby.h: include intrinsics.h if available.\n\n\t* bignum.c, marshal.c: include ieeefp.h if available.\n\n\t* missing.h (isinf): define as a macro if finite() and isnan()\n\t  are available.  [ruby-core:02032]\n\nMon Dec 22 17:07:31 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (mingw): set isnan, finite and isinf to yes.\n\nMon Dec 22 13:40:19 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/property.rb: passing block by reference.\n\nMon Dec 22 00:32:43 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_with_disable_interrupt): use ENABLE_INTS instead of\n\t  ALLOW_INTS which may switch context.  [ruby-dev:22319]\n\n\t* ext/syck/emitter.c (syck_emitter_write): str bigger than\n\t  e->bufsize causes buffer overflow.  [ruby-dev:22307]\n\nSun Dec 21 17:29:00 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* class.c (rb_check_inheritable): new function.  [ruby-dev:22316]\n\n\t* intern.h: add prototype.\n\n\t* eval.c (superclass): use rb_check_inheritable().\n\n\t* object.c (rb_class_initialize): check argument validity.\n\nSun Dec 21 16:25:10 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#+): re-implemented to resolve \"..\" in\n\t  beginning of the argument.\n\t  (Pathname#join): concatenate from the last argument.\n\t  (Pathname#parent): just use Pathname#+.\n\nSun Dec 21 00:12:37 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add new methods (TkScrollbar#assign, assign_list)\n\n\t* ext/tk/sample/tkmultilistframe.rb: use TkScrollbar#assign method\n\nSat Dec 20 21:59:03 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb (HTTPRequest#meta_vars): refine regexp.\n\n\t* lib/webrick/cgi.rb (CGI#start): NPH scripts return status line\n\t  instead of Status: header field.\n\n\t* lib/webrick/cgi.rb (CGI::Socket): refine some coditions.\n\nSat Dec 20 16:07:14 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Completion::complete): wrong\n\t  Regexp for word boundary.  pointed out by Gavin Sinclair.\n\n\t* lib/optparse.rb (OptionParser::make_switch): [no-] prefix was\n\t  missing.\n\nSat Dec 20 11:40:10 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/yaml.rb (YAML::YAML): adjust Marshal version.\n\nSat Dec 20 03:56:02 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_with_disable_interrupt): prohibit thread context\n\t  switch during proc execution.  [ruby-dev:21899]\n\nSat Dec 20 02:41:02 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb: add file. (yet another CGI library)\n\n\t* MANIFEST: add lib/webrick/cgi.rb.\n\nSat Dec 20 02:18:31 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-calculate-indent): proper indentation\n\t  inside of parentheses.  [ruby-dev:22308]\n\nFri Dec 19 21:24:22 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb (HTTPRequest#meta_vars): should not set\n\t  HTTP_CONTENT_TYPE and HTTP_CONTENT_LENGTH.\n\n\t* lib/webrick/https.rb (HTTPRequest#parse): should check presence\n\t  of cert() method to detect SSLSocket.\n\nFri Dec 19 22:56:46 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/property.rb (SOAP::Property#load): new method for loading\n\t  property value into existing property tree.\n\n\t* test/soap/test_property.rb: add test.\n\nFri Dec 19 19:21:49 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/runit/cui/testrunner.rb (RUNIT::CUI::TestRunner::run):\n\t  should use Test::Unit::UI::{PROGRESS_ONLY,VERBOSE}.\n\nFri Dec 19 17:36:49 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkmultilistbox.rb: bug fix\n\n\t* ext/tk/sample/tkmultilistframe.rb: new sample script\n\nFri Dec 19 03:44:27 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (parse_form_data): should return an\n\t  empty Hash if the body is empty.\n\nThu Dec 18 21:47:35 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): should remove deffile if it's\n\t  made by miniruby. based on nobu's patch.\n\nThu Dec 18 21:44:21 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (stack_extend): ignore inline optimization on VC7.\n\n\t* win32/Makefile.sub (OS, RT): can override.\n\n\t* win32/Makefile.sub (LDFLAGS): ditto. shouldn't use pdb:none\n\t  option. based on Tietew's patch [ruby-dev:22289]\n\nThu Dec 18 16:38:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (fnmatch): unlike find_dirsep(), rb_path_next() never\n\t  return NULL.\n\nThu Dec 18 15:27:59 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/ipaddr.rb (IPSocket::getaddress): merge usa's patch.\n\t  [ruby-dev:21678]\n\nWed Dec 17 15:15:30 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::Value::[]): should work like\n\t  String#[] if more than one arguments are specified.\n\n\t* lib/delegate.rb: avoid using common instance name as \"@obj\".\n\n\t* lib/cgi.rb (CGI::QueryExtension::Value): Value is no longer\n\t  subclass of String, but DelegateClass(String).\n\n\t* ext/curses/extconf.rb: restore function check for init_color.\n\t  [ruby-list:38905]\n\n\t* Makefile.in: need to specify $(MAINLIBS) for the miniruby\n\t  generation rule.\n\n\t* configure.in: better FreeBSD -lc_r support.\n\nWed Dec 17 00:16:14 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: new method\n\t  StringScanner#beginning_of_line? (alias #bol?)\n\n\t* ext/strscan/strscan.c: new method StringScanner#concat and #<<.\n\n\t* ext/strscan/strscan.c: StringScanner#new(str) does not duplicate\n\t  nor freeze STR (allow destructive modification).\n\n\t* test/strscan/test_stringscanner.rb: test new methods above.\n\n\t* test/strscan/test_stringscanner.rb: test destructive string\n\t  modification.\n\nTue Dec 16 21:20:47 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb: don't use local variable `pp'.\n\n\t* lib/prettyprint.rb: ditto.\n\nTue Dec 16 13:20:43 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: condition bug of if statement on\n\t  {pack,grid}_propagate methods\n\nTue Dec 16 03:17:29 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: comments in strings. [ruby-talk:88012]\n\n\t* test/yaml/test_yaml.rb: add test.\n\nTue Dec 16 01:14:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (catch_timer): check rb_thread_crtical in main native\n\t  thread.\n\n\t* eval.c (thread_timer): just sends signals periodically, to\n\t  prevent main native thread from receiving them in critical\n\t  section.  [ruby-core:01959]\n\nMon Dec 15 13:32:22 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (check_dirname): check string safety and remove extraneous\n\t  trailing directory separators.  [ruby-dev:22279]\n\n\t* file.c: renamed and externalized rb_path_next,\n\t  rb_path_skip_prefix, rb_path_last_separator, rb_path_end.\n\n\t* intern.h: prototypes for rb_path_next, rb_path_skip_prefix,\n\t  rb_path_last_separator, rb_path_end.\n\nMon Dec 15 09:27:46 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl_pkcs12.c (ossl_pkcs12_initialize): first argument\n\t  of rb_protect should take an argument of VALUE.\n\nSun Dec 14 18:46:48 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/socket/socket.c (Init_socket): IPv6 is not supported although\n\t  AF_INET6 is defined on MinGW.\n\n\t* lib/ipaddr.rb (AF_INET6): workaround in the environment which does\n\t  not support IPv6.\n\nSat Dec 13 18:55:16 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/charset_alias.rb: preserve original order.\n\n\t* ext/iconv/extconf.rb: remove wrapper file at clean.\n\nSat Dec 13 18:09:42 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (thread_timer): use timer by sub-thread and nanosleep.\n\t  [ruby-talk:87519]\n\n\t* gc.c (Init_stack): no stack adjustment for THREAD_SAFE.\n\nSat Dec 13 17:17:59 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (proc_alloc): cache the created object at first time.\n\t  [ruby-talk:61288], [ruby-dev:22240]\n\nSat Dec 13 09:01:23 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check ucontext.h.\n\n\t* eval.c: use getcontext/setcontext() instead of setjmp/longjmp()\n\t  on ia64 or with native thread enabled.  [ruby-core:01932]\n\nSat Dec 13 03:09:14 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: anonymous struct fix. [ruby-core:01946]\n\n\t* test/yaml/test_yaml.rb: add test.\n\nFri Dec 12 22:36:44 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb: add Cell#to_str and Cell#to_s for /.../ =~ aCell,\n\t  \"#{aCell}\" and so on.\n\n\t* test/csv/test_csv.rb: add tests.\n\nFri Dec 12 19:33:06 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir): remove trailing `/' from pathes.\n\n\t* lib/fileutils.rb (rmdir): ditto. [ruby-dev:22238]\n\n\t* lib/fileutils.rb (rmdir_r): ditto.\n\n\t* lib/fileutils.rb (fu_copy_dir): check if it is a directory after\n\t  mkdir(2).\n\nFri Dec 12 06:06:09 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (proc_invoke): fix class name in warning message for\n\t  define_method.  [ruby-dev:22235]\n\nThu Dec 11 21:24:43 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkcs12.[ch]: new files. add OpenSSL::PKCS12.\n\n\t* ext/openssl/ossl.[ch]: ditto.\n\n\t* ext/openssl/MANIFEST: add ossl_pkcs12.[ch].\n\nThu Dec 11 20:54:28 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir_p): remove trailing `/' befere mkdir(2).\n\t  mkdir(\"nonexistdir/\") does not work on NetBSD/Alpha 1.6.1.\n\n\t* lib/fileutils.rb (fu_list): call to_str for all arguments.\n\nThu Dec 11 20:07:01 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/ftools.rb (makedirs): sync with fileutils.\n\nThu Dec 11 19:53:03 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir_p): catch all SystemCallErrors.\n\t  (mkdir(\"C:\\\") causes EACCESS on Windows 2000/NTFS)\n\nThu Dec 11 19:08:02 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir_p): check if it is a directory after\n\t  mkdir(2) instead of before mkdir(2), to avoid race condition.\n\t  [ruby-talk:87730]\n\t  Refer: mkinstalldirs sh script, GNU mkdir(1) (coreutils 5.0)\n\nThu Dec 11 18:49:30 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: def m( arg ) -> def m(arg).\n\nThu Dec 11 11:39:43 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ieeefp.h), numeric.c: needed for finite() on\n\t  Solaris.  [ruby-core:01921]\n\n\t* file.c (rb_stat_inspect): adjust format specifier.\n\n\t* parse.c (arg_prepend): nodetype() is for debug use.\n\n\t* ruby.h (ISASCII, etc): cast to int to get rid of warning.\n\n\t* ruby.h (alloca.h): include even in GCC.  [ruby-core:01925]\n\n\t* ext/bigdecimal/bigdecimal.c (GetVpValue): adjust format\n\t  specifier.\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_prec, BigDecimal_coerce,\n\t  BigDecimal_divmod): use rb_assoc_new() to suppress memory usage.\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_split): ditto.\n\n\t* ext/dl/sym.c (rb_dlsym_guardcall): guard itself should be\n\t  volatile.\n\n\t* ext/iconv/iconv.c (iconv_convert): ensure actual parameter with\n\t  format specifier.\n\n\t* ext/pty/pty.c (MasterDevice, SlaveDevice, deviceNo): do not\n\t  define unless used.\n\n\t* ext/pty/pty.c (getDevice): get rid of warning.\n\n\t* ext/socket/socket.c (port_str, sock_s_getaddrinfo,\n\t  sock_s_getnameinfo): FIX2INT() now returns long.\n\n\t* ext/socket/socket.c (init_inetsock_internal): uninitialized\n\t  variable.\n\n\t* ext/syck/rubyext.c (syck_parser_assign_io): add prototype.\n\n\t* ext/syck/rubyext.c (rb_syck_mktime, yaml_org_handler): use\n\t  ISDIGIT() instead of isdigit() to avoid warnings and for\n\t  platforms which don't support non-ascii charater.\n\nWed Dec 10 19:28:56 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): set EOF flag at short read.\n\t  [ruby-dev:22223], [ruby-dev:22224]\n\nWed Dec 10 18:07:25 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/erb.rb: new method ERB#filename(=). [ruby-dev:22208]\n\nWed Dec 10 17:54:51 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): do not set EOF flag when\n\t  requested length is zero.  [ruby-dev:22214]\n\nWed Dec 10 17:17:18 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): should return given string even if data read is\n\t  empty.  [ruby-dev:22207]\n\nWed Dec 10 17:16:06 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): adjust behavior at reading\n\t  beyond EOF to IO.  [ruby-dev:22205]\n\n\t* test/ruby/ut_eof.rb (TestEOF::Seek): test behaviors at reading\n\t  beyond EOF.\n\n\t* test/ruby/test_file.rb, test/stringio/test_stringio.rb: include\n\t  TestEOF::Seek test case.\n\nWed Dec 10 15:01:19 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/monitor/test_monitor.rb (test_cond): use Queue#deq\n\t  instead of sleep.\n\nWed Dec 10 14:45:39 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/pty/pty.c (HAVE_SYS_IOCTL_H): need to include <sys/ioctl.h>\n\t  for TIOCSCTTY on *BSD.  based on gotoyuzo's patch.\n\t  (ruby-bugs:PR#1211)\n\n\t* ext/pty/pty.c (establishShell): should close descriptors if fork\n\t  failed.\n\nWed Dec 10 12:53:05 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* win32/win32.h: define execv() using do_aspawn().\n\n\t* process.c (proc_exec_v): remove #ifdef's which stopped needing.\n\nTue Dec  9 23:32:23 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tkcanvas.rb, ext/tk/lib/tkdialog.rb,\n\t  ext/tk/lib/tkentry.rb, ext/tk/lib/tkscrollbox.rb, ext/tk/lib/tktext.rb,\n\t  ext/tk/sample/tkalignbox.rb, ext/tk/sample/tkcombobox.rb,\n\t  ext/tk/sample/tkmultilistbox.rb, ext/tk/sample/tkoptdb.rb, ext/tk/sample/tktextframe.rb,\n\t  ext/tk/sample/demos-en/dialog1.rb, ext/tk/sample/demos-en/dialog2.rb,\n\t  ext/tk/sample/demos-jp/dialog1.rb, ext/tk/sample/demos-jp/dialog2.rb:\n\t  overrided instance methods, which are private methods on the super\n\t  class, are changed to 'private'\n\nTue Dec  9 19:53:02 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic#route_from0): make case insensitive\n\t  for host-part.\n\n\t* test/uri/test_generic.rb (test_route): added tests for the above\n\t  change.\n\nTue Dec  9 14:10:48 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_io_check_readable): don't call io_seek if EOF flag is set,\n\t  to avoid clearing EOF flag.\n\t  (rb_io_check_writable): ditto.\n\nTue Dec  9 02:53:55 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkalignbox.rb: new sample script\n\nTue Dec  9 00:45:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: renamed #assert_raises to #assert_raise\n\t  and made the former call the latter. [ruby-core:01890]\n\n\t* test/testunit/test_assertions.rb: ditto.\n\nTue Dec  9 00:07:35 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/rpc/standaloneServer.rb: add 'shutdown' and 'status'\n\t  methods as delegates to WEBrick.\n\n\t* test/soap/calc/{test_calc.rb,test_calc2.rb},\n\t  test/soap/helloworld/test_helloworld.rb,\n\t  test/wsdl/datetime/test_datetime.rb, test/wsdl/raa/test_raa.rb:\n\t  follow the change.\n\nMon Dec  8 22:48:03 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/autorunner.rb: remove dependency to a particular\n\t  runner.  [ruby-core:01901], [ruby-list:38869]\n\n\t* lib/test/unit/ui/testrunnerutilities.rb: moved output level\n\t  constants from Console.\n\n\t* lib/test/unit/ui/console/testrunner.rb: ditto.\n\n\t* lib/test/unit/ui/{fox,gtk,gtk2,tk}/testrunner.rb (initialize):\n\t  accept output_level.\n\nMon Dec  8 15:03:30 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/syck.c (syck_io_str_read): get rid of buffer overflow.\n\nMon Dec  8 13:02:11 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/uri/common.rb: new method URI.regexp. [ruby-dev:22121]\n\n\t* test/uri/test_common.rb: add test for URI.regexp.\n\nMon Dec  8 12:44:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c: define swap16 and swap32 only if they are not\n\t  defined. OpenBSD defines these macros. [ruby-dev:22181]\n\nSun Dec  7 20:54:17 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/iconv/iconv.c (map_charset): make case sensitive.\n\t  ext/iconv/charset_alias.rb (charset_alias): don't ignore\n\t  config.charset's information.  sort aliases.\n\nSat Dec  6 22:58:03 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_start_ssl): new function to wrap\n\t  SSL_connect and SSL_accept; if SSL_connect (or SSL_accept) returned\n\t  but not finished the handshake process, we should retry it.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_connect): call ossl_start_ssl.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_accept): ditto.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_read): allow signal traps.\n\nSat Dec  6 21:45:10 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (flush_before_seek): flush before seek on any platform.\n\n\t* configure.in: ditto.\n\nSat Dec  6 17:23:00 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/soap.rb(SOAP::Env.getenv): allow upcase environment variable\n\t  as well as downcase one.\n\n\t* lib/soap/netHttpClient.rb(SOAP::NetHttpClient#proxy=): check URI.\n\nFri Dec  5 23:22:30 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb (Test::Unit::Assertions::assert_raises,\n\t  Test::Unit::Assertions::assert_nothing_raised): use the last\n\t  argument as message unless class object.\n\n\t* test/testunit/test_assertions.rb (test_assert_raises): test for\n\t  multiple exception list.  [ruby-core:01891]\n\n\t* test/testunit/test_assertions.rb (test_assert_nothing_raised): test\n\t  for non-exception classes.\n\nFri Dec  5 22:23:04 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/netHttpClient.rb: proxy support did not work.  fixed.\n\n\t* lib/soap/property.rb: add class methods for loading property from\n\t  stream/file/propertyfile.  propertyfile is a file which is located at\n\t  somedir in $:.\n\n\t* lib/soap/soap.rb, lib/soap/wsdlDriver.rb, lib/soap/rpc/driver.rb,\n\t  lib/wsdl/importer.rb: load property from propertyfile 'soap/property'\n\t  e.g. /usr/local/lib/ruby/site_ruby/1.8/soap/property.\n\n\t* test/soap/test_property.rb, test/soap/test_streamhandler.rb: new file.\n\nFri Dec  5 17:26:23 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_exec_end_proc): maintain tmp_end_procs.\n\t  [ruby-dev:22154]\n\nFri Dec  5 13:36:59 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_exec_end_proc): should not clear end_procs and\n\t  ephemeral_end_procs before execution. [ruby-dev:22144]\n\n\t* eval.c (rb_obj_extend): call Module#extended hook after\n\t  extended_object.  [ruby-list:38866]\n\n\t* object.c (Init_Object): Module#extended defined.\n\nFri Dec  5 13:17:30 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* test/ruby/test_pipe.rb: use IO.pipe instead of IO.popen.\n\nFri Dec  5 11:54:45 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): follow IO#read.\n\n\t* test/ruby/ut_eof.rb, test/ruby/test_file.rb, test/ruby/test_pipe.rb,\n\t  test/stringio/test_stringio.rb: add EOF test.\n\nFri Dec  5 02:49:35 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb (Test::Unit::Assertions::assert_raises):\n\t  allow multiple exception list.  [ruby-core:01884]\n\n\t* lib/test/unit/assertions.rb (Test::Unit::Assertions::assert_nothing_raised):\n\t  check whether arguments are subclass of Exception.\n\nThu Dec  4 23:54:00 2003  Rick Ohnemus  <rick.ohnemus@systemware.com>\n\n\t* dln.c (aix_loaderror): should not use member named 'errno' which\n\t  might be a macro (e.g. on AIX).\n\nThu Dec  4 23:32:26 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): do not depend on lseek position.\n\t  [ruby-dev:22026]\n\nThu Dec  4 22:37:26 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): preserve $! value when retry happens in the\n\t  rescue clause.  [ruby-talk:86697]\n\nThu Dec  4 21:50:07 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/drb/drb.rb (DRb::DRbMessage::send_request, send_reply):\n\t  should rescue errors and re-raise DRbConnError on write too.\n\t  [ruby-dev:22132]\n\nThu Dec  4 16:41:17 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (exc_list): allow expanding list.  [ruby-dev:22134]\n\nThu Dec  4 14:09:24 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (test_cp): test if the error is\n\t  kind of SystemCallError.  It is needless details that which errno\n\t  is set on each systems.\n\nThu Dec  4 13:24:13 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb: use Object#__send__ instead of Object#send.\n\nThu Dec  4 13:17:45 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/streamHandler.rb: support latest released version of\n\t  http-access2.\n\nThu Dec  4 13:04:44 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/soap.rb: add SOAP::Env module for environment repository\n\t  such as HTTP_PROXY.\n\n\t* lib/soap/property.rb: property implementation.\n\n\t* lib/soap/streamHandler.rb, lib/soap/wsdlDriver.rb,\n\t  lib/soap/rpc/driver.rb: use soap/property.rb.\n\n\t* lib/wsdl/importer.rb, lib/soap/wsdlDriver.rb, lib/soap/rpc/driver.rb:\n\t  use SOAP::Env.\n\n\t* lib/soap/netHttpClient.rb: add basic_auth, ssl_config, and cookie\n\t  management interface, but ignored for now.\n\n\t* lib/xsd/charset.rb: add XSD::Charset.encoding= interface to set\n\t  wiredump charset explicitly.  it was fixed to 'utf-8' when iconv or\n\t  uconv module was found.\n\nThu Dec  4 10:43:58 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/dl/sym.c (rb_dlsym_guardcall): __declspec(noinline) is VC7\n\t  feature.\n\nThu Dec  4 10:27:12 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: update hyperlink to the Japanese document.\n\nThu Dec  4 09:12:43 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (asn1time_to_time): should check that\n\t  the underlying value of ASN1_TIME isn't NULL. [ruby-core:01881]\n\nThu Dec  4 08:29:43 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (GenericServer#start): should rescue\n\t  Exception to avoid unexpected aborting. [ruby-core:01853]\n\n\t* lib/webrick/server.rb (GenericServer#start_thread): should check\n\t  that peeraddr isn't nil before printing.\n\n\t* lib/webrick/httpresponse.rb (HTTPResponse#start_thread): should\n\t  rescue Exception to avoid unexpected aborting of thread.\n\nThu Dec  4 03:48:59 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#link, Pathname#symlink): obsoleted.\n\t  (Pathname#make_link, Pathname#make_symlink): new method.\n\nThu Dec  4 01:45:24 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_read): should not terminate on empty string; wait\n\t  until real EOF.  [ruby-dev:21969]\n\n\t* io.c (argf_read): should adjust length to read, when length is\n\t  specified and read spans command line argument files.\n\nWed Dec  3 19:38:36 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: correct fcntl parameter. [ruby-dev:22120]\n\nWed Dec  3 13:49:07 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: 'format'==>'Kernel.format' (avoid override trouble)\n\n\t* ext/tk/lib/tkafter.rb: ditto.\n\n\t* ext/tk/lib/tkcanvas.rb: ditto.\n\n\t* ext/tk/lib/tkdialog.rb: ditto.\n\n\t* ext/tk/lib/tktext.rb: ditto.\n\nWed Dec  3 13:28:13 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (lex.c): try gperf first, and copy from the source\n\t  directory if failed.  [ruby-dev:22123]\n\n\t* ext/extmk.rb (MTIMES): let makefiles depend to mkmf.rb.\n\n\t* lib/mkmf.rb (configuration): DLDFLAGS was duplicated.\n\nTue Dec  2 23:18:12 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: wrote the warning about HTTP_PROXY environment\n\t  variable.\n\nTue Dec  2 21:31:42 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bin/testrb: new test runner.  [ruby-core:01845]\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner.run,\n\t  Test::Unit::AutoRunner#process_args): take test list to run and\n\t  options.\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner::RUNNERS,\n\t  Test::Unit::AutoRunner#run): should not exit inside a library,\n\t  just return the result instead.\n\n\t* lib/test/unit.rb: ditto.\n\n\t* test/runner.rb: exit with the test result.\n\nTue Dec  2 20:18:48 2003  Eric Sunshine  <sunshine@sunshineco.com>\n\n\t* configure.in (AC_PROG_YACC): AC_DEFINE(OLD_YACC) if Yacc is found\n\t  instead of Bison or byacc.\n\n\t* parse.y: If OLD_YACC is defined, ensure that YYMAXDEPTH is at least\n\t  10000 (Bison's default) since some old versions of Yacc define it as\n\t  low as 150 by default, which is too low for Ruby to parse some files,\n\t  such as date/format.rb.  Among other issues, the parse problem causes\n\t  \"make test\" to fail.\n\nTue Dec  2 20:03:20 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: check if Pathnames are usable\n\t  for arguments.\n\nTue Dec  2 04:22:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: fixed #assert_no_match message.\n\n\t* test/testunit/test_assertions.rb: ditto.\n\nTue Dec  2 00:43:00 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/syck.c: string buffering bug.  decrementing by full\n\t  max_size now. [ruby-core:01834]\n\nMon Dec  1 21:33:08 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (num_sadded): prohibit singleton method definition for\n\t  Numerics.  fill yet another gap between Fixnum and Bignum.\n\nMon Dec  1 17:33:47 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (htov16): converts endian using swap16. htov32(), hton16,\n\t  hton32 as well. [ruby-talk:85377]\n\n\t* pack.c (swap16): swap 2 bytes no matter how big short is on the\n\t  platform.  swap32() is also prepared.\n\n\t* numeric.c (rb_num2int): returns long to preserve information.\n\t  rb_fix2int(), rb_num2uint(), rb_fix2uint() as well.\n\t  [ruby-talk:85377]\n\n\t* numeric.c (rb_num2uint): should not check for value range if the\n\t  source value is negative.\n\nMon Dec  1 17:14:34 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sample/optparse/opttest.rb: added.\n\nMon Dec  1 16:10:52 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb: (etc) initial merge into main tree.\n\nMon Dec  1 14:17:49 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_each_src_dest0): call #to_str to allow\n\t  Pathname for arguments. [ruby-core:01795]\n\n\t* test/fileutils/test_fileutils.rb: does much strict test on\n\t  \"same\" files detecting.\n\nMon Dec  1 09:28:14 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub\n\t  (XCFLAGS): re-export $(XCFLAGS).\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub\n\t  (ARCH_FLAG): export $(ARCH_FLAG) (perhaps empty value).\n\nMon Dec  1 01:03:27 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/mkmf.rb (TRY_LINK, link_command): added support for DLDFLAGS\n\t  and ARCH_FLAG.  [ruby-dev:22085]\n\nSun Nov 30 20:18:07 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: keep ARCH_FLAG separate. export ARCH_FLAG.\n\t  [ruby-core:01819]\n\n\t* Makefile.in: add ARCH_FLAG to CFLAGS.\n\n\t* Makefile.in: add @CPPFLAGS@ to CPPFLAGS.\n\n\t* lib/mkmf.rb (link_command, cc_command): use ARCH_FLAG.\n\n\t* lib/mkmf.rb (configuration): add ARCH_FLAG to DLDFLAGS.\n\n\t* Makefile.in: add ARCH_FLAG to DLDFLAGS.\n\n\t* configure.in: should put getcwd in AC_CHECK_FUNCS, not\n\t  AC_REPLACE_FUNCS.  [ruby-core:01826]\n\nSun Nov 30 18:22:48 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: do not override CCDLDFLAGS, LDFLAGS, XLDFLAGS,\n\t  DLDFLAGS and LDSHARED.\n\n\t* configure.in: XCFLAGS for compiling ruby itself.  ARCH_FLAG is\n\t  reflected in CFLAGS.\n\n\t* lib/mkmf.rb: ditto.  do not import XCFLAGS from config.status.\n\nSun Nov 30 17:37:36 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: bug fix [ruby-talk:86746]\n\nSun Nov 30 13:02:00 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/encodingstyle/soapHandler.rb: refactoring - Simplifying\n\t  Conditional Expressions.\n\n\t* lib/wsdl/soap/definitions.rb: refactoring - Move Method.\n\n\t* test/xsd/{test_noencoding.rb,noencoding.xml}: new files.  test for\n\t  encoding unspecified XML file parsing.\n\n\t* test/wsdl/{test_fault.rb,map,datetime}: new files.  test of\n\t  SOAPFault, dateTime and Apache's Map.\n\nSun Nov 30 09:35:14 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_update): get rid of SEGV at just allocated String.\n\t  [ruby-core:01812]\n\nFri Nov 28 23:19:34 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_mark): explicitly check mark recursion levels, instead\n\t  of unreliable stack length.\n\nFri Nov 28 22:49:56 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb: fix TupleSpaceProxy#read, read_all.\n\nFri Nov 28 21:44:40 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/fileutils/test_fileutils.rb (test_ln_s): should be a file, not\n\t  a directory for FreeBSD.\n\nFri Nov 28 19:37:56 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (env_has_value, env_index): must match exactly.\n\n\t* test/ruby/test_env.rb (test_has_value, test_index): condition for\n\t  aboves.\n\nFri Nov 28 17:59:20 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_env.rb: add tests for ENV.\n\nFri Nov 28 17:47:46 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRbMessage#load): rescue Errno::* and raise\n\t  DRbConnError.\n\nFri Nov 28 15:41:15 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#realpath): obsolete the force_absolute\n\t  argument.\n\nFri Nov 28 14:41:52 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/streamHandler.rb: drop unused http parameters.\n\n\t* lib/soap/encodingstyle/soapHandler.rb, lib/soap/mapping/factory.rb,\n\t  lib/soap/mapping/mapping.rb, lib/soap/mapping/registry.rb,\n\t  lib/wsdl/soap/complexType.rb: ApacheSOAP's map support was broken\n\t  under WSDL dynanic client environment.  fixed.\n\n\t* test/wsdl/raa/*: add tests.\n\n\t* lib/xsd/datatypes.rb: dateTime precision bug fix (at least, I hope.)\n\t  bug of soap4r.  XSDDateTimeImple.to_time passed a Float to\n\t  Time.local/Time.gm as an usec, and NUM2LONG(rb_num2long for Float)\n\t  causes rounding error.\n\n\t* test/soap/test_basetype.rb, test/xsd/test_xsd.rb: add tests.\n\nFri Nov 28 04:15:24 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (method_arity): used wrong Proc object.  [ruby-talk:86504]\n\nFri Nov 28 00:47:29 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_f_exit), process.c (rb_f_exit_bang): treat true as\n\t  success, false as failure.  [ruby-dev:22067]\n\n\t* eval.c (rb_f_abort, rb_thread_switch), process.c (rb_f_system): use\n\t  ANSI macro instead of hard coded value.\n\n\t* eval.c (rb_f_exit), process.c (rb_f_exit_bang): use VALUEs not but\n\t  TYPEs.\n\nThu Nov 27 22:05:48 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* eval.c, gc.c: FreeBSD/ia64 currently does not have a way for a\n\t  process to get the base address for the RSE backing store, so\n\t  hardcode it for the moment.\n\t  [submitted by: Marcel Moolenaar <marcel@FreeBSD.org>]\n\nThu Nov 27 17:36:42 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkafter.rb: bug fix on TkTimer#cancel_on_exception=(mode).\n\t  TkTimer#wait recieves the exception of the callback.\n\t  The exception is kept on @return_value.\n\nThu Nov 27 16:58:48 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_stat): remove _fullpath() for NUL: device.\n\nWed Nov 26 15:38:47 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/fileutils/test_fileutils.rb (test_ln_s): should take the\n\t  existing symbolic link for OpenBSD.\n\nWed Nov 26 04:48:42 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/token.c: removed YYTOKTMP references which\n\t  were causing buffer overflows on large block scalars,\n\t  comments, quoted scalars and plain scalars.\n\n\t* ext/syck/rubyext.c: dynamic changing of buffer size.\n\n\t* ext/syck/syck.h: default buffer size of 4k.\n\nWed Nov 26 00:55:30 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpresponse.rb: add HTTPResponse#keep_alive=.\n\n\t* lib/webrick/httpserver.rb (HTTPServer#run): should pass the\n\t  request's keep_alive flag to the response.\n\nTue Nov 25 21:41:35 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* defines.h (ENV_IGNORECASE): should define when DOSISH without\n\t  human68k. [ruby-dev:22047]\n\n\t* hash.c (env_has_value, env_index): don't ignore case of value.\n\t  [ruby-dev:22048]\n\nTue Nov 25 21:39:37 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (path_check_1): honor sticky bits always.\n\t  [ruby-talk:86273]\n\nTue Nov 25 20:02:14 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: do test in more deep\n\t  directory.\n\n\t* test/fileutils/test_nowrite.rb: ditto.\n\nTue Nov 25 19:04:23 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): ENV case sensitivity test\n\t  refined.\n\nTue Nov 25 18:13:30 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: chdir Dir.tmpdir before each\n\t  test. [ruby-dev:22045]\n\n\t* test/fileutils/test_nowrite.rb: ditto.\n\nTue Nov 25 17:52:11 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): use http_proxy under CGI\n\t  if the environment variable is case sensitive.\n\nTue Nov 25 16:41:33 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/wsdl/multiplefault.wsdl, test/wsdl/test_multiplefault.rb:\n\t  removed.  this test requires extra libraries in soap4r/1.5.*.\n\nTue Nov 25 16:24:42 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/**/*.rb, lib/wsdl/**/*.rb, lib/xsd/**/*.rb: changed license;\n\t  GPL2 -> Ruby's.\n\n\t* lib/soap/rpc/driver.rb, lib/soap/wsdlDriver.rb,\n\t  lib/soap/streamHandler.rb: add interface to streamhandler.\n\n\t* lib/soap/marshal.rb: raise error if parse fails.\n\n\t* lib/soap/netHttpClient.rb: add https support.  Patched by\n\t  Oliver M. Bolzer.\n\n\t* lib/soap/netHttpClient.rb: dump HTTP response message body by itself.\n\n\t* lib/soap/rpc/driver.rb, lib/soap/rpc/proxy.rb,\n\t  lib/soap/wsdlDriver.rb: add driver#mandatorycharset interface to foce\n\t  using charset for parsing response from buggy server.\n\n\t* lib/soap/encodingstyle/soapHandler.rb: support Apache Axis's half\n\t  typed multi-ref array.\n\n\t* lib/soap/mapping/factory.rb, lib/soap/mapping/registry.rb: map\n\t  SOAPStruct which has multi-accessors which name are the same, to an\n\t  array.\n\n\t* lib/soap/rpc/element.rb: fixed illegal parameter order.\n\n\t* lib/soap/rpc/element.rb: element name of response message could have\n\t  the name other than 'return'.\n\n\t* lib/wsdl/operation.rb, lib/wsdl/operationBinding.rb,\n\t  lib/wsdl/soap/classDefCreator.rb, lib/wsdl/soap/methodDefCreator.rb,\n\t  lib/wsdl/soap/methodDefCreatorSupport.rb: WSDL/1.1 allows plural\n\t  fault definition in a operation. [ruby-talk:84948]\n\n\t* test/wsdl/multiplefault.wsdl, test/wsdl/test_multiplefault.rb: add\n\t  test for above fix.\n\n\t* lib/wsdl/soap/complexType.rb: support WSDL array definition with\n\t  maxOccures=\"unbound\".\n\n\t* lib/xsd/charset.rb: use cp932 under emx.  Patched by\n\t  Siena. / SHINAGAWA, Norihide in [ruby-dev:21972]\n\n\t* lib/xsd/xmlparser/parser.rb: set @charset nil by default.  Nil means\n\t  'follow encoding declaration in XML'.\n\n\t* sample/soap/digraph.rb, sample/wsdl/amazon/wsdlDriver.rb,\n\t  sample/wsdl/googleSearch/sampleClient.rb,\n\t  sample/wsdl/googleSearch/wsdlDriver.rb,\n\t  test/wsdl/test_emptycomplextype.rb,\n\t  test/wsdl/marshal/test_wsdlmarshal.rb,\n\t  test/xsd/test_xmlschemaparser.rb: use File.open(...) { |f| f.read }\n\t  instead of File.open(...).read. [ruby-dev:21964]\n\n\t* test/wsdl/emptycomplextype.wsdl, test/wsdl/test_emptycomplextype.rb:\n\t  simplify the test case.\n\n\t* test/wsdl/axisArray/*: add tests for axis's array encoding.\n\nTue Nov 25 16:15:29 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ruby.h: don't treat Cygwin as Windows.\n\nTue Nov 25 15:18:28 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in: change default value of --enable-pthread (default: no)\n\nTue Nov 25 07:31:16 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (primary): allow newlines just before right argument\n\t  parenthesis.  (ruby-bugs:PR#1221)\n\nMon Nov 24 23:32:06 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_loop, URI::HTTP#proxy_open): use\n\t  catch/throw for redirection instead of exception.\n\t  (OpenURI.open_loop, OpenURI.redirectable?): restrict redirection.\n\nMon Nov 24 19:59:48 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): use CGI_HTTP_PROXY\n\t  instead of HTTP_PROXY in the CGI environment.\n\nMon Nov 24 19:32:55 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/etc/extconf.rb: check for pw_passwd in struct passwd and\n\t  gr_passwd in struct group for DJGPP.\n\n\t* ext/etc/etc.c: ditto.\n\n\t* ext/Setup.dj: support for curses, etc, zlib.\n\nMon Nov 24 17:00:00 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: validate option names.\n\t  :content_length_proc and :progress_proc option implemented.\n\nMon Nov 24 14:53:10 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub\n\t  (XCFLAGS): output empty value instead of `-DRUBY_EXPORT'.\n\nSat Nov 22 23:09:45 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: set enable_pthread to no on MinGW.\n\nSat Nov 22 22:56:20 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in: add --enable-pthread option (default: yes)\n\nSat Nov 22 22:48:46 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add Tk.grab_release and fix bug of TkComposite\n\n\t* ext/tk/lib/tkafter.rb: bug fix of TkAfter#start\n\n\t* ext/tk/sample/tkcombobox.rb: new sample script\n\n\t* ext/tcltklib/tcltklib.c: add native thread check\n\nSat Nov 22 18:49:47 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/curses/curses.c (window_nodelay): nodelay() of NetBSD's\n\t  libcruses returns no value, just like keypad().\n\nSat Nov 22 17:36:36 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub\n\t  (HAVE_GETCWD): output to config.h.\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub\n\t  (XCFLAGS): output to config.status.\n\nSat Nov 22 13:10:10 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (have_st_ino?): djgpp has valid st_ino.\n\nSat Nov 22 11:28:48 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (Init_stack): stack region is far smaller than usual if\n\t  pthread is used.\n\nSat Nov 22 07:30:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/util/backtracefilter.rb: fixed a bug that occurred\n\t  when an exception had no backtrace.\n\n\t* test/testunit/util/test_backtracefilter.rb: ditto.\n\nFri Nov 21 16:44:18 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkentry.rb: fix the encoding trouble of percent\n\t  substitutions on validatecommand option of TkEntry widget\n\n\t* ext/tk/lib/tk.rb: fix bug on {pack|grid}_propagate() method\n\nFri Nov 21 16:12:11 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ruby.1: Fix markups and grammar.\n\nFri Nov 21 14:49:42 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* ruby.1: wrote about ruby related environment variables.\n\nFri Nov 21 12:28:03 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_extended): singleton methods should not be checked\n\t  when dumping via marshal_dump() or _dump(). [ruby-talk:85909]\n\nFri Nov 21 01:40:00 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in: check <pthread.h>\n\n\t* ruby.h: include pthread.h if existence.\n\t  define is_ruby_native() macro when not HAVE_NATIVETHREAD\n\n\t* eval.c: undef is_ruby_native() function when not HAVE_NATIVETHREAD\n\nFri Nov 21 00:43:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: use #__send__ instead of #send.\n\n\t* lib/test/unit/testcase.rb: ditto.\n\nThu Nov 20 19:19:22 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: don't find the Cygwin's pthread library on MinGW.\n\nThu Nov 20 19:15:50 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (have_st_ino?): emx (OS/2 with EMX) does not\n\t  have st_ino (always 0). [ruby-dev:21972]\n\n\t* lib/fileutils.rb (rename_cannot_overwrite_file?): emx does not\n\t  allow overwriting files by rename(2).\n\n\t* test/fileutils/test_fileutils.rb: windows? ->\n\t  have_drive_letter?, have_file_perm?\n\nThu Nov 20 17:50:58 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkballoonhelp.rb: new sample script\n\n\t* ext/tk/sample/tkmultilistbox.rb: ditto\n\n\t* ext/tk/sample/tktextframe.rb: ditto\n\nThu Nov 20 13:37:34 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ruby.h: define is_ruby_native_thread() for no native thread\n\t  environment\n\n\t* eval.c: ditto\n\nThu Nov 20 12:42:47 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in: always check existence of the pthread library\n\n\t* ruby.h: define macros for ruby's native thread check\n\n\t* eval.c: add ruby's native thread check\n\n\t* gc.c: ditto\n\nWed Nov 19 14:45:18 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (to_ary): print more friendly warning message.\n\nWed Nov 19 14:32:08 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_same?): add djgpp and wince.\n\n\t* lib/fileutils.rb (cannot_overwrite_file?): add wince.\n\nWed Nov 19 11:04:47 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/fileutils.rb (cannot_overwrite_file?, have_st_ino?): bccwin32\n\t  is same as mswin32.\n\nWed Nov 19 07:54:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit.rb: do not run tests if $! is set.\n\n\t* lib/test/unit/assertionfailederror.rb: extend StandardError instead\n\t  Exception (irb catches the former but not the latter).\n\nTue Nov 18 23:31:36 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* missing/memmove.c (memmove): take void *, not char *.\n\n\t* missing.h (memmove): ditto.\n\n\t* missing.h (strchr, strrchr): return char *, not int.\n\nTue Nov 18 22:20:10 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_same?): temporal fix for windows.\n\nTue Nov 18 19:05:04 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_same?): check by inode instead of path\n\t  name, to detect two hard links pointing to the same content.\n\n\t* test/fileutils.rb: did not create correctly looped symlinks.\n\nTue Nov 18 18:23:05 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): behave as IO at empty string.\n\t  [ruby-dev:21939], [ruby-dev:21941]\n\n\t* ext/stringio/stringio.c (strio_getc, strio_getline): set EOF flag.\n\n\t* ext/stringio/stringio.c (strio_rewind, strio_seek, strio_ungetc):\n\t  clear EOF flag.\n\n\t* test/stringio/test_stringio.rb: imported from [ruby-dev:21941].\n\nTue Nov 18 14:06:35 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_each_src_dest): raise if src==dest.\n\t  [ruby-talk:85344] [ruby-core:01699]\n\n\t* lib/fileutils.rb: use Object#is_a? instead of Class#=== to allow\n\t  e.g. remote objects for receivers.\n\n\t* lib/fileutils.rb: FileTest -> File.\n\n\t* lib/fileutils.rb: put parentheses for arguments of File.xxxx?\n\n\t* test/fileutils/test_fileutils.rb (test_cp): test \"cp a a\".\n\n\t* test/fileutils/test_fileutils.rb (test_mv): test \"mv a a\".\n\n\t* test/fileutils/test_fileutils.rb (test_ln): test \"ln a a\".\n\n\t* test/fileutils/test_fileutils.rb (test_ln_s): test \"ln_s a a\".\n\n\t* test/fileutils/test_fileutils.rb (test_install): test \"install a a\".\n\n\t* test/fileutils/fileasserts.rb: new method assert_symlink.\n\n\t* test/fileutils/fileasserts.rb: assert_is_directory -> assert_directory.\n\nMon Nov 17 19:38:49 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (getcwdofdrv): avoid using getcwd() directly, use\n\t  my_getcwd() instead.\n\n\t* merged NeXT, OpenStep, Rhapsody ports patch from Eric Sunshine\n\t  <sunshine@sunshineco.com>.  [ruby-core:01596]\n\nMon Nov 17 10:50:27 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Completion::complete): allow least\n\t  common completion for three or more candidates.\n\nMon Nov 17 09:41:38 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/ui/tk/testrunner.rb,\n\t  lib/test/unit/ui/gtk/testrunner.rb:\n\t  run GUI main loop in sub thread.\n\n\t* lib/test/unit/ui/gtk2/testrunner.rb: imported from rough.\n\n\t* lib/test/unit/autorunner.rb (keyword_display): sort keywords.\n\nSun Nov 16 18:10:57 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): iterator should return value from next inside\n\t  begin/rescue/end.  (ruby-bugs:PR#1218)\n\nSun Nov 16 13:26:07 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): LINK check earlier than anything else,\n\t  i.e. do not dump TYPE_IVAR for already dumped objects.\n\t  (ruby-bugs:PR#1220)\n\n\t* eval.c (rb_eval): call \"inherited\" only when a new class is\n\t  generated; not on reopening.\n\n\t* eval.c (eval): prepend error position in evaluating string to\n\t  \"mesg\" attribute string only when it's available and is a\n\t  string.\n\nSun Nov 16 12:16:10 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb: logging response body. [experimental]\n\t  [ruby-list:38800]\n\nSun Nov 16 10:49:38 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/thread.rb (Thread.exclusive): wrap method definition in\n\t  class Thread to enable rdoc to process.\n\nSun Nov 16 09:45:23 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (set_debug_output): warn if method is called\n\t  after #start.  [ruby-dev:38798]\n\nSun Nov 16 04:41:33 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (eval): do not re-raise exception to avoid unnecessary\n\t  exception copying, instead modify exception and internal\n\t  information to adjust eval().\n\n\t* eval.c (backtrace): can return the current frame information\n\t  only if lev < -1.\n\nSat Nov 15 22:16:42 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* /ext/openssl/ossl_x509ext.c (ossl_x509extfactory_create_ext):\n\t  refine error message.\n\nSat Nov 15 10:05:40 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_loop, OpenURI::HTTP#proxy_open):\n\t  refactored to support options.\n\t  (Buffer): maintain size by this class.\n\nSat Nov 15 07:40:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_method_node): new API to retrieve method body.\n\nFri Nov 14 13:21:30 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix (en-bugged at 2003/11/07)\n\n\t* ext/tk/lib/tkdialog.rb: TkDialog.new accepts a parent widget\n\t  argument [ruby-talk:85066]\n\nThu Nov 13 20:53:35 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (Kernel[#.]open): hard coded URI schemes removed.\n\t  [ruby-ext:02251]\n\nThu Nov 13 19:17:00 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* lib/test/unit/ui/tk/testrunner.rb: use grid and panedwindow\n\t  (if available)\n\nThu Nov 13 17:56:41 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_uri): use File::RDONLY.\n\t  reported by Take_tk <ggb03124@nifty.ne.jp>.\n\t  [ruby-ext:02245]\n\nThu Nov 13 16:45:53 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509req.c (ossl_x509req_to_der): add function for\n\t  X509::Request#to_der.\n\nThu Nov 13 11:31:14 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Completion#complete): prior shorter\n\t  name to containing longer name.\n\nThu Nov 13 06:08:54 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: stop freezing some classes\n\n\t* ext/tk/lib/multi-tk.rb: ditto.\n\nWed Nov 12 17:32:49 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb (assert_throws, assert_nothing_thrown):\n\t  uncaught throw in sub thread raises ThreadError.\n\n\t* lib/test/unit/ui/tk/testrunner.rb (setup_ui): \"expand\" is not\n\t  necessary.\n\nWed Nov 12 14:09:43 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/monitor/test_monitor.rb: fix the timing problem by Queue.\n\nWed Nov 12 12:59:44 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/monitor/test_monitor.rb: added.\n\nWed Nov 12 10:14:28 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb: refactored. Thanks, Gennady Bystritsky.\n\nWed Nov 12 06:11:39 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.c (ossl_x509_sk2ary, ossl_x509crl_sk2ary):\n\t  add functions to convert STACK into Array.\n\n\t* ext/openssl/ossl.h: add prototypes.\n\n\t* ext/openssl/ossl_pkcs7.c (ossl_pkcs7_set_certificates,\n\t  ossl_pkcs7_get_certificates, ossl_pkcs7_get_crls,\n\t  ossl_pkcs7_set_crls): add functions for PKCS7#certificates=\n\t  PKCS7#certificates, PKCS7#crls= and PKCS7#crls.\n\nWed Nov 12 00:47:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/ui/testrunnermediator.rb: should require 'test/unit'.\n\nTue Nov 11 23:54:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/ui/gtk/testrunner.rb: added a rescue clause to handle\n\t  the case when the requested font is not available.\n\nTue Nov 11 22:44:08 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (appendline): file may not end with newline.  a bug if\n\t  READ_DATA_PENDING_PTR is defined. [ruby-talk:84925]\n\nTue Nov 11 10:42:41 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: raise an exception when creating TkWindow\n\t  object, because TkWindow class is an abstract class.\n\nTue Nov 11 03:30:43 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/ext/openssl/ossl_conf.c (ossl_config_get_value): return nil\n\t  if the specified value doesn't exist.\n\n\t* lib/ext/openssl/ossl_conf.c (ossl_config_get_section): return\n\t  a empty hash if the specified section doesn't exist.\n\nMon Nov 10 11:40:29 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb (wait): return true on signal/broadcastfalse and\n\t  false on timeout. Thanks Gennady Bystritsky.\n\nMon Nov 10 00:07:10 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (primary): primary_value may be 0 when syntax error.\n\t  [ruby-talk:84893]\n\nSun Nov  9 02:05:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: un-deprecated #assert_not_nil to\n\t  maintain symmetry with #assert_nil. Also added better output for\n\t  #assert_kind_of.\n\n\t* test/testunit/tc_assertions.rb: ditto.\n\nSat Nov  8 18:50:20 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/wsdl/raa/*: add new testcase for WSDL loading, parsing and\n\t  reading.\n\n\t* test/soap/marshal/*: backport from soap4r/1.5.1.  all differences are\n\t  for ruby/1.6.\n\n\t* lib/soap/*: backport from soap4r/1.5.1.  all differences are for\n\t  ruby/1.6.\n\n\t* lib/wsdl/data.rb, lib/wsdl/xmlSchema/data.rb: move definition of\n\t  ArrayTypeAttrName from ::WSDL::XMLSchema::* to ::WSDL::*.\n\t  [ruby-talk:84813]\n\n\t* lib/wsdl/soap/definitions.rb: element name typo in custom exception\n\t  struct definition which is needed for wsdlDriver; camelCase ->\n\t  underscore_name.\n\nSat Nov  8 13:49:50 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in: improvement of pthread check\n\nSat Nov  8 13:28:46 2003  Takaaki Tateishi  <ttate@ttsky.net>\n\n\t* ext/dl/sym.c: Add DL.win32_last_error and DL.last_error.\n\t  Thanks, Kaoru Shirai.\n\nSat Nov  8 06:19:38 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: To fix 'pthread-enabled Tcl/Tk' problem,\n\t  TclTkIp#_eval calls Tcl_Eval() on the mainloop thread only\n\t  (queueing a handler to the EventQueue).\n\n\t* ext/tcltklib/README.1st: edit the description of '--with-pthread-ext'\n\nFri Nov  7 23:23:04 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#+): if self or the argument is `.', return\n\t  another.\n\t  (Pathname#parent): if self is `.', return `..'.\n\t  (Pathname#children): if self is `.', don't prepend self for a\n\t  pathname in a result.\n\t  (Pathname#join): re-implemented using Pathname#+.\n\t  (Pathname#find): if self is `.', remove `./' prefix of yielding\n\t  pathname.\n\nFri Nov  7 10:23:24 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (make_hostent): get rid of SEGV on aliases\n\t  lookup failure.  (ruby-bugs:PR#1215)\n\nFri Nov  7 04:08:05 2003  UENO Katsuhiro  <katsu@blue.sky.or.jp>\n\n\t* ext/zlib/zlib.c (Init_zlib): define Zlib::GzipReader#each_line as\n\t  an alias of Zlib::GzipReader#each.\n\nFri Nov  7 01:03:16 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_load): save and restore rb_prohibit_interrupt.\n\t  [ruby-dev:21857]\n\nThu Nov  6 18:05:07 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_inspect): show the path also at a closed file.\n\t  [ruby-dev:21851]\n\nThu Nov  6 11:42:07 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_set_string, strio_reopen): check\n\t  tainted.\n\n\t* ext/stringio/stringio.c (strio_copy, strio_ungetc, strio_write,\n\t  strio_putc): add infection.\n\n\t* ext/stringio/stringio.c (strio_path): just nil.  [ruby-dev:21846]\n\n\t* ruby.c (proc_options): reserve searched script path in the\n\t  source file name table.  [ruby-list:38765]\n\n\t* lib/optparse.rb (OptionParser::Completion#complete): default not to\n\t  ignore case on completion.  [ruby-talk:84726]\n\n\t* win32/win32.c (make_cmdvector): process backslashes even if a quote\n\t  is not enclosed.\n\nWed Nov  5 23:49:45 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* sample/openssl/gen_csr.rb: there (at least) is a CA which does not\n\t  accept DN in UTF8STRING format.  it's a sample.\n\nWed Nov  5 22:55:16 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in, eval.c, signal.c: : add '--with-pthread-ext'\n\t  option to fix the pthread trouble on 'tcltklib'\n\n\t* ext/tcltklib/README.1st: add the description of '--with-pthread-ext'\n\n\t* ext/tk/lib/tktext.rb: add TkText#text_copy, text_cut, text_paste\n\t  to support Tcl/Tk8.4's tk_textCopy, tk_textCut, tk_textPaste\n\n\t* ext/tk/lib/tk.rb: add TkMenu#set_focus support Tcl/Tk's\n\t  tk_menuSetFocus\n\nWed Nov  5 17:33:45 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_load): allow interrupt during loaded program\n\t  evaluation.  [ruby-dev:21834]\n\n\t* hash.c (rb_hash_fetch): always warn if default argument and a\n\t  block are supplied at the same time. [ruby-dev:21842]\n\n\t* hash.c (env_fetch): ditto.\n\n\t* array.c (rb_ary_fetch): ditto.\n\nWed Nov  5 19:08:47 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Switch::PlacedArgument::parse):\n\t  do not remove next argument if empty value is placed.\n\n\t* test/optparse: added.\n\nWed Nov  5 17:05:18 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/ui/gtk/testrunner.rb: typo.\n\nWed Nov  5 11:13:32 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c: add #include \"version.h\". this file still depends on it.\n\n\t* Makefile.in, bcc32/Makefile.sub, win32/Makefile.sub,\n\t  wince/Makefile.sub: add version.h dependency to string.c.\n\nWed Nov  5 09:14:23 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb: revert to the previous revision.\n\nWed Nov  5 08:39:51 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/https.rb (HTTPRequest#parse): set @client_cert_chain.\n\n\t* lib/webrick/https.rb (HTTPRequest#meta_vars): create\n\t  SSL_CLIENT_CERT_CHAIN_n from @client_cert_chain.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_get_peer_cert_chain): return nil\n\t  if no cert-chain was given.\n\nTue Nov  4 23:44:48 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub:\n\t  remove needless version.h dependency.\n\nTue Nov  4 23:38:43 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* class.c, hash.c, string.c: remove #include \"version.h\".\n\n\t* Makefile.in: remove needless version.h dependency.\n\nTue Nov  4 06:54:52 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): fptr->f may be NULL, if IO is closed in the\n\t  signal handler.\n\n\t* io.c (io_read): ditto.\n\n\t* string.c (get_pat): remove 1.8.0 warning code.\n\n\t* string.c (rb_str_match): extend warning until 1.8.2.\n\n\t* string.c (rb_str_match2): ditto.\n\n\t* class.c (class_instance_method_list): remove 1.8.0 warnings.\n\t  method_list now recurs.  [ruby-dev:21816]\n\n\t* class.c (rb_obj_singleton_methods): ditto.\n\n\t* array.c (rb_ary_select): remove select with block.\n\t  [ruby-dev:21824]\n\n\t* hash.c (rb_hash_select): ditto.\n\n\t* hash.c (env_select): ditto.\n\n\t* re.c (match_select): ditto.\n\n\t* struct.c (rb_struct_select): ditto.\n\nMon Nov  3 22:53:21 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/racc/parser.rb: synchronize with Racc 1.4.4.\n\n\t* ext/racc/cparse/cparse.c: ditto.\n\n\t* ext/racc/cparse/cparse.c (parse_main): should abort when\n\t  the length of LR state stack <=1, not ==0.\n\nMon Nov  3 08:50:47 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (check_uid_switch): remove duplicated error messages.\n\n\t* process.c (check_gid_switch): ditto.\n\nSun Nov  2 02:28:33 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/ssl.rb: new option :SSLExtraChainCert.\n\nSun Nov  2 01:02:04 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* string.c (rb_str_hash): Update the HASH_PERL alternative hash\n\t  algorithm in sync with Perl 5.8.\n\n\t* st.c (strhash): Ditto.\n\nSat Nov  1 18:21:09 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_peer_cert_chain): add new method\n\t  SSLSocket#peer_cert_chain.\n\n\t* ext/openssl/ossl_x509req.c (GetX509ReqPtr): new function\n\t  which returns underlying X509_REQ.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509extfactory_set_issuer_cert,\n\t  ossl_x509extfactory_set_subject_cert, ossl_x509extfactory_set_crl,\n\t  ossl_x509extfactory_set_subject_req, ossl_x509extfactory_set_config):\n\t  use underlying C struct without duplication not to leak momory.\n\nSat Nov  1 01:49:03 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/mapping/factory.rb: mark marshalled basetype objects when\n\t  @allow_original_mapping is true.  multi-referencing basetype node is\n\t  prohibited in SOAP/1.1 encoding but soap4r's original ruby object\n\t  mapping requires basetype to be marked to detect self referencing\n\t  loop.  e.g. o = 1; o.instance_eval { @iv = o }  soap4r's original\n\t  mapping is only used through soap/marshal API.\n\n\t* test/soap/marshal/test_marshal.rb: add tests for self referencing\n\t  immutable objects.\n\n\t* test/soap/calc/test_calc_cgi.rb: fix test name.\n\nFri Oct 31 22:26:29 2003  Takaaki Uematsu  <uema2x@jcom.home.ne.jp>\n\n\t* wince/string_wce.c (strrchr): should decrement pointer.\n\n\t* wince/Makefile.sub: correct a range of isdigit().\n\nFri Oct 31 12:55:24 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in, lib/mkmf.rb: add RPATHFLAG for NetBSD.\n\t  [ruby-dev:21791]\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, win32/Makefile.sub: ditto.\n\nFri Oct 31 01:38:14 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* wince/Makefile.sub, win32/Makefile.sub (.y.c): allow white spaces\n\t  at the beginning of line to remove by sed. (ruby-bugs-ja:PR#580)\n\nFri Oct 31 01:02:24 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compar.c (cmp_equal): protect exceptions from <=> comparison\n\t  again.  returns nil if any exception or error happened during\n\t  comparison.\n\n\t* eval.c (search_required): should update *featurep when DLEXT2 is\n\t  defined. (ruby-bugs-ja:PR#581)\n\nThu Oct 30 23:41:04 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: add DRbArray\n\n\t* lib/drb/invokemethod.rb: fix Hash#each problem. [ruby-dev:21773]\n\n\t* lib/drb/unix.rb: add LoadError. [ruby-dev:21743]\n\nThu Oct 30 23:19:11 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/generator.rb: better XML pretty printing.\n\n\t* lib/soap/encodingstyle/soapHandler.rb: remove unnecessary namespace\n\t  assignment in the element which has \"encodingStyle\" attribute, and\n\t  add necessary namespace assignment for \"arrayType\" attribute.\n\n\t* test/soap/calc/test_calc_cgi.rb: take over $DEBUG to ruby process\n\t  through CGI.\n\nThu Oct 30 22:59:39 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/yaml2byte.c: HASH const too long.  Thanks, matz.\n\nThu Oct 30 19:13:53 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/syck/MANIFEST: Add yamlbyte.h.\n\nThu Oct 30 14:25:31 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (READ_DATA_BUFFERED): new macro to detect whether stdio\n\t  buffer filled.\n\n\t* io.c (rb_io_fptr_cleanup): move path deallocation to\n\t  rb_io_fptr_finalize (finalizer called by GC).\n\nThu Oct 30 13:23:39 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (logop): left may be NULL. [ruby-talk:84539]\n\n\t* eval.c (rb_eval): NODE_CASE nd_head may be NULL.\n\nThu Oct 30 10:14:51 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/test/unit/autorunner.rb: make fox runner work.\n\nThu Oct 30 09:32:26 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_f_system): fixed lack of security check before\n\t  calling do_spawn() on win32. [ruby-talk:84555]\n\nThu Oct 30 02:46:35 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): single array value to normal Proc#call\n\t  (i.e. not via lambda call), should be treated just like yield.\n\t  [ruby-dev:21726]\n\nThu Oct 30 02:25:48 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#initialize):\n\t  add new method to inherit @sync from @io.sync.\n\n\t* ext/openssl/lib/net/protocols.rb (SSLIO#ssl_connect): no need to\n\t  set sync flag explicitly.\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_initialize): call super.\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_setup): set extra chain\n\t  certificates in @extra_chain_cert.\n\nWed Oct 29 22:02:04 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/drb/drbtest.rb: use rbconfig.rb to make the path of ruby\n\t  interpreter to exec, instead of test/ruby/envutil.rb,\n\nWed Oct 29 19:58:59 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tcltklib/tcltklib.c (CONST84): define CONST84 when it is not\n\t  defined and TCL_MAJOR_VERSION >= 8.\n\n\t* ext/tcltklib/tcltklib.c (VwaitVarProc, WaitVariableProc,\n\t  rb_threadVwaitProc): use CONST84 instead of CONST.\n\n\t* ext/tcltklib/tcltklib.c (ip_rbTkWaitCommand,\n\t  ip_rb_threadTkWaitCommand): use CONST84 always.\n\nWed Oct 29 17:27:05 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* re.c (rb_reg_s_union, Init_Regexp): new method `Regexp.union'.\n\n\t* lib/pathname.rb (realpath): examine Dir.pwd because it may have\n\t  symlinks.\n\nWed Oct 29 17:16:31 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_longjmp): must not disturb original jump.\n\t  [ruby-dev:21733]\n\nWed Oct 29 15:28:34 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_Proc): taint preallocated exception object\n\t  sysstack_error. [ruby-talk:84534]\n\nWed Oct 29 11:27:39 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (ret_args): node may be NULL. [ruby-talk:84530]\n\nTue Oct 28 15:20:12 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tcltklib/tcltklib.c (VwaitVarProc, ip_rbVwaitObjCmd,\n\t  WaitVariableProc, WaitVisibilityProc, WaitWindowProc,\n\t  ip_rbTkWaitObjCmd, ip_rbTkWaitCommand, rb_threadVwaitProc,\n\t  rb_threadWaitVisibilityProc, rb_threadWaitWindowProc,\n\t  ip_rb_threadVwaitObjCmd, ip_rb_threadTkWaitObjCmd): prototype;\n\t  avoid VC++ warnings.\n\nMon Oct 27 19:19:55 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_longjmp): ignore reentering error while warning.\n\t  [ruby-dev:21730]\n\nMon Oct 27 00:23:50 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_ruby): bug fix on Win : hang-up when\n\t  calling 'exit' in the Tk callback procedure. [ruby-list:38656]\n\nSat Oct 25 09:18:04 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_method_missing): protect exception from within\n\t  \"inspect\".  (ruby-bugs:PR#1204)\n\nFri Oct 24 23:26:34 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_each): Hash#each should yield single value.\n\t  [ruby-talk:84420]\n\n\t* hash.c (env_each): ditto for ENV.each.\n\nThu Oct 23 20:25:32 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (GenericServer#start): should rescue\n\t  IOError from IO::accept. [ruby-dev:21692]\n\nThu Oct 23 17:59:36 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): initialize stack bottom for embedding.\n\t  [ruby-dev:21686]\n\n\t* ext/dl/extconf.rb: move list of files to clean from DEPEND file,\n\t  to get rid of macro redefinitions.\n\nThu Oct 23 13:44:00 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y: integrate operations for stack_type.  [ruby-dev:21681]\n\nThu Oct 23 00:41:45 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/calc/*, test/soap/helloworld/*: set logging threshold\n\t  to ERROR.\n\nWed Oct 22 12:53:31 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (Test::Unit::Collector::Dir#collect_file):\n\t  ignore tests which raised LoadError.\n\n\t* test/drb/drbtest.rb, test/ruby/test_beginendblock.rb,\n\t  test/ruby/test_system.rb: avoid requiring same file twice.\n\n\t* test/drb/test_drbssl.rb, test/drb/test_drbunix.rb: should not use\n\t  ARGV unless invoked directly.  do not create test cases unless\n\t  required libraries are available.\n\nWed Oct 22 02:31:34 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): should not ignore exit_value in END\n\t  execution. [ruby-dev:21670]\n\nTue Oct 21 23:16:26 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): call finalizers and exit procs before\n\t  terminating threads.\n\n\t* eval.c (ruby_cleanup): preserve ruby_errinfo before ruby_finalize_0().\n\nTue Oct 21 15:57:11 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (Test::Unit::Collector::Dir#collect_file):\n\t  prepend the directory of target file to the load path.\n\nTue Oct 21 15:08:53 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (do_spawn, do_aspawn): should wait child process even\n\t  if callded with P_OVERLAY.\n\n\t* win32/win32.c (do_spawn, do_aspawn): should return child's exit\n\t  status to parent.\n\nTue Oct 21 00:35:02 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/calc/*, test/soap/helloworld/*: catch the exception from\n\t  test server thread and recover.\n\nTue Oct 21 00:22:57 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/*: import drb/runit.\n\nMon Oct 20 23:55:47 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): set current node after arguments evaluation.\n\t  [ruby-dev:21632]\n\n\t* eval.c (rb_yield_0): set current node and keep it at local jump.\n\nMon Oct 20 22:01:18 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_cleanup): keep thread group for main thread.\n\t  [ruby-dev:21644]\n\nMon Oct 20 18:28:10 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_catch): backout.\n\nMon Oct 20 17:31:46 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (PUSH_FRAME): generate unique number to be TAG_JUMP()\n\t  destination.\n\n\t* eval.c (localjump_destination): use unique number in ruby_frame\n\t  for localjump destination.\n\nMon Oct 20 11:31:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_signal.rb (test_signal): restore old trap.\n\nMon Oct 20 11:00:46 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_sweep): loosen page free condition to avoid add_heap()\n\t  race condition. [ruby-dev:21633]\n\n\t* gc.c (gc_sweep): do not update malloc_limit when malloc_increase\n\t  is smaller than malloc_limit.\n\nMon Oct 20 09:45:12 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/debug.rb (debug_command): remove debug print.\n\nSun Oct 19 13:12:30 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (foreachline, dir_foreach): add obsolete warning.\n\nSun Oct 19 00:14:22 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/calc/*, test/soap/helloworkd/*: changed port# of test\n\t  server. (17171)\n\nSat Oct 18 23:01:32 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* missing/acosh.c (DBL_MANT_DIG): typo fix(ifdef -> ifndef).\n\nSat Oct 18 05:48:59 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: YAML::Syck::compile method.\n\n\t* ext/syck/syck.c: Buffer edge bug.\n\n\t* ext/syck/yaml2byte.c: YAML to bytecode converter.\n\n\t* ext/syck/yamlbyte.h: Ditto.\n\n\t* ext/syck/bytecode.c: Bytecode parser fixes to empty collections\n\t  and empty strings.\n\n\t* ext/syck/token.c: Ditto.\n\nFri Oct 17 23:07:38 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/enumerator/enumerator.c, ext/enumerator/enumerator.txt:\n\t  Provide Kernel#to_enum as an alias for Kernel#enum_for.  Maybe\n\t  this is a better name.\n\nFri Oct 17 23:00:30 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/generator.rb: Add rdoc documentation.\n\nFri Oct 17 22:16:42 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb: Reword and fix Overview.\n\n\t* lib/set.rb: It is not necessary to require\n\t  'test/unit/ui/console/testrunner'.\n\nFri Oct 17 11:15:22 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_range.rb: added.\n\n\t* MANIFEST: add test/ruby/test_range.rb.\n\nFri Oct 17 03:21:23 2003  William Sobel  <will.sobel@barra.com>\n\n\t* ext/socket/socket.c (make_hostent): h_aliases may be NULL.\n\t  (ruby-bugs:PR#1195)\n\n\t* ext/socket/socket.c (sock_s_gethostbyaddr): ditto.\n\nFri Oct 17 00:12:41 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: (bug fix) instance variable @frame was used\n\t  without initializing on TkComposite module.\n\nThu Oct 16 23:51:04 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: If $DEBUG == true and some exception is caused\n\t  in a callback operation, Ruby/Tk shows a (verbose) backtrace\n\t  information on the callback process.\n\nThu Oct 16 17:09:19 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/debug.rb (DEBUGGER__::Context::debug_command): do not call\n\t  debug_silent_eval() when $1 is not set. (ruby-bugs:PR#1194)\n\nThu Oct 16 16:54:57 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_upto): (\"a\"...\"a\").to_a should return [].\n\t  [ruby-core:01634]\n\nThu Oct 16 16:40:51 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb:\n\t  Add Tk::EncodedString and Tk::UTF8_String class to support\n\t  characters using the \\uXXXX escape to the UNICODE string.\n\n\t* ext/tk/sample/{demos-en,demos-jp}/unicodeout.rb\n\t  new demo-scripts (samples of Tk::UTF8_String)\n\n\t* ext/tk/sample/{demos-en,demos-jp}/widget\n\t  add entries for 'unicodeout.rb'\n\nThu Oct 16 08:38:06 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/digest/test_digest.rb (test_eq): show failed class.\n\n\t* test/ruby/test_iterator.rb (test_break, test_return_trace_func):\n\t  test localjump destination.\n\nWed Oct 15 20:22:31 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/netHttpClient.rb: use URI::HTTP#request_uri instead of\n\t  instance_eval('path_query').  [ruby-list:38575]\n\nWed Oct 15 17:24:45 2003  URABE Shyouhei  <root@mput.dip.jp>\n\n\t* lib/cgi.rb (CGI::Cookie): tiny typo fix.\n\nWed Oct 15 15:00:54 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_run): just return FAILURE instead of parse error\n\t  count.  [ruby-list:38569]\n\nWed Oct 15 13:17:02 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/digest/digest.c (rb_digest_base_alloc): need to initialize\n\t  buffer. [ruby-dev:21622]\n\nWed Oct 15 11:23:05 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): dump extended modules as well.\n\n\t* marshal.c (r_object0): TYPE_USRMARSHAL should restore extended\n\t  modules before invoking marshal_load.  these two fixes are done\n\t  by Masatoshi Seki <m_seki@mva.biglobe.ne.jp>.\n\nWed Oct 15 09:30:34 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/enumerator/enumerator.c (enumerator_each): avoid VC++ warning.\n\n\t* ext/syck/syck.h: include stdio.h for definition of FILE.\n\nWed Oct 15 08:09:07 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/bytecode.c: Checkin of YAML bytecode support.\n\n\t* ext/syck/gram.c: Ditto.\n\n\t* ext/syck/syck.c: Ditto.\n\n\t* ext/syck/token.c: Ditto.\n\n\t* ext/syck/handler.c: Ditto.\n\n\t* ext/syck/handler.c: Now using 'tag' rather than 'taguri' in type URIs.\n\n\t* ext/syck/rubyext.c: Ditto (on both counts).\n\nWed Oct 15 05:05:53 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/generator.rb: A new library which converts an internal\n\t  iterator to an external iterator.\n\n\t* lib/abbrev.rb: A new library which creates an abbreviation table\n\t  from a list.\n\nWed Oct 15 04:31:51 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/demos-en/entry3.rb, ext/tk/sample/demos-jp/entry3.rb:\n\t  new demo-scripts\n\n\t* ext/tk/sample/demos-en/widget, ext/tk/sample/demos-jp/widget:\n\t  add entries for 'entry3.rb'\n\nWed Oct 15 04:31:47 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/digest/test_digest.rb: Moved from ext/digest/test.rb.\n\nWed Oct 15 03:53:20 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: fixed trouble on auto-load Tcl commands (enbug\n\t  on the last commit).\n\nWed Oct 15 00:25:00 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (yylex): argument parentheses preceded by spaces should\n\t  be warned; not error.  [ruby-talk:84103]\n\nWed Oct 15 00:20:15 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: replace Tcl/Tk's vwait and tkwait to\n\t  switch on threads smoothly and avoid seg-fault.\n\n\t* ext/tcltklib/tcltklib.c: add TclTkIp._thread_vwait and\n\t  _thread_tkwait for waiting on a thread. (Because Tcl/Tk's vwait\n\t  and tkwait command wait on an eventloop.)\n\n\t* ext/tk/lib/multi-tk.rb: support TclTkIp._thread_vwait and\n\t  _thread_tkwait.\n\n\t* ext/tk/lib/tk.rb: now, TkVariable#wait has 2 arguments.\n\t  If 1st argument is true, waits on a thread. If false, waits on\n\t  an eventloop. If 2nd argument is true, checks existence of\n\t  rootwidgets. If false, doesn't. Default is wait(true, false).\n\n\t* ext/tk/lib/tk.rb: add TkVariable#tkwait(arg) which is equal to\n\t  TkVariable#wait(arg, true). wait_visibility and wait_destroy\n\t  have an argument for waiting on a thread or an eventloop.\n\n\t* ext/tk/lib/tk.rb: improve of accessing Tcl/Tk's special variables.\n\n\t* ext/tk/lib/tkafter.rb: support 'wait on a thread' and 'wait on\n\t  an eventloop'.\n\nWed Oct 15 00:10:24 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/baseData.rb: Introduce SOAPType as the common ancestor of\n\t  SOAPBasetype and SOAPCompoundtype.\n\n\t* lib/soap/generator.rb, lib/soap/element.rb, lib/soap/encodingstyle/*:\n\t  Encoding methods signature change.  Pass SOAPGenerator as a parameter.\n\n\t* lib/soap/mapping/*, test/soap/marshal/test_marshal.rb: Refactoring\n\t  for better marshalling/unmarshalling support.  Now I think SOAP\n\t  marshaller supports all kind of object graph which is supported by\n\t  Ruby's original marshaller.  Of course there could be bugs as always.\n\t  Find it.  :-)\n\n\t* lib/soap/rpc/standaloneServer.rb: Set severity threshould to INFO.\n\t  DEBUG is too noisy.\n\n\t* lib/xsd/datatypes.rb: DateTime#of is obsoleted.  Use DateTime#offset.\n\n\t* test/wsdl/emptycomplextype.wsdl, test/xsd/xmlschema.xml: Avoid\n\t  useless warning.\n\nTue Oct 14 19:09:35 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_finalize_0): return the given exit status unless\n\t  SystemExit got raised.\n\nTue Oct 14 11:53:49 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (ruby_stop): never return.\n\n\t* ruby.h (ruby_run): ditto.\n\nTue Oct 14 04:43:55 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (realpath): make ELOOP check bit more robust.\n\t  (children): prepend self by default.\n\t  (chroot): obsoleted.\n\nTue Oct 14 02:29:31 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_require_safe): segfault after loading .so.\n\nTue Oct 14 02:05:23 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/Setup*, ext/enumerator/*: Add ext/enumerator, a helper\n\t  module for the Enumerable interface.\n\nMon Oct 13 23:55:59 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/ruby/envutil.rb: use Config::CONFIG[\"ruby_install_name\"],\n\t  not \"ruby\".\n\nMon Oct 13 23:57:29 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_feature_p): match by classified suffix.\n\n\t* eval.c (rb_require_safe): require library in the specified safe\n\t  level.\n\n\t* variable.c (rb_autoload, rb_autoload_load): restore safe level\n\t  when autoload was called.  [ruby-dev:21338]\n\n\t* intern.h: prototypes; rb_require_safe.\n\n\t* test/runner.rb: accept non-option arguments.\n\nMon Oct 13 20:49:51 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_new4): should not preserve FL_TAINT status in the\n\t  internal shared string. [ruby-dev:21601]\n\n\t* string.c (rb_str_new4): ditto.\n\n\t* eval.c: use EXIT_SUCCESS and EXIT_FAILURE for exit values.\n\n\t* process.c: ditto. [ruby-list:38521]\n\nMon Oct 13 19:51:02 2003  Koji Arai  <jca02266@nifty.ne.jp>\n\n\t* lib/debug.rb (debug_command): should enter emacs mode when\n\t  assigned any value to the environment variable \"EMACS\".\n\t  On Meadow, (getenv \"EMACS\") is \"meadow\".\n\nSun Oct 12 14:45:03 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/win32ole/extconf.rb: check \"windows.h\", not \"windows\".\n\t  [ruby-talk:84051]\n\nSat Oct 11 20:41:03 2003  Corinna Vinschen  <corinna@vinschen.de>\n\n\t* file.c (eaccess): Use access(2) on Cygwin.\n\nSat Oct 11 17:09:21 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/rexml/quickpath.rb (REXML::QuickPath::match):\n\t  escape '[' to avoid warning.\n\nSat Oct 11 16:08:41 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (realpath): check existence of the file.\n\n\t* lib/pathname.rb (realpath): re-implemented.\n\t  (realpath_root?, realpath_rec): removed\n\nSat Oct 11 10:19:39 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb: handle exceptions correctly. Thanks, Gennady\n\t  Bystritsky.\n\nFri Oct 10 07:50:54 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (is_defined): inheritance line adjustment as like as\n\t  rb_call_super().\n\nFri Oct 10 01:19:00 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_initialize): add\n\t  optional argument to specify the DirectoryString type\n\t  (ASN1::UTF8STRING by default). RFC3280 deprecates PrintableString\n\t  for DirectoryString, and strongly requires to use UTF8String for\n\t  all certificates issued after December, 31 2003.\n\n\t* ext/openssl/lib/openssl/x509.rb (X509::Name::parse): ditto.\n\nThu Oct  9 23:50:21 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_0): prevent thread from GC.\n\t  [ruby-dev:21572]\n\nThu Oct  9 19:11:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_0): non-volatile should be restored from\n\t  volatile.\n\nThu Oct  9 17:43:36 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (proc_save_safe_level, proc_get_safe_level,\n\t  proc_set_safe_level): save/restore safe level 1..4.\n\nThu Oct  9 16:33:23 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_object0): remove unnecessary iv restoration for\n\t  USRMARSHAL. [ruby-dev:21582]\n\n\t* marshal.c (w_object): dump generic instance variables from\n\t  a string from '_dump'.\n\n\t* variable.c (rb_generic_ivar_table): return 0 if obj's FL_EXIVAR\n\t  is not set.\n\n\t* time.c (time_dump): copy instance variables to dumped string, to\n\t  be included in the marshaled data.\n\n\t* bignum.c (rb_big2ulong): add range check to ensure round trip.\n\nThu Oct  9 15:45:27 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (uv_to_utf8): change message to \"out of range\", since\n\t  negative values are not \"too big\". [ruby-dev:21567]\n\nThu Oct  9 14:05:38 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_set_end_proc, rb_exec_end_proc): restore safe level.\n\t  [ruby-dev:21557]\n\nThu Oct  9 10:51:04 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): no error if block is empty.\n\nThu Oct  9 06:43:33 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (localjump_error): id should be ID.\n\n\t* eval.c (rb_eval): nd_rval is set in copy_node_scope().\n\n\t* eval.c (rb_yield_0): unused variable.\n\n\t* eval.c (rb_yield_0): nothing to do for empty node.\n\n\t* eval.c (call_end_proc, proc_invoke): adjust backtrace in END.\n\t  [ruby-dev:21551]\n\n\t* eval.c (rb_thread_start_0): set the value by break as the result.\n\t  [ruby-dev:21552]\n\n\t* eval.c (rb_thread_start_0, rb_thread_raise, rb_callcc): save\n\t  variables across THREAD_SAVE_CONTEXT.\n\nThu Oct  9 12:05:46 2003  Eric Sunshine  <sunshine@sunshineco.com>\n\n\t* configure.in: revived NextStep, OpenStep, and Rhapsody ports which\n\t  had become unbuildable; enhanced --enable-fat-binary option so that\n\t  it accepts a list of desired architectures (rather than assuming a\n\t  fixed list), or defaults to a platform-appropriate list if user does\n\t  not provide an explicit list; made the default list of architectures\n\t  for MAB (fat binary) more comprehensive; now uses -fno-common even\n\t  when building the interpreter (in addition to using it for\n\t  extensions), thus allowing the interpreter to be embedded into a\n\t  plugin module of an external project (in addition to allowing\n\t  embedding directly into an application); added checks for\n\t  <netinet/in_systm.h> (needed by `socket' extension) and getcwd(); now\n\t  ensures that -I/usr/local/include is employed when extensions'\n\t  extconf.rb scripts invoke have_header() since extension checks on\n\t  NextStep and OpenStep will fail without it if the desired resource\n\t  resides in the /usr/local tree; fixed formatting of --help message.\n\n\t* Makefile.in: $(LIBRUBY_A) rule now deletes the archive before\n\t  invoking $(AR) since `ar' on Apple/NeXT can not \"update\" MAB archives\n\t  (see configure's --enable-fat-binary option); added rule for new\n\t  missing/getcwd.c.\n\n\t* defines.h: fixed endian handling during MAB build (see configure's\n\t  --enable-fat-binary option) to ensure that all portions of the\n\t  project see the correct WORDS_BIGENDIAN value (some extension modules\n\t  were getting the wrong endian setting); added missing constants\n\t  GETPGRP_VOID, WNOHANG, WUNTRACED, X_OK, and type pid_t for NextStep\n\t  and OpenStep; removed unnecessary and problematic HAVE_SYS_WAIT_H\n\t  define in NeXT section.\n\n\t* dir.c: do not allow NAMLEN() macro to trust dirent::d_namlen on\n\t  NextStep since, on some installations, this value always resolves\n\t  uselessly to zero.\n\n\t* dln.c: added error reporting to NextStep extension loader since the\n\t  previous behavior of failing silently was not useful; now ensures\n\t  that NSLINKMODULE_OPTION_BINDNOW compatibility constant is defined\n\t  for OpenStep and Rhapsody; no longer includes <mach-o/dyld.h> twice\n\t  on Rhapsody since this header lacks multiple-include protection,\n\t  which resulted in \"redefinition\" compilation errors.\n\n\t* main.c: also create hard reference to objc_msgSend() on NeXT\n\t  platforms (in addition to Apple platforms).\n\n\t* lib/mkmf.rb: now exports XCFLAGS from configure script to extension\n\t  makefiles so that extensions can be built MAB (see configure's\n\t  --enable-fat-binary option); also utilize XCFLAGS in cc_command()\n\t  (but not cpp_command() because MAB flags are incompatible with\n\t  direct invocation of `cpp').\n\n\t* ext/curses/extconf.rb: now additionally checks for presence of these\n\t  curses functions which are not present on NextStep or Openstep:\n\t  bkgd(), bkgdset(), color(), curs(), getbkgd(), init(), scrl(), set(),\n\t  setscrreg(), wattroff(), wattron(), wattrset(), wbkgd(), wbkgdset(),\n\t  wscrl(), wsetscrreg()\n\n\t* ext/curses/curses.c: added appropriate #ifdef's for additional set of\n\t  curses functions now checked by extconf.rb; fixed curses_bkgd() and\n\t  window_bkgd() to correctly return boolean result rather than numeric\n\t  result; fixed window_getbkgd() to correctly signal an error by\n\t  returning nil rather than -1.\n\n\t* ext/etc/etc.c: setup_passwd() and setup_group() now check for null\n\t  pointers before invoking rb_tainted_str_new2() upon fields extracted\n\t  from `struct passwd' and `struct group' since null pointers in some\n\t  fields are common on NextStep/OpenStep (especially so for the\n\t  `pw_comment' field) and rb_tainted_str_new2() throws an exception\n\t  when it receives a null pointer.\n\n\t* ext/pty/pty.c: include \"util.h\" for strdup()/ruby_strdup() for\n\t  platforms such as NextStep and OpenStep which lack strdup().\n\n\t* ext/socket/getaddrinfo.c: cast first argument of getservbyname(),\n\t  gethostbyaddr(), and gethostbyname() from (const char*) to non-const\n\t  (char*) for older platforms such as NextStep and OpenStep.\n\n\t* ext/socket/socket.c: include \"util.h\" for strdup()/ruby_strdup() for\n\t  platforms such as NextStep and OpenStep which lack strdup(); include\n\t  <netinet/in_systm.h> if present for NextStep and OpenStep; cast first\n\t  argument of gethostbyaddr() and getservbyname() from (const char*) to\n\t  non-const (char*) for older platforms.\n\n\t* ext/syslog/syslog.c: include \"util.h\" for strdup()/ruby_strdup() for\n\t  platforms such as NextStep and OpenStep which lack strdup().\n\nWed Oct  8 22:19:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit.rb: removed installation instructions.\n\n\t* lib/test/unit/ui/testrunnermediator.rb: moved the run flag to a more\n\t  central location.\n\n\t* lib/test/unit.rb: ditto.\n\n\t* lib/test/unit.rb: extracted the running code in to AutoRunner.\n\n\t* lib/test/unit/autorunner.rb: added.\n\n\t* lib/test/unit/collector/objectspace.rb: extracted common test\n\t  collection functionality in to a module.\n\n\t* lib/test/unit/collector.rb: ditto; added.\n\n\t* test/testunit/collector/test_objectspace.rb: ditto.\n\n\t* lib/test/unit/collector/dir.rb: added. Supports collecting tests out\n\t  of a directory structure.\n\n\t* test/testunit/collector/test_dir.rb: added.\n\n\t* test/runner.rb: simplified to use the new capabilities.\n\nTue Oct  7 15:23:09 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb: add tests for nested BEGIN/END.\n\n\t* test/ruby/beginmainend.rb: add tests for nested BEGIN/END.\n\n\t* test/ruby/endblockwarn.rb: new file added to test of END-in-method\n\t  warning.\n\nTue Oct  7 12:23:47 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/fcntl/fcntl.c (Init_fcntl): define Fcntl::O_ACCMODE.\n\n\t* ext/socket/extconf.rb: useless assignment removed.\n\nTue Oct  7 09:13:24 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb (test_endinmethod): END{} is now\n\t  allowed in eval.\n\nTue Oct  7 04:15:25 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): should not expand mrhs if lhs is solely starred.\n\nTue Oct  7 02:57:53 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (stmt): rhs of multiple assignment should not be\n\t  expanded using \"to_a\". [ruby-dev:21527]\n\nTue Oct  7 01:42:34 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_get_asn1type): use appropriate\n\t  free function for ASN1_OBJECT.\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1obj_get_sn): add new function for\n\t  ASN1::ObjectId#sn; it returns short name text representation of OID.\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1obj_get_ln): add new function for\n\t  ASN1::ObjectId#ln; it returns long name text representation of OID.\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1obj_get_oid): add new function for\n\t  ASN1::ObjectId#oid; it returns numerical representation of OID.\n\nMon Oct  6 22:59:46 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb (IOReader, BasicWriter): call binmode when a given IO\n\t  respond_to?(:binmode).  record separator was wrong when you gave\n\t  text mode IO to Reader.parse and Writer.generate.\n\n\t* test/csv/test_csv.rb: add tests for above change.\n\nSun Oct  5 23:27:09 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/extconf.rb: check recvmsg even if sendmsg is exists.\n\n\t* ext/socket/socket.c (thread_read_select): restored.\n\nMon Oct  6 16:23:38 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (w_object): wrong method name in the message.\n\nMon Oct  6 16:02:05 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (stmt): END in method should cause warning.\n\t  [ruby-dev:21519]\n\nMon Oct  6 15:17:23 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (test_block_argument_without_paren):\n\t  added. (follows sample/test.rb)\n\nMon Oct  6 11:57:06 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb, test/ruby/beginmainend.rb: added\n\t  test for eval-ed BEGIN END order.\n\nMon Oct  6 09:19:54 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): should pass \"weak\" value to next level.\n\t  [ruby-dev:21496]\n\n\t* eval.c (proc_alloc): should not use cached object if klass is\n\t  different. [ruby-talk:83685]\n\nSun Oct  5 23:27:09 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: version information is added in document.\n\nSun Oct  5 23:07:03 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_f_END): block should be given.  [ruby-dev:21497]\n\nSun Oct  5 22:51:23 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/ext/openssl/extconf.rb: add check for some engine functions\n\t  unavailable in OpenSSL-0.9.6.\n\n\t* lib/ext/openssl/ossl_engine.c: ditto.\n\nSun Oct  5 17:56:30 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): fix evaluation order.  [ruby-list:38431]\n\nSun Oct  5 15:05:06 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* test/uri/*: translated RUNIT to Test::Unit.\n\nSun Oct  5 14:37:39 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/xsd/datatypes.rb: Rational -> Decimal string bug fix.\n\n\t* test/soap/marshal/test_marshal.rb: ditto.\n\n\t* test/soap/calc/test_calc_cgi.rb: add Config::CONFIG[\"EXEEXT\"] to\n\t  RUBYBIN.\n\nSun Oct  5 13:47:22 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb, test/ruby/beginmainend.rb: add tests\n\t  about scope, order and allowed syntax.\n\nSun Oct  5 11:54:29 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/envutil.rb: added.  split \"rubybin\" from test_system.rb.\n\n\t* test/ruby/test_system.rb: use envutil.rb\n\n\t* test/ruby/test_beginendblock.rb: added.\n\n\t* test/ruby/beginmainend.rb: added.  used in test_beginendblock.rb.\n\nSun Oct  5 11:23:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* test/testunit/runit/test_testresult.rb: removed some unnecessary\n\t  cruft.\n\nSun Oct  5 11:14:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/rubyunit.rb: aliasing TestCase into the top level is\n\t  problematic.\n\n\t* lib/runit/assert.rb: fixed a couple of bugs caused by recent\n\t  refactoring in Test::Unit.\n\n\t* test/testunit/runit/*: added.\n\nSun Oct  5 10:55:29 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): no_proxy support did not\n\t  work.  [ruby-dev:21484]\n\nSun Oct  5 09:52:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: will use pp for output if available.\n\t  Can be disabled by setting Assertions.use_pp = false.\n\n\t* test/testunit/test_assertions.rb: made a small change to exception\n\t  formatting.\n\nSun Oct  5 07:42:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: made small improvements to assertion\n\t  messages. Deprecated Assertions#assert_not_nil; use #assert instead.\n\n\t* test/testunit/test_assertions.rb: ditto.\n\n\t* test/testunit/util/test_procwrapper.rb: use #assert instead of\n\t  #assert_not_nil.\n\nSun Oct  5 04:10:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: refactored message building.\n\nSun Oct  5 03:40:22 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.h: global symbols should be declared\n\t  as external.\n\nSun Oct  5 03:03:20 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* test/ruby/test_exception.rb (test_else): added.\n\nSun Oct  5 02:12:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: changed assertion messages to rely more\n\t  heavily on #inspect. Added backtrace filtering for exceptions in\n\t  assertion messages.\n\n\t* test/testunit/test_assertions.rb: ditto.\n\nSun Oct  5 02:12:00 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/acl.rb, lib/drb/ssl.rb: added.\n\n\t* lib/drb/drb.rb: exit from a thread using 'break'.\n\nSat Oct  4 21:49:14 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* gc.c (Init_stack): the type of space is changed to unsigned int\n\t  from double.  [ruby-dev:21483]\n\nSat Oct  4 17:52:59 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/netHttpClient.rb: follow http-access2.  hosts which matches\n\t  ENV['no_proxy'] or ENV['NO_PROXY'] are not proxyed.\n\t  - [,:] separated. (\"ruby-lang.org:rubyist.net\")\n\t  - no regexp. (give \"ruby-lang.org\", not \"*.ruby-lang.org\")\n\t  - if you want specify host by IP address, give full address.\n\t    (\"192.168.1.1, 192.168.1.2\")\n\n\t* lib/soap/rpc/cgistub.rb: return \"Status: XXX MMM\" line.\n\n\t* test/runner.rb: give testsuite name.\n\nSat Oct  4 15:16:02 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): instance variable dump do not cause error\n\t  for objects that cannot be dumped, if they traversed from\n\t  marshal_dump.  they are just ignored.\n\n\t* gc.c (Init_stack): cast \"space\" (doble value) into unsigned\n\t  int.  should run on PowerPC.\n\n\t* eval.c (rb_eval): should not execute else part if any exception\n\t  is caught. [ruby-dev:21482]\n\n\t* parse.y (f_args): should allow unparenthesized block argument.\n\n\t* parse.y (f_rest_arg): should allow unparenthesized rest\n\t  argument.\n\nSat Oct  4 14:59:51 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (initialize): raise ArgumentError if argument has\n\t  '\\0' character.\n\t  (relative_path_from): new method.\n\t  (each_entry): new method for replacement of dir_foreach.\n\t  (foreach, foreachline, dir_foreach, chdir): obsoleted.\n\nSat Oct  4 12:58:48 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* test/uri/* (6 files): added.\n\nSat Oct  4 12:44:45 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/ftp.rb, lib/uri/mailto.rb: renamed to #to_s from #to_str.\n\nSat Oct  4 07:33:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/testsuite.rb: changed #<< to return self, and added\n\t  #delete.\n\n\t* test/testunit/test_testsuite.rb: ditto. Also slightly refactored\n\t  #test_size.\n\n\t* lib/test/unit/collector/objectspace.rb: collector now preserves the\n\t  hierarchy of suites.\n\n\t* test/testunit/collector/test_objectspace.rb: ditto.\n\nSat Oct  4 04:48:49 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: default keys handled.\n\n\t* ext/syck/syck.h: lowered default buffer size to 16k for increased\n\t  performance.\n\n\t* test/yaml: checkin of basic unit tests.\n\nSat Oct  4 04:24:19 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: add check for X509V3_set_nconf.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509extfactory_set_config):\n\t  cannot implement if X509V3_set_nconf doesn't exist.\n\nSat Oct  4 02:12:44 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/xsd/datatypes.rb: dump sign by itself.  under the problematic\n\t  platform, sprintf(\"%+.10g\", -0.0) => +0.  sigh.\n\n\t* sample/wsdl/amazon/*: update schema ver2 to ver3.\n\nSat Oct  4 01:33:46 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (initialize): duplicate and freeze argument.\n\t  (to_s): return duplicated string.\n\t  (children): new method.\n\t  (each_line): new alias to foreachline.\n\nFri Oct  3 16:13:19 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c: add DER encoder and decoder.\n\n\t* ext/openssl/ossl_asn1.h: add OpenSSL::ASN1 module.\n\n\t* ext/openssl/ossl.c (Init_openssl): call Init_ossl_asn1.\n\n\t* ext/openssl/extconf.rb: check if X509_ATTRIBUTE has field \"single\".\n\n\t* ext/openssl/ossl_x509attr.c (ossl_x509attr_set_value): accept\n\t  DER encoded data argument.\n\n\t* ext/openssl/ossl_x509attr.c (ossl_x509attr_get_value): return\n\t  DER encoded data in OpenSSL::ASN1 types.\n\nFri Oct  3 13:02:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit.rb: refactored to use optparse.\n\n\t* lib/test/unit.rb: added support for selecting the output\n\t  level from the command-line.\n\n\t* lib/test/unit.rb: added a command-line switch to stop processing\n\t  the command-line, allowing arguments to be passed to tests.\n\n\t* lib/test/unit.rb: changed the method for specifying a runner or a\n\t  filter from the command-line.\n\n\t* lib/test/unit/collector/objectspace.rb: fixed a bug causing all\n\t  tests to be excluded when the filter was set to an empty array.\n\n\t* test/testunit/collector/test_objectspace.rb: ditto.\n\nFri Oct  3 08:14:32 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex::identify_identifier): support\n\t  'class ::Foo' syntax. [ruby-talk:83514]\n\nFri Oct  3 08:01:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: added a default message for #assert,\n\t  #assert_block, and #flunk.\n\n\t* test/testunit/test_assertions.rb: ditto.\n\n\t* lib/test/unit/failure.rb: failures now show a better trace of where\n\t  they occurred.\n\n\t* test/testunit/test_failure.rb: ditto (added).\n\n\t* lib/test/unit/testcase.rb: ditto.\n\n\t* test/testunit/test_testcase.rb: ditto.\n\n\t* lib/test/unit/util/backtracefilter.rb: added.\n\n\t* test/testunit/util/test_backtracefilter.rb: added.\n\n\t* lib/test/unit/error.rb: changed to use BacktraceFilter and improved\n\t  output.\n\n\t* test/testunit/test_error.rb: ditto.\n\nThu Oct  2 20:33:49 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_failure_initialize): conform with\n\t  orthodox initialization method.\n\n\t* ext/iconv/iconv.c (iconv_fail): initialize exception instance\n\t  from the class, and do not share instance variables with the\n\t  others.  [ruby-dev:21470]\n\nThu Oct  2 18:20:27 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (Init_Time): define initialize.  [ruby-dev:21469]\n\nThu Oct  2 17:39:38 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_engine.c: add a new module OpenSSL::Engine.\n\t  it supports OpenSSL hardware cryptographic engine interface.\n\n\t* ext/openssl/ossl_engine.h: ditto.\n\n\t* ext/openssl/MANIFEST: add ossl_engine.c and ossl_engine.h.\n\n\t* ext/openssl/extconf.rb: add check for openssl/engine.h.\n\n\t* ext/openssl/ossl.c: call Init_ossl_engine().\n\n\t* ext/openssl/ossl.h: include openssl/engine.h.\n\n\t* ext/openssl/ossl_pkey_{rsa,dsa,dh}.c: check if underlying\n\t  EVP_PKEY referes engine.\n\nThu Oct  2 17:22:37 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_load): restore instance variables (if any) before\n\t  loading from marshaled data.\n\nThu Oct  2 14:19:15 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_fail): now yield erred substring, and\n\t  set error object to $!.\n\n\t* ext/iconv/iconv.c (iconv_convert): error handler block should\n\t  return appended part and the rest.  if rest is nil, the\n\t  conversion stops.\n\nThu Oct  2 12:00:18 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (rb_const_defined_0): look up constants in Object as\n\t  well.  [ruby-dev:21458]\n\n\t* test/ruby/test_defined.rb (TestDefined::test_defined): test for\n\t  constants.\n\nThu Oct  2 11:17:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: should not capture an\n\t  AssertionFailedError unless explicitly requested.\n\n\t* test/testunit/test_assertions.rb: ditto.\n\n\t* test/testunit/collector/test_objectspace.rb: fixed a test failure\n\t  caused by methods being returned in different orders on different\n\t  platforms by moving test sorting from TestSuite into the locations\n\t  where suites are constructed. [ruby-talk:83156]\n\n\t* lib/test/unit/testcase.rb: ditto.\n\n\t* lib/test/unit/testsuite.rb: ditto.\n\n\t* lib/test/unit/collector/objectspace.rb: ditto.\n\nThu Oct  2 03:25:01 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_thread_raise): prototype; avoid VC++ warning.\n\nThu Oct  2 01:37:34 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_mdump): new marshal dumper. _dump is still\n\t  available for compatibility.\n\n\t* time.c (time_mload): new marshal loader.\n\n\t* marshal.c (w_object): preserve instance variables for objects\n\t  with marshal_dump.\n\n\t* marshal.c (r_object0): restore instance variables before calling\n\t  marshal_load.\n\n\t* error.c (rb_warn_m): always return nil.\n\nThu Oct  2 01:32:46 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_block_given_p): real required condition is\n\t  ruby_frame->prev->iter == ITER_CUR.\n\n\t* eval.c (rb_block_given_p): ditto.\n\n\t* eval.c (block_pass): update ruby_frame->iter only when previous\n\t  value is ITER_NOT.\n\nThu Oct  2 01:02:35 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_const_defined_at): should exclude constants from\n\t  Object when TYPE(klass) == T_MODULE *and* exclude is on.\n\t  [ruby-dev:21458]\n\n\t* variable.c (rb_const_get_0): do not lookup constants from Object\n\t  when TYPE(klass) == T_MODULE *and* exclude is on.\n\nThu Oct  2 00:21:11 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/logger/test_logger.rb: unlinking file before close causes\n\t  problem under win32 box.\n\n\t* lib/xsd/datatypes.rb(XSDFloat, XSDDouble): add +/- sign explicitly\n\t  when stringified and embedded into XML instance.  Ruby's sprintf may\n\t  format -0.0 as \"0.0\" (no minus sign) depending on underlying C\n\t  sprintf implementation.\n\n\t* test/xsd/test_xsd.rb, test/soap/test_basetype.rb: follow above change.\n\n\t* test/soap/calc/*: give httpd config param \"CGIInterpreter\".\n\t  \"/usr/bin/env ruby\" thing does not work under non-Unix boxes.\n\nThu Oct  2 00:25:21 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (ruby_signal_name): adjust to the prototype.\n\n\t* process.c (pst_inspect): ditto.\n\n\t* ext/etc/etc.c (etc_getgrent, Init_etc): typo.\n\nWed Oct  1 20:49:41 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (heaps): manage slots and limits together.  [ruby-dev:21453]\n\n\t* gc.c (add_heap): should not clear heaps slot even if realloc()\n\t  failed.\n\nWed Oct  1 20:36:49 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* MANIFEST: add wince/mkconfig_wce.rb.\n\nWed Oct  1 17:22:33 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/etc/etc.c: add new functions: setpwent, getpwent, endpwent,\n\t  setgrent, getgrent, endgrent.\n\n\t* ext/socket/socket.c (sock_s_gethostbyname): do not reverse lookup.\n\nWed Oct  1 17:01:30 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_load): Object scope had priority over required file\n\t  scope.  [ruby-dev:21415]\n\nWed Oct  1 14:09:53 2003  Takaaki Uematsu  <uema2x@jcom.home.ne.jp>\n\n\t* wince/mkconfig_wce.rb: sorry, forget to commit.\n\nWed Oct  1 10:08:42 2003  Takaaki Uematsu  <uema2x@jcom.home.ne.jp>\n\n\t* wince/setup.mak: add sigmarionIII SDK support.\n\n\t* wince/Makefile.sub: ditto.\n\n\t* wince/mkexports.rb: fix linker error in SH4.\n\n\t* wince/mkconfig_wce.rb: camouflage RUBY_PLATFORM for compiling ext.\n\nWed Oct  1 08:02:52 2003  Takaaki Uematsu  <uema2x@jcom.home.ne.jp>\n\n\t* wince/time_wce.c (time): add zero check.\n\nTue Sep 30 16:11:05 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* Makefile.in: copy lex.c from $(srcdir) if it's not the current\n\t  directory.  [ruby-dev:21437]\n\nTue Sep 30 11:29:23 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* process.c (pst_inspect): describe stopped process \"stopped\".\n\nTue Sep 30 09:31:56 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/runner.rb: glob for directories.\n\nTue Sep 30 09:11:43 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): while/until should not capture break unless\n\t  they are destination of the break.\n\nTue Sep 30 03:12:02 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (finish): revert to 1.93.\n\n\t* lib/net/pop.rb (finish): revert to 1.60.\n\n\t* lib/net/smtp.rb (finish): revert to 1.67.\n\n\t* lib/net/http.rb (do_start): ensure to close socket if failed to\n\t  start session.\n\n\t* lib/net/pop.rb (do_start): ditto.\n\n\t* lib/net/smtp.rb (do_start): ditto.\n\n\t* lib/net/smtp.rb: SMTP#started? wrongly returned false always.\n\nTue Sep 30 02:54:49 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_iterator.rb: new test\n\t  test_break__nested_loop[123].\n\nMon Sep 29 23:39:13 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (finish): does not raise IOError even if\n\t  !started?, to allow closing socket which was opened before\n\t  session started.\n\n\t* lib/net/pop.rb (finish): ditto.\n\n\t* lib/net/smtp.rb (finish): ditto.\n\nMon Sep 29 19:06:51 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/win32ole/extconf.rb: add windows.h checking.\n\t  (ruby-bugs:PR#1185)\n\nMon Sep 29 16:18:30 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: check if the given logdevice object respond_to :write\n\t  and :close, not is_a? IO.  duck duck.\n\n\t* test/logger/test_logger.rb: self IO.pipe reading/writing may be\n\t  locked by the flood.  use tempfile.\n\n\t* lib/wsdl/xmlSchema/data.rb: wrong constant reference.\n\nMon Sep 29 16:11:23 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: clean up temporary symlink.\n\t  Patched by NaHi.  [ruby-dev:21420]\n\nMon Sep 29 11:16:55 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_atfork): wrong format specifier.\n\t  [ruby-dev:21428]\n\n\t* process.c (pst_inspect): better description.\n\nMon Sep 29 02:31:44 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/utils.rb (Utils::su): use setgid and setuid to\n\t  set real and effective IDs. and setup group access list by\n\t  initgroups.\n\nSun Sep 28 11:14:19 2003  Koji Arai  <jca02266@nifty.ne.jp>\n\n\t* ext/digest/digest.c (Init_digest): `copy_object' was deprecated.\n\t  `initialize_copy' should be defined.\n\n\t* ext/stringio/stringio.c (Init_stringio): ditto.\n\nSat Sep 27 18:25:13 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/xsd/charset.rb: XSD::Charset.is_ces did return always true under\n\t  $KCODE = \"NONE\" environment.  check added.\n\n\t* test/xsd/test_xsd.rb: add tests for above fix.\n\nSat Sep 27 15:58:50 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/rpc/cgistub.rb: make logging severity threshold higher.\n\n\t* lib/soap/rpc/standaloneServer.rb: defer WEBrick server start to give\n\t  a chance to reset logging severity threshold.\n\n\t* test/soap/calc/test_*, test/soap/helloworld/test_helloworld.rb: run\n\t  silent.\n\nSat Sep 27 09:44:18 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: clear all errors on Windows.\n\t  [ruby-dev:21417]\n\n\t* test/fileutils/test_nowrite.rb: ditto.\n\nSat Sep 27 04:57:07 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_file.rb: new file.  only asserts unlink-before-close\n\t  behaviour now.\n\n\t* test/soap/marshal/test_digraph.rb: should close before unlink.\n\t  unlink-before-close pattern is not needed here.\n\nSat Sep 27 03:32:37 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/*, test/wsdl/*, test/xsd/*: move TestCase classes into\n\t  each module namespace.  TestMarshal in\n\t  test/soap/marshal/test_marshal.rb crashed with\n\t  test/ruby/test_marshal.rb.\n\nSat Sep 27 01:30:59 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect): on win32, type of the 4th\n\t  argument of getsockopt is char *.\n\nFri Sep 26 18:35:40 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/resolv-replace.rb: 1.8 compliance.  [ruby-talk:82946]\n\nFri Sep 26 17:39:27 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_marshal.rb: add test for ruby's objects.\n\nFri Sep 26 09:52:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* defines.h (flush_register_windows): use volatile only for gcc on\n\t  Solaris.  [ruby-dev:21403]\n\n\t* lib/mkmf.rb (xsystem): use system directly to honor shell meta\n\t  charaters.\n\nFri Sep 26 00:10:13 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/README: updated.\n\nThu Sep 25 17:48:10 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl.c (ossl_buf2str): fix type of 1st argument for\n\t  rb_protect.\n\n\t* ext/openssl/ossl_hmac.c (ossl_hmac_digest): should return meaningful\n\t  value.\n\nThu Sep 25 09:00:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/ostruct.rb: Added OpenStruct#==.\n\n\t* test/ostruct/test_ostruct.rb: Added.\n\nThu Sep 25 07:55:26 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c, ext/openssl/ossl_pkey_dsa.c,\n\t  ext/openssl/ossl_pkey_rsa.c, ext/bigdecimal/bigdecimal.h: must\n\t  not use C++ or C99 style comment yet.  (ruby-bugs:PR#1184)\n\nThu Sep 25 00:23:22 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* MANIFEST: add SOAP4R.\n\nThu Sep 25 00:13:15 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/* (29 files): SOAP4R added.\n\n\t* lib/wsdl/* (42 files): WSDL4R added.\n\n\t* lib/xsd/* (12 files): XSD4R added.\n\n\t* test/soap/* (16 files): added.\n\n\t* test/wsdl/* (2 files): added.\n\n\t* test/xsd/* (3 files): added.\n\n\t* sample/soap/* (27 files): added.\n\n\t* sample/wsdl/* (13 files): added.\n\nWed Sep 24 02:08:11 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb: conform to mswin32.\n\t  [ruby-talk:82735], [ruby-talk:82748], [ruby-talk:82818]\n\nTue Sep 23 23:10:16 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: add Logger#<<(msg) for writing msg without any\n\t  formatting.\n\n\t* test/logger/test_logger.rb: ditto.\n\nTue Sep 23 20:47:51 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (rb_warn_m): should not warn if -W0 is specified.\n\t  [ruby-talk:82675]\n\nMon Sep 22 21:28:57 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* MANIFEST: updated.\n\nMon Sep 22 19:22:26 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* configure.in (AC_CHECK_FUNCS): add setuid and setgid.\n\nMon Sep 22 12:34:55 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): skip preceding zeros before counting\n\t  digits in the mantissa. (ruby-bugs:PR#1181)\n\nSun Sep 21 04:12:36 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspreq_initialize): the argument\n\t  should be a String.\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspres_initialize): ditt.\n\n\t* ext/openssl/ossl_x509attr.c (ossl_x509attr_initialize): ditto.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_initialize): ditto.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_set_value): ditto.\n\nSat Sep 20 11:49:05 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: typo fixed.\n\n\t* test/logger/test_logger.rb: new file.\n\nFri Sep 19 11:39:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* test/testunit/*: Added.\n\n\t* lib/test/unit.rb: Documentation update.\n\n\t* lib/test/unit/ui/console/testrunner.rb (TestRunner#initialize):\n\t  Ditto.\n\n\t* lib/test/unit.rb: Factored out an ObjectSpace collector.\n\n\t* lib/test/unit/collector/objectspace.rb: Ditto.\n\n\t* sample/testunit/*: Added.\n\nFri Sep 19 01:00:48 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/log.rb (BasicLog#log): get rid of as ineffectual\n\t  condition.\n\n\t* lib/webrick/log.rb (BasicLog#format): add \"\\n\" to message.\n\nThu Sep 18 22:43:20 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): should push PROT_PCALL tag for orphans.\n\n\t* eval.c (proc_invoke): should update \"result\" for orphans.\n\nThu Sep 18 20:33:03 2003  Tietew  <tietew-ml-ruby-list@tietew.net>\n\n\t* parse.y (str_xquote): do not prepend escapes in\n\t  backqoute literals.  [ruby-list:38409]\n\nThu Sep 18 20:30:17 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: update document.\n\nThu Sep 18 15:27:05 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: new file.  Logger, formerly called devel-logger or\n\t  Devel::Logger.\n\n\t* sample/logger/*: new file.  samples of logger.rb.\n\nWed Sep 17 23:41:45 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (localjump_destination): should not raise ThreadError\n\t  exception for \"break\". [ruby-dev:21348]\n\n\t* eval.c (proc_invoke): use result instead of prot_tag->retval.\n\t  retval is no longer propagated to the ancestors.\n\nWed Sep 17 20:34:00 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (tokadd_string, parse_string, yylex): escaped terminator\n\t  is now interpreted as is.  [ruby-talk:82206]\n\nWed Sep 17 18:52:36 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/fileassertions.rb: new file.\n\n\t* test/fileutils/test_fileutils.rb: new file.\n\n\t* test/fileutils/test_nowrite.rb: new file.\n\nWed Sep 17 18:51:02 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/strscan/test_stringscanner.rb: require test/unit.\n\nWed Sep 17 18:35:34 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/strscan/test_stringscanner.rb: new file.\n\nWed Sep 17 18:03:30 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl: all files are reviewed to simplify and avoid memory leak.\n\n\t* ext/openssl/extconf.rb: add check for assert.h.\n\n\t* ext/openssl/ossl.c (ossl_buf2str): new function to convert\n\t  C buffer to String and free buffer.\n\n\t* ext/openssl/ossl.c (ossl_x509_ary2sk): new function to convert\n\t  Array of OpenSSL::X509 to STACK_OF(X509) with exception safe.\n\n\t* ext/openssl/ossl.c (ossl_to_der, ossl_to_der_if_possible): new\n\t  functions to convert object to DER string.\n\n\t* ext/openssl/ossl.h: ditto.\n\n\t* ext/openssl/ossl_bio.c (ossl_membio2str): new function to convert\n\t  BIO to String object and free BIO.\n\n\t* ext/openssl/ossl_bio.h: ditto.\n\n\t* ext/openssl/ossl_pkcs7.c (ossl_pkcs7_to_der): add for \"to_der\".\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_to_der): ditto.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_to_der): ditto.\n\n\t* ext/openssl/ossl_x509ext.c (create_ext_from_array): removed\n\t  and reimplement in openssl/x509.rb.\n\n\t* ext/openssl/ossl_x509attr.c: reimplemented and disable some\n\t  method temporarily. this class doesn't work fine without ASN.1\n\t  data support;-) I'll rewrite in near future.\n\n\t* ext/openssl/lib/openssl/x509.c (X509::Attribute): get rid off\n\t  unused code.\n\n\t* ext/openssl/lib/openssl/x509.c (X509::ExtensionFactory): refine all.\n\nTue Sep 16 22:25:06 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: add negative tests of row_sep.\n\nTue Sep 16 18:02:36 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regex.c (re_compile_pattern): should not translate character\n\t  class range edge. [ruby-list:38393]\n\nTue Sep 16 16:47:56 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* MANIFEST: add test/csv/mac.csv.\n\n\t* win32/Makefile.sub, bcc32/Makefile.sub (test): add phony NUL target.\n\nMon Sep 15 19:02:52 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb: add extra pamameter to specify row(record) separater\n\t  character.  To parse Mac's CR separated CSV, do like this.\n\t    CSV.open(\"mac.csv\", \"r\", ?,, ?\\r) { |row| p row.to_a }\n\t  The 3rd parameter in this example ?, is for column separater and the\n\t  4th ?\\r is for row separater.  Row separater is nil by default.  Nil\n\t  separater means \"\\r\\n\" or \"\\n\".\n\n\t* test/csv/test_csv.rb: add tests for above feature.\n\n\t* test/csv/mac.csv: added.  Sample CR separated CSV file.\n\nFri Sep 12 22:41:48 2003  Michal Rokos  <m.rokos@sh.cvut.cz>\n\n\t* ext/openssl/ossl.c: move ASN.1 stuff to ossl_asn1.[ch]\n\n\t* ext/openssl/ossl.c: move BIO stuff to ossl_bio.[ch]\n\n\t* ext/openssl/ossl_asn1.[ch]: new files\n\n\t* ext/openssl/ossl_bio.[ch]: new files\n\nFri Sep 12 12:30:41 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (rb_disable_super, rb_enable_super): replace with dummy\n\t  expressions instead of prototypes.  the functions remain yet for\n\t  binary compatibility.  [ruby-talk:81758]\n\nFri Sep 12 12:09:54 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_and): convert argument using 'to_int'.\n\n\t* bignum.c (rb_big_or): ditto.\n\n\t* bignum.c (rb_big_xor): ditto.\n\nFri Sep 12 07:06:14 2003  David Black  <dblack@superlink.net>\n\n\t* lib/scanf.rb: Took out useless @matched_item variable; some small\n\t  refactoring.\n\nThu Sep 11 08:43:44 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_require): allow \"require\" on $SAFE>0, if feature\n\t  name is not tainted.\n\n\t* lib/rexml/parsers/baseparser.rb (REXML::Parsers::BaseParser::stream):\n\t  Supports StringIO.\n\nWed Sep 10 22:47:30 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.h: add a workaround for win32 platform.\n\t  libeay32.dll doesn't export functions defined in conf_api.h.\n\n\t* ext/openssl/ossl_config.c (ossl_config_initialize): ditto.\n\n\t* ext/openssl/ossl_config.c (ossl_config_add_value): ditto.\n\n\t* ext/openssl/ossl_config.c (set_conf_section_i): should check\n\t  if the argument is Array.\n\nWed Sep 10 22:41:54 2003  Tietew  <tietew@tietew.net>\n\n\t* eval.c (win32_get_exception_list): avoid VC7 warning.\n\t  [ruby-win32:577]\n\nTue Sep  9 10:39:51 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (struct tag): dst should be VALUE.\n\nTue Sep  9 10:39:51 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (localjump_destination): stop at the scope where the current\n\t  block was created.  [ruby-dev:21353]\n\nTue Sep  9 05:17:04 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_config.rb: avoid compile error in OpenSSL-0.9.6.\n\nTue Sep  9 02:41:35 2003  Michal Rokos  <m.rokos@sh.cvut.cz>\n\n\t* ext/openssl/ossl_config.c: Refine compatibility.\n\nTue Sep  9 01:50:45 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpserver.rb (HTTPServer#access_log): add \"\\n\" to\n\t  the message.\n\n\t* lib/webrick/log.rb (BasicLog#log): add \"\\n\" only if needed.\n\nMon Sep  8 22:15:33 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: modify security check at creating\n\t  a new interpreter\n\nMon Sep  8 20:00:12 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb, lib/optparse/version.rb: search also all\n\t  capital versions.\n\nMon Sep  8 19:26:33 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.h: include openssl/conf.h and openssl/conf_api.h.\n\n\t* ext/openssl/ossl_config.c: refine all with backward compatibility.\n\n\t* ext/openssl/ossl_config.h: export GetConfigPtr() and DupConfigPtr().\n\n\t* ext/openssl/ossl_x509.c: added new constants under X509 module.\n\t  DEFAULT_CERT_AREA, DEFAULT_CERT_DIR, DEFAULT_CERT_FILE,\n\t  DEFAULT_CERT_DIR_ENV, DEFAULT_CERT_FILE_ENV and DEFAULT_PRIVATE_DIR.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509extfactory_free): don't free\n\t  the members of the struct. it's left to GC.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509_set_config): add for config=.\n\n\t* ext/openssl/ossl_x509ext.c (Xossl_x509extfactory_initialize):\n\t  add attr readers: issuer_certificate, subject_certificate,\n\t  subject_request, crl and config.\n\nMon Sep  8 18:26:41 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/accesslog.rb (AccessLog::setup_params): use req.port\n\t  instead of config[:Port] or req.request_uri.port.\n\n\t* lib/webrick/httprequest.rb (HTTPRequest#meta_vars): ditto.\n\n\t* lib/webrick/httpservlet/filehandler.rb (FileHandler#dir_list): ditto.\n\n\t* lib/webrick/config.rb: :Listen option never be used.\n\n\t* lib/webrick/server.rb (GenericServer#initialize): don't use :Listen\n\t  option and add warning message.\n\n\t* lib/webrick/log.rb (BasicLog#<<): shortcut of log(INFO, ...).\n\n\t* lib/webrick/httpserver.rb (HTTPServer#accesslog): use << for logging.\n\nSun Sep  7 16:08:28 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (lib_mainloop_core): fixed signal-trap bug\n\n\t* ext/tk/lib/*.rb: Ruby/Tk works at $SAFE == 4\n\nSat Sep  6 02:26:34 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_*.rb: assert_same, assert_match, and so on.\n\nSat Sep  6 18:45:46 2003  Mauricio Fernandez  <batsman.geo@yahoo.com>\n\n\t* parse.y (assignable): call rb_compile_error(), not rb_bug().\n\t  [ruby-core:01523]\n\nSat Sep  6 17:40:41 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ruby_missing.c: rid of unnecessary backward\n\t  compatibility stuff. and remove DEFINE_ALLOC_WRAPPER from\n\t  all sources.\n\n\t* ext/openssl/ossl_x509ext.c (X509::Extension.new): new method.\n\n\t* ext/openssl/ossl_x509ext.c (X509::Extension#oid=): new method.\n\n\t* ext/openssl/ossl_x509ext.c (X509::Extension#value=): new method.\n\n\t* ext/openssl/ossl_x509ext.c (X509::Extension#critical=): new method.\n\nSat Sep  6 01:23:22 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild): need to quote cmd if RUBYSHELL is set.\n\n\t* win32/win32.c (CreateChild): fix condition about whether to call\n\t  shell or not.\n\nSat Sep  6 00:36:20 2003  Nobuyoshi Nakada  <nobu.nokada@softhome.net>\n\n\t* Makefile.in (test): phony target.\n\n\t* lib/mkmf.rb (have_library, find_library): configure by library\n\t  name.\n\n\t* lib/optparse.rb (OptionParser#order, #permute, #parse): allow an\n\t  array as argument.\n\n\t* test/ruby/test_*.rb: moved invariants to left side in\n\t  assert_equal, and use assert_nil, assert_raises and so on.\n\n\t* win32/win32.c (isInternalCmd): distinguish command.com and\n\t  cmd.exe.\n\n\t* win32/win32.c (make_cmdvector): a character just after wildcard\n\t  was ignored.  [ruby-core:01518]\n\nFri Sep  5 20:27:08 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_*.rb: replace 'assert(a == b)' with assert_equal(a, b)'\n\nFri Sep  5 18:00:51 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/x509.rb: new method X509::Name::parse.\n\n\t* ext/openssl/ossl_digest.c: add ossl_digest_new().\n\n\t* ext/openssl/ossl_digest.h: ditto.\n\n\t* ext/openssl/ossl_cipher.c: add ossl_cipher_new().\n\n\t* ext/openssl/ossl_cipher.h: ditto.\n\nFri Sep  5 15:32:04 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-font-lock-maybe-here-docs): should not\n\t  search delimiter forward if found in backward.\n\nFri Sep  5 13:32:48 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/runner.rb: arguments should be keys.\n\nFri Sep  5 12:09:55 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/ruby/test_system.rb (test_system): check existence of ruby\n\t  interpreter.\n\nFri Sep  5 11:32:17 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (--version): fix assignment/reference order.\n\n\t* lib/optparse.rb (OptionParser#help): new; OptionParser#to_s may\n\t  be deprecated in future.\n\n\t* lib/optparse/version.rb (OptionParser#show_version): hide Object.\n\n\t* test/runner.rb: fix optparse usage.\n\n\t* test/runner.rb: glob all testsuits if no tests given.\n\nFri Sep  5 10:42:58 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/runner.rb: added.  gets testcases from command line and runs it.\n\n\t* test/ruby/test_gc.rb: remove useless part which was for dumping test\n\t  result.\n\nFri Sep  5 09:28:59 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_gc.rb: added.  splitter.rb which I made to split\n\t  sample/test.rb into test/ruby/test_* kindly removed GC test (the\n\t  last section in the original test) to reduce things to be worried.\n\nFri Sep  5 03:00:04 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (test_block_in_arg): add no block\n\t  given tests.\n\n\t* test/ruby/test_iterator.rb (test_ljump): uncomment LocalJumpError\n\t  test.\n\nFri Sep  5 01:10:11 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby: tests for ruby itself.\n\n\t* test/ruby/test_*.rb: split sample/test.rb into 28 test/unit testcases.\n\t  some tests could not be translates...  search '!!' mark to see it.\n\n\t* test/csv/test_csv.rb: should require 'csv', not '../lib/csv'.  test\n\t  runner should set load path correctly.\n\nFri Sep  5 01:03:59 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: close opened files for CSV::IOBuf explicitly.\n\t  opened file cannot be removed under win32 box.\n\nThu Sep  4 23:59:40 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (tokadd_string): newlines have no special meanings in\n\t  %w/%W, otherwise they are ignored only when interpolation is\n\t  enabled.  [ruby-dev:21325]\n\nThu Sep  4 19:38:25 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* ext/io/wait/.cvsignore: added.\n\n\t* ext/openssl/.cvsignore: added.\n\nThu Sep  4 19:28:24 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* sample/openssl: added.  Sample of standard distribution library\n\t  should be locate in sample/{module_name}/*.\n\n\t* ext/openssl/sample/*: removed.  move to sample/openssl/*.\n\nThu Sep  4 18:02:15 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: use remove_const to reduce warnings.  use\n\t  Dir.tmpdir to locate working files.\n\nThu Sep  4 17:41:31 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-here-doc-beg-re): underscore also is\n\t  valid delimiter.\n\n\t* misc/ruby-mode.el (ruby-here-doc-end-match): must quote\n\t  arbitrary string to use as regexp.\n\n\t* misc/ruby-mode.el (ruby-font-lock-maybe-here-docs): must not\n\t  call `ruby-here-doc-end-match' unless `ruby-here-doc-beg-re'\n\t  matched.\n\nThu Sep  4 15:40:07 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: run on test/unit original layer.\n\nThu Sep  4 12:54:50 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/token.c: headerless documents with root-level spacing now\n\t  honored.\n\nThu Sep  4 00:06:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (mark_frame_adj): need to adjust argv pointer if using\n\t  system's alloca. [ruby-core:01503]\n\nWed Sep  3 21:33:20 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test: add test directory.  Test::Unit aware testcases and needed\n\t  files should be located in this directory.  dir/file name convention;\n\t    test/{module_name}/test_{testcase_name}.rb\n\t    test/{module_name}/{needed_files}\n\t  someday, someone will write testrunner which searches test_*.rb and\n\t  run testcases automatically.\n\n\t* test/csv/*: add testcase for lib/csv.rb.\n\nWed Sep  3 01:37:09 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_gets): should call next_argv() before type check\n\t  current_file. [ruby-list:38336]\n\nTue Sep  2 20:37:15 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/net/protocols.rb (SSLIO#ssl_connect): warning\n\t  for skipping server verification.\n\nTue Sep  2 23:36:57 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): should retrieve retval when pcall is true.\n\nTue Sep  2 14:09:20 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/extconf.rb: check s6_addr8 in in6_addr (Tru64 UNIX).\n\t  the patch is submitted by nmu <nmu@users.sourceforge.jp>.\n\n\t* ext/socket/getaddrinfo.c (getaddrinfo): should use in6_addr8 on\n\t  some platforms.\n\n\t* ext/socket/getnameinfo.c (getnameinfo): ditto.\n\nTue Sep  2 14:02:19 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_invoke): fixed bug on passing a exception\n\n\t* ext/tk/lib/{tk.rb, tkcanvas.rb, tkfont.rb, tktext.rb}:\n\t  bug fix and improvement of font control\n\nTue Sep  2 09:51:36 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): should not handle exceptions within rescue\n\t  argument.  [ruby-talk:80804]\n\nTue Sep  2 00:44:37 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_memsearch): fix overrun.  [ruby-talk:80759]\n\nTue Sep  2 00:41:27 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (map_charset): use lower case keys.\n\n\t* ext/iconv/iconv.c (iconv_fail): just yield error and return the\n\t  result if a block is given.\n\n\t* ext/iconv/iconv.c (iconv_convert): yield error and append the\n\t  result if a block is given.\n\n\t* ext/iconv/charset_alias.rb (charset_alias): optional third\n\t  argument.\n\n\t* ext/iconv/charset_alias.rb (charset_alias): use CP932 instead of\n\t  SHIFT_JIS on cygwin.\n\nMon Sep  1 18:34:25 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): make tail recursion in ELSE clause of\n\t  RESCUE a jump.\n\nMon Sep  1 18:00:02 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (aref_args): forgot to call NEW_SPLAT(). reported by\n\t  Dave Butcher.\n\n\t* eval.c (Init_Thread): protect thgroup_default.  suggested by Guy\n\t  Decoux in [ruby-talk:80623]\n\nMon Sep  1 16:59:10 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_switch): add RESTORE_EXIT; exit by another\n\t  thread termination.\n\n\t* eval.c (rb_thread_start_0): should not error_print() within\n\t  terminated thread, because $stderr used by it might be\n\t  overriden now.  [ruby-dev:21280]\n\nSun Aug 31 22:46:55 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* eval.c (TAG_DST()): take no argument.\n\n\t* process.c (p_gid_sw_ensure): return VALUE.\n\nSun Aug 31 22:27:10 2003  Hidetoshi NAGAI  <nagai@dumbo.ai.kyutech.ac.jp>\n\n\t* process.c (p_gid_sw_ensure): lack of function type\n\nSun Aug 31 12:25:06 2003  Nobuyoshi Nakada  <nobu.nokada@softhome.net>\n\n\t* lib/optparse.rb: --version takes an optional argument; \"all\" or\n\t  a list of package names.\n\nSun Aug 31 10:17:02 2003  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: yyyy/mm is not an acceptable format.\n\n\t* lib/time.rb: follow above.\n\nSat Aug 30 14:25:43 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_iter_break): should not call TAG_JUMP directly.\n\nSat Aug 30 03:58:21 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (struct BLOCK): remove BLOCKTAG, use scope instead.\n\n\t* eval.c (POP_TAG): no longer propagate retval.  retval is now set\n\t  directly by localjump_destination().\n\n\t* eval.c (localjump_destination): new function to cast\n\t  return/break local jump.\n\n\t* eval.c (rb_yield_0): stop TAG_RETURN/TAG_BREAK escaping.\n\nFri Aug 29 22:35:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* bigdecimal.c *.html: The 2nd arg. for add,sub,mult, and div is 0,\n\t  then result will be the same as +,-,*,/ respectively.\n\nFri Aug 29 17:30:15 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* process.c: bug fix\n\n\t* process.c: add rb_secure(2) to methods of Process::{UID,GID,Sys}\n\n\t* process.c: deny handling IDs during evaluating the block given to\n\t  the Process::{UID,GID}.switch method\n\n\t* ext/tcltklib/tcltklib.c: some methods have no effect if on slave-IP\n\n\t* ext/tcltklib/tcltklib.c: can create a interpreter without Tk\n\n\t* ext/tcltklib/tcltklib.c: bug fix on handling exceptions\n\n\t* ext/tcltklib/MANUAL.euc: modify\n\n\t* ext/tk/lib/tk.rb: freeze some core modules\n\n\t* ext/tk/lib/multi-tk.rb: more secure\n\n\t* ext/tk/lib/tk.rb: TkVariable.new(array) --> treat the array as the\n\t  Tk's list\n\n\t* ext/tk/lib/tk.rb: improve accessibility of TkVariable object\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tkfont.rb, ext/tk/lib/tkcanvas.rb,\n\t  ext/tk/lib/tktext.rb: fix bug of font handling\n\n\t* ext/tk/lib/tkfont.rb: TkFont.new() accepts compound fonts\n\nThu Aug 28 22:07:12 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_autoload_load): call const_missing if autoloading\n\t  constant is not defined to allow hook.\n\n\t* eval.c (rb_eval): use rb_const_get_from() instead of\n\t  rb_const_get_at().\n\n\t* eval.c (is_defined): forgot to check NODE_COLON3.\n\nThu Aug 28 17:30:24 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_const_get_0): should check constants defined in\n\t  included modules, if klass is Object. [ruby-talk:79302]\n\n\t* numeric.c (check_uint): check should be done using UINT_MAX, not\n\t  INT_MAX. this fix is submitted by Lyle Johnson\n\t  <lyle@knology.net> in [ruby-core:01486]\n\nThu Aug 28 05:02:52 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (singleton): typo fixed (ruby-bugs-ja:PR#562)\n\nThu Aug 28 02:37:45 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): *a = [1,2] now assigns [[1,2]] to a.\n\t  consistent with *a = [1], which set [[1]] to a.\n\n\t* node.h: merge NODE_RESTARY to NODE_SPLAT.\n\n\t* parse.y: rules simplified a bit by removing NODE_RESTARY.\n\n\t* sample/test.rb: updated for new assignment behavior.\n\nWed Aug 27 22:33:24 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (rb_bug): should not use other methods; this function is\n\t  not for ordinary use.  [ruby-dev:21259]\n\nWed Aug 27 15:07:57 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb (check_response): AUTH CRAM-MD5 returns 334\n\t  response. [ruby-list:38279]\n\nWed Aug 27 05:10:15 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (map_errno): support winsock error.\n\n\t* win32/win32.c (pipe_exec, CreateChild, poll_child_status, waitpid,\n\t  kill, link, rb_w32_rename, unixtime_to_filetime, rb_w32_utime):\n\t  pass errno to map_errno().\n\n\t* win32/win32.c (rb_w32_select, rb_w32_accept, rb_w32_bind,\n\t  rb_w32_connect, rb_w32_getpeername, rb_w32_getsockname,\n\t  rb_w32_getsockopt, rb_w32_ioctlsocket, rb_w32_listen, rb_w32_recv,\n\t  rb_w32_recvfrom, rb_w32_send, rb_w32_sendto, rb_w32_setsockopt,\n\t  rb_w32_shutdown, rb_w32_socket, rb_w32_gethostbyaddr,\n\t  rb_w32_gethostbyname, rb_w32_gethostname, rb_w32_getprotobyname,\n\t  rb_w32_getprotobynumber, rb_w32_getservbyname, rb_w32_getservbyport,\n\t  rb_w32_fclose, rb_w32_close): use map_errno().\n\n\t* win32/win32.h: add winsock errors.\n\nTue Aug 26 23:53:23 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/ostruct.rb (OpenStruct::method_missing): prohibit modifying\n\t  frozen OpenStruct. [ruby-talk:80214]\n\nTue Aug 26 20:03:50 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_tmpsrc): add the hook for source.\n\t  [ruby-list:38122]\n\nTue Aug 26 15:59:53 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* implicit.c (syck_type_id_to_taguri): corrected detection of\n\t  x-private types.\n\nSun Aug 24 01:02:48 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): performance improvement.\n\t  [ruby-talk:79748]\n\nSat Aug 23 23:41:16 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_s_expand_path): avoid calling rb_scan_args() for\n\t  apparent cases. [ruby-talk:79748]\n\nSat Aug 23 18:56:53 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_putchar): should use rb_str_resize() to just\n\t  resize a string, rb_str_cat() disallows NULL.  [ruby-dev:21237]\n\nSat Aug 23 16:48:41 2003  Keiju Ishitsuka  <keiju@ishitsuka.com>\n\n\t* lib/irb/ruby-lex.rb: bug fix for \"foo\" !~ /bar/. [ruby-talk:79942]\n\nSat Aug 23 15:59:58 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval, rb_iterate, block_pass): reduce PUSH/POP_TAG and\n\t  EXEC_TAG() for retry.  [ruby-dev:21216]\n\nSat Aug 23 02:32:33 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_splat): should check if \"values\" is array.\n\n\t* enum.c (each_with_index_i): typo.\n\nFri Aug 22 17:07:05 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (inject_i): use rb_yield_values.\n\n\t* enum.c (each_with_index_i): ditto.\n\n\t* eval.c (rb_yield_splat): new function to call \"yield *values\".\n\n\t* string.c (rb_str_scan): use rb_yield_splat().\n\nFri Aug 22 06:13:22 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: refactoring of the transfer method\n\t  dispatch.  added yaml_org_handler for faster dispatch of\n\t  transfers to base types.\n\n\t* lib/yaml/rubytypes.rb: removed handling of builtins from\n\t  Ruby library.\n\n\t* ext/syck/token.c: quoted and block scalars are now implicit !str\n\n\t* ext/syck/implicit.c: empty string detected as !null.\n\nFri Aug 22 01:00:31 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (block_pass): improve passing current block.\n\nFri Aug 22 00:13:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c: Int. overflow bug in multiplication\n\t  fixed, and VpNmlz() speed up.\n\nWed Aug 20 16:44:49 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect): many systems seem to have\n\t  a problem in select() after EINPROGRESS.  [ruby-list:38080]\n\nWed Aug 20 01:31:17 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/syck.h: Parser definition problems on HP-UX.\n\t  [ruby-talk:79389]\n\n\t* ext/syck/handler.c (syck_hdlr_get_anchor): Memory leak.\n\n\t* ext/syck/syck.s (syck_io_file_read): Bad arguments to fread.\n\n\t* ext/syck/rubyext.c: Tainting issues.\n\nTue Aug 19 23:20:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c .h .html: to_s(\"+\") implemented.\n\n\t* ext/bigdecimal/lib/bigdecimal/math.rb: E implemented.\n\nTue Aug 19 07:47:09 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/ssl.rb: new file; SSL/TLS enhancement for GenericServer.\n\n\t* lib/webrick/https.rb: SSLSocket handling is moved to webrick/ssl.rb.\n\n\t* lib/webrick/compat.rb (File::fnmatch): remove old migration code.\n\n\t* lib/webrick/httpserver.rb (HTTPServer#run): ditto.\n\n\t* lib/webrick/server.rb (GenericServer#listen): the body of this\n\t  method is pull out as Utils::create_lisnteners.\n\n\t* lib/webrick/utils.rb (Utils::create_lisnteners): new method.\n\n\t* lib/webrick/server.rb (GenericServer#start): should rescue\n\t  unknown errors. and refine comments.\n\n\t* ext/openssl/lib/openssl/ssl.rb (SSLServer#accept): should close\n\t  socket if SSLSocket raises error.\n\nTue Aug 19 11:19:33 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* io.c (next_argv): should not call GetOpenFile() if rb_stdout is\n\t  not a IO (T_FILE).\n\nTue Aug 19 07:47:09 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c: sync_close is moved to SSLSocket as\n\t  a builtin.\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#close): ditto.\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#puts): should\n\t  add a return to the tails of each line.\n\n\t* ext/openssl/lib/openssl/ssl.rb: new class OpenSSL::SSL::SSLServer.\n\n\t* ext/openssl/lib/net/protocols.rb (SSLIO#ssl_connect): use sync_close.\n\n\t* ext/openssl/sample/echo_svr.rb: use SSLServer.\n\n\t* ext/openssl/sample/echo_cli.rb: add example of SSLSocket#sync_close.\n\nTue Aug 19 01:24:34 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/curses/curses.c (_XOPEN_SOURCE_EXTENDED): Mac OS X standard\n\t  headers are inconsistent at this macro.  [ruby-core:01432]\n\n\t* ext/curses/extconf.rb: check if _XOPEN_SOURCE_EXTENDED breaks.\n\n\t* ext/tcltklib/stubs.c: Status macro in X11/Xthreads.h bothers\n\t  winspool.h\n\n\t* instruby.rb: make list at first instead of iterator.\n\t  [ruby-talk:79347]\n\nMon Aug 18 11:23:11 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (glob_helper): preserve raw order for **.\n\nSun Aug 17 23:39:55 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/extconf.rb (HAVE_VA_ARGS_MACRO): need to compile.\n\nSun Aug 17 17:10:03 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (SSLSocket#sync_close=): add a\n\t  method to specify if the underlying IO will be closed in\n\t  SSLSocket#close.\n\n\t* ext/openssl/lib/openssl/buffering.rb: add forwarders to\n\t  setsockopt, getsockopt and fcntl.\n\n\t* ext/openssl/lib/net/protocols.rb: enable sync for SSLSocket.\n\nSun Aug 17 11:32:04 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): should not force to remake Makefile when\n\t  installation and so on.\n\nSat Aug 16 23:58:18 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (w_symbol, w_object): get rid of warnings.\n\n\t* re.c (rb_memsearch): ditto.\n\n\t* time.c (time_dump): ditto.\n\n\t* ext/extmk.rb (extmake): not continue making when extconf.rb\n\t  failed.\n\n\t* ext/openssl/extconf.rb: check __VA_ARGS__ macro more precisely.\n\n\t* ext/openssl/ossl.h: remove version.h dependency.\n\n\t* ext/openssl/ruby_missing.h: ditto.\n\n\t* lib/mkmf.rb (pkg_config): use --libs output except with\n\t  only-L for other options.  [ruby-list:38099]\n\n\t* lib/mkmf.rb (create_makefile): separate rule for static\n\t  library from shared object.\n\n\t* win32/Makefile.sub, bcc32/Makefile.sub, wince/Makefile.sub:\n\t  define exec_prefix and libdir.\n\nFri Aug 15 23:15:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c .h: Bug in combination of limit & div\n\t  method fixed.\n\n\t* ext/bigdecimal/lib/bigdecimal/math.rb: atan() & sqrt() added.\n\nFri Aug 15 12:01:43 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (HUGE_ST_INO): check whether struct stat.st_ino\n\t  is larger than long.  [ruby-dev:21194]\n\t  http://www.geocities.co.jp/SiliconValley-PaloAlto/1409/ruby/beos.html\n\n\t* error.c (syserr_eqq): errno might exceed Fixnum limit.\n\n\t* error.c (Init_Exception): moved base initialization from\n\t  init_syserr().\n\n\t* inits.c (rb_call_inits): postpone initializing errnos until\n\t  Bignum is available.\n\nFri Aug 15 12:01:43 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/curses/curses.c (_XOPEN_SOURCE_EXTENDED): needed to let\n\t  keyname() and so on be declared.\n\n\t* ext/curses/curses.c (curses_resizeterm, window_resize):\n\t  arguments conflicted with macros in term.h.\n\n\t* ext/curses/curses.c (Curses module methods): ensure\n\t  initialized.  [ruby-dev:21191]\n\nFri Aug 15 02:08:53 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (id2ref): recycle check should be done by klass == 0.\n\t  [ruby-core:01408]\n\nFri Aug 15 01:34:23 2003  Michal Rokos  <m.rokos@sh.cvut.cz>\n\n\t* ext/openssl/ossl_pkey.c: move generate_cb here\n\n\t* ext/openssl/ossl_pkey_{dh|dsa|rsa}.c: adapt to this cb\n\n\t* ext/openssl/openssl_missing.[ch]: add (0.9.6x, x<j) missing BN funcs\n\n\t* ext/openssl/ossl_bn.c: use supplied funcs from openssl_missing.c\n\nFri Aug 15 00:38:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c: Bug in div method fixed.\n\n\t* ext/bigdecimal/lib/bigdecimal/math.rb: Newly added.\n\n\t* ext/bigdecimal/sample/pi.rb: Changed so as to use math.rb.\n\nThu Aug 14 21:19:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_Thread): Continuation#[] added.  [ruby-talk:79028]\n\nThu Aug 14 20:03:34 2003  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (OLE_FREE): should not call\n\t  ole_message_loop.\n\n\t* ext/win32ole/win32ole.c (ole_event_free): ditto.\n\n\t* ext/win32ole/win32ole.c (ole_initialize): stop calling\n\t  OleUninitialize at exit.\n\nThu Aug 14 11:27:37 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (rb_data_object_alloc): check type of 1st argument.\n\t  [ruby-dev:21192]\n\nThu Aug 14 00:21:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (mlhs_node): should allow \"::Foo\" (colon3) as lhs.\n\n\t* parse.y (lhs): ditto.\n\n\t* parse.y (yylex): should return tCOLON3 right after kCLASS.\n\t  [ruby-talk:78918]\n\n\t* error.c (exc_initialize): was converting argument to string too\n\t  eagerly.  Only check was needed. [ruby-talk:78958]\n\nWed Aug 13 23:31:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c .h .html: Ambiguity of\n\t  BigDecimal::limit removed.\n\nWed Aug 13 19:21:34 2003  Christian Neukirchen  <chneukirchen@yahoo.de>\n\n\t* lib/webrick/https.rb (HTTPServer#run): should set syncing-mode\n\t  to SSLSocket. [ruby-talk:78919]\n\nWed Aug 13 18:13:49 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (POP_BLOCK): turn on BLOCK_LEFT flag when leaving block.\n\n\t* eval.c (proc_invoke): unpack return/break destination when block\n\t  is already left.\n\nWed Aug 13 15:58:31 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* object.c (rb_class_s_alloc): add function prototype to avoid VC++\n\t  warning.\n\nWed Aug 13 13:50:59 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/Win32API/Win32API.c (Win32API_initialize): should pass some\n\t  class to first argument of Data_Wrap_Struct(). (ruby-bugs:PR#1109)\n\nTue Aug 12 16:55:11 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in: static link libraries to LIBRUBY_SO with static linked\n\t  ext.  [ruby-dev:21157]\n\n\t* ext/extmk.rb (extmake): sort extension library initialization order.\n\n\t* ext/extmk.rb (extmake): compact $extlibs.\n\nTue Aug 12 02:48:56 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (THREAD_SAVE_CONTEXT): should explicitly turn off the\n\t  flag before calling getcontext(2).\n\n\t* eval.c (struct thread): add member to save backing store on\n\t  IA64. (ruby-bugs PR1086)\n\n\t* eval.c (thread_mark): mark IA64 backing store region.\n\n\t* eval.c (thread_free): free saved IA64 backing store.\n\n\t* eval.c (rb_thread_save_context): save IA64 backing store as well.\n\n\t* eval.c (rb_thread_restore_context): restore IA64 backing store.\n\n\t* eval.c (THREAD_ALLOC): initialize IA64 members.\n\nMon Aug 11 22:31:50 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/debug.rb(debug_command): inspection command should inspect\n\t  resulting value even if it's nil.  [ruby-dev:21180] by OMAE, jun\n\t  <jun66j5@ybb.ne.jp>.\n\n\t* lib/debug.rb(debug_command): incomplete regexp.\n\nMon Aug 11 17:33:07 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call_super): do not use rb_block_given_p() for\n\t  check. [ruby-talk:78656]\n\n\t* eval.c (BEGIN_CALLARGS): push ITER_NOT only when ITER_PRE.\n\nSun Aug 10 10:43:05 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/buffering.rb: increase BLOCK_SIZE\n\t  from 1k to 16k bytes. [ruby-talk:78603]\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_s_alloc): enable\n\t  partial write to allow interruption in SSLSocket#write.\n\nSun Aug 10 00:34:16 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* cygwin/GNUmakefile: remove unnecessary '--drive-name=$(CC)'\n\t  for ccache.\n\nSat Aug  9 10:36:21 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): do not dump generic instance variable when\n\t  marshal_dump is defined.\n\nSat Aug  9 00:35:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal.c: F style output(like 1234.56789) implemented\n\t  to to_s method.\n\t* ext/bigdecimal_??.html: F style output(like 1234.56789)\n\t  implemented to to_s method.\n\nFri Aug  8 12:33:17 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* bcc32/Makefile.sub: rubyw.exe should be a Windows GUI program.\n\t  add the -aa option to WLDFLAGS.\n\nFri Aug  8 11:29:26 2003  Koji Arai  <jca02266@nifty.ne.jp>\n\n\t* marshal.c (w_object): should set `c_arg' at first.\n\nFri Aug  8 03:22:28 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (FormData#list): should not take\n\t  a side effect for the receiver.\n\nThu Aug  7 14:40:37 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* cygwin/GNUmakefile: better --disbale-shared option support.\n\n\t* cygwin/GNUmakefile: add forwarding DLL target for cygwin.\n\nThu Aug  7 14:21:05 2003  Corinna Vinschen  <vinschen@redhat.com>\n\n\t* configure.in: Fix Cygwin specific naming of libraries to\n\t  be net distribution compliant. (ruby-bugs:PR#1077)\n\t  cygwin-ruby18.dll -> cygruby18.dll\n\nThu Aug  7 12:51:38 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_at_exit): should not be called without a block.\n\t  block_given check added.\n\nThu Aug  7 06:46:06 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): forgot to pop ruby_class.\n\n\t* eval.c (rb_call0): update ruby_class as well as ruby_cref.\n\t  (ruby-bugs-ja:PR#540)\n\nThu Aug  7 04:52:50 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): remove ruby_frame->cbase and unify to\n\t  ruby_cref.  [ruby-talk:78141]\n\nThu Aug  7 04:19:15 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* gc.c: FreeBSD/ia64's mcontext_t is a bit different from that of\n\t  Linux/ia64.  This makes gc.c compile but miniruby coredumps for\n\t  the moment.\n\nThu Aug  7 00:15:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal.c: Comparison results adjusted to Float's.\n\t* ext/bigdecimal.c: Use rb_num_coerce_????(x,y) instead of own.\n\nWed Aug  6 22:58:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/testcase.rb: Added equality checking.\n\t* lib/test/unit/testsuite.rb: Added equality checking.\n\t* lib/test/unit/assertions.rb: Fixed a warning.\n\nWed Aug  6 17:28:10 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): pass LIBPATH to make ruby.  [ruby-dev:21137]\n\n\t* ext/extmk.rb (extmake): set library name as source file name in\n\t  Init_ext().  [ruby-dev:21137]\n\n\t* lib/mkmf.rb (Logging::postpone): postpone logging messages after\n\t  heading message as the result of the block.\n\n\t* lib/mkmf.rb (macro_defined?): append newline to src unless ended\n\t  with it.\n\n\t* lib/mkmf.rb (have_library): treat nil function name as \"main\".\n\t  (ruby-bugs:PR#1083)\n\n\t* lib/mkmf.rb (pkg_config): should append additional libraries to\n\t  $libs but not $LIBS.  [ruby-dev:21137]\n\n\t* ext/io/wait/extconf.rb: check DOSISH macro instead of platform.\n\n\t* ext/digest/sha1/extconf.rb: have_library already appends library\n\t  name.\n\nWed Aug  6 17:23:57 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c: initialize /* OK */ variables by Qnil to stop warnings.\n\nWed Aug  6 04:58:32 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/Setup*: add io/wait and openssl.\n\nWed Aug  6 01:13:38 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_autoload): use ruby_cbase instead of ruby_class.\n\n\t* eval.c (rb_f_autoload_p): ditto.\n\n\t* class.c (rb_mod_init_copy): no longer implements independent\n\t  clone and dup methods.  override \"initialize_copy\" instead.\n\t  [ruby-core:01352]\n\n\t* object.c (rb_class_s_alloc): define Class allocation function.\n\t  this makes Classes to follow clone framework that uses\n\t  initialize_copy.\n\n\t* object.c (rb_class_initialize): separate instantiation and\n\t  initialization.\n\n\t* object.c (rb_obj_alloc): prohibit instantiation from\n\t  uninitialized class.\n\n\t* object.c (rb_class_superclass): check uninitialized class.\n\n\t* array.c (rb_ary_fill): wrong index processing with block.  this\n\t  fix was done by Koji Arai <JCA02266@nifty.ne.jp> [ruby-list:38029]\n\n\t* marshal.c (w_object): should preserve generic ivar for nil,\n\t  true, false, symbols, and fixnums.\n\n\t* marshal.c (w_uclass): base_klass check should be done after\n\t  rb_class_real().\n\nWed Aug  6 01:18:50 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: update document.\n\n\t* lib/net/pop.rb: ditto.\n\n\t* lib/net/protocol.rb: ditto.\n\nWed Aug  6 00:48:37 2003  Koji Arai  <jca02266@nifty.ne.jp>\n\n\t* marshal.c (w_object): should recommend marshal_dump rather than\n\t  _dump_data.\n\nTue Aug  5 17:58:57 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/fileutils.rb (install): should preserve timestamp only.\n\nTue Aug  5 17:31:59 2003  Ian Macdonald  <ian@caliban.org>\n\n\t* lib/shell/command-processor.rb (Shell::CommandProcessor::rmdir):\n\t  simple typo.\n\nTue Aug  5 15:47:34 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_load): should preserve current source file/line.\n\nTue Aug  5 10:04:42 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_new4): ptr may refer null_str.\n\nMon Aug  4 17:25:18 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* stable version 1.8.0 released.\n\nFor the changes before 1.8.0, see doc/ChangeLog-1.8.0\n\nLocal variables:\nadd-log-time-format: (lambda ()\n  (let* ((time (current-time))\n\t (system-time-locale \"C\")\n\t (diff (+ (cadr time) 32400))\n\t (lo (% diff 65536))\n\t (hi (+ (car time) (/ diff 65536))))\n  (format-time-string \"%a %b %e %H:%M:%S %Y\" (list hi lo) t)))\nindent-tabs-mode: t\ntab-width: 8\nend:\n", "/* -*- C -*-\n * $Id$\n */\n\n#include <ruby.h>\n#include \"dl.h\"\n\nVALUE rb_cDLHandle;\n\nvoid\ndlhandle_free(struct dl_handle *dlhandle)\n{\n  if( dlhandle->ptr && dlhandle->open && dlhandle->enable_close ){\n    dlclose(dlhandle->ptr);\n  }\n}\n\nVALUE\nrb_dlhandle_close(VALUE self)\n{\n  struct dl_handle *dlhandle;\n\n  Data_Get_Struct(self, struct dl_handle, dlhandle);\n  dlhandle->open = 0;\n  return INT2NUM(dlclose(dlhandle->ptr));\n}\n\nVALUE\nrb_dlhandle_s_allocate(VALUE klass)\n{\n  VALUE obj;\n  struct dl_handle *dlhandle;\n\n  obj = Data_Make_Struct(rb_cDLHandle, struct dl_handle, 0,\n\t\t\t dlhandle_free, dlhandle);\n  dlhandle->ptr  = 0;\n  dlhandle->open = 0;\n  dlhandle->enable_close = 0;\n\n  return obj;\n}\n\nVALUE\nrb_dlhandle_initialize(int argc, VALUE argv[], VALUE self)\n{\n  void *ptr;\n  struct dl_handle *dlhandle;\n  VALUE lib, flag;\n  char  *clib;\n  int   cflag;\n  const char *err;\n\n  switch( rb_scan_args(argc, argv, \"02\", &lib, &flag) ){\n  case 0:\n    clib = NULL;\n    cflag = RTLD_LAZY | RTLD_GLOBAL;\n    break;\n  case 1:\n    clib = NIL_P(lib) ? NULL : StringValuePtr(lib);\n    cflag = RTLD_LAZY | RTLD_GLOBAL;\n    break;\n  case 2:\n    clib = NIL_P(lib) ? NULL : StringValuePtr(lib);\n    cflag = NUM2INT(flag);\n    break;\n  default:\n    rb_bug(\"rb_dlhandle_new\");\n  }\n\n  ptr = dlopen(clib, cflag);\n#if defined(HAVE_DLERROR)\n  if( !ptr && (err = dlerror()) ){\n    rb_raise(rb_eDLError, \"%s\", err);\n  }\n#else\n  if( !ptr ){\n    err = dlerror();\n    rb_raise(rb_eDLError, \"%s\", err);\n  }\n#endif\n  Data_Get_Struct(self, struct dl_handle, dlhandle);\n  if( dlhandle->ptr && dlhandle->open && dlhandle->enable_close ){\n    dlclose(dlhandle->ptr);\n  }\n  dlhandle->ptr = ptr;\n  dlhandle->open = 1;\n  dlhandle->enable_close = 0;\n\n  if( rb_block_given_p() ){\n    rb_ensure(rb_yield, self, rb_dlhandle_close, self);\n  }\n\n  return Qnil;\n}\n\nVALUE\nrb_dlhandle_enable_close(VALUE self)\n{\n  struct dl_handle *dlhandle;\n\n  Data_Get_Struct(self, struct dl_handle, dlhandle);\n  dlhandle->enable_close = 1;\n  return Qnil;\n}\n\nVALUE\nrb_dlhandle_disable_close(VALUE self)\n{\n  struct dl_handle *dlhandle;\n\n  Data_Get_Struct(self, struct dl_handle, dlhandle);\n  dlhandle->enable_close = 0;\n  return Qnil;\n}\n\nVALUE\nrb_dlhandle_to_i(VALUE self)\n{\n  struct dl_handle *dlhandle;\n\n  Data_Get_Struct(self, struct dl_handle, dlhandle);\n  return PTR2NUM(dlhandle);\n}\n\nVALUE\nrb_dlhandle_sym(VALUE self, VALUE sym)\n{\n    void (*func)();\n    struct dl_handle *dlhandle;\n    void *handle;\n    const char *name;\n    const char *err;\n    int i;\n\n#if defined(HAVE_DLERROR)\n# define CHECK_DLERROR if( err = dlerror() ){ func = 0; }\n#else\n# define CHECK_DLERROR\n#endif\n\n    rb_secure(2);\n\n    name = StringValuePtr(sym);\n\n    Data_Get_Struct(self, struct dl_handle, dlhandle);\n    if( ! dlhandle->open ){\n\trb_raise(rb_eDLError, \"closed handle\");\n    }\n    handle = dlhandle->ptr;\n\n    func = dlsym(handle, name);\n    CHECK_DLERROR;\n#if defined(FUNC_STDCALL)\n    if( !func ){\n\tint  len = strlen(name);\n\tchar *name_n;\n#if defined(__CYGWIN__) || defined(_WIN32) || defined(__MINGW32__)\n\t{\n\t    char *name_a = (char*)xmalloc(len+2);\n\t    strcpy(name_a, name);\n\t    name_n = name_a;\n\t    name_a[len]   = 'A';\n\t    name_a[len+1] = '\\0';\n\t    func = dlsym(handle, name_a);\n\t    CHECK_DLERROR;\n\t    if( func ) goto found;\n\t    name_n = xrealloc(name_a, len+6);\n\t}\n#else\n\tname_n = (char*)xmalloc(len+6);\n#endif\n\tmemcpy(name_n, name, len);\n\tname_n[len++] = '@';\n\tfor( i = 0; i < 256; i += 4 ){\n\t    sprintf(name_n + len, \"%d\", i);\n\t    func = dlsym(handle, name_n);\n\t    CHECK_DLERROR;\n\t    if( func ) break;\n\t}\n\tif( func ) goto found;\n\tname_n[len-1] = 'A';\n\tname_n[len++] = '@';\n\tfor( i = 0; i < 256; i += 4 ){\n\t    sprintf(name_n + len, \"%d\", i);\n\t    func = dlsym(handle, name_n);\n\t    CHECK_DLERROR;\n\t    if( func ) break;\n\t}\n      found:\n\txfree(name_n);\n    }\n#endif\n    if( !func ){\n\trb_raise(rb_eDLError, \"unknown symbol \\\"%s\\\"\", name);\n    }\n\n    return PTR2NUM(func);\n}\n\nvoid\nInit_dlhandle()\n{\n    rb_cDLHandle = rb_define_class_under(rb_mDL, \"Handle\", rb_cObject);\n    rb_define_alloc_func(rb_cDLHandle, rb_dlhandle_s_allocate);\n    rb_define_method(rb_cDLHandle, \"initialize\", rb_dlhandle_initialize, -1);\n    rb_define_method(rb_cDLHandle, \"to_i\", rb_dlhandle_to_i, 0);\n    rb_define_method(rb_cDLHandle, \"close\", rb_dlhandle_close, 0);\n    rb_define_method(rb_cDLHandle, \"sym\",  rb_dlhandle_sym, 1);\n    rb_define_method(rb_cDLHandle, \"[]\",  rb_dlhandle_sym,  1);\n    rb_define_method(rb_cDLHandle, \"disable_close\", rb_dlhandle_disable_close, 0);\n    rb_define_method(rb_cDLHandle, \"enable_close\", rb_dlhandle_enable_close, 0);\n}\n"], "fixing_code": ["Mon May 11 23:14:06 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ext/dl/dl.c (rb_dlhandle_initialize): prohibits DL::dlopen\n\t  with a tainted name of library.\n\t  Patch by sheepman <sheepman AT sheepman.sakura.ne.jp>.\n\n\t* ext/dl/dl.c (rb_dlhandle_sym): ditto\n\nMon May 11 22:33:46 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ext/dl/lib/dl/func.rb (DL::Function#call): prevents\n\t  passing tainted arguments to a C function.\n\t  Patch by sheepman <sheepman AT sheepman.sakura.ne.jp>.\n\n\t* ext/dl/lib/dl/func.rb (DL::Function#check_safe_obj): \n\t  new method for checking #call's arguments.\n\nTue Mar 10 04:53:16 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (MINIRUBY): keep macro into Makefile.\n\n\t* configure.in (RUBY_CHECK_SIZEOF): fix for fallback.\n\nThu Feb 19 15:47:11 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* template/fake.rb.in: extracted from Makefile.in.\n\n\t* configure.in (fake.rb): prefixed with $(arch)-.\n\nSun Apr 26 20:21:39 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* .gitignore: added.\n\nFri May  1 13:18:01 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_intern.h (_longjmp): never return.  see [ruby-core:23241]\n\nSun Apr 26 20:33:12 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* tool/transcode-tb (ActionMap#generate_node):\n\t  Use ActionMap#gennode instead of generate_node\n\t  because of initialization.\n\nSun Apr 26 18:35:32 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (io_reopen): keeps pathv for prep_stdio.  [ruby-dev:38131]\n\nSun Apr 26 15:13:09 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#parse_in_order): do not make an\n\t  option from non-option argument.  [ruby-dev:38333]\n\nSat Apr 25 19:11:13 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_daemon): use daemon(3) only on *BSD.\n\n\t* process.c (proc_daemon): double fork to ensure not having ctty.\n\t  [ruby-core:23305]\n\nSun Apr 19 14:43:18 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): the order of local variables on stack is\n\t  undefined.  should use outermost VALUE for ruby_init_stack.\n\nMon Apr 13 11:35:55 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): optimize previous commit.\n\t  [ruby-list:45954]\n\nMon Apr 13 10:58:54 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): check encoding compatibility only on\n\t  real parts.\n\nSun Apr 19 13:17:25 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gem_prelude.rb (Gem::QuickLoader#push_gem_version_on_load_path):\n\t  check for requirement if the gem is installed.  a patch from\n\t  Kyosuke MOROHASHI at [ruby-dev:38020].\n\nWed Apr 15 20:24:49 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_flatten): flatten(0) works as Array#dup.\n\t  [ruby-core:23168]\n\n\t* test/ruby/test_array.rb: add a test for above.\n\nFri Apr 17 00:45:09 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* dir.c (bracket): fix escape handling for range character in bracket\n\t  of fnmatch pattern.  e.g., '[a\\-c]' should not match 'b'.\n\nWed Apr 15 11:53:35 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (fnmatch_helper): use rb_enc_precise_mbclen and\n\t  fail if bytes are invalid. [ruby-dev:38307]\n\nTue Apr 14 18:11:26 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (bracket): if same in bytes, path is matching.\n\t  [ruby-dev:38305]\n\nSun Apr 12 19:54:56 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (bracket, fnmatch_helper): compare bytewise first, to get\n\t  rid of invalid byte sequence.  [ruby-dev:38303]\n\nWed Apr  8 21:58:12 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (rb_str_dump): buffer length plus one byte for null\n\t  terminator.  [ruby-dev:38294]\n\n\t* test/ruby/test_m17n.rb (test_str_dump): add a test for above.\n\nWed Apr  8 20:08:16 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_rstrip_bang): should not sign-expand non-ascii.\n\t  [ruby-core:23158]\n\nWed Apr  8 17:29:29 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_chop_bang): reset coderange. [ruby-core:23155]\n\nTue Apr  7 13:14:32 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LIBRUBY_DLDFLAGS): compatibility version is\n\t  ruby_version.\n\nSat Apr  4 17:05:15 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (RB_NUM_COERCE_FUNCS_NEED_OPID): macro to\n\t  check compatibility.  [ruby-dev:38162]\n\nFri Apr  3 14:02:42 2009  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/irb/completion.rb (IRB::InputCompletor::Operators): Add\n\t  overloadable negative operators.\n\n\t* lib/irb/ruby-lex.rb (RubyLex#lex_init): Support overloadable\n\t  negative operators.\n\n\t* lib/irb/ruby-lex.rb (RubyLex#identify_identifier): Minus signs\n\t  need to be escaped in regexp character class.\n\n\t* misc/ruby-mode.el (ruby-font-lock-keywords, ruby-parse-partial):\n\t  Support overloadable negative operators.\n\nWed Apr  1 20:37:49 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (rb_cv_fork_with_pthread): fail if the child process\n\t  fail.\n\nMon Mar 30 19:04:25 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* .gdbinit (rp): show negative fixnum correctly.\n\nMon Mar 30 12:12:46 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_eval.c (eval_string_with_cref): replaces the message if\n\t  frozen.  [ruby-dev:38208]\n\nSun Mar 29 08:59:26 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pathname.rb (Pathname#relative_path_from): compares path\n\t  components according to system default case-sensitiveness.\n\t  [ruby-core:22829]\n\nSat Mar 28 11:10:32 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (ruby.imp): all symbols in static library need to be\n\t  exported, so that encoding-extensions can be loaded.  based on a\n\t  patch from Yutaka Kanemoto <kinpoco AT gmail.com> a\n\t  [ruby-talk:332282].\n\nFri Mar 27 01:33:37 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_cmp): negate the result of reverse comparison.\n\nFri Mar 27 01:19:50 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c (rb_cmpint): FIX2INT may fail on LP64 platforms.\n\nFri Mar 13 21:11:51 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/sdbm/_sdbm.c: should include \"ruby/defines.h\" as well for\n\t  prototypes of compatibility functions on Win32 platform.\n\t  [ruby-core:22870]\n\nThu Mar 26 11:33:13 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/ri/paths.rb (RDoc::RI::Paths): considers\n\t  --program-prefix and --program-suffix.  reapplied r19923.\n\nMon Mar 23 21:41:14 2009  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/dbm/dbm.c (fdbm_initialize): Make the file variable\n\t  volatile, because FilePathValue() currently does not protect the\n\t  given variable from GC. (Probably it should)\n\n\t* ext/sdbm/init.c (fsdbm_initialize): Ditto.\n\nMon Mar 23 06:51:16 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend (link_so): replaces $(TARGET) with basename of the\n\t  target.  [ruby-talk:330286]\n\nWed Mar 18 02:41:33 2009  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (open_server_inaddr_any): fixed multiple network\n\t  families problem. a patch from Charl Matthee at [ruby-core:21033].\n\nTue Mar 17 21:42:54 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot (package): creates .revision.time and passes\n\t  CHDIR to create prerequisite files.\n\nTue Mar 17 18:00:55 2009  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (Enumerator#{each_,}{with_index,with_object}): Fix\n\t  a bug where any parameter but the first one is dropped even if\n\t  multiple values are yielded with. [Bug #1198]\n\nTue Mar 17 14:25:16 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pathname.rb (Pathname#sub): set $~ in block.binding.\n\t  [ruby-dev:38173]\n\nSun Mar 15 02:09:31 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (bmcall): should not uninitialized variable.  a patch from\n\t  pegacorn at [ruby-dev:38169].\n\nSat Mar 14 18:18:08 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (rb_proc_call, rb_node_arity, bmcall, curry): checks\n\t  overflow.\n\n\t* proc.c (rb_proc_parameters): unnamed_parameters() expects in\n\t  not VALUE.\n\nFri Mar 13 09:17:12 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/fileutils.rb (FileUtils#fu_get_gid): stringify group\n\t  argument before making regexp match.  [ruby-dev:38155]\n\nFri Mar 13 15:10:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_set_value): should use\n\t  OPENSSL_free instead of free.  a patch from Charlie Savage a\n\t  [ruby-core:22858].\n\nFri Mar 13 08:06:48 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (rv_strdup): macro to duplicate nul-terminated string.\n\t  [ruby-core:22852]\n\nThu Mar 12 22:14:01 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_def_const): use INT2NUM because\n\t  OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG doesn't fit into Fixnum.\n\nThu Mar 12 05:22:50 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (copy_stream_fallback_body): off_t may be larger than long.\n\n\t* iseq.c (rb_iseq_disasm): RSTRING_LEN() returns long.\n\n\t* process.c (rb_f_sleep): time() needs time_t.\n\nThu Mar 12 05:12:53 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread_pthread.c (ruby_init_stack): range of rlim_cur may be\n\t  larger than int.\n\n\t* missing/vsnprintf.c (BSD_vfprintf): commented out code which has\n\t  no effect at all.\n\nWed Mar 11 20:13:38 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/handle.c (rb_dlhandle_sym): RTLD_NEXT is not for symbol\n\t  name.   [ruby-dev:38150]\n\nWed Mar 11 13:03:12 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/handle.c (rb_dlhandle_sym): fixed heap corruption.\n\t  [ruby-core:22822]\n\nTue Mar 10 13:45:54 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (LDFLAGS): moved -link to TRY_LINK, LINK_SO\n\t  and so on.  based on a patch by Charlie Savage at\n\t  [ruby-core:22794]\n\n\t* win32/Makefile.sub (config.h): passes LDFLAGS to rbconfig.rb so\n\t  that extconf.rb could refer it.  [ruby-core:22725]\n\nWed Mar  4 05:19:27 2009  James Edward Gray II  <jeg2@ruby-lang.org>\n\n  * lib/csv.rb: Some minor documentation fixes from Gregory Brown.\n\nWed Mar  4 00:54:43 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/prime.rb (Prime::prime?): used to return a wrong answer.\n\t  [ruby-core:22646].\n\n\t* test/test_prime.rb (test_prime?): test case for [ruby-core:22646].\n\nThu Mar  5 11:27:16 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (miniruby.exe): workaround for a failure of\n\t  mt.exe on Windows 7 beta.  [ruby-talk:330284]\n\nWed Mar  4 21:21:51 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/thread.rb (SizedQueue#push): fix limit condition.\n\t  [ruby-dev:38135]\n\nWed Mar  4 03:42:56 2009  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb: A patch from Madoka Yakamamoto to prevent an infinite\n\t  loop while reading some encodings.\n\nMon Mar  2 21:01:36 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* file.c: include fcntl.h for O_RDONLY on Solaris.\n\nMon Mar  2 19:43:02 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/uri/common.rb (URI::Parser#escape): escaped string is ascii\n\t  only.\n\n\t* lib/uri/common.rb (URI::Parser#unescape): converts bytewise.\n\t  [ruby-dev:38005], [ruby-dev:38110]\n\nMon Mar  2 10:50:53 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/handle.c (rb_dlhandle_sym): get rid of buffer overrun,\n\t  and try ASCII WINAPI versions too.\n\nMon Mar  2 00:56:45 2009  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/observer.rb: The module oberservable uses now a hash to\n\t  store listeners. merged a patch from Alessandro Di Maria in\n\t  [ruby-core:22560].\n\nSun Mar  1 19:52:46 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/win32/lib/Win32API.rb (initialize): passes res\n\t  arguments to DL.\n\nSun Mar  1 19:36:18 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (ruby_dtoa): allocates one more byte to get rid of buffer\n\t  overrun.  a patch from Charlie Savage at [ruby-core:22604].\n\nSun Mar  1 19:10:59 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (.y.c): removed extra backslash.  [ruby-core:22602]\n\nSun Mar  1 19:02:03 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/cfunc.c (rb_dlcfunc_call): fix for stdcall and missing\n\t  argument numbers.  [ruby-core:22601]\n\n\t* ext/dl/dl.h (DLSTACK_PROTO0_): added.\n\n\t* ext/dl/mkcallback.rb (gencallback, gen_callback_file),\n\t  (rb_dl_init_callbacks): omit stdcall functions unless supported.\n\n\t* lib/rubygems/config_file.rb (SHGetFolderPath): stdcall.\n\nSun Mar  1 17:27:14 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (gfDebug): uncommented out.\n\t  [ruby-core:22600]\n\nSun Mar  1 16:15:31 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_waitpid): use wait_each() on no waitpid platforms.\n\t  [ruby-dev:38054]\n\nSun Mar  1 16:01:01 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (proc_daemon): stops and restarts timer thread because\n\t  daemon(3) implies fork(2).  [ruby-dev:38055]\n\nFri Feb 27 22:02:34 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* util.c: fix SEGV by test_time.rb with\n\t  gcc version 4.4.0 20090219 (Red Hat 4.4.0-0.21) on Fedora 11 Alpha.\n\nFri Feb 27 18:30:51 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (cdhash_type, iseq_set_sequence): should not call\n\t  methods of the argument of case, to keep the semantics of\n\t  case/when.  [ruby-dev:38079]\n\nFri Feb 27 18:01:20 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (ruby_get_stack_grow_direction): no needs to use thread\n\t  here, and not initialized yet.  [ruby-core:22439]\n\nFri Feb 27 17:45:25 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_load_ok): checks if regular file, except for the\n\t  platform disallows to open directories, e.g. dosish.\n\t  [ruby-dev:38097], [Bug #1221]\n\nWed Feb 25 12:27:59 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_force_encoding): should clear coderange at changing\n\t  encoding.  [ruby-core:22437]\n\nWed Feb 25 12:06:09 2009    <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline_1): enables limit even if rs is given.\n\t  [ruby-core:22434]\n\nWed Feb 25 02:28:51 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_chomp_bang): coderange may change.\n\t  [ruby-core:22414]\n\nWed Feb 25 02:17:30 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_delete_bang): should recalculate coderange.\n\t  [ruby-talk:329267]\n\nTue Feb 24 19:01:05 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (main): split from exts and makes main program after\n\t  building exts with miniruby, to get rid of overwriting running\n\t  program.  [ruby-core:22339]\n\n\t* Makefile.in, win32/Makefile.sub (RUNCMD, MKMAIN_CMD): macros to\n\t  run script file.\n\n\t* ext/extmk.rb (parse_args): added --command-output option which\n\t  creates script file to make main program.\n\nTue Feb 24 17:58:07 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (ripper.c): exec can't work on Windows.\n\n\t* ext/ripper/depend (.SUFFIXES): nmake doesn't have .y by default.\n\n\t* Makefile.in (id.h): overwrites unconditinally.\n\nTue Feb 24 13:13:49 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/vsnprintf.c (BSD_vfprintf): ptrdiff_t may be larger than\n\t  long.\n\nTue Feb 24 10:49:37 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_waitpid): last argument was missing.\n\n\t* process.c (waitall_each): fixed typo.  a patch from shinichiro.h\n\t  <shinichiro.hamaji AT gmail.com> at [ruby-dev:38054].\n\nTue Feb 24 01:22:19 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bootstraptest/test_thread.rb: fix for environment where fork is not\n\t  available.\n\nTue Feb 24 01:19:38 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (thread_cleanup_func): unlock all locked mutexes even when\n\t  forking.  [ruby-core:22269]\n\nMon Feb 23 14:47:04 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/fileutils.rb (mv): added description for the case of\n\t  different partitions.  [ruby-talk:329072]\n\nSun Feb 22 22:42:20 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (tr_trans): should recalculate coderange.\n\t  [ruby-core:22326] (reopened at [ruby-core:22328])\n\nSun Feb 22 14:33:06 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (tr_trans): should not be affected by the encoding of\n\t  replacement unless actually modified.  [ruby-talk:328967]\n\nFri Feb  6 12:11:24 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (process_options): set initial default_external before -r.\n\nSun Feb 22 10:43:57 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_eval.c (method_missing): should not pop cfp if missing method\n\t  is method_missing.  [ruby-core:22298]\n\n\t* vm_eval.c (rb_raise_method_missing): new function to directly\n\t  raise NoMethodError.\n\n\t* vm_insnhelper.c (vm_call_method): fixed the case method_missing\n\t  is missing.\n\nFri Feb 20 23:28:11 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* util.c (rv_alloc, freedtoa): use our normal xmalloc()/xfree() because\n\t  couldn't free the returned pointer from ruby_dtoa().\n\n\t* missing/vsnprintf.c (cvt): receive buffer and use/return it instead\n\t  of returning the pointer returned from BSD__dtoa().\n\n\t* missing/vsnprintf.c (BSD_vfprintf): pass buf to cvt() as the buffer.\n\t  [ruby-core:22184]\n\nThu Feb 19 15:39:50 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspbres_verify): OCSP_basic_verify\n\t  returns positive value on success, not non-zero.  [ruby-core:21762]\n\nWed Feb 18 12:35:31 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_extname): fix for spaces before extention.\n\t  [ruby-dev:38044]\n\nWed Feb 18 10:29:12 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): do not delete main thread from\n\t  living_threads.  [ruby-core:19385], [ruby-core:22158]\n\nTue Feb 17 05:41:08 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: fix to add \"ensure\" codes across \"while\" clause\n\t  before \"return\" expression.  [ruby-dev:37967]\n\n\t* bootstraptest/test_flow.rb: add a test.\n\nSun Feb 15 11:45:29 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (rb_define_hooked_variable): suppress false assertion\n\t  with VC9.  [ruby-core:22115]\n\nFri Feb 13 15:11:11 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_eval.c (eval_string_with_cref): use rb_vm_get_ruby_level_next_cfp() \n\t  instead of vm_get_ruby_level_caller_cfp().  checking a upper frame\n\t  is not enough.  [ruby-dev:37984]\n\n\t* proc.c, vm_core.h: declare rb_vm_get_ruby_level_next_cfp()\n\t  on vm_core.h.\n\nThu Feb 12 22:51:18 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (hide_obj): OBJ_FREEZE() is not an expression.  a patch\n\t  from nagachika <nagachika00 AT gmail.com> at [ruby-dev:37977].\n\n\t* compile.c (insn_set_sc_state): fixed typoe.\n\nThu Feb 12 19:42:33 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (compile_array_, defined_expr, iseq_compile_each): hide\n\t  and freeze internal literal objects, to prevent from modifying.\n\t  [ruby-dev:37959]\n\n\t* iseq.c (insn_operand_intern): copy internal literal objects.\n\n\t* insns.def (putstring, duparray): ditto.\n\n\t* string.c (rb_str_replace): exported.\n\nThu Feb 12 17:17:51 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_ungetc): calculates new position\n\t  before reallocation.  [Bug#1099]\n\nMon Feb  9 20:11:55 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c (load_conv_function51932): fixed for the\n\t  case IMultiLanguage is not available.  [ruby-dev:37950]\n\nMon Feb  9 11:31:09 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (io_encoding_set): ignore second argument when external and\n\t  internal are same. [ruby-dev:37939]\n\nSun Feb  8 23:28:05 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* include/ruby/st.h, st.c: order entries by a linked list instead of\n\t  a loop to fix iteration miss when hash is modified during iteration.\n\t  [ruby-dev:37910]\n\nSun Feb  8 22:44:20 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/backward/rubysig.h (rb_thread_blocking_region_begin),\n\t  (rb_thread_blocking_region_end): marked as deprecated.\n\n\t* include/ruby/backward/rubysig.h (TRAP_BEG): fix for C++.  a\n\t  patch from Aman Gupta at [ruby-core:21934]\n\nSun Feb  8 19:05:24 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/backward/rubysig.h: extern \"C\" was missing.\n\t  [ruby-core:21929]\n\nSun Feb  8 18:34:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_s_binread): ensures file path.  [ruby-dev:37940]\n\nFri Feb  6 23:28:33 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fread): use rb_io_wait_readable for retry\n\t  avoid Errno::EINTR on ruby -e 'trap(:CHLD) {}; spawn(\"sleep 1\"); STDIN.read'\n\nFri Feb  6 20:37:42 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* signal.c (register_sigaltstack): ignore sigaltstack error.\n\t  It fails on OpenBSD 4.4 when pthread library is linked.\n\nFri Feb  6 12:03:47 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (process_options): -K and -E in shebang should be reflect to\n\t  default_external. [ruby-dev:37920]\n\nFri Feb  6 02:51:59 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_each_codepoint): update RDoc for\n\t  String#codepoints.  a patch from Radoslaw Bulat in\n\t  [ruby-core:21835]\n\nFri Feb  6 01:09:13 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* cont.c (cont_mark, cont_capture, cont_restore_1): use #else instead\n\t  of #elif.  a patch from NISHIMATSU Takeshi <t_nissie at yahoo.co.jp>\n\t  in [ruby-list:45856].\n\nThu Feb  5 07:39:33 2009  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* ext/readline/readline.c (Init_readline): remove_history(0) may be\n\t  NULL.  [ruby-dev:37891]\n\nThu Feb  5 03:55:22 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (LOCALTIME): should call tzset() before localtime_r().\n\t  [ruby-dev:37896]\n\nWed Feb  4 11:45:06 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/mkexports.rb: shouldn't export DllMain.\n\t  reported at http://pc11.2ch.net/test/read.cgi/tech/1233686068/21\n\nWed Feb  4 10:12:05 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/vsnprintf.c (BSD_vfprintf): should support 't' format\n\t  modifier to handle PRIdPTRDIFF.  thanks for the info from\n\t  Kazuhiro NISHIYAMA.  [ruby-core:21807]\n\nTue Feb  3 23:37:08 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file_internal): resets EOF flag after parse.\n\nTue Feb  3 14:12:10 2009  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: validate data before sending to a server.\n\t  [ruby-core:20320]\n\nTue Feb  3 12:09:08 2009  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (hmac_md5): should use String#ord to get ascii\n\t  code from the one-character string.\n\nMon Feb  2 17:05:55 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_find_file_ext): should not be infected from other\n\t  load paths.\n\nSat Jan 31 19:09:30 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_require_safe): raises when the path to be loaded is\n\t  tainted.  [ruby-dev:37843]\n\nMon Feb  2 08:12:50 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/xmlrpc/server.rb (Server#serve): gets rid of hardcoded\n\t  platform names. (win64 support)\n\n\t* lib/resolv.rb (Resolv::Hosts::DefaultFileName),\n\t  (Resolv::DNS::Config.default_config_hash): tries win32/resolv on\n\t  mswin64 too. (win64 support)\n\n\t* lib/rubygems/specification.rb (Gem::Specification#ruby_code):\n\t  aded mswin64. (win64 support)\n\n\t* lib/drb/extservm.rb (DRb::ExtServManager#invoke_service_command):\n\t  spawn is better to start a process in background.\n\n\t* ext/extmk.rb: uses FNM_SYSCASE. (win64 support)\n\n\t* instruby.rb: installs win32.h on mswin64 platform. (win64 support)\n\t  [ruby-core:21722]\n\nMon Feb  2 12:41:52 2009  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* complex.c (f_signbit): regard NaN as a positive value.\n\t  [ruby-dev:37861].\n\nMon Feb  2 06:51:36 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* encoding.c (rb_filesystem_encoding): Windows' filesystem encoding is\n\t  sometimes ANSI code page and sometimes OEM code page. we should check\n\t  whether code page is used.\n\nSun Feb  1 05:19:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (rb_const_get_0), vm_insnhelper.c (vm_get_ev_const):\n\t  avoids infinite self recursion autoload.  [ruby-core:21696]\n\nFri Jan 30 14:31:14 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* tool/make-snapshot (prereq): remove enc.mk from tarball because\n\t  BSD make checks $(srcdir)/enc.mk and try to run $(builddir)/enc.mk.\n\nFri Jan 30 14:11:48 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/depend: extract comile rules to each target for VC++.\n\nFri Jan 30 12:59:49 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (RUBYDEF): depends on makefiles.\n\n\t* cygwin/GNUmakefile.in (RUBYDEF): adds DATA to non-function symbols\n\t  which is not marked as T.\n\nTue Jan 20 16:17:12 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cont.c (ruby_Init_{Continuation_body,Fiber_as_Coroutine}): prefixed\n\t  with ruby_ to export.\n\n\t* ext/continuation/continuation.c, ext/fiber/fiber.c: ditto.\n\nThu Jan 29 16:22:41 2009  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* load.c (rb_feature_provided): should not calculate len by pointer\n\t  subtraction because feature may be a expanded path.\n\t  [ruby-core:21267]\n\nThu Jan 29 14:12:15 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (BASERUBY): erases RUBYOPT at the test.\n\n\t* configure.in (OBJCOPY): not used on Windows.\n\nThu Jan 29 12:29:51 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (FileUtils#rake_system): no longer needs workaround\n\t  on Windows.  [ruby-core:21339]\n\n\t* lib/rake/win32.rb (Rake::Win32#rake_system): ditto.\n\n\t* lib/rake/win32.rb (Rake::Win32#win32_system_dir): no longer\n\t  needs environment variables other than APPDATA now.\n\n\t* lib/rake.rb (Rake::Application#standard_system_dir): uses\n\t  platfrom specific definition on Windows system.\n\nThu Jan 29 00:24:48 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (zstream_run): previous change didn't resolve the\n\t  problem.\n\nFri Jan 30 01:39:27 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* parse.y (top_compstmt, top_stmts, top_stmt): prohibit BEGIN {} in\n\t  non-toplevel scope.  [ruby-core:21657]\n\n\t* test/ruby/test_beginendblock.rb (test_begininclass): add a test for\n\t  above.\n\nWed Jan 28 22:51:12 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (zstream_run): desperately guard the variable.\n\t  [ruby-core:20576]\n\nMon Jan 19 11:46:39 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_eval.c, eval.c (rb_f_block_given_p): move definition of\n\t  \"iterator?\" and \"block_given?\" to make static.\n\n\t* vm.c (vm_get_ruby_level_caller_cfp): make it static.\n\n\t* eval_intern.h, vm_insnhelper.c: move decl. of\n\t  vm_get_ruby_level_caller_cfp()\n\t  from eval_intern.h to vm_insnhelper.c.\n\nMon Jan 19 11:27:39 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: add a prefix \"rb_\" to exposed functions\n\t  vm_get_ruby_level_next_cfp(), rb_vm_make_env_object(),\n\t  vm_stack_to_heap(), vm_make_proc(), vm_invoke_proc(),\n\t  vm_get_sourceline(), vm_cref(), vm_localjump_error(),\n\t  vm_make_jump_tag_but_local_jump(), vm_jump_tag_but_local_jump().\n  \t  This changes may affect only core because most of renamed functions\n\t  require a pointer of not-exposed struct such as rb_thread_t or NODE.\n\t  In short, they are core functions.\n\n\t* cont.c, eval.c, eval_intern.h, load.c, proc.c, thread.c,\n\t  vm_core.h, vm_dump.c, vm_eval.c, vm_exec.c, vm_insnhelper.c:\n\t  ditto.\n\nMon Jan 19 11:02:30 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_dump.c: add a prefix \"rb_vmdebug_\" to\n\t  vm_stack_dump_raw(), vm_stack_dump_raw_current(),\n\t  vm_env_dump_raw(), vm_proc_dump_raw(), vm_stack_dump_th(),\n\t  vm_debug_print_register(), vm_thread_dump_regs(),\n\t  vm_debug_print_pre(), vm_debug_print_post(),\n\t  vm_thread_dump_state().\n\t  This change also may affect core (in fact, user of\n\t  above functions may be only ko1).\n\n\t* vm_core.h: ditto.\n\n\t* vm_exec.h (SDR2): remove duplicate definition.\n\nMon Jan 19 09:53:43 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c:\n\t  rename ruby_iseq_disasm_insn() -> rb_iseq_disasm_insn().\n\t  rename ruby_iseq_disasm() -> rb_iseq_disasm().\n\n\t* compile.c:\n\t  rename ruby_iseq_compile() -> rb_iseq_compile_node().\n\t  rename ruby_iseq_translate_threaded_code() ->\n\t         rb_iseq_translate_threaded_code().\n\t  rename ruby_insns_name_array() -> rb_insns_name_array().\n\t  rename ruby_iseq_build_from_ary() -> rb_iseq_build_from_ary().\n\n\t* iseq.c, compile.c: remove ruby_insn_make_insn_table() and make\n\t  static function insn_make_insn_table().\n\n\t* iseq.h, ruby.c, vm.c, vm_core.h, vm_eval.c, vm_dump.c, \n\t  blockinlining.c: ditto.\n\t  Rename strange \"ruby_\" prefix to \"rb_\" prefix.\n\t  This changes may affect only core because renamed functions\n\t  require a pointer of rb_iseq_t which is not exposed.\n\nMon Jan 19 08:56:53 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, vm_eval.c (rb_f_local_variables): move definition from eval.c\n\t  to vm_eval.c because vm_collect_local_variables_in_heap() should\n\t  be static function.\n\n\t* vm.c (vm_collect_local_variables_in_heap): make it static.\n\nTue Jan 27 14:41:33 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (RUBYDEF): needs DATA marks to export\n\t  non-function symbols.  [ruby-core:21582]\n\n\t* win32/mkexports.rb (Exports::Mingw#each_export): ditto.\n\nSun Jan 25 12:17:21 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (RUBYDEF): needs read-only section too.\n\nTue Jan 20 15:32:29 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (miniruby): renames and then removes, to get rid of\n\t  EPERM on cygwin and mingw.\n\n\t* Makefile.in ($(LIBRUBY_SO)): use wildcard option of objcopy.\n\n\t* configure.in (DLDFLAGS): do not export all symbols.\n\n\t* cygwin/GNUmakefile.in (RUBYDEF): rejects symbols prefixex with\n\t  Init_.\n\n\t* win32/mkexports.rb (Exports::Mingw): includes all symbols except for\n\t  prefixed with Init_ as well as mswin32.\n\nWed Jan 28 15:24:11 2009  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* math.c: SEGV is caused by implicit rb_to_float declaration\n\t  test_complexrational.rb: [BUG] in IA-64 architecture\n\nTue Jan 27 03:23:43 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): should point correct path to\n\t  ruby.h and defines.h.   [ruby-core:21570]\n\nMon Jan 26 16:00:40 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_aset): fixed arguments evaluation order.\n\nSun Jan 25 12:02:56 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (clean-ext): condition of EXTS was inverted.\n\nSun Jan 25 11:50:20 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile):fixed the variables order because\n\t  converter proc refers the separator.\n\nSun Jan 25 11:25:10 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, win32/Makefile.sub (RMDIRS): remove directory and\n\t  parents.\n\n\t* Makefile.in, win32/Makefile.sub (distclean-rdoc): added to remove\n\t  temprary rdoc.\n\n\t* Makefile.in, win32/Makefile.sub (clean-ext): skips non-existent\n\t  directories.\n\n\t* common.mk (clean, distclean): cleans rdoc.\n\n\t* common.mk (clean-extout): removes extout directory.\n\n\t* configure.in (RMDIRS, RMALL): added to clean extout.\n\n\t* lib/fileutils.rb (FileUtils#rmdir): added :parents option.\n\n\t* lib/mkmf.rb (create_makefile): cleans installed files at clean\n\t  instead of distclean.\n\n\t* lib/mkmf.rb (create_makefile): added clean-so and clean-rb.\n\n\t* lib/mkmf.rb (def init_mkmf): added DISTCLEANDIRS.\n\n\t* lib/un.rb (rmdir): added -p option.\n\n\t* tool/rmdirs, win32/rmdirs.bat: removes directory and the parents.\n\n\t* win32/rm.bat: added -r option.\n\nSun Jan 25 09:09:29 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (join_path): use strlcat() to force link.\n\n\t* dir.c (glob_helper): no strcpy() is needed since len is known.\n\nSat Jan 24 08:22:35 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): tools under the top source\n\t  directory are not installed, so unusable outside extmk.rb.\n\nFri Jan 23 17:24:31 2009  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* golf_prelude.rb (Enumerator#inspect): avoid warning.\n\nFri Jan 23 15:12:52 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (mkintpath): new function which converts native path\n\t  to format acceptable in Makefile.\n\n\t* lib/mkmf.rb (configuration): leaves PATH_SEPARATOR unchanged.\n\n\t* lib/mkmf.rb (configuration): convers srcdir, topdir and hdrdir.\n\t  a patch by Alexey Borzenkov <snaury AT gmail.com> at\n\t  [ruby-core:21448].\n\n\t* lib/mkmf.rb (try_func): got rid of c-mode confusion.\n\nFri Jan 23 13:26:45 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (trap_handler): also accepts symbols.  [ruby-dev:37823]\n\nThu Jan 22 18:14:04 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): removes installed files under\n\t  extout at distclean.\n\nThu Jan 22 17:12:37 2009  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI.parse): generate only key on params hash\n\t  if request have only key uri parameters.\n\t\t(ex. index.cgi?aaa&bbb=1 # params=>{:aaa=>[],:bbb=>[\"1\"]})\n\n\t* test/cgi/test_cgi_core.rb: fix test for key only params.\n\nThu Jan 22 16:29:50 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rubygems/installer.rb (Gem::Installer#initialize): fixed\n\t  typos.\n\nThu Jan 22 14:53:29 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_process.rb (MANDATORY_ENVS): needs RUBYLIB to run\n\t  tests without install.\n\nThu Jan 22 12:19:29 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (define_final): cannot define finalizer for immediate\n\t  values.  [ruby-core:21500]\n\n\t* gc.c (define_final): freezes or hides internal values.\n\nThu Jan 22 11:33:08 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_time_timeval): made a real prototype.  a patch from\n\t  Marcus Rueckert <darix AT opensu.se> at [ruby-core:21492].\n\nWed Jan 21 21:43:50 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_ungetbyte, rb_io_ungetc): allows nil to reset EOF\n\t  flag with ungetting nothing.\n\n\t* ruby.c (load_file_internal): rests EOF flag to make possible to\n\t  load from stdin after reading data.\n\nWed Jan 21 15:32:15 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_ungetbyte, rb_io_ungetc): clears EOF flag.\n\nWed Jan 21 13:58:17 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/io.h (FMODE_EOF): EOF flag on TTY.\n\n\t* io.c (io_set_eof): sets EOF flag for TTY.\n\n\t* io.c (io_seek): clears EOF flag.\n\n\t* io.c (io_fillbuf): returns EOF if already met EOF.  [ruby-dev:37798]\n\n\t* io.c (io_fillbuf, io_fread, io_getpartial): sets EOF.\n\nWed Jan 21 14:41:48 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* array.c (take_items): to_ary() raises ArgumentError if cannot to\n\t  convert to Array. [ruby-dev:37797]\n\nWed Jan 21 21:12:47 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* introduces r21693 again for merging r21713.\n\nTue Jan 20 19:12:18 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* reverts r21693.\n\nTue Jan 20 18:49:59 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/rdoc/ri/path.rb: Gem::Enable was removed.\n\t  Use just defined?(Gem).\n\t  And this prevents unexpected directory creation at\n\t  installation. [ruby-core:20990]\n\nTue Jan 20 17:59:52 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* Reverts r21598 and r21599 because the original behavior is\n\t  intentional.\n\nTue Jan 20 09:26:05 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_buf_push): maybe a bug.\n\n\t* ext/nkf/nkf-utf8/nkf.c (options): no need to support help option.\n\nTue Jan 20 06:48:56 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (take_items), enum.c (enum_zip): tries to convert to\n\t  array first.  [ruby-core:21442]\n\nTue Jan 20 03:50:37 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: Update nkf to 2.0.9.\n\t  revert -s meaning as Shift_JIS, etc.\n\nMon Jan 19 14:31:59 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_execute_interrupts): needs\n\t  rb_signal_buff_size to be declared.\n\nMon Jan 19 13:34:25 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.c (require_libraries): reset th->parse_in_eval while\n\t  loading libraries.  fixes [ruby-dev:37780]\n\nSat Jan 17 21:04:27 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/erb.rb: changes style of the rdoc for suppressing\n\t  warning. [ruby-core:21117] \n\nSat Jan 17 17:58:22 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/irb/xmp.rb: multilingualizes XMP::StringInputMethod.\n\t  [ruby-core:21383].\n\nSat Jan 17 11:12:21 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_dump.c (vm_stack_dump_each): initialized at declarations.\n\n\t* vm_dump.c (rb_vm_bugreport): constified to suppress a warning.\n\nSat Jan 17 19:33:48 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* configure.in (VCSUP): fixed the cases for git-svn or git.\n\n\t* win32/Makefile.sub (VCSUP): ditto.\n\n\t* Makefile.in (up): `cd' is necessary for git and git-svn.\n\nFri Jan 16 18:51:11 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (up): tell nmake that need to run command via\n\t  shell.\n\nFri Jan 16 17:33:59 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (Makefile): set VCS and VCSUP to support `git svn'\n\t  and git.\n\n\t* Makefile.in, win32/Makefile.sub (up): split from common.mk.\n\nMon Dec 29 22:37:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): template f should not accept non float\n\t  values.  [ruby-dev:37656]\n\nFri Jan 16 18:43:30 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot (package): includes all rules and expand\n\t  configured values from the environment to create *.inc, sets RM\n\t  for ripper.c, and needs chdir if absolute path is given with\n\t  -exported option.\n\nThu Jan 15 14:27:27 2009  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* LEGAL: Added information for missing/langinfo.c\n\nFri Jan 16 13:39:24 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/minitest/unit.rb: temporarily merges Kouji's patch without\n\t  maintainer's permission in order to release 1.9.1 RC2. \n\t  [ruby-core:21364] .\n\t  Patch by Takao Kouji <kouji AT takao7.net>.\n\nFri Jan 16 13:28:09 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/minitest/test_mini_test.rb: the number of assertions must be\n\t  exactly equal to the number of assertion method calls that the end-user\n\t  would write. [ruby-dev:37703]\n\n\t* test/minitest/test_mini_spec.rb: ditto.\n\n\t* lib/minitest/unit.rb: ditto. \n\t  Patch by David Flanagan <david AT davidflanagan.com>. [ruby-core:21350]\n\nFri Jan 16 12:24:39 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (thread_start_func_2): call ruby_cleanup() if thread is\n\t  main thread.  [ruby-dev:37624]\n\nFri Jan 16 12:27:50 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub ($(INSNS), node_name.inc, known_errors.inc,\n\t  miniprelude.c, newline.c): if dependencies is newer than targets or\n\t  targets don't exist, try to create targets with BASERUBY. no need to\n\t  detect errors there because the absence of BASERUBY is not abnormal.\n\t  after the try, if the targets still don't exist, copy them from\n\t  $(srcdir).\n\nFri Jan 16 11:47:56 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_parse_in_main): fixed typo.\n\nFri Jan 16 02:25:46 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (rb_thread_execute_interrupts): if signal is already\n\t  buffered, main thread should wait until timer thread delivers it.\n\n\t* thread.c (timer_thread_function): should defer delivery of a signal\n\t  if main thread does not yet trap a previous one.  [ruby-dev:37676]\n\nFri Jan 16 01:42:50 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (call_trace_proc): as Matz said ([ruby-core:21183]),\n\t  should skip rb_str_new2() if rb_sourcefile() returns NULL.\n\t  rb_sourcefile() returns NULL if frame is toplevel of Fiber.\n\t  [ruby-core:21161] [Bug #985]\n\nFri Jan  9 12:29:46 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (test-sample), rubytest.rb: use runruby.rb\n\nFri Jan 16 01:09:37 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.c (process_options): decrement parse_in_eval to recognize\n\t  parsing main or normal eval script.\n\n\t* compile.c (rb_parse_in_main): return 1 if parsing main script.\n\t (if parse_in_eval is negative value, it means main script)\n\n\t* parse.y (yycompile0): check rb_parse_in_main() to accumulate\n\t  script text.  Bug #848 [ruby-core:20450]\n\nFri Jan 16 00:57:34 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/debug.rb: as wanabe-san pointed out,\n\t  set_trace_func should be completely final task in debug.rb.\n\t  Bug #847 [ruby-core:20449]\n\nFri Jan 16 00:27:03 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (rb_vm_inc_const_missing_count, ruby_vm_const_missing_count): \n\t  added.\n\n\t* vm_insnhelper.h: ditto.\n\n\t* variable.c (rb_const_get_0), insns.def: Constants should not be\n\t  cached if const_missing is called.  [ruby-core:21059] [Bug #967]\n\n\t* bootstraptest/test_class.rb: add a test.\n\nFri Jan 16 00:25:09 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: btest-ruby should receive option with OPTS.\n\nFri Jan 16 00:21:10 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub ($(INSNS), node_name.inc, known_errors.inc,\n\t  miniprelude.c, newline.c): shoudn't copy when $(srcdir) != \".\", too.\n\t  (this is a workaround.  we need more strict check.)\n\n\t* win32/Makefile.sub ($(INSNS)): shound't remove BASERUBY.\n\nFri Jan 16 00:19:55 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c (gc_with_gvl): suppress warnings.\n\nThu Jan 15 20:44:30 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/file2lastrev.rb: RUBY_REVISION must be an integer.\n\nThu Jan 15 15:55:31 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (enc_set_default_encoding): should not treat US-ASCII\n\t  special here.  a patch from Yui NARUSE in [ruby-dev:37769].\n\t  [ruby-dev:37699]\n\nThu Jan 15 13:10:09 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, win32/Makefile.sub (MISSING): added langinfo on mingw\n\t  and mswin.\n\n\t* encoding.c (rb_locale_charmap): use environments on mingw and mswin.\n\n\t* missing/langinfo.c (nl_langinfo_codeset): MS-Windows Japanese\n\t  environment uses Windows-31J derived from Shift_JIS, not EUC-JP.\n\nThu Jan 15 12:10:39 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub ($(INSNS), node_name.inc, known_errors.inc,\n\t  miniprelude.c, newline.c): copy only when $(srcdir) != pwd.\n\nWed Jan 14 23:57:28 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_locale_charmap): fallback to codepage if no\n\t  locale is found.  [ruby-core:21110]\n\n\t* missing/langinfo.c (nl_langinfo_codeset): returns NULL if no\n\t  locale is found.\n\nWed Jan 14 22:38:30 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (negative_size_allocation_error_with_gvl): abolish a warning.\n\t  (negative_size_allocation_error): ditto.\n\n\t* ext/openssl/ossl.c (ossl_raise): ditto.\n\nThu Jan 15 13:10:58 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (COMPILERFLAG): for enc/trans/gb18030.c.\n\nThu Jan 15 00:06:12 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/trans/gb18030.trans: get rid of a 1.9 feature for cross\n\t  compile.  [ruby-core:21345]\n\nWed Jan 14 20:05:05 2009  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/gb18030.trans, gb18030-tbl.rb:\n\t  new Chinese GB18030 transcoding (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi)\n\n\t* transcode_data.h, transcode.c, tool/transcode_tblgen.rb:\n\t  added support for GB18030-specific 4-byte sequences\n\t  (with Yoshihiro Kambayashi)\n\nWed Jan 14 16:16:19 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/curses/extconf.rb: check ncursesw earlier than ncurses to\n\t  support UTF-8 strings.   non UTF-8 strings should be converted\n\t  explicitly.   [ruby-core:21094]\n\nWed Jan 14 13:09:00 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/extconf.rb (gai_strerror): checks if available and if\n\t  returns const pointer.\n\n\t* ext/socket/getaddrinfo.c (gai_strerror): defines only if non\n\t  available.  [ruby-core:21328]\n\nWed Jan 14 12:39:16 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_wait_readable, rb_io_wait_writable): need rb_fd_ptr.\n\n\t* io.c (appendline): reformed.\n\n\t* io.c (rb_io_s_pipe): reduced nest of rb_ensure of main block.\n\nTue Jan 13 21:45:53 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/ostruct.rb (OpenStruct#inspect): fixed the recursion check.\n\t  Patch by Kornelius Kalnbach.  [ruby-core:20992].\n\n\t* test/ostruct/test_ostruct.rb: test for inspect.\n\t  Patch by Kornelius Kalnbach.  [ruby-core:20992].\n\nTue Jan 13 21:28:14 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* object.c (rb_obj_not_match): rdoc.\n\t  Patch by Kornelius Kalnbach.  [ruby-core:20991]\n\nTue Jan 13 21:44:30 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (io_reopen, rb_io_init_copy): should register fptr to pipe_list\n\t  when copying pipe fptr.\n\nTue Jan 13 18:21:44 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_io_close_read): call rb_io_fptr_cleanup() instead of\n\t  fptr_finalize() because the fptr has special finalizser if it is a\n\t  pipe.  [ruby-dev:37757] (3)\n\nTue Jan 13 18:19:49 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_io_initialize): workaround for Windows. [ruby-dev:37686]\n          (also see [ruby-dev:37721])\n\nTue Jan 13 17:29:02 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/trans/make_transdb.rb (converters): should not depend on the\n\t  hash order for cross compile.\n\nTue Jan 13 16:39:11 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/intern.h, thread.c, win32/Makefile.sub (rb_fdset_t,\n\t  rb_fd_init, rb_fd_term, rb_fd_zero, rb_fd_set, rb_fd_clr, rb_fd_isset,\n\t  rb_fd_select, rb_fd_ptr, rb_fd_max, HAVE_RB_FD_INIT): new type,\n\t  functions, and macros for Windows.\n\n\t* win32/win32.c (extract_fd, rb_w32_select): use rb_fdset_t to expand\n\t  fd_array if needed.  [ruby-core:19946]\n\n\t* win32/win32.c (copy_fd): new funcion for rb_w32_select().\n\nTue Jan 13 12:31:54 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/file2lastrev.rb (get_revisions): fixes problem with\n\t  svn on cygwin. [ruby-dev:37702].\n\t  Patch by Kouhei Sutou.\n\nTue Jan 13 11:58:04 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/irb/input-method.rb: IRB did not prompt for MSwin32.\n\t  [ruby-dev:37686].\n\t  Patch by arton <artonx AT yahoo.co.jp>.\n\nTue Jan 13 12:10:42 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/{getaddrinfo,getnameinfo}.c: need to include ws2tcpip.h\n\t  on Windows.\n\nTue Jan 13 03:07:28 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* instruby.rb: require \"tool/mdoc2man.rb\" before chdir if needed.\n\nTue Jan 13 02:54:54 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/extconf.rb: use headers instead of \"netdb.h\" in checking\n\t  getnameinfo() and getaddrinfo() because Windows doesn't have it.\n\t  [ruby-dev:37757] (1)\n\n\t* ext/socket/sockport.h (SA_LEN): use sockaddr_in6 when defined AF_INET6\n\t  if INET6 is not defined.  winsock2's getaddrinfo() returns\n\t  sockaddr_in6 if ipv6 is available.\n\nWed Jan 14 13:19:21 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_aspawn): should not escape with carret\n\t  unless using cmd.exe.\n\nTue Jan 13 02:21:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (internal_cmd_match): extracted from\n\t  is_internal_cmd.\n\n\t* win32/win32.c (argv_size, join_argv): escapes redirection, pipe\n\t  and carret punctuations with carrets.\n\n\t* win32/win32.c (rb_w32_aspawn): ditto, and redirections and pipe\n\t  have no meanings.\n\nTue Jan 13 02:07:38 2009  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: use Encoding.find(\"locale\") instead of\n\t  Encoding.locale_charmap\n\nTue Jan 13 00:57:56 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (sock_s_unpack_sockaddr_in): check too short\n\t  sockaddr.\n\t  (sock_s_unpack_sockaddr_un): ditto.\n\nMon Jan 12 17:23:05 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb (assert_nothing_raised): removes the\n\t  current trace to get rid of an issue of MiniTest::Unit#location.\n\nMon Jan 12 16:49:20 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (install): erased a garbage.\n\nMon Jan 12 16:45:28 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (open_dir_handle): extracted from rb_w32_opendir.\n\n\t* win32/win32.c (winnt_stat): gets rid of strange behavior of\n\t  GetFileAttributes().  [ruby-core:21269]\n\nMon Jan 12 11:59:19 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c (ruby_xmalloc, ruby_xrealloc, ruby_xfree):\n\t  enable to use them without GVL.\n\t  if GC is invoked, acquire GVL during GC.\n\t  if NoMemoryError is raised, acquire GVL and raise it.\n\nMon Jan 12 10:39:19 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c: fix comment (terminology: Global VM Lock).\n\n\t* thread.c (blocking_region_begin, blocking_region_end):\n\t  save and clear th->blocking_region_buffer.\n\n\t* thread.c (rb_thread_call_with_gvl): check if it has GVL.\n\n\t* thread.c (ruby_thread_has_gvl_p): added.\n\n\t* vm_core.h: add decls.\n\nSun Jan 11 16:53:14 2009  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/erb.rb (PercentScanner): remove PercentScanner. fixed % after\n\t  %> bug. [ruby-dev:37751] [Bug #997] \n\n\t* test/erb/test_erb.rb: ditto\n\nSun Jan 11 09:47:30 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (rb_hash_s_create): set nil as the value if assoc length\n\t  is not enough.  [ruby-core:21249]\n\nSat Jan 10 20:26:17 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* version.h: make version string succinct:\n\t  \"ruby 1.9.1p5000 (2009-01-10 trunk 21414) [i686-linux]\".\n\nSat Jan 10 19:05:13 2009  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_restore_1): should not be inlined.\n\nFri Jan  9 13:20:08 2009  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: rescue abnormal Encoding.locale_charmap value.\n\nFri Jan  9 10:40:52 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_process.rb (TestProcess::MANDATORY_ENVS): some\n\t  platforms need environments for shared objects.\n\nThu Jan  8 17:32:51 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb: should not depend on a library which does not exist\n\t  in 1.8.\n\nWed Jan  7 22:13:03 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (man, gem): fixed errors.\n\nWed Jan  7 17:14:40 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb: use installed libraries.  [ruby-core:21006]\n\nWed Jan  7 17:13:38 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n \n \t* instruby.rb (gem), lib/rubygems/defaults.rb (Gem.default_dir):\n \t  use version invariant configuration.\n\n\t* instruby.rb: use installed libraries.  [ruby-core:21006]\n\n\t* instruby.rb (gem), lib/rubygems/defaults.rb (Gem.default_dir):\n\t  use version invariant configuration.\n\nThu Jan  8 00:31:58 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit/assertions.rb (assert_no_match): don't count up as two\n\t  assertions.\n\nMon Jan  5 12:52:08 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (init_env): use user profile folder than personal\n\t  folder.\n\nMon Jan  5 17:59:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (cygwin): needs properly implemented nl_langinfo().\n\t  [ruby-core:21110]\n\n\t* missing/langinfo.c: added as suggested at [ruby-core:21015], from\n\t  http://www.cl.cam.ac.uk/~mgk25/ucs/langinfo.c.\n\n\t* missing/langinfo.c (nl_langinfo_0): fixed typos for SJIS.\n\nMon Jan  5 17:38:40 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* encoding.c (rb_locale_charmap): use GetConsoleCP() instead of\n\t  GetACP() because external encoding should be console's one.\n\n\t* encoding.c (rb_filesystem_encoding): use GetOEMCP() instead of\n\t  GetACP() because VFAT/FAT32 uses OEM CP.\n\nMon Jan  5 16:26:48 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_filesystem_encoding): use ANSI codepage for file\n\t  system on cygwin.\n\n\t* encoding.c (rb_locale_charmap): reverted.  [ruby-core:21110]\n\nMon Jan  5 16:15:00 2009  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* ext/curses/curses.c (free_window): use xfree instead of free.\n\t  [ruby-dev:37200]\n\nMon Jan  5 08:41:13 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_s_stat): need type check for non string values.\n\t  [ruby-dev:37673]  fix: #964\n\n\t* file.c (rb_file_s_size, rb_file_s_atime, rb_file_s_mtime,\n\t  rb_file_s_ctime, rb_f_test): ditto.\n\nMon Jan  5 07:58:37 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* random.c (rb_f_srand): update RDoc.  [ruby-core:21113]\n\nThu Jan  8 07:30:52 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI.redirectable?): reverted https redirection.\n\nSun Jan  4 18:10:10 2009  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/gbk.trans, gbk-tbl.rb:\n\t  new Chinese GBK transcoding (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi)\n\nSun Jan  4 17:55:55 2009  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: added tests for GB2312\n\t  (from Yoshihiro Kambayashi)\n\n\t* enc/trans/chinese.trans: set valid byte patterns for\n\t  GB2312 and GB12345\n\nSun Jan  4 17:39:39 2009  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/big5.trans, big5-tbl.rb:\n\t  new Chinese Big5 transcoding (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi)\n\nSun Jan  4 15:41:37 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_filesystem_encoding, rb_locale_charmap): uses\n\t  codepage on cygwin.  [ruby-core:20994]\n\nSun Jan  4 11:58:43 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (ruby_float_step): extracted from num_step().\n\n\t* range.c (range_step): uses ruby_float_step() for float range.\n\t  [ruby-dev:37691]\n\nSun Jan  4 11:11:31 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): does not use both of makefile.rb and\n\t  extconf.rb at the same time.\n\n\t* lib/mkmf.rb (DLLIB): depends on Makefile.  [ruby-core:21096]\n\nSun Jan  4 03:30:18 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (maygvl_copy_stream_wait_read): renamed to add prefix to\n\t  express GVL state.\n\t  (nogvl_copy_stream_wait_write): ditto.\n\t  (nogvl_copy_stream_sendfile): ditto.\n\t  (maygvl_copy_stream_read): ditto.\n\t  (nogvl_copy_stream_write): ditto.\n\t  (nogvl_copy_stream_read_write): ditto.\n\t  (nogvl_copy_stream_func): ditto.\n\nSun Jan  4 00:30:50 2009  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/erb.rb: merged r20850, r17881, r16811, r16763, r16748, r15829, \n\t  r15794 and r15698 from ruby_1_8.\n\n\t* test/erb/test_erb.rb: ditto.\n\nSat Jan  3 22:24:36 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk, Makefile.in, win32/Makefile.sub (INSNS): move the macro\n\t  definition from common.mk to {Makefile.in,win32/Makefile.sub}.\n\t  [ruby-dev:37678]\n\nSat Jan  3 15:30:09 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/chinese.trans: added for transcoding EUC-CN and GB12345.\n\n\t* enc/trans/GB/: ditto.\n\nSat Jan  3 15:26:30 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/euc-cn.c: renemed from gb2312.c because GB2312 is\n\t  the name of a CSS.  it's encoding name is \"EUC-CN\".\n\nSat Jan  3 03:00:42 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk, Makefile.in, win32/Makefile.sub ($(INSNS), node_name.inc,\n\t  known_errors.inc, miniprelude.c, newline.c): move rules from common.mk\n\t  to {Makefile.in,win32/Makefile.sub} for nmake.\n\t  [ruby-core:20993]\n\nFri Jan  2 23:51:41 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_sleep.rb (test_sleep_5sec): stop gc.\n\nFri Jan  2 23:36:10 2009  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c: don't apply socktype hack [ruby-core:184] for\n\t  sock_s_getaddrinfo.\n\t  (sock_getaddrinfo): add socktype_hack argument.\n\t  (sock_addrinfo): call sock_getaddrinfo with socktype_hack.\n\t  (sock_s_getaddrinfo): call sock_getaddrinfo without socktype_hack.\n\t  [ruby-dev:37674]\n\nFri Jan  2 23:33:38 2009  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/missing.h, sprintf.c: get rid of a warning of VC++.\n\nFri Jan  2 10:20:24 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/singleton.rb: fix documentation. [ruby-core:21038]\n\nFri Jan  2 22:25:46 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* process.c: use sigaction instead of sigset.  [ruby-core:21021]\n\nFri Jan  2 22:20:46 2009  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_process.rb (test_wait_and_sigchild): remove debug\n\t  output.\n\nFri Jan  2 06:43:58 2009  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* signal.c (rb_signal_buff_size): defined for check whether signal\n\t  is in the buffer or not.\n\n\t* thread_pthread.c (thread_timer): don't exit the loop when signal\n\t  is in the buffer. [ruby-dev:37637]\n\nThu Jan  1 22:27:55 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/default.mspec: fix for builddir != srcdir\n\n\t* Makefile.in: ditto.\n\nThu Jan  1 20:50:09 2009  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* process.c (before_exec): it makes no sense for a conditional\n\t  expression to return a void value.\n\nThu Jan  1 15:08:46 2009  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/flie2lastrev.rb: supports git repositories which are cloned\n\t  from a git-svn gateway.\n\t  Patch by Hongli Lai. [ruby-core:21020]\n\nThu Jan  1 07:42:36 2009  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/singleton.rb: fix indentation of RDoc text.  [ruby-core:21029]\n\nThu Jan  1 07:16:44 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (distclean-ext, realclean-ext): use EXTS as default.\n\n\t* win32/Makefile.sub (distclean-ext, realclean-ext): try to remove ext\n\t  directory.\n\nThu Jan  1 06:56:28 2009  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/file2lastrev.rb: unset PWD.\n\nWed Dec 31 14:12:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_to_float): replaced by to_flo definition from\n\t  math.c  [ruby-dev:37668]\n\n\t* math.c (Need_Float): use rb_to_float().\n\nWed Dec 31 19:35:57 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/README: follows the change of directory structure in rubyspec.\n\n\t* spec/default.mspec: ditto. Also follows change of mspec command.\n\n\t* Makefile.in: ditto.\n\nWed Dec 31 15:45:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_body): don't check to_io because\n\t  Zlib::GzipWriter#to_io returns the underlying IO.\n\nWed Dec 31 14:52:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/openssl/ossl_digest.c (GetDigestPtr): use StringValueCStr\n\t  instead of STR2CSTR.\n\n\t* ext/openssl/ossl_pkey_ec.c (ossl_ec_key_initialize): ditto.\n\t  (ossl_ec_group_initialize): ditto.\n\nTue Dec 30 21:17:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/mkconstants.rb: use sock_define_uconst for INADDR_*\n\t  constants because Socket::INADDR_LOOPBACK should be 0x7f000001\n\t  instead of -0xffffff.\n\n\t* ext/socket/socket.c (sock_define_uconst): defined.\n\nTue Dec 30 18:23:10 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/minitest/*.rb: Imported minitest 1.3.1 r4506.\n\t* test/minitest/*.rb: ditto.\n\nTue Dec 30 17:59:59 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c: Minor fixes and tweaks in documentation.\n\nTue Dec 30 17:03:51 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/dl/test/test_import.rb: fix a prototype decl.\n\t  pointed out by Takehiro Kubo [ruby-core:20971].\n\nTue Dec 30 16:56:09 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_blocking_region): add a comment.\n\n\t* thread.c (rb_thread_call_without_gvl): added as a alias of\n\t  rb_thread_blocking_region().\n\n\t* thread.c (rb_thread_call_with_gvl): added.\n\n\t* vm_core.h (rb_thread_t#blocking_region_buffer): added for\n\t  rb_thread_call_with_gvl().\n\nMon Dec 29 22:37:17 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* process.c (rb_waitpid): retries waitpid when EINTR.\n\t  [ruby-core:19744].\n\nMon Dec 29 23:41:42 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/dl/test/test_base.rb: add libc search logic.\n\t  this patch is written by Takehiro Kubo.\n\t  [ruby-core:20963] [Bug #932]\n\n\t* ext/dl/dl.h: Add \",...\" as the last argument.\n\t  this patch is written by Takehiro Kubo.\n\t  Bug #633 [ruby-core:19289]\n\n\t* ext/dl/lib/dl/stack.rb: add add_padding() to calculate\n\t  alignment.  this patch is written by Takehiro Kubo.\n\t  Bug #633 [ruby-core:19289]\n\n\t* ext/dl/test/test_func.rb: atof()'s return value is double.\n\t  this patch is written by Takehiro Kubo.\n\t  Bug #633 [ruby-core:19289]\n\n\t* ext/dl/test/test_import.rb:\n\t  - atof()'s return value is double.\n\t  - The types of qsort's second and third argument are size_t.\n\t  - fprintf()'s return value is int.\n\t  this patch is written by Takehiro Kubo.\n\t  Bug #633 [ruby-core:19289]\n\nMon Dec 29 20:57:14 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/ri.1: new manpage.\n\nMon Dec 29 17:53:24 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* bin/erb: accepts options in more flexible styles.\n\nMon Dec 29 17:25:17 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/erb.rb (ERB): m17n of ERB. adds rdoc.\n\t  fixes #712. c.f. [ruby-dev:37516].\n\n\t* lib/erb.rb (ERB::Compiler#compile): recognizes magic comments.\n\t  returns a pair of compiled script and its script encoding.\n\n\t* lib/erb.rb (ERB#set_eoutvar): make generated scripts return a \n\t  string in correct encoding.\n\n\t* lib/erb.rb (ERB#def_method): use Kernel#eval for encoding-awareness  \n\t  of the evaluated string.\n\n\t* bin/erb.rb (ERB::Main.run): adds -E and -U options.\n\t  String is no longer Enumerable.\n\n\t* man/erb.1: new manapage.\n\n\t* test/erb/test_erb_m17n.rb: new test case for m17n features.\n\nMon Dec 29 16:16:20 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (vm_set_eval_stack, vm_set_main_stack, vm_set_top_stack): \n\t  check stack overflow.  [ruby-dev:37646]\n\nMon Dec 29 14:50:19 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* Makefile.in (ext-clean): ext-clean always fails.\n\n\t* ext/dl/ripper/extconf.rb: adds y.output into the clean list.\n\nMon Dec 29 11:58:39 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_mutex_trylock): return false if Mutex owned\n\t  by current thread.  [ruby-core:20943]\n\n\t* thread.c (rb_mutex_lock): check dead lock (recursive lock) here.\n\n\t* test/ruby/test_thread.rb: add a test.\n\nMon Dec 29 07:15:16 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* cont.c: small RDoc fix mentioned from <radek.bulat at gmail.com>\n\t  in [ruby-core:20921].\n\nMon Dec 29 03:43:25 2008  Koichi Sasada  <ko1@atdot.net> \n\n\t* ruby.c (process_options): set th->base_block only while\n\t  it is needed.  [ruby-dev:37634] [Bug #939]\n\n\t* ruby.c (require_libraries): clear th->base_block before\n\t  require libraries.\n\nSun Dec 28 18:39:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c: not force to override snprintf/vsnprintf.\n\t  [ruby-core:20824]\n\nSun Dec 28 21:33:52 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ext/dl/test_base.rb : add BSD's case.\n\nSun Dec 28 21:09:12 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ext/dl/lib/dl/import.rb (DL::Importer#sizeof): follows\n\t  a feature change in 1.9.\n\nSun Dec 28 19:11:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.h): do not use snprintf/vsnprintf in\n\t  msvcrt.\n\n\t* sprintf.c: not force to override snprintf/vsnprintf.\n\t  [ruby-core:20824]\n\nSun Dec 28 17:10:13 2008  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* ext/dl/test/test_dl2.rb: modify strncpy, strcpy, qsort, types.\n\t  Patch by Takehiro Kubo.\n\t  Bug #633 [ruby-core:19289]\n\t* ext/dl/test/test_base.rb: /lib/libc.so is x86_64 binary in x86_64 architecture.\n\nSun Dec 28 18:36:33 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/rubygems/test_gem_command.rb\n\t  (test_add_option_overlapping_common_and_local_options):\n\t  follows r21066.\n\nSun Dec 28 17:21:36 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/rubygems/test_ext_configure_builder.rb (test_self_build_fail):\n\t  Extends pattern for FreeBSD's error message.\n\nSun Dec 28 12:24:14 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (mutex_free, mutex_unlock): add qualifiers.\n\nSun Dec 28 10:28:04 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (mutex_free): GC thread (main thread) has failed to unlock\n\t  a mutex that is locked by another thread, which makes the mutex\n\t  dangling in keeping_mutexes and causes [BUG] or stuck finally.\n\t  Now unlocking is performed as locking thread.\n\n\t* thread.c (mutex_unlock, rb_mutex_unlock, rb_mutex_unlock_all):\n\t  mutex_unlock receives a thread.\n\nSun Dec 28 05:44:44 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/minitest/*.rb: Imported minitest 1.3.1 r4505.\n\t* test/minitest/*.rb: ditto.\n\nSun Dec 28 00:43:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* runruby.rb: refactored to modify ENV as once.\n\nSat Dec 27 22:41:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/rdoc/test_rdoc_info_formatting.rb (setup, teadown): uses\n\t  mktmpdir and removes it alfter the test.\n\n\t* test/cgi/test_cgi_session.rb (setup, teadown): ditto.\n\nSun Dec 28 12:53:10 2008  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* ext/dl/test/test_base.rb: use libc.dylib when the platform is darwin.\n\nSat Dec 27 21:46:10 2008  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* ext/dl/test/test_base.rb: use lib64 when the architecture is x86_64.\n\nSat Dec 27 20:26:59 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_argv_size): if an argument is empty, it's size\n\t  is 2, not 0, because it will be converted to \"\".\n\nSat Dec 27 19:40:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (after_exec): needs to reset before restart timer\n\t  thread.\n\n\t* thread.c (thread_start_func_2): stops timer thread if forked in\n\t  the new thread.   [ruby-core:19385]\n\n\t* thread.c (rb_thread_atfork, rb_thread_atfork_before_exec): DRY.\n\nSat Dec 27 17:08:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* .gdbinit (dummy_gdb_enums.special_consts): forces to load debug\n\t  info on Mac OS X.\n\n\t* .gdbinit (rp): added T_ZOMBIE.\n\nSat Dec 27 16:18:02 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_frame_callee, rb_frame_caller): rb_frame_callee() \n\t  should return method id on current frame.\n\t  add rb_frame_caller() to get method id on parent frame.\n\t  Bug #884 [ruby-dev:37446]\n\n\t* eval.c (rb_f_method_name): use rb_frame_caller()\n\t  instead of rb_frame_callee().\n\nSat Dec 27 15:28:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_econv_exception): show source and destination\n\t  encoding.  [ruby-dev:37285]\n\nSat Dec 27 15:23:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_yield_with_cfunc): rename parameter name\n\t  \"blockptr\" to \"blockargptr\".\n\nSat Dec 27 15:15:56 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (revision.h): ignores failure of file2lastrev.\n\nSat Dec 27 15:02:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.c (process_options): fix to untouch th->mild_compile_error.\n\t  [ruby-dev:37621], [ruby-dev:37620]\n\nSat Dec 27 14:48:26 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.h, iseq.c (rb_iseq_new_main): add a type ISEQ_TYPE_MAIN.\n\t  [ruby-dev:37619]\n\n\t* compile.c (rb_dvar_defined, ruby_iseq_compile): ditto.\n\n\t* iseq.c (iseq_data_to_ary, iseq_load): ditto.\n\n\t* compile.c (iseq_compile_each): fix to check ip->compile_data.\n\nSat Dec 27 14:29:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI.redirectable?): permit https redirection.\n\t  patch from Roman Shterenzon.  [ruby-core:20485]\n\nSat Dec 27 13:36:55 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (get_errinfo): return th->errinfo value\n\t  if normal errinfo place (dynamic local viriable) is not found.\n\t  fixes Bug #732 [ruby-dev:37046].\n\n\t* bootstraptest/test_proc.rb: add a test.\n\nSat Dec 27 11:41:45 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_call_method, vm_call_cfunc): use original id instead of\n\t  calling id when NODE_CFUNC or NODE_BMETHOD.\n\t  fixes Bug #632 [ruby-core:19282].\n\n\t* vm_eval.c (vm_call0, vm_call_super): ditto.\n\n\t* vm_method.c (rb_add_method, rb_alias): store original id\n\t  in nd_file field of NODE_METHOD.\n\n\t* test/stringio/test_stringio.rb: add a test.\n\nSat Dec 27 13:09:36 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/irb.1: adds -v, -h, -E, and -U.\n\nSat Dec 27 09:48:54 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (Init_VM): create and define TOPLEVEL_BINDING at first.\n\n\t* vm.c (vm_set_main_stack, rb_iseq_eval_main): added.\n\n\t* parse.y (rb_parser_compile_file): fix to check parse_in_eval flag.\n\n\t* eval.c (ruby_exec_node): use rb_iseq_eval_main()\n\t  instead of rb_iseq_eval().\n\n\t* iseq.c (rb_iseq_new_main), vm_core.h: added.\n\t  main script (specified by -e or script name) should be run\n\t  under TOPLEVEL_BINDING using Kernel#eval.  Above changes\n\t  simulate Kernel#eval behaviour.  [ruby-dev:37240]\n\n\t* compile.c (make_name_for_block): skip iseq except block type.\n\t  this fix is needed for [ruby-dev:37240], and also fixes\n\t  [ruby-dev:35392].\n\nSat Dec 27 05:38:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (after_fork): ignores a termination request in the\n\t  parent process.  [ruby-dev:37447]\n\nSat Dec 27 01:52:39 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb:  Using a more robust transcoding scheme to produce\n\t  ASCII compatible inspect() messages.  [ruby-dev:37591]\n\nMon Dec 22 16:32:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): encoding of packed string only from 'm',\n\t  'M', and 'u' should be US-ASCII.  [ruby-dev:37284]\n\n\t* pack.c (pack_pack): encoding of packed string only from 'U'\n\t  should be UTF-8.  also upgrade US-ASCII strings to UTF-8.\n\nSat Dec 27 09:14:17 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* cont.c: rdoc for Fiber. patch by Muhammad Ali.\n\t  [ruby-core:20894]\n\nFri Dec 26 18:04:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (fptr_finalize): don't allocate objects if noraise.\n\t  (finish_writeconv): add noalloc argument to be able to avoid\n\t  object allocation.\n\t  (finish_writeconv_arg): introduced again.\n\t  (finish_writeconv_sync): follow the above change.\n\nMon Dec 22 09:54:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (gettable_gen): the encoding of __FILE__ should be\n\t  rb_filesystem_encoding().  [ruby-list:45733]\n\n\t* parse.y (gettable_gen): __FILE__ should be ASCII-8BIT when\n\t  filesystem encoding is US-ASCII and __FILE__ contains non 7bit\n\t  characters.\n\nFri Dec 26 15:50:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::List#summarize): gives priority\n\t  to latter switches.  [ruby-dev:36692]\n\n\t* lib/optparse.rb (OptionParser#summarize): do not append\n\t  unnecessary line terminator.\n\nFri Dec 26 14:01:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (fptr_finalize): close the IO object even if finish_writeconv or\n\t  flush is failed.\n\t  (finish_writeconv): don't raise.  return errno or exception.\n\t  (finish_writeconv_arg): removed.\n\t  (finish_writeconv_sync): follow finish_writeconv change.\n\n\t* transcode.c (rb_econv_make_exception): new function.\n\n\t* include/ruby/encoding.h (rb_econv_make_exception): declared.\n\nFri Dec 26 17:04:14 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/irb/input-method.rb (IRB::StdioInputMethod#initialize):\n\t  removed a 'p' for debugging.\n\nThu Dec 25 20:57:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (str_transcode0): set encoding when String#encode was\n\t  given explicit but the same destination and source encoding.\n\nThu Dec 25 19:35:51 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (sym_ignore): remove useless symbol.\n\nMon Dec 22 21:31:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* numeric.c (int_ord): Integer#ord implemented.\n\nTue Dec 16 22:15:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/minitest/unit.rb (MiniTest::Assertions#assert_instance_of):\n\t  should assert by instance_of?, not ===.  [ruby-dev:37458]\n\n\t* lib/minitest/unit.rb (MiniTest::Assertions#assert_instance_of):\n\t  typo fixed.\n\nMon Dec 15 20:59:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/pty/pty.c (child_info): add slavename.\n\t  (chfunc): use slavename.\n\t  (establishShell): set slavename.\n\t\nTue Dec  9 13:23:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (check_cfunc): use function pointer.\n\nThu Nov 27 10:40:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_div2): should return\n\t  Integer for #div operation.\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_div2): should raise\n\t  ZeroDivisionError if divisor is zero.  [ruby-dev:37207]\n\nMon Nov  3 00:36:44 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole_event.rb: rename test class.\n\n\t* test/win32ole/test_win32ole_variant_outarg.rb: add in order\n\t  to use ADO instead of Internet Explorer.\n\t  remove test/win32ole/test_win32ole_variant_with_ie.rb.\n\n\t* test/win32ole/orig_data.csv: ditto.\n\nSun Nov  2 22:12:41 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_event_free): invoke IConnectionPoint::Unadvise\n\t  before invoking IConnectionPoint::Release.\n\n\t* test/win32ole/test_win32ole_event.rb, test/win32ole/err_in_callback.rb,\n\t  test/win32ole/test_err_in_callback.rb: Use ActiveX Data Object\n\t  Library instead of InternetExplorer.\n\nSun Nov  2 22:06:55 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* win32/Makefile.sub: add RUNRUBYOPT. [ruby-dev:37009]\n\nThu Dec 25 17:49:45 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (decorate_convpath): show type of escaping for\n\t  xml_attr_quote or some conversions.\n\nThu Dec 25 17:06:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_initialize): check fd validity.  [ruby-dev:36646]\n\nThu Dec 25 16:23:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (flush_before_seek): check io_fflush result.\n\t  (rb_io_check_readable): ditto.\n\t  (rb_io_flush): ditto.\n\t  (rb_io_fsync): ditto.\n\t  (remain_size): ditto.\n\t  (rb_io_write_nonblock): ditto.\n\t  (finish_writeconv): ditto.\n\t  (fptr_finalize): ditto.\n\t  (io_reopen): ditto.\n\t  (rb_io_reopen): ditto.\n\t  (copy_stream_body): ditto.\n\nThu Dec 25 15:54:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fflush): flush write buffer without write lock in\n\t  finalizers.  [ruby-dev:37572]\n\n\t* io.c (rb_io_fptr_finalize): clear write lock before finalizing.\n\nThu Dec 25 15:07:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (fptr_finalize): close the IO object even if close(2) is failed.\n\nThu Dec 25 14:51:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/parser.rb (RDoc::Parser.binary?): should read in binary mode.\n\nThu Dec 25 13:28:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_io_flush): fsync() after buffer is flushed on win32.\n\t  [ruby-core:20043]\n\nThu Dec 25 14:32:23 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_method_search): fix control flow bug.\n\t  (commited at r20981)\n\nThu Dec 25 13:13:00 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_method_search): return rb_cObject if there is no\n\t  super class.  [ruby-dev:37587]\n\n\t* bootstraptest/test_method.rb: add tests for above.\n\nThu Dec 25 12:49:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (proc_new): should use proc_dup() if block has Proc.\n\n\t* vm.c (vm_make_proc_from_block): should use rb_cProc for block.\n\n\t* vm.c (vm_make_proc): add an assertion.\n\n\t* bootstraptest/test_proc.rb: add a test.\n\nThu Dec 25 12:44:27 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_yield_with_cfunc): check block has Proc.\n\nThu Dec 25 05:53:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* template/id.h.tmpl, id.h (ruby_method_ids): not depend on if\n\t  token are defined as macros.  [ruby-dev:37553]\n\n\t* template/id.h.tmpl, id.h (ruby_method_ids_check): enclosed in a\n\t  struct.\n\nThu Dec 25 01:52:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): sets native thread key.\n\nThu Dec 25 01:09:23 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline_history.rb: check the encoding that\n\t  is in the Readline::HISTORY.\n\nWed Dec 24 22:36:06 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* error.c, vm_dump.c: change message by rb_bug().\n\nWed Dec 24 21:57:39 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_peephole_optimize): fix typo.\n\nSun Dec 21 13:38:04 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (invoke_block_from_c): fix to point right cfp.\n\n\t* vm.c (vm_make_proc, vm_make_proc_from_block), vm_core.h:\n\t  remove unused parameter cfp.\n\n\t* vm_insnhelper.c, proc.c (proc_new): ditto.\n\nWed Dec 24 20:59:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* error.c (exc_equal): == method should not raise Exception.\n\t  [ruby-dev:37519]\n\n\t* sample/test.rb: fix test\n\nFri Dec 19 07:45:37 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (exc_equal): duck typing equal to make it transitive.\n\t  [ruby-dev:34880]\n\nWed Dec 24 20:33:45 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_call_method): use class of method defined\n\t  instead of receiver's class on bmethod.  fixes [ruby-core:20786]\n\n\t* bootstraptest/test_method.rb: add a test for above.\n\n\t* vm_insnhelper.c (vm_setup_method): remove unused parameter klass.\n\n\t* vm_insnhelper.h (CALL_METHOD): ditto.\n\n\t* insns.def, vm_eval.c: ditto.\n\nWed Dec 24 20:15:50 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/file2lastrev.rb (get_revisions): fix to ignore end of line.\n\nWed Dec 24 13:33:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (HAVE_LONG_LONG, HAVE_OFF_T): revised for autoconf\n\t  2.62 or later.\n\nWed Dec 24 06:29:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (OBJDUMP, OBJCOPY): autoconf list is not comma\n\t  separated.\n\n\t* configure.in (AC_HEADER_STDC, AC_CHECK_HEADERS, AC_CHECK_FUNCS):\n\t  removed duplicated checks.\n\nWed Dec 24 03:21:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el: added comment to mention newer version\n\t  bundled with Emacs 23 or later.  a patch from Phil Hagelberg\n\t  <phil at hagelb.org> in [ruby-core:20838].\n\nTue Dec 23 23:49:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_init_copy): call io_seek only if io_tell succeeds.\n\nTue Dec 23 20:28:28 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* io.c: rdoc for File::open and 1.9 feature in file modes.\n\n\t* transcode.c: rdoc for String#encode\n\nTue Dec 23 19:51:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_spawn): deals with quoted commands.\n\nTue Dec 23 18:44:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* strftime.c (rb_strftime): use locale insensitive functions for tr_TR\n\t  locale.\n\nTue Dec 23 17:38:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit/assertions.rb (assert_equal): show small differences\n\t  for Regexp and Float.\n\nTue Dec 23 16:49:48 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_spawn): support normal commands with arguments.\n\nTue Dec 23 15:46:43 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/mathn.rb: Math.sqrt(NaN) should be NaN. [ruby-dev:37537]\n\nTue Dec 23 15:46:47 2008  Eric Hodel  <drbrain@segment7.net>\n\t* gem_prelude.rb:  Match full RubyGems behavior when a gem can't be\n\t  found.\n\nTue Dec 23 15:30:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (pipe_open): need to initialize args.\n\nTue Dec 23 14:18:14 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/st.h: need to include defines.h because LONG_LONG is\n\t  defined there.\n\nTue Dec 23 13:52:05 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parser/c.rb:  Don't coalesce adjacent comment blocks.\n\t  [bug#901]\n\nTue Dec 23 08:10:05 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems/installer.rb: Fix documentation.  [bug#827]\n\nTue Dec 23 08:04:58 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb: Don't remove methods twice.  [bug#555]\n\nWed Dec 24 20:15:50 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/file2lastrev.rb (get_revisions): fix to ignore end of line.\n\nTue Dec 23 15:48:55 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* tool/file2lastrev.rb: shouldn't use single quote in shell's command\n\t  line if you want to support Windows.\n\nTue Dec 23 15:36:58 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/file2lastrev.rb: detects vcs directory properly on\n\t  building outside of srcdir. [ruby-dev:37555] [ruby-dev:37561]\n\nMon Dec 22 19:31:19 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (revision.h): uses tool/file2lastrev.rb to support\n\t  git-svn.\n\n\t* version.h: changed version string as\n\t  `ruby 1.9.1 (2008-12-22 patchlevel-5000 trunk 20912)\n\t  [i386-darwin9.6.0]'.\n\nMon Dec 22 21:08:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit/assertions.rb (assert_nothing_raised): increment\n\t  assertion count.  [ruby-dev:37480]\n\nMon Dec 22 19:10:44 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.c (Init_native_thread): need to call\n\t  ruby_thread_set_native() here.\n\nMon Dec 22 18:00:36 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: fix wrong flag value.\n\nMon Dec 22 14:35:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_external_str_new_with_enc): set ASCII-8BIT if\n\t  encoding is US-ASCII and string contains 8bit characters.\n\nMon Dec 22 12:26:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (rubydll.def), win32/mkexports.rb\n\t  (Exports#exports): added VERSION.\n\nTue Dec 23 00:16:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* sprintf.c (rb_str_format): fix buffer overflow.\n\nMon Dec 22 12:25:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/vsnprintf.c (BSD_vfprintf): fix for test_sprintf_comb.rb, by\n\t  wanabe in [ruby-dev:36935].\n\nMon Dec 22 12:05:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (mingw): no longer uses snprintf and vsnprintf of\n\t  msvcrt.  [Bug#6]\n\n\t* win32/win32.c (rb_w32_vsnprintf, rb_w32_snprintf): removed.\n\n\t* win32/Makefile.sub (config.h): vsnprintf exists in VC7 or later.\n\n\t* win32/mkexports.rb (Exports#initialize): aliases\n\t  rb_w32_vsnprintf and rb_w32_snprintf for binary compatibility.\n\n\t* sprintf.c (rb_str_format): uses snprintf instead of sprintf.\n\n\t* numeric.c (flo_to_s, rb_num2long, rb_num2ll): ditto.\n\nSat Dec 20 15:34:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rake.rb (Rake::FileList#egrep): change open mode to \"rb\",\n\t  i.e. default to binary.    [ruby-dev:37385]\n\n\t* lib/rake.rb (Rake::FileList#egrep): allow specifying reading\n\t  encoding, e.g. FileList['*.rb'].egrep(/require/, encoding:\n\t  \"ascii-8bit\")\n\nMon Dec 22 10:59:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_upto): should return enumerator if called\n\t  without block.  [ruby-dev:37526]\n\nThu Dec 25 00:59:06 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline_history.rb: did not check the\n\t  encoding that is in the Readline::HISTORY. I will fix it.\n\nMon Dec 22 02:54:56 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: temporary patch for trouble on TkAqua (> Tk8.4.9).\n\n\t* ext/tk/sample/demos-jp/widget: set encoding to a demo-code string to\n\t  avoid garbled text on the Code Window.\n\nSun Dec 21 14:48:51 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline_history.rb: checked encoding.\n\nSun Dec 21 13:50:37 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline.rb\n\t  (TestReadline#test_some_characters_methods): checked encoding.\n\nSun Dec 21 14:55:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (SPLAT_PROC): splat values by hand.\n\nSun Dec 21 12:23:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (SPLAT_PROC): fix for regexp.  [ruby-dev:37514]\n\nMon Dec 22 15:25:03 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* thread.c (Thread#set_trace_func, #add_trace_func): removed.\n\t  This is an unsupported feature in 1.9.1 and will be supported \n\t  in 1.9.2. [ruby-core:19581]\n\t  (thread_add_trace_func): removes unnecessary function.\n\t  (thread_add_trace_func_m): ditto.\n\t  (thread_set_trace_func_m): ditto.\n\nSat Dec 20 18:28:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.c (dln_find_1): supplements an extension for executable\n\t  files on DOSish platforms.\n\n\t* io.c (pipe_open): use rb_w32_aspawn() for array form.\n\n\t* win32/win32.c (rb_w32_pipe_exec): no longer used.\n\n\t* win32/win32.c (rb_w32_spawn, rb_w32_aspawn): deals with batch\n\t  files and commands with extensions.  [ruby-core:20695]\n\n\t* win32/win32.c (has_redirection): supports environment variables\n\t  references.\n\nFri Dec  5 01:37:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_read): ERROR_BROKEN_PIPE is not a real error\n\t  at this point.\n\n\t* io.c (pipe_open): use rb_w32_spawn() instead of rb_w32_pipe_exec()\n\t  to use our own redirection scheme.\n\n\t* lib/rake.rb (Rake::MultiTask): invoke_prerequisites should be\n\t  private.  a patch from okkez in [ruby-dev:37399]\n\nSat Dec 20 10:59:16 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/irb/locale.rb (IRB::Locale#initialize)\n\t  initializes instance variables to suppress warnings.\n\t  typo fix to ignore LoadError: [ruby-dev:37508]\n\nFri Dec 19 17:01:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_extract_encoding_option): \"internal_encoding: nil\"\n\t  to specify no-transcoding.  and other corner case fixed.\n\t  [ruby-dev:37496]\n\n\t* hash.c (rb_hash_lookup2): new function to look-up hash with\n\t  default value.\n\nFri Dec 19 15:51:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): get rid of warning on DOSISH.\n\nThu Dec 18 19:31:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/irb/init.rb (IRB.opt_parse): (M17N) adds -U and -E as command\n\t  line options. [ruby-dev:37161]. Fixes #711. \n\t  improved long optinos.\n\n\t* lib/irb/init.rb (IRB.set_encoding): new subroutine for IRB.opt_parse\n\n\t* lib/irb/input-method.rb (IRB::StdioInputMethod): (M17N) regards\n\t  scripts that user types as encoded in the external_encoding. \n\n\t* lib/irb/input-method.rb (IRB::ReadlineInputMethod): ditto.\n\n\t* lib/irb/input-method.rb (IRB::FileInputMethod): (M17N) respects\n\t  magic comment.\n\n\t* lib/irb/help.rb (IRB.print_usage): (M17N) respects magic comment \n\t  in the resource file.\n\n\t* lib/irb/lc/help-message: adds -U and -E.\n\n\t* lib/irb/lc/ja/help-message: ditto. re-encoded from ISO-2022-JP into UTF-8.\n\n\t* lib/irb/lc/ja/encoding_aliases.rb: new file. provides Japanese specific\n\t  character encoding name table for backward compatibility.\n\n\t* lib/irb/lc/ja/error.rb: re-eoncoded from ISO-2022-JP into UTF-8.\n\t  magic comment.\n\n\t* lib/irb/locale.rb: integrated with Ruby 1.9's M17N support.\n\n\t* lib/irb/magic-file.rb: new file. utility to handle files with magic\n\t  comment and opens in the correct encoding.\n\n\t* lib/irb/ruby-lex.rb (RubyLex#each_top_level_statement): recovers\n\t  character encoding for a statement after it lexed so that irb can\n\t  eval the statement in correct encoding.\n\n\t* lib/irb/src_encoding.rb: new file. utility.\n\nThu Dec 18 21:12:28 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/session.rb: fix bug for ignore session_id option.\n\t  report from [ruby-core:18635], [Bug #572]\n\n\t* lib/cgi/core.rb: use Encoding#find when encoding set.\n\n\t* test/cgi/test_cgi_session.rb: test for session_id specified.\n\nThu Dec 18 16:48:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/optparse/version.rb: remove variable shadowing to stop\n\t  warning.   [ruby-core:20612]\n\n\t* lib/irb/completion.rb, lib/net/imap.rb, lib/prime.rb,\n\t  lib/rinda/ring.rb, lib/racc/parser.rb,\n\t  lib/shell/command-processor.rb, lib/yaml/yamlnode.rb: ditto.\n\n\t* lib/racc/parser.rb: remove space before parentheses.\n\n\t* lib/shell/command-processor.rb, lib/shell/process-controller.rb:\n\t  use parentheses around arguments.\n\n\t* lib/irb/ext/change-ws.rb, lib/rexml/validation/relaxng.rb,\n\t  lib/yaml/baseemitter.rb: indentation fix.\n\n\t* lib/matrix.rb: small cosmetic change.\n\nThu Dec 18 08:15:04 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/server.rb:  Restricting method inspection to show only\n\t  non-inherited public methods.  [ruby-core:20603]\n\n\t* lib/xmlrpc/server.rb:  Fixing method inspection so it doesn't \n\t  trigger XMLRPC::FaultException when used.  [ruby-core:20604]\n\nWed Dec 17 19:39:44 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (unix_recv_io): relax msg_controllen error\n\t  check.\n\nWed Dec 17 19:37:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/pty/extconf.rb: check util.h for OpenBSD.\n\n\t* ext/pty/pty.c: include util.h if available.\n\nWed Dec 17 19:23:28 2008  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/matrix.rb: shut up warning. [ruby-dev:37481] [Bug #899]\n\nSat Dec 13 08:35:14 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_canonicalization): renamed.\n\n\t* ext/math/complex.c: followed the above change.\n\n\t* rational.c (nurat_canonicalization): renamed.\n\n\t* ext/math/rational.c: followed the above change.\n\n\t* configure.in: defines a new macro.\n\nWed Dec 17 15:44:28 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_pop_m): use enum ary_take_pos_flags.\n\n\t* array.c (rb_ary_push_m): add modification check before actual\n\t  operation.   [ruby-dev:37440]\n\nWed Dec 17 15:35:39 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* configure.in (OBJDUMP, OBJCOPY): \n\t  Also BSD's ports prefixes GNU binutils with 'g'.\n\nWed Dec 17 11:39:39 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/bigdecimal/test_bigdecimal.rb (TestBigDecimal#test_hash):\n\t  shut up warning.  see [ruby-dev:37437]\n\nWed Dec 17 11:01:35 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_hash): gets rid of collisions between differen\n\t  encoding strings.  [ruby-core:20526]\n\nTue Dec 16 22:55:11 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bin/testrb: set $0.\n\nTue Dec 16 21:59:02 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (VpToString): reverted modification\n\t  (that caused a bug) in r20359.  [ruby-dev:37370]\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_limit): comment update.\n\t  [ruby-dev:37465]\n\nTue Dec 16 22:42:16 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/test/unit.rb (Test::Unit.setup_argv): sorry, fixed wrong commit.\n\nTue Dec 16 21:59:29 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/test/unit.rb (Test::Unit.setup_argv): ALT_SEPARATOR support.\n\nTue Dec 16 20:24:20 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (_parse): m17n compliant.\n\nTue Dec 16 19:43:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c: use strlcpy for error messages.\n\nTue Dec 16 16:41:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): returns dispatched result.\n\n\t* parse.y (primary): also in ripper, saves in_def before restoring.\n\nTue Dec 16 12:30:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ac_cv_header_ucontext_h): do not use ucontext.h on Mac\n\t  OS X 10.5 or later.  merged from MacPorts.\n\n\t* configure.in (ac_cv_func_daemon): daemon(3) is deprecated on Mac OS\n\t  X 10.5 or later.\n\nTue Dec 16 11:37:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (set_arg0): use strlcpy() instead of strncpy().\n\n\t* load.c (rb_feature_p): ditto.\n\n\t* dln.c (dln_load): ditto.\n\nTue Dec 16 09:14:28 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (block_call): block should not be given to yield.\n\t  [ruby-core:20583]\n\nMon Dec 15 23:48:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (sleep_timeval): cast tv_usec to long to shut up\n\t  warnings on OSX.  [ruby-dev:37449]\n\nMon Dec 15 23:29:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (process_options): revive global sub, gsub, chop, chomp\n\t  only when auto looping options (-p/-n) is specified.\n\t  [ruby-core:20570]\n\nMon Dec 15 21:01:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/pty/pty.c (chfunc): make it static.\n\nMon Dec 15 20:16:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (EXTMK_ARGS): shouldn't use ``\\\"'' because cmd.exe eat\n\t  ''\\'' in such quotes.\n\nMon Dec 15 19:07:31 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.h): define CANONICALIZATION_FOR_MATHN\n\t  to follow r20683.\n\nMon Dec 15 18:12:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rake/packagetask.rb (Rake::PackageTask): small document\n\t  update from okkez in [ruby-dev:37443]\n\nMon Dec 15 16:26:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_callee_setup_arg_complex): uses cfp from\n\t  blockptr instead of the current cfp.  [ruby-core:20544]\n\nWed Dec 17 09:50:19 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_metaclass.rb: removed codes for my debugging.\n\t  sorry. [ruby-dev:37470]\n\nMon Dec 15 14:56:59 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_metaclass.rb: new test case for metaclass hierarchy.\n\n\t* class.c (make_metametaclass): new function. extracted from\n\t  rb_make_metaclass.\n\n\t* class.c (rb_make_metaclass): uses make_metametaclass when called for a\n\t  metaclass.\n\n\t* class.c (rb_singleton_class): creates a meta^(n+2)-class in\n\t  addition to a meta^(n+1)-class when called for a meta^(n)-class.\n\t  This is because the returned meta^(n+1) class must acts as an instance of \n\t  Class, metaclass of Class, ..., meta^(n+1)-class of Class,\n\t  Module, metaclass of Module, ..., meta^(n+1)-class of Module,\n\t  Object, metaclass of Object, ..., meta^(n+2)-class of Object,\n\t  BasicObject, metaclass of BasicObject, ..., meta^(n+2)-class of\n\t  and BasicObject even when Class, Module, Object or BasicObject has\n\t  not have its meta^(i)-class yet. \n\nMon Dec 15 15:13:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* id.h, template/id.h.tmpl (ruby_method_ids): sees YYTOKENTYPE too.\n\t  [ruby-dev:37436]\n\nMon Dec 15 15:02:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (EXTMK_ARGS): needs MINIRUBY for cross-compile.\n\t  [ruby-core:20131]\n\nMon Dec 15 14:39:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_eval.c (vm_call0): NODE_ZSUPER supported.  [ruby-core:20480]\n\n\t* vm_eval.c (vm_call_super): uses method_missing().\n\n\t* vm_eval.c (method_missing): get rid of too large alloca.\n\n\t* vm_eval.c (rb_call0, method_missing): uses idMethodMissing.\n\n\t* vm_method.c (rb_add_method, remove_method, rb_undef): uses\n\t  id__send__.\n\n\t* vm_method.c (Init_eval_method): removed IDs which are defined as\n\t  immediate values.\n\nMon Dec 15 11:35:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (vm_backtrace): defaults to script name for C functions.\n\nMon Dec 15 11:32:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (rubylib_mangled_path, rubylib_mangled_path2): cannot use\n\t  locale encoding before load path is initialized\n\n\t* ruby.c (ruby_init_loadpath_safe): ditto.\n\n\t* ruby.c (process_options): loads encdb so that encodings can be\n\t  loaded, then associates script name and load paths with the\n\t  locale encoding.\n\nSun Dec 14 14:26:11 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/README: directory structrue changed\n\nSun Dec 14 01:35:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (forked_child): new variable.\n\t  (before_exec): don't call rb_thread_stop_timer_thread if\n\t  forked_child.\n\t  (after_exec): reset forked_child after rb_thread_start_timer_thread.\n\t  (rb_fork): set forked_child just after fork in child.\n\n\t* ext/pty/pty.c (chfunc): extracted from establishShell.\n\t  (establishShell): use rb_fork.\n\n\t  [ruby-dev:37418]\n\nSat Dec 13 18:34:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_printable): wrong condition for string iteration.\n\nSat Dec 13 15:52:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_equal): remove documentation error \"Otherwise,\n\t  compares them as strings\".  [ruby-dev:37398]\n\nSat Dec 13 15:55:37 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ruby.c (process_options): fixed default_internal is nil.\n\t  (closes #862)\n\nSat Dec 13 13:03:20 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: use rb_usascii_str_new2 instead of rb_str_new2.\n\n\t* rational.c: ditto.\n\nFri Dec 12 22:12:46 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c, rational.c: do not use RUBY_VERSION_CODE.\n\nFri Dec 12 10:20:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* complex.c, rational.c: do not use RUBY_VERSION_CODE.\n\nTue Dec 16 12:41:52 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* configure.in (OBJDUMP, OBJCOPY): \n\t  (darwin) MacPorts prefixes GNU binutils with 'g'.\n\nSun Dec  7 23:17:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (LIBRUBY_SO): localizes non-public symbols.\n\n\t* configure.in (OBJDUMP, OBJCOPY): for dealing with binary files.\n\nMon Dec 15 10:00:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (btest-ruby): use RUNRUBY instead of MINIRUBY to load the\n\t  shared library.  [Bug #849]\n\nSun Dec 14 09:14:37 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* reverts r20713.\n\nSat Dec 13 22:17:30 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (help): describes more targets.\n\t  based on a patch by Michael Klishin. [ruby-core:20523].\n\nSat Dec 13 16:04:48 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* encoding.c (default_external): endless recursion during\n\t  loading a locale encoding on some locale.\n\t  fixed by Nobuyoshi Nakada.\n\n\t* string.c (sym_inspect): quote if symbol contains non-printable\n\t  characters.  [ruby-dev:37398]\n\nSat Dec 13 14:24:38 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/enc/test_utf16.rb: feature changed in r20626.\n\t  follows it.\n\nSat Dec 13 13:41:44 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_m17n_comb.rb: feature changed in r20626.\n\t  follows it.\n\nSat Dec 13 12:48:57 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_m17n.rb: feature changed in r20626.\n\t  follows it.\n\nSat Dec 13 12:38:16 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/minitest/test.rb (MinTest::Unit#location): \n\t  skips user-defined assertions as MiniTest's.\n\t  e.g. for test/ruby/test_m17n.rb.\n\nWed Dec 10 12:56:32 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_rewind): If the enclosed object\n\t  responds to a \"rewind\" method, call it; cf. [ruby-dev:37268]\n\nSat Dec 13 09:17:33 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/minitest/*.rb: Imported minitest 1.3.1 r4503.\n\t* test/minitest/test_mini_test.rb: ditto.\n\t* lib/miniunit/autorun.rb: added (as part of r4503).\n\t\nSat Dec 13 01:10:03 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/readline.c\n\t  (readline_s_get_completion_append_character): uses locale\n\t  encoding but not ASCII-8BIT.\n\nFri Dec 12 19:24:47 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (run, runruby, parse, gdb, gdb-ruby): you can also run\n\t  other scripts than $(srcdir)/test.rb.\n\nFri Dec 12 19:13:43 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/readline.c (readline_readline): changed the message\n\t  of IOError to 'closed stdin' from 'stdin closed' if stdin was\n\t  closed.\n\nFri Dec 12 11:00:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_feature_p): load path must be expanded.\n\t  [ruby-dev:37388]\n\nFri Dec 12 10:19:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_string_value_ptr, rb_to_id): do not use a side\n\t  effect expression in RSTRING_PTR.\n\n\t* string.c (rb_str_split_m): simplified the argument of\n\t  RSTRING_LEN.\n\nThu Dec 11 23:48:00 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/cmath.rb (sqrt): should pass nan to the original method.\n\nThu Dec 11 19:31:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit/assertions.rb: extracted from lib/test/unit.rb.\n\t  lib/test/unit/testcase.rb: ditto.\n\t  at asakusa.rb.  [ruby-core:20014]\n\nThu Dec 11 19:23:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_io.rb (test_dup_many): extracted from test_dup.\n\t  test in ruby subprocess.  at asakusa.rb.  [ruby-dev:35648]\n\nThu Dec 11 19:16:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pathname.rb (Pathname#=~): undefed.  at asakusa.rb.\n\t  [ruby-core:19690]\n\nThu Dec 11 13:09:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (reg_enc_error): raise EncodingCompatibilityError for\n\t  encoding incompatibility.  [ruby-core:18600]\n\n\t* re.c (rb_reg_prepare_enc): more consistent error message.\n\t  [ruby-core:18611]\n\nFri Dec 12 19:29:07 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* encoding.c (rb_enc_set_default_external): default_internal can be\n\t  nil, but default_external cannot.\n\n\t* encoding.c (rb_set_default_internal): adds rdoc.\n\n\t* encoding.c (enc_find): ditto.\n\nFri Dec 12 14:09:55 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* encoding.c (enc_get_default_encoding): removed.\n\t  Generalizing rb_default_{external,internal}_encoding seems to be\n\t  difficult. \n\t  default_external cannot be NULL even before detected. [ruby-dev:37390]\n\n\t* encoding.c (rb_default_external_encoding): has its own\n\t  implementation again.\n\n\t* encoding.c (rb_default_internal_encoding): ditto.\n\n\t* gem_prelude.rb: added notice.\n\n\t* ruby.c (rubylib_mangled_path, rubylib_mangled_path2): uses locale\n\t  encoding but not ASCII-8BIT.\n\n\t* ruby.c (process_options): refers less to default_external.\n\nThu Dec 11 20:05:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_aliases_enc_i): skips default internal.\n\nThu Dec 11 13:36:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_set_default_encoding): allowed to set default\n\t  encoding.\n\n\t* encoding.c (rb_locale_encoding): removed Encoding::LOCALE.\n\n\t* encoding.c (rb_enc_set_default_external): ditto.\n\n\t* encoding.c (rb_enc_set_default_internal): ditto.\n\n\t* encoding.c (rb_enc_set_default_internal): defines internal\n\t  encoding as nil.\n\nThu Dec 11 10:25:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_bignum.rb (TestBignum#test_convert): remove\n\t  platform dependent call of Process.wait.  coverage should be\n\t  accomplished by other method.  [ruby-dev:36062]\n\nThu Dec 11 10:18:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/document.rb (REXML::Document#write): require\n\t  rexml/formatters/transitive if transitive flag is on.  a patch\n\t  from akira yamada in [ruby-dev:36230].  fix #553\n\n\t* lib/rexml/element.rb (REXML::Element#write): ditto.\n\n\t* lib/rexml/formatters/transitive.rb (REXML::Formatters::Transitive#write_element): \n\t  add hack for IE.  [ruby-dev:36230]\n\nThu Dec 11 02:37:22 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (domain_check): should not raise EDOM exception for NaN\n\t  value if operand is also NaN.  affects acos, asin, acosh, atanh,\n\t  log, log2, log10, sqrt, gamma, lgamma. [ruby-dev:37357]\n\nThu Dec 11 01:21:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (rb_mutex_unlock): shut up warning.  a patch from\n\t  Kazuhiro NISHIYAMA in [ruby-dev:37345]. fix #846\n\nWed Dec 10 23:58:56 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: avoided warnings on cpp. [ruby-dev:37344]\n\n\t* rational.c: ditto.\n\nWed Dec 10 12:46:52 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_next): Fix a typo: s/rewinded/rewound/.\n\n\t* lib/prime.rb (Prime::OldCompatibility#each): Ditto.\n\nWed Dec 10 11:25:53 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): raise RegexpError when encoding\n\t  is dummy encoding. [ruby-dev:37091]\n\nTue Dec  9 18:35:35 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans, cp850-tbl.rb, cp852-tbl.rb,\n\t  cp855-tbl.rb, koi8-r-tbl.rb, koi8-u-tbl.rb, tis-620-tbl.rb:\n\t  new single-byte transcodings (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi), small cosmetic fixes\n\nTue Dec  9 13:33:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each), gc.c (assign_heap_slot),\n\t  (gc_mark_children), parse.y (vtable_alloc, vtable_free, vtable_add),\n\t  proc.c (proc_to_s), thread.c (terminate_i, rb_thread_terminate_all),\n\t  (thread_start_func_2, blocking_region_begin, blocking_region_end),\n\t  (rb_thread_kill), thread_pthread.c (native_thread_create),\n\t  (ubf_pthread_cond_signal), vm.c (check_env, thread_free), vm_dump.c\n\t  (vm_env_dump_raw, vm_stack_dump_each, vm_thread_dump_state),\n\t  (vm_call0): use void pointer for %p.\n\n\t* cont.c (fiber_status), template/insns.inc.tmpl (ruby_vminsn_type),\n\t  vm_insnhelper.h (BOP): ISO C forbids comma at end of enumerator\n\t  list.\n\n\t* vm_insnhelper.c (check_cfunc): use function pointer.\n\nTue Dec  9 12:08:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* .gdbinit (rp): fixed typo for T_STRUCT.\n\nTue Dec  9 03:21:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: fix for continued lines.  based on a patch from\n\t  Marcus Rueckert <darix AT opensu.se> at [ruby-core:20420].\n\nFri Dec  5 22:56:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_make_exception): single argument to raise may be\n\t  string compatible object.\n\nTue Dec  9 00:54:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot (package): enc.mk in snapshot is dummy and should\n\t  not deal with objects.  [ruby-core:20422]\n\nTue Dec  9 00:17:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend (clean-srcs): split out from clean.\n\nMon Dec  8 23:34:18 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* pack.c (pack_pack): fixed odd act of 'm*', 'M*', and 'P*'.\n\t  just ignores '*' in these cases.\n\t  [ruby-dev:37289]\n\nMon Dec  8 18:31:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_pack): fixed length for odd length string.\n\t  [ruby-dev:37283]\n\nMon Dec  8 10:32:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (set_option_encoding_once): dry.\n\n\t* ruby.c (proc_options): checks extra argument for -E/--encoding.\n\nSun Dec  7 23:47:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LIBPATHFLAG): use numbered specifier if RPATHFLAG\n\t  is set.  [ruby-talk:322136]\n\nSat Dec  6 17:51:35 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* pack.c (pack_pack): 'u0' is not special differently from 'm0'.\n\nTue Dec  9 11:50:46 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* pack.c (pack_pck): fixed [ruby-dev:37295]. \n\t  Array#pack always has returned an US-ASCII string when\n\t  the given format ended with 'u', 'M' or 'm'.\n\nSat Dec  6 14:35:06 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* pack.c (pack_pack): set US-ASCII and CODERANGE_7BIT\n\t  when quoted-printable ('M') and base64 ('m').\n\t  [ruby-dev:37284]\n\n\t* pack.c (pack_unpack): ditto.\n\nThu Dec 11 11:51:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_locale_encoding): removed Encoding::LOCALE.\n\n\t* encoding.c (rb_enc_set_default_external): ditto.\n\n\t* encoding.c (rb_enc_set_default_internal): ditto.\n\nThu Dec 11 11:11:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/st.h (size_t): needs stddef.h or stdlib.h.\n\t  [ruby-core:20339]\n\nWed Dec 10 01:28:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (win32.obj): depend on headers.\n\nSat Dec  6 18:33:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot (package): added RM and CP.  [ruby-dev:37288]\n\nFri Dec  5 21:45:45 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c (nurat_{to_s,inspect}): performance improvement.\n\nFri Dec  5 21:42:44 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: inpsect should not depend on to_s.\n\nFri Dec  5 12:38:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_set_sequence): uses rb_compile_warning() for\n\t  warning at compilation time.\n\nFri Dec  5 12:35:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (ruby_iseq_compile, ruby_iseq_translate_threaded_code),\n\t  (ruby_insns_name_array, ruby_iseq_build_from_ary): prefixed with\n\t  ruby_.\n\n\t* iseq.c (ruby_iseq_load, ruby_insn_make_insn_table): ditto.\n\nFri Dec  5 10:01:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_cmp_m): fixed rdoc.  pointed out by <Thomas\n\t  C. Mitchell AT gmail.com> at [ruby-talk:321967]\n\nFri Dec  5 07:58:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_binwrite): arg.offset should be updated after retry.\n\nFri Dec  5 03:29:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_get_load_path): returns the load path without\n\t  touching.\n\n\t* load.c (rb_feature_provided): new function to return the loading\n\t  path in addition to rb_provided().\n\n\t* load.c (search_required): sets path if loading.\n\n\t* variable.c (autoload_provided): load paths are expanded to check\n\t  if loading.\n\n\t* variable.c (autoload_node): keeps autoload mark while loading.\n\t  [ruby-core:20235]\n\n\t* variable.c (rb_const_get_0): loops while autoload mark is set.\n\nFri Dec  5 01:19:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): propagate taint status from format string to\n\t  result string.\n\nThu Dec  4 23:02:13 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/default.mspec: follows changes in rubyspec project.\n\t  inherits configurations from ruby.1.9.mspec.\n\nThu Dec  4 22:13:55 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* test/ruby/test_complex.rb: added some tests.\n\n\t* test/ruby/test_rational.rb: ditto.\n\nFri Dec  5 18:13:56 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_read, rb_w32_write, rb_w32_isatty): check\n\t  whether fd is valid.\n\nThu Dec  4 23:31:12 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (waitpid): fix bug of checking child slot.\n\n\t* win32/win32.c (FindChildSlotByHandle): new.\n\nThu Dec  4 16:58:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rubygems/validator.rb (Gem#remove_leading_dot_dir): make\n\t  this method private.  a patch from okkez in [ruby-dev:37245]\n\nThu Dec  4 16:16:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/gserver.rb: fixed type in sample code.  a report from Oleg\n\t  Puchinin.\n\nThu Dec  4 14:54:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rubygems/local_remote_options.rb (Gem#add_update_sources_option): \n\t  little documentation fix.  a patch from okkez.  [ruby-dev:37271]\n\nThu Dec  4 13:56:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/curses/curses.c (window_getch): avoid ISPRINT() macro which\n\t  has an issue with OpenSolaris.  [ruby-core:20189]\n\n\t* ext/curses/curses.c (curses_getch): no ISPRINT(). [ruby-core:20294]\n\n\t* signal.c (ruby_signal): EINVAL from sigaction(2) is not a bug.\n\nThu Dec  4 11:38:40 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* vm_method.c (rb_obj_respond_to): Remove a duplicated rdoc\n\t  comment and fix a markup error.\n\nThu Dec  4 06:04:16 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/menu.rb: TkOptionMenubutton.new fails to treat \n\t  'parent' and 'variable' options on a Hash argument.\n\nThu Dec  4 05:06:47 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: bug fix. use ::RubyVM instead of ::VM \n\t  [ruby-list:45676]\n\n\t* ext/tk/tcltklib.c: update RELEASE_DATE\n\nThu Dec  4 01:37:47 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nurat_{to_s,inspect}): provides better representation\n\t  for in-finite imag part.\n\nThu Dec  4 01:22:41 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (f_signbit): NaN may be signed value.\n\nWed Dec  3 22:54:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (expr): keyword_not can continue across newline.\n\t  [ruby-core:20252]\n\nWed Dec  3 14:48:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/tcltklib.c (ip_ruby_cmd, ip_invoke_with_position): must\n\t  not access internal union directly.  [ruby-list:45670]\n\nWed Dec  3 12:24:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getc, rb_io_readchar): documentation correction from\n\t  Emiel van de Laar.  [ruby-core:20212]\n\n\t* ext/stringio/stringio.c (strio_readchar): ditto.\n\nWed Dec  3 09:26:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/xpath.rb (REXML::XPath.first): apply documentation\n\t  patch from Ken Bloom in [ruby-core:20213].\n\n\t* lib/rexml/xpath.rb (REXML::XPath.each): ditto.\n\nWed Dec  3 02:53:24 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_range.rb: add a test.\n\nWed Dec  3 02:26:07 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_string.rb: add some tests.\n\nMon Dec  1 12:00:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cont.c (rb_fiber_start): calls with exact argument number.\n\t  [ruby-core:20088]\n\nMon Dec  1 16:06:15 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* signal.c (register_sigaltstack): no need to define on non-sigaltstack\n\t  platform.\n\nSun Nov 30 21:41:10 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/rake.1: new manual page\n\nSat Nov 29 23:56:44 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/irb.1 (EXAMPLES): new section\n\nSat Nov 29 19:19:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regparse.c (is_invalid_quantifier_target): Perl and old Ruby\n\t  accepts quantifier on anchors.  [ruby-core:20161]\n\nSat Nov 29 00:18:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* cont.c (fiber_alloc): separate allocation and initialization.\n\t  allow subclass to override #initialize.   [ruby-core:20086]\n\nFri Nov 28 18:31:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getaddrinfo): refactored to remove\n\t  code duplication regarding getaddrinfo.\n\n\t* ext/socket/socket.c (sock_getaddrinfo): should have updated for\n\t  Mac OS X.  a patch from Shumpei Akai in [ruby-dev:37234]\n\nThu Nov 27 21:41:29 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* strftime.c (rb_strftime): should add padding for %%.\n\nThu Nov 27 16:32:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (register_sigaltstack): stores alt stack for debug\n\t  purpose.\n\nThu Nov 27 16:12:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (ruby_sigaction_t): added.\n\nThu Nov 27 15:59:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (ruby_stack_check): no check if using sigaltstack.\n\n\t* signal.c (ALT_STACK_SIZE): default minimum size is insufficient\n\t  for method calls.\n\n\t* signal.c (sigsegv): handles stack overflow if possible.\n\n\t* thread.c (ruby_thread_stack_overflow): helper function to raise\n\t  sysstack_error.\n\n\t* thread_pthread.c (ruby_stack_overflowed_p): checks for stack\n\t  overflow.\n\nWed Nov 26 23:15:47 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* strftime.c (STRFTIME): use rb_strftime() recursively, instead of\n\t  platform's strftime().\n\nWed Nov 26 22:46:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (VpException): bigdecimal zero\n\t  division should raise FloatDomainError if mode\n\t  VP_EXCEPTION_ZERODIVIDE is set.  [ruby-dev:37204]\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_mode): should handle\n\t  VP_EXCEPTION_ZERODIVIDE.\n\nWed Nov 26 15:16:07 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* ext/gdbm/gdbm.c (rb_gdbm_nextkey): fix memory leak.\n\nWed Nov 26 03:17:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_to_r): raise exception\n\t  for nan/inf conversion.  [ruby-dev:37187] fix #793\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_to_i): ditto.\n\nWed Nov 26 03:00:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (VpAlloc): avoid ALLOCA_N() to avoid\n\t  segmentation fault caused by (insanely) long decimal values.\n\t  [ruby-dev:37189] fix #794\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_dump, BigDecimal_to_i,\n\t  BigDecimal_to_f, BigDecimal_to_s, BigDecimal_split,\n\t  BigDecimal_inspect): ditto.\n\n\t* ext/bigdecimal/bigdecimal.c (VpToString): small performance\n\t  improvement.\n\nWed Nov 26 00:26:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* strftime.c (STRFTIME): should add padding for %[xXrR] etc.\n\t  [ruby-dev:37185] fix: #792\n\nTue Nov 25 16:26:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_times): taint (and untrust) status should be\n\t  inherited by \"ary * 0\".  [ruby-dev:37024]\n\nTue Nov 25 15:54:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): should not swallow incomplete\n\t  formatter, e.g. \"%E\".  [ruby-dev:37170] fix: #787\n\n\t* strftime.c (rb_strftime): clear flags before processing unknown\n\t  formatter, e.g. \"%i\".  [ruby-dev:37180]\n\nTue Nov 25 10:35:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): \"%^P\" should convert to upper case.\n\t  [ruby-dev:37180]\n\nTue Nov 25 07:51:18 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* strftime.c (FMT): use \"%0d\" formatter for zero padding, not \"%.d\".\n\t  [ruby-dev:37168]  fix: #768\n\n\t* strftime.c (rb_strftime): %s to use zero padding by default.\n\t  [ruby-dev:37180]\n\nTue Nov 25 03:37:42 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/blt/tabset.rb, \n\t  ext/tk/lib/tkextlib/blt/tabnotebook.rb: \n\t  fix many bugs. Now, those work properly.\n\nTue Nov 25 03:26:04 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (num_step): treat infinite step specially.\n\t  [ruby-dev:37157] fix: #781.\n\nTue Nov 25 01:23:25 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (strftime): ignores '_' flag for %[LN].\n\nSat Nov 29 00:27:33 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* thread.c, thread_pthread.c, thread_win32.c: merges nobu's commits - \n\t  r20117, r20123, r20124, r20127, r20132-r20134, r20138, r20140, r20141 \n\t  and r20160 - from trunk into ruby_1_9_1.\n\n\t* thread_pthread.c (thread_timer): checks working flags again.\n\n\t* thread_pthread.c (rb_thread_create_timer_thread): do not wait never\n\t  coming signal if failed to create tiemr thread.\n\n\t* thread_pthread.c (native_cond_timedwait): returns error code.\n\n\t* thread_pthread.c (thread_timer, rb_thread_create_timer_thread):\n\t  handshakes properly.\n\n\t* thread_pthread.c (thread_timer): initializes mutex each time.\n\n\t* thread_win32.c (thread_start_func_1): use already gotten stack info.\n\n\t* thread.c (thread_timer): pthread_cond_timedwait returns ETIMEDOUT\n\t  when timed out.\n\n\t* thread_pthread.c (thread_timer): uses pthread_cond_timedwait always\n\t  instead of pthread_kill.\n\n\t* thread.c (thread_timer): uses timedwait on cygwin.\n\n\t* thread.c (rb_thread_stop_timer_thread): terminates timer thread\n\t  immediately.\n\nTue Nov 25 00:08:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_fork): stops the timer thread during fork.\n\t  [ruby-dev:37117]\n\n\t* thread.c (rb_thread_start_timer_thread): timer thread needs\n\t  system_working to be set.\n\nMon Nov 24 23:27:28 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): The # flag should work with %a, %A, %b,\n\t  %B, and %h.  [ruby-dev:37162]\n\n\t* test/ruby/test_time.rb (test_strftime): ditto.\n\nMon Nov 24 23:16:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (register_sigaltstack): should not add external\n\t  variable (with some cosmetic changes).  [ruby-dev:37158]\n\nMon Nov 24 22:57:25 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): A width specifier for %t and %n should\n\t  work.  [ruby-dev:37160]\n\nMon Nov 24 22:07:07 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): The precision of %0N should be 9.\n\t  [ruby-dev:37156]\n\n\t* test/ruby/test_time.rb (test_strftime): ditto.\n\nMon Nov 24 21:38:23 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): The default precision should be 1, not\n\t  0.  [ruby-dev:37155]\n\n\t* test/ruby/test_time.rb (test_strftime): ditto.\n\nMon Nov 24 18:35:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/time.rb: r20251 reverted.  The patched behavior do not round\n\t  trip.  [ruby-core:19988]\n\nSun Nov 23 16:04:05 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* signal.c (default_handler, Init_signal): compile error if\n\t  USE_SIGALTSTACK is not defined.\n\nSun Nov 23 13:39:49 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ext/pty/pty.c: reverts 20326. [ruby-dev:37146].\n\nSat Nov 22 23:59:06 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/time.rb: reverts r20305. [ruby-dev:37144].\n\nSat Nov 22 18:24:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_world_writable_p): should return nil for non\n\t  world-writable files.\n\nSat Nov 22 10:31:25 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/blt.rb, ext/tk/lib/tkextlib/blt/vector.rb: \n\t  fix NameError bug.\n\nSat Nov 22 03:41:22 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/pty/pty.c (get_device_once): abandon asynchronous exception\n\t  that might cause serious problem if a program terminated early.\n\t  asynchronous exception is a very bad thing anyway.  use\n\t  Process.waitpid(pid) or PTY.check(pid) to poll program\n\t  termination. if PTY.check is called with optional second\n\t  argument being true, it raises an exception same as one from\n\t  previous behavior.  [incompatible] fix: [ruby-core:19583]\n\nFri Nov 21 22:17:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (usage): -W description updated.  [ruby-core:19858]\n\nSat Nov 22 23:03:47 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* signal.c (ALT_STACK_SIZE): 4KB is not enough on Mac OS X.\n\t  Uses SIGSTKSZ.\n\nFri Nov 21 21:50:54 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (register_sigaltstack): use alternative stack for\n\t  SIGSEGV to avoid uncaught stack overflow. based on a patch from\n\t  Hiro Yoshioka <hyoshiok at miraclelinux.com> in [ruby-dev:37134].\n\t  [ruby-dev:36993]\n\nFri Nov 21 16:06:54 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm.c (thread_free): th->vm may be NULL when pthread_create\n\t  failed for ENOMEM.  [ruby-dev:37095]\n\nThu Nov 20 07:33:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/logger.rb (Logger): should handle the case that cvs/svn do\n\t  not expand $Id keyword.  [ruby-core:19991]\n\nThu Nov 20 07:27:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/minitest/unit.rb (MiniTest::Assertions#capture_io): adjust\n\t  indentation to shut up warning.  [ruby-core:19993]\n\nWed Nov 19 17:48:05 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (rb_syck_mktime): return DateTime for a value\n\t  out of range of Time.   [ruby-core:19919]\n\nSat Nov 22 21:29:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_method.rb (test_default_accessiblity): test case for\n\t  [ruby-dev:37124].\n\nWed Nov 19 14:14:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* node.h (NOEX_MODFUNC): should be include NOEX_PRIVATE. \n\t  [ruby-dev:37124]\n\nWed Nov 19 03:01:04 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb: fixed fails occasionally [ruby-dev:37119].\n\t  thanks, shinichiro.h.\n\nWed Nov 19 02:39:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (Init_syserr): moved function definition itself from\n\t  template/known_errors.inc.tmpl.\n\nWed Nov 19 01:10:52 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRbConn::alive?): fixed NoMethodError problem\n\t  from NaHi [ruby-dev:37110].\n\nWed Nov 19 01:05:26 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* cont.c (cont_mark, cont_capture, cont_restore_1): speed up\n\t  continuation by copying only valid YARV stack.  [ruby-dev:37106]\n\nWed Nov 19 00:03:13 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/time.rb: according to RFC2822, -0000 means local time, +0000\n\t  means UTC.  a patch from Chun Wang.   [ruby-core:19578]\n\nTue Nov 18 23:02:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (proc_eq): equivalence check should not done by pointer\n\t  comparison, but should be based on iseq contents.   [ruby-dev:37101]\n\nTue Nov 18 20:30:08 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/ftp.rb (Net::FTP#open_socket): SOCKSsocket is obsolete.\n\t  a patch from Alan Johnson <alan.wayne.johnson at gmail.com> in\n\t  [ruby-core:19982].\n\nTue Nov 18 16:18:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/logger.rb (ProgName): fixed for svn, based on a patch from\n\t  Nobuhiro IMAI at [ruby-dev:37108].\n\nTue Nov 18 15:56:55 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPRequest#read_request_line): \n\t  use possessive match for path retrieval to avoid huge recursion\n\t  for insanely long path.\n\nTue Nov 18 15:50:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_desc): re might be NULL.\n\n\t* regerror.c (onig_error_code_to_format): message updated.\n\nTue Nov 18 09:42:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::make_switch): makes default\n\t  conversion to splat.  [ruby-list:45645]\n\nMon Nov 17 18:05:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend (LIBS): fixed for disable-shared.  [ruby-dev:37103]\n\nMon Nov 17 11:12:24 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* bin/erb: remove -K option.\n\nMon Nov 17 02:19:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LIBRUBYARG_STATIC): fixed for --enable-rpath.\n\nSat Nov 15 22:46:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_regsub): returns -1 unless ascii as well as\n\t  rb_enc_ascget().  [ruby-dev:37097]\n\nSat Nov 15 22:23:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LDSHARED): do not suppress debug info if higher debug\n\t  level is given, on cygwin and mingw.\n\nThu Nov 13 11:31:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_barrier_wait): gets rid of recursive deadlock.\n\nThu Nov 13 06:08:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_barrier_{new,wait,release,destroy}): use Mutex so that\n\t  circular requires fail with deadlock.  [ruby-core:19821]\n\nWed Nov 12 07:16:01 2008  David Flanagan  <david@think32>\n\n\t* ruby.c (set_internal_encoding_once): fix typo in error string\n\nWed Nov 12 03:30:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_{external,locale}_str_new_cstr): optimized\n\t  versions for literal strings.\n\nWed Nov 12 03:28:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_require_safe): destroys barrier after successfully\n\t  loaded, to get rid of loading same library again.  [ruby-core:19798]\n\n\t* thread.c (rb_barrier_wait): can not wait destroyed barrier.\n\n\t* thread.c (rb_barrier_destroy): destroys barrier so that no longer\n\t  waited.\n\nTue Nov 11 21:22:28 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic#check_path): REL_PATH should a\n\t  symbol.  [ruby-core:19805]\n\nTue Nov 11 23:02:27 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/ruby.1 (RUBYOPT): wrote which option can appear.\n\t  (--yydebug): wrote \"do not use\".\n\t  (--dump): wrote \"do not use\".\n\nTue Nov 11 20:49:29 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* configure.in: fix SEGV on Mac OS X 10.5.3 with pthread.\n\t  a patch from Wataru Kimura in Bug #193 [ruby-core:17333].\n\nTue Nov 11 23:24:23 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ruby.c: merges r20053 and r20067 from trunk into ruby_1_9_1.\n\n\t* ruby.c (moreswitches): splits option string and passes arguments.\n\n\t* ruby.c (proc_options): checks if allowed in RUBYOPT.\n\n\t* ruby.c (process_options): allows long style options in RUBYOPT.\n\n\t* ruby.c (load_file_internal): ditto in shebang.  [ruby-dev:36979]\n\n\t* ruby.c (process_options): delays setting safe level.\n\t  [ruby-dev:36997]\n\nTue Nov 11 23:36:45 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_accept): commit miss.\n\nTue Nov 11 23:02:27 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/ruby.1 (RUBYOPT): wrote which option can appear.\n\t  (--yydebug): wrote \"do not use\".\n\t  (--dump): wrote \"do not use\".\n\nTue Nov 11 14:40:40 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: unnecessary setup method\n\t  (setup_really_needed?) removed\n\nTue Nov 11 14:25:25 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans, macgreek-tbl.rb, macroman-tbl.rb,\n\t  macromania-tbl.rb, macturkish-tbl.rb, macukraine-tbl.rb,\n\t  ibm437-tbl.rb, ibm852-tbl.rb, ibm855-tbl.rb, ibm857-tbl.rb,\n\t  ibm860-tbl.rb, ibm861-tbl.rb, ibm862-tbl.rb, ibm863-tbl.rb,\n\t  ibm865-tbl.rb, ibm866-tbl.rb, ibm869-tbl.rb, ibm775-tbl.rb:\n\t  new single-byte transcodings (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi)\n\nTue Nov 11 13:20:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_to_r): moved from\n\t  bigdecimal/util, converted into C.  [ruby-dev:36805]\n\nTue Nov 11 07:55:57 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (inspect): changed the format.\n\nMon Nov 10 17:34:50 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/sdbm/test_sdbm.rb (TestSDBM#test_index): Reflect the method\n\t  name change from #index to #key and remove a duplicated test\n\t  method.\n\nMon Nov 10 10:50:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator.delegating_block): should not refer\n\t  DelegateClass specific @delegate_dc_obj.  a patch from Erik\n\t  Hollensbe in [ruby-core:19671].\n\nSun Nov  9 13:04:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_initialize_m): avoid unnecessary array\n\t  allocation.\n\nSun Nov  9 04:10:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_dump.c (control_frame_dump): suppresses finished method name.\n\nSun Nov  9 00:02:01 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/session/pstore.rb: fix indentation.\n\nSat Nov  8 23:47:45 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/session.rb (FileStore): use marshalized data.\n\n\t* test/cgi/session_dir: add a session directory in test.\n\n\t* test/cgi/test_cgi_session.rb: add a test. \n\nSat Nov  8 21:57:03 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/session.rb: remove debug code. \n\nSat Nov  8 21:33:53 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/session.rb: fix indentation. \n\nSat Nov  8 18:11:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#do_CONNECT):\n\t  use #bytesize instead of #size.  a patch submitted from\n\t  raspberry lemon in  [ruby-core:18571].\n\n\t* lib/webrick/httpauth/digestauth.rb, lib/webrick/httpproxy.rb,\n\t  lib/webrick/httprequest.rb, lib/webrick/httpservlet/cgi_runner.rb,\n\t  lib/webrick/httpservlet/abstract.rb, lib/webrick/httpresponse.rb,\n\t  lib/webrick/httpservlet/cgihandler.rb, lib/webrick/utils.rb: ditto.\n\nSat Nov  8 17:31:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_ungetc): ungetc position should\n\t  not be changed from 1.8.   [ruby-core:19632]\n\nSat Nov  8 17:15:08 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#make_switch): 1.9 Symbols respond\n\t  to :match.  a patch from keith cascio, <keith at ucla.edu>.\n\t  [ruby-core:19730]\n\nSat Nov  8 12:10:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/gdbm/gdbm.c (fgdbm_index): make #index warn like Hash.\n\t  [ruby-dev:37039]\n\n\t* ext/sdbm/init.c (Init_sdbm): typo fixed.  [ruby-dev:37039]\n\nSat Nov  8 07:07:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: detect stdio buffer pointers for uClibc.  a patch\n\t  from Brian Candler <B.Candler at pobox.com> in [ruby-core:12020].\n\t  [ruby-core:19713]\n\nSat Nov  8 06:51:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dbm/dbm.c (fdbm_index): make #index warn like Hash.\n\n\t* ext/dbm/dbm.c (fdbm_key): new method.\n\n\t* ext/sdbm/init.c: ditto.\n\nSat Nov  8 06:20:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/curses/curses.c: curses encoding should obey locale.\n\n\t* ext/curses/curses.c (curses_getch): 1.9 getch should return one\n\t  character string for single byte string.  wchar_t support may\n\t  follow in the future.\n\nSat Nov  8 05:46:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/io.h (rb_io_t): added write_lock to serialize.\n\t  [ruby-core:19668]\n\n\t* gc.c (gc_mark_children): mark write_lock.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): Mutex also needs to be\n\t  deferred.\n\n\t* io.c (io_fflush, io_binwrite, fptr_finalize): serializes writing.\n\nTue Nov 11 17:37:47 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_accept): secure fd before accept because if\n\t  error causes in securing, cannot restore the state of accepted\n\t  socket.\n\t  fixed [ruby-core:19728]\n\nSat Nov  8 05:31:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* safe.c (safe_setter): add warning for $SAFE=3.\n\nFri Nov  7 22:51:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* inits.c (rb_call_inits): do not repeat.\n\nFri Nov  7 12:26:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb.rb (IRB::Irb#eval_input): remove extra  @context.prompt_i.\n\t  [ruby-core:19718]\n\nFri Nov  7 11:55:30 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* nkf.c: update to r1.188. fixes for 16bit environment.\n\nFri Nov  7 07:32:55 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: support Rational and Complex as 1.8\n\t  does.  a patch from Hiroshi Moriyama in [ruby-dev:36899].\n\nFri Nov  7 06:58:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (Init_String): remove Symbol#===.  [ruby-dev:37026]\n\nFri Nov  7 02:00:12 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/rexml/entity.rb (unnormalized): do not call\n\t  document.record_entity_expansion if document is nil.\n\t  see <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=502535>.\n\t  Thanks, Naohisa Goto.\n\n\t* test/rexml/test_document.rb: ditto.\n\nFri Nov  7 01:24:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: binary encoding spec is no longer needed in 1.9.\n\nMon Nov 10 09:56:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (ifs_open_socket): should retry without proto_buffer\n\t  if cannot find the suitable protocol. a patch from Heesob Park.\n\t  fixed [ruby-core:19713]\n\nThu Nov  6 22:05:36 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fole_s_connect, fole_initialize,\n\t  folevariant_initialize): check argument type of WIN32OLE.connect,\n\t  WIN32OLE.new, WIN32OLE_VARIANT.new.\n\n\t* test/win32ole/test_win32ole.rb (test_s_new_exc, test_s_connect_exc):\n\t  ditto.\n\n\t* test/win32ole/test_win32ole_variant.rb (test_s_new_exc): ditto.\n\n\t* test/win32ole/test_win32ole_method.rb: add assertion of\n\t  WIN32OLE_METHOD.new.\n\nTue Nov  4 08:00:00 2008  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* test/zlib/test_zlib.rb(test_readchar): compare in same type.\n\nTue Nov  4 03:28:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_join): do not repeat self in a recursive array.\n\t  [ruby-dev:37019]\n\nTue Nov  4 01:56:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_mutex_synchronize): fixed prototype.\n\n\t* thread.c (rb_mutex_synchronize): fixed function name.\n\nMon Nov  3 16:32:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing.h: needs RUBY_EXTERN instead of extern for mswin.\n\nSat Nov  1 07:09:40 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb:  Don't require rubygems/defaults.rb.\n\nMon Nov  3 13:01:13 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* array.c (rb_ary_take_first_or_last): renamed rb_ary_partial more\n\t  appropriately.\n\t  (ary_take_pos_flags): new enum. makes the fourth argument of\n\t  rb_ary_take_first_or_last more descriptive.\n\t  (rb_ary_partial): renamed rb_ary_partial0 more appropriately.\n\t  takes a new parameter klass for what class to instanciate.\n\nMon Nov  3 13:00:26 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* range.c (rb_range_beg_len): rb_raise takes C values as arguments.\n\t  [BUG] ranges turned into other value in a message of RangeError.\n\nMon Nov  3 06:41:19 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_event_free): invoke IConnectionPoint::Unadvise\n\t  before invoking IConnectionPoint::Release.\n\n\t* test/win32ole/test_win32ole_event.rb, test/win32ole/err_in_callback.rb,\n\t  test/win32ole/test_err_in_callback.rb, \n\t  test/win32ole/test_win32ole_variant_outarg.rb,\n\t  test/win32ole/orig_data.csv: Use ActiveX Data Object\n\t  Library instead of InternetExplorer.\n\t  remove test/win32ole/test_win32ole_variant_with_ie.rb.\n\nSun Nov  2 16:41:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (Init_zlib): defines readbyte instead redefining\n\t  readchar.\n\nFri Oct 31 21:58:50 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/converter.rb (RSS::Converter): use String#encode.\n\nFri Oct 31 18:05:05 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans, maccroatioan-tbl.rb,\n\t  maccyrillic-tbl.rb, maciceland-tbl.rb: new single-byte\n\t  transcodings (from Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added tests for the above\n\t  (from Yoshihiro Kambayashi)\n\nFri Oct 31 12:51:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_globs): need taint check.  reported by steve\n\t  <oksteev at gmail.com>\n\nFri Oct 31 12:42:45 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* array.c (rb_ary_decrement_share): fix to work recycling\n\t  shared-array without the following.  [ruby-dev:36991]\n\n\t* array.c (ary_make_substitution): don't recycle substitution array.\n\nFri Oct 31 11:35:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_set_default_internal): no alias \"internal\" if\n\t  defalt internal is not set.  [ruby-dev:37000]\n\nFri Oct 31 21:28:14 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/webrick/httpauth/digestauth.rb\n\t  (WEBrick::HTTPAuth::DigestAuth#initialize): fix typo.\n\nFri Oct 31 18:51:42 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_array.rb (test_array_subclass): test for r20076.\n\nFri Oct 31 18:42:19 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* array.c (ary_partial0): recovers the mistakenly change feature at r19723.\n\t  Array#[m,n] had returned an Array even for an instance of a\n\t  subclass.\n\nFri Oct 31 12:27:52 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/default.mspec: supports that the build directory != srcdir.\n\nThu Oct 30 23:32:17 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/test_delegate.rb (test_syscallerror_eq): ignored because the\n\t  behaviour is now unspecified.\n\nThu Oct 30 21:32:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_permutation): hide temporal array.\n\nThu Oct 30 14:45:45 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans: refactoring to make it easier\n\t  to add more transcodings (with Yoshihiro Kambayashi)\n\n\t* enc/trans/iso-8859-1-tbl.rb: new file to avoid having to\n\t  treat ISO-8859-1 as special\n\nThu Oct 30 14:10:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): templates a, A, Z should propagate encoding\n\t  of original strings.  templates b, B, h, H brings ASCII-8BIT to\n\t  the result.\n\nThu Oct 30 09:31:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_locale_encoding): makes an alias for locale.\n\t  [ruby-dev:36976]\n\n\t* encoding.c (rb_enc_set_default_external): ditto for external.\n\n\t* encoding.c (rb_enc_set_default_internal): ditto for internal.\n\nThu Oct 30 03:30:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (load_file_internal): should not set script encoding to\n\t  ASCII-8BIT.\n\n\t* ruby.c (load_file_internal): do not auto convert scripts even\n\t  when default_internal is set.  [ruby-core:19579]\n\nThu Oct 30 02:20:33 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_sort_bang): remove SEGV when replacing array with\n\t  embedded one during sort.  [ruby-dev:36983]\n\n\t* test/ruby/test_array.rb (test_sort!): add tests for above.\n\nThu Oct 30 01:44:23 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb: add some tests.\n\nThu Oct 30 01:32:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_splice): remove redundant check.\n\nThu Oct 30 01:24:55 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (rb_str_cmp): fix condition which always returned true\n\t  because ENCODING_GET returns unsigned long.\n\nThu Oct 30 01:10:32 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb (test_permutation): add a test that replaces\n\t  array during permutation.\n\nWed Oct 29 23:31:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_check_dummy_enc): new function to check dummy\n\t  encoding.\n\n\t* string.c (rb_str_upcase_bang): case conversion functions should\n\t  not be applicable to strings in dummy encoding.  [ruby-dev:36985]\n\nWed Oct 29 23:57:29 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_sort_bang): replacing array during sort broke\n\tinvariant of array.  [ruby-dev:36983]\n\nWed Oct 29 21:06:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_rewind): should reset fptr->readconv if it's\n\t  available.\n\n\t* io.c (more_char): clear readconv at EOF.\n\n\t* test/ruby/test_file.rb: should not read after EOF.  use rewind\n\t  instead.\n\nWed Oct 29 20:45:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/webrick/utils.rb (start_server): provide a reference to log of\n\t  webrick.\n\n\t* test/webrick/test_httpproxy.rb, test/webrick/test_httpauth.rb,\n\t  test/webrick/test_cgi.rb, test/webrick/test_httpserver.rb,\n\t  test/webrick/test_server.rb, test/webrick/test_filehandler.rb: use\n\t  webrick log as an assertion message.\n\nWed Oct 29 16:41:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_pack): set encoding from packing string and UTF-8 for\n\t  \"U\".  [ruby-core:19590]\n\nWed Oct 29 15:50:00 2008  TAKANO Mitsuhiro (takano32)  <tak@no32.tk>\n\n\t* complex.c (imp1, imp2): should declare type.\n\t  [BUG] at IA-64\n\nWed Oct 29 14:36:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (revision.h): have to be updated daily or by non-trivial\n\t  commits.\n\nWed Oct 29 13:18:02 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* README, README.ja: Update the portability section.\n\nWed Oct 29 13:02:17 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* configure.in (rb_cv_lib_xpg4_needed): Drop legacy FreeBSD\n\t  support regarding libxpg4.  Those old versions of FreeBSD\n\t  shipped with the library don't have a working pthread library\n\t  anyway.\n\nWed Oct 29 11:50:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (dln-a-out): cannot make shared library nor work with\n\t  ELF.  [ruby-core:19571]\n\nWed Oct 29 11:01:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_open): shouldn't seek here.\n\n\t* win32/win32.c (rb_w32_write): write to the end of the file when\n\t  FAPPEND is specified.\n\nWed Oct 29 09:30:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file_internal): cache common interned IDs.\n\nWed Oct 29 00:43:39 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: uses macro in declarations.\n\nWed Oct 29 00:29:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_open): need to seek to the end of the file when\n\t  O_APPEND is specified.\n\nWed Oct 29 00:08:05 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* math.c (rb_math_{atan2,cos,cosh,hypot,log,sin,sinh,sqrt}): added.\n\n\t* complex.c: follows the above change.\n\nTue Oct 28 23:29:06 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (kanji_convert): output unicode chars.\n\t  [ruby-dev:36957]\n\n\t* ext/nkf/nkf-utf8/nkf.c (numchar_getc): increase buffer size.\n\t  reported and patched at [ruby-dev:36957] by mame.\n\nTue Oct 28 23:03:46 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/test_proc.rb: filled all patterns for testing\n\t  vm_yield_setup_args.\n\nTue Oct 28 23:05:35 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: continues to support canonicalization *unofficially*\n\t  for an odd library mathn for the time being (only 1.9.x).\n\t  since grand mathn must be very very special library for us.\n\n\t* rational.c: ditto.\n\n\t* ext/mathn/*/*: follow the above changes.\n\nTue Oct 28 21:31:55 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* parse.y (parser_yylex): check EOF explicitly.\n\nTue Oct 28 21:11:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (extract_binmode): new function to extract binmode/textmode\n\t  options from hash.\n\n\t* io.c (rb_io_extract_modeenc): use above function.\n\n\t* io.c (rb_io_s_pipe): recognize binmode/textmode options.\n\n\t* io.c (make_readconv): now can specify the size of cbuf.\n\n\t* io.c (read_all, appendline, io_getc, rb_io_ungetc): follow above\n\t  change.\n\n\t* win32/win32.c (rb_w32_pipe_exec): internal fds should be always\n\t  binmode.\n\nTue Oct 28 17:22:35 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/make-snapshot.rb: merged back from trunk.\n\nTue Oct 28 16:43:05 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/make-snapshot.rb: had returned wrong sizes for generated\n\t  archives.\n\nTue Oct 28 12:42:28 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* tool/make-snapshot.rb (package): did not accept tagnames with the\n\t  prefix \"previewN\"\n\nTue Oct 28 12:06:07 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/rubygems/test_gem.rb (@default_dir_re): considers \n\t  --program-suffix and prefix configure options.\n\nTue Oct 28 11:06:48 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* version.h: set 1.9.1 into Ruby's version number.\n\nTue Oct 28 10:42:50 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* gem_prelude.rb: considers --program-suffix and prefix configure\n\t  options.\n\n\t* lib/rubygems/defaults.rb: ditto.\n\nTue Oct 28 09:51:48 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bootstraptest/test_thread.rb: ignore some exceptions.\n\t  [ruby-dev:36951]\n\nTue Oct 28 09:19:40 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (RUNRUBY): now ruby requires something from\n\t  gem_prelude, so need to set library path.\n\nMon Oct 27 22:29:11 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* vm_insnhelper.c (vm_yield_setup_args): supports optional parameters.\n\t  Fixed [ruby-core:19503].\n\n\t* vm_insnhelper.c (vm_yield_setup_block_args): a new function. extracted\n\t  from vm_yield_setup_args.\n\n\t* vm_insnhelper.c (vm_yield_setup_block_args_complex): ditto.\n\n\t* test/ruby/test_proc.rb: added tests for arguments on a Proc from\n\t  Kernel#proc called.\n\nMon Oct 27 20:03:05 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/mathn/complex/complex.c: no need to define rb_cComplex because\n\t  it's already defined at $(srcdir)/complex.c.\n\n\t* ext/mathn/rational/rational.c: no need to define rb_cRational because\n\t  it's already defined at $(srcdir)/rational.c.\n\nMon Oct 27 15:58:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file): preserves $..  [ruby-dev:36937]\n\n\t* io.c (argf_init): initial value of $. should be 0.\n\t  see [ruby-dev:36937].\n\nMon Oct 27 15:38:38 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/minitest/test_mini_test.rb\n\t  (test_assert_raises_triggered_different): the test failed when a\n\t  file path in the backtrace contontains something except [\\w\\/\\.],\n\t  e.g. hyphen, Japanese characters or backslash.\n\n\t* test/minitest/test_mini_test.rb\n\t  (test_assert_raises_triggered_subclass): ditto.\n\nMon Oct 27 15:32:08 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/minitest/test_mini_test.rb: fixed that r19958 made\n\t  test-all fail when the ruby was built at $(srcdir).\n\nMon Oct 27 12:04:58 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/ruby/envutil.rb: reverted the changeset 19948 because it\n\t  concealed unexpected behaviours of ruby.\n\n\t* test/ruby/test_io.rb: ditto.\n\nMon Oct 27 12:02:53 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* ext/nkf/nkf.c (rb_nkf_convert): should specify type of variable.\n\nMon Oct 27 11:34:56 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/minitest/test_mini_test.rb (test_filter_backtrace):\n\t  fixed failure on Ruby built at out of $(srcdir).\n\n\t* test/minitest/test_mini_test.rb (test_Filter_backtrace_unit_starts):\n\t  ditto.\n\nMon Oct 27 10:02:47 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (read_all): the 3rd argument maybe Qnil.\n\nMon Oct 27 01:29:55 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/nkf/test_nkf.rb: add a test for [ruby-dev:36909].\n\nMon Oct 27 01:05:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_convert): avoid GC.\n\t  reported in [ruby-dev:36909] and patched [ruby-dev:36941] by mame.\n\nSun Oct 26 21:28:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/json/test_json.rb: remove dependency on permutation gem.\n\nSun Oct 26 19:18:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (blocking_region_{begin,end}): declared as inline.\n\n\t* util.c (freedtoa): used only when MULTIPLE_THREADS is not defined.\n\n\t* win32/win32.c (rb_w32_pipe): serial is DWORD.\n\n\t* ext/etc/etc.c (sGroup): getgrent may not be available.\n\nSun Oct 26 18:11:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/io/wait/{extconf.rb,wait.c}: needs sys/ioctl.h for fcntl on\n\t  cygwin.\n\nSun Oct 26 18:18:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gem_prelude.rb: disables debug and verbose flags to suppress failure\n\t  messages.  interpolation does not occur inside single quotes.\n\nSun Oct 26 18:42:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/envutil.rb (assert_in_out_err): disables builtin rubygems\n\t  to get rid of the interference.\n\n\t* test/ruby/test_io.rb (ruby): ditto.\n\nSun Oct 26 13:30:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (read_all): use the given buffer to read when needs readconv.\n\t  based on the patch by wanabe <s.wanabe AT gmail.com> at\n\t  [ruby-dev:36931].\n\nSun Oct 26 07:57:35 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*:  Update to RubyGems 1.3.1 r1909.\n\nSun Oct 26 07:35:56 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/minitest/unit.rb: Imported minitest 1.3.0 r4429.\n\t* test/minitest/*: ditto.\n\nSun Oct 26 02:16:29 2008  Yuki Sonoda (Yugui)   <yugui@yugui.jp>\n\n\t* configure.in ($MANTYPE): followed ruby.1, which had moved.\n\n\t* instruby.rb (:man): ditto.\n\n\t* mdoc2man.rb: fixed for the case Xr with 2 arguments.\n\nSun Oct 26 01:42:45 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/irb.1: new manual page.\n\nSun Oct 26 00:11:48 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* man/ruby.1: moved into man/. added some descriptions.\n\n\t* man/goruby.1: new file.\n\n\t* instruby.rb (:man): followed ruby.1.\n\nSat Oct 25 20:05:22 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (gc_profile_result): bug fix. The millisecond is 1/1000.\n\nSat Oct 25 11:12:40 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ruby.c (usage): updated the description of -E option.\n\nSat Oct 25 09:54:10 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb:  Fixed a bug in read_to_char() that would slurp\n\t  whole files if the encoding was invalid.  It will now read\n\t  up to 10 bytes ahead to find a valid character boundary or\n\t  give up.  [ruby-core:19465]\n\n\t* test/csv/test_features.rb, test/csv/test_table.rb, test/csv/test_row.rb:\n\t  Loosened some tests to check for a compatible? Encoding instead\n\t  of an exact Encoding.  [ruby-core:19470]\n\nSat Oct 25 07:42:49 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc*: Update to RDoc 2.2.2 r192.\n\nSat Oct 25 04:00:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/us_ascii.c (us_ascii_mbc_enc_len): made static.  a patch by\n\t  Tadashi Saito <shiba AT mail2.accsnet.ne.jp> at [ruby-dev:36916]\n\n\t* signal.c (signal_buff): made static.  a patch by Tadashi Saito\n\t  <shiba AT mail2.accsnet.ne.jp> at [ruby-dev:36915]\n\n\t* util.c (freedtoa): made static to get rid of name clash.  a patch by\n\t  Tadashi Saito <shiba AT mail2.accsnet.ne.jp> at [ruby-dev:36913]\n\n\t* util.c (ruby_dtoa): added prefix, ditto.\n\nSat Oct 25 03:43:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (lambda): need to adjust lpar_beg for both of the parser and\n\t  ripper.\n\nSat Oct 25 01:29:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/mathn/rational/rational.c: undef duplicated macro definition\n\t  first to shut up the warning.\n\n\t* ext/mathn/rational/rational.c (rb_rational_new_mathn): specify\n\t  omitted return value.\n\nSat Oct 25 00:14:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sample): fixed sizes and randomness.\n\nFri Oct 24 23:04:42 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* configure.in (sitedir): considers --program-prefix and\n\t  --program-suffix.\n\t  (vendordir): ditto.\n\t  (rubyhdrdir): ditto.\n\n\t* mkconfig.rb (CONFIG[\"rubylibdir\"]): ditto.\n\n\t* win32/Makefile.sub: ditto.\n\n\t* instruby.rb (:rdoc): ditto.\n\n\t* lib/rdoc/ri/paths.rb (RDoc::RI::Paths): ditto.\n\nFri Oct 24 22:59:27 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb (test_sample): add tests for size of\n\t  returned array and randomness.\n\nFri Oct 24 21:50:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* id.h, template/id.h.tmpl (enum ruby_method_ids): reordered.\n\nFri Oct 24 21:19:45 2008  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* ext/mathn/rational.c: change several global functions.\n\nFri Oct 24 21:05:38 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/html.rb: allow symbolized key.\n\n\t* test/cgi/test_cgi_tag_helper.rb: add a test.\n\nFri Oct 24 20:54:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (exts): renamed to get rid of the existent directory.\n\nFri Oct 24 20:45:41 2008  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* ext/mathn/rational.c: change several global functions to static\n\t  function.\n\nFri Oct 24 19:57:19 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_dump): should have removed commented out\n\t  unnecessary code.  [ruby-cvs:27131]\n\nFri Oct 24 19:16:36 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* id.h (enum ruby_method_ids): ISO C forbids comma at end of\n\t  enumerator list.\n\nFri Oct 24 18:29:00 2008  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/mathn.rb: moved into ext/mathn/rational/rational.c and\n\t  ext/mathn/complex/complex.c.\n\t* ext/mathn: new mathn ext-libralies.\n\nFri Oct 24 18:21:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_array.rb (TestArray#test_join): should restore\n\t  global variable after the test.  [ruby-dev:36896]\n\n\t* test/ruby/test_hash.rb (TestHash#test_to_s): ditto.\n\nFri Oct 24 17:43:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (lambda): need to adjust lpar_beg for ripper as well.\n\t  [ruby-dev:36702]\n\nFri Oct 24 16:13:12 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (read_multipart): change field value as String\n\t  from StringIO or Tempfile when multipart parse except file field.\n\t  add files method that can get uploaded files. [ruby-dev:36547]\n\n\t* test/cgi/test_cgi_multipart.rb: fix the test for core.rb.\n\nFri Oct 24 14:22:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (ext): split out the target for extension library.\n\n\t* common.mk (encs): depends on enc and trans.\n\nFri Oct 24 10:23:24 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_signal.rb (TestSignal#test_exit_action): Thread\n\t  may terminate before sysread. [ruby-dev:36835]\n\nThu Oct 23 22:06:23 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* distruby.rb: removed. \"make dist\" uses tool/make-snapshot for the 1.9\n\t  series. distruby.rb has been no longer used.\n\nThu Oct 23 17:30:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* class.c (rb_class_instance_methods): rdoc fixed.  [ruby-core:19458]\n\nThu Oct 23 16:19:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/init.rb (IRB.load_modules): catch LoadError explicitly.\n\t  a patch from Daniel Berger <Daniel.Berger at qwest.com> in\n\t  [ruby-core:19451].  fix [ruby-core:19450]\n\nThu Oct 23 16:16:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyport): check if the port range.\n\t  [ruby-core:19460]\n\nThu Oct 23 14:08:07 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyname): unuse unnecessary\n\t  object.\n\n\t* ext/socket/socket.c (sock_s_getservbyport): the port should be\n\t  converted before the proto so that the #to_int of the former cannot\n\t  alter the latter.\n\nThu Oct 23 10:55:08 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_dump): use \\u{ff} escape for UTF-8 encoding\n\t  string.\n\nThu Oct 23 09:26:22 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyport): cast to get rid of\n\t  warning.\n\nThu Oct 23 08:06:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyport): port should be\n\t  network byte order.  a patch from Dave Thomas in [ruby-core:19454].\n\nThu Oct 23 01:26:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_conv_enc_opts): new function to convert with\n\t  specifying ecflags and ecopts.\n\n\t* ext/zlib/zlib.c (gzfile_newstr): specify ecflags and ecopts for\n\t  conversion using above function.\n\n\t* ext/zlib/zlib.c (gzfile_newstr): use own rb_econv_t for dummy\n\t  encoding to handling stateful encoding (e.g. iso-2022-jp).\n\t  [ruby-dev:36857]\n\n\t* ext/zlib/zlib.c (gzfile_getc): ditto.\n\nThu Oct 23 01:24:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_tmpsrc): get rid of side effects.\n\nThu Oct 23 00:10:01 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: separate data structure between rb_fiber_t and\n\t  rb_context_t (rb_fiber_t includes rb_context_t).\n\t  rb_fiber_t has double linked list of fibers in same threads.\n\nWed Oct 22 17:25:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (pipe_open): remove unnecessary flush before fork.\n\t  a patch from Kazuhiro NISHIYAMA <zn at mbf.nifty.com>\n\t  in [ruby-dev:36840].\n\nWed Oct 22 16:27:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_yield_setup_args): should not drop arguments\n\t  corresponding to default paramters.\n\nWed Oct 22 14:59:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_larglist): should not allow semicolon separated local\n\t  variable declarations if formal argument list is not surrounded\n\t  by parentheses, mostly because semicolon outside of parentheses\n\t  appears to terminate the expression.\n\nWed Oct 22 14:52:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_external_str_new_with_enc): no implicit strlen call.\n\t  [ruby-dev:36854]\n\n\t* string.c (rb_external_str_new_cstr): new function to create\n\t  string from external NUL terminated C string.\n\n\t* string.c (rb_locale_str_new_cstr): ditto.\n\n\t* ext/readline/readline.c: now use rb_locale_str_new_cstr().\n\n\t* test/sdbm/test_sdbm.rb (TestSDBM#test_delete_with_block):\n\t  deleted key to the block may be a copy of specified key.\n\n\t* test/dbm/test_dbm.rb (TestDBM#test_delete_with_block): ditto.\n\nWed Oct 22 13:16:47 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (unescape_escaped_nonascii): back out the last change on\n\t  the function.  [ruby-dev:36818]\n\nWed Oct 22 07:09:19 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (rb_gzreader_ungetc): should be able to unget\n\t  Fixnum.\n\n\t* ext/stringio/stringio.c (strio_ungetc): should convert unget\n\t  string.\n\n\t* ext/stringio/stringio.c (strio_ungetbyte): new method.\n\nWed Oct 22 05:46:25 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/vm.h: write a comment.\n\n\t* common.mk: remove vm.h from any rules.\n\t  vm.h is not needed on this version.\n\n\t* vm_core.h: ditto.\n\nWed Oct 22 05:39:39 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y (arg_concat_gen): concat target node should be NODE_ARRAY.\n\t  [ruby-core:19413]\n\n\t* bootstraptest/test_method.rb: add tests.\n\nWed Oct 22 00:29:13 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb (test_core_03_notify): Fixed test failures\n\t  [ruby-dev:36837].\n\nWed Oct 22 00:22:06 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_external_str_new_with_enc): wrong condition to\n\t  calculate strlen().\n\n\t* ext/readline/readline.c: add encoding support.\n\nTue Oct 21 23:12:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_write): should convert writing\n\t  string to the encoding of the buffer.\n\n\t* hash.c (rb_any_hash): typo fixed.\n\n\t* ext/zlib/zlib.c (rb_gzwriter_write): oops, IO string conversion\n\t  need to be done by to_s.\n\nTue Oct 21 22:38:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (open_key_args): should adjust argc, argv in struct\n\t  foreach_arg.\n\nTue Oct 21 21:52:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (rb_gzwriter_write): conversion should be done\n\t  using to_str, not to_s.\n\n\t* ext/zlib/zlib.c (rb_gzwriter_write): need proper conversion\n\t  according to gz encoding.\n\n\t* ext/zlib/zlib.c (rb_gzreader_ungetc): convert string encoding\n\t  before unget.\n\nTue Oct 21 21:33:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit.rb (assert_nothing_raised): raise with backtrace.\n\nTue Oct 21 20:12:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (assert_nothing_raised): set backtrace.\n\nTue Oct 21 18:17:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c: remove obsolete prototype macros.\n\n\t* ext/zlib/zlib.c (struct gzfile): add encoding field to gzfile\n\t  structure.\n\n\t* ext/zlib/zlib.c (rb_gzreader_getc): now works on characters.\n\n\t* ext/zlib/zlib.c (rb_gzreader_getbyte): new method to retrieve\n\t  single byte.\n\n\t* ext/zlib/zlib.c (rb_gzreader_readbyte): ditto.\n\n\t* ext/zlib/zlib.c (rb_gzreader_each_byte): renamed from each_char\n\n\t* ext/zlib/zlib.c (rb_gzreader_ungetc): allow unget strings.\n\n\t* ext/zlib/zlib.c (rb_gzreader_ungetbyte): renamed from ungetc.\n\nTue Oct 21 13:28:42 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* io.c, include/ruby/intern.h (rb_io_ascii8bit_binmode): externed.\n\n\t* ext/socket/socket.c (init_sock): use rb_io_ascii8bit_binmode()\n\t  instead of rb_io_binmode().\n\nTue Oct 21 13:17:39 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* mdoc2man.rb: moved into tools/.\n\n\t* instruby.rb: followed the change of mdoc2man.\n\nTue Oct 21 11:34:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (strip_glibc_option, map_charset): check if\n\t  encoding is a string.  based on the patch by Hiroshi Moriyama at\n\t  [ruby-dev:36811].\n\n\t* test/iconv/test_basic.rb (test_invalid_arguments): added tests.\n\nTue Oct 21 10:40:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_file_open_internal): should initialize fmode before using.\n\nTue Oct 21 08:56:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regparse.c (parse_char_class): CCV_SB is only for single\n\t  byte.  [ruby-dev:36786]\n\nTue Oct 21 01:49:55 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_extract_modeenc): plain rb/wb should set ASCII-8BIT\n\t  to the external_encoding.\n\n\t* io.c (rb_file_open_internal): ditto.\n\n\t* io.c (NEED_WRITECONV): no conversion when the external_encoding\n\t  is ASCII-8BIT.\n\n\t* io.c (do_writeconv): skip ASCII-8BIT.\n\nTue Oct 21 00:51:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_ascii8bit_binmode): renamed from rb_io_binmode.\n\t  (rb_io_binmode): don't change encoding conversion.\n\t  (rb_io_binmode_m): call rb_io_ascii8bit_binmode.\n\nMon Oct 20 21:19:00 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (read_multipart): file's encoding is ascii-8bit\n\t  from file field of multipart form.\n\nMon Oct 20 20:16:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (Init_zlib): add getbyte as an alias to getc.\n\t  [ruby-dev:36801]\n\nMon Oct 20 17:31:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (exc_equal): should not compare recursively.\n\t  [ruby-dev:36796]\n\nMon Oct 20 16:48:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/ruby.h (ExportStringValue): new macro to convert\n\t  string in internal encoding to external to export.\n\n\t* string.c (rb_str_export): new function to do conversion to\n\t  external encoding.\n\n\t* ext/sdbm/init.c: encoding conversion support.\n\n\t* ext/dbm/dbm.c: ditto.\n\nMon Oct 20 15:42:02 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_locale_str_new): new function to convert string\n\t  from locale to internal encoding.\n\nMon Oct 20 09:47:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/runner.rb: search srcdir/test/arg at first to find test/ruby\n\t  directory when \"ruby\" is specified.\n\nMon Oct 20 08:20:01 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: support Encoding.default_internal.\n\n\t* ext/tk/tcltklib.c: ditto.\n\n\t* ext/tk/extconf.rb: improve the strategy for searching Tcl/Tk headers.\n\nMon Oct 20 00:57:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (Test::Unit.setup_argv): call given block for\n\t  filtering files.\n\n\t* test/runner.rb: search srcdir/test/arg, srcdir/arg.\n\n\t* bin/testrb: show usage if no files given.\n\nSun Oct 19 21:19:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (srcs): removed ID_H_TARGET.\n\n\t* tool/generic_erb.rb: always overwrites if no if-change option.\n\t  sends the result to stdout if no output option.\n\n\t* template/id.h.tmpl: shows which token differs.\n\nSun Oct 19 18:15:15 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans: adding WINDOWS-wwww encodings\n\t  (wwww = 874/1250/1251/1253/1254/1255/1256/1257)\n\t  (contributed by Yoshihiro Kambayashi)\n\n\t* enc/trans/windows-wwww-tbl.rb: 8 new files\n\t  (contributed by Yoshihiro Kambayashi)\n\n\t* test/ruby/test_transcode.rb: added test_windows_wwww\n\t  (contributed by Yoshihiro Kambayashi)\n\nSun Oct 19 07:37:13 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/cmath.rb (log2,cbrt,frexp,ldexp,hypot,erf,erfc,gamma,lgamma):\n\t  should be also provided as module function.  [ruby-dev:36787]\n\nSun Oct 19 07:25:08 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* keywords, lex.c.src, opt_insn_unif.def, opt_operand.def: moved rarely changed\n\t  input files for code generators into defs/ directory.\n\n\t* Makefile.in (lex.c): followed keywords and lex.c.src.\n\n\t* common.mk (parser.o): followed keywords.\n\t  (INSNS): followed opt_*.def\n\n\t* tools/instruction.rb: followed opt_*.def.\n\nSun Oct 19 12:28:01 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* test/csv/*:  Renamed tc_* files to test_* to fit in within Ruby's\n\t  testing process.\n\nSun Oct 19 00:15:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (assert_nothing_thrown): don't intern.\n\nSat Oct 18 14:40:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (num_sadded): remove newly defined singleton method\n\t  that should not exist after exception handling.  [ruby-dev:36569]\n\nSat Oct 18 14:27:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (opt_block_arg): allow trailing comma after usual\n\t  arguments.  not after block argument.\n\nSat Oct 18 13:30:53 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_external_str_new): a new function to convert from\n\t  external encoding to internal encoding.  if something went\n\t  wrong, it returns a string with the external encoding.\n\n\t* string.c (rb_external_str_new_with_enc): same as above besides\n\t  you can specify the source encoding.\n\n\t* ruby.c (ruby_set_argv): use rb_external_str_new()\n\n\t* ruby.c (set_arg0, ruby_script): ditto.\n\nSat Oct 18 04:08:18 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tempfile.rb (Tempfile#initialize): now Tempfile.new takes\n\t  keyword arguments to open().  [ruby-dev:36756]\n\nSat Oct 18 17:10:10 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* tool/transcode-tblgen.rb: added set_valid_byte_pattern\n\t  to reduce coupling between table generation script and\n\t  specific encodings.\n\n\t* enc/trans/single_byte.trans: using set_valid_byte_pattern\n\nSat Oct 18 16:39:39 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c: in transcode_search_path, eliminated a warning\n\t  on cygwin about pathlen potentially not being initialized\n\nSat Oct 18 13:40:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (assert_nothing_thrown): implemented.\n\nSat Oct 18 01:33:22 2008  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* common.mk: use added options for generic_erb.rb.\n\nSat Oct 18 00:47:51 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* array.c: don't recycle shared-array while sort!.\n\nFri Oct 17 22:04:38 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* array.c: recycle shared-array when it isn't referenced.\n\nFri Oct 17 20:29:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize_m): specify ARG_ENCODING_NONE instead of\n\t  ARG_ENCODING_FIXED for Regexp.new(\"\", nil, \"n\").  [ruby-dev:36761]\n\n\t* test/ruby/test_regexp.rb (TestRegexp#test_initialize): test\n\t  updated.\n\nFri Oct 17 19:46:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/ifchange, win32/ifchange.bat: --timestamp option added.\n\n\t* tool/generic_erb.rb: --timestamp, --output and --if-change options\n\t  added.\n\nFri Oct 17 18:33:12 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* array.c (ary_resize_capa): renamed RESIZE_CAPA.\n\nFri Oct 17 18:16:51 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/bigdecimal/test_bigdecimal.rb (TestBigDecimal#test_sqrt_bigdecimal):\n\t  test updated.  a patch from TAKANO Mitsuhiro <takano32 at jus.or.jp> in\n\t  [ruby-dev:36736].\n\nFri Oct 17 18:14:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (uncommon.mk): ignores failures at loading.\n\n\t* test/rubygems/gemutilities.rb (RubyGemTestCase#build_rake_in):\n\t  get rid of interference with other tests.\n\nFri Oct 17 18:06:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c (str_transcode0): String#encode without argument now\n\t  behave as if :undef => :replace, :invalid => :replace specified.\n\n\t* transcode.c (rb_econv_prepare_opts): should preserve options in\n\t  any case.\n\nFri Oct 17 11:48:18 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/socket/socket.c (init_sock): sockets should be binmode.\n\n\t* test/socket/test_tcp.rb (test_encoding): ditto.\n\nFri Oct 17 10:26:13 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* tool/insns2vm.rb: remove -Kn option in shebang line because it's\n\t  inconsistent with -Ks commandline option in common.mk.\n\nFri Oct 17 01:26:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_restartable0): in_pos and out_pos never be\n\t  NULL, now.\n\nFri Oct 17 00:39:19 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/test/unit.rb: sort the order of executing tests.\n\nFri Oct 17 00:24:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_binmode): reset encoding conversion.\n\nFri Oct 17 00:16:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (rb_getc, rb_io_fread, rb_io_fwrite, rb_read_pending):\n\t  remove deprecated functions which do not work.  [ruby-dev:36697]\n\nThu Oct 16 23:48:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk (TESTS): removed to re-enable test for minitest.\n\nThu Oct 16 23:37:11 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_set_sequence): fix memory leak.\n\nThu Oct 16 23:27:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (assert_equal): avoid incompatible character\n\t  encodings error.\n\nThu Oct 16 23:23:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit.rb (assert_equal): failure message changed.\n\nThu Oct 16 22:52:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit: removed test/unit.\n\n\t* lib/test/unit.rb: new compatibility layer using minitest.\n\n\t* bin/testrb: use above.\n\n\t* test/runner.rb: ditto.\n\nThu Oct 16 14:34:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, enc/depend (enc, trans): targets for sources.\n\nThu Oct 16 14:30:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (lib): installs all files other than README etc.\n\nThu Oct 16 09:48:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize_m): changed the message to clarify the\n\t  third option argument is now ignored.  [ruby-dev:36753]\n\nThu Oct 16 08:14:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (proc_options): no warning when default_external already\n\t  set by -E.\n\n\t* test/ruby/test_rubyoptions.rb (TestRubyOptions#test_rubyopt):\n\t  put -K after -E to set script encoding.\n\nThu Oct 16 06:20:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_transcode.rb (TestTranscode#test_errors):\n\t  String#encode now works without any argument. [ruby-dev:36740]\n\nWed Oct 15 23:48:22 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* .gdbinit (rp): REGEXP handling fixed.\n\n\t* string.c (rb_str_rindex_m): need not to call rb_enc_check on\n\t  regexp.\n\n\t* re.c (unescape_escaped_nonascii): try ASCII-8BIT encoding for\n\t  broken strings.\n\nWed Oct 15 23:11:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (DelegateClass): restored 1.8 behavior for\n\t  DelegateClass as well.  [ruby-dev:36739]\n\nWed Oct 15 22:19:14 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* array.c (RESIZE_CAPA): check whether len is longer than capacity.\n\n\t* array.c (rb_ary_compact_bang): resize ary before changing capacity.\n\t  fixed [ruby-dev:36704]\n\nWed Oct 15 16:57:30 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* version.h (RUBY_DESCRIPTION): remove unnecessary space.\n\nTue Oct 14 23:18:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator): simplified and restored 1.8\n\t  behavior.  [ruby-dev:35986]\n\nTue Oct 14 21:50:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (TESTS): skips minitest by default, since it interferes\n\t  with test/unit.\n\nTue Oct 14 21:36:29 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (load_conv_function51932): check\n\t  having IMultiLanguage2 or IMultiLanguage. [ruby-dev:36716]\n\n\t* ext/win32ole/extconf.rb: ditto.\n\nTue Oct 14 20:45:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (Init_IO): $FILENAME and $* must be read-only.  [ruby-dev:36698]\n\n\t* variable.c (*_getter, *_setter, *_marker): made public.\n\n\t* include/ruby/ruby.h (rb_gvar_*_{getter,setter,marker}): declared.\n\nTue Oct 14 20:32:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/single_byte.trans (transcode_tblgen_singlebyte): renamed\n\t  from transcode_tblgen_windows.\n\t  (transcode_tblgen_iso8859): use transcode_tblgen_singlebyte.\n\nTue Oct 14 19:32:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (process_options): -U should be allowed in RUBYOPT\n\t  environment variable.  [ruby-dev:36720]\n\nTue Oct 14 14:11:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): -U can be followed by other options.\n\nTue Oct 14 13:30:30 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/single_byte.trans: added windows-1252\n\n\t* enc/trans/windows-1252-tbl.rb: new file\n\t  (contributed by Yoshihiro Kambayashi)\n\n\t* tool/transcode-tblgen.rb: listed windows-1252 as '1byte'\n\n\t* test/ruby/test_transcode.rb: added test_windows_1252\n\t  (contributed by Yoshihiro Kambayashi)\n\nTue Oct 14 12:22:32 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_variable.rb (TestVariable#test_variable): add\n\t  a test of [ruby-dev:36698].\n\nTue Oct 14 11:14:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c (str_transcode0): should not raise error when\n\t  default_internal is not set.  [ruby-core:19309]\n\nTue Oct 14 11:14:26 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/net/pop.rb: check for invalid APOP timestamp. (CVE-2007-1558)\n\t  [ruby-dev:36631]\n\n\t* test/net/pop/test_pop.rb: ditto.\n\nTue Oct 14 09:39:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (set_internal_encoding_once): check double contradicted\n\t  specification of the encoding from command line.\n\n\t* ruby.c (set_external_encoding_once): ditto.\n\nTue Oct 14 08:28:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): allow reserved word to be keyword argument.\n\nMon Oct 13 19:07:52 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* parse.y (token_info_pop): show source filename. [ruby-dev:36710]\n\nMon Oct 13 08:59:08 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (load_conv_function51932): support\n\t  CP51932 on cygwin and mingw32. thanks to arton.\n\n\t* test/win32ole/test_win32ole.rb (test_cp51932): ditto.\n\nMon Oct 13 07:54:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (proc_options): add -U command line option to specify\n\t  utf-8 as default_internal.\n\nMon Oct 13 07:42:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c (str_transcode0): String#encode() with no encoding\n\t  specified transcode the string into Encoding.default_internal.\n\t  inspired by [ruby-core:19298].\n\nSun Oct 12 18:00:18 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (set_ole_codepage, ole_cp2encoding,\n\t  ole_wc2mb, ole_vstr2wc, ole_mb2wc): support CP51932 (only mswin32).\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nSun Oct 12 12:03:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_insnhelper.h (ruby_vm_redefined_flag): apply optimization\n\t  patch proposed by Paul Brannan.  [ruby-core:19171]\n\nSun Oct 12 09:46:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): suppressed warnings on cygwin.\n\nSat Oct 11 19:49:35 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_prepare): use utf-8 encoding directly.\n\nSat Oct 11 10:20:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (CLEANINGS): uses escaped form tabs to preventing the\n\t  confusion.  [ruby-talk:317345]\n\nSat Oct 11 08:51:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (Rake::Application#standard_exception_handling): removed\n\t  unnecessary SystemExit, and exits with false instead of system\n\t  dependent value.  [ruby-talk:317330]\n\nSat Oct 11 03:54:05 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: optimize 'for' statement when one variable given.\n\n\t* benchmark/bm_loop_for.rb: added.\n\n\t* benchmark/bm_loop_times.rb: modified.\n\nSat Oct 11 12:09:05 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv/csv.rb:  Added support for Encoding::default_internal.\n\t* lib/csv/csv.rb:  Switched to new Hash syntax.\n\nFri Oct 10 22:16:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (comment_at_top): needed for ripper too.\n\nFri Oct 10 22:07:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby.h: updated macros for headers.  [ruby-core:19275]\n\nFri Oct 10 19:21:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (magic_comment_encoding): warns when ignored.\n\n\t* parse.y (parser_magic_comment): replaces '-' with '_'.\n\n\t* parse.y (parser_yylex): allows magic comments indented and the\n\t  second line or later.\n\nFri Oct 10 17:26:50 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/ext/parser/parser.c (JSON_parse_string):\n\t  associate encoding.\n\nFri Oct 10 10:18:21 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/test/*: reverted back to test/unit.\n\t* test/test/*: ditto\n\t* lib/minitest/*: Imported minitest 1.3.0 r4333.\n\nFri Oct 10 03:41:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): check if codepoint for %c is valid.\n\t  [ruby-dev:36691]\n\nFri Oct 10 01:55:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_names): minor improvement.\n\nFri Oct 10 00:21:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (ParseError.filter_backtrace): removes internal\n\t  backtrace.\n\nFri Oct 10 00:11:16 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* transcode.c (rb_econv_add_converter): remove unnecessary NULL check.\n\nThu Oct  9 23:53:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-c-mode): buffer may not have file\n\t  name.\n\nThu Oct  9 23:30:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* process.c (run_exec_dup2): fix resource leak.\n\nThu Oct  9 23:19:02 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* process.c (rb_run_exec_options): fix resource leak.\n\nThu Oct  9 22:13:58 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_module.rb (test_remove_class_variable): add a test\n\t  for Class#remove_class_variable.\n\n\t* test/ruby/test_object.rb (test_remove_instance_variable): add a test\n\t  for Object#remove_instance_variable.\n\nThu Oct  9 22:04:38 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* variable.c (rb_mod_remove_cvar): fix r19711.\n\nThu Oct  9 21:17:50 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/syck/syck.c (syck_lookup_sym): remove reading uninitialized\n\t  variable.\n\nThu Oct  9 16:34:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/ext/generator/extconf.rb: fix target.\n\n\t* ext/json/ext/parser/extconf.rb: ditto.\n\nThu Oct  9 14:37:59 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* include/ruby/ruby.h: embeds the elements of an array into its\n\t  struct RArray for # of elements <= 3.\n\n\t* array.c: ditto.\n\n\t* gc.c (gc_mark_children): following the change of struct RArray.\n\n\t* ext/tk/tcltklib.c (ip_ruby_cmp): ditto.\n\n\t* parse.y (coverage): ditto.\n\n\t* proc.c (curry): ditto.\n\n\t* .gdbinit: ditto.\n\nThu Oct  9 11:29:33 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (Init_Encoding): new instance method Encoding#names,\n\t  returns its name and alias names.\n\n\t* encoding.c (enc_names): defined for Encoding#names.\n\n\t* encoding.c (enc_names_i): defined for enc_names.\n\nThu Oct  9 08:47:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (rb_thread_wait_fd_rw): should not block by select if\n\t  there's only one thread living.  fixed [ruby-dev:36646].\n\nWed Oct  8 20:59:52 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_init_cp): initialize WIN32OLE.codepage\n\t  according to Encoding.default_internal and\n\t  Encoding.default_external.\n\nWed Oct  8 17:02:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure/generator.rb (utf8_to_json):\n\t  process each unpacked Unicode character.\n\nWed Oct  8 15:00:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure/parser.rb\n\t  (JSON::Pure::Parser#parse_string): force_encoding(\"UTF-8\").\n\nWed Oct  8 11:56:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: assert_nothing_thrown,\n\t  assert_raise, assert_not_equal, assert_no_match, assert_not_nil,\n\t  assert_not_same are coming back as alias.\n\nWed Oct  8 11:18:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (autoload_delete, autoload_file): should not delete\n\t  autoload table, since it may be shared with duplicated modules.\n\t  [ruby-core:19181]\n\nWed Oct  8 02:38:28 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_default_internal_encoding): merged a patch from\n\t  Michael Selig <michael.selig at fs.com.au> in [ruby-core:18985].\n\n\t* io.c (rb_io_ext_int_to_encs): ditto.\n\n\t* ruby.c (proc_options): support default internal encoding in -E\n\t  option.\n\nWed Oct  8 00:03:39 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (today,now): should produce own instances.\n\t  [ruby-talk:317020]\n\nTue Oct  7 16:43:51 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure/generator.rb (utf8_to_json):\n\t  force_encoding before gsub.\n\nTue Oct  7 16:35:41 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure/generator.rb (utf8_to_json):\n\t  downcase the result of Unicode escape.\n\nMon Oct  6 16:44:52 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI::QueryExtension::initialize_query): fix the\n\t  condition.\n\n\t* test/cgi/test_cgi_core.rb: bug fix encoding.\n\t  thanks to TAKANO Mitsuhiro <takano32 at jus.or.jp> .\n\n\t* test/cgi/test_cgi_multipart.rb: temporary comment in.\n\nMon Oct  6 15:22:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (gc_mark_children): ignores T_ZOMBIE.\n\nMon Oct  6 12:45:20 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_module.rb (TestModule#_wrap_assertion): add\n\t  definition.  is this really needed?\n\n\t* test/ruby/test_module.rb (TestModule#test_mod_constants): should\n\t  not depend on global Module constants.\n\nMon Oct  6 12:38:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb (Test::Assertions#assert_nothing_raised):\n\t  should take optional message argument.\n\nMon Oct  6 12:18:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): string comparison should be\n\t  transitive.  [ruby-dev:36484]\n\n\t* test/ruby/test_m17n_comb.rb (TestM17NComb#test_str_eq): test\n\t  updated.\n\nMon Oct  6 09:00:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/bigdecimal/test_bigdecimal.rb (test_sqrt_bigdecimal): test\n\t  updated.  a patch from TAKANO Mitsuhiro <takano32 at jus.or.jp>\n\t  in [ruby-dev:36669].\n\nSun Oct  5 23:34:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb ($config_h): now always defines for old libraries.\n\nSun Oct  5 23:06:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_method.c (rb_mod_modfunc): method undefined in included module\n\t  may not have nd_body.  [ruby-core:18738]\n\nSun Oct  5 21:28:58 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/rational.rb: resolved conflicts of aliases.\n\n\t* lib/mathn.rb: avoided some warnings.\n\nSun Oct  5 18:51:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb: remove debug code introduced by previous change.\n\nSun Oct  5 17:49:35 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/open-uri.rb (OpenURI.open_uri): set encoding to strio.\n\nSun Oct  5 17:39:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_set_encoding): defined for\n\t  StringIO#set_encoding.\n\nSun Oct  5 11:24:42 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* eval.c: come back definition of environ.\n\nSun Oct  5 09:19:49 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/utf8tbl.c: update table.\n\nSat Oct  4 22:50:14 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* dln.c: Ruby no longer supports VMS.\n\n\t* error.c: ditto.\n\n\t* eval.c: ditto.\n\n\t* eval_intern.h: ditto.\n\n\t* include/ruby/defines.h: ditto.\n\n\t* include/ruby/ruby.h: ditto.\n\n\t* io.c: ditto.\n\n\t* process.c: ditto.\n\n\t* ruby.c: ditto.\n\n\t* vms/config.h: removed.\n\n\t* vms/vms.h: ditto.\n\n\t* vms/vmsruby_private.c: ditto.\n\n\t* vms/vmsruby_private.h: ditto.\n\nSat Oct  4 22:44:23 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* dln.c: Ruby no longer supports Windows CE.\n\n\t* eval.c: ditto.\n\n\t* include/ruby/defines.h: ditto.\n\n\t* include/ruby/win32.h: ditto.\n\n\t* ruby.c: ditto.\n\n\t* strftime.c: ditto.\n\n\t* win32/Makefile.sub: ditto.\n\n\t* win32/win32.c: ditto.\n\n\t* ext/tk/extconf.rb: ditto.\n\n\t* lib/fileutils.rb: ditto.\n\n\t* test/fileutils/test_fileutils.rb: ditto.\n\n\t* wince/*: removed.\n\nSat Oct  4 22:35:06 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* dln.c: Ruby no longer supports MacOS 9 or before.\n\n\t* eval.c: ditto.\n\n\t* eval_intern.h: ditto.\n\n\t* ext/extmk.rb: ditto.\n\n\t* ext/tk/sample/tkextlib/treectrl/demo.rb: ditto.\n\n\t* ext/tk/stubs.c: ditto.\n\n\t* file.c: ditto.\n\n\t* hash.c: ditto.\n\n\t* include/ruby/defines.h: ditto.\n\n\t* ruby.c: ditto.\n\n\t* signal.c: ditto.\n\n\t* vm_core.h: ditto.\n\nSat Oct  4 22:30:28 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* dln.c: Ruby no longer supports MS-DOS.\n\n\t* ext/sdbm/_sdbm.c: ditto.\n\n\t* ext/sdbm/sdbm.h: ditto.\n\n\t* gc.c: ditto.\n\n\t* hash.c: ditto.\n\n\t* include/ruby/defines.h: ditto.\n\n\t* include/ruby/util.h: ditto.\n\n\t* io.c: ditto.\n\n\t* process.c: ditto.\n\n\t* ruby.c: ditto.\n\n\t* strftime.c: ditto.\n\n\t* util.c: ditto.\n\nSat Oct  4 22:14:15 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* djgpp/GNUmakefile.in: removed. Ruby no longer supports djgpp.\n\n\t* djgpp/README.djgpp: ditto.\n\n\t* djgpp/config.hin: ditto.\n\n\t* djgpp/config.sed: ditto.\n\n\t* djgpp/configure.bat: ditto.\n\n\t* djgpp/mkver.sed: ditto.\n\n\t* ext/Setup.dj: ditto.\n\n\t* dln.c: removed djgpp supports.\n\n\t* file.c: ditto.\n\n\t* gc.c: ditto.\n\n\t* io.c: ditto.\n\n\t* process.c: ditto.\n\n\t* ruby.c: ditto.\n\n\t* signal.c: ditto.\n\n\t* util.c: ditto.\n\n\t* vm_core.h: ditto.\n\n\t* lib/fileutils.rb: ditto.\n\n\t* lib/mkmf.rb: ditto.\n\n\t* ext/socket/socket.c: ditto.\n\n\t* test/fileutils/test_fileutils.rb: ditto.\n\n\t* test/ruby/test_env.rb: ditto.\n\n\t* test/ruby/test_path.rb: ditto.\n\nSat Oct  4 21:59:39 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* x68/_dtos18.c: removed. Ruby no longer supports human68k.\n\n\t* x68/_round.c: ditto.\n\n\t* x68/fconvert.c: ditto.\n\n\t* x68/select.c: ditto.\n\n\t* ext/Setup.x68: ditto.\n\n\t* missing/x68.c: ditto.\n\n\t* dln.c (dln_find_exe_r): removed human68k supports.\n\t  (dln_find_1): ditto.\n\n\t* lib/mkmf.rb: ditto.\n\n\t* ext/extmk.rb (Init_ext): ditto.\n\n\t* ext/socket/socket.c (init_sock): ditto.\n\n\t* gc.c (GC_MALLOC_LIMIT): ditto.\n\t  (rb_setjmp, rb_jmpbuf): ditto.\n\t  (mark_current_machine_context): ditto.\n\n\t* include/ruby/defines.h (PATH_ENV): ditto.\n\n\t* io.c: ditto.\n\n\t* process.c: ditto.\n\n\t* ruby.c: ditto.\n\n\t* test/ruby/test_env.rb: ditto.\n\n\t* test/ruby/test_path.rb: ditto.\n\n\t* LEGAL\n\nSat Oct  4 19:02:36 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: no need to require the \"lib/rational.rb\".\n\nSat Oct  4 19:02:59 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_enc_get): don't replicate encoding.\n\t  [ruby-dev:36575]\n\nSat Oct  4 18:47:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_external_encoding): defined.\n\n\t* ext/stringio/stringio.c (strio_internal_encoding): defined.\n\n\t* ext/stringio/stringio.c (Init_stringio): define above.\n\nSat Oct  4 15:52:17 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/mini/test_mini_test.rb: recovered.\n\t  It had been temporarily removed at r19645.\n\n\t* test/mini/test_mini_mock.rb: ditto.\n\n\t* test/mini/test_mini_spec.rb: ditto.\n\n\t* lib/test/**/*: replaced by miniunit.\n\t  miniunit had been temporarily reverted at r19643 but\n\t  now recovered.\n\nSat Oct  4 15:33:26 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (gdb-ruby): new target. it runs ruby under controlled by\n\t  gdb.\n\n\t* common.mk (dist): accepts RELNAME variable as the second argument of\n\t  make-snapshot.rb.\n\nSat Oct  4 12:17:46 2008  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/irb/ext/save-history.rb: change load_history using File.expand_path. see [ruby-dev:36660]. Thanks Kouhei Sutou.\n\t* lib/irb/irb/context.rb: convert string Symbol of instance variable names in IRB:Context#inspect.\n\nFri Oct  3 22:43:04 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ext/dl/extconf.rb ($distcleanfiles): added callback-?.c into\n\t  the distclean list.\n\nFri Oct  3 19:33:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure.rb (module JSON): remove Iconv dependency.\n\n\t* ext/json/lib/json/pure/generator.rb (utf8_to_json): process as\n\t  binary and remove Iconv dependency.\n\n\t* ext/json/lib/json/pure/parser.rb (parse_string): ditto.\n\nFri Oct  3 14:04:05 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/{configure.bat,setup.mak,Makefile.sub): add --program-prefix\n\t  configure option support.\n\nThu Oct  2 21:22:43 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI::QueryExtension): delete MorphingBody\n\t  and replace like as 1.8's in multipart reading.\n\t\tsee [ruby-dev:36443],\n\t  reference from CGIAlt http://cgialt.rubyforge.org/\n\n\t* test/cgi/test_cgi_multipart.rb : fixed multipart test.\n\nThu Oct  2 20:46:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_sub_bang): fix coderange.\n\nWed Oct  1 22:54:09 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/rexml/parsers/lightparser.rb, lib/debug.rb: remove unused when\n\t  clauses.\n\nWed Oct  1 22:43:59 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/xmlrpc, lib/rexml, test/ruby/test_array.rb,\n\t  test/ruby/test_unicode_escape.rb, test/scanf/test_scanf.rb,\n\t  test/rss/rss-assertions.rb: fix indentation to remove warning.\n\nWed Oct  1 21:36:35 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): finalize deferred IO and Data.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): defers IO finalization.\n\t  [ruby-dev:36646]\n\nWed Oct  1 19:11:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (marshal_dump): fixed for check_dump_arg.\n\n\t* marshal.c (marshal_dump): initializes dump_arg before any funcall.\n\t  [ruby-dev:36648]\n\nWed Oct  1 00:54:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_split_m): should use rb_str_subseq() which use\n\t  offset and length by bytes.  [ruby-dev:36641]\n\nWed Oct  1 00:29:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_settracefunc.rb (test_call, test_class): line number\n\t  was changed at r19592.\n\nWed Oct  1 00:20:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (check_exec_redirect): don't depend on rb_stdout and\n\t  rb_stderr.\n\nTue Sep 30 23:06:58 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/mini/test_mini_test.rb: removed.\n\t  Temporarily removed the tests for miniunit because of\n\t  they depend on the miniunit version of test/unit,\n\t  where test/unit was temporarily reverted to the state\n\t  before importing miniunit.\n\n\t* test/mini/test_mini_mock.rb: ditto.\n\n\t* test/mini/test_mini_spec.rb: ditto.\n\nTue Sep 30 23:04:30 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/test/**/*: recovered.\n\t  Temporarily reverts the changes of lib/test/unit/* in\n\t  r19502 and r19501, in order to release 1.9.0-5.\n\nTue Sep 30 23:00:05 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/test/unit.rb: removed.\n\t  Temporarily reverts the changes of lib/test/unit/* in\n\t  r19543, r19534 and r19503, in order to release 1.9.0-5.\n\n\t* lib/test/unit/assertions.rb: ditto.\n\n\t* lib/test/unit/deprecate.rb: ditto.\n\n\t* lib/test/unit/error.rb: ditto.\n\n\t* lib/test/unit/testcase.rb: ditto.\n\nTue Sep 30 20:17:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_extract_modeenc): should honor value of the\n\t  textmode: and binmode: options.\n\nTue Sep 30 17:04:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/bigdecimal/test_bigdecimal.rb (test_sqrt_bigdecimal): wrong\n\t  precision specification.  a patch from TAKANO Mitsuhiro\n\t  <takano32 at jus.or.jp> in [ruby-dev:36634].\n\nTue Sep 30 16:53:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): returns non zero.  [ruby-dev:36633]\n\nTue Sep 30 16:52:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): add %<name>s style named argument\n\t  support.  a patch from Yusuke Endoh <mame at tsg.ne.jp>\n\t  in [ruby-dev:35851].\n\n\t* sprintf.c (rb_str_format): add gettext style named format\n\t  (%{name}) support.  inspired by [ruby-dev:35852].\n\n\t* sprintf.c (GETNAMEARG): should raise KeyError exception when no\n\t  named argument found.\n\n\t* hash.c (rb_hash_fetch): export fetch function.\n\nTue Sep 30 13:19:01 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* test/rubygems/test_gem_installer.rb: remove extra call to setup to\n\t  fix ENV['HOME'] pollution.\n\nTue Sep 30 13:04:11 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/mini/test.rb: Updated to 1.3.0 r4257.\n\t* test/mini/*: added from r4257.\n\nTue Sep 30 07:46:07 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* test/rdoc/test_rdoc_markup_attribute_manager.rb: Test with clean\n\t  SPECIALS.\n\t* test/rubygems/gemutilities.rb: Restore ENV['HOME'] after test.\n\t* test/runner.rb: Pass -n argument down to miniunit.\n\nTue Sep 30 01:02:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (token_info_push, token_info_pop): do nothing for evaled\n\t  source.\n\nTue Sep 30 00:47:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: constified.\n\nMon Sep 29 23:32:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_subseq): don't use rb_str_drop_bytes for short\n\t  string.\n\nMon Sep 29 22:54:29 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/mathn.rb: added String#to_[rc].  moved def_canon.\n\nMon Sep 29 20:41:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_subseq): use rb_str_drop_bytes if possible.\n\nMon Sep 29 20:22:20 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* test/date/*.rb: imported additional tests and some adjustments.\n\nMon Sep 29 20:13:05 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fev_initialize): initialization\n\t  handler instance variable.\n\n\t* test/win32ole/test_win32ole_typelib.rb (test_s_typelibs):\n\t  fix the warning of shadowing outer local variable.\n\nMon Sep 29 19:59:00 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (rescue_callback): use rb_write_error\n\t  instead of fprintf.\n\nMon Sep 29 01:51:54 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/rdoc/test_rdoc_info_formatting.rb (teardown): delete tmpdir for\n\t  test.\n\nMon Sep 29 00:30:20 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/html.rb (CGI::HtmlExtension::{radio_group, checkbox_group}):\n\tcan specify the false as checked or selected value.\n\t[ruby-core:18306], [ruby-core:18307]\n\n\t* test/cgi/test_cgi_tag_helper.rb: add a test.\n\nSun Sep 28 23:08:38 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/html.rb (CGI::HtmlExtension::popup_menu):\n\tfix the calls #bytesize on array parameters. [ruby-core:18919]\n\nSun Sep 28 22:44:26 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI::parse): ignore illegal query params.\n\t[ruby-dev:36618]\n\nSun Sep 28 22:05:07 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_set_sequence): check duplicated when clause.\n\t  [ruby-dev:36616]\n\nSun Sep 28 19:04:03 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* test/date/*.rb: imported a date test suite ruby 1.9 limited ed.\n\nSun Sep 28 18:40:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mini/test.rb (MINI_DIR): loaded path is expanded.\n\n\t* lib/mini/test.rb (assert_match): get rid of confusion of\n\t  ruby-mode.el.\n\nSun Sep 28 12:36:09 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_exec.c (vm_exec_core): add an UNLIKELY() hint.\n\n\t* vm_insnhelper.h (BASIC_OP_UNREDEFINED_P): add a LIKELY() hint.\n\nSun Sep 28 12:04:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_new): sets empty string to coderange 7bit.\n\t  [ruby-core:18993]\n\nSun Sep 28 09:39:48 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/mathn.rb ({Fixnum,Bignum,Float}#**): may produce complex\n\t  value.\n\nSun Sep 28 09:05:53 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv/csv.rb:  Worked around some minor encoding changes in Ruby\n\t  pointed out by Nobu.\n\nSun Sep 28 08:37:12 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/mathn.rb: a hack to provide canonicalization.  This must be\n\t  temporary, but this seems to be not bad for the time being.\n\nSat Sep 27 06:22:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (Module#rake_extension, String#ext, String#pathmap): use\n\t  built-in methods.\n\n\t* lib/rake.rb (String#pathmap): fixed typo in rdoc.\n\nSat Sep 27 04:28:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rmext): preceding dots are not a part of extension.\n\n\t* file.c (rb_file_s_extname): ditto.\n\nSat Sep 27 03:15:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (vm_jump_tag_but_local_jump): exc is not used if val is nil.\n\nSat Sep 27 03:12:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (host_str): numeric address should be unsigned.\n\t  [ruby-core:18971]\n\nFri Sep 26 22:46:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (primary, brace_block): fix for line number.\n\n\t* proc.c (rb_proc_location, rb_method_location): new methods\n\t  {Proc,Method,UnboundMethod}#source_location.  [ruby-core:18452]\n\nFri Sep 26 21:36:33 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_core.h (RUBY_VM_CHECK_INTS_TH): add an UNLIKELY hint.\n\nFri Sep 26 19:33:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_str_encode): renamed from\n\t  rb_str_transcode.  [ruby-dev:36593]\n\t  (rb_econv_has_convpath_p): renamed from rb_transcode_convertible.\n\n\t* transcode.c: follow the renaming.\n\n\t* io.c: ditto.\n\nFri Sep 26 19:01:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/bigdecimal/test_bigdecimal.rb (test_inspect): fixed CPU bit\n\t  size dependent test.  pointed out by TAKANO Mitsuhiro <takano32 AT\n\t  jus.or.jp>.\n\nFri Sep 26 18:57:33 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/pathname/test_pathname.rb: Fix use of deprecated methods.\n\nFri Sep 26 18:39:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (dist): nothing is needed to run BASERUBY.\n\n\t* tool/make-snapshot: new option -archname.\n\nFri Sep 26 18:24:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el: safe customizable variables.\n\nFri Sep 26 17:37:18 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* include/ruby/ruby.h (rb_mPrecision): removed.\n\t  Precision module was temporarily removed at r19430.\n\nFri Sep 26 17:25:10 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (dist): Changed its dependencies and action.\n\nFri Sep 26 17:07:04 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* error.c (Init_syserr): moved to the template.\n\t  (errno_missing): removed. fixed [ruby-dev:35958].\n\n\t* defs/known_errors.def: added. extracted from Init_syserr.\n\n\t* templates/known_errors.inc.tmpl: added. Template for Init_syserr.\n\t  c.f. [ruby-dev:35958].\n\n\t* tools/generic_erb.rb: added. general purpose mapper which maps\n\t  data+template into source code.\n\n\t* common.mk (error.$(OBJEXT), incs, known_errors.inc):\n\t  Fixed dependencies.\n\nFri Sep 26 17:02:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thlist_signal): clears the woken thread if nothing woke.\n\n\t* thread.c (rb_barrier_wait): achieves the lock if no thread was\n\t  waiting yet.\n\nFri Sep 26 12:04:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/curses/curses.c: should include <ruby/io.h>.\n\n\t* ext/io/wait/wait.c: ditto.\n\n\t* ext/openssl/ossl.h: ditto.\n\nFri Sep 26 11:34:08 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* variable.c (rb_define_hooked_variable): cast to get rid of compiler\n\t  warnings.\n\nFri Sep 26 11:05:41 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* transcode.c, include/ruby/encoding.c (rb_transcode_convertible):\n\t  new function. checking the existence of converter.\n\nFri Sep 26 10:35:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (global_variable, struct trace_var): made function\n\t  members more strict.\n\nFri Sep 26 09:55:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby{io,sig}.h: moved to include/ruby/backward.\n\nFri Sep 26 09:47:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/rubysig.h: old macros for backward compatibility.\n\n\t* thread.c (BLOCKING_REGION): rewritten using helper functions.\n\nFri Sep 26 03:03:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* vm_eval.c (Init_vm_eval): define module_eval, class_eval and eval\n\t  here for rdoc.\n\nFri Sep 26 00:40:30 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* range.c (range_inspect): fix SEGV for cyclic range object.\n\t  [ruby-core:18835]\n\nThu Sep 25 23:59:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk: dependency updated.\n\nThu Sep 25 21:46:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_eUndefinedConversionError): renamed from\n\t  rb_eConversionUndefinedError.\n\t  (rb_eConverterNotFoundError): renamed from rb_eNoConverterError.\n\nThu Sep 25 21:23:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* pack.c (pack_pack, pack_unpack): 'm0' format (base64) complies with\n\t  RFC 4648.  It adds no line feed when encoding, and raise ArgumentError\n\t  if the encoded string contains non-alphabet (including CR and LF).\n\n\t* lib/base64.rb: added.  This provides encoding/decoding method for\n\t  Base64 in standard RFC 2045, Base64 in standard RFC 4648 and ``Base 64\n\t  Encoding with URL and Filename SafeAlphabet'' in RFC 4648.\n\n\t* test_pack.c, test/base64/test_base64.rb: add tests for above.\n\nThu Sep 25 21:00:32 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: fix btest-* rules [ruby-dev:36528].\n\t  and remove obsolete rules.\n\nThu Sep 25 20:27:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* class.c (rb_make_metaclass): [BUG] Fixed a bus error\n\t  on the case for metaclass of a class which includes a\n\t  module.\n\nThu Sep 25 19:34:33 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* test/rubygems/*: Update some new tests to use build_rake_in.\n\t* test/rubygems/gemutilities.rb: Fix broken merge of rake detection.\n\nThu Sep 25 19:13:12 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*: Update to RubyGems 1.3.0 r1891.\n\nThu Sep 25 18:40:42 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* class.c (rb_make_metaclass): Made class of class of class\n\t  from Class into its own eigenclass. Now meta^(n)-class\n\t  hierarchy regresses infinitely, again.\n\t  (This feature was decided on developer-meeting-20080922.)\n\nThu Sep 25 16:01:07 2008  Jim Weirich  <jim@tardis.local>\n\n\t* lib/rake.rb: Update rake source to version 0.8.3.  This\n\t  version includes some fixes for running Rake on windows.\n\t  (1) better APPDATA/HOMExxx/USERPROFILE integration for\n\t  system rakefiles, (2) Better handling of the :ruby command\n\t  when installed in directory containing spaces.\n\nThu Sep 25 11:22:51 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc*: Update to RDoc 2.2.1 r185.\n\nThu Sep 25 02:08:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_mode_enc): make it static.\n\nThu Sep 25 01:22:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mini/test.rb (Mini::Assertions#assert_raise): fixed typo.\n\nWed Sep 24 23:39:00 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* test/cgi/test_cgi_multipart.rb : revert last change.\n\t  ( deprecated is assert_raises. )\n\t* test/cgi/test_cgi_core.rb      : ditto.\n\t* test/cgi/test_cgi_header.rb    : ditto.\n\nWed Sep 24 23:12:49 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI::new, CGI::{accept_charset,accept_charset=}) :\n\t  accept parameters either in a hash,\n\t  string as a block. add the encoding validation process.\n\t* test/cgi/test_cgi_core.rb : test for query encoding check.\n\nWed Sep 24 22:58:18 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_rstrip_bang): raise exception when the encoding of\n\t  the string is dummy.\n\n\t* string.c (rb_str_rstrip_bang): remove nul characters even if the\n\t  encoding of the string is not single byte optimizable.\n\t  fixed [ruby-core:18844], reported by Michael Selig.\n\nWed Sep 24 19:01:45 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_rstrip_bang): workaround for VC++8 x64.\n\nWed Sep 24 17:44:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* complex.c (Init_Complex), rational.c (Init_Rational): undefines\n\t  default #allocate methods which call the allocator.\n\nWed Sep 24 17:02:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* complex.c (Init_Complex), rational.c (Init_Rational): ID_ALLOCATOR\n\t  differs from :allocate, and invisible in ruby level.\n\nWed Sep 24 15:58:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_rstrip_bang): removing mixed spaces and nuls at\n\t  the end of strings.  [ruby-dev:36497]\n\nWed Sep 24 15:13:04 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* test/cgi/test_cgi_multipart.rb : test for miniunit.\n\t* test/cgi/test_cgi_core.rb      : ditto.\n\t* test/cgi/test_cgi_header.rb    : ditto.\n\nWed Sep 24 14:38:29 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/tmpdir.rb: setup buffer with nul characters instead of spaces.\n\t  fixed [ruby-dev:36493]\n\nWed Sep 24 11:18:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_binread): offset argument was wrongly passed to\n\t  internal IO#read call.  [ruby-core:18810]\n\nWed Sep 24 07:38:23 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* vm_core.h: ruby/ruby.h should be included at the very first\n\t  place in an entire compilation unit, as it includes\n\t  ruby/config.h\n\nWed Sep 24 06:41:24 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* lib/test/*: removed test/unit.\n\t* lib/test/*: added miniunit.\n\t* lib/mini/*: ditto.\n\nWed Sep 24 04:45:35 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/node.h, node.h: move node.h from include path.\n\t  This change stop to install node.h because of saving ABI\n\t  (node.h will be changed. Extensions should not depends on\n\t   this file).\n\n\t* blockinlining.c, class.c, compile.c, debug.h, enum.c,\n\t  gc.c, iseq.c, parse.y, ruby.c, signal.c, variable.c,\n\t  vm.c, vm_core.h, vm_dump.c: ditto.\n\n\t* ext/ripper/depend: ditto.\n\nWed Sep 24 04:09:13 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_core.h: remove unused frame values.\n\nWed Sep 24 04:07:07 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* signal.c (signal_exec): execute rb_eval_cmd() directly.\n\nWed Sep 24 03:08:58 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/uri/mailto.rb: fix indentation.\n\t* lib/uri/generic.rb: ditto.\n\t* lib/yaml.rb: ditto.\n\t* lib/uri/cgi/core.rb: fix indentation and ambiguous argument warning.\n\nTue Sep 23 23:39:25 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv/csv.rb:  Improved the idea of whitespace and word characters used\n\t  in substitutions during header conversion as suggested by Michael Selig.\n\nTue Sep 23 21:50:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_binwrite): allocate wbuf if nosync.\n\nTue Sep 23 21:45:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_body): use io_binwrite instead of io_fwrite.\n\nTue Sep 23 21:31:16 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* test/ruby/test_rational2.rb: updated.\n\n\t* test/ruby/test_complex2.rb: added.\n\n\t* test/ruby/test_complexrational.rb: added.\n\nTue Sep 23 21:26:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_casecmp): make the ordering consistent with\n\t  String#<=>.\n\nTue Sep 23 20:52:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_binwrite): add nosync argument.\n\t  (do_writeconv): extracted from io_fwrite.\n\t  (io_fwrite): add nosync argument.  use do_writeconv.\n\t  (io_write): add nosync argument.\n\t  (io_write_m): new function for IO#write.\n\t  (rb_p): don't append record separator.\n\nTue Sep 23 20:24:41 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* signal.c (signal_exec): fix to use rb_proc_call().\n\nTue Sep 23 20:06:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/formatters/pretty.rb (REXML::Formatters::Pretty#wrap):\n\t  abandon wrapping if the line contains no space.  [ruby-dev:36045]\n\nTue Sep 23 19:38:03 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (subtract): check tv_sec. reported by ko1.\n\nTue Sep 23 19:21:03 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_canonicalize_internal): does no apply\n\t  canonicalization rule anymore.\n\n\t* rational.c (nurat_s_canonicalize_internal(_no_reduce)?): ditto.\n\n\t* complex.c: removed class method new! and new.\n\n\t* rational.c: ditto.\n\nTue Sep 23 19:20:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_binread): a new method to read binary chunk from a\n\t  file.  [ruby-core:18674]\n\n\t* io.c (open_key_args): wrong permission specified for read-open.\n\nTue Sep 23 18:24:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* hash.c (rb_obj_is_proc): declaration moved for rdoc.\n\nTue Sep 23 18:07:55 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk (io.o): remove dependency for vm_core.h.\n\nTue Sep 23 17:56:44 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_blocking_region): fix typo in a document.\n\nTue Sep 23 17:50:35 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_blocking_region): write a document.\n\nTue Sep 23 17:14:31 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c, include/ruby/intern.h (rb_thread_interrupted): added.\n\n\t* io.c: use VALUE of thead instead of rb_tread_t to check interrupts.\n\nTue Sep 23 17:05:14 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* class.c, vm_core.h: move decl of rb_iseq_clone() to class.c.\n\nTue Sep 23 17:02:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* debug.h (ruby_set_debug_option): declared.\n\n\t* main.c: include debug.h.\n\n\t* common.mk (main.$(OBJEXT)): dependency updated.\n\nTue Sep 23 16:59:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (ENVMATCH, ENVNMATCH): reduced same code.\n\nTue Sep 23 16:55:11 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.h: fix comment and rename macro HAVE_RUBY_MVM_H to\n\t  HAVE_RUBY_VM_H.\n\nTue Sep 23 16:41:31 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/node.h, vm_core.h: move definition of\n\t  RUBY_VM_METHOD_NODE to node.h.\n\n\t* class.c, common.mk: remove useless inclusion.\n\n\t* compile.h, iseq.h, vm_core.h: rename compile.h to iseq.h.\n\t  move some definitions from vm_core.h to iseq.h.\n\n\t* compile.c, iseq.c, vm.c: ditto.\n\n\t* eval.c, compile.c: move some functions for parser\n\t  from eval.c to compile.c.\n\n\t* eval_intern.h, vm_core.h: move va_init_list() macro to\n\t  vm_core.h.\n\n\t* iseq.c (rb_iseq_new_top, rb_iseq_first_lineno): added.\n\n\t* load.c, ruby.c: use rb_iseq_new_top() instead of\n\t  rb_iseq_new() with ISEQ_TYPE_TOP constant directly.\n\n\t* proc.c: use rb_iseq_first_lineno() instead of accessing\n\t  iseq structure.\n\nTue Sep 23 16:17:54 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/ripper/eventids2.c (token_to_eventid): supper __ENCODING__\n\t  keyword.  [ruby-dev:36478]\n\nTue Sep 23 15:30:53 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk, hash.c: remove unused inclusion.\n\nTue Sep 23 09:52:07 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_safe.c, safe.c: rename eval_safe.c to safe.c.\n\n\t* common.mk, eval.c, safe.c, inits.c: separate safe.c from eval.c and\n\t  make Init_safe().\n\nTue Sep 23 09:20:00 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: clean up\n\t  - remove blockinlining.$(OBJEXT) to built\n\t  - make ENCODING_H_INCLDUES variable (include/ruby/encoding.h)\n\t  - make VM_CORE_H_INCLUDES variable (vm_core.h)\n\t  - simplify rules.\n\t  - make depends rule to output depend status using gcc -MM.\n\n\t* include/ruby/mvm.h, include/ruby/vm.h: rename mvm.h to vm.h.\n\n\t* include/ruby.h: ditto.\n\n\t* load.c: add inclusion explicitly.\n\n\t* enumerator.c, object.c, parse.y, thread.c, vm_dump.c:\n\t  remove useless inclusion.\n\n\t* eval_intern.h: cleanup inclusion.\n\n\t* vm_core.h: rb_thread_t should be defined in this file.\n\n\t* vm_evalbody.c, vm_exec.c: rename vm_evalbody.c to vm_exec.c.\n\n\t* vm.h, vm_exec.h: rename vm.h to vm_exec.h.\n\n\t* insnhelper.h, vm_insnhelper.h: rename insnhelper.h to vm_insnhelper.h.\n\n\t* vm.c, vm_insnhelper.c, vm_insnhelper.h:\n\t  - rename vm_eval() to vm_exec_core().\n\t  - rename vm_eval_body() to vm_exec().\n\t  - cleanup include order.\n\n\t* vm_method.c: fix comment.\n\nTue Sep 23 09:01:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/pathname.rb (each_filename): return Enumerator if no block\n\t  given.\n\n\t* test/pathname/test_pathname.rb: add a test for above.\n\nTue Sep 23 08:25:56 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (env_aset): allow nil value to remove an entry.\n\t  [ruby-dev:36465]\n\n\t* test/ruby/test_env.rb (TestEnv#test_aset): test updated.\n\nTue Sep 23 08:07:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-keyword-end-re): emacs21 support.  a\n\t  patch from Hiroshi Moriyama <hiroshi at kvd.biglobe.ne.jp> in\n\t  [ruby-dev:36471].\n\n\t* misc/ruby-mode.el (ruby-in-ppss-context-p): ditto.\n\n\t* misc/ruby-mode.el (ruby-here-doc-end-syntax):\n\nTue Sep 23 02:07:52 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline_history.rb\n\t  (Readline::TestHistory#test_each): checked return value.\n\nTue Sep 23 02:05:34 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/readline.c (Init_readline): used remove_history to\n\t  check offset of history if unsupported clear_history.\n\nMon Sep 22 17:39:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tempfile.rb (Tempfile#open): should return a value from the\n\t  block (if given).   [ruby-core:18394]\n\nMon Sep 22 11:17:51 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* include/ruby/encoding.h (enum): ISO C forbids comma at end of\n\t  enumerator list\n\nMon Sep 22 10:15:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* LEGAL: updated file names removed and added.  [ruby-dev:36426]\n\nMon Sep 22 02:39:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (get_default_external): add description.\n\nSun Sep 21 21:52:41 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* math.c (math_log): should check argc.\n\nSun Sep 21 21:20:24 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: added two macros.\n\n\t* rational.c: ditto.\n\nSun Sep 21 18:06:38 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_convert): checks argc.\n\n\t* rational.c (nurat_s_convert): ditto.\n\nSun Sep 21 10:19:04 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_canonicalize_internal): checks exactness of\n\t  imag only.\n\n\t* rational.c (nurat_s_convert): accepts non real value\n\t  (Rational(a,b) as a/b).\n\n\t* complex.c (nucomp_s_convert): refined.\n\nSun Sep 21 09:37:57 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv/csv.rb:  Reworked CSV's parser and generator to be m17n.  Data\n\t  is now parsed in the Encoding it is in without need for translation.\n\t* lib/csv/csv.rb:  Improved inspect() messages for better IRb support.\n\t* lib/csv/csv.rb:  Fixed header writing bug reported by Dov Murik.\n\t* lib/csv/csv.rb:  Use custom separators in parsing header Strings as\n\t  suggested by Shmulik Regev.\n\t* lib/csv/csv.rb:  Added a :write_headers option for outputting headers.\n\t* lib/csv/csv.rb:  Handle open() calls in binary mode whenever we can to\n\t  workaround a Windows issue where line-ending translation can cause an\n\t  off-by-one error in seeking back to a non-zero starting position after\n\t  auto-discovery for :row_sep as suggested by Robert Battle.\n\t* lib/csv/csv.rb:  Improved the parser to fail faster when fed some forms\n\t  of invalid CSV that can be detected without reading ahead.\n\t* lib/csv/csv.rb:  Added a :field_size_limit option to control CSV's\n\t  lookahead and prevent the parser from biting off more data than\n\t  it can chew.\n\t* lib/csv/csv.rb:  Added readers for CSV attributes:  col_sep(), row_sep(),\n\t  quote_char(), field_size_limit(), converters(), unconverted_fields?(),\n\t  headers(), return_headers?(), write_headers?(), header_converters(),\n\t  skip_blanks?(), and force_quotes?().\n\t* lib/csv/csv.rb:  Cleaned up code syntax to be more inline with\n\t  Ruby 1.9 than 1.8.\n\nSun Sep 21 07:43:16 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: an instance method image has been removed and\n\t  uses \"imag\" instead of \"image\".\n\n\t* complex.c: two instance method re and im are removed.\n\n\t* rational.c: follows the above changes.\n\n\t* include/ruby/ruby.h: ditto.\n\n\t* gc.c: ditto.\n\n\t* lib/cmath.rb: ditto.\n\n\t* lib/mathn.rb: ditto.\n\n\t* lib/complex.rb: ditto. and provides some obsolete methods.\n\nSun Sep 21 02:48:45 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/ext/parser/parse.c: use ruby_xfree().\n\n\t* ext/json/ext/parser/parse.rl: ditto.\n\n\t* ext/json/ext/parser/unicode.c: ditto.\n\nSun Sep 21 02:40:20 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json: import JSON v 1.1.3.\n\nSat Sep 20 11:43:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/optparse.rb (summarize): separator \"\" should output new line.\n\nSat Sep 20 08:07:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* parse.y: strings which contain only US-ASCII don't force to have\n\t  US-ASCII encoding. [ruby-dev:36400]\n\nSat Sep 20 07:59:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_reg_desc): Regexps of ASCII Compatible encoding may\n\t  contain non-ASCII characters. So in that case its encoding\n\t  must keep original encoding.\n\nSat Sep 20 07:44:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: prec.c is removed.\n\nFri Sep 19 22:37:25 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: uses f_(in)?exact_p macro.\n\n\t* rational.c: ditto.\n\n\t* bignum.c (rb_big_pow): bignum**bignum - should calculate without\n\t  rational.\n\n\t* lib/complex.rb: should override Math module at most once.\n\n\t* lib/mathn.rb: requires 'cmath' directly.\n\nFri Sep 19 20:48:06 2008  Yuki Sonoda  <yugui@yugui.jp>\n\n\t* prec.c: removed. Precision will be redesigned and be back again.\n\t  c.f. [ruby-dev:36352].\n\n\t* common.mk (COMMON_OBJS): removed prec.o.\n\n\t* inits.c (rb_call_inits): removed Init_Precision.\n\n\t* numeric.c (Init_Numeric): removed inclusion of Precision.\n\t  removed #induced_from from each class.\n\n\t* rational.c: ditto.\n\n\t* ext/bigdecimal/bigdecimal.c: ditto.\n\n\t* lib/rdoc/known_classes.rb: removed the entry for Precision.\n\n\t* test/ruby/test_prec.rb: removed.\n\n\t* test/ruby/test_integer.rb: removed tests for Precision.\n\n\t* test/ruby/test_fixnum.rb: ditto.\n\n\t* test/ruby/test_float.rb: ditto.\n\n\t* test/ruby/test_rational.rb: ditto.\n\n\t* test/ruby/test_complex.rb: ditto.\n\n\t* test/bigdecimal/test_bigdecimal.rb: ditto.\n\nFri Sep 19 19:43:40 2008  Yuki Sonoda  <yugui@yugui.jp>\n\n\t* common.mk : Reverts the changeset 18994.\n\t  Uses the official repository of rubyspec again.\n\nFri Sep 19 17:41:56 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: applied OS/2 support patch from Brendan Oakley\n\t  <gentux2 at gmail.com> in [ruby-core:18707].\n\nFri Sep 19 09:29:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dln.c: newer BeOS support.  a patch from Pete Goodeve\n\t  <pete.goodeve at computer.org> in [ruby-core:18712].\n\nFri Sep 19 03:41:25 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: fix memory violation. mentioned by mame [ruby-dev:36373]\n\nFri Sep 19 01:07:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* regexec.c (string_cmp_ic): add text_end argument.\n\t  (slow_search): call enclen with real string end.\n\t  (map_search): add text_end argument.\n\nThu Sep 18 22:54:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/openssl/ossl_pkey_ec.c (ossl_ec_key_to_string): comment out\n\t  fragments of unused code.\n\nThu Sep 18 22:35:03 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (VpCtoV): 1E1000...000 is interpreted as\n\t  Infinity.  [ruby-dev:36159]\n\n\t* ext/bigdecimal/bigdecimal.c (VpPower): Infinity ** 1 returns\n\t  Infinity instead of NaN.  [ruby-dev:36159]\n\n\t* test/bigdecimal/test_bigdecimal.rb: add tests for above.\n\nThu Sep 18 22:20:08 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (Init_Exception): introduce EncodingError which is a\n\t  superclass for all encoding related exception classes,\n\t  e.g. Encoding::CompatibilityError.  [ruby-dev:36371]\n\n\t* transcode.c (Init_transcode): ditto.\n\nThu Sep 18 21:57:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): make ascii8bit string to be\n\t  compatible with any other encoding.\n\n\t* string.c (rb_str_cmp): use rb_str_comparable() instead of\n\t  rb_enc_compatible() since <=> is a comparison anyway.\n\nThu Sep 18 21:37:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* grapheme cluster implementation reverted.  [ruby-dev:36375]\n\nThu Sep 18 20:50:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (Rake::Application#standard_exception_handling):\n\t  replaced magic numbers for exit status.\n\nThu Sep 18 20:37:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::ParseError#set_backtrace): omits\n\t  OptionParser internal backtraces unless debug flag is set.\n\nThu Sep 18 20:02:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/uri/common.rb (unescape): skip '%' to make String#hex work\n\t  correctly.\n\nThu Sep 18 19:51:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (big2str_karatsuba): free internal buffer eagerly.\n\t  a patch from TOYOFUKU Chikanobu <nobu_toyofuku at nifty.com>\n\t  in [ruby-dev:36217].\n\n\t* bignum.c (rb_big2str0): ditto.\n\nThu Sep 18 19:43:04 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* st.c (new_size): raise RuntimeError when st_table is too big.\n\t  [ruby-dev:36354]\n\nThu Sep 18 18:23:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (enc_arg): must take pointer argument to avoid GC\n\t  problem.  StringValueCStr modifies the argument and it should be\n\t  preserved while the string StringValueCStr returns is used.\n\t  Since the string is used by caller, the modified argument should be\n\t  hold by caller.  Actually\n\t    GC.stress = true\n\t    def (o=Object.new).to_str()\n\t      \"universal\"+\"_newline\"\n\t    end\n\t    \"\\u3042\".encode(o, \"\")\n\t  causes curious warning:\n\t    rb_define_const: invalid name `' for constant\n\nThu Sep 18 17:32:44 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c: add \"Error\" suffix for Encoding exception classes.\n\t  a patch from Tadashi Saito <shiba at mail2.accsnet.ne.jp> in\n\t  [ruby-dev:36346].\n\n\t* encoding.c (Init_Encoding): rename EncodingCompatibilityError to\n\t  Encoding::CompatibilityError.  [ruby-dev:36366]\n\nThu Sep 18 17:18:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c (enc_arg): revert last change.  too early exception\n\t  raising.\n\n\t* transcode.c (enc_arg): need not to take pointer argument.\n\nSun Sep 18 02:22:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/bigdecimal/test_bigdecimal.rb: add tests to achieve over 90%\n\t  test coverage of bigdecimal.\n\nWed Sep 17 21:50:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_casecmp): don't use rb_enc_codepoint.\n\nWed Sep 17 19:55:33 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_convert): accepts complex\n\t  value (Complex(a,b) as a+bi).\n\nWed Sep 17 19:16:47 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_io.rb (TestIO#test_dup): avoid infinite loop.\n\t  [ruby-dev:36326]\n\n\t* test/ruby/test_io.rb (TestIO#test_dup): remove needless open.\n\t  [ruby-dev:35957]\n\nWed Sep 17 17:44:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_extract_modeenc): process option mode: and perm: as\n\t  well.\n\n\t* io.c (open_key_args): move mode: and perm: related code to\n\t  rb_io_extract_modeenc().\n\nWed Sep 17 13:42:59 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/html.rb (checkbox_group,radio_group): bug fix\n\t  use size instead of\tbytesize.\n\n\t* test/cgi/test_cgi_tag_helper.rb: test for checkbox_group,radio_group.\n\nWed Sep 17 06:58:31 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* numeric.c: provides predicate real? instead of scalar?.\n\n\t* complex.c: follows the above change.\n\n\t* lib/cmath.rb: ditto.\n\nWed Sep 17 01:56:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_io_m17n.rb: use __FILE__ instead of /dev/null.\n\t  [ruby-dev:36327]\n\nWed Sep 17 01:33:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): add precise_ret\n\t  argument for mbc_to_code.\n\t  (ONIGENC_MBC_TO_CODE): provide NULL for precise_ret.\n\t  (ONIGENC_MBC_PRECISE_CODEPOINT): defined.\n\n\t* include/ruby/encoding.h (rb_enc_mbc_precise_codepoint): defined.\n\n\t* regenc.h (onigenc_single_byte_mbc_to_code): precise_ret argument\n\t  added.\n\t  (onigenc_mbn_mbc_to_code): ditto.\n\n\t* regenc.c (onigenc_single_byte_mbc_to_code): precise_ret argument\n\t  added.\n\t  (onigenc_mbn_mbc_to_code): ditto.\n\n\t* string.c (count_utf8_lead_bytes_with_word): removed.\n\t  (str_utf8_nth): removed.\n\t  (str_utf8_offset): removed.\n\t  (str_strlen): UTF-8 codepoint oriented optimization removed.\n\t  (rb_str_substr): ditto.\n\t  (enc_succ_char): use rb_enc_mbc_precise_codepoint.\n\t  (enc_pred_char): ditto.\n\t  (rb_str_succ): ditto.\n\n\t* encoding.c (rb_enc_ascget): check length with\n\t  rb_enc_mbc_precise_codepoint.\n\t  (rb_enc_codepoint): use rb_enc_mbc_precise_codepoint.\n\n\t* regexec.c (string_cmp_ic): add text_end argument.\n\t  (match_at): check end of character after exact string matches.\n\n\t* enc/utf_8.c (grapheme_table): defined for extended grapheme cluster\n\t  boundary.\n\t  (grapheme_cmp): defined.\n\t  (get_grapheme_properties): defined.\n\t  (grapheme_boundary_p): defined.\n\t  (MAX_BYTES_LENGTH): defined.\n\t  (comb_char_enc_len): defined.\n\t  (mbc_to_code0): extracted from mbc_to_code.\n\t  (mbc_to_code): use mbc_to_code0.\n\t  (left_adjust_combchar_head): defined.\n\t  (utf_8): use a extended grapheme cluster as a unit.\n\n\t* enc/unicode.c (onigenc_unicode_mbc_case_fold): use\n\t  ONIGENC_MBC_PRECISE_CODEPOINT to extract codepoints.\n\t  (onigenc_unicode_get_case_fold_codes_by_str): ditto.\n\n\t* enc/euc_jp.c (mbc_to_code): follow mbc_to_code field change.\n\t  use onigenc_mbn_mbc_to_code.\n\n\t* enc/shift_jis.c (mbc_to_code): ditto.\n\n\t* enc/emacs_mule.c (mbc_to_code): ditto.\n\n\t* enc/gbk.c (gbk_mbc_to_code): follow mbc_to_code field and\n\t  onigenc_mbn_mbc_to_code change.\n\n\t* enc/cp949.c (cp949_mbc_to_code): ditto.\n\n\t* enc/big5.c (big5_mbc_to_code): ditto.\n\n\t* enc/euc_tw.c (euctw_mbc_to_code): ditto.\n\n\t* enc/euc_kr.c (euckr_mbc_to_code): ditto.\n\n\t* enc/gb18030.c (gb18030_mbc_to_code): ditto.\n\n\t* enc/utf_32be.c (utf32be_mbc_to_code): follow mbc_to_code field\n\t  change.\n\n\t* enc/utf_16be.c (utf16be_mbc_to_code): ditto.\n\n\t* enc/utf_32le.c (utf32le_mbc_to_code): ditto.\n\n\t* enc/utf_16le.c (utf16le_mbc_to_code): ditto.\n\nWed Sep 17 01:17:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (enc_arg): raise exception when unknown encoding is\n\t  given.\n\nTue Sep 16 22:23:24 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI#header): performance improvement.\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\n\t* test/cgi/test_cgi_header.rb: exception class fixed.\n\nTue Sep 16 22:21:33 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_concat): fix rdoc. (codepoint is integer)\n\n\t* string.c (rb_str_each_codepoint): use UINT2NUM.\n\nTue Sep 16 21:48:55 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_reg_desc): Regexp#inspect should be US-ASCII.\n\nTue Sep 16 21:33:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_crypt): orthodox crypt() sees only first two bytes\n\t  of salt.\n\nTue Sep 16 19:18:40 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_marshal_{dump,load}): preserve instance\n\t  variables.\n\n\t* rational.c (nurat_marshal_{dump,load}): ditto.\n\nTue Sep 16 18:28:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_gets_m): rdoc updated.  limit counts in bytes.\n\t  [ruby-core:18617]\n\n\t* io.c (rb_io_readlines, rb_f_gets): ditto.\n\n\t* io.c (rb_io_readbyte): rdoc updated.  [ruby-core:18617]\n\nTue Sep 16 11:55:16 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_each_codepoint): add new methods, #codepoints\n\t  and #each_codepoint.  a patch from Michael Selig\n\t  <michael.selig at fs.com.au> in [ruby-core:18532].\n\nTue Sep 16 11:24:44 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/mkconstants.rb: add new constants.  a patch from\n\t  IWAMURO Motonori <deenheart+ruby at gmail.com> in [ruby-dev:36309].\n\nTue Sep 16 09:20:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_io.rb (TestIO#test_dup): exception should be\n\t  raised from IO#dup.\n\nTue Sep 16 08:35:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_io.rb (TestIO#test_dup): this test might fail if\n\t  there are any garbage IO objects.\n\nTue Sep 16 02:02:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_buf_cat_ascii): codepoint is unsigned int.\n\n\t* string.c (rb_str_concat): ditto.\n\n\t* string.c (str_cat_char): ditto.\n\n\t* string.c (prefix_escape): ditto.\n\nTue Sep 16 01:47:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (single_byte_optimizable): make function inline.  based\n\t  on a patch from Michael Selig <michael.selig at fs.com.au> in\n\t  [ruby-core:18532].\n\n\t* string.c (str_modify_keep_cr): new function act as\n\t  rb_str_modify(), but don't clear coderange\n\n\t* string.c (rb_str_casecmp): specialized for single byte strings.\n\n\t* string.c (rb_str_splice): preserve coderange.\n\n\t* string.c (rb_str_slice_bang, rb_str_reverse_bang,\n\t  rb_str_upcase_bang, rb_str_downcase_bang, tr_trans,\n\t  rb_str_capitalize_bang, rb_str_swapcase_bang,\n\t  rb_str_delete_bang, rb_str_chop_bang, rb_str_chomp_bang,\n\t  rb_str_lstrip_bang, rb_str_rstrip_bang): ditto.\n\n\t* string.c (rb_str_clear): preset coderange.\n\n\t* string.c (rb_str_split_m): specialized for splitting with a\n\t  string.\n\nTue Sep 16 00:57:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_quote): use rb_enc_mbcput to generate ASCII\n\t  incompatible characters properly.\n\nTue Sep 16 00:51:59 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (Encoding#base_encoding): removed. [ruby-dev:36270]\n\nTue Sep 16 00:40:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (STR1_LENGTH): defined.\n\t  (makeSTR1LEN): defined.\n\n\t* tool/transcode-tblgen.rb: use makeSTR1LEN.  generate STR1 for 4 to\n\t  259 bytes.\n\n\t* transcode.c (rb_transcoding): new field: output_index.\n\t  (transcode_restartable0): use STR1_LENGTH.\n\nMon Sep 15 23:52:45 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c, include/ruby/ruby.h: rename rb_register_mark_object()\n\t  to rb_gc_register_mark_object().\n\n\t* eval.c, vm.c: initialize vm->mark_object_ary at\n\t  Init_top_self().\n\n\t* bignum.c, complex.c, encoding.c, ext/win32ole/win32ole.c,\n\t  io.c, load.c, marshal.c, rational.c, ruby.c, vm.c:\n\t  use rb_gc_register_mark_object() instead of\n\t  rb_global_variable() or rb_gc_register_address().\n\nMon Sep 15 23:37:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_opts): don't use to_sym.\n\nMon Sep 15 23:28:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_get_index): don't return -1.\n\n\t* io.c (rb_scan_open_args): call FilePathValue before encoding\n\t  conversion.\n\nMon Sep 15 22:11:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_squeeze_bang): specialized for 7bit characters in\n\t  ASCII compatible strings.\n\n\t* string.c (rb_str_count): ditto.\n\n\t* string.c (tr_trans): preserve 7bit/valid coderange flag.\n\n\t* string.c (rb_str_squeeze_bang): preserve previous coderange value.\n\n\t* string.c (rb_str_lstrip_bang): ditto.\n\n\t* string.c (rb_str_rstrip_bang): ditto.\n\n\t* encoding.c (rb_default_external_encoding): preserve\n\t  default_external_encoding in a static variable.\n\n\t* string.c (single_byte_optimizable): check coderange first, to\n\t  reduce number of calling rb_enc_from_index().\n\nMon Sep 15 20:57:00 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/matrix.rb (Matrix#eql?): fixed [ruby-dev:36298].\n\t  Reported by an anonymous user.\n\n\t* lib/matrix.rb (Vector#eql?): ditto.\n\n\t* (Matrix#compare_by_row_vectors): takes comparison\n\t  strategy as an optional parameter.\n\n\t* (Vector#compare_by): ditto.\n\nMon Sep 15 14:34:32 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (RUBY_MAX_CHAR_LEN): defined.\n\n\t* encoding.c (str_cat_char): use RUBY_MAX_CHAR_LEN.\n\nMon Sep 15 13:53:33 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): accept other than strings and\n\t  regexps. [ruby-core:18595]\n\n\t* encoding.c (rb_enc_get_index): works files and encodings.\n\nMon Sep 15 13:17:21 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_eql_p): new.\n\n\t* complex.c (nucomp_hash): should use hash values of the elements.\n\n\t* rational.c (nurat_hash): ditto.\n\n\t* hash.c (rb_any_cmp): removed an unused variable.\n\nMon Sep 15 11:11:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): resetsize_func and resetstate_func\n\t  also returns ssize_t.\n\n\t* enc/trans/iso2022.trans: follow the type change.\n\nMon Sep 15 10:28:10 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* test/matrix/test_matrix.rb (setup): typo.\n\t  (test_equality): misdefinition of the expected working.\n\t  Reported by an anonymous user.\n\t  (test_hash): added.\n\n\t* test/matrix/test_vector.rb: ditto.\n\nMon Sep 15 03:33:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h: return output functions ssize_t.\n\n\t* transcode.c (transcode_restartable0): don't need to cast the result\n\t  of output functions.\n\n\t* enc/trans/newline.trans: follow the type change.\n\n\t* enc/trans/escape.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/japanese.trans: ditto.\n\nMon Sep 15 03:04:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h: output function takes output buffer size.\n\n\t* transcode.c: give output buffer size for output functions.\n\n\t* enc/trans/newline.trans: follow the type change.\n\n\t* enc/trans/escape.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/japanese.trans: ditto.\n\nMon Sep 15 02:37:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (str_encode): returns duplicated string if nothing\n\t  changed.  [ruby-core:18578]\n\nSun Sep 14 22:09:01 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/core.rb (CGI::parse): performance improvement\n\nSun Sep 14 18:33:32 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: trivial changes.\n\nSun Sep 14 16:15:22 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/matrix.rb (Vector#eql?): typo of the method name as \"eqn?\".\n\t  (Vector#eqn?): removed. Defined by mistake.\n\t  Fixes [ruby-dev:36294]. Reported by weda <weda AT\n\t  issp.u-tokyo.ac.jp> and an anonymous user.\n\n\t* test/matrix/test_matrix.rb: added.\n\n\t* test/matrix/test_vector.rb: added.\n\nSun Sep 14 16:07:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): associates the locale encoding with $0 as\n\t  well as ARGV.\n\nSun Sep 14 13:48:03 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* object.c (Init_Object): added metameta-class initialization for\n\t  BasicObject, Object, and Module.\n\t  The metameta-classes of them are now the metaclass of Class, as the\n\t  metameta-class of Class is.\n\n\t* object.c (boot_defmetametaclass): added.\n\nSun Sep 14 10:10:43 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (f_{add,mul,sub}): omitted some shortcuts for preserving\n\t  signed zero anyway.\n\n\t* complex.c (nucomp_negate): new.\n\nSun Sep 14 04:15:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): add end argument for\n\t  left_adjust_char_head.\n\t  (ONIGENC_LEFT_ADJUST_CHAR_HEAD): add end argument.\n\t  (onigenc_get_left_adjust_char_head): ditto.\n\n\t* include/ruby/encoding.h (rb_enc_left_char_head): add end argument.\n\n\t* regenc.h (onigenc_single_byte_left_adjust_char_head): ditto.\n\n\t* regenc.c (onigenc_get_right_adjust_char_head): follow the interface\n\t  change.\n\t  (onigenc_get_right_adjust_char_head_with_prev): ditto.\n\t  (onigenc_get_prev_char_head): ditto.\n\t  (onigenc_step_back): ditto.\n\t  (onigenc_get_left_adjust_char_head): ditto.\n\t  (onigenc_single_byte_code_to_mbc): ditto.\n\n\t* re.c: ditto.\n\n\t* string.c: ditto.\n\n\t* io.c: ditto.\n\n\t* regexec.c: ditto.\n\n\t* enc/euc_jp.c: ditto.\n\n\t* enc/cp949.c: ditto.\n\n\t* enc/shift_jis.c: ditto.\n\n\t* enc/gbk.c: ditto.\n\n\t* enc/big5.c: ditto.\n\n\t* enc/euc_tw.c: ditto.\n\n\t* enc/euc_kr.c: ditto.\n\n\t* enc/emacs_mule.c: ditto.\n\n\t* enc/gb18030.c: ditto.\n\n\t* enc/utf_8.c: ditto.\n\n\t* enc/utf_16le.c: ditto.\n\n\t* enc/utf_16be.c: ditto.\n\n\t* enc/utf_32le.c: ditto.\n\n\t* enc/utf_32be.c: ditto.\n\nSun Sep 14 03:43:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (ONIGENC_STEP_BACK): add end argument.\n\t  (onigenc_step_back): ditto.\n\n\t* regenc.c (onigenc_step_back): add end argument.\n\n\t* regexec.c: follow the interface change.\n\nSun Sep 14 03:20:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (onigenc_get_prev_char_head): add end\n\t  argument.\n\n\t* include/ruby/encoding.h (rb_enc_prev_char): ditto.\n\n\t* regenc.c (onigenc_get_prev_char_head): add end argument.\n\n\t* regparse.c: follow the interface change.\n\n\t* regexec.c: ditto.\n\n\t* string.c: ditto.\n\n\t* parse.y: ditto.\n\nSun Sep 14 02:04:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h\n\t  (onigenc_get_right_adjust_char_head_with_prev): add end argument.\n\n\t* regenc.c (onigenc_get_right_adjust_char_head_with_prev): use end\n\t  argument.\n\n\t* regexec.c (forward_search_range): follow the interface change.\n\nSun Sep 14 01:38:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (onigenc_get_right_adjust_char_head): add\n\t  end argument.\n\n\t* include/ruby/encoding.h (rb_enc_right_char_head): add end argument.\n\n\t* regenc.c (onigenc_get_right_adjust_char_head): use end argument.\n\n\t* re.c (rb_reg_adjust_startpos): follow the interface change.\n\n\t* string.c (rb_str_index): ditto.\n\n\t* regexec.c (backward_search_range): ditto.\n\t  (onig_search): ditto.\n\nSun Sep 14 00:43:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/ripper/depend (ripper.o): it depends on ruby headers.\n\nSat Sep 13 19:27:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_encoding_set): don't need argc argument.\n\t  (rb_io_s_pipe): update io_encoding_set call.\n\t  (rb_io_set_encoding): ditto.\n\nSat Sep 13 18:46:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_transcoding): align state field.\n\nSat Sep 13 18:21:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (DECORATOR_P): renamed from SUPPLEMENTAL_CONVERSION.\n\nSat Sep 13 18:05:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (make_writeconv): use rb_enc_name.\n\t  (make_readconv): ditto.\n\n\t* transcode.c (rb_econv_open_opts): ditto.\n\t  (econv_args): ditto.\n\t  (decorate_convpath): ditto.\n\t  (econv_set_replacement): ditto.\n\nSat Sep 13 11:15:38 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/rexml/document.rb: fixed typo.\n\nSat Sep 13 10:53:13 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: refined.\n\n\t* rational.c: ditto.\n\nSat Sep 13 03:44:52 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_prepare_opts): raise ArgumentError if\n\t  a broken string is specified as a replacement.\n\nSat Sep 13 03:31:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* iseq.c (iseq_s_compile_file): use rb_file_open_str.\n\n\t* io.c (rb_file_open_generic): call validate_enc_binmode.\n\t  (rb_file_open_str): call FilePathValue.\n\nSat Sep 13 02:58:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (validate_enc_binmode): extracted from rb_io_extract_modeenc.\n\t  (rb_io_extract_modeenc): use validate_enc_binmode.\n\t  (io_encoding_set): call validate_enc_binmode.\n\nSat Sep 13 02:50:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_prepare_opts): initialize *opt and return 0\n\t  if opthash is nil.\n\nSat Sep 13 02:29:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans: transcoder name renamed to use underscore.\n\n\t* transcode.c: follow the renaming.\n\nSat Sep 13 02:12:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_init_by_convpath_i): new function.\n\t  (rb_econv_init_by_convpath): new function.\n\t  (econv_init): use rb_econv_init_by_convpath.\n\nSat Sep 13 01:11:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_args): take snamev_p and dnamev_p to prevent\n\t  possible GC problem.\n\nSat Sep 13 00:38:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (enc_arg): take arg as VALUE * to prevent possible GC\n\t  problem.\n\nFri Sep 12 23:19:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_add_transcoder_at): fix loop condition.\n\nFri Sep 12 22:39:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (decorator_names): extracted from rb_econv_open.\n\t  (rb_econv_open): use decorator_names.\n\t  (econv_args): extracted from econv_init.\n\t  (econv_init): use econv_args.\n\t  (decorate_convpath): new function.\n\t  (search_convpath_i): new function.\n\t  (econv_s_search_convpath): new method.\n\t  (Init_transcode): new method defined.\n\nFri Sep 12 21:55:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_t): new field: num_allocated.\n\t  (rb_econv_alloc): extracted from\n\t  rb_econv_open_by_transcoder_entries.\n\t  (rb_econv_add_transcoder_at): extracted from rb_econv_decorate_at\n\t  and generalized\n\t  (rb_econv_open_by_transcoder_entries): use rb_econv_alloc and\n\t  rb_econv_add_transcoder_at.\n\t  (rb_econv_add_converter): extracted from rb_econv_decorate_at.\n\t  (rb_econv_decorate_at): use rb_econv_add_converter.\n\n\nFri Sep 12 21:22:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_t): new field: started.\n\t  (rb_econv_open_by_transcoder_entries): initialize started field.\n\t  (rb_econv_convert): set started field.\n\t  (rb_econv_insert_output): ditto.\n\t  (rb_econv_decorate_at): check started field instead of num_finished.\n\nFri Sep 12 20:28:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* regenc.c (onigenc_single_byte_code_to_mbc): follow OnigEncoding\n\t  change.\n\nFri Sep 12 20:00:22 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* regparse.c (parse_exp): fix resource leak.\n\nFri Sep 12 01:21:22 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/syck/node.c (syck_replace_str2): fix wrong check to free ptr.\n\nThu Sep 11 20:18:24 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_err_in_callback.rb (teardown): get rid\n\t  of infinite loop.\n\nThu Sep 11 19:12:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h (OnigCodePoint): unsigned long to unsigned int.\n\n\t* include/ruby/encoding.h (rb_enc_codepoint): ditto.\n\n\t* encoding.c (rb_enc_codepoint): signed int to unsigned int.\n\n\t* encoding.c (rb_enc_ascget): ditto.\n\n\t* string.c (rb_str_casecmp): ditto.\n\n\t* string.c (enc_succ_alnum_char): ditto.\n\n\t* string.c (rb_str_inspect): ditto.\n\n\t* string.c (rb_str_upcase_bang): ditto.\n\n\t* string.c (rb_str_downcase_bang): ditto.\n\n\t* string.c (rb_str_capitalize_bang): ditto.\n\n\t* string.c (rb_str_swapcase_bang): ditto.\n\n\t* string.c (struct tr): ditto.\n\n\t* string.c (trnext): ditto.\n\n\t* string.c (tr_trans): ditto.\n\n\t* string.c (tr_setup_table): ditto.\n\n\t* string.c (tr_find): ditto.\n\n\t* string.c (rb_str_delete_bang): ditto.\n\n\t* string.c (rb_str_squeeze_bang): ditto.\n\n\t* string.c (rb_str_count): ditto.\n\n\t* string.c (rb_str_split_m): ditto.\n\n\t* string.c (rb_str_each_line): ditto.\n\n\t* string.c (rb_str_lstrip_bang): ditto.\n\n\t* string.c (rb_str_rstrip_bang): ditto.\n\n\t* string.c (rb_str_intern): ditto.\n\n\t* dir.c (char_casecmp): ditto.\n\n\t* sprintf.c (rb_str_format): ditto.\n\n\t* enc/emacs_mule.c (mbc_to_code): to be 32bit clean.\n\n\t* enc/emacs_mule.c (code_to_mbc): ditto.\n\n\t* enc/gb18030.c (mbc_to_code): ditto.\n\n\t* enc/gb18030.c (code_to_mbc): ditto.\n\nThu Sep 11 19:09:25 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/iconv/iconv.c: add attention for machine independent.\n\nThu Sep 11 15:23:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bigdivrem): adjust length for division and remainder.\n\t  a patch from TOYOFUKU Chikanobu <nobu_toyofuku at nifty.com> in\n\t  [ruby-dev:36231].\n\nThu Sep 11 02:59:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_binwrite): extracted from io_fwrite.\n\nThu Sep 11 02:25:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_encoding): new function.\n\t  (make_encobj): new function.\n\t  (econv_s_asciicompat_encoding): use make_encoding.\n\t  (rb_econv_open_exc): use SUPPLEMENTAL_CONVERSION.\n\t  (econv_convpath): use encoding object in the result.\n\nThu Sep 11 02:14:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_convpath): new method.\n\nWed Sep 10 23:00:43 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* tool/compile_prelude.rb: print \"<internal:prelude>\" instead of\n\t  \"prelude.rb\" on stack trace.  [ruby-dev:36129]\n\nWed Sep 10 21:19:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (big2str_karatsuba): remove unnecessary fixnum code.  a\n\t  patch from TOYOFUKU Chikanobu <nobu_toyofuku at nifty.com> in\n\t  [ruby-dev:36217].\n\nWed Sep 10 21:09:32 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_err_in_callback.rb: InternetExplorer should\n\t  be closed.\n\n\t* test/win32ole/err_in_callback.rb: ditto.\n\nWed Sep 10 18:25:19 2008  akira yamada  <akira@rice.p.arika.org>\n\n\t* lib/uri/common.rb (URI::Parser): new class.\n\n\t* lib/uri/mailto.rb, lib/uri/generic.rb: follow the above change.\n\n\t* test/uri/test_parser.rb: added tests for URI::Parser.\n\nWed Sep 10 10:35:32 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi/cookie.rb (CGI::Cookie#to_s): performance improvement\n\t  from http://jp.rubyist.net/magazine/?0023-Cgirb.\n\nWed Sep 10 10:12:29 2008  akira yamada  <akira@arika.org>\n\n\t* lib/sync.rb (Sync_m#sync_exclusive): fixed\n\t  typo. [ruby-dev:36233] [RubyForge#11680]\n\nWed Sep 10 01:57:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (StrSet#hash): cache hash value.\n\t  (ActionMap#hash): ditto.\n\nWed Sep 10 01:26:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (econv_after_output): renamed from\n\t  econv_output_followed_by_input.\n\t  (ECONV_AFTER_OUTPUT): renamed from ECONV_OUTPUT_FOLLOWED_BY_INPUT.\n\n\t* transcode.c: follow the renaming.\n\n\t* io.c: ditto.\n\nWed Sep 10 01:16:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (get_replacement_character): don't return ASCII\n\t  incompatible replacements.\n\t  (make_replacement): don't convert the result of\n\t  get_replacement_character.\n\nWed Sep 10 01:05:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/newline.trans (rb_universal_newline): swap src_encoding\n\t  and dst_encoding.\n\n\t* transcode.c (rb_econv_decorate_at): call get_transcoder_entry only\n\t  once.\n\t  (rb_econv_binmode): follow universal_newline change.\n\nWed Sep 10 00:01:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): rename field: writeconv_stateless to\n\t  writeconv_asciicompat.\n\n\t* io.c: follow the renaming.\n\n\t* gc.c: ditto.\n\nTue Sep  9 23:55:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fwrite): raise an error if ASCII incompatible string\n\t  written for text mode IO without encoding conversion.\n\t  (rb_io_extract_modeenc): binmode requirement changed.\n\nTue Sep  9 21:59:48 2008  Takeyuki Fujioka  <xibbar@ruby-lang.org>\n\n\t* lib/cgi*: split cgi.rb into four files. [ruby-dev:36041]\n\nTue Sep  9 21:17:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_DECORATOR_MASK): merge\n\t  ECONV_ENCODER_MASK and ECONV_DECORATOR_MASK.\n\t  (ECONV_UNIVERSAL_NEWLINE_DECORATOR): renamed from\n\t  ECONV_UNIVERSAL_NEWLINE_DECODER.\n\t  (ECONV_CRLF_NEWLINE_DECORATOR): renamed from\n\t  ECONV_CRLF_NEWLINE_ENCODER.\n\t  (ECONV_CR_NEWLINE_DECORATOR): renamed from ECONV_CR_NEWLINE_ENCODER.\n\t  (ECONV_XML_TEXT_DECORATOR): renamed from ECONV_XML_TEXT_ENCODER.\n\t  (ECONV_XML_ATTR_CONTENT_DECORATOR): renamed from\n\t  ECONV_XML_ATTR_CONTENT_ENCODER.\n\t  (ECONV_STATEFUL_DECORATOR_MASK): renamed from\n\t  ECONV_STATEFUL_ENCODER_MASK.\n\t  (ECONV_XML_ATTR_QUOTE_DECORATOR): renamed from\n\t  ECONV_XML_ATTR_CONTENT_DECORATOR.\n\n\t* io.c: follow the renaming.\n\n\t* transcode.c: ditto.\n\nTue Sep  9 20:55:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open0): make it static.\n\t  (rb_econv_open): place decorators at last.\n\nTue Sep  9 20:40:15 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/openssl/test_ssl.rb (OpenSSL#test_client_session):\n\t  Debian's openssl 0.9.8g-13 failed at assert(ssl.session_reused?),\n\t  when use default SSLContext. [ruby-dev:36167]\n\nTue Sep  9 20:34:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_t): last_trans_index removed.\n\t  (rb_econv_open_by_transcoder_entries): follow the type change.\n\t  (rb_econv_open0): ditto.\n\t  (rb_econv_decorate_at): ditto.\n\t  (rb_econv_binmode): ditto.\n\t  (rb_econv_insert_output): simplified because there are no decorators\n\t  at last.\n\nTue Sep  9 20:21:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): reverse the order of decoders.\n\nTue Sep  9 20:18:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open0): num_encoders and num_decoders removed.\n\nTue Sep  9 03:59:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (make_writeconv): useless branch removed.\n\nTue Sep  9 02:18:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_decorate_at_first): declared.\n\t  (rb_econv_decorate_at_last): declared.\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): initialize\n\t  replacement_enc.  allocate outbuf for the last transcoder.\n\t  (rb_econv_open0): extracted from rb_econv_open.\n\t  (rb_econv_open): use rb_econv_open0 and decorate the result using\n\t  rb_econv_decorate_at_first and rb_econv_decorate_at_last.\n\t  (rb_econv_decorate_at): new function.\n\t  (rb_econv_decorate_at_first): ditto.\n\t  (rb_econv_decorate_at_last): ditto.\n\t  (rb_econv_binmode): fix iteration end condition.\n\t  (econv_init): don't set source_encoding_name and\n\t  destination_encoding_name because they are set in rb_econv_open0.\n\nTue Sep  9 01:10:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): make ec a local variable.\n\nTue Sep  9 00:20:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_asciicompat_encoding): check decoder.\n\nTue Sep  9 00:00:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_t): last_error.partial_input removed.\n\nMon Sep  8 23:24:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_asciicompat_encoding): renamed\n\t  from rb_econv_stateless_encoding to apply stateless ASCII\n\t  incompatible encodings such as UTF-16BE.\n\n\t* io.c (make_writeconv): use rb_econv_asciicompat_encoding.\n\n\t* transcode_data.h (rb_transcoder_asciicompat_type_t): renamed from\n\t  rb_transcoder_stateful_type_t.\n\t  (rb_transcoder): use rb_transcoder_asciicompat_type_t.\n\n\t* transcode.c: follow the type change.\n\t  (asciicompat_encoding_i): renamed from stateless_encoding_i.\n\t  (rb_econv_asciicompat_encoding): renamed from\n\t  rb_econv_stateless_encoding.\n\t  (econv_s_asciicompat_encoding): method renamed.\n\n\t* tool/transcode-tblgen.rb: follow the type change.\n\n\t* enc/trans/utf_16_32.trans: follow the type change.\n\t  rb_from_UTF_16BE to UTF-8 is asciicompat_decoder.\n\t  rb_from_UTF_16LE to UTF-8 is asciicompat_decoder.\n\t  rb_from_UTF_32BE to UTF-8 is asciicompat_decoder.\n\t  rb_from_UTF_32LE to UTF-8 is asciicompat_decoder.\n\t  UTF-8 to rb_to_UTF_16BE is asciicompat_encoder.\n\t  UTF-8 to rb_to_UTF_16LE is asciicompat_encoder.\n\t  UTF-8 to rb_to_UTF_32BE is asciicompat_encoder.\n\t  UTF-8 to rb_to_UTF_32LE is asciicompat_encoder.\n\n\t* enc/trans/newline.trans: follow the type change.  universal newline\n\t  decoder is asciicompat_converter.\n\n\t* enc/trans/escape.trans: follow the type change.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/japanese.trans: ditto.\n\nMon Sep  8 23:05:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_insert_output): \"readagain\" part should be\n\t  after replacement.\n\nMon Sep  8 22:30:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (dir_initialize): rename option name of Dir.open\n\t  from :external_encoding to :encoding.\n\nMon Sep  8 22:16:20 2008  Takeyuki FUJIOKA  <xibbar@ruby-lang.org>\n\n\t* lib/cgi.rb : obsolete regex \"n\" option. [ruby-dev:36130]\n\nMon Sep  8 18:13:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (getppid): typo. [ruby-dev:36202]\n\n\t* process.c (get_ppid): mention the return value on Windows.\n\nMon Sep  8 18:15:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ArrayCode): less string substitutions.\n\nMon Sep  8 18:13:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* vm.c (rb_mRubyVMFrozenCore): registered for GC.\n\n\t* re.c (rb_reg_preprocess_dregexp): fix GC problem on MacOS X with\n\t  powerpc-apple-darwin8-gcc-4.0.1 (GCC) 4.0.1 (Apple Computer, Inc.\n\t  build 5367).\n\nMon Sep  8 18:09:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.h): define SIZE_MAX for VC++6/7.\n\nMon Sep  8 17:46:09 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (filetime_to_unixtime): remove unused variable.\n\t  [ruby-dev:36191]\n\nMon Sep  8 13:47:39 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_io.rb (TestIO#test_dup): add open in block.\n\t  see [ruby-dev:35957].\n\nMon Sep  8 07:09:42 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: some adjustments.\n\n\t* rational.c: ditto.\n\nMon Sep  8 06:50:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (XLDFLAGS): added --enable-auto-import for cygwin and\n\t  mingw.\n\nMon Sep  8 02:04:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_set_replacement): renamed from\n\t  rb_econv_set_replacemenet.\n\n\t* transcode.c: follow the renaming.\n\nMon Sep  8 01:10:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (transcode_tblgen): log message refined.\n\nMon Sep  8 00:58:04 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c: removed unused code.\n\nMon Sep  8 00:04:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/iso2022.trans: upcase to iso-2022-jp.\n\n\t* enc/emacs_mule.c: ditto.\n\nSun Sep  7 23:46:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/iso2022.trans: stateless-iso-2022-jp is defined to avoid\n\t  undefined conversion error between iso-2022-jp and the corresponding\n\t  stateless encoding.\n\n\t* enc/emacs_mule.c: replicate emacs-mule as stateless-iso-2022-jp.\n\nSun Sep  7 20:03:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans (hexstr): renamed from str1.\n\nSun Sep  7 19:45:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans: use transcode_tblgen.\n\n\t* tool/transcode-tblgen.rb: generate an empty line after str1.\n\nSun Sep  7 19:16:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ActionMap#str_name): new method to\n\t  generate a name base on string content.\n\t  (ActionMap#gen_str): extracted from generate_info and use str_name.\n\nSun Sep  7 18:28:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ActionMap#generate_info): use a memo to\n\t  avoid duplication for STR1.\n\nSun Sep  7 18:10:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (STR1): defined for a string up to 255 bytes.\n\t  (STR1_BYTEINDEX): defined.\n\t  (makeSTR1): defined.\n\n\t* tool/transcode-tblgen.rb: generate STR1.\n\n\t* transcode.c (transcode_restartable0): interpret STR1.\n\n\t* enc/trans/escape.trans (fun_so_escape_xml_chref): removed.  STR1 is\n\t  used instead.\n\nSun Sep  7 17:54:45 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* configure.in: Mac OS X's crypt(2) is broken with invalid salt.\n\t  [ruby-dev:35899]\n\t* string.c (rb_str_crypt): ditto.\n\nSun Sep  7 17:29:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: o4 is usable only if the first byte is\n\t  f0-f7.\n\nSun Sep  7 12:44:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (make_writeconv): choose ASCII compatible encoding as\n\t  intermediate encoding if stateful encoder exists.\n\nSun Sep  7 12:09:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_XML_ATTR_CONTENT_ENCODER): defined.\n\t  (ECONV_STATEFUL_ENCODER_MASK): defined.\n\t  (ECONV_XML_ATTR_QUOTE_ENCODER): defined.\n\t  (ECONV_XML_ATTR_ENCODER): removed.\n\n\t* enc/trans/escape.trans (rb_escape_xml_attr_content): defined.\n\t  (rb_escape_xml_attr_quote): defined.\n\t  (rb_escape_xml_attr): removed.\n\n\t* io.c (NEED_WRITECONV): writeconv is required if supplemental\n\t  converter is used.\n\t  (make_writeconv): apply stateful encoder in writeconv.\n\n\t* transcode.c: follow the constant change.\n\nSun Sep  7 07:24:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/*.el:  merged the following patches from Nathan Weizenbaum\n\t  <nex342 at gmail.com>.   [ruby-core:18424]\n\n\t* misc/ruby-mode.el: improve here-doc performance.\n\n\t* misc/ruby-mode.el: don't crash the whole mode if the Subversion\n\t  $ keyword isn't interpolated.\n\n\t* misc/ruby-mode.el: don't highlight keywords when they're the\n\t  beginning of non-keyword symbols.\n\n\t* misc/ruby-mode.el, misc/ruby-electric.el: use regexp-opt where\n\t  possible for more efficient regexps.\n\n\t* misc/*.el: untabify, for internal consistency and consistency\n\t  with standard Emacs elisp files.\n\n\t* misc/ruby-mode.el: fix a variable-name error.\n\n\t* misc/emacs-mode.el: don't set case-fold-search globally to nil;\n\t  instead just set it when we need it.\n\nSun Sep  7 06:31:51 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (file_expand_path): applied a patch from Nobuhiro Tachino\n\t  in [ruby-dev:35948].  fix #491\n\nSun Sep  7 03:37:05 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_block_optarg): allow default for block parameters as\n\t  long as the value is primary.  a patch from Eric Mahurin\n\t  <eric.mahurin at gmail.com> in [ruby-core:16880].\n\nSun Sep  7 01:07:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (yylex): \"1.upto 2 {|i| p i }\" should be syntax error.\n\t  [ruby-dev:36008]\n\n\t* test/ruby/test_parse.rb (TestParse): update a test not to use\n\t  recently fixed inconsistent syntax.\n\nSun Sep  7 00:37:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_ERROR_HANDLER_MASK): defined.\n\t  (ECONV_DECODER_MASK): defined.\n\t  (ECONV_ENCODER_MASK): defined.\n\n\t* io.c (make_writeconv): restrict ecflags for writeconv with\n\t  ECONV_ERROR_HANDLER_MASK.\n\nSat Sep  6 23:03:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_XML_TEXT_ENCODER): renamed from\n\t  ECONV_HTML_TEXT_ENCODER.\n\t  (ECONV_XML_ATTR_ENCODER): renamed from ECONV_HTML_ATTR_ENCODER.\n\n\t* enc/trans/escape.trans: follow the renaming.\n\n\t* transcode.c: ditto.\n\nSat Sep  6 21:35:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/mkconstants.rb: add some IPV6 constants. [ruby-dev:36175]\n\nSat Sep  6 20:10:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_description): show ECONV_HTML_TEXT_ENCODER and\n\t  ECONV_HTML_ATTR_ENCODER.\n\nSat Sep  6 20:06:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_binmode): check actual transcoders.\n\nSat Sep  6 19:54:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): fix last_tc.\n\nSat Sep  6 19:36:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_binmode): clear newline flags in writeconv_pre_ecflags.\n\nSat Sep  6 18:47:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (str_transcode0): check ECONV_HTML_TEXT_ENCODER and\n\t  ECONV_HTML_ATTR_ENCODER.\n\nSat Sep  6 18:38:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (allocate_converted_string): fix overflow condition.\n\nSat Sep  6 15:06:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (sym_html): new variable.\n\t  (sym_text): ditto.\n\t  (sym_attr): ditto.\n\t  (econv_opts): check :html=>:text and :html=>:attr.\n\t  (Init_transcode): initialize the above variables.\n\nSat Sep  6 14:46:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_HTML_TEXT_ENCODER): new constant.\n\t  (ECONV_HTML_ATTR_ENCODER): ditto.\n\n\t* transcode.c (rb_econv_open): check ECONV_HTML_TEXT_ENCODER and\n\t  ECONV_HTML_ATTR_ENCODER.\n\t  (Init_transcode): Encoding::Converter::HTML_TEXT_ENCODER and\n\t  Encoding::Converter::HTML_ATTR_ENCODER defined.\n\nSat Sep  6 14:15:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (struct trans_open_t): defined to pass num_additional.\n\t  (trans_open_i): use struct trans_open_t.\n\t  (rb_econv_open): ditto.\n\nSat Sep  6 13:43:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans (fun_so_escape_html_attr): fix return type.\n\nSat Sep  6 12:43:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): needless branch removed.\n\nSat Sep  6 12:38:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): test condition simplified.\n\nSat Sep  6 12:25:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (stateless_encoding_i): ignore supplemental conversions.\n\t  Encoding::Converter.stateless_encoding(\"html-attr-escaped\") should be\n\t  nil.\n\nSat Sep  6 12:19:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans (escape_html_attr_init): new function.\n\t  (fun_so_escape_html_attr): new function.\n\t  (escape_html_attr_finish): new function.\n\t  (rb_escape_html_attr): use them to quote the converted result.\n\nSat Sep  6 07:54:36 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: uses f_real_p macro.\n\nSat Sep  6 07:27:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): fail for ASCII incompatible with\n\t  newline conversion.\n\nSat Sep  6 07:24:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_extract_modeenc): raise an error for ASCII incompatible\n\t  encoding without binmode.\n\nSat Sep  6 07:12:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bigdivrem1): optimization by skipping zeros at the\n\t  tail of digits.  a patch from TOYOFUKU Chikanobu\n\t  <nobu_toyofuku at nifty.com> in [ruby-dev:36169].\n\nSat Sep  6 06:28:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/escape.trans: new file.\n\nSat Sep  6 06:23:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (StrSet.parse): accept upper case\n\t  hexadecimal digits.\n\nSat Sep  6 05:37:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (output_hex_charref): upcase hexadecimal digits.\n\nSat Sep  6 05:22:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_UNDEF_HEX_CHARREF): defined.\n\n\t* transcode.c (output_hex_charref): new function.\n\t  (rb_econv_convert): call output_hex_charref if\n\t  ECONV_UNDEF_HEX_CHARREF.\n\t  (Init_transcode): Encoding::Converter::UNDEF_HEX_CHARREF added.\n\nSat Sep  6 03:52:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_convert): use ECONV_INVALID_MASK and\n\t  ECONV_UNDEF_MASK.\n\nSat Sep  6 06:05:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/ruby.h (DBL2NUM): renamed from DOUBLE2NUM.\n\t  a patch from Tadashi Saito <shiba at mail2.accsnet.ne.jp>\n\t  in [ruby-dev:36102].\n\nSat Sep  6 04:44:06 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (Init_Proc): add '===' operator to use procs in when\n\t  clause of the case statement.  inspired by <http://www.aimred.com/news/developers/2008/08/14/unlocking_the_power_of_case_equality_proc/>.\n\nSat Sep  6 03:18:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (allocate_converted_string): add arguments for a buffer\n\t  allocated by caller.\n\t  (rb_econv_insert_output): provide caller allocated buffer to\n\t  allocate_converted_string.\n\nSat Sep  6 02:58:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (str_transcode_enc_args): local variables renamed.\n\t  (str_transcode0): ditto.\n\nSat Sep  6 02:23:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_s_stateless_encoding): new method.\n\nSat Sep  6 02:01:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (enc_arg): extracted from str_transcode_enc_args.\n\t  (str_transcode_enc_args): use enc_arg.\n\nFri Sep  5 20:27:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_modestr_fmode): renamed from\n\t  rb_io_mode_flags.\n\t  (rb_io_modestr_oflags): renamed from rb_io_mode_modenum.\n\t  (rb_io_oflags_fmode): renamed from rb_io_modenum_flags.\n\t  (rb_io_mode_flags): defined as a macro.\n\t  (rb_io_modenum_flags): ditto.\n\n\t* io.c: follow the renaming with consistency.\n\n\t* process.c (check_exec_redirect): call rb_io_modestr_oflags.\n\n\t* ext/pty/depend: pty.o depends on io.h.\n\nFri Sep  5 20:12:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/newline.trans (universal_newline_finish): new function.\n\nFri Sep  5 20:07:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_mode_modenum): moved from\n\t  include/ruby/intern.h.\n\nFri Sep  5 19:59:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (MODENUM_MAX): removed.\n\nFri Sep  5 18:37:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (copy_stream_fallback_body): use read method unless readpartial\n\t  is available.  [ruby-dev:36124]\n\nFri Sep  5 18:16:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_create): strips glibc style option before\n\t  charset mapping.  retries without options if they seemed causing\n\t  error, and warns.  [ruby-dev:36147]\n\nFri Sep  5 03:09:48 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (iseq_data_to_ary): make it static.\n\n\t* thread.c (thgroup_enclose): ditto.\n\nFri Sep  5 02:56:37 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (thread_recycle_stack_slot, thread_recycle_stack_count):\n\t  make it static.\n\nFri Sep  5 02:40:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_critical): removed.\n\nFri Sep  5 01:22:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (argf_mark): mark p->encs.ecopts.\n\nFri Sep  5 00:45:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): rename fields:\n\t  from_encoding -> src_encoding, to_encoding -> dst_encoding.\n\n\t* transcode.c: follow the renaming.\n\nFri Sep  5 00:22:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c: variables renamed for consistency.\n\nFri Sep  5 00:05:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* pack.c (encodes): make buff fixed length to avoid SEGV by\n\t  ruby -e '[\"a\"*10000000].pack(\"m1000000000\")'\n\nThu Sep  4 23:47:05 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_mode): set exception mode\n\t  correctly.  In spite of BigDecimal.mode(BigDecimal::EXCEPTION_ALL,\n\t  true), BigDecimal.new(\"NaN\") did not raise an exception previously.\n\nThu Sep  4 23:42:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_file_open_str): declared.\n\n\t* io.c (rb_file_open_str): defined.\n\n\t* ext/zlib/zlib.c (gzfile_s_open): use rb_file_open_str instead of\n\t  rb_file_open.\n\nThu Sep  4 23:18:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/newline.trans: record newline types met in universal\n\t  newline decoder.\n\nThu Sep  4 23:05:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/prime.rb (Prime::OldCompatibility#each): added compatibility to\n\t    Ruby 1.8.7.\n\t  (Prime#each): added more rdocs.\n\t  (Prime#each): remembers the last value of the given block.\n\nThu Sep  4 21:53:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_init): accept an integer as 3rd argument as well.\n\nThu Sep  4 21:46:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (sym_partial_input): new variable.\n\t  (econv_primitive_convert): accept a hash as 5th argument as well.\n\nThu Sep  4 21:04:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (sym_universal_newline_decoder): new variable.\n\t  (sym_crlf_newline_encoder): ditto.\n\t  (sym_cr_newline_encoder): ditto.\n\t  (econv_opts): check newline converter options.\n\t  (econv_init): make 3rd argument hash/nil only.\n\nThu Sep  4 21:03:28 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_dump.c: rename some debug functions.\n\nThu Sep  4 20:57:54 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_check_trap_pending): added for compatibility.\n\n\t* ext/tk/tcltklib.c, ext/tk/tkutil/tkutil.c: remove ruby/signal.h\n\t  dependency.\n\nThu Sep  4 20:30:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (PType): defined unconditionally.\n\n\t* transcode.c (PType): don't define here.\n\nThu Sep  4 20:19:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c: variables renamed for consistency.\n\nThu Sep  4 19:40:50 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (gc_profile_record_get): to static function.\n\t(gc_profile_result): ditto.\n\t(gc_profile_report): ditto.\n\nThu Sep  4 19:20:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_enc_t): rename flags to ecflags.\n\t  (rb_io_t): rename writeconv_pre_flags to writeconv_pre_ecflags.\n\t  (MakeOpenFile): follow the renaming.\n\n\t* io.c: follow the renaming.\n\nThu Sep  4 19:10:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_INVALID_IGNORE): removed because\n\t  it tend to cause security problem.  If the behaviour is really\n\t  required, ECONV_INVALID_REPLACE with empty string can be used.\n\t  For example, CVE-2006-2313, CVE-2008-1036, [ruby-core:15645],\n\t  http://unicode.org/reports/tr36/\n\t  (ECONV_UNDEF_IGNORE): ditto.\n\n\t* transcode.c (rb_econv_convert): follow the above change.\n\t  (econv_opts): ditto.\n\t  (Init_transcode): ditto.\n\nThu Sep  4 13:22:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (struct rb_vm_struct): replaced signal staff with trap\n\t  staff.\n\n\t* signal.c (signal_buff): per process resource now.\n\n\t* signal.c (trap_list): moved to VM.\n\n\t* signal.c (rb_get_next_signal): reverted.\n\n\t* signal.c (rb_trap_exit): trap_pending_list was no longer used.\n\n\t* thread.c (timer_thread_function): delivers buffered per-process\n\t  signals to each VMs.\n\n\t* vm.c (rb_vm_mark): marks trap_list.\n\nThu Sep  4 13:01:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (struct sysopen_struct, rb_sysopen_internal, rb_sysopen):\n\t  constified.\n\n\t* io.c: expanded ARGF members macros.\n\nThu Sep  4 10:43:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/transcode-tblgen.rb (citrus_decode_mapsrc): support older 1.8.\n\nThu Sep  4 10:33:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_next_argv, argf_set_encoding): copy struct wise.\n\nThu Sep  4 09:46:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_scan_open_args): follow rb_str_transcode change.\n\nThu Sep  4 08:59:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* file.c (rb_find_file): fix GC problem on Debian GNU/Linux (IA64)\n\t  with gcc (GCC) 4.1.2 20061115 (prerelease) (Debian 4.1.1-21).\n\t  There is no register/memory to contain load_path.  A register (r35)\n\t  contains &RARRAY_PTR(load_path), (char*)load_path + 32.\n\nThu Sep  4 03:10:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): new fields: encs.ecopts and\n\t  writeconv_pre_ecopts.\n\t  (MakeOpenFile): initialize them.\n\n\t* include/ruby/encoding.h (rb_str_transcode): take ecopts argument.\n\t  (rb_econv_flags): removed.\n\t  (rb_econv_prepare_opts): declared.\n\t  (rb_econv_open_opts): declared.\n\n\t* io.c (make_writeconv): use rb_econv_open_opts.\n\t  (make_readconv): ditto.\n\t  (io_fwrite): follow rb_str_transcode change.\n\t  (rb_io_extract_modeenc): use rb_econv_prepare_opts.\n\t  (rb_file_open_generic): initialize encs.ecopts.\n\t  (rb_file_open_internal): ditto.\n\t  (rb_io_reopen): ditto.\n\t  (argf_ecopts): defined.\n\t  (argf_next_argv): set encs.ecopts.\n\t  (io_encoding_set): use rb_econv_prepare_opts.\n\t  (argf_set_encoding): set argf_ecopts.\n\n\t* gc.c (gc_mark_children): mark encs.ecopts and writeconv_pre_ecopts\n\t  in T_FILE.\n\n\t* transcode.c (transcode_loop): take ecopts argument. use\n\t  rb_econv_open_opts.\n\t  (rb_econv_flags): removed.\n\t  (rb_econv_prepare_opts): defined.\n\t  (rb_econv_open_opts): defined.\n\t  (str_transcode0): take ecopts.\n\t  (str_transcode): use rb_econv_prepare_opts.\n\t  (rb_str_transcode): take ecopts.\n\t  (econv_init): accept hash argument.\n\t  (econv_insert_output): follow rb_str_transcode change.\n\nThu Sep  4 01:30:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_set_replacemenet): declared.\n\n\t* transcode.c (rb_econv_t): new fields: replacement_str,\n\t  replacement_len, replacement_enc and replacement_allocated.\n\t  (get_replacement_character): make len as size_t.\n\t  (rb_econv_open_by_transcoder_entries): initialize the new fields.\n\t  (rb_econv_close): deallocate replacement_str if it allocated.\n\t  (make_replacement): new function.\n\t  (output_replacement_character): use make_replacement.\n\t  (rb_econv_set_replacemenet): defined.\n\t  (econv_get_replacement): new method.\n\t  (econv_set_replacement): new method.\n\nThu Sep  4 01:12:03 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (filetime_to_timeval): new function, split from\n\t  gettimeofday().\n\n\t* win32/win32.c (gettimeofday): use above function.\n\n\t* win32/win32.c (filetime_to_unixtime): ditto. [ruby-dev:36135]\n\nThu Sep  4 01:00:57 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* transcode.c (transcode_restartable0): avoid VC++6's bug.\n\nThu Sep  4 00:26:27 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (make_writeconv): follow akr's previous commit.\n\nThu Sep  4 00:09:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_option_t): removed.  Since\n\t  rb_econv_option_t has only one field, int flags, rb_econv_option_t is\n\t  replaced by int.\n\n\t* include/ruby/io.h: follow the above change.\n\n\t* io.c: ditto.\n\n\t* transcode.c: ditto.\n\nThu Sep  4 00:04:59 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* win32/win32.c: fix ruby/signal.h depending codes.\n\nThu Sep  4 00:01:45 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/etc/test_etc.rb (test_getpwuid, test_getgrgid): use\n\t  Process.euid and egid instead of Etc.getlogin to identify current\n\t  user which may be different from a login one (e.g., su command).\n\nWed Sep  3 23:52:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/etc/test_etc.rb: check only typical use of\n\t  setpwent/getpwent/endpwent and setgrent/getgrent/endgrent.\n\nWed Sep  3 23:33:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_transcoding): moved from transcode_data.h.\n\t  (TRANSCODING_READBUF): ditto.\n\t  (TRANSCODING_WRITEBUF): ditto.\n\t  (TRANSCODING_STATE_EMBED_MAX): ditto.\n\t  (TRANSCODING_STATE): ditto.\n\nWed Sep  3 23:03:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): remove stateful field.\n\t  add state field.\n\t  (TRANSCODING_STATE): defined.\n\t  (rb_transcoder): add fields: state_size, state_init_func,\n\t  state_fini_func.\n\t  change rb_transcoding* argument to void*.\n\n\t* transcode.c (transcode_restartable0): use TRANSCODING_STATE for\n\t  first arguments of transcoder functions.\n\t  (rb_transcoding_open_by_transcoder): initialize state field.\n\t  (rb_transcoding_close): finalize state field.\n\n\t* tool/transcode-tblgen.rb: provide state size/init/fini.\n\n\t* enc/trans/newline.trans (universal_newline_init): defined.\n\t  (fun_so_universal_newline): take void* as a state pointer.\n\t  (rb_universal_newline): provide state size/init/fini.\n\t  (rb_crlf_newline): ditto.\n\t  (rb_cr_newline): ditto.\n\n\t* enc/trans/iso2022.trans (iso2022jp_init): defined.\n\t  (fun_si_iso2022jp_to_eucjp): take void* as a state pointer.\n\t  (fun_so_iso2022jp_to_eucjp): ditto.\n\t  (fun_so_eucjp_to_iso2022jp): ditto.\n\t  (iso2022jp_reset_sequence_size): ditto.\n\t  (finish_eucjp_to_iso2022jp): ditto.\n\t  (rb_ISO_2022_JP_to_EUC_JP): provide state size/init/fini.\n\t  (rb_EUC_JP_to_ISO_2022_JP): ditto.\n\n\t* enc/trans/utf_16_32.trans (fun_so_from_utf_16be): take void* as a\n\t  state pointer.\n\t  (fun_so_to_utf_16be): ditto.\n\t  (fun_so_from_utf_16le): ditto.\n\t  (fun_so_to_utf_16le): ditto.\n\t  (fun_so_from_utf_32be): ditto.\n\t  (fun_so_to_utf_32be): ditto.\n\t  (fun_so_from_utf_32le): ditto.\n\t  (fun_so_to_utf_32le): ditto.\n\t  (rb_from_UTF_16BE): provide state size/init/fini.\n\t  (rb_to_UTF_16BE): ditto.\n\t  (rb_from_UTF_16LE): ditto.\n\t  (rb_to_UTF_16LE): ditto.\n\t  (rb_from_UTF_32BE): ditto.\n\t  (rb_to_UTF_32BE): ditto.\n\t  (rb_from_UTF_32LE): ditto.\n\t  (rb_to_UTF_32LE): ditto.\n\n\t* enc/trans/japanese.trans (fun_so_eucjp2sjis): take void* as a state\n\t  pointer.\n\t  (fun_so_sjis2eucjp): ditto.\n\t  (rb_eucjp2sjis): provide state size/init/fini.\n\t  (rb_sjis2eucjp): provide state size/init/fini.\n\nWed Sep  3 22:31:11 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/mathn.rb (Integer): moved into prime.rb.\n\t  (Prime): ditto.\n\n\t* lib/prime.rb (Integer): moved from mathn.rb.\n\t  (Integer.each_prime): added.\n\t  (Integer#prime?): added.\n\t  (Prime): moved from mathn.rb.\n\t    Its implementation was rewritten. see [ruby-dev:35863].\n\t    And patched by Keiju ISHITSUKA <keiju@ishitsuka.com>,\n\t    see [ruby-dev:36128].\n\t  (Prime.new):                     obsolete.\n\t  (Prime.instance):                added.\n\t  (Prime.each):                    added.\n\t  (Prime.int_from_prime_division): added.\n\t  (Prime.prime_division):          added.\n\t  (Prime.prime?):                  added.\n\t    Patch by TOYOFUKU Chikanobu\n\t    <nobu_toyofuku at nifty.com> in [ruby-dev:36067].\n\t  (Prime.cache):                   removed.\n\t  (Prime.primes):                  removed.\n\t  (Prime.primes_so_far):           removed.\n\t  (Prime#int_from_prime_division): added.\n\t  (Prime#prime_division):          added.\n\t  (Prime#prime?):                  added.\n\t  (Prime#primes):                  removed.\n\t  (Prime#primes_so_far):           removed.\n\t  (Prime::PseudoPrmeGenerator):    added.\n\t  (Prime::EratosthenesGenerator):  added.\n\t  (Prime::TrialDivisionGenerator): added.\n\t  (Prime::Generator23):            added.\n\t  (Prime::TrialDivision):          added.\n\t    Extracted from the previous implementation of Prime\n\t    by Keiju ISHITSUKA.\n\t  (Prime::EratosthenesSieve):      added.\n\n\t* lib/.document (prime.rb): added\n\n\t* lib/README (prime.rb): added\n\n\t* test/test_prime.rb: added.\n\nWed Sep  3 21:49:00 2008  David A. Black  <dblack@rubypal.com>\n\n\t* lib/scanf.rb: fixed bug involving matching literal '['\n\n\t* test/scanf/test_scanf.rb: added test for scanf.rb fix\n\nWed Sep  3 21:31:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (WORDINDEX_SHIFT_BITS): defined.\n\t  (WORDINDEX2INFO): defined.\n\t  (INFO2WORDINDEX): defined.\n\n\t* tool/transcode-tblgen.rb: use WORDINDEX2INFO.\n\n\t* transcode.c: use INFO2WORDINDEX.\n\nWed Sep  3 21:19:51 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* golf_prelude.rb: suppress warnings when goruby -v.\n\nWed Sep  3 21:07:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (BL_MIN_BYTE): defined.\n\t  (BL_MAX_BYTE): defined.\n\t  (BL_OFFSET): defined.\n\t  (BL_ACTION): defined.\n\t  (transcode_restartable0): use BL_MIN_BYTE, BL_MAX_BYTE and\n\t  BL_ACTION.\n\nWed Sep  3 20:58:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (BYTE_ADDR): defined.\n\t  (WORD_ADDR): ditto.\n\t  (BL_BASE): use BYTE_ADDR and WORD_ADDR.\n\t  (BL_INFO): use WORD_ADDR.\n\nWed Sep  3 20:47:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): new field: byte_array_length and\n\t  word_array_length.\n\n\t* tool/transcode-tblgen.rb (transcode_generated_code): generate\n\t  byte_array_length and word_array_length.\n\nWed Sep  3 20:34:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ArrayCode): new class.\n\t  (ActionMap#gen_array_code): moved to ArrayCode.\n\t  (ActionMap#numelt_array_code): ditto.\n\t  (ActionMap#array_code_insert_at_last): ditto.\n\t  (TRANSCODE_GENERATED_BYTES_CODE): use ArrayCode.\n\t  (TRANSCODE_GENERATED_WORDS_CODE): ditto.\n\nWed Sep  3 20:08:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/japanese.trans: new file.\n\nWed Sep  3 20:04:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ActionMap#gen_array_code): extracted from\n\t  generate_lookup_node.\n\t  (ActionMap#numelt_array_code): ditto.\n\t  (ActionMap#array_code_insert_at_last): ditto.\n\nWed Sep  3 20:01:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (parser_encoding_name): defined.\n\t  (parser_tokadd_mbchar): show encoding in the message of\n\t  \"invalid multibyte char\" error.\n\nWed Sep  3 19:28:04 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_method_missing): C99.\n\nWed Sep  3 19:18:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_thread.rb: fix test.\n\t   [ruby-dev:35960]\n\nWed Sep  3 17:48:32 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/make_transdb.rb: check $(srcdir)/enc/trans before\n\t  enc/trans.\n\n\t* enc/trans/make_transdb.rb: keep names_t.\n\nWed Sep  3 16:54:46 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/signal.h: removed.\n\n\t* common.mk, class.c, eval.c, eval_intern.h, file.c, gc.c, hash.c,\n\t  io.c, process.c, signal.c: vm_core.h: ditto.\n\t  Some unused external global variables are also removed.\n\t (rb_prohibit_interrupt, rb_trap_immediate, rb_trap_pending,\n\t  rb_thread_critical)\n\n\t* ext/openssl/ossl_ssl.c, ext/openssl/ossl_x509store.c,\n\t  ext/readline/readline.c, ext/socket/depend,\n\t  ext/socket/socket.c: ditto.\n\nWed Sep  3 00:23:25 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm_insnhelper.c (vm_method_missing): copy arguments to allocated\n\t  memory from machine stack.  [ruby-dev:36064]\n\nTue Sep  2 22:20:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (base_element): removed.\n\t  (BYTE_LOOKUP): removed.\n\t  (BYTE_LOOKUP_BASE): don't cast.\n\t  (BYTE_LOOKUP_INFO): ditto.\n\t  (PType): unsigned int, instead of uintptr_t.\n\t  (rb_transcoding): change type of next_field, conv_tree_start and\n\t  word_array.\n\n\t* tool/transcode-tblgen.rb: generate word_array as array of unsigned\n\t  int.\n\n\t* transcode.c (transcode_restartable0): follow the above type change.\n\nTue Sep  2 21:22:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: add prefix for byte_array and word_array.\n\nTue Sep  2 20:57:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/make_transdb.rb: check foo.c only if foo.trans exists.\n\nTue Sep  2 19:19:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/make_transdb.rb: error message improved.\n\nTue Sep  2 14:05:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/trans/utf_16_32.trans (from_UTF_8): rename from to_UTF_16BE\n\t  because it was not collect.\n\nTue Sep  2 14:00:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* enc/emacs_mule.c (svn:executable): dropped executable bit.\n\n\t* enc/make_encdb.rb (svn:executable): ditto.\n\nTue Sep  2 12:58:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (COMPILERFLAG): new compiler flag to compile\n\t  enc/trans/japanese*.c.\n\nTue Sep  2 12:37:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/japanese_euc.trans: splitted from japanese.trans to avoid\n\t  compiler limitation.  reported by usa.\n\n\t* enc/trans/japanese_sjis.trans: ditto.\n\nTue Sep  2 12:31:24 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (miniruby): new target.\n\nTue Sep  2 11:47:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (struct load_arg): data is now st_table.\n\n\t* marshal.c (mark_load_arg): marks data and compat_tbl.\n\n\t* marshal.c (r_object0): no need to check if reentered.\n\n\t* marshal.c (marshal_load): make the wrapper with mark_load_arg.\n\nTue Sep  2 10:49:18 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (gettimeofday): easier calculation. use the definition\n\t  of the Gregorian calendar.\n\nTue Sep  2 10:33:12 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (distclean-golf): moved golf_prelude.c here from\n\t    distclean-local.\n\t  (GOLFPRELUDE): added.\n\t  (distclean-local): moved golf_prelude.c into distclean-golf.\n\nTue Sep  2 10:09:17 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (gettimeofday): calc tv_sec and tv_usec from system\n\t  time by myself. [ruby-dev:36084]\n\nTue Sep  2 04:00:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (o3): prevent sign extension on 64bit environment.\n\t  (o4): ditto.\n\nTue Sep  2 03:26:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: comment removed in generated code.\n\nTue Sep  2 03:16:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: define TRANSCODE_TABLE_INFO in generated\n\t  code.  use it in rb_transcoder.\n\n\t* enc/trans/newline.trans: use TRANSCODE_TABLE_INFO.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\nTue Sep  2 03:04:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: record infos and BYTE_LOOKUPs as index of\n\t  word_array to avoid relocation.\n\n\t* transcode.c (transcode_restartable0): add word_array to get infos\n\t  and BYTE_LOOKUPs.\n\n\t* transcode_data.h (BYTE_LOOKUP_INFO): change return type to\n\t  uintptr_t.\n\nTue Sep  2 02:48:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: don't need to cast offsets array.\n\nTue Sep  2 02:36:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: record offsets array as index of\n\t  byte_array to avoid relocation.\n\n\t* transcode.c (transcode_restartable0): add byte_array to get offsets\n\t  array.\n\n\t* transcode_data.h (BYTE_LOOKUP_BASE): change return type to\n\t  uintptr_t.\n\t  (rb_transcoder): add fields: byte_array, word_array and word_size.\n\n\t* enc/trans/newline.trans: follow rb_transcoder change.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\nTue Sep  2 02:05:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: make infos arrays and BYTE_LOOKUPs into\n\t  single array.\n\nTue Sep  2 01:47:44 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (clean-golf): added.\n\t  (distclean-golf): added.\n\t  (realclean-golf): added.\n\t  (clean): added clean-golf.\n\t  (distclean): added distclean-golf.\n\t  (realclean): added realclean-golf.\n\nTue Sep  2 01:31:45 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (realclean-local): added newline.c.\n\nTue Sep  2 01:19:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (BYTE_LOOKUP): change to uintptr_t array.\n\t  (BYTE_LOOKUP_BASE): follow the type change.\n\t  (BYTE_LOOKUP_INFO): ditto.\n\t  (PType): ditto.\n\t  (rb_transcoding): ditto.\n\n\t* tool/transcode-tblgen.rb: follow the type change.\n\n\t* transcode.c: ditto.\n\n\t* enc/trans/newline.trans: ditto.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\nMon Sep  1 23:32:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (BYTE_LOOKUP_BASE): abstract accessor for\n\t  BYTE_LOOKUP.\n\t  (BYTE_LOOKUP_INFO): ditto.\n\n\t* transcode.c (transcode_restartable0): use BYTE_LOOKUP_BASE and\n\t  BYTE_LOOKUP_INFO.\n\nMon Sep  1 23:14:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: gather infos arrays and BYTE_LOOKUPs.\n\nMon Sep  1 22:42:54 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* lib/mkmf.rb (distclean): added RM_RF conftest.dSYM.\n\t  Fixes distclean-ext problem on Mac OS X.\n\t  (RM_RF): added.\n\nMon Sep  1 22:37:06 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/rexml/document.rb: limit entity expansion.  Thanks, Luka\n\t  Treiber, Mitja Kolsek, and Michael Koziarski.\n\n\t* lib/rexml/entity.rb: ditto.\n\n\t* test/rexml/test_document.rb: ditto.\n\nMon Sep  1 22:20:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: make offsets arrays into single array.\n\nMon Sep  1 21:46:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: gather offsets arrays at top.\n\nMon Sep  1 21:09:04 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* ./: removed rubyspec from svn:ignore subversion property.\n\t  rubyspec directory is no longer used.\n\n\t* spec: added mspec and rubyspec to svn:ignore.\n\nMon Sep  1 19:37:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: ValidEncoding['eucJP-ms'] defined.\n\t  \"\\xA2\\xAF\".encode(\"utf-8\", \"eucJP-ms\") should raise\n\t  Encoding::ConversionUndefined, not Encoding::InvalidByteSequence.\n\nMon Sep  1 18:27:51 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (gettimeofday): shouldn't use mktime(3) because it's\n\t  buggy about handling summer time.\n\t  reported by Yoshikawa <yoshixool AT gmail.com> at [ruby-dev:36071]\n\nMon Sep  1 17:07:23 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/euc_jp.c (euc-jp-ms): euc-jp-ms is not an alias of EUC-JP\n\t  but eucJP-ms.\n\n\t* enc/trans/japanese.trans (eucJP-ms): eucJP-ms is the correct\n\t  name of the encoding in Ruby. [ruby-dev:36070]\n\nMon Sep  1 16:48:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/digest/md5/md5init.c (md5), ext/digest/rmd160/rmd160init.c\n\t  (rmd160) ext/digest/sha1/sha1init.c (sha1),\n\t  ext/digest/sha2/sha2init.c (sha256, sha384, sha512): constified.\n\nMon Sep  1 15:15:40 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.trans: fix mapping priority.\n\t  IBM extended is prior than NEC selected IBM.\n\nMon Sep  1 14:44:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* tool/transcode-tblgen.rb (transcode_compile_tree): use the first\n\t  mapping when some mappings are given for a character.\n\t  [ruby-dev:36068]\n\n\t* tool/transcode-tblgen.rb: expandtab.\n\nMon Sep  1 14:40:18 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* README.EXT (Appendix A): fixed the name of class\n\t  Enumerator. Enumerable::Enumerator was renamed just\n\t  Enumerator at revision 18564.\n\n\t* README.EXT (Appendix A): ditto.\n\nMon Sep  1 14:37:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* tool/transcode-tblgen.rb: set ERB source filename for error message.\n\nMon Sep  1 14:37:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend: transdb.c may not present.\n\nMon Sep  1 14:25:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.trans: fix Ruby 1.8 compatibility.\n\n\t* enc/trans/japanese.trans: fix mapping priority. [ruby-dev:36068]\n\nMon Sep  1 14:24:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/test_transcode.rb (test_windows_31j): added.\n\nMon Sep  1 14:00:04 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* README.EXT (Data-types): fixed for current status.\n\t  (Manipulating Ruby data): mentioned some more functions.\n\t  (Class/module definition): ditto.\n\t  (Global variables shared between C and Ruby):\n\t    fixed prototypes for the getter/setter's of global variables.\n\t  (Appendix A): mentioned some more files.\n\n\t* README.EXT.ja: ditto.\n\nMon Sep  1 11:31:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/fileutils.rb (copy_stream, fu_copy_stream0, copy_file): use\n\t  IO.copy_stream to get rid of extraneous conversion.\n\nMon Sep  1 02:55:15 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): calc timezone offset by myself if system\n\t  doesn't provide timezone info.\n\nMon Sep  1 02:48:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: change \"illegal\" to \"invalid\".\n\nMon Sep  1 02:31:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (transcode_generated_code): defined for\n\t  generating table at once.\n\t  (transcode_tblgen): returns an empty string.\n\t  (transcode_generate_node): ditto.\n\n\t* enc/trans/newline.trans: use transcode_generated_code.\n\n\t* enc/trans/iso2022.trans: ditto.\n\n\t* enc/trans/single_byte.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\n\t* enc/trans/japanese.trans: ditto.\n\n\t* enc/trans/korean.trans: ditto.\n\nMon Sep  1 02:10:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (citrus_decode_mapsrc): print logging\n\t  message on STDERR.\n\nMon Sep  1 01:24:09 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/eucjp-tbl.rb: replace by previous Citrus maps.\n\n\t* enc/trans/sjis-tbl.rb: ditto.\n\nMon Sep  1 01:18:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* tool/transcode-tblgen.rb: add table generator from Citrus maps.\n\n\t* enc/trans/japanese.trans: use Citrus maps.\n\n\t* enc/trans/CP: add maps from Citrus.\n\n\t* enc/trans/JIS: ditto.\n\n\t* test/ruby/test_transcode.rb: Shift_JIS and EUC-JP doesn't support\n\t  IBM extended characters.\n\nMon Sep  1 00:19:45 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (docs): removed a useless make target.\n\t  tool/makedoc.rb was removed at revision 13919.\n\nSun Aug 31 20:49:42 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (numeric_abs2): new.\n\nSun Aug 31 18:22:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (have_devel?): checks if the compiler works.\n\nSun Aug 31 18:02:41 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* Temporarily uses git://github.com/yugui/rubyspec.git\n\t  until specs for 1.9 is merged into\n\t  git://github.com/rubyspec/rubyspec.git.\n\nSun Aug 31 18:06:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode.c): set source_encoding and\n\t  destination_encoding as encoding object.\n\t  (ecerr_source_encoding): new method.\n\t  (ecerr_destination_encoding): ditto.\n\nSun Aug 31 17:58:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (Logging.log_open): opens in binary mode to get rid of\n\t  extra CR.\n\n\t* lib/mkmf.rb (try_func, try_var, have_struct_member),\n\t  (scalar_ptr_type?, scalar_type?): use MAIN_DOES_NOTHING.\n\n\t* lib/mkmf.rb (MAIN_DOES_NOTHING): defaults to ordinary main.\n\n\t* win32/Makefile.sub (config): for MAIN_DOES_NOTHING for wince.\n\nSun Aug 31 17:30:35 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/README (How to run): added.\n\nSun Aug 31 17:28:25 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* spec/default.mspec (config): added.\n\n\t* spec/default.mspec (target): replaced the built ruby\n\t  to runruby.rb.\n\t  Improved $LOAD_PATH on running specs.\n\n\t* spec/default.mspec (flags): ditto.\n\nSun Aug 31 17:16:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_econv_exception): rename instance variable names\n\t  for storing encoding names.\n\t  (ecerr_source_encoding_name): method renamed.\n\t  (ecerr_destination_encoding_name): ditto.\n\nSun Aug 31 16:57:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_putback): associate encoding to the result.\n\nSun Aug 31 16:43:56 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/intern.h: rename RB_UBF_DFL to\n\t  RUBY_UBF_IO and RUBY_UBF_PROCESS.\n\t  Because there is no default (universal) unblocking function.\n\n\t* ext/socket/socket.c, file.c, io.c, process.c, thread.c: ditto.\n\nSun Aug 31 16:42:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_insert_output): raise ArgumentError on failure.\n\nSun Aug 31 16:39:17 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_thread.rb: add a test.\n\nSun Aug 31 16:34:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/single_byte.trans (us_ascii_map): don't define 8bit bytes.\n\nSun Aug 31 14:27:27 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_last_error): new method.\n\nSun Aug 31 14:17:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): make two arguments,\n\t  destination_byteoffset and destination_bytesize, optional.\n\nSun Aug 31 14:12:06 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_econv_exception): error message simplified.\n\nSun Aug 31 13:47:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/coverage/coverage.c (rb_mCoverage): removed unneeded static variable.\n\n\t* ext/socket/socket.c (unix_recv_io): ditto.\n\n\t* ext/socket/socket.c (mConst): ditto.\n\nSun Aug 31 13:45:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspres_initialize): fix for\n\t  initialization of r18168.\n\nSun Aug 31 13:42:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/ripper/eventids2.c (ripper_init_eventids2): use rb_intern_const.\n\n\t* ext/ripper/tools/generate.rb (generate_eventids1): ditto.\n\n\t* ext/ripper/tools/generate.rb (generate_eventids2_table): ditto.\n\nSun Aug 31 12:56:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/mkcallback.rb (rb_dl_init_callbacks): fix indent.\n\nSun Aug 31 11:39:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/strscan/strscan.c (strscan_do_scan): fix usecnt decrement.\n\nSun Aug 31 04:38:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_putback): make max argument optional.\n\nSun Aug 31 04:35:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_putback): putback from last byte.\n\nSun Aug 31 04:27:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_putback): renamed from econv_primitive_putback.\n\nSun Aug 31 04:22:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_insert_output): renamed from\n\t  econv_primitive_insert_output.\n\nSun Aug 31 04:20:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_econv.rb: follow econv_primitive_errinfo change.\n\nSun Aug 31 03:44:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_errinfo): 5th element (partial_input)\n\t  removed from result.\n\nSun Aug 31 01:53:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/mkcallback.rb: split callback.h to callback-[0-9].c to reduce\n\t  memory consumption on compilation.  [ruby-dev:31898]\n\n\t* ext/dl/depend: add dependency for callback-[0-9].[co].\n\nSun Aug 31 01:27:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/mkcallback.rb (foreach_proc_entry): extracted.\n\t  (gencallback): ditto.\n\t  (gen_push_proc_ary): ditto.\n\t  (gen_push_addr_ary): ditto.\n\nSat Aug 30 23:51:01 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_tuplebag.rb (test_has_expires_eh): fix failures\n\t  [ruby-dev:35937].\n\nSat Aug 30 23:38:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/test/test_import.rb: fix character code.\n\n\t* ext/dl/test/test_func.rb: ditto.\n\nSat Aug 30 22:23:31 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c: added a static variable for nurat_to_f.\n\nSat Aug 30 20:05:41 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_open, rb_w32_read, rb_w32_write): fallback to\n\t  MSVCRT if text mode is specified. this case will not be used from\n\t  ruby itself.\n\nSat Aug 30 19:49:38 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_read): EOF is not error.\n\t  ref [ruby-dev:36050]\n\nSat Aug 30 18:17:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (struct token_info): constified.\n\n\t* parse.y (token_info_get_column, token_info_has_nonspaces),\n\t  (token_info_push, token_info_pop): constified.\n\nSat Aug 30 15:43:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/openssl/ossl_config.c (Init_ossl_config): memory leak fixed.\n\t  a patch <shinichiro.hamaji at gmail.com> in [ruby-dev:35880].\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_set_value): ditto.\n\n\t* ext/strscan/strscan.c (strscan_do_scan): ditto.\n\nSat Aug 30 14:58:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_initialize): fix for\n\t  initialization of r18168.\n\nSat Aug 30 14:47:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/mkcallback.rb: fix continuation line detection.\n\nSat Aug 30 14:39:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/dl/mkcallback.rb (rb_dl_init_callbacks): avoid GC problem which\n\t  is caused by 'GC.stress=true; require \"dl\"'.\n\nSat Aug 30 11:54:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (token_info_push): -w warns indentation level mismatch.\n\t  based on a patch from Yukina Yamano presented at RubyKaigi'07.\n\t  See <http://jp.rubyist.net/RubyKaigi2007/Log0609-LT06.html> and\n\t  <http://www.logic-junction.com/products/rubyend.html> (Japanese).\n\nSat Aug 30 10:46:44 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/iconv/iconv.c: remove include pragma for \"ruby/intern.h\".\n\nSat Aug 30 10:43:03 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: remove include pragma for \"ruby/intern.h\".\n\nSat Aug 30 10:41:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (Rake::Application#help): fix for OPTIONAL_ARGUMENT and\n\t  multiple short options.  [ruby-dev:36051]\n\nSat Aug 30 08:59:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_file_s_absolute_path),\n\t  (rb_file_absolute_path): prototyped.\n\nSat Aug 30 08:09:36 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_compatible_p): use TYPE not BUILTIN_TYPE.\n\t  [ruby-dev:36048]\n\nSat Aug 30 07:48:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_compatible_p): add SPECIAL_CONST_P check.\n\t  [ruby-dev:36048]\n\n\t* test/ruby/test_m17n.rb (test_compatible): fix test.\n\nSat Aug 30 02:48:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_freeze): update rdoc to mention RuntimeError\n\t  (not TypeError any longer) would be raised.  [ruby-dev:35982]\n\nSat Aug 30 01:55:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bigdivmod): remove redundant code.  a patch from\n\t  TOYOFUKU Chikanobu <nobu_toyofuku at nifty.com> in [ruby-dev:36044].\n\nSat Aug 30 01:37:20 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI#initialize): remove unused constants.  a patch\n\t  from Takeyuki Fujioka in [ruby-dev:36046].\n\nFri Aug 29 22:29:41 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c ({nucomp,numeric}_rect): new.\n\n\t* complex.c: added some aliases\n\t  (::rectangular, ::rect, #rectangular, #rect, #phase,\n\t  #magnitude).\n\n\t* complex.c (string_to_c_internal): should not strip any null\n\t  bytes.\n\n\t* rational.c (string_to_r_internal): ditto.\n\n\t* rational.c (i_gcd): reverted to nurat 0.0.2's one.\n\n\t* numeric.c: added an alias (#magnitude).\n\n\t* bignum.c: ditto.\n\n\t* test/ruby/test_complex.rb: added assertions.\n\n\t* test/ruby/test_rational.rb: ditto.\n\nFri Aug 29 19:46:02 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c, include/ruby/ruby.h: rename T_DEFERRED to T_ZOMBIE.\n\nFri Aug 29 18:22:27 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_compatible_p): raise TypeError when argument is not\n\t  String nor Regexp.\n\nFri Aug 29 18:20:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_index_m): only regexp uses byte offset.\n\n\t* string.c (rb_str_rindex_m): ditto.\n\nFri Aug 29 16:48:34 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_call_method): copy arguments to allocated\n\t  memory from machine stack.  [ruby-dev:36028]\n\n\t* KNOWNBUGS.rb, bootstraptest/test_method.rb: move fixed test.\n\nFri Aug 29 12:19:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_x509attr.c (ossl_x509attr_initialize): fix for\n\t  initialization of r18168.\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspreq_initialize): ditto.\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_initialize): ditto.\n\nFri Aug 29 11:04:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): ASCII compatible string and US-ASCII\n\t  regexp is compatible. [ruby-dev:36033]\n\n\t* string.c (rb_str_index_m): second argument is position of character.\n\t  by usa. [ruby-dev:36033]\n\n\t* string.c (rb_str_rindex_m): ditto.\n\nFri Aug 29 04:47:49 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_read, rb_w32_write): more accurate handling\n\t  of wait result.\n\nFri Aug 29 02:59:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_finish): new method.\n\nFri Aug 29 02:45:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_convert): new method.\n\nFri Aug 29 02:38:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): accept nil as\n\t  destination_bytesize for unlimited destination size.\n\nFri Aug 29 02:11:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): accept nil as input for empty\n\t  input.\n\nFri Aug 29 02:03:56 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): supported %s and %P.\n\n\t* time.c (time_strftime): ditto.\n\n\t* test/ruby/test_time.rb (test_strftime): ditto.\n\nFri Aug 29 01:57:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (sym_invalid_byte_sequence): new variable.\n\t  (sym_undefined_conversion): ditto.\n\t  (sym_destination_buffer_full): ditto.\n\t  (sym_source_buffer_empty): ditto.\n\t  (sym_finished): ditto.\n\t  (sym_output_followed_by_input): ditto.\n\t  (sym_incomplete_input): ditto.\n\t  (econv_result_to_symbol): use above variables.\n\t  (Init_transcode): initialize above variables.\n\nFri Aug 29 00:53:40 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): fixed a bug of padding.\n\n\t* test/ruby/test_time.rb: ditto.\n\nFri Aug 29 00:19:54 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (set_pioinfo_extra): use MSVCRT's open() and close().\n\nFri Aug 29 00:03:13 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* file.c (file_expand_path): check invalid access.\n\nThu Aug 28 23:55:50 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): Time.mktime(2000).strftime(\"%-S\") should\n\t  return \"0\", not \"\".\n\n\t* test/ruby/test_time.rb: ditto.\n\nThu Aug 28 23:55:22 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_time.rb: suppress warning during test.\n\nThu Aug 28 23:50:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_time.rb (test_strftime): make test for %a independent\n\t  from local timezone.  [ruby-dev:35992]\n\nThu Aug 28 23:39:49 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (rb_str_shared_replace): remove corrupt noembed string\n\t  which causes SEGV.  [ruby-dev:35989]\n\nThu Aug 28 23:36:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk: dependency updated.\n\nThu Aug 28 23:28:57 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* KNOWNBUGS.rb: add a test.  see [ruby-dev:36028]\n\nThu Aug 28 21:43:05 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c, include/ruby/win32.h (rb_w32_open): overlapped file\n\t  I/O support.\n\n\t* win32/win32.c, include/ruby/win32.h (rb_w32_pipe): overlapped pipe\n\t  I/O support.\n\n\t* win32/win32.c (rb_w32_read, rb_w32_write): overlapped I/O support to\n\t  enable canceling I/O.\n\n\t* thread_win32.c (ubf_handle): remove workaround.\n\nThu Aug 28 20:22:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_yield_setup_args): object with to_ary should\n\t  behave like array.  a patch from Yusuke Endoh  <mame at tsg.ne.jp>\n\t  in [ruby-dev:35988].  [ruby-dev:35977]\n\n\t* object.c (convert_type): call less rb_intern() less frequently\n\t  by using cache structure.\n\n\t* vm_method.c (rb_method_node): fail earlier if no method found.\n\nThu Aug 28 19:04:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bootstraptest/test_io.rb: no need to create real file.\n\nThu Aug 28 09:26:53 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_multipart.rb: add test for multipart.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:36014]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nThu Aug 28 09:22:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_modruby.rb: add test for mod_ruby adaptor.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:36013]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nThu Aug 28 09:17:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_header.rb: add test for CGI::Header.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:36010] [ruby-dev:36011]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nThu Aug 28 02:16:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): refcnt field removed.\n\t  (MakeOpenFile): refcnt initialization removed.\n\n\t* io.c (rb_io_fptr_finalize): don't check refcnt.\n\t  (rb_io_close_read): don't use refcnt.\n\nThu Aug 28 00:07:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_initialize): don't accept IO object.  [ruby-dev:35895]\n\nWed Aug 27 23:28:51 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_invoke): WIN32OLE#[] and WIN32OLE#[]=\n\t  accepts number argument.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nWed Aug 27 14:45:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_core.rb: add core test.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:36001] [ruby-dev:36002]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nWed Aug 27 10:34:42 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie): remove delegate.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:35995]\n\n\t* test/cgi/test_cgi_cookie.rb: added for above.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:35996]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nWed Aug 27 01:13:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_loop): simplified.\n\nWed Aug 27 01:03:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_result_t): enumeration constant:\n\t  econv_incomplete_input.\n\n\t* io.c (finish_writeconv): check econv_incomplete_input.\n\n\t* transcode.c (transcode_restartable0): return econv_incomplete_input\n\t  for unexpected end of source buffer.\n\t  (trans_sweep): check econv_incomplete_input.\n\t  (rb_trans_conv): ditto.\n\t  (rb_econv_convert0): ditto.\n\t  (rb_econv_convert): ditto.\n\t  (transcode_loop): ditto.\n\t  (make_econv_exception): change message for econv_incomplete_input.\n\t  (econv_result_to_symbol): return :incomplete_input for\n\t  econv_incomplete_input.\n\t  (ecerr_incomplete_input): new method.\n\nWed Aug 27 00:05:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): rename crbuf to cbuf.\n\n\t* io.c: follow the renaming.\n\nTue Aug 26 23:52:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_elem_t): move to transcode.c\n\t  (rb_econv_t): defined as an incomplete type.\n\n\t* transcode.c (rb_econv_elem_t): moved from encoding.h.\n\t  (rb_econv_t): complete type defined.\n\nTue Aug 26 22:44:12 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* time.c (time_asctime): workaround for MSVCRT's bug.\n\t  based on a patch from wanabe <s.wanabe AT gmail.com> at\n\t  [ruby-dev:35831] and a suggestion by KIMURA Koichi\n\t  <kbk AT kt.rim.or.jp> at [ruby-dev:35832]\n\t  fixed [ruby-dev:35555]\n\nTue Aug 26 21:53:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): disable newline conversion for ASCII\n\t  incompatible encodings.\n\t  (str_transcode0): don't need disable newline conversion here.\n\nTue Aug 26 21:44:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_binmode): binmode is effective only once.\n\nTue Aug 26 19:43:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_s_expand_path): new class method for class File.\n\n\t* file.c (file_expand_path): add absolute_path handling (no ~user\n\t  expansion).  [ruby-core:18319]\n\nTue Aug 26 19:27:54 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/ruby/test_enum.rb (TestEnumerable#test_each_with_object):\n\t  Add a test for Enumerable#each_with_object.\n\nTue Aug 26 19:25:44 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/ruby/test_enumerator.rb (TestEnumerator#test_with_object):\n\t  Add (back) the test for Enumerator#with_object.\n\nTue Aug 26 16:16:43 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_tag_helper.rb: add more tests for html3.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:35975]\n\t  From CGIAlt http://cgialt.rubyforge.org/\n\nTue Aug 26 14:43:10 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c: Activate Enumerator#with_object and add\n\t  Enumerable#each_with_object. [experimental]\n\nTue Aug 26 14:38:32 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_initialize),\n\t  test/ruby/test_enumerator.rb: Add an ability to generate an\n\t  enumerator from a block. [experimental] [ruby-dev:35903]\n\nTue Aug 26 13:25:25 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: added test_euc_jp\n\t  (contributed by Yoshihiro Kambayashi)\n\nTue Aug 26 11:54:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/cgi/test_cgi_tag_helper.rb: added by Takeyuki Fujioka.\n\t  [ruby-dev:35971]\n\nTue Aug 26 11:33:30 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/cgi.rb (nOE_element_def): fix error when cascade methods which\n\t  don't have arguments. Patch by Takeyuki Fujioka. [ruby-dev:35964]\n\n\t* lib/cgi.rb (blockquote): String#collect (this depends on\n\t  String#each) is no longer exists.\n\t  Patch by Takeyuki Fujioka. [ruby-dev:35946]\n\n\t* lib/cgi.rb (blockquote): ditto.\n\nTue Aug 26 03:06:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (make_writeconv): copy invalid/undef flags.\n\nTue Aug 26 02:47:08 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* common.mk (dist): tool/make-snapshot is executable.\n\n\t* tool/make-snapshot (package): supported release numbers 1.9.0-x.\n\nTue Aug 26 02:43:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): new field: writeconv_pre_opts.\n\n\t* io.c (make_writeconv): initialize writeconv_pre_opts.\n\t  (io_fwrite): use writeconv_pre_opts.\n\nTue Aug 26 01:48:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c: test _WIN32 for CRLF platform.  (cygwin defines O_BINARY.)\n\nTue Aug 26 01:29:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c: force CRLF handling if RUBY_TEST_CRLF_ENVIRONMENT is defined.\n\t  This is only for testing.\n\nTue Aug 26 01:26:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (str_transcode0): disable newline conversion for ASCII\n\t  incompatible encoding.\n\nTue Aug 26 00:55:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (str_transcode0): don't short cut for newline conversion.\n\nTue Aug 26 00:36:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fwrite): add TEXTMODE_NEWLINE_ENCODER to option for\n\t  rb_str_transcode.\n\nTue Aug 26 00:24:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_econv_exception): show readagain part for invalid\n\t  byte sequence exception.  store the part as an instance variable.\n\t  (ecerr_readagain_bytes): new method to access the readagain part.\n\nTue Aug 26 00:02:49 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (VpMult): fix double free.\n\nMon Aug 25 23:59:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): make last_tc NULL if there are only\n\t  additional transcoders.\n\t  (econv_description): extracted from rb_econv_open_exc.\n\t  (rb_econv_open_exc): use econv_description.\n\t  (econv_inspect): use econv_description.\n\nMon Aug 25 23:56:42 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32.c (init_stdhandle): set binmode.\n\nMon Aug 25 23:38:17 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb(strftime): %[LN] can print with given\n\t  arbitrary precision.\n\n\t* lib/date/format.rb(strftime): optional flags and filed width\n\t  should also affect %[nt].\n\nMon Aug 25 23:01:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): default defined? should return\n\t  \"expression\" without evaluating the expression.  [ruby-dev:35967]\n\nMon Aug 25 22:46:01 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_thread.rb (test_status_and_stop_p): reduce the risk\n\t  of race condition.\n\nMon Aug 25 22:39:57 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/irb/extend-command.rb (def_extend_command): check number of\n\t  arguments.  [ruby-dev:35074]\n\n\t* lib/irb/ext/multi-irb.rb (search): check if a corresponding job is\n\t  found.  [ruby-dev:35074]\n\nMon Aug 25 22:29:13 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_io.rb (test_dup): fix typo.  see [ruby-dev:35958]\n\nMon Aug 25 22:02:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): initialize\n\t  last_error.  num_trans may be zero.\n\t  (rb_econv_convert0): num_trans may be zero.\n\t  (rb_econv_putbackable): ditto.\n\t  (rb_econv_putback): ditto.\n\t  (rb_econv_convert): input_ptr and output_ptr may be NULL.\n\nMon Aug 25 19:05:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): should handle NODE_{AND,OR} as\n\t  \"expression\".  [ruby-dev:35951]\n\nMon Aug 25 17:36:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_io_ungetbyte): added prototype.\n\n\t* io.c (rb_io_gets): use rb_io_getline_1 for unget buffer.\n\n\t* ruby.c (load_file): use rb_io_ungetbyte.\n\n\t* transcode.c (rb_econv_substr_append): fix for buffer overrun.\n\n\t* win32/enc-setup.mak (BUILTIN_TRANSOBJS): added.\n\nMon Aug 25 14:22:21 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* parse.y (YYSTYPE): struct RVarmap has been no longer\n\t  defined.\n\t  see also r11717 by matz.\n\nMon Aug 25 10:42:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (rb_econv_open_exc): constified.\n\nMon Aug 25 07:10:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/emacs_mule.c: fix ctype.\n\nMon Aug 25 00:52:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (BUILTIN_TRANSSRCS): defined.\n\t  (BUILTIN_TRANSOBJS): defined.\n\n\t* enc/Makefile.in (BUILTIN_TRANSES): defined.\n\n\t* enc/make_encmake.rb (BUILTIN_TRANSES): defined.\n\n\t* enc/depend: don't generate rules for builtin transcoders.\n\n\t* common.mk (COMMONOBJS): add BUILTIN_TRANSOBJS.\n\t  (enc.mk): pass BUILTIN_TRANSOBJS.\n\t  (newline.c): new rule.\n\t  (newline.$(OBJEXT)): new rule.\n\t  (srcs): newline.c added.\n\n\t* Makefile.in (BUILTIN_TRANSSRCS): defined.\n\t  (BUILTIN_TRANSOBJS): defined.\n\n\t* transcode.c (Init_transcode): call Init_newline.\n\nMon Aug 25 00:11:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (declare_transcoder): arguments order changed.\n\t  (rb_declare_transcoder): call declare_transcoder just once.\n\nSun Aug 24 19:48:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_t): use rb_econv_option_t.\n\n\t* transcode.c: follow the rb_econv_t change.\n\nSun Aug 24 19:40:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_init_copy): copy encs.\n\nSun Aug 24 19:17:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_open): add an argument: vperm.\n\t  (open_key_args): call rb_io_open with perm.\n\nSun Aug 24 19:11:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (sym_invalid): removed.\n\t  (sym_undef): removed.\n\t  (sym_ignore): removed.\n\t  (sym_replace): removed.\n\nSun Aug 24 19:07:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_reopen): initialize fptr->encs.opts.\n\nSun Aug 24 18:37:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_s_pipe): accept optional hash.\n\t  (rb_io_set_encoding): ditto.\n\t  (rb_io_extract_modeenc): use rb_econv_opts to initialize\n\t  ecopts.\n\t  (rb_file_open_generic): ditto.\n\t  (rb_file_open_internal): ditto.\n\t  (io_encoding_set): new argument: opt.\n\t  (argf_set_encoding): copy fptr->encs.opts to argf_ecopts.\n\n\t* transcode.c (rb_econv_opts): accept Qnil for initialization.\n\nSun Aug 24 18:10:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_enc_t): add opts field.\n\t  (FMODE_INVALID_MASK): removed.\n\t  (FMODE_INVALID_IGNORE): ditto.\n\t  (FMODE_INVALID_REPLACE): ditto.\n\t  (FMODE_UNDEF_MASK): ditto.\n\t  (FMODE_UNDEF_IGNORE): ditto.\n\t  (FMODE_UNDEF_REPLACE): ditto.\n\t  (MakeOpenFile): initialize the opts field.\n\n\t* io.c (make_writeconv): use the opts field.\n\t  (io_fwrite): ditto.\n\t  (make_readconv): ditto.\n\t  (argf_ecopts): new macro.\n\t  (rb_io_extract_modeenc): fill the opts field.\n\t  (argf_next_argv): ditto.\n\t  (rb_file_open_generic): initialize the opts field.\n\t  (rb_file_open_internal): ditto.\n\t  (io_encoding_set): ditto.\n\t  (argf_set_encoding): ditto.\n\nSun Aug 24 18:02:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (struct argf): use struct rb_io_enc_t.\n\t  (argf_enc): follow the struct argf change.\n\t  (argf_enc2): ditto.\n\nSun Aug 24 17:36:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_str_transcode): make 3rd argument\n\t  rb_econv_option_t*.\n\n\t* transcode.c (transcode_loop): take rb_econv_option_t* as a argument.\n\t  (str_transcode0): ditto.\n\t  (str_transcode): make rb_econv_option_t and call str_transcode0 with\n\t  it.\n\t  (rb_str_transcode): take rb_econv_option_t*.\n\n\t* io.c (io_fwrite): follow the rb_str_transcode change.\n\nSun Aug 24 16:47:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): make enc and enc2 as struct\n\t  rb_io_enc_t;\n\n\t* io.c: follow the structure change.\n\t  (convconfig_t): defined by rb_io_enc_t.\n\nSun Aug 24 16:19:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_opts): declared.\n\n\t* transcode.c (rb_econv_opts): defined.\n\n\t* io.c (rb_io_extract_modeenc): use rb_econv_opts.\n\nSun Aug 24 16:06:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_option_t): defined.\n\t  (rb_econv_open): 3rd arg changed.\n\t  (rb_econv_open_exc): ditto.\n\n\t* io.c (make_writeconv): use rb_econv_option_t.\n\t  (make_readconv): ditto.\n\t  (rb_econv_open): take rb_econv_option_t for options.\n\t  (rb_econv_open_exc): ditto.\n\t  (transcode_loop): use rb_econv_option_t.\n\t  (econv_init): use rb_econv_option_t.\n\nSun Aug 24 15:43:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_substr_append): associate dst with destination\n\t  encoding when dst is created.\n\nSun Aug 24 15:21:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_str_transcode): add ecflags argument.\n\n\t* transcode.c (econv_opts): extracted from str_transcode.\n\t  (str_transcode_enc_args): extracted from str_transcode.\n\t  (str_transcode0): extracted from str_transcode.\n\t  (str_transcode): use econv_opts, str_transcode_enc_args,\n\t  str_transcode0.\n\t  (rb_str_transcode): call str_transcode0.\n\t  (econv_primitive_insert_output): give the additional argument for\n\t  rb_str_transcode.\n\n\t* io.c (make_writeconv): use invalid/undef flags.\n\t  (io_fwrite): ditto.\n\t  (rb_scan_open_args): give the additional argument for\n\t  rb_str_transcode.\n\nSun Aug 24 13:27:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (str_transcode): check last hash only if 0 < argc.\n\nSun Aug 24 12:22:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_substr_append): renamed from\n\t  rb_econv_string.\n\t  (rb_econv_str_convert): declared.\n\t  (rb_econv_substr_convert): declared.\n\t  (rb_econv_str_append): declared.\n\n\t* io.c (io_fwrite): use rb_econv_str_convert instead of\n\t  rb_econv_string.\n\n\t* transcode.c (rb_econv_substr_append): renamed from rb_econv_string.\n\t  (rb_econv_str_append): new function.\n\t  (rb_econv_substr_convert): ditto.\n\t  (rb_econv_str_convert): ditto.\n\nSun Aug 24 12:15:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/net/http.rb (Net::HTTP#urlencode): str[0] returns char in 1.9.\n\t  Patch by Junegunn Choi [ruby-core:18368]\n\nSun Aug 24 12:02:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): return NULL on error.\n\nSun Aug 24 11:40:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_open_exc): declared.\n\n\t* transcode.c (rb_eNoConverter): new exception.\n\t  (rb_econv_open_exc): new function.\n\t  (transcode_loop): use rb_econv_open_exc.\n\n\t* io.c (make_writeconv): use rb_econv_open_exc.\n\t  (make_readconv): ditto.\n\nSun Aug 24 11:26:54 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::unescapeHTML): consider ISO-8859-1.\n\t  [ruby-dev:35936]\n\nSun Aug 24 10:55:00 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/emacs_mule.c: support Emacs/Mule internal encoding.\n\nSun Aug 24 08:03:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* strftime.c (daylight, timezone): not provided as dllexport on cygwin,\n\t  right now.\n\nSun Aug 24 06:39:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::unescapeHTML): more encoding sensible unescaping.\n\t  [ruby-dev:35936]\n\nSun Aug 24 04:23:19 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_compatible_p): raise TypeError when argument is Encoding.\n\nSat Aug 23 23:25:47 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI#out): remove auto encoding conversion and set\n\t  LANGUAGE. [ruby-dev:35922]\n\nSat Aug 23 20:01:29 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_process.rb (TestProcess#test_rlimit_value):\n\t  add Errno::EINVAL. [ruby-dev:35900]\n\nSat Aug 23 18:29:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_scan_open_args): use pop_last_hash.\n\nSat Aug 23 16:59:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_INVALID_MASK): defined.\n\t  (FMODE_INVALID_IGNORE): defined.\n\t  (FMODE_INVALID_REPLACE): defined.\n\t  (FMODE_UNDEF_MASK): defined.\n\t  (FMODE_UNDEF_IGNORE): defined.\n\t  (FMODE_UNDEF_REPLACE): defined.\n\n\t* io.c (sym_invalid): defined.\n\t  (sym_undef): defined.\n\t  (sym_ignore): defined.\n\t  (sym_replace): defined.\n\t  (make_readconv): specify ECONV_INVALID_* and ECONV_UNDEF_* if\n\t  FMODE_INVALID_* and FMODE_UNDEF_* is set.\n\t  (rb_io_extract_modeenc): check {:invalid, :undef} => {:replace,\n\t  :ignore} for FMODE_INVALID_* and FMODE_UNDEF_*.\n\nSat Aug 23 17:06:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): support more flags.\n\nSat Aug 23 15:14:10 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_opts.h: enable \"OPT_TRACE_INSTRUCTION\" on default.\n\nSat Aug 23 14:59:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_INVALID_MASK): defined.\n\t  (ECONV_INVALID_IGNORE): defined.\n\t  (ECONV_INVALID_REPLACE): defined.\n\t  (ECONV_UNDEF_MASK): defined.\n\t  (ECONV_UNDEF_IGNORE): defined.\n\t  (ECONV_UNDEF_REPLACE): defined.\n\n\t* transcode.c (INVALID_IGNORE): removed.\n\t  (INVALID_REPLACE): removed.\n\t  (UNDEF_IGNORE): removed.\n\t  (UNDEF_REPLACE): removed.\n\t  (rb_econv_convert0): renamed from rb_econv_convert.\n\t  (rb_econv_convert): defined to call rb_econv_convert0 with\n\t  replace/ignore behavior moved from transcode_loop.\n\t  (transcode_loop): replace/ignore behavior removed.\n\nSat Aug 23 11:23:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_extract_modeenc): check :textmode and :binmode in option\n\t  hash.\n\nSat Aug 23 10:48:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/pty/pty.c (pty_getpty): follow rb_io_t's path -> pathv change.\n\nSat Aug 23 10:42:52 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (check_pipe_command): extracted from rb_f_open and rb_io_open.\n\t  (rb_f_open): use check_pipe_command.\n\t  (rb_io_open): ditto.\n\nSat Aug 23 10:13:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (read_all): fptr->enc2 is 0 if no conversion.\n\t  (rb_io_getline_fast): ditto.\n\t  (io_getc): ditto.\n\nSat Aug 23 09:45:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): remove path field and add pathv field.\n\t  (MakeOpenFile): initialize pathv as Qnil.\n\n\t* gc.c: mark pathv field in T_FILE.\n\n\t* io.c: follow the rb_io_t field change.\n\n\t* file.c: ditto.\n\n\t* ext/socket/socket.c: ditto.\n\nSat Aug 23 01:42:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_TEXTMODE): defined.\n\n\t* include/ruby/encoding.h (rb_econv_t): new field: flags.\n\t  (rb_econv_binmode): declared.\n\n\t* io.c (io_unread): text mode hack removed.\n\t  (NEED_NEWLINE_DECODER): defined.\n\t  (NEED_NEWLINE_ENCODER): defined.\n\t  (NEED_READCONV): defined.\n\t  (NEED_WRITECONV): defined.\n\t  (TEXTMODE_NEWLINE_ENCODER): defined for windows.\n\t  (make_writeconv): setup converter with TEXTMODE_NEWLINE_ENCODER for\n\t  text mode.\n\t  (io_fwrite): use NEED_WRITECONV.  character code conversion is\n\t  disabled if fptr->writeconv_stateless is nil.\n\t  (make_readconv): setup converter with\n\t  ECONV_UNIVERSAL_NEWLINE_DECODER for text mode.\n\t  (read_all): use NEED_READCONV.\n\t  (appendline): use NEED_READCONV.\n\t  (rb_io_getline_1): use NEED_READCONV.\n\t  (io_getc): use NEED_READCONV.\n\t  (rb_io_ungetc): use NEED_READCONV.\n\t  (rb_io_binmode): OS-level text mode test removed.  call\n\t  rb_econv_binmode.\n\t  (rb_io_binmode_m): call rb_io_binmode_m with write_io as well.\n\t  (rb_io_flags_mode): return mode string including \"t\".\n\t  (rb_io_mode_flags): detect \"t\" for text mode.\n\t  (rb_sysopen): always specify O_BINARY.\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): initialize flags.\n\t  (rb_econv_open): if source and destination encoding is\n\t  both empty string, open newline converter.  last_tc will be NULL in\n\t  this case.\n\t  (rb_econv_encoding_to_insert_output): last_tc may be NULL now.\n\t  (rb_econv_string): ditto.\n\t  (output_replacement_character): ditto.\n\t  (transcode_loop): ditto.\n\t  (econv_init): ditto.\n\t  (econv_inspect): ditto.\n\t  (rb_econv_binmode): new function.\n\nFri Aug 22 21:18:40 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_div): now behaves as quo.\n\n\t* complex.c (nucomp_s_generic_p): has been removed.\n\n\t* complex.c (nucomp_to_s): adopts new form.\n\n\t* complex.c (nucomp_inspect): ditto.\n\n\t* complex.c (string_to_c_internal): ditto and supports polar form.\n\n\t* complex.c (rb_complex_polar): new.\n\n\t* rational.c (nurat_to_s): do not canonicalize.\n\n\t* rational.c (nurat_inspect): adopts new form.\n\n\t* rational.c (string_to_r_internal): ditto.\n\n\t* include/ruby/intern.h: added a declaration.\n\n\t* lib/complex.rb: added an obsolete class method.\n\n\t* lib/cmath.rb: use scalar? instead of generic?.\n\nFri Aug 22 20:06:46 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#shutdown):\n\t  rescue Errno::ENOTCONN and close. [ruby-dev:35896]\n\n\t* test/openssl/test_ssl.rb (OpenSSL#start_server): ditto.\n\t  [ruby-dev:35897]\n\n\t* lib/net/imap.rb (Net::IMAP#disconnect): ditto. [ruby-dev:35898]\n\nFri Aug 22 19:58:27 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: no need to require the \"lib/rational.rb\" any more.\n\nFri Aug 22 15:47:38 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/cgi.rb: use bytesize instead of size/length.\n\nFri Aug 22 14:28:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): supported flags and precision for most\n\t  conversions.  [ruby-dev:35906]\n\nFri Aug 22 14:04:04 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: test_shift_jis:\n\t  fixed comment strings (see r18291)\n\nFri Aug 22 12:41:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_pid): use PIDT2NUM.\n\nFri Aug 22 11:36:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (dir_enc_str_new): set US-ASCII to the path\n\t  when the path is 7bit string and encoding is ASCII compatible.\n\n\t* dir.c (push_glob): set file system encoding when argument encoding\n\t  is US-ASCII.\n\nFri Aug 22 11:30:38 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (dir_enc_str_new): renamed from dir_enc_str.\n\n\t* dir.c (dir_read): use dir_enc_str_new.\n\n\t* dir.c (dir_each): ditto.\n\n\t* dir.c (push_pattern): ditto.\n\nFri Aug 22 11:29:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: remove config.h dependency.\n\nFri Aug 22 10:52:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (gmtime_r): check if reentrant versions are available.\n\n\t* time.c (IF_HAVE_GMTIME_R, ASCTIME, GMTIME, LOCALTIME): use reentrant\n\t  versions if available.\n\nFri Aug 22 05:29:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (INT2NUM): just use a simple macro on LP64.\n\t  (UINT2NUM): ditto.\n\nFri Aug 22 05:10:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_file_open_generic): take filename as a VALUE.\n\t  (rb_file_open_internal): ditto.\n\t  (rb_io_open): ditto.\n\t  (rb_file_open): pass filename as a VALUE to rb_file_open_internal.\n\t  (rb_open_file): pass filename as a VALUE to rb_file_open_generic.\n\t  (open_key_args): pass filename as a VALUE to rb_io_open.\n\nFri Aug 22 04:33:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h: fix previous change for LP64.\n\nFri Aug 22 03:19:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (NUM2LONG): make it inline function to evaluate\n\t  the argument only once.\n\t  `t = Object.new; def t.*(x) p x; 0 end; p Time.at(0, t)' did print x\n\t  twice.\n\t  (NUM2INT): ditto.\n\t  (NUM2LL): ditto.\n\t  (INT2NUM): make it inline function.\n\t  (LONG2NUM): ditto.\n\t  (UINT2NUM): ditto.\n\t  (ULONG2NUM): ditto.\n\nFri Aug 22 03:03:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_s_sysopen): mode can be a Bignum.\n\nFri Aug 22 02:57:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_extract_modeenc): notify coerced to caller.\n\t  (rb_io_initialize): mode may be a Bignum.\n\nFri Aug 22 02:42:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_extract_modeenc): use rb_check_to_integer to test\n\t  integer.\n\nFri Aug 22 02:25:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* iseq.c (iseq_inspect): don't raise on uninitialized object.\n\t  show real class name.\n\nFri Aug 22 02:08:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_initialize): accept hash argument.\n\nThu Aug 21 23:51:51 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): supported %F and %<precision>N.\n\t  reverted config.h to ruby.h for Windows.\n\n\t* test/ruby/test_time.rb (TestTime::test_strftime): added tests\n\t  for %F and %N.\n\n\t* time.c: documented %F and %N.\n\nThu Aug 21 20:23:26 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_m17n_comb.rb (TestM17NComb#test_str_crypt): add\n\t  key and salt to error message.\n\nThu Aug 21 19:20:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* file.c (rb_stat_inspect): don't raise if self is not initialized.\n\nThu Aug 21 19:17:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (pst_pid): use rb_attr_get to avoid warning on\n\t  Process::Status.allocate.pid.\n\t  (pst_inspect): don't raise if self is not initialized.\n\nThu Aug 21 19:05:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_extract_encoding_option): if internal encoding is not\n\t  specified, enc is external encoding.\n\nThu Aug 21 14:22:50 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c: include ruby/config.h instead of ruby/ruby.h.\n\n\t* common.mk: removed the old rule for missing/strftime.c.\n\nThu Aug 21 09:29:01 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c (rb_strftime): return \"UTC\" instead of \"GMT\".\n\n\t* test/ruby/test_time.rb (test_strftime): ditto.\n\nThu Aug 21 07:59:04 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/iconv/test_option.rb (test_ignore_option): skip if iconv\n\t  doesn't have transliterate.\n\n\t* test/iconv/test_option.rb (test_translit_option): ditto.\n\nThu Aug 21 06:12:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/scanf.rb (Scanf::FormatSpecifier#initialize): %i should accept\n\t  single digit decimal.  [ruby-core:18355]\n\nThu Aug 21 06:02:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_initialize_copy): Range is now a Struct.\n\t  [ruby-core:18353]\n\n\t* struct.c (rb_struct_init_copy): made public.\n\nThu Aug 21 03:09:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_extract_encoding_option): enc2 is external encoding if\n\t  external encoding and internal encoding is given.\n\t  (pipe_open): add flags and convconfig argument to initialize\n\t  fptr->{mode,enc,enc2}.\n\t  (pipe_open_v): pass flags and convconfig from caller to pipe_open.\n\t  (pipe_open_s): ditto.\n\t  (pop_last_hash): new function.\n\t  (rb_io_s_popen): use last hash as option to specify code conversion.\n\t  (rb_io_open): specify flags and convconfig arguments for\n\t  pipe_open_s.\n\t  (rb_f_backquote): ditto.\n\nThu Aug 21 02:27:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (prep_io): local variable renamed.\n\t  (rb_io_fdopen): ditto.\n\t  (prep_stdio): ditto.\n\nThu Aug 21 01:58:59 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* configure.in: always check timezone().\n\n\t* strftime.c (rb_strftime): prefer timezone/altzone rather than\n\t  gettimeofday().  The second argument to gettimeofday() is ignored\n\t  on Solaris.\n\nThu Aug 21 02:03:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (open_key_args): simplified.\n\nThu Aug 21 01:57:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (open_key_args): IO.foreach(path, rs, limit) didn't work.\n\nThu Aug 21 01:31:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_file_sysopen_internal): unused function removed.\n\t  (rb_file_sysopen): ditto.\n\nThu Aug 21 01:09:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c: use mode_t for the 3rd argument, permission, of open(2).\n\nThu Aug 21 00:51:42 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* configure.in: removed strftime from AC_REPLACE_FUNCS().\n\n\t* include/ruby/missing.h: removed prototype for strftime().\n\n\t* missing/strftime.c: removed.\n\n\t* time.c (time_to_s): use rb_strftime() instead of strftime(3).\n\t  (time_zone): ditto.\n\nThu Aug 21 00:49:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* strftime.c: win32 support.\n\nThu Aug 21 00:20:05 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* strftime.c: new file.\n\n\t* common.mk (COMMONOBJS): added strftime.$(OBJEXT).\n\n\t* time.c (time_strftime): do not use strftime(3).  supported\n\t  %L(millisecond) and %N(nanosecond).\n\n\t* test/ruby/test_time.rb: added tests for %L and %N.\n\nWed Aug 20 23:53:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_set_encoding): removed.\n\t  (rb_io_open): set up encoding using new argument opt.\n\t  (open_key_args): call rb_io_open with opt.  don't call\n\t  io_set_encoding.\n\nWed Aug 20 22:30:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_file_open_internal): use rb_io_flags_modenum.\n\t  (rb_io_reopen): use rb_io_flags_modenum and rb_io_modenum_mode.\n\t  (rb_io_stdio_file): ditto.\n\nWed Aug 20 22:28:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (proc_new): use the given class.\n\n\t* vm.c (vm_make_proc): added an argument for the class.\n\nWed Aug 20 22:24:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_take): get rid of extraneous iteration.\n\nWed Aug 20 20:32:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_open_with_args): use rb_open_file instead of rb_io_open.\n\nWed Aug 20 20:16:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_scan_open_args): extracted from rb_open_file.\n\nWed Aug 20 19:22:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (convconfig_t): new type.\n\t  (rb_io_extract_modeenc): new function.\n\t  (rb_file_open_generic): new function.\n\t  (rb_file_open_internal): use rb_file_open_generic.\n\t  (rb_file_sysopen_internal): use rb_file_open_generic.\n\t  (rb_open_file): use rb_io_extract_modeenc and rb_file_open_generic.\n\t  (rb_io_open): call rb_file_open_internal instead of rb_file_open.\n\nWed Aug 20 19:15:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (Init_IO): new constants: File::DSYNC, File::RSYNC and\n\t  File::NOFOLLOW.\n\nWed Aug 20 18:41:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_open_file): don't lookup :mode and :perm in opt.  it is\n\t  useless because vmode and perm is overwritten by rb_scan_args\n\t  anyway.\n\nWed Aug 20 18:37:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (open_key_args): meaningless MEMCPY removed.\n\nWed Aug 20 18:30:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (prep_io) [cygwin]: use FMODE_BINMODE instead of O_BINARY.\n\nWed Aug 20 16:39:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sample): performance improvement for huge array.\n\nWed Aug 20 12:28:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sample): get rid of infinite loop.  #455\n\nWed Aug 20 06:09:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_TRUNC): value changed because 0x100 is used\n\t  as FMODE_NOREVLOOKUP in socket.c\n\nWed Aug 20 05:19:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (parse_mode_enc): extracted from mode_enc.\n\t  (io_extract_encoding_option): extracted from io_set_encoding.\n\nWed Aug 20 04:17:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_flags_modenum): make it static.\n\nWed Aug 20 03:36:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_TRUNC): new constant.\n\n\t* io.c (rb_io_mode_flags): set FMODE_TRUNC for \"w\".\n\t  (rb_io_modenum_flags): set FMODE_TRUNC for O_TRUNC.\n\t  (rb_io_flags_modenum): new function.\n\t  (rb_io_mode_modenum): just use rb_io_mode_flags and\n\t  rb_io_flags_modenum.\n\nWed Aug 20 02:36:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (fopen): macro for vms removed.  fopen is not used now.\n\nWed Aug 20 02:27:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open): fix memory leak.\n\t  (rb_econv_close): ditto.\n\t  fixed by shinichiro.h.  [ruby-dev:35880]\n\nTue Aug 19 21:50:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_fopen): declaration removed.\n\n\t* io.c (rb_fopen): unused function removed.\n\nTue Aug 19 21:14:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_READWRITE): define as\n\t  FMODE_READABLE|FMODE_WRITABLE.\n\nTue Aug 19 21:13:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_flags_mode): use hexadecimal in error message.\n\t  (rb_io_modenum_mode): ditto.\n\t  (rb_io_initialize): ditto.\n\nTue Aug 19 18:23:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_flags_mode): add a prefix 0 to octal in error message.\n\t  (rb_io_modenum_mode): ditto.\n\nTue Aug 19 18:05:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (FMODE_*): sorted and describe the values in\n\t  hexadecimal.\n\nTue Aug 19 17:32:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_initialize): store the\n\t  result of d2i_X509_NAME into DATA_PTR(self).\n\nTue Aug 19 04:54:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rake.rb (FileUtils#ruby): takes care of space containing path.\n\t  [ ruby-Bugs-21591 ]\n\nTue Aug 19 01:32:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_open_file): encoding in mode string was ignored if perm is\n\t  specified.\n\nTue Aug 19 01:02:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_open_file): don't access argv[-1] by\n\t  File.allocate.instance_eval { initialize }.\n\nTue Aug 19 00:56:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_inspect): don't raise for uninitialized Regexp.\n\nTue Aug 19 00:34:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_check_readable): side effect for STDIN removed.\n\t  (rb_io_external_encoding): ditto.\n\nMon Aug 18 23:27:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_ungetbyte): renamed from io_ungetc.\n\t  (rb_io_ungetbyte): new method.\n\t  (rb_io_ungetc): push back into character buffer if enc2 is set.\n\nMon Aug 18 22:41:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (id_encode): removed.\n\nMon Aug 18 22:30:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (make_writeconv): if enc and enc2 is set, convert\n\t  string.encoding to enc2.\n\n\t* include/ruby/io.h: comment changed.\n\nMon Aug 18 21:02:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): new fields: writeconv,\n\t  writeconv_stateless and writeconv_initialized.\n\t  (MakeOpenFile): initialize them.\n\n\t* include/ruby/encoding.h (rb_econv_stateless_encoding): declared.\n\t  (rb_econv_string): declared.\n\n\t* io.c (make_writeconv): new function.\n\t  (io_fwrite): use econv.\n\t  (make_readconv): fix error message.\n\t  (finish_writeconv): new function.\n\t  (fptr_finalize): call finish_writeconv.\n\t  (clear_writeconv): new function.\n\t  (clear_codeconv): new function to call both clear_readconv and\n\t  clear_writeconv.\n\t  (rb_io_fptr_finalize): call clear_codeconv instead of\n\t  clear_readconv.\n\t  (mode_enc): ditto.\n\t  (io_set_encoding): ditto.\n\t  (argf_next_argv): ditto.\n\t  (io_encoding_set): ditto.\n\n\t* gc.c (gc_mark_children): mark writeconv_stateless in T_FILE.\n\n\t* transcode.c (stateless_encoding_i): new function.\n\t  (rb_econv_stateless_encoding): ditto.\n\t  (rb_econv_string): ditto.\n\nMon Aug 18 17:23:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (clear_readconv): extracted from rb_io_fptr_finalize.\n\t  (mode_enc): call clear_readconv.\n\t  (io_set_encoding): ditto.\n\t  (argf_next_argv): ditto.\n\t  (io_encoding_set): ditto.\n\nMon Aug 18 16:54:06 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (mode_enc): modify enc and enc2 consistently.\n\t  (io_set_encoding): ditto.\n\t  (io_encoding_set): ditto.\n\nMon Aug 18 13:21:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_search_path): prevent infinite loop by\n\t  searching a path for self conversion.\n\nMon Aug 18 12:45:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_enc_str): code conversion removed.\n\t  (io_enc_str_converted): removed because it is identical to\n\t  io_enc_str now.\n\nMon Aug 18 12:12:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_shift_crbuf): add strp argument to append into existing\n\t  string.\n\t  (read_all): use econv if enc2 is set.\n\t  (io_getc): follow the io_shift_crbuf change.\n\nMon Aug 18 10:35:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_enc_str_converted): new function.\n\t  (make_readconv): extracted from io_getc.\n\t  (more_char): ditto.\n\t  (appendline): use econv via make_readconv and more_char for code\n\t  conversion.\n\t  (prepare_getline_args): don't convert record separator.\n\t  (rb_io_getline_1): don't use rb_io_getline_fast if enc2 is set.\n\t  (io_getc): use make_readconv and more_char.\n\nMon Aug 18 08:27:44 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* common.mk: fix error in uncommon.mk.\n\nMon Aug 18 06:10:08 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: config.h depends config.status.\n\nMon Aug 18 03:59:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (appendline): appendline cannot check character boundary.\n\t  (rb_io_getline_1): relax limit until character boundary.\n\nMon Aug 18 02:25:11 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI::Socket#eof?): added lacked method.\n\nSun Aug 17 21:50:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (prepare_getline_args): io.gets(10,nil) should cause TypeError.\n\nSun Aug 17 15:58:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: not check config.h.\n\n\t* lib/mkmf.rb (init_mkmf): add include/ruby/backward to $INCFLAGS.\n\n\t* include/ruby/backward/{st,util}.h: added for backward compatibility.\n\t  [ruby-dev:35811]\n\nSun Aug 17 13:40:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_putback): new method.\n\nSun Aug 17 13:23:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_putbackable): declared.\n\t  (rb_econv_putback): ditto.\n\n\t* transcode.c (rb_econv_putbackable): implemented.\n\t  (rb_econv_putback): ditto.\n\n\t* io.c (io_getc): put back bytes if possible.\n\nSun Aug 17 12:00:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (make_econv_exception): add several instance variables\n\t  to exception object.\n\t  (ecerr_source_encoding): new method:\n\t  Encoding::ConversionUndefined#source_encoding and\n\t  Encoding::InvalidByteSequence#source_encoding.\n\t  (ecerr_destination_encoding): new method:\n\t  Encoding::ConversionUndefined#destination_encoding and\n\t  Encoding::InvalidByteSequence#destination_encoding.\n\t  (econverr_error_char): new method:\n\t  Encoding::ConversionUndefined#error_char.\n\t  (econverr_error_bytes): new method:\n\t  Encoding::ConversionUndefined#error_bytes.\n\nSun Aug 17 11:43:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* random.c (struct MT): packed Mersenne Twister staffs.\n\n\t* random.c (struct RandSeed): packed random seed staffs.\n\nSun Aug 17 08:38:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/iconv/test_option.rb (test_ignore_option): skip if iconv\n\t  doesn't have transliterate.\n\n\t* test/iconv/test_option.rb (test_translit_option): ditto.\n\nSun Aug 17 01:29:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): new fields: readconv, crbuf, crbuf_off,\n\t  crbuf_len, crbuf_capa.\n\t  (MakeOpenFile): initialize them.\n\n\t* io.c (io_shift_crbuf): new function.\n\t  (io_getc): use econv.\n\t  (rb_io_fptr_finalize): finalize readconv and crbuf.\n\nSun Aug 17 00:02:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_check_error): declared.\n\n\t* transcode.c (make_econv_exception): new function.\n\t  (transcode_loop): use make_econv_exception.\n\t  (rb_econv_check_error): defined.\n\nSat Aug 16 15:23:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_elem_t): fields removed: from and\n\t  to.\n\t  (rb_econv_t): new fields: source_encoding_name and\n\t  destination_encoding_name.\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): initialize the\n\t  new fields.\n\t  (rb_econv_open): set up the new fields.\n\t  (econv_inspect): use the new fields.\n\nSat Aug 16 14:22:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_t): add fields: in_buf_start,\n\t  in_data_start, in_data_end, in_buf_end and last_trans_index.\n\t  (rb_econv_output): removed.\n\t  (rb_econv_insert_output): declared.\n\t  (rb_econv_encoding_to_insert_output): declared.\n\n\t* enc/trans/newline.trans (rb_universal_newline): stateful_type\n\t  changed.\n\n\t* transcode.c (transcode_restartable0): initialize inchar_start,\n\t  tc->recognized_len and next_table at beginning of the loop.\n\t  (rb_econv_open_by_transcoder_entries): initialize new fields.\n\t  (rb_econv_open): setup last_trans_index.\n\t  (trans_sweep): last out_buf_start can be non-NULL now.\n\t  (rb_econv_convert): check last out_buf_start and in_buf_start at\n\t  first.\n\t  (rb_econv_output_with_destination_encoding): removed.\n\t  (econv_just_convert): removed.\n\t  (rb_econv_output): removed.\n\t  (econv_primitive_output): method removed.\n\t  (rb_econv_encoding_to_insert_output): new function.\n\t  (allocate_converted_string): new function.\n\t  (rb_econv_insert_output): new function.\n\t  (econv_primitive_insert_output): new method.\n\t  (output_replacement_character): use rb_econv_insert_output.  unused\n\t  arguments removed.\n\nSat Aug 16 09:20:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (rb_intern_const): tiny optimization.\n\n\t* include/ruby/ruby.h (SSIZET2NUM, NUM2SSIZET, SSIZE_MAX, SSIZE_MIN):\n\t  macros for ssize_t.\n\nSat Aug 16 08:11:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder_stateful_type_t): defined.\n\t  (rb_transcoder): add field: stateful_type.\n\n\t* tool/transcode-tblgen.rb: generate stateful_type field as\n\t  stateless_converter.\n\n\t* enc/trans/iso2022.trans: follow rb_transcoder change.\n\n\t* enc/trans/newline.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\nFri Aug 15 23:07:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_just_convert): extracted from rb_econv_output.\n\t  (rb_econv_output): use econv_just_convert.\n\t  (econv_primitive_output): new method.\n\nFri Aug 15 19:57:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_output): add str_encoding\n\t  argument.\n\n\t* transcode.c (get_replacement_character): add repl_enc_ptr argument.\n\t  (rb_econv_output_with_destination_encoding): renamed from\n\t  rb_econv_output and make it static.\n\t  (rb_econv_output): convert str and call\n\t  rb_econv_output_with_destination_encoding.\n\t  (output_replacement_character): follow above interface change.\n\nFri Aug 15 19:33:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_drop_bytes): use memmove.\n\nFri Aug 15 18:33:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_t): add error_tc in last_error.\n\n\t* transcode.c (rb_econv_convert): fill error_tc.\n\nFri Aug 15 18:10:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_t): new field: last_error.\n\n\t* transcode.c (rb_trans_conv): new argument: result_position_ptr.\n\t  (rb_econv_convert): fill last_error.\n\t  (econv_result_to_symbol): extracted from econv_primitive_convert.\n\t  (econv_primitive_errinfo): new method.\n\nFri Aug 15 17:39:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.{c,h}): creates in the dependency order.\n\nFri Aug 15 16:59:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (exec_event_hooks): skips RubyVM::FrozenCore.\n\n\t* vm.c (Init_VM): get rid of SEGV in a trace proc.\n\nFri Aug 15 09:33:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (conv_init): check empty name.\n\nFri Aug 15 09:03:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_init): don't create dummy encoding if\n\t  rb_econv_open is failed.\n\t  (make_dummy_encoding): new function extracted from make_encoding.\n\t  (make_encoding): removed.\n\nFri Aug 15 01:07:16 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk ({$(srcdir)}.y.c): escape backslash.\n\nFri Aug 15 01:05:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): set destination_buffer\n\t  encoding.\n\nFri Aug 15 00:52:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_output): declared.\n\n\t* transcode_data.h (rb_transcoder): add resetsize_func field.\n\n\t* enc/trans/iso2022.trans (iso2022jp_reset_sequence_size): defined.\n\t  (rb_EUC_JP_to_ISO_2022_JP): provide resetsize_func.\n\n\t* tool/transcode-tblgen.rb: set NULL for resetsize_func.\n\n\t* transcode.c (rb_econv_output): new function for inserting output.\n\t  (output_replacement_character): use rb_econv_output.\n\t  (transcode_loop): check return value of\n\t  output_replacement_character.\n\nThu Aug 14 23:47:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ECONV_UNIVERSAL_NEWLINE_DECODER): defined.\n\t  (ECONV_CRLF_NEWLINE_ENCODER): ditto.\n\t  (ECONV_CR_NEWLINE_ENCODER): ditto.\n\t  (ECONV_PARTIAL_INPUT): ditto.\n\t  (ECONV_OUTPUT_FOLLOWED_BY_INPUT): ditto.\n\n\t* transcode.c: use ECONV_* defined as above.\n\nThu Aug 14 23:35:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c: local variable renamed.\n\nThu Aug 14 23:22:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_econv_result_t): moved from\n\t  transcode_data.h.\n\t  (rb_econv_elem_t): ditto.\n\t  (rb_econv_t): ditto.  source_encoding and destination_encoding field\n\t  is added.\n\t  (rb_econv_open): declared.\n\t  (rb_econv_convert): ditto.\n\t  (rb_econv_close): ditto.\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): initialize\n\t  source_encoding and destination_encoding field as NULL.\n\t  (rb_econv_open): make it external linkage.\n\t  (rb_econv_close): ditto.\n\t  (rb_econv_convert): ditto.  renamed from rb_econv_conv.\n\t  (make_encoding): new function.\n\t  (econv_init): use make_encoding and store rb_encoding* in\n\t  rb_econv_t.\n\t  (econv_source_encoding): new method\n\t  Encoding::Converter#source_encoding.\n\t  (econv_destination_encoding): new method\n\t  Encoding::Converter#destination_encoding.\n\nThu Aug 14 22:44:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_econv_result_t): change enumeration\n\t  constant's prefix: transcode_ to econv_.\n\n\t* transcode.c: follow the constant prefix change.\n\nThu Aug 14 21:34:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_init): accept Encoding object as source_encoding\n\t  and destination_encoding.\n\nThu Aug 14 21:10:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_filesystem_encoding): use default external encoding\n\t  for Unix.\n\n\t* dir.c (dir_initialize): don't cache fs_encoding.\n\nThu Aug 14 20:58:57 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_open_by_transcoder_entries): renamed from\n\t  rb_trans_open_by_transcoder_entries.\n\nThu Aug 14 20:56:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_max_output): removed.\n\nThu Aug 14 20:52:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: check unexpected actions.\n\nThu Aug 14 20:25:52 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (transcode_invalid_byte_sequence): renamed from\n\t  transcode_invalid_input.\n\t  (transcode_destination_buffer_full): renamed from transcode_obuf_full.\n\t  (transcode_source_buffer_empty): renamed from transcode_ibuf_empty.\n\t  (rb_econv_result_t): renamed from rb_trans_result_t.\n\t  (rb_econv_elem_t): renamed from rb_trans_elem_t.\n\t  (rb_econv_t): renamed from rb_trans_t.\n\n\t* transcode.c (UNIVERSAL_NEWLINE_DECODER): renamed from\n\t  UNIVERSAL_NEWLINE.\n\t  (CRLF_NEWLINE_ENCODER): renamed from CRLF_NEWLINE.\n\t  (CR_NEWLINE_ENCODER): renamed from CR_NEWLINE.\n\t  (rb_econv_open): renamed from rb_trans_open.\n\t  (rb_econv_close): renamed from rb_trans_close.\n\nThu Aug 14 19:41:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (load_transcoder): unused function removed.\n\t  (rb_transcoding_open): ditto.\n\nThu Aug 14 17:57:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_enc_ispunct): added.\n\n\t* common.mk (COMMONOBJS), inits.c (rb_call_inits): id.c is now\n\t  included from parse.c.\n\n\t* id.c (Init_id), id.h (ruby_method_ids): added IDs used by VM.\n\n\t* parse.y (global_symbols): added rooms for VM IDs.\n\n\t* parse.y (rb_intern3, rb_id2str): single punctuation symbol is now\n\t  same as char code.\n\nThu Aug 14 17:46:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (union tmpyystype): no longer needed, since YYSTYPE is\n\t  defined in parse.h now.\n\nThu Aug 14 17:27:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* version.c (Init_version): add RUBY_ENGINE constant.\n\nThu Aug 14 15:34:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_econv_conv): new function.  it doesn't consume\n\t  input too much, even for multilevel conversion.\n\t  (transcode_loop): use rb_econv_conv.\n\t  (econv_primitive_convert): ditto.\n\nThu Aug 14 15:27:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/defines.h (RUBY_ALIAS_FUNCTION): fallback definition.\n\nThu Aug 14 15:08:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_trans_result_t): new enumeration constant:\n\t  transcode_output_followed_by_input.\n\n\t* transcode.c (OUTPUT_FOLLOWED_BY_INPUT): new flag.\n\t  (transcode_restartable0): suspend when output followed by input if\n\t  OUTPUT_FOLLOWED_BY_INPUT is specified.\n\t  (trans_sweep): check OUTPUT_FOLLOWED_BY_INPUT.\n\t  (rb_trans_conv): support OUTPUT_FOLLOWED_BY_INPUT.\n\t  (econv_primitive_convert): return :output_followed_by_input for\n\t  transcode_output_followed_by_input.\n\nThu Aug 14 14:57:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (getrusage_time): should return the value.\n\n\t* thread.c (rb_thread_priority_set): get rid of C99 feature.\n\n\t* transcode.c (transcode_search_path): ditto.\n\n\t* vm.c (REWIND_CFP): get rid of statement expressions.\n\nThu Aug 14 14:13:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (Init_VM): hide FrozenCore.\n\nThu Aug 14 12:20:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (load_transcoder): suppress warning.\n\n\t* missing/vsnprintf.c (BSD_vfprintf): ditto.\n\nThu Aug 14 12:01:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (gnumake): check for GNU make.\n\n\t* Makefile.in (uncommon.mk): includes filtered common.mk.\n\n\t* common.mk (parse.h): workaround for nmake.\n\nThu Aug 14 06:09:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_execute_interrupts): switch event\n\t  should be occur only once.\n\nThu Aug 14 05:36:36 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: parse.h depends on parse.c.\n\n\t* common.mk: hash.o depends on $(ID_H_INCLUDES).\n\nThu Aug 14 02:45:16 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_file_exhaustive.rb (TestFileExhaustive#setup):\n\t  set group of tmpdir.  [ruby-dev:35633]\n\nThu Aug 14 15:50:30 2008  Giuseppe Bilotta  <giuseppe.bilotta@gmail.com>\n\n\t* hash.c (set_default): fix rdoc.  #441\n\nThu Aug 14 02:23:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): add output_byteoffset\n\t  argument.\n\nThu Aug 14 00:43:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_gcc_function_alias): checks alias attribute.\n\n\t* string.c (alias_func): replaced with RUBY_ALIAS_FUNCTION.\n\nWed Aug 13 23:42:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.h): fake rule.\n\nWed Aug 13 23:15:58 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/ruby/test_thread.rb (test_list): call Thread.pass to run t1.\n\t  fixed [ruby-core:18264].\n\nWed Aug 13 23:05:51 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* string.c (alias_func): changed to 'weak, alias' from 'alias' for\n\t  Mac OSX. (closes #429)\n\nWed Aug 13 19:40:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c: count only freed object as freelist size.\n\nWed Aug 13 18:34:22 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* marshal.c (marshal_load): set arg.untrust properly.\n\nWed Aug 13 17:47:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_inspect): new method.\n\nWed Aug 13 17:35:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_restartable0): several local variables\n\t  removed.\n\nWed Aug 13 17:35:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_set_default_proc): add new method.  a patch from\n\t  Giuseppe Bilotta.  #419\n\nWed Aug 13 17:31:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm_insnhelper.c (caller_setup_args): should ensure if the value\n\t  from to_proc is a real Proc.\n\nWed Aug 13 17:28:29 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* common.mk: regint.h no longer includes vm_core.h.\n\nWed Aug 13 17:26:44 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): add fields: writebuf_off,\n\t  writebuf_len and writebuf.\n\t  (TRANSCODING_WRITEBUF): new macro.\n\n\t* transcode.c (transcode_restartable0): output until output buffer is\n\t  really full.\n\t  (rb_transcoding_open_by_transcoder): initialize writebuf_len,\n\t  writebuf_off and writebuf.\n\t  (rb_transcoding_close): finalize writebuf.\n\nWed Aug 13 17:18:37 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_check_ints): added.  please note that\n\t  this function may cause ruby's thread switching.\n\n\t* include/ruby/intern.h: ditto.\n\n\t* regint.h: use rb_thread_check_ints() instead of\n\t  RUBY_CHECK_INTS() directly.\n\nWed Aug 13 17:01:36 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* golf_prelude.rb, lib/set.rb (TC_Set#test_each),\n\t  test/readline/test_readline_history.rb (Readline#test_each__enumerator),\n\t  test/ruby/test_array.rb (TestArray#test_collect),\n\t  test/ruby/test_enumerator.rb (TestEnumerator#test_initialize):\n\t  Enumerable::Enumerator is now called Enumerator.\n\n\t* lib/rinda/tuplespace.rb (Rinda::TupleBag#initialize): Use\n\t  enum_for instead of hardcoding Enumerable::Enumerator.\n\nWed Aug 13 16:40:57 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c, vm_core.h: add manual priority support\n\t  using time slice.  if you enable USE_NATIVE_THREAD_PRIORITY\n\t  macro, this mechanism is ignored.  [ruby-dev:33124]\n\n\t* thread_pthread.c, thread_win32.c: ditto.\n\n\t* test/ruby/test_thread.rb: fix test parameter.\n\nWed Aug 13 16:02:14 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* object.c (rb_obj_untrusted): new method Object#untrusted?.\n\t  (rb_obj_untrust): new method Object#untrust.\n\t  (rb_obj_trust): new method Object#trust.\n\n\t* array.c, debug.c, time.c, include/ruby/ruby.h, re.c, variable.c,\n\t  string.c, io.c, dir.c, vm_method.c, struct.c, class.c, hash.c,\n\t  ruby.c, marshal.c: fixes for Object#untrusted?.\n\n\t* test/ruby/test_module.rb, test/ruby/test_array.rb,\n\t  test/ruby/test_object.rb, test/ruby/test_string.rb,\n\t  test/ruby/test_marshal.rb, test/ruby/test_hash.rb: added tests for\n\t  Object#untrusted?.\n\nWed Aug 13 16:13:58 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/test_m17n.rb: follow EncodingCompatibilityError.\n\n\t* test/ruby/test_mixed_unicode_escapes.rb: ditto.\n\n\t* test/ruby/enc/test_utf16.rb: ditto.\n\nWed Aug 13 16:05:50 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_cmp): retry with right hand operand if its not a\n\t  time object.  [ruby-dev:35011]\n\nWed Aug 13 15:51:22 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* string.c: Apply a temporary fix to fix build on OS X.  A real\n\t  fix will follow later.\n\nWed Aug 13 15:25:09 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (Init_Enumerator): Rename Enumerable::Enumerator to\n\t  just Enumerator.\n\nWed Aug 13 15:13:57 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* common.mk (prelude.c, golf_prelude.c): Using $(COMPILE_PRELUDE)\n\t  requires $(RBCONFIG).\n\nWed Aug 13 15:08:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_init): make flags argument optional.\n\t  (econv_primitive_convert): ditto.\n\nWed Aug 13 14:55:27 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* common.mk (realclean-local): Remove parse.h as well.\n\n\t* common.mk: Add missing dependencies regarding vm_core.h, id.h,\n\t  parse.c (parse.h), etc..\n\nWed Aug 13 14:45:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/newline.trans (rb_crlf_newline): new transcoder.\n\t  (rb_cr_newline): new transcoder.\n\n\t* transcode.c (trans_open_i): one more extra room for input newline\n\t  converter.\n\t  (rb_trans_open): crlf newline and cr newline implemented.\n\t  (Init_transcode): Encoding::Converter::CRLF_NEWLINE and\n\t  Encoding::Converter::CR_NEWLINE defined.\n\nWed Aug 13 14:22:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/newline.trans: new file.\n\n\t* transcode_data.h (rb_trans_t): add last_tc field.\n\n\t* transcode.c (UNIVERSAL_NEWLINE): defined.\n\t  (CRLF_NEWLINE): defined.\n\t  (CR_NEWLINE): defined.\n\t  (rb_trans_open_by_transcoder_entries): initialize last_tc.\n\t  (trans_open_i): allocate one more room for output newline converter.\n\t  (rb_trans_open): universal newline implemented.\n\t  (more_output_buffer): take max_output argument instead ts.\n\t  (output_replacement_character): take tc argument instead of ts.\n\t  (transcode_loop): use last_tc field.\n\t  (econv_init): add flags argument for rb_trans_open.\n\t  (Init_transcode): Encoding::Converter::UNIVERSAL_NEWLINE defined.\n\nWed Aug 13 14:00:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.c): generates parse.h together.\n\n\t* id.c, id.h: use constants for parser tokens.\n\nWed Aug 13 13:47:05 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: rewind cfp to show proper backtrace.\n\t  [ruby-dev:35820]\n\nWed Aug 13 13:09:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: fix for clean up.\n\nWed Aug 13 11:45:51 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* vm_core.h: Declare rb_iseq_clone, which is used in class.c.\n\nWed Aug 13 11:39:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_search_path): return the length of converter\n\t  path.\n\t  (load_transcoder_entry): renamed from load_transcoder.\n\t  (load_transcoder): new function for loading transcoder by encoding\n\t  names.\n\t  (rb_transcoding_open_by_transcoder): extracted from\n\t  rb_transcoding_open.\n\t  (rb_transcoding_open): use load_transcoder and\n\t  rb_transcoding_open_by_transcoder.\n\t  (rb_trans_open_by_transcoder_entries): new function.\n\t  (trans_open_i): construct entries array.\n\t  (rb_trans_open): use rb_trans_open_by_transcoder_entries.\n\nWed Aug 13 10:45:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: try to find exported directory.\n\nWed Aug 13 10:16:35 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* doc/NEWS: Mention the Readline.vi_editing_mode?,\n\t  Readline.emacs_editing_mode?, Readline::HISTORY[] and\n\t  Readline::HISTORY.clear change.\n\nWed Aug 13 08:03:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (econv_primitive_convert): add output_size argument.\n\nWed Aug 13 07:41:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_trans_conv): report last transcode_obuf_full.\n\t  (econv_max_output): new method Encoding::Converter#max_output.\n\nWed Aug 13 02:46:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* error.c (rb_eEncCompatError): add Exception.\n\n\t* include/ruby/ruby.h: ditto.\n\n\t* encoding.c (rb_enc_check): use rb_eEncCompatError.\n\n\t* string.c (rb_enc_cr_str_buf_cat): ditto.\n\n\t* string.c (rb_str_sub_bang): ditto.\n\n\t* string.c (rb_str_hex): ditto.\n\n\t* string.c (rb_str_oct): ditto.\n\nWed Aug 13 02:36:47 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (str_transcode): fix error message.\n\nTue Aug 12 23:42:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_cEncodingConverter): new class Encoding::Converter.\n\t  (econv_free): new function.\n\t  (econv_s_allocate): ditto.\n\t  (econv_init): ditto.\n\t  (check_econv): ditto.\n\t  (econv_primitive_convert): new method.\n\t  (Init_transcode): define Encoding::Converter.\n\nTue Aug 12 23:16:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_splice_0): call rb_str_drop_bytes, not rb_str_drop.\n\nTue Aug 12 19:11:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: fix for enc.mk.\n\nTue Aug 12 19:08:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_drop_bytes): new function to drop first bytes.\n\nTue Aug 12 18:58:48 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_insnhelper.c (vm_define_method): move\n\t  function place.\n\nTue Aug 12 18:56:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c: more descriptive aliases of rb_str_new[2-5].\n\t  [ruby-dev:35615]\n\nTue Aug 12 18:51:29 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* gc.c (getrusage_time): Returned effective value on Windows.\n\nTue Aug 12 18:51:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_trans_open): free ts before raise.\n\nTue Aug 12 18:46:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimalCmp): should not ignore\n\t  <=> comparison.  [ruby-dev:35732]\n\nTue Aug 12 18:43:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/make_transdb.rb: *.erb.c is not used anymore.\n\nTue Aug 12 18:32:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_trans_elem_t): new field: from and to.\n\n\t* transcode.c (trans_open_i): just record from and to.\n\t  (rb_trans_open): load transcodings.\n\nTue Aug 12 18:32:03 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/syslog/syslog.c (mSyslog_open): Use of Check_SafeStr() is\n\t  deprecated.\n\t  (mSyslogConstants_LOG_MASK, mSyslogConstants_LOG_UPTO): Use\n\t  NUM2INT() instead of FIX2INT() when the type of an given object\n\t  is not determined.\n\nTue Aug 12 18:14:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* tool/transcode-tblgen.rb (#transcode_tblgen): slight message\n\t  improvement.\n\nTue Aug 12 17:16:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (trans_open_i): check the result of rb_transcoding_open.\n\nTue Aug 12 16:23:32 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (gc_profile_result): use rb_str_catf.\n\nTue Aug 12 16:13:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (TRANSCODE_ERROR): removed.\n\n\t* tool/transcode-tblgen.rb: 8bit byte of ASCII-8BIT is a valid\n\t  (but unique to ASCII-8BIT) character.\n\n\t* transcode.c (rb_eConversionUndefined): new error.\n\t  (rb_eInvalidByteSequence): ditto.\n\nTue Aug 12 16:08:51 2008  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb: POP3Command should export @socket since POP\n\t  calls #socket.\n\nTue Aug 12 16:06:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c, util.c (quorem, nrv_alloc, dtoa): enabled floating point\n\t  support.\n\nTue Aug 12 15:52:45 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (gc_profile_result): use sprintf.\n\nTue Aug 12 15:37:40 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): should check symbol table overflow.\n\nTue Aug 12 15:31:04 2008  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (send_request_with_body): Content-Length should\n\t  be byte length of string. (closes #203)\n\nTue Aug 12 15:17:06 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/depend: (transvpath_prefix): prefix has no extension, so replace\n\t  %s with \"\".\n\nTue Aug 12 15:03:43 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline.rb (TestReadline#test_safe_level_4):\n\t  tested Readline.vi_editing_mode? and Readline.emacs_editing_mode?.\n\nTue Aug 12 14:25:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/Makefile.in (.SUFFIXES): renamed to .trans.\n\n\t* enc/make_encmake.rb: added --encs and --no-encs options.\n\n\t* enc/depend (TRANSVPATH): fix for nmake.\n\nTue Aug 12 14:19:53 2008  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/https.rb: suppress syntax warning.\n\nTue Aug 12 14:15:51 2008  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (Net::HTTP#initialize): initialize net/https\n\t  variables to suppress syntax warning.\n\nTue Aug 12 14:15:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/cptr.c (rb_dlptr_s_to_ptr): fixed shadowing variable.\n\nTue Aug 12 10:25:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_delete): Array#delete to return deleted element.\n\nTue Aug 12 10:18:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/win32ole/test_err_in_callback.rb: do not require 'mkmf'\n\t  unless WIN32OLE is defined.\n\nTue Aug 12 07:41:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): add resetstate_func field for\n\t  resetting a state of stateful encoding.\n\n\t* enc/trans/iso2022.trans (rb_EUC_JP_to_ISO_2022_JP): specify\n\t  finish_eucjp_to_iso2022jp for resetstate_func.\n\n\t* tool/transcode-tblgen.rb: specify NULL for resetstate_func.\n\n\t* transcode.c (output_replacement_character): call resetstate_func\n\t  before appending the replacement character.\n\nTue Aug 12 07:19:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (get_replacement_character): extracted from\n\t  output_replacement_character.\n\nTue Aug 12 07:00:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): typedef at first.\n\nTue Aug 12 06:48:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (rb_trans_conv): find second last error.\n\nTue Aug 12 00:43:44 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_trans_result_t): new type.\n\t  (rb_trans_elem_t): new type.\n\t  (rb_trans_t): new type.\n\n\t* transcode.c (transcode_dispatch_cb): removed.\n\t  (transcode_dispatch): removed.\n\t  (rb_transcoding_result_t): moved to rb_trans_result_t in\n\t  transcode_data.h.\n\t  (transcode_restartable0): goto follow_info when FUNsi.\n\t  (rb_transcoding_open): use get_transcoder_entry.\n\t  (rb_trans_open): new function.\n\t  (rb_trans_conv): ditto.\n\t  (rb_trans_close): ditto.\n\t  (trans_open_i): ditto.\n\t  (trans_sweep): ditto.\n\t  (more_output_buffer): take rb_trans_t instead of rb_transcoding as\n\t  an argument.\n\t  (transcode_loop): take from_encoding and to_encoding instead of tr\n\t  as arguments.  use rb_trans_open/rb_trans_conv/rb_trans_close.\n\t  (str_transcode): don't use transcode_dispatch.\n\nMon Aug 11 20:37:05 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* iseq.c (rb_iseq_clone): should preserve cref_stack link.\n\nMon Aug 11 20:27:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dl/cfunc.c (rb_dlcfunc_call): add taint check.\n\n\t* ext/dl/dl.c (rb_dl_malloc): add rb_secure(2).\n\n\t* ext/dl/dl.c (rb_dl_realloc): ditto.\n\n\t* ext/dl/dl.c (rb_dl_free): ditto.\n\n\t* ext/dl/dl.c (rb_dl_ptr2value): ditto.\n\nMon Aug 11 20:11:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (getrusage_time): works only if RUSAGE_SELF is defined right\n\t  now.\n\n\t* gc.c (gc_profile_result): C99.\n\nMon Aug 11 18:57:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_sample): rename #choice to #sample.  in\n\t  addition, sample takes optional argument, a la #first.\n\nMon Aug 11 18:28:02 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c: added GC::Profiler.\n\nMon Aug 11 17:26:16 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/README.ja: added API document for\n\t  Readline.vi_editing_mode? and Readline.emacs_editing_mode?.\n\n\t* ext/readline/extconf.rb: checked rl_editing_mode variable in\n\t  Readline library.\n\n\t* ext/readline/readline.c (readline_s_emacs_editing_mode_p): added\n\t  Readline.emacs_editing_mode? method.\n\t  (readline_s_vi_editing_mode_p): added Readline.vi_editing_mode?\n\t  method.\n\t  (Init_readline): ditto.\n\nMon Aug 11 16:56:40 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* test/readline/test_readline.rb: added test for Readline's class\n\t  methods.\n\nMon Aug 11 16:39:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* class.c (clone_method): should copy cbase in cref as well.\n\t  [ruby-dev:35116]\n\n\t* iseq.c (iseq_mark): mark original iseq object.\n\n\t* iseq.c (iseq_free): do not free internal data if they have\n\t  original iseq to belong.\n\n\t* iseq.c (rb_iseq_clone): a new function to clone iseq value.\n\nMon Aug 11 16:34:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/iso2022.trans: renamed from iso2022.erb.c.\n\n\t* enc/trans/single_byte.trans: ditto.\n\n\t* enc/trans/utf_16_32.trans: ditto.\n\n\t* enc/trans/korean.trans: ditto.\n\n\t* enc/trans/japanese.trans: ditto.\n\n\t* enc/depend: follow the renaming.\n\n\t* tool/build-transcode: ditto.\n\nMon Aug 11 15:09:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (rb_cv_broken_glibc_ia64_erfc): renamed from\n\t  rb_broken_glibc_ia64_erfc.\n\t  [ruby-core:18228]\n\nMon Aug 11 10:04:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): rename fields.\n\t  readlen -> recognized_len.\n\t  feedlen -> readagain_len.\n\n\t* transcode.c: follow the field renaming.\n\nSun Aug 10 22:34:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_restartable0): invalid handling simplified.\n\t  (transcode_restartable): use PARTIAL_INPUT for converting buffered\n\t  input.\n\nSun Aug 10 22:24:24 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* encoding.c: include util.h.  [ruby-dev:35715]\n\n\t* common.mk: ditto.\n\nSun Aug 10 20:59:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): new field: flags.\n\n\t* transcode.c (load_transcoder): extracted from transcode_dispatch_cb.\n\t  (rb_transcoding_result_t): renamed from transcode_result_t.\n\t  (rb_transcoding_open): new function.\n\t  (rb_transcoding_convert): ditto.\n\t  (rb_transcoding_close): ditto.\n\t  (transcode_loop): use rb_transcoding_open, rb_transcoding_convert\n\t  and rb_transcoding_close.\n\t  (str_transcode): don't need rb_transcoding.\n\nSun Aug 10 18:09:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: record checksum of\n\t  transcode-tblgen.rb itself.\n\nSun Aug 10 12:34:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* config.guess ({powerpc-apple,i586-pc}-haiku): re-applied r18403.\n\t  [ruby-core:18110]\n\n\t* config.{guess,sub}: updated to automake-1.10.1.\n\nSun Aug 10 11:45:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/Makefile.in (make-workdir): use MAKEDIRS.\n\n\t* enc/depend: makes target directory before compile/link.\n\n\t* tool/transcode-tblgen.rb: creates target directory.\n\nSun Aug 10 11:30:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c: rename my_transcoding to tc and my_transcoder to tr.\n\nSun Aug 10 11:15:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): add feedlen field.\n\n\t* transcode.c (transcode_restartable0): renamed from\n\t  transcode_restartable.\n\t  save input buffer into feed buffer if next character is started the\n\t  point before input buffer.  for example, \"\\x00\\xd8\\x01\" then \"\\x02\"\n\t  in UTF-16LE.  \\x02 causes invalid and next character is started from\n\t  \\x01.\n\t  (transcode_restartable): new function to call\n\t  transcode_restartable0.  if feed buffer is not empty, convert it at\n\t  first.\n\nSun Aug 10 11:02:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (extconf): use MAKEDIRS.\n\nSun Aug 10 09:35:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/irb.rb (IRB::Irb#inspect): instance_variables returns symbols\n\t  instead of strings now.  [ruby-dev:34930]\n\nSun Aug 10 09:22:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_char_start): refactored to remove readlen\n\t  argument.\n\t  (transcode_restartable): refactored to remove readlen variable.\n\nSun Aug 10 08:56:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (STACK_LEVEL_MAX, ruby_stack_length): returns size_t.\n\t  [ruby-core:18207]\n\n\t* configure.in (rb_cv_missing__dtos18, rb_cv_missing_fconvert),\n\t  ext/digest/md5/md5.c, ext/openssl/ossl.c (main),\n\t  ext/socket/extconf.rb (ipv6, wide-getaddrinfo): main should be int.\n\n\t* main.c (main), win32/winmain.c, wince/wincemain.c (WinMain): envp is\n\t  no longer used so long time.  based on a patch from Peter Bowen at\n\t  [ruby-core:18208]\n\nSat Aug  9 22:05:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_loop): take destination and resize function\n\t  as parameters.\n\t  (more_output_buffer): ditto.\n\t  (str_transcoding_resize): argument changed from rb_transcoding* to\n\t  VALUE.\n\t  (str_transcode): call transcode_loop with destination string and its\n\t  resize function.\n\n\t* transcode_data.h (rb_transcoding): move ruby_string_dest and\n\t  flush_func to transcode_loop parameters.\n\nSat Aug  9 21:29:45 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: encs depend on transdb.h\n\nSat Aug  9 21:10:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_rshift_sign, rb_cv_binary_elf): get rid of\n\t  AC_TRY_RUN.\n\nSat Aug  9 16:33:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): new fields: next_info and next_byte.\n\n\t* transcode.c (transcode_restartable): save/restore next_info and\n\t  next_byte.\n\t  sync readlen and in_p when invalid.\n\nSat Aug  9 15:10:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode.c (transcode_restartable): my_transcoder argument removed.\n\t  (transcode_loop): my_transcoder argument removed.\n\nSat Aug  9 14:39:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): add fields for restartable\n\t  transcoding.\n\t  (rb_transcoder): add max_input field.\n\t  from_unit_length field is renamed to input_unit_length.\n\n\t* tool/transcode-tblgen.rb: generate max_input field.\n\n\t* enc/trans/iso2022.erb.c: follow rb_transcoder change.\n\n\t* enc/trans/utf_16_32.erb.c: ditto.\n\n\t* transcode.c (PARTIAL_INPUT): new constant.\n\t  (transcode_char_start): new function.\n\t  (transcode_result_t): new type.\n\t  (transcode_restartable): new function.\n\t  (more_output_buffer): new function.\n\t  (transcode_loop): use transcode_restartable.\n\nSat Aug  9 13:35:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* stable/ext/socket/socket.c (NI_MAXHOST, NI_MAXSERV): fixed invalid\n\t  preprocessor directives.  a patch from Peter Bowen at\n\t  [ruby-core:18211].\n\nSat Aug  9 06:37:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/make_encdb.rb, enc/trans/make_transdb.rb: skip nonexistent\n\t  directory.  [ruby-dev:35802]\n\nSat Aug  9 01:07:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/trans/utf_16_32.erb.c (fun_so_from_utf_32le): implemented.\n\t  (fun_so_to_utf_32le): implemented.\n\t  [ruby-dev:35777]\n\nSat Aug  9 00:42:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoder): from_unit_length field added.\n\t  from_utf8 field removed.\n\n\t* tool/transcode-tblgen.rb: generate offsets range.\n\t  follow rb_transcoder change.\n\n\t* transcode.c (transcode_loop): don't use from_utf8.\n\t  make invalid region from_unit_length wise.\n\n\t* enc/trans/iso2022.erb.c: follow rb_transcoder and\n\t  transcode_generate_node change.\n\n\t* enc/trans/utf_16_32.erb.c: follow rb_transcoder and\n\t  transcode_generate_node change.\n\t  explicit :invalid map removed.\n\nFri Aug  8 23:29:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend (TRANSCSRCS): needs rule_subst to apply.\n\n\t* io.c (shutdown): not define if defined already.\n\nFri Aug  8 22:47:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (opt_eq_func): large function to make inline.\n\n\t* bcc32/Makefile.sub (config.h): cannot compile a big inline function.\n\nFri Aug  8 21:09:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk (enk.mk): give not RUBY but MINIRUBY.\n\nFri Aug  8 17:03:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (shutdown, sched_yield, pthread_attr_setinheritsched):\n\t  check for Haiku.\n\n\t* eval_intern.h, io.c, thread_pthread.c: use autoconfisticated results.\n\nFri Aug  8 16:52:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (enc.mk): mkmf.rb requires rbconfig.rb.\n\n\t* common.mk (srcs-enc): renamed from transcodes.\n\n\t* enc/Makefile.in (make-workdir): creates object directories.\n\n\t* common.mk (encdb.h): see both $(srcdir)/enc and enc.\n\n\t* enc/make_encdb.rb: ditto.\n\n\t* enc/trans/make_transdb.rb: fix for the case no transdirs are given.\n\n\t* enc/trans/make_transdb.rb: converts only one transcoders for each\n\t  basename.\n\nFri Aug  8 10:53:52 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/resolv.rb: randomize source port and transaction id.\n\t  CVE-2008-1447.\n\n\t* lib/resolv-replace.rb (UDPSocket#bind): don't resolv host if host is\n\t  \"\".\n\nFri Aug  8 04:20:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: see both $(srcdir)/enc/trans and enc/trans.\n\n\t* enc/trans/make_transdb.rb: ditto.\n\nFri Aug  8 00:05:02 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/.document: added readline/readline.c.\n\n\t* ext/readline/readline.c: changed Copyright. added RDoc.\n\n\t* ext/readline/README.ja: fixed typo.\n\n\t* ext/readline/README: contents was moved RDoc.\n\nThu Aug  7 23:43:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* transcode_data.h (rb_transcoding): new field \"stateful\".\n\t  (rb_transcoder): preprocessor and postprocessor field removed.\n\t  change arguments of func_ii, func_si, func_io and func_so.\n\t  new field \"finish_func\".\n\n\t* tool/transcode-tblgen.rb: make FUNii, FUNsi and FUNio\n\t  generatable.\n\n\t* transcode.c (transcoder_lib_table): removed.\n\t  (transcoder_table): change structure.\n\t  (transcoder_key): removed because the above structure change.\n\t  (make_transcoder_entry): new function.\n\t  (get_transcoder_entry): ditto.\n\t  (rb_register_transcoder): follow the structure change.\n\t  (declare_transcoder): ditto.\n\t  (transcode_search_path): new function for breadth first search to\n\t  find a list of converters.\n\t  (transcode_search_path_i): new function.\n\t  (transcode_dispatch_cb): ditto.\n\t  (transcode_dispatch): use transcode_search_path.\n\t  (transcode_loop): follow the argument change.\n\t  (str_transcode): preprocessor and postprocessor stuff removed.\n\n\t* enc/trans/iso2022.erb.c: new file.  ISO-2022-JP conversion\n\t  re-implemented.\n\n\t* enc/trans/japanese.erb.c: ISO-2022-JP stuff removed.\n\n\t* enc/trans/utf_16_32.erb.c: follow argument change of FUNso.\n\n\t[ruby-dev:35798]\n\nThu Aug  7 22:55:44 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/README.ja: updated API document for Readline module.\n\nThu Aug  7 20:52:08 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb (login): raise FTPReplyError if passwd or acct\n\t  is not supplied.  fixed [ruby-core:18058].\n\nThu Aug  7 18:01:44 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* misc/ruby-mode.el (ruby-imenu-create-index-in-block): Fix the\n\t  regexp to only pick definition lines properly.  `module_function'\n\t  is not a definition of a module named `_function'.\n\nThu Aug  7 17:47:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend: add transdb.c.\n\nThu Aug  7 16:28:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.mk, {bcc,win}32/Makefile.sub (clean-ext): do not\n\t  use miniruby.\n\nThu Aug  7 14:17:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend: removed needless explicit commands.\n\n\t* lib/mkmf.rb, {bcc32,win32}/Makefile.sub (CLEANLIBS, CLEANOBJS):\n\t  moved clean targets to platform makefiles.\n\nThu Aug  7 13:12:30 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/getaddrinfo.c (gai_strerror): ignore only on Haiku.\n\t  a patch from <zn at mbf.nifty.com>, [ruby-dev:35796].\n\nThu Aug  7 06:31:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/process.rb (test_popen_fork): skip a test which is\n\t  freeze in FreeBSD.\n\nThu Aug  7 06:05:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* config.guess: add powerpc-apple-haiku, i586-pc-haiku.\n\t  see [ruby-core:18110]\n\nThu Aug  7 05:51:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* eval_intern.h: Add support to Haiku. see [ruby-core:18110]\n\n\t* include/ruby/defines.h: ditto.\n\n\t* configure.in: ditto.\n\n\t* thread_pthread.c: ditto.\n\n\t* io.c: ditto.\n\n\t* lib/mkmf.rb: ditto.\n\n\t* ext/socket/getaddrinfo.c: ditto.\n\n\t* ext/socket/extconf.rb: ditto.\n\n\t* ext/socket/socket.c: ditto.\n\n\t* ext/socket/addrinfo.h: ditto.\n\n\t* ext/socket/getnameinfo.c: ditto.\n\nThu Aug  7 05:43:32 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: mkdir enc/trans before build tables.\n\nThu Aug  7 05:18:30 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/depend: enc/*.c is source but enc/trans/*.c is generated.\n\nThu Aug  7 05:14:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* regenc.c (code_to_mbc): raise RangeError Integer#chr\n\t  when more than 255 is given with single byte encoding.\n\t  [ruby-dev:35789]\n\nThu Aug  7 05:06:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (run_final): runs finalizers with the object terminated.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): keeps finalized objects from\n\t  linking to freelist.\n\nThu Aug  7 04:43:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/depend: for build in other than srcdir.\n\nWed Aug  6 22:40:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (transcode_generate_node): code\n\t  argument removed.\n\nWed Aug  6 21:25:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (chain_finalized_object): deletes finalizers to be invoked from\n\t  finalizer_table.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): warns when could not invoke\n\t  finalizers.\n\nWed Aug  6 20:56:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/depend: transcode table generation depends on\n\t  tool/transcode-tblgen.rb.\n\nWed Aug  6 20:48:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): self-referencing finalizers\n\t  cannot be invoked.  [ruby-dev:35681]\n\nWed Aug  6 20:44:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: distinguish UNDEF and INVALID.\n\t  [ruby-dev:35709]\n\n\t* transcode.c (transcode_loop): don't need rb_enc_mbclen now.\n\nWed Aug  6 14:40:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (transdb.h): requires transcoders.\n\n\t* enc/depend (srcs): target for transcoders.\n\nWed Aug  6 14:04:08 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/depend: replace not only $(<:...) but also $<.\n\nWed Aug  6 13:54:30 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.status): export BASERUBY.\n\n\t* enc/depend: avoid GNU make'ism.\n\nWed Aug  6 07:59:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb (ActionMap#eql?): use == to compare @map.\n\nWed Aug  6 07:45:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/transcode-tblgen.rb: show generating tables in verbose mode.\n\t  (transcode_generate_node): call ActionMap#generate_node with showing\n\t  table name.\n\n\t* enc/trans/utf_16_32.erb.c: use transcode_generate_node.\n\nWed Aug  6 06:55:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): propagates fatal error and system\n\t  exit to the main thread.\n\nWed Aug  6 05:31:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_to_encoding_index, rb_to_encoding): check if the name\n\t  is ascii compatible as well as Encoding.find.\n\n\t* transcode.c (str_encode): no need to duplicate first.\n\nWed Aug  6 05:08:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sort_bang): reset to real class.\n\n\t* file.c (rb_find_file_ext, rb_find_file): ditto.\n\n\t* io.c (io_reopen): ditto.\n\nWed Aug  6 03:56:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (transcodes), tool/build-transcode: generates transcode\n\t  sources.\n\n\t* enc/trans/{japanese,korean,single_byte,utf_16_32}.c: to be\n\t  autogenerated now.\n\n\t* enc/depend: added rules for .c from .erb.c.\n\nTue Aug  5 20:46:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/build-transcode: new file.\n\n\t* tool/transcode-tblgen.rb: new file.\n\n\t* enc/trans/make_transdb.rb: exclude *.erb.c.\n\n\t* enc/depend: exclude *.erb.c.\n\n\t* enc/trans/utf_16_32.erb.c: new file.\n\n\t* enc/trans/single_byte.erb.c: new file.\n\n\t* enc/trans/japanese.erb.c: new file.\n\n\t* enc/trans/korean.erb.c: new file.\n\n\t* enc/trans/iso-8859-2-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-3-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-4-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-5-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-6-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-7-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-8-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-9-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-10-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-11-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-13-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-14-tbl.rb: new file.\n\n\t* enc/trans/iso-8859-15-tbl.rb: new file.\n\n\t* enc/trans/eucjp-tbl.rb: new file.\n\n\t* enc/trans/sjis-tbl.rb: new file.\n\n\t* enc/trans/euckr-tbl.rb: new file.\n\n\t* enc/trans/utf_16_32.c: regenerated.\n\n\t* enc/trans/single_byte.c: regenerated.\n\n\t* enc/trans/japanese.c: regenerated.\n\n\t* enc/trans/korean.c: regenerated.\n\n\t[ruby-dev:35730]\n\nTue Aug  5 18:02:53 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/io/nonblock/test_flush.rb (TestIONonblock#test_flush):\n\t  rescue some exceptions. [ruby-dev:35638]\n\nTue Aug  5 16:40:06 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb (chdir): handle 5xx errors correctly.\n\t  fixed [ruby-core:18057].\n\nTue Aug  5 16:38:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/win32.h, bcc32/Makefile.sub (config.h): bcc 5.8 has\n\t  stdint.h.\n\nTue Aug  5 16:13:05 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (disconnect): do not refer SSL::SSLSocket for\n\t  environments without OpenSSL. fixed [ruby-dev:35755].\n\nTue Aug  5 14:19:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_stat_mode): generalized st_mode mask.\n\nTue Aug  5 12:43:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (retry_sendfile, retry_read): ENOSYS and EWOULDBLOCK are not\n\t  defined on every platforms.\n\nTue Aug  5 12:34:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode_data.h (TRANSCODE_ERROR): common transcode failure\n\t  exception, would be changed later.\n\n\t* enc/trans/japanese.c (UNSUPPORTED_MODE): unsupported mode transition\n\t  exception.\n\nTue Aug  5 03:29:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sort_bang): respect overridden <=> for String and\n\t  Fixnum.  [ruby-core:17708]\n\n\t* include/ruby/node.h (NOEX_BASIC): basic definition method flag.\n\n\t* include/ruby/intern.h, vm_method.c (rb_method_basic_definition_p):\n\t  new function to check if the method is not redefined after the\n\t  initialization.\n\n\t* vm_method.c (rb_obj_respond_to): use rb_method_basic_definition_p.\n\nMon Aug  4 20:39:06 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* Makefile.in (update-rubyspec): renamed the rubyspec directory\n\t  \"spec\". Changed directory structure.\n\n\t* Makefile.in (test-rubyspec): ditto.\n\n\t* spec/README: described the structure of \"spec\" directory.\n\n\t* spec/default.mspec: configured for Matz's Ruby Implementation.\n\nMon Aug  4 19:21:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_tmp_new): added.\n\n\t* vm_eval.c (vm_call_super): fixed typo, and get rid of too large\n\t  alloca.  [ruby-core:17922]\n\nMon Aug  4 16:48:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (deferred_nodes, compstmt, arg, fixup_nodes, range_op): fix\n\t  up fixnum range literal in conditional as automagical line number\n\t  comparison.  [ruby-core:12124], [ruby-dev:35731]\n\nMon Aug  4 14:41:25 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* lib/net/smtp.rb (Net::SMTP::rcptto): fix a typo. a patch from\n\t  Masao Takaku <masao at nii.ac.jp>\n\t  fix [ruby-dev:35489].\n\nMon Aug  4 14:08:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (dump_ensure), process.c (run_exec_dup2),\n\t  string.c (rb_str_replace), transcode.c (transcode_dispatch): fixed\n\t  memory leaks.  based on patches from shinichiro.h <shinichiro.hamaji\n\t  AT gmail.com> at [ruby-dev:35751].\n\nSun Aug  3 19:32:52 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (hash2named_arg): refactoring.\n\n\t* ext/win32ole/win32ole.c (ole_invoke, fole_respond_to, ev_on_event,\n\t  fev_off_event): accepts Symbol argument.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\nSun Aug  3 10:41:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_shared_replace): fixed memory leak.  a patch from\n\t  shinichiro.h <shinichiro.hamaji AT gmail.com> at [ruby-dev:35742]\n\nSat Aug  2 22:55:41 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_err_in_callback.rb: remove temporary files.\n\t  some refactoring.\n\nSat Aug  2 15:51:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (yylex): 8 and 9 in octal integer should cause compile\n\t  error.  [ruby-dev:35729]\n\nSat Aug  2 01:06:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c: add U+FF5E to EUC-JP.\n\t  [ruby-dev:35720] [ruby-dev:35722]\n\nFri Aug  1 23:49:44 2008  TAKAO Kouji  <kouji@takao7.net>\n\n\t* ext/readline/extconf.rb: checked to have clear_history in\n\t  readline library.\n\t* ext/readline/readline.c (hist_get, hist_each, Init_readline):\n\t  The offset specified for the argument of history_get() might be\n\t  different in GNU Readline and libedit. If use libedit, it was\n\t  corrected that the computational method of the offset specified\n\t  for the argument of history_get() when the Readline module was\n\t  initialized was decided.\n\t  (hist_get, hist_set): If use libedit, accesses first an input\n\t  content in history when specifies the negative offset for the\n\t  argument of history_get() or replace_history_entry(). Then\n\t  checks the offset is negative in ruby.\n\t  (rb_remove_history): When compiling, it corrects it to warning\n\t  when libedit is used.\n\t  (hist_clear, Init_readline): added Readline::HISTORY.clear\n\t  method. [ruby-dev:35551]\n\t* test/readline/test_readline_history.rb: added unit test for\n\t  Readline::HISTORY.\n\nFri Aug  1 23:26:45 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (transcode_loop): undefined character is replaced with\n\t  only one character. [ruby-dev:35709]\n\nFri Aug  1 23:26:22 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\tMerged r16430(akr), r16431(akr), r16433(akr), r16469(nobu), and\n\tr17874(akr) from ruby_1_8.\n\n\t* Makefile.in (update-rubyspec): added\n\n\t* Makefile.in (test-rubyspec): added\n\nFri Aug  1 23:16:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c: add support for CP51932,\n\nFri Aug  1 22:59:40 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c: add U+FF0C,\n\nFri Aug  1 21:49:41 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/sdbm/test_sdbm.rb: add some tests.\n\nFri Aug  1 21:36:00 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* gc.c (allocate_heaps, assign_heap_slot, rb_newobj_from_heap):\n\t  reset during_gc before raising NoMemoryError.\n\nFri Aug  1 21:29:56 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm.c (Init_BareVM): check failure of malloc().\n\nFri Aug  1 20:55:27 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c (to_SHIFT_JIS_EF_BF_offsets): add U+FFF3,\n\t  U+FFF4, U+FFF5.\n\n\t* enc/trans/japanese.c (to_SHIFT_JIS_EF_BF_infos): ditto.\n\n\t* enc/trans/japanese.c (to_EUC_JP_EF_BF_infos): added.\n\n\t* enc/trans/japanese.c (to_EUC_JP_EF_BF): added.\n\n\t* enc/trans/japanese.c (to_EUC_JP_EF_infos): change size.\n\t  [ruby-dev:35714]\n\nFri Aug  1 18:27:15 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* parse.y (parser_yylex): removed an useless conditional, and magic\n\t  comment are ignored unless at the first of line.\n\n\t* test/ruby/test_m17n.rb (test_magic_comment_vim): added.\n\n\t* test/ruby/test_m17n.rb (test_magic_comment_at_various_positions):\n\t  added.\n\nFri Aug  1 14:54:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_seekdir): no need to rewind to seek forward.\n\nFri Aug  1 05:31:08 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (output_replacement_character):\n\t  rename from _get_replacement_character.\n\n\t* transcode.c (output_replacement_character):\n\t  fix replacement on UTF-32{BE,LE}. [ruby-dev:35705]\n\n\t* transcode.c (transcode_loop): ditto.\n\n\t* test/ruby/test_transcode.rb (test_invalid_replace):\n\t  add for above.\n\nFri Aug  1 01:01:49 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* proc.c (rb_proc_call_with_block): reduce comparison.\n\nWed Jul 30 21:08:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/syck/syck.c (syck_free_parser): fix memory leak by\n\t  YAML::Syck.compile.\n\nThu Jul 31 22:17:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (VpMult): prevent memory leak.\n\nThu Jul 31 20:05:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/test_transcode.rb (test_unicode_public_review_issue_121):\n\t  fix option1 and 3.\n\nThu Jul 31 19:54:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (get_replacement_character): use U+FFFD as replacement\n\t  character when convert to Unicode.\n\n\t* test/ruby/test_transcode.rb (test_unicode_public_review_issue_121):\n\t  rename from test_public_review_issue_121.\n\n\t* test/ruby/test_transcode.rb (test_unicode_public_review_issue_121):\n\t  enable option2.\n\nThu Jul 31 17:00:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (get_replacement_character): fix: invalid byte sequence\n\t  is always replaced \"\\x00?\".\n\nThu Jul 31 16:37:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/rubygems/test_gem_ext_configure_builder.rb\n\t  (test_self_build_fail): remove extra newline. [ruby-dev:35704]\n\nThu Jul 31 15:11:11 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: added test_shift_jis\n\t  (contributed by Yoshihiro Kambayashi) and\n\t  test_public_review_issue_121\n\t  (see http://www.unicode.org/review/pr-121.html)\n\nThu Jul 31 13:18:30 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* include/ruby/ruby.h (struct RString): size of ary must be\n\t  RSTRING_EMBED_LEN_MAX + 1.\n\nThu Jul 31 12:23:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_unpack): upper half of hexdigits has never been used.\n\nThu Jul 31 11:31:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/syck.h (ASSERT): fix typo at r18176.\n\n\t* ext/syck/rubyext.c (rb_syck_compile): expression in ASSERT() has no\n\t  effect unless debug mode.\n\nThu Jul 31 10:51:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* iseq.c (ruby_iseq_disasm_insn): suppress warnings on platforms which\n\t  int size differs from pointer size.\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_get_asn1type): ditto\n\n\t* ext/syck/rubyext.c (rb_syck_err_handler),\n\t  (syck_default_error_handler): ditto.\n\nThu Jul 31 02:21:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/syck/rubyext.c (rb_syck_compile): remove meaningless branch\n\t  that misleads into thinking that the variable sav may be\n\t  uninitialized.\n\nThu Jul 31 01:25:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_mutex_unlock_all): mutex is no longer a ruby object.\n\nThu Jul 31 01:18:07 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* parse.y (magic_comment_encoding): remove meaningless null check.\n\nThu Jul 31 01:09:28 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (VpIsRoundMode): fix tautology\n\t  condition.\n\nThu Jul 31 00:58:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_unpack): reduced static variables.\n\nThu Jul 31 00:10:20 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* proc.c (rb_proc_call_with_block): prevent null reference.\n\nWed Jul 30 22:19:13 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* parse.y (vtable_free): remove meaningless null check.\n\nWed Jul 30 22:08:25 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* dir.c (struct dir_data): change path field char * to VALUE.\n\t  (mark_dir): new function for mark path field.\n\t  (free_dir): follow the path field change.\n\t  (dir_s_alloc): ditto.\n\t  (dir_initialize): ditto.\n\t  (dir_s_open): ditto.\n\t  (dir_inspect): ditto.\n\t  (dir_path): return (duplicate of) the path field to preserve\n\t  encoding.  [ruby-dev:35685]\n\nWed Jul 30 22:06:56 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (sym_inspect): remove dead code.\n\nWed Jul 30 21:32:52 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ChangeLog: fix wrong method name and add reference.\n\nWed Jul 30 21:30:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* regparse.c (name_add): fix memory leak.\n\nWed Jul 30 21:08:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* regparse.c (parse_exp): fix memory leak at Regexp.new(\"x{1,1}\").\n\nWed Jul 30 17:48:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_select): recalc the rest of timeout for each\n\t  iterations.  [ruby-core:18015]\n\nTue Jul 29 23:37:37 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (io_ungetc): raise NotImplementedError when ungetc is called\n\t  against dummy encoding IO.  [ruby-dev:35686]\n\n\t* io.c (rb_io_getline_1): ditto when gets with delimiter is called.\n\n\t* io.c (io_getc): ditto when getc is called.\n\n\t* test/ruby/test_io_m17n.rb (test_terminator_stateful_conversion,\n\t  test_getc_stateful_conversion, test_ungetc_stateful_conversion):\n\t  these tests should raise NotImplementedError.\n\nTue Jul 29 22:55:34 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_io.rb (pipe): run reader thread and writer thread.\n\nTue Jul 29 21:38:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (Init_bigdecimal): fix typo.\n\nTue Jul 29 21:35:59 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/etc/test_etc.rb (test_passwd): age field may be string under\n\t  some environments.\n\nTue Jul 29 17:54:35 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (char_casecmp): fix: return 0 if either of characters is NUL.\n\nTue Jul 29 13:17:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/etc/test_etc.rb (test_getpwuid): fix for users whose uid is\n\t  shared.\n\nTue Jul 29 05:37:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_find_file_ext, rb_find_file): explicit relative path\n\t  which starts with \"./\" or \"../\" should be searched from cwd\n\t  instead of load path.  [ruby-dev:35673]\n\nTue Jul 29 02:39:46 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* math.c (math_atanh): raise EDOM on FreeBSD when atanh(1).\n\n\t* math.c (math_log): ditto.\n\n\t* math.c (math_log2): ditto.\n\n\t* math.c (math_log10): ditto.\n\n\t* test/ruby/test_math.rb: test for above.\n\nTue Jul 29 01:41:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* dir.c (struct dir_data): intenc field removed.\n\t  (dir_s_alloc): intenc initialization removed.\n\t  (dir_initialize): :internal_encoding option removed.  dirname code\n\t  conversion removed.\n\t  (dir_enc_str): code conversion removed.\n\t  [ruby-dev:35661]\n\nMon Jul 28 21:32:17 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/: use PNG instead of zlib as binary data.\n\nMon Jul 28 21:24:33 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.[ch] (cond_every_entry, rb_thread_cond_struct): reverted\n\t  r18239 because r18245 made the changes unnecessary.\n\n\t* thread.c (rb_mutex_struct): define after including thread_{pthread,\n\t  win32}.c.\n\nMon Jul 28 21:00:10 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_require.rb (test_require_too_long_filename):\n\t  Kernel#require does not use dln_find_file_r (at r18242).\n\nMon Jul 28 20:17:03 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm_core.h: move the definition of struct rb_mutex_struct.\n\n\t* thread.c: ditto.\n\nMon Jul 28 18:58:46 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (mutex_unlock): fix typo.\n\nMon Jul 28 18:15:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_find_file_ext, rb_find_file): not to split load path with\n\t  path separator.  [ruby-Bugs-21356]\n\nMon Jul 28 18:14:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (overlapped_socket_io, fcntl, rb_w32_close): must not\n\t  pass a pointer to int which is smaller than st_data_t on mswin64.\n\nMon Jul 28 16:49:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild, overlapped_socket_io): suppress\n\t  warnings.\n\nMon Jul 28 16:06:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (MAXPATHLEN): define before use.\n\nMon Jul 28 16:01:12 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.[ch] (cond_every_entry, rb_thread_cond_struct): moved\n\t  the definitions from .c to .h because rb_thread_cond_struct is used\n\t  in vm_core.h.\n\nMon Jul 28 14:29:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.c (load_lib): use dln_find_file_r instead of dln_find_file.\n\nMon Jul 28 00:18:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm_core.h, thread.c: It is now prohibited to use Data_Get_Struct in\n\t  *_free against an object that is going to be free'ed.  So, change type\n\t  of thread_t#keeping_mutexes from VALUE to mutex_t.\n\n\t* vm.c: remove mark to keeping_mutexes.\n\nSun Jul 27 23:32:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/openssl/test_ssl.rb (server_loop): rescue Errno::EINVAL and\n\t  Errno::ECONNABORTED.\n\nSun Jul 27 22:11:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* bootstraptests/method.rb: increase RLIMIT_STACK size to 4M+8Kbytes\n\t  because FreeBSD fails this less than that.\n\nSun Jul 27 21:45:59 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c (gc_mark_children, obj_free): T_DEFERRED should not be appear.\n\n\t* gc.c (gc_sweep, finalize_list): fix to decrement heap_slot#limit\n\t  after executing finalizer.\n\nSun Jul 27 14:48:37 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/ruby.h: add a type T_DEFERRED.\n\n\t* gc.c: fix deferred finalizer system.  finalize processes of\n\t  T_DATA and T_FILE are executed after gc process.\n\t  And fix to use BUILTIN_TYPE() instead of seeing flag.\n\n\t* thread.c, vm_core.h: add RUBY_VM_SET_FINALIZER_INTERRUPT()\n\t  and check interrupt_flag at rb_thread_execute_interrupts().\n\n\t* thread.c (mutex_mark): fix to mark next_mutex.\n\n\t* vm.c (rb_thread_mark): fix to mark keeping_mutexes.\n\nSun Jul 27 09:15:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.h (dln_find_exe, dln_find_file): deprecated, use reentrant\n\t  versions instead.\n\nSun Jul 27 09:02:32 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/tuplespace.rb: merged from 1.8.\n\n\t* test/rinda/test_rinda.rb: merged from 1.8.\n\nSat Jul 26 22:45:18 2008  Yuki Sonoda (Yugui)  <yugui@yugui.jp>\n\n\t* sample/exyacc.rb: fixed NoMethodError(Kernel#sub!).\n\t  replaced use of special variables with explicit IO\n\t  operations.\n\nSat Jul 26 21:17:18 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): add\n\t  WIN32OLE_EVENT#handler=, WIN32OLE_EVENT#handler\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\nSat Jul 26 07:44:14 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (add_event_call_back): remove unused\n\t  variable.\n\nFri Jul 25 23:48:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (gc_sweep, obj_free, run_final): defer finalizers of IO and\n\t  Data.  [ruby-dev:35578]\n\nFri Jul 25 23:35:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils#split_header_value):\n\t  reduce backtrack.  based on a fix by Christian Neukirchen\n\t  <chneukirchen AT gmail.com>.\n\nFri Jul 25 21:55:38 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/enc/test_koi8.rb: move from test/ruby/test_koi8.rb.\n\nFri Jul 25 21:09:32 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_invoke, add_event_callback,\n\t  rescue_callback): refactoring.\n\nFri Jul 25 20:52:44 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/err_in_callback.rb: add test of raising\n\t  exception in WIN32OLE_EVENT callback.\n\n\t* test/win32ole/test_err_in_callback.rb: ditto.\n\nFri Jul 25 20:43:57 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): add\n\t  WIN32OLE_EVENT#off_event.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\n\t* test/win32ole/test_win32ole_event.rb: some refactoring.\n\nFri Jul 25 19:50:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regint.c (xmalloc, xrealloc, xfree): not to use ruby managed memory.\n\nFri Jul 25 15:52:40 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (vm_invoke_proc): skip setting safe_level if\n\t  it from bmethod.  This change makes test/ruby/test_proc.rb pass.\n\nFri Jul 25 10:00:00 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: refactoring/cleanup of\n\t  test_iso_2022_jp(_1)\n\nFri Jul 25 04:12:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_convert): output of mime encode is US-ASCII.\n\t  [ruby-list:45257]\n\nFri Jul 25 02:43:11 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* sample/coverage.rb: move from lib/coverage.rb because this remains in\n\t  an early phase of development.\n\nFri Jul 25 00:10:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_find_file_ext, rb_find_file): converts Windows style path\n\t  to Cygwin path.  [ruby-dev:35647]\n\nThu Jul 24 16:30:21 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (exit_handler): use st_free_table() to free socklist.\n\n\t* win32/win32.c (rb_w32_pipe_exec, rb_w32_accept, rb_w32_socket,\n\t  rb_w32_socketpair): should check and release fd and sockets/handles\n\t  if an error occurs in rb_w32_open_osfhandle().\n\nThu Jul 24 16:05:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (overlapped_socket_io): avoid warnings.\n\n\t* thread_win32.c (ubf_handle): refactoring.\n\nThu Jul 24 07:01:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c: got rid of improper casts.\n\nWed Jul 23 23:19:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/socket/test_tcp.rb (test_recvfrom): replace an irrelevant test\n\t  for old behavior.\n\nWed Jul 23 21:38:16 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_marshal.rb: suppress warning during test.\n\nWed Jul 23 21:35:53 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_dir.rb: suppress warning during test.\n\nWed Jul 23 18:27:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/{stubs,tcltklib}.c, ext/tk/tkutil/tkutil.c: fix warnings\n\t  about constness and signedness.\n\nWed Jul 23 17:04:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/openssl_missing.h (d2i_of_void): define for older\n\t  versions.  [ruby-dev:35637]\n\nWed Jul 23 13:53:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/curses/extconf.rb: use try_static_assert.\n\nWed Jul 23 10:06:19 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/zlib/test_zlib.rb (TestZlibDeflate#test_params): suppress a\n\t  finalizer warning.\n\nWed Jul 23 06:25:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck: suppress warnings more.\n\nWed Jul 23 03:19:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (struct input_code.name, input_codename):\n\t  constified.\n\nWed Jul 23 03:02:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck: suppress warnings.\n\nWed Jul 23 00:34:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl: suppress warnings.\n\nTue Jul 22 23:01:34 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/syck/rubyext.c, ext/syck/yaml2byte.c, ext/syck/emitter.c,\n\t  ext/syck/syck.c, ext/syck/handler.c, ext/syck/syck.h: suppress GCC\n\t  warning.\n\nTue Jul 22 20:42:24 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimalCmp): BigDecimal#<=> should\n\t  return nil if an argument can't be coerced into BigDecimal.\n\n\t* ext/bigdecimal/bigdecimal.h, ext/bigdecimal/bigdecimal.c\n\t  (VpIsNegDoubleZero, VpItoV): comment out unused functions.\n\nTue Jul 22 20:33:54 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/rdoc/test_rdoc_parser_ruby.rb (teardown): close tempfile.\n\nTue Jul 22 19:38:38 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: added two comments\n\nTue Jul 22 18:08:34 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* README.EXT, README.EXT.ja: mention about FIX2LONG and NUM2LONG.\n\t  see [ruby-dev:35197]\n\nTue Jul 22 17:53:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (insn_data_to_s_detail), file.c (rb_stat_inspect),\n\t  iseq.c (ruby_iseq_disasm_insn, ruby_iseq_disasm),\n\t  process.c (pst_message), re.c (match_inspect): use rb_str_catf.\n\n\t* dir.c (dir_inspect), iseq.c (iseq_inspect, insn_operand_intern): use\n\t  rb_sprintf.\n\n\t* error.c (rb_name_error, rb_raise, rb_loaderror, rb_fatal): use\n\t  rb_vsprintf.\n\nTue Jul 22 17:20:25 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (init_func): new function to get API's address which\n\t  is often used and not supported on all Windows.\n\n\t* win32/win32.c (overlapped_socket_io): shouldn't use overlapped I/O if\n\t  CancelIo() is not supported.\n\nTue Jul 22 16:47:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h, sprintf.c (rb_str_catf, rb_str_vcatf): new\n\t  functions.  [ruby-dev:35597]\n\n\t* string.c (rb_str_capacity): new function to return the capacity.\n\nTue Jul 22 16:08:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (connect_blocking, socks_connect_blocking,\n\t  ruby_connect): cast.\n\nTue Jul 22 11:05:08 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_dir.rb: use realpath of tmpdir. [ruby-dev:35481]\n\n\t* test/ruby/test_process.rb: ditto.\n\nTue Jul 22 09:51:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el: fix here-doc strings with inner quotes.  patches\n\t  by Nathan Weizenbaum <nex342 AT gmail.com> from [ruby-core:17615]\n\t  through [ruby-core:17910].\n\nTue Jul 22 04:26:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_str_buf_new2): optimization for literals.\n\n\t* string.c (str_buf_cat): returns VALUE.\n\nTue Jul 22 03:34:01 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc*: Update to RDoc 2.1.0 r112.\n\nTue Jul 22 02:51:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_str_buf_cat2, rb_str_cat2): optimization\n\t  for literals.\n\nTue Jul 22 02:50:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* README.EXT, README.EXT.ja (1.5 Manipulating Ruby data): fix the\n\t  prototype of rb_vsprintf, and added rb_str_cat2.  [ruby-dev:35622]\n\nMon Jul 21 17:15:38 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_filesystem_encoding): use locale encoding on Unix.\n\t  [ruby-dev:35617]\n\nMon Jul 21 15:29:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/vsnprintf.c (struct __sbuf, FILE): use size_t.\n\n\t* sprintf.c (ruby__sfvwrite): ditto.\n\nMon Jul 21 13:55:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* README.EXT, README.EXT.ja (1.5 Manipulating Ruby data): mentioned\n\t  rb_sprintf and rb_vsprintf.  [ruby-dev:35611]\n\nMon Jul 21 10:25:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (prepare_getline_args): check if rs is a string when non-nil\n\t  lim is given.  [ruby-dev:35610]\n\nMon Jul 21 04:55:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* dir.c (dir_initialize): use rb_convert_type instead of\n\t  rb_check_convert_type to prevent SEGV by Dir.new(\".\", true).\n\t  (dir_initialize): use FilePathValue before rb_enc_get(dirname) to\n\t  prevent SEGV by Dir.new(0).\n\nMon Jul 21 04:42:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_s_union): useless rb_enc_get call removed to prevent\n\t  SEGV by Regexp.union(\"\", nil).\n\nSun Jul 20 22:50:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): NODE_POSTEXE should set each end\n\t  procs only once.  [ruby-dev:35596]\n\nSun Jul 20 16:00:37 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_Invoke): use rb_protect\n\t  instead of rb_rescue2. [ruby-dev:35595]\n\nSun Jul 20 01:23:24 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_Invoke): little refactoring.\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_GetIDsOfNames): return\n\t  ITypeInfo::GetIDsOfNames().\n\nSat Jul 19 09:31:35 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_Invoke): little refactoring.\n\n\t* ext/win32ole/win32ole.c: add document of inspect methods.\n\nSat Jul 19 06:08:43 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc*: Import RDoc r104.  Various make test-all fixes.\n\nSat Jul 19 00:27:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (check_uint, rb_num2uint, rb_fix2uint): fixed wrong check\n\t  about 64bit positive value.\n\nFri Jul 18 23:23:37 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_Invoke): avoid cfp consistency\n\t  error when exception raised in event callback.\n\nFri Jul 18 14:52:14 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (socklist): table for registering socket options\n\t  (currently only O_NONBLOCK).\n\n\t* win32/win32.c (StartSockets, exit_handler): alloc/free socklist.\n\n\t* win32/win32.c (is_socket): use socklist.\n\n\t* win32/win32.c (rb_w32_accept, rb_w32_socket, rb_w32_socketpair):\n\t  register new socket to socklist.\n\n\t* win32/win32.c (rb_w32_close): remove closing socket from socklist.\n\n\t* win32/win32.c (fcntl): register socket options.\n\n\t* win32/win32.c (overlapped_socket_io): send to/recv from socket with\n\t  overlapped operation if the socket is not nonblocking mode.\n\t  [experimental]\n\n\t* win32/win32.c (rb_w32_send, rb_w32_sendto, rb_w32_recv,\n\t  rb_w32_recvfrom): use overlapped_socket_io().\n\n\t* win32/win32.c (open_ifs_socket): set overlapped mode. this is the\n\t  default mode of winsock's socket(), so lacking it is an old bug.\n\nFri Jul 18 09:44:30 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/*: Import RDoc r101.\n\nThu Jul 17 23:45:55 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/rdoc/test_rdoc_c_parser.rb (teardown): close tempfile.\n\nThu Jul 17 21:08:49 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_process.rb (test_getpriority, test_setpriority): use\n\t  PRIO_PROCESS instead of PRIO_USER.\n\nThu Jul 17 20:41:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* pack.c (pack_unpack): fix v and V with big endian.\n\t  [1].pack(\"V\").unpack(\"V\") was [4294967296].\n\nThu Jul 17 20:35:03 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* pack.c (pack_pack): fix i! with big endian.  [1].pack(\"i!\") was\n\t  \"\\0\\0\\0\\0\".\n\nThu Jul 17 16:48:40 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect): select() for connect() has\n\t  mean only when the socket is non-blocking.\n\nThu Jul 17 10:55:24 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* mkconfig.rb: Simplify expression for RDoc.\n\nThu Jul 17 10:21:15 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (check_uint, rb_num2uint, rb_fix2uint): strict check.\n\t  fixed [ruby-dev:33683]\n\nThu Jul 17 04:19:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): wake up joining threads.\n\n\t* thread.c (sleep_forever, sleep_timeval): return when interrupted.\n\t  [ruby-dev:35542]\n\n\t* thread.c (timer_thread_function): restore main thread status.\n\t  [ruby-core:17270]\n\nThu Jul 17 01:27:38 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (appendline): remove invalid access.\n\nWed Jul 16 18:04:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (signal_exec, trap_handler): trap accepts a string as\n\t  command.  [ruby-dev:35533]\n\nWed Jul 16 00:04:30 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/envutil.rb (Test::Unit::Assertions#assert_in_out_err): new\n\t  method.\n\n\t* test/ruby/test_argf.rb: use assert_in_out_err instead of\n\t  EnvUtil.rubyexec.\n\n\t* test/ruby/test_module.rb: ditto.\n\n\t* test/ruby/test_require.rb: ditto.\n\n\t* test/ruby/test_objectspace.rb: ditto.\n\n\t* test/ruby/test_object.rb: ditto.\n\n\t* test/ruby/test_string.rb: ditto.\n\n\t* test/ruby/test_method.rb: ditto.\n\n\t* test/ruby/test_variable.rb: ditto.\n\n\t* test/ruby/test_io.rb: ditto.\n\n\t* test/ruby/test_rubyoptions.rb: ditto.\n\n\t* test/ruby/test_exception.rb: ditto.\n\n\t* test/ruby/test_class.rb: ditto.\n\n\t* test/ruby/test_thread.rb: ditto.\n\nTue Jul 15 22:34:03 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (ruby_version): follow changes in configure.in.\n\nTue Jul 15 21:58:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/{,tkutil/}extconf.rb: ruby/ruby.h no longer needs to be\n\t  checked.\n\n\t* ext/tk/{tcltklib.c,tkutil/tkutil.c}: check macros for each headers.\n\nTue Jul 15 21:45:41 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/tk/extconf.rb, ext/tk/tcltklib.c, ext/tk/tkutil/tkutil.c: Do\n\t  not test ruby/ruby.h, which makes OS X's gcc pick the wrong\n\t  header file from Ruby.framework.\n\nTue Jul 15 21:31:26 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* configure.in (--with-ruby-version): Add a new option to specify\n\t  the ruby version string for version specific directories.\n\t  [ruby-dev:35490]\n\n\t* mkconfig.rb: Definition of ruby_version is now determined by the\n\t  configure script.\n\nTue Jul 15 18:14:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect, s_accept): check before readable/\n\t  writable by select() instead of wrapping in blocking region.\n\n\t* ext/socket/socket.c (bsock_send, s_recvfrom, udp_send, unix_send_io,\n\t  unix_recv_io): should check readable/writable before calling blocking\n\t  functions.\n\t  see [ruby-dev:35446]\n\nTue Jul 15 18:12:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.c (ubf_handle): cancel blocking IO if it can (only\n\t  Vista). see [ruby-dev:35446]\n\n\t* win32/win32.c (errmap): add ERROR_OPERATION_ABORTED as EINTR.\n\nMon Jul 14 20:35:21 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole_event.rb (teardown): fix typo.\n\nMon Jul 14 18:47:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_loop): constified.\n\n\t* transcode.c (str_transcode): rb_str_set_len() sets a delimiter.\n\n\t* transcode_data.h (rb_transcoder): constified preprocessor and\n\t  postprocessor input.\n\n\t* enc/trans/japanese.c: ditto.\n\nSun Jul 13 05:37:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/ruby.h (PRI_PTRDIFF_PREFIX, PRI_SIZE_PREFIX): typo.\n\n\t* {bcc32,win32}/Makefile.sub: (SIZEOF_SIZE_T, SIZEOF_PTRDIFF_T): added.\n\nSat Jul 12 23:54:55 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (LIBRUBY_DLDFLAGS): import library which created\n\t  with DLL is broken. save import library which created by lib.exe and\n\t  install it.\n\t  fixed the problem mentioned at the postscript of [ruby-dev:35448]\n\nSat Jul 12 23:24:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c: use PRIuSIZE.\n\nSat Jul 12 22:41:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (PRI_PTRDIFF_PREFIX, PRI_SIZE_PREFIX): fixed typo.\n\nSat Jul 12 22:30:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (HAVE_RUBY_RUBY_H): defines macros so that\n\t  extconf.rb do not need to check if headers exist under separated\n\t  directory.  [ruby-dev:35437]\n\n\t* include/{ruby,rubyio,rubysig}.h, include/ruby/intern.h: use\n\t  \"ruby/...\" instead of <ruby/...>.\n\nSat Jul 12 22:17:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (sizeof ptrdiff_t): check for size of ptrdiff_t.\n\n\t* include/ruby/ruby.h (PRI?PTRDIFF, PRI?SIZE): printf conversion\n\t  specifiers for ptrdiff_t and size_t/ssize_t.\n\n\t* insns.def (leave), marshal.c (long_toobig), transcode.c\n\t  (str_transcode), vm_dump.c (control_frame_dump, stack_dump_each),\n\t  (debug_print_register, debug_print_pre): t and z length modifiers\n\t  are C99.\n\nSat Jul 12 16:02:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/xmlrpc/client.rb (XMLRPC::Client#do_rpc): requires\n\t  webrick/cookie.  [ ruby-Bugs-21139 ]\n\nSat Jul 12 09:25:07 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole_event.rb: add test\n\t  for WIN32OLE_EVENT#on_event_with_outargs\n\n\t* test/win32ole/test_win32ole_event.rb(teardown): calling\n\t  WIN32OLE_EVENT.message_loop\n\nSat Jul 12 01:54:13 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_select): shouldn't pass non-socket handle to\n\t  original select().\n\nFri Jul 11 23:05:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/zlib/test_zlib.rb: add a test for Zlib::Deflate#params.\n\nFri Jul 11 22:58:28 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/zlib/zlib.c (rb_deflate_params): flush before deflateParams.\n\t  [ruby-core:17675]\n\nFri Jul 11 22:09:01 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/setup.rb, win32/Makefile.sub (PLATFORM): use $(PLATFORM)\n\t  instead of $(OS) because ENV[\"OS\"] is used in test-all (drb).\n\nFri Jul 11 20:51:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_wait_readable, rb_io_wait_writable): check if the file\n\t  descriptor is closed.\n\n\t* thread.c (rb_thread_wait_fd_rw): ditto.\n\nFri Jul 11 16:16:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_accept, rb_w32_socket, rb_w32_socketpair):\n\t  prohibit inheritance of sockets, too. [experimental]\n\nFri Jul 11 14:39:49 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild): the measures for Vista is no longer\n\t  unnecessary.\n\nFri Jul 11 06:16:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (process.o): depends on util.h.\n\nFri Jul 11 05:07:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h (pipe): prohibit inheritance.\n\t  fixed: [ruby-dev:35421]\n\nFri Jul 11 00:56:46 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (thread_create_core): fix GC problem.\n\t  [ruby-core:17669]\n\nThu Jul 10 22:06:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pstore.rb (PStore#transaction): return the result from the\n\t  block.  [ruby-core:17718]\n\nThu Jul 10 21:15:49 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole_typelib.rb: add some illegal argument\n\t  test.\n\n\t* test/win32ole/test_win32ole_type.rb: ditto.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\n\t* test/win32ole/test_win32ole_param.rb: ditto.\n\n\t* test/win32ole/test_win32ole_method.rb: ditto.\n\nThu Jul 10 19:38:35 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): r17993 revert.\n\nThu Jul 10 18:29:41 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): finish writing script\n\t  before spawn(\"ruby\") to avoid blocking in win32.\n\nThu Jul 10 17:20:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (insert): follow recent changes of globbing.\n\nThu Jul 10 14:09:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/coverage/coverage.c (rb_coverage_start): return nil.\n\nThu Jul 10 12:41:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_wait_for): fixed variable name.\n\nThu Jul 10 12:09:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (rb_thread_t), vm.c (rb_thread_mark), process.c\n\t  (rb_last_status_get, rb_last_status_set, rb_last_status_clear):\n\t  moved last_status from rb_vm_t.  [ruby-dev:35414]\n\n\t* vm.c (th_init2): initialize last_status with nil.\n\nThu Jul 10 12:09:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_wait_for): wait until timed out only when\n\t  sleeping with timeout.\n\nWed Jul  9 22:41:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (sleep_timeval): wait until timed out.  [ruby-core:17270]\n\nWed Jul  9 20:58:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* array.c (rb_ary_fill): don't raise even if length is negative.\n\t  [ruby-core:17483], [ruby-core:17661]\n\nWed Jul  9 20:18:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_va_args_macro): check for __VA_ARGS__.\n\n\t* thread.c (thread_debug): show source name and line if possible.\n\n\t* thread_{pthread,win32}.c (rb_thread_create_timer_thread): needs more\n\t  stack for debug.\n\nWed Jul  9 11:13:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/profiler.rb (Profiler__#print_profile): sort in the descending\n\t  order of cumulative time.\n\nWed Jul  9 11:11:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (struct glob_args, rb_glob_caller, rb_glob2, push_pattern),\n\t  (glob_brace): make consistent prototypes.\n\n\t* dir.c (push_glob): set enc in the caller of rb_glob_caller as well\n\t  as rb_glob2.\n\nWed Jul  9 09:12:11 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (options): use input_endian.\n\nWed Jul  9 01:38:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_succ): alphabets or numerics mutually enclosing\n\t  non-alphanumeric characters can carry up.  e.g., \"1.999\".succ should\n\t  be \"2.000\".\n\nWed Jul  9 00:12:31 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (rb_set_coverages, rb_reset_coverages): enable and disable\n\t  coverage measurement.\n\n\t* thread.c (rb_get_coverages): rename and move from vm.c.\n\n\t* vm.c (rb_vm_get_coverages): ditto.\n\n\t* iseq.c (prepare_iseq_build): ditto.\n\n\t* thread.c (clear_coverage): ditto.\n\n\t* parse.y (coverage): ditto.\n\n\t* ext/coverage/coverage.c: use above functions, add new method\n\t  Coverage.start and fix rdoc .\n\nTue Jul  8 23:02:35 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (find_default_source): bug fix when\n\t  OLE object does not have default source interface.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\nTue Jul  8 22:56:23 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (rb_enable_coverages): hide coverage array by setting 0 to\n\t  klass during measurement.\n\n\t* parse.y (coverage, yycompile0): ditto.\n\n\t* iseq.c (prepare_iseq_build): use rb_hash_lookup instead of\n\t  rb_hash_aref.\n\n\t* thread.c (rb_coverage_result): restore klass of coverage array\n\t  and return it.\n\n\t* thread.c (update_coverage): check whether its klass is 0.\n\nTue Jul  8 22:28:25 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/debug.rb, lib/profile.rb: fix to use RubyVM.\n\n\t* lib/rdoc/parsers/parse_c.rb: ditto.\n\nTue Jul  8 21:45:22 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm.c (rb_vm_mark): mark the last element of special_exceptions.\n\nTue Jul  8 19:55:40 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (find_default_source): try to\n\t  find COCLASS when WIN32OLE object is not COCLASS.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto\n\nTue Jul  8 13:38:22 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.h: fix to skip inserting a trace insn.\n\nTue Jul  8 11:41:17 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* dir.c: shouldn't use ruby object in globbing, because glob service\n\t  routines are called before initializing ruby on some platforms (ex.\n\t  windows).\n\nTue Jul  8 10:08:40 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (Next): use rb_enc_mbclen. [ruby-dev:35390]\n\nTue Jul  8 07:59:40 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (Next): use rb_enc_precise_mbclen.\n\nTue Jul  8 02:27:23 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c: preserve encoding of strings in glob and fnmatch.\n\n\t* include/ruby/ruby.h: related changes.\n\nTue Jul  8 00:22:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_succ): limit carrying in an alphanumeric region if\n\t  exists.  [ruby-dev:35094]\n\nMon Jul  7 20:39:28 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(Init_win32ole): add\n\t  WIN32OLE_TYPE#source_ole_types, WIN32OLE_TYPE#default_ole_types,\n\t  WIN32OLE_TYPE#default_event_sources.\n\n\t* test/win32ole/test_win32ole_type.rb: ditto.\n\nMon Jul  7 19:45:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/test_dir.rb (test_chroot_nodir): add Errno::EPERM.\n\nMon Jul  7 17:12:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/ipaddr.rb (IPAddr#initialize): get rid of ArgumentError in\n\t  IPAddr#to_range.  a patch from okkez <okkez000 AT gmail.com> in\n\t  [ruby-dev:35091].\n\nMon Jul  7 01:24:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_extname): fix for file name with spaces.\n\t  [ruby-talk:307404]\n\nMon Jul  7 00:59:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread_pthread.c (ruby_init_stack): prior STACK_END_ADDRESS if\n\t  found.  [ruby-core:17624]\n\nSun Jul  6 23:48:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (bsock_send, s_recvfrom, ruby_connect, s_accept),\n\t  (udp_send, unix_send_io, unix_recv_io): blocking region support.\n\nSun Jul  6 18:34:35 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole_type.rb (test_initialize): add\n\t  more assertions.\n\nSun Jul  6 10:12:21 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/test/unit/collector/objectspace.rb\n\t  (Test::Unit::Collector::ObjectSpace::NAME): fix a typo.\n\nSun Jul  6 00:56:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (host_str): fix type mismatch in rb_raise\n\t  format and argument.\n\t  (port_str): ditto.\n\t  (unix_recv_io): ditto.\n\t  (sock_s_unpack_sockaddr_un): ditto.\n\nSat Jul  5 23:42:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (NUM2INT): cast to int.\n\t  (FIX2INT): ditto.\n\t  (NUM2UINT): cast to unsigned int.\n\t  (FIX2UINT): ditto.\n\nSat Jul  5 23:10:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_pipe): new function for handling EMFILE and ENFILE\n\t  error of pipe().\n\t  (UPDATE_MAXFD_PIPE): removed.\n\t  (pipe_open): use rb_pipe.\n\t  (rb_io_s_pipe): ditto.\n\n\t* process.c (pipe_nocrash): use rb_pipe.\n\n\t* include/ruby/intern.h (rb_pipe): declared.\n\nSat Jul  5 22:22:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_initialize): NUM2INT() returns int.\n\n\t* thread.c (timer_thread_function), thread_pthread.c (thread_timer),\n\t  thread_win32.c (timer_thread_func), thread_{pthread,win32}.c\n\t  (rb_thread_create_timer_thread): passing VM.\n\nSat Jul  5 20:53:18 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_word.rb: check word installed.\n\nSat Jul  5 16:12:54 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c: revert. before lazy sweep.\n\nSat Jul  5 09:55:44 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE#ole_respond_to?\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nSat Jul  5 08:48:05 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (unescape_nonascii): add has_property argument not to\n\t  raise error by /\\p{Hiragana}\\u{3042}/ in EUC-JP script.\n\t  (rb_reg_preprocess): use has_property argument to make regexp\n\t  encoding fixed.\n\nSat Jul  5 08:29:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (unescape_nonascii): make regexp fixed_encoding if \\p is used.\n\t  fixed [ruby-core:17279].\n\nFri Jul  4 23:12:53 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (d2time): fix the bug of VT_DATE\n\t  to String conversion when negative value.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\nFri Jul  4 22:15:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/test/unit/testcase.rb: collect descendants of\n\t  Test::Unit::TestCase using inherited.\n\n\t* lib/test/unit/autorunner.rb: don't use ObjectSpace.each_object.\n\n\t* lib/test/unit/collector/dir.rb: ditto.\n\n\t* lib/test/unit/collector/objectspace.rb: ditto.\n\n\t[ruby-core:17126]\n\nFri Jul  4 20:43:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h (OnigEncoding): removed auxiliary_data.\n\n\t* include/ruby/encoding.h (ENC_DUMMY_P): moved dummy encoding flag to\n\t  rb_encoding from Encoding instance.\n\n\t* encoding.c (rb_encoding_list): list of Encoding instances.\n\n\t* encoding.c (struct rb_encoding_entry): moved base encoding from\n\t  instance variable.\n\nFri Jul  4 17:51:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (check_uint, rb_num2uint, rb_fix2uint): proper check.\n\nFri Jul  4 14:17:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/net/ftp.rb (Net::FTP#sendport): use divmod.  [ruby-core:17557]\n\nFri Jul  4 11:08:37 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (garbage_collect_force): sweep is completely ended.\n\n\t* gc.c (os_obj_of): invoke garbage_collect_force() when freelist none.\n\nFri Jul  4 05:01:26 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (rb_num2uint, rb_fix2uint): typo.\n\nFri Jul  4 02:21:06 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (check_uint, rb_num2uint, rb_fix2uint): also needs checking\n\t  negative value. see [ruby-dev:33683]\n\nThu Jul  3 23:26:36 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* include/ruby/intern.h: remove prototypes about coverage.\n\n\t* iseq.c (prepare_iseq_build): add prototype.\n\n\t* parse.y (coverage): ditto.\n\n\t* thread.c (clear_coverage): ditto.\n\n\t* thread.c (update_coverage): use rb_sourceline.\n\n\t* thread.c (rb_get_coverages): rename and move to vm.c.\n\n\t* vm.c (rb_vm_get_coverages): ditto.\n\n\t* ext/coverage/coverage.c: add rdoc.\n\nThu Jul  3 21:51:21 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/coverage/coverage.c, ext/coverage/extconf.rb: eliminate\n\t  COVERAGE__ and introduce coverage.so instead.  How to measure\n\t  coverage: (1) require \"coverage.so\", (2) require or load Ruby source\n\t  file, and (3) Coverage.result will return the same hash as COVERAGE__.\n\t  [ruby-dev:35324]\n\n\t* thread.c (rb_enable_coverages): start coverage measurement by using\n\t  rb_add_event_hook.\n\n\t* thread.c (rb_get_coverages): returns current results of coverage\n\t  measurement.\n\n\t* include/ruby/intern.h: add prototype for above two functions.\n\n\t* vm_core.h, vm.c: add field of coverages to rb_vm_t.\n\n\t* insns.def (trace): remove special handling for COVERAGE__.\n\n\t* iseq.c (prepare_iseq_build): switch COVERAGE__ to\n\t  rb_get_coverages().\n\n\t* parse.y (coverage): ditto.\n\n\t* thread.c (clear_coverage): ditto.\n\n\t* lib/coverage.rb: use coverage.so instead of COVERAGE__.\n\nThu Jul  3 21:20:45 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (thread_initialize): NUM2INT returns long.\n\nThu Jul  3 21:06:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (Init_eval): typo fixed in r17833.\n\nThu Jul  3 19:44:44 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): remove duplicate line.\n\nThu Jul  3 16:08:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (erfc): erfc of glibc comes with Debian GNU/Linux Etch\n\t  on IA64 is broken.  erfc(10000.0) aborts.\n\t  use missing/erf.c instead.\n\t  http://sources.redhat.com/ml/libc-hacker/2005-08/msg00008.html\n\nThu Jul  3 12:49:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/smtp.rb (Net::SMTP::start): use 'localhost' instead of\n\t  'localhost.localdomain'.  [ruby-dev:35333]\n\n\t* lib/net/smtp.rb (Net::SMTP::SMTP.start): ditto.\n\nThu Jul  3 07:06:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (SET_LC_MESSAGES): LC_MESSAGES must be C.\n\nThu Jul  3 07:02:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (Init_eval), gc.c (Init_GC), proc.c (Init_Proc): freeze\n\t  messages of preallocated special exceptions also.\n\nThu Jul  3 04:39:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_during_gc): VALUE cache is irrelevant.\n\nThu Jul  3 01:44:01 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* regint.h (GET_ALIGNMENT_PAD_SIZE, ALIGNMENT_RIGHT): cast pointer to\n\t  uintptr_t instead of unsigned int.\n\nThu Jul  3 01:23:13 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* sprintf.c: include ieeefp.h to refer isinf.\n\n\t* ext/bigdecimal/bigdecimal.c: ditto.\n\n\t* ext/json/ext/generator/generator.c: ditto.\n\n\t* rational.c: ditto.\n\nThu Jul  3 01:01:57 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* missing/tgamma.c (tgamma): remove unused variable.\n\nThu Jul  3 00:18:00 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: avoid creating Ruby object during\n\t  GC. thanks to arton <artonx AT yahoo.co.jp>. [ruby-dev:35313]\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\nThu Jul  3 00:09:31 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* gc.c: add rb_during_gc(). based on a patch from arton <artonx AT\n\t  yahoo.co.jp> at [ruby-dev:35313].\n\n\t* include/ruby/intern.h: ditto.\n\nWed Jul  2 09:49:10 2008  Narihiro Nakamura  <authorNari@gmail.com>\n\n\t* gc.c (gc_lazy_sweep): use lazy sweep algorithm for response\n\t  performance gain.\n\n\t* gc.c (garbage_collect_force): mark and lazysweep invoke, after\n\t  erasing all mark.\n\n\t* gc.c (GC_NOT_LAZY_SWEEP): not lazy sweep flag. for debug.\n\nWed Jul  2 03:42:44 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_settracefunc.rb: fix expected traces for\n\t  RubyVM::FrozenCore's event and r17744.\n\nWed Jul  2 03:10:41 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.h, insns.def: reduce insn operand of \"trace\".\n\n\t* include/ruby/ruby.h: add RUBY_EVENT_COVERAGE event.\n\nWed Jul  2 02:02:34 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c, vm.c: fix to refer next ruby level cfp to make binding.\n\nWed Jul  2 01:58:19 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insns.def (trace): C99ism.\n\nWed Jul  2 01:53:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* Add coverage measurement constant COVERAGE__.  This constant is not\n\t  for casual use.  Usage: (1) assign {} to COVERAGE__, (2) require or\n\t  load Ruby source file, and (3) COVERAGE__[\"sourcefilepath\"] will\n\t  return an array whose elements represent number of executions per\n\t  line of source code.\n\n\t* vm_core.h: add field of coverage array to iseq.\n\n\t* iseq.c (prepare_iseq_build): ditto.\n\n\t* insns.def (trace): update coverage array.\n\n\t* parse.y (coverage): create and initialize coverage array.\n\n\t* compile.h (ADD_TRACE): add trace instruction to update coverage\n\t  array.\n\n\t* thread.c (clear_coverage): delete coverage array when forking.\n\t  Otherwise, double count of coverage may occur.\n\n\t* lib/coverage.rb: sample coverage measurement tool.\n\n\t* error.c: distinguish explicitly between parse_in_eval and\n\t  mild_compile_error.\n\n\t* load.c: ditto.\n\n\t* vm_eval.c: ditto.\n\nTue Jul  1 21:32:43 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/test/unit/ui/console/testrunner.rb: prevent destructive\n\t  modification to $0.\n\n\t* test/rubygems/gemutilities.rb (build_rake_in): move from\n\t  test_gem_ext_rake_builder.rb.\n\n\t* test/rubygems/test_gem_ext_rake_builder.rb: ditto.\n\n\t* test/rubygems/test_gem_installer.rb: override Gem.ruby and\n\t  ENV[\"rake\"].\n\n\t* test/rubygems/test_gem_uninstaller.rb: ditto.\n\n\nTue Jul  1 21:13:17 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, vm.c, insns.def: call FrozenCore.set_postexe method\n\t  instead to use \"postexe\" insn.\n\n\t* id.c, id.h: add a prepared id for above.\n\nTue Jul  1 21:09:58 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_tmpsrc): we need to include COMMON_HEADERS,\n\t  namely inclusion of ruby.h, because _GNU_SOURCE is now defined\n\t  there (if any) and socket.so requires it on Linux systems.\n\nTue Jul  1 20:55:07 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* eval.c (rb_interrupt): trick to suppress GCC warning.\n\n\t* sprintf.c (rb_str_format): ditto.\n\nTue Jul  1 20:44:36 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/instruction.rb: RubyVM is not module.\n\nTue Jul  1 19:31:24 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* ext/digest/digest.c (rb_digest_instance_inspect): constified.\n\n\t* variable.c (rb_path2class): field precision should have type int.\n\nTue Jul  1 19:01:00 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/shift_jis.c (code_is_ctype): HALF WIDTH KATAKANA is\n\t  a character.\n\nTue Jul  1 17:56:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/vsnprintf.c (BSD__uqtoa): constified.\n\nTue Jul  1 17:50:44 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/make_encdb.h: always add ';' at the end of line.\n\nTue Jul  1 17:44:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* iseq.c (COMPILE_OPTION_FALSE), time.c (timegm_noleapsecond),\n\t  thread.c (eKillSignal, eTerminateSignal),\n\t  missing/vsnprintf.c (BSD_vfprintf): constified.\n\nTue Jul  1 17:37:43 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* enc/ascii.c: ISO C does not allow extra ';' outside of a\n\t  function\n\n\t* enc/us_ascii.c: ditto.\n\n\t* enc/utf_8.c: ditto.\n\n\t* enc/big5.c: ditto.\n\n\t* enc/euc_jp.c: ditto.\n\n\t* enc/euc_kr.c: ditto.\n\n\t* enc/euc_tw.c: ditto.\n\n\t* enc/gb2312.c: ditto.\n\n\t* enc/gbk.c: ditto.\n\n\t* enc/iso_8859_1.c: ditto.\n\n\t* enc/iso_8859_2.c: ditto.\n\n\t* enc/iso_8859_3.c: ditto.\n\n\t* enc/iso_8859_4.c: ditto.\n\n\t* enc/iso_8859_5.c: ditto.\n\n\t* enc/iso_8859_6.c: ditto.\n\n\t* enc/iso_8859_7.c: ditto.\n\n\t* enc/iso_8859_8.c: ditto.\n\n\t* enc/iso_8859_9.c: ditto.\n\n\t* enc/iso_8859_10.c: ditto.\n\n\t* enc/iso_8859_11.c: ditto.\n\n\t* enc/iso_8859_13.c: ditto.\n\n\t* enc/iso_8859_14.c: ditto.\n\n\t* enc/iso_8859_15.c: ditto.\n\n\t* enc/iso_8859_16.c: ditto.\n\n\t* enc/koi8_r.c: ditto.\n\n\t* enc/shift_jis.c: ditto.\n\n\t* enc/utf_16be.c: ditto.\n\n\t* enc/utf_32be.c: ditto.\n\n\t* enc/utf_32le.c: ditto.\n\n\t* enc/windows_1251.c: ditto.\n\n\t* process.c (run_exec_rlimit): ISO C90 forbids mixed declarations\n\t  and code\n\n\t* include/ruby/ruby.h (enum ruby_special_consts): ISO C forbids\n\t  comma at end of enumerator list\n\n\t* include/ruby/ruby.h (enum ruby_value_type): ditto.\n\n\t* eval_intern.h (enum): ditto.\n\n\t* vm_core.h (enum rb_thread_status): ditto.\n\n\t* parse.y (enum lex_state_e): ditto.\n\n\t* parse.y (enum string_type): ditto.\n\n\t* process.c (enum): ditto.\n\n\t* ruby.c (enum dump_flag_bits): ditto.\n\n\t* ruby.c (enum disable_flag_bits): ditto.\n\n\t* enc/gb18030.c (enum): ditto.\n\nTue Jul  1 17:21:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regexec.c (stack_double): use MatchStackLimitSize atomically.\n\n\t* regparse.c (onig_free_shared_cclass_table): OnigTypeCClassTable\n\t  needs atomicity\n\n\t* regsyntax.c: constified all predefined OnigSyntaxTypes.\n\nTue Jul  1 16:57:44 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* include/ruby/st.h (struct st_table): type of bit-field\n\t  'num_entries' is a GCC extension\n\n\t* include/ruby/ruby.h (rb_intern): prefix __extension__ for\n\t  braced-groups within expressions.\n\n\t* include/ruby/intern.h (rb_usascii_str_new2): ditto.\n\n\t* include/ruby/intern.h (rb_tainted_str_new2): ditto.\n\n\t* include/ruby/intern.h (rb_str_new2): ditto.\n\nTue Jul  1 15:01:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rubygems/ext/builder.rb (Gem::Ext::Builder.make),\n\t  (Gem::Ext::Builder.run): EXIT_SUCCESS may be 0 or may not.\n\n\t* test/rubygems/test_gem_ext_rake_builder.rb (build_rake_in): override\n\t  Gem.ruby and ENV[\"rake\"].\n\n\t* runruby.rb: bin/rake does not exist in archdir where architecture\n\t  depend script (i.e. rbconfig.rb) exists.\n\nTue Jul  1 13:19:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_fill): check if beg is too big.\n\nTue Jul  1 12:01:16 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, insns.def, vm.c, vm_core.h: remove some insns\n\t  (undef, alias, definemethod).\n\t  Call RubyVM::FrozenCore's singleton method instead.\n\t  Add \"putiseq\" and \"putspecialobject\" instructions.\n\n\t* id.c, id.h: add ids for above.\n\n\t* tool/parse.rb: \"VM\" no longer exists.  Use RubyVM instead.\n\nTue Jul  1 03:28:16 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* test/rubygems/test_ext_configure_builder.rb:  Apply locale-free\n\t  patch by Yusuke ENDOH.  [ruby-core:17444].\n\n\t* runruby.rb: Set ENV['rake'].  Patch by Yusuke ENDOH\n\t  [ruby-core:17442].\n\nTue Jul  1 01:07:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension.read_multipart): blanks inside\n\t  double quotes are allowed.  [ruby-list:45140]\n\nTue Jul  1 00:59:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* numeric.c (num_coerce): call rb_Float(x) first.  don't depend on\n\t  evaluation order of function arguments.\n\nTue Jul  1 00:49:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_newobj): abort GC phase before rb_bug.\n\nMon Jun 30 23:15:07 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/openssl/test_ssl.rb (start_server): shutdown TCPServer before\n\t  close.\n\nMon Jun 30 23:01:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (RUBY_H_INCLUDES): common headers which are included with\n\t  ruby.h together.\n\nMon Jun 30 22:57:50 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_settracefunc.rb (test_raise): reveal an exception\n\t  hided by rescue modifier.\n\nMon Jun 30 22:49:32 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb (test_aset): access with too big index\n\t  raises not ArgumentError but IndexError now.\n\nMon Jun 30 22:30:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (recursive_collect): r15662 reverted.\n\nMon Jun 30 22:27:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/stringio/stringio.c (strio_getline): fix for nil and \"\" as\n\t  separator.  [ruby-dev:34591]\n\nMon Jun 30 22:21:30 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (argf_each_line): pass args to each_line. [ruby-dev:34958]\n\nMon Jun 30 22:12:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (chain_finalized_object): should not delete from finalizer\n\t  table until run.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): deferred_final_list may be\n\t  empty first.\n\nMon Jun 30 18:57:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (gc_finalize_deferred): allow object allocation in finalizers.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): ditto.\n\nMon Jun 30 14:41:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (rb_newobj): prohibit call of rb_newobj() during gc when\n\t  USE_VALUE_CACHE is not defined (normal case).\n\nMon Jun 30 10:28:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syslog/syslog.c (syslog_write): syslog operations should be\n\t  protected from $SAFE level 4.  a patch from Keita Yamaguchi\n\t  <keita.yamaguchi at gmail.com>.\n\n\t* ext/syslog/syslog.c (mSyslog_close): ditto.\n\n\t* ext/syslog/syslog.c (mSyslog_set_mask): ditto.\n\nMon Jun 30 03:01:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/net/http/test_http.rb (_test_request__file): specify encoding\n\t  explicitly.\n\n\t* test/net/http/utils.rb: ditto.\n\nMon Jun 30 02:31:07 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_utf8_encindex): defined.\n\n\t* include/ruby/encoding.h (rb_utf8_encindex): ditto.\n\nMon Jun 30 02:14:34 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_core.h,vm_core.h, vm_dump.c, iseq.c: rename class name\n\t  VM -> RubyVM, and rename rb_cVM -> rb_cRubyVM.\n\t  \"VM\" is too short name for class.\n\n\t* test/ruby/test_method.rb, test/ruby/test_settracefunc.rb: ditto.\n\n\t* include/ruby/ruby.h: rb_cRubyVM, rb_cEnv, rb_cISeq should not be\n\t  exposed.\n\nMon Jun 30 02:10:32 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* process.c (Init_process): fix to avoid a warning.\n\nMon Jun 30 01:52:05 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_parse.rb: remove tests for open_args.\n\nSun Jun 29 23:01:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_format_m): make tmp volatile to avoid possible GC\n\t  problem.\n\nSun Jun 29 18:01:30 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb, lib/rss/utils.rb: merge documents from ruby_1_8.\n\nSun Jun 29 17:44:23 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb (RSS::ListenerMixin#known_class): define to\n\t  work with ruby 1.8.x too.\n\nSun Jun 29 17:41:42 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/base.rb (RSS::Maker::RSSBase#to_feed): raise\n\t  exception not return nil if RSS::Maker.make can't get required\n\t  information.\n\n\t* test/rss/rss-assertions.rb: follow the above change.\n\nSun Jun 29 17:37:23 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/base.rb (RSS::Maker::RSSBase#make): require block.\n\n\t* test/rss/test_maker_{0.9,1.0,2.0}.rb: follow the above change.\n\nSun Jun 29 17:33:34 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/base.rb, lib/rss/maker/itunes.rb: don't use\n\t  instance_eval to initialize variables. (speed up)\n\nSun Jun 29 17:31:15 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, test/rss/test_version.rb (RSS::VERSION):\n\t  0.2.4 -> 0.2.5.\n\nSun Jun 29 11:36:20 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* dir.rb: fix resource leak.\n\nSun Jun 29 09:43:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/tmpdir.rb (@@systmpdir): prior LOCAL_APPDATA if possible, and\n\t  should be clean.  based on a patch from arton <artonx AT\n\t  yahoo.co.jp> at [ruby-dev:35269]\n\nSun Jun 29 07:53:08 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (date2time_str): fix the overflow in\n\t  some situation. [ruby-bugs-20793]\n\nSat Jun 28 21:25:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (struct RRegexp): new field usecnt.  replace\n\t  str and len by src.\n\n\t* gc.c (gc_mark_children): mark src field of regexp.\n\t  (obj_free): don't free str field.\n\n\t* re.c (REG_BUSY): removed.\n\t  (rb_reg_initialize): prohibit re-initialize regexp.\n\t  (rb_reg_search): use usecnt to prevent freeing regexp currently\n\t  using.  this prevents SEGV by:\n\t    r = /\\A((a.)*(a.)*)*b/\n\t    r =~ \"ab\" + \"\\xc2\\xa1\".force_encoding(\"euc-jp\")\n\t    t = Thread.new { r =~ \"ab\"*8 + \"\\xc2\\xa1\".force_encoding(\"utf-8\")}\n\t    sleep 0.2\n\t    r =~ \"ab\"*8 + \"\\xc2\\xa1\".force_encoding(\"euc-jp\")\n\nSat Jun 28 21:15:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_str_new2, rb_tainted_str_new2,\n\t  rb_usascii_str_new2): use inline versions only for constant\n\t  literals.\n\nSat Jun 28 13:12:06 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/rubygems/test_gem.rb (test_self_path_APPLE_GEM_HOME): don't use\n\t  fixed /tmp/apple_gem_home directory.\n\nSat Jun 28 08:40:18 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: check String encoding when\n\t  converting String to VT_BSTR in OLE.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nSat Jun 28 01:08:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_timespec): fix rounding negative float.\n\nFri Jun 27 21:38:57 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* struct.c: __size__ removed.  use the length of __members__ instead.\n\t  (num_members): new function.\n\nFri Jun 27 21:19:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/inlinetest.rb (InlineTest.in_progname): workaround for frozen\n\t  $0.  [ruby-dev:35261]\n\n\t* lib/test/unit/ui/console/testrunner.rb (TestRunner#finished): ditto.\n\nFri Jun 27 17:45:17 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/erb.rb: adjust line number for magic comment.\n\n\t* test/erb/test_erb.rb: add tests for def_method.\n\nFri Jun 27 14:29:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): empty not should call '!' on nil.\n\t  cf [ruby-dev:35227]\n\nFri Jun 27 14:25:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (vm_eval_body): if thrown exception is frozen, reraise it to\n\t  create a new instance.\n\nFri Jun 27 13:29:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_str_new2, rb_tainted_str_new2,\n\t  rb_usascii_str_new2): use with-length versions with strlen to\n\t  optimize strlen, if optimized.\n\nFri Jun 27 12:28:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/un.rb (mkmf): new command to create makefile.\n\nFri Jun 27 11:06:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/un.rb (wait_writable): added help message.\n\nFri Jun 27 06:52:54 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* configure.in: need a \",\".\n\n\t* process.c (rb_fork): check CANNOT_FORK_WITH_PTHREAD macro.\n\nFri Jun 27 06:50:56 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_eval.c (vm_call_super): fix to call method_missing.\n\t  [ruby-core:15719], [ruby-core:17340]\n\nFri Jun 27 00:00:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (set_arg0, ruby_prog_init): freeze $0.  a patch from Keita\n\t  Yamaguchi <keita.yamaguchi at gmail.com>.\n\nThu Jun 26 23:58:29 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (rb_str_index_m, rb_str_rindex_m, rb_str_include): fix\n\t  rdoc.\n\nThu Jun 26 17:43:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_f_trace_var): should not be allowed at safe level 4.\n\t  a patch from Keita Yamaguchi <keita.yamaguchi at gmail.com>.\n\nThu Jun 26 11:04:30 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems: Update to RubyGems 1.2.0 r1824.  Incorporates patch by\n\t  Yusuke ENDOH [ruby-core:17353].\n\nThu Jun 26 00:48:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): not operand might be empty.  [ruby-dev:35227]\n\nWed Jun 25 21:54:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): make functional-style not operator to act\n\t  like function.  see <http://d.hatena.ne.jp/ku-ma-me/20080624/p1>.\n\nWed Jun 25 15:28:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_fill): not depend on unspecified behavior at integer\n\t  overflow.  reported by Vincenzo Iozzo <snagg AT openssl.it>.\n\nWed Jun 25 13:42:44 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/erb.rb (ERB::Compiler:Buffer#new): push magic comment first.\n\n\t* lib/erb.rb (ERB::Compiler#compile): fix for broken input.\n\nWed Jun 25 12:10:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/erb.rb (ERB::Compiler#compile): magic comment needs LF.\n\nWed Jun 25 09:31:11 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/erb.rb (ERB::Compiler#compile): output magic comment.\n\nTue Jun 24 22:14:36 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm_eval.c (eval_string_with_cref): preserve parse_in_eval even if\n\t  exception raised.\n\nTue Jun 24 22:09:18 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(ole_invoke): fix memory leak.\n\t  [ruby-bugs-20792]\n\nTue Jun 24 17:20:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_fork_with_pthread): check after check for\n\t  pthread library, and define the macro when checked only.\n\nTue Jun 24 17:04:39 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/io/wait/extconf.rb: check sys/socket.h for cygwin.\n\nTue Jun 24 16:51:51 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (io_reopen): remove cygwin handling because it seems to be for\n\t  C's stdio.\n\t  fixed [ruby-dev:35183]\n\nTue Jun 24 11:12:33 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h, win32/win32.c (rb_w32_getppid): now support\n\t  getppid() on win32 (but only Win2k or later).\n\n\t* process.c (get_ppid): remove win32 special logic.\n\nTue Jun 24 09:40:47 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (init_sock): socket is binmode on platforms\n\t  which support binmode.\n\nTue Jun 24 00:21:53 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_build_from_ary): initialize arg_opts, a patch from\n\t  Adam Strzelecki <ono@java.pl> in [ruby-core:17220].\n\nTue Jun 24 00:10:53 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* compile.c (iseq_build_from_ary): fix expression to obtain\n\t  iseq->local_size and iseq->local_table_size.  [ruby-dev:35205]\n\nMon Jun 23 11:31:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Rational::power2): removed incomplete method.\n\t  see [ruby-dev:35195].   [ruby-core:17293]\n\nSun Jun 22 14:16:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/readline/extconf.rb (have_readline_func): readline on Mac OS X\n\t  needs headers to detect some functions.\n\nSun Jun 22 09:51:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_class_superclass): rdoc improvement, a patch from\n\t  Gaston Ramos <ramos.gaston AT gmail.com> in [ruby-core:17371].\n\nSun Jun 22 09:22:32 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* README.EXT: translated README.EXT.ja\n\nSun Jun 22 00:42:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_osid, rb_w32_osver, CreateChild): XP is\n\t  is different from Vista about pipe handle inheritance.\n\t  fixed [ruby-core:17367], reported by Lars Christensen <larsch at\n\t  belunktum.dk>\n\nSun Jun 22 00:38:45 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* README.EXT.ja: add note about mark and free.\n\nSun Jun 22 00:01:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_io_binmode_p, argf_binmode_p, Init_IO): new method\n\t  IO#binmode? and ARGF.binmode?  [ruby-dev:35148]\n\nSat Jun 21 17:33:50 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_spawn): no longer support P_WAIT.\n\nSat Jun 21 16:46:09 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.c (native_sleep): must block reentrance when accessing\n\t  th->unblock.\n\t  fixed [ruby-core:17341], reported by Bill Kelly <billk at cts.com>\n\nSat Jun 21 16:29:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (call_args2, open_args): removed.\n\n\t* parse.y (parser_yylex): unified warnings at space between method\n\t  name and argument parenthesis.  [ruby-dev:33943]\n\nSat Jun 21 16:21:07 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (flo_round): get rid of overflow.\n\nSat Jun 21 15:57:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc#collect_first_comment): skip\n\t  magic comment.\n\nSat Jun 21 15:54:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check if fork works with pthread.\n\nSat Jun 21 15:31:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: ported to ruby.\n\n\t* tool/make-snapshot: fixed digests.\n\nSat Jun 21 04:36:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/lib/bigdecimal/jacobian.rb (Jacobian::dfdxi):\n\t  typo fixed (raize -> raise).  [ruby-list:45101]\n\n\t* enumerator.c (enum_each_cons): typo in RDoc fixed.\n\nSat Jun 21 00:45:34 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* tool/make-snapshot: do not use sha256sum; use BASERUBY instead\n\n\t* common.mk (dist): use tool/make-snapshot instead\n\nFri Jun 20 16:34:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (Init_process): Process::Status#to_int removed.\n\t  (PST2INT): defined.\n\t  (pst_to_s): use PST2INT.\n\t  (pst_inspect): ditto.\n\t  (pst_equal): ditto.\n\t  (pst_bitand): ditto.\n\t  (pst_rshift): ditto.\n\t  (pst_wifstopped): ditto.\n\t  (pst_wstopsig): ditto.\n\t  (pst_wifsignaled): ditto.\n\t  (pst_wtermsig): ditto.\n\t  (pst_wifexited): ditto.\n\t  (pst_wexitstatus): ditto.\n\t  (pst_success_p): ditto.\n\t  (pst_wcoredump): ditto.\n\t  (rb_f_system): ditto.\n\nFri Jun 20 15:40:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_store, rb_ary_splice): not depend on unspecified\n\t  behavior at integer overflow.\n\n\t* string.c (str_buf_cat): ditto.\n\nFri Jun 20 12:39:55 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_detach_process): store detached process ID in the\n\t  thread local storage.  moved from lib/open3.rb.\n\nFri Jun 20 11:57:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_sub_bang): should preserve replacement points\n\t  since they may be altered in the yielded block.\n\nFri Jun 20 11:07:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_memhash): randomize hash to avoid algorithmic\n\t  complexity attacks.\n\t  (rb_str_hash): use rb_memhash.\n\n\t* include/ruby/intern.h (rb_reset_random_seed): declared.\n\n\t* thread.c (rb_thread_atfork): call rb_reset_random_seed.\n\n\t* inits.c (rb_call_inits): call Init_RandomSeed at first.\n\n\t* random.c (seed_initialized): defined.\n\t  (fill_random_seed): extracted from random_seed.\n\t  (make_seed_value): extracted from random_seed.\n\t  (rb_f_rand): initialize random seed at first.\n\t  (initial_seed): defined.\n\t  (Init_RandomSeed): defined.\n\t  (Init_RandomSeed2): defined.\n\t  (rb_reset_random_seed): defined.\n\t  (Init_Random): call Init_RandomSeed2.\n\nWed Jun 18 21:52:38 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* array.c (ary_new, rb_ary_initialize, rb_ary_store,\n\t  rb_ary_splice, rb_ary_times): integer overflows should be\n\t  checked. based on patches from Drew Yao <ayao at apple.com>\n\t  fixed CVE-2008-2726\n\n\t* string.c (rb_enc_cr_str_buf_cat): fixed unsafe use of alloca,\n\t  which led memory corruption. based on a patch from Drew Yao\n\t  <ayao at apple.com> fixed CVE-2008-2726\n\nFri Jun 20 03:26:00 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_f_fork): NetBSD 4.0 or later can fork.\n\nFri Jun 20 03:19:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/testunit/collector/test_dir.rb: r15825 made it unnecessary to\n\t  change String to Symbol.\n\n\t* test/testunit/collector/test_objectspace.rb: ditto.\n\nFri Jun 20 03:14:31 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*, test/rubygems/*:  Update to RubyGems 1.1.1 r1784 (pre\n\t  1.2).\n\nFri Jun 20 03:01:59 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c: try to remove false positive of deadlock detection (second\n\t  trial).\n\nFri Jun 20 02:16:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Rational::power2): typo fixed.  [ruby-core:17293]\n\nFri Jun 20 02:11:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): should preserve last successful match\n\t  data.  [ruby-dev:35182]\n\nFri Jun 20 01:07:28 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* KNOWNBUGS.rb, bootstraptest/pending.rb: move a bug (?) to pending.\n\nFri Jun 20 00:40:08 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (proc_new): fix to return Proc object if block is already\n\t  in heap.  [ruby-core:15711]\n\n\t* bootstraptest/test_proc.rb: add a test.\n\nFri Jun 20 00:18:04 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_win32.c (native_sleep): fix to decrement sleeper count.\n\nThu Jun 19 23:48:45 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/net/http/test_http.rb: compare encodings of two strings before\n\t  comparing themself, which suppress too big error output.\n\nThu Jun 19 23:46:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/json/ext/parser/parser.rl, ext/json/ext/parser/parser.c: JSON\n\t  text SHALL be encoded in Unicode.\n\nThu Jun 19 23:17:56 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c, thread_win32.c, vm_core.h: try to remove false positive of\n\t  deadlock detection.\n\nThu Jun 19 21:38:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): check if compile before showing message.\n\nThu Jun 19 21:35:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: supported multiple snapshots.\n\nThu Jun 19 20:37:00 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/net/pop.rb (Net::POP3#set_all_uids): speed\n\t  up. a patch from <m-sumi AT techfirm.co.jp> [ruby-list:45047]\n\nThu Jun 19 17:44:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/etc/etc.c (Init_etc): define constant aliases Etc::Passwd\n\t  and Etc::Group.  [ruby-dev:35150]\n\nThu Jun 19 17:37:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_alloc): specify 'inline' modifier.\n\n\t* string.c (str_alloc): remove cSymbol hack that no longer\n\t  necessary.\n\n\t* string.c (scan_once): avoid retrieving encoding info unless\n\t  necessary.\n\nThu Jun 19 17:19:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_scan): String#scan should preserve last\n\t  successful match data.  [ruby-dev:35106]\n\nThu Jun 19 16:49:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* missing/acosh.c (atanh): should set ERANGE to errno if parameter\n\t  is the boundary case. fixed [ruby-dev:35155]\n\nThu Jun 19 16:06:01 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/tile/treeview.rb: cannot configure tags.\n\nThu Jun 19 11:48:33 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_enumerator.rb: fix to skip \"with_memo\" test.\n\nThu Jun 19 11:40:55 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_throw): fix \"return\" process from \"lambda\".\n\n\t* bootstraptest/test_proc.rb: add a test.\n\n\t* bootstraptest/pending.rb: add a pending bug.\n\nThu Jun 19 00:33:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/etc/test_etc.rb: avoid infinite loop.  [ruby-dev:35158]\n\nWed Jun 18 23:07:19 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* gc.c (rb_newobj): prohibit call of rb_newobj() during gc.\n\t  a patch from Sylvain Joyeux in [ruby-core:12099].\n\nWed Jun 18 21:08:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (verbose_setter, opt_W_getter): fixed prototypes.\n\nWed Jun 18 19:20:00 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (opt_W_getter): use ruby_verbose directly instead of parameter\n\t  because ruby_verbose is not a real variable, so the address of\n\t  parameter is not collect.\n\nWed Jun 18 18:31:03 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (errmap): add some pipe errors.\n\n\t* win32/win32.c (rb_w32_write): set errno when CRT's errno is EINVAL\n\t  for pipe errors.\n\nWed Jun 18 18:09:08 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (poll_child_status): set EINVAL to errno when\n\t  GetExitCodeProcess() fails with ERROR_INVALID_HANDLE.\n\nWed Jun 18 15:01:18 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (rb_open_file): fs_encoding and fname_encoding is\n\t  rb_encoding *.\n\t  fixed [ruby-dev:35151]\n\nWed Jun 18 14:30:06 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (rb_open_file): not rb_enc_get_index but rb_enc_get.\n\nWed Jun 18 13:49:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h (pipe): now pipe is textmode. although this\n\t  change is experimental, it will be spec if no compatibility problem\n\t  is reported.\n\nWed Jun 18 12:05:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (w_object, marshal_dump, r_object0, marshal_load): search\n\t  public methods only.  [ruby-core:17283]\n\n\t* object.c (convert_type): ditto.\n\n\t* lib/singleton.rb (Singleton#_dump): conversion method should be\n\t  public.\n\nWed Jun 18 10:18:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/etc/etc.c (etc_passwd, etc_group): fixed rdoc.  a patch from\n\t  okkez <okkez000 AT gmail.com> in [ruby-dev:35141].\n\nWed Jun 18 08:58:16 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems/*:  Fix errors for 1.9.\n\n\t* gem_prelude.rb:  Only remove methods from gem_prelude.rb when\n\t  loading real RubyGems.\n\nWed Jun 18 07:03:30 2008  Eric Hodel  <drbrain@egment7.net>\n\n\t* lib/rubygems/*:  Update to RubyGems r1778 (pre 1.2).\n\nWed Jun 18 04:27:58 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* KNOWNBUGS.rb, bootstraptest/pending.rb: move pending bug.\n\nWed Jun 18 04:24:20 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_insnhelper.c: fix escape process with \"break\" and \"return\"\n\t  syntax in \"lambda\".  [ ruby-Bugs-19304 ], [ruby-core:17164]\n\n\t* KNOWNBUGS.rb, bootstraptest/test_proc.rb: add/move solved test.\n\nWed Jun 18 01:51:10 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: cannot access class variable from\n\t  singleton method.\n\nWed Jun 18 00:03:33 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* dir.c (Init_Dir): dir_foreach() takes variable argument.\n\nTue Jun 17 23:04:24 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/net/telnet.rb:  Fixing Telnet#wairfor() which was broken by\n\t  changes to the Kernel::Integer() method.  [ruby-core:17272]\n\nTue Jun 17 23:02:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (opt_W_getter): made a hooked variable.\n\nTue Jun 17 22:04:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* enc/euc_jp.c (property_name_to_ctype): core dumped when sizeof(int)\n\t  differs from sizeof(long).  [ruby-dev:35131]\n\n\t* enc/shift_jis.c (property_name_to_ctype): ditto.\n\n\t* enc/unicode.c (onigenc_unicode_property_name_to_ctype): ditto.\n\nTue Jun 17 20:32:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (miniruby$(EXEEXT)): $(PREP) isn't always same as\n\t  miniruby, and tests, debug, etc have no meaning when\n\t  cross-compiling.\n\nTue Jun 17 18:39:11 2008  Ryan Davis  <ryand-ruby@zenspider.com>\n\n\t* common.mk: fixed dependencies on miniruby.\n\nTue Jun 17 18:11:01 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h (pipe): expand pipe buffer size.\n\nTue Jun 17 17:07:35 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild): no need to inherit handles here because\n\t  spawn'ed child cannot detect that STDIN is closed.\n\nTue Jun 17 06:32:55 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dir.c (dir_data): add intenc and extenc.\n\n\t* dir.c (dir_s_alloc): ditto.\n\n\t* dir.c (dir_initialize): now accept internal_encoding and\n\t  external_encoding.\n\n\t* dir.c (dir_s_open): changed for dir_initialize.\n\n\t* dir.c (dir_open_dir): ditto.\n\n\t* dir.c (dir_foreach): changed for dir_open_dir.\n\n\t* dir.c (dir_entries): changed for dir_open_dir.\n\n\t* dir.c (dir_enc_str): defined.\n\n\t* dir.c (dir_path): use dir_enc_str.\n\n\t* dir.c (dir_read): ditto.\n\n\t* dir.c (dir_each): ditto.\n\nTue Jun 17 06:28:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (io_set_encoding): defined.\n\n\t* io.c (rb_open_file): convert path on Windows and Mac OS X.\n\n\t* io.c (open_key_args): use io_set_encoding and now accept\n\t  internal_encoding and external_encoding.\n\nTue Jun 17 06:26:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_filesystem_encoding): defined.\n\n\t* include/ruby/encoding.h (rb_filesystem_encoding): added.\n\nTue Jun 17 06:24:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: add encoding header.\n\nTue Jun 17 01:52:50 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: SEGV when exit.\n\n\t* ext/tk/lib/tk.rb: add a check for safety to Tk.exit.\n\n\t* ext/tk/sample/irbtkw.rbw: freezes when receives SIGINT.\n\nMon Jun 16 21:58:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_each, strio_readlines): IO#each and\n\t  IO#readlines do not affect $_.  [ruby-core:17277]\n\nMon Jun 16 18:52:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/thwait.rb (ThreadsWait): Exception2MessageMapper no longer has\n\t  extend_to method.  [ruby-core:17267]\n\nMon Jun 16 14:46:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/e2mmap.rb (E2MM.def_e2message): typo.\n\nMon Jun 16 09:43:27 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_with_object, Init_Enumerator):\n\t  Temporarily back out with_memo, for which we need a better name.\n\nMon Jun 16 07:14:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_readline, strio_each)\n\t  (strio_readlines): set lastline.  [ruby-core:17257]\n\nMon Jun 16 01:49:39 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_f_block_given_p): fix to skip class frame.\n\t  [ruby-core:14813]\n\n\t* KNOWNBUGS.rb, bootstraptest/test_method.rb: move solved test.\n\nMon Jun 16 01:48:08 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_dump.c (vm_stack_dump_raw): disable verbose debug output.\n\nMon Jun 16 01:33:08 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_core.h, thread.c: rename global_interpreter_lock to\n\t  global_vm_lock.\n\nSun Jun 15 18:40:35 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (yaml_org_handler): associate encoding.\n\n\t* ext/syck/rubyext.c (syck_genericresolver_node_import): ditto.\n\nSun Jun 15 18:17:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (rb_vm_t), vm.c (rb_vm_mark): moved preallocated special\n\t  exceptions.\n\n\t* eval.c (Init_eval), gc.c (Init_GC), proc.c (Init_Proc): freeze\n\t  preallocated special exceptions.\n\n\t* eval.c (rb_longjmp): duplicate the thrown exception to set backtrace\n\t  if it was frozen.\n\n\t* gc.c (rb_memerror): raise nomem_error without backtrace if failed to\n\t  make backtrace.\n\nSat Jun 14 22:52:35 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_sysread): should not raise at empty\n\t  read.  a patch from Arthur Schreiber at [ruby-core:17245].\n\nSat Jun 14 16:55:46 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): no need to expand root path which has no\n\t  short file name.  [ruby-dev:35095]\n\nSat Jun 14 11:59:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.h (STACK_UPPER): moved from gc.c\n\n\t* thread.c, thread_{pthread,win32}.c (ruby_init_stack,\n\t  ruby_thread_init_stack): moved stack initialization from gc.c.\n\nSat Jun 14 11:57:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.h (STACK_UPPER): moved from gc.c\n\n\t* thread.c, thread_{pthread,win32}.c (ruby_init_stack,\n\t  ruby_thread_init_stack): moved stack initialization from gc.c.\n\nSat Jun 14 07:52:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (ruby_initial_gc_stress): defined.\n\t  (ruby_initial_gc_stress_ptr): defined.\n\n\t* debug.c (set_debug_option): use ruby_initial_gc_stress_ptr for\n\t  gc_stress option.\n\nSat Jun 14 00:09:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (ruby_gc_stress): moved to rb_objspace_t.\n\n\t* gc.c (gc_stress_get, gc_stress_set): VM local attribute.\n\n\t* signal.c (sigsegv): ditto.\n\nFri Jun 13 21:55:48 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c (nurat_equal_p): Rational(0,x) and 0 are equivalent,\n\t  anyway.\n\nFri Jun 13 21:26:39 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (string_to_c, nucomp_s_convert): preserve the current\n\t  backref.\n\n\t* rational.c (string_to_r, nurat_s_convert): ditto.\n\n\t* include/ruby/intern.h (rb_match_busy): added a declaration.\n\nFri Jun 13 18:08:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/time.rb (Time.xmlschema): don't accept decimal dot without\n\t  fractional digits.  fractional digits handling simplified.\n\nFri Jun 13 17:20:40 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* complex.c (string_to_c_internal): save and restore backref.\n\t  fixed [ruby-dev:34991]\n\nFri Jun 13 17:06:20 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* rational.c (string_to_r_internal): save and restore backref.\n\t  fixed [ruby-dev:34990]\n\nFri Jun 13 14:41:26 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* README.EXT.ja: update about Fixnum. reported in\n\t   <http://www.tmtm.org/ja/tdiary/?date=20080611#p01>\n\n\t* README.EXT.ja: describe about StringValueCStr().\n\n\t* README.EXT: ditto.\n\nFri Jun 13 14:24:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_memerror): exit with EXIT_FAILURE instead of magic number.\n\n\t* gc.c (ruby_stack_check): STACK_LENGTH should be less than\n\t  STACK_LEVEL_MAX.\n\nFri Jun 13 12:55:37 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (sort_by_i): use NODE_DOT2 instead of NODE_MEMO to avoid\n\t  extra calls to is_pointer_to_heap() in GC.\n\n\t* enum.c (enum_zip): ditto.\n\nFri Jun 13 00:41:58 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_thread.rb: add a test.\n\nThu Jun 12 23:30:11 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (mutex_unlock): fix cond_notified consistency.\n\nThu Jun 12 22:19:45 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.c (native_sleep): fixed previous commit.\n\nThu Jun 12 21:59:17 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c, vm_core.h, vm.c, thread_pthread.c, thread_win32.c: add\n\t  deadlock detection.  [ruby-dev:35044]\n\n\t* bootstraptest/test_thread.rb: add tests for above.\n\nThu Jun 12 21:39:55 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: refactoring.\n\n\t* rational.c: ditto.\n\nThu Jun 12 17:11:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regint.h: undefine USE_CAPTURE_HISTORY which is mentioned as\n\t  unsupported in the Onigiruma document.\n\nThu Jun 12 13:36:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (rb_intern): use rb_intern2 with strlen for\n\t  constant symbols to optimize strlen.\n\nThu Jun 12 08:47:51 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): should use io_read_encoding(), not\n\t  io_input_encoding().\n\n\t* io.c (rb_io_getline_1): reduce calling of io_read_encoding().\n\n\t* string.c (rb_str_scan): need not to restore $~ value, so avoid\n\t  pinning match object.\n\nThu Jun 12 02:49:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/stringio/stringio.c (strio_init): rewind when reopened.\n\nThu Jun 12 02:43:27 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_zip): ANSI style.\n\nThu Jun 12 02:25:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_reopen): clear read buffer.\n\nThu Jun 12 00:56:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk: check proper conditions.  [ruby-dev:35047]\n\nWed Jun 11 23:33:13 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fread): bypass buffered read if reading buffer is empty.\n\n\t* io.c (remain_size): do not add extra one byte.\n\nWed Jun 11 12:15:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_normal_exit): hide stderr output\n\t  when success.\n\nWed Jun 11 09:26:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (encs): need to pass miniruby path for windows.\n\nWed Jun 11 05:53:20 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, eval_intern.h (PASS_PASSED_BLOCK):\n\t  set a VM_FRAME_FLAG_PASSED flag to skip this frame when\n\t  searching ruby-level-cfp.\n\n\t* eval.c, eval_intern.h, proc.c: fix to check cfp.  if there is\n\t  no valid ruby-level-cfp, cause RuntimeError exception.\n\t  [ruby-dev:34128]\n\n\t* vm_core.h, vm_evalbody.c, vm.c, vm_dump.c, vm_insnhelper.c,\n\t  insns.def: rename FRAME_MAGIC_* to VM_FRAME_MAGIC_*.\n\n\t* KNOWNBUGS.rb, bootstraptest/test*.rb: move solved bugs.\n\nWed Jun 11 05:55:31 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: SEGV when tcltk-stubs is enabled.\n\n\t* ext/tk/tcltklib.c: avoid error on a shared object.\n\n\t* ext/tk/extconf.rb: support --with-tcltkversion\n\n\t* ext/tk/README.tcltklib: add document about --with-tcltkversion\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/multi-tk.rb, ext/tk/lib/remote-tk.rb:\n\t  not work on $SAFE==4\n\n\t* ext/tk/lib/multi-tk.rb: Object#methods returns Symbols on Ruby1.9.\n\n\t* ext/tk/lib/tk/timer.rb: add TkTimer#at_end(proc) to register the\n\t  procedure which called at end of the timer.\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/itemfont.rb, ext/tk/lib/font.rb:\n\t  support __IGNORE_UNKNOWN_CONFIGURE_OPTION__ about font options.\n\n\t* ext/tk/lib/*: treat __IGNORE_UNKNOWN_CONFIGURE_OPTION__\n\n\t* ext/tk/lib/tkextlib/iwidgets/scrolledcanvas.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/scrolledlistbox.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/scrolledtext.rb: bug fix.\n\n\t* ext/tk/lib/tk/text.rb: typo. call a wrong method.\n\n\t* ext/tk/lib/tk/itemconfig.rb: ditto.\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/itemconfig.rb,\n\t  ext/tk/lib/tk/canvas.rb: support alias names of option keys.\n\n\t* ext/tk/lib/tk/grid.rb: lack of module-method definitions.\n\n\t* ext/tk/lib/tk/pack.rb, ext/tk/lib/tk/grid.rb: increase supported\n\t  parameter patterns of configure method.\n\n\t* ext/tk/lib/tk.rb: add TkWindow#grid_anchor, grid_column, grid_row.\n\n\t* ext/tk/lib/tk/wm.rb: methods of Tk::Wm_for_General module cannot\n\t  pass the given block to methods of Tk::Wm module.\n\n\t* ext/tk/lib/tk/wm.rb: Wm#overrideredirect overwrites argument to\n\t  an invalid value.\n\n\t* ext/tk/lib/tk.rb: fix memory (object) leak bug.\n\n\t* ext/tk/tcltklib.c, ext/tk/tkutil/tkutil.c: fix memory leak.\n\n\t* ext/tk/sample/demos-jp/aniwave.rb, ext/tk/sample/demos-en/aniwave.rb:\n\t  bug fix.\n\n\t* ext/tk/lib/tkextlib/blt/component.rb,\n\t  ext/tk/lib/tkextlib/tile/tentry.rb,\n\t  ext/tk/lib/tkextlib/tile/treeview.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/tile/tpaned.rb: improve TPaned#add.\n\n\t* ext/tk/sample/demos-jp/widget, ext/tk/sample/demos-en/widget,\n\t  ext/tk/sample/demos-jp/style.rb, ext/tk/sample/demos-en/style.rb,\n\t  ext/tk/sample/demos-jp/bind.rb, ext/tk/sample/demos-en/bind.rb:\n\t  bug fix.\n\n\t* ext/tk/sample/ttk_wrapper.rb: ditto.\n\n\t* ext/tk/sample/ttk_wrapper.rb: support \"if __FILE__ == $0\" idiom.\n\n\t* ext/tk/sample/tktextio.rb: add binding for 'Ctrl-u' at console mode.\n\n\t* ext/tk/lib/tkextlib/tile.rb, ext/tk/lib/tkextlib/tile/style.rb,\n\t  ext/tk/sample/ttk_wrapper.rb: improve treating and control themes.\n\t  add Tk::Tile.themes and Tk::Tile.set_theme(theme).\n\n\t* ext/tk/lib/tkextlib/tile.rb: lack of autoload definitions.\n\n\t* ext/tk/lib/tkextlib/tile/tnotebook.rb: cannot use kanji (not UTF-8)\n\t  characters for headings.\n\n\t* ext/tk/lib/tkextlib/tkDND/shape.rb: wrong package name.\n\n\t* ext/tk/tkutil/tkutil.c: improve handling callback-subst-keys.\n\t  Now, support longnam-keys (e.g. '%CTT' on tkdnd-2.0; however, still\n\t  not support tkdnd-2.0 on tkextlib), and symbols of parameters (e.g.\n\t  :widget=>'%W', :keycode=>'%k', '%x'=>:x, '%X'=>:root_x, and so on;\n\t  those are attributes of event object). It means that Ruby/Tk accepts\n\t  not only \"widget.bind(ev, '%W', '%k', ...){|w, k, ...| ... }\", but\n\t  also \"widget.bind(ev, :widget, :keycode, ...){|w, k, ...| ... }\".\n\t  It is potentially incompatible, when user passes symbols to the\n\t  arguments of the callback block (the block receives the symbols as\n\t  strings). I think that is very rare case (probably, used by Ruby/Tk\n\t  experts only). When causes such trouble, please give strings instead\n\t  of such symbol parameters (e.g. call Symbol#to_s method).\n\n\t* ext/tk/lib/tk/event.rb, ext/tk/lib/tk/validation.rb,\n\t  ext/tk/lib/tkextlib/blt/treeview.rb,\n\t  ext/tk/lib/tkextlib/winico/winico.rb: ditto.\n\n\t* ext/tk/tkutil/tkutil.c: strings are available on subst_tables on\n\t  TkUtil::CallbackSubst class (it is useful on Ruby 1.9).\n\n\t* ext/tk/lib/tk/spinbox.rb, ext/tk/lib/tkextlib/iwidgets/hierarchy.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/spinner.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/entryfield.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/calendar.rb,\n\t  ext/tk/lib/tkextlib/blt/dragdrop.rb,\n\t  ext/tk/lib/tkextlib/tkDND/tkdnd.rb,\n\t  ext/tk/lib/tkextlib/treectrl/tktreectrl.rb,\n\t  ext/tk/lib/tkextlib/tktable/tktable.rb: disable code piece became\n\t  unnecessary by reason of the changes of ext/tk/tkutil/tkutil.c.\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/multi-tk.rb: change strategy to define\n\t  the constant WITH_ENCODING.\n\n\t* ext/tk/lib/tk.rb: fix bug on Tk::Encoding.tk_encoding_names.\n\nWed Jun 11 03:40:37 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/find.rb (Find#find): Return an enumerator if no block is\n\t  given.\n\nWed Jun 11 01:28:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/intern.h, proc.c: revert rb_proc_call() and\n\t  create rb_proc_call_with_block() instead.\n\n\t* include/ruby/ruby.h, eval_jump.c, thread.c, vm_insnhelper.c:\n\t  rb_blockptr should not be exposed.\n\nTue Jun 10 21:07:19 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_float.rb: add tests. [ruby-dev:35009]\n\nTue Jun 10 20:55:57 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_convert): need not to initialize optional\n\t  argument for rb_scan_args().\n\nTue Jun 10 20:13:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: negate default of --without-ext if --with-ext is\n\t  given.\n\n\t* ext/extmk.rb: negate default of --without-ext.\n\nTue Jun 10 17:43:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_shuffle_bang): update RDoc.  [ruby-dev:35034]\n\nTue Jun 10 17:30:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_obj_instance_exec, rb_mod_module_exec):\n\t  added prototypes.\n\nTue Jun 10 17:00:29 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* util.c (ruby_strtod): ruby_strtod don't allow a trailing\n\t  decimal point like \"7.\". [ruby-dev:34835] [ruby-dev:35009]\n\nTue Jun 10 13:48:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* rational.c (nurat_s_convert): need not to initialize optional\n\t  argument for rb_scan_args().\n\nTue Jun 10 12:58:07 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/io/wait/wait.c (FIONREAD_POSSIBLE_P): suppress warnings.\n\nTue Jun 10 12:43:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (CONST_ID_CACHE): fixed statement expression.\n\nTue Jun 10 11:25:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (rb_argv0): revised for ext/tk.\n\n\t* include/ruby/encoding.h: not to use varargs.h since requiring C89.\n\nTue Jun 10 00:50:51 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* include/ruby/ruby.h, vm_core.h: add a type rb_blockptr.\n\n\t* vm_insnhelper.c (vm_yield_with_cfunc): vm_yield_with_cfunc receives\n\t  blockptr and passes it to iterating block.\n\n\t* proc.c (rb_proc_call), include/ruby/intern.h: rb_proc_call receives\n\t  blockptr.  \"rb_proc_call(self, args, blockptr)\" in C corresponds to\n\t  \"self.call(*args, &block)\" in Ruby.\n\n\t* proc.c (proc_call): pass blockptr to block that is written in C.\n\n\t* proc.c (curry): receive blockptr and pass it to original proc.\n\t  [ruby-core:15551]\n\n\t* vm.c (invoke_block_from_c): fix for change of vm_yield_with_cfunc.\n\n\t* thread.c (call_trace_proc), eval_jump.c (rb_call_end_proc): fix for\n\t  change of rb_proc_call.\n\nTue Jun 10 00:10:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk (test-knownbug): give $(OPTS) for bootstraptest/runner.rb.\n\nMon Jun  9 23:10:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (Init_stack): don't declare.  it is a macro now.\n\nMon Jun  9 22:46:47 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* compile.c : treat []&&= in virtually the same way as []||=.\n\t  [ruby-dev:34679]\n\nMon Jun  9 21:17:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend (clean): remove build directories.\n\n\t* test_knownbug.rb -> KNOWNBUGS.rb: renamed.\n\n\t* common.mk: apply above change.\n\nMon Jun  9 21:14:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): set flags.\n\nMon Jun  9 21:09:02 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb -> ./test_knownbug.rb: moved.\n\n\t* common.mk: add a rule \"test-knownbug\".\n\nMon Jun  9 21:00:32 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_s_convert): can accept Complex('i').\n\t  [ruby-dev:34991]\n\nMon Jun  9 18:25:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (CONST_ID): constant ID cache for non-gcc.\n\n\t* *.c: no cache in init functions.\n\nMon Jun  9 17:56:30 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#delete_if): Call to_a.\n\t  (SortedSet#delete_if, TC_SortedSet#test_sortedset): Use super to\n\t  yield elements in sorted order; [ruby-core:17144] by Arthur\n\t  Schreiber.\n\t  (SortedSet#each, SortedSet#each, TC_Set#test_each)\n\t  (TC_SortedSet#test_sortedset): Return self; [ruby-dev:35002] by\n\t  Arthur Schreiber.\n\nMon Jun  9 17:47:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (fptr_finalize): close IO object if fd is already closed.\n\t  (rb_p): call rb_io_write just once.\n\nMon Jun  9 15:37:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (require_libraries): req_list may be NULL.  [ruby-dev:35008]\n\nMon Jun  9 14:18:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (struct rb_vm_struct): moved src_encoding_index,\n\t  ruby_debug, ruby_verbose, and rb_progname.\n\n\t* ruby.c (rb_argv0): no longer used.\n\n\t* ruby.c (struct cmdline_options): moved setids and req_list, and the\n\t  latter is now an array, to prevent memory leak.\n\n\t* ruby.c (cmdline_options_init): added.\n\n\t* ruby.c (add_modules, require_libraries, init_ids, forbid_setid): use\n\t  struct cmdline_options.\n\n\t* vm.c (vm_init2): initialize src_encoding_index.\n\n\t* vm.c: getters/setters for ruby_{debug,verbose}.\n\nMon Jun  9 09:54:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (Init_stack): make to call ruby_init_stack.\n\nMon Jun  9 08:12:40 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* vm_insnhelper.c, vm.c, proc.c : revert r17021. [ruby-dev:34997]\n\nMon Jun  9 03:12:23 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/pending.rb: move/remove solved issues.\n\n\t* bootstraptest/test_class.rb: ditto.\n\nMon Jun  9 02:32:58 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/zlib/zlib.c (rb_deflate_init_copy): Copy buffers as well.\n\t  [ruby-list:45018]\n\nSun Jun  8 22:22:20 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* vm_insnhelper.c, vm.c, proc.c (proc_call): allow call method with\n\t  block that both is written in C. [ruby-dev:34273] [ruby-core:15551]\n\n\t*  proc.c (curry): use proc_call instead of rb_proc_call.\n\t  [ruby-dev:34273] [ruby-core:15551]\n\nSun Jun  8 21:50:27 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/zlib/test_zlib.rb: add tests to achieve over 90% test coverage\n\t  of zlib.\n\nSun Jun  8 20:12:47 2008  wanabe  <s.wanabe@gmail.com>\n\n\t* vm_insnhelper.c (vm_throw): regard break as return in lambda.\n\t  [ruby-dev:34646]\n\nSun Jun  8 19:17:59 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c: add a build option \"CALC_EXACT_MALLOC_SIZE\".\n\t  This option enables to calculate exact size of current\n\t  allocated size by malloc().  You can access these information\n\t  with GC.malloc_allocated_size and GC.malloc_allocations.\n\t  This option consume additional memory as a header of each memory\n\t  object.  This option also helps to find out xmalloc()/xfree()\n\t  consistency.  If you get trouble with this option, some extension\n\t  using \"free()\" instead of \"xfree()\".\n\t  This options is disabled by default.\n\nSun Jun  8 18:15:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* array.c, bignum.c, cont.c, dir.c, dln.c, encoding.c, enumerator.c,\n\t  enumerator.c (enumerator_allocate), eval_jump.c, file.c, hash.c,\n\t  io.c, load.c, pack.c, proc.c, random.c, re.c, ruby.c, st.c,\n\t  string.c, thread.c, thread_pthread.c, time.c, util.c, variable.c,\n\t  vm.c, gc.c:\n\t  allocated memory objects by xmalloc (ruby_xmalloc) should be\n\t  freed by xfree (ruby_xfree).\n\n\t* ext/curses/curses.c, ext/dbm/dbm.c, ext/digest/digest.c,\n\t  ext/gdbm/gdbm.c, ext/json/ext/parser/parser.c,\n\t  ext/json/ext/parser/unicode.c, ext/openssl/ossl_cipher.c,\n\t  ext/openssl/ossl_hmac.c, ext/openssl/ossl_pkey_ec.c,\n\t  ext/sdbm/init.c, ext/strscan/strscan.c, ext/zlib/zlib.c:\n\t  ditto.\n\nSun Jun  8 01:15:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* hash.c (hash_i): make Hash#hash order insensitive.\n\t  (rb_hash_dup): use DUPSETUP.\n\nSat Jun  7 23:47:35 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/zlib/zlib.c (rb_deflate_initialize, Init_zlib): Fix up\n\t  initialize_copy; [ruby-list:45016].\n\nSat Jun  7 22:15:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (VENDOR_DIR): use LIBDIR instead of PREFIX as well as\n\t  SITE_DIR.  a patch from Richard Brown <rbrown AT exherbo.org> in\n\t  [ruby-core:17129].\n\nSat Jun  7 21:37:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_f_open), re.c (rb_reg_search), transcode.c (str_transcode):\n\t  suppress warnings.\n\n\t* util.c (quorem, rv_alloc, nrv_alloc): only used in dtoa().\n\nSat Jun  7 16:06:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (CFLAGS, CXXFLAGS): append default flags.\n\nSat Jun  7 01:23:59 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_open_file, rb_io_s_sysopen): fmode should be unsigned int.\n\t  fixed [ruby-dev:34979]\n\nFri Jun  6 23:46:19 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_insnhelper.c (vm_callee_setup_arg): check simple flag before\n\t  calling setup_arg function().  this change reduce function call.\n\nFri Jun  6 21:51:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (COMMON_HEADERS): include ws2tcpip.h.\n\n\t* ext/socket/addrinfo.h (addrinfo, getaddrinfo, getnameinfo,\n\t  freehostent, freeaddrinfo): undef before define because these are\n\t  macros in some versions of Windows SDK.\n\n\t  merged from ruby_1_8.\n\nFri Jun  6 18:25:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/iconv/utils.rb (default_test): override not to croak.\n\nFri Jun  6 16:41:45 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h: include ws2tcpip.h. fixed [ruby-Bugs-20528]\n\nFri Jun  6 15:05:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (count_objects): clear hash after counting objects.\n\nFri Jun  6 12:43:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_dir.rb (TestDir::test_glob): glob file names not sorted.\n\nFri Jun  6 00:05:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/time.rb (Time.xmlschema): don't use float.  fix\n\t  http://rubyforge.org/tracker/index.php?func=detail&group_id=426&atid=1698&aid=20504\n\nThu Jun  5 23:56:18 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_gc.rb: add tests to achieve over 90% test coverage of\n\t  gc.c.\n\n\t* test/ruby/test_objectspace.rb: ditto.\n\n\t* test/ruby/test_marshal.rb: ditto.\n\nThu Jun  5 23:40:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* gc.c (rb_objspace_alloc): this function is needed only when\n\t  ENABLE_VM_OBJSPACE macro is defined.\n\n\t* vm.c: ditto.\n\nThu Jun  5 23:31:21 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/stringio/test_stringio.rb: add tests to achieve over 95% test\n\t  coverage of stringio.\n\n\t* test/strscan/test_stringscanner.rb: ditto for strscan.\n\nThu Jun  5 23:25:34 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* eval.c (ruby_finalize_0): clear trace_func after executing END\n\t  procs.\n\n\t* thread.c: fix typo.\n\nThu Jun  5 22:50:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (os_obj_of): heaps may be modified in yield.\n\nThu Jun  5 21:46:50 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* st.c (st_reverse_foreach): comment out unused function.\n\n\t* util.c (dtoa): ditto.\n\nThu Jun  5 20:30:46 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/openssl/ossl_ssl_session.c (ossl_ssl_session_initialize):\n\t  Add a null check for ssl; submitted by akira yamada\n\t  in [ruby-dev:34950].\n\n\t* ext/openssl/ossl_ssl.c (Init_ossl_ssl): Define OP_NO_TICKET if\n\t  SSL_OP_NO_TICKET is present; submitted by akira yamada\n\t  in [ruby-dev:34944].\n\n\t* test/openssl/test_ssl.rb (OpenSSL#test_server_session): Add a\n\t  workaround for the case where OpenSSL is configured with\n\t  --enable-tlsext; submitted by akira yamada in [ruby-dev:34944].\n\nThu Jun  5 20:24:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* thread.c (thread_set_trace_func_m): fix check for proc argument.\n\nThu Jun  5 20:17:29 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* lib/rexml/document.rb (REXML::Document:write): leaky modification\n\t  trans -> transitive.  [ruby-dev:32040], r13686\n\n\t* lib/rexml/text.rb (Text.check): fix check for illegal character.\n\nThu Jun  5 14:03:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_create): find encoding without options.\n\nThu Jun  5 07:48:32 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* string.c (hash): should be \"static\".\n\nThu Jun  5 01:47:18 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_transcode.rb: add tests for iso-2022-jp.\n\nThu Jun  5 01:27:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_process.rb: add tests.\n\nWed Jun  4 23:10:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/zlib/zlib.c (rb_gzfile_set_mtime): fix typo.\n\nWed Jun  4 18:53:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_alloc): RDoc updated.  a patch from Gaston\n\t  Ramos <ramos.gaston at gmail.com> in [ruby-core:17073].\n\nWed Jun  4 18:36:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc.rb: massive spelling correction patch from Evan Farrar\n\t  <evanfarrar at gmail.com> in [ruby-doc:1382] applied.\n\nWed Jun  4 17:52:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_iconv): fix for length argument and now\n\t  allows range.  [ruby-core:17092]\n\nWed Jun  4 15:45:41 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_with_index, enumerator_with_memo): Fix\n\t  grammo in rdoc.\n\nWed Jun  4 13:06:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (CFLAGS, CXXFLAGS): include additional flags to\n\t  CFLAGS and CXXFLAGS while configuration.\n\nTue Jun  3 23:06:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/strscan/strscan.c (strscan_scan_full, strscan_search_full): fix\n\t  document.\n\nTue Jun  3 22:37:26 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ext/strscan/strscan.c (strscan_exist_p): fix document.\n\nTue Jun  3 22:33:29 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_dir.rb: add tests to achieve over 90% test coverage\n\t  of dir.c.\n\n\t* test/ruby/test_encoding.rb: add tests for dummy?, name_list and\n\t  aliases.\n\n\t* test/ruby/test_marshal.rb: add some tests.\n\nTue Jun  3 22:25:51 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/etc/test_etc.rb: new tests for etc.\n\nTue Jun  3 19:35:02 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_with_memo): New method: with_memo().\n\nTue Jun  3 20:04:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (miniruby$(EXEEXT)): miniruby cannot be\n\t  written by miniruby itself.\n\nTue Jun  3 19:33:22 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_init_copy): Take care of\n\t  initialize_copy as well as initialize.\n\nTue Jun  3 16:06:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): fix for non-existent files and SFN of\n\t  symlinks.  [ruby-talk:303736]\n\nTue Jun  3 15:12:01 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#classify): Back out the `group_by' alias.\n\t  Better think twice.\n\nTue Jun  3 15:00:22 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#collect, Set#select): Back out.  I thought it\n\t  was consistent but turned out to be wrong.\n\nTue Jun  3 13:41:08 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#collect, Set#select): Override Enumerable\n\t  methods and make them return a set. [ruby-core:17055]\n\t  (Set#delete_if, Set#collect!, Set#reject!, Set#classify)\n\t  (Set#divide, Set#delete_if): Return an enumerator if no block is\n\t  given.\n\t  (Set#classify): Define an alias `group_by' to override that of\n\t  Enumerable.\n\nTue Jun  3 13:35:40 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (run_exec_pgroup): C99 ism.\n\nTue Jun  3 12:51:57 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_allocate, enumerator_ptr): Properly\n\t  detect if the object is initialized and raise error when\n\t  appropriate.\n\t  (enumerator_initialize): Fix a typo in rdoc. [ruby-core:17052]\n\nTue Jun  3 01:21:51 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_method.rb: add a test.\n\nTue Jun  3 00:26:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* marshal.c (w_object): add a check for modification of array during\n\t  its dump.\n\nMon Jun  2 22:27:57 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* enc/iso_8859_5.c: Large omicron should lowercase to small omicron.\n\n\t* test/ruby/test_big5.rb, test/ruby/test_cp949.rb,\n\t  test/ruby/test_euc_jp.rb, test/ruby/test_euc_kr.rb,\n\t  test/ruby/test_euc_tw.rb, test/ruby/test_gb18030.rb,\n\t  test/ruby/test_gbk.rb, test/ruby/test_iso_8859.rb,\n\t  test/ruby/test_koi8.rb, test/ruby/test_shift_jis.rb,\n\t  test/ruby/test_windows_1251.rb: new tests for encoding.\n\n\t* test/ruby/test_utf16.rb, test/ruby/test_utf32.rb,\n\t  test/ruby/test_regexp.rb: add tests.\n\nMon Jun  2 21:56:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_file.rb: add tests for uninitialized object.\n\n\t* test/ruby/test_class.rb: ditto.\n\n\t* test/ruby/test_thread.rb: ditto.\n\nMon Jun  2 21:44:15 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* re.c: fix SEGV by Regexp.allocate.names, Match.allocate.names, etc.\n\n\t* test/ruby/test_regexp.rb: add tests for above.\n\n\t* io.c: fix SEGV by IO.allocate.print, etc.\n\n\t* test/ruby/test_io.rb: add tests for above.\n\nMon Jun  2 19:17:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_argf.rb (teardown): remove renamed temporary files.\n\nMon Jun  2 18:51:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/un.rb (wait_writable): wait until target files can be\n\t  written actually.\n\n\t* win32/Makefile.sub (LDSHARED_0, LINK_SO): get rid of failure of\n\t  mt.exe.\n\nMon Jun  2 16:26:17 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/delegate.rb (Delegator::MethodDelegation#respond_to):\n\t  respond_to? should now take optional second argument; submitted\n\t  by Jeremy Kemper <jeremy at bitsweat.net> in [ruby-core:17045].\n\nMon Jun  2 16:14:18 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/erb.rb (ERB::Compiler::TrimScanner#scan_line): Oops.  This\n\t  change did not apply to trunk.  Backed out.\n\nMon Jun  2 16:08:24 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/erb.rb (ERB::Compiler::TrimScanner#scan_line): Fix a bug\n\t  where tokens are not yielded one by one.\n\n\t* test/erb/test_erb.rb (TestERBCore#_test_01)\n\t  (TestERBCore#test_02_safe_04): The expected value should come\n\t  first for assert_equal().\n\nMon Jun  2 13:06:38 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* mkconfig.rb: hide build path from rbconfig.rb.\n\nMon Jun  2 08:46:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (ruby_strtod, dtoa): initialize more variables for error\n\t  handling.\n\nMon Jun  2 04:55:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* suppress warnings on cygwin, mingw and mswin.\n\nMon Jun  2 04:35:32 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/gb18030.c (gb18030_code_to_mbc): add 0x80000000\n\t  for 4bytes character.\n\nMon Jun  2 03:52:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (set_arg0): reverted used variable definition.\n\nMon Jun  2 03:23:25 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/gb18030.c (gb18030_mbc_to_code): mask by 0x7FFFFFFF\n\t  because OnigCodePoint will be used as 32bit signed int.\n\t  Masking by 0x7FFFFFFF is ok on GB18030;\n\t  Minimum 4bytes character is 0x81308130.\n\nSun Jun  1 22:29:35 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* rational.c (string_to_r_internal): use rb_isdigit.\n\n\t* marshal.c (long_toobig): use %zd.\n\n\t* ruby.c (set_arg0): move unused variable definition.\n\nSun Jun  1 12:18:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* insns.def (DEFINE_INSN): subtract of pointers is ptrdiff_t.\n\t  this is not int on 64bit system.\n\n\t* vm_dump.c (control_frame_dump): ditto.\n\n\t* vm_dump.c (stack_dump_each): ditto.\n\n\t* vm_dump.c (debug_print_register): ditto.\n\n\t* vm_dump.c (debug_print_pre): ditto.\n\n\t* transcode.c (str_transcode): ditto.\n\nSun Jun  1 10:32:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): show coredump status.\n\nSat May 31 23:33:34 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* README, README.ja: Add a note about default C flags.\n\nSat May 31 23:02:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (count_objects): clear given hash.\n\nSat May 31 20:28:10 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_regexp.rb: add tests.\n\nSat May 31 19:11:39 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/utf_16{be,le}.c (utf16{be,le}_code_to_mbc):\n\t  fix codepoint to bytes.\n\nSat May 31 18:28:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* suppress warnings with -Wwrite-string.\n\nSat May 31 18:26:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_delete_if): should return enumerator if no block\n\t  is given.  [ruby-dev:34901]\n\nSat May 31 15:58:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, configure.in (warnflags): defaulted to -Wall\n\t  -Wno-parentheses with gcc.  [ruby-dev:34810]\n\nSat May 31 15:17:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/mvm.h: new header file for MVM, and moved rb_vm_t and\n\t  rb_thread_t from vm_core.h.\n\nSat May 31 12:02:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): show pid when fail.\n\nFri May 30 23:55:56 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_rubyoptions.rb: add a test of RUBY_DESCRIPTION.\n\nFri May 30 22:47:17 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_regexp.rb: add tests.\n\nFri May 30 22:40:53 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_signal.rb: add tests to achieve over 80% test\n\t  coverage of signal.c.\n\nFri May 30 22:28:03 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* signal.c (esignal_signo): fix SignalException#signo which returned\n\t  nil absolutely.\n\n\t* signal.c (esignal_init): always prepend \"SIG\" to a string that is\n\t  returned by SignalException#signm.\n\nFri May 30 22:17:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_argf.rb: rename a conflicting method name.\n\n\t* test/ruby/test_string.rb: ditto.\n\n\t* test/ruby/test_io.rb: ditto.\n\nFri May 30 22:14:37 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (defined_expr): fix SEGV by defined?([1]).\n\nFri May 30 12:18:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (prelude.c): simply depends on PREP.  [ruby-dev:34877]\n\n\t* enc/make_encdb.rb, enc/trans/make_transdb.rb: ditto.\n\nFri May 30 10:55:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (struct rb_unblock_callback), thread.c\n\t  (set_unblock_function), thread_{pthread,win32}.c (native_sleep):\n\t  extracted from struct rb_thread_struct.\n\n\t* thread.c (reset_unblock_function): not check interrupts at leaving\n\t  blocking region.  [ruby-dev:34874]\n\nFri May 30 06:09:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/utf_8.c: add UTF8-MAC (UTF-8-MAC).\n\nFri May 30 04:17:13 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (enum_count, count_all_i, Init_Enumerable),\n\t  array.c (rb_ary_count): If no argument or block is given, count\n\t  the number of all elements.\n\nFri May 30 03:12:18 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/openssl/ossl_bn.c (ossl_bn_s_rand, ossl_bn_s_pseudo_rand):\n\t  Int should be enough here.\n\nFri May 30 02:35:00 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/openssl/ossl_bn.c (ossl_bn_s_rand, ossl_bn_s_pseudo_rand),\n\t  ext/openssl/ossl_pkey_dh.c (ossl_dh_s_generate)\n\t  (ossl_dh_initialize),\n\t  ext/openssl/ossl_pkey_dsa.c (ossl_dsa_s_generate),\n\t  ext/openssl/ossl_rand.c (ossl_rand_bytes)\n\t  (ossl_rand_pseudo_bytes, ossl_rand_egd_bytes),\n\t  ext/openssl/ossl_x509store.c (ossl_x509stctx_set_error): Do not\n\t  use FIX2INT() without checking the value type.  Use NUM2INT()\n\t  instead; found by akr in [ruby-dev:34890].\n\nFri May 30 02:08:20 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* signal.c (esignal_init): handle a non-integer argument correctly,\n\t  allowing SignalException.new(:INT).\n\nFri May 30 00:59:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_regexp.rb: add tests.\n\nThu May 29 22:51:05 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_require.rb: add a test for load with wrap flag, to\n\t  achieve 100% test coverage of eval_jump.c.\n\nThu May 29 22:47:53 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_argf.rb: new tests for ARGF, to achieve over 85% test\n\t  coverage of file.c.\n\n\t* test/ruby/test_io.rb: add tests.\n\nThu May 29 22:41:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (argf_readchar): raise EOFError, synchronizing IO#readchar.\n\nThu May 29 22:29:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* io.c (argf_external_encoding, argf_internal_encoding): fix SEGV by\n\t  ARGF.external_encoding.\n\nThu May 29 17:52:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/zlib/extconf.rb: search zlib1, and regard mswin32 later than VC6\n\t  as WIN32.  [ruby-core:16984]\n\nWed May 28 18:05:28 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_nitems, Init_Array): Axe Array#nitems().\n\t  cf. [ruby-dev:34676]-[ruby-dev:34713]\n\nWed May 28 17:50:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/mkexports.rb (Exports#objdump, Exports#each_line): extracted.\n\nWed May 28 17:41:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (MKPREP): appended $(RBCONFIG).\n\n\t* common.mk (enc.mk, prelude.c): not depend on $(RBCONFIG) on mswin32\n\t  to get of compiling twice each time.\n\n\t* win32/Makefile.sub (prelude.c): not depend on $(PREP).\n\nWed May 28 17:37:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/mkexports.rb (Exports::Mswin#each_export): speed up.\n\nWed May 28 16:41:59 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_slice_bang): Call rb_ary_modify_check() at the\n\t  beginning. [rubyspec]\n\nWed May 28 16:12:44 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb (WEBrick::HTTPServlet::CGIHandler#do_GET):\n\t  Set the HTTP status code to 302 if a Location header field is\n\t  present and the status code is not valid as a client\n\t  redirection.  cf. RFC 3875 6.2.3, 6.2.4.\n\nWed May 28 15:53:52 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/trans/japanese.c (to_SHIFT_JIS_EF_infos): typo.\n\nWed May 28 15:18:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/singleton.rb (SingletonClassMethods): _load should be public.\n\nWed May 28 13:30:43 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c: add workaround for Unicode to CP932.\n\t  U+2015->0x815C, U+2225->0x8161, U+FF0D->0x817C, U+FF3C->0x815F,\n\t  U+FF5E->0x8160, U+FFE0->0x8191, U+FFE1->0x8192, U+FFE2->0x81CA\n\nWed May 28 12:52:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (w_object, marshal_dump, r_object0, marshal_load): search\n\t  private methods too.  [ruby-dev:34671]\n\n\t* object.c (convert_type): ditto.\n\nWed May 28 08:42:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* numeric.c: \"%\" is required before PRI?VALUE.\n\nTue May 27 22:10:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_error.c (error_handle): SystemExit and SignalException throws\n\t  TAG_RAISE but not TAG_FATAL.\n\n\t* thread.c (rb_thread_execute_interrupts): delay interrupts during\n\t  raising exceptions.  [ruby-dev:34855]\n\nTue May 27 20:18:30 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_slice_bang): Return an empty array instead of\n\t  nil when pos is valid and len is adjusted from a valid value to\n\t  zero; caught by RubySpec.\n\nTue May 27 19:12:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (MKPREP), common.mk, win32/Makefile.sub (prelude.c): get\n\t  rid of depending PREP with nmake.\n\n\t* common.mk (encs): depends on libruby.\n\nTue May 27 19:00:22 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/stringio/stringio.c (strio_each_char, Init_stringio): Add\n\t  StringIO#{each_char,chars}.\n\t  (Init_stringio): Fix StringIO#bytes.\n\nTue May 27 17:54:35 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/stringio/stringio.c (strio_each_byte): Return self instead\n\t  of nil as the rdoc says.\n\nTue May 27 15:36:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (check_int): use PRIxVALUE format specifier.\n\n\t* numeric.c (check_uint, rb_num2fix, int_chr): ditto.\n\n\t* numeric.c (num_fdiv): fallback to_f should always return float\n\t  result.  should not use #quo that may return rational.\n\n\t* numeric.c (num_div): should raise ZeroDivisionError.\n\n\t* numeric.c (fix_divide): ditto.\n\n\t* test/ruby/test_numeric.rb (TestNumeric::test_divmod): avoid\n\t  ZeroDivisionError in tests.\n\nTue May 27 13:14:53 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (enum_to_a): Pass arguments through to #each().\n\t  (enum_sort): Follow the enum_to_a signature change.\n\t  (enum_reverse_each): Add #reverse_each().\n\nTue May 27 13:12:37 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* io.c (Init_IO): Define ARGF.{lines,bytes,chars}.\n\nTue May 27 12:06:37 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (BUFCHECK): wrong condition. [ruby-core:16921]\n\n\t* file.c (file_expand_buf): shouldn't use buflen for length of string.\n\nMon May 26 18:24:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (BUFCHECK): no resize if enough room.\n\n\t* file.c (file_expand_path): use BUFCHECK.\n\nMon May 26 17:48:42 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (struct enumerator, enumerator_init)\n\t  (enumerator_init_copy, enumerator_each): Eliminate iter.\n\t  (enumerator_ptr): Do not hardcode the class name.\n\t  (enumerator_with_index): Delay variable initialization after\n\t  RETURN_ENUMERATOR().\n\nMon May 26 17:23:49 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (file_expand_path): add more space for '/'.\n\n\t* file.c (file_expand_path): should reset address of p after calling\n\t  rb_str_resize(). [ruby-dev:34800]\n\nMon May 26 16:49:55 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-mode): use run-hooks if run-mode-hook is\n\t  not available.  a patch from Kazuhiro NISHIYAMA <zn at mbf.nifty.com>\n\t  in [ruby-dev:34853].\n\nMon May 26 16:41:35 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (ntfs_tail): filename which starts with '.' is valid.\n\n\t* file.c (file_expand_path): cygwin symlink support.\n\nMon May 26 07:15:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_dump.c (rb_vm_bugreport): rb_make_backtrace has no arguments.\n\nMon May 26 01:17:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): signal description\n\t  refined.\n\nMon May 26 00:52:52 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* hash.c (env_each_key, env_each_value, env_reject_bang)\n\t  (rb_env_clear, env_replace): Omit duplicated secure level check.\n\nMon May 26 00:37:16 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* hash.c (env_each_value): Do not call env_values() twice.\n\nSun May 25 17:54:36 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_compile): set local_table for\n\t  ISEQ_TYPE_DEFINED_GUARD.\n\nSun May 25 17:52:25 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_build_body): remove side effect from\n\t  VM::InstructionSequence.load.\n\nSun May 25 04:30:45 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_modules.rb (remove_json_mixins): change judgment\n\t  condition.\n\nSun May 25 03:54:39 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_modules.rb (test_ancestors, test_included_modules):\n\t  ignore json mixins.\n\nSun May 25 02:37:25 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_method.c: renamed from vm_method.c.  \"vm_method.c\" is included\n\t  by \"vm.c\".\n\n\t* vm_eval.c: added.  Some codes are moved from \"eval.c\"\n\n\t* common.mk: fix for above changes.\n\n\t* compile.c: make a vm_eval(0)\n\n\t* eval.c, eval_error.c, eval_intern.h, eval_jump.c, proc.c, vm.c,\n\t  id.c, id.h, vm_core.h, vm_dump.c, vm_evalbody.c, vm_insnhelper.c,\n\t  blockinlining.c: fix for above changes.  and do some refactoring.\n\t  this changes improve rb_yield() performance.\n\nSat May 24 22:32:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): clear errno at the top of our own\n\t  implementation of strtod(3).  [ruby-dev:34834] [ruby-dev:34839]\n\nSat May 24 15:26:16 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (iseq_set_exception_table, NODE_WHILE, NODE_NEXT): remove\n\t  special handling that decrements sp in CATCH_TYPE_NEXT for NODE_WHILE.\n\n\t* vm.c (vm_eval_body), vm_insnhelper.c (vm_throw): remove unused code.\n\nSat May 24 08:13:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (rb_str_transcode): argc is 1, and argv is &to.\n\nFri May 23 17:55:11 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_slice_bang): Be consistent with Array#slice()\n\t  and String#slice!().  Just return nil when a negative length or\n\t  out of boundary index is given instead of raising an exception\n\t  via internal functions.\n\nFri May 23 16:44:34 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (Init_Enumerator): Override\n\t  Enumerable::Enumerator#each_with_index with #with_index.\n\nFri May 23 12:23:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (rb_num_t): moved form vm.h.\n\n\t* tool/instruction.rb (RubyVM::Instruction#sp_increase_c_expr),\n\t  tool/instruction.rb (RubyVM::VmBodyGenerator#make_header_operands):\n\t  omit unused variables.\n\nFri May 23 08:47:02 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (exc_equal): == operator should be transitional.\n\t  [ruby-dev:34808]\n\n\t* error.c (syserr_eqq): === should be able to handle delegated\n\t  objects as well.\n\nFri May 23 06:15:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* iseq.c (rb_iseq_compile_with_option): get rid of segv.\n\nFri May 23 02:29:14 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (opt_gt|ge|lt|le): use values directly to compare.\n\nFri May 23 01:15:09 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, eval_intern.h, include/ruby/intern.h, include/ruby/ruby.h,\n\t  vm.c, vm_core.h, vm_insnhelper.c: remove pointless \"const\".\n\nThu May 22 23:45:17 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* compile.c (get_destination_insn, get_next_insn, get_prev_insn):\n\t  peephole optimization should not ignore ISEQ_ELEMENT_ADJUST.\n\nThu May 22 20:20:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (check_dump_arg, check_load_arg): check if reentered.\n\t  [ruby-dev:34802]\n\nThu May 22 20:14:28 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* iseq.c (iseq_load, iseq_data_to_ary): support\n\t  ISEQ_TYPE_DEFINED_GUARD.\n\nThu May 22 19:01:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (vm_get_ruby_level_cfp): moved from eval_intern.h.\n\n\t* vm.c (sdr, nsdr): define methods only if VMDEBUG is defined.\n\nThu May 22 17:18:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* array.c (rb_ary_compact_bang): fix reallocation size.\n\nThu May 22 15:20:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval_intern.h, vm_core.h, include/ruby/intern.h, include/ruby/ruby.h,\n\t  vm.c: need to add const to prototypes, of course.\n\nThu May 22 13:24:43 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, vm.c, vm_core.h, vm_insnhelper.c: specify \"const\".\n\n\t* vm_opts.h: add a OPT_TOKEN_THREADED_CODE macro.\n\nThu May 22 12:51:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* insns.def (newhash): fix a variable definition: \"const k\".\n\nThu May 22 12:40:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (flatten): check if reentered.  [ruby-dev:34798]\n\nThu May 22 11:39:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/envutil.rb (assert_normal_exit): capture stdout and stderr\n\t  of the child process.\n\nThu May 22 08:28:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (flatten): free memo hash table before raising exception.\n\t  [ruby-dev:34789]\n\nThu May 22 06:30:10 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* array.c (flatten): fix memory leak.\n\nThu May 22 06:21:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_str_caseeql): added.\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_enc_find_index): use nkf_str_caseeql.\n\nThu May 22 05:45:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (proc_dup): should copy safe_level from src proc\n\t  properly.  a patch from Keita Yamaguchi\n\t  <keita.yamaguchi at gmail.com>\n\nThu May 22 02:46:08 2008  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: do not use Thread#raise. [ruby-dev:34739]\n\nThu May 22 00:30:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_require.rb: new tests for library requiring, to\n\t  achieve over 90% test coverage of dln.c.\n\n\t* test/ruby/test_class.rb: add tests to achieve over 90% test coverage\n\t  of class.c.\n\n\t* test/ruby/test_module.rb: ditto.\n\nThu May 22 00:15:44 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def, vm_insnhelper.c: specify \"const\".\n\nWed May 21 23:20:21 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_eval.rb: fix syntax.\n\nWed May 21 17:46:17 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_enc_find_index):\n\t  use strcasecmp. [ruby-dev:34787]\n\nWed May 21 16:48:22 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_compact_bang): avoid forceful realloc.\n\nWed May 21 07:42:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_usascii_str_new): use rb_str_new.\n\n\t* string.c (rb_enc_str_new): ditto.\n\n\t* string.c (rb_usascii_str_new2): use rb_str_new2.\n\nWed May 21 07:22:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c, include/ruby/encoding.h\n\t  (rb_enc_associate, rb_enc_associate_index):\n\t  returns obj. [ruby-dev:34778]\n\nWed May 21 04:20:20 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_ascii8bit_encoding): use ENCINDEX_ASCII.\n\n\t* encoding.c, include/ruby/encoding.h (rb_ascii8bit_encindex):\n\t  added.\n\n\t* encoding.c (rb_locale_encoding): use rb_usascii_encoding().\n\nWed May 21 01:45:58 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_file_exhaustive.rb (setup): workaround for Windows\n\t  Vista.\n\n\t* test/ruby/envutil.rb (rubyexec): now Open3.open3 is supported on\n\t  Windows.\n\n\t* test/ruby/test_process.rb: use ``||'' instead of ``;'' because\n\t  cmd.exe not support it.\n\nWed May 21 01:28:47 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c, include/ruby/encoding.h (rb_str_transcode):\n\t  C API of encoding conversion for Ruby object.\n\t  VALUE rb_str_transcode(VALUE str, VALUE to).\n\n\t* transcode.c (str_encode, str_encode_bang):\n\t  rename from rb_tr_transcode or rb_str_transcode_bang.\n\nTue May 20 23:26:05 2008  Yusuke Endoh\t<mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb: fix tests for 64bit CPU.\n\nTue May 20 20:59:56 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (rb_nkf_convert) (nkf_enc_without_bom):\n\t  reverted. nkf-utf8/nkf.c should be independent of ruby.\n\n\t* ext/nkf/nkf.c (options):\n\t  moved from nkf-utf8/nkf.c.\n\t  override nkf's original settings for Unicode BOM.\n\nTue May 20 13:20:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_convert), ext/nkf/nkf-utf8/nkf.c\n\t  (nkf_enc_without_bom): BOM is not a part of encodings.\n\n\t* ext/nkf/nkf.c (Init_nkf), ext/nkf/nkf-utf8/nkf.c (options):\n\t  UTF-{16,32} without endian have no sense.\n\nTue May 20 12:13:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options, process_options): --dump option.\n\nTue May 20 11:36:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (PRI[diouxX]VALUE): printf format for VALUE.\n\n\t* gc.c (assign_heap_slot): suppress a warning.\n\nTue May 20 03:42:43 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, vm_insnhelper.c: fix cref in instance_eval\n\t  and cvar_base search protocol.\n\n\t* bootstraptest/test_knownbug.rb, test_eval.rb: move solved test\n\t  and add new tests.\n\n\t* test/ruby/test_eval.rb: fix tests for spec.\n\nTue May 20 01:43:44 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: fix a test.\n\t  \"block_given?\" returns true if \"yield\" can be used.\n\nTue May 20 01:07:19 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* parse.y (assignable_gen): when \"self = 1\" was evaluated, unnecessary\n\t  error message was output, which might cause null pointer access.\n\nTue May 20 08:38:56 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_enc_strlen_cr): need to set ENC_CODERANGE_7BIT if\n\t  search_nonascii() fails.    [ruby-dev:34751]\n\n\t* string.c (rb_str_reverse): preserve coderange info if the\n\t  receiver is 7bit string.\n\n\t* string.c (rb_str_reverse_bang): ditto.\n\n\t* string.c (rb_str_reverse_bang): should have called\n\t  single_byte_optimizable before rb_str_modify() that clears\n\t  coderange info.\n\n\t* string.c (tr_trans): handle single bytes more eagerly.\n\nMon May 19 23:32:12 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (invoke_block_from_c): fix call flow.\n\nMon May 19 23:19:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* regexec.c (slow_search): check the case when the length is 1.\n\t  The behavior of memcmp is undefined if the third argument is 0.\n\nMon May 19 21:07:48 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.c (native_thread_apply_priority):\n\t  fix argument range check.  [ruby-dev:33124]\n\nMon May 19 18:22:35 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/openssl/ossl_pkcs5.c (ossl_pkcs5_pbkdf2_hmac): Fix the type\n\t  of md; pointed out by Takahiro Kambe <taca at back-street.net>\n\t  in [ruby-dev:34748].\n\nMon May 19 17:23:55 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regparse.c (PINC): use optimized enclen() instead of\n\t  ONIGENC_MBC_ENC_LEN().\n\n\t* regparse.c (PFETCH): ditto.\n\n\t* regparse.c (PFETCH): small optimization.\n\n\t* regexec.c (slow_search): single byte encoding optimization.\n\n\t* regenc.h (enclen): avoid calling function when encoding's\n\t  min_len == max_len.\n\n\t* re.c (rb_reg_regsub): rb_enc_ascget() optimization for single\n\t  byte encoding.\n\n\t* re.c (rb_reg_search): avoid allocating new re_registers if we\n\t  already have MatchData.\n\n\t* re.c (match_init_copy): avoid unnecessary onig_region_free()\n\t  before onig_region_copy.\n\n\t* encoding.c (rb_enc_get_index): remove implicit enc_capable check\n\t  each time.\n\n\t* encoding.c (rb_enc_set_index): ditto.\n\n\t* encoding.c (enc_compatible_p): small refactoring.\n\n\t* include/ruby/encoding.h (rb_enc_dummy_p): inline\n\t  rb_enc_dummy_p() and export related code.\n\nMon May 19 14:32:03 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* version.h: fix strange change by version.h update tool.\n\nMon May 19 14:18:13 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: move solved tests.\n\n\t* bootstraptest/test_eval.rb, test_literal.rb, test_syntax.rb,\n\t  test_thread.rb: ditto.\n\n\t* test/ruby/test_m17n.rb, test_proc.rb, test_sprintf.rb,\n\t  test_string.rb, test/ruby/test_struct.rb: ditto.\n\nMon May 19 13:23:03 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_spawn_internal): set last_status when status == -1\n\t  because there is no path to set it on win32. this patch is derived\n\t  from [ruby-core:16787], submitted by Luis Lavena <luislavena at\n\t  gmail.com>\n\nMon May 19 11:32:47 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, insns.def, eval.c, vm_insnhelper.c: fix CREF handling.\n\t  VM value stack frame of block contains cref information.\n\t (dfp[-1] points CREF)\n\n\t* compile.c, eval_intern.h, eval_method.c, load.c, proc.c,\n\t  vm_dump.h, vm_core.h: ditto.\n\n\t* include/ruby/ruby.h, gc.c: remove T_VALUES because of above\n\t  changes.\n\n\t* bootstraptest/test_eval.rb, test_knownbug.rb: move solved test.\n\nSun May 18 22:26:51 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/filehandler.rb: should normalize path\n\t  name in path_info to prevent script disclosure vulnerability on\n\t  DOSISH filesystems. (fix: CVE-2008-1891)\n\t  Note: NTFS/FAT filesystem should not be published by the platforms\n\t  other than Windows. Pathname interpretation (including short\n\t  filename) is less than perfect.\n\n\t* lib/webrick/httpservlet/abstract.rb\n\t  (WEBrick::HTTPServlet::AbstractServlet#redirect_to_directory_uri):\n\t  should escape the value of Location: header.\n\n\t* lib/webrick/httpservlet/cgi_runner.rb: accept interpreter\n\t  command line arguments.\n\nSun May 18 02:54:46 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* pack.c (pack_pack): check errno to detect error of ruby_strtoul.\n\n\t* pack.c (pack_unpack): ditto.\n\n\t* test/ruby/test_pack.rb: add a test for above.\n\nSat May 17 23:53:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): fix for short file name on Cygwin.\n\nSat May 17 18:03:52 2008  Yuki Sonoda (Yugui) <yugui@yugui.jp>\n\n\t* vm.c (Init_VM): removed the definition of Thread#initialize,\n\t  which is overwritten in Init_Thread and is never used.\n\nSat May 17 14:01:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sort_bang): should not free shared pointer, and set\n\t  shared.  [ruby-dev:34732]\n\nSat May 17 12:34:54 2008  Yuki Sonoda (Yugui) <yugui@yugui.jp>\n\n\t* thread_pthread.c (Init_native_thread): Kernel#.sleep used never to\n\t  sleep on Mac OS X. Reported by arton <artonx AT yahoo.co.jp>.\n\n\t* thread_pthread.c (native_sleep): added error checks.\n\nSat May 17 11:29:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_extname): first dot is not an extension name.\n\nSat May 17 03:21:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_sort_bang): stop memory leak.  [ruby-dev:34726]\n\n\t* re.c (rb_reg_search): need to free allocated buffer in re_register.\n\n\t* regexec.c (onig_region_new): more pedantic malloc check.\n\n\t* regexec.c (onig_region_resize): ditto.\n\n\t* regexec.c (STATE_CHECK_BUFF_INIT): ditto.\n\n\t* regexec.c (onig_region_copy): use onig_region_resize.\n\nFri May 16 12:48:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (to_flo): rb_Float() accepts even strings for input.\n\n\t* complex.c (nucomp_to_f): fix wrong message.\n\n\t* complex.c (nucomp_to_r): ditto.\n\n\t* object.c (rb_Float): do not check NaN for error.  NaN is a part\n\t  of valid float values.\n\nThu May 15 23:36:09 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_string.rb: add tests to achieve over 90% test\n\t  coverage of string.c.\n\n\t* test/ruby/test_m17n.rb: ditto.\n\n\t* test/ruby/test_symbol.rb: ditto.\n\n\t* test/ruby/test_pack.rb: ditto.\n\nThu May 15 23:01:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* string.c (tr_find): String#delete returned wrong result when multiple\n\t  utf-8 arguments are passed.\n\n\t* test/ruby/test_m17n.rb (test_delete): add a test for above.\n\nThu May 15 22:37:56 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (ripper_warningS): now used.\n\nThu May 15 15:33:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): support for alternative data stream\n\t  and ignored trailing garbage of NTFS.\n\n\t* file.c (rb_file_s_basename): ditto.\n\n\t* file.c (rb_file_s_extname): ditto.\n\nThu May 15 13:43:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): no need for forceful warning when\n\t  converting to float.  overflow is a nature of float values.\n\n\t* parse.y (parser_yylex): ditto.\n\nThu May 15 13:23:20 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_prepare_enc): error condition was updated for non\n\t  ASCII compatible strings.\n\nThu May 15 12:19:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/openssl/openssl_missing.c (HMAC_CTX_copy): adopted\n\t  prototype change in openssl bundled with newer OpenBSD.\n\t  a patch from Takahiro Kambe <taca at back-street.net> in\n\t  [ruby-dev:34691].\n\nWed May 14 22:09:25 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* ChangeLog: fix typo.\n\nWed May 14 21:49:14 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_object.rb: new tests to achieve over 90% test\n\t  coverage of object.c, eval.c and eval_method.c.\n\n\t* test/ruby/test_module.rb: ditto.\n\n\t* test/ruby/test_trace.rb: ditto.\n\n\t* test/ruby/test_integer.rb: ditto.\n\n\t* test/ruby/test_float.rb: ditto.\n\n\t* test/ruby/test_method.rb: ditto.\n\n\t* test/ruby/test_variable.rb: ditto.\n\n\t* test/ruby/test_eval.rb: ditto.\n\n\t* test/ruby/test_exception.rb: ditto.\n\n\t* test/ruby/test_class.rb: ditto.\n\nWed May 14 12:46:37 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (insn_operand_intern): remove Qundef related code.\n\nWed May 14 12:42:36 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_count): Override Enumerable#count for better\n\t  performance.\n\nWed May 14 11:29:06 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def: add a \"putcbase\" instruction.\n\n\t* compile.c, insns.def: fix to use putcbase instruction for\n\t  class search.  Qundef should not be used.\n\nWed May 14 07:49:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): defer calling of rb_frame_self() until it\n\t  become really necessary.\n\n\t* eval.c (rb_call): ditto.\n\nWed May 14 00:55:56 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_io_m17n.rb: remove a duplicative method.\n\n\t* test/ruby/test_utf16.rb: rename a conflicting method name.\n\n\t* test/ruby/test_array.rb: ditto.\n\n\t* test/ruby/test_file_exhaustive.rb: ditto.\n\n\t* test/ruby/test_hash.rb: ditto.\n\n\t* test/ruby/test_env.rb: ditto.\n\n\t* test/ruby/test_fixnum.rb: ditto.\n\n\t* test/ruby/test_rational.rb: ditto.\n\nWed May 14 00:45:58 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* eval_method.c (rb_add_method): fix check for warning when\n\t  Object#initialize is redefined. (same as 1.8)\n\nTue May 13 23:32:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_yield): use rb_yield_values2.\n\n\t* enum.c (DEFINE_ENUMFUNCS): macro to define enumerator and yielding\n\t  functions.\n\n\t* enum.c (enum_all_func, enum_any_func, enum_one_func,\n\t  enum_none_func): reduced duplicate code.\n\nTue May 13 15:09:38 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c: Update rdoc.\n\t  (enumerator_initialize): Discourage the use.\n\t  (enum_each_slice, enum_each_cons, enumerator_each)\n\t  (enumerator_with_index): Add a note about a call without a block.\n\nTue May 13 08:25:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_f_gets): re-enable rdoc.\n\t  (rb_f_readline): ditto.\n\t  (rb_f_readlines): ditto.\n\nTue May 13 07:56:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_cat): fixed buffer overrun reported by\n\t  Christopher Thompson <cthompson at nexopia.com> in [ruby-core:16746]\n\nMon May 12 23:37:57 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm.c (collect_local_variables_in_env): remove unnecessary check\n\t  which causes: x=1;proc{local_variables}.call #=> []\n\n\t* test/ruby/test_variable.rb: add a test for above.\n\nMon May 12 23:05:24 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c, include/ruby/intern.h (rb_run_exec_options): externed.\n\n\t* process.c (save_redirect_fd, save_env_i, save_env, run_exec_dup2,\n\t  run_exec_open, run_exec_pgroup, run_exec_rlimit, rb_run_exec_options):\n\t  save parent's process environments.\n\n\t* process.c (rb_spawn_internal): remove calling run_exec_options()\n\t  because cannot restore after spawn.\n\n\t* io.c (pipe_open): ditto.\n\n\t* test/ruby/test_process.rb (test_execopts_env): upcase environment\n\t  variable name for case insensitive platforms.\n\n\t* win32/win32.c (init_env): set USER environment variable only when\n\t  USERNAME is available.\n\nMon May 12 22:23:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/date.rb (once): use Object#object_id instead of Symbol#to_i.\n\nMon May 12 21:34:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/envutil.rb (rubybin): return expanded rubyexe instead of\n\t  expanded ruby if available.\n\nMon May 12 20:19:55 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (grep_i): Be aware of multiple values;\n\t  fix [ruby-dev:34653].\n\t  (grep_iter_i): Ditto.\n\t  (count_i): Ditto.\n\t  (find_i): Ditto.\n\t  (find_index_i): Ditto.\n\t  (find_all_i): Ditto.\n\t  (reject_i): Ditto.\n\t  (inject_i): Ditto.\n\t  (inject_op_i): Ditto.\n\t  (partition_i): Ditto.\n\t  (group_by_i): Ditto.\n\t  (first_i): Ditto.\n\t  (sort_by_i): Ditto.\n\t  (all_i): Ditto.\n\t  (all_iter_i): Ditto.\n\t  (any_i): Ditto.\n\t  (any_iter_i): Ditto.\n\t  (one_i): Ditto.\n\t  (one_iter_i): Ditto.\n\t  (none_i): Ditto.\n\t  (none_iter_i): Ditto.\n\t  (min_i): Ditto.\n\t  (min_ii): Ditto.\n\t  (max_i): Ditto.\n\t  (max_ii): Ditto.\n\t  (minmax_i): Ditto.\n\t  (minmax_ii): Ditto.\n\t  (min_by_i): Ditto.\n\t  (max_by_i): Ditto.\n\t  (minmax_by_i): Ditto.\n\t  (member_i): Ditto.\n\t  (take_i): Ditto.\n\t  (take_while_i): Ditto.\n\t  (drop_i): Ditto.\n\t  (drop_while_i): Ditto.\n\t  (cycle_i): Ditto.\n\n\t* enum.c (each_with_index): Update rdoc.  each_with_index() takes\n\t  arguments that are passed through to each(), and a hash preserves\n\t  key order.\n\nMon May 12 19:05:24 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_spawn_internal): remove calling run_exec_options()\n\t  because cannot restore after spawn. we'll fix this later.\n\nMon May 12 18:16:44 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_spawn_internal): need to call run_exec_options() before\n\t  spawn if the platform doesn't have fork. [ruby-dev:34647]\n\nMon May 12 15:20:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (ruby_vm_xmalloc): increase malloc_increase only if malloc\n\t  succeeds.  failed malloc size can be huge.  it may increase\n\t  malloc_limit too big which cause less GC and memory full.\n\t  (ruby_vm_xrealloc): ditto.\n\t  (rb_objspace): make params.limit and params.increase size_t.\n\nMon May 12 15:04:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_prepare_re): made non static with small refactoring.\n\n\t* ext/strscan/strscan.c (strscan_do_scan): should adjust encoding\n\t  before regex searching.\n\nMon May 12 13:57:19 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): add NODE_OP_ASGN_{OR,AND}.  \"defined?(a||=1)\"\n\t  should not operate assignment.  [ruby-dev:34645]\n\nMon May 12 13:29:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c (bigzero_p): check from MSB to LSB.  [ruby-dev:34649]\n\nMon May 12 12:32:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (RUBYOPT): affected BASERUBY too.  [ruby-talk:301514]\n\nMon May 12 12:27:55 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (assign_heap_slot): fix condition for number of objects in\n\t  a heap.\n\nMon May 12 12:24:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_to_i): really removed.  [ruby-dev:34641]\n\nMon May 12 11:15:55 2008  Yuki Sonoda (Yugui) <yugui@yugui.jp>\n\n\t* gc.c (assign_heap_slot):  put the binary search routine in order.\n\nMon May 12 10:52:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (ruby_init_gems), gem_prelude.rb: check if Gem is defined\n\t  instead of Gem::Enable.\n\n\t* gem_prelude.rb (load_full_rubygems_library, const_missing): prevent\n\t  infinite recursion.  [ruby-dev:34539]\n\nSun May 11 23:19:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (all_iter_i, any_iter_i): reduced duplicated code.\n\nSun May 11 22:54:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/runner.rb (main): leave -I options for purelib.rb\n\t  untouched.\n\n\t* bootstraptest/runner.rb (main): handle relative path -r options.\n\nSun May 11 19:04:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_thread.rb: kill and join temporal threads that are\n\t  created in each test.\n\nSun May 11 17:58:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_process.rb (TestProcess#with_stdin): defined.\n\t  (TestProcess#test_argv0_noarg): don't use redirect_fds.\n\t  [ruby-dev:34647]\n\nSun May 11 17:57:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (MINIRUBY): should not include extension library path.\n\nSun May 11 14:40:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (SIZET2NUM): new macro.\n\t  (NUM2SIZET): new macro.\n\n\t* gc.c (struct rb_objspace): use size_t for increment, length and\n\t  used for 64bit.\n\t  (allocate_heaps): ditto.\n\t  (assign_heap_slot): ditto.\n\t  (set_heaps_increment): ditto.\n\t  (gc_mark_all): ditto.\n\t  (is_pointer_to_heap): ditto.\n\t  (free_unused_heaps): ditto.\n\t  (gc_sweep): ditto.\n\t  (os_obj_of): ditto.\n\t  (rb_gc_call_finalizer_at_exit): ditto.\n\t  (count_objects): ditto.\n\nSun May 11 13:14:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* thread.c (thread_cleanup_func_before_exec): extracted from\n\t  thread_cleanup_func not to touch pthread data.\n\t  pthread_cond_destroy in forked process may cause deadlock on\n\t  Debian GNU/Linux Etch on x86, x86-64 and IA64.\n\t  this doesn't cause resource leak because the process will exec soon.\n\t  (terminate_atfork_before_exec_i): defined.\n\t  (rb_thread_atfork_before_exec): defined.\n\n\t* include/ruby/intern.h (rb_thread_atfork_before_exec): declared.\n\n\t* process.c (rb_exec_atfork): call rb_thread_atfork_before_exec\n\t  instead of rb_thread_atfork.\n\n\t* io.c (popen_exec): call rb_thread_atfork_before_exec instead of\n\t  rb_thread_atfork.\n\nSat May 10 22:14:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_trans): single '^' does not mean negation.\n\t  [ruby-dev:34632]\n\n\t* string.c (tr_trans): should check src size, not str size.\n\t  [ruby-dev:34637]\n\n\t* string.c (tr_trans): should not turn on modify flag if no\n\t  modification happens.  [ruby-dev:34631]\n\nSat May 10 18:11:18 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_each_line): zero length record separator should\n\t  split a string into paragraphs.  [ruby-dev:34586]\n\n\t* string.c (rb_str_each_line): RDoc updated.\n\nSat May 10 11:36:20 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* vm.c (env_mark): mark env->block.self.  prevent SEGV when GC occur\n\t  in prepare_iseq_build with gcc version 3.4.6 [FreeBSD] 20060305 on\n\t  FreeBSD/amd64.\n\nFri May  9 19:16:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (timeofday): use monotonic clock.  based on a patch\n\t  from zimbatm <zimbatm at oree.ch> in [ruby-core:16627].\n\nFri May  9 07:47:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* cont.c (cont_restore_0): dynamic stack direction code should be\n\t  consistent with static one.  [ruby-talk:301152]\n\nFri May  9 00:03:50 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (arg): operator assignment \"a += b rescue c\" should be\n\t  parsed as \"a += (b rescue c)\" just like normal assignment.\n\t  [ruby-talk:301000]\n\nThu May  8 18:14:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_and): bit-wise operation should not take float\n\t  values.  [ruby-dev:34612]\n\n\t* bignum.c (rb_big_or): ditto.\n\n\t* bignum.c (rb_big_xor): ditto.\n\nThu May  8 17:44:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, ext/extmk.rb, lib/mkmf.rb: use absolute path for RUBYOPT.\n\n\t* file.c (rb_find_file_ext): guard load_path from GC.\n\t  gcc version 4.1.2 20061115 (prerelease) (Debian 4.1.1-21) optimizes\n\t  load_path by holding only RARRAY_LEN(load_path) and\n\t  RARRAY_PTR(load_path) in registers on IA64 GNU/Linux Etch.\n\nThu May  8 16:41:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (MINIRUBY), common.mk (RUBYOPT): add purelib.rb.\n\t  [ruby-core:16642]\n\nThu May  8 16:00:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): ! and ? at the bottom are no longer part\n\t  of valid symbol names.  [ruby-dev:34590]\n\nThu May  8 15:36:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* thread.c (rb_gc_save_machine_context): call FLUSH_REGISTER_WINDOWS\n\t  to mark the register stack from GC on another thread.\n\nThu May  8 15:14:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_sort_bang): freeze temporary array.\n\nThu May  8 13:19:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (rb_thread_mark): mark stat_insn_usage only when ptr is not\n\t  null.\n\nThu May  8 10:44:04 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (sort_reentered): reentered check may be called from\n\t  Array#sort.\n\nThu May  8 09:51:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (sort_1, sort_2): check for reentered and if elements are\n\t  accessible.  [ruby-core:16679]\n\nThu May  8 06:43:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.c (dln_find_exe_r, dln_find_file_r): reentrant versions.\n\n\t* file.c (rb_find_file_ext, rb_find_file), process.c (proc_exec_v),\n\t  (rb_proc_exec, proc_spawn_v, proc_spawn), ruby.c (process_options):\n\t  use reentrant versions.\n\nThu May  8 06:27:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_key_p): thread local storage stores ID.\n\nThu May  8 01:10:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_trans): should squeeze properly.  [ruby-dev:34587]\n\n\t* string.c (tr_trans): had a bug in treating multi-byte character\n\t  replacement.\n\n\t* string.c (rb_str_delete_bang): need not to do anything for empty\n\t  strings.\n\n\t* test/ruby/test_m17n_comb.rb (TestM17NComb::test_str_delete): add\n\t  test for empty receiver.\n\nWed May  7 20:19:18 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (process_options, ruby_set_argv): set encoding of rb_argv\n\t  after Init_prelude() because cannot load encoding extensions before\n\t  it.\n\nWed May  7 20:00:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (bit_coerce): float should not be a valid operand of\n\t  bitwise operations.  [ruby-dev:34583]\n\nWed May  7 19:35:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (rb_thread_key_p): should always convert symbol to ID.\n\t  [ruby-dev:34588]\n\nWed May  7 19:30:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_divide): float division should floor() before\n\t  rounding into integer.  [ruby-dev:34584]\n\nWed May  7 18:02:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_to_i): remove obsolete method.  preparation for\n\t  symbol GC.\n\n\t* numeric.c (fix_to_sym): ditto.\n\n\t* numeric.c (fix_id2name): ditto.\n\nWed May  7 17:43:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (io_puts_ary): check recursion first.  [ruby-dev:34580]\n\nWed May  7 17:41:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.c (vm_eval_body): initialize retval.  [ruby-dev:34576]\n\nWed May  7 13:02:56 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_fdiv): flo.fdiv(NaN) should result NaN.\n\n\t* numeric.c (num_quo): renamed and moved from bignum.c.\n\t  [ruby-dev:34582]\n\n\t* bignum.c (rb_big_fdiv): update RDoc description\n\n\t* rational.c (nurat_s_new_m): small refactoring.\n\n\t* bignum.c (rb_big2dbl): no need for forceful warning when\n\t  converting to float.  overflow is a nature of float values.\n\nWed May  7 00:54:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (gzreader_gets): may cause infinite loop.\n\t  a patch from Kouya <kouyataifu4 at gmail.com> in\n\t  [ruby-reference-manual:762].\n\nTue May  6 02:08:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/io/nonblock/test_flush.rb: don't set Thread.abort_on_exception.\n\n\t* test/net/imap/test_imap.rb: ensure disconnecting imap to terminate\n\t  receiver thread.\n\nTue May  6 00:29:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* iseq.c (insn_operand_intern): should handle Qundef embedded in\n\t  operand.  [ruby-core:16656]\n\nTue May  6 00:00:02 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): should call compile_cpath() for\n\t  modules as well.  [ruby-dev:34585]\n\n\t* insns.def (defineclass): add undef handling.\n\nMon May  5 23:49:40 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insns.def (defineclass): was using wrong variable.  [ruby-dev:34592]\n\nMon May  5 20:07:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fflush): IO#flush problem within threads.  a patch from\n\t  <s.wanabe at gmail.com> in [ruby-dev:34595].\n\nMon May  5 19:58:44 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): protect some expression from\n\t  segmentation fault.  a patch from wanabe <s.wanabe at gmail.com>\n\t  in [ruby-dev:34593].\n\nMon May  5 19:49:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_s_def): Struct.new(0) should not SEGV.\n\t  based on the patch from wanabe <s.wanabe at gmail.com> in\n\t  [ruby-dev:34594].\n\n\t* struct.c (make_struct): call to_str on name object.\n\nMon May  5 17:17:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (ruby_cleanup): wrap ruby_finalize_0 by SAVE_ROOT_JMPBUF to\n\t  avoid SEGV by at_exit { Fiber.new{}.resume } on IA64.\n\nMon May  5 12:12:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_slice_bang): should adjust length before making\n\t  sub-array.\n\nMon May  5 11:36:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_dup): should dupe corresponding information.\n\t  [ruby-dev:34581]\n\nMon May  5 11:13:50 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (compile_cpath): use Qundef to denote cbase lookup.\n\n\t* insns.def (defineclass): Qundef is passed for cbase.\n\n\t* insns.def (setconstant): ditto.\n\n\t* vm_insnhelper.c (vm_check_if_namespace): use rb_inspect()\n\t  instead of rb_obj_as_string() for better description.\n\nMon May  5 02:10:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (set_heaps_increment): fix memory allocation strategy by\n\t  determining heaps_inc from heaps_used, not objects_delta.\n\t  (struct rb_objspace): delta removed.  change increment, length and\n\t  used to long for LP64.\n\t  (objects_delta): removed.\n\t  (allocate_heaps): add next_heaps_length argument.\n\t  (init_heap): renamed from add_heap.\n\t  (garbage_collect): use heaps_increment in dont_gc.\n\nSun May  4 21:09:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/getoptlong.rb: use $stderr instead of $deferr.\n\nSun May  4 16:04:28 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (obj2nsec): fix string argument.\n\nSun May  4 14:29:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (rb_obj_respond_to): check the result of respond_to? method\n\t  by RTEST.\n\nSun May  4 12:57:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_each_line): return original string.\n\nSat May  3 20:57:06 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/envutil.rb (Test::Unit::Assertions#assert_normal_exit):\n\t  new method.\n\nSat May  3 18:10:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_timespec): raise TypeError for nil and other objects\n\t  which has no divmod method.\n\nFri May  2 23:59:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (internal_read_func, internal_write_func): split from\n\t  internal_io_func.\n\nFri May  2 23:55:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* variable.c (rb_define_hooked_variable): guard *var from GC to\n\t  prevent collecting argf under RUBY_DEBUG=gc_stress.\n\nFri May  2 17:29:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_step): call to_int if step is not a numeric\n\t  value.  [ruby-dev:34575]\n\nFri May  2 16:10:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_step): do not forcefully convert steps into\n\t  integers.  [ruby-dev:34571]\n\nFri May  2 14:52:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el: move fontifying code from hook.  a patch from\n\t  Phil Hagelberg <phil at hagelb.org> in [ruby-core:16636].\n\nFri May  2 14:10:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_step): step may be bignum.\n\nFri May  2 13:52:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (Init_Regexp): remove MatchData#select.  [ruby-dev:34563]\n\nThu May  1 23:59:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_divide), numeric.c (fix_divide): check for result\n\t  domain.  [ruby-dev:34559]\n\nThu May  1 23:57:06 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/net/telnet.rb:  This patch from Brian Candler adds a FailEOF mode which\n\t  can be activated to have net/telnet raise EOFError exceptions when the\n\t  remote connection is closed.  The default behavior remains unchanged though.\n\nThu May  1 23:43:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_step): check if step can be converted to an integer.\n\t  [ruby-dev:34558]\n\n\t* range.c (range_step): allow float step bigger than zero but less\n\t  than one.  [ruby-dev:34557]\n\nThu May  1 23:20:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_divide): return an integer for idiv.\n\t  [ruby-dev:34553]\n\nThu May  1 20:47:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_s_create): should access converted hash value.\n\t  [ruby-dev:34555]\n\nThu May  1 20:31:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_parse.rb (TestParse::test_void_expr_stmts_value):\n\t  shut up warning.\n\n\t* rational.c (nurat_to_f): no need for forceful warning when\n\t  converting to float.  overflow is a nature of float values.\n\nThu May  1 16:10:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (env_delete_if): return enumerator if no block given.\n\t  [ruby-dev:34554]\n\nWed Apr 30 21:36:40 2008  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/erb.rb (url_encode): [ruby-dev:34497] ERB::Util#url_encode\n\t  bug fix. Reported by rubikitch.\n\n\t* test/erb/test_erb.rb: ditto\n\nWed Apr 30 20:11:36 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/net/telnet.rb:  Fixing a bug where line endings would not be properly\n\t  escaped when the two character ending was broken up into separate TCP\n\t  packets.  Issue reported and patched by Brian Candler.\n\nWed Apr 30 18:03:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_load_path), vm_core.h (rb_vm_t): moved to VM.\n\n\t* load.c (rb_get_load_path): returns absolute load path.\n\n\t* load.c (load_path_getter): $LOAD_PATH getter.\n\n\t* file.c (rb_find_file_ext, rb_find_file), ruby.c (push_include,\n\t  ruby_init_loadpath): use the accessor.\n\n\t* vm.c (rb_vm_mark): mark load_path.\n\nWed Apr 30 17:47:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_search): use local variable.  a patch from wanabe\n\t  <s.wanabe AT gmail.com> in [ruby-dev:34537].  [ruby-dev:34492]\n\nWed Apr 30 16:10:18 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* eval_intern.h: specify the values of the enumeration constants\n\t  explicitly.  [ruby-dev:34489]\n\nWed Apr 30 12:32:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (check_exec_redirect_fd): prohibit duplex IO.\n\t  (check_exec_fds): record maxhint even if close_others is not\n\t  specified.\n\t  (rb_exec_arg_fixup): renamed from rb_exec_arg_fix.\n\nMon Apr 28 20:24:27 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c (nurat_marshal_load): checks the given\n\t  denominator. [ruby-dev:34536]\n\nMon Apr 28 14:21:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (POSFIXABLE): use FIXNUM_MAX+1 instead of\n\t  FIXNUM_MAX to make it possible to convert to double accurately on\n\t  environments with 64bit VALUE and 64bit double.\n\t  It assumes FLT_RADIX is 2.\n\t  fix RubyForge bug #14102.\n\nMon Apr 28 12:48:57 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_exec_arg_addopt, rb_exec_arg_addopt): now can specify\n\t  close_exec on having no fork environment (but still meaningless).\n\nMon Apr 28 11:11:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (run_exec_options): don't call FIX2INT for nil.\n\nMon Apr 28 11:11:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (method_name): should return symbols instead of strings.\n\t  [ruby-dev:34531]\n\nMon Apr 28 09:02:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_exec_arg_init): declared.\n\t  (rb_exec_arg_addopt): declared.\n\t  (rb_exec_arg_fix): declared.\n\t  (rb_exec_initarg): removed.\n\t  (rb_exec_getargs): removed.\n\t  (rb_exec_initarg2): removed.\n\n\t* io.c (struct popen_arg): make execarg as a pointer.\n\t  (popen_exec): follow popen_arg change.\n\t  (pipe_open): add eargp argument.  extract argc and argv from eargp.\n\t  use rb_exec_arg_addopt to add redirect options.\n\t  (pipe_open_v): set up struct rb_exec_arg.\n\t  (pipe_open_s): set up struct rb_exec_arg.\n\n\t* process.c (rb_exec_arg_addopt): new function extracted from\n\t  check_exec_options_i.\n\t  (check_exec_options_i): use rb_exec_arg_addopt.\n\t  (rb_check_exec_options): opthash is always a hash now.\n\t  (rb_exec_getargs): make it static.\n\t  (rb_exec_fillarg): renamed from rb_exec_initarg2.  don't set up\n\t  redirect_fds.\n\t  (rb_exec_arg_init): new function.\n\t  (rb_exec_arg_fix): new function.\n\t  (rb_f_exec): use rb_exec_arg_init and rb_exec_arg_fix.  use\n\t  rb_exec_arg_addopt to set close_others option.\n\t  (run_exec_options): make close_others by default.\n\t  (rb_spawn_internal): use rb_exec_arg_init and rb_exec_arg_fix.  use\n\t  rb_exec_arg_addopt to set close_others option.\n\nSun Apr 27 18:59:04 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c (nurat_expt): use f_rational_new2. [ruby-dev:34524]\n\nSun Apr 27 15:23:40 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c (gc_count): add a GC.count method.  This method returns\n\t  a GC invoking count.\n\nSun Apr 27 12:20:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (rb_vm_t), gc.c (rb_objspace, rb_newobj), vm.c\n\t  (Init_BareVM): per-VM object space support, which is disabled now.\n\n\t* gc.c (rb_objspace_alloc), vm.c (Init_BareVM): should not use ruby\n\t  malloc here.\n\n\t* gc.c (garbage_collect, etc): performance improvement by passing the\n\t  reference instead of referring the global variable in each functions.\n\nSun Apr 27 08:06:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ruby.c (ruby_set_argv): ARGV should be locale encoding.\n\t  [ruby-list:44861]\n\nSun Apr 27 01:46:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open3.rb (Open3.popen3w): removed.\n\t  (Open3.popen3): notice wait_thr.\n\nSun Apr 27 01:13:05 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc, test/rdoc:  Update to RDoc 2.0.0 r56.\n\nSat Apr 26 21:30:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_hash_dup): declared.\n\n\t* hash.c (rb_hash_dup): new function.\n\n\t* process.c (rb_spawn_internal): don't modify option hash.\n\nSat Apr 26 18:36:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c, signal.c, thread.c, thread_win32.c, include/ruby/intern.h:\n\t  suppress warnings.\n\nSat Apr 26 17:42:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (builtin_types), gc.c (count_objects): added Complex and\n\t  Rational.\n\nSat Apr 26 17:35:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (rb_eNOERROR): renamed.\n\nSat Apr 26 17:30:11 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/ruby.h, gc.c: remove T_BLOCK.\n\n\t* include/ruby/ruby.h: re-number T_xxx.\n\nSat Apr 26 17:31:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_cProcessTms, rb_cProcessStatus): renamed.\n\n\t* error.c (builtin_types), signal.c (siglist), st.c (primes),\n\t  struct.c (ref_func), time.c (months): constified.\n\nSat Apr 26 13:00:41 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open3.rb: double fork is replaced by spawn with Process.detach.\n\t  (Open3.popen3w): new method to access the thread returned by\n\t  Process.detach.\n\nSat Apr 26 00:47:43 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (rb_spawn_internal): new function to specify\n\t  default_close_others.\n\t  (rb_spawn): specify default_close_others true.\n\t  (rb_f_system): call rb_spawn_internal with default_close_others as\n\t  false.\n\nSat Apr 26 12:26:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_each): use INT2FIX() for fixnum values.\n\nFri Apr 25 17:56:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (free_unused_heaps): preserve last used heap segment to\n\t  reduce malloc() call.\n\nFri Apr 25 17:54:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (HEAP_SIZE): use smaller heap segment (2K) for more chance\n\t  to be freed.  based on patch from authorNari <authornari at gmail.com>.\n\n\t* gc.c (rb_newobj_from_heap): eventually allocate heap segments.\n\nFri Apr 25 15:35:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_spawn): rb_exec_initarg() returns new argc and argv in\n\t  earg.\n\nFri Apr 25 12:37:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (flatten): returns an instance of same class.\n\t  [ruby-core:16554]\n\nFri Apr 25 10:52:27 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h: define mode_t for umask.\n\n\t* process.c (check_exec_options_i, check_exec_fds, run_exec_options):\n\t  support \"close_others\" only when fork(2) is available.\n\nFri Apr 25 00:16:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c: include sys/stat.h for umask.\n\nThu Apr 24 23:25:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_env_clear): declared.\n\t  (rb_io_mode_modenum): declared.\n\t  (rb_close_before_exec): declared.\n\t  (struct rb_exec_arg): add options and redirect_fds field.\n\t  (rb_check_argv): removed.\n\t  (rb_exec_initarg): declared.\n\t  (rb_exec_getargs): declared.\n\t  (rb_exec_initarg2): declared.\n\t  (rb_fork): add third argument: fds.\n\n\t* io.c (max_file_descriptor): new static variable to record maximum\n\t  file descriptor ruby used.\n\t  (UPDATE_MAXFD): new macro.\n\t  (UPDATE_MAXFD_PIPE): new macro.\n\t  (rb_io_mode_modenum): externed.\n\t  (rb_sysopen): update max_file_descriptor.\n\t  (rb_close_before_exec): new function.\n\t  (popen_exec): redirection removed because it is done by extended\n\t  spawn mechanism.\n\t  (pipe_open): generate a hash for spawn options to specify\n\t  redirections.\n\t  (pipe_open_v): use rb_exec_getargs.\n\t  (pipe_open_s): use rb_exec_getargs.\n\t  (rb_io_initialize): update max_file_descriptor.\n\n\t* process.c (hide_obj): new function.\n\t  (check_exec_redirect_fd): new function.\n\t  (check_exec_redirect): new function.\n\t  (check_exec_options_i): new function.\n\t  (check_exec_fds): new function.\n\t  (rb_check_exec_options): new function.\n\t  (check_exec_env_i): new function.\n\t  (rb_check_exec_env): new function.\n\t  (rb_exec_getargs): new function.\n\t  (rb_exec_initarg2): new function.\n\t  (rb_exec_initarg): new function.\n\t  (rb_f_exec): use rb_exec_initarg.\n\t  (intcmp): new function.\n\t  (run_exec_dup2): new function.\n\t  (run_exec_close): new function.\n\t  (run_exec_open): new function.\n\t  (run_exec_pgroup): new function.\n\t  (run_exec_rlimit): new function.\n\t  (run_exec_options): new function.\n\t  (rb_exec): call run_exec_options.\n\t  (move_fds_to_avoid_crash): new function.\n\t  (pipe_nocrash): new function.\n\t  (rb_fork): use pipe_nocrash to avoid file descriptor conflicts.\n\t  (rb_spawn): use rb_exec_initarg.\n\t  (rlimit_resource_name2int): extracted from rlimit_resource_type.\n\t  (rlimit_type_by_hname): new function.\n\t  (rlimit_type_by_lname): new function.\n\t  (rlimit_resource_type): use rlimit_type_by_hname.\n\t  (proc_daemon): add fds argument for rb_fork.\n\n\t* hash.c (rb_env_clear): renamed from env_clear and externed.\n\n\t[ruby-dev:34086]\n\nThu Apr 24 23:00:58 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_thread.rb: fix typos.\n\n\t* test/ruby/envutil.rb (rubyexec): move Open3.popen3 call into timeout\n\t  block.\n\nThu Apr 24 22:34:52 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_comparable.rb: new tests for Comparable, to achieve\n\t  100% test coverage of compar.c.\n\nThu Apr 24 17:19:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (process_options): set safe_level before loading script.\n\t  [ruby-dev:34421]\n\nThu Apr 24 14:15:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.c (dln_find_1): prior files with extensions to files sans\n\t  extensions.  [ruby-core:16517]\n\nThu Apr 24 00:26:06 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/ri/descriptions.rb: fixed wrong class nestings.\n\nThu Apr 24 00:20:01 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_settracefunc.rb: add a test for set_trace_func.\n\n\t* test/ruby/envutil.rb: move \"rubyexec\" method from test_rubyoptions.rb.\n\n\t* test/ruby/test_rubyoptions.rb: use rubyexec in envutil.rb.\n\n\t* test/ruby/test_thread.rb: add tests to achieve over 90% test coverage\n\t  of thread.c.\n\nWed Apr 23 15:28:52 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/gdbm/test_gdbm.rb (TestGDBM#test_s_open_no_create): failed\n\t  notice moved from comment to assertion message. [ruby-dev:29127]\n\nWed Apr 23 11:49:54 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#each, SortedSet#each, TC_Set#test_each): Return\n\t  an enumerator if no block is given.\n\nWed Apr 23 00:36:03 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/openssl/test_ssl.rb (start_server): add timeout to server.join.\n\nWed Apr 23 00:18:45 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_symbol.rb (TestSymbol#test_to_proc): Improve\n\t  tests of Symbol#to_proc.\n\nTue Apr 22 22:40:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/drb/drb.rb (DRb::DRbServer::check_insecure_method): should\n\t  check method names by symbols, not by strings.  a patch from\n\t  Kazuhiro NISHIYAMA <zn at mbf.nifty.com> in [ruby-dev:34487].\n\nTue Apr 22 22:15:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-{case,label}-indent): up list from\n\t  indentation point.\n\nTue Apr 22 21:09:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (score_table_A0, score_table_F0):\n\t  type of content is unsigned char.\n\n\t* ext/nkf/nkf-utf8/nkf.c (push_broken_buf): 'c' is nkf_char.\n\n\t* ext/nkf/nkf-utf8/nkf.c (push_broken_buf): enc is 0 or pointer.\n\n\t* ext/nkf//nkf.c (options): type of option is unsigned char.\n\nTue Apr 22 20:51:58 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (z_conv): characters must be nkf_char.\n\nTue Apr 22 19:23:05 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c (enumerator_initialize): Remove an undocumented\n\t  feature (passing a block to the constructor) that's broken.\n\t  This is not what I intended.\n\nTue Apr 22 17:54:05 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* vm_core.h (exec_event_hooks): ``inline'' is a type modifier, not\n\t  a type itself.\n\nTue Apr 22 16:24:27 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* string.c (rb_enc_cr_str_buf_cat): do not use C++ comments.\n\nTue Apr 22 16:23:53 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* configure.in: use AC_USE_SYSTEM_EXTENSIONS.\n\nTue Apr 22 16:23:16 2008  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* vm_evalbody.c (DECL_SC_REG): use __asm__ instead.\n\nTue Apr 22 16:18:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_evalbody.c (DECL_SC_REG): typo fixed.\n\nTue Apr 22 15:25:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (struct timespec): needs time.h according to POSIX.\n\nTue Apr 22 13:19:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (rb_thread_stop_timer_thread): should clear\n\t  timer_thread_id after stopping it.\n\nTue Apr 22 13:12:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_join): remove the current thread from the join list\n\t  of the target thread.\n\nTue Apr 22 12:03:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_get_ev_const): search from the base klass if it\n\t  is given.\n\nTue Apr 22 09:58:13 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c: avoid warnings.\n\nTue Apr 22 09:56:51 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (eaccess): workaround for recent msvcrt's behavior.\n\t  [ruby-core:16460]\n\nMon Apr 21 19:08:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_body): call rb_io_check_readable and\n\t  rb_io_check_writable.\n\nMon Apr 21 17:45:27 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/dbm/dbm.c (fdbm_each_value, fdbm_each_key, fdbm_each_pair):\n\t  GDBM#{each,each_pair,each_key,each_value}: Return an enumerator\n\t  if no block is given.\n\n\t* ext/gdbm/gdbm.c (fgdbm_each_value, fgdbm_each_key,\n\t  fgdbm_each_pair): GDBM#{each,each_pair,each_key,each_value}:\n\t  Return an enumerator if no block is given.\n\n\t* ext/openssl/ossl_config.c (ossl_config_each):\n\t  OpenSSL::Config#each: Return an enumerator if no block is given.\n\n\t* ext/readline/readline.c (hist_each): Readline::HISTORY#each:\n\t  Return an enumerator if no block is given.\n\n\t* ext/sdbm/init.c (fsdbm_each_value, fsdbm_each_key,\n\t  fsdbm_each_pair): SDBM#{each,each_pair,each_key,each_value}:\n\t  Return an enumerator if no block is given.\n\n\t* ext/stringio/stringio.c (strio_each_byte, strio_each):\n\t  StringIO#{each,each_line,each_byte}: Return an enumerator if no\n\t  block is given.\n\n\t* ext/stringio/stringio.c (Init_stringio): Add #lines and #bytes,\n\t  which are aliases to #each_line and #each_byte, respectively.\n\n\t* ext/win32ole/win32ole.c (fole_each): WIN32OLE#each: Return an\n\t  enumerator if no block is given.\n\n\t* ext/zlib/zlib.c (rb_gzreader_each_byte, rb_gzreader_each):\n\t  Zlib::GzipReader#{each,each_line,each_byte}: Return an\n\t  enumerator if no block is given.\n\n\t* ext/zlib/zlib.c (Init_zlib): Add Zlib::GzipReader#lines and\n\t  #bytes, which are aliases to #each_line and #each_byte,\n\t  respectively.\n\nMon Apr 21 17:01:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* iseq.c (rb_iseq_compile_with_option): check if src is a string.\n\t  [ruby-core:16453]\n\nMon Apr 21 16:06:47 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_init): preserve the method name in ID.\n\n\t* enumerator.c (enumerator_each): need not to call rb_to_id().\n\n\t* enumerator.c (enumerator_with_index): ditto.\n\nMon Apr 21 11:00:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): capture exception during defined?\n\t  evaluation.  a patch from wanabe <s.wanabe at gmail.com> in\n\t  [ruby-dev:34461].  [ruby-core:16010]\n\nMon Apr 21 10:06:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c: should include <errno.h> to refer errno.\n\nMon Apr 21 09:58:04 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* time.c (rb_strftime): check errno to detect strftime(3)'s error.\n\t  this is workaround for recent version of MSVCRT.\n\t  [ruby-dev:34456]\n\nMon Apr 21 08:54:30 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (ruby_xmalloc): use size_t for malloc argument instead of long.\n\nSun Apr 20 21:00:21 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c, include/ruby/ruby.h: Export rb_cEnumerator.\n\nSun Apr 20 20:47:50 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enumerator.c: Resolve the method every time an enumeration\n\t  method is run, not once when the enumerator is initialized as it\n\t  was before, so that method_missing() and method (re)definition\n\t  afterwards are both in effect; pointed out in: [ruby-core:16441]\n\nSun Apr 20 15:11:00 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_rbuf_to_dst): removed.\n\t  (copy_stream_fallback_body): don't bypass write method.\n\t  (copy_stream_body): simplified.\n\nSun Apr 20 15:01:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (struct iseq_compile_data): moved label_no from\n\t  new_label_body().\n\n\t* compile.c (iseq_set_exception_table): allocates catch_table only\n\t  when entries exist.\n\n\t* compile.c (struct iseq_link_element, struct iseq_insn_data): made\n\t  enum for debuggers.\n\nSun Apr 20 14:44:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): fix for splat in when and rescue.\n\t  a patch from wanabe <s.wanabe AT gmail.com> in [ruby-dev:34429].\n\t  [ruby-core:14537]\n\nSun Apr 20 13:55:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_fallback): write directly (bypassing write method)\n\t  if possible.\n\nSun Apr 20 12:49:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_fallback): read directly (bypassing readpartial\n\t  method) if possible.\n\nSun Apr 20 04:45:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (copy_stream_body): use readpartial and write method for\n\t  non-IOs such as StringIO and ARGF.\n\nFri Apr 18 20:57:33 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_array.rb: add tests to achieve over 95% test coverage\n\t  of array.c.\n\nFri Apr 18 17:37:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_gc_mark_locations): get rid of underflow.\n\n\t* gc.c (mark_current_machine_context): check if the main thread stack\n\t  position may shrink under the initialized position.  [ruby-core:16436]\n\nThu Apr 17 22:20:52 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* enc/trans/utf_16_32.c (fun_so_to_utf_16be, fun_so_to_utf_16le): add\n\t  parentheses to remove warnings of gcc.\n\n\t* io.c (rb_io_getc): remove unused variables.\n\n\t* compile.c (NODE_NEXT, NODE_REDO): remove unused labels.\n\n\t* ext/nkf/nkf.c (rb_nkf_convert): remove unused variables.\n\n\t* ext/syck/rubyext.c (syck_resolver_initialize,\n\t  syck_resolver_detect_implicit, syck_emitter_emit): remove unused\n\t  variables.\n\nThu Apr 17 20:12:47 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_rubyoptions.rb (test_search): enable some assertions.\n\n\t* test/ruby/test_rubyoptions.rb: flunk message in win32.\n\nThu Apr 17 16:07:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_rubyoptions.rb (ruby): run in C locale.\n\n\t* test/ruby/test_rubyoptions.rb (test_encoding): --encoding does not\n\t  affect source code.\n\nThu Apr 17 00:45:41 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_process.rb (test_rlimit_nofile): reset RLIMIT_NOFILE\n\t  before exit (for gcov).\n\n\t* test/ruby/test_rubyoptions.rb: new tests for option of ruby\n\t  interpreter, to achieve over 95% test coverage of ruby.c.\n\nWed Apr 16 02:40:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): preludes and parser need to run in safe\n\t  level 0.  [ruby-dev:34407]\n\nWed Apr 16 02:26:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): dln_find_file returns the pointer to a\n\t  static buffer, so should copy it.  [ruby-dev:34409]\n\nTue Apr 15 23:08:46 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/xmlrpc/client.rb: fix cookie handling. [ruby-dev:34403]\n\n\t* test/xmlrpc/test_cookie.rb: add a test for the above fix.\n\nTue Apr 15 19:20:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c: #undef rb_argv moved before #define.\n\nTue Apr 15 18:02:17 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_argv): replaced with rb_get_argv().\n\t  [ruby-Bugs-19514]\n\nTue Apr 15 17:10:59 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/net/http.rb, lib/net/smtp.rb, lib/net/pop.rb: update\n\t  URLs of Japanese documents.\n\nTue Apr 15 16:45:14 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_symbol.rb (TestSymbol#test_to_proc): add tests.\n\nTue Apr 15 15:38:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-encoding-map): added shift-jis for older\n\t  versions.\n\n\t* misc/ruby-mode.el (ruby-mode-set-encoding):\n\t  coding-system-to-mime-charset is not a standard function.\n\t  [carbon-emacs:795]\n\t  fix for the case that magic comment exists but coding system is\n\t  absent.\n\n\t* misc/ruby-mode.el (ruby-mode): use write-contents-functions or\n\t  write-contents-hooks for older versions.\n\nTue Apr 15 07:21:21 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_div): [ruby-dev:34357]\n\n\t* complex.c (nucomp_abs): use hypot.\n\n\t* complex.c (nucomp_quo): do not force conversion.\n\n\t* test/ruby/test_complex.rb: omitted some meaningless tests.\n\nMon Apr 14 23:25:50 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_objectspace.rb: add a test for\n\t  ObjectSpace.count_objects.\n\nMon Apr 14 22:44:24 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (SET_EXTERNAL_ENCODING): avoid call rb_enc_check() on\n\t  half-baked result string.\n\n\t* re.c (rb_reg_search): make search reentrant.  [ruby-dev:34223]\n\n\t* test/ruby/test_parse.rb (TestParse::test_global_variable):\n\t  should preserve $& variable.\n\nMon Apr 14 17:23:27 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* hash.c (rb_hash_delete_if, rb_hash_reject_bang, env_delete_if,\n\t  env_reject_bang): Return an enumerator if no block is given.\n\nMon Apr 14 14:33:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c, compile.h (compile_debug): made runtime option.\n\n\t* debug.c (ruby_debug_print_indent): returns if debug_level exceeds\n\t  the threshold.\n\n\t* debug.c (ruby_debug_printf): printf to stderr.\n\n\t* iseq.c (make_compile_option, make_compile_option_value): added\n\t  debug_level option.\n\n\t* vm_core.h (rb_compile_option_t): added debug_level.\n\n\t* vm_core.h (struct iseq_compile_data): added node_level.\n\nMon Apr 14 12:52:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (Init_stack): use ruby_init_stack.  [ruby-dev:34350]\n\n\t* gc.c (rb_objspace_t): packed globals.  [ruby-dev:34348]\n\n\t* gc.c (finalizers): removed.  [ruby-dev:34349]\n\nMon Apr 14 11:30:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (ary_new): new integer overflow check condition.\n\t  suggested by TOYOFUKU Chikanobu <nobu_toyofuku at nifty.com> in\n\t  [ruby-dev:34156].\n\n\t* array.c (rb_ary_initialize): ditto.\n\nMon Apr 14 00:51:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_parse.rb: add tests to achieve over 95% test coverage\n\t  of parse.y.\n\nSun Apr 13 23:53:58 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (enum_cycle): Make Enumerable#cycle do a finite loop when\n\t  the number of cycles is specified.\n\n\t* array.c (rb_ary_cycle): Ditto for Array#cycle.\n\nSun Apr 13 18:52:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread_pthread.c (lock_func): should not check interrupts in\n\t  blocking region.  [ruby-dev:34378]\n\nSat Apr 12 12:41:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_exec_node, ruby_run_node), ruby.c (process_options):\n\t  use iseq instead of NODE.\n\n\t* gc.c (source_filenames): removed.\n\n\t* include/ruby/intern.h, parse.y (yycompile, parser_mark, parser_free,\n\t  ripper_initialize): rb_source_filename() is no longer used.\n\n\t* compile.c, compile.h (ERROR_ARGS), parse.y (node_newnode, fixpos,\n\t  parser_warn, e_option_supplied, warn_unless_e_option, range_op,\n\t  cond0): nd_file is no longer used.\n\nSat Apr 12 12:17:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* prelude.rb (require_relative): move require_relative from\n\t  lib/require_relative.rb.  [ruby-core:16356]\n\n\t* lib/require_relative.rb: removed.\n\nSat Apr 12 05:55:57 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*, test/rubygems*:  Update to RubyGems 1.1.1 r1701.\n\nSat Apr 12 03:13:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): set external encoding.\n\n\t* file.c (rb_file_s_basename, rb_file_s_dirname, rb_file_s_extname):\n\t  copy encoding.\n\nFri Apr 11 17:35:06 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (count_i): modified to shut warning up.\n\nFri Apr 11 17:25:09 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (count_i, count_iter_i, enum_count, enum_find_index):\n\t  Reduce code.\n\nFri Apr 11 17:06:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (find_index_i): modified to shut warning up.\n\n\t* enum.c (find_index_iter_i): ditto.\n\nFri Apr 11 16:44:43 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* enum.c (enum_find_index): Add support for find_index(obj);\n\t  [ruby-dev:34313].\n\n\t* array.c (rb_ary_index): Define find_index as an alias to index.\n\nFri Apr 11 16:42:33 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/yaml/store.rb (YAML::load): modified to support empty\n\t  database.\n\nFri Apr 11 08:05:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): add volatile to avoid potential GC bug.  a\n\t  patch from Tomoyuki Chikanaga <chikanag at nippon-control-system.co.jp>\n\t  in [ruby-dev:34312].\n\nThu Apr 10 23:08:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/pstore.rb (PStore::dump, PStore::load): allow subclass\n\t  overriding.  [ruby-dev:34305]\n\n\t* lib/yaml/store.rb (YAML::Store::marshal_dump_supports_canonical_option?):\n\t  add a method to support faster PStore.\n\nThu Apr 10 20:36:45 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* misc/rdebug.el, misc/README: Remove rdebug.el as per request\n\t  from the maintainer and mention the ruby-debug project at\n\t  RubyForge in README; bug#19043.\n\nThu Apr 10 19:41:00 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* eval.c (rb_f_loop): Mention StopIteration in the document.\n\nThu Apr 10 19:23:55 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_pop_m, rb_ary_shift_m): Update documents for\n\t  #pop() and #shift().\n\n\t* array.c (rb_ary_slice_bang): Update document.  Assigning\n\t  array[*args]= nil no longer removes elements.\n\nThu Apr 10 16:58:44 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (w_object): TYPE_USERDEF assigns id for ivars first.\n\t  [ruby-dev:34159] by nagachika.\n\nThu Apr 10 15:03:47 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/generator.rb: removed obsolete library.  [ruby-core:16233]\n\n\t* test/test_generator.rb: removed as well.  [ruby-dev:34306]\n\n\t* lib/pstore.rb: replaced by Hongli Lai's faster version.\n\nThu Apr 10 10:27:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread_pthread.c (native_sleep): sleep_cond is initialized at\n\t  creation.  [ruby-Patches-19361].\n\nWed Apr  9 14:43:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (lock_func): optimized and checks for interrupt_flag.\n\t  based on a patch from Sylvain Joyeux in [ruby-Patches-19361] and\n\t  [ruby-Patches-19362].\n\nWed Apr  9 12:12:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_thread.rb: new tests from Sylvain Joyeux in\n\t  [ruby-Patches-19361].\n\nTue Apr  8 21:36:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_mutex_sleep): ensures to re-acquire at waking up.\n\t  [ruby-Patches-19361]\n\nTue Apr  8 11:00:14 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/complex.rb: remove Math first before overwriting by CMath.\n\nTue Apr  8 10:34:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* load.c (rb_require_safe): should check fname path after $SAFE is\n\t  properly set.  [ruby-dev:34268]\n\n\t* re.c (rb_reg_quote): should always copy the quoting string.\n\t  [ruby-core:16235]\n\nTue Apr  8 10:30:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (prelude.c): depends on enc/prelude.rb.\n\n\t* enc/prelude.rb: fixed initial library names.\n\nTue Apr  8 03:39:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_provided): check expanded path for relative path\n\t  features, loading or loaded features are already expanded in 1.9.\n\n\t* variable.c (rb_autoload_load): no needs to check if provided before\n\t  rb_require_safe.  [ruby-dev:34266]\n\nMon Apr  7 22:41:21 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* numeric.c: cancelled recent changes (except to remove rdiv).\n\n\t* bignum.c: ditto.\n\n\t* bignum.c: added rb_big_idiv.\n\nMon Apr  7 15:51:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_init_db): moved to enc/encdb.c.\n\n\t* transcode.c (init_transcoder_table): moved to enc/trans/transdb.c.\n\n\t* enc/depend (enc/encdb.o enc/trans/transdb.o): depend on\n\t  corresponding headers.\n\n\t* common.mk (COMMONOBJS): moved transcode.o from OBJS\n\nMon Apr  7 12:26:32 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: add a known-bug.\n\nMon Apr  7 12:15:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_each_func): should not leave a variable\n\t  uninitialized, which could cause SEGV.\n\n\t* range.c (range_step): removed duplicated and unreachable code.\n\nMon Apr  7 02:12:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): need not to check if tainted.\n\t  [ruby-dev:34219]\n\nSun Apr  6 09:45:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (dir_tell): check if closed.  [ruby-core:16223]\n\nSat Apr  5 23:17:20 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/cmath.rb: new.\n\n\t* lib/complex.rb: depends lib/cmath.rb.\n\n\t* lib/rational.rb: added rdiv.\n\n\t* complex.c: removed some math functions.\n\nSat Apr  5 05:50:57 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Fix uninitialized variable warnings.\n\n\t* lib/rdoc/generator/html.rb: ditto.\n\n\t* lib/rdoc/options.rb: Fix shadowed variable warning.\n\n\t* lib/webrick/httprequest.rb: Fix redefined method warning.\n\nSat Apr  5 02:13:52 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_cmpint): moved from compar.c, to check bignum\n\t  zero.\n\nFri Apr  4 23:24:06 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_memsearch_qs): wrong boundary condition.\n\n\t* re.c (rb_memsearch_qs_utf8): ditto.\n\nFri Apr  4 14:11:36 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_memsearch_qs): wrong boundary condition.  a patch from\n\t  wanabe <s.wanabe AT gmail.com> in [ruby-dev:34248].\n\nFri Apr  4 05:57:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/pop.rb (Net::POP3::do_finish): clear @n_mails and\n\t  @n_bytes as well.  [ruby-core:16144]\n\nFri Apr  4 01:59:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_step): add step for each iteration if begin and\n\t  end are numeric.  [ruby-core:15990]\n\nFri Apr  4 00:42:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (Init_Bignum): rdiv method removed.  [ruby-dev:34242]\n\n\t* complex.c (nucomp_quo): ditto.\n\n\t* numeric.c (num_rdiv): ditto.\n\n\t* rational.c (nurat_div): ditto.\n\n\t* complex.c (nucomp_fdiv): fdiv implementation restored.\n\n\t* numeric.c (num_quo): RDoc updated.\n\nThu Apr  3 21:51:45 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (nucomp_int_check): function for DRY real check.\n\n\t* complex.c (nucomp_{add,sub,mul,div,expt}): use rb_num_coerce_bin().\n\nThu Apr  3 19:59:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (defineclass): check if cbase is a class or a module.\n\t  [ruby-core:16118]\n\nThu Apr  3 14:42:11 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (INSNS): add insns_info.inc.\n\n\t* common.mk (INSNS): make incs separately for nmake.\n\nThu Apr  3 13:20:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (endb.h, transdb.h, prelude.c): depend on $(PREP) and\n\t  check if really changed.  [ruby-core:16102]\n\n\t* Makefile.in, common.mk, configure.in, {win32,bcc32}/Makefile.sub\n\t  (MINIOBJS, ARCHMINIOBJS): separated.\n\nThu Apr  3 09:00:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_set_sequence, iseq_insns_unification,\n\t  insn_data_to_s_detail): constified.\n\n\t* iseq.c (insn_operand_intern, ruby_iseq_disasm_insn): ditto.\n\n\t* template/{insns_info,opt_sc,optunifs}.inc.tmpl: ditto.\n\n\t* tool/instruction.rb (OptUnifsIncGenerator): ditto.\n\nThu Apr  3 08:46:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_include): add RDoc to describe that comparison\n\t  for numeric is done according magnitude of values.\n\t  [ruby-core:15907]\n\nWed Apr  2 22:29:35 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* rational.c (nurat_int_check): function for DRY integer check.\n\n\t* numeric.c (num_rdiv): should always return rational number.\n\n\t* rational.c (nurat_add, nurat_sub, nurat_mul, nurat_fdiv,\n\t  nurat_cmp): use rb_num_coerce_bin().\n\n\t* rational.c (nurat_division): does / and rdiv.\n\n\t* .gdbinit (rp): no longer use rb_p().\n\nWed Apr  2 06:52:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* .gdbinit (rp): supports rational and complex numbers.  it's\n\t  cheating since it uses rb_p().\n\nWed Apr  2 06:24:06 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/node.h: add new constants for rb_call()'s scope.\n\n\t* eval.c (iterate_method): use CALL_* scope constant to specify\n\t  proper scope value.\n\n\t* eval.c (rb_each, rb_apply, rb_funcall, rb_funcall2, rb_funcall3):\n\t  ditto.\n\nTue Apr  1 21:19:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* rational.c: need to include <float.h> just once.\n\nTue Apr  1 16:40:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (big2dbl): more precise conversion at edge cases.\n\t  [ruby-dev:34195]\n\nTue Apr  1 14:43:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: get rid of empty expansion.\n\n\t* configure.in: _setjmp is available but _longjmp is not on mingw.\n\nTue Apr  1 09:41:22 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile (config.h): need to define RUBY_SETJMP, etc.\n\nTue Apr  1 07:31:58 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems* test/rubygems*: Import RubyGems 1.1.0.\n\nTue Apr  1 03:20:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_SETJMP, RUBY_LONGJMP, RUBY_JMP_BUF): prefers\n\t  _setjmp over setjmp and sigsetjmp.  [ruby-core:16023]\n\t  __builtin_setjmp cannot handle a variable.\n\n\t* configure.in (--with-setjmp-type): new option to override the\n\t  default rule in the above.\n\n\t* eval_intern.h (ruby_setjmp, ruby_longjmp), gc.c (rb_setjmp),\n\t  vm_core.h (rb_jmpbuf_t): use RUBY_SETJMP, RUBY_LONGJMP and\n\t  RUBY_JMP_BUF.\n\nTue Apr  1 01:55:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/resolv.rb (Resolv::Config.default_config_hash): requires\n\t  win32/resolv to use Win32::Resolv.  [ruby-dev:34138]\n\nTue Apr  1 01:40:58 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: adopted the ruby's style.\n\n\t* rational.c: ditto.\n\nTue Apr  1 00:17:35 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c: revert.\n\nMon Mar 31 18:57:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub (config.h): define ssize_t.\n\n\t* io.c (copy_stream_body): some platform don't have O_NOCTTY.\n\nMon Mar 31 18:42:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check for ssize_t.  [ruby-dev:34184]\n\nMon Mar 31 14:45:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (num_quo): should convert its operand to Rational.\n\n\t* rational.c (string_to_r_strict): should raise TypeError.\n\n\t* bignum.c (Init_Bignum): should not redefine Bignum#div.\n\t  Numeric#div will do.  [ruby-dev:34066]\n\nMon Mar 31 04:05:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (io_getc): set coderange while getting characters.\n\nSun Mar 30 23:16:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (proc_dup): should copy is_lambda attribute as well.\n\t  [ruby-talk:296244]\n\nSun Mar 30 15:33:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c: IO.copy_stream implemented.  [ruby-dev:33843]\n\n\t* thread.c (rb_fd_select): new function.\n\n\t* configure.in (sys/sendfile.h): check the header file.\n\t  (sendfile): check the function.\n\t  (pread): check the function.\n\nSat Mar 29 14:18:41 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/*: full update Ruby/Tk to support Ruby(1.9|1.8) and Tc/Tk8.5.\n\n\t* ext/tk/lib/tkextlib/tile.rb: [incompatible] remove TileWidgets'\n\t  instate/state/identify method to avoid the conflict with standard\n\t  widget options. Those methods are renamed to ttk_instate/ttk_state/\n\t  ttk_identify (tile_instate/tile_state/tile_identify are available\n\t  too). Although I don't recommend, if you really need old methods,\n\t  please define \"Tk::USE_OBSOLETE_TILE_STATE_METHOD = true\" before\n\t  \"require 'tkextlib/tile'\".\n\n\t* ext/tk/lib/tkextlib/tile.rb: \"Tk::Tile::__Import_Tile_Widgets__!\"\n\t  is obsolete. It outputs warning. To control default widget set,\n\t  use \"Tk.default_widget_set = :Ttk\".\n\n\t* ext/tk/lib/tk.rb: __IGNORE_UNKNOWN_CONFIGURE_OPTION__ method and\n\t  __set_IGNORE_UNKNOWN_CONFIGURE_OPTION__!(mode) method are defined\n\t  as module methods of TkConfigMethod. It may help users to wrap old\n\t  Ruby/Tk scripts (use standard widgets) to force to use Ttk widgets.\n\t  Ttk widgets don't have some options of standard widgets which are\n\t  control the view of widgets. When set ignore-mode true, configure\n\t  method tries to ignore such unknown options with no exception.\n\t  Of course, it may raise other troubles on the GUI design.\n\t  So, those are a little danger methods.\n\n\t* ext/tk/lib/tk/itemconfig.rb: __IGNORE_UNKNOWN_CONFIGURE_OPTION__\n\t  method and __set_IGNORE_UNKNOWN_CONFIGURE_OPTION__!(mode) method\n\t  are defined as module methods of TkItemConfigMethod as the same\n\t  purpose as TkConfigMethod's ones.\n\n\t* ext/tk/sample/ttk_wrapper.rb: A new example. This is a tool for\n\t  wrapping old Ruby/Tk scripts (which use standard widgets) to use\n\t  Ttk (Tile) widgets as default.\n\n\t* ext/tk/sample/tkextlib/tile/demo.rb: use ttk_instate/ttk_state\n\t  method instead of instate/state method.\n\n\t* ext/tk/lib/tk/root, ext/tk/lib/tk/namespace.rb,\n\t  ext/tk/lib/tk/text.rb, ext/tk/lib/tkextlib/*: some 'instance_eval's\n\t  are replaced to \"instance_exec(self)\".\n\n\t* ext/tk/lib/tk/event.rb: bug fix on KEY_TBL and PROC_TBL (?x is not\n\t  a character code on Ruby1.9).\n\n\t* ext/tk/lib/tk/variable.rb: support new style of operation argument\n\t  on Tcl/Tk's 'trace' command for variables.\n\n\t* ext/tk/sample/demos-jp/widget, ext/tk/sample/demos-en/widget: bug fix\n\n\t* ext/tk/sample/demos-jp/textpeer.rb,\n\t  ext/tk/sample/demos-en/textpeer.rb: new widget demo.\n\n\t* ext/tk/tcltklib.c: decrease SEGV troubles (probably)\n\n\t* ext/tk/lib/tk.rb: remove Thread.critical access if Ruby1.9\n\n\t* ext/tk/lib/tk/multi-tk.rb: support Ruby1.9 (probably)\n\n\t* ext/tk/lib/tkextlib/tile.rb: add method to define Tcl/Tk command\n\t  to make Tcl/Tk theme sources (based on different version of Tile\n\t  extension) available.\n\t  (Tk::Tile::__define_LoadImages_proc_for_compatibility__)\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/wm.rb: support dockable frames\n\t  (Tcl/Tk8.5 feature). 'wm' command can treat many kinds of widgets\n\t  as toplevel widgets.\n\n\t* ext/tk/lib/tkextlib/tile/style.rb: ditto.\n\t  (Tk::Tile::Style.__define_wrapper_proc_for_compatibility__)\n\n\t* ext/tk/lib/tk/font.rb: add actual_hash and metrics_hash to get\n\t  properties as a hash. metrics_hash method returns a boolean value\n\t  for 'fixed' option. But metrics method returns numeric value\n\t  (0 or 1) for 'fixed' option, because of backward compatibility.\n\n\t* ext/tk/lib/tk/timer.rb: sometimes fail to set callback procedure.\n\n\t* ext/tk/lib/tk.rb: add Tk.sleep and Tk.wakeup method. Tk.sleep\n\t  doesn't block the eventloop. It will be better to use the method\n\t  in event callbacks.\n\n\t* ext/tk/sample/tksleep_sample.rb: sample script about Tk.sleep.\n\nThu Mar 27 20:44:22 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c (f_lcm): removed.\n\n\t* rational.c (rb_lcm, rb_gcdlcm): added.\n\n\t* lib/complex.rb (gcd, lcm, gcdlcm): removed.\n\n\t* lib/rational.rb (gcd, lcm, gcdlcm): ditto.\n\nWed Mar 26 18:11:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_mod_constants): rdoc updated.  a patch from\n\t  Florian Gilcher <flo AT andersground.net> in [ruby-core:16009].\n\nWed Mar 26 00:55:28 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_rand.rb: add tests to achieve over 95% test coverage\n\t  of random.c.\n\nWed Mar 26 00:28:55 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_rational.rb: add tests to achieve over 90% test\n\t  coverage of rational.c.\n\n\t* test/ruby/test_complex.rb: ditto for complex.c.\n\nTue Mar 25 19:34:05 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bootstraptest/test_knownbug.rb: add tests.  [ruby-dev:34128]\n\nTue Mar 25 19:09:04 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (ary_new): fix size check.  [ruby-dev:34123]\n\n\t* array.c (rb_ary_take, rb_ary_drop): check negative size and use\n\t  NUM2LONG instead of FIX2LONG.  [ruby-dev:34123]\n\n\t* enum.c (enum_take, enum_drop): check negative size.\n\n\t* test/ruby/test_array.rb: add tests for above.\n\nTue Mar 25 16:32:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): checks if the word is empty.\n\n\t* ruby.c (process_options): typo fixed.  [ruby-dev:34122]\n\nTue Mar 25 15:26:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (defined_expr): false short-circuit destination label may\n\t  be needed.  [ruby-talk:295296]\n\n\t* compile.c (iseq_compile_each): put nil if false short-circuit is\n\t  created.\n\n\t* compile.c (compile_massign_opt): no need to use alloca.\n\nMon Mar 24 19:23:52 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* parse.y (debug_lines): Always prepare a new array for each\n\t  file's SCRIPT_LINES__ storage, instead of appending source lines\n\t  every time a file is re-loaded; submitted by Rocky Bernstein in\n\t  #18517.\n\nMon Mar 24 10:25:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: sitearch should use target_cpu.  [ruby-core:15986]\n\nSun Mar 23 02:51:57 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (rlimit_resource_value): use NUM2RLIM.\n\nSun Mar 23 02:28:01 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: fixed. [ruby-dev:34109]\n\n\t* rational.c: ditto.\n\nFri Mar 21 21:32:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_f_gets, rb_f_readline, rb_f_readlines): delegates to ARGF\n\t  as well as puts and putc.  [ruby-dev:34100]\n\nFri Mar 21 21:26:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/resolv.rb (Resolv::Hosts): should not use win32/resolv on cygwin.\n\t  [ruby-dev:29945], [ruby-dev:34095]\n\n\t* lib/win32/registry.rb (Win32::Registry.expand_environ): try upcased\n\t  name too for cygwin.  [ruby-dev:29945]\n\n\t* lib/win32/resolv.rb (Win32::Resolv.get_hosts_path): use expand_path.\n\nFri Mar 21 21:10:00 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/ipaddr.rb: Say that I am the current maintainer.\n\n\t* lib/set.rb: Ditto.\n\n\t* lib/shellwords.rb: Ditto.\n\n\t* ext/syslog/syslog.txt: Ditto.\n\nFri Mar 21 09:24:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (open_for_install): write block result and rewrite only\n\t  if changed from existing file.\n\nFri Mar 21 08:29:33 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c (nurat_to_f): rearrangement.\n\nFri Mar 21 06:44:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* rational.c (nurat_to_f): C99.\n\nFri Mar 21 01:40:27 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* complex.c (nucomp_sub, nucomp_expt): call corresponding functions.\n\nFri Mar 21 01:21:43 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* missing/tgamma.c: include config.h before math.h.  [ruby-dev:34075]\n\nThu Mar 20 21:46:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_getline): use receiver.\n\nThu Mar 20 21:20:19 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c: some improvements (include Shin-ichiro HARA's\n\t  effort).\n\n\t* complex.c: some improvements.\n\n\t* test/ruby/test_rational2.rb: new.\n\nThu Mar 20 00:21:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_initialize_copy): get rid of segfault.\n\n\t* io.c (argf_tell, argf_seek_m, argf_set_pos, argf_rewind,\n\t  argf_fileno, argf_to_io, argf_eofl, argf_getc, argf_getbyte,\n\t  argf_readchar, argf_readbyte, argf_each_line): use receiver.\n\nWed Mar 19 23:52:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_putc, rb_io_puts): output directly if the receiver is\n\t  rb_stdout to get rid of infinite recursion.  [ruby-dev:34059]\n\nWed Mar 19 22:27:41 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* rational.c: added rb_gcd.\n\n\t* complex.c: use rb_gcd.\n\nWed Mar 19 18:37:00 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* complex.c: revert.\n\n\t* rational.c: revert.\n\nWed Mar 19 17:31:20 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_intern.h (TH_EXEC_TAG): need not to FLUSH_REGISTER_WINDOWS.\n\t  [ruby-core:15871], [ruby-dev:34088]\n\nWed Mar 19 14:53:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* complex.c (nucomp_to_s, nucomp_inspect): get rid of making\n\t  unnecessary intermediate objects.\n\n\t* complex.c (make_patterns, string_to_c): do not treat successive\n\t  underscores as a part of numeric like as literals.  [ruby-dev:34085]\n\n\t* rational.c (make_patterns, string_to_r): ditto.\n\nWed Mar 19 14:36:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_cstr_to_inum): treat successive underscores as\n\t  nondigit.  [ruby-dev:34089]\n\nWed Mar 19 14:08:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_check_encoding): should not load autoloaded encoding\n\t  directly, instead use rb_enc_find_index() which deal with alias and\n\t  replica.  [ruby-core:15957]\n\nWed Mar 19 11:49:47 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* regint.h (include): include ruby.h instead of defines.h and config.h.\n\nWed Mar 19 10:17:12 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regint.h (CHECK_INTERRUPT_IN_MATCH_AT): add interrupt check\n\t  during match.  [ruby-talk:295002]\n\nTue Mar 18 16:24:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (literal_concat_gen): bail out at different encoding.\n\nTue Mar 18 04:00:27 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_memsearch_ss): simple shift search.\n\n\t* re.c (rb_memsearch_qs): quick search.\n\n\t* re.c (rb_memsearch_qs_utf8): quick search for UTF-8 string.\n\n\t* re.c (rb_memsearch_qs_utf8_hash): hash functions for above.\n\n\t* re.c (rb_memsearch): use above functions.\n\n\t* string.c (rb_str_index): give enc to rb_memsearch.\n\n\t* include/ruby/intern.h (rb_memsearch): move to encoding.h.\n\n\t* include/ruby/encoding.h (rb_memsearch): move from intern.h.\n\n\t* common.mk (PREP): add dependency.\n\nMon Mar 17 22:23:54 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* array.c (rb_ary_take, rb_ary_take_while, rb_ary_drop,\n\t  rb_ary_drop_while): new methods. [ruby-dev:34067]\n\n\t* test/ruby/test_array.rb: add tests for above.\n\nMon Mar 17 17:11:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-mode): should use `run-mode-hooks' instead\n\t  of calling `run-hooks' directly to run the mode hook.  patch from\n\t  Chiyuan Zhang <pluskid AT gmail.com> in [ruby-core:15915]\n\nMon Mar 17 16:41:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: unset GREP_OPTIONS.  [ruby-core:15918]\n\nSun Mar 16 18:07:07 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/utf_16_32.c: bug fix (some invalid UTF-8 sequences\n\t  were legal)\n\n\t* test/ruby/test_transcode.rb: test for above bug\n\nSun Mar 16 17:28:07 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk (LIBRUBY_SO): add dependency to $(BUILTIN_ENCOBJS).\n\nSun Mar 16 08:51:41 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* include/ruby/intern.h: added some declarations.\n\n\t* include/ruby/ruby.h: ditto.\n\n\t* common.mk: added some entries.\n\n\t* configure.in: added a check for signbit.\n\n\t* lib/complex.rb: nearly all of core definitions have been removed.\n\n\t* lib/rational.rb: ditto.\n\n\t* lib/mathn.rb: some trivial adjustments.\n\n\t* complex.c: new.\n\n\t* rational.c: ditto.\n\n\t* numeric.c (flo_{quo,rdiv}, fix_fdiv): added.\n\n\t* numeric.c ({num,int}_{numerator,denominator}): ditto.\n\n\t* bignum.c (rb_big_fdiv): ditto.\n\n\t* numeric.c (fix_{quo,pow}): now may yield rational number.\n\n\t* bignum.c (rb_big_{quo,pow}): ditto.\n\n\t* numeric.c (rb_{int,flo}_induced_from): now can accept rational.\n\n\t* gc.c (gc_mark_children, obj_free): now detects complex and rational.\n\n\t* inits.c (rb_call_inits): now calls Init_{Complex,Rational}.\n\n\t* test/ruby/test_complex.rb: new.\n\n\t* test/ruby/test_rational.rb: ditto.\n\nSat Mar 15 17:48:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_enc_associate_index): pass unnecessary enc_capable().\n\n\t* string.c (rb_str_cmp): reduce invocation of rb_enc_compatible().\n\nFri Mar 14 17:04:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (inttypes.h): includes always if available.\n\n\t* string.c, ext/digest/defs.h: moved inttypes.h to ruby.h.\n\nFri Mar 14 16:59:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_LIB_PREFIX): fix for prefix.\n\nFri Mar 14 16:35:11 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie::initialize): performance patch from\n\t  Makoto Kuwata <kwa@kuwata-lab.com> in [ruby-dev:34048].\n\nFri Mar 14 15:49:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_LIB_PREFIX): use libdir.\n\nFri Mar 14 14:24:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/digest/defs.h: inttypes.h is still needed.\n\nFri Mar 14 11:34:12 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub: follow below changes.\n\nFri Mar 14 11:24:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-encoding-map, ruby-use-encoding-map): added\n\t  to customize.\n\nFri Mar 14 10:37:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* configure.in (int8_t, uint8_t,  int16_t,  uint16_t int32_t,\n\t  uint32_t int64_t, uint64_t, int128_t, uint128_t,\n\t  intptr_t, uintptr_t): check if defined.\n\n\t* win32/Makefile.sub: follow configure.in.\n\n\t* ext/digest/defs.h: remove checks for uint8_t, uint32_t and uint64_t.\n\nFri Mar 14 10:12:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_CHECK_VARTYPE): should not indent preprocessor\n\t  directives.\n\nFri Mar 14 10:03:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (UNALIGNED_WORD_ACCESS): IA64 cannot access unaligned word.\n\nThu Mar 13 21:00:50 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_slice_bang): should not use rb_ary_subseq()\n\t  which shares internal pointer.  splice modifies the receiver\n\t  right after subseq.  [ruby-dev:34005]\n\n\t* bootstraptest/test_struct.rb: some test moved from test to shut\n\t  warning up.\n\nThu Mar 13 19:42:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub (config.h): define uint32_t.\n\nThu Mar 13 14:14:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* trunk/configure.in (AC_CHECK_HEADERS): stdint.h is not needed to\n\t  check.\n\n\t* trunk/configure.in (rb_cv_type_uint32_t): unquoted.  [ruby-dev:34030]\n\n\t* trunk/string.c (hash): use inttypes.h instead of stdint.h.\n\nThu Mar 13 10:42:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_divmod): should return integer division.  [ruby-dev:34006]\n\n\t* enum.c (zip_ary): wrong boundary condition.\n\n\t* test/ruby/test_numeric.rb (TestNumeric::test_num2long): bit-and\n\t  should not raise RangeError.\n\nThu Mar 13 03:12:48 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/cmd/help.rb: should be updated for new ri structure.\n\t  [ruby-core:15825]\n\n\t* lib/rdoc/ri/driver.rb (RDoc::initialize): allow options to be optional.\n\n\t* lib/rdoc/ri/driver.rb (RDoc::class_cache): map_dirs may be\n\t  empty.\n\n\t* lib/rdoc/ri/driver.rb (RDoc::get_info_for): revive get_info_for\n\t  method.  maybe broken.\n\n\t* lib/rdoc/ri/util.rb (RDoc::initialize): should not use RiError\n\t  no more.\n\nThu Mar 13 01:45:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (stdint.h): check if presence.\n\n\t* configure.in (uint32_t): check if defined.\n\n\t* string.c (hash): fix for portability.  [ruby-dev:34020]\n\nWed Mar 12 17:33:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): fix for a mere underscore.\n\nWed Mar 12 14:47:07 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_intern.h (rb_thread_raised_set): use generic flags.\n\n\t* eval.c (rb_longjmp): clear all raised flags.\n\n\t* eval.c (stack_check): leave clearing flag to rb_longjmp.\n\n\t* gc.c (rb_memerror): use thread raised flag instead of static flag.\n\nTue Mar 11 23:38:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_combination): argument check before creating\n\t  Enumerator.\n\n\t* array.c (rb_ary_permutation): ditto.\n\n\t* enum.c (enum_zip): optimize if all arguments are arrays.\n\nTue Mar 11 19:48:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_coerce): try conversion before type check.\n\t  [ruby-core:15838]\n\nTue Mar 11 12:39:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (clean-local): WINMAINOBJ is Windows specific.\n\nTue Mar 11 10:19:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (hash): replaced by MurmurHash described in\n\t  <http://murmurhash.googlepages.com/>.\n\nTue Mar 11 09:52:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): empty strings in any encoding are\n\t  compatible each other.\n\nTue Mar 11 00:46:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (usage): remove some unimportant lines to fit -h message\n\t  in a page.  [ruby-dev:34018]\n\nMon Mar 10 17:11:00 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_local_variables): local_variables should return an\n\t  array of symbols.  [ruby-dev:34008]\n\n\t* vm.c (collect_local_variables_in_env): ditto.\n\nMon Mar 10 15:53:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* version.c (MKSTR): make US-ASCII.  [ruby-dev:34010]\n\nMon Mar 10 02:08:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_index): if t == s + pos, the character beginning\n\t  from s + pos is valid.\n\nSun Mar  9 13:51:21 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/generator.rb: Restore missing line to #params.  Patch by\n\t  Lincoln Stoll <lstoll at lstoll.net>\n\nSun Mar  9 09:52:00 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/code_objects.rb: Remove debugging Kernel#p.  Patch by\n\t  Lincoln Stoll <lstoll at lstoll.net>\n\t* lib/rdoc/generator/html.rb: Fully qualify AllReferences.  Patch by\n\t  Lincoln Stoll <lstoll at lstoll.net>\n\t* lib/rdoc/ri/writer.rb: Fix 1.8 backwards compatibility.\n\nSat Mar  8 18:50:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (isdirsep): backslash is valid path separator on cygwin too.\n\nSat Mar  8 06:53:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (search_nonascii): Use VALUE instead of unsigned long\n\t  because VALUE can be the fastest unsigned integer type.\n\t  On LLP64 unsigned long isn't the fastest.\n\t* string.c (str_strlen): ditto.\n\t* string.c (str_utf8_nth): ditto.\n\t* string.c (count_utf8_lead_bytes_with_ulong): ditto.\n\n\t* string.c (count_utf8_lead_bytes_with_word): renamed.\n\nFri Mar  7 21:27:43 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bignum.c: fix indent.\n\nFri Mar  7 21:12:19 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bignum.c (power_cache_init, power_cache_get_power0, Init_Bignum):\n\t  delayed initializing power cache per base.  [ruby-dev:34003]\n\nFri Mar  7 20:30:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cont.c (cont_restore_0): fixed typo.  [ruby-core:15821]\n\nFri Mar  7 19:56:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: rdoc added.  [ruby-Patches-9762]\n\nThu Mar  6 17:26:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): space flag is in effect for Inf/NaN too.\n\t  [ruby-dev:34002]\n\nThu Mar  6 15:44:20 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): casting double to long is undefined\n\t  if the integer part of double is out of the range of long.\n\nThu Mar  6 15:11:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): ignore 0 flag for NaN and Inf.\n\t  [ruby-dev:33994]\n\nThu Mar  6 15:05:25 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32}/Makefile.sub (RUNRUBY): use $(PROGRAM) instead of\n\t  ruby$(EXEEXT).\n\t  suggested by KIMURA Koichi <kimura.koichi at canon.co.jp>.\n\t  [ruby-dev:34000]\n\nThu Mar  6 14:46:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/lgamma_r.c (loggamma): return 0 for 1 and 2.\n\n\t* test/ruby/test_math.rb: accept errors by functions under missing/.\n\nThu Mar  6 14:29:44 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* transcode.c (rb_str_transcode_bang): set coderange.\n\n\t* transcode.c (rb_str_transcode): use rb_str_transcode_bang.\n\nThu Mar  6 14:00:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/missing.h (cbrt): add declaration.\n\nThu Mar  6 11:14:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-add-log-current-method): use ruby style\n\t  method name format.\n\nThu Mar  6 11:12:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): no need of loop.\n\nThu Mar  6 08:30:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_mod_freeze): call rb_class_name() directly.\n\t  [ruby-core:15802]\n\nThu Mar  6 04:32:06 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (count_utf8_lead_bytes_with_ulong): fix shift size.\n\t  [ruby-dev:33993]\n\n\t* string.c (str_utf8_nth) fix wrong counting.\n\nThu Mar  6 00:34:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): size_t returned from strlen() can be\n\t  unsigned.\n\nThu Mar  6 00:31:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* struct.c (make_struct): preserve encoding of struct name.\n\nWed Mar  5 22:49:20 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (is_utf8_lead_byte, count_utf8_lead_bytes_with_ulong):\n\t  defined for UTF-8 optimization.\n\n\t* string.c (str_strlen): use is_utf8_lead_byte and\n\t  count_utf8_lead_bytes_with_ulong.\n\n\t* string.c (str_utf8_nth) ditto.\n\nWed Mar  5 17:53:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_flock): returns false on EAGAIN if non-blocking.\n\t  [ruby-core:15795]\n\nWed Mar  5 17:43:43 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c (transcode_loop): Adjusted detection of invalid\n\t  (ill-formed) UTF-8 sequences. Fixing potential security issue, see\n\t  http://www.unicode.org/versions/Unicode5.1.0/#Notable_Changes.\n\n\t* test/ruby/test_transcode.rb: Added two tests for above fix.\n\nWed Mar  5 14:00:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_to_s): avoid rb_scan_args() when no argument\n\t  given.\n\t* bignum.c (rb_big_to_s): ditto.\n\t* enum.c (enum_first): ditto.\n\t* eval_jump.c (rb_f_catch): ditto.\n\t* io.c (rb_obj_display): ditto.\n\t* class.c (rb_obj_singleton_methods): ditto.\n\t* object.c (rb_class_initialize): ditto.\n\t* random.c (rb_f_srand): ditto.\n\t* range.c (range_step): ditto.\n\t* re.c (rb_reg_s_last_match): ditto.\n\t* string.c (rb_str_to_i): ditto.\n\t* string.c (rb_str_each_line): ditto.\n\t* string.c (rb_str_chomp_bang): ditto.\n\t* string.c (rb_str_sum): ditto.\n\n\t* string.c (str_modifiable): declare inline.\n\t* string.c (str_independent): ditto.\n\nWed Mar  5 11:50:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/debug.rb: require 'continuation' to implement \"restart\"\n\t  command.  [ruby-dev:33992]\n\n\t* lib/debug.rb (Context::debug_command): remove local variable\n\t  shadowing to shut up warnings.  [ruby-dev:33992]\n\n\t* lib/debug.rb (Context::display_list): ditto.\n\n\t* lib/debug.rb (Context::resume): ditto.\n\n\t* lib/debug.rb (Context::get_thread): no longer use #index for Hash.\n\nTue Mar  4 21:35:59 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb.rb (IRB::Irb::eval_input): SyntaxError should not be\n\t  considered as IRB bug.  [ruby-dev:33991]\n\n\t* lib/irb/workspace.rb (IRB::WorkSpace::filter_backtrace): should\n\t  filter 'irb.rb' as well for context mode 2 and 3.\n\nTue Mar  4 19:10:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_aset): should not copy key string when\n\t  compare_by_identity is set.  [ruby-dev:33604]\n\n\t* hash.c (hash_equal): two hash tables are different when internal\n\t  comparison table differ.  [ruby-dev:33989]\n\nTue Mar  4 16:29:06 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): disallow non digits '0o' expression.\n\nTue Mar  4 14:35:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (open_key_args): use rb_io_open_with_args instead of rb_f_open.\n\t  [ruby-core:15763]\n\nTue Mar  4 13:41:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (add_heap): fix previous change.  [ruby-dev:33988]\n\nTue Mar  4 10:21:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (add_heap): use binary search to find the place to insert the\n\t  new heap slot.  [ruby-dev:33983]\n\nTue Mar  4 05:30:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (open_key_args): use rb_io_open instead of rb_f_open.\n\t  [ruby-core:15746]\n\nMon Mar  3 23:28:37 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/filehandler.rb: should normalize path\n\t  separators in path_info to prevent directory traversal\n\t  attacks on DOSISH platforms.\n\t  reported by Digital Security Research Group [DSECRG-08-026].\n\n\t* lib/webrick/httpservlet/filehandler.rb: pathnames which have\n\t  not to be published should be checked case-insensitively.\n\nMon Mar  3 17:25:45 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (add_heap): sort heaps array in ascending order to use\n\t  binary search.\n\n\t* gc.c (is_pointer_to_heap): use binary search to identify object\n\t  in heaps.  works better when number of heap segments grow big.\n\nMon Mar  3 17:15:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_regsub): remove too strict encoding check.\n\t  [ruby-dev:33966]\n\nMon Mar  3 16:14:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (rb_any_hash): shrinks all results in Fixnum range.\n\t  [ruby-core:15713]\n\nSun Mar  2 23:03:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_ungetc): reduce redundant call.\n\nSun Mar  2 10:13:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file): parse shebang in us-ascii.  a patch from\n\t  sheepman <sheepman AT sheepman.sakura.ne.jp> in [ruby-dev:33955]\n\nSun Mar  2 00:08:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): check for successive underscores.\n\t  [ruby-dev:33952]\n\nSat Mar  1 17:59:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (struct argf): packed ARGF stuffs.\n\n\t* ruby.c (proc_options): use ruby_set_inplace_mode().\n\nSat Mar  1 17:51:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (recursive_collect): do not always\n\t  include all test_*.rb.\n\nSat Mar  1 14:14:17 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* development snapshot 1.9.0-1 released.\n\nSat Mar  1 13:46:26 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* tool/make-snapshot: make prereq uses MINIRUBY.\n\n\t* tool/make-snapshot: allow packaging like 1.9.0-1 by second\n\t  command-line argument.\n\nSat Mar  1 13:11:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/allpairs.rb: new file for all pairs method.\n\n\t* test/ruby/test_m17n_comb.rb: use allpairs.rb to reduce test cases.\n\n\t* test/ruby/test_sprintf_comb.rb: ditto.\n\nSat Mar  1 12:34:21 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_inspect): use rb_str_inspect() instead of\n\t  rb_str_dump().  [ruby-dev:33946]\n\nSat Mar  1 12:15:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_method.c (rb_get_method_body): ent->method may be freed by\n\t  GC.  [ruby-dev:31819]\n\n\t* thread.c (remove_event_hook): should not access freed memory.\n\t  [ruby-dev:31820]\n\nSat Mar  1 10:31:19 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (read_all, rb_io_getline_fast): encoding is io_input_encoding.\n\nSat Mar  1 10:09:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (tr_setup_table, rb_str_split_m, rb_str_chomp_bang):\n\t  simplified with rb_enc_ascget().  [ruby-dev:33944]\n\nSat Mar  1 10:01:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_coderange_scan_restartable): should not return\n\t  offset in the middle of a character.\n\n\t* string.c (rb_str_coderange_scan_restartable): should not return\n\t  invalid cr value.\n\nSat Mar  1 09:36:08 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): \"%#.0o\" should keep prefix where\n\t  \"%#.0x\" should not.\n\nSat Mar  1 02:35:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (big2str_find_n1): check integer overflow.\n\nSat Mar  1 00:29:07 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_dummy_p): bootstrap encodings can not be dummy.\n\n\t* encoding.c (rb_enc_ascget): no needs to call rb_enc_precise_mbclen()\n\t  twice.\n\nFri Feb 29 23:14:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_m17n_comb.rb (TestM17NComb::test_str_chomp): test\n\t  updated.\n\nFri Feb 29 20:58:09 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_enumerator):\n\t  adjust test for zip behavior reversion.\n\nFri Feb 29 20:25:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_chomp_bang): now works on UTF-16.\n\n\t* string.c (tr_setup_table): negation should work on non ASCII\n\t  compatible strings as well.\n\n\t* string.c (rb_str_split_m): awk split should work on non ASCII\n\t  compatible strings as well.\n\nFri Feb 29 18:08:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_strftime): format should be ascii compatible.\n\n\t* parse.y (rb_intern3): non ASCII compatible symbols.\n\n\t* re.c (rb_reg_regsub): add encoding check.\n\n\t* string.c (rb_str_chomp_bang): ditto.\n\n\t* test/ruby/test_utf16.rb (TestUTF16::test_chomp): raises exception.\n\nFri Feb 29 15:16:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_rpartition): calculation was done in byte indexing.\n\n\t* test/ruby/test_m17n_comb.rb (TestM17NComb::test_str_start_with):\n\t  allow start_with? matching on broken strings.\n\nFri Feb 29 15:12:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (opt_block_param): command can start just after block param\n\t  definition.  [ruby-list:44479]\n\nFri Feb 29 03:22:19 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* test/ruby/test_time.rb (test_readers): fix typo.\n\t  (test_strftime): \"UTC\" is also ok for time.gmtime.strftime(\"%Z\").\n\nFri Feb 29 02:50:07 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (str_new): remove encoding assumption of empty string.\n\n\t* hash.c ( rb_f_getenv, env_fetch, env_inspect): result of ENV should\n\t  be always ASCII-8BIT.\n\n\t* object.c (nil_to_s): nil.to_s should be US-ASCII.\n\nFri Feb 29 02:24:22 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: forgot to update RELEASE_DATE\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/text.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/scrolledtext.rb: remove adhoc check\n\t  of Ruby's features (use existence of some classes instead of\n\t  comparing with RUBY_VERSION)\n\n\t* ext/tk/lib/tk/root.rb, ext/tk/lib/tk/autoload.rb: make TkRoot\n\t  (Tk::Root) unswitchable\n\n\t* ext/tk/lib/multi-tk.rb: partial bug fix (still not work!!)\n\nThu Feb 28 23:37:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI::Meta#meta_setup_encoding): use ASCII-8BIT\n\t  for charset unspecified non-text data.\n\nThu Feb 28 22:19:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_capable): IMMEDIATE_P doesn't include Qnil and Qfalse.\n\t  use SPECIAL_CONST_P.\n\nThu Feb 28 19:45:52 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (enc_find): check type of argument and convert to String\n\t  if it is StringValue. [ruby-cvs:22866]\n\nThu Feb 28 18:07:52 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI::Meta#meta_setup_encoding): setup encoding\n\t  by charset.\n\t  (OpenURI::Meta#meta_add_field): call meta_setup_encoding when\n\t  content-type.\n\nThu Feb 28 15:29:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* io.c (rb_io_getline_fast): scan coderange.\n\nThu Feb 28 14:36:46 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_str_copy): removed.\n\nThu Feb 28 13:51:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (stack_check): made flag per threads.\n\n\t* thread.c (rb_thread_set_raised, rb_thread_reset_raised): prefixed.\n\nThu Feb 28 11:43:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_flock): immediately returns on EAGAIN if\n\t  non-blocking.  [ruby-core:15672]\n\nThu Feb 28 11:23:50 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline_1): get rid of segfault.  [ruby-dev:33938]\n\nThu Feb 28 11:19:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_reverse_bang): removed unused variables.\n\n\t* include/ruby/encoding.h (rb_str_coderange_scan_restartable): added\n\t  prototype.\n\n\t* string.c (rb_str_coderange_scan_restartable, rb_str_times): removed\n\t  unused variables.\n\n\t* string.c (rb_str_reverse_bang): ditto\n\n\t* string.c (rb_enc_str_copy): unused now.  may be used in future?\n\nThu Feb 28 03:03:32 2008  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/*: make default widget set\n\t  switchable between Tk (standard Tcl/Tk widget set) and\n\t  Ttk (Tile). Initial default widget set is Tk. Now, toplevel\n\t  widget classes are removed and defined as aliases.\n\t  For example, \"TkButton\" is an alias of the \"Tk::Button\" class.\n\t  Those aliases are replaced when switching default widget set.\n\t  \"Tk.default_widget_set=\" is the method for switching default\n\t  widget set. \"Tk.default_widget_set = :Ttk\" defines Ttk (Tile)\n\t  widget set as default. It means that \"TkButton\" denotes\n\t  \"Tk::Tile::Button\" class. And then, \"TkButton.new\" creates\n\t  a Tk::Tile::Button widget. Of course, you can back to use\n\t  standard Tk widgets as the default widget set by calling\n\t  \"Tk.default_widget_set = :Tk\", whenever you want. Based on\n\t  the feature, you can use Ttk widget styling engine on your\n\t  old Ruby/Tk application without modifying its source, if you\n\t  don't use widget options unsupported on Ttk widgets (At first,\n\t  call \"Tk.default_widget_set = :Ttk\", and next load and run\n\t  your application).\n\t  This is one step for supporting Tcl/Tk8.5 features.\n\nWed Feb 27 22:55:42 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_coderange_scan_restartable): coderange scanning\n\t  for partial read.\n\n\t* io.c (read_all): set coderange when not convert encoding.\n\nWed Feb 27 03:55:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, enc/make_encmake.rb: load current mkmf.rb even if\n\t  cross-compiling.\n\n\t* ext/extmk.rb, enc/make_encmake.rb, lib/mkmf.rb: need to be 1.8\n\t  compatible for cross-compiling.\n\nTue Feb 26 16:53:13 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-calculate-indent): should distinguish\n\t  comment and # in strings.  [ruby-dev:33874]\n\nTue Feb 26 16:41:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (combi_len, rb_ary_product): check for overflow.\n\t  [ruby-Bugs-18355]\n\nTue Feb 26 16:38:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (recursive_cmp): compare minimal length parts.\n\nTue Feb 26 16:06:00 2008  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_{ec,dh,dsa,rsa}.c: Remove useless warnings.\n\n\t* ext/openssl/ossl_asn1.c: Simplify code.\n\n\t* ext/openssl/ossl_ssl_session.c Fix compiler warnings.\n\t  Undefine #id if SSL_SESSION_get_id is not supported.\n\nTue Feb 26 15:50:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (value_expr_gen): removed inappropriate warning.\n\t  [ruby-core:15660]\n\nTue Feb 26 15:43:42 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (tokadd_escape): refactored.  [ruby-core:15657]\n\nTue Feb 26 15:30:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_eql, rb_ary_cmp): get rid of stack overflow with\n\t  self-recursive constructs.  [ruby-Bugs-18356]\n\nTue Feb 26 01:16:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (ROBJECT_NUMIV): renamed from ROBJECT_LEN.\n\t  (ROBJECT_IVPTR): renamed from ROBJECT_PTR.\n\n\t* variable.c: follow the above renaming.\n\n\t* object.c: ditto.\n\n\t* gc.c: ditto.\n\n\t* marshal.c: ditto.\n\nMon Feb 25 17:30:29 2008  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* ext/openssl/digest.c ext/openssl/lib/openssl/digest.rb:\n\t  Commit patch #9280 from Akinori MUSHA.\n\t  Simplify the OpenSSL::Digest class and make use of the\n\t  existing Digest framework.\n\t  Enhance performance.\n\nMon Feb 25 15:33:29 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bignum.c (big2str_karatsuba): initialize cache if not initialized.\n\n\t* bignum.c (Init_Bignum): delayed initializing cache.\n\t  [ruby-dev:33930]\n\nMon Feb 25 13:40:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (Init_process): share bignum objects for RLIM_INFINITY,\n\t  RLIM_SAVED_MAX and RLIM_SAVED_CUR if they are equal.\n\nMon Feb 25 10:41:41 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* encoding.c (Encoding#dummy): minor grammatical fixes\n\t  in rdoc documentation.\n\nMon Feb 25 00:01:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (clean-local): should be double-colon.\n\nSun Feb 24 23:39:59 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, {bcc,win}32/Makefile.sub (clean-local): remove\n\t  intermediate files.\n\n\t* cygwin/GNUmakefile.in (clean-local): remove def file.\n\nSun Feb 24 06:49:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* debug.c (ruby_set_debug_option): separated ruby_each_words().\n\n\t* util.c (ruby_each_words): extracted from ruby_set_debug_option().\n\n\t* ruby.c (enable_option, disable_option): allow all for all known\n\t  features.\n\n\t* ruby.c (proc_options): generalized enable/disable options.\n\n\t* ruby.c (ruby_init_gems): take enabled flag.  [ruby-core:14840]\n\n\t* ruby.c (process_options): added --disable-rubyopt flag.\n\n\t* include/ruby/util.h (ruby_each_words): prototype.\n\nSun Feb 24 05:25:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): check if argument for -E exists.\n\nSun Feb 24 05:09:43 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-label-indent): fix for labels inside\n\t  blocks in switch.\n\nSun Feb 24 03:52:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (valid_filename): use O_EXCL to get rid of clobbering\n\t  existing files in race conditions.\n\nSat Feb 23 21:36:13 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c (ole_init_cp): should return value.\n\nSat Feb 23 20:16:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (str_sublen): removed.\n\n\t* string.c (rb_str_reverse, rb_str_reverse_bang): use\n\t  single_byte_optimizable.\n\nSat Feb 23 19:25:18 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_cr_str_copy_for_substr): renamed from\n\t  rb_enc_cr_str_copy.\n\n\t* string.c: use rb_enc_cr_str_copy_for_substr and keep coderange.\n\nSat Feb 23 18:50:17 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_encoding2cp): remove US-ASCII\n\t  mapping.\n\nSat Feb 23 01:09:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (rlimit_resource_type): new function.\n\t  (rlimit_resource_value): new function.\n\t  (proc_getrlimit): use rlimit_resource_type to accept\n\t  symbol and string as resource type.\n\t  (proc_setrlimit): use rlimit_resource_type and rlimit_resource_value\n\t  to accept symbol and string as resource type and values.\n\nFri Feb 22 21:12:42 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_cr_str_copy): check string's coderange is 7bit or\n\t  valid.\n\nFri Feb 22 19:50:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (BIGZEROP): fix for longer Bignum zeros.  [ruby-Bugs-17454]\n\nFri Feb 22 15:47:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_mbclen): return minlen instead of 1 when\n\t  a character is not found properly.\n\n\t* string.c (rb_enc_strlen): round up string length with fixed\n\t  multibyte encoding such as UTF-32.\n\t  (rb_enc_strlen_cr): ditto.\n\t  (rb_str_substr): fix substring with fixed multibyte encoding.\n\t  (rb_str_justify): check number of characters.\n\nFri Feb 22 12:11:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_inspect): string of ascii incompatible encoding\n\t  should be escaped and returned as US-ASCII encoding.\n\nFri Feb 22 11:16:55 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_substr): copy encoding although empty string.\n\nFri Feb 22 04:48:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_times): empty string's coderange is CODERANGE_7BIT.\n\n\t* string.c (rb_str_substr): ditto.\n\n\t* encoding.c (rb_enc_compatible): empty string is compatible with not\n\t  only nonasciicompatible strings. [ruby-dev:33895]\n\nThu Feb 21 17:15:15 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c: Added basic support for passing options to String#encode\n\t  via a hash. Currently only one option, with one value, is supported:\n\t  invalid: :ignore (dropping invalid byte sequences instead of\n\t  producing an error). Option naming is not yet stable!\n\n\t* test/ruby/test_transcode.rb: Added a single test for invalid: :ignore\n\t  option. Not more tests because most data does not yet distinguish\n\t  between INVALID and UNKNOWN.\n\nThu Feb 21 16:35:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_unshift_m): expands enough for argc.  [ruby-dev:33880]\n\nThu Feb 21 14:49:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_set_encoding): uses current_file after check if next\n\t  input is available.\n\nThu Feb 21 14:13:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_putc): invoke stdout method so that redefining putc\n\t  may take effect.   [ruby-talk:291844]\n\n\t* io.c (rb_f_puts): ditto.\n\nThu Feb 21 11:10:49 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c: replace rb_enc_copy by rb_enc_cr_str_copy or\n\t  rb_enc_cr_str_exact_copy.\n\nThu Feb 21 10:35:04 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_enc_asciicompat): dummy encoding is not\n\t  ascii compatible. [ruby-dev:33878]\n\nThu Feb 21 00:01:34 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RPATHFLAG): -R option of HP-UX ld is not for runtime\n\t  load path.  [ruby-list:44600]\n\nWed Feb 20 23:55:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_map_errno): exported.\n\nWed Feb 20 23:28:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/readline/extconf.rb (rl_event_hook): workaround for native\n\t  windows.\n\nWed Feb 20 19:42:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_associate_index): doesn't clear coderange\n\t  when new encoding equals to old one.\n\nWed Feb 20 19:15:38 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_str_copy): added for wrapper for rb_enc_copy.\n\t  this also copy coderange when ptr and len is equal.\n\n\t* string.c (rb_enc_cr_str_copy): added for wrapper for rb_enc_copy.\n\t  this always copy coderange.\n\n\t* string.c (str_replace_shared): use rb_enc_str_copy.\n\n\t* string.c (str_new3): don't rb_enc_copy because encoding is copied\n\t  at str_replace_shared.\n\nWed Feb 20 13:08:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (parse_args): added --dir-mode, --script-mode and\n\t  --cmd-type options.  [ruby-dev:33816]\n\n\t* instruby.rb (parse_args): added bin-arch and bin-comm to install\n\t  type, for compiled files and script files.\n\n\t* instruby.rb (parse_args): deal with make style command line macros,\n\t  and count as long style options if prefixed with INSTALL_.\n\n\t* instruby.rb (makedirs): use $dir_mode.  [ruby-dev:33805]\n\n\t* instruby.rb (open_for_install): set file mode, which is now\n\t  permission mode instead of access mode.\n\n\t* instruby.rb (bin-comm): installs scripts with replacing shebang\n\t  lines.\n\nWed Feb 20 10:04:22 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (open_key_args): set arg->io even if no options passed.\n\t  [ruby-dev:33072]\n\nTue Feb 19 21:11:49 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_strlen_cr): get length with coderange scan.\n\n\t* string.c (str_strlen): use rb_enc_strlen_cr. [ruby-dev:33849]\n\nTue Feb 19 20:49:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_raise_jump): moved adjustment for control frame.\n\nTue Feb 19 18:34:32 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (STACK_LENGTH) [SPARC] : 0x80 offset removed.  [ruby-dev:33857]\n\nTue Feb 19 14:27:32 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_event): prevent polling.  based on\n\t  a patch from error errorsson in [ruby-Bugs-17675].\n\nTue Feb 19 11:14:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_exec_node): no thread starts inside iseq compilation.\n\n\t* eval.c (rb_f_raise): skip current control frame.  [ruby-core:15589]\n\n\t* insns.def (opt_div): raise as the ordinary method. [ruby-core:15589]\n\nMon Feb 18 15:16:30 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_each_line): fix newline size.\n\nMon Feb 18 13:06:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/irb/locale.rb (IRB::Locale#lc2kconv): check ja_JP.EUC-JP as well.\n\nMon Feb 18 11:51:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (re_warn): defined to restore warnings for /[a-c-e]/, etc.\n\nMon Feb 18 10:17:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/pty/lib/expect.rb (IO#expect): check if peer is closed.\n\t  [ruby-Bugs-17940]\n\nMon Feb 18 00:33:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_regsub): don't repeat repl twice with\n\t  \"X\".sub!(/./, sprintf(\"\\\\%c\", 255)).\n\nSun Feb 17 23:06:55 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/cgi.rb (CGI::escapeHTML): use gsub with Hash. [ruby-dev:33828]\n\nSun Feb 17 21:38:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (ENC_CODERANGE_AND): fix broken case. [ruby-dev:33826]\n\n\t* string.c (rb_str_times): fix broken case. [ruby-dev:33826]\n\nSun Feb 17 20:45:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_prepare_re): add enable_warning parameter.\n\t  (rb_reg_adjust_startpos): disable warning by rb_reg_prepare_re.\n\t  (rb_reg_search): follow rb_reg_prepare_re parameter change.\n\nSun Feb 17 20:12:41 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_regexp.rb: add tests to achieve over 90% test\n\t  coverage of re.c.\n\nSun Feb 17 15:25:08 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (ENC_CODERANGE_AND): added.\n\n\t* string.c (rb_str_plus, rb_str_times): keep coderange.\n\n\t* parse.y (STR_NEW0) use rb_usascii_str_new.\n\nSun Feb 17 14:07:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (str_strlen): rb_enc_strlen doesn't fail.\n\nSun Feb 17 13:03:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (str_sublen): use rb_enc_strlen.\n\nSun Feb 17 12:17:52 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/{euc_jp.c,gbk.c,iso_8859_1.c,iso_8859_11.c,iso_8859_13.c,\n\t  iso_8859_2.c,iso_8859_6.c,iso_8859_7.c,iso_8859_8.c,iso_8859_9.c,\n\t  shift_jis.c,windows_1251.c}: add document about encodings.\n\n\t* enc/cp949.c: divided into new file.\n\nSun Feb 17 10:59:04 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_quote): return US-ASCII string consistently.\n\nSun Feb 17 09:17:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_times): reduce loop overhead.\n\nSun Feb 17 03:37:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/re.h (struct rmatch_offset): new struct for character\n\t  offsets.\n\t  (struct rmatch): new struct.\n\t  (struct RMatch): reference struct rmatch.\n\t  (RMATCH_REGS): new macro.\n\n\t* re.c (match_alloc): initialize struct rmatch.\n\t  (pair_byte_cmp): new function.\n\t  (update_char_offset): update character offsets.\n\t  (match_init_copy): copy regexp and character offsets.\n\t  (match_sublen): removed.\n\t  (match_offset): use update_char_offset.\n\t  (match_begin): ditto.\n\t  (match_end): ditto.\n\t  (rb_reg_search): make character offset updated flag false.\n\t  (match_size): use RMATCH_REGS.\n\t  (match_backref_number): ditto.\n\t  (rb_reg_nth_defined): ditto.\n\t  (rb_reg_nth_match): ditto.\n\t  (rb_reg_match_pre): ditto.\n\t  (rb_reg_match_post): ditto.\n\t  (rb_reg_match_last): ditto.\n\t  (match_array): ditto.\n\t  (match_aref): ditto.\n\t  (match_values_at): ditto.\n\t  (match_inspect): ditto.\n\n\t* string.c (rb_str_subpat_set): use RMATCH_REGS.\n\t  (rb_str_sub_bang): ditto.\n\t  (str_gsub): ditto.\n\t  (rb_str_split_m): ditto.\n\t  (scan_once): ditto.\n\n\t* gc.c (obj_free): free character offsets.\n\nSun Feb 17 03:13:40 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/resource.rb: made version infos confirm to OS spec.\n\n\t* {bcc32,win32}/Makefile.sub (*.rc): add dependency.\n\nSat Feb 16 20:49:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_substr): optimized for UTF-8.\n\nSat Feb 16 18:13:53 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_compatible): check encoding incapable arguments.\n\nSat Feb 16 20:12:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (match_inspect): avoid SEGV with MatchData.allocate.inspect.\n\nSat Feb 16 19:04:17 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (str_strlen): revert r15507. [ruby-dev:33810]\n\nSat Feb 16 18:25:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (str_strlen): little more optimization.\n\t  (rb_enc_nth): remove needless variable 'c'.\n\nSat Feb 16 18:00:13 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_compatible): empty strings are always compatible.\n\n\t* string.c (rb_enc_cr_str_buf_cat): ditto.\n\nSat Feb 16 16:14:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_enc_strlen): UTF-8 character count moved to str_strlen.\n\t  (str_strlen): UTF-8 character count is only applicable for valid\n\t  UTF-8 string.  [ruby-dev:33807]\n\nSat Feb 16 13:16:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_sub_bang): stringize replacing hash values.\n\t  (str_gsub): ditto.\n\nSat Feb 16 13:01:33 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_enc_strlen): add search_nonascii like character\n\t  counter for UTF-8.\n\nSat Feb 16 11:53:35 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_strlen): moved to string.c.\n\n\t* string.c (rb_enc_strlen): use search_nonascii.\n\t  (str_strlen): don't use search_nonascii.\n\nSat Feb 16 11:45:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/require_relative.rb: check require_relative call in eval.\n\nSat Feb 16 08:00:01 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ruby.c (process_options): set default_external before loading\n\t  libraries. [ruby-dev:33801]\n\nSat Feb 16 05:49:54 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/iso_8859_{4,13}.c: Windows-1257 is replica of ISO-8859-13.\n\n\t* string.c (single_byte_optimizable): rb_enc_mbminlen must be 1\n\t  when rb_enc_mbmaxlen is 1.\n\nSat Feb 16 03:43:18 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_nth): moved to string.c.\n\n\t* string.c (rb_enc_nth): moved from string.c.  use search_nonascii\n\t  for ASCII compatible string.\n\t  (str_nth): wrong optimization removed to fix\n\t  \"a\".force_encoding(\"EUC-JP\").slice!(0,10) returns\n\t  \"a\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\"\n\nSat Feb 16 00:21:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (rb_range_beg_len): check if responds to \"begin\" and \"end\"\n\t  methods for non-Range object.\n\nFri Feb 15 20:29:42 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_init_cp): initialize WIN32OLE.codepage\n\t  according to Encoding.default_external.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nFri Feb 15 19:31:23 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/node.h (NODE_FL_NEWLINE): renamed from NODE_NEWLINE\n\t  to denote its a flag.  [ruby-core:15529]\n\nFri Feb 15 18:23:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_sub_bang, str_gsub): allows hash for replacement.\n\nFri Feb 15 17:12:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_strlen): use search_nonascii() for performance.\n\n\t* string.c (str_nth): ditto.\n\nFri Feb 15 16:22:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (open_key_args): allow specifying both :mode and :encoding.\n\nFri Feb 15 15:34:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_getbyte): new method.\n\t  (rb_str_setbyte): new method.\n\nFri Feb 15 15:29:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/require_relative.rb: new file.\n\nFri Feb 15 15:23:12 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_convert): check upper bound.  a patch from\n\t  Daniel Luz at [ruby-Bugs-17910].\n\nFri Feb 15 10:35:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_quote): set US-ASCII for ASCII-only string.\n\t  [ruby-dev:33785]\n\nFri Feb 15 10:27:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {win,bcc}32/Makefile.sub (config.h): added HAVE_FTRUNCATE.\n\t  [ruby-dev:33786]\n\nFri Feb 15 09:44:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reg_compile_gen): reg_fragment_setenc might not raise an\n\t  exception before rb_reg_compile.\n\nFri Feb 15 07:37:40 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/paths.rb: Preserve compatibility with 1.8.\n\nFri Feb 15 02:42:25 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ftruncate): check if available.\n\n\t* file.c (rb_file_truncate): check if ftruncate instead of truncate.\n\nFri Feb 15 02:40:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (sigsetmask): check when signal semantics is not POSIX.\n\n\t* signal.c (USE_TRAP_MASK): set true if sigprocmask or sigsetmask is\n\t  available.\n\nThu Feb 14 23:56:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_error.c (error_print): append a newline to rest lines.\n\n\t* parse.y (reg_compile_gen): appends error message from\n\t  rb_reg_compile() to one from reg_fragment_setenc().\n\nThu Feb 14 21:00:14 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_reopen): check STDIN, STDOUT and STDERR mode according to\n\t  stdio streams.\n\nThu Feb 14 16:07:40 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_math.rb: actual-expected argument ordering for\n\t  test_math.rb fixed.  a patch from Tadashi Saito\n\t  <shiba AT mail2.accsnet.ne.jp> in [ruby-dev:33770].\n\nThu Feb 14 16:02:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_utime): inhibits with secure level 2 or higher.\n\nThu Feb 14 12:30:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_preprocess_dregexp): use non-preprocessed regexp source\n\t  for result.\n\nThu Feb 14 01:43:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/timeout.rb (Timeout::timeout): made sensitive to location on the\n\t  stack.  [ruby-core:15458]\n\nThu Feb 14 00:49:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (INSTRUBY_ARGS): pass mode to install.  [ruby-dev:33766]\n\n\t* instruby.rb (parse_args): added --data-mode and --prog-mode options.\n\nThu Feb 14 00:02:19 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* eval.c (eval): allow to eval in a binding that has a singleton method.\n\t  [ruby-dev:33763]\n\n\t* test/ruby/test_proc.rb: add tests to achieve over 70% test coverage\n\t  of proc.c.\n\n\t* test/ruby/test_method.rb: ditto.\n\nWed Feb 13 22:46:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pathname.rb (Pathname#sub_ext): new method.  [ruby-list:44608]\n\nWed Feb 13 21:50:32 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* proc.c (proc_curry): new method. [ruby-dev:33676]\n\n\t* test/ruby/test_proc.rb: add tests for above.\n\nWed Feb 13 20:48:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (RObject): add iv_index_tbl for shortcut of\n\t  RCLASS_IV_INDEX_TBL(rb_obj_class(obj)).\n\t  (ROBJECT_IV_INDEX_TBL): defined.\n\n\t* object.c (init_copy): initialize iv_index_tbl in struct RObject.\n\n\t* variable.c (ivar_get): use ROBJECT_IV_INDEX_TBL.\n\t  (rb_ivar_defined): ditto.\n\t  (obj_ivar_each): ditto.\n\t  (rb_obj_remove_instance_variable): ditto.\n\t  (rb_ivar_set): update iv_index_tbl in struct RObject.\n\nWed Feb 13 16:21:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/uri/generic.rb: revert r15442. 2nd argument of String#sub parse\n\t  escapes. [ruby-dev:33726]\n\n\t* bootstraptest/test_method.rb, enc/depend, instruby.rb, lib/mkmf.rb,\n\t  mkconfig.rb: revert r15443. ditto.\n\nWed Feb 13 11:20:26 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/depend: fix typo.\n\n\t* lib/mkmf.rb: revert r15443. \"\\\\1#{sep}\\\\2\" is wrong if sep is ended\n\t  with \"\\\\\".\n\nWed Feb 13 08:57:21 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/markup/inline.rb:  Allow inline markup to have a leading\n\t  '#' or '\\', or trailing punctuation.  i.e. *#freeze?*, *\\foo?*.\n\nWed Feb 13 07:21:23 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/to_html_hyperlink.rb:  Moved linking to to_html.rb, move\n\t  crossref to to_html_crossref.rb\n\nWed Feb 13 04:15:44 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (arg_concat_gen, arg_append_gen): optimize for array push.\n\n\t* parse.y (arg_concat_gen): optimize for array concat.\n\n\t* parse.y (arg_add_gen): removed since identical to arg_append_gen.\n\nTue Feb 12 21:04:51 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (exc_list): should use mrhs if non array.\n\nTue Feb 12 20:32:50 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/rational.rb (floor, ceil, truncate, round): do not use\n\t  definitions of Numeric.\n\n\t* lib/rational.rb (to_i): should returns truncated self.\n\n\t* lib/complex.rb (numerator): requires\n\t  Integer#{numerator,denominator}.\n\n\t* lib/complex.rb (quo): do not use definition of Numeric.\n\n\t* lib/complex.rb (>, >=, <, <=, between?, div, divmod, modulo,\n\t  floor, ceil, truncate, round): undef'ed.\n\n\t* lib/mathn.rb (Rational#inspect): removed.\n\nTue Feb 12 16:48:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (args, mrhs): flattens literal array splats.\n\n\t* parse.y (exc_list): splat literal array.\n\nTue Feb 12 15:27:19 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* bootstraptest/runner.rb, bootstraptest/test_method.rb, enc/depend,\n\t  instruby.rb, lib/mkmf.rb, lib/test/unit/util/procwrapper.rb,\n\t  mkconfig.rb, sample/test.rb, template/vm.inc.tmpl,\n\t  test/ruby/test_stringchar.rb: fixes around String#gsub.\n\n\nTue Feb 12 15:11:47 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json/lib/json/pure/generator.rb,\n\t  ext/json/lib/json/pure/parser.rb, ext/openssl/lib/openssl/x509.rb,\n\t  ext/win32ole/sample/olegen.rb, lib/date/format.rb, lib/irb/context.rb,\n\t  lib/irb/workspace.rb, lib/net/http.rb, lib/net/imap.rb,\n\t  lib/rdoc/generator.rb, lib/rdoc/markup/to_html.rb,\n\t  lib/rdoc/markup/to_latex.rb, lib/rdoc/parsers/parse_c.rb,\n\t  lib/rdoc/ri/formatter.rb, lib/rexml/parsers/baseparser.rb,\n\t  lib/rexml/quickpath.rb, lib/rexml/text.rb, lib/rss/parser.rb,\n\t  lib/uri/common.rb, lib/uri/generic.rb, lib/webrick/httpresponse.rb,\n\t  lib/webrick/httpservlet/filehandler.rb, lib/yaml/baseemitter.rb,\n\t  lib/yaml/encoding.rb: performance tuning around String#gsub.\n\nTue Feb 12 12:16:45 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_hash_cmp): lighter version of rb_str_cmp() for\n\t  hash comparison function.\n\n\t* hash.c (rb_any_cmp): use rb_str_hash_cmp().\n\n\t* string.c (rb_str_casecmp): should return nil for incompatible\n\t  comparison.\n\nTue Feb 12 12:13:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* instruby.rb: specify file mode to install.  a patch from\n\t  pegacorn  <subscriber.jp AT gmail.com> in [ruby-dev:33699].\n\nTue Feb 12 11:38:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (rb_num_coerce_bin): add ID argument to specify\n\t  caller's method name.  [ruby-dev:33663]\n\n\t* numeric.c (rb_num_coerce_cmp): ditto.\n\n\t* numeric.c (rb_num_coerce_relop): ditto.\n\n\t* ext/bigdecimal/bigdecimal.c (DoSomeOne): add function name argument.\n\nTue Feb 12 10:25:02 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/rdoc.rb:  Wrap parse_files' read in version check for\n\t  backwards compatibility.\n\nTue Feb 12 10:15:14 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ruby.c (load_file): enc must effect source encoding.\n\t  [ruby-core:15496]\n\nTue Feb 12 10:16:47 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/paths.rb:  Restore require rubygems check.\n\nTue Feb 12 02:42:27 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_include): specialize single character string\n\t  case (e.g. (?a ..?z).include(?x)) for performance.\n\t  [ruby-core:15481]\n\n\t* string.c (rb_str_upto): specialize single character case.\n\n\t* string.c (rb_str_hash): omit coderange scan for performance.\n\n\t* object.c (rb_check_to_integer): check Fixnum first.\n\n\t* object.c (rb_to_integer): ditto.\n\n\t* string.c (rb_str_equal): inline memcmp to avoid unnecessary\n\t  rb_str_comparable().\n\n\t* parse.y (rb_intern2): use US-ASCII encoding.\n\n\t* parse.y (rb_intern_str): ditto.\n\nMon Feb 11 17:21:18 2008  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION), test/rss/test_version.rb:\n\t  0.2.3 -> 0.2.4.\n\n\t* lib/rss/maker.rb, lib/rss/maker/, test/rss/test_maker_2.0.rb:\n\t  fixed a bug that RSS::Maker.make(\"0.9\")'s item doesn't make some\n\t  elements if description is missed.\n\t  Reported by Michael Auzenne. Thanks!!!\n\n\t* lib/rss/maker/0.9.rb, test/rss/test_maker_0.9.rb:\n\t  RSS::Maker.make(\"0.9\") generates RSS 0.92 not RSS 0.91.\n\nMon Feb 11 10:43:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ruby.c (load_file): the encoding of DATA follows the source\n\t  file encoding. [ruby-dev:33693]\n\nMon Feb 11 06:50:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_pack.rb: fix tests for 64bit CPU.\n\n\t* test/ruby/test_bignum.rb: ditto.\n\n\t* test/ruby/test_file_exhaustive.rb: ditto.\n\n\t* test/ruby/test_integer.rb: ditto.\n\n\t* test/ruby/test_time.rb: ditto.\n\n\t* test/ruby/test_numeric.rb: ditto.\n\n\t* test/ruby/test_fixnum.rb: ditto.\n\nMon Feb 11 00:18:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/benchmark.rb (Job::Benchmark#item): fix typo.\n\nSun Feb 10 21:58:32 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk (encdb, transdb): depend on $(PREP).\n\nSun Feb 10 16:58:20 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*, test/rubygems*, gem_prelude.rb: Import RubyGems\n\t  r1601.  [ruby-core:15381]\n\nSun Feb 10 15:07:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/Makefile.sub (MISSING): added cbrt.obj.\n\nSun Feb 10 12:58:33 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/code_objects.rb: Make some attributes accessible for reuse.\n\t* lib/rdoc/generator/html.rb: Pull out ContextUser classes and related\n\t  methods for reuse.\n\t* lib/rdoc/generator.rb: Move ContextUser classes to\n\t  RDoc::Generator::Context for reuse.\n\t* lib/rdoc/rdoc.rb: Make RDoc::RDoc initialization a little easier.\n\t* lib/rdoc/options.rb: Make RDoc::Options easier to use without\n\t  parsing an ARGV.\n\t* lib/rdoc/markup/to_*.rb: Subclass RDoc::Markup::Formatter.\n\t* lib/rdoc/markup/formatter.rb: Add RDoc::Markup::Formatter to make\n\t  RDoc markup conversion easier.\n\t* lib/rdoc/markup/fragments.rb: Make RDoc::Markup::ListItem easier to\n\t  test.\n\t* lib/rdoc/markup/to_html_hyperlink.rb: Pulled out of the HTML\n\t  generator for easier reusability.\n\t* lib/rdoc/markup.rb: Fix bug with labeled lists containing bullet\n\t  lists.\n\t* lib/rdoc/generators/html/html.rb: Fix Constant display.\n\nSat Feb  9 23:44:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/tgamma.c (tgamma): use lgamma_r if available.\n\nSat Feb  9 23:22:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/bigdecimal/extconf.rb: simplified the condition.\n\nSat Feb  9 21:20:28 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_math.rb: add tests for Math.gamma, Math.lgamma and\n\t  Math.cbrt, and use assert_in_delta instead of assert.\n\nSat Feb  9 18:34:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* math.c (math_cbrt): new method Math.cbrt.\n\n\t* configure.in (cbrt): check for replacement functions.\n\n\t* missing/cbrt.c: new file.\n\nSat Feb  9 17:51:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_to_f): use strtod() for more\n\t  precision.  [ruby-talk:290296]\n\n\t* ext/bigdecimal/bigdecimal.c (BASE_FIG): made constant.\n\n\t* ext/bigdecimal/extconf.rb: ditto.  [ruby-dev:33658]\n\nSat Feb  9 12:06:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/tgamma.c (tgamma): add error check.\n\nSat Feb  9 11:47:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* math.c (math_gamma): add error check.\n\t  (math_lgamma): ditto.\n\nSat Feb  9 11:09:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/lgamma_r.c (lgamma_r): return HUGE_VAL for non-positive\n\t  integers.\n\nSat Feb  9 10:03:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_new4): copy encoding from orig, instead of shared\n\t  one.\n\nSat Feb  9 01:01:38 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* file.c (lchmod_internal): fix warning cast from pointer to integer of\n\t  different size.\n\nSat Feb  9 00:44:52 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/irb.rb (IRB::Irb::eval_input): rescues Interrupt and other than\n\t  SystemExit and SignalException.  [ruby-core:15359]\n\nFri Feb  8 23:51:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/lgamma_r.c (lgamma_r): use smaller argument for sin function.\n\nFri Feb  8 22:10:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI.open_http): rescue URI::InvalidURIError by\n\t  URI.parse for location URI.\n\nFri Feb  8 19:22:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (rb_str_derive): uses rb_str_subseq() for byte\n\t  length.  [ruby-dev:33653]\n\n\t* ext/iconv/iconv.c (iconv_convert): added toidx argument to set\n\t  encoding of successfully converted string.  [ruby-dev:33221]\n\nFri Feb  8 15:09:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (xsystem): expand macros like as make.\n\nFri Feb  8 09:27:57 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/rdoc/ri/driver.rb (read_yaml): remove SM* for compatibility.\n\nFri Feb  8 00:07:24 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_hash.rb: follow the change of Hash#flatten.\n\n\t* test/ruby/test_time.rb: add tests to achieve over 70% test coverage\n\t  of time.c.\n\n\t* test/ruby/test_prec.rb: ditto over 90% for prec.c.\n\nThu Feb  7 19:11:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_dup): reverted unneeded change.  [ruby-dev:33634]\n\n\t* string.c (rb_str_replace): makes frozen shared string before\n\t  sharing.\n\nThu Feb  7 16:33:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_reopen): don't change access mode for stdin, stdout and\n\t  stderr.  [ruby-core:15360]\n\nThu Feb  7 16:33:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_replace_shared): replaces string with sharing.\n\n\t* string.c (rb_str_new4, rb_str_associate, rb_str_associated): allows\n\t  associated strings shared.\n\n\t* string.c (rb_str_dup, rb_str_substr, rb_str_replace): shares memory.\n\t  [ruby-core:15400]\n\nThu Feb  7 15:42:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_end_with): compares with the suffix.\n\nThu Feb  7 15:03:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/korean.c: add support for CP949 by Park Ji-In.\n\t  [ruby-dev:33626]\n\nThu Feb  7 11:11:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* missing/lgamma_r.c (lgamma_r): some compilers don't permit dividing\n\t  by literal 0.0. use const variable instead.\n\n\t* {bcc32,win32,wince}/Makefile.sub (MISSING): add lgamma_r.obj and\n\t  tgamma.obj.\n\nThu Feb  7 10:39:21 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* math.c (math_gamma): new method Math.gamma.\n\t  (math_lgamma): new method Math.lgamma.\n\n\t* include/ruby/missing.h (tgamma): declared unless HAVE_TGAMMA.\n\t  (lgamma_r): declared unless HAVE_LGAMMA_R.\n\n\t* configure.in (tgamma): check for replacement functions.\n\t  (lgamma_r): ditto.\n\n\t* missing/tgamma.c: new file.  based on gamma.c from\n\t  \"C-gengo niyoru saishin algorithm jiten\" (New Algorithm handbook\n\t  in C language) (Gijyutsu hyouron sha, Tokyo, 1991)\n\t  by Haruhiko Okumura.\n\n\t* missing/lgamma_r.c: ditto.\n\n\t* LEGAL (missing/tgamma.c): describe as public domain.\n\t  (missing/lgamma_r.c): ditto.\n\nThu Feb  7 09:05:57 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_enc_from_index): BINARY does not\n\t  have in-bound encoding index.\n\nThu Feb  7 04:26:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/korean.c: add EUC-KR conversion support by Park Ji-In.\n\t  [ruby-dev:33621]\n\nWed Feb  6 01:47:39 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_flatten): do not flatten recursively by default.\n\t  [ruby-dev:33603]\n\nWed Feb  6 00:50:19 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insns.def (adjuststack): never use INC_SP with minus value because\n\t  some compilers cannot deal it correctly. use DEC_SP instead.\n\nWed Feb  6 00:48:41 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_hash.rb: add tests to achieve over 90% test coverage\n\t  of hash.c.\n\n\t* test/ruby/test_env.rb: ditto.\n\nWed Feb  6 00:24:49 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* hash.c (env_rassoc): remove access to free'd environment on mswin32.\n\nTue Feb  5 21:57:34 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* vm.c (rb_call_super): pass a passed block when super is called via\n\t  rb_call_super.  [ruby-dev:33598]\n\nTue Feb  5 11:14:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (INSTALL_DIRS, install_dirs): added BINDIR.\n\n\t* lib/mkmf.rb (install_files): rejects files matching to\n\t  $NONINSTALLFILES.\n\n\t* lib/mkmf.rb (init_mkmf): defaults $NONINSTALLFILES to backup and\n\t  temporary files.\n\nMon Feb  4 21:52:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/delegate.rb (DelegateClass): use define_method instead of\n\t  module_eval to improve performance.  [ruby-dev:33586]\n\nMon Feb  4 16:44:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (darwin): NSIG is not defined if _XOPEN_SOURCE > 500L.\n\t  [ruby-dev:33584]\n\nMon Feb  4 14:51:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_enc_symname2_p): support \"!\", \"!=\" and \"!~\".\n\t  [ruby-dev:33592]\n\nMon Feb  4 13:58:42 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator.preserved, DelegateClass.methods): extend\n\t  shouldn't be delegated. [ruby-dev:32987], etc.\n\nMon Feb  4 08:59:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::[]): no more transition\n\t  extend(CGI::Value).  a patch from <tommy AT tmtm.org> in\n\t  [ruby-dev:33583].\n\nSun Feb  3 21:13:13 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_numeric.rb: forgot to add this (at r15360).\n\n\t* test/ruby/test_file_exhaustive.rb: add tests to achieve over 80% test\n\t  coverage of file.c.\n\nSat Feb  2 20:06:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/benchmark.rb (Benchmark::realtime): make Benchmark#realtime\n\t  a bit faster.  a patch from Alexander Dymo <dymo AT ukrpost.ua> in\n\t  [ruby-core:15337].\n\nSat Feb  2 17:40:21 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* time.c (time_cmp): Time.<=> no longer supports comparison with\n\t  numeric. [ruby-core:15332]\n\nSat Feb  2 09:53:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (darwin): disabled fat-binary support which confuses\n\t  configure much, since ``universal'' implies hidden cross-compiling.\n\t  TODO: ruby and libruby.bundle might be possible to bound with `lipo'\n\t  after builds for each archs.  Anyway, config.h and rbconfig.rb must\n\t  be separated definitely at least.\n\nSat Feb  2 09:28:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* random.c (limited_big_rand): fix buffer overflow when SIZEOF_BDIGITS\n\t  is 2.  fixed by Kenta Murata.  [ruby-dev:33565]\n\nFri Feb  1 21:42:37 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (darwin): _XOPEN_SOURCE is necessary to make ucontext_t\n\t  consistent with the library implementation of MacOS X 10.5.\n\t  [ruby-dev:33461]\n\n\t* configure.in (darwin): ucontext on PowerPC MacOS X 10.5 is broken.\n\nFri Feb  1 11:44:22 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb (C_ESC): use octal escape to avoid\n\t  \"\\x09for (;;) ...\" to be interpret the first character 0x9f.\n\nThu Jan 31 23:06:42 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_bignum.rb: suppress warnings during test.\n\n\t* test/ruby/test_enum.rb: ditto.\n\n\t* test/ruby/test_integer.rb: add tests to achieve over 90% test\n\t  coverage of numeric.c.\n\n\t* test/ruby/test_float.rb: ditto.\n\n\t* test/ruby/test_fixnum.rb: ditto.\n\n\t* test/ruby/test_numeric.rb: ditto.\n\n\t* test/ruby/test_pack.rb: add tests to achieve over 90% test coverage\n\t  of pack.c.\n\nThu Jan 31 17:30:42 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* marshal.c (r_object0): no need to call r_entry for immediate values.\n\nThu Jan 31 15:46:30 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/ri/formatter.rb (output): add accessor.\n\n\t* lib/rdoc/ri/display.rb (page): replace @formatter.output instead of\n\t  $stdout.\n\nThu Jan 31 15:06:50 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* marshal.c (r_object0): call r_entry/r_leave to call proc when\n\t  TYPE_FIXNUM, TYPE_NIL, TYPE_TRUE, TYPE_FALSE, TYPE_SYMBOL.\n\nThu Jan 31 14:03:38 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/ri/display.rb (display_method_list, display_class_list):\n\t  use @formatter.raw_print_line instead of puts.\n\n\t* lib/rdoc/ri/driver.rb (select_methods): new method to collect all\n\t  instance/class methods which match with passed pattern.\n\n\t* lib/rdoc/ri/driver.rb (run): use class_cache's result directly\n\t  instead of select_classes' because it's removed now.\n\n\t* lib/rdoc/ri/driver.rb (run): search methods when passed name is not\n\t  class name. [ruby-core:15309]\n\nThu Jan 31 08:31:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (ext/extmk.rb, instruby.rb): inlined $(MAKE) so that can\n\t  be executed even with -n.\n\nThu Jan 31 06:24:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_close_read): replaces fptr with the tied writer if\n\t  duplex.\n\n\t* io.c (rb_io_close_write): unties the tied IO for writing if duplex.\n\t  [ruby-dev:33532]\n\nThu Jan 31 02:22:04 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (open_key_args): allow encoding key to take two encoding\n\t  names.  a patch from <rubikitch AT ruby-lang.org>.  [ruby-dev:33540]\n\nThu Jan 31 02:15:49 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (dsym): allow empty symbols.  [ruby-core:15248]\n\nThu Jan 31 00:01:51 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (select_internal): fix SEGV by `select [STDIN],nil,[STDIN]'.\n\t  fixed by Petr Chromec.\n\t  http://rubyforge.org/tracker/index.php?func=detail&aid=17275&group_id=426&atid=1698\n\nWed Jan 30 17:32:49 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/*.c: add GB12345, UCS-{2,4}{BE,LE}.\n\nWed Jan 30 14:32:18 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/ri/driver.rb (cache_file_for): shouldn't use `:' in filename.\n\nWed Jan 30 14:27:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_succ): use wrapped character as a carry for\n\t  ASCII incompatible encoding.\n\nWed Jan 30 12:26:59 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/utf_16be.c (UTF16_IS_SURROGATE_FIRST): avoid branch.\n\t  (UTF16_IS_SURROGATE_SECOND): ditto.\n\t  (UTF16_IS_SURROGATE): defined.\n\t  (utf16be_mbc_enc_len): validation implemented.\n\n\t* enc/utf_16le.c (UTF16_IS_SURROGATE_FIRST): avoid branch.\n\t  (UTF16_IS_SURROGATE_SECOND): ditto.\n\t  (UTF16_IS_SURROGATE): defined.\n\t  (utf16le_mbc_enc_len): validation implemented.\n\nWed Jan 30 12:06:43 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* bignum.c (rb_cstr_to_inum): '0_2' is a valid representation.\n\nWed Jan 30 11:57:50 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* bootstraptest/runner.rb: fix -I../../hoge case.\n\nWed Jan 30 01:25:16 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_range.rb: add tests to achieve over 90% test coverage\n\t  of range.c.\n\nWed Jan 30 00:09:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/euc_tw.c (euctw_mbc_enc_len): validation implemented.\n\nTue Jan 29 22:58:11 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_enumerator.rb: add tests to achieve over 90% test\n\t  coverage of enumerator.c.\n\n\t* test/ruby/test_enum.rb: add for enum.c.\n\nTue Jan 29 22:29:48 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* enumerator.c: fix documents.\n\nTue Jan 29 22:27:11 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* range.c: fix SEGV by (\"a\" .. \"z\").step(2 ** 30) { }.\n\nTue Jan 29 21:59:16 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/euc_tw.c (euctw_islead): 0x8e is a leading byte.\n\nTue Jan 29 21:55:35 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bignum.c: move object allocation out of blocking_region.\n\t  [ruby-dev:33139]\n\nTue Jan 29 20:37:36 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/make_transdb.rb: add for make transdb.h.\n\n\t* dmytranscode.c: add for miniruby.\n\n\t* enc/gbk.c (gbk_left_adjust_char_head, gbk_is_allowed_reverse_match):\n\t  fix odd regexp match. [ruby-dev:33502]\n\nTue Jan 29 20:17:06 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32}/Makefile.sub (MINIOBJS): add dmytranscode.$(OBJEXT).\n\nTue Jan 29 19:39:40 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* configure.in, common.mk: fix rule for dmytranscode.o.\n\nTue Jan 29 19:03:16 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/trans/japanese.c (rb_to_Windows_31J): to 'Windows-31J'.\n\n\t* common.mk: add rules for transdb.h.\n\n\t* transcode.c (init_transcoder_table): use transdb.h.\n\nTue Jan 29 18:05:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (encdb_{replicate,alias,dummy,declare}): define only if\n\t  NO_ENCDB_H is not defined.\n\nTue Jan 29 17:54:11 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/gbk.c (EncLen_gbk): too short. [ruby-dev:33497]\n\nTue Jan 29 17:25:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* dmyencoding.c, encoding.c (enc_init_db, NO_ENCDB_H):\n\t  miniruby doesn't use encdb.\n\n\t* common.mk: encdb.h use miniruby.\n\nTue Jan 29 17:37:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/gb18030.c (gb18030_mbc_enc_len): validation implemented.\n\nTue Jan 29 17:01:07 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* tool/ifchange: remove $temp when unchanged.\n\nTue Jan 29 16:59:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* insns.def (toregexp): generate a regexp from strings instead of one\n\t  string.\n\n\t* re.c (rb_reg_new_ary): defined for toregexp.  it concatenates\n\t  strings after each string is preprocessed.\n\n\t* compile.c (compile_dstr_fragments): split from compile_dstr.\n\t  (compile_dstr): call compile_dstr_fragments.\n\t  (compile_dregx): defined for dynamic regexp.\n\t  (iseq_compile_each): use compile_dregx for dynamic regexp.\n\n\t  [ruby-dev:33400]\n\nTue Jan 29 16:25:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk, ext/extmk.rb: always make encdb.h.\n\nTue Jan 29 12:53:39 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/gbk.c: add GBK, CP936 and CP949.\n\n\t* enc/euc_kr.c: remove CP949.\n\n\t* enc/euc_cn.c: remove CP936 and rename to gb2312.c\n\n\t* enc/gb2312.c: GB2312 is preferred MIME name.\n\nTue Jan 29 03:01:29 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (reg_fragment_setenc_gen): US-ASCII script special code.\n\n\t* parse.y (reg_fragment_check_len, reg_compile_gen): no need such\n\t  trick.\n\t  [ruby-dev:33399]\n\n\t* test/ruby/test_m17n.rb (test_regexp_usacii_literal): add tests.\n\nTue Jan 29 01:38:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk ($(srcdir)/revision.h): no need to show ifchange execution\n\t  because ifchange echos updated or unchanged.\n\nTue Jan 29 01:26:23 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (up): use last changed revision.\n\n\t* common.mk (up): force to update revision.h.\n\nTue Jan 29 00:12:17 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): should be US-ASCII.\n\nTue Jan 29 00:10:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-mode-set-encoding): updates magic comment.\n\nMon Jan 28 23:47:52 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* parse.y (rb_id2str, ripper_initialize, Init_ripper):\n\t  use rb_usascii_str_new2. [ruby-dev:33449]\n\nMon Jan 28 19:37:08 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c (ole_cp2encoding): new function.\n\n\t* ext/win32ole/win32ole.c (ole_wc2vstr, ole_variant2val, fole_missing):\n\t  set encoding to result.\n\n\t* ext/win32ole/win32ole.c (fole_s_set_code_page, Init_win32ole): set\n\t  default encoding.\n\t  [ruby-dev:33433]\n\nMon Jan 28 11:17:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c, parse.y, re.c: use rb_ascii8bit_encoding.\n\nMon Jan 28 17:54:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/utf_7.h: add dummy encoding UTF-7 and its alias CP65000.\n\nMon Jan 28 17:41:19 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/utf_8.c: add alias CP65001.\n\nMon Jan 28 15:33:23 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/big5.c (big5_mbc_enc_len): validation implemented.\n\nMon Jan 28 13:02:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/euc_kr.c (euckr_mbc_enc_len): validation implemented.\n\nMon Jan 28 11:24:49 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_str_new): encoding of UTF-8 literal string in\n\t  US-ASCII script is UTF-8. [ruby-dev:33406]\n\nMon Jan 28 10:25:59 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_m17n.rb (test_magic_comment): add test.\n\nMon Jan 28 09:34:54 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (help): use double quotes for nmake.\n\nMon Jan 28 00:39:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_set_encode): check if encoding is ASCII compatible.\n\nMon Jan 28 01:21:15 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_open_file): should check NUL in path.\n\t  <http://www.rubyist.net/~matz/20080125.html#c01>.\n\n\t* io.c (rb_io_s_popen): ditto.\n\n\t* io.c (rb_io_reopen): ditto.\n\n\t* io.c (next_argv): ditto.\n\nSun Jan 27 23:33:35 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): fix for left justify flag.\n\n\t* sprintf.c (rb_str_format): zero-precision zero bug revised.\n\t  [ruby-dev:33419]\n\nSun Jan 27 23:20:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h: precise mbclen API redesigned to avoid\n\t  inline functions.\n\t  (onigenc_mbclen_charfound): removed.\n\t  (onigenc_mbclen_needmore): removed.\n\t  (onigenc_mbclen_recover): removed.\n\t  (ONIGENC_MBCLEN_CHARFOUND): removed.\n\t  (ONIGENC_MBCLEN_CHARFOUND_P): defined.\n\t  (ONIGENC_MBCLEN_CHARFOUND_LEN): defined.\n\t  (ONIGENC_MBCLEN_INVALID): removed.\n\t  (ONIGENC_MBCLEN_INVALID_P): defined.\n\t  (ONIGENC_MBCLEN_NEEDMORE): removed.\n\t  (ONIGENC_MBCLEN_NEEDMORE_P): defined.\n\t  (ONIGENC_MBCLEN_NEEDMORE_LEN): defined.\n\t  (ONIGENC_MBC_ENC_LEN): use onigenc_mbclen_approximate.\n\n\t* regenc.c (onigenc_mbclen_approximate): defined.\n\n\t* include/ruby/encoding.h (MBCLEN_CHARFOUND): removed.\n\t  (MBCLEN_INVALID): removed.\n\t  (MBCLEN_NEEDMORE): removed.\n\t  (MBCLEN_CHARFOUND_P): defined.\n\t  (MBCLEN_INVALID_P): defined.\n\t  (MBCLEN_NEEDMORE_P): defined.\n\t  (MBCLEN_CHARFOUND_LEN): defined.\n\t  (MBCLEN_NEEDMORE_LEN): defined.\n\n\t* encoding.c: use new API.\n\n\t* re.c: ditto.\n\n\t* string.c: ditto.\n\n\t* parse.y: ditto.\n\nSun Jan 27 22:55:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (value_expr_gen): reverted r12880.  [ruby-dev:33388]\n\nSun Jan 27 22:33:39 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): fix for octal with precision.\n\t  [ruby-dev:33411]\n\nSun Jan 27 22:31:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-mode-set-encoding): automatically insert\n\t  encoding magic comment.\n\n\t* misc/ruby-mode.el (ruby-mode): set ruby-mode-set-encoding to buffer\n\t  local before-save-hook.\n\nSun Jan 27 19:51:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_inspect): avoid exception by\n\t  \"\\#\\xa1\".force_encoding(\"euc-jp\").inspect.\n\nSun Jan 27 19:07:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_succ): warning suppressed.\n\nSun Jan 27 18:18:13 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk (help): show major targets.\n\nSun Jan 27 17:54:48 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c: raise error when no output encoding is given.\n\nSun Jan 27 17:20:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_succ): don't increment/decrement codepoint.\n\nSun Jan 27 16:03:42 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex#buf_input): use chars.to_a.\n\nSun Jan 27 16:27:22 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8: update nkf.\n\nSun Jan 27 16:25:27 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* re.c (rb_reg_source): set encoding as regexp encoding.\n\nSun Jan 27 05:56:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_preprocess): force fixed encoding when ASCII\n\t  incompatible source string.\n\nSat Jan 26 23:46:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): zero-precision zero should be empty.\n\t  [ruby-dev:33363]\n\n\t* sprintf.c (rb_str_format): not prepend octal prefix to negative or\n\t  zero value.  [ruby-dev:33363], [ruby-dev:33367]\n\nSat Jan 26 23:42:15 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (assignable_gen, keyword_to_name): __ENCODING__ was missing.\n\nSat Jan 26 19:08:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (w_object): dump string encoding in USERDEF.\n\t  [ruby-dev:33401]\n\nSat Jan 26 17:42:23 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): validate argument expr of \"next\"\n\t  statement.\n\n\t* bootstraptest/test_syntax.rb: add a test.\n\nSat Jan 26 17:22:46 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, compile.h: fix to calculate correct stack depth\n\t   at each instruction.\n\nSat Jan 26 09:41:02 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/rexml/doctype.rb, test/rss/test_maker_itunes.rb: replace\n\t  multi-byte string.\n\n\t* test/json/{test_json.rb, test_json_unicode.rb}:\n\t  add magic comment.\n\nSat Jan 26 09:30:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_usascii_encindex): added prototype.\n\n\t* include/ruby/intern.h (rb_usascii_str_new, rb_usascii_str_new2):\n\t  ditto.\n\nSat Jan 26 09:17:13 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_new): set US-ASCII and ENC_CODERANGE_7BIT when\n\t  empty string (len == 0).\n\nSat Jan 26 03:41:53 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_initialize): set default script encoding as US-ASCII.\n\n\t* ruby.c (load_file): ditto.\n\n\t* ruby.c (process_options): set script encoding of -e from locale\n\t  except when -K is specified.\n\n\t* ruby.c (load_file): set script encoding of stdin from locale except\n\t  when -K is specified. [ruby-dev:33375]\n\nSat Jan 26 02:51:06 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, compile.h: fix stack pointer issues.\n\t  calculate correct stack depth at compile time.\n\n\t* insns.def (emptstack): remove it and add a new insn \"adjuststack\".\n\n\t* bootstraptest/test_knownbug.rb: move/remove fixed test.\n\n\t* bootstraptest/test_syntax.rb: ditto.\n\nSat Jan 26 00:17:18 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* string.c (rb_str_usascii_new{,2}: defined.\n\t  (rb_str_new): set US-ASCII and ENC_CODERANGE_7BIT when empty\n\t  string.\n\n\t* encoding.c (rb_usascii_encoding, rb_usascii_encindex): defined.\n\t  (rb_enc_inspect, enc_name, rb_locale_charmap, rb_enc_name_list_i):\n\t  use rb_str_ascii_new.\n\n\t* array.c (recursive_join, inspect_ary): ditto.\n\n\t* object.c (nil_to_s, nil_inspect, true_to_s, false_to_s,\n\t  rb_mod_to_s): ditto.\n\n\t* hash.c (inspect_hash, rb_hash_inspect, rb_f_getenv, env_fetch,\n\t  env_clear, env_to_s, env_inspect): ditto.\n\n\t* numeric.c (flo_to_s, int_chr, rb_fix2str): ditto.\n\n\t* bignum.c (rb_big2str): ditto.\n\n\t* file.c (rb_file_ftype, rb_file_s_dirname, rb_file_s_extname,\n\t  file_inspect_join, Init_file): ditto.\n\n\t* test/ruby/test_ruby_m17n.rb: add checks for encoding of string.\n\nSat Jan 26 01:35:46 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (r_byte): use getbyte instead of getc.\n\t  (marshal_load): ditto.\n\t  [ruby-dev:33264]\n\nSat Jan 26 00:43:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_getline_fast): don't care ASCII incompatible encoding.\n\t  (prepare_getline_args): generate a newline according to IO encoding\n\t  when necessary.\n\t  (rb_io_getline_1): call rb_io_getline_fast only for ASCII\n\t  compatible encoding.\n\nFri Jan 25 21:49:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_buf_cat_ascii): use rb_enc_cr_str_buf_cat.\n\nFri Jan 25 19:38:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (version.$(OBJEXT)): depends on $(srcdir)/revision.h.\n\n\t* common.mk (revision.h): extracts revision number with ``svn info''.\n\n\t* common.mk (up): target to update from the repository.\n\n\t* Makefile.in, {win,bcc}32/Makefile.sub (IFCHANGE): tool to update a\n\t  file if changed.\n\n\t* tool/ifchange: for unixen.\n\n\t* win32/ifchange.bat: some fix\n\nFri Jan 25 17:12:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file): set default to ASCII-8BIT explicitly if -K\n\t  option is not given.\n\nFri Jan 25 16:31:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_str_buf_cat_ascii): declared.\n\n\t* string.c (rb_str_buf_cat_ascii): defined.\n\n\t* re.c (rb_reg_s_union): use rb_str_buf_cat_ascii to support ASCII\n\t  incompatible encoding.\n\nFri Jan 25 16:11:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options, load_file, rb_load_file): propagates script\n\t  encoding by -K to libraries.  [ruby-dev:33156]\n\nFri Jan 25 15:56:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (cmdline_arguments): split argc and argv from cmdline_options.\n\n\t* ruby.c (process_options): not set encoding of -e option from -E\n\t  option if they are not compatible.\n\nFri Jan 25 13:15:23 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (proc_options, process_options, load_file): shouldn't effect\n\t  --encoding to script encoding. [ruby-dev:33169]\n\nFri Jan 25 10:31:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* */*.bat: set svn:mime-type to text/batch.\n\nThu Jan 24 23:23:06 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* enum.c (enum_one, enum_take_while, enum_drop_while): fix documents.\n\nThu Jan 24 21:46:24 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (reg_fragment_setenc_gen): associate ASCII-8BIT only if\n\t  str has only ASCII characters.\n\nThu Jan 24 20:46:17 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_m17n.rb: follow to the following changes.\n\nThu Jan 24 20:21:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parser.y (parser_str_new): automatically update string literal's\n\t  encoding from US-ASCII to ASCII-8BIT when script encoding is US-ASCII\n\t  and the string includes non-ascii bytes. [ruby-dev:33348]\n\n\t* parser.y (reg_fragment_check_gen, reg_compile_gen): automatically\n\t  update regexp literal's encoding from US-ASCII to ASCII-8BIT when\n\t  script encoding is US-ASCII, the regexp has no kcode option and the\n\t  regexp includes non-ascii bytes. [ruby-dev:33353]\n\nThu Jan 24 19:36:22 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic::inspect): use Kernel#to_s instead\n\t  object_id with printf.  [ruby-dev:33347]\n\nThu Jan 24 19:29:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (remove_sign_bits): returns pointer to the first char to\n\t  be used, instead of copying.\n\n\t* sprintf.c (rb_str_format): negative indicator dots should come\n\t  before sign digits always.  [ruby-dev:33224]\n\nThu Jan 24 18:19:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_enc_is_newline): parenthesized arguments.\n\nThu Jan 24 18:14:14 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* re.c (rb_reg_fixed_encoding_p): no need to treat ASCII-8BIT specially.\n\nThu Jan 24 16:53:06 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): 7bit clean regexp should be US-ASCII.\n\t  [ruby-dev:33346]\n\nThu Jan 24 16:31:04 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_getline_fast): the end point of left_char_head()\n\t  must be the last character.  [ruby-cvs:22445]\n\nThu Jan 24 16:24:25 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (reg_fragment_setenc_gen): recognize regexp with option n as\n\t  as ASCII-8BIT instead of US-ASCII. [ruby-dev:33339]\n\nThu Jan 24 15:44:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (collect_bang_i): use rb_ary_store() to avoid potential\n\t  memory corruption.  a patch from Yusuke Endoh <mame@tsg.ne.jp>\n\t  in [ruby-dev:33328].\n\n\t* array.c (ITERATE): remove unnecessary macro.\n\n\t* array.c (sort_1): remove ary_sort_check().  in-place sort keep\n\t  original elements even when it's modified.\n\n\t* array.c (sort_2): ditto.\n\nThu Jan 24 15:09:40 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (make_time_t): revert round trip test.  [ruby-dev:33058]\n\nThu Jan 24 11:14:56 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_enc_cr_str_buf_cat): ASCII incompatible encoding is\n\t  not compatible with any other encoding.\n\nThu Jan 24 07:34:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* parse.y (STR_NEW0): set encoding as US-ASCII.\n\nThu Jan 24 03:47:41 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/rexml/text.rb, lib/rubygems/open-uri.rb, lib/open-uri.rb,\n\t  test/logger/test_logger.rb, test/ruby/test_regexp.rb:\n\t  fix tests. [ruby-dev:33336]\n\nThu Jan 24 03:23:44 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_each_line): use memchr(3) for faster newline\n\t  search.\n\n\t* io.c (appendline): remove unused arguments\n\n\t* io.c (rb_io_getline_fast): make much simpler (and faster).\n\nThu Jan 24 02:13:07 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* insns.def (expandarray): fix stack inc.  [ruby-dev:32892]\n\n\t* bootstraptest/test_knownbug.rb, test_massign.rb: move a fixed test.\n\nThu Jan 24 01:00:34 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.{c, h} (rb_usascii_encoding): added.\n\n\t* parse.y (parser_str_new, rb_intern3): ascii only string literal is\n\t  US-ASCII.\n\n\t* ruby.c (proc_optionc): -Kn means ASCII-8BIT.\n\nWed Jan 23 23:54:40 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* sprintf.c: fix comment.  [ruby-dev:33275]\n\n\t* math.c: fix comment.  [ruby-dev:33276]\n\nWed Jan 23 22:47:34 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_struct.rb: add tests to achieve over 90% test\n\t  coverage of struct.c.\n\n\t* test/ruby/test_sprintf.rb: ditto for sprintf.c.\n\n\t* test/ruby/test_math.rb: ditto for math.c.\n\nWed Jan 23 22:14:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/trans/japanese.c (rb_from_Windows_31J, rb_to_Windows_31J):\n\t  provisional workaround for Windows-31J.  [ruby-dev:33320]\n\nWed Jan 23 15:25:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_strftime): copy encoding from format.  [ruby-dev:33303]\n\nWed Jan 23 15:04:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_make_independent): should set length.\n\n\t* string.c (rb_str_associate): hide associated array from ObjectSpace.\n\n\t* string.c (rb_str_associated): return associated array with freezing\n\t  instead of false.  [ruby-dev:33282]\n\n\t* string.c (rb_str_freeze): freeze associated array together.\n\nWed Jan 23 13:39:48 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_prepare_re): fix SEGV by\n\t  /a/ =~ \"aa\".force_encoding(\"utf-16be\").\n\nWed Jan 23 11:53:26 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_mod_check, str_nth, str_offset): constified.\n\n\t* string.c (rb_str_dump): dump in ASCII-8BIT always.\n\nWed Jan 23 10:18:10 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_method.c (rb_export_method): set ruby_vm_redefined_flag for\n\t  visibility change as well.  reported by K.Kosako in\n\t  http://d.hatena.ne.jp/kkos/20080122#1201012720.\n\nTue Jan 22 22:26:23 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_bignum.rb: change some tests because rational\n\t  redefines Bignum#quo and Bignum#**.\n\nTue Jan 22 20:58:15 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): need to output sodir rule.\n\nTue Jan 22 19:37:16 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): lib files shouldn't depend on install\n\t  dir because if the dir is newer than lib files, lib files will be\n\t  always copied.\n\nTue Jan 22 17:52:52 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/utf_16_32.c: Streamline parentheses, add more\n\t  'static' qualifiers.\n\nTue Jan 22 12:57:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in (MINIRUBY): remove -I$(EXTOUT)/$(arch) from\n\t  MINIRUBY since miniruby might not be able to load DLL.\n\n\t* test/ruby/test_m17n.rb: move tests from bootstrap test.\n\n\t* encoding.c (enc_find): should check name if ASCII compatible.\n\n\t* string.c (rb_str_end_with): should check character boundary.\n\n\t* encoding.c (rb_enc_compatible): encoding must be ASCII\n\t  compatible before checking ENC_CODERANGE_7BIT.\n\n\t* encoding.c (rb_enc_compatible): wrong compatibility condition.\n\t  [ruby-dev:33273]\n\nTue Jan 22 09:26:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_each_char): iterates over a shadow.\n\t  [ruby-dev:33243]\n\nTue Jan 22 08:59:52 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/formatter.rb:  Indent labeled lists like note lists.\n\n\t* test/rdoc/test_rdoc_ri_overstrike_formatter.rb:  Added.\n\n\t* test/rdoc/test_rdoc_ri_formatter.rb:  Added tests.\n\nTue Jan 22 04:40:28 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (rb_intern3): do not call rb_enc_mbclen() if *m is\n\t  ASCII.  [ruby-talk:287225]\n\n\t* string.c (rb_str_each_line): use rb_enc_is_newline() to gain\n\t  performance if the record separator ($/) is not modified.\n\nTue Jan 22 01:15:51 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* ChangeLog: format-time-string under C locale. [ruby-dev:33261]\n\nTue Jan 22 00:45:12 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* test/ruby/test_bignum.rb: add tests for bignum.c.\n\nTue Jan 22 00:30:08 2008  Yusuke Endoh  <mame@tsg.ne.jp>\n\n\t* bignum.c (big_shift): fix a bug that caused infinite loop when\n\t  left shifting.\n\nMon Jan 21 20:09:38 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (marshal_load): initialize the cache.\n\nMon Jan 21 19:42:42 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c, enc/trans/utf_16_32.c, test/ruby/test_transcode.rb:\n\t  added UTF-32BE and UTF-32LE conversions.\n\nMon Jan 21 14:36:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (str_transcode): initialize transcoder in\n\t  rb_transcoding.  [ruby-dev:33234]\n\n\t* transcode_data.h (rb_transcoding): transcoder constified.\n\nMon Jan 21 12:50:02 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c, gc.c (setjmp): sigsetjmp is a macro on cygwin.\n\nMon Jan 21 12:35:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_loop, str_transcoding_resize): use unsigned\n\t  char.  [ruby-dev:33232]\n\n\t* transcode_data.h (rb_transcoding, rb_transcoder): removed callback\n\t  parameters.\n\n\t* enc/trans/japanese.c: ditto.\n\n\t* enc/trans/utf_16_32.c: parenthesized bit-or operands.\n\nMon Jan 21 11:59:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_each_char): move forward.  [ruby-dev:33231]\n\nMon Jan 21 06:40:03 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_dispatch): constified return value.\n\n\t* transcode_data.h (rb_transcoding): include pointer to rb_transcoder\n\t  and auxiliary data.\n\n\t* transcode_data.h (rb_transcoder): all callback functions should have\n\t  their own parameters.\n\n\t* enc/trans/{japanese,single_byte}.c: constified.\n\nMon Jan 21 03:45:49 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_each_char): advance offset before get next char\n\t  length.  [ruby-dev:33211]\n\nSun Jan 20 20:00:20 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c, enc/trans/utf_16_32.c, test/ruby/test_transcode.rb:\n\t  added UTF-16LE conversions.\n\n\t* fixed changelog for last commit\n\nSun Jan 20 17:54:00 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* added changelog for last commit\n\nSun Jan 20 15:08:08 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/trans/utf_16_32.c: new file, currently implementing\n\t  UTF-16BE conversions only.\n\n\t* test/ruby/test_transcode.rb: Added tests for UTF-16BE;\n\t  made check_both_ways() use force_encoding differently.\n\n\t* transcode_data.h, transcode.c: Support for more conversion\n\t  functions.\n\nSun Jan 20 13:06:01 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_each_char): performance improvement, and stop if\n\t  shortened in the block.  [ruby-dev:33189]\n\nSun Jan 20 09:12:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* common.mk: use -Ks when read insns.def. [ruby-dev#33185]\n\n\t* parse.y: fix -e and stdin strings aren't set encoding.\n\nSun Jan 20 05:12:44 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/make_encdb.rb: fix duplication check.\n\nSun Jan 20 05:03:46 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ascii.c: remove definition of replica KOI8-U.\n\nSun Jan 20 00:33:59 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/koi8_u.c: added.\n\n\t* regenc.c, enc/utf_8.c, enc/unicode.c, enc/gb18030.c: add ARG_UNUSED.\n\nSat Jan 19 22:41:39 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (coderange_scan): don't call mbclen functions for ASCII\n\t  characters with ASCII compatible encoding.\n\nSat Jan 19 21:00:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/rdoc/template.rb (RDoc): defined to avoid uninitialized constant\n\t  error by `./ruby test/rubygems/test_gem_server.rb'.\n\nSat Jan 19 20:41:29 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (enc_new): don't free rb_encoding to avoid SEGV by\n\t  `miniruby -e exit' on x86_64 GNU/Linux.\n\nSat Jan 19 18:40:19 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (once): use an instance variable which points a hash\n\t  as cache. [experimental]\n\nSat Jan 19 17:21:29 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: parse's hints as an\n\t  experimental function has been removed.\n\nSat Jan 19 11:21:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (sigsetjmp): check if available.\n\n\t* eval.c, gc.c (setjmp): do not use _setjmp if sigsetjmp is available.\n\nSat Jan 19 11:10:11 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: Remove wrong assumptions about Cygwin.  a patch from\n\t  Corinna Vinschen in [ruby-Bugs-17018].\n\nSat Jan 19 09:23:14 2008  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_set_safe_array): should not use\n\t  recursive calling.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\nSat Jan 19 08:58:47 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/markup: Remove ListBase and Line constants.\n\n\t* lib/rdoc/ri: Allow output IO to be specified.\n\n\t* test/rdoc/parser/test_parse_c.rb: Move up one level, fixed.\n\n\t* test/rdoc/parser/test_rdoc_markup_attribute_manager.rb: Renamed to\n\t  match new class name, updated to match new classes.\n\n\t* test/rdoc/test_rdoc_ri_formatter.rb: Start of RI formatting tests.\n\n\t* test/rdoc/test_rdoc_ri_attribute_manager.rb: Start of\n\t  RDoc::RI::AttributeManager tests.\n\n\t* test/rdoc/test_simple_markup.rb: Moved to match new class name.\n\nSat Jan 19 08:35:36 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_prepare): get encoding from the first line.\n\t  [ruby-dev:33168]\n\n\t* ruby.c (load_file): set encoding to input with set_encoding.\n\nSat Jan 19 03:46:42 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (thread_create_core): prohibit thread creation in the\n\t  frozen thread group.  a patch in [ruby-dev:33176] from sheepman\n\t  <sheepman AT sheepman.sakura.ne.jp>.\n\n\t* thread.c (thread_create_core): should inherit ThreadGroup from\n\t  the current thread.\n\nSat Jan 19 00:37:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): set result encoding for wider width.\n\nSat Jan 19 00:13:19 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.c (w32_wait_events): shouldn't invoke interrupt handle\n\t  by timer_thread.\n\nFri Jan 18 23:49:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_create_core): set thread group before creating\n\t  thread.\n\nFri Jan 18 20:19:51 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (ripper_initialize): too early to set parser->enc.\n\nFri Jan 18 20:03:05 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/setup.mak (BASERUBY): nmake cannot execute ruby correctly\n\t  if the path of ruby.exe is quoted.\n\n\t* win32/setup.mak ($(ARCH)): if a macro is appended by $(APPEND),\n\t  a space will be inserted on the top of the line.\n\nFri Jan 18 17:56:09 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_intern.h, insnhelper.h, thread_pthread.h, vm_core.h, vm_opts.h:\n\t  prefixed include guards with RUBY.\n\n\t* id.h: added include guard.\n\n\t* regenc.h, regint.h, regparse.h: prefixed include guards with\n\t  ONIGURUMA.\n\nFri Jan 18 15:57:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_cleanup_func): ignore errors from destroying mutex\n\t  of dead thread.  [ruby-core:15069]\n\n\t* thread_pthread.c, thread_win32.c (native_thread_destroy): ditto.\n\nFri Jan 18 15:56:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_name_list_i, rb_enc_aliases_enc_i): freeze\n\t  element strings to be returned.\n\nFri Jan 18 14:36:34 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_m17n.rb (test_str_dump): added test for\n\t  String#dump. [ruby-dev:33142]\n\nFri Jan 18 12:25:13 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (load_encoding): check if successfully loaded.\n\n\t* encoding.c (rb_enc_find_index): use original encoding name to\n\t  replicate loaded encoding instead alias.\n\nFri Jan 18 09:43:02 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* re.c (rb_char_to_option_kcode): Regexp switch `s' should mean\n\t  Windows-31J, as wells as `-Ks'.\n\nFri Jan 18 09:22:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_initialize): explicitly call rb_ascii8bit_encoding().\n\n\t* parse.y (parser_prepare): lex_input may not be have encoding (e.g. IO).\n\n\t* parse.y (rb_parser_compile_string): set encoding from input string.\n\n\t* encoding.c (rb_enc_find_index): use ASCII-8BIT if loading known\n\t  encoding failed.\n\n\t* parse.y (ripper_initialize): move parser->enc initialization.\n\n\t* encoding.c (rb_enc_aliases_enc_i): exclude non alias names from\n\t  Encoding.aliases.\n\n\t* encoding.c (rb_enc_find_index): use original encoding name to\n\t  load DLL.\n\nFri Jan 18 07:06:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (Init_IO): stdin/stdout may not be duplex.\n\nFri Jan 18 04:27:57 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* sample/rdoc/markup/rdoc2latex.rb:  Fix for new namespacing.\n\n\t* lib/rdoc/markup/to_latex.rb:  Fix namespacing.\n\nFri Jan 18 02:02:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/runner.rb (assert_valid_syntax): added.\n\n\t* bootstraptest/test_knownbug.rb: added test for [ruby-list:44479]\n\nFri Jan 18 01:48:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_insnhelper.c (vm_call_method): check argument number to\n\t  attr_reader.  [ruby-core:15120]\n\nFri Jan 18 00:49:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_check_readable): flush tied write IO too.\n\n\t* io.c (Init_IO): tie stdin with stdout.  [ruby-core:15107]\n\nFri Jan 18 00:23:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_free): removed since rb_encoding may be used while\n\t  cleanup.\n\nFri Jan 18 00:17:19 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/euc_cn.c: split from enc/euc_kr.c.\n\nFri Jan 18 00:03:54 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_init): use default external encoding\n\t  if nothing is given.  a patch from sheepman <sheepman AT\n\t  sheepman.sakura.ne.jp> in [ruby-dev:33159].\n\nThu Jan 17 23:56:20 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encdb.h): give output file name to make_encdb.rb.\n\n\t* encoding.c (enc_table): simplified.\n\n\t* encoding.c (enc_register_at): lazy loading.  [ruby-dev:33013]\n\n\t* regenc.h (ENC_DUMMY): added.\n\n\t* enc/make_encdb.rb: now emits macros only.\n\n\t* enc/iso_2022_jp.h: split from encoding.c.\n\nThu Jan 17 21:48:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_char_to_option_kcode): fixed typo.\n\nThu Jan 17 21:01:25 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (Date::Infinity#<=>): didn't work.  A patch from\n\t  Dirkjan Bussink <d.bussink AT gmail.com> [ruby-core:15098].\n\t  This is a bug obviously.  However it didn't affect the library's\n\t  functions.\n\n\t* lib/date.rb, lib/date/format.rb: some trivial changes.\n\nThu Jan 17 13:07:18 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_dump): preserve the encoding of source string\n\t  if it is ASCII compatible.  otherwise, add '.force_encoding()'\n\t  for ugly work around.  maybe we should implement some other way\n\t  to keep non ASCII encoding in dumped string.  [ruby-dev:33142]\n\nThu Jan 17 10:30:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fwrite): always flush IO on tty, even without newlines.\n\t  [ruby-core:15107]\n\nWed Jan 16 22:45:27 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_register_at): make own copy.  [ruby-dev:33136]\n\nWed Jan 16 18:03:10 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open, rb_io_s_popen): clear temporary object to release\n\t  and prevent from GC.\n\nWed Jan 16 17:55:07 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (fix_quo): typo. a patch from Shin-ichiro HARA\n\t  <sinara AT blade.nagaokaut.ac.jp> in [ruby-dev:33130]\n\nWed Jan 16 17:36:26 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/test_delegate.rb: add new test file for delegate.rb.\n\nWed Jan 16 16:14:00 2008  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ruby.1: Fix grammar.\n\nWed Jan 16 15:26:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (sys_fail2): get rid of unlimited alloca.\n\n\t* io.c (mode_enc, pipe_open, rb_io_s_popen): ditto.\n\n\t* load.c (rb_feature_p): ditto.\n\n\t* object.c (rb_cstr_to_dbl): ditto.\n\n\t* io.c (mode_enc): fixed uninitialized variable.\n\nWed Jan 16 12:51:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h (rb_str_tmp_new, rb_str_shared_replace):\n\t  prototype moved.\n\nTue Jan 15 23:52:51 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/*: add ARG_UNUSED.\n\n\t* enc/koi8_u.c: added.\n\nTue Jan 15 23:00:08 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/utf_{16,32}{be,le}.c: remove some ARG_UNUSED.  replace struct\n\t  OnigEncodingST by OnigEncoding.\n\nTue Jan 15 22:30:43 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (ENC_REGISTER): use &OnigEncoding*.\n\t  (ENCINDEX_UTF_8): renamed from ENCINDEX_UTF8.\n\t  (rb_enc_init): use ENC_REGISTER.\n\n\t* include/ruby/oniguruma.h (OnigEncodingUTF8, ONIG_ENCODING_UTF8):\n\t  removed.\n\n\t* enc/*.c: remove use of &encoding_*; use enc argument instead.\n\nTue Jan 15 18:44:46 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enc/utf_8.c: remove use of ONIG_ENCODING_UTF8 altogether; use\n\t  enc argument instead.\n\nTue Jan 15 18:05:26 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/utf_8.c (ONIG_ENCODING_UTF8): reverted.\n\nTue Jan 15 18:01:55 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (MKFILES): add dependencies.\n\nTue Jan 15 18:00:16 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enc/utf_8.c (OnigEncodingDefine): encoding name should be kept\n\t  unchanged.\n\nTue Jan 15 17:53:05 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/utf_8.c: renamed as IANA name.\n\n\t* enc/Makefile.in: ditto.\n\nTue Jan 15 16:59:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): encoding libraries cannot be loaded until\n\t  load path is set.\n\nTue Jan 15 15:09:28 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/setup.mak: strip out empty lines from CPP output.\n\nTue Jan 15 14:57:38 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {win,bcc}32/setup.mak (-basic-vars-): expand BASERUBY to full path\n\t  to get rid of ./ruby.exe.\n\n\t* win32/enc-setup.mak: workaround for Borland make.\n\nTue Jan 15 14:44:53 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_locale_charmap): use ASCII-8BIT in miniruby.\n\nTue Jan 15 13:54:41 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32}/Makefile.sub (RUNRUBY): need to set archdir when\n\t  invoking ruby.\n\nTue Jan 15 13:43:18 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (us_ascii.o): add dependencies. [ruby-dev:33111]\n\nTue Jan 15 03:41:42 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (eval): check if backtrace is empty.  [ruby-core:15040]\n\nTue Jan 15 01:28:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: simplified dummy objects dependencies.\n\nTue Jan 15 01:19:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (OBJS): moved encoding.o from COMMONOBJS.\n\n\t* common.mk (dmyencoding.o): added.  [ruby-dev:33099]\n\n\t* configure.in, {win,bcc}32/Makefile.sub (MINIOBJS): added\n\t  dmyencoding.o.\n\n\t* dmyencoding.c (rb_locale_charmap): returns nil for miniruby.\n\nTue Jan 15 00:05:50 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (appendline): specifying limit should not generate broken\n\t  byte sequence.  strings should be rounded.  [ruby-dev:33088]\n\nMon Jan 14 23:33:02 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (Kconv.tolocale): argument is str.\n\nMon Jan 14 23:31:05 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in (setup): add -I$(EXTOUT)/$(arch) to MINIRUBY.\n\n\t* bootstraptest/runner.rb (main): expand -I directory path.\n\nMon Jan 14 23:28:10 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/enc-setup.mak (BUILTIN_ENCOBJS): depends on enc/Makefile.in.\n\nMon Jan 14 22:48:16 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_char_to_option_kcode): use rb_enc_find_index() instead\n\t  of using fixed index value.\n\n\t* enc/Makefile.in (encsrcdir): make US-ASCII built-in.\n\nMon Jan 14 22:25:02 2008  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* golf_prelude.rb: Shorter method name completion.  Same method\n\t  used for const missing. do_while and do_until added.  Enumerator\n\t  gains all of Array's abilities. Ex:\n\t    '123'.m{|i|i*2} #=> \"112233\"\n\t    '123'.pe #=> '123'.perm*' ' #=> \"123 132 213 231 312 321\"\n\t  base on a patch from Darren Smith <darrenks AT ml1.net>.\n\nMon Jan 14 21:10:02 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enc/us_ascii.c: wrong alias name: ANSI_X3.4-1986.\n\n\t* rubytest.rb: add -I#{srcdir} to load encoding DLL.\n\nMon Jan 14 18:53:58 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c: clear thread structure.\n\t  (TODO: survey that child process should clear mutex or not).\n\n\t* bootstraptest/test_knownbug.rb, test_thread.rb: move a fixed test.\n\nMon Jan 14 18:43:38 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: add \"flunk\" method.\n\n\t* bootstraptest/test_knownbug.rb: fix to use flunk.\n\nMon Jan 14 18:10:59 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.h: remove dangerous assembler sentence.\n\nMon Jan 14 18:06:37 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_locale_encoding): return US-ASCII when charmap is\n\t  nil.\n\nMon Jan 14 16:12:58 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/shellwords.rb: scape should be an alias to shellescape.  a\n\t  patch from Masahiro Kawato <m-kawato AT mwb.biglobe.ne.jp> in\n\t  [ruby-dev:33060].\n\nMon Jan 14 16:09:16 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.1: a patch to describe --encoding.  a patch from Yugui\n\t  <yugui AT yugui.sakura.ne.jp> in [ruby-dev:33079].\n\n\t* ruby.c: ditto.\n\nMon Jan 14 13:49:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_prepare_re): initialize error message buffer.\n\t  (rb_reg_search): ditto.\n\t  (rb_reg_check_preprocess): ditto.\n\t  (rb_reg_new_str): ditto.\n\t  (rb_enc_reg_new): ditto.\n\t  (rb_reg_compile): ditto.\n\t  (rb_reg_initialize_m): ditto.\n\t  (rb_reg_s_union_m): ditto.\n\nMon Jan 14 12:33:07 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/markup*:  Renamespace from SM::SimpleMarkup to\n\t  RDoc::Markup.\n\nMon Jan 14 10:45:45 2008  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* enc/ascii.c: Exchanged order of arguments for one ENC_ALIAS\n\nMon Jan 14 09:19:07 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/time.rb: do not reference Time directly from the inside of\n\t  definitions. [ruby-dev:33059]\n\nMon Jan 14 05:44:44 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/*.c: add replicas and aliases.\n\n\t* enc/make_encdb.h: add duplicate and undefined check.\n\nMon Jan 14 02:03:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h: remove ONIG_ENCODING_* and OnigEncoding*\n\t  which are not builtin.\n\n\t* regenc.{c,h} (onigenc_mb2_code_to_mbclen, onigenc_mb4_code_to_mbclen):\n\t  fix prototype.\n\n\t* enc/big5.c, enc/euc_kr.c, enc/euc_tw.c, enc/gb18030.c,\n\t  enc/koi8_r.c, enc/windows_1251.c: imported from Oniguruma.\n\nSun Jan 13 22:47:28 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/make_encdb.h: sort encoding names by original name.\n\n\t* encoding.c, enc/*.c: define replicas and aliases.\n\nSun Jan 13 20:24:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c: add documents.\n\nSun Jan 13 18:41:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (Init_Encoding): moved initialization from encdb.h.\n\n\t* enc/make_encdb.rb (enc_name_list): constified.\n\n\t* enc/make_encdb.rb (enc_init_db): moved some functions to encoding.c.\n\nSun Jan 13 13:53:00 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (load_file): local variable was not initialized when -x flag\n\t  is given.\n\n\t* ruby.c (load_file): script files should not be affected by locale.\n\t  [ruby-dev:33054]\n\nSun Jan 13 12:01:32 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/generators*: Reorganize RDoc generators.\n\nSun Jan 13 11:41:11 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (ENCINDEX_EUC_JP, ENCINDEX_SJIS): removed.\n\t  (rb_enc_init): EUC-JP and Shift_JIS are not builtin now.\n\n\t* enc/Makefile.in: ditto.\n\n\t* common.mk: ditto.\n\n\t* ruby.c (proc_options): ditto.\n\n\t* enc/shift_jis.c, enc/euc_jp.c: fixes for remove from builtin.\n\nSun Jan 13 10:21:40 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_table): packed all enc_table stuff.\n\nSun Jan 13 09:58:17 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_init): revert removing SJIS.\n\n\t* enc/sjis.c: move to enc/shift_jis.c, to make encoding name equal to\n\t  filename for convenience of loading lib.\n\n\t* enc/shift_jis.c: moved from enc/sjis.c.\n\n\t* common.mk: follows enc/shift_jis.c.\n\n\t* enc/Makefile.in: ditto.\n\nSun Jan 13 09:22:33 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (incs): includes encdb.h.\n\nSun Jan 13 09:17:29 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub (MV): use move instead of ren.  [ruby-Bugs-17019]\n\nSun Jan 13 01:52:31 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enc/make_encdb.rb: should work on Ruby 1.8.  [ruby-dev:33069]\n\n\t* common.mk (encdb.h): pass enc dir from outside to make_encdb.rb.\n\nSun Jan 13 00:01:07 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/make_encdb.rb: added. search enc/*.c and make encoding database.\n\n\t* regenc.h (ENC_REPLICATE, ENC_ALIAS): added for defining replica\n\t  encoding and encoding alias.\n\n\t* encoding.c (rb_enc_init): move alias definitions to enc/*.c.\n\t  (rb_enc_find_index): search original of replica and alias when no\n\t  encoding library.\n\t  (rb_enc_name_list, rb_enc_aliases_enc_i, rb_enc_aliases_str_i,\n\t   rb_enc_aliases, Encoding.name_list, Encoding.aliases): added.\n\t  (Init_Encoding): init encdb.\n\n\t* enc/ascii.c, enc/us_ascii.c, enc/euc_jp.c, enc/sjis.c:\n\t  add replica encoding and encoding alias definition.\n\n\t* common.mk (dist-clean-local): add rule for remove encdb.h.\n\nSat Jan 12 18:27:41 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_define_alloc_func, rb_undef_alloc_func): should\n\t  define/undef on a singleton class.  [ruby-core:09959]\n\nSat Jan 12 12:44:36 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c: rdoc update.\n\nSat Jan 12 12:01:49 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: tuning for performance.\n\nSat Jan 12 11:29:45 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/test_proc.rb: fixed wrong expected result.  pointed\n\t  out by Kornelius \"murphy\" Kalnbach <murphy AT rubychan.de> in\n\t  [ruby-core:15022].\n\nSat Jan 12 04:38:38 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ruby.c (process_options): -e'script' is locale encoding by default.\n\t  (load_file): ruby script from stdin is locale encoding by default.\n\nSat Jan 12 04:31:59 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: fix bug: -m was -m0.\n\nFri Jan 11 23:22:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (string.c): call rb_str_buf_append to update encoding of\n\t  str1, even if str2 is empty.\n\nFri Jan 11 20:20:16 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (proc_mark): needs to mark the receiver too.  a patch from\n\t  Chris Heath <chris AT heathens.co.nz> in [ruby-core:14983].\n\t  [ruby-core:14885]\n\nFri Jan 11 18:28:49 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/usage.rb: Removed.\n\n\t* lib/getoptlong.rb: Update example to not use lib/rdoc/usage.rb.\n\nFri Jan 11 18:17:10 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/driver.rb (read_yaml): Follow namespace change\n\t  [ruby-core:14964].\n\nFri Jan 11 16:55:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_append): performance improvement.\n\nFri Jan 11 12:35:56 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: moved broken syscall checks from process.c etc.\n\n\t* defines.h (WORDS_BIGENDIAN): honor __BIG_ENDIAN__ than the result of\n\t  configure.\n\n\t* lib/rdoc/options.rb (check_diagram): more precise check, darwin\n\t  is not Windows but mingw is on it.\n\nFri Jan 11 09:59:05 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: update to r1.163.\n\n\t* ext/nkf/nkf.c: ASCII's canonical name is US-ASCII.\n\n\t* ext/nkf/lib/kconv.rb (Kconv.isjis): force_encoding('BINARY').\n\nFri Jan 11 09:23:31 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (set_base_encoding): must use rb_enc_dummy_p.\n\nFri Jan 11 06:13:14 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_to_encoding_index, rb_to_encoding): disallow nil.\n\t  [ruby-dev:33003]\n\nFri Jan 11 01:08:01 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread.c (rb_mutex_unlock): proper error message for unlocking\n\t  mutex that is not locked.  a patch from Yusuke ENDOH\n\t  <mame at tsg.ne.jp> in [ruby-dev:33010].\n\nThu Jan 10 18:00:41 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* prelude.rb (Mutex::synchronize): capture exception from unlock.\n\t  [ruby-dev:32935]\n\nThu Jan 10 10:15:03 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_encoding_set): IO.pipe(\"euc-jp\", nil) should work as\n\t  IO.pipe(\"euc-jp\", nil).  [ruby-dev:33000]\n\n\t* io.c (io_encoding_set): handle nil for v1.\n\nThu Jan 10 02:41:22 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_binmode): should not alter encoding.  [ruby-dev:32918]\n\n\t* io.c (io_read_encoding): need not to return ASCII-8BIT for\n\t  binary IO.\n\nWed Jan  9 22:04:17 2008  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/mathn.rb (Prime#each): returns an enumerator if no block\n\t  given. [ruby-dev:32815]\n\nWed Jan  9 22:03:26 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_replicate): replica of dummy is a dummy.\n\nWed Jan  9 20:55:38 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/e2mmap.rb (Exception2MessageMapper::Raise): define fail.\n\t  [ruby-dev:32854]\n\nWed Jan  9 20:35:42 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb: support X-Forwarded-* header fields.\n\t  WEBrick::HTTPRequest#{host,port,request_uri} is derived having\n\t  regards to X-Forwarded-Proto and X-Forwarded-Host.\n\n\t* lib/webrick/httprequest.rb\n\t  (WEBrick::HTTPRequest#server_name?): new method.\n\t  (WEBrick::HTTPRequest#remote_ip?): new method.\n\t  (WEBrick::HTTPRequest#ssl?): new method.\n\nWed Jan  9 18:24:39 2008  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* golf_prelude.rb (Array#to_s): alias to join.\n\n\t* golf_prelude.rb (FalseClass#to_s): return \"\".\n\nWed Jan  9 16:59:54 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_enc_cr_str_buf_cat): fix self appending.\n\nWed Jan  9 15:54:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): give priority command line encoding option\n\t  to RUBYOPT, and enable -E option in RUBYOPT.\n\n\t* ruby.c (load_file): deal with encoding option in shebang line if\n\t  nothing in command line and RUBYOPT.\n\nWed Jan  9 14:55:36 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (yycompile0): remove setting parser->enc because it is set\n\t  in parser_prepare() by previous change of parser_prepare().\n\nWed Jan  9 14:52:18 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_enc_cr_str_buf_cat, rb_str_buf_append): deal with self\n\t  appending.\n\nWed Jan  9 14:44:57 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_prepare): set parser->enc from lex_input for ripper.\n\nWed Jan  9 13:45:52 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (WEBrick::HTTPServer#start):\n\t  :DoNotReverseLookup option had not been performed.\n\nWed Jan  9 13:03:34 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_enc_cr_str_buf_cat): do not recalculate coderange\n\t  value if it's given from outside.\n\nWed Jan  9 08:42:01 2008  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* enum.c:  Updating the documentation of Enumerable#zip to reflect\n\t  the recent changes Matz made to the method.\n\nWed Jan  9 01:35:10 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* enc/Makefile.in (BUILTIN_ENCS): UTF-{16,32}{BE,LE} are not builtin.\n\nTue Jan  8 23:55:15 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c (rb_enc_init): UTF-{16,32}{BE,LE} are not builtin.\n\nTue Jan  8 22:33:03 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* encoding.c, Makefile.in, include/ruby/oniguruma.h,\n\t  enc/Makefile.in: fix rules for UTF-{16,32}{BE,LE}.\n\nTue Jan  8 20:02:08 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win{32,ce}/Makefile.sub: merged.\n\nTue Jan  8 19:48:15 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/driver.rb: Speed up Marshal.load. Fix bug with nested\n\t  classes' methods.\n\nTue Jan  8 19:17:29 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/*: Clean up namespacing of RI's classes.\n\nTue Jan  8 18:05:35 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* bin/ri, lib/rdoc/ri/*: Replace with Ryan Davis' cached ri.\n\nTue Jan  8 17:32:07 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_zip): honor length of the receiver, not the\n\t  shortest length.  [ruby-core:14738]\n\n\t* enum.c (enum_zip): returns array not enumerator for no block\n\t  form.  [ruby-core:14738]\n\n\t* enumerator.c (next_ii): do not ignore multiple values yielded.\n\n\t* array.c (rb_ary_zip): faster version without creating generators.\n\nTue Jan  8 15:47:43 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/utf{16,32}_{be,le}.c: use &OnigEncodingName(*) instead of\n\t  ONIG_ENCODING_*.\n\nTue Jan  8 15:40:31 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regenc.c (onigenc_strlen_null, onigenc_str_bytelen_null): suppressed\n\t  warnings.\n\n\t* regenc.h, enc/unicode.c (onigenc_unicode_ctype_code_range): added\n\t  encoding argument.\n\n\t* enc/utf{16,32}_{be,le}.c: added init functions.\n\n\t* enc/utf{16,32}_{be,le}.c: imported from Oniguruma 5.9.1.\n\nTue Jan  8 15:03:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (str_gsub): avoid appending empty pre-match substr.\n\nTue Jan  8 13:05:57 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_build_from_ary), iseq.c (iseq_load): fix for format change.\n\nTue Jan  8 07:56:11 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_buf_append): fix append itself.\n\nTue Jan  8 01:13:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (STR_ENC_GET): defined.  same as rb_enc_get without\n\t  enc_capable.\n\t  (coderange_scan): ASCII-8BIT test refined.\n\t  (rb_enc_cr_str_buf_cat): new internal function to accumulate\n\t  strings with encoding.\n\t  (rb_enc_str_buf_cat): use rb_enc_cr_str_buf_cat.\n\t  (rb_str_buf_append): ditto\n\t  (str_gsub): use rb_str_buf_append.\n\t  (rb_str_hash): use ENCODING_GET.\n\t  (rb_str_comparable): ditto.\n\t  (rb_str_cmp): compare encoding index, not rb_encoding address.\n\nMon Jan  7 20:37:55 2008  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb: external encoding of\n\t  tempfiles is set to \"ASCII-8BIT\".\n\nMon Jan  7 19:39:50 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/template.rb:  Use ERB instead of custom template language.\n\n\t* lib/rdoc/generators/template/html/old_html.rb:  Remove.\n\n\t* lib/rdoc/generators/template/*: Convert to ERB.\n\nMon Jan  7 19:11:30 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (Init_String): sym_match arity spec was wrong.  a patch\n\t  from Hiroyuki Iwatsuki <don at na.rim.or.jp> in [ruby-dev:32957].\n\nMon Jan  7 18:10:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (str_gsub): move rb_enc_get(str) to out of loop.\n\nMon Jan  7 15:52:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (OnigEncodingType): new member\n\t  ruby_encoding_index to avoid linear search in rb_enc_to_index.\n\n\t* include/ruby/encoding.h (rb_enc_to_index): macro defined to use\n\t  ruby_encoding_index.\n\n\t* encoding.c (rb_enc_to_index): removed.\n\t  (enc_register_at): initialize ruby_encoding_index member.\n\nMon Jan  7 16:10:35 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/tokenstream.rb:  Namespace under RDoc.\n\nMon Jan  7 16:06:09 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/dot.rb:  Namespace under RDoc.\n\n\t* lib/rdoc/diagram.rb:  Clean up formatting.\n\nMon Jan  7 15:51:35 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/options.rb:  Convert to OptionParser, clean up -h output,\n\t  namespace under RDoc.\n\t* lib/rdoc/*:  Namespace RDoc::Options.\n\nMon Jan  7 15:42:46 2008  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk, Makefile.in, */Makefile.sub (distclean-local): move\n\t  removing rule of ext/ripper/y.output from common.mk to Makefiles\n\t  that depend on platforms.\n\nMon Jan  7 13:54:57 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_preprocess): fix fixed_enc condition.\n\nMon Jan  7 11:51:49 2008  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/generators/ri_generator.rb:  Merge documentation from the\n\t  same class on output.  Fixes bug where documentation could\n\t  disappear.\n\n\t* lib/rdoc/options.rb:  Fix typo.\n\n\t* lib/rdoc/generators/*: Clean up some namespacing and make RDoc\n\t  consistent.\n\nMon Jan  7 11:44:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_internal_get_index): extracted from\n\t  rb_enc_get_index.\n\t  (rb_enc_internal_set_index): extracted from rb_enc_associate_index\n\n\t* include/ruby/encoding.h (ENCODING_SET): work over ENCODING_INLINE_MAX.\n\t  (ENCODING_GET): ditto.\n\t  (ENCODING_IS_ASCII8BIT): defined.\n\t  (ENCODING_CODERANGE_SET): defined.\n\n\t* re.c (rb_reg_fixed_encoding_p): use ENCODING_IS_ASCII8BIT.\n\n\t* string.c (rb_enc_str_buf_cat): use ENCODING_IS_ASCII8BIT.\n\n\t* parse.y (reg_fragment_setenc_gen): use ENCODING_IS_ASCII8BIT.\n\n\t* marshal.c (has_ivars): use ENCODING_IS_ASCII8BIT.\n\nMon Jan  7 02:14:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (coderange_scan): avoid rb_enc_to_index.\n\t  (rb_enc_str_buf_cat): ditto.\n\t  (str_cat_char): use rb_enc_str_buf_cat.\n\t  (rb_str_inspect): ditto.\n\nMon Jan  7 01:36:49 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (coderange_scan): optimize ASCII-8BIT string.\n\t  (rb_enc_str_buf_cat): don't call coderange_scan if possible.\n\nMon Jan  7 01:05:45 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/erb.rb (ERB::Revision): cut off locale dependent string in Date\n\t  keyword.\n\nMon Jan  7 00:48:02 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* Date keyword removed to avoid inclusion of locale dependent\n\t  string.  [ruby-dev:32940]\n\nSun Jan  6 21:14:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_initialize_str): forbid raw non ASCII character\n\t  for ASCII-8BIT regexp in non ASCII-8BIT script.\n\nSun Jan  6 18:19:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_enc_str_buf_cat): declared.\n\n\t* string.c (coderange_scan): extracted from rb_enc_str_coderange.\n\t  (rb_enc_str_coderange): use coderange_scan.\n\t  (rb_str_shared_replace): copy encoding and coderange.\n\t  (rb_enc_str_buf_cat): new function for linear complexity string\n\t  accumulation with encoding.\n\t  (rb_str_sub_bang): don't conflict substituted part and replacement.\n\t  (str_gsub): use rb_enc_str_buf_cat.\n\t  (rb_str_clear): clear coderange.\n\n\t* re.c (rb_reg_regsub): use rb_enc_str_buf_cat.\n\nSun Jan  6 17:55:44 2008  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* lib/securerandom.rb: Add Win32 support.\n\nSun Jan  6 09:32:58 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: introduced some constants\n\t  (for internal use) and aliases (minute and second).\n\n\t* sample/cal.rb: trivial adjustments.\n\nSun Jan  6 01:38:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_initialize_str): /\\x80/n is not an error even if script\n\t  encoding is EUC-JP.\n\nSun Jan  6 00:48:12 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/resolv.rb (Resolv::DNS#each_address): get A record and then AAAA\n\t  record. [ruby-dev:32925]\n\nSat Jan  5 21:48:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* vm_insnhelper.c (vm_callee_setup_arg): it is not inlinable because\n\t  alloca is used.\n\nSat Jan  5 16:50:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_resize): copy if old data is not empty\n\t  [ruby-core:14785]\n\nSat Jan  5 13:04:24 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): no need for intermediate object.\n\nSat Jan  5 11:48:19 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (Init_Encoding): alias csWindows31J to Windows-31J.\n\t  IE6 accepts csWindows31J but Windows-31J.\n\nSat Jan  5 02:21:10 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (rb_intern): memorize interned ID for constant\n\t  string, using gcc's __builtin_constant_p and statement expression.\n\nSat Jan  5 02:14:45 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (trnext): should enable backslash escape.\n\nSat Jan  5 01:50:32 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_eval): move instance_eval and instance_exec to\n\t  BasicObject.  [ruby-core:14747]\n\n\t* lib/delegate.rb: should preserve new methods in BasicObject.\n\nSat Jan  5 01:46:29 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (proc_options): update according to the last API revert.\n\nSat Jan  5 01:30:30 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/intern.h, re.c (rb_reg_new): keep interface same as\n\t  1.8.  [ruby-core:14583]\n\n\t* include/ruby/intern.h, re.c (rb_reg_new_str): renamed, and defines\n\t  HAVE_RB_REG_NEW_STR macro to tell if it is available.\n\n\t* include/ruby/encoding.h (rb_enc_reg_new): added.\n\n\t* insns.def (toregexp), marshal.c (r_object0): use rb_reg_new_str().\n\n\t* re.c (rb_reg_regcomp, rb_reg_s_union): ditto.\n\nFri Jan  4 23:08:48 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_arg): use converted object.  [ruby-core:14759]\n\nFri Jan  4 16:24:58 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/digest/lib/digest/hmac.rb (Digest::HMAC#initialize): use\n\t  String#bytesize to avoid test errors on EUC-JP environment.\n\nFri Jan  4 14:00:50 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_prepare_re): check string encoding.  Oniguruma doesn't\n\t  support invalid encoding.\n\nFri Jan  4 10:22:25 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_search): avoid inner loop for reverse search.\n\n\t* regexec.c: unset USE_MATCH_RANGE_MUST_BE_INSIDE_OF_SPECIFIED_RANGE\n\t  which is turned on since oniguruma 5.9.1.\n\nFri Jan  4 02:53:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/euc_jp.c: remove eucjp_ prefix.  breakpoint can be specified as\n\t  euc_jp.c:mbc_enc_len.  avoid needless conflict by merge.\n\n\t* enc/sjis.c: remove sjis_ prefix.\n\n\t* enc/utf8.c: remove utf8_ prefix.\n\n\t* enc/iso_8859_1.c: remove iso_8859_1_ prefix.\n\n\t* enc/iso_8859_2.c: remove iso_8859_2_ prefix.\n\n\t* enc/iso_8859_3.c: remove iso_8859_3_ prefix.\n\n\t* enc/iso_8859_4.c: remove iso_8859_4_ prefix.\n\n\t* enc/iso_8859_5.c: remove iso_8859_5_ prefix.\n\n\t* enc/iso_8859_6.c: remove iso_8859_6_ prefix.\n\n\t* enc/iso_8859_7.c: remove iso_8859_7_ prefix.\n\n\t* enc/iso_8859_8.c: remove iso_8859_8_ prefix.\n\n\t* enc/iso_8859_9.c: remove iso_8859_9_ prefix.\n\n\t* enc/iso_8859_10.c: remove iso_8859_10_ prefix.\n\n\t* enc/iso_8859_11.c: remove iso_8859_11_ prefix.\n\n\t* enc/iso_8859_13.c: remove iso_8859_13_ prefix.\n\n\t* enc/iso_8859_14.c: remove iso_8859_14_ prefix.\n\n\t* enc/iso_8859_15.c: remove iso_8859_15_ prefix.\n\n\t* enc/iso_8859_16.c: remove iso_8859_16_ prefix.\n\nFri Jan  4 02:47:06 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_search): iterate onig_match for reverse mode.\n\nFri Jan  4 01:20:21 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32.h: only VC6 needs extern \"C++\" for math.h.  [ruby-talk:285660]\n\nFri Jan  4 00:54:43 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h: Oniguruma 5.9.1 merged.\n\nFri Jan  4 00:20:47 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_ungetc): move data in buffer if it is required to store the\n\t  argument.\n\nThu Jan  3 21:56:07 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (st_strcasecmp): declared for STRCASECMP.\n\t  (st_strncasecmp): declared for STRNCASECMP.\n\nThu Jan  3 20:24:48 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_jump.c (rb_f_catch): Restore cfp if caught thrown object.\n\nThu Jan  3 19:45:57 2008  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_eval.rb, test_knownbug.rb: move a fixed test.\n\nThu Jan  3 18:39:12 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c: (rb_tolower, rb_toupper): body was exchanged.\n\nThu Jan  3 17:54:01 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* regenc.h (onigenc_ascii_is_code_ctype): put back.\n\nThu Jan  3 17:33:09 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_isalnum): defined.\n\t  (rb_isalpha): ditto.\n\t  (rb_isblank): ditto.\n\t  (rb_iscntrl): ditto.\n\t  (rb_isdigit): ditto.\n\t  (rb_isgraph): ditto.\n\t  (rb_islower): ditto.\n\t  (rb_isprint): ditto.\n\t  (rb_ispunct): ditto.\n\t  (rb_isspace): ditto.\n\t  (rb_isupper): ditto.\n\t  (rb_isxdigit): ditto.\n\t  (rb_tolower): ditto.\n\t  (rb_toupper): ditto.\n\n\t* include/ruby/ruby.h: don't include include/ruby/encoding.h.\n\t  (rb_isascii): defined.\n\t  (rb_isalnum): declared.\n\t  (rb_isalpha): ditto.\n\t  (rb_isblank): ditto.\n\t  (rb_iscntrl): ditto.\n\t  (rb_isdigit): ditto.\n\t  (rb_isgraph): ditto.\n\t  (rb_islower): ditto.\n\t  (rb_isprint): ditto.\n\t  (rb_ispunct): ditto.\n\t  (rb_isspace): ditto.\n\t  (rb_isupper): ditto.\n\t  (rb_isxdigit): ditto.\n\t  (rb_tolower): ditto.\n\t  (rb_toupper): ditto.\n\t  (ISASCII): simplified.\n\t  (ISPRINT): ditto.\n\t  (ISSPACE): ditto.\n\t  (ISUPPER): ditto.\n\t  (ISLOWER): ditto.\n\t  (ISALNUM): ditto.\n\t  (ISALPHA): ditto.\n\t  (ISDIGIT): ditto.\n\t  (ISXDIGIT): ditto.\n\t  (TOUPPER): ditto.\n\t  (TOLOWER): ditto.\n\n\t* include/ruby/encoding.h (rb_isascii): removed.\n\t  (rb_isalnum): ditto.\n\t  (rb_isalpha): ditto.\n\t  (rb_isblank): ditto.\n\t  (rb_iscntrl): ditto.\n\t  (rb_isdigit): ditto.\n\t  (rb_isgraph): ditto.\n\t  (rb_islower): ditto.\n\t  (rb_isprint): ditto.\n\t  (rb_ispunct): ditto.\n\t  (rb_isspace): ditto.\n\t  (rb_isupper): ditto.\n\t  (rb_isxdigit): ditto.\n\t  (rb_tolower): ditto.\n\t  (rb_toupper): ditto.\n\n\t* common.mk: dependency updated.\n\nThu Jan  3 15:10:26 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_isascii): simplified.\n\t  (rb_isalnum): call onigenc_ascii_is_code_ctype without indirect call.\n\t  (rb_isalpha): ditto.\n\t  (rb_isblank): ditto.\n\t  (rb_iscntrl): ditto.\n\t  (rb_isdigit): ditto.\n\t  (rb_isgraph): ditto.\n\t  (rb_islower): ditto.\n\t  (rb_isprint): ditto.\n\t  (rb_ispunct): ditto.\n\t  (rb_isspace): ditto.\n\t  (rb_isupper): ditto.\n\t  (rb_isxdigit): ditto.\n\n\t* include/ruby/oniguruma.h (onigenc_ascii_is_code_ctype): declaration\n\t  moved from regenc.h.\n\nThu Jan  3 14:37:17 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (parser_magic_comment): use STRNCASECMP.\n\t  (set_file_encoding): ditto.\n\nThu Jan  3 11:44:37 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c: don't mention an obsolete library, ParseDate.\n\nThu Jan  3 11:28:58 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (fptr_finalize): clear errno first.  [ruby-talk:284492]\n\nThu Jan  3 05:02:36 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/us_ascii.c: add us_ascii_ prefix for functions to ease\n\t  setting breakpoint when debugging.\n\n\t* enc/euc_jp.c: add eucjp_ prefix.\n\n\t* enc/sjis.c: add sjis_ prefix.\n\n\t* enc/iso_8859_1.c: add iso_8859_1_ prefix.\n\n\t* enc/iso_8859_2.c: add iso_8859_2_ prefix.\n\n\t* enc/iso_8859_3.c: add iso_8859_3_ prefix.\n\n\t* enc/iso_8859_4.c: add iso_8859_4_ prefix.\n\n\t* enc/iso_8859_5.c: add iso_8859_5_ prefix.\n\n\t* enc/iso_8859_6.c: add iso_8859_6_ prefix.\n\n\t* enc/iso_8859_7.c: add iso_8859_7_ prefix.\n\nThu Jan  3 02:44:34 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c (conv_digit): use ISDIGIT, ISLOWER and ISUPPER.\n\nWed Jan  2 23:50:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* util.c (ruby_strtoul): \"0x\", \"+\" and \"-\" is not a valid integer.\n\t  end of integer should be just after \"0\", the beginning, the\n\t  beginning respectively.\n\nWed Jan  2 15:23:15 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* util.c (ruby_strtoul): locale independent strtoul is implemented to\n\t  avoid \"i\".to_i(36) cause 0 under tr_TR locale on Debian GNU/Linux\n\t  4.0 (Etch).\n\t  This is newly implemented, not a copy of missing/strtoul.c.\n\n\t* include/ruby/ruby.h (ruby_strtoul): declared.\n\t  (STRTOUL): defined to use ruby_strtoul.\n\n\t* bignum.c, pack.c, ext/socket/socket.c: use STRTOUL.\n\n\t* configure.in (strtoul): don't check.\n\n\t* missing/strtoul.c: removed.\n\n\t* include/ruby/missing.h (strtoul): removed.\n\n\t* common.mk (strtoul.o): removed.\n\n\t* LEGAL (missing/strtoul.c): removed.\n\nWed Jan  2 14:41:08 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk (strcasecmp.o): removed.\n\t  (strncasecmp.o): removed.\n\n\t* include/ruby/missing.h (strcasecmp): removed.\n\t  (strncasecmp): removed.\n\nWed Jan  2 11:34:57 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/strcasecmp.c: removed.  Ruby don't use locale dependent\n\t  strcasecmp.\n\n\t* missing/strncasecmp.c: ditto.\n\n\t* configure.in: don't check strcasecmp and strncasecmp.\n\n\t* LEGAL: missing/strcasecmp.c and missing/strncasecmp.c removed.\n\nWed Jan  2 10:13:54 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* sample/time.rb: use Process.times instead of Time.times.\n\nWed Jan  2 09:09:53 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* sample/goodfriday.rb: examples for date are enough.  retired.\n\nWed Jan  2 08:58:54 2008  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* sample/cal.rb: just updated with the newest version.\n\nWed Jan  2 01:19:31 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* enc/depend: dependency updated.\n\nWed Jan  2 00:14:41 2008  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/{nkf.c, utf8tbl.c}: Update nkf.\n\n\t* ext/nkf/nkf.c: fix documents.\n\n\t* ext/nkf/lib/kconv.rb: fix documents.\n\t  (Kconv.is*): use valid_encoding?.\n\t  (Kconv.isjis): defined.\n\nTue Jan  1 23:17:03 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk: dependency updated.\n\nTue Jan  1 21:11:33 2008  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_isascii): defined.\n\t  (rb_isalnum): ditto.\n\t  (rb_isalpha): ditto.\n\t  (rb_isblank): ditto.\n\t  (rb_iscntrl): ditto.\n\t  (rb_isdigit): ditto.\n\t  (rb_isgraph): ditto.\n\t  (rb_islower): ditto.\n\t  (rb_isprint): ditto.\n\t  (rb_ispunct): ditto.\n\t  (rb_isspace): ditto.\n\t  (rb_isupper): ditto.\n\t  (rb_isxdigit): ditto.\n\t  (rb_tolower): ditto.\n\t  (rb_toupper): ditto.\n\n\t* include/ruby/st.h (st_strcasecmp): declared.\n\t  (st_strncasecmp): ditto.\n\n\t* st.c (type_strcasehash): use st_strcasecmp instead of strcasecmp.\n\t  (st_strcasecmp): defined.\n\t  (st_strncasecmp): ditto.\n\n\t* include/ruby/ruby.h: include include/ruby/encoding.h.\n\t  (ISASCII): use rb_isascii.\n\t  (ISPRINT): use rb_isprint.\n\t  (ISSPACE): use rb_isspace.\n\t  (ISUPPER): use rb_isupper.\n\t  (ISLOWER): use rb_islower.\n\t  (ISALNUM): use rb_isalnum.\n\t  (ISALPHA): use rb_isalpha.\n\t  (ISDIGIT): use rb_isdigit.\n\t  (ISXDIGIT): use rb_isxdigit.\n\t  (TOUPPER): defined.\n\t  (TOLOWER): ditto.\n\t  (STRCASECMP): ditto.\n\t  (STRNCASECMP): ditto.\n\n\t* dir.c, encoding.c, file.c, hash.c, process.c, ruby.c, time.c,\n\t  transcode.c, ext/readline/readline.c: use locale insensitive\n\t  functions.  [ruby-core:14662]\n\nTue Jan  1 17:50:47 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_mode_enc): encoding spec is not allowed in binary mode.\n\t  [ruby-dev:32913]\n\nTue Jan  1 14:41:56 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml: 1.9 patch from Sam Ruby mentioned in his blog:\n\t  <http://intertwingly.net/blog/2007/12/31/Porting-REXML-to-Ruby-1-9>\n\t  [ruby-core:14639]\n\nTue Jan  1 14:15:04 2008  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_substr): offset movement bug.  a patch from\n\t  Vincent Isambart <vincent.isambart at gmail.com> in\n\t  [ruby-core:14647].  [ruby-core:14644]\n\nTue Jan  1 01:29:04 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_to_encoding): raises for non-nil, non-encoding,\n\t  non-string object.  [ruby-core:14634]\n\nTue Jan  1 01:04:06 2008  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): rejects dummy encoding.\n\nMon Dec 31 23:53:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options, process_options): delays finding encoding\n\t  until load_path is set.\n\nMon Dec 31 23:27:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_resize): embeds if ptr is null.  [ruby-dev:32819]\n\nMon Dec 31 23:17:22 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#proxy_service):\n\t  call do_XXX which correspond with request method.\n\t  (WEBrick::HTTPProxyServer#do_CONNECT,do_GET,do_POST,do_HEAD): added.\n\n\t* test/webrick/test_httpproxy.rb: add test for WEBrick::HTTPProxyServer.\n\nMon Dec 31 22:53:29 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* thread_pthread.c (native_sleep): timespec tv_sec may overflow on\n\t  some platform.  a patch from zunda <zunda616e AT yahoo.co.jp> in\n\t  [ruby-dev:32904].\n\nMon Dec 31 19:35:20 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (IS_7BIT): removed.\n\t  (single_byte_optimizable): new function to test optimizationability\n\t  using single byte string.\n\t  (str_strlen): use single_byte_optimizable instead of\n\t  is_ascii_string.\n\t  (str_nth): rename argument: asc -> singlebyte.\n\t  (str_offset): ditto.\n\t  (rb_str_substr): use single_byte_optimizable instead of IS_7BIT.\n\t  (rb_str_index): ditto.\n\t  (rb_str_rindex): ditto.\n\t  (rb_str_splice): ditto.\n\t  (rb_str_justify): ditto.\n\nMon Dec 31 07:39:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* main.c, goruby.c (RUBY_MAIN_INIT): removed.\n\n\t* goruby.c (goruby_run_node): run after ruby_init_loadpath() so that\n\t  require works, and protect the call.\n\nMon Dec 31 06:50:38 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: not use -I$(srcdir)/lib with $(MINIRUBY) for cross\n\t  compiling.\n\n\t* configure.in, {win,bcc}32/Makefile.sub (MINIRUBY): -I$(srcdir)/lib\n\t  moved.\n\nMon Dec 31 06:08:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_enc_sprintf, rb_enc_vsprintf): prototyped.\n\n\t* sprintf.c (rb_enc_sprintf, rb_enc_vsprintf): new functions to format\n\t  arguments with encoding.\n\nSun Dec 30 23:48:00 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (String#/): define / as split, as association of\n\t  Array#*.\n\nSun Dec 30 23:19:06 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* golf_prelude.rb (@@golf_hash): for performance improvement.\n\nSun Dec 30 22:44:50 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (_valid_time?): I'm not sure to recommend such an\n\t  expression.  but anyway it is acceptable now.  [ruby-core:14580]\n\nSun Dec 30 21:54:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (program, yycompile0): too early to drop lex_lastline in\n\t  rules.\n\nSun Dec 30 19:23:23 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bootstraptest/test_knownbug.rb: support DOSISH.\n\nSun Dec 30 17:43:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (Init_Encoding): registered rb_encoding differs from\n\t  ONIG_ENCODINGs.\n\nSun Dec 30 13:56:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (program): clear input strings after all process.\n\n\t* parse.y (parser_nextc, parser_yylex): should not drop lex_lastline\n\t  while lex_p is valid.  [ruby-dev:32896]\n\nSun Dec 30 10:54:49 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* configure.in: rm largefile.h.\n\n\t* common.mk: clean golf, conf*, preludes, and so on.\n\n\t* enc/depend: silent and ignore error for rm.\n\n\t* enc/Makefile.in: should define prefix and exec_prefix.\n\nSun Dec 30 06:31:11 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* encoding.c (Init_encoding): register Windows-31J and its alias.\n\t  [ruby-dev:32843]\n\n\t* ruby.c (proc_options): -Ks options means Windows-31J, not Shift_JIS.\n\nSun Dec 30 06:27:38 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (depend_rules): need to convert `/' to `\\' for windows\n\t  native commands.\n\nSun Dec 30 01:43:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/Makefile.in (DLDFLAGS): like as extensions.  [ruby-core:14567]\n\nSat Dec 29 23:48:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fflush): don't retry when wbuf modified by other threads.\n\nSat Dec 29 22:44:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_regsub): returns the given string itself if nothing\n\t  changed.\n\n\t* string.c (rb_str_sub_bang): keeps code-range as possible.\n\n\t* string.c (str_gsub): adjusts code-range.  [ruby-core:14566]\n\nSat Dec 29 21:54:37 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (clean, distclean, realclean): should include clean-enc\n\t  and others.  [ruby-dev:32887]\n\nSat Dec 29 13:29:29 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/test_knownbug.rb: add a test reported by\n\t  Kazuhiro NISHIYAMA.  [ruby-dev:32819].\n\t  add a test reported by Frederick Cheung.  [ruby-core:14556].\n\n\t* test/ruby/test_m17n.rb (test_gsub): add a test reported by\n\t  Sam Ruby.  [ruby-core:14566]\n\nSat Dec 29 04:46:58 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/test/unit/assertions.rb (Test::Unit::Assertions#assert_throws):\n\t  throw won't raise NameError nor ThreadError but ArgumentError on 1.9.\n\t  (Test::Unit::Assertions#assert_not_throws): ditto.\n\n\t* test/testunit/test_assertions.rb: add assertions for throwing some\n\t  objects other than Symbol.\n\nSat Dec 29 03:10:12 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (io_unread): fix typo.\n\nSat Dec 29 02:18:45 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (io_unread): adhoc workaround for non-binary mode of some DOSish\n\t  platforms. this is not perfect and safety, but works with most cases.\n\nFri Dec 28 23:53:18 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/strscan/strscan.c (str_new): new function for allocate an string\n\t  with encoding propagation.\n\t  (extract_range): use str_new.\n\t  (extract_beg_len): ditto.\n\t  (strscan_peek): ditto.\n\t  (strscan_rest): ditto.\n\nFri Dec 28 20:18:42 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* golf_prelude.rb (Object.say): derived from Perl 5.10.\n\nFri Dec 28 19:39:34 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* encoding.c (rb_locale_encoding): should check return value from\n\t  rb_locale_charmap().\n\n\t* ruby.c (locale_encoding): removed.\n\n\t* ruby.c (process_options): use rb_locale_encoding() instead of\n\t  locale_encoding().\n\n\t* ext/readline/readline.c (readline_readline): use locale encoding\n\t  instead of input IO's encoding. [ruby-dev:32872]\n\nFri Dec 28 19:29:07 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_readline, readline_s_set_input):\n\t  use mReadline directly because self is not always same.\n\nFri Dec 28 19:11:28 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_locale_encoding): defined.\n\n\t* include/ruby/encoding.h (rb_locale_encoding): declared.\n\nFri Dec 28 18:45:29 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_readline): set encoding to result.\n\n\t* ext/readline/readline.c (readline_s_set_input, Init_readline): save\n\t  input IO to hidden instance variable.\n\nFri Dec 28 01:55:04 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c (transcode_dispatch): reverted some of the changes\n\t  in r14746.\n\n\t* transcode.c, enc/trans/single_byte.c: Added conversions to/from\n\t  US-ASCII and ASCII-8BIT (using data tables).\n\n\t* enc/trans/single_byte.c: Some spacing/ordering changes due to\n\t  automatic data file generation.\n\n\t* transcode_data.h, transcode.c: Preliminary code for using\n\t  micro-conversion functions.\n\n\t* test/ruby/test_transcode.rb: Added some tests for US-ASCII and\n\t  ASCII-8BIT conversions.\n\nFri Dec 28 17:33:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (make_time_t): verify mktime and timegm result.\n\nFri Dec 28 16:36:33 2007  NARUSE, Yui  <naruse@airemix.com>\n\n\t* lib/resolv.rb (Resolv::DNS#each_address): now returns IPv6 address.\n\nFri Dec 28 16:10:00 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/dot/dot.rb: Move to lib/rdoc/dot.rb. Fix namespacing.\n\n\t* lib/rdoc/diagram.rb: Update for 1.9.\n\nFri Dec 28 15:38:29 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/markup/sample/: Move to sample/rdoc/markup directory.\n\nFri Dec 28 15:15:12 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/irb/completion.rb: Remove garbage (\"X=1\").\n\nFri Dec 28 15:12:05 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc, test/rdoc: Move RDoc tests out of lib/.\n\nFri Dec 28 15:10:47 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (set_base_encoding, enc_base_encoding): renamed\n\t  based_encoding as base_encoding.\n\nFri Dec 28 13:57:49 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (Integer#each): use alias simply.\n\nFri Dec 28 13:45:21 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* golf_prelude.rb (Object.const_missing): No need to delegate to\n\t  superclass.  Just raise a NameError when none matches.\n\nFri Dec 28 13:18:47 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, test/rss/test_version.rb: 0.2.2 -> 0.2.3.\n\n\t* lib/rss/parser.rb, test/rss/test_parser.rb: supported \"-\" in tag name.\n\t  Reported by Ray Chen. Thanks.\n\nFri Dec 28 13:07:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (os_obj_of): returns an enumerator if no block given.  based on\n\t  a patch from Yugui <yugui AT yugui.sakura.ne.jp>.  [ruby-dev:32828]\n\nFri Dec 28 11:46:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/ytab.sed: skip yydestruct hack unless yymsg exists, for bison\n\t  1.8 series.  [ruby-dev:32825]\n\nFri Dec 28 11:39:02 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (Object.quine): need to join because SCRIPT_LINES__[]\n\t  returns an array of lines.\n\nFri Dec 28 11:16:53 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (Object.quine): get the script itself.\n\nFri Dec 28 10:06:54 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* golf_prelude.rb (Object.const_missing): Auto-complete constants.\n\nFri Dec 28 01:55:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_dispatch): allows transcoding from/to\n\t  ASCII-8BIT.\n\nFri Dec 28 01:47:25 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (Integer): Integer is now enumerable on goruby.\n\nFri Dec 28 01:27:47 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/rdoc/rdoc.rb (parse_files): don't depend on the default external\n\t  encoding.\n\nFri Dec 28 00:01:57 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (golf_prelude.c): use MINIRUBY instead of BASERUBY because\n\t  tool/compile_prelude.rb requires rbconfig.rb.\n\nThu Dec 27 23:56:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: should not use the libraries under the source directory\n\t  at cross compiling.\n\nThu Dec 27 23:43:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (EXTOBJS): uses ruby.rc always for other than\n\t  rubyw.exe.\n\nThu Dec 27 22:31:37 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rubygems/commands/update_command.rb (do_rubygems_update): use\n\t  portable and safely ENV operation. reported in\n\t  <http://slashdot.jp/developers/comments.pl?sid=384937&cid=1273085>.\n\nThu Dec 27 21:47:04 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* mkconfig.rb (prefix): archdir is \"1.9.0\", not \"1.9\". reported in\n\t  <http://slashdot.jp/developers/comments.pl?sid=384937&cid=1273085>.\n\nThu Dec 27 17:57:30 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y, transcode_data.h, transcode.c, lib/weakref.rb,\n\t  lib/irb/ruby-lex.rb, lib/irb/lc/error.rb, enc/trans/japanese.c:\n\t  change \"illegal\" to \"invalid\" in a context which doesn't against\n\t  a law.\n\nThu Dec 27 16:37:06 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_s_union): show encodings in error message.\n\nThu Dec 27 15:25:16 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_codelen): show codepoint in error message.\n\n\t* include/ruby/encoding.h (rb_enc_codelen): comment it returns\n\t  positive integer.\n\n\t* string.c (rb_str_concat): rb_enc_codelen doesn't return 0.\n\nThu Dec 27 15:18:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_codelen): error message refined.\n\nThu Dec 27 15:11:27 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_check): show encodings in error message.\n\nThu Dec 27 15:02:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_casecmp): fixed using a wrong variable.\n\t  [ruby-list:44402]\n\nThu Dec 27 14:34:38 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fflush): checks wbuf modification by other threads.\n\t  not perfect.  it need locks.\n\nThu Dec 27 10:44:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: a patch to support IRIX from Andrew\n\t  Thompson <andrew@hijacked.us> in [ruby-core:14447].\n\nThu Dec 27 02:25:45 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_tmpsrc): retry to create file if Errno::EACCES\n\t  occurs. this is a workaround for mswin32.\n\nWed Dec 26 22:47:31 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Name.==): fix for other is array of\n\t  Resolv::DNS::Label::Str.\n\n\t* lib/resolv.rb (Resolv::DNS::MessageEncoder#put_label): String#string\n\t  is not defined, so replace to_s.\n\n\t* lib/resolv.rb (Resolv::IPv6#to_name): ip6.int is obsoleted by\n\t  ip6.arpa.\n\n\nWed Dec 26 21:27:02 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (_xmlschema): some improvements.\n\n\t* lib/date/format.rb (_parse): a new hint compfunc. [experimental]\n\nWed Dec 26 17:31:08 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_fflush): check closed fptr after rb_write_internal to avoid\n\t  SEGV on MacOS X.\n\nWed Dec 26 16:10:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (Init_String): defines chars method.\n\nWed Dec 26 14:38:43 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* instruby.rb: install goruby if exists.\n\nWed Dec 26 13:55:02 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb:  Cleaned up some code with Ruby 1.9 idioms.\n\nWed Dec 26 13:29:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (tmpbuf): use rb_str_tmp_new().\n\nWed Dec 26 00:57:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/json/ext/generator/generator.c (Init_generator): requires\n\t  json/common.rb for GeneratorError, when static linked.  a patch from\n\t  Kenta Murata <muraken AT gmail.com> in [ruby-dev:32789].\n\nTue Dec 25 23:33:55 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* development version 1.9.0 released.\n\nTue Dec 25 23:25:29 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/node.rb (REXML::Node::indent): should initialize rv\n\t  variable.  a patch from Tadayoshi Funaba <tadf AT dotrb.org> in\n\t  [ruby-dev:32783].\n\nTue Dec 25 23:16:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): encoding option in shebang and RUBYOPT did not\n\t  work, do not store alloca()ed string in a parent scope struct.\n\nTue Dec 25 22:56:52 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.status): keep this file.\n\nTue Dec 25 22:55:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (TIMEZONE_VOID): typo.\n\nTue Dec 25 22:45:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns2vm.rb: add encoding option to shebang.\n\nTue Dec 25 22:13:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/pending.rb: add pending issue.\n\nTue Dec 25 22:12:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c: remove Thread.critical(=).\n\nTue Dec 25 21:44:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: add version number.\n\nTue Dec 25 21:32:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix stack consistency error\n\t  (break is compiled to throw instead of jump insn).\n\t  these problems are reported by Yusuke ENDOH <mame AT tsg.ne.jp>\n\n\t* bootstraptest/test_knownbug.rb, test_syntax.rb: move fixed test.\n\nTue Dec 25 21:32:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (struct parser_params): make parser_ruby_sourcefile common\n\t  field.  it is used by node_newnode.\n\t  new field parser_ruby_sourcefile_string for ripper.\n\t  (parser_initialize): initialize parser_ruby_sourcefile in ripper.\n\t  (ripper_initialize): initialize parser_ruby_sourcefile_string.\n\nTue Dec 25 21:26:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.c): depends on tool/ytab.sed.\n\n\t* tool/ytab.sed: hack for bison 2.1.\n\nTue Dec 25 20:24:58 2007  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_ssl.c: Only show a warning if the default\n\t  DH callback is actually used.\n\n\t* ext/openssl/ossl_rand.c: New method: random_add().\n\nTue Dec 25 20:24:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/make-snapshot: argument check, and cleanup exported directory.\n\nTue Dec 25 20:07:13 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* tool/make-snapshot: more portable.\n\nTue Dec 25 19:01:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.h (rb_enc_mbc_to_codepoint): wrapper for\n\t  ONIGENC_MBC_TO_CODE().\n\n\t* string.c (rb_str_succ): deal with invalid sequence as binary.\n\nTue Dec 25 18:40:46 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c: all methods need $SAFE < 1.\n\n\t vm.c: comment out debug functions.\n\nTue Dec 25 18:37:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (appendline): move RS comparison to rb_io_getline_1().\n\nTue Dec 25 18:27:51 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_each_line): don't call rb_enc_codepoint with empty\n\t  string.\n\nTue Dec 25 18:06:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_inspect): don't call rb_enc_codepoint with empty\n\t  string.  fix '#'.inspect.\n\n\t* encoding.c (rb_enc_codepoint): raise on empty string.\n\nTue Dec 25 17:48:28 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* vm.c (rb_frame_method_id_and_class): new function to get the\n\t  method id and class of the current frame.\n\nTue Dec 25 17:32:04 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/mkmf.rb (create_makefile): Add a missing dependency on the\n\t  target directory for each .rb file.  This will hopefully fix\n\t  parallel make (-jN).  Tested on FreeBSD.\n\nTue Dec 25 16:51:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/trans/japanese.c (rb_{from,to}_{SHIFT_JIS,EUC_JP}): inversed\n\t  from_encoding and to_encoding.\n\nTue Dec 25 16:41:57 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* golf_prelude.rb (h): add new method for all golfers.\n\nTue Dec 25 16:37:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/trans/japanese.c (rb_to_EUC_JP): fixed typo.\n\nTue Dec 25 16:34:58 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/dl/depend: add dependencies. [ruby-dev:32760]\n\nTue Dec 25 16:26:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/ruby.h, thread.c: rename is_ruby_native_thread() to\n\t  ruby_native_thread_p().\n\n\t* ext/tk/tcltklib.c: apply it.\n\nTue Dec 25 16:15:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (clean-enc): clean encoding objects.\n\nTue Dec 25 16:04:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, goruby.c, golf_prelude.rb: for golfers.\n\n\t* main.c (main): hook for embedding applications.\n\n\t* tool/compile_prelude.rb: can change initialize function name.\n\nTue Dec 25 15:59:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_register): do not use based_encoding to check if\n\t  dummy encoding.\n\nTue Dec 25 15:55:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_succ): fix for string with non-alphanumeric chars.\n\nTue Dec 25 15:42:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_external_encoding): should return nil for\n\t  pass-through write IO.  [ruby-dev:32740]\n\nTue Dec 25 15:24:57 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (appendline): initialize rslen to 1 if rsptr is 0.\n\t  rslen is the length of the delimiter.\n\t  if only delim is given, it should be 1.\n\t  [ruby-dev:32746]\n\nTue Dec 25 15:21:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_dispatch): fix for multistep transcode.\n\nTue Dec 25 15:07:51 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enc/trans/single_byte.c (Init_single_byte): renamed.\n\nTue Dec 25 15:00:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_yield): when multiple values yielded from #each\n\t  pack them into an array.  [ruby-dev:32708]\n\n\t* enum.c: all method but all?, any?, one? and none? passed packed\n\t  multiple values to the block.\n\n\t* enum.c (collect_all): should pack all values.  [ruby-core:14410]\n\nTue Dec 25 14:57:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (COMMONOBJS): transcode_data_*.c moved under enc/trans.\n\n\t* transcode_data.h (rb_transcoding, rb_transcoder): prefixed.\n\n\t* transcode.c (rb_register_transcoder, rb_declare_transcoder): split\n\t  declaration and registration.  [ruby-dev:32704]\n\n\t* transcode.c (transcode_dispatch): autoload pre-declared transcoder.\n\n\t* transcode.c (str_transcode): use rb_define_dummy_encoding().\n\n\t* transcode.c (Init_transcode): initialize transcoder tables.\n\n\t* enc/trans/single_byte.c, enc/trans/japanese.c: moved from top.\n\nTue Dec 25 14:20:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mkmf.rb (map_dir): should generate path including $top_srcdir.\n\nTue Dec 25 14:09:16 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb:  Fixed test failures caused by changes to Ruby.\n\n\t* test/csv/tc_serialization, test/csv/tc_csv_parsing, test/csv/tc_features:\n\t  Fixed test failures caused by changes to Ruby.\n\nTue Dec 25 14:11:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (io_encoding_set): missing return type.\n\nTue Dec 25 14:03:48 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* test/rinda/test_rinda.rb (MockClock#{_forward, forward, sleep}):\n\t  Change default value of n as @reso from nil.  If default value is\n\t  nil, n.+ is not defined.\n\nTue Dec 25 13:54:01 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_io_m17n.rb (test_pipe): fixed.\n\t  [ruby-dev:32743]\n\nTue Dec 25 13:44:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_wait_fd_rw): should check EBADF on select().\n\nTue Dec 25 13:30:03 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.c, thread_pthread.h, thread_win32.c,\n\t  thread_win32.c: make some functions static functions.\n\t  a patch from Tadashi Saito <shiba AT mail2.accsnet.ne.jp>\n\t  in [ruby-core:14407]\n\nTue Dec 25 13:23:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_io_m17n.rb (test_write_noenc): don't mix text and\n\t  binary mode.  [ruby-dev:32743]\n\nTue Dec 25 13:13:09 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* README.EXT.ja, dir.c, eval.c, eval_intern.h, lex.c.src,\n\t  lex.c.blt, keywords, load.c, thread.c: more ANSI'ize.\n\t  a patch from Tadashi Saito <shiba AT mail2.accsnet.ne.jp>\n\t  in [ruby-dev:32725]\n\nTue Dec 25 13:07:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_core.h, thread.c, cont.c: add RUBY_VM_SET_INTERRUPT(),\n\t  RUBY_VM_SET_TIMER_INTERRUPT(), RUBY_VM_INTERRUPTED().\n\n\t* thread.c, thread_pthread.c, thread_win32.c: fix to ignore time slice\n\t  event until sleep.\n\n\t* bootstraptest/test_thread.rb: add a test for time limited join test.\n\nTue Dec 25 12:42:59 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (Init_VM): remove unused code.\n\t  [ruby-dev:32732]\n\nTue Dec 25 12:32:32 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c: Moving a static counter from inside register_transcoder()\n\t  and register_functional_transcoder() to outside the functions, renaming\n\t  from n to next_transcoder_position. Fixes 3) in [ruby-dev:32715].\n\nTue Dec 25 12:22:17 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* sample/from.rb: follow Ruby 1.9 libraries.\n\nTue Dec 25 12:21:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (method_inspect): preserve encoding of the method name.\n\nTue Dec 25 12:07:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (BASERUBY): delayed error until BASERUBY is used.\n\nTue Dec 25 11:48:35 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/README: removed obsoleted files: dbmtest.rb,\n\t  getopts.test, mrshtest.rb, regx.rb.\n\nTue Dec 25 11:45:34 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb:  Import the FasterCSV source as the new CSV class.\n\n\t* test/csv/*:  Added all applicable tests from FasterCSV.\n\nTue Dec 25 11:33:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (report_bug): uses ruby_description.\n\nTue Dec 25 11:20:38 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix stack consistency error.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>  [ruby-dev:32720]\n\n\t* bootstraptest/test_syntax.rb: add 2 tests for above.\n\nTue Dec 25 11:14:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c, vm_core.h: comment out unused fields.\n\nTue Dec 25 11:02:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: check frame is FINAL when creating env.\n\t  [ruby-core:14395]\n\n\t* bootstraptest/test_block.rb: add a test for above.\n\nTue Dec 25 09:12:13 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/:  Enable RDoc debugging only with $DEBUG_RDOC.\n\nTue Dec 25 08:37:43 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/csv.rb, test/csv/test_csv.rb:  Removed in preparation for\n\t  FasterCSV code import.\n\nTue Dec 25 08:27:43 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems.rb:  Fix test failures.\n\n\t* test/rubygems/test_gem.rb:  Fix test failure.\n\nTue Dec 25 06:23:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb, test_literal.rb: move fixed test.\n\nTue Dec 25 06:19:04 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* sample/biorhythm.rb: follow Ruby 1.9 libraries.\n\nTue Dec 25 06:15:01 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: add dummy toplevel frame.\n\nTue Dec 25 05:44:56 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/net/http.rb:  Fix uninitialized variable warning.\n\t  [ruby-talk:284582]\n\n\t* lib/irb/output-method.rb:  Remove unused #foo method.\n\t  [ruby-talk:284582]\n\nTue Dec 25 05:24:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile): clear local table if node == 0.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>  [ruby-dev:32530]\n\n\t* vm.c: clear VM stack.\n\nTue Dec 25 04:23:32 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (rb_id2str): fill klass of returned string as rb_cString.\n\t  some strings are allocated before rb_cString is created.\n\t  This prevents a \"called on terminated object\" error by\n\t  ObjectSpace.each_object(Module) {|m| p m.name }.\n\nTue Dec 25 03:51:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix stack consistency bug.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>\n\nTue Dec 25 03:19:47 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* tool/make-snapshot: must create configure and lex.c.\n\nTue Dec 25 03:16:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_pipe): now takes up to two arguments.  allow its\n\t  external/internal encoding by Encoding objects.\n\n\t* io.c (rb_io_set_encoding): new method to set encoding of the IO.\n\n\t* io.c (argf_set_encoding): ditto.\n\nTue Dec 25 03:08:53 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* pack.c (pack_pack): use NUM2LONG instead of NUM2INT.\n\n\t* numeric.c (fix_lshift, fix_aref): use SIZEOF_LONG instead of\n\t  SIZEOF_VALUE.\n\n\t* bignum.c (big2ulong, rb_big_aref): ditto.\n\nTue Dec 25 02:55:26 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/rexml/element.rb (REXML::Elements#each): yield in each\n\t  should be called with one parameter. [ruby-dev:32708]\n\nTue Dec 25 02:15:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): add a \"pop\" insn after break\n\t  to fix stack consistency error.  [ruby-core:14385]\n\n\t* bootstraptest/test_syntax.rb: add tests for above.\n\n\t* bootstraptest/test_knownbug.rb: remove fixed bug.\n\nTue Dec 25 01:54:36 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* id.c (Init_id): remove several unused symbols. [ruby-core:14362]\n\n\t* compile.c (iseq_specialized_instruction): do not use\n\t  VM_CALL_SEND_BANG flag any longer.\n\nTue Dec 25 01:42:41 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/rdoc/rdoc.rb (parse_files): interpret coding cookie.\n\nTue Dec 25 01:38:04 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (method_name): preserve Symbol's encoding.\n\n\t* numeric.c (fix_id2name): ditto.\n\nTue Dec 25 01:19:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/encoding.h (rb_enc_left_char_head): new utility macro.\n\n\t* include/ruby/encoding.h (rb_enc_right_char_head): ditto.\n\n\t* io.c (appendline): does multibyte RS search in the function.\n\n\t* io.c (prepare_getline_args): RS may be nil.\n\n\t* io.c (rb_io_getc): should process character based on external\n\t  encoding, when transcoding required.\n\nTue Dec 25 01:07:57 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/irb/output-method.rb: translate a comment to English to\n\t  avoid mix of EUC-JP comment and UTF-8 Date keyword.\n\t  svn substitute Date keyword with UTF-8 weekday on UTF-8 locale.\n\nTue Dec 25 00:27:28 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservley/cgihandler.rb\n\t  (WEBrick::HTTPServlet::CGIHandler#do_GET): m17nized.\n\nMon Dec 24 23:55:29 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/cgi.rb (CGI::escape): m17nized.\n\t  (CGI::unescape): ditto.\n\t  (CGI::escapeHTML): ditto.\n\t  (CGI::unescapeHTML): ditto.\n\nMon Dec 24 23:32:24 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* transcode_data_japanese.c (select_iso_2022_mode): '\\e' is not valid.\n\nMon Dec 24 23:13:09 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/rdoc/diagram.rb (RDoc::Diagram#initialize): use fileuitls\n\t  instead of ftools.\n\nMon Dec 24 23:04:57 2007  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/ftools.rb: removed obsoleted lib.  use fileutils instead (by eban).\n\n\t* lib/rdoc/rdoc.rb, lib/rdoc/generators/*, lib/rake.rb: let it use\n\t  fileutils instead of ftools.\n\n\t* lib/shell/command-processor.rb: removed unused references to ftools.\n\n\t* lib/parsedate.rb: removed.  see [ruby-core:12535], [ruby-dev:31969].\n\n\t* lib/README: updated.\n\nMon Dec 24 23:01:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI::Buffer): use Meta ===.  [ruby-core:14295]\n\nMon Dec 24 22:46:42 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* transcode.c: register_functional_transcoder() added.\n\t  (init_transcoder_table(: register ISO-2022-JP.\n\t  (str_transcode): add preprocessor and postprocessor.\n\n\t* transcode_data_japanese.c: add ISO-2022-JP support.\n\n\t* transcode_data.h: moved transcoder and transcoding definition from\n\t  transcode.c.\n\nMon Dec 24 20:29:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/io/nonblock/test_flush.rb: fix test for 1.9.\n\nMon Dec 24 20:23:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/rinda/test_rinda.rb: revert last commit because this test seems\n\t  to have timing problem to halt all tests.\n\nMon Dec 24 20:18:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/rinda/test_rinda.rb: enable rinda test.\n\nMon Dec 24 20:16:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* instruby.rb: fix rdoc install dir.\n\nMon Dec 24 18:37:32 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_prepare_re): show regexp encoding in the error message.\n\nMon Dec 24 18:23:32 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (rb_exc_raise): ANSI style.\n\t  (rb_exc_fatal): ditto.\n\t  (rb_raise_jump): ditto.\n\t  (rb_jump_tag): ditto.\n\t  (rb_block_given_p): ditto.\n\n\t* variable.c (original_module): ditto.\n\nMon Dec 24 18:05:09 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (Init_ISeq): disable ISeq.load() because there is no verifier.\n\n\t* iseq.c, proc.c: add ISeq.disasm(method).\n\nMon Dec 24 18:06:03 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval_method.c (Init_eval_method): extracted from Init_eval\n\t  for rdoc to find rb_mod_remove_method, rb_mod_undef_method and\n\t  rb_mod_alias_method.\n\n\t* eval.c (Init_eval): call Init_eval_method.\n\nMon Dec 24 17:59:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (load_lock): reverted.\n\n\t* thread.c (rb_barrier_wait): check for recursive wait.\n\nMon Dec 24 17:50:54 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (function_call_may_return_twice_jmp_buf): removed.\n\t  (function_call_may_return_twice_false): removed.\n\t  [ruby-core:14335]\n\nMon Dec 24 17:40:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (node_name.inc, miniprelude.c, prelude.c): nmake cannot\n\t  handle target vpath in other than implicit rules.\n\nMon Dec 24 17:20:34 2007  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/{mailread.rb,getopts.rb,parsearg.rb}: removed.\n\t  see [ruby-core:12535], [ruby-dev:31969].\n\nMon Dec 24 17:12:57 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h, random.c, array.c:\n\t  change exported name.\n\t  genrand_int32 -> rb_genrand_int32.\n\t  genrand_real -> rb_genrand_real.\n\t  [ruby-core:14335]\n\nMon Dec 24 17:06:37 2007  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* {lib,test}/{soap,wsdl,xsd}: removed soap4r along to the discussion\n\t  at ruby-core and ruby-dev.  see [ruby-core:12535], [ruby-dev:31969].\n\nMon Dec 24 17:06:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* load.c (rb_feature_p): returns loading path name too.\n\n\t* load.c (search_required): returns path too if feature is being\n\t  loaded.  [ruby-dev:32048]  [TODO: refactoring]\n\nMon Dec 24 16:29:12 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* sample/openssl: reviewed and remove dependency on getopts.rb.\n\nMon Dec 24 16:18:57 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* mkconfig.rb: add teeny to CONFIG['ruby_version'].\n\nMon Dec 24 15:55:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/compile.rb, getrev.rb, runruby.rb: remove unused tools.\n\nMon Dec 24 15:42:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, cygwin/GNUmakefile.in, */Makefile.sub,\n\t  djgpp/config.hin.: version dependent directory names now contain\n\t  teeny.\n\nMon Dec 24 15:29:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/serb.rb: removed.\n\nMon Dec 24 13:55:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (rb_proc_new), vm.c (invoke_block): removed u3.state magic.\n\t  [ruby-core:14310]\n\n\t* test/ruby/test_symbol.rb (test_to_proc): a test from Frederick\n\t  Cheung <frederick.cheung AT gmail.com>.\n\nMon Dec 24 13:43:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_atfork): should not leave living_threads\n\t  referring freed table while allocating new table.\n\nMon Dec 24 12:49:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, configure.in, lib/mkmf.rb, */Makefile.sub: specify\n\t  compiled output file name explicitly.\n\n\t* enc/Makefile.in, enc/depend: now makes compiler to put generated\n\t  files under directories corresponding to the each source.\n\t  enc/trans supported.\n\n\t* enc/make_encmake.rb: evaluates depend file before Makefile.in so\n\t  that the former can influence to CONFIG.\n\nMon Dec 24 12:35:03 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win{32,ce}/Makefile.sub (MFLAGS): defaulted to -l.\n\nMon Dec 24 12:08:10 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* /, ext/:  Add svn:ignore for OS X Xcode 3's conftest.dSYM\n\t  directories.\n\nMon Dec 24 11:56:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: should not pass MAKEFLAGS to recursive make.\n\t  + normal make: MFLAGS are set and command line options and macros\n\t    are all passed silently.\n\t  + GNU make: ditto, and all options and macros in MAKEFLAGS are in\n\t    effect.\n\t  + nmake: MFLAGS is not set and MAKEFLAGS has only options without\n\t    hyphen, no macros exist in any variables.\n\t  + Borland make: ditto, and command line macros cannot override\n\t    macros in makefile, so passing them is vain.\n\n\t* {bcc32,win{32,ce}}/Makefile.sub (SET_MAKE): set MFLAGS which is not\n\t  set by default, to get rid of chaotic situation of MFLAGS/MAKEFLAGS.\n\nMon Dec 24 11:32:44 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): fixed to keep transitivity.\n\t  [ruby-dev:32693]\n\nMon Dec 24 11:20:31 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri/ri_options.rb:  Fix display of GEMDIRS, make command\n\t  examples match ri's name.\n\n\t* lib/rdoc/ri/ri_paths.rb:  Only allow latest ri dirs in ri output.\n\nMon Dec 24 10:49:04 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/uri/mailto.rb, lib/uri/common.rb:  Fix Regexp warnings.  Patch\n\t  #16524 from Kornelius Kalnbach, [ruby-core:14302].\n\nMon Dec 24 10:37:38 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb:  Remove methods from Gem, not QuickLoader, to fix\n\t  warnings.\n\nMon Dec 24 09:45:45 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c, transcode_data_one_byte.c, transcode_data_japanese.c:\n\t  added rb_ prefix to external data symbols.\n\nMon Dec 24 05:32:22 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_inject): updated documentation.  a patch from Keita\n\t  Yamaguchi <keita.yamaguchi AT gmail.com> in [ruby-dev:32686].\n\n\t* README.EXT: updated.  a patch from Tadashi Saito\n\t  <shiba AT mail2.accsnet.ne.jp> in [ruby-core:14328].\n\n\t* array.c (rb_ary_at): updated documentation. a patch from Tadashi\n\t  Saito <shiba AT mail2.accsnet.ne.jp> in [ruby-core:14330].\n\nMon Dec 24 05:13:04 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_trans): should associate new encoding if modified.\n\nMon Dec 24 04:04:12 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/net/http/test_https.rb: should rescue LoadError.\n\nMon Dec 24 03:57:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c, vm.h: fix to support sparc machine.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>\n\nMon Dec 24 03:35:19 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: remove additional \"-\".\n\nMon Dec 24 02:59:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_check_readable): should not fill fptr->enc always.\n\t  read-write IO (e.g. socket) does not work.  [ruby-dev:32685]\n\n\t* io.c (io_read_encoding): retrieve reading encoding.\n\n\t* io.c (prepare_getline_args): convert RS to external encoding.\n\n\t* string.c (str_new_shared): was setting embedding flag of wrong\n\t  string object.  [ruby-dev:32685]\n\n\t* io.c (io_enc_str): should preserve default_external encoding.\n\n\t* io.c (appendline): should do multibyte aware RS search.\n\nMon Dec 24 02:06:35 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_open): documentation update.\n\n\t* io.c (rb_io_s_pipe): ditto.\n\n\t* io.c (io_fwrite): wrong encoding destination.\n\n\t* io.c (rb_io_external_encoding): should return the encoding of\n\t  the file reading.\n\n\t* io.c (rb_io_internal_encoding): should return the encoding of\n\t  read string.\n\nMon Dec 24 01:46:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_pipe): allow specifying read-side encoding.\n\n\t* io.c (io_enc_str): wrong encoding destination.\n\nMon Dec 24 01:03:17 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): comparison including broken\n\t  coderange strings do not consider encoding.\n\nMon Dec 24 00:57:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (open_key_args): IO direct methods (foreach, readlines,\n\t  read) now takes keyword argument: encoding, mode, open_args.\n\nMon Dec 24 00:52:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_read): encoding argument reverted.\n\n\t* io.c (mode_enc): independent function to share code.\n\n\t* io.c (rb_io_internal_encoding): new method.\n\nMon Dec 24 00:47:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb (TestBeginEndBlock::test_endblockwarn):\n\t  rename endblockwarn.rb to endblockwarn_rb to avoid unnecessary\n\t  warning in make test.\n\nSun Dec 23 23:03:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_codepoint): implemented to raise invalid\n\t  encoding.\n\n\t* include/ruby/encoding.h (rb_enc_codepoint): macro is replaced as a\n\t  declaration.\n\nSun Dec 23 19:45:22 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/time.rb (Time.httpdate): fix 2 digits year for 20xx.\n\t  reported by Tadayoshi Funaba.  [ruby-dev:32687]\n\nSun Dec 23 19:33:42 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/open-uri.rb:  Fix method redefined warning.  [ruby-core:14304]\n\nSun Dec 23 18:31:49 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_enc_get): use rb_define_dummy_encoding.\n\n\t* ext/nkf/nkf.c (Init_nkf): use rb_nkf_enc_get(\"ASCII\").\n\n\t* ext/nkf/nkf-utf8/nkf.c: Update 1.161.\n\n\t* ext/nkf/nkf-utf9/config.h: default output encoding is now UTF-8.\n\n\t* ext/nkf/lib/kconv.rb (Kconv.kconv): replace Encoding#name by\n\t  Encoding#to_s.\n\nSun Dec 23 18:02:52 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems/gem_open_uri.rb:  Fix version check.\n\nSun Dec 23 17:24:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_init): add eucJP as an alias of EUC-JP.\n\nSun Dec 23 17:00:23 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/time.rb (Time.httpdate): use Time.utc for\n\t  \"day-of-week, dd-mon-yy HH::MM:SS GMT\" format.\n\nSun Dec 23 16:12:40 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc:  Fix 1.9 warnings.\n\nSun Dec 23 15:28:37 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems, test/rubygems:  Fix new 1.9 warnings.\n\nSun Dec 23 14:43:10 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb:  Use require to load rubygems.rb so the correct path\n\t  is in $LOADED_FEATURES on RubyGems upgrade.\n\nSun Dec 23 11:26:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (sym_call): use exact argument array interface.\n\t  [ruby-core:14279]\n\nSun Dec 23 11:01:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_binmode_m): removed C99ism.\n\nSun Dec 23 10:23:23 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode_data_one_byte.c: Better (and more honest) optimization.\n\n\t* transcode_data_japanese.c: First optimization step.\n\nSun Dec 23 09:07:02 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h, encoding.c, re.c, io.c, parse.y, numeric.c,\n\t  ruby.c, transcode.c, ext/nkf/nkf.c: rename rb_ascii_encoding to\n\t  rb_ascii8bit_encoding.  rb_ascii_encoding is ambiguous with\n\t  ASCII-8BIT and US-ASCII.\n\nSun Dec 23 03:35:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* version.h: use patchlevel if revision is not set.\n\n\t* {bcc32,win{32,ce}}/setup.mak (-version-): skip including revision.h.\n\n\t* common.mk (srcs): new target to generated sources.\n\n\t* common.mk (encs, ext/ripper/ripper.c): MAKEFLAGS needs -.\n\n\t* enc/depend, enc/make_encmake.rb: use erb.\n\nSun Dec 23 01:56:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_mode_enc): do not set encoding unless explicitly\n\t  specified.\n\n\t* io.c (rb_io_check_readable): fill fptr->enc by default_external\n\t  if it's empty.\n\n\t* io.c (io_enc_str): fptr->enc is always set for reading IO (by\n\t  rb_io_check_readable(fptr)).\n\nSun Dec 23 01:18:06 2007  David Flanagan  <david@davidflanagan.com>\n\n\t* io.c, io.h: temporary patch to partially implement\n\t  transcode-on-read and transcode-on-write\n\nSun Dec 23 00:48:05 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/net/imap/test_imap.rb: added tests for SSL.\n\nSat Dec 22 21:10:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_genericresolver_node_import): should\n\t  not set instance variable \"@kind\" before initializing it.\n\t  [ruby-dev:32677]\n\nSat Dec 22 19:52:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_objectspace.rb: fix condition.\n\nSat Dec 22 19:17:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/probeprofiler/: removed.\n\nSat Dec 22 19:14:38 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* process.c (rb_f_fork): Unsupport Kernel.fork() on NetBSD.\n\nSat Dec 22 15:54:54 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* test/ruby/test_transcode.rb: Added simple tests for\n\t  EUC-JP and Shift_JIS and tests for ASCII-only range\n\nSat Dec 22 18:20:13 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (version.o): add dependency. [ruby-dev:32680]\n\nSat Dec 22 17:45:11 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (Init_nkf): use rb_ascii_encoding() for\n\t  rb_nkf_enc_get(\"US-ASCII\").\n\t  * if use rb_nkf_enc_get(\"US-ASCII\"), ruby will crash - this is bug?\n\nSat Dec 22 17:39:03 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb ($extmk): fixed broken condition.\n\nSat Dec 22 17:35:59 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8.c: Update nkf.c rev:1.157.\n\n\t* ext/nkf/nkf.c (rb_nkf_enc_get): replicate proper based encoding.\n\n\t* ext/nkf/kconv.c (Kconv#kconv, to*): use self.encoding as from_enc\n\t  when from_enc isn't given.\n\nSat Dec 22 17:06:50 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/net/ssl.rb (OpenSSL::SSL::SSLContext.build): removed.\n\n\t* ext/openssl/lib/net/ssl.rb (OpenSSL::SSL::SSLContext#set_params):\n\t  new method to set suitable SSL parameters.\n\n\t* lib/net/pop.rb, lib/net/http.rb, lib/net/imap.rb,\n\t  test/openssl/test_ssl.rb: follow above change.\n\n\t* test/net/http/test_https.rb: refine error case.\n\nSat Dec 22 16:58:49 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (encode_utf7): accept UTF-8 strings.\n\n\t* lib/net/imap.rb (decode_utf7): return UTF-8 strings.\n\nSat Dec 22 15:56:36 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* transcode_data_japanese: typo.\n\nSat Dec 22 15:54:54 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* ChangeLog: Information for last patch got lost, fixed\n\nSat Dec 22 15:45:45 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode_data_one_byte: slightly optimized\n\n\t* transcode_data_japanese: new data file for EUC-JP and SHIFT_JIS\n\t  (not yet optimized; tests to follow; data from\n\t  http://nkf.sourceforge.jp/ucm/{SJIS|eucJP}-nkf.ucm)\n\n\t* common.mk, transcode.c: Adjusted for transcode_data_japanese\n\nSat Dec 22 15:30:13 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* */Makefile.sub (MFLAGS): define unless defined.\n\nSat Dec 22 15:17:40 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb ($extmk): set true only when under ext/ or tool/.\n\nSat Dec 22 15:14:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encs, ext/ripper/ripper.c): needs MFLAGS.\n\n\t* configure.in (STRINGIZE): stringizing macro.\n\n\t* include/ruby/defines.h (STRINGIZE): fallback.\n\n\t* tool/make-snapshot: new file.\n\n\t* version.c (ruby_description, ruby_copyright): string constants for\n\t  -v option.\n\nSat Dec 22 15:03:37 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (initialize): fixed documentation.\n\nSat Dec 22 15:01:16 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/pop.rb (enable_ssl): use OpenSSL::SSL::SSLContext.build\n\t  instead of SSLContext.new (default verify mode is now\n\t  OpenSSL::SSL::VERIFY_PEER).\n\nSat Dec 22 14:45:21 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: shouldn't freeze nil. [ruby-dev:32677]\n\nSat Dec 22 14:27:27 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* regenc.c (onigenc_ascii_is_code_ctype): moved from enc/ascii.c.\n\n\t* regenc.h (onigenc_ascii_is_code_ctype): declared.\n\n\t* enc/ascii.c: use onigenc_ascii_is_code_ctype.\n\n\t* enc/us_ascii.c: new file for US-ASCII.\n\nSat Dec 22 14:30:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reg_named_capture_assign_iter): allows non-ascii names and\n\t  get rid of reserved word IDs.\n\nSat Dec 22 14:18:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_float.rb, test_sprintf.rb: fix test place.\n\nSat Dec 22 14:17:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_objectspace.rb: skip frozen string.\n\nSat Dec 22 14:02:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* array.c (rb_ary_permutation): add volatile to avoid GC problem.\n\nSat Dec 22 11:47:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_obj_instance_eval): use class of immediate objects.\n\n\t* test/ruby/test_eval.rb: fix a test.\n\nSat Dec 22 11:37:06 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* encoding.c (rb_locale_charmap): win32 support.\n\nSat Dec 22 11:31:14 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb:  Place bin dir before lib dir so gem bin stubs work.\n\nSat Dec 22 11:05:44 2007  Jim Weirich  <jim@tardis.local>\n\n\t* lib/rake.rb (Rake): Added Rake and related libraries to the\n\t  source code base.\n\nSat Dec 22 10:30:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/insns2vm.rb: moved from lib/vm/instruction.rb.\n\nSat Dec 22 10:25:44 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (reg_named_capture_assign_iter): captured name should\n\t  not be reserved word.  a patch from Keita Yamaguchi\n\t  <keita.yamaguchi AT gmail.com> in [ruby-dev:32675].\n\n\t* parse.y (reg_named_capture_assign_iter): just ignore the\n\t  captures that do not have valid local variable name.\n\nSat Dec 22 10:19:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_method_name): now __method__ and __callee__ are\n\t  aliases.  [ruby-core:14244]\n\nSat Dec 22 08:29:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_buf_append): improvement for non-broken coded\n\t  strings.\n\nSat Dec 22 06:30:04 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_fork.rb: skip if fork is not unsupported.\n\n\t* bootstraptest/test_io.rb: skip if require failed.\n\nSat Dec 22 06:09:12 2007  David Flanagan  <david@davidflanagan.com>\n\n\t* io.c: fix typo in rdoc comment\n\nSat Dec 22 05:09:43 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_str_new, rb_intern3): rb_default_encoding() renamed.\n\n\t* ext/nkf/nkf.c (rb_nkf_putchar): ditto.\n\nSat Dec 22 03:54:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_ascii_encoding): renamed from previous\n\t  rb_default_encoding().\n\nSat Dec 22 02:49:02 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (command): block from cmd_brace_block was ignored.\n\t  [ruby-dev:32644]\n\n\t* re.c (rb_reg_prepare_re): stop ENCODING_NONE warning if the\n\t  encoding of the str is ASCII-8BIT.\n\nSat Dec 22 01:52:11 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_ungetc): avoid buffer relocation, which might cause\n\t  serious problem under concurrent situation.\n\nSat Dec 22 01:35:41 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (ARG_ENCODING_NONE): defined for /.../n option.\n\t  (REG_ENCODING_NONE): ditto.\n\t  (rb_char_to_option_kcode): return ARG_ENCODING_NONE for n.\n\t  (rb_reg_prepare_re): warn /ascii/n =~ \"non-ascii\".\n\t  (rb_reg_initialize): set REG_ENCODING_NONE from ARG_ENCODING_NONE.\n\nSat Dec 22 01:23:10 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/json/test_json_addition.rb (test_core): do not use Time.now\n\t  because JSON can't hold nsec.\n\nSat Dec 22 01:10:30 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tk/sample/tkextlib/vu/canvSticker2.rb,\n\t  ext/tk/sample/demos-{en,jp}/bind.rb: fix typo. [ruby-dev:32668]\n\nSat Dec 22 00:56:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/test.rb (valid_syntax): force_encoding input script.\n\nFri Dec 21 23:48:38 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (depend_rules): suffixes list broken. fixed.\n\nFri Dec 21 20:18:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_mul0): remove unused variable.\n\n\t* bignum.c (bigdivrem): ditto.\n\nFri Dec 21 20:13:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (rb_catch_obj, rb_throw_obj): prototyped.\n\n\t* include/ruby/intern.h (rb_fiber_alive_p): prototyped.\n\nFri Dec 21 20:09:18 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_succ): retry increasing until valid char is found.\n\nFri Dec 21 20:00:02 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_replicate): now creates first class encoding.\n\n\t* encoding.c (rb_define_dummy_encoding): always based on the default\n\t  encoding.\n\n\t* encoding.c (rb_enc_dummy_p): check if dummy.\n\n\t* encoding.c (enc_inspect): shows if dummy.\n\n\t* encoding.c (Init_Encoding): added dummy? method\n\n\t* include/ruby/encoding.h (ENCODING_INLINE_MAX): increased.\n\nFri Dec 21 18:40:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* io.c: write() should be in blocking region.\n\n\t* bootstraptest/test_io.rb, test_knownbug.rb: move a fixed test.\n\nFri Dec 21 17:56:30 2007  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: provisional support on Ruby-VM.\n\n\t* ext/tk/MANUAL_tcltklib.eng, ext/tk/MANUAL_tcltklib.eucj:\n\t  modify document about new functions.\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/labelframe.rb,\n\t  ext/tk/lib/tk/frame.rb, ext/tk/lib/tk/toplevel.rb,\n\t  ext/tk/lib/tk/scrollbar.rb, ext/tk/lib/tk/message.rb,\n\t  ext/tk/lib/tk/listbox.rb, ext/tk/lib/tk/text.rb,\n\t  ext/tk/lib/tk/scale.rb, ext/tk/lib/tk/entry.rb,\n\t  ext/tk/lib/tk/ttk_selector.rb, ext/tk/lib/tk/menu.rb,\n\t  ext/tk/lib/tk/label.rb, ext/tk/lib/tk/spinbox.rb,\n\t  ext/tk/lib/tk/textmark.rb, ext/tk/lib/tk/winpkg.rb,\n\t  ext/tk/lib/tk/checkbutton.rb, ext/tk/lib/tk/panedwindow.rb,\n\t  ext/tk/lib/tk/texttag.rb, ext/tk/lib/tk/root.rb,\n\t  ext/tk/lib/tk/textimage.rb, ext/tk/lib/tk/radiobutton.rb,\n\t  ext/tk/lib/tk/package.rb, ext/tk/lib/tk/macpkg.rb,\n\t  ext/tk/lib/tk/composite.rb, ext/tk/lib/tk/autoload.rb,\n\t  ext/tk/lib/tk/canvas.rb, ext/tk/lib/tk/button.rb,\n\t  ext/tk/lib/tk/textwindow.rb,\n\t  ext/tk/lib/tkextlib/iwidgets/scrolledtext.rb,\n\t  ext/tk/lib/tkextlib/tile/style.rb,\n\t  ext/tk/lib/tkextlib/tile/tscrollbar.rb,\n\t  ext/tk/lib/tkextlib/tile/tpaned.rb, ext/tk/lib/tkextlib/tile.rb,\n\t  ext/tk/extconf.rb: support Tcl/Tk8.5 (partial, not complete).\n\n\t* ext/tk/sample/demos-jp/widget,\n\t  ext/tk/sample/demos-jp/pendulum.rb,\n\t  ext/tk/sample/demos-jp/bind.rb,\n\t  ext/tk/sample/tkextlib/vu/canvSticker2.rb,\n\t  ext/tk/sample/demos-en/pendulum.rb,\n\t  ext/tk/sample/demos-en/bind.rb: remove $KCODE and minor bug fix.\n\nFri Dec 21 17:49:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (rb_str_transcode_bang): returns self if no conversion.\n\t  [ruby-dev:32662]\n\nFri Dec 21 17:44:47 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*:  Update to RubyGems 1.0.1, r1581\n\nFri Dec 21 17:32:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/pending.rb: renamed from featurebug.rb.\n\t  This file contains bugs which is known but will not be\n\t  fixed in days.\n\nFri Dec 21 17:31:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* debug.c (dummy_gdb_enums.various): added ENCODING and CODERANGE\n\t  constants.\n\n\t* .gdbinit: use enum constants.\n\nFri Dec 21 17:28:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/featurebug.rb: added.\n\n\t* bootstraptest/test_knownbug.rb: move a feature bug.\n\nFri Dec 21 17:25:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_atfork): fix to mark thread object.\n\t  [ruby-dev:32404]\n\n\t* bootstraptest/test_knownbug.rb, test_fork.rb: move a fixed test.\n\nFri Dec 21 17:07:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.h: extern variable should not be initialized.\n\n\t* thread_pthread.c: add a parameter.\n\nFri Dec 21 16:50:43 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (Init_Encoding): use enc_name as to_s.\n\t  (enc_inspect): renamed from enc_to_s.  add \"#\" at beginning.\n\nFri Dec 21 16:37:43 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/config.h (MIME_DECODE_DEFAULT, X0201_DEFAULT):\n\t defined as FALSE.  nkf and kconv don't decode MIME encoded string\n\t and don't convert JIS X 0201 Katakana.\n\n\t* test/nkf/test_kconv.rb: fix tests.\n\nFri Dec 21 16:33:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (enumerator_iter_i): adjusted for rb_block_call_func.\n\n\t* include/ruby/ruby.h (rb_block_call_func): function to be called back\n\t  as block.\n\nFri Dec 21 16:25:25 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* common.mk, transcode_data_iso_8859.c: renamed to\n\t  transcode_data_one_byte.c.\n\nFri Dec 21 16:10:30 2007  Shigeo Kobayashi  <shigeo@tinyforest.jp>\n\n\t* ext/bigdecimal/bigdecimal.c (VpMidRound): Round method bug\n\t  pointed by Ryan Platte fixed(Patch to the patch from \"NATORI\n\t  Shin\").  [ruby-talk:273360]\n\nFri Dec 21 16:06:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (append_utf8): use rb_utf8_encoding() instead of\n\t  rb_enc_find(\"utf-8\").\n\nFri Dec 21 15:59:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_init): use enc_register_at() directly.\n\n\t* encoding.c (rb_utf8_encoding): returns utf-8 encoding.\n\n\t* include/ruby/encoding.h (rb_utf8_encoding): prototyped.\n\n\t* parse.y (UTF8_ENC): uses rb_utf8_encoding().\n\nFri Dec 21 15:31:59 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_read): allow specifying encoding explicitly.\n\n\t* io.c (rb_io_binmode): specifies encoding to ASCII-8BIT (binary).\n\n\t* io.c (rb_io_s_read): IO should be in binary mode when offset is\n\t  specified.\n\n\t* encoding.c (rb_to_encoding): returns default encoding if no\n\t  corresponding encoding found.\n\nFri Dec 21 15:24:22 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (initialize): accept service name.  changed\n\t  the default value of the old style +verify+ argument to true.\n\nFri Dec 21 15:15:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (rb_garbage_collect): new function for debugging.\n\nFri Dec 21 15:16:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_to_encoding_index): should return error instead of\n\t  exception even if type is incorrect.\n\nFri Dec 21 14:58:27 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_init_copy): prohibit cloning of\n\t  generators since Fibers cannot be copied.\n\n\t* enumerator.c (enumerator_init_copy): typo fixed.\n\nFri Dec 21 14:46:07 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (Init_IO): define IO::BINARY even if O_BINARY is not exist.\n\nFri Dec 21 14:01:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_system.rb (TestSystem::valid_syntax): apply\n\t  ASCII-8BIT encoding explicitly.\n\n\t* re.c (rb_reg_prepare_re): add encoding name in the message.\n\nFri Dec 21 13:54:05 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c: change \"character encodings differ\" error messages.\n\nFri Dec 21 13:46:58 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_register): set encoding constant.\n\n\t* encoding.c (rb_enc_find_index): replace non-alphanumeric chars with\n\t  underscores, so that initialize function can be called.\n\n\t* encoding.c (rb_enc_find_index): extension libraries have lower case\n\t  names conventionally.\n\n\t* ruby.c (proc_options, process_options): finds encoding after\n\t  load_path is initialized.\n\nFri Dec 21 13:10:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_external_encoding): new method.\n\n\t* encoding.c (rb_enc_from_encoding): returns Qnil for NULL\n\t  encoding.\n\n\t* io.c (rb_io_external_encoding): should fill delayed\n\t  initialization for STDIN.\n\nFri Dec 21 13:09:11 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_locale_charmap): return nil if no locale information.\n\nFri Dec 21 12:55:39 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/runit, lib/rubyunit.rb, test/testunit/runit: removed.\n\nFri Dec 21 12:45:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_chomp_bang): avoid unnecessary loop using\n\t  ONIGENC_LEFT_ADJUST_CHAR_HEAD().\n\nFri Dec 21 12:32:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (Init_File): File.exists? revived.\n\n\t* dir.c (Init_Dir): Dir.exists? again.\n\nFri Dec 21 12:26:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: remove \"illegal\".\n\nFri Dec 21 12:22:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* keywords, parse.y (__ENCODING__): represent script encoding.\n\nFri Dec 21 12:16:50 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_is_ascii_only_p): new method ascii_only?.\n\nFri Dec 21 12:11:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_mode_enc): set default external encoding if no\n\t  encoding specified explicitly.\n\nFri Dec 21 12:00:34 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in: check langinfo.h and locale.h.\n\n\t* encoding.c: use langinfo.h only if available.\n\n\t* main.c: use locale.h only if available.\n\nFri Dec 21 11:47:56 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c: include locale.h\n\t  (rb_locale_charmap): new method Encoding.locale_charmap for\n\t  nl_langinfo(CODESET).\n\n\t* include/ruby/encoding.h (rb_locale_charmap): declared.\n\n\t* main.c (main): call setlocale with LC_CTYPE.\n\n\t* ruby.c (locale_encoding): use rb_locale_charmap.\n\nFri Dec 21 11:35:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_dump.c: fix typo.  Reported by Yuki Mitsui.\n\nFri Dec 21 11:28:00 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* regerror.c, string.c, io.c, lib/getoptlong.rb, lib/net/imap.rb,\n\t  compile.c, sprintf.c, parse.y, ext/win32ole/win32ole.c,\n\t  ext/tk/sample/demos-en/entry3.rb, ext/tk/lib/tcltk.rb,\n\t  ext/openssl/ossl_bn.c, numeric.c, vm.c,\n\t  benchmark/bm_so_meteor_contest.rb, bignum.c, ruby.c: don't \"illegal\"\n\t  for non law violation context.\n\nFri Dec 21 11:23:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (enc.mk): depends on $(RBCONFIG) instead of rbconfig.rb.\n\n\t* encoding.c (Init_Encoding): ISO-8859-1 is no longer a replica.\n\n\t* regenc.h (OnigEncodingDefine): names of extension and encoding can\n\t  differ.\n\n\t* enc/Makefile.in: always shared.\n\n\t* enc/depend (deffile): should not upcase.\n\n\t* enc/{ascii,euc_jp,sjis,utf8,iso_8859_{1..16}}.c: fix for Init.\n\nFri Dec 21 09:26:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: use erb.\n\nFri Dec 21 08:07:35 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_next): should call next_init() if fiber\n\t  is dead already. [ruby-dev:32459]\n\nFri Dec 21 01:21:49 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLContext.build):\n\t  enable CRL checking by default.\n\nFri Dec 21 01:20:56 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/http.rb (Net::HTTP#connect): use\n\t  OpenSSL::SSL::SSLContext.build instead of SSLContext.new (default\n\t  verify mode is now OpenSSL::SSL::VERIFY_PEER).\n\n\t* lib/net/https.rb: SSL parameters are defined by attr_accessor.\n\n\t* test/net/http/test_https.rb: add test for HTTPS features.\n\nFri Dec 21 01:11:37 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* io.c (select_internal): should return original value.\n\nFri Dec 21 00:26:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_trans): wrong encoding check for tree strings.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_tr_s): \"invalid mbstring\n\t  sequence\" is not an error to be tested.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_tr): ditto.\n\nThu Dec 20 19:29:07 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (initialize): the second argument is an option\n\t  hash now.  use SSLContext.build to specify SSL parameters.\n\nThu Dec 20 19:11:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.c (native_thread_apply_priority): check\n\t  _POSIX_PRIORITY_SCHEDULING for OpenBSD.\n\nThu Dec 20 18:33:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* configure.in: add libthr for FreeBSD.\n\nThu Dec 20 18:17:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk, *.ci: renamed to *.c.\n\n\t* eval_load.c: renamed to load.c.\n\nThu Dec 20 17:36:01 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*:  Import RubyGems 1.0.0, r1575.\n\nThu Dec 20 17:18:38 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c: support Proc#binding.\n\n\t* sample/test.rb: add a test.\n\nThu Dec 20 17:15:15 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* pack.c: Slight change to documentation ('character' ->\n\t  'byte (C char)'). [ruby-core:13126], see also [ruby-core:13998].\n\nThu Dec 20 17:07:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (enc.mk): depends on rbconfig.rb.\n\n\t* regenc.h (OnigEncodingDefine): external encoding definition macro.\n\n\t* enc/Makefile.in: fix for linking.\n\n\t* enc/depend, enc/make_encmake.rb: fix for Windows.\n\n\t* enc/{ascii,euc_jp,sjis,utf8,iso_8859_{1..16}}.c: renamed.\n\nThu Dec 20 16:42:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (find_line_no): return 0 if not found.\n\nThu Dec 20 16:04:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci, vm.c, vm_core.h: change interface of\n\t  vm_invoke_block() to specify block ptr.  [ruby-talk:266422]\n\n\t* cont.c, eval_jump.ci, insns.def, proc.c, signal.c, thread.c:\n\t  apply above change.\n\n\t* bootstraptest/test_knownbug.rb: move fixed bug.\n\n\t* bootstraptest/test_block.rb: ditto. and add a test.\n\nThu Dec 20 15:47:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/iso_8859_{1..16}.c: renamed.\n\nThu Dec 20 09:59:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_expandarray): fix sp increase place.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp> in [ruby-dev:32581].\n\n\t* bootstraptest/test_massign.rb: add a test for above.\n\n\t* bootstraptest/test_syntax.rb: fix last committed test.\n\nThu Dec 20 09:47:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_syntax.rb: add a test.\n\nThu Dec 20 09:40:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each/NODE_RETURN): fix stack consistency.\n\nThu Dec 20 09:42:11 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (big2str_orig): access beyond memory region cause crash\n\t  on interrupt.  a patch from Yusuke ENDOH <mame AT tsg.ne.jp> in\n\t  [ruby-dev:32651].  [ruby-dev:32641]\n\nThu Dec 20 09:06:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_index): wrong starting position.\n\nThu Dec 20 06:34:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): add pop after throw as return.\n\n\t* bootstraptest/test_knownbug.rb, test_syntax.rb: move resolved test.\n\n\t* vm_core.h, iseq.c, compile.h: add debug output code.\n\nThu Dec 20 04:57:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): remove unused retry entry.\n\nThu Dec 20 04:15:41 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* */Makefile.sub (DEFS, RM): output to config.status.\n\nThu Dec 20 02:59:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* common.mk (encs): create encoding directory.\n\nThu Dec 20 02:50:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/iso8859_{1..16}.c: adjust for ruby.\n\nThu Dec 20 02:28:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/iso8859_{1..16}.c: imported from Onigiruma 5.9.0.\n\nThu Dec 20 02:23:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/Makefile.in (RM): added.\n\n\t* enc/depend (encs): sort in alpha-numeric order.\n\n\t* enc/depend (clean, distclean): added.\n\nThu Dec 20 01:10:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): should handle upper level eval iseq\n\t  from break/next, and COMPILE_ERROR() breaks only one block.\n\t  [ruby-dev:31372]\n\nThu Dec 20 00:07:36 2007  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/drbtest.rb (test_07_public_private_protected_missing):\n\t  followed current Ruby specification.\n\nWed Dec 19 23:57:37 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (dir_inspect, dir_path, dir_tell): check for frozen and closed\n\t  is not needed.  [ruby-dev:32640]\n\nWed Dec 19 22:59:52 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_sublen): adjust position if position is not at the\n\t  head of a character.\n\n\t* string.c (rb_str_chomp_bang): check if match start at the head\n\t  of a character.\n\n\t* string.c (rb_str_chomp_bang): wrong adjust condition.\n\n\t* string.c (rb_str_rindex): comparison length should be based on\n\t  bytes, not characters.\n\n\t* string.c (rb_str_rindex_m): too much adjustment.\n\n\t* re.c (reg_match_pos): pos adjustment should be based on\n\t  characters.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_str_insert): test updated\n\t  to check negative offset behavior.\n\n\t* string.c (rb_str_each_line): should consider rslen.\n\n\t* string.c (rb_str_buf_append): should propagate encoding.\n\n\t* string.c (rb_str_each_line): ditto.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_str_each_line): should\n\t  check encoding as well.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_str_each_line): empty\n\t  array can not propagate encoding;  should not check.\n\nWed Dec 19 21:42:18 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_regsub): should set checked encoding.\n\n\t* string.c (rb_str_sub_bang): applied r14212 too.\n\nWed Dec 19 20:40:01 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bignum.c (bigmul1): C99ism.\n\n\t* bignum.c (bigdivrem1): need dummy return value.\n\nWed Dec 19 19:18:06 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: Updated.\n\n\t* ext/nkf/nkf.c (rb_nkf_enc_get): added.\n\t  (find encoding or replicate default encoding)\n\n\t* ext/nkf/nkf.c (NKF::<ENCODING>): redefine encoding constant.\n\n\t* ext/nkf/lib/kconv.rb (Kconv::<ENCODING>): redefined as Encoding.\n\n\t* ext/nkf/lib/kconv.rb: refactoring.\n\nWed Dec 19 19:11:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_mul0): blocking check for bigger numbers.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp> in [ruby-dev:32632].\n\n\t* bignum.c (bigdivrem): ditto.\n\nWed Dec 19 17:34:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): remove \"retry\" in block.\n\t  (\"iter{retry}\" cause syntax error)\n\t  Currently, \"begin; ...; rescue; iter{retry}; end\" cause\n\t  syntax error too.\n\n\t* bootstraptest/test_jump.rb: ditto.\n\n\t* lib/drb/invokemethod.rb: ditto.\n\n\t* sample/drb/darrayc.rb: ditto.\n\n\t* sample/test.rb: ditto.\n\n\t* test/drb/drbtest.rb: ditto.\n\n\t* test/ruby/test_iterator.rb: ditto.\n\n\t* sample/test.rb: add a 'test' directory on the SYSTEM test.\n\nWed Dec 19 17:12:59 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb, test_block.rb:\n\t  move fixed bug.\n\n\t* bootstraptest/test_m17n.rb: added.\n\nWed Dec 19 16:59:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (errinfo_place): skip if error is Fixnum.  [ruby-dev:32608]\n\n\t* bootstraptest/test_exception.rb, test_known_bug.rb: move fixed bug.\n\nWed Dec 19 16:31:58 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reg_named_capture_assign_iter): remove C99 dependency.\n\n\t* parse.y (reg_named_capture_assign_iter): get rid of creating\n\t  unnecessary ID.\n\n\t* parse.y (rb_enc_symname2_p): check for non-nul-terminated string.\n\nWed Dec 19 15:37:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insnhelper.ci (vm_yield_with_cfunc): call cfunc with\n\t   (argv[0], data, argc, argv) to pass all arguments.\n\n\t* enumerator.c (enumerator_each_i): adapted to new calling\n\t  convention.\n\nWed Dec 19 15:13:20 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_justify): should propagate encoding from pad\n\t  string too.\n\nWed Dec 19 13:57:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (TIMEZONE_VOID): check whether timezone requires zero\n\t  arguments.  [ruby-dev:32631]\n\nWed Dec 19 13:22:14 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (NKF::_ENCODING): removed.\n\n\t* ext/nkf/nkf.c (rb_nkf_kconv): renamed to rb_nkf_convert.\n\n\t* ext/nkf/nkf.c (rb_nkf_convert): set encoding.\n\n\t* ext/nkf/nkf.c (rb_nkf_guess1): removed.\n\n\t* ext/nkf/nkf.c (rb_nkf_guess2): renamed to rb_nkf_guess.\n\n\t* ext/nkf/nkf.c (rb_nkf_guess):\n\t  guess method now returns encoding object.\n\n\t* ext/nkf/nkf-utf8/nkf.c: Update to nkf 2.0.8 2007-12-19.\n\nWed Dec 19 10:52:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_cstr_to_inum): an underscore succeeding after octal\n\t  prefix is allowed.  [ruby-core:14139]\n\nWed Dec 19 00:09:19 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_cstr_to_inum): wrong radix check.  a patch from\n\t  Yusuke ENDOH <mame AT tsg.ne.jp> in [ruby-dev:32628].\n\n\t* bignum.c (big2str_find_n1): ditto.\n\nTue Dec 18 23:53:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): fix for segfault.  [ruby-dev:31372]\n\nTue Dec 18 23:44:32 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/net/http/utils.rb: split TestNetHTTPUtils module from\n\t  test/net/http/test_http.rb. and start HTTP server in each test case.\n\nTue Dec 18 23:27:51 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#accept_client):\n\t  should rescue Errno::EINVAL from TCPServer#accept. this exception\n\t  might occur if the server socket is not in ready to listen.\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#accept_client):\n\t  don't call TCPServer#close if the :ShutdownSocketWithoutClose is set.\n\n\t* lib/webrick/config.rb (WEBrick::Config::General): add new parameter\n\t  :ShutdownSocketWithoutClose.\n\nTue Dec 18 22:51:47 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLServer#shutdown):\n\t  new method which calls TCPSocket#shutdown of the underlying socket.\n\nTue Dec 18 22:11:50 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/rss/parser.rb, lib/rss/atom.rb, lib/rss/rss.rb,\n\t  test/rss/rss-assertions.rb, test/rss/test_atom.rb: use\n\t  pack/unpack(\"m\") instead of base64 library.\n\n\t* lib/webrick/httpproxy.rb: use delete(\"\\n\") instead of chomp/chop\n\t  because the result of pack(\"m\") might be multi-line.\n\nTue Dec 18 22:12:35 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci, vm.c: rewrite sp manipulation around method/block\n\t  invocation.  [ruby-dev:32547]\n\nTue Dec 18 22:11:23 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/dl/win32/lib/win32/sspi.rb: use pack/unpack(\"m\") instead of\n\t  base64 library which was already removed.\n\nTue Dec 18 21:09:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (invoke_block): merge 2 stack overflow checks.\n\nTue Dec 18 20:58:35 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, insnhelper.ci, insns.def, object.c, vm.c, vm.h:\n\t  optimize !@, != method invocation.\n\n\t* id.c, id.h: ditto.\n\n\t* bootstraptest/test_syntax.rb: add tests for above.\n\nTue Dec 18 18:10:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: add issues.\n\nTue Dec 18 20:22:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (arg tMATCH arg): call reg_named_capture_assign_gen if regexp\n\t  literal is used.\n\t  (reg_named_capture_assign_gen): assign the result of named capture\n\t  into local variables.\n\t  [ruby-dev:32588]\n\n\t* re.c: document the assignment by named captures.\n\nTue Dec 18 18:09:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_splice): propagate encoding.\n\n\t* string.c (rb_str_subpat_set): ditto.\n\nTue Dec 18 17:27:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_freeze): preserve frozen state of immediate\n\t  values in internal hash table, a la generic_ivar.\n\n\t* object.c (rb_obj_frozen_p): check immediate values too.\n\n\t* variable.c (generic_ivar_set): add frozen check fro immediate\n\t  values.\n\nTue Dec 18 17:04:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (rb_str_transcode_bang, rb_str_transcode): set new\n\t  encoding even if no conversion is done because of 7bit only.\n\t  [ruby-dev:32591]\n\nTue Dec 18 15:43:59 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encs, ext/ripper/ripper.c): other options must come\n\t  before MAKEFLAGS in GNU make.\n\nTue Dec 18 15:19:55 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Don't call private fail anymore.\n\nTue Dec 18 15:17:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encs, ext/ripper/ripper.c): pass MAKEFLAGS.\n\nTue Dec 18 14:45:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (op_tbl): remove duplication to avoid symbol aliases.\n\nTue Dec 18 14:39:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_nth): need not to raise out-of-range exception.\n\n\t* test/ruby/test_m17n.rb (TestM17N::test_str_aref_len): removed\n\t  debug print.\n\nTue Dec 18 14:05:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enc/depend: get rid of target expanded as empty for nmake.\n\nTue Dec 18 07:56:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* proc.c (rb_obj_public_method): Object#public_method to retrieve\n\t  public method object.\n\n\t* proc.c (rb_mod_public_instance_method): Module#public_instance_method\n\t  to retrieve public instance method from class / module.\n\n\t* proc.c (mnew): visibility check added.\n\n\t* eval_error.ci (rb_print_undef): add rb_ prefix.\n\n\t* eval_error.ci (rb_print_undef): add visibility in the error\n\t  message.\n\nTue Dec 18 05:54:26 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/Env.rb, lib/base64.rb, lib/importenv.rb, lib/eregex.rb: removed.\n\n\t* lib/ping.rb, lib/readbytes.rb: removed\n\nTue Dec 18 02:30:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (BUILTIN_ENCS): removed.\n\n\t* common.mk (enc.mk): pass BUILTIN_ENCS from command line.\n\n\t* enc/depend: ditto.\n\n\t* enc/make_encmake.rb: ditto.\n\nTue Dec 18 01:46:48 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): need to clear output buffer to avoid\n\t  broken encoding compatibility check.\n\nTue Dec 18 01:40:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (depend_rules): inserts ruby to only headers.\n\nTue Dec 18 01:21:19 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_encode_length): chomp eol style modifiers.\n\n\t* parse.y (parser_magic_comment): ditto.\n\n\t* parse.y (set_file_encoding): ditto.\n\nTue Dec 18 01:15:44 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encs): added dependencies.\n\n\t* enc/Makefile.in, enc/depend, enc/make_encmake.rb: moved serb code.\n\n\t* lib/mkmf.rb (depend_rules): now takes content string, not file name.\n\n\t* win32/enc-setup.mak: overrides default target.\n\nTue Dec 18 00:26:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): raise error if non-Unicode fixed\n\t  encoding option is specified for regexp literals with \\u{}\n\t  escapes.\n\n\t* string.c (rb_str_squeeze_bang): should squeeze multibyte\n\t  characters as well.\n\nMon Dec 17 21:41:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/enc-setup.mak: extracts BUILTIN_ENCOBJS.\n\n\t* tool/compile_prelude.rb: needs srcdir.\n\nMon Dec 17 21:24:04 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* common.mk (miniprelude.c): add -I$(srcdir).\n\nMon Dec 17 20:53:27 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_set_ssl_version):\n\t  new method OpenSSL::SSL::SSLContext#ssl_version to wrap\n\t  SSL_CTX_set_ssl_version.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_get_verify_result):\n\t  new method OpenSSL::SSL::SSLSocket#verify_result to wrap\n\t  SSL_get_verify_result.\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLContext.build):\n\t  new method to build OpenSSL::SSL::SSLContext with Hash parameters.\n\t  this method provides safety default parameters than SSLContext.new.\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL.verify_certificate_identity):\n\t  new module function: pull out identity verification process\n\t  from OpenSSL::SSL::SSLSocket#post_connection_check.\n\nMon Dec 17 18:42:23 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (scan_once): need no encoding compatibility check.\n\t  it's done inside of re_reg_search().\n\n\t* string.c (rb_str_split_m): ditto.\n\n\t* re.c (rb_reg_regsub): ditto.\n\nMon Dec 17 17:50:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_index): check if substring is broken.\n\n\t* string.c (rb_str_rindex): ditto.\n\n\t* string.c (rb_str_succ): should carry over.\n\nMon Dec 17 17:47:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (encs): new target to compile external encodings.\n\n\t* enc/Makefile.in: became a serb template.\n\n\t* enc/make_encmake.rb: creates enc.mk from enc/Makefile.in using serb.\n\n\t* lib/mkmf.rb (relative_from): moved from ext/extmk.rb.\n\n\t* lib/mkmf.rb ($extmk): true if under to top source directory, not\n\t  only ext.\n\n\t* lib/mkmf.rb (depend_rules): extracted from create_makefile.\n\n\t* tool/serb.rb (serb): splitted from tool/compile_prelude.rb.\n\nMon Dec 17 17:32:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (MAKEFILES): removed enc/Makefile.\n\n\t* configure.in (EXTERNAL_ENCOBJS, ENCSOS): removed.\n\n\t* enc/Makefile.in (BUILTIN_ENCS): includes .c suffix.\n\n\t* enc/depend: splitted from Makefile.in.\n\n\t* {bcc32,win32,wince}/setup.mak (-encs-): extracts BUILTIN_ENCOBJS.\n\nMon Dec 17 17:07:53 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_enc_str_asciionly_p): use rb_enc_str_coderange.\n\nMon Dec 17 16:39:25 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_enc_str_coderange): set ENC_CODERANGE_BROKEN using\n\t  rb_enc_precise_mbclen.\n\t  (rb_str_valid_encoding_p): just check coderange is\n\t  ENC_CODERANGE_BROKEN or not.\n\nMon Dec 17 16:04:16 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#gets): added second\n\t  optional argument to specify maximum length limit.\n\nMon Dec 17 16:02:30 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb, lib/webrick/cgi.rb: Request-Line or\n\t  header fields should be read with maximum length. [ruby-talk:231745]\n\nMon Dec 17 14:03:39 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (ENC_CODERANGE_VALID): rename from\n\t  ENC_CODERANGE_8BIT.\n\n\t* string.c (rb_enc_str_coderange): follow the renaming.\n\nMon Dec 17 13:56:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_find): wrong condition fixed.\n\n\t* sprintf.c (rb_str_format): check encoding based on result, not\n\t  the format string.\n\n\t* string.c (rb_str_upto): add encoding check.\n\nMon Dec 17 12:21:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (RUNRUBY): added RUNRUBYOPT.\n\nMon Dec 17 11:38:59 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* thread_win32.ci (native_thread_create): initialize\n\t  th->machine_stack_maxsize as rb_gc_stack_maxsize.\n\nSun Dec 16 17:07:35 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c (transcode_loop): removed special case (-1)\n\t  for undefined conversions.\n\n\t* transcode_data_iso_8859.c: Changed from character constants\n\t  ('\\xC2') to integer constants (0xC2) for shorter files and\n\t  better readability; eliminated duplicated tables; changed\n\t  from -1 offset to actual UNDEF entry (not yet distinguishing\n\t  UNDEF and ILLEGAL correctly).\n\n\t* test/ruby/test_transcode.rb: added a test for UNDEF conversion.\n\nSun Dec 16 14:51:59 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (MAKEFILES): should be enc/Makefile, not GNUmakefile.\n\t  [ruby-dev:32609]\n\n\t* configure.in (BUILTIN_ENCS): removed escapes for OpenBSD.\n\nSat Dec 15 23:58:46 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/openssl/test_pair.rb (SSLPair#ssl_pair): join the thread, even\n\t  on an error.\n\nSat Dec 15 23:50:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/xmlrpc/webrick_testing.rb: join webrick server thread.\n\nSat Dec 15 22:27:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (BUILTIN_ENCS): splitted command line instead of\n\t  semicolons for Solaris.\n\nSat Dec 15 21:38:24 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/timeout.rb: join the background thread to make sure it is dead.\n\nSat Dec 15 20:20:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (enc/Makefile): add external encoding objects list.\n\n\t* common.mk (BUILTIN_ENCOBJS): renamed from ENCOBJS.\n\n\t* configure.in (BUILTIN_ENCS): [] needs to be enclosed because of m4.\n\n\t* Makefile.in (BUILTIN_ENCOBJS): substituted by autoconf.\n\n\t* enc/Makefile.in: new file to compile external encoding sources.\n\n\t* encoding.c (rb_enc_find_index): auto-load external encoding objects\n\t  as \"ext/ENCODING_NAME\".  [ruby-dev:32606]\n\nSat Dec 15 13:04:30 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* vm_core.h (rb_thread_t): new member machine_stack_maxsize and\n\t  machine_register_stack_maxsize.\n\n\t* gc.c (rb_gc_stack_maxsize): new global variable for the thread size\n\t  of the main thread.\n\t  (STACK_LEVEL_MAX): use machine_stack_maxsize of current thread.\n\t  (ruby_stack_check): check IA64 register stack.\n\t  (ruby_set_stack_size): set rb_gc_stack_maxsize.\n\t  (Init_stack): set rb_gc_stack_maxsize.\n\n\t* thread_pthread.ci (native_thread_create): initialize\n\t  th->machine_stack_maxsize and th->machine_register_stack_maxsize.\n\n\t* vm.c (Init_BareVM): initialize th->machine_stack_maxsize and\n\t  th->machine_register_stack_maxsize.\n\n\t* thread_win32.ci (native_thread_create): initialize\n\t  th->machine_stack_maxsize.  not tested.  just a guess at all.\n\n\t[ruby-dev:32604]\n\nSat Dec 15 12:58:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_register, rb_enc_replicate, rb_enc_alias): check\n\t  if already registered.\n\nSat Dec 15 01:57:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc/options.rb (Options::parse): do not access $KCODE any\n\t  longer.  [ruby-core:14079]\n\n\t* lib/irb/init.rb (IRB::IRB.parse_opts): ditto.\n\n\t* lib/cgi.rb (CGI::CGI): ditto.\n\nFri Dec 14 18:18:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* thread_pthread.ci (native_thread_create): twice the stack size.\n\t  512KB is not enough to complete test-all on Debian GNU/Linux on\n\t  IA64.\n\nFri Dec 14 16:10:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_p): RDoc update.  a patch from murphy <murphy AT rubychan.de>.\n\t  [ruby-core:14010]\n\nFri Dec 14 16:06:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_cmp): encoding aware comparison.\n\n\t* string.c (rb_str_casecmp): ditto.\n\nFri Dec 14 15:25:30 2007  Martin Duerst  <duerst@it.aoyama.ac.jp>\n\n\t* transcode.c (encoding_equal): new function.\n\n\t* transcode.c (str_transcode, transcode_dispatch): added two-step\n\t  conversion logic via UTF-8.\n\n\t* transcode.c: some minor formatting fixes\n\n\t* transcode_data.h, transcode_data_iso_8859.c: Shortened\n\t  extremely frequently used macros to shorten file length.\n\n\t* test/ruby/test_transcode.rb: Fixed name of test class;\n\t  added setup method to ensure all necessary encodings exist;\n\t  split tests into more test methods; added tests; fixed ordering\n\t  of arguments in assert_equal to have expected result first.\n\nFri Dec 14 13:47:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (ruby.imp): fix for circular dependency.  a patch from\n\t  Yutaka Kanemoto <kinpoco AT gmail.com> in [ruby-dev:32590].\n\n\t* regint.h, st.c, ext/json/ext/generator/generator.c: suppress\n\t  warnings on AIX.\n\nFri Dec 14 12:36:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_CHECK_VARTYPE): check if a variable is defined\n\t  and its type.\n\n\t* configure.in (timezone, altzone): check for recent cygwin.\n\n\t* missing/strftime.c (strftime): fix for timezone.  [ruby-dev:32536]\n\n\t* lib/mkmf.rb (try_var): should fail for functions.\n\n\t* ext/readline/extconf.rb: should use have_func for functions instead\n\t  of have_var.\n\nFri Dec 14 10:25:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/e2mmap.rb (Exception2MessageMapper::E2MM.Raise): $! no\n\t  longer modifiable in 1.9.\n\nFri Dec 14 08:17:24 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (rb_protect): restore root_jmpbuf even if proc exits by\n\t  break such as dbm.delete_if { break }.\n\nFri Dec 14 02:55:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_nth): direct jump if string is 7bit only.  great\n\t  performance boost for worst case.\n\n\t* string.c (str_strlen): direct size if string is 7bit only.\n\nFri Dec 14 02:29:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): 1st argument (typically the\n\t  receiver) would have higher priority in encoding detection.\n\nFri Dec 14 02:05:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_synchronized): should check if initialized.\n\t  [ruby-dev:32585]\n\nFri Dec 14 00:54:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): embedded string may override encoding\n\t  of the regular expression.\n\n\t* re.c (rb_reg_initialize): fix encoding of regular expression if\n\t  embedded string has its own encoding specified.\n\nThu Dec 13 22:16:46 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): encoding should never fall back\n\t  to ASCII-8BIT unless both encodings are ASCII-8BIT.\n\nThu Dec 13 20:31:28 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (rb_str_shared_replace): make str noembed after free.\n\nThu Dec 13 20:09:09 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (rb_protect): restore root_jmpbuf to avoid SEGV by\n\t  'IO.pipe; [].each.next' with gcc version 3.3.5 (Debian 1:3.3.5-13)\n\t  on IA64.\n\nThu Dec 13 17:51:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_split_m): need not to check encoding if regexp\n\t  is empty.\n\n\t* string.c (rb_str_justify): associate encoding of original to the\n\t  result.\n\n\t* string.c (rb_str_chomp_bang): need to check encoding of record\n\t  separator.\n\n\t* string.c (str_gsub): should copy encoding to the result.\n\n\t* sprintf.c (rb_str_format): ditto.\n\n\t* string.c (rb_str_succ): should not enter infinite loop for\n\t  non-ASCII, non-alphanumeric character at the bottom.\n\nThu Dec 13 17:03:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): should swap encoding indexes too.\n\nThu Dec 13 16:41:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): should not judge compatibility\n\t  based on rb_enc_asciicompat().\n\nThu Dec 13 13:09:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/io.h (MakeOpenFile): fptr->enc should be\n\t  initialized to zero.  [ruby-dev:32569]\n\nThu Dec 13 08:56:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_getc): use default external encoding if fptr->enc is\n\t  not set.  [ruby-dev:32565]\n\n\t* lib/rubygems/package.rb (Gem::TarReader::Entry::rewind): typo fixed.\n\t  [ruby-dev:32565]\n\nThu Dec 13 08:24:16 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): should associate default external encoding.\n\n\t* io.c (io_read): should NOT associate default external encoding.\n\nWed Dec 12 23:22:58 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c, regerror.c, string.c, parse.y, ruby.c, file.c:\n\t  use capital letter for \\xHH notation.  [ruby-dev:32511]\n\nWed Dec 12 22:21:34 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_mode_enc): allow specifying external encoding in\n\t  open mode, e.g. open(path, \"r:utf-8\").\n\nWed Dec 12 21:26:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_method.ci (rb_alias): no need to skip aliasing when new\n\t  equals to old.  [ruby-core:13990]\n\nWed Dec 12 16:34:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_check_readable): set default external encoding to\n\t  STDIN.\n\n\t* io.c (io_enc_str): associate encoding to output string.\n\nWed Dec 12 12:44:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (expr): 'not' and '!' should act as conditional\n\t  expression.   [ruby-dev:32548]\n\nWed Dec 12 12:11:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_regsub): should copy encoding.\n\n\t* string.c (rb_str_sub_bang, str_gsub): should check and copy encoding\n\t  to be replaced.\n\nTue Dec 11 23:04:17 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): RDoc update.  a patch from Gary Wright\n\t  <radar2002 AT gmail.com>.  [ruby-core:13998]\n\n\t* pack.c (pack_unpack): ditto.\n\nTue Dec 11 16:37:47 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_ascget): renamed from rb_enc_get_ascii.\n\n\t* include/ruby/encoding.h: follow the renaming.\n\n\t* re.c: ditto.\n\nTue Dec 11 16:19:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, */Makefile.sub (CP, MV): added.\n\n\t* common.mk (.y.c): not discard the old target until successfully\n\t  created.\n\nTue Dec 11 15:20:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): singleton_method_{added,removed,undefined}\n\t  hooks should be defined for BasicObject.  [ruby-dev:32531]\n\n\t* eval.c (Init_eval): method_missing should be defined for all\n\t  objects; moved to BasicObject.\n\nTue Dec 11 14:27:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (transcode_loop): get rid of SEGV at sequence can not be\n\t  converted.\n\n\t* transcode.c (rb_str_transcode_bang): copy encoding.  [ruby-dev:32532]\n\n\t* test/ruby/test_transcode.rb: added tests from Martin Duerst <duerst\n\t  AT it.aoyama.ac.jp>.  [ruby-dev:32532]\n\nTue Dec 11 12:05:51 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_get_ascii): add an argument to provide the\n\t  length of the returned character.\n\n\t* include/ruby/encoding.h (rb_enc_get_ascii): add the argument.\n\n\t* re.c (rb_reg_expr_str): modify rb_enc_get_ascii call.\n\t  (rb_reg_quote): ditto.\n\t  (rb_reg_regsub): ditto.\n\nTue Dec 11 09:40:21 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/oniguruma.h (ONIGENC_CONSTRUCT_MBCLEN_NEEDMORE):\n\t  parenthesize an argument.\n\nTue Dec 11 02:23:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_method_missing): RDoc update patch from Hugh Sasse\n\t  <hgs AT dmu.ac.uk>.  [ruby-core:12932]\n\nTue Dec 11 01:51:34 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/http.rb (Net::HTTP::get): now supports gzip\n\t  content-encoding.  a patch from Hugh Sasse <hgs AT dmu.ac.uk>.\n\t  [ruby-core:13451]\n\nTue Dec 11 01:21:21 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (shadowing_lvar_gen): no duplicate error for \"_\".\n\nMon Dec 10 22:08:47 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* array.c (rb_ary_slice_bang): If an invalid range is given, do\n\t  not raise an exception but return nil just like slice() does.\n\nMon Dec 10 21:47:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* transcode.c (str_transcode): allow non-registered encodings.\n\t  [ruby-dev:32520]\n\nMon Dec 10 21:00:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_slice_bang): should return nil if position out\n\t  of range.  a patch from Akinori MUSHA <knu AT iDaemons.org>.\n\t  [ruby-dev:32518]\n\nMon Dec 10 19:02:52 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_match): should calculate offset by converted\n\t  operand.  [ruby-cvs:21416]\n\nMon Dec 10 18:28:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/uri/common.rb (URI::REGEXP::PATTERN): typo in REG_NAME\n\t  regular expression.  a patch from Ueda Satoshi\n\t  <s-ueda AT livedoor.jp>.  [ruby-dev:32514]\n\nMon Dec 10 17:46:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_tmp_new): creates hidden temporary buffer.\n\n\t* transcode.c (transcoding): added a pointer to function to flush.\n\n\t* transcode.c (transcode_loop): do not use string internal.\n\t  [ruby-dev:32512]\n\n\t* transcode.c (str_transcode): allow Encoding objects.\n\n\t* transcode_data.h (BYTE_LOOKUP): use actual struct name.\n\nMon Dec 10 16:52:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_insert): should not add length in bytes to index in\n\t  chars.\n\nMon Dec 10 14:33:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_public_send): rename invoke_method to public_send.\n\t  it now invokes public method only no matter how it's called.\n\nMon Dec 10 14:00:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* transcode.c: new file to provide encoding conversion features.\n\t  code contributed by Martin Duerst.\n\nMon Dec 10 13:50:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_search): return byte offset.  [ruby-dev:32452]\n\n\t* re.c (rb_reg_match, rb_reg_match2, rb_reg_match_m): convert byte\n\t  offset to char index.\n\n\t* string.c (rb_str_index): return byte offset.  [ruby-dev:32472]\n\n\t* string.c (rb_str_split_m): calculate in byte offset.\n\nMon Dec 10 09:56:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_vm1_neq.rb, bm_vm1_not.rb: added.\n\nMon Dec 10 07:48:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): wrong token was generated.  [ruby-dev:32498]\n\n\t* object.c (rb_obj_not_match): wrong test.\n\nMon Dec 10 06:44:47 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_expr_str): use \\xHH instead of \\OOO.\n\n\t* regerror.c (to_ascii): ditto.\n\t  (onig_snprintf_with_pattern): ditto.\n\t  (onig_snprintf_with_pattern): ditto.\n\n\t* string.c (rb_str_inspect): ditto.\n\t  (rb_str_dump): ditto.\n\n\t* parse.y (parser_yylex): ditto.\n\n\t* ruby.c (proc_options): ditto.\n\n\t* file.c (rb_f_test): ditto.\n\n\t[ruby-dev:32495]\n\nMon Dec 10 06:41:00 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_names): new method Regexp#names.\n\t  (rb_reg_named_captures): new method Regexp#named_captures\n\t  (match_regexp): new method MatchData#regexp.\n\t  (match_names): new method MatchData#names.\n\n\t* lib/pp.rb (MatchData#pretty_print): show names of named captures.\n\n\t[ruby-dev:32493]\n\nMon Dec 10 01:35:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (expr): redefinable not (!) operator.\n\n\t* parse.y (arg): ditto.\n\n\t* object.c (rb_obj_not): new method \"!\".\n\n\t* object.c (rb_obj_not_equal): new method \"!=\".\n\n\t* object.c (rb_obj_not_match): new method \"!~\".\n\nSun Dec  9 22:31:36 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_s_last_match): accept named capture's name.\n\nSun Dec  9 15:57:53 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (match_backref_number): new function for converting a backref\n\t  name/number to an integer.\n\t  (match_offset): use match_backref_number.\n\t  (match_begin): ditto.\n\t  (match_end): ditto.\n\t  (name_to_backref_number): raise IndexError instead of RuntimeError.\n\t  (match_inspect): show capture index.\n\nSun Dec  9 14:59:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h (CHECK_STACK_OVERFLOW): reserve frame size.\n\t  [ruby-dev:32485]\n\nSun Dec  9 14:38:25 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (rb_thread_mark): use rb_gc_mark_maybe() for\n\t  VM stack specified by mark_stack_len.  [ruby-dev:32462]\n\n\t* insnhelper.ci: clear vm stack extended by opt value.\n\nSun Dec  9 14:08:47 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (FilePathStringValue): defined.  similar to\n\t  FilePathValue but no taint check.\n\n\t* file.c (rb_get_path_no_checksafe): implementation of\n\t  FilePathStringValue.\n\t  (rb_file_s_basename): use FilePathStringValue.\n\t  (rb_file_s_dirname): ditto.\n\t  (rb_file_s_extname): ditto.\n\t  (rb_file_s_split): ditto.\n\t  (rb_file_join): ditto.\n\n\t* dir.c (file_s_fnmatch): ditto.\n\nSun Dec  9 12:49:34 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (append_utf8): check unicode range.\n\nSun Dec  9 12:39:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi.rb (read_multipart): exclude blanks from header values.\n\t  [ruby-list:44327]\n\nSun Dec  9 12:18:19 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_get_path): use the original object if to_path method is\n\t  not defined.  [ruby-dev:32473]\n\n\t* io.c (rb_f_open): call to_open on non-string objects, instead of\n\t  to_str.  [ruby-dev:32473]\n\nSun Dec  9 12:12:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (tr_find): returns true if no characters to be removed is\n\t  specified.\n\nSun Dec  9 12:03:16 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_magic_comment): delimits with a semicolon.\n\nSun Dec  9 11:29:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (tr_trans): get rid of segfaults when has multibytes but\n\t  source sets have no multibytes.\n\nSun Dec  9 04:01:28 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_mbclen): return 1 if underlying implementation\n\t  returns a length longer than e-p.\n\t  (rb_enc_precise_mbclen): return needmore if underlying\n\t  implementation returns a length longer than e-p.\n\nSat Dec  8 17:59:40 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* signal.c (posix_signal): return value.\n\nSat Dec  8 17:22:16 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/openssl/test_pkcs7.rb: Remove redundant module namespace.\n\nSat Dec  8 17:07:10 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ruby.c (proc_options): make rb_raise format as a string literal to\n\t  avoid warning.\n\nSat Dec  8 16:18:16 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_check_preprocess): new function for validating regexp\n\t  fragment.\n\n\t* parse.y (regexp): invoke reg_fragment_check.\n\t  (reg_fragment_check): defined.\n\t  (reg_fragment_check_gen): defined.\n\nSat Dec  8 11:06:29 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_mbclen): make it never fail.\n\t  (rb_enc_nth): don't check the return value of rb_enc_mbclen.\n\t  (rb_enc_strlen): ditto.\n\t  (rb_enc_precise_mbclen): return needmore(1) if e <= p.\n\t  (rb_enc_get_ascii): new function for extracting ASCII character.\n\n\t* include/ruby/encoding.h (rb_enc_get_ascii): declared.\n\n\t* include/ruby/regex.h (ismbchar): removed.\n\n\t* re.c (rb_reg_expr_str): use rb_enc_get_ascii.\n\t  (unescape_escaped_nonascii): use rb_enc_precise_mbclen to determine\n\t  the termination of escaped non-ASCII character.\n\t  (unescape_nonascii): use rb_enc_precise_mbclen.\n\t  (rb_reg_quote): use rb_enc_get_ascii.\n\t  (rb_reg_regsub): use rb_enc_get_ascii.\n\n\t* string.c (rb_str_reverse) don't check the return value of\n\t  rb_enc_mbclen.\n\t  (rb_str_split_m): don't call rb_enc_mbclen with e <= p.\n\n\t* parse.y (is_identchar): use ISASCII.\n\t  (parser_ismbchar): removed.\n\t  (parser_precise_mbclen): new macro.\n\t  (parser_isascii): new macro.\n\t  (parser_tokadd_mbchar): use parser_precise_mbclen to check invalid\n\t  character precisely.\n\t  (parser_tokadd_string): use parser_isascii.\n\t  (parser_yylex): ditto.\n\t  (is_special_global_name): don't call is_identchar with e <= p.\n\t  (rb_enc_symname_p): ditto.\n\n\t  [ruby-dev:32455]\n\n\t* ext/tk/sample/tkextlib/vu/canvSticker2.rb: remove coding cookie\n\t  because the encoding is not UTF-8.  [ruby-dev:32475]\n\nFri Dec  7 20:21:35 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/net/ftptls.rb, ext/openssl/lib/net/telnets.rb:\n\t  half-finished libraries are discontinued.\n\nFri Dec  7 15:44:40 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pp.rb: use Hash for recursion check as inspect.\n\nFri Dec  7 15:04:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (flatten): some performance improvements, based on a patch\n\t  from Yusuke ENDOH <mame AT tsg.ne.jp> in [ruby-core:13877].\n\t  [ruby-core:13851]\n\n\t* thread.c (rb_exec_recursive): use Hash instead of Array for\n\t  performance improvement.  [ruby-core:13898]\n\n\t* thread.c (recursive_pop): use object ID.\n\nThu Dec  6 19:52:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (arg): typo fixed (\"!\" -> \"|\") in the ripper code.\n\nThu Dec  6 19:48:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (arg): tUPLUS no longer works as identity operation any\n\t  more.  inspired by [ruby-talk:265532].\n\nThu Dec  6 18:22:11 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_precise_mbclen): new function for mbclen with\n\t  validation.\n\n\t* include/ruby/encoding.h (rb_enc_precise_mbclen): declared.\n\t  (MBCLEN_CHARFOUND): new macro.\n\t  (MBCLEN_INVALID): new macro.\n\t  (MBCLEN_NEEDMORE): new macro.\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): replace mbc_enc_len\n\t  by precise_mbc_enc_len.\n\t  (ONIGENC_PRECISE_MBC_ENC_LEN): new macro.\n\t  (ONIGENC_CONSTRUCT_MBCLEN_CHARFOUND): new macro.\n\t  (ONIGENC_CONSTRUCT_MBCLEN_INVALID): new macro.\n\t  (ONIGENC_CONSTRUCT_MBCLEN_NEEDMORE): new macro.\n\t  (ONIGENC_MBCLEN_CHARFOUND): new macro.\n\t  (ONIGENC_MBCLEN_INVALID): new macro.\n\t  (ONIGENC_MBCLEN_NEEDMORE): new macro.\n\t  (ONIGENC_MBC_ENC_LEN): use ONIGENC_PRECISE_MBC_ENC_LEN.\n\n\t* enc/euc_jp.c: validation implemented.\n\n\t* enc/sjis.c: ditto.\n\n\t* enc/utf8.c: ditto.\n\n\t* string.c (rb_str_inspect): use rb_enc_precise_mbclen for invalid\n\t  encoding.\n\t  (rb_str_valid_encoding_p): new method String#valid_encoding?.\n\n\t* io.c (rb_io_getc): use rb_enc_precise_mbclen.\n\n\t[ruby-dev:32438]\n\nThu Dec  6 01:37:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regparse.c (i_apply_case_fold): fix for negative character class.  a\n\t  patch from Yusuke ENDOH <mame AT tsg.ne.jp> in [ruby-core:13884].\n\nThu Dec  6 01:00:38 2007  NARUSE, Yui <naruse@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_s_list): support NetBSD/Citrus iconv.\n\nWed Dec  5 16:18:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (rb_proc_s_new): call initialize.  [ruby-core:13824]\n\n\t* proc.c (rb_proc_location): return file name and line number where\n\t  the proc is defined.\n\n\t* thread.c (thread_s_new): call initialize.  [ruby-core:13835]\n\n\t* thread.c (thread_initialize): split initialize method.\n\nWed Dec  5 15:25:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_intern3): fix to changing encoding to default, and\n\t  uncommented r13835, which is rare but not impossible.\n\nWed Dec  5 15:15:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (step_i, range_step): support non-fixnum steps.\n\t  [ruby-talk:282100]\n\nWed Dec  5 14:25:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix typo.\n\nWed Dec  5 13:41:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (yycompile): get rid of tracing while parsing.\n\t  [ruby-dev:31351]\n\n\t* thread.c (ruby_suppress_tracing): added a new parameter, which\n\t  directs to call func always.\n\nTue Dec  4 19:56:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_convert): should not set encoding unless\n\t  the target encoding is supported.  [ruby-dev:32451]\n\nTue Dec  4 17:34:17 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (tojis, tosjis, toeuc, toutf8):\n\t  set encoding. [ruby-dev:32447]\n\nTue Dec  4 17:07:25 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/json.rb, lib/json/*: moved to ext/json/lib.\n\nTue Dec  4 16:34:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_create): achieve target encoding.\n\n\t* ext/iconv/iconv.c (iconv_convert, iconv_finish, iconv_iconv,\n\t  iconv_conv): set result string encoding.  [ruby-dev:32446]\n\n\t* ext/iconv/iconv.c (iconv_initialize, iconv_s_open): set encoding to\n\t  Iconv instance.\n\nTue Dec  4 14:34:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): reverted c flag.\n\nTue Dec  4 11:23:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_cstr_to_inum): trailing spaces may exist at squeezing\n\t  preceding 0s.  [ruby-core:13873]\n\nMon Dec  3 11:51:53 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/Win32API/*: removed or moved to ext/dl/win32.\n\n\t* ext/dl/win32/*: new. [ruby-dev:32387]\n\nSun Dec  2 22:08:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_tokadd_mbchar): fix for ASCII chars.  [ruby-dev:32432]\n\n\t* parse.y (parser_parse_string, parser_here_document): prevent false\n\t  error messages.\n\nSun Dec  2 20:43:22 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (unescape_escaped_nonascii): fix mbclen argument.\n\nSun Dec  2 15:47:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_tokadd_mbchar): check insufficient multibyte char.\n\t  [ruby-dev:32429]\n\nSun Dec  2 15:42:16 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, test/rss/test_version.rb: 0.2.1 -> 0.2.2.\n\n\t* lib/rss/maker/itunes.rb: fixed new_itunes_category.\n\t* lib/rss/maker/taxonomy.rb: new_taxo_topic -> new_topic because\n\t  of consistency.\n\n\t* test/rss/test_maker_itunes.rb, test/rss/test_itunes.rb: removed\n\t  needless UTF-8 characters.\n\nSun Dec  2 15:18:37 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_callee_setup_arg): fix error message.\n\t  [ruby-dev:32430]\n\nSun Dec  2 09:12:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (regexp): fix /#{}\\xa1\\xa2/e to be EUC-JP.\n\t  (reg_fragment_setenc_gen): extracted from reg_compile_gen.\n\nSun Dec  2 01:39:51 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h (rb_uv_to_utf8): declared.\n\n\t* re.c (rb_reg_preprocess): new function for dynamic regexp with\n\t  \\u{} such as Regexp.new(\"\\\\u{6666}\").\n\t  (rb_reg_prepare_re): preprocess regexp for recompiling.\n\t  (read_escaped_byte): new function.\n\t  (unescape_escaped_nonascii): new function.\n\t  (append_utf8): new function.\n\t  (unescape_unicode_list): new function.\n\t  (unescape_unicode_bmp): new function.\n\t  (unescape_nonascii): new function.\n\t  (rb_reg_initialize): preprocess regexp.\n\n\t* pack.c (rb_uv_to_utf8): renamed from uv_to_utf8.\n\n\t* parse.y (STR_NEW3): take func instead of has8 and hasmb.\n\t  (parser_str_new): use default coderange mechanism except for regexp.\n\t  (parser_tokadd_utf8): copy regexp source as-is.\n\t  (parser_read_escape): UTF-8 stuff removed.\n\t  (parser_tokadd_escape): has8bit and hasmb removed.\n\t  (parser_tokadd_string): fix 8-bit single byte character with \\u.\n\t  (parser_parse_string): has8bit and hasmb removed.\n\t  (parser_here_document): has8bit and hasmb removed.\n\t  (parser_yylex): call parser_tokadd_utf8 instead of read_escape for\n\t  UTF-8 character.\n\nWed Dec  2 01:00:07 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/server.rb (XMLRPC::Server#server): Improve signal handling so\n\t  pressing control-c in the controlling terminal or sending SIGTERM stops\n\t  the XML-RPC server.\n\nSat Dec  1 23:04:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c: rename primary_encoding -> default_external (encoding).\n\nSat Dec  1 19:52:57 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (Time#to_datetime): use nsec instead of usec.\n\n\t* lib/date.rb (DateTime#to_time): second minute as an argument to\n\t  Time::utc contains fractional part in rational; hence Time\n\t  object may keep resolution at most nanosecond.\n\nSat Dec  1 14:36:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: move fixed bugs.\n\n\t* test/ruby/test_sprintf.rb: ditto.\n\n\t* test/yaml/test_yaml.rb: ditto.\n\nSat Dec  1 13:24:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_yield_with_cfunc): fix to passing argc on third\n\t  parameter of IFUNC.  [ruby-dev:32329]\n\n\t* enumerator.c: fix to pass exact number of argument.\n\n\t* eval.c (rb_yield_values2): added.\n\n\t* include/ruby/ruby.h: ditto.\n\n\t* bootstraptest/test_knownbug.rb: move a fixed test.\n\n\t* bootstraptest/test_block.rb: ditto.\n\nSat Dec  1 10:45:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_open): use to_open for every non-string object.  path\n\t  object may use method_missing.\n\nSat Dec  1 09:44:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insns.def (concatarray, splatarray): use to_a instead of\n\t  to_splat.\n\n\t* insnhelper.ci (caller_setup_args): ditto.\n\nSat Dec  1 03:34:32 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (newline_node): always remove NODE_BEGIN.\n\nFri Nov 30 23:48:07 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (ruby_signal): use SA_SIGINFO if available.\n\t  [ ruby-Patches-6418 ]\n\nFri Nov 30 22:52:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (trap_signm): SIGVTALRM no longer used for green\n\t  thread.  [ruby-talk:281318]\n\n\t* signal.c (ruby_sig_finalize): do not install SIG_DFL handler if\n\t  previous handler is sighandler().\n\nFri Nov 30 21:02:15 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/json.rb, lib/json/add/{core.rb, rails.rb},\n\t  test/json/test_json_rails.rb: additional files of JSON 1.1.2.\n\t  [ruby-dev:32405]\n\nFri Nov 30 19:33:38 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (rb_syck_mktime): avoid segmentation fault.\n\t  [ruby-core:13735]\n\nFri Nov 30 19:05:55 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_count): precise argument number check.\n\n\t* enum.c (enum_count): return Enumerator if no block given.\n\nFri Nov 30 16:42:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_take_while): returns Enumerator if no block given.\n\n\t* enum.c (enum_drop_while): ditto.\n\nThu Nov 29 16:59:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): remove unnecessary NODE_BEGIN.  [ruby-core:13814]\n\nThu Nov 29 06:45:48 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_eql): recursive comparison should be based on\n\t  eql?  [ruby-core:13803]\n\nWed Nov 28 18:08:00 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/json, lib/json, test/json: Update to JSON 1.1.2.\n\t  (RubyForge#15447)\n\n\t* math.c: fix typo.\n\nWed Nov 28 16:29:35 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_invoke_block): should splat args.\n\t  [ruby-dev:32392]\n\n\t* test/ruby/test_yield.rb: add tests for above.\n\nWed Nov 28 14:43:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extract_makefile): use dldflags instead of DLDFLAGS to\n\t  get rid of mixing $LDFLAGS and $ARCH_FLAG.\n\n\t* lib/mkmf.rb (configuration): ditto.\n\n\t* lib/mkmf.rb (create_makefile): support for extensions which has no\n\t  shared object.\n\nWed Nov 28 02:42:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (big2str_find_n1): removed extraneous element.\n\t  [ruby-dev:32351], [ruby-dev:32365]\n\n\t* bignum.c (big2str_find_n1): returns necessary digits now.\n\n\t* sprintf.c (remove_sign_bits): extends sign bit first.\n\nTue Nov 27 15:53:43 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): \"when *[],1\" dumps core.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:32350]\n\n\t* bootstraptest/test_syntax.rb: add a test for above.\n\nTue Nov 27 15:40:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): \"a[*b] += 1\" dumps core.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:32354]\n\n\t* bootstraptest/test_syntax.rb: add a test for above.\n\nTue Nov 27 12:47:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, insns.def: change return value of \"defined?\"\n\t  for $&, $1, ... .  If such variables are defined,\n\t  return \"global-variable\".\n\n\t* test/ruby/test_defined.rb: add tests.\n\n\t* bootstraptest/test_syntax.rb: fix a test.\n\nTue Nov 27 11:54:46 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def: fix typo.\n\nTue Nov 27 11:23:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test_beginendblock.rb: add loop to wait signal.\n\t  [ruby-dev:32332]\n\nTue Nov 27 11:14:57 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h, encoding.c, re.c, string.c, parse.y:\n\t  rename ENC_CODERANGE_SINGLE to ENC_CODERANGE_7BIT.\n\t  rename ENC_CODERANGE_MULTI to ENC_CODERANGE_8BIT.\n\t  Because single byte 8bit character, such as Shift_JIS 1byte katakana,\n\t  is represented by ENC_CODERANGE_MULTI even if it is not multi byte.\n\nTue Nov 27 10:45:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_method_missing): fix stack trace.\n\n\t* bootstraptest/test_knownbug.rb: move solved tests.\n\n\t* bootstraptest/test_method.rb, test/ruby/test_regexp.rb: ditto.\n\nTue Nov 27 09:57:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def, compile.c: fix to allow dsym for alias/undef.\n\t  [ruby-dev:32355]\n\n\t* bootstraptest/test_method.rb: add tests for above.\n\nMon Nov 26 23:18:46 2007  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/extserv.rb (initialize, stop_service): synchronize with\n\t  ExtServManager.\n\n\t* test/drb/test_drb.rb (TestDRbEval): ignored.\n\nMon Nov 26 17:32:16 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (Init_Regexp): new method Regexp#fixed_encoding?\n\t  [ruby-dev:32361]\n\nMon Nov 26 13:28:14 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/complex.rb: be able to create Complex(0, -0.0). [ruby-list:44268]\n\nMon Nov 26 11:24:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_fixed_encoding_p): extracted from rb_reg_prepare_re and\n\t  rb_reg_s_union.\n\t  (rb_reg_s_union): refactored.\n\nMon Nov 26 10:44:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_read_internal, rb_sysopen_internal): remove C99 dependency.\n\nSun Nov 25 22:21:35 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/encoding.h (rb_enc_str_asciionly_p): declared.\n\t  (rb_enc_str_asciicompat_p): defined.\n\n\t* re.c (rb_reg_initialize_str): use rb_enc_str_asciionly_p.\n\t  (rb_reg_quote): return ascii-8bit string if the argument is\n\t  ascii-only to generate encoding generic regexp if possible.\n\t  (rb_reg_s_union): fix encoding handling.  [ruby-dev:32094]\n\n\t* string.c (rb_enc_str_asciionly_p): defined.\n\nSun Nov 25 12:12:03 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* gem_prelude.rb: Import fast-loading gem_prelude.rb from RubyGems.\n\n\t* lib/rubygems*: Import RubyGems r1516.\n\nSat Nov 24 23:25:52 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_eval.rb (TestEval::test_instance_eval_cvar):\n\t  updated not to modify class variable of Object class.\n\nFri Nov 23 17:34:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* io.c: add rb_read_internal() as blocking function.\n\nFri Nov 23 17:33:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: fix comment.\n\nFri Nov 23 17:26:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: move solved tests.\n\n\t* bootstraptest/test_io.rb, test_marshal.rb, test_objectspace.rb:\n\t  ditto.\n\n\t* test/ruby/test_integer.rb, test_regexp.rb: ditto.\n\nFri Nov 23 15:59:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* struct.c (rb_struct_alloc_noinit): new function.\n\t  (rb_struct_define_without_accessor): add allocator to the arguments.\n\n\t* range.c (range_alloc): re-introduced using rb_struct_alloc_noinit.\n\nFri Nov 23 15:27:43 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (REG_CASESTATE): unused macro removed.\n\t  (rb_reg_prepare_re): check encoding difference.\n\t  (rb_reg_initialize): check 8bit byte.\n\n\t* parse.y (parser_tokadd_escape): fix has8bit.\n\n\t  [ruby-dev:32113]\n\nFri Nov 23 15:16:48 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_f_global_variables): variable names should not\n\t  duplicate.  [ruby-dev:32344]\n\nFri Nov 23 13:34:08 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* struct.c (rb_struct_define_without_accessor): new function.\n\n\t* range.c (range_alloc): removed.\n\t  (Init_Range): use rb_struct_define_without_accessor.\n\n\t  based on [ruby-dev:32327].\n\nFri Nov 23 11:01:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (match_begin): should return offset by character.\n\t  [ruby-dev:32331]\n\n\t* re.c (match_end): ditto.\n\n\t* re.c (rb_reg_search): ditto.\n\nFri Nov 23 10:44:24 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): defined(method(x)) dumped core.  a\n\t  patch from Yusuke ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:32335]\n\nWed Nov 21 18:03:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: fix to recycle thread data (VM stack).\n\n\t* thread.c: ditto.\n\n\t* benchmark/bm_vm3_thread_create_join.rb: add loop count.\n\nWed Nov 21 18:02:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: add path to trunk/lib if driver runner is\n\t  in build directory.\n\nWed Nov 21 16:39:21 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/fileutils/fileasserts.rb (assert_equal_timestamp): new assert\n\t  to test tv_sec only for filestamp resolution portability.\n\t  (assert_same_entry): use assert_same_entry for mtime comparison.\n\nWed Nov 21 14:55:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* array.c (rb_ary_permutation): add gc guard codes.\n\nWed Nov 21 11:16:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insnhelper.ci (vm_search_normal_superclass): rename function.\n\n\t* insnhelper.ci (vm_search_superclass): ditto.\n\n\t* proc.c (struct METHOD): rename rklass -> rclass.\n\nWed Nov 21 03:12:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (rb_f_system): returns nil on execution failure.\n\t  [ruby-core:13715]\n\nWed Nov 21 01:04:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (nil_plus): remove unused function.  [ruby-core:13737]\n\nTue Nov 20 21:46:46 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_mload): ignore invalid digits in submicro.\n\nTue Nov 20 20:33:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/ruby.h: rename RFloat#double_value -> float_value.\n\n\t* numeric.c, parse.y: ditto.\n\nTue Nov 20 19:36:21 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.h, vm_core.h: decl of rb_gc_save_machine_context()\n\t  should be at vm_core.h.\n\n\t* include/ruby/ruby.h, intern.h: remove type rb_thread_t.\n\n\t* include/ruby/intern.h: change rb_unblock_function_t,\n\t  rb_unblock_function_t.\n\n\t* file.c, process.c: apply above changes.\n\n\t* thread.c, thread_pthread.ci, thread_win32.ci: ditto.\n\n\t* io.c: support blocking open (2). [ruby-core:13614]\n\nTue Nov 20 17:10:11 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (rb_io_close_on_exec_p): new method IO#close_on_exec?.\n\t  (rb_io_set_close_on_exec): new method IO#close_on_exec=.\n\t  [ruby-dev:32323]\n\nTue Nov 20 16:24:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (gc_mark_children): obj->as.file.fptr may be 0 for T_FILE.\n\nTue Nov 20 15:09:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_read_escape): has8bit flag may be set with control\n\t  escape.  [ruby-core:13722]\n\n\t* parse.y (parser_prepare): set begging after BOM if exists.\n\t  [ruby-core:13718]\n\nTue Nov 20 14:55:37 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems*: Update to RubyGems 0.9.5.\n\nTue Nov 20 13:00:44 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h win32/win32.c (rb_w32_pipe_exec): use dual fd\n\t  instead of socketpair when mode is RDWR.\n\n\t* io.c (pipe_open): pass &write_fd to rb_w32_pipe_exec().\n\n\t* io.c (popen_redirect): define only when HAVE_FORK.\n\nTue Nov 20 12:12:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/io.h (rb_io_t): add tied_io_for_writing member.\n\n\t* io.c: use tied_io_for_writing for duplex popen.\n\n\t* gc.c: mark tied_io_for_writing.\n\n\t* common.mk: gc.o depends io.h.\n\n\t  [ruby-dev:32205]\n\nTue Nov 20 11:59:33 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/drb/test_drb.rb: rename TestRubyYield to TestDRbRubyYield to\n\t  avoid name crash with test/ruby/test_yield.rb.\n\t  TestRuby18Yield is renamed to TestDRbRuby18Yield too.\n\nTue Nov 20 03:24:42 2007  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/extservm.rb: merged from ruby_1_8 branch.\n\n\t* lib/drb/acl.rb: ditto.\n\n\t* lib/drb/ssl.rb: ditto.\n\n\t* lib/drb/unix.rb: ditto.\n\n\t* lib/drb/drb.rb: ditto.\n\n\t* lib/drb/observer.rb: ditto.\n\n\t* lib/drb/invokemethod.rb: ditto.\n\n\t* test/drb/test_drbssl.rb: ditto.\n\n\t* test/drb/test_drb.rb: ditto.\n\n\t* test/drb/drbtest.rb: ditto.\n\n\t* test/drb/test_drbunix.rb: ditto.\n\nTue Nov 20 00:52:46 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/fileutils/fileasserts.rb (assert_equal_time): show nsec if\n\t  assertion fails but time.to_s equals.\n\t  (assert_same_entry): use assert_equal_time.\n\n\t* test/fileutils/test_fileutils.rb (test_install): use\n\t  assert_equal_time.\n\nMon Nov 19 18:46:49 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* file.c (utime_internal): fallback utimensat to utimes.\n\nMon Nov 19 17:51:27 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in: check struct timespec, clock_gettime, utimensat,\n\t  struct stat.st_atim,\n\t  struct stat.st_atimespec,\n\t  struct stat.st_atimensec,\n\t  struct stat.st_mtim,\n\t  struct stat.st_mtimespec,\n\t  struct stat.st_mtimensec,\n\t  struct stat.st_ctim,\n\t  struct stat.st_ctimespec,\n\t  struct stat.st_ctimensec.\n\n\t* include/ruby/missing.h: provide struct timespec if not available.\n\n\t* time.c: support nanosecond-resolution using struct timespec.\n\t  (time_nsec): new method: Time#nsec and Time#tv_nsec.\n\n\t* include/ruby/intern.h: provide rb_time_nano_new.\n\n\t* file.c (utime_internal): use utimensat if available.\n\t  (rb_file_s_utime): refactored.\n\t  (rb_f_test): use stat_atime, stat_mtime, stat_ctime.\n\t  (rb_stat_cmp): check tv_nsec.\n\t  (stat_atimespec): new function.\n\t  (stat_atime): ditto.\n\t  (stat_mtimespec): ditto.\n\t  (stat_mtime): ditto.\n\t  (stat_ctimespec): ditto.\n\t  (stat_ctime): ditto.\n\t  (rb_stat_atime): use stat_atime.\n\t  (rb_file_s_atime): ditto.\n\t  (rb_file_atime): ditto.\n\t  (rb_stat_mtime): use stat_mtime.\n\t  (rb_file_s_mtime): ditto.\n\t  (rb_file_mtime): ditto.\n\t  (rb_file_ctime): use stat_ctime.\n\t  (rb_file_s_ctime): ditto.\n\t  (rb_stat_ctime): ditto.\n\n\t* variable.c (rb_copy_generic_ivar): clear clone's instance variables\n\t  if obj has no instance variable.\n\n\t* marshal.c (w_object): dump instance variables of generated string\n\t  for TYPE_USERDEF, even if original object has instance variables.\n\n\t* lib/time.rb (Time#xmlschema): use nsec instead of usec.\n\n\t[ruby-dev:32306]\n\nMon Nov 19 17:48:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_class_superclass): should not raise exception for\n\t  BasicObject.  [ruby-Bugs-15668]\n\nMon Nov 19 16:04:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation): gives all permutations of elements\n\t  if no argument given.  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.\n\t  [ruby-dev:32309]\n\nMon Nov 19 02:44:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): alias and undef accept dsyms as well\n\t  as literals.  [ruby-dev:32308]\n\nMon Nov 19 02:31:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_method.ci (rb_add_method): no redefinition warning for undef.\n\nMon Nov 19 01:53:11 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_read_escape): disallow control and meta modifiers\n\t  for non-ASCII characters.  [ruby-core:13685]\n\nSun Nov 18 20:47:41 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (mark_dump_arg): it may be called after dump_ensure.\n\nSun Nov 18 18:27:47 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_minus): fix Time.at(2**60+1) - Time.at(2**60).\n\nSun Nov 18 17:28:49 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* time.c (time_arg): show actual year in 2-3 digits year warning.\n\t  (time_mdump): show actual year in \"year too big to marshal\" error.\n\nSun Nov 18 14:03:44 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_method.ci (rb_alias): do not call hook functions until\n\t  initialization finishes.  [ruby-talk:279538]\n\nSun Nov 18 09:09:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (String#tr_cpp): make preprocessor identifiers.\n\nSun Nov 18 05:19:46 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/mkmf.rb (have_struct_member): define HAVE_type_member.\n\nSat Nov 17 23:51:29 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_invoke): bug fix. [ruby-talk:279100]\n\nSat Nov 17 23:21:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): should clear parser->tokp as well.\n\t  [ruby-dev:32250]\n\n\t* parse.y: remove NEED_ASSOC that break test_parser_events.\n\n\t* parse.y (parser_yylex): should not decrement line numbers at the\n\t  end of file.\n\n\t* file.c (rb_find_file_ext): search .rb files first through in the\n\t  loadpath.\n\nFri Nov 16 23:31:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_odd_p): new method added.  a patch from Tadashi\n\t  Saito <shiba AT mail2.accsnet.ne.jp>.  [ruby-dev:32305]\n\n\t* bignum.c (rb_big_even_p): ditto.\n\nFri Nov 16 17:41:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (Document-class): moved the simplest example to\n\t  the top.\n\n\t* ext/iconv/iconv.c (iconv_s_iconv): Document-method: needs class\n\t  prefix for class method.  [ruby-core:13542]\n\n\t* ext/iconv/iconv.c (iconv_iconv): also instance method needs to be\n\t  qualified.\n\nFri Nov 16 16:26:57 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* include/ruby/ruby.h: added some declarations for event hooks.\n\n\t* lib/profile.rb: set VM::InstructionSequence.compile_option.\n\nFri Nov 16 11:16:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb (String#is_binary_data?): use Integer#fdiv.\n\nFri Nov 16 03:36:01 2007  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: Node#value defined twice.\n\n\t* lib/yaml/: several method redefinitions causing warnings.\n\nFri Nov 16 03:01:00 2007  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/types.rb: Likewise, pass self to YAML::quick_emit.\n\nFri Nov 16 02:51:59 2007  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb (quick_emit): use combination of object_id and hash to\n\t  identify repeated object references, since GC will reuse memory of\n\t  objects during output of YAML. [ruby-Bugs-8548] [ruby-Bugs-3698]\n\nThu Nov 15 19:49:03 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/curses/extconf.rb: check macro if cannot find func.\n\t  [ruby-list:44224]\n\nThu Nov 15 18:04:06 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: fix TMP_RUBY_PREFIX for relative load path\n\t  environment.\n\nThu Nov 15 17:28:21 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: absolute path may not start with a slash.\n\t  pointed by usa.\n\nThu Nov 15 17:07:54 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: fix first substitution.\n\t  use constant for prefix.\n\t  pointed by Richard Kilmer.\n\nThu Nov 15 14:29:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (prereq): added auto generated sources.  [ruby-dev:32280]\n\nThu Nov 15 12:31:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: use constant for prefix.\n\nThu Nov 15 12:24:39 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: use simple template system for source\n\t  code generation.\n\nThu Nov 15 12:19:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::FileStore::restore): use\n\t  lockfile for exclusive locks.  a patch from <tommy AT tmtm.org>.\n\t  [ruby-dev:32296]\n\nThu Nov 15 12:14:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* tool/compile_prelude.rb (c_esc): need to escape closing brace.\n\nThu Nov 15 11:52:16 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* tool/compile_prelude.rb: adjust RbConfig::CONFIG paths relative\n\t  to the installation path.\n\nThu Nov 15 11:25:20 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ruby.c (usage): fix typo on --disable-gems option.\n\t  pointed by Richard Kilmer.\n\nWed Nov 14 16:16:17 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/net/http/test_https_proxy.rb\n\t  (HTTPSProxyTest::test_https_proxy_authentication): initialize\n\t  local variable 't' first.  [ruby-dev:32253]\n\nWed Nov 14 15:39:24 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/socket/test_socket.rb: update not to use 1.8 assignment to\n\t  external local variable in the block parameters.  [ruby-dev:32251]\n\n\t* test/strscan/test_stringscanner.rb: avoid $KCODE, and use\n\t  String#force_encoding().  [ruby-dev:32251]\n\nWed Nov 14 14:04:42 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk, Makefile.in: rename prelude.c to miniprelude.c.\n\t  rename ext_prelude.c to prelude.c\n\n\t* win32/Makefile.sub: ditto.\n\n\t* bcc32/Makefile.sub: ditto.\n\nWed Nov 14 07:09:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* blockinlining.c, compile.c, compile.h, debug.c, debug.h,\n\t  id.c, insnhelper.h, insns.def, thread.c, thread_pthread.ci,\n\t  thread_pthread.h, thread_win32.ci, thread_win32.h, vm.h,\n\t  vm_dump.c, vm_evalbody.ci, vm_opts.h: fix comments and\n\t  copyright year.\n\nWed Nov 14 07:07:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/makedocs.rb, template/insnstbl.html: removed.\n\nWed Nov 14 02:50:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.c): dependency also needs vpath.\n\n\t* common.mk (node_name.inc, prelude.c): VPATH in nmake does not\n\t  work for targets of explicit rules.\n\nWed Nov 14 02:11:38 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* missing/isinf.c (isinf): don't define if the macro is defined.\n\n\t* configure.in: no need to set ac_cv_func_isinf=yes on non-gcc\n\t  solaris.\n\nWed Nov 14 01:34:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (round): fallback definition.\n\n\t* numeric.c (flo_divmod, flo_round): use round() always.\n\t  [ruby-dev:32269]\n\nWed Nov 14 00:33:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/ruby.h: introduce 2 macros:\n\t  RFLOAT_VALUE(v), DOUBLE2NUM(dbl).\n\t  Rename RFloat#value -> RFloat#double_value.\n\t  Do not touch RFloat#double_value directly.\n\n\t* bignum.c, insns.def, marshal.c, math.c, numeric.c, object.c,\n\t  pack.c, parse.y, process.c, random.c, sprintf.c, string.c,\n\t  time.c: apply above changes.\n\n\t* ext/dl/mkcallback.rb, ext/json/ext/generator/generator.c:\n\t  ditto.\n\nWed Nov 14 00:15:37 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/ytab.sed: get rid of GNU sed feature.  a patch from Laurent\n\t  Sansonetti <laurent.sansonetti AT gmail.com> in [ruby-core:13470].\n\nTue Nov 13 21:41:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (parse.c), ext/ripper/depend (ripper.c): process after\n\t  bison with sed.  [ruby-dev:32204]\n\n\t* ruby.c (proc_options): use yydebug in cmdline_options.\n\n\t* ruby.c (process_options): set yydebug flag of parser.\n\n\t* parse.y (yydebug): moved into struct parser_params.\n\n\t* parse.y (rb_parser_get_yydebug, rb_parser_set_yydebug): parser\n\t  generic methods.\n\n\t* */Makefile.sub (parse.c): moved to common.mk.\n\n\t* tool/ytab.sed: comment out yydebug definition, and substitute\n\t  yyerror with parser_yyerror.\n\nTue Nov 13 16:33:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (flodivmod): work around for infinity.\n\n\t* numeric.c (flo_divmod): work around for platforms have no round().\n\t  [ruby-dev:32247]\n\nTue Nov 13 15:26:33 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lex.c.blt: moved from lex.c.\n\n\t* lex.c.src: copied from keywords.  This is the source of lex.c.blt.\n\n\t* Makefile.in (lex.c): use lex.c.blt if keywords is same as lex.c.src.\n\n\t* win32/Makefile.sub (lex.c): re-introduce copy rule.\n\n\t* bcc32/Makefile.sub (lex.c): ditto.\n\n\t* wince/Makefile.sub (lex.c): ditto.\n\nTue Nov 13 15:21:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_specialized_instruction): check argc.\n\nTue Nov 13 14:44:32 2007  why the lucky stiff  <why@ruby-lang.org>\n\n\t* test/yaml/test_yaml.rb: fixed the failing YAML Struct test\n\t  at ko1's request.\n\nTue Nov 13 02:57:04 2007  URABE Shyouhei  <shyouhei@ice.uec.ac.jp>\n\n\t* numeric.c (flo_divmod): round to the nearest integer.\n\t  [ ruby-Bugs-14540 ]\n\nTue Nov 13 00:36:16 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/ruby/test_settracefunc.rb: fixed tests for set_trace_func.\n\nMon Nov 12 19:47:29 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread.c (call_trace_proc): should return value.\n\nMon Nov 12 19:45:18 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub (miniruby): use $(COMMONOBJS) and $(DMYEXT)\n\t  instead of $(LIBRUBY_A).\n\nMon Nov 12 18:32:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc,win}32/Makefile.sub (MINIOBJS): added prelude.$(OBJEXT).\n\nMon Nov 12 17:13:23 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* Makefile.in, common.mk: add prelude.o to MINIOBJS.\n\nMon Nov 12 16:52:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): rdoc about srcprefix.  a patch from\n\t  Daniel Berger <djberg96 AT gmail.com> in [ruby-core:13378].\n\nMon Nov 12 16:48:09 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* Makefile.in, common.mk: add ext_prelude.o to OBJS.\n\nMon Nov 12 13:57:39 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (MINIDLNOBJS): removed.\n\t  (MINIOBJS): set to dln.o if dmydln.o is not used.\n\n\t* Makefile.in (miniruby): use MINIOBJS instead of MINIDLNOBJS.\n\nMon Nov 12 13:53:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-parse-partial): handle stringified\n\t  symbols properly using ruby-forward-string.\n\nMon Nov 12 12:17:59 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in (MINIDLNOBJS): defined.\n\n\t* Makefile.in (miniruby): use MINIDLNOBJS and COMMONOBJS instead of\n\t  MINIOBJS and OBJS to avoid linking both dmydln.o and dln.o.\n\nSun Nov 11 20:32:45 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* {win32,wince,bcc32}/Makefile.sub: delete lex.c rule.\n\nSun Nov 11 19:40:52 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* Makefile.in (lex.c): simplified.\n\nSun Nov 11 18:31:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* Makefile.in (lex.c): touch lex.c if gperf failed but lex.c exists.\n\t  Although this may cause non-updated lex.c,\n\t  svn co may generate keywords newer than lex.c especially on\n\t  a file system which can record fractional mtime such as XFS.\n\nSun Nov 11 17:32:46 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* insnhelper.ci (vm_call_method): pass mn->nd_clss to\n\t  vm_call_cfunc() instead of klass.\n\n\t* vm.c (rb_thread_method_id_and_klass): traverse parent_iseq.\n\n\t* thread.c (call_trace_proc): use rb_thread_method_id_and_klass().\n\nSun Nov 11 16:54:25 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lex.c: renamed from lex.c.blt.\n\n\t* Makefile.in (lex.c): use find command to check mtime.\n\nSun Nov 11 05:34:13 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* bin/gem: Add forgotten gem command.\n\nSat Nov 10 23:50:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* string.c (tr_trans): cast to unsigned char after dereference\n\t  a pointer to a char to avoid SEGV with \"\\377\".tr(\"a\", \"b\").\n\t  on FreeBSD/amd64.\n\nSat Nov 10 23:08:53 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in, common.mk, Makefile.in: don't generate\n\t  libminiruby-static.a.\n\nSat Nov 10 19:46:54 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in, common.mk, Makefile.in: generate libminiruby-static.a\n\t  which contains prelude.o for miniruby.\n\nSat Nov 10 18:10:07 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gem_prelude.rb: new file for gem libraries.  currently empty.\n\n\t* common.mk: generate ext_prelude.c by prelude.rb and gem_prelude.rb.\n\t  ruby (not miniruby) is linked with ext_prelude.o instead of\n\t  prelude.o.\n\n\t* inits.c (rb_call_inits): don't call Init_prelude.\n\n\t* ruby.c: support --disable-gems option.\n\t  (ruby_init_gems): new function to define Gem::Enable and\n\t  invoke Init_prelude.\n\t  (process_options): call ruby_init_gems just after\n\t  ruby_init_loadpath.\n\n\t* tool/compile_prelude.rb: support multiple files.\n\nSat Nov 10 17:27:55 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* thread.c (call_trace_proc): don't call ID2SYM() for ID_ALLOCATOR\n\t  to avoid SEGV.\n\nSat Nov 10 16:37:07 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rubygems: Import RubyGems revision 1493.\n\n\t* lib/rubygems.rb: ditto.\n\n\t* lib/ubygems.rb: ditto.\n\n\t* lib/rbconfig/datadir.rb: ditto.\n\n\t* test/rubygems: ditto.\n\nSat Nov 10 16:34:21 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/soap/property.rb: Don't override Enumerable#inject for 1.9.\n\nSat Nov 10 14:43:30 2007  David Flanagan  <davidflanagan@ruby-lang.org>\n\n\t* parse.y: use ASCII encoding for string literals that are\n\t  7-bit clean, fixing regression from my previous patch\n\nSat Nov 10 13:18:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc32,win32}/Makefile.sub: vendor_ruby support.\n\nFri Nov  9 23:33:16 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_nextc): added single line read forward buffer.\n\n\t* parse.y (parser_yylex): adjust line number for fluent interface.\n\nFri Nov  9 22:04:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm.h (FRAME_MAGIC_MASK_BITS): bits of FRAME_MAGIC_MASK.\n\n\t* insnhelper.ci (vm_call_cfunc, vm_cfunc_flags): use shift operations.\n\nFri Nov  9 21:46:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (eval): should be volatile value for GC.\n\nFri Nov  9 17:48:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (locale_encoding): guesstimate encoding from environment\n\t  variables.  [ruby-core:13315]\n\n\t* ruby.c (process_options): set primary encoding from environment.\n\nFri Nov  9 16:51:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_each_byte): should update rbuf_off and rbuf_len for\n\t  each iteration.  [ruby-dev:31659][ruby-dev:32192]\n\n\t* variable.c (rb_cvar_set): cvar assignment obey same rule to cvar\n\t  reference.  [ruby-dev:32192]\n\nFri Nov  9 15:52:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_check_encoding, rb_set_primary_encoding): ENCODING\n\t  is no longer in FL_USERS flags.\n\nFri Nov  9 15:20:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_squeeze_bang): initialize squeezing table if no\n\t  arguments given.\n\nFri Nov  9 13:57:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (each_with_index_i): use rb_yield_values() for\n\t  compatibility with Enumerator#with_index().  a patch from Yusuke\n\t  ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:32195]\n\nFri Nov  9 13:45:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (TestIterator::IterTest::each):\n\t  #each_pair is now alias to #each.  [ruby-dev:32192]\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_assoc_yield):\n\t  ditto\n\nFri Nov  9 12:56:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_load.c (loaded_feature_path): check with type of given feature.\n\nFri Nov  9 12:43:02 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_basicinstructions.rb: updated for new class\n\t  behavior.  [ruby-dev:32192]\n\n\t* encoding.c (enc_name): Encoding should not rely on ENCODING in\n\t  the FL_USERS flags.\n\n\t* encoding.c (rb_enc_from_encoding): do not call rb_enc_associate\n\t  for encoding itself.\n\n\t* encoding.c (enc_register_at): ditto.\n\n\t* marshal.c (r_ivar): do not set real instance variable for\n\t  encoding data associated.\n\nFri Nov  9 10:43:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (send_internal): use self in the previous frame to check for\n\t  protected methods.  [ruby-core:13254]\n\n\t* insnhelper.ci (vm_call_method): send! method has gone.\n\nFri Nov  9 10:38:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* marshal.c (w_object): should be SPECIAL_CONST_P() instead of\n\t  IMMEDIATE_P().\n\nFri Nov  9 10:29:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_invoke_method): check if invoked in function style.\n\t  [ruby-core:13245]\n\n\t* insnhelper.ci (vm_call_cfunc, vm_cfunc_flags): stores and returns VM\n\t  calling flags.\n\n\t* vm.c (rb_vm_cfunc_funcall_p): returns if the current method is\n\t  invoked in function style.\n\nFri Nov  9 10:10:21 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: add rb_context_t#type.\n\nFri Nov  9 10:05:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.c (set_arg0): fix breaking environ bugs.\n\nFri Nov  9 07:26:04 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* random.c: update MT URL.[ruby-core:13305].\n\nThu Nov  8 17:09:55 2007  David Flanagan  <davidflanagan@ruby-lang.org>\n\n\t* object.c: improve docs for Object.tap\n\n\t* ChangeLog: fix bogus dates on my previous entries\n\nThu Nov  8 15:13:56 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* parse.y: fix segfault with \\x escapes in regexps\n\t  delete unused #if 0 code regions from previous patch\n\nThu Nov  8 12:12:10 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_read_escape): remove C99/gcc-ism.\n\nThu Nov  8 07:54:22 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* parse.y: patch, based on Nobu's, work to support \\u escapes\n\t           also modifications for better coderange detection\n\n\t* test/ruby/test_unicode_escapes.rb: test cases\n\n\t* test/ruby/test_mixed_unicode_escapes.rb: mixed encoding test cases\n\nThu Nov  8 07:14:37 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* parse.y (rb_intern3): commented out broken code that prevented\n\t  correct interning of multi-byte symbols.  Without this patch\n\t  :x==:x is false when x is a multi-byte character.\n\nThu Nov  8 07:04:31 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* string.c (tr_setup_table, tr_trans): fix test failures\n\t  in test/ruby/test_string.rb\n\nWed Nov  7 15:07:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_each_with_index): make different arrays at each\n\t  iteration.  [ruby-dev:32181]\n\nWed Nov  7 05:17:24 2007  David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* eval.c: fix typo in invoke_method documentation\n\nWed Nov  7 03:52:26 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_product): core dumped with non array arguments.\n\t  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:32180]\n\nWed Nov  7 03:32:38 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/encodings/SHIFT-JIS.rb (REXML::Encoding): place -x for\n\t  nkf conversion.  a patch from <moonwolf AT moonwolf.com>.\n\t  [ruby-dev:32183]\n\nWed Nov  7 02:59:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_each_index): should return meaningful value.\n\nTue Nov  6 16:37:47 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_load.c (loaded_feature_path): need to expand relative paths.\n\n\t* eval_load.c (rb_feature_p): check if the feature is loading with\n\t  load path.  [ruby-dev:31932]\n\n\t* eval_load.c (load_lock): check the result of barrier waiting.\n\n\t* thread.c (rb_barrier_wait): check if owned by the current thread.\n\n\t* thread.c (rb_barrier_release): ditto.\n\nMon Nov  5 08:01:22 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_eval): move #send to Kernel module from BasicObject.\n\nMon Nov  5 05:17:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Switch::summarize): fix for long form\n\t  option with very long argument.  a patch from Kobayashi Noritada\n\t  <nori1 AT dolphin.c.u-tokyo.ac.jp> in [ruby-list:44179].\n\nMon Nov  5 01:20:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (call_args): remove \"parenthesize argument(s) for future\n\t  version\" warning.  when I added this warning, I had a plan to\n\t  reimplement the parser that is simpler than the current one.\n\t  since we abandoned the plan, warning no longer required.\n\nMon Nov  5 01:02:56 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTPHeader#initialize): provide default\n\t  User-Agent to fix 500 error on some corrupted HTTP servers.\n\t  [ruby-core:13135]\n\nMon Nov  5 00:32:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_send): allow send/__send__ to call methods of all\n\t  visibility again.  we no longer provide __send, __send!.\n\n\t* eval.c (rb_invoke_method): new method to honor private\n\t  visibility.  if it's invoked in a function call style, it calls\n\t  private methods as well (previous 1.9 send behavior).\n\nMon Nov  5 00:24:24 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub: vendor_ruby support.\n\n\t* configure.in (RUBY_LIB): duplicated.\n\nMon Nov  5 00:01:33 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_quote): quote \\v as well.\n\nSun Nov  4 23:51:59 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_initialize_m): use StringValuePtr instead of\n\t  StringValueCStr because \\0 exists when Regexp.new(\"\\0\").\n\nSun Nov  4 08:11:19 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (count_objects): count TOTAL.\n\nSun Nov  4 03:58:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_setup_table): use C array for characters that fit\n\t  in a byte to gain performance.\n\n\t* string.c (rb_str_delete_bang): ditto.\n\n\t* string.c (rb_str_squeeze_bang): ditto.\n\n\t* string.c (rb_str_count): ditto.\n\n\t* string.c (tr_trans): ditto.\n\nSun Nov  4 00:06:40 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (count_objects): ObjectSpace.count_objects implemented.\n\t  [ruby-core:12301]\n\nSat Nov  3 22:49:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_each_pair): make Hash#each to be alias to\n\t  Hash#each_pair for compatibility and clarity.\n\n\t* hash.c (env_each_pair): ditto.\n\nSat Nov  3 22:41:05 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in: --with-vendor-hdrdir implemented.\n\n\t* lib/mkmf.rb: check --vendor argument.\n\n\t* README.EXT: explain --vendor option for extconf.rb\n\n\t* README.EXT.ja: ditto.\n\nSat Nov  3 20:30:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in: --with-vendordir implemented.\n\n\t* mkconfig.rb: add config to vendorlibdir and vendorarchdir.\n\n\t* instruby.rb: make vendor library directories.\n\n\t* ruby.c: insert vendor library directories into load path.\n\nFri Nov  2 20:55:49 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/content.rb, lib/rss/content/, lib/rss/maker/content.rb,\n\t  test/rss/test_content.rb, test/rss/test_maker_content.rb,\n\t  test/rss/rss-testcase.rb (RSS::TestCase): supported\n\t  content:encoded with RSS 2.0.\n\t  Suggested by Sam Lown. Thanks.\n\nFri Nov  2 20:47:04 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, test/rss/test_version.rb: 0.2.0 -> 0.2.1.\n\nThu Nov  1 21:56:45 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (Init_Exception): make NameError to be subclass of\n\t  StandardError again.\n\n\t* error.c (Init_Exception): make SecurityError to be subclass of\n\t  Exception, since it's too important to be handled implicitly.\n\nThu Nov  1 14:51:39 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\t* enum.c (take_while_i, drop_while_i) add RTEST to handle nil return\n\nThu Nov  1 02:12:50 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (prereq): update the path of prelude.c.\n\n\t* common.mk (prelude.c): rollback a part of r13675, because it is not\n\t  documented and causes build error.\n\nThu Nov  1 01:52:23 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* enum.c (enum_drop): fix typo.\n\nThu Nov  1 01:51:01 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* vm_core.h (ruby_current_thread): RUBY_EXTERN'ed for probeprofiler.\n\nThu Nov  1 00:46:30 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/configure.bat, setup.mak: now can recognize OS even if\n\t  the ``--target'' option of configure is omitted.\n\n\t* win32/README.win32: update the descriptions about compiler.\n\nWed Oct 31 03:13:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_take_while): separate with-block form.\n\n\t* enum.c (drop_while_i): ditto.\n\n\t* enum.c (enum_butfirst): abandon butfirst method.  reverted.\n\nTue Oct 30 10:03:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_butfirst): add a new method to iterates over\n\t  elements but first n.  RDoc need to be updated.\n\n\t* enumerator.c (Init_Enumerator): remove unnecessary symbol\n\t  initialization.\n\nMon Oct 29 18:42:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (bvar): block-local variable can shadow outer variable.\n\t  [ruby-core:13036]\n\nMon Oct 29 17:58:16 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_substr): performance improvement.  [ruby-dev:31806]\n\nMon Oct 29 17:20:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_replicate): new function to replicate encoding.\n\n\t* encoding.c (enc_based_encoding): Encoding#base_encoding returns\n\t  based encoding of replica.\n\nMon Oct 29 17:18:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_compatible): ASCII encoding is compatible with\n\t  ASCII-compatible encoding, even for non-string objects.\n\nSun Oct 28 21:50:02 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb: :redirect option implemented to disable redirects.\n\t  (OpenURI::HTTPRedirect): new exception class for redirection.\n\nFri Oct 26 17:38:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (int_chr): take an optional encoding parameter.\n\t  [ruby-core:12816]\n\nFri Oct 26 17:14:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_pow): returns 1.0 for 0**0.0.\n\n\t* numeric.c (fix_pow): returns infinity for 0**-1.  [ruby-dev:32084]\n\nFri Oct 26 15:00:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-{case,label}-indent): adjust for\n\t  labels inside switch block.\n\nFri Oct 26 05:48:57 2007  David Flanagan <davidflanagan@ruby-lang.org>\n\t* array.c: raise IndexError for negative length in rb_ary_fill\n\nWed Oct 25 07:12:03 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/net/telnet.rb (Net::Telnet#login): Allowing \"passphrase\" in\n\t  addition to \"password\" for Telnet login prompts. [ruby-Bugs-10746]\n\nWed Oct 25 06:34:11 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/net/telnet.rb (Net::Telnet#login): Making the password prompt\n\t  pattern case insensitive. [ruby-Bugs-10746]\n\nFri Oct 26 04:21:36 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/pop.rb (Net::POP3::do_start): type fixed.  a patch from\n\t  Dan Zwell <dzwell AT zwell.net> in [ruby-core:12941].\n\nFri Oct 26 01:48:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_assoc): check and convert inner arrays (assocs)\n\t  using #to_ary.\n\n\t* hash.c (rb_hash_s_create): check and convert argument hash\n\t  using #to_hash.\n\n\t* hash.c (rb_hash_s_create): Hash#[] now takes assocs as source of\n\t  hash conversion.\n\nThu Oct 25 16:46:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): dot at the head of the line denote line\n\t  continuation from previous one to support fluent interface.\n\t  [experimental]\n\n\t* misc/ruby-mode.el (ruby-calculate-indent): support fluent dot.\n\nThu Oct 25 14:19:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_tell, rb_io_seek): check errno too.  [ruby-dev:32093]\n\nThu Oct 25 13:59:53 2007 David Flanagan <davidflanagan@ruby-lang.org>\n\n\t* parse.y (parser_tokspace): increment tokidx\n\t  fixes test failure at [test/ruby/test_stringchar.rb:72]\n\nThu Oct 25 09:49:49 2007  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri.rb, lib/uri/ldaps.rb: added LDAPS\n\t  scheme. [ruby-dev:31896]\n\nWed Oct 25 06:23:14 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/parser.rb (XMLRPC::Convert::dateTime): Fixing a bug that\n\t  caused time zone conversion to fail for some ISO 8601 date formats.\n\t  [ruby-Bugs-12677]\n\nWed Oct 25 04:59:28 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/client.rb (XMLRPC::Client#do_rpc): Explicitly start\n\t  the HTTP connection to support keepalive requests. [ruby-Bugs-9353]\n\nWed Oct 25 04:46:53 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/client.rb (XMLRPC::Client#do_rpc): Improving the error\n\t  message for Content-Type check failures. [ruby-core:12163]\n\nWed Oct 25 03:45:08 2007  James Edward Gray II  <jeg2@ruby-lang.org>\n\n\t* lib/xmlrpc/utils.rb (XMLRPC::ParseContentType#parse_content_type):\n\t  Making Content-Type checks case insensitive. [ruby-Bugs-3367]\n\nWed Oct 24 17:09:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_tokspace): make space in token buffer.\n\n\t* parse.y (parser_yylex): fix encoding of single character literal.\n\nTue Oct 23 13:44:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (call_args2): nd_head of NODE_BLOCK_PASS should be a list.\n\t  [ruby-core:12850]\n\nTue Oct 23 10:42:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): encoding set by command line option takes\n\t  priority over the encoding in the source, as the primary encoding.\n\nMon Oct 22 19:24:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (proc_options): allow space after -E (encoding) option.\n\nMon Oct 22 11:03:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (enc_check_encoding): returns index now.\n\n\t* encoding.c (rb_enc_compatible): check if two objects have compatible\n\t  encodings.\n\n\t* encoding.c (enc_compatible_p): added Encoding.compatible?.\n\n\t* include/ruby/encoding.h (rb_enc_compatible): prototype.\n\nSun Oct 21 18:29:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_default, rb_enc_primary): return pointers to\n\t  rb_encoding of default and primary respectively.  [ruby-core:12795]\n\n\t* encoding.c (set_primary_encoding): removed primary_encoding setter.\n\nSat Oct 20 13:17:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_cycle): hide temporary array from ObjectSpace.\n\t  [ruby-core:12762]\n\nSat Oct 20 11:49:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_get_path): returns frozen string.\n\n\t* file.c (rb_file_s_chown, rb_file_s_lchown): use uid_t and gid_t.\n\nFri Oct 19 20:08:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_id_encoding): returns ID \"encoding\".\n\n\t* marshal.c (w_encoding): dump encoding name.\n\n\t* marshal.c (r_ivar): load encoding.\n\nFri Oct 19 16:41:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_regx_options, reg_compile_gen): relaxened encoding\n\t  matching rule.\n\n\t* re.c (rb_reg_initialize): always set encoding of Regexp.\n\n\t* re.c (rb_reg_initialize_str): fix encoding for non 7bit-clean\n\t  strings.\n\n\t* re.c (rb_reg_initialize_m): use ascii encoding for 'n' option.\n\nFri Oct 19 11:09:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_options): set primary encoding from the parser\n\t  always.  [ruby-core:12758]\n\n\t* ruby.c (load_file): should not discard the parser parameter.\n\nFri Oct 19 10:55:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_last): removed unused variables.\n\nThu Oct 18 17:08:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_find_index): update RDoc.  a patch from David Flanagan\n\t  <david AT davidflanagan.com> in [ruby-core:12710].\n\n\t* enum.c (enum_take, enum_drop): ditto.\n\n\t* enum.c (enum_cycle): should not cause infinite loop for empty\n\t  arrays.  [ruby-core:12710]\n\n\t* range.c (Init_Range): typo fixed.\n\nThu Oct 18 16:39:34 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/source.rb (REXML::SourceFactory::SourceFactory): more\n\t  duck typed.  better performance on JRuby.\n\t  http://headius.blogspot.com/2007/10/another-performance-discovery-rexml.html\n\nThu Oct 18 09:33:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_first): takes first n element if argument is\n\t  given.  [ruby-core:12697]\n\n\t* range.c (range_last): returns last n elements if argument is\n\t  given.\n\n\t* array.c (rb_ary_subseq, rb_ary_last): export.\n\nWed Oct 17 17:39:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): fixed reversed condition.  [ruby-core:12722]\n\nWed Oct 17 13:54:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_s_union): the last check was not complete.\n\nWed Oct 17 11:30:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_from_encoding, rb_enc_register): associate index\n\t  to self.\n\n\t* encoding.c (enc_capable): Encoding objects are encoding capable.\n\n\t* re.c (rb_reg_s_union): check if encoding matching by exact encoding\n\t  objects.\n\nWed Oct 17 06:18:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_alias, rb_enc_find_index): changed\n\t  enc_table_alias to a name-to-index hash.\n\n\t* encoding.c (rb_enc_init): use upper case names for aliases to use as\n\t  constant names.\n\n\t* encoding.c (enc_find): allow symbols.\n\n\t* encoding.c (Init_Encoding): define encoding constants.\n\n\t* st.c (strcasehash): fix wrong code range condition.\n\nWed Oct 17 05:07:18 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_primary_encoding): added Encoding.primary_encoding.\n\n\t* parse.y (rb_parser_encoding): added.\n\n\t* ruby.c (proc_options): added -E and --encoding options.\n\n\t* ruby.c (process_options): set primary encoding from command line\n\t  option if set, or source encoding.\n\n\t* include/ruby/encoding.h (rb_enc_from_encoding,\n\t  rb_get_primary_encoding, rb_set_primary_encoding): prototypes.\n\n\t* include/ruby/node.h (rb_parser_encoding): prototype.\n\nWed Oct 17 03:37:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_desc): set encoding.\n\n\t* re.c (rb_reg_s_union): check encodings.\n\n\t* enc/utf8.c (utf8_code_to_mbclen): 0xfe and 0xff are valid Unicode to\n\t  be encoded to 2bytes in UTF-8.  [ruby-core:12700]\n\nWed Oct 17 02:50:49 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_ord): use encoding.\n\nWed Oct 17 01:57:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize_m): allow binary encoding option.\n\t  [ruby-dev:32083]\n\nTue Oct 16 19:48:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_reg_s_union): check for encoding of original object.\n\nTue Oct 16 18:28:51 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* debug.c: use enum for constants for gdb if possible.\n\nTue Oct 16 18:20:10 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ruby.c, debug.c: move debug enum and constants to debug.c.\n\nTue Oct 16 18:16:15 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ruby.c (RUBY_ENCODING_SHIFT): added as enum.\n\n\t* .gdbinit (rp): show encoding and coderange for strings.\n\nTue Oct 16 14:48:38 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_regx_options): check if regexp encoding option\n\t  matches to current encoding.\n\n\t* re.c (char_to_option, rb_char_to_option_kcode): 'n' is not kcode\n\t  option now.\n\n\t* re.c (rb_reg_to_s, rb_reg_error_desc): copy encoding rather than\n\t  append as an option.\n\n\t* re.c (make_regexp, rb_reg_prepare_re): use encoding of Regexp and\n\t  String instead of kcode.\n\n\t* re.c (rb_reg_initialize): set fixed option if none is set.\n\n\t* re.c (rb_reg_regcomp): ditto.\n\n\t* re.c (rb_reg_equal): check if encodings are equal.\n\n\t* re.c (rb_reg_initialize_m): encoding option is obsolete.\n\n\t* re.c (rb_kcode, rb_get_kcode, rb_set_kcode): removed.\n\n\t* re.c (Init_Regexp): removed Regexp#kcode method.\n\n\t* ruby.c (proc_options): allow long encoding name.\n\nTue Oct 16 14:03:09 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_s_union): encoding of all regexp objects should\n\t  match.  [ruby-dev:32076]\n\nTue Oct 16 13:49:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (enc_to_s): rename function.\n\nTue Oct 16 13:25:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_new4): should copy encoding.  a patch from NARUSE,\n\t  Yui <naruse AT airemix.com>.  [ruby-dev:32076]\n\nTue Oct 16 01:31:23 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_inject): RDoc update.  a patch from David Flanagan\n\t  <david AT davidflanagan.com> in [ruby-core:12710].\n\nTue Oct 16 01:25:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (Init_Encoding): define #to_s to show encoding name\n\t  in to_s representation as well as #inspect.\n\nMon Oct 15 13:24:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (flo_round): should be number but not rounding factor.\n\t  [ruby-dev:32060]\n\nMon Oct 15 11:45:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (r_bytes0): refined length check.  [ruby-dev:32059]\n\nMon Oct 15 10:24:19 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* process.c (pst_to_s): returns a string such as \"pid 10220 exit 1\"\n\t  instead of \"256\".  [ruby-dev:32053]\n\t  (pst_inspect): change format\n\t  \"#<Process::Status: pid=10220,exited(1)>\" to\n\t  \"#<Process::Status: pid 10220 exit 1>\".\n\nMon Oct 15 09:58:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (r_bytes0): check if source has enough data.\n\t  [ruby-dev:32054]\n\nMon Oct 15 01:15:09 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (s_accept_nonblock): make accepted fd\n\t  nonblocking.  [ruby-talk:274079]\n\nSun Oct 14 17:31:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_obj_encoding): rdoc update.  a patch from David\n\t  Flanagan <david AT davidflanagan.com>.  [ruby-core:12664]\n\n\t* encoding.c (enc_dump, enc_load): marshaling feature.  a patch from\n\t  David Flanagan.  [ruby-core:12665]\n\n\t* encoding.c (Init_Encoding): undefine allocator of Encoding.\n\t  [ruby-core:12665], [ruby-core:12666]\n\n\t* test/ruby/test_encoding.rb: tests for Encoding from David Flanagan\n\t  [ruby-core:12665]\n\nSun Oct 14 11:09:09 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pp.rb (PP::PPMethods#pp_hash): don't sort keys because hash is\n\t  ordered.\n\t  (ENV.pretty_print): call pp_hash with sorted hash.\n\nSun Oct 14 04:08:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (AC_SYS_LARGEFILE): keep results also in command\n\t  options, to vail out of mismatch.  [ruby-list:44114]\n\n\t* mkconfig.rb, lib/mkmf.rb (configuration): add DEFS.\n\nSun Oct 14 03:55:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/mkexports.rb: deal with __fastcall name decorations.\n\t  [ruby-list:44111]\n\nSun Oct 14 02:20:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_cEncoding): new Encoding class.\n\n\t* encoding.c (rb_to_encoding, rb_to_encoding_index): helper functions.\n\n\t* encoding.c (rb_obj_encoding): return Encoding object now.\n\n\t* gc.c (garbage_collect): mark Encoding objects.\n\n\t* inits.c (rb_call_inits): call Init_Encoding.\n\n\t* string.c (rb_str_force_encoding): accept Encoding object as well as\n\t  encoding name.\n\n\t* include/ruby/encoding.h (rb_to_encoding_index, rb_to_encoding):\n\t  prototypes.\n\nSun Oct 14 01:03:30 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (OpenURI.open_http): fix :ssl_ca_cert option.\n\nSat Oct 13 21:23:21 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (foletype_s_ole_classes,\n\t  foletype_s_typelibs): refactoring.\n\n\t* test/win32ole/test_win32ole_type.rb: add some test.\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): change method name\n\t  WIN32OLE_TYPELIB.ole_types from WIN32OLE_TYPELIB.ole_classes.\n\n\t* test/win32ole/test_win32ole_typelib.rb: ditto.\n\n\t* test/win32ole/test_folderitem2_invokeverb.rb: check create\n\t  shortcut string more strictly (This test is invoked in Japanese\n\t  Windows environment).\n\nSat Oct 13 09:11:58 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (set_file_encoding): case-insensitive search, a patch from\n\t  David Flanagan <david AT davidflanagan.com> [ruby-core:12629]\n\nSat Oct 13 09:02:16 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc,win}32/mkexports.rb: explicit data.  [ruby-list:44108]\n\nSat Oct 13 00:17:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/document.rb (REXML::Document::write): leaky\n\t  modification trans -> transitive.  [ruby-dev:32040]\n\nSat Oct 13 00:00:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: encoding specifier should work if the line matches\n\t  /coding[:=] ?/, a la Python PEP-263, so that VIM comments like\n\t  \"# vim: set fileencoding=<encoding name>\" should be recognized.\n\nFri Oct 12 15:04:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (magic_comments): add \"encoding\" as same as \"coding\".\n\n\t* parse.y (set_file_encoding): special file encoding handling.\n\n\t* parse.y (parser_yylex): ditto.\n\nFri Oct 12 12:44:11 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_combination): fixed memory corruption due to too\n\t  small memory allocation\n\n\t* array.c (rb_ary_product): accessing out of memory bounds.\n\t  condition fixed.\n\nFri Oct 12 11:22:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (match_values_at): make #select to be alias to #values_at\n\t  to adapt RDoc description.  [ruby-core:12588]\n\nThu Oct 11 21:10:17 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/node.h (NOEX_LOCAL): remove unused local visibility.\n\n\t* class.c (ins_methods_push): ditto.\n\n\t* class.c (rb_class_local_methods): method removed.\n\nThu Oct 11 14:29:31 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* */Makefile.sub (COMMON_MACROS): workaround for old SDK's bug.\n\t  [ruby-core:12584]\n\nThu Oct 11 06:35:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, */Makefile.sub (VPATH): add enc directory.\n\n\t* common.mk (ENCOBJS): encoding objects.\n\n\t* enc: directory for encodings.\n\nThu Oct 11 00:04:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): add OnigEncoding\n\t  parameter to every function members.\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): add auxiliary\n\t  data member to provide user defined data for an encoding.\n\nWed Oct 10 23:32:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_s_quote): no longer takes optional second argument\n\t  that has never been documented.\n\nWed Oct 10 15:39:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* encoding.c (rb_enc_init): don't alias iso-8859-1 to ascii.\n\n\t* ascii.c (OnigEncodingASCII): change the name US-ASCII to ASCII-8BIT.\n\nWed Oct 10 14:31:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_enc_str_coderange): fixed check for non-ascii.\n\nTue Oct  9 21:35:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation, rb_ary_combination): missing type\n\t  names.\n\n\t* array.c (rb_ary_permutation): used buffer should be t1.\n\n\t* array.c (rb_ary_permutation): use frozen shared hidden array.\n\t  [ruby-dev:31985]\n\nTue Oct  9 16:58:10 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c: remove to_a completely.\n\n\t* array.c (tmpbuf): keep DRY to clear klass of temporary objects.\n\nTue Oct  9 16:33:32 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation, rb_ary_combination, rb_ary_product):\n\t  hide internal buffer objects.  [ruby-dev:31982]\n\nTue Oct  9 16:00:32 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (parser_read_escape, parser_tokadd_escape): check code range.\n\t  [ruby-dev:31980]\n\nTue Oct  9 15:40:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (STR_NEW3): check for if single byte sequence.\n\nMon Oct  8 20:06:29 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/imap.rb, lib/net/smtp.rb, lib/net/pop.rb: hostname should\n\t  be verified against server's identity as presented in the server's\n\t  certificate. [ruby-dev:31960]\n\n\t* ext/openssl/lib/net/telnets.rb, ext/openssl/lib/net/ftptls.rb: ditto.\n\nSun Oct  7 22:37:47 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_taxonomy.rb, test/rss/test_parser_1.0.rb,\n\t  test/rss/test_image.rb, test/rss/rss-testcase.rb: ensured\n\t  declaring XML namespaces.\n\nSun Oct  7 22:00:01 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/node.h: make node flags as VALUE type.\n\t  enum ruby_node_flags removed.\n\n\t* ruby.c: define RUBY_NODE_* as const for gdb.\n\nSun Oct  7 18:57:12 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h: enum ruby_value_flags removed.  [ruby-dev:31959]\n\n\t* ruby.c: define RUBY_FL_* as const VALUE for gdb.\n\nSun Oct  7 17:50:14 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/http.rb: remove enable_post_connection_check flag.\n\n\t* lib/open-uri.rb: ditto.\n\nSun Oct  7 15:48:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (opt_eq): fix to use rb_str_equal().\n\nSat Oct  6 23:14:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_to_i): update RDoc since base can be any value\n\t  between 2 and 36.  [ruby-talk:272879]\n\nSat Oct  6 16:24:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_free): check Fiber or Continuation.\n\n\t* bootstraptest/test_knownbug.rb: remove a fixed test.\n\nSat Oct  6 14:56:02 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_register): returns new index or -1 if failed.\n\n\t* encoding.c (rb_enc_alias): check if original name is registered.\n\n\t* encoding.c (rb_enc_init): register in same order as kcode options in\n\t  re.c.  added new aliases.\n\n\t* string.c (rb_str_force_encoding): check if valid encoding name.\n\nSat Oct  6 14:32:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (opt_eq): get rid of gcc bug.\n\nSat Oct  6 02:34:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/defines.h: no longer provide DEFAULT_KCODE.\n\nFri Oct  5 21:24:59 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (rb_reg_s_union_m): Regexp.union accepts single argument which\n\t  is an array of patterns.  [ruby-list:44084]\n\nFri Oct  5 16:42:27 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_not_match): new method.\n\nFri Oct  5 16:15:52 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* configure.in: Turn on --enable-pthread by default for FreeBSD\n\t  5.2.1-RELEASE and later, and remove pthread support for older\n\t  versions which has never worked perfectly.\n\nFri Oct  5 16:11:50 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* time.c (time_to_s): Fix documentation.  Time format changed.\n\nFri Oct  5 04:02:39 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/ipaddr.rb (in_addr, in6_addr, addr_mask): Make some minor\n\t  code optimization.\n\nFri Oct  5 03:25:51 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/ipaddr.rb (<=>): Implement IPAddr#<=> and make IPAddr\n\t  comparable.\n\n\t* lib/ipaddr.rb (succ): Implement IPAddr#succ.  You can now create\n\t  a range between two IPAddr's, which (Range) object is\n\t  enumerable.\n\n\t* lib/ipaddr.rb (to_range): A new method to create a Range object\n\t  for the (network) address.\n\nFri Oct  5 03:14:45 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/ipaddr.rb (coerce_other): Support type coercion and make &,\n\t  |, == and include? accept a string or an integer instead of an\n\t  IPAddr object as the argument.\n\n\t* lib/ipaddr.rb (initialize): Give better error messages.\n\n\t* lib/ipaddr.rb: Improve documentation.\n\nThu Oct  4 20:45:53 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (Init_process): win32 has our own WNOHANG definition, so\n\t  remove unnecessary #ifdef guard.\n\nThu Oct  4 20:17:19 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation, rb_ary_product): support non C99\n\t  compilers.\n\nThu Oct  4 17:33:18 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (kcode_setter): Perl-ish global variable `$=' no longer\n\t  effective.\n\n\t* io.c (Init_IO): remove obsolete variables: $defout, $deferr.\n\n\t* re.c (Init_Regexp): remove obsolete const alias: MatchingData.\n\n\t* time.c (Init_Time): remove obsolete Time::times.\n\n\t* re.c (ignorecase_setter): change warning message.\n\n\t* re.c (ignorecase_getter): now gives warning.\n\n\t* string.c (rb_str_cmp_m): update RDoc document.\n\n\t* re.c (kcode_setter): restore erroneously removed setter.\n\nThu Oct  4 16:28:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_obj_encoding): returns encoding of the given object.\n\n\t* parse.y (reg_compile_gen): copy encoding from source string if\n\t  non-empty.\n\n\t* re.c (Init_Regexp): new method Regexp#encoding.\n\n\t* string.c (str_encoding): moved to encoding.c\n\nThu Oct  4 15:49:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation): remove C99 dependency.\n\t  [ruby-dev:31934]\n\n\t* array.c (rb_ary_product): ditto.\n\nWed Oct  3 23:37:17 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/nkf/nkf.c, bin/ri, bin/irb: fixed typos in doc and comments.\n\t  a patch from Eugene Ossintsev  <eugoss AT gmail.com>.\n\t  [ruby-core:12375]\n\nWed Oct  3 17:56:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: enable specify label to executable.\n\t  (-e \"ruby1::/path/to/ruby1; ruby2::/path/to/ruby2; ...\")\n\nWed Oct  3 16:58:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_str_new, parser_yylex, rb_intern3): set code-range\n\t  bits.\n\n\t* parse.y (parser_tokadd_string): check code-range.\n\n\t* parse.y (parser_parse_string, parser_here_document): ditto.\n\n\t* parse.y (parser_set_encode): check if valid encoding.\n\nWed Oct  3 15:43:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_cvar_set): check whether class variable is\n\t  defined in superclasses.  root classes have higher priority.\n\t  removes lower class variable entry from IV_TBL (if it's defined\n\t  in classes, not modules).\n\n\t* variable.c (rb_cvar_get): ditto.\n\nWed Oct  3 10:06:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (ruby_process_options): push frame with program name.\n\t  [ruby-core:12351]\n\nTue Oct  2 20:16:55 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (init_env): refactoring. remove unused code.\n\nTue Oct  2 12:30:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_product): generalized product, now takes\n\t  arbitrary number of arrays.  a patch from David Flanagan\n\t  <david AT davidflanagan.com>.  [ruby-core:12346]\n\nTue Oct  2 08:25:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_permutation): implementation contributed from\n\t  David Flanagan.  [ruby-core:12344]\n\n\t* array.c (rb_ary_combination): RDoc update to clarify.  a patch\n\t  from David Flanagan.  [ruby-core:12344]\n\n\t* array.c (rb_ary_permutation): small dirty hack by Matz to avoid\n\t  arrays on stack.\n\nTue Oct  2 07:01:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (proc_dup): proc->block.proc should be self.\n\n\t* bootstraptest/test_knownbug.rb, test_method.rb:\n\t  move a fixed test.\n\nMon Oct  1 16:17:44 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/test_method.rb: use assert_normal_exit to test\n\t  [ruby-dev:31818].\n\nMon Oct  1 15:57:49 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (id2ref): skip ICLASS.\n\nMon Oct  1 15:29:35 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_normal_exit): use `` instead of\n\t  system.\n\nMon Oct  1 15:17:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (id2ref): T_VALUES is less than T_BLOCK.  [ruby-dev:31911]\n\nMon Oct  1 10:58:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (require_libraries): use require method instead of calling\n\t  rb_require directly.  [ruby-dev:31322]\n\nMon Oct  1 10:52:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_options), ruby.c (proc_options, process_options): not\n\t  call exit(2) directly.  [ruby-dev:31912]\n\n\t* eval.c (ruby_run_node): deal with direct exit code.\n\nSun Sep 30 17:12:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_append): always set encoding, and coderange\n\t  cache bits.\n\n\t* include/ruby/encoding.h (ENC_CODERANGE_SET): fixed a bug not to\n\t  set cache bits.\n\nSun Sep 30 11:52:11 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (pretty): don't show beginning empty line.\n\nSun Sep 30 11:32:34 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* numeric.c: use #ifdef for test LONG_LONG_VALUE.\n\nSun Sep 30 04:30:55 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c: use SIZEOF_LONG instead of SIZEOF_ULONG which is not\n\t  defined.\n\nSun Sep 30 04:03:43 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (Init_Regexp): test DEFAULT_KCODE in C code because\n\t  KCODE_EUC, etc. are enum.\n\nSun Sep 30 00:55:40 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* variable.c (obj_ivar_each): get rid of warning.\n\nSat Sep 29 17:45:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* main.c (main): use platform-independent per-process initialization.\n\t  [ruby-dev:31900]\n\n\t* ruby.c (ruby_sysinit): new function for per-process initialization.\n\n\t* include/ruby/ruby.h (RUBY_GLOBAL_SETUP): toplevel setup declaration.\n\n\t* include/ruby/win32.h, win32/mkexports.rb: alias NtInitialize\n\t  ruby_sysinit.\n\n\t* win32/win32.c (rb_w32_sysinit): renamed from NtInitialize.\n\nSat Sep 29 17:31:04 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_combination): new method to give all combination\n\t  of elements from an array.  [ruby-list:42671]\n\n\t* array.c (rb_ary_product): a new method to get all combinations\n\t  of elements from two arrays.  can be extended to combinations of\n\t  n-arrays, e.g. a.product(b,c,d).  anyone volunteer?\n\n\t* array.c (rb_ary_permutation): empty function body to calculate\n\t  permutations of array elements.  need volunteer.\n\nSat Sep 29 17:14:44 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_leave): move proc invocation from r_entry() to\n\t  avoid potential crash.\n\nSat Sep 29 12:28:08 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_normal_exit): new method.\n\n\t* bootstraptest/test_knownbug.rb: add test for Marshal.load.\n\nSat Sep 29 10:12:20 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* variable.c (rb_ivar_set): fix class instance variable.\n\n\t* object.c (rb_class_real): cl argument may be 0.\n\nSat Sep 29 09:12:02 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* object.c (rb_class_real): use BUILTIN_TYPE instead of TYPE.\n\t  access flags directly instead of FL_TEST.\n\t  they are enough because cl argument is a class.\n\nSat Sep 29 08:57:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/win32.h (strcasecmp): needed for type_strcasehash.\n\nSat Sep 29 06:47:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (struct cmdline_options): static variables packed.\n\nSat Sep 29 05:29:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_fdopen): create IO object from fd.\n\n\t* parse.y (yycompile): use encoding of the source as default.\n\n\t* ruby.c (proc_options, load_file): ditto.\n\nSat Sep 29 04:27:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_alias): allow encodings multiple aliases.\n\n\t* encoding.c (rb_enc_find_index): search the encoding which has the\n\t  given name and return its index if found, or -1.\n\n\t* st.c (type_strcasehash): case-insensitive string hash type.\n\n\t* string.c (rb_str_force_encoding): force encoding of self.  this name\n\t  comes from [ruby-dev:31894] by Martin Duerst.  [ruby-dev:31744]\n\n\t* include/ruby/encoding.h (rb_enc_find_index, rb_enc_associate_index):\n\t  prototyped.\n\n\t* include/ruby/encoding.h (rb_enc_isctype): direct interface to ctype.\n\n\t* include/ruby/st.h (st_init_strcasetable): prototyped.\n\nSat Sep 29 03:53:26 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: Thread local storage should be fiber local.\n\n\t* bootstraptest/test_knownbug.rb, test/ruby/test_fiber.rb:\n\t  move a fixed test.\n\nFri Sep 28 23:15:31 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insnhelper.ci (vm_call_method): allow send! to call protected\n\t  methods as well.  [ruby-core:12280]\n\nFri Sep 28 22:33:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_so_fasta.rb: added.\n\n\t* benchmark/bm_so_k_nucleotide.rb: added.\n\n\t* benchmark/bm_so_reverse_complement.rb: added.\n\n\t* benchmark/make_fasta_output.rb: added.\n\n\t* benchmark/prepare_so_k_nucleotide.rb: added.\n\n\t* benchmark/prepare_so_reverse_complement.rb: added.\n\nFri Sep 28 19:14:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: fix notations.\n\n\t* benchmark/bm_loop_whileloop.rb: ditto.\n\n\t* benchmark/bm_loop_whileloop2.rb: ditto.\n\n\t* benchmark/bm_app_uri.rb: added.\n\n\t* benchmark/bm_vm1_ivar_set.rb: ditto.\n\n\t* benchmark/bm_so_binary_trees.rb: added from Computer Language\n\t  Benchmarks Game (http://shootout.alioth.debian.org/).\n\n\t* benchmark/bm_so_fannkuch.rb: ditto.\n\n\t* benchmark/bm_so_mandelbrot.rb: ditto.\n\n\t* benchmark/bm_so_meteor_contest.rb: ditto.\n\n\t* benchmark/bm_so_nbody.rb: ditto.\n\n\t* benchmark/bm_so_nsieve.rb: ditto.\n\n\t* benchmark/bm_so_nsieve_bits.rb: ditto.\n\n\t* benchmark/bm_so_partial_sums.rb: ditto.\n\n\t* benchmark/bm_so_pidigits.rb: ditto.\n\n\t* benchmark/bm_so_spectralnorm.rb: ditto.\n\nFri Sep 28 16:22:52 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm_core.h (rb_vm_struct): fix typo: bufferd -> buffered.\n\nFri Sep 28 15:47:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: fix to output benchmark results\n\t  to file \"bmlog-#{Time.now.strftime('%Y%m%d-%H%M%S')}.#{$$}\".\n\n\t* benchmark/bm_io_file_create.rb: remove useless codes.\n\n\t* benchmark/bm_vm2_eval.rb: added.\n\nFri Sep 28 15:05:24 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h: export rb_ivar_foreach.\n\n\t* include/ruby/ruby.h: modify struct RObject and RClass for optimizing\n\t  T_OBJECT space.  [ruby-dev:31853]\n\t  (ROBJECT_LEN, ROBJECT_PTR)\n\t  (RCLASS_IV_TBL, RCLASS_M_TBL, RCLASS_SUPER, RCLASS_IV_INDEX_TBL)\n\t  (RMODULE_IV_TBL, RMODULE_M_TBL, RMODULE_SUPER): abstract accessor\n\t  defined.\n\n\t* variable.c: support the modified RObject and RClass.\n\n\t* object.c: ditto.\n\n\t* class.c: ditto.\n\n\t* gc.c: ditto.\n\n\t* marshal.c: ditto.\n\n\t* eval_method.ci: use the abstract accessor.\n\n\t* insns.def: ditto.\n\n\t* proc.c: ditto.\n\n\t* struct.c: ditto.\n\n\t* eval.c: ditto.\n\n\t* error.c: ditto.\n\n\t* vm.c: ditto.\n\n\t* insnhelper.ci: ditto.\n\n\t* ext/digest/digest.c: ditto.\n\nFri Sep 28 13:20:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline_fast, rb_io_getline_1): set encoding to the\n\t  result string, as well as getc.\n\nFri Sep 28 12:51:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_app_erb.rb: added.\n\n\t* benchmark/bm_io_file_(create|read|write).rb: added.\n\nFri Sep 28 12:49:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: fix file selection algorithm.\n\nFri Sep 28 02:05:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_comparable): need not to check asciicompat here.\n\n\t* encoding.c (rb_enc_check): ditto.\n\n\t* string.c (rb_enc_str_coderange): tuned a bit; no broken check.\n\n\t* encoding.c (rb_enc_check): new encoding comparison criteria.\n\nThu Sep 27 17:36:28 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/REAMDE.win32: follow recent changes.\n\nThu Sep 27 16:01:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: fix to output some helpful messages.\n\nThu Sep 27 15:44:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/driver.rb: added.\n\n\t* common.mk: fix to use above driver.\n\n\t* benchmark/prepare_so_count_words.rb: added.\n\n\t* benchmark/bm_so_count_words.rb: fix benchmark process.\n\nThu Sep 27 15:42:34 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/fiber/fiber.c: modify prototype declaration.\n\t  [ruby-core:12247]\n\nThu Sep 27 09:42:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (strings, xstring, regexp, dsym): empty strings have\n\t  US-ASCII encoding.\n\nThu Sep 27 07:39:13 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_finish): new method.\n\n\t* bootstraptest/test_knownbug.rb: add test for [ruby-dev:31866] using\n\t  assert_finish.\n\nThu Sep 27 04:46:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_associate_index): deal with ASCII compatible\n\t  flags.\n\n\t* encoding.c (rb_enc_check): allow ASCII compatible strings.\n\n\t* parse.y (rb_intern_str): use ASCII encoding for ASCII string.\n\n\t* string.c (rb_enc_str_coderange): check for code-range.\n\n\t* string.c (rb_str_modify): clear code-range flags.\n\n\t* string.c (rb_str_hash, rb_str_eql): ASCII compatible strings are\n\t  comparable.\n\n\t* include/ruby/encoding.h: added code-range flags.\n\nThu Sep 27 04:40:47 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_mark_set): new function to mark keys.\n\n\t* marshal.c (struct dump_arg, struct load_arg): added wrappers to mark\n\t  data and compat_tbl entries.  [ruby-dev:31870]\n\nThu Sep 27 03:17:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_waitpid): no needs to poll.  [ruby-dev:31871]\n\nWed Sep 26 20:11:46 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: remove a fixed test.\n\nWed Sep 26 20:00:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: move fixed tests.\n\n\t* bootstraptest/test_method.rb: ditto.\n\n\t* test/ruby/test_io.rb: ditto.\n\nWed Sep 26 19:36:26 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (eval): fix to check stack overflow.\n\t  [ruby-dev:31850]\n\n\t* eval_intern.h, vm.h: move CHECK_STACK_OVERFLOW() macro.\n\nWed Sep 26 19:27:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_throw): fix to move increment point.\n\t  [ruby-dev:31840]\n\nWed Sep 26 19:23:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: Fiber as SemiCoroutine on default. [ruby-core:12146]\n\n\t* ext/fiber/fiber.c: enable Fiber#transfer.\n\nWed Sep 26 18:38:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_check): check for ASCII-compatibilities.\n\n\t* parse.y (parser_tokadd_string, parser_parse_string,\n\t  parser_here_document, parser_yylex): set encoding to US-ASCII.\n\n\t* parse.y (rb_enc_symname_p): check if valid with encoding.\n\n\t* parse.y (rb_intern3): let symbols have encoding.\n\n\t* string.c (rb_str_hash): add encoding index.\n\n\t* string.c (rb_str_comparable, rb_str_equal, rb_str_eql): check if\n\t  compatible encoding.\n\n\t* string.c (sym_inspect): made encoding aware.\n\n\t* insns.def (opt_eq): compare with encoding.\n\n\t* include/ruby/encoding.h (rb_enc_asciicompat): check if ASCII\n\t  compatible.\n\n\t* include/ruby/encoding.h (rb_enc_get_index): added prototype.\n\n\t* include/ruby/intern.h (rb_str_comparable, rb_str_equal): ditto.\n\nWed Sep 26 15:01:16 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_method.ci (rb_get_alloc_func): cast to suppress a warning.\n\n\t* eval_method.ci (remove_method): local variable to be initialized.\n\nWed Sep 26 08:36:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (ext/extinit.o): use $(OUTFLAG) as well as other\n\t  objects.  [ruby-Bugs-14228]\n\nWed Sep 26 05:12:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_yyerror): limit error message length.\n\t  [ruby-dev:31848]\n\nTue Sep 25 15:11:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_ungetc): reallocate internal buffer if pushing data\n\t  excess capacity.  [ruby-dev:31650]\n\nTue Sep 25 13:43:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_method.ci (remove_method): should not remove undef place\n\t  holder.  [ruby-dev:31816], [ruby-dev:31817]\n\nTue Sep 25 09:51:31 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_longjmp): source file information may be NULL.\n\t  [ruby-dev:31849]\n\n\t* eval.c (ruby_finalize_0): clear trace_func before finalization.\n\nMon Sep 24 22:36:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_equal): should handle recursive array.\n\n\t* hash.c (hash_equal): should handle recursive hash.\n\nMon Sep 24 22:14:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/weakref.rb (WeakRef): remove debug print.  [ruby-dev:31799]\n\n\t* hash.c (hash_i): avoid too frequent hash conflict where key and\n\t  value are same.  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.\n\t  [ruby-dev:31802]\n\nMon Sep 24 17:56:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/strscan/strscan.c (strscan_initialize, strscan_getch): use the\n\t  encoding of the target string instead of setting to StringScanner\n\t  instance.  [ruby-dev:31831]\n\nMon Sep 24 16:52:11 2007  Urabe Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* lib/net/http.rb: fix typo.\n\nMon Sep 24 06:49:15 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/http.rb: an SSL verification (the server hostname should\n\t  be matched with its certificate's commonName) is added.\n\t  this verification can be skipped by\n\t  \"Net::HTTP#enable_post_connection_check=(false)\".\n\t  suggested by Chris Clark <cclark at isecpartners.com>\n\n\t* lib/net/open-uri.rb: use Net::HTTP#enable_post_connection_check to\n\t  perform SSL post connection check.\n\n\t* ext/openssl/lib/openssl/ssl.c\n\t  (OpenSSL::SSL::SSLSocket#post_connection_check): refine error message.\n\nSun Sep 23 09:05:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (os_obj_of, os_each_obj): hide objects to be finalized.\n\t  [ruby-dev:31810]\n\nSun Sep 23 08:58:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_method.ci (rb_attr): should not use alloca for unknown size\n\t  input.  [ruby-dev:31818]\n\n\t* parse.y (rb_intern_str): prevent str from optimization.\n\nSun Sep 23 06:16:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_method.ci (remove_method): check for undefined method.\n\t  [ruby-dev:31816]\n\nSun Sep 23 05:42:35 2007  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* lib/rdoc/options.rb (Options::check_diagram): dot -V output\n\t  changed. [ ruby-Bugs-11978 ], Thanks Florian Frank.\n\nSat Sep 22 06:02:11 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::List::summarize): use each_line if\n\t  defined rather than each.  [ruby-Patches-14096]\n\nSat Sep 22 05:19:49 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_init): separate from strio_initialize\n\t  to share with strio_reopen properly.  [ruby-Bugs-13919]\n\nFri Sep 21 14:51:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (gc_mark_rest): copy just used part.\n\n\t* gc.c (gc_mark_children): mark u1 and u2 of NODE_ARGSCAT.\n\n\t* gc.c (os_obj_of): hide T_VALUES too.  [ruby-dev:31804]\n\n\t* gc.c (run_final): freeze temporary argument array.\n\nFri Sep 21 04:58:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-label-indent): fix for function top\n\t  level labels.\n\nFri Sep 21 02:11:22 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_match_m): evaluate a block if match.  it would make\n\t  condition statement much shorter, if no else clause is needed.\n\n\t* string.c (rb_str_match_m): ditto.\n\nFri Sep 21 02:02:34 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (hash_equal): should call rb_eql when argument eql is set.\n\nThu Sep 20 17:28:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (popen_exec), process.c (rb_spawn): stop other threads before\n\t  exec.  [ruby-core:08262]\n\nTue Sep 18 22:08:42 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/matrix.rb: fix a coerce bug of Vector. [ruby-core: 12190]\n\nMon Sep 17 21:06:03 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTP::GenericRequest#initialize): check path is\n\t  not nil. [ruby-dev:31149]\n\nMon Sep 17 21:00:51 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (ripper): rename event: arglist_* -> args_*.\n\n\t* parse.y (ripper): rename event: restparam -> rest_param.\n\n\t* parse.y (ripper): rename event: constpath_* -> const_path_*.\n\n\t* parse.y (ripper): rename event: topconst_* -> top_const_*.\n\n\t* parse.y (ripper): rename event: iter_block -> method_add_block.\n\n\t* parse.y (ripper): support block local parameter declaration.\n\n\t* parse.y (ripper): introduce new macro params_new.\n\n\t* ext/ripper/lib/ripper/sexp.rb: should not dispose event\n\t  arguments whose name ends with \"_new\" but arity != 0.\n\nSat Sep 15 23:36:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (struct parser_params): common members in the parser and\n\t  ripper must be placed at each same location.\n\nSat Sep 15 18:25:15 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* string.c (rb_str_rstrip_bang): fixed too much rstrip. [ruby-dev:31786]\n\nSat Sep 15 17:32:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_initialize): set default encoding.  [ruby-dev:31787]\n\n\t* ruby.c (load_file): make new parse instance after processing shebang\n\t  line options.\n\nSat Sep 15 17:04:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* encoding.c (rb_enc_associate_index, rb_enc_get_index): check if\n\t  object is encoding capable.  [ruby-dev:31780]\n\n\t* string.c (rb_str_subpat_set): check for if the argument is a String.\n\nSat Sep 15 13:31:21 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss.rb, lib/rss/, test/rss/:\n\t  - 0.1.9 -> 0.2.0.\n\t  - supported Slash module.\n\nFri Sep 14 22:20:01 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fev_unadvise): no needs to reset\n\t  event handlers.\n\nFri Sep 14 17:28:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_io.rb: tests which cause SEGV should not be\n\t  added.\n\n\t* bootstraptest/test_knownbug.rb: add above test to known bug.\n\nFri Sep 14 16:24:04 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_expandarray): assignment should be placed\n\t  after creating new array.\n\nFri Sep 14 16:17:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: add a stress test (-s).\n\nFri Sep 14 16:14:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.h, eval_intern.h: move some macros to eval_intern.h.\n\n\t* eval_jump.ci (rb_f_throw): fix to use NEW_THROW_OBJECT().\n\n\t* eval.c (rb_f_loop): remove additional macro.\n\nFri Sep 14 16:12:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_expandarray): should be volatile value for GC.\n\nThu Sep 13 15:42:03 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_compile_each): inline cache entries are overwritten\n\t  in iseq_build_body().\n\nThu Sep 13 14:00:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (brace_block): should use compstmt.  patch submitted by\n\t  Kirill A. Shutemov <k.shutemov AT gmail.com>  [ruby-core:12154].\n\nThu Sep 13 13:47:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_id2str): fixed typo.\n\nWed Sep 12 23:12:22 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (proc_options): -W should be allowed in RUBYOPT\n\t  environment variable.  [ruby-core:12118]\n\nWed Sep 12 15:19:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_s_sysopen): should not use alloca for unknown size\n\t  input.  [ruby-dev:31775]\n\n\t* parse.y (rb_id2str): ditto.\n\n\t* marshal.c (w_float): use snprintf instead of sprintf.\n\nTue Sep 11 17:28:00 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/tempfile.rb (Tempfile::make_tmpname): Allow to specify a\n\t  suffix for a temporary file name.\n\n\t* lib/tempfile.rb (Tempfile::make_tmpname): Make temporary file\n\t  names less predictable by including a random string.\n\t  [inspired by: akr]\n\nTue Sep 11 17:25:59 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/shellwords.rb: Add shellescape() and shelljoin().\n\n\t* lib/shellwords.rb: Rename shellwords() to shellsplit() and make\n\t  the former an alias to the latter.\n\n\t* lib/shellwords.rb: Add escape(), split(), join() as class\n\t  methods, which are aliases to their respective long names\n\t  prefixed with `shell'.\n\n\t* lib/shellwords.rb: Add String#shellescape(), String#shellsplit()\n\t  and Array#shelljoin() for convenience.\n\nMon Sep 10 15:48:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* range.c: represent initialized state using EXCL instead of FL_USER3.\n\n\t* range.c (range_dumper): make uninitialized range dumpable.\n\t  (range_loader): make uninitialized range loadable.\n\nMon Sep 10 13:44:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_cycle): avoid infinite loop for empty array.\n\t  based on a patch from David Flanagan.  [ruby-core:12085]\n\nMon Sep 10 01:21:23 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_object0): struct allocation first to check if a\n\t  class is a struct.  compatibility check should come next.\n\nMon Sep 10 01:05:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_step): fixed integer overflow.  [ruby-dev:31763]\n\nSun Sep  9 08:57:27 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (_strptime): now also attaches an element\n\t  which denotes leftover substring if exists.\n\nSun Sep  9 01:59:08 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (r_object0): check T_STRUCT type for structs.\n\nSun Sep  9 01:17:05 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* marshal.c (r_object0): don't call user-defined initialize for\n\t  T_STRUCT objects.\n\n\t* include/ruby/intern.h (rb_struct_initialize): declared.\n\n\t* struct.c (rb_struct_initialize): export.\n\nSat Sep  8 23:55:56 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval_method.ci (rb_get_alloc_func): new function to get allocation\n\t  function.\n\n\t* include/ruby/intern.h (rb_alloc_func_t): declared.\n\t  (rb_define_alloc_func): declared.\n\t  (rb_marshal_define_compat): declared.\n\n\t* range.c: use T_STRUCT for Range.\n\n\t* inits.c: move Init_marshal() prior to Init_Range() because\n\t  Init_Range calls rb_marshal_define_compat which needs\n\t  marshal's compat_allocator_tbl initialized.\n\n\t* marshal.c: support marshal format compatibility layer designed for\n\t  marshaling T_STRUCT Range using T_OBJECT format.\n\t  (rb_marshal_define_compat): defined.\n\n\t[ruby-dev:31710]\n\nSat Sep  8 10:05:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_s_members): check if __members__ is an\n\t  array to prevent segmentation fault.  [ruby-dev:31759]\n\nSat Sep  8 09:33:09 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (str[fp]time): now check specifications more\n\t  strictly.\n\nSat Sep  8 02:56:31 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_fiber.rb (TestFiber::test_throw): uncaught throw\n\t  now raise ArgumentError exception.\n\nSat Sep  8 02:45:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_s_members): should raise TypeError instead\n\t  of call rb_bug().  [ruby-dev:31709]\n\n\t* marshal.c (r_object0): no nil check require any more.\n\nSat Sep  8 01:46:36 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* regenc.c, regenc.h (onigenc_single_byte_mbc_enc_len): should take\n\t  two arguments. [ruby-dev:31754]\n\nFri Sep  7 00:58:16 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: fix typo.\n\nFri Sep  7 00:28:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_getc): forgot to commit rb_enc_mbclen() fix.\n\n\t* ext/stringio/stringio.c (strio_getc): rb_enc_mbclen() fix.\n\n\t* ext/stringio/stringio.c (strio_ungetc): ditto.\n\nThu Sep  6 22:57:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/fileutils.rb (FileUtils::Entry_::copy): prevent self copy of\n\t  directories.\n\n\t* lib/fileutils.rb (FileUtils::fu_each_src_dest0): use try_convert.\n\n\t* lib/fileutils.rb (FileUtils::fu_update_option): ditto.\n\nThu Sep  6 21:36:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h (OnigEncodingTypeST): add end parameter\n\t  to mbc_enc_len.\n\n\t* euc_jp.c (mbc_enc_len), sjis.c (mbc_enc_len),\n\t  utf8.c (utf8_mbc_enc_len): ditto.\n\n\t* encoding.c (rb_enc_mbclen): add end parameter.\n\nThu Sep  6 21:31:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_cycle): typo in rdoc.  a patch from Yugui\n\t  <yugui@yugui.sakura.ne.jp>.  [ruby-dev:31748]\n\nThu Sep  6 12:42:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_succ, rb_str_chop_bang, rb_str_chop): m17n support.\n\t  [ruby-dev:31734]\n\nWed Sep  5 22:02:27 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_subseq): need integer overflow check.\n\t  [ruby-dev:31736]\n\n\t* array.c (rb_ary_splice): ditto.  [ruby-dev:31737]\n\n\t* array.c (rb_ary_fill): ditto.  [ruby-dev:31738]\n\n\t* string.c (rb_str_splice): integer overflow for length.\n\t  [ruby-dev:31739]\n\nTue Sep  4 20:43:44 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_EVENT#unadvise.\n\n\t* test/win32ole/test_win32ole_event.rb: ditto.\n\nMon Sep  3 15:37:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (vm.o): depends on st.h too.\n\nSun Sep  2 23:38:29 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/st.h (struct st_table): make num_entries bitfield\n\t  instead of num_bins for speed.  num_entries has less access.\n\nSun Sep  2 00:37:57 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (_parse): improved parsing of ordinal dates.\n\n\t* lib/date/format.rb (_parse): use named character classes in some\n\t  regular expressions.\n\nSat Sep  1 23:44:26 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_jump.ci (rb_f_throw): wrap tag and TAG_THROW in a NODE_MEMO\n\t  node to make throw instruction to work well.\n\nSat Sep  1 20:56:07 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/ruby.h (struct RBignum): embed digits in RBignum for\n\t  small bignums.\n\n\t* bignum.c: RBignum embedded digits implemented.\n\n\t* include/ruby/intern.h: declare rb_big_resize.\n\n\t* gc.c: don't free embedded digits.\n\n\t* numeric.c: replace direct bignum field accessor by abstract field\n\t  accessor such as RBIGNUM(val)->sign to RBIGNUM_SIGN(val).\n\n\t* sprintf.c: ditto.\n\n\t* compar.c: ditto.\n\n\t* marshal.c: ditto.\n\n\t* random.c: ditto.\n\n\t* .gdbinit: support embedded small bignums.\n\n\t[ruby-dev:31689]\n\nSat Sep  1 19:59:43 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_event_free): IConnectionPoint should be\n\t  released.\n\n\t* ext/win32ole/win32ole.c (EVENTSINK_Destructor): ITypeInfo should be\n\t  released.\n\n\t* ext/win32ole/win32ole.c (fev_initialize): refactoring.\n\nSat Sep  1 16:26:09 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/socket/test_tcp.rb (test_recvfrom): same as mswin32 on mswin64.\n\nSat Sep  1 14:24:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* st.c (st_numcmp, st_numhash): use st_data_t instead of long, because\n\t  the former may be larger than the latter.\n\n\t* include/ruby/st.h (CHAR_BIT): get rid of magic number.\n\n\t* include/ruby/st.h (rb_index_t): use st_data_t for the platforms it\n\t  is larger than int.\n\nSat Sep  1 10:43:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_jump.ci (rb_f_catch): generate new tag object if no argument is\n\t  given.  backported from MatzRuby.  [ruby-dev:31609]\n\n\t* eval_jump.ci (rb_catch): call #catch without arguments if tag\n\t  string is NULL.\n\n\t* eval_jump.ci (rb_f_throw): allow throwing non-symbol object.\n\n\t* eval_jump.ci (rb_catch_obj): new function to wait throw with arbitrary\n\t  object.\n\n\t* eval_jump.ci (rb_throw_obj): new function to throw arbitrary object.\n\n\t* variable.c (check_autoload_table): prevent multiple calls from\n\t  RSTRING_PTR().\n\nFri Aug 31 07:12:24 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (SQRT_LONG_MAX): use SIZEOF_LONG instead of SIZEOF_VALUE\n\t  because SIZEOF_VALUE > SIZEOF_LONG on some platforms.\n\nFri Aug 31 04:18:03 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_norm_arg, f_arg_item): not croak already erred names.\n\t  [ruby-dev:31687]\n\n\t* parse.y (assignable_gen): ignore already erred names.\n\n\t* parse.y (shadowing_lvar_gen): always make new block local variable\n\t  when shadowing outer local variable.  [ruby-dev:31507]\n\nThu Aug 30 19:40:33 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* regenc.h: check RUBY_EXTERN before including config.h and defines.h\n\n\t* common.mk: update header dependency.\n\nThu Aug 30 14:06:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (rb_obj_define_method): reverted.  [ruby-talk:266637]\n\nThu Aug 30 13:49:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: initialize $top_srcdir always.  [ruby-dev:31682]\n\n\t* lib/mkmf.rb (try_const, have_const): check for a const is defined.\n\t  [ruby-core:04422]\n\nThu Aug 30 08:00:12 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/intern.h: declare rb_hash_tbl.\n\n\t* include/ruby/ruby.h (RHash): delay st_table allocation.\n\t  rename tbl field to ntbl to detect direct reference to the st_table\n\t  as a compile error.\n\t  (RHASH_TBL): abstract accessor defined.\n\t  (RHASH_ITER_LEV): ditto.\n\t  (RHASH_IFNONE): ditto.\n\t  (RHASH_SIZE): ditto.\n\t  (RHASH_EMPTY_P): ditto.\n\t  (hash_alloc0, hash_alloc): unified because hash_alloc doesn't\n\t  allocate st_table now.\n\n\t* hash.c: delay st_table allocation.\n\n\t* gc.c: replace tbl by ntbl.\n\n\t* array.c: replace direct field accessor by abstract field accessor\n\t  such as RHASH(hash)->tbl to RHASH_TBL(hash).\n\n\t* marshal.c: ditto.\n\n\t* insns.def: ditto.\n\n\t* ext/iconv/iconv.c: ditto.\n\n\t* ext/json/ext/generator/generator.c: ditto.\n\n\t* ext/json/ext/parser/parser.c: ditto.\n\n\t* ext/json/ext/parser/parser.rl: ditto.\n\n\t* ext/syck/rubyext.c: ditto.\n\n\t* ext/tk/tkutil/tkutil.c: ditto.\n\n\t[ruby-dev:31678]\n\nWed Aug 29 18:36:06 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb: add :ftp_active_mode option.  [ruby-dev:31677]\n\nWed Aug 29 14:55:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): should not use mbclen2() which has broken API.\n\n\t* re.c: remove rb_reg_mbclen2().\n\nWed Aug 29 12:48:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (aref_args): args may not be a list.  [ruby-dev:31592]\n\nWed Aug 29 11:30:10 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* include/ruby/st.h (struct st_table): add entries_packed 1-bit\n\t  bitfield.  decrease num_bins 1-bit.\n\n\t* st.c: pack numhash which have 5 or less entries in bins.\n\t  (st_init_table_with_size): setup entries_packed flag.\n\t  (st_clear): support packed mode.\n\t  (st_lookup): ditto.\n\t  (st_insert): ditto.\n\t  (st_add_direct): ditto.\n\t  (st_copy): ditto.\n\t  (st_delete): ditto.\n\t  (st_foreach): ditto.\n\t  (st_reverse_foreach): ditto.\n\t  (unpack_entries): new function for converting to unpacked mode.\n\n\t[ruby-list:43954]\n\nWed Aug 29 10:46:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/defines.h (flush_register_windows): call \"ta 0x03\"\n\t  even on Linux/Sparc.  [ruby-dev:31674]\n\nTue Aug 28 19:16:00 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_type_progid): progid getted by\n\t  ProgIDFromCLSID should be freed by CoTaskMemFree. Thanks, arton.\n\n\t* test/win32ole/test_win32ole.rb (test_raise_message): set negative\n\t  compareMode value to raise WIN32OLERuntimeError.\n\n\t* test/win32ole/test_win32ole_type.rb (test_implemented_ole_types):\n\t  support some environment which returns IShellDispatch5 instead\n\t  of IShellDispatch.\n\nTue Aug 28 15:42:09 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_subseq): retrieve substring based on byte offset.\n\n\t* string.c (rb_str_rindex_m): was confusing character offset and\n\t  byte offset.\n\nTue Aug 28 14:23:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_splice_0): should check to modify.  [ruby-dev:31665]\n\nTue Aug 28 14:21:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_prepare): set parser encode too when BOM exists.\n\nTue Aug 28 00:51:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c: fix Mutex to be interruptable lock.\n\n\t* thread_win32.ci, thread_win32.h, thread_pthread.ci, thread_pthread.h:\n\t  prepare native_cond_*() which are based on pthread_cond_*() spec.\n\n\t* prelude.rb: fix Mutex#synchronize method.\n\n\t* vm_core.h, include/ruby/intern.h: change unblock function interface\n\t  (to pass some user data).\n\n\t* file.c, process.c: ditto.\n\n\t* benchmark/bm_vm2_mutex.rb: add a benchmark for mutex.\n\n\t* benchmark/bm_vm3_thread_mutex.rb: add a benchmark for mutex\n\t  with contention.\n\n\t* benchmark/run.rb: fix to remove ENV['RUBYLIB'] for matzruby.\n\n\t* test/ruby/test_thread.rb: add a test.\n\n\t* common.mk: fix benchmark options.\n\nMon Aug 27 23:14:02 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_rstrip_bang): wrong strip point.  [ruby-dev:31652]\n\n\t* string.c (rb_str_each_line): should swallow sequence of newlines\n\t  if rs (optional argument) is an empty string.  [ruby-dev:31652]\n\nMon Aug 27 22:39:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c (rb_enc_codelen): raises invalid sequence exception\n\t  if ONIGENC_CODE_TO_MBCLEN() returns zero.  [ruby-dev:31661]\n\n\t* encoding.c (rb_enc_mbclen): check invalid sequence.\n\nMon Aug 27 20:27:59 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_type_progid): fix the bug.\n\t  [ruby-dev:31576]\n\n\t* test/win32ole/test_win32ole_type.rb (test_initialize):\n\t  remove duplicate assertions.\n\nMon Aug 27 19:10:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/etc/etc.c (etc_getlogin): update documentation to note\n\t  security issue.  [ruby-Bugs-11821]\n\nMon Aug 27 15:56:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (sym_encoding): return the encoding of a Symbol.\n\nMon Aug 27 15:33:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (IEEE_BIG_ENDIAN): use configured value.  [ruby-dev:31623]\n\n\t* util.c (Llong): set to LONG_LONG if available.\n\nMon Aug 27 13:11:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (tr_trans): wrong condition for mbmaxlen==1 strings.\n\t  [ruby-dev:31652]\n\nMon Aug 27 00:41:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_each_byte): caused infinite loop.  [ruby-dev:31652]\n\n\t* io.c (rb_io_getc): should return nil at EOF, not EOFError.\n\n\t* lib/delegate.rb (SimpleDelegator::__setobj__): use raise\n\t  argument to specify backtrace.\n\n\t* test/ruby/test_fnmatch.rb (TestFnmatch::bracket_test):\n\t  String#include? no longer works for Fixnum.  use #chr.\n\t  [ruby-dev:31652]\n\nSun Aug 26 12:27:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: fix to remove Fiber.new until fiber.so is not loaded.\n\n\t* test/ruby/test_continuation.rb: fix to use resume.\n\nSun Aug 26 06:51:46 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_wc2mb, reg_enum_key): allocate\n\t  buffer should be NULL terminated.\n\nSun Aug 26 06:04:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_setup_method): reorder code for branch prediction.\n\nSun Aug 26 05:54:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_call_method): fix to relaxant safe level check\n\t  ($SAFE > 2).  [ruby-core:11998]\n\n\t* bootstraptest/test_method.rb: add tests for above.\n\nSun Aug 26 05:52:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_fiber.rb: fix to require 'continuation'.\n\nSat Aug 25 23:52:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_next): message changed.\n\nSat Aug 25 23:22:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/encoding.h: remove unused rb_enc_ismbchar().\n\nSat Aug 25 22:50:14 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_event_free, EVENTSINK_Destructor,\n\t  fev_initialize): remove the connection ole_event_free and\n\t  EVENTSINK_Destructor.\n\nSat Aug 25 17:52:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* string.c, include/ruby/intern.h: export rb_str_length().\n\n\t* insns.def: use rb_str_length() in opt_length.\n\nSat Aug 25 17:48:51 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: rename FIBER_STACK_SIZE to FIBER_VM_STACK_SIZE.\n\nSat Aug 25 17:05:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (swallow): removed condition using an unset variable.\n\n\t* parse.y, re.c: re-applied revision 13092.\n\n\t* string.c (rb_str_splice): return from void function.\n\n\t* include/ruby/encoding.h (rb_enc_str_new): prototype added.\n\nSat Aug 25 11:45:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* encoding.c: provide basic features for M17N.\n\n\t* parse.y: encoding aware parsing.\n\n\t* parse.y (pragma_encoding): encoding specification pragma.\n\n\t* parse.y (rb_intern3): encoding specified symbols.\n\n\t* string.c (rb_str_length): length based on characters.\n\t  for older behavior, bytesize method added.\n\n\t* string.c (rb_str_index_m): index based on characters.  rindex as\n\t  well.\n\n\t* string.c (succ_char): encoding aware succeeding string.\n\n\t* string.c (rb_str_reverse): reverse based on characters.\n\n\t* string.c (rb_str_inspect): encoding aware string description.\n\n\t* string.c (rb_str_upcase_bang): encoding aware case conversion.\n\t  downcase, capitalize, swapcase as well.\n\n\t* string.c (rb_str_tr_bang): tr based on characters.  delete,\n\t  squeeze, tr_s, count as well.\n\n\t* string.c (rb_str_split_m): split based on characters.\n\n\t* string.c (rb_str_each_line): encoding aware each_line.\n\n\t* string.c (rb_str_each_char): added.  iteration based on\n\t  characters.\n\n\t* string.c (rb_str_strip_bang): encoding aware whitespace\n\t  stripping.  lstrip, rstrip as well.\n\n\t* string.c (rb_str_justify): encoding aware justifying (ljust,\n\t  rjust, center).\n\n\t* string.c (str_encoding): get encoding attribute from a string.\n\n\t* re.c (rb_reg_initialize): encoding aware regular expression\n\n\t* sprintf.c (rb_str_format): formatting (i.e. length count) based\n\t  on characters.\n\n\t* io.c (rb_io_getc): getc to return one-character string.\n\t  for older behavior, getbyte method added.\n\n\t* ext/stringio/stringio.c (strio_getc): ditto.\n\n\t* io.c (rb_io_ungetc): allow pushing arbitrary string at the\n\t  current reading point.\n\n\t* ext/stringio/stringio.c (strio_ungetc): ditto.\n\n\t* ext/strscan/strscan.c: encoding support.\n\nSat Aug 25 10:59:19 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: separate Continuation and Fiber from core.\n\n\t* ext/continuation/*, ext/fiber/*: ditto.\n\n\t* include/ruby/ruby.h: remove rb_cFiber.\n\n\t* include/ruby/intern.h: add the rb_fiber_new() declaration.\n\n\t* enumerator.c (next_init): fix to use rb_fiber_new().\n\n\t* test/ruby/test_enumerator.rb: remove next? tests.\n\n\t* test/ruby/test_continuation.rb: add a require 'continuation'.\n\n\t* test/ruby/test_fiber.rb: add a require 'fiber'.\n\nSat Aug 25 10:20:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (prelude.o): depends on vm_core.h now.\n\n\t* common.mk (prelude.c): depends on tool/compile_prelude.rb too.\n\n\t* common.mk (prereq): updates all auto-generated sources.\n\n\t* tool/compile_prelude.rb: separated dynamic and static portions.\n\nSat Aug 25 10:05:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* prelude.rb: add Thread.exclusive.  This class method\n\t  is different from 1.8's.  Thread.exclusive only does\n\t  synchronize with VM global mutex.\n\nSat Aug 25 09:39:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_s_try_convert): more document description.\n\n\t* re.c (rb_reg_s_try_convert): typo fixed.\n\nSat Aug 25 08:54:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* id.h, id.c: remove idFuncall.\n\n\t* compile.c (iseq_specialized_instruction): ditto.\n\nSat Aug 25 08:47:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/compile_prelude.rb: fix to include \"vm_core.h\".\n\nSat Aug 25 03:49:14 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/sentence.rb (Sentence): include Enumerable.\n\t  (Sentence#each): defined.\n\n\t* test/ruby/test_assignment.rb: use Sentence#expand.\n\nSat Aug 25 03:08:57 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* prelude.rb: fix Mutex#synchronize definition.\n\nSat Aug 25 02:08:45 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_s_try_convert): a new class method to convert\n\t  object or nil if it's not target-type.  this mechanism is used\n\t  to convert types in the C implemented methods.\n\n\t* hash.c (rb_hash_s_try_convert): ditto.\n\n\t* io.c (rb_io_s_try_convert): ditto.\n\n\t* re.c (rb_reg_s_try_convert): ditto.\n\n\t* string.c (rb_str_s_try_convert): ditto.\n\nSat Aug 25 00:49:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_loop_generator.rb: added.\n\nSat Aug 25 00:22:31 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* prelude.rb: added.  run this script on startup.\n\n\t* tool/compile_prelude.rb: compile prelude.rb to C string.\n\t  (prelude.rb -> prelude.c)\n\n\t* common.mk: fix to build with prelude.c.\n\n\t* inits.c (rb_call_inits): ditto.\n\n\t* thread.c (Init_Thread): move definition of Mutex#synchronize\n\t  to prelude.rb.\n\nSat Aug 25 00:08:43 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (compile_massign_opt): fix to skip massign optimization\n\t  with global variables.\n\n\t* bootstraptest/test_massign.rb: add some tests for above.\n\nFri Aug 24 18:42:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_dir.rb (TestDir::setup): ?c now makes a string.\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner::initialize):\n\t  initialize @workdir to stop warning.\n\nFri Aug 24 18:30:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/drb/drb.rb (DRb::DRbServer::InvokeMethod::perform_without_block):\n\t  replace funcall by send!.  other files in the distribution as well.\n\nFri Aug 24 17:06:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_send_bang): abandon the name funcall for private\n\t  aware method call.\n\nFri Aug 24 15:27:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_next): stop pre-fetching.\n\n\t* enumerator.c (Init_Enumerator): remove next? method.\n\nFri Aug 24 15:14:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_loop): now handles StopIteration exception.\n\nThu Aug 23 20:31:31 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: optimize simple massign.\n\nThu Aug 23 20:02:25 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (reg_get_value): use RegQueryValueEx instead\n\t  of RegQueryValueEx.\n\n\t* ext/win32ole/win32ole.c (typelib_file_from_clsid): fix the bug\n\t  that the function always returns Qnil.\n\n\t* test/win32ole/test_win32ole_type.rb (test_initialize): add some test.\n\nThu Aug 23 17:25:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (group_member): check if presents.\n\n\t* configure.in (XCFLAGS): add _GNU_SOURCE on linux.\n\n\t* file.c (group_member): use system routine if available.\n\n\t* process.c: moved _GNU_SOURCE macro to Makefile.\n\nThu Aug 23 16:59:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (compile_massign), insnhelper.ci (vm_throw): not use C99\n\t  comment.\n\n\t* cont.c (rb_cont_call, fiber_switch, rb_fiber_resume, rb_fiber_yield):\n\t  suppress warnings.\n\n\t* cont.c (rb_fiber_start): change on non-volatile variable between\n\t  setjmp and longjmp may not has an effect.\n\n\t* enumerator.c (sym_call): initialize first.\n\n\t* enumerator.c (enum_iter): typedefed.\n\n\t* enumerator.c (next_i): suppress a warning.\n\nThu Aug 23 16:04:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, insns.def, parse.y: fix massign order.  This change\n\t  causes performance problem.  Try vm1_swap benchmark.\n\t  [ruby-dev:31522]\n\n\t* insns.def, insnhelper.ci: move process body of expandarray insn to\n\t  vm_expandarray().\n\n\t* bootstraptest/test_knownbug.rb, bootstraptest/test_massign.rb:\n\t  move a solved test.\n\nThu Aug 23 15:51:19 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_norm_arg): ripper has no shadowing check.\n\n\t* parse.y (f_block_arg): dispatch blkarg_mark.\n\nThu Aug 23 15:48:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (make_masgn_lhs, iseq_compile_each): fixed indent.\n\n\t* compile.c (iseq_translate_threaded_code),\n\t  vm_evalbody.ci (get_insns_address_table),\n\t  template/vmtc.inc.tmpl (insns_address_table): constified.\n\n\t* vm_evalbody.ci (vm_eval),\n\t  template/insns_info.inc.tmpl (insn_stack_increase, insn_ret_num):\n\t  suppress warnings.\n\nThu Aug 23 13:19:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_norm_arg): check also nested arguments.  [ruby-dev:31502]\n\nThu Aug 23 00:06:48 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c: updated for ANSI C only.  applied a patch from\n\t  <snakagawa AT infoteria.co.jp>.  [ruby-dev:31591]\n\nThu Aug 23 00:04:45 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/strtod.c: removed.  [ruby-dev:31588]\n\n\t* LEGAL: updated.\n\nWed Aug 22 15:59:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb:\n\t  fix typo of filename (test_knownbug.rb).\n\nWed Aug 22 14:04:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_knownbug.rb: added.  This file will contain\n\t  test cases which point out known bug.  If bug is fixed, tests\n\t  should move to the suitable place.\n\n\t* bootstraptest/test_massign.rb: move a test which show known bug\n\t  to test_knownbug.rb.\n\nWed Aug 22 13:02:26 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (in_temporary_working_directory):\n\t  don't remove the directory specified by --dir.\n\nWed Aug 22 05:51:23 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): replaced by the implementation by David\n\t  M. Gay inspired by William D. Clinger's paper \"How to Read Floating\n\t  Point Numbers Accurately\" [Proc. ACM SIGPLAN '90, pp. 92-101].\n\t  a patch from Satoshi Nakagawa <snakagawa AT infoteria.co.jp>.\n\t  [ruby-dev:31582]\n\n\t* test/ruby/test_float.rb (TestFloat::test_float): add test for\n\t  precision.\n\nWed Aug 22 03:51:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: add Fiber#resume and Fiber.yield.\n\t  and Fiber::Core class to realize Coroutine.\n\n\t* include/ruby/intern.h: declare rb_fiber_yield(), rb_fiber_resume().\n\n\t* enumerator.c: use above api.\n\n\t* test/ruby/test_fiber.rb: fix and add tests for above changes.\n\nTue Aug 21 21:09:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/tmpdir.rb (Dir.mktmpdir): make directory suffix specifiable.\n\t  suggested by knu.  [ruby-dev:31568]\n\nTue Aug 21 15:00:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* st.c (st_clear): reset num_entries too.\n\nTue Aug 21 13:57:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (st_foreach_func, rb_foreach_func): typedefed.\n\n\t* hash.c (rb_hash_clear): use st_clear() unless iterating.\n\n\t* st.c (struct st_table_entry): add new members, fore and back, to\n\t  iterate in inserted order.\n\n\t* include/ruby/st.h (struct st_table): ditto.\n\nTue Aug 21 04:09:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_vm2_case.rb: add a new benchmark.\n\t  YARV optimize case/when syntax.  If every conditions\n\t  are literal (such as Symbol, Fixnum, String), dispatch\n\t  calc order will be O(1).\n\nTue Aug 21 04:08:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_enumerator.rb: fix last commit.\n\nTue Aug 21 03:59:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test_enumerator.rb (enum_test): fix to return sorted\n\t  array (for Hash test).\n\nTue Aug 21 03:55:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* enumerator.c (next_i): fix to return with Fiber#yield at\n\t  the end of each block.  [ruby-dev:31470]\n\n\t* enumerator.c (enumerator_next_p): call init_next if not\n\t  initialized.  [ruby-dev:31514]\n\n\t* test/ruby/test_enumerator.rb: add tests for Enumerator.\n\nMon Aug 20 23:28:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (Init_String): remove Symbol.intern and Symbol#dump.\n\t  [ruby-dev:31525]\n\n\t* dir.c (dir_foreach): return Enumerator if no block given.\n\t  [ruby-dev:31525]\n\n\t* io.c (rb_io_s_foreach): argument count check before making\n\t  Enumerator.  [ruby-dev:31525]\n\nMon Aug 20 23:17:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_core.h (struct rb_thread_struct): removed first_func_arg and\n\t  reuse first_args instead.\n\nSun Aug 19 13:31:40 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c: use VALGRIND_MAKE_MEM_UNDEFINED to detect use of collected\n\t  objects if valgrind is available.  It cannot detect first 2 words\n\t  because they are used as the free list.\n\nSun Aug 19 13:13:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each/NODE_RESBODY): fix to add\n\t  additional nop to prevent tailcall optimization.\n\n\t* vm_opts.h: clean up comments.\n\nSun Aug 19 12:58:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_call_bmethod): fix to propagate information\n\t  that this proc is \"from Method\".  [ruby-dev:31490]\n\n\t* proc.c (method_proc, rb_mod_define_method): ditto.\n\n\t* vm.c (vm_invoke_proc_core): removed.\n\n\t* vm_core.h: ditto.\n\nSun Aug 19 12:36:11 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/sentence.rb: new method Sentence().\n\nSun Aug 19 12:32:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_callee_setup_arg): fix to mark enough VM stack.\n\t  [ruby-dev:31492]\n\nSat Aug 18 19:02:34 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_yield.rb (TestYieldGen): relax array size check\n\t  in nested parameters.\n\t  [ruby-dev:31485]\n\nSat Aug 18 17:44:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/tcltklib.c (Init_tcltklib): use rb_set_end_proc().\n\nSat Aug 18 17:40:11 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (is_ruby_native_thread): check properly.  [ruby-dev:31166]\n\nSat Aug 18 16:44:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_call_bmethod),\n\t  vm.c (vm_invoke_proc_core): fix to do not restore\n\t  $SAFE when proc invoked by bmethod.\n\n\t* vm_core.h: ditto.\n\nSat Aug 18 16:44:49 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_error.ci (ruby_error_print): call error_print.\n\n\t* eval_jump.ci, process.c (rb_exit, rb_f_exit, rb_f_abort): moved.\n\nSat Aug 18 15:59:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (detach_process_watcher): should not pass the pointer\n\t  to an auto variable to the thread to be created.  pointed and\n\t  fix by KUBO Takehiro <kubo at jiubao.org>  [ruby-dev:30618]\n\nSat Aug 18 15:52:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insnhelper.ci (vm_send_optimize): use MEMMOVE to shift values inside\n\t  an array.\n\nSat Aug 18 15:45:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insnhelper.ci (vm_yield_setup_args): rsize and psize should not be\n\t  negative.\n\nSat Aug 18 14:35:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insnhelper.ci (vm_callee_setup_arg, vm_send_optimize,\n\t  vm_yield_setup_args): bulk copy for arguments.\n\nSat Aug 18 13:55:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix to allow self.x=\n\t  if x= is private.\n\n\t* bootstraptest/test_method.rb: add a test for above.\n\nSat Aug 18 14:05:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reg_compile_gen): obtain error info from errinfo.\n\n\t* re.c (rb_reg_error_desc): make RegexpError for initialization error.\n\n\t* re.c (rb_reg_compile): return nil and set errinfo if error.\n\nSat Aug 18 13:23:01 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c: $! should not be writable.\n\n\t* eval.c (rb_rubylevel_errinfo): added.  rb_errinfo() returns\n\t  rb_thread_t#errinfo.  rb_rubylevel_errinfo() returns $! value.\n\nSat Aug 18 13:14:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_callee_setup_arg): fix to check arguments\n\t  correctly. [ruby-dev:31472]\n\nSat Aug 18 13:13:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/test_exception.rb: add escape character (\"\\\") for\n\t  editors.\n\nSat Aug 18 12:42:50 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_yield.rb (TestYieldGen): add test for yielding to\n\t  lambda using lambda parameter passing emulator.\n\nSat Aug 18 12:24:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sample/test.rb, test/ruby/test_system.rb(valid_syntax?): keep\n\t  comment lines first.\n\nSat Aug 18 11:44:59 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_set_arguments), insnhelper.ci\n\t  (vm_callee_setup_arg, vm_yield_setup_args):\n\t  fix to cause raise on \"lambda{|a|}.call(1, 2)\".\n\t  [ruby-dev:31464]\n\n\t* bootstraptest/test_block.rb: add tests for above.\n\nSat Aug 18 01:12:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (frame_func_id): return proper method ID.\n\nFri Aug 17 22:43:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): massign should return rvalue(s).\n\nFri Aug 17 22:10:19 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_basicinstructions.rb: fix old tests.\n\t  class variables should be inherited.\n\nFri Aug 17 21:20:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_call), eval_method.ci (rb_add_method, rb_alias),\n\t  insnhelper.ci (vm_call_method): fix to save safelevel for\n\t  method node.\n\n\t* include/ruby/node.h: ditto.\n\n\t* bootstraptest/test_method.rb: add a test for above.\n\nFri Aug 17 16:02:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_terminate_all): fix to ignore\n\t  exceptions.\n\n\t* thread.c (thread_start_func_2): fix\n\t  abort_on_exception process.  [ruby-dev:31394]\n\nFri Aug 17 14:38:36 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (in_temporary_working_directory): use\n\t  Dir.mktmpdir to create and remove temporary directory.\n\t  (Dir.mktmpdir): define if not available.\n\t  [ruby-dev:31431]\n\nFri Aug 17 03:07:37 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix throw insn option of next.\n\nFri Aug 17 01:25:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_set_arguments), insnhelper.ci\n\t  (vm_callee_setup_arg, vm_yield_setup_args): fix\n\t  block parameter problems. [ruby-dev:31437], [ruby-dev:31440]\n\n\t* bootstraptest/test_block.rb: add a test of [ruby-dev:31440].\n\nFri Aug 17 01:24:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (ruby_iseq_disasm): fix to show arg_simple value.\n\nFri Aug 17 01:21:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (throw): insert a RUBY_VM_CHECK_INTS(). [ruby-dev:31361]\n\nThu Aug 16 20:40:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bigtrunc): RBIGNUM(x)->len may be zero.  out of bound\n\t  access.  [ruby-dev:31404]\n\n\t* sprintf.c (rb_str_format): small float should not call\n\t  rb_dbl2big().\n\nThu Aug 16 22:10:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix next/redo stack consistency.\n\t  [ruby-dev:31373]\n\n\t* bootstraptest/test_syntax.rb: add tests for above.\n\n\t* sample/test.rb: fix to use __FILE__ instead of $0 to know basedir.\n\nThu Aug 16 21:14:06 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (BASERUBY): need AC_SUBST.  [ruby-dev:31438]\n\nThu Aug 16 19:18:26 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/sentence.rb: Sentence class implemented\n\t  based on sentgen.rb\n\n\t* test/ruby/sentgen.rb: removed.\n\n\t* test/ruby/test_assignment.rb: use sentence.rb.\n\n\t* test/ruby/test_yield.rb: block parameter passing emulator\n\t  implemented.\n\nThu Aug 16 16:48:47 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (BASERUBY): check if base ruby is runnable first.\n\t  [ruby-core:11900]\n\nThu Aug 16 16:46:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (aix): enable shared by default.\n\n\t* configure.in (aix): for 64bit-mode AIX.  [ruby-dev:31401]\n\t  + use CC for LDSHARED if non-gcc,\n\t  + moved -G option from *LDFLAGS to LDSHARED,\n\t  + set -brtl only in XLDFLAGS.\n\nThu Aug 16 13:06:08 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c (big_lshift): make shift offset long type.\n\t  (big_rshift): ditto.\n\t  (rb_big_lshift): ditto.\n\t  (big_rshift): ditto.\n\t  [ruby-dev:31434]\n\nThu Aug 16 06:29:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_readpartial): argf_forward needs argc and argv.\n\nThu Aug 16 02:47:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_fiber_m_yield): added.  use this function\n\t  for Fiber#yield instead of rb_fiber_yield.\n\nThu Aug 16 00:36:52 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/tmpdir.rb (Dir.mktmpdir): new method.  [ruby-dev:31416]\n\nWed Aug 15 18:57:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c (os_live_obj): fix to skip T_VALUES.\n\n\t* sample/test.rb: add an ObjectSpace test.\n\nWed Aug 15 16:49:04 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* inits.c (rb_call_inits): change initializing order.\n\t  [ruby-dev:31420]\n\nWed Aug 15 16:44:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (ARGF_FORWARD): wrongly compares with current_file with\n\t  rb_stdout.  should be rb_stdin.  [ruby-cvs:20177]\n\nWed Aug 15 14:59:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_initialize, argf_each_line, argf_each_byte): suppress\n\t  warnings.\n\nWed Aug 15 14:22:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: remove \"//\" type comment.\n\nWed Aug 15 13:42:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: fix rules around f_margs.  \"make test\" passes all tests.\n\n\t* bootstraptest/test_block.rb: add some tests for above.\n\nWed Aug 15 13:50:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (rb_hash_delete_key): delete the entry without calling block.\n\n\t* hash.c (rb_hash_shift): should consider iter_lev too.\n\n\t* hash.c (delete_if_i): use rb_hash_delete_key() so that the block\n\t  isn't called twice.  [ruby-core:11556]\n\nWed Aug 15 13:39:25 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* process.c (proc_geteuid): fix strange conversion.  [ruby-dev:31417]\n\nWed Aug 15 01:05:55 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_check): don't call newtest.\n\t  (assert_equal): call newtest.\n\t  (assert_match): ditto.\n\nTue Aug 14 21:43:39 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bootstraptest/runner.rb (assert_check): new method.\n\t  (assert_match): new method.\n\t  (assert_equal): use assert_check.\n\t  (pretty): give failure description as an argument.\n\n\t* bootstraptest/test_exception.rb: use assert_match to describe the\n\t  test for [ruby-dev:31407].  [ruby-dev:31412]\n\nTue Aug 14 19:53:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (Init_Proc), eval.c (Init_eval), eval_intern.h: move\n\t  init place of exception_error.\n\n\t* inits.c: ditto.\n\n\t* eval.c (Init_eval): set exception_error#throwed_state as TAG_FATAL.\n\t  [ruby-dev:31407]\n\n\t* bootstraptest/test_exception.rb: add a test for above.\n\nTue Aug 14 19:51:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: change test order (test -> btest).\n\nTue Aug 14 00:04:27 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: 0.1.8 -> 0.1.9.\n\n\t* test/rss/test_version.rb: followed the above change.\n\n\t* lib/rss/parser.rb: fixed a bug that handles unintended elements.\n\t  Thanks to Takuo Yonezawa. [ruby-list:43841]\n\nMon Aug 13 17:23:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_clear_trace_func, rb_thread_stop_timer_thread):\n\t  declarations for forward references.\n\n\t* eval.c (rb_longjmp, eval): use local variable.\n\n\t* eval.c (rb_longjmp): string object not to be optimized.\n\nMon Aug 13 13:21:58 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb: make ftp passive mode to avoid NAT problem.\n\t  [ruby-dev:31377]\n\nMon Aug 13 09:18:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_getc): should returns\n\t  one-character string.\n\n\t* ext/stringio/stringio.c: remove unnecessary prototypes.\n\n\t* ext/stringio/stringio.c (strio_getbyte): new method.\n\n\t* ext/stringio/stringio.c (strio_readbyte): new method.\n\n\t* ext/stringio/stringio.c (strio_ungetc): should take a string as\n\t  an input.\n\nMon Aug 13 08:19:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_close): always close via method.\n\n\t* io.c (Init_IO): remove obsolete Kernel#getc.\n\nMon Aug 13 05:03:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_raise): check if target thread is\n\t  thrown by another thread or not.  [ruby-dev:31371]\n\n\t* bootstraptest/test_thread.rb: add a test for above.\n\nMon Aug 13 04:35:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_peephole_optimize): fix peephole optimization\n\t  bug. [ruby-dev:31360]\n\n\t* bootstraptest/test_syntax.rb: add a test for above.\n\nMon Aug 13 04:02:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_dump.c (debug_print_pre): fix to show control frame count.\n\n\t* insns.def (opt_call_c_function): fix operand type.\n\n\t* lib/vm/instruction.rb: ditto.\n\n\t* insnhelper.ci (vm_push_frame, vm_pop_frame): fix to show\n\t  control stack status on if VMDEBUG == 2.\n\n\t* vm.h: add a comment about VMDEBUG.\n\n\t* iseq.c (find_prev_line_no): fix to skip bug report if\n\t  line is not found.\n\n\t* lib/vm/instruction.rb: fix to use build_string() on\n\t  source code generators.\n\nMon Aug 13 03:57:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* template/yasmdata.rb.tmpl: fix type and name.\n\nSat Aug 11 23:27:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_each_line): should use #each_line, not #each.\n\n\t* io.c (argf_each_line): simplified.\n\n\t* io.c (argf_getline): should handle non T_FILE object in ARGV.\n\n\t* io.c (argf_each_byte): each_byte should yield bytes not\n\t  one-character strings.  [ruby-dev:31374]\n\nSat Aug 11 07:24:55 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: reverted some wrongly erased \"o\" options\n\t  (pointed out by nobu).\n\nSat Aug 11 00:01:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): not re-raise to main thread if it is\n\t  joining the current thread.\n\nFri Aug 10 23:54:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_create_core): inherit the priority of creating\n\t  thread.  submitted at [ruby-core:11873] by David Flanagan <david AT\n\t  davidflanagan.com>.  [ruby-core:11876]\n\nFri Aug 10 05:12:19 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): let abort_on_exception work.\n\t  [ruby-core:11873]\n\nFri Aug 10 04:47:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (internal_id_gen): internal ID must be bigger than\n\t  tLAST_TOKEN.\n\nThu Aug  9 16:04:55 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): check if rhs has value before assignment instead\n\t  inside node_assign_gen().  [ruby-dev:31293]\n\n\t* parse.y (call_bin_op_gen, call_uni_op_gen): split call_op_gen.\n\nThu Aug  9 14:01:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_marg_list): renamed from f_marg_head.\n\n\t* parse.y (f_margs): allow multiple mandatory arguments after a splat.\n\t  [ruby-dev:31153]\n\nThu Aug  9 02:02:02 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_cycle): typo fixed.  a patch from Kazuhiro\n\t  NISHIYAMA <zn AT mbf.nifty.com>.  [ruby-dev:31362]\n\nWed Aug  8 19:17:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dl/cptr.c (rb_dlptr_s_to_ptr): no longer check\n\t  HAVE_RB_IO_STDIO_FILE.\n\nWed Aug  8 15:52:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_next_p): should check correctly even when\n\t  e.next has not been called before.\n\n\t* enumerator.c (enumerator_next): raise StopIteration (name taken\n\t  from Python) instead of IndexError.\n\n\t* enum.c (enum_zip): catch StopIteration exception.\n\n\t* enumerator.c (enumerator_with_index): return Enumerator if no\n\t  block is given.\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_enumerator): add\n\t  test for enumerators.\n\nWed Aug  8 11:48:37 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): should not use RTEST for non-VALUE.\n\nWed Aug  8 11:25:25 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): should preserve sign mark.\n\nWed Aug  8 11:02:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (btest-miniruby, test-sample): split the test target\n\t  so that -k option works.\n\nTue Aug  7 14:58:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/pty/pty.c (establishShell): handshaking before close slave\n\t  device.  [ruby-talk:263410]\n\n\t* ext/pty/pty.c (MasterDevice, SlaveDevice, deviceNo): constified.\n\n\t* ext/pty/pty.c (SlaveName): removed static buffer.\n\n\t* ext/pty/expect_sample.rb: support for autologin.\n\nTue Aug  7 13:58:03 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/ruby.h (ruby_special_consts): added RUBY_SPECIAL_SHIFT.\n\n\t* .gdbinit: some improvements.\n\nTue Aug  7 13:28:32 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (node_name.inc): use $? instead of $< for nmake.\n\t  [ruby-dev:31356]\n\nTue Aug  7 12:45:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_isinf): set yes also on OpenSolaris.\n\t  [ruby-Bugs-12859]\n\nTue Aug  7 12:31:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open): fix for win32 platforms.\n\nTue Aug  7 02:58:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): make Bignum#to_s even faster.  a patch\n\t  from Kenta Murata <muraken AT gmail.com>.  [ruby-dev:31354]\n\nTue Aug  7 01:42:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_zip): zip no longer converts arguments into\n\t  arrays, uses enumerators.\n\nTue Aug  7 01:27:47 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* cont.c (rb_fiber_yield): change argument ordering.  export.\n\n\t* cont.c (rb_fiber_current): export\n\n\t* include/ruby/intern.h: export several functions from cont.c.\n\n\t* enumerator.c (enumerator_next): new method to implement external\n\t  iterator (generator) using fiber.\n\n\t* enumerator.c (enumerator_next_p): new method to check whether\n\t  any element is left in the generator sequence.\n\n\t* enumerator.c (enumerator_rewind): a new method to rewind the\n\t  generator sequence.\n\nTue Aug  7 01:15:24 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_cycle): new method to cycle enumerable forever.\n\nTue Aug  7 00:05:38 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* irb/ruby-lex.rb: support for '\\c'. [ruby-talk:263508]\n\nMon Aug  6 20:29:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci, insns.def: move some statements to functions.\n\n\t* vm.c, vm.h, vm_evalbody.ci: fix include/typedef places.\n\nMon Aug  6 18:41:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/vm/instruction.rb (make_header_analysys): fix last commit.\n\nMon Aug  6 18:33:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/vm/instruction.rb (make_header_analysys): add to separate\n\t  header addition process.\n\nMon Aug  6 17:36:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rexml/encodings/{ISO-8859-15,CP-1252}.rb: fixed invalid syntax.\n\nMon Aug  6 16:57:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* sample/test.rb: fix to output file name if it contains\n\t  invalid syntax.\n\nMon Aug  6 16:41:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y (value_expr_gen): fix to cause \"void value expression\"\n\t  when jump expression such as \"next\" are shown on value_expr().\n\t  [ruby-dev:31119]\n\n\t* bootstraptest/test_syntax.rb: fix to above change.\n\nMon Aug  6 14:36:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: fix a f_marg rule. [ruby-dev:31160]\n\nMon Aug  6 14:29:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb (assert_equal): add additional\n\t  message parameter.\n\nMon Aug  6 13:34:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (INSNS): not chdir to srcdir.\n\n\t* common.mk (node_name.inc): auto-generate node name list.\n\n\t* iseq.c (ruby_node_name): ditto.\n\n\t* iseq.c (iseq_s_compile_option_get, Init_ISeq): added a new\n\t  method VM::InstructionSequence::compile_option.\n\n\t* lib/vm/instruction.rb (RubyVM::SourceCodeGenerator): --destdir\n\t  option.\n\n\t* tool/node_name.rb: to auto-generate node name list.\n\nSun Aug  5 11:51:39 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss, sample/rss, test/rss:\n\t- 0.1.7 -> 0.1.8.\n\t- supported <itunes:XXX>.\n\t- reverted backward incompatibility API changes introduced 0.1.7.\n\nSun Aug  5 04:56:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open_v, pipe_open_s): separate array and string\n\t  cases.  [ruby-dev:31344]\n\nFri Aug  3 11:05:54 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): save all CONFIG values.\n\n\t* ext/extmk.rb (extmake): remove mkmf.log at clean, and extconf.h at\n\t  distclean, respectively.\n\n\t* ext/extmk.rb: remove rdoc at clean, and installed list file at\n\t  distclean, respectively.\n\nFri Aug  3 07:09:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: more verbose message.  [ruby-Bugs-12766]\n\n\t* lib/mkmf.rb (have_type): suppress a warning with -Wall.\n\n\t* lib/mkmf.rb (find_type): new method.\n\nFri Aug  3 00:00:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (big2str_table): base cannot be 0 or 1.\n\nThu Aug  2 23:42:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reg_compile_gen): set error if failed to compile regexp\n\t  literal.  [ruby-dev:31336]\n\n\t* re.c (option_to_str, arg_kcode, opt_kcode): options conversion\n\t  between int and string.\n\n\t* re.c (rb_reg_compile): should not use regexp which could not get\n\t  initialized.  [ruby-dev:31333]\n\t  return error message to let the parser know it.\n\n\t* re.c (rb_reg_compile): append regexp options to error message.\n\t  [ruby-dev:31334]\n\nThu Aug  2 22:05:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): faster Bignum#to_s using Karatsuba\n\t  algorithm.  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>\n\t  in [ruby-dev:31312], slightly modified by Kenta Murata\n\t  <muraken AT gmail.com> in [ruby-dev:31339].\n\nThu Aug  2 13:46:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): should not check positional number as\n\t  width.  [ruby-core:11838]\n\nWed Aug  1 12:40:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* generic.rb (URI::Generic::merge_path): behave as RFC 3986.\n\t  [ruby-talk:252052]\n\nTue Jul 31 23:38:09 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (_parse): now interprets slashed numerical\n\t  dates as a big endian (except dd/mm/yyyy). [experimental]\n\nMon Jul 30 11:16:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_aref): check for Bignum index range.\n\t  [ruby-dev:31271]\n\nSat Jul 28 09:35:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/digest/lib/digest.rb (Digest::self.const_missing): avoid\n\t  infinite recursive const_missing call.  [ruby-talk:262193]\n\nThu Jul 26 20:40:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_eqq): call_super() in === does not work well\n\t  since Enumerable#=== has different behavior.  [ruby-dev:31296]\n\nThu Jul 26 13:57:45 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dln.c (load_1, dln_find_1): constified.\n\n\t* dln.c (conv_to_posix_path): removed.\n\n\t* ruby.c (usage): constified.\n\n\t* ruby.c (rubylib_mangled_path, rubylib_mangled_path2): return\n\t  VALUE instead of a pointer to static buffer.\n\n\t* ruby.c (push_include_cygwin): fixed buffer overflow.\n\t  [ruby-dev:31297]\n\n\t* ruby.c (ruby_init_loadpath): not convert built-in paths.\n\nTue Jul 24 10:37:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_f_p): return nil if no argument.  [ruby-dev:31285]\n\nTue Jul 24 01:05:07 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regint.h (USE_MATCH_RANGE_IS_COMPLETE_RANGE): undef to achieve old\n\t  rindex behavior.  [ruby-dev:31265]\n\nMon Jul 23 18:37:14 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* include/ruby/oniguruma.h: upgrade to Oniguruma 5.9.0.  fixes\n\t  some memory violation.  [ruby-dev:31070]\n\nSun Jul 22 20:09:49 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (Date._parse): now accepts some new\n\t  hints. [experimental]\n\n\t* lib/parsedate.rb: followed the changes on\n\t  lib/date/format.rb. [experimental]\n\nSun Jul 22 16:06:56 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (is_ruby_native_thread): made an int function as\n\t  well as version 1.8.\n\n\t* include/ruby/ruby.h (is_ruby_native_thread): moved prototype\n\t  from intern.h as well as version 1.8.\n\nSun Jul 22 14:33:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_rename): deleted code to get rid of a bug of\n\t  old Cygwin.\n\n\t* file.c (rb_file_truncate): added prototype of GetLastError()\n\t  on cygwin.  [ruby-dev:31239]\n\n\t* include/ruby/intern.h (is_ruby_native_thread): prototype.\n\n\t* missing/strftime.c (strftime): fix printf format and actual\n\t  arguments.\n\n\t* ext/Win32API/Win32API.c (Win32API_initialize): ditto.\n\n\t* ext/tk/tcltklib.c (ip_finalize): ditto.\n\n\t* ext/win32ole/win32ole.c (lcid_installed): ditto.\n\n\t* ext/socket/getnameinfo.c: include stdio.h always.\n\nSat Jul 21 21:39:12 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb (Date._parse): now can take some\n\t  hints (its aim must be mainly determination of endianness of\n\t  date). [experimental]\n\n\t* lib/date.rb, lib/date/format.rb (Date._parse): now completes\n\t  truncated year as default action. [experimental]\n\n\t* lib/date.rb, lib/date/format.rb: added ::iso8601, ::rfc3339,\n\t  ::xmlschema, ::rfc2822, ::httpdate, ::jisx0301, #xmlschema,\n\t  #httpdate. [experimental]\n\nSat Jul 21 17:48:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: inverted rules order.\n\n\t* thread_win32.ci (w32_create_thread): bcc does not have\n\t  _beginthreadex().\n\n\t* lib/mkmf.rb (create_makefile): make OBJS depend on RUBY_EXTCONF_H\n\t  only if extconf.h is created.\n\n\t* bcc32/Makefile.sub: headers have moved.\n\n\t* bcc32/{Makefile.sub,configure.bat,setup.mak: configure_args\n\t  support.\n\n\t* bcc32/setup.mak: check runtime version.\n\n\t* win32/win32.c (rb_w32_open_osfhandle): prototype has changed\n\t  in bcc 5.82.\n\n\t* {win32,wince,bcc32}/setup.mak (-version-): no RUBY_EXTERN magic.\n\n\t* win32/resource.rb: include patchlevel number.\n\nSat Jul 21 12:06:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (init_mkmf): should remove mkmf.log too.\n\nSat Jul 21 01:45:03 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (Date._parse): completes calendar week based year.\n\n\t* lib/date/format.rb (Date._parse): detects year of ordinal date in\n\t  extended format.\n\nFri Jul 20 16:30:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (iseq_set_sequence): raise SyntaxError instead of rb_bug\n\t  since this function can be called from VM::InstructionSequence.load.\n\n\t* compile.c (insn_set_sc_state, iseq_set_sequence_stackcaching): ditto.\n\nFri Jul 20 16:11:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c, compile.h (DECL_ANCHOR, INIT_ANCHOR): split not to\n\t  initialize aggregations with dynamic values.  [ruby-talk:259306]\n\n\t* eval.c (rb_protect): not to initialize aggregations with dynamic\n\t  values.  [ruby-talk:259306]\n\n\t* gc.c (mark_current_machine_context): ditto.\n\n\t* thread.c (thgroup_list, call_trace_func): ditto.\n\n\t* vm.c (vm_init_redefined_flag): ditto.\n\nFri Jul 20 15:22:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/ossl_config.c (ossl_config_set_section): do not\n\t  initialize aggregations with dynamic values.  [ruby-talk:259306]\n\nFri Jul 20 10:39:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt, mlhs_node, lhs, arg, var_ref): return dummy\n\t  NODE_BEGIN after errors.  [ruby-dev:31100], [ruby-dev:31118]\n\n\t* parse.y (remove_begin): keep empty NODE_BEGIN, instead of null.\n\t  [ruby-dev:31252], [ruby-dev:31263]\n\nFri Jul 20 09:50:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/runner.rb (get_result_string): check $?.coredump?\n\t  first.\n\n\t* bootstraptest/runner.rb (cleanup_coredump, check_coredump): see\n\t  stackdump file too.\n\nThu Jul 19 20:39:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (value_expr_gen): warn for empty expression ().\n\t  [ruby-dev:31252]\n\nThu Jul 19 19:24:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_error.ci (get_backtrace): check the result more.\n\t  [ruby-dev:31261] [ruby-bugs-12398]\n\nThu Jul 19 14:38:45 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_lshift, rb_big_rshift): separated functions\n\t  to get rid of infinite recursion.  fixed calculation in edge\n\t  cases.  [ruby-dev:31244]\n\n\t* numeric.c (rb_fix_lshift, rb_fix_rshift): ditto.\n\nWed Jul 18 16:57:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): refine overflow check.  [ruby-dev:31242]\n\nWed Jul 18 09:19:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_parser_append_print, rb_parser_while_loop): moved check\n\t  for node to the head.\n\n\t* ruby.c (proc_options): do nothing for -p/-n options if tree is null.\n\t  submitted by Yusuke ENDOH <mame AT tsg.ne.jp> at [ruby-dev:31243].\n\nWed Jul 18 08:47:09 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_succ): Time#succ should return a time object in the\n\t  same timezone mode to the original.  [ruby-talk:260256]\n\nMon Jul 16 23:07:51 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/base64.rb (Base64::b64encode): should not specify /o option\n\t  for regular expression.  [ruby-dev:31221]\n\nMon Jul 16 22:57:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): make %u behave like %d for negative\n\t  values, since decimal format does not work with preceding dots.\n\t  [ruby-core:11575]\n\nMon Jul 16 18:29:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_rindex_m): accept string-like object convertible\n\t  with #to_str method, as well as rb_str_index_m.  [ruby-core:11692]\n\nMon Jul 16 07:17:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (getspecial): lfp_svar_get() requires int for special\n\t  global variables.\n\nMon Jul 16 05:45:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): more checks for format argument.\n\t  [ruby-core:11569], [ruby-core:11570], [ruby-core:11571],\n\t  [ruby-core:11573]\n\nMon Jul 16 00:26:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): removed invariant variable.  [ruby-dev:31236]\n\nSun Jul 15 22:24:37 2007  pegacorn  <subscriber.jp AT gmail.com>\n\n\t* ext/dl/cfunc.c (rb_dlcfunc_call): adjust format.  [ruby-dev:31222]\n\n\t* ext/digest/digest.c (rb_digest_instance_update,\n\t  rb_digest_instance_finish, rb_digest_instance_reset,\n\t  rb_digest_instance_block_length): %s in rb_raise() expects char*.\n\t  [ruby-dev:31222]\n\n\t* ext/openssl/ossl.h: include ossl_pkcs5.h.  [ruby-dev:31231]\n\n\t* ext/openssl/ossl_pkcs5.h: new file for PKCS5.  [ruby-dev:31231]\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_to_s): use ossl_raise()\n\t  instead of rb_raise().  [ruby-dev:31222]\n\n\t* ext/sdbm/_sdbm.c: DOSISH platforms need io.h.  [ruby-dev:31232]\n\n\t* ext/syck/syck.h: include stdlib.h for malloc() and free().\n\t  [ruby-dev:31232]\n\n\t* ext/syck/syck.h (syck_parser_set_input_type): prototype added.\n\t  [ruby-dev:31231]\n\n\t* win32/win32.c: include mbstring.h for _mbspbrk().  [ruby-dev:31232]\n\n\t* include/ruby/win32.h (rb_w32_getcwd): prototype added.\n\t  [ruby-dev:31232]\n\nSun Jul 15 21:07:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (bigtrunc): do not empty Bignum.  [ruby-dev:31229]\n\nSun Jul 15 19:05:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_cstr_to_inum): check leading non-digits.\n\t  [ruby-core:11691]\n\nSun Jul 15 04:42:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (get2comp): do nothing for empty Bignum.  [ruby-dev:31225]\n\nSat Jul 14 22:49:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_pow): integer power calculation: 0**n => 0,\n\t  1**n => 1, -1**n => 1 (n: even) / -1 (n: odd).\n\n\t* test/ruby/test_fixnum.rb (TestFixnum::test_pow): update test\n\t  suite.  pow(-3, 2^64) gives NaN when pow(3, 2^64) gives Inf.\n\nSat Jul 14 18:46:35 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* configure.in: add --with-valgrind.\n\n\t* gc.h (SET_MACHINE_STACK_END): new macro to replace\n\t  rb_gc_set_stack_end.  it find out accurate stack boundary by\n\t  asm using gcc on x86.\n\n\t* thread.c (rb_gc_set_stack_end): don't define if asm-version\n\t  SET_MACHINE_STACK_END is available.\n\n\t* gc.c (mark_current_machine_context): extracted from garbage_collect.\n\t  it use SET_MACHINE_STACK_END to not scan out of stack area.\n\t  it notify conservative GC information to valgrind if\n\t  --with-valgrind.\n\nSat Jul 14 14:04:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (sort_by_cmp): check if reentered.  [ruby-dev:24291]\n\nSat Jul 14 11:08:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/json/ext/generator/generator.c (check_max_nesting): wrong\n\t  format specifier.  a patch from pegacorn <subscriber.jp AT gmail.com>.\n\t  [ruby-dev:31217]\n\nSat Jul 14 02:27:43 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_pow): overflow detection using FIT_SQRT_LONG().\n\t  [ruby-dev:31215]\n\nSat Jul 14 02:05:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insns.def (opt_div): LONG2FIX() may not work for corner cases,\n\t  use LONG2NUM() instead.  [ruby-dev:31210]\n\nSat Jul 14 00:34:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_round): should not return false, but self.\n\t  [ruby-dev:31212]\n\nFri Jul 13 18:31:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/intern.h: remove unused function declarations.\n\n\t* include/ruby/ruby.h: ditto.\n\nFri Jul 13 17:32:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm.c (vm_free): clear free'ed living_threads field.\n\t  [ruby-dev:31163]\n\n\t* insns.def (opt_succ): use cast to shut a warning up.\n\nFri Jul 13 16:10:00 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): use ENV.to_hash to access\n\t  http_proxy environment variable to avoid case insensitive\n\t  environment search.\n\nFri Jul 13 15:02:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild): enclose command line except for\n\t  command.com which can not handle quotes.  [ruby-talk:258939]\n\nFri Jul 13 11:33:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_max, range_min): return nil for empty set as well as\n\t  1.8 and Enumerable.  [ruby-dev:31198]\n\nFri Jul 13 11:28:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (bvar): semicolon was lost for ripper description.\n\t  [ruby-dev:31140]\n\nFri Jul 13 11:25:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (program, stmt, primary): reduced duplicated code.\n\n\t* parse.y (dsym): convert also literals containing NUL to\n\t  symbol.\n\n\t* parse.y (debug_lines): use rb_hash_lookup() to get rid of\n\t  call of Hash#default.\n\n\t* parse.y (ripper_warningS): unused in ripper right now.\n\nFri Jul 13 10:33:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_flatten_bang): check argument if valid\n\t  integer.  [ruby-dev:31197]\n\nFri Jul 13 10:10:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (link_command, cc_command, cpp_command): do not expand\n\t  ::CONFIG which is an alias of MAKEFILE_CONFIG.\n\nThu Jul 12 21:38:02 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insns.def (opt_succ): use LONG_MAX as maximum Fixnum VALUE.\n\t  [ruby-dev:31199]\n\nThu Jul 12 18:42:18 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* range.c (range_max): use FIX2LONG instead of FIX2INT to avoid\n\t  RangeError by ((-0x80000001)...(-0x80000001)).max on LP64.\n\n\t* insns.def (opt_plus): use FIX2LONG instead of FIX2INT to avoid\n\t  RangeError by 0x3fffffffffffffff+1 on LP64.\n\n\t* insns.def (opt_succ): don't use 0x80000000 which assumes 32bit VALUE.\n\t  use FIX2LONG instead of FIX2INT.\n\t  [ruby-dev:31190]\n\nThu Jul 12 17:03:15 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* struct.c (rb_struct_init_copy): disallow changing the size.\n\t  [ruby-dev:31168]\n\nThu Jul 12 12:58:21 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* blockinlining.c: remove \"yarv\" prefix.\n\n\t* array.c, numeric.c: ditto.\n\n\t* insnhelper.ci, insns.def, vm_evalbody.ci: ditto.\n\n\t* yarvcore.c: removed.\n\n\t* yarvcore.h: renamed to core.h.\n\n\t* cont.c, debug.c, error.c, process.c, signal.c : ditto.\n\n\t* ext/probeprofiler/probeprofiler.c: ditto.\n\n\t* id.c, id.h: added.\n\n\t* inits.c: ditto.\n\n\t* compile.c: rename internal functions.\n\n\t* compile.h: fix debug flag.\n\n\t* eval.c, object.c, vm.c: remove ruby_top_self.\n\t  use rb_vm_top_self() instead.\n\n\t* eval_intern.h, eval_load: ditto.\n\n\t* gc.c: rename yarv_machine_stack_mark() to\n\t  rb_gc_mark_machine_stack().\n\n\t* insnhelper.h: remove unused macros.\n\n\t* iseq.c: add iseq_compile() to create iseq object\n\t  from source string.\n\n\t* proc.c: rename a internal function.\n\n\t* template/insns.inc.tmpl: remove YARV prefix.\n\n\t* thread.c: use rb_iseq_eval() and rb_str_new2().\n\n\t* vm.c (rb_iseq_eval): added.\n\n\t* vm.c: move some functions from yarvcore.c.\n\n\t* vm_dump.c: fix to remove compiler warning.\n\nThu Jul 12 12:24:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (opt_succ): fixed typo.  [ruby-dev:31189]\n\nThu Jul 12 10:30:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): moved prototye from thread_*.ci.\n\n\t* thread_pthread.ci (thread_start_func_2): not use a directive\n\t  inside a macro argument.  [ruby-talk:258763]\n\n\t* thread.c (thread_join): pthread_t may not be pointer.\n\n\t* thread_pthread.ci (ubf_select_each): ditto.\n\nThu Jul 12 05:32:28 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/ruby.h (FIX2ULONG): drop sign bit for LLP64 platform.\n\nTue Jul 10 19:34:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* hash.c (rb_hash_lookup): added.  this function is similar to\n\t  rb_hash_aref(), but doesn't call Hash#default when no entry\n\t  exists.\n\n\t* include/ruby/intern.h: ditto.\n\n\t* insnhelper.ci (lfp_svar_get): use rb_hash_lookup().\n\nTue Jul 10 19:16:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, insnhelper.ci, vm.c: change cref index (-1 -> 2).\n\nTue Jul 10 18:49:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (exec_under): add proper casts.\n\nTue Jul 10 16:58:16 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, insnhelper.ci: fix svar interface.\n\n\t* compile.c (iseq_compile_each), yarvcore.h: fix to use new\n\t  svar interface for flip flop.\n\n\t* eval.c: ditto.\n\n\t* insns.def: ditto.\n\n\t* include/ruby/intern.h: remove \"rb_svar()\" declaration.\n\nTue Jul 10 16:52:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (rb_iseq_compile): formatted if/else to switch statement.\n\nTue Jul 10 15:57:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/test_flip.rb: new test for flip-flop operator.\n\nTue Jul 10 14:50:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/{Makefile.sub,setup.mak}: remove surplus slash from srcdir.\n\nMon Jul  9 02:17:36 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* cont.c (cont_restore_1): workaround for x64-mswin64's SEH.\n\nSun Jul  8 02:08:53 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/json.rb, lib/json/, ext/json/: import JSON 1.1.1\n\nSat Jul  7 21:59:29 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pp.rb (PP::PPMethods#pp_hash): sort condition changed:\n\t  all keys have a same class which is kind of Comparable.\n\nSat Jul  7 17:12:37 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: use rb_bug() instead of rb_compile_error().\n\nSat Jul  7 16:12:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: fix node construction (around f_margs).\n\t  [ruby-dev:31143]\n\n\t* bootstraptest/test_block.rb: add a test for above.\n\n\t* insnhelper.ci: fix indent.\n\nSat Jul  7 15:36:50 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pp.rb (PP::PPMethods#pp_hash): sort if\n\t  all keys are strings, symbols or integers.\n\nSat Jul  7 15:30:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_yield_setup_args), vm.c, insns.def:\n\t  fix to pass nil as block parameter to yielded block.\n\t  [ruby-dev:31147]\n\n\t* bootstraptest/test_block.rb: add a test for above.\n\nFri Jul  6 19:55:10 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb.rb: typo. Thanks, Giles Bowkett.\n\n\t* lib/irb/completion.rb: support Ruby1.9 changing return value\n\t  String to Symbol for Object#methods, etc. [ruby-dev:31148].\n\nFri Jul  6 18:20:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: fix load path.\n\n\t* common.mk: fix \"test\" rule to run with \"btest\".\n\n\t* rubytest.rb, sample/test.rb: fix to show tests progress.\n\nFri Jul  6 15:37:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_iterator.rb: fix test to 1.9 spec.\n\nFri Jul  6 15:21:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_interrupt): suppress a gcc's officious warning.\n\nFri Jul  6 14:57:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (keyword_to_name): constified.\n\n\t* ext/ripper/eventids2.c (token_to_eventid): ditto.\n\nFri Jul  6 14:50:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bootstraptest/runner.rb: added --quiet option.\n\nFri Jul  6 14:35:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_marg): wrap f_norm_arg assignment node with NODE_LIST.\n\t  [ruby-dev:31141]\n\nFri Jul  6 12:15:01 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/sentgen.rb: new file.\n\n\t* test/ruby/test_assignment.rb: tests implemented using assignment\n\t  generator and emulator.\n\nFri Jul  6 03:06:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def: remove unused code.\n\n\t* compile.c (compile_massign): fix to invoke to_splat on\n\t  splat rhs (example: *a = *nil). [ruby-dev:31136]\n\n\t* bootstraptest/test_massign.rb: add tests for above.\n\n\t* compile.c (iseq_compile_each): disable excess optimization.\n\t  [ruby-dev:31126]\n\nFri Jul  6 02:08:25 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def: fix to invoke nil.to_splat on NODE_ARGSCAT.\n\t  [ruby-dev:31138].\n\n\t* bootstraptest/test_literal.rb: add tests for above.\n\nThu Jul  5 19:45:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h: rename rb_control_frame_t#magic to flag.\n\n\t* vm.h: add VM_FRAME_TYPE() and VM_FRAME_FLAG().\n\n\t* cont.c, insnhelper.ci, insns.def, vm.c, vm_dump.c,\n\t  vm_evalbody.ci, yarvcore.c: apply above changes.\n\nThu Jul  5 19:16:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_basicinstructions.rb: remove an assertion using\n\t  unsupported hash literal (such as {1, 2}).\n\n\t* test/ruby/test_hash.rb: ditto.\n\nThu Jul  5 19:12:22 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c: Qfalse is VALUE, not pointer.\n\nThu Jul  5 18:42:01 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): add break catch point.\n\n\t* insns.def (throw): support correct \"break\" and \"return\".\n\t  this commit achieve that \"make test\" passes all tests.\n\n\t* vm.c: ditto.\n\nThu Jul  5 18:44:12 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (mlhs_basic): use mlhs_post after tSTAR.\n\t  [ruby-dev:31109]\n\nThu Jul  5 18:27:58 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/{intern,ruby}.h, compile.[ch], error.c, eval.c,\n\t  eval_load.c, gc.c, iseq.c, main.c, parse.y, re.c, ruby.c,\n\t  yarvcore.[ch] (ruby_eval_tree, ruby_sourcefile, ruby_sourceline,\n\t  ruby_nerrs): purge global variables.\n\n\t* ruby.c (proc_options): moved do_print and do_loop options\n\t  handling from ruby_process_options().\n\nThu Jul  5 16:37:34 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* numeric.c (int_pow): fix previous nubu's commit.\n\n\t* test/ruby/test_fixnum.rb: new test.\n\nThu Jul  5 15:56:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (int_pow): even number multiplication never be negative.\n\nThu Jul  5 10:42:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby/{node,ruby}.h, ruby.c: added enum constants for gdb\n\t  support.  [ruby-dev:31066]\n\n\t* .gdbinit: some improvements.\n\nThu Jul  5 10:13:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (global_symbols.last_id): reduce unused ID numbers.\n\n\t* include/ruby/st.h, st.c (st_init_table, st_init_table_with_size):\n\t  constified.\n\nWed Jul  4 23:36:27 2007  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/webrick/httpauth/authenticator.rb\n\t  (WEBrick::HTTPAuth::Authenticator#check_scheme): auth-scheme must be\n\t  treated as a case-insensitive token according to RFC 2617 section 1.2.\n\nWed Jul  4 18:30:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (mlhs_inner): new rule.  [ruby-dev:31132]\n\nWed Jul  4 05:11:57 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (set_relation): added.\n\nWed Jul  4 04:58:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (caller_setup_args): fix to show correct class\n\t  on an error message (ex: m(&1)). [ruby-dev:31101]\n\nWed Jul  4 04:30:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (compile_array, iseq_compile_each): fix about array\n\t  generation in void context. [ruby-dev:31102]\n\n\t* bootstraptest/test_literal.rb: add a test for above.\n\nWed Jul  4 04:07:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (compile_array): ignore NODE_ZARRAY.\n\t  [ruby-dev:31110]\n\n\t* bootstraptest/test_method.rb: add a test for above.\n\nWed Jul  4 04:04:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.h: fix debug print level.\n\nWed Jul  4 03:52:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): support v[&b]= type method call.\n\t  [ruby-dev:31094]\n\n\t* bootstraptest/test_method.rb: add a test for above.\n\nWed Jul  4 03:43:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (compile_massign): fix massign compilation\n\t  (example: a, *v, (*x) = ...).  [ruby-dev:31107]\n\n\t* bootstraptest/test_massign.rb: add tests for above.\n\nTue Jul  3 23:12:29 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/onigiruma.h (ONIG_EXTERN): use RUBY_EXTERN if defined.\n\n\t* regenc.h: include ruby/defines.h.\n\n\t* regint.h: x64-mswin64 support.\n\nTue Jul  3 13:47:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_save_machine_stack): clear saved_thread.machine_stack*.\n\nMon Jul  2 21:45:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: rename iseq_translate_direct_threaded_code()\n\t  to iseq_translate_threaded_code().\n\n\t* eval_intern.h, yarvcore.h: mv EXEC_EVENT_HOOK() and\n\t  exec_event_hooks() to yarvcore.h.\n\n\t* insnhelper.ci, vm.c: mv yarv_finish_insn_seq to vm.c.\n\n\t* insns.def (opt_call_c_function): fix to use RESTORE_REGS().\n\n\t* iseq.c (rb_iseq_build_for_ruby2cext): fix to allocate iseq.\n\nMon Jul  2 11:59:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (defineclass): suppress a warning.\n\n\t* insns.def (opt_call_c_function): should raise the thrown exception\n\t  instead of returning it.\n\nMon Jul  2 08:53:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h, yarvcore.h: move declaration of sysstack_error\n\t  to yarvcore.h.\n\n\t* iseq.c: fix symbol name (:toplevel -> :top).\n\n\t* lib/vm/instruction.rb, template/vm.inc.tmpl: replaceable\n\t  current file name.\n\nMon Jul  2 05:29:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, iseq.c: fix iseq some of load/store process.\n\nMon Jul  2 03:09:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h, compile.c, insnhelper.ci, iseq.c, vm.c:\n\t  rename structure names and field names.\n\n\t* insnhelper.h, insns.def: add GET_CONST_INLINE_CACHE().\n\n\t* iseq.c: add rb_iseq_build_for_ruby2cext().\n\n\t* yarvcore.h, vm.h: move declaration of rb_insn_func_t\n\t  to yarvcore.h.\n\nSun Jul  1 03:25:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.h, vm.h: some refactoring.\n\t  remove useless comments, etc.\n\nSun Jul  1 03:02:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h: some refactoring on rb_iseq_t.\n\t  rename some variable names, add comments, etc.\n\n\t* compile.c, iseq.c, proc.c, vm.c: ditto.\n\nSun Jul  1 02:57:57 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.h: rename insn_func_type to rb_insn_func_type.\n\n\t* vm_evalbody.ci: ditto.\n\n\t* insns.def: add opt_call_native_compiled instruction\n\t  instead of opt_call_native_compiled.\n\nSat Jun 30 00:17:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_yylex): return non-valid token for an invalid\n\t  instance/class variable name.  a patch from Yusuke ENDOH\n\t  <mame AT tsg.ne.jp>.  [ruby-dev:31095]\n\nFri Jun 29 23:38:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmts): fix for ripper.\n\nFri Jun 29 21:55:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y: fix to show line number of blank block.\n\t  [ruby-dev:31093]\n\nFri Jun 29 20:51:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/cgi/session.rb (create_new_id): don't cut off md5.hexdigest to\n\t  follow Ruby 1.8.\n\nFri Jun 29 17:10:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* debug.h: constified.\n\n\t* debug.c (ruby_set_debug_option): separated from main.c.\n\n\t* gc.c (ruby_gc_stress), signal.c (ruby_enable_coredump): prefixed.\n\nFri Jun 29 16:39:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (proc_new): fix to return a proc object\n\t  which block is contained ([ruby-dev:31056]).\n\nFri Jun 29 15:43:59 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_pow): get rid of division by zero.  reported by\n\t  Yusuke ENDOH <mame AT tsg.ne.jp> [ruby-dev:31040]\n\n\t* numeric.c (int_round): do nothing when rounding by zeroth digit.\n\t  check underflow.  [ruby-dev:31043]\n\nFri Jun 29 15:32:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* configure.in: add fastcall attribute check.\n\nFri Jun 29 14:51:24 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (assoc_list): remove expanded hash literal (no splat).\n\n\t* lib/webrick/httpstatus.rb (WEBrick::HTTPStatus::EOFError): adapt\n\t  to new syntax.\n\nFri Jun 29 14:48:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* tool/insns2vm.rb, lib/vm/instruction.rb: move process body\n\t  to lib/vm/instruction.rb.\n\n\t* common.mk: fix aotc rule.\n\t  experimental. bin/ruby2cext is not added yet.\n\nFri Jun 29 11:23:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (dsym): return non-null NODE even if yyerror().  based on a\n\t  patch from Yusuke ENDOH <mame AT tsg.ne.jp>.  [ruby-dev:31085]\n\nThu Jun 28 23:29:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (assoc_list): odd number check only for NODE_ARRAY.\n\t  [ruby-dev:31082]\n\nThu Jun 28 22:24:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* win32/Makefile.sub: define FUNC_FASTCALL macro.\n\n\t* vm.h: fix to use FUNC_FASTCALL macro.\n\t  TODO: add FUNC_FASTCALL macro by configure.\n\nThu Jun 28 19:38:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: fix to remove -Wall warnings on gcc.\n\n\t* compile.c (make_name_with_str): removed. use rb_sprintf() instead.\n\nThu Jun 28 18:53:01 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* bignum.c (rb_big_hash): fix hash area.\n\nThu Jun 28 15:00:06 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_getline): local variable to be\n\t  initialized.  [ruby-dev:31077]\n\nThu Jun 28 11:30:39 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (rb_obj_id): use SIGNED_VALUE instead of long.\n\nThu Jun 28 05:01:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk (run.gdb): fix to load $(srcdir)/.gdbinit\n\n\t* vm.c (rb_vm_set_finish_env): add a cast.\n\n\t* vm.h: support __fastcall for MSVC.\n\nThu Jun 28 02:12:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: fix to untouch $:.\n\nThu Jun 28 02:03:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (setup_args): change parameter type.\n\nThu Jun 28 02:03:39 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (rb_intern2): unconstify cast.\n\nThu Jun 28 01:44:31 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* parse.y (rb_intern2): don't allocate a string object at first.\n\t  [ruby-dev:31064]\n\nThu Jun 28 01:24:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: fix to show file name.\n\n\t* bootstraptest/test_*.rb: add bootstrap tests.\n\nThu Jun 28 01:22:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* include/ruby/node.h, parse.y, gc.c, iseq.c: remove NODE_CREF.\n\nThu Jun 28 01:19:43 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix popped backref and others.\n\t  ([ruby-dev:31068]).\n\n\t* compile.c (iseq_compile_each): remove needless statements.\n\nWed Jun 27 23:51:33 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c: remove unused functions.\n\nWed Jun 27 20:46:05 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/win32.h, win32/Makefile.sub, win32/configure.bat,\n\t  win32/mkexports.rb, win32/setup.mak, win32/win32.c: import\n\t  x64-mswin64 port.\n\nWed Jun 27 20:31:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_translate_direct_threaded_code): fix prototype\n\t  function name.\n\n\t* vm.h: add correct cast.\n\nWed Jun 27 17:08:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_evalbody.ci: support OPT_CALL_THREADED_CODE.\n\n\t* insns.def, vm.c, vm.h: ditto.\n\n\t* vm.h: add VM_CFP_CNT() and VM_SP_CNT().\n\nWed Jun 27 04:23:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix type error.\n\nWed Jun 27 03:26:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (compile_massign), insns.def (expandarray): support\n\t  postarg with massign (a, *b, c = ...).\n\n\t* bootstraptest/test_massign.rb: add tests for above.\n\n\t* compile.h: fix debug macro names.\n\nWed Jun 27 00:18:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_clear): need to check STR_EMBED_P() before\n\t  free()ing memory.  a patch from Yusuke ENDOH <mame AT tsg.ne.jp>.\n\t  [ruby-dev:31062]\n\nTue Jun 26 16:39:01 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (proc_getgroups): use GIDT2NUM for rb_gid_t.\n\nTue Jun 26 16:28:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_wait_fd_rw): terminate fdset.\n\nTue Jun 26 16:26:58 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* regint.h: IL32LLP64 support.\n\nTue Jun 26 16:22:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (ruby_node_name): update node names.\n\nTue Jun 26 15:21:20 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/ruby.h: IL32LLP64 support.\n\n\t* bignum.c (bigfixize, rb_cstr_to_inum): ditto.\n\n\t* insns.def (opt_plus, opt_minus, opt_mult): ditto.\n\nTue Jun 26 15:04:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_fiber_s_new): revert initializing VM stack.\n\n\t* yarvcore.c (th_init2): ditto.\n\n\t* vm.c, vm.h: fix to stop using Qundef on VM stack.  According to\n\t  this change, VM stack should not include Qundef value.\n\n\t* insns.def (putundef): removed.\n\n\t* compile.c (iseq_compile_each): ditto.\n\n\t* eval.c (eval): fix spacing.\n\nTue Jun 26 04:03:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (vm_yield_with_cfunc), proc.c: fix Method#to_proc\n\t  to return lambda Proc ([ruby-dev:31021], [ruby-dev:31037]).\n\nTue Jun 26 03:46:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_fiber_s_new): fix to clear rb_thread_t#tag.\n\t  [ruby-dev:30995]\n\nTue Jun 26 03:38:31 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_fiber_s_new), yarvcore.c (th_init2): fix to clear\n\t  VM stack ([ruby-dev:31046]).\n\nTue Jun 26 03:15:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: rename setup_arg() to setup_args().\n\t  fix to use setup_args() at processing NODE_YIELD.\n\nTue Jun 26 02:50:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (setup_arg): support kind of \"m(*ary, x)\" method call.\n\t  ([ruby-dev:31048]).\n\nTue Jun 26 00:28:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci, vm.c: complete block parameter support.\n\t  post arguments, optional arguments, block argument.\n\n\t* compile.c, parse.y: fix {|a|} parameter.\n\n\t* insnshelper.ci, insns.def: revert caller_setup_args() option\n\t  (need_block_check) parameter.\n\nMon Jun 25 20:18:44 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (RVALUE): in RVALUE and RBasic, flags must be the same type.\n\nMon Jun 25 18:02:55 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/pty/extconf.rb: skip wince and win64.\n\nMon Jun 25 17:59:32 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* include/ruby/node.h (NODE_LMASK, nd_line): shouldn't use int and/or\n\t  long carelessly.\n\nMon Jun 25 11:36:35 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.h: add RUBY_ prefix to debug macros.\n\n\t* cont.c, proc.c, yarvcore.c,\n\n\t* gc.c: define ruby_gc_debug_indent variable to debug mark/free.\n\n\t* vm.c, insnhelper.ci: rename some functions to vm_* or rb_vm_*.\n\t  move some functions, definitions, declarations to suitable files.\n\n\t* eval.c, yarvcore.h, eval_error.ci, insnhelper.ci: ditto.\n\nMon Jun 25 09:45:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_error.ci, eval_jump.ci, eval_method.ci, eval_safe.ci: c-mode.\n\nMon Jun 25 05:27:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c: remove ruby_current_node and change eval() prototype.\n\t  fix to use rb_sourcefile/line() instead of ruby_sourcefile/line.\n\n\t* error.c, eval_error.ci, eval_load.c, eval_safe.ci, gc.c,\n\t  include/ruby/intern.h, parse.y, process.c, ruby.c: ditto.\n\n\t* vm.c: fix spaces.\n\nMon Jun 25 04:20:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_*.h: rename to eval_*.ci.\n\n\t* common.mk: ditto.\n\n\t* eval_error.ci: remove ruby_set_current_source().\n\n\t* error.c, eval.c, ruby.c: ditto.\n\n\t* eval_safe.c, proc.c: remove unused macros.\n\nMon Jun 25 03:37:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.ci (caller_setup_args): add need_block_check option.\n\n\t* insns.def: ditto.\n\n\t* yarvcore.h: add GetCoreDataFromValue().\n\nMon Jun 25 02:14:30 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* call_cfunc.ci: removed.\n\n\t* insnhelper.ci: added. this function includes all functions that\n\t  vm insns need.\n\n\t* common.mk: ditto.\n\n\t* insnhelper.h, vm.h, vm.c: move some declaration.\n\n\t* gc.h: remove GC_CHECK() macro because GC.stress is more useful.\n\n\t* compile.c, iseq.c, vm_dump: ditto.\n\n\t* gc.h, thread.c: move a prototype declaration.\n\n\t* debug.c, debug.h: rename some functions.\n\n\t* compile.h: ditto.\n\nMon Jun 25 00:45:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (invokesuper): fix error message.\n\nMon Jun 25 00:14:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c: some refactoring.\n\t  * rename th_* to vm_*.\n\t  * remove unused variables functions.\n\t  * add prototypes.\n\n\t* blockinlining.c, compile.c, cont.c, eval.c, eval_intern.h,\n\t  eval_jump.h, eval_load.c, inits.c, insns.def, iseq.c, parse.y,\n\t  proc.c, process.c, signal.c, thread.c, vm.c, vm_dump.c,\n\t  vm_evalbody.ci, yarvcore.c, yarvcore.h: ditto.\n\nSun Jun 24 22:32:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_method.h (rb_add_method): fix to check 0.\n\nSun Jun 24 22:00:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insn_send.ci: removed.\n\n\t* common.mk: ditto.\n\n\t* vm.c (vm_call_bmethod), isnsn.def: added.  fix to use this\n\t  function instead of using goto.\n\n\t* vm.c (vm_call_bmethod): renamed from th_invoke_bmethod().\n\n\t* vm.c (vm_method_missing): renamed from eval_method_missing().\n\n\t* vm_evalbody.ci: remove tmp_* variables.\n\n\t* insnhelper.h: add some macros.\n\n\t* insns.def: forbid zsuper from method defined by define_method().\n\n\t* test/ruby/test_super.rb: ditto.\n\nSun Jun 24 20:01:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_macro.def: removed.\n\n\t* insn_send.ci: added.  this file includes send instruction body.\n\n\t* common.mk: ditto.\n\n\t* insns.def: ditto.\n\n\t* tool/insns2vm.rb: ditto.\n\n\t* vm.c: ditto.\n\nSun Jun 24 19:30:37 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.h (RESTORE_REGS): add do/while(0) around macro.\n\n\t* vm.c, vm_macro.def: remove macro_eval_invoke_func() and\n\t  add vm_setup_method().  use it instead.\n\nSun Jun 24 19:02:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, vm_macro.def : remove macro_eval_invoke_cfunc() and\n\t  add vm_call_cfunc().\n\nSun Jun 24 17:54:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def, vm.c: add/fix stack overflow check.\n\nSun Jun 24 17:28:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insnhelper.h: change CHECK_STACK_OVERFLOW() to throw exception.\n\n\t* vm.c (caller_setup_arg), vm_macro.def: remove\n\t  macro_eval_setup_send_arguments and add caller_setup_arg().\n\n\t* insns.def: ditto.\n\n\t* bootstraptest/test_method.rb: add splat arg tests.\n\nSun Jun 24 16:35:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (proc_to_s): used a variable before initialized.\n\nSun Jun 24 16:05:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (callee_setup_arg): added.  support correct post arg.\n\n\t* vm_macro.def (macro_eval_invoke_func): fix to use\n\t  callee_setup_arg.\n\n\t* compile.c (set_arguments): adjust for above changes.\n\n\t* compile.c (iseq_compile_each): ditto.\n\n\t* iseq.c (ruby_iseq_disasm): ditto.\n\n\t* yarvcore.h: add rb_iseq_t#post_arg_start and arg_size.\n\n\t* bootstraptest/test_method.rb: add post arg tests.\n\nSun Jun 24 16:10:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* proc.c (proc_to_s): suppress warning, and reduced duplicated code.\n\nSun Jun 24 15:33:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* bootstraptest/runner.rb: set default directory to\n\t  '/tmp/bootstraptest.tmpwd' and add --dir option.\n\t  fix to output driver and target information.\n\n\t* common.mk: fix to run btest on BASERUBY and\n\t  add OPTS to pass option (\"make btest OPTS=...\").\n\nSun Jun 24 03:05:00 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* enum.c (enum_minmax): fix SEGV by [].minmax.\n\nSat Jun 23 17:18:19 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* re.c (match_inspect): MatchData#inspect implemented.\n\nSat Jun 23 15:00:16 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_minmax): new method to get the minimum and maximum\n\t  values from the enumerable at once.\n\n\t* enum.c (enum_minmax_by): ditto.\n\nSat Jun 23 01:25:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_assoc): new method.\n\n\t* hash.c (rb_hash_rassoc): ditto.\n\n\t* hash.c (rb_hash_flatten): ditto.\n\nFri Jun 22 23:55:59 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_upto): add optional argument to specify\n\t  exclusiveness.\n\n\t* range.c (range_step): use String#upto with optional argument.\n\n\t* range.c (range_each): ditto.\n\nFri Jun 22 19:55:51 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* proc.c (proc_to_s): revert the change from %p to %lx at YARV\n\t  merge time.\n\nFri Jun 22 19:33:49 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* proc.c (proc_to_s): show is_lambda.\n\nThu Jun 21 20:36:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_sort): remove hash specific implementation.\n\nThu Jun 21 20:28:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_select): returns new hash, not assoc array.\n\t  [ruby-core:11504]\n\n\t* hash.c (env_select): ditto.\n\nThu Jun 21 23:08:19 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (rb_intern2): ID_JUNK test based on len, not by NUL.\n\nThu Jun 21 19:42:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* yarvcore.c (rb_thread_mark): mark also thrown_errinfo.\n\nThu Jun 21 17:13:44 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_intern2): name may not be NUL-terminated.\n\nWed Jun 20 08:27:57 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval_error.h (error_print): show full stacktrace on\n\t  non-SystemStackError.\n\nWed Jun 20 04:45:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_intern2): use rb_intern2 to intern without trailing\n\t  equal sign.\n\n\t* parse.y (rb_intern2, ripper_id2sym): fixed indent.\n\nTue Jun 19 10:55:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_load.c (load_ext, rb_require_safe): pass VALUE instead of\n\t  pointer.  [ruby-Bugs-11659]\n\nMon Jun 18 08:47:54 2007  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* ext/openssl/{extconf.rb,ossl_ssl_session.c}:\n\t  Fix ruby-Bugs-11513.\n\n\t* ext/openssl/ossl_pkey_ec.c\n\t  New methods EC::Point.[eql,make_affine!,invert!,on_curve?,infinity?]\n\t  By default output the same key form as the openssl command.\n\n\t* ext/openssl/ossl_rand.c\n\t  New method Random.status?\n\n\t* test/openssl/test_ec.rb\n\t  New tests.\n\nMon Jun 18 17:04:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_load.c (rb_require_safe, ruby_init_ext): load with ruby level\n\t  cfp.  [ruby-core:10779]\n\n\t* eval_intern.h, vm.c (rb_vm_call_cfunc): new function to call a\n\t  function with ruby level cfp.\n\nMon Jun 18 16:57:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (yycompile): disable trace while creating ruby_debug_lines.\n\t  [ruby-talk:253586]\n\n\t* thread.c (ruby_suppress_tracing): new function to call a function\n\t  with suppressing trace.\n\n\t* lib/debug.rb, lib/tracer.rb: for YARV.\n\nMon Jun 18 13:54:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): return EXIT_FAILURE if any exceptions occurred\n\t  in at_exit blocks.  [ruby-core:11263]\n\nMon Jun 18 02:49:16 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (env_mark): fix to mark block.proc.\n\n\t* vm.c (th_make_proc_from_block): set created proc to block->proc.\n\nMon Jun 18 02:48:12 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_dump.c (vm_stack_dump_raw): hide VM stack trace.\n\nMon Jun 18 02:43:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* signal.c (sigsegv): clear gc_stress flag on SEGV.\n\nMon Jun 18 01:14:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (rb_path2class): get rid of dangling pointer caused by\n\t  optimized out value.\n\n\t* variable.c (rb_global_entry, rb_f_untrace_var, rb_alias_variable,\n\t  rb_generic_ivar_table, generic_ivar_get, generic_ivar_set,\n\t  generic_ivar_defined, generic_ivar_remove, rb_mark_generic_ivar,\n\t  rb_free_generic_ivar, rb_copy_generic_ivar,\n\t  rb_obj_instance_variables): suppress warnings.\n\nSun Jun 17 11:11:07 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval.c (rb_method_missing): avoid a warning \"too many arguments\n\t  for format string\" on \"./ruby -ve 'def m() super end; m'\".\n\nSat Jun 16 22:24:17 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (garbage_collect): re-introduce ruby_current_node marking code.\n\t  [ruby-dev:31005]\n\nSat Jun 16 21:37:43 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (gc_sweep): re-introduce heap extension strategy change.\n\t  [ruby-dev:31005]\n\nFri Jun 15 22:59:37 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* .gdbinit: new file to ease debugging using gdb.\n\nFri Jun 15 22:33:55 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* signal.c (default_handler): func argument removed.\n\t  (trap_handler): support SYSTEM_DEFAULT.  call default_handler\n\t  internally.\n\t  (sig_trap): don't call default_handler.\n\t  [ruby-dev:30999]\n\nFri Jun 15 22:33:29 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (realclean): separate local and ext.\n\n\t* ext/extmk.rb: not remove unrelated directories.\n\nFri Jun 15 20:50:02 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* keywords: enclose C code in declaration section by %{ and %} to\n\t  avoid extra semicolon after #ifdef RIPPER.\n\t  pointed by eban.\n\nFri Jun 15 18:56:52 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* signal.c (trap_handler): trap(\"SIGSEGV\", \"DEFAULT\") may cause wrong\n\t  trap error because SIG_DFL may be zero.\n\nFri Jun 15 15:55:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (setconstant, toregexp): fix to mark object correctly.\n\nFri Jun 15 13:24:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* hash.c: exchange semantics of Hash#each and Hash#each_pair.\n\t  pointed out by [ruby-dev:30997].\n\n\t* test/ruby/test_iterator.rb: ditto.\n\n\t* test/ruby/test_yield.rb: ditto.\n\nFri Jun 15 12:38:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_iterator.rb: remove debug code (GC.stress=true).\n\nFri Jun 15 12:25:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (th_yield_setup_args): |v| should work as |v,|.\n\t  ex) def m;yield 1, 2; end; m{|v| p v} #=> 1\n\n\t* parse.y: apply above change for \"for\" statement.\n\n\t* test/ruby/test_assignment.rb: ditto\n\n\t* test/ruby/test_basicinstructions.rb: ditto.\n\n\t* test/ruby/test_iterator.rb: ditto.\n\n\t* test/ruby/test_yield.rb: ditto.\n\n\t* compile.c (iseq_compile_each): fix debug.\n\nFri Jun 15 12:22:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (ruby_finalize_1): rb_thread_t#errinfo should be clear with\n\t  Qnil.\n\nFri Jun 15 12:20:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_cont_call): forbid cross fiber continuation call.\n\n\t* test/ruby/test_fiber.rb: ditto.\n\nFri Jun 15 12:14:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* sample/test.rb: fix to show line information whether test succeeds.\n\nThu Jun 14 17:16:05 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* eval_load.c (Init_load): delay allocating an array for rb_load_path\n\t  to avoid GC problem in very early stage.\n\t  (RUBY_GC_STRESS causes GC in such stage.)\n\n\t* variable.c (rb_gc_mark_global_tbl): rb_global_tbl may be 0 in\n\t  very early stage.\n\n\t* thread.c (thread_cleanup_func) [IA64]: clear register stack position.\n\t  (thread_start_func_2) [IA64]: record the beginning of register\n\t  stack using extra argument.\n\t  (rb_gc_save_machine_context) [IA64]: record the end of register\n\t  stack.\n\n\t* gc.c [IA64] (SET_STACK_END): record the end of register stack.\n\t  (garbage_collect) [IA64]: use recorded register stack area for\n\t  GC marking.\n\t  (yarv_machine_stack_mark) [IA64]: GC mark from the register stack\n\t  area.\n\n\t* yarvcore.c [IA64] (rb_gc_register_stack_start): defined.\n\t  (Init_VM): store th->self on stack to fix GC problem.\n\t  (Init_yarv) [IA64]: initialize the beginning of register stack.\n\n\t* yarvcore.h (struct rb_thread_struct) [IA64]: new members for\n\t  register stack area.\n\n\t* thread_pthread.ci (thread_start_func_1) [IA64]: call\n\t  thread_start_func_2 with the end of register stack.\n\n\t* cont.c (struct rb_context_struct) [IA64]: new members for register\n\t  stack area.\n\t  (cont_mark) [IA64]: GC mark from register stack area.\n\t  (cont_free) [IA64]: free saved register stack.\n\t  (cont_save_machine_stack) [IA64]: record the position and contents\n\t  of the register stack.\n\t  (cont_capture): store cont->self on stack to fix GC problem.\n\t  (cont_restore_1) [IA64]: restore the register stack.\n\t  [IA64] (register_stack_extend): new function.\n\t  (cont_restore_0) [IA64]: call register_stack_extend instead of\n\t  cont_restore_1.\n\n\t[ruby-dev:30982]\n\nThu Jun 14 17:09:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser): handle more\n\t  extensions.  [ruby-dev:30972]\n\nThu Jun 14 14:40:42 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/securerandom.rb: document updated.\n\t  suggested by NaHi.  [ruby-dev:30966]\n\nWed Jun 13 22:42:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (garbage_collect): update IA64 register stack code.\n\t  [ruby-dev:30971]\n\nWed Jun 13 06:05:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (darwin): prohibit loading extension libraries to\n\t  miniruby.\n\nTue Jun 12 21:50:51 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (call_args): no allow splat after assocs.  takes\n\t  consistency over compatibility.\n\n\t* parse.y (call_args2): ditto\n\nTue Jun 12 14:53:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (Logging.quiet, Logging.message): added quiet flag and\n\t  use it.  [ruby-core:10909]\n\n\t* lib/mkmf.rb (find_header): use header names in the message.\n\nSun Jun 10 18:37:13 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/probeprofiler/probeprofiler.c: clean warnings.\n\nSun Jun 10 18:32:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/isinf.c, missing/dup2.c, missing/strtod.c, missing/x68.c,\n\t  missing/alloca.c: use \"ruby/config.h\".\n\nSun Jun 10 17:49:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (install_recursive): should check parent directories of\n\t  the destination.  [ruby-dev:30947]\n\nSun Jun 10 16:59:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (do_block, brace_block): fix line numbers.  [ruby-dev:30831]\n\nSun Jun 10 16:57:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (install_recursive): add :glob option rather than\n\t  using FNM_DOTMACH.\n\n\t* instruby.rb (ext-comm): make header directory first.\n\nSun Jun 10 16:10:58 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb: typo.\n\nSun Jun 10 16:07:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (install_recursive): skip .svn directories.\n\nSun Jun 10 15:44:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.status): rubyhdrdir was missing.\n\nSun Jun 10 15:26:36 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* Makefile.in: use --output-file for gperf to not leave lex.c.tmp.\n\nSun Jun 10 15:11:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, win32/Makefile.sub (XCFLAGS): -I. is needed for *.inc.\n\n\t* ext/extmk.rb: prepend also topdir to mflags at last.\n\nSun Jun 10 13:47:36 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb (test_should_propagate_signaled):\n\t  get rid of invoking shell.  [ruby-dev:30942]\n\nSun Jun 10 12:56:46 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* include/ruby: moved public headers.\n\n\t* instruby.rb (install_recursive): skip backup files.\n\n\t* instruby.rb (ext-comm): install only current platform headers.\n\nSun Jun 10 10:42:04 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/securerandom.rb: renamed from lib/secrand.rb.\n\t  suggested by NaHi.  [ruby-dev:30934]\n\nSat Jun  9 06:40:05 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/secrand.rb: rename SecRand() to SecRand.random_number.\n\t  suggested by NaHi.  [ruby-dev:30934]\n\nFri Jun  8 16:34:20 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/zlib/zlib.c (gzfile_s_open): use FilePathValue to support\n\t  to_path.\n\nFri Jun  8 16:11:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_jump.h: th->errinfo should clear with nil.\n\nFri Jun  8 14:53:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (call_args): allow splat argument after unpacked\n\t  assocs like 1.8 does.\n\n\t* parse.y (call_args): ditto.\n\nFri Jun  8 14:26:18 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/secrand.rb: new file for secure random interface.\n\n\t* lib/cgi/session.rb: use secrand for generating cookies.\n\nFri Jun  8 12:44:37 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {win32,wince}/Makefile.sub: add lex.c rule.\n\nFri Jun  8 11:54:18 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lex.c.blt: moved from lex.c.\n\n\t* Makefile.in: use lex.c.blt if gperf is not available.\n\t  [ruby-list:8212], [ruby-list:8214], [ruby-list:24667],\n\t  [ruby-talk:120857], [ruby-dev:28102]\n\nThu Jun  7 21:38:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_execute_interrupts): invoke ensure when\n\t  main thread exits.\n\nThu Jun  7 19:02:48 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* lib/pp.rb: call original \"method\" method instead of redefined one.\n\nThu Jun  7 17:20:57 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (prepare_iseq_build): freeze filename and name string.\n\n\t* variable.c: freeze class name string.\n\nThu Jun  7 12:48:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_restore_1): fix to check root fiber [ruby-dev:30911].\n\n\t* test/ruby/test_fiber.rb: add a test.\n\nThu Jun  7 07:24:36 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/json/common.rb: Ponder offering parse! method.\n\n\t* lib/json/editor.rb: be a bit more robust while loading data.\n\n\t* ext/json/ext/{generator,parser}/extconf.rb:\n\t  add a have_header directive for st.h\n\n\t* test/json: fix some tests.\n\nThu Jun  7 03:29:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test_fiber.rb: add a test (Continuation and Fiber).\n\nThu Jun  7 03:17:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_new): add debug message.\n\n\t* cont.c (cont_restore_1): copy stack information from fiber.\n\n\t* cont.c (rb_fiber_s_new): fix to mark created fiber.\n\n\t* test/ruby/test_fiber.rb: add some tests around Thread and Fiber.\n\n\t* yarvcore.c (thread_free): fix to skip freeing stack if root fiber\n\t  is available.\n\nThu Jun  7 01:03:20 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h, eval.c (ruby_init): remove POP_TAG_INIT().\n\n\t* cont.c (rb_fiber_start): remove zero-clearing tag.\n\nWed Jun  6 20:23:46 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (invokeblock): fix of splat argument.\n\t  (splat same as normal method dispatch)\n\nWed Jun  6 16:27:25 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insns.def: fixed indentation.\n\nWed Jun  6 10:58:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_yield): fix to check Qundef.\n\nWed Jun  6 10:57:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_continuation.rb: add a test for last commit.\n\nWed Jun  6 10:55:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_cont_call): forbid calling dead fiber with\n\t  Continuation#call.\n\nWed Jun  6 10:50:01 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix around yield arguments\n\t  (with NODE_ARGSCAT).\n\nWed Jun  6 02:50:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (rb_fiber_start): clear th->tag and check error to fix\n\t  [ruby-dev:30888] and [ruby-dev:30889].\n\n\t* eval_intern.h: fix rb_fiber_start() prototype.\n\n\t* test/ruby/test_fiber.rb: add tests for above.\n\nWed Jun  6 02:40:20 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insnhelper.h, insns.def (DEC_SP): shouldn't use unary minus operator\n\t  in pointer operation. some compilers (such as VC++8 x64) cannot deal\n\t  it with expected way.\n\nWed Jun  6 02:19:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y (new_yield), compile.c (iseq_compile_each): fix\n\t  passing parameter.\n\n\t* eval.c, eval_jump.h: simplify rb_yield*.\n\n\t* proc.c (proc_mark): fix to mark proc->block.proc.\n\n\t* proc.c (Init_Proc): add Proc#lambda?\n\n\t* test/ruby/test_lambda.rb: add some tests.\n\n\t* vm.c (invoke_block): fix to check lambda block or not.\n\n\t* vm.c (th_yield_setup_args): fix to check arguments size\n\t  when lambda block.\n\nTue Jun  5 16:30:38 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_p): returns arguments to intervene.  [ruby-dev:29736]\n\nTue Jun  5 14:07:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (invokeblock): check block is created by lambda\n\t  or Proc.new.\n\n\t* vm.c (block_proc_is_lambda): added.\n\nTue Jun  5 14:47:52 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/pp.rb (PP::PPMethods::seplist): revert last change to work\n\t  around wrapper bug.  [ruby-dev:30840]\n\nTue Jun  5 14:11:15 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (kanji_convert): Fix guess fallback.\n\nTue Jun  5 13:32:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c, dir.c, eval.c, eval_jump.h, eval_method.h, numeric.c,\n\t  pack.c, parse.y, re.c, thread.c, vm.c, vm_dump.c, call_cfunc.ci,\n\t  thread_pthread.ci, thread_win32.ci: fixed indentation.\n\n\t* call_cfunc.ci: protoized.\n\n\t* thread_win32.ci: fixed typo.\n\nTue Jun  5 13:17:11 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* call_cfunc.ci, compile.c, dir.c, eval.c, eval_jump.h, numeric.c,\n\t  pack.c, re.c, thread.c, thread_win32.ci, vm.c, vm_dump.c: fixed\n\t  indentation.\n\nMon Jun  4 21:15:45 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* lib/json.rb, lib/json, ext/json, test/json:\n\t  import JSON library.\n\n\t* ext/nkf: import nkf.c rev:1.124\n\t  Support CP10001.\n\nMon Jun  4 20:52:58 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_round): should not just truncate.\n\nSat Jun  2 16:48:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (Fiber#pass): rename to Fiber#yield.  Block parameter\n\t  of fiber body receive first yield values.\n\t  e.g.: Fiber.new{|x| p x}.yield(:ok) #=> :ok\n\n\t* cont.c: rename rb_context_t#retval to rb_context_t#value.\n\n\t* test/ruby/test_fiber.rb: ditto.\n\nSat Jun  2 16:45:21 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (Init_Proc): remove a line break.\n\nSat Jun  2 01:27:27 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_round): small optimization to handle bignums.\n\nFri Jun  1 13:02:35 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* insnhelper.h (INC_SP): shouldn't cast ``x'' to unsigned type because\n\t  it might be a negative value.\n\n\t* insnhelper.h, insns.def: shouldn't use unary minus operator in index\n\t  operator. some compilers (such as VC++8 x64) cannot deal it with\n\t  expected way.\n\nFri Jun  1 11:33:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (num_round): should convert self to Float.\n\t  [ruby-dev:30860]\n\nFri Jun  1 02:01:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (flo_round): now takes optional argument to specify\n\t  number of digits, like round() in Python/PHP.\n\n\t* numeric.c (num_round): ditto.\n\nFri Jun  1 01:58:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (each_with_index_i): should work well with continuation.\n\t  a patch from sheepman <sheepman AT sheepman.sakura.ne.jp>.\n\t  [ruby-dev:30846]\n\nThu May 31 17:27:53 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/benchmark.rb (Benchmark::Job::item): avoid modifying the\n\t  argument unintentionally.  [ruby-talk:253676]\n\nWed May 30 14:43:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c (cont_capture): store all local variables in heap\n\t  ([ruby-dev:30832]).\n\n\t* vm.c (th_stack_to_heap): added.\n\n\t* test/ruby/test_continuation.rb: add a test for above.\n\n\t* eval_intern.h (th_get_ruby_level_cfp): fix to clean code.\n\nWed May 30 13:32:34 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (ResponseParser#next_token): fixed\n\t  error message.\n\n\t* lib/net/imap.rb (ResponseParser#parse_error): fixed\n\t  the condition not to refer @token.symbol unexpectedly.\n\t  Thanks, Dick Monahan.\n\nWed May 30 13:24:33 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb (Net::FTP#transfercmd): skip 2XX\n\t  responses for some FTP servers.\n\nWed May 30 04:18:37 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval_cmd): just return if no exceptions.\n\t  [ruby-dev:30820]\n\nWed May 30 02:14:25 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (interrupt_init): needs to pass nil for Interrupt.\n\t  [ruby-core:11038]\n\n\t* signal.c (trap): fixed segfaults.  [ruby-dev:30830]\n\nWed May 30 00:50:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (rb_source_filename, obj_free): suppress warnings.\n\n\t* gc.c (garbage_collect, yarv_machine_stack_mark): fixed typo.\n\t  http://bugs.debian.org/426267\n\nWed May 30 00:24:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (open_args, arg_ambiguous, parser_warning): should not use\n\t  rb_warning in the parser.\n\nTue May 29 12:31:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_opendir): removed duplicated code.\n\nTue May 29 10:55:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: fix bug around Continuation and Fiber.\n\n\t* test/ruby/test_continuation.rb: add tests for Continuation.\n\nTue May 29 10:54:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_opendir, rb_w32_readdir): eliminate magic\n\t  numbers.\n\nMon May 28 10:27:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cont.c: fixed a function name.\n\nMon May 28 03:56:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: support Fiber.  Check test/ruby/test_fiber.rb for detail.\n\t  Fiber is known as \"Micro Thread\", \"Coroutine\", and other terms.\n\t  At this time, only Fiber#pass is supported to change context.\n\t  I want to know more suitable method name/API for Fiber (... do you\n\t  know more suitable class name instead of Fiber?) as \"suspend/resume\",\n\t  \"call\", \"yield\", \"start/kick/stop/restart\", ....\n\n\t* eval.c, eval_intern.h, thread.c, yarvcore.c, yarvcore.h: ditto.\n\nSat May 26 00:38:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_exec_internal): do nothing if no code.\n\n\t* compile.c (rb_iseq_compile): check node if NULL before check\n\t  nd_type.  [ruby-talk:252956]\n\nSat May 26 00:05:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb (test_should_propagate_signaled):\n\t  skip tests for exitstatus and termsig on the platforms where\n\t  signals not supported.\n\nFri May 25 16:04:47 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* yarvcore.c (Init_VM): wrap already initialized structs to use\n\t  it directly.\n\nFri May 25 11:09:47 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* regint.h (include): on some platform, defines.h redefines\n\t  SIZE_OF_LONG_LONG so shouldn't re-include config.h after included\n\t  defines.h.\n\n\t* regint.h (vsnprintf): ruby on windows already have vsnprintf macro.\n\nThu May 24 12:07:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: check across trap violation.\n\n\t* eval.c, yarvcore.h: ditto.\n\nThu May 24 11:46:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* gc.c, yarvcore.c: fix to mark VM structure on startup.\n\n\t* yarvcore.h: disable USE_CACHED_VALUE.\n\nThu May 24 01:54:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* cont.c: support callcc which everyone love.\n\t  incomplete. please give me bug reports.\n\n\t* common.mk, inits.c, thread.c: ditto.\n\n\t* yarvcore.c: export thread_mark().\n\n\t* yarvcore.h: disable value cache option.\n\n\t* eval_intern.h: set th_get_ruby_level_cfp to inline.\n\nWed May 23 15:39:02 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* common.mk: add a rule for regsyntax.c.\n\nWed May 23 10:31:53 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* oniguruma.h: updated to Oniguruma 5.7.0.\n\n\t* regsyntax.c, unicode.c: new files along with Oniguruma 5.x.\n\nWed May 23 06:51:46 2007  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI#[]): get rid of exceptions being raised.\n\t  [ruby-dev:30740], Thanks Kentaro KAWAMOTO.\n\nWed May 23 05:49:49 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, ext/purelib.rb, lib/mkmf.rb, runruby.rb: clear default\n\t  load path to get rid of load pre-installed extensions/libraries.\n\t  [ruby-core:11017]\n\nTue May 22 16:37:36 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (set_arg0): support RSTRING_LEN on HP-UX.  a patch from\n\t  WATANABE Tetsuya <Tetsuya.WATANABE AT nifty.com>.  [ruby-dev:30806]\n\nMon May 21 13:40:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, vm_macro.def: support tail call optimization\n\t  (on default, this feature is not enabled).\n\n\t* iseq.c, compile.c, vm_opts.h: add \"tailcall_optimization\"\n\t  option.\n\n\t* sample/test.rb (test_ok): fix to adjust tailcall stack layout.\n\n\t* insns.def, vm.c, compile.c, yarvcore.c, yarvcore.h:\n\t  add opt_gt, opt_le instructions.\n\nMon May 21 03:34:06 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: CRAM-MD5 authentication did not work.\n\t  [ruby-dev:30770]\n\nSat May 19 10:26:01 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (Date._parse): detects some OFX dates\n\t  (Of course not fully).\n\nSat May 19 03:08:05 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_inject): minor improvement.  [ruby-dev:30792]\n\n\t* enum.c (one_i): no needs to iterate once the result became false.\n\n\t* enum.c (enum_one): fix for an example.\n\n\t* enum.c (one_iter_i, none_iter_i): DRY.;\n\nSat May 19 01:07:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_inject): it is now can work without block.  you\n\t  have to specify two argument method name as the first argument.\n\n\t* enum.c (Init_Enumerable): reduce is new alias to inject.\n\nSat May 19 01:05:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (Init_File): method definition mismatch.\n\nFri May 18 16:44:04 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (Init_File): add to_path method to File objects.\n\nFri May 18 11:12:39 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (DllMain, ruby_init_loadpath): use DLL instance handle given\n\t  to DllMain instead of VirtualQuery so that loadpath becomes relative\n\t  from the DLL on WinCE too.\n\nThu May 17 17:03:11 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el (ruby-style-label-indent): for yacc rules.\n\nThu May 17 13:30:27 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_arg): remove typo from ripper description.\n\nThu May 17 13:23:38 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y, compile.c (set_arguments): fix to support in-paren\n\t  parameter (ex: def foo((a, b))).\n\nThu May 17 13:01:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* iseq.c (ruby_iseq_disasm): fix to show post arg info.\n\nThu May 17 12:56:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* debug.c (ruby_debug_node): fix to show node line.\n\nWed May 16 21:48:44 2007  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb (Logger::Application): remove meaningless logdev\n\t  attribute and added logger attribute instead.  [ruby-core:11143]\n\t  also added Logger#formatter rdoc comment.\n\nTue May 15 16:40:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb (test_endblockwarn): now parser\n\t  warnings emit source names and line numbers.\n\nTue May 15 15:01:38 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (init_stdhandle): stderr should be without buffering,\n\t  but mswin32 use buffering when stderr is not connected to tty.\n\nMon May 14 02:12:07 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_zip): a.zip(b,c) should return an array, not\n\t  enumerator.\n\n\t* array.c (rb_ary_zip): a.zip(b,c) should return array with size\n\t  truncated to the size of its shortest argument array.\n\t  [incompatible]\n\nMon May 14 01:54:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_choice): should return nil when the array is\n\t  empty.\n\nSat May 12 18:26:36 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (tokens): forgot to add strip. [ruby-core:11120]\n\n\t* test/net/http/test_http.rb: test Net::HTTP.post_form.\n\nFri May 11 15:27:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* iseq.c (iseq_data_to_ary): internal IDs must not be exposed.\n\t  [ruby-core:11073]\n\n\t* parse.y (internal_id_gen): now returns scope local ID instead of\n\t  global one.\n\nThu May 10 15:15:53 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_super.rb: add tests.\n\nThu May 10 15:14:05 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_s_conv): rdoc fix.\n\nThu May 10 15:09:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (POINTER_P): pointer may be larger than long.\n\n\t* parse.y (vtable_size, vtable_included, vtable_tblcpy,\n\t  vtable_to_tbl): constified.\n\nThu May 10 10:13:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (rb_thread_priority): rdoc fix; the initial value is\n\t  inherited from the creating thread.  [ruby-core:10607]\n\nWed May  9 12:28:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (Init_Bignum), numeric.c (Init_Numeric): added fdiv as\n\t  aliases of quo.  [ruby-dev:30771]\n\nTue May  8 23:39:09 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (Date._parse): revised treatment of\n\t  hyphened/separatorless dates.\n\n\t* lib/date/format.rb: some trivial adjustments.\n\nTue May  8 20:23:07 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: reverted.\n\nTue May  8 19:32:18 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/rational.rb: fix high-precision Rationals cannot be\n\t  converted to Floats. [ruby-Bugs:10502], [ruby-core:11069],\n\t  [ruby-dev:30743]\n\nMon May  7 10:59:55 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/image.rb, test/rss/test_image.rb: fixed Image module\n\t  namespace URI. reported by Dmitry Borodaenko. Thanks.\n\nSun May  6 18:44:11 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (Net::HTTP.post_form): allow an Array of String\n\t  for pairs argument. [ruby-Bugs:10340]\n\n\t* lib/net/http.rb (Net::HTTP#set_form_data): ditto.\n\nSun May  6 17:54:36 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: Connection header field might include both of\n\t  \"keep-alive\" token and \"close\" token. [ruby-core:10818]\n\nSat May  5 16:26:33 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/date/format.rb (Format::Bag#method_missing): get rid of\n\t  modifying original argument.  [ruby-core:11090]\n\nThu May  3 22:20:08 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, defines.h, eval_load.c (rb_feature_p, rb_provided,\n\t  search_required, rb_require_safe), ext/extmk.rb: Fix\n\t  a bug where a statically linked extension cannot be autoloaded.\n\t  [ruby-dev:30023] / [ruby-dev:30239]\n\n\t* thread.c: added an internal class, Barrier.\n\n\t* thread.c: copied rdocs from fastthread.\n\n\t* yarvcore.h (struct rb_vm_struct): moved loading_table from global.\n\nThu May  3 18:10:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* vm_evalbody.ci, insns.def, vm.c, tool/insns2vm.rb (rb_num_t):\n\t  renamed to get rid of name clash.  [ruby-dev:30504]\n\n\t* yarvcore.c (ruby_thread_init): ditto.\n\nWed May  2 18:52:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c, yarvcore.h, yarvcore.c, insns.def: fix to mark VM stack\n\t  in correct range.\n\nWed May  2 17:13:26 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_quo): now calculate in integer.  [ruby-dev:30753]\n\nWed May  2 15:14:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_method.h: add redefine checks ([ruby-dev:30751]).\n\nWed May  2 11:22:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: use Qtrue instead of 2.\n\n\t* vm.c, insns.def: support \"lambda\" calling convention.\n\nWed May  2 06:46:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c, parse.y, ruby.h (rb_compile_warn, rb_compile_warning): warn\n\t  for compilation.  the parser should no longer use rb_warn() and\n\t  rb_warning().  [ruby-dev:30121]\n\nWed May  2 05:45:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (assoc): result of assoc_new needs to be an assoc.\n\nWed May  2 05:40:43 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): improvement by calculating from MSB and using\n\t  factorization.  <http://yowaken.dip.jp/tdiary/20070426.html#p01>\n\nTue May  1 18:45:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* sample/test.rb: import matzruby's sample/test.rb.\n\nTue May  1 17:46:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_choice): a new method to choose an element\n\t  randomly from an array.\n\n\t* array.c (rb_ary_choice): fixed mistake from RDoc.\n\nTue May  1 13:59:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c (proc_arity): fix an arity bug ([ruby-core:11060]).\n\nTue May  1 13:12:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h, compile.c (set_arguments): support post arguments.\n\n\t* test/ruby/test_method.rb: add tests for above.\n\n\t* test/ruby/test_proc.rb: ditto.\n\n\t* proc.c: fix an arity bug ([ruby-core:11029]).\n\n\t* vm.c, vm.h, insns.def, vm_dump.h: fix bmethod process.\n\n\t* vm.c: support block argument on block parameter.\n\nFri Apr 27 17:05:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (int_pow): bugfix of overflow detection.\n\n\t* numeric.c (int_pow): rb_big_pow() may return other than Bignum.\n\nFri Apr 27 01:51:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c: support multiple splat (e.g, [a, *b, *c, e, *f]).\n\nFri Apr 27 00:03:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): truncate all zero BDIGITs. [ruby-dev:30733]\n\nThu Apr 26 17:31:00 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): reduce multiplying for even number.\n\n\t* numeric.c (int_pow): calculate power in Fixnum as possible.\n\t  [ruby-dev:30726]\n\nThu Apr 26 17:18:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y: fixes for ripper.\n\n\t* parse.y (primary): reduced duplicated code.\n\n\t* parse.y (f_arg_item): should not override by meaningless value.\n\n\t* parse.y (f_arg, assocs): should not use $$ before assigned.\n\n\t* parse.y (assoc_list): dispatch assoclist_from_args for assocs as\n\t  well as args.\n\n\t* parse.y (assoc): return assoc if dispatched result is $1.\n\nThu Apr 26 13:54:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-style.el: new file.  C/C++ style for ruby source code.\n\nWed Apr 25 19:49:16 2007  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (unix_send_io, unix_recv_io): use CMSG_DATA to\n\t  align file descriptor appropriately.\n\nWed Apr 25 15:23:29 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (NtInitialize, exit_handler): add initializing and\n\t  cleanup of critical section object for select.\n\n\t* win32/win32.c (do_select): block reentrance.\n\n\t* win32/win32.c (rb_w32_select): 0 sec polling of socket. this is\n\t  workaround because winsock cannot do select at same socket at the\n\t  same time by two or more threads.\n\nWed Apr 25 14:10:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/probeprofiler/probeprofiler.c: fix function name and\n\t  return value.\n\nWed Apr 25 12:42:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h: remove rb_control_frame_t#callee_id.\n\n\t* vm_macro.def: ditto.\n\n\t* eval_intern.h (exec_event_hooks): fix to check event flags\n\n\t* eval_intern.h (EXEC_EVENT_HOOK): fix to re-check event flags.\n\n\t* ext/probeprofiler : added.  this profiler is sampling based\n\t  profiler.\n\n\t* vm.c: add rb_thread_current_status() API for probeprofiler.\n\n\t* thread.c (rb_thread_execute_interrupts): add comments.\n\nWed Apr 25 10:36:03 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_intern.h (PUSH_TAG): no argument now.\n\n\t* eval.c, eval_error.h, eval_jump.h, eval_load.c, proc.c, thread.c:\n\t  ditto.\n\n\t* thread.c (alloc_event_hook, rb_thread_remove_event_hook): should\n\t  return value.\n\nTue Apr 24 09:33:57 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (do_stat, do_lstat, do_opendir): should not warn ENOTDIR.\n\t  [ruby-talk:248288]\n\nMon Apr 23 22:14:42 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb ($ruby): add extout directory to include path.\n\t  [ruby-core:11003]\n\n\t* lib/mkmf.rb (libpathflag): not to append RPATHFLAG to current\n\t  directory.\n\n\t* lib/mkmf.rb (init_mkmf): add current directory to default\n\t  library path with highest priority.  [ruby-core:10960]\n\n\t* lib/mkmf.rb (LINK_SO): LIBPATH to be placed before DLDFLAGS.\n\nFri Apr 20 16:05:22 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LIBPATHFLAG, RPATHFLAG): no needs to be quoted,\n\t  it is done by libpathflag in mkmf.rb.\n\nFri Apr 20 12:27:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb: fix to override conv proc.\n\nFri Apr 20 12:21:28 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): fixed access to out of bound, and inverted\n\t  the order of errinfos.\n\nFri Apr 20 10:33:23 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h: add prototypes of rb_sourceline() and\n\t  rb_sourcefile().\n\nFri Apr 20 02:37:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): re-send signal.  [ruby-dev:30516]\n\n\t* eval_error.h (error_handle): no message when exiting by signal.\n\n\t* intern.h (rb_thread_signal_raise, ruby_default_signal): prototypes.\n\n\t* signal.c (esignal_init): takes a signal number and an optional\n\t  signal name.\n\n\t* signal.c (interrupt_init): pass SIGINT always.\n\n\t* signal.c (ruby_default_signal): invoke system default signal\n\t  handler.\n\n\t* signal.c (rb_f_kill): use NUM2PIDT instead of NUM2INT.\n\n\t* signal.c (rb_signal_exec, trap): handle SIGTERM.  [ruby-dev:30505]\n\n\t* thread.c (rb_thread_signal_raise): now takes signal number instead\n\t  of signal name.\n\n\t* thread.c (rb_thread_signal_exit): since rb_make_exception() calls\n\t  #exception method, rb_class_new_instance() is not needed here.\n\n\t* yarvcore.h (struct rb_vm_struct), eval_jump.h (terminate_process):\n\t  exit_code is no longer stored in VM.\n\nThu Apr 19 18:37:49 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, node.h, thread.c, yarvcore.[ch], eval_intern.h:\n\t  support set_trace_func (incomplete.  id and klass\n\t  don't be passed).  And support Thread#set_trace_func\n\t  which hook only specified thread and Thread#add_trace_func\n\t  which add new trace func instead of replace old one.\n\t  C level API was modified.  See thread.c (logic) and\n\t  yarvcore.h (data structures).\n\n\t* vm.c, vm_macro.def: add hook points.\n\n\t* compile.c, insns.def: fix \"trace\" instruction.\n\n\t* iseq.c, vm_macro.h: add compile option \"trace_instruction\".\n\n\t* test/ruby/test_settracefunc.rb: hook \"c-return\" of set_trace_func.\n\nThu Apr 19 20:57:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (symbol): symbols should be followed by EXPR_ENDARG.\n\n\t* parse.y (dsym): ditto.\n\n\t* parse.y (parser_yylex): strings should be followed by\n\t  EXPR_ENDARG.\n\n\t* parse.y (parser_yylex): ditto for numbers.\n\n\t* parse.y (parser_yylex): EXPR_ENDARG after ']' and '}'.\n\nThu Apr 19 17:46:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/optparse.rb: fix to override conv proc.\n\nWed Apr 18 10:41:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (ruby_strtod): exponent is radix 10.  [ruby-talk:248272]\n\nWed Apr 18 02:50:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* yarvcore.c (th_init2): push initial blockptr value for\n\t  rb_block_given_p() outside ruby_exec().  [ruby-core:10923]\n\nWed Apr 18 02:30:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LDFLAGS): prepend -L. instead appending it to\n\t  XLDFLAGS.  [ruby-core:10933]\n\n\t* configure.in (Makefile): remove $U for automake from MISSING.\n\t  [ruby-talk:248171]\n\nMon Apr 16 22:56:01 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/pty/expect_sample.rb: avoid symbolic link representation for\n\t  expect.  a patch from Kazuhiro NISHIYAMA <zn at mbf.nifty.com>.\n\t  [ruby-dev:30714]\n\nMon Apr 16 22:51:11 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample: replace TRUE, FALSE with true, false respectively.\n\t  a patch from Kazuhiro NISHIYAMA <zn at mbf.nifty.com>.\n\t  [ruby-dev:30713]\n\nMon Apr 16 17:08:02 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (make_switch): do not clobber converter if pattern\n\t  has no convert method.  reported by sheepman in [ruby-dev:30709].\n\nMon Apr 16 16:49:32 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_seek): consistent behavior with\n\t  IO#seek.  patch by sheepman in [ruby-dev:30710].\n\nMon Apr 16 16:34:08 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): should set command_start after block\n\t  starting \"do\"s and braces.  [ruby-core:10916]\n\nMon Apr 16 10:51:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_each_with_index): each_with_index to forward\n\t  arguments to each.  [ruby-core:10921]\n\nMon Apr 16 10:43:10 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_arg): should allow to specify 24:00.\n\t  [ruby-core:10915]\n\nSun Apr 15 09:12:54 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: added some zone names.\n\n\t* lib/date/format.rb (_parse): now interprets doted numerical\n\t  dates as a big endian (except dd.mm.yyyy).\n\nThu Apr 12 17:13:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (mutex_try_lock): check and set owner thread.\n\n\t* thread_pthread.ci: fix to show error code in error message.\n\nThu Apr 12 17:11:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_rescue2): restore cfp ([ruby-dev:30582]).\n\nThu Apr 12 16:06:48 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c (rb_protect): restore cfp ([ruby-dev:30671]).\n\nThu Apr 12 16:04:31 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): check node->nd_state == 1, not !0.\n\nWed Apr 11 16:35:16 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.[ch] (rb_w32_enter_critical, rb_w32_leave_critical): no\n\t  need to reject reentrance. removed.\n\n\t* rubysig.h (RUBY_CRITICAL): follow above changes.\n\n\t* rubysig.h (TRAP_BEG, TRAP_END): no need to save errno.\n\nTue Apr 10 17:02:17 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_fclose, rb_w32_close): need to save errno\n\t  before calling original fclose()/close().\n\nTue Apr 10 16:14:22 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_win32.ci (w32_wait_events): check whether interrupt_event is\n\t  valid handle or not.\n\n\t* thread_win32.ci (native_thread_destroy): clear interrupt_event when\n\t  close it.\n\nTue Apr 10 15:53:17 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread_pthread.ci (native_thread_create): initialize sleep_cond.\n\t  fixed: [ruby-dev:30675]\n\nMon Apr  9 18:48:57 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread.c (do_select): ubf_select() is not necessary. interrupt is\n\t  checked in the loop.\n\nMon Apr  9 18:27:26 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread.c (do_select): use ubf_select() as UBF on windows.\n\n\t* win32/win32.c (do_select): shouldn't call catch_interrupt() here.\n\t  fixed: [ruby-dev:30674], reported by wanabe.\n\nMon Apr  9 09:24:32 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (disconnect): call shutdown for\n\t  SSLSocket. Thanks, Technorama Ltd.\n\nSun Apr  8 13:28:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (defined_expr): test arguments of NODE_CALL and so\n\t  on as well as NODE_ATTRASGN.  [ruby-core:10886]\n\nFri Apr  6 10:56:29 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl_pkey_ec.c (ossl_ec_key_get_group): get rid of\n\t  warning. we are aware of it.\n\nFri Apr  6 04:00:24 2007  Technorama Ltd.  <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_{bn,x509{attr,cert,name,store}}.c:\n\t  Add documentation.\n\nThu Apr  5 17:59:19 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* compile.c (defined_expr): support for assignment.\n\t  [ruby-core:10867]\n\n\t* compile.h (ADD_CATCH_ENTRY): removed temporary variable.\n\nThu Apr  5 15:13:34 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl_ssl_session.c (ossl_ssl_session_alloc): should\n\t  return value.\n\nThu Apr  5 14:58:49 2007  Technorama Ltd. <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_pkcs5.c: New module.\n\n\t* ext/openssl/ossl_{cipher,digest,pkcs7,pkcs12}.c:\n\t  Remove redundant module namespace.\n\n\t* ext/openssl/lib/openssl/{cipher,digest}.rb\n\t  Add backwards compatible classes for rearranged classes.\n\n\t* ext/openssl/ossl_{pkcs7,pkcs12}.c: Add documentation.\n\nThu Apr  5 00:42:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (rb_notimplement), io.c (pipe_open): removed definite\n\t  articles and UNIX manual section from messages.  [ruby-dev:30690]\n\nWed Apr  4 17:09:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open): refined the message of NotImplementedError.\n\t  [ruby-dev:30685]\n\nWed Apr  4 12:29:02 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* error.c (rb_notimplement): should show the name of this func,\n\t  not callee.\n\nWed Apr  4 10:18:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (popen_exec): should not close close-on-exec FDs.\n\t  [ruby-dev:30679]\n\n\t* io.c (pipe_open): raise NotImplementedError for command \"-\" on\n\t  platforms where fork(2) is not available.  [ruby-dev:30681]\n\nTue Apr  4 04:17:18 2007  Technorama Ltd. <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_ssl.c: Add documentation.\n\nTue Apr  3 16:22:24 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/extconf.rb: check for functions added in 1.9.\n\n\t* ext/openssl/ruby_missing.h: check per features instead by\n\t  checking version code.  [ruby-core:10845]\n\nTue Apr  3 16:02:44 2007  Technorama Ltd. <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_bn.c: More documentation.\n\n\t* ext/openssl/lib/ossl_{pkey,pkey_ec}.[ch]: Add elliptic curves.\n\nTue Apr  3 15:50:41 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (s_recv, s_recvfrom): some systems (such as\n\t  windows) doesn't set fromlen if the socket is connection-oriented.\n\t  reported by Bram Whillock in [ruby-core:10512] [ruby-Bugs#9061]\n\nTue Apr  3 09:36:55 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ruby_missing.h: need to include version.h to check\n\t  RUBY_VERSION_CODE.\n\nMon Apr  3 07:10:12 2007  Technorama Ltd. <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_{ssl.[ch],ssl_session.c},\n\t  ext/openssl/lib/openssl/lib/openssl/ssl.rb:\n\t  New SSL::Session class.  Add session cb's, getter/setters,\n\t  config, and statistics methods.\n\nMon Apr  3 04:00:23 2007  Technorama Ltd. <oss-ruby@technorama.net>\n\n\t* ext/openssl/{ossl.[ch],ossl_pkey.c} Add documentation.\n\n\t* ext/openssl/ossl_hmac.c Add reset method.\n\n\t* ext/openssl/ossl_cipher.c (Cipher#update) Take additional\n\t  buffer argument.\n\n\t* ext/openssl/{ossl_bio.c,ossl_ssl.c,ruby_missing.h}\n\t  compatibility with 1.8.\n\nMon Apr  2 21:55:12 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* insns.def (throw), thread.c, yarvcore.h (throwed_errinfo): fixed\n\t  typo.\n\nFri Mar 30 11:46:51 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_cmdvector): fixed buffer size. reported by\n\t  wanabe [ruby-dev:30672]\n\n\t* win32/win32.c (init_env, insert, rb_w32_get_environ): use strdup\n\t  instead of malloc + strlcpy. suggested by nobu [ruby-dev:30673]\n\nFri Mar 30 02:29:04 2007  Technorama  <oss-ruby@technorama.net>\n\n\t* ext/openssl/ossl_{bn,cipher,digest,hmac,rand,pkey_{dh,dsa,rsa}}.c:\n\t  Add Documentation for various methods.\n\n\t* ext/openssl/lib/openssl/cipher.rb: Ditto\n\n\t* ext/openssl/ossl_bn.c: add lshift! and rshift! methods.\n\n\t* ext/openssl/ossl_digest.c: GetDigestPtr() also accept a string.\n\nFri Mar 23 11:28:24 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (init_env, insert, cmdglob, rb_w32_cmdvector,\n\t  rb_w32_opendir, rb_w32_readdir, rb_w32_strerror, rb_w32_stati64,\n\t  rb_w32_get_environ): use strlcpy() and strlcat().\n\n\t* win32/win32.c (rb_w32_opendir): use realloc() instead of xrealloc().\n\n\t* win32/win32.c (rb_w32_closedir): check NULL before free pointers.\n\nFri Mar 23 00:24:52 2007  Keiju Ishitsuka <keiju@ruby-lang.org>\n\n\t* lib/shell: commit miss(support for ruby 1.9(YARV) thread model).\n\nThu Mar 22 13:32:17 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (LIBS): remove an unnecessary library.\n\nThu Mar 22 10:27:58 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_bignum.rb (test_to_s): add tests for Bignum#to_s.\n\nWed Mar 21 20:38:06 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* marshal.c (w_short, w_long, w_object): get rid of VC++ warnings.\n\nWed Mar 21 20:05:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, parse.y, eval.c, intern.h, iseq.c, lex.c, node.h,\n\t  proc.c, vm.c, vm_macro.def, vm_macro.def, yarvcore.c, yarvcore.h,\n\t  debug.c, debug.h: merge half-baked-1.9 changes.  The biggest change\n\t  is to change node structure around NODE_SCOPE, NODE_ARGS.  Every\n\t  scope (method/class/block) has own NODE_SCOPE node and NODE_ARGS\n\t  represents more details of arguments information.  I'll write a\n\t  document about detail of node structure.\n\nWed Mar 21 17:04:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): round up for the most significant digit.\n\t  [ruby-core:10686]\n\nTue Mar 21 08:20:00 2007  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* test/testunit/collector/test_dir.rb: Fixed test/unit tests that\n\t  were breaking due to Module#public_instance_methods now\n\t  returning a Symbol instead of a String.\n\n\t* test/testunit/collector/test_objectspace.rb: Ditto.\n\nTue Mar 20 22:54:50 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_extended): erroneous check condition when dump\n\t  method is defined.  [ruby-core:10646]\n\nTue Mar 20 21:36:47 2007  Keiju Ishitsuka <keiju@ruby-lang.org>\n\n\t* lib/shell.rb, lib/shell: support for ruby 1.9(YARV) thread model.\n\nTue Mar 20 16:36:08 2007  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* distruby.rb: Add zip generation.\n\nTue Mar 20 16:20:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_callee_name): add __method__ and __callee__ again.\n\t  __callee__ need to rework to adopt YARV.  [ruby-core:10671]\n\nTue Mar 20 11:09:00 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb: Revise rdoc.\n\n\t* lib/set.rb (Set#freeze, Set#taint, Set#untaint): Implement\n\t  Set#freeze, Set#taint, and Set#untaint; requested by: Dan\n\t  Hutchings <dan AT moltoagitato.com> in [ruby-bugs:PR#9359].\n\nTue Mar 20 09:13:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_fork): flush stdouts always before fork(2).\n\t  fixed: [ruby-dev:30612]\n\nTue Mar 20 01:38:48 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* thread.c (thread_start_func_2): store the result of first_func\n\t  as well as first_proc.\n\n\t* thread.c (thread_create_core): block is not used if first_func\n\t  is given.\n\nMon Mar 19 16:58:52 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* missing/{strlcat,strlcpy}.c, missing.h: new functions.\n\n\t* LEGAL: add copyright notice about above files.\n\n\t* configure.in: check whether strlcat and strlcpy are exist or not.\n\n\t* {bcc32,win32,wince}/Makefile.sub: use above files.\n\nMon Mar 19 14:12:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/matrix.rb (Matrix::inverse_from): adding partial pivoting to\n\t  the Gauss-Jordan algorithm, making it stable.  a patch from\n\t  Peter Vanbroekhoven.  [ruby-core:10641]\n\nMon Mar 19 12:13:36 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regparse.c, etc.: K&R to ANSI code cleanup patch from Stefan\n\t  Huehner <stefan at huehner.org>.  [ruby-core:10543]\n\nMon Mar 19 11:27:13 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb (rbuf_read): extend buffer size for speed.\n\nSun Mar 18 08:31:51 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/dir.h, win32/win32.c (rb_w32_opendir, rb_w32_readdir,\n\t  rb_w32_closedir): get rid of possible buffer-overflows.\n\nSat Mar 17 19:10:39 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss, test/rss:\n\t- supported Atom.\n\t- bumped version 0.1.6 to 0.1.7.\n\t* sample/rss/convert.rb: added new sample.\n\nFri Mar 16 22:32:20 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb: change default verification mode from\n\t  VERIFY_PEER to VERIFY_NONE because most POPS server does not have\n\t  true certification.\n\nFri Mar 16 22:19:24 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE#ole_activex_initialize,\n\t  a little bit supporting ActiveX control. [ruby-talk:241188]\n\nFri Mar 16 22:16:58 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: merge Ruby-SSPI patch contributed by Justin\n\t  Bailey.\n\n\t* ext/Win32API/lib/win32/sspi.rb: new file.\n\nWed Mar 14 12:30:00 2007  Shigeo Kobayashi  <shigeo@tinyforest.jp>\n\n\t* ext/bigdecimal/bigdecimal.c: BigDecimal(\"-.31\") is now\n\t  treated as (\"-0.31\") not as (\"0.31\").\n\nTue Mar 13 19:04:30 2007  Keiju Ishitsuka <keiju@ruby-lang.org>\n\n\t* lib/sync.rb: support for ruby 1.9(YARV) thread model.\n\nTue Mar 13 09:25:10 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (clear-installed-list): separated from install-prereq.\n\nTue Mar 13 07:23:20 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb (mon_try_enter): call @mon_muetx.try_lock.\n\t  Thanks, Keiju ISHITSUKA. [ruby-dev:30507]\n\nTue Mar 13 02:42:58 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/cgi.rb (CGI::header): IIS >= 5.0 does not need the nph\n\t  assumption any more; submitted by MIYASAKA Masaru <alkaid AT\n\t  coral.ocn.ne.jp> in [ruby-dev:30537].\n\nMon Mar 12 10:53:28 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/openssl/ossl_asn1.c (Init_ossl_asn1): Let rdoc know about\n\t  externally defined modules; submitted by Technorama\n\t  Ltd. <oss-ruby AT technorama.net> in [ruby-bugs:PR#4704].\n\n\t* ext/openssl/ossl_bn.c (Init_ossl_bn): Ditto.\n\n\t* ext/openssl/ossl_cipher.c (Init_ossl_cipher): Ditto.\n\n\t* ext/openssl/ossl_digest.c (Init_ossl_digest): Ditto.\n\n\t* ext/openssl/ossl_hmac.c (Init_ossl_hmac): Ditto.\n\n\t* ext/openssl/ossl_pkey.c (Init_ossl_pkey): Ditto.\n\n\t* ext/openssl/ossl_pkey_dh.c (Init_ossl_dh): Ditto.\n\n\t* ext/openssl/ossl_pkey_dsa.c (Init_ossl_dsa): Ditto.\n\n\t* ext/openssl/ossl_pkey_rsa.c (Init_ossl_rsa): Ditto.\n\n\t* ext/openssl/ossl_rand.c (Init_ossl_rand): Ditto.\n\n\t* ext/openssl/ossl_ssl.c (Init_ossl_ssl): Ditto.\n\nSun Mar 11 18:42:01 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* misc/ruby-mode.el (ruby-block-end-re): Support for the\n\t  experimental ';;' terminator had been dropped.\n\nSun Mar 11 05:45:46 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* misc/README, misc/rdebug.el: Add rdebug.el, Emacs ruby-debug\n\t  interface based on rubydb3x.el; submitted by Martin Nordholts\n\t  <enselic AT gmail.com> in [ruby-bugs:PR#9023].\n\nSat Mar 10 07:20:28 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_TYPELIB#library_name,\n\t  WIN32OLE_TYPELIB#visible?.\n\n\t* test/win32ole/test_win32ole_typelib.rb: ditto.\n\nThu Mar  8 09:17:59 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* compile.c: iseq_compile -> rb_iseq_compile.\n\n\t* iseq.c: ditto.\n\n\t* intern.h: provide function prototype of Init_jump.\n\n\t* eval_jump.h (Init_jump): declare function type.\n\n\t* thread.c: platform-dependent functions should be surrounded by #ifdef.\n\n\t* iseq.c (iseq_data_to_ary): remove unused variable.\n\n\t* compile.c (set_arguments): ditto.\n\n\t* thread.c (set_unblock_function): ditto.\n\n\t* thread_pthread.ci: reduce printf warning.\n\n\t* vm_dump.c: ditto.\n\nTue Mar  6 16:35:04 2007  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/shell/process-controller.rb: fix thread synchronization problem for [ruby-dev:30477].\n\nTue Mar  6 11:53:25 2007  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/irbtkw.rbw: fails to exit process.\n\nTue Mar  6 10:23:09 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* runruby.rb: added --pure (turned on by default) and --debugger\n\t  options.\n\nMon Mar  5 09:19:33 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/timeout.rb (Timeout.timeout): should return the block value\n\t  always.\n\n\t* lib/timeout.rb (Timeout.timeout): should yield sec argument\n\t  always.\n\n\t* lib/timeout.rb (Timeout.timeout): fix document.\n\nMon Mar  5 09:16:40 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: support automatic STARTTLS.\n\n\t* lib/net/smtp.rb: check server advertisement.\n\n\t* lib/net/smtp.rb: introduce new class SMTP::Response.\n\n\t* lib/net/smtp.rb (getok): should not use sprintf.\n\n\t* lib/net/smtp.rb (get_response): ditto.\n\n\t* lib/net/protocol.rb: reduce syntax warning on 1.9.\n\nMon Mar  5 07:13:28 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: reconstruct SMTPS/STARTTLS interface.  New\n\t  interface is incompatible from current 1.9 interface at all.\n\n\t* lib/net/smtp.rb: All SSL-related class methods are removed; use\n\t  instance methods instead.\n\n\t* lib/net/smtp.rb: rename methods: *ssl -> *tls (with alias\n\t  \"ssl\").\n\n\t* lib/net/smtp.rb: rename methods: *tls -> *starttls.\n\nMon Mar  5 01:36:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_yylex), win32/win32.c (rb_w32_utime): fixed\n\t  indentation broken at YARV merger.\n\nSun Mar  4 23:41:14 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_stat_uid, rb_stat_gid, eaccess): use rb_uid_t and\n\t  rb_gid_t instead of int.\n\n\t* file.c (rb_stat_s_utime): fixed a commit miss for the platforms\n\t  where utimes() does not exist.\n\n\t* lib/fileutils.rb (touch): ditto.\n\nSun Mar  4 14:46:56 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* util.c (push_element): should return a int value.\n\nSun Mar  4 01:01:25 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#^, Set#&): Correct documentation.  Those methods\n\t  return sets, not arrays; noted by Oliver Frank Wittich <nietz AT\n\t  mangabrain.de>.\n\nSat Mar  3 22:54:33 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (touch): last #touch change causes error when\n\t  :mtime option was not given.\n\nSat Mar  3 22:51:29 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mv): could not move directory between\n\t  different file systems. [ruby-dev:30411]\n\nSat Mar  3 22:37:02 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_utime): allow nil to set the current time.\n\n\t* lib/fileutils.rb (touch): ditto, and added :mtime and :nocreate\n\t  options.  fixed: [ruby-talk:219037]\n\nSat Mar  3 15:52:26 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* object.c (instance_variable_get): Restore rdoc markups lost in\n\t  the last commit.\n\nFri Mar  2 21:17:14 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (get_ptr_of_variant, ole_set_safe_array,\n\t  ole_val2ptr_variant, ole_val2olevariantdata, ole_variant2val,\n\t  ): fix some bugs of WIN32OLE_VARIANT.new when variant type is\n\t  VT_ARRAY|VT_BSTR or VT_BYREF.\n\n\t* ext/win32ole/win32ole.c (folevariant_s_array, folevariant_initialize):\n\t  WIN32OLE_VARIANT#[], WIN32OLE_VARIANT#[]=, WIN32OLE_VARIANT#value=\n\t  is defined as instance method of WIN32OLE_VARIANT.\n\n\t* test/win32ole/test_win32ole_variant.rb: add some test for\n\t  VT_ARRAY, VT_BYREF variant type.\n\nFri Mar  2 07:58:24 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_ivar_set): RDoc updated according to a\n\t  suggestion from Brian Candler <B.Candler AT pobox.com>.\n\t  [ruby-core:10469]\n\nThu Mar  1 21:38:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt, arg): should not omit lhs of OP_ASGN1 even if\n\t  empty.  [ruby-dev:30455]\n\nThu Mar  1 02:55:25 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (get_digest_base_metadata): Allow inheriting\n\t  Digest::Base subclasses, which was unintentionally made\n\t  impossible while restructuring Digest classes.\n\nThu Mar  1 02:05:17 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb (patchlevel): read from version.h.\n\nWed Feb 28 21:15:00 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_fcntl): fcntl support for MinGW.\n\n\t* missing/flock.c: workaround for MinGW.\n\nWed Feb 28 20:51:32 2007  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* pack.c (pack_unpack): properly ignore non-base64 octets such as\n\t  UTF-8 encoded BOMs; submitted by SOUMA Yutaka <holon@radastery.jp>\n\t  to fix [ruby-core:10437]\n\nWed Feb 28 18:31:51 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/extconf.rb: no need to check unistd.h and sys/time.h.\n\t  they are already checked at configure.\n\t  reported by KOBAYASHI Yasuhiro [ruby-list:43225]\n\nWed Feb 28 18:23:43 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb ($DEFLIBPATH): default library paths ($(topdir), etc)\n\t  should be the first elements of library paths list.\n\t  reported by KOBAYASHI Yasuhiro [ruby-list:43225]\n\nWed Feb 28 10:33:58 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, configure.in, */Makefile.sub (THREAD_MODEL): system\n\t  specific thread model.\n\n\t* compile.h, regint.h, vm.h, array.c: removed unnecessary #include.\n\nWed Feb 28 04:03:03 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (take_i): small cosmetic / documentation patch from\n\t  Tadashi Saito <shiba AT mail2.accsnet.ne.jp>. [ruby-dev:30446]\n\nWed Feb 28 01:20:18 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/{dbm,gdbm}/test_{dbm,gdbm}.rb: shouldn't use host_os. use\n\t  target_os instead. reported by KOBAYASHI Yasuhiro [ruby-list:43225]\n\nWed Feb 28 00:08:11 2007  URABE Shyouhei  <shyouhei@ice.uec.ac.jp>\n\n\t* mkconfig.rb (RbConfig): add CONFIG['PATCHLEVEL']\n\n\t* common.mk: new target dist\n\n\t* distruby.rb: new file\n\nTue Feb 27 22:18:45 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (--enable-auto-image-base): avoid the necessity to\n\t  rebase the shared libs as much as possible;\n\t  submitted by Corinna Vinschen <spam at vinschen.de> in\n\t  [ruby-talk:240964].\n\nTue Feb 27 21:36:47 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* util.c (__crt0_glob_function): use ruby_glob() instead of rb_globi().\n\nTue Feb 27 21:33:04 2007  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_setrlimit): workaround for djgpp.\n\nTue Feb 27 20:35:28 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (error.c, process.c): depend on yarvcore.h and rubysig.h.\n\nTue Feb 27 19:26:31 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/nkf/nkf.c (rb_str_resize, rb_nkf_kconv, rb_nkf_guess1,\n\t  rb_nkf_guess2): Silence warnings regarding char * vs. unsigned\n\t  char * mismatch; submitted by Lyle Johnson\n\t  <lyle.johnson@gmail.com> in [ruby-core:10416].\n\nTue Feb 27 19:15:01 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/base64.rb (Base64::b64encode): Fix documentation; submitted\n\t  by David Symonds <dsymonds@gmail.com> in [ruby-core:10432].\n\nTue Feb 27 18:59:42 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_load): Silence warnings\n\t  regarding char * vs. unsigned char * mismatch; submitted by Lyle\n\t  Johnson <lyle.johnson@gmail.com> in [ruby-core:10416].\n\n\t* ext/digest/sha1/sha1ossl.c (SHA1_Finish): Ditto.\n\n\t* ext/digest/rmd160/rmd160ossl.c (RMD160_Finish): Ditto.\n\n\t* ext/digest/digest.c (rb_digest_base_finish,\n\t  rb_digest_base_update): Ditto.\n\nTue Feb 27 18:12:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_take): new method.  [ruby-dev:30407]\n\n\t* enum.c (enum_drop): ditto.\n\nTue Feb 27 07:47:24 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h, vm.h: rename th_invoke_yield() to th_yield().\n\n\t* blockinlining.c: ditto.\n\n\t* eval.c: ditto.\n\n\t* vm.c, insns.def: rename th_invoke_yield_cfunc()\n\t  to th_yield_with_cfunc().\n\n\t* yarvcore.h, yarvcore.c: rename theYarvVM to ruby_current_vm and\n\t  yarvCurrentThread to ruby_current_thread.  remove yarvVMArray.\n\nTue Feb 27 00:45:23 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_optimization.rb: restore method before calling\n\t  assert_equal.\n\nMon Feb 26 00:58:39 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h: add rb_thread_t#top_wrapper, top_self.\n\n\t* eval_load.c (rb_load): support eval in wrapper module\n\t  (load(file, true)).\n\n\t* eval.c: ditto.\n\n\t* eval_jump.h: ditto.\n\n\t* iseq.c: ditto.\n\n\t* vm.c: ditto.\n\n\t* yarvcore.c: ditto.\n\n\t* insns.def: add a empty line.\n\nMon Feb 26 00:54:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: change \"gdb\" rule.  You can debug miniruby with\n\t  $(srcdir)/test.rb on gdb by this rule (type \"make gdb\").\n\t  If you write break points to \"breakpoints.gdb\" on $srcdir,\n\t  gdb runs with this file.\n\nSun Feb 25 11:46:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* win32/Makefile.sub: enable -Zi (debug) option.\n\nSun Feb 25 11:38:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.h: define RUBY_VM macro and remove NATIVETHREAD* macros.\n\n\t* intern.h: ditto.\n\n\t* signal.c (posix_signal): remove unused function\n\t  posix_nativethread_signal().\n\nSun Feb 25 11:31:13 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_run): fix to ANSI style.\n\nSun Feb 25 11:09:16 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/runner.rb: show source code in error message.\n\nSun Feb 25 09:39:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h:\n\t  rename:\n\t    rb_iseq_t#file_name -> filename\n\t    rb_iseq_t#local_tbl -> local_table\n\t  add:\n\t    rb_iseq_t#local_table_size\n\n\t* compile.c: separate local_table_size and local_size\n\t  (local variable size)\n\n\t* blockinlining.c: apply above rename.\n\n\t* compile.h: ditto.\n\n\t* eval.c: ditto.\n\n\t* iseq.c: ditto.\n\n\t* proc.c: ditto.\n\n\t* vm.c: ditto.\n\n\t* vm_dump.c: ditto.\n\nSun Feb 25 10:27:17 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/runner.rb: add lib/ to load path.\n\nSat Feb 25 10:16:50 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* rubyio.h (HAVE_RB_IO_T): macro to tell if rb_io_t is defined.\n\nSat Feb 24 19:39:16 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* common.mk: new target \"btest\", to run bootstraptests.\n\nSat Feb 24 19:30:40 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c, gc.c, io.c, ruby.h, rubyio.h, win32/win32.h (rb_io_t):\n\t  renamed from OpenFile.\n\n\t* ext/dl/cptr.c, ext/io/wait/wait.c, ext/openssl/ossl.h,\n\t  ext/openssl/ossl_bio.c, ext/openssl/ossl_ssl.c, ext/pty/pty.c,\n\t  ext/readline/readline.c, ext/socket/socket.c: ditto.\n\nSat Feb 24 19:28:23 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/runner.rb: new option -v,--verbose.\n\nSat Feb 24 18:55:50 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* yarvtest/test_method.rb: removed (merged to bootstraptest).\n\n\t* yarvtest/test_class.rb: ditto.\n\nSat Feb 24 18:44:39 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/test_class.rb: new file.\n\n\t* bootstraptest/test_method.rb: add tests.\n\nSat Feb 24 18:44:30 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (rb_thread_blocking_region): add prototype.\n\n\t* file.c (rb_thread_flock, rb_file_flock): use UBF feature.\n\n\t* process.c (rb_waitpid_blocking, rb_waitpid): use UBF feature.\n\n\t* thread.c (rb_thread_debug): added runtime debugging flag.\n\n\t* thread.c (BLOCKING_REGION): restore previous UBF.\n\n\t* thread.c (rb_thread_blocking_region): default UBF to interrupt\n\t  in system dependent way by RB_UBF_DFL.\n\t  + ubf_select() on posix system\n\t  + ubf_handle() on Win32\n\t  + none on cygwin\n\n\t* thread_win32.ci (rb_w32_wait_events_blocking): blocking version.\n\n\t* win32/win32.c (waitpid): use rb_w32_wait_events_blocking().\n\nSat Feb 24 17:45:48 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (f_arg, opt_f_block_arg): ripper should export VALUE.\n\nSat Feb 24 16:52:55 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/runner.rb: fix syntax error.\n\nSat Feb 24 16:51:09 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest/runner.rb: new option --help.\n\nSat Feb 24 16:47:33 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* bootstraptest: new test suite.\n\n\t* bootstraptest/runner.rb: new file.\n\n\t* bootstraptest/test_literal.rb: new file.\n\n\t* bootstraptest/test_method.rb: new file.\n\nSat Feb 24 16:29:15 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (StartSocket): remove unnecessary code.\n\nSat Feb 24 16:04:30 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (struct local_vars): remove unused nofree member from\n\t  struct.\n\n\t* parse.y (parser_free): ditto.\n\nSat Feb 24 15:57:19 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/thread.rb (ConditionVariable#broadcast): use Mutex\n\t  instead of Thread.exclusive.\n\n\t* lib/monitor.rb (MonitorMixin#mon_exit): unset @mon_owner\n\t  before calling Mutex#unlock.\n\nSat Feb 24 15:51:45 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (program): remove useless assignment to reduce warning.\n\nSat Feb 24 15:41:51 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (lambda): remove unused clause from the rule to stop\n\t  warning.\n\nSat Feb 24 15:41:22 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/thread.rb: do not redefine Mutex#synchronize.\n\nSat Feb 24 15:14:02 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb: rewritten using Mutex/ConditionVariable.\n\nSat Feb 24 13:25:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/soap/mapping/factory.rb: catch up with spec changes (return\n\t  Symbols instead of Strings).\n\n\t* lib/soap/mapping/mapping.rb: ditto.\n\nSat Feb 24 10:49:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* parse.y, node.h, compile.c: change node tree structure.  a purpose\n\t  of this change is to unify argument structure of method and block.\n\t  this change prohibits duplicate block parameter name.\n\t  new argument information:\n\t    NODE_ARGS\t  [m: int, o: NODE_OPT_ARG, ->]\n\t    NODE_ARGS_AUX [r: ID, b: ID, ->]\n\t    NODE_ARGS_AUX [Pst: id, Plen: int, init: NODE*]\n\t  optarg information:\n\t    NODE_OPT_ARGS [idx, expr, ->]\n\n\t* vm_macro.def: ditto.\n\n\t* gc.c: ditto.\n\n\t* iseq.c: ditto.\n\n\t* compile.h: fix debug function name.\n\n\t* test/ripper/test_scanner_events.rb: |_,_,foo| -> |_1,_2,foo|\n\n\t* test/ruby/test_lambda.rb: disable test temporarily.\n\nSat Feb 24 10:46:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/testunit/test_testcase.rb: catch up with current instance\n\t  variable spec.\n\nSat Feb 24 10:32:59 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: change vm_macro.def rule.\n\nSat Feb 24 10:38:05 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/racc/cparse/cparse.c (cparse_params_mark): remove useless\n\t  rb_gc_mark.  Thanks Tomoyuki Chikanaga. [ruby-dev:30405]\n\nSat Feb 24 07:31:35 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_VARIANT.array,\n\t  WIN32OLE_VARIANT#value=, refactoring.\n\n\t* test/win32ole/test_win32ole_variant.rb: add some test for\n\t  WIN32OLE_VARIANT.array, WIN32OLE_VARIANT#value=.\n\nFri Feb 23 18:37:55 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_yield.rb: new test.\n\n\t* yarvtest/test_yield.rb: removed (moved to test_yield.rb).\n\nFri Feb 23 18:27:17 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* thread.c (rb_thread_polling): check interrupts here.\n\n\t* thread_win32.ci (w32_wait_events): rename from w32_wait_event(), and\n\t  now receive multiple event handles.\n\n\t* win32/win32.c (wait_events, rb_w32_main_context): removed.\n\n\t* thread_win32.ci (rb_w32_wait_events): new function.\n\n\t* thread_win32.ci, win32/win32.c (rb_w32_sleep, rb_w32_Sleep): move\n\t  from win32/win32.c to thread_win32.ci, and use w32_wait_events().\n\nFri Feb 23 18:13:22 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_optimization.rb: new test (merges test_opts.rb).\n\n\t* yarvtest/test_opts.rb: removed.\n\nFri Feb 23 16:59:39 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_assignment.rb: merge yarvtest/test_massign.\n\n\t* yarvtest/test_massign.rb: removed (merged to\n\t  test_assignment.rb).\n\nFri Feb 23 15:58:20 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* signal.c (sighandler): need to re-install sighandler on some\n\t  platforms.\n\nFri Feb 23 15:05:57 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (set_pioinfo_extra): simplified.\n\nFri Feb 23 14:23:20 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_literal.rb: new test.\n\nFri Feb 23 12:40:12 2007  James Edward Gray II  <james@grayproductions.net>\n\n\t* lib/xmlrpc/client.rb (XMLRPC::Client::do_rpc): Make the\n\t  Content-Length parameter optional for responses in\n\t  xmlrpc/client.rb; suggested by Daniel Berger\n\t  <Daniel.Berger@qwest.com> and approved by the maintainer.\n\n\t* lib/xmlrpc/create.rb (XMLRPC::Create::conv2value): Add DateTime\n\t  support to xmlrpc; approved by the maintainer.\n\nFri Feb 23 12:24:46 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (lambda): add ripper event.  This fixes bus error on\n\t  \"make test-all\".\n\n\t* ext/ripper/extconf.rb: do not stop build.\n\nFri Feb 23 12:16:05 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: remove dyna_check_gen() prototype.\n\nFri Feb 23 11:41:21 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y, compile.c, gc.c, insns.def, intern.h, iseq.c, node.h,\n\t  object.c, string.c, variable.c, vm_macro.def: revert private\n\t  instance variable feature, which is postponed until next major\n\t  release.\n\n\t* marshal.c: TYPE_SYMBOL2 removed; MARSHAL_MINOR reverted back to\n\t  8th version.\n\nFri Feb 23 10:53:21 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* thread_pthread.ci (native_mutex_lock): do not call\n\t  pthread_mutex_trylock().\n\nFri Feb 23 10:31:16 2007  Minero Aoki  <aamine@loveruby.net>\n\n\t* dln.c: use dlopen on Mac OS X 10.3 or later.\n\nFri Feb 23 10:03:49 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_ord): need not to check string length;  ord\n\t  returns a codepoint for the first character in the string.\n\nWed Feb 21 22:29:45 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* numeric.c (fix_equal): A bit more optimization.\n\nWed Feb 21 17:40:37 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_equal): remove FIX2LONG() to optimize.  suggested\n\t  in http://t-a-w.blogspot.com/2007/02/making-ruby-faster.html.\n\t  [ruby-talk:240223]\n\n\t* numeric.c (fix_cmp): ditto.\n\nWed Feb 21 09:14:04 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval_load.c (rb_require_safe): should restore safe level.\n\nTue Feb 20 21:19:29 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (installed_code_page_proc,\n\t  ole_variant2val): small refactoring.\n\nTue Feb 20 15:11:42 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c, vm.c, yarvcore.h: move definition of rb_call_super() to\n\t  vm.c from eval.c.  change th_call_super() to static function.\n\nTue Feb 20 15:08:25 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/io/nonblock/test_flush.rb: YARV doesn't raise any errors if\n\t  another thread close IO object which current thread is blocking with.\n\nTue Feb 20 15:03:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (do_select, rb_thread_wait_fd_rw): raise sys error if\n\t  errno is not 0 and EBADF.\n\nMon Feb 19 22:15:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_REPLACE_TYPE): cache convertible type info.\n\n\t* intern.h (rb_detach_process): use rb_pid_t instead of pid_t.\n\n\t* ruby.h (PIDT2NUM, NUM2PIDT, UIDT2NUM, NUM2UIDT, GIDT2NUM, NUM2GIDT):\n\t  defaulted to conversion using long.\n\nMon Feb 19 17:14:28 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (unix_peeraddr): wrong syscall name in error\n\t  message for #peeraddr. a patch from Sam Roberts\n\t  <sroberts at uniserve.com>.  [ruby-core:10366]\n\nSun Feb 18 22:56:07 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/etc/etc.c (etc_getgrgid): missed to replace a macro.\n\nSun Feb 18 19:33:00 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: updated based on date2 4.0.3.\n\nSun Feb 18 13:11:51 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (pid_t, uid_t, gid_t): check if defined.\n\n\t* intern.h, process.c, rubyio.h, ext/etc/etc.c, ext/pty/pty.c: use\n\t  rb_{pid,uid,gid}_t instead of plain int.  [ruby-dev:30376]\n\n\t* ext/etc/extconf.rb (PIDT2NUM, NUM2PIDT, UIDT2NUM, NUM2UIDT, GIDT2NUM,\n\t  NUM2GIDT): moved to configure.in.\n\nFri Feb 16 21:34:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* object.c (rb_obj_ivar_set/get/defined): fix to check :@_v/C id.\n\n\t* test/testunit/test_testcase.rb: fix to use instance_variable_get()\n\t  to access @_result.\n\nFri Feb 16 20:59:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* intern.h: add a prototype of rb_sym_to_s().\n\nFri Feb 16 19:24:22 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (math_log): update document to mention second optional\n\t  argument for logarithm base.\n\nFri Feb 16 19:19:21 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (mrhs): need to append by arg_append().\n\t  [ruby-talk:239385]\n\nFri Feb 16 11:18:21 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/.document: Apply patch for irb, e2mmap and README by Hugh Sasse\n\t  <hgs at dmu.ac.uk> from [ruby-core:10135]\n\n\t* lib/prettyprint.rb: Suppress RDoc for PrettyPrint test suite.\n\nThu Feb 15 20:48:36 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (set_pioinfo_extra): new function for VC++8 SP1\n\t  workaround. [ruby-core:10259]\n\n\t* win32/win32.c (NtInitialize): call above function.\n\nThu Feb 15 16:25:54 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/uri/generic.rb (URI::Generic::userinfo): Considering how\n\t  `scheme://user:@...', `scheme://:password@...' and\n\t  `scheme://:@...' are parsed, an empty user name or password\n\t  should be allowed and represented as it is.\n\nThu Feb 15 01:52:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.(c|h), yarvcore.(c|h) (yarvGlobalStateVersion): rename to\n\t  ruby_vm_global_state_version.\n\nThu Feb 15 01:50:26 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/fileutils/test_fileutils.rb (check_singleton): fix to use\n\t  symbol instead of string.\n\n\t* test/io/nonblock/test_flush.rb: enable tests.\n\n\t* test/xmlrpc/test_webrick_server.rb: ditto.\n\nThu Feb 15 01:43:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* lib/delegate.rb: catch up with class local variable (@_v) spec.\n\n\t* lib/singleton.rb: ditto.\n\nWed Feb 14 22:52:43 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_variant2val): VC++6 does not\n\t  support VT_I8, VT_UI8.\n\nWed Feb 14 22:10:21 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* configure.in: change stack limit to 2MB from 32MB.\n\n\t* win32/Makefile.sub: ditto.\n\nWed Feb 14 21:39:36 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest.rb (Digest::self.const_missing): Drop\n\t  autoloads for sha2 classes in favor of handling in\n\t  const_missing(), to work around a problem exposed on OS X.\n\nWed Feb 14 21:19:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.ci (native_thread_create): adjust 4KB (page size)\n\t  alignment.\n\nWed Feb 14 21:12:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.ci (CHECK_ERR): call rb_bug()\n\t  instead of printf() and exit().\n\nWed Feb 14 16:48:56 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/date/format.rb (Date::Format::Bag::method_missing): need not\n\t  to use instance variables corresponding each method; use Hash\n\t  instead.\n\nWed Feb 14 13:12:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (reg_operand): allow symbols to be operands for regular\n\t  expression matches.\n\n\t* string.c (Init_String): allow Symbol#===.\n\n\t* lib/date/format.rb (Date::Format::Bag::to_hash): string\n\t  added prefixes.\n\nWed Feb 14 12:58:38 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (do_select): fix to iterate select().\n\t  on cygwin/mswin32, iterate in unblocking region.\n\n\t* thread.c (rb_thread_select): don't iterate on this function.\n\t  (iterate in do_select).\n\nWed Feb 14 11:39:18 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (set_unblock_function): fix function interface.\n\nWed Feb 14 11:12:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_load.c, yarvcore.h: use rb_vm_t#loaded_features instead of\n\t  rb_features (global variable).\n\n\t* yarvcore.c: mark rb_vm_t#loaded_features.\n\nWed Feb 14 08:46:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compile.c (defined_expr): no longer distinguish ordinary local\n\t  variables and in-block local variables in defined? value.\n\nWed Feb 14 03:14:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic::userinfo): should support\n\t  empty password.  [ruby-core:10290]\n\n\t* lib/uri/generic.rb (URI::Generic::set_password): password can be\n\t  cleared by nil.  [ruby-core:10290]\n\nWed Feb 14 03:10:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (struct local_vars): no need to warn out-of-scope\n\t  variables; remove dnames member from struct.\n\nWed Feb 14 03:04:10 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: RVarmap no longer used as yytype; removed.\n\n\t* parse.y (dyna_push_gen): no longer need return value.\n\n\t* parse.y (dyna_pop_gen): no longer need argument.\n\n\t* parse.y (local_push_gen): initialize nofree.\n\nWed Feb 14 00:30:07 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (init_unixsock): path may contain NUL for\n\t  abstract unix sockets.  [ruby-core:10288]\n\nTue Feb 13 02:21:12 2007  Sam Roberts  <sroberts@uniserve.com>\n\n\t* io.c (rb_f_syscall): Fix buffer overflow with syscall\n\t  arguments.  [ruby-bugs:PR#8541]\n\nMon Feb 12 13:57:30 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_variant2val): support VT_I8, VT_UI8.\n\nMon Feb 12 11:48:52 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/dublincore.rb, lib/rss/maker/dublincore.rb: dc_rightses\n\t  -> dc_rights_list. dc_rightses still exists for backward\n\t  compatibility. [ruby-core:8350]\n\n\t* test/rss/test_maker_dc.rb: added tests for dc_rights_list.\n\nSun Feb 11 22:40:17 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_ptrtype2val): ole_type, ole_type_detail\n\t  should not return \"VARIANT,VARIANT\".\n\nSun Feb 11 22:11:05 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/xml-stylesheet.rb (RSS::XMLStyleSheet#initialize):\n\t  kept backward compatibility.\n\nSun Feb 11 22:10:08 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb (RSS::ListenerMixin#start_else_element): used\n\t  const_defined? instead of constants.include?.\n\nSun Feb 11 18:47:14 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata):\n\t  WIN32OLE_VARIANT#new accepts nil when variant type is VT_ARRAY.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\n\t* ext/win32ole/win32ole.c: small refactoring.\n\nSun Feb 11 07:42:25 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): Properly parse\n\t  a quoted-string in a Content-Disposition value.\n\nSat Feb 10 20:21:29 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE#ole_query_interface.\n\t  thanks to Mikael Pahmp.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nSat Feb 10 17:46:52 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: targets which depend on yarvcore.h now depend on\n\t  rubysig.h too.\n\n\t* yarvcore.h (rb_vm_t): use rb_atomic_t instead of int.\n\nSat Feb 10 00:13:11 2007  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: fix typo (TkConfigMethod::__confinfo_cmd,\n\t  __conv_keyonly_opts).\n\nFri Feb  9 12:33:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_win32.ci (w32_show_error_message): renamed to w32_error.\n\t  this function do rb_bug().\n\n\t* thread_win32.ci (w32_set_event, w32_reset_event, w32_close_handle,\n\t  w32_resume_thread): added. fix to use these functions instead calling\n\t  win32api directly.\n\n\t* thread_win32.ci (w32_create_thread): create suspend thread\n\t  (caller must call w32_resume_thread()).\n\nFri Feb  9 11:03:40 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_readpartial.rb: tests are working on mswin32/cygwin.\n\nFri Feb  9 05:08:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c, thread_pthread.ci, thread_win32.ci (thread_start_func_1):\n\t  move cleanup function to thread_start_func_2().\n\n\t* thread.c, thread_pthread.ci, thread_win32.ci:\n\t  add more destruct functions.\n\t  (native_thread_destroy() and native_mutex_destroy())\n\n\t* thread_pthread.ci, thread_pthread.h: make native_mutex_* functions\n\t  (check error, etc), it's not macro any more.\n\n\t* thread_win32.ci (thread_start_func_1): store some values before\n\t  running thread (to release these after running thread).\n\n\t* thread_win32.ci (native_thread_create): fix spaces.\n\nThu Feb  8 22:44:04 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_set_safe_array, ole_variant2val,\n\t  ole_val_ary2variant_ary): fix WIN32OLE_VARIANT.new bug when\n\t  1st argument is empty array, and when 2nd argument is\n\t  VT_ARRAY|VT_BYREF.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\nThu Feb  8 22:39:09 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvtest/yarvtest.rb: check target command names.\n\nThu Feb  8 22:31:45 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_clone.rb: fix to current spec\n\t  (Module should not be occur many times in ancestors).\n\nThu Feb  8 22:26:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_string.rb: (\"foo\" == :foo) and (\"foo\" === :foo)\n\t  should be false.\n\n\t* ChangeLog: fix last messages.\n\nThu Feb  8 22:24:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/test_module.rb: fix to use Symbol instead of String.\n\n\t* test/ruby/test_module.rb: remove space before argument parentheses.\n\nThu Feb  8 22:02:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/ruby/marshaltestlib.rb: eval(sym) -> eval(sym.to_s)\n\nThu Feb  8 21:35:16 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_propertyputref.rb (setup): fix typo.\n\n\t* test/win32ole/test_win32ole_event.rb: should not use\n\t  InternetExplorer.gohome to test.\n\nThu Feb  8 21:02:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (GVL_UNLOCK_RANGE): rename to BLOCKING_REGION().\n\n\t* thread.c (rb_thread_run_parallel): rename to\n\t  rb_thread_blocking_region().\n\nThu Feb  8 15:48:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvcore.h, thread.c: fix to use pthread on cygwin.\n\n\t* yarvcore.h, thread.c: move GVL_UNLOCK_BEGIN() and GVL_UNLOCK_END()\n\t  from yarvcore.h to thread.c.\n\n\t* thread.c: change GVL_UNLOCK_RANGE() arguments\n\t  (adding ubf as 2nd argument).\n\n\t* thread.c: fix to use polling in select on cygwin and mswin32.\n\n\t* thread.c, thread_pthread.ci, thread_win32.ci, yarvcore.h:\n\t  rename:\n\t  * rb_thread_t#interrupt_function -> unblock_function\n\t  * rb_interrupt_function_t -> rb_unblock_function\n\t  * some interrupt function name -> ubf_*\n\t  * yarv_* -> *\n\nThu Feb  8 16:08:02 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: fix to use RUNRUBY instead of BASERUBY if possible.\n\n\t* common.mk ($(INSNS) rule): remove $(PROGRAM) first.\n\nThu Feb  8 15:43:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* process.c: fix to use rb_status_line_set/get/clear().\n\n\t* eval_intern.h: fix line break.\n\nThu Feb  8 15:00:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* blockinlining.c, error.c, eval.c, eval_error.h, eval_intern.h,\n\t  eval_jump.h, eval_load.c, eval_safe.h, gc.c, proc.c, signal.c,\n\t  thread.c, thread_pthread.ci, thread_win32.ci, vm.c, vm.h,\n\t  vm_dump.c, vm_evalbody.ci, yarvcore.c, yarvcore.h:\n\t  fix typo (rb_thead_t -> rb_thread_t).\n\n\t* eval_intern.h: remove unused definitions.\n\n\t* common.mk: fix around vm_opts.h path\n\t  and remove harmful argument passed to insns2vm.rb.\n\nThu Feb  8 03:11:47 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::unescapeHTML): invalid decoding for single\n\t  unescaped ampersand.  a patch from Tietew\n\t  <tietew+ruby-dev at tietew.net> in [ruby-dev:30292].\n\t  fixed: [ruby-dev:30289]\n\nWed Feb  7 23:25:31 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (specific_eval): suppress warning.\n\n\t* thread_win32.h: undefine _WIN32 on cygwin.  [ruby-dev:30303]\n\nWed Feb  7 22:41:34 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h: remove UNSUPPORTED() macro.\n\n\t* thread.c: fix to define Continuation methods\n\t  (they only do rb_notimplement()).\n\nWed Feb  7 22:33:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_intern.h, yarvcore.h: remove unused macro definition.\n\nWed Feb  7 22:30:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval.c: fixed to use ANSI function style.\n\nWed Feb  7 09:35:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* this commit is a result of refactoring. only renaming functions,\n\t  moving definitions place, add/remove prototypes, deleting\n\t  unused variables and removing yarv.h.\n\t  This commit doesn't change any behavior of ruby/vm.\n\n\t* yarv.h, common.mk: remove yarv.h (contents are moved to yarvcore.h).\n\n\t* error.c, eval_intern.h: include yarvcore.h instead yarv.h\n\n\t* rename some functions:\n\t  * debug.[ch]: debug_*() -> ruby_debug_*()\n\t  * iseq.c: iseq_*() -> rb_iseq_*(), ruby_iseq_disasm()\n\t  * iseq.c: node_name() -> ruby_node_name()\n\t  * vm.c: yarv_check_redefinition_opt_method() ->\n\t          rb_vm_check_redefinition_opt_method()\n\n\t* some refactoring with checking -Wall.\n\n\t* array.c: remove rb_ary_ptr() (unused) and remove unused\n\t  local variables.\n\n\t* object.c: add a prototype of rb_mod_module_exec().\n\n\t* eval_intern.h (ruby_cref): set it inline.\n\n\t* eval_load.c (rb_load), yarvcore.c: yarv_load() -> rb_load_internal().\n\n\t* parse.y: add a prototype of rb_parse_in_eval() (in eval.c).\n\n\t* process.c: add a prototype of rb_thread_stop_timer_thread() (in thread.c).\n\n\t* thread.c: remove raw_gets() function (unused) and fix some format\n\t  mismatch (format mismatches have remained yet. this is todo).\n\n\t* thread.c (rb_thread_wait_fd_rw): fix typo on label name.\n\n\t* thread_pthread.ci: comment out codes with USE_THREAD_CACHE.\n\n\t* vm.c (rb_svar, rb_backref_get, rb_backref_get,\n\t  rb_lastline_get, rb_lastline_set) : moved from yarvcore.c.\n\n\t* vm.c (yarv_init_redefined_flag): add a prototype and rename\n\t  yarv_opt_method_table to vm_opt_method_table.\n\n\t* vm.c (rb_thread_eval): moved from yarvcore.c.\n\n\t* yarvcore.c: remove unused global variables and fix to use nsdr().\n\nWed Feb  7 03:39:32 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* blockinlining.c, compile.c, compile.h, error.c, eval.c,\n\t  eval_intern.h, eval_jump.h, eval_load.c, eval_method.h,\n\t  eval_safe.h, gc.c, insnhelper.h, insns.def, iseq.c, proc.c,\n\t  process.c, signal.c, thread.c, thread_pthread.ci, thread_win32.ci,\n\t  vm.c, vm.h, vm_dump.c, vm_evalbody.ci, vm_macro.def,\n\t  yarv.h, yarvcore.h, yarvcore.c: change type and macro names:\n\t  * yarv_*_t -> rb_*_t\n\t  * yarv_*_struct -> rb_*_struct\n\t  * yarv_tag -> rb_vm_tag\n\t  * YARV_* -> RUBY_VM_*\n\n\t* proc.c, vm.c: move functions about env object creation\n\t  from proc.c to vm.c.\n\n\t* proc.c, yarvcore.c: fix rb_cVM initialization place.\n\n\t* inits.c: change Init_ISeq() order (after Init_VM).\n\n\t* ruby.h, proc.c: change declaration place of rb_cEnv\n\t  from proc.c to ruby.c.\n\nTue Feb  6 22:06:45 2007  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/{nkf.c,utf8tbl.c}:\n\t  imported nkf 2007-01-28.\n\t  * Fixed: can't decode MIME encode JIS string.\n\t  * Fixed: Fullwidth-halfwidth conversion.\n\t  * Support DoCoMo's and Softbank's EMOJI\n\t  * Support CP932, CP5022x, eucJP-ms UDC\n\t  * Support UTF-32 encoding\n\t  * Support beyond BMP\n\t  [ruby-dev:29700] [ruby-dev:29922] [ruby-dev:30144]\n\nTue Feb  6 20:36:19 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, lib/rss/parser.rb: followed current Ruby\n\t  specification. [ruby-dev:30274]\n\nTue Feb  6 20:29:44 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb, lib/rss/parser.rb: removed needless code for\n\t  backward compatibility.\n\nTue Feb  6 18:43:17 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb: moved fixes for EPIPE to the correct\n\t  place. [ruby-core:10204]\n\nTue Feb  6 16:38:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm_opts.h: set properties:\n\t  svn:keywords:  Author Date Id Revision\n\t  svn:eol-style: native\n\nTue Feb  6 15:55:46 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (ivar_i): need to support class local instance\n\t  variables.\n\nTue Feb  6 15:44:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each): fix setting is_local flag.\n\n\t* yarvtest/test_class.rb: add a test for class local instance variable.\n\nTue Feb  6 14:15:34 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, insns.def: remove (get|set)instancevariable2 and add a\n\t  operand is_local to (get|set)instancevariable.\n\n\t* yarvtest/test_class.rb: add a test for class local instance variable.\n\n\t* parse.y (rb_decompose_ivar2): remove unused variable oid.\n\n\t* tool/insns2vm.rb: remove needless require.\n\nTue Feb  6 11:18:41 2007  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb: check the control connection on EPIPE.\n\t  Thanks, Simon Williams. [ruby-core:9547]\n\nTue Feb  6 11:03:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* complement last commit.\n\n\t* common.mk (*.inc): use VPATH.\n\n\t* vm_opts.h: renamed from vm_opts.h.base.\n\nTue Feb  6 10:02:41 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* tool/insns2vm.rb: use vm_opts.h in VPATH.\n\nTue Feb  6 03:47:58 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c: support Binding#eval.\n\n\t* yarvtest/test_eval.rb: add a test for above change.\n\nTue Feb  6 03:13:33 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* proc.c: refactoring (remove K&R style, move Binding stuffs from\n\t  Init_Proc() to Init_Binding()).\n\nTue Feb  6 01:07:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* intern.h: prepare rb_last_status_get() and rb_last_status_set().\n\t  Use these functions instead of rb_last_status ([ruby-dev:30264]).\n\n\t* process.c: define above functions.\n\n\t* ext/pty/pty.c: use above functions.\n\n\t* io.c (pipe_finalize): ditto.\n\n\t* process.c: ditto.\n\nMon Feb  5 21:26:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ruby.h: add a prototype of rb_id2str().\n\nMon Feb  5 21:06:50 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_thread.c, common.mk: remove eval_thread.c.\n\n\t* yarvcore.c: rename cYarvThread to rb_cThread.\n\n\t* gc.c: remove YARV_* prefix.\n\n\t* gc.h: add an include guard and prototype of rb_gc_set_stack_end().\n\n\t* inits.c: fix to ANSI prototype style and reorder Init_*().\n\n\t* io.c (pipe_finalize): TODO: comment out last_status.\n\n\t* process.c, yarvcore.h: fix to use yarv_vm_t#last_status instead of\n\t  rb_last_status and make last_status_get() to access $?.\n\n\t* yarvcore.c (vm_mark): mark yarv_vm_t#last_status.\n\n\t* ruby.h: add declarations of rb_cISeq and rb_cVM.\n\n\t* thread.c: move eval_thread.c codes to thread.c and remove yarv_*\n\t  function prefix.\n\n\t* thread.c (thread_start_func_2): use yarv_thread_t#first_func if\n\t  it is not null.\n\n\t* vm.c: fix copyright year.\n\n\t* yarvcore.c (Init_vm): rename to Init_VM().\n\nMon Feb  5 04:09:48 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_frame_callee): check if prev_cfp can be accessible.\n\t  a patch from Yoshinori Sano <yoshinori.sano at gmail.com> in\n\t  [ruby-dev:30252].  solves [ruby-dev:30200] and [ruby-core:9856].\n\nSun Feb  4 20:34:41 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/rss-assertions.rb: removed needless code for backward\n\t  compatibility.\n\nSun Feb  4 02:22:59 2007  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): Remove a debug\n\t  print.\n\nSat Feb  3 23:51:58 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (rb_compose_ivar2): function to create a new ivar2\n\t  symbol from a symbol and a class.  back-ported from matzruby.\n\n\t* parse.y (rb_decompose_ivar2): reverse function of\n\t  rb_compose_ivar2().\n\n\t* marshal.c (w_symbol): support class local instance variables.\n\n\t* marshal.c (r_object0): ditto.\n\n\t* compile.c (defined_expr): ditto.\n\n\t* compile.c (iseq_compile_each): ditto.\n\n\t* insns.def: add two new instructions: getinstancevariable2 and\n\t  setinstancevariable2.\n\nSat Feb  3 23:21:13 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insns.def (setclassvariable): remove unnecessary operand.\n\n\t* compile.c (iseq_compile_each): ditto.\n\n\t* common.mk (insns_info.inc): add dependency for insns_info.inc.\n\nSat Feb  3 14:32:58 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata, ole_val2variant):\n\t  fix the bug of WIN32OLE_VARIANT.new when variant type is\n\t  VT_ARRAY.\n\n\t* ext/win32ole/sample/excel1.rb: rewrite using WIN32OLE_VARIANT.\n\n\t* test/win32ole/test_win32ole.rb: add some test.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\nSat Feb  3 03:35:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, */Makefile.sub, common.mk (vmasm): generalized.\n\n\t* common.mk (runruby, benchmark, benchmark-each, tbench): use\n\t  PROGRAM for the file to be built.\n\n\t* proc.c (yarv_proc_alloc): needs return.\n\n\t* call_cfunc.ci, compile.c, compile.h, debug.h, eval.c,\n\t  eval_error.h, eval_jump.h, eval_load.c, eval_thread.c, gc.c,\n\t  insnhelper.h, insns.def, iseq.c, main.c, numeric.c, parse.y,\n\t  range.c, ruby.h, signal.c, thread.c, thread_win32.ci, vm.c,\n\t  vm.h, vm_dump.c, vm_evalbody.ci, yarvcore.c, yarvcore.h:\n\t  fixed indents and non-C90 comments.\n\n\t* regenc.h: revert to before YARV.\n\n\t* lib/mkmf.rb (create_makefile): make object files depend on\n\t  extconf.h even if depend file exists.\n\nFri Feb  2 23:39:42 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* common.mk (bin): add more dependency.  a patch from Tadashi\n\t  Saito <shiba at mail2.accsnet.ne.jp>.  [ruby-dev:30245]\n\nFri Feb  2 18:44:31 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* insns.def (setclassvariable): remove warn argument.\n\nFri Feb  2 18:36:40 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* common.mk (compile.$(OBJEXT)): add config.h to vm.c and\n\t  compile.c.\n\nFri Feb  2 18:27:54 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c: remove duplicated global variables rb_cProc and\n\t  rb_cBinding.  [ruby-dev:30242]\n\nFri Feb  2 00:13:44 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (SYMBOL_P): make Symbol immediate again for performance.\n\n\t* string.c: redesign symbol methods.\n\nThu Feb  1 23:25:21 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_id2str): store Strings for operator symbols.\n\t  [ruby-dev:30235]\n\nThu Feb  1 21:04:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (assignable_gen): no need to generate NODE_CVDECL.\n\n\t* compile.c (iseq_compile_each): no NODE_CVDECL.\n\nThu Feb  1 20:53:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* vm.c (eval_get_cvar_base): destination for class variable access\n\t  is now strictly innermost surrounding class or module.  warned\n\t  if accessed from toplevel.\n\n\t* variable.c (rb_cvar_get): new class variable look-up scheme:\n\t  1) look up in the class.  2) if the class is singleton attached\n\t  to a class (i.e. metaclass) then start look up in the attached\n\t  class and its ancestors. 3) otherwise, look-up in ancestors of\n\t  the class.\n\n\t* eval.c (cvar_cbase): destination for class variable access is\n\t  the class/module that holds the method, or cbase outside of\n\t  methods.\n\nThu Feb  1 20:31:41 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_cvar_set): remove warn argument.\n\nWed Jan 31 14:52:09 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_block_given_within_iterator):\n\t  add new test.  [ruby-core:10125]\n\nTue Jan 30 17:01:21 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_sub_bang): calling rb_str_modify() should be just\n\t  before actually modifying the string.\n\t  fixed: [ruby-dev:30211] (originally reported by zunda)\n\nTue Jan 30 13:24:06 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_pred): add Integer#pred corresponding\n\t  Integer#succ.  [RCR#5]\n\nTue Jan 30 12:05:35 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: autoconf 2.61 support.  [ruby-core:10016]\n\nMon Jan 29 23:52:32 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* tool/compile.rb: replace YARVCore by VM class.\n\nMon Jan 29 17:52:44 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/date/format.rb (Date::Format::Bag::method_missing): add\n\t  prefix to avoid making t class-local instance variable.\n\nMon Jan 29 21:32:37 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE.locale=, WIN32OLE.locale,\n\t  WIN32OLE_VARIANT#vartype.\n\n\t* test/win32ole/test_win32ole.rb: add test for WIN32OLE.locale=,\n\t  WIN32OLE.locale.\n\n\t* test/win32ole/test_win32ole_variant.rb: add test for\n\t  WIN32OLE_VARIANT#vartype.\n\nMon Jan 29 14:14:35 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* tool/parse.rb: replace YARVCore by VM class.\n\t  http://d.hatena.ne.jp/ysano2005/20070128\n\nSun Jan 28 08:41:49 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: refactoring.\n\nSat Jan 27 18:36:33 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata): bug fix.\n\t  WIN32OLE_VARIANT.new check that 1st argument should T_ARRAY\n\t  when variant type is VT_ARRAY.\n\n\t* test/win32ole/test_win32ole_variant.rb: add some test.\n\nFri Jan 26 23:55:56 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: bug fix of WIN32OLE_VARIANT when variant\n\t  type is VT_BYREF|VT_VARIANT.\n\n\t* test/win32ole/test_win32ole_variant_with_ie.rb: ditto.\n\nFri Jan 26 12:03:39 2007  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb (TkConfigMethod#__confinfo_cmd,\n\t  __conv_keyonly_optkeys): make them private [ruby-dev:30074].\n\n\t* ext/tk/lib/tk/txtwin_abst.rb: fix typo [ruby-dev:30073].\n\n\t* ext/tk/lib/tk/canvas.rb (TkCanvas#scan_dragto): lack of an argument.\n\n\t* ext/tk/lib/tk/canvas.rb: clarify the including module name\n\t  [ruby-dev:30080].\n\n\t* ext/tk/lib/tk/scrollable.rb: change primary name of modules\n\t  [ruby-dev:30080].\n\nFri Jan 26 07:48:57 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_init_copy): need to copy internal\n\t  structure on clone and dup.  [ruby-dev:30192]\n\nWed Jan 24 20:34:51 2007  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/ruby/test_iterator.rb: removed a needless workaround.\n\nWed Jan 24 18:05:39 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-font-lock-syntactic-keywords): fix\n\t  regexp font-lock bug.  [ruby-talk:235758]\n\nTue Jan 23 18:26:12 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): use == instead\n\t  of ===.  [ruby-dev:30176]\n\nTue Jan 23 15:39:25 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* Makefile.in, common.mk, configure.in, */{Makefile.sub, configure.bat,\n\t  setup.mak}: add --with-baseruby configure option.\n\nMon Jan 22 14:57:25 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: fix errors in socket sample code.\n\t  [ruby-core:09992]\n\nSat Jan 20 21:05:18 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fole_s_set_code_page): WIN32OLE.codepage=\n\t  accepts installed codepage.\n\n\t* test/win32ole/test_win32ole.rb (test_s_codepage_changed): ditto.\n\nSat Jan 20 11:18:49 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_invoke, ole_invoke2, ole_propertyput):\n\t  modify WIN32OLERuntimeError message.\n\n\t* test/win32ole/test_win32ole.rb: ditto.\n\nSat Jan 20 06:45:21 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval_proc.c (method_receiver): add new method to get the bound\n\t  receiver of the method object.  [ruby-talk:234949]\n\n\t* eval_proc.c (method_name): new method to get the name of a\n\t  method.\n\n\t* eval_proc.c (method_owner): a new method to get the class or\n\t  module that defines the method.\n\nFri Jan 19 17:12:23 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): add WIN32OLE_VARIANT::Empty,\n\t  WIN32OLE_VARIANT::Null, WIN32OLE_VARIANT::Nothing.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\n\t* test/win32ole/test_nil2vtempty.rb(test_openSchema): ditto.\n\nFri Jan 19 06:53:38 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (olevariant_free): fix memory leak.\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata):\n\t  WIN32OLE_VARIANT.new accepts nil as first argument for some VARIANT\n\t  TYPE.\n\n\t* test/win32ole/test_win32ole_variant.rb: ditto.\n\nWed Jan 17 17:31:28 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* some refactoring around yarvcore and proc.\n\n\t* eval_proc.c: renamed to proc.c.\n\n\t* common.mk: ditto.\n\n\t* yarvcore.h, yarvcore.c: rename or remove some global variables\n\t  removed: mYarvCore, mYarvInsns\n\t  renamed: cYarvISeq -> rb_cISeq,\n\t           cYarvProc -> rb_cProc, cYarvBinding -> rb_cBinding\n\t  ::YarvCore module is removed and ::YarvCore::VM class becomes ::VM.\n\t  And change/remove some functions which added with YARV.\n\n\t* compile.c: ditto.\n\n\t* eval.c: ditto.\n\n\t* iseq.c: ditto.\n\n\t* vm.c: ditto.\n\n\t* inits.c: rename Init_yarvcore to Init_vm.\n\n\t* yarvcore.c, proc.c: move some functions and initialization\n\t  from yarvcore.c to proc.c.\n\n\t* intern.h, proc.c: add global function rb_binding_new(void).\n\nTue Jan 16 17:49:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (eval_search_super_klass): rename to search_super_klass() and\n\t  use it by th_call_super().\n\n\t* insns.def: ditto.\n\nTue Jan 16 17:48:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: fix ruby script path.\n\nTue Jan 16 17:39:44 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* vm.c (invoke_block): fix to specify self.\n\nTue Jan 16 12:12:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* env.h: removed\n\nTue Jan 16 12:00:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_proc.c (rb_proc_new): added.\n\n\t* string.c (sym_to_proc): supported.\n\n\t* vm.c (invoke_block, th_invoke_yield, th_invoke_proc): fix to support\n\t  rb_proc_new.\n\n\t* yarvcore.c: add a test code.\n\nSat Jan 13 23:24:59 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_free, ole_type_free,\n\t  olemethod_free, olevariable_free, oleparam_free,\n\t  ole_event_free): fix memory leak.  [ruby-core:09846]\n\nWed Jan 10 00:10:23 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_replace): use ptr and len of orig instead of\n\t  shared.  fixed: [ruby-dev:30116]\n\nTue Jan  9 17:48:38 2007  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (rb_find_file): should not call fpath_check() with NULL.\n\t  fixed: [ruby-core:09867]\n\nTue Jan  9 12:29:20 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/etc/etc.c (etc_getpwuid, etc_getgrgid): fix to correctly\n\t  convert uid/gid from VALUE.\n\n\t* ext/etc/etc.c (etc_getpwuid): ditto.\n\nTue Jan  9 03:54:38 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_upto): String#upto from empty string makes\n\t  infinite loop.  [ruby-core:09864]\n\n\t* string.c (rb_str_upto): use RSTRING_LEN().\n\nSun Jan  7 18:36:05 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread.c (rb_thread_stop_timer_thread(), rb_thread_reset_timer_thread(),\n\t  rb_thread_start_timer_thread()): added.\n\n\t* thread_pthread.ci: add a native_thread_join() and move\n\t  rb_thread_reset_timer_thread() definition to thread.c.\n\n\t* thread_win32.ci: ditto\n\n\t* process.c: fix before_exec(), after_exec() to stop timer thread\n\t  (and restart timer thread if exec failed).  and fix to reset\n\t  timer thread information when forked child process starts\n\t  (to fix [ruby-core:09822]).\n\nSun Jan  7 18:28:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: add a \"compare\" rule and fix MATZRUBY variable\n\nSun Jan  7 17:47:16 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_win32ole.rb: add test for WIN32OLE#[],\n\t  WIN32OLE#[]=.\n\n\t* ext/win32ole/win32ole.c: update comment for rdoc of\n\t  WIN32OLE#[] and WIN32OLE#[]=.\n\nSun Jan  7 12:13:26 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#find_class_comment):\n\t  Look for class and module comments above rb_define_class and\n\t  rb_define_module.  Patch by Daniel Berger <djberg96 at gmail.com>\n\nSun Jan  7 10:32:12 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#handle_constants):\n\t  Properly handle escaping of : in comments.\n\t* test/rdoc/parsers/test_parse_c.rb:\n\t  Test RDoc::C_Parser#do_classes and Rdoc::C_Parser#find_class_comment.\n\nSun Jan  7 09:31:18 2007  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: updated based on date2 4.0.1.\n\nSat Jan  6 18:46:34 2007  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline_fast, rb_io_getline): increase lineno\n\t  when met the delimiter or EOF.  fixed: [ruby-dev:30081]\n\n\t* io.c (prepare_getline_args, rb_io_getline_1): split\n\t  preparation of arguments and reading.  [ruby-dev:30085]\n\nSat Jan  6 13:48:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def (send): fix to optimize send() with Symbol.\n\n\t* yarvtest/test_method.rb: add another test.\n\nSat Jan  6 13:43:55 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: add PHONY dependency to some rules\n\nSat Jan  6 11:50:33 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_read): fix wrong replacement.  [ruby-dev:30070]\n\nSat Jan  6 09:10:52 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* insns.def: support direct method dispatch with \"send\" or \"funcall\".\n\t  This means that \"obj.send :m\" skips \"BasicObject#send\" invocation\n\t  (method frame creation, etc) and \"obj.m\" invokes directly.\n\t  If you make backtrace, there are no entries of \"send\" method.\n\n\t* compile.c (iseq_specialized_instruction): fix to support above\n\n\t* eval.c: ditto (remove \"static\" from rb_f_send and rb_f_funcall\n\n\t* yarvcore.c: ditto (add a external IDs for compiler)\n\n\t* yarvcore.h: ditto (add a VM_CALL_SEND_BIT macro)\n\n\t* yarvtest/test_method.rb: add tests for above changes\n\n\t* eval.c: remove unused \"Kernel#send\" declaration\n\nSat Jan  6 08:29:17 2007  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (Init_win32ole): add\n\t  WIN32OLE::VARIANT::VT_EMPTY, WIN32OLE::VARIANT::VT_NULL\n\n\t* test/win32ole/test_win32ole_variant_m.rb (test_variant): ditto.\n\nSat Jan  6 03:49:22 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/run.rb: change option format\n\n\t* common.mk: ditto\n\nFri Jan  5 22:21:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/bm_app_pentomino.rb: use Array#dup instead of\n\t  Array#clone\n\n\t* benchmark/bmx_temp.rb: removed\n\n\t* benchmark/run.rb: use run.rb instead of run_rite.rb\n\n\t* common.mk: ditto\n\n\t* benchmark/run_rite.rb: removed\n\n\t* common.mk: use $(srcdir)/test.rb to run a test program\n\t  with \"make run\"\n\n\t* benchmark/bmx_temp.rb: removed and\n\t  set svn:ignore (bmx_*.rb) to benchmark/\n\n\t* test.rb: set svn:ignore\n\nFri Jan  5 21:03:08 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarvtest/yarvtest.rb: fix to compare results\n\nFri Jan  5 20:52:56 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c, compile.h: add ADD_CALL_RECEIVER() macro.\n\n\t* insns.def (send): use GET_SELF() direct if FCALL.\n\n\t* eval.c (rb_f_send): check method dispatch type to permit\n\t  invoking private method when dispatch type is FCALL/VCALL\n\n\t* insns.def (opt_ltlt): remove useless statement.\n\n\t* vm.h: remove unused macros.\n\nFri Jan  5 20:50:31 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/run_rite.rb: fix to use readlines instead of\n\t  read(...).lines (because 1.8 doesn't have String#lines).\n\nFri Jan  5 20:28:19 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_win32.ci (rb_thread_reset_timer_thread):\n\t  added ([ruby-dev:30086]).\n\nFri Jan  5 20:20:36 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: add .SUFFIXES rule\n\nFri Jan  5 15:58:15 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_method.h (rb_alias): fix to check search result\n\nFri Jan  5 13:59:53 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* eval_method.h (rb_add_method): fix to check old_node\n\nFri Jan  5 12:03:07 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* compile.c (iseq_compile_each, set_block_local_tbl):\n\t  support NODE_LAMBDA (partly).\n\n\t* sample/test.rb: restore test of NODE_LAMBDA\n\n\t* test/ruby/test_lambda.rb: ditto\n\nFri Jan  5 12:31:23 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* thread_pthread.ci (native_sleep): fix tv_nsec overflow.\n\nThu Jan  4 20:01:29 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: rename yarv-test-[all/each] to compare-test[/-each].\n\t  purpose of \"compare-test\" rule is to compare ruby (trunk) and\n\t  matzruby (branches/matzruby) binary in miniruby level.  MATZRUBY\n\t  parameter means an path to miniruby of matzruby binary.  to do this\n\t  comparison test, you should build matzruby branch.\n\n\t* yarvtest/yarvtest.rb: fix to use command line option as\n\t  command names to be compared.\n\n\t* yarvtest/runner.rb: remove a debug output.\n\nThu Jan  4 19:12:27 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: fix to use test.rb script in build directory.\n\t  ($(srcdir)/test.rb -> test.rb)\n\nThu Jan  4 17:28:05 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/utils.rb (WEBrick::Utils::TimeoutHandler#initialize):\n\t  Arrays could not be modified in its each block. [ruby-dev:30063]\n\nThu Jan  4 16:57:14 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* yarv_version.h: removed.\n\n\t* common.mk: remove yarv_version.h from rules\n\n\t* yarvcore.h (Init_yarvcore): remove useless constants\n\nThu Jan  4 17:00:06 2007  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (Init_ossl_asn1):\n\t  OpenSSL::ASN1::ASN1Data#value,#tag,#tag_class and\n\t  OpenSSL::ASN1::BitString#unused_bits should be public.\n\nThu Jan  4 13:45:10 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.ci: fix last changes around PTHREAD_STACK_MIN.\n\nThu Jan  4 13:42:47 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* common.mk: restore changes.\n\nThu Jan  4 10:33:54 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* thread_pthread.ci: fix to skip using PTHREAD_STACK_MIN.\n\t  [ruby-dev:30063]\n\nThu Jan  4 10:30:11 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* benchmark/run_rite.rb (bm): fix to use lines.\n\nWed Jan  3 18:49:15 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_getline): lineno update condition was wrong.\n\t  [ruby-dev:30065]\n\n\t* io.c (rb_io_getline_fast): ditto.\n\nWed Jan  3 11:36:51 2007  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (ruby_dup): start GC on ENOMEM as well.\n\nTue Jan  2 10:29:54 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* ext/zlib/zlib.c: fix to compile on YARV\n\t  ruby_errinfo -> rb_errinfo()\n\nMon Jan  1 08:07:06 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* ext/tk/tcltklib.c: fix to compile on YARV\n\t  ruby_errinfo -> rb_errinfo(),\n\t  ruby_safe_level -> rb_safe_level().\n\nMon Jan  1 07:57:17 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* test/drb/test_drbssl.rb: fix to skip drb tests.\n\nMon Jan  1 06:13:11 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/c_parser.rb: Make Rdoc accessible.  Update constant\n\t  value information.\n\nMon Jan  1 06:13:11 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* ext/bigdecimal/bigdecimal.c: Update constant comments to provide\n\t  values for RDoc.\n\nMon Jan  1 06:05:55 2007  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#handle_constants):\n\t  Allow RDoc comment to give friendly value for rb_define_const.  Patch\n\t  by Daniel Berger <djberg96 at gmail.com>, [ruby-patches-7499].\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#handle_constants): Fix\n\t  whitespace handling in constant comments.\n\nMon Jan  1 00:00:00 2007  Koichi Sasada  <ko1@atdot.net>\n\n\t* Merge YARV\n\nSun Dec 31 16:22:48 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* array.c: Fix Array#reject.\n\nSun Dec 31 00:46:25 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date2.rb: removed.\n\nSun Dec 31 00:15:13 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 4.0.\n\nSat Dec 30 04:38:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_each_with_index): reuse array for yield parameters.\n\n\t* enum.c (enum_min, enum_max): ditto.\n\nSat Dec 30 04:25:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_inject): reuse array for yield parameters.\n\nSat Dec 30 02:54:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_gets): accepts limit argument.\n\n\t* ext/stringio/stringio.c (strio_readline, strio_each,\n\t  strio_readlines): ditto.\n\nSat Dec 30 02:22:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_getline): add limit capability.\n\n\t* io.c (rb_io_gets_m): accepts limit argument.  [ruby-talk:231563]\n\n\t* io.c (rb_io_readline, rb_io_readlines, rb_io_each_line, argf_getline):\n\t  ditto.\n\n\t* io.c (appendline): add limit capability.\n\n\t* io.c (rb_io_getline_fast, rb_io_getline): ditto.\n\n\t* io.c (rb_io_getline): small refactoring for DRY.\n\n\t* io.c (rb_io_s_foreach, rb_io_s_readlines): small refactoring.\n\nThu Dec 28 15:27:38 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie::initialize): use Array() again.\n\t  [ruby-core:09781]\n\nWed Dec 27 20:52:32 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: remove WIN32OLE::PROPERTY class.\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: ditto.\n\nWed Dec 27 10:04:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_Array): returns 1-element array if the argument\n\t  does not have to_ary nor to_a.\n\nTue Dec 26 21:02:14 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* test/win32ole/test_folderitem2_invokeverb.rb: The argument\n\t  of Shell.NameSpace should not be file path.\n\nTue Dec 26 06:13:08 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/bigdecimal/bigdecimal.c: remove useless method\n\t  BigDecimal#!=. [ruby-dev:30050]\n\nThu Dec 21 15:37:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_slice_bang): rdoc description bug fixed.\n\t  [ruby-core:09754]\n\nWed Dec 20 12:54:31 2006  Koichi Sasada  <ko1@atdot.net>\n\n\t* Convert CVS repository to Subversion repository.\n\nMon Dec 18 08:36:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie::initialize): Array(string) no longer\n\t  works.  [ruby-core:09738]\n\nFri Dec 15 00:19:53 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (COMPILE_RULES): latter rule has higher priority.\n\n\t* lib/mkmf.rb (create_makefile): remove static library before update,\n\t  to get rid of sludge of Borland tlib.exe.\n\nThu Dec 14 18:29:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/readline/readline.c: NetBSD editline does not have\n\t  rl_username_completion_function() and rl_completion_matches().\n\t  a patch from Takahiro Kambe <taca at back-street.net>.\n\t  [ruby-dev:30008]\n\nThu Dec 14 18:20:43 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/locale.rb (IRB::Locale::puts): typo fixed.  a patch from\n\t  NAKAMURA Usaku <usa@ruby-lang.org>.  [ruby-dev:30012]\n\nTue Dec 12 23:33:53 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (Switch#parse_arg, Switch#conv_arg): splat failures.\n\nMon Dec 11 11:51:10 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/sha2/lib/sha2.rb: Moved one level up from under\n\t  the superfluous subdirectory digest/.\n\nMon Dec 11 11:46:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_define_const): typo fixed.\n\nMon Dec 11 09:36:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_aset): index double decode problem.\n\t  [ruby-core:09695]\n\nSat Dec  9 21:39:24 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): keep the exception till after END blocks.\n\t  [ruby-core:09675]\n\nSat Dec  9 11:22:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/locale.rb (IRB::Locale::search_file): use File.exist?\n\t  instead of File.exists?.  a patch from Yutaka Kanemoto\n\t  <kinpoco at gmail.com> in [ruby-dev:30000].\n\nFri Dec  8 18:11:18 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/optparse.rb: cannot put :nodoc: before method definition.\n\t  put after it.\n\nFri Dec  8 17:00:13 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bin/rdoc: use File.exist? instead of File.exists?.\n\nThu Dec  7 23:50:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): new method Dir.exist?(path).\n\t  [ruby-core:09663]\n\n\t* file.c (Init_File): remove File.exists?; use File.exist?\n\t  instead.\n\n\t* file.c: rename functions to test_* to rb_file_*_p.\n\nThu Dec  7 09:29:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/weakref.rb (WeakRef::__setobj__): should support\n\t  marshaling.  [ruby-talk:228508]\n\nWed Dec  6 23:58:36 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.mk (NULLCMD): moved for platforms that empty\n\t  command does not run.  fixed: [ruby-dev:29994]\n\n\t* win32/win32.c (init_stdhandle): redirect unopened IOs to NUL.\n\t  [ruby-core:09572]\n\nTue Dec  5 19:01:42 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (SITE_DIR): fixed to empty RUBY_SITE_LIB in config.h on\n\t  NetBSD.  fixed: [ruby-dev:29358]\n\nTue Dec  5 18:38:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/matrix.rb (Matrix::rank): use quo method to avoid integer\n\t  division problem.  [ruby-core:09644]\n\n\t* lib/matrix.rb (Matrix::rank_e): ditto.\n\nTue Dec  5 00:59:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-parse-partial): need to parse \"/=\" as\n\t  self assignment operator, not regex.  [ruby-talk:227324]\n\nTue Dec  5 00:19:14 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h, object.c, variable.c (rb_mod_constants): added an optional\n\t  flag to search ancestors, which is defaulted to true, as well as\n\t  const_defined? and const_get.  [ruby-dev:29989]\n\nMon Dec  4 23:49:28 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (install_recursive): get rid of warning.\n\n\t* lib/optparse.rb (CompletingHash#match): get rid of splat failure.\n\nMon Dec  4 19:16:39 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb: Do alias << update.\n\nMon Dec  4 10:48:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (OFFT2NUM): use LONG2NUM() if sizeof(long) equals to\n\t  sizeof(off_t).\n\nMon Dec  4 08:32:25 2006  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): should quote\n\t  boundary. JVN#84798830\n\nSun Dec  3 16:16:53 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb: Fix problems with update\n\t  timing. [Reported by: oss-ruby@technorama.net]\n\nSat Dec  2 07:33:53 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils::FormData::<<):\n\t  HTTPUtils::parse_header() takes a string.  [ruby-dev:29931]\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils::parse_header):\n\t  String does no longer have each method.\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils::parse_form_data):\n\t  ditto.\n\nSat Dec  2 07:09:04 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ocsp.c: OpenSSL::OCSP::OSCPError should be\n\t  subclass of OpenSSL::OpenSSLError. [ruby-dev:29980]\n\nFri Dec  1 16:31:53 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: shouldn't run the killed thread at callback.\n\t  [ruby-talk: 227408]\n\nTue Nov 28 17:25:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (ary_iter_check): should check modification (size\n\t  change) during iteration.\n\n\t* array.c (rb_ary_initialize, rb_ary_shift, rb_ary_unshift,\n\t  rb_ary_splice, rb_ary_reverse, rb_ary_sort, rb_ary_delete,\n\t  rb_ary_delete_at, rb_ary_reject_bang, rb_ary_replace,\n\t  rb_ary_clear, rb_ary_fill, rb_ary_uniq_bang, rb_ary_compact,\n\t  rb_ary_shuffle): add iteration check.\n\nMon Nov 27 09:00:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_ord): typo fixed.  reported from Kornelius\n\t  Kalnbach <murphy@rubychan.de>.  [ruby-core:09621]\n\nSun Nov 26 16:36:46 2006  URABE Shyouhei  <shyouhei@ruby-lang.org>\n\n\t* version.h: addition of RUBY_PATCHLEVEL.\n\t* version.c: ditto.\n\nWed Nov 22 16:00:49 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/extconf.rb: support --with-X11/--without-X11 option.\n\n\t* ext/tk/README.tcltklib: add description about --with-X11-* option\n\t  [ruby-talk:225166] and --with-X11/--without-X11 option.\n\n\t* ext/tk/tkutil/extconf.rb: able to be called manually\n\t  [ruby-talk:225950].\n\nSat Nov 18 23:39:20 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_tap): a new method.  [ruby-talk:224013]\n\nWed Nov 15 23:22:54 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (test_grpowned, rb_stat_grpowned): should honor\n\t  supplementary group IDs.  [ruby-core:09546]\n\nTue Nov  7 18:35:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (formal_assign): need to pack rest arg information in\n\t  argc.\n\nTue Nov  7 18:05:01 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/itemconfig.rb: minor bug fix.\n\nTue Nov  7 17:52:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* class.c (rb_include_module): revert duplicate inclusion of\n\t  modules.  [ruby-dev:29793]\n\nTue Nov  7 17:18:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (method_missing): update old argument adjustment.\n\nTue Nov  7 16:41:21 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (when_check): need to splat for NODE_ARGSCAT as well.\n\t  [ruby-dev:29860]\n\nMon Nov  6 22:23:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (Init_String): remove duplicated definition of\n\t  Symbol#to_s.\n\nMon Nov  6 18:54:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (svalue_to_avalue): need to splat but no error.\n\n\t* eval.c: new macros - YIELD_CALL, YIELD_VALUES.\n\n\t* eval.c (rb_yield_values): specify YIELD_VALUES.\n\n\t* eval.c (rb_yield_0): use new macros.\n\n\t* eval.c (proc_invoke): slightly modified to separate YIELD_CALL\n\t  and YIELD_VALUES from YIELD_ARY_ARGS.\n\n\t* object.c (Init_Object): add nil.to_splat => [].\n\nMon Nov  6 15:41:55 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/itemconfig.rb: ext/tk/lib/tk/itemconfig.rb: bug\n\t  fix on 'itemconfiginfo' method, and modify to make it easy to\n\t  override 'itemconfiginfo' method.\n\n\t* ext/tk/lib/tkextlib/tile/treeview.rb: support Tile 0.7.8.\n\n\t* ext/tk/lib/tkextlib/version.rb: [new] add Tk::Tkextlib_RELEASE_DATE\n\t  to get the information from scripts.\n\n\t* ext/tk/lib/tk.rb: load 'tkextlib/version.rb', and update RELEASE_DATE\n\n\t* ext/tk/lib/tkextlib/SUPPORT_STATUS: update.\n\n\t* ext/tk/sample/editable_listbox.rb: [new] the listbox with editable\n\t  items. It's one of the example about usage of Place geometry manager.\n\n\t* ext/tk/sample/tktextio.rb: improve the functions of TkTextIO class.\n\t  Those are required by 'irbtkw.rbw'.\n\n\t* ext/tk/sample/irbtkw.rbw: [new] IRB on Ruby/Tk. It doesn't need any\n\t  real console. IRB works on a text widget without I/O blocking. That\n\t  is, thread switching on IRB will work properly, even if on Windows.\n\nMon Nov  6 00:42:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (arg_dup_check): vid may be nameless internal id.\n\nSun Nov  5 19:52:19 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: updated based on date2 3.9.7.\n\nSat Nov  4 13:09:31 2006  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: accept NOMODSEQ. [ruby-core:9002]\n\nFri Nov  3 00:16:37 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_getnameinfo__aix): AF_INET6 workaround\n\t  for AIX.  a patch from Yutaka Kanemoto <kinpoco AT gmail.com>.\n\t  [ruby-dev:29744]\n\nThu Nov  2 14:19:44 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb (Set#^): Fix XOR operation against a container that\n\t  holds duplicate values. [ruby-core:9372]\n\nThu Nov  2 10:00:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c: class Symbol is no longer subclass of String. also\n\t  covers [ruby-core:09366]\n\nThu Nov  2 08:21:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/xmlrpc/create.rb (XMLRPC::Create::conv2value): Symbol should\n\t  come earlier than String.\n\n\t* lib/soap/mapping/rubytypeFactory.rb (RubytypeFactory::obj2soap):\n\t  ditto.\n\n\t* lib/set.rb (TC_Set::test_s_new): strings are no longer\n\t  Enumerable\n\n\t* lib/soap/property.rb (Property::load): ditto.\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils::parse_header): ditto.\n\n\t* lib/soap/mimemessage.rb (MIMEMessage::Headers::parse): ditto.\n\nThu Nov  2 09:08:04 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c: revert lfree shift/unshift boost patch to avoid unknown\n\t  memory error.\n\nWed Nov  1 23:24:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (struct RArray): revert embedding ptr in RVALUE.\n\n\t* array.c: ditto.\n\nWed Nov  1 23:01:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (hash): use Bob Jenkins' hash algorithm.\n\nWed Nov  1 02:22:31 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb (Digest::HMAC::update): Minor\n\t  optimization.\n\n\t* ext/digest/digest.c (rb_digest_instance_equal): Allow comparing\n\t  a digest instance with another of a different class.\n\nWed Nov  1 01:05:13 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_call0): fixed bug of zsuper with both of opt and rest.\n\t  fixed: [ruby-list:42928]\n\nTue Oct 31 17:03:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_dup): duplicate the class of original time.\n\t  [ruby-core:09357]\n\n\t* lib/time.rb (Time::make_time, Time::rfc2822, Time::httpdate):\n\t  should respect subclasses.  [ruby-core:09357]\n\nTue Oct 31 16:25:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (ary_shared_first): should address offset after\n\t  ary_shared_array().  [ruby-core:09358]\n\nMon Oct 30 23:40:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (miniruby): add XLDFLAGS.\n\n\t* configure.in (aix): use -bE option for miniruby.  [ruby-dev:29698]\n\n\t* dir.c (glob_helper): get rid of possible memory leak.\n\n\t* win32/win32.c (cmdglob, rb_w32_cmdvector, rb_w32_opendir,\n\t  rb_w32_get_environ): not to use GC before initialization.\n\nMon Oct 30 19:28:02 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): use better approximation.\n\nMon Oct 30 18:35:33 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big2str0): wrong allocation length.  a patch from\n\t  U.Nakamura <usa at garbagecollect.jp> [ruby-dev:29710]\n\nMon Oct 30 12:34:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): fix commit miss.  [ruby-dev:29707]\n\nMon Oct 30 11:15:40 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): should preserve leading zero\n\t  information for negative %b and %x.  [ruby-talk:221347]\n\nSun Oct 29 19:51:31 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* regexec.c: invalid offset value was used in STATE_CHECK_BUFF_INIT().\n\nSat Oct 28 20:13:18 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.4.5\n\n\t* regint.h: ditto.\n\n\t* regerror.c: ditto.\n\n\t* regexec.c: ditto.\n\n\t* regcomp.c ditto.\n\n\t* regparse.c ditto.\n\nSat Oct 28 07:56:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_object0): missing break.  [ruby-core:09345]\n\nFri Oct 27 17:30:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enum_each_cons): move RETURN_ENUMERATOR() after\n\t  argument check.\n\nThu Oct 26 21:05:48 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkcs7.c (ossl_pkcs7_verify): should clear error.\n\t  (fix http://bugs.debian.org/394336)\n\n\t* ext/openssl/ossl_ns_spki.c (ossl_spki_initialize): ditto.\n\nThu Oct 26 15:23:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c: remove by_slice and by_cons.\n\nThu Oct 26 15:12:12 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/digest/digest.c (Init_digest): typo.\n\nWed Oct 25 17:16:05 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/digest/test_digest_hmac.rb: added.\n\nWed Oct 25 16:34:31 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/test.sh: make this script work again.\n\nWed Oct 25 07:59:42 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: updated based on date2 3.9.6.\n\t  [ruby-core:09323]\n\nWed Oct 25 00:58:19 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/mkexports.rb, win32/resource.rb: use unique variable names.\n\nTue Oct 24 19:18:53 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_by_slice): new method added.\n\n\t* enumerator.c (enumerator_by_cons): ditto.\n\nTue Oct 24 18:56:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enum_each_slice, enum_each_cons): returns\n\t  Enumerable::Enumerator if no block is given.  [ruby-dev:29246]\n\n\t* enumerator.c: remove methods: enum_with_index, enum_slice,\n\t  enum_cons.  [ruby-dev:29246]\n\nTue Oct 24 18:51:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_zip): add RETURN_ENUMERATOR() to zip method.\n\nMon Oct 23 04:30:04 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_object0): use return value from proc given as the\n\t  second argument to Marshal#load() to allow value replacement in\n\t  the restoring data.\n\nSun Oct 22 14:48:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (Init_signal): avoid duplicated installation of SIGCHLD\n\t  handler.\n\nSun Oct 22 16:47:56 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_substr): should be infected with only original\n\t  string, but not the shared string.  fixed: [ruby-core:09152]\n\n\t* string.c (rb_str_new4): keep shared string untainted when original\n\t  string is tainted.  fixed: [ruby-dev:29672]\n\nSun Oct 22 07:55:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_upcase, rb_str_downcase, rb_str_downcase,\n\t  rb_str_upcase_bang, rb_str_downcase_bang, rb_str_swapcase_bang):\n\t  add RDoc description that case conversion to be effective only\n\t  in ASCII region.\n\nSun Oct 22 05:20:34 2006  URABE Shyouhei  <shyouhei@ice.uec.ac.jp>\n\n\t* configure.in: alloca is broken; use C_ALLOCA instead.\n\t  [ruby-dev:29416]\n\nSat Oct 21 17:50:40 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest.rb: Follow the framework updates.\n\nFri Oct 20 22:00:43 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb: Complete half-boiled updates.\n\n\t* ext/digest/sha2/lib/digest/sha2.rb: Fix #initialize_clone().\n\nFri Oct 20 20:28:37 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest: Prefix C constants with RUBY_ and C type names with\n\t  rb_ to avoid name clash in writing extensions.\n\n\t* ext/digest: Introduce Digest::Class and Digest::Instance for\n\t  ease of implementing subclasses and add-ons, inspired by\n\t  gotoyuzo.\n\n\t* ext/digest: The Digest::Instance module now requires and assumes\n\t  that any instance be resettable and clonable, and add some\n\t  convenient instance methods such as \"new()\", for creating a new\n\t  copy, parameter taking \"digest()\" and \"hexdigest()\", for instant\n\t  calculation.  These methods make digest instances work just like\n\t  digest classes.\n\n\t* ext/digest/sha2/lib/digest/sha2.rb:\n\t  Add the Digest::SHA2 class to wrap up SHA2 variants: SHA256,\n\t  SHA384 and SHA512, hoping this module would make a decent\n\t  example of a digest subclass written in Ruby.\n\n\t* ext/digest/lib/digest.rb: Adjust autoload entries for SHA2\n\t  classes.\n\n\t* ext/digest/lib/digest/hmac.rb: Follow the framework updates.\n\nFri Oct 20 10:47:43 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb: fixed the bug of handling COMMON_MACROS.\n\nFri Oct 20 08:42:38 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (NULLCMD): dummy command.\n\n\t* bcc32/Makefile.sub (post-install-*): Borland make cannot ignore\n\t  command-less double-colon rules.  [ruby-dev:29676]\n\nFri Oct 20 00:37:07 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/Makefile.sub ($(LIBRUBY_SO)): execute pre-link hook.\n\n\t* ext/extmk.rb: workaround for Borland make.\n\nWed Oct 18 23:02:40 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (rb_ary_shift): shorten copy size.  fixed: [ruby-list:42907]\n\n\t* signal.c (Init_signal): handle SIGTERM.  fixed: [ruby-list:42895]\n\n\t* win32/win32.c (rb_w32_utime): allow NULL to set the current time.\n\t  [ruby-talk:219248]\n\nWed Oct 18 13:25:50 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_each_line): String#lines now works when a block\n\t  is given.  in other words, lines become an alias to each_line.\n\t  [ruby-core:09218]\n\n\t* string.c (rb_str_each_byte): ditto for bytes in place of lines.\n\nWed Oct 18 00:55:33 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_yylex): use particular enums.  [ruby-core:09221]\n\nTue Oct 17 22:03:08 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/erb.rb: String#each was removed, use #each_line instead.\n\nTue Oct 17 12:27:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (ary_shared_array): should set NOEMBED flag for a copied\n\t  array.\n\nTue Oct 17 08:04:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_lines): now takes optional argument for the\n\t  line separator.\n\n\t* io.c (rb_io_lines, rb_io_bytes): new methods.\n\nMon Oct 16 23:33:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_unshift_m): a bug in lfree shift length\n\t  calculation.\n\nMon Oct 16 08:30:43 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: *OBJS are not needed for extension libraries.\n\n\t* {bcc32,wince,win32}/Makefile.sub (config.status): fixed typo,\n\t  missing comma.\n\nMon Oct 16 00:44:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_unpack): execute block if given with unpacked value\n\t  instead of creating an array.  an idea from Tim Bray.\n\nSun Oct 15 01:03:08 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (Collector::Dir#collect): append base\n\t  directory but not prepend.\n\n\t* lib/test/unit/collector/dir.rb (Collector::Dir#collect_file): do not\n\t  join with dot.  fixed: [ruby-core:09179]\n\nSat Oct 14 23:39:50 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (singleton): no need to re-create NODE_SELF() again.\n\t  [ruby-core:09177]\n\nSat Oct 14 23:25:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_warning, parser_warn): some error message may\n\t  contain format specifiers.  a patch from Akinori MUSHA <knu at\n\t  iDaemons.org>.  [ruby-dev:29657]\n\n\t* regparse.c (onig_rb_warning, onig_rb_warn): ditto.\n\n\t* ext/bigdecimal/bigdecimal.c (VpException): ditto.\n\n\t* ext/dl/handle.c (rb_dlhandle_initialize): ditto.\n\n\t* ext/gdbm/gdbm.c (rb_gdbm_fatal): ditto.\n\nSat Oct 14 08:15:42 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c, ext/digest/digest.h,\n\t  ext/digest/md5/md5init.c, ext/digest/rmd160/rmd160init.c,\n\t  ext/digest/sha1/sha1init.c, ext/digest/sha2/sha2init.c:\n\t  Introduce API versioning.\n\n\t* ext/digest/digest.c, ext/digest/digest.h,\n\t  ext/digest/md5/md5init.c, ext/digest/rmd160/rmd160init.c,\n\t  ext/digest/sha1/sha1init.c, ext/digest/sha2/sha2init.c: Remove\n\t  the constants DIGEST_LENGTH and BLOCK_LENGTH and turn them into\n\t  instance methods digest_length() and block_length().  Class\n\t  methods with the same names are also provided, which take extra\n\t  parameters for a digest method.\n\n\t* ext/digest/lib/digest/hmac.rb: Completely redesign the somewhat\n\t  bizarre API, now that Digest classes can take hashing\n\t  parameters.\n\nSat Oct 14 05:54:05 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c: Improve RDoc documentation further more.\n\nSat Oct 14 04:33:33 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c: Improve RDoc documentation.\n\n\t* ext/digest/digest.c (Init_digest, rb_digest_base_s_digest,\n\t  rb_digest_base_s_hexdigest): Make Digest::Base::digest() and\n\t  Digest::Base::hexdigest() take extra arguments, which are passed\n\t  through to the constructor in an internal call.\n\n\t* ext/digest/bubblebabble/bubblebabble.c\n\t  (rb_digest_base_s_bubblebabble): Ditto for\n\t  Digest::Base::bubblebabble().\n\nSat Oct 14 00:55:08 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/Makefile.sub (post-install-ext): no longer needed.\n\n\t* bcc32/configure.bat: get rid of a quirk of Borland make, which\n\t  sets empty macro in command line to \"1\".\n\nFri Oct 13 22:49:02 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: updated based on date2 3.9.5.\n\nFri Oct 13 21:00:01 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest.rb (Digest): Try to auto-load non-standard\n\t  digest modules when a specified digest class is missing.\n\n\t* ext/digest/lib/digest.rb: Define Digest(name) for ease of\n\t  dynamically selecting a hashing algorithm.\n\nFri Oct 13 20:53:37 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (Init_digest): Digest::Base.new() does no\n\t  longer take an initial string to feed.  This change allows\n\t  subclasses to take hashing parameters.  A statement such as\n\t  ``md = Digest::MD5.new(s)'' can be easily rewritten as\n\t  ``md = Digest::MD5.new << s'' or\n\t  ``md = Digest::MD5.new.update(s)''.\n\nFri Oct 13 20:51:55 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c, ext/digest/md5/md5init.c,\n\t  ext/digest/rmd160/rmd160init.c, ext/digest/sha1/sha1init.c,\n\t  ext/digest/sha2/sha2init.c: Add RDoc documentation.\n\n\t* ext/digest/digest.txt, ext/digest/digest.txt.ja: Removed in\n\t  favor of embedded RDoc documentation.\n\nFri Oct 13 20:38:12 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/bubblebabble, ext/digest/digest.c: Rip BubbleBabble\n\t  support out of the base class and have a separate module named\n\t  digest/bubblebabble.\n\nFri Oct 13 19:53:59 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (rb_digest_base_equal): Again, should call\n\t  digest() of a subclass instead of the one defined in the base\n\t  class.\n\nFri Oct 13 18:19:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c: Class#inherited RDoc added.  a patch from Daniel\n\t  Berger <djberg96 at gmail.com>  [ruby-core:08942]\n\nFri Oct 13 02:42:00 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (rb_digest_base_equal): Should call digest()\n\t  of a subclass instead of the one defined in the base class.\n\nFri Oct 13 02:30:12 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (Collector::Dir#collect): prepend\n\t  base directory to load path.\n\n\t* lib/test/unit/collector/dir.rb (Collector::Dir#collect_file): should\n\t  use the given File-like interface, but not File directly.\n\n\t* test/testunit/collector/test_dir.rb (TestDir::FileSystem): implement\n\t  File-like methods correctly.\n\nFri Oct 13 01:48:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/date.rb (Date::self.complete_hash): need to check if g is\n\t  nil before dereference.  [ruby-core:09116]\n\nFri Oct 13 01:05:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_partition): RDoc update.  a patch from\n\t  Mauricio Fernandez <mfp at acm.org>.  [ruby-core:09160]\n\n\t* hash.c (rb_hash_compare_by_id): ditto.\n\nFri Oct 13 00:34:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_mod_cvar_defined): wrong id check.  a patch from\n\t  Mauricio Fernandez <mfp at acm.org>.  [ruby-core:09158]\n\n\t* object.c (rb_mod_cvar_get): typo fixed.  [ruby-core:09168]\n\n\t* object.c (rb_mod_cvar_set): ditto.\n\nThu Oct 12 22:58:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_compare_by_id): somehow we lost renaming from\n\t  Hash#identical.  [ruby-core:09163]\n\nThu Oct 12 18:25:40 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/tk/tkutil/tkutil.c (cbsubst_table_setup): need to handle new\n\t  character literal (1 char string).\n\n\t* lib/mkmf.rb: shut up some warnings from tk's extconf.rb.\n\nThu Oct 12 02:15:24 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb: Make use of String#bytes.\n\nThu Oct 12 02:12:31 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (get_digest_base_metadata): Use an instance\n\t  variable of a class object instead of a class variable for\n\t  metadata.  This change is only crucial for ruby 1.8 because\n\t  class variables are inherited to subclasses prior to 1.9, but\n\t  applying it also to 1.9 will assure compatibilities.\n\n\t* ext/digest/md5/md5init.c (Init_md5): Ditto.\n\n\t* ext/digest/rmd160/rmd160init.c (Init_rmd160): Ditto.\n\n\t* ext/digest/sha1/sha1init.c (Init_sha1): Ditto.\n\n\t* ext/digest/sha2/sha2init.c (Init_sha2): Ditto.\n\nWed Oct 11 21:36:47 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (rb_digest_base_alloc,\n\t  rb_digest_base_equal): Simplify the equality check and just\n\t  compare resulted digests since state-level equality should\n\t  not be so significant.\n\n\t* ext/digest/digest.h: Ditto.\n\n\t* ext/digest/*/*.[ch]: Ditto.\n\nWed Oct 11 17:11:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_obj_define_method): add half boiled RDoc document.\n\nWed Oct 11 16:57:46 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_replace): should shift lfree pointer before\n\t  calling xfree.\n\nWed Oct 11 15:07:42 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest/hmac.rb: Add digest/hmac, which implements\n\t  HMAC keyed-hashing algorithm.\n\nWed Oct 11 15:03:55 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (rb_digest_base_reset): Do not make\n\t  recursive calls, but call initialize() when reset() is not\n\t  defined in a subclass.\n\nWed Oct 11 14:56:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/digest/sha1/sha1ossl.h: libssl 0.9.8c-3 defines no\n\t  SHA_BLOCK_LENGTH.\n\nWed Oct 11 14:03:31 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (rb_digest_base_reset, Init_digest): Add\n\t  Digest::Base#reset.\n\n\t* ext/digest/digest.h: Update the header comment.\n\n\t* ext/digest/md5/md5ossl.h, ext/digest/md5/md5init.c (Init_md5):\n\t  Define DIGEST_LENGTH and BLOCK_LENGTH.\n\n\t* ext/digest/rmd160/rmd160init.c (Init_rmd160): Ditto.\n\n\t* ext/digest/sha1/sha1init.c (Init_sha1): Ditto.\n\n\t* ext/digest/sha2/sha2init.c (Init_sha2): Ditto.\n\n\t* ext/digest/depend, ext/digest/extconf.rb: Use $INSTALLFILES\n\t  rather than adding make targets. [Pointed out by: nobu]\n\nTue Oct 10 16:39:08 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (hexdigest_str_new, bubblebabble_str_new):\n\t  Perform StringValue() checks properly.\n\nTue Oct 10 13:21:21 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/sha1/depend, ext/digest/sha2/depend: Remove obsolete\n\t  dependencies.\n\nMon Oct  9 23:46:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/parsedate.rb: documentation patch from Konrad Meyer\n\t  <konrad.meyer@gmail.com>.  [ruby-doc:1238]\n\n\t* lib/open3.rb, lib/ping.rb: ditto.\n\nMon Oct  9 23:40:58 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, lib/fileutils.rb, lib/mkmf.rb, lib/optparse.rb,\n\t  lib/shellwords.rb: get rid of shadowing outer local variable.\n\nMon Oct  9 22:56:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/encoding.rb (REXML::Encoding::check_encoding): spaces\n\t  are allowed around equal sign.  [ruby-core:09032]\n\n\t* lib/rexml/parsers/baseparser.rb (REXML::Parsers::BaseParser): ditto.\n\nMon Oct  9 01:56:34 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_obj_define_method): add new method\n\t  Kernel#define_singleton_method.  [ruby-list:42851]\n\nSat Oct  7 23:53:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_scan): small documentation fix.\n\t  [ruby-core:09007]\n\nSat Oct  7 23:44:33 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_rshift): a bug in right shift of negative\n\t  bignums.  [ruby-core:09020]\n\nSat Oct  7 23:33:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (formal_assign): packed post splat arguments may conflict\n\t  with normal arguments.  [ruby-core:09021]\n\n\t* eval.c (rb_call0): ditto.\n\nSat Oct  7 11:53:04 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_mod_initialize): since module_eval no longer passes\n\t  self, use module_exec instead.  fixed: [ruby-dev:29637]\n\nSat Oct  7 00:27:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* class.c (rb_include_module): remove unnecessary check.\n\t  [ruby-talk:218402]\n\nFri Oct  6 15:19:59 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/depend: Fix header installation when the build\n\t  directory is different from srcdir. [Pointed out by: eban]\n\nFri Oct  6 09:56:31 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/Makefile.sub (config.status): shouldn't use\n\t  copy command instead of install. use -run install.\n\nFri Oct  6 06:53:46 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): small refactoring.\n\n\t* parse.y (bparam_item): fixed bugs in handling parenthesized LHS.\n\nFri Oct  6 04:47:07 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/depend: Install digest.h.\n\nFri Oct  6 04:27:40 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/md5.rb, ext/digest/lib/sha1.rb: Remove those\n\t  compatibility stub libraries.\n\n\t* sample/openssl/c_rehash.rb: Use digest/md5 instead of obsolete md5.\n\nFri Oct  6 04:09:51 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c: Make hexdigest() always call digest() internally.\n\n\t* ext/digest/digest.c: Add bubblebabble().\n\nFri Oct  6 02:38:42 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c: Allow subclassing in Ruby.\n\nFri Oct  6 02:06:10 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.c (hexdigest_str_new): Add a string size check.\n\nThu Oct  5 19:28:35 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/digest.[ch]: Since the argument order of\n\t  hash_final_func_t was inconsistent with others, change it and\n\t  rename to hash_finish_func_t to avoid confusion.\n\n\t* ext/digest/digest.[ch]: Remove and eliminate the use of\n\t  hash_end_func_t.  Implement hexdigest conversion in the base\n\t  class.\n\n\t* ext/digest/md5/md5.c, ext/digest/md5/md5.h,\n\t  ext/digest/md5/md5init.c, ext/digest/md5/md5ossl.c,\n\t  ext/digest/md5/md5ossl.h: Remove MD5_End() and change\n\t  MD5_Final() to MD5_Finish().\n\n\t* ext/digest/rmd160/depend, ext/digest/rmd160/extconf.rb,\n\t  ext/digest/rmd160/rmd160.c, ext/digest/rmd160/rmd160.h,\n\t  ext/digest/rmd160/rmd160hl.c, ext/digest/rmd160/rmd160init.c,\n\t  ext/digest/rmd160/rmd160ossl.c, ext/digest/rmd160/rmd160ossl.h:\n\t  Remove unused functions RMD160_End(), RMD160_File(),\n\t  RMD160_Data() and change RMD160_Final() to RMD160_Finish().\n\n\t* ext/digest/sha1/extconf.rb, ext/digest/sha1/sha1.c,\n\t  ext/digest/sha1/sha1.h, ext/digest/sha1/sha1hl.c,\n\t  ext/digest/sha1/sha1init.c, ext/digest/sha1/sha1ossl.c,\n\t  ext/digest/sha1/sha1ossl.h: Likewise.\n\n\t* ext/digest/sha2/extconf.rb, ext/digest/sha2/sha2.c,\n\t  ext/digest/sha2/sha2.h, ext/digest/sha2/sha2hl.c,\n\t  ext/digest/sha2/sha2init.c: Likewise.\n\nWed Oct  4 18:47:25 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/*: bugfix and update\n\t  (see ext/tk/ChangeLog.tkextlib).\n\nWed Oct  4 17:25:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): check protected visibility based on real self,\n\t  not ruby_frame->self.  [ruby-talk:217822]\n\nWed Oct  4 15:46:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (block_param): should interpret single parenthesized\n\t  left hand side expression.\n\nWed Oct  4 08:52:30 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/optparse/test_getopts.rb: changed the class name of test case\n\t  to get rid of conflict with test_optparse.rb.\n\nTue Oct  3 21:04:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (dyna_in_block): inline using macro.\n\n\t* parse.y (mlhs): simplifies the rule a bit.\n\n\t* parse.y (block_param): restrict block parameters to be local\n\t  variables only.\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_nested_iterator):\n\t  update test suite to conform the last change.\n\nTue Oct  3 02:31:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (splat_value): use \"to_splat\" instead of \"to_ary\" to\n\t  prepare splat values as an array.\n\n\t* array.c (Init_Array): define to_splat.\n\n\t* range.c (range_to_splat): new method.\n\n\t* enumerator.c (enumerator_to_splat): ditto.\n\nTue Oct  3 01:36:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_lines): returns an Enumerator instead of an\n\t  array of lines.\n\n\t* string.c (rb_str_bytes): a new method.\n\nMon Oct  2 23:47:55 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner::COLLECTORS):\n\t  base directory should be lower precedence.  fixed: [ruby-dev:29622]\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner#options): typo.\n\n\t* lib/test/unit/collector/dir.rb (Test::Unit::Collector::Dir#collect_file):\n\t  load expanded path.  fixed: [ruby-dev:29621]\n\nMon Oct  2 15:47:55 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* instruby.rb: batfile should be CRLF'ed.\n\nMon Oct  2 01:24:26 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (test-all): separate directory where running test cases\n\t  from source tree.\n\n\t* lib/test/unit/autorunner.rb (options): added --basedir, --workdir\n\t  and --load-path options.\n\n\t* lib/test/unit/collector/dir.rb (recursive_collect, collect_file):\n\t  base directory support.\n\nSun Oct  1 23:56:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.mk, ext/extmk.rb, win{32,ce}/Makefile.in: keep\n\t  LIBRUBY_SO unless need to be removed.\n\nSun Oct  1 23:12:19 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#make_switch): pass arguments directly.\n\nSat Sep 30 15:11:26 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.9.4.\n\nFri Sep 29 13:18:24 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/lib/digest.rb (Digest): Require digest.so and fix the\n\t  breakage.  Point out by NAKAMURA Usaku in [ruby-dev:29619].\n\nFri Sep 29 12:11:04 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* jcode.rb (succ!): call original succ! if $KCODE == 'n'.\n\t  fixed: [ruby-talk:216845]\n\nFri Sep 29 11:43:40 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (try_func): revert fallback checking undeclared function.\n\t  fixed: [ruby-core:08949]\n\nFri Sep 29 09:56:56 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: extout is needed for also clean.\n\t  fixed: [ruby-core:08944]\n\n\t* lib/optparse.rb (OptionParser::Switch#conv_arg): unsplat by\n\t  Proc#call if no conversion is given.\n\nThu Sep 28 23:59:31 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* node.h (struct thread): declare win32_exception_list on cygwin and\n\t  win32 regardless if it is implemented.  Provisional fix for\n\t  [ruby-core:08917].\n\nThu Sep 28 20:49:20 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/tmpdir.rb: use return value of getdir.call for length.\n\nWed Sep 27 22:08:16 2006  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/digest/md5/md5init.c (Init_md5): Now that we have digest.rb,\n\t  require \"digest\" rather than \"digest.so\".\n\n\t* ext/digest/rmd160/rmd160init.c (Init_rmd160): Ditto.\n\n\t* ext/digest/sha1/sha1init.c (Init_sha1): Ditto.\n\n\t* ext/digest/sha2/sha2init.c (Init_sha2): Ditto.\n\nWed Sep 27 21:21:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_startwith): rename startwith? to start_with?,\n\t  endwith? to endwith?, respectively.  [ruby-talk:216685]\n\nWed Sep 27 13:29:01 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::TagMaker::nOE_element_def): replace to_s by\n\t  join.  some other methods as well.  [ruby-dev:29613]\n\nWed Sep 27 01:04:49 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (try_func): check function pointer first and macro next.\n\n\t* lib/mkmf.rb (have_type): simplified with typedef and sizeof.\n\nWed Sep 27 00:08:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_shift): shift/unshift performance boost patch,\n\t  based on the patch from Eric Mahurin <eric_mahurin at yahoo.com>.\n\t  [ruby-core:05861]\n\n\t* array.c (rb_ary_unshift_m): ditto.\n\n\t* array.c (ary_make_shared): ditto.\n\n\t* array.c (RESIZE_CAPA): ditto.\n\n\t* array.c (rb_ary_free): new function to free memory.  code moved\n\t  from gc.c.\n\n\t* string.c (rb_str_free): ditto.\n\nTue Sep 26 23:57:03 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#getopts): use strings as key.\n\t  fixed: [ruby-dev:29614]\n\nTue Sep 26 15:29:55 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {win32,wince}/Makefile.sub (CPP): check predefined value.\n\nTue Sep 26 07:55:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_shift): should not move memory region if array\n\t  body is shared.  a patch from Kent Sibilev <ksruby at gmail.com>.\n\t  [ruby-core:08922]\n\nMon Sep 25 23:10:46 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (rb_push_glob): need not to check by FilePathValue().\n\t  [ruby-dev:29599]\n\n\t* dir.c (dir_globs): ditto.\n\nMon Sep 25 22:26:26 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_path_end): skip root directory.  fixed: [ruby-core:08913]\n\n\t* lib/mkmf.rb (rm_f): get rid of NUL.\n\n\t* lib/mkmf.rb (init_mkmf): set default $LDFLAGS.  Patch by Michal\n\t  Suchanek <hramrach at centrum.cz>.  [ruby-talk:216256]\n\nMon Sep 25 15:06:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/test.rb: \"print nil\" now prints empty string.\n\n\t* test/ruby/test_system.rb (TestSystem::test_system): ditto.\n\nMon Sep 25 11:26:25 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (recursive_hash): remove unused local variable.\n\n\t* parse.y (parser_yylex): ditto.\n\n\t* parse.y (rb_gc_mark_symbols): fix unmatched prototype .\n\n\t* file.c (rb_get_path): check NUL byte in the path string.\n\nMon Sep 25 08:14:43 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_shift): should clear shifting top element.\n\t  [ruby-talk:216055]\n\n\t* array.c (rb_ary_shift): avoid creating shared object if array\n\t  size is small.\n\nMon Sep 25 08:11:35 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* random.c (rb_f_rand): RDoc typo fix.  a patch from Frederick\n\t  Cheung <fred at 82ask.com>.  [ruby-talk:216047]\n\nSun Sep 24 21:19:24 2006  Guy Decoux  <ts@moulon.inra.fr>\n\n\t* gc.c (gc_mark_children): NODE_POSTEXE holds Ruby VALUE.\n\t  [ruby-core:08912]\n\nSun Sep 24 22:28:20 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* runruby.rb: extension library scripts moved into common directory.\n\nSun Sep 24 12:10:04 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.9.3.\n\nSun Sep 24 06:55:36 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_print): no special handling for nil as well as puts.\n\t  fixed: [ruby-dev:29586]\n\nSun Sep 24 06:25:53 2006  why the lucky stiff  <why@ruby-lang.org>\n\n\t* eval.c (rb_thread_save_context, rb_thread_restore_context):\n\t  sandbox hook to save and restore sandbox state.\n\n\t* eval.c (thread_no_ensure): added THREAD_NO_ENSURE thread flag.\n\n\t* eval.c (rb_thread_kill_bang): Thread#kill! uses the above flag\n\t  to circumvent ensure, in order to prevent endless loops.\n\t  contributed by MenTaLguY. [ruby-core:08768]\n\n\t* eval.c (rb_thread_kill): fix Thread#kill docs, which returns\n\t  the thread object in all cases.\n\n\t* node.h: expose the rb_jmpbuf_t and rb_thread_t structs, along\n\t  with the thread flags.  used by the sandbox extension.\n\n\t* ruby.h: extern rb_eThreadError, so sandbox can swap it.\n\nSat Sep 23 21:34:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): CGI content\n\t  may be empty.  a patch from Jamis Buck <jamis at 37signals.com>.\n\nSat Sep 23 20:54:28 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.4.4\n\n\t* regexec.c: ditto.\n\n\t* regcomp.c ditto.\n\nSat Sep 23 08:35:53 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc/ri/ri_options.rb: prevent NameError.  [ruby-dev:29597]\n\nSat Sep 23 01:02:57 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.9.2.\n\nFri Sep 22 18:07:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_partition): no need to call rb_call_super(),\n\t  since String is no longer includes Enumerable.\n\nFri Sep 22 17:33:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_eql): new method to be used by Hash.\n\n\t* hash.c (rb_hash_hash): ditto.\n\nFri Sep 22 06:53:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_hash): use rb_memhash().\n\n\t* numeric.c (flo_hash): simplified.  klass need not to affect\n\t  resulting hash value.\n\nFri Sep 22 02:06:26 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* .cvsignore: ignore timestamp files and installed list file.\n\nFri Sep 22 01:36:34 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb: include FileUtils unconditionally.\n\nFri Sep 22 00:36:05 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (Init_Numeric): fix_odd_p and fix_even_p are for Fixnum.\n\t  patch from Ondrej Bilka <neleai at seznam.cz>.  [ruby-core:08904]\n\nThu Sep 21 22:56:20 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (no-install): not install rdoc actually.\n\n\t* common.mk (install-doc, no-install-doc): use instruby.rb.\n\n\t* instruby.rb: rdoc installation.\n\n\t* ext/extmk.rb: expand ruby executable names.\n\nThu Sep 21 20:19:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_new3): embed shorter strings more eagerly.\n\nThu Sep 21 17:44:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_startwith): a new method to check if a string\n\t  starts with given prefix.\n\n\t* string.c (rb_str_endwith): the opposite of String#startwith?.\n\nThu Sep 21 16:29:02 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* rubytest.rb: use each_line instead of each.\n\nThu Sep 21 15:06:24 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_odd_p): a new method to check even or odd.\n\t  [RCR#337]\n\n\t* numeric.c (int_even_p): ditto.\n\nThu Sep 21 13:55:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/etc/etc.c (etc_getpwuid): uid integer should be wrapped in\n\t  uid_t value.  [ruby-core:08897]\n\n\t* ext/etc/etc.c (etc_getpwuid): uid_t may be bigger than plain\n\t  'int' type.\n\nThu Sep 21 10:07:09 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_partition): RDoc typo fixed.  [ruby-core:08898]\n\n\t* string.c (rb_str_rpartition): fixed separation seek bug.\n\nThu Sep 21 09:38:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_lines): new method to split a string into lines.\n\n\t* string.c (Init_String): Strings are no longer Enumerable.  use\n\t  each_line or lines method explicitly.\n\n\t* string.c (Init_String): remove each method. use each_lines.\n\nWed Sep 20 23:17:41 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (pre-install-doc): create data directory before install.\n\n\t* lib/mkmf.rb (dir_re): fixed typo.\n\n\t* lib/mkmf.rb (install_dirs): remove extra slash.\n\nWed Sep 20 22:41:45 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_mul): typo again.  patch from Tadashi Saito\n\t  <shiba at mail2.accsnet.ne.jp>.  fixed: [ruby-core:08893]\n\nWed Sep 20 19:32:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_partition): a new method to separate the string\n\t  by a separator.  taken from Python 2.5.\n\n\t* string.c (rb_str_rpartition): ditto.\n\nWed Sep 20 09:49:40 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/Makefile.sub (INSTALLED_LIST): need to define\n\t  this macro to install.\n\nWed Sep 20 09:43:10 2006  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: allow extra spaces in responses.\n\t  Thanks, Tom Soderlund.\n\nWed Sep 20 09:25:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/gdbm/gdbm.c: add RDoc documentation. a patch from Peter\n\t  Adolphs <futzilogik at users dot sourceforge dot net>.\n\t  [ruby-doc:1223]\n\nTue Sep 19 00:42:15 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_obj_ivar_defined, rb_mod_cvar_defined): new methods,\n\t  Kernel#instance_variable_defined? and Module#class_variable_defined?.\n\t  [ruby-dev:29587]\n\n\t* lib/date/format.rb (Date::Bag#method_missing): use new method,\n\t  instance_variable_defined? to check if an instance variable is\n\t  defined.  fixed: [ruby-dev:29554]\n\t  -- This didn't fix anything.\n\nTue Sep 19 00:07:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_eql): fail early to gain performance.\n\n\t* string.c (sym_hash): cache hash value in aux.shared if possible.\n\n\t* gc.c (rb_obj_id): no need to treat symbols specially.\n\n\t* lib/fileutils.rb (FileUtils::FileUtils): singleton_methods() no\n\t  longer return an array of strings, but of symbols.\n\n\t* lib/delegate.rb (DelegateClass): ditto.\n\nMon Sep 18 15:29:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_s_glob): restore GC protection volatile variable.\n\t  [ruby-dev:29588]\n\n\t* re.c (rb_reg_regcomp): ditto.\n\nMon Sep 18 12:16:48 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_mul): get rid of shift overflow.\n\nMon Sep 18 10:47:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_s_glob): remove unused variable.\n\n\t* math.c (math_log): ditto.\n\n\t* re.c (rb_reg_regcomp): ditto.\n\n\t* eval.c (break_jump): ditto.\n\n\t* eval.c (rb_thread_yield_0): remove unused function.\n\nSun Sep 17 23:44:58 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/rdoc.rb (RDoc::RDoc#document): scan only files modified\n\t  after the previous generation.\n\nSun Sep 17 17:42:13 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (install-doc): reverted.\n\n\t* instruby.rb: stores file name list without destdir prefix.\n\n\t* lib/rdoc/generators/ri_generator.rb: do not chdir twice.\n\nSun Sep 17 10:42:10 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (fix_mul): fixed typo.  fixed: [ruby-core:08885]\n\nSat Sep 16 19:47:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* README.EXT: should mention new macros: RSTRING_PTR, RSTRING_LEN,\n\t  RARRAY_PTR, RARRAY_LEN.\n\n\t* README.EXT.ja: ditto.\n\nSat Sep 16 16:39:23 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.in, instruby.rb, ext/extmk.rb, lib/mkmf.rb:\n\t  use instruby.rb to install extensions instead of ext/extmk.rb.\n\n\t* instruby.rb: store installed list into the file.\n\n\t* ext/dbm/extconf.rb: allow multiple candidates for dbm-type.\n\n\t* ext/io/wait/extconf.rb: suspicious checking_for.\n\n\t* ext/pty/pty.c (establishShell): parent pid is not used.\n\n\t* ext/pty/pty.c (freeDevice): not used.\n\n\t* lib/mkmf.rb (checking_for): improved the messages.\n\nSat Sep 16 11:03:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (ary_shared_first): should create embedded copies\n\t  instead of sharing memory region for smaller arrays.\n\nSat Sep 16 09:37:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (inspect_struct): do not display a class name for\n\t  anonymous struct.  The member fields are sufficient.\n\nFri Sep 15 20:22:15 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-8/nkf.c: imported nkf 2.0.8 rev.110.\n\t  * Fix: check_bom cuts \\xfe\\xff\\xXX\\xXX of UTF-32LE.\n\t  * Add support --ic=UTF-32.\n\t  * Fix: can't guess UTF-16 and UTF-32.\n\t  * Fix: can't decode beyond BMP of UTF-16LE.\n\n\t* ext/nkf/nkf.c (guess): Support UTF-32.\n\n\t* ext/nkf/lib/kconv.rb (kconv): Support UTF-32.\n\n\t* ext/nkf/lib/kconv.rb (to_utf32): new method.\n\nFri Sep 15 05:23:24 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-8/nkf.c: imported nkf 2.0.8 2006-09-15.\n\t  Add support for U+10000 - U+10FFFF\n\t  Add support UTF-32\n\nFri Sep 15 00:03:07 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/digest/lib/digest.rb (Digest::Base.file): open a file in binary\n\t  mode.  suggested by Kazuhiro NISHIYAMA.  [ruby-dev:29579]\n\nThu Sep 14 17:21:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_mul): avoid bignum multiplication as far as\n\t  possible.  a patch from Ondrej Bilka <neleai at seznam.cz>.\n\t  [ruby-core:08825]\n\nThu Sep 14 16:34:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): allow zero length symbols.\n\t  [ruby-core:08861]\n\nThu Sep 14 16:11:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): raise SecurityError only when $SAFE\n\t  level is greater than zero.  [ruby-core:08862]\n\n\t* parse.y (rb_interned_p): new function to check if a string is\n\t  already interned.\n\n\t* string.c (str_to_id): use rb_str_intern().\n\nThu Sep 14 14:37:45 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/digest/lib/digest.rb (Digest::Base.file): new method.\n\t  [ruby-dev:29572]\n\nThu Sep 14 08:30:02 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/digest/digest.c (rb_digest_base_inspect): new method.\n\t  [ruby-dev:29573]\n\nThu Sep 14 01:13:56 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (ruby_init_stack): decrease \"stack level too deep\" in Windows.\n\t  [ruby-dev:29569]\n\nThu Sep 14 01:02:25 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/digest/lib/digest.rb: new file.\n\t  [ruby-dev:28689]\n\nWed Sep 13 18:43:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* README.EXT: English adjustment.  [ruby-core:08851] and\n\t  [ruby-core:08852]\n\nWed Sep 13 18:25:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-parse-partial): better here-doc support.\n\t  a patch from Marshall T. Vandegrift <llasram at gmail.com>.\n\t  [ruby-core:08804]\n\nWed Sep 13 16:43:36 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): prohibit interning tainted string.\n\nWed Sep 13 01:14:02 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#getopts): works with pre-registered\n\t  options.  [ruby-core:08826]\n\nTue Sep 12 03:58:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_compare_by_identity): rename Hash#identical to\n\t  Hash#compare_by_identity.\n\nMon Sep 11 16:52:37 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_identical): a new method to make a hash to\n\t  compare keys by their identity.\n\n\t* hash.c (rb_hash_identical_p): new method to tell if a hash is\n\t  identical or not.\n\n\t* st.c (st_numcmp, st_numhash): export hash type functions.\n\nMon Sep 11 11:42:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rexml/source.rb (REXML::Source::encoding): should not\n\t  convert the body twice.  [ruby-core:08828]\n\n\t* lib/rexml/encoding.rb (REXML::Encoding::encoding):\n\t  Encoding#encoding= to return boolean value to tell if the body\n\t  is really converted or not.\n\n\t* lib/rexml/encoding.rb (REXML::Encoding::encoding): Specific\n\t  conversion library (e.g. rexml/encodings/UTF-16.rb) to have\n\t  higher preceding.\n\n\t* lib/rexml/encodings/UTF-16.rb (REXML::Encoding::decode_utf16):\n\t  UTF-16#decode_utf16 should work strings without BOM.\n\nMon Sep 11 07:39:44 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_equal): \"sym == str\" should compare them as\n\t  strings.  [ruby-dev:29554]\n\nSun Sep 10 22:59:43 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (parse_args): remove splat.\n\nSun Sep 10 20:25:30 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.9.1.\n\nSun Sep 10 09:41:29 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c: ISPRINT() needs ctype.h\n\nSun Sep 10 09:19:47 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb: splat parsed arguments.\n\nTue Jan 10 09:18:03 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_require_safe): prevent extension from loading twice.\n\t  fixed: [ruby-dev:29523]\n\nSat Sep  9 23:55:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_f_test): test(0) should not have any special\n\t  meaning.  [ruby-dev:29425]\n\n\t* file.c (rb_f_test): properer error message.\n\nSat Sep  9 14:08:38 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/test/unit/testcase.rb (Test::Unit::TestCase#run): Rescue\n\t  Exception in Test::Unit::TestCase#run.  [ruby-core:08783]\n\nSat Sep  9 04:55:59 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pstore.rb: open all in binary mode, and get rid of the quirk of\n\t  msvcrt.  fixed: [ruby-dev:29518]\n\nSat Sep  9 04:47:45 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, win32/Makefile.sub (MINIRUBY): append MINIRUBYOPT.\n\n\t* mkconfig.rb, ext/extmk.rb, lib/mkmf.rb, win32/mkexports.rb: suppress\n\t  warnings with $VERBOSE.\n\n\t* win32/resource.rb: only file which has more than one icon is DLL.\n\nFri Sep  8 16:53:30 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_alloc): should allocate a String object, even when\n\t  asked to allocate a Symbol object.  [ruby-dev:29529]\n\nFri Sep  8 16:36:27 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): follow Array#to_s.\n\n\t* lib/mkmf.rb (create_makefile): ditto.\n\n\t* win32/resource.rb: ditto.\n\nFri Sep  8 10:00:12 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cookie.rb (WEBrick::Cookie.parse_set_cookies): new\n\t  method to parse multiple cookies per Set-Cookie header.\n\t  Thanks to Aaron Patterson <aaron_patterson at speakeasy.net>.\n\t  [ruby-core:08802]\n\nFri Sep  8 08:59:30 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub, win32/configure.bat win32/setup.mak: program\n\t  name transform.\n\nFri Sep  8 08:25:39 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb: suppress `assigning void value' warning.\n\nFri Sep  8 01:16:34 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (Init_Array): #to_s to be an alias to #inspect.\n\t  [ruby-dev:29520]\n\n\t* hash.c (Init_Hash): ditto.\n\n\t* lib/mkmf.rb (create_makefile): replace \"print array\" by\n\t  \"print *array\".\n\n\t* mkconfig.rb: ditto.\n\nThu Sep  7 21:02:56 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (nil_to_s): returns the empty string again.\n\t  [ruby-dev:29520]\n\nThu Sep  7 23:27:05 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (path_check_0, fpath_check): disable path check on cygwin.\n\t  [ruby-talk:213074]\n\nThu Sep  7 02:03:45 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_to_s): adopt new date format using digits\n\t  e.g. \"2006-09-07 02:03:45 +9000\".\n\nThu Sep  7 01:54:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (sym_equal): override.  check equivalence.\n\nWed Sep  6 13:25:04 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (symbols_i): need to initialize early-created symbols.\n\t  [ruby-dev:29496]\n\nWed Sep  6 12:05:19 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (Kconv::toeuc): remove -m0 [ruby-dev:29505]\n\nTue Sep  5 22:06:43 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/tcltklib.c: use rb_ary_new3() since RARRAY_LEN() is not l-value.\n\n\t* ext/tk/tkutil/tkutil.c: use RARRAY_PTR() and RARRAY_LEN() and etc.\n\t  fixed: [ruby-dev:29473]\n\nTue Sep  5 06:47:22 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_to_s): variable declaration after an execution\n\t  statement.\n\nTue Sep  5 05:49:41 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (path_check_0): check if sticky bit is set on parent\n\t  directories for executable path.  fixed: [ruby-dev:29415]\n\nTue Sep  5 05:03:46 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_plus): addition in Fixnum will never overflow\n\t  long.  a patch from Ondrej Bilka <neleai at seznam.cz>.\n\t  [ruby-core:08794]\n\n\t* numeric.c (fix_minus): ditto.\n\n\t* bignum.c (rb_big_pow): eagerly truncate resulting bignum.\n\t  [ruby-core:08794]\n\nMon Sep  4 23:15:34 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_to_s): make it conform to RFC2822 date format.\n\t  [ruby-dev:29467]\n\nMon Sep  4 21:43:57 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dbm/extconf.rb: create makefile according to the result of check\n\t  for dbm header.  fixed: [ruby-dev:29445]\n\nMon Sep  4 21:39:42 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.9.\n\nMon Sep  4 21:14:20 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_strftime): include nul character.  fixed: [ruby-dev:29422]\n\nMon Sep  4 16:39:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::out): specify -x option for nkf.\n\n\t* lib/cgi.rb (CGI::out): should not convert utf-8 implicitly using\n\t  NKF.  it is too Japanese centric.\n\nMon Sep  4 14:23:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dbm/extconf.rb (db_check): remove debug print.\n\nMon Sep  4 06:46:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (rb_id2sym): intern if id is attrset_id.\n\t  [ruby-dev:29420] [ruby-dev:29447]\n\nMon Sep  4 01:25:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_local_variables): list symbols.\n\n\t* struct.c (rb_struct_s_members_m): ditto.\n\n\t* variable.c (ivar_i): ditto.\n\n\t* variable.c (gvar_i): ditto.\n\n\t* variable.c (cv_i): ditto.\n\nSun Sep  3 20:47:02 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.h (SYMBOL_P): Qnil and Qfalse are not Symbol.\n\nSun Sep  3 15:32:44 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: get rid of nil.to_s.\n\nSun Sep  3 06:24:38 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c (ruby_connect): sockerrlen should be socklen_t.\n\nSun Sep  3 04:40:42 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/extconf.rb: check arpa/inet.h for ntohs.\n\n\t* ext/socket/socket.c: include arpa/inet.h if available.\n\nSat Sep  2 23:59:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (Init_String): undef Symbol#new.\n\n\t* struct.c (rb_struct_s_def): wrong symbol detection.\n\nSat Sep  2 23:59:37 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_to_id): a bug caused by premature optimization.\n\nSat Sep  2 23:53:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): move symbol related code to string.c\n\n\t* string.c (Init_String): Symbol as subclass of String.\n\n\t* parse.y (rb_intern2): handle symbol as strings.\n\n\t* string.c (str_new): substring of symbols are mere strings, not\n\t  symbols.\n\nSat Sep  2 23:37:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (struct RArray): embed small arrays.\n\t  (RARRAY_LEN): defined for accessing array members.\n\t  (RARRAY_PTR): ditto.\n\n\t* array.c: use RARRAY_LEN and RARRAY_PTR.\n\nSat Sep  2 13:23:01 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* common.mk (ia64.o): use the compiler driver to assemble ia64.s\n\t  to use appropriate ABI.\n\nSat Sep  2 12:06:35 2006  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/generator.rb (SOAP::SOAPGenerator#encode_tag): do not dump\n\t  XML attribute which value is nil.  value \"\" and nil both were dumped\n\t  as 'attr=\"value\"'.  [ruby-dev:29395]\n\nSat Sep  2 11:47:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): should handle when in else clause.  a patch\n\t  from Eric Hodel <drbrain at segment7.net>.  [ruby-core:08662]\n\n\t* parse.y (primary): wrap with NODE_CASE.  [ruby-core:08663]\n\nSat Sep  2 12:00:32 2006  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb (CSV::IOReader#initialize): use String#[](pos, len)\n\t  instead of String#[](idx) to check utf BOM.  follows String#[](idx)\n\t  behavior change of 1.9.\n\nSat Sep  2 11:47:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): should handle when in else clause.  a patch\n\t  from Eric Hodel <drbrain at segment7.net>.  [ruby-core:08662]\n\n\t* parse.y (primary): wrap with NODE_CASE.  [ruby-core:08663]\n\nFri Sep  1 22:07:04 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (RSTRING_EMBED_LEN_MASK): uses 5 bits to support 64bit\n\t  environment.  [ruby-dev:29369]\n\nFri Sep  1 22:02:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_resize): should copy embedded string to\n\t  malloc'ed buffer.  a patch from <nobu at ruby-lang.org> in\n\t  [ruby-dev:29369].  fixed: [ruby-dev:29368]\n\n\t* string.c (rb_str_ord): use %ld specifier since STRING_LEN() is a\n\t  long.  [ruby-dev:29369]\n\nFri Sep  1 21:41:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (socks_init): typo fixed.  a patch from Sven\n\t  Klemm <sven at c3d2.de>.  [ruby-core:08770]\n\nFri Sep  1 14:22:42 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* array.c (rb_ary_shuffle): RDoc fixed.\n\nFri Sep  1 13:52:57 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/font.rb: TkFont#current_configinfo() doesn't work\n\t  on Tcl/Tk8.x.\n\nFri Sep  1 09:32:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex::getc): should not push nil into\n\t  reading buffer (@readed).  reported in\n\t  <http://jarp.does.notwork.org/diary/200608c.html#200608311>.\n\nThu Aug 31 23:59:03 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): follow nil.to_s.\n\nThu Aug 31 20:50:46 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): follow nil.to_s.\n\n\t* win32/resource.rb: ditto.\n\nThu Aug 31 20:21:47 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (search_required): use RSTRING_PTR and RSTRING_STR.\n\n\t* file.c (test_identical, rb_file_s_truncate): ditto.\n\n\t* io.c (pipe_open, rb_io_reopen): ditto.\n\n\t* object.c (nil_plus): ditto.\n\n\t* process.c (proc_spawn_n, rb_spawn): ditto.\n\n\t* util.c (ruby_add_suffix): ditto.\n\n\t* ext/Win32API/Win32API.c (Win32API_initialize): ditto.\n\n\t* ext/dl/cptr.c (rb_dlptr_s_to_ptr): ditto.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509extfactory_create_ext): ditto.\n\n\t* ext/tk/stubs.c, ext/tk/tcltklib.c, ext/tk/tkutil/tkutil.c: ditto.\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata): ditto.\n\nThu Aug 31 18:23:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (struct RString): embed small strings.\n\t  (RSTRING_LEN): defined for accessing string members.\n\t  (RSTRING_PTR): ditto.\n\n\t* string.c: use RSTRING_LEN and RSTRING_PTR.\n\nThu Aug 31 17:16:19 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_shuffle_bang): new method.\n\n\t* array.c (rb_ary_shuffle): ditto.\n\n\t* random.c (genrand_real): ditto.\n\n\t* random.c (genrand_int32): export the function.\n\n\t* random.c (Init_Random): initialize random seed at the\n\t  beginning.\n\nThu Aug 31 13:12:06 2006  why the lucky stiff  <why@ruby-lang.org>\n\n\t* eval.c (ruby_init): rename top_cref to ruby_top_cref and export,\n\t  along with ruby_cref, for use by the sandbox. [ruby-core:08762]\n\n\t* node.h: ditto.\n\nWed Aug 30 12:01:57 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (flo_hash): improve collision.\n\n\t* string.c (rb_memhash): new generic function to calculate hash value\n\t  for memory chunk.\n\nTue Aug 29 19:10:10 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (rb_hash_s_create): fixed memory leak, based on the patch\n\t  by Kent Sibilev <ksruby at gmail.com>.  fixed: [ruby-talk:211233]\n\nMon Aug 28 11:29:46 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* eval.c, parse.y: Revert.\n\t* ext/.document: Add digest.c.\n\t* ext/digest/digest.c: Make RDoc show up.\n\t* ext/io/wait.c: Fix call-seq in RDoc.\n\nMon Aug 28 08:03:20 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* ext/.document: Add C files with RDoc.\n\t* ext/digest/digest.c: Convert to RDoc.\n\t* ext/io/wait.c: ditto.\n\t* lib/rdoc/parsers/parse_rb.rb: Fix typo.  Submitted by\n\t  <calamitas at gmail.com>.  [ruby-core:08724]\n\nMon Aug 28 07:21:47 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* file.c (File#size?): Fix documentation submitted by Rick Ohnemus.\n\t  ruby-Bugs-5529.  [ruby-core:08725]\n\nSun Aug 27 21:41:23 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.4.0\n\n\t* regint.h: ditto.\n\n\t* regparse.h: ditto.\n\n\t* regexec.c: ditto.\n\n\t* regcomp.c ditto.\n\n\t* regparse.c: ditto.\n\nSat Aug 26 08:03:03 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: updated based on date2 3.8.2.\n\nFri Aug 25 21:15:22 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* common.mk: add regint.h and oniguruma.h to dependence.\n\n\t* ext/strscan/depend: ditto.\n\nFri Aug 25 20:35:57 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/wsdl/document/echo.rb: removed.\n\n\t* test/wsdl/document/test_rpc.rb: remove echo.rb after test.\n\t  [ruby-dev:29337]\n\nFri Aug 25 17:02:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_sweep): typo fixed.\n\nFri Aug 25 16:05:50 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (sym_call): check if the receiver is given.\n\nFri Aug 25 01:10:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_Integer): Integer(nil) should raise TypeError.\n\t  [ruby-talk:210205]\n\n\t* object.c (nil_to_s): no longer returns empty string but \"nil\".\n\t  [ruby-talk:210205]\n\n\t* lib/mkmf.rb: avoid COMMON_HEADERS being nil.\n\nWed Aug 23 00:25:14 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rexml/source.rb (REXML::IOSource#initialize): encoding have to\n\t  be set with the accessor.  fixed: [ruby-list:42737]\n\nTue Aug 22 19:21:00 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: parameter `to_addrs' might be an Array,\n\t  .flatten is required. [ruby-dev:29316]\n\nTue Aug 22 18:47:51 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::handle_method):\n\t  rdoc documents C module methods as instance methods. a patch in\n\t  [ruby-core:08536].\n\nTue Aug 22 12:35:57 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (Kconv::RegexpEucjp): fix regexp for\n\t  euc-jp [ruby-dev:29344]\n\nSun Aug 20 11:46:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* numeric.c (num_step): also return an enumerator object if no block\n\t  is given.\n\nSat Aug 19 16:47:51 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (hash2named_arg): accept hash argument\n\t  of symbol key.\n\n\t* test/win32ole/test_win32ole.rb\n\t  ditto.\n\nSat Aug 19 11:28:08 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_rename): use errno if set properly.\n\t  fixed: [ruby-dev:29293]\n\nFri Aug 18 01:05:57 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::out): specify -m0 to disable MIME decode.  a\n\t  patch from Fujioka <fuj at rabbix.jp>.  [ruby-dev:29284]\n\nThu Aug 17 19:15:16 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_stat_[rRwWxX]): check for super user.\n\t  fixed: [ruby-core:08616]\n\nThu Aug 17 14:47:06 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: added rdoc by Daniel Berger.  [ruby-core:08177]\n\nWed Aug 16 17:46:59 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (r_byte): IO#getc returns one byte string now.\n\t  fixed: [ruby-dev:29255]\n\nWed Aug 16 17:22:44 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (pre-install-local): remove unnecessary code.\n\t  [ruby-dev:29249]\n\nWed Aug 16 11:45:36 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (proc_setuid, proc_setgid, proc_seteuid, proc_setegid):\n\t  get rid of bogus implementations on Mac OS X.\n\nWed Aug 16 11:09:26 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (set_arg0): fill argv other than the first with an empty\n\t  string instead of NULL.\n\nTue Aug 15 11:21:08 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: support SMTP/SSL.  Thanks Kazuhiro NISHIYAMA.\n\n\t* lib/net/smtp.rb: new method SMTP.use_ssl?\n\n\t* lib/net/smtp.rb: new method SMTP.enable_ssl.\n\n\t* lib/net/smtp.rb: new method SMTP.disable_ssl.\n\n\t* lib/net/smtp.rb: new method SMTP.default_ssl_port.\n\n\t* lib/net/smtp.rb: new method SMTP.default_tls_port.\n\n\t* lib/net/smtp.rb: now SMTP#enable_tls accepts a SSLContext\n\t  object, instead of a verity and cert.  [FEATURE CHANGE]\n\n\t* lib/net/smtp.rb: new method SMTP.ssl_context.\n\n\t* lib/net/smtp.rb: new method SMTP.default_ssl_context.\n\n\t* lib/net/smtp.rb: export SMTP.authenticate.\n\n\t* lib/net/smtp.rb: export SMTP.auth_plain.\n\n\t* lib/net/smtp.rb: export SMTP.auth_login.\n\n\t* lib/net/smtp.rb: export SMTP.auth_cram_md5.\n\n\t* lib/net/smtp.rb: export SMTP.starttls.\n\n\t* lib/net/smtp.rb: export SMTP.helo.\n\n\t* lib/net/smtp.rb: export SMTP.ehlo.\n\n\t* lib/net/smtp.rb: export SMTP.mailfrom.\n\n\t* lib/net/smtp.rb: export SMTP.rcptto.\n\n\t* lib/net/smtp.rb: export SMTP.rcptto_list.\n\n\t* lib/net/smtp.rb: export SMTP.data.\n\n\t* lib/net/smtp.rb: export SMTP.quit.\n\nSat Aug 12 22:33:06 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* string.c (String#split): Describe grouping behavior.  Patch by Jan\n\t  Svitok <jan.svitok at gmail.com>.  [ruby-core:08603]\n\nSun Aug 13 12:08:02 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/socket/socket.c: ANSIfied.  [ruby-core:08601]\n\nSat Aug 12 15:55:32 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, bcc32/Makefile.sub, win32/Makefile.sub, win32/dir.h,\n\t  win32/win32.c, win32/win32.h: large file support for win32.\n\nFri Aug 11 15:39:25 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#find_body): Make RDoc\n\t  ignore C function prototypes.  Patch by Tilman Sauerbeck\n\t  <tilman at code-monkey.de>.  [ruby-core:8574]\n\t* lib/yaml/tag.rb: Replace nodoc with stopdoc so Module methods get\n\t  documented.\n\nWed Aug  9 16:53:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/smtp.rb (Net::SMTP::auth_cram_md5): use ord to retrieve\n\t  bytes from strings.  a patch from WATANABE Tetsuya\n\t  <Tetsuya.WATANABE at nifty.com>.  [ruby-dev:29240]\n\nTue Aug  8 23:49:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/extend-command.rb (IRB::ExtendCommandBundle): pacify\n\t  RDoc.  a patch from Eric Hodel <drbrain at segment7.net>.\n\t  [ruby-core:08522]\n\nTue Aug  8 19:26:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Message::MessageDecoder::get_string):\n\t  affected by str[0] returns 1 char string.  [ruby-dev:29223]\n\n\t* lib/resolv.rb (Resolv::DNS::Message::MessageDecoder::get_labels):\n\t  ditto.\n\nTue Aug  8 12:28:43 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (arg): allow newlines before ternary colon.  [ruby-dev:29189]\n\nMon Aug  7 17:56:59 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c, ext/digest/rmd160/rmd160ossl.c,\n\t  ext/digest/sha1/sha1ossl.c, ext/readline/readline.c: move\n\t  inclusion of config.h to pacify AIX.  a patch from Yutaka\n\t  Kanemoto <kinpoco at gmail.com>.  [ruby-dev:29197]\n\nMon Aug  7 15:55:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/syck.c (syck_move_tokens): should avoid negative\n\t  memmove.  [ruby-list:42625]\n\nMon Aug  7 14:37:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in, common.mk: AIX link issue.  a patch from Yutaka\n\t  Kanemoto <kinpoco at gmail.com>.  [ruby-dev:29190]\n\n\t* ext/socket/socket.c: AIX socket support.  [ruby-dev:29190]\n\nMon Aug  7 12:05:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dln.c, eval.c, gc.c, ruby.h: shut up AIX alloca warning.\n\t  a patch from Yutaka Kanemoto <kinpoco at gmail.com>.\n\t  [ruby-dev:29191]\n\nSun Aug  6 20:34:24 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (str[fp]time): %[EO]U didn't denote %U.\n\nSun Aug  6 17:12:12 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_reopen): STDERR.reopen(open(\"/dev/tty\", \"w\")) should not\n\t  clear FMODE_PREP in STDERR.\n\nSat Aug  5 22:53:41 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.2.2\n\n\t* regint.h: ditto.\n\n\t* regparse.h: ditto.\n\n\t* regexec.c: ditto.\n\n\t* regcomp.c ditto.\n\n\t* regerror.c: ditto.\n\n\t* regparse.c: ditto.\n\nSat Aug  5 17:07:43 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (top_local_setup): local_vars[-1] should point\n\t  ruby_scope itself to protect local_tbl from garbage collection.\n\t  [ruby-dev:29049]\n\nSat Aug  5 13:49:43 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb (str[fp]time): \"%\\n\" means \"\\n\".\n\nFri Aug  4 12:13:22 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib: Clean up files for RDoc.\n\t* lib/.document: Include most of the standard library in RDoc\n\t  generation.\n\t* lib/rdoc/ri/ri_formatter.rb: Don't unescape HTML in HtmlFormatter.\n\t  Submitted by <ksruby at gmail.com>.  [ruby-core:08392].\n\t* lib/drb/ssl.rb: Close socket on SSLError [ruby-core:7197]\n\nFri Aug  4 18:59:49 2006  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/{init.rb,ruby-lex.rb,slex.rb}: can't input '\\c' for\n\t  [ruby-core: 7122]. and support for ruby1.8.X\n\nFri Aug  4 14:02:14 2006  James Edward Gray II  <james@grayproductions.net>\n\n\t* lib/date/format.rb (__strptime, strftime): allow multi-line patterns\n\t  in Date#strftime the same as Time#strftime accepts.\n\t  fixed: [ruby-core:08466]\n\nFri Aug  4 13:56:51 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_pack): check argument overrun for 'P'.  based on a\n\t  patch by rucila <rucila at yahoo.cojp>.  fixed: [ruby-dev:29182]\n\nFri Aug  4 02:42:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): a bug in %c type check.\n\nFri Aug  4 01:28:19 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* io.c (io_reopen): STDERR.reopen(File.open(\"/dev/null\", \"w\")) should\n\t  not fclose stderr.\n\nThu Aug  3 15:16:44 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_include): should always call Enumerable#include?\n\t  (not #===) for non numeric end points.  [ruby-core:08477]\n\t  [ruby-core:08496]\n\nMon Jul 31 16:51:40 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (exit_handler): new function; release winsock and\n\t  environment work area.\n\n\t* win32/win32.c (NTInitialize): setup exit_handler.\n\n\t* win32/win32.c (StartSockets): use exit_handler.\n\n\t* win32/win32.c (rb_w32_getenv): use GetEnvironmentStrings() instead\n\t  of GetEnvironmentVariable(), because the latter cannot distinguish\n\t  whether a null environment variable exists or not.\n\t  fixed: [ruby-talk:205123]\n\nMon Jul 31 16:15:13 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* test/ruby/test_process.rb (TestProcess#test_rlimit_nofile):\n\t  setrlimit may fail with EINVAL.\n\t  reported by MIYAMUKO Katsuyuki.  [ruby-dev:29174]\n\nMon Jul 31 09:22:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h: use ifdef (or defined) for macro constants that may or\n\t  may not be defined to shut up gcc's -Wundef warnings.\n\t  [ruby-core:08447]\n\nMon Jul 31 13:38:13 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPReuqest#parse_uri): improve\n\t  for the value of IPv6 address in the Host: header field.\n\nSun Jul 30 23:26:12 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_call0): trace call/return of method defined from block.\n\t  fixed: [ruby-core:08329]\n\n\t* eval.c (rb_trap_eval): make the current thread runnable to deal with\n\t  exceptions which occurred within the trap.  fixed: [ruby-dev:27729]\n\n\t* lib/cgi/session.rb, lib/cgi/session/pstore.rb: suppress warnings.\n\t  fixed: [ruby-talk:204896]\n\nSat Jul 29 06:12:06 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: freeze ip_name for security reason.\n\nSat Jul 29 01:23:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/logger.rb: improves the amount of documentation that Rdoc\n\t  picks up when processing logger.rb by moving the require\n\t  statement back before the comment block.  a patch from Hugh\n\t  Sasse <hgs at dmu.ac.uk>.  [ruby-core:08422]\n\nFri Jul 28 17:18:03 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/curses/curses.c (NUM2CH, CH2FIX): use single char strings.\n\nFri Jul 28 14:09:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): fixed typo in cache look-up.  [ruby-dev:29167]\n\nFri Jul 28 10:41:35 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): a bug in method cache look-up.\n\t  http://www.rubyist.net/~matz/20060720.html#c04\n\nFri Jul 28 10:19:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): documentation update patch from Jacob\n\t  Fugal <lukfugl at gmail.com>.  [ruby-core:08418]\n\nFri Jul 28 09:41:45 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_to_s): fixed typo.  [ruby-dev:29162]\n\nFri Jul 28 00:26:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (domain_check): ANSI style function arguments\n\n\t* math.c (math_log): too few argument to domain_check().\n\nThu Jul 27 21:19:54 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (domain_check): a new function to check domain error\n\t  explicitly for systems that return NaN like FreeBSD.\n\t  [ruby-core:07019]\n\n\t* math.c (math_acos, math_asin, math_acosh, math_atanh, math_log,\n\t  math_log10, math_sqrt): use domain_check().\n\n\t* math.c (math_sqrt): fix documentation flaw.\n\nThu Jul 27 22:21:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_to_s): fixed format mismatch.\n\nThu Jul 27 18:12:12 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* time.c: need to declare time_utc_offset.\n\nThu Jul 27 17:01:01 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_close): always calls \"close\" method of the receiver.\n\t  [ruby-core:6911] [ruby-core:8112]\n\nThu Jul 27 16:41:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/openssl/ossl.h: move <ruby.h> inclusion point to shut up\n\t  Solaris compiler.  [ruby-core:08114]\n\n\t* time.c (time_to_s): use +0900 style timezone string for local time.\n\t  [ruby-dev:29143]\n\nWed Jul 26 22:20:59 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: add support for as and ASFLAGS.  [ruby-dev:29138]\n\nWed Jul 26 21:59:33 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (Net::HTTP#post, request_post, request): should\n\t  set Content-Type: x-www-form-urlencoded by default.\n\n\t* lib/net/http.rb (Net::HTTPHeader#content_type): should return\n\t  nil when there's no Content-Type.\n\n\t* lib/net/http.rb (Net::HTTPHeader#sub_type): should return nil\n\t  when there's no sub Content-Type (e.g. \"Content-Type: text\").\n\n\t* lib/net/http.rb (Net::HTTPHeader#type_params): wrongly failed\n\t  when there's no Content-Type.\n\nWed Jul 26 18:38:13 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c (strscan_do_scan): always return nil if\n\t  p->curr exceeds string size.\n\nWed Jul 26 18:33:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_eval): rename #invoke_method and\n\t  #invoke_functional_method to __send and __send! respectively.\n\n\t* eval.c (remove_method): prohibit removing __send and __send!.\n\n\t* eval.c (rb_undef): prohibit undef'ing  __send and __send!.\n\n\t* eval.c (rb_eval): prohibit redefining  __send and __send!.\n\n\t* lib/delegate.rb (Delegator): preserve __send.\n\nWed Jul 26 18:14:19 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/pty/pty.c (getDevice): retry once after GC on failure.\n\t  [ruby-core:08282]\n\nWed Jul 26 17:43:20 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c (strscan_do_scan):\n\t  StringScanner.new(\"\").scan(//) should return \"\". [ruby-Bugs:4361]\n\nWed Jul 26 17:28:16 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): prepend \"..\" to %u for negative bignum,\n\t  but not \"-\".  fixed: [ruby-core:08167]\n\nWed Jul 26 16:39:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_scan): add string modification check.\n\t  [ruby-core:7216]\n\nWed Jul 26 16:06:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): check\n\t  multipart boundary end.  a patch from Fujioka <fuj at rabbix.jp>\n\t  [ruby-dev:28470]\n\nWed Jul 26 01:02:59 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: suppress warnings by automake 1.8 or later.\n\nTue Jul 25 14:46:14 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): typo.\n\nTue Jul 25 13:14:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (rb_proc_times): rename hz to hertz to avoid name\n\t  crash on AIX.  [ruby-dev:29126]\n\nMon Jul 24 22:03:40 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (backtrace): skip frames successive on node and method name.\n\nMon Jul 24 15:51:52 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* ext/readline/readline.c (readline_readline): rl_deprep_term_function\n\t  may be NULL with libedit.  reported by Ryan Davis.  [ruby-dev:29070]\n\nMon Jul 24 15:19:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): revert last change.  [ruby-dev:29112]\n\t  [ruby-core:08374]\n\nSun Jul 23 22:59:49 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* test/socket/test_unix.rb: disabled on cygwin.\n\t  reported by Kouhei Yanagita.  [ruby-dev:29080]\n\nFri Jul 21 23:57:26 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): script is never used while recursing.\n\nFri Jul 21 21:21:08 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_call0): include funcalled methods in caller list.\n\t  fixed: [ruby-core:08290]\n\nFri Jul 21 17:52:24 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): \"9_e8\" should consider \"_e8\" as\n\t  trailing garbage so that it should return 9.0.  [ruby-dev:29088]\n\nFri Jul 21 12:11:00 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, lib/mkmf.rb (with_destdir): remove drive letter before\n\t  prepending destdir on DOSISH.\n\nFri Jul 21 04:17:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): try local method look-up first for fcall, then\n\t  normal method look-up.  [ruby-talk:202564]\n\n\t* eval.c (rb_get_method_body): save local method cache separately.\n\n\t* eval.c (search_method): export info whether method is local or\n\t  not.\n\nThu Jul 20 20:27:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_mod_attr): make Module#attr to be an alias to\n\t  attr_reader.  [RCR#331]\n\nThu Jul 20 15:07:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h: export classes/modules to implement sandbox.\n\t  [ruby-core:08283]\n\nWed Jul 19 19:40:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): should check args_args before lambda\n\t  argument check.  [ruby-dev:29029]\n\nTue Jul 18 23:53:59 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_f_system): shouldn't block SIGCHLD if it's not\n\t  exist.\n\nTue Jul 18 22:10:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (rb_f_system): block SIGCHLD during the process\n\t  execution, like glibc system(3) does.  [ruby-talk:202361]\n\nTue Jul 18 23:10:43 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (open_ifs_socket): should not use plain malloc.\n\n\t* win32/win32.c (rb_w32_opendir): should not use plain realloc.\n\nTue Jul 18 18:05:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_float.rb (TestFloat::test_strtod): update test to\n\t  conform strtod change.\n\nTue Jul 18 16:52:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (yield_under_i): argument should be passed in avalue\n\t  form.  [ruby-dev:29044]\n\nTue Jul 18 15:49:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_unpack): propagate association array to copied\n\t  string.  [ruby-core:08223]\n\n\t* pack.c (pack_unpack): return referenced string itself if it has\n\t  same length as specified.  a patch from <nobu at ruby-lang.org>\n\t  in [ruby-core:08225].\n\n\t* pack.c (pack_pack): taint 'p' packed strings.\n\nTue Jul 18 15:19:07 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* intern.h (st_foreach_safe): fix prototype.\n\n\t* node.h (NODE_LMASK): bigger than long on LLP64.\n\n\t* missing/vsnprintf.c (BSD__uqtoa): new function to support LLP64.\n\t  all changes are derived from [ruby-dev:29045]\n\nTue Jul 18 14:03:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer::unmount): remove\n\t  inpect argument from sprintf.  [ruby-dev:29039]\n\nTue Jul 18 10:53:37 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): limit out-of-range message.\n\n\t* util.c (ruby_strtod): return end pointer even if ERANGE occurred.\n\t  fixed: [ruby-dev:29041]\n\nMon Jul 18 00:43:05 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* util.c (ruby_strtod): stop at dot not followed by digits.\n\t  fixed: [ruby-dev:29036]\n\nTue Jul 18 00:01:27 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: remove LIBRUBY_SO if static linked extensions exist.\n\nMon Jul 17 23:30:46 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_msvcrt): defaulted to msvcrt.  Workaround for a\n\t  bug of cygwin 1.5.20.\n\nMon Jul 17 22:55:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/io/wait/wait.c (io_ready_p): protoize.\n\nMon Jul 17 13:43:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (define_swapx): should not use plain malloc.\n\n\t* ext/curses/curses.c (curses_getmouse): ditto.\n\nMon Jul 17 12:58:41 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: should use ac_cv_lib_dl_dlopen=no on MinGW.\n\nMon Jul 17 11:47:35 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* st.c: still need to include config.h on some platforms.\n\nSat Jul 15 01:09:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* st.c (malloc): use xmalloc/xcalloc instead of plain\n\t  malloc/calloc, to detect memory allocation failure.  see\n\t  <http://www.nongnu.org/failmalloc/>.\n\nFri Jul 14 13:08:13 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add methods for new features of latest Tcl/Tk8.5.\n\n\t* ext/tk/lib/tk/namespace.rb: ditto.\n\nFri Jul 14 02:30:12 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/monitor.rb: document patch from Hugh Sasse <hgs at dmu.ac.uk>.\n\t  [ruby-core:08205]\n\nFri Jul 14 00:10:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_pop): may cause realloc oscillation.  a patch\n\t  from MORITA Naoyuki <mlgetter at kidou.sakura.ne.jp>.\n\t  [ruby-dev:29028]\n\nThu Jul 13 22:23:56 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/composite.rb: improve handling of the classname on the\n\t  option database for the widget class which includes TkComposite.\n\nThu Jul 13 00:40:57 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (FIX2LONG): returns integer of size of VALUE.\n\t  [ruby-dev:29024]\n\n\t* ruby.h (FIX2ULONG): ditto.\n\nWed Jul 12 20:05:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_args): allow post mandatory arguments after optional\n\t  arguments.  [ruby-dev:29014]\n\n\t* parse.y (new_args_gen): allow post_args without rest_args.\n\n\t* eval.c (formal_assign): ditto.\n\n\t* parse.y (new_args_gen): check post argument duplication.\n\nTue Jul 11 20:58:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h: export rb_cMethod.  [ruby-talk:201259]\n\nTue Jul 11 19:13:33 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: remove restriction on the class of\n\t  pseudo-toplevel.\n\nTue Jul 11 18:00:57 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: security fix.\n\nTue Jul 11 17:28:08 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_dump): need to extend len for \\b.\n\nTue Jul 11 15:29:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_int2big): use SIGNED_VALUE.  [ruby-dev:29019]\n\n\t* bignum.c (rb_int2inum, rb_uint2inum): use VALUE sized integer.\n\n\t* bignum.c (rb_big2long, rb_big2ulong): ditto.\n\n\t* numeric.c (rb_num2long, rb_num2ulong): ditto.\n\n\t* numeric.c (check_int, check_uint): ditto.\n\n\t* bignum.c (rb_quad_pack): typo fixed.\n\nTue Jul 11 13:40:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bignorm): sizeof(long) may be smaller than\n\t  sizeof(VALUE).  [ruby-dev:29013]\n\n\t* ruby.h (FIXNUM_MAX): fixnum may be bigger than long.\n\n\t* ruby.h (SIGNED_VALUE): signed integer of size of VALUE.\n\nMon Jul 10 23:37:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/soap/rpc/proxy.rb (Proxy::Operation::response_doc): remove\n\t  splat star from return statements.\n\n\t* lib/soap/rpc/proxy.rb (Proxy::Operation::response_obj): retrieve\n\t  the first value from the result array if response has only one\n\t  value.\n\nMon Jul 10 22:00:00 2006  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c: Allows '_' to appear within\n\t  digits.  [ruby-dev:28872]\n\n\t* ext/bigdecimal/lib/bigdecimal/util.rb: Bug in to_r reported by\n\t  [ruby-list:42533] fixed.\n\nMon Jul 10 19:22:19 2006  Tanaka Akira  <akr@fsij.org>\n\n\t* gc.c (gc_sweep): expand heap earlier.\n\t  reported by MORITA Naoyuki.  [ruby-dev:28960]\n\nMon Jul 10 18:59:34 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/font.rb: sorry. mistaken to patch.\n\nMon Jul 10 18:46:52 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: make SEGV risk lower at exit.\n\n\t* ext/tk/lib/tk.rb: ditto.\n\n\t* ext/tk/lib/multi-tk.rb: fail to call function-style methods on slave\n\t  interpreters. The strategy (MultiTkIp_PseudoToplevel_Evaluable) to\n\t  fix the problem is a little tricky. You may have to take care of\n\t  conflicting with it.\n\n\t* ext/tk/lib/tk.rb: a little change for the pseudo-toplevel strategy.\n\n\t* ext/tk/lib/tk/font.rb: ditto.\n\n\t* ext/tk/lib/tk/msgcat.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/itk/incr_tk.rb: ditto.\n\n\t* ext/tk/sample/demos-en/widget: fail to call function-style methods\n\t  on sample scripts. To fix it, a strategy which similar to the way\n\t  on MultiTiIp is used. Please take care when re-write and re-run a\n\t  demo script on the Widget-Demo code viewer.\n\n\t* ext/tk/sample/demos-jp/widget: ditto.\n\nMon Jul 10 17:32:38 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/test.rb: update test suites.\n\n\t* test/ruby/test_assignment.rb (TestAssignment::test_yield): ditto.\n\n\t* test/ruby/test_iterator.rb (TestIterator::test_itertest): ditto.\n\nMon Jul 10 14:43:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): remove erroneously restored prot_tag->blkid\n\t  initialization.  [ruby-dev:28997]  [ruby-dev:29000]\n\nMon Jul 10 13:58:08 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* signal.c (install_nativethread_sighandler): commented out.\n\nMon Jul 10 09:29:12 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_clear_cache_for_remove): clear entries for included\n\t  module.  fixed: [ruby-core:08180]\n\nMon Jul 10 02:22:58 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): should not overwrite block information in\n\t  current frame.  [ruby-dev:28957]\n\n\t* eval.c (rb_yield_0): retrieve proper block object from the frame\n\t  record.\n\n\t* eval.c (proc_alloc): return preserved block object if it's\n\t  available.\n\nMon Jul 10 01:48:38 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* st.h (st_data_t): use pointer sized integer for st_data_t.\n\t  [ruby-dev:28988]\n\nSun Jul  9 18:06:47 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (try_constant): fix for value 1 at cross compiling.\n\n\t* lib/mkmf.rb (create_makefile): prevent substitution of macro\n\t  definition.  fixed: http://www.yotabanana.com/lab/20060624.html#p02\n\nSun Jul  9 07:58:48 2006  Ryan Davis  <ryand@zenspider.com>\n\n\t* lib/rdoc/parsers/parse_f95.rb: massive overhaul from Yasuhiro\n\t  Morikawa including new file suffixes, function support, public\n\t  variables and constants, derived-types, defined operators and\n\t  assignments, namelists, and subroutine and function\n\t  arguments. Truly massive.\n\n\t* lib/rdoc/diagram.rb: diagrams are now cached.\n\n\t* lib/irb/completion.rb: fixed a crasher when completing against\n\t  an unnamed class/module.\n\n\t* lib/rdoc/parsers/parse_c.rb: private comment (--/++) support in\n\t  C-file rdoc.\n\n\t* lib/debug.rb: minor clarification in help.\n\n\t* lib/pp.rb: minor clarification on exception.\n\nSun Jul  9 00:54:11 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (next_jump): deal with destination of next.\n\t  fixed: [ruby-core:08169]\n\nFri Jul  7 17:49:16 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_ord): extract lower byte.  fixed: [ruby-dev:28980]\n\n\t* lib/jcode.rb (String#succ!): fix for 1.9.  fixed: [ruby-dev:28979]\n\nFri Jul  7 14:05:03 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.h): define FUNC_STDCALL/FUNC_CDECL.\n\t  from [ruby-dev:28970].\n\nFri Jul  7 00:38:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_default): should not call default procedure if\n\t  no key is given.  [ruby-list:42541]\n\nThu Jul  6 23:30:04 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_proc_times): use sysconf(_SC_CLK_TCK) value prior to\n\t  HZ and CLK_TCK.  fixed: [ruby-talk:200293]\n\nThu Jul  6 21:50:06 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/racc/cparse/cparse.c: sync with original code, rev 1.8.\n\n\t* ext/racc/cparse/cparse.c: should mark CparseParams objects.\n\n\t* lib/racc/parser.rb: sync with original code, rev 1.8.\n\n\t* lib/racc/parser.rb: update coding style.\n\nWed Jul  5 05:28:45 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (block_param): should allow block argument after splat\n\t  and post splat args.\n\nWed Jul  5 01:12:19 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/ruby/test_lambda.rb (TestLambdaParameters::test_lambda_as_iterator):\n\t  -> style block no longer available.  [ruby-dev:28958]\n\nTue Jul  4 21:48:56 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (proc_options): suppress warning on DOSISH.\n\nTue Jul  4 15:12:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): should not set prot_tag->blkid since it would\n\t  never catch breaks at this level.  [ruby-dev:28922]\n\nTue Jul  4 04:48:36 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c: ruby 1.9 HEAD 64 bit warnings clean up from\n\t  <ville.mattila at stonesoft.com>.   [ruby-core:08120]\n\nMon Jul  3 19:04:38 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_make_menu_embeddable): help to make a menu\n\t  widget embeddable (pack, grid, and so on) like as a general widget.\n\t  However, an embeddable menu may require to be defined some event\n\t  bindings for general use.\n\n\t* ext/tk/lib/tk/event.rb: [bug fix] Tk.callback_break and\n\t  Tk.callback_continue don't work on MultiTkIp.\n\n\t* ext/tk/lib/multi-tk.rb: ditto.\n\n\t* ext/tk/lib/tk.rb: lack of Tk.callback_return.\n\n\t* ext/tk/lib/tk/menu.rb: improve creating clone menus.\n\nMon Jul  3 14:42:06 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/etc/extconf.rb (PW_UID2VAL, PW_GID2VAL): defaulted to conversion\n\t  from int, and sys/types.h needs to be included before grp.h.\n\t  fixed: [ruby-dev:28938]\n\nMon Jul  3 10:44:01 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (popen_exec): close file descriptors other than standard I/Os.\n\t  fixed: [ruby-dev:28924]\n\nMon Jul  3 05:15:29 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/openssl/test_asn1.c: String#[]= doesn't accept Integer.\n\nMon Jul  3 01:14:15 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_inspect): encode \\b (\\010) for escape.\n\t  [ruby-dev:28927]\n\n\t* string.c (rb_str_dump): ditto.\n\nSun Jul  2 19:03:30 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/racc/cparse/cparse.c: sync with original code, rev 1.7.\n\n\t* ext/racc/cparse/cparse.c: must require version.h to get\n\t  RUBY_VERSION_CODE.\n\nSun Jul  2 18:42:27 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/racc/cparse/cparse.c: sync with original source code, rev\n\t  1.6.\n\n\t* ext/racc/cparse/cparse.c: do not use rb_iterate to give a block\n\t  to the method, use rb_block_call instead. [ruby-dev:28445]\n\nSun Jul  2 11:22:03 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (io_reopen): STDOUT.reopen(filename, \"w+\") didn't work.\n\t  (rb_io_reopen): STDOUT.reopen(File.open(filename, \"w+\")) didn't work.\n\nSat Jul  1 23:55:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (PUSH_FRAME): initialize frame->self.  [ruby-dev:28911]\n\nSat Jul  1 17:00:42 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/webrick/utils.rb: use Proc#yield instead of Proc#call.\n\t  [ruby-dev:28914]\n\nSat Jul  1 15:15:49 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* test/socket/test_nonblock.rb: add timeout to send/receive\n\t  an empty UDP packet.\n\t  [ruby-dev:28820]\n\nFri Jun 30 23:46:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: should test isinf for Solaris with GCC compiler.\n\t  a patch from <ville.mattila at stonesoft.com>.  [ruby-core:07791]\n\n\t* configure.in: -shared patch from Andrew Morrow\n\t  <andrew.c.morrow at gmail.com>.  [ruby-core:08100]\n\nFri Jun 30 19:35:41 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils._escape): should\n\t  use String#ord to get ascii code from the one-character string.\n\t  [ruby-dev:28901]\n\nThu Jun 29 23:56:01 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_mark_children): a bug in NODE_BLOCK_PASS marking.\n\t  [ruby-dev:28908]\n\nThu Jun 29 23:04:36 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: use ARGSPUSH instead of ARGSCAT to prevent too much\n\t  splat expansion.\n\n\t* eval.c (when_check): need to handle ARGSPUSH as well.\n\n\t* eval.c (block_orphan): lambda and proc from method are always\n\t  orphan.\n\n\t* gc.c (gc_mark_children): proper marking for NODE_LAMBDA.\n\nThu Jun 29 22:47:30 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (SETUP_ARGS0): avoid GC problem.\n\t  [ruby-dev:28902]\n\nThu Jun 29 18:58:51 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_version): fix patch\n\t  failure.\n\nThu Jun 29 18:00:51 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c: add RDoc document.  a patch from\n\t  mathew <meta at pobox.com>.   [ruby-core:07050]\n\nWed Jun 28 14:53:09 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/optparse.rb: RDoc patch from Robin Stocker <robin@nibor.org>\n\t  [ruby-core:08087]\n\nWed Jun 28 23:23:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): underscores should appear only\n\t  between digits.  [ruby-dev:28891]\n\nWed Jun 28 19:04:34 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* test/socket/test_unix.rb: test_seqpacket_pair removed.\n\t  [ruby-dev:28846]\n\nWed Jun 28 13:51:21 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (when_check): arbitrary values are allowed after splats.\n\t  fixed: [ruby-dev:28879]\n\nWed Jun 28 09:16:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): remove meaningless else-only case statement\n\t  syntax.\n\nWed Jun 28 08:08:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): problem to handle else part.  [ruby-dev:28873]\n\nWed Jun 28 01:48:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): support splat in when expression list.\n\t  [ruby-dev:28822]\n\n\t* eval.c (when_check): a new auxiliary function for case match.\n\n\t* eval.c (when_cond): ditto.\n\nWed Jun 28 01:05:37 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_cstr_to_dbl): should not skip '_' at the beginning\n\t  of a string.  [ruby-dev:28830]\n\n\t* bignum.c (rb_cstr_to_inum): ditto.\n\nTue Jun 27 23:03:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c: RDoc update for =~ method.  a patch from Alex Young\n\t  <alex at blackkettle.org>.  [ruby-core:08068]\n\nTue Jun 27 22:47:18 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: forgot to update TCLTKLIB_RELEASE_DATE.\n\n\t* ext/tk/lib/tk.rb (tk_tcl2ruby): [bug fix] sometimes fail to convert\n\t  a tcl string to a ruby object if the tcl string includes \"\\n\".\n\nTue Jun 27 20:05:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (pipe_open): backout unnecessary fix on 2006-06-26.\n\t  [ruby-dev:28865]\n\n\t* eval.c (rb_yield_0): exact argument number check now done only\n\t  for lambda Proc.\n\n\t* eval.c (rb_yield_0): add check for number of arguments, if\n\t  there's one lambda block parameter.\n\nTue Jun 27 16:04:05 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* win32/win32.h: define isascii on MinGW for msvcrt compatibility.\n\n\t* configure.in: set ac_cv_header_sys_time_h=no on MinGW\n\t  for msvcrt compatibility.\n\nTue Jun 27 11:36:02 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/etc/etc.c (setup_passwd, setup_group): allow bignum uid, gid and\n\t  so on.  [ruby-talk:199102]\n\nTue Jun 27 10:46:53 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_yield_0): avoid core dump.  [ruby-dev:28840]\n\nMon Jun 26 11:03:00 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/ri: Add options to limit the ri search path.\n\nTue Jun 27 01:31:59 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c (bsock_recv_nonblock): new method\n\t  BasicSocket#recv_nonblock.\n\t  (udp_recvfrom_nonblock): renamed from ip_recvfrom_nonblock.\n\t  IPSocket#recvfrom_nonblock is moved to UDPSocket#recvfrom_nonblock.\n\t  (unix_recvfrom_nonblock): removed.\n\t  UNIXSocket#recvfrom_nonblock is removed.\n\nTue Jun 27 00:52:40 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/ripper/eventids2.c (token_assoc): added tCHAR, which is not\n\t  under 256 now.  fixed: [ruby-dev:28832]\n\nMon Jun 26 23:42:57 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (call_trace_func): no check for argument number of the\n\t  callback.  fixed: [ruby-dev:28812]\n\nMon Jun 26 18:37:44 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_delete): fix SEGV when a slave-ip is\n\t  deleted on callback.\n\nMon Jun 26 15:40:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_accept): revert to avoid ambiguity of\n\t  argument evaluation order.  [ruby-dev:28861]\n\n\t* ext/socket/socket.c (sock_accept_nonblock): ditto.\n\nMon Jun 26 10:47:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (pipe_open): avoid closing uninitialized file descriptors.\n\t  a patch from <tommy at tmtm.org> [ruby-dev:28600]\n\nSun Jun 25 23:02:12 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, mkconfig.rb: catch-up for latest autoconf.\n\nSun Jun 25 17:44:16 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* parse.y (paren_args): wrap $2 by escape_Qundef because it may be\n\t  Qundef.  [ruby-dev:28843]\n\nSun Jun 25 17:18:33 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(ole_invoke): support some kind of\n\t  method of word. [ruby-Bugs#3237]\n\n\t* test/win32ole/test_word.rb: ditto.\n\nSat Jun 24 23:48:08 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: replace terminal token names with more descriptive\n\t  name, i.e. kEND to keyword_end.  [ruby-list:42477]\n\nSat Jun 24 23:37:41 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_eval): use rb_ary_new2 instead of rb_ary_new4 to avoid\n\t  GC problem.\n\t  (rb_yield_values): use rb_ary_new2 instead of rb_ary_new4.\n\n\t* array.c (rb_ary_new4): don't set len as n if contents is not\n\t  initialized.  make it safe with GC.\n\n\t  [ruby-dev:28826]\n\nFri Jun 23 23:35:32 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ruby.h, lib/drb/drb.rb, lib/drb/invokemethod.rb: remove Values class.\n\t  [ruby-dev:28805]\n\nFri Jun 23 17:27:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_block_pass): removed.\n\n\t* eval.c (rb_thread_start_1): use rb_proc_yield() instead of\n\t  rb_block_pass().  fixed: [ruby-dev:28794]\n\nThu Jun 22 11:52:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/http.rb (Net::HTTPResponse): duplicated error 501;\n\t  HTTPInternalServerError should be error 500.  [ruby-core:08037]\n\nThu Jun 22 11:47:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_mod_name): returns nil for anonymous modules.\n\t  [ruby-talk:198440]\n\nThu Jun 22 10:31:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_aref): \"abc\"[3] should not return an empty\n\t  string but nil.  [ruby-dev:28786]\n\nThu Jun 22 05:15:58 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c (sock_s_socketpair): try GC only once.\n\t  [ruby-dev:28778]\n\nWed Jun 21 21:20:31 2006  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (jd_to_commercial): now works fine even if in\n\t  mathn-ized context.\n\nWed Jun 21 17:29:57 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/getaddrinfo.c (freeaddrinfo, get_name): fixed typo.\n\n\t* ext/tk/tcltklib.c (tcl_eval, tcl_global_eval): ditto.\n\n\t* ext/zlib/zlib.c (rscheck): constified.\n\nWed Jun 21 17:18:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/pp.rb (PP::PPMethods::seplist): should have preserved\n\t  original reference to the array.  [ruby-dev:28747]\n\nWed Jun 21 14:35:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (block_param): do not use multiple assignment for a sole\n\t  block parameter.  [ruby-dev:28710]\n\n\t* eval.c (rb_yield_0): pass a raw yielded value to a sole block\n\t  parameter if a value is passed by yield.\n\n\t* eval.c (proc_invoke): args may not be an array.\n\n\t* eval.c (rb_proc_yield): pass original value without wrapping\n\t  it in an array.\n\nWed Jun 21 14:06:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (method_call): remove (fn)(args) style lambda\n\t  invocation, add fn.(args) instead.\n\nWed Jun 21 08:39:54 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/xmlrpc/create.rb (XMLRPC::Create::conv2value): merge Date\n\t  and Time processing.  [ruby-core:08033]\n\nWed Jun 21 03:01:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c, file.c, etc.: code-cleanup patch from Stefan Huehner\n\t  <stefan at huehner.org>.  [ruby-core:08029]\n\nWed Jun 21 01:40:25 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reswords): modifier token is no longer returned in fname\n\t  state.  fixed: [ruby-dev:28775]\n\nTue Jun 20 23:28:34 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (parse_args): provisional catch-up for the recent changes.\n\n\t* lib/optparse.rb (OptionParser::List#summarize, OptionParser#order!): ditto.\n\nTue Jun 20 11:07:55 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): intercept break and return from lambda\n\t  Proc objects.  [ruby-dev:28742]\n\n\t* eval.c (proc_invoke): remove unnecessary YIELD_PROC_CALL flag.\n\n\t* eval.c (YIELD_EXACT_ARGS): renamed from YIELD_LAMBDA_CALL, which\n\t  is no longer related to the behavior turned on by this flag.\n\n\t* eval.c (return_jump): no need to care about PROT_YIELD.\n\n\t* eval.c (break_jump): no jump to toplevel PROT_THREAD tag.\n\n\t* eval.c (rb_yield_0): fix confusion between lambda (which is a\n\t  property of a proc) and pcall (which depends on whether it's\n\t  called via yield or call).\n\n\t* eval.c (rb_thread_yield): no need to specify YIELD_LAMBDA_CALL.\n\n\t* eval.c (rb_block_pass): update blkid in prot_tag.\n\nMon Jun 19 23:40:59 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t  * ext/nkf/lib/kconv.rb: remove default -m0 and fix document.\n\n\t  * ext/nkf/nkf-8/{nkf.c, config.h, utf8tbl.c, utf8tbl.h}:\n\t    imported nkf 2.0.7.\n\nMon Jun 19 17:02:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/test.rb (proc_return3): return within non lambda block\n\t  should terminate surrounding method.  [ruby-dev:28741]\n\nMon Jun 19 13:22:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (unix_sysaccept): typo fixed.\n\n\t* ext/socket/socket.c (sock_connect): remove an unused local\n\t  variable tmpaddr.\n\nMon Jun 19 02:10:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (tcp_accept_nonblock): forgot to remove\n\t  abandoned hacks.  [ruby-dev:28740]\n\nMon Jun 19 00:00:17 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: fix bug: initialize improper tables.\n\nSun Jun 18 20:28:43 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fole_methods): The return value\n\t  of WIN32OLE#ole_methods should include PROPERTYPUTREF methods.\n\n\t* ext/win32ole/win32ole.c (fole_put_methods): The return value\n\t  of WIN32OLE#ole_put_methods should include PROPERTYPUTREF methods.\n\n\t* test/win32ole/test_ole_methods.rb: ditto.\n\n\t* ext/win32ole/win32ole.c (ole_propertyput): support\n\t  PROPERTYPUTREF. [ruby-talk:183042]\n\n\t* test/win32ole/test_propertyputref.rb: ditto.\n\nSat Jun 17 23:42:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_eval): add aliases invoke_method and\n\t  invoke_functional_method corresponding send and funcall\n\t  respectively.  [ruby-talk:197512]\n\n\t* parse.y (parser_yylex): returns the most typical keyword token\n\t  on EXPR_FNAME.  [ruby-core:7995]\n\n\t* ext/socket/socket.c: protoize.\n\nSat Jun 17 22:17:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Integer::prime_division): raise ZeroDivisionError\n\t  on zeros.  [ruby-dev:28739]\n\nSat Jun 17 14:53:32 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Kernel#Pathname): new method.\n\nSat Jun 17 02:01:00 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (Kernel#pretty_inspect): defined for pretty printed\n\t  string.\n\nFri Jun 16 01:41:00 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_proc_arity): get rid of segfault for mere splat.\n\n\t* gc.c (gc_mark_children): NODE_BLOCK_PASS needs u3 to be marked.\n\nThu Jun 15 22:06:56 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (then): remove ':' from 'then' and 'do' rules.\n\nWed Jun 14 18:00:20 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* enum.c (enum_any): Documentation typo.\n\nWed Jun 14 15:01:09 2006  Eric Hodel  <drbrain@segment7.net>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser#warn): Don't print\n\t  warnings when -q is set.\n\nWed Jun 14 16:11:37 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_f_method_name, rb_f_callee_name): document typo.\n\nWed Jun 14 15:19:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (env_aset): raise TypeError on nil with more descriptive\n\t  message.  [ruby-core:07990]\n\nTue Jun 13 17:22:19 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (Init_socket): remove obsolete constants:\n\t  IPsocket, TCPsocket, SOCKSsocket, TCPserver, UDPsocket,\n\t  UNIXsocket, UNIXserver.\n\nTue Jun 13 09:07:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (formal_assign): post splat arguments should have had\n\t  higher priority than optional arguments, since they are\n\t  mandatory.  [ruby-dev:28715]\n\n\t* eval.c (VIS_MASK): broken. should be 15.  [ruby-dev:28715]\n\n\t* io.c (argf_getc): should return one-character string.\n\t  [ruby-dev:28715]\n\n\t* io.c (rb_io_readchar): ditto.\n\nSun Jun 11 23:20:07 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (sym_call): disallow to call private methods.\n\n\t* lib/optparse.rb (OptionParser::Arguable#getopts): pass self to the\n\t  parser.\n\nSun Jun 11 09:56:41 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.h (write): not need to define on bcc.\n\nSun Jun 11 08:30:33 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#getopts): new methods.\n\nSun Jun 11 07:27:11 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/ri/ri_writer.rb: use String#ord.\n\nSun Jun 11 04:38:20 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (sym_to_proc): imported Symbol#to_proc from ActiveSupport.\n\nSat Jun 10 18:02:40 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/bigdecimal/lib/bigdecimal/newton.rb (Newton::nlsolve): typo\n\t  fixed: raize -> raise.  [ruby-talk:196608]\n\nSat Jun 10 17:49:53 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_ord): new method.\n\n\t* parse.y (rbracket): allow optional newline before closing\n\t  brackets.\n\nSat Jun 10 15:12:29 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_f_method_name, rb_f_callee_name): new functions.\n\t  new global method `__method__' and `__callee__'.\n\nSat Jun 10 10:13:13 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/getoptlong.rb (GetoptLong#set_options): receive arguments\n\t  as Array.\n\n\t* lib/irb/slex.rb: use Proc#yield.\n\n\t* lib/rdoc/markup/simple_markup/inline.rb: follow the new behavior\n\t  of String#[].\n\n\t* lib/rdoc/ri/ri_writer.rb: ditto.\n\nSat Jun 10 08:17:23 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* math.c (log2): may be a macro.\n\n\t* parse.y (args, block_param, f_args): pass f_post_arg to #params.\n\n\t* util.c (powersOf10): constified.\n\n\t* ext/readline/readline.c: include extconf.h first.\n\n\t* ext/ripper/eventids2.c: removed tLAMBDA_ARG.\n\n\t* ext/tk/tcltklib.c (lib_fromUTF8_core): removed conflict.\n\n\t* ext/tk/tkutil/tkutil.c (cbsubst_get_subst_arg): rb_id2name() is\n\t  defined as const now.\n\n\t* ext/win32ole/win32ole.c (fole_missing): ditto.\n\n\t* lib/mkmf.rb (create_makefile): force to create extconf header.\n\n\t* lib/optparse.rb (order!): use Proc#yield.\n\nSat Jun 10 06:53:22 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (CALLARGS): remove last semicolon. C90 compiler doesn't\n\t  allow any lines (even if they're empty) within variable\n\t  declarations.\n\nFri Jun  9 09:56:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): allow %c to print one character\n\t  string (e.g. ?x).\n\nThu Jun  8 14:00:02 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.[ch] (rb_w32_read, rb_w32_write): new functions.\n\t  use recv() and send() when fd is socket. fixed: [ruby-dev:28694]\n\nWed Jun  7 16:22:51 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tempfile.rb (Tempfile::make_tmpname): put dot between\n\t  basename and pid.  [ruby-talk:196272]\n\nWed Jun  7 16:16:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (do_block): remove -> style block.\n\n\t* parse.y (parser_yylex): remove tLAMBDA_ARG.\n\nWed Jun  7 14:51:22 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (errmap): add some winsock errors.\n\nWed Jun  7 09:14:44 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): binding for the return event hook should have\n\t  consistent scope.  [ruby-core:07928]\n\nTue Jun  6 23:25:49 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): return behavior should depend whether it\n\t  is surrounded by a lambda or a mere block.\n\nMon Jun  5 18:12:12 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c (sock_s_unpack_sockaddr_in): reject\n\t  non-AF_INET/AF_INET6 sockaddr.\n\t  (sock_s_unpack_sockaddr_un): reject non-AF_UNIX sockaddr.\n\t  [ruby-dev:28691]\n\nSun Jun  4 20:40:19 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c: fix sockaddr_un handling.\n\t  [ruby-dev:28677]\n\nSat Jun  3 23:53:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (formal_assign): handles post splat arguments.\n\n\t* eval.c (rb_call0): ditto.\n\nSat Jun  3 13:10:41 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* st.c (strhash): use FNV-1a hash.\n\nFri Jun  2 20:01:24 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): removed experimental ';;' terminator.\n\nFri Jun  2 19:00:40 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: use create_header.\n\n\t* ext/openssl/ossl.h, ext/openssl/openssl_missing.h:\n\t  include RUBY_EXTCONF_H.\n\nFri Jun  2 17:16:52 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (CLEANINGS): remove extconf.h by distclean if created.\n\nFri Jun  2 00:11:19 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c (s_recvfrom): alen may be zero with UNIXSocket\n\t  too.  (tested on NetBSD 3.0)\n\t  (s_recvfrom_nonblock): extracted from sock_recvfrom_nonblock.\n\t  (sock_recvfrom_nonblock): use s_recvfrom_nonblock.\n\t  (ip_recvfrom_nonblock): new method: IPSocket#recvfrom_nonblock\n\t  (unix_recvfrom_nonblock): new method: UNIXSocket#recvfrom_nonblock\n\t  (s_accept_nonblock): extracted from sock_accept_nonblock.\n\t  (sock_accept_nonblock): use s_accept_nonblock.\n\t  (tcp_accept_nonblock): new method: TCPServer#accept_nonblock\n\t  (unix_accept_nonblock): new method: UNIXServer#accept_nonblock\n\nThu Jun  1 19:12:37 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_cmdvector): backslashes inside single-quotes\n\t  no longer has special meanings.  fixed: [ruby-list:42311]\n\nThu Jun  1 17:55:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_node_arity): should be aware of post splat arguments.\n\n\t* eval.c (rb_proc_arity): ditto.\n\nThu Jun  1 16:17:26 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_getcwd): runtime's getcwd() will not success\n\t  if the length of the cwd is longer than MAX_PATH.\n\t  fixed [ruby-list:42335]\n\nThu Jun  1 16:07:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_args): syntax rule enhanced to support arguments\n\t  after the splat.\n\n\t* parse.y (mlhs_basic): ditto for multiple assignments\n\n\t* parse.y (block_param): ditto for block parameters.\n\n\t* parse.y (f_post_arg): mandatory formal arguments after the splat\n\t  argument.\n\n\t* parse.y (new_args_gen): generate nodes for mandatory formal\n\t  arguments after the splat argument.\n\n\t* eval.c (rb_eval): dispatch mandatory formal arguments after the\n\t  splat argument.\n\nThu Jun  1 11:33:32 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_getcwd): set errno if not set.\n\t  fixed [ruby-list:42346]\n\nThu Jun  1 00:45:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (args): allow more than one splat in the argument list.\n\nWed May 31 18:38:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (method_call): allow aref [] to accept all kind of\n\t  method argument, including assocs, splat, and block argument.\n\n\t* eval.c (SETUP_ARGS0): prepare block argument as well.\n\nTue May 30 18:13:53 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Integer): remove Integer#gcd2. [ruby-core:07931]\n\nMon May 29 22:40:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (error_line): print receivers true/false/nil specially.\n\n\t* eval.c (rb_proc_yield): handles parameters in yield semantics.\n\n\t* eval.c (nil_yield): gives LocalJumpError to denote no block\n\t  error.\n\n\t* io.c (rb_io_getc): now takes one-character string.\n\nSat May 27 22:46:38 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): save and restore block in the current frame.\n\t  fixed: [ruby-core:07833], [ruby-talk:191639]\n\nSat May 27 11:29:46 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): remove extinit files if no statically linked\n\t  extensions.\n\nFri May 26 19:56:46 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_hash): use FNV-1a hash from Fowler/Noll/Vo\n\t  hashing algorithm.\n\nFri May 26 09:05:11 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.h, lib/mkmf.rb (create_header): clear command line options for\n\t  macros moved to extconf.h.\n\n\t* ext/extmk.rb (extract_makefile, extmk): made RUBY_EXTCONF_H and\n\t  EXTSTATIC permanent.\n\n\t* ext/{dbm,digest/*,socket,zlib}/extconf.rb: used $defs and $INCFLAGS.\n\n\t* {bcc32,win32,wince}/Makefile.sub (COMPILE_C, COMPILE_CXX): added\n\t  $(INCFLAGS).\n\n\t* lib/mkmf.rb (configuration): add $defs unless extconf.h was created.\n\nThu May 25 01:52:07 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (pkg_config): particular config commands support.\n\n\t* ext/extmk.rb: deal with $static set in extconf.rb.\n\n\t* mkconfig.rb: merge multiple entries to an entry with multiple lines.\n\n\t* lib/mkmf.rb: allow a series of commands to link.\n\n\t* win32/Makefile.sub: embed manifests.\n\n\t* win32/setup.mak: suffix OS name by runtime version.\n\nWed May 24 23:52:11 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ac_install_sh): ignore dummy install-sh.\n\t  [ruby-talk:193876]\n\nWed May 24 17:55:13 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_aref): str[0] now returns 1 character string,\n\t  instead of a fixnum.\t[Ruby2]\n\n\t* parse.y (parser_yylex): ?c now returns 1 character string,\n\t  instead of a fixnum.\t[Ruby2]\n\n\t* string.c (rb_str_aset): no longer support fixnum insertion.\n\nWed May 24 03:10:44 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb\n\t  (OpenSSL::SSL::SocketForwarder#setsockopt,getsockopt): typo fixed.\n\nMon May 22 16:32:03 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h (rb_io_set_nonblock): declared.\n\n\t* io.c (rb_io_set_nonblock): new function.\n\t  (io_getpartial): nonblocking read support.\n\t  (io_read_nonblock): new method: IO#read_nonblock.\n\t  (io_write_nonblock): new method: IO#write_nonblock.\n\n\t* ext/socket/socket.c (s_accept): retry for EWOULDBLOCK.\n\t  revert [ruby-talk:113807].\n\t  (sock_connect_nonblock): new method: Socket#connect_nonblock.\n\t  (sock_accept_nonblock): new method: Socket#accept_nonblock.\n\t  (sock_recvfrom_nonblock): new method: Socket#recvfrom_nonblock.\n\n\t  [ruby-core:7917]\n\nMon May 22 15:57:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (umethod_bind): should not update original class.\n\t  [ruby-dev:28636]\n\nMon May 22 13:38:57 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (ev_const_get): should support constant access from\n\t  within instance_eval().  [ruby-dev:28327]\n\nSun May 21 09:50:31 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* regexec.c: add STK_NULL_CHECK_END to IS_TO_VOID_TARGET().\n\t  [ruby-list:42234]\n\nThu May 18 22:37:20 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/config.rb (WEBrick::Config::HTTP): add new parameters,\n\t  :InputBufferSize and :OutputBufferSize.\n\n\t* lib/webrick/utils.rb (WEBrick::Utils.timeout): add new timeout\n\t  method. this implementation is expected to be compatible with\n\t  timeout.rb and faster than timeout.rb.\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPRequest#_read_data):\n\t  Timeout.timeout is replaced by WEBrick::Utils.timeout.\n\n\t* lib/webrick/httprequest.rb: WEBrick::HTTPRequest::BUFSIZE is\n\t  replaced by config[:InputBufferSize].\n\n\t* lib/webrick/httpresposne.rb: WEBrick::HTTPResponse::BUFSIZE is\n\t  replaced by config[:OutputBufferSize].\n\n\t* lib/webrick/server.rb: get rid of unnecessary require.\n\n\t* test/webrick/test_utils.rb: test for WEBrick::Utils.timeout.\n\nThu May 18 17:51:32 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_timeval): should round for usec floating\n\t  number.  [ruby-core:07896]\n\n\t* time.c (time_add): ditto.\n\nThu May 18 00:42:12 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, lib/mkmf.rb: use BUILD_FILE_SEPARATOR in Makefiles.\n\nWed May 17 17:55:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (sys_warning): should not call a vararg function\n\t  rb_sys_warning() indirectly.\t[ruby-core:07886]\n\nTue May 16 17:23:19 2006  Shin-ichiro HARA  <sinara@blade.nagaokaut.ac.jp>\n\n\t* numeric.c (flo_divmod): the first element of Float#divmod should\n\t  be an integer. [ruby-dev:28589]\n\n\t* test/ruby/test_float.rb: add tests for divmod, div, modulo and remainder.\n\nTue May 16 15:34:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): should not allow modifying literal\n\t  regexps.  frozen check moved from rb_reg_initialize_m as well.\n\nTue May 16 09:20:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_initialize): should not modify untainted objects in\n\t  safe levels higher than 3.\n\n\t* re.c (rb_memcmp): type change from char* to const void*.\n\n\t* dir.c (dir_close): should not close untainted dir stream.\n\n\t* dir.c (GetDIR): add tainted/frozen check for each dir operation.\n\nMon May 15 21:37:12 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c (rb_reg_prepare_re): don't use onig_recompile().\n\nMon May 15 17:42:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_symbol_arg):\n\t  typo fixed.  a patch from Florian Gross <florg at florg.net>.\n\nSat May 13 16:14:05 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (PP.mcall): new method.\n\t  (Struct#pretty_print): call Kernel#class and Struct#members even if\n\t  overridden.\n\t  (Struct#pretty_print_cycle): ditto.\n\t  [ruby-core:7865]\n\nFri May 12 15:54:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (EXEC_EVENT_HOOK): trace_func may remove itself from\n\t  event_hooks.\tno guarantee for arbitrary hook deletion.\n\t  [ruby-dev:28632]\n\nThu May 11 19:57:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): differ addition to minimize error.\n\t  [ruby-dev:28619]\n\nThu May 11 18:30:11 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_cipher.c (add_cipher_name_to_ary): should return\n\t  value. [ruby-dev:28627]\n\nThu May 11 18:10:43 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): should not raise ERANGE when the input\n\t  string does not have any digits.  [ruby-dev:28629]\n\nWed May 10 23:40:21 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.0.3\n\n\t* regexec.c: ditto.\n\nMon May  8 09:10:31 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: add check for OBJ_NAME_do_all_sorted.\n\n\t* ext/openssl/ossl_cipher.c (ossl_s_ciphers): new method\n\t  OpenSSL::Cipher.ciphers. it returns all the cipher names.\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_init): refine warning message.\n\n\t* ext/openssl/lib/openssl/cipher.rb: reimplement without eval() and\n\t  add constants AES128, AES192, AES256. [ruby-dev:28610]\n\n\t* ext/openssl/lib/openssl/digest.rb: reimplement without eval().\n\n\t* test/openssl/test_cipher.rb, test_digest: fix about reimplemented\n\t  features.\n\n\t* sample/openssl/cipher.rb: rewrite all.\n\nSun May  7 03:09:51 2006  Stephan Maka  <stephan@spaceboyz.net>\n\n\t* lib/resolv.rb (Resolv::DNS::Requester::ConnectedUDP#initialize):\n\t  Use AF_INET6 for nameservers containing colons.\n\nSat May  6 23:40:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): should restore old ruby_frame->block.\n\t  thanks to ts <decoux at moulon.inra.fr>.  [ruby-core:07833]\n\t  also fix [ruby-dev:28614] as well.\n\nSat May  6 00:38:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (trap): sig should be less then NSIG.  Coverity found\n\t  this bug.  a patch from Kevin Tew <tewk at tewk.com>.\n\t  [ruby-core:07823]\n\nThu May  4 22:13:22 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* math.c (math_log2): add new method inspired by\n\t  [ruby-talk:191237].\n\n\t* math.c (math_log): add optional base argument to Math::log().\n\t  [ruby-talk:191308]\n\nThu May  4 02:24:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/emitter.c (syck_scan_scalar): avoid accessing\n\t  uninitialized array element.\ta patch from Pat Eyler\n\t  <rubypate at gmail.com>.  [ruby-core:07809]\n\n\t* array.c (rb_ary_fill): initialize local variables first.  a\n\t  patch from Pat Eyler <rubypate at gmail.com>.\t [ruby-core:07810]\n\n\t* ext/syck/yaml2byte.c (syck_yaml2byte_handler): need to free\n\t  type_tag.  a patch from Pat Eyler <rubypate at gmail.com>.\n\t  [ruby-core:07808]\n\nWed May  3 02:12:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (make_hostent_internal): accept ai_family\n\t  check from Sam Roberts <sroberts at uniserve.com>.\n\t  [ruby-core:07691]\n\nMon May  1 17:58:16 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (add_event_call_back): should not\n\t  delete event handler when the event name is not entried.\n\nMon May  1 08:32:10 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_param_ole_type): should return\n\t  \"unknown type\" string when ITypeInfo::GetFuncDesc failed.\n\nSat Apr 29 22:43:37 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_decode0): should initialize\n\t  flag. [ruby-core:07785]\n\nFri Apr 28 10:53:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): should not cut off 18 digits for no\n\t  reason.  [ruby-core:07796]\n\nThu Apr 27 01:38:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_fill): internalize local variable \"beg\" to\n\t  pacify Coverity.  [ruby-core:07770]\n\nWed Apr 26 16:59:24 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_unpack): now supports CRLF newlines.  a patch from\n\t  <tommy at tmtm.org>.\t[ruby-dev:28601]\n\nWed Apr 26 16:55:19 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* applied code clean-up patch from Stefan Huehner\n\t  <stefan at huehner.org>.  [ruby-core:07764]\n\nTue Apr 25 18:00:05 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (delete_slaves): maybe increment the reference\n\t  count of a NULL Tcl_Obj [ruby-core:07759].\n\nTue Apr 25 07:55:31 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/jcode.rb (String::tr_s): should have translated non\n\t  squeezing character sequence (i.e. a character) as well.  thanks\n\t  to Hiroshi Ichikawa <gimite at gimite.ddo.jp> [ruby-list:42090]\n\nFri Apr 21 15:19:13 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (lib_eventloop_ensure): refer freed pointer\n\t  [ruby-core:07744] and memory leak.\n\nFri Apr 21 12:14:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: document update patch from Sam Roberts\n\t  <sroberts at uniserve.com>.  [ruby-core:07701]\n\nThu Apr 20 08:43:54 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Integer): need not to remove gcd2.  a patch from\n\t  NARUSE, Yui <naruse at airemix.com>.\t[ruby-dev:28570]\n\nWed Apr 19 13:55:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (arg): too much NEW_LIST()\n\n\t* eval.c (SETUP_ARGS0): remove unnecessary access to nd_alen.\n\nWed Apr 19 11:57:04 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): use ARGSCAT for NODE_OP_ASGN1.\n\t  [ruby-dev:28585]\n\n\t* parse.y (arg): use NODE_ARGSCAT for placeholder.\n\nWed Apr 19 11:13:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/getoptlong.rb (GetoptLong::get): RDoc update patch from\n\t  mathew <meta at pobox.com>.  [ruby-core:07738]\n\nWed Apr 19 10:13:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_const_set): raise error when no target klass is\n\t  supplied.  [ruby-dev:28582]\n\nTue Apr 18 17:40:37 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: add a binding to a container for a slave IP.\n\n\t* ext/tk/lib/tk.rb: update RELEASE_DATE.\n\n\t* ext/tk/tcltklib.c: forget to reset a Tcl interpreter.\n\n\t* ext/tk/stubs.c: fix potential bugs about handling rb_argv0.\n\nMon Apr 10 01:03:10 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* prec.c (prec_prec_f): documentation patch from\n\t  <gerardo.santana at gmail.com>.  [ruby-core:07689]\n\nSat Apr  8 02:34:34 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_pow): second operand may be too big even if\n\t  it's a Fixnum.  [ruby-talk:187984]\n\nSat Apr  8 02:12:38 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* README.EXT: update symbol description.  [ruby-talk:188104]\n\nSat Apr  8 18:06:28 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_METHOD#inspect,\n\t  WIN32OLE_PARAM#inspect.\n\n\t* test/win32ole/test_win32ole_method.rb: ditto.\n\n\t* add test/win32ole/test_win32ole_param.rb.\n\nFri Apr  7 22:11:30 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(foletypelib_initialize): WIN32OLE_TYPELIB.new\n\t  accepts OLE file.\n\n\t* test/win32ole/test_win32ole_typelib.rb(test_initialize): ditto.\n\nThu Apr  6 23:28:47 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* COPYING: explicitly note GPLv2.  [ruby-talk:187922]\n\nThu Apr  6 16:43:06 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* intern.h (rb_obj_instance_exec, rb_mod_module_exec): add declaration.\n\nThu Apr  6 11:18:37 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/panedwindow.rb: lack of arguments. [ruby-core:7681]\n\nThu Apr  6 01:04:47 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: fix SEGV when embedding to an application.\n\t  [ruby-core:7600]\n\n\t* ext/tk/tcltklib.c: fix SEGV at exit. [ruby-talk:186489]\n\n\t* ext/tk/tkutil/tkutil.c: follow to changing specification of\n\t  instance_eval on ruby-1.9.x.\n\n\t* ext/tk/lib/tk.rb: ditto.\n\n\t* ext/tk/lib/multi-tk.rb: ditto.\n\n\t* ext/tk/lib/tk.rb: remove warning about redefinition of methods.\n\n\t* ext/tk/lib/tk/variable.rb: remove warning about unseting Tcl\n\t  variables.\n\nWed Apr  5 00:22:54 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: use a subclass for instantiation except\n\t  methods take pathname argument.  suggested by Evan Phoenix.\n\t  [ruby-core:7618]\n\nTue Apr  4 22:15:41 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: remove some obsolete syntax rules (unparenthesized\n\t  method calls in argument list).\n\nSat Apr  1 15:11:27 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_TYPE#inspect,\n\t  WIN32OLE_VARIABLE#inspect\n\n\t* remove ext/win32ole/tests/testOLEVARIABLE.rb, testOLETYPE.rb\n\t  testOLETYPELIB.rb.\n\n\t* testall.rb: ditto.\n\n\t* add test/win32ole\n\nFri Mar 31 14:24:55 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (enumerator_with_index): removed suspicious return\n\t  statement.\n\nWed Mar 29 23:06:48 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_invoke): change the behavior of\n\t  WIN32OLE#[], WIN32OLE#[]=. These methods invoke DISPID_VALUE.\n\n\t* ext/win32ole/sample/excel2.rb: ditto.\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: ditto.\n\nWed Mar 29 10:11:31 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (nkf_each_char_to_hex, encode_fallback_subchar,\n\t  e2w_conv): support C90 compiler.\n\nMon Mar 27 22:45:37 2006  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/{nkf.c, utf8tbl.c}: imported nkf 2.0.6.\n\t  * Add --ic / --oc option and mapping tables.\n\t  * Add fallback option.\n\t  * Add --no-best-fit-chars option.\n\t  * Fix some bugs.\n\n\t* ext/nkf/nkf.c (nkf_split_options): added for parse option string.\n\n\t* ext/nkf/lib/kconv.rb (Kconv.to*): add -m0.\n\t  Note that Kconv.to* still imply -X.\n\n\t* ext/nkf/test.rb: Removed.  Obsolete by test/nkf.\n\n\t* ext/.document: enabled documents in nkf and kconv\n\n\t* ext/nkf/nkf.c, ext/nkf/lib/kconv.rb: Add rdoc.\n\nMon Mar 27 03:17:21 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): insecure calling should be checked for non\n\t  NODE_SCOPE method invocations too.\n\n\t* eval.c (rb_alias): should preserve the current safe level as\n\t  well as method definition.\n\nSun Mar 26 22:02:51 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c: refactoring for options.\n\n\t* parse.y: ditto.\n\nFri Mar 24 21:11:02 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c (match_aref): RDoc description updated.\n\n\t* string.c (rb_str_sub): ditto.\n\n\t* string.c (rb_str_gsub): ditto.\n\nFri Mar 24 17:20:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (rb_f_sleep): remove RDoc description about SIGALRM\n\t  which is not valid on the current implementation. [ruby-dev:28464]\n\nThu Mar 23 21:40:47 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c (rb_reg_regsub): prohibit \\1, \\2 ...\\9 in replaced string\n\t  for named regex pattern.\n\nThu Mar 23 21:06:23 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.0.2\n\n\t* regparse.c: ditto.\n\n\t* regcomp.c ditto.\n\n\t* regerror.c: ditto.\n\nThu Mar 23 10:47:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (method_missing): should support argument splat in\n\t  super.  a bug in combination of super, splat and\n\t  method_missing.  [ruby-talk:185438]\n\nThu Mar 23 00:01:32 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c (rb_reg_regsub): add back reference by name \\k<name> in\n\t  replace string.\n\n\t* re.h: add regexp argument to rb_reg_regsub().\n\n\t* string.c (rb_str_sub_bang): ditto.\n\n\t* string.c (str_gsub): ditto.\n\nTue Mar 21 22:14:01 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* re.c (match_alloc): initialize member regexp.\n\n\t* re.c (match_aref): add String and Symbol argument. [ruby-dev:28448]\n\n\t* re.h: add member regexp to RMatch.\n\n\t* gc.c (gc_mark_children): add gc_mark() to regexp member.\n\nMon Mar 20 12:05:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: Solaris SunPro compiler -rapth patch from\n\t  <kuwa at labs.fujitsu.com>.  [ruby-dev:28443]\n\nMon Mar 20 11:12:38 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c (folevariant_value): could not compile\n\t  with C90 compiler.\n\nMon Mar 20 09:40:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: remove enable_rpath=no for Solaris.\n\t  [ruby-dev:28440]\n\nSun Mar 19 09:46:30 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_val2olevariantdata): change behavior\n\t  of converting\t OLE Variant object with VT_ARRAY|VT_UI1 and Ruby\n\t  String object.\n\n\t* ext/win32ole/win32ole.c (folevariant_value): ditto.\n\n\t* ext/win32ole/tests/testOLEVARIANT.rb: ditto.\n\nWed Mar 15 16:51:11 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): support libraries without *.so.\n\nWed Mar 15 16:39:29 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c, ext/openssl/ossl_nsspki.c: should use\n\t  \"rb_str_new(0, 0)\" to make empty string.\n\nSun Mar 12 17:02:10 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(ole_val2olevariantdata): support VT_ARRAY in\n\t  WIN32OLE_VARIANT.new().\n\n\t* ext/win32ole/tests/testOLEVARIANT.rb: ditto.\n\n\t* ext/win32ole/tests/testOLEPARAM.rb: test method name should not be\n\t  duplicated.\n\nSat Mar 11 14:24:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.1: a clarification patch from David Lutterkort\n\t  <dlutter at redhat.com>.  [ruby-core:7508]\n\nSun Mar  5 18:40:58 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: do not repeat command options.\n\nSun Mar  5 18:35:03 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (send_request_with_body): #content_type never\n\t  return false, use #main_type instead. [ruby-core:07476]\n\nSat Mar  4 15:26:40 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (id2ref): fix symbol test.\n\nSat Mar  4 01:08:07 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rdoc/ri/ri_paths.rb (RI::Paths): adding paths from rubygems\n\t  directories.\ta patch from Eric Hodel <drbrain at segment7.net>.\n\t  [ruby-core:07423]\n\nFri Mar  3 17:59:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_clear_cache_by_class): clearing wrong cache.\n\nFri Mar  3 21:22:42 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/fileutils.rb (FileUtils.cp_r): implement :remove_destination\n\t  option.\n\n\t* ext/extmk.rb: use :remove_destination to install extension libraries\n\t  to avoid SEGV.  [ruby-dev:28417]\n\nFri Mar  3 14:41:04 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/dl/.cvsignore: ignore callback.h.\n\n\t* ext/ripper/.cvsignore: ignore eventids2table.c.\n\n\t* ext/socket/.cvsignore: ignore constants.h.\n\nThu Mar  2 18:58:18 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_fd_writable): should not re-schedule output\n\t  from KILLED thread (must be error printing).\n\nThu Mar  2 09:12:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_flatten_bang): allow specifying recursion\n\t  level.  [ruby-talk:182170]\n\n\t* array.c (rb_ary_flatten): ditto.\n\nThu Mar  2 08:02:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (add_heap): a heap_slots may overflow.  a patch from Stefan\n\t  Weil <weil at mail.berlios.de>.\n\nWed Mar  1 17:13:37 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call): use separate cache for fcall/vcall\n\t  invocation.\n\n\t* eval.c (rb_eval): NODE_FCALL, NODE_VCALL can call local\n\t  functions.\n\n\t* eval.c (rb_mod_local): a new method to specify newly added\n\t  visibility \"local\".\n\n\t* eval.c (search_method): search for local methods which are\n\t  visible only from the current class.\n\n\t* class.c (rb_class_local_methods): a method to list local methods.\n\nThu Mar  2 17:54:45 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* gc.c: commited magic for reducing RVALUE size on windows. (24->20byte)\n\t  [ruby-core:7474]\n\nThu Mar  2 14:12:26 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c: align VALUE with sizeof(RVALUE) globally.\n\t  (is_pointer_to_heap): check alignment out of loop.\n\t  (id2ref): avoid collision between symbols and objects.\n\t  (rb_obj_id): ditto.  moved from object.c.\n\t  [ruby-talk:178364] [ruby-core:7305]\n\nThu Mar  2 12:55:16 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (filetime_to_unixtime): should set tm_isdst to -1.\n\t  stat() didn't treat daylight saving time property on WinNT.\n\t  [ruby-talk:182100]\n\nWed Mar  1 00:15:51 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/rdoc/parsers/parse_rb.rb (read_escape): could not handle /\\^/.\n\t  merged Mr. Ishizuka's lib/irb/ruby-lex.rb 's patch rev 1.29.\n\t  [ruby-talk:181631] [ruby-dev:28404]\n\nTue Feb 28 19:32:14 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): add BasicObject class as a top level\n\t  BlankSlate class.\n\nMon Feb 27 00:19:16 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (SYM2ID): should not cast to signed long.\n\t  [ruby-core:07414]\n\nFri Feb 24 20:21:38 2006  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/drbtest.rb (add_service_command): quote pathnames in the\n\t  server's command line for space contained directory names.\n\t  Thanks, arton. [ruby-dev:28386]\n\nFri Feb 24 12:10:07 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* instruby.rb: install *.exe.manifest and *.dll.manifest if exist.\n\t  It's for VC++8.\n\nFri Feb 24 11:17:45 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (NtInitialize): need to set a handler for VC++8.\n\nThu Feb 23 22:39:59 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: use borlndmm.dll if possible. bcc32's RTL internal\n\t  memory manager cannot handle large memory block properly.\n\t  ex: 10000.times { \"\" << \".\" * 529671; GC.start } # crash\n\t  [ruby-dev:28230]\n\nThu Feb 23 13:23:03 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* eval.c (SETUP_ARGS0): fixed memory corruption. [ruby-dev:28360]\n\nWed Feb 22 21:16:55 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#each_filename): use split_names properly.\n\nWed Feb 22 16:24:05 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/webrick/test_cgi.rb: should support platforms which search\n\t  library path from the interpreter's path.\n\t  And, support test without install incidentally.\n\nWed Feb 22 14:21:03 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bignorm): x may not be a bignum.  [ruby-dev:28367]\n\nWed Feb 22 09:22:40 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_alloc): add proper check for creation of a lambda\n\t  without a block.\n\nTue Feb 21 02:07:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_arglist): should set command_start = Qtrue for\n\t  command body.  [ruby-talk:180648]\n\nMon Feb 20 22:30:17 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* mkconfig.rb: alias Config to RbConfig for compatibility.\n\nMon Feb 20 18:21:41 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_io_reopen): flush before reopening a file.\n\t  reported by Mathieu Bouchard.  [ruby-core:7396]\n\nMon Feb 20 17:29:50 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* mkconfig.rb: generate RbConfig instead of Config.\n\n\t* instruby.rb, rubytest.rb, runruby.rb, bcc32/Makefile.sub,\n\t  ext/extmk.rb, ext/dl/extconf.rb, ext/iconv/charset_alias.rb,\n\t  lib/mkmf.rb, lib/rdoc/ri/ri_paths.rb,\n\t  lib/webrick/httpservlet/cgihandler.rb,\n\t  test/dbm/test_dbm.rb, test/gdbm/test_gdbm.rb,\n\t  test/ruby/envutil.rb, test/soap/calc/test_calc_cgi.rb,\n\t  test/soap/header/test_authheader_cgi.rb, test/soap/ssl/test_ssl.rb,\n\t  win32/mkexports.rb, win32/resource.rb: Use RbConfig instead of\n\t  Config.\n\nMon Feb 20 13:46:19 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/find.rb: should raise ENOENT if root entry does not exist,\n\t  without opening it. [ruby-dev:28345]\n\nMon Feb 20 12:27:53 2006  Kent Sibilev  <ksruby@gmail.com>\n\n\t* lib/rational.rb (Integer::gcd): small typo fix.\n\t  [ruby-core:07395]\n\nMon Feb 20 10:03:59 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_const_get_0): Object should have been the lowest\n\t  in const lookup precedence.  [ruby-dev:28343]\n\nMon Feb 20 09:17:11 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator): should not delegate \"funcall\".\n\nMon Feb 20 09:13:42 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb (WEBrick::HTTPServlet::CGIHandler):\n\t  qualify the access for Config constant.  [ruby-dev:28338]\n\n\t* lib/resolv.rb (Resolv::DNS::Resource::IN::A): qualify\n\t  ClassValue.  [ruby-dev:28338]\n\nMon Feb 20 01:05:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rational.rb (Integer::gcd): replaced by gcd4 in\n\t  [ruby-core:07390].  [ruby-core:07377]\n\nMon Feb 20 00:57:02 2006  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.h (OSSL_Debug): should not use __func__.\n\t  [ruby-dev:28339]\n\nMon Feb 20 00:13:49 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: add :ssl_verify_mode option.\n\t  suggested by Will Glynn.\n\n\t* lib/open-uri.rb: add :ssl_ca_cert option.\n\nSun Feb 19 04:46:29 2006  Guy Decoux  <ts@moulon.inra.fr>\n\n\t* eval.c: initial value for block_unique must be 1.\n\t  [ruby-talk:180420]\n\nSat Feb 18 23:58:26 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tracer.rb (Tracer::Tracer.add_filter): turn on tracer mode\n\t  only when caller() level size is one.  [ruby-core:07389]\n\n\t* lib/rdoc/parsers/parse_rb.rb: need not to require \"tracer\".\n\t  [ruby-core:07389]\n\n\t* sample/rtags.rb: ditto.\n\nSat Feb 18 21:16:27 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_obj_instance_eval): RDoc description updated.  a\n\t  patch from Ozgur Murat Homurlu <ozgurmurath at gmail.com>.\n\t  [ruby-core:07381]\n\nSat Feb 18 01:01:17 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_const_get_0): skip ruby_wrapper in const search\n\t  to give it lower priority (just above Object).  need not to\n\t  change rb_const_defined_0() since it's only a precedence matter;\n\t  they are defined anyway.\n\nSat Feb 18 00:22:39 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tracer.rb: merged a minor clarification patch from Daniel\n\t  Berger <Daniel.Berger at qwest.com>.  [ruby-core:07376]\n\nFri Feb 17 17:30:20 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (ev_const_get): simplified using rb_const_get_fallback().\n\n\t* eval.c (ev_const_defined): adopt to ev_const_get() using\n\t  rb_const_defined_fallback().\n\n\t* variable.c (rb_const_get_fallback): new function to implement\n\t  constant search.\n\n\t* variable.c (rb_const_defined_fallback): new function to\n\t  implement constant definition check.\n\n\t* variable.c (rb_const_get_0): adopt to new behavior.  constants\n\t  are looked up in the order of: current class, super classes (but\n\t  Object), lexically external classes/modules, and Object.\n\n\t* variable.c (rb_const_defined_0): ditto.\n\nFri Feb 17 11:20:53 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.c (ruby_strtod): Float(\"1e\") should fail. [ruby-core:7330]\n\n\t* pack.c (EXTEND32): unpack(\"l\") did not work where sizeof(long) != 4.\n\t  [ruby-talk:180024]\n\n\t* pack.c (pack_unpack): fixed integer overflow on template \"w\".\n\t  [ruby-talk:180126]\n\nFri Feb 17 09:39:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_wait_for): sleep should always sleep for\n\t  specified amount of time.  [ruby-talk:180067]\n\nWed Feb 15 16:52:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): NODE_OP_ASGN1 should allow splat in its\n\t  argument list.  [ruby-core:07366]\n\n\t* parse.y (arg): avoid unnecessary extra argument.\n\t  [ruby-core:07366]\n\n\t* eval.c (rb_eval): honor visibility on OP_ASGN1 and\n\t  OP_ASGN2. [ruby-core:07366]\n\nWed Feb 15 15:20:23 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (error_line): remove void control path.  [ruby-dev:28335]\n\nWed Feb 15 10:09:51 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (yield_under_i): should not pass self as an argument to\n\t  the block for instance_eval.  [ruby-core:07364]\n\nWed Feb 15 09:20:35 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_obj_instance_eval): should be no singleton classes for\n\t  true, false, and nil.  [ruby-dev:28186]\n\nTue Feb 14 20:26:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enumerator.c (enumerator_each): return self if no block is\n\t  given.  [yarv-dev:882]\n\nTue Feb 14 18:48:33 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (DMETHOD_P): accessing wrong frame.  [ruby-dev:28181]\n\n\t* eval.c (proc_invoke): preserve FRAME_DMETH flag.\n\nTue Feb 14 15:15:22 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/zlib/zlib.c: suppress warning on test/zlib. [ruby-dev:28323]\n\nTue Feb 14 13:47:22 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_utime): drop read-only attribute before\n\t  changing file time.\n\nTue Feb 14 13:38:01 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.h): should define HAVE_LONG_LONG with\n\t  VC++8.\n\nTue Feb 14 11:42:38 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* time.c (search_time_t): support non 32bit time_t environments.\n\n\t* win32/Makefile.sub (config.h): VC++8 has ``long long'' type.\n\n\t* win32/Makefile.sub (config.h): VC++8's time_t is 64bit value.\n\nMon Feb 13 18:01:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (copy_node_scope): remove duplicated semicolons at end.\n\t  a patch from KIMURA Koichi <kimura.koichi at canon.co.jp>.\n\t  [ruby-dev:28332]\n\n\t* eval.c (VIS_MODE): remove unnecessary argument.\n\t  [ruby-dev:28332]\n\nMon Feb 13 13:49:48 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_parse_string): mention \"regexp\" in a error\n\t  message.  a patch from Mauricio Fernandez <mfp at acm.org>\n\t  [ruby-core:07340]\n\nMon Feb 13 00:01:32 2006  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* oniguruma.h: Version 4.0.1\n\n\t* regparse.c (onig_free_shared_cclass_table): fix memory leaks.\n\n\t* regcomp.c (optimize_node_left): change from IS_POSIXLINE() to IS_MULTILINE().\n\n\t* regint.h: rename ANCHOR_ANYCHAR_STAR_PL to ANCHOR_ANYCHAR_STAR_ML.\n\n\t* regparse.h: ditto.\n\n\t* regexec.c: ditto.\n\nSat Feb 11 21:57:29 2006  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE.create_guid.\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: ditto.\n\nSat Feb 11 01:57:44 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_autoload): check if ruby_cbase is nil (during\n\t  instance_eval for objects cannot have singleton classes,\n\t  e.g. fixnums and symbols).  [ruby-dev:28178]\n\nFri Feb 10 12:31:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): should support NODE_ZSUPER in NODE_ITER.\n\t  [ruby-dev:28326]\n\n\t* eval.c (ZSUPER_ARGS): support macro.\n\nWed Feb  8 10:26:06 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): turn on during_gc while\n\t  invoking finalizers.\n\n\t* gc.c (rb_gc_finalize_deferred): ditto.\n\nTue Feb  7 23:03:13 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/zlib/zlib.c: should not access ruby objects in finalizer.\n\t  [ruby-dev:28286]\n\nTue Feb  7 18:42:00 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_write_error2): use fwrite(3) if rb_stderr is not\n\t  updated or is already freed.  [ruby-dev:28313]\n\nMon Feb  6 16:02:51 2006  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* file.c (rb_thread_flock): ERROR_NOT_LOCKED is not an error on Cygwin.\n\t  In such situation, flock() should return 0.\n\nMon Feb  6 14:36:29 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (error_line): include the class name of a surrounding\n\t  method in error position description.\n\nMon Feb  6 00:14:57 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_find_index): a new method Enumerable#find_index.\n\t  [ruby-talk:178495]\n\nSun Feb  5 23:29:31 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* ruby.h (struct RStruct): embed 3 or less elements structs.\n\t  (RSTRUCT_LEN): defined for accessing struct members.\n\t  (RSTRUCT_PTR): ditto.\n\n\t* struct.c: use RSTRUCT_LEN and RSTRUCT_PTR.\n\t  (struct_alloc): allocate small structs in embedded format.\n\t  (rb_struct_init_copy): ditto.\n\n\t* gc.c (gc_mark_children): use RSTRUCT_LEN and RSTRUCT_PTR.\n\t  (obj_free): ditto.\n\n\t* marshal.c (w_object): use RSTRUCT_LEN and RSTRUCT_PTR.\n\nSun Feb  5 21:01:49 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* numeric.c (fix_to_s): removed workaround for radix 2. Historically,\n\t  rb_fix2str could only handle radix 8, 10, 16. (Rev1.37) But for now,\n\t  it can handle radix 2..36. [ruby-Bugs#3438] [ruby-core:7300]\n\nSun Feb  5 18:49:00 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (add_field, get_fields): keep 1.8.2\n\t  compatibility.  This patch is contributed by Rob Pitt.\n\nSun Feb  5 16:33:50 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/mkmf.rb (create_makefile): Kernel#sub! was removed on HEAD.\n\nSun Feb  5 14:26:54 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/pstore.rb: should return default value if name is not found.\n\t  [ruby-core:7304]\n\n\t* lib/pstore.rb: should raise PStore::Error if not in transaction.\n\nSat Feb  4 22:51:43 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c: apply the FreeBSD getcontext/setcontext workaround\n\t  only before FreeBSD 7-CURRENT.\n\nSat Feb  4 21:10:06 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (LK_ERR): ERROR_NOT_LOCKED is not an error.\n\t  In such situation, flock() should return 0.\n\nSat Feb  4 15:52:56 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* numeric.c (fix_to_s): (2**32).to_s(2) fails with exception where\n\t  sizeof(int) == 4 < sizeof(long). [ruby-core:7300]\n\nSat Feb  4 15:02:05 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* oniguruma.h: merge Oniguruma 4.0.0  [ruby-dev:28290]\n\nFri Feb  3 19:25:53 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ruby.h: fixed prototype.\n\n\t* ext/syck/rubyext.c: defined symbol ID as global variable as others.\n\nFri Feb  3 17:57:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c: unify ruby_class (for method definition) and ruby_cbase\n\t  (for constant reference).\n\nFri Feb  3 15:02:10 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/syck.c (syck_move_tokens): should reset p->cursor or etc\n\t  even if skip == 0. This causes buffer overrun.\n\t  (ex: YAML.load('--- \"..' + '\\x82\\xA0' * 511 + '\"'))\n\nFri Feb  3 00:01:31 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/emitter.c (syck_emitter_write): should not set '\\0' on\n\t  emitter's marker. if marker points to the end of buffer, this is\n\t  buffer overrun. (ex: YAML.dump(\".\" * 12288))\n\nThu Feb  2 17:13:01 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser#get_tk): added\n\t  support of :'string' style Symbol.\n\nThu Feb  2 16:01:24 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): use TMP_ALLOC() instead of allocating\n\t  a temporary array object.\n\n\t* eval.c (eval): need not to protect $SAFE value.\n\t  [ruby-core:07177]\n\n\t* error.c (Init_Exception): change NameError to direct subclass of\n\t  Exception so that default rescue do not handle it silently.\n\nThu Feb  2 14:45:53 2006  Ville Mattila  <ville.mattila@stonesoft.com>\n\n\t* configure.in: The isinf is not recognized by autoconf\n\t  library guesser on solaris 10. [ruby-core:7138]\n\nWed Feb  1 22:01:47 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* configure.in, hash.c (ruby_setenv): use setenv(3) and unsetenv(3)\n\t  where they are supported. modifying environ variable seems to\n\t  segfault solaris 10. [ruby-core:7276] [ruby-dev:28270]\n\n\t* ruby.c (set_arg0): if use setenv(3), environ space cannot be used\n\t  for altering argv[0].\n\nTue Jan 31 14:46:28 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_select): update RDoc description.\n\t  [ruby-core:7254]\n\nTue Jan 31 11:58:51 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: add MultiTkIp#eval and bg_eval.\n\n\t* ext/tk/lib/tk/namespace.rb: TkNamespace#eval was enbugged at the\n\t  last commit. Now it will return a proper object.\n\nTue Jan 31 08:07:02 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (int_upto): return an enumerator if no block is\n\t  attached to the method.\n\n\t* numeric.c (int_downto): ditto.\n\n\t* numeric.c (int_dotimes): ditto.\n\n\t* enum.c (enum_first): new method Enumerable#first to take first n\n\t  elements from an enumerable.\n\n\t* enum.c (enum_group_by): new method Enumerable#group_by that\n\t  groups enumerable values according to their block values.\n\nTue Jan 31 00:08:22 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (syck_resolver_transfer): workaround for SEGV.\n\t  ex: ruby -ryaml -e 'YAML.load(\"!map:B {}\")' [ruby-core:7217]\n\nSat Jan 28 07:49:30 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/rdoc/usage.rb: support \"a:0:33\" style caller[-1]. In this case\n\t  file name is \"a:0\". I don't know this really happens though...\n\t  [ruby-Bugs:3344]\n\nThu Jan 26 15:55:52 2006  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: turn on do_not_reverse_lookup by default.\n\nWed Jan 25 22:29:04 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, dln.c, file.c, intern.h, missing.h (eaccess): use\n\t  system routine if provided.  fixed: [ruby-core:07195]\n\nSun Jan 22 23:27:13 2006  Go Noguchi  <gonoguti@yahoo.co.jp>\n\n\t* lib/test/unit/autorunner.rb (process_args): ignore arguments after\n\t  '--' so that test scripts can handle them.  fixed: [ruby-dev:28258]\n\nSun Jan 22 22:09:52 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (POST_GETCONTEXT): define separately from PRE_GETCONTEXT on\n\t  IA64 to avoid reusing variable address.\n\nSun Jan 22 20:03:35 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (ruby_setjmp): define PRE_GETCONTEXT and POST_GETCONTEXT\n\t  instead of FUNCTION_CALL_MAY_RETURN_TWICE.\n\t  define PRE_GETCONTEXT to clear carry flag for workaround of\n\t  FreeBSD/i386 getcontext/setcontext bug.\n\t  [ruby-dev:28263]\n\nThu Jan 19 22:19:18 2006  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mv): should remove file after copying.\n\t  [ruby-dev:28223]\n\nWed Jan 18 23:37:06 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (FUNCTION_CALL_MAY_RETURN_TWICE): don't clobber %l7 of SPARC\n\t  if enable-shared.\n\t  (ruby_setjmp): call FUNCTION_CALL_MAY_RETURN_TWICE after getcontext\n\t  too.\n\t  reported by Pav Lucistnik and Marius Strobl.\n\t  http://lists.freebsd.org/pipermail/freebsd-sparc64/2006-January/003739.html\n\nTue Jan 17 23:59:56 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_mod_const_get, rb_mod_const_defined): added optional\n\t  flag to search ancestors, which is defaulted to true.\n\t  fixed: [ruby-talk:175899]\n\n\t* eval.c (rb_mod_method_defined): ditto.\n\nTue Jan 17 11:31:47 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/setup.mak (MAKE): workaround for nmake 8.\n\nTue Jan 17 11:06:19 2006  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub: invoke .bat via shell. workaround for nmake 8.\n\nMon Jan 16 10:13:38 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/emitter.c (syck_emit_seq, syck_emit_map, syck_emit_item):\n\t  should output complex key mark even if map's key is empty seq/map.\n\t  [ruby-core:7129]\n\nSat Jan 14 03:38:54 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* file.c (rb_file_s_chmod): avoid warning where sizeof(int) !=\n\t  sizeof(void*).\n\nFri Jan 13 19:26:15 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/rdoc/diagram.rb:\n\t    - properly quote bare element attributes\n\t    - terminates dangling elements (e.g. <img>, <br>, <link>, etc)\n\t    - converts \"CVS\" to the more HTML-friendly acronym element\n\t    - adds missing type attributes to style elements\n\n\t  based on Paul Duncan's patch <pabs@pablotron.org> [ruby-core:7028]\n\n\t* lib/rdoc/generators/html_generator.rb: ditto.\n\t* lib/rdoc/generators/template/html/hefss.rb: ditto.\n\t* lib/rdoc/generators/template/html/html.rb: ditto.\n\t* lib/rdoc/generators/template/html/kilmer.rb: ditto.\n\nThu Jan 12 11:53:08 2006  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkballoonhelp.rb: [bug fix] couldn't add to a widget\n\t  which is constructed with TkComposite module.\n\t  [new feature] support 'command' option which is called just before\n\t  popping up the balloon help.\n\nWed Jan 11 00:12:29 2006  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/erb.rb (ERB::Compiler): add instance variable @insert_cmd to\n\t  change <%='s behavior.\n\nTue Jan 10 19:42:33 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (garbage_collect): mark ruby_current_node.\n\t  if an exception is raised in a finalizer written in C called by\n\t  rb_gc_call_finalizer_at_exit, ruby_set_current_source may use\n\t  collected ruby_current_node and mark_source_filename may corrupt\n\t  memory.\n\nTue Jan 10 13:30:34 2006  akira yamada  <akira@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_resolver_transfer): should be able to load\n\t  !ruby/object:Bignum syntax 1.8.3 dumped. [ruby-core:6159]\n\nTue Jan 10 12:47:41 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/yaml/rubytypes.rb (Fixnum): Bignum could not be loaded in\n\t  ruby 1.8.3/1.8.4. [ruby-core:6115]\n\n\t* lib/yaml/rubytypes.rb (Numeric): Subclass of Numeric could not\n\t  be dumped properly. [ruby-core:7047]\n\nTue Jan 10 12:00:48 2006  Aaron Schrab  <aaron @nospam@ schrab.com>\n\n\t* lib/yaml/rubytypes.rb (Symbol#yaml_new): YAML loading of quoted\n\t  Symbols broken. [ruby-Bugs:2535]\n\nTue Jan 10 07:26:52 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (gc_stress): renamed from always_gc and enabled by default.\n\t  (gc_stress_get): new function for GC.stress.\n\t  (gc_stress_set): new function for GC.stress=.\n\nMon Jan  9 19:58:56 2006  arton  <artonx@yahoo.co.jp>\n\n\t* ext/zlib/extconf.rb: zlib compiled DLL version 1.2.3 distributed by\n\t  http://www.zlib.net/ has zdll.lib. [ruby-dev:28209]\n\nMon Jan  9 14:25:00 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/Makefile.sub (OPTFLAGS): I have experienced trouble on y- flag,\n\t  (VisualC++6) so use -O2b2xg- if  $(MSC_VER) < 1400. [ruby-core:7040]\n\nMon Jan  9 14:25:00 2006  Kero van Gelder  <rubyforge @nospam@ kero.tmfweb.nl>\n\n\t* lib/webrick/httpservlet/filehandler.rb: fixed typo. [ruby-core:7075]\n\nSun Jan  8 14:15:27 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (GCC_VERSION_BEFORE): check __INTEL_COMPILER.\n\t  Intel C++ Compiler defines __GNUC__.\n\t  http://www.intel.com/software/products/compilers/clin/docs/ug_cpp/lin1077.htm\n\nSat Jan  7 15:40:07 2006  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (singleton): get rid of segfault on syntax error.\n\t  fixed: [ruby-core:07070]\n\nSat Jan  7 06:24:18 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_fd_isset): compare the result of FD_ISSET with 0 to\n\t  avoid FreeBSD bug.  FreeBSD defines FD_ISSET as just a bitmap of\n\t  unsigned long.  So returning the value from rb_fd_isset discards\n\t  upper 32bits on LP64 environment.\n\t  http://www.freebsd.org/cgi/query-pr.cgi?pr=ia64/91421\n\nFri Jan  6 02:20:18 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: don't force getcontext on IA64.\n\n\t* eval.c (ruby_setjmp): add an argument for just before getcontext.\n\t  (THREAD_SAVE_CONTEXT): call rb_thread_save_context just\n\t  before getcontext.\n\t  [ruby-dev:28205]\n\nSun Jan  1 15:28:46 2006  Tanaka Akira  <akr@m17n.org>\n\n\t* missing.h (isinf): avoid macro expansion\n\t  \"extern int isinf(double);\" to\n\t  \"extern int ((sizeof(double)==sizeof(float))?_Isinff(double):_Isinf(double));\" on\n\t  HP-UX.\n\nSun Jan  1 14:42:54 2006  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_seekdir): should not segfault even if passed\n\t  the location which rb_w32_telldir didn't return. (and should change\n\t  `bits' position) [ruby-core:7035]\n\n\t* win32/dir.h: ditto. (stores `loc' instead of `bitpos')\n\n\t* test/ruby/test_dir.rb: added.\n\nSat Dec 31 22:57:00 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_save_context): should not recycle scope object used\n\t  in a thread.  fixed: [ruby-dev:28177]\n\nSat Dec 31 19:50:38 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c: attribute name was truncated with Rev1.64.\n\nSat Dec 31 11:53:16 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/generator.rb: (Generator#initialize): should kill @loop_thread\n\t  before starting new thread. (occurs when called via Generator#rewind)\n\t  [ruby-dev:28184]\n\nFri Dec 30 18:22:42 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (garbage_collect): mark objects referred from aborting threads.\n\t  [ruby-dev:28190]\n\n\t* win32/Makefile.sub: VC++8 support.\n\nFri Dec 30 15:17:35 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/generator.rb (Generator#initialize): ensured to stop @loop_thread.\n\t  Mr. Tanaka pointed out one Thread.pass is not enough. [ruby-dev:28185]\n\nFri Dec 30 12:20:57 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/generator.rb (Generator#initialize): fixed dead lock. this occurred\n\t  when end? was called before @loop_thread was stopped. [ruby-core:7029]\n\nFri Dec 30 01:04:52 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/generator.rb: should work with another thread. (more robust code)\n\t  [ruby-dev:28177]\n\nThu Dec 29 23:59:37 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_gc_mark_threads): keep unmarked threads which won't wake\n\t  up alone, and mark threads in the loading table.  [ruby-dev:28154]\n\n\t* eval.c (rb_gc_abort_threads), gc.c (gc_sweep): kill unmarked\n\t  threads.  [ruby-dev:28172]\n\nThu Dec 29 17:02:07 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* test/ruby/envutil.rb (EnvUtil.rubybin): search \"ruby\" instead of\n\t  \"miniruby\".  [ruby-dev:28140]\n\nThu Dec 29 14:35:10 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_mod_define_method): should save safe_level in the\n\t  proc object.  [ruby-dev:28146]\n\nThu Dec 29 11:22:34 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/generator.rb: reimplemented Generator class with Thread instead of\n\t  callcc, in order to fix memory leak. [ruby-dev:28142]\n\nWed Dec 28 14:10:05 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ia64.s: remove .pred.safe_across_calls directive.\n\t  reported by WATANABE Tetsuya.  [ruby-dev:28141]\n\nWed Dec 28 01:32:39 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (struct thread): add bstr_max.\n\t  (rb_thread_save_context): use realloc instead of REALLOC_N\n\t  to avoid GC.\n\nTue Dec 27 23:59:53 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (CompletingHash#match): fix for 1.9.\n\nTue Dec 27 16:59:52 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/drb/drbtest.rb (DRbService::self.ext_service): increase\n\t  timeout limit.  a patch from Kazuhiro NISHIYAMA\n\t  <zn at mbf.nifty.com>. [ruby-dev:28132]\n\nTue Dec 27 14:17:55 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: define IA64 for portability.  (HP aC++/ANSI C doesn't\n\t  define __ia64__.)\n\t  don't check libunwind stuff.\n\t  check __libc_ia64_register_backing_store_base.\n\n\t* defines.h: declare rb_ia64_bsp and rb_ia64_flushrs.\n\t  (flush_register_windows): call rb_ia64_flushrs on IA64.\n\n\t* ia64.s: new file for IA64.\n\t  it is separated from C program files because\n\t  Intel C++ Compiler for IA64 doesn't support inline assembly.\n\n\t* common.mk (ia64.$(OBJEXT)): new target.\n\n\t* ruby.h (RUBY_INIT_STACK): defined.\n\t  (ruby_init_stack): declared for RUBY_INIT_STACK.\n\n\t* main.c (main): precedes RUBY_INIT_STACK before ruby_init.\n\n\t* gc.c (rb_gc_register_stack_start): new global variable on IA64.\n\t  (garbage_collect): simplify register stack marking code.\n\t  don't use libunwind.\n\t  (Init_stack): initialize rb_gc_register_stack_start.\n\t  (ruby_init_stack): new function for RUBY_INIT_STACK.\n\n\t* eval.c (struct thread): add bstr_pos member for original position of\n\t  register stack.\n\t  (rb_thread_save_context): simplify register stack saving code.\n\t  don't use libunwind.\n\t  (rb_thread_restore_context_0): new function.  moved from\n\t  rb_thread_restore_context except the stack position checking code.\n\t  don't use libunwind for IA64 register stack.\n\t  (register_stack_extend): new function.\n\t  (stack_extend): make it self-recursive with\n\t  the stack position checking code in old rb_thread_restore_context.\n\t  (rb_thread_restore_context): just call stack_extend.\n\t  (flush_register_windows): removed.\n\n\t  [ruby-dev:28127]\n\nTue Dec 27 14:09:39 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* process.c: new method Process.exec. [ruby-dev:28107]\n\nTue Dec 27 08:22:15 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLSocket#post_connection_check):\n\t  treat wildcard character in commonName. [ruby-dev:28121]\n\nMon Dec 26 08:50:36 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (ev_const_get): fixed a bug in constant reference during\n\t  instance_eval.  [yarv-dev:707]\n\n\t* eval.c (ev_const_defined): ditto.\n\n\t* lib/yaml.rb (YAML::add_domain_type): typo fixed.  a patch from\n\t  Joel VanderWerf <vjoel at path.berkeley.edu>.\n\t  [ruby-talk:165285] [ruby-core:6995]\n\nFri Dec 23 10:30:23 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/digest/sha2/sha2.c (ULL): support AIX C.  a patch from\n\t  Kailden <kailden at gmail.com>.  [ruby-core:06984]\n\nWed Dec 21 16:47:35 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* file.c (w32_io_info): should return handle because FileIndex is\n\t  valid only while file is open. [ruby-dev:28088]\n\nWed Dec 21 12:12:21 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* test/pathname/test_pathname.rb (test_kernel_open): use\n\t  File.identical?.\n\t  [ruby-talk:171804]\n\nTue Dec 20 22:41:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (eval_under_i): evaluate source in caller's frame.\n\t  [ruby-dev:28076]\n\nTue Dec 20 12:53:23 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_emitter_reset): to ensure compatibility\n\t  with previous Ruby versions, documents are no longer headless.\n\nTue Dec 20 12:33:01 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (syck_node_transform): ruby object holding\n\t  explicitly freed SyckNode caused SEGV. [ruby-dev:28067]\n\n\t... I think syck GC problem was solved now!\n\nTue Dec 20 01:46:48 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_f_backquote): fix a GC problem on\n\t  IA64 with gcc 4.0.3 20051216 (prerelease) -O3.\n\nMon Dec 19 23:32:39 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (XCFLAGS): separated as well as win32/Makefile.sub.\n\n\t* main.c (always_gc): dllimport is required for VC to import a DLL\n\t  symbol.  fixed: [ruby-dev:28051]\n\n\t* parse.y (rb_symname_p): fixed wrong validation.  [ruby-dev:28047]\n\nMon Dec 19 23:09:24 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* st.c: uses malloc instead of xmalloc to avoid GC. syck uses st_insert\n\t  in gram.c to insert node from rb_syck_bad_anchor_handler into\n\t  SyckParser's hash table. if GC occurs in st_insert, it's not under\n\t  SyckParser's mark system yet. so RString can be released wrongly.\n\n\t* ext/syck/syck.h (S_FREE): small hack. no need to check if pointer is\n\t  NULL or not before S_FREE.\n\n\t* ext/syck/rubyext.c (syck_parser_assign_io): rb_check_string_type can\n\t  return new RString. if so, it becomes unreachable from GC after\n\t  returns syck_parser_assign_io, and can be freed by GC. (dangling\n\t  in syck io system) so extends its life time till syck_parse is called.\n\n\t* ext/syck/rubyext.c (syck_parser_s_alloc): always allocates bonus,\n\t  so no need to check if NULL, and \"volatile VALUE hash\"\n\t  is not needed. (bonus->port was not protected in syck_emitter_reset)\n\n\t* ext/syck/rubyext.c (syck_mark_parser): ditto.\n\n\t* ext/syck/rubyext.c (syck_parser_load): ditto.\n\n\t* ext/syck/rubyext.c (syck_parser_load_documents): ditto.\n\n\t* ext/syck/rubyext.c (syck_emitter_s_alloc): ditto.\n\n\t* ext/syck/rubyext.c (syck_mark_emitter): ditto.\n\n\t* ext/syck/rubyext.c (syck_emitter_reset): ditto.\n\n\t* ext/syck/rubyext.c (syck_scalar_value_set): \"should set newly\n\t  allocated memory instead of RString's internal storage\" stuff again.\n\t  by this, should call syck_free_node instead of rb_syck_free_node.\n\n\t* ext/syck/rubyext.c (syck_node_type_id_set): ditto.\n\n\t... I believe syck GC problem was solved by this.\n\nMon Dec 19 12:20:59 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (FUNCTION_CALL_MAY_RETURN_TWICE): activate only\n\t  before gcc 4.0.3 on SPARC and IA64.\n\nMon Dec 19 11:37:47 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c: sorry, I reverted my \"should set newly\n\t  allocated memory instead of RString's internal storage\" stuff.\n\t  node allocated in rubyext.c seems to be freed by rb_syck_free_node\n\t  not syck_free_node, and it won't free data.str->ptr and type_id.\n\n\t (I still think this is unsafe because RString(foo)->ptr becomes\n\t  dangling pointer when RString is modified or freed, but anyway\n\t  I misunderstood, so go back to original code for now)\n\nSat Dec 17 21:50:41 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (syck_emitter_reset): should initialize\n\t  emitter->bonus->oid. otherwise rb_gc_mark crashes.\n\n\t* ext/syck/rubyext.c (syck_mark_parser): should mark anchor nodes\n\t  because they hold ruby objects. (ie: rb_syck_bad_anchor_handler)\n\nSat Dec 17 11:00:17 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (rb_syck_compile): avoid potential memory\n\t  leak.\n\n\t* ext/syck/rubyext.c (syck_set_ivars): avoid potential memory\n\t  leak by explicit symbol allocation.\n\nSat Dec 17 03:57:01 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* bignum.c (rb_big_rshift): fix a GC problem on\n\t  IA64 with gcc 4.0.3 20051216 (prerelease).\n\nSat Dec 17 03:30:23 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (bmcall): fix a GC problem by tail call on\n\t  IA64 with gcc 4.0.3 20051216 (prerelease).\n\nFri Dec 16 17:53:45 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (rb_syck_compile): fixed memory leak.\n\n\t* ext/syck/rubyext.c: should protect global variable from GC.\n\nFri Dec 16 11:44:43 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (syck_resolver_tagurize): fixed memory leak.\n\n\t* ext/syck/rubyext.c (syck_node_type_id_set): should set newly\n\t  allocated memory instead of RString's internal storage.\n\n\t* ext/syck/rubyext.c (syck_scalar_value_set): ditto.\n\n\t... these fixes won't fix [ruby-dev:27839]. more work is needed.\n\nFri Dec 16 04:38:55 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator::method_missing): should delegate\n\t  block as well.\n\nThu Dec 15 19:57:12 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::MorphingBody): fix criteria to\n\t  use Tempfile.  A fix from Zev Blut <rubyzbibd at ubit.com>.\n\t  [ruby-core:06076]\n\n\t* string.c: remove global functions work on $_.\n\nThu Dec 15 12:35:14 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tmpdir.rb: merged RDoc patch from Eric Hodel <drbrain at\n\t  segment7.net>.  [ruby-core:06894]\n\nThu Dec 15 01:33:31 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/zlib/zlib.c (zstream_run): fix a GC problem by tail call on\n\t  x86_64 with gcc 4.0.3 20051111 (prerelease) (Debian 4.0.2-4)\n\nWed Dec 14 23:50:20 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_c.rb (find_class_comment): fix for class\n\t  document with prototypes.  [ruby-core:06863]\n\nWed Dec 14 23:39:53 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (has_magic): glob names contain alphabets to enable case fold\n\t  search.  [ruby-dev:27735]\n\n\t* dir.c (Init_Dir): FNM_SYSCASE which is default case fold flag.\n\t  [ruby-dev:23296]\n\nWed Dec 14 12:01:26 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* marshal.c (r_object0): fix a GC problem for reading a bignum on\n\t  IA64 with gcc 3.3.5 (Debian 1:3.3.5-13).\n\nTue Dec 13 12:23:47 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* re.c (rb_reg_regcomp): fix a GC problem on x86_64 with\n\t  gcc 3.3.5 (Debian 1:3.3.5-13).\n\nTue Dec 13 01:44:16 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* array.c (rb_ary_diff): fix a GC problem on IA64 with\n\t  gcc 3.3.5 (Debian 1:3.3.5-13).\n\t  When rb_ary_push is called, there was no register which contains\n\t  `hash' but `&RHASH(hash)->tbl' instead.\n\nTue Dec 13 00:08:09 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* sprintf.c (rb_str_format): fix a GC problem.\n\t  [ruby-dev:28001]\n\nMon Dec 12 15:51:22 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/openssl/test_ssl.rb (test_parallel): call GC.start to close\n\t  unused files. [ruby-dev:27981]\n\nMon Dec 12 09:58:09 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_cover): new method Range#cover? added.  the\n\t  method name might be changed.  thanks to takano32 at\n\t  http://www.rubyist.net/~matz/20051210.html#c08 for name\n\t  suggestion.  [ruby-talk:167182]\n\nMon Dec 12 00:33:56 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/digest/digest.c (rb_digest_base_s_digest): add volatile to\n\t  protect temporary context object.  [ruby-dev:27979]\n\n\t* ext/iconv/iconv.c (Init_iconv): rb_gc_register_address() should\n\t  be called before actual variable initialization.\n\t  [ruby-dev:27986]\n\nSun Dec 11 23:54:07 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/*: update to support libraries in ActiveTcl8.4.12.0\n\t  (see ext/tk/ChangeLog.tkextlib).\n\n\t* ext/tk/sample/scrollframe.rb: add a new sample.\n\nSun Dec 11 22:07:58 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb (test_remote_array_and_hash): pseudo remote\n\t  objects are protected against GC. [ruby-dev:27911]\n\nSat Dec 10 01:06:06 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/matrix.rb: add Matrix#determinant_e, Matrix#rank_e.\n\t  [ruby-dev:27820] and related thread.\n\nSat Dec 10 00:31:42 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (calling_scope_t): gave names to magic numbers for rb_call().\n\t  [ruby-dev:27978]\n\nFri Dec  9 23:31:02 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rexml/encoding.rb (encoding=): give priority to particular\n\t  conversion to iconv.  [ruby-core:06520]\n\nFri Dec  9 23:16:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* range.c (range_include): return false unless included in numeric\n\t  range.  fixed: [ruby-dev:27975]\n\nThu Dec  8 02:07:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (umethod_bind): adjust invoking class for module method.\n\t  [ruby-dev:27964]\n\nThu Dec  8 00:40:52 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (call_trace_func): klass parameter should be a\n\t  class/module that defines calling method.  [ruby-talk:169307]\n\nWed Dec  7 17:10:27 2005  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* sprintf.c (rb_f_sprintf): [ruby-dev:27967]\n\nWed Dec  7 16:39:18 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_include): use discrete membership for non Numeric\n\t  values, for example, String.\n\n\t* numeric.c (num_scalar_p): new method. [ruby-dev:27936]\n\n\t* lib/complex.rb (Complex#scalar?): ditto.\n\nWed Dec  7 15:31:35 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_str_format): integer overflow check added.\n\n\t* sprintf.c (GETASTER): ditto.\n\nWed Dec  7 01:02:04 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/README.macosx-aqua: [new document] tips to avoid the known\n\t  bug on platform specific dialogs of Tcl/Tk Aqua on MacOS X.\n\n\t* ext/tk/tcltklib.c: fix bug on switching threads and waiting on the\n\t  deleted interpreter on vwait and tkwait command.\n\n\t* ext/tk/lib/multi-tk.rb: kill the meaningless loop for the deleted Tk\n\t  interpreter.\n\n\t* ext/tk/sample/demos-jp/image3.rb: [bug fix] wrong argument.\n\n\t* ext/tk/sample/demos-en/image3.rb: ditto.\n\n\t* ext/tk/sample/demos-jp/menu.rb: fix message for MacOS X.\n\n\t* ext/tk/sample/demos-jp/menu8x.rb: ditto.\n\n\t* ext/tk/sample/demos-en/menu.rb: ditto.\n\nTue Dec  6 16:48:40 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (ruby_xmalloc2): change check condition for integer\n\t  overflow.  [ruby-dev:27399]\n\n\t* gc.c (ruby_xrealloc2): ditto.\n\nTue Dec  6 16:37:57 2005  Yuya Nishida  <yuya@j96.org>\n\n\t* eval.c (exec_under): avoid accessing ruby_frame->prev.\n\t  [ruby-dev:27948]\n\nFri Dec  2 19:06:06 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (Compare): should not fold double byte alphabet on win9x.\n\nThu Dec  1 00:50:33 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_funcall2): allow to call protected methods.\n\t  fixed: [ruby-dev:27890]\n\nWed Nov 30 23:52:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (struct parser_params): fields common to ripper must be\n\t  placed at each same offset.\n\n\t* parse.y (NEWHEAP, ADD2HEAP): set count after pointer was set.\n\t  fixed: [ruby-dev:27896]\n\nWed Nov 30 13:43:07 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-expr-beg): support $! at the end of\n\t  expression.   [ruby-dev:27868]\n\nMon Nov 28 20:24:22 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (PP::PPMethods#object_address_group): mask an address with\n\t  word size.\n\nTue Nov 29 23:57:05 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (struct parser_params): heap must be placed at same offset\n\t  also in ripper.y.  fixed: [ruby-dev:27846]\n\n\t* parse.y (yycompile): prevent vparser from tail call optimization.\n\t  fixed: [ruby-dev:27851]\n\n\t* parse.y (parser_mark): value needs to be marked.\n\t  fixed: [ruby-dev:27845]\n\nTue Nov 29 22:45:30 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/observer.rb (notify_observers): follow change of observer.rb.\n\t  fixed: [ruby-core:6796]\n\nMon Nov 28 20:24:22 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (PP::PPMethods#object_address_group): adjust address format.\n\nMon Nov 28 18:55:22 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (init_inetsock_internal): remove setting\n\t  SO_REUSEADDR option on server socket on Cygwin.\n\t  fixed: [ruby-core:6765] ([ ruby-Bugs-2872 ])\n\nMon Nov 28 13:11:45 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_strerror): remove all CR and LF. (avoid broken\n\t  error message on bccwin32 + winsock)\n\nMon Nov 28 09:15:50 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/mkmf.rb (create_makefile): should not change sodir with\n\t  dir.gsub!. (bccwin32 failed to install third party extensions)\n\t  [ruby-dev:27834]\n\nSun Nov 27 05:37:20 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: use File.basename to decompose pathnames.\n\t  experimental Windows support.\n\nSun Nov 27 00:56:13 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/wsdl/xmlSchema/complexContent.rb: missing\n\t  ComplexContent#elementformdefault method.\n\nSat Nov 26 19:57:45 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* dln.c (conv_to_posix_path): should initialize posix.\n\nFri Nov 25 20:34:56 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/xmlrpc/datetime.rb (DateTime::to_a): comparison with non\n\t  array-convertible object must return false.\n\nFri Nov 25 14:34:09 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_max): treat end exclusion without iteration if\n\t  the end value is an integer.  [ruby-talk:167433]\n\nFri Nov 25 12:52:57 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: added backward compatibility codes.\n\t* lib/rss/parser.rb: ditto.\n\t* test/rss/test_parser.rb: ditto.\n\t* test/rss/test_2.0.rb: ditto.\n\n\t* test/rss/test_content.rb: use #__send__ instead of #funcall for\n\t  no private method.\n\nFri Nov 25 12:39:56 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: improved type conversion.\n\t* lib/rss/1.0.rb: ditto.\n\t* lib/rss/0.9.rb: ditto.\n\t* lib/rss/2.0.rb: ditto.\n\t* lib/rss/image.rb: ditto.\n\t* lib/rss/syndication.rb: ditto.\n\n\t* test/rss/test_2.0.rb: added type conversion tests.\n\t* test/rss/test_accessor.rb: ditto.\n\t* test/rss/test_to_s.rb: ditto.\n\t* test/rss/test_syndication.rb: ditto.\n\t* test/rss/test_setup_maker_2.0.rb: ditto.\n\t* test/rss/test_setup_maker_1.0.rb: ditto.\n\t* test/rss/test_setup_maker_0.9.rb: ditto.\n\t* test/rss/test_maker_sy.rb: ditto.\n\t* test/rss/test_maker_image.rb: ditto.\n\t* test/rss/test_maker_2.0.rb: ditto.\n\t* test/rss/test_maker_0.9.rb: ditto.\n\t* test/rss/test_image.rb: ditto.\n\n\t* test/rss/test_maker_1.0.rb: use assert instead of assert_equal.\n\n\t* test/rss/rss-assertions.rb: improved type conversion assertions.\n\nFri Nov 25 10:38:20 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/image.rb: added Image prefix.\n\n\t* lib/rss/maker/image.rb: ditto.\n\nFri Nov 25 10:33:02 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_2.0.rb: added RSS 2.0 tests.\n\n\t* test/rss/rss-assertions.rb: extended XML stylesheet assertion.\n\n\t* lib/rss/0.9.rb: added initialize method.\n\n\t* test/rss/test_1.0.rb: cleanup.\n\nFri Nov 25 10:29:48 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_min): use <=> comparison rather than iteration.\n\t  [ruby-talk:167420]\n\n\t* range.c (range_max): ditto.\n\nThu Nov 24 01:31:44 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* file.c (w32_io_info): CreateFile failed on Win9x if file was already\n\t  opened. (FILE_SHARE_READ was needed, but actually I don't understand\n\t  the flags of CreateFile well...)\n\nWed Nov 23 23:52:35 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (num_div): use floor rather than rb_Integer().\n\t  [ruby-dev:27674]\n\nWed Nov 23 22:34:15 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb: added entity handling type predicate.\n\t* lib/rss/rexmlparser.rb: ditto.\n\t* lib/rss/xmlparser.rb: ditto.\n\t* lib/rss/xmlscanner.rb: ditto.\n\n\t* lib/rss/xmlscanner.rb: more robust entity handling.\n\n\t* test/rss/test_parser.rb: added an entity handling test.\n\nWed Nov 23 20:59:01 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add Tk.pkgconfig_list and Tk.pkgconfig_get\n\t  [Tk8.5 feature].\n\n\t* ext/tk/lib/tk/text.rb: supports new indices modifiers on a Text\n\t  widget [Tk8.5 feature].\n\n\t* ext/tk/lib/tk/virtevent.rb: add TkNamedVirtualEvent.\n\n\t* ext/tk/lib/tk/autoload.rb: ditto.\n\n\t* ext/tk/lib/tk/event.rb: add :data key for virtual events [Tk8.5\n\t  feature].\n\nWed Nov 23 18:52:45 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* file.c (w32_io_info): should not call GetFileInformationByHandle\n\t  for pipe.\n\n\t* file.c (w32_io_info): checks return value from rb_w32_get_osfhandle.\n\n\t* file.c (w32_io_info): now can identify directory on WinNT.\n\nWed Nov 23 18:46:53 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/: use #__send__ instead of #send.\n\t* test/rss/: ditto.\n\nWed Nov 23 18:32:56 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_taxonomy.rb: use #reject directory.\n\nWed Nov 23 18:26:00 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/taxonomy.rb: changed class or module prefix to\n\t  Taxonomy from Taxo.\n\t* lib/rss/maker/taxonomy.rb: ditto.\n\nWed Nov 23 18:21:11 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/taxonomy.rb: implemented taxonomy module for RSS\n\t  Maker.\n\t* lib/rss/taxonomy.rb: supported RSS Maker.\n\t* lib/rss/maker.rb: added taxonomy module support.\n\n\t* lib/rss/rss.rb: adjusted to other element API.\n\t* lib/rss/1.0.rb: adjusted to other element API but backward\n\t  compatibility is reserved.\n\t* lib/rss/0.9.rb: ditto.\n\n\t* test/rss/test_maker_taxo.rb: added test case for taxonomy module\n\t  for RSS Maker.\n\t* test/rss/test_setup_maker_1.0.rb: added tests for taxo:topic.\n\n\t* test/rss/test_setup_maker_1.0.rb: added backward compatibility\n\t  test.\n\t* test/rss/test_setup_maker_0.9.rb: ditto.\n\t* test/rss/test_setup_maker_2.0.rb: ditto.\n\n\t* test/rss/rss-testcase.rb: added convenience method for setting\n\t  up taxo:topic.\n\t* test/rss/rss-assertions.rb: added assertion for taxo:topic.\n\n\t* sample/rss/blend.rb: followed new API.\n\nWed Nov 23 17:42:24 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: fixed a indentation bug.\n\n\t* lib/rss/taxonomy.rb: fixed <taxo:topic> #to_s bug.\n\n\t* test/rss/test_taxonomy.rb: added a #to_s test.\n\nWed Nov 23 03:40:49 2005  Guy Decoux  <ts@moulon.inra.fr>\n\n\t* re.c (KR_REHASH): should cast to unsigned for 64bit CPU.\n\t  [ruby-core:06721]\n\nWed Nov 23 07:26:44 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: check for X509V3_EXT_nconf_nid.\n\n\t* ext/openssl/ossl_x509ext.c (MakeX509ExtFactory): should use\n\t  OPENSSL_malloc to allocate X509V3_CTX.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509extfactory_create_ext): use\n\t  X509V3_EXT_nconf_nid to avoid SEGV (and to build extensions which\n\t  values are placed in separate section).\n\n\t* test/openssl/test_x509ext.rb: new file.\n\nWed Nov 23 01:22:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (test_identical): test if two files are identical.\n\n\t* file.c (rb_f_test): support DOSISH systems where st_ino is not\n\t  reliable.  fixed: [ruby-core:06672]\n\n\t* win32.h, win32.c (rb_w32_osid): check the running platform.\n\nTue Nov 22 23:52:06 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb: match incomplete (in current enconding) multibyte\n\t  string.  http://inamode6.tokuhirom.dnsalias.org/show/1551\n\nTue Nov 22 18:36:11 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (winnt_stat): set mapped errno instead of ENOENT.\n\nTue Nov 22 14:36:54 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (rb_file_s_basename): skip slashes just after UNC top slashes.\n\n\t* test/ruby/test_path.rb (test_dirname, test_basename): follow new\n\t  spec. and add new tests.\n\nTue Nov 22 13:30:15 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_stat): Dir.chdir('//server/shared');\n\t  p Dir.glob('*') should work on WinNT. (implemented our own\n\t  stat(2) on WinNT) [ruby-list:41552] [ruby-dev:27711]\n\nTue Nov 22 02:31:53 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/tile.rb: bug fix (Tk::Tile::USE_TTK_NAMESPACE\n\t  is not defined).\n\nTue Nov 22 01:45:21 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_basename): DOSISH_UNC is defined on cygwin but\n\t  DOSISH is not.  fixed: [ruby-dev:27797]\n\nMon Nov 21 22:50:48 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_path_skip_prefix, rb_file_s_basename): UNC without path\n\t  should not be splitted.  fixed: [ruby-dev:27776] [ruby-dev:27786]\n\n\t* parse.y (dsym): prohibit empty symbol literal by interpolation.\n\t  fixed: [ruby-talk:166529]\n\nMon Nov 21 16:03:48 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/setup.mk: findstr doesn't exist on win9x.\n\t  fixed: [ruby-dev:27756]\n\nSun Nov 20 21:39:27 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* regparse.c (fetch_token_in_cc): tok->escaped should be\n\t  initialized.  [ruby-dev:27763]\n\nSun Nov 20 22:34:06 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_symname_p): [ not followed by ] is not valid symbol.\n\t  fixed: [ruby-talk:166520]\n\nSat Nov 19 19:57:54 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/fileutils.rb (FileUtils::ln): ln documentation fix.\n\t  [ruby-core:06661]\n\nSat Nov 19 08:19:38 2005  Zach Dennis  <zdennis@mktec.com>\n\n\t* ext/socket/socket.c: Socket Documentation. [ruby-core:6552]\n\nSat Nov 19 07:34:32 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/font.rb: remove dependency on Ruby's version (1.8\n\t  or 1.9).\n\n\t* ext/tk/lib/tkextlib/ICONS/icons.rb: ditto.\n\n\t* ext/tk/sample/tkextlib/treectrl/demo.rb: ditto.\n\nFri Nov 18 18:07:05 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (rb_file_s_dirname): should use skipprefix for UNC path.\n\t  pointed out by nobu ([ruby-dev:27744]). fixed: [ruby-core:5076]\n\nFri Nov 18 17:35:09 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: add restriction to access the entried\n\t  command table and manipulate other IPs (for reason of security).\n\t  Now, a IP object can be controlled by only its master IP or the\n\t  default IP.\n\n\t* ext/tk/lib/remote-tk.rb: add restriction to manipulate.\n\n\t* ext/tk/tcltklib.c (ip_is_slave_of_p): add TclTkIp#slave_of?(ip)\n\t  to check manipulability.\n\n\t* ext/tk/lib/tk.rb: bug fix on handling of Tcl's namespaces.\n\n\t* ext/tk/lib/tk/namespace.rb: ditto.\n\nFri Nov 18 16:47:33 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (rb_file_s_dirname): added checks for some patterns with drive\n\t  letter. fixed: [ruby-dev:27738]\n\n\t* test/ruby/test_path.rb (test_dirname): added tests for above\n\t  patterns.\n\nFri Nov 18 12:19:16 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.h (S_IFIFO): r,w = IO.pipe; r.stat.pipe? now\n\t  returns true on VisualC++6.\n\nThu Nov 17 17:58:00 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/1.0.rb: added convenience method 'resources'.\n\n\t* lib/rss/taxonomy.rb: ditto.\n\n\t* test/rss/rss-assertions.rb: added test for 'resources'.\n\n\t* test/rss/test_taxonomy.rb: ditto.\n\nThu Nov 17 17:53:30 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/taxonomy.rb: implemented taxonomy module.\n\n\t* test/rss/test_taxonomy.rb: added tests for taxonomy support.\n\nThu Nov 17 17:40:19 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/1.0.rb: added rdf:Bag.\n\nThu Nov 17 13:52:00 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: removed needless argument 'prefix'.\n\n\t* lib/rss/parser.rb: ditto.\n\nWed Nov 16 23:24:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (static-ruby): overridable.\n\n\t* ext/extmk.rb (parse_args): force to link extensions statically only\n\t  if static is given for extstatic.\n\n\t* ext/extmk.rb (RUBY, RUBYW): overridable.\n\nWed Nov 16 01:29:31 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/trackback.rb: added TrackBack prefix.\n\n\t* lib/rss/maker/trackback.rb: ditto.\n\nWed Nov 16 01:26:13 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.5 -> 0.1.6.\n\n\t* test/rss/test_version.rb (RSS::TestVersion#test_version): ditto.\n\nTue Nov 15 23:54:24 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_load_ok): eaccess() returns 0 on success.\n\t  fixed: [ruby-dev:27713]\n\nTue Nov 15 16:36:03 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* array.c (rb_ary_fill): previous commit disabled this usage:\n\n\t    a = [0,1,2,3,4,5,6,7,8,9]\n\t    a.fill {|i| a[i] * 10} #=> [nil, nil, ...., nil]\n\n\t  previous commit has the advantage of early garbage collection, but\n\t  potentially this would break some script. so I reverted behavior.\n\nTue Nov 15 16:15:23 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (file_load_ok): use eaccess() instead of actually opening\n\t  the file.  [ruby-talk:156378]\n\n\t* lib/jcode.rb (String::reverse): add new methods.\n\t  [ruby-list:41245]\n\nTue Nov 15 15:49:34 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* array.c (rb_ary_fill): tail elements were vanished when the middle\n\t  part of array was filled. (ie: [0,1,2,3,4].fill(-1,2,1) => [0,1,-1])\n\n\t* test/ruby/test_array.rb (test_fill): added.\n\nTue Nov 15 14:39:16 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_fill): should adjust array length correctly when\n\t  an array is expanded in the fill process.  [ruby-core:06625]\n\nMon Nov 14 23:49:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_readlink): ERANGE will occur only on GPFS.\n\t  [ruby-dev:27699]\n\nMon Nov 14 17:36:22 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_first): RDoc update from Daniel Berger\n\t  <djberg96@yahoo.com>.  [ruby-core:06577].\n\nSun Nov 13 10:55:24 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/uri/common.rb (escape): regard second argument as a\n\t  character set. [ruby-dev:27692]\n\nSat Nov 12 08:36:40 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, eval.c, intern.h: check fd_mask type.\n\n\t* configure.in (socketpair): need to be checked.\n\nFri Nov 11 19:53:47 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* eval.c, intern.h: failed to compile where NFDBITS is defined but\n\t  howmany() is not defined. [ruby-dev:27680]\n\n\t* io.c (is_socket): failed to compile where S_ISSOCK is not defined.\n\n\t* io.c (pipe_open): failed to compile where socketpair is not supported.\n\nFri Nov 11 08:20:56 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (OUTFLAG): keep trailing spaces.  [ruby-dev:27666]\n\n\t* mkconfig.rb: substitution references added.\n\nFri Nov 11 07:39:49 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* configure.in: undef HAVE_LINK on BeOS. (link(2) always returns\n\t  EINVAL, and this causes error in test/fileutils.)\n\n\t* file.c: override chown(2) and fchown(2) on BeOS. (these functions\n\t  should not change user/group id if -1 is passed as corresponding\n\t  argument, and this causes error in test/fileutils too)\n\t  [ruby-dev:27672]\n\nThu Nov 10 21:05:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/shellwords.rb: fix for blank but not empty string.\n\t  fixed: [ruby-dev:27663]\n\nWed Nov  9 08:39:38 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/shellwords.rb: refactored.  [ruby-core:06581]\n\nTue Nov  8 17:35:53 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* intern.h, eval.c (rb_thread_signal_raise): constified.\n\n\t* signal.c: cosmetic change.\n\nTue Nov  8 15:32:27 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/drb/ssl.rb (DRb::SSLConfig#accept): fixed typo.\n\t  [ruby-dev:27560] [ruby-core:4627]\n\nMon Nov  7 20:54:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c: iconvctl() support.  [EXPERIMENTAL]\n\nMon Nov  7 16:23:23 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl.h: need to include winsock2.h before including\n\t  windows.h by some openssl headers.\n\nMon Nov  7 13:43:51 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/stubs.c (_nativethread_consistency_check): use simpler\n\t  (low cost) way to check whether the Tcl interpreter was compiled\n\t  with threads enabled of not.\n\n\t* ext/tk/tcltklib.c: reduce warnings.\n\n\t* ext/tk/tkutil/tkutil.c: ditto.\n\nMon Nov  7 00:06:12 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/yaml.rb: removed :nodoc: to generate Kernel doc. [ruby-core:6324]\n\nSun Nov  6 23:39:13 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (Iconv::BrokenLibrary): exception when detected a\n\t  bug of underlying library.\n\nSun Nov  6 21:43:22 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/stubs.c (ruby_tcl_create_ip_and_stubs_init): should touch\n\t  interpreter after initialization is done. [ruby-dev:27638]\n\nSun Nov  6 20:13:27 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_readlink): readlink(2) on AIX fails with ERANGE if\n\t  buffer size is less than required.  fixed: [ruby-dev:27634]\n\nSat Nov  5 13:42:50 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, cygwin/GNUmakefile.in (mingw): use def file to alias\n\t  symbols.  [ruby-dev:27532]\n\n\t* bcc32/mkexports.rb, win32/mkexports.rb: make aliases in DLL.\n\n\t* win32/win32.c, win32/win32.h: replace symbols only when RUBY_EXPORT\n\t  is defined.\n\nThu Nov  3 07:57:39 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/open-uri.rb (open_loop): find_proxy should return nil when\n\t  proxy does not exist. [ruby-dev:27630]\n\nWed Nov  2 20:25:28 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/extconf.rb: ext/tk/extconf.rb: change the check parameter\n\t  for Win32.\n\nWed Nov  2 19:03:06 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_rbUpdateObjCmd, ip_rb_threadUpdateObjCmd):\n\t  passed improper flags to DoOneEvent().\n\n\t* ext/tk/tkutil/tkutil.c: use rb_obj_respond_to() instead of\n\t  rb_respond_to().\n\nTue Nov  1 14:20:11 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call_super): should call method_missing if super is\n\t  called from Kernel method.\n\n\t* eval.c (exec_under): frame during eval should preserve external\n\t  information.\n\nTue Nov  1 10:48:49 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: should check ERR_peek_last_error().\n\t  [ruby-dev:27597]\n\n\t* ext/openssl/ossl.c (ossl_raise): ditto.\n\nMon Oct 31 17:34:46 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: use proper option for Sun linker. A patch from\n\t  Shinya Kuwamura <kuwa at labs.fujitsu.com>.  [ruby-dev:27603]\n\nMon Oct 31 05:46:08 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_update): input data must\n\t  not be empty. [ruby-talk:161220]\n\n\t* test/openssl/test_cipher.rb: add test for Cipher#update(\"\").\n\nMon Oct 31 05:38:26 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb\n\t  (WEBrick::HTTPServlet::CGIHandler#do_GET): the value of Set-Cookie:\n\t  header field should be splited into each cookie.  [ruby-Bugs:2199]\n\n\t* lib/webrick/cookie.rb (WEBrick::Cookie.parse_set_cookie): new method\n\t  to parse the value of Set-Cookie: header field.\n\n\t* test/webrick/test_cookie.rb, test/webrick/test_cgi.rb,\n\t  test/webrick/webrick.cgi: add some test for cookie.\n\nMon Oct 31 02:33:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_rshift): RDoc fix.  [ruby-core:6351]\n\n\t* util.h (strtod): add #undef for platforms defines strtod()\n\t  macro.   [ruby-dev:27563]\n\nMon Oct 31 02:31:41 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_float.rb (test_precision): test by assert_in_delta.\n\t  [ruby-dev:27575]\n\nSat Oct 29 01:58:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/etc/etc.c: document update from mathew <meta@pobox.com>.\n\t  [ruby-core:06473]\n\n\t* ext/fcntl/fcntl.c: ditto.\n\nSat Oct 29 16:56:03 2005  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: added seven predicates sunday? to saturday?.\n\n\t* lib/date.rb: added two methods {prev,next}_month,\n\t  that are almost same as << and >>.\n\nThu Oct 27 20:34:43 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (enumerator_allocate): allow subclassing.\n\nThu Oct 27 16:45:31 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (scan_once): wrong condition to use mbclen2().\n\t  [ruby-dev:27535]\n\nThu Oct 27 11:53:17 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* missing.h, missing/memcmp.c, missing/memmove.c:\n\t  ANSI compatible interface.\n\nWed Oct 26 09:15:48 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/implicit.c (syck_type_id_to_uri): should return\n\t  newly allocated memory. otherwise, type_id will be freed\n\t  twice. [ruby-dev:27384] [ruby-core:6385]\n\nWed Oct 26 01:58:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_EXTERN): macro to export symbols in shared\n\t  library.  [ruby-core:05528]\n\n\t* defines.h, {bcc32,win32,wince}/Makefile.sub (RUBY_EXTERN): moved to\n\t  configuration pass.\n\n\t* ext/extmk.rb (extmake): RUBY_EXTERN for static linked extensions.\n\nTue Oct 25 20:06:59 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ruby.h (Qfalse, Qtrue, Qnil, Qundef): make sure these immediate\n\t  values have VALUE type. there is an environment where sizeof(VALUE)\n\t  != sizeof(int) like IA64. if 32bit integer (Qtrue) is passed to ANYARGS\n\t  and received by 64bit integer (VALUE), upper bits may have garbage value.\n\t  [ruby-dev:27513]\n\nTue Oct 25 15:32:00 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rational.rb: applied documentation patch from Gavin Sinclair\n\t  <gsinclair@gmail.com>.  [ruby-core:06364]\n\n\t* lib/irb.rb (IRB::Irb::eval_input): handle prompts with newlines\n\t  in irb auto-indentation mode.  [ruby-core:06358]\n\nTue Oct 25 14:21:46 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* gc.c (garbage_collect): sorry, previous commit was incorrect.\n\t  [ruby-core:6386]\n\nTue Oct 25 13:40:16 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* gc.c (garbage_collect): return now whether there're rooms for new\n\t  objects, rather than whether GC run. fixed: [ruby-core:6376]\n\nTue Oct 25 02:12:08 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/markup/simple_markup.rb (SM::SimpleMarkup::LABEL_LIST_RE):\n\t  reduce redundant backtrack.  [ruby-talk:161771]\n\nTue Oct 25 00:35:33 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/*: RDoc documentation from Eric Hodel\n\t  <drbrain@segment7.net> added.\n\nMon Oct 24 21:14:29 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, io.c: use sys/syscall.h if syscall.h is not available.\n\t  [ruby-core:06247]\n\nMon Oct 24 20:38:25 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/Win32API/lib/win32/resolv.rb (get_info): support multiple DNS.\n\t  fixed: [ruby-list:40058], [ruby-dev:27479]\n\nMon Oct 24 11:01:11 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/canvas.rb (TkCanvasItemConfig::__item_val2ruby_optkeys):\n\t  typo fixed.  [ruby-talk:162187]\n\n\t* ext/tk/lib/tk/menu.rb (TkMenuEntryConfig::__item_val2ruby_optkeys):\n\t  ditto.  [ruby-core:06359]\n\nMon Oct 24 07:57:56 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/tk/lib/tk/canvas.rb (TkCanvasItemConfig::__item_val2ruby_optkeys):\n\t  typo fixed.  [ruby-talk:162187]\n\n\t* ext/tk/lib/tk/menu.rb (TkMenuEntryConfig::__item_val2ruby_optkeys):\n\t  ditto.  [ruby-core:06359]\n\n\t* lib/matrix.rb (Matrix::initialize): use funcall instead of send\n\t  to allow private methods to be called.  A report from\n\t  Jean-Claude Arbaut <jcarbaut@laposte.net>.  [ruby-core:06359]\n\nMon Oct 24 00:41:18 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_sunday): added predicate methods for the days of the\n\t  week.  [ruby-list:41340]\n\nSun Oct 23 07:11:11 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/extconf.rb: improve messages [ruby-core:06325].\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tk/canvas.rb, ext/tk/lib/tk/entry.rb,\n\t  ext/tk/lib/tk/frame.rb, ext/tk/lib/tk/image.rb,\n\t  ext/tk/lib/tk/itemconfig.rb, ext/tk/lib/tk/labelframe.rb,\n\t  ext/tk/lib/tk/listbox.rb, ext/tk/lib/tk/menu.rb,\n\t  ext/tk/lib/tk/radiobutton.rb, ext/tk/lib/tk/scale.rb,\n\t  ext/tk/lib/tk/spinbox.rb, ext/tk/lib/tk/text.rb,\n\t  ext/tk/lib/tk/toplevel.rb: improve conversion of option values.\n\n\t* ext/tk/lib/tkextlib/*: ditto.\n\n\t* ext/tk/lib/tkextlib/*: update to support ActiveTcl8.4.11.2.\n\n\t* ext/tk/lib/tkextlib/trofs/*: support Trofs 0.4.3.\n\n\t* ext/tk/lib/tkextlib/tile/*: support Tile 0.7.2.\n\n\t* ext/tk/lib/tkextlib/vu/*: support vu 2.3.0.\n\n\t* ext/tk/lib/tkextlib/tcllib/*: support Tcllib 1.8 (Tklib 0.3).\n\nSat Oct 22 23:54:07 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb, lib/mkmf.rb (with_config): support --with-extension\n\t  options.  [ruby-dev:27449]\n\nSat Oct 22 14:25:43 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.[hc] (ruby_add_suffix): constified.\n\n\t* util.[hc] (ruby_scan_{oct,hex}): fixed typo. (renamed from\n\t  scan_{oct,hex})\n\n\t* util.c: almostly ANSI styled. (except for functions depending on\n\t  macro and K&R technique)\n\nSat Oct 22 13:26:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (sym_inspect), parse.y (parser_yylex, rb_symname_p): check\n\t  if valid as a symbol name more strictly.  [ruby-dev:27478]\n\n\t* test/ruby/test_symbol.rb: tests for [ruby-core:03573].\n\n\t* time.c (rb_strftime): removed meaningless volatile modifiers, and\n\t  concatenate successive nul characters at once.  [ruby-dev:27472]\n\n\t* ext/tk/lib/tk/font.rb, ext/tk/lib/tkextlib/ICONS/icons.rb,\n\t  ext/tk/sample/tkextlib/treectrl/demo.rb, lib/net/imap.rb,\n\t  lib/rss/parser.rb, test/rss/test_content.rb,\n\t  test/rss/test_dublincore.rb, test/rss/test_syndication.rb,\n\t  test/rss/test_trackback.rb, test/ruby/test_eval.rb,\n\t  test/socket/test_socket.rb, test/socket/test_udp.rb:\n\t  Object#fcall was renamed as Object#funcall.\n\nSat Oct 22 10:08:28 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* missing.h, missing/*.c: SUSv3 compatible strcasecmp and strncasecmp,\n\t  ANSI compatible strtol and strtoul, and ANSI styled other functions.\n\nFri Oct 21 19:16:08 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* rubysig.h (CHECK_INTS): fixed typo. (I believe bit-or is improper)\n\nFri Oct 21 17:49:32 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bin/erb (ERB::Main::run): typo fixed.  [ruby-core:06337]\n\nFri Oct 21 15:42:28 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* intern.h, struct.c (rb_struct_iv_get): constified.\n\n\t* marshal.c: avoid one VC++6 warning for implicit conversion\n\t  from int to char.\n\n\t* ruby.h: ANSI styled.\n\n\t* bcc32/Makefile.sub (HAVE_HYPOT): added.\n\n\t* ext/socket/extconf.rb: BeOS is only one platform should call\n\t  closesocket, so check __BEOS__ macro directly. (I was worried\n\t  accidently HAVE_CLOSESOCKET is defined on windows again because\n\t  it has it)\n\n\t* ext/socket/{getaddrinfo.c,socket.c}: ditto.\n\n\t... these are all cosmetic changes.\n\nFri Oct 21 15:23:23 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bignum.c (bignew_1): convertion from `int' to `char' discards\n\t  upper bits, (ie. (char)0xff00 -> 0) so it's better to test if\n\t  nonzero and set 0 or 1 instead of simply casting ... as a flag usage.\n\t  (but I believe this won't cause actual bug in current implementation)\n\t  [ruby-dev:27055]\n\n\t* time.c: should use LONG_LONG instead of `long long'.\n\nThu Oct 20 22:22:49 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parser.y (struct parser_params): parser never modify input string.\n\n\t* ext/ripper/tools/preproc.rb (prelude): do not append surplus\n\t  newlines to fix line numbers.\n\nThu Oct 20 11:41:57 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* class.c, eval.c, hash.c, st.c, variable.c: changed /* ??? */ stuff\n\t  protoize generated to ANYARGS.\n\nThu Oct 20 11:18:11 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* eval.c, file.c, ruby.c: removed strchr, strrchr, strstr definition\n\t  because they are defined in missing.h.\n\n\t* missing.h, missing/strchr.c, missing/strstr.c: ANSI styled.\n\nThu Oct 20 09:36:06 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/mkmf.rb (create_makefile): Borland make seems not to allow\n\t  empty dependency list. If this change is not good, please correct\n\t  it.\n\nThu Oct 20 07:55:09 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): get rid of a restriction\n\t  of Borland make.  fixed: [ruby-dev:27460]\n\n\t* ext/ripper/depend: ditto.\n\nWed Oct 19 23:58:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): do not create unnecessary empty\n\t  directories.  fixed: [ruby-dev:27451]\n\nWed Oct 19 08:28:32 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_join): elements may contain null pointer strings.\n\t  report and fixed by Lloyd Zusman (hippoman): [ruby-core:06326]\n\nWed Oct 19 02:34:33 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c, eval.c, gc.c, parse.y, regparse.c, sjis.c, time.c:\n\t  made internal symbols static.  [ruby-dev:27435]\n\nTue Oct 18 10:58:27 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/dl/depend, ext/dl/extconf.rb, ext/socket/depend,\n\t  ext/socket/extconf.rb: shouldn't define DESTCLEANFILES in depend,\n\t  use $distcleanfiles in extconf.rb.\n\n\t* win32/Makefile.sub (distclean-local): should remove .config.h.time.\n\nMon Oct 17 09:42:50 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* mkconfig.rb: fixup configure_args for mswin32 configure.\n\n\t* win32/configure.bat (srcdir, target): ditto.\n\nMon Oct 17 05:01:50 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* env.h: move struct METHOD and struct BLOCK from eval.c to\n\t  support NodeWrap and ParseTree.\n\nSun Oct 16 22:16:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: omit non-existing directories.\n\nSun Oct 16 14:40:54 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb (Rinda::Tuple#initialize): check remote hash\n\t  tuple. fixed: [ruby-list:41227]\n\n\t* test/rinda/test_rinda.rb: test it.\n\nSun Oct 16 03:38:07 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* rubysig.h (CHECK_INTS): prevent signal handler to run during\n\t  critical section.  [ruby-core:04039]\n\n\t* eval.c (load_wait): need not to call rb_thread_schedule()\n\t  explicitly.  [ruby-core:04039]\n\n\t* eval.c (rb_thread_schedule): clear rb_thread_critical.\n\t  [ruby-core:04039]\n\nSun Oct 16 00:13:14 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/configure.bat: remove unnecessary line which prevents\n\t  creating Makefile.\n\nSat Oct 15 23:52:07 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb: (getbinaryfile): allow nil for localfile, and\n\t  returns retrieved data if localfile is nil.\n\n\t* lib/net/ftp.rb: (gettextfile): ditto.\n\nSat Oct 15 19:51:29 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* bin/erb: typo fixed, again. thanks, Doug Kearns.\n\nFri Oct 14 23:09:31 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (MKFILES): update MKFILES if configure files get\n\t  changed.\n\n\t* win32/configure.bat, win32/setup.mak (configure_args): store\n\t  arguments to configure files.\n\nFri Oct 14 22:05:45 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (ioctl): should set errno.\n\nFri Oct 14 16:39:37 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/config.rb (Config::FileHandler): :UserDir should be nil.\n\t  It is harmful to permit the access to ~/public_html by default.\n\t  suggested by Hiroyuki Iwatsuki.\n\nFri Oct 14 04:58:38 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_obj_instance_exec): create instance_exec and\n\t  module_exec which pass arguments to the block.\n\n\t* eval.c (rb_f_funcall): rename fcall to funcall to follow\n\t  tradition.\n\nThu Oct 13 23:29:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (HEAPCNT): bison allocates indivisible size.\n\t  fixed: [ruby-core:06261]\n\n\t* io.c, pack.c, ext/syck/rubyext.c, ext/syck/syck.h, missing/isinf.c:\n\t  get rid of warnings.  fixed: [ruby-core:06247]\n\nWed Oct 12 12:51:56 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.c (Init_openssl): should call\n\t  OpenSSL_add_ssl_algorithms().\n\nWed Oct 12 11:08:54 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* file.c (rb_f_test): typo in RDoc comments.\n\nTue Oct 11 21:41:58 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_FUNC_ATTRIBUTE): check prefixed attribute form\n\t  first.  [ruby-dev:27398]\n\n\t* array.c, enum.c, eval.c, util.c: safer function pointer usage.\n\t  fixed: [ruby-core:06143]\n\n\t* util.h (qsort): removed the definition incompatible to ANSI.\n\t  fixed: [ruby-core:06147]\n\n\t* eval.c (rb_obj_respond_to): check if obj responds to the given\n\t  method with the given visibility.  [ruby-dev:27408]\n\n\t* eval.c (rb_respond_to): conform to Object#respond_to?.  [ruby-dev:27411]\n\nTue Oct 11 00:01:21 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* st.c (st_free_table): do not call free() but xfree().\n\t  [ruby-core:06205]\n\nSat Oct  8 19:49:42 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (Init_Binding): add Binding#dup method.  [yarv-dev:666]\n\n\t* io.c (rb_io_init_copy): clear PREP flag for copied IO.\n\t  fixed: [ruby-dev:27371]\n\n\t* parse.y (rb_parser_malloc, rb_parser_free): manage parser stack on\n\t  heap.  [ruby-list:41199]\n\n\t* parse.y (ripper_initialize): use rb_respond_to().\n\n\t* ext/ripper/depend (check): get rid of re-generating ripper.y always.\n\n\t* ext/iconv/charset_alias.rb: parse config.charset_alias file directly.\n\n\t* ext/nkf/lib/kconv.rb (Kconv.conv): get rid of nil.to_a.\n\n\t* lib/scanf.rb (Scanf::FormatSpecifier#letter, #width): use matched\n\t  substring directly.\n\n\t* test/ruby/test_assignment.rb, test/ruby/test_iterator.rb: followed\n\t  change of sample/test.rb.\n\n\t* test/net/http/test_http.rb: removed superfluous splatting stars.\n\nFri Oct  7 16:41:43 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (splat_value): call rb_Array() to convert svalue to\n\t  values.  [ruby-dev:27397]\n\nFri Oct  7 09:54:00 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie::parse): Cookies from Nokia devices may\n\t  not be parsed correctly.  A patch from August Z. Flatby\n\t  (augustzf) in [ruby-Patches-2595].  [ruby-core:06183]\n\nThu Oct  6 22:51:30 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_Array): Array() to raise error for objects without\n\t  to_ary, nor to_a.\n\n\t* object.c (nil_to_a): revert NilClass#to_a.\n\nThu Oct  6 20:10:38 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c (strscan_free): remove useless code.\n\t  [ruby-dev:26368] [ruby-dev:27389]\n\nThu Oct  6 01:02:19 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (rb_range_beg_len): should return Qfalse for non-range\n\t  object.\n\nWed Oct  5 04:42:38 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/xmlrpc/server.rb (XMLRPC::Server#initialize): should mount the\n\t  servlet on \"/\".\n\nWed Oct  5 04:06:49 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/xmlrpc/server.rb (XMLRPC::Server#serve): delete wrong call\n\t  of \"join\".\n\nMon Oct  3 00:04:00 2005  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* pack.c (EXTEND16): [ruby-dev:27383]\n\nSat Oct  1 23:55:24 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (do_select, rb_w32_select): brush up.\n\nSat Oct  1 12:57:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* bignum.c (rb_big_rand): removed.  [ruby-dev:25405]\n\nSat Oct  1 01:46:51 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_loop): prohibit multiple proxy\n\t  options.\n\nThu Sep 29 10:26:18 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/dl/cptr.c (rb_dlptr_s_to_ptr): abolish sizeof(FILE).\n\t  [ruby-dev:27317]\n\nThu Sep 29 10:15:14 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (:proxy_http_basic_authentication): new option.\n\nThu Sep 29 07:22:05 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_f_send): underscores need to be escaped.\n\t  fixed by Doug Kearns.  [ruby-core:06053]\n\nThu Sep 29 00:57:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ev_const_get), variable.c (rb_const_get_0): retry only when\n\t  autoload succeeded.\n\n\t* variable.c (rb_autoload_load): now return true if autoload\n\t  succeeded.  fixed: [ruby-dev:27331]\n\nWed Sep 28 23:40:04 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_stat_inspect): constified.\n\nWed Sep 28 15:12:28 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI#start): req.query_string should\n\t  refer the value of QUERY_STRING. [ruby-list:41186]\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPRequest#query_string=):\n\t  add new method.\n\nWed Sep 28 10:45:44 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: cannot compile with Tcl/Tk8.0.x [ruby-dev:27335].\n\nWed Sep 28 07:56:52 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/yaml/basenode.rb (YAML::BaseNode::match_segment): fix typo.\n\t  [ruby-dev:27237], [ruby-core:05854]\n\n\t* lib/yaml/tag.rb (Module#yaml_as): suppress warnings.\n\n\t* lib/yaml/types.rb (YAML::PrivateType, YAML::DomainType): ditto.\n\nWed Sep 28 03:16:41 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* rubysig.h: fixed build problem with --enable-pthread on platforms\n\t  which don't have setitimer().\n\nMon Sep 26 22:32:13 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (set_trace_func): add rb_secure(4) to prevent adding\n\t  tracing function.\n\nMon Sep 26 20:59:28 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* parse.y: changed to ANSI function style.\n\nSun Sep 25 12:02:04 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* bin/erb: typo fixed.\n\nSun Sep 25 11:54:11 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/tuplespace.rb (Rinda::TemplateEntry::initialize): pull\n\t  up method. Tabs converted to spaces.\n\nSun Sep 25 09:34:22 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* parse.y: replaced `foo _((boo))' with `foo(boo)'.\n\nSun Sep 25 08:19:53 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/rss/test_content.rb, test/rss/test_syndication.rb: use fcall\n\t  instead of send in order to override visibility.\n\nSun Sep 25 01:46:43 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-calculate-indent): arrange deep-indent\n\t  closing parenthesis at same column as the opening.\n\nSun Sep 25 01:33:41 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* process.c (proc_setrlimit): make the third argument (rlim_max)\n\t  optional.\n\nSun Sep 25 00:42:11 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-expr-beg): deal with heredoc separately.\n\t  fixed: [ruby-list:41168]\n\n\t* misc/ruby-mode.el (ruby-calculate-indent): not to deepen indent\n\t  level for continuous line inside parentheses.\n\t  http://nabeken.tdiary.net/20050915.html#p02\n\nSat Sep 24 21:19:39 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: document enhancement.\n\n\t* ext/strscan/strscan.c: update copyright year.\n\n\t* ext/strscan/strscan.c: update coding style.\n\nSat Sep 24 20:20:05 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/net/http/test_http.rb (teardown): Net::HTTP.version_1_1 breaks\n\t  many other tests; ensure that Net::HTTP is version 1.2 after test.\n\t  [ruby-dev:27312]\n\nSat Sep 24 11:44:28 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/net/http/test_http.rb: new file.\n\nSat Sep 24 08:54:05 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (cd): no longer accept :noop option, related\n\t  code is useless. [ruby-core:05858] [ruby-Bugs:2494]\n\nSat Sep 24 08:30:00 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#sub): new method.\n\nSat Sep 24 08:29:36 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: fix visibility of FileUtils::NoWrite, Verbose,\n\t  DryRun. [ruby-core:05954]\n\n\t* test/fileutils/test_nowrite.rb: test it.\n\n\t* test/fileutils/test_dryrun.rb: new file.\n\n\t* test/fileutils/test_verbose.rb: new file.\n\nSat Sep 24 07:59:01 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* sample/ripper/colorize.rb: removed (replaced by ruby2html.rb).\n\n\t* sample/ripper/ruby2html.rb: added.\n\nSat Sep 24 06:35:15 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper: no longer generates .rb files.\n\n\t* parse.y (Init_ripper): ripper_init_eventids*() takes 1 argument,\n\t  self (class Ripper).\n\n\t* ext/ripper/depend: target removed: `lib/ripper/core.rb'.\n\n\t* ext/ripper/depend: new target `eventids2table.c'.\n\n\t* ext/ripper/depend: new target `check'.\n\n\t* ext/ripper/eventids2.c: include eventids2table.c.\n\n\t* ext/ripper/eventids2.c: initialize SCANNER_EVENT_TABLE.\n\n\t* ext/ripper/extconf.rb: update $cleanfiles list.\n\n\t* ext/ripper/tools/generate.rb: no longer generate ripper/core.rb.\n\n\t* ext/ripper/tools/generate.rb: new mode `check'.\n\n\t* ext/ripper/tools/generate.rb: new mode `eventids2table'.\n\n\t* ext/ripper/lib/ripper/core.rb.in: removed.\n\n\t* ext/ripper/lib/ripper/core.rb: added.\n\n\t* ext/ripper/lib/ripper/filter.rb: update copyright year.\n\n\t* ext/ripper/lib/ripper/lexer.rb: ditto.\n\n\t* ext/ripper/lib/ripper/sexp.rb: ditto.\n\nSat Sep 24 02:40:20 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb: document update from James Edward Gray II\n\t  <james@grayproductions.net>.  [ruby-core:05942]\n\nSat Sep 24 02:05:51 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (proc_daemon): should restrict execution on levels\n\t  higher than $SAFE=2.  suggested by URABE Shyouhei\n\t  <shyouhei@ice.uec.ac.jp>.\n\nFri Sep 23 20:10:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/ripper/tools/generate.rb, ext/ripper/tools/preproc.rb: StringIO\n\t  is not available for miniruby.  fixed: [ruby-dev:27307]\n\nFri Sep 23 17:36:48 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: avoid core dump with WIN32OLE_EVENT.\n\t  [ruby-dev:27133]\n\nFri Sep 23 16:27:39 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/forwardable.rb: replaced by new implementation from\n\t  <Daniel.Berger@qwest.com>.  [ruby-core:05899]\n\nFri Sep 23 07:07:47 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/depend: use --output option instead of redirect;\n\t  nmake does not remove a target when the target file is created by\n\t  redirect. [ruby-dev:26466]\n\n\t* test/ripper/tools/preproc.rb: new option --output.\n\nFri Sep 23 06:57:52 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/tools/generate.rb: check parser event arity.\n\n\t* test/ripper/tools/generate.rb: detect crash of parser-event-IDs\n\t  and scanner-event-IDs.\n\nFri Sep 23 06:01:30 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_file.rb: check File#chown(nil,nil).\n\t  [ruby-dev:27140]\n\nFri Sep 23 05:57:23 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper: refactoring code generation tools. [ruby-dev:27247]\n\t  [ruby-dev:27273]\n\n\t* ext/ripper/depend: use generate.rb.\n\n\t* ext/ripper/lib/ripper/core.rb: removed.\n\n\t* ext/ripper/tools/generate-eventids1.rb: removed (code moved to\n\t  generate.rb).\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: removed (code moved to\n\t  generate.rb).\n\n\t* ext/ripper/tools/list-parse-event-ids.rb: removed (code moved to\n\t  generate.rb).\n\n\t* ext/ripper/tools/list-scan-event-ids.rb: removed (code moved to\n\t  generate.rb).\n\n\t* ext/ripper/lib/ripper/core.rb: removed.\n\n\t* ext/ripper: refactoring tests. [ruby-dev:27273]\n\n\t* ext/ripper/test/check-event-arity.rb: removed (code moved to\n\t  tools/generate.rb).\n\n\t* ext/ripper/test/check-event-coverage.rb: removed (code moved to\n\t  test/ripper/test_parser_events.rb).\n\n\t* ext/ripper/test/check-scanner-event-coverage.rb: removed (code\n\t  moved to test/ripper/test_scanner_events.rb).\n\n\t* ext/ripper/test/list-called-events.rb: removed.\n\n\t* ext/ripper/test/src_rb: removed.\n\n\t* ext/ripper/test/validate.rb: removed.\n\n\t* test/ripper/test_scanner_events.rb: check event coverage.\n\n\t* ext/ripper/lib/ripper/core.rb.in: update copyright year.\n\nThu Sep 22 23:40:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (find_executable0): default path if environment is not\n\t  set.  [ruby-dev:27281]\n\n\t* ext/ripper/extconf.rb (have_command): replaced with find_executable.\n\nThu Sep 22 17:31:48 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/readline/test_readline.rb (TestReadline::replace_stdio):\n\t  merged the patch of [ruby-dev:25232] instead of [ruby-dev:25223].\n\t  (merged from ruby_1_8 branch)\n\nWed Sep 21 23:30:44 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): generalized nmake dependent code.\n\nWed Sep 21 14:16:30 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/ripper/depend (SUFFIXES): no longer needed.\n\n\t* ext/ripper/depend (c): avoid nmake problem. fixed [ruby-dev:27191]\n\nWed Sep 21 08:52:25 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/token.c: correctly compute indentation of a block\n\t  scalar's parent node. [ruby-talk:150620]\n\nWed Sep 21 08:20:24 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* README.EXT, README.EXT.ja: add new features.\n\nWed Sep 21 07:43:58 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (default_argv, Arguable#options): defaults strings\n\t  to be parsed to Arguable instance.\n\nWed Sep 21 02:44:09 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (path_check_0): disallow sticky world writable directory\n\t  in PATH (and $LOAD_PATH).  [ruby-dev:27226]\n\nWed Sep 21 00:32:22 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_idiv): 1.div(1.0) should return integer value.\n\t  [ruby-dev:27235]\n\nTue Sep 20 22:25:43 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/io/wait/lib/nonblock.rb: disable on platforms non-blocking flag\n\t  is not available.  fixed: [ruby-dev:27187]\n\n\t* file.c (rb_stat_inspect): protoized function pointer.\n\nTue Sep 20 18:23:04 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (thread_mark): mark th->last_status.  [ruby-dev:27179]\n\nTue Sep 20 18:20:33 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/yaml.rb: require 'yaml/constants'.  [ruby-core:5776]\n\nTue Sep 20 17:48:34 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/xmlrpc/client.rb (XMLRPC::Client::do_rpc): add charset\n\t  information to content-type header.[ruby-core:5127]\n\n\t* lib/xmlrpc/server.rb (CGIServer::serve): ditto.\n\n\t* lib/xmlrpc/server.rb (ModRubyServer::serve): ditto.\n\n\t* lib/xmlrpc/server.rb (WEBrickServlet::service): ditto.\n\nTue Sep 20 17:26:42 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/webrick/test_cgi.rb: set ENV[\"PATH\"] to CGIEnvPath on\n\t  windows. bcc32's runtime is not installed into system directory,\n\t  so it cannot be found without this setting. [ruby-dev:27166]\n\nTue Sep 20 17:14:10 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* io.c: PIPE_BUF is not defined on BeOS. use _POSIX_PIPE_BUF instead.\n\t  [ruby-dev:27185]\n\nTue Sep 20 17:10:38 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/dbm/test_dbm.rb (TestDBM::test_s_open_error): remove\n\t  test_s_open_error test to detect duplicate open.\n\t  [ruby-dev:27202]\n\nTue Sep 20 15:39:40 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/emitter.c (syck_scan_scalar): prevent indicators from\n\t  appearing alone or at the end of plain scalars. [ruby-core:5826]\n\n\t* ext/syck/emitter.c (syck_emit_scalar): treat typed scalar nodes\n\t  as complex keys.\n\n\t* lib/syck.h: version 0.60.\n\n\t* lib/yaml/basenode.rb (YAML::BaseNode#at): transform keys during\n\t  key searches.\n\n\t* ext/syck/rubyext.c: loading of binary-typed nodes.  prevent\n\t  emission of plain strings that look like symbols, but which aren't.\n\nTue Sep 20 05:48:26 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/xmlrpc/test_webrick_server.rb (setup_http_server):\n\t  should not include 'webrick/https' unless 'use_ssl' because\n\t  it fails where openssl is not installed.\n\nTue Sep 20 01:24:45 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (splat_value): use to_a to splat non Array object.\n\n\t* object.c (nil_to_a): remove nil.to_a.  [experimental]\n\nTue Sep 20 01:01:41 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Fixnum): remove debug print.\n\n\t* lib/rational.rb (Rational): ditto.\n\nTue Sep 20 00:34:07 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_close): call rb_io_close() directly if io is a T_FILE\n\t  object.  [ruby-dev:27156]\n\nMon Sep 19 18:58:10 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* file.c (rb_file_chown): should accept nil. [ruby-dev:27171]\n\nMon Sep 19 18:29:54 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (file_expand_path): allow pathnames to expand.\n\t  [ruby-dev:27152]\n\nMon Sep 19 15:12:15 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/depend: do not make ripper/core.rb. [ruby-dev:26462]\n\nMon Sep 19 14:49:19 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/eventids2.c: add prefix `t' to tLAMBDA-related lexer\n\t  events.\n\n\t* ext/ripper/lib/ripper/core.rb: updated.\n\nMon Sep 19 14:39:46 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (do_block): do_block event dispatches 2 args.\n\t  [ruby-dev:26964]\n\n\t* ext/ripper/lib/ripper/core.rb: updated.\n\n\t* ext/ripper/tools/list-parser-event-ids.rb: check arity mismatch.\n\nMon Sep 19 07:45:37 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkey.h, ossl_pkey_rsa.c, ossl_pkey_dsa.c:\n\t  an instance variable \"private\" is added to OpenSSL::PKey class.\n\t  this ivar is a flag that shows whether there is a private key\n\t  in the instance.\n\n\t* ext/openssl/ossl_engine.c: (ossl_engine_load_privkey): set private\n\t  key flag.\n\n\t* test/openssl/test_pkey_rsa.rb: add test about private detection.\n\nMon Sep 19 06:38:03 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: method renaming: collect_methods ->\n\t  collect_method.\n\nMon Sep 19 05:58:59 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: use module_function instead of single extend.\n\n\t* test/fileutils/test_fileutils.rb: test existence of singleton\n\t  methods.\n\nMon Sep 19 05:32:41 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_entry_secure): does not use chdir(2).\n\nMon Sep 19 03:17:48 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* file.c (rb_thread_flock): wrap the flock system call by\n\t  TRAP_BEG/TRAP_END to enable signals.  [ruby-dev:27122]\n\n\t* ext/socket/socket.c (bsock_send): wrap the sendto and send system\n\t  call by TRAP_BEG/TRAP_END to enable signals when writing to a socket\n\t  which is full.  [ruby-dev:27132]\n\n\t* io.c (rb_io_syswrite): wrap the write system call by\n\t  TRAP_BEG/TRAP_END to run signal handler in syswrite method.\n\t  [ruby-dev:27134]\n\nMon Sep 19 01:07:38 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (Init_Numeric): should define Fixnum#div.\n\t  [ruby-dev:27129]\n\n\t* file.c (rb_thread_flock): wrap flock(2) by TRAP_BEG and\n\t  TRAP_END.  [ruby-dev:27122]\n\n\t* file.c (rb_file_join): call FilePathValue() to all Pathnames to\n\t  join.  [ruby-dev:27127]\n\n\t* file.c (rb_get_path): call StringValueCStr() to ensure no nul\n\t  bytes in path strings.\n\n\t* gc.c (garbage_collect): need value for return.  [ruby-dev:27127]\n\nSun Sep 18 02:10:47 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: remove comments that are bungling up\n\t  the rdoc and ri output.  output symbols as plain scalars.\n\n\t* ext/syck/rubyext.c (syck_emitter_reset): emit headless\n\t  documents always.\n\n\t* ext/syck/emitter.c (syck_scan_scalar): quote scalars with any\n\t  kind of surrounding line space, tabs or spaces alike.\n\n\t* ext/syck/token.c: accept tabs as whitespace, not for indentation,\n\t  but strip from plain scalars.\n\n\t* test/yaml/test_yaml.rb: remove outdated tests.\n\nSun Sep 18 01:10:37 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (garbage_collect): return false if no GC run.\n\nSat Sep 17 23:25:04 2005  sheepman  <sheepman@sheepman.sakura.ne.jp>\n\n\t* lib/mathn.rb (Rational::inspect): should preserve original\n\t  operand.  [ruby-core:05806]\n\nSat Sep 17 23:20:27 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::Cookie): should handle multiple values for a\n\t  cookie name.  [ruby-talk:156140]\n\n\t* test/socket/test_tcp.rb (TestTCPSocket::test_recvfrom): typo\n\t  fixed.  [ruby-dev:27123]\n\nSat Sep 17 20:58:56 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_select): fixed deadlock bug.\n\t  because select(2) modifies its fd_set arguments, it must be\n\t  restored sometimes.\n\n\t* win32/win32.c (rb_w32_select): performance improvement when\n\t 'always readable/writable handles' and sockets are passed.\n\t  sockets should be polled every time.\n\n\t    require \"net/http\"\n\n\t    Thread.new {\n\t      loop do\n\t\tSTDOUT.write(\".\") # busy on console (this is worst case though)\n\t      end\n\t    }\n\n\t    # socket operation took long time. (sometimes timed out)\n\t    Net::HTTP.start(\"www.ruby-lang.org\") do |http|\n\t\thttp.get(\"/cgi-bin/cvsweb.cgi/ruby/array.c?rev=1.179\")\n\t    end\n\nSat Sep 17 14:54:40 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_readpartial.rb (test_open_pipe, test_with_stdio):\n\t  these tests are working now, so turned on. (windows)\n\nSat Sep 17 14:18:15 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_select): I hope performance problem was\n\t  solved.\n\nSat Sep 17 13:45:22 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_select): console support is back.\n\t  but still has performance problem because I loosely took 1 second\n\t  for wait time. I'll fix it later. (The reason I drastically changed\n\t  the code is that I wanted to implement the fileset management as\n\t  single function, and I was worried that if pipe or console\n\t  was always available, socket may not be processed any time)\n\nSat Sep 17 11:24:16 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_select): select for socket didn't work.\n\t  this caused deadlock in drb test. this happened because GetFileType\n\t  for socket handle returns FILE_TYPE_PIPE. Of course, it's not a\n\t  pipe. So socket handle didn't reach winsock's select function.\n\n\t* win32/win32.c (rb_w32_select): read for pipe was still blocked\n\t  even if writer handle was closed.\n\n\t    r,w = IO.pipe\n\n\t    Thread.new {\n\t      sleep 3; puts \"------- 1\"\n\t      w.puts(\"foo\")\n\t      sleep 3; puts \"------- 2\"\n\t      w.puts(\"boo\")\n\t      sleep 3; puts \"------- 3\"\n\t      w.close\n\t    }\n\n\t    until r.eof? # should break by w.close but didn't.\n\t      puts r.gets\n\t    end\n\n\t* win32/win32.c (rb_w32_select): temporary reverted console support\n\t  but it'll be back soon.\n\nSat Sep 17 10:42:13 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp#eval_string and bg_eval_string\n\t  should call Kernel.eval on caller's safe-level instead of slave's\n\t  safe-level (Of course, the given script should be evaluated on\n\t  slave's safe-level).\n\nSat Sep 17 09:45:26 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_substr): should propagate taintness even for\n\t  empty strings.  [ruby-dev:27121]\n\n\t* string.c (rb_str_aref): should infect result if range argument\n\t  is tainted.  [ruby-dev:27121]\n\nSat Sep 17 08:35:39 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/base.rb (RSS::Maker::ItemsBase#normalize): fixed\n\t  strange RSS::Maker::Item#max_size behavior.\n\t  Thanks to Kazuhiko <kazuhiko@fdiary.net>.\n\n\t* test/rss/test_maker_1.0.rb (RSS::TestMaker10#test_items): ditto.\n\nSat Sep 17 08:02:53 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: supported DIGEST-MD5.  Thanks, Mathieu Arnold.\n\n\t* lib/net/imap.rb: use fcall instead of send.  Thanks, Satoru\n\t  Takabayashi.\n\nFri Sep 16 22:45:49 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_s_extname): empty string for path name ending with a\n\t  period.  fixed: [ruby-core:05651]\n\n\t* file.c (rb_file_join): smarter behavior at edge cases.\n\t  fixed: [ruby-core:05706]\n\n\t* gc.c (rb_memerror, ruby_xmalloc, ruby_xrealloc, rb_newobj): just\n\t  abandon if no memory available, when interpreter is not running.\n\t  [ruby-dev:27104]\n\n\t* gc.c (garbage_collect): return whether GC could run.\n\n\t* dir.c (rb_push_glob): fix delimiter bug.  fixed: [ruby-dev:27105]\n\n\t* dir.c (dir_s_aref, dir_s_glob): allow multiple patterns.\n\t  [ruby-dev:27110]\n\n\t* win32/win32.c (cmdglob): enable brace expansion.\n\nFri Sep 16 18:34:01 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/node.c (syck_replace_str): was using return from the\n\t  void function.  a patch from MIYAMUKO Katsuyuki\n\t  <miyamuko at mtb.biglobe.ne.jp>.  [ruby-dev:27111]\n\nFri Sep 16 14:48:48 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: fix typo on MultiTkIp#bg_eval_string\n\nFri Sep 16 12:02:12 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_resolver_transfer): remove C++ style\n\t  comment (//).  [ruby-core:05793]\n\nFri Sep 16 00:17:03 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/logger/test_logger.rb: unintentionally overwritten changes by\n\t  Usa.  reverted.\n\nFri Sep 16 00:03:11 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI::Socket#initialize): should set\n\t  $stdout.binmode.\n\nThu Sep 15 23:25:21 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/{soap,wsdl,xsd}, test/{soap,wsdl,xsd}: imported soap4r/1.5.5.\n\n\t  #nnn is a ticket number at http://dev.ctor.org/soap4r\n\n\t  * SOAP\n\n\t    * allow to configure an envelope namespace of SOAP request. (#124)\n\t\tTemporaryNamespace = 'http://www.w3.org/2003/05/soap-envelope'\n\t\t@client.options[\"soap.envelope.requestnamespace\"] =\n\t\t  TemporaryNamespace\n\t\t@client.options[\"soap.envelope.responsenamespace\"] =\n\t\t  TemporaryNamespace\n\t\t@client.do_proc(...)\n\n\t    * let SOAP request XML indent space configurable.  see\n\t      \"soap.envelope.no_indent\" option. (#130)\n\n\t    * let external CES configurable.\n\t      ex. client[\"soap.mapping.external_ces\"] = 'SJIS'.  $KCODE is used\n\t      by default. (#133)\n\t\texternal CES ::= CES used in Ruby object of client and server\n\t\tinternal CES ::= CES used in SOAP/OM\n\n\t    * add iso-8859-1 external CES support. (#106)\n\n\t    * fixed illegal 'qualified' handling of elements.  it caused\n\t      ASP.NET interoperability problem. (#144)\n\n\t    * added 'soap.envelope.use_numeric_character_reference' (boolean)\n\t      option to let query XML use numeric character reference in XML,\n\t      not plain UTF-8 character.  !GoogleSearch server seems to not\n\t      allow plain UTF-8 character since 2005-08-15 update. (#147)\n\n\t    * SOAP::Header::SimpleHeader (de)serialization throws an exception\n\t      on !SimpleHeader.on_(in|out)bound when header is a String.  so we\n\t      could not use a simple single element headerItem.  fixed.  thanks\n\t      to emil. (#129)\n\n\t    * out parameter of rpc operation did not work.  (#132)\n\n\t    * follow HTTP redirect only if using http-access2.  (#125) (#145)\n\n\t    * add a workaround for importing an WSDL whose path begins with\n\t      drive letter.  (#115)\n\n\t  * WSDL\n\n\t    * SOAP Data which is defined as a simpletype was not mapped\n\t      correctly to Ruby obj when using wsdl2ruby.rb generated classdef\n\t      file. (#123)\n\n\t    * rpc/literal support. (#118)\n\n\t    * re-implemented local element qualify/unqualify control.  handles\n\t      elementFormDefault and form in WSDL.  (#119)\n\n\t    * Array of an element which has simpleType causes a crash. (#128)\n\n\t    * prarmeterOrder may not contain return part so it can be shorter\n\t      than parts size.  Thanks to Hugh.  (#139)\n\n\t  * Samples\n\n\t    * added !BasicAuth client sample. (#117)\n\n\t    * added Base64 client/server sample.\n\n\t    * added Flickr SOAP interface client sample. (#122)\n\n\t    * added !SalesForce client sample. (#135)\n\n\t    * updated Thawte CA certificate for !GoogleAdWords sample.\n\n\t    * updated a client script with the newer version made by Johan.\n\t      thanks!\n\n\t    * shortened long file names. (#120)\n\n\t    * fixed typo in authheader sample. (#129)\n\n\t    * updated deprecated method usage.  (#138)\n\nThu Sep 15 22:40:27 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_signal.rb (test_exit_action): skip the test using\n\t  fork on fork-less platforms.\n\nThu Sep 15 13:54:33 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: add :read_timeout option.\n\t  [ruby-core:4848]\n\nThu Sep 15 11:39:18 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/dialog.rb: If a dialog does not show up yet,\n\t  TkDialogObj#name raises an exception. [ruby-talk:156109]\n\nThu Sep 15 11:01:58 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_pipe_exec): remove unnecessary CloseHandle().\n\n\t* win32/win32.c (extract_console_fd, peek_console): new functions.\n\n\t* win32/win32.c (rb_w32_select): check consoles by polling them.\n\nThu Sep 15 00:18:24 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/net/telnet.rb (Net::Telnet::waitfor): replace sysread with\n\t  readpartial.  [ruby-talk:127641]\n\nWed Sep 14 23:28:28 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (collect_file_fd): rename from extract_file_fd.\n\n\t* win32/win32.c (extract_pipe_fd, peek_pipe): new functions.\n\n\t* win32/win32.c (rb_w32_select): check pipes by polling them.\n\nWed Sep 14 22:40:26 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (ruby_glob): glob function not using ruby exception system.\n\nWed Sep 14 17:24:22 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c: changed `foo (*bar)_((boo))' to `foo (*bar)(boo)`.\n\n\t* enumerator.c, eval.c, gc.c, intern.h, io.c, process.c, ruby.c,\n\t  ruby.h, signal.c: ditto.\n\nWed Sep 14 15:06:22 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bignum.c: changed `foo _((boo))' to `foo(boo)`. [ruby-dev:27056]\n\n\t* defines.h, dir.c, dln.h, enumerator.c, env.h, error.c, eval.c, file.c,\n\t  gc.c, hash.c, inits.c, intern.h, io.c, lex.c, marshal.c, missing.h,\n\t  node.h, numeric.c, pack.c, process.c, re.h, ruby.c, ruby.h, rubyio.h,\n\t  rubysig.h, signal.c, sprintf.c, st.h, string.c, struct.c, time.c,\n\t  util.c, util.h, variable.c: ditto.\n\nTue Sep 13 22:09:40 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb (Logger): added formatter accessor to logger for\n\t  dictating the way in which the logger should format the messages it\n\t  displays.  Thanks to Nicholas Seckar (cf. [ruby-talk:153391]) and\n\t  Daniel Berger.\n\n\t* lib/logger.rb (Logger): added VERSION constant.\n\n\t* lib/logger.rb: removed document for LogDevice. It is an\n\t  implementation detail and is not a public interface.\n\n\t* test/logger/test_logger.rb: added tests.\n\nTue Sep 13 21:47:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (BEGIN_CALLARGS): pop halfly pushed status.\n\t  fixed: [ruby-dev:26881]\n\nTue Sep 13 20:24:37 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ruby.h (PRINTF_ARGS): new macro for printf style argument checking.\n\nTue Sep 13 15:41:29 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: wrote docuemntation of HTTPRequest/HTTPResponse\n\t  classes.\n\nTue Sep 13 14:27:47 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* string.c, missing.h: failed to build on powerpc-apple-darwin7.9.0\n\t  because of crypt argument's constness mismatch. (I hope this works)\n\t  (http://mput.dip.jp/autobuild/ruby-trunk/log/20050913T110001.gz)\n\nTue Sep 13 12:33:05 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb: reworking YAML::Stream to use the new\n\t  emitter.\n\n\t* lib/yaml/stream.rb: ditto.\n\n\t* lib/yaml/rubytypes.rb: added Object#yaml_new.\n\n\t* lib/yaml/tag.rb: the tag_subclasses? method now\n\t  shows up in the class.  allow taguri to be set using an accessor.\n\t  continue support of Object#to_yaml_type.\n\n\t* ext/syck/rubyext.c: new emitter code.  yaml_new and yaml_initialize\n\t  get called, should they be present.  consolidated all the diaspora of \t  internal node types into the family below YAML::Syck::Node -- Map,\n\t  Seq, Scalar -- all of whom are SyckNode structs pointing to\n\t  Ruby data.  moved Object#yaml_new into the node_import and made it\n\t  the default behavior.  the target_class is always called wih\n\t  yaml_new, prepended a parameter, which is the klass.  loaded nodes\n\t  through GenericResolver show their style.\n\t  new Resolver#tagurize converts type ids to taguris.\n\n\t* ext/syck/implicit.re: were 'y' and 'n' seriously omitted??\n\n\t* ext/syck/emitter.c: renovated emitter, walks the tree in advance.\n\t  consolidated redundant block_styles struct into\n\t  the scalar_style struct.  (this means loaded nodes can now\n\t  be sent back to emitter and preserve at least its very basic\n\t  formatting.)\n\n\t* ext/syck/gram.c: headless documents of any kind allowed.\n\n\t* ext/syck/node.c: new syck_replace_str methods and syck_empty_*\n\t  methods for rewriting node contents, while keeping the ID\n\t  and other setup info.  added syck_seq_assign.\n\n\t* ext/syck/syck.h: reflect block_styles and new node functions.\n\nTue Sep 13 08:09:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/ostruct.rb (new_ostruct_member): Object#send no longer call\n\t  private methods.  [ruby-dev:27044]\n\n\t* test/rss/test_dublincore.rb, test/rss/test_trackback.rb,\n\t  test/ruby/test_eval.rb, test/socket/test_socket.rb: ditto.\n\n\t* test/ruby/test_lambda (test_call_with_block): lambda makes new scope\n\t  for formal block parameter.\n\nTue Sep 13 01:17:45 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_save_safe_level): no need to restrict safe level\n\t  memoize in $SAFE>=3.  [ruby-dev:27050]\n\nTue Sep 13 00:02:33 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (apply2files): stricter callback definition.\n\n\t* file.c (rb_path_check): constified.\n\nMon Sep 12 20:53:06 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/openssl/test_pkcs7.rb (test_enveloped): skip this test\n\t  to avoid a bug of PKCS7_enctypt() (only if ext/openssl is\n\t  compiled with OpenSSL-0.9.7d or earlier versions).\n\t  http://www.mail-archive.com/openssl-dev@openssl.org/msg17376.html\n\nMon Sep 12 20:32:00 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.[hc] (rb_w32_argv_size, ...): reverted my latest change\n\t  to avoid incompatible pointer warning. (mingw32)\n\nMon Sep 12 19:58:53 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dln.c: avoid warning of const to non-const convertion.\n\t  [ruby-dev:27041]\n\n\t* eval.c, io.c, ruby.c: ditto.\n\nMon Sep 12 19:26:29 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* array.c: moved to ANSI function style from K&R function style.\n\t  (used protoize on windows, so still K&R remains on #ifdef part of\n\t   other platforms. And  `foo _((boo))' stuff is still there)\n\t   [ruby-dev:26975]\n\n\t* bignum.c, class.c, compar.c, dir.c, dln.c, dmyext.c, enum.c,\n\t  enumerator.c, error.c, eval.c, file.c, gc.c, hash.c, inits.c,\n\t  io.c, main.c, marshal.c, math.c, numeric.c, object.c, pack.c,\n\t  prec.c, process.c, random.c, range.c, re.c, regcomp.c, regenc.c,\n\t  regerror.c, regexec.c, regparse.c, regparse.h, ruby.c, signal.c,\n\t  sprintf.c, st.c, string.c, struct.c, time.c, util.h, variable.c,\n\t  version.c: ditto.\n\nMon Sep 12 14:03:33 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* test/dbm/test_dbm.rb: remove locking test, which may not be\n\t  supported on some platforms.  [ruby-dev:27030]\n\nSun Sep 11 23:23:02 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (starttls): supported the STARTTLS command.\n\nSun Sep 11 22:18:07 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* bin/erb (ERB::Main#run): set ERB#filename so that it is used\n\t  when reporting syntax/runtime errors. Tabs converted to spaces.\n\nSat Sep 10 22:34:19 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c, bignum.c: protoize.\n\nSat Sep 10 00:23:01 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (splat_value): simpler and consistent array conversion\n\t  for argument splat.  [yarv-dev:599]\n\nFri Sep  9 16:45:25 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_times): make empty strings to keep taintness,\n\t  and a little improvement.  [ruby-dev:26900]\n\n\t* ext/iconv/iconv.c (iconv_try), ext/iconv/extconf.rb: get rid of meta\n\t  characters in command line option.  fixed: [ruby-talk:155369]\n\n\t* ext/iconv/iconv.c: protoized.\n\nThu Sep  8 14:58:11 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* merged a patch from Takahiro Kambe <taca at back-street.net> to\n\t  support DragonFly BSD.  [ruby-dev:26984]\n\nThu Sep  8 13:14:57 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* missing/strchr.c (strrchr): fixed a bug in detecting NUL in a\n\t  string.  [ruby-dev:26985]\n\nWed Sep  7 17:29:27 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_s_by_id):\n\t  OpenSSL::Engine.by_id calls given block before calling\n\t  ENGINE_init (block parameter is the return value of this method\n\t  itself).  this functionality is useful to load dynamic shared\n\t  engines.\n\n\t\trequire \"openssl\"\n\t\tpkcs11 = OpenSSL::Engine.by_id(\"dynamic\"){|e|\n\t\t  e.ctrl_cmd(\"SO_PATH\", \"/usr/lib/opensc/engine_pkcs11.so\")\n\t\t  e.ctrl_cmd(\"LIST_ADD\", \"1\")\n\t\t  e.ctrl_cmd(\"LOAD\")\n\t\t}\n\t\tpkcs11.ctrl_cmd(\"PIN\", \"secret\")\n\t\tkey = pkcs11.load_private_key\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_ctrl_cmd): new method\n\t  OpenSSL::Engine#ctrl_cmd. it wraps ENGINE_ctrl_cmd_string.\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_get_cmds): new method\n\t  OpenSSL::Engine#cmds. it returms engine command definitions.\n\nWed Sep  7 15:48:37 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (asn1str_to_str): new function.\n\n\t* ext/openssl/ossl_pkcs7.c: new class OpenSSL::PKCS7::RecipientInfo.\n\t  this class wraps PKCS7_RECIP_INFO struct.\n\n\t* ext/openssl/ossl_pkcs7.c: OpenSSL::PKCS7::Signer is renamed to\n\t  OpenSSL::PKCS7::SignerInfo. (\"Signer\" remains as an alias of\n\t  SignerInfo.)\n\n\t* test/openssl/test_pkcs7.rb: new file.\n\nWed Sep  7 12:55:08 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: abolish mod === tempfile to avoid a problem\n\t  [ruby-dev:26967].\n\nWed Sep  7 10:45:15 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_switch): convert all exceptions to\n\t  SystemExit.  fixed: [ruby-core:05724]\n\n\t* eval.c (rb_thread_terminated): show backtrace before propagate\n\t  exceptions to main thread.\n\nWed Sep  7 09:21:41 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.[hc] (rb_w32_utime): constified.\n\n\t* win32/win32.h (rb_w32_stat): added prototype.\n\n\t* win32/win32.[hc] (rb_w32_argv_size,rb_w32_join_argv,rb_w32_aspawn):\n\t  changed `char *const *' to `const char *const *'. (constify string)\n\nWed Sep  7 08:35:04 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, configure.in (MINIOBJS): miniruby on HP-UX can not load\n\t  extension libraries.\n\n\t* bignum.c (bignew_1, bigadd): K&R style argument actually can't be\n\t  defined as char.\n\n\t* missing/vsnprintf.c: ANSI compiler supports const keyword.\n\n\t* ext/digest/sha2/extconf.rb: reject platforms which has inttypes.h\n\t  but no 64bit integer.\n\n\t* lib/mkmf.rb (what_type?): guesstimate type.\n\n\t* ext/etc/etc.c (setup_passwd), ext/etc/extconf.rb: pw_age might be\n\t  char*.  fixed: [ruby-core:05470]\n\nWed Sep  7 08:32:07 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_times): should taint empty strings as well.\n\n\t* object.c (Init_Object): make class_variable_{get,set} public.\n\t  [ruby-dev:26965]\n\nMon Sep  5 22:28:46 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt, mlhs_node, lhs, arg, method_call): aref_args might be\n\t  nothing.  fixed: [ruby-dev:26952]\n\n\t* ext/ripper/eventids2.c: added new tokens.  fixed: [ruby-dev:26952]\n\nMon Sep  5 17:03:07 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/find.rb: should raise ENOENT if root entry does not exist.\n\t  [ruby-list:41054]\n\n\t* lib/ostruct.rb: a patch from Florian Gross <florgro at gmail.com>\n\t  merged to allow recursive inspect (and to_s) for OpenStruct.\n\t  [ruby-core:05532]\n\nMon Sep  5 08:20:19 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/observer.rb: a patch from nornagon <nornagon at gmail.com>\n\t  merged to allow arbitrary names for update methods.\n\t  [ruby-core:05416]\n\nMon Sep  5 07:01:12 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/openssl/lib/openssl/buffering.rb (Buffering#do_write):\n\t  should clear data from the buffer which already been output.\n\nSun Sep  4 15:01:35 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (f_arg): Ripper should not do semantic check.\n\t  [ruby-dev:26948]\n\nSat Sep  3 23:52:35 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_fcall): new method to avoid inefficiency of\n\t  obj.instance_eval{send(...)} tricks.\n\nSat Sep  3 13:59:31 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#descend): Pathname.new(\"./a/b/c\").descend\n\t  didn't yield \".\"\n\t  (Pathname#ascend): ditto.\n\nFri Sep  2 23:51:54 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_arg): f_norm_arg is a VALUE in ripper, not an ID.\n\t  fixed: [ruby-dev:26942]\n\n\t* lib: do not use __send__ to access private methods.  [ruby-dev:26935]\n\nThu Sep  1 17:11:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): wrong condition for $SAFE restoration.\n\nThu Sep  1 14:12:45 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: On Tcl8.5, MultiTkIp#invoke_hidden doesn't\n\t  work (gives wrong order of arguments).\n\n\t* ext/tk/lib/multi-tk.rb: add MultiTkIp#invoke_hidden_on_namespace\n\t  to support '-namespace' option of 'interp invokehidden' command\n\t  on Tcl8.5.\n\nWed Aug 31 14:41:30 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (OPTFLAGS): default global optimization to\n\t  disabled for all VC++ versions.  fixed: [ruby-dev:26897]\n\nWed Aug 31 10:36:09 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* process.c (proc_detach, proc_setmaxgroups): missing argument type\n\t  declaration. (I recommend ANSI-style function)\n\nWed Aug 31 06:59:01 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_scan): already String#scan behaves differently\n\t  regarding if block is given.\n\nTue Aug 30 23:49:34 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c, dir.c, enum.c, hash.c, io.c, range.c, string.c, struct.c:\n\t  let enumerable methods return Enumerator.  [ruby-dev:26924]\n\n\t* intern.h (RETURN_ENUMERATOR): utility macro for enumerable methods.\n\nTue Aug 30 23:25:45 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/debug.rb: no need to restart at exit.\n\nTue Aug 30 23:20:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_rescue2): initialization miss.  fixed: [ruby-dev:26917]\n\n\t* lib/mkmf.rb (xsystem, xpopen): no longer expand by Config.\n\n\t* lib/mkmf.rb (link_command, cc_command, cpp_command): expand\n\t  variables at once, and quote hdrdir.  fixed: [ruby-core:05680]\n\n\t* lib/mkmf.rb (libpathflag): quote paths.\n\nTue Aug 30 19:34:27 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/digest/md5/md5ossl.h, ext/digest/rmd160/rmd160ossl.h,\n\t  ext/digest/sha1/sha1ossl.h: include <stddef.h> to avoid\n\t  error in compilation with OpenSSL-0.9.8. [ruby-list:41068]\n\nTue Aug 30 16:19:40 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/init.rb: bug fix. [ruby-dev: 26920]\n\nTue Aug 30 16:13:00 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_count): new method.  [ruby-dev:26895]\n\nTue Aug 30 12:45:15 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_send): do not call private methods if the receiver\n\t  is specified.  [ruby-talk:153672]\n\nMon Aug 29 19:47:18 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/rdoc/usage.rb: improper exceptions. [ruby-dev:26870]\n\n\t* lib/rdoc/usage.rb: support the case when non-ruby code exists before\n\t  shebang. (this is needed when ri.bat is executed on windows)\n\nMon Aug 29 18:58:05 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/init.rb: make IRB -I option that is same befavior for ruby.\n\t  [ruby-dev:26872]\n\n\t* lib/irb/locale.rb: support to print help message when OS locale is\n\t  ja_JP.utf-8. [ruby-dev:26872]\n\nMon Aug 29 01:43:05 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#descend): new method.\n\t  (Pathname#ascend): ditto.\n\nMon Aug 29 00:35:09 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/time.rb: require 'date/format' instead of 'parsedate'.\n\t  (Time.parse): extract fractional seconds using Date._parse.\n\t  (Time.strptime): extract fractional seconds using Date._strptime.\n\t  [ruby-talk:153859]\n\nSat Aug 27 20:13:31 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/curses/curses.c ({curses,window}_clrtoeol): added. suggested\n\t  by Reyn Vlietstra.\n\n\t* ext/curses/curses.c: chtype in curses is not `char', rahter `long'.\n\t  [ruby-Bugs:2298]\n\n\t* ext/curses/view.rb: String =~ String is deprecated.\n\nThu Aug 25 15:48:58 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/win32ole/win32ole.c: suppress warnings. (win32)\n\nWed Aug 24 11:01:26 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/logger/test_logger.rb (test_shifting_size): should close log\n\t  device before unlink, since some platform cannot unlink opened\n\t  file.\n\nTue Aug 23 06:07:02 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/digest.rb: added SHA224, SHA256, SHA384 and SHA512.\n\t  these features are enabled if this library is compiled with\n\t  OpenSSL 0.9.8 or later.\n\n\t* test/openssl/test_digest.rb: add test for new digests.\n\nTue Aug 23 05:47:04 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ns_spki.c (ossl_spki_initialize): try to decode\n\t  the argument as a string.\n\n\t* ext/openssl/ossl_ns_pki.c (ossl_spki_to_der): new method.\n\n\t* ext/openssl/ossl_x509store.c (ossl_x509store_initialize): should\n\t  set @time to avoid warning.\n\n\t* ext/openssl/ossl_x509store.c (ossl_x509store_set_default_paths,\n\t  X509_STORE_add_cert, X509_STORE_add_crl): should raise error if\n\t  wrapped functions fails.\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_set_ciphers): fix error message.\n\n\t* ext/openssl/ossl_x509req.c (ossl_x509req_set_attributes): get rid\n\t  of unused variable.\n\n\t* test/openssl/test_ns_spki.rb: add new file.\n\n\t* test/openssl/test_x509store.rb: add test for error.\n\nTue Aug 23 01:11:40 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* sprintf.c (ruby__sfvwrite): should move `buf' to the end of\n\t  `result'. [ruby-dev:26859]\n\nMon Aug 22 23:51:19 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: ONIG_OPTION_CAPTURE_GROUP conflicts with\n\t  RE_OPTION_ONCE.  [ruby-dev:26852]\n\nMon Aug 22 20:11:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/vsnprintf.c (BSD__sprint): needs to call vwrite function\n\t  pointer.  fixed: [ruby-dev:26854]\n\nSat Aug 20 23:55:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): update paren_nest for brackets [].\n\nSun Aug 21 00:10:23 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/wsdl/xmlSchema/importer.rb (WSDL::XMLSchema::Importer#fetch): add\n\t  a workaround for importing an WSDL whose path begins with drive\n\t  letter.  [ruby-dev:26242]\n\nSat Aug 20 22:05:25 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* regexec.c (code_is_in_cclass_node): check code size.\n\t  [ruby-dev:26840]\n\nSat Aug 20 22:37:13 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb (write, shift_log?, shift_log): file shifting race\n\t  condition bug fixed.  [ruby-dev:26764]\n\n\t* test/logger/test_logger.rb: tests.\n\nFri Aug 19 18:13:39 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/time.rb (Time.apply_offset): fix a problem with last day of\n\t  month.  reported by Lucas Nussbaum.  [ruby-talk:152866]\n\nThu Aug 18 11:05:36 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (socketpair_internal): need to call open_ifs_socket()\n\t  to create sockets instead of winsock's socket().\n\t  fixed: [yarv-dev:581]\n\nWed Aug 17 23:58:05 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (terminate_process): take String message.\n\n\t* eval.c (rb_thread_switch): propagate the exception caused thread\n\t  termination directly.  fixed: [ruby-core:05552]\n\nWed Aug 17 21:20:05 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb: ensure that symbol_to_option is private_class_method\n\t  and all other methods are module_function\n\t  fixed: [ruby-dev:26808]\n\nWed Aug 17 00:05:46 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_add_method): preserve safe level in the environment\n\t  where a method is defined .\n\n\t* eval.c (rb_call0): restore preserved safe level in the method\n\t  execution.\n\n\t* parse.y (lambda): need separate block variable stack\n\t  manipulation and lpar_beg maintenance.  based on a patch found\n\t  in [ruby-core:05551] from Mauricio Fernandez <mfp at acm.org>.\n\n\t* parse.y (parser_yylex): adjust lpar_beg after tLAMBEG and\n\t  kDO_LAMBDA. [ruby-core:05551]\n\nMon Aug 15 07:24:38 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (rb_check_to_integer): add declaration.\n\n\t* object.c (rb_to_integer, rb_check_to_integer): argument constified.\n\nMon Aug 15 00:38:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_rescue2): reduce PUSH_TAG() as well as NODE_RESCUE.\n\t  [ruby-dev:26800]\n\n\t* range.c (range_check, range_init): reduce uselse exceptions.\n\nMon Aug 15 00:34:11 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (yycompile): remove unreachable code.  [yarv-dev:570]\n\nSat Aug 13 22:16:12 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_entry_secure): forgot final chdir.\n\nSat Aug 13 22:07:49 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_entry_secure): uses chdir(2) and check\n\t  if current directory is correct. [ruby-dev:26100] [ruby-dev:26226]\n\nSat Aug 13 21:11:05 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_VARIANT class.\n\n\t* ext/win32ole/tests/testall.rb: ditto.\n\n\t* ext/win32ole/tests/testOLEVARIANT.rb: ditto.\n\nSat Aug 13 18:51:26 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_block_pass): distinguish current block from others.\n\t  fixed: [ruby-dev:26274]\n\n\t* ext/stringio/stringio.c (strio_set_string): disallow nil.\n\t  http://www.rubyist.net/~nobu/t/20050811.html#c05\n\nSat Aug 13 08:01:59 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb: Kconv.kconv is now alias of Kconv.conv\n\t* ext/nkf/lib/kconv.rb: remove nkf dependend symbols fomr SYMBOL_TO_OPTION\n\nFri Aug 12 17:06:53 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_larglist): allow optional arguments even when\n\t  parentheses are omitted.  based on Nobu's patch from\n\t  http://www.rubyist.net/~nobu/t/20050805.html\n\n\t* parse.y (parser_yylex): update & maintain lpar_beg for detect\n\t  lambda parameters.\n\nThu Aug 11 23:29:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c: keep holding string after closed.\n\nThu Aug 11 20:48:40 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* numeric.c (fix_equal, fix_cmp, fix_gt, fix_ge, fix_lt, fix_le):\n\t  reduce coercing when a method knows about a operand type.\n\t  [ruby-dev:26789]\n\nThu Aug 11 13:01:48 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss: fixed sort bug. [ruby-list:41018]\n\n\t* lib/rss/1.0.rb (RSS::RDF::Channel#setup_maker_attributes):\n\t  removed self.\n\n\t* lib/rss/maker/base.rb (RSS::Maker::ItemsBase#<=>): use #date\n\t  instead of @date.\n\t  (RSS::Maker::Base::self.def_array_element): added #size.\n\n\t* lib/rss/maker/1.0.rb\n\t  (RSS::Maker::RSS10::Channel#to_rss,\n\t   RSS::Maker::RSS10::Items::Item#to_rss): cleared dc_dates set\n\t  upped by using #date.\n\n\t* lib/rss/maker/dublincore.rb\n\t  (RSS::Maker::ChannelBase, RSS::Maker::ItemsBase::ItemBase):\n\t  fixed opposite alias.\n\n\t* test/rss/test_setup_maker_1.0.rb\n\t  (RSS::TestSetupMaker10::test_setup_maker_items_sort): added some\n\t  tests for RSS::Maker::ItemsBase#do_sort.\n\nWed Aug 10 12:01:20 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb: simplifies Delegator classes; SimpleDelegator\n\t  now uses method_missing for all methods.\n\nWed Aug 10 10:38:50 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_mul0): multiply two numbers (x, y) without\n\t  normalizing the result.  x should be a big number.\n\t  [ruby-dev:26778]\n\n\t* bignum.c (rb_big_pow): use rb_big_mul0() instead of\n\t  rb_big_mul().\n\n\t* array.c (rb_ary_or, rb_ary_and, rb_ary_plus, rb_ary_diff):\n\t  revert the change on 2005-08-03.  Set operation on other item\n\t  should have in separate methods.\n\n\t* parse.y (shadowing_lvar_gen): warn when arguments shadows\n\t  external local variables.\n\n\t* parse.y (f_opt): optional arguments should not clobber external\n\t  local variables.\n\n\t* parse.y (f_rest_arg): rest arguments should not clobber external\n\t  local variables.\n\nWed Aug 10 10:29:40 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: fix bug on handling __ruby2val_optkeys().\n\n\t* ext/tk/lib/tk/itemconfig.rb: fix bug on handling\n\t  __item_ruby2val_optkeys().\n\n\t* ext/tk/lib/tk/canvas.rb: didn't check __item_ruby2val_optkeys().\n\n\t* ext/tk/lib/tkextlib/blt/component.rb: ditto.\n\nTue Aug  9 21:53:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (formal_assign): let default values override\n\t  arguments to zsuper.  fixed: [ruby-dev:26743]\n\nTue Aug  9 20:30:19 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* bignum.c (rb_big_coerce): allow bignum x bignum coercing.\n\t  [ruby-dev:26778]\n\nTue Aug  9 15:12:04 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: remove dangerous 'rb_jump_tag's.\n\n\t* ext/tk/lib/tk.rb: add __val2ruby_optkeys and __ruby2val_optkeys to\n\t  help to convert option values between ruby and tcl.\n\n\t* ext/tk/lib/tk/itemconfig.rb: add __item_val2ruby_optkeys and\n\t  __item_ruby2val_optkeys to help to convert option values between\n\t    ruby and tcl.\n\n\t* ext/tk/lib/tk/radiobutton.rb: use __ruby2val_optkeys for 'variable'\n\t  option (for the reason of backward compatibility).\n\n\t* ext/tk/lib/tk/composite.rb: clarify the arguments of super().\n\n\t* ext/tk/lib/tk/spinbox.rb: ditto.\n\n\t* ext/tk/lib/tk/text.rb: ditto.\n\n\t* ext/tk/lib/tk/validation.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/*: support to treat tkvariable-type\n\t  configure options.\n\nTue Aug  9 08:24:05 2005  Mauricio Fernandez  <mfp@acm.org>\n\n\t* parse.y (f_block_arg), eval.c (rb_yield_0): deal with dynamic\n\t  variable lambda arguments.  [ruby-core:05540]\n\nMon Aug  8 22:13:48 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (assign): deal with new block argument.\n\t  fixed: [ruby-core:05536]\n\n\t* eval.c (rb_node_arity): follow change of NODE_ARGS.\n\t  fixed: [ruby-dev:26761]\n\nMon Aug  8 21:28:13 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_fnmatch.rb: separated from test_file.rb.\n\nMon Aug  8 20:40:35 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_method.rb: added.  [ruby-dev:26761]\n\nMon Aug  8 01:26:37 2005  Mauricio Fernandez  <mfp@acm.org>\n\n\t* parse.y (f_larglist): mistake in syntax rule.  [ruby-core:05535]\n\nMon Aug  8 05:16:55 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.c (ossl_raise): should use ERR_peek_last_error\n\t  to get last error on the current thread. And should report\n\t  if errors are on the stack while OpenSSL.debug is true.\n\n\t* ext/openssl/ossl.c (ossl_get_errors): new method for debugging\n\t  this library.\n\nMon Aug  8 05:15:19 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpproxy.rb (HTTPProxyServer#intialize),\n\t  lib/webrick/httpserver.rb (HTTPServer#intialize),\n\t  lib/webrick/httpservlet/cgihandler.rb (CGIHandler#initialize),\n\t  lib/webrick/httpservlet/erbhandler.rb (ERBHandler#initialize),\n\t  lib/webrick/httpservlet/filehandler.rb(DefaultFileHandler#initialize):\n\t  super (called with no arguments) takes default value of optional\n\t  arguments. [ruby-dev:26743]\n\n\t* lib/webrick/httputils.rb: add a media-type \"text/html\" for .xhtml.\n\nSun Aug  7 23:52:39 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_super.rb: added optional arg tests.  [ruby-dev:26743]\n\t  the tests expects 1.8 behavior at this time.\n\nSat Aug  6 12:35:24 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/{tk.rb,tk/itemconfig.rb}: configure creates\n\t  TkVariable if key name is 'variable' or 'textvariable'\n\t  by default. [ruby-dev:26749]\n\n\t* ext/tk/lib/tk/{label,radiobutton}.rb: removed its own\n\t  {variable,textvariable} function.\n\n\t* ext/tk/lib/tk/variable.rb: retains backward conpatibility.\n\nFri Aug  5 12:48:31 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c: fixed memory leak when tk_funcall raised\n\t  exception. (copies argv into heap in tk_funcall instead of\n\t  caller)\n\nFri Aug  5 12:36:40 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): need to convert path separetor\n\t  before invoking install command.\n\nFri Aug  5 08:08:05 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (return_jump): fix \"can't across thread\" error message\n\t  when no thread associated.\n\t  http://www.namikilab.tuat.ac.jp/~sasada/diary/200507.html#d31\n\nFri Aug  5 00:25:12 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c: refactoring - extract ruby string <->\n\t  tcl object conversion as get_str_from_obj and get_obj_from_str.\n\nFri Aug  5 00:19:33 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (Init_Enumerator): provided features should have\n\t  extensions.\n\n\t* eval.c (rb_feature_p): returns type of the feature instead of\n\t  extension.\n\n\t* eval.c (search_required): ruby library should be prior to statically\n\t  linked extentions.  fixed: [ruby-dev:26711]\n\n\t* eval.c (formal_assign): returns position of rest arguments variable.\n\n\t* parse.y (f_rest_arg): use anonymous variable for rest arguments.\n\t  fixed: [ruby-dev:26647]\n\n\t* extmk.rb (extmake): needs to be wrapped in an Array.\n\nThu Aug  4 20:03:18 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* numeric.c (Init_Numeric): do not share implementation among\n\t  Fixnum#/ and Fixnum#div.  [ruby-core:05531]\n\nThu Aug  4 18:38:36 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: cannot compile for Tcl7.6/Tk4.2.\n\n\t* ext/tk/tcltklib.c: add nativethread consistency check.\n\n\t* ext/tk/stubs.c: ditto.\n\n\t* ext/tk/lib/tk.rb: forgot to define TclTkIp.encoding and encoding=\n\t  when Tcl is 7.6 or 8.0.\n\n\t* ext/tk/lib/tk/wm.rb: support to make some methods as options of\n\t  root or toplevel widget. [ruby-talk:150336]\n\n\t* ext/tk/lib/tk/root.rb: ditto.\n\n\t* ext/tk/lib/tk/toplevel.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/SUPPRT_STATUS: update RELEASE_DATE\n\nThu Aug  4 13:30:15 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_div): should not convert the result into\n\t  integer.  [ruby-core:05524]\n\nThu Aug  4 08:03:39 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): should not modify $mflags for each\n\t  extentions.\n\nThu Aug  4 00:25:48 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, Makefile.in, {bcc32,win32,wince}/Makefile.sub: integrated\n\t  macro definitions.\n\n\t* bcc32/Makefile.sub: LIBRUBY_SO should use DLDOBJS, not EXTOBJS.\n\n\t* {win32,wince}/Makefile.sub: separate config.h for compiler versions.\n\nThu Aug  4 00:24:59 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c: replacing is no longer needed.\n\nWed Aug  3 21:59:16 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/variable.rb: TkVariable#trace didn't work on\n\t  TkVariable retrived from TkVariable.new_hash.ref. [ruby-dev:26721]\n\nWed Aug  3 12:40:28 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* numeric.c (fix_plus): reduce coercing when a method knows about\n\t  a operand type.  [ruby-dev:26723]\n\n\t* numeric.c (fix_minus, fix_mul, fix_quo, fix_div, fix_mod,\n\t  fix_divmod, fix_pow): ditto.\n\n\t* bignum.c (rb_big_div, rb_big_modulo): export to reduce\n\t  coercing.\n\nWed Aug  3 10:13:52 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* configure.in, {bcc32,win32,wince}/Makefile.sub (HAVE_SNPRINTF,\n\t  HAVE_VSNPRINTF): use win32/win32.c's implementation instead of\n\t  missing/vsnprintf.c's.\n\n\t* win32/win32.[ch] (rb_w32_snprintf, rb_w32_vsnprintf): reverted.\n\nWed Aug  3 10:05:08 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check vsnprintf() and snprintf().\n\n\t* sprintf.c, missing/vsnprintf.c: made vsnprintf() and snprintf()\n\t  private.  fixed: [ruby-dev:26651]\n\nWed Aug  3 08:22:13 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect): revert [ruby-talk:111654]\n\t  changes at 2004-09-07.  [ruby-dev:26656]\n\nWed Aug  3 06:53:35 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_or): wraps the operand in an array if it is not\n\t  an array.  [ruby-talk:150495] [EXPERIMENTAL]\n\n\t* array.c (rb_ary_and, rb_ary_plus, rb_ary_diff): ditto.\n\nTue Aug  2 10:23:12 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c: use Tcl_[GS]etVar2Ex instead of\n\t  Tcl_Obj[GS]etVar2. (avoid Tcl_NewStringObj on supported platforms)\n\n\t* ext/tk/tcltklib.c: use ip_{get,set,unset}_variable2_core from\n\t  ip_{get,set,unset}_variable.\n\n\t* ext/tk/tcltklib.c: replaced Tcl_Panic with rb_bug.\n\nTue Aug  2 01:40:38 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/ping.rb (Ping.pingecho): should rescue StandardError.\n\t  [ruby-dev:26677]\n\nMon Aug  1 19:02:23 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c: refactoring - replaced rb_ivar_defined &\n\t  rb_ivar_get with single rb_attr_get call.\n\nMon Aug  1 18:44:08 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c (Tcl_GetStringResult): refactoring - define\n\t  alternative macro on Tcl7.x or earlier.\n\nMon Aug  1 13:53:55 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c (deleted_ip): refactoring - interpreter\n\t  deletion check. [ruby-dev:26664]\n\nMon Aug  1 01:08:21 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (check_insecure_method): use private_methods and\n\t  protected_methods instead of respond_to? to check method visibility.\n\t  [ruby-dev:26616]\n\n\t* test/drb/drbtest.rb: ditto.\n\n\t* test/drb/ut_drb.rb: ditto.\n\nSat Jul 30 18:49:44 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_TYPE#ole_typelib,\n\t  WIN32OLE_TYPE#implemented_ole_types.\n\n\t* ext/win32ole/tests/testOLETYPE.rb: ditto.\n\nFri Jul 29 16:12:02 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/context.rb: fix `irb --readline` option. [ruby-dev:40955]\n\nFri Jul 29 09:59:38 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_call0): fix calling zsuper from a method with anonymous\n\t  rest argument.  [ruby-dev:26639]\n\n\t* eval.c (rb_yield_0): push yielded node instead of yielding.\n\t  fixed: [yarv-dev:549]\n\nThu Jul 28 21:49:17 2005  IWATSUKI Hiroyuki  <don@na.rim.or.jp>\n\n\t* parse.y (rb_parser_end_seen_p): exclude from ripper.\n\t  <http://moonrock.jp/~don/d/200507.html#d28_t2>\n\n\t* sprintf.c (clearerr): remove standard macro before re-definition.\n\t  <http://moonrock.jp/~don/d/200507.html#d28_t3>\n\nThu Jul 28 18:09:55 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/stubs.c: When --enable-tcltk-stubs, the initialize\n\t  routine creates a Tcl/Tk interpreter and deletes it. However,\n\t  init cost of Tk's MainWindow is not so small. And that makes it\n\t  impossible to use libraries written with Tcl functions only on\n\t  an environment without a graphical display. This changes support\n\t  delaying initalization of Tk_Stubs until the script needs Tk.\n\n\t* ext/tk/stubs.h: New file. Define prototypes and return codes of\n\t  functions on stubs.c.\n\n\t* ext/tk/tcltklib.c: Support delaying initalization of Tk_Stubs\n\t  until the script needs Tk.\n\n\t* ext/tk/tcltklib.c: Show friendly error messages for errors on\n\t  initialization.\n\n\t* ext/tk/tcltklib.c: Avoid SEGV on ip_finalize() when ruby is\n\t  exiting and $DEBUG is true. (Not fix. If you know the reason of\n\t  why, please fix it.)\n\n\t* ext/tk/tkutil/tkutil.c (ary2list, ary2list2): bug fix on handling\n\t  of encoding.\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp#eval_string and bg_eval_string\n\t  don't work propery.\n\n\t* ext/tk/lib/tk.rb: Forget extending Tk::Encoding module to Tk.\n\n\t* ext/tk/lib/tk/variable.rb: TkVarAccess fails to initialize the\n\t  object for an element of a Tcl's array variable.\n\nThu Jul 28 17:23:37 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_larglist): allow block argument in lambda parameter\n\t  list without parenthesis.\n\nThu Jul 28 17:14:01 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (each_i): typo fixed.  [ruby-dev:26622]\n\nThu Jul 28 15:04:11 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_arg): better argument name duplication check\n\n\t* parse.y (new_args_gen): factored out name duplication check for\n\t  optional and rest arguments.\n\n\t* parse.y (new_bv_gen): allow shadowing outer local variables;\n\t  warning remains.\n\nThu Jul 28 13:46:06 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (ripper_warningS): the argument was omitted.\n\t  [ruby-dev:26621]\n\nThu Jul 28 11:30:57 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (f_larglist): allow bv_decl at the end of lambda\n\t  argument list.  [EXPERIMENTAL]\n\n\t* parse.y (new_bv_gen): allow local variable shadowing, with\n\t  warning in verbose mode.\n\nWed Jul 27 23:23:54 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (obj_free): make message format consistent with one from\n\t  gc_mark().  [ruby-talk:149668]\n\n\t* sprintf.c (quad_t): prepare quad_t as well.  [ruby-talk:149668]\n\nWed Jul 27 22:11:37 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin: removed. because the plugin\n\t  is imported in the tDiary plugin packages.\n\nWed Jul 27 19:11:53 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (cd): follow :noop option change. (This patch\n\t  is contributed by Doug Kearns)\n\nWed Jul 27 16:25:59 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (lambda): Perl6 style -> lambda expression. [NEW]\n\t  [VERY EXPERIMENTAL]\n\nWed Jul 27 10:43:14 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (id2ref): must not assign pointers to long int.  use\n\t  LONG_LONG instead if SIZEOF_LONG < SIZEOF_VOIDP.\n\t  [ruby-talk:149645]\n\n\t* ruby.h: use LONG_LONG to simplify the change.\n\t  [ruby-talk:149645]\n\nWed Jul 27 10:59:02 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_each): rewinddir(3) before iteration.\n\t  [ruby-talk:149628]\n\nWed Jul 27 02:34:58 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_throw): replace all '0x%lx' by '%p'.\n\t  [ruby-talk:149553]\n\n\t* missing/vsnprintf.c (BSD_vfprintf): '%p' need to handle 64bit\n\t  size pointer.  [ruby-talk:149553]\n\nTue Jul 26 22:41:28 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/sexp.rb: new method Ripper.sexp_raw.\n\n\t* ext/ripper/lib/ripper/sexp.rb (Ripper.sexp): returns more\n\t  readable tree.  This is suggested by Kirill A. Shutemov.\n\nTue Jul 26 22:05:12 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: merge a patch contributed by Daniel Berger,\n\t  with some modification. (RubyForge #2128)\n\nTue Jul 26 18:11:33 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h: support LLP64 model.  [ruby-talk:149524]\n\nTue Jul 26 12:57:40 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/openssl_missin.c: include <openssl/engine.h> before\n\t  <openssl/x509_vfy.h> to avoid compilation error of mswin32.\n\t  suggested by NAKAMURA Usaku.\n\nMon Jul 25 23:48:55 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.[ch]: (rb_w32_vsnprintf, rb_w32_snprintf): removed.\n\nMon Jul 25 21:30:46 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: Borland MAKE doesn't look for file names which have paths\n\t  from VPATH.  fixed: [ruby-dev:26604]\n\n\t* ruby.h (NORETURN, DEPRECATED): moved just after config.h.\n\n\t* {win32,wince}/Makefile.sub: vsnprintf() is in missing now.\n\n\t* {bcc32,win32,wince}/Makefile.sub: moved CPPFLAGS only for ruby\n\t  source to XCFLAGS.\n\nMon Jul 25 14:10:02 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: fix en-bugged part in the last commit.\n\nMon Jul 25 13:45:18 2005  NAJIMA Hiroki  <najima@mickey.ai.kyutech.ac.jp>\n\n\t* io.c: check HAVE_SYS_IOCTL_H before including the header.\n\t  [ruby-dev:26610]\n\nSat Jul 23 16:48:12 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_s_load): should check\n\t  OPENSSL_NO_STATIC_ENGINE.\n\nSat Jul 23 11:46:30 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_fd_select): the all three fd_sets must be long enough for\n\t  select.  fixed: [ruby-talk:149059]\n\nSat Jul 23 10:01:41 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_vsprintf, rb_sprintf): new functions return new String,\n\t  using missing/vsnprintf.c.  [ruby-dev:26580]\n\n\t*  missing/vsnprintf.c: made the output changeable.\n\nFri Jul 22 21:06:08 2005  Tadashi Saito  <shiba@mail2.accsnet.ne.jp>\n\n\t* bignum.c (rb_big_eq): reduce isnan().  [ruby-dev:26600]\n\n\t* numeric.c (flo_eq, flo_gt, flo_ge, flo_lt, flo_le): ditto.\n\nFri Jul 22 15:02:39 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: moved copyright description to lib/rss.rb.\n\n\t* lib/rss.rb: added for convenience.\n\n\t* sample/rss/re_read.rb: added #to_s sample.\n\n\t* sample/rss/blend.rb: use 'require \"rss\"' instead of\n\t  'require \"rss/*\"'.\n\t* sample/rss/list_description.rb: ditto.\n\t* sample/rss/rss_recent.rb: ditto.\n\t* sample/rss/tdiary-plugin/rss-recent.rb: ditto.\n\n\t* sample/rss/tdiary-plugin/rss-recent.rb: 0.0.6 -> 0.0.7.\n\nFri Jul 22 14:37:43 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb (RSS::Parser#initialize): accept HTTP/FTP\n\t  URI and local file path too.\n\n\t* test/rss/test_parser.rb (RSS::TestParser#test_parse): test\n\t  for the above.\n\nFri Jul 22 07:01:42 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil/tkutil.c (tk_conv_args): forget to revert\n\t  thread_critical and gc_disable when raise ArgumentError.\n\n\t* ext/tk/lib/remote-tk.rb: RemoteTkIp doesn't need to include TkUtil.\n\n\t* ext/tk/tcltklib.c: add TclTkIp#has_mainwindow? method.\n\n\t* ext/tk/lib/tk.rb: add Tk.has_mainwindow? method.\n\n\t* ext/tk/lib/multi-tk.rb: add MultiTkIp#has_mainwindow? method.\n\n\t* ext/tk/lib/remote-tk.rb: add RemoteTkIp#has_mainwindow? method.\n\n\t* ext/tk/lib/multi-tk.rb: slave IP fail to exit itself when $SAFE==4.\n\n\t* ext/tk/lib/multi-tk.rb: remove constants from MultiTkIp module to\n\t  avoid access from external.\n\n\t* ext/tk/lib/multi-tk.rb: check_root flag is ignored on slave IPs'\n\t  mainloop.\n\n\t* ext/tk/lib/multi-tk.rb: hang-up Tk.mainloop called on a slave IP\n\t  with $SAFE==4.\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp#bg_eval_proc doesn't work\n\t  properly.\n\n\t* ext/tk/lib/multi-tk.rb: add MultiTkIp#set_cb_error(proc) and\n\t  cb_error(exc) to log errors at callbacks on safe slave IPs.\n\n\t* ext/tk/lib/multi-tk.rb: fail to get an available slave IP object\n\t  when call Tk.mainloop in the block which is given to new_* method,\n\t    because cannot finish initialize while the root widget is alive.\n\n\t* ext/tk/lib/multi-tk.rb: fail to control a slave IP when Tk.mainloop\n\t  runs on the IP.\n\nThu Jul 21 01:00:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/{nkf.c,utf8tbl.c,config.h}:\n\t  import 1.76\n\t  [ruby-dev:26592] nkf constification\n\nWed Jul 20 19:18:52 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (S_ISREG): need to define S_ISREG before it is used first.\n\nWed Jul 20 18:33:15 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* io.c (wsplit_p): patch for the environment where\n\t  fcntl(F_GETFL, O_NONBLOCK) is not supported. in that case,\n\t  set FMODE_WSPLIT without fcntl check. [ruby-dev:26566]\n\nWed Jul 20 18:07:11 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_io_ctl): update FMODE_WSPLIT_INITIALIZED and FMODE_WSPLIT\n\t  by F_SETFL.\n\nWed Jul 20 10:04:51 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_class_path): need to adjust snprintf() len for\n\t  teminating NUL.  [ruby-dev:26581]\n\nWed Jul 20 03:58:52 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/socket/socket.c: sorry, BeOS also uses HAVE_CLOSESOCKET,\n\t  so reverted.\n\n\t* ext/socket/extconf.rb: should not define HAVE_CLOSESOCKET\n\t  on windows.\n\nWed Jul 20 03:12:21 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/socket/socket.c: should not undef close() on win32.\n\t  it's defined to rb_w32_close(), otherwise handle leaks.\n\t  [ruby-Bugs-2131]\n\nWed Jul 20 00:48:16 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (syserr_initialize): don't use str before StringValue()\n\t  check.  [ruby-dev:26579]\n\nTue Jul 19 22:47:29 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (syserr_initialize): add 1 byte for snprintf() size for\n\t  NUL at the end.  [ruby-dev:26574]\n\nTue Jul 19 17:16:34 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (trap): remove sigexit(); handle \"EXIT\" via sig_exec().\n\t  [ruby-dev:26440]\n\n\t* io.c (rb_io_inspect): replace sprintf() with \"%s\" format all\n\t  over the place by snprintf() to avoid integer overflow.\n\nTue Jul 19 14:10:50 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c: rbtk_eventloop_depth is used as int.\n\n\t* ext/tk/tcltklib.c: rbtk_pending_exception is tested with\n\t  NIL_P, so should assign Qnil instead of 0 (Qfalse).\n\n\t* ext/tk/tcltklib.c (ip_invoke_real): fixed memory leak when\n\t  ip is deleted.\n\nTue Jul 19 13:19:46 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/variable.rb: For symmetry, add TkVariable#string. It\n\t  returns a string even if the default value type of the TkVariable\n\t  object is not \"string\".\n\nMon Jul 18 21:39:18 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* eval.c (rb_call0): make the pointer to NODE volatile\n\t  instead of NODE itself.\n\nMon Jul 18 14:32:21 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_call0): make body volatile to avoid possible optimization\n\t  problem.\n\t  [ruby-dev:26195]\n\nMon Jul 18 12:23:27 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/io/wait/wait.c: wrong backport from trunk, and compile error on\n\t  platforms fd_set is not a bit set.  fixed: [ruby-dev:26562]\n\nMon Jul 18 09:36:25 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h (FMODE_WSPLIT, FMODE_WSPLIT_INITIALIZED): new constant.\n\n\t* io.c (wsplit_p): new function.\n\t  (io_fflush): split writing data by PIPE_BUF if wsplit_p is true in\n\t  multi-threaded mode.\n\t  (io_fwrite): ditto.\n\t  [ruby-dev:26540]\n\nMon Jul 18 05:00:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: import nkf.c 1.73\n\t  fix: TestKconv 1F\n\nSun Jul 17 13:46:54 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/io/wait/extconf.rb, ext/io/wait/wait.c: Win32 platforms support.\n\nSat Jul 16 23:43:16 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (Init_Enumerator): wrong argument specs.\n\t  [ruby-core:05481]\n\nSat Jul 16 15:52:50 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.[hc]: constified socket functions. [ruby-dev:26553]\n\nFri Jul 15 23:59:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_c.rb (handle_class_module): handle a\n\t  module enclosed in a built-in module.  fixed: [ruby-talk:148239]\n\n\t* lib/rdoc/parsers/parse_c.rb (find_body): allow macros as methods.\n\n\t* lib/rdoc/parsers/parse_c.rb (find_call_seq): allow :nodoc: modifier\n\t  in C.  [ruby-core:04572]\n\nFri Jul 15 23:20:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enumerator.c (Init_Enumerator): use an internal directly.\n\nFri Jul 15 07:58:10 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#accept_client):\n\t  sockets should be non-blocking mode. [ruby-dev:26405]\n\n\t* lib/webrick/utils.rb (WEBrick::Utils.set_non_blocking): new method.\n\nFri Jul 15 00:11:36 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enumeratorize): create new enumerator for current method if\n\t  no block is given.\n\n\t* enumerator.c: moved from ext/enumerator.\n\nThu Jul 14 18:27:35 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_strerror): should return correct message\n\t  for ENAMETOOLONG and ENOTEMPTY. (bcc32) [ruby-dev:26533]\n\n\t* win32/win32.c (rb_w32_strerror): stripped CR LF on the tail.\n\t  (bcc32) [ruby-dev:26533]\n\nThu Jul 14 00:45:42 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* LEGAL (ext/nkf/nkf-utf8): updated from nkf1.7 to nkf-utf8.\n\nWed Jul 13 22:44:00 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y: remove static variables.  [ruby-dev:26530]\n\nWed Jul 13 19:36:29 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_mkdir): should set EEXIST (not EACCES)\n\t  if file or directory already exists. (bcc32) [ruby-dev:26508]\n\n\t* win32/win32.c (rb_w32_rmdir): should set ENOTDIR (not EINVAL)\n\t  if it is not directory. (bcc32, win32)\n\n\t* win32/win32.c (rb_w32_rmdir, rb_w32_unlink): restore\n\t  FILE_ATTRIBUTE_READONLY flag on function failure.\n\nWed Jul 13 12:40:00 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: TclTkLib.do_one_event doesn't work.\n\n\t* ext/tk/lib/tk.rb: Tk.thread_update is available.\n\nTue Jul 12 23:32:11 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: keep curdir unexpanded.\n\nMon Jul 11 23:50:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c, intern.h (rb_proc_call, rb_obj_method, rb_method_call):\n\t  export.\n\n\t* ext/enumerator/enumerator.c (enumerator_with_index): [EXPERIMENTAL]\n\t  added a new method Enumerator#with_index.  [ruby-talk:147728]\n\nMon Jul 11 08:31:29 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* regparse.c (fetch_escaped_value): mask values following \\c in\n\t  regexp.  fixed: [ruby-dev:26500]\n\nSun Jul 11 05:18:17 2005  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* lib/xmlrpc/server.rb (XMLRPC::Server): Switch from GServer over to\n\t  WEBrick. This makes file lib/xmlrpc/httpserver.rb obsolete (at least it is\n\t  no further used by the XML-RPC library).\n\nMon Jul 11 02:50:23 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI::Socket#request_line):\n\t  mistook to merge the patch of [ruby-dev:26235] at\n\t  revision 1.11.\n\nSun Jul 10 23:58:04 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#unlink): try Dir.unlink first to\n\t  avoid unlink a directory by root.\n\t  cf. [ruby-dev:26237]\n\nSun Jul 10 12:47:01 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/debug.rb (debug_command): added a deficient format specifier.\n\t  fixed: [ruby-core:05419]\n\nSat Jul  9 22:02:37 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_method_dispid): convert dispid\n\t  in Ruby and C by INT2NUM and NUM2INT.\n\n\t* ext/win32ole/win32ole.c (ole_invoke2): ditto.\n\n\t* ext/win32ole/test/testWIN32OLE.rb: ditto.\n\n\t* ext/win32ole/test/testOLEMETHOD.rb: ditto.\n\nFri Jul  8 15:45:04 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.4 -> 0.1.5.\n\n\t* test/rss/test_version.rb (RSS::TestVersion#test_version):\n\t  ditto.\n\n\t* lib/rss/0.9.rb (RSS::Rss::Channel::Item::Category):\n\t  domain attribute of <category> is optional. Thanks to\n\t  Chris Lee <clee@kde.org>.\n\n\t* test/rss/test_parser.rb (RSS::TestParser#test_category20):\n\t  adjusted test case.\n\nWed Jul  6 18:45:53 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_pattern_match): now returns nil.\n\t  [ruby-core:05391]\n\nMon Jul  4 14:35:52 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sample/svr.rb: service can be stopped by ill-behaved client; use\n\t  tsvr.rb instead.\n\nMon Jul  4 13:25:21 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/erf.c: original erf.c by prof. Okumura is confirmed to\n\t  be public domain.  reverted BSD implementation.\n\nWed Jul  6 11:15:21 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (open_ifs_socket): new function.\n\n\t* win32/win32.c (StartSockets, rb_w32_socket): use open_ifs_socket()\n\t  instead of socket().\n\t  all changes are derived from [ruby-core:5388].\n\nWed Jul  6 00:15:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/{nkf.c,utf8tbl.c,config.h}:\n\t  imported nkf.c 1.70 (support UTF-8-MAC)\n\n\t* ext/nkf/lib/kconv.rb: add :utf8mac and :internalunicode\n\nTue Jul  5 23:44:06 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb: expand source library path.\n\nTue Jul  5 23:27:14 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (sort_2): get rid of yet another bcc's bug.\n\t  fixed: [ruby-core:05152]\n\n\t* eval.c (rb_thread_save_context): must not switch contexts during\n\t  re-allocating stack.  fixed: [ruby-core:05219]\n\nTue Jul  5 15:15:10 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil.c: fix typo.\n\nTue Jul  5 14:52:56 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: bug fix on treating Unicode strings.\n\n\t* ext/tk/tcltklib.c: add methods to treat encoding mode.\n\n\t* ext/tk/MANUAL_tcltklib.eng: add description of TclTkLib#encoding,\n\t  encoding_system, and so on.\n\n\t* ext/tk/MANUAL_tcltklib.eucj: ditto.\n\n\t* ext/tk/tkutil/tkutil.c: fail to create a Tcl's list string from\n\t  an array including multiple kind of encoded strings.\n\n\t* ext/tk/lib/tk.rb: ditto.\n\n\t* ext/tk/lib/multi-tk.rb: 2nd arg of _{to|from}UTF8 is omissible.\n\n\t* ext/tk/lib/remote-tk.rb: ditto.\n\n\t* ext/tk/lib/tk.rb: override TclTkLib#encoding and encoding= to\n\t  use TkCore::INTERP.encoding and encoding=.\n\n\t* ext/tk/lib/tk.rb: when \"require 'tk'\" and $KCODE=='NONE', check\n\t  DEFAULT_TK_ENCODING to decide Ruby/Tk's system encoding mode.\n\n\t* ext/tk/lib/tk/encodedstr.rb: check both of Tk.encoding and\n\t  Tk.encoding_system. Tk.encoding has higher priority.\n\n\t* ext/tk/lib/tk/optiondb.rb: ditto.\n\n\t* ext/tk/lib/tk/spinbox.rb: ditto.\n\n\t* ext/tk/lib/tk/validation.rb: ditto.\n\n\t* ext/tk/lib/tk/namespace.rb: arguemnts for TclTkIp#_merge_tklist\n\t  should be UTF-8 strings.\n\nMon Jul  4 19:29:32 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/set.rb: test change to follow revision 1.28. (duck typing?)\n\nMon Jul  4 11:23:50 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/{dbm,gdbm,sdbm}/test_{dbm,gdbm,sdbm}.rb: skip some tests\n\t  which using fork on fork-less platforms.\n\nSun Jul  3 23:26:30 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/wsdl/document/test_rpc.rb: compare formatted time string of\n\t  Time objects instead of comparing Time objects itself to avoid\n\t  unintended conflict of usec part.  [ruby-dev:26220]\n\nSat Jul  2 22:41:04 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c (unix_send_io, unix_recv_io): support x86-64 and\n\t  IA64.\n\nSat Jul  2 17:06:23 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* defines.h (FLUSH_REGISTER_WINDOWS): defined for IA64.\n\t  (flush_register_windows): declare flush_register_windows.\n\n\t* eval.c (flush_register_windows): new function.\n\n\t* ruby.h (NOINLINE): move up to be effective in defines.h.\n\nSat Jul  2 15:19:41 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: check select_large_fdset.\n\n\t* eval.c: use select_large_fdset to support large file descriptors\n\t  on Solaris.  [ruby-dev:26404]\n\nFri Jul  1 17:55:08 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_neg): may be accessing bogus pointer value.\n\nFri Jul  1 15:50:12 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* missing/erf.c: need to include some headers for some platforms.\n\n\t* win32/win32.h (copysign, scalb): define for compatibility with\n\t  other platforms. [ruby-dev:26430]\n\nFri Jul  1 15:37:42 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/crypt.c: modified to make it compilable on platforms\n\t  other than BSD.  [ruby-dev:26430]\n\n\t* missing/erf.c: ditto.  code from <exp.c> merged.\n\nFri Jul  1 12:44:56 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_http): refine post_connection_check\n\t  call.\n\nFri Jul  1 11:34:08 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/crypt.c: replaced with 4.4BSD version.\n\n\t* missing/erf.c: ditto.\n\n\t* missing/vsnprintf.c: removed the third provision from the old\n\t  BSD license.  [ruby-core:05177]\n\nFri Jul  1 01:45:21 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_min, enum_max): must not return Qundef.\n\t  fixed: [ruby-core:05299]\n\nFri Jul  1 00:18:40 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator::respond_to): respond_to? must check\n\t  destination object.  [ruby-talk:146894]\n\nThu Jun 30 23:52:12 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (trap): non-string trap hander was ignored.\n\t  fixed: [ruby-dev:26417]\n\nThu Jun 30 19:00:21 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex::identify_number): alternative implements\n\t  for [ruby-dev:26410]. And support a numeric form of 0d99999.\n\nThu Jun 30 17:28:10 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex::identify_number): should not treat\n\t  plain zero as an octal number.  [ruby-dev:26410]\n\nThu Jun 30 15:13:16 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): pre-evaluate argument for unambiguous\n\t  evaluation order.  [ruby-dev:26383]\n\nThu Jun 30 14:48:23 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/http.rb (Net::HTTP#connect, Net::HTTP#request): should\n\t  not send proxy username and password to origin servers.\n\t  [ruby-dev:25673]\n\n\t* lib/net/http.rb (Net::HTTP::ProxyDelta#edit_path): should not\n\t  send HTTPS scheme URL to origine servers. [ruby-dev:25689]\n\nThu Jun 30 09:53:56 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (Delegator::method_missing): forward unknown\n\t  method to the destination.  suggested by\n\t  <christophe.poucet@gmail.com>.  [ruby-talk:146776]\n\nWed Jun 29 00:03:20 2005  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* regparse.c (fetch_token): avoid warning of unused goto tag.\n\t  [ruby-dev:26389]\n\nTue Jun 28 21:59:29 2005  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* dir.c, eval.c, parse.y, process.c, ruby.c: avoid warning \"unused\n\t  variable\" [ruby-dev:26387]\n\n\t* dir.c (glob_helper): avoid warning \"enumeration value `RECURSIVE'\n\t  not handled in switch\" [ruby-dev:26392]\n\nTue Jun 28 01:52:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb: add Kconv::VERSION\n\t* ext/nkf/lib/kconv.rb (conv): can process arrayed options\n\t* ext/nkf/nkf-utf8/nkf.c: imported Revision 1.69\n\t* ext/nkf/nkf-utf8/utf8tbl.c: imported Revision 1.9\n\nSat Jun 25 23:30:51 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (detach_process_watcher): terminate process watcher\n\t  thread right after rb_waitpid() succeed.  [ruby-talk:146430]\n\nSat Jun 25 17:12:20 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.parse_query): should\n\t  discard if key=val pair is empty. patch from Gary Wright.\n\nSat Jun 25 15:49:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_min, enum_max, enum_min_by, enum_max_by): do not ignore\n\t  nil as the first element.\n\nSat Jun 25 15:13:54 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/set.rb (Set#==): [ruby-dev:25206] (ported from ruby_1_8 branch)\n\nSat Jun 25 11:37:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb: remove constants\n\t  Iconv_Shift_JIS, Uconv_EUC_JP, Iconv_UTF8\n\t* ext/nkf/lib/kconv.rb: add module functions to Kconv\n\t  conv, {eucjp, shiftjis, utf8}?, guess_as_symbol\n\t* ext/nkf/lib/kconv.rb: add instance methods to String\n\t  conv, {eucjp, shiftjis, utf8}?\n\t* ext/nkf/lib/kconv.rb: add aliases Kconv.to_* and String#to_*\n\nFri Jun 24 17:00:00 2005  Shigeo Kobayashi  <shigeo@tinyforest.jp>\n\n\t* ext/bigdecimal/bigdecimal.c: patch from \"NATORI Shin\"\n\t  (u-tokyo.ac.jp) applied to fix rounding bug.\n\nFri Jun 24 13:17:45 2005  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/common.rb, lib/uri/generic.rb: fixed typo in documents and\n\t  replaced some existent domain name with \"example.com\".\n\nFri Jun 24 12:23:19 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: fix typo on Tk.grid_propagate.\n\n\t* ext/tk/lib/tk.rb: Tk.event_generate and TkWindow#event_generate\n\t  accept TkEvent::Event object as context argument.\n\n\t* ext/tk/lib/tk/event.rb: add TkEvent::Event#valid_fields and\n\t  valid_for_generate to get field parameters of event_generate.\n\nThu Jun 23 23:55:59 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* runruby.rb: should load built rbconfig.rb.\n\nThu Jun 23 16:53:15 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/canvastag.rb: TkcGroup.new cannot include given items.\n\t  TkcGroup#exclude calls wrong method.\n\t  Add alias TkcGroup#add [ruby-talk:146049].\n\n\t* ext/tk/lib/tk/canvas.rb: TkCanvas#dtag and some subcommands of\n\t  TkCanvas#addtag fail to treat a TkcTag argument.\n\n\t* ext/tk/lib/tk/event.rb: add TkEvent::Event#generate to help to send\n\t  current event to other widgets.\n\nMon Jun 20 18:44:04 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (FUNCTION_CALL_MAY_RETURN_TWICE): DUMMY_SETJMP is replaced\n\t  because setjmp is not enough to fix getcontext and SPARC register\n\t  window problem.\n\nMon Jun 20 17:15:51 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/dbm/dbm.c (fdbm_closed): new method DBM#closed?\n\n\t* ext/gdbm/gdbm.c (fgdbm_closed): new method GDBM#closed?\n\n\t* ext/sdbm/init.c (fsdbm_closed): new method SDBM#closed?\n\n\t* test/dbm/test_dbm.rb, test/gdbm/test_gdbm.rb, test/sdbm/test_sdbm.rb\n\t  (teardown): close all db objects before deleting data files.\n\n\t* win32/win32.{ch} (unlink): hook runtime function to change\n\t  file attribute before unlinking.\n\t  merge from 1.8, see [ruby-dev:26360]\n\nMon Jun 20 02:15:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (define_final): document fix: finalizers never get called\n\t  before target object is destroyed.\n\nMon Jun 20 01:26:49 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/openssl_missing.c, ext/openssl/ossl.h,\n\t  ext/openssl/ossl_asn1.c, ext/openssl/ossl_bio.c,\n\t  ext/openssl/ossl_pkcs12.h, ext/openssl/ossl_x509req.c: avoid\n\t  compiler warnings. suggested by Michal Rokos.\n\nSun Jun 20 00:22:02 2005  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* lib/xmlrpc/utils.rb: Patch by Nobuhiro IMAI fixes the following\n\t  problem: Default value modification on\n\t  Module#public_instance_methods (false -> true) breaks\n\t  s.add_handler(XMLRPC::iPIMethods(\"sample\"), MyHandler.new) style\n\t  security protection.\n\n\t* lib/xmlrpc/client.rb: Aliased XMLRPC::Client#new2 as\n\t  XMLRPC::Client#new_from_uri, and #new3 as #new_from_hash.\n\nSun Jun 19 14:09:07 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (run_final): reduce unnecessary object allocation during\n\t  finalization.\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): deferred finalizers list should\n\t  be cleared before calling them.  fixed: [ruby-talk:145790]\n\nSat Jun 18 01:15:36 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_readline): do not set\n\t  rl_{in,out}stream.\n\n\t* ext/readline/readline.c (readline_s_set_input): new method.\n\n\t* ext/readline/readline.c (readline_s_set_output): new method.\n\n\t* lib/irb/input-method.rb: set Readline.input and Readline.output.\n\nFri Jun 17 13:01:40 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/time.rb (Time.parse): fix previous leap seconds support.\n\t  (Time.rfc2822): ditto.\n\t  (Time.xmlschema): ditto.\n\nThu Jun 16 15:41:32 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (load_file): '!' is already read. reported by gotoyuzo.\n\nThu Jun 16 15:09:38 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c (ip_rb_threadVwaitCommand): Tcl_Release\n\t  was missing.\n\nThu Jun 16 13:34:48 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add Tk.getMultiple{Open|Save}File() which return\n\t  an Array of selected files.\n\nThu Jun 16 12:53:24 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/time.rb (Time.parse): \"Fri Jan  1 08:59:60 +0900 1999\" was\n\t  parsed as \"Fri Jan 01 09:00:00 JST 1999\" even on an environment\n\t  which supports leap seconds.\n\t  (Time.rfc2822): ditto.\n\t  (Time.xmlschema): ditto.\n\nThu Jun 16 00:13:41 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Resource#ttl): new attribute.\n\t  (Resolv::DNS::Resource#==): ignore @ttl.\n\t  (Resolv::DNS::Resource#hash): ditto.\n\t  (Resolv::DNS::Message::MessageDecoder#get_rr): save TTL in a\n\t  Resource object.\n\t  based on [ruby-core:5190] by Eric Hodel.\n\nWed Jun 15 18:26:39 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: support \"tk inactive\" sub-command [for Tcl/Tk8.5a3]\n\n\t* ext/tk/lib/tk/namespace.rb: support \"namespace path\" sub-command and\n\t  'namespace ensemble' sub-command [for Tcl/Tk8.5a3]\n\nTue Jun 14 02:02:43 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil/tkutil.c: add TkUtil::CallbackSubst.subst_arg(m, ...)\n\t  & _define_attribute_aliases(hash) to get substitution-argument from\n\t  attributes (e.g. subst_arg(:x,:y,:num,:button) --> \"%x %y %b %b \").\n\n\t* ext/tk/lib/tk/event.rb: use _define_attribute_aliases().\n\nMon Jun 13 13:03:08 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* hash.c (ruby_setenv): fixed SEGV. [ruby-dev:26186]\n\nMon Jun 13 01:54:20 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (sigexit): call rb_thread_signal_exit() instead of\n\t  rb_exit().  [ruby-dev:26347]\n\n\t* eval.c (rb_thread_signal_exit): a new function to exit on main\n\t  thread.\n\n\t* eval.c (rb_thread_switch): exit status should be retrieved from\n\t  ruby_errinfo.\n\n\t* eval.c (rb_f_exit): ensure exit(0) should call\n\t  exit(EXIT_SUCCESS).\n\nMon Jun 13 01:20:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_gc_mark_threads): curr_thread may not be part of the\n\t  thread list.  [ruby-dev:26312]\n\nSat Jun 11 22:34:44 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y: missing arg_paren event.  This patch is contributed by\n\t  Mitchell N Charity.\n\nFri Jun 10 23:55:17 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (unknown_node): show more information.  [ruby-dev:26196]\n\nFri Jun 10 23:35:34 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* missing/mkdir.c: remove. [ruby-core:05177]\n\nFri Jun 10 22:54:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing.h: fd_set stuffs need sys/types.h.  fixed: [ruby-core:05179]\n\nThu Jun  9 23:58:12 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/Win32API/Win32API.c (Win32API_Call): disable global\n\t  optimization. fixed: [ruby-core:05143]\n\nThu Jun  9 23:35:22 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_inject): default the result value to Qundef to use\n\t  first element as initial value if not given.\n\nThu Jun  9 19:55:41 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (ruby_longjmp): new macro to call longjmp, setcontext, etc.\n\t  (ruby_setjmp): new macro to call setjmp, getcontext, etc.\n\t  (ruby_setjmp): call setjmp before getcontext to avoid IA64 register\n\t  stack problem.\n\t  [ruby-talk:144939]\n\n\t* gc.c (Init_stack): remove IA64_MAGIC_STACK_LIMIT.\n\nThu Jun  9 18:24:16 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in, eval.c, gc.c: use libunwind only on HP-UX.\n\t  [ruby-dev:26297]\n\nThu Jun  9 14:46:32 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (env_aset): do not treat nil as key-removing value.\n\t  [ruby-list:40865]\n\n\t* parse.y (method_call): allow aref expression ([]) to take a\n\t  block.\n\n\t* parse.y (block_dup_check): a function to check duplication of\n\t  a block argument and an actual block.\n\nThu Jun  9 11:55:34 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (SimpleDelegator::__setobj__): need check for\n\t  recursive delegation.  [ruby-core:04940]\n\nThu Jun  9 11:50:43 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb: add underscore aliases CGI::escape_html,\n\t  CGI::unescape_html, CGI::escape_element, CGI::unescape_element.\n\t  [ruby-core:05058]\n\nWed Jun  8 18:47:10 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-expr-beg): fix looking point drift.\n\nWed Jun  8 12:25:59 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_nitems): add the block feature to Array#nitems.\n\t  suggested by Bertram Scharpf <lists@bertram-scharpf.de> in\n\t  [ruby-talk:134083].\n\nWed Jun  8 11:11:34 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (get2comp): revert all prior changes, and calculate\n\t  proper 2's complement for negative numbers.\n\nWed Jun  8 08:33:10 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (enum_min_by, enum_max_by): return nil if no iteration.\n\t  fixed: [ruby-dev:26245]\n\n\t* eval.c (rb_need_block): ensure a block is given.\n\n\t* eval.c (backtrace): skip successive frames sharing same node.\n\nWed Jun  8 01:27:06 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (bignorm): fixed a bug in normalizing negative numbers\n\t  reported from Honda Hiroki <hhonda@ipflex.com>.  normalizing\n\t  should not trim leading zeros from negative numbers.\n\n\t* bignum.c (rb_cstr_to_inum): must remove leading zeros for this\n\t  case.\n\nWed Jun  8 00:15:08 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_getaddrinfo__aix): merged a patch from\n\t  KUBO Takehiro <kubo at jiubao.org> to support AIX.  [ruby-list:40832]\n\nWed Jun  8 00:09:01 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb (Array::to_yaml): merged a patch from\n\t  Tilman Sauerbeck <tilman at code-monkey.de>.  [ruby-core:05055]\n\n\t* lib/yaml/rubytypes.rb (Hash::to_yaml): ditto.\n\nWed Jun  8 00:00:01 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/curses/curses.c (curses_insertln): merged a patch from\n\t  TAKAHASHI Tamotsu <ttakah at lapis.plala.or.jp>.  [ruby-ext:02305]\n\nTue Jun  7 19:34:15 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/init.rb (IRB::IRB.rc_file_generators): more flexible\n\t  IRB.rc_file_generators.  [ruby-core:05163]\n\nTue Jun  7 18:39:31 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/thread.rb: RDoc documentation from Eric Hodel\n\t  <drbrain@segment7.net> added.  [ruby-core:05148]\n\nTue Jun  7 18:30:04 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): add .SUFFIXES from depend file.\n\t  fixed: [ruby-dev:26294]\n\nTue Jun  7 17:20:39 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): allow ';;' to be block terminator in\n\t  place of 'end'.  [highly experimental]\n\n\t* misc/ruby-mode.el (ruby-block-end-re): allow ';;' to be a\n\t  negative indent trigger.  [highly experimental]\n\n\t* parse.y (parser_yylex): small error fixed.\n\nTue Jun  7 16:45:49 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): \"respond_to?:foo\" should be interpreted\n\t  as \"respond_to? :foo\" at the command level.  [ruby-talk:144303]\n\nTue Jun  7 16:32:53 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): raise exception on debug mode (-d),\n\t  not verbose mode (-v/-w).  [ruby-core:05123]\n\n\t* sprintf.c (rb_f_sprintf): warn always on verbose mode.\n\nTue Jun  7 10:30:49 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: slave-ip fails to call procedures\n\t  delegated by master-ip.\n\nMon Jun  6 16:35:18 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/ripper/depend: add .y to .SUFFIXES for nmake.\n\nSun Jun  5 23:00:35 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/console.rb: create console when required\n\n\t* ext/tk/sample/tkextlib/tile/demo.rb: fix TypeError & create Console\n\nSun Jun  5 10:23:52 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* signal.c (ruby_signal): don't set SA_RESTART.\n\t  [ruby-dev:26276]\n\nSat Jun  4 14:55:18 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* test/dbm/test_dbm.rb: merged from ext/dbm/testdbm.rb.\n\n\t* test/gdbm/test_gdbm.rb: merged from ext/gdbm/testgdbm.rb.\n\n\t* test/sdbm/test_sdbm.rb: renamed from ext/sdbm/testsdbm.rb with\n\t  modification to use test/unit.\n\nFri Jun  3 23:23:02 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (rb_fdset_t): deal with fd bit sets over FD_SETSIZE.\n\t  fixed: [ruby-dev:26187]\n\n\t* eval.c (rb_fd_init, rb_fd_term, rb_fd_zero, rb_fd_set, rb_fd_clr,\n\t  rb_fd_isset, rb_fd_copy): ditto.\n\n\t* io.c (rb_io_wait_readable, rb_io_wait_writable, rb_f_select): ditto.\n\n\t* ext/io/wait/wait.c (io_wait): ditto.\n\n\t* ext/socket/socket.c (wait_connectable, unix_recv_io): ditto.\n\nFri Jun  3 14:06:12 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: fix typo.\n\nThu Jun  2 23:42:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y: pragma support on ripper.  [ruby-dev:26266]\n\nThu Jun  2 00:02:16 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* struct.c: accessing >10 member caused segmentation fault.\n\t  [ruby-dev:26247]\n\n\t* test/ruby/test_struct.rb: test it.\n\nWed Jun  1 11:30:09 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: can use single quote character in DESTDIR.\n\t  [ruby-dev:26205]\n\n\t* bcc32/Makefile.sub: Dir.glob in 1.9 doesn't treat \\ as path separator.\n\t  [ruby-dev:26254]\n\nWed Jun  1 00:11:06 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (method_call): new experiment: \"(expr)(args...)\" to\n\t  invoke \"expr.call(args...)\".  [EXPERIMENTAL]\n\nTue May 31 23:43:41 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (command): revert implicit \"call\" for local variables.\n\nTue May 31 15:52:45 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): should\n\t  break the loop if the socket reached to EOF. [ruby-talk:142285]\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): send response\n\t  without reading the whole request body if keep-alive is diabled.\n\t  [experimental]\n\nMon May 30 23:48:29 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/macpkg.rb: add PACKAGE_NAME information of Tcl/Tk\n\t  Extension.\n\n\t* ext/tk/lib/tk/msgcat.rb: ditto.\n\n\t* ext/tk/lib/tk/winpkg.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/*: ditto.\n\nSat May 28 16:39:21 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/openssl/test_x509store.rb: add test for expired CRL\n\t  and refine some assertions.\n\nSat May 28 05:15:44 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509store.c (ossl_x509stctx_set_time): should\n\t  not set internal flag directry.\n\nSat May 28 02:00:11 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI::Socket#request_line):\n\t  ENV[\"REQUEST_URI\"] is better to get correct Request-URI\n\t  than ENV[\"SCRIPT_NAME\"] + ENV[\"PATH_INFO\"].  [ruby-dev:26235]\n\nFri May 27 16:32:04 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/mkmf.rb: use the semicolon as the path separator\n\t  in the environment of MSYS.  fixed: [ruby-dev:26232]\n\nThu May 26 20:31:21 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_entry_secure): add documentation.\n\n\t* lib/fileutils.rb (remove_entry_secure): should not invoke\n\t  unlink(2) against a directory.\n\nThu May 26 08:29:19 2005  Akiyoshi, Masamichi  <akiyoshi@hp.com>\n\n\t* vms/vmsruby_private.c, vms/vmsruby_private.h: private routines\n\t  for VMS port are added.\n\n\t* eval.c (ruby_init): change to call VMS private intialization routine.\n\nThu May 26 07:39:07 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (rm_r): use lchown(2), not chown(2).\n\t  [ruby-dev:26226]\n\n\t* lib/fileutils.rb (cd): remove :noop option. (feature change)\n\n\t* lib/fileutils.rb (cp_r): should copy symlink as symlink, for\n\t  also tree root. (feature change)\n\n\t* lib/fileutils.rb (cp_r): new option :dereference_root.\n\n\t* lib/fileutils.rb: new method remove_entry.\n\n\t* lib/fileutils.rb: new method remove_entry_secure.\n\n\t* lib/fileutils.rb: add documentation.\n\nThu May 26 06:08:11 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add shortcut-methods of tk_call + tk_split_list\n\nWed May 25 20:06:27 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: TkComm#tk_split_*list fail to split a kind of SJIS\n\t  strings. To avoid the trouble, add arguments to control converting\n\t  encoding, and do split on a UTF8 string.\n\n\t* ext/tk/lib/multi-tk.rb: modify to attend encoding.\n\n\t* ext/tk/lib/remote-tk.rb: ditto.\n\n\t* ext/tk/lib/tk/itemconfig.rb: ditto.\n\n\t* ext/tk/lib/tk/listbox.rb: ditto.\n\n\t* ext/tk/lib/tk/namespace.rb: ditto.\n\n\t* ext/tk/lib/tk/panedwindow.rb: ditto.\n\n\t* ext/tk/lib/tk/text.rb: ditto.\n\n\t* ext/tk/lib/tk/textmark.rb: ditto.\n\n\t* ext/tk/lib/tk/texttag.rb: ditto.\n\n\t* ext/tk/lib/tk/variable.rb: ditto.\n\n\t* ext/tk/lib/tk/winfo.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/iwidgets/scrolledlistbox.rb: ditto.\n\n\t* ext/tk/lib/tkextlib/iwidgets/scrolledtext.rb: ditto.\n\n\t* ext/tk/lib/tk.rb: add TkWindow#lower_window/raise_window and\n\t  Tk#lower_window/raise_window by reason of method-name conflict\n\n\t* ext/tk/lib/tk/canvas.rb: bug fix on TkCanvas#delete when given\n\t  non-TkcItem arguments.\n\n\t* ext/tk/lib/tkextlib/iwidgets/scrolledcanvas.rb: ditto.\n\nWed May 25 19:48:12 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (rm_r): does chown(2). [ruby-dev:26199]\n\nWed May 25 12:59:48 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI::Meta::RE_QUOTED_STRING): a content of\n\t  quoted-string should be zero or more characters.\n\nTue May 24 23:42:16 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (fix_pow): support Fixnum ** Float case directly\n\t  without coercing.  [ruby-talk:142697] [ruby-talk:143054]\n\nTue May 24 16:57:24 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.c (require_libraries): caused SEGV when continuation jumped\n\t  in to the required library code.\n\nTue May 24 17:45:59 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/readline/test_readline.rb: do not test libedit.\n\t  fixed: [ruby-dev:26217]\n\nTue May 24 06:45:31 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-font-lock-syntactic-keywords): string\n\t  literals to be matched non-greedy.\n\nTue May 24 00:39:14 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/calc: method name 'set' was able to crash with a class Set.\n\t  [ruby-dev:26210]\n\n\t* test/wsdl/document/test_rpc.rb: dateTime comparison failed under\n\t  TZ=right/Asia/Tokyo (with leap second.) [ruby-dev:26208]\n\nMon May 23 16:23:06 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/extconf.rb: Framework support on MacOS X Tiger.\n\n\t* ext/tk/README.tcltklib: add description of Framework support options.\n\nMon May 23 15:07:34 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub ($(PROGRAM)): add dependency on $(LIBRUBY_SO).\n\t  [experimental]\n\nMon May 23 12:21:37 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (make_regexp): should not return junk address during\n\t  compile time.  [ruby-dev:26206]\n\nSun May 22 21:54:06 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/{soap,wsdl,xsd}, test/{soap,wsdl,xsd}: imported soap4r/1.5.4.\n\n\t  == SOAP client and server ==\n\n\t  === for both client side and server side ===\n\n\t  * improved document/literal service support.\n\t    style(rpc,document)/use(encoding, literal) combination are all\n\t    supported.  for the detail about combination, see\n\t    test/soap/test_style.rb.\n\n\t  * let WSDLEncodedRegistry#soap2obj map SOAP/OM to Ruby according to\n\t    WSDL as well as obj2soap.  closes #70.\n\n\t  * let SOAP::Mapping::Object handle XML attribute for doc/lit service.\n\t    you can set/get XML attribute via accessor methods which as a name\n\t    'xmlattr_' prefixed (<foo name=\"bar\"/> -> Foo#xmlattr_name).\n\n\t  === client side ===\n\n\t  * WSDLDriver capitalized name operation bug fixed.  from\n\t    1.5.3-ruby1.8.2, operation which has capitalized name (such as\n\t    KeywordSearchRequest in AWS) is defined as a method having\n\t    uncapitalized name. (converted with GenSupport.safemethodname\n\t    to handle operation name 'foo-bar').  it introduced serious\n\t    incompatibility; in the past, it was defined as a capitalized.\n\t    define capitalized method as well under that circumstance.\n\n\t  * added new factory interface 'WSDLDriverFactory#create_rpc_driver'\n\t    to create RPC::Driver, not WSDLDriver (RPC::Driver and WSDLDriver\n\t    are merged).  'WSDLDriverFactory#create_driver' still creates\n\t    WSDLDriver for compatibility but it warns that the method is\n\t    deprecated.  please use create_rpc_driver instead of create_driver.\n\n\t  * allow to use an URI object as an endpoint_url even with net/http,\n\t    not http-access2.\n\n\t  === server side ===\n\n\t  * added mod_ruby support to SOAP::CGIStub.  rename a CGI script\n\t    server.cgi to server.rb and let mod_ruby's RubyHandler handles the\n\t    script.  CGIStub detects if it's running under mod_ruby environment\n\t    or not.\n\n\t  * added fcgi support to SOAP::CGIStub.  see the sample at\n\t    sample/soap/calc/server.fcgi.  (almost same as server.cgi but has\n\t    fcgi handler at the bottom.)\n\n\t  * allow to return a SOAPFault object to respond customized SOAP fault.\n\n\t  * added the interface 'generate_explicit_type' for server side\n\t    (CGIStub, HTTPServer).  call 'self.generate_explicit_type = true'\n\t    if you want to return simplified XML even if it's rpc/encoded\n\t    service.\n\n\t  == WSDL ==\n\n\t  === WSDL definition ===\n\n\t  * improved XML Schema support such as extension, restriction,\n\t    simpleType, complexType + simpleContent, ref, length, import,\n\t    include.\n\n\t  * reduced \"unknown element/attribute\" warnings (warn only 1 time for\n\t    each QName).\n\n\t  * importing XSD file at schemaLocation with xsd:import.\n\n\t  === code generation from WSDL ===\n\n\t  * generator crashed when there's '-' in defined element/attribute\n\t    name.\n\n\t  * added ApacheMap WSDL definition.\n\n\t* sample/{soap,wsdl}: removed.\n\nSun May 22 19:11:35 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SSLServer#intialize):\n\t  should initialize session id context. [ruby-core:4663]\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_setup): add session id support.\n\nSun May 22 12:30:58 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h, parse.y (ruby_pragma): removed.  fixed: [ruby-dev:26198]\n\n\t* parse.y (parser_pragma): pragma name was ignored.\n\nSun May 22 02:39:57 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (rm_r): new option :secure to avoid\n\t  time-to-check-to-time-to-use security problem.  [ruby-dev:26100]\n\n\t* lib/fileutils.rb (remove_file, remove_dir): try chmod(700) only\n\t  on Windows.\n\n\t* lib/fileutils.rb: does not depend on find.rb.\n\n\t* lib/fileutils.rb: new method chmod_R.\n\n\t* lib/fileutils.rb (chown_R): did not work.\n\nSat May 21 10:23:21 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: tds files were not deleted when DESTDIR\n\t  included '\\' path delimiter. [ruby-dev:26193]\n\nFri May 20 15:52:18 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_attempted_completion_function):\n\t  return 2 items if completion_proc returns only 1 item (for libedit).\n\nFri May 20 01:24:33 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/extconf.rb: check rl_vi_editing_mode() and\n\t  rl_emacs_editing_mode().\n\nThu May 19 23:33:09 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/readline.c: supported libedit. fixed: [ruby-core:4858]\n\n\t* ext/readline/extconf.rb: added new option --enable-libedit.\n\n\t* test/readline/test_readline.rb: added assertions for\n\t  Readline::HISTORY.\n\n\t* lib/irb/input-method.rb: do not use Readline::HISTORY.pop.\n\nWed May 18 23:42:25 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (exc_exception): reverted to call Exception#initialize\n\t  directly.  fixed: [ruby-dev:26177]\n\nWed May 18 17:38:51 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* dir.c (glob_helper): check whether path is \"\" before calling\n\t  do_opendir.  [ruby-dev:26183]\n\nWed May 18 13:40:48 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (NtInitialize): fix typo.\n\nWed May 18 11:07:47 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (glob_helper): get rid of using String.  [ruby-dev:26180]\n\n\t* eval.c (ruby_options), win32/win32.c (NtInitialize): move argument\n\t  intialization back.  [ruby-dev:26180]\n\nTue May 17 11:49:18 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (unixtime_to_filetime): use localtime() instead of\n\t  gmtime() when using FileLocalTimeToFileTime().\n\nMon May 16 22:42:52 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.h, {bcc32,win32,wince}/Makefile.sub: moved rb_[ugp]id_t\n\t  to get rid of redefinition warnings on mingw.\n\n\t* class.c (rb_class_init_copy): singleton class is disallowed to copy,\n\t  from its definition.  fixed: [ruby-talk:142749]\n\n\t* parse.y (pragma_encoding): add prototype to suppress false warning\n\t  by VC.\n\n\t* process.c (proc_spawn_v): use rb_w32_aspawn on Win32.\n\nMon May 16 03:29:01 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.{h,c}: define rb_[pgu]id_t.\n\nMon May 16 00:21:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#unlink): use SystemCallError instead of\n\t  Errno::EISDIR because EISDIR is not portable.\n\t  [ruby-core:5001]\n\nSun May 15 22:28:10 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRbObject#method_missing): use raise(exception).\n\t  [ruby-dev:26164]\n\nSun May 15 18:56:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, ruby.h: define rb_[pgu]id_t macros instead of typedefs\n\t  to get rid of types which might not be defined yet.  [ruby-dev:26165]\n\nSun May 15 14:35:46 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#unlink): unlink a symlink to a directory\n\t  was failed.  [ruby-core:4992]\n\nSun May 15 09:57:30 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (unixtime_to_filetime): deal with DST.\n\t  [ruby-talk:141817]\n\nSat May 14 23:59:11 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (exc_exception, {exit,name_err,syserr}_initialize): call\n\t  Execption#initialize.  fixed: [ruby-talk:142593]\n\nSat May 14 23:56:41 2005  Erik Huelsmann  <ehuels@gmail.com>\n\n\t* configure.in: Check for the availability of pid_t, gid_t and uid_t and\n\t  remove AC_TYPE_UID_T.  fixed: [ruby-core:04745]\n\n\t* defines.h: Remove pid_t typedef.\n\n\t* ruby.h: Define rb_pid_t, rb_gid_t and rb_uid_t in accordance with\n\t the available system types.\n\n\t* process.c: Change instances of pid_t and gid_t to their rb_*\n\t counterparts.\n\n\t* ext/pty/pty.c: Change pid_t to rb_pid_t.\n\n\t* vms/config.h: Define HAVE_{P,G,U}ID_T to 1.\n\n\t* win32/Makefile.sub: Remove #define for {g,u}id_t.\n\n\t* win32/win32.c: Change pid_t to rb_pid_t.\n\n\t* wince/Makefile.sub: Remove #define for {g,u}id_t.\n\n\t* wince/sys/types.h: Remove definitions of {p,g,u}id_t.\n\nSat May 14 11:47:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (ruby_pragma): prototype.  [ruby-core:04881]\n\n\t* parse.y (parser_pragma): parse Emacsen hack.\n\n\t* parse.y (parser_prepare): deal with specific syntax at the top.\n\n\t* ruby.c (load_file): read the first line iff it started with shebang.\n\nFri May 13 23:44:22 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: keep srcdir unexpanded.\n\n\t* lib/mkmf.rb (create_makefile): quote topdir and hdrdir if necessary.\n\t  fixed: [ruby-core:04932]\n\n\t* lib/mkmf.rb (configuration), {bcc32,win32,wince}/Makefile.sub: make\n\t  also INSTALL_PROG and INSTALL_DATA system dependent.\n\t  fixed: [ruby-core:04931]\n\nFri May 13 23:32:55 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (unknown_node): add volatile directive to prototype.\n\nFri May 13 17:50:49 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* variable.c (generic_ivar_get): rb_attr_get should not warn.\n\t  [ruby-dev:26010]\n\nThu May 12 17:41:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow nkf 2.0.5\n\nThu May 12 16:50:40 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/rdoc/parsers/parse_c.rb: more readability for mixing\n\t  progress \"c...\" and warning message.\n\nThu May 12 15:50:56 2005  Tilman Sauerbeck  <tilman@code-monkey.de>\n\n\t* lib/rdoc/parsers/parse_c.rb: show parsing progress for C files.\n\t  [ruby-core:4341]\n\nThu May 12 09:53:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* version.c (ruby_show_version): flush for non-tty stdout.\n\nThu May 12 01:23:55 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (unknown_node): ignore broken NODE to get rid of accessing\n\t  possibly inaccessible address.  fixed: [ruby-dev:26122]\n\t  should emit more useful information like [ruby-dev:26126], though.\n\nWed May 11 15:58:39 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (break_jump): break should not cross functions.\n\t  [ruby-list:40818]\n\nWed May 11 10:41:54 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/tempfile.rb (Tempfile#unlink): fixed typo.\n\nWed May 11 01:03:36 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (TMP_ALLOC): use macro NEW_NODE() to get rid of warnings on\n\t  platforms which have no alloca().  fixed: [ruby-talk:141301]\n\nSun May  8 23:17:47 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb: fix typo.\n\nSun May  8 21:00:50 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* hash.c (Init_Hash): remove custom \"hash\" and \"eql?\".\n\t  (ported from 1.8) [ruby-dev:26132]\n\nSun May  8 16:50:25 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/profiler.rb: fixed \"undefined method `[]' for nil:NilClass\"\n\t  [ruby-core:4775] [ruby-talk:140401] [ruby-dev:26118]\n\nSat May  7 22:58:00 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (have_var): no libs argument is given.\n\nFri May  6 08:08:37 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c:rb_hash_hash_i() should be static.  [ruby-core:04815]\n\n\t* re.c should include regint.h for declarations of oniguruma\n\t  functions.  [ruby-core:04815]\n\nSun May  1 09:15:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (process_sflag): replace '-' in variable names with '_'.\n\t  [ruby-dev:26107]\n\n\t* eval.c (rb_eval), parse.y (arg): reduce fixnum range literal at\n\t  parser.  fixed: [ruby-dev:26113]\n\nSat Apr 30 11:59:25 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_FUNC_ATTRIBUTE): check for function attribute.\n\t  [ruby-dev:26109]\n\n\t* eval.c, gc.c: moved noinline to configure.in.\n\n\t* rubyio.h (DEPRECATED): moved to configure.in.\n\n\t* ruby.h (DEPRECATED, NOINLINE): default definition.\n\n\t* win{32,ce}/Makefile.sub (config.h): deprecated and noinline for\n\t  __declspec() are available for VC++7 or later.\n\nSat Apr 30 06:57:39 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb: new methods WEBrick::CGI#[], WEBrick::CGI#logger\n\t  and WEBrick::CGI#config.  these are necessary to use an instance of\n\t  WEBrick::CGI as the first argument of HTTPServlet#get_instance.\n\t  (suggested by Tatsuki Sugiura)\n\n\t* lib/webrick/cgi.rb\n\t  (WEBrick::CGI#initalize): set a dummy to @config[:ServerSoftware]\n\t  if SERVER_SOFTWARE environment variable is not given.\n\t  (WEBrick::CGI#start): req.path_info must be a String.\n\t  (WEBrick::CGI::Socket#request_line): treat REQUEST_METHOD, PATH_INFO\n\t  and SCRIPT_NAME to run in console.\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.escape_path): should\n\t  not use String#split(\"/\"). it removes trailing empty path component.\n\nThu Apr 28 08:21:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (set_arg0): use also environment variable space for setting\n\t  $0.  [ruby-core:04774]\n\nWed Apr 27 23:42:22 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/Makefile.sub (OPTFLAGS): default global optimization to\n\t  disabled only for VC++6.\n\nTue Apr 26 22:58:00 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_invoke_core): call Tcl's \"::unknown\"\n\t  command when can't get information of target command.\n\nMon Apr 25 13:54:55 2005  speakillof  <speakillof@yahoo.co.jp>\n\n\t* lib/rexml/encodings/SHIFT-JIS.rb: encoding and decoding were\n\t  swapped. [ruby-core:4772]\n\nMon Apr 25 01:18:43 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* oniguruma.h (OnigWarnFunc): add a variadic argument.\n\t  [ruby-core:4751]\n\nSat Apr 23 19:49:21 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c (ip_RubyExitCommand): exit with status code\n\t  via TclTkIp#_eval didn't work. [ruby-talk:139390]\n\nSat Apr 23 11:45:29 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_provided): should check also path name to be loaded.\n\t  fixed: [ruby-dev:26093]\n\nFri Apr 22 16:55:35 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tcltklib.c (ip_set_exc_message): fixed memory leak.\n\n\t* ext/tk/tcltklib.c: eTkCallbackReturn was not initialized.\n\nThu Apr 21 06:45:28 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (ruby_incpush_expand, proc_options): expand relative path\n\t  given with -I option.  [ruby-dev:26090]\n\n\t* configure.in, lib/mkmf.rb, {bcc32,win32,wince}/Makefile.sub: improve\n\t  C++ support.  [ruby-dev:26089]\n\nThu Apr 21 01:53:09 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: add rdoc.\n\nThu Apr 21 00:07:50 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): support platforms have file separator\n\t  other than /.\n\n\t* {bcc32,win32,wince}/Makefile.sub (BUILD_FILE_SEPARATOR): separator\n\t  of building platform.\n\n\t* {bcc32,win32,wince}/Makefile.sub (CP, INSTALL): use COPY command.\n\nWed Apr 20 23:22:39 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.mk: miniruby depends on MINIOBJS.\n\n\t* dmydln.c (dln_load): dummy function to raise LoadError.\n\n\t* cygwin/GNUmakefile.in, {bcc32,win32,wince}/Makefile.sub: miniruby\n\t  can't load extensions on Windows.\n\nWed Apr 20 23:01:35 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/ifchange.bat: delete testing files.\n\nWed Apr 20 22:54:54 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: new method Net::HTTP.post_form.\n\n\t* lib/net/http.rb: new method Net::HTTPHeader#set_form_data and\n\t  its alias #form_data=.\n\n\t* lib/net/http.rb: Net::HTTPHeader#add_header -> add_field\n\t  (adjustted to Ruby 1.8).\n\nWed Apr 20 10:53:30 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_rb.rb (lex_init): use IRB module.\n\t  [ruby-core:04737]\n\nWed Apr 20 07:27:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/configure.bat, {bcc32,win32,wince}/setup.mak:\n\t  add extout option.\n\n\t* bcc32/setup.mak: make configuration variables overridable.\n\nTue Apr 19 23:37:09 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/ftools.rb (File.safe_unlink): do not modify a symlinked file.\n\nTue Apr 19 23:02:40 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (search_required): deal with features with path too.\n\n\t* intern.h (rb_file_expand_path): prototype.  fixed: [ruby-dev:26082]\n\nTue Apr 19 08:38:07 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (search_required, rb_require_safe): expand path in\n\t  rb_features.  [ruby-dev:26079]\n\n\t* file.c (rb_find_file_ext): return absolute path.\n\n\t* ext/extmk.rb: expand path for ext/**/extconf.rb.\n\n\t* eval.c (search_required): handle static linked extensions.\n\nMon Apr 18 15:37:35 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_attr): attribute name check added.\n\n\t* numeric.c (flo_plus): small typo fix.\n\nMon Apr 18 11:25:14 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/zlib/zlib.c (zstream_run): fixed SEGV. [ruby-core:4712]\n\nSun Apr 17 23:57:49 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake, parse_args): do not expand destdir.\n\n\t* ext/extmk.rb (relative_from): treat mere drive letter as an absolute\n\t  path.\n\nSat Apr 16 17:01:16 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb (rss_recent_cache_rss):\n\t  use the first date information of items as site date information\n\t  if channel doesn't have date information.\n\nSat Apr 16 15:27:03 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (RUBY_PROG_INSTALL): not add -p option to INSTALL.\n\t  files need timestamps to be kept are only ar-archive on a few\n\t  platforms, and be installed by instruby.rb but not INSTALL.\n\t  fixed: [ruby-core:04721]\n\n\t* mkconfig.rb: purge autoconf value variables.\n\nSat Apr 16 10:33:48 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: quick hack... prepend DESTDIR.\n\t  still have restriction on DESTDIR (\"\", \"/\", \"e:\")\n\nSat Apr 16 03:59:42 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: check for OPENSSL_cleanse.\n\n\t* ext/openssl/openssl_missing.h: ditto.\n\nFri Apr 15 22:40:19 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: add test for WIN32OLE.codepage=\n\n\t* ext/win32ole/tests/testOLETYPELIB.rb: correct expected message.\n\nFri Apr 15 22:04:07 2005  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(ole_invoke): retry after converting Qnil\n\t  to VT_EMPTY.\n\nThu Apr 14 19:05:06 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper] (regexp): dispatch regexp option.\n\t  [ruby-Bugs:1688]\n\n\t* ext/ripper/lib/core.rb: regenerated (interface changed).\n\nThu Apr 14 18:59:43 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_file): ignore exceptions caused by\n\t  chmod.\n\n\t* lib/fileutils.rb (remove_dir): try to get rights to rmdir.\n\t  [ruby-Bugs:1502]\n\nThu Apr 14 18:51:02 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb, lib/irb/slex.rb: bug fix of [ruby-Bugs-1745]\n\n\t* lib/irb/ext/loader.rb, lib/irb/ext/save-history.rb:\n\t  fix location of @RCS_ID\n\n\t* lib/irb/cmd/help.rb: a lost of release IRB 0.9.5.\n\nThu Apr 14 15:10:30 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* lib/irb/notifier.rb, lib/irb/output-method.rb, lib/irb/ext/history.rb\n\t  fixed warning of 'ruby -w'\n\nThu Apr 14 05:35:45 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* doc/irb/irb.rd.ja: a lost  of release IRB 0.9.5.\n\n\t* lib/irb/slex.rb: bug fix by [ruby-core:04707].\n\nThu Apr 14 00:20:31 2005  Keiju Ishitsuka  <keiju@ruby-lang.org>\n\n\t* bin/irb lib/irb.rb lib/irb/...: IRB 0.9.5.\n\nWed Apr 13 23:40:21 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.3 -> 0.1.4.\n\n\t* lib/rss/rss.rb (RSS::Element#converter): fixed converter\n\t  transmission bug.\n\nWed Apr 13 22:12:16 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#order!): call handlers iff matches\n\t  non-switch.\n\nWed Apr 13 21:20:35 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (mingw32): extract msvcr*.dll from objdump result.\n\nWed Apr 13 19:25:31 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (mingw32): use actual runtime DLL name as ruby DLL\n\t  name and default load path.\n\n\t* win32/Makefile.sub, win32/setup.mak: ditto.\n\nTue Apr 12 19:30:36 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#make_switch, OptionParser#order!):\n\t  added non-option and end-of-args handler.  [ruby-talk:136878]\n\t  [EXPERIMENTAL]\n\nTue Apr 12 15:33:09 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_finalize): better modification than the\n\t  previous commit [ruby-dev:26029].\n\nTue Apr 12 12:38:06 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_finalize): fix SEGV when Tcl_GlobalEval()\n\t  modifies the argument string to eval.\n\nTue Apr 12 02:21:55 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_finalize): add existence check of\n\t  Tcl commands before calling Tcl_GlobalEval().\n\nMon Apr 11 23:36:04 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: [druby-ja:123] fix: When reference of my object is\n\t  loaded, the object is tainted.\n\n\t* test/drb/test_drb.rb: ditto.\n\nMon Apr 11 22:18:23 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* dir.c, file.c (lstat): avoid warnings for mingw.\n\nMon Apr 11 20:11:06 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (ip_finalize): adhoc patch to avoid SEGV when exit\n\t  on Tcl/Tk8.3.x.\n\nMon Apr 11 15:24:20 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (configuration): shouldn't output hdrdir twice.\n\nSat Apr  9 18:20:31 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/image.rb: support to create TkImage object without\n\t  creating a new image object on Tk.\n\n\t* ext/tk/lib/tk/menu.rb: use TkCommandNames on create_self()\n\n\t* ext/tk/lib/tk/root.rb: TkRoot.to_eval() returns '.'.\n\n\t* ext/tk/lib/tk/text.rb: add methods to create a TkText::IndexString\n\t  from (x, y) coords.\n\n\t* ext/tk/lib/tkextlib/tile/: add demo and update support status.\n\nSat Apr  9 14:42:29 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb: supported configuration\n\t  via Web browser.\n\nFri Apr  8 20:17:48 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): hdrdir needs to be defined also in\n\t  Config::CONFIG.\n\n\t* lib/mkmf.rb (configuration, create_makefile): get rid of recursive\n\t  macro reference.\n\nFri Apr  8 01:55:20 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/demos-{en,jp}/goldberg.rb: reduced window size.\n\t  [ruby-dev:25992]\n\nThu Apr  7 23:58:40 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): keep directory names in Makefile as macros.\n\n\t* lib/mkmf.rb (configuration, create_makefile): ditto.\n\n\t* lib/mkmf.rb (CXX_EXT): separate C++ extensions.\n\nThu Apr  7 17:24:17 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* eval.c (rb_call0): \"return\" event hook should be always executed\n\t  if event_hooks is set.\n\nThu Apr  7 14:33:09 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_maker_dc.rb (test_date): added a test for #date=\n\t  and #dc_date=.\n\nThu Apr  7 11:49:53 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/dublincore.rb: _really_ supported multiple Dublin\n\t  Core items.\n\n\t* test/rss/rss-assertions.rb (assert_multiple_dublin_core): added\n\t  an assertion for testing multiple Dublin Core items.\n\n\t* test/rss/test_maker_dc.rb (test_rss10_multiple): added a test\n\t  for making multiple Dublin Core items.\n\nWed Apr  6 16:06:30 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_env.rb (test_key): should test ENV.key instead of\n\t  ENV.index. [ruby-dev:25994]\n\nTue Apr  5 16:01:12 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/*: refactored.\n\t  - gave a name to 'x'.\n\t  - undef_method -> remove_method for avoiding a warning in ruby 1.6.\n\nTue Apr  5 15:45:33 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb:\n\t  new option: @options['rss-recent.use-image-link']:\n\t  use image as link instread of text if available.\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb (RSS_RECENT_VERSION):\n\t  0.0.5 -> 0.0.6.\n\nTue Apr  5 15:15:26 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/dublincore.rb: supported multiple Dublin Core items.\n\n\t* lib/rss/parser.rb: added class name registry for complex model\n\t  elements. (ex. have childlen elements, have some attributes and\n\t  a child element and so on.)\n\n\t* lib/rss/maker/base.rb: added default current_element implementation.\n\n\t* lib/rss/maker/dublincore.rb: supported multiple Dublin Core\n\t  items.\n\n\t* lib/rss/maker/image.rb: supproted new Dublin Core API.\n\n\n\t* lib/rss/trackback.rb (RSS::TrackBackUtils.new_with_value_if_need):\n\t  moved to RSS::Utils.\n\n\t* lib/rss/utils.rb (RSS::Utils.new_with_value_if_need):\n\t  moved from RSS::TrackBackUtils.\n\n\n\t* lib/rss/maker/image.rb: fixed invalid argument of\n\t  add_need_initialize_variable bug.\n\n\t* lib/rss/maker/trackback.rb: ditto.\n\n\n\t* lib/rss/rss.rb (Hash#merge): added for ruby 1.6.\n\n\t* lib/rss/rss.rb (RSS::BaseModel.date_writer): changed to accept nil\n\t  for date value.\n\n\n\t* test/test_dublincore.rb: added tests for plural accessor and\n\t  multiple Dublin Core items.\n\n\t* test/test_setup_maker_1.0.rb: fixed swapped actual and expected\n\t  values.\n\nMon Apr  4 23:17:52 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb (TkComm#array2tk_list): accept enc-mode argument to\n\t  decide whether convert encoding of each element or not.\n\n\t* ext/tk/lib/tk/variable.rb (TkVariable#value=): fail to convert the\n\t  encoding of array elements when assign an array to an TkVariable\n\t  object.\n\nMon Apr  4 10:26:48 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/lib/tk/dialog.rb: fixed typo.\n\nSat Apr  2 23:38:54 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (CP, INSTALL): get rid of less portable options.\n\n\t* lib/mkmf.rb (configuration, create_makefile): correct configuration\n\t  variable.\n\n\t* wince/configure.bat, wince/setup.mak: add prefix, extstatic and\n\t  rdoc options.\n\n\t* lib/mkmf.rb (create_makefile): ensure library directories get made\n\t  before copying libraries there.\n\nSat Apr  2 16:59:46 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: forgot to update RELEASE_DATE\n\n\t* ext/tk/lib/tk/variable.rb: fix namespace trouble when autoloading\n\n\t* ext/tk/lib/tk/palette.rb: define Tcl variable 'tkPalette' as global\n\n\t* ext/tk/lib/tk/dialog.rb: use array2tk_list method when calling\n\t  Tk.ip_eval.\n\n\t* ext/tk/lib/tk/autoload.rb: add autoload entry 'TkDialogObj' and\n\t  'TkWarningObj'\n\nSat Apr  2 13:23:17 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* hash.c (env_key): ENV.index is deprecated as well as Hash#index.\n\t  use ENV.key instead. [ruby-dev:25974]\n\nSat Apr  2 02:19:11 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb (TkWindow.initialize): accept 'without_creating'\n\t  option without 'widgetname' option to allow creating a widget object\n\t  which is used as an argument of Tcl/Tk's widget allocation commands.\n\n\t* ext/tk/lib/tk/image.rb (TkImage.initialize): accept 'imagename'\n\t  option to create a image object by the given name.\n\nThu Mar 31 22:23:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (SRC_EXT): exclude just case different suffixes on case\n\t  insensitive file system platforms.\n\n\t* README.EXT, README.EXT.ja (Appendix C): utility functions.\n\nThu Mar 31 14:08:43 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_s_load): should return\n\t  value. [ruby-dev:25971]\n\nThu Mar 31 11:07:50 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb: @@setter -> @@setters.\n\n\t* lib/rss/parser.rb\n\t  (RSS::BaseListener.register_uri)\n\t  (RSS::BaseListener.uri_registered?)\n\t  (RSS::BaseListener.install_get_text_element):\n\t  swapped the first argument and the second argument.\n\n\t* lib/rss/taxonomy.rb: swapped the first argument and the second\n\t  argument for RSS::BaseListener.install_get_text_element.\n\t* lib/rss/image.rb: ditto.\n\t* lib/rss/syndication.rb: ditto.\n\t* lib/rss/dublincore.rb: ditto.\n\t* lib/rss/parser.rb: ditto.\n\t* lib/rss/1.0.rb: ditto.\n\t* lib/rss/2.0.rb: ditto.\n\t* lib/rss/0.9.rb: ditto.\n\t* lib/rss/content.rb: ditto.\n\nThu Mar 31 11:00:36 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb\n\t  (RSS::BaseListener.install_setter)\n\t  (RSS::BaseListener.register_uri): changed fallback way.\n\nThu Mar 31 08:25:40 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk (RUBYOPT): clear for the environment RubyGems installed.\n\n\t* common.mk (clean-local): keep $(PREP) files till distclean.\n\n\t* common.mk (check): do all tests.\n\nThu Mar 31 06:00:20 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_engine.c (ossl_engine_s_load): should not raise\n\t  error even if the specified engine could not be loaded. (Dynamic\n\t  engines don't have fixed name to load.)\n\nWed Mar 30 17:41:48 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: add TclTkIp#_create_console() method to create\n\t  a Tcl/Tk's console window.\n\n\t* ext/tk/lib/multi-tk.rb: support TclTkIp#_create_console() method.\n\n\t* ext/tk/lib/remote-tk.rb: ditto.\n\n\t* ext/tk/lib/tk/console.rb: ditto.\n\n\t* ext/tk/lib/tk.rb: update RELEASE_DATE\n\n\t* ext/tk/sample/demo-*/check2.rb: use 'return' in the Proc object.\n\n\t* ext/tk/sample/tkextlib/**: ditto.\n\nTue Mar 29 22:20:49 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb: use DRbObject.new_with instead of reinit.\n\t  [ruby-dev:25961]\n\nTue Mar 29 00:04:57 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: move method DRbObject#reinit to DRbObject.new_with.\n\t  extract method DRbObject.prepare_backtrace. add DRb.regist_server,\n\t  remove_server, fetch_server. change server in thread variable if\n\t  in-proc server. [druby-ja:113]\n\n\t* lib/drb/gw.rb: ditto.\n\nMon Mar 28 20:53:44 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extract_makefile): nothing to be removed when no file\n\t  was deleted.\n\n\t* ext/extmk.rb (extmake): restore srcdir.\n\nMon Mar 28 08:39:49 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_create): Iconv::Failure requires 3\n\t  arguments.  (pointed out by NaHi)\n\nSun Mar 27 00:56:58 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_file): ignore Errno::E* if force option\n\t  is set. [ruby-dev:25944]\n\nSat Mar 26 22:51:33 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb (_callback_entry_class?): add for checking whether\n\t  a class is available for a callback entry.\n\n\t* ext/tk/lib/tk.rb (after_cancel): add Tk.after_cancel(afterID) method.\n\n\t* ext/tk/lib/tk.rb (array2tk_list): change from private module method\n\t  of TkComm to public module method.\n\n\t* ext/tk/lib/tk.rb (cget): add check that slot argument is not\n\t  empty string.\n\n\t* ext/tk/lib/tk.rb (configinfo): ditto.\n\n\t* ext/tk/lib/tk/itemconfig.rb (itemcget): add check that slot argument\n\t  is not empty string.\n\n\t* ext/tk/lib/tk/itemconfig.rb (itemconfiginfo): ditto.\n\n\t* ext/tk/lib/tk/entry.rb: add TkEntry#icursor and icursor= (alias of\n\t  cursor and cursor= method).\n\n\t* ext/tk/lib/tk/font.rb: improve font treatment when the font name is\n\t  empty string.\n\n\t* ext/tk/lib/tk/variable.rb: add :variable, :window and :procedure\n\t  type.\n\n\t* ext/tk/lib/tk/variable.rb: improve treatment of array-type\n\t  tkvariable.\n\n\t* ext/tk/lib/tkextlib/blt.rb: add commands for zooming.\n\n\t* ext/tk/lib/tkextlib/blt/*: bug fix.\n\n\t* ext/tk/lib/tkextlib/treectrl/tktreectrl.rb: bug fix and add methods\n\t  to call TreeCtrl commands for bindings.\n\n\t* ext/tk/sample/tkextlib/blt/*: new sample scripts.\n\n\t* ext/tk/sample/tkextlib/treectrl/*: ditto.\n\nFri Mar 25 10:53:16 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (WIN32_LEAN_AND_MEAN): removed because a lot of\n\t  troubles.  [ruby-list:40721]\n\nThu Mar 24 23:10:44 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (macro_defined?): try to compile for an old compiler\n\t  which doesn't bail out at #error directive.  [ruby-dev:25818]\n\n\t* lib/mkmf.rb (check_sizeof): refine logging messages.\n\nWed Mar 23 19:08:10 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/utils.rb (WEBrick::Utils.create_listeners):\n\t  - should raise ArgumentError if no port is specified.\n\t  - even if the specified port is 0, all TCPServers should be\n\t    initialized with the port given to the first one.\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#initialize): if :Port\n\t  parameter is 0, it should be updated with the port number which\n\t  ectually listened.\n\nWed Mar 23 16:12:40 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* parse.y (primary): fix lineno of rescue and ensure.\n\nWed Mar 23 00:39:05 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/ruby/test_settracefunc.rb (test_event): added tests for\n\t  \"class\" and \"end\" and \"raise\".\n\nSun Mar 20 22:51:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (mkmf_failed): check if Makefile is created without\n\t  create_makefile.\n\nSat Mar 19 23:48:10 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-expr-beg): returned true always.\n\t  fixed: [ruby-list:40683]\n\nSat Mar 19 00:41:02 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/font.rb: add some TkFont class methods to get font\n\t  information without creating a TkFont object.\n\n\t* ext/tk/lib/tkextlib/treectrl/tktreectrl.rb: bug fix and define some\n\t  classes for components of Tk::TreeCtrl\n\nThu Mar 17 17:42:13 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (make_struct): allow non local-id field\n\t  names. [ruby-core:04575]\n\n\t* struct.c (inspect_struct): ditto.\n\nWed Mar 16 23:39:13 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/ruby/test_settracefunc.rb: added test for c-return.\n\nWed Mar 16 22:57:43 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* eval.c (rb_call0): call_cfunc() should be protected.\n\n\t* eval.c (rb_add_event_hook): use K&R style.\n\n\t* eval.c (rb_remove_event_hook): ditto.\n\nWed Mar 16 22:03:15 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* eval.c (rb_add_event_hook): new function to add a hook function for\n\t  interpreter events.\n\nWed Mar 16 18:08:32 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): reorganize \"return\" event post.\n\n\t* eval.c (return_jump): no need to post \"return\" event here.\n\nTue Mar 15 23:49:19 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (Init_iconv): InvalidEncoding also should include\n\t  Iconv::Failure.\n\nTue Mar 15 23:12:36 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (recursive_check, recursive_push): more restrictive check.\n\t  fixed: [ruby-dev:25916]\n\nTue Mar 15 16:38:31 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil/tkutil.c (ary2list): give wrong arguments to hash2kv()\n\nMon Mar 14 19:39:33 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb (TkTimer): forgot to clear @return_value\n\t  when restarting\n\n\t* ext/tk/lib/tk/sample/cd_timer.rb: new sample of TkRTTimer\n\nMon Mar 14 12:21:03 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb (TkRTTimer): forgot to reset the callback\n\t  time. So, 'continue' do all callbacks between 'stop' and 'continue'.\n\nMon Mar 14 08:14:56 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (str_to_id): raise ArgumentError for NUL containing\n\t  strings.\n\nMon Mar 14 00:13:49 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb (TkRTTimer): correct calculation of offset\n\t  value. get a little better accuracy.\n\n\t* ext/tk/sample/demos-en/widget: use a binding with no local variables\n\t  when eval a sample script.\n\n\t* ext/tk/sample/demos-en/bind.rb: ditto.\n\n\t* ext/tk/sample/demos-en/tcolor: ditto.\n\n\t* ext/tk/sample/demos-jp/widget: ditto.\n\n\t* ext/tk/sample/demos-jp/bind.rb: ditto.\n\n\t* ext/tk/sample/demos-jp/tcolor: ditto.\n\nSun Mar 13 22:19:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (recursive_pop): raise TypeError instead of fatal error.\n\t  fixed: [ruby-dev:25843]\n\nSun Mar 13 10:09:17 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb: remove test_gc. [ruby-dev:25871]\n\nSun Mar 13 02:32:54 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_tmp_dh_callback): should get DH\n\t  parameter from the current SSL object.\n\nSun Mar 13 02:09:03 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkey_dh.c (ossl_create_dh): fix typo.\n\t  patch from IWATSUKI Hiroyuki. [ruby-dev:25867]\n\n\t* ext/openssl/ossl_ssl.c (ossl_tmp_dh_callback): ditto.\n\t  (ossl_call_tmp_dh_callback): ditto\n\nFri Mar 11 03:24:59 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): wrong var node was set for NODE_LAMBDA.\n\t  [ruby-core:04555]\n\nThu Mar 10 19:10:29 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (lib_eventloop_ensure): mis-delete a timer handler\n\t  when exit from a recursive called eventloop\n\n\t* ext/tk/lib/tk/timer.rb: new TkRTTimer class, which can works for a\n\t  realtime operation\n\n\t* ext/tk/sample/tkrttimer.rb: sample of TkRTTimer class\n\n\t* ext/tk/lib/tk/textmark.rb: move  TkTextMark#+ and TkTextMark#- to\n\t  TkText::IndexModMethods\n\n\t* ext/tk/lib/tk/text.rb: improve TkTextMark#+ and TkTextMark#-, and\n\t  add them to TkText::IndexModMethods module\n\n\t* ext/tk/sample/tktextio.rb: add test part of \"seek by text index\n\t  modifiers\"\n\nThu Mar 10 08:10:11 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (make_regexp): need to free internal regexp structure when\n\t  compilation fails.  [ruby-talk:133228]\n\nThu Mar 10 01:08:20 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (bv_decl): remove initialize rule from block local\n\t  variable declaration.\n\nWed Mar  9 23:55:34 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (PP::PPMethods#guard_inspect_key): support\n\t  __recursive_key__.  [ruby-dev:25821]\n\nWed Mar  9 19:42:21 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c: OpenSSL::SSL::SSLContexts suports callbacks:\n\t  - SSLContext#client_cert_cb is a Proc. it is called when a client\n\t    certificate is requested by a server and no certificate was yet\n\t    set for the SSLContext. it must return an Array which includes\n\t    OpenSSL::X509::Certificate and OpenSSL::PKey::RSA/DSA objects.\n\t  - SSLContext#tmp_dh_callback is called in key exchange with DH\n\t    algorithm. it must return an OpenSSL::PKey::DH object.\n\n\t* ext/openssl/ossl_ssl.c:\n\t  (ossl_sslctx_set_ciphers): ignore the argument if it's nil.\n\t  (ossl_start_ssl, ossl_ssl_write): call rb_sys_fail if errno isn't 0.\n\t  [ruby-dev:25831]\n\n\t* ext/openssl/ossl_pkey.c\n\t  (GetPrivPKeyPtr, ossl_pkey_sign): should call rb_funcall first.\n\t  (DupPrivPKeyPtr): new function.\n\n\t* ext/openssl/ossl_pkey_dh.c: add default DH parameters.\n\n\t* ext/openssl/ossl_pkey.h: ditto.\n\n\t* ext/openssl/lib/openssl/cipher.rb: fix typo. [ruby-dev:24285]\n\nWed Mar  9 18:09:51 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (gettable_gen): warns if VCALL name is used as\n\t  out-of-scope block local variable.  [EXPERIMENTAL]\n\n\t* parse.y (opt_bv_decl): add explicit block local variable\n\t  declaration.  raises error for name conflicts.  [EXPERIMENTAL]\n\nWed Mar  9 13:37:57 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tktextio.rb: fix bug of handling 'end' position.\n\t  support initial text, overwrite setting and pos_gravity control.\n\nTue Mar  8 18:16:55 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tktextio.rb: New sample script. TkTextIO class in this\n\t  sample supports to use a text widget as if it is a I/O stream (such\n\t  like as StringIO class).\n\nTue Mar  8 13:39:25 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/mkconstants.rb: workaround for some of 4.4BSD-Lite\n\t  derived OSs.\n\nTue Mar  8 12:36:17 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: document from Sam Roberts\n\t  <sroberts@uniserve.com> for getsockopt and setsockopt is merged.\n\t  [ruby-doc:824]\n\nTue Mar  8 10:48:53 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_exec_recursive): declaration should precede statements\n\t  before C99.\n\nTue Mar  8 10:05:40 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (errno_missing): Errno.const_missing to allow references\n\t  to SyscallError exceptions not defined on the platform.\n\t  [ruby-core:04522]\n\n\t* error.c (Init_syserr): Errno::NOERROR(0) for fallback exception.\n\nTue Mar  8 01:19:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow nkf 1.66\n\t  fixed: [ruby-dev:25828]\n\nMon Mar  7 21:29:40 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#start): should\n\t  restore @token if accept failure. suggested by Dominique Brezinski.\n\t  [ruby-core:04518]\n\n\t* sample/webrick/httpsd.rb: fix typo in comment. suggested by\n\t  Kazuhiko Shiozaki.\n\nMon Mar  7 21:01:37 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_require_safe): get actual path string under safe level\n\t  when requested.  fixed: [ruby-dev:25815]\n\nMon Mar  7 16:46:02 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_start_ssl, ossl_ssl_read,\n\t  ossl_ssl_write): need to set errno on Win32 platform.\n\nMon Mar  7 14:55:43 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (block_pass): should not push unique number if a block is\n\t  not an orphan.  [ruby-dev:25808]\n\nMon Mar  7 14:13:23 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#initialize):\n\t  should set @eof and @rbuffer.\n\nMon Mar  7 10:28:00 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (inspect_obj): unintended space removal.\n\t  [ruby-dev:25810]\n\n\t* eval.c (rb_exec_recursive): should not use NODE in disclosed\n\t  context.  [ruby-dev:25812]\n\n\t* io.c (rb_f_open): need not to check if to_open value is a\n\t  T_FILE.  [ruby-dev:25812]\n\nMon Mar  7 01:21:01 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil/tkutil.c: follow the change of st.c (committed\n\t  at Fri, 4 Mar 2005 15:47:47 +0900 by matz)\n\nMon Mar  7 00:01:55 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: fail to call TclTkLib.mainloop when $SAFE==4\n\nSun Mar  6 13:04:10 2005  Dee Zsombor  <zsombor@ruby-lang.org>\n\n\t* misc/ruby-electric.el: added.\n\t* misc/Readme: updated.\n\nSun Mar  6 11:47:10 2005  Sam Roberts  <sroberts@uniserve.com>\n\n\t* lib/pp.rb: rdoced.  [ruby-core:4490]\n\nSun Mar  6 11:36:37 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (File::Stat#pretty_print): Etc.getpwuid and Etc.getgrgid\n\t  may return nil.  [ruby-talk:129826]\n\t  reported by Daniel Berger.\n\nSun Mar  6 06:34:31 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_start_ssl): should wait for that\n\t  the underlying IO become readable or writable if the error was\n\t  SSL_ERROR_WANT_READ or SSL_ERROR_WANT_WRITE. [ruby-dev:25795]\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_read, ossl_ssl_write): ditto.\n\n\t* ext/openssl/lib/openssl/buffering.rb\n\t  (Buffering#consume_rbuf): pointless eof flag resetting is deleted.\n\t  (Buffering#read): should return an empty string if the specified\n\t  size is zero.\n\t  (Buffering#readpartial): new method.\n\t  (Buffering#readline): fix typo.\n\t  (Buffering#getc): return the first character of string correctly.\n\t  (Buffering#readchar): fix typo.\n\t  (Buffering#eof?): should read again it the input buffer is empty.\n\t  (Buffering#do_write): should rescue Errno::EAGAIN.\n\t  (Buffering#puts): use \"\\n\" as the output field separator.\n\n\t* ext/openssl/extconf.rb: get rid of GNUmakefile generation.\n\n\t* text/openssl/test_pair.rb: test for IO like methods.\n\n\t* test/ruby/ut_eof.rb: test about empty file.\n\nSat Mar  5 17:48:31 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (rb_glob): fixed mismatch of argument.\n\n\t* dir.c (fnmatch): removed unnecessary code. (by string.c 1.219)\n\n\t* win32/win32.c (NtInitialize): ditto. (by numeric.c 1.117)\n\nSat Mar  5 16:50:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow nkf 1.65\n\nSat Mar  5 16:29:26 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: freeze callback-entry objects\n\n\t* ext/tk/lib/tkextlib/tile.rb: support tile-0.6\n\nSat Mar  5 12:52:08 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): allow putting spaces between target\n\t  and colon in depend file.\n\nSat Mar  5 02:41:00 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* file.c (eaccess): workaround for VC++8 runtime.\n\n\t* win32/win32.c (ioinfo): VC++8 support.\n\nFri Mar  4 19:39:55 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser#do_includes): replace\n\t  also locally defined modules.\n\n\t* ext/iconv/iconv.c: rdocified.\n\n\t* ext/strscan/strscan.c: moved misplaced rdoc.\n\nFri Mar  4 16:11:20 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_exec_recursive): matched the declaration to prototype.\n\n\t* ext/curses/curses.c: don't need to check HAVE_WCOLOR_SET excluding\n\t  window_color_set().\n\n\t* ext/tk/tcltklib.c: fixed commit mistakes.\n\nFri Mar  4 12:45:17 2005  Tilman Sauerbeck  <tilman@code-monkey.de>\n\n\t* lib/rdoc/parsers/parse_c.rb: allow whitespace after function names.\n\t  [ruby-core:4296]\n\n\t* lib/rdoc/parsers/parse_simple.rb: adds support for private comments\n\t  in the \"simple\" parser. [ruby-core:4301]\n\nFri Mar  4 12:45:17 2005  Charles Mills  <cmills@freeshell.org>\n\n\t* lib/rdoc/parsers/parse_c.rb: adds support for constants\n\t  (rb_define_const), accessors (rb_define_attr), and makes a\n\t  couple fixes. [ruby-core:4307]\n\nFri Mar  4 12:45:17 2005  Florian Gross  <florgro@gmail.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Logic for def Builtin.method() end\n\t  [ruby-core:4302]\n\nFri Mar  4 12:45:17 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c: replace rb_protect_inspect() and rb_inspecting_p() by\n\t  rb_exec_recursive() in eval.c.\n\n\t* eval.c (rb_exec_recursive): new function.\n\n\t* array.c (rb_ary_join): use rb_exec_recursive().\n\n\t* array.c (rb_ary_inspect, rb_ary_hash): ditto.\n\n\t* file.c (rb_file_join): ditto.\n\n\t* hash.c (rb_hash_inspect, rb_hash_to_s, rb_hash_hash): ditto.\n\n\t* io.c (rb_io_puts): ditto.\n\n\t* object.c (rb_obj_inspect): ditto\n\n\t* struct.c (rb_struct_inspect): ditto.\n\nFri Mar  4 10:15:30 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/set.rb (SortedSet::setup): a hack to shut up warning.\n\t  [ruby-talk:132866]\n\nFri Mar  4 09:37:12 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* common.mk (install-nodoc, pre-install-doc, post-install-doc):\n\t  fix some omissions.\n\nFri Mar  4 08:09:12 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/time.rb (Time::strptime): add new function.  inspired by\n\t  [ruby-talk:132815].\n\n\t* lib/parsedate.rb (ParseDate::strptime): ditto.\n\nFri Mar  4 07:07:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow nkf 1.63\n\nThu Mar  3 23:24:00 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow nkf 1.62\n\nThu Mar  3 18:47:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/Makefile.sub (config.h): check if affected\n\t  when makefiles are modified.\n\n\t* {bcc32,win32,wince}/Makefile.sub (config.status): add variables\n\t  for tests.\n\n\t* win32/ifchange.bat: try to update a file only if modified.\n\n\t* win32/resource.rb: more descriptions.\n\n\t* common.mk: add {pre,post}-install targets.\n\n\t* instruby.rb (install?): install particular part.\n\n\t* bcc32/Makefile.sub (post-install-ext): remove debug information\n\t  files after installation.\n\n\t* ext/tk/tcltklib.c (ip_rbUpdateCommand, ip_rb_threadUpdateCommand):\n\t  get rid of warnings with Tcl/Tk 8.3 or former.\n\nThu Mar  3 11:49:51 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb: added site information.\n\nWed Mar  2 19:53:44 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (parse_args): return false if nothing matched.\n\nWed Mar  2 17:15:08 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c (lib_eventloop_core): fix typo\n\nWed Mar  2 16:59:50 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* eval.c (ruby_native_thread_kill): call pthread_kill() to send a\n\t  signal to ruby's native thread\n\n\t* ruby.h: add definition of ruby_native_thread_kill()\n\n\t* signal.c (sigsend_to_ruby_thread): send the signal to ruby's\n\t  native thread ([ruby-dev:25744], [ruby-dev:25754]), and set\n\t  signal mask to the current native thread\n\nWed Mar  2 16:03:08 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: enforce thread-check and exception-handling to\n\t  avoid SEGV trouble.\n\n\t* ext/tk/tkutil/tkutil.c; fix a bug on converting a SJIS string array\n\t  to a Tcl's list string.\n\n\t* ext/tk/tcltklib.c: wrap Tcl's original \"namespace\" command to\n\t  protect from namespace crash.\n\n\t* ext/tk/lib/multi-tk.rb: enforce exception-handling.\n\n\t* ext/tk/lib/multi-tk.rb: catch IRB_EXIT to work on irb.\n\n\t* ext/tk/lib/tk.rb: ditto.\n\n\t* ext/tk/tcltklib.c: add TclTkLib.mainloop_thread?\n\n\t* ext/tk/lib/multi-tk.rb: (bug fix) callback returns a value.\n\n\t* ext/tk/lib/tk/canvas.rb (delete): bug fix when multiple arguments.\n\n\t* ext/tk/lib/clock.rb: fix 'no method error'.\n\n\t* ext/tk/lib/clock.rb (self.clicks): accept a Symbol argument.\n\n\t* ext/tk/lib/variable.rb: be able to set default_value_type; :numeric,\n\t  :bool, :string, :symbol, :list, :numlist or nil (default; same to\n\t  :string). If set a type, TkVariable#value returns a value of the\n\t  type.\n\n\t* ext/tk/lib/tkextlib/tclx/tclx.rb: add Tk::TclX.signal to warn the\n\t  risk of using TclX extension's 'signal' command.\n\n\t* ext/tk/sample/irbtk.rb: irb with Ruby/Tk.\n\n\t* ext/tk/sample/demos-*/anilabel.rb: bug fix on 'show code'\n\n\t* ext/tk/sample/demos-*/aniwave.rb: new Ruby/Tk animation demo.\n\n\t* ext/tk/sample/demos-*/pendulum.rb: ditto.\n\n\t* ext/tk/sample/demos-*/goldberg.rb: ditto.\n\n\t* ext/tk/sample/demos-*/widget: add entries of animation demos.\n\nWed Mar  2 12:21:18 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): [EXPERIMENTAL] NODE_LAMBDA implemented.\n\t  [ruby-dev:25780]\n\n\t* node.h (NODE_LAMBDA): for literal Proc object.\n\n\t* parse.y (expr): interpret mere do...end block as proc object.\n\n\t* parse.y (primary): ditto, for brace block.\n\nTue Mar  1 21:16:54 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* regcomp.c (optimize_node_left): uninitialized member\n\t  (OptEnv.backrefed_status) was used. [ruby-dev:25778]\n\nTue Mar  1 16:50:37 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regparse.c: move st_*_strend() functions from st.c.  fixed some\n\t  potential memory leaks.\n\nTue Mar  1 00:40:35 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/tuplespace.rb (Rinda::TupleSpace): improved keeper thread.\n\n\t* test/rinda/test_rinda.rb: ditto.\n\nMon Feb 28 23:10:13 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/socket/socket.c (Init_socket): IPv6 is not supported although\n\t  AF_INET6 is defined on bcc32. (rev1.108 again)\n\n\t* ext/socket/mkconstants.rb: ditto.\n\nMon Feb 28 21:55:49 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* ext/strscan/strscan.c (strscan_s_allocate):\n\t  use onig_region_init().\n\n\t* ext/strscan/strscan.c (adjust_registers_to_matched):\n\t  use onig_region_set().\n\nMon Feb 28 15:12:06 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/socket/socket.c (Init_socket): ported more Socket::Constants\n\t  from ruby_1_8, and made it easy to add new constants.\n\t  [ruby-dev:25771]\n\n\t* ext/socket/depend: ditto.\n\n\t* ext/socket/mkconstants.rb: ditto. (added)\n\nMon Feb 28 11:42:23 2005  Ian Macdonald  <ian@caliban.org>\n\n\t* exception error messages updated.  [ruby-core:04497]\n\nMon Feb 28 09:03:09 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (Init_socket): add bunch of Socket\n\t  constants.  Patch from Sam Roberts <sroberts@uniserve.com>.\n\t  [ruby-core:04409]\n\nSun Feb 27 05:55:38 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: fix typo. [ruby-core:04494]\n\nSat Feb 26 16:58:20 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* parse.y, re.c, regex.h, LEGAL, ext/strscan/strscan.c:\n\t  remove oniggnu.h (GNU regex API).\n\nWed Feb 23 22:08:16 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* st.c, st.h: imported additional file changes on\n\t  Oniguruma 3.7.0.\n\nWed Feb 23 21:45:29 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* ascii.c, euc_jp.c, oniggnu.h, oniguruma.h, regcomp.c,\n\t  regenc.c, regenc.h, regerror.c, regexec.c, regint.h,\n\t  regparse.c, regparse.h, sjis.c, utf8.c: imported Oni Guruma\n\t  3.7.0.\n\nWed Feb 23 15:04:32 2005  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (split_userinfo): should split \":pass\" into \"\"\n\t  and \"pass\".  [ruby-dev:25667]\n\nWed Feb 23 08:00:18 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_s_create): no need for negative argc check.\n\t  [ruby-core:04463]\n\n\t* array.c (rb_ary_unshift_m): ditto.\n\nWed Feb 23 01:53:29 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (initialize): handle certs correctly. Thanks,\n\t  NABEYA Kenichi.\n\nWed Feb 23 00:37:34 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/mkmf.rb (mkmf_failed): fixed typo.\n\nTue Feb 22 23:52:45 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in, lib/mkmf.rb: use simple commands if available.\n\n\t* mkconfig.rb: remove autoconf internal variables from rbconfig.rb.\n\n\t* lib/mkmf.rb (create_makefile): substitute implicit rules in depend\n\t  file.\n\n\t* {bcc32,win32,wince}/Makefile.sub (COMPILE_RULES, RULE_SUBST):\n\t  include $(topdir) and $(hdrdir) to search path.\n\nTue Feb 22 23:51:45 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: get rid of warnings caused by a bug of VC.\n\nTue Feb 22 23:50:26 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (ruby_signal, ruby_nativethread_signal): must be valid as\n\t  expressions, not only statements.\n\nTue Feb 22 12:54:13 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_0): update curr_thread before raising\n\t  TAG_THREAD.  [ruby-dev:25712]\n\nTue Feb 22 07:24:57 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (parser_yylex): identifier after dot must not be a variable.\n\nMon Feb 21 18:31:12 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* signal.c: Standard signal handlers ignore signals on non-Ruby native\n\t  threads. When a handler is entried with ruby_signal() (like as the\n\t  standard signal handlers), the handler for the signal is marked as\n\t  it cannot accept non-Ruby native threads. If a handler can treat all\n\t  signals on all native threads, please use ruby_nativethread_signal()\n\t  to entry it.\n\nSun Feb 20 00:48:48 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::FTP#buffer_open): access mechanism\n\t  re-implemented according to RFC 1738.\n\t  reported by Guillaume Marcais.  [ruby-talk:131650]\n\nSat Feb 19 18:46:56 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRbObject#respond_to?): take two arguments.\n\t  [ruby-dev:25722]\n\n\t* test/drb/drbtest.rb: ditto.\n\nSat Feb 19 13:52:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: call OpenSSL::SSL::SSLSocket#post_connection_check\n\t  after connection is made.\n\nSat Feb 19 13:31:28 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extract_makefile): remove no longer existing installed\n\t  files.\n\n\t* lib/mkmf.rb (install_dirs): return installation directory list.\n\n\t* lib/mkmf.rb (create_makefile): reverted wrongly removed lines.\n\nSat Feb 19 01:28:56 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/bigdecimal/lib/bigdecimal/newton.rb: resolved LoadError.\n\t  [ruby-dev:25685]\n\n\t* ext/bigdecimal/sample/linear.rb: ditto.\n\n\t* ext/bigdecimal/sample/nlsolve.rb: ditto.\n\n\t* ext/bigdecimal/lib/bigdecimal/nlsolve.rb: removed because this file\n\t  is sample script and same file exists in ext/bigdecimal/sample.\n\nFri Feb 18 17:14:00 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/xmlrpc/parser.rb (XMLRPC::FaultException): make it subclass\n\t  of StandardError class, not Exception class.  [ruby-core:04429]\n\nFri Feb 18 04:06:41 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (fcall_gen): lvar(arg) will be evaluated as\n\t  lvar.call(arg) when lvar is a defined local variable. [new]\n\nThu Feb 17 22:15:34 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* ext/strscan/strscan.c: calls Oniguruma API directly.\n\nThu Feb 17 21:53:12 2005  K.Kosako  <sndgk393 AT ybb.ne.jp>\n\n\t* common.mk, LEGAL: remove reggnu.c.\n\nThu Feb 17 21:53:12 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* gc.c, re.c: now ruby calls Oniguruma API directly, bypassing\n\t  GNU compatible APIs.\n\nThu Feb 17 20:09:23 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/drb/drb.rb (DRbServer.default_safe_level): fix typo.\n\nThu Feb 17 20:09:23 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/digest/test_digest.rb: separate test case for each algorithms.\n\t  [ruby-dev:25412]\n\nThu Feb 17 14:31:52 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_class_initialize): call inherited method before\n\t  calling initializing block.\n\n\t* eval.c (rb_thread_start_1): initialize newly pushed frame.\n\t  fixed: [ruby-dev:25707]\n\nThu Feb 17 13:46:00 2005  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/collector.rb (collect_file): now deletes paths added\n\t  to $LOAD_PATH instead of restoring it verbatim.\n\n\t* lib/test/unit/autorunner.rb (AutoRunner.run): fixed so that\n\t  'ruby -rtest/unit -rtest1 -rtest2 -e0' will use the objectspace\n\t  collector again. Also tried to simplify the calling convention.\n\n\t* test/runner.rb: adjusted for new AutoRunner semantics.\n\n\t* lib/test/unit.rb: ditto.\n\nThu Feb 17 04:21:47 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/open3.rb (Open3::popen3): $? should not be EXIT_FAILURE.\n\t  fixed: [ruby-core:04444]\n\nThu Feb 17 00:31:21 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/test_drb.rb, ut_safe1.rb: port from 1.8\n\nThu Feb 17 00:02:27 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): NODE_IASGN is an assignment.\n\nWed Feb 16 23:54:14 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_1): outer block variables wasn't linked to\n\t  threads.  fixed: [ruby-dev:25700]\n\nWed Feb 16 15:11:43 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::Nonblock#initialize):\n\t  native win32 platform doesn't have F_GETFL.\n\nWed Feb 16 02:47:45 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_read, ossl_ssl_write): should\n\t  call rb_sys_fail instead of raising SSLError if SSL_ERROR_SYSCALL\n\t  occurred.\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#fill_rbuff):\n\t  should rescue Errno::EAGAIN.\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#each): fix typo.\n\t  suggested by Brian Ollenberger.\n\n\t* ext/openssl/lib/openssl/ssl.rb: set non-blocking flag to the\n\t  underlying IO.\n\nTue Feb 15 22:14:34 2005  sheepman  <sheepman@tcn.zaq.ne.jp>\n\n\t* ext/readline/readline.c (Readline.readline): use rl_outstream\n\t  and rl_instream.  [ruby-dev:25699]\n\nMon Feb 14 23:58:17 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb (RSS::ListenerMixin::tag_end):\n\t  fixed invalid namespace handling bug.\n\nMon Feb 14 13:12:38 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb\n\t  (OpenSSL::SSL::SSLSocket#post_connection_check): new method.\n\nMon Feb 14 00:10:17 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRbServer): add default_safe_level, safe_level,\n\t  config[:safe_level] ([druby-ja:120])\n\n\t* test/drb/test_drb.rb, ut_eval.rb, ut_safe1.rb: ditto.\n\nSun Feb 13 23:13:46 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/dublincore.rb (RSS::DublicCoreModel#date{,=}): added\n\t  convenient methods.\n\n\t* lib/rss/0.9.rb (RSS::Rss::Channel#date{,=}): ditto.\n\n\t* lib/rss/2.0.rb (RSS::Rss::Channel::Item#date{,=}): ditto.\n\n\t* test/rss/: added tests for the convenient methods.\n\nSun Feb 13 23:12:47 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_0): restore prot_tag before rewinding.\n\nSun Feb 13 16:56:52 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI.start): should set reason-phrase\n\t  to the value of status header field. ([ruby-dev:40617])\n\nSun Feb 13 11:38:40 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regparse.c (type_cclass_hash): (Thanks Nobu) fixed\n\t  overrun. ([ruby-dev:25676]).\n\nSun Feb 13 10:53:08 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* oniggnu.h, oniguruma.h, regcomp.c, st.c: imported\n\t  Oni Guruma 3.6.0.\n\nSun Feb 13 01:33:19 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/erb.rb (ERB::Util.h, u): make it module_function.\n\nSat Feb 12 22:17:11 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (TAG_THREAD): to start a new thread.\n\n\t* eval.c (ruby_init, ruby_options, ruby_cleanup, rb_protect,\n\t  rb_load_protect, rb_thread_start_0): make thread anchor.\n\n\t* eval.c (proc_alloc): clone proc object if klass is not Proc or\n\t  created in different thread.\n\n\t* eval.c (rb_block_pass): call a function with a block.  [new]\n\n\t* eval.c (rb_f_throw): raise NameError in main thread.\n\nSat Feb 12 17:29:19 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_loop): send authentication only for\n\t  the URI directly specified.\n\nSat Feb 12 15:07:23 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* random.c (rand_init): suppress warning.\n\nSat Feb 12 14:10:24 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_http): reject userinfo explicitly.\n\nSat Feb 12 13:54:03 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: support https if the platform provides CA\n\t  certificates.\n\nSat Feb 12 06:18:28 2005  URABE Shyouhei  <shyouhei@ice.uec.ac.jp>\n\n\t* ext/etc/etc.c (Init_etc): sGroup needs HAVE_ST_GR_PASSWD check\n\t  [ruby-dev:25675]\n\nFri Feb 11 17:37:50 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509store.c (ossl_x509store_set_default_paths):\n\t  new method OpenSSL::X509::Store#set_default_paths.\n\nFri Feb 11 11:33:53 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::HTTP#proxy_open): new option supported:\n\t  :http_basic_authentication.\n\t  suggested by Kent Sibilev.  [ruby-core:4392]\n\nFri Feb 11 06:30:07 2005  George Ogata  <g_ogata@optushome.com.au>\n\n\t* misc/ruby-mode.el: ignore parenthesis inside heredoc.\n\t  [ruby-core:04415]\n\nFri Feb 11 04:54:13 2005  Tilman Sauerbeck  <tilman@code-monkey.de>\n\n\t* lib/rdoc/generators/html_generator.rb: [ruby-core:04412]\n\n\t* lib/rdoc/generators/ri_generator.rb: ditto.\n\nThu Feb 10 13:52:42 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* configure.in, win32/Makefile.sub (LIBS, COMMON_HEADERS): use\n\t  winsock2 on mswin32/mingw.\n\n\t* ext/socket/extconf.rb: ditto.\n\n\t* win32/win32.c (StartSockets): ditto.\n\n\t* win32/win32.h: ditto.\n\nThu Feb 10 12:09:16 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extract_makefile): default to true if not compiled\n\t  previously.\n\n\t* ext/extmk.rb (extmake): create dummy makefile if extconf failed.\n\nThu Feb 10 12:07:10 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (init_stdhandle): assign standard file handles.\n\n\t* bcc32/Makefile.sub (COMMON_LIBS): add libraries included in\n\t  import32.lib.\n\n\t* lib/mkmf.rb (create_makefile): restrict prefixing with srcdir to\n\t  rule lines, add search path to implicit rules, and set Borland make\n\t  special macros for search path.\n\n\t* win32/win32.c, win32/win32.h (read): avoid a BCC runtime bug.\n\nThu Feb 10 00:47:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (make_struct): fixed: [ruby-core:04402]\n\nWed Feb  9 16:33:05 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (wait_connectable): fixed wrong condition.\n\nWed Feb  9 14:42:28 2005  URABE Shyouhei  <shyouhei@ice.uec.ac.jp>\n\n\t* eval.c (scope_dup): add volatile not to optimize tbl.\n\nWed Feb  9 10:02:02 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tk/make-tkutil, ext/tk/tkutil/subconf.rb: no longer used.\n\n\t* ext/tk/tkutil/extconf.rb: need to compile tkutil. [ruby-dev:25607]\n\nWed Feb  9 08:07:08 2005  Paul Duncan  <pabs@pablotron.org>\n\n\t* ext/curses/curses.c (window_color_set): [ruby-core:04393]\n\nTue Feb  8 23:48:36 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: reject :instance_eval, :class_eval, :module_eval\n\t  [druby-ja:117]\n\nTue Feb  8 22:38:28 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* keywords, parse.y: separate EXPR_VALUE from EXPR_BEG.\n\t  fixed: [ruby-core:04310], [ruby-core:04368]\n\nTue Feb  8 13:06:12 2005  Sam Roberts  <sroberts@uniserve.com>\n\n\t* ext/socket/socket.c (Init_socket): SO_REUSEPORT added.\n\t  [ruby-talk:130092]\n\nTue Feb  8 00:19:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Name#subdomain_of?): new method.\n\t  (Resolv::DNS::Name#inspect): ditto.\n\t  Suggested by Sam Roberts.  [ruby-talk:129086]\n\nMon Feb  7 23:14:11 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (io_getc): flush rb_stdout before read from stdin, which is\n\t  connected to a tty.  [ruby-core:4378]\n\n\t* rubyio.h (FMODE_TTY): renamed from FMODE_LINEBUF.\n\nMon Feb  7 10:06:30 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c: [ruby-doc:818]\n\nMon Feb  7 02:13:05 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/extconf.rb (sockaddr_storage): winsock2.h have the\n\t  definition of struct sockaddr_storage, but socket.c doesn't\n\t  include it because this version of ruby still has binary level\n\t  compatibility with winsock1.\n\nMon Feb  7 01:22:50 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extract_makefile): extract previously collected\n\t  informations from existing Makefile.\n\n\t* ext/socket/extconf.rb: check if getaddrinfo() works fine only when\n\t  wide-getaddrinfo option is not given.  fixed: [ruby-dev:25422]\n\n\t* ext/tk/extconf.rb: separate tkutil configuration.\n\n\t* lib/mkmf.rb ($extmk): check if under ext directory.\n\n\t* lib/mkmf.rb (Logging.postpone): allow recursive operation.\n\n\t* lib/mkmf.rb (try_constant): make sure if really a constant, reduce\n\t  the number of times of compile.\n\n\t* lib/mkmf.rb (have_macro, have_var, byte_order): new functions.\n\n\t* lib/mkmf.rb (find_library): allow directory list with separators.\n\n\t* lib/mkmf.rb (arg_config): manage provided configuration options.\n\n\t* lib/mkmf.rb (dir_config): accept arrays of directory names as\n\t  default values.\n\n\t* lib/mkmf.rb (with_cppflags, with_cflags, with_ldflags): keep flags\n\t  modified if the block returned true.\n\nSun Feb  6 19:20:05 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (stack_extend): add prototype because VC++8 doesn't\n\t  accept __declspec(noinline) with K&R style function definitions.\n\nSun Feb  6 13:56:19 2005  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (new_with_hash): changed messages of exception.\n\n\t* lib/date/format.rb (str[fp]time): undocumented conversion\n\t  specifications %[1-3] are now deprecated.\n\nSun Feb  6 11:27:37 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/dl/dl.c (Init_dl): function declaration should precede\n\t  statements before C99.\n\nSun Feb  6 03:24:20 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Resource::TXT): multiple strings was not\n\t  handled.\n\t  (Resolv::DNS::Resource::TXT#strings): new method to return all\n\t  strings.\n\t  (Resolv::DNS::Message::MessageEncoder#put_string_list): new method.\n\t  (Resolv::DNS::Message::MessageDecoder#get_string_list): ditto.\n\t  based on [ruby-talk:129732] by Sam Roberts.\n\nSat Feb  5 02:24:06 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/test_scanner_events.rb: fix test.\n\nFri Feb  4 18:44:35 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/lexer.rb: last Lexer fix was incomplete;\n\t  test all green.\n\nFri Feb  4 15:57:06 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (open_args): fix too verbose warnings for the space\n\t  before argument parentheses.  [ruby-dev:25492]\n\n\t* parse.y (parser_yylex): ditto.\n\nFri Feb  4 14:33:25 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/filter.rb: ripper/tokenizer ->\n\t  ripper/lexer. [ruby-dev:25632]\n\nFri Feb  4 00:24:15 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss: supported Image module.\n\t  http://web.resource.org/rss/1.0/modules/image/\n\nThu Feb  3 23:42:36 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_close, strio_close_read, strio_close_write):\n\t  should return nil instead of self as well as IO.  [ruby-dev:25623]\n\n\t* ext/stringio/stringio.c (strio_extend, strio_putc): fill with zero\n\t  extended portion.  [ruby-dev:25626]\n\nThu Feb  3 16:12:57 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (parser_yylex): the first expression in the parentheses\n\t  should not be a command.  [ruby-dev:25492]\n\nThu Feb  3 03:31:20 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: follow original v 1.57\n\n\t* ext/nkf/nkf-utf8/utf8tbl.c: follow original v 1.8\n\n\t* ext/nkf/nkf-utf8/config.h: follow original v 1.7\n\nWed Feb  2 23:52:53 2005  sheepman  <sheepman@tcn.zaq.ne.jp>\n\n\t* ext/stringio/stringio.c (strio_truncate): should MEMZERO an extended\n\t  part.  [ruby-dev:25618]\n\nWed Feb  2 21:56:01 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::Element#convert): added.\n\n\t* lib/rss/rss.rb: convert -> need_convert.\n\n\t* lib/rss/1.0.rb: ditto.\n\n\t* lib/rss/0.9.rb: ditto.\n\n\t* lib/rss/2.0.rb: ditto.\n\n\t* lib/rss/trackback.rb: ditto.\n\nWed Feb  2 03:30:58 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/tokenizer.rb -> lexer.rb.\n\n\t* ext/ripper/lib/ripper/lexer.rb: new method Ripper.slice.\n\t  [experimental]\n\n\t* ext/ripper/lib/ripper/sexp.rb: new file. [experimental]\n\n\t* ext/ripper/lib/ripper.rb: require ripper/lexer and ripper/sexp.\n\nTue Feb  1 21:49:24 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRb::DRbObject#respond_to?): check marshal_dump and\n\t  _dump.\n\nTue Feb  1 00:20:23 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, configure.in: made EXTOUT configurable.\n\n\t* ext/extmk.rb (extmake), lib/mkmf.rb: keep topdir as relative style.\n\n\t* lib/mkmf.rb: make extensions in depth order.  [ruby-dev:25522]\n\n\t* configure.in (aix): fix linker flags on AIX.  [ruby-talk:125460]\n\nMon Jan 31 13:16:39 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/extconf.rb: add tkutil configuration step (remove old schema)\n\n\t* ext/tk/depend: remove the information of tkutil\n\n\t* ext/tk/make-tkutil: sub-part of Makefile to compile tkutil\n\n\t* ext/tk/tkutil/tkutil.c: move tkutil.c to subdirectory\n\n\t* ext/tk/tkutil/subconf.rb: configuration file for tkutil.c\n\n\t* ext/tk/tkutil/depend: ditto\n\nMon Jan 31 13:13:35 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tcltklib.c: add invalid namespace check\n\n\t* ext/tk/lib/multi-tk.rb: add invalid_namespace? method\n\n\t* ext/tk/lib/remote-tk.rb: ditto\n\nMon Jan 31 10:29:18 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/context.rb (IRB::Context::initialize): [ruby-core:04330]\n\nMon Jan 31 09:44:03 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): remove Object#type.  [ruby-core:04335]\n\nSat Jan 29 09:42:12 2005  Sam Roberts  <sroberts@uniserve.com>\n\n\t* lib/resolv.rb (Resolv::DNS::Resource::IN::SRV): Added RFC2782 SRV\n\t  resource record for specifying location of services.\n\nSat Jan 29 00:10:33 2005  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* ascii.c, euc_jp.c, hash.c, oniggnu.h, oniguruma.h, regcomp.c,\n\t  regenc.c, regenc.h, regerror.c, regexec.c, reggnu.c, regint.h,\n\t  regparse.c, regparse.h, sjis.c, st.c, st.h, utf8.c: imported\n\t  Oni Guruma 3.5.4.\n\nFri Jan 28 17:16:55 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Config.parse_resolv_conf):\n\t  parse options line for ndots option.\n\t  (Resolv::Hosts#lazy_initialize): return self.\n\t  (Resolv::DNS#lazy_initialize): ditto.\n\t  (Resolv::DNS::Config#lazy_initialize): ditto.\n\t  Suggested by Sam Roberts.\n\nThu Jan 27 17:15:03 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tk/extconf.rb: support new tk scheme on bccwin32.\n\t  fixed: [ruby-dev:25546]\n\nThu Jan 27 13:18:03 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* st.c (st_foreach): report success/failure by return value.\n\t  [ruby-Bugs-1396]\n\nThu Jan 27 00:12:19 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (setup): support BSD style\n\t  directory group inheritance (again).\n\nThu Jan 27 00:02:40 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (setup): support BSD style\n\t  directory group inheritance. [ruby-dev:25440]\n\n\t* test/fileutils/fileasserts.rb (assert_same_entry): show entry\n\t  difference.\n\nWed Jan 26 17:12:50 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: forgot to initialize parser struct.  [ruby-dev:25492]\n\n\t* parse.y (parser_yylex): no tLABEL on EXPR_BEG.\n\t  [ruby-talk:127711]\n\nWed Jan 26 14:12:58 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/Setup*: remove tcltklib.\n\nWed Jan 26 12:45:16 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tk/extconf.rb: support new tk scheme on mswin32.\n\t fixed: [ruby-dev:25535]\n\nWed Jan 26 10:45:19 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (flock_winnt, flock_win95): unlock file even if\n\t  LOCK_NB is specified.\n\nTue Jan 25 23:10:48 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk: merge tcltklib for Ruby/Tk installation control\n\n\t* ext/tcltklib: remove\n\nTue Jan 25 17:05:15 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (proc_options): correct -T option in RUBYOPT.\n\t  fixed: [ruby-dev:25512]\n\nTue Jan 25 14:05:52 2005  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix SEGV bug; trouble on canceling remained\n\t  after scripts [ruby-dev:25479]: NULL current namespace when deleting\n\t    Tk interpreter [ruby-talk:126225]\n\n\t* ext/tcltklib/extconf.rb: bug fix; TCL_ENABLE_THREAD flag is inverted\n\t  [ruby-talk:126360]\n\n\t* ext/tcltklib/extconf.rb: add yet another native-thread check\n\n\t* ext/tk/tkutil.c: fix SEGV bug; NULL string pointer when finalize\n\t  Ruby interpreter\n\n\t* ext/tk/lib/multi-tk.rb: avoid warning for deleted safeTk ip frame\n\n\t* ext/tk/lib/tk/bindtag.rb: bug fix; new method of named bindtag\n\t  doesn't return the created object [ruby-dev:25479]\n\n\t* ext/tk/lib/tk/menu.rb: bug on treating arguments [ruby-dev:25479]\n\n\t* ext/tk/lib/tk.rb: bug fix; cannot accept a callback ID string for\n\t  a command argument [ruby-dev:25479]\n\n\t* ext/tk/lib/multi-tk.rb: ditto\n\n\t* ext/tk/lib/tk/*.rb: ditto\n\n\t* ext/tk/lib/tkextlib/*.rb: ditto\n\n\t* ext/tk/sample/demos-jp/anilabel.rb: new demo script\n\n\t* ext/tk/sample/demos-en/anilabel.rb: ditto\n\n\t* ext/tk/sample/tkHTML/ss.rb: local variable scope bug fix\n\t  [ruby-dev:25479]\n\nMon Jan 24 16:00:53 2005  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (guess_old): not use NKF.guess_old\n\t  but NKF.guess1. fixed: [ruby-dev:25491]\n\nMon Jan 24 15:44:25 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* document updates - [ruby-core:04296], [ruby-core:04301],\n\t  [ruby-core:04302], [ruby-core:04307]\n\nSun Jan 23 12:38:01 2005  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/wsdlDriver.rb: from 1.5.3-ruby1.8.2, operation which has\n\t  capitalized name (such as KeywordSearchRequest in AWS) is defined as\n\t  a method having uncapitalized name. (converted with\n\t  GenSupport.safemethodname to handle operation name 'foo-bar').  it\n\t  introduced serious incompatibility; in the past, it was defined as a\n\t  capitalized.\n\n\t  define capitalized method as well under that circumstance.\n\nSun Jan 23 05:24:42 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspreq_to_der): should call\n\t  GetOCSPReq at first.\n\nSat Jan 22 22:59:08 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/ssl.rb (accept): rescue SSLError. [druby-ja:110]\n\nSat Jan 22 22:27:28 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/unix.rb: fail if UNIXFileOwner is set. [druby-ja:111]\n\nFri Jan 21 20:07:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Config.resolv): don't raise ResolvError.\n\t  reported by Sam Roberts.  [ruby-talk:127133]\n\nFri Jan 21 17:09:44 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (decode_utf7): use pack(\"U*\") to encode UTF-8.\n\n\t* lib/net/imap.rb (encode_utf7): use unpack(\"U*\") to decode UTF-8.\n\n\t* test/net/imap/test_imap.rb: added tests for Net::IMAP.\n\nFri Jan 21 16:58:10 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (rb_push_glob): should work for NUL delimited patterns.\n\n\t* dir.c (rb_glob2): should aware of offset in the pattern.\n\nFri Jan 21 13:58:37 2005  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (u8tou16): fixed typo. fixed: [ruby-list:40546]\n\nFri Jan 21 00:37:09 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/syck/rubyext.c (syck_parser_bufsize_set): avoid VC++ warning\n\t  \"local variable 'size' used without having been initialized\".\n\nThu Jan 20 11:42:02 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_new4): should propagate taintedness.\n\n\t* env.h: rename member names in struct FRAME; last_func -> callee,\n\t  orig_func -> this_func, last_class -> this_class.\n\n\t* struct.c (rb_struct_set): use original method name, not callee\n\t  name, to retrieve member slot.  [ruby-core:04268]\n\n\t* time.c (time_strftime): protect from format modification from GC\n\t  finalizers.\n\nThu Jan 20 02:01:10 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (Init_Object): remove rb_obj_id_obsolete()\n\nWed Jan 19 18:02:19 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/ipaddr.rb (to_s, test_to_s): too many colons with some cases.\n\nWed Jan 19 01:16:30 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Config.parse_resolv_conf): ignore\n\t  domain and search directive without an argument.\n\t  reported by Sam Roberts.  [ruby-talk:126781]\n\nMon Jan 17 23:33:46 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (aix): fix typo.  [ruby-talk:126401]\n\nMon Jan 17 07:08:51 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/readline/readline.c: suppress warnings.\n\n\t* lib/irb/extend-command.rb (IRB::ContextExtender.def_extend_command):\n\t  ditto.\n\n\t* lib/irb/ext/history.rb (IRB::Context::set_last_value): ditto.\n\n\t* lib/irb/ext/history.rb (IRB::Context::eval_history): ditto.\n\n\t* lib/irb/locale.rb (IRB::Locale::real_load): ditto.\n\n\t* lib/irb/slex.rb (SLex::Node::create_subnode): remove garbage.\n\nMon Jan 17 00:09:42 2005  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/uri/common.rb (PORT): typo fix. fixed: [ruby-core:04256]\n\nSat Jan 15 14:57:22 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (proc_options): ignore trailing CRs at the end of short\n\t  options as well as long options.  fixed: [ruby-core:04232]\n\nSat Jan 15 13:44:22 2005  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.2 -> 0.1.3.\n\n\t* lib/rss/rss.rb: accept inheritance. [ruby-talk:126104]\n\nWed Jan 12 12:29:28 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_mod_define_method): incomplete subclass check.\n\t  [ruby-dev:25464]\n\n\t* class.c (rb_make_metaclass): class of metaclasses should be\n\t  plain Class.  [ruby-list:40524]\n\nTue Jan 11 20:58:52 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (remain_size): use buffered data instead of unreading to avoid\n\t  inconsistency of text mode.  fixed: [ruby-dev:25446]\n\nTue Jan 11 09:37:53 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* numeric.c (Init_Numeric): turn off floating point exceptions\n\t  on bcc32. \"1e300\".to_f had crashed by overflow.\n\nMon Jan 10 15:28:51 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI::Socket#request_line): should\n\t  escape SCRIPT_NAME and PATH_INFO before being parsed as a URI.\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils#escape_path): add\n\t  new method to escape URI path component.\n\n\t* lib/webrick/ssl.rb (WEBrick::Config::SSL): the default value\n\t  of :SSLEnable is false.\n\n\t* test/webrick/{test_cgi.rb,webrick.cgi}: new file.\n\n\t* test/webrick/utils.rb: require \"webrick/https.h\".\n\nMon Jan 10 01:22:55 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (rb_data_object_alloc): klass may be NULL.\n\t  [ruby-list:40498]\n\nSun Jan  9 14:12:17 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_f_select): IO list could be altered.  [ruby-dev:25312]\n\nSun Jan  9 04:08:40 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* test/webrick/test_server.rb (test_daemon): delete an assertion\n\t  which has possibility to fail by race condition.\n\nSun Jan  9 03:22:46 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (test_copy_entry): copy_entry\n\t  copies only file type, not mtime. [ruby-dev:25383]\n\nSat Jan  8 04:38:47 2005  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb: Kernel#y requires an argument.\n\nFri Jan  7 21:12:29 2005  TAMURA Takashi  <sheepman@tcn.zaq.ne.jp>\n\n\t* random.c (rand_init): use ALLOC_N instead of ALLOCA_N\n\t  [ruby-dev:25426]\n\nFri Jan  7 20:01:31 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#proxy_service):\n\t  should delete trailing LF from the result of pack(\"m*\").\n\n\t* lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#proxy_connect):\n\t  - should delete trailing LF from the result of pack(\"m*\").\n\t  - clear Request-Line not to send the response by HTTPServer#run.\n\n\t* lib/webrick/httputils (WEBrick::HTTPUtils.parse_qvalues):\n\t  refine regexp (and change the name of a local variable).\n\n\t* lib/webrick/server.rb (WEBrick::Daemon.start): prepared stdio\n\t  don't allow changing its mode.\n\n\t* test/webrick/*, sample/webrick/httpproxy.rb: add new files.\n\nFri Jan  7 18:03:35 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (mark_locations_array): avoid core dump with -O3.\n\t  [ruby-dev:25424]\n\nThu Jan  6 20:29:18 2005  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (zstream_end): should return value.\n\nThu Jan  6 19:59:03 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.c (rb_w32_close): didn't close socket handle.\n\t  [ruby-dev:25414]\n\n\t* win32/win32.c (rb_w32_open_osfhandle): bcc32's _open_osfhandle\n\t  never set EMFILE.\n\nThu Jan  6 17:22:41 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* random.c (random_seed): O_NONBLOCK isn't defined on some\n\t  platforms. [ruby-dev:25417]\n\nThu Jan  6 13:45:35 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/time.rb: recognize +00:00 and GMT as a localtime.\n\nThu Jan  6 07:58:28 2005  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/usage.rb (RDoc::RDoc.usage_no_exit): Allow for colons\n\t  in path names on DOS machines. (thanks to Johan Nilsson)\n\nThu Jan  6 00:02:35 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb: use MockClock.sleep instead of Kernel.sleep\n\t  [ruby-dev:25387]\n\nWed Jan  5 20:16:32 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* random.c (limited_big_rand): didn't work if SIZEOF_BDIGITS == 2.\n\t  [ruby-dev:25408]\n\n\t* random.c (random_seed): refined.\n\nWed Jan  5 16:39:54 2005  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* parse.y (BITSTACK_POP): workaround for bcc32 compiler's bug.\n\t  shift assignment operator '>>=' for __int64 in struct may\n\t  generate collapsed code. [ruby-dev:25342]\n\n\t* win32/win32.[ch]: failed to compile on bcc32 (and probably wince)\n\t  [ruby-dev:25306]\n\nWed Jan  5 12:49:39 2005  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_initialize): Thread objects cannot be initialized\n\t  again.  fixed: [ruby-core:04067]\n\nWed Jan  5 02:30:11 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* random.c (init_by_array): imported from mt19937ar-cok.tgz.\n\t  (genrand_int32): ditto.\n\t  (genrand_real): replaced with genrand_res53 in mt19937ar-cok.\n\t  (rand_init): support bignum for longer seed.\n\t  (random_seed): generate longer seed.\n\t  (make_mask): new function.\n\t  (limited_rand): ditto.\n\t  (limited_big_rand): ditto.\n\t  (rb_f_rand): call limited_rand and limited_big_rand.\n\t  [ruby-dev:25403]\n\nTue Jan  4 23:25:29 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_rand): should return positive random number.\n\t  [ruby-dev:25401]\n\nTue Jan  4 21:25:43 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/{test_drbssl.rb,test_drbunix.rb,ut_drb.rb}: use\n\t  DRbService.ext_service. reduce sleep.\n\nMon Jan  3 14:01:54 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* random.c (random_seed): don't use /dev/urandom if it is not\n\t  character device.\n\nMon Jan  3 11:37:42 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* random.c (random_seed): use /dev/urandom if available.\n\t  [ruby-dev:25392]\n\nTue Jan  4 11:15:29 2005  TAMURA Takashi  <sheepman@tcn.zaq.ne.jp>\n\n\t* bignum.c (rb_big_rand): do not use rb_big_modulo to generate\n\t  random bignums.  [ruby-dev:25396]\n\nMon Jan  3 11:03:37 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/test_drb.rb: move TestDRbReusePort to new file.\n\t  [ruby-dev:25238]\n\n\t* test/drb/drbtest.rb: change timeout.\n\n\t* test/drb/ignore_test_drb.rb: new file.\n\nMon Jan  3 07:27:46 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpauth/htpasswd.rb (WEBrick::Htpasswd#reload):\n\t  raise NotImplementedError if password is encrypted by digest\n\t  algorithms. This patch is contributed by sheepman. [ruby-list:40467]\n\n\t* lib/webrick/httpauth/digestauth.rb\n\t  (WEBrick::HTTPAuth::DigestAuth#_authenticate): fix digest calculation.\n\t  This patch is contributed by sheepman. [ruby-list:40482]\n\n\t* lib/webrick/{httpauth.rb,httpauth/basicauth.rb,httpproxy.rb}: use\n\t  pack/unpack-template char \"m\" instead of lib/base64.rb to do base64\n\t  encoding/decoding. fixed: [ruby-dev:25336]\n\n\t* test/webrick/test_httpauth.rb: new file.\n\nSun Jan  2 15:42:10 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: add lazy stop_service.\n\n\t* lib/drb/extserv.rb: ditto.\n\nSun Jan  2 01:17:17 2005  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/drbtest.rb: add method DRbService.ext_service.\n\n\t* test/drb/test_drb.rb: ditto.\n\n\t* test/drb/test_drbssl.rb: ditto.\n\nSat Jan  1 20:23:02 2005  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (argf_readpartial): new method ARGF.readpartial.\n\t  (io_getpartial): extracted from io_readpartial.\n\t  (io_readpartial): call io_getpartial.\n\nSat Jan  1 17:44:54 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (each_capitalized): should join header field\n\t  value.  This patch is contributed sheepman [ruby-list:40478]\n\n\t* test/net/http/test_httpheader.rb: test it.\n\nSat Jan  1 16:21:29 2005  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (copy_stream): use read/write instead of\n\t  sysread/syswrite, which allows duck typing. [ruby-dev:25369]\n\n\t* lib/fileutils.rb (copy_stream): does NOT support nonblocking IO.\n\t  [ruby-dev:25370]\n\n\t* lib/fileutils.rb (copy_entry): could not copy symlink.\n\n\t* test/fileutils/test_fileutils.rb: test copy_entry, copy_file,\n\t  copy_stream.\n\nSat Jan  1 04:20:23 2005  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ns_spki.c (ossl_spki_set_challenge): should call\n\t  StringValue before GetSPKI. fixed: [ruby-dev:25359].\n\nSat Jan  1 01:13:28 2005  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_autoload): [ruby-dev:25373]\n\nFri Dec 31 14:10:43 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::TextFormatter::display_flow_item):\n\t  Fix problem if heading contains formatting.\n\nFri Dec 31 00:08:02 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in (HAVE_RLIM_T): removed because not used.\n\nThu Dec 30 22:45:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h: don't deprecate rb_read_check.\n\n\t* io.c (STDIO_READ_DATA_PENDING): reverted from old READ_DATA_PENDING\n\t  to check stdio read buffer.\n\t  (rb_read_check): use STDIO_READ_DATA_PENDING.\n\t  (rb_read_pending): ditto.\n\t  (rb_getc): ditto.\n\nThu Dec 30 05:39:35 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y: eliminate unused members in struct parser_params.\n\t  [ruby-dev:25258] (again)\n\n\t* parse.y: make parser_new() static.\n\nThu Dec 30 00:41:42 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (svalue_to_avalue): [ruby-dev:25366]\n\n\t* string.c (rb_str_justify): [ruby-dev:25367]\n\nWed Dec 29 11:07:07 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/html/kilmer.rb: Update to use new\n\t  sections.\n\nTue Dec 28 22:31:46 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_justify): create buffer string after argument type\n\t  conversion.  fixed: [ruby-dev:25341]\n\nTue Dec 28 17:18:17 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/net/telnet.rb (preprocess): remove NULL unless binmode.\n\t  fixed: [ruby-list:40320]\n\nTue Dec 28 15:41:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c (reinit): should initialize all static\n\t  variables.  fixed: [ruby-list:40445]\n\nTue Dec 28 15:25:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/lib/kconv.rb (Kconv::RegexpEucjp): second byte is up to\n\t  0xfe.\n\n\t* ext/nkf/lib/kconv.rb (Kconv#kconv): should handle UTF8 and UTF16\n\t  properly.\n\nTue Dec 28 13:35:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (rb_deflate_s_deflate, rb_inflate_s_inflate): ensure\n\t  freeing internal zstreams.  fixed: [ruby-dev:25309]\n\n\t* ext/zlib/zlib.c (rb_deflate_init_copy): replace rb_deflate_clone.\n\nMon Dec 27 20:02:14 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix SEGV bug when deleting Tk interp\n\n\t* ext/tk/lib/multi-tk.rb: ditto\n\nMon Dec 27 16:54:05 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c (Init_ossl_x509name): should use\n\t  rb_hash_new to get exactly a Hash. fix [ruby-dev:25325].\n\nMon Dec 27 15:29:12 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (cp_r): tested wrong file name.\n\t  [ruby-dev:25339]\n\nMon Dec 27 15:15:18 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mv): should raise error when moving a\n\t  directory to the (empty) directory. [ruby-talk:124368]\n\n\t* lib/fileutils.rb (mv): wrongly did not overwrite file on Win32\n\t  platforms.\n\nMon Dec 27 14:36:20 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (NUM2RLIM, RLIM2NUM): Without SIZEOF_RLIM_T is not error.\n\t  fixed: [ruby-dev:25346]\n\nSun Dec 26 16:21:39 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (Net::IMAP::PlainAuthenticator): added a new class\n\t  to support the PLAIN authentication mechanism. Thanks, Benjamin\n\t  Stiglitz.\n\nSat Dec 25 01:28:23 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_select): [ruby-dev:25312]\n\nFri Dec 24 23:27:18 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/image.rb: TkPhotoImage#cget bug fix\n\nFri Dec 24 03:06:13 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (io_reopen, rb_io_reopen): prohibit to change access mode for\n\t  special IO ports.  [ruby-dev:25225]\n\n\t* io.c (next_argv): reduce use of stdio.\n\nFri Dec 24 02:22:53 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_loader_transfer): check type conversion.\n\n\t* ext/syck/rubyext.c (syck_parser_assign_io, rb_new_syck_node): duck\n\t  typing.\n\n\t* ext/syck/rubyext.c (syck_parser_s_alloc, syck_parser_initialize):\n\t  allocation framework.\n\n\t* ext/syck/rubyext.c (syck_emitter_s_alloc, syck_emitter_initialize):\n\t  ditto.\n\nFri Dec 24 01:21:00 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkextlib/blt.rb: add BLT extension support\n\n\t* ext/tk/lib/tkextlib/blt/*.rb: ditto\n\n\t* ext/tk/lib/tkextlib/blt/tile/*.rb: ditto\n\nThu Dec 23 23:43:24 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (proc_setgroups): check if the argument length is\n\t  modified.  fixed: [ruby-dev:25285]\n\n\t* process.c (SIZEOF_RLIM_T): err if size of rlim_t is not set.\n\nThu Dec 23 19:08:41 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h: rename FMODE_UNSEEKABLE to FMODE_DUPLEX.\n\n\t* io.c (io_check_tty): extracted function to set FMODE_LINEBUF and\n\t  FMODE_DUPLEX.\n\nThu Dec 23 13:13:33 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: define TclTkLib::COMPILE_INFO and\n\t  RELEASE_DATE\n\n\t* ext/tcltklib/extconf.rb: ditto\n\n\t* ext/tk/tkutil.c: define TkUtil::RELEASE_DATE\n\n\t* ext/tk/lib/tk.rb: define Tk::RELEASE_DATE\n\nThu Dec 23 00:16:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (bsdi): use $(CC) for LDSHARED.  fixed [ruby-dev:25270]\n\nWed Dec 22 11:14:55 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_mode_modenum): replace O_ACCMODE with O_RDWR.\n\t  fixed: [ruby-dev:25273]\n\nWed Dec 22 08:34:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/dl/sym.c (rb_dlsym_initialize): extract internal pointers after\n\t  all argument conversion.  fixed: [ruby-dev:25271]\n\nTue Dec 21 16:15:21 2004  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* lib/xmlrpc/client.rb: use \"\" instead of \".\" if prefix argument is\n\t  nil in proxy methods. nil is default value.\n\n\t* test/xmlrpc/test_webrick_server.rb, test/xmlrpc/webrick_testing.rb:\n\t  use threads instead of forking. this should fix issue #1208\n\t  (http://rubyforge.org/tracker/?func=detail&atid=1698&aid=1208&group_id=426).\n\t  removed testing of SSL enabled servlet as this hangs.\n\nWed Dec 22 00:05:10 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/*, test/soap/*, sample/soap/authheader/*: eval cleanup.\n\nTue Dec 21 22:07:41 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_decode_all): use rb_str_new4\n\t  to avoid SEGV.\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_traverse, ossl_asn1_decode,\n\t  ossl_asn1_decode_all): temporary value should be marked volatile.\n\nTue Dec 21 12:42:34 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_traverse, ossl_asn1_decode):\n\t  use rb_str_new4 to avoid SEGV. fix [ruby-dev:25261]\n\n\t* test/openssl/test_asn1.rb: add tests for OpenSSL::ASN1.\n\nTue Dec 21 12:10:04 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/grid.rb: rescue bug of 'grid configure' on Tcl/Tk8.3-\n\nMon Dec 20 22:52:29 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* added samples for the previous soap4r's commit.\n\nMon Dec 20 22:56:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (set_stack_end): gcc noinline attribute is available since\n\t  gcc-3.1.\n\nMon Dec 20 22:40:31 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* added files:\n\t  * lib/soap/mapping/wsdl*.rb\n\t  * lib/wsdl/soap/element.rb\n\t  * lib/wsdl/xmlSchema/simpleContent.rb\n\n\t* modified files:\n\t  * lib/soap/*\n\t  * lib/wsdl/*\n\t  * lib/xsd/*\n\t  * test/soap/*\n\t  * test/wsdl/*\n\t  * test/xsd/*\n\n\t* summary\n\t  * imported from the soap4r repository.  Version: 1.5.3-ruby1.8.2\n\n\t  * added several XSD basetype support: nonPositiveInteger,\n\t    negativeInteger, nonNegativeInteger, unsignedLong, unsignedInt,\n\t    unsignedShort, unsignedByte, positiveInteger\n\n\t  * HTTP client connection/send/receive timeout support.\n\n\t  * HTTP client/server gzipped content encoding support.\n\n\t  * improved WSDL schema definition support; still is far from\n\t    complete, but is making step by step improvement.\n\nMon Dec 20 14:45:19 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/net/https.rb: delete descriptions about key_file and cert_file.\n\t  fixed: [ruby-dev:25243]\n\n\t* ext/openssl/lib/net/telnets.rb: ditto.\n\nMon Dec 20 14:07:02 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: supports new features of Tcl/Tk8.5a2\n\n\t* ext/tk/lib/tk/clock.rb: ditto\n\n\t* ext/tk/lib/tk/text.rb: ditto\n\n\t* ext/tk/lib/tk/panedwindow.rb: ditto\n\nMon Dec 20 13:51:40 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyport): [ruby-talk:124072]\n\nMon Dec 20 10:51:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (special_local_set): prevent the parser object from GC.\n\t  fixed: [ruby-dev:25252]\n\nMon Dec 20 03:30:40 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session#initialize): empty session id was\n\t  used if request had no session key.  fixed: [ruby-core:03981]\n\nMon Dec 20 01:51:01 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (make_struct): [ruby-dev:25249]\n\nMon Dec 20 00:16:54 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rexml/encodings/SHIFT_JIS.rb: fixed LoadError bug.\n\t  [ruby-core:3958]\n\nSun Dec 19 17:24:59 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (enable_rpath): use rpath flag to embed the library\n\t  path into extensions on ELF environment.  [ruby-dev:25035]\n\nSun Dec 19 11:01:25 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit.rb: use standalone runner for -e.\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner#options): accept\n\t  multiple -p and -x options.\n\n\t* lib/test/unit/collector/dir.rb (Test::Unit::Collector::Dir#recursive_collect):\n\t  ditto.\n\nSat Dec 18 16:36:23 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (rb_deflate_s_deflate, rb_inflate_s_inflate):\n\t  disallow interrupt by type conversion.  fixed: [ruby-dev:25226]\n\nSat Dec 18 15:09:02 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/webrick/httpauth.rb,\n\t  lib/webrick/httpauth/{basicauth.rb,digestauth.rb}: use\n\t  pack/unpack-template char \"m\" instead of lib/base64.rb to do base64\n\t  encoding/decoding.\n\nSat Dec 18 10:51:01 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_open_dir): new function.  [ruby-dev:25242]\n\n\t* io.c (rb_f_open): add type check for return value from to_open.\n\nFri Dec 17 16:44:26 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in (ac_cv_sizeof_rlim_t): set 8 for BSD/OS.\n\t  Reported by OHARA Shigeki.  [ruby-dev:25236]\n\nFri Dec 17 16:28:12 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: fix bug on setting up system encoding\n\n\t* ext/tk/lib/tk/event.rb: fix error on require process\n\n\t* ext/tk/lib/tk/font.rb: fix abnormal termination error on Windows\n\n\t* ext/tk/lib/tk/virtevent.rb: TkVirtualEvent::PreDefVirtEvent.new()\n\t  accepts event-sequence arguments\n\n\t* ext/tk/lib/tk/text.rb: fail to dump embedded images\n\n\t* ext/tk/lib/tk/text.rb: tag_nextrange and tag_prevrange returns wrong\n\t  types of values\n\n\t* ext/tk/lib/tk/texttag.rb: nextrange and prevrange returns wrong\n\t  types of values\n\n\t* ext/tk/lib/tk/text.rb: add TkText::IndexModMethods module and\n\t  TkText::IndexString class to treat text index modifiers\n\n\t* ext/tk/lib/tk/texttag.rb: use TkText::IndexModMethods module\n\n\t* ext/tk/lib/tk/textmark.rb: ditto\n\n\t* ext/tk/lib/tk/textimage.rb: ditto\n\n\t* ext/tk/lib/tk/textwindow.rb: ditto\n\n\t* ext/tk/lib/tk/textimage.rb: wrong gravity of text mark for embedded\n\t  image\n\n\t* ext/tk/lib/tk/textwindow.rb: wrong gravity of text mark for\n\t  embedded window\n\nFri Dec 17 13:33:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session#initialize): control adding\n\t  session_id hidden fields.  fixed: [ruby-talk:123850]\n\nFri Dec 17 00:01:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_proc_arity, rb_node_arity, rb_mod_method_arity,\n\t  rb_obj_method_arity): new functions to obtain method arity.\n\t  [ruby-dev:25143]\n\nThu Dec 16 23:31:13 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): create RUBYARCHDIR also when no extension\n\t  is installed.  fixed: [ruby-dev:25215]\n\nThu Dec 16 22:36:57 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/test_drb.rb: adjust and reduce sleep.\n\nThu Dec 16 18:37:08 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.c (ossl_raise): refine message format.\n\nThu Dec 16 16:29:44 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/demos-en/widget: modify version check for\n\t  supporting features\n\nThu Dec 16 16:03:50 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/bindtag.rb: bug fix [ruby-talk: 123667]\n\n\t* ext/tk/lib/tk/timer.rb: accept :idle for the interval argument\n\n\t* ext/tk/lib/tk.rb: add TkComm._callback_entry?()\n\n\t* ext/tk/lib/multi-tk.rb: add MultiTkIp.cb_entry_class\n\n\t* ext/tk/lib/tk/canvas.rb: use TkComm._callback_entry?()\n\n\t* ext/tk/lib/tk/canvastag.rb: ditto\n\n\t* ext/tk/lib/tk/dialog.rb: ditto\n\n\t* ext/tk/lib/tk/optiondb.rb: ditto\n\n\t* ext/tk/lib/tk/text.rb: ditto\n\n\t* ext/tk/lib/tk/texttag.rb: ditto\n\n\t* ext/tk/lib/tk/textwindow.rb: ditto\n\n\t* ext/tk/lib/tk/timer.rb: ditto\n\n\t* ext/tk/lib/tk/validation.rb: ditto\n\n\t* ext/tk/lib/tkextlib/*: ditto\n\nThu Dec 16 04:02:28 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/extconf.rb: bison is not needed if ripper.c exists.\n\t  [ruby-dev:25191]\n\nThu Dec 16 03:27:10 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: remove junk.\n\nThu Dec 16 00:57:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (rb_syck_io_str_read): [ruby-core:03973]\n\nThu Dec 16 00:43:29 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: changed default binded address family to use an\n\t  available address family of host name. [druby-ja:101]\n\n\t* lib/drb/ssl.rb: ditto\n\nWed Dec 15 17:47:17 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#start_thread):\n\t  should log about all accepted socket. [ruby-core:03962]\n\n\t* lib/webrick/accesslog.rb (WEBrick::AccessLog#setup_params):\n\t  \"%%\" and \"%u\" are supported. [webricken:135]\n\n\t* lib/webrick/httpservlet/filehandler.rb\n\t  (WEBrick::HTTPServlet::FileHandler#check_filename):\n\t  :NondisclosureName is acceptable if it is Enumerable.\n\n\t* lib/webrick/config.rb (WEBrick::Config::FileHandler):\n\t  default value of :NondisclosureName is [\".ht*\", \"*~\"].\n\nWed Dec 15 16:10:23 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_obj_id_obsolete): warn always.\n\nWed Dec 15 15:31:02 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/set.rb (Set#==): [ruby-dev:25206]\n\nWed Dec 15 14:32:18 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_fdisset): check whether the handle is valid.\n\nWed Dec 15 10:30:37 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/openssl/ossl_digest.c (ossl_digest_initialize): [ruby-dev:25198]\n\nTue Dec 14 19:17:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* utf8.c (utf8_is_mbc_ambiguous): [ruby-talk:123561]\n\n\t* utf8.c (utf8_mbc_to_normalize): ditto.\n\nTue Dec 14 17:08:15 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_close): need to reset osfhnd().\n\nTue Dec 14 14:03:57 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.c (ossl_raise): avoid buffer overrun.\n\t  [ruby-dev:25187]\n\nTue Dec 14 12:36:04 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::initialize): generate new\n\t  session if given session_id does not exist.  [ruby-list:40368]\n\nTue Dec 14 08:47:45 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_eval): should mark ruby_eval_tree.  [ruby-dev:25189]\n\nMon Dec 13 18:13:52 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* gc.c (set_stack_end): new function to obtain stack end address.\n\t  set_stack_end obtains a stack end address by an address of local\n\t  variable in the function.\n\t  (SET_STACK_END, STACK_END): use set_stack_end.  don't use alloca.\n\t  This makes the conservative garbage collector to scan a stack frame\n\t  of the garbage_collect function itself.  This is required because\n\t  callee-save registers may be stored in the frame.\n\t  [ruby-dev:25158]\n\nMon Dec 13 02:45:51 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/curses/curses.c (window_subwin): call NUM2INT() before\n\t  GetWINDOW(). fixed: [ruby-dev:25161]\n\nMon Dec 13 00:58:02 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (cleanpath_aggressive): make it private.\n\t  (cleanpath_conservative): ditto.\n\t  Suggested by Daniel Berger.  [ruby-core:3914]\n\nSun Dec 12 21:32:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_super.rb (TestSuper#test_define_method): now methods\n\t  from procs can call super.\n\nSun Dec 12 10:35:10 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/html/html.rb (RDoc::Page): Don't\n\t  show an accessor's r/w flag if none was specified\n\nSun Dec 12 10:14:03 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb (RDoc::RDoc::parse_files): Never exclude files\n\t  explicitly given on the command line.\n\nSat Dec 11 21:10:16 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: add DRbRemoteError. [ruby-list:40348],\n\t  [ruby-list:40390]\n\n\t* test/drb/drbtest.rb: ditto.\n\n\t* test/drb/ut_drb.rb: ditto.\n\nSat Dec 11 13:08:28 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sample/optparse/subcommand.rb: a sample for sub commands like\n\t  cvs.  contributed by Minero Aoki.\n\nFri Dec 10 08:39:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_listen): get OpenFile just before calling\n\t  listen(2).\n\nThu Dec  9 16:28:35 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/sdbm/init.c (GetDBM): typo.\n\nThu Dec  9 16:21:51 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI#setup_header): avoid\n\t  SecurityError. [ruby-dev:24970]\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): should wait\n\t  for reading request till data arrive. [ruby-talk:121068]\n\nThu Dec  9 14:38:35 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_inspect): escape # which starts an expression\n\t  substitution.  fixed: [ruby-core:03922]\n\n\t* string.c (rb_str_dump): not escape # which isn't a substitution.\n\nThu Dec  9 12:31:53 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (pipe_open): should set prog if argc != 0.\n\nThu Dec  9 10:54:36 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dbm/dbm.c (fdbm_select): [ruby-dev:25132]\n\n\t* ext/sdbm/init.c: ditto.\n\n\t* ext/gdbm/gdbm.c: ditto.\n\nThu Dec  9 10:19:18 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/socket/test_socket.rb (test_setsockopt): use SO_LINGER instead\n\t  of SO_BINDTODEVICE.  fixed: [ruby-dev:25133]\n\nThu Dec  9 03:08:36 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_init): set root-win title to \"ruby\" when\n\t  the running script is '-e one-liner' or '-' (stdin).\n\n\t* ext/tcltklib/extconf.rb: add find_library(\"#{lib}#{ver}\",..) for\n\t  stub libs\n\n\t* ext/tk/lib/tk/textmark.rb: TkTextMarkCurrent and TkTextMarkAnchor\n\t  have a wrong parent class.\n\n\t* ext/tk/lib/tk/dialog.rb: rename TkDialog2 --> TkDialogObj and\n\t  TkWarning2 --> TkWarningObj (old names are changed to alias names)\n\n\t* ext/tk/lib/tk/dialog.rb: bug fix of treatment of 'prev_command'\n\t  option and hashes for configuration\n\n\t* ext/tk/lib/tk/dialog.rb: add TkDialogObj#name to return the\n\t  button name\n\n\t* ext/tk/lib/tk/radiobutton.rb: rename enbugged method value() ==>\n\t  get_value() and value=(val) ==> set_value(val).\n\n\t* ext/tk/lib/tk/menu.rb: add TkMenu.new_menuspec\n\n\t* ext/tk/lib/tk/menu.rb: add alias (TkMenuButton = TkMenubutton,\n\t  TkOptionMenuButton = TkOptionMenubutton)\n\n\t* ext/tk/lib/tk/event.rb: new method aliases (same as option keys of\n\t  event_generate) for Event object\n\n\t* ext/tk/lib/tk/font.rb: configinfo returns proper types of values\n\n\t* ext/tk/lib/tk.rb: bind methods accept subst_args + block\n\n\t* ext/tk/lib/tk/canvas.rb: ditto\n\n\t* ext/tk/lib/tk/canvastag.rb: ditto\n\n\t* ext/tk/lib/tk/frame.rb: ditto\n\n\t* ext/tk/lib/tk/text.rb: ditto\n\n\t* ext/tk/lib/tk/texttag.rb: ditto\n\n\t* ext/tk/lib/tk/toplevel.rb: ditto\n\n\t* ext/tk/lib/tkextlib/*: ditto and bug fix\n\nWed Dec  8 23:54:29 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/html/html.rb (RDoc::Page): Typo\n\t  meant that h2 tag was invisible.\n\nWed Dec  8 22:10:02 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h, io.c, ext/dl/dl.c, ext/pty/pty.c, ext/socket/socket.c:\n\t  create FILE object only when required: popen(3) and DL's IO#to_ptr.\n\t  [ruby-dev:25122]\n\n\t* io.c (rb_io_binmode): use setmode for Human68k.  [ruby-dev:25121]\n\nWed Dec  8 20:13:06 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* process.c (rb_spawn): support for DJGPP.\n\n\t* lib/mkmf.rb (VPATH): specify the implicit path separator for DJGPP.\n\nWed Dec  8 17:48:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): merge Guy Decoux's argument preserve\n\t  patch in [ruby-core:03874].\n\nWed Dec  8 17:37:33 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_pipe_exec): need to close original socket\n\t  handle.\n\nWed Dec  8 14:31:36 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): [ruby-dev:25104]\n\nWed Dec  8 13:49:46 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_pipe_exec): must close original handle\n\t  before exec. fixed: [ruby-dev:25112]\n\nWed Dec  8 11:46:26 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (string_content): get rid of segfault at empty evstr.\n\t  fixed: [ruby-dev:25113]\n\nWed Dec  8 03:26:51 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_bio.c (ossl_obj2bio): should not use fptr->f.\n\t  [ruby-dev:25101]\n\nWed Dec  8 03:26:41 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* runruby.rb: prepend LIBRUBY_SO to LD_PRELOAD as well as rubytest.rb.\n\nWed Dec  8 01:35:44 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (is_socket): reorder of function definitions.\n\nWed Dec  8 00:44:31 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (pipe_open): win32 bidirectional pipe support.\n\n\t* win32/win32.[ch] (rb_w32_pipe_exec): ditto.\n\n\t* win32/win32.[ch] (socketpair): new function. POSIX socketpair\n\t  emulation.\n\n\t* win32/win32.c (socketpair_internal): ditto.\n\nWed Dec  8 00:25:07 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_version.rb: added version check test.\n\t  [ruby-dev:25053]\n\nTue Dec  7 15:40:38 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (io_fwrite): avoid context switch before writing to stderr.\n\t  [ruby-dev:25080]\n\n\t* rubyio.h: refine deprecated declaration.\n\n\t* configure.in, file.c, io.c: remove useless check: fseeko, etc.\n\nTue Dec  7 13:42:07 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* dir.c (dir_s_mkdir): win32 special processing doesn't need any\n\t  longer.\n\n\t* win32/win32.[ch] (rb_w32_mkdir): new function. POSIX.1 compatible\n\t  interface.\n\n\t* win32/win32.[ch] (rb_w32_rmdir): new function.\n\nTue Dec  7 00:27:37 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (proc_setgroups): [ruby-dev:25081]\n\nMon Dec  6 23:07:57 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: check -lsocket for socketpair and shutdown.\n\t  reported by Ville Mattila.  [ruby-core:03903]\n\nMon Dec  6 23:00:45 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (ac_cv_sizeof_rlim_t): setup for DJGPP.\n\n\t* io.c (is_socket, shutdown): define dummy macros for DJGPP.\n\n\t* process.c: use SIZEOF_RLIM_T instead of HAVE_RLIM_T for DJGPP.\n\nMon Dec  6 21:19:40 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (is_socket): fix typos. [ruby-core:03900]\n\nMon Dec  6 20:13:28 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (is_socket): new function.\n\n\t* io.c (rb_io_close_read, rb_io_close_write): use is_socket().\n\n\t* io.c (rb_io_fptr_finalize): need to check fptr->f before calling\n\t  rb_io_fptr_cleanup().\n\n\t* io.c (pipe_open): win32 pipe support (experimental).\n\n\t* win32/win32.[ch] (rb_w32_pipe_exec): return file descriptors\n\t  instead of FILE structure objects.\n\n\t* win32/win32.[ch] (rb_w32_is_socket): new function.\n\nMon Dec  6 19:40:40 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* Makefile.in (.y.c): simplify the rule.\n\nMon Dec  6 18:08:10 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (rb_reg_eqq): document fix.  [ruby-talk:122541]\n\nMon Dec  6 17:49:30 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (run_trap_eval): add prototype for Microsoft compiler.\n\nMon Dec  6 17:32:38 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* rubyio.h, intern.h, io.c, file.c, process.c, ext/socket/socket.c,\n\t  ext/pty/pty.c, ext/io/wait/wait.c, ext/openssl/ossl_ssl.c:\n\t  Use own buffering mechanism instead of stdio.  [ruby-dev:25056]\n\n\t* io.c, ext/stringio/stringio.c, test/ruby/ut_eof.rb:\n\t  EOF flag removed.\n\nMon Dec  6 17:15:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/socket/test_socket.rb (TestBasicSocket#test_setsockopt):\n\t  BasicSocket#setsockopt dumps core.  [ruby-dev:25039]\n\n\t* test/socket/test_tcp.rb (TestTCPSocket#test_recvfrom):\n\t  TCPSocket#recvfrom dumps core.  [ruby-dev:24705]\n\n\t* test/socket/test_udp.rb (TestUDPSocket#test_connect):\n\t  UDPSocket#connect dumps core.  [ruby-dev:25045]\n\n\t* test/socket/test_udp.rb (TestUDPSocket#test_bind):\n\t  UDPSocket#bind dumps core.  [ruby-dev:25057]\n\nMon Dec  6 09:59:23 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fread): take VALUE argument.\n\n\t* ext/socket/socket.c (sock_connect): use rb_str_new4().\n\t  [ruby-dev:25052]\n\n\t* eval.c (rb_yield_0): [ruby-dev:25051]\n\nMon Dec  6 01:32:31 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkey_rsa.c (ossl_rsa_public_encrypt,\n\t  ossl_rsa_public_decrypt, ossl_rsa_private_encrypt,\n\t  ossl_rsa_private_decrypt): should take an optional argument\n\t  to specify padding mode. [ruby-talk:122539]\n\n\t* ext/openssl/ossl_pkey_rsa.c (Init_ossl_rsa): add new constants\n\t  PKCS1_PADDING, SSLV23_PADDING, NO_PADDING and PKCS1_OAEP_PADDING\n\t  under OpenSSL::PKey::RSA.\n\n\t* test/openssl/test_pkey_rsa.rb: new file.\n\nSun Dec  5 19:39:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Completion#complete): new parameter\n\t  to direct case insensitiveness.\n\n\t* lib/optparse.rb (OptionParser#order!): ignore case only for long\n\t  option.  [ruby-dev:25048]\n\nSun Dec  5 00:54:32 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* mkconfig.rb: setup library paths before requiring library.\n\t  [ruby-core:03892]\n\nSat Dec  4 22:54:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_write): remove rb_str_locktmp().  [ruby-dev:25050]\n\n\t* io.c (io_fwrite): takes VALUE string as an argument.\n\t  [ruby-dev:25050]\n\n\t* ext/socket/socket.c (sock_connect): remove rb_str_locktmp().\n\t  [ruby-dev:25050]\n\n\t* ext/socket/socket.c (udp_connect): [ruby-dev:25045]\n\n\t* ext/socket/socket.c (udp_bind): ditto.\n\n\t* ext/socket/socket.c (udp_send): ditto.\n\n\t* ext/socket/socket.c (bsock_send): ditto.\n\n\t* ext/socket/socket.c (s_recvfrom): ditto.\n\n\t* hash.c (rb_hash_hash): should provide \"hash\" method where \"eql?\"\n\t  is redefined.  [ruby-talk:122482]\n\nSat Dec  4 21:29:05 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: (In previous commit) new method chown.\n\n\t* lib/fileutils.rb: (In previous commit) new method chown_R.\n\n\t* lib/fileutils.rb: (In previous commit) new method chmod_R\n\t  wrongly added.  Removed now.\n\nSat Dec  4 20:45:52 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir, mkdir_p): should chmod explicitly.\n\t  [ruby-core:03881]\n\nSat Dec  4 18:54:09 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: removed empty lines from output.\n\nSat Dec  4 18:49:09 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.1 -> 0.1.2\n\n\t* lib/rss/rss.rb: #item=/#set_item and so on are obsolete.\n\nSat Dec  4 14:28:56 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::Section::set_comment):\n\t  Section comments may now be bracketed by lines which are\n\t  ignored. You can now write\n\t      # -----------\n\t      # :section: Dave's Section\n\t      # comment material\n\t      # -----------\n\t   The lines before :section: are removed, and identical lines at the end are\n\t   also removed if present.\n\nSat Dec  4 00:35:08 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (bsock_setsockopt): [ruby-dev:25039]\n\nFri Dec  3 12:25:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* st.h: fix prototype for C++.\n\nFri Dec  3 01:55:24 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: widget configuration by TkWindow#method_missing\n\t  returns proper object. \"widget.option = val\" returns val, and\n\t  \"widget.option(val)\" returns self.\n\n\t* ext/tk/lib/tk/font.rb: TkFont#replace accepts only one font argument.\n\n\t* ext/tk/lib/tk/radiobutton.rb: add TkRadiobutton#value and\n\t  TkRadiobutton#value=(val).\n\n\t* ext/tk/lib/tk/spinbox.rb: callback substitution support on\n\t  command option.\n\n\t* ext/tk/sample/demos-en/widget: bug fix (wrong image height)\n\n\t* ext/tk/sample/demos-jp/widget: ditto.\n\nFri Dec  3 00:21:05 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): prepare to pass a block from \"call\" method\n\t  to a Proc generated by Method#to_proc.  [ruby-dev:25031]\n\n\t* eval.c (rb_yield_0): actually passes a block given to \"call\".\n\n\t* object.c (convert_type): use rb_respond_to() again.  this fix is\n\t  based on [ruby-dev:25021]\n\n\t* eval.c (rb_respond_to): funcall respond_to? if it's redefined.\n\t  [ruby-dev:25021]\n\nThu Dec  2 15:13:53 2004  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* test/xmlrpc/test_parser.rb, test/xmlrpc/data/*.expected: Expected\n\t  values are now stored in YAML instead of using #inspect. This fixes\n\t  false hash order.\n\nFri Dec  3 00:11:48 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_file_initialize): [ruby-dev:25032]\n\nThu Dec  2 16:41:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_protect): prevent continuations created inside from being\n\t  called from the outside.  [ruby-dev:25003]\n\n\t* eval.c (rb_callcc, rb_cont_call): prohibit calling from different\n\t  signal contexts.  [ruby-dev:25022]\n\nThu Dec  2 10:45:02 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/readline/test_readline.rb: fix for NetBSD.\n\nThu Dec  2 09:57:24 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/ostruct.rb (OpenStruct::Marshaler): OpenStruct can be\n\t  marshaled again.  [ruby-core:03862]\n\nThu Dec  2 09:30:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (thread_mark): mark thread group.  [ruby-dev:25020]\n\n\t* eval.c (thgroup_add): check whether the argument is really a Thread.\n\nThu Dec  2 07:57:16 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_ctl): [ruby-dev:25019]\n\nWed Dec  1 06:13:00 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf.c: add constant NKF::VERSION\n\n\t* ext/nkf/nkf.c(guess): this becomes an alias of guess2\n\n\t* ext/nkf/test.rb: add --no-cp932\n\n\t* ext/nkf/nkf-utf8/nkf.c: original nkf2 revision 1.47\n\nWed Dec  1 02:21:02 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* signal.c (sighandler): call handler immediately only for default\n\t  handlers.  [ruby-dev:25003]\n\nTue Nov 30 23:49:12 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open): errno should be preserved for rb_sys_fail() when\n\t  fork failed.\n\nTue Nov 30 16:18:50 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fread): need not to null terminate.  [ruby-dev:24998]\n\n\t* eval.c (rb_eval): should check previous frame for ZSUPER.\n\n\t* io.c (read_all): remove unnecessary rb_str_resize().\n\t  [ruby-dev:24996]\n\n\t* io.c (io_readpartial): ditto.\n\n\t* io.c (io_read): ditto.\n\nTue Nov 30 14:58:33 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* instruby.rb (install): add arguments explicitly to \"super\".\n\nTue Nov 30 00:49:08 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (PUSH_FRAME): flags should have been initialized.\n\n\t* eval.c (rb_eval): [ruby-core:03856]\n\n\t* io.c (rb_io_sysread): use temporary lock.  [ruby-dev:24992]\n\nTue Nov 30 00:12:57 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regparse.c: now handles many alternatives (over 500000)\n\t  in regexp. [ruby-dev:24773]\n\nMon Nov 29 16:06:04 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_write): insufficiently filled string\n\t  being extended when overwriting.  [ruby-core:03836]\n\nMon Nov 29 15:59:05 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/ostruct.rb (OpenStruct::method_missing): check method\n\t  duplication for -d.\n\n\t* lib/ostruct.rb (OpenStruct::initialize): ditto.\n\nMon Nov 29 15:22:28 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/io/nonblock/test_flush.rb: abandon tests when io/nonblock is\n\t  not supported.\n\nMon Nov 29 13:37:54 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (fptr_finalize): must not use FILE after fclose().\n\t  [ruby-dev:24985]\n\nMon Nov 29 13:13:13 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild): push back the last space before next\n\t  loop because CharNext() eats it.\n\nMon Nov 29 03:08:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (convert_type): [ruby-core:03845]\n\n\t* eval.c (rb_funcall_rescue): new function.\n\n\t* object.c (rb_Array): avoid using rb_respond_to().\n\n\t* object.c (rb_Integer): ditto.\n\n\t* eval.c (get_backtrace): no conversion for nil.\n\n\t* parse.y (reduce_nodes): empty body should return nil.\n\nMon Nov 29 01:18:18 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_io_check_writable): call io_seek regardless of\n\t  NEED_IO_SEEK_BETWEEN_RW.  [ruby-dev:24986]\n\nSun Nov 28 15:57:58 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::Element#tag): not use block_given? for\n\t  working with ruby 1.6 again.\n\n\t* lib/rss/{0.9,2.0,trackback}.rb, lib/rss/maker/base.rb:\n\t  undef -> remove_method for working with ruby 1.6 again.\n\nSun Nov 28 15:51:40 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::NotSetError): added.\n\n\t* lib/rss/maker/{1.0,0.9,2.0}.rb: changed RSS Maker to raise\n\t  RSS::NotSetError if required values of maker.channel are not\n\t  set. [ruby-talk:120061]\n\n\t* test/rss/test_maker_{1.0,0.9,2.0}.rb: changed tests to check RSS\n\t  Maker raises or not.\n\nSun Nov 28 12:14:47 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regparse.c (fetch_token): fixed test failure on HP-UX ia64\n\t  ([ruby-dev:24859]).\n\nSun Nov 28 12:08:15 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regparse.c, test/ruby/test_regexp.rb: fixed problem with UTF-8\n\t  characters that have U+00FE or invalid characters.\n\nSun Nov 28 12:07:04 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regexec.c, test/ruby/test_regexp.rb: fixed segmentation fault\n\t  ([ruby-dev:24887]).\n\nSun Nov 28 12:05:48 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regcomp.c, regint.h: fixed PLATFORM_UNALIGNED_WORD_ACCESS\n\t  problem ([ruby-dev:24802] and [ruby-core:3733])\n\nSat Nov 27 23:43:39 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_initialize): [ruby-dev:24972]\n\nSat Nov 27 21:43:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c: avoid data lost with nonblocking fd and\n\t  stdio buffering in sync mode.  [ruby-dev:24966]\n\t  based on matz's patch [ruby-dev:24967]\n\t  (io_fwrite): new primitive writing function which writes\n\t  directly if sync mode.\n\t  (rb_io_fwrite): wrapper for io_fwrite now.\n\t  (io_write): call io_fwrite instead of rb_io_fwrite.\n\nSat Nov 27 17:43:21 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/{0.9,1.0,2.0,trackback,xml-stylesheet}.rb: added\n\t  #setup_maker.\n\n\t* test/rss/test_setup_maker_*.rb: added tests for #setup_maker.\n\n\t* lib/rss/maker/base.rb(RSS::Maker::Items#max_size=): supported\n\t  output item size limitation.\n\n\t* sample/rss/blend.rb: added sample for RSS Maker.\n\nSat Nov 27 17:41:35 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/0.9.rb: supported RSS::Maker.make(\"0.91\"). Now,\n\t  \"0.9\" is just alias of \"0.91.\"\n\n\t* test/rss/test_maker_0.9.rb: make(\"0.9\") -> maker(\"0.91\").\n\n\t* test/rss/test_to_s.rb: ditto.\n\nSat Nov 27 17:21:30 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/list_description.rb: untabified.\n\n\t* sample/rss/rss_recent.rb: ditto.\n\nSat Nov 27 14:44:15 2004  Kent Sibilev  <ksibilev@bellsouth.net>\n\n\t* lib/cgi/session.rb (CGI::Session::initialize): [ruby-core:03832]\n\nSat Nov 27 09:41:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_fread): old rb_io_fread with file closing checking.\n\t  (rb_io_fread): wrapper for io_fread now.\n\t  [ruby-dev:24964]\n\nFri Nov 26 18:02:44 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: Tk.destroy uses TkWindow#epath\n\n\t* ext/tk/lib/tk/image.rb: bug fix\n\n\t* ext/tk/lib/tk/wm.rb: add 'iconphoto' method(Windows only)\n\n\t* ext/tk/lib/tkextlib/*: some methods uses TkWindow#epath\n\nFri Nov 26 14:29:39 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_initialize): uninitialized fd was checked to see open\n\t  mode.  [ruby-dev:24963]\n\n\t* io.c (rb_io_initialize): uninitialized fd was used.  [ruby-dev:24962]\n\nFri Nov 26 13:49:06 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_initialize): should retrieve flags from copying file\n\t  descriptor. [ruby-dev:24961]\n\n\t* eval.c (method_missing): raise TypeError for classes do not\n\t  have allocators.  [ruby-core:03752]\n\n\t* lib/erb.rb: add RDoc by James Edward Gray II.  [ruby-core:03786]\n\nFri Nov 26 13:29:02 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::look_for_directives_in): Break\n\t  out of preprocessing when we find a :section: directive (previously cleared out the\n\t  comment, but this apparently now generates an error in gsub!)\n\nFri Nov 26 00:17:40 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_read): move StringValue() check before GetOpenFile().\n\t  [ruby-dev:24959]\n\nThu Nov 25 20:14:57 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/thwait.rb (ThreadsWait#join_nowait): abnormally terminated\n\t  threads should be also processed.  [ruby-talk:121320]\n\nThu Nov 25 18:06:37 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: AC_CHECK_SIZEOF(rlim_t) to include stdio.h to fix\n\t  problem with autoconf 2.52 or earlier.\n\t  revert AC_PREREQ to 2.50.\n\t  [ruby-core:3809]\n\nThu Nov 25 07:59:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: AC_PREREQ(2.53) [ruby-core:03800]\n\n\t* io.c (read_all): stringify non-nil buffer argument, and always\n\t  taint the result.  [ruby-dev:24955]\n\nWed Nov 24 01:01:31 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_read): integer conversion should be prior to\n\t  GetOpenFile().  [ruby-dev:24952]\n\n\t* configure.in, io.c: cancel [ ruby-Patches-1074 ].\n\nTue Nov 23 08:09:50 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/menu.rb: improve usability of TkOptionMenubutton\n\nTue Nov 23 02:00:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_chown): integer conversion should be prior to\n\t  GetOpenFile().  [ruby-dev:24949]\n\nTue Nov 23 00:10:48 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_chown): integer conversion should be prior to\n\t  GetOpenFile().  [ruby-dev:24947]\n\n\t* file.c (rb_file_truncate): ditto.\n\n\t* file.c (rb_file_s_truncate): ditto.\n\n\t* dir.c (dir_seek): use NUM2OFFT().\n\n\t* misc/ruby-mode.el (ruby-non-block-do-re): [ruby-core:03719]\n\nMon Nov 22 22:33:02 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::parse_require): Don't use names\n\t  of variables or constants when parsing 'require'\n\nMon Nov 22 00:13:35 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_seek): should retrieve dir_data after NUM2INT().\n\t  [ruby-dev:24941]\n\nSat Nov 20 23:57:33 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/README (et al): Add a new directive, :section:, and\n\t  change the output format to accommodate. :section: allows to to\n\t  group together methods, attributes, constants, etc under\n\t  headings in the output. If used, a table of contents is\n\t  generated.\n\nSat Nov 20 23:56:54 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/options.rb (Options::parse): Force --inline-source if\n\t  --one-file option given\n\nSat Nov 20 23:55:19 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_splice): should place index wrapping after\n\t  possible modification.  [ruby-dev:24940]\n\nSat Nov 20 23:25:12 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* io.c (rb_io_getline): f.gets(\"\") did not work. [ruby-core:03771]\n\n\t* test/ruby/test_io.rb (test_gets_rs): test it.\n\nSat Nov 20 22:55:09 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/runner.rb (CROSS_COMPILING): need to require rbconfig.rb before\n\t  using CROSS_COMPILNG.\n\nSat Nov 20 20:42:42 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/depend: fix ripper.o dependency.\n\nSat Nov 20 17:48:29 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (io_reopen): work around problem with Cygwin fseeko\n\t  returning ESPIPE.\n\nSat Nov 20 05:34:24 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: original nkf.c rev:1.40\n\n\t* ext/nkf/test.rb: add test for mime encode/decode\n\nSat Nov 20 01:45:04 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/xmlrpc/test_webrick_server.rb: move `requrie \"webrick/https\"'\n\t  into #setup_http_server method to avoid soap test errors.\n\nSat Nov 20 01:37:34 2004  Johan Holmberg  <holmberg@iar.se>\n\n\t* eval.c (error_print): nicer traceback at interrupt.\n\t  [ruby-core:03774]\n\nSat Nov 20 00:07:16 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): internal buffer should not be listed by\n\t  ObjectSpace.each_object() by String#gsub.  [ruby-dev:24931]\n\nFri Nov 19 22:44:43 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb: better support for -p/-x option.\n\nFri Nov 19 17:46:56 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/0.9.rb (RSS::Maker::RSS09::Image#have_required_values):\n\t  changed /rss/channel/image to be optional. [ruby-Bugs:1047]\n\n\t* test/rss/test_maker_0.9.rb: added tests for the above.\n\nFri Nov 19 17:18:17 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb (RSS::VERSION): 0.1.0 -> 0.1.1.\n\n\t* lib/rss: #to_s used #tag.\n\n\t* test/rss/test_to_s.rb: added.\n\n\t* lib/rss/maker.rb (RSS::Maker.make): changed API. It's not\n\t  received modules which is used as the second argument.\n\n\t* lib/rss/xml-stylesheet.rb (RSS::XMLStyleSheet#alternate):\n\t  changed return value type which is not String but Boolean.\n\n\t* lib/rss/2.0.rb (RSS::Rss::Channel#ttl): changed return value\n\t  type which is not String but Integer.\n\n\t* lib/rss/0.9.rb (RSS::Rss::Channel): <skipDays> has <day>s and\n\t  <skipHours> has <hour>s.\n\n\t* lib/rss/maker/0.9.rb (RSS::Maker::RSS09::Channel): ditto.\n\n\t* lib/rss/0.9.rb (RSS::Rss::Channel::Item): <item> has <category>s.\n\n\t* lib/rss/maker/2.0.rb (RSS::Maker::Rss20::Channel::Item): ditto.\n\n\t* lib/rss/2.0.rb (RSS::Rss::Channel): <channel> has <category>s.\n\n\t* lib/rss/maker/2.0.rb (RSS::Maker::RSS20::Channel): ditto.\n\n\t* lib/rss/trackback.rb: parent element has <trackback:about>s.\n\n\t* lib/rss/maker/trackback.rb: ditto.\n\nFri Nov 19 11:10:16 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb: add support for directory name\n\t  with -p/-x options.\n\n\t* test/testunit/collector/test_dir.rb: ditto.\n\n\t* lib/xmlrpc/datetime.rb (XMLRPC::DateTime#==): should use Array()\n\t  instead of to_a.\n\nFri Nov 19 10:32:36 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/readline.c (readline_s_set_completion_append_character):\n\t  accept nil.  [ruby-core:03765]\n\nFri Nov 19 01:20:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::FileStore::initialize): raise\n\t  exception if data corresponding to session specified from the\n\t  client does not exist.\n\nFri Nov 19 00:59:31 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): internal buffer should not be listed by\n\t  ObjectSpace.each_object().  [ruby-dev:24919]\n\nThu Nov 18 23:42:36 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/depend: Never regenerate lib/ripper/core.rb\n\t  automatically. [ruby-dev:24911]\n\nThu Nov 18 20:47:24 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.[ch] (rb_w32_isatty): new function to replace MSVCRT's\n\t  isatty because it never sets errno.\n\nThu Nov 18 18:41:08 2004  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* test/ruby/test_stringchar.rb (test_bang): added.\n\n\t* string.c (rb_str_upcase_bang, rb_str_capitalize_bang)\n\t  (rb_str_swapcase_bang): missing rb_str_modify().\n\nThu Nov 18 17:05:01 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (f_rest_arg): store rest args into invisible local variable\n\t  in order to get rid of SEGV at ZSUPER.  [ruby-dev:24913]\n\nThu Nov 18 15:39:52 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_f_getenv): prohibit for $SAFE=4. [ruby-dev:24908]\n\nThu Nov 18 14:58:42 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/readline.c: check $SAFE.\n\n\t* test/readline/test_readline.rb: added tests for readline.\n\nThu Nov 18 00:21:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (proc_getpgrp): prohibit for $SAFE=2.\n\t  [ruby-dev:24899]\n\n\t* process.c (get_pid): ditto.  [ruby-dev:24904]\n\n\t* process.c (get_ppid): ditto.\n\n\t* array.c (rb_ary_delete): defer rb_ary_modify() until actual\n\t  modification.  [ruby-dev:24901]\n\nThu Nov 18 10:10:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c, rubyio.h (rb_io_modenum_flags): exported.\n\n\t* ext/stringio/stringio.c (strio_initialize): allow Fixnum as mode as\n\t  well as IO.new does.  [ruby-dev:24896]\n\nWed Nov 17 23:47:30 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_settracefunc.rb: added.  [ruby-dev:24884]\n\nWed Nov 17 18:59:16 2004  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* process.c (proc_getrlimit, proc_setrlimit): add rb_secure(2) to\n\t  methods of Process.{getrlimit,setrlimit}\n\nWed Nov 17 13:56:57 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (newline_node): should not use FL_SET. [ruby-dev:24874]\n\n\t* parse.y (string_content): should not use FL_UNSET.\n\n\t* node.h (NODE_NEWLINE): remove unused bit to utilize flag field\n\t  in nodes.\n\nWed Nov 17 13:05:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (rb_push_glob): fix overrun.  [ruby-dev:24886]\n\nWed Nov 17 11:48:17 2004  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* lib/xmlrpc/parser.rb, test/xmlrpc/test_features.rb: fixed \"assigning\n\t  to constants\" warnings\n\nWed Nov 17 09:38:18 2004  Johan Holmberg  <holmberg@iar.se>\n\n\t* re.c (rb_reg_initialize_m): should raise exception instead of\n\t  compile error.  [ruby-core:03755]\n\nWed Nov 17 03:42:45 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_splice): move rb_str_modify() after\n\t  StringValue(), which may alter the receiver.  [ruby-dev:24878]\n\n\t* error.c (rb_error_frozen): now raise RuntimeError instead of\n\t  TypeError.\n\nTue Nov 16 21:22:47 2004  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* lib/xmlrpc/server.rb (CGIServer): fixed bug when client sends\n\t  \"Content-typ: text/xml; ...\"\n\nTue Nov 16 23:45:07 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (flo_divmod): protect float values from GC by\n\t  assignment to local variables.  [ruby-dev:24873]\n\nTue Nov 16 14:31:54 2004  Michael Neumann  <mneumann@ruby-lang.org>\n\n\t* test/xmlrpc/*: imported and refactored original test cases.\n\n\t* test/xmlrpc/test_webrick_server.rb, test/xmlrpc/webrick_testing.rb:\n\t  added test case that starts up a WEBrick XML-RPC server and performs\n\t  some tests on it (both http and https servers are started).\n\n\t* lib/xmlrpc/create.rb (XMLWriter::each_installed_writer),\n\t  lib/xmlrpc/parser.rb (XMLParser::each_installed_parser):\n\t  added methods to simply original test cases\n\n\t* lib/xmlrpc/parser.rb, lib/xmlrpc/datetime.rb: applied patch by\n\t  MoonWolf <moonwolf@moonwolf.com> to allow parsing datetime.iso8601\n\t  (e.g. 20041105T01:15:23Z).\n\n\t* lib/xmlrpc/server.rb: fixed issue #998\n\t  (http://rubyforge.org/tracker/?func=detail&atid=1700&aid=998&group_id=426)\n\n\t* lib/xmlrpc/create.rb, lib/xmlrpc/utils.rb: when marshalling/loading\n\t  user-defined data structures, use Class#allocate instead of defining\n\t  an empty #initialize method. module XMLRPC::Marshallable is now only\n\t  used for tagging.\n\n\t* lib/xmlrpc/.document, lib/xmlrpc/README.rdoc: added howto\n\nTue Nov 16 16:26:12 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/setup.mak (-epilogue-): remove config.h and\n\t  config.status to force updating them.\n\nTue Nov 16 16:20:45 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): position was ignored when a\n\t  buffer was passed.  http://www.yo.rim.or.jp/~nov/d/?date=20041116#p03\n\nTue Nov 16 13:35:54 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner::options): add\n\t  new option --exclude (-x) to skip some tests. [ruby-core:3363],\n\t  [ruby-dev:24865]\n\n\t* lib/test/unit/collector/dir.rb (Test::Unit::Collector::Dir.exclude):\n\t  ditto.\n\nTue Nov 16 11:19:07 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner::options): use\n\t  Regexp conversion.\n\nTue Nov 16 01:41:31 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_mod_check): frozen check should be separated.\n\t  [ruby-core:3742]\n\n\t* array.c (rb_ary_update): pedantic check to detect\n\t  rb_ary_to_ary() to modify the receiver.  [ruby-dev:24861]\n\nMon Nov 15 18:58:05 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: check rlim_t more portably. [ruby-core:3735]\n\nMon Nov 15 11:50:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-special-char-p, ruby-parse-partial): handle\n\t  operator symbols.  [ruby-talk:120177]\n\nMon Nov 15 08:58:55 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_Proc): make proc as an alias to Proc.new.\n\t  [ruby-dev:24848]\n\nMon Nov 15 00:46:03 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): lambda{}.call(1) should raise exception.\n\t  [ruby-talk:120253]\n\nMon Nov 15 00:33:40 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_clear): avoid revealing NULL pointer.\n\t  [ruby-dev:24766]\n\n\t* string.c (str_gsub): add paranoid check. [ruby-dev:24827]\n\n\t* string.c (str_mod_check): check frozen status as well.\n\t  [ruby-dev:24801]\n\nSun Nov 14 18:59:03 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* process.c (proc_getrlimit): new function for Process.getrlimit.\n\t  (proc_setrlimit): new function for Process.setrlimit.\n\t  [ruby-dev:24834]\n\n\t* configure.in: check rlim_t and its size.  check setrlimit.\n\n\t* ruby.h (NUM2ULL): new macro.\n\nSun Nov 14 13:27:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pp.rb (PP#object_address_group): remove odd number of 'f'\n\t  prefixed to negative address.\n\nSun Nov 14 10:48:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/mathn.rb (Integer::gcd2): faster implementation by\n\t  <erlercw@siu.edu>. [ruby-talk:120232]\n\nSun Nov 14 08:46:33 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/logger/test_logger.rb: Logger just expects\n\t  Logger#datetime_format to be used for Time#strftime independently of\n\t  locale. [ruby-dev:24828]\n\nFri Nov 12 17:32:07 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/README.bcc32, win32/README.win32: need bison instead of\n\t  byacc.\n\nFri Nov 12 15:15:06 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (ruby_options): now we cannot call rb_glob() before\n\t  ruby_init(), so call rb_w32_cmdvector() at ruby_options().\n\n\t* win32/win32.{c,h} (rb_w32_cmdvector): rename make_cmdvector() and\n\t  export it.\n\nFri Nov 12 14:08:01 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/event.rb: remove $LOADED_FEATURES trick\n\n\t* ext/tk/lib/tk.rb: ditto\n\nFri Nov 12 00:31:05 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/gdbm/gdbm.c (fgdbm_store): StringValue() may alter string\n\t  pointer.  [ruby-dev:24783]\n\nThu Nov 11 17:58:19 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (rb_glob): should have called rb_glob_caller().\n\t  [ruby-dev:24773]\n\nThu Nov 11 16:56:10 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_file.rb (test_truncate_wbuf): we want to test\n\t  only File#truncate, not behavior of seek(2).\n\nThu Nov 11 01:52:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (syserr_initialize): use stringified object.\n\t  [ruby-dev:24768]\n\nWed Nov 10 22:49:01 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/delegate.rb (SimpleDelegator::dup): wrong number of\n\t  arguments.\n\n\t* lib/delegate.rb (DelegateClass::dup): ditto.\n\nWed Nov 10 19:47:55 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (glob_helper): path is a string object now.\n\nWed Nov 10 12:31:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* README.EXT (Example): extconf.rb is indispensable now.\n\nWed Nov 10 03:33:36 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix SEGV when compiled with Tcl/Tk8.3.x\n\t  or older\n\n\t* ext/tk/lib/tkextlib/tile/style.rb: bug fix\n\nTue Nov  9 22:24:07 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf: original nkf.c rev:1.38\n\n\t* ext/nkf/nkf.c: fix bug: can't parse long-name options\n\n\t* ext/nkf/test.rb: fix bug: mime tests fail\n\nTue Nov  9 14:27:18 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Officious): moved from DefaultList.\n\nTue Nov  9 00:50:06 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb: Change version numbering of RDoc and ri\n\nTue Nov  9 01:05:04 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (rb_glob2): do not allocate buffer from heap to avoid\n\t  memory leaks.  use string object for buffering instead.\n\t  [ruby-dev:24738]\n\n\t* dir.c (join_path): ditto.\n\n\t* io.c (io_read): external input buffer may be modified even after\n\t  rb_str_locktmp().  [ruby-dev:24735]\n\n\t* dir.c (fnmatch): p or s may be NULL.  [ruby-dev:24749]\n\nTue Nov  9 00:36:26 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/extservm.rb: add DRb::ExtServManager#uri=.\n\t  [ruby-dev:24743]\n\nMon Nov  8 22:20:19 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_class):\n\t  Fix bug where parent class wasn't being detected if the\n\t  child class was defined using the A::B notation.\n\nMon Nov  8 00:14:13 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: add setup for mignw32 cross compiling.\n\t  [ruby-talk:119413]\n\nSun Nov  7 23:49:26 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: bind-event methods accept multi substitution\n\t  arguments.\n\n\t* ext/tk/lib/tk/canvas.rb: ditto.\n\n\t* ext/tk/lib/tk/canvastag.rb: ditto.\n\n\t* ext/tk/lib/tk/text.rb: ditto.\n\n\t* ext/tk/lib/tk/texttag.rb: ditto.\n\n\t* ext/tk/lib/tkextlib: ditto.\n\nSat Nov  6 20:40:16 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: rename WIN32OLE#ole_obj_help to\n\t  WIN32OLE#ole_type. alias ole_obj_help to ole_type.\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: ditto.\n\nSat Nov  6 11:18:59 2004  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb (_parse): checks whether zone was given.\n\nSat Nov  6 00:46:27 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_locktmp): check STR_TMPLOCK flag before\n\t  locking.  [ruby-dev:24727]\n\nFri Nov  5 19:07:16 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf: follow CVS Head of original nkf.\n\nFri Nov  5 18:12:42 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/scrollable.rb: divide Scrollable module into\n\t  X_Scrollable and Y_Scrollable\n\n\t* ext/tk/lib/tk/entry.rb: include X_Scrollable instead of Scrollable\n\n\t* ext/tk/lib/tk/autoload.rb: define autoload for X_Scrollable and\n\t  Y_Scrollable\n\nFri Nov  5 16:05:32 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: TkComm._at() supprts both of \"@x,y\" and \"@x\"\n\nFri Nov  5 13:22:58 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/text.rb: sorry. bug fix again.\n\nFri Nov  5 13:17:54 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/text.rb: bug fix\n\nFri Nov  5 08:52:48 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_mark): stricter GC stack check.\n\nFri Nov  5 08:34:43 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): should have removed rb_str_unlocktmp(str).\n\t  [ruby-dev:24708]\n\n\t* ext/socket/socket.c (s_recvfrom): buffer modification check.\n\t  [ruby-dev:24708]\n\nThu Nov  4 23:54:21 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regexec.c, regparse.c, regint.h: fixed conflicts between\n\t  vendor branch.\n\nThu Nov  4 23:41:55 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* ascii.c, euc_jp.c, oniggnu.h, oniguruma.h, regcomp.c,\n\t  regenc.c, regenc.h, regerror.c, regexec.c, reggnu.c,\n\t  regint.h, regparse.c, regparse.h, sjis.c, utf8.c:\n\t  imported Oni Guruma 3.4.0.\n\n\t* parse.y, re.c: Now mbclen() takes unsigned char as\n\t  its argument.\n\nThu Nov  4 21:25:38 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): string modify check no longer based on\n\t  tmplock.  [ruby-dev:24706]\n\nThu Nov  4 21:13:48 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c(typelib_file_from_typelib): search \"win16\"\n\t  entry to get library path.\n\n\t* ext/win32ole/win32ole.c(oletypelib_path): ditto.\n\n\t* ext/win32ole/win32ole.c(ole_typedesc2val): add VT_LPWSTR, VT_LPSTR,\n\t  VT_ERROR case.\n\nThu Nov  4 15:02:14 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/variable.rb: forget to initialize instance_variables\n\t  of TkVarAccess objects\n\nThu Nov  4 09:11:35 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_mark): enable GC stack checking.\n\nThu Nov  4 03:11:33 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): lock strings temporarily.  [ruby-dev:24687]\n\n\t* ext/socket/socket.c (s_recvfrom): tmplock input buffer.\n\t  [ruby-dev:24705]\n\nWed Nov  3 22:24:17 2004  Daigo Moriwaki  <techml@sgtpepper.net>\n\n\t* lib/webrick/httpauth/digestauth.rb: use Base64.encode64 to\n\t  avoid warnings.\n\nWed Nov  3 17:19:59 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_uniq_bang): do not push frozen string from hash\n\t  table.  [ruby-dev:24695]\n\n\t* array.c (rb_ary_and): ditto.\n\n\t* array.c (rb_ary_or): ditto.\n\nWed Nov  3 17:02:48 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: support to use different Tcl commands between\n\t  configure and configinfo\n\n\t* ext/tk/lib/font.rb: ditto.\n\n\t* ext/tk/lib/itemconfig.rb: support to use different Tcl commands\n\t  between item_configure and item_configinfo\n\n\t* ext/tk/lib/itemfont.rb: ditto.\n\n\t* ext/tk/extconf.rb: install SUPPORT_STATUS\n\n\t* ext/tk/lib/tkextlib: some bug fixes (see ext/tk/ChangeLog.tkextlib)\n\nWed Nov  3 15:38:28 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/*.rb: removed tab width configuration headers.\n\n\t* test/rss/test_maker_{0.9,1.0}.rb: sort -> do_sort.\n\n\t* lib/rss/maker/*.rb: changed API to RSS version independence.\n\n\t* lib/rss/maker/base.rb\n\t  (RSS::Maker::XMLStyleSheets::XMLStyleSheet): checked required\n\t  (pseudo) attributes.\n\n\t* lib/rss/maker/base.rb (RSS::Maker::Items): sort -> do_sort.\n\n\t* lib/rss/rss.rb (RSS::BaseModel.install_date_element): avoided\n\t  warning.\n\n\t* lib/rss/0.9.rb (RSS::Rss#textinput): added convenience method.\n\nTue Nov  2 16:35:57 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/enumerator/enumerator.c (each_cons_i): pass copy of an\n\t  internal consequent array.  [ruby-talk:118691]\n\nTue Nov  2 14:54:02 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (pipe_open): need to set cmd if argc == 0 (win32).\n\nTue Nov  2 01:20:09 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (pipe_open): IO.popen should take array as 1st argument for\n\t  a command line.  [ruby-dev:24678]\n\n\t* eval.c (proc_invoke): nail down dyna_var node when Proc object\n\t  or continuation is created.  [ruby-dev:24671]\n\n\t* io.c (rb_io_s_popen): do not expand argv array.  [ruby-dev:24670]\n\nMon Nov  1 22:25:56 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/base.rb: changed xml-stylesheet's API of RSS Maker\n\t  like to item's one.\n\n\t* lib/rss/xml-stylesheet.rb (RSS::XMLStyleSheet#guess_type): fixed\n\t  regular expression bug.\n\n\t* test/rss/test_maker_xml-stylesheet.rb: updated tests for\n\t  xml-stylesheet.\n\nMon Nov  1 13:59:28 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/extmk.rb (MANIFEST): do not use anymore, use extconf.rb instead.\n\n\t* ext/enumerator/extconf.rb, ext/fcntl/extconf.rb,\n\t  ext/stringio/extconf.rb: added.\n\n\t* MANIFEST, ext/**/MANIFEST: removed.\n\n\t* README.EXT, README.EXT.ja: remove MANIFEST stuff.\n\nMon Nov  1 11:52:18 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (pipe_open): avoid conflict of variable name. [ruby-dev:24662]\n\nMon Nov  1 11:46:19 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* process.c (rb_f_exec): should check whether prog is NULL.\n\nMon Nov  1 09:37:19 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker.rb: added entry point of RSS Maker.\n\nMon Nov  1 03:14:14 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_get_method_body): store ICLASS in the cache.\n\t  [ruby-core:03672]\n\n\t* eval.c (rb_provided): should return true for loading library\n\t  too for autoloading.  [ruby-core:03655]\n\nMon Nov  1 01:14:52 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_open): create copy of popen specifier.  [ruby-dev:24656]\n\n\t* string.c (rb_str_locktmp): lock string temporarily.\n\n\t* string.c (str_independent): add tmplock check.\n\n\t* io.c (io_write): lock output string temporarily.\n\t  [ruby-dev:24649]\n\n\t* io.c (io_write): use rb_str_locktmp().\n\n\t* io.c (read_all): ditto.\n\nSun Oct 31 23:37:00 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* process.c: on NetBSD don't use setruid() and setrgid().\n\nSun Oct 31 23:12:10 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/maker/*.rb: added RSS Maker.\n\n\t* test/rss/test_maker_*.rb: added tests for RSS Maker.\n\nSun Oct 31 16:58:12 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE.codepage, WIN32OLE.codepage=.\n\n\t* ext/win32ole/tests/testWIN32OLE.rb: ditto.\n\nSun Oct 31 14:35:26 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/nkf/nkf-utf8/nkf.c: add \"\\075?UTF-8?Q?\" for Gmail.\n\nSun Oct 31 14:18:56 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: emit lexer-event values to the parser\n\t  (still incomplete).\n\nSat Oct 30 15:24:41 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add WIN32OLE_TYPELIB class. add\n\t  WIN32OLE#ole_typelib method.\n\n\t* ext/win32ole/tests/testOLETYPELIB.rb: add WIN32OLE_TYPELIB class.\n\nSat Oct 30 06:53:24 2004  Peter Vanbroekhoven  <peter.vanbroekhoven@cs.kuleuven.ac.be>\n\n\t* eval.c (rb_eval): NODE_XSTR should pass copy of literal string.\n\nSat Oct 30 00:19:40 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_update): a[n,m]=nil no longer works as element\n\t  deletion.\n\n\t* enum.c (enum_sort_by): protect continuation jump in.\n\t  [ruby-dev:24642]\n\n\t* eval.c (rb_eval), gc.c (gc_mark_children), node.h (NEW_ALIAS,\n\t  NEW_VALIAS), parse.y (fitem): allow dynamic symbols to\n\t  NODE_UNDEF and NODE_ALIAS.\n\nFri Oct 29 21:27:51 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_check_initialized): new function to check uninitialized\n\t  object.  [ruby-talk:118234]\n\n\t* file.c (rb_file_path), io.c (rb_io_closed): check if initialized.\n\nFri Oct 29 19:05:33 2004  NARUSE, Yui  <naruse@ruby-lang.org>\n\n\t* ext/nkf: follow nkf2.0.\n\nFri Oct 29 17:18:22 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y (ripper_s_allocate): add prototype for Microsoft compiler.\n\n\t* range.c (range_step, range_each): need cast.\n\nFri Oct 29 16:34:19 2004  Daiki Ueno  <ueno@unixuser.org>\n\n\t* misc/ruby-mode.el (ruby-parse-partial): Parse the rest of the\n\t  line after opening heredoc identifier.  [ruby-dev:24635]\n\nFri Oct 29 11:35:04 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rb_parser_append_print, rb_parser_while_loop): body node\n\t  can be empty.  [ruby-dev:24628]\n\nFri Oct 29 10:00:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_0): forget to free some memory chunks.\n\t  [ruby-core:03611]\n\n\t* eval.c (ruby_cleanup): ruby_finalize_1 may cause exception,\n\t  should be wrapped by PUSH_TAG/POP_TAG().  [ruby-dev:24627]\n\nThu Oct 28 08:42:02 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (argf_forward): use ANSI style.\n\t  (argf_read): call argf_forward with argv argument.\n\t  [ruby-dev:24624]\n\nWed Oct 27 09:17:30 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_gsub): use a string object for exception safeness.\n\t  [ruby-dev:24601]\n\nWed Oct 27 07:38:55 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* node.h (NODE_TYPESHIFT): allow 4 more bits for line numbers.\n\t  [ruby-talk:117841]\n\n\t* ruby.h (FL_ABLE): nodes are not subject for flag operations.\n\n\t* io.c (ARGF_FORWARD): should have specified argv explicitly,\n\t  since we no longer have frame->argv saved.  [ruby-dev:24602]\n\nTue Oct 26 23:30:39 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::add_class_or_module):\n\t  Restore correct :nopdoc: behavior with nested classes and modules.\n\nTue Oct 26 18:21:29 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (RESIZE_CAPA): check string attribute before modifying\n\t  capacity member of string structure.  [ruby-dev:24594]\n\nTue Oct 26 11:33:26 2004  David G. Andersen  <dga@lcs.mit.edu>\n\n\t* ext/zlib/zlib.c (gzreader_gets): use memchr() to to gain\n\t  performance.  [ruby-talk:117701]\n\nTue Oct 26 10:56:55 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): raise ArgumentError for extra\n\t  arguments, unless (digit)$ style used.\n\nMon Oct 25 18:35:39 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* win32/win32.c (isUNCRoot): should check NUL after '.'.\n\t  [ruby-dev:24590]\n\n\t* win32/win32.c (isUNCRoot): fixed buffer overrun.\n\nMon Oct 25 08:03:26 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (get_backtrace): ignore illegal backtrace.  [ruby-dev:24587]\n\nSun Oct 24 00:40:50 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_load, search_required, rb_require_safe, rb_require): use\n\t  frozen shared string to avoid outside modification.  [ruby-dev:24580]\n\nSat Oct 23 23:40:34 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_fptr_finalize): leave stdin/stdout/stderr open in\n\t  interpreter termination.  [ruby-dev:24579]\n\nSat Oct 23 22:18:32 2004  Guy Decoux  <ts@moulon.inra.fr>\n\n\t* eval.c (frame_free): Guy Decoux solved the leak problem.\n\t  Thanks.  [ruby-core:03549]\n\nSat Oct 23 00:20:55 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (zstream_append_input): clear klass for z->input\n\t  to avoid potential vulnerability.\n\n\t* ext/zlib/zlib.c (zstream_run): always use zstream_append_input()\n\t  to avoid SEGV.  [ruby-dev:24568]\n\nFri Oct 22 12:02:28 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_alias): was warning for wrong condition.\n\t  [ruby-dev:24565]\n\nFri Oct 22 10:36:37 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPRequest#meta_vars):\n\t  should check if path_info is not nil.\n\nFri Oct 22 00:22:31 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/zlib/zlib.c (zstream_shift_buffer): should restore class\n\t  field of a buffer.  [ruby-dev:24562]\n\nFri Oct 22 00:20:33 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_include): should not treat char as negative value.\n\t  [ruby-dev:24558]\n\nThu Oct 21 21:32:30 2004  IWATSUKI Hiroyuki  <don@na.rim.or.jp>\n\n\t* lib/pstore.rb (PStore#transaction): Use the empty content when a\n\t  file is not found.  [ruby-dev:24561]\n\nThu Oct 21 19:06:15 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpresponse.rb (WEBrick::HTTPResponse#send_body_io):\n\t  ensure to close @body. (http://bugs.debian.org/277520)\n\nThu Oct 21 13:11:31 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (pipe_open): variable name \"fpw\" is conflicted.\n\nThu Oct 21 00:36:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_alias): should warn on method discarding.\n\t  [ruby-dev:24546]\n\n\t* ext/zlib/zlib.c (zstream_expand_buffer_into): hide internal\n\t  string buffer by clearing klass.  [ruby-dev:24548]\n\n\t* parse.y (lex_getline): should not touch ruby_debug_lines if\n\t  RIPPER is defined.  [ruby-dev:24547]\n\nWed Oct 20 19:45:13 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_gsub): \treentrant check.  [ruby-dev:24432]\n\nWed Oct 20 12:42:53 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline): rs modification check should not interfere\n\t  in the loop.\n\nWed Oct 20 10:31:33 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (lex_getline): should update ruby_debug_lines.\n\nWed Oct 20 04:17:55 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dbm/dbm.c (fdbm_delete_if): should check if deleting element\n\t  is a string.  [ruby-dev:24490]\n\n\t* ext/sdbm/init.c (fsdbm_delete_if): ditto.\n\nWed Oct 20 01:37:18 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_times): Array#* should return an instance of\n\t  the class of right operand.  [ruby-dev:24526]\n\n\t* ext/zlib/zlib.c (zstream_detach_buffer): should not expose\n\t  class-less object to Ruby world. [ruby-dev:24530]\n\n\t* eval.c (proc_dup): provide Proc#dup as well.  [ruby-talk:116915]\n\n\t* eval.c (ruby_exec): stack marking position may be higher than\n\t  expected.  thanks to Guy Decoux.  [ruby-core:03527]\n\nWed Oct 20 00:25:41 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (search_required): required name must not be changed before\n\t  loading.  [ruby-dev:24492]\n\nTue Oct 19 23:59:46 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_require_safe): provide the feature after loaded.\n\t  [ruby-list:40085]\n\nTue Oct 19 22:43:12 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_attr): If\n\t  we come across 'attr' in a context where it isn't\n\t  followed by a symbol, just issue a warning.\n\nTue Oct 19 20:32:50 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole.c(ole_invoke): retrieve the result value when\n\t  retrying the IDispatch::invoke.\n\nTue Oct 19 17:24:11 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): block string buffer modification during\n\t  rb_io_fread() by freezing it temporarily. [ruby-dev:24479]\n\n\t* dir.c (rb_push_glob): block call at once the end of method.\n\t  [ruby-dev:24487]\n\n\t* ext/enumerator/enumerator.c (enum_each_slice): remove\n\t  rb_gc_force_recycle() to prevent potential SEGV.\n\t  [ruby-dev:24499]\n\n\t* ext/zlib/zlib.c (zstream_expand_buffer): hide internal string\n\t  buffer by clearing klass.  [ruby-dev:24510]\n\nTue Oct 19 08:47:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_upto): method result must be checked.  [ruby-dev:24504]\n\n\t* eval.c (error_print): ditto.  [ruby-dev:24519]\n\nMon Oct 18 23:37:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (r_object0): check inheritance by the internal function.\n\t  [ruby-dev:24515]\n\nMon Oct 18 11:29:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_flags_mode, rb_io_mode_flags): distinguish whether file\n\t  not existing is created.  [ruby-dev:24505]\n\nMon Oct 18 07:26:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_file_truncate): discard read buffer before truncation.\n\t  [ruby-dev:24197]\n\nMon Oct 18 01:56:03 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb (WEBrick::HTTPRequest#initialize):\n\t  initial value of accpet-* should be array.\n\nMon Oct 18 00:42:45 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_s_getservbyaname): protocol string\n\t  might be altered.  [ruby-dev:24503]\n\n\t* string.c (rb_str_upto): check if return value from succ is a\n\t  string.  [ruby-dev:24504]\n\nSun Oct 17 23:03:48 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb: TkTimer#start and restart accept a block\n\nSun Oct 17 12:53:46 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (fole_func_methods): correct argument mismatch.\n\t* ext/win32ole/win32ole.c (fole_get_methods): ditto.\n\t* ext/win32ole/win32ole.c (fole_put_methods): ditto.\n\t* ext/win32ole/tests/testWIN32OLE.rb: add test for WIN32OLE#ole_func_methods\n\t  WIN32OLE#ole_get_methods, WIN32OLE#ole_put_methods\n\nSat Oct 16 14:45:28 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/0.9.rb (RSS::Rss#to_s): removed garbage.\n\nSat Oct 16 13:42:49 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/: untabified.\n\t* test/rss/: untabified.\n\t* lib/rss/0.9.rb (RSS::Rss#to_s): inent -> indent.\n\nSat Oct 16 13:34:56 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss: supported prety print.\n\t* test/rss/test_1.0.rb: added test for calculating default indent size.\n\nSat Oct 16 10:56:36 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): install-rb is needed for statically\n\t  linked extensions.  [ruby-dev:24491]\n\nFri Oct 15 18:07:08 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509store.c\n\t  (ossl_x509stctx_initialize): setup OpenSSL::X509::StoreContext with\n\t  ossl_x509stctx_* functions instead of X509_STORE_CTX_*.\n\t  (ossl_x509store_set_time): add OpenSSL::X509::Store#time=.\n\t  (ossl_x509stctx_set_time): add OpenSSL::X509::StoreContext#time=.\n\n\t* test/openssl/ossl_x509store.rb: test certificate validity times.\n\nFri Oct 15 18:04:35 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/timer.rb: TkTimer.new(interval, loop){ ... } is\n\t  acceptable. Add TkTimer.start ( == new + start ).\n\nFri Oct 15 12:43:09 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (Init_stack): make prototype declaration consistent with\n\t  the definition in gc.c.\n\nThu Oct 14 13:33:59 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: added link to Tutorial.\n\nTue Oct 12 21:22:50 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/config.rb:\n\t  add WEBrick::Config::FileHandler[:AcceptableLanguages].\n\n\t* lib/webrick/httpservlet/filehandler.rb\n\t  (WEBrick::HTTPServlet::FileHandler#set_filename): search files\n\t  having suffix of language-name which Accept-Language header field\n\t  includes if :AcceptableLanguages options is present.\n\n\t* lib/webrick/httpservlet/filehandler.rb\n\t  (WEBrick::HTTPServlet::FileHandler#get_servlet): new method to\n\t  search servlet correspond to the suffix of filename.\n\n\t* lib/webrick/httprequest.rb: add attributes access methods: accept,\n\t  accept_charset, accept_encoding, accept_language, content_length\n\t  and content_type.\n\n\t* lib/webrick/httpresponse.rb: add attribute access methods:\n\t  content_length, content_length=, content_type and content_type=.\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.mime_types):\n\t  use the second suffix to detect media type. (the first suffix\n\t  may be a language name.)\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.parse_qvalues):\n\t  add method to parse Accept header field. it returns an Array of\n\t  values sorted by the qvalues.\n\nTue Oct 12 15:05:32 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (MODE_BINMODE, MODE_BINARY): fixed reversed condition.\n\nMon Oct 11 17:51:34 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_popen): get mode string via rb_io_flags_mode() to\n\t  avoid mode string modification.  [ruby-dev:24454]\n\n\t* io.c (rb_io_getline_fast): should take delim as unsigned char to\n\t  distinguish EOF and '\\377'.  [ruby-dev:24460]\n\n\t* io.c (rb_io_getline): add check for RS modification.\n\t  [ruby-dev:24461]\n\n\t* enum.c (enum_sort_by): use qsort() directly instead using\n\t  rb_iterate().  [ruby-dev:24462]\n\n\t* enum.c (enum_each_with_index): remove rb_gc_force_recycle() to\n\t  prevent access to recycled object (via continuation for\n\t  example).  [ruby-dev:24463]\n\nMon Oct 11 13:48:20 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/*: untabify\n\nSun Oct 10 12:32:08 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::parse_require): Allow 'require'\n\t  to be used as a variable name\n\nSun Oct 10 02:49:14 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/filter.rb: require ripper/tokenizer.\n\n\t* ext/ripper/lib/ripper/filter.rb (parse): argument is optional.\n\nSun Oct 10 02:43:13 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: \\n between two comments disappeared.\n\nSat Oct  9 21:23:37 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/converter.rb: changed to try to use Iconv for default\n\t  conversion.\n\n\t* lib/rss/rss.rb: 0.0.9 -> 0.1.0.\n\nSat Oct  9 19:50:36 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_getline): should not treat char as negative value.\n\t  [ruby-dev:24460]\n\nSat Oct  9 00:25:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_io_fread): rb_thread_wait_fd() was lost.\n\t  [ruby-dev:24457]\n\nFri Oct  8 21:36:56 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_traverse): return value of Dir.entries is\n\t  reliable. (pass $SAFE=1)\n\n\t* lib/fileutils.rb (remove_dir): return value of Dir.foreach is\n\t  reliable. (pass $SAFE=1)\n\nFri Oct  8 09:49:32 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): pointer modification check before each\n\t  iteration.  [ruby-dev:24445]\n\nFri Oct  8 01:13:05 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/optiondb.rb: make it more secure\n\nThu Oct  7 23:47:57 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/scrollbar.rb: When 'set' operation, a scrollbar\n\t  cannot propagate view port information from the source widget\n\t  (that calls 'set') to other assigned widgets.\n\nThu Oct  7 17:36:25 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: When CHILDKILLED and so on, Tk.errorCode returns\n\t  a Fixnum for 2nd element (it's pid) of the return value.\n\nThu Oct  7 12:55:04 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (io_read): should freeze buffer before thread context\n\t  switch. [ruby-dev:24442]\n\n\t* pack.c (pack_unpack): string conversion should at the top of the\n\t  method.  [ruby-dev:24439]\n\n\t* io.c (io_read): buffer should be frozen only after the length\n\t  check.  [ruby-dev:24440]\n\nThu Oct  7 02:56:43 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c: use FMODE_APPEND.\n\nThu Oct  7 01:05:33 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add Tk.errorInfo and Tk.errorCode\n\nThu Oct  7 00:08:37 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_s_sysopen): preserve path in the buffer allocated by\n\t  ALLOCA_N() to prevent modification.  [ruby-dev:24438]\n\nWed Oct  6 09:21:00 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_mode_flags): preserve append mode flag.\n\t  [ruby-dev:24436]\n\n\t* io.c (rb_io_modenum_mode): do not use external output buffer.\n\n\t* string.c (rb_str_justify): differ pointer retrieval to prevent\n\t  padding string modification.  [ruby-dev:24434]\n\n\t* range.c (range_each_func): allow func to terminate loop by\n\t  returning RANGE_EACH_BREAK.\n\n\t* range.c (member_i): use RANGE_EACH_BREAK. [ruby-talk:114959]\n\nTue Oct  5 09:53:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_fopen): mode string copy at the lowest level.\n\n\t* io.c (rb_io_flags_mode): requires output buffer no more.  no\n\t  allocation needed.\n\n\t* array.c (rb_ary_index): takes a block to compare items in an\n\t  array.  [ruby-talk:113069] [Ruby2]\n\n\t* array.c (rb_ary_rindex): ditto.\n\nMon Oct  4 14:03:40 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_file_open_internal, rb_io_reopen): fname might be altered\n\t  while GC.  [ruby-dev:24408]\n\nMon Oct  4 12:53:45 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/optiondb.rb: support definition of command\n\t  resources on widgets\n\n\t* ext/tk/lib/tk/image.rb: bug fix\n\nSun Oct  3 21:16:05 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (TEXT_REGEXP): allow 8-bit characters for the german\n\t  version of Microsoft Exchange Server.\n\n\t* lib/net/imap.rb (RTEXT_REGEXP): ditto.\n\n\t* lib/net/imap.rb (CTEXT_REGEXP): ditto.\n\nSat Oct  2 20:34:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (local_vars): moved to struct parser_params.\n\t  [ruby-dev:24391]\n\n\t* parser.y (stmts): remove suspicious NODE_BEGIN.  [ruby-dev:24390]\n\n\t* node.h (NEW_DVAR): extra semicolon.\n\nSat Oct  2 00:42:20 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_byte): retrieve pointer from string value for each\n\t  time.  [ruby-dev:24404]\n\n\t* marshal.c (r_bytes0): ditto.\n\n\t* enum.c (sort_by_i): re-entrance check added.  [ruby-dev:24399]\n\n\t* io.c (io_read): should freeze all reading buffer.\n\t  [ruby-dev:24400]\n\n\t* string.c (rb_str_sum): should use bignums when bits is greater\n\t  than or equals to sizeof(long)*CHAR_BITS. [ruby-dev:24395]\n\n\t* eval.c (specific_eval): defer pointer retrieval to prevent\n\t  unsafe sourcefile string modification.  [ruby-dev:24382]\n\n\t* string.c (rb_str_sum): wrong cast caused wrong result.\n\t  [ruby-dev:24385]\n\n\t* enum.c (enum_sort_by): hide temporary array from\n\t  ObjectSpace.each_object.  [ruby-dev:24386]\n\n\t* string.c (rb_str_sum): check was done with false pointer.\n\t  [ruby-dev:24383]\n\n\t* string.c (rb_str_sum): string may be altered.  [ruby-dev:24381]\n\nFri Oct  1 11:40:14 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_eval): defer pointer retrieval to prevent unsafe\n\t  sourcefile string modification.  [ruby-dev:24373]\n\n\t* io.c (io_read): block string buffer modification during\n\t  rb_io_fread() by freezing it temporarily. [ruby-dev:24366]\n\n\t* io.c (rb_io_s_popen): mode argument may be altered.\n\t  [ruby-dev:24375]\n\n\t* file.c (rb_file_s_basename): ext argument may be altered.\n\t  [ruby-dev:24377]\n\n\t* enum.c (enum_sort_by): use NODE instead of 2 element arrays.\n\t  [ruby-dev:24378]\n\n\t* string.c (rb_str_chomp_bang): StringValue() may change the\n\t  receiver.  [ruby-dev:24371]\n\nFri Oct  1 11:25:20 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/grid.rb: revive TkGrid.grid\n\n\t* ext/tk/lib/tk/pack.rb: revive TkPack.pack\n\n\t* ext/tk/lib/tk/place.rb: revive TkPlace.place\n\nThu Sep 30 00:50:44 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_init): bug fix\n\n\t* ext/tk/tkutil.c (get_eval_string_core): accept a Regexp object\n\n\t* ext/tk/lib/multi-tk.rb: fix bug on 'exit' operation\n\n\t* ext/tk/lib/tk/text.rb: 'tksearch' accepts a Regexp object as a\n\t  matting pattern argument\n\nWed Sep 29 10:58:07 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* enum.c (sort_by_i): internally used object must not be changed\n\t  outside.  [ruby-dev:24368]\n\nMon Sep 27 21:25:12 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_call0): invoke finalizers periodically.\n\n\t* gc.c (gc_sweep): defer running finalizers.  [ruby-dev:24354]\n\n\t* gc.c (rb_gc_finalize_deferred): run deferred finalizers.\n\nMon Sep 27 15:01:59 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: missing ';'.\n\nMon Sep 27 13:46:45 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h, struct.c (rb_struct_s_members, rb_struct_members): public\n\t  accessors.  [ruby-dev:24342]\n\n\t* marshal.c (w_object, r_object0): use accessors.\n\nMon Sep 27 09:14:03 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_delete): comparison may change the capacity.\n\t  [ruby-dev:24348]\n\n\t* array.c (rb_ary_fill): fill should honor length argument.\n\t  [ruby-dev:24346]\n\n\t* array.c (rb_ary_replace): should not use ptr from shared array.\n\t  [ruby-dev:24345]\n\n\t* ext/socket/socket.c (s_accept): don't retry for EWOULDBLOCK.\n\t  [ruby-talk:113807]\n\nSun Sep 26 08:05:10 2004  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: provides {Time,Date,DateTime}#to_{time,date,datetime}.\n\n\t* sample/cal.rb: uses getoptlong instead of getopts.\n\nSat Sep 25 18:39:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (flatten): element size might change during comparison.\n\t  [ruby-dev:24343]\n\nSat Sep 25 01:52:49 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_s_members): wrong call of struct_members.\n\t  [ruby-dev:24333]\n\nFri Sep 24 16:09:42 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): propagate DVAR_DONT_RECYCLE on termination\n\t  to avoid double call to rb_gc_force_recycle(). [ruby-dev:24311]\n\nFri Sep 24 08:29:45 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (rb_parser_append_print): should handle prelude.\n\t  [llama@u01.gate0]\n\n\t* parse.y (rb_parser_while_loop): ditto.\n\n\t* array.c (rb_ary_subseq): original object might be modified after\n\t  sharing data creation.  [ruby-dev:24327]\n\n\t* array.c (rb_ary_replace): ditto.\n\n\t* array.c (ary_make_shared): freeze shared array. [ruby-dev:24325]\n\n\t* struct.c (struct_members): always check struct size and size of\n\t  members list in the class.  [ruby-dev:24320]\n\nThu Sep 23 19:48:14 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/Makefile.dev: removed.\n\n\t* ext/ripper/ripper.rb.in: moved to lib/ripper/core.rb.in.\n\n\t* ext/ripper/lib/ripper/core.rb: new file.\n\n\t* ext/ripper/lib/ripper/core.rb.in: new file.\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: change comment.\n\n\t* test/ripper/*.rb: on__scan event removed.\n\n\t* test/ripper/*.rb: event name is changed: on__XXX -> on_XXX.\n\nThu Sep 23 09:29:14 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_sub_bang): check if string is not modified\n\t  during iteration.  [ruby-dev:24315]\n\n\t* hash.c (rb_hash_rehash): replace st_foreach() by its deep\n\t  checking counterpart.  [ruby-dev:24310]\n\nWed Sep 22 14:21:54 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: on__scan event removed.\n\n\t* parse.y [ripper]: event name is changed: on__XXX -> on_XXX.\n\n\t* ext/ripper/eventids2.c: ditto.\n\n\t* ext/ripper/ripper.rb.in: ditto.\n\n\t* ext/ripper/lib/ripper.rb: sync with ripper.rb.in.\n\n\t* ext/ripper/lib/ripper/tokenizer: ditto.\n\n\t* ext/ripper/lib/ripper/filter: new file.\n\n\t* sample/ripper/colorize.rb: new file.\n\n\t* sample/ripper/strip-comment.rb: new file.\n\nWed Sep 22 13:50:49 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (hash_alloc): was using tbl pointer without\n\t  initialization.\n\nWed Sep 22 13:38:12 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_rehash): add iteration check.  [ruby-dev:24301]\n\n\t* st.c (st_foreach): add deep check.\n\n\t* hash.c (rb_hash_fetch): returns KeyError instead of IndexError.\n\n\t* hash.c (env_fetch): ditto.\n\nWed Sep 22 13:02:02 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_call_handler): workaround for Ctrl-C.\n\nWed Sep 22 09:04:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y: remove global variables ruby_eval_tree and\n\t  ruby_eval_tree_begin.\n\n\t* array.c (rb_ary_collect_bang): element size might change during\n\t  comparison.  [ruby-dev:24300]\n\n\t* array.c (rb_ary_reject_bang): ditto. [ruby-dev:24300]\n\n\t* array.c (rb_ary_eql): ditto. [ruby-dev:24300]\n\nWed Sep 22 00:11:12 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* process.c: Add documentation for fork()\n\nTue Sep 21 18:29:49 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_uniq_bang): element size might change during\n\t  comparison.  [ruby-dev:24298]\n\nMon Sep 20 17:46:51 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/tokenizer.rb: fix typo.\n\nMon Sep 20 17:38:43 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/test_scanner_events.rb: tokens must be reordered.\n\n\t* ext/ripper/lib/ripper/tokenizer.rb: ditto.\n\nMon Sep 20 16:58:16 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: do not delay dispatching.\n\n\t* ext/ripper/lib/ripper/tokenizer.rb: sort tokens by right order.\n\nMon Sep 20 15:17:47 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/lib/ripper/tokenizer.rb: new file.\n\nMon Sep 20 15:13:52 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/test_scanner_events.rb: test #lineno and #column.\n\nMon Sep 20 14:50:17 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: delayed heredocument events should be\n\t  dispatched after EOF.\n\nMon Sep 20 14:39:42 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: adjust lineno and columns for multi-line\n\t  strings.\n\n\t* parse.y [ripper]: delay heredocument events until seeing\n\t  end-of-line.\n\n\t* parse.y [ripper]: event on__heredoc_contentn ->\n\t  on__tstring_content.\n\n\t* ext/ripper/eventids2.c: ditto.\n\n\t* ext/ripper/lib/ripper.rb: sync with eventids2.c.\n\n\t* test/ripper/test_scanner_events.rb: test it.\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: show basename of input.\n\n\t* ext/ripper/Makefile.dev: support objdir build.\n\nMon Sep 20 13:22:55 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: remove Ripper#pos.\n\n\t* parse.y [ripper]: Ripper#column should return the column of the\n\t  current token.\n\nMon Sep 20 12:02:41 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: unify old_lex_p and token_head.\n\n\t* test/ripper/test_scanner_events.rb: now \\r\\n is saved correctly.\n\n\t* parse.y: new macro lex_goto_eol() for next change.\n\nMon Sep 20 11:01:55 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: adjust line number for heredoc.  [ruby-dev:24272]\n\nMon Sep 20 04:49:22 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/ripper.rb.in: new const Ripper::PARSER_EVENT_TABLE.\n\n\t* ext/ripper/ripper.rb.in: new const Ripper::SCANNER_EVENT_TABLE.\n\n\t* ext/ripper/lib/ripper.rb: sync with ripper.rb.in.\n\nMon Sep 20 04:13:00 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ripper/test_scanner_events.rb: test spaces before heredoc\n\t  mark.\n\nMon Sep 20 03:46:54 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: spaces before heredoc marker was lost.\n\t  [ruby-dev:24272]\n\n\t* keywords: rb_reserved_word() should be defined only in ruby\n\t  core.  [ruby-dev:24272]\n\n\t* lex.c: sync with keywords.\n\n\t* ext/ripper/ripper.rb.in (parse): fix typo.\n\n\t* ext/ripper/lib/ripper.rb: sync with ripper.rb.in.\n\nMon Sep 20 03:37:59 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/zlib/zlib.c (gzfile_read_raw): call readpartial at first.\n\t  (Zlib::GzipReader#readpartial): new method.\n\nMon Sep 20 00:24:19 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_sort_by): do not use qsort directly.  use\n\t  rb_ary_sort_bang() instead.  [ruby-dev:24291]\n\n\t* enum.c (enum_sort_by): pedantic type check added.\n\t  [ruby-dev:24291]\n\n\t* hash.c (rb_hash_foreach_iter): check iter_lev after each\n\t  iteration.  [ruby-dev:24289]\n\n\t* array.c (rb_ary_and): element size might change during\n\t  comparison.  [ruby-dev:24290]\n\n\t* array.c (rb_ary_or): ditto. [ruby-dev:24292]\n\n\t* array.c (rb_ary_equal): wrong fix. [ruby-dev:24286]\n\nSat Sep 18 15:02:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_equal): element size might change during\n\t  comparison.  [ruby-dev:24254]\n\n\t* array.c (rb_ary_diff): ditto. [ruby-dev:24274]\n\n\t* array.c (rb_ary_select): ditto. [ruby-dev:24278]\n\n\t* array.c (rb_ary_delete): ditto. [ruby-dev:24283]\n\n\t* array.c (rb_ary_rindex): ditto. [ruby-dev:24275]\n\n\t* array.c (rb_ary_initialize): element size might change during\n\t  initializing block.  [ruby-dev:24284]\n\nSat Sep 18 14:10:23 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_s_chdir): avoid memory leak and unnecessary chdir to\n\t  the original directory when exception has caused in changing\n\t  direcotry or within block.  thanks to Johan Holmberg\n\t  <holmberg@iar.se> [ruby-core:03446]\n\nFri Sep 17 20:29:33 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* parse.y: add prototypes for Microsoft compiler.\n\n\t* ext/ripper/depend (parse.obj): lex.c exists at hdrdir.\n\n\t* {bcc32,win32,wince}/Makefile.sub (YACC, YFLAGS, parse.c):\n\t  use bison.\n\nFri Sep 17 17:11:08 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c (rb_ary_delete): element comparison might change array\n\t  size. [ruby-dev:24273]\n\n\t* parse.y: make ruby parser reentrant. merge ripper parser to the\n\t  real one.  this change makes ruby require bison.\n\n\t* file.c (rb_file_truncate): clear stdio buffer before truncating\n\t  the file.  [ruby-dev:24191]\n\n\t* ext/digest/digest.c: use rb_obj_class() instead of CLASS_OF\n\t  which might return singleton class.  [ruby-dev:24202]\n\nFri Sep 17 16:07:09 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: improve exit operation\n\nFri Sep 17 15:01:57 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix SEGV when (thread_)vwait or\n\t  (thread_)tkwait\n\n\t* ext/tk/lib/tk.rb: add alias wait_window to wait_destroy\n\n\t* ext/tk/lib/multi-tk.rb: support calling 'mainloop' on slave\n\t  interpreters (however, the 'real' eventloop must be run on the\n\t  Default Master IP)\n\n\t* ext/tk/lib/remote-tk.rb: follow the changes of ext/tk/lib/multi-tk.rb\n\n\t* ext/tk/sample/remote-ip_sample2.rb: ditto\n\n\t* ext/tk/sample/tkoptdb-safeTk.rb: ditto\n\nThu Sep 16 18:12:13 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI#start): should set REMOTE_USER\n\t  to request.user attribute.\n\n\t* lib/webrick/httpservlet/filehandler.rb\n\t  (WEBrick::HTTPServlet::FileHandler#initialize): should expand\n\t  the pathname of document root directory.\n\nThu Sep 16 15:49:28 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_intern): protect string argument from GC.\n\t  [ruby-core:03411]\n\nWed Sep 15 20:22:23 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkoptdb-safeTk.rb: fix a bug depend on the changes\n\t  of MultiTkIp\n\nTue Sep 14 23:54:11 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp#eval_string was en-bugged by\n\t  the previous changes.\n\nTue Sep 14 23:45:44 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::TextFormatter::TextFormatter.for):\n\t  Add Eric Hodel's simpleformatter.\n\nTue Sep 14 22:11:08 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: Add rdoc.\n\nTue Sep 14 20:24:49 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y [ripper]: space event is on__sp, not on__lwsp.\n\t  [ruby-dev:24257]\n\n\t* ext/ripper/eventids2.c: ditto.\n\n\t* ext/ripper/lib/ripper.rb: ditto.\n\n\t* ext/ripper/depend (ripper.o): No action is needed.\n\t  [ruby-dev:24260]\n\n\t* ext/ripper/depend: Borland make does not accept pipes in\n\t  Makefile rules. [ruby-dev:24589]\n\n\t* ext/ripper/depend: separate rules for developpers.\n\n\t* ext/ripper/Makefile.dev: new file.\n\n\t* ext/ripper/MANIFEST: add Makefile.dev.\n\n\t* ext/ripper/tools/generate-eventids1.rb: read from file, not\n\t  stdin.\n\n\t* ext/ripper/extconf.rb: clean ripper.E.\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: #include ids1/ids2\n\t  function was lost.\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: SCANNER_EVENTS wrongly\n\t  contained parser events.\n\n\t* ext/ripper/lib/ripper.rb: ditto.\n\nTue Sep 14 16:59:37 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix SEGV\n\n\t* ext/tk/lib/multi-tk.rb: improve safe-level handling of argument proc\n\n\t* ext/tk/sample/multi-ip_sample.rb: rename of old 'safe-tk.rb'\n\n\t* ext/tk/sample/safe-tk.rb: new sample script\n\n\nMon Sep 13 21:33:40 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_to_s): add optional\n\t  second argument to specify the output format (see also\n\t   X509_NAME_print_ex).\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_init): new constants:\n\t  OpenSSL::X509::Name::COMPAT, OpenSSL::X509::Name::RFC2253,\n\t  OpenSSL::X509::ONELINE, OpenSSL::X509::MULTILINE.\n\n\t* ext/openssl/lib/openssl/x509.rb (OpenSSL::X509::Name::RFC2253DN):\n\t  new module to provide the parse for RFC2253 DN format.\n\n\t* ext/openssl/lib/openssl/x509.rb (OpenSSL::X509::Name.parse_rfc2253):\n\t  new method to parse RFC2253 DN format.\n\nMon Sep 13 19:16:33 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* eval.c (blk_copy_prev): need frame_dup().  [ruby-dev:24103]\n\nMon Sep 13 16:23:27 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp.new_master and new_slave accept\n\t  safe-level value argument\n\nMon Sep 13 10:48:37 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_getpid): don't need to use _getpid() on\n\t  mswin32 and mingw32.\n\nMon Sep 13 10:22:05 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* object.c (nil_inspect): fix typo.\n\nMon Sep 13 09:29:58 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/depend: (nmake hack) prepend \"./\" to ripper.c to\n\t  avoid {$(srcdir)}.\n\nMon Sep 13 06:43:42 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper/tools/list-parse-event-ids.rb: does not use getopts.\n\n\t* ext/ripper/tools/list-scan-event-ids.rb: ditto.\n\nMon Sep 13 02:42:28 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/Setup: add ripper.\n\n\t* ext/Setup.atheos: ditto.\n\n\t* ext/Setup.dj: ditto.\n\n\t* ext/Setup.emx: ditto.\n\n\t* ext/Setup.nt: ditto.\n\n\t* ext/Setup.x68: ditto.\n\nMon Sep 13 02:26:31 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/ripper: ripper extention added.\n\n\t* ext/ripper/MANIFEST: new file.\n\n\t* ext/ripper/README: new file.\n\n\t* ext/ripper/depend: new file.\n\n\t* ext/ripper/extconf.rb: new file.\n\n\t* ext/ripper/eventids2.c: new file.\n\n\t* ext/ripper/ripper.rb.in: new file.\n\n\t* ext/ripper/lib/ripper.rb: new file.\n\n\t* ext/ripper/test/check-event-arity.rb: new file.\n\n\t* ext/ripper/test/check-event-coverage.sh: new file.\n\n\t* ext/ripper/test/check-scanner-event-coverage.rb: new file.\n\n\t* ext/ripper/test/list-called-events.rb: new file.\n\n\t* ext/ripper/test/src_rb: new file.\n\n\t* ext/ripper/test/validate.rb: new file.\n\n\t* ext/ripper/tools/generate-eventids1.rb: new file.\n\n\t* ext/ripper/tools/generate-param-macros.rb: new file.\n\n\t* ext/ripper/tools/generate-ripper_rb.rb: new file.\n\n\t* ext/ripper/tools/list-parse-event-ids.rb: new file.\n\n\t* ext/ripper/tools/list-scan-event-ids.rb: new file.\n\n\t* ext/ripper/tools/preproc.rb: new file.\n\n\t* ext/ripper/tools/strip.rb: new file.\n\n\t* test/ripper: ripper tests added.\n\n\t* test/ripper/dummyparser.rb: new file.\n\n\t* test/ripper/test_parser_events.rb: new file.\n\n\t* test/ripper/test_scanner_events.rb: new file.\n\nMon Sep 13 01:03:02 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: improve control of preserv/release tcltkip\n\n\t* ext/tcltklib/tcltklib.c: store original 'exit' command\n\n\t* ext/tk/tkutil.c: fix(?) SEGV\n\nMon Sep 13 00:22:53 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y: fix file header.\n\nMon Sep 13 00:20:39 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y: ripper merged.\n\n\t* lex.c: ditto.\n\n\t* keywords: ditto.\n\nSun Sep 12 23:53:17 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.c (ruby_strdup): remove unnecessary code. (xmalloc never\n\t  returns NULL.)\n\n\t* util.c (ruby_getcwd): fix memory leak on failure.\n\nSun Sep 12 02:41:58 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: add TclTkIp#allow_ruby_exit? and\n\t  allow_ruby_exit=\n\n\t* ext/tk/lib/multi-tk.rb: ditto.\n\n\t* ext/tk/lib/remote-tk.rb: ditto.\n\n\t* ext/tcltklib/MANUAL.euc: ditto.\n\n\t* ext/tcltklib/MANUAL.eng: ditto.\n\n\t* ext/tcltklib/tcltklib.c: fix some reasons of SEGV\n\n\t* ext/tk/tkutil.c: ditto.\n\n\t* ext/tk/lib/multi-tk.rb: ditto.\n\n\t* ext/tk/lib/tk/timer.rb: ditto.\n\nSat Sep 11 16:09:46 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Fix up cross-file class merging.\n\nFri Sep 10 20:18:05 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tcltklib/tcltklib.c (lib_merge_tklist): fix suspicious\n\t  pointer conversion.\n\nFri Sep 10 19:16:24 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: bccwin32 port starts to use RTL dll.\n\t  (need to rebuild all) [ruby-dev:24138]\n\n\t* win32/win32.{h,c}: ditto.\n\nFri Sep 10 15:55:59 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir_p): should pass mode argument to\n\t  Dir.mkdir. [ruby-dev:24242]\n\n\t* test/fileutils/test_fileutils.rb: test it.\n\nFri Sep 10 02:43:54 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/kilmer.rb: James Buck's\n\t  patch for call-seq.\n\nThu Sep  9 13:58:56 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_init): change flag value for setting\n\t  'argv' and 'argv0' variable\n\n\t* ext/tk/lib/remote-tk.rb: follow changes of multi-tk.rb\n\nThu Sep  9 11:46:18 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::do_classes): Allow\n\t  spaces aroun parameter to define_method_under (James Buck)\n\nWed Sep  8 18:44:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_write): zero fill a gap if exsts.\n\t  [ruby-dev:24190]\n\nWed Sep  8 15:19:49 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_init): cannot create a IP at level 4\n\n\t* ext/tk/lib/multi-tk.rb: improve 'exit' operation, security check,\n\t  and error treatment\n\n\t* ext/tk/lib/multi-tk.rb: allow a trusted slave IP to create slave IPs\n\n\t* ext/tk/lib/tk/listbox.rb: add TkListbox#value, value=, clear,\tand\n\t  erase\n\n\t* ext/tk/lib/tk/text.rb: add TkText#clear and erase\n\nTue Sep  7 15:17:49 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect): break immediately if a\n\t  socket is non-blocking.  [ruby-talk:111654]\n\nTue Sep  7 12:48:22 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/Makefile.sub (config.h): add fcntl.\n\n\t* win32/win32.[ch] (fcntl): ditto.\n\n\t* win32/win32.c (rb_w32_connect): support nonblocking mode.\n\n\t* ext/socket/socket.c (wait_connectable, ruby_connect): support\n\t  nonblocking connect on various platforms.\n\nMon Sep  6 11:00:47 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (dir_s_chdir): the patch to shut up false warning when\n\t  exception occurred within a block.  a patch was given from Johan\n\t  Holmberg <holmberg at iar.se>.  [ruby-core:03292]\n\nMon Sep  6 10:57:40 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/lib/tk/menu.rb(TkOptionMenubutton#insert): call correct method\n\nMon Sep  6 07:51:42 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (cvar_cbase): singletons should refer outer cvar scope.\n\t  [ruby-dev:24223]\n\n\t* eval.c (rb_load): should preserve previous ruby_wrapper value.\n\t  [ruby-dev:24226]\n\nSat Sep  4 01:14:57 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (cvar_cbase): class variables cause SEGV in\n\t  instance_eval() for fixnums and symbols. [ruby-dev:24213]\n\nFri Sep  3 17:47:58 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (make_struct): remove redefining constant when\n\t  conflict.  [ruby-dev:24210]\n\nFri Sep  3 11:31:44 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: Tk.after makes TkCore::INTERP.tk_cmd_tbl grow\n\t  [ruby-dev:24207]\n\nFri Sep  3 02:12:48 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix typo [ruby-talk:111266]\n\n\t* ext/tk/lib/tk/text.rb: fix typo\n\n\t* ext/tk/lib/multi-tk.rb: improve safe-level treatment on slave IPs\n\nFri Sep  3 01:54:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): extact target prefix from Makefiles.\n\n\t* ext/extmk.rb: already built-in libraries satisfy dependencies.\n\t  [ruby-dev:24028]\n\nWed Sep  1 21:16:50 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/lib/tk/spinbox.rb: fix typo\n\nWed Sep  1 19:28:37 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_proc_exec): label cannot precede variable declarations.\n\nTue Aug 31 18:20:49 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/tk/tkutil.c (cbsubst_init): fix memory leak\n\n\t* ext/tk/tkutil.c (cbsubst_get_all_subst_keys): fix SEGV\n\nTue Aug 31 16:04:22 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_delete): when a tcltkip is deleted,\n\t  destroy its root widget\n\nTue Aug 31 12:30:36 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (del_root): fix SEGV\n\nMon Aug 30 21:50:14 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* object.c: Add RDoc for Module.included.\n\nMon Aug 30 23:11:06 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_driver.rb (and others): ri now merges documentation\n\t  if it finds the same class in multiple places.\n\nMon Aug 30 22:40:30 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: 'restart' method accepts arguments\n\nMon Aug 30 15:10:46 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (GNU/k*BSD): fixed FTBFS on GNU/k*BSD. [ruby-dev:24051]\n\nSun Aug 29 14:08:56 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: compile error on bcc32 [ruby-dev:24081]\n\n\t* ext/tk/lib/multi-tk.rb: MultiTkIp#eval_string does not work\n\nSat Aug 28 23:04:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_and): protect parameters from GC.\n\t  [ruby-talk:110664]\n\nFri Aug 27 12:13:50 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/stringio/stringio.c (Init_stringio): add StringIO#readpartial as\n\t  an alias for StringIO#sysread.\n\nFri Aug 27 10:14:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_proc_exec): strip trailing spaces.  [ruby-dev:24143]\n\n\t* win32/win32.c (CreateChild): ditto.\n\nThu Aug 26 04:38:29 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* eval.c (return_jump): Minor typo in error message. Now reads\n\t  \"return can't jump across threads\".\n\nWed Aug 25 15:18:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_longjmp): Exception#to_str is no longer defined.\n\nWed Aug 25 11:39:10 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (exc_equal): exceptions are equal if they share same\n\t  class, message and backtrace. [ruby-talk:110354]\n\n\t* error.c (name_err_mesg_equal): ditto.\n\nTue Aug 24 16:41:48 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::FileStore#initialize): do not\n\t  use a session id as a filename.\n\n\t* lib/cgi/session/pstore.rb (CGI::Session::PStore#initialize): ditto.\n\n\t* lib/cgi/session/pstore.rb (CGI::Session::PStore#initialize): use\n\t  Dir::tmpdir.\n\nTue Aug 24 14:32:17 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::FileStore#initialize): untaint\n\t  session id after check.\n\nTue Aug 24 08:57:51 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509attr.c (ossl_x509attr_initialize): d2i\n\t  functions may replace the pointer indicated by the first argument.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_initialize): ditto.\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_initialize): ditto.\n\nMon Aug 23 12:43:32 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/resolv.rb (Config.default_config_hash): when multiple domains\n\t  are set, Win32::Resolv.get_resolv_info returns Array.\n\nSun Aug 22 16:27:38 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_read):\n\t  - should return an empty string if specified length to read is 0.\n\t  - should check for pending data and wait for fd before reading.\n\t  - call underlying IO's sysread if SSL session is not started.\n\t  [ruby-dev:24072], [ruby-dev:24075]\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_write):\n\t  - call underlying IO's syswrite if SSL session is not started.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_pending): new method\n\t  OpenSSL::SSL#pending.\n\n\t* ext/openssl/lib/openssl/buffering.rb: should not use select.\n\nSun Aug 22 01:10:36 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpproxy.rb (WEBrick::HTTPProxyServer#proxy_connect):\n\t  should call :ProxyContentHandler before finishing CONNECT.\n\nSat Aug 21 06:41:16 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tcltklib/extconf.rb (find_tcl, find_tk): find stub library.\n\n\t* lib/mkmf.rb (arg_config, with_config): deal with '-' and '_'\n\t  uniformly.  [ruby-dev:24118]\n\nFri Aug 20 14:49:42 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* io.c (rb_io_check_writable): no need to check read buffer if\n\t  already changed to write mode.\n\nFri Aug 20 11:46:43 2004  UENO Katsuhiro  <katsu@blue.sky.or.jp>\n\n\t* ext/zlib/zlib.c: GzipReader#ungetc caused crc error.\n\nThu Aug 19 16:29:45 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: Fail to treat a hash value of 'font' option.\n\n\t* ext/tk/lib/tk.rb: bindinfo cannot return '%' substiturion infomation.\n\n\t* ext/tk/lib/menu.rb: typo bug.\n\nThu Aug 19 15:15:24 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c (free_dir): fix memory leak.  reported by yamamoto\n\t  madoka.\n\nThu Aug 19 09:19:27 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* configure.in, win32/Makefile.sub (LIBS): need to link shell32\n\t  library for SH* functions on mswin32 and mingw32.\n\n\t* wince/Makefile.sub (LIBS): need to link ceshell library for SH*\n\t  functions on mswince.\n\nThu Aug 19 03:07:00 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/baseemitter.rb: folding now handles double-quoted strings,\n\t  fixed problem with extra line feeds at end of folding, whitespace\n\t  opening scalar blocks.\n\n\t* lib/yaml/rubytypes.rb: subtelties in handling strings with\n\t  non-printable characters and odd whitespace patterns.\n\nWed Aug 18 23:44:20 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb (rbuf_fill): OpenSSL::SSLSocket has its own\n\t  buffer, select(2) might not work. [ruby-dev:24072]\n\nWed Aug 18 17:10:12 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/tcltklib/stubs.c (ruby_tcltk_stubs): need to call\n\t  Tcl_FindExecutable() for Tcl/Tk 8.4.\n\nWed Aug 18 12:52:55 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_obj_instance_eval): evaluates under special singleton\n\t  classes as for special constants.\n\nWed Aug 18 11:22:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (init_env): initialize HOME and USER environment\n\t  variables unless set.\n\nWed Aug 18 10:17:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (bind_eval): new method. [RCR 251]\n\n\t* string.c (rb_str_clear): new method. [ruby-dev:24104]\n\nTue Aug 17 17:20:59 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_reopen): should clear allocated OpenFile.  pointed\n\t  out by Guy Decoux. [ruby-core:03288]\n\nTue Aug 17 01:36:32 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/usage.rb: Remove extra indent. Tidy 'ri' option\n\t  parsing so RDoc::usage plays better with OptionParser.\n\nSat Aug 14 02:48:16 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/usage.rb: Added. Allows command line programs\n\t  to report usage using their initial RDoc comment.\n\nSat Aug 14 01:25:48 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/token.c: re2c no longer compiled with bit vectors.  caused\n\t  problems for non-ascii characters. [ruby-core:03280]\n\t* ext/syck/implicit.c: ditto.\n\t* ext/syck/bytecode.c: ditto.\n\nFri Aug 13 12:55:20 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.parse_range_header):\n\t  fix regex for range-spec.\n\n\t* lib/webrick/httpservlet/filehandler.rb\n\t  (WEBrick::HTTPServlet::DefaultFileHandler#make_partial_content):\n\t  multipart/byteranges response was broken.\n\n\t* lib/xmlrpc/server.rb: refine example code.\n\nThu Aug 12 10:54:17 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* rubyio.h (rb_eof_error): should mark as NORETURN.\n\n\t* win32/win32.c (make_cmdvector): adjust escaped successive\n\t  double-quote handling.\n\nThu Aug 12 01:53:10 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (read_buffered_data): extracted from rb_io_fread.\n\t  (io_readpartial): new method IO#readpartial.\n\t  [ruby-dev:24055]\n\nWed Aug 11 17:17:50 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (RPATHFLAG): stop setting RPATHFLAG on Interix.\n\nMon Aug  9 15:03:20 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/erbhandler.rb\n\t  (WEBrick::HTTPServlet::ERBHandler#do_GET): should select media type\n\t  by suffix of script filename.\n\nMon Aug  9 12:51:43 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* dir.c (dir_s_glob): Roll in Austin Ziegler's Dir.glob and\n\t  fnmatch updates.\n\nMon Aug  9 06:33:06 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (cp_r): copies symlink to symlink, except\n\t  root entries of cp_r.\n\n\t* lib/fileutils.rb: new method FileUtils.copy_entry.\n\n\t* test/fileutils/test_fileutils.rb: more cp_r tests.\n\nSun Aug  8 00:43:31 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/implicit.c: added sexagecimal float#base60.\n\n\t* ext/syck/rubyext.c (yaml_org_handler): ditto.\n\n\t* lib/token.c: indentation absolutely ignored when processing flow\n\t  collections.  plain scalars are trimmed if indentation follows in\n\t  an ambiguous flow collection.\n\nSat Aug  7 03:08:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (proc_daemon): new method.  should be modified for\n\t  platforms without /dev/null.\n\nSat Aug  7 00:50:01 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/zlib/zlib.c: Zlib::GzipReader#read(0) returns \"\" instead of nil.\n\nWed Aug  4 13:26:00 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_bytes0): optimize out read(0). [ruby-talk:108276]\n\nTue Aug  3 13:49:12 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/namespace.rb: bug fix\n\n\t* ext/tk/lib/tkextlib/treectrl/tktreectrl.rb: add Tk::TreeCtrl.loupe\n\nMon Aug  2 23:33:48 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_file.rb (test_fnmatch): added more tests.\n\nMon Aug  2 18:04:21 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/msgcat.rb (set_translation): bug fix (fail to set\n\t  trans_str to the same as src_str when trans_str is not given.)\n\nMon Aug  2 17:40:44 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (blk_free): fixed serious memory leak. [ruby-dev:24013]\n\nMon Aug  2 11:53:06 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::find_symbol): Fix infinite recursion\n\t  looking up some top level symbols (batsman)\n\nMon Aug  2 11:48:29 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::do_methods): Allow '.'s in\n\t  variable names to support SWIG generated files (Hans Fugal)\n\nSat Jul 31 23:08:00 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): stupid mistakes fixed. [ruby-dev:24006]\n\nSat Jul 31 17:39:47 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-expr-beg, ruby-parse-partial,\n\t  ruby-calculate-indent, ruby-move-to-block, ruby-forward-sexp,\n\t  ruby-backward-sexp): keywords must match word-wise.\n\nSat Jul 31 13:37:51 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): avoid unnecessary method invocations.\n\nSat Jul 31 05:35:37 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: exceptions were using an older\n\t  YAML.object_maker. [ruby-core:03080]\n\n\t* ext/syck/token.c (sycklex_yaml_utf8): using newline_len to\n\t  handline CR-LFs.  \"\\000\" was showing up on folded blocks which\n\t  stopped at EOF.\n\nSat Jul 31 01:25:11 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): call is_defined() before invoking\n\t  rb_eval().  [ruby-talk:107867]\n\nFri Jul 30 16:10:54 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (lib_fromUTF8_core): raise ArgumentError when\n\t  the unknown encoding name is given.\n\n\t* ext/tcltklib/tcltklib.c (lib_toUTF8_core): ditto.\n\n\t* ext/tk/lib/tk.rb (Tk::Encoding.encoding_convertfrom): bug fix.\n\n\t* ext/tk/lib/tk.rb (Tk::Encoding.encoding_convertto): ditto.\n\nWed Jul 28 18:59:17 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::initialize): remove at_exit code for CGI_PARAMS\n\t  and CGI_COOKIES.  they will no longer be used.\n\nWed Jul 28 15:44:08 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): should call rb_call_super() directly for\n\t  visibility overriding.  [ruby-dev:23989]\n\nWed Jul 28 01:04:44 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* env.h: remove argv from ruby_frame.\n\n\t* eval.c (rb_eval): no more copy on write.\n\n\t* eval.c (assign): ditto.\n\n\t* eval.c (rb_call0): can receive *rest by specifying negative\n\t  argc.  (-1 means 0 arg and *rest, -2 means 1 arg and *rest...)\n\n\t* eval.c (rb_call0): properly set frame's argc counter.\n\n\t* gc.c (rb_gc_mark_frame): need not to mark frame's argv\n\n\t* gc.c (run_final): wrong order of data. [ruby-dev:23984]\n\nTue Jul 27 07:05:04 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): copy on write for argument local variable\n\t  assignment.\n\n\t* eval.c (assign): ditto.\n\n\t* eval.c (rb_call0): update ruby_frame->argv with the default\n\t  value used for the optional arguments.\n\n\t* object.c (Init_Object): \"===\" calls rb_obj_equal() directly.\n\t  [ruby-list:39937]\n\nMon Jul 26 11:22:55 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick::HTTPUtils.escape): should\n\t  escape space.\n\nSun Jul 25 10:56:28 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* win32/win32.{h,c} (rb_w32_{f,fd,fs}open): workaround for bcc32's\n\t  {f,fd,fs}open bug. set errno EMFILE and EBADF. [ruby-dev:23963]\n\n\t* test/drb/drbtest.rb: fix method duplication.\n\nSat Jul 24 13:32:47 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (rb_range_beg_len): returns Qnil only when \"beg\" points\n\t  outside of a range.  No boundary check for \"end\".\n\nFri Jul 23 16:40:25 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (define_final): should not disclose NODE* to Ruby world.\n\t  [ruby-dev:23957]\n\nFri Jul 23 08:52:22 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (disconnected?): new method.\n\nThu Jul 22 16:41:54 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi/session.rb (CGI::Session::FileStore#update): sets the\n\t  permission of the session data file to 0600.\n\n\t* lib/cgi/session/pstore.rb (CGI::Session::Pstore#initialize):\n\t  ditto.\n\nMon Jul 19 00:53:46 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb\n\t  (WEBrick::HTTPServlet::CGIhandler#do_GET): set SystemRoot environment\n\t  variable to CGI process on Windows native platforms. [ruby-dev:23936]\n\nSun Jul 18 16:14:29 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/msgcat.rb (TkMsgCatalog.callback): bug fix\n\t  ( wrong number of argument )\n\nSun Jul 18 08:13:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): remove extra sign digit.\n\nSun Jul 18 03:19:14 2004  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* dir.c (bracket): use NULL instead of 0.\n\nSun Jul 18 02:35:30 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (receive_responses): return if a LOGOUT response\n\t  received.\n\nSat Jul 17 23:59:01 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (send_string_data): wait command continuation\n\t  requests before sending octet data of literals.\n\nSat Jul 17 23:54:59 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/variable.rb: TkVariable#ref returns a TkVariable object\n\nSat Jul 17 22:04:44 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/ldap.rb: method hierarchical? should be in URI::LDAP.\n\nSat Jul 17 18:29:07 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): not to show same error messages twice.\n\nSat Jul 17 14:18:11 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_match_m): String#match should also take\n\t  optional argument.  [ruby-core:03205]\n\n\t* re.c (rb_reg_match_m): add optional second argugment \"pos\" to\n\t  specify match start point.  [ruby-core:03203]\n\nSat Jul 17 13:13:32 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex::identify_string): %s string do not\n\t  process expression interpolation.  [ruby-talk:106691]\n\nSat Jul 17 05:26:27 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/diagram.rb: Incorporate Micheal Neumann's\n\t  client-side imagemao patch\n\nSat Jul 17 01:57:03 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (THREAD_ALLOC): th->thread should be initialized to NULL.\n\t  [ruby-talk:106657]  The solution was found by Guy Decoux.\n\nFri Jul 16 22:30:28 2004  Michael Neumann  <mneumann@ntecs.de>\n\n\t* file.c (rb_stat_dev_major): new methods File::Stat#dev_major and\n\t  #dev_minor. [ruby-core:03195]\n\nFri Jul 16 11:17:38 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (exit_initialize): use EXIT_SUCCESS instead of 0.\n\t  [ruby-dev:23913]\n\n\t* error.c (exit_success_p): new method SystemExit#success?.\n\t  [ruby-dev:23912]\n\n\t* error.c (syserr_initialize): initialization for subclasses.\n\t  [ruby-dev:23912]\n\nThu Jul 15 23:53:38 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser#warn, OptionParser#abort): Exception\n\t  no longer has to_str method.\n\nThu Jul 15 22:59:48 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* ext/readline/extconf.rb: added dir_config for curses, ncurses,\n\t  termcap.\n\nThu Jul 15 20:44:46 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* class.c: rdoc patch\n\nThu Jul 15 14:12:34 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb (YAML::load_file, YAML::parse_file): added.\n\n\t* ext/syck/token.c: re2c compiled with bit vectors now.\n\t* ext/syck/implicit.c: ditto.\n\t* ext/syck/bytecode.c: ditto.\n\nThu Jul 15 10:15:04 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/, ext/tcltklib/: bug fix\n\n\t* ext/tk/lib/tk.rb: better operation for SIGINT when processing\n\t  callbacks.\n\t* ext/tk/lib/tk/msgcat.rb: ditto.\n\t* ext/tk/lib/tk/variable.rb: ditto.\n\t* ext/tk/lib/tk/timer.rb: ditto.\n\n\t* ext/tk/lib/tk/validation.rb: add Tk::ValidateConfigure.__def_validcmd\n\t  to define validatecommand methods easier\n\n\t* ext/tk/lib/tk.rb (_genobj_for_tkwidget): support autoload Tk ext\n\t  classes\n\n\t* ext/tk/lib/tk/canvas.rb and so on: remove the parent widget type\n\t  check for items (e.g. canvas items; depends on the class) to\n\t  avoid some troubles on Tk extension widget class definition.\n\n\t* ext/tk/lib/tkextlib/: add Iwidget and TkTable extension support\n\n\t* ext/tk/sample/tkextlib/: add samples of Iwidget and TkTable\n\n\nWed Jul 14 23:49:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (enum_min_by): new method Enum#min_by.  added Enum#max_by\n\t  as well.\n\nWed Jul 14 18:05:21 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1cons_to_der): fix type of\n\t  argument. [ruby-dev:23891]\n\n\t* test/openssl/test_x509store.rb: prune tests for CRL checking\n\t  unless X509::V_FLAG_CRL_CHECK is defined.\n\nWed Jul 14 12:20:05 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.c (ruby_strtod): should not convert string in the form of\n\t  \"-I.FE-X\" which both \"I\" and \"F\" are ommitted. [ruby-dev:23883]\n\n\t* test/ruby/test_float.rb (test_strtod): add test for bug fix.\n\nWed Jul 14 00:33:48 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* array.c: rdoc patch. merged patch from Johan Holmberg\n\t  <holmberg@iar.se> [ruby-core:3170]\n\nTue Jul 13 19:39:12 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic#merge_path):\n\t  \"URI('http://www.example.com/foo/..') + './'\" should return\n\t  \"URI('http://www.example.com/')\".  [ruby-list:39838]\n\t  \"URI('http://www.example.com/') + './foo/bar/..'\" should return\n\t  \"URI('http://www.example.com/foo/')\".  [ruby-list:39844]\n\n\t* test/uri/test_generic.rb (TestGeneric#test_merge): added tests.\n\nTue Jul 13 15:48:56 2004  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/mkmf.rb (init_mkmf): Do not add $(libdir) to $LIBPATH in\n\t   extmk mode.\n\n\t* lib/mkmf.rb (dir_config): Prepend a new library path instead of\n\t  appending so it is tried first.\n\nTue Jul 13 00:50:48 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Support call-seq: for Ruby files.\n\nMon Jul 12 21:20:51 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* html_generator.rb: Support hyperlinks of the form {any text}[xxx]\n\t  as well as stuff[xxx]\n\nSat Jul 10 09:30:24 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/marshal/test_struct.rb: use qualified built-in class name\n\t  (::Struct) to avoid name crash.\n\nSat Jul 10 04:21:56 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: better operation for SIGINT when processing\n\t  callbacks.\n\t* ext/tk/lib/tk/msgcat.rb: ditto.\n\t* ext/tk/lib/tk/variable.rb: ditto.\n\t* ext/tk/lib/tk/timer.rb: ditto.\n\n\t* ext/tk/lib/tk/validation.rb (__def_validcmd):  add a module\n\t  function of Tk::ValidateConfigure to define validatecommand\n\t  methods easier\n\nFri Jul  9 22:18:59 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* array.c, enum.c, pack.c: rdoc patch from Johan Holmberg\n\t  <holmberg@iar.se> [ruby-core:3132] [ruby-core:3136]\n\n\t* numeric.c: rdoc patch.\n\nFri Jul  9 19:26:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::HTTPS#proxy_open): raise ArgumentError to\n\t  notice https is not supported.\n\nFri Jul  9 14:28:54 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_raise): accept third argument as well as\n\t  Kernel#raise, and evaluate the arguments to create an exception in\n\t  the caller's context.  [ruby-talk:105507]\n\nFri Jul  9 01:47:08 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib: bug fix\n\t* ext/tk/lib/tkextlib/itcl: add [incr Tcl] support\n\t* ext/tk/lib/tkextlib/itk: add [incr Tk] support\n\t* ext/tk/lib/tkextlib/iwidgets: midway point of [incr Widgets] support\n\t* ext/tk/sample/tkextlib/iwidgets: very simple examples of\n\t  [incr Widgets]\n\nThu Jul  8 19:27:16 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_stack_end_address): detect stack end address\n\t  variable supplied by system.  [ruby-core:03115]\n\n\t* gc.c (Init_stack): use system provided address if possible.\n\nThu Jul  8 00:05:23 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/tempfile.rb (Tempfile::initialize): got out code of\n\t  generating tmpname.  [ruby-dev:23832][ruby-dev:23837]\n\nWed Jul  7 02:31:41 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/{rss,parser,0.9,1.0,2.0}.rb: supported RSS 0.9x/2.0\n\t  validation and validation which disregard order of elements.\n\t* test/rss/test_parser.rb: added tests for RSS 0.9x/2.0\n\t  validation.\n\t* test/rss/{test_trackback,rss-testcase}.rb: fixed no good method\n\t  name.\n\nWed Jul  7 00:48:34 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/tk/lib/tkextlib/tktrans.rb,\n\t  ext/tk/lib/tkextlib/treectrl.rb: fix syntax errors.\n\nTue Jul  6 18:38:45 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib: improve framework of developping Tcl/Tk extension\n\t  wrappers\n\nMon Jul  5 23:56:42 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/{trackback,syndication,dublincore,content}.rb: worked\n\t  with ruby 1.6 again.\n\n\t* test/rss/rss-assertions.rb: ditto.\n\nMon Jul  5 22:54:39 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/uri/common.rb (Kernel#URI): new global method for parsing URIs.\n\nMon Jul  5 09:02:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_yield, rb_f_catch): 4th argument to rb_yield_0()\n\t  is a set of bit flags.  [ruby-dev:23859]\n\nMon Jul  5 01:20:17 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* lib/drb/drb.rb(DRbConn self.open): If socket pool is full, close\n\t  the socket whose last-access-time is oldest. (and add new one)\n\t  [ruby-dev:23860]\n\nSun Jul  4 12:24:50 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/rss.rb: added copyright header.\n\nSat Jul  3 22:25:27 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* added files:\n\t  * lib/soap/header/*\n\t  * lib/soap/rpc/httpserver.rb\n\t  * lib/wsdl/soap/cgiStubCreator.rb\n\t  * lib/wsdl/soap/classDefCreator.rb\n\t  * lib/wsdl/soap/classDefCreatorSupport.rb\n\t  * lib/wsdl/soap/clientSkeltonCreator.rb\n\t  * lib/wsdl/soap/driverCreator.rb\n\t  * lib/wsdl/soap/mappingRegistryCreator.rb\n\t  * lib/wsdl/soap/methodDefCreator.rb\n\t  * lib/wsdl/soap/servantSkeltonCreator.rb\n\t  * lib/wsdl/soap/standaloneServerStubCreator.rb\n\t  * lib/wsdl/xmlSchema/enumeration.rb\n\t  * lib/wsdl/xmlSchema/simpleRestriction.rb\n\t  * lib/wsdl/xmlSchema/simpleType.rb\n\t  * lib/xsd/codegen/*\n\t  * lib/xsd/codegen.rb\n\t  * sample/soap/authheader/*\n\t  * sample/soap/raa2.4/*\n\t  * sample/soap/ssl/*\n\t  * sample/soap/swa/*\n\t  * sample/soap/whois.rb\n\t  * sample/wsdl/raa2.4/*\n\t  * test/soap/header/*\n\t  * test/soap/ssl/*\n\t  * test/soap/struct/*\n\t  * test/soap/swa/*\n\t  * test/soap/wsdlDriver/*\n\t  * test/wsdl/multiplefault.wsdl\n\t  * test/wsdl/simpletype/*\n\t  * test/wsdl/test_multiplefault.rb\n\n\t* modified files:\n\t  * lib/soap/baseData.rb\n\t  * lib/soap/element.rb\n\t  * lib/soap/generator.rb\n\t  * lib/soap/netHttpClient.rb\n\t  * lib/soap/parser.rb\n\t  * lib/soap/property.rb\n\t  * lib/soap/soap.rb\n\t  * lib/soap/streamHandler.rb\n\t  * lib/soap/wsdlDriver.rb\n\t  * lib/soap/encodingstyle/handler.rb\n\t  * lib/soap/encodingstyle/literalHandler.rb\n\t  * lib/soap/encodingstyle/soapHandler.rb\n\t  * lib/soap/mapping/factory.rb\n\t  * lib/soap/mapping/mapping.rb\n\t  * lib/soap/mapping/registry.rb\n\t  * lib/soap/mapping/rubytypeFactory.rb\n\t  * lib/soap/mapping/wsdlRegistry.rb\n\t  * lib/soap/rpc/cgistub.rb\n\t  * lib/soap/rpc/driver.rb\n\t  * lib/soap/rpc/proxy.rb\n\t  * lib/soap/rpc/router.rb\n\t  * lib/soap/rpc/soaplet.rb\n\t  * lib/soap/rpc/standaloneServer.rb\n\t  * lib/wsdl/data.rb\n\t  * lib/wsdl/definitions.rb\n\t  * lib/wsdl/operation.rb\n\t  * lib/wsdl/parser.rb\n\t  * lib/wsdl/soap/definitions.rb\n\t  * lib/wsdl/xmlSchema/complexContent.rb\n\t  * lib/wsdl/xmlSchema/complexType.rb\n\t  * lib/wsdl/xmlSchema/data.rb\n\t  * lib/wsdl/xmlSchema/parser.rb\n\t  * lib/wsdl/xmlSchema/schema.rb\n\t  * lib/xsd/datatypes.rb\n\t  * lib/xsd/qname.rb\n\t  * sample/soap/sampleStruct/server.rb\n\t  * sample/wsdl/amazon/AmazonSearch.rb\n\t  * sample/wsdl/amazon/AmazonSearchDriver.rb\n\t  * test/soap/test_property.rb\n\t  * test/soap/calc/test_calc_cgi.rb\n\t  * test/wsdl/test_emptycomplextype.rb\n\n\t* summary\n\t  * add SOAP Header mustUnderstand support.\n\n\t  * add HTTP client SSL configuration and Cookies support (works\n\t    completely with http-access2).\n\n\t  * add header handler for handling sending/receiving SOAP Header.\n\n\t  * map Ruby's anonymous Struct to common SOAP Struct in SOAP Object\n\t    Model.  it caused error.\n\n\t  * add WSDL simpleType support to restrict lexical value space.\n\nSat Jul  3 17:19:44 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/tk/lib/tkextlib/tkDND.rb: fix syntax error.\n\nThu Jul  1 18:36:08 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tcltklib: bug fix\n\n\t* ext/tk/lib/tk: bug fix and add Tcl/Tk extension support libraries\n\nThu Jul  1 18:31:31 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pstore.rb (PStore#transaction): get rid of opening in write mode\n\t  when read only transaction.  [ruby-dev:23842]\n\nThu Jul  1 00:44:42 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_encrypt, ossl_cipher_decrypt):\n\t  re-implemnt (the arguments for this method is ).\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_pkcs5_keyivgen): new method\n\t  OpenSSL::Cipher::Cipher#pkcs5_keyivgen. it calls EVP_BytesToKey().\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_set_key_length): new method\n\t  OpenSSL::Cipher::Cipher#key_len=.\n\nWed Jun 30 19:48:09 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: check for EVP_CIPHER_CTX_copy, ENGINE_add,\n\t  EVP_CIPHER_CTX_set_padding, EVP_CipherFinal_ex, EVP_CipherInit_ex,\n\t  EVP_DigestFinal_ex and EVP_DigestInit_ex.\n\n\t* ext/openssl/openssl_missing.c (EVP_CIPHER_CTX_copy): new function.\n\n\t* ext/openssl/openssl_missing.h (EVP_DigestInit_ex, EVP_DigestFinal_ex,\n\t  EVP_CipherInit_ex, EVP_CipherFinal_ex, HMAC_Init_ex): new macro for\n\t  OpenSSL 0.9.6.\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_alloc, ossl_cipher_initialize,\n\t  ossl_cipher_copy, ossl_cipher_reset, ossl_cipher_encrypt,\n\t  ossl_cipher_decrypt, ossl_cipher_final, ossl_cipher_set_key,\n\t  ossl_cipher_set_iv): replace all EVP_CipherInit and\n\t  EVP_CipherFinal into EVP_CipherInit_ex and EVP_CipherFinal_ex.\n\t  and EVP_CIPHER_CTX_init should only be called once.\n\n\t* ext/openssl/ossl_cipher.c (ossl_cipher_set_padding): check for\n\t  EVP_CIPHER_CTX_set_padding.\n\n\t* ext/openssl/ossl_cipher.c (Init_ossl_cipher): Cipher#<< is deprecated.\n\n\t* ext/openssl/ossl_digest.c: replace all EVP_DigestInit and\n\t  EVP_DigestFinal into EVP_DigestInit_ex and EVP_DigestFinal_ex.\n\t  and EVP_MD_CTX_init should only be called once.\n\n\t* ext/openssl/ossl_digest.c (digest_final): should call\n\t  EVP_MD_CTX_cleanup to avoid memory leak.\n\n\t* ext/openssl/ossl_hmac.c (ossl_hmac_initialize): repalce HMAC_init\n\t  into HMAC_init_ex. and HMAC_CTX_init is moved to ossl_hmac_alloc.\n\n\t* ext/openssl/ossl_hmac.c (hmac_final): should call\n\t  HMAC_CTX_cleanup to avoid memory leak.\n\n\t* test/openssl/test_cipher.rb, test/openssl/test_digest.rb,\n\t  test/openssl/test_hmac.rb: new file.\n\nWed Jun 30 16:59:39 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_file.rb (test_fnmatch): some tests for File.fnmatch\n\t  are added.\n\nWed Jun 30 11:38:51 2004  Mikael Brockman  <phubuh@phubuh.org>\n\n\t* parse.y (primary): should not be NULL.  [ruby-core:03098]\n\nWed Jun 30 02:41:10 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_emitter_new): set buffer after\n\t  Data_Wrap_Struct to avoid possible GC. [ruby-talk:104835]\n\nTue Jun 29 10:31:19 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval_cmd, rb_thread_trap_eval): restore safe level.\n\n\t* gc.c (define_final, run_final): preserve and restore safe level for\n\t  finalizers.  [ruby-core:03058]\n\n\t* signal.c (signal_exec, rb_trap_exit, trap): preserve and restore\n\t  safe level for signal handlers.  [ruby-dev:23829]\n\nMon Jun 28 14:57:56 2004  Jeff Mitchell  <quixoticsycophant@yahoo.com>\n\n\t* configure.in, lib/mkmf.rb (LIBPATHFLAG): use double quotes due to\n\t  DOSISH compilers.  [ruby-core:03107]\n\nMon Jun 28 00:35:29 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* sample/drb/*.rb: using 'DRb.thread.join' instead of 'gets'\n\nSun Jun 27 22:36:47 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb: supported Hiki.\n\nSat Jun 26 15:17:11 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (rb_mod_class_variables): class variables are no longer\n\t  inherited.  [ruby-dev:23808]\n\nSat Jun 26 11:07:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (aix): -b must come at the start of the command line,\n\t  and -e must not appear while testing libraries.  [ruby-talk:104501]\n\n\t* lib/mkmf.rb (find_header, dir_config): quote directory names if\n\t  necessary.  [ruby-talk:104505]\n\nSat Jun 26 00:13:08 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_fopen, rb_fdopen, rb_io_reopen): setvbuf() may return\n\t  positive value on failure.  [ruby-dev:23792]\n\nFri Jun 25 18:07:15 2004  Michal Rokos  <michal@ruby-lang.org>\n\n\t* gc.c: bring back _stklen for DJGPP [ruby-core:3084]\n\nFri Jun 25 15:33:01 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/extconf.rb: check stricter.  [ruby-talk:104501]\n\nFri Jun 25 01:58:01 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* {bcc32,win32,wince}/setup.mak: remove RUBY_EXTERN lines when\n\t  including version.h. [ruby-talk:104456]\n\nThu Jun 24 14:23:29 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_fread): return already read data when system call is\n\t  interrupted.  [ruby-talk:97206]\n\nThu Jun 24 01:25:21 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* version.h: added declarations of ruby_version,\n\t  ruby_release_date, ruby_platform.\n\nThu Jun 24 01:07:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_sockaddr): Socket#gethostbyname()\n\t  should give us packed address, not struct sockaddr.\n\t  [ruby-core:03053]\n\nWed Jun 23 22:19:10 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* ext/socket/socket.c (sock_s_gethostbyaddr): Work around problem\n\t  with OS X not returning 'from' parameter to recvfrom for\n\t  connection-oriented sockets.\n\nWed Jun 23 22:16:16 2004  Michal Rokos  <michal@ruby-lang.org>\n\n\t* io.c: io_seek()'s retval should be checked [ruby-core:03045]\n\nWed Jun 23 21:48:27 2004  Michal Rokos  <michal@ruby-lang.org>\n\n\t* time.c: Fix indentation.\n\n\t* main.c: Remove _stklen, and _CRT_glob. Move _stacksize for\n\t  __human68k__ to gc.c where the others are.\n\n\t* gc.c: put _stacksize in place and clean the #ifdefs macros.\n\nWed Jun 23 17:37:54 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb: added new option --ssl.\n\nWed Jun 23 01:45:27 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RubyLex::identify_quotation):\n\t  Fix problem with the 'r' being dropped from %r{xxx}\n\nWed Jun 23 00:10:17 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ext/win32ole/win32ole.c (ole_hresult2msg): remove trailing\n\t  CRs and LFs. (doesn't depend on CR+LF) [ruby-dev:23749]\n\nWed Jun 23 00:00:25 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (return_jump, break_jump): raise unexpected local jump\n\t  exception directly.  [ruby-dev:23740]\n\n\t* io.c (rb_io_initialize): should check fcntl result.  [ruby-dev:23742]\n\nTue Jun 22 23:35:43 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): support FZERO and FSPACE with NaN/Inf.\n\n\t* test/ruby/test_sprintf.rb (test_nan, test_inf): add tests.\n\nTue Jun 22 21:11:36 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (OLE_FREE): should not call CoFreeUnuse-\n\t  dLibraries().\n\n\t* ext/win32ole/win32ole.c (ole_event_free): ditto.\n\n\t* ext/win32ole/win32ole.c (ole_hresult2msg): truncate error message\n\t  before CR.\n\nTue Jun 22 19:24:59 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): unify output of NaN, Inf and -Inf with\n\t  \"%f\" or etc on all platform. [ruby-dev:23704], [ruby-dev:23747]\n\nTue Jun 22 15:28:12 2004  Michal Rokos  <michal@ruby-lang.org>\n\n\t* compar.c: Remove explicit NIL_P() checks since rb_cmpint() does it\n\t  again in the exactly same manner.\n\nTue Jun 22 01:32:40 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkey_dh.c (ossl_dh_initialize): should create\n\t  empty pkey object if no argument is passed. [ruby-talk:103328]\n\n\t* ext/openssl/ossl_pkey_dsa.c (ossl_dsa_initialize): ditto.\n\n\t* ext/openssl/ossl_pkey_rsa.c (ossl_rsa_initialize): ditto.\n\n\t* ext/openssl/ossl_pkey_dh.c: add new methods: OpenSSL::PKey::DH#p,\n\t  OpenSSL::PKey::DH#p=, OpenSSL::PKey::DH#g, OpenSSL::PKey::DH#g=,\n\t  OpenSSL::PKey::DH#pub_key, OpenSSL::PKey::DH#pub_key=,\n\t  OpenSSL::PKey::DH#priv_key and OpenSSL::PKey::DH#priv_key=.\n\n\t* ext/openssl/ossl_pkey_dsa.c: add new methods: OpenSSL::PKey::DSA#p,\n\t  OpenSSL::PKey::DSA#p=, OpenSSL::PKey::DSA#q, OpenSSL::PKey::DSA#q=,\n\t  OpenSSL::PKey::DSA#g, OpenSSL::PKey::DSA#g=,\n\t  OpenSSL::PKey::DSA#pub_key, OpenSSL::PKey::DSA#pub_key=,\n\t  OpenSSL::PKey::DSA#priv_key and OpenSSL::PKey::DSA#priv_key=.\n\nMon Jun 21 09:24:51 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_opendir): should set errno if error occurs\n\t  when calling OS API.\n\nSun Jun 20 21:12:54 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb (binary=): send TYPE commands only once.\n\nSat Jun 19 13:27:01 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (method_call): allow changing $SAFE.  [ruby-dev:23713]\n\n\t* eval.c (proc_set_safe_level, proc_invoke, rb_mod_define_method): not\n\t  set $SAFE for methods defined from Proc.  [ruby-dev:23697]\n\nSat Jun 19 01:10:12 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* sample/rss/tdiary_plugin/rss-recent.rb: added more information.\n\nFri Jun 18 23:12:22 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (proc_save_safe_level, rb_set_safe_level, safe_setter): limit\n\t  safe level.\n\nWed Jun 16 23:05:57 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_mod_freeze): prepare string representation before\n\t  freezing. [ruby-talk:103646]\n\nWed Jun 16 19:57:24 2004  Michal Rokos  <michal@ruby-lang.org>\n\n\t* test/ruby/test_array.rb: extend testcase to check #first, #last,\n\t  #shift, #unshift, #pop, #push\n\nWed Jun 16 16:05:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* array.c (ary_new): move alloc behind checks.  [ruby-core:02982]\n\n\t* array.c (rb_ary_pop_m, rb_ary_shift_m): take arg to behave as push\n\t  and unshift.\n\n\t* array.c (rb_ary_first, rb_ary_last): make shared array for result\n\t  array, and correct doc for Array#first(n) and Array#last(n)\n\n\t* array.c (rb_ary_select): not accept any arg.\n\nWed Jun 16 16:03:59 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* object.c (rb_class_inherited_p): singleton class inherits Class\n\t  rather than its object's class.  [ruby-dev:23690]\n\nWed Jun 16 16:01:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (stack_grow_direction): memoize the direction.\n\n\t* gc.c (Init_stack): should always move to end of VALUE.\n\nTue Jun 15 12:10:04 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: bug fix (TkWindow#grab)\n\nMon Jun 14 18:23:27 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/remote-tk.rb: bug fix\n\nSun Jun 13 00:23:04 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/extconf.rb: [EXPERIMENTAL] MacOS X (darwin) support\n\n\t* ext/tcltklib/tcltklib.c: fix thread trouble on callback proc, and\n\t  eliminate warning about instance variable access\n\n\t* ext/tk/lib/tk/menubar.rb: improve supported menu_spec\n\n\t* ext/tk/lib/tk/menuspec.rb: [add] menu_spec support library\n\n\t* ext/tk/lib/tk/root.rb: add menu_spec support\n\n\t* ext/tk/lib/tk/text.rb: bug fix\n\n\t* ext/tk/lib/tk/toplevel.rb: add menu_spec support\n\n\t* ext/tk/sample/menubar?.rb: [add] sample of menu_spec usage\n\nSat Jun 12 14:15:20 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c: RDOC for File::FNM_CASEFOLD was missed.\n\nSat Jun 12 11:15:53 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (target_os): strip -gnu suffix on Linux.\n\nFri Jun 11 22:08:50 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* array.c: remove #indexes, #indices.\n\n\t* hash.c: ditto.\n\n\t* ext/dbm/dbm.c: remove #indexes, #indices, \"values_at\" warning\n\t  from #select.\n\n\t* ext/gdbm/gdbm.c: ditto.\n\n\t* ext/sdbm/init.c: ditto.\n\n\t* ext/dbm/dbm.c (Init_dbm): set VERSION constant as \"unknown\" when\n\t  DB_VERSION_STRING is not available.\n\nThu Jun 10 19:19:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/sdbm/init.c (fsdbm_store): sdbm should use StringValue().\n\t  [ruby-talk:103062]\n\nWed Jun  9 16:09:01 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic::merge,\n\t  URI::Generic::route_from): accepts non-hierarchical URI.\n\t  [ruby-dev:23631]\n\n\t* test/uri/test_generic.rb (TestGeneric::test_route,\n\t  TestGeneric::test_merge): added tests for above changes.\n\nWed Jun  9 15:39:55 2004  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* configure.in: Add support for DragonFly BSD.\n\nWed Jun  9 15:07:06 2004  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* config.guess, config.sub: Update to a more recent version as of\n\t  2004-01-20.\n\nWed Jun  9 11:20:05 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c: remove unused functions and variables.\n\nWed Jun  2 20:16:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (str_new4): should share shared instance if it already\n\t  exists.  [ruby-dev:23665]\n\nWed Jun  2 12:41:53 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_gets_m): set lastline ($_) even when read line is\n\t  nil.  [ruby-dev:23663]\n\nFri May 28 11:20:31 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): bad influence on frame node.\n\n\t* eval.c (eval): reverted wrongly removed condition.  [ruby-dev:23638]\n\nThu May 27 21:37:50 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#initialize): fix pathname initialization\n\t  by pathname.\n\nThu May 27 20:02:09 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* io.c (rb_io_fwrite): check all case errno != 0 [ruby-dev:23648]\n\nThu May 27 15:54:02 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/ftp.rb (MDTM_REGEXP): fix for demon's ftp server.\n\t  Thanks, Rutger Nijlunsing.\n\nThu May 27 14:53:13 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (rb_io_fwrite): workaround for bcc32's fwrite bug.\n\t  add errno checking.  [ruby-dev:23627]\n\n\t* io.c (rb_io_fwrite): should check if errno == ENOENT, too.\n\nThu May 27 11:25:03 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: illegal require module name (../lib/csv.rb).\n\nWed May 26 23:12:13 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb (CSV.read, CSV.readlines): added.  works as IO.read and\n\t  IO.readlines in CSV format.\n\n\t* lib/csv.rb (CSV.parse): [CAUTION] behavior changed.  in the past,\n\t  CSV.parse accepts a filename to be read-opened (it was just a\n\t  shortcut of CSV.open(filename, 'r')).  now CSV.parse accepts a\n\t  string or a stream to be parsed e.g.\n\t  CSV.parse(\"1,2\\n3,r\") #=> [['1', '2'], ['3', '4']]\n\n\t* test/csv/test_csv.rb: follow above changes.\n\nWed May 26 14:19:42 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval, eval): make line number consistent on eval with\n\t  Proc.  [ruby-talk:101253]\n\nWed May 26 13:59:17 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::skip_for_variable): Allow for\n\t  'do' after for statement\n\nWed May 26 13:56:03 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb (Generators::MarkUp::style_url): Fix\n\t  relative path to code CSS file\n\nWed May 26 13:14:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_init_copy): copy also positions.  [ruby-talk:100910]\n\nWed May 26 00:00:00 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/syck.c (syck_new_parser): clear parser on init.\n\t  thanks, ts. [ruby-core:02931]\n\n\t* ext/syck/token.c (sycklex_yaml_utf8): buffer underflow.\n\t  thanks, ts. [ruby-core:02929]\n\n\t* lib/yaml/baseemitter.rb (indent_text): simpler flow block code.\n\nTue May 25 11:54:13 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_yield_0, proc_invoke, proc_arity): allow passing a block\n\t  to a Proc.  [ruby-dev:23533]\n\n\t* parse.y (block_par, block_var): ditto.\n\nTue May 25 01:50:17 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_i2d_ASN1_TYPE, ossl_ASN1_TYPE_free):\n\t  workaround for the versions earlier than OpenSSL-0.9.7.\n\nMon May 24 10:46:26 2004  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/rdoc/generators/template/html/html.rb: SYSTEM identifiers\n\t  must be absolute URIs\n\nSun May 23 04:53:50 2004  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/pstore.rb (transaction): allow overriding dump and load.\n\t  [ruby-dev:23567]\n\n\t* lib/yaml/store.rb: follow lib/pstore.rb's change.\n\nSat May 22 11:54:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* MANIFEST: add test/openssl/test_x509store.rb.\n\n\t* ext/tk/MANIFEST: add recent files.\n\nSat May 22 05:37:11 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/remote-tk.rb: (NEW library) controll Tk interpreters\n\t  on the other processes by Tcl/Tk's 'send' command\n\nFri May 21 09:22:05 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_method_parameters):\n\t  Add ()'s around parameters that don't have them\n\nFri May 21 02:21:11 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb: fixed a few bugs around multi char record/field separator.\n\n\t* test/csv/test_csv.rb: added boundary test for above feature.\n\nThu May 20 17:02:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (check_sizeof): define result size.  [ruby-core:02911]\n\n\t* lib/mkmf.rb (create_header): macro name should not include equal\n\t  sign.\n\nThu May 20 14:35:52 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/socket.c: check SCM_RIGHTS macro addition to\n\t  the msg_control field to test existence of file descriptor passing\n\t  by msg_control.\n\nThu May 20 12:38:06 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (flo_eq): always check if operands are NaN.\n\t  [ruby-list:39685]\n\nThu May 20 12:34:39 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_visibility):\n\t  At Ryan Davis' suggestion, honor visibility modifers if guarded by a\n\t  statement modifier\n\nThu May 20 12:22:13 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (have_type): do not check pointer to incomplete type,\n\t  which always get compiled.\n\t  [ruby-list:39683]\n\nWed May 19 23:45:43 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/inlinetest.rb (InlineTest::loadtest): requiring library with\n\t  replaced $0 can make $0 == __FILE__ block be evaluated twice.\n\n\t* test/ruby/envutil.rb (EnvUtil::rubybin): give priority to\n\t  environment variable.  [ruby-dev:23538]\n\nWed May 19 11:08:10 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: change permition of TkObject#tk_send from\n\t  private to public\n\nWed May 19 02:29:36 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: support TRACE.\n\nWed May 19 02:21:53 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: do not use class variables.\n\nTue May 18 21:21:43 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb: writes lines with \"\\n\" when row separator is not given.\n\t  formerly it was \"\\r\\n\".\n\n\t* lib/csv.rb: [CAUTION] API change\n\n\t  * CSV::Row removed.  a row is represented as just an Array.  since\n\t    CSV::Row was a subclass of Array, it won't hurt almost all programs\n\t    except one which depended CSV::Row#match.\n\n\t  * CSV::Cell removed.  a cell is represented as just a String or\n\t    nil(NULL).  this change will cause widespread destruction.\n\n\t      CSV.open(\"foo.csv\", \"r\") do |row|\n\t\trow.each do |cell|\n\t\t  if cell.is_null       # Cell#is_null\n\t\t    p \"(NULL)\"\n\t\t  else\n\t\t    p cell.data\t\t# Cell#data\n\t\t  end\n\t\tend\n\t      end\n\n\t    must be just;\n\n\t      CSV.open(\"foo.csv\", \"r\") do |row|\n\t\trow.each do |cell|\n\t\t  if cell.nil?\n\t\t    p \"(NULL)\"\n\t\t  else\n\t\t    p cell\n\t\t  end\n\t\tend\n\t      end\n\n\t* lib/csv.rb: [CAUTION] record separator(CR, LF, CR+LF) behavior\n\t  change.  CSV.open, CSV.parse, and CSV,generate now do not force\n\t  opened file binmode.  formerly it set binmode explicitly.\n\n\t  with CSV.open, binmode of opened file depends the given mode\n\t  parameter \"r\", \"w\", \"rb\", and \"wb\".  CSV.parse and CSV.generate open\n\t  file with \"r\" and \"w\".\n\n\t  setting mode properly is user's responsibility now.\n\n\t* lib/csv.rb: accepts String as a fs (field separator/column separator)\n\t  and rs (record separator/row separator)\n\n\t* lib/csv.rb: added CSV.foreach(path, rs = nil, &block).  CSV.foreach\n\t  now does not handle \"| cmd\" as a path different from IO.foreach.\n\t  needed?\n\n\t* test/csv/test_csv.rb: updated.\n\nTue May 18 14:24:20 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb: added rdoc to beginning of lib.\n\nTue May 18 14:00:46 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* node.h (NEW_DSTR): adjust list length.\n\n\t* parse.y (literal_concat): ditto.\n\nTue May 18 09:30:25 2004  SASADA Koichi  <ko1@atdot.net>\n\n\t* eval.c (rb_method_node): search cache entry first.\n\nMon May 17 16:04:06 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* numeric.c (flo_to_s): it's preferable that \"p 0.0\" outputs \"0.0\"\n\t  instead of \"0.0e+00\". [ruby-dev:23480]\n\n\t* numeric.c (flo_to_s): it's preferable that \"p 0.00000000000000000001\"\n\t  outputs \"1.0e-20\" instead of \"9.999999999999999e-21\". (the precision\n\t  is considered, but there is assumption DBL_DIG == 15 in current\n\t  implementation)\n\nMon May 17 10:13:33 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (setup_domain_and_type): honor duck typing.\n\t  [ruby-dev:23522]\n\n\t* ext/socket/socket.c (sock_s_getnameinfo): ditto.\n\nMon May 17 00:36:21 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/baseemitter.rb (indent_text): was forcing a mod value\n\t  of zero at times, which kept some blocks from getting indentation.\n\nMon May 17 00:07:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/drb/drb.rb: Cosmetic documentation changes.\n\nSun May 16 20:55:49 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/dbm/dbm.c (fdbm_initialize): accept optional 3rd argument to\n\t  specify an open flag.\n\t  (Init_dbm): define open flags: DBM::READER, DBM::WRITER, DBM::WRCREAT\n\t  and DBM::NEWDB.\n\nSat May 15 17:52:24 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_float.rb(test_strtod): Add test for signed 0.000...1\n\nSat May 15 14:20:13 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/syck/depend: add ruby's headers.\n\nSat May 15 13:38:33 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/MANIFEST, ext/syck/depend: new file.\n\n\t* lib/yaml/rubytypes.rb: range of exponential floats.  [ruby-core:02824]\n\n\t* test/yaml/test_yaml.rb: tests for strings start with colon and some\n\t  round trip.\n\nSat May 15 12:04:58 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml.rb: removed fallback to pure Ruby parser.\n\n\t* lib/yaml/baseemitter.rb (node_text): rewriting folded scalars.\n\n\t* ext/syck/syck.h: reports style of scalars now, be they plain, block\n\t  single-, or double-quoted.\n\n\t* ext/syck/syck.c: ditto.\n\n\t* ext/syck/gram.c: ditto.\n\n\t* ext/syck/node.c: ditto.\n\n\t* ext/syck/token.c: ditto.\n\n\t* ext/syck/rubyext.c (yaml_org_handler): symbols loaded only\n\t  if scalar style is plain.\n\n\t* test/yaml/test_yaml.rb (test_perl_regexp): updated test to\n\t  match new regexp serialization.\n\nSat May 15 01:41:34 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (eval): forgot to restore $SAFE value before evaluating\n\t  compiled node.  [ruby-core:02872]\n\nSat May 15 01:33:12 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* range.c (range_each_func): terminates loop if generating value\n\t  is same to @end.  [ruby-talk:100269]\n\nFri May 14 22:08:38 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_new4): should not reuse frozen shared string if\n\t  the original is not an instance of String. [ruby-talk:100193]\n\nFri May 14 21:29:26 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_mdump): preserve GMT bit in the marshal data.\n\t  [ruby-talk:100213]\n\nFri May 14 18:37:49 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/canvas.rb: improve coords support for canvas\n\t  items. Now, supports all of the followings.\n\t       TkcLine.new(c, 0, 0, 100, 100, :fill=>'red')\n\t       TkcLine.new(c, [0, 0, 100, 100], :fill=>'red')\n\t       TkcLine.new(c, [0, 0], [100, 100], :fill=>'red')\n\t       TkcLine.new(c, [[0, 0], [100, 100]], :fill=>'red')\n\t       TkcLine.new(c, :coords=>[0, 0, 100, 100], :fill=>'red')\n\t       TkcLine.new(c, :coords=>[[0, 0], [100, 100]], :fill=>'red')\n\nFri May 14 13:30:39 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* test/ruby/test_float.rb: Add test for util.c revision 1.42.\n\nFri May 14 12:13:46 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.c (ruby_strtod): strtod(\"0\", &end); => end should point '\\0'.\n\t [ruby-dev:23498]\n\nThu May 13 15:47:30 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/net/telnet.rb (Net::Telnet::login): \"options\" can specify\n\t  regexps for login prompt and/or password prompt.\n\nThu May 13 14:17:57 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (yaml_org_handler): some empty strings were\n\t  loaded as symbols.\n\nThu May 13 11:04:08 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* pack.c (pack_pack): always add with null for 'Z'.\n\n\t* pack.c (pack_unpack): terminated by null for 'Z'.  [ruby-talk:98281]\n\nWed May 12 19:59:43 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (have_type, check_sizeof): replace unusable characters.\n\t  [ruby-talk:99788]\n\nWed May 12 17:41:42 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb (Resolv::DNS::Config): make it configurable without\n\t  external file such as /etc/resolv.conf.\n\nWed May 12 14:37:27 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c: attribute value of DC (short name of\n\t  domainComponent) should be IA5String.\n\nWed May 12 13:20:19 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk/composite.rb: improve configure methods (based on\n\t  the proposal of [ruby-talk:99671]).\n\nWed May 12 11:51:08 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* class.c (rb_obj_singleton_methods): fix rdoc\n\nTue May 11 07:09:42 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (is_defined): do not protect exception during receiver\n\t  evaluation.\n\nMon May 10 22:28:14 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb (each_crlf_line): remove junk line.\n\nMon May 10 21:44:42 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Change scheme for\n\t  looking up symbols in  HTML generator.\n\nMon May 10 16:45:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (eval): warning during eval should not cause deadlock.\n\t  [ruby-talk:98651]\n\n\t* eval.c (rb_eval): raise TypeError exception for superclass\n\t  mismatch.  [ruby-list:39567]\n\nMon May 10 12:11:37 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Hack to search parents\n\t  for unqualified constant names.\n\nMon May 10 01:18:15 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb (logging): append \"\\n\".\n\nSun May  9 23:38:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/net/ftp.rb: ported documentation improvement from 1.8 branch\n\n\t* lib/net/imap.rb:   ditto\n\n\t* lib/net/pop.rb:    ditto\n\n\t* lib/net/smtp.rb:   ditto\n\n\t* lib/net/telnet.rb: ditto\n\nSun May  9 23:34:51 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_float.rb: added test_strtod to test Float(\"0\").\n\nSun May  9 13:24:24 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/yaml/store.rb: use FileUtils::copy.\n\nSun May  9 12:34:26 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regex.c: removed unused file.\n\nSat May  8 10:53:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_open): open should not ignore block when \"to_open\"\n\t  method is used.  [ruby-dev:23478]\n\nFri May  7 22:07:39 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mv): new option `force'. [ruby-talk:99457]\n\n\t* lib/fileutils.rb: new method for command option reflection:\n\t  FileUtils.commands, .options, .have_option?, .options_of,\n\t  .collect_methods.\n\n\t* lib/fileutils.rb: module Verbose, NoWrite, DryRun do not have\n\t  option flags @fileutils_verbose and @fileutils_noop, they make no\n\t  sense.\n\nFri May  7 21:50:21 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::parse_include): Allow\n\t  multiple arguments to 'include'\n\nFri May  7 21:03:51 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_list): Array() breaks pathes including \"\\n\".\n\t  [ruby-core:02843]\n\n\t* test/fileutils/test_fileutils.rb (mkdir): test \"\\n\" in path.\n\nFri May  7 20:53:25 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/dbm/dbm.c (fdbm_modify): typo fixed. [ruby-dev:23473]\n\nFri May  7 11:17:27 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* util.c (ruby_strtod): \"0.0000000000000000001\" should be converted\n\t  to 1.0e-19 instead of 0.0. (leading zeros aren't significant digits)\n\t  [ruby-talk:99318] [ruby-dev:23465]\n\nThu May  6 22:27:32 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* ext/socket/socket.c (ippaddr): use NUMERICHOST if can not resolve\n\t  hostname.\n\nThu May  6 22:09:29 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/tkutil.c (get_eval_string_core): bug fix. [ruby-dev:23466]\n\nThu May  6 14:22:29 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb (to_yaml): added instance variable handling\n\t  for Ranges, Strings, Structs, Regexps.\n\n\t* lib/yaml/rubytypes.rb (to_yaml_fold): new method for setting a\n\t  String's flow style.\n\n\t* lib/yaml.rb (YAML::object_maker): now uses Object.allocate.\n\n\t* ext/syck/gram.c: fixed transfer methods on structs, broke it\n\t  last commit.\n\nThu May  6 14:38:02 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (rb_push_glob): simplified code (not change behavior)\n\nThu May  6 13:32:44 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: get rid of side effect of Config.expand, patched by\n\t  <tttt01@infoseek.jp>  (ruby-bugs:PR#597)\n\nThu May  6 11:40:28 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (string): accept NIL.\n\n\t* lib/net/imap.rb (body_type_basic): allow body-fields omissions.\n\nThu May  6 01:59:04 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb (Generators::HtmlMethod::params):\n\t  Don't include the &block parameter if we have explicit\n\t  yield parameters.\n\nWed May  5 03:52:31 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/ring.rb: use recv instead of recvfrom.\n\nWed May  5 00:38:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/gserver.rb: documented\n\t* lib/xmlrpc/README.txt: introduced for documentation purposes\n\nMon May  3 09:47:24 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_method_or_yield_parameters):\n\t  Fix parsing bug if yield called within 1 line block\n\nSun May  2 21:56:48 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (rm_f, rm_r): test :force flag.\n\nSun May  2 01:04:38 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib, ext/tk: renewal Ruby/Tk\n\nFri Apr 30 20:08:41 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* time.c (SIZEOF_TIME_T): support SIZEOF_TIME_T == SIZEOF_INT.\n\nWed Apr 28 01:26:11 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* oniguruma.h, regparse.c: imported Oni Guruma 2.2.8.\n\nWed Apr 28 01:16:23 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* oniguruma.h, regparse.c: imported Oni Guruma 2.2.7.\n\nTue Apr 27 14:43:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk: LIBURUBY_A is needed for extconf.rb even when\n\t  cross-compiling.\n\nTue Apr 27 13:33:50 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (string_content): turn off NODE_NEWLINE flag to avoid\n\t  unnecessary line trace for inlined expression.\n\t  (ruby-bugs PR#1320)\n\nTue Apr 27 08:15:13 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: passing Range tests.\n\n\t* ext/syck/syck.h: version 0.44.\n\n\t* ext/syck/gram.c: transfers no longer open an indentation.\n\t  fixed transfers which precede blocks.\n\n\t* ext/syck/token.c: ditto.\n\n\t* ext/syck/syck.c: fixed segfault if an anchor has been released already.\n\n\t* ext/syck/node.c (syck_free_members): organized order of free'd nodes.\n\n\t* ext/syck/rubyext.c (syck_emitter_write_m): test for proper string with\n\t  StringValue.\n\nMon Apr 26 23:56:54 2004  Daniel Kelley  <news-1082945587@dkelley.gmp.san-jose.ca.us>\n\n\t* README.EXT, README.EXT.ja: fixed wrong function signature.\n\t  [ruby-talk:98349]\n\nMon Apr 26 21:40:09 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::add_alias): Only alias\n\t  to instance methods.\n\nSun Apr 25 18:26:23 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_fork): set to no on DJGPP.\n\nSat Apr 24 14:32:03 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* re.c: applied stack error handling patch. [ruby-dev:23431]\n\nSat Apr 24 10:38:31 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/markup/simple_markup.rb (SM::SimpleMarkup::group_lines):\n\t  Fix bug where consecutive headings are merged.\n\nFri Apr 23 23:24:47 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb: $hdrdir should not contain macros, for backward\n\t  compatibility.  [bruby-dev:28]\n\n\t* lib/mkmf.rb (create_makefile): in the case of extout, just copy\n\t  script files, without comparison.\n\nFri Apr 23 16:38:46 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: sync taint/freeze flag between\n\t  a pathname object and its internal string object.\n\nFri Apr 23 14:52:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt, arg, aref_args): should not make sole splat into\n\t  array, in aref_args other than aref with op_asgn.\n\nFri Apr 23 14:14:38 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/resolv.rb: don't use Regexp#source to embed regexps.\n\t  [ruby-dev:23432]\n\nThu Apr 22 18:25:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, ext/extmk.rb: make ext and .ext get removed by distclean.\n\nThu Apr 22 10:07:01 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* */Makefile.sub (distclean-local): should remove $(RBCONFIG).\n\nThu Apr 22 04:17:57 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_mod_define_method): allow binding methods to modules.\n\t  [ruby-dev:23410]\n\n\t* parse.y (aref_args): should pass expanded list.  [ruby-core:02793]\n\nThu Apr 22 01:12:57 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (flo_to_s): tweak output string based to preserve\n\t  decimal point and to remove trailing zeros.  [ruby-talk:97891]\n\n\t* string.c (rb_str_index_m): use unsigned comparison for T_FIXNUM\n\t  search.  [ruby-talk:97342]\n\nWed Apr 21 23:04:42 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb, test/rinda/test_rinda.rb: check Hash tuple size.\n\nWed Apr 21 20:05:00 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::HTTP#proxy_open): set Host: field explicitly.\n\t  [ruby-list:39542]\n\nWed Apr 21 18:39:46 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: merge SMTP-TLS patch.  This patch is\n\t  contributed by Daniel Hob. [ruby-core:02789]\n\nWed Apr 21 18:23:45 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb: change coding style: def m( a ) -> def m(a).\n\nWed Apr 21 18:01:47 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb: do not use class variables.\n\n\t* lib/net/pop.rb (do_start): ensure to clean up connection when\n\t  authentication failed.\n\nWed Apr 21 17:23:59 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTP#connect): CONNECT must precede SSL connect.\n\t  [ruby-dev:23379]\n\n\t* lib/net/http.rb (HTTP.new): class variables are not inherited\n\t  now.\n\nWed Apr 21 15:56:43 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/ui/console/testrunner.rb (test_started): restore $0\n\t  after changing process title.  [ruby-talk:97426]\n\nWed Apr 21 10:18:06 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* process.c(rb_spawn): fix SEGV at \"p system('command line here')\"\n\t (may happen only in bccwin32) [ruby-dev:23380]\n\nMon Apr 19 20:58:44 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c: Updated RDocs.\n\nMon Apr 19 18:11:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_equal): returns true if two hashes have same set\n\t  of key-value set.  [ruby-talk:97559]\n\n\t* hash.c (rb_hash_eql): returns true if two hashes are equal and\n\t  have same default values.\n\nMon Apr 19 08:19:11 2004  Doug Kearns  <djkea2@mugca.its.monash.edu.au>\n\n\t* dln.c, io.c, pack.c, lib/benchmark.rb, lib/cgi.rb, lib/csv.rb,\n\t  lib/date.rb, lib/ftools.rb, lib/getoptlong.rb, lib/logger.rb,\n\t  lib/matrix.rb, lib/monitor.rb, lib/set.rb, lib/thwait.rb,\n\t  lib/timeout.rb, lib/yaml.rb, lib/drb/drb.rb, lib/irb/workspace.rb,\n\t  lib/net/ftp.rb, lib/net/http.rb, lib/net/imap.rb, lib/net/pop.rb,\n\t  lib/net/telnet.rb, lib/racc/parser.rb, lib/rinda/rinda.rb,\n\t  lib/rinda/tuplespace.rb, lib/shell/command-processor.rb,\n\t  lib/soap/rpc/soaplet.rb, lib/test/unit/testcase.rb,\n\t  lib/test/unit/testsuite.rb: typo fix.\n\nMon Apr 19 08:14:18 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::find_body): Allow for\n\t  #ifdef HAVE_PROTOTYPES\n\nFri Apr 16 17:04:07 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_equal): always returns true or false, never\n\t  returns nil. [ruby-dev:23404]\n\nFri Apr 16 12:38:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/drb/drb.rb (DRb::DRbUnknown::initialize): Exception#to_str is\n\t  deprecated.\n\n\t* lib/drb/drb.rb (DRb::DRbServer::InvokeMethod::perform): multiple\n\t  value class changed.\n\n\t* lib/drb/invokemethod.rb (DRb::DRbServer::InvokeMethod18Mixin::block_yield):\n\t  ditto.\n\nFri Apr 16 08:27:08 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: skip linking when libraries to be preloaded not\n\t  compiled.  [ruby-list:39561]\n\nThu Apr 15 19:57:11 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (pst_success_p): new method Process::Status#success?.\n\t  [ruby-dev:23385]\n\n\t* rubytest.rb: do nothing while cross-compiling, return status in\n\t  system independent style.\n\nThu Apr 15 19:26:54 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (rb_push_glob): Dir.glob() should return nil if block is given.\n\t  (http://www.ruby-lang.org/ja/man/index.cgi?cmd=view;name=Dir)\n\n\t* dir.c (push_braces): Dir.glob() should handle '{ }' nested more than\n\t  3 times.\n\n\t* dir.c (push_braces, rb_push_glob): Dir.glob() should handle escaped\n\t  '{' and '}' and ','.\n\n\t  [ruby-dev:23376]\n\nThu Apr 15 17:12:13 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/gdbm/gdbm.c (Init_gdbm): define GDBM::READER, GDBM::WRITER,\n\t  GDBM::WRCREAT and GDBM::NEWDB.\n\t  (fgdbm_initialize): use specified read/write flag.\n\nWed Apr 14 13:06:09 2004  Doug Kearns  <djkea2@mugca.its.monash.edu.au>\n\n\t* array.c, enum.c, eval.c, file.c, io.c, numeric.c, object.c, prec.c,\n\t  process.c, re.c, string.c: typos in RDoc comments.  [ruby-core:02783]\n\nWed Apr 14 11:29:56 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* numeric.c (flo_eq): workaround for bcc32's bug.\n\t  (ruby-bugs-ja:PR#594)\n\nWed Apr 14 11:06:38 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::scan): Changed\n\t  behavior of :enddoc: -- it now unconditionally terminates\n\t  processing of the current file.\n\nWed Apr 14 10:57:40 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* defines.h: include <net/socket.h> to get fd_set definition in BeOS.\n\nTue Apr 13 23:00:55 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb: change pattern matching.\n\t  a === b -> a == b || a === b. [druby-ja:98]\n\n\t* test/rinda/test_rinda.rb: ditto.\n\nTue Apr 13 21:50:57 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/Makefile.sub (PHONY): Borland make disallows empty command\n\t  rules.\n\nTue Apr 13 17:55:16 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (begin_transport): should not overwrite HTTP\n\t  request header. [ruby-list:39543]\n\nTue Apr 13 16:48:00 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb: merge POP3S patch.  This patch is contributed by\n\t  Daniel Hobe.\n\nTue Apr 13 02:56:29 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* common.mk: changed the order of ascii.c alphabetically.\n\nMon Apr 12 19:11:21 2004  Eric Hodel  <drbrain@segment7.net>\n\n\t* gc.c (rb_gc_copy_finalizer): typo.  [ruby-core:02774]\n\nMon Apr 12 18:45:58 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_init_i): should return\n\t  a value.\n\nMon Apr 12 10:39:50 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (rb_glob2, rb_glob, push_globs, push_braces, rb_push_glob):\n\t  fix memory leak. (leaked when block was interrupted)\n\nSun Apr 11 19:10:13 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ruby.c (require_libraries): restore source file/line after\n\t  statically linked extensions initialized.  [ruby-dev:23357]\n\nSun Apr 11 10:47:04 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::TopLevel::add_class_or_module): Toplevel\n\t  classes and modules are a special case too... (handle extending existing\n\t  classes with or without :enddoc:)\n\nSat Apr 10 23:51:13 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::add_to): Implementation of :enddoc:\n\t  made one too many assumptions...\n\nSat Apr 10 00:00:19 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/markup/simple_markup/inline.rb: Fix problem\n\t  with \\_cat_<b>dog</b>\n\nFri Apr  9 17:05:21 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (has_magic, find_dirsep): incomplete '[' matches no character\n\t  in Dir.glob. (follows File.fnmatch's behavior)\n\n\t* dir.c (fnmatch_helper): incomplete escape is ignored in File.fnmatch.\n\t  (follows Dir.glob's behavior)\n\n\t* dir.c (find_dirsep): '/' between '[' and ']' is ignored in Dir.glob.\n\t  (follows File.fnmatch with File::FNM_PATHNAME 's behavior)\n\n\t* dir.c (find_dirsep): escaped slash '\\/' loses its meaning as\n\t  directory separator in Dir.glob.\n\n\t  [ruby-dev:23291]\n\nThu Apr  8 20:25:19 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): skip uncompiled extensions.\n\n\t* lib/mkmf.rb (create_makefile): emit no rules for static library if\n\t  $static is nil, e.g., outside of ext/.\n\n\t* lib/test/unit/ui/console/testrunner.rb (test_started): show test\n\t  name via $0.\n\n\t* runruby.rb: set environments to use the compiled binary.\n\n\t* test/runner.rb: do nothing while cross-compiling.\n\n\t* test/drb/drbtest.rb, test/soap/calc/test_calc_cgi.rb: use envutil to\n\t  know ruby binary, and restore $: after require.\n\n\t* test/ruby/envutil.rb: give priority to RUBY environment variable to\n\t  use just compiled binary and libraries.\n\nThu Apr  8 19:03:33 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_binmode): inverted condition.  [ruby-dev:23349]\n\nThu Apr  8 18:22:00 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_s_list): return encoding list if no block\n\t  is given.  [ruby-dev:23063]\n\nWed Apr  7 15:29:24 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): use NUM2INT() instead of num2i32().\n\nWed Apr  7 12:32:02 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb, lib/rss/1.0.rb: accepted rdf:resource or\n\t  resource attribute in rdf:li.\n\t* test/rss/test_parser.rb: added test for above change.\n\n\t* lib/rss/dublincore.rb: reverted style.\n\n\t* lib/rss/xmlparser.rb: normalized XMLParser class hierarchy.\n\nWed Apr  7 10:43:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, common.mk, */Makefile.sub (ext/extinit.o): OUTFLAG\n\t  doesn't work for object files on VC.\n\n\t* */Makefile.sub (config.h): need SIZEOF_TIME_T now.\n\nWed Apr  7 00:24:34 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb: fix hash tuple bug.\n\n\t* lib/rinda/tuplespace.rb: ditto.\n\n\t* test/rinda/test_rinda.rb\n\nTue Apr  6 18:24:18 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_get_path): get path string via \"to_path\" method if\n\t  path object is not a string. [Ruby2]\n\n\t* gc.c (rb_gc_call_finalizer_at_exit): do not free threads in the\n\t  exit finalizers.\n\n\t* io.c (rb_io_reopen): should use rb_io_check_io().\n\nTue Apr  6 16:46:09 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* configure.in: check the size of time_t.\n\n\t* time.c (time_add): new function.\n\t  (time_plus): use time_add.\n\t  (time_minus): use time_add.\n\nTue Apr  6 13:11:48 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (raise_socket_error): never return.\n\n\t* ext/socket/socket.c (make_hostent): must return value.\n\nTue Apr  6 00:14:43 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (Init_Exception): remove Exception#to_str. [Ruby2]\n\n\t* eval.c (error_print): should no call \"to_str\" anymore use\n\t  \"message\" method instead.\n\n\t* io.c (rb_f_open): Kernel#open() calls \"to_open\" if the first\n\t  argument responds to it. [Ruby2]\n\nTue Apr  6 00:13:43 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb: add require 'drb/drb'\n\nMon Apr  5 22:25:32 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* test/zlib/test_zlib.rb: new file.\n\t  (TestZlibGzipWriter#test_new_nil): test for [ruby-dev:23228].\n\nMon Apr  5 22:16:23 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* parse.y (assoc_list): {a: 1, b: 2} should be allowed.\n\t  [ruby-dev:23328]\n\nMon Apr  5 19:43:40 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regexec.c: imported Oni Guruma 2.2.6.\n\nMon Apr  5 19:39:10 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* regparse.c, oniguruma.h: imported Oni Guruma 2.2.6.\n\nMon Apr  5 12:12:09 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (raise_socket_error): some platforms don't have\n\t  EAI_SYSTEM.\n\nMon Apr  5 08:18:23 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb: Remove leading ./ from file names so that cross\n\t  references work properly.\n\nSun Apr  4 14:01:20 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/options.rb (Options::parse): Allow multiple -x options to\n\t  RDoc. Fix bug where files weren't being excluded properly\n\nSat Apr  3 09:36:38 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/syck.h: version 0.43.\n\nSat Apr  3 08:28:47 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/lib/gram.c: allow root-level inline collections.\n\t  [ruby-talk:94922]\n\n\t* lib/yaml/rubytypes.rb (Symbol#to_yaml): emit symbols as implicits.\n\t  [ruby-talk:94930]\n\nFri Apr  2 19:28:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/Makefile.sub (OUTFLAG): needed for static-linked-ext.\n\nFri Apr  2 18:00:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): extract necessary variables for static link\n\t  from Makefile.\n\n\t* lib/mkmf.rb (create_makefile): save preload and libpath for next\n\t  compile.\n\nFri Apr  2 17:27:17 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (top_include): include in the wrapped load is done for\n\t  the wrapper, not for a singleton class for wrapped main.\n\t  [ruby-dev:23305]\n\nFri Apr  2 15:13:44 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_eq): use temporary double variable to save the\n\t  result (internal float register may be bigger than 64 bits, for\n\t  example, 80 bits on x86).  [ruby-dev:23311]\n\nFri Apr  2 14:35:26 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (block_pass): should generate unique identifier of the\n\t  pushing block.  [ruby-talk:96363]\n\nFri Apr  2 11:36:20 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* eval.c (Init_load): make $LOADED_FEATURES built-in.\n\t  [ruby-dev:23299]\n\n\t* ruby.c (ruby_prog_init): make $PROGRAM_NAME built-in.\n\n\t* lib/English.rb: remove $LOADED_FEATURES and $PROGRAM_NAME.\n\nFri Apr  2 07:31:38 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c: mistakingly removed do_not_reverse_lookup.\n\t  [ruby-list:39475]\n\n\t* ext/socket/socket.c (make_hostent): fix memory leak, based on\n\t  the patch from HORIKAWA Hisashi <vzw00011@nifty.ne.jp>.\n\nThu Apr  1 22:55:33 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb: Allow rdoc comments in\n\t  =begin rdoc/=end\n\n\t* lib/rdoc/parsers/parse_rb.rb: Fix problem with comment in\n\t  top-level method being taken as file comment.\n\nThu Apr  1 22:55:04 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_options.rb: Fix undefined variable warning.\n\nThu Apr  1 19:58:37 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/mapping/{factory.rb,registry.rb}: fixed illegal mapped URI\n\t  object with soap/marshal.\n\t  added URIFactory class for URI mapping.  BasetypeFactory checks\n\t  instance_variables when original mapping is not allowed (ivar must\n\t  be empty).  Instance of URI have instance_variables but it must be\n\t  llowed whenever original mapping is allowed or not.\n\nWed Mar 31 19:06:23 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* time.c (year_leap_p): new function.\n\t  (timegm_noleapsecond): ditto.\n\t  (search_time_t): use timegm_noleapsecond instead of\n\t  mktime for first guess.\n\nWed Mar 31 12:05:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/delegate.rb (DelegateClass): define internal methods of the\n\t  result class, but not metaclass of the caller.  [ruby-talk:96156]\n\n\t* intern.h: provide proper prototypes.  [ruby-core:02724]\n\n\t* ruby.h: missing.h is now prerequisite to intern.h.\n\nWed Mar 31 11:17:16 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): raises RangeError if uv is out of UTF8 value\n\t  range.  [ruby-dev:23281]\n\n\t* io.c (rb_io_binmode): stdio buffer should be empty when calling\n\t  IO#binmode.  [ruby-talk:96155]\n\nTue Mar 30 20:25:34 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* time.c (search_time_t): limit guess range by mktime if it is\n\t  available.  [ruby-dev:23274]\n\nTue Mar 30 18:19:00 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): fix SEGV at retry in iterator's receiver.\n\t  [ruby-dev:23227]\n\nMon Mar 29 20:17:16 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_exec): follow older behavior if close-on-exec is not\n\t  available.\n\n\t* process.c (rb_fork): protect from exceptions while waiting failed\n\t  process, if status is given.\n\nSun Mar 28 16:25:37 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* cygwin/GNUmakefile.in (clean-local, distclean-local): remove\n\t  work files.\n\n\t* win32/Makefile.sub (clean-local): ditto.\n\nSun Mar 28 14:23:02 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb: def m( arg ) -> def m(arg).\n\nSun Mar 28 14:09:13 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/pop.rb (auth): failed when account/password include \"%\".\n\t  [ruby-talk:95933]\n\nSat Mar 27 21:40:41 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: permit extra semicolon in content-type field.\n\nSat Mar 27 10:40:48 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* (lib/pp.rb, lib/prettyprint.rb): define seplist in PP::PPMethods\n\t  instead of PrettyPrint.\n\nSat Mar 27 01:47:09 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: trim tail space of each line.  no user visible change.\n\n\t* lib/rss/dublincore.rb: fixed class definition mismatch.\n\n\t* sample/openssl/gen_csr.rb: fixed wrong usage text.\n\nThu Mar 25 23:15:24 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_options.rb (RI::Options::show_version):\n\t  Add --version option\n\nThu Mar 25 21:45:00 2004  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c: Bug in + and - reported by Bret Jolly\n\t  fixed.\n\nThu Mar 25 21:01:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* version.c (ruby_show_copyright): obtain copyright year from\n\t  RUBY_RELEASE_YEAR.\n\n\t* win32/resource.rb: ditto.\n\nThu Mar 25 19:37:35 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/resource.rb: default rubyw icon to ruby.ico, and let DLL also\n\t  include them.\n\n\t* win32/resource.rb: include winver.h for older WindowsCE.\n\nThu Mar 25 14:01:03 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* common.mk, */Makefile.sub (lib, dll): phony targets.\n\n\t* configure.in (ruby, miniruby): ditto.\n\n\t* cygwin/GNUmakefile.in (rubyw): ditto.\n\nThu Mar 25 04:16:18 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_options.rb (RI::Options): Add the --list-names option,\n\t  which dumps our all known names\n\nThu Mar 25 03:57:47 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_util.rb (NameDescriptor::initialize): No longer\n\t  allow nested classes to be designated using \".\"--you must\n\t  now use \"::\"\n\nThu Mar 25 02:00:18 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/html/one_page_html.rb (Page):\n\t  Fix to work with C modules.\n\nWed Mar 24 20:49:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/uri.rb: Documented (thanks Dmitry V. Sabanin).\n\t* lib/uri/common.rb: Ditto.\n\t* lib/uri/ftp.rb: Ditto.\n\t* lib/uri/generic.rb: Ditto.\n\t* lib/uri/http.rb: Ditto.\n\t* lib/uri/https.rb: Ditto.\n\t* lib/uri/ldap.rb: Ditto.\n\t* lib/uri/mailto.rb: Ditto.\n\nWed Mar 24 18:48:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb ($ruby, $topdir, $hdrdir): should not be affected by\n\t  DESTDIR after installed.\n\n\t* lib/mkmf.rb (dummy_makefile): default file lists to be cleaned.\n\nWed Mar 24 12:32:56 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::handle_class_module):\n\t  Don't document methods if we don't know for sure the\n\t  class or module.\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_class):\n\t  Don't store documentation for singleton classes if we\n\t  don't know the real class.\n\nWed Mar 24 11:11:26 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb (Generators::HTMLGenerator::load_html_template):\n\t  Allow non-RDoc templates by putting a slash in the template name\n\nWed Mar 24 10:05:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/tempfile.rb (Tempfile::_close): should not clear @tmpname\n\t  until the file is really removed. [ruby-core:02684]\n\nWed Mar 24 04:12:44 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* object.c (rb_mod_cvar_get): new method Module#class_variable_get.\n\n\t* object.c (rb_mod_cvar_set): ditto (Module#class_variable_set).\n\nTue Mar 23 17:45:22 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_atfork): 1.9 warns no more for thread\n\t  termination.  [ruby-dev:23212]\n\nTue Mar 23 14:46:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, */Makefile.sub, common.mk (clean-local, distclean-local):\n\t  separate files under directories due to directory separator.\n\n\t* */Makefile.sub (MKFILES): common.mk and */Makefile.sub should not be\n\t  removed.\n\n\t* win32/Makefile.sub, wince/Makefile.sub: $* cannot appear in explicit\n\t  rules.\n\n\t* cygwin/GNUmakefile.in: some mingw stuffs were missed.\n\n\t* lib/mkmf.rb (create_makefile): Borland make wrongly removes braces\n\t  from command lines.\n\n\t* bcc32/Makefile.sub: needs bcc32/mkexports.rb.\n\nMon Mar 22 08:21:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, */Makefile.sub, common.mk: extract common portions.\n\n\t* Makefile.in, cygwin/GNUmakefile.in, */Makefile.sub (RBCONFIG):\n\t  separated time stamp file for rbconfig.rb.\n\n\t* configure.in: append common.mk to Makefile.\n\n\t* mkconfig.rb: keep mtime of rbconfig.rb if unchanged.\n\n\t* win32/rm.bat: remove multiple files.\n\n\t* wince/mkconfig_wce.rb: use fake.rb instead.\n\nSun Mar 21 22:17:35 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#virtual_host):\n\t  sort @virtual_hosts in address, port, host order.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#lookup_server):\n\t  hostname should not be match if :ServerAlias is not given.\n\nSun Mar 21 21:11:16 2004  Keiju Ishitsuka  <keiju@ishitsuka.com>\n\n\t* lib/shell/*: bug fix for Shell#system(command_line_string).\n\nSun Mar 21 21:04:42 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ruby.1: add -width option to .Bl for old groff.\n\nSun Mar 21 18:57:37 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/*: Test::Unit::TestCase -> RSS::TestCase and\n\t  Test::Unit::Assertions -> RSS::Assertions.\n\nSun Mar 21 18:48:20 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/{rss,dublincore,syndication}.rb: handled W3CDTF correctly.\n\nSun Mar 21 18:15:29 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_xml-stylesheet.rb: added tests for xml-stylesheet.\n\n\t* lib/rss/xml-stylesheet.rb: added xml-stylesheet parsing\n\t  function.\n\nSat Mar 20 23:51:03 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* eval.c (rb_require_safe): preserve old ruby_errinfo.\n\t  [ruby-talk:95409]\n\n\t* eval.c (rb_f_raise): should not clear backtrace information if\n\t  exception object already have one.\n\nSat Mar 20 21:21:03 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/extmk.rb: rm -rf $extout, not extout.\n\nSat Mar 20 15:25:36 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/template/html/html.rb (RDoc::Page): Force\n\t  page background to white.\n\nSat Mar 20 09:33:36 2004  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb, lib/date/format.rb: _parse() now accepts fractional\n\t  part of second minute that follows a comma or a full stop.\n\nFri Mar 19 21:06:21 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (assoc_list): allow {sym: val} style Hash. [Ruby2]\n\t  this change is done by Nobuyoshi Nakada <nobu@ruby-lang.org>.\n\nFri Mar 19 15:15:15 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_cvar_set): class variables become private to the\n\t  particular class/module. [Ruby2]\n\n\t* variable.c (rb_cvar_get): ditto.\n\n\t* variable.c (rb_cvar_defined): ditto.\n\nFri Mar 19 11:31:32 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb ($beos, $solaris): add OS flags.\n\n\t* lib/mkmf.rb (RUBY): / is not recognized as path separator on\n\t   nmake/bmake. [ruby-list:39388]\n\n\t* lib/mkmf.rb (CLEANLIBS, CLEANOBJS): should remove *.exp with *.so.\n\nFri Mar 19 01:55:57 2004  Mauricio Fernandez  <batsman.geo@yahoo.com>\n\n\t* io.c (rb_io_sync): need not to check writable. [ruby-core:02674]\n\nThu Mar 18 19:47:44 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* instruby.rb, rubytest.rb: do not depend on srcdir.\n\nThu Mar 18 18:50:06 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: no longer embed srcdir and compile_dir into\n\t  rbconfig.rb.\n\n\t* ext/extmk.rb, lib/mkmf.rb: obtain top_srcdir and topdir from library\n\t  paths.\n\nThu Mar 18 17:46:35 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: do not undef :to_a.\n\nThu Mar 18 16:22:38 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_eq): avoid false positive by using scope and\n\t  dyna_vars.  no longer use frame.uniq.\n\n\t* eval.c (proc_arity): arity is now defined as number of\n\t  parameters that would not be ignored. i.e. Proc.new{}.arity\n\t  returns zero.  update test suites too.\n\nThu Mar 18 15:27:25 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c: remove specialized version of rb_Array().  use simple\n\t  one defined in object.c.\n\n\t* object.c (Init_Object): remove Kernel#to_a.\n\n\t* enum.c (enum_zip): use \"to_a\" instead of \"to_ary\".\n\nWed Mar 17 00:22:03 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* oniguruma.h: imported Oniguruma 2.2.5.\n\t* regparse.c: ditto.\n\nTue Mar 16 11:14:17 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (fnmatch_helper): File.fnmatch('\\.', '.') should return true.\n\t  (Rev1.112 lost compatiblity)\n\n\t* dir.c (fnmatch_helper): File.fnmatch('\\/', '/', File::FNM_PATHNAME)\n\t  should return true. (Rev1.112 lost compatiblity)\n\n\t* dir.c (fnmatch): File.fnmatch('**/.boo', '.foo/.boo',\n\t  File::FNM_PATHNAME) should return false because of leading period.\n\nMon Mar 15 17:01:07 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (exc_initialize): calling 'to_str' each time just for\n\t  type checking is too heavy.  [ruby-core:02661]\n\nMon Mar 15 10:14:51 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (OpenSSL::SSL::SocketForwarder):\n\t  add do_not_reverse_lookup.\n\nMon Mar 15 07:39:13 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): should not re-submit TAG_BREAK if this\n\t  yield is not break destination. [ruby-dev:23197]\n\nSun Mar 14 22:07:38 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_raise): err at unstarted thread.  (PR#1302)\n\nSat Mar 13 14:56:32 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/ut_drb.rb: use 'druby://localhost:0'. [ruby-dev:23078]\n\n\t* test/drb/ut_eval.rb: ditto.\n\n\t* test/drb/ut_large.rb: ditto.\n\n\t* test/drb/ut_safe1.rb: ditto.\n\n\t* test/drb/ut_drb_drbssl.rb: use 'drbssl://localhost:0'.\n\nFri Mar 12 23:52:56 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (fnmatch): directory recursion '**/' can be used with\n\t  File::FNM_PATHNAME. [ruby-dev:22901]\n\n\t* dir.c (fnmatch, fnmatch_helper): only '/' is accepted as path\n\t  separator even in DOSISH environment. [ruby-dev:22974]\n\t  [ruby-list:39337]\n\n\t* dir.c (fnmatch_helper): faster '*' matching.\n\nFri Mar 12 20:19:16 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (rb_cv_noreturn): default for platforms not support\n\t  prototypes.\n\n\t* ruby.c (ruby_init_loadpath): buffer for path name should have\n\t  MAXPATHLEN.\n\n\t* lib/mkmf.rb (configuration): include topdir and hdrdir in VPATH.\n\n\t* lib/mkmf.rb (create_makefile): default dependency rule.\n\nFri Mar 12 07:35:36 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/config.rb (WEBrick::Config::General): add\n\t  :DoNotReverseLookup.\n\n\t* lib/webrick/server.rb (WEBrick::GenericServer#accept): call\n\t  do_not_reverse_lookup for each socket if :DoNotReverseLookup\n\t  is set.  [ruby-code:02357]\n\nWed Mar 10 22:26:25 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (remove_dir): should handle symlink correctly.\n\t  This patch is contributed by Christian Loew.  [ruby-talk:94635]\n\nWed Mar 10 16:28:42 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (return_jump): set return value to the return\n\t  destination.  separated from localjump_destination().\n\n\t* eval.c (break_jump): break innermost loop (or thread or proc).\n\n\t* eval.c (rb_yield_0): set exit_value for block break.\n\nWed Mar 10 16:00:14 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* struct.c (rb_struct_s_def): Struct::new executes block with\n\t  generated struct class. [ruby-talk:02606]\n\nWed Mar 10 15:58:43 2004  Ryan Davis  <ryand@zenspider.com>\n\n\t* eval.c (eval): Only print backtrace if generating the backtrace\n\t  doesn't generate an exception.  [ruby-core:02621]\n\nWed Mar 10 10:15:16 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ruby.c (opt_W_getter): get rid of warning.\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub:\n\t  fixed dependency.\n\nTue Mar  9 13:04:26 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_ungetc): raise IOError instead of calling\n\t  rb_sys_fail().  [ruby-talk:23181]\n\nTue Mar  9 10:03:40 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub:\n\t  replaced regex.c entry with Oniguruma files.\n\nTue Mar  9 01:09:46 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* Makefile.in: replaced regex.c entry with Oniguruma files.\n\nMon Mar  8 23:16:07 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: HTTPHeader did not initialized correctly.\n\n\t* lib/net/http.rb (connect): does same debug output.\n\nMon Mar  8 21:38:18 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (add_header): remove warning. [ruby-dev:23170]\n\nMon Mar  8 21:09:39 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (range): Cancel change for incomplete '['. More discussion\n\t  is needed.\n\nMon Mar  8 19:35:13 2004  akira yamada  <akira@arika.org>\n\n\t* lib/uri/common.rb (URI::REGEXP::PATTERN::HOSTPORT): (?:#{PORT})\n\t  -> (?::#{PORT}).  [ruby-dev:23170]\n\nMon Mar  8 15:03:24 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (range): treat incomplete '[' as ordinary character (like\n\t  has_magic does). fix buffer overrun at incomplete escape like '[\\'.\n\nMon Mar  8 13:35:32 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* regparse.c (parse_exp): need to separate initialization for bcc32.\n\t  [ruby-dev:23169]\n\n\t* oniguruma.h (ONIG_EXTERN): check __GNUC__ instead of __CYGWIN__.\n\nMon Mar  8 01:05:55 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/config.rb (WEBrick::Config::HTTP): rename :RequestHander\n\t  to :RequestCallback and add new option :ServerAlias.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): use\n\t  :RequestCallback and warn if :RequestHandler is in server's option.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): should print\n\t  error message for WEBrick::HTTPSataus::Error.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#lookup_server):\n\t  lookup for hostname from :ServerAlias if the req.host is not match\n\t  to :ServerName.\n\n\t* lib/webrick/httpservlet.rb (WEBrick::HTTPServlet::CGIHandler#do_GET):\n\t  use $?.exitstatus and refine log message.\n\nSun Mar  7 16:22:26 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* Makefile.in (lex.c): use $? instead of $<.\n\n\t* lib/pstore.rb (commit_new): use FileUtils.copy_stream for Cygwin.\n\t  [ruby-dev:23157]\n\nSun Mar  7 05:34:42 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: HTTPHeader keeps its header fields as an array.\n\n\t* lib/net/http.rb: new method HTTPHeader#add_header, get_fields.\n\n\t* lib/net/http.rb: new method HTTPHeader#content_length=.\n\n\t* lib/net/http.rb: new method HTTPHeader#content_type, main_type,\n\t  sub_type, type_params, content_type=, set_content_type.\n\n\t* lib/net/http.rb (HTTPHeader#basic_encode): result of pack(m) may\n\t  contain multiple LFs.\n\nSun Mar  7 03:11:00 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: new method Net::HTTPRequest#body(=).\n\n\t* lib/net/http.rb: new method Net::HTTPRequest#body_stream(=).\n\nSun Mar  7 02:06:07 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: spin off https code again.\n\n\t* lib/net/https.rb: new file.\n\n\t* ext/openssl/lib/net/https.rb: removed.  moved to net/https with\n\t  slight modifications.\n\n\t* ext/openssl/lib/net/protocols.rb: removed.  merged with net/http.\n\n\t* lib/net/protocol.rb: new class BufferedIO.\n\n\t* lib/net/protocol.rb: InternetMessageIO < BufferedIO.\n\n\t* lib/net/protocol.rb: BufferedIO.new takes an IO.\n\n\t* lib/net/smtp.rb: follow InternetMessageIO's change.\n\n\t* lib/net/pop.rb: ditto.\n\nSun Mar  7 00:55:03 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb: remove method: InternetMessageIO#address,\n\t  port, ip_address, read_timeout(=), socket.\n\n\t* lib/net/protocol.rb: simplify code.\n\n\t* lib/net/protocol.rb: apply latest coding style.\n\nSat Mar  6 15:15:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/strscan/depend: depends on re.h and regex.h.\n\n\t* ext/strscan/strscan.c: no version check needed.\n\n\t* ext/strscan/strscan.c (strscan_init_copy): struct re_registers must\n\t  not be bitwise copied.\n\nSat Mar  6 11:14:33 2004  David Black  <dblack@wobblini.net>\n\n\t* lib/scanf.rb: refixed the previous fix in IO#block_scanf\n\nSat Mar  6 10:49:40 2004  David Black  <dblack@wobblini.net>\n\n\t* lib/scanf.rb: fixed a logic glitch in IO#block_scanf\n\nSat Mar  6 02:00:19 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: net/https is merged.\n\n\t* ext/openssl/lib/net/https.rb: ditto.\n\nSat Mar  6 00:39:21 2004  Kazuo Saito  <ksaito@uranus.dti.ne.jp>\n\n\t* oniggnu.h: imported from Oniguruma library.\n\t* oniguruma.h: ditto.\n\t* regcomp.c: ditto.\n\t* regenc.c: ditto.\n\t* regenc.h: ditto.\n\t* regerror.c: ditto.\n\t* regex.c: ditto.\n\t* regexec.c: ditto.\n\t* reggnu.c: ditto.\n\t* regint.h: ditto.\n\t* regparse.c: ditto.\n\t* regparse.h: ditto.\n\t* ascii.c: ditto.\n\t* euc_jp.c: ditto.\n\t* sjis.c: ditto.\n\t* utf8.c: ditto.\n\n\t* MANIFEST: added Oniguruma files listed above.\n\n\t* LEGAL: added Oniguruma license.\n\n\t* regex.h: now includes oniggnu.h.\n\n\t* re.c: applied Oniguruma patch.\n\nFri Mar  5 23:13:08 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: support WebDAV methods, PROPPATCH, LOCK,\n\t  UNLOCK, OPTIONS, PROPFIND, DELETE, MOVE, COPY, MKCOL.\n\t  This patch is contributed by Tatsuki Sugiura.\n\nFri Mar  5 20:58:37 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: Net::HTTPResponse#response is obsolete.\n\t  [ruby-core:02592]\n\n\t* lib/net/http.rb: Net::HTTPResponse#header is obsolete.\n\n\t* lib/net/http.rb: Net::HTTPResponse#read_header is obsolete.\n\nFri Mar  5 20:10:57 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: new method StringScanner#initialize_copy\n\t  to allow #dup and #clone.\n\n\t* test/strscan/test_strscan.rb: test StringScanner#dup.\n\nFri Mar  5 19:42:09 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTPResponse#to_ary): should return an object\n\t  which does not respond to #to_ary.  It causes infinite loop in\n\t  puts. [ruby-core:02578]\n\nFri Mar  5 00:51:35 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/test/unit.rb: Move RDoc documentation so that you can\n\t  now say 'ri Test::Unit'\n\nThu Mar  4 22:31:40 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in: miniruby is not needed for cross compile.\n\n\t* configure.in (PREP): miniruby for native compile.\n\nThu Mar  4 11:46:32 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/drb/extservm.rb (DRb::ExtServManager#invoke_service_command):\n\t  detach server processes to get rid of zombies.\n\nThu Mar  4 10:41:25 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ruby.h (T_MASK): save 1 bit in flags bits by shifting T_xxx\n\t  values.\n\nThu Mar  4 08:08:36 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: get rid of warnings.\n\n\t* lib/rss/taxonomy.rb: ditto.\n\n\t* lib/rdoc/ri/ri_formatter.rb: ditto.\n\n\t* test/ruby/test_assignment.rb: ditto.\n\nThu Mar  4 01:17:28 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rdoc/ri/ri_display.rb (DefaultDisplay::page): wait until the\n\t  pager terminates.\n\nWed Mar  3 13:10:56 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (method_hash): new method. [ruby-talk:93968]\n\n\t* eval.c (proc_eq): do not compare dyna_vars.\n\n\t* eval.c (proc_hash): new method.\n\n\t* eval.c (rb_yield_0): protect break/return from within orphan (or\n\t  lambda) Proc object.\n\nWed Mar  3 09:52:05 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb ($topdir): use compile_dir only when not installed yet.\n\t  [ruby-talk:94098]\n\nWed Mar  3 01:18:52 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/converter.rb: handled Uconv::Error.\n\n\t* lib/rss/dublincore.rb: DublincoreModel -> DublinCoreModel\n\nWed Mar  3 00:59:30 2004  David Black  <dblack@wobblini.net>\n\n\t* lib/scanf.rb: soak_up_spaces only ungetc's non-space last\n\t  character\n\n\t* lib/scanf.rb: IO#block_scanf now returns partial last iteration\n\t  array if format string matches partly\n\nTue Mar  2 16:30:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open): erred program name should be reported by\n\t  exceptions, instead of the first argument.\n\n\t* process.c (rb_spawn): ditto.\n\n\t* process.c (proc_spawn_v): use first argument as program name.\n\n\t* win32/win32.c (rb_w32_aspawn): ditto.\n\n\t* win32/win32.c (CreateChild): search executable file if no program\n\t  name given.\n\n\t* lib/drb/extservm.rb (invoke_service_command): use Process.spawn.\n\t  [ruby-dev:23103]\n\n\t* lib/rdoc/ri/ri_display.rb (setup_pager): use IO.popen.\n\t  [ruby-dev:23086], [ruby-dev:23103]\n\n\t* lib/rdoc/diagram.rb (convert_to_png): ditto.\n\n\t* lib/rdoc/generators/chm_generator.rb (compile_project): ditto.\n\nTue Mar  2 12:24:03 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub, wince/Makefile.sub (config.h): shouldn't check\n\t  defined? NORETURN. [ruby-dev:23100]\n\nTue Mar  2 11:28:40 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (test_ljump): cannot use\n\t  assert_nothing_raised due to passing block.\n\nTue Mar  2 06:23:14 2004  David Black  <dblack@wobblini.net>\n\n\t* lib/scanf.rb: fixed Kernel#scanf to propagate code block\n\nMon Mar  1 23:25:40 2004  David Black  <dblack@wobblini.net>\n\n\t* lib/scanf.rb: Partial fix so STDIN#scanf works with new\n\t STDIN#pos behavior\n\nMon Mar  1 19:42:05 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/setup.mak: configure's default is \"--enable-install-doc\"\n\n\t* win32/setup.mak: ditto.\n\nMon Mar  1 12:24:10 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_alias):\n\t  Allow aliases to have parentheses\n\nSun Feb 29 23:14:53 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_class):\n\t  Handle :nodoc: on singleton classes.\n\nSat Feb 28 21:50:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, bcc32/README.bcc32, bcc32/configure.bat,\n\t  bcc32/setup.mak: new configure scheme. use ``configure --prefix=dir''\n\t  instead of ``make DESTDIR=dir install''.\n\t  --with-static-linked-ext support on bccwin32. [ruby-dev:23034]\n\nSat Feb 28 21:50:20 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/setup.mak: \"configure --disable-install-doc\" is now working.\n\n\t* win32/setup.mak: ditto.\n\nSat Feb 28 15:09:49 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/configure.bat: append missing label \":exit\".\n\n\t* bcc32/configure.bat: fix typo.\n\nSat Feb 28 10:31:03 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* MANIFEST: add test_erb.rb\n\n\t* lib/erb.rb, test/erb/test_erb.rb: don't forget filename,\n\t  if both filename and safe_level given. [ruby-dev:23050]\n\nSat Feb 28 01:08:40 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (yylex): should not allow symbol for invalid global\n\t  variable (e.g. `:$-)`). [ruby-core:02518]\n\nFri Feb 27 20:37:09 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): no orphan block check is needed when pcall\n\t  is true.\n\n\t* eval.c (localjump_destination): update localjump condition.\n\nFri Feb 27 02:10:49 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (localjump_destination): lambda should not interfere\n\t  return from the yielded block.\n\nFri Feb 27 00:53:49 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb, test/drb/drbtest.rb: require drb/eq.rb by default\n\nThu Feb 26 12:15:02 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c (make_cmdvector): adjust successive double-quote\n\t  handling.\n\nThu Feb 26 09:42:56 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (delete_if_i): use st_delete_safe() (via\n\t  rb_hash_delete()) instead of returning ST_DELETE.\n\nThu Feb 26 02:35:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (rb_f_exec): get rid of SEGV when exec failed for command\n\t  in single string.\n\nWed Feb 25 21:17:33 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (obj_free), io.c (rb_io_fptr_finalize), rubyio.h (OpenFile):\n\t  sharing OpenFile.\n\n\t* io.c (rb_io_initialize): accept IO instance.  [ruby-dev:22195]\n\nWed Feb 25 21:16:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (with_destdir): should return the given argument if no\n\t  DESTDIR is given.\n\n\t* instruby.rb: use path name expansion of cmd.exe.\n\nWed Feb 25 20:44:45 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi-lib.rb, lib/getopts.rb, lib/importenv.rb, lib/parsearg.rb:\n\t  warn with caller position.\n\n\t* test/rss/test_content.rb, test/rss/test_dublincore.rb,\n\t  test/rss/test_syndication.rb, test/rss/test_trackback.rb: use cgi\n\t  instead of cgi-lib.\n\nTue Feb 24 18:42:03 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (glob_helper): '**/' should not match leading period\n\t  unless File::FNM_DOTMATCH is set. (like '*/') [ruby-dev:23014]\n\nTue Feb 24 18:03:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_file.rb (test_fnmatch): test for dir.c:1.108.\n\nTue Feb 24 17:07:17 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (fnmatch): File.fnmatch with File::FNM_PATHNAME was broken\n\t  for the pattern including '*' followed by '/'.\n\nTue Feb 24 13:22:21 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb (RDoc::RDoc::normalized_file_list): Attempt to get better\n\t  heuristics on which files to include and exclude. Now only include\n\t  non-standard files if they are explicitly named in ARGV.\n\nTue Feb 24 07:23:30 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Deal with :stopdoc: when\n\t  choosing a default main page to display (ie. don't select a page\n\t  if we don't have documentation for it).\n\nTue Feb 24 06:40:14 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RubyLex::identify_identifier): Handle\n\t  class variables in code listings\n\nTue Feb 24 06:32:27 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::do_aliases): Handle\n\t  aliases in C files.\n\nTue Feb 24 06:16:22 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb (RDoc::RDoc::document): Now create op dir _before_\n\t  parsing files.\n\nTue Feb 24 06:08:47 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_constant):\n\t  Start collecting text of constant values earlier: was missing\n\t  values in output if there was no space after '='\n\nTue Feb 24 06:08:25 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Escape contant values.\n\nTue Feb 24 03:45:06 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_config.c (ossl_config_each): add new method\n\t  OpenSSL::Config#each. it iterates with section name, field name\n\t  and value.\n\n\t* ext/openssl/ossl_config.c (Init_ossl_config): include Enumerable.\n\nMon Feb 23 09:09:44 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* instruby.rb (parse_args): use optparse instead of getopts.\n\n\t* instruby.rb (DOSISH): embedded path in batch files should not be\n\t  prefixed by DESTDIR.  [ruby-core:02186]\n\nSun Feb 22 14:58:04 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: $extstatic is Array or nil now.  [ruby-talk:93383]\n\n\t* Makefile.in, bcc32/Makefile.sub, win32/Makefile.sub: terminate options.\n\n\t* lib/mkmf.rb (init_mkmf): $INCFLAGS also should be lazy-evaluated.\n\nSun Feb 22 13:05:37 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/mailto.rb (URI::MailTo::to_s): should include fragment.\n\nSun Feb 22 12:58:35 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: use optparse instead of getopts.\n\n\t* Makefile.in, bcc32/Makefile.sub, win32/Makefile.sub: ditto.\n\nSun Feb 22 09:51:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* re.c: corrected documentation format (rb_reg_initialize_m)\n\nSat Feb 21 22:41:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* ext/zlib/zlib.c: documented, but needs more effort.\n\nSat Feb 21 14:33:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: prefer relative path.  [ruby-talk:93037]\n\nSat Feb 21 11:12:08 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* missing/os2.c, missing/x68.c: typo fix.  pointed out by greentea.\n\nFri Feb 20 19:11:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/ostruct.rb (OpenStruct#initialize_copy): should not share\n\t  members.  [ruby-dev:22966]\n\nFri Feb 20 18:59:47 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/init.rb (IRB::IRB.parse_opts): add -I option to\n\t  irb. [ruby-dev:39243]\n\nFri Feb 20 12:55:27 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (pipe_open): fix typo.\n\n\t* win32/win32.c (CreateChild): first argument to CreateProcess() must\n\t  have path, not just basename.\n\nThu Feb 19 23:24:16 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb (Generators::HtmlClass::build_attribute_list):\n\t  Support visibility modifiers for attributes\n\nThu Feb 19 22:39:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/ostruct.rb: documented\n\nThu Feb 19 22:39:04 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/rinda/test_rinda.rb: DRb.start_service only once in testsuites.\n\t  DRb.start_service could handle this.\n\nThu Feb 19 22:24:04 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/mapping/rubytypeFactory.rb: should not dump singleton class.\n\t  [ruby-dev:22588]\n\t  c = class << Object.new; class C; self; end; end; SOAPMarshal.dump(c)\n\nThu Feb 19 18:08:18 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* ext/strscan/strscan.c: improved documentation\n\nThu Feb 19 18:08:18 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* win32/win32.c, win32/win32.h: fixed prototypes.\n\n\t* win32/win32.c (wait): same as waitpid() with -1.\n\nThu Feb 19 02:34:28 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/markup/simple_markup/preprocess.rb (SM::PreProcess::include_file):\n\t  Only strip comment markers if all lines start with comments.\n\nThu Feb 19 03:05:49 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: StringScanner#restsize is obsolete;\n\t  use #rest_size instead.\n\n\t* ext/strscan/strscan.c: StringScanner#matchedsize is obsolete;\n\t  use #matched_size instead.\n\nThu Feb 19 02:42:19 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: don't use rb_eval_string, it defines\n\t  classes under the module when required in module clauses.\n\t  [ruby-dev:22951]\n\nThu Feb 19 02:37:28 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: merge documentation from 1.8 branch.\n\t  Thanks Gavin Sinclair.\n\nThu Feb 19 00:20:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/cgi-lib.rb:   deprecated after 1.8.1\n\n\t* lib/getopts.rb:   ditto\n\n\t* lib/importenv.rb: ditto\n\n\t* lib/parsearg.rb:  ditto\n\nThu Feb 19 00:11:05 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/markup/simple_markup/preprocess.rb (SM::PreProcess::handle):\n\t  Strip extraneous space from filenames in :include:\n\nWed Feb 18 22:53:41 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/unix.rb: remove O_NONBLOCk, thanks \\ay\n\nWed Feb 18 22:42:19 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/rinda/test_rinda.rb: improt test_rinda.rb\n\nWed Feb 18 22:03:11 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/*: should not depend on $KCODE.\n\nWed Feb 18 18:07:09 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_sprintf.rb: added tests.\n\nWed Feb 18 17:18:01 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c: need to include <olectl.h> on Cygwin.\n\nWed Feb 18 10:40:38 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): sign bit extension should not be done\n\t  if FPLUS flag is specified.  [ruby-list:39224]\n\n\t* sprintf.c (rb_f_sprintf): do not prepend dots for negative\n\t  numbers if FZERO is specified.  [ruby-dev:39218]\n\nWed Feb 18 10:23:34 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* sprintf.c (rb_f_sprintf): clean up.\n\nTue Feb 17 23:40:34 2004  Guy Decoux  <ts@moulon.inra.fr>\n\n\t* sprintf.c (rb_f_sprintf): preserve original val for\n\t  format_integer. [ruby-talk:92975]\n\nTue Feb 17 23:28:45 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/marshal/test_marshal.rb, test/ruby/test_marshal.rb: do $:\n\t  trick to share the testcase test/ruby/marshaltestlib.rb.\n\nTue Feb 17 23:13:23 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/marshaltestlib.rb: common marshal testcase added.\n\n\t* test/ruby/test_marshal.rb: use above testsuite.\n\n\t* test/soap/marshal/test_marshal.rb: ditto.\n\n\t* test/soap/marshal/cmarshal.rb: removed (not used).\n\nTue Feb 17 19:34:26 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): $extout_prefix doesn't vary for libraries.\n\n\t* ext/extmk.rb (extmake): remove compile directory if empty.\n\n\t* ext/extmk.rb (parse_args) lib/mkmf.rb (create_makefile): move\n\t  initialization of $extout_prefix from lib/mkmf.rb.  [ruby-dev:22928]\n\n\t* ext/extmk.rb: clear ext and extout directory when cleaning.\n\n\t* lib/mkmf.rb (CLEANLIBS): should be under $(arch) directory.\n\nTue Feb 17 18:02:10 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: ScanError may be (wrongly) garbage\n\t  collected. (thanks Gavin Sinclair)\n\n\t* ext/strscan/strscan.c: move ::ScanError to StringScanner::Error.\n\t  ::ScanError is also defined for backward compatibility.\n\n\t* ext/strscan/strscan.c: #peep is obsolete, use #peek.\n\n\t* ext/strscan/strscan.c: #empty? is obsolete, use #eos?.\n\n\t* ext/strscan/strscan.c: #clear is obsolete, use #terminate.\n\n\t* ext/strscan/strscan.c: #getbyte is obsolete, use #get_byte.\n\nTue Feb 17 12:12:47 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (parse_args): delay expanding $(extout) until invoking\n\t  make.\n\n\t* lib/mkmf.rb (CLEANLIBS): should remove files have specific\n\t  extensions.\n\nTue Feb 17 11:33:30 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rss/rexmlparser.rb: REXML version may be 4 digits.\n\nTue Feb 17 10:45:59 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (syck_emitter_end_object): takes only one arg.\n\nTue Feb 17 07:48:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/rexml/encodings/SHIFT_JIS: wrong library name.\n\nTue Feb 17 01:35:28 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* eval.c (rb_eval): care that another thread replace NODE_DREGX_ONCE\n\t  to NODE_LIT.  [ruby-dev:22920]\n\nTue Feb 17 01:20:57 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: new module FileUtils::DryRun.\n\nMon Feb 16 23:28:14 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb: document reduction.  [ruby-core:02429]\n\n\t* test/yaml/test_yaml.rb: added 0..1 test with \"0\"..\"1\" on display.\n\t  it should be defined that the specification about what kind of Range\n\t  is supported in ruby's custom type in YAML.\n\nMon Feb 16 22:22:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/generator.rb: corrected doc format\n\n\t* lib/rinda/rinda.rb: added documentation (from Hugh Sasse)\n\n\t* lib/rinda/tuplespace.rb: ditto\n\n\t  [Note: rinda files actually committed Wed Feb 18 07:27:00 2004]\n\nMon Feb 16 20:28:52 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: show more warnings. (refering to mingw)\n\n\t* bcc32/setup.mak: ditto.\n\nMon Feb 16 18:35:58 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/Makefile.sub (config.status): should create *.pdb on ext/,\n\t  not .ext/.\n\n\t* win32/Makefile.sub (config.status): convert the name of import\n\t  library.\n\n\t* lib/mkmf.rb (create_makefile): now don't need to remove\n\t  $(TARGET).lib.\n\nMon Feb 16 15:45:22 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check functions, fork spawnv.\n\n\t* io.c (rb_io_s_popen): accept argv not only single command line.\n\n\t* process.c (rb_proc_exec_n): export.\n\n\t* process.c (rb_check_argv): check if arguments are safe to invoke.\n\n\t* process.c (rb_fork): retry to fork.\n\n\t* process.c (rb_spawn): spawn child process asynchronously.\n\n\t* process.c (rb_f_system): raise an exception if the command could not\n\t  execute.\n\n\t* win32/win32.c (rb_w32_argv_size): count necessary size for joined\n\t  arguments.\n\n\t* win32/win32.c (rb_w32_join_argv): join arguments with quoting.\n\n\t* win32/win32.c (rb_w32_pipe_exec, rb_w32_spawn, rb_w32_aspawn):\n\t  accept program name adding to command line.\n\nMon Feb 16 15:18:33 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/racc/parser.rb: add note for Racc full package.\n\nMon Feb 16 15:13:01 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/racc/cparse/README: new file.\n\n\t* ext/racc/cparse/MANIFEST: add README.\n\nMon Feb 16 12:29:10 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_s_list): new method Iconv.list\n\t  (libiconv only).\n\nMon Feb 16 10:29:52 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (CompareImpl): File.fnmatch and Dir.glob get better performance\n\t  in Win32. This is achived by calling downcase() for single-byte\n\t  characters. (CharLower() is slower than downcase())\n\nMon Feb 16 02:14:29 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* bcc32/Makefile.sub: should warn suspicious pointer conversion.\n\n\t* bcc32/setup.mak: ditto.\n\nSun Feb 15 20:56:22 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (push_braces): remove wrong const. [ruby-dev:22891]\n\nSun Feb 15 20:41:15 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* sample/soap/calc/httpd.rb, sample/soap/exchange/httpd.rb,\n\t  sample/soap/sampleStruct/httpd.rb, sample/wsdl/googleSearch/httpd.rb:\n\t  use soap/property instead of getopts for configuring DocumentRoot\n\t  and port# of httpd.  see samplehttpd.conf below.\n\n\t* sample/soap/calc/samplehttpd.conf,\n\t  sample/soap/exchange/samplehttpd.conf,\n\t  sample/soap/sampleStruct/samplehttpd.conf,\n\t  sample/wsdl/googleSearch/samplehttpd.conf: added.\n\nSun Feb 15 19:13:33 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/tuplespace.rb: read(tpl,0), raise RequestExpiredError\n\t  if not found.\n\nSun Feb 15 15:48:57 2004  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c: add IDispatch wrapper in val2variant.\n\t  Thanks, arton.\n\nSun Feb 15 15:23:29 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* ruby.h, dir.c (rb_glob): add const.\n\nSun Feb 15 01:46:05 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/mkmf.rb: absolute path of ruby is assigned to $(RUBY).\n\t  [ruby-dev:22870]\n\nSat Feb 14 23:59:11 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* mkconfig.rb: use fileutils.rb instead of ftools.rb.\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub (config.h): define\n\t  STACK_GROW_DIRECTION.\n\n\t* bcc32/Makefile.sub (config.h): add newer checks.\n\n\t* wince/Makefile.sub (config.h): define NEED_IO_SEEK_BETWEEN_RW.\n\nSat Feb 14 23:26:27 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/un.rb: use OptionParser instead of getopts.\n\nSat Feb 14 11:28:14 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* sample/drb/*: import lib/drb/sample\n\nSat Feb 14 11:14:12 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: add pretty_print, thanks gotoken.\n\nFri Feb 13 21:51:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/fileutils.rb: slighly improved documentation (sync with 1.8)\n\nFri Feb 13 19:57:01 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* test/rss/test_trackback.rb: added tests for TrackBack with RSS\n\t  2.0.\n\n\t* test/rss/common.rb: added methods make RSS 2.0.\n\n\t* lib/rss/trackback.rb: TrackBack API is decided.\n\n\t* lib/rss/rss.rb: RSS::VERSION 0.0.7 -> 0.0.8.\n\n\t* lib/rss/parser.rb, lib/rss/rss.rb: replaced $DEBUG by RSS::DEBUG.\n\n\t* lib/rss/2.0.rb: removed RSS 2.0 URI. Because RSS 2.0 doesn't\n\t  have URI.\n\nFri Feb 13 14:41:00 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: en-bugged at last commit (Feb 11 23:24:22 2004)\n\nFri Feb 13 12:26:37 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: rescue SystemCallError instead\n\t  of EINVAL.  File.link may raise EACCES on network file systems.\n\nFri Feb 13 05:18:58 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: File.link raises EINVAL on\n\t  Win9x. [ruby-dev:22713]\n\nThu Feb 12 21:49:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/ftools.rb: documented\n\nThu Feb 12 21:19:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/base64.rb: added and tidied documentation\n\nThu Feb 12 20:45:01 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb (WriteAdapater#puts): must append \"\\n\" to\n\t  the string, don't prepend. (ruby-bugs:PR#1280)\n\nThu Feb 12 20:31:43 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_tmpsrc): cpp32 of Borland C++ ignores #error\n\t  directives in DOS line-ending files at all.\n\nThu Feb 12 15:23:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (rparen): ignore preceding newlines to right parentheses.\n\t  (ruby-bugs:PR#1221) [ruby-dev:22858]\n\nThu Feb 12 14:17:43 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: set ac_cv_func_link to yes to enable link() on MinGW.\n\t  [ruby-dev:22241]\n\nThu Feb 12 13:32:49 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (link): raise NotImplementedError on Win9X.\n\t  contributed by Tietew. [ruby-dev:22713]\n\n\t* win32/win32.c, win32/win32.h (link): add const.\n\nThu Feb 12 09:56:19 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/tk/lib/tk.rb (TkComm::tk_split_list): suppress a warning.\n\nThu Feb 12 02:23:56 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: use assert_raise instead of assert_raises.\n\n\t* lib/pp.rb: ditto.\n\n\t* lib/time.rb: ditto.\n\n\t* lib/tsort.rb: ditto.\n\t  use TSortHash and TSortArray instead of Hash and Array in test.\n\nWed Feb 11 23:24:22 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: properly treat a Tcl/Tk's string with escaping\n\t  special characters.\n\nTue Feb 10 20:49:07 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (method_proc): return bound Proc object.  [ruby-dev:22854]\n\n\t* eval.c (rb_mod_define_method): bind method body itself for Method\n\t  object.\n\n\t* node.h (NODE_DMETHOD): deprecated.\n\n\t* object.c (rb_class_inherited_p): export.\n\nTue Feb 10 16:43:50 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (umethod_bind): purge unused check.  [ruby-dev:22850]\n\nTue Feb 10 14:33:08 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_match): raise TypeError when both arguments are\n\t  strings. [ruby-dev:22851]\n\n\t* string.c (rb_str_match2): removed.\n\n\t* Makefile.in, bcc32/Makefile.sub, win32/Makefile.sub,\n\t  wince/Makefile.sub (string.c): now not depend on version.h.\n\nMon Feb  9 17:46:07 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in, bcc32/Makefile.sub, win32/Makefile.sub, configure.in,\n\t  runruby.rb: run rdoc, test and so on with compiled extension\n\t  libraries.  [ruby-dev:22688]\n\n\t* ext/extmk.rb, lib/mkmf.rb: make extension libraries in separated\n\t  directory, similar to the actual directory structure.\n\n\t* lib/fileutils.rb (FileUtils.copy_file): use the mode of the original\n\t  file to create new file.\n\n\t* lib/rdoc/ri/ri_paths.rb (RI::Paths::SYSDIR): get rid of unexpected\n\t  influence by envirionment variable.\n\n\t* bcc32/configure.bat, win32/configure.bat: add install-doc options.\n\n\t* win32/win32.c, win32/win32.h (rb_w32_fstat): fix Borland C runtime\n\t  bug which returns wrong mode.  [ruby-dev:22846]\n\nMon Feb  9 16:30:12 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* process.c (detach_process_watcher): return the last status.\n\t  [ruby-dev:22841]\n\nSun Feb  8 16:46:08 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/pp.rb (PP::PPMethods::object_address_group): suppress negative\n\t  sign for higher heap areas.\n\nSun Feb  8 16:18:27 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/yaml/test_yaml.rb (YAML_Unit_Tests::test_range_cycle):\n\t  added tests.\n\nSun Feb  8 15:51:57 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/ruby/test_file.rb (TestFile::test_fnmatch): added tests for\n\t  File.fnmatch. [ruby-dev:22815][ruby-dev:22819]\n\nSun Feb  8 15:41:45 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/yaml/test_yaml.rb (YAML_Unit_Tests::test_range_cycle):\n\t  added tests. [ruby-core:02306] [ruby-core:02311]\n\nSun Feb  8 14:24:35 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTP#request): should not overwrite Connection\n\t  header. (ruby-bugs:PR#1274)\n\nSun Feb  8 10:11:21 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (glob_helper): Dir.glob('**/') did not work. [ruby-dev:22832]\n\nSun Feb  8 00:29:26 2004  Hirokazu Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (fnmatch): File.fnmatch('*?', 'a') should return true.\n\t  [ruby-dev:22815]\n\n\t* dir.c (fnmatch): File.fnmatch('\\[1\\]' , '[1]') should return true.\n\t  [ruby-dev:22819]\n\n\t* dir.c: Did some styles (no change to behavior)\n\nSat Feb  7 19:56:11 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/irb/init.rb (IRB.rc_files): yield possible rc file names.\n\n\t* lib/irb/input-method.rb (IRB::ReadlineInputMethod::initialize):\n\t  load and save history automatically.  [ruby-core:02352]\n\nFri Feb  6 22:48:16 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb (gen_url): Support\n\t  https in RDoc hyperlinks\n\nFri Feb  6 22:41:22 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/pp.rb (PPInspectTest#test_to_s_with_iv): rollback the previous\n\t  commit.  [ruby-dev:22813]\n\nFri Feb  6 22:22:50 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/pp.rb (PPInspectTest#test_to_s_with_iv): remove instance\n\t  variable which is defined in the test.\n\nFri Feb  6 18:54:18 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/ruby/test_proc.rb (TestProc::test_eq): added a\n\t  test.  [ruby-dev:22599]\n\nFri Feb  6 18:26:00 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/ruby/test_proc.rb (TestProc::test_eq): added tests for\n\t  Proc#==.  [ruby-dev:22592], [ruby-dev:22601]\n\nFri Feb  6 10:12:06 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (bsock_do_not_reverse_lookup): control reverse\n\t  lookup for every instance.  [ruby-core:02346]\n\nFri Feb  6 09:15:11 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/irb/extend-command.rb: add irb_help command.  [ruby-talk:91610]\n\n\t* lib/irb/cmd/help.rb (IRB::ExtendCommand::Help): show RDoc.\n\nFri Feb  6 00:48:37 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/prettyprint.rb (PrettyPrint#first?): obsoleted.\n\nThu Feb  5 23:56:55 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/prettyprint.rb (PrettyPrint#seplist): added.\n\n\t* lib/pp.rb (PPMethods#pp_object): use seplist.\n\t  (PPMethods#pp_hash): ditto.\n\t  (Array#pretty_print): ditto.\n\t  (Struct#pretty_print): ditto.\n\t  (MatchData#pretty_print): ditto.\n\n\t* lib/set.rb (Set#pretty_print): use seplist.\n\nWed Feb  4 22:39:46 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (rb_stat_mode): should not sign-expand, so backout.\n\nWed Feb  4 02:12:06 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* file.c (test_l): fix wrong method name in document.\n\t  (test_S): ditto.\n\t  (test_b): ditto.\n\t  (test_c): ditto.\n\t  (test_suid): ditto.\n\t  (test_sgid): ditto.\n\t  (test_sticky): ditto.\n\nTue Feb  3 22:36:25 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/2.0.rb, lib/rss/content.rb, lib/rss/dublincore.rb,\n\t  lib/rss/rss.rb, lib/rss/syndication.rb: removed warnings.\n\n\t* lib/rss/converter.rb: removed handling load error of nkf.\n\n\t* test/rss/test_syndication.rb, test/rss/test_trackback.rb,\n\t  test/rss/test_dublincore.rb, test/rss/test_content.rb: replaced\n\t  'require \"rss/parser\"' by 'require \"rss/1.0\"'.\n\n\t* test/rss/test_parser.rb, test/rss/test_accessor.rb: removed\n\t  'require \"rss/parser\"'.\n\nTue Feb  3 11:23:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (reduce_nodes): remove tail returns.  [ruby-talk:90934]\n\nTue Feb  3 08:04:57 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (Struct#pretty_print_cycle): follow 1.8 style.\n\nMon Feb  2 22:06:31 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (block_append, new_evstr, void_expr0): remove no longer used\n\t  labels.\n\nMon Feb  2 18:45:50 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* dln.c (dln_load): don't specify RTLD_GLOBAL on Interix,\n\t  because it caused SEGV when running runner.rb.\n\nMon Feb  2 01:54:00 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb (Struct#pretty_print): make it 1.8 style.\n\t  (Numeric#pretty_print, FalseClass#pretty_print)\n\t  (TrueClass#pretty_print, Module#pretty_print): fix pp for objects\n\t  with instance variables.  [ruby-talk:91157]\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): return nil on loopback\n\t  address.\n\n\t* lib/resolv-replace.rb (BasicSocket#send): don't replace because\n\t  it has no hostname argument.\n\t  (IPSocket.getaddress): raise SocketError instead of\n\t  Resolv::ResolvError for errors.\n\t  (TCPSocket#initialize, UDPSocket#bind, UDPSocket#connect)\n\t  (SOCKSSocket#initialize): use IPSocket.getaddress instead of\n\t  Resolv.getaddress.\n\t  (UDPSocket#send): recognize 3 arguments form.  try all addresses on\n\t  4 arguments form.\n\nSun Feb  1 23:00:00 2004  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal.c: Bug in BigDecimal(\"1e#{n}\").add BigDecimal('.5'),n)\n\t  reported and fixed by Javier Goizueta.\n\nSun Feb  1 18:21:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t  From ruby_1_8 branch:\n\t* lib/test/unit.rb: rearranged documentation for RDoc's sake.\n\t* lib/matrix.rb: improved documentation.\n\t* lib/net/http.rb: slight documentation formatting improvement.\n\nSun Feb  1 05:30:06 2004  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): warn HTTP_PROXY.\n\t raise an errror on non-http proxy URI.\n\t (OpenURI::Buffer#<<): make a tempfile binmode.  [ruby-talk:90793]\n\nSun Feb  1 00:57:41 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss/parser.rb (RSS::Parser): added @@default_parser. Used\n\t  XML parser became selectable.\n\t* test/rss/test_parser.rb: added tests for\n\t  RSS::Parser.default_parser.\n\nSat Jan 31 02:28:15 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (RPATHFLAG): set to -Wl,-R like NetBSD on Interix.\n\nSat Jan 31 01:09:41 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: leading 0 padding of timestamp usec part.\n\nFri Jan 30 18:53:23 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* re.c (KR_REHASH): wrong hash value on sizeof(long) > sizeof(int).\n\nThu Jan 29 23:11:57 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (DLEXT2): removed.  Ruby does not treat\n\t  \".dll\" as a extention library anymore.\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub (DLEXT2):\n\t  ditto.\n\n\t* util.c (mblen): fix overrun.  [ruby-dev:22672]\n\nThu Jan 29 22:41:53 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Allow 'link:' in Tidylinks.\n\t  THis means you can write \"see f1[link:files/f1_rb.html]\".\n\nThu Jan 29 22:24:47 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* sample/openssl/gen_csr.rb: follow OpenSSL::X509::Name change.\n\t  ASN.1 type of subject DN elements were wrong.\n\nThu Jan 29 22:19:51 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/*: remove $: trick.  [ruby-dev:22763]  use test/runner.rb to\n\t  run test.\n\nThu Jan 29 19:28:16 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (Request#initialize): reject only when a path is\n\t  empty. [ruby-dev:22771]\n\nThu Jan 29 18:54:08 2004  H.Yamamoto  <ocean@m2.ccsnet.ne.jp>\n\n\t* dir.c (glob_helper): infinite loop bug in win32 code.\n\t  [ruby-dev:22770]\n\nThu Jan 29 17:03:49 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c: merge tuning from H.Yamamoto <ocean@m2.ccsnet.ne.jp>.\n\t  [ruby-dev:22761]\n\nThu Jan 29 11:32:14 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/rss/test_*: do $: trick while searching a module in the current\n\t  directory.\n\n\t* test/xsd/test_xmlschemaparser.rb, test/wsdl/test_emptycomplextype.rb,\n\t  test/soap/helloworld/test_helloworld.rb,\n\t  test/soap/calc/{test_calc.rb,test_calc2.rb}: do File.expand_path\n\t  before using __FILE__.\n\n\t* test/yaml/test_yaml.rb: assert_equals -> assert_equal.\n\nThu Jan 29 01:56:02 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: usec round-tripping skew. [ruby-core:2305]\n\n\t* lib/yaml/rubytypes.rb: character Range now round-trips. [ruby-core:2306]\n\n\t* test/yaml/test_yaml.rb: add Time and Range tests.\n\nThu Jan 29 00:00:46 2004  Kouhei Sutou  <kou@cozmixng.org>\n\n\t* lib/rss: rss/parser.rb is always required.\n\nWed Jan 28 15:09:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/rss/*.rb: remove \"test/\" prefix.\n\nWed Jan 28 13:07:02 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/extconf.rb: include iconv.h for libiconv.  [ruby-dev:22715]\n\nWed Jan 28 12:43:07 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/rss: rss library imported. [ruby-dev:22726]\n\nWed Jan 28 04:29:41 2004  Eric Schwartz  <emschwar@fc.hp.com>\n\n\t* lib/cgi/session.rb: use LOCK_SH to read, and a few other\n\t  improvements.  [ruby-core:02328]\n\nTue Jan 27 15:00:14 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el: better support for general delimited\n\t  strings.  [ruby-dev:22695]\n\nTue Jan 27 11:04:40 2004  FUKUMOTO Atsushi  <fukumoto@nospam.imasy.or.jp>\n\n\t* ext/socket/socket.c (s_recvfrom): sending length should be an\n\t  invariant while retrying on EAGAIN.  [ruby-talk:89962]\n\nTue Jan 27 10:31:28 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c (set_argv): fix condition.\n\nTue Jan 27 02:26:31 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (WEBrick:HTTPUtils::parse_header):\n\t  refine regex for header-name.\n\nMon Jan 26 22:53:04 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* io.c: Remove documentation references to $defout.\n\nMon Jan 26 14:41:46 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/weakref.rb (WeakRef::initialize): set up @__id before\n\t  calling \"super\".\n\n\t* lib/delegate.rb (Delegator::initialize): preserve\n\t  singleton_method_added method [ruby-dev:22685]\n\n\t* lib/delegate.rb (Delegator::initialize): use Kernel::raise\n\t  instead of mere raise.  [ruby-dev:22681]\n\nMon Jan 26 12:45:23 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: define CONST84 when TCL_MAJOR_VERSION == 7\n\nMon Jan 26 11:30:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: Makefiles should depend on also rbconfig.rb.\n\t  (ruby-bugs:PR#1256)\n\n\t* ext/win32ole/win32ole.c (set_argv): set real arguments to\n\t  WIN32OLE::ARGV.  [ruby-list:39073]\n\nSun Jan 25 18:25:26 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_add_entry): third\n\t  argument become optional.\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_initialize): ditto.\n\n\t* ext/openssl/ossl_x509name.c (Init_x509name): emailAddress and\n\t  domainComponent should be IA5String.\n\nSun Jan 25 01:45:38 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#run): support\n\t  virtual host.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#virtual_host): add\n\t  new method to register virtual hosting server.\n\n\t* lib/webrick/httpserver.rb (WEBrick::HTTPServer#lookup_server): add\n\t  new method to lookup virtual hosting server.\n\nSat Jan 24 13:06:26 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509hame.c (ossl_x509name_initialize): change\n\t  second argument. it expected to be a Hash not an Integer.\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_add_entry): add new\n\t  function for OpenSSL::X509::Name#add_entry.\n\n\t* ext/openssl/ossl_x509name.c (Init_ossl_x509name): add constants\n\t  OpenSSL::X509::Name::DEFAULT_OBJECT_TYPE and OBJECT_TYPE_TEMPLATE.\n\n\t* ext/openssl/lib/openssl/x509.rb (OpenSSL::X509::Name#initialize):\n\t  second argument takes OBJECT_TYPE_TEMPLATE by default.\n\nFri Jan 23 02:26:30 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (num2i32): pack should not raise RangeError.\n\t  [ruby-dev:22654]\n\n\t* pack.c (pack_pack): do not auto convert nil to zero.\n\nThu Jan 22 22:54:53 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (BEG_REGEXP): allow 8-bit characters in quoted\n\t  strings for Novell GroupWise Internet Agent.\n\n\t* lib/net/imap.rb (DATA_REGEXP): ditto.\n\nThu Jan 22 18:35:49 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/e2mmap.rb (VERSION): remove unnecessary version checking.\n\nThu Jan 22 16:21:02 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (string_content): reset lexical states at the beginning of\n\t  string contents.  [ruby-list:39061]\n\nThu Jan 22 08:08:50 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (opt_rescue): use NODE_ERRINFO() instead of\n\t  NODE_GVAR(\"$!\"), to avoid confusion from variable aliasing.\n\t  [ruby-talk:90074]\n\n\t* version.c (Init_version): remove obsolete constants VERSION\n\t  etc.  [ruby-dev:22643]\n\nThu Jan 22 01:46:32 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (newline_node): do not use NODE_NEWLINE node anymore,\n\t  use NEWLINE flag instead.\n\nThu Jan 22 01:12:12 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* missing/os2.c (chdir, getcwd):\n\t  use _chdir2 and _getcwd2 supporting multiple drives in OS/2 with EMX.\n\nThu Jan 22 00:33:52 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* configure.in: check availability of link(). [ruby-dev:22237]\n\t* file.c (rb_file_s_link): raise an exception when link() is unavailable.\n\t* missing/os2.c (link): removed. File#link isn't supported.\n\t* bcc32/Makefile.sub: define HAVE_LINK to enable link(). [ruby-dev:22241]\n\t* win32/Makefile.sub: ditto.\n\nThu Jan 22 00:26:25 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* ChangeLog: typo: RUBY_MBCHAR_MAX was RUBY_MBCHAR_MAXSIZE.\n\nThu Jan 22 00:12:51 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* defines.h: define RUBY_MBCHAR_MAX instead of MB_CUR_MAX.\n\t* dir.c (Next, emx_mblen): use RUBY_MBCHAR_MAX for mblen().\n\t* file.c (CharNext): ditto.\n\t* ruby.c (translate_char): ditto.\n\t* util.c (__crt0_glob_function): ditto.\n\nThu Jan 22 00:10:01 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/base64.rb: :nodoc: the Deprecated module\n\nWed Jan 21 23:52:39 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: Interix(SFU) support.\n\nWed Jan 21 23:03:45 2004  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: remove O_NONBLOCK, thanks \\ay\n\t* lib/drb/extserv.rb: typo\n\nWed Jan 21 17:57:56 2004  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (envelope): allow NIL.\n\t* lib/net/imap.rb (body): ditto.\n\t* lib/net/imap.rb (number): ditto.\n\t* lib/net/imap.rb (ensure_nz_number): show a detailed error\n\t  message.\n\nWed Jan 21 16:44:15 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (merge_libs): squeeze successive same libraries.\n\t  [ruby-dev:22652]\n\nWed Jan 21 16:10:36 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/base64.rb: enclosed in a module.  [ruby-core:02285]\n\nWed Jan 21 16:01:26 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/digest/rmd160/extconf.rb: have_library appends found library.\n\nWed Jan 21 11:36:00 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (sock_gethostbyname): returns host if\n\t  ai_canonname is NULL. (ruby-bugs PR#1243)\n\n\t* parse.y (block_append): update nd_end for \"real\" head node.\n\t  [ruby-list:39058]\n\nTue Jan 20 14:48:28 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: should check <openssl/conf_api.h> instead\n\t  of OPENSSL_VERSION_NUMBER. [ruby-list:39056]\n\nTue Jan 20 14:43:17 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/base64.rb: Add RDoc\n\nTue Jan 20 14:25:51 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/abbrev.rb: Add RDoc\n\nTue Jan 20 13:22:39 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Document aliases at\n\t  top-most level.\n\n\t* lib/English.rb: Document English.rb.\n\nTue Jan 20 04:41:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_marshal.rb (MarshalTestLib::test_exception): test\n\t  for [ruby-dev:22604].\n\n\t* test/ruby/test_marshal.rb (MarshalTestLibtest_singleton): test\n\t  for [ruby-dev:22588].\n\nTue Jan 20 02:38:13 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_class): should not dump singleton class.\n\t  [ruby-dev:22631]\n\nTue Jan 20 02:49:22 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: add check for OpenSSL version.\n\t  [ruby-list:39054]\n\nMon Jan 19 23:56:20 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (name_err_mesg_to_str): inverted condition for result of\n\t  inspection.  [ruby-dev:22628]\n\nMon Jan 19 22:24:28 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* sample/exyacc.rb: escape '}' to avoid warning.\n\n\t* lib/rdoc/parsers/parse_c.rb: escape '{' and '}' to avoid warnings.\n\nMon Jan 19 21:28:06 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/digest/defs.h, win32/win3.c, win32/win32.h, file.c: remove\n\t  useless casts for Borland C.\n\nMon Jan 19 17:39:38 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (NameError::message): internal use only.\n\n\t* eval.c (rb_method_missing): use hidden constant.\n\nMon Jan 19 16:30:53 2004  akira yamada  <akira@ruby-lang.org>\n\n\t* test/ruby/test_time.rb: added tests for [ruby-dev:22614] and\n\t  [ruby-dev:22617].\n\nMon Jan 19 13:09:21 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/extmk.rb, win32/Makefile.sub, win32/configure.bat,\n\t  win32/setup.mak: --with-static-linked-ext support on mswin32.\n\nMon Jan 19 06:49:07 2004  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date.rb: zone was wrong when it was behind UTC.\n\t  Thanks Mark J. Reed.\n\n\t* lib/date/format.rb: %z is now always replaced by four digits\n\t  with a leading plus or minus sign.\n\n\t* sample/cal.rb: added a class, anyway.\n\nMon Jan 19 01:08:39 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* class.c, error.c, eval.c, intern.h, object.c, variable.c:\n\t  do not set path if it is a singleton class.  [ruby-dev:22588]\n\n\t* lib/cgi.rb (CGI::QueryExtension): give extended string, not a\n\t  delegater object.\n\nSun Jan 18 23:59:44 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/charset_alias.rb: prefer us_EN locale encodings or\n\t  former.  [ruby-dev:22609]\n\n\t* ext/iconv/iconv.c (iconv_create): raise InvalidEncoding\n\t  exception when EINVAL.\n\nSun Jan 18 23:16:34 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* class.c, error.c, file.c, io.c, numeric.c, object.c, re.c, struct.c,\n\t  time.c: marked init_copy functions nodoc.\n\nSun Jan 18 20:47:35 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ruby.c: use translate_char() on Cygwin.\n\nSun Jan 18 20:00:16 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/wsdlDriver.rb, lib/wsdl/soap/operation.rb: add support of\n\t  \"parts\" attribute of soap:body element in WSDL.\n\n\t* lib/wsdl/xmlSchema/schema.rb: friendly warning message for\n\t  simpleType element which is not supported for now.\n\n\t* test/wsdl/soap/{soapbodyparts.wsdl,test_soapbodyparts.wsdl}: new\n\t  files.\n\nSun Jan 18 16:46:48 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (time_overflow_p): should return results.  [ruby-dev:22614]\n\nSun Jan 18 12:07:24 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* test/ruby/test_time.rb: new test case to test Time#[+-].\n\n\t* time.c (time_plus, time_minus): fix RangeError for a negative\n\t  argument in environments whose time_t is unsigned. [ruby-dev:22608]\n\nSun Jan 18 02:33:26 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* defines.h (_WIN32): undef _WIN32 on Cygwin before defining DOSISH.\n\nSun Jan 18 00:23:55 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (class2path): check anonymous class/module before\n\t  checking referable, and allow singleton classes.\n\nSat Jan 17 23:58:51 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (NameError::Message): new class for lazy evaluation of\n\t  message to ensure replaced before marshalling.  [ruby-dev:22604]\n\n\t* eval.c (rb_method_missing): use NameError::Message.\n\nSat Jan 17 21:49:50 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/time.rb (test_rfc2822, test_rfc3339, test_encode_xmlschema):\n\t  should not expect that all platforms handle negative time_t value.\n\nFri Jan 16 23:53:09 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (proc_eq): compare also arguments and environment\n\t  (including local variables).  [ruby-dev:22590]\n\nFri Jan 16 14:33:35 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (class2path): get class path and check referable.\n\t  [ruby-dev:22588]\n\nThu Jan 15 12:58:26 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (argf_read): do not append EOF.  (ruby-bugs-ja:PR#585)\n\n\t* io.c (rb_io_fwrite): ad-hockery hack to get rid of HP-UX stdio\n\t  weird behavior.  [ruby-dev:22424]\n\nWed Jan 14 21:13:06 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/inlinetest.rb (InlineTest::eval_part): eval under the top\n\t  level environment.\n\nWed Jan 14 17:54:17 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/inlinetest.rb (InlineTest::loadtest): require instead of\n\t  load, to get rid of multiple loading.\n\nWed Jan 14 13:30:52 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/extconf.rb: wrapper iconv.rb is dependent on platform.\n\nWed Jan 14 09:32:02 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* MANIFEST: add test/net/test_httpheader.rb. (commit miss?)\n\nWed Jan 14 00:58:35 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_Proc): move SystemStackError from under\n\t  StandardError to Exception.  [ruby-talk:89782]\n\nTue Jan 13 18:03:02 2004  Ian Macdonald  <ian@caliban.org>\n\n\t* file.c (rb_stat_wr, rb_stat_ww): New functions\n\t  implementing new methods (File::Stat#world_readable?,\n\t  File::Stat#world_writable?).\n\nTue Jan 13 16:53:25 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: omission of Date library code caused\n\t  test suite failure. [ruby-core:2251]\n\nTue Jan 13 16:50:03 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: use $0 as the default application class name.\n\nTue Jan 13 14:48:00 2004  Ian Macdonald  <ian@caliban.org>\n\n\t* lib/pathname.rb: New methods (Pathname#world_readable?,\n\t  Pathname#world_writable?).\n\nTue Jan 13 14:48:01 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (primary): allow no \"when\" case. [ruby-dev:22578]\n\n\t* ruby.h (rb_class_of): reduce branch. [ruby-dev:22577]\n\n\t* ruby.h (rb_type): ditto.\n\nTue Jan 13 14:26:59 2004  Kazuhiro NISHIYAMA  <zn@mbf.nifty.com>\n\n\t* lib/test/unit/ui/testrunnerutilities.rb (TestRunnerUtilities):\n\t  moved run method which allows output level.  [ruby-dev:22554]\n\nTue Jan 13 13:04:24 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/test_*.rb: Pathname#parent -> Pathname#dirname.\n\nTue Jan 13 11:38:58 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/yaml/test_yaml.rb (YAML_Unit_Tests::test_spec_type_{int,float}):\n\t  fix syntax error.\n\nTue Jan 13 07:52:40 2004  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/bytecode.c: turn off default implicit typing.\n\n\t* ext/syck/implicit.c: detect base60 integers.\n\n\t* ext/syck/rubyext.c: handle base60, as well as hex and octal\n\t  with commas.  implicit typing of ruby symbols.\n\n\t* test/yaml/test_yaml.rb: add test.\n\nTue Jan 13 04:29:52 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_driver.rb (RiDriver::report_method_stuff):\n\t  Show fully-qualified class names in class list.\n\nTue Jan 13 01:24:17 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (test_wr): Rdoc fix.  [ruby-core:02225]\n\nTue Jan 13 01:04:37 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_paths.rb (RI::Paths): First attempt at\n\t  incorporating DESTDIR in the rdoc installation.\n\nMon Jan 12 23:26:21 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (primary): fix position after FCALL.  [ruby-dev:22574]\n\nMon Jan 12 18:00:11 2004  Ian Macdonald  <ian@caliban.org>\n\n\t* file.c (test_wr, test_ww): New functions implementing new\n\t  methods (File::world_readable?, File::world_writable?).\n\n\t* file.c (S_IRUGO, S_IGUGO): New macros.\n\nMon Jan 12 12:07:22 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::do_methods):\n\t  Someone changed the \"// in eval.c\" comments to \"/*...*/\" style,\n\t  so the parsing of the source file name broke.\n\n\t* object.c: Remove spurious space in TrueClass documentation.\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::find_body): Fix\n\t  bad regexp: if the code before a documented method contained\n\t  a comment that wasn't terminated by whitespace, that comment\n\t  and all intervening code was included in the following\n\t  method's documentation.\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::HtmlFormatter::break_to_newline):\n\t  HTML formats need explicit line breaks.\n\nMon Jan 12 02:24:07 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::HtmlFormatter): Add HTML\n\t  generation support to ri (Elliot Hughes)\n\nSun Jan 11 23:54:41 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* env.h (ruby_frame, ruby_scope, ruby_in_eval, ruby_class,\n\t  ruby_dyna_vars): export.  [ruby-dev:22566]\n\nSun Jan 11 02:35:53 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (make_hostent): a bug in brace position.\n\n\t* configure.in: install rdoc by default. if you do not want to\n\t  install rdoc, specify --disable-install-doc.\n\nSun Jan 11 02:07:47 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_options.rb (RI::Options::OptionList::OptionList):\n\t  Also accept command line options via the 'RI' environment variable.\n\nSat Jan 10 21:27:41 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (eval): need to add message delimiter. [ruby-dev:22561]\n\nSat Jan 10 01:54:50 2004  Eric Sunshine  <sunshine@sunshineco.com>\n\n\t* defines.h (__NeXT__): Ensure that all standard S_IRUSR, S_IWGRP,\n\t  S_IRWXO, etc. macros are defined since future code might require\n\t  them (even though present code only requires a subset).\n\n\t* defines.h (__NeXT__): Bug fix: WORDS_BIGENDIAN was not being set\n\t  correctly on Rhapsody when -arch compiler flag was used (via\n\t  configure's --enable-fat-binary option).\n\nSat Jan 10 23:01:41 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (LIBPATHFLAG, RPATHFLAG): enclose paths with single\n\t  quotes.  [ruby-dev:22564]\n\n\t* lib/mkmf.rb (libpathflag): do not enclose with quotes always.\n\n\t* {bcc32,win32,wince}/Makefile.sub (LIBPATHFLAG): quoted.\n\nSat Jan 10 22:46:18 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (dir_inspect): new method, Dir#inspect.  [ruby-dev:22562]\n\nFri Jan  9 17:36:51 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/socket.c (make_hostent): getaddrinfo(3) on BSD do not\n\t  fill ai_canonname if serv is not supplied.  (ruby-bugs PR#1243)\n\nFri Jan  9 13:14:59 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb: do not ignore exceptions(LoadError\n\t  and SystemExitError) while loading a testcase.  smell of bug.\n\n\t* test/testunit/collector/test_dir.rb: add new test of the LoadError.\n\n\t* test/drb/{test_drbssl.rb,test_drbunix.rb}: do not define testcase if\n\t  openssl is not installed.\n\n\t* test/testunit/collector/test_dir.rb: assert_raises -> assert_raise.\n\nFri Jan  9 11:52:16 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* rubysig.h: <errno.h> is needed to use errno which may be a macro.\n\nFri Jan  9 11:20:24 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* ext/extmk.rb (extmake): should not reduce necessary libraries.\n\t  [ruby-dev:22440]\n\n\t* lib/mkmf.rb (merge_libs): merge libraries according to\n\t  dependency.\n\nFri Jan  9 10:05:23 2004  Siena.  <siena@faculty.chiba-u.jp>\n\n\t* lib/mkmf.rb (libpathflag): use single quotes.  [ruby-dev:22440]\n\nThu Jan  8 23:49:21 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (RDOCTARGET): new macro.  if you want to install\n\t  rdoc documentation, you need to run configure with\n\t  --enable-install-doc.\n\nThu Jan  8 21:17:43 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkey.c (ossl_pkey_to_der): removed; it returns\n\t  public key only.\n\n\t* ext/openssl/ossl_pkey_dh.c (ossl_dh_to_der): new function for\n\t  OpenSSL::PKey::DH#to_der.\n\n\t* ext/openssl/ossl_pkey_dsa.c (ossl_dsa_to_der): new function for\n\t  OpenSSL::PKey::DSA#to_der.\n\n\t* ext/openssl/ossl_pkey_rsa.c (ossl_rsa_to_der): new function for\n\t  OpenSSL::PKey::RSA#to_der.\n\nThu Jan  8 18:25:29 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (glob_helper): should not recurse in exceptional status.\n\nThu Jan  8 16:51:04 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/wsdl/datetime/test_datetime.rb: fixed a stupid testcase which\n\t  dumps \"E\" at month-end.\n\nThu Jan  8 11:20:01 2004  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* eval.c, object.c, process.c, re.c: don't use C++ style comments.\n\nThu Jan  8 08:46:14 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/rubyext.c (yaml_org_handler): lazy-load Date for\n\t  static-ext.\n\nThu Jan  8 07:06:30 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb: preserve order in Setup.  [ruby-dev:22503]\n\n\t* ext/extmk.rb: move dependent libraries just after depended\n\t  libraries.\n\n\t* ext/digest/*/extconf.rb: depend on digest.\n\nThu Jan  8 04:36:17 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (WEBrick::CGI#initialize): should create\n\t  @config[:Logger] if it was not given.\n\nWed Jan  7 22:28:12 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (glob_helper): fix memory leak.\n\nWed Jan  7 21:15:07 2004  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* sample/webrick/*: new files.\n\n\t* MANIFEST: add sample/webrick/*\n\nWed Jan  7 20:51:51 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/net/test_httpheader.rb: new file.\n\n\t* MANIFEST: add test/net/test_httpheader.rb.\n\nWed Jan  7 20:42:06 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (HTTPHeader#content_length): should return nil\n\t  unless header exists. [ruby-dev:22519]\n\nWed Jan  7 14:26:05 2004  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb (TkPanedWindow): use epath for embedded windows.\n\n\t* ext/tk/lib/tktext.rb: use epath for embedded windows.\n\n\t* ext/tk/lib/tkcanvas.rb: use epath for window items.\n\nWed Jan  7 14:24:04 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/{attachment.rb,mimemessage.rb}: added from soap4r/1.5.2.\n\nWed Jan  7 13:00:18 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/ri/ri_driver.rb: Fix problem where ri was\n\t  being too eager to find matches of ambiguous method\n\t  names (such as \"ri Thread.join\" would return both\n\t  Thread.join and ThreadsWait.join)\n\nWed Jan  7 12:35:41 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/debug.rb: revert command parse regexps.  [ruby-list:39014] by\n\t  Shirai,Kaoru.\n\nWed Jan  7 08:21:04 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parserfactory.rb: Check for shebang\n\t  line in files that would otherwise be treated as\n\t  plain text.\n\nTue Jan  6 22:13:34 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_mod_modfunc): should break if m has no super class.\n\t  [ruby-dev:22498]\n\nTue Jan  6 21:51:37 2004  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (fptr_finalize): should save errno just after failure.\n\t  [ruby-dev:22492]\n\nTue Jan  6 20:51:10 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb(Logger#msg2str): no special treatment for the object\n\t  which responds to :to_str.\n\n\t* lib/logger.rb(LogDevice#initialize): remove type checking if the\n\t  given object is a String.  Kernel.open handles it correctly.\n\n\t* test/logger/test_logger.rb: follow above change (ArgumentError ->\n\t  TypeError.)\n\nTue Jan  6 14:53:14 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* bin/ri: split out the display side, making it pluggable. Added\n\t  new ri_driver and ri_display files in lib/rdoc/ri.\n\nTue Jan  6 11:29:43 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/inlinetest.rb, test/{test_generator.rb,test_ipaddr.rb,\n\t  test_pathname.rb,test_pp.rb,test_prettyprint.rb,test_set.rb,\n\t  test_time.rb,test_tsort.rb: added.\n\nTue Jan  6 09:38:27 2004  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* import soap4r/1.5.2;\n\n\t* lib/soap/{attachment.rb,baseData.rb,encodingstyle/soapHandler.rb}:\n\t  introduce SOAPExternalReference class as a referenct to SOAPEnvelope\n\t  external content.\n\n\t* lib/soap/{attachment.rb,mimemessage.rb}: great SwA (SOAP messages\n\t  with Attachments) support code by Jamie Herre.\n\n\t* lib/soap/{element.rb,marshal.rb,parser.rb,processor.rb,\n\t  streamHandler.rb,wsdlDriver.rb}: SwA support.\n\n\t* lib/soap/rpc/{cgistub.rb,driver.rb,element.rb,proxy.rb,router.rb,\n\t  soaplet.rb}: SwA support and refactoring.\n\n\t* lib/soap/generator.rb, lib/soap/mapping/mapping.rb: follow\n\t  SOAPReference#initialize signature change.\n\n\t* lib/soap/mapping/factory.rb: deleted unused methods.\n\n\t* lib/soap/mapping/rubytypeFactory.rb: do no ignore case while xsi:type\n\t  string <-> Ruby class name matching.\n\n\t* lib/xsd/datatypes.rb: check the smallest positive non-zero\n\t  single-precision float exactly instead of packing with \"f\".\n\t  [ruby-talk:88822]\n\n\t* test/soap/test_basetype.rb, test/xsd/test_xsd.rb: use 1.402e-45, not\n\t  1.4e-45.  1.4e-45 is smaller than 2 ** -149...\n\n\t* test/soap/test_basetype.rb, test/soap/marshal/test_marshal.rb,\n\t  test/xsd/test_xsd.rb: use \"(-1.0 / (1.0 / 0.0))\" instead of \"-0.0\".\n\n\t* test/soap/test_streamhandler.rb: revert to the previous test that\n\t  warns \"basic_auth unsupported under net/http\".\n\nTue Jan  6 06:37:53 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* bin/rdoc: Add --ri-system switch\n\n\t* lib/.document: Update with list of files that seem to have\n\t  documentation\n\n\t* lib/test/unit.rb: Reorder comment to make it RDoc friendly.\n\n\t* Makefile.in: add install-nodoc target, and make it\n\t  generate RDoc on default install.\n\n\t* lib/rdoc/ri/ri_options.rb (RI::Options::parse): Add\n\t  --doc-dir option to ri.\n\nTue Jan  6 00:04:40 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_method_or_yield_parameters):\n\t  fix parsing if there are braces in a method parameter list\n\nTue Jan  6 01:01:04 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/dir.h, win32/win32.c: fix patch miss.\n\n\t* win32/Makefile.sub: fix file dependency.\n\nMon Jan  5 20:32:00 2004  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/logger.rb: enhanced documentation.\n\nMon Jan  5 18:58:47 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c: merge tuning from H.Yamamoto <ocean@m2.ccsnet.ne.jp>.\n\t  [ruby-dev:22486]\n\n\t* pack.c (pack_unpack): unpack requires big endian offet (OFF16B\n\t  and OFF32B).  The patch is from Minero Aoki in [ruby-dev:22489]\n\n\t* pack.c (OFF16B): add big-endian offset again.\n\nMon Jan  5 03:00:53 2004  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_pack.rb: new test test_unpack_N.\n\nMon Jan  5 01:47:53 2004  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): remove duplicated object files\n\t  from $objs on DOSISH platforms.\n\nSat Jan  3 02:44:48 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* rubysig.h (TRAP_END): preserve errno before switching context.\n\t  [ruby-core:02137]\n\nSat Jan  3 01:18:08 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* dir.c: merge tuning from H.Yamamoto <ocean@m2.ccsnet.ne.jp>.\n\t  [ruby-dev:22476]\n\nFri Jan  2 14:54:11 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* bin/ri: Add new --classes option, and arrange for\n\t  help messages to be paged too.\n\n\t* bin/rdoc: Add statistics.\n\n\t* process.c: (MG) Added Process documentation\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::AttributeFormatter::wrap):\n\t  Fix problem with labels not displaying in RI labeled\n\t  lists using BS and ANSI modes.\n\nFri Jan  2 01:50:13 2004  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_eof): ARGF.eof? should not have any side effect.\n\t  [ruby-dev:22469]\n\nThu Jan  1 09:03:20 2004  Dave Thomas  <dave@pragprog.com>\n\n\t* bin/ri (report_class_stuff): Fix problem with ambiguous nested\n\t  classes not matching.\n\nWed Dec 31 17:25:17 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_each_byte): should return self.  [ruby-dev:22465]\n\nWed Dec 31 15:05:00 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/pathname.rb: Corrected small coding error.\n\nWed Dec 31 15:00:00 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/pathname.rb: Completed documentation.\n\nWed Dec 31 11:20:34 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::do_methods): Make\n\t  file referenced in \"// in sss.c\" relative to current file.\n\nWed Dec 31 11:17:37 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/generators/html_generator.rb: Fix problem when\n\t  a public method was aliased, but the alias is then\n\t  made private, and hence doesn't appear in RDoc output.\n\nWed Dec 31 01:33:05 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* array.c, error.c, eval.c, io.c, prec.c, range.c, re.c,\n\t  string.c, time.c: Add RDoc for Kernel functions, and tidy.\n\nTue Dec 30 19:39:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_readline): should raise EOFError at the end of\n\t  files.  [ruby-dev:22458]\n\n\t* io.c (argf_read): should concatenate input files when length\n\t  argument is nil. [ruby-dev:22450]\n\n\t* io.c (argf_read): should update supplied string buffer (2nd\n\t  argument) even when IO#read is called multiple times.\n\n\t* io.c: should initialize lineno by zero. [ruby-dev:22460]\n\nTue Dec 30 12:30:30 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/code_objects.rb (RDoc::Context::find_symbol): If a\n\t  class and a method have the same name, finding Xxx.abc was trying\n\t  to find 'abc' in method 'Xxx', not class 'Xxx'.\n\nTue Dec 30 08:32:32 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_rb.rb (RDoc::RubyParser::parse_method):\n\t  Handle undoing nsting of yield parameters correctly for:\n\n\t    def each_entry(&b) Dir.foreach(@path) {|f| yield P.new(f) } end\n\nTue Dec 30 07:30:00 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/pathname.rb: Added documentation.\n\nMon Dec 29 20:08:17 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (GenericRequest#initialize): check if path\n\t  begins with '/'.\n\n\t* lib/net/http.rb: def m( arg ) -> def m(arg)\n\nMon Dec 29 12:51:02 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* eval.c: Add RDoc for Kernel global functions.\n\nMon Dec 29 11:00:16 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* array.c: Tidy up RDoc loose ends.\n\nMon Dec 29 05:05:51 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* struct.c, random: Add RDoc comments\n\nMon Dec 29 02:25:00 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/optparse.rb: Improved documentation.\n\nMon Dec 29 02:20:54 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* eval.c: Add RDoc for class Proc, Method, UnboundMethod\n\nMon Dec 29 02:20:26 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* instruby.rb: fix install directory if destdir and compile_dir are\n\t  not in the same drive.\n\n\t* ext/extmk.rb: ditto. [ruby-list:39009]\n\n\t* win32/Makefile.sub, win32/README.win32, win32/configure.bat,\n\t  win32/setup.mak: new configure scheme. use ``configure --prefix=dir''\n\t  instead of ``nmake DESTDIR=dir install''.\n\nMon Dec 29 00:41:44 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* math.c: Add RDoc comments\n\nSun Dec 28 20:19:11 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/stringio/stringio.c (strio_sysread): StringIO.new.sysread didn't\n\t  raise EOFError.\n\n\t* ext/zlib/zlib.c (gzreader_gets): don't increment lineno when\n\t  gzfile_read_all returns \"\".\n\nSun Dec 28 15:25:08 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* class.c,object.c,parse.y,sprintf.c,variable.c: Document classes\n\t  Object, Module, etc...\n\nSun Dec 28 11:55:29 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: generate bom.csv and mac.csv files on the fly.\n\t  [ruby-talk:88852]\n\n\t* test/csv/{bom.csv,mac.csv}: removed.\n\nSun Dec 28 08:56:51 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* eval.c: Thead[Group] RDoc (thanks to MG)\n\nSun Dec 28 03:50:05 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::find_override_comment):\n\t  Escape method names used in regexp\n\nSun Dec 28 01:46:02 2003  Dave Thomas  <dave@wireless_3.local.thomases.com>\n\n\t* lib/rdoc/ri/ri_formatter.rb (RI::TextFormatter::display_flow_item):\n\t  Add support for rules in 'ri' output.\n\nSun Dec 28 01:35:35 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::find_body):\n\t  Sometimes the Ruby source aliases two otherwise\n\t  unrelated methods (for example Kernel#object_id and\n\t  Kernel#hash are both the same C function). Provide a\n\t  facility to allow the methods to be documented\n\t  separately.\n\nSun Dec 28 01:05:31 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* marshal.c, signal.c: RDoc collemts added by Elliott Hughes\n\nSun Dec 28 00:46:25 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/parsers/parse_c.rb (RDoc::C_Parser::find_class_comment):\n\t  Some Ruby source uses lower-case class names for the\n\t  Init_Xxx C function name.\n\nSat Dec 27 23:41:46 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: fix \"test: too many arguments\" error.\n\nSat Dec 27 15:32:40 2003  Dave Thomas  <dave@wireless_3.local.thomases.com>\n\n\t* time.c: Add RDoc comments for Time class.\n\nSat Dec 27 15:07:26 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* object.c: Add RDoc comments for Symbol class.\n\nSat Dec 27 14:39:53 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* numeric.c (Init_Numeric): Add RDoc comments.\n\nSat Dec 27 00:44:00 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (next_argv): warn always for stdin on inplace edit mode.\n\n\t* io.c (read_all): need to check string value.\n\n\t* io.c (argf_read): allow ARGF.read(nil).  [ruby-dev:22433]\n\nFri Dec 26 23:02:09 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_backquote): need not to check nil result.\n\t  [ruby-core:02078]\n\n\t* io.c (rb_io_getline): should return nil when read_all gives\n\t  empty string, even when nil rs is specified. [ruby-core:02077]\n\nFri Dec 26 18:33:54 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check if getcontext and setcontext are available.\n\n\t* eval.c: use presence of getcontext/setcontext.\n\nFri Dec 26 16:40:53 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (PathnameTest#test_plus): add 2 assertions.\n\nFri Dec 26 14:05:13 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_pack.rb: new test test_pack_N.\n\nFri Dec 26 12:53:26 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): add sign check for 'i', and 'l'.\n\t  [ruby-dev:22427]\n\n\t* bignum.c (rb_quad_pack): add range check for 'quad int'.\n\nFri Dec 26 10:58:58 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* MANIFEST: add vms/config.h and remove vms/config.h_in.\n\nFri Dec 26 10:42:00 2003  AKIYOSHI, Masamichi  <masamichi.akiyoshi@hp.com>\n\n\t* io.c: [VMS] \"rfm=stmlf\" is specified for open() and fopen().\n\nThu Dec 25 22:29:53 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c (rb_str_update): don't return any value.\n\nThu Dec 25 15:30:17 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_update): call rb_str_modify().\n\nThu Dec 25 05:08:09 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (search_required): search actual file name once when no\n\t  extension specified.\n\nThu Dec 25 04:00:44 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* stable version 1.8.1 released.\n\nThu Dec 25 00:17:53 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* configure.in: check for nanosleep, -lrt if required.\n\t  [ruby-core:02059]\n\n\t* eval.c (thread_timer): use select(2) if nanosleep(2) is not\n\t  available.\n\n\t* eval.c: check __stub_getcontext for glibc on some platforms.\n\t  [ruby-list:38984]\n\nWed Dec 24 23:48:04 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/test_basetype.rb, test/soap/marshal/test_marshal.rb\n\t  test/xsd/test_xsd.rb: use \"(-1.0 / (1.0 / 0.0))\" instead of \"-0.0\"\n\t  to express -0.0.  [ruby-talk:88786]\n\nWed Dec 24 23:29:30 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/tsort.rb (test_orphaned_break): removed.\n\nWed Dec 24 20:53:06 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkmulticolumnlist.rb: new sample\n\n\t* ext/tk/sample/tkmultilistframe.rb: bug fix\n\nWed Dec 24 20:37:37 2003  Eric Sunshine  <sunshine@sunshineco.com>\n\n\t* configure.in (LDSHARED): Fixed typographical error in assignment of\n\t  LDSHARED for Rhapsody which caused linking of extension modules to\n\t  fail.\n\nWed Dec 24 17:51:18 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_thread_flock): enable thread support again.\n\nWed Dec 24 16:46:08 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (catch_timer): do not call rb_thread_schedule() inside to\n\t  avoid pthread_mutex_lock() deadlock.  interrupts to system calls\n\t  are detected by TRAP_END via EINTR error.\n\n\t* eval.c (thread_timer): do not post signal unless it is\n\t  absolutely necessary.\n\n\t* rubysig.h (TRAP_END): add CHECK_INTS to switch thread.\n\n\t* regex.c (re_compile_pattern): check if nextp is smaller than\n\t  pend.  [ruby-dev:22372]\n\n\t* eval.c (umethod_bind): remove method overridden check.\n\t  [ruby-dev:22366]\n\nWed Dec 24 16:13:05 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_read): should check for error\n\t  status by SSL_get_error().\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_write): ditto.\n\nWed Dec 24 14:23:27 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): clear the buffer argument\n\t  when returning nil.  [ruby-dev:22363]\n\n\t* test/ruby/ut_eof.rb (TestEOF::test_eof_0, TestEOF::test_eof_1):\n\t  add buffer argument tests.\n\nWed Dec 24 14:07:55 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: Modules are allowed to rescue.\n\n\t* lib/test/unit/autorunner.rb: show output_level in order.\n\n\t* lib/test/unit/collector/dir.rb: get rid of successive same\n\t  directories in load path.\n\n\t* test/testunit/test_assertions.rb (test_assert_nothing_raised,\n\t  test_assert_raise): test for modules.\n\nWed Dec 24 13:43:34 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/net/imap.rb (authenticate): remove \"\\n\" from base64 encoded\n\t  strings.\n\nWed Dec 24 11:26:41 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/fileutils/test_fileutils.rb: should not create any\n\t  files or directories in current directory.  [ruby-talk:88724]\n\nWed Dec 24 10:29:53 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): never return nil at\n\t  unlimited read.  [ruby-dev:22334]\n\n\t* ext/stringio/stringio.c (strio_read): support second\n\t  argument.  [ruby-dev:22350]\n\nWed Dec 24 09:38:49 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (arg): should return 0 after error.  [ruby-dev:22360]\n\nWed Dec 24 00:56:54 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): do not return nil at the end of file.\n\t  [ruby-dev:22334]\n\n\t* io.c (argf_read): do not depend on nil at eof behavior of\n\t  IO#read().\n\n\t* eval.c (rb_thread_join): dup exception before re-raising it.\n\n\t* io.c (rb_io_eof): call clearerr() to prevent side effect.  this\n\t  patch is supplied by Masahiro Sakai <sakai@tom.sfc.keio.ac.jp>.\n\t  [ruby-dev:22234]\n\n\t* pack.c (OFF16): get offset for big endian machines.\n\n\t* pack.c (pack_pack): use OFF16 instead of OFF16B.\n\t  [ruby-dev:22344]\n\n\t* pack.c (pack_unpack): ditto.\n\nTue Dec 23 22:47:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_io_check_readable): set FMODE_RBUF always, even if\n\t  NEED_IO_SEEK_BETWEEN_RW is not defined. [ruby-dev:22340]\n\n\t* io.c (rb_io_check_writable): clear FMODE_RBUF before writing\n\t  something.\n\nTue Dec 23 22:25:00 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/optparse.rb: incomplete RDoc documentation added in place of\n\t  existing RD comments.  Tabs converted to spaces.\n\nTue Dec 23 19:44:47 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/test_streamhandler.rb (test_basic_auth): removed.\n\t  soap4r + basic_auth is not officially supported in ruby/1.8.1 even\n\t  though soap4r + basic_auth + http-access2 should run fine.\n\nTue Dec 23 19:42:59 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_ungetc): raise an exception at unread stream to\n\t  avoid unspecified behavior.  [ruby-dev:22330]\n\n\t* test/ruby/test_system.rb (test_syntax): glob relatively from\n\t  __FILE__.\n\nTue Dec 23 18:09:40 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (pack_pack): remove unnecessary negative value check.\n\t  [ruby-dev:22329]\n\nTue Dec 23 17:26:55 2003  KONISHI Hiromasa  <konishih@fd6.so-net.ne.jp>\n\n\t* bcc32/Makefile.sub (config.h): bcc has finite(). [ruby-list:38940]\n\nTue Dec 23 16:08:16 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/rexml/encodings/US-ASCII.rb: typo.  [ruby-talk:88650]\n\n\t* test/ruby/test_system.rb: num of asserts depended on running dir.\n\n\t* test/xsd/test_noencoding.rb: rexml + without iconv/uconv cannot\n\t  handle euc-jp.  install iconv, uconv or xmlscan.\n\nTue Dec 23 14:13:51 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic::check_userinfo,\n\t  URI::Generic::check_user, URI::Generic::check_password): tests\n\t  conflicts/depends with other components closely.\n\n\t* test/uri/test_generic.rb (TestGeneric::test_set_component):\n\t  added tets.\n\nTue Dec 23 11:08:34 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/xsd/test_noencoding.rb: rescue Errno::EINVAL and do not test.\n\t  \"euc-jp\" might not be in supported encoding name list.\n\t  [ruby-talk:88650]\n\nTue Dec 23 06:10:31 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb (CGI): add support for mod_ruby.\n\n\t* lib/webrick/cgi.rb (CGI::Socket): add check for existence of\n\t  OpenSSL module in all HTTPS related methods.\n\n\t* lib/webrick/cgi.rb (CGI::Socket#cipher): should create similar\n\t  value to OpenSSL::SSLSocket#cipher.\n\n\t* lib/webrick/httpresponse.rb (HTTPResponse#setup_header): should\n\t  set \"connection: close\" if @keep_alive is false.\n\n\t* lib/webrick/https.rb (HTTPrequest#meta_vars): add supprt for\n\t  SSL_PROTOCOL, SSL_CIPHER_USEKEYSIZE and SSL_CIPHER_ALGKEYSIZE.\n\nMon Dec 22 23:00:05 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic::check_opaque): fixed typo.\n\nMon Dec 22 21:59:24 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (map_charset): always ensure code is a String.\n\nMon Dec 22 21:15:29 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* class.c (rb_mod_init_copy): always copy singleton class.\n\t  [ruby-dev:22325]\n\nMon Dec 22 20:44:36 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic#route_from): accepts urls which\n\t  has no host-part.\n\n\t* test/uri/test_generic.rb (TestGeneric::test_route): added a test.\n\nMon Dec 22 20:38:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/cgi.rb: reduce eval.\n\n\t* lib/cgi.rb (CGI::QueryExtension::read_multipart): alias path to\n\t  local_path.  [ruby-list:38883]\n\nMon Dec 22 20:09:31 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/test_property.rb: remove duplicated test method.\n\nMon Dec 22 18:22:04 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub (config.h): remove\n\t  HAVE_ISINF definition to follow previous commits of missing.h\n\t  and win32/win32.h.\n\nMon Dec 22 17:23:42 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ac_cv_func_setitimer): moved from defines.h\n\n\t* defines.h, rubysig.h, signal.c: removed macro handling which\n\t  should be done in configure.\n\n\t* configure.in (intrinsics.h): check if present.\n\n\t* ruby.h: include intrinsics.h if available.\n\n\t* bignum.c, marshal.c: include ieeefp.h if available.\n\n\t* missing.h (isinf): define as a macro if finite() and isnan()\n\t  are available.  [ruby-core:02032]\n\nMon Dec 22 17:07:31 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in (mingw): set isnan, finite and isinf to yes.\n\nMon Dec 22 13:40:19 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/property.rb: passing block by reference.\n\nMon Dec 22 00:32:43 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_with_disable_interrupt): use ENABLE_INTS instead of\n\t  ALLOW_INTS which may switch context.  [ruby-dev:22319]\n\n\t* ext/syck/emitter.c (syck_emitter_write): str bigger than\n\t  e->bufsize causes buffer overflow.  [ruby-dev:22307]\n\nSun Dec 21 17:29:00 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* class.c (rb_check_inheritable): new function.  [ruby-dev:22316]\n\n\t* intern.h: add prototype.\n\n\t* eval.c (superclass): use rb_check_inheritable().\n\n\t* object.c (rb_class_initialize): check argument validity.\n\nSun Dec 21 16:25:10 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#+): re-implemented to resolve \"..\" in\n\t  beginning of the argument.\n\t  (Pathname#join): concatenate from the last argument.\n\t  (Pathname#parent): just use Pathname#+.\n\nSun Dec 21 00:12:37 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add new methods (TkScrollbar#assign, assign_list)\n\n\t* ext/tk/sample/tkmultilistframe.rb: use TkScrollbar#assign method\n\nSat Dec 20 21:59:03 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb (HTTPRequest#meta_vars): refine regexp.\n\n\t* lib/webrick/cgi.rb (CGI#start): NPH scripts return status line\n\t  instead of Status: header field.\n\n\t* lib/webrick/cgi.rb (CGI::Socket): refine some coditions.\n\nSat Dec 20 16:07:14 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Completion::complete): wrong\n\t  Regexp for word boundary.  pointed out by Gavin Sinclair.\n\n\t* lib/optparse.rb (OptionParser::make_switch): [no-] prefix was\n\t  missing.\n\nSat Dec 20 11:40:10 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/yaml.rb (YAML::YAML): adjust Marshal version.\n\nSat Dec 20 03:56:02 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_with_disable_interrupt): prohibit thread context\n\t  switch during proc execution.  [ruby-dev:21899]\n\nSat Dec 20 02:41:02 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/cgi.rb: add file. (yet another CGI library)\n\n\t* MANIFEST: add lib/webrick/cgi.rb.\n\nSat Dec 20 02:18:31 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-calculate-indent): proper indentation\n\t  inside of parentheses.  [ruby-dev:22308]\n\nFri Dec 19 21:24:22 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httprequest.rb (HTTPRequest#meta_vars): should not set\n\t  HTTP_CONTENT_TYPE and HTTP_CONTENT_LENGTH.\n\n\t* lib/webrick/https.rb (HTTPRequest#parse): should check presence\n\t  of cert() method to detect SSLSocket.\n\nFri Dec 19 22:56:46 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/property.rb (SOAP::Property#load): new method for loading\n\t  property value into existing property tree.\n\n\t* test/soap/test_property.rb: add test.\n\nFri Dec 19 19:21:49 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/runit/cui/testrunner.rb (RUNIT::CUI::TestRunner::run):\n\t  should use Test::Unit::UI::{PROGRESS_ONLY,VERBOSE}.\n\nFri Dec 19 17:36:49 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkmultilistbox.rb: bug fix\n\n\t* ext/tk/sample/tkmultilistframe.rb: new sample script\n\nFri Dec 19 03:44:27 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (parse_form_data): should return an\n\t  empty Hash if the body is empty.\n\nThu Dec 18 21:47:35 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_makefile): should remove deffile if it's\n\t  made by miniruby. based on nobu's patch.\n\nThu Dec 18 21:44:21 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (stack_extend): ignore inline optimization on VC7.\n\n\t* win32/Makefile.sub (OS, RT): can override.\n\n\t* win32/Makefile.sub (LDFLAGS): ditto. shouldn't use pdb:none\n\t  option. based on Tietew's patch [ruby-dev:22289]\n\nThu Dec 18 16:38:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (fnmatch): unlike find_dirsep(), rb_path_next() never\n\t  return NULL.\n\nThu Dec 18 15:27:59 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/ipaddr.rb (IPSocket::getaddress): merge usa's patch.\n\t  [ruby-dev:21678]\n\nWed Dec 17 15:15:30 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/cgi.rb (CGI::QueryExtension::Value::[]): should work like\n\t  String#[] if more than one arguments are specified.\n\n\t* lib/delegate.rb: avoid using common instance name as \"@obj\".\n\n\t* lib/cgi.rb (CGI::QueryExtension::Value): Value is no longer\n\t  subclass of String, but DelegateClass(String).\n\n\t* ext/curses/extconf.rb: restore function check for init_color.\n\t  [ruby-list:38905]\n\n\t* Makefile.in: need to specify $(MAINLIBS) for the miniruby\n\t  generation rule.\n\n\t* configure.in: better FreeBSD -lc_r support.\n\nWed Dec 17 00:16:14 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* ext/strscan/strscan.c: new method\n\t  StringScanner#beginning_of_line? (alias #bol?)\n\n\t* ext/strscan/strscan.c: new method StringScanner#concat and #<<.\n\n\t* ext/strscan/strscan.c: StringScanner#new(str) does not duplicate\n\t  nor freeze STR (allow destructive modification).\n\n\t* test/strscan/test_stringscanner.rb: test new methods above.\n\n\t* test/strscan/test_stringscanner.rb: test destructive string\n\t  modification.\n\nTue Dec 16 21:20:47 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pp.rb: don't use local variable `pp'.\n\n\t* lib/prettyprint.rb: ditto.\n\nTue Dec 16 13:20:43 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: condition bug of if statement on\n\t  {pack,grid}_propagate methods\n\nTue Dec 16 03:17:29 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: comments in strings. [ruby-talk:88012]\n\n\t* test/yaml/test_yaml.rb: add test.\n\nTue Dec 16 01:14:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (catch_timer): check rb_thread_crtical in main native\n\t  thread.\n\n\t* eval.c (thread_timer): just sends signals periodically, to\n\t  prevent main native thread from receiving them in critical\n\t  section.  [ruby-core:01959]\n\nMon Dec 15 13:32:22 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (check_dirname): check string safety and remove extraneous\n\t  trailing directory separators.  [ruby-dev:22279]\n\n\t* file.c: renamed and externalized rb_path_next,\n\t  rb_path_skip_prefix, rb_path_last_separator, rb_path_end.\n\n\t* intern.h: prototypes for rb_path_next, rb_path_skip_prefix,\n\t  rb_path_last_separator, rb_path_end.\n\nMon Dec 15 09:27:46 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl_pkcs12.c (ossl_pkcs12_initialize): first argument\n\t  of rb_protect should take an argument of VALUE.\n\nSun Dec 14 18:46:48 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/socket/socket.c (Init_socket): IPv6 is not supported although\n\t  AF_INET6 is defined on MinGW.\n\n\t* lib/ipaddr.rb (AF_INET6): workaround in the environment which does\n\t  not support IPv6.\n\nSat Dec 13 18:55:16 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/charset_alias.rb: preserve original order.\n\n\t* ext/iconv/extconf.rb: remove wrapper file at clean.\n\nSat Dec 13 18:09:42 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (thread_timer): use timer by sub-thread and nanosleep.\n\t  [ruby-talk:87519]\n\n\t* gc.c (Init_stack): no stack adjustment for THREAD_SAFE.\n\nSat Dec 13 17:17:59 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (proc_alloc): cache the created object at first time.\n\t  [ruby-talk:61288], [ruby-dev:22240]\n\nSat Dec 13 09:01:23 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in: check ucontext.h.\n\n\t* eval.c: use getcontext/setcontext() instead of setjmp/longjmp()\n\t  on ia64 or with native thread enabled.  [ruby-core:01932]\n\nSat Dec 13 03:09:14 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* lib/yaml/rubytypes.rb: anonymous struct fix. [ruby-core:01946]\n\n\t* test/yaml/test_yaml.rb: add test.\n\nFri Dec 12 22:36:44 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb: add Cell#to_str and Cell#to_s for /.../ =~ aCell,\n\t  \"#{aCell}\" and so on.\n\n\t* test/csv/test_csv.rb: add tests.\n\nFri Dec 12 19:33:06 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir): remove trailing `/' from pathes.\n\n\t* lib/fileutils.rb (rmdir): ditto. [ruby-dev:22238]\n\n\t* lib/fileutils.rb (rmdir_r): ditto.\n\n\t* lib/fileutils.rb (fu_copy_dir): check if it is a directory after\n\t  mkdir(2).\n\nFri Dec 12 06:06:09 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (proc_invoke): fix class name in warning message for\n\t  define_method.  [ruby-dev:22235]\n\nThu Dec 11 21:24:43 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_pkcs12.[ch]: new files. add OpenSSL::PKCS12.\n\n\t* ext/openssl/ossl.[ch]: ditto.\n\n\t* ext/openssl/MANIFEST: add ossl_pkcs12.[ch].\n\nThu Dec 11 20:54:28 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir_p): remove trailing `/' befere mkdir(2).\n\t  mkdir(\"nonexistdir/\") does not work on NetBSD/Alpha 1.6.1.\n\n\t* lib/fileutils.rb (fu_list): call to_str for all arguments.\n\nThu Dec 11 20:07:01 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/ftools.rb (makedirs): sync with fileutils.\n\nThu Dec 11 19:53:03 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir_p): catch all SystemCallErrors.\n\t  (mkdir(\"C:\\\") causes EACCESS on Windows 2000/NTFS)\n\nThu Dec 11 19:08:02 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (mkdir_p): check if it is a directory after\n\t  mkdir(2) instead of before mkdir(2), to avoid race condition.\n\t  [ruby-talk:87730]\n\t  Refer: mkinstalldirs sh script, GNU mkdir(1) (coreutils 5.0)\n\nThu Dec 11 18:49:30 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb: def m( arg ) -> def m(arg).\n\nThu Dec 11 11:39:43 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (ieeefp.h), numeric.c: needed for finite() on\n\t  Solaris.  [ruby-core:01921]\n\n\t* file.c (rb_stat_inspect): adjust format specifier.\n\n\t* parse.c (arg_prepend): nodetype() is for debug use.\n\n\t* ruby.h (ISASCII, etc): cast to int to get rid of warning.\n\n\t* ruby.h (alloca.h): include even in GCC.  [ruby-core:01925]\n\n\t* ext/bigdecimal/bigdecimal.c (GetVpValue): adjust format\n\t  specifier.\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_prec, BigDecimal_coerce,\n\t  BigDecimal_divmod): use rb_assoc_new() to suppress memory usage.\n\n\t* ext/bigdecimal/bigdecimal.c (BigDecimal_split): ditto.\n\n\t* ext/dl/sym.c (rb_dlsym_guardcall): guard itself should be\n\t  volatile.\n\n\t* ext/iconv/iconv.c (iconv_convert): ensure actual parameter with\n\t  format specifier.\n\n\t* ext/pty/pty.c (MasterDevice, SlaveDevice, deviceNo): do not\n\t  define unless used.\n\n\t* ext/pty/pty.c (getDevice): get rid of warning.\n\n\t* ext/socket/socket.c (port_str, sock_s_getaddrinfo,\n\t  sock_s_getnameinfo): FIX2INT() now returns long.\n\n\t* ext/socket/socket.c (init_inetsock_internal): uninitialized\n\t  variable.\n\n\t* ext/syck/rubyext.c (syck_parser_assign_io): add prototype.\n\n\t* ext/syck/rubyext.c (rb_syck_mktime, yaml_org_handler): use\n\t  ISDIGIT() instead of isdigit() to avoid warnings and for\n\t  platforms which don't support non-ascii charater.\n\nWed Dec 10 19:28:56 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): set EOF flag at short read.\n\t  [ruby-dev:22223], [ruby-dev:22224]\n\nWed Dec 10 18:07:25 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/erb.rb: new method ERB#filename(=). [ruby-dev:22208]\n\nWed Dec 10 17:54:51 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): do not set EOF flag when\n\t  requested length is zero.  [ruby-dev:22214]\n\nWed Dec 10 17:17:18 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): should return given string even if data read is\n\t  empty.  [ruby-dev:22207]\n\nWed Dec 10 17:16:06 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): adjust behavior at reading\n\t  beyond EOF to IO.  [ruby-dev:22205]\n\n\t* test/ruby/ut_eof.rb (TestEOF::Seek): test behaviors at reading\n\t  beyond EOF.\n\n\t* test/ruby/test_file.rb, test/stringio/test_stringio.rb: include\n\t  TestEOF::Seek test case.\n\nWed Dec 10 15:01:19 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/monitor/test_monitor.rb (test_cond): use Queue#deq\n\t  instead of sleep.\n\nWed Dec 10 14:45:39 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/pty/pty.c (HAVE_SYS_IOCTL_H): need to include <sys/ioctl.h>\n\t  for TIOCSCTTY on *BSD.  based on gotoyuzo's patch.\n\t  (ruby-bugs:PR#1211)\n\n\t* ext/pty/pty.c (establishShell): should close descriptors if fork\n\t  failed.\n\nWed Dec 10 12:53:05 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* win32/win32.h: define execv() using do_aspawn().\n\n\t* process.c (proc_exec_v): remove #ifdef's which stopped needing.\n\nTue Dec  9 23:32:23 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tkcanvas.rb, ext/tk/lib/tkdialog.rb,\n\t  ext/tk/lib/tkentry.rb, ext/tk/lib/tkscrollbox.rb, ext/tk/lib/tktext.rb,\n\t  ext/tk/sample/tkalignbox.rb, ext/tk/sample/tkcombobox.rb,\n\t  ext/tk/sample/tkmultilistbox.rb, ext/tk/sample/tkoptdb.rb, ext/tk/sample/tktextframe.rb,\n\t  ext/tk/sample/demos-en/dialog1.rb, ext/tk/sample/demos-en/dialog2.rb,\n\t  ext/tk/sample/demos-jp/dialog1.rb, ext/tk/sample/demos-jp/dialog2.rb:\n\t  overrided instance methods, which are private methods on the super\n\t  class, are changed to 'private'\n\nTue Dec  9 19:53:02 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/generic.rb (URI::Generic#route_from0): make case insensitive\n\t  for host-part.\n\n\t* test/uri/test_generic.rb (test_route): added tests for the above\n\t  change.\n\nTue Dec  9 14:10:48 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* io.c (rb_io_check_readable): don't call io_seek if EOF flag is set,\n\t  to avoid clearing EOF flag.\n\t  (rb_io_check_writable): ditto.\n\nTue Dec  9 02:53:55 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkalignbox.rb: new sample script\n\nTue Dec  9 00:45:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: renamed #assert_raises to #assert_raise\n\t  and made the former call the latter. [ruby-core:01890]\n\n\t* test/testunit/test_assertions.rb: ditto.\n\nTue Dec  9 00:07:35 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/rpc/standaloneServer.rb: add 'shutdown' and 'status'\n\t  methods as delegates to WEBrick.\n\n\t* test/soap/calc/{test_calc.rb,test_calc2.rb},\n\t  test/soap/helloworld/test_helloworld.rb,\n\t  test/wsdl/datetime/test_datetime.rb, test/wsdl/raa/test_raa.rb:\n\t  follow the change.\n\nMon Dec  8 22:48:03 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/autorunner.rb: remove dependency to a particular\n\t  runner.  [ruby-core:01901], [ruby-list:38869]\n\n\t* lib/test/unit/ui/testrunnerutilities.rb: moved output level\n\t  constants from Console.\n\n\t* lib/test/unit/ui/console/testrunner.rb: ditto.\n\n\t* lib/test/unit/ui/{fox,gtk,gtk2,tk}/testrunner.rb (initialize):\n\t  accept output_level.\n\nMon Dec  8 15:03:30 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/syck/syck.c (syck_io_str_read): get rid of buffer overflow.\n\nMon Dec  8 13:02:11 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/uri/common.rb: new method URI.regexp. [ruby-dev:22121]\n\n\t* test/uri/test_common.rb: add test for URI.regexp.\n\nMon Dec  8 12:44:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c: define swap16 and swap32 only if they are not\n\t  defined. OpenBSD defines these macros. [ruby-dev:22181]\n\nSun Dec  7 20:54:17 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/iconv/iconv.c (map_charset): make case sensitive.\n\t  ext/iconv/charset_alias.rb (charset_alias): don't ignore\n\t  config.charset's information.  sort aliases.\n\nSat Dec  6 22:58:03 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_start_ssl): new function to wrap\n\t  SSL_connect and SSL_accept; if SSL_connect (or SSL_accept) returned\n\t  but not finished the handshake process, we should retry it.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_connect): call ossl_start_ssl.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_accept): ditto.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_read): allow signal traps.\n\nSat Dec  6 21:45:10 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* io.c (flush_before_seek): flush before seek on any platform.\n\n\t* configure.in: ditto.\n\nSat Dec  6 17:23:00 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/soap.rb(SOAP::Env.getenv): allow upcase environment variable\n\t  as well as downcase one.\n\n\t* lib/soap/netHttpClient.rb(SOAP::NetHttpClient#proxy=): check URI.\n\nFri Dec  5 23:22:30 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb (Test::Unit::Assertions::assert_raises,\n\t  Test::Unit::Assertions::assert_nothing_raised): use the last\n\t  argument as message unless class object.\n\n\t* test/testunit/test_assertions.rb (test_assert_raises): test for\n\t  multiple exception list.  [ruby-core:01891]\n\n\t* test/testunit/test_assertions.rb (test_assert_nothing_raised): test\n\t  for non-exception classes.\n\nFri Dec  5 22:23:04 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/netHttpClient.rb: proxy support did not work.  fixed.\n\n\t* lib/soap/property.rb: add class methods for loading property from\n\t  stream/file/propertyfile.  propertyfile is a file which is located at\n\t  somedir in $:.\n\n\t* lib/soap/soap.rb, lib/soap/wsdlDriver.rb, lib/soap/rpc/driver.rb,\n\t  lib/wsdl/importer.rb: load property from propertyfile 'soap/property'\n\t  e.g. /usr/local/lib/ruby/site_ruby/1.8/soap/property.\n\n\t* test/soap/test_property.rb, test/soap/test_streamhandler.rb: new file.\n\nFri Dec  5 17:26:23 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_exec_end_proc): maintain tmp_end_procs.\n\t  [ruby-dev:22154]\n\nFri Dec  5 13:36:59 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_exec_end_proc): should not clear end_procs and\n\t  ephemeral_end_procs before execution. [ruby-dev:22144]\n\n\t* eval.c (rb_obj_extend): call Module#extended hook after\n\t  extended_object.  [ruby-list:38866]\n\n\t* object.c (Init_Object): Module#extended defined.\n\nFri Dec  5 13:17:30 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* test/ruby/test_pipe.rb: use IO.pipe instead of IO.popen.\n\nFri Dec  5 11:54:45 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): follow IO#read.\n\n\t* test/ruby/ut_eof.rb, test/ruby/test_file.rb, test/ruby/test_pipe.rb,\n\t  test/stringio/test_stringio.rb: add EOF test.\n\nFri Dec  5 02:49:35 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb (Test::Unit::Assertions::assert_raises):\n\t  allow multiple exception list.  [ruby-core:01884]\n\n\t* lib/test/unit/assertions.rb (Test::Unit::Assertions::assert_nothing_raised):\n\t  check whether arguments are subclass of Exception.\n\nThu Dec  4 23:54:00 2003  Rick Ohnemus  <rick.ohnemus@systemware.com>\n\n\t* dln.c (aix_loaderror): should not use member named 'errno' which\n\t  might be a macro (e.g. on AIX).\n\nThu Dec  4 23:32:26 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): do not depend on lseek position.\n\t  [ruby-dev:22026]\n\nThu Dec  4 22:37:26 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): preserve $! value when retry happens in the\n\t  rescue clause.  [ruby-talk:86697]\n\nThu Dec  4 21:50:07 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/drb/drb.rb (DRb::DRbMessage::send_request, send_reply):\n\t  should rescue errors and re-raise DRbConnError on write too.\n\t  [ruby-dev:22132]\n\nThu Dec  4 16:41:17 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (exc_list): allow expanding list.  [ruby-dev:22134]\n\nThu Dec  4 14:09:24 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb (test_cp): test if the error is\n\t  kind of SystemCallError.  It is needless details that which errno\n\t  is set on each systems.\n\nThu Dec  4 13:24:13 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb: use Object#__send__ instead of Object#send.\n\nThu Dec  4 13:17:45 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/streamHandler.rb: support latest released version of\n\t  http-access2.\n\nThu Dec  4 13:04:44 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/soap.rb: add SOAP::Env module for environment repository\n\t  such as HTTP_PROXY.\n\n\t* lib/soap/property.rb: property implementation.\n\n\t* lib/soap/streamHandler.rb, lib/soap/wsdlDriver.rb,\n\t  lib/soap/rpc/driver.rb: use soap/property.rb.\n\n\t* lib/wsdl/importer.rb, lib/soap/wsdlDriver.rb, lib/soap/rpc/driver.rb:\n\t  use SOAP::Env.\n\n\t* lib/soap/netHttpClient.rb: add basic_auth, ssl_config, and cookie\n\t  management interface, but ignored for now.\n\n\t* lib/xsd/charset.rb: add XSD::Charset.encoding= interface to set\n\t  wiredump charset explicitly.  it was fixed to 'utf-8' when iconv or\n\t  uconv module was found.\n\nThu Dec  4 10:43:58 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/dl/sym.c (rb_dlsym_guardcall): __declspec(noinline) is VC7\n\t  feature.\n\nThu Dec  4 10:27:12 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: update hyperlink to the Japanese document.\n\nThu Dec  4 09:12:43 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (asn1time_to_time): should check that\n\t  the underlying value of ASN1_TIME isn't NULL. [ruby-core:01881]\n\nThu Dec  4 08:29:43 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (GenericServer#start): should rescue\n\t  Exception to avoid unexpected aborting. [ruby-core:01853]\n\n\t* lib/webrick/server.rb (GenericServer#start_thread): should check\n\t  that peeraddr isn't nil before printing.\n\n\t* lib/webrick/httpresponse.rb (HTTPResponse#start_thread): should\n\t  rescue Exception to avoid unexpected aborting of thread.\n\nThu Dec  4 03:48:59 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#link, Pathname#symlink): obsoleted.\n\t  (Pathname#make_link, Pathname#make_symlink): new method.\n\nThu Dec  4 01:45:24 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (argf_read): should not terminate on empty string; wait\n\t  until real EOF.  [ruby-dev:21969]\n\n\t* io.c (argf_read): should adjust length to read, when length is\n\t  specified and read spans command line argument files.\n\nWed Dec  3 19:38:36 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: correct fcntl parameter. [ruby-dev:22120]\n\nWed Dec  3 13:49:07 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: 'format'==>'Kernel.format' (avoid override trouble)\n\n\t* ext/tk/lib/tkafter.rb: ditto.\n\n\t* ext/tk/lib/tkcanvas.rb: ditto.\n\n\t* ext/tk/lib/tkdialog.rb: ditto.\n\n\t* ext/tk/lib/tktext.rb: ditto.\n\nWed Dec  3 13:28:13 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in (lex.c): try gperf first, and copy from the source\n\t  directory if failed.  [ruby-dev:22123]\n\n\t* ext/extmk.rb (MTIMES): let makefiles depend to mkmf.rb.\n\n\t* lib/mkmf.rb (configuration): DLDFLAGS was duplicated.\n\nTue Dec  2 23:18:12 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: wrote the warning about HTTP_PROXY environment\n\t  variable.\n\nTue Dec  2 21:31:42 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* bin/testrb: new test runner.  [ruby-core:01845]\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner.run,\n\t  Test::Unit::AutoRunner#process_args): take test list to run and\n\t  options.\n\n\t* lib/test/unit/autorunner.rb (Test::Unit::AutoRunner::RUNNERS,\n\t  Test::Unit::AutoRunner#run): should not exit inside a library,\n\t  just return the result instead.\n\n\t* lib/test/unit.rb: ditto.\n\n\t* test/runner.rb: exit with the test result.\n\nTue Dec  2 20:18:48 2003  Eric Sunshine  <sunshine@sunshineco.com>\n\n\t* configure.in (AC_PROG_YACC): AC_DEFINE(OLD_YACC) if Yacc is found\n\t  instead of Bison or byacc.\n\n\t* parse.y: If OLD_YACC is defined, ensure that YYMAXDEPTH is at least\n\t  10000 (Bison's default) since some old versions of Yacc define it as\n\t  low as 150 by default, which is too low for Ruby to parse some files,\n\t  such as date/format.rb.  Among other issues, the parse problem causes\n\t  \"make test\" to fail.\n\nTue Dec  2 20:03:20 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: check if Pathnames are usable\n\t  for arguments.\n\nTue Dec  2 04:22:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: fixed #assert_no_match message.\n\n\t* test/testunit/test_assertions.rb: ditto.\n\nTue Dec  2 00:43:00 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/syck.c: string buffering bug.  decrementing by full\n\t  max_size now. [ruby-core:01834]\n\nMon Dec  1 21:33:08 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* numeric.c (num_sadded): prohibit singleton method definition for\n\t  Numerics.  fill yet another gap between Fixnum and Bignum.\n\nMon Dec  1 17:33:47 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (htov16): converts endian using swap16. htov32(), hton16,\n\t  hton32 as well. [ruby-talk:85377]\n\n\t* pack.c (swap16): swap 2 bytes no matter how big short is on the\n\t  platform.  swap32() is also prepared.\n\n\t* numeric.c (rb_num2int): returns long to preserve information.\n\t  rb_fix2int(), rb_num2uint(), rb_fix2uint() as well.\n\t  [ruby-talk:85377]\n\n\t* numeric.c (rb_num2uint): should not check for value range if the\n\t  source value is negative.\n\nMon Dec  1 17:14:34 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* sample/optparse/opttest.rb: added.\n\nMon Dec  1 16:10:52 2003  Dave Thomas  <dave@pragprog.com>\n\n\t* lib/rdoc/rdoc.rb: (etc) initial merge into main tree.\n\nMon Dec  1 14:17:49 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_each_src_dest0): call #to_str to allow\n\t  Pathname for arguments. [ruby-core:01795]\n\n\t* test/fileutils/test_fileutils.rb: does much strict test on\n\t  \"same\" files detecting.\n\nMon Dec  1 09:28:14 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub\n\t  (XCFLAGS): re-export $(XCFLAGS).\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub\n\t  (ARCH_FLAG): export $(ARCH_FLAG) (perhaps empty value).\n\nMon Dec  1 01:03:27 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/mkmf.rb (TRY_LINK, link_command): added support for DLDFLAGS\n\t  and ARCH_FLAG.  [ruby-dev:22085]\n\nSun Nov 30 20:18:07 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: keep ARCH_FLAG separate. export ARCH_FLAG.\n\t  [ruby-core:01819]\n\n\t* Makefile.in: add ARCH_FLAG to CFLAGS.\n\n\t* Makefile.in: add @CPPFLAGS@ to CPPFLAGS.\n\n\t* lib/mkmf.rb (link_command, cc_command): use ARCH_FLAG.\n\n\t* lib/mkmf.rb (configuration): add ARCH_FLAG to DLDFLAGS.\n\n\t* Makefile.in: add ARCH_FLAG to DLDFLAGS.\n\n\t* configure.in: should put getcwd in AC_CHECK_FUNCS, not\n\t  AC_REPLACE_FUNCS.  [ruby-core:01826]\n\nSun Nov 30 18:22:48 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: do not override CCDLDFLAGS, LDFLAGS, XLDFLAGS,\n\t  DLDFLAGS and LDSHARED.\n\n\t* configure.in: XCFLAGS for compiling ruby itself.  ARCH_FLAG is\n\t  reflected in CFLAGS.\n\n\t* lib/mkmf.rb: ditto.  do not import XCFLAGS from config.status.\n\nSun Nov 30 17:37:36 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: bug fix [ruby-talk:86746]\n\nSun Nov 30 13:02:00 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/encodingstyle/soapHandler.rb: refactoring - Simplifying\n\t  Conditional Expressions.\n\n\t* lib/wsdl/soap/definitions.rb: refactoring - Move Method.\n\n\t* test/xsd/{test_noencoding.rb,noencoding.xml}: new files.  test for\n\t  encoding unspecified XML file parsing.\n\n\t* test/wsdl/{test_fault.rb,map,datetime}: new files.  test of\n\t  SOAPFault, dateTime and Apache's Map.\n\nSun Nov 30 09:35:14 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* string.c (rb_str_update): get rid of SEGV at just allocated String.\n\t  [ruby-core:01812]\n\nFri Nov 28 23:19:34 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_mark): explicitly check mark recursion levels, instead\n\t  of unreliable stack length.\n\nFri Nov 28 22:49:56 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/rinda/rinda.rb: fix TupleSpaceProxy#read, read_all.\n\nFri Nov 28 21:44:40 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/fileutils/test_fileutils.rb (test_ln_s): should be a file, not\n\t  a directory for FreeBSD.\n\nFri Nov 28 19:37:56 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* hash.c (env_has_value, env_index): must match exactly.\n\n\t* test/ruby/test_env.rb (test_has_value, test_index): condition for\n\t  aboves.\n\nFri Nov 28 17:59:20 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_env.rb: add tests for ENV.\n\nFri Nov 28 17:47:46 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb (DRbMessage#load): rescue Errno::* and raise\n\t  DRbConnError.\n\nFri Nov 28 15:41:15 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#realpath): obsolete the force_absolute\n\t  argument.\n\nFri Nov 28 14:41:52 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/streamHandler.rb: drop unused http parameters.\n\n\t* lib/soap/encodingstyle/soapHandler.rb, lib/soap/mapping/factory.rb,\n\t  lib/soap/mapping/mapping.rb, lib/soap/mapping/registry.rb,\n\t  lib/wsdl/soap/complexType.rb: ApacheSOAP's map support was broken\n\t  under WSDL dynanic client environment.  fixed.\n\n\t* test/wsdl/raa/*: add tests.\n\n\t* lib/xsd/datatypes.rb: dateTime precision bug fix (at least, I hope.)\n\t  bug of soap4r.  XSDDateTimeImple.to_time passed a Float to\n\t  Time.local/Time.gm as an usec, and NUM2LONG(rb_num2long for Float)\n\t  causes rounding error.\n\n\t* test/soap/test_basetype.rb, test/xsd/test_xsd.rb: add tests.\n\nFri Nov 28 04:15:24 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (method_arity): used wrong Proc object.  [ruby-talk:86504]\n\nFri Nov 28 00:47:29 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_f_exit), process.c (rb_f_exit_bang): treat true as\n\t  success, false as failure.  [ruby-dev:22067]\n\n\t* eval.c (rb_f_abort, rb_thread_switch), process.c (rb_f_system): use\n\t  ANSI macro instead of hard coded value.\n\n\t* eval.c (rb_f_exit), process.c (rb_f_exit_bang): use VALUEs not but\n\t  TYPEs.\n\nThu Nov 27 22:05:48 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* eval.c, gc.c: FreeBSD/ia64 currently does not have a way for a\n\t  process to get the base address for the RSE backing store, so\n\t  hardcode it for the moment.\n\t  [submitted by: Marcel Moolenaar <marcel@FreeBSD.org>]\n\nThu Nov 27 17:36:42 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkafter.rb: bug fix on TkTimer#cancel_on_exception=(mode).\n\t  TkTimer#wait recieves the exception of the callback.\n\t  The exception is kept on @return_value.\n\nThu Nov 27 16:58:48 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* win32/win32.c (rb_w32_stat): remove _fullpath() for NUL: device.\n\nWed Nov 26 15:38:47 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/fileutils/test_fileutils.rb (test_ln_s): should take the\n\t  existing symbolic link for OpenBSD.\n\nWed Nov 26 04:48:42 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/token.c: removed YYTOKTMP references which\n\t  were causing buffer overflows on large block scalars,\n\t  comments, quoted scalars and plain scalars.\n\n\t* ext/syck/rubyext.c: dynamic changing of buffer size.\n\n\t* ext/syck/syck.h: default buffer size of 4k.\n\nWed Nov 26 00:55:30 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpresponse.rb: add HTTPResponse#keep_alive=.\n\n\t* lib/webrick/httpserver.rb (HTTPServer#run): should pass the\n\t  request's keep_alive flag to the response.\n\nTue Nov 25 21:41:35 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* defines.h (ENV_IGNORECASE): should define when DOSISH without\n\t  human68k. [ruby-dev:22047]\n\n\t* hash.c (env_has_value, env_index): don't ignore case of value.\n\t  [ruby-dev:22048]\n\nTue Nov 25 21:39:37 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (path_check_1): honor sticky bits always.\n\t  [ruby-talk:86273]\n\nTue Nov 25 20:02:14 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: do test in more deep\n\t  directory.\n\n\t* test/fileutils/test_nowrite.rb: ditto.\n\nTue Nov 25 19:04:23 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): ENV case sensitivity test\n\t  refined.\n\nTue Nov 25 18:13:30 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: chdir Dir.tmpdir before each\n\t  test. [ruby-dev:22045]\n\n\t* test/fileutils/test_nowrite.rb: ditto.\n\nTue Nov 25 17:52:11 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): use http_proxy under CGI\n\t  if the environment variable is case sensitive.\n\nTue Nov 25 16:41:33 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/wsdl/multiplefault.wsdl, test/wsdl/test_multiplefault.rb:\n\t  removed.  this test requires extra libraries in soap4r/1.5.*.\n\nTue Nov 25 16:24:42 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/**/*.rb, lib/wsdl/**/*.rb, lib/xsd/**/*.rb: changed license;\n\t  GPL2 -> Ruby's.\n\n\t* lib/soap/rpc/driver.rb, lib/soap/wsdlDriver.rb,\n\t  lib/soap/streamHandler.rb: add interface to streamhandler.\n\n\t* lib/soap/marshal.rb: raise error if parse fails.\n\n\t* lib/soap/netHttpClient.rb: add https support.  Patched by\n\t  Oliver M. Bolzer.\n\n\t* lib/soap/netHttpClient.rb: dump HTTP response message body by itself.\n\n\t* lib/soap/rpc/driver.rb, lib/soap/rpc/proxy.rb,\n\t  lib/soap/wsdlDriver.rb: add driver#mandatorycharset interface to foce\n\t  using charset for parsing response from buggy server.\n\n\t* lib/soap/encodingstyle/soapHandler.rb: support Apache Axis's half\n\t  typed multi-ref array.\n\n\t* lib/soap/mapping/factory.rb, lib/soap/mapping/registry.rb: map\n\t  SOAPStruct which has multi-accessors which name are the same, to an\n\t  array.\n\n\t* lib/soap/rpc/element.rb: fixed illegal parameter order.\n\n\t* lib/soap/rpc/element.rb: element name of response message could have\n\t  the name other than 'return'.\n\n\t* lib/wsdl/operation.rb, lib/wsdl/operationBinding.rb,\n\t  lib/wsdl/soap/classDefCreator.rb, lib/wsdl/soap/methodDefCreator.rb,\n\t  lib/wsdl/soap/methodDefCreatorSupport.rb: WSDL/1.1 allows plural\n\t  fault definition in a operation. [ruby-talk:84948]\n\n\t* test/wsdl/multiplefault.wsdl, test/wsdl/test_multiplefault.rb: add\n\t  test for above fix.\n\n\t* lib/wsdl/soap/complexType.rb: support WSDL array definition with\n\t  maxOccures=\"unbound\".\n\n\t* lib/xsd/charset.rb: use cp932 under emx.  Patched by\n\t  Siena. / SHINAGAWA, Norihide in [ruby-dev:21972]\n\n\t* lib/xsd/xmlparser/parser.rb: set @charset nil by default.  Nil means\n\t  'follow encoding declaration in XML'.\n\n\t* sample/soap/digraph.rb, sample/wsdl/amazon/wsdlDriver.rb,\n\t  sample/wsdl/googleSearch/sampleClient.rb,\n\t  sample/wsdl/googleSearch/wsdlDriver.rb,\n\t  test/wsdl/test_emptycomplextype.rb,\n\t  test/wsdl/marshal/test_wsdlmarshal.rb,\n\t  test/xsd/test_xmlschemaparser.rb: use File.open(...) { |f| f.read }\n\t  instead of File.open(...).read. [ruby-dev:21964]\n\n\t* test/wsdl/emptycomplextype.wsdl, test/wsdl/test_emptycomplextype.rb:\n\t  simplify the test case.\n\n\t* test/wsdl/axisArray/*: add tests for axis's array encoding.\n\nTue Nov 25 16:15:29 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ruby.h: don't treat Cygwin as Windows.\n\nTue Nov 25 15:18:28 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in: change default value of --enable-pthread (default: no)\n\nTue Nov 25 07:31:16 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (primary): allow newlines just before right argument\n\t  parenthesis.  (ruby-bugs:PR#1221)\n\nMon Nov 24 23:32:06 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_loop, URI::HTTP#proxy_open): use\n\t  catch/throw for redirection instead of exception.\n\t  (OpenURI.open_loop, OpenURI.redirectable?): restrict redirection.\n\nMon Nov 24 19:59:48 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): use CGI_HTTP_PROXY\n\t  instead of HTTP_PROXY in the CGI environment.\n\nMon Nov 24 19:32:55 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/etc/extconf.rb: check for pw_passwd in struct passwd and\n\t  gr_passwd in struct group for DJGPP.\n\n\t* ext/etc/etc.c: ditto.\n\n\t* ext/Setup.dj: support for curses, etc, zlib.\n\nMon Nov 24 17:00:00 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb: validate option names.\n\t  :content_length_proc and :progress_proc option implemented.\n\nMon Nov 24 14:53:10 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub\n\t  (XCFLAGS): output empty value instead of `-DRUBY_EXPORT'.\n\nSat Nov 22 23:09:45 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: set enable_pthread to no on MinGW.\n\nSat Nov 22 22:56:20 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in: add --enable-pthread option (default: yes)\n\nSat Nov 22 22:48:46 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: add Tk.grab_release and fix bug of TkComposite\n\n\t* ext/tk/lib/tkafter.rb: bug fix of TkAfter#start\n\n\t* ext/tk/sample/tkcombobox.rb: new sample script\n\n\t* ext/tcltklib/tcltklib.c: add native thread check\n\nSat Nov 22 18:49:47 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/curses/curses.c (window_nodelay): nodelay() of NetBSD's\n\t  libcruses returns no value, just like keypad().\n\nSat Nov 22 17:36:36 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub\n\t  (HAVE_GETCWD): output to config.h.\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub\n\t  (XCFLAGS): output to config.status.\n\nSat Nov 22 13:10:10 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (have_st_ino?): djgpp has valid st_ino.\n\nSat Nov 22 11:28:48 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (Init_stack): stack region is far smaller than usual if\n\t  pthread is used.\n\nSat Nov 22 07:30:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/util/backtracefilter.rb: fixed a bug that occurred\n\t  when an exception had no backtrace.\n\n\t* test/testunit/util/test_backtracefilter.rb: ditto.\n\nFri Nov 21 16:44:18 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tkentry.rb: fix the encoding trouble of percent\n\t  substitutions on validatecommand option of TkEntry widget\n\n\t* ext/tk/lib/tk.rb: fix bug on {pack|grid}_propagate() method\n\nFri Nov 21 16:12:11 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ruby.1: Fix markups and grammar.\n\nFri Nov 21 14:49:42 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* ruby.1: wrote about ruby related environment variables.\n\nFri Nov 21 12:28:03 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_extended): singleton methods should not be checked\n\t  when dumping via marshal_dump() or _dump(). [ruby-talk:85909]\n\nFri Nov 21 01:40:00 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in: check <pthread.h>\n\n\t* ruby.h: include pthread.h if existence.\n\t  define is_ruby_native() macro when not HAVE_NATIVETHREAD\n\n\t* eval.c: undef is_ruby_native() function when not HAVE_NATIVETHREAD\n\nFri Nov 21 00:43:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: use #__send__ instead of #send.\n\n\t* lib/test/unit/testcase.rb: ditto.\n\nThu Nov 20 19:19:22 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in: don't find the Cygwin's pthread library on MinGW.\n\nThu Nov 20 19:15:50 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (have_st_ino?): emx (OS/2 with EMX) does not\n\t  have st_ino (always 0). [ruby-dev:21972]\n\n\t* lib/fileutils.rb (rename_cannot_overwrite_file?): emx does not\n\t  allow overwriting files by rename(2).\n\n\t* test/fileutils/test_fileutils.rb: windows? ->\n\t  have_drive_letter?, have_file_perm?\n\nThu Nov 20 17:50:58 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/tkballoonhelp.rb: new sample script\n\n\t* ext/tk/sample/tkmultilistbox.rb: ditto\n\n\t* ext/tk/sample/tktextframe.rb: ditto\n\nThu Nov 20 13:37:34 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ruby.h: define is_ruby_native_thread() for no native thread\n\t  environment\n\n\t* eval.c: ditto\n\nThu Nov 20 12:42:47 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in: always check existence of the pthread library\n\n\t* ruby.h: define macros for ruby's native thread check\n\n\t* eval.c: add ruby's native thread check\n\n\t* gc.c: ditto\n\nWed Nov 19 14:45:18 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (to_ary): print more friendly warning message.\n\nWed Nov 19 14:32:08 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_same?): add djgpp and wince.\n\n\t* lib/fileutils.rb (cannot_overwrite_file?): add wince.\n\nWed Nov 19 11:04:47 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/fileutils.rb (cannot_overwrite_file?, have_st_ino?): bccwin32\n\t  is same as mswin32.\n\nWed Nov 19 07:54:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit.rb: do not run tests if $! is set.\n\n\t* lib/test/unit/assertionfailederror.rb: extend StandardError instead\n\t  Exception (irb catches the former but not the latter).\n\nTue Nov 18 23:31:36 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* missing/memmove.c (memmove): take void *, not char *.\n\n\t* missing.h (memmove): ditto.\n\n\t* missing.h (strchr, strrchr): return char *, not int.\n\nTue Nov 18 22:20:10 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_same?): temporal fix for windows.\n\nTue Nov 18 19:05:04 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_same?): check by inode instead of path\n\t  name, to detect two hard links pointing to the same content.\n\n\t* test/fileutils.rb: did not create correctly looped symlinks.\n\nTue Nov 18 18:23:05 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_read): behave as IO at empty string.\n\t  [ruby-dev:21939], [ruby-dev:21941]\n\n\t* ext/stringio/stringio.c (strio_getc, strio_getline): set EOF flag.\n\n\t* ext/stringio/stringio.c (strio_rewind, strio_seek, strio_ungetc):\n\t  clear EOF flag.\n\n\t* test/stringio/test_stringio.rb: imported from [ruby-dev:21941].\n\nTue Nov 18 14:06:35 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/fileutils.rb (fu_each_src_dest): raise if src==dest.\n\t  [ruby-talk:85344] [ruby-core:01699]\n\n\t* lib/fileutils.rb: use Object#is_a? instead of Class#=== to allow\n\t  e.g. remote objects for receivers.\n\n\t* lib/fileutils.rb: FileTest -> File.\n\n\t* lib/fileutils.rb: put parentheses for arguments of File.xxxx?\n\n\t* test/fileutils/test_fileutils.rb (test_cp): test \"cp a a\".\n\n\t* test/fileutils/test_fileutils.rb (test_mv): test \"mv a a\".\n\n\t* test/fileutils/test_fileutils.rb (test_ln): test \"ln a a\".\n\n\t* test/fileutils/test_fileutils.rb (test_ln_s): test \"ln_s a a\".\n\n\t* test/fileutils/test_fileutils.rb (test_install): test \"install a a\".\n\n\t* test/fileutils/fileasserts.rb: new method assert_symlink.\n\n\t* test/fileutils/fileasserts.rb: assert_is_directory -> assert_directory.\n\nMon Nov 17 19:38:49 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (getcwdofdrv): avoid using getcwd() directly, use\n\t  my_getcwd() instead.\n\n\t* merged NeXT, OpenStep, Rhapsody ports patch from Eric Sunshine\n\t  <sunshine@sunshineco.com>.  [ruby-core:01596]\n\nMon Nov 17 10:50:27 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Completion::complete): allow least\n\t  common completion for three or more candidates.\n\nMon Nov 17 09:41:38 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/ui/tk/testrunner.rb,\n\t  lib/test/unit/ui/gtk/testrunner.rb:\n\t  run GUI main loop in sub thread.\n\n\t* lib/test/unit/ui/gtk2/testrunner.rb: imported from rough.\n\n\t* lib/test/unit/autorunner.rb (keyword_display): sort keywords.\n\nSun Nov 16 18:10:57 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): iterator should return value from next inside\n\t  begin/rescue/end.  (ruby-bugs:PR#1218)\n\nSun Nov 16 13:26:07 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): LINK check earlier than anything else,\n\t  i.e. do not dump TYPE_IVAR for already dumped objects.\n\t  (ruby-bugs:PR#1220)\n\n\t* eval.c (rb_eval): call \"inherited\" only when a new class is\n\t  generated; not on reopening.\n\n\t* eval.c (eval): prepend error position in evaluating string to\n\t  \"mesg\" attribute string only when it's available and is a\n\t  string.\n\nSun Nov 16 12:16:10 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/protocol.rb: logging response body. [experimental]\n\t  [ruby-list:38800]\n\nSun Nov 16 10:49:38 2003  Gavin Sinclair  <gsinclair@soyabean.com.au>\n\n\t* lib/thread.rb (Thread.exclusive): wrap method definition in\n\t  class Thread to enable rdoc to process.\n\nSun Nov 16 09:45:23 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (set_debug_output): warn if method is called\n\t  after #start.  [ruby-dev:38798]\n\nSun Nov 16 04:41:33 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (eval): do not re-raise exception to avoid unnecessary\n\t  exception copying, instead modify exception and internal\n\t  information to adjust eval().\n\n\t* eval.c (backtrace): can return the current frame information\n\t  only if lev < -1.\n\nSat Nov 15 22:16:42 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* /ext/openssl/ossl_x509ext.c (ossl_x509extfactory_create_ext):\n\t  refine error message.\n\nSat Nov 15 10:05:40 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_loop, OpenURI::HTTP#proxy_open):\n\t  refactored to support options.\n\t  (Buffer): maintain size by this class.\n\nSat Nov 15 07:40:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_method_node): new API to retrieve method body.\n\nFri Nov 14 13:21:30 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: fix (en-bugged at 2003/11/07)\n\n\t* ext/tk/lib/tkdialog.rb: TkDialog.new accepts a parent widget\n\t  argument [ruby-talk:85066]\n\nThu Nov 13 20:53:35 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (Kernel[#.]open): hard coded URI schemes removed.\n\t  [ruby-ext:02251]\n\nThu Nov 13 19:17:00 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* lib/test/unit/ui/tk/testrunner.rb: use grid and panedwindow\n\t  (if available)\n\nThu Nov 13 17:56:41 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/open-uri.rb (OpenURI.open_uri): use File::RDONLY.\n\t  reported by Take_tk <ggb03124@nifty.ne.jp>.\n\t  [ruby-ext:02245]\n\nThu Nov 13 16:45:53 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509req.c (ossl_x509req_to_der): add function for\n\t  X509::Request#to_der.\n\nThu Nov 13 11:31:14 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Completion#complete): prior shorter\n\t  name to containing longer name.\n\nThu Nov 13 06:08:54 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: stop freezing some classes\n\n\t* ext/tk/lib/multi-tk.rb: ditto.\n\nWed Nov 12 17:32:49 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb (assert_throws, assert_nothing_thrown):\n\t  uncaught throw in sub thread raises ThreadError.\n\n\t* lib/test/unit/ui/tk/testrunner.rb (setup_ui): \"expand\" is not\n\t  necessary.\n\nWed Nov 12 14:09:43 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/monitor/test_monitor.rb: fix the timing problem by Queue.\n\nWed Nov 12 12:59:44 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* test/monitor/test_monitor.rb: added.\n\nWed Nov 12 10:14:28 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb: refactored. Thanks, Gennady Bystritsky.\n\nWed Nov 12 06:11:39 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.c (ossl_x509_sk2ary, ossl_x509crl_sk2ary):\n\t  add functions to convert STACK into Array.\n\n\t* ext/openssl/ossl.h: add prototypes.\n\n\t* ext/openssl/ossl_pkcs7.c (ossl_pkcs7_set_certificates,\n\t  ossl_pkcs7_get_certificates, ossl_pkcs7_get_crls,\n\t  ossl_pkcs7_set_crls): add functions for PKCS7#certificates=\n\t  PKCS7#certificates, PKCS7#crls= and PKCS7#crls.\n\nWed Nov 12 00:47:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/ui/testrunnermediator.rb: should require 'test/unit'.\n\nTue Nov 11 23:54:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/ui/gtk/testrunner.rb: added a rescue clause to handle\n\t  the case when the requested font is not available.\n\nTue Nov 11 22:44:08 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (appendline): file may not end with newline.  a bug if\n\t  READ_DATA_PENDING_PTR is defined. [ruby-talk:84925]\n\nTue Nov 11 10:42:41 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: raise an exception when creating TkWindow\n\t  object, because TkWindow class is an abstract class.\n\nTue Nov 11 03:30:43 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/ext/openssl/ossl_conf.c (ossl_config_get_value): return nil\n\t  if the specified value doesn't exist.\n\n\t* lib/ext/openssl/ossl_conf.c (ossl_config_get_section): return\n\t  a empty hash if the specified section doesn't exist.\n\nMon Nov 10 11:40:29 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb (wait): return true on signal/broadcastfalse and\n\t  false on timeout. Thanks Gennady Bystritsky.\n\nMon Nov 10 00:07:10 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (primary): primary_value may be 0 when syntax error.\n\t  [ruby-talk:84893]\n\nSun Nov  9 02:05:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: un-deprecated #assert_not_nil to\n\t  maintain symmetry with #assert_nil. Also added better output for\n\t  #assert_kind_of.\n\n\t* test/testunit/tc_assertions.rb: ditto.\n\nSat Nov  8 18:50:20 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/wsdl/raa/*: add new testcase for WSDL loading, parsing and\n\t  reading.\n\n\t* test/soap/marshal/*: backport from soap4r/1.5.1.  all differences are\n\t  for ruby/1.6.\n\n\t* lib/soap/*: backport from soap4r/1.5.1.  all differences are for\n\t  ruby/1.6.\n\n\t* lib/wsdl/data.rb, lib/wsdl/xmlSchema/data.rb: move definition of\n\t  ArrayTypeAttrName from ::WSDL::XMLSchema::* to ::WSDL::*.\n\t  [ruby-talk:84813]\n\n\t* lib/wsdl/soap/definitions.rb: element name typo in custom exception\n\t  struct definition which is needed for wsdlDriver; camelCase ->\n\t  underscore_name.\n\nSat Nov  8 13:49:50 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in: improvement of pthread check\n\nSat Nov  8 13:28:46 2003  Takaaki Tateishi  <ttate@ttsky.net>\n\n\t* ext/dl/sym.c: Add DL.win32_last_error and DL.last_error.\n\t  Thanks, Kaoru Shirai.\n\nSat Nov  8 06:19:38 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: To fix 'pthread-enabled Tcl/Tk' problem,\n\t  TclTkIp#_eval calls Tcl_Eval() on the mainloop thread only\n\t  (queueing a handler to the EventQueue).\n\n\t* ext/tcltklib/README.1st: edit the description of '--with-pthread-ext'\n\nFri Nov  7 23:23:04 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (Pathname#+): if self or the argument is `.', return\n\t  another.\n\t  (Pathname#parent): if self is `.', return `..'.\n\t  (Pathname#children): if self is `.', don't prepend self for a\n\t  pathname in a result.\n\t  (Pathname#join): re-implemented using Pathname#+.\n\t  (Pathname#find): if self is `.', remove `./' prefix of yielding\n\t  pathname.\n\nFri Nov  7 10:23:24 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (make_hostent): get rid of SEGV on aliases\n\t  lookup failure.  (ruby-bugs:PR#1215)\n\nFri Nov  7 04:08:05 2003  UENO Katsuhiro  <katsu@blue.sky.or.jp>\n\n\t* ext/zlib/zlib.c (Init_zlib): define Zlib::GzipReader#each_line as\n\t  an alias of Zlib::GzipReader#each.\n\nFri Nov  7 01:03:16 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_load): save and restore rb_prohibit_interrupt.\n\t  [ruby-dev:21857]\n\nThu Nov  6 18:05:07 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* io.c (rb_io_inspect): show the path also at a closed file.\n\t  [ruby-dev:21851]\n\nThu Nov  6 11:42:07 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/stringio/stringio.c (strio_set_string, strio_reopen): check\n\t  tainted.\n\n\t* ext/stringio/stringio.c (strio_copy, strio_ungetc, strio_write,\n\t  strio_putc): add infection.\n\n\t* ext/stringio/stringio.c (strio_path): just nil.  [ruby-dev:21846]\n\n\t* ruby.c (proc_options): reserve searched script path in the\n\t  source file name table.  [ruby-list:38765]\n\n\t* lib/optparse.rb (OptionParser::Completion#complete): default not to\n\t  ignore case on completion.  [ruby-talk:84726]\n\n\t* win32/win32.c (make_cmdvector): process backslashes even if a quote\n\t  is not enclosed.\n\nWed Nov  5 23:49:45 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* sample/openssl/gen_csr.rb: there (at least) is a CA which does not\n\t  accept DN in UTF8STRING format.  it's a sample.\n\nWed Nov  5 22:55:16 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* configure.in, eval.c, signal.c: : add '--with-pthread-ext'\n\t  option to fix the pthread trouble on 'tcltklib'\n\n\t* ext/tcltklib/README.1st: add the description of '--with-pthread-ext'\n\n\t* ext/tk/lib/tktext.rb: add TkText#text_copy, text_cut, text_paste\n\t  to support Tcl/Tk8.4's tk_textCopy, tk_textCut, tk_textPaste\n\n\t* ext/tk/lib/tk.rb: add TkMenu#set_focus support Tcl/Tk's\n\t  tk_menuSetFocus\n\nWed Nov  5 17:33:45 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_load): allow interrupt during loaded program\n\t  evaluation.  [ruby-dev:21834]\n\n\t* hash.c (rb_hash_fetch): always warn if default argument and a\n\t  block are supplied at the same time. [ruby-dev:21842]\n\n\t* hash.c (env_fetch): ditto.\n\n\t* array.c (rb_ary_fetch): ditto.\n\nWed Nov  5 19:08:47 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (OptionParser::Switch::PlacedArgument::parse):\n\t  do not remove next argument if empty value is placed.\n\n\t* test/optparse: added.\n\nWed Nov  5 17:05:18 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/ui/gtk/testrunner.rb: typo.\n\nWed Nov  5 11:13:32 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* string.c: add #include \"version.h\". this file still depends on it.\n\n\t* Makefile.in, bcc32/Makefile.sub, win32/Makefile.sub,\n\t  wince/Makefile.sub: add version.h dependency to string.c.\n\nWed Nov  5 09:14:23 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb: revert to the previous revision.\n\nWed Nov  5 08:39:51 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/https.rb (HTTPRequest#parse): set @client_cert_chain.\n\n\t* lib/webrick/https.rb (HTTPRequest#meta_vars): create\n\t  SSL_CLIENT_CERT_CHAIN_n from @client_cert_chain.\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_get_peer_cert_chain): return nil\n\t  if no cert-chain was given.\n\nTue Nov  4 23:44:48 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, wince/Makefile.sub:\n\t  remove needless version.h dependency.\n\nTue Nov  4 23:38:43 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* class.c, hash.c, string.c: remove #include \"version.h\".\n\n\t* Makefile.in: remove needless version.h dependency.\n\nTue Nov  4 06:54:52 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (read_all): fptr->f may be NULL, if IO is closed in the\n\t  signal handler.\n\n\t* io.c (io_read): ditto.\n\n\t* string.c (get_pat): remove 1.8.0 warning code.\n\n\t* string.c (rb_str_match): extend warning until 1.8.2.\n\n\t* string.c (rb_str_match2): ditto.\n\n\t* class.c (class_instance_method_list): remove 1.8.0 warnings.\n\t  method_list now recurs.  [ruby-dev:21816]\n\n\t* class.c (rb_obj_singleton_methods): ditto.\n\n\t* array.c (rb_ary_select): remove select with block.\n\t  [ruby-dev:21824]\n\n\t* hash.c (rb_hash_select): ditto.\n\n\t* hash.c (env_select): ditto.\n\n\t* re.c (match_select): ditto.\n\n\t* struct.c (rb_struct_select): ditto.\n\nMon Nov  3 22:53:21 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/racc/parser.rb: synchronize with Racc 1.4.4.\n\n\t* ext/racc/cparse/cparse.c: ditto.\n\n\t* ext/racc/cparse/cparse.c (parse_main): should abort when\n\t  the length of LR state stack <=1, not ==0.\n\nMon Nov  3 08:50:47 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* process.c (check_uid_switch): remove duplicated error messages.\n\n\t* process.c (check_gid_switch): ditto.\n\nSun Nov  2 02:28:33 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/ssl.rb: new option :SSLExtraChainCert.\n\nSun Nov  2 01:02:04 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* string.c (rb_str_hash): Update the HASH_PERL alternative hash\n\t  algorithm in sync with Perl 5.8.\n\n\t* st.c (strhash): Ditto.\n\nSat Nov  1 18:21:09 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c (ossl_ssl_peer_cert_chain): add new method\n\t  SSLSocket#peer_cert_chain.\n\n\t* ext/openssl/ossl_x509req.c (GetX509ReqPtr): new function\n\t  which returns underlying X509_REQ.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509extfactory_set_issuer_cert,\n\t  ossl_x509extfactory_set_subject_cert, ossl_x509extfactory_set_crl,\n\t  ossl_x509extfactory_set_subject_req, ossl_x509extfactory_set_config):\n\t  use underlying C struct without duplication not to leak momory.\n\nSat Nov  1 01:49:03 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/mapping/factory.rb: mark marshalled basetype objects when\n\t  @allow_original_mapping is true.  multi-referencing basetype node is\n\t  prohibited in SOAP/1.1 encoding but soap4r's original ruby object\n\t  mapping requires basetype to be marked to detect self referencing\n\t  loop.  e.g. o = 1; o.instance_eval { @iv = o }  soap4r's original\n\t  mapping is only used through soap/marshal API.\n\n\t* test/soap/marshal/test_marshal.rb: add tests for self referencing\n\t  immutable objects.\n\n\t* test/soap/calc/test_calc_cgi.rb: fix test name.\n\nFri Oct 31 22:26:29 2003  Takaaki Uematsu  <uema2x@jcom.home.ne.jp>\n\n\t* wince/string_wce.c (strrchr): should decrement pointer.\n\n\t* wince/Makefile.sub: correct a range of isdigit().\n\nFri Oct 31 12:55:24 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* configure.in, lib/mkmf.rb: add RPATHFLAG for NetBSD.\n\t  [ruby-dev:21791]\n\n\t* bcc32/Makefile.sub, win32/Makefile.sub, win32/Makefile.sub: ditto.\n\nFri Oct 31 01:38:14 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* wince/Makefile.sub, win32/Makefile.sub (.y.c): allow white spaces\n\t  at the beginning of line to remove by sed. (ruby-bugs-ja:PR#580)\n\nFri Oct 31 01:02:24 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* compar.c (cmp_equal): protect exceptions from <=> comparison\n\t  again.  returns nil if any exception or error happened during\n\t  comparison.\n\n\t* eval.c (search_required): should update *featurep when DLEXT2 is\n\t  defined. (ruby-bugs-ja:PR#581)\n\nThu Oct 30 23:41:04 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/drb.rb: add DRbArray\n\n\t* lib/drb/invokemethod.rb: fix Hash#each problem. [ruby-dev:21773]\n\n\t* lib/drb/unix.rb: add LoadError. [ruby-dev:21743]\n\nThu Oct 30 23:19:11 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/generator.rb: better XML pretty printing.\n\n\t* lib/soap/encodingstyle/soapHandler.rb: remove unnecessary namespace\n\t  assignment in the element which has \"encodingStyle\" attribute, and\n\t  add necessary namespace assignment for \"arrayType\" attribute.\n\n\t* test/soap/calc/test_calc_cgi.rb: take over $DEBUG to ruby process\n\t  through CGI.\n\nThu Oct 30 22:59:39 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/yaml2byte.c: HASH const too long.  Thanks, matz.\n\nThu Oct 30 19:13:53 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/syck/MANIFEST: Add yamlbyte.h.\n\nThu Oct 30 14:25:31 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (READ_DATA_BUFFERED): new macro to detect whether stdio\n\t  buffer filled.\n\n\t* io.c (rb_io_fptr_cleanup): move path deallocation to\n\t  rb_io_fptr_finalize (finalizer called by GC).\n\nThu Oct 30 13:23:39 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (logop): left may be NULL. [ruby-talk:84539]\n\n\t* eval.c (rb_eval): NODE_CASE nd_head may be NULL.\n\nThu Oct 30 10:14:51 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/test/unit/autorunner.rb: make fox runner work.\n\nThu Oct 30 09:32:26 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* process.c (rb_f_system): fixed lack of security check before\n\t  calling do_spawn() on win32. [ruby-talk:84555]\n\nThu Oct 30 02:46:35 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): single array value to normal Proc#call\n\t  (i.e. not via lambda call), should be treated just like yield.\n\t  [ruby-dev:21726]\n\nThu Oct 30 02:25:48 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#initialize):\n\t  add new method to inherit @sync from @io.sync.\n\n\t* ext/openssl/lib/net/protocols.rb (SSLIO#ssl_connect): no need to\n\t  set sync flag explicitly.\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_initialize): call super.\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_setup): set extra chain\n\t  certificates in @extra_chain_cert.\n\nWed Oct 29 22:02:04 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/drb/drbtest.rb: use rbconfig.rb to make the path of ruby\n\t  interpreter to exec, instead of test/ruby/envutil.rb,\n\nWed Oct 29 19:58:59 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tcltklib/tcltklib.c (CONST84): define CONST84 when it is not\n\t  defined and TCL_MAJOR_VERSION >= 8.\n\n\t* ext/tcltklib/tcltklib.c (VwaitVarProc, WaitVariableProc,\n\t  rb_threadVwaitProc): use CONST84 instead of CONST.\n\n\t* ext/tcltklib/tcltklib.c (ip_rbTkWaitCommand,\n\t  ip_rb_threadTkWaitCommand): use CONST84 always.\n\nWed Oct 29 17:27:05 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* re.c (rb_reg_s_union, Init_Regexp): new method `Regexp.union'.\n\n\t* lib/pathname.rb (realpath): examine Dir.pwd because it may have\n\t  symlinks.\n\nWed Oct 29 17:16:31 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_longjmp): must not disturb original jump.\n\t  [ruby-dev:21733]\n\nWed Oct 29 15:28:34 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_Proc): taint preallocated exception object\n\t  sysstack_error. [ruby-talk:84534]\n\nWed Oct 29 11:27:39 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (ret_args): node may be NULL. [ruby-talk:84530]\n\nTue Oct 28 15:20:12 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/tcltklib/tcltklib.c (VwaitVarProc, ip_rbVwaitObjCmd,\n\t  WaitVariableProc, WaitVisibilityProc, WaitWindowProc,\n\t  ip_rbTkWaitObjCmd, ip_rbTkWaitCommand, rb_threadVwaitProc,\n\t  rb_threadWaitVisibilityProc, rb_threadWaitWindowProc,\n\t  ip_rb_threadVwaitObjCmd, ip_rb_threadTkWaitObjCmd): prototype;\n\t  avoid VC++ warnings.\n\nMon Oct 27 19:19:55 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_longjmp): ignore reentering error while warning.\n\t  [ruby-dev:21730]\n\nMon Oct 27 00:23:50 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_ruby): bug fix on Win : hang-up when\n\t  calling 'exit' in the Tk callback procedure. [ruby-list:38656]\n\nSat Oct 25 09:18:04 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_method_missing): protect exception from within\n\t  \"inspect\".  (ruby-bugs:PR#1204)\n\nFri Oct 24 23:26:34 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* hash.c (rb_hash_each): Hash#each should yield single value.\n\t  [ruby-talk:84420]\n\n\t* hash.c (env_each): ditto for ENV.each.\n\nThu Oct 23 20:25:32 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/server.rb (GenericServer#start): should rescue\n\t  IOError from IO::accept. [ruby-dev:21692]\n\nThu Oct 23 17:59:36 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): initialize stack bottom for embedding.\n\t  [ruby-dev:21686]\n\n\t* ext/dl/extconf.rb: move list of files to clean from DEPEND file,\n\t  to get rid of macro redefinitions.\n\nThu Oct 23 13:44:00 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y: integrate operations for stack_type.  [ruby-dev:21681]\n\nThu Oct 23 00:41:45 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/calc/*, test/soap/helloworld/*: set logging threshold\n\t  to ERROR.\n\nWed Oct 22 12:53:31 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (Test::Unit::Collector::Dir#collect_file):\n\t  ignore tests which raised LoadError.\n\n\t* test/drb/drbtest.rb, test/ruby/test_beginendblock.rb,\n\t  test/ruby/test_system.rb: avoid requiring same file twice.\n\n\t* test/drb/test_drbssl.rb, test/drb/test_drbunix.rb: should not use\n\t  ARGV unless invoked directly.  do not create test cases unless\n\t  required libraries are available.\n\nWed Oct 22 02:31:34 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): should not ignore exit_value in END\n\t  execution. [ruby-dev:21670]\n\nTue Oct 21 23:16:26 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (ruby_cleanup): call finalizers and exit procs before\n\t  terminating threads.\n\n\t* eval.c (ruby_cleanup): preserve ruby_errinfo before ruby_finalize_0().\n\nTue Oct 21 15:57:11 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/test/unit/collector/dir.rb (Test::Unit::Collector::Dir#collect_file):\n\t  prepend the directory of target file to the load path.\n\nTue Oct 21 15:08:53 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (do_spawn, do_aspawn): should wait child process even\n\t  if callded with P_OVERLAY.\n\n\t* win32/win32.c (do_spawn, do_aspawn): should return child's exit\n\t  status to parent.\n\nTue Oct 21 00:35:02 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/calc/*, test/soap/helloworld/*: catch the exception from\n\t  test server thread and recover.\n\nTue Oct 21 00:22:57 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* test/drb/*: import drb/runit.\n\nMon Oct 20 23:55:47 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): set current node after arguments evaluation.\n\t  [ruby-dev:21632]\n\n\t* eval.c (rb_yield_0): set current node and keep it at local jump.\n\nMon Oct 20 22:01:18 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_cleanup): keep thread group for main thread.\n\t  [ruby-dev:21644]\n\nMon Oct 20 18:28:10 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_catch): backout.\n\nMon Oct 20 17:31:46 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (PUSH_FRAME): generate unique number to be TAG_JUMP()\n\t  destination.\n\n\t* eval.c (localjump_destination): use unique number in ruby_frame\n\t  for localjump destination.\n\nMon Oct 20 11:31:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_signal.rb (test_signal): restore old trap.\n\nMon Oct 20 11:00:46 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (gc_sweep): loosen page free condition to avoid add_heap()\n\t  race condition. [ruby-dev:21633]\n\n\t* gc.c (gc_sweep): do not update malloc_limit when malloc_increase\n\t  is smaller than malloc_limit.\n\nMon Oct 20 09:45:12 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* lib/debug.rb (debug_command): remove debug print.\n\nSun Oct 19 13:12:30 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (foreachline, dir_foreach): add obsolete warning.\n\nSun Oct 19 00:14:22 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/calc/*, test/soap/helloworkd/*: changed port# of test\n\t  server. (17171)\n\nSat Oct 18 23:01:32 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* missing/acosh.c (DBL_MANT_DIG): typo fix(ifdef -> ifndef).\n\nSat Oct 18 05:48:59 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: YAML::Syck::compile method.\n\n\t* ext/syck/syck.c: Buffer edge bug.\n\n\t* ext/syck/yaml2byte.c: YAML to bytecode converter.\n\n\t* ext/syck/yamlbyte.h: Ditto.\n\n\t* ext/syck/bytecode.c: Bytecode parser fixes to empty collections\n\t  and empty strings.\n\n\t* ext/syck/token.c: Ditto.\n\nFri Oct 17 23:07:38 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/enumerator/enumerator.c, ext/enumerator/enumerator.txt:\n\t  Provide Kernel#to_enum as an alias for Kernel#enum_for.  Maybe\n\t  this is a better name.\n\nFri Oct 17 23:00:30 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/generator.rb: Add rdoc documentation.\n\nFri Oct 17 22:16:42 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/set.rb: Reword and fix Overview.\n\n\t* lib/set.rb: It is not necessary to require\n\t  'test/unit/ui/console/testrunner'.\n\nFri Oct 17 11:15:22 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* test/ruby/test_range.rb: added.\n\n\t* MANIFEST: add test/ruby/test_range.rb.\n\nFri Oct 17 03:21:23 2003  William Sobel  <will.sobel@barra.com>\n\n\t* ext/socket/socket.c (make_hostent): h_aliases may be NULL.\n\t  (ruby-bugs:PR#1195)\n\n\t* ext/socket/socket.c (sock_s_gethostbyaddr): ditto.\n\nFri Oct 17 00:12:41 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: (bug fix) instance variable @frame was used\n\t  without initializing on TkComposite module.\n\nThu Oct 16 23:51:04 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: If $DEBUG == true and some exception is caused\n\t  in a callback operation, Ruby/Tk shows a (verbose) backtrace\n\t  information on the callback process.\n\nThu Oct 16 17:09:19 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/debug.rb (DEBUGGER__::Context::debug_command): do not call\n\t  debug_silent_eval() when $1 is not set. (ruby-bugs:PR#1194)\n\nThu Oct 16 16:54:57 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (rb_str_upto): (\"a\"...\"a\").to_a should return [].\n\t  [ruby-core:01634]\n\nThu Oct 16 16:40:51 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb:\n\t  Add Tk::EncodedString and Tk::UTF8_String class to support\n\t  characters using the \\uXXXX escape to the UNICODE string.\n\n\t* ext/tk/sample/{demos-en,demos-jp}/unicodeout.rb\n\t  new demo-scripts (samples of Tk::UTF8_String)\n\n\t* ext/tk/sample/{demos-en,demos-jp}/widget\n\t  add entries for 'unicodeout.rb'\n\nThu Oct 16 08:38:06 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/digest/test_digest.rb (test_eq): show failed class.\n\n\t* test/ruby/test_iterator.rb (test_break, test_return_trace_func):\n\t  test localjump destination.\n\nWed Oct 15 20:22:31 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/netHttpClient.rb: use URI::HTTP#request_uri instead of\n\t  instance_eval('path_query').  [ruby-list:38575]\n\nWed Oct 15 17:24:45 2003  URABE Shyouhei  <root@mput.dip.jp>\n\n\t* lib/cgi.rb (CGI::Cookie): tiny typo fix.\n\nWed Oct 15 15:00:54 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_run): just return FAILURE instead of parse error\n\t  count.  [ruby-list:38569]\n\nWed Oct 15 13:17:02 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/digest/digest.c (rb_digest_base_alloc): need to initialize\n\t  buffer. [ruby-dev:21622]\n\nWed Oct 15 11:23:05 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): dump extended modules as well.\n\n\t* marshal.c (r_object0): TYPE_USRMARSHAL should restore extended\n\t  modules before invoking marshal_load.  these two fixes are done\n\t  by Masatoshi Seki <m_seki@mva.biglobe.ne.jp>.\n\nWed Oct 15 09:30:34 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/enumerator/enumerator.c (enumerator_each): avoid VC++ warning.\n\n\t* ext/syck/syck.h: include stdio.h for definition of FILE.\n\nWed Oct 15 08:09:07 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/bytecode.c: Checkin of YAML bytecode support.\n\n\t* ext/syck/gram.c: Ditto.\n\n\t* ext/syck/syck.c: Ditto.\n\n\t* ext/syck/token.c: Ditto.\n\n\t* ext/syck/handler.c: Ditto.\n\n\t* ext/syck/handler.c: Now using 'tag' rather than 'taguri' in type URIs.\n\n\t* ext/syck/rubyext.c: Ditto (on both counts).\n\nWed Oct 15 05:05:53 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* lib/generator.rb: A new library which converts an internal\n\t  iterator to an external iterator.\n\n\t* lib/abbrev.rb: A new library which creates an abbreviation table\n\t  from a list.\n\nWed Oct 15 04:31:51 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/sample/demos-en/entry3.rb, ext/tk/sample/demos-jp/entry3.rb:\n\t  new demo-scripts\n\n\t* ext/tk/sample/demos-en/widget, ext/tk/sample/demos-jp/widget:\n\t  add entries for 'entry3.rb'\n\nWed Oct 15 04:31:47 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* test/digest/test_digest.rb: Moved from ext/digest/test.rb.\n\nWed Oct 15 03:53:20 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/tk.rb: fixed trouble on auto-load Tcl commands (enbug\n\t  on the last commit).\n\nWed Oct 15 00:25:00 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (yylex): argument parentheses preceded by spaces should\n\t  be warned; not error.  [ruby-talk:84103]\n\nWed Oct 15 00:20:15 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c: replace Tcl/Tk's vwait and tkwait to\n\t  switch on threads smoothly and avoid seg-fault.\n\n\t* ext/tcltklib/tcltklib.c: add TclTkIp._thread_vwait and\n\t  _thread_tkwait for waiting on a thread. (Because Tcl/Tk's vwait\n\t  and tkwait command wait on an eventloop.)\n\n\t* ext/tk/lib/multi-tk.rb: support TclTkIp._thread_vwait and\n\t  _thread_tkwait.\n\n\t* ext/tk/lib/tk.rb: now, TkVariable#wait has 2 arguments.\n\t  If 1st argument is true, waits on a thread. If false, waits on\n\t  an eventloop. If 2nd argument is true, checks existence of\n\t  rootwidgets. If false, doesn't. Default is wait(true, false).\n\n\t* ext/tk/lib/tk.rb: add TkVariable#tkwait(arg) which is equal to\n\t  TkVariable#wait(arg, true). wait_visibility and wait_destroy\n\t  have an argument for waiting on a thread or an eventloop.\n\n\t* ext/tk/lib/tk.rb: improve of accessing Tcl/Tk's special variables.\n\n\t* ext/tk/lib/tkafter.rb: support 'wait on a thread' and 'wait on\n\t  an eventloop'.\n\nWed Oct 15 00:10:24 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/baseData.rb: Introduce SOAPType as the common ancestor of\n\t  SOAPBasetype and SOAPCompoundtype.\n\n\t* lib/soap/generator.rb, lib/soap/element.rb, lib/soap/encodingstyle/*:\n\t  Encoding methods signature change.  Pass SOAPGenerator as a parameter.\n\n\t* lib/soap/mapping/*, test/soap/marshal/test_marshal.rb: Refactoring\n\t  for better marshalling/unmarshalling support.  Now I think SOAP\n\t  marshaller supports all kind of object graph which is supported by\n\t  Ruby's original marshaller.  Of course there could be bugs as always.\n\t  Find it.  :-)\n\n\t* lib/soap/rpc/standaloneServer.rb: Set severity threshould to INFO.\n\t  DEBUG is too noisy.\n\n\t* lib/xsd/datatypes.rb: DateTime#of is obsoleted.  Use DateTime#offset.\n\n\t* test/wsdl/emptycomplextype.wsdl, test/xsd/xmlschema.xml: Avoid\n\t  useless warning.\n\nTue Oct 14 19:09:35 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (ruby_finalize_0): return the given exit status unless\n\t  SystemExit got raised.\n\nTue Oct 14 11:53:49 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (ruby_stop): never return.\n\n\t* ruby.h (ruby_run): ditto.\n\nTue Oct 14 04:43:55 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (realpath): make ELOOP check bit more robust.\n\t  (children): prepend self by default.\n\t  (chroot): obsoleted.\n\nTue Oct 14 02:29:31 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_require_safe): segfault after loading .so.\n\nTue Oct 14 02:05:23 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* ext/Setup*, ext/enumerator/*: Add ext/enumerator, a helper\n\t  module for the Enumerable interface.\n\nMon Oct 13 23:55:59 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/ruby/envutil.rb: use Config::CONFIG[\"ruby_install_name\"],\n\t  not \"ruby\".\n\nMon Oct 13 23:57:29 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_feature_p): match by classified suffix.\n\n\t* eval.c (rb_require_safe): require library in the specified safe\n\t  level.\n\n\t* variable.c (rb_autoload, rb_autoload_load): restore safe level\n\t  when autoload was called.  [ruby-dev:21338]\n\n\t* intern.h: prototypes; rb_require_safe.\n\n\t* test/runner.rb: accept non-option arguments.\n\nMon Oct 13 20:49:51 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_new4): should not preserve FL_TAINT status in the\n\t  internal shared string. [ruby-dev:21601]\n\n\t* string.c (rb_str_new4): ditto.\n\n\t* eval.c: use EXIT_SUCCESS and EXIT_FAILURE for exit values.\n\n\t* process.c: ditto. [ruby-list:38521]\n\nMon Oct 13 19:51:02 2003  Koji Arai  <jca02266@nifty.ne.jp>\n\n\t* lib/debug.rb (debug_command): should enter emacs mode when\n\t  assigned any value to the environment variable \"EMACS\".\n\t  On Meadow, (getenv \"EMACS\") is \"meadow\".\n\nSun Oct 12 14:45:03 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/win32ole/extconf.rb: check \"windows.h\", not \"windows\".\n\t  [ruby-talk:84051]\n\nSat Oct 11 20:41:03 2003  Corinna Vinschen  <corinna@vinschen.de>\n\n\t* file.c (eaccess): Use access(2) on Cygwin.\n\nSat Oct 11 17:09:21 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/rexml/quickpath.rb (REXML::QuickPath::match):\n\t  escape '[' to avoid warning.\n\nSat Oct 11 16:08:41 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (realpath): check existence of the file.\n\n\t* lib/pathname.rb (realpath): re-implemented.\n\t  (realpath_root?, realpath_rec): removed\n\nSat Oct 11 10:19:39 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* lib/monitor.rb: handle exceptions correctly. Thanks, Gennady\n\t  Bystritsky.\n\nFri Oct 10 07:50:54 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (is_defined): inheritance line adjustment as like as\n\t  rb_call_super().\n\nFri Oct 10 01:19:00 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_initialize): add\n\t  optional argument to specify the DirectoryString type\n\t  (ASN1::UTF8STRING by default). RFC3280 deprecates PrintableString\n\t  for DirectoryString, and strongly requires to use UTF8String for\n\t  all certificates issued after December, 31 2003.\n\n\t* ext/openssl/lib/openssl/x509.rb (X509::Name::parse): ditto.\n\nThu Oct  9 23:50:21 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_0): prevent thread from GC.\n\t  [ruby-dev:21572]\n\nThu Oct  9 19:11:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_start_0): non-volatile should be restored from\n\t  volatile.\n\nThu Oct  9 17:43:36 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (proc_save_safe_level, proc_get_safe_level,\n\t  proc_set_safe_level): save/restore safe level 1..4.\n\nThu Oct  9 16:33:23 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (r_object0): remove unnecessary iv restoration for\n\t  USRMARSHAL. [ruby-dev:21582]\n\n\t* marshal.c (w_object): dump generic instance variables from\n\t  a string from '_dump'.\n\n\t* variable.c (rb_generic_ivar_table): return 0 if obj's FL_EXIVAR\n\t  is not set.\n\n\t* time.c (time_dump): copy instance variables to dumped string, to\n\t  be included in the marshaled data.\n\n\t* bignum.c (rb_big2ulong): add range check to ensure round trip.\n\nThu Oct  9 15:45:27 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* pack.c (uv_to_utf8): change message to \"out of range\", since\n\t  negative values are not \"too big\". [ruby-dev:21567]\n\nThu Oct  9 14:05:38 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_set_end_proc, rb_exec_end_proc): restore safe level.\n\t  [ruby-dev:21557]\n\nThu Oct  9 10:51:04 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): no error if block is empty.\n\nThu Oct  9 06:43:33 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (localjump_error): id should be ID.\n\n\t* eval.c (rb_eval): nd_rval is set in copy_node_scope().\n\n\t* eval.c (rb_yield_0): unused variable.\n\n\t* eval.c (rb_yield_0): nothing to do for empty node.\n\n\t* eval.c (call_end_proc, proc_invoke): adjust backtrace in END.\n\t  [ruby-dev:21551]\n\n\t* eval.c (rb_thread_start_0): set the value by break as the result.\n\t  [ruby-dev:21552]\n\n\t* eval.c (rb_thread_start_0, rb_thread_raise, rb_callcc): save\n\t  variables across THREAD_SAVE_CONTEXT.\n\nThu Oct  9 12:05:46 2003  Eric Sunshine  <sunshine@sunshineco.com>\n\n\t* configure.in: revived NextStep, OpenStep, and Rhapsody ports which\n\t  had become unbuildable; enhanced --enable-fat-binary option so that\n\t  it accepts a list of desired architectures (rather than assuming a\n\t  fixed list), or defaults to a platform-appropriate list if user does\n\t  not provide an explicit list; made the default list of architectures\n\t  for MAB (fat binary) more comprehensive; now uses -fno-common even\n\t  when building the interpreter (in addition to using it for\n\t  extensions), thus allowing the interpreter to be embedded into a\n\t  plugin module of an external project (in addition to allowing\n\t  embedding directly into an application); added checks for\n\t  <netinet/in_systm.h> (needed by `socket' extension) and getcwd(); now\n\t  ensures that -I/usr/local/include is employed when extensions'\n\t  extconf.rb scripts invoke have_header() since extension checks on\n\t  NextStep and OpenStep will fail without it if the desired resource\n\t  resides in the /usr/local tree; fixed formatting of --help message.\n\n\t* Makefile.in: $(LIBRUBY_A) rule now deletes the archive before\n\t  invoking $(AR) since `ar' on Apple/NeXT can not \"update\" MAB archives\n\t  (see configure's --enable-fat-binary option); added rule for new\n\t  missing/getcwd.c.\n\n\t* defines.h: fixed endian handling during MAB build (see configure's\n\t  --enable-fat-binary option) to ensure that all portions of the\n\t  project see the correct WORDS_BIGENDIAN value (some extension modules\n\t  were getting the wrong endian setting); added missing constants\n\t  GETPGRP_VOID, WNOHANG, WUNTRACED, X_OK, and type pid_t for NextStep\n\t  and OpenStep; removed unnecessary and problematic HAVE_SYS_WAIT_H\n\t  define in NeXT section.\n\n\t* dir.c: do not allow NAMLEN() macro to trust dirent::d_namlen on\n\t  NextStep since, on some installations, this value always resolves\n\t  uselessly to zero.\n\n\t* dln.c: added error reporting to NextStep extension loader since the\n\t  previous behavior of failing silently was not useful; now ensures\n\t  that NSLINKMODULE_OPTION_BINDNOW compatibility constant is defined\n\t  for OpenStep and Rhapsody; no longer includes <mach-o/dyld.h> twice\n\t  on Rhapsody since this header lacks multiple-include protection,\n\t  which resulted in \"redefinition\" compilation errors.\n\n\t* main.c: also create hard reference to objc_msgSend() on NeXT\n\t  platforms (in addition to Apple platforms).\n\n\t* lib/mkmf.rb: now exports XCFLAGS from configure script to extension\n\t  makefiles so that extensions can be built MAB (see configure's\n\t  --enable-fat-binary option); also utilize XCFLAGS in cc_command()\n\t  (but not cpp_command() because MAB flags are incompatible with\n\t  direct invocation of `cpp').\n\n\t* ext/curses/extconf.rb: now additionally checks for presence of these\n\t  curses functions which are not present on NextStep or Openstep:\n\t  bkgd(), bkgdset(), color(), curs(), getbkgd(), init(), scrl(), set(),\n\t  setscrreg(), wattroff(), wattron(), wattrset(), wbkgd(), wbkgdset(),\n\t  wscrl(), wsetscrreg()\n\n\t* ext/curses/curses.c: added appropriate #ifdef's for additional set of\n\t  curses functions now checked by extconf.rb; fixed curses_bkgd() and\n\t  window_bkgd() to correctly return boolean result rather than numeric\n\t  result; fixed window_getbkgd() to correctly signal an error by\n\t  returning nil rather than -1.\n\n\t* ext/etc/etc.c: setup_passwd() and setup_group() now check for null\n\t  pointers before invoking rb_tainted_str_new2() upon fields extracted\n\t  from `struct passwd' and `struct group' since null pointers in some\n\t  fields are common on NextStep/OpenStep (especially so for the\n\t  `pw_comment' field) and rb_tainted_str_new2() throws an exception\n\t  when it receives a null pointer.\n\n\t* ext/pty/pty.c: include \"util.h\" for strdup()/ruby_strdup() for\n\t  platforms such as NextStep and OpenStep which lack strdup().\n\n\t* ext/socket/getaddrinfo.c: cast first argument of getservbyname(),\n\t  gethostbyaddr(), and gethostbyname() from (const char*) to non-const\n\t  (char*) for older platforms such as NextStep and OpenStep.\n\n\t* ext/socket/socket.c: include \"util.h\" for strdup()/ruby_strdup() for\n\t  platforms such as NextStep and OpenStep which lack strdup(); include\n\t  <netinet/in_systm.h> if present for NextStep and OpenStep; cast first\n\t  argument of gethostbyaddr() and getservbyname() from (const char*) to\n\t  non-const (char*) for older platforms.\n\n\t* ext/syslog/syslog.c: include \"util.h\" for strdup()/ruby_strdup() for\n\t  platforms such as NextStep and OpenStep which lack strdup().\n\nWed Oct  8 22:19:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit.rb: removed installation instructions.\n\n\t* lib/test/unit/ui/testrunnermediator.rb: moved the run flag to a more\n\t  central location.\n\n\t* lib/test/unit.rb: ditto.\n\n\t* lib/test/unit.rb: extracted the running code in to AutoRunner.\n\n\t* lib/test/unit/autorunner.rb: added.\n\n\t* lib/test/unit/collector/objectspace.rb: extracted common test\n\t  collection functionality in to a module.\n\n\t* lib/test/unit/collector.rb: ditto; added.\n\n\t* test/testunit/collector/test_objectspace.rb: ditto.\n\n\t* lib/test/unit/collector/dir.rb: added. Supports collecting tests out\n\t  of a directory structure.\n\n\t* test/testunit/collector/test_dir.rb: added.\n\n\t* test/runner.rb: simplified to use the new capabilities.\n\nTue Oct  7 15:23:09 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb: add tests for nested BEGIN/END.\n\n\t* test/ruby/beginmainend.rb: add tests for nested BEGIN/END.\n\n\t* test/ruby/endblockwarn.rb: new file added to test of END-in-method\n\t  warning.\n\nTue Oct  7 12:23:47 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/fcntl/fcntl.c (Init_fcntl): define Fcntl::O_ACCMODE.\n\n\t* ext/socket/extconf.rb: useless assignment removed.\n\nTue Oct  7 09:13:24 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb (test_endinmethod): END{} is now\n\t  allowed in eval.\n\nTue Oct  7 04:15:25 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (stmt): should not expand mrhs if lhs is solely starred.\n\nTue Oct  7 02:57:53 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (stmt): rhs of multiple assignment should not be\n\t  expanded using \"to_a\". [ruby-dev:21527]\n\nTue Oct  7 01:42:34 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1_get_asn1type): use appropriate\n\t  free function for ASN1_OBJECT.\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1obj_get_sn): add new function for\n\t  ASN1::ObjectId#sn; it returns short name text representation of OID.\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1obj_get_ln): add new function for\n\t  ASN1::ObjectId#ln; it returns long name text representation of OID.\n\n\t* ext/openssl/ossl_asn1.c (ossl_asn1obj_get_oid): add new function for\n\t  ASN1::ObjectId#oid; it returns numerical representation of OID.\n\nMon Oct  6 22:59:46 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb (IOReader, BasicWriter): call binmode when a given IO\n\t  respond_to?(:binmode).  record separator was wrong when you gave\n\t  text mode IO to Reader.parse and Writer.generate.\n\n\t* test/csv/test_csv.rb: add tests for above change.\n\nSun Oct  5 23:27:09 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* ext/socket/extconf.rb: check recvmsg even if sendmsg is exists.\n\n\t* ext/socket/socket.c (thread_read_select): restored.\n\nMon Oct  6 16:23:38 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (w_object): wrong method name in the message.\n\nMon Oct  6 16:02:05 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (stmt): END in method should cause warning.\n\t  [ruby-dev:21519]\n\nMon Oct  6 15:17:23 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (test_block_argument_without_paren):\n\t  added. (follows sample/test.rb)\n\nMon Oct  6 11:57:06 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb, test/ruby/beginmainend.rb: added\n\t  test for eval-ed BEGIN END order.\n\nMon Oct  6 09:19:54 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): should pass \"weak\" value to next level.\n\t  [ruby-dev:21496]\n\n\t* eval.c (proc_alloc): should not use cached object if klass is\n\t  different. [ruby-talk:83685]\n\nSun Oct  5 23:27:09 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: version information is added in document.\n\nSun Oct  5 23:07:03 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_f_END): block should be given.  [ruby-dev:21497]\n\nSun Oct  5 22:51:23 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/ext/openssl/extconf.rb: add check for some engine functions\n\t  unavailable in OpenSSL-0.9.6.\n\n\t* lib/ext/openssl/ossl_engine.c: ditto.\n\nSun Oct  5 17:56:30 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): fix evaluation order.  [ruby-list:38431]\n\nSun Oct  5 15:05:06 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* test/uri/*: translated RUNIT to Test::Unit.\n\nSun Oct  5 14:37:39 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/xsd/datatypes.rb: Rational -> Decimal string bug fix.\n\n\t* test/soap/marshal/test_marshal.rb: ditto.\n\n\t* test/soap/calc/test_calc_cgi.rb: add Config::CONFIG[\"EXEEXT\"] to\n\t  RUBYBIN.\n\nSun Oct  5 13:47:22 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_beginendblock.rb, test/ruby/beginmainend.rb: add tests\n\t  about scope, order and allowed syntax.\n\nSun Oct  5 11:54:29 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/envutil.rb: added.  split \"rubybin\" from test_system.rb.\n\n\t* test/ruby/test_system.rb: use envutil.rb\n\n\t* test/ruby/test_beginendblock.rb: added.\n\n\t* test/ruby/beginmainend.rb: added.  used in test_beginendblock.rb.\n\nSun Oct  5 11:23:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* test/testunit/runit/test_testresult.rb: removed some unnecessary\n\t  cruft.\n\nSun Oct  5 11:14:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/rubyunit.rb: aliasing TestCase into the top level is\n\t  problematic.\n\n\t* lib/runit/assert.rb: fixed a couple of bugs caused by recent\n\t  refactoring in Test::Unit.\n\n\t* test/testunit/runit/*: added.\n\nSun Oct  5 10:55:29 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/open-uri.rb (URI::Generic#find_proxy): no_proxy support did not\n\t  work.  [ruby-dev:21484]\n\nSun Oct  5 09:52:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: will use pp for output if available.\n\t  Can be disabled by setting Assertions.use_pp = false.\n\n\t* test/testunit/test_assertions.rb: made a small change to exception\n\t  formatting.\n\nSun Oct  5 07:42:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: made small improvements to assertion\n\t  messages. Deprecated Assertions#assert_not_nil; use #assert instead.\n\n\t* test/testunit/test_assertions.rb: ditto.\n\n\t* test/testunit/util/test_procwrapper.rb: use #assert instead of\n\t  #assert_not_nil.\n\nSun Oct  5 04:10:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: refactored message building.\n\nSun Oct  5 03:40:22 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.h: global symbols should be declared\n\t  as external.\n\nSun Oct  5 03:03:20 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* test/ruby/test_exception.rb (test_else): added.\n\nSun Oct  5 02:12:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: changed assertion messages to rely more\n\t  heavily on #inspect. Added backtrace filtering for exceptions in\n\t  assertion messages.\n\n\t* test/testunit/test_assertions.rb: ditto.\n\nSun Oct  5 02:12:00 2003  Masatoshi SEKI  <m_seki@mva.biglobe.ne.jp>\n\n\t* lib/drb/acl.rb, lib/drb/ssl.rb: added.\n\n\t* lib/drb/drb.rb: exit from a thread using 'break'.\n\nSat Oct  4 21:49:14 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* gc.c (Init_stack): the type of space is changed to unsigned int\n\t  from double.  [ruby-dev:21483]\n\nSat Oct  4 17:52:59 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/netHttpClient.rb: follow http-access2.  hosts which matches\n\t  ENV['no_proxy'] or ENV['NO_PROXY'] are not proxyed.\n\t  - [,:] separated. (\"ruby-lang.org:rubyist.net\")\n\t  - no regexp. (give \"ruby-lang.org\", not \"*.ruby-lang.org\")\n\t  - if you want specify host by IP address, give full address.\n\t    (\"192.168.1.1, 192.168.1.2\")\n\n\t* lib/soap/rpc/cgistub.rb: return \"Status: XXX MMM\" line.\n\n\t* test/runner.rb: give testsuite name.\n\nSat Oct  4 15:16:02 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): instance variable dump do not cause error\n\t  for objects that cannot be dumped, if they traversed from\n\t  marshal_dump.  they are just ignored.\n\n\t* gc.c (Init_stack): cast \"space\" (doble value) into unsigned\n\t  int.  should run on PowerPC.\n\n\t* eval.c (rb_eval): should not execute else part if any exception\n\t  is caught. [ruby-dev:21482]\n\n\t* parse.y (f_args): should allow unparenthesized block argument.\n\n\t* parse.y (f_rest_arg): should allow unparenthesized rest\n\t  argument.\n\nSat Oct  4 14:59:51 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (initialize): raise ArgumentError if argument has\n\t  '\\0' character.\n\t  (relative_path_from): new method.\n\t  (each_entry): new method for replacement of dir_foreach.\n\t  (foreach, foreachline, dir_foreach, chdir): obsoleted.\n\nSat Oct  4 12:58:48 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* test/uri/* (6 files): added.\n\nSat Oct  4 12:44:45 2003  akira yamada  <akira@ruby-lang.org>\n\n\t* lib/uri/ftp.rb, lib/uri/mailto.rb: renamed to #to_s from #to_str.\n\nSat Oct  4 07:33:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/testsuite.rb: changed #<< to return self, and added\n\t  #delete.\n\n\t* test/testunit/test_testsuite.rb: ditto. Also slightly refactored\n\t  #test_size.\n\n\t* lib/test/unit/collector/objectspace.rb: collector now preserves the\n\t  hierarchy of suites.\n\n\t* test/testunit/collector/test_objectspace.rb: ditto.\n\nSat Oct  4 04:48:49 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: default keys handled.\n\n\t* ext/syck/syck.h: lowered default buffer size to 16k for increased\n\t  performance.\n\n\t* test/yaml: checkin of basic unit tests.\n\nSat Oct  4 04:24:19 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/extconf.rb: add check for X509V3_set_nconf.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509extfactory_set_config):\n\t  cannot implement if X509V3_set_nconf doesn't exist.\n\nSat Oct  4 02:12:44 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/xsd/datatypes.rb: dump sign by itself.  under the problematic\n\t  platform, sprintf(\"%+.10g\", -0.0) => +0.  sigh.\n\n\t* sample/wsdl/amazon/*: update schema ver2 to ver3.\n\nSat Oct  4 01:33:46 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb (initialize): duplicate and freeze argument.\n\t  (to_s): return duplicated string.\n\t  (children): new method.\n\t  (each_line): new alias to foreachline.\n\nFri Oct  3 16:13:19 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_asn1.c: add DER encoder and decoder.\n\n\t* ext/openssl/ossl_asn1.h: add OpenSSL::ASN1 module.\n\n\t* ext/openssl/ossl.c (Init_openssl): call Init_ossl_asn1.\n\n\t* ext/openssl/extconf.rb: check if X509_ATTRIBUTE has field \"single\".\n\n\t* ext/openssl/ossl_x509attr.c (ossl_x509attr_set_value): accept\n\t  DER encoded data argument.\n\n\t* ext/openssl/ossl_x509attr.c (ossl_x509attr_get_value): return\n\t  DER encoded data in OpenSSL::ASN1 types.\n\nFri Oct  3 13:02:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit.rb: refactored to use optparse.\n\n\t* lib/test/unit.rb: added support for selecting the output\n\t  level from the command-line.\n\n\t* lib/test/unit.rb: added a command-line switch to stop processing\n\t  the command-line, allowing arguments to be passed to tests.\n\n\t* lib/test/unit.rb: changed the method for specifying a runner or a\n\t  filter from the command-line.\n\n\t* lib/test/unit/collector/objectspace.rb: fixed a bug causing all\n\t  tests to be excluded when the filter was set to an empty array.\n\n\t* test/testunit/collector/test_objectspace.rb: ditto.\n\nFri Oct  3 08:14:32 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/irb/ruby-lex.rb (RubyLex::identify_identifier): support\n\t  'class ::Foo' syntax. [ruby-talk:83514]\n\nFri Oct  3 08:01:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: added a default message for #assert,\n\t  #assert_block, and #flunk.\n\n\t* test/testunit/test_assertions.rb: ditto.\n\n\t* lib/test/unit/failure.rb: failures now show a better trace of where\n\t  they occurred.\n\n\t* test/testunit/test_failure.rb: ditto (added).\n\n\t* lib/test/unit/testcase.rb: ditto.\n\n\t* test/testunit/test_testcase.rb: ditto.\n\n\t* lib/test/unit/util/backtracefilter.rb: added.\n\n\t* test/testunit/util/test_backtracefilter.rb: added.\n\n\t* lib/test/unit/error.rb: changed to use BacktraceFilter and improved\n\t  output.\n\n\t* test/testunit/test_error.rb: ditto.\n\nThu Oct  2 20:33:49 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_failure_initialize): conform with\n\t  orthodox initialization method.\n\n\t* ext/iconv/iconv.c (iconv_fail): initialize exception instance\n\t  from the class, and do not share instance variables with the\n\t  others.  [ruby-dev:21470]\n\nThu Oct  2 18:20:27 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* time.c (Init_Time): define initialize.  [ruby-dev:21469]\n\nThu Oct  2 17:39:38 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_engine.c: add a new module OpenSSL::Engine.\n\t  it supports OpenSSL hardware cryptographic engine interface.\n\n\t* ext/openssl/ossl_engine.h: ditto.\n\n\t* ext/openssl/MANIFEST: add ossl_engine.c and ossl_engine.h.\n\n\t* ext/openssl/extconf.rb: add check for openssl/engine.h.\n\n\t* ext/openssl/ossl.c: call Init_ossl_engine().\n\n\t* ext/openssl/ossl.h: include openssl/engine.h.\n\n\t* ext/openssl/ossl_pkey_{rsa,dsa,dh}.c: check if underlying\n\t  EVP_PKEY referes engine.\n\nThu Oct  2 17:22:37 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_load): restore instance variables (if any) before\n\t  loading from marshaled data.\n\nThu Oct  2 14:19:15 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (iconv_fail): now yield erred substring, and\n\t  set error object to $!.\n\n\t* ext/iconv/iconv.c (iconv_convert): error handler block should\n\t  return appended part and the rest.  if rest is nil, the\n\t  conversion stops.\n\nThu Oct  2 12:00:18 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* variable.c (rb_const_defined_0): look up constants in Object as\n\t  well.  [ruby-dev:21458]\n\n\t* test/ruby/test_defined.rb (TestDefined::test_defined): test for\n\t  constants.\n\nThu Oct  2 11:17:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/assertions.rb: should not capture an\n\t  AssertionFailedError unless explicitly requested.\n\n\t* test/testunit/test_assertions.rb: ditto.\n\n\t* test/testunit/collector/test_objectspace.rb: fixed a test failure\n\t  caused by methods being returned in different orders on different\n\t  platforms by moving test sorting from TestSuite into the locations\n\t  where suites are constructed. [ruby-talk:83156]\n\n\t* lib/test/unit/testcase.rb: ditto.\n\n\t* lib/test/unit/testsuite.rb: ditto.\n\n\t* lib/test/unit/collector/objectspace.rb: ditto.\n\nThu Oct  2 03:25:01 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* eval.c (rb_thread_raise): prototype; avoid VC++ warning.\n\nThu Oct  2 01:37:34 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* time.c (time_mdump): new marshal dumper. _dump is still\n\t  available for compatibility.\n\n\t* time.c (time_mload): new marshal loader.\n\n\t* marshal.c (w_object): preserve instance variables for objects\n\t  with marshal_dump.\n\n\t* marshal.c (r_object0): restore instance variables before calling\n\t  marshal_load.\n\n\t* error.c (rb_warn_m): always return nil.\n\nThu Oct  2 01:32:46 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_block_given_p): real required condition is\n\t  ruby_frame->prev->iter == ITER_CUR.\n\n\t* eval.c (rb_block_given_p): ditto.\n\n\t* eval.c (block_pass): update ruby_frame->iter only when previous\n\t  value is ITER_NOT.\n\nThu Oct  2 01:02:35 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_const_defined_at): should exclude constants from\n\t  Object when TYPE(klass) == T_MODULE *and* exclude is on.\n\t  [ruby-dev:21458]\n\n\t* variable.c (rb_const_get_0): do not lookup constants from Object\n\t  when TYPE(klass) == T_MODULE *and* exclude is on.\n\nThu Oct  2 00:21:11 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/logger/test_logger.rb: unlinking file before close causes\n\t  problem under win32 box.\n\n\t* lib/xsd/datatypes.rb(XSDFloat, XSDDouble): add +/- sign explicitly\n\t  when stringified and embedded into XML instance.  Ruby's sprintf may\n\t  format -0.0 as \"0.0\" (no minus sign) depending on underlying C\n\t  sprintf implementation.\n\n\t* test/xsd/test_xsd.rb, test/soap/test_basetype.rb: follow above change.\n\n\t* test/soap/calc/*: give httpd config param \"CGIInterpreter\".\n\t  \"/usr/bin/env ruby\" thing does not work under non-Unix boxes.\n\nThu Oct  2 00:25:21 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* signal.c (ruby_signal_name): adjust to the prototype.\n\n\t* process.c (pst_inspect): ditto.\n\n\t* ext/etc/etc.c (etc_getgrent, Init_etc): typo.\n\nWed Oct  1 20:49:41 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* gc.c (heaps): manage slots and limits together.  [ruby-dev:21453]\n\n\t* gc.c (add_heap): should not clear heaps slot even if realloc()\n\t  failed.\n\nWed Oct  1 20:36:49 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* MANIFEST: add wince/mkconfig_wce.rb.\n\nWed Oct  1 17:22:33 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/etc/etc.c: add new functions: setpwent, getpwent, endpwent,\n\t  setgrent, getgrent, endgrent.\n\n\t* ext/socket/socket.c (sock_s_gethostbyname): do not reverse lookup.\n\nWed Oct  1 17:01:30 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_load): Object scope had priority over required file\n\t  scope.  [ruby-dev:21415]\n\nWed Oct  1 14:09:53 2003  Takaaki Uematsu  <uema2x@jcom.home.ne.jp>\n\n\t* wince/mkconfig_wce.rb: sorry, forget to commit.\n\nWed Oct  1 10:08:42 2003  Takaaki Uematsu  <uema2x@jcom.home.ne.jp>\n\n\t* wince/setup.mak: add sigmarionIII SDK support.\n\n\t* wince/Makefile.sub: ditto.\n\n\t* wince/mkexports.rb: fix linker error in SH4.\n\n\t* wince/mkconfig_wce.rb: camouflage RUBY_PLATFORM for compiling ext.\n\nWed Oct  1 08:02:52 2003  Takaaki Uematsu  <uema2x@jcom.home.ne.jp>\n\n\t* wince/time_wce.c (time): add zero check.\n\nTue Sep 30 16:11:05 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* Makefile.in: copy lex.c from $(srcdir) if it's not the current\n\t  directory.  [ruby-dev:21437]\n\nTue Sep 30 11:29:23 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* process.c (pst_inspect): describe stopped process \"stopped\".\n\nTue Sep 30 09:31:56 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/runner.rb: glob for directories.\n\nTue Sep 30 09:11:43 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): while/until should not capture break unless\n\t  they are destination of the break.\n\nTue Sep 30 03:12:02 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (finish): revert to 1.93.\n\n\t* lib/net/pop.rb (finish): revert to 1.60.\n\n\t* lib/net/smtp.rb (finish): revert to 1.67.\n\n\t* lib/net/http.rb (do_start): ensure to close socket if failed to\n\t  start session.\n\n\t* lib/net/pop.rb (do_start): ditto.\n\n\t* lib/net/smtp.rb (do_start): ditto.\n\n\t* lib/net/smtp.rb: SMTP#started? wrongly returned false always.\n\nTue Sep 30 02:54:49 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/ruby/test_iterator.rb: new test\n\t  test_break__nested_loop[123].\n\nMon Sep 29 23:39:13 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb (finish): does not raise IOError even if\n\t  !started?, to allow closing socket which was opened before\n\t  session started.\n\n\t* lib/net/pop.rb (finish): ditto.\n\n\t* lib/net/smtp.rb (finish): ditto.\n\nMon Sep 29 19:06:51 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* ext/win32ole/extconf.rb: add windows.h checking.\n\t  (ruby-bugs:PR#1185)\n\nMon Sep 29 16:18:30 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: check if the given logdevice object respond_to :write\n\t  and :close, not is_a? IO.  duck duck.\n\n\t* test/logger/test_logger.rb: self IO.pipe reading/writing may be\n\t  locked by the flood.  use tempfile.\n\n\t* lib/wsdl/xmlSchema/data.rb: wrong constant reference.\n\nMon Sep 29 16:11:23 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: clean up temporary symlink.\n\t  Patched by NaHi.  [ruby-dev:21420]\n\nMon Sep 29 11:16:55 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_thread_atfork): wrong format specifier.\n\t  [ruby-dev:21428]\n\n\t* process.c (pst_inspect): better description.\n\nMon Sep 29 02:31:44 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/utils.rb (Utils::su): use setgid and setuid to\n\t  set real and effective IDs. and setup group access list by\n\t  initgroups.\n\nSun Sep 28 11:14:19 2003  Koji Arai  <jca02266@nifty.ne.jp>\n\n\t* ext/digest/digest.c (Init_digest): `copy_object' was deprecated.\n\t  `initialize_copy' should be defined.\n\n\t* ext/stringio/stringio.c (Init_stringio): ditto.\n\nSat Sep 27 18:25:13 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/xsd/charset.rb: XSD::Charset.is_ces did return always true under\n\t  $KCODE = \"NONE\" environment.  check added.\n\n\t* test/xsd/test_xsd.rb: add tests for above fix.\n\nSat Sep 27 15:58:50 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/rpc/cgistub.rb: make logging severity threshold higher.\n\n\t* lib/soap/rpc/standaloneServer.rb: defer WEBrick server start to give\n\t  a chance to reset logging severity threshold.\n\n\t* test/soap/calc/test_*, test/soap/helloworld/test_helloworld.rb: run\n\t  silent.\n\nSat Sep 27 09:44:18 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/test_fileutils.rb: clear all errors on Windows.\n\t  [ruby-dev:21417]\n\n\t* test/fileutils/test_nowrite.rb: ditto.\n\nSat Sep 27 04:57:07 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_file.rb: new file.  only asserts unlink-before-close\n\t  behaviour now.\n\n\t* test/soap/marshal/test_digraph.rb: should close before unlink.\n\t  unlink-before-close pattern is not needed here.\n\nSat Sep 27 03:32:37 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/soap/*, test/wsdl/*, test/xsd/*: move TestCase classes into\n\t  each module namespace.  TestMarshal in\n\t  test/soap/marshal/test_marshal.rb crashed with\n\t  test/ruby/test_marshal.rb.\n\nSat Sep 27 01:30:59 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect): on win32, type of the 4th\n\t  argument of getsockopt is char *.\n\nFri Sep 26 18:35:40 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/resolv-replace.rb: 1.8 compliance.  [ruby-talk:82946]\n\nFri Sep 26 17:39:27 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_marshal.rb: add test for ruby's objects.\n\nFri Sep 26 09:52:44 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* defines.h (flush_register_windows): use volatile only for gcc on\n\t  Solaris.  [ruby-dev:21403]\n\n\t* lib/mkmf.rb (xsystem): use system directly to honor shell meta\n\t  charaters.\n\nFri Sep 26 00:10:13 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/README: updated.\n\nThu Sep 25 17:48:10 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/openssl/ossl.c (ossl_buf2str): fix type of 1st argument for\n\t  rb_protect.\n\n\t* ext/openssl/ossl_hmac.c (ossl_hmac_digest): should return meaningful\n\t  value.\n\nThu Sep 25 09:00:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/ostruct.rb: Added OpenStruct#==.\n\n\t* test/ostruct/test_ostruct.rb: Added.\n\nThu Sep 25 07:55:26 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/win32ole/win32ole.c, ext/openssl/ossl_pkey_dsa.c,\n\t  ext/openssl/ossl_pkey_rsa.c, ext/bigdecimal/bigdecimal.h: must\n\t  not use C++ or C99 style comment yet.  (ruby-bugs:PR#1184)\n\nThu Sep 25 00:23:22 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* MANIFEST: add SOAP4R.\n\nThu Sep 25 00:13:15 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/soap/* (29 files): SOAP4R added.\n\n\t* lib/wsdl/* (42 files): WSDL4R added.\n\n\t* lib/xsd/* (12 files): XSD4R added.\n\n\t* test/soap/* (16 files): added.\n\n\t* test/wsdl/* (2 files): added.\n\n\t* test/xsd/* (3 files): added.\n\n\t* sample/soap/* (27 files): added.\n\n\t* sample/wsdl/* (13 files): added.\n\nWed Sep 24 02:08:11 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpservlet/cgihandler.rb: conform to mswin32.\n\t  [ruby-talk:82735], [ruby-talk:82748], [ruby-talk:82818]\n\nTue Sep 23 23:10:16 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: add Logger#<<(msg) for writing msg without any\n\t  formatting.\n\n\t* test/logger/test_logger.rb: ditto.\n\nTue Sep 23 20:47:51 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* error.c (rb_warn_m): should not warn if -W0 is specified.\n\t  [ruby-talk:82675]\n\nMon Sep 22 21:28:57 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* MANIFEST: updated.\n\nMon Sep 22 19:22:26 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* configure.in (AC_CHECK_FUNCS): add setuid and setgid.\n\nMon Sep 22 12:34:55 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* util.c (ruby_strtod): skip preceding zeros before counting\n\t  digits in the mantissa. (ruby-bugs:PR#1181)\n\nSun Sep 21 04:12:36 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspreq_initialize): the argument\n\t  should be a String.\n\n\t* ext/openssl/ossl_ocsp.c (ossl_ocspres_initialize): ditt.\n\n\t* ext/openssl/ossl_x509attr.c (ossl_x509attr_initialize): ditto.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_initialize): ditto.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_set_value): ditto.\n\nSat Sep 20 11:49:05 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: typo fixed.\n\n\t* test/logger/test_logger.rb: new file.\n\nFri Sep 19 11:39:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* test/testunit/*: Added.\n\n\t* lib/test/unit.rb: Documentation update.\n\n\t* lib/test/unit/ui/console/testrunner.rb (TestRunner#initialize):\n\t  Ditto.\n\n\t* lib/test/unit.rb: Factored out an ObjectSpace collector.\n\n\t* lib/test/unit/collector/objectspace.rb: Ditto.\n\n\t* sample/testunit/*: Added.\n\nFri Sep 19 01:00:48 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/log.rb (BasicLog#log): get rid of as ineffectual\n\t  condition.\n\n\t* lib/webrick/log.rb (BasicLog#format): add \"\\n\" to message.\n\nThu Sep 18 22:43:20 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): should push PROT_PCALL tag for orphans.\n\n\t* eval.c (proc_invoke): should update \"result\" for orphans.\n\nThu Sep 18 20:33:03 2003  Tietew  <tietew-ml-ruby-list@tietew.net>\n\n\t* parse.y (str_xquote): do not prepend escapes in\n\t  backqoute literals.  [ruby-list:38409]\n\nThu Sep 18 20:30:17 2003  Tanaka Akira  <akr@m17n.org>\n\n\t* lib/pathname.rb: update document.\n\nThu Sep 18 15:27:05 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/logger.rb: new file.  Logger, formerly called devel-logger or\n\t  Devel::Logger.\n\n\t* sample/logger/*: new file.  samples of logger.rb.\n\nWed Sep 17 23:41:45 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (localjump_destination): should not raise ThreadError\n\t  exception for \"break\". [ruby-dev:21348]\n\n\t* eval.c (proc_invoke): use result instead of prot_tag->retval.\n\t  retval is no longer propagated to the ancestors.\n\nWed Sep 17 20:34:00 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (tokadd_string, parse_string, yylex): escaped terminator\n\t  is now interpreted as is.  [ruby-talk:82206]\n\nWed Sep 17 18:52:36 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/fileutils/fileassertions.rb: new file.\n\n\t* test/fileutils/test_fileutils.rb: new file.\n\n\t* test/fileutils/test_nowrite.rb: new file.\n\nWed Sep 17 18:51:02 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/strscan/test_stringscanner.rb: require test/unit.\n\nWed Sep 17 18:35:34 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* test/strscan/test_stringscanner.rb: new file.\n\nWed Sep 17 18:03:30 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl: all files are reviewed to simplify and avoid memory leak.\n\n\t* ext/openssl/extconf.rb: add check for assert.h.\n\n\t* ext/openssl/ossl.c (ossl_buf2str): new function to convert\n\t  C buffer to String and free buffer.\n\n\t* ext/openssl/ossl.c (ossl_x509_ary2sk): new function to convert\n\t  Array of OpenSSL::X509 to STACK_OF(X509) with exception safe.\n\n\t* ext/openssl/ossl.c (ossl_to_der, ossl_to_der_if_possible): new\n\t  functions to convert object to DER string.\n\n\t* ext/openssl/ossl.h: ditto.\n\n\t* ext/openssl/ossl_bio.c (ossl_membio2str): new function to convert\n\t  BIO to String object and free BIO.\n\n\t* ext/openssl/ossl_bio.h: ditto.\n\n\t* ext/openssl/ossl_pkcs7.c (ossl_pkcs7_to_der): add for \"to_der\".\n\n\t* ext/openssl/ossl_x509name.c (ossl_x509name_to_der): ditto.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509ext_to_der): ditto.\n\n\t* ext/openssl/ossl_x509ext.c (create_ext_from_array): removed\n\t  and reimplement in openssl/x509.rb.\n\n\t* ext/openssl/ossl_x509attr.c: reimplemented and disable some\n\t  method temporarily. this class doesn't work fine without ASN.1\n\t  data support;-) I'll rewrite in near future.\n\n\t* ext/openssl/lib/openssl/x509.c (X509::Attribute): get rid off\n\t  unused code.\n\n\t* ext/openssl/lib/openssl/x509.c (X509::ExtensionFactory): refine all.\n\nTue Sep 16 22:25:06 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: add negative tests of row_sep.\n\nTue Sep 16 18:02:36 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* regex.c (re_compile_pattern): should not translate character\n\t  class range edge. [ruby-list:38393]\n\nTue Sep 16 16:47:56 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* MANIFEST: add test/csv/mac.csv.\n\n\t* win32/Makefile.sub, bcc32/Makefile.sub (test): add phony NUL target.\n\nMon Sep 15 19:02:52 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/csv.rb: add extra pamameter to specify row(record) separater\n\t  character.  To parse Mac's CR separated CSV, do like this.\n\t    CSV.open(\"mac.csv\", \"r\", ?,, ?\\r) { |row| p row.to_a }\n\t  The 3rd parameter in this example ?, is for column separater and the\n\t  4th ?\\r is for row separater.  Row separater is nil by default.  Nil\n\t  separater means \"\\r\\n\" or \"\\n\".\n\n\t* test/csv/test_csv.rb: add tests for above feature.\n\n\t* test/csv/mac.csv: added.  Sample CR separated CSV file.\n\nFri Sep 12 22:41:48 2003  Michal Rokos  <m.rokos@sh.cvut.cz>\n\n\t* ext/openssl/ossl.c: move ASN.1 stuff to ossl_asn1.[ch]\n\n\t* ext/openssl/ossl.c: move BIO stuff to ossl_bio.[ch]\n\n\t* ext/openssl/ossl_asn1.[ch]: new files\n\n\t* ext/openssl/ossl_bio.[ch]: new files\n\nFri Sep 12 12:30:41 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* intern.h (rb_disable_super, rb_enable_super): replace with dummy\n\t  expressions instead of prototypes.  the functions remain yet for\n\t  binary compatibility.  [ruby-talk:81758]\n\nFri Sep 12 12:09:54 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* bignum.c (rb_big_and): convert argument using 'to_int'.\n\n\t* bignum.c (rb_big_or): ditto.\n\n\t* bignum.c (rb_big_xor): ditto.\n\nFri Sep 12 07:06:14 2003  David Black  <dblack@superlink.net>\n\n\t* lib/scanf.rb: Took out useless @matched_item variable; some small\n\t  refactoring.\n\nThu Sep 11 08:43:44 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_require): allow \"require\" on $SAFE>0, if feature\n\t  name is not tainted.\n\n\t* lib/rexml/parsers/baseparser.rb (REXML::Parsers::BaseParser::stream):\n\t  Supports StringIO.\n\nWed Sep 10 22:47:30 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.h: add a workaround for win32 platform.\n\t  libeay32.dll doesn't export functions defined in conf_api.h.\n\n\t* ext/openssl/ossl_config.c (ossl_config_initialize): ditto.\n\n\t* ext/openssl/ossl_config.c (ossl_config_add_value): ditto.\n\n\t* ext/openssl/ossl_config.c (set_conf_section_i): should check\n\t  if the argument is Array.\n\nWed Sep 10 22:41:54 2003  Tietew  <tietew@tietew.net>\n\n\t* eval.c (win32_get_exception_list): avoid VC7 warning.\n\t  [ruby-win32:577]\n\nTue Sep  9 10:39:51 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (struct tag): dst should be VALUE.\n\nTue Sep  9 10:39:51 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (localjump_destination): stop at the scope where the current\n\t  block was created.  [ruby-dev:21353]\n\nTue Sep  9 05:17:04 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_config.rb: avoid compile error in OpenSSL-0.9.6.\n\nTue Sep  9 02:41:35 2003  Michal Rokos  <m.rokos@sh.cvut.cz>\n\n\t* ext/openssl/ossl_config.c: Refine compatibility.\n\nTue Sep  9 01:50:45 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httpserver.rb (HTTPServer#access_log): add \"\\n\" to\n\t  the message.\n\n\t* lib/webrick/log.rb (BasicLog#log): add \"\\n\" only if needed.\n\nMon Sep  8 22:15:33 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tk/lib/multi-tk.rb: modify security check at creating\n\t  a new interpreter\n\nMon Sep  8 20:00:12 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb, lib/optparse/version.rb: search also all\n\t  capital versions.\n\nMon Sep  8 19:26:33 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl.h: include openssl/conf.h and openssl/conf_api.h.\n\n\t* ext/openssl/ossl_config.c: refine all with backward compatibility.\n\n\t* ext/openssl/ossl_config.h: export GetConfigPtr() and DupConfigPtr().\n\n\t* ext/openssl/ossl_x509.c: added new constants under X509 module.\n\t  DEFAULT_CERT_AREA, DEFAULT_CERT_DIR, DEFAULT_CERT_FILE,\n\t  DEFAULT_CERT_DIR_ENV, DEFAULT_CERT_FILE_ENV and DEFAULT_PRIVATE_DIR.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509extfactory_free): don't free\n\t  the members of the struct. it's left to GC.\n\n\t* ext/openssl/ossl_x509ext.c (ossl_x509_set_config): add for config=.\n\n\t* ext/openssl/ossl_x509ext.c (Xossl_x509extfactory_initialize):\n\t  add attr readers: issuer_certificate, subject_certificate,\n\t  subject_request, crl and config.\n\nMon Sep  8 18:26:41 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/accesslog.rb (AccessLog::setup_params): use req.port\n\t  instead of config[:Port] or req.request_uri.port.\n\n\t* lib/webrick/httprequest.rb (HTTPRequest#meta_vars): ditto.\n\n\t* lib/webrick/httpservlet/filehandler.rb (FileHandler#dir_list): ditto.\n\n\t* lib/webrick/config.rb: :Listen option never be used.\n\n\t* lib/webrick/server.rb (GenericServer#initialize): don't use :Listen\n\t  option and add warning message.\n\n\t* lib/webrick/log.rb (BasicLog#<<): shortcut of log(INFO, ...).\n\n\t* lib/webrick/httpserver.rb (HTTPServer#accesslog): use << for logging.\n\nSun Sep  7 16:08:28 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (lib_mainloop_core): fixed signal-trap bug\n\n\t* ext/tk/lib/*.rb: Ruby/Tk works at $SAFE == 4\n\nSat Sep  6 02:26:34 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_*.rb: assert_same, assert_match, and so on.\n\nSat Sep  6 18:45:46 2003  Mauricio Fernandez  <batsman.geo@yahoo.com>\n\n\t* parse.y (assignable): call rb_compile_error(), not rb_bug().\n\t  [ruby-core:01523]\n\nSat Sep  6 17:40:41 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ruby_missing.c: rid of unnecessary backward\n\t  compatibility stuff. and remove DEFINE_ALLOC_WRAPPER from\n\t  all sources.\n\n\t* ext/openssl/ossl_x509ext.c (X509::Extension.new): new method.\n\n\t* ext/openssl/ossl_x509ext.c (X509::Extension#oid=): new method.\n\n\t* ext/openssl/ossl_x509ext.c (X509::Extension#value=): new method.\n\n\t* ext/openssl/ossl_x509ext.c (X509::Extension#critical=): new method.\n\nSat Sep  6 01:23:22 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (CreateChild): need to quote cmd if RUBYSHELL is set.\n\n\t* win32/win32.c (CreateChild): fix condition about whether to call\n\t  shell or not.\n\nSat Sep  6 00:36:20 2003  Nobuyoshi Nakada  <nobu.nokada@softhome.net>\n\n\t* Makefile.in (test): phony target.\n\n\t* lib/mkmf.rb (have_library, find_library): configure by library\n\t  name.\n\n\t* lib/optparse.rb (OptionParser#order, #permute, #parse): allow an\n\t  array as argument.\n\n\t* test/ruby/test_*.rb: moved invariants to left side in\n\t  assert_equal, and use assert_nil, assert_raises and so on.\n\n\t* win32/win32.c (isInternalCmd): distinguish command.com and\n\t  cmd.exe.\n\n\t* win32/win32.c (make_cmdvector): a character just after wildcard\n\t  was ignored.  [ruby-core:01518]\n\nFri Sep  5 20:27:08 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_*.rb: replace 'assert(a == b)' with assert_equal(a, b)'\n\nFri Sep  5 18:00:51 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/x509.rb: new method X509::Name::parse.\n\n\t* ext/openssl/ossl_digest.c: add ossl_digest_new().\n\n\t* ext/openssl/ossl_digest.h: ditto.\n\n\t* ext/openssl/ossl_cipher.c: add ossl_cipher_new().\n\n\t* ext/openssl/ossl_cipher.h: ditto.\n\nFri Sep  5 15:32:04 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-font-lock-maybe-here-docs): should not\n\t  search delimiter forward if found in backward.\n\nFri Sep  5 13:32:48 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/runner.rb: arguments should be keys.\n\nFri Sep  5 12:09:55 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* test/ruby/test_system.rb (test_system): check existence of ruby\n\t  interpreter.\n\nFri Sep  5 11:32:17 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/optparse.rb (--version): fix assignment/reference order.\n\n\t* lib/optparse.rb (OptionParser#help): new; OptionParser#to_s may\n\t  be deprecated in future.\n\n\t* lib/optparse/version.rb (OptionParser#show_version): hide Object.\n\n\t* test/runner.rb: fix optparse usage.\n\n\t* test/runner.rb: glob all testsuits if no tests given.\n\nFri Sep  5 10:42:58 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/runner.rb: added.  gets testcases from command line and runs it.\n\n\t* test/ruby/test_gc.rb: remove useless part which was for dumping test\n\t  result.\n\nFri Sep  5 09:28:59 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby/test_gc.rb: added.  splitter.rb which I made to split\n\t  sample/test.rb into test/ruby/test_* kindly removed GC test (the\n\t  last section in the original test) to reduce things to be worried.\n\nFri Sep  5 03:00:04 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* test/ruby/test_iterator.rb (test_block_in_arg): add no block\n\t  given tests.\n\n\t* test/ruby/test_iterator.rb (test_ljump): uncomment LocalJumpError\n\t  test.\n\nFri Sep  5 01:10:11 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/ruby: tests for ruby itself.\n\n\t* test/ruby/test_*.rb: split sample/test.rb into 28 test/unit testcases.\n\t  some tests could not be translates...  search '!!' mark to see it.\n\n\t* test/csv/test_csv.rb: should require 'csv', not '../lib/csv'.  test\n\t  runner should set load path correctly.\n\nFri Sep  5 01:03:59 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: close opened files for CSV::IOBuf explicitly.\n\t  opened file cannot be removed under win32 box.\n\nThu Sep  4 23:59:40 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* parse.y (tokadd_string): newlines have no special meanings in\n\t  %w/%W, otherwise they are ignored only when interpolation is\n\t  enabled.  [ruby-dev:21325]\n\nThu Sep  4 19:38:25 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* ext/io/wait/.cvsignore: added.\n\n\t* ext/openssl/.cvsignore: added.\n\nThu Sep  4 19:28:24 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* sample/openssl: added.  Sample of standard distribution library\n\t  should be locate in sample/{module_name}/*.\n\n\t* ext/openssl/sample/*: removed.  move to sample/openssl/*.\n\nThu Sep  4 18:02:15 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: use remove_const to reduce warnings.  use\n\t  Dir.tmpdir to locate working files.\n\nThu Sep  4 17:41:31 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* misc/ruby-mode.el (ruby-here-doc-beg-re): underscore also is\n\t  valid delimiter.\n\n\t* misc/ruby-mode.el (ruby-here-doc-end-match): must quote\n\t  arbitrary string to use as regexp.\n\n\t* misc/ruby-mode.el (ruby-font-lock-maybe-here-docs): must not\n\t  call `ruby-here-doc-end-match' unless `ruby-here-doc-beg-re'\n\t  matched.\n\nThu Sep  4 15:40:07 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test/csv/test_csv.rb: run on test/unit original layer.\n\nThu Sep  4 12:54:50 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/token.c: headerless documents with root-level spacing now\n\t  honored.\n\nThu Sep  4 00:06:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (mark_frame_adj): need to adjust argv pointer if using\n\t  system's alloca. [ruby-core:01503]\n\nWed Sep  3 21:33:20 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* test: add test directory.  Test::Unit aware testcases and needed\n\t  files should be located in this directory.  dir/file name convention;\n\t    test/{module_name}/test_{testcase_name}.rb\n\t    test/{module_name}/{needed_files}\n\t  someday, someone will write testrunner which searches test_*.rb and\n\t  run testcases automatically.\n\n\t* test/csv/*: add testcase for lib/csv.rb.\n\nWed Sep  3 01:37:09 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* io.c (rb_f_gets): should call next_argv() before type check\n\t  current_file. [ruby-list:38336]\n\nTue Sep  2 20:37:15 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/net/protocols.rb (SSLIO#ssl_connect): warning\n\t  for skipping server verification.\n\nTue Sep  2 23:36:57 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (proc_invoke): should retrieve retval when pcall is true.\n\nTue Sep  2 14:09:20 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* ext/socket/extconf.rb: check s6_addr8 in in6_addr (Tru64 UNIX).\n\t  the patch is submitted by nmu <nmu@users.sourceforge.jp>.\n\n\t* ext/socket/getaddrinfo.c (getaddrinfo): should use in6_addr8 on\n\t  some platforms.\n\n\t* ext/socket/getnameinfo.c (getnameinfo): ditto.\n\nTue Sep  2 14:02:19 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* ext/tcltklib/tcltklib.c (ip_invoke): fixed bug on passing a exception\n\n\t* ext/tk/lib/{tk.rb, tkcanvas.rb, tkfont.rb, tktext.rb}:\n\t  bug fix and improvement of font control\n\nTue Sep  2 09:51:36 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): should not handle exceptions within rescue\n\t  argument.  [ruby-talk:80804]\n\nTue Sep  2 00:44:37 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* re.c (rb_memsearch): fix overrun.  [ruby-talk:80759]\n\nTue Sep  2 00:41:27 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/iconv/iconv.c (map_charset): use lower case keys.\n\n\t* ext/iconv/iconv.c (iconv_fail): just yield error and return the\n\t  result if a block is given.\n\n\t* ext/iconv/iconv.c (iconv_convert): yield error and append the\n\t  result if a block is given.\n\n\t* ext/iconv/charset_alias.rb (charset_alias): optional third\n\t  argument.\n\n\t* ext/iconv/charset_alias.rb (charset_alias): use CP932 instead of\n\t  SHIFT_JIS on cygwin.\n\nMon Sep  1 18:34:25 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval): make tail recursion in ELSE clause of\n\t  RESCUE a jump.\n\nMon Sep  1 18:00:02 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (aref_args): forgot to call NEW_SPLAT(). reported by\n\t  Dave Butcher.\n\n\t* eval.c (Init_Thread): protect thgroup_default.  suggested by Guy\n\t  Decoux in [ruby-talk:80623]\n\nMon Sep  1 16:59:10 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_thread_switch): add RESTORE_EXIT; exit by another\n\t  thread termination.\n\n\t* eval.c (rb_thread_start_0): should not error_print() within\n\t  terminated thread, because $stderr used by it might be\n\t  overriden now.  [ruby-dev:21280]\n\nSun Aug 31 22:46:55 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* eval.c (TAG_DST()): take no argument.\n\n\t* process.c (p_gid_sw_ensure): return VALUE.\n\nSun Aug 31 22:27:10 2003  Hidetoshi NAGAI  <nagai@dumbo.ai.kyutech.ac.jp>\n\n\t* process.c (p_gid_sw_ensure): lack of function type\n\nSun Aug 31 12:25:06 2003  Nobuyoshi Nakada  <nobu.nokada@softhome.net>\n\n\t* lib/optparse.rb: --version takes an optional argument; \"all\" or\n\t  a list of package names.\n\nSun Aug 31 10:17:02 2003  Tadayoshi Funaba  <tadf@dotrb.org>\n\n\t* lib/date/format.rb: yyyy/mm is not an acceptable format.\n\n\t* lib/time.rb: follow above.\n\nSat Aug 30 14:25:43 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_iter_break): should not call TAG_JUMP directly.\n\nSat Aug 30 03:58:21 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (struct BLOCK): remove BLOCKTAG, use scope instead.\n\n\t* eval.c (POP_TAG): no longer propagate retval.  retval is now set\n\t  directly by localjump_destination().\n\n\t* eval.c (localjump_destination): new function to cast\n\t  return/break local jump.\n\n\t* eval.c (rb_yield_0): stop TAG_RETURN/TAG_BREAK escaping.\n\nFri Aug 29 22:35:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* bigdecimal.c *.html: The 2nd arg. for add,sub,mult, and div is 0,\n\t  then result will be the same as +,-,*,/ respectively.\n\nFri Aug 29 17:30:15 2003  Hidetoshi NAGAI  <nagai@ai.kyutech.ac.jp>\n\n\t* process.c: bug fix\n\n\t* process.c: add rb_secure(2) to methods of Process::{UID,GID,Sys}\n\n\t* process.c: deny handling IDs during evaluating the block given to\n\t  the Process::{UID,GID}.switch method\n\n\t* ext/tcltklib/tcltklib.c: some methods have no effect if on slave-IP\n\n\t* ext/tcltklib/tcltklib.c: can create a interpreter without Tk\n\n\t* ext/tcltklib/tcltklib.c: bug fix on handling exceptions\n\n\t* ext/tcltklib/MANUAL.euc: modify\n\n\t* ext/tk/lib/tk.rb: freeze some core modules\n\n\t* ext/tk/lib/multi-tk.rb: more secure\n\n\t* ext/tk/lib/tk.rb: TkVariable.new(array) --> treat the array as the\n\t  Tk's list\n\n\t* ext/tk/lib/tk.rb: improve accessibility of TkVariable object\n\n\t* ext/tk/lib/tk.rb, ext/tk/lib/tkfont.rb, ext/tk/lib/tkcanvas.rb,\n\t  ext/tk/lib/tktext.rb: fix bug of font handling\n\n\t* ext/tk/lib/tkfont.rb: TkFont.new() accepts compound fonts\n\nThu Aug 28 22:07:12 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_autoload_load): call const_missing if autoloading\n\t  constant is not defined to allow hook.\n\n\t* eval.c (rb_eval): use rb_const_get_from() instead of\n\t  rb_const_get_at().\n\n\t* eval.c (is_defined): forgot to check NODE_COLON3.\n\nThu Aug 28 17:30:24 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* variable.c (rb_const_get_0): should check constants defined in\n\t  included modules, if klass is Object. [ruby-talk:79302]\n\n\t* numeric.c (check_uint): check should be done using UINT_MAX, not\n\t  INT_MAX. this fix is submitted by Lyle Johnson\n\t  <lyle@knology.net> in [ruby-core:01486]\n\nThu Aug 28 05:02:52 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (singleton): typo fixed (ruby-bugs-ja:PR#562)\n\nThu Aug 28 02:37:45 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_eval): *a = [1,2] now assigns [[1,2]] to a.\n\t  consistent with *a = [1], which set [[1]] to a.\n\n\t* node.h: merge NODE_RESTARY to NODE_SPLAT.\n\n\t* parse.y: rules simplified a bit by removing NODE_RESTARY.\n\n\t* sample/test.rb: updated for new assignment behavior.\n\nWed Aug 27 22:33:24 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* error.c (rb_bug): should not use other methods; this function is\n\t  not for ordinary use.  [ruby-dev:21259]\n\nWed Aug 27 15:07:57 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/smtp.rb (check_response): AUTH CRAM-MD5 returns 334\n\t  response. [ruby-list:38279]\n\nWed Aug 27 05:10:15 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* win32/win32.c (map_errno): support winsock error.\n\n\t* win32/win32.c (pipe_exec, CreateChild, poll_child_status, waitpid,\n\t  kill, link, rb_w32_rename, unixtime_to_filetime, rb_w32_utime):\n\t  pass errno to map_errno().\n\n\t* win32/win32.c (rb_w32_select, rb_w32_accept, rb_w32_bind,\n\t  rb_w32_connect, rb_w32_getpeername, rb_w32_getsockname,\n\t  rb_w32_getsockopt, rb_w32_ioctlsocket, rb_w32_listen, rb_w32_recv,\n\t  rb_w32_recvfrom, rb_w32_send, rb_w32_sendto, rb_w32_setsockopt,\n\t  rb_w32_shutdown, rb_w32_socket, rb_w32_gethostbyaddr,\n\t  rb_w32_gethostbyname, rb_w32_gethostname, rb_w32_getprotobyname,\n\t  rb_w32_getprotobynumber, rb_w32_getservbyname, rb_w32_getservbyport,\n\t  rb_w32_fclose, rb_w32_close): use map_errno().\n\n\t* win32/win32.h: add winsock errors.\n\nTue Aug 26 23:53:23 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* lib/ostruct.rb (OpenStruct::method_missing): prohibit modifying\n\t  frozen OpenStruct. [ruby-talk:80214]\n\nTue Aug 26 20:03:50 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* lib/mkmf.rb (create_tmpsrc): add the hook for source.\n\t  [ruby-list:38122]\n\nTue Aug 26 15:59:53 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* implicit.c (syck_type_id_to_taguri): corrected detection of\n\t  x-private types.\n\nSun Aug 24 01:02:48 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* file.c (file_expand_path): performance improvement.\n\t  [ruby-talk:79748]\n\nSat Aug 23 23:41:16 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* file.c (rb_file_s_expand_path): avoid calling rb_scan_args() for\n\t  apparent cases. [ruby-talk:79748]\n\nSat Aug 23 18:56:53 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/nkf/nkf.c (rb_nkf_putchar): should use rb_str_resize() to just\n\t  resize a string, rb_str_cat() disallows NULL.  [ruby-dev:21237]\n\nSat Aug 23 16:48:41 2003  Keiju Ishitsuka  <keiju@ishitsuka.com>\n\n\t* lib/irb/ruby-lex.rb: bug fix for \"foo\" !~ /bar/. [ruby-talk:79942]\n\nSat Aug 23 15:59:58 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_eval, rb_iterate, block_pass): reduce PUSH/POP_TAG and\n\t  EXEC_TAG() for retry.  [ruby-dev:21216]\n\nSat Aug 23 02:32:33 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_splat): should check if \"values\" is array.\n\n\t* enum.c (each_with_index_i): typo.\n\nFri Aug 22 17:07:05 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* enum.c (inject_i): use rb_yield_values.\n\n\t* enum.c (each_with_index_i): ditto.\n\n\t* eval.c (rb_yield_splat): new function to call \"yield *values\".\n\n\t* string.c (rb_str_scan): use rb_yield_splat().\n\nFri Aug 22 06:13:22 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/rubyext.c: refactoring of the transfer method\n\t  dispatch.  added yaml_org_handler for faster dispatch of\n\t  transfers to base types.\n\n\t* lib/yaml/rubytypes.rb: removed handling of builtins from\n\t  Ruby library.\n\n\t* ext/syck/token.c: quoted and block scalars are now implicit !str\n\n\t* ext/syck/implicit.c: empty string detected as !null.\n\nFri Aug 22 01:00:31 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (block_pass): improve passing current block.\n\nFri Aug 22 00:13:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c: Int. overflow bug in multiplication\n\t  fixed, and VpNmlz() speed up.\n\nWed Aug 20 16:44:49 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/socket/socket.c (ruby_connect): many systems seem to have\n\t  a problem in select() after EINPROGRESS.  [ruby-list:38080]\n\nWed Aug 20 01:31:17 2003  why the lucky stiff  <why@ruby-lang.org>\n\n\t* ext/syck/syck.h: Parser definition problems on HP-UX.\n\t  [ruby-talk:79389]\n\n\t* ext/syck/handler.c (syck_hdlr_get_anchor): Memory leak.\n\n\t* ext/syck/syck.s (syck_io_file_read): Bad arguments to fread.\n\n\t* ext/syck/rubyext.c: Tainting issues.\n\nTue Aug 19 23:20:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c .h .html: to_s(\"+\") implemented.\n\n\t* ext/bigdecimal/lib/bigdecimal/math.rb: E implemented.\n\nTue Aug 19 07:47:09 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/ssl.rb: new file; SSL/TLS enhancement for GenericServer.\n\n\t* lib/webrick/https.rb: SSLSocket handling is moved to webrick/ssl.rb.\n\n\t* lib/webrick/compat.rb (File::fnmatch): remove old migration code.\n\n\t* lib/webrick/httpserver.rb (HTTPServer#run): ditto.\n\n\t* lib/webrick/server.rb (GenericServer#listen): the body of this\n\t  method is pull out as Utils::create_lisnteners.\n\n\t* lib/webrick/utils.rb (Utils::create_lisnteners): new method.\n\n\t* lib/webrick/server.rb (GenericServer#start): should rescue\n\t  unknown errors. and refine comments.\n\n\t* ext/openssl/lib/openssl/ssl.rb (SSLServer#accept): should close\n\t  socket if SSLSocket raises error.\n\nTue Aug 19 11:19:33 2003  Shugo Maeda  <shugo@ruby-lang.org>\n\n\t* io.c (next_argv): should not call GetOpenFile() if rb_stdout is\n\t  not a IO (T_FILE).\n\nTue Aug 19 07:47:09 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/ossl_ssl.c: sync_close is moved to SSLSocket as\n\t  a builtin.\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#close): ditto.\n\n\t* ext/openssl/lib/openssl/buffering.rb (Buffering#puts): should\n\t  add a return to the tails of each line.\n\n\t* ext/openssl/lib/openssl/ssl.rb: new class OpenSSL::SSL::SSLServer.\n\n\t* ext/openssl/lib/net/protocols.rb (SSLIO#ssl_connect): use sync_close.\n\n\t* ext/openssl/sample/echo_svr.rb: use SSLServer.\n\n\t* ext/openssl/sample/echo_cli.rb: add example of SSLSocket#sync_close.\n\nTue Aug 19 01:24:34 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/curses/curses.c (_XOPEN_SOURCE_EXTENDED): Mac OS X standard\n\t  headers are inconsistent at this macro.  [ruby-core:01432]\n\n\t* ext/curses/extconf.rb: check if _XOPEN_SOURCE_EXTENDED breaks.\n\n\t* ext/tcltklib/stubs.c: Status macro in X11/Xthreads.h bothers\n\t  winspool.h\n\n\t* instruby.rb: make list at first instead of iterator.\n\t  [ruby-talk:79347]\n\nMon Aug 18 11:23:11 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* dir.c (glob_helper): preserve raw order for **.\n\nSun Aug 17 23:39:55 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/openssl/extconf.rb (HAVE_VA_ARGS_MACRO): need to compile.\n\nSun Aug 17 17:10:03 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/ssl.rb (SSLSocket#sync_close=): add a\n\t  method to specify if the underlying IO will be closed in\n\t  SSLSocket#close.\n\n\t* ext/openssl/lib/openssl/buffering.rb: add forwarders to\n\t  setsockopt, getsockopt and fcntl.\n\n\t* ext/openssl/lib/net/protocols.rb: enable sync for SSLSocket.\n\nSun Aug 17 11:32:04 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): should not force to remake Makefile when\n\t  installation and so on.\n\nSat Aug 16 23:58:18 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* marshal.c (w_symbol, w_object): get rid of warnings.\n\n\t* re.c (rb_memsearch): ditto.\n\n\t* time.c (time_dump): ditto.\n\n\t* ext/extmk.rb (extmake): not continue making when extconf.rb\n\t  failed.\n\n\t* ext/openssl/extconf.rb: check __VA_ARGS__ macro more precisely.\n\n\t* ext/openssl/ossl.h: remove version.h dependency.\n\n\t* ext/openssl/ruby_missing.h: ditto.\n\n\t* lib/mkmf.rb (pkg_config): use --libs output except with\n\t  only-L for other options.  [ruby-list:38099]\n\n\t* lib/mkmf.rb (create_makefile): separate rule for static\n\t  library from shared object.\n\n\t* win32/Makefile.sub, bcc32/Makefile.sub, wince/Makefile.sub:\n\t  define exec_prefix and libdir.\n\nFri Aug 15 23:15:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c .h: Bug in combination of limit & div\n\t  method fixed.\n\n\t* ext/bigdecimal/lib/bigdecimal/math.rb: atan() & sqrt() added.\n\nFri Aug 15 12:01:43 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* configure.in (HUGE_ST_INO): check whether struct stat.st_ino\n\t  is larger than long.  [ruby-dev:21194]\n\t  http://www.geocities.co.jp/SiliconValley-PaloAlto/1409/ruby/beos.html\n\n\t* error.c (syserr_eqq): errno might exceed Fixnum limit.\n\n\t* error.c (Init_Exception): moved base initialization from\n\t  init_syserr().\n\n\t* inits.c (rb_call_inits): postpone initializing errnos until\n\t  Bignum is available.\n\nFri Aug 15 12:01:43 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/curses/curses.c (_XOPEN_SOURCE_EXTENDED): needed to let\n\t  keyname() and so on be declared.\n\n\t* ext/curses/curses.c (curses_resizeterm, window_resize):\n\t  arguments conflicted with macros in term.h.\n\n\t* ext/curses/curses.c (Curses module methods): ensure\n\t  initialized.  [ruby-dev:21191]\n\nFri Aug 15 02:08:53 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* gc.c (id2ref): recycle check should be done by klass == 0.\n\t  [ruby-core:01408]\n\nFri Aug 15 01:34:23 2003  Michal Rokos  <m.rokos@sh.cvut.cz>\n\n\t* ext/openssl/ossl_pkey.c: move generate_cb here\n\n\t* ext/openssl/ossl_pkey_{dh|dsa|rsa}.c: adapt to this cb\n\n\t* ext/openssl/openssl_missing.[ch]: add (0.9.6x, x<j) missing BN funcs\n\n\t* ext/openssl/ossl_bn.c: use supplied funcs from openssl_missing.c\n\nFri Aug 15 00:38:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c: Bug in div method fixed.\n\n\t* ext/bigdecimal/lib/bigdecimal/math.rb: Newly added.\n\n\t* ext/bigdecimal/sample/pi.rb: Changed so as to use math.rb.\n\nThu Aug 14 21:19:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (Init_Thread): Continuation#[] added.  [ruby-talk:79028]\n\nThu Aug 14 20:03:34 2003  Masaki Suketa  <masaki.suketa@nifty.ne.jp>\n\n\t* ext/win32ole/win32ole.c (OLE_FREE): should not call\n\t  ole_message_loop.\n\n\t* ext/win32ole/win32ole.c (ole_event_free): ditto.\n\n\t* ext/win32ole/win32ole.c (ole_initialize): stop calling\n\t  OleUninitialize at exit.\n\nThu Aug 14 11:27:37 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* gc.c (rb_data_object_alloc): check type of 1st argument.\n\t  [ruby-dev:21192]\n\nThu Aug 14 00:21:14 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* parse.y (mlhs_node): should allow \"::Foo\" (colon3) as lhs.\n\n\t* parse.y (lhs): ditto.\n\n\t* parse.y (yylex): should return tCOLON3 right after kCLASS.\n\t  [ruby-talk:78918]\n\n\t* error.c (exc_initialize): was converting argument to string too\n\t  eagerly.  Only check was needed. [ruby-talk:78958]\n\nWed Aug 13 23:31:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal/bigdecimal.c .h .html: Ambiguity of\n\t  BigDecimal::limit removed.\n\nWed Aug 13 19:21:34 2003  Christian Neukirchen  <chneukirchen@yahoo.de>\n\n\t* lib/webrick/https.rb (HTTPServer#run): should set syncing-mode\n\t  to SSLSocket. [ruby-talk:78919]\n\nWed Aug 13 18:13:49 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (POP_BLOCK): turn on BLOCK_LEFT flag when leaving block.\n\n\t* eval.c (proc_invoke): unpack return/break destination when block\n\t  is already left.\n\nWed Aug 13 15:58:31 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* object.c (rb_class_s_alloc): add function prototype to avoid VC++\n\t  warning.\n\nWed Aug 13 13:50:59 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/Win32API/Win32API.c (Win32API_initialize): should pass some\n\t  class to first argument of Data_Wrap_Struct(). (ruby-bugs:PR#1109)\n\nTue Aug 12 16:55:11 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* Makefile.in: static link libraries to LIBRUBY_SO with static linked\n\t  ext.  [ruby-dev:21157]\n\n\t* ext/extmk.rb (extmake): sort extension library initialization order.\n\n\t* ext/extmk.rb (extmake): compact $extlibs.\n\nTue Aug 12 02:48:56 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (THREAD_SAVE_CONTEXT): should explicitly turn off the\n\t  flag before calling getcontext(2).\n\n\t* eval.c (struct thread): add member to save backing store on\n\t  IA64. (ruby-bugs PR1086)\n\n\t* eval.c (thread_mark): mark IA64 backing store region.\n\n\t* eval.c (thread_free): free saved IA64 backing store.\n\n\t* eval.c (rb_thread_save_context): save IA64 backing store as well.\n\n\t* eval.c (rb_thread_restore_context): restore IA64 backing store.\n\n\t* eval.c (THREAD_ALLOC): initialize IA64 members.\n\nMon Aug 11 22:31:50 2003  NAKAMURA, Hiroshi  <nahi@ruby-lang.org>\n\n\t* lib/debug.rb(debug_command): inspection command should inspect\n\t  resulting value even if it's nil.  [ruby-dev:21180] by OMAE, jun\n\t  <jun66j5@ybb.ne.jp>.\n\n\t* lib/debug.rb(debug_command): incomplete regexp.\n\nMon Aug 11 17:33:07 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call_super): do not use rb_block_given_p() for\n\t  check. [ruby-talk:78656]\n\n\t* eval.c (BEGIN_CALLARGS): push ITER_NOT only when ITER_PRE.\n\nSun Aug 10 10:43:05 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* ext/openssl/lib/openssl/buffering.rb: increase BLOCK_SIZE\n\t  from 1k to 16k bytes. [ruby-talk:78603]\n\n\t* ext/openssl/ossl_ssl.c (ossl_sslctx_s_alloc): enable\n\t  partial write to allow interruption in SSLSocket#write.\n\nSun Aug 10 00:34:16 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* cygwin/GNUmakefile: remove unnecessary '--drive-name=$(CC)'\n\t  for ccache.\n\nSat Aug  9 10:36:21 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* marshal.c (w_object): do not dump generic instance variable when\n\t  marshal_dump is defined.\n\nSat Aug  9 00:35:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal.c: F style output(like 1234.56789) implemented\n\t  to to_s method.\n\t* ext/bigdecimal_??.html: F style output(like 1234.56789)\n\t  implemented to to_s method.\n\nFri Aug  8 12:33:17 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* bcc32/Makefile.sub: rubyw.exe should be a Windows GUI program.\n\t  add the -aa option to WLDFLAGS.\n\nFri Aug  8 11:29:26 2003  Koji Arai  <jca02266@nifty.ne.jp>\n\n\t* marshal.c (w_object): should set `c_arg' at first.\n\nFri Aug  8 03:22:28 2003  GOTOU Yuuzou  <gotoyuzo@notwork.org>\n\n\t* lib/webrick/httputils.rb (FormData#list): should not take\n\t  a side effect for the receiver.\n\nThu Aug  7 14:40:37 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* cygwin/GNUmakefile: better --disbale-shared option support.\n\n\t* cygwin/GNUmakefile: add forwarding DLL target for cygwin.\n\nThu Aug  7 14:21:05 2003  Corinna Vinschen  <vinschen@redhat.com>\n\n\t* configure.in: Fix Cygwin specific naming of libraries to\n\t  be net distribution compliant. (ruby-bugs:PR#1077)\n\t  cygwin-ruby18.dll -> cygruby18.dll\n\nThu Aug  7 12:51:38 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_at_exit): should not be called without a block.\n\t  block_given check added.\n\nThu Aug  7 06:46:06 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_call0): forgot to pop ruby_class.\n\n\t* eval.c (rb_call0): update ruby_class as well as ruby_cref.\n\t  (ruby-bugs-ja:PR#540)\n\nThu Aug  7 04:52:50 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_yield_0): remove ruby_frame->cbase and unify to\n\t  ruby_cref.  [ruby-talk:78141]\n\nThu Aug  7 04:19:15 2003  Akinori MUSHA  <knu@iDaemons.org>\n\n\t* gc.c: FreeBSD/ia64's mcontext_t is a bit different from that of\n\t  Linux/ia64.  This makes gc.c compile but miniruby coredumps for\n\t  the moment.\n\nThu Aug  7 00:15:00 2003  Shigeo Kobayashi  <shigek@ruby-lang.org>\n\n\t* ext/bigdecimal.c: Comparison results adjusted to Float's.\n\t* ext/bigdecimal.c: Use rb_num_coerce_????(x,y) instead of own.\n\nWed Aug  6 22:58:00 2003  Nathaniel Talbott  <ntalbott@ruby-lang.org>\n\n\t* lib/test/unit/testcase.rb: Added equality checking.\n\t* lib/test/unit/testsuite.rb: Added equality checking.\n\t* lib/test/unit/assertions.rb: Fixed a warning.\n\nWed Aug  6 17:28:10 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* ext/extmk.rb (extmake): pass LIBPATH to make ruby.  [ruby-dev:21137]\n\n\t* ext/extmk.rb (extmake): set library name as source file name in\n\t  Init_ext().  [ruby-dev:21137]\n\n\t* lib/mkmf.rb (Logging::postpone): postpone logging messages after\n\t  heading message as the result of the block.\n\n\t* lib/mkmf.rb (macro_defined?): append newline to src unless ended\n\t  with it.\n\n\t* lib/mkmf.rb (have_library): treat nil function name as \"main\".\n\t  (ruby-bugs:PR#1083)\n\n\t* lib/mkmf.rb (pkg_config): should append additional libraries to\n\t  $libs but not $LIBS.  [ruby-dev:21137]\n\n\t* ext/io/wait/extconf.rb: check DOSISH macro instead of platform.\n\n\t* ext/digest/sha1/extconf.rb: have_library already appends library\n\t  name.\n\nWed Aug  6 17:23:57 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c: initialize /* OK */ variables by Qnil to stop warnings.\n\nWed Aug  6 04:58:32 2003  NAKAMURA Usaku  <usa@ruby-lang.org>\n\n\t* ext/Setup*: add io/wait and openssl.\n\nWed Aug  6 01:13:38 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* eval.c (rb_f_autoload): use ruby_cbase instead of ruby_class.\n\n\t* eval.c (rb_f_autoload_p): ditto.\n\n\t* class.c (rb_mod_init_copy): no longer implements independent\n\t  clone and dup methods.  override \"initialize_copy\" instead.\n\t  [ruby-core:01352]\n\n\t* object.c (rb_class_s_alloc): define Class allocation function.\n\t  this makes Classes to follow clone framework that uses\n\t  initialize_copy.\n\n\t* object.c (rb_class_initialize): separate instantiation and\n\t  initialization.\n\n\t* object.c (rb_obj_alloc): prohibit instantiation from\n\t  uninitialized class.\n\n\t* object.c (rb_class_superclass): check uninitialized class.\n\n\t* array.c (rb_ary_fill): wrong index processing with block.  this\n\t  fix was done by Koji Arai <JCA02266@nifty.ne.jp> [ruby-list:38029]\n\n\t* marshal.c (w_object): should preserve generic ivar for nil,\n\t  true, false, symbols, and fixnums.\n\n\t* marshal.c (w_uclass): base_klass check should be done after\n\t  rb_class_real().\n\nWed Aug  6 01:18:50 2003  Minero Aoki  <aamine@loveruby.net>\n\n\t* lib/net/http.rb: update document.\n\n\t* lib/net/pop.rb: ditto.\n\n\t* lib/net/protocol.rb: ditto.\n\nWed Aug  6 00:48:37 2003  Koji Arai  <jca02266@nifty.ne.jp>\n\n\t* marshal.c (w_object): should recommend marshal_dump rather than\n\t  _dump_data.\n\nTue Aug  5 17:58:57 2003  WATANABE Hirofumi  <eban@ruby-lang.org>\n\n\t* lib/fileutils.rb (install): should preserve timestamp only.\n\nTue Aug  5 17:31:59 2003  Ian Macdonald  <ian@caliban.org>\n\n\t* lib/shell/command-processor.rb (Shell::CommandProcessor::rmdir):\n\t  simple typo.\n\nTue Aug  5 15:47:34 2003  Nobuyoshi Nakada  <nobu@ruby-lang.org>\n\n\t* eval.c (rb_load): should preserve current source file/line.\n\nTue Aug  5 10:04:42 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* string.c (str_new4): ptr may refer null_str.\n\nMon Aug  4 17:25:18 2003  Yukihiro Matsumoto  <matz@ruby-lang.org>\n\n\t* stable version 1.8.0 released.\n\nFor the changes before 1.8.0, see doc/ChangeLog-1.8.0\n\nLocal variables:\nadd-log-time-format: (lambda ()\n  (let* ((time (current-time))\n\t (system-time-locale \"C\")\n\t (diff (+ (cadr time) 32400))\n\t (lo (% diff 65536))\n\t (hi (+ (car time) (/ diff 65536))))\n  (format-time-string \"%a %b %e %H:%M:%S %Y\" (list hi lo) t)))\nindent-tabs-mode: t\ntab-width: 8\nend:\n", "/* -*- C -*-\n * $Id$\n */\n\n#include <ruby.h>\n#include \"dl.h\"\n\n#define SafeStringValuePtr(v) (rb_string_value(&v), rb_check_safe_obj(v), RSTRING_PTR(v))\n\nVALUE rb_cDLHandle;\n\nvoid\ndlhandle_free(struct dl_handle *dlhandle)\n{\n  if( dlhandle->ptr && dlhandle->open && dlhandle->enable_close ){\n    dlclose(dlhandle->ptr);\n  }\n}\n\nVALUE\nrb_dlhandle_close(VALUE self)\n{\n  struct dl_handle *dlhandle;\n\n  Data_Get_Struct(self, struct dl_handle, dlhandle);\n  dlhandle->open = 0;\n  return INT2NUM(dlclose(dlhandle->ptr));\n}\n\nVALUE\nrb_dlhandle_s_allocate(VALUE klass)\n{\n  VALUE obj;\n  struct dl_handle *dlhandle;\n\n  obj = Data_Make_Struct(rb_cDLHandle, struct dl_handle, 0,\n\t\t\t dlhandle_free, dlhandle);\n  dlhandle->ptr  = 0;\n  dlhandle->open = 0;\n  dlhandle->enable_close = 0;\n\n  return obj;\n}\n\nVALUE\nrb_dlhandle_initialize(int argc, VALUE argv[], VALUE self)\n{\n  void *ptr;\n  struct dl_handle *dlhandle;\n  VALUE lib, flag;\n  char  *clib;\n  int   cflag;\n  const char *err;\n\n  switch( rb_scan_args(argc, argv, \"02\", &lib, &flag) ){\n  case 0:\n    clib = NULL;\n    cflag = RTLD_LAZY | RTLD_GLOBAL;\n    break;\n  case 1:\n    clib = NIL_P(lib) ? NULL : SafeStringValuePtr(lib);\n    cflag = RTLD_LAZY | RTLD_GLOBAL;\n    break;\n  case 2:\n    clib = NIL_P(lib) ? NULL : SafeStringValuePtr(lib);\n    cflag = NUM2INT(flag);\n    break;\n  default:\n    rb_bug(\"rb_dlhandle_new\");\n  }\n\n  ptr = dlopen(clib, cflag);\n#if defined(HAVE_DLERROR)\n  if( !ptr && (err = dlerror()) ){\n    rb_raise(rb_eDLError, \"%s\", err);\n  }\n#else\n  if( !ptr ){\n    err = dlerror();\n    rb_raise(rb_eDLError, \"%s\", err);\n  }\n#endif\n  Data_Get_Struct(self, struct dl_handle, dlhandle);\n  if( dlhandle->ptr && dlhandle->open && dlhandle->enable_close ){\n    dlclose(dlhandle->ptr);\n  }\n  dlhandle->ptr = ptr;\n  dlhandle->open = 1;\n  dlhandle->enable_close = 0;\n\n  if( rb_block_given_p() ){\n    rb_ensure(rb_yield, self, rb_dlhandle_close, self);\n  }\n\n  return Qnil;\n}\n\nVALUE\nrb_dlhandle_enable_close(VALUE self)\n{\n  struct dl_handle *dlhandle;\n\n  Data_Get_Struct(self, struct dl_handle, dlhandle);\n  dlhandle->enable_close = 1;\n  return Qnil;\n}\n\nVALUE\nrb_dlhandle_disable_close(VALUE self)\n{\n  struct dl_handle *dlhandle;\n\n  Data_Get_Struct(self, struct dl_handle, dlhandle);\n  dlhandle->enable_close = 0;\n  return Qnil;\n}\n\nVALUE\nrb_dlhandle_to_i(VALUE self)\n{\n  struct dl_handle *dlhandle;\n\n  Data_Get_Struct(self, struct dl_handle, dlhandle);\n  return PTR2NUM(dlhandle);\n}\n\nVALUE\nrb_dlhandle_sym(VALUE self, VALUE sym)\n{\n    void (*func)();\n    struct dl_handle *dlhandle;\n    void *handle;\n    const char *name;\n    const char *err;\n    int i;\n\n#if defined(HAVE_DLERROR)\n# define CHECK_DLERROR if( err = dlerror() ){ func = 0; }\n#else\n# define CHECK_DLERROR\n#endif\n\n    rb_secure(2);\n\n    name = SafeStringValuePtr(sym);\n\n    Data_Get_Struct(self, struct dl_handle, dlhandle);\n    if( ! dlhandle->open ){\n\trb_raise(rb_eDLError, \"closed handle\");\n    }\n    handle = dlhandle->ptr;\n\n    func = dlsym(handle, name);\n    CHECK_DLERROR;\n#if defined(FUNC_STDCALL)\n    if( !func ){\n\tint  len = strlen(name);\n\tchar *name_n;\n#if defined(__CYGWIN__) || defined(_WIN32) || defined(__MINGW32__)\n\t{\n\t    char *name_a = (char*)xmalloc(len+2);\n\t    strcpy(name_a, name);\n\t    name_n = name_a;\n\t    name_a[len]   = 'A';\n\t    name_a[len+1] = '\\0';\n\t    func = dlsym(handle, name_a);\n\t    CHECK_DLERROR;\n\t    if( func ) goto found;\n\t    name_n = xrealloc(name_a, len+6);\n\t}\n#else\n\tname_n = (char*)xmalloc(len+6);\n#endif\n\tmemcpy(name_n, name, len);\n\tname_n[len++] = '@';\n\tfor( i = 0; i < 256; i += 4 ){\n\t    sprintf(name_n + len, \"%d\", i);\n\t    func = dlsym(handle, name_n);\n\t    CHECK_DLERROR;\n\t    if( func ) break;\n\t}\n\tif( func ) goto found;\n\tname_n[len-1] = 'A';\n\tname_n[len++] = '@';\n\tfor( i = 0; i < 256; i += 4 ){\n\t    sprintf(name_n + len, \"%d\", i);\n\t    func = dlsym(handle, name_n);\n\t    CHECK_DLERROR;\n\t    if( func ) break;\n\t}\n      found:\n\txfree(name_n);\n    }\n#endif\n    if( !func ){\n\trb_raise(rb_eDLError, \"unknown symbol \\\"%s\\\"\", name);\n    }\n\n    return PTR2NUM(func);\n}\n\nvoid\nInit_dlhandle()\n{\n    rb_cDLHandle = rb_define_class_under(rb_mDL, \"Handle\", rb_cObject);\n    rb_define_alloc_func(rb_cDLHandle, rb_dlhandle_s_allocate);\n    rb_define_method(rb_cDLHandle, \"initialize\", rb_dlhandle_initialize, -1);\n    rb_define_method(rb_cDLHandle, \"to_i\", rb_dlhandle_to_i, 0);\n    rb_define_method(rb_cDLHandle, \"close\", rb_dlhandle_close, 0);\n    rb_define_method(rb_cDLHandle, \"sym\",  rb_dlhandle_sym, 1);\n    rb_define_method(rb_cDLHandle, \"[]\",  rb_dlhandle_sym,  1);\n    rb_define_method(rb_cDLHandle, \"disable_close\", rb_dlhandle_disable_close, 0);\n    rb_define_method(rb_cDLHandle, \"enable_close\", rb_dlhandle_enable_close, 0);\n}\n"], "filenames": ["ChangeLog", "ext/dl/handle.c"], "buggy_code_start_loc": [0, 6], "buggy_code_end_loc": [0, 144], "fixing_code_start_loc": [1, 7], "fixing_code_end_loc": [9, 146], "type": "CWE-20", "message": "DL::dlopen in Ruby 1.8, 1.9.0, 1.9.2, 1.9.3, 2.0.0 before patchlevel 648, and 2.1 before 2.1.8 opens libraries with tainted names.", "other": {"cve": {"id": "CVE-2009-5147", "sourceIdentifier": "cve@mitre.org", "published": "2017-03-29T14:59:00.187", "lastModified": "2018-03-28T01:29:01.247", "vulnStatus": "Modified", "descriptions": [{"lang": "en", "value": "DL::dlopen in Ruby 1.8, 1.9.0, 1.9.2, 1.9.3, 2.0.0 before patchlevel 648, and 2.1 before 2.1.8 opens libraries with tainted names."}, {"lang": "es", "value": "DL::dlopen en Ruby 1.8, 1.9.0, 1.9.2, 1.9.3, 2.0.0 en versiones anteriores a patchlevel 648, y 2.1 en versiones anteriores a 2.1.8 abre librer\u00edas con nombres contaminados."}], "metrics": {"cvssMetricV30": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.0", "vectorString": "CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "LOW", "baseScore": 7.3, "baseSeverity": "HIGH"}, "exploitabilityScore": 3.9, "impactScore": 3.4}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:N/C:P/I:P/A:P", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "NONE", "confidentialityImpact": "PARTIAL", "integrityImpact": "PARTIAL", "availabilityImpact": "PARTIAL", "baseScore": 7.5}, "baseSeverity": "HIGH", "exploitabilityScore": 10.0, "impactScore": 6.4, "acInsufInfo": true, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-20"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:1.8.0:*:*:*:*:*:*:*", "matchCriteriaId": "16BDFA5C-35BE-4B7E-BD2D-C28B095F62E0"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:1.9.0:*:*:*:*:*:*:*", "matchCriteriaId": "52179EC7-CAF0-42AA-A21A-7105E10CA122"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:1.9.2:*:*:*:*:*:*:*", "matchCriteriaId": "5178D04D-1C29-4353-8987-559AA07443EC"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:1.9.3:*:*:*:*:*:*:*", "matchCriteriaId": "D0535DC9-EB0E-4745-80AC-4A020DF26E38"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:*:*:*:*:*:*:*", "matchCriteriaId": "B03B7561-A854-4EFA-9E4E-CFC4EEAE4EE1"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:p195:*:*:*:*:*:*", "matchCriteriaId": "1C663278-3B2A-4B7C-959A-2AA804467F21"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:p247:*:*:*:*:*:*", "matchCriteriaId": "B7927149-A76A-48BC-8405-7375FC7D7486"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:p353:*:*:*:*:*:*", "matchCriteriaId": "3D627638-64AA-455B-9FEA-093D3773B9FD"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:p481:*:*:*:*:*:*", "matchCriteriaId": "19CF27FB-DCF5-4533-B309-55615AE21A63"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:p576:*:*:*:*:*:*", "matchCriteriaId": "B9865DD1-F2AF-40B6-848A-EA9FD37034DD"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:p594:*:*:*:*:*:*", "matchCriteriaId": "C10BD21E-B9FA-4B57-B617-0108A00D6132"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:p598:*:*:*:*:*:*", "matchCriteriaId": "3D5ABD47-64AC-4844-B78B-F0D3BC3B8F49"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:p643:*:*:*:*:*:*", "matchCriteriaId": "4EF7FDAD-9CAF-452D-B229-EF7C390DE712"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:p645:*:*:*:*:*:*", "matchCriteriaId": "942C4584-11B4-4E6E-BD42-6F4573E55412"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.0.0:p647:*:*:*:*:*:*", "matchCriteriaId": "49AB6D01-7AFE-4482-A6B4-C085A100A9A8"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.1.0:*:*:*:*:*:*:*", "matchCriteriaId": "85A846FF-DD34-4DD6-BD61-09124C145E97"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.1.1:*:*:*:*:*:*:*", "matchCriteriaId": "8DF046E4-503B-4A10-BEAB-3144BD86EA49"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.1.2:*:*:*:*:*:*:*", "matchCriteriaId": "9FCA45F1-3038-413A-B8C3-EE366A4E6248"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.1.3:*:*:*:*:*:*:*", "matchCriteriaId": "FF6AF5E3-4EB8-48A3-B8E9-C79C08C38994"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.1.4:*:*:*:*:*:*:*", "matchCriteriaId": "6AE2B154-8126-4A38-BAB6-915207764FC0"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.1.5:*:*:*:*:*:*:*", "matchCriteriaId": "808FA8BE-71FC-4ADD-BDEA-637E8DF4E899"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.1.6:*:*:*:*:*:*:*", "matchCriteriaId": "523417A8-F62B-48AF-B60B-CE9A200D4A9A"}, {"vulnerable": true, "criteria": "cpe:2.3:a:ruby-lang:ruby:2.1.7:*:*:*:*:*:*:*", "matchCriteriaId": "FAB1E0F8-F9B0-40E9-892E-C62729525CE5"}]}]}], "references": [{"url": "http://seclists.org/oss-sec/2015/q3/222", "source": "cve@mitre.org", "tags": ["Patch", "Third Party Advisory", "VDB Entry"]}, {"url": "http://www.securityfocus.com/bid/76060", "source": "cve@mitre.org", "tags": ["Third Party Advisory", "VDB Entry"]}, {"url": "https://access.redhat.com/errata/RHSA-2018:0583", "source": "cve@mitre.org"}, {"url": "https://bugzilla.redhat.com/show_bug.cgi?id=1248935", "source": "cve@mitre.org", "tags": ["Issue Tracking", "Patch", "Third Party Advisory", "VDB Entry"]}, {"url": "https://github.com/ruby/ruby/commit/4600cf725a86ce31266153647ae5aa1197b1215b", "source": "cve@mitre.org", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://www.ruby-lang.org/en/news/2015/12/16/unsafe-tainted-string-usage-in-fiddle-and-dl-cve-2015-7551/", "source": "cve@mitre.org", "tags": ["Vendor Advisory"]}]}, "github_commit_url": "https://github.com/ruby/ruby/commit/4600cf725a86ce31266153647ae5aa1197b1215b"}}