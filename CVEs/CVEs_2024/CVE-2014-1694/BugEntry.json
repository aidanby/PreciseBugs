{"buggy_code": ["#3.2.14 201?-??-??\n - 2013-12-17 Fixed bug#[10103](http://bugs.otrs.org/show_bug.cgi?id=10103) - ArticleTypeID is always undef in AgentTicketCompose.\n - 2013-12-12 Added functionality to disable access to tickets of other customers with the same customer company in customer interface.\n - 2013-12-12 Fixed bug#[9650](http://bugs.otrs.org/show_bug.cgi?id=9650) - Special character in customer id breaks Open Tickets in AgentTicketZoom.\n - 2013-12-11 Fixed bug#[9723](http://bugs.otrs.org/show_bug.cgi?id=9723) - TicketAccountedTime stat does not run on Oracle with many tickets\n - 2013-12-09 Fixed bug#[10077](http://bugs.otrs.org/show_bug.cgi?id=10077) - regular expressions in postmaster filter return 1 if no regex match.\n - 2013-12-06 Fixed bug#[10070](http://bugs.otrs.org/show_bug.cgi?id=10070) - Wrong error message if Transition contains no transition actions.\n\n#3.2.13 2013-12-10\n - 2013-12-02 Fixed bug#[9327](http://bugs.otrs.org/show_bug.cgi?id=9327) - Filter breaks \"Select all\" functionality.\n - 2013-11-29 Fixed bug#[9999](http://bugs.otrs.org/show_bug.cgi?id=9999) - Timestamps in HistoricalValueGet return milliseconds on SQL Server.\n - 2013-11-29 Fixed bug#[10027](http://bugs.otrs.org/show_bug.cgi?id=10027) - Added old ticket information to ticket_history.\n - 2013-11-19 Fixed bug#[7337](http://bugs.otrs.org/show_bug.cgi?id=7337) - AJAX Error on new Phone Ticket on IIS when using JSON::XS.\n - 2013-11-18 Fixed bug#[8991](http://bugs.otrs.org/show_bug.cgi?id=8991) - Back-action does not work when search result returned just  1 ticket.\n - 2013-11-12 Fixed bug#[9937](http://bugs.otrs.org/show_bug.cgi?id=9937) - Activity-Dialogs in wrong order.\n - 2013-11-11 Fixed bug#[9954](http://bugs.otrs.org/show_bug.cgi?id=9954) - PGP Crypted and Signed emails could be wrongly parsed.\n - 2013-11-07 Fixed bug#[9639](http://bugs.otrs.org/show_bug.cgi?id=9639) - TextArea validation message not translated.\n - 2013-11-07 Fixed bug#[9944](http://bugs.otrs.org/show_bug.cgi?id=9944) - Search Template issue.\n - 2013-11-07 Fixed bug#[9938](http://bugs.otrs.org/show_bug.cgi?id=9938) - ActivityDialog doesn't show queues with move_into permissions.\n - 2013-11-06 Fixed bug#[9940](http://bugs.otrs.org/show_bug.cgi?id=9940) - Fedora misses dependency on Sys::Syslog.\n - 2013-11-05 Removed Patch/Workaround for CPAN MIME::Parser v5.503 (introduced in OTRS 3.2.2) replaced with another solution, as it was causing problems with PGP.\n - 2013-11-05 Fixed bug#[9916](http://bugs.otrs.org/show_bug.cgi?id=9916) - Error when updating CustomerUser Login on ForeignDB.\n - 2013-11-05 Fixed bug#[9841](http://bugs.otrs.org/show_bug.cgi?id=9841) - Tabbing changes radio button of owner change selection.\n - 2013-11-05 Fixed bug#[9867](http://bugs.otrs.org/show_bug.cgi?id=9867) - Validation errors are not shown correctly when replying to a ticket in Customer Interface.\n - 2013-11-04 Fixed bug#[9914](http://bugs.otrs.org/show_bug.cgi?id=9914) - Spellchecker ignores double wrong words.\n\n#3.2.12 2013-11-05\n - 2013-11-04 Fixed bug#[9832](http://bugs.otrs.org/show_bug.cgi?id=9832) - Perl 5.18.1 problems with MIME::Entity.\n - 2013-10-31 Updated French translation, thanks to Olivier Sallou!\n - 2013-10-31 Fixed bug#[9910](http://bugs.otrs.org/show_bug.cgi?id=9910) - Startup warnings/errors with Perl 5.18.1.\n - 2013-10-29 Fixed bug#[9753](http://bugs.otrs.org/show_bug.cgi?id=9753) - META HTTP-EQUIV=\"Refresh\" tag not stripped from HTML email.\n - 2013-10-28 Fixed bug#[9897](http://bugs.otrs.org/show_bug.cgi?id=9897) - process ticket 'fading away' -> Process is invalid.\n - 2013-10-28 Fixed bug#[9749](http://bugs.otrs.org/show_bug.cgi?id=9749) - Using spell checker in rich text Editor strips HTML formatting.\n - 2013-10-28 Fixed bug#[4465](http://bugs.otrs.org/show_bug.cgi?id=4465) - Spell checker ispell ignores some characters such German umlauts.\n - 2013-10-25 Fixed bug#[9883](http://bugs.otrs.org/show_bug.cgi?id=9883) - Stats Overview is slow due Caching bug (object cache does not work).\n - 2013-10-25 Fixed bug#[9839](http://bugs.otrs.org/show_bug.cgi?id=9839) - Inline images not showing up when cookies are disabled.\n - 2013-10-25 Moved process import functionality in the backend module Kernel/System/ProcessManagement/DB/Process.pm.\n - 2013-10-18 Fixed bug#[9669](http://bugs.otrs.org/show_bug.cgi?id=9669) - Accessibility: ticket submenu not expandable with the keyboard.\n - 2013-10-14 Fixed bug#[9814](http://bugs.otrs.org/show_bug.cgi?id=9814) - Tickets without articles not shown correcly in medium view.\n - 2013-10-14 Fixed bug#[9812](http://bugs.otrs.org/show_bug.cgi?id=9812) - Sysconfig descriptions for tooltips and placeholder values of toolbar widgets are ignored.\n - 2013-10-14 Fixed bug#[9391](http://bugs.otrs.org/show_bug.cgi?id=9391) - Incorrect permissions on .procmailrc.\n - 2013-10-08 Fixed bug#[9796](http://bugs.otrs.org/show_bug.cgi?id=9796) - Misaligned Headers on Simple Stats.\n\n#3.2.11 2013-10-08\n - 2013-10-07 Fixed bug#[9770](http://bugs.otrs.org/show_bug.cgi?id=9770) - JavaScript Execution in ProcessManagement is broken in IE8.\n - 2013-10-03 Fixed bug#[9786](http://bugs.otrs.org/show_bug.cgi?id=9786) - Missing tooltip text in Dropdown and Multiselect Dynamic Fields admin.\n - 2013-10-03 Fixed bug#[9785](http://bugs.otrs.org/show_bug.cgi?id=9785) - Switch Customer should not be displayed in New Ticket Customer Option.\n - 2013-10-02 Fixed bug#[9782](http://bugs.otrs.org/show_bug.cgi?id=9782) - Typo in DynamicField Multiselect function.\n - 2013-10-01 Fixed bug#[9542](http://bugs.otrs.org/show_bug.cgi?id=9542) - Uninitialized value in AgentTicketForward.\n - 2013-09-30 Fixed bug#[9765](http://bugs.otrs.org/show_bug.cgi?id=9765) - Dynamic Field values are completely removed if one entry contains a dash.\n - 2013-09-27 Fixed bug#[9764](http://bugs.otrs.org/show_bug.cgi?id=9764) - ACL, Queue will ignored with customerID.\n - 2013-09-27 Fixed bug#[9762](http://bugs.otrs.org/show_bug.cgi?id=9762) - Queue View - S / M / L views - not saved after logout.\n    This also includes the fix for the problem that only 10 tickets per page were shown in the small view.\n - 2013-09-26 Fixed bug#[9580](http://bugs.otrs.org/show_bug.cgi?id=9580) - Time fields in TicketGetResponse Ticket element do not comply with xsd:DateTime format.\n - 2013-09-26 Fixed bug#[9748](http://bugs.otrs.org/show_bug.cgi?id=9748) - ProcessManagement: Duplicate articles in a process-ticket (TransitionAction).\n - 2013-09-26 Fixed bug#[9759](http://bugs.otrs.org/show_bug.cgi?id=9759) - Installer Error DB - max key length is 767 bytes.\n - 2013-09-26 Fixed bug#[9747](http://bugs.otrs.org/show_bug.cgi?id=9747) - Only first selected process displays the RichText editor.\n - 2013-09-25 Fixed bug#[9688](http://bugs.otrs.org/show_bug.cgi?id=9688) - ORA-01839 error occurs at DynamicField in TicketSearch.\n - 2013-09-25 Fixed bug#[9751](http://bugs.otrs.org/show_bug.cgi?id=9751) - TimeUnits are not accepted with a value of 0.\n - 2013-09-20 Fixed bug#[9739](http://bugs.otrs.org/show_bug.cgi?id=9739) - Customer interface not working with MySQL 5.6.\n - 2013-09-20 Fixed bug#[8489](http://bugs.otrs.org/show_bug.cgi?id=8489) - setting Tickets per page resets AgentTicketQueue.\n - 2013-09-20 Fixed bug#[9732](http://bugs.otrs.org/show_bug.cgi?id=9732) - German translation file de.pm incomplete.\n - 2013-09-12 Fixed bug#[9728](http://bugs.otrs.org/show_bug.cgi?id=9728) - Bulk action (send email) ignores reply-to address from unknown customers.\n - 2013-09-06 Fixed bug#[9661](http://bugs.otrs.org/show_bug.cgi?id=9661) - Useless code in DynamicField backend.\n - 2013-09-06 Fixed bug#[9701](http://bugs.otrs.org/show_bug.cgi?id=9701) - Ticket overview Queue Sort Filter is missing.\n - 2013-09-04 Fixed bug#[8173](http://bugs.otrs.org/show_bug.cgi?id=8173) - Dashboard Widget \"Online\" does not save state.\n - 2013-09-04 Fixed bug#[9188](http://bugs.otrs.org/show_bug.cgi?id=9188) - AgentTicketEmail always loads a signature, even if no queue is selected.\n - 2013-09-02 Fixed bug#[9672](http://bugs.otrs.org/show_bug.cgi?id=9672) - Undecrypted HTML part displayed when viewing a multipart/alternative PGP encrypted HTML mail.\n\n#3.2.10 2013-08-27\n - 2013-08-20 Fixed bug#[9617](http://bugs.otrs.org/show_bug.cgi?id=9617) - Event-based notifications are not sent for process-tickets.\n - 2013-08-14 Fixed bug#[9666](http://bugs.otrs.org/show_bug.cgi?id=9666) - Installing an invalid package cause an server error on package manager.\n - 2013-08-06 Fixed bug#[8408](http://bugs.otrs.org/show_bug.cgi?id=8408) - No separator used in CSV files if UserCSVSeparator enabled and not set.\n - 2013-08-01 Fixed bug#[9635](http://bugs.otrs.org/show_bug.cgi?id=9635) - article_search not updated on ticket merges.\n - 2013-07-31 Fixed bug#[9629](http://bugs.otrs.org/show_bug.cgi?id=9629) - ORA-936 error in AgentTicketSearch with some search clauses.\n - 2013-07-30 Fixed bug#[9631](http://bugs.otrs.org/show_bug.cgi?id=9631) - BuildSelection() Selected does not work if value contains strings that are HTML-escaped.\n - 2013-07-30 Fixed bug#[9630](http://bugs.otrs.org/show_bug.cgi?id=9630) - Dynamic Fields of type Date can record wrong date when TimeZoneSettings are used.\n - 2013-07-25 Fixed bug#[9316](http://bugs.otrs.org/show_bug.cgi?id=9316) - Under nginx CustomerInformationCenter search returns Bad Gateway.\n - 2013-07-25 Fixed bug#[9610](http://bugs.otrs.org/show_bug.cgi?id=9610) - When email does not specify charset, content is not displayed in IE10.\n - 2013-07-24 Fixed bug#[9622](http://bugs.otrs.org/show_bug.cgi?id=9622) - Actions in Small ticket overview don't work when cookies are turned off.\n - 2013-07-24 Updated Danish translation, thanks to Lars J\u00f8rgensen!\n - 2013-07-22 Fixed bug#[9541](http://bugs.otrs.org/show_bug.cgi?id=9541) - Package manager cannot use https proxy.\n - 2013-07-22 Fixed bug pull#[83](https://github.com/OTRS/otrs/pull/83) - Pagination next page link, thanks to Ren\u00e9e B\u00e4cker.\n - 2013-07-17 Updated Turkish translation, thanks to Sefer \u015eim\u015fek @ Network Group!\n - 2013-07-17 Fixed bug#[9594](http://bugs.otrs.org/show_bug.cgi?id=9594) - No auro-reply sent with multiple From addresses in\n    AgentTicketPhone on PostgreSQL and Oracle.\n - 2013-07-12 Fixed bug#[3434](http://bugs.otrs.org/show_bug.cgi?id=3434) - Validity of search time frame not checked by OTRS.\n - 2013-07-12 Fixed bug#[5475](http://bugs.otrs.org/show_bug.cgi?id=5475) - Incorrectly limited ticket list queries in queue view.\n - 2013-07-12 Fixed bug#[8667](http://bugs.otrs.org/show_bug.cgi?id=8667) - No error Message when tryiing to Merge Ticket with itself.\n - 2013-07-12 Fixed bug#[6985](http://bugs.otrs.org/show_bug.cgi?id=6985) - SMTPTLS backend requires username and password.\n - 2013-07-12 Fixed bug#[3434](http://bugs.otrs.org/show_bug.cgi?id=3434) - Validity of search time frame not checked by OTRS.\n - 2013-07-10 Fixed bug#[9598](http://bugs.otrs.org/show_bug.cgi?id=9598) - Typo in vacation message for German locale.\n - 2013-07-10 Fixed bug#[9595](http://bugs.otrs.org/show_bug.cgi?id=9595) - Incomplete page reload handling in merge and bounce.\n - 2013-07-10 Fixed bug#[5307](http://bugs.otrs.org/show_bug.cgi?id=5307) - Tickets can be raised against an invalid Customer Company.\n - 2013-07-10 Fixed bug#[9596](http://bugs.otrs.org/show_bug.cgi?id=9596) - On merge and bounce screens is confusing when fill or not 'To',  'Subject' and 'Body' fields.\n - 2013-07-10 Fixed bug#[9514](http://bugs.otrs.org/show_bug.cgi?id=9514) - Bulk action (send email) uses senders address instead of customer id.\n - 2013-07-10 Fixed bug#[9595](http://bugs.otrs.org/show_bug.cgi?id=9595) - Incomplete page reload handling in merge and bounce.\n - 2013-07-10 Fixed bug#[9570](http://bugs.otrs.org/show_bug.cgi?id=9570) - AgentTicketSearch with exclamation mark emits invalid SQL\n - 2013-07-09 Fixed bug#[3007](http://bugs.otrs.org/show_bug.cgi?id=3007) - CheckMXRecord and CheckEmailAddresses have no effect on AgentTicketBounce.\n - 2013-07-09 Fixed bug#[9512](http://bugs.otrs.org/show_bug.cgi?id=9512) - Database error for invalid date in AgentTicketSearch.\n - 2013-07-09 Fixed bug#[4465](http://bugs.otrs.org/show_bug.cgi?id=4465) - Spell checker ispell ignores some characters such German umlauts.\n - 2013-07-09 Fixed bug#[8428](http://bugs.otrs.org/show_bug.cgi?id=8428) - Bad usability of multiple sender/recipient feature.\n - 2013-07-09 Fixed bug#[9556](http://bugs.otrs.org/show_bug.cgi?id=9556) - Bounce and merge require notification recipient, subject and body even if no notification is sent.\n - 2013-07-09 Fixed bug#[9584](http://bugs.otrs.org/show_bug.cgi?id=9584) - No server side validation of To/Subject/Body in merge mask.\n - 2013-07-09 Fixed bug#[9578](http://bugs.otrs.org/show_bug.cgi?id=9578) - DynamicField sorting does not work on TicketSearch results in Customer Interface.\n - 2013-07-08 Fixed bug#[9579](http://bugs.otrs.org/show_nug.cgi?id=9579) - SOAP Serializer used in Kernel/GenericInterface/Transport/HTTP/SOAP.pm does not correctly set namespace.\n - 2013-07-08 Fixed bug#[9577](http://bugs.otrs.org/show_bug.cgi?id=9577) - Engine translate date to dado from english to pt_BR.\n - 2013-07-08 Fixed bug#[7359](http://bugs.otrs.org/show_bug.cgi?id=7359) - Setting pending states via generic agent does not set pending time.\n - 2013-07-08 Fixed bug#[5920](http://bugs.otrs.org/show_bug.cgi?id=5920) - Search restriction for dates is not displayed in customer interface.\n - 2013-07-08 Fixed bug#[8380](http://bugs.otrs.org/show_bug.cgi?id=8380) - Middle name not displayed in AdminCustomerUser.\n - 2013-07-05 Fixed bug#[9576](http://bugs.otrs.org/show_bug.cgi?id=9576) - GI TicketSearch Date and Date/Time dynamic fields are ignored.\n - 2013-07-04 Changed Dynamic Field SearchFieldParameterBuild() API, LayoutObject is now optional.\n - 2013-07-04 Fixed bug#[9573](http://bugs.otrs.org/show_bug.cgi?id=9573) - Date and DateTime dynamic fields not considered in GenericAgent Jobs.\n\n#3.2.9 2013-07-09\n - 2013-07-03 Fixed bug#[9561](http://bugs.otrs.org/show_bug.cgi?id=9561) - ACL restriction with CustomerID for DynamicFields at new Ticket screen not working.\n - 2013-07-02 Fixed bug#[8728](http://bugs.otrs.org/show_bug.cgi?id=8728) - Problem loading otrs-initial_insert.oracle.sql.\n - 2013-07-01 Fixed bug#[9481](http://bugs.otrs.org/show_bug.cgi?id=9481) - Possible to select invalid services in SLA admin screen.\n - 2013-06-29 Fixed bug#[9539](http://bugs.otrs.org/show_bug.cgi?id=9539) - Cannot send notification to a group of customers.\n - 2013-06-28 Fixed bug#[8273](http://bugs.otrs.org/show_bug.cgi?id=8273) - Copying text in preview mode not possible.\n - 2013-06-28 Fixed bug#[9557](http://bugs.otrs.org/show_bug.cgi?id=9557) - Cannot see quoted text in customer ticket zoom.\n - 2013-06-27 Fixed bug#[9011](http://bugs.otrs.org/show_bug.cgi?id=9011) - GenericInterface: New value after value mapping can't be 0.\n - 2013-06-25 Improved parameter quoting in various places.\n - 2013-06-24 Fixed bug#[9104](http://bugs.otrs.org/show_bug.cgi?id=9104) - Group permission for customer subset overwrites permissions for other customers.\n - 2013-06-21 Fixed bug#[9434](http://bugs.otrs.org/show_bug.cgi?id=9434) - Activities are not translated.\n - 2013-06-21 Fixed bug#[9261](http://bugs.otrs.org/show_bug.cgi?id=9261) - Ticket Inbound changes FROM in view.\n - 2013-06-21 Fixed bug#[9540](http://bugs.otrs.org/show_bug.cgi?id=9540) - AgentTicketOwner doesn't activate PreviousOwner if new owner is selected.\n - 2013-06-21 Fixed bug#[9365](http://bugs.otrs.org/show_bug.cgi?id=9365) - AgentLinkObject screen does not provide a search restriction for ticket type.\n - 2013-06-19 Fixed bug#[9533](http://bugs.otrs.org/show_bug.cgi?id=9533) - Delete Inactive Process button not aligned.\n - 2013-06-18 Fixed bug#[9504](http://bugs.otrs.org/show_bug.cgi?id=9504) - wrong status after answer via customer portal.\n - 2013-06-18 Fixed bug#[9425](http://bugs.otrs.org/show_bug.cgi?id=9425) - Wrong created date for queue view.\n - 2013-06-18 Follow-up fix for bug#[8880](http://bugs.otrs.org/show_bug.cgi?id=8880) - No inline image shown if HTML email contains 'base' tag.\n - 2013-06-17 Updated Spanish translation, thanks to Enrique Mat\u00edas S\u00e1nchez!\n - 2013-06-17 Fixed bug#[8112](http://bugs.otrs.org/show_bug.cgi?id=8112) - Display issue in FROM column of AgentTicketZoom with some agent names.\n - 2013-06-14 Fixed bug#[9524](http://bugs.otrs.org/show_bug.cgi?id=9524) - Uninitialized  value after step2 in TicketAccountedTime stats.\n - 2013-06-14 Fixed bug#[9511](http://bugs.otrs.org/show_bug.cgi?id=9511) - ProcessManagement: No SLA verification after Service update.\n - 2013-06-14 Fixed bug#[9513](http://bugs.otrs.org/show_bug.cgi?id=9513) - Frontend::ToolBarModule###11-CICSearchCustomerUser does not use settings of Frontend::Agent::CustomerSearch.\n - 2013-06-13 Fixed bug#[8719](http://bugs.otrs.org/show_bug.cgi?id=8719) - PasswordMin2Lower2UpperCharacters problem.\n\n#3.2.8 2013-06-18\n - 2013-06-13 Fixed bug#[9464](http://bugs.otrs.org/show_bug.cgi?id=9464) - Unique email address only checked during CustomerUserAdd, not during Update.\n - 2013-06-11 Fixed bug#[9497](http://bugs.otrs.org/show_bug.cgi?id=9497) - AgentTicketSearch logs a Uninitialized error message in Oracle.\n - 2013-06-11 Fixed bug#[9451](http://bugs.otrs.org/show_bug.cgi?id=9451) - Possible to select invalid autoresponses for queues.\n - 2013-06-11 Fixed bug#[9516](http://bugs.otrs.org/show_bug.cgi?id=9516) - Field names for account signups in some languages are broken.\n - 2013-06-08 Fixed bug#[9501](http://bugs.otrs.org/show_bug.cgi?id=9501) - Missing values in GenericAgent ticket list for tickets without articles.\n - 2013-06-08 Fixed bug#[9447](http://bugs.otrs.org/show_bug.cgi?id=9447) - Empty line at PDF search result with process tickets (0 article).\n - 2013-06-07 Fixed bug#[9409](http://bugs.otrs.org/show_bug.cgi?id=9409) - If HTTP_USER_AGENT isn't set, error on Layout.pm.\n - 2013-06-07 Fixed bug#[9454](http://bugs.otrs.org/show_bug.cgi?id=9454) - Use of uninitialized value error in AgentTicketForward.pm, undef Next ticket state.\n - 2013-06-07 Fixed bug#[9493](http://bugs.otrs.org/show_bug.cgi?id=9493) - Use of uninitialized value error in AgentTicketPhone.pm on Ticket Split action.\n - 2013-06-06 Fixed bug#[9503](http://bugs.otrs.org/show_bug.cgi?id=9503) - no connection header in soap responses.\n - 2013-06-06 Improved permission checks in AgentTicketWatcher.\n - 2013-06-04 Fixed bug#[7143](http://bugs.otrs.org/show_bug.cgi?id=7143) - \"SFTP.\" gets rewritten to \"Shttp://FTP.\"\n - 2013-06-04 Fixed bug#[9488](http://bugs.otrs.org/show_bug.cgi?id=9488) - Use of uninitialized value at OutofOffice setting in AgentPreferences.\n - 2013-05-31 Fixed bug#[9479](http://bugs.otrs.org/show_bug.cgi?id=9479) - ProcessManagement: Article and CustomerID should not be Hidden.\n - 2013-05-31 Fixed bug#[9491](http://bugs.otrs.org/show_bug.cgi?id=9491) - GenericAgent job update with dynamic fields sends Uninitialized value error.\n - 2013-05-31 Fixed bug#[9456](http://bugs.otrs.org/show_bug.cgi?id=9456) - Empty 'Dropdown' dynamic field value of GenericAgent job wont get used and stored.\n - 2013-05-31 Follow-up fix for bug#[9245](http://bugs.otrs.org/show_bug.cgi?id=9245) - Added translatable titles for transition buttons.\n - 2013-05-31 Updated Russian translation, thanks to Alexey Gluhov!\n - 2013-05-31 Fixed bug#[9245](http://bugs.otrs.org/show_bug.cgi?id=9245) - Improve user interaction on transitions.\n - 2013-05-31 Fixed bug#[9284](http://bugs.otrs.org/show_bug.cgi?id=9284) - Improve user experience of accordion widget.\n - 2013-05-31 Fixed bug#[9105](http://bugs.otrs.org/show_bug.cgi?id=9105) - Opening reply view crashes browsers on iPad 3.\n - 2013-05-28 Fixed caching key and inquiry of dynamic field value in HistoryTicketGet function (TE).\n - 2013-05-28 Added a new parameter to disable default sorting of statistics.\n - 2013-05-28 Added '-a reinstall-all' feature to bin/otrs.PackageManager.pl.\n - 2013-05-27 Fixed bug#[9476](http://bugs.otrs.org/show_bug.cgi?id=9476) - AgentTicketZoom: translation of \"split\" into german language.\n - 2013-05-27 Fixed bug#[9459](http://bugs.otrs.org/show_bug.cgi?id=9459) - Creating a new transition action coming from the transition path view produces errors.\n - 2013-05-27 Fixed bug#[9458](http://bugs.otrs.org/show_bug.cgi?id=9458) - Double click on Transition opens error message.\n - 2013-05-24 Fixed bug#[9241](http://bugs.otrs.org/show_bug.cgi?id=9241) - Article ignored in article search index if body is almost empty.\n    The StaticDB fulltext search backend is now fully configurable.\n - 2013-05-24 Fixed bug#[9462](http://bugs.otrs.org/show_bug.cgi?id=9462) - Package Management page timeout due to HTTPS disabled on Proxy connections.\n - 2013-05-22 Fixed bug#[9408](http://bugs.otrs.org/show_bug.cgi?id=9408) - A value of Dest inputed in CustomerTicketMessage isn't validated.\n - 2013-05-21 Fixed bug#[9418](http://bugs.otrs.org/show_bug.cgi?id=9418) - Incorrect decoding email subject and From token.\n - 2013-05-21 Fixed bug#[9448](http://bugs.otrs.org/show_bug.cgi?id=9448) - AgentTicketPhoneInbound/Outbound inserts Agent's personal email address into article \"from\".\n - 2013-05-17 Fixed bug#[9445](http://bugs.otrs.org/show_bug.cgi?id=9445) - ProcessManagement: Error Message: Need ServiceID or Name!.\n - 2013-05-17 Fixed bug#[9439](http://bugs.otrs.org/show_bug.cgi?id=9439) - ProcessManagement: Customer field value is not remembered after server error is detected.\n\n#3.2.7 2013-05-21\n - 2013-05-17 Updated Package Manager, that will ensure that packages to be installed\n    meet the quality standards of OTRS Group. This is to guarantee that your package\n    wasn\u2019t modified, which may possibly harm your system or have an influence on the\n    stability and performance of it. All independent package contributors will have\n    to conduct a check of their Add-Ons by OTRS Group in order to take full advantage\n    of the OTRS package verification.\n - 2013-05-16 Fixed bug#[9387](http://bugs.otrs.org/show_bug.cgi?id=9387) - Error in a condition with dynamic fields in NotificationEvent.\n - 2013-05-14 Fixed bug#[9286](http://bugs.otrs.org/show_bug.cgi?id=9286) - Ticket::ChangeOwnerToEveryone isn't functional, After a AJAX Load the setting is ignored.\n - 2013-05-14 Fixed bug#[7518](http://bugs.otrs.org/show_bug.cgi?id=7518) - Escalation Notify by not working properly (follow-up fix).\n - 2013-05-14 Fixed bug#[9410](http://bugs.otrs.org/show_bug.cgi?id=9410) - SessionID isn't added to URL when using ajax customer search without cookies active.\n - 2013-05-14 Fixed bug#[9419](http://bugs.otrs.org/show_bug.cgi?id=9419) - Process Management: List of available dialog fields lists Responsible\n    even if feature is inactive.\n - 2013-05-11 Fixed bug#[9246](http://bugs.otrs.org/show_bug.cgi?id=9246) - ProcessManagement: TranstionAction error messages not sufficient enough.\n - 2013-05-07 Fixed bug#[9345](http://bugs.otrs.org/show_bug.cgi?id=9345) - OTRS exceeds 998 character limit in References Line of E-Mail Header.\n - 2013-05-07 Fixed bug#[7478](http://bugs.otrs.org/show_bug.cgi?id=7478) - Got an external answer to an internal mail.\n - 2013-05-07 Improved permission checks in AgentTicketPhone.\n - 2013-05-02 Fixed bug#[9360](http://bugs.otrs.org/show_bug.cgi?id=9360) - DynamicField Names shown in CSV output.\n - 2013-05-01 Fixed bug#[8880](http://bugs.otrs.org/show_bug.cgi?id=8880) - No inline image shown if HTML email contains 'base' tag.\n - 2013-04-30 Fixed bug#[9374](http://bugs.otrs.org/show_bug.cgi?id=9374) - Add more functions to rich text editor.\n - 2013-04-30 Fixed postmaster filter edit screen layout.\n - 2013-04-30 Fixed bug#[9358](http://bugs.otrs.org/show_bug.cgi?id=9358) - Date/Time DynamicFields are broken in CustomerInterface.\n - 2013-04-30 Fixed bug#[9384](http://bugs.otrs.org/show_bug.cgi?id=9384) - Problem with Method ServiceParentsGet of ServiceObject.\n - 2013-04-29 Fixed bug#[9371](http://bugs.otrs.org/show_bug.cgi?id=9371) - UserSalutation field in LDAP.pm fix.\n - 2013-04-29 Fixed bug#[8997](http://bugs.otrs.org/show_bug.cgi?id=8997) - Owner warnings translatable.\n - 2013-04-29 Fixed bug#[9375](http://bugs.otrs.org/show_bug.cgi?id=9375) - Extra colon at the end of recipient lists in forwarded message.\n - 2013-04-29 Updated Polish translation file, thanks to ib.pl!\n - 2013-04-29 Fixed bug#[9040](http://bugs.otrs.org/show_bug.cgi?id=9040) - CustomerTicketPrint crashes when no attributes are configured to be printed.\n - 2013-04-26 Added UnitTest for case sensivity parameter of customer databases\n - 2013-04-23 Fixed bug#[9362](http://bugs.otrs.org/show_bug.cgi?id=9362) - cannot redirect to external url containing & caracter.\n - 2013-04-23 Fixed bug#[7856](http://bugs.otrs.org/show_bug.cgi?id=7856) - Statistics only use non archived tickets.\n - 2013-04-23 Fixed bug#[9072](http://bugs.otrs.org/show_bug.cgi?id=9072) - Reply to email-internal includes customer users email in Cc. field.\n - 2013-04-22 Fixed bug#[9349](http://bugs.otrs.org/show_bug.cgi?id=9349) - SQL warnings on Oracle DB if more than 4k characters are sent to the database.\n - 2013-04-22 Fixed bug#[9353](http://bugs.otrs.org/show_bug.cgi?id=9353) - Customer Ticket Zoom shows owner login name instead of full name.\n - 2013-04-18 Fixed bug#[8599](http://bugs.otrs.org/show_bug.cgi?id=8599) - Problem with \"[]\" characters in name of attachment file.\n\n#3.2.6 2013-04-23\n - 2013-04-18 Fixed bug#[9310](http://bugs.otrs.org/show_bug.cgi?id=9310) - AgentTicketProcess has the same shortkey \"o\" as AgentTicketQueue.\n - 2013-04-18 Fixed bug#[9280](http://bugs.otrs.org/show_bug.cgi?id=9280) - Database upgrade procedure problems when upgrading database to 3.2 that\n    has been upgraded from 2.4 previously.\n - 2013-04-16 Updated Hungarian translation, thanks to Csaba N\u00e9meth!\n - 2013-04-15 Added Malay translation.\n - 2013-04-12 Fixed bug#[9264](http://bugs.otrs.org/show_bug.cgi?id=9264) - Dynamic ticket text fields are displayed with value \"1\" if enabled\n    and displayed by default in ticket search screen.\n - 2013-04-12 Fixed bug#[8960](http://bugs.otrs.org/show_bug.cgi?id=8960) - AgentTicketSearch.pm SearchProfile problem.\n - 2013-04-12 Fixed bug#[9328](http://bugs.otrs.org/show_bug.cgi?id=9328) - Notification event does not work on process ticket.\n - 2013-04-11 Fixed broken process import.\n - 2013-04-11 Follow-up for bug#[9215](http://bugs.otrs.org/show_bug.cgi?id=9215) - Process import always creates new process.\n    The overwrite optionwas removed again because of logical problems.\n - 2013-04-09 Added parameter \"-t dbonly\" to backup.pl to only backup the database\n    (if files are backed up otherwise).\n - 2013-04-09 Fixed bug#[9302](http://bugs.otrs.org/show_bug.cgi?id=9302) - Process Management: Misleading description for activities without dialogs.\n - 2013-04-08 Fixed bug#[9182](http://bugs.otrs.org/show_bug.cgi?id=9182) - Customer Search Function -\\> If you go into a ticket and go back you got not the search results\n - 2013-04-08 Fixed bug#[9297](http://bugs.otrs.org/show_bug.cgi?id=9297) - customer information widget losing data\n - 2013-04-08 Fixed bug#[9244](http://bugs.otrs.org/show_bug.cgi?id=9244) - Process Management: Transitions on Activities does not scale well\n - 2013-04-08 Fixed bug#[9287](http://bugs.otrs.org/show_bug.cgi?id=9287) - Process Management: strange placement of target point for new transitions.\n - 2013-04-08 Fixed bug#[9294](http://bugs.otrs.org/show_bug.cgi?id=9294) - Process Management: Activity hover window not displayed properly if\n    activity is very close to bottom canvas border.\n - 2013-04-08 Fixed bug#[9314](http://bugs.otrs.org/show_bug.cgi?id=9314) - Process Management: Unexpected redirection after creating a new process.\n - 2013-04-08 Fixed bug#[9312](http://bugs.otrs.org/show_bug.cgi?id=9312) - LinkObject permission check problem.\n\n#3.2.5 2013-04-09\n - 2013-04-04 Fixed bug#[9313](http://bugs.otrs.org/show_bug.cgi?id=9313) - No such file or directory in otrs.SetPermission.pl.\n - 2013-04-04 Updated Brazilian Portugese translation, thanks to Alexandre!\n - 2013-04-04 Fixed bug#[9306](http://bugs.otrs.org/show_bug.cgi?id=9306) - Auto Response fails when ticket is created from Customer Interface and\n    last name contains a comma.\n - 2013-04-04 Fixed bug#[9308](http://bugs.otrs.org/show_bug.cgi?id=9308) - Impossible to create a new stats report with absolute period.\n - 2013-04-03 Fixed bug#[9307](http://bugs.otrs.org/show_bug.cgi?id=9307) - Packages not compatible with 3.2.4 listed as available in Package Manager.\n - 2013-04-02 Fixed bug#[9198](http://bugs.otrs.org/show_bug.cgi?id=9198) - Linked search with fulltext AND additional attributes.\n - 2013-03-28 Fixed bug#[9298](http://bugs.otrs.org/show_bug.cgi?id=9298) - version.pm not found on perl 5.8.x.\n - 2013-03-27 Fixed bug#[9295](http://bugs.otrs.org/show_bug.cgi?id=9295) - Article dynamic field is not searchable.\n - 2013-03-27 Fixed bug#[9288](http://bugs.otrs.org/show_bug.cgi?id=9288) - DynamicField Content overwrites TicketTitle for Links from Dynamic Fields.\n\n#3.2.4 2013-04-02\n - 2013-03-21 Fixed bug#[9279](http://bugs.otrs.org/show_bug.cgi?id=9279) - Inaccurate German translation of ,,Priority Update''.\n - 2013-03-21 Fixed bug#[9257](http://bugs.otrs.org/show_bug.cgi?id=9257) - No notifications to agents with out-of-office set but period not reached.\n - 2013-03-21 Fixed bug#[1689](http://bugs.otrs.org/show_bug.cgi?id=1689) - Allow bin/SetPermissions.sh to follow symlink for OTRS_HOME.\n - 2013-03-21 Fixed bug#[8981](http://bugs.otrs.org/show_bug.cgi?id=8981) - Tickets reopened via customer interface are locked to invalid agents.\n - 2013-03-19 Fixed bug#[9242](http://bugs.otrs.org/show_bug.cgi?id=9242) - ProcessManagement: TransitionAction TicketStateSet does not allow to set a pending time.\n - 2013-03-19 Fixed bug#[9247](http://bugs.otrs.org/show_bug.cgi?id=9247) - ProcessManagement: Transitions Actions always use actual user permissions.\n - 2013-03-18 Fixed bug#[9254](http://bugs.otrs.org/show_bug.cgi?id=9254) - No Sorting in Accordion for Activties, Activity Dialog, Transitions and Transition Actions.\n - 2013-03-18 Improved permission checks in LinkObject.\n - 2013-03-18 Fixed bug#[9252](http://bugs.otrs.org/show_bug.cgi?id=9252) - Type of linking displayed wrong and also updated wrong in transitions.\n - 2013-03-18 Fixed bug#[9255](http://bugs.otrs.org/show_bug.cgi?id=9255) - Email is sent to customer, when agents email address is similar\n    but not identical.\n - 2013-03-18 Updated Norwegian translation, thanks to Espen Stefansen.\n - 2013-03-18 Updated Czech translation, thanks to Peter Pruchnerovic.\n - 2013-03-18 Fixed bug#[9215](http://bugs.otrs.org/show_bug.cgi?id=9215) - Process import always creates new process. Now there is a new option\n    \"overwrite existing entities\" for the process import.\n - 2013-03-15 Fixed bug#[4716](http://bugs.otrs.org/show_bug.cgi?id=4716) - Logout page should use ProductName instead of 'OTRS'.\n - 2013-03-15 Fixed bug#[9249](http://bugs.otrs.org/show_bug.cgi?id=9249) - Warning not to use internal articles in customer frontend\n    shown on agent interface also.\n - 2013-03-14 Fixed bug#[9191](http://bugs.otrs.org/show_bug.cgi?id=9191) - When ticket types are restricted, first available type is selected\n    in AgentTicketActionCommon-based screens.\n - 2013-03-12 Updated Chinese translation, thanks to Never Min!\n - 2013-03-12 Updated Turkish translation, thanks to Sefer Simsek / Network Group!\n\n#3.2.3 2013-03-12\n - 2013-03-05 Fixed bug#[9221](http://bugs.otrs.org/show_bug.cgi?id=9221) - Got error log message when customer user take activity dialog operation in customer interface.\n - 2013-03-04 Fixed bug#[8727](http://bugs.otrs.org/show_bug.cgi?id=8727) - Webservices can be created with an invalid/incomplete configuration.\n - 2013-03-02 Fixed bug#[9214](http://bugs.otrs.org/show_bug.cgi?id=9214) - IE10: impossible to open links from rich text articles.\n - 2013-03-01 Fixed bug#[9218](http://bugs.otrs.org/show_bug.cgi?id=9218) - Cannot use special characters in TicketHook.\n - 2013-02-28 Fixed bug#[9056](http://bugs.otrs.org/show_bug.cgi?id=9056) - Unused SysConfig option Ticket::Frontend::CustomerInfoQueueMaxSize.\n - 2013-02-28 Added the possibility to use ticket data in dynamic fields links.\n - 2013-02-28 Fixed bug#[8764](http://bugs.otrs.org/show_bug.cgi?id=8764) - Added @ARGV encoding to command line scripts.\n - 2013-02-28 Fixed bug#[9189](http://bugs.otrs.org/show_bug.cgi?id=9189) - Executing DBUpdate-to-3.2.pl as root user leaves file permissions on ZZZAuto.pm in incorrect state.\n - 2013-02-27 Fixed bug#[9196](http://bugs.otrs.org/show_bug.cgi?id=9196) - ProcessManagement: Internal Server Error for \"Ended\" process zoom in Customer Interface.\n - 2013-02-26 Fixed bug#[9202](http://bugs.otrs.org/show_bug.cgi?id=9202) - ProcessManagement: ActivityDialog Admin GUI should not let internal article types for Customer Interface.\n - 2013-02-26 Fixed bug#[9193](http://bugs.otrs.org/show_bug.cgi?id=9193) - Process Management: (First) article filled in in customer frontend causes \"Need ArticleTypeID!\" error.\n - 2013-02-26 Follow-up fix for bug#[8533](http://bugs.otrs.org/show_bug.cgi?id=8533) apache will not start on Fedora.\n - 2013-02-26 Fixed bug#[9172](http://bugs.otrs.org/show_bug.cgi?id=9172) - Generic Interface does not work on IIS 7.0.\n - 2013-02-25 Updated French language translation, thanks to Rapha\u00ebl Doursenaud!\n - 2013-02-23 Updated Hungarian language translation, thanks to N\u00e9meth Csaba!\n - 2013-02-21 Updated Czech language translation, thanks to Katerina Bubenickova!\n - 2013-02-20 Fixed bug#[8865](http://bugs.otrs.org/show_bug.cgi?id=8865) - Additional empty data column in statistics CSV-Output.\n - 2013-02-19 Fixed bug#[4056](http://bugs.otrs.org/show_bug.cgi?id=4056) - Delete S/MIME Certificate via AdminSMIME does not update CustomerUserPreferences.\n - 2013-02-18 Fixed bug#[9128](http://bugs.otrs.org/show_bug.cgi?id=9128) - OTRS uses internal sub of Locale::Codes::Country which causes trouble for\n    Debian.\n - 2013-02-18 Fixed bug#[9173](http://bugs.otrs.org/show_bug.cgi?id=9173) - ProcessManagement: Very right aligned activities can't display assigned dialogs.\n - 2013-02-18 Fixed bug#[9174](http://bugs.otrs.org/show_bug.cgi?id=9174) - Process Management: Save / Save and finish / Cancel inside process diagram canvas.\n - 2013-02-15 Fixed bug#[9155](http://bugs.otrs.org/show_bug.cgi?id=9155) - SMIME: DefaultSignKey not selected in AJAX refreshes.\n - 2013-02-15 Fixed bug#[9164](http://bugs.otrs.org/show_bug.cgi?id=9164) - ProcessManagement: Default values of assigned hidden activity dialogs not considered.\n - 2013-02-15 Fixed bug#[7312](http://bugs.otrs.org/show_bug.cgi?id=7312) - otrs.SetPermissions.pl does not take scripts in $OTRSHOME/Custom into account.\n - 2013-02-15 Fixed bug#[7237](http://bugs.otrs.org/show_bug.cgi?id=7237) - Better Shortening Logic in Ascii2Html.\n - 2013-02-15 Fixed bug#[9139](http://bugs.otrs.org/show_bug.cgi?id=9139) - Context sensitive search in CIC doesn't open CIC search.\n - 2013-02-14 Fixed bug#[9087](http://bugs.otrs.org/show_bug.cgi?id=9087) - ProcessManagement: AgentTicketProcess doesn't show multi level queue structure.\n - 2013-02-14 Follow-up fix for bug#[9158](http://bugs.otrs.org/show_bug.cgi?id=9158) - ProcessManagement: Priority field error message: Need Priority or PriorityID!.\n\n#3.2.2 2013-02-19\n - 2013-02-14 Fixed bug#[9171](http://bugs.otrs.org/show_bug.cgi?id=9171) - ProcessManagement: AgentTicketProcess lists all state types.\n - 2013-02-14 Follow-up fix for bug#[4513](http://bugs.otrs.org/show_bug.cgi?id=4513) - Password and Username are added\n    automatically by the browser in AdminUser dialog.\n - 2013-02-14 Updated Spanish translation, thanks to Enrique Mat\u00edas S\u00e1nchez!\n - 2013-02-14 Fixed bug#[9157](http://bugs.otrs.org/show_bug.cgi?id=9157) - ProcessManagement: Activity labels not aligned well.\n - 2013-02-14 Fixed bug#[9156](http://bugs.otrs.org/show_bug.cgi?id=9156) - ProcessManagement: Transition Condition Fields cannot be removed correctly.\n - 2013-02-14 Fixed bug#[9160](http://bugs.otrs.org/show_bug.cgi?id=9160) - ProcessManagement: Path dialog looses data after editing transition actions.\n - 2013-02-13 Fixed bug#[9159](http://bugs.otrs.org/show_bug.cgi?id=9159) - ProcessManagement: Date fields are activated by default.\n - 2013-02-13 Added display restriction for field \"CustomerID\" in Process Management Activity\n    Dialogs to only be shown as mandatory or not shown.\n - 2013-02-13 Fixed bug#[9150](http://bugs.otrs.org/show_bug.cgi?id=9150) - Process Management: CustomerUser field not indicated as required field.\n - 2013-02-13 Fixed bug#[9158](http://bugs.otrs.org/show_bug.cgi?id=9158) - ProcessManagement: Priority field error message: Need Priority or PriorityID!\n - 2013-02-13 Fixed bug#[9162](http://bugs.otrs.org/show_bug.cgi?id=9162) - Setting the start day of the week for the datepicker to Sunday does not work.\n - 2013-02-13 Fixed bug#[9127](http://bugs.otrs.org/show_bug.cgi?id=9127) - Problem with CustomerPanelOwnSelection.\n - 2013-02-12 Added new Canadian French translation, thanks to Evans Bernier / CDE Solutions Informatique!\n - 2013-02-12 Fixed bug#[5492](http://bugs.otrs.org/show_bug.cgi?id=5492) - Need Template or TemplateFile Param error message after activating AgentInfo.\n - 2013-02-12 Fixed bug#[9138](http://bugs.otrs.org/show_bug.cgi?id=9138) - Unused X-OTRS-Info header in SysConfig.\n - 2013-02-11 Fixed bug#[9117](http://bugs.otrs.org/show_bug.cgi?id=9117) - CustomerUpdate history entry added even if customer user has not\n    been updated.\n - 2013-02-11 Fixed bug#[9006](http://bugs.otrs.org/show_bug.cgi?id=9006) - Labels and values are misaligned.\n - 2013-02-11 Fixed bug#[9132](http://bugs.otrs.org/show_bug.cgi?id=9132) - Button to create new ticket appears in Customer Interface although\n    ticket creation is disabled.\n - 2013-02-08 Added Patch/Workaround for CPAN MIME::Parser v5.503 that prevent the trimming of empty\n    lines that lead to inconsistencies between signed and actual email contents\n - 2013-02-08 Fixed bug#[9146](http://bugs.otrs.org/show_bug.cgi?id=9146) - Signed SMIME mails with altered content shows a not clear message.\n - 2013-02-08 Fixed bug#[9145](http://bugs.otrs.org/show_bug.cgi?id=9145) - SMIME sign verification errors are not displayed in TicketZoom.\n - 2013-02-07 Fixed bug#[9140](http://bugs.otrs.org/show_bug.cgi?id=9140) - Postmaster Filter for empty subjects does not work.\n - 2013-02-07 Fixed bug#[8024](http://bugs.otrs.org/show_bug.cgi?id=8024) - WYSIWYG editor does not get correct language information.\n - 2013-02-07 Fixed bug#[9135](http://bugs.otrs.org/show_bug.cgi?id=9135) - Can't upgrade databases that have been changed from MyISAM \\> InnoDB.\n - 2013-02-07 Fixed bug#[9125](http://bugs.otrs.org/show_bug.cgi?id=9125) - AgentTicketSearch dialog does not expand when choosing more search criteria.\n - 2013-02-06 Fixed bug#[9118](http://bugs.otrs.org/show_bug.cgi?id=9118) - TicketDynamicFieldUpdate history entry added even if value has not\n    been updated.\n - 2013-02-06 Fixed bug#[9134](http://bugs.otrs.org/show_bug.cgi?id=9134) - Sidebar columns on some screens don't support more than one widget.\n - 2013-02-06 Fixed bug#[4662](http://bugs.otrs.org/show_bug.cgi?id=4662) - Unable to save article with '0' as only content.\n - 2013-02-05 Fixed bug#[9068](http://bugs.otrs.org/show_bug.cgi?id=9068) - ProcessManagement: Entity Names not shown in Deletion Dialogs.\n - 2013-02-05 Fixed bug#[9121](http://bugs.otrs.org/show_bug.cgi?id=9121) - Filenames with Unicode NFD are incorrectly reported as NFC by Main::DirectoryRead().\n - 2013-02-05 Fixed bug#[9126](http://bugs.otrs.org/show_bug.cgi?id=9126) - ProcessManagement: both article fields must be filled.\n - 2013-02-05 Added bug#[1197](http://bugs.otrs.org/show_bug.cgi?id=1197) - Feature enhancement: Link tickets at \"Follow up\".\n - 2013-02-05 Fixed bug#[9108](http://bugs.otrs.org/show_bug.cgi?id=9108) - Check for opened/closed tickets not working with Ticket::SubjectFormat = Right.\n - 2013-02-02 Made Web Installer reload after writing Config.pm under PerlEx.\n - 2013-02-01 Added restriction to TransitionAction TicketArticleCrete to do not allow the creation\n    email article types.\n - 2013-02-01 Fixed bug#[9112](http://bugs.otrs.org/show_bug.cgi?id=9112) - ProcessManagment: TransitionAction TicketActicleCreate should not\n    accept email type articles.\n - 2013-02-01 Fixed bug#[8839](http://bugs.otrs.org/show_bug.cgi?id=8839) - DateChecksum followup doesn't get correctly SystemID.\n - 2013-01-31 Fixed bug#[9111](http://bugs.otrs.org/show_bug.cgi?id=9111) - ProcessManagement: Empty Service or SLA causes an error.\n - 2013-01-31 Fixed bug#[9077](http://bugs.otrs.org/show_bug.cgi?id=9077) - Process Management: TicketType not available as field for activity.\n    dialogs.\n - 2013-01-31 Updated Finnish translation, thanks to Niklas Lamp\u00e9n!\n - 2013-01-31 Updated Italian translation, thanks to Massimo Bianchi!\n - 2013-01-31 Updated Portugese (Brazilian) translation, thanks to Alexandre!\n - 2013-01-31 Updated Russian translation, thanks to Vadim Goncharov!\n - 2013-01-31 Added script otrs.MySQLInnoDBSwitch.pl to switch all database tables from MyISAM\n    to InnoDB on the fly.\n - 2013-01-31 Added bin/otrs.ExecuteDatabaseXML.pl to directly execute Database DDL XML files on\n    the OTRS database.\n - 2013-01-30 Fixed bug#[9097](http://bugs.otrs.org/show_bug.cgi?id=9097) - ProcessManagement: Uninitialized value after Ticket is created if\n    notification event is triggered.\n - 2013-01-30 Fixed bug#[9101](http://bugs.otrs.org/show_bug.cgi?id=9101) - Not possible to create dropdown with autocomplete attribute.\n - 2013-01-29 Fixed bug#[9095](http://bugs.otrs.org/show_bug.cgi?id=9095) - ProcessManagement: Service field does not show default services.\n - 2013-01-29 Fixed bug#[9096](http://bugs.otrs.org/show_bug.cgi?id=9096) - All services list is shown instead of only default services.\n - 2013-01-29 Fixed bug#[9088](http://bugs.otrs.org/show_bug.cgi?id=9088) - ProcessManagement: Service field is not displayed in\n    AgentTicketProcess.\n - 2013-01-29 Updated CPAN module MIME::Tools to version 5.503, keeping an OTRS patch in MIME::Words.\n - 2013-01-29 Fixed bug#[9092](http://bugs.otrs.org/show_bug.cgi?id=9092) - Problem running DBUpdate-to-3.2.mysql.sql on InnoDB.\n - 2013-01-28 Fixed bug#[9078](http://bugs.otrs.org/show_bug.cgi?id=9078) - Fields of type \"email\" loosing style format.\n - 2013-01-28 Fixed bug#[9090](http://bugs.otrs.org/show_bug.cgi?id=9090) - ProcessManagement popup dialogs cannot be saved by pressing Enter.\n - 2013-01-28 Fixed bug#[8470](http://bugs.otrs.org/show_bug.cgi?id=8470) - otrs.GenericAgent.pl reports: Can't open\n    '/opt/otrs/otrs\\_vemco/var/tmp/CacheFileStorable/DynamicField/f3b7e10730fb6c9cab5ae0e7f7e034f3'.\n - 2013-01-28 Fixed bug#[7678](http://bugs.otrs.org/show_bug.cgi?id=7678) - SecureMode does not do what it should.\n - 2013-01-28 Fixed bug#[5158](http://bugs.otrs.org/show_bug.cgi?id=5158) - Unsafe UTF8 handling in Encode module.\n - 2013-01-28 Fixed bug#[8959](http://bugs.otrs.org/show_bug.cgi?id=8959) - AgentTicketResponsible Responsible Changed not checked/forced.\n - 2013-01-28 Fixed bug#[9089](http://bugs.otrs.org/show_bug.cgi?id=9089) - Activities and transitions with HTML special characters are\n    not displayed correctly.\n - 2013-01-28 Added new translation for Spanish (Colombia), thanks to John Edisson Ortiz Roman!\n - 2013-01-28 Updated Finnish translation, thanks to Niklas Lamp\u00e9n!\n\n#3.2.1 2013-01-29\n - 2013-01-24 Updated Dutch translation.\n - 2013-01-24 Added test to check if there are problems with the MySQL storage engine used\n    in OTRS tables to bin/otrs.CheckModules.pl.\n - 2013-01-23 Fixed bug#[9082](http://bugs.otrs.org/show_bug.cgi?id=9082) - Process Management: Wrong popup redirect handling to Process Path\n    from TransitionAction.\n - 2013-01-22 Fixed bug#[9065](http://bugs.otrs.org/show_bug.cgi?id=9065) - Process Management: Service and SLA fields are always shown in ActivityDialogs.\n - 2013-01-21 Fixed bug#[9054](http://bugs.otrs.org/show_bug.cgi?id=9054) - Link Object deletes all links under certain conditions.\n - 2013-01-21 Fixed bug#[9059](http://bugs.otrs.org/show_bug.cgi?id=9059) - Process Management: transition actions module field too short.\n - 2013-01-21 Fixed bug#[9066](http://bugs.otrs.org/show_bug.cgi?id=9066) - ProcessManagement: edit links not displayed in popups.\n - 2013-01-21 Fixed an issue where default values would be used erroneously for ActivityDialog\n    fields where a value was already present.\n - 2013-01-21 Fixed bug#[9052](http://bugs.otrs.org/show_bug.cgi?id=9052) - Accordion is reset after submitting a popup.\n - 2013-01-21 Fixed bug#[9067](http://bugs.otrs.org/show_bug.cgi?id=9067) - New process ticket: state selection empty after AJAX reload.\n\n#3.2.0.rc1 2013-01-22\n - 2013-01-18 Fixed bug#[8944](http://bugs.otrs.org/show_bug.cgi?id=8944) - do not backup the cache.\n - 2013-01-17 Updated Finnish translation, thanks to Niklas Lamp\u00e9n!\n - 2013-01-16 Fixed bug#[8929](http://bugs.otrs.org/show_bug.cgi?id=8929) - Fix problems with empty ticket search results while\n    Ticket::Frontend::AgentTicketSearch###ExtendedSearchCondition is inactive.\n - 2013-01-16 Fixed bug#[9057](http://bugs.otrs.org/show_bug.cgi?id=9057) - Generating a PDF with bin/otrs.GenerateStats.pl produces lots\n    of warnings.\n - 2013-01-15 Fixed bug#[9050](http://bugs.otrs.org/show_bug.cgi?id=9050) - Process Management: ticket title disappears.\n - 2013-01-15 Fixed bug#[9049](http://bugs.otrs.org/show_bug.cgi?id=9049) - Process Management: process with a starting AD for CustomerInterface\n    only breaks in AgentInterface.\n - 2013-01-15 Fixed problems with YAML parsing long lines. Added new module dependency YAML::XS.\n - 2013-01-15 Updated CPAN module Mozilla::CA to version 20130114.\n - 2013-01-15 Updated CPAN module MailTools to version 2.12.\n - 2013-01-15 Updated CPAN module Locale::Codes to version 3.24.\n - 2013-01-15 Updated CPAN module Digest::SHA::PurePerl to version 5.81.\n - 2013-01-15 Updated CPAN module Authen::SASL to version 2.16.\n - 2013-01-14 Fixed bug#[9044](http://bugs.otrs.org/show_bug.cgi?id=9044) - ProcessManagement: Transition is duplicated on redraw.\n - 2013-01-14 Fixed bug#[9035](http://bugs.otrs.org/show_bug.cgi?id=9035) - Event Based mails, triggered by a process ticket, have no sender.\n - 2013-01-14 Fixed bug#[9043](http://bugs.otrs.org/show_bug.cgi?id=9043) - ProcessManagement: Transitions without EndActivity are not correctly removed.\n - 2013-01-14 Fixed bug#[9045](http://bugs.otrs.org/show_bug.cgi?id=9045) - Process Management: Activity Dialog field order lost.\n - 2013-01-14 Fixed bug#[9042](http://bugs.otrs.org/show_bug.cgi?id=9042) - Add X-Spam-Score to Ticket.xml.\n - 2013-01-14 Fixed bug#[9047](http://bugs.otrs.org/show_bug.cgi?id=9047) - HistoryTicketGet caches info on disk directly.\n - 2013-01-11 The Phone Call Outbound and Inbound buttons where moved from the Article menu to\n    the Ticket menu in the TicketZoom screen for the agent interface, in order to be able to\n    register phone calls on tickets without articles.\n - 2013-01-11 Fixed bug#[9036](http://bugs.otrs.org/show_bug.cgi?id=9036) - Process# hook does not register an incoming email to the process.\n - 2013-01-11 The names of the TransitionActions were changed to make them more consistent.\n    Please check your processes if you have already defined some which use TransitionActions.\n    Also, the parameter names of the TransitionAction TicketQueueSet and TicketTypeSet were changed.\n - 2013-01-11 Fixed bug#[4513](http://bugs.otrs.org/show_bug.cgi?id=4513) - Password and Username are added automatically by the browser\n    in AdminUser dialog.\n - 2013-01-11 Fixed bug#[8923](http://bugs.otrs.org/show_bug.cgi?id=8923) - Alert message shown, if parent window is reloaded while\n     bulk action popup is open.\n - 2013-01-11 Fixed bug#[9037](http://bugs.otrs.org/show_bug.cgi?id=9037) - TransitionAction TicketQueueSet parameters does not follow same name\n    convention as others.\n - 2013-01-11 Fixed bug#[9032](http://bugs.otrs.org/show_bug.cgi?id=9032) - TransitionAction module name notation.\n - 2013-01-10 Fixed bug#[9029](http://bugs.otrs.org/show_bug.cgi?id=9029) - Switching on Queue in AgentTicketActionCommon will always result in\n    a move.\n - 2013-01-09 Fixed bug#[9031](http://bugs.otrs.org/show_bug.cgi?id=9031) - ProcessManagement Transition condition with regexp fails.\n - 2013-01-09 Fixed bug#[9030](http://bugs.otrs.org/show_bug.cgi?id=9030) - Wrong handling of Invalid YAML in Scheduler Tasks.\n - 2013-01-07 Fixed bug#[8966](http://bugs.otrs.org/show_bug.cgi?id=8966) - Cc and Bcc lists are hidden if one entry is deleted.\n - 2013-01-07 Fixed bug#[8993](http://bugs.otrs.org/show_bug.cgi?id=8993) - OTRS JavaScript does not handle session timeouts gracefully.\n - 2013-01-07 Updated Polish translation, thanks to Pawel @ ib.pl!\n - 2013-01-04 Fixed bug#[9015](http://bugs.otrs.org/show_bug.cgi?id=9015) - otrs.CheckModules.pl reports module as not installed\n    if prerequisite is missing.\n - 2013-01-04 Follow-up fix for bug#[8805](http://bugs.otrs.org/show_bug.cgi?id=8805) - Cron missing as RPM dependency on Red Hat Enterprise Linux.\n    Changed dependency on `anacron` to `vixie-cron` on RHEL5.\n - 2013-01-04 Removed CPAN module Net::IMAP::Simple::SSL, this can be handled by\n    Net::IMAP::Simple now.\n - 2013-01-04 Updated CPAN module Net::IMAP::Simple to version 1.2034.\n - 2013-01-04 Configured `mod_deflate` in bundled Apache configuration file.\n\n#3.2.0.beta5 2013-01-08\n - 2013-01-02 Fixed bug#[9020](http://bugs.otrs.org/show_bug.cgi?id=9020) - Generic Ticket Connector does not support attachments with\n    ContentType without charset.\n - 2013-01-02 Fixed bug#[8545](http://bugs.otrs.org/show_bug.cgi?id=8545) - Attachment download not possible if pop up of another action is open.\n - 2012-12-27 Fixed bug#[8990](http://bugs.otrs.org/show_bug.cgi?id=8990) - Autocompletion returns stale requests.\n - 2012-12-20 Fixed bug#[9009](http://bugs.otrs.org/show_bug.cgi?id=9009) - Empty Multiselect Dynamic Fields provokes an error.\n - 2012-12-19 Fixed bug#[8999](http://bugs.otrs.org/show_bug.cgi?id=8999) - Upcoming event with duplicate dates not displayed in Dashboard.\n - 2012-12-17 Fixed bug#[8457](http://bugs.otrs.org/show_bug.cgi?id=8457) - Error if accessing AgentTicketSearch from AgentTicketPhone in IE8.\n - 2012-12-17 Fixed bug#[8589](http://bugs.otrs.org/show_bug.cgi?id=8589) - Bulk-Action not possible for single ticket.\n - 2012-12-17 Fixed bug#[8695](http://bugs.otrs.org/show_bug.cgi?id=8695) - Table head of Customer Ticket History does not resize on window resize.\n - 2012-12-13 Fixed bug#[8533](http://bugs.otrs.org/show_bug.cgi?id=8533) - Apache will not start if you use mod\\_perl on Fedora 16 or 17.\n - 2012-12-12 Fixed bug#[8950](http://bugs.otrs.org/show_bug.cgi?id=8950) - \"Sign\" and \"crypt\" are displayed two times in AgentTicketCompose.\n - 2012-12-12 Added RPM specfiles for RHEL5 and RHEL6.\n - 2012-12-12 Fixed bug#[8977](http://bugs.otrs.org/show_bug.cgi?id=8977) - ArticleStorageFS fails after upgrade beta3 \\>\\> beta4.\n - 2012-12-11 Fixed bug#[5644](http://bugs.otrs.org/show_bug.cgi?id=5644) - In Article Zoom, Article Filter: Reset Icon is not showing \"reset\" action. Search for better icon.\n - 2012-12-11 Updated json2.js.\n - 2012-12-11 Added TicketList statistic option for historic states and historic state types.\n - 2012-12-11 Updated QUnit to version 1.10.0.\n - 2012-12-11 Updated StacktraceJS to version 0.4.\n - 2012-12-11 Updated jQuery Validate to version 1.10.\n - 2012-12-11 Added support for limiting result sets in the SQL Server DB Driver.\n - 2012-12-10 Fixed bug#[8974](http://bugs.otrs.org/show_bug.cgi?id=8974) - Event Based Notification does not populate REALNAME with\n    Customer User data.\n - 2012-12-10 Fixed bug#[8928](http://bugs.otrs.org/show_bug.cgi?id=8928) - Link in Groups and Roles screens shows agent login, not name.\n - 2012-12-10 Upgraded CKEditor to version 4.0.\n\n#3.2.0.beta4 2012-12-11\n - 2012-12-05 Fixed bug#[7697](http://bugs.otrs.org/show_bug.cgi?id=7697) - Creating queues: sub-queues after level 4 not shown in dropdown box.\n - 2012-12-03 Fixed bug#[8933](http://bugs.otrs.org/show_bug.cgi?id=8933) - ArticleStorageInit permission check problem.\n - 2012-12-03 Various improvements in CustomerInformationCenter and ProcessManagement.\n - 2012-12-03 Fixed bug#[8963](http://bugs.otrs.org/show_bug.cgi?id=8963) - CIC Company attributes not marked as visible are displayed in\n    Company Dashlet.\n - 2012-11-30 Updated Estonian language translation, thanks to Margus V\u00e4rton!\n - 2012-11-29 Fixed bug#[8949](http://bugs.otrs.org/show_bug.cgi?id=8949) - CIC can't open in a new tab in Firefox 17.\n - 2012-11-29 Fixed bug#[8948](http://bugs.otrs.org/show_bug.cgi?id=8948) - CIC Dashboard Filters shows error, customer\\_id will be lost.\n - 2012-11-29 Fixed bug#[8763](http://bugs.otrs.org/show_bug.cgi?id=8763) - Added charset conversion for customer companies.\n - 2012-11-29 Fixed bug#[1970](http://bugs.otrs.org/show_bug.cgi?id=1970) - Email attachments of type .msg (Outlook-Message) are converted.\n - 2012-11-28 Fixed bug#[8955](http://bugs.otrs.org/show_bug.cgi?id=8955) - Init script might fail on SUSE.\n - 2012-11-24 Fixed bug#[8936](http://bugs.otrs.org/show_bug.cgi?id=8936) - Ticket close date is empty when ticket is created in closed state.\n - 2012-11-24 Fixed bug#[8942](http://bugs.otrs.org/show_bug.cgi?id=8942) - Dates show UTC offset on systems with Timezone support activated.\n - 2012-11-23 Fixed problem with out of office feature in dashboard module DashboardUserOnline.\n\n#3.2.0.beta3 2012-11-27\n - 2012-11-22 Fixed bug#[8937](http://bugs.otrs.org/show_bug.cgi?id=8937) - \"$\" should be escaped in interpolated strings when javascript is meant.\n - 2012-11-20 Fixed bug#[8932](http://bugs.otrs.org/show_bug.cgi?id=8932) - DB backend CustomerName function is prefixed with login.\n - 2012-11-20 Fixed bug#[8896](http://bugs.otrs.org/show_bug.cgi?id=8896) - ProcessManagement GUI Transition arrows overlaps.\n    To achieve this, the rendering engine of the ProcessManagement admin GUI was replaced\n    by jsplumb.\n - 2012-11-19 Fixed bug#[8919](http://bugs.otrs.org/show_bug.cgi?id=8919) - Customer interface search results: ticket can only be accessed\n    via ticket number and subject.\n - 2012-11-19 Fixed bug#[8809](http://bugs.otrs.org/show_bug.cgi?id=8809) - CustomerTicketOverview shows Queue and Owner fields hardcoded.\n - 2012-11-19 Fixed another possible race condition in the new DB session backend.\n - 2012-11-19 Fixed bug#[8850](http://bugs.otrs.org/show_bug.cgi?id=8850) - CustomerTicketOverview - MouseOver Age isn't always correct.\n - 2012-11-17 Follow up fix for added feature Ideascale#934 / bug#[1682](http://bugs.otrs.org/show_bug.cgi?id=1682) - Add\n    timescale for Week in Stats.\n - 2012-11-18 Fixed bug#[8927](http://bugs.otrs.org/show_bug.cgi?id=8927) - OTRS under mod\\_perl generates core dumps when\n    used on SysLog log backend.\n - 2012-11-17 Fixed bug#[8926](http://bugs.otrs.org/show_bug.cgi?id=8926) - RoleList and GroupList cache is not reset when groups or\n    roles are added or updated.\n - 2012-11-17 Updated Dutch translation.\n - 2012-11-16 Fixed a bug where addresses were lost in AgentTicketCompose after adding\n    or removing an attachment.\n - 2012-11-15 Added feature to edit Dynamic Fields in customer follow ups.\n - 2012-11-15 Updated CPAN module CGI to version 3.63.\n - 2012-11-15 Fixed a bug where articles would display an incorrect creation date.\n - 2012-11-15 Added feature to search on Company Name in CustomerID field in Customer\n    Information Center.\n - 2012-11-15 Fixed bug#[8921](http://bugs.otrs.org/show_bug.cgi?id=8921) - Responsible selection has empty option after a selection is\n    made in AgentTicketActionCommon based screens.\n - 2012-11-15 Fixed bug#[8920](http://bugs.otrs.org/show_bug.cgi?id=8920) - Owner selection is set to empty list after a selection is made\n    in AgentTicketActionCommon based screens.\n - 2012-11-14 Fixed bug#[8868](http://bugs.otrs.org/show_bug.cgi?id=8868) - Event Based Notification problem saving 'text' Dynamic Fields.\n - 2012-11-13 Fixed bug#[8910](http://bugs.otrs.org/show_bug.cgi?id=8910) - AjaxUpdate of DynamicFields in CustomerFrontend.\n - 2012-11-12 Fixed bug#[8915](http://bugs.otrs.org/show_bug.cgi?id=8915) - CustomerCompany List returns extra spaces.\n - 2012-11-12 Added feature to hide archived tickets in the customer interface.\n - 2012-11-12 Updated CPAN module CGI to version 3.62.\n - 2012-11-09 Fixed bug#[8914](http://bugs.otrs.org/show_bug.cgi?id=8914) - Syntax error in hash loop in TicketGet operation.\n\n#3.2.0.beta2 2012-11-13\n - 2012-11-07 Fixed bug#[8749](http://bugs.otrs.org/show_bug.cgi?id=8749) - CustomerFrontend: missing dynamicfield in  search results.\n - 2012-11-07 Fixed bug#[8908](http://bugs.otrs.org/show_bug.cgi?id=8908) - ProcessManagement import config feature doesn't works if\n    dynamic fields are included.\n - 2012-11-07 Fixed bug#[8907](http://bugs.otrs.org/show_bug.cgi?id=8907) - ProcessManagement StartActivityDialog Owner and Responsible fields\n    produces an error.\n - 2012-11-07 Fixed bug#[8906](http://bugs.otrs.org/show_bug.cgi?id=8906) - ProcessManagement Activities without AtivityDialogs leads to a\n    internal error in TicketZoom.\n - 2012-11-07 Fixed handling of scalar refs in the new DB based session backend.\n - 2012-11-07 Fixed race condition in new DB based session backend.\n - 2012-11-07 Changed default setting for `Ticket::Frontend::ZoomRichTextForce`.\n    Now OTRS will display HTML emails as HTML by default, even if RichText is not\n    activated for composing new messages. This helps for devices which cannot\n    use RichText for editing, but are able to display HTML content, such as certain\n    iPads.\n - 2012-11-07 Fixed bug#[8897](http://bugs.otrs.org/show_bug.cgi?id=8897) - Wrong ProcessManagement Transition config format.\n - 2012-11-06 Fixed bug#[8873](http://bugs.otrs.org/show_bug.cgi?id=8873) - Bad example of customization of \"static\" dynamic fields in\n    AgentTicketOverviewSmall.\n - 2012-11-06 Fixed bug#[8901](http://bugs.otrs.org/show_bug.cgi?id=8901) - ProcessManagement No article created on StartActivityDialog.\n - 2012-11-06 Fixed bug#[8890](http://bugs.otrs.org/show_bug.cgi?id=8890) - ProcessManagement Undefined EntityID error on\n    AdminProcessManagementTransition edit.\n - 2012-11-06 Fixed bug#[8899](http://bugs.otrs.org/show_bug.cgi?id=8899) - ProcessManagement Articles should not have ArticleType email.\n - 2012-11-06 Fixed bug#[8898](http://bugs.otrs.org/show_bug.cgi?id=8898) - ProcessManagement GUI error on popup close (without change).\n - 2012-11-06 Fixed bug#[8895](http://bugs.otrs.org/show_bug.cgi?id=8895) - ProcessManagement Transition Path JS error on Transition Dbl Click.\n - 2012-11-06 Fixed bug#[3419](http://bugs.otrs.org/show_bug.cgi?id=3419) - Kernel/Config/GenericAgent.pm and utf8.\n - 2012-11-06 Fixed a typo in the auto-generated process configuration cache.\n - 2012-11-05 Updated Swedish translation, thanks to Andreas Berger!\n - 2012-11-02 Fixed bug#[8791](http://bugs.otrs.org/show_bug.cgi?id=8791) - IMAPTLS fails with some Microsoft Exchange servers.\n - 2012-10-31 Fixed bug#[8430](http://bugs.otrs.org/show_bug.cgi?id=8430) - Dynamic field management: selection dropdowns\n    aren't translated.\n - 2012-10-30 Fixed bug#[8872](http://bugs.otrs.org/show_bug.cgi?id=8872) - Need a scalar reference! error on File uploads.\n - 2012-10-30 Updated CPAN module MailTools to version 2.11.\n - 2012-10-30 Updated CPAN module Mozilla::CA to version 20120823.\n - 2012-10-30 Updated CPAN module Locale::Codes to version 3.23.\n - 2012-10-30 Updated CPAN module HTTP::Message to version 6.06.\n - 2012-10-30 Updated CPAN module Digest::SHA::PurePerl to version 5.72.\n - 2012-10-30 Updated CPAN module Class::Inspector to version 1.28.\n - 2012-10-30 Updated CPAN module CGI to version 3.60.\n - 2012-10-30 Updated CPAN module Authen::SASL to version 2.16.\n\n#3.2.0.beta1 2012-10-30\n - 2012-11-19 Fixed bug#[8919](http://bugs.otrs.org/show_bug.cgi?id=8919) - Customer interface search results: ticket can only be accessed\n    via ticket number and subject.\n - 2012-10-25 Fixed bug#[8864](http://bugs.otrs.org/show_bug.cgi?id=8864) - Increasing the column size of a varchar column does not work on oracle\n    under certain conditions.\n - 2012-10-24 Fixed bug#[8062](http://bugs.otrs.org/show_bug.cgi?id=8062) - Optimize images in all defualt skins.\n - 2012-10-24 Fixed bug#[8861](http://bugs.otrs.org/show_bug.cgi?id=8861) - Ticket History overlaid calender choice function.\n - 2012-10-24 Fixed bug#[8818](http://bugs.otrs.org/show_bug.cgi?id=8818) - Slash in attachment filename breaks webinterface.\n - 2012-10-24 Added feature to limit the numbers of cuncurrent working agents and customers.\n - 2012-10-24 Refactored session management to improve performance and scalability.\n - 2012-10-23 Fixed bug#[8566](http://bugs.otrs.org/show_bug.cgi?id=8566) - Cannot download attachment if filename has character #.\n - 2012-10-23 Fixed bug#[8541](http://bugs.otrs.org/show_bug.cgi?id=8541) - Tooltip hides customer field in AgentTicketPhoneNew.\n - 2012-10-23 Fixed bug#[8833](http://bugs.otrs.org/show_bug.cgi?id=8833) - Article table in TicketZoom does not scroll correctly.\n - 2012-10-23 Fixed bug#[8685](http://bugs.otrs.org/show_bug.cgi?id=8685) - Cannot use address book / customer / spell check in phone / email if cookies are disabled.\n - 2012-10-23 Fixed bug#[8861](http://bugs.otrs.org/show_bug.cgi?id=8861) - Placeholder container for multiple customer fields are being displayed though being empty.\n - 2012-10-23 Fixed bug#[8673](http://bugs.otrs.org/show_bug.cgi?id=8673) - Richtext-Editor popups broken on Customer-Interface.\n - 2012-10-23 Upgraded CKEditor to version 3.6.5.\n - 2012-10-22 Fixed bug#[8840](http://bugs.otrs.org/show_bug.cgi?id=8840) - Verifying signature of inline-pgp-signed email with utf8 characters\n    fails even though signatures without such characters get verified.\n - 2012-10-22 Fixed bug#[8746](http://bugs.otrs.org/show_bug.cgi?id=8746) - Unequal usage for ticket ACL match and limitation settings for\n    dynamic fields.\n - 2012-10-22 Fixed bug#[7121](http://bugs.otrs.org/show_bug.cgi?id=7121) - Upgrading OTRS using RPM will not upgrade changed ITSM files.\n - 2012-10-22 Removed obsolete and slow cache backend FileRaw in favor of the better FileStorable.\n    Config setting is updated automatically if needed.\n - 2012-10-22 Fixed bug#[1423](http://bugs.otrs.org/show_bug.cgi?id=1423) - Trim OTRS fields before processing.\n    Kernel::System::Web::Request::GetParam()/GetArray() now always perform whitespace trimming\n    by default. Use Raw =\\> 1 to get the unchanged data if you need it.\n - 2012-10-20 Fixed bug#[8678](http://bugs.otrs.org/show_bug.cgi?id=8678) - 'WidgetAction Toggle' is always shown as 'Expanded' when nesting elements\n - 2012-10-20 Fixed bug#[8378](http://bugs.otrs.org/show_bug.cgi?id=8378) - Validation fails if the ID of the element contains a dot (.) or a\n    colon (:)\n - 2012-10-17 Added possibility to select the queue in AgentTicketActionCommon based\n    screens.\n - 2012-10-17 Fixed bug#[8842](http://bugs.otrs.org/show_bug.cgi?id=8842) - Stats outputs DynamicField keys, not values.\n - 2012-10-16 Added unit test for SOAP::Lite \"Incorrect parameter\" error.\n - 2012-10-16 Fixed \"Incorrect parameter\" error in SOAP::Lite 0.715 on any RPC with more than 2\n    parameters.\n - 2012-10-15 Added bug#[8815](http://bugs.otrs.org/show_bug.cgi?id=8815) - List each SQL column at most once in INSERT statement in\n    CustomerUser Backend, thanks to Michael Kromer!\n - 2012-10-15 Removed insecure storage of the last password of the user as unsalted plain md5. OTRS no\n    longer checks if a user enters a different password than the previous one.\n - 2012-10-12 Fixed bug#[8807](http://bugs.otrs.org/show_bug.cgi?id=8807) - Company database with ForeignDB settings show empty columns.\n - 2012-10-10 Implemented redirect to the TicketZoom if Search result returns only one ticket.\n - 2012-10-08 Fixed bug#[7274](http://bugs.otrs.org/show_bug.cgi?id=7274) - Ticket QueueView sorts by priority on first page but subsequent\n    pages sort incorrectly by Age.\n - 2012-10-08 Fixed bug#[8802](http://bugs.otrs.org/show_bug.cgi?id=8802) - Update to 3.1 leaves freetext columns in article\\_search.\n - 2012-09-28 Fixed bug#[8794](http://bugs.otrs.org/show_bug.cgi?id=8794) - Depreciation warnings in web server error log for\n    AdminEmail.pm when using perl \\>= 5.16.\n - 2012-09-27 Fixed bug#[8551](http://bugs.otrs.org/show_bug.cgi?id=8551) - Missing DynamicFields values in TemplateGenerator and\n    NotificationEvent (only show keys).\n - 2012-09-26 Added support for new SysConfig settings type \"DateTime\" (Date and DateTime).\n - 2012-09-24 Fixed bug#[5098](http://bugs.otrs.org/show_bug.cgi?id=5098) - OTRS does not verify that SMIME signatures match email senders.\n - 2012-09-21 Added new feature \"SwitchToCustomer\". The feature can be enabled\n    with the new sysconfig setting \"SwitchToCustomer\".\n - 2012-09-13 Added possibility to search for tickets based on escalation time.\n - 2012-08-10 Added bug#[7183](http://bugs.otrs.org/show_bug.cgi?id=7183) - Usage of HTML5 Form field 'email'.\n - 2012-09-10 Added caching to Kernel::System::CustomerCompany.\n - 2012-09-07 Updated FSF address.\n - 2012-08-20 Fixed bug#[3463](http://bugs.otrs.org/show_bug.cgi?id=3463) - \\<OTRS\\_TICKET\\_EscalationDestinationIn\\> incorrect.\n - 2012-08-20 Fixed bug#[5954](http://bugs.otrs.org/show_bug.cgi?id=5954) - Ticket::Frontend::OverviewSmall###ColumnHeader has\n    no effect on customer frontend.\n - 2012-08-17 HTML mails will now be displayed in the restricted zone in IE.\n    This means that more restrictive security settings will apply, such as blocking of\n    JavaScript content by default.\n - 2012-08-16 Added possibility to expand DynamicFields by default in ticket search\n    via config option Ticket::Frontend::AgentTicketSearch###DynamicField.\n - 2012-08-14 Fixed bug#[8679](http://bugs.otrs.org/show_bug.cgi?id=8679) - OTRS changes \"UTF-8\" to \"utf-8\" in displayed emails.\n - 2012-08-10 Fixed bug#[5240](http://bugs.otrs.org/show_bug.cgi?id=5240) - Don't update read only fields in the CustomerUser DB.\n - 2012-08-03 Improved HTML mail display filtering. SVG content is now filtered out because\n    it is potentially dangerous.\n - 2012-08-03 Generated HTML mails now always have the HTML5 doctype.\n    HTML mail content to be displayed in OTRS now always gets the HTML5 doctype\n    if it does not have a doctype yet. The HTML5 doctype is compatible to HTML4 and\n    causes the browsers to render the content in standards mode, which is safer.\n - 2012-08-02 Improved HTML mail display filtering.\n    Simple Microsoft CSS expressions are now filtered out.\n - 2012-07-31 Removed unused script otrs.XMLMaster.pl.\n - 2012-07-31 Changed the behaviour of HTML mail display filtering.\n    By default, all inline/active content (such as script, object, applet or embed tags)\n    will be stripped. If there are external images in mails from the customer, they will be stripped too,\n    but a message will be shown allowing the user to reload the page showing the external images.\n - 2012-07-31 HTML mails will now be displayed in an HTML5 sandbox iframe.\n    This means that modern browsers will not execute plugins or JavaScript on the content\n    any more. Currently, this is supported by Chrome and Safari, but IE10 and FF16 are also\n    planned to support this.\n - 2012-07-30 Switched the OTRS frontend to use the HTML5 doctype.\n - 2012-07-23 Added object check in the event handler mechanism.\n - 2012-07-16 Updated CPAN module Apache2::Reload to version 0.12.\n - 2012-07-16 Updated CPAN module LWP::UserAgent to version 6.04.\n - 2012-07-16 Updated CPAN module YAML to version 0.84.\n - 2012-07-16 Updated CPAN module URI to version 1.60.\n - 2012-07-16 Updated CPAN module Mail::Address to version 2.09.\n - 2012-07-16 Updated CPAN module SOAP::Lite to version 0.715.\n - 2012-07-16 Updated CPAN module Mozilla::CA to version 20120309.\n - 2012-07-16 Updated CPAN module Local::Codes to version 3.22.\n - 2012-07-16 Updated CPAN module Encode::Locale to version 1.03.\n - 2012-07-16 Updated CPAN module Digest::SHA::PurePerl to version 5.71.\n - 2012-07-16 Updated CPAN module Class::Inspector to version 1.27.\n - 2012-07-16 Fixed bug#[8616](http://bugs.otrs.org/show_bug.cgi?id=8616) - Spell Checker does not work using IE9.\n - 2012-07-05 Added the ability to hide the Article Type from TicketActionCommon-based screens\n    which can be helpful to fit more data in the browser window.\n - 2012-07-04 The customer web interface now fully supports AJAX and ACLs.\n    It now requires JavaScript and can no longer be used with Internet Explorer 6 or earlier versions.\n - 2012-07-03 Added new feature to remove seen flags and ticket watcher information of\n    archived tickets. Use the config settings Ticket::ArchiveSystem::RemoveSeenFlags and\n    Ticket::ArchiveSystem::RemoveTicketWatchers to control if this data is removed when\n    a ticket is being archived (active by default).\n    Archived tickets will now always be shown as 'seen' by the agent.\n - 2012-06-26 Improved cache performance with many cache files.\n - 2012-06-26 Removed unneeded columns from the ticket table.\n - 2012-06-21 Added bin/otrs.TicketDelete.pl script to delete tickets.\n - 2012-06-21 Fixed bug#[8596](http://bugs.otrs.org/show_bug.cgi?id=8596) - user/group/role data updated unnecessarily on LDAP agent sync.\n - 2012-06-19 Reduced the number of database calls for the article flags in AgentTicketZoom.\n - 2012-06-18 Removed unneeded indices from the article\\_flags table.\n - 2012-06-08 Added feature SMIME certificate read.\n - 2012-05-25 Fixed bug#[8522](http://bugs.otrs.org/show_bug.cgi?id=8522) - Multiple recipient feature is missing in AgentTicketForward.\n - 2012-05-25 Added template list to all output filter config to improve performance.\n - 2012-05-24 Added feature IdeaScale#925 - possibility to place customized DTL files in\n    Custom/Kernel/Output/HTML, so that they override the system's default DTL files just like\n    it already works for Perl files.\n - 2012-05-22 Fixed bug#[8442](http://bugs.otrs.org/show_bug.cgi?id=8442) - Can not submit tickets in customer interface if Queue selection is\n    disabled and no Default queue is specified.\n - 2012-05-21 Added feature Ideascale#72 / bug#[5471](http://bugs.otrs.org/show_bug.cgi?id=5471) - Out-of-Office dashboard widget.\n - 2012-05-14 Added feature Ideascale#934 / bug#[1682](http://bugs.otrs.org/show_bug.cgi?id=1682) - Add timescale for Week in Stats.\n - 2012-05-14 Added feature Ideascale#896 - Have the ability to set the default ticket type\n    or hide the ticket type in the Customer Interface for new tickets.\n - 2012-05-07 Fixed bug#[8196](http://bugs.otrs.org/show_bug.cgi?id=8196) - Wrong article sender type for web service tickets.\n - 2012-04-27 Added bug#[8075](http://bugs.otrs.org/show_bug.cgi?id=8075) - Article Sender Type to be added to\n    NotificationEvent definitions.\n\n#3.1.14 2013-??-??\n - 2013-03-02 Fixed bug#[9214](http://bugs.otrs.org/show_bug.cgi?id=9214) - IE10: impossible to open links from rich text articles.\n - 2013-03-01 Fixed bug#[9218](http://bugs.otrs.org/show_bug.cgi?id=9218) - Cannot use special characters in TicketHook.\n - 2013-02-28 Fixed bug#[9056](http://bugs.otrs.org/show_bug.cgi?id=9056) - Unused SysConfig option Ticket::Frontend::CustomerInfoQueueMaxSize.\n - 2013-02-26 Follow-up fix for bug#[8533](http://bugs.otrs.org/show_bug.cgi?id=8533) apache will not start on Fedora.\n - 2013-02-26 Fixed bug#[9172](http://bugs.otrs.org/show_bug.cgi?id=9172) - Generic Interface does not work on IIS 7.0.\n - 2013-02-21 Updated Czech language translation, thanks to Katerina Bubenickova!\n - 2013-02-20 Fixed bug#[8865](http://bugs.otrs.org/show_bug.cgi?id=8865) - Additional empty data column in statistics CSV-Output.\n\n#3.1.13 2013-02-19\n - 2013-02-19 Fixed bug#[9128](http://bugs.otrs.org/show_bug.cgi?id=9128) - OTRS uses internal sub of Locale::Codes::Country which causes trouble for\n    Debian.\n - 2013-02-13 Fixed bug#[9162](http://bugs.otrs.org/show_bug.cgi?id=9162) - Setting the start day of the week for the datepicker to Sunday does not work.\n - 2013-02-13 Fixed bug#[9141](http://bugs.otrs.org/show_bug.cgi?id=9141) - Confused Columns in CustomerTicketSearch (ResultShort).\n - 2013-02-08 Fixed bug#[9146](http://bugs.otrs.org/show_bug.cgi?id=9146) - Signed SMIME mails with altered content shows a not clear message.\n - 2013-02-08 Fixed bug#[9145](http://bugs.otrs.org/show_bug.cgi?id=9145) - SMIME sign verification errors are not displayed in TicketZoom.\n - 2013-02-07 Fixed bug#[9140](http://bugs.otrs.org/show_bug.cgi?id=9140) - Postmaster Filter for empty subjects does not work.\n - 2013-02-05 Fixed bug#[9121](http://bugs.otrs.org/show_bug.cgi?id=9121) - Filenames with Unicode NFD are incorrectly reported as NFC by Main::DirectoryRead().\n - 2013-02-05 Fixed bug#[9108](http://bugs.otrs.org/show_bug.cgi?id=9108) - Check for opened/closed tickets not working with Ticket::SubjectFormat = Right.\n - 2013-02-01 Fixed bug#[8839](http://bugs.otrs.org/show_bug.cgi?id=8839) - DateChecksum followup doesn't get correctly SystemID.\n - 2013-01-31 Updated Russian translation, thanks to Vadim Goncharov!\n - 2013-01-30 Fixed bug#[9101](http://bugs.otrs.org/show_bug.cgi?id=9101) - Not possible to create dropdown with autocomplete attribute.\n - 2013-01-29 Fixed bug#[9096](http://bugs.otrs.org/show_bug.cgi?id=9096) - All services list is shown instead of only default services.\n - 2013-01-28 Fixed bug#[8470](http://bugs.otrs.org/show_bug.cgi?id=8470) - otrs.GenericAgent.pl reports: Can't open\n    '/opt/otrs/otrs\\_vemco/var/tmp/CacheFileStorable/DynamicField/f3b7e10730fb6c9cab5ae0e7f7e034f3'.\n - 2013-01-28 Added new translation for Spanish (Colombia), thanks to John Edisson Ortiz Roman!\n - 2013-01-21 Fixed bug#[9054](http://bugs.otrs.org/show_bug.cgi?id=9054) - Link Object deletes all links under certain conditions.\n - 2013-01-18 Fixed bug#[8944](http://bugs.otrs.org/show_bug.cgi?id=8944) - do not backup the cache.\n - 2013-01-16 Fixed bug#[9057](http://bugs.otrs.org/show_bug.cgi?id=9057) - Generating a PDF with bin/otrs.GenerateStats.pl produces lots\n    of warnings.\n - 2013-01-15 Fixed bug#[8929](http://bugs.otrs.org/show_bug.cgi?id=8929) - Fix problems with empty ticket search results while\n    Ticket::Frontend::AgentTicketSearch###ExtendedSearchCondition is inactive.\n - 2013-01-14 Fixed bug#[9042](http://bugs.otrs.org/show_bug.cgi?id=9042) - Add X-Spam-Score to Ticket.xml.\n - 2013-01-14 Fixed bug#[9047](http://bugs.otrs.org/show_bug.cgi?id=9047) - HistoryTicketGet caches info on disk directly.\n - 2013-01-11 Fixed bug#[8923](http://bugs.otrs.org/show_bug.cgi?id=8923) - Alert message shown, if parent window is reloaded while\n    bulk action popup is open.\n - 2013-01-09 Fixed bug#[9030](http://bugs.otrs.org/show_bug.cgi?id=9030) - Wrong handling of Invalid YAML in Scheduler Tasks.\n - 2013-01-07 Updated CKEditor to version 3.6.6.\n - 2013-01-07 Updated Polish translation, thanks to Pawel @ ib.pl!\n - 2013-01-04 Follow-up fix for bug#[8805](http://bugs.otrs.org/show_bug.cgi?id=8805) - Cron missing as RPM dependency on Red Hat Enterprise Linux.\n    Changed dependency on `anacron` to `vixie-cron` on RHEL5.\n - 2013-01-02 Fixed bug#[9020](http://bugs.otrs.org/show_bug.cgi?id=9020) - Generic Ticket Connector does not support attachments with\n    ContentType without charset.\n - 2013-01-02 Fixed bug#[8545](http://bugs.otrs.org/show_bug.cgi?id=8545) - Attachment download not possible if pop up of another action is open.\n - 2012-12-20 Fixed bug#[9009](http://bugs.otrs.org/show_bug.cgi?id=9009) - Empty Multiselect Dynamic Fields provokes an error.\n - 2012-12-17 Fixed bug#[8589](http://bugs.otrs.org/show_bug.cgi?id=8589) - Bulk-Action not possible for single ticket.\n - 2012-12-17 Fixed bug#[7198](http://bugs.otrs.org/show_bug.cgi?id=7198) - Broken repository selection width in Package Manager.\n - 2012-12-17 Fixed bug#[8457](http://bugs.otrs.org/show_bug.cgi?id=8457) - Error if accessing AgentTicketSearch from AgentTicketPhone in IE8.\n - 2012-12-17 Fixed bug#[8695](http://bugs.otrs.org/show_bug.cgi?id=8695) - Table head of Customer Ticket History does not resize on window resize.\n - 2012-12-13 Fixed bug#[8533](http://bugs.otrs.org/show_bug.cgi?id=8533) - Apache will not start if you use mod\\_perl on Fedora 16 or 17.\n - 2012-12-10 Fixed bug#[8974](http://bugs.otrs.org/show_bug.cgi?id=8974) - Event Based Notification does not populate REALNAME with\n    Customer User data.\n\n#3.1.12 2012-12-11\n - 2012-12-03 Fixed bug#[8933](http://bugs.otrs.org/show_bug.cgi?id=8933) - ArticleStorageInit permission check problem.\n - 2012-11-29 Fixed bug#[8763](http://bugs.otrs.org/show_bug.cgi?id=8763) - Please add charset conversion for customer companies.\n - 2012-11-29 Fixed bug#[1970](http://bugs.otrs.org/show_bug.cgi?id=1970) - Email attachments of type .msg (Outlook-Message) are converted.\n - 2012-11-28 Fixed bug#[8955](http://bugs.otrs.org/show_bug.cgi?id=8955) - Init script might fail on SUSE.\n - 2012-11-24 Fixed bug#[8936](http://bugs.otrs.org/show_bug.cgi?id=8936) - Ticket close date is empty when ticket is created in closed state.\n - 2012-11-19 Fixed bug#[8850](http://bugs.otrs.org/show_bug.cgi?id=8850) - CustomerTicketOverview - MouseOver Age isn't always correct.\n - 2012-11-14 Fixed bug#[8868](http://bugs.otrs.org/show_bug.cgi?id=8868) - Event Based Notification problem saving 'text' Dynamic Fields.\n - 2012-11-09 Fixed bug#[8914](http://bugs.otrs.org/show_bug.cgi?id=8914) - Syntax error in hash loop in TicketGet operation.\n - 2012-11-07 Fixed bug#[8749](http://bugs.otrs.org/show_bug.cgi?id=8749) - CustomerFrontend: missing dynamicfield in  search results.\n - 2012-11-06 Fixed bug#[8873](http://bugs.otrs.org/show_bug.cgi?id=8873) - Bad example of customization of \"static\" dynamic fields in\n    AgentTicketOverviewSmall.\n - 2012-11-02 Fixed bug#[8791](http://bugs.otrs.org/show_bug.cgi?id=8791) - IMAPTLS fails with some Microsoft Exchange servers.\n - 2012-10-24 Fixed bug#[8841](http://bugs.otrs.org/show_bug.cgi?id=8841) - Search for Dynamic Fields shows all tickets (on \"enter\" key pressed).\n - 2012-10-23 Fixed bug#[8862](http://bugs.otrs.org/show_bug.cgi?id=8862) - GI debugger GUI does not show SOAP XML tags correctly.\n - 2012-10-22 Fixed bug#[8859](http://bugs.otrs.org/show_bug.cgi?id=8859) - Package upgrade does not work if an installed testpackage\n    should be upgraded with a newer regular package.\n - 2012-10-20 Fixed bug#[8678](http://bugs.otrs.org/show_bug.cgi?id=8678) - 'WidgetAction Toggle' is always shown as 'Expanded' when nesting elements\n - 2012-10-20 Fixed bug#[8378](http://bugs.otrs.org/show_bug.cgi?id=8378) - Validation fails if the ID of the element contains a dot (.) or a\n    colon (:)\n - 2012-10-17 Fixed bug#[8847](http://bugs.otrs.org/show_bug.cgi?id=8847) - Inline PGP message description routine does not add any info, thanks\n    to IB Development Team.\n - 2012-10-17 Fixed bug#[8848](http://bugs.otrs.org/show_bug.cgi?id=8848) - AgentTicketEmail does not preserve PGP Signatures set if attachment\n    is added.\n - 2012-10-16 Fixed bug#[8149](http://bugs.otrs.org/show_bug.cgi?id=8149) - Wrong handling of subject when SubjectFormat=right.\n - 2012-10-12 Updated Polish translation, thanks to Pawel!\n - 2012-10-13 Fixed bug#[8820](http://bugs.otrs.org/show_bug.cgi?id=8820) - Service rcotrs restart fails because a race condition happens.\n - 2012-10-12 Fixed bug#[8819](http://bugs.otrs.org/show_bug.cgi?id=8819) - Syntax error (stop crontab command) in SuSE rc script.\n - 2012-10-12 Removed auto cleanup of expired sessions in CreateSessionID() to improve the scalability\n    of the hole system.\n - 2012-10-11 Fixed bug#[8667](http://bugs.otrs.org/show_bug.cgi?id=8667) - TicketSplit does not use QueueID of old Ticket for ACL Checking.\n - 2012-10-08 Fixed bug#[8780](http://bugs.otrs.org/show_bug.cgi?id=8780) - 508 Compliance: Text descriptions of \"Responsible Tickets\"\n    and \"Locked Tickets\" links are insufficient for screen reader users.\n - 2012-10-05 Fixed bug#[8812](http://bugs.otrs.org/show_bug.cgi?id=8812) - Encrypted email doesn't see properly in Outlook.\n - 2012-10-03 Fixed bug#[8214](http://bugs.otrs.org/show_bug.cgi?id=8214) - OTRS Init script on Red Hat fails to check scheduler.\n - 2012-10-03 Fixed bug#[8805](http://bugs.otrs.org/show_bug.cgi?id=8805) - Cron missing as RPM dependency on Red Hat Enterprise Linux.\n - 2012-09-28 Fixed bug#[7274](http://bugs.otrs.org/show_bug.cgi?id=7274) - Ticket QueueView sorts by priority on first page but subsequent\n    pages sort incorrectly by Age.\n - 2012-09-27 Fixed bug#[8792](http://bugs.otrs.org/show_bug.cgi?id=8792) - TriggerEscalationStopEvents logs as loglevel 'error'.\n - 2012-09-26 Fixed bug#[8743](http://bugs.otrs.org/show_bug.cgi?id=8743) - AgentTicketCompose.pm creates To, CC, BCC filelds without spaces after comma.\n - 2012-09-25 Fixed bug#[8606](http://bugs.otrs.org/show_bug.cgi?id=8606) - Escalation notifications should not be sent to agents who are set out-of-office.\n - 2012-09-25 Fixed bug#[8740](http://bugs.otrs.org/show_bug.cgi?id=8740) - backup.pl: insufficient handling of system() return values.\n - 2012-09-24 Fixed bug#[8622](http://bugs.otrs.org/show_bug.cgi?id=8622) - Storing a new GI Invoker or Operation with an existing name doesn't\n    complain anything.\n - 2012-09-24 Fixed bug#[8770](http://bugs.otrs.org/show_bug.cgi?id=8770) - AJAX Removes Default Options (follow-up fix).\n - 2012-09-21 Improved caching for Services and Service Lists.\n\n#3.1.11 2012-10-16\n - 2012-09-18 Fixed bug#[8770](http://bugs.otrs.org/show_bug.cgi?id=8770) - AJAX Removes Default Options.\n - 2012-09-17 Fixed bug#[7135](http://bugs.otrs.org/show_bug.cgi?id=7135) - Queueview, Ticketwindow closing on Refresh.\n - 2012-09-17 Fixed bug#[7294](http://bugs.otrs.org/show_bug.cgi?id=7294) - Ticket search window closes on background refresh of ticket queue.\n - 2012-09-13 Fixed bug#[8765](http://bugs.otrs.org/show_bug.cgi?id=8765) - Package Manager OS detection does not work.\n - 2012-09-13 Improved HTML security filter to better find javascript source URLs.\n - 2012-09-11 Fixed bug#[8575](http://bugs.otrs.org/show_bug.cgi?id=8575) - SSL protocol negotiation fails using SMTPTLS with recent\n    IO::Socket::SSL versions by upgrading TLS module to 0.20.\n - 2012-09-10 Fixed bug#[4475](http://bugs.otrs.org/show_bug.cgi?id=4475) - Extra double quote added to HTML links when using http-link field.\n - 2012-09-07 Improved caching of search results when the result set is empty.\n\n#3.1.10 2012-08-30\n - 2012-08-28 Improved HTML security filter to detect tag nesting.\n - 2012-08-24 Fixed bug#[8611](http://bugs.otrs.org/show_bug.cgi?id=8611) - Ticket count is wrong in QueueView.\n - 2012-08-21 Fixed bug#[8698](http://bugs.otrs.org/show_bug.cgi?id=8698) - Layout.pm only looks at first entry from\n    HTTP\\_ACCEPT\\_LANGUAGE to determine language.\n - 2012-08-21 Fixed bug#[8731](http://bugs.otrs.org/show_bug.cgi?id=8731) - LDAP group check returns wrong error.\n\n#3.1.9 2012-08-21\n - 2012-08-20 Fixed bug#[3463](http://bugs.otrs.org/show_bug.cgi?id=3463) - \\<OTRS\\_TICKET\\_EscalationDestinationIn\\> incorrect.\n - 2012-08-20 Fixed bug#[5954](http://bugs.otrs.org/show_bug.cgi?id=5954) - Ticket::Frontend::OverviewSmall###ColumnHeader has\n    no effect on customer frontend.\n - 2012-08-19 Fixed bug#[8584](http://bugs.otrs.org/show_bug.cgi?id=8584) Email address not added to recipients after collision/duplicate occurred.\n - 2012-08-17 HTML mails will now be displayed in an HTML5 sandbox iframe.\n    This means that modern browsers will not execute plugins or JavaScript on the content\n    any more. Currently, this is supported by Chrome and Safari, but IE10 and FF16 are also\n - 2012-08-17 HTML mails will now be displayed in the restricted zone in IE.\n    This means that more restrictive security settings will apply, such as blocking of\n    JavaScript content by default.\n - 2012-08-14 Fixed bug#[8360](http://bugs.otrs.org/show_bug.cgi?id=8360) Cannot search for tickets by dynamic fields via SOAP.\n - 2012-08-14 Fixed bug#[8697](http://bugs.otrs.org/show_bug.cgi?id=8697) Time related restrictions in TicketSearch operator (GenericInterface) not working.\n - 2012-08-14 Fixed bug#[8685](http://bugs.otrs.org/show_bug.cgi?id=8685) - Cannot use address book / customer / spell check in phone /\n    email if cookies are disabled. (partly fixed)\n - 2012-08-06 Fixed bug#[8682](http://bugs.otrs.org/show_bug.cgi?id=8682) - linking search conditions with && in\n    Customersearch is not working since Update from 3.1.1 to 3.1.7.\n - 2012-08-06 Fixed bug#[8683](http://bugs.otrs.org/show_bug.cgi?id=8683) - Cannot create dynamic field if cookies are disabled.\n - 2012-08-06 Fixed bug#[8672](http://bugs.otrs.org/show_bug.cgi?id=8672) - Search Profile can't have an ampersand in the name via\n    Toolbar module.\n - 2012-08-06 Fixed bug#[8619](http://bugs.otrs.org/show_bug.cgi?id=8619) - The UPGRADING file has incorrect patchlevel upgrade description.\n - 2012-08-03 Fixed bug#[6882](http://bugs.otrs.org/show_bug.cgi?id=6882) - Dummy field set first child to the very right in edit screen.\n - 2012-08-03 Fixed bug#[8680](http://bugs.otrs.org/show_bug.cgi?id=8680) - Bulk action fails if cookies are disabled.\n\n#3.1.8 2012-08-07\n - 2012-08-02 Updated Greek translation file, thanks to Maistros Stelios!\n - 2012-07-31 Improved robustness of HTML security filter: Detect masked UTF-7 \\< and \\> signs.\n - 2012-07-31 Added config option for ticket permission in the escalation view.\n - 2012-07-31 Fixed bug#[8675](http://bugs.otrs.org/show_bug.cgi?id=8675) - Kernel::GenericInterface::Mapping doesn't provide a ConfigObject.\n - 2012-07-20 Fixed bug#[8660](http://bugs.otrs.org/show_bug.cgi?id=8660) - Duplicate DF X-Headers in PostMaster module.\n - 2012-07-17 Fixed bug#[8647](http://bugs.otrs.org/show_bug.cgi?id=8647) - otrs.GenerateStats.pl \"-S\" option does not function.\n - 2012-07-16 Fixed bug#[8616](http://bugs.otrs.org/show_bug.cgi?id=8616) - Spell Checker does not work using IE9.\n - 2012-07-11 Fixed bug#[8568](http://bugs.otrs.org/show_bug.cgi?id=8568) - IMAPTLS - More than one email at one cron run will not work.\n - 2012-07-05 Added bug#[8627](http://bugs.otrs.org/show_bug.cgi?id=8627) - bin/otrs.AddQueue2StdResponse.pl Script to add standard responses\n    to queues, thanks to Oliver Skibbe @ CIPHRON GmbH.\n - 2012-07-04 Fixed bug#[8607](http://bugs.otrs.org/show_bug.cgi?id=8607) - otrs service fails in 3.1.7 on SUSE linux.\n - 2012-07-02 Increased cache TTL of some core modules to improve performance.\n - 2012-07-01 Fixed bug#[8620](http://bugs.otrs.org/show_bug.cgi?id=8620) - Using a default queue in the customer interface causes database\n    error on PostgresSQL if ACLs are used.\n - 2012-06-29 Fixed bug#[8618](http://bugs.otrs.org/show_bug.cgi?id=8618) - Inform and Involved Agents select boxes can not be resizable.\n - 2012-06-27 Fixed bug#[8558](http://bugs.otrs.org/show_bug.cgi?id=8558) - GenericInterface: response isn't valid UTF-8 content.\n - 2012-06-27 Added bug#[7039](http://bugs.otrs.org/show_bug.cgi?id=7039) - bin/otrs.AddService.pl script to add services from the command\n    line.\n - 2012-06-26 Made display of pending time consistent with escalation time display.\n - 2012-06-22 Fixed bug#[8230](http://bugs.otrs.org/show_bug.cgi?id=8230) - Invalid Challenge Token when creating ticket out of hyperlinks.\n\n#3.1.7 2012-06-26\n - 2012-06-18 Fixed bug#[8593](http://bugs.otrs.org/show_bug.cgi?id=8593) - Wrong description for 'Agent Notifications' on Admin interface.\n - 2012-06-18 Fixed bug#[8587](http://bugs.otrs.org/show_bug.cgi?id=8587) - Typo in French translation.\n - 2012-06-15 Fixed bug#[7879](http://bugs.otrs.org/show_bug.cgi?id=7879) - Broken Content-Type in forwarded attachments.\n - 2012-06-15 Fixed bug#[8583](http://bugs.otrs.org/show_bug.cgi?id=8583) - Unneeded complexity and performance degradation creating Service\n    Lists (Replacement for bug fix 7947).\n - 2012-06-15 Fixed bug#[8580](http://bugs.otrs.org/show_bug.cgi?id=8580) - SQL warnings for CustomerCompanyGet on some database backends.\n - 2012-06-14 Fixed bug#[8251](http://bugs.otrs.org/show_bug.cgi?id=8251) - Defect handling of invalid Queues in AJAX refresh.\n - 2012-06-14 Fixed bug#[8574](http://bugs.otrs.org/show_bug.cgi?id=8574) - Perl special variable $/ is changed and never restored.\n - 2012-06-14 Fixed bug#[8337](http://bugs.otrs.org/show_bug.cgi?id=8337) - Parentheses in user last\\_name / first\\_name are not sanitized (follow-up fix).\n - 2012-06-12 Fixed bug#[8575](http://bugs.otrs.org/show_bug.cgi?id=8575) - Assignment of users does not work for responsible or owner permission\n    in AgentTicketPhone.\n - 2012-06-12 Updated Hungarian translation, thanks to N\u00e9meth Csaba!\n - 2012-06-12 Updated Danish translation, thanks to Lars J\u00f8rgensen!\n - 2012-06-12 Fixed bug#[7872](http://bugs.otrs.org/show_bug.cgi?id=7872) - \"Created\" date in Large view is actually Last Updated date.\n - 2012-06-12 Fixed bug#[8457](http://bugs.otrs.org/show_bug.cgi?id=8457) -  Paste on a newly created ckeditor instance does not work on webkit based browsers.\n - 2012-06-11 Fixed bug#[8565](http://bugs.otrs.org/show_bug.cgi?id=8565) - Exportfile action from otrs.PackageManaget.pl is broken.\n - 2012-06-11 Fixed bug#[8458](http://bugs.otrs.org/show_bug.cgi?id=8458) - $OTRS\\_SCHEDULER -a start missing from /etc/init.d/otrs after update.\n - 2012-06-11 Fixed bug#[8139](http://bugs.otrs.org/show_bug.cgi?id=8139) - SUSE RPM has no dependency on Date::Format perl\n    module.\n - 2012-06-11 Fixed bug#[8544](http://bugs.otrs.org/show_bug.cgi?id=8544) - Hovering ticket title is still shortened.\n - 2012-06-07 Fixed bug#[8553](http://bugs.otrs.org/show_bug.cgi?id=8553) - Agent notifications can't be loaded from the database in some\n    scenarios.\n - 2012-06-05 Fixed bug#[8383](http://bugs.otrs.org/show_bug.cgi?id=8383) - Email address in 'To' field is lost after second reload if address is not in customer database.\n - 2012-06-06 Fixed bug#[8549](http://bugs.otrs.org/show_bug.cgi?id=8549) - \"Need User\" warning in error log when creating a ticket for a\n    customer not in DB.\n - 2012-06-05 Fixed bug#[8546](http://bugs.otrs.org/show_bug.cgi?id=8546) - LinkObject Type is not translated in ticket zoom.\n - 2012-06-04 Fixed bug#[7533](http://bugs.otrs.org/show_bug.cgi?id=7533) - SQL error if body contains only a picture.\n - 2012-06-04 Fixed bug#[2626](http://bugs.otrs.org/show_bug.cgi?id=2626) - Default Service does not work for \"unknown\" customers.\n    You can use the new setting \"Ticket::Service::Default::UnknownCustomer\" to specify if unknown customers\n    should also receive the default services.\n - 2012-06-04 Improved performance of TemplateGenerator.pm, thanks to Stelios Gikas!\n - 2012-05-31 Fixed bug#[8481](http://bugs.otrs.org/show_bug.cgi?id=8481) - Dynamic Fields lost after ticket move to another queue (using quick\n    move Dropdown).\n - 2012-05-31 Fixed bug#[8533](http://bugs.otrs.org/show_bug.cgi?id=8533) - Apache will not start using mod\\_perl on Fedora 16.\n\n#3.1.6 2012-06-05\n - 2012-05-30 Fixed bug#[8495](http://bugs.otrs.org/show_bug.cgi?id=8495) - Generic Agent TicketAction single value attributes should not let\n    multiple selection.\n - 2012-05-30 Fixed bug#[8378](http://bugs.otrs.org/show_bug.cgi?id=8378) - Validation fails if the ID of the element contains a dot (.) or a colon (:).\n - 2012-05-30 Fixed bug#[7532](http://bugs.otrs.org/show_bug.cgi?id=7532) - 'Field is required' message should be removed in RTE if content is added.\n - 2012-05-30 Fixed bug#[8514](http://bugs.otrs.org/show_bug.cgi?id=8514) - Long words in description break rendering of SysConfig items.\n - 2012-05-30 Fixed bug#[8537](http://bugs.otrs.org/show_bug.cgi?id=8537) - DynamicField caching issue.\n - 2012-05-29 Fixed bug#[8482](http://bugs.otrs.org/show_bug.cgi?id=8482) - Responsible of a ticket without responsible permission.\n - 2012-05-29 Fixed bug#[8485](http://bugs.otrs.org/show_bug.cgi?id=8485) - CustomerUser validation fails in GI Ticket Operations if there is no\n    ValidID in the mapping.\n - 2012-05-29 Fixed bug#[8529](http://bugs.otrs.org/show_bug.cgi?id=8529) - Fixed print to STDERR in ReferenceData.pm.\n - 2012-05-28 Fixed bug#[8427](http://bugs.otrs.org/show_bug.cgi?id=8427) - Dynamic Field Type Multiselect not shown in Notification (event).\n - 2012-05-27 Updated Norwegian translation, thanks to Lars Magnus Herland!\n - 2012-05-25 Fixed bug#[8189](http://bugs.otrs.org/show_bug.cgi?id=8189) - AgentTicketCompose: Pressing \"Enter\" will delete Attachment.\n - 2012-05-25 Fixed bug#[7844](http://bugs.otrs.org/show_bug.cgi?id=7844) - Escalation Event does not respect service calendar of ticket/queue.\n - 2012-05-25 Fixed bug#[8228](http://bugs.otrs.org/show_bug.cgi?id=8228) - Ticket::Frontend::AgentTicketNote###StateDefault doesn't work.\n - 2012-05-25 Added template list to all output filter config to improve performance.\n - 2012-05-25 Fixed bug#[8519](http://bugs.otrs.org/show_bug.cgi?id=8519) - Kernel::System::TicketSearch-\\>TicketSearch() doesn't properly handle\n     array references in SortBy parameter\n - 2012-05-24 Fixed bug#[7512](http://bugs.otrs.org/show_bug.cgi?id=7512) - AJAX-reload of SMIME-fields did not work properly.\n - 2012-05-24 Fixed bug#[8518](http://bugs.otrs.org/show_bug.cgi?id=8518) - Crypt on multiple recipients error replaces Crypt selection.\n - 2012-05-22 Fixed bug#[8164](http://bugs.otrs.org/show_bug.cgi?id=8164) - Internal articles are visible within customer ticket overview.\n - 2012-05-22 Fixed bug#[8506](http://bugs.otrs.org/show_bug.cgi?id=8506) - Customer email link won't open in popup as expected.\n - 2012-05-20 Fixed bug#[7844](http://bugs.otrs.org/show_bug.cgi?id=7844) - Escalation Event does not respect service calendar of ticket/queue.\n - 2012-05-18 Added otrs.RefreshSMIMEKeys.pl to refresh SMIME certificate filenames according to the\n    system's current OpenSSL version.\n - 2012-05-17 Fixed bug#[8498](http://bugs.otrs.org/show_bug.cgi?id=8498) - OpenSSL 1.0.0 does not get the stored SMIME certificates when\n    -CApath is used in the command.\n - 2012-05-16 Fixed bug#[8337](http://bugs.otrs.org/show_bug.cgi?id=8337) - Parentheses in user last\\_name / first\\_name are not sanitized.\n - 2012-05-15 Updated French translation, thanks to Romain Monnier!\n - 2012-05-11 Fixed bug#[8467](http://bugs.otrs.org/show_bug.cgi?id=8467) - Reply to an e-mail address with ' not possible.\n - 2012-05-11 Fixed bug#[8352](http://bugs.otrs.org/show_bug.cgi?id=8352) - Wrong substitution regex in HTMLUtils.pm-\\>ToAscii.\n - 2012-05-11 Fixed bug#[8401](http://bugs.otrs.org/show_bug.cgi?id=8401) - DynamicField Update doesn't update the X-OTRS-DynamicField-XXX\n    Fields in Postmaster Filters.\n - 2012-05-11 Fixed bug#[5746](http://bugs.otrs.org/show_bug.cgi?id=5746) - Using PerlEx you have to restart IIS each time a setting is\n    changed in SysConfig.\n - 2012-05-10 Fixed bug#[8452](http://bugs.otrs.org/show_bug.cgi?id=8452) - Dynamic Field Date/Time not working when server runs on UTC.\n\n#3.1.5 2012-05-15\n - 2012-05-09 Fixed bug#[8466](http://bugs.otrs.org/show_bug.cgi?id=8466) - On Win32 GenericInterface does not return results properly.\n - 2012-05-08 Fixed bug#[8465](http://bugs.otrs.org/show_bug.cgi?id=8465) - Can't create cache for web service debug log on win32 platforms.\n - 2012-05-08 Fixed bug#[7919](http://bugs.otrs.org/show_bug.cgi?id=7919) - Translation of ticket states in CSV Export of CustomerTicketSearch.\n - 2012-05-08 Fixed bug#[8461](http://bugs.otrs.org/show_bug.cgi?id=8461) - CustomerTicketSearch doesn't use ticket ACL rules.\n - 2012-05-04 Fixed bug#[7877](http://bugs.otrs.org/show_bug.cgi?id=7877) - SMIME emails don't get parsed properly (follow-up fix).\n - 2012-05-04 Fixed bug#[2452](http://bugs.otrs.org/show_bug.cgi?id=2452) - SMIME encoded E-Mails are not decrypted properly by OTRS (follow-up fix).\n - 2012-05-03 Fixed bug#[8446](http://bugs.otrs.org/show_bug.cgi?id=8446) - Dynamic Field type TextArea missing \\> 3800 characters validation.\n - 2012-05-02 Fixed bug#[8447](http://bugs.otrs.org/show_bug.cgi?id=8447) - Checkbox Dynamic Field is wrong calculated in statistics.\n - 2012-05-02 Fixed bug#[8328](http://bugs.otrs.org/show_bug.cgi?id=8328) - Statistic containing restriction on dynamic field ignores the\n    restriction.\n - 2012-05-01 Fixed bug#[8439](http://bugs.otrs.org/show_bug.cgi?id=8439) - AgentTicketForward: ticket not unlocked after\n    selecting a close state.\n - 2012-04-27 Fixed bug#[7168](http://bugs.otrs.org/show_bug.cgi?id=7168) - Ticket Overview Control Row can only be one line high.\n - 2012-04-26 Fixed bug#[8437](http://bugs.otrs.org/show_bug.cgi?id=8437) - Dynamic Field order duplicated when change the order of a field.\n - 2012-04-26 Fixed bug#[8409](http://bugs.otrs.org/show_bug.cgi?id=8409) - Deselecting 'select all' in queue view does not work.\n - 2012-04-26 Updated Hungarian translation, thanks to Csaba Nemeth!\n - 2012-04-26 Fixed bug#[8424](http://bugs.otrs.org/show_bug.cgi?id=8424) - Ticket articles of large tickets cannot be opened.\n - 2012-04-25 Added possibility to specify a cache type for selective cache cleaning\n    in bin/otrs.DeleteCache.\n - 2012-04-24 Added possibility to define ACL rules by user role.\n - 2012-04-24 Fixed bug#[8415](http://bugs.otrs.org/show_bug.cgi?id=8415) - Setting Ticket::Responsible ignored by AgentTicketActionCommon.\n - 2012-04-24 Fixed bug#[8288](http://bugs.otrs.org/show_bug.cgi?id=8288) - Autocomplete search results show up in Times font when using Internet Explorer.\n - 2012-04-24 Fixed bug#[8414](http://bugs.otrs.org/show_bug.cgi?id=8414) - ACL for AgentTicketCustomer in AgentTicketZoom doesn't affect\n    CustomerID link in ticket information.\n - 2012-04-24 Updated CKEditor to version 3.6.3.\n - 2012-04-23 Fixed bug#[8369](http://bugs.otrs.org/show_bug.cgi?id=8369) - Wrong handling of Ticket ACL in AJAX Updates.\n\n#3.1.4 2012-04-24\n - 2012-04-15 Fixed bug#[8284](http://bugs.otrs.org/show_bug.cgi?id=8284) - The text \"Cc: (xx@mail.com) added database email!\" is confusing.\n - 2012-04-16 Fixed bug#[8392](http://bugs.otrs.org/show_bug.cgi?id=8392) - DynamicFieldAdd returns wrong value.\n - 2012-04-16 Fixed bug#[8387](http://bugs.otrs.org/show_bug.cgi?id=8387) - UseSyncBackend configuration does not conform to OTRS style.\n - 2012-04-16 Fixed bug#[8367](http://bugs.otrs.org/show_bug.cgi?id=8367) - Customer entry not marked as mandatory.\n - 2012-04-13 Fixed uninitialized value problem in Kernel/Output/HTML/Layout.pm.\n - 2012-04-06 Fixed bug#[8348](http://bugs.otrs.org/show_bug.cgi?id=8348) - Wrong pop-up close behavior when no URL is given\n    and SessionUseCookie is set to No.\n - 2012-04-06 Fixed bug#[8346](http://bugs.otrs.org/show_bug.cgi?id=8346) - Incoming phone calls trigger NewTicket\n    notification, even for existing tickets.\n - 2012-04-06 Fixed bug#[8353](http://bugs.otrs.org/show_bug.cgi?id=8353) - Small typo in print CSS.\n - 2012-04-06 Fixed bug#[8370](http://bugs.otrs.org/show_bug.cgi?id=8370) - AgentTicketForward does not set pending date for pending states.\n - 2012-04-05 Fixed bug#[8368](http://bugs.otrs.org/show_bug.cgi?id=8368) - Personal queues update is not reflected in UI.\n - 2012-04-03 Fixed bug#[8363](http://bugs.otrs.org/show_bug.cgi?id=8363) - SOAP Transport can't send a value '0'.\n - 2012-04-02 Added new Slovenian translation, thanks to Gorazd Zagar and Andrej Cimerlajt!\n - 2012-04-02 Updated Italian translation, thanks to Massimo Bianchi!\n - 2012-03-30 Fixed bug#[8356](http://bugs.otrs.org/show_bug.cgi?id=8356) - ACLs for DynamicFields does not work on AgentTicketSearch.\n - 2012-03-30 Added new config feature to limit the number of 'From' entries in\n    AgentTicketPhone to 1 (optional). Use the setting\n    'Ticket::Frontend::AgentTicketPhone::AllowMultipleFrom' if you want this.\n - 2012-03-29 Fixed uninitialized value error in Kernel/System/Log.pm.\n - 2012-03-29 Added caching for DynamicFieldValue entries to improve system performance.\n - 2012-03-29 Fixed bug#[8336](http://bugs.otrs.org/show_bug.cgi?id=8336) - otrs.ExportStatsToOPM.pl  broken.\n - 2012-03-29 Fixed bug#[8349](http://bugs.otrs.org/show_bug.cgi?id=8349) - Caching breaks Admin frontend.\n - 2012-03-26 Improved performance on MySQL databases by removing useless LOWER statements.\n - 2012-03-26 Fixed bug#[7877](http://bugs.otrs.org/show_bug.cgi?id=7877) - SMIME emails don't get parsed properly.\n - 2012-03-23 Disabled error message in RemoveSessionID().\n - 2012-03-23 Repaired broken cache handling in DynamicFieldList().\n\n#3.1.3 2012-03-29\n - 2012-03-27 Fixed bug#[8343](http://bugs.otrs.org/show_bug.cgi?id=8343) - Configuration of additional modules can be lost during upgrade.\n - 2012-03-22 Renamed form id in AgentLinkObject.dtl to make sure it doesn't interfere with wrong CSS\n - 2012-03-22 Updated Portugese translation, thanks to Rui Francisco!\n - 2012-03-21 Fixed bug#[8333](http://bugs.otrs.org/show_bug.cgi?id=8333) - Type option '-' should not be available in\n    ActionTicketCommon screens.\n - 2012-03-20 Fixed bug#[8331](http://bugs.otrs.org/show_bug.cgi?id=8331) - Unable to delete ticket with \\> 1000 articles\n    on Oracle database.\n - 2012-03-20 Fixed bug#[8335](http://bugs.otrs.org/show_bug.cgi?id=8335) - Cache keys are not always properly constructed.\n - 2012-03-20 Dynamic fields and associated values can now be deleted in the admin area.\n - 2012-03-20 Do not show the empty item in dynamic field search fields.\n - 2012-03-19 Fixed an issue where DBUpdate-to-3.1.pl would die because\n    of certain free text or free time configuration settings.\n - 2012-03-19 Fixed bug#[8334](http://bugs.otrs.org/show_bug.cgi?id=8334) migration fails if FreeTime fields are not in use.\n - 2012-03-18 Added internal cache to Kernel/System/Lock.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/Salutation.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/Type.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/Valid.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/Queue.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/State.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/Priority.pm to improve performance.\n - 2012-03-18 Improved performance of Kernel/Modules/AdminPackageManager.\n - 2012-03-18 Improved performance of Kernel/System/Package.pm.\n - 2012-03-17 Improved performance by using SlaveDB in Dashboard if it is configured.\n - 2012-03-17 Improved performance by using Digest::SHA if it is available.\n - 2012-03-16 Added cache to Kernel/System/XML.pm to improve performance.\n - 2012-03-16 Added cache to Kernel/System/Package.pm to improve performance.\n - 2012-03-15 Fixed bug#[8320](http://bugs.otrs.org/show_bug.cgi?id=8320) - IMAP FLAGS (\\Seen \\Recent) are appended to article body\n    by upgrading bundled Net::IMAP::Simple to version 1.2030.\n - 2012-03-14 Added internal cache to user preferences backend to improve performance.\n - 2012-03-14 Added internal cache to customer user preferences backend to improve performance.\n - 2012-03-14 Added internal cache to queue preferences backend to improve performance.\n - 2012-03-14 Added internal cache to service preferences backend to improve performance.\n - 2012-03-14 Added internal cache to sla preferences backend to improve performance.\n - 2012-03-09 Fixed bug#[8286](http://bugs.otrs.org/show_bug.cgi?id=8286) - Adressbook forgets selected entries.\n - 2012-03-07 Fixed bug#[8297](http://bugs.otrs.org/show_bug.cgi?id=8297) - Selectbox for new owner causes ajax update\n    on every change made via keyboard.\n - 2012-03-07 Updated Catalan translation, thanks to Antionio Linde!\n - 2012-03-05 Fixed bug#[7545](http://bugs.otrs.org/show_bug.cgi?id=7545) - AgentTicketBounce lacks permission checks.\n\n#3.1.2 2012-03-06\n - 2012-03-01 Fixed bug#[8282](http://bugs.otrs.org/show_bug.cgi?id=8282) - Dropdown and Multiselect Dynamic Fields without Possible values\n    causes errors with LayoutObject BuildSelection function.\n - 2012-03-01 Fixed bug#[8277](http://bugs.otrs.org/show_bug.cgi?id=8277) - DynamicField Values not deleted when ticket is deleted.\n - 2012-02-28 Fixed bug#[8274](http://bugs.otrs.org/show_bug.cgi?id=8274) - Dynamic Fields ACLs does not work correctly at Ticket Split.\n - 2012-02-28 Improved #[7526](http://bugs.otrs.org/show_bug.cgi?id=7526) - Fixed handling of special characters (, ), &, - within statistics.\n - 2012-02-27 Fixed bug#[8255](http://bugs.otrs.org/show_bug.cgi?id=8255) - TicketSearch in DynamicFields doesn't support ExtendedSearchCondition.\n - 2012-02-25 Fixed bug#[8258](http://bugs.otrs.org/show_bug.cgi?id=8258) - DynamicField date value is reset to NULL.\n - 2012-02-23 Fixed bug#[8214](http://bugs.otrs.org/show_bug.cgi?id=8214) - OTRS Init script on Red Hat / SUSE fails to check scheduler.\n - 2012-02-23 Fixed bug#[8227](http://bugs.otrs.org/show_bug.cgi?id=8227) - LDAP user syncronisation doesn't work.\n - 2012-02-23 Fixed bug#[8235](http://bugs.otrs.org/show_bug.cgi?id=8235) - Searching on DynamicFields, results are lost on next page.\n - 2012-02-21 Fixed bug#[8252](http://bugs.otrs.org/show_bug.cgi?id=8252) - Small typo in German translation of AgentTicketZoom.\n - 2012-02-16 Fixed bug#[8226](http://bugs.otrs.org/show_bug.cgi?id=8226) - Problem with Customized DynamicFields in TicketOverviewSmall.\n - 2012-02-16 Fixed bug#[8233](http://bugs.otrs.org/show_bug.cgi?id=8233) - DB error migrating stats on Oracle.\n - 2012-02-14 Fixed bug#[8224](http://bugs.otrs.org/show_bug.cgi?id=8224) - Admin Responses screen does not allow to filter responses.\n - 2012-02-14 Fixed bug#[7652](http://bugs.otrs.org/show_bug.cgi?id=7652) - OpenSearch providers are served with wrong mime type.\n    Follow-up fix.\n - 2012-02-14 Fixed bug#[8140](http://bugs.otrs.org/show_bug.cgi?id=8140) - Shortcut for creating new e-mail ticket doesn't work.\n    The hotkey for \"new email ticket\" was changed from e to m to avoid a collision.\n - 2012-02-14 Fixed bug#[8144](http://bugs.otrs.org/show_bug.cgi?id=8144) - Typo and improved logging in GenericAgent.pm.\n - 2012-02-14 Fixed bug#[8183](http://bugs.otrs.org/show_bug.cgi?id=8183) - Canceling AgentTicketCompose on an unlocked ticket generates\n    ChallengeToken error.\n - 2012-02-13 Fixed bug#[8219](http://bugs.otrs.org/show_bug.cgi?id=8219) - TicketCreate and TicketUpdate GI ticket operations requires a valid\n    CustomerUser.\n - 2012-02-13 Fixed bug#[8201](http://bugs.otrs.org/show_bug.cgi?id=8201) - Popup in browser always open on leftmost display when using\n    dual monitor setup.\n - 2012-02-13 Fixed bug#[8202](http://bugs.otrs.org/show_bug.cgi?id=8202) - Kernel::System::JSON-\\>Decode() dies when providing malformed JSON.\n - 2012-02-13 Fixed bug#[8211](http://bugs.otrs.org/show_bug.cgi?id=8211) - Typos in Labels: DYNAMICFILED.\n - 2012-02-09 Fixed bug#[7109](http://bugs.otrs.org/show_bug.cgi?id=7109) - Statistics error when PDF support is not active.\n\n#3.1.1 2012-02-14\n - 2012-02-09 Fixed bug#[8184](http://bugs.otrs.org/show_bug.cgi?id=8184) - Uninstall and upgrade fails if file in package can't be removed.\n - 2012-02-09 Fixed bug#[8199](http://bugs.otrs.org/show_bug.cgi?id=8199) - Linked tickets open only in tabs.\n - 2012-02-03 Fixed bug#[8148](http://bugs.otrs.org/show_bug.cgi?id=8148) - Wrong presentation of queue structure in CustomerTicketMessage.\n - 2012-02-03 Fixed bug#[8137](http://bugs.otrs.org/show_bug.cgi?id=8137) - Issues with Owner list refresh when selecting a new Owner.\n - 2012-02-03 Fixed bug#[8180](http://bugs.otrs.org/show_bug.cgi?id=8180) - bin/otrs.LoaderCache.pl exit code is wrong.\n\n#3.1.0.rc1 2012-02-07\n - 2012-02-03 Fixed bug#[8171](http://bugs.otrs.org/show_bug.cgi?id=8171) - Table rows have different heights.\n - 2012-02-02 Fixed bug#[7937](http://bugs.otrs.org/show_bug.cgi?id=7937) - HTMLUtils.pm ignore to much of e-mail source code.\n - 2012-02-02 Fixed bug#[7972](http://bugs.otrs.org/show_bug.cgi?id=7972) - Some mails may not present HTML part when using rich viewing.\n - 2012-02-02 Fixed bug#[8179](http://bugs.otrs.org/show_bug.cgi?id=8179) - DynamicField backend DateTime renders timestamps with seconds.\n - 2012-01-31 Fixed bug#[8163](http://bugs.otrs.org/show_bug.cgi?id=8163) - Ticket / Article title can't be copied if value is too long.\n - 2012-01-31 Fixed bug#[8161](http://bugs.otrs.org/show_bug.cgi?id=8161) - History hover broken - missing title attribute.\n - 2012-01-30 Fixed bug#[8147](http://bugs.otrs.org/show_bug.cgi?id=8147) - Possible values for queues not being considered in ACLs.\n - 2012-01-30 Fixed bug#[8021](http://bugs.otrs.org/show_bug.cgi?id=8021) - Creating new Dynamic Field is not adding the field name\n    to the X-OTRS header lists configuration for the PostMaster filters.\n - 2012-01-27 Fixed bug#[8145](http://bugs.otrs.org/show_bug.cgi?id=8145) - TicketFreeTime entries in search profiles don't get updated.\n - 2012-01-27 Fixed bug#[2820](http://bugs.otrs.org/show_bug.cgi?id=2820) - Wide character in Syslog message causes Perl crash on utf8 systems.\n\n#3.1.0.beta5 2012-01-31\n - 2012-01-25 Fixed bug#[7890](http://bugs.otrs.org/show_bug.cgi?id=7890) - Changed wording of config setting for RFC 5321 compliance.\n - 2012-01-24 Fixed bug#[8068](http://bugs.otrs.org/show_bug.cgi?id=8068) - Corrected field & DynamicField preselection on TicketSplit.\n - 2012-01-24 Fixed bug#[8115](http://bugs.otrs.org/show_bug.cgi?id=8115) - Richtext editor not show in customer interface after switching\n    to Catalan frontend language.\n - 2012-01-23 Fixed bug#[7994](http://bugs.otrs.org/show_bug.cgi?id=7994) - ACL: action-restrictions not possible for all ticket actions.\n - 2012-01-23 Fixed bug#[7984](http://bugs.otrs.org/show_bug.cgi?id=7984) - Unable to select the output format of statistics.\n - 2012-01-23 Fixed bug#[8136](http://bugs.otrs.org/show_bug.cgi?id=8136) - Browser Time Detection and time zone UTC generates warning in\n    web server error log.\n - 2012-01-23 Fixed bug#[8132](http://bugs.otrs.org/show_bug.cgi?id=8132) - Browser version message misleading when 'compatibility mode'\n    is enabled in Internet Explorer.\n - 2012-01-23 Fixed bug#[7916](http://bugs.otrs.org/show_bug.cgi?id=7916) - Address Book doesn't work correctly.\n - 2012-01-23 Fixed bug#[8019](http://bugs.otrs.org/show_bug.cgi?id=8019) - Ticket customer info widget has unneeded scroll bars.\n - 2012-01-23 Fixed bug#[8066](http://bugs.otrs.org/show_bug.cgi?id=8066) - TicketAcl with empy possible List for DynamicFields crashes.\n - 2012-01-20 Fixed bug#[7495](http://bugs.otrs.org/show_bug.cgi?id=7495) - Cursor stands still in editor in IE 9.\n - 2012-01-20 Fixed bug#[8129](http://bugs.otrs.org/show_bug.cgi?id=8129) - Ticket Unwatch may lead to errorscreen.\n - 2012-01-20 Updated Finnish translation file, thanks to Mikko Hynninen!\n - 2012-01-17 Fixed bug#[8117](http://bugs.otrs.org/show_bug.cgi?id=8117) - Can't create ticket for newly created customer user.\n - 2012-01-16 Fixed bug#[8094](http://bugs.otrs.org/show_bug.cgi?id=8094) - Typo In Ticket.pm.\n - 2012-01-16 Creation of QueueObject was not possible because of missing EncodeObject in CustomerUserGenericTicket.pm.\n\n#3.1.0.beta4 2012-01-17\n - 2012-01-12 Fixed bug#[8107](http://bugs.otrs.org/show_bug.cgi?id=8107) - Ticket state is not set as default on ticket edit screens.\n - 2012-01-12 Fixed bug#[8105](http://bugs.otrs.org/show_bug.cgi?id=8105) - Changing Priority does not update all relevant SysConfig fields.\n - 2012-01-11 Dramatically improved HTML rendering performance for pages with a large\n    amount of data, thanks to Stefan Bedorf!\n - 2012-01-11 Fixed bug#[8103](http://bugs.otrs.org/show_bug.cgi?id=8103) - Edit screens does not get Dynamic Field values from selected ticket.\n - 2012-01-11 Fixed bug#[8070](http://bugs.otrs.org/show_bug.cgi?id=8070) - Configured year ranges do not apply for date DynamicFields.\n - 2012-01-11 Updated CPAN module YAML to version 0.78.\n - 2012-01-11 Updated CPAN module Net::IMAP::Simple to version 1.20271.\n - 2012-01-11 Updated CPAN module LWP::UserAgent to version 6.03.\n - 2012-01-11 Updated CPAN module Digest::SHA::PurePerl to version 5.70.\n - 2012-01-11 Updated CPAN module CGI to version 3.59.\n - 2012-01-10 Fixed bug#[8095](http://bugs.otrs.org/show_bug.cgi?id=8095) - Dashboard ticket list does not support DynamicFields.\n - 2012-01-10 Ticket search and ticket link should require at least one search parameter.\n - 2012-01-09 Improved consistency of ChallengeToken checks in the agent and admin interface.\n - 2012-01-03 Updated Serbian translation, thanks to Milorad Jovanovic!\n - 2011-12-23 Fixed bug#[8052](http://bugs.otrs.org/show_bug.cgi?id=8052) - ACLs code is called even when there is no defined ACL or ACL module.\n - 2011-12-23 Fixed bug#[8037](http://bugs.otrs.org/show_bug.cgi?id=8037) - Registration screen in web installer produces HTTP 500 error.\n - 2011-12-22 Fixed bug#[7947](http://bugs.otrs.org/show_bug.cgi?id=7947) - Service list can be made useless with simple ACL and/or disabling\n    services.\n - 2011-12-22 Fixed bug#[8049](http://bugs.otrs.org/show_bug.cgi?id=8049) - TicketFreeText X-headers should not exist on new installations.\n - 2011-12-22 Fixed bug#[8043](http://bugs.otrs.org/show_bug.cgi?id=8043) - TicketSplit does not use default ACLs from parent.\n - 2011-12-21 Fixed bug#[8044](http://bugs.otrs.org/show_bug.cgi?id=8044) - TicketACL does not get dynamic fields as ticket attributes always.\n - 2011-12-21 Fixed bug#[8039](http://bugs.otrs.org/show_bug.cgi?id=8039) - SysConfig writes files in a non-atomic way.\n - 2011-12-20 Fixed bug#[4239](http://bugs.otrs.org/show_bug.cgi?id=4239) - Include ticket number in toolbar fulltext search.\n - 2011-12-20 Fixed bug#[7955](http://bugs.otrs.org/show_bug.cgi?id=7955) - Customer identity is not displayed on Customer Interface.\n - 2011-12-20 Fixed bug#[8035](http://bugs.otrs.org/show_bug.cgi?id=8035) - SOAP interface does not allow to create/update\n    CustomerCompany records.\n - 2011-12-20 Fixed bug#[8027](http://bugs.otrs.org/show_bug.cgi?id=8027) - Duplicated slash in cache subdirectory names.\n - 2011-12-20 Make sure the customer is being returned to ticket search result after using\n    'back' link from a ticket he has reached from the search result page.\n - 2011-12-19 Fixed bug#[7666](http://bugs.otrs.org/show_bug.cgi?id=7666) - Queue Preferences potentially slow.\n - 2011-12-19 Updated Polish translation file, thanks to Pawel!\n - 2011-12-16 Fixed Lithuanian language file encoding.\n - 2011-12-16 Added OTRS 2.4-style article colors to the article list in AgentTicketZoom.\n    This is disabled by default, enable 'Ticket::UseArticleColors' in SysConfig to use it.\n\n#3.1.0.beta3 2011-12-20\n - 2011-12-15 Fixed bug#[8012](http://bugs.otrs.org/show_bug.cgi?id=8012) - Confusing dashboard filter names.\n - 2011-12-14 Fixed bug#[8000](http://bugs.otrs.org/show_bug.cgi?id=8000) - Queues are translated if are displayed in list-style.\n - 2011-12-13 Added feature bug#[7893](http://bugs.otrs.org/show_bug.cgi?id=7893) - Customer Info in TicketZoom can now also list open tickets\n    based on CustomerUserLogin rather than CustomerID, and can list closed tickets as well.\n - 2011-12-13 Fixed bug#[8020](http://bugs.otrs.org/show_bug.cgi?id=8020) - Queue list in new move window has the current queue enabled.\n - 2011-12-13 Fixed bug#[8017](http://bugs.otrs.org/show_bug.cgi?id=8017) - After first AJAXUpdate call, MultiSelect DynamicFields gets empty.\n - 2011-12-13 Fixed bug#[7999](http://bugs.otrs.org/show_bug.cgi?id=7999) - Uncheck all services for a customer doesn't work.\n - 2011-12-13 Fixed bug#[7005](http://bugs.otrs.org/show_bug.cgi?id=7005) - JavaScript Init function is executed more than once in TicketZoom.\n - 2011-12-13 Fixed bug#[7020](http://bugs.otrs.org/show_bug.cgi?id=7020) - Error in MySQL Syntax when CustomerID contains special characters.\n - 2011-12-12 Improved #7526 - Automatic TicketSearch for special characters (, ), &, - fails.\n - 2011-12-12 Fixed bug#[8009](http://bugs.otrs.org/show_bug.cgi?id=8009) - Statistic overview does not show the statistic object name\n    for static statistics.\n - 2011-12-12 Changed the default behaviour of TicketGet() and ArticleGet() to NOT return the\n    dynamic field values for performance reasons. If you need them, pass DynamicFields =\\> 1.\n - 2011-12-09 Fixed bug#[7014](http://bugs.otrs.org/show_bug.cgi?id=7014) - Inline article gets bigger than Ticket::Frontend::HTMLArticleHeightMax.\n - 2011-12-09 Removed compatibility modules AgentTicketMailbox and CustomerZoom\n    (these only performed redirects to newer screens).\n - 2011-12-09 Fixed bug#[7997](http://bugs.otrs.org/show_bug.cgi?id=7997) - Fetching mail via AdminMailAccount does not work.\n - 2011-12-09 Fixed bug#[7991](http://bugs.otrs.org/show_bug.cgi?id=7991) - Locale::Codes is not bundled in 3.1.0beta2 tarball, breaking Customer Cumpany\n    screen.\n - 2011-12-09 Fixed bug#[7995](http://bugs.otrs.org/show_bug.cgi?id=7995) - Previous owner is missing in AgentTicketMove.\n - 2011-12-09 Updated Japanese Translation, thanks to Kaoru Hayama!\n - 2011-12-08 A bug related to oracle made database updates necessary ON ALL PLATFORMS when upgrading from beta1 or beta2.\n    Please see the UPGRADING file for details.\n - 2011-12-07 Fixed bug#[7959](http://bugs.otrs.org/show_bug.cgi?id=7959) - Problem when entering a customer in the autocomplete field in AgentTicketPhone.\n - 2011-12-07 Fixed bug#[7976](http://bugs.otrs.org/show_bug.cgi?id=7976) - Add Event Trigger Asynchronous not correctly displayed in Event Triggers Table.\n - 2011-12-06 Fixed bug#[7981](http://bugs.otrs.org/show_bug.cgi?id=7981) - Stats sum on X axis does not display total if the total is zero.\n - 2011-12-06 Fixed bug#[4740](http://bugs.otrs.org/show_bug.cgi?id=4740) - HTTP header in Redirect is not syntactically correct.\n - 2011-12-06 Fixed bug#[5253](http://bugs.otrs.org/show_bug.cgi?id=5253) - User preferences are updated when displaying an overview.\n - 2011-12-05 Fixed bug#[5356](http://bugs.otrs.org/show_bug.cgi?id=5356) - TicketFreeText (now Dynamic Fields) containing domain name - causes\n    Agent interface issues\n - 2011-12-05 Fixed bug#[3334](http://bugs.otrs.org/show_bug.cgi?id=3334) - FreeFields (now Dynamic Fields) with content \"0\" aren't displayed\n    within TicketZoom view\n - 2011-12-05 Fixed bug#[4032](http://bugs.otrs.org/show_bug.cgi?id=4032) - TicketFreeText (now Dynamic Fields)- DefaultSelection does not work\n    for AgentTicketForward\n - 2011-12-05 Fixed bug#[7923](http://bugs.otrs.org/show_bug.cgi?id=7923) - Free field value not correctly migrated error on DBUpdate-to-3.1.pl.\n - 2011-12-05 Fixed bug#[7975](http://bugs.otrs.org/show_bug.cgi?id=7975) - Wrong Type parameter is sent on Dynamic Fields ACLs.\n - 2011-12-05 Fixed bug#[7968](http://bugs.otrs.org/show_bug.cgi?id=7968) - DynamicField empty value \"-\" disappears on AJAX reload.\n - 2011-12-05 Fixed bug#[3544](http://bugs.otrs.org/show_bug.cgi?id=3544) - Don't show link to AgentTicketCustomer if agent does not have\n    permissions.\n - 2011-12-05 Fixed bug#[7900](http://bugs.otrs.org/show_bug.cgi?id=7900) - DefaultQueue does not preselect queue in CustomerTicketMessage.\n - 2011-12-05 Fixed bug#[7184](http://bugs.otrs.org/show_bug.cgi?id=7184) - Service catalog is not useable with sophisticated amount of entries.\n - 2011-12-05 Fixed bug#[7864](http://bugs.otrs.org/show_bug.cgi?id=7864) - Inconsequent wrapping of text causes ugly notifications.\n - 2011-12-05 Fixed bug#[7967](http://bugs.otrs.org/show_bug.cgi?id=7967) - Misleading comment on DF Dropdown setup.\n - 2011-12-05 Fixed bug#[7966](http://bugs.otrs.org/show_bug.cgi?id=7966) - Little german translation enhancement.\n - 2011-12-02 Fixed bug#[5437](http://bugs.otrs.org/show_bug.cgi?id=5437) - Reload of TicketFreeTexFields (now DynamicFields) (for ACL).\n - 2011-12-02 Fixed bug#[7056](http://bugs.otrs.org/show_bug.cgi?id=7056) - AgentTicketMove.pm does not handle TicketFreeText\n    (now DynamicFields) correctly.\n - 2011-12-02 Fixed bug#[7442](http://bugs.otrs.org/show_bug.cgi?id=7442) - Dashboard permission check for multiple Groups only\n    tests first group.\n - 2011-12-02 Fixed bug#[4548](http://bugs.otrs.org/show_bug.cgi?id=4548) - 'Ajax overwrites OnChange' in BuildSelection().\n\n#3.1.0.beta2 2011-12-06\n - 2011-11-30 Fixed bug#[6715](http://bugs.otrs.org/show_bug.cgi?id=6715) - Setting CustomerID with otrs.AddCustomerUser.pl.\n - 2011-11-29 Fixed bug#[7719](http://bugs.otrs.org/show_bug.cgi?id=7719) - Agent login page does not offer user to save password\n    with Firefox browser.\n - 2011-11-29 Fixed bug#[4957](http://bugs.otrs.org/show_bug.cgi?id=4957) - Password Change dialog misses \"Current Password\" option.\n - 2011-11-29 Show Article Creator in article view, similar to Idea#378.\n - 2011-11-28 Updated CPAN module Apache::DBI to version 1.11.\n - 2011-11-28 Updated CPAN module Mozilla::CA to version 20111025.\n - 2011-11-26 Added ReferenceData object that provides ISO-3166 country codes.\n    Could be extend to contain other data later.\n - 2011-11-23 Fixed bug#[7926](http://bugs.otrs.org/show_bug.cgi?id=7926) - AJAX refresh does not work on some fields.\n - 2011-11-24 Fixed bug#[7931](http://bugs.otrs.org/show_bug.cgi?id=7931) - Operations and Invokers can't be deleted from web service if the\n    Controller is not present or not  registered.\n - 2011-11-23 Fixed bug#[7921](http://bugs.otrs.org/show_bug.cgi?id=7921) - Running DBUpdate-to-3.1-post.mssql.sql on Microsoft SQL Server\n    generates errors.\n - 2011-11-23 Added Idea#378 - Show ticket creator in zoom view.\n - 2011-11-23 Fixed bug#[6139](http://bugs.otrs.org/show_bug.cgi?id=6139) - Hide current queue in queue move dialog in AgentTicketZoom.\n - 2011-11-23 Fixed bug#[6365](http://bugs.otrs.org/show_bug.cgi?id=6365) - AdminMailAccount Queue field should be hidden or disabled if Dispatching\n    is set to 'By Mail'.\n - 2011-11-23 Fixed bug#[7930](http://bugs.otrs.org/show_bug.cgi?id=7930) - Depreciation warnings in error log when running OTRS on\n    Perl 5.14.\n - 2011-11-21 Fixed bug#[7914](http://bugs.otrs.org/show_bug.cgi?id=7914) - DynamicField value Storage on AgentTicketActionCommon.pm and\n    AgentTicketPhoneCommon.pm.\n - 2011-11-21 Fixed bug#[7923](http://bugs.otrs.org/show_bug.cgi?id=7923) - Free field value not correctly migrated error on DBUpdate-to-3.1.pl.\n - 2011-11-21 Fixed bug#[3804](http://bugs.otrs.org/show_bug.cgi?id=3804) - Stats in Bar or Pie chart formats don't display non-\n    ascii characters correctly.\n - 2011-11-21 Fixed bug#[7920](http://bugs.otrs.org/show_bug.cgi?id=7920) - New ACL mechanism does not update Ticket{StateType} when a State\n    or StateID is given.\n - 2011-11-21 Use the secure attribute to restrict cookies to HTTPS if it is used.\n - 2011-11-21 Fixed bug#[7909](http://bugs.otrs.org/show_bug.cgi?id=7909) - Errors should be logged in web server error log only.\n - 2011-11-21 Added feature to drag and drop/copy and paste images to richtext editor in firefox (base64 encoded).\n - 2011-11-19 Fixed bug#[7917](http://bugs.otrs.org/show_bug.cgi?id=7917) - New ACL mechanism does not generate DynamicField hash check when\n    only TicketID is given.\n\n#3.1.0.beta1 2011-11-22\n - 2011-11-15 Added IE7 to browser blacklist.\n - 2011-11-15 Updated German translation.\n - 2011-11-14 Fixed bug#[7526](http://bugs.otrs.org/show_bug.cgi?id=7526) - OTRS Ticket Search not working with ( or ).\n - 2011-11-14 Added Idea#724 - Connect to IMAP servers using TLS encryption.\n - 2011-11-14 Fixed bug#[7879](http://bugs.otrs.org/show_bug.cgi?id=7879) - Add the option to get mail from a specified IMAP folder.\n - 2011-11-14 Added new 'registration' mask to install process.\n - 2011-11-10 Fixed bug#[5863](http://bugs.otrs.org/show_bug.cgi?id=5863) - Added autocomplete for Cc and Bcc in AgentTicketCompose\n - 2011-11-10 Fixed AgentBook (addressbook) to cooperate with the new autocomplete handling\n    in the ticket screens.\n - 2011-11-08 Fixed correct validation handling of RTE.\n - 2011-11-07 Fixed spelling mistake in README.\n - 2011-11-04 Removed 'address' and 'div' style formats from CKEditor.\n - 2011-11-04 Added support for CKEditor on iPhone and iPad with iOS5.\n - 2011-11-04 Added config option Frontend::AgentLinkObject::WildcardSearch to enable\n    wildcard search if the AgentLinkObject mask is started.\n - 2011-11-01 Added functionality to allow to use auto-complete feature for more\n    than one entry in To, From, Cc and Bcc fields into TicketPhone and EmailTicket screens.\n - 2011-10-31 Fixed bug#[7454](http://bugs.otrs.org/show_bug.cgi?id=7454) - MSSQL should use NVARCHAR to store text strings rather than VARCHAR.\n - 2011-10-31 Fixed bug#[7858](http://bugs.otrs.org/show_bug.cgi?id=7858) - Make \"Apache::DBI\" option not being overwritten with each update.\n    Apache::DBI is now loaded in web server configuration file.\n - 2011-10-28 Updated CKEditor to 3.6.2.\n - 2011-10-28 Updated json2.js to current version 2011-10-19.\n - 2011-10-28 Updated stacktrace.js to 0.3.\n - 2011-10-28 Updated jQuery Validate plugin to 1.9.\n - 2011-10-28 Updated jQuery UI to 1.8.16.\n - 2011-10-28 Updated jQuery to 1.6.4.\n - 2011-10-24 Fixed bug#[7824](http://bugs.otrs.org/show_bug.cgi?id=7824) - Tickets locked through 'tmp\\_lock' lock type aren't shown as locked\n    tickets\n - 2011-10-20 Fixed bug#[7168](http://bugs.otrs.org/show_bug.cgi?id=7168) - Ticket Overview Control Row can only be one line high.\n - 2011-09-28 Fixed Ticket#2011080542009673 - Improved location check for _FileInstall().\n - 2011-09-26 Added missing cpan module Encode::Locale which is now required\n    for HTTP::Response and LWP::UserAgent.\n - 2011-09-16 Added new legacy driver for PostgreSQL 8.1 or earlier. This\n    needs to be activated for such older installations in Kernel/Config.pm\n    as follows:\n```perl\n    $Self->{DatabasePostgresqlBefore82} = 1;\n```\n - 2011-09-09 Updated CPAN module Mozilla::CA to version 20110904.\n - 2011-09-06 Converted all translation files to utf-8.\n - 2011-09-01 Changed Postgresql driver to also use standard\\_conforming\\_strings\n    in regular database connections.\n - 2011-09-01 Fixed bug#[7684](http://bugs.otrs.org/show_bug.cgi?id=7684) - PostMaster Filter Module fails to create ticket\n    if state set in filter is invalid.\n - 2011-08-30 Updated CPAN module SOAP::Lite to version 0.714.\n - 2011-08-30 Updated CPAN module libwww-perl to version 6.02.\n - 2011-08-30 Updated CPAN module YAML to version 0.73.\n - 2011-08-30 Updated CPAN module URI to version 1.59.\n - 2011-08-30 Updated CPAN module Text::Diff to version 1.41.\n - 2011-08-30 Updated CPAN module Proc::Daemon to version 0.14.\n - 2011-08-30 Updated CPAN module Net::SMTP::TLS::ButMaintained to version 0.18.\n - 2011-08-30 Updated CPAN module Net::IMAP::Simple to version 1.2024.\n - 2011-08-30 Updated CPAN module Mozilla::CA to version 20110409.\n - 2011-08-30 Updated CPAN module MailTools to version 2.08.\n - 2011-08-30 Updated CPAN module JSON to version 2.53.\n - 2011-08-30 Updated CPAN module JSON::PP to version 2.27200.\n - 2011-08-30 Updated CPAN module HTTP::Message to version 6.02.\n - 2011-08-30 Updated CPAN module Digest::SHA::PurePerl to version 5.62.\n - 2011-08-30 Updated CPAN module CGI to version 3.55.\n - 2011-08-24 Fixed bug#[6718](http://bugs.otrs.org/show_bug.cgi?id=6718) - error when running otrs-initial-insert.postgresql.sql by making\n    otrs.xml2sql.pl write out utf8 files and by adding 'SET standard\\_conforming\\_strings TO ON'.\n - 2011-08-22 Fixed bug#[7635](http://bugs.otrs.org/show_bug.cgi?id=7635) - Remove support for Suse 9.\n - 2011-08-22 Fixed bug#[6444](http://bugs.otrs.org/show_bug.cgi?id=6444) - OTRS rc scripts checks and stops local mysql database\n    and complains about having no database if you use a remote one.\n - 2011-08-22 Fixed bug#[7638](http://bugs.otrs.org/show_bug.cgi?id=7638) - OTRS rc scripts installation/check/stop of Scheduler service.\n - 2011-08-22 Fixed bug#[2365](http://bugs.otrs.org/show_bug.cgi?id=2365) - Removed dependency on MySQL in RPMs.\n - 2011-08-12 Removed support for non-utf-8 internal encodings.\n - 2011-07-29 Fixed bug#[7538](http://bugs.otrs.org/show_bug.cgi?id=7538) - CustomerSearchAutoComplete###QueryDelay has incorrect pattern match.\n - 2011-07-20 Added feature bug#[976](http://bugs.otrs.org/show_bug.cgi?id=976) - Send emails via bulk action.\n - 2011-07-18 Added feature bug#[7479](http://bugs.otrs.org/show_bug.cgi?id=7479) - Add \"TicketChangeTime\" as filter parameter\n    in Generic agent.\n - 2011-07-01 Now stores binary data in VARBINARY rather than deprecated type\n    TEXT on MS SQL Server.\n - 2011-07-01 Fixed bug#[7454](http://bugs.otrs.org/show_bug.cgi?id=7454) - MS SQL should use NVARCHAR to store text strings\n    rather than VARCHAR.\n - 2011-06-21 TicketGet() now also returns ChangeBy and CreateBy.\n - 2011-06-06 Fixed bug#[4946](http://bugs.otrs.org/show_bug.cgi?id=4946) - Notification mails lack \"Precedence: bulk\" or similar headers.\n - 2011-05-20 Added feature bug#[7340](http://bugs.otrs.org/show_bug.cgi?id=7340) - It's not possible to sort tickets on last changed date.\n - 2011-05-18 Added feature bug#[7207](http://bugs.otrs.org/show_bug.cgi?id=7207) - Display warning if user is logged in and out-of-office\n    is activated.\n - 2011-05-16 Added feature bug#[7316](http://bugs.otrs.org/show_bug.cgi?id=7316) - Possibility to exclude articles of certain sender types from\n    being displayed in OverviewPreview mode and to display a certain article type as expanded when\n    entering the view.\n - 2011-05-03 Added feature Ideascale#488 - Use ticket number in the URL to access to\n    its zoom view.\n - 2011-05-02 Added feature bug#[6108](http://bugs.otrs.org/show_bug.cgi?id=6108) / Ideascale#87 - add the possibility to\n    register inbound phone conversations.\n - 2011-04-29 Added enhancement bug#[7267](http://bugs.otrs.org/show_bug.cgi?id=7267) 0 Performance issue in dtl with large\n    pages. Thanks to Stelios Gikas \\<stelios.gikas@noris.net\\>!\n - 2011-04-29 Added enhancement bug#[7266](http://bugs.otrs.org/show_bug.cgi?id=7266) - Performance issue in ticket zoom -\n    article seen with many article. Thanks to Stelios Gikas \\<stelios.gikas@noris.net\\>!\n - 2011-04-27 Added feature bug#[5484](http://bugs.otrs.org/show_bug.cgi?id=5484) / IdeaScale#497 - Bulk action to set/change Ticket Type.\n - 2011-04-27 Added feature bug#[7258](http://bugs.otrs.org/show_bug.cgi?id=7258) - Stats output always has a timestamp and report name in\n    the filename.\n - 2011-04-27 Fixed bug#[7257](http://bugs.otrs.org/show_bug.cgi?id=7257) - Stats CSV outputs report name and timestamp as first line.\n - 2011-04-27 Added feature bug#[5607](http://bugs.otrs.org/show_bug.cgi?id=5607) - otrs.GenerateStats.pl report only can be sent to one\n    recipient at a time.\n - 2011-04-27 Fixed bug#[7211](http://bugs.otrs.org/show_bug.cgi?id=7211) - 'Valid' used in labels is now replaced with 'Validity'.\n - 2011-04-25 Fixed bug#[7236](http://bugs.otrs.org/show_bug.cgi?id=7236) - Ticket::TicketTitleUpdate() does not update change\\_time of ticket.\n - 2011-04-20 Fixed ticket#2011041942007629 - Uninitialized value problem in AgentPreferences.pm.\n - 2011-04-20 Fixed bug#[7243](http://bugs.otrs.org/show_bug.cgi?id=7243) - Problem if current\\_timestamp of database system is\n    different to system time (e. g. time()).\n - 2011-04-19 Fixed bug#[3549](http://bugs.otrs.org/show_bug.cgi?id=3549) - ACLs don't work against queues with nonlatin characters.\n - 2011-04-18 Fixed bug#[7216](http://bugs.otrs.org/show_bug.cgi?id=7216) - Company names containing \"&\" pulled from Active Directory cause\n    errors in error.log when using Company Tickets.\n - 2011-04-06 Added generic notification module to show messages in the agent interface.\n - 2011-04-05 Fixed bug#[7182](http://bugs.otrs.org/show_bug.cgi?id=7182) - AgentDashboard preferences are always translated.\n - 2011-03-29 Fixed bug#[6994](http://bugs.otrs.org/show_bug.cgi?id=6994) - AgentSelfNotifyOnAction is ignored for event based\n    notifications.\n - 2011-03-24 Fixed bug#[6981](http://bugs.otrs.org/show_bug.cgi?id=6981) - ReadOnly CustomerUser sources should not be selectable for\n    creating new customers.\n - 2011-03-15 Fixed bug#[7057](http://bugs.otrs.org/show_bug.cgi?id=7057) - Kernel::System::StandardResponse-\\>StandardResponseLookup() is broken.\n - 2011-03-15 Fixed bug#[7053](http://bugs.otrs.org/show_bug.cgi?id=7053) - Installer page titles are not localized.\n - 2011-03-07 Added feature bug#[6992](http://bugs.otrs.org/show_bug.cgi?id=6992) - Ticket Responsible can't be set by GenericAgent.\n - 2011-03-07 Added feature bug#[6140](http://bugs.otrs.org/show_bug.cgi?id=6140) - Make the refresh interval of the dashboard\n    configurable.\n - 2011-03-01 Added feature bug#[6977](http://bugs.otrs.org/show_bug.cgi?id=6977) - Next Screen after AgentTicketMove should\n    be configurable.\n - 2011-02-28 Added feature bug#[6894](http://bugs.otrs.org/show_bug.cgi?id=6894). Events for escalations.\n - 2011-02-24 Fixed bug#[6867](http://bugs.otrs.org/show_bug.cgi?id=6867). CustomerCompany external source requires\n    change\\_time and create\\_time columns.\n - 2011-02-07 Fixed bug#[2452](http://bugs.otrs.org/show_bug.cgi?id=2452) - SMIME encoded E-Mails are not decrypted properly by OTRS.\n - 2011-02-02 Fixed bug#[3125](http://bugs.otrs.org/show_bug.cgi?id=3125) - No translation for ticket-state in notifications.\n - 2011-02-02 Fixed bug#[6618](http://bugs.otrs.org/show_bug.cgi?id=6618) - TicketIndex can not be created if queue name\n     of \\> 70 characters exists.\n\n#3.0.17 2012-10-16\n - 2012-10-05 Fixed bug#[6820](http://bugs.otrs.org/show_bug.cgi?id=6820) - OTRS crash with \"division by zero\" if escalation set incorrectly.\n - 2012-09-25 Fixed bug#[8606](http://bugs.otrs.org/show_bug.cgi?id=8606) - Escalation notifications should not be sent to agents who are set out-of-office.\n - 2012-09-13 Improved HTML security filter to better find javascript source URLs.\n\n#3.0.16 2012-08-30\n - 2012-08-28 Improved HTML security filter to detect tag nesting.\n - 2012-08-24 Fixed bug#[8611](http://bugs.otrs.org/show_bug.cgi?id=8611) - Ticket count is wrong in QueueView.\n\n#3.0.15 2012-09-04\n - 2012-08-17 HTML mails will now be displayed in an HTML5 sandbox iframe.\n    This means that modern browsers will not execute plugins or JavaScript on the content\n    any more. Currently, this is supported by Chrome and Safari, but IE10 and FF16 are also\n - 2012-08-17 HTML mails will now be displayed in the restricted zone in IE.\n    This means that more restrictive security settings will apply, such as blocking of\n    JavaScript content by default.\n - 2012-08-06 Fixed bug#[8672](http://bugs.otrs.org/show_bug.cgi?id=8672) - Search Profile can't have an ampersand in the name via\n    Toolbar module.\n\n#3.0.14 2012-08-07\n - 2012-07-31 Improved robustness of HTML security filter: Detect masked UTF-7 \\< and \\> signs.\n - 2012-07-16 Fixed bug#[8616](http://bugs.otrs.org/show_bug.cgi?id=8616) - Spell Checker does not work using IE9.\n - 2012-07-16 Fixed JavaScript error when no suggestions can be made by the spell checker.\n - 2012-06-29 Fixed bug#[8618](http://bugs.otrs.org/show_bug.cgi?id=8618) - Inform and Involved Agents select boxes can not be resizable.\n - 2012-06-15 Fixed bug#[7879](http://bugs.otrs.org/show_bug.cgi?id=7879) - Broken Content-Type in forwarded attachments.\n - 2012-06-14 Fixed bug#[8574](http://bugs.otrs.org/show_bug.cgi?id=8574) - Perl special variable $/ is changed and never restored.\n - 2012-06-14 Fixed bug#[8337](http://bugs.otrs.org/show_bug.cgi?id=8337) - Parentheses in user last\\_name / first\\_name are not sanitized (follow-up fix).\n - 2012-06-12 Fixed bug#[7872](http://bugs.otrs.org/show_bug.cgi?id=7872) - \"Created\" date in Large view is actually Last Updated date.\n - 2012-06-04 Improved performance of TemplateGenerator.pm, thanks to Stelios Gikas!\n\n#3.0.13 2012-06-05\n - 2012-05-30 Fixed bug#[7532](http://bugs.otrs.org/show_bug.cgi?id=7532) - 'Field is required' message should be removed in RTE if content is added.\n - 2012-05-30 Fixed bug#[8514](http://bugs.otrs.org/show_bug.cgi?id=8514) - Long words in description break rendering of SysConfig items.\n - 2012-05-25 Fixed bug#[8189](http://bugs.otrs.org/show_bug.cgi?id=8189) - AgentTicketCompose: Pressing \"Enter\" will delete Attachment.\n - 2012-05-24 Fixed bug#[7512](http://bugs.otrs.org/show_bug.cgi?id=7512) - AJAX-reload of SMIME-fields did not work properly.\n - 2012-05-24 Fixed bug#[8518](http://bugs.otrs.org/show_bug.cgi?id=8518) - Crypt on multiple recipients error replaces Crypt selection.\n - 2012-05-22 Fixed bug#[8164](http://bugs.otrs.org/show_bug.cgi?id=8164) - Internal articles are visible within customer ticket overview.\n - 2012-05-16 Fixed bug#[8337](http://bugs.otrs.org/show_bug.cgi?id=8337) - Parentheses in user last\\_name / first\\_name are not sanitized.\n - 2012-05-04 Fixed bug#[7877](http://bugs.otrs.org/show_bug.cgi?id=7877) - SMIME emails don't get parsed properly (follow-up fix).\n - 2012-04-26 Fixed bug#[8424](http://bugs.otrs.org/show_bug.cgi?id=8424) - Ticket articles of large tickets cannot be opened.\n - 2012-04-24 Fixed bug#[8288](http://bugs.otrs.org/show_bug.cgi?id=8288) - Autocomplete search results show up in Times font when using Internet Explorer.\n - 2012-03-26 Fixed bug#[7877](http://bugs.otrs.org/show_bug.cgi?id=7877) - SMIME emails don't get parsed properly.\n - 2012-03-20 Fixed bug#[8331](http://bugs.otrs.org/show_bug.cgi?id=8331) - Unable to delete ticket with \\> 1000 articles\n    on Oracle database.\n\n#3.0.12 2012-03-13\n - 2012-03-05 Fixed bug#[7545](http://bugs.otrs.org/show_bug.cgi?id=7545) - AgentTicketBounce lacks permission checks.\n - 2012-02-28 Improved #7526 - Fixed handling of special characters (, ), &, - within statistics.\n - 2012-02-23 Fixed bug#[8227](http://bugs.otrs.org/show_bug.cgi?id=8227) - LDAP user syncronisation doesn't work.\n - 2012-02-15 Fixed bug#[8144](http://bugs.otrs.org/show_bug.cgi?id=8144) - Typo and improved logging in GenericAgent.pm.\n - 2012-02-14 Fixed bug#[7652](http://bugs.otrs.org/show_bug.cgi?id=7652) - OpenSearch providers are served with wrong mime type.\n    Follow-up fix.\n - 2012-02-09 Fixed bug#[7109](http://bugs.otrs.org/show_bug.cgi?id=7109) - no one statistic is working with your selected.\n - 2012-02-09 Fixed bug#[8199](http://bugs.otrs.org/show_bug.cgi?id=8199) - Linked tickets open only in tabs.\n - 2012-02-03 Fixed bug#[8180](http://bugs.otrs.org/show_bug.cgi?id=8180) - bin/otrs.LoaderCache.pl exit code is wrong.\n - 2012-02-02 Fixed bug#[7937](http://bugs.otrs.org/show_bug.cgi?id=7937) - HTMLUtils.pm ignore to much of e-mail source code.\n - 2012-02-02 Fixed bug#[7972](http://bugs.otrs.org/show_bug.cgi?id=7972) - Some mails may not present HTML part when using rich viewing.\n - 2012-01-27 Fixed bug#[2820](http://bugs.otrs.org/show_bug.cgi?id=2820) - Wide character in Syslog message causes Perl crash on utf8 systems.\n - 2012-01-23 Fixed bug#[8019](http://bugs.otrs.org/show_bug.cgi?id=8019) - Ticket customer info widget has scroll bars\n - 2012-01-20 Fixed bug#[8128](http://bugs.otrs.org/show_bug.cgi?id=8128) - Ticket Unwatch may lead to errorscreen.\n - 2012-01-16 Creation of QueueObject was not possible because of missing EncodeObject in CustomerUserGenericTicket.pm\n - 2011-12-20 Fixed bug#[8035](http://bugs.otrs.org/show_bug.cgi?id=8035) - SOAP interface does not allow to create/update\n    CustomerCompany records.\n - 2011-12-19 Fixed bug#[7005](http://bugs.otrs.org/show_bug.cgi?id=7005) - JavaScript Init function is executed more than once in TicketZoom\n - 2011-12-14 Fixed bug#[7014](http://bugs.otrs.org/show_bug.cgi?id=7014) - Inline article gets bigger than Ticket::Frontend::HTMLArticleHeightMax.\n - 2011-12-16 Fixed Lithuanian language file encoding.\n - 2011-12-14 Fixed bug#[8000](http://bugs.otrs.org/show_bug.cgi?id=8000) - Queues are translated if are displayed in list-style.\n - 2011-12-13 Fixed bug#[7020](http://bugs.otrs.org/show_bug.cgi?id=7020) - Error in MYSQL Syntax when CustomerID contains special characters.\n - 2011-12-12 Improved #7526 - Automatic TicketSearch for special characters (, ), &, - fails.\n - 2011-12-09 Fixed bug#[7997](http://bugs.otrs.org/show_bug.cgi?id=7997) - Fetching mail via AdminMailAccount does not work.\n - 2011-12-09 Fixed bug#[7995](http://bugs.otrs.org/show_bug.cgi?id=7995) - Previous owner is missing in AgentTicketMove.\n - 2011-12-06 Fixed bug#[5253](http://bugs.otrs.org/show_bug.cgi?id=5253) - User preferences are updated when displaying an overview.\n - 2011-12-05 Fixed bug#[7971](http://bugs.otrs.org/show_bug.cgi?id=7971) - ACL to restrict Priority based on Service does not work in Customer\n    interface\n - 2011-12-05 Fixed bug#[7864](http://bugs.otrs.org/show_bug.cgi?id=7864) - Inconsequent wrapping of text causes ugly notifications.\n - 2011-12-05 Fixed bug#[7338](http://bugs.otrs.org/show_bug.cgi?id=7338) - Upgrade Script DBUpdate-to-3.0.pl fails to create\n    virtual\\_fs tables on oracle.\n - 2011-12-02 Fixed bug#[7442](http://bugs.otrs.org/show_bug.cgi?id=7442) - Dashboard permission check for multiple Groups only\n    tests first group.\n - 2011-11-29 Fixed bug#[7719](http://bugs.otrs.org/show_bug.cgi?id=7719) - Agent login page does not offer user to save password\n    with Firefox browser.\n - 2011-11-30 Fixed bug#[6715](http://bugs.otrs.org/show_bug.cgi?id=6715) - Setting CustomerID with otrs.AddCustomerUser.pl.\n - 2011-11-28 Updated CPAN module Apache::DBI to version 1.11.\n - 2011-11-23 Fixed bug#[7930](http://bugs.otrs.org/show_bug.cgi?id=7930) - Depreciation warnings in error log when running OTRS on\n    Perl 5.14.\n - 2011-11-21 Fixed bug#[3804](http://bugs.otrs.org/show_bug.cgi?id=3804) - Stats in Bar or Pie chart formats don't display non-\n    ascii characters correctly.\n - 2011-11-21 Use the secure attribute to restrict coookies to HTTPS if it is used.\n - 2011-11-21 Fixed bug#[7909](http://bugs.otrs.org/show_bug.cgi?id=7909) - Errors should be logged in web server error log only.\n - 2011-11-17 Fixed bug#[7896](http://bugs.otrs.org/show_bug.cgi?id=7896) - Inline images are broken in ticket answers.\n - 2011-11-17 Fixed bug#[5782](http://bugs.otrs.org/show_bug.cgi?id=5782) - Skipped GenericAgent cron executions because of\n    timing issues.\n - 2011-11-17 Fixed bug#[7674](http://bugs.otrs.org/show_bug.cgi?id=7674) - Pagination in dashboard appears even with one page of\n    results.\n - 2011-11-16 Fixed bug#[7903](http://bugs.otrs.org/show_bug.cgi?id=7903) - Improve MarkTicketsAsSeen for use with large amounts\n    of tickets.\n - 2011-11-15 Fixed bug#[7901](http://bugs.otrs.org/show_bug.cgi?id=7901) - Package Manager does not clear the cache.\n - 2011-11-15 Fixed bug#[7120](http://bugs.otrs.org/show_bug.cgi?id=7120) - Inline images from Lotus Notes do not show in\n    AgentTicketCompose interface.\n - 2011-11-14 Fixed bug#[7526](http://bugs.otrs.org/show_bug.cgi?id=7526) - OTRS Ticket Search not working with ( or ).\n - 2011-11-10 Fixed bug#[7879](http://bugs.otrs.org/show_bug.cgi?id=7879) - Ticket forward not working if content-id exists.\n - 2011-11-07 Fixed bug#[7887](http://bugs.otrs.org/show_bug.cgi?id=7887) - Type based ACLs do not match if Type (Name) is sent.\n - 2011-11-05 Fixed bug#[7876](http://bugs.otrs.org/show_bug.cgi?id=7876) - NewTicketReject Postmaster module uses Admin Address\n    as 'from' in reject emails.\n - 2011-11-05 Fixed bug#[7884](http://bugs.otrs.org/show_bug.cgi?id=7884) - Error message in web server error log when assigning\n    queues to standard responses.\n - 2011-11-03 Fixed bug#[7865](http://bugs.otrs.org/show_bug.cgi?id=7865) - Special characters in group names.\n - 2011-11-01 Fixed bug#[7875](http://bugs.otrs.org/show_bug.cgi?id=7875) - Restricting visibility of SLA in the Customer Ticket zoom does not work.\n - 2011-11-01 Fixed bug#[7823](http://bugs.otrs.org/show_bug.cgi?id=7823) - ACL could remove default state from ticket masks.\n - 2011-10-26 Fixed bug#[7465](http://bugs.otrs.org/show_bug.cgi?id=7465) - Out-of-office unlock does not work upon customer's web reply.\n - 2011-10-25 Fixed bug#[7843](http://bugs.otrs.org/show_bug.cgi?id=7843) - Customer and Agent Ticket Zoom issue with Sessions.\n - 2011-10-24 Improved rpc-example.pl to not use autodispatch any more.\n - 2011-10-21 Fixed bug#[7845](http://bugs.otrs.org/show_bug.cgi?id=7845) - No DispatchMultiple Method in rpc.pl script.\n\n#3.0.11 2011-10-18\n - 2011-10-07 Fixed bug#[7812](http://bugs.otrs.org/show_bug.cgi?id=7812) - Height of search terms doesn't fit on search results page on IE7\n - 2011-10-05 Fixed bug#[7807](http://bugs.otrs.org/show_bug.cgi?id=7807) - Ticket free text misplaced in IE7.\n - 2011-09-22 Fixed bug#[7776](http://bugs.otrs.org/show_bug.cgi?id=7776) - Double encoding for AJAX responses on ActiveState perl.\n - 2011-09-19 Fixed bug#[7756](http://bugs.otrs.org/show_bug.cgi?id=7756) - DefaultViewNewLine Config does not get used.\n - 2011-09-13 Fixed bug#[6902](http://bugs.otrs.org/show_bug.cgi?id=6902) - QueueView: My Queues \\> bulk menu duplication.\n - 2011-09-12 Fixed bug#[7708](http://bugs.otrs.org/show_bug.cgi?id=7708) - Only 400 agents available in AdminUser.\n - 2011-09-07 Fixed bug#[7678](http://bugs.otrs.org/show_bug.cgi?id=7678) - ArticleContentIndex: API Documentation disagrees with code.\n - 2011-09-07 Fixed bug#[7633](http://bugs.otrs.org/show_bug.cgi?id=7633) - Status flag in customer interface ticket zoom has wrong colors.\n - 2011-09-07 Fixed bug#[7591](http://bugs.otrs.org/show_bug.cgi?id=7591) - Email address field validation fails if name server does not respond.\n - 2011-09-06 Fixed bug#[7566](http://bugs.otrs.org/show_bug.cgi?id=7566) - Ticket search with article create date not working with StaticDB.\n - 2011-09-05 Fixed ticket#2010111742013515 - import/export of static states with .pm file\n    and umlaut in file is not working.\n - 2011-08-30 Improved fix of bug#[7195](http://bugs.otrs.org/show_bug.cgi?id=7195) to log a understandable error message if png, gif and\n    jpeg support are not activated in the GD CPAN module.\n - 2011-08-26 Fixed bug#[7525](http://bugs.otrs.org/show_bug.cgi?id=7525) - Move in new window doesn't indicate required fields.\n - 2011-08-26 Fixed bug#[7507](http://bugs.otrs.org/show_bug.cgi?id=7507) - AgentTicketActionCommon.dtl don't know about selected Priority.\n - 2011-08-26 Fixed bug#[7504](http://bugs.otrs.org/show_bug.cgi?id=7504) - 7 Day Stats graph doesn't fit into alloted width.\n - 2011-08-25 Fixed bug#[7393](http://bugs.otrs.org/show_bug.cgi?id=7393) - Error when bouncing a ticket with a new state of open or new.\n - 2011-08-23 Fixed bug#[5621](http://bugs.otrs.org/show_bug.cgi?id=5621) - OpenSearch not working for Internet Explorer 8.\n - 2011-08-23 Fixed bug#[7652](http://bugs.otrs.org/show_bug.cgi?id=7652) - OpenSearch providers are served with wrong mime type.\n - 2011-08-17 Fixed bug#[7599](http://bugs.otrs.org/show_bug.cgi?id=7599) - Back-Link does not work in permission denied screen if\n    this screen is a popup window.\n - 2011-08-16 Fixed bug#[7407](http://bugs.otrs.org/show_bug.cgi?id=7407) - Event based notifications with roles as recipients can\n    produce multiple notifications.\n - 2011-08-16 Fixed bug#[7589](http://bugs.otrs.org/show_bug.cgi?id=7589) - Ticket Search - TicketWatcher doesn't expand.\n - 2011-08-15 Fixed bug#[7343](http://bugs.otrs.org/show_bug.cgi?id=7343) - Typos in Customer Company Countries list.\n - 2011-08-15 Fixed bug#[7081](http://bugs.otrs.org/show_bug.cgi?id=7081) - Kernel::System::Log fails when module does not return\n    VERSION.\n - 2011-08-15 Fixed bug#[6263](http://bugs.otrs.org/show_bug.cgi?id=6263) - RPM upgrade should run otrs.RebuildConfig.pl and\n    otrs.DeleteCache.pl.\n - 2011-08-12 Updated Simplified Chinese Translation, thanks to Martin Liu!\n - 2011-08-12 Updated Danish translation, thanks to Lars J\u00c3\u00b8rgensen!\n - 2011-08-10 Fixed bug#[7550](http://bugs.otrs.org/show_bug.cgi?id=7550) - SLA and Service is not written to history.\n - 2011-08-10 Fixed bug#[7549](http://bugs.otrs.org/show_bug.cgi?id=7549) - Missing mandatory class and \\* identifier in AgentTicketMove.\n\n#3.0.10 2011-08-16\n - 2011-07-28 Fixed bug#[7518](http://bugs.otrs.org/show_bug.cgi?id=7518) - Escalation Notify by not working properly.\n - 2011-07-22 Fixed bug#[6978](http://bugs.otrs.org/show_bug.cgi?id=6978) - UTF characters got broken.\n - 2011-07-22 Fixed bug#[6259](http://bugs.otrs.org/show_bug.cgi?id=6259) - Search matching no results to Print opens extra tab.\n - 2011-07-22 Fixed bug#[7527](http://bugs.otrs.org/show_bug.cgi?id=7527) - Calling AgentTicketPhone with pre-selected values fails on\n    ticket status of type \"pending XYZ\".\n - 2011-07-20 Fixed bug#[7097](http://bugs.otrs.org/show_bug.cgi?id=7097) - Length of name of event based notifications limited in the\n    admin interface.\n - 2011-07-18 Fixed bug#[7477](http://bugs.otrs.org/show_bug.cgi?id=7477) - Dashboard shows \"My Queues\" even if a queue is preselected\n    in the configuration.\n - 2011-07-18 Fixed bug#[6348](http://bugs.otrs.org/show_bug.cgi?id=6348) - GenericAgent cron job concurrency issues.\n - 2011-07-18 Fixed bug#[7502](http://bugs.otrs.org/show_bug.cgi?id=7502) - crontab.txt empty on Win32.\n - 2011-07-12 Fixed bug#[7015](http://bugs.otrs.org/show_bug.cgi?id=7015) - Closing split ticked assigned to different agents\n    causes \"Locked Tickets Total\" to be negative (or off by one).\n - 2011-07-11 Fixed bug#[7362](http://bugs.otrs.org/show_bug.cgi?id=7362) - AuthSyncModule::LDAP::UserSyncMap with multiple auth backends.\n - 2011-07-08 Fixed bug#[7472](http://bugs.otrs.org/show_bug.cgi?id=7472) - TicketSearch for FreeTexts with _ in string not working on Oracle.\n - 2011-07-07 Fixed bug#[7484](http://bugs.otrs.org/show_bug.cgi?id=7484) - Customer items too much right-aligned in customer information box.\n - 2011-07-01 Fixed bug#[7434](http://bugs.otrs.org/show_bug.cgi?id=7434) - CustomerTicketOverview.dtl - closing listitems missing in HTML.\n\n#3.0.9 2011-07-05\n - 2011-07-01 Fixed bug#[7419](http://bugs.otrs.org/show_bug.cgi?id=7419) - 3.0.8 RPM does not include var/fonts directory.\n - 2011-06-30 Fixed bug#[7380](http://bugs.otrs.org/show_bug.cgi?id=7380) - Undo & close window or Cancel & close window NOT working IE9.\n - 2011-06-29 Fixed bug#[7435](http://bugs.otrs.org/show_bug.cgi?id=7435) - Ticket::Frontend::CustomerTicketZoom###AttributesView settings not used for pdf output.\n - 2011-06-29 Fixed bug#[7459](http://bugs.otrs.org/show_bug.cgi?id=7459) - Files partly in database after executing bin/otrs.ArticleStorageSwitch.pl.\n - 2011-06-27 Fixed bug#[7367](http://bugs.otrs.org/show_bug.cgi?id=7367) - No notification of notes when ticket is closed.\n - 2011-06-24 Fixed bug#[7335](http://bugs.otrs.org/show_bug.cgi?id=7335) - No empty state selection in AgentTicketForward.\n - 2011-06-22 Fixed bug#[7433](http://bugs.otrs.org/show_bug.cgi?id=7433) - CustomerTicketZoom is not able to display owner and/or responsible.\n - 2011-06-21 Fixed bug#[4946](http://bugs.otrs.org/show_bug.cgi?id=4946) - Notification mails lack \"Precedence: bulk\" or similar headers.\n - 2011-06-21 Updated XML::TreePP to 0.41.\n - 2011-06-21 Updated XML::FeedPP to 0.43.\n - 2011-06-20 Fixed bug#[7400](http://bugs.otrs.org/show_bug.cgi?id=7400) - Setting Ticket::Frontend::ShowCustomerTickets not effective.\n - 2011-06-17 Fixed bug#[6469](http://bugs.otrs.org/show_bug.cgi?id=6469) - i18n: \"Forwarded message\" string is not translatable.\n - 2011-06-17 Fixed bug#[4524](http://bugs.otrs.org/show_bug.cgi?id=4524) - SQL errors when there are no valid states for a given state type.\n - 2011-06-17 Fixed bug#[7368](http://bugs.otrs.org/show_bug.cgi?id=7368) - Error in TicketEscalationDateCalculation.\n - 2011-06-17 Fixed bug#[7420](http://bugs.otrs.org/show_bug.cgi?id=7420) - Cache issue when updating states.\n - 2011-06-15 Fixed bug#[4606](http://bugs.otrs.org/show_bug.cgi?id=4606) - Possible to select invalid dates for Out-of-Office.\n - 2011-06-15 Fixed bug#[7398](http://bugs.otrs.org/show_bug.cgi?id=7398) - FreeTime fields have no validation.\n - 2011-06-14 Fixed bug#[7396](http://bugs.otrs.org/show_bug.cgi?id=7396) - Selectboxes with long entries are cut off in dialogs in IE7.\n - 2011-06-14 Fixed bug#[7350](http://bugs.otrs.org/show_bug.cgi?id=7350) - Permissiontable in Role \\<-\\> Group is cut.\n - 2011-06-14 Added new Lithuanian translation, thanks to Edgaras Lukoschevidsius!\n - 2011-06-11 Fixed bug#[7161](http://bugs.otrs.org/show_bug.cgi?id=7161) - Single page ticket list does not indicate how much tickets are displayed.\n - 2011-06-11 Updated Net::SMTP::TLS::ButMaintained to 0.17.\n - 2011-06-11 Fixed bug#[7354](http://bugs.otrs.org/show_bug.cgi?id=7354) - bin/otrs.Cron4Win32.pl creates an empty crontab.txt.\n - 2011-06-07 Fixed bug#[7119](http://bugs.otrs.org/show_bug.cgi?id=7119) - Search profile names not visible in URL anymore.\n - 2011-05-30 Fixed bug#[7361](http://bugs.otrs.org/show_bug.cgi?id=7361) - \"$HOME/bin/otrs.DeleteCache.pl --expired\" causes error message :\n    Invalid option --expired\n - 2011-05-27 Fixed bug#[7355](http://bugs.otrs.org/show_bug.cgi?id=7355) - Memory leak in XML.pm.\n - 2011-05-27 Fixed bug#[7356](http://bugs.otrs.org/show_bug.cgi?id=7356) - AgentTicketForward ignores free text fields.\n - 2011-05-26 Fixed bug#[7311](http://bugs.otrs.org/show_bug.cgi?id=7311) - bouncing a ticket to multiple email-addresses is not possible anymore.\n - 2011-05-24 Fixed bug#[7348](http://bugs.otrs.org/show_bug.cgi?id=7348) - otrs.ArticleStorageSwitch.pl gives 'Corrupt file' errors on some attachments.\n - 2011-05-24 Fixed bug#[7329](http://bugs.otrs.org/show_bug.cgi?id=7329) - PendingJobs - auto unlock for closed tickets does not work in all cases.\n - 2011-05-24 Fixed bug#[6896](http://bugs.otrs.org/show_bug.cgi?id=6896) - Small inconcistencies in German translation for AgentTicketBulk screen.\n - 2011-05-24 Fixed bug#[7328](http://bugs.otrs.org/show_bug.cgi?id=7328) - PostMastFollowUp.pm value assignment issue.\n\n#3.0.8 2011-05-24\n - 2011-05-19 Updated Japanese translation, thanks to Kaz Kamimura!\n - 2011-05-19 Fixed bug#[7332](http://bugs.otrs.org/show_bug.cgi?id=7332) - Some buttons are not shown in the AdminSysConfig in IE7.\n - 2011-05-16 Fixed bug#[7300](http://bugs.otrs.org/show_bug.cgi?id=7300) - Wrong dropdown pre-selection in AdminQueue.\n - 2011-05-16 Fixed bug#[7288](http://bugs.otrs.org/show_bug.cgi?id=7288) - hyperlink creationcuts URLs after a closing square bracket.\n - 2011-05-16 Fixed bug#[7287](http://bugs.otrs.org/show_bug.cgi?id=7287) - Ticket Type in Customer Interface is not indicated as a required field.\n - 2011-05-16 Fixed bug#[7310](http://bugs.otrs.org/show_bug.cgi?id=7310) - AdminNotification.dtl restricts subject line to 120 characters.\n - 2011-05-10 Fixed bug#[7280](http://bugs.otrs.org/show_bug.cgi?id=7280) - AgentTicketCompose :: empty state selection causes many log entries.\n - 2011-05-10 Fixed bug#[7111](http://bugs.otrs.org/show_bug.cgi?id=7111) - Customer Password reset mail is sent even if the DB could not be updated.\n - 2011-05-10 Fixed bug#[7271](http://bugs.otrs.org/show_bug.cgi?id=7271) - AJAX issue when clicking 'Submit' while AJAX requests are still running.\n - 2011-05-09 Fixed bug#[7270](http://bugs.otrs.org/show_bug.cgi?id=7270) - Changing the customer from overviews opens the ticket zoom.\n - 2011-05-09 Fixed bug#[7262](http://bugs.otrs.org/show_bug.cgi?id=7262) - Customer Ticket Overview Sorting by \\<th\\>.\n - 2011-05-09 Fixed bug#[6901](http://bugs.otrs.org/show_bug.cgi?id=6901) - Ticket Search -\\> CSV export -\\> close date incorrect.\n - 2011-05-09 Fixed bug#[7289](http://bugs.otrs.org/show_bug.cgi?id=7289) - Ticket::Frontend::CustomerSearchAutoComplete###QueryDelay\n    should be specified in milliseconds rather than seconds.\n - 2011-05-09 Added new Croatian translation, thanks to Damir Dzeko!\n - 2011-05-09 Fixed bug#[7092](http://bugs.otrs.org/show_bug.cgi?id=7092) - Non-existent theme set in user\\_preferences makes login impossible.\n - 2011-05-09 Fixed bug#[7010](http://bugs.otrs.org/show_bug.cgi?id=7010) - Latest version of PDF::API2 no longer includes DejaVu fonts.\n    Fixed by including DejaVu fonts in var/fonts.\n - 2011-05-09 Fixed bug#[7245](http://bugs.otrs.org/show_bug.cgi?id=7245) - Event based notifications are not sent to roles.\n - 2011-05-04 Fixed bug#[7277](http://bugs.otrs.org/show_bug.cgi?id=7277) - otrs.cleanup is called in Cron on Win32.\n - 2011-05-04 Fixed bug#[7272](http://bugs.otrs.org/show_bug.cgi?id=7272) - i18n: TicketFreeTime field label is not translated.\n - 2011-05-02 Updated Brasilian Portugese translation, thanks to Murilo Moreira de Oliveira!\n - 2011-05-02 Updated Persian translation, thanks to Masood Ramezani!\n - 2011-04-28 Fixed bug#[7244](http://bugs.otrs.org/show_bug.cgi?id=7244) - Plain Auth with SMTP/TLS does not work.\n - 2011-04-21 Fixed bug#[7212](http://bugs.otrs.org/show_bug.cgi?id=7212) - IE7 Move box alignment issue in AgentTicketZoom.\n - 2011-04-21 Fixed bug#[7188](http://bugs.otrs.org/show_bug.cgi?id=7188) - Resizable handle always in foreground.\n - 2011-04-19 Fixed bug#[7229](http://bugs.otrs.org/show_bug.cgi?id=7229) - Apache configuration file references nonexisting javascript directory.\n - 2011-04-14 Fixed bug#[7230](http://bugs.otrs.org/show_bug.cgi?id=7230) - Password fields in SysConfig GUI are not protected.\n - 2011-04-14 Fixed bug#[7222](http://bugs.otrs.org/show_bug.cgi?id=7222) - Translation strings with more than 3 placeholders are not translated.\n - 2011-04-12 Fixed bug#[7213](http://bugs.otrs.org/show_bug.cgi?id=7213) - TicketSearch() TicketFlags handling broken.\n - 2011-04-11 Fixed bug#[7209](http://bugs.otrs.org/show_bug.cgi?id=7209) - TimeUnits validation not working.\n - 2011-04-11 Updated Italian translation, thanks to Lucia Magnanelli!\n - 2011-04-06 Fixed bug#[7058](http://bugs.otrs.org/show_bug.cgi?id=7058) - AJAX communication error when picking queue during ticket split.\n - 2011-04-05 Fixed bug#[7179](http://bugs.otrs.org/show_bug.cgi?id=7179) - MasterAction causes browser problem.\n - 2011-04-05 Fixed bug#[7169](http://bugs.otrs.org/show_bug.cgi?id=7169) - Archived tickets can not be un-archived.\n - 2011-04-04 Fixed bug#[6801](http://bugs.otrs.org/show_bug.cgi?id=6801) - Bulk Actions are not working.\n - 2011-04-04 Fixed bug#[7156](http://bugs.otrs.org/show_bug.cgi?id=7156) - NewTicketInNewWindow misplaced group.\n - 2011-04-01 Fixed bug#[7096](http://bugs.otrs.org/show_bug.cgi?id=7096) - CSS for navigation bar :: wrong z-index for selected area and hover.\n - 2011-04-01 Fixed bug#[7160](http://bugs.otrs.org/show_bug.cgi?id=7160) - Typo \"Anwort\" in translation file de.pm.\n - 2011-04-01 Fixed bug#[7158](http://bugs.otrs.org/show_bug.cgi?id=7158) - Customer search can not be started via URL.\n - 2011-04-01 Fixed bug#[7119](http://bugs.otrs.org/show_bug.cgi?id=7119) - Search profile names not visible in URL anymore in customer and agent panel.\n - 2011-04-01 Fixed bug#[7151](http://bugs.otrs.org/show_bug.cgi?id=7151) - Secure::DisableBanner does not disable E-Mail Headers\n - 2011-03-28 Fixed bug#[7115](http://bugs.otrs.org/show_bug.cgi?id=7115) - Search profiles are not working after upgrade to OTRS 3.\n\n#3.0.7 2011-04-12\n - 2011-03-24 Fixed bug#[7106](http://bugs.otrs.org/show_bug.cgi?id=7106) - Customer user login can't be updated nor changed.\n - 2011-03-24 Fixed bug#[6954](http://bugs.otrs.org/show_bug.cgi?id=6954) - Option \"NewTicketInNewWindow::Enabled\"  is not working.\n - 2011-03-22 Fixed bug#[7052](http://bugs.otrs.org/show_bug.cgi?id=7052) - Clicking on items in Dashboard and Overview causes\n    two GET request instead of one.\n - 2011-03-22 Fixed bug#[7077](http://bugs.otrs.org/show_bug.cgi?id=7077) - Customer Interface Article Information not displayed properly in IE7.\n - 2011-03-18 Fixed bug#[7063](http://bugs.otrs.org/show_bug.cgi?id=7063) - TicketZoom Customer information display issue in IE7.\n - 2011-03-16 Fixed bug#[7060](http://bugs.otrs.org/show_bug.cgi?id=7060) - Unexisting value is passed to several subroutines in AgentTicketPhone when there is no subaction.\n - 2011-03-15 Fixed bug#[7057](http://bugs.otrs.org/show_bug.cgi?id=7057) - Kernel::System::StandardResponse-\\>StandardResponseLookup() is broken\n - 2011-03-15 Fixed bug#[5604](http://bugs.otrs.org/show_bug.cgi?id=5604) - Show name of static statistic, if there is only one.\n - 2011-03-14 Updated Norwegian translation, thanks to Espen Stefansen!\n - 2011-03-14 Fixed bug#[7040](http://bugs.otrs.org/show_bug.cgi?id=7040) - SQL error when retrieving CustomerCompanyList with Valid =\\> 0.\n - 2011-03-14 Updated Chinese translation, thanks to Martin Liu!\n - 2011-03-13 Fixed bug#[7042](http://bugs.otrs.org/show_bug.cgi?id=7042) - Textual and layout issue Archive option in AgentTicketSearch.\n - 2011-03-10 Fixed bug#[6946](http://bugs.otrs.org/show_bug.cgi?id=6946) - SelectAllXXX checkbox is not checked when you first enter to the module.\n - 2011-03-09 Fixed bug#[7007](http://bugs.otrs.org/show_bug.cgi?id=7007) - Loader unit tests fail on MSWin32.\n - 2011-03-08 Fixed bug#[6790](http://bugs.otrs.org/show_bug.cgi?id=6790) - Custom directory not considered when running in CGI.\n - 2011-03-08 Fixed bug#[5354](http://bugs.otrs.org/show_bug.cgi?id=5354) - Gratuitous \"use lib '../..';\" in Kernel::Output::HTML::Layout\n     preventing modules in /Custom to be loaded when deployed as CGI.\n - 2011-03-07 Fixed bug#[6014](http://bugs.otrs.org/show_bug.cgi?id=6014) - Printed pdf tickets are not searchable.\n - 2011-03-07 Fixed bug#[7006](http://bugs.otrs.org/show_bug.cgi?id=7006) - One MainObject unit test fails on Win32.\n - 2011-03-02 Fixed bug#[6936](http://bugs.otrs.org/show_bug.cgi?id=6936) - Click on Customer triggers Wildcard-Search.\n - 2011-02-28 Fixed bug#[6961](http://bugs.otrs.org/show_bug.cgi?id=6961) - TicketActionsPerTicket - Buttons not localized.\n - 2011-02-28 Fixed bug#[5578](http://bugs.otrs.org/show_bug.cgi?id=5578) - TicketSolutionResponseTime.pm fix.\n - 2011-02-28 Fixed bug#[6974](http://bugs.otrs.org/show_bug.cgi?id=6974) - Ticket Search does not find tickets if searching by\n    in between 2 dates, and the ticket time is 00:00:00.\n - 2011-02-28 Fixed bug#[6930](http://bugs.otrs.org/show_bug.cgi?id=6930) - en\\_GB (united kingdom) notification events blank.\n - 2011-02-25 Fixed bug#[6822](http://bugs.otrs.org/show_bug.cgi?id=6822) -  Underscore in username problem in 3.0.5.\n - 2011-02-25 Added Hindi translation, thanks to Chetan Nagaonkar!\n\n#3.0.6 2011-02-29\n - 2011-02-21 Fixed bug#[6938](http://bugs.otrs.org/show_bug.cgi?id=6938). CustomerUser AutoLoginCreation doesn't work.\n - 2011-02-21 Updated Russian translation, thanks to Eugene Kungurov!\n - 2011-02-18 Fixed bug#[6912](http://bugs.otrs.org/show_bug.cgi?id=6912) - MIME-Viewer (PDF Preview) is not properly displayed in 3.x UI.\n - 2011-02-16 Changed UserID 1 notification\n - 2011-02-16 Updated Brazilian Portugese translation, thanks to Humberto Diogenes!\n - 2011-02-15 Fixed bug#[6861](http://bugs.otrs.org/show_bug.cgi?id=6861) - Navigation should be disabled when linking an object.\n - 2011-02-14 Fixed bug#[6869](http://bugs.otrs.org/show_bug.cgi?id=6869) - ITSM 3 Link Object \"close window\" refreshes and settings lost\n - 2011-02-09 Fixed bug#[6878](http://bugs.otrs.org/show_bug.cgi?id=6878) - Agent and customer usernames and passwords stored plaintext\n    in database and session.\n - 2011-02-09 Updated French translation, thanks to R\u00ef\u00bf\u00bdmi Seguy!\n - 2011-02-08 Fixed bug#[6808](http://bugs.otrs.org/show_bug.cgi?id=6808) - change queue with note destroyes rich text in note\n    when file is attached.\n - 2011-02-04 Fixed bug#[4350](http://bugs.otrs.org/show_bug.cgi?id=4350) - Time\\_accounting not merged when merging ticket.\n - 2011-02-03 Fixed bug#[6831](http://bugs.otrs.org/show_bug.cgi?id=6831) - CustomerLogo not shown if external URL.\n - 2011-02-02 Fixed bug#[2877](http://bugs.otrs.org/show_bug.cgi?id=2877) - Licence is \"License\" in British English.\n - 2011-02-01 Fixed bug#[6837](http://bugs.otrs.org/show_bug.cgi?id=6837) - Queue cannot be created, just changed\n - 2011-02-01 Fixed bug#[6696](http://bugs.otrs.org/show_bug.cgi?id=6696) - TicketFreeTime options are line breaked in the\n    search window.\n - 2011-01-31 Implemented bug#[6824](http://bugs.otrs.org/show_bug.cgi?id=6824) - Adding system addresses from CLI, via new\n    script bin/otrs.AddSystemAddress.pl.\n - 2011-01-31 Fixed bug#[6818](http://bugs.otrs.org/show_bug.cgi?id=6818) - PDF Printing does not work with newest PDF::API2\n    2.x module.\n - 2011-01-28 Fixed bug#[6506](http://bugs.otrs.org/show_bug.cgi?id=6506) - Ticket::Frontend::ZoomRichTextForce no longer\n    available.\n - 2011-01-27 Fixed bug#[6539](http://bugs.otrs.org/show_bug.cgi?id=6539) - CustomerUser LDAP Fetch is requesting all attributes\n    instead of configured attributes from map.\n - 2011-01-27 Added database connection information to otrs.CheckDB.pl script.\n - 2011-01-27 Fixed bug#[6729](http://bugs.otrs.org/show_bug.cgi?id=6729) - SMIME-Encryption broken in Interface.\n - 2011-01-27 Fixed bug#[6792](http://bugs.otrs.org/show_bug.cgi?id=6792) - ArticleFreeText default selection is not respected\n    by input masks.\n - 2011-01-27 Fixed bug#[6791](http://bugs.otrs.org/show_bug.cgi?id=6791) - In TicketZoom Total Accounted Time is displayed\n    when AccountTime is set to \"off\".\n - 2011-01-26 Fixed bug#[6721](http://bugs.otrs.org/show_bug.cgi?id=6721) - New users with empty password creation is allowed\n    but a random password is assigned without notification.\n - 2011-01-26 Fixed bug#[4188](http://bugs.otrs.org/show_bug.cgi?id=4188) - Moving junk mails unnecessarily need subject and\n    body (for 3.0 version).\n - 2011-01-25 Fixed bug#[6789](http://bugs.otrs.org/show_bug.cgi?id=6789) - Ticket OpenSearch in Customer Interface is broken.\n - 2011-01-25 Fixed bug#[4764](http://bugs.otrs.org/show_bug.cgi?id=4764) - Public frontend has Customer frontend opensearch\n    descriptions.\n - 2011-01-25 Fixed bug#[6600](http://bugs.otrs.org/show_bug.cgi?id=6600) - AgentTicketSearch date selection issues.\n - 2011-01-25 Fixed bug#[5487](http://bugs.otrs.org/show_bug.cgi?id=5487) - Event Based notification - respect \"Include\n    Attachments to Notification\".\n - 2011-01-25 Fixed bug#[6745](http://bugs.otrs.org/show_bug.cgi?id=6745) - Disabling out of office does not work until\n    logging out.\n - 2011-01-25 Fixed bug#[6740](http://bugs.otrs.org/show_bug.cgi?id=6740) - Link CI to new phone or mail ticket does not work.\n - 2011-01-25 Fixed bug#[6764](http://bugs.otrs.org/show_bug.cgi?id=6764) - Usage of TicketHook as TicketZoom Subject.\n - 2011-01-24 Fixed bug#[6684](http://bugs.otrs.org/show_bug.cgi?id=6684) - CustomerInfoSize doesn't size the info box.\n - 2011-01-21 Fixed bug#[6728](http://bugs.otrs.org/show_bug.cgi?id=6728) - Notification Management not usable if many\n    notifications exist.\n - 2011-01-21 Fixed bug#[6741](http://bugs.otrs.org/show_bug.cgi?id=6741) - Select box does not display helpful error messages.\n - 2011-01-21 Fixed bug#[6530](http://bugs.otrs.org/show_bug.cgi?id=6530) - Problem sending inline PGP answer.\n - 2011-01-21 Fixed bug#[6044](http://bugs.otrs.org/show_bug.cgi?id=6044) - Toolbar - show static buttons first\n - 2011-01-21 Fixed bug#[6654](http://bugs.otrs.org/show_bug.cgi?id=6654) - Can't add a queue with Unlock set to No using a PostgreSQL\n    database.\n - 2011-01-20 Fixed bug#[4814](http://bugs.otrs.org/show_bug.cgi?id=4814) - Need UserID or UserLogin error message in some scenarios\n    when using BasicAuth.\n - 2011-01-20 Fixed bug#[6725](http://bugs.otrs.org/show_bug.cgi?id=6725) - Typo in description for Stats in SysConfig.\n - 2011-01-20 Fixed bug#[6001](http://bugs.otrs.org/show_bug.cgi?id=6001) - Configuration issues when Apache::DBI is not installed.\n    Apache::DBI is now bundled in Kernel/cpan-lib, mainly because it's not part of the\n    RHEL5 package repositories.\n - 2011-01-19 Fixed bug#[6704](http://bugs.otrs.org/show_bug.cgi?id=6704) - Core.AJAX throws exceptions which cannot be handled.\n - 2011-01-17 Fixed bug#[6599](http://bugs.otrs.org/show_bug.cgi?id=6599) - Ticket sub-sorting in dashlets isn't working.\n - 2011-01-17 Fixed bug#[6706](http://bugs.otrs.org/show_bug.cgi?id=6706) - Add Google Chrome Frame support.\n\n#3.0.5 2011-01-18\n - 2011-01-13 Fixed bug#[6628](http://bugs.otrs.org/show_bug.cgi?id=6628) - Attachments don't show up in Exchange when using WebUploadCacheModule::FS.\n - 2011-01-12 Fixed bug#[6681](http://bugs.otrs.org/show_bug.cgi?id=6681) - Font of notes is not fixed font (Frontend::RichText is disabled).\n - 2011-01-12 Fixed bug#[6458](http://bugs.otrs.org/show_bug.cgi?id=6458) - \"Lock\" not indicated on compose (lock/unlock message was not shown).\n - 2011-01-11 Fixed bug#[6653](http://bugs.otrs.org/show_bug.cgi?id=6653) - Time Format Dashboard etc.\n - 2011-01-11 Fixed bug#[6505](http://bugs.otrs.org/show_bug.cgi?id=6505) - Ticket::Frontend::PlainView has no effect.\n - 2011-01-10 Fixed bug#[6668](http://bugs.otrs.org/show_bug.cgi?id=6668) - Upgrade to OTRS 3.0.x fails if OTRS 2.4.x is used with OTRS::ITSM 2.x\n - 2011-01-07 Fixed bug#[6555](http://bugs.otrs.org/show_bug.cgi?id=6555) - no decoder for iso-8859-1 at /opt/otrs/Kernel/cpan-lib/MIME/Parser.pm line 821.\n - 2011-01-07 Fixed bug#[6582](http://bugs.otrs.org/show_bug.cgi?id=6582) - Admin-\\>Manage Queues wrong subqueue default.\n - 2011-01-07 Fixed bug#[6658](http://bugs.otrs.org/show_bug.cgi?id=6658) - History contains redundant SetPendingTime entries.\n - 2011-01-06 Fixed bug#[5053](http://bugs.otrs.org/show_bug.cgi?id=5053) - Some inline images (bitmaps) from MS Outlook clients are not displayed in ticket zoom.\n - 2011-01-06 Fixed bug#[6627](http://bugs.otrs.org/show_bug.cgi?id=6627) - Queue names are wrapped badly by the browser.\n - 2011-01-06 Fixed bug#[6591](http://bugs.otrs.org/show_bug.cgi?id=6591) - Date selector calendar does not open on agent out of office.\n - 2011-01-06 Fixed bug#[6563](http://bugs.otrs.org/show_bug.cgi?id=6563) - Article list in AgentTicketZoom scrolls inconveniently.\n - 2011-01-06 Fixed bug#[6629](http://bugs.otrs.org/show_bug.cgi?id=6629) - Opening a link in a new Tab with IE doesn't allow you to navigate away from the SOURCE tab.\n - 2011-01-06 Fixed bug#[6650](http://bugs.otrs.org/show_bug.cgi?id=6650) - AgentTicketPhone loses Responsible selection after reload.\n - 2011-01-06 Fixed bug#[6354](http://bugs.otrs.org/show_bug.cgi?id=6354) - SMTPTLS multiplies attachments.\n - 2011-01-05 Fixed bug#[6624](http://bugs.otrs.org/show_bug.cgi?id=6624) - If ticket is displayed in \"Show all articles mode\" only the last article can be replied in IE7.\n - 2011-01-04 Fixed bug#[6578](http://bugs.otrs.org/show_bug.cgi?id=6578) - Agent settings 'My Queues' selection not shown.\n - 2011-01-04 Fixed bug#[5175](http://bugs.otrs.org/show_bug.cgi?id=5175) - Documentation of Kernel::System::Main::FileRead.\n - 2011-01-04 Updated Italian translation, thanks to Alessandro Grassi!\n - 2011-01-04 Updated Norwegian translation, thanks to Eirik Wulff!\n - 2011-01-03 Fixed bug#[6604](http://bugs.otrs.org/show_bug.cgi?id=6604) - Some attachments from mails created with OTRS 2.4.6\n    are missing from the attachment list after upgrade to 3.0.\n - 2010-12-30 Fixed bug#[6473](http://bugs.otrs.org/show_bug.cgi?id=6473) - Error at Apache log \"uninitialized value\".\n - 2010-12-30 Fixed bug#[4886](http://bugs.otrs.org/show_bug.cgi?id=4886) - FollowUp-notification send not to owner.\n - 2010-12-30 Updated CPAN module JSON to version 2.50.\n - 2010-12-30 Updated CPAN module JSON::PP to version 2.27103.\n - 2010-12-30 Updated CPAN module Text::CSV to version 1.21.\n - 2010-12-28 Fixed bug#[6595](http://bugs.otrs.org/show_bug.cgi?id=6595) - umleiten != Zur\u00ef\u00bf\u00bdckweisen an.\n - 2010-12-28 Fixed bug#[6057](http://bugs.otrs.org/show_bug.cgi?id=6057) - Some action buttons don't have tooltips.\n - 2010-12-27 Fixed bug#[6606](http://bugs.otrs.org/show_bug.cgi?id=6606) - Login screen in area of ticket details.\n - 2010-12-27 Fixed bug#[6609](http://bugs.otrs.org/show_bug.cgi?id=6609) - Created date in article is overlapping the Loader icon.\n - 2010-12-27 Added extra documentation for bug#[6610](http://bugs.otrs.org/show_bug.cgi?id=6610) -\n    OTRS\\_CURRENT\\_UserSalutation is always \"-\".\n - 2010-12-27 Fixed bug#[6605](http://bugs.otrs.org/show_bug.cgi?id=6605) - Error in url on admin package manager screen because wrong use of LQData.\n - 2010-12-23 Fixed bug#[6579](http://bugs.otrs.org/show_bug.cgi?id=6579) - ArticleTypeDefault is not selected in 'Note'\n    on Bulk Action\n - 2010-12-23 Fixed bug#[6570](http://bugs.otrs.org/show_bug.cgi?id=6570) - Services/SLAs are not loaded if\n    Ticket::Frontend::CustomerTicketMessage###Queue is set to \"No\"\n - 2010-12-23 Fixed bug#[6553](http://bugs.otrs.org/show_bug.cgi?id=6553) - Add CC for ticket customer function is no longer working.\n - 2010-12-22 Fixed bug#[4502](http://bugs.otrs.org/show_bug.cgi?id=4502) - Event Based Notification ignores SendNoNotification flag.\n - 2010-12-22 Fixed bug#[6596](http://bugs.otrs.org/show_bug.cgi?id=6596) - Ticket::Frontend::AgentTicketBounce###StateDefault doesn't work.\n - 2010-12-21 Fixed bug#[6576](http://bugs.otrs.org/show_bug.cgi?id=6576) - Unneeded entries in @INC.\n - 2010-12-21 Fixed bug#[6573](http://bugs.otrs.org/show_bug.cgi?id=6573) - Dutch notification texts don't display the ticket data.\n - 2010-12-20 Fixed bug#[6580](http://bugs.otrs.org/show_bug.cgi?id=6580) - Troubles modifying AgentTicketPhone in OTRS 3.0.3\n    - using FreeText... failed.\n - 2010-12-20 Fixed bug#[6577](http://bugs.otrs.org/show_bug.cgi?id=6577) - AdminNotification screen does not work in IE7 on Windows XP.\n - 2010-12-17 Fixed bug#[6559](http://bugs.otrs.org/show_bug.cgi?id=6559) - the CK EDITOR for entering comments does not starts\n    if you use CZ localization.\n - 2010-12-17 Fixed bug#[6560](http://bugs.otrs.org/show_bug.cgi?id=6560) - Link to \"AgentPreferences\" is shown even when the module is disabled.\n - 2010-12-17 Fixed bug#[6561](http://bugs.otrs.org/show_bug.cgi?id=6561) - Text sometimes too long for button.\n - 2010-12-17 Fixed bug#[6543](http://bugs.otrs.org/show_bug.cgi?id=6543) - UPGRADING should clearly state changed parameters\n    of SetPermissions script.\n - 2010-12-16 Fixed bug#[6554](http://bugs.otrs.org/show_bug.cgi?id=6554) - SysConfig Group Handling.\n - 2010-12-15 Fixed bug#[6380](http://bugs.otrs.org/show_bug.cgi?id=6380) - Change Search Options does not list default fields.\n - 2010-12-14 Fixed bug#[6476](http://bugs.otrs.org/show_bug.cgi?id=6476) - Stats overview table has display error in table header.\n - 2010-12-14 Fixed bug#[6540](http://bugs.otrs.org/show_bug.cgi?id=6540) - System Log Hint could make room for more log information.\n - 2010-12-14 Fixed bug#[6541](http://bugs.otrs.org/show_bug.cgi?id=6541) - Left pane in AdminNotification is empty.\n - 2010-12-14 Fixed bug#[6542](http://bugs.otrs.org/show_bug.cgi?id=6542) - Typo in file UPGRADING.\n - 2010-12-14 Fixed bug#[6535](http://bugs.otrs.org/show_bug.cgi?id=6535) - Stats CSV output is not CSV, despite preference change.\n - 2010-12-14 Fixed bug#[6532](http://bugs.otrs.org/show_bug.cgi?id=6532) - With multiple inline images, only first one is\n    preserved when replying.\n - 2010-12-14 Fixed bug#[6533](http://bugs.otrs.org/show_bug.cgi?id=6533) - Not possible to search tickets by responsible agent.\n - 2010-12-13 Fixed bug#[6520](http://bugs.otrs.org/show_bug.cgi?id=6520) - backup.pl doesn't backup with strong password.\n\n#3.0.4 2010-12-15\n - 2010-12-10 Improved handling of JavaScript code. Now post output filters\n    are able to inject and modify JavaScript code.\n - 2010-12-09 Fixed bug#[6498](http://bugs.otrs.org/show_bug.cgi?id=6498) - Creating module translations with\n    otrs.CreateTranslationFile.pl -l all creates new files.\n - 2010-11-09 Upgraded jQuery UI to 1.8.6 (to fix some IE9 bugs).\n - 2010-12-09 Fixed bug#[6515](http://bugs.otrs.org/show_bug.cgi?id=6515) - CSV export of SQL statement isn't working.\n - 2010-12-09 Updated Danish Translation, thanks to Lars Jorgensen!\n - 2010-12-09 Fixed bug#[6496](http://bugs.otrs.org/show_bug.cgi?id=6496) - Article Filter only displays one article.\n - 2010-12-08 Fixed bug#[6421](http://bugs.otrs.org/show_bug.cgi?id=6421) - AdminCustomerUser does not show customers without searching\n - 2010-12-08 Fixed bug#[6470](http://bugs.otrs.org/show_bug.cgi?id=6470) - AgentTicketForward does not support ArticleFreeText\n - 2010-12-08 Fixed bug#[6436](http://bugs.otrs.org/show_bug.cgi?id=6436) - Content validation with javascript does not\n    consider \"CheckEmailAddresses\".\n - 2010-12-07 Fixed bug#[6200](http://bugs.otrs.org/show_bug.cgi?id=6200) - OTRS 3.0 customer navigation not configurable.\n - 2010-12-07 Fixed bug#[6012](http://bugs.otrs.org/show_bug.cgi?id=6012) - DashboardTicketGeneric.pm fails handing over\n    \"Attributes\" to AgentTicketSearch().\n - 2010-12-07 Fixed bug#[6459](http://bugs.otrs.org/show_bug.cgi?id=6459) - Unwanted and unconfigurable text when customer has no ticket created yet.\n    This text was adapted and can now optionally be configured with the SysConfig setting\n    'Ticket::Frontend::CustomerTicketOverviewCustomEmptyText'.\n - 2010-12-06 Fixed bug#[6477](http://bugs.otrs.org/show_bug.cgi?id=6477) - There are no hooks for Output filters on ticket composing screens.\n - 2010-12-06 Fixed bug#[6414](http://bugs.otrs.org/show_bug.cgi?id=6414) - Ticket overview small: resizing problems.\n - 2010-12-06 Fixed bug#[6451](http://bugs.otrs.org/show_bug.cgi?id=6451) - Article Tree doesn't expand.\n - 2010-12-06 Fixed bug#[6427](http://bugs.otrs.org/show_bug.cgi?id=6427) - Building large number of CacheFileStorable/\n    CacheInternalTicket Files will cause Software error.\n - 2010-12-06 Fixed bug#[6408](http://bugs.otrs.org/show_bug.cgi?id=6408) - Uploading an attachment removed previously uploaded inline images.\n - 2010-12-06 Fixed bug#[6234](http://bugs.otrs.org/show_bug.cgi?id=6234) - Field validation in the AgentTicketPhone mask kicks in after uploading a picture.\n - 2010-12-06 Fixed bug#[6425](http://bugs.otrs.org/show_bug.cgi?id=6425) - Ticket::Frontend::MenuModule###460-Delete and\n    Ticket::Frontend::PreMenuModule###450-Delete resulting in white page.\n - 2010-12-03 Added possibility to see ticket actions on hover on every single ticket in medium and large\n    ticket overviews (enable with TicketActionsPerTicket item on Ticket::Frontend::Overview###Medium or\n    Ticket::Frontend::Overview###Preview setting).\n - 2010-12-03 Fixed bug#[6458](http://bugs.otrs.org/show_bug.cgi?id=6458) - \"Lock\" not indicated on compose.\n - 2010-12-03 Fixed bug#[6471](http://bugs.otrs.org/show_bug.cgi?id=6471) - Public interface handler is not able to load module\n    specific JavaScript and CSS.\n - 2010-12-03 Fixed bug#[6262](http://bugs.otrs.org/show_bug.cgi?id=6262) - Results list can expand behind ticket history table.\n - 2010-12-03 Fixed bug#[6456](http://bugs.otrs.org/show_bug.cgi?id=6456) - Searches won't save selected queues.\n - 2010-12-03 Fixed bug#[6431](http://bugs.otrs.org/show_bug.cgi?id=6431) - TicketSearch Window broken in IE8.\n - 2010-12-03 Fixed bug#[6468](http://bugs.otrs.org/show_bug.cgi?id=6468) - Can't add \"To\" field to TicketSearch.\n - 2010-12-03 Fixed bug#[6289](http://bugs.otrs.org/show_bug.cgi?id=6289) - i18n: Creating a new stat shows hardcoded value 'New'.\n - 2010-12-03 Fixed bug#[6304](http://bugs.otrs.org/show_bug.cgi?id=6304) - Not sure about the meaning of \"3\".\n - 2010-12-03 Updated Russian translation, thanks to Sergey Romanov!\n - 2010-12-02 Fixed bug#[6366](http://bugs.otrs.org/show_bug.cgi?id=6366) - gnupg signatures not working correct for partly signed messages.\n - 2010-12-01 Fixed bug#[6303](http://bugs.otrs.org/show_bug.cgi?id=6303) - Article display height in ticket zoom of customer interface can be too high.\n - 2010-12-01 Updated Danish translation, thanks to Lars Jorgensen!\n - 2010-12-01 Fixed bug#[6440](http://bugs.otrs.org/show_bug.cgi?id=6440) - Incomplete Action parameter after logging in to the\n    customer interface.\n - 2010-12-01 Fixed bug#[6455](http://bugs.otrs.org/show_bug.cgi?id=6455) - Ticket actions in Ticket Overview are not usable if\n    session id is not in cookie.\n - 2010-12-01 Fixed bug#[6453](http://bugs.otrs.org/show_bug.cgi?id=6453) - Moving Tickets via AgentTicketMove empties set Free Fields.\n - 2010-11-30 Updated Serbian translation, thanks to Milorad Jovanovic!\n - 2010-11-30 Fixed bug#[6401](http://bugs.otrs.org/show_bug.cgi?id=6401) - Invalid agents are partially ignored/shown in ticket masks.\n - 2010-11-30 Fixed bug#[6040](http://bugs.otrs.org/show_bug.cgi?id=6040) - Remove ReplyAll option if possible in agent interface.\n - 2010-11-29 Fixed bug#[4856](http://bugs.otrs.org/show_bug.cgi?id=4856) - Notifications are sent even if ticket is created with closed state.\n - 2010-11-29 Fixed bug#[6420](http://bugs.otrs.org/show_bug.cgi?id=6420) - Customer Search with No Results does not display appropriate message.\n - 2010-11-29 Fixed bug#[6428](http://bugs.otrs.org/show_bug.cgi?id=6428) - FreeText field alignment is wrong in AdminGenericAgent.\n - 2010-11-29 Updated Japanese translation, thanks to Kaz Kamimura!\n - 2010-11-29 Fixed bug#[2950](http://bugs.otrs.org/show_bug.cgi?id=2950) - Field labels for ArticleFreeTime are not translated in PDF print.\n - 2010-11-29 Fixed bug#[6401](http://bugs.otrs.org/show_bug.cgi?id=6401) - Field label for Content not aligned in SysConfig.\n - 2010-11-26 Fixed bug#[6390](http://bugs.otrs.org/show_bug.cgi?id=6390) - Customer Interface - Latest article hover text is always 'Loading'.\n\n#3.0.3 2010-11-29\n - 2010-11-26 Fixed bug#[6393](http://bugs.otrs.org/show_bug.cgi?id=6393) - ArticleFreeText is missing in Customer Interface TicketZoom.\n - 2010-11-26 Fixed bug#[6396](http://bugs.otrs.org/show_bug.cgi?id=6396) - Freetext fields can't be added to ticket search.\n - 2010-11-25 Fixed bug#[6131](http://bugs.otrs.org/show_bug.cgi?id=6131) - Lack of warning for revoked and expired keys for PGP signs on emails.\n - 2010-11-25 Fixed bug#[6361](http://bugs.otrs.org/show_bug.cgi?id=6361) - Upgrade v2.4-\\>v3.0 on MySQL with InnoDB as storage\n    engine generates an error.\n - 2010-11-25 Fixed bug#[6199](http://bugs.otrs.org/show_bug.cgi?id=6199) - OTRS 3.0 ToolBarSearchFulltext has no product design.\n - 2010-11-25 Fixed bug#[2638](http://bugs.otrs.org/show_bug.cgi?id=2638) - Broken email syntax detection.\n - 2010-11-25 Fixed bug#[6392](http://bugs.otrs.org/show_bug.cgi?id=6392) - Email addresses containing special but allowed\n    characters are not accepted in customer administration.\n - 2010-11-25 Fixed bug#[6367](http://bugs.otrs.org/show_bug.cgi?id=6367) - My Queues Selection Box doesn't display well on lower resolutions.\n - 2010-11-24 Fixed bug#[6379](http://bugs.otrs.org/show_bug.cgi?id=6379) - No Ajax Update fro Crypt and Sign fields when you set the customer on Email Compose.\n - 2010-11-24 Fixed bug#[6395](http://bugs.otrs.org/show_bug.cgi?id=6395) - Broken use of PGP Sign on AgentTicketEmail screen.\n - 2010-11-24 Fixed bug#[6388](http://bugs.otrs.org/show_bug.cgi?id=6388) - In the Medium view, the title of the ticket is truncated after 25 characters.\n - 2010-11-24 Fixed bug#[6389](http://bugs.otrs.org/show_bug.cgi?id=6389) - Customer TicketZoom - Ticket Title is truncated after 25 characters.\n - 2010-11-24 Fixed bug#[6370](http://bugs.otrs.org/show_bug.cgi?id=6370) - New customer form submission - errors are silently dropped.\n - 2010-11-24 Fixed bug#[6264](http://bugs.otrs.org/show_bug.cgi?id=6264) - CKEditor Image upload does not show a correct behavior in case a FormID is missing.\n - 2010-11-24 Fixed bug#[6353](http://bugs.otrs.org/show_bug.cgi?id=6353) - GenericAgent throws error when ArticleFS storage used.\n - 2010-11-24 Added new Japanese translation, thanks to Kaz Kamimura Thomas!\n - 2010-11-24 Fixed bug#[6187](http://bugs.otrs.org/show_bug.cgi?id=6187) - IE9: article height incorrectly calculated.\n - 2010-11-24 Fixed bug#[6188](http://bugs.otrs.org/show_bug.cgi?id=6188) - IE9: article table resize handle has no effect.\n - 2010-11-24 Fixed bug#[6189](http://bugs.otrs.org/show_bug.cgi?id=6189) - IE9: ticket overview table headers behave incorrectly.\n - 2010-11-24 Fixed bug#[6382](http://bugs.otrs.org/show_bug.cgi?id=6382) - otrs.ArticleStorageSwitch.pl script not working.\n - 2010-11-24 Fixed bug#[6378](http://bugs.otrs.org/show_bug.cgi?id=6378) - The error messages are displayed incorrectly in the action list.\n - 2010-11-23 Fixed bug#[6314](http://bugs.otrs.org/show_bug.cgi?id=6314) - Upgrade 2.4.x -\\> 3.0.x - older tickets in database\n    are marked as unread.\n - 2010-11-23 Fixed bug#[6360](http://bugs.otrs.org/show_bug.cgi?id=6360) - Bulk Action link all to ticket number doesn't link anything.\n - 2010-11-23 Fixed bug#[6286](http://bugs.otrs.org/show_bug.cgi?id=6286) - Adding a phone call outbound does indicate an unread article.\n - 2010-11-23 Fixed bug#[6283](http://bugs.otrs.org/show_bug.cgi?id=6283) - FreeText field search is not possible in Customer Interface.\n - 2010-11-23 Fixed bug#[6362](http://bugs.otrs.org/show_bug.cgi?id=6362) - Software error adding new PGP key.\n - 2010-11-23 Fixed bug#[6273](http://bugs.otrs.org/show_bug.cgi?id=6273) - IE7: Alert dialog display problems.\n - 2010-11-23 Fixed bug#[6260](http://bugs.otrs.org/show_bug.cgi?id=6260) - RichTextEditor Action for Inline-Image Upload is hard coded.\n - 2010-11-23 Fixed bug#[6371](http://bugs.otrs.org/show_bug.cgi?id=6371) - Opening the customer ticket zoom shows a browser error message.\n - 2010-11-23 Fixed bug#[6308](http://bugs.otrs.org/show_bug.cgi?id=6308) - Ticket search templates are not saved in agent interface.\n - 2010-11-23 Fixed bug#[6359](http://bugs.otrs.org/show_bug.cgi?id=6359) - Documentation fixes.\n - 2010-11-23 Fixed bug#[6368](http://bugs.otrs.org/show_bug.cgi?id=6368) - Change search options does not work in customer interface.\n - 2010-11-23 Fixed bug#[6346](http://bugs.otrs.org/show_bug.cgi?id=6346) - Upgrading script 2.4 -\\> 3.0 may cause corruption of\n    the configuration files (ZZZAuto.pm and ZZZAAuto.pm).\n - 2010-11-23 Fixed bug#[6357](http://bugs.otrs.org/show_bug.cgi?id=6357) - Customer search URL contains ampersands (&) instead of semicolons (;).\n - 2010-11-22 Fixed bug#[6358](http://bugs.otrs.org/show_bug.cgi?id=6358) - No custom CSS or JS is loaded from public module registration settings.\n - 2010-11-22 Fixed bug#[6355](http://bugs.otrs.org/show_bug.cgi?id=6355) - $HOME/bin/otrs.LoaderCache.pl cron job unhappy with\n    files in var/httpd/htdocs/skins/Customer/.\n - 2010-11-22 Fixed bug#[6352](http://bugs.otrs.org/show_bug.cgi?id=6352) - var/cron/cache schedules nonexistent $HOME/bin/otrs.CacheDelete.pl.\n - 2010-11-22 Fixed bug#[6350](http://bugs.otrs.org/show_bug.cgi?id=6350) - Sort order in \"Auto Responses \\<-\\> Queues\".\n - 2010-11-19 Fixed bug#[6288](http://bugs.otrs.org/show_bug.cgi?id=6288) - Generating a stat that outputs to PDF or CSV opens an empty pop-up.\n - 2010-11-19 Fixed bug#[6300](http://bugs.otrs.org/show_bug.cgi?id=6300) - Revoked GPG-Keys are not shown as revoked.\n - 2010-11-19 Fixed bug#[6343](http://bugs.otrs.org/show_bug.cgi?id=6343) - CSS problem in the result list of ticket customer search.\n - 2010-11-19 Fixed bug#[6327](http://bugs.otrs.org/show_bug.cgi?id=6327) - More problems when using Session instead of Cookie.\n - 2010-11-19 Fixed bug#[6337](http://bugs.otrs.org/show_bug.cgi?id=6337) - Generic Agent has \"Delete Ticket\" as Default set -\\> risk of ticket loss!\n - 2010-11-18 Fixed bug#[6330](http://bugs.otrs.org/show_bug.cgi?id=6330) - Bad character in Polish translation.\n - 2010-11-18 Fixed bug#[6324](http://bugs.otrs.org/show_bug.cgi?id=6324) - If you use Sessions in URLs and not in cookies,\n    responding to tickets logs you out.\n - 2010-11-17 Upgraded jQuery to 1.4.4 because of a number of regressions in 1.4.3.\n - 2010-11-17 Fixed bug#[6232](http://bugs.otrs.org/show_bug.cgi?id=6232) - FreeText fields requiredness is not indicated.\n - 2010-11-17 Fixed bug#[6318](http://bugs.otrs.org/show_bug.cgi?id=6318) - Error in error log due to comparison with a value that sometimes does not exist on Customer Search.\n - 2010-11-17 Fixed bug#[6317](http://bugs.otrs.org/show_bug.cgi?id=6317) - No Pagination String in Customer Search Results.\n - 2010-11-17 Fixed bug#[6309](http://bugs.otrs.org/show_bug.cgi?id=6309) - SortBy columns performs a full ticket search on customer ticket search results.\n - 2010-11-16 Fixed bug#[6316](http://bugs.otrs.org/show_bug.cgi?id=6316) - CustomerLogo not working.\n - 2010-11-16 Fixed bug#[5797](http://bugs.otrs.org/show_bug.cgi?id=5797) - SMIME functionality does not work with OpenSSL 1.0.0.\n - 2010-11-16 Fixed bug#[6302](http://bugs.otrs.org/show_bug.cgi?id=6302) - Inbound mail password displayed in clear text during install.\n - 2010-11-16 Fixed bug#[6261](http://bugs.otrs.org/show_bug.cgi?id=6261) - Remove drop down from SysConfig start screen.\n - 2010-11-16 Fixed bug#[6294](http://bugs.otrs.org/show_bug.cgi?id=6294) - GenericAgent - Time Selection is not in columns.\n\n#3.0.2 2010-11-17\n - 2010-11-16 Fixed bug#[6278](http://bugs.otrs.org/show_bug.cgi?id=6278) - Public and Customer frontends disclose version information.\n - 2010-11-16 Fixed bug#[6297](http://bugs.otrs.org/show_bug.cgi?id=6297) - [IE8] can't open popups.\n - 2010-11-15 Fixed bug#[6290](http://bugs.otrs.org/show_bug.cgi?id=6290) - Generic Agent Weekdays are not correctly sorted.\n\n#3.0.1 2010-11-15\n - 2010-11-12 Fixed bug#[6268](http://bugs.otrs.org/show_bug.cgi?id=6268) - Error in web installer when setting up RPM on CentOS.\n - 2010-11-12 Fixed bug#[6271](http://bugs.otrs.org/show_bug.cgi?id=6271) - In IE8 customer name does not come up when\n    you create new Tickets and enter customer name.\n - 2010-11-12 Fixed bug#[6225](http://bugs.otrs.org/show_bug.cgi?id=6225) - User creation gives confusing error message when\n    email address is incorrect.\n - 2010-11-12 Fixed bug#[6266](http://bugs.otrs.org/show_bug.cgi?id=6266) - Order of TicketOverview columns in CPanel.\n - 2010-11-11 Fixed bug#[5984](http://bugs.otrs.org/show_bug.cgi?id=5984) - Attachment is lost when replying / forwarding /\n    splitting articles.\n - 2010-11-11 Fixed bug#[6222](http://bugs.otrs.org/show_bug.cgi?id=6222) - Links are not displayed completely in HTML articles.\n - 2010-11-10 Fixed bug#[6257](http://bugs.otrs.org/show_bug.cgi?id=6257) - Watched Tickets ToolBarModule does not have a shortcut defined\n    - leads to display issues.\n - 2010-11-10 Fixed bug#[6254](http://bugs.otrs.org/show_bug.cgi?id=6254) - Reloading article in ticket zoom corrupts encoding.\n - 2010-11-10 Fixed bug#[6111](http://bugs.otrs.org/show_bug.cgi?id=6111): i18n - Admin Link relation edit screens translation issues.\n - 2010-11-10 Fixed bug#[6061](http://bugs.otrs.org/show_bug.cgi?id=6061): Field size harmonization.\n - 2010-11-10 Updated zh\\_CN translation, thanks to Never Min!\n - 2010-11-09 Updated CPAN module CGI to version 3.50.\n - 2010-11-09 Fixed bug#[6251](http://bugs.otrs.org/show_bug.cgi?id=6251) - Admin Group Interface produces an error log entry.\n - 2010-11-09 Fixed bug#[5043](http://bugs.otrs.org/show_bug.cgi?id=5043) - All Tickets / Locked Tickets View in QueueView missing.\n - 2010-11-09 Fixed bug#[6238](http://bugs.otrs.org/show_bug.cgi?id=6238) - Global Overview settings are centered on the results, not on the page.\n - 2010-11-09 Fixed bug#[6071](http://bugs.otrs.org/show_bug.cgi?id=6071) - Ticket Zoom - back button does not work as expected.\n - 2010-11-09 Fixed bug#[5788](http://bugs.otrs.org/show_bug.cgi?id=5788) - IE Browser Error \"Out of memory at line: 35\".\n - 2010-11-08 Fixed bug#[6225](http://bugs.otrs.org/show_bug.cgi?id=6225) - User creation gives confusing error message when email address is incorrect.\n - 2010-11-08 Fixed bug#[6227](http://bugs.otrs.org/show_bug.cgi?id=6227) - Customer User creation gives confusing error message when email address is\n     not validated.\n - 2010-11-08 Fixed bug#[6241](http://bugs.otrs.org/show_bug.cgi?id=6241) - Need Ticket::ViewableStateType in Kernel/Config.pm.\n - 2010-11-08 Fixed bug#[6240](http://bugs.otrs.org/show_bug.cgi?id=6240) - Agent Dashboard - ticket opens only when clicking on the number.\n - 2010-11-08 Fixed bug#[5935](http://bugs.otrs.org/show_bug.cgi?id=5935) - TicketSearch Button - various improvements.\n - 2010-11-05 Fixed bug#[6113](http://bugs.otrs.org/show_bug.cgi?id=6113) - SysConfig - add a shortcut to \"Change\" button.\n - 2010-11-05 Fixed bug#[5930](http://bugs.otrs.org/show_bug.cgi?id=5930) - Optimisation in\n    Kernel::Modules::CustomerTicketOverView-\\>ShowTicketStatus.\n\n#3.0.0 beta7 2010-11-08\n - 2010-11-05 Fixed bug#[6151](http://bugs.otrs.org/show_bug.cgi?id=6151) - No visual notification when generated article in ticket views.\n - 2010-11-05 Upgraded CKEditor to 3.4.2.\n - 2010-11-05 Fixed bug#[6237](http://bugs.otrs.org/show_bug.cgi?id=6237) - Datepicker starts weeks always on Sunday.\n - 2010-11-04 Skins can now be selected based on hostname with the configuration\n    settings \"Loader::Agent::DefaultSelectedSkin::HostBased\" and\n    \"Loader::Customer::SelectedSkin::HostBased\".\n - 2010-11-04 Fixed bug#[6216](http://bugs.otrs.org/show_bug.cgi?id=6216) - Queue names with spaces not displayed correctly in ticket view.\n - 2010-11-04 Fixed bug#[6186](http://bugs.otrs.org/show_bug.cgi?id=6186) - IE9: Dashboard widget functions broken.\n - 2010-11-04 Fixed bug#[6185](http://bugs.otrs.org/show_bug.cgi?id=6185) - IE9: JS error in the Dashboard.\n - 2010-11-04 Fixed bug#[6231](http://bugs.otrs.org/show_bug.cgi?id=6231) - Link delete screen redirects to itself if the bulk checkbox is used.\n - 2010-11-04 Fixed bug#[6215](http://bugs.otrs.org/show_bug.cgi?id=6215) - Agents can't have two popups open at the same time.\n - 2010-11-04 Fixed bug#[6228](http://bugs.otrs.org/show_bug.cgi?id=6228) - No difference between prio 1, 2 and 3 in overviews.\n - 2010-11-04 Fixed bug#[5757](http://bugs.otrs.org/show_bug.cgi?id=5757) - Article table resizing does not work correctly in IE7.\n - 2010-11-04 Fixed bug#[6229](http://bugs.otrs.org/show_bug.cgi?id=6229) - Submit button for Change Customer is below the fold with large amount of history.\n - 2010-11-04 Fixed bug#[6191](http://bugs.otrs.org/show_bug.cgi?id=6191) - Dashboard filter loses context after moving to next \"bundle\".\n - 2010-11-04 Fixed bug#[6207](http://bugs.otrs.org/show_bug.cgi?id=6207) - Pagination does not work in dashboard.\n - 2010-11-04 Fixed bug#[5937](http://bugs.otrs.org/show_bug.cgi?id=5937) - Large overview data presentation issues.\n - 2010-11-04 Fixed bug#[6203](http://bugs.otrs.org/show_bug.cgi?id=6203) - Rich Text Editor - right click on misspelled words in Firefox does not work as expected.\n - 2010-11-03 Fixed bug#[4273](http://bugs.otrs.org/show_bug.cgi?id=4273) - No required fields indication in AdminUser screen.\n - 2010-11-03 Added Serbian translation, thanks to Milorad Jovanovi\u00c4\u2021!\n - 2010-11-03 Fixed bug#[6073](http://bugs.otrs.org/show_bug.cgi?id=6073) - Search window does not resize to selected content.\n - 2010-11-03 Fixed bug#[6122](http://bugs.otrs.org/show_bug.cgi?id=6122) - TicketZoom Scroller Height is calculation is broken.\n - 2010-11-03 Fixed bug#[5649](http://bugs.otrs.org/show_bug.cgi?id=5649) - Changing owner in M and S views opens in same tab instead of popup.\n - 2010-11-03 Fixed bug#[6181](http://bugs.otrs.org/show_bug.cgi?id=6181) - Customer Login box does not work if password is in browser cache.\n - 2010-11-03 Fixed bug#[6206](http://bugs.otrs.org/show_bug.cgi?id=6206) - DefineEmailFrom is not used when creating an email-ticket.\n - 2010-11-03 Fixed bug#[6156](http://bugs.otrs.org/show_bug.cgi?id=6156) - No FreeText Fields in Search.\n - 2010-11-02 Fixed bug#[6092](http://bugs.otrs.org/show_bug.cgi?id=6092) - Skins cannot be selected based on hostname.\n - 2010-11-02 Fixed bug#[5054](http://bugs.otrs.org/show_bug.cgi?id=5054) - Page titles could be more compact and informative.\n - 2010-11-02 Fixed bug#[6213](http://bugs.otrs.org/show_bug.cgi?id=6213) - If you use AgentTicketMove in a separate screen,\n    it does not open in a popup.\n - 2010-11-02 Fixed bug#[6208](http://bugs.otrs.org/show_bug.cgi?id=6208) - If ticket zoom is not fully loaded actions will\n    open in same window instead of popup.\n - 2010-11-02 Fixed bug#[6210](http://bugs.otrs.org/show_bug.cgi?id=6210) - GetUserData() function caching does not work correctly in all scenarios.\n - 2010-11-02 Fixed bug#[4565](http://bugs.otrs.org/show_bug.cgi?id=4565) - OutOfOffice information is displayed in responses and signatures.\n - 2010-11-02 Fixed bug#[6055](http://bugs.otrs.org/show_bug.cgi?id=6055) - 500 Error when closing ticket with non-original/changed customer.\n - 2010-11-02 Fixed bug#[5830](http://bugs.otrs.org/show_bug.cgi?id=5830) - Sometimes when replying on ticket getting error\n    \"Can't use an undefined value as a SCALAR reference\".\n - 2010-11-02 Fixed bug#[5296](http://bugs.otrs.org/show_bug.cgi?id=5296) - Event based notifications do not check for local mail address.\n - 2010-11-02 Fixed bug#[1639](http://bugs.otrs.org/show_bug.cgi?id=1639) - Limit search time to certain amount by default.\n - 2010-11-02 Updated CPAN module JSON to version 2.27.\n - 2010-11-02 Fixed bug#[6205](http://bugs.otrs.org/show_bug.cgi?id=6205) - DefineEmailFrom does not use SystemAddress when set to\n    Agent Name + FromSeparator + System Address Display Name.\n - 2010-11-02 Fixed bug#[6162](http://bugs.otrs.org/show_bug.cgi?id=6162) - When you close a search before complete load,\n    it will be reopened automatically.\n - 2010-11-02 Fixed bug#[6060](http://bugs.otrs.org/show_bug.cgi?id=6060) - IE7 customer management in a popup breaks ticket creation page.\n - 2010-11-02 Fixed bug#[6204](http://bugs.otrs.org/show_bug.cgi?id=6204) - Autocomplete of customer users shows encoding characters.\n - 2010-11-02 Fixed bug#[6201](http://bugs.otrs.org/show_bug.cgi?id=6201) - Not able to save FreeText fields if TimeInput it set to required.\n - 2010-11-01 Fixed bug#[6137](http://bugs.otrs.org/show_bug.cgi?id=6137) - Split action does not create a link to the original ticket.\n - 2010-10-29 Fixed bug#[6163](http://bugs.otrs.org/show_bug.cgi?id=6163) - In Phone Ticket you can't attach files automatically after choosing a customer.\n - 2010-10-29 Fixed bug#[5917](http://bugs.otrs.org/show_bug.cgi?id=5917) - Thirdparty [Firefox]: Search freezes after deleting one field from profile.\n - 2010-10-29 Fixed bug#[5989](http://bugs.otrs.org/show_bug.cgi?id=5989) - Thirdparty [ckeditor?]: Using address book in reply window breaks the message body text box.\n - 2010-10-29 Updated Russian translation, thanks to Eugene Kungurov!\n - 2010-10-29 Fixed bug#[6184](http://bugs.otrs.org/show_bug.cgi?id=6184) - Streamline required field error messages.\n - 2010-10-28 Fixed bug#[5657](http://bugs.otrs.org/show_bug.cgi?id=5657) - In Global Ticket Overview, sorting for Prio is missing.\n - 2010-10-28 Fixed bug#[6141](http://bugs.otrs.org/show_bug.cgi?id=6141) - Sysconfig Address Book disable.\n - 2010-10-28 Upgraded CKEditor to 3.4.1.\n - 2010-10-27 Fixed bug#[6082](http://bugs.otrs.org/show_bug.cgi?id=6082) - Graph selections appear even if GD is not installed.\n - 2010-10-27 Fixed bug#[6059](http://bugs.otrs.org/show_bug.cgi?id=6059) - Customer name with quotes is truncated.\n - 2010-10-27 Fixed bug#[6094](http://bugs.otrs.org/show_bug.cgi?id=6094) - Responses in ticket view don't match.\n - 2010-10-27 Fixed bug#[6116](http://bugs.otrs.org/show_bug.cgi?id=6116) - ZoomExpand preference works inverted for articles.\n - 2010-10-27 Fixed bug#[6125](http://bugs.otrs.org/show_bug.cgi?id=6125) - Customer IDs with underscores do not work properly.\n - 2010-10-27 Fixed bug#[5637](http://bugs.otrs.org/show_bug.cgi?id=5637) - In Phone Ticket -\\> Create a new customer via Popup,\n    it's not possible to take over the recent created customer.\n    Only a link to create a new ticket appears.\n - 2010-10-26 Fixed bug#[6076](http://bugs.otrs.org/show_bug.cgi?id=6076) - Bulk unlock does not work correctly.\n - 2010-10-26 Fixed bug#[6163](http://bugs.otrs.org/show_bug.cgi?id=6163) - In Phone Ticket you can't attach files automatically after choosing a customer.\n - 2010-10-26 Fixed bug#[6114](http://bugs.otrs.org/show_bug.cgi?id=6114) - Percentage sign in Customers \\<-\\> Services interface when using\n    Dutch translation.\n - 2010-10-25 Fixed bug#[6160](http://bugs.otrs.org/show_bug.cgi?id=6160) - ServiceList function breaks if you have service names with\n    special characters like ? ? ? or + + +.\n - 2010-10-25 Fixed bug#[6118](http://bugs.otrs.org/show_bug.cgi?id=6118) - The \"Small\", \"Medium\" and \"Large\" Queue views are broken if no\n    data is found.\n\n#3.0.0 beta6 2010-10-25\n - 2010-10-22 Fixed bug#[6150](http://bugs.otrs.org/show_bug.cgi?id=6150) - Spell checker should not be enabled by default.\n - 2010-10-22 Fixed bug#[6149](http://bugs.otrs.org/show_bug.cgi?id=6149) - New users get Ivory skin when created by admin using non-english language.\n - 2010-10-22 Updated CPAN module Text::CSV to version 1.20.\n - 2010-10-21 Fixed bug#[6089](http://bugs.otrs.org/show_bug.cgi?id=6089) - Close Window in Statistics doesn't work.\n - 2010-10-20 Fixed bug#[6132](http://bugs.otrs.org/show_bug.cgi?id=6132) - Wrong caching in RoleLookup function in Kernel/System/Group.pm.\n - 2010-10-19 Fixed bug#[6124](http://bugs.otrs.org/show_bug.cgi?id=6124) - Wrong caching in GroupLookup function in Kernel/System/Group.pm.\n - 2010-10-19 Fixed bug#[6127](http://bugs.otrs.org/show_bug.cgi?id=6127) - External function to create validation rules fails in Firefox on Ubuntu Linux.\n - 2010-10-19 Updated CPAN module Net::POP3::SSLWrapper to version 0.05.\n - 2010-10-19 Updated CPAN module Net::IMAP::Simple to version 1.2017.\n - 2010-10-19 Updated CPAN module MailTools to version 2.07.\n - 2010-10-19 Updated CPAN module JSON to version 2.26.\n - 2010-10-19 Updated CPAN module Apache::Reload to version 0.11.\n - 2010-10-18 Fixed bug#[6117](http://bugs.otrs.org/show_bug.cgi?id=6117) - Find method in VirtualFS is not able to find a file\n    by Filename and Preferences\n - 2010-10-17 Fixed bug#[6090](http://bugs.otrs.org/show_bug.cgi?id=6090) - Accounted Time is not displayed in articles if\n    Ticket::ZoomTimeDisplay is set to 'yes'.\n - 2010-10-17 Fixed bug#[6112](http://bugs.otrs.org/show_bug.cgi?id=6112) - Database IDs displayed in Admin GUI.\n - 2010-10-17 Fixed bug#[6110](http://bugs.otrs.org/show_bug.cgi?id=6110) - AdminCustomerUserGroup lists non-existing group 'info'.\n - 2010-10-17 Fixed bug#[6109](http://bugs.otrs.org/show_bug.cgi?id=6109) - '0' is not recognized as a valid input for TimeUnits.\n - 2010-10-12 Fixed bug#[6058](http://bugs.otrs.org/show_bug.cgi?id=6058) - Keyboard shortcuts should be shown via tooltip.\n - 2010-10-12 Added ability to open ticket history and other ticket actions\n    in parallel.\n - 2010-10-12 Fixed bug#[6047](http://bugs.otrs.org/show_bug.cgi?id=6047) - Secure::DisableBanner does not work.\n - 2010-10-11 Fixed bug#[6079](http://bugs.otrs.org/show_bug.cgi?id=6079) - Unread tickets does mark as readed only second time.\n - 2010-10-11 Fixed bug#[5921](http://bugs.otrs.org/show_bug.cgi?id=5921) - RedHat rc script does not ignore \".save\" files\n    when rebuilding the cron jobs.\n - 2010-10-11 Fixed bug#[6040](http://bugs.otrs.org/show_bug.cgi?id=6040) - Remove ReplyAll option if possible.\n - 2010-10-07 Fixed bug#[5994](http://bugs.otrs.org/show_bug.cgi?id=5994) - Creating new statistic, field validation kicks in immediately.\n - 2010-10-07 Fixed bug#[5975](http://bugs.otrs.org/show_bug.cgi?id=5975) - Notifications (event-based) to external email\n    address are visible to customers.\n\n#3.0.0 beta5 2010-10-11\n - 2010-10-04 Fixed bug#[6064](http://bugs.otrs.org/show_bug.cgi?id=6064) - Predefined responses does not work.\n - 2010-10-01 Big improvements to TicketZoom rendering performance.\n - 2010-09-30 Fixed bug#[6054](http://bugs.otrs.org/show_bug.cgi?id=6054) - The default services are not loaded when creating a new ticket.\n - 2010-09-30 Fixed bug#[5911](http://bugs.otrs.org/show_bug.cgi?id=5911) - Enhance menu behavior.\n    The submenus in the agent main menu open on click by default. With the new\n    config \"OpenMainMenuOnHover\" setting it can be specified that they should\n    also open on mouse hover.\n - 2010-09-30 Updated Ukrainian translation file, thanks to \u00d0\u2018\u00d0\u00b5\u00d0\u00bb\u00d1\u0152\u00d1?\u00d0\u00ba\u00d0\u00b8\u00d0\u00b9 \u00d0?\u00d1\u20ac\u00d1\u201a\u00d0\u00b5\u00d0\u00bc!\n - 2010-09-30 Fixed bug#[5979](http://bugs.otrs.org/show_bug.cgi?id=5979) - IE8 - articles for a ticket doesn't switch\n - 2010-09-29 Fixed bug#[6017](http://bugs.otrs.org/show_bug.cgi?id=6017) - QueueLookup function returns wrong QueueID if a\n    queue name was updated.\n - 2010-09-29 Fixed bug#[6019](http://bugs.otrs.org/show_bug.cgi?id=6019) - Choosing a search template does nothing.\n - 2010-09-29 Fixed bug#[6033](http://bugs.otrs.org/show_bug.cgi?id=6033) - Too many toolbar icons shown by default.\n    Toolbar shortcuts are not shown by default.\n    Toolbar items for tickets (such as locked tickets) are only shown if\n    they have active tickets.\n - 2010-09-29 Fixed bug#[6032](http://bugs.otrs.org/show_bug.cgi?id=6032) - Customer History context settings not working.\n - 2010-09-28 Fixed bug#[6021](http://bugs.otrs.org/show_bug.cgi?id=6021) - Ticket Types are still displayed if they're invalid.\n - 2010-09-28 Fixed bug#[4732](http://bugs.otrs.org/show_bug.cgi?id=4732) - Mysql table index not used when LOWER()\n    is used in queries for customer\\_user.login. There is now a new flag CaseSensitive\n    in the customer DB settings. Setting this to 1 will improve performance\n    dramatically on large databases.\n - 2010-09-24 Fixed bug#[6007](http://bugs.otrs.org/show_bug.cgi?id=6007) - Free field content not saved.\n\n#3.0.0 beta4 2010-09-27\n - 2010-09-24 Updated Russian translation file, thanks to Eugene Kungurov!\n - 2010-09-24 Fixed bug#[5655](http://bugs.otrs.org/show_bug.cgi?id=5655) - In Article Zoom, after a new article got created\n    and page reloads, new article is shown as new. It's confusing.\n - 2010-09-24 Fixed bug#[5848](http://bugs.otrs.org/show_bug.cgi?id=5848) - Wrong characters in Czech language.\n - 2010-09-24 Updated Czech translation file, thanks to Pavel!\n - 2010-09-24 Fixed bug#[5962](http://bugs.otrs.org/show_bug.cgi?id=5962) - ToolBarModule and TicketSearchProfile, management\n    of search profiles is not working correctly.\n - 2010-09-23 Fixed bug#[5950](http://bugs.otrs.org/show_bug.cgi?id=5950) - Customer History not shown in Change Customer View.\n - 2010-09-23 Changed ResponseFormat to TOFU (what people expect).\n - 2010-09-23 Fixed bug#[3515](http://bugs.otrs.org/show_bug.cgi?id=3515) - AgentTicketMove standard \"Note\" and \"Subject\" cannot be configured.\n - 2010-09-23 Fixed bug#[5965](http://bugs.otrs.org/show_bug.cgi?id=5965) - AgentTicketMove does not support setting of \"Note\" and \"Subject\".\n - 2010-09-23 Fixed bug#[5999](http://bugs.otrs.org/show_bug.cgi?id=5999) - Undefined variables generate warning in CustomerTicketMessage.\n - 2010-09-23 Fixed bug#[5980](http://bugs.otrs.org/show_bug.cgi?id=5980) - Free fields are not properly aligned.\n - 2010-09-23 Fixed bug#[5983](http://bugs.otrs.org/show_bug.cgi?id=5983) - Outlook inline image is displayed in attachment list.\n - 2010-09-23 Fixed bug#[5849](http://bugs.otrs.org/show_bug.cgi?id=5849) - Headline / Company Name is hardcoded in the DTL of the customer interface.\n - 2010-09-23 Fixed bug#[5988](http://bugs.otrs.org/show_bug.cgi?id=5988) - ActionRow in customer interface displays incorrectly\n    when zoomed, in Firefox/Webkit browser\n - 2010-09-23 Fixed bug#[5995](http://bugs.otrs.org/show_bug.cgi?id=5995) - Pagination in Customer Interface does not work.\n - 2010-09-23 Fixed bug#[5982](http://bugs.otrs.org/show_bug.cgi?id=5982) - Email address does not render properly if it\n    contains braces.\n - 2010-09-23 Fixed bug#[5987](http://bugs.otrs.org/show_bug.cgi?id=5987) - No column titles for ticket list in customer interface.\n    This can now be configured with the config setting\n    \"Ticket::Frontend::CustomerTicketOverviewSortable\".\n - 2010-09-22 Fixed bug#[5964](http://bugs.otrs.org/show_bug.cgi?id=5964) - The given param 'klant@ykoon.xx' in 'WatchUserIDs' is\n    invalid in customer panel!\n - 2010-09-22 Fixed bug#[5956](http://bugs.otrs.org/show_bug.cgi?id=5956) - Arrows to expand/collapse Support Module details point\n    in the wrong direction.\n - 2010-09-22 Fixed bug#[5976](http://bugs.otrs.org/show_bug.cgi?id=5976) - Admin Notification (event) text box runs outside the screen.\n - 2010-09-22 Fixed bug#[5959](http://bugs.otrs.org/show_bug.cgi?id=5959) - Agent gets \"Invalid argument\" JavaScript Error in Ticket Zoom.\n - 2010-09-21 Fixed bug#[5970](http://bugs.otrs.org/show_bug.cgi?id=5970) - Wrong orientation of expand / collapse arrows.\n - 2010-09-20 Fixed bug#[5707](http://bugs.otrs.org/show_bug.cgi?id=5707) - Web Installer Mail Configuration does not list all SMTP backends/options.\n - 2010-09-15 Fixed bug#[5948](http://bugs.otrs.org/show_bug.cgi?id=5948) - Address Book will not open for ticket forwarding.\n - 2010-09-15 Fixed bug#[5943](http://bugs.otrs.org/show_bug.cgi?id=5943) - Customer Link behaviour in ZoomView.\n - 2010-09-13 Fixed bug#[5649](http://bugs.otrs.org/show_bug.cgi?id=5649) - Changing owner from L view opens in same tab instead of popup.\n - 2010-09-13 Fixed bug#[5929](http://bugs.otrs.org/show_bug.cgi?id=5929) - CheckURLHash();get's called every 500ms - generates\n    not needed load.\n\n#3.0.0 beta3 2010-09-13\n - 2010-09-10 Fixed bug#[5525](http://bugs.otrs.org/show_bug.cgi?id=5525) - If submit button is clicked repeatedly two or more tickets\n    can be created instead of one.\n - 2010-09-10 Fixed bug#[5923](http://bugs.otrs.org/show_bug.cgi?id=5923) - Can't set pending date to today but few hours later.\n - 2010-09-10 Fixed bug#[5913](http://bugs.otrs.org/show_bug.cgi?id=5913) - Time field of adminlog has to be bigger.\n - 2010-09-09 Fixed bug#[5916](http://bugs.otrs.org/show_bug.cgi?id=5916) - Used search fields are not removed from the\n    available search fields list.\n - 2010-09-09 Fixed bug#[5866](http://bugs.otrs.org/show_bug.cgi?id=5866) - AutoLoginCreation does not work.\n - 2010-09-09 Fixed bug#[5674](http://bugs.otrs.org/show_bug.cgi?id=5674) - Attachment name and size are not displayed in\n    attachment column in ticket zoom article table.\n - 2010-09-09 Fixed bug#[5902](http://bugs.otrs.org/show_bug.cgi?id=5902) - Long text overflow in infobox is not cut or wrapped.\n - 2010-09-09 Fixed bug#[5900](http://bugs.otrs.org/show_bug.cgi?id=5900) - ~otrs/bin/otrs.DeleteCache.pl should also delete the\n    minified JS cache.\n - 2010-09-08 Fixed bug#[5665](http://bugs.otrs.org/show_bug.cgi?id=5665) - In Admin-Customer Management, required fields are not shown but\n    validation is working.\n - 2010-09-08 Fixed bug#[5881](http://bugs.otrs.org/show_bug.cgi?id=5881) - ArticleDialog does not show last article description\n    fully.\n - 2010-09-08 Fixed bug#[5846](http://bugs.otrs.org/show_bug.cgi?id=5846) - Missing error message if tickets pending time gets\n    set to an invalid time.\n - 2010-09-08 Fixed bug#[5651](http://bugs.otrs.org/show_bug.cgi?id=5651) - Spellcheck can't be disabled.\n - 2010-09-08 Updated Danish translation file, thanks to Mads N\u00ef\u00bf\u00bdshauge Vestergaard!\n - 2010-09-08 Fixed bug#[5668](http://bugs.otrs.org/show_bug.cgi?id=5668) - Dashboard Widgets \"Agents Online\" shows pagination\n   links even if no pagination is needed.\n - 2010-09-08 Fixed bug#[5882](http://bugs.otrs.org/show_bug.cgi?id=5882) - ArticleBox 'Direction' is not implemented.\n - 2010-09-03 Fixed bug#[5779](http://bugs.otrs.org/show_bug.cgi?id=5779) - Mandatory FreeTime fields are not validated.\n - 2010-09-03 Fixed bug#[5811](http://bugs.otrs.org/show_bug.cgi?id=5811) - Customer Interface account creation error handling\n    does not work correctly.\n - 2010-09-07 Fixed bug#[5861](http://bugs.otrs.org/show_bug.cgi?id=5861) - Dashboard: CacheTTL for Stats breaks the generation of the chart.\n - 2010-09-07 Fixed bug#[5886](http://bugs.otrs.org/show_bug.cgi?id=5886) - Forwarding rich text tickets adds extra attachment.\n - 2010-09-07 Fixed bug#[5885](http://bugs.otrs.org/show_bug.cgi?id=5885) - Forwarding an article adds string to subject.\n - 2010-09-07 Fixed bug#[5024](http://bugs.otrs.org/show_bug.cgi?id=5024) - Adding a new ticket-priority results in a PriorityID-\\<new ID\\> tag\n    from the layout engine in the generated HTML wo/ matching CSS class.\n - 2010-09-07 Fixed bug#[5884](http://bugs.otrs.org/show_bug.cgi?id=5884) - For CSV and Print (PDF) search results the search window does not auto close.\n - 2010-09-06 Fixed bug#[5887](http://bugs.otrs.org/show_bug.cgi?id=5887) - The size of the widget in the import statistic is too small for the input file.\n - 2010-09-06 Fixed bug#[5877](http://bugs.otrs.org/show_bug.cgi?id=5877) - No screen refresh when linking tickets.\n - 2010-09-06 Fixed bug#[4411](http://bugs.otrs.org/show_bug.cgi?id=4411) - CustomerTicket plain print (PDF=off) shows wrong URLs.\n - 2010-09-06 Fixed bug#[3521](http://bugs.otrs.org/show_bug.cgi?id=3521) - Error messages from password regex rules are\n    truncated at comma which should't be there.\n - 2010-09-06 Fixed bug#[5875](http://bugs.otrs.org/show_bug.cgi?id=5875) - Customer ticket print view has too much information.\n - 2010-09-06 Fixed bug#[5867](http://bugs.otrs.org/show_bug.cgi?id=5867) - Navigation bar does not obey click path.\n - 2010-09-06 Fixed bug#[5871](http://bugs.otrs.org/show_bug.cgi?id=5871) - Ticket information in dashboard is not properly aligned.\n - 2010-09-06 Fixed bug#[5876](http://bugs.otrs.org/show_bug.cgi?id=5876) - Chinese UI issue.\n - 2010-09-03 Fixed bug#[5873](http://bugs.otrs.org/show_bug.cgi?id=5873) - Permissions fields are displaced in the EditSpecification of a Stat.\n - 2010-09-03 Fixed bug#[5812](http://bugs.otrs.org/show_bug.cgi?id=5812) - Customer Interface Password Sent dialog could be less confusing.\n - 2010-09-03 Fixed bug#[5870](http://bugs.otrs.org/show_bug.cgi?id=5870) - Login boxes in Customer Interface are too small.\n - 2010-09-03 Fixed bug#[5811](http://bugs.otrs.org/show_bug.cgi?id=5811) - Customer Interface account creation error handling\n    does not work correctly.\n - 2010-09-03 Fixed bug#[5632](http://bugs.otrs.org/show_bug.cgi?id=5632) - New Ticket Search Dialog takes about 3 Seconds to load, 3 seconds\n    with no feedback. User Experience need to get improved. Faster load of the dialog.\n - 2010-09-03 Fixed bug#[5789](http://bugs.otrs.org/show_bug.cgi?id=5789) - Use of uninitialized value $\\_ in Kernel/System/CustomerUser/LDAP.pm.\n - 2010-09-03 Fixed bug#[5691](http://bugs.otrs.org/show_bug.cgi?id=5691) - Not possbible for a package to modify a file\n    that belongs to another package.\n - 2010-09-02 Fixed bug#[5860](http://bugs.otrs.org/show_bug.cgi?id=5860) - Tooltips are not displayed correct in Customer\n    interface.\n - 2010-09-02 Fixed bug#[5811](http://bugs.otrs.org/show_bug.cgi?id=5811) - Customer Interface account creation error\n    handling does not work correctly.\n - 2010-09-02 Fixed bug#[5818](http://bugs.otrs.org/show_bug.cgi?id=5818) - Standard height of the article list.\n - 2010-09-02 Fixed bug#[5693](http://bugs.otrs.org/show_bug.cgi?id=5693) - Error messages appearing during mysql tables\n    migration.\n - 2010-09-02 Fixed bug#[5802](http://bugs.otrs.org/show_bug.cgi?id=5802) - OTRS 3.0.0 beta 2 doesn't install default packages\n    on login.\n - 2010-09-02 Fixed bug#[5780](http://bugs.otrs.org/show_bug.cgi?id=5780) - Have to resize window when replying on ticket.\n - 2010-09-02 Fixed bug#[5638](http://bugs.otrs.org/show_bug.cgi?id=5638) - Strange labels/buttons in TicketSearch \"Create New  Delete\".\n - 2010-09-02 Fixed bug#[5629](http://bugs.otrs.org/show_bug.cgi?id=5629) - Search Dialog of new Ticket Search Feature is not working with IE7.\n - 2010-09-02 Fixed bug#[5582](http://bugs.otrs.org/show_bug.cgi?id=5582) - Ticket::Frontend::MergeText and special carachters.\n - 2010-09-01 Fixed bug#[5851](http://bugs.otrs.org/show_bug.cgi?id=5851) - 3 AJAX refresh indicators are shown at the top of the AgentTicketPhone page.\n - 2010-09-01 Fixed bug#[5835](http://bugs.otrs.org/show_bug.cgi?id=5835) - Client side validation without JavaScript broken in\n    customer interface.\n - 2010-09-01 Fixed bug#[5816](http://bugs.otrs.org/show_bug.cgi?id=5816) - SysConfig HighlightAge, wrong limits and handling.\n - 2010-09-01 Fixed bug#[5747](http://bugs.otrs.org/show_bug.cgi?id=5747) - Too much whitespace in popups.\n - 2010-09-01 Fixed bug#[5801](http://bugs.otrs.org/show_bug.cgi?id=5801) - Article action \"Bounce article\" gives error message.\n - 2010-09-01 Fixed bug#[5813](http://bugs.otrs.org/show_bug.cgi?id=5813) - Attachments of Tickets could not be loaded,\n    caused by an (for IIS) invalid URL.\n - 2010-09-01 Fixed bug#[4423](http://bugs.otrs.org/show_bug.cgi?id=4423) - Hard coded CSS-Path in DTL templates.\n - 2010-09-01 Fixed bug#[5844](http://bugs.otrs.org/show_bug.cgi?id=5844) - Missing AJAX refresh indicator in the selection lists.\n - 2010-08-31 Fixed bug#[5729](http://bugs.otrs.org/show_bug.cgi?id=5729) - In Database creation or delete from Installer.pl the green colored word\n    \"Done\" higher that the rest of the line.\n - 2010-08-31 Fixed bug#[5751](http://bugs.otrs.org/show_bug.cgi?id=5751) - TicketZoom Scroller Height is incorrectly calculated in Opera 10.61 Browser.\n - 2010-08-31 Fixed bug#[5809](http://bugs.otrs.org/show_bug.cgi?id=5809) - SLA should be Service Level Agreement.\n - 2010-08-31 Fixed bug#[2671](http://bugs.otrs.org/show_bug.cgi?id=2671) - Postmaster filter creation does not require a name.\n - 2010-08-31 Fixed bug#[5838](http://bugs.otrs.org/show_bug.cgi?id=5838) - Dialogs are not shown correctly in IE7.\n - 2010-08-31 Fixed bug#[5837](http://bugs.otrs.org/show_bug.cgi?id=5837) - Tooltips have transparent background in IE7.\n - 2010-08-31 Fixed bug#[5714](http://bugs.otrs.org/show_bug.cgi?id=5714) - Selecting a customer in AgentTicketEmail/Phone\n    changes \"Priority\" and \"Next ticket state\" selections.\n - 2010-08-31 Fixed bug#[5791](http://bugs.otrs.org/show_bug.cgi?id=5791) - When creating a new ticket,\n    changing the queue will change the priority and state.\n - 2010-08-30 Fixed bug#[5794](http://bugs.otrs.org/show_bug.cgi?id=5794) - Error when using Customer link when creating new ticket.\n - 2010-08-30 Fixed bug#[5807](http://bugs.otrs.org/show_bug.cgi?id=5807) - New mail account default state is \"Invalid\".\n - 2010-08-30 Fixed bug#[5824](http://bugs.otrs.org/show_bug.cgi?id=5824) - \"Cancel & close window\" link do nothing on Bulk operation at Tickets Status.\n - 2010-08-30 Fixed bug#[5829](http://bugs.otrs.org/show_bug.cgi?id=5829) - The body of the most recent article is not shown in the CustomerTicketZoom.\n - 2010-08-30 Fixed bug#[5800](http://bugs.otrs.org/show_bug.cgi?id=5800) - Ticket response drop down.\n - 2010-08-30 Fixed bug#[5765](http://bugs.otrs.org/show_bug.cgi?id=5765) - reply buttons in queue view produce perl error.\n - 2010-08-30 Updated Chinese translation file, thanks to Never Min!\n - 2010-08-30 Fixed bug#[5743](http://bugs.otrs.org/show_bug.cgi?id=5743) - Popup blocker should be detected.\n - 2010-08-30 Fixed bug#[5786](http://bugs.otrs.org/show_bug.cgi?id=5786) - -Reply- dropdown menu not reverting to initial state then closing reply\n    window.\n - 2010-08-27 Fixed bug#[5833](http://bugs.otrs.org/show_bug.cgi?id=5833) - The text \"Attachment\" is above the paper-clip icon in the CustomerTicketZoom.\n - 2010-08-27 Fixed bug#[5831](http://bugs.otrs.org/show_bug.cgi?id=5831) - English language typo: \"doesn't exists\" should\n    be \"doesn't exist\".\n - 2010-08-27 Updated Polish translation file, thanks to Janek Rumianek!\n - 2010-08-25 Fixed bug#[5805](http://bugs.otrs.org/show_bug.cgi?id=5805) - Customer interface: creation of a new ticket\n    requires two clicks on the submit button.\n - 2010-08-26 Fixed bug#[5819](http://bugs.otrs.org/show_bug.cgi?id=5819) - Queue-View on size \"S\" is missing  the link to size \"L\".\n - 2010-08-26 Fixed bug#[5821](http://bugs.otrs.org/show_bug.cgi?id=5821) - SysConfig CSSLoader description is displayed incorrectly.\n - 2010-08-25 Fixed bug#[5795](http://bugs.otrs.org/show_bug.cgi?id=5795) - Some .pl files in bin directory fails to load\n    modules from  Kernel/cpan-lib.\n - 2010-08-25 Fixed bug#[5817](http://bugs.otrs.org/show_bug.cgi?id=5817) Button to adjust the article-list-size contains a link on IE 8.0.\n - 2010-08-25 Fixed bug#[5805](http://bugs.otrs.org/show_bug.cgi?id=5805) - Customer interface: creation of a new ticket\n    requires two clicks on the submit button.\n - 2010-08-25 Fixed bug#[5820](http://bugs.otrs.org/show_bug.cgi?id=5820) - Ticket owner get no email reminder reached\n    notification if ticket is unlocked and owner is not subscribed to queue.\n - 2010-08-25 Fixed bug#[5815](http://bugs.otrs.org/show_bug.cgi?id=5815) - Customer interface field validation takes place before submitting.\n - 2010-08-25 Fixed bug#[5808](http://bugs.otrs.org/show_bug.cgi?id=5808) - Generic Agent does not display job info.\n - 2010-08-24 Applied change suggested in bug#[5733](http://bugs.otrs.org/show_bug.cgi?id=5733). $Text should be dereferenced while counting its length.\n - 2010-08-24 Fixed bug#[5806](http://bugs.otrs.org/show_bug.cgi?id=5806) - Default services aren't checked in AdminCustomerUserService.\n - 2010-08-24 Fixed bug#[5803](http://bugs.otrs.org/show_bug.cgi?id=5803) - TimeInputFormat \"Input\" generates CSS errors.\n\n#3.0.0 beta2 2010-08-23\n - 2010-08-21 Fixed bug#[5697](http://bugs.otrs.org/show_bug.cgi?id=5697) - IMAP Connector Failing in IMAP mode, IMAPS is working.\n - 2010-08-21 Fixed bug#[5766](http://bugs.otrs.org/show_bug.cgi?id=5766) - Complex LinkObject Table is broken when more\n    than one kind of object is linked.\n - 2010-08-20 Fixed bug#[5784](http://bugs.otrs.org/show_bug.cgi?id=5784) - Core.AJAX.js fails if if called without callback\n    parameter and also exception handler breaks.\n - 2010-08-20 Fixed bug#[5783](http://bugs.otrs.org/show_bug.cgi?id=5783) - Warning: Ticket locked! message when replying to\n    unlocked ticket.\n - 2010-08-20 Updated database diagram to reflect changes in OTRS 3.\n - 2010-08-19 Fixed bug#[5768](http://bugs.otrs.org/show_bug.cgi?id=5768) - No tickets shown at customer interface if no open\n    tickets exist.\n - 2010-08-19 Fixed bug#[5639](http://bugs.otrs.org/show_bug.cgi?id=5639) - Global Overview: No action when clicking a row in\n    S/M/L view mode.\n - 2010-08-19 Fixed bug#[5728](http://bugs.otrs.org/show_bug.cgi?id=5728) - Ticket history shows wrong date and time for agent\n    actions \"createtime\" (actually shows user creation date).\n - 2010-08-19 Fixed bug#[5727](http://bugs.otrs.org/show_bug.cgi?id=5727) - Ticket search results are not sortable.\n - 2010-08-19 Fixed bug#[5611](http://bugs.otrs.org/show_bug.cgi?id=5611) - Company Button has the same function as Tickets Button.\n - 2010-08-19 Fixed bug#[5760](http://bugs.otrs.org/show_bug.cgi?id=5760) - Adding a new ticket in the customer interface\n    can result in 2 tickets.\n - 2010-08-19 Fixed bug#[5722](http://bugs.otrs.org/show_bug.cgi?id=5722) - Customer interface does not display error messages\n    when creating a ticket.\n - 2010-08-18 Fixed bug#[5662](http://bugs.otrs.org/show_bug.cgi?id=5662) - In Global Ticket Overview, in L-Mode, template\n    support is missing in \"Reply\" feature.\n - 2010-08-18 Fixed bug#[5764](http://bugs.otrs.org/show_bug.cgi?id=5764) - No move option in S/M/L mode available.\n - 2010-08-18 Fixed bug#[5725](http://bugs.otrs.org/show_bug.cgi?id=5725) - Missing labels for search-terms in customer interface.\n - 2010-08-17 Fixed bug#[5598](http://bugs.otrs.org/show_bug.cgi?id=5598) - Address Book To: field does is not populated.\n - 2010-08-17 Fixed bug#[5679](http://bugs.otrs.org/show_bug.cgi?id=5679) - In \"New Ticket\" in customer interface,\n    selecting the queue automatically submits the ticket.\n - 2010-08-17 Fixed bug#[5724](http://bugs.otrs.org/show_bug.cgi?id=5724) - Security leak: Edit HTML source code as customer.\n - 2010-08-17 Fixed bug#[5682](http://bugs.otrs.org/show_bug.cgi?id=5682) - Collapse / expand for GenericAgent.\n - 2010-08-17 Fixed bug#[5370](http://bugs.otrs.org/show_bug.cgi?id=5370) - The word \"subscribe\" should be changed to \"watch\".\n - 2010-08-17 Fixed bug#[5742](http://bugs.otrs.org/show_bug.cgi?id=5742) - Outgoing email link detection does not work properly.\n - 2010-08-13 Fixed bug#[5660](http://bugs.otrs.org/show_bug.cgi?id=5660) - In Global Ticket Overview, with IE7: S/M/L, character\n    is not clickable, only hover area is clickable, fixed changing images for S/M/L letters.\n - 2010-08-12 Fixed bug#[5648](http://bugs.otrs.org/show_bug.cgi?id=5648) - Submitting a note does not work as expected in all scenarios.\n - 2010-08-12 Fixed bug#[5654](http://bugs.otrs.org/show_bug.cgi?id=5654) - Missing shortcut icon (product.ico).\n - 2010-08-12 Fixed bug#[5643](http://bugs.otrs.org/show_bug.cgi?id=5643) - Articles are sorted alphabetically in TicketZoom.\n - 2010-08-12 Fixed bug#[5613](http://bugs.otrs.org/show_bug.cgi?id=5613) - WYSIWYG Editor not in center position.\n - 2010-08-12 Fixed bug#[5612](http://bugs.otrs.org/show_bug.cgi?id=5612) - Change free text fields not working correct in Firefox.\n - 2010-08-11 Fixed bug#[5652](http://bugs.otrs.org/show_bug.cgi?id=5652) - Can't select Service and SLA when creating new\n     tickets.\n - 2010-08-11 Fixed bug#[5669](http://bugs.otrs.org/show_bug.cgi?id=5669) - The customer panel login shows \"Request new password\"\n     on FF 3.5.\n - 2010-08-11 Fixed bug#[5689](http://bugs.otrs.org/show_bug.cgi?id=5689) - The body of the response message is incomplete.\n - 2010-08-11 Fixed bug#[5650](http://bugs.otrs.org/show_bug.cgi?id=5650) - Height of the article list is not retained.\n - 2010-08-11 Fixed bug#[5684](http://bugs.otrs.org/show_bug.cgi?id=5684) - Drag&Drop in agent dashboard is not working\n    with IE7.\n - 2010-08-10 Fixed bug#[5579](http://bugs.otrs.org/show_bug.cgi?id=5579) - Spaces in filenames are converted to + characters\n    when downloading in IE.\n - 2010-08-10 Fixed bug#[5701](http://bugs.otrs.org/show_bug.cgi?id=5701) - Tarball includes empty directories.\n - 2010-08-10 Fixed bug#[5255](http://bugs.otrs.org/show_bug.cgi?id=5255) - Accessibility: \"ALL\" link when selecting an owner\n - 2010-08-10 Fixed bug#[5694](http://bugs.otrs.org/show_bug.cgi?id=5694) - Images in web based installer are not displayed\n    when performing installation from source.\n - 2010-08-09 Fixed bug#[5661](http://bugs.otrs.org/show_bug.cgi?id=5661) - In Global Ticket Overview, with IE7 and L-Mode,\n    Hover of first Ticket overlaps Action Row Area.\n - 2010-08-09 Fixed bug#[5633](http://bugs.otrs.org/show_bug.cgi?id=5633) - Customer user information is not shown in\n    ticket zoom if it was set by AgentTicketCustomer.\n - 2010-08-06 Fixed bug#[5676](http://bugs.otrs.org/show_bug.cgi?id=5676) - Ticket Free Time selection in customer panel is\n    broken, because wrong \"for\" statement inside Label.\n - 2010-08-06 Fixed bug#[5691](http://bugs.otrs.org/show_bug.cgi?id=5691) - Not possbible for a package to modify a file\n    that belongs to another package.\n - 2010-08-06 Fixed bug#[5690](http://bugs.otrs.org/show_bug.cgi?id=5690) - In AgentTicketZoom, \"reset filter\" is not\n    taken over for next login.\n - 2010-08-06 Fixed bug#[5659](http://bugs.otrs.org/show_bug.cgi?id=5659) - In Global Ticket Overview, Small View,\n    \"FROM/SUBJECT\" is problematically to read. now it reads \"FROM / SUBJECT\".\n - 2010-08-06 Fixed bug#[5628](http://bugs.otrs.org/show_bug.cgi?id=5628) - In new Ticket Search, the attribute\n    TicketCreateTime, wording is wrong + Checkbox is not longer needed.\n - 2010-08-06 Fixed bug#[5645](http://bugs.otrs.org/show_bug.cgi?id=5645) - Changing the ticket search options does not\n    work.\n - 2010-08-06 Fixed bug#[5627](http://bugs.otrs.org/show_bug.cgi?id=5627) - \"Fulltext\" attribute in new ticket search\n    feature is missing for initial use.\n - 2010-08-06 Fixed bug#[5663](http://bugs.otrs.org/show_bug.cgi?id=5663) - In Global Ticket Overview, in M+L Mode, orange\n    hyper links are not shown on hover a record.\n - 2010-08-05 Fixed bug#[5670](http://bugs.otrs.org/show_bug.cgi?id=5670) - In Agent Interface, e. g. note action, you can\n    select a file, which is uploaded automatically. This is not working in\n    customer panel.\n - 2010-08-05 Fixed bug#[5625](http://bugs.otrs.org/show_bug.cgi?id=5625) - Article Zoom Screen -\\> New Message Indicator\n    is not removed after clicking on an article item.\n - 2010-08-05 Fixed bug#[5671](http://bugs.otrs.org/show_bug.cgi?id=5671) - In Customer Panel, there are not used links in\n    footer (FAQ, Help, ...).\n - 2010-08-05 Fixed bug#[5635](http://bugs.otrs.org/show_bug.cgi?id=5635) - It's not possible to open Ticket Search feature\n    in own browser tab.\n - 2010-08-02 Fixed bug#[2774](http://bugs.otrs.org/show_bug.cgi?id=2774) - Added sha1 and sha2 for additional auth method.\n    Now otrs is able to crypt passwords using sha-1 and sha-256 for users and\n    customer using DB backend.\n\n#3.0.0 beta1 2010-08-02\n - 2010-07-30 Fixed bug#[5361](http://bugs.otrs.org/show_bug.cgi?id=5361) - Wrong link detection, because regexp looking for url\n   like \"www.exam.com\" and needed \"xwww.exam.com\", added unit test.\n - 2010-07-28 Added new sysconfig validation module layer to verify and auto-correct\n    some sysconfig settings.\n - 2010-07-21 Fixed bug#[5566](http://bugs.otrs.org/show_bug.cgi?id=5566) - StateDefault, PriorityDefault and ArticleTypeDefault\n    not working in AgentTicketNote and other frontend modules.\n - 2010-07-20 Fixed bug#[4483](http://bugs.otrs.org/show_bug.cgi?id=4483) - AgentTicketActionCommon, set radio button when select\n    old/ new owner are selected.\n - 2010-07-19 Fixed bug#[5563](http://bugs.otrs.org/show_bug.cgi?id=5563) - Static statistic file StateAction is overwritten\n    by an older version.\n - 2010-07-16 Removed support for the deprecated DTL commands \\<dtl if\\>, \\<dtl set\\>\n    and \\<dtl system-call\\>. They were deprecated since OTRS 2.2.\n - 2010-07-15 Fixed bug#[5416](http://bugs.otrs.org/show_bug.cgi?id=5416) - AgentTicketMove does not support Pending Date.\n - 2010-07-15 Fixed bug#[5556](http://bugs.otrs.org/show_bug.cgi?id=5556) - Broken unicode chars in CustomerUser selections.\n - 2010-07-14 Fixed bug#[5132](http://bugs.otrs.org/show_bug.cgi?id=5132) - New owner validation always ask to set a owner.\n - 2010-07-14 Fixed bug#[5343](http://bugs.otrs.org/show_bug.cgi?id=5343) - Widespread typo in Agent-/CustomerPreferences - replaced \"Activ\"\n                for \"Active\".\n - 2010-07-13 Fixed bug#[5550](http://bugs.otrs.org/show_bug.cgi?id=5550) - Broken linebreaks in textareas of Google Chrome.\n - 2010-07-09 Fixed bug#[5545](http://bugs.otrs.org/show_bug.cgi?id=5545) - LIKE pattern must not end with escape character.\n - 2010-07-09 Fixed bug#[5494](http://bugs.otrs.org/show_bug.cgi?id=5494) - Handle attachments with java script.\n - 2010-07-09 Fixed bug#[5544](http://bugs.otrs.org/show_bug.cgi?id=5544) - Wrong handling of underscore in LIKE\n    search with oracle.\n - 2010-07-06 Removed AgentLookup (was not used in OTRS framework itself\n     and is not state of the art of dealing with dynamic data any more).\n - 2010-07-01 Streamlined messages in AgentTicketBulk.\n - 2010-07-01 Added option to ticket bulk action to define if tickets for bulk\n    action need to get locked for current agent or not.\n     * Config Name: Ticket::Frontend::AgentTicketBulk###RequiredLock\n    Thanks to Jeroen van Meeuwen!\n - 2010-06-22 Improved otrs.CheckModules.pl script.\n - 2010-06-22 Updated CPAN module Authen::SASL to version 2.15.\n - 2010-06-22 Updated CPAN module Net::IMAP::Simple to version 1.1916.\n - 2010-06-22 Updated CPAN module MIME::Tools to version 5.428.\n - 2010-06-22 Updated CPAN module Net::POP3::SSLWrapper to version 0.04.\n - 2010-06-22 Updated CPAN module XML::Parser to version 0.712.\n - 2010-06-22 Updated CPAN module Text::CSV to version 1.18.\n - 2010-06-18 Updated CPAN module JSON::PP to version 2.21\n - 2010-06-14 New DirectoryRead Function to read filenames with Unicode::Normalize\n - 2010-06-09 Fixed bug#[5447](http://bugs.otrs.org/show_bug.cgi?id=5447) - Added SMTP TLS support, to send out emails via\n    mail servers (MS Exchange!) that require this.\n - 2010-06-02 Fixed bug#[5426](http://bugs.otrs.org/show_bug.cgi?id=5426) - Can't set timezone for customer users.\n - 2010-05-28 Fixed bug#[5262](http://bugs.otrs.org/show_bug.cgi?id=5262) - Sort by \"pending time\" includes ticket with no\n    pending state.\n - 2010-05-28 Added option to use TicketPendingTimeSet() to null out the\n    Pending Time, similar to the implementation for TicketFreeTimeSet().\n - 2010-05-21 Fixed bug#[4459](http://bugs.otrs.org/show_bug.cgi?id=4459) - Two related error messages in S/MIME if you\n    call it and it's disabled, and one message is enough.\n - 2010-05-21 Fixed bug#[5377](http://bugs.otrs.org/show_bug.cgi?id=5377) - Show all users in AdminUser as a default.\n - 2010-05-20 Fixed bug#[1846](http://bugs.otrs.org/show_bug.cgi?id=1846) - AdminCustomerUserGroup shows all CustomerUsers,\n    even if you have thousands of them.\n - 2010-05-20 Fixed bug#[5103](http://bugs.otrs.org/show_bug.cgi?id=5103) - Searching for non-existing company does not\n    return \"no results found\".\n - 2010-05-20 Implemented bug#[1701](http://bugs.otrs.org/show_bug.cgi?id=1701) - In customer's ticket overview, subject\n    should come from the first article.\n - 2010-05-20 Fixed bug#[5186](http://bugs.otrs.org/show_bug.cgi?id=5186) - Prepend fwd: instead of re: to the subject of\n    forwarded mails.\n - 2010-05-19 Added Groups and Roles support to Event Based Notifications.\n    You can now also send a notification to agens in a certain group or role.\n - 2010-05-19 Implemented bug#[4337](http://bugs.otrs.org/show_bug.cgi?id=4337) - Added lock state to ticket search.\n - 2010-05-19 Reworked Kernel::System::Ticket API to have more intuitive\n    wording (is still compat. to OTRS 1.x and 2.x).\n    CustomerPermission()  -\\> TicketCustomerPermission()\n    InvolvedAgents()      -\\> TicketInvolvedAgentsList()\n    LockIsTicketLocked()  -\\> TicketLockGet()\n    LockSet()             -\\> TicketLockSet()\n    MoveList()            -\\> TicketMoveList()\n    MoveTicket()          -\\> TicketQueueSet()\n    MoveQueueList()       -\\> TicketMoveQueueList()\n    OwnerList()           -\\> TicketOwnerList()\n    OwnerSet()            -\\> TicketOwnerSet()\n    Permission()          -\\> TicketPermission()\n    PriorityList()        -\\> TicketPriorityList()\n    PrioritySet()         -\\> TicketPrioritySet()\n    ResponsibleList()     -\\> TicketResponsibleList()\n    ResponsibleSet()      -\\> TicketResponsibleSet()\n    SetCustomerData()     -\\> TicketCustomerSet()\n    StateList()           -\\> TicketStateList()\n    StateSet()            -\\> TicketStateSet()\n - 2010-05-14 Fixed bug#[4199](http://bugs.otrs.org/show_bug.cgi?id=4199) - Hard limit of 200 services defined in front-end files.\n - 2010-05-12 Renamed core module 'Kernel/System/StdResponse.pm' to 'Kernel/System/StandardResponse.pm'.\n - 2010-05-12 Fixed bug#[4940](http://bugs.otrs.org/show_bug.cgi?id=4940) - SQL Improvement, deleted not needed GROUP BY statement.\n - 2010-05-07 Fixed bug#[5005](http://bugs.otrs.org/show_bug.cgi?id=5005) - 'Statuses' is not correct in British English.\n - 2010-05-06 Implemented bug#[3516](http://bugs.otrs.org/show_bug.cgi?id=3516) - added CustomerGroupSupport feature for\n    customer navigation bar. Kudos Martin Balzarek.\n - 2010-05-04 Fixed bug#[5249](http://bugs.otrs.org/show_bug.cgi?id=5249) - ArticleStorageFS should not die on failed rm.\n    Kudos Dominik Schulz.\n - 2010-04-30 Make it possible to use a version argument with bin/otrs.PackageManager.pl.\n - 2010-04-19 Improved bin/otrs.CreateTranslationFile.pl to get also\n    translatable strings from sys config settings for translation catalog.\n - 2010-04-09 Added the feature to save searches in the Customer Frontend\n - 2010-04-08 Implemented fix for bug#[2673](http://bugs.otrs.org/show_bug.cgi?id=2673) -  Ticket subject lines in customer\n    frontend can be confusing.\n - 2010-04-07 Fixed bug#[5118](http://bugs.otrs.org/show_bug.cgi?id=5118) - Printing an article should indicate that\n    only 1 article is printed not the whole ticket.\n - 2010-04-06 made command line scripts consistent. They now all\n     have the format `otrs.DoThis.pl`. Also, SetPermissions.sh is removed\n     because we already have otrs.SetPermissions.pl.\n    otrs.mkStats.pl                 -\\>  otrs.GenerateStats.pl\n    otrs.addGroup.pl                -\\>  otrs.AddGroup.pl\n    otrs.addQueue.pl                -\\>  otrs.AddQueue.pl\n    otrs.addRole.pl                 -\\>  otrs.AddRole.pl\n    otrs.addRole2Group.pl           -\\>  otrs.AddRole2Group.pl\n    otrs.addUser.pl                 -\\>  otrs.AddUser.pl\n    otrs.addUser2Group.pl           -\\>  otrs.AddUser2Group.pl\n    otrs.addUser2Role.pl            -\\>  otrs.AddUser2Role.pl\n    otrs.checkModules.pl            -\\>  otrs.CheckModules.pl\n    otrs.CreateNewTranslationFile.pl-\\>  otrs.CreateTranslationFile.pl\n    otrs.getConfig.pl               -\\>  otrs.GetConfig.pl\n    otrs.getTicketThread.pl         -\\>  otrs.GetTicketThread.pl\n    otrs.setPassword.pl             -\\>  otrs.SetPassword.pl\n    otrs.StatsExportToOPM.pl        -\\>  otrs.ExportStatsToOPM.pl\n    opm.pl                          -\\>  otrs.PackageManager.pl\n - 2010-03-24 Reworked Kernel::System::Encode API to have more intuitive\n    wording (is still compat. to OTRS 1.x and 2.x).\n    EncodeInternalUsed() -\\> CharsetInternal()\n    Encode()             -\\> EncodeInput()\n    Decode()             -\\> Convert2CharsetInternal()\n - 2010-03-24 Fixed bug#[5130](http://bugs.otrs.org/show_bug.cgi?id=5130) - Incorrect check for 'NoOutOfOffice' in\n    GetUserData().\n - 2010-03-22 Fixed bug#[5161](http://bugs.otrs.org/show_bug.cgi?id=5161) - Envelope-To Header gets ignored for email\n    dispatching.\n - 2010-03-18 Fixed bug#[5060](http://bugs.otrs.org/show_bug.cgi?id=5060) - Get email notification for tickets created by\n    myself (new feature).\n - 2010-03-18 Updated CPAN module Text::CSV to version 1.17.\n - 2010-03-18 Updated CPAN module MailTools to version 2.06.\n - 2010-03-18 Updated CPAN module CGI to version 3.49.\n - 2010-03-18 Updated CPAN module Net::IMAP::Simple to version 1.1911.\n - 2010-03-11 Upgraded CKEditor from version 3.1 to version 3.2.\n - 2010-03-09 Fixed bug#[4996](http://bugs.otrs.org/show_bug.cgi?id=4996) - Rich Text Editor does not display in the Customer\n    Frontend in IE8.\n - 2010-03-08 Fixed bug#[5085](http://bugs.otrs.org/show_bug.cgi?id=5085) - Wrong colours codes in Stats::Graph::dclrs.\n - 2010-03-08 Fixed bug#[5097](http://bugs.otrs.org/show_bug.cgi?id=5097) - AdminNotificationEvent does not display values\n    on Change.\n - 2010-02-26 Fixed bug#[4874](http://bugs.otrs.org/show_bug.cgi?id=4874) - LDAP connection even if it is not needed.\n    Moved to \"Die =\\> 0\" as default value if no connection to customer ldap\n    source was possible.\n - 2010-02-23 Fixed bug#[4957](http://bugs.otrs.org/show_bug.cgi?id=4957) - Password Change dialog misses \"Current Password\"\n    option.\n - 2010-02-22 Fixed bug#[5020](http://bugs.otrs.org/show_bug.cgi?id=5020) - Framework version for stats export is outdated.\n - 2010-02-21 Extended QueryCondition() of Kernel::System::DB to allow\n    also \"some praise\" expression as \"some&&praise\", to be compat. just add\n`Extended => 1` to QueryCondition(). Short summary:\n        some praise   -\\> search for \"some\" and \"praise\" in a text (order of words\n                         is not importand)\n        \"some praise\" -\\> search for \"some praise\" in a text as one string\n - 2010-02-16 Extended QueryCondition() of Kernel::System::DB to allow\n    also \"some praise\" expression for search conditions to search this string\n    1:1 in database.\n - 2010-02-15 Added \"New Article\" feature. Shows any agent in dashboard and\n    global ticket overviews if there is a new article in a ticket which is not\n    seen (like unread feature in email clients).\n    Notice: Use scripts/DBUpdate-to-2.5.\\*.sql for upgrading!\n - 2010-02-15 Removed example config files for Apache1, switched to only\n    one config file for Apache2 instead of two.\n - 2010-02-15 Fixed bug#[4924](http://bugs.otrs.org/show_bug.cgi?id=4924) - Incorrect email address syntax check.\n - 2010-02-10 Fixed bug#[2376](http://bugs.otrs.org/show_bug.cgi?id=2376) - Customer preferences are lost after update\n    of customer login.\n - 2010-02-10 Fixed bug#[4828](http://bugs.otrs.org/show_bug.cgi?id=4828) - In SysConfig, changed \"Registration\" to\n    \"Registrierung\" in German description.\n - 2010-02-07 Fixed bug#[4918](http://bugs.otrs.org/show_bug.cgi?id=4918) - Delete only expired cache items by using\n    e. g. `bin/otrs.CacheDelete.pl --expired`.\n - 2010-02-01 Added Kernel::System::Cache::FileStorable backend module for\n    Kernel::System::Cache which is working with binary for dump and eval of\n    perl data structures (a little bit faster the dump/eval in pure perl).\n    Perl's Storable module is included in perl distibution it self.\n - 2010-01-26 IPC session backend (`Kernel::System::AuthSession::IPC`) is not\n    longer supported. Increased performance of DB and FS backend (only sync\n    session data to storage at end of a session).\n - 2010-01-25 Added agent preferences for max. shown tickets a page in\n    ticket overviews.\n - 2010-01-19 Added security feature enhancement to block active elements\n    and external images as auto load of html articles in zoom view (agent\n    and customer interface).\n - 2010-01-15 Fixed bug#[4651](http://bugs.otrs.org/show_bug.cgi?id=4651) - Dashboard upcoming events does not look up\n    statetypes for Pending Reminder.\n - 2010-01-14 Removed not needed tool `scripts/sync_node.sh`.\n - 2010-01-13 Added ticket fulltext search to dashboard.\n - 2010-01-06 Added dashboard widget for displaying external content via iframe.\n - 2009-12-31 Added cpan module for JSON support (version 2.16), removed JSON\n    function from LayoutAJAX and changed all function calls to the new JSON\n    wrapper.\n - 2009-12-24 Themes are now stored in SysConfig under Frontend::Themes rather\n    than in the database. This to enable administrators to add a new theme by\n    just modifying SysConfig instead of having to use mysql or isql or so.\n - 2009-12-23 Renamed inconsistent module name Kernel::System::Config to\n    Kernel::System::SysConfig.\n - 2009-12-23 Added support for multiple Kernel::System::Ticket::Custom\n    backends. Can now be defined via config key `Ticket::CustomModule`, e. g.\n\n```xml\n<ConfigItem Name=\"Ticket::CustomModule###001-CustomModule\" Required=\"0\" Valid=\"0\">\n   <Description Lang=\"en\">A module with custom functions to redefine ....</Description>\n   <Description Lang=\"de\">Ein Modul mit angepassten Funktionen das ...</Description>\n   <Group>Ticket</Group>\n   <SubGroup>Core::Ticket</SubGroup>\n   <Setting>\n      <String Regex=\"\">Kernel::System::Ticket::Custom</String>\n   </Setting>\n</ConfigItem>\n```\n\n - 2009-12-21 Added the ability to hide the Queue, SLA and/or Service in\n    the Customer interface.\n - 2009-12-15 Changed rich text editor from FCKEditor 2.6.4.1 to CKEditor 3.0.1\n - 2009-12-14 Fixed bug#[4660](http://bugs.otrs.org/show_bug.cgi?id=4660) - Admin Notification module does not send mail\n    to customer users in groups.\n - 2009-12-14 Added the ability to use AdminEmail to send notifications based\n    on roles.\n - 2009-12-14 Updated SysConfig to make sure OTRS toolbars and Admin section uses\n    plural in interface where appropriate.\n - 2009-12-11 Replaced all OptionStrgHashRef() with the newer BuildSelection().\n - 2009-12-09 Added archive feature to improve performance.\n - 2009-12-09 Updated CPAN module Text::CSV to version 1.16.\n - 2009-12-08 Fixed bug#[4570](http://bugs.otrs.org/show_bug.cgi?id=4570) - Not processed attachment on incoming email\n    (value too long for type).\n    Increased varchar of article\\_attachment.content\\_type from 250 to 450.\n - 2009-12-08 Fixed bug#[1698](http://bugs.otrs.org/show_bug.cgi?id=1698) - Send emails with the real name from the agent.\n - 2009-12-08 Fixed bug#[2153](http://bugs.otrs.org/show_bug.cgi?id=2153) - Recognize domain names only if they are words.\n - 2009-12-08 Fixed bug#[4399](http://bugs.otrs.org/show_bug.cgi?id=4399) - Phone- / Email-Ticket AJAX reload does not\n    consider ACL in Kernel/Config.pm.\n - 2009-12-08 Fixed bug#[4330](http://bugs.otrs.org/show_bug.cgi?id=4330) - Added new history-get results.\n - 2009-12-07 Fixed bug#[3887](http://bugs.otrs.org/show_bug.cgi?id=3887) - Processing headers with faulty charset definitions.\n - 2009-12-04 Removed OptionElement() from Layout.pm. Use BuildSelection()\n    instead.\n - 2009-12-04 Changed line chart library again: from OFC to Flot.\n - 2009-12-02 Completely removed YUI from the OTRS code.\n - 2009-12-02 Switched line chart on the dashboard from YUI to OFC.\n - 2009-11-27 Updated CPAN module XML::Parser::Lite to version 0.710.10.\n - 2009-11-27 Updated CPAN module XML::TreePP to version 0.39.\n - 2009-11-27 Updated CPAN module XML::FeedPP to version 0.41.\n - 2009-11-27 Updated CPAN module Text::Diff to version 1.37.\n - 2009-11-27 Updated CPAN module Text::CSV to version 1.15.\n - 2009-11-27 Updated CPAN module Authen::SASL to version 2.13.\n - 2009-11-27 Changed directory structure for thirdparty javascript modules.\n - 2009-11-27 Switched AutoCompletion and Dialog from YUI to jQuery.\n - 2009-11-25 Switched to XHTML doctype\n    - not all of the generated HTML is valid yet, but much\n    - from now on, \";\" will be used as a query parameter separator in URLs\n        (old: index.pl?Action=AgentExample&Subaction=Test,\n        new: index.pl?Action=AgentExample;Subaction=Test)\n    - made some self-closing tags actually close themselves (e.g.`<img .../>`)\n    - made some tags and attributes used lowercase\n - 2009-11-25 Updated CPAN module CGI to version 3.48.\n - 2009-11-23 Only database configuration is now saved in Config.pm.\n - 2009-11-18 Added database check and mail configuration steps\n    to the web installer.\n - 2009-11-12 Fixed bug#[4509](http://bugs.otrs.org/show_bug.cgi?id=4509) - Notification (event based) comments are not\n    saved.\n - 2009-11-11 Added feature/config option (Ticket::SubjectFormat) for subject\n    format.\n     - 'Left'  means '[TicketHook#:12345] Some Subject',\n     - 'Right' means 'Some Subject [TicketHook#:12345]',\n     - 'None'  means 'Some Subject' (without any ticket number ins subject).\n\n    In the last case you should enable PostmasterFollowupSearchInRaw or\n    PostmasterFollowUpSearchInReferences to recognize followups based on email\n    headers and/or body.\n    Wrote also unit tests to take care of functionality.\n - 2009-11-11 Moved from prototype js to jQuery\n    (removed var/httpd/htdocs/js/prototype.js added\n    var/httpd/htdocs/js/jquery-1.3.2.min.js).\n - 2009-11-03 Renamed some files in the bin/ directory\n\n```\n    CheckSum.pl                     -\\>  otrs.CheckSum.pl\n    CleanUp.pl                      -\\>  otrs.CleanUp.pl\n    Cron4Win32.pl                   -\\>  otrs.Cron4Win32.pl\n    CryptPassword.pl                -\\>  otrs.CryptPassword.pl\n    DeleteSessionIDs.pl             -\\>  otrs.DeleteSessionIDs.pl\n    GenericAgent.pl                 -\\>  otrs.GenericAgent.pl\n    mkStats.pl                      -\\>  otrs.mkStats.pl\n    otrs.addGroup                   -\\>  otrs.addGroup.pl\n    otrs.addQueue                   -\\>  otrs.addQueue.pl\n    otrs.addRole                    -\\>  otrs.addRole.pl\n    otrs.addRole2Group              -\\>  otrs.addRole2Group.pl\n    otrs.addUser                    -\\>  otrs.addUser.pl\n    otrs.addUser2Group              -\\>  otrs.addUser2Group.pl\n    otrs.addUser2Role               -\\>  otrs.addUser2Role.pl\n    otrs.checkModules               -\\>  otrs.checkModules.pl\n    otrs.CreateNewTranslationFile   -\\>  otrs.CreateNewTranslationFile.pl\n    otrs.getConfig                  -\\>  otrs.getConfig.pl\n    otrs.getTicketThread            -\\>  otrs.getTicketThread.pl\n    otrs.setPassword                -\\>  otrs.setPassword.pl\n    PendingJobs.pl                  -\\>  otrs.PendingJobs.pl\n    PostMaster.pl                   -\\>  otrs.PostMaster.pl\n    PostMasterClient.pl             -\\>  otrs.PostMasterClient.pl\n    PostMasterDaemon.pl             -\\>  otrs.PostMasterDaemon.pl\n    PostMasterMailbox.pl            -\\>  otrs.PostMasterMailbox.pl\n    PostMasterPOP3.pl               -\\>  otrs.PostMasterPOP3.pl\n    RebuildTicketIndex.pl           -\\>  otrs.RebuildTicketIndex.pl\n    SetPermissions.pl               -\\>  otrs.SetPermissions.pl\n    StatsExportToOPM.pl             -\\>  otrs.StatsExportToOPM.pl\n    UnitTest.pl                     -\\>  otrs.UnitTest.pl\n    UnlockTickets.pl                -\\>  otrs.UnlockTickets.pl\n    xml2sql.pl                      -\\>  otrs.xml2sql.pl\n    XMLMaster.pl                    -\\>  otrs.XMLMaster.pl\n```\n\n - 2009-10-26 Added CGI.pm back to packaged versions (auto\\_build.sh).\n - 2009-10-14 Pending Date of tickets can be max. 1 year in the future.\n - 2009-10-14 Fixed bug#[1731](http://bugs.otrs.org/show_bug.cgi?id=1731) - Show last login time of agent and customer\n    management.\n - 2009-10-12 TTL in Kernel::System::Cache::Set required but not checked.\n - 2009-10-12 Removed check on AttachmentDelete1 in function in\n    AgentTicketMove.dtl.\n - 2009-10-12 AgentTicketOverviewPreview.dtl: superfluous hidden parameter\n    'QueueID'.\n - 2009-10-07 Added global Search-Condition-Feature (AND/OR/()/!/+) for\n    TicketNumber, From, To, Cc, Subject and Body also to generic agent.\n - 2009-10-05 Fixed bug#[939](http://bugs.otrs.org/show_bug.cgi?id=939) - \"Salutation\" should be renamed to \"Title\" for\n    users and customer users.\n    Notice: Use scripts/DBUpdate-to-2.5.\\*.sql for upgrading!\n - 2009-10-02 Fixed bug#[4379](http://bugs.otrs.org/show_bug.cgi?id=4379) - Array parameters not working in mkStats.pl\n - 2009-09-23 Added virtual file system object for global file storage as\n    Kernel::System::VirtualFS with FS and DB backends.\n    Notice: Use scripts/DBUpdate-to-2.5.\\*.sql for upgrading!\n - 2009-09-22 Fixed bug#[1774](http://bugs.otrs.org/show_bug.cgi?id=1774) - Updated documentation in AdminQueue.dtl.\n - 2009-09-22 Fixed bug#[4100](http://bugs.otrs.org/show_bug.cgi?id=4100) - ArticleFreeText Default Value not working.\n - 2009-09-22 Fixed bug#[1027](http://bugs.otrs.org/show_bug.cgi?id=1027) - Ticket csv export in customer interface incomplete.\n - 2009-09-21 Fixed bug#[4218](http://bugs.otrs.org/show_bug.cgi?id=4218) - No error message when sending mail through not\n    installed sendmail.\n - 2009-09-21 Fixed bug#[4312](http://bugs.otrs.org/show_bug.cgi?id=4312) - MOTD module for Agent Dashboard, thanks to\n    Alexander Scholler!\n - 2009-09-21 Fixed bug#[3978](http://bugs.otrs.org/show_bug.cgi?id=3978) - Better description for PGP passphrases.\n - 2009-09-16 Fixed bug#[3932](http://bugs.otrs.org/show_bug.cgi?id=3932) - Translation enhancements for AdminSession.dtl.\n - 2009-09-16 Fixed bug#[2786](http://bugs.otrs.org/show_bug.cgi?id=2786) - Wrong text labels\n    AdminSystemAddressForm.dtl.\n - 2009-09-16 Fixed bug#[4288](http://bugs.otrs.org/show_bug.cgi?id=4288) - Use of uninitialized value in\n    AdminGenericAgent.pm.\n - 2009-09-16 Moved to global event handler Kernel/System/EventHander.pm\n    for ticket events (config is compatble with old one).\n - 2009-09-15 Improved performance of the PDF backend.\n\n#2.4.11 (????/??/??)\n - 2011-04-07 Fixed bug#[7195](http://bugs.otrs.org/show_bug.cgi?id=7195) - Graphs doesn't use GIF as fallback if PNG is not available.\n\n#2.4.10 (2011/04/12)\n - 2011-04-04 Fixed bug#[7140](http://bugs.otrs.org/show_bug.cgi?id=7140) - Attachments with percent symbol not working.\n - 2011-03-23 Updated Brazilian Portugese translation, thanks to Murilo Moreira de Oliveira!\n - 2011-03-18 Added required settings for oracle databases in apache2-httpd-new.include.conf.\n - 2011-03-07 Fixed bug#[6014](http://bugs.otrs.org/show_bug.cgi?id=6014) - Printed pdf tickets are not searchable.\n - 2011-02-17 Fixed bug#[6906](http://bugs.otrs.org/show_bug.cgi?id=6906) - Vendor URL points to Basename+URL instead of URL.\n - 2011-01-25 Event Based notification - respect \"Include Attachments\n    to Notification\".\n - 2010-12-17 Fixed bug#[6510](http://bugs.otrs.org/show_bug.cgi?id=6510) - Signature ID missing.\n - 2010-12-14 Fixed bug#[6532](http://bugs.otrs.org/show_bug.cgi?id=6532) - With multiple inline images, only first one is\n    preserved when replying.\n - 2010-12-13 Fixed bug#[6520](http://bugs.otrs.org/show_bug.cgi?id=6520) - backup.pl doesn't backup with strong password.\n - 2010-12-09 Fixed bug#[6488](http://bugs.otrs.org/show_bug.cgi?id=6488) - otrs.ArticleStorageSwitch.pl creating wrong files.\n - 2010-12-09 Fixed bug#[3984](http://bugs.otrs.org/show_bug.cgi?id=3984) - HTML Notifications - Links to ticketsystem are not clickable.\n - 2010-12-02 Fixed bug#[6366](http://bugs.otrs.org/show_bug.cgi?id=6366) - gnupg signatures not working correct for partly signed messages.\n - 2010-11-29 Fixed bug#[5981](http://bugs.otrs.org/show_bug.cgi?id=5981) - Warnings from TransfromDateSelection() in AgentTicketMove.\n - 2010-11-23 Fixed bug#[6131](http://bugs.otrs.org/show_bug.cgi?id=6131) - Lack of warning for revoked and expired PGP keys in email compose screens.\n - 2010-11-04 Fixed bug#[6211](http://bugs.otrs.org/show_bug.cgi?id=6211) - Wrong TicketFreeText-value in ticket creation by\n    using event notifications.\n - 2010-11-02 Email.ticket: wrong signature is shown.\n - 2010-10-26 Improved German translation, thanks to Stelios Gikas!\n - 2010-10-13 Fixed some Perl \"uninitialized value\" warnings.\n - 2010-10-12 Fixed bug#[6087](http://bugs.otrs.org/show_bug.cgi?id=6087) - Search template name is broken if & or ; is used.\n\n#2.4.9 (2010/10/25)\n - 2010-09-30 Fixed bug#[6016](http://bugs.otrs.org/show_bug.cgi?id=6016) - AgentTicketZoom is vunerable to XSS attacks from HTML e-mails.\n - 2010-09-22 Fixed bug#[5903](http://bugs.otrs.org/show_bug.cgi?id=5903) - E-mail notification links don't contain \\<a href... tags.\n - 2010-09-29 Fixed bug#[6030](http://bugs.otrs.org/show_bug.cgi?id=6030) - Event notifications are fired several times on\n    event \"TicketFreeTextUpdate\".\n - 2010-09-14 Fixed bug#[5541](http://bugs.otrs.org/show_bug.cgi?id=5541) - Dashboard Chart generates error in webserver log.\n - 2010-09-09 Fixed bug#[5462](http://bugs.otrs.org/show_bug.cgi?id=5462) - Kernel::System::Ticket::TicketEscalationIndexBuild()\n    does not invalidate the cache.\n - 2010-08-27 Fixed bug#[5667](http://bugs.otrs.org/show_bug.cgi?id=5667) - Rich Text is not working in ipad. It's not\n    possible to add a note or close a ticket.\n - 2010-08-25 Fixed bug#[5266](http://bugs.otrs.org/show_bug.cgi?id=5266) - Ticket Zoom shows wrong html content if there\n    is no text but two html attachments in there.\n\n#2.4.8 (2010/09/15)\n - 2010-08-24 Applied change suggested in bug#[5733](http://bugs.otrs.org/show_bug.cgi?id=5733). $Text should be dereferenced while counting its length.\n - 2010-08-18 Fixed bug#[5444](http://bugs.otrs.org/show_bug.cgi?id=5444) - TicketZoom mask vulnerable to XSS.\n - 2010-08-09 Fixed bug#[5698](http://bugs.otrs.org/show_bug.cgi?id=5698) - Ticket Assignment includes '(' character.\n - 2010-07-20 Fixed bug#[4483](http://bugs.otrs.org/show_bug.cgi?id=4483) - AgentTicketActions, set radio button when select\n    old/ new owner are selected, fix wrong javascript behavior.\n - 2010-07-15 Fixed bug#[5416](http://bugs.otrs.org/show_bug.cgi?id=5416) - AgentTicketMove does not support Pending Date.\n - 2010-07-15 Fixed bug#[5556](http://bugs.otrs.org/show_bug.cgi?id=5556) - Broken unicode chars in CustomerUser selections.\n - 2010-07-14 Fixed bug#[5132](http://bugs.otrs.org/show_bug.cgi?id=5132) - New owner validation always ask to set a owner.\n - 2010-07-13 Fixed bug#[5210](http://bugs.otrs.org/show_bug.cgi?id=5210) - LinkQuote consumes all CPU memory when processing a\n    large amount of data.\n - 2010-07-13 Fixed bug#[5550](http://bugs.otrs.org/show_bug.cgi?id=5550) - Broken linebreaks in textareas of Google Chrome.\n - 2010-07-07 Fixed bug#[5541](http://bugs.otrs.org/show_bug.cgi?id=5541) - Dashboard Chart generates error in webserver log.\n - 2010-07-01 Fixed bug#[5512](http://bugs.otrs.org/show_bug.cgi?id=5512) - Bulk Action No Access is displayed incorrectly.\n - 2010-06-25 Updated Danish translation, thanks to Jesper R\u00ef\u00bf\u00bdnnov,\n    Faaborg-Midtfyn Kommune!\n - 2010-06-24 Fixed bug#[5445](http://bugs.otrs.org/show_bug.cgi?id=5445) - Reflected XSS vulnerability.\n - 2010-06-16 Fixed bug#[5488](http://bugs.otrs.org/show_bug.cgi?id=5488) - AutoPriorityIncrease runs into failures.\n - 2010-06-16 Fixed bug#[5478](http://bugs.otrs.org/show_bug.cgi?id=5478) - Web Installer has 'editable' license text.\n - 2010-05-31 Fixed bug#[5385](http://bugs.otrs.org/show_bug.cgi?id=5385) - Queue name is not used in signature on ticket\n    creation.\n - 2010-05-28 Fixed bug#[5235](http://bugs.otrs.org/show_bug.cgi?id=5235) - Link in response not shown as link.\n - 2010-05-28 Added PNG version of data model in doc directory.\n - 2010-05-28 Fixed bug#[5395](http://bugs.otrs.org/show_bug.cgi?id=5395) - Function $LanguageObject-\\>Time() can't process\n    seconds.\n - 2010-05-07 Fixed bug#[5336](http://bugs.otrs.org/show_bug.cgi?id=5336) - Also set execute bit on scripts/tools.\n - 2010-04-30 Make it possible to use a version argument with bin/opm.pl.\n - 2010-04-21 Fixed bug#[5266](http://bugs.otrs.org/show_bug.cgi?id=5266) - Ticket Zoom shows wrong html content if there\n    is no text but two html attachments in there.\n - 2010-04-15 Fixed bug#[5242](http://bugs.otrs.org/show_bug.cgi?id=5242) - Newlines are not displayed in html notification\n    mails on Lotus Notes\n - 2010-04-14 Fixed bug#[4999](http://bugs.otrs.org/show_bug.cgi?id=4999) - Cache of customer user is not refreshed after\n    a preference is updated.\n - 2010-04-13 Fixed bug#[5152](http://bugs.otrs.org/show_bug.cgi?id=5152) - responsible\\_user\\_id in ticket table is wrong in\n    otrs-database.dia.\n - 2010-04-12 Fixed bug#[5108](http://bugs.otrs.org/show_bug.cgi?id=5108) - The RSS date was not displayed correctly.\n - 2010-04-12 Fixed bug#[5112](http://bugs.otrs.org/show_bug.cgi?id=5112) - Redirecting to a valid screen after unsubscribing a ticket\n    that is on a queue in which the agent has no permissions.\n - 2010-04-06 Fixed bug#[4986](http://bugs.otrs.org/show_bug.cgi?id=4986) - There is no activate/deactivate check for Graphsize menu,\n    when page loads in Stats Definition\n - 2010-04-01 Fixed bug#[4786](http://bugs.otrs.org/show_bug.cgi?id=4786) - AgentTicketCompose ONLY: Defining a next state,\n    then adding and attachment, resets the next state upon screen refresh.\n - 2010-03-29 Improved handling of the StateType attribute of\n    StateGetStatesByType() in Kernel/System/State.pm.\n - 2010-03-24 Fixed bug#[5164](http://bugs.otrs.org/show_bug.cgi?id=5164) - Pending time not working if agent as an other\n    timezone.\n - 2010-03-19 Fixed bug#[5094](http://bugs.otrs.org/show_bug.cgi?id=5094) - Bulk pending date/time do not get applied to\n    tickets.\n - 2010-03-18 Updated Ukrainian language translation, thanks to Belskii Artem!\n - 2010-03-10 Fixed bug#[4416](http://bugs.otrs.org/show_bug.cgi?id=4416) - Merge: whitespace before ticketnumber not removed.\n - 2010-03-09 Fixed bug#[5102](http://bugs.otrs.org/show_bug.cgi?id=5102) - Notification sent to OTRS instead of Customer.\n - 2010-03-08 Fixed bug#[5085](http://bugs.otrs.org/show_bug.cgi?id=5085) - Wrong colours codes in Stats::Graph::dclrs.\n - 2010-03-02 Updated Czech translation, thanks to O2BS.com, s r.o. Jakub Hanus!\n - 2010-02-26 Fixed bug#[4137](http://bugs.otrs.org/show_bug.cgi?id=4137) - Follow ups to internal forwarded message marked\n    as customer reply.\n - 2010-02-23 Updated pt\\_BR translation file, thanks to Fabricio Luiz Machado!\n - 2010-02-22 Fixed bug#[5020](http://bugs.otrs.org/show_bug.cgi?id=5020) - Framework version for stats export is outdated.\n - 2010-02-18 Fixed bug#[4969](http://bugs.otrs.org/show_bug.cgi?id=4969) - Event Based Notification: Body Match field displays\n    Subject Match value.\n - 2010-02-16 Fixed bug#[4967](http://bugs.otrs.org/show_bug.cgi?id=4967) - Can't locate object method \"new\" via package\n    error when using Perl 5.10.1.\n - 2010-02-15 Fixed bug#[4977](http://bugs.otrs.org/show_bug.cgi?id=4977) - mod\\_perl is not used in fedora with RPM.\n - 2010-02-12 Fixed bug#[4936](http://bugs.otrs.org/show_bug.cgi?id=4936) - Kernel::System::Main::FileWrite has race condition.\n - 2010-02-11 Fixed bug#[4442](http://bugs.otrs.org/show_bug.cgi?id=4442) - Customer search fails when there is a space\n    in the name.\n - 2010-02-11 Fixed bug#[4822](http://bugs.otrs.org/show_bug.cgi?id=4822) - No fulltext search with more than one word\n    for FAQ.\n - 2010-02-10 Fixed bug#[4889](http://bugs.otrs.org/show_bug.cgi?id=4889) - Inline images from Lotus Notes are not\n    displayed in ticket zoom.\n - 2010-02-09 Fixed bug#[4658](http://bugs.otrs.org/show_bug.cgi?id=4658) - Cannot delete attachment from AdminAttachment\n    interface.\n\n#2.4.7 2010-02-08\n - 2010-02-03 Fixed bug#[4937](http://bugs.otrs.org/show_bug.cgi?id=4937) - Accounted time per article is not displayed\n    in PDF print.\n - 2010-02-03 Fixed bug#[4848](http://bugs.otrs.org/show_bug.cgi?id=4848) - Issue with TicketOverView object - does not\n    show all tickets when moving through list.\n - 2010-02-02 Fixed issue with migrating Customer Queue notifications to\n    Event Based when upgrading OTRS 2.3 \\> 2.4.\n - 2010-02-01 Fixed bug#[4393](http://bugs.otrs.org/show_bug.cgi?id=4393) - AgentTicketQueue - Small view takes long to\n    load. -\\> New solution with own config option for each view mode (S/M/L)\n    Admin -\\> SysConfig -\\> Ticket -\\> Frontend::Agent::TicketOverview.\n - 2010-01-25 Fixed bug#[4818](http://bugs.otrs.org/show_bug.cgi?id=4818) - Removed inline image of forwarded message gets\n    still included.\n - 2010-01-20 Fixed bug#[4780](http://bugs.otrs.org/show_bug.cgi?id=4780) - Adding groups to a CustomerUser fails,\n    adding CustomerUsers to a group works.\n - 2010-01-20 Fixed bug#[4486](http://bugs.otrs.org/show_bug.cgi?id=4486) - Some preferences displayed in AdminUser are not\n    correct.\n - 2010-01-18 Fixed bug#[4770](http://bugs.otrs.org/show_bug.cgi?id=4770) - Attachments are stripped/not shown from\n    outgoing emails in some scenarios with ms exchange.\n - 2010-01-15 Fixed bug#[4735](http://bugs.otrs.org/show_bug.cgi?id=4735) - TicketFreeTime search in Customer frontend\n    does not work as expected\n - 2010-01-15 Fixed bug#[4758](http://bugs.otrs.org/show_bug.cgi?id=4758) - Dashboard RSS feeds doesn't display XML\n    encoded entities correctly.\n - 2010-01-13 Fixed bug#[4754](http://bugs.otrs.org/show_bug.cgi?id=4754) - Multiple tickets with a huge POP3 Mailbox\n    - more than 2000 email in the box (\"Deep recursion on subroutine\").\n - 2010-01-13 Fixed bug#[4713](http://bugs.otrs.org/show_bug.cgi?id=4713) - In ticket overview, after adding view=30 - no\n    tickets are visible.\n - 2010-01-12 Upgrade of cpan Net::IMAP::Simple from 1.17 to 1.1910.\n\n#2.4.6 2010-01-12\n - 2010-01-11 Fixed bug#[4737](http://bugs.otrs.org/show_bug.cgi?id=4737) - Customer User update fails in 2.4.6 RC.\n - 2010-01-08 Fixed bug#[4730](http://bugs.otrs.org/show_bug.cgi?id=4730) - Unable to open Admin \\> Attachments in IE8.\n - 2010-01-07 Fixed bug#[4731](http://bugs.otrs.org/show_bug.cgi?id=4731) - Service and SLA gets translated after AJAX\n    reload in Phone an Email Ticket.\n - 2010-01-05 Fixed bug#[4718](http://bugs.otrs.org/show_bug.cgi?id=4718) - LDAP auth not possible with OTRS in iso-8859-1\n    and utf-8 ldap directory.\n - 2010-01-05 Fixed bug#[4708](http://bugs.otrs.org/show_bug.cgi?id=4708) - Added ArticleID to output of\n    bin/otrs.getTicketThread.\n - 2010-01-04 Fixed bug#[4704](http://bugs.otrs.org/show_bug.cgi?id=4704) - Package Manager: upload install fails with\n    \"Message: Need ContentType!\" with Google Chrome browser.\n - 2009-12-30 Added Ukrainian language translation, thanks to Belskii Artem!\n - 2009-12-30 Fixed bug#[4727](http://bugs.otrs.org/show_bug.cgi?id=4727) - Added proper removal of FormID in\n    AgentTicketPhoneOutbound.\n - 2009-12-23 Fixed bug#[3526](http://bugs.otrs.org/show_bug.cgi?id=3526) - Escalation emails are resent over and over again.\n - 2009-12-23 Fixed bug#[4428](http://bugs.otrs.org/show_bug.cgi?id=4428) - PGP-inline signed messages can't be encoded\n    correctly with rich text editor.\n - 2009-12-22 Fixed bug#[4690](http://bugs.otrs.org/show_bug.cgi?id=4690) - AdminMailAccount - only 50 characters can be\n    entered in username, password and host fields while database can store 200.\n - 2009-12-16 Fixed bug#[4503](http://bugs.otrs.org/show_bug.cgi?id=4503) - Border around image does not display well\n    in some email clients.\n - 2009-12-13 Fixed bug#[4393](http://bugs.otrs.org/show_bug.cgi?id=4393) - AgentTicketQueue - Small view takes long to load.\n - 2009-12-09 Fixed crash in Ascii2Html() if no scalar reference is given.\n - 2009-12-09 Fixed bug#[4551](http://bugs.otrs.org/show_bug.cgi?id=4551) - GenericAgent appends leading zeros to dates\n    if TimeInputFormat is \"Input\".\n - 2009-12-09 Fixed bug#[4584](http://bugs.otrs.org/show_bug.cgi?id=4584) - Auto response does not use selected from e-mail\n    address.\n - 2009-12-09 Fixed bug#[4556](http://bugs.otrs.org/show_bug.cgi?id=4556) - Translation \"Accounted Time\" to german \"Zugewiesene Zeit\".\n - 2009-12-09 Fixed bug#[4184](http://bugs.otrs.org/show_bug.cgi?id=4184) - Can't call method \"NotificationGet\" on\n    an undefined value.\n - 2009-12-09 Fixed bug#[4371](http://bugs.otrs.org/show_bug.cgi?id=4371) - DataSelected value for config option\n    PreferencesGroups###WatcherNotify doesn't work.\n - 2009-12-09 Fixed bug#[4486](http://bugs.otrs.org/show_bug.cgi?id=4486) - Some preferences displayed in AdminUser are not correct.\n - 2009-12-09 Fixed bug#[4363](http://bugs.otrs.org/show_bug.cgi?id=4363) - Kernel/Output/HTML/Layout.pm -\\> PageNavBar()\n    mistakes because of missing checks and descriptions.\n - 2009-12-08 Fixed bug#[4361](http://bugs.otrs.org/show_bug.cgi?id=4361) - Umlauts in Dashboard are not displayed correcty\n    after refresh on non-unicode databases.\n - 2009-12-08 Fixed bug#[4323](http://bugs.otrs.org/show_bug.cgi?id=4323) - Customer Interface shows last customer article\n    instead of last article.\n - 2009-12-08 Fixed bug#[4435](http://bugs.otrs.org/show_bug.cgi?id=4435) - Inline attachments break in some scenarios like\n    AgentTicketCompose and AgentTicketForward.\n - 2009-12-08 Fixed bug#[4384](http://bugs.otrs.org/show_bug.cgi?id=4384) - Customer User Info not deleted when From in\n    AgentTicketPhone is changed.\n - 2009-12-08 Fixed bug#[4482](http://bugs.otrs.org/show_bug.cgi?id=4482) - Owner update possible with no new owner set.\n - 2009-12-07 Fixed bug#[4246](http://bugs.otrs.org/show_bug.cgi?id=4246) - Response Templates fail to populate for certain\n    email tickets.\n - 2009-12-07 Fixed bug#[4381](http://bugs.otrs.org/show_bug.cgi?id=4381) - Function change\\_selection in AgentTicketMove.\n - 2009-12-07 Fixed bug#[4400](http://bugs.otrs.org/show_bug.cgi?id=4400) - OTRS switches back to phone view when closing\n    ticket after split.\n - 2009-12-07 Fixed bug#[4597](http://bugs.otrs.org/show_bug.cgi?id=4597) - Unnecessary slash in download links.\n - 2009-12-07 Fixed bug#[2768](http://bugs.otrs.org/show_bug.cgi?id=2768) - AttachmentsContent-Disposition header downloading\n    a non-ASCII filename.\n - 2009-12-07 Fixed bug#[4282](http://bugs.otrs.org/show_bug.cgi?id=4282) - Fixed problems with CustomerInfo for Usernames\n    with a '+'.\n - 2009-12-07 Fixed bug#[4477](http://bugs.otrs.org/show_bug.cgi?id=4477) - Uninitialized Value issue with Redirect()\n    function in Layout.pm.\n - 2009-12-07 Fixed bug#[3907](http://bugs.otrs.org/show_bug.cgi?id=3907) - Caching function not working due to wrong\n     hardcoded umask.\n - 2009-12-02 Fixed bug#[4613](http://bugs.otrs.org/show_bug.cgi?id=4613) - Umlauts in \\<OTRS\\_\\*\\> variable and also on whole\n    message are not show right with ArticleStorageFS.\n - 2009-12-02 Fixed bug#[3667](http://bugs.otrs.org/show_bug.cgi?id=3667) - E-mail notification link is wrong when using\n    FastCGI.\n - 2009-11-25 Fixed bug#[4498](http://bugs.otrs.org/show_bug.cgi?id=4498) - Rich text editor places whitespace in front of\n    lines in plain text mail body.\n - 2009-11-23 Fixed bug#[4128](http://bugs.otrs.org/show_bug.cgi?id=4128) - Signature line breaks are stripped in\n    E-Mail-Ticket.\n - 2009-11-18 Fixed bug#[4319](http://bugs.otrs.org/show_bug.cgi?id=4319) - 'no quotable message' error for old messages\n    after upgrade.\n - 2009-11-18 Added FastCGI handle for web installer.\n - 2009-11-16 Fixed bug#[4464](http://bugs.otrs.org/show_bug.cgi?id=4464) - Spell checker (WYSIWIG + ispell) causes\n    exceptions sometimes.\n - 2009-11-16 Fixed bug#[4507](http://bugs.otrs.org/show_bug.cgi?id=4507) - Add Ticket Events for SLAUpdate, ServiceUpdate,\n    and TicketTypeUpdate in AdminNotificationEvent UI.\n - 2009-11-16 Fixed bug#[4509](http://bugs.otrs.org/show_bug.cgi?id=4509) - Notification (event based) comments are not\n    saved.\n - 2009-11-06 Fixed bug#[2069](http://bugs.otrs.org/show_bug.cgi?id=2069) - Update of CustomerCompany company\\_id is not\n    working.\n - 2009-11-06 Fixed bug#[2948](http://bugs.otrs.org/show_bug.cgi?id=2948) - Renamed crypt config option \"md5\" to \"md5-crypt\"\n    to avoid missunderstanding.\n - 2009-10-30 Fixed JS check for months, thanks to bes.\n - 2009-10-26 Fixed bug#[4455](http://bugs.otrs.org/show_bug.cgi?id=4455) - Input field in Preferences of a Dashboard\n    module doesn't save settings.\n - 2009-10-26 Fixed bug#[4454](http://bugs.otrs.org/show_bug.cgi?id=4454) - scripts/restore.pl is not working.\n - 2009-10-26 Fixed bug#[4447](http://bugs.otrs.org/show_bug.cgi?id=4447) - TimeUnits not saved in AgentTicketMove.pm when\n    omitting a note.\n - 2009-10-22 Fixed bug#[4188](http://bugs.otrs.org/show_bug.cgi?id=4188) - Restore original subject check in AgentTicketMerge.\n - 2009-10-21 Fixed bug#[4232](http://bugs.otrs.org/show_bug.cgi?id=4232) - SpellChecker Customer-Interface is not\n    working.\n - 2009-10-19 Fixed bug#[4433](http://bugs.otrs.org/show_bug.cgi?id=4433) - StateDefault is being ignored in when composing\n    an email answer, current ticket state or first one in list gets selected.\n\n#2.4.5 2009-10-15\n - 2009-10-12 Fixed bug#[3541](http://bugs.otrs.org/show_bug.cgi?id=3541) - Deleting tickets is not possible when using\n    Full Text Search Index on MS-SQL or PostgreSQL.\n - 2009-10-12 Fixed bug#[4392](http://bugs.otrs.org/show_bug.cgi?id=4392) - TicketCounter.log is created after permissions\n    are set.\n - 2009-10-07 Updated cpan module TEXT::CSV to version 1.14 to\n    fix bug#[4195](http://bugs.otrs.org/show_bug.cgi?id=4195) - Import with leading 0 in a field not possible.\n - 2009-10-07 Fixed bug#[3581](http://bugs.otrs.org/show_bug.cgi?id=3581) - Wrong German translation of \"no\".\n - 2009-10-07 Fixed bug#[4397](http://bugs.otrs.org/show_bug.cgi?id=4397) - QueueView shows wrong filter name.\n - 2009-10-07 Fixed bug#[4395](http://bugs.otrs.org/show_bug.cgi?id=4395) - Can't delete locked tickets via GenericAgent\n    on PostgreSQL and MS-SQL databases.\n - 2009-10-07 Fixed bug#[4367](http://bugs.otrs.org/show_bug.cgi?id=4367) - Generic agent produces TicketNumberLookup error\n    messages.\n - 2009-10-05 Fixed bug#[3793](http://bugs.otrs.org/show_bug.cgi?id=3793) - UTF-8 PostgreSQL database encode issues on\n    incoming emails.\n - 2009-10-05 Updated Spanish translation, thanks to Emiliano Augusto!\n - 2009-10-02 Fixed bug#[4379](http://bugs.otrs.org/show_bug.cgi?id=4379) - Array parameters not working in mkStats.pl\n - 2009-09-30 Fixed bug#[4348](http://bugs.otrs.org/show_bug.cgi?id=4348) - Dashboard: Upcoming Events Caching on a\n    per-user basis.\n - 2009-09-30 Fixed bug#[4338](http://bugs.otrs.org/show_bug.cgi?id=4338) - Enhancement: Be able to disable customer\n    feature of customer\\_id to have access to all ticket with same customer id.\n - 2009-09-30 Fixed bug#[4358](http://bugs.otrs.org/show_bug.cgi?id=4358) - Unable to insert inline images in customer\n    frontend if WebUploadCacheModule is set to \"FS\".\n - 2009-09-30 Fixed bug#[4355](http://bugs.otrs.org/show_bug.cgi?id=4355) - SLA dropdown does not populate in\n    AgentTicketEmail.\n - 2009-09-29 Fixed bug#[3248](http://bugs.otrs.org/show_bug.cgi?id=3248) - TicketSearch with ExtendedSearchCondition not\n    working correct.\n - 2009-09-29 Fixed bug#[4341](http://bugs.otrs.org/show_bug.cgi?id=4341) - RTE is not coupled with RichTextViewing. Rich\n    text is being shown, even if the text/plain MIME part is available.\n    Added new config option to force rich text viewing in ticket zoom.\n\n```\n     SysConfig -> Ticket -> Frontend::Agent::Ticket::ViewZoom ->\n      -=> Ticket::Frontend::ZoomRichTextForce\n```\n\n - 2009-09-28 Fixed bug#[4269](http://bugs.otrs.org/show_bug.cgi?id=4269) - Softwareerror in stats module after uninstall\n    ITSMIncidentProblemManagement\n - 2009-09-28 Fixed bug#[4341](http://bugs.otrs.org/show_bug.cgi?id=4341) - No HighlightColors configured fills up OTRS log\n    file with warnings.\n - 2009-09-28 Fixed bug#[4328](http://bugs.otrs.org/show_bug.cgi?id=4328) - Incorrect charset in AgentTicketAttachment.\n - 2009-09-28 Fixed bug#[4333](http://bugs.otrs.org/show_bug.cgi?id=4333) - StateGet() gives wrong error message.\n - 2009-09-26 Fixed bug#[4302](http://bugs.otrs.org/show_bug.cgi?id=4302) - Dashboard: Tickets Stats graph incorrect\n   (permission related).\n - 2009-09-24 Fixed bug#[3909](http://bugs.otrs.org/show_bug.cgi?id=3909) - Optional TicketFreeTimes with AgentTicketCompose\n    break when attaching a file\n - 2009-09-23 Fixed bug#[4326](http://bugs.otrs.org/show_bug.cgi?id=4326) - Notification emails have empty lines by using\n    opera at creation time.\n - 2009-09-23 Fixed bug#[3001](http://bugs.otrs.org/show_bug.cgi?id=3001) - Agent ticket queue ordering by priority causes\n    SQL error.\n - 2009-09-23 Fixed bug#[3969](http://bugs.otrs.org/show_bug.cgi?id=3969) - Role \\<-\\> User Admin Screen Refresh Error.\n - 2009-09-23 Fixed bug#[3787](http://bugs.otrs.org/show_bug.cgi?id=3787) - Generic Agent: Send no notifications is not\n    working.\n - 2009-09-23 Fixed bug#[4222](http://bugs.otrs.org/show_bug.cgi?id=4222) - Changed Italian translation of \"Login As\".\n - 2009-09-23 Fixed bug#[3923](http://bugs.otrs.org/show_bug.cgi?id=3923) - Frontend::Output::FilterText###OutputFilterTextAutoLink\n    does not work.\n - 2009-09-23 Fixed bug#[4226](http://bugs.otrs.org/show_bug.cgi?id=4226) - \"Previous owner\" alway empty when a new owner\n    must be defined.\n - 2009-09-23 Fixed bug#[4322](http://bugs.otrs.org/show_bug.cgi?id=4322) - Bulk-Action checkboxes are refilled wrongly by\n    Firefox-Autocomplete feature.\n - 2009-09-23 Fixed bug#[4320](http://bugs.otrs.org/show_bug.cgi?id=4320) - Javascript-check on empty body not working\n    with RichText-Editor (RTE).\n - 2009-09-23 Fixed bug#[2936](http://bugs.otrs.org/show_bug.cgi?id=2936) - $QData{\"\"} and $Quote{\"\"} crashes if a space\n    is set between the arguments.\n - 2009-09-22 Fixed bug#[4262](http://bugs.otrs.org/show_bug.cgi?id=4262) - Encoding issue with Event-based notifications.\n - 2009-09-22 Fixed bug#[1420](http://bugs.otrs.org/show_bug.cgi?id=1420) - $Text{\"User\"} instead of $Text{\"Username\"} in\n    AdminUserForm.dtl\n - 2009-09-22 Ensured that plain article body is used for ArticleViewModules\n    in AgentTicketZoom.\n - 2009-09-21 Fixed bug#[2087](http://bugs.otrs.org/show_bug.cgi?id=2087) - AgentTicketMove does not consider responsible\n    feature.\n - 2009-09-21 Fixed bug#[4029](http://bugs.otrs.org/show_bug.cgi?id=4029) - S/MIME activation with unclear message\n    message/incomplete documentation.\n - 2009-09-21 Fixed bug#[3408](http://bugs.otrs.org/show_bug.cgi?id=3408) - Richtext editor - editor windows is way to small.\n - 2009-09-21 Fixed bug#[4188](http://bugs.otrs.org/show_bug.cgi?id=4188) - Moving junk mails unnecessarily need subject and\n    body.\n - 2009-09-21 Fixed bug#[4189](http://bugs.otrs.org/show_bug.cgi?id=4189) - RTE off inserts a blank line in the text editor\n    field.\n - 2009-09-21 Fixed bug#[4080](http://bugs.otrs.org/show_bug.cgi?id=4080) - Rich editors javascript overrides onload function.\n - 2009-09-21 Fixed bug#[3818](http://bugs.otrs.org/show_bug.cgi?id=3818) - Customer History - Small/Medium/Preview does\n    not work.\n - 2009-09-21 Fixed bug#[2532](http://bugs.otrs.org/show_bug.cgi?id=2532) - Problem when setting queues and subqueues to\n    invalid.\n - 2009-09-18 Updated Spanish translation, thanks to Gustavo Azambuja!\n - 2009-09-16 Fixed bug#[4288](http://bugs.otrs.org/show_bug.cgi?id=4288) - 4288: Use of uninitialized value in\n    AdminGenericAgent.pm.\n - 2009-09-16 Fixed bug#[4292](http://bugs.otrs.org/show_bug.cgi?id=4292) - \"\\<some@example.com\\>\" in body breaks body on\n    ticket split.\n - 2009-09-08 Fixed bug#[4255](http://bugs.otrs.org/show_bug.cgi?id=4255) - RichText is not coupled with RichTextViewing.\n    Rich Text is being shown, even if the text/plain MIME part is available.\n - 2009-09-08 Fixed bug#[4243](http://bugs.otrs.org/show_bug.cgi?id=4243) - Adding a key to DefaultTheme HostBased via\n    Sysconfig breaks OTRS.\n - 2009-09-08 Fixed bug#[4257](http://bugs.otrs.org/show_bug.cgi?id=4257) - No event based notification is sent on queue\n    or state update.\n - 2009-09-08 Fixed bug#[4233](http://bugs.otrs.org/show_bug.cgi?id=4233) - AgentTicketCompose doesn't remember next state\n    while attaching a file.\n - 2009-09-08 Fixed bug#[4228](http://bugs.otrs.org/show_bug.cgi?id=4228) - scripts/DBUpdate-to-2.4.pl -\n    MigrateCustomerNotification() fails.\n - 2009-09-08 Fixed bug#[4232](http://bugs.otrs.org/show_bug.cgi?id=4232) - SpellChecker Customer-Interface is not\n    working.\n - 2009-09-08 Fixed bug#[4248](http://bugs.otrs.org/show_bug.cgi?id=4248) - follow up email contains the ticket number two\n    times.\n - 2009-09-07 Fixed bug#[4253](http://bugs.otrs.org/show_bug.cgi?id=4253) - No customer get found by using german umlaut\n    \"e. g. m\u00ef\u00bf\u00bdller\".\n - 2009-09-02 Fixed bug#[4186](http://bugs.otrs.org/show_bug.cgi?id=4186) - Customer search autocomplete result field is\n    sometimes too small to show complete customer entry.\n - 2009-09-02 Fixed bug#[4234](http://bugs.otrs.org/show_bug.cgi?id=4234) - Typo in german update message.\n - 2009-09-01 Fixed bug#[4139](http://bugs.otrs.org/show_bug.cgi?id=4139) - Missing config option to show or hide customer\n    history tickets.\n - 2009-09-01 Fixed bug#[4160](http://bugs.otrs.org/show_bug.cgi?id=4160) - Toolbar icons not correct in AdminCustomerUser.\n - 2009-09-01 Updated French translation, thanks to Remi Seguy.\n - 2009-09-01 Added Options for FirstResponseTime,UpdateTime,SolutionTime and\n    CalendarID to bin/otrs.addQueue.\n - 2009-09-01 Fixed bug#[4214](http://bugs.otrs.org/show_bug.cgi?id=4214) - TicketSearch on TicketID with ArrayRef doesn't\n    give results.\n\n#2.4.4 2009-08-31\n - 2009-08-31 Fixed bug#[4105](http://bugs.otrs.org/show_bug.cgi?id=4105) - CustomerUser has access to other Customers\n    tickets than defined in CustomerIDs.\n - 2009-08-31 Fixed Android browser support.\n - 2009-08-31 Added SOAP::Lite, which is needed for the XML-RPC Interface,\n    to bin/otrs.checkModules.\n - 2009-08-29 Fixed bug#[4018](http://bugs.otrs.org/show_bug.cgi?id=4018) - CustomerCompany in ModuleAction section while\n    CustomerUser in Module section.\n - 2009-08-28 Fixed bug#[4159](http://bugs.otrs.org/show_bug.cgi?id=4159) - Text Editor does not work with Konqueror.\n - 2009-08-28 Fixed bug#[4117](http://bugs.otrs.org/show_bug.cgi?id=4117) - UPGRADING: SetPermission.sh has to be run\n    before the update script is started.\n - 2009-08-28 Fixed bug#[1917](http://bugs.otrs.org/show_bug.cgi?id=1917) - Wrong Content-Type in downloaded message\n    from ArticlePlain.\n - 2009-08-28 Fixed wrong quoting in links in AgentTicketZoom.dtl and\n    CustomerTicketZoom.dtl.\n - 2009-08-28 Fixed bug#[4203](http://bugs.otrs.org/show_bug.cgi?id=4203) - No German translation for \"My Locked Tickets\".\n - 2009-08-28 Fixed bug#[1245](http://bugs.otrs.org/show_bug.cgi?id=1245) - Queues and responses are sorted descending\n    instead of ascending in AdminQueueResponses.\n - 2009-08-27 Fixed bug#[4198](http://bugs.otrs.org/show_bug.cgi?id=4198) - Error with services with one bracket in the\n    name.\n - 2009-08-27 Fixed bug#[4085](http://bugs.otrs.org/show_bug.cgi?id=4085) - The UPGRADING document is incorrect and\n    misleading.\n - 2009-08-27 Fixed bug#[2768](http://bugs.otrs.org/show_bug.cgi?id=2768) - AttachmentsContent-Disposition header\n    downloading a with non-ASCII filename.\n - 2009-08-27 Fixed bug#[3974](http://bugs.otrs.org/show_bug.cgi?id=3974) - Missing template stats in the 2.4.0 beta 5.\n - 2009-08-27 Fixed bug#[3297](http://bugs.otrs.org/show_bug.cgi?id=3297) - Disabling of AgentTicketMerge does not remove\n    merge link.\n - 2009-08-26 Fixed bug#[3746](http://bugs.otrs.org/show_bug.cgi?id=3746) - Show expiration date for PGP or S/MIME keys.\n - 2009-08-25 Fixed bug#[2676](http://bugs.otrs.org/show_bug.cgi?id=2676) - Translation issue for May.\n - 2009-08-26 Fixed bug#[4122](http://bugs.otrs.org/show_bug.cgi?id=4122) - META: spell checker issues with Rich Text\n    Editor.\n - 2009-08-25 Added prio color in dashboard ticket overview like in ticket\n    overview \"s\" mode.\n - 2009-08-24 Fixed bug#[4090](http://bugs.otrs.org/show_bug.cgi?id=4090) - RSS feeds have broken umlauts.\n - 2009-08-24 Fixed bug#[4177](http://bugs.otrs.org/show_bug.cgi?id=4177) - ArticleFilterDialog does not work in IE\n    Javascript.\n - 2009-08-24 Added COPYING-Third-Party - a list of all included party\n    libraries.\n - 2009-08-21 Fixed bug#[4178](http://bugs.otrs.org/show_bug.cgi?id=4178) - Added bundle of Apache2::Reload in\n    Kernel/cpan-lib/, because it's no longer distributed with mod\\_perl.\n - 2009-08-21 Fixed bug#[4170](http://bugs.otrs.org/show_bug.cgi?id=4170) - Typos in AgentTicketQueue and Sysconfig:MOTD.\n - 2009-08-19 Fixed bug#[4070](http://bugs.otrs.org/show_bug.cgi?id=4070) - No refresh in CPanel activated by default /\n    default values of preferences sys config not taken over.\n - 2009-08-18 Fixed bug#[4161](http://bugs.otrs.org/show_bug.cgi?id=4161) - System takes about 20sec to get edit screen\n    like note or compose answer.\n - 2009-08-18 Fixed bug#[4073](http://bugs.otrs.org/show_bug.cgi?id=4073) - Forward form does not add attachment.\n - 2009-08-18 Fixed bug#[4102](http://bugs.otrs.org/show_bug.cgi?id=4102) - otrs.addUser2Group: \"Use of uninitialized\n    value\" message.\n - 2009-08-18 Replaced a Die() call in Kernel/System/Package.pm with an normal\n    return for a better error handling.\n - 2009-08-18 Fixed bug#[4049](http://bugs.otrs.org/show_bug.cgi?id=4049) - SetPermissions.sh fails if .fetchmailrc does\n    not exist.\n - 2009-08-18 Added attachment support of ArticleCreate event in event based\n    notification feature.\n - 2009-08-18 Fixed bug#[4149](http://bugs.otrs.org/show_bug.cgi?id=4149) - TicketCreate event does not have access to\n    Article attributes.\n - 2009-08-18 Fixed bug#[4155](http://bugs.otrs.org/show_bug.cgi?id=4155) - Typo in German translation of\n    AdminSystemAddressForm.dtl.\n - 2009-08-17 Fixed bug#[3872](http://bugs.otrs.org/show_bug.cgi?id=3872) - Typo in CustomerFrontend::CommonParam###Action\n    issue.\n - 2009-08-17 Fixed bug#[4154](http://bugs.otrs.org/show_bug.cgi?id=4154) - Signature seperator is wrong.\n - 2009-08-16 Fixed bug#[4011](http://bugs.otrs.org/show_bug.cgi?id=4011) - Kernel/System/PostMaster/Filter/Match.pm\n    global symbol $Prefix not declared.\n - 2009-08-14 Fixed bug#[4150](http://bugs.otrs.org/show_bug.cgi?id=4150) - US/English Date Format not available.\n - 2009-08-13 Fixed bug#[4092](http://bugs.otrs.org/show_bug.cgi?id=4092) - Junk tickets shown as New tickets in Dashboard.\n - 2009-08-13 Fixed bug#[4129](http://bugs.otrs.org/show_bug.cgi?id=4129) - Watched Tickets in Dashboard.\n - 2009-08-13 Fixed bug#[4072](http://bugs.otrs.org/show_bug.cgi?id=4072) - Inline images broken in reply with\n    ArticleStorageFS as attachment backend.\n\n#2.4.3 2009-08-12\n - 2009-08-10 Fixed bug#[4123](http://bugs.otrs.org/show_bug.cgi?id=4123) - Reinstall of OPM packages with incorrect\n    framework or OS possible.\n - 2009-08-10 Fixed bug#[4116](http://bugs.otrs.org/show_bug.cgi?id=4116) - Error when bouncing welcome ticket.\n - 2009-08-10 Fixed bug#[3870](http://bugs.otrs.org/show_bug.cgi?id=3870) - OTRS utf-8 to iso-8859-1 conversion error\n    messages on every incoming mail.\n - 2009-08-05 Fixed bug#[4089](http://bugs.otrs.org/show_bug.cgi?id=4089) - root on OTRS Server gets an e-mail every 10\n    minutes (Can't call method \"FETCH\" on an undefined value at ...Net/LDAP.pm\n    line 274)\n - 2009-08-05 Fixed bug#[4107](http://bugs.otrs.org/show_bug.cgi?id=4107) - OpenSearch URL incorrect in Customer\n    Interface.\n - 2009-08-03 Improved ChallengeTokenCheck to check all token of own\n    sessions (not only of current session).\n - 2009-08-01 Fixed bug#[4086](http://bugs.otrs.org/show_bug.cgi?id=4086) - Kernel/System/Ticket.pm - next not in loop.\n - 2009-08-01 Fixed bug#[2795](http://bugs.otrs.org/show_bug.cgi?id=2795) - Modification on SubjectRe (possible use of\n    \"\" in Ticket::SubjectRe).\n - 2009-07-31 Fixed bug#[4044](http://bugs.otrs.org/show_bug.cgi?id=4044) - WYSIWYG DefaultPreViewLines in ExpandMode.\n - 2009-07-30 Fixed bug#[4082](http://bugs.otrs.org/show_bug.cgi?id=4082) - Queue customer notification moved to new\n    event based notification feature, but it's still in admin interface and\n    initial insert file.\n - 2009-07-30 Fixed bug#[4081](http://bugs.otrs.org/show_bug.cgi?id=4081) - In Dashboard ticket overviews it is not\n    possible to go to page 2,3,... and so on.\n - 2009-07-30 Fixed bug#[4039](http://bugs.otrs.org/show_bug.cgi?id=4039) - Use of uninitialized value -\\>\n    Kernel/Modules/AdminPackageManager.pm line.\n - 2009-07-30 Fixed bug#[4052](http://bugs.otrs.org/show_bug.cgi?id=4052) - Error composing a message in a Ticket with\n    \"empty answer\" if $QData{\"OrigFrom\"} is used in config option\n    Ticket::Frontend::ResponseFormat.\n - 2009-07-30 Fixed bug#[4048](http://bugs.otrs.org/show_bug.cgi?id=4048) - Subject starts with \"Re:\" when creating new\n    ticket via EmailTicket.\n - 2009-07-30 Fixed bug#[4031](http://bugs.otrs.org/show_bug.cgi?id=4031) - Generic Agent does not handle ticket create\n    time settings.\n\n#2.4.2 2009-07-29\n - 2009-07-28 Added \"bin/otrs.CacheDelete.pl\" to remove all cached items.\n - 2009-07-28 Updated Chinese Simple translation, thanks to Never Min!\n - 2009-07-28 Updated Swedish translation, thanks to Mikael Mattsson!\n - 2009-07-27 Fixed bug#[3962](http://bugs.otrs.org/show_bug.cgi?id=3962) - Page displayed with errors when filename\n    in attachment has simple quotes in it.\n - 2009-07-27 Fixed bug#[4054](http://bugs.otrs.org/show_bug.cgi?id=4054) - Bulk-action don't change ticket state.\n - 2009-07-27 Fixed bug#[3944](http://bugs.otrs.org/show_bug.cgi?id=3944) - Obligated TicketFreeText in composer breaks\n    WYSIWYG Editor when replying.\n - 2009-07-26 Fixed bug#[4009](http://bugs.otrs.org/show_bug.cgi?id=4009) - Improved sql statement in GenericAgent (\n    SELECT distinct(job\\_name) FROM generic\\_agent\\_jobs).\n - 2009-07-26 Fixed bug#[3987](http://bugs.otrs.org/show_bug.cgi?id=3987) - When executing upgrade script (\n    scripts/DBUpdate-to-2.4.pl), get an error \"Need Ticket::ViewableStateType\n    in Kernel/Config.pm!\".\n - 2009-07-26 Fixed bug#[3984](http://bugs.otrs.org/show_bug.cgi?id=3984) - HTML Notifications - Links to ticketsystem not\n    \"clickable\" in email client thunderbird.\n - 2009-07-25 Fixed bug#[4038](http://bugs.otrs.org/show_bug.cgi?id=4038) - Entering text for RTL languages is impossible\n    in rich text mode!\n - 2009-07-25 Fixed bug#[4046](http://bugs.otrs.org/show_bug.cgi?id=4046) - Dashboard New/Open do not show anything in\n   \"New Tickets\" and \"Open Tickets\" section.\n - 2009-07-24 Fixed bug#[4043](http://bugs.otrs.org/show_bug.cgi?id=4043) - French translation is corrupted.\n - 2009-07-24 Fixed bug#[3904](http://bugs.otrs.org/show_bug.cgi?id=3904) - Signing Mails with PGP or S/MIME not possible\n   in AgentTicketEmail.\n - 2009-07-23 Fixed bug#[4020](http://bugs.otrs.org/show_bug.cgi?id=4020) - OTRS crashes when signing with PGP/GnuPG\n    - Got no EncodeObject!\n - 2009-07-23 Fixed bug#[2304](http://bugs.otrs.org/show_bug.cgi?id=2304) - Two notification when a owner is changed.\n - 2009-07-23 Fixed bug#[2495](http://bugs.otrs.org/show_bug.cgi?id=2495) - Annoying Responsible Update Notifications.\n - 2009-07-23 Fixed bug#[4036](http://bugs.otrs.org/show_bug.cgi?id=4036) - Dashboard Plugin Upcoming Events shows also\n    \"pending auto close\" tickets as \"pending reminder reached in\".\n - 2009-07-22 Fixed bug#[4035](http://bugs.otrs.org/show_bug.cgi?id=4035) - Dashboard Product Notify get's shown always,\n    also if no new release info is available.\n - 2009-07-22 Fixed bug#[4027](http://bugs.otrs.org/show_bug.cgi?id=4027) - RichText: Incoming emails written with MS\n    Word 12 seems to be empty.\n - 2009-07-22 Fixed bug#[4026](http://bugs.otrs.org/show_bug.cgi?id=4026) - Quote in Auto-Responses of new tickets which\n    are created over the web interface are not plain text. Quote in\n    Auto-Responses based on emails are working fine.\n - 2009-07-22 Fixed bug#[4024](http://bugs.otrs.org/show_bug.cgi?id=4024) - Use of Sessions per URL (not cookie) breaks\n    Dashboard.\n\n#2.4.1 2009-07-22\n - 2009-07-21 Updated Hungarian translation, thanks to Arnold Matyasi!\n - 2009-07-21 Updated Turkish translation, thanks to Meric Iktu!\n - 2009-07-21 Moved to default font \"Geneva,Helvetica,Arial\" of rich text\n    feature.\n - 2009-07-21 Fixed bug#[4005](http://bugs.otrs.org/show_bug.cgi?id=4005) - Spellcheck with FCKEditor Plugin for WYSIWYG.\n - 2009-07-21 Fixed bug#[4022](http://bugs.otrs.org/show_bug.cgi?id=4022) - In AgentTicketZoom I get the following error\n    message in log index.pl: Malformed UTF-8 character (unexpected\n    non-continuation byte 0x74, immediately after start byte 0xe9) in\n    substitution iterator at ../..//Kernel/Modules/AgentTicketAttachment.pm\n    line 192.\n - 2009-07-21 Added/Updated new Chinese Traditional translation, thanks to\n    Bin Du, Yiye Huang and Qingjiu Jia!\n\n#2.4.0 beta6 2009-07-19\n - 2009-07-19 Moved to fckeditor (http://www.fckeditor.net/) as rich text\n    editor because of several problems regaring text formating with YUI rich\n    text editor.\n - 2009-07-19 Updated CPAN File::Temp to verion 0.22.\n - 2009-07-19 Updated Chinese Simple translation, thanks to Never Min!\n - 2009-07-19 Added new Chinese Traditional translation, thanks to Bin Du,\n    Yiye Huang and Qingjiu Jia!\n - 2009-07-19 Updated Chinese Simple translation, thanks to Bin Du,\n    Yiye Huang and Qingjiu Jia!\n - 2009-07-18 Fixed bug#[4004](http://bugs.otrs.org/show_bug.cgi?id=4004) - Can not search for customer strings like\n    \"St. Peters\", I always get the result of \"St.+Peters\" which is much\n     more than I want. Please make it working like in OTRS 2.3.\n - 2009-07-18 Fixed bug#[3991](http://bugs.otrs.org/show_bug.cgi?id=3991) - Link in HTML Article opens in iframe.\n - 2009-07-18 Renamed Kernel/System/HTML2Ascii.pm to\n    Kernel/System/HTMLUtils.pm, because of better naming.\n - 2009-07-17 Updated Russian translation, thanks to Andrey Cherepanov!\n - 2009-07-16 Fixed bug#[4001](http://bugs.otrs.org/show_bug.cgi?id=4001) - proxy usage - rss get's not loaded via\n    proxy settings.\n - 2009-07-16 Updated Russian translation, thanks to Egor Tsilenko!\n - 2009-07-16 Fixed bug#[3994](http://bugs.otrs.org/show_bug.cgi?id=3994) - It's possible to create an email ticket\n - 2009-07-16 Fixed bug#[3997](http://bugs.otrs.org/show_bug.cgi?id=3997) - Wrong named variable in AgentTicketZoom.\n - 2009-07-16 Fixed bug#[3993](http://bugs.otrs.org/show_bug.cgi?id=3993) - Error message about wrong email adress\n    not visible in AgentTicketPhone and AgentTicketEmail if AutoComplete\n    is enabled.\n - 2009-07-16 Fixed bug#[3994](http://bugs.otrs.org/show_bug.cgi?id=3994) - It's possible to create an email ticket\n    for internal queues.\n - 2009-07-15 Fixed bug#[3663](http://bugs.otrs.org/show_bug.cgi?id=3663) - Responsible Notification does not happen\n    for pending reached.\n    Added config optio to be compat. to old OTRS versions.\n    --\\>\\> SysConfig -\\> Ticket -\\> Core::Ticket -\\>\n             Ticket::PendingNotificationNotToResponsible \\<\\<--\n - 2009-07-15 Updated Italian translation, thanks to Giordano Bianchi,\n    Emiliano Coletti and Alessandro Faraldi!\n - 2009-07-14 Fixed bug#[3983](http://bugs.otrs.org/show_bug.cgi?id=3983) - bin/PendingJobs.pl is not sendign reminder\n    email (Error Message: Message: Need RecipientID!).\n - 2009-07-14 Fixed bug#[3977](http://bugs.otrs.org/show_bug.cgi?id=3977) - Tags of auto responses get not replaced.\n - 2009-07-14 Fixed bug#[3960](http://bugs.otrs.org/show_bug.cgi?id=3960) - Split function does not use RichText content\n    from original article for new article.\n - 2009-07-14 Fixed bug#[3976](http://bugs.otrs.org/show_bug.cgi?id=3976) - AgentTicketBounce does not work when\n    Frontend::RichText is disabled.\n - 2009-07-13 Updated Russian translation, thanks to Mike Lykov!\n - 2009-07-13 Updated Italian translation, thanks to Remo Catelotti!\n - 2009-07-13 Fixed bug#[3975](http://bugs.otrs.org/show_bug.cgi?id=3975) - New Dashboard Featrue: SQL of Upcoming Events\n    (for pending remidner time) is not using database index, index on\n    until\\_time is missing. Use scripts/DBUpdate-to-2.4.\\*.sql for upgrading.\n - 2009-07-13 Fixed bug#[3972](http://bugs.otrs.org/show_bug.cgi?id=3972) - Sub Kernel::System::TicketOwnerCheck() gives\n    wrong result if asked for different TicketIDs in one TicketObject.\n - 2009-07-13 Updated Persian translation, thanks to Amir Shams Parsa!\n - 2009-07-13 Updated Dutch translation, thanks to Michiel Beijen!\n - 2009-07-13 Fixed bug#[3790](http://bugs.otrs.org/show_bug.cgi?id=3790) - POP3S doesn't fail when IO::Socket::SSL is not\n    installed or mail server address is wrong.\n - 2009-07-13 Improved dashboard api / module layer to load content changes\n    via AJAX / no compiled dashboard reload is needed.\n - 2009-07-11 Added new dashboard backend to show online agent and customers.\n - 2009-07-11 Improved dashboard api / module layer (added Preferences() to\n    API to get/modify config settings of backend at runtime).\n - 2009-07-11 Fixed bug#[3967](http://bugs.otrs.org/show_bug.cgi?id=3967) - Unable to create notes by using GenericAgent\n    (Error: Need Charset!).\n - 2009-07-11 Fixed bug#[3965](http://bugs.otrs.org/show_bug.cgi?id=3965) - New TicketOverview S/M/L feature: Last used\n    ticket view mode get't only stored in current session but get lost after\n    new relogin.\n - 2009-07-11 Fixed bug#[3964](http://bugs.otrs.org/show_bug.cgi?id=3964) - Update script is not working correctly (Can't\n    call method \"NotificationAdd\" on an undefined value at\n    scripts/DBUpdate-to-2.4.pl line 218).\n - 2009-07-11 Fixed bug#[3963](http://bugs.otrs.org/show_bug.cgi?id=3963) - Upgrade script is not executable\n    scripts/DBUpdate-to-2.4.pl.\n\n#2.4.0 beta5 2009-07-09\n - 2009-07-09 Fixed bug#[3938](http://bugs.otrs.org/show_bug.cgi?id=3938) - GenericAgent.pl - send agent escalation\n    notification escalation ERROR (Got no EncodeObject).\n - 2009-07-09 Updated Polish translation, thanks to Artur Skalski!\n - 2009-07-09 Updated French translation, thanks to Olivier Sallou!\n - 2009-07-09 Updated Persian translation, thanks to Afshar Mohebbi!\n    See also at\n    http://afsharm.blogspot.com/2009/06/localizing-otrs-into-persian-farsi.html\n - 2009-07-09 Added CSV/HTML export for Admin-SQL-Box feature.\n - 2009-07-09 Fixed bug#[3956](http://bugs.otrs.org/show_bug.cgi?id=3956) - New OpenSearch feature for fulltext search\n    is not working.\n - 2009-07-08 Fixed bug#[3954](http://bugs.otrs.org/show_bug.cgi?id=3954) - Lite Theme is not working.\n - 2009-07-07 Updated Italian translation, thanks to Remo Catelotti!\n - 2009-07-06 Fixed bug#[3948](http://bugs.otrs.org/show_bug.cgi?id=3948) - Some \\<OTRS\\> variables are not replaced in\n    responses and auto responses.\n - 2009-07-06 Fixed bug#[3946](http://bugs.otrs.org/show_bug.cgi?id=3946) - Incomplete substitution of tag\n    \\<OTRS\\_FIRST\\_NAME\\> in templates.\n - 2009-07-01 Added Kernel/Language/en\\_CA.pm and Kernel/Language/en\\_GB.pm\n    to have different date formats for US, CA and GB.\n - 2009-07-01 Fixed bug#[3939](http://bugs.otrs.org/show_bug.cgi?id=3939) - Not able to configure an external\n    customer dastabase source // Got no EncodeObject! at Kernel/System/DB.pm\n    line 96.\n - 2009-07-01 Fixed bug#[3935](http://bugs.otrs.org/show_bug.cgi?id=3935) - Frontend::CustomerUser::Item###9-OpenTickets\n    does not work anymore.\n - 2009-07-01 Fixed bug#[3936](http://bugs.otrs.org/show_bug.cgi?id=3936) - \"select all\" in bulk action is not working\n    on only one ticket in overview.\n - 2009-06-30 Updated Italian translation, thanks to Remo Catelotti!\n - 2009-06-30 Fixed bug#[3934](http://bugs.otrs.org/show_bug.cgi?id=3934) - Error message on email processing - without\n    any effect.\n\n#2.4.0 beta4 2009-06-30\n - 2009-06-25 Fixed bug#[3774](http://bugs.otrs.org/show_bug.cgi?id=3774) - Wrong processing of email address containing\n    www.com.\n - 2009-06-25 Fixed bug#[3892](http://bugs.otrs.org/show_bug.cgi?id=3892) - Wrong error message on agents changing his\n    password.\n - 2009-06-29 Fixed bug#[3933](http://bugs.otrs.org/show_bug.cgi?id=3933) - Kernel::System::LinkObject should be usable\n    in rpc.pl.\n - 2009-06-20 Updated Norwegian translation, thanks to Fredrik Andersen!\n - 2009-06-29 Added Latvian translation, thanks to Ivars Strazdins!\n - 2009-06-25 Fixed bug#[3911](http://bugs.otrs.org/show_bug.cgi?id=3911) - Not all Dashboard Functions e. g. charts\n    available in Internet Explorer 6.\n - 2009-06-25 Fixed bug#[3925](http://bugs.otrs.org/show_bug.cgi?id=3925) - Frontend::NavBarModule in agent navigation\n    bar \"Ticket::TicketSearchFulltext\" and \"Ticket::TicketSearchProfile\" not\n    working together.\n - 2009-06-25 Fixed bug#[3924](http://bugs.otrs.org/show_bug.cgi?id=3924) - Upcoming Events -\\> wrong displayed Escalation\n    time.\n - 2009-06-25 Fixed bug#[3917](http://bugs.otrs.org/show_bug.cgi?id=3917) - Dashboard will crash when no Internet\n    connection available - Module: ProductNotify.\n - 2009-06-25 Fixed bug#[3913](http://bugs.otrs.org/show_bug.cgi?id=3913) - Missing Modules in 2.4.0 beta1-beta3:\n    Kernel/Output/HTML/ServicePreferencesGeneric.pm and\n    Kernel/Output/HTML/SLAPreferencesGeneric.pm.\n - 2009-06-24 Fixed bug#[3826](http://bugs.otrs.org/show_bug.cgi?id=3826) - In auto responses and agent notifications,\n    WYSIWYG is not working.\n - 2009-06-24 Fixed bug#[3796](http://bugs.otrs.org/show_bug.cgi?id=3796) - Admin notification edit screen is not coming\n    proper in WYSIWYG editor.\n - 2009-06-22 Added PasswordMaxLoginFailed as password preferences to define\n    max login till user get gets disabled (invalid-temporarily). Feature\n    provided by Torsten Thau.\n - 2009-06-22 Fixed bug#[3775](http://bugs.otrs.org/show_bug.cgi?id=3775) - Translation error in Kernel/Language/de.pm.\n - 2009-06-22 Fixed bug#[3879](http://bugs.otrs.org/show_bug.cgi?id=3879) - Typing mistakes in the notification texts\n    (scripts/database/otrs-initial\\_insert.xml).\n - 2009-06-22 Fixed bug#[3907](http://bugs.otrs.org/show_bug.cgi?id=3907) - Sum rows/columns in stats only adds integers.\n - 2009-06-16 Fixed bug#[3881](http://bugs.otrs.org/show_bug.cgi?id=3881) - Dashboard - Error message when\n    http://otrs.org/rss/ is not reachable.\n - 2009-06-13 Fixed bug#[3791](http://bugs.otrs.org/show_bug.cgi?id=3791) - Safari v3+4 cannot work with WYSIWYG Editor.\n - 2009-06-10 Fixed bug#[3882](http://bugs.otrs.org/show_bug.cgi?id=3882) - Dashboard does not set LastScreenOverview.\n - 2009-06-10 Added own web user agent, Kernel::System::WebUserAgent. Removed\n    http/ftp access from Kernel::System::Package, moved to new core module.\n - 2009-06-10 Moved default menu type form \"Classic\" to \"Modern\".\n\n#2.4.0 beta3 2009-06-08\n - 2009-06-08 Fixed bug#[3852](http://bugs.otrs.org/show_bug.cgi?id=3852) - installer.pl throws Got no EncodeObject.\n - 2009-06-08 Fixed bug#[3842](http://bugs.otrs.org/show_bug.cgi?id=3842) - DBUpdate-to-2.4.pl - Error when updating from\n    beta1 to beta 2.\n - 2009-05-28 Added new management dashboard feature.\n - 2009-05-28 Added new event based notication management feature (notification\n    can get easy managed via the admin interface).\n - 2009-05-28 Fixed bug#[3868](http://bugs.otrs.org/show_bug.cgi?id=3868) - the replacement of %s in $Text{} content\n    doesn't work if the content is 0.\n - 2009-05-28 Fixed bug#[3846](http://bugs.otrs.org/show_bug.cgi?id=3846) - Generic Agents - cant set \"Create Times\"\n    settings.\n - 2009-05-27 Fixed bug#[3862](http://bugs.otrs.org/show_bug.cgi?id=3862) - typos in english warning message of\n    GenericAgent setup.\n - 2009-05-18 Updated CPAN module Text::CSV to version 1.12.\n\n#2.4.0 beta2 2009-05-15\n - 2009-05-15 Fixed bug#[3618](http://bugs.otrs.org/show_bug.cgi?id=3618) - Ticket history info (ticket\\_history.queue\\_id)\n    on TicketMove-Event is saving the old queue\\_id instead of the new queue\\_id.\n - 2009-05-15 Fixed bug#[3598](http://bugs.otrs.org/show_bug.cgi?id=3598) - Attachments are incorrectly displayed in\n    ticket zoom view when attachments are located in file system (done by\n    AttachmentFS) and now AttachmentDB backned is used.\n - 2009-05-15 Fixed bug#[3583](http://bugs.otrs.org/show_bug.cgi?id=3583) - Watched tickets do not follow queue rights.\n    Can't read watched tickets with no permissions in new queue.\n - 2009-05-15 Fixed bug#[3816](http://bugs.otrs.org/show_bug.cgi?id=3816) - Typo in some bin/\\*.pl files like\n    bin/PostMasterMailbox.pl.\n - 2009-05-15 Added escalation time selection in admin generic agent\n    interface.\n - 2009-05-15 Added notification event feature (be able to create custom\n    notifications based on ticket events). Old notifications get migrated\n    by scripts/DBUpdate-to-2.4.pl. Removed queue attributes for customer\n    notification options.\n - 2009-04-27 Fixed bug#[3805](http://bugs.otrs.org/show_bug.cgi?id=3805) - Error: Module\n    Kernel/Output/HTML/NavBarTicketBulkAction.pm not found!'\n - 2009-04-27 Fixed bug#[3802](http://bugs.otrs.org/show_bug.cgi?id=3802) - Errormessage: \"Got no EncodeObject!\" if\n    using rpc.pl (SOAP).\n - 2009-04-24 Fixed bug#[3691](http://bugs.otrs.org/show_bug.cgi?id=3691) - CustomerUser::LDAP does support GroupDN now.\n - 2009-04-23 Fixed bug#[3799](http://bugs.otrs.org/show_bug.cgi?id=3799) - The UPGRADING refrences a file not included\n    in the source code.\n - 2009-04-20 Updated nb\\_NO translation, thanks to Fredrik Andersen!\n - 2009-04-20 Fixed bug#[3786](http://bugs.otrs.org/show_bug.cgi?id=3786) - No CSS get found at installation time (no\n    colors are visable).\n\n#2.4.0 beta1 2009-04-20\n - 2009-04-20 Changed default config size of IPC-Log (LogSystemCacheSize)\n    to 32k (64k is not working on darwin).\n - 2009-04-20 Moved from bin/SetPermissions.sh to bin/SetPermissions.pl\n    for a better maintanance.\n - 2009-04-20 Added warning screen to AdminSysConfig, AdminPackageManager,\n    AdminGenericAgent to block to use it till SecureMode is activated.\n - 2009-04-18 Added SysConfig setting to (not) include custmers email address\n    on composing an answer \"Ticket::Frontend::ComposeAddCustomerAddress\".\n    Default is set to true.\n - 2009-04-17 Added own SysConfig settings for bulk action (\n    Ticket // Frontend::Agent::Ticket::ViewBulk).\n - 2009-04-15 Removed AgentCanBeCustomer option from agent frontend.\n    Customer followup messages can only be created from the customer frontend.\n - 2009-04-09 Added search for article create times in ticket search.\n - 2009-04-09 Improved email send functionality to properly format emails\n    with alternative parts and inline images.\n - 2009-04-09 Added enhancement bug#[3514](http://bugs.otrs.org/show_bug.cgi?id=3514) - RegExp support in ACLs. Now you\n    can use RegExp in ACLs like the following example:\n\n```perl\n    $Self->{TicketAcl}->{'ACL-Name-1'} = {\n       # match properties\n       Properties => {\n           Queue => {\n               Name => ['[RegExp]^Misc'],\n           },\n       },\n       # return possible options (white list)\n       Possible => {\n           # possible ticket options (white list)\n           Ticket => {\n               Service  => ['[RegExp]^t1', '[RegExp]^t2'],\n               Priority => [ '4 high' ],\n           },\n       },\n    };\n```\nStarting with \"[RegExp]\" in value area means the following will be a regexp\n    content.\n\nThis ACL will match all Queues with starting \"Misc\" and all services with\n    starting \"t1\" and \"t2\". So you do not longer need to write every full queue\n    names to the array list.\n\n   Usage of [RegExp] results in case-sensitive matching.\n   Usage of [regexp] results in case-insensitive matching.\n - 2009-04-08 Updated CPAN module CGI to version 3.43.\n - 2009-04-07 Changed default config size of IPC-Log (LogSystemCacheSize)\n    to 64k (160k is not working on darwin).\n - 2009-04-07 Added SMTPS support for outgoing emails (e. g. for sending\n    via gmail smtp server).\n - 2009-04-06 Added fulltext search feature for quick search (OpenSearch\n    format and input field in nav bar - disabled per default).\n - 2009-04-03 Added check for required perl version 5.8.6.\n - 2009-04-02 Added possibility to search tickets with params like\n    *OlderMinutes and \\*NewerMinutes with 0 minutes.\n - 2009-04-02 Fixed bug#[3732](http://bugs.otrs.org/show_bug.cgi?id=3732) - Improved russion translation.\n - 2009-04-02 Dropped MaxDB/SAPDB support due to some limitations.\n - 2009-04-01 Fixed bug#[3295](http://bugs.otrs.org/show_bug.cgi?id=3295) - SQL error when you have no state of type\n    \"pending reminder\".\n - 2009-04-01 Fixed bug#[2296](http://bugs.otrs.org/show_bug.cgi?id=2296) - Enable/disable \"blinking queue\" in QueueView\n    via SysConfig.\n - 2009-04-01 Fixed bug#[3641](http://bugs.otrs.org/show_bug.cgi?id=3641) - AgentTicketCustomer totally broken in CVS.\n - 2009-04-01 When merging tickets, assign article based ticket history\n    entries to the merged ticket as well.\n - 2009-04-01 Implemented enhancement/bug#[3333](http://bugs.otrs.org/show_bug.cgi?id=3333) - Increased the memory of\n    the shared memory used for SystemLog.\n - 2009-04-01 Fixed bug#[3737](http://bugs.otrs.org/show_bug.cgi?id=3737) - Non-ascii characters in filenames of outbound\n    email attachments are not quoted.\n - 2009-04-01 Implement enhancement/bug#[3527](http://bugs.otrs.org/show_bug.cgi?id=3527) - the input fields at the\n    restrictions of the stats module now allow the use of wildcards at the\n    beginning and end of a word (e.g. 'huber\\*'). This is now the same behavior\n    as in GenericAgent. But not the behavior of the TicketSearch.\n - 2009-03-30 Updated CPAN module Authen::SASL to version 2.12.\n - 2009-03-30 Updated CPAN module Text::CSV to version 1.11.\n - 2009-03-30 Updated CPAN module File::Temp to version 0.21.\n - 2009-03-17 Fixed bug#[3729](http://bugs.otrs.org/show_bug.cgi?id=3729) - Missing translation of \"Customer history\"\n    in AgentTicketCustomer.\n - 2009-03-17 Fixed bug#[3713](http://bugs.otrs.org/show_bug.cgi?id=3713) - Apache-error if ticket has only internal\n    articles.\n - 2009-03-06 Added article filter feature in TicketZoom.\n - 2009-03-01 Replaced dtl variable for image location \"$Env{\"Images\"}\" by\n    using config option \"$Config{\"Frontend::ImagePath\"}\" to remove not needed\n    $Env{} \"alias\". Added \"$Config{\"Frontend::JavaScriptPath\"}\" for java script\n    and \"$Config{\"Frontend::CSSPath\"}\" for css directory.\n - 2009-02-27 Added feature to show the ticket title or the last\n    customer subject in TicketOverviewSmall.\n - 2009-02-27 Added enhancement bug#[3271](http://bugs.otrs.org/show_bug.cgi?id=3271) Added accessibility of\n    Kernel::System::CustomerUser (CustomerUserObject) to bin/cgi-bin/rpc.pl\n    (SOAP handle).\n - 2009-02-17 Added group permission support for bulk feature (config via\n    SysConfig -\\> Ticket -\\> Core::TicketBulkAction).\n - 2009-02-17 Added read only permission support for watched tickets.\n - 2009-02-17 Added agent notification support for watched tickets (config\n    via perferences setting for each agent).\n - 2009-02-11 Fixed ticket# 2009020942001554 - generic agent is logging many\n    debug infos into log file.\n - 2009-02-09 Fixed bug#[3075](http://bugs.otrs.org/show_bug.cgi?id=3075) - IntroUpgrade Text is not shown during package\n    upgrade in admin interface of package manager.\n - 2009-02-09 Implement the same identifier handling for customer as for\n    user. This effects the files Kernel/Ouptut/HTML/\\*/CustomerNavigationBar.dtl\n    and Kernel/Ouptut/HTML/Layout.pm.\n - 2009-02-05 Removed the dtl-if from Header.dtl. And implement a new\n    handling to set a indentifier for the user information (usually visible\n    on the top of the right side of a page).\n - 2009-02-04 Implement a config option to remove OTRS version tags\n    from the http headers.\n - 2009-02-04 Removed a useless slogan from the HTML/DTL-Headers (\n    Kernel/Ouptut/HTML/\\*/Header.dtl, Kernel/Ouptut/HTML/\\*/Footer.dtl, ...).\n - 2009-01-28 Fixed bug#[3233](http://bugs.otrs.org/show_bug.cgi?id=3233) - Better error message when adding auto\n    responses with same name.\n - 2009-01-26 Removed outdated function FetchrowHashref() from core module\n    Kernel/System/DB.pm.\n - 2009-01-08 Fixed bug#[3571](http://bugs.otrs.org/show_bug.cgi?id=3571) - Output Filter Pre+Post of layout object will\n    be use on any block, not on any template file like it was in 2.1-2.2. Moved\n    back to old behavior.\n - 2009-01-05 Moved to new auth sync layer. Splited auth and agent\n    sync into two module layers. For example:\n\n    [Kernel/Config.pm]\n\n```perl\n    # agent authentication against http basic auth\n    $Self->{'AuthModule'} = 'Kernel::System::Auth::HTTPBasic';\n\n    # agent data sync against ldap\n    $Self->{'AuthSyncModule'} = 'Kernel::System::Auth::Sync::LDAP';\n    $Self->{'AuthSyncModule::LDAP::Host'} = 'ldap://ldap.example.com/';\n    $Self->{'AuthSyncModule::LDAP::BaseDN'} = 'dc=otrs, dc=org';\n    $Self->{'AuthSyncModule::LDAP::UID'} = 'uid';\n    $Self->{'AuthSyncModule::LDAP::SearchUserDN'} = 'uid=sys, ou=user, dc=otrs, dc=org';\n    $Self->{'AuthSyncModule::LDAP::SearchUserPw'} = 'some_pass';\n    $Self->{'AuthSyncModule::LDAP::UserSyncMap'} = {\n        # DB -> LDAP\n        UserFirstname => 'givenName',\n        UserLastname  => 'sn',\n        UserEmail     => 'mail',\n    };\n```\n - 2008-12-28 Added daemon support to bin/PostMasterMailbox.pl and\n    bin/GenericAgent.pl by using \"-b \\<BACKGROUND\\_INTERVAL\\_IN\\_MIN\\>\".\n - 2008-12-22 Improved ticket escalation notification, moved to .dtl support\n    (Kernel/Output/HTML/Standard/AgentTicketEscalation.dtl) and added ticket\n    title as mouse on over note.\n - 2008-12-19 Added out of office feature for agent users.\n - 2008-12-15 Added new ticket attributes to CSV export of ticket in ticket\n    search. New attributes are 'Closed', 'FirstLock' and 'FirstResponse'.\n - 2008-12-10 Added the text auto link feature to add http links for text body\n    to add icons after conigured expressions the standard.\n - 2008-12-08 Added new postmaster filter to check if new arrived email is\n    based on follow up of forwarded email. Then Followup should not be shown\n    as \"email-external\", it should be shown as \"email-internal\".\n - 2008-11-12 Removed not supported PostMaster module\n    Kernel/System/PostMaster/Filter/AgentInterface.pm.\n - 2008-11-10 Added autocomplete feature for customer search.\n - 2008-10-30 Fixed bug#[2371](http://bugs.otrs.org/show_bug.cgi?id=2371) - \"Panic, no user data!\" message should be more\n    verbose.\n - 2008-10-29 Added additional default attributes of customer attributes like\n    (phone, fax, mobile, street, zip, city). Use scripts/DBUpdate-to-2.4.\\*.sql\n    for upgrading.\n - 2008-10-28 Fixed bug#[1722](http://bugs.otrs.org/show_bug.cgi?id=1722) - weekday sorting in TimeWorkingHours corrected.\n - 2008-10-28 Fixed bug#[1491](http://bugs.otrs.org/show_bug.cgi?id=1491) - text in the file \"UPGRADING\" is misleading.\n - 2008-10-28 Implemented RFE (bug#[1006](http://bugs.otrs.org/show_bug.cgi?id=1006)): Added ticket change time to\n    TicketGet and ArticleGet output. As a result, parameter 'Changed' is now\n    usable as field in CSV search output as ticket change time.\n - 2008-10-24 Added StopAfterMatch attribute on postmaster filter (DB and\n    config backend).\n - 2008-10-23 First version of improved ticket overview modus, added S/M/L\n    options.\n - 2008-10-23 Added ticket change time option to agent ticket search.\n - 2008-10-14 Added COUNT as result option in TicketSearch() of\n    Kernel::System::Ticket to increase performance of count lookups.\n - 2008-10-14 Added new tables for \"RFC 2822 conform\" and Service/SLA\n    preferences feature (use scripts/DBUpdate-to-2.4.\\*.sql for upgrading).\n - 2008-10-14 Added RFC 2822 conform In-Reply-To and References header\n    support for outgoing emails (Threading).\n - 2008-10-02 Added script to move stored attachments from one backend to\n    other backend, e. g. DB -\\> FS (bin/otrs.ArticleStorageSwitch.pl).\n - 2008-10-02 Added service and sla preferences feature, like already exising\n    user, customer and queue preferences. Can be extended by config settings.\n - 2008-10-02 Improved package manager to get info about documentation\n    availabe in online repository packages.\n - 2008-10-02 Added password reset option based on auth backend for multi\n    auth support.\n\n#2.3.6 (2010/09/15)\n - 2010-07-23 Fixed bug#[3426](http://bugs.otrs.org/show_bug.cgi?id=3426) - Abort while processing mails with invalid\n    charset messes up POP3 mailbox handling.\n\n#2.3.5 2010-02-08\n - 2010-02-04 Fixed SQL quoting issue (see also\n    http://otrs.org/advisory/OSA-2010-01-en/).\n - 2009-05-19 Fixed bug#[3844](http://bugs.otrs.org/show_bug.cgi?id=3844) - SLA get's not removed on reload if servics was\n    selected before (in agent interface).\n - 2009-04-23 Fixed bug#[3495](http://bugs.otrs.org/show_bug.cgi?id=3495) - Missing ldap disconnects leaves CLOSE\\_WAIT tcp\n    sessions.\n - 2009-04-23 Fixed bug#[3674](http://bugs.otrs.org/show_bug.cgi?id=3674) - CustomerSearch() doesn't match non-single\n    words if they are in the same DB field.\n - 2009-04-23 Fixed bug#[3684](http://bugs.otrs.org/show_bug.cgi?id=3684) - No search for \\* in LDAP-CustomerBackend.\n - 2009-04-02 Fixed bug#[3732](http://bugs.otrs.org/show_bug.cgi?id=3732) - Improved russion translation.\n - 2009-04-01 Fixed bug#[3573](http://bugs.otrs.org/show_bug.cgi?id=3573) - Deleting tickets on PostgreSQL 8.3.0 failes.\n - 2009-04-01 Fixed bug#[3719](http://bugs.otrs.org/show_bug.cgi?id=3719) - otrs.checkModules incorrectly parses PDF::API2\n    version.\n - 2009-04-01 Fixed bug#[3257](http://bugs.otrs.org/show_bug.cgi?id=3257) - otrs.checkModules incorrectly states DBD:mysql\n    is required.\n - 2009-04-01 Fixed bug#[3739](http://bugs.otrs.org/show_bug.cgi?id=3739) - Customer can not logon to the Customer\n    Interface if ShowAgentOnline is used.\n - 2009-04-01 Fixed bug#[3404](http://bugs.otrs.org/show_bug.cgi?id=3404) - PendingJobs.pl doesn't unlock the closed\n    tickets.\n - 2009-04-01 Fixed bug#[3745](http://bugs.otrs.org/show_bug.cgi?id=3745) - German umlaut in customer login\\_id breaks\n    login.\n - 2009-03-24 Fixed bug#[3735](http://bugs.otrs.org/show_bug.cgi?id=3735) - Queue names should be quoted when editing\n    queues (In this case if you use them in regular expressions).\n - 2009-02-19 Fixed bug#[3636](http://bugs.otrs.org/show_bug.cgi?id=3636) - Phone call link can be used without adding\n    a body the ticket mask.\n - 2009-02-19 Fixed bug#[3671](http://bugs.otrs.org/show_bug.cgi?id=3671) - Priority in CustomerTicketZoom resets to\n    pre-configured or 3.\n - 2009-02-13 Fixed bug#[3657](http://bugs.otrs.org/show_bug.cgi?id=3657) - Stats module: The locking attribute doesn't\n    work.\n - 2009-02-11 Fixed ticket# 2009020942001554 - generic agent is logging many\n    debug infos into log file.\n - 2009-02-09 Fixed bug#[3656](http://bugs.otrs.org/show_bug.cgi?id=3656) - The package manager testscript doesn't work\n    on developer installations.\n - 2009-01-30 Fixed bug#[3635](http://bugs.otrs.org/show_bug.cgi?id=3635) - Was not able to install .opm packages bigger\n    then 1MB (because of missing MySQL config) but OTRS error message was\n    miss leading.\n - 2009-01-28 Fixed bug#[3242](http://bugs.otrs.org/show_bug.cgi?id=3242) - AdminGenericAgent produces apache-error-log\n    entry.\n - 2009-01-26 Fixed bug#[3528](http://bugs.otrs.org/show_bug.cgi?id=3528) - Stats-cache-mechanism does not take unfixed\n    restrictions in consideration.\n - 2009-01-23 Fixed bug#[3615](http://bugs.otrs.org/show_bug.cgi?id=3615) - The links to the related Customer User and\n    related Group in [ Customer Users \\<-\\> Groups ] frontend were broken.\n - 2009-01-23 Fixed bug#[3499](http://bugs.otrs.org/show_bug.cgi?id=3499) - Permission problems if you change the\n    configuration of the System::Permissions. Now it doesn't matter if you\n    active or deactive one of the additional permissions.\n - 2009-01-22 Fixed bug#[3137](http://bugs.otrs.org/show_bug.cgi?id=3137) - Ticket search does not work with words like\n    \"BPX\" and \"new\".\n - 2009-01-22 Fixed bug#[3596](http://bugs.otrs.org/show_bug.cgi?id=3596) - Show a warning, if some tries to renaming\n    the admin group in admin frontend.\n\n#2.3.4 2009-01-21\n - 2009-02-09 Fixed bug#[3458](http://bugs.otrs.org/show_bug.cgi?id=3458) - Length of E-mail adress form in\n    AdminSystemAddressForm is way too short.\n - 2009-01-20 Fixed bug#[3447](http://bugs.otrs.org/show_bug.cgi?id=3447) - CustomerUser-Renaming to existing UserLogin\n    was possible.\n - 2009-01-20 Fixed bug#[3603](http://bugs.otrs.org/show_bug.cgi?id=3603) - Different Max-Attribute handling in Layout.pm\n    BuildSelection and OptionStrgHashRef.\n - 2009-01-20 Fixed bug#[3601](http://bugs.otrs.org/show_bug.cgi?id=3601) - Problems in function BuildSelection with\n   ''-Strings and 0.\n - 2009-01-15 Fixed bug#[3595](http://bugs.otrs.org/show_bug.cgi?id=3595) - VacationCheck() of Kernel::System::Time is\n    ignoring different OTRS calendar.\n - 2009-01-13 Fixed bug#[3542](http://bugs.otrs.org/show_bug.cgi?id=3542) - Static Stats lose associated perlmodule after\n    editing.\n - 2009-01-10 Fixed bug#[3575](http://bugs.otrs.org/show_bug.cgi?id=3575) - Framework file get lost after upgrading OTRS\n    and reinstalling or uninstalling e. g. ITSM pakages then.\n - 2008-12-08 Added feature to install included packages located under\n    var/packages/\\*.opm on first/initial setup.\n - 2008-12-08 Fixed bug#[3462](http://bugs.otrs.org/show_bug.cgi?id=3462) - SMIME crypt and sign functions bail out -\n     unable to save random state.\n - 2008-12-04 Fixed bug#[3360](http://bugs.otrs.org/show_bug.cgi?id=3360) - Service list formating broken after AJAX reload.\n - 2008-12-02 Fixed bug#[3495](http://bugs.otrs.org/show_bug.cgi?id=3495) - No unbind in LDAP-CustomerDataBackend.\n - 2008-12-01 Fixed bug#[3493](http://bugs.otrs.org/show_bug.cgi?id=3493) - CloseParentAfterClosedChilds.pm does not work.\n - 2008-11-26 Fixed bug#[2582](http://bugs.otrs.org/show_bug.cgi?id=2582) - Ticket print and config option\n     Ticket::Frontend::ZoomExpandSort gets not recognized.\n - 2008-11-16 Fixed bug#[3452](http://bugs.otrs.org/show_bug.cgi?id=3452) - \"permission denied\" after moving tickets into\n    a queue with no permissions.\n - 2008-11-16 Fixed bug#[3461](http://bugs.otrs.org/show_bug.cgi?id=3461) - It's not possible to past an email into a\n    note screen, only 70 signs are possible for each line, it should be\n    increased to 78.\n - 2008-11-14 Fixed bug#[3459](http://bugs.otrs.org/show_bug.cgi?id=3459) - Ticket in state \"pending\" are not escalating\n    but shown in escalation overview with incorect timestamp calculation\n    (34512 days).\n - 2008-11-10 Fixed bug#[3213](http://bugs.otrs.org/show_bug.cgi?id=3213) - Make rpc.pl work when using ModPerl.\n - 2008-11-10 Fixed bug#[3442](http://bugs.otrs.org/show_bug.cgi?id=3442) - HTML2Ascii is ignoring spaces on email\n    processing.\n - 2008-11-07 Fixed bug#[2730](http://bugs.otrs.org/show_bug.cgi?id=2730) - Sending mails to MS Exchange Server 2007\n    fails sometimes with \"Bad file descriptor!\".\n - 2008-11-01 Fixed bug#[3207](http://bugs.otrs.org/show_bug.cgi?id=3207) - Expanded articles in wrong order.\n - 2008-10-30 Fixed bug#[2071](http://bugs.otrs.org/show_bug.cgi?id=2071) - Dead link to online documentation in admin\n    interface (AdminState).\n - 2008-10-29 Fixed bug#[3244](http://bugs.otrs.org/show_bug.cgi?id=3244) - \"Defination\"-Typo in Defaults.pm.\n - 2008-10-29 Fixed bug#[2736](http://bugs.otrs.org/show_bug.cgi?id=2736) - AdminUser&Subaction=Change - Valid is\n    automatically changed\n - 2008-10-29 Fixed bug#[2710](http://bugs.otrs.org/show_bug.cgi?id=2710) - Error: Module 'Kernel::Modules::' not found!\n - 2008-10-28 Fixed bug#[3402](http://bugs.otrs.org/show_bug.cgi?id=3402) - AgentLinkObject crashes with \"Got no\n    UserLanguage\" if browser sends exotic language.\n - 2008-10-28 Fixed bug#[3405](http://bugs.otrs.org/show_bug.cgi?id=3405) - Input field agent-email-address too short.\n - 2008-10-28 Fixed bug#[1719](http://bugs.otrs.org/show_bug.cgi?id=1719) - psql -u deprecated.\n - 2008-10-28 Fixed bug#[3366](http://bugs.otrs.org/show_bug.cgi?id=3366) - TicketEvent ArticleFreeTextSet does not know\n    ArticleID.\n - 2008-10-28 Fixed bug#[3346](http://bugs.otrs.org/show_bug.cgi?id=3346) - improved error logging of new postmaster\n    tickets for invalid priority names.\n - 2008-10-28 Fixed bug#[3376](http://bugs.otrs.org/show_bug.cgi?id=3376) - GenericAgent: A warning like \"you have to set\n    schedule times\" would be helpful.\n - 2008-10-20 Fixed bug#[3391](http://bugs.otrs.org/show_bug.cgi?id=3391) - Filter out hazardous characters from redirects.\n - 2008-10-16 Fixed bug#[2415](http://bugs.otrs.org/show_bug.cgi?id=2415) - Wrong info after editing salutation.\n - 2008-10-15 Fixed bug#[3379](http://bugs.otrs.org/show_bug.cgi?id=3379) - Documentation of packages got not shown in\n    admin package manager.\n - 2008-10-15 Updated Chinese translation, thanks to Never Min!\n - 2008-10-13 Fixed bug#[3373](http://bugs.otrs.org/show_bug.cgi?id=3373) - Postmaster match filter is losing [\\*\\*\\*] on\n    second time.\n - 2008-10-13 Fixed bug#[3367](http://bugs.otrs.org/show_bug.cgi?id=3367) - Escalation of first response gets not changed\n    on note-external (which was working in OTRS 2.2.x).\n - 2008-10-09 Fixed bug#[3358](http://bugs.otrs.org/show_bug.cgi?id=3358) - Removed useless error warning in stats module.\n\n#2.3.3 2008-10-02\n - 2009-01-13 Fixed bug#[3542](http://bugs.otrs.org/show_bug.cgi?id=3542) - Static Stats lose associated perlmodule after\n    editing.\n - 2008-09-30 Fixed bug#[3335](http://bugs.otrs.org/show_bug.cgi?id=3335) - No user name in pdf - print of stats-report\n - 2008-09-29 Updated Italian translation, thanks to Remo Catelotti!\n - 2008-09-29 Fixed bug#[3315](http://bugs.otrs.org/show_bug.cgi?id=3315) - GenericAgent does not work with pending time\n    reached for x units.\n - 2008-09-29 Fixed bug#[3314](http://bugs.otrs.org/show_bug.cgi?id=3314) - Escalation time not updated correctly, e. g.\n    ticket get's not escalated if one escalation time got solved.\n - 2008-09-25 Updated Chinese translation, thanks to Never Min!\n - 2008-09-24 Fixed bug#[3322](http://bugs.otrs.org/show_bug.cgi?id=3322) - After updating SysConfig I get: Can't use\n    string (\"0\") as a HASH ref while \"strict refs\" in use at\n    Kernel/System/Config.pm line 716.\n - 2008-09-24 Fixed bug#[3321](http://bugs.otrs.org/show_bug.cgi?id=3321) - \"(\" or \")\" in user name is breaking ldap query\n    for agent and customer auth.\n - 2008-09-13 Fixed bug#[3289](http://bugs.otrs.org/show_bug.cgi?id=3289) - Error when trying to delete an answer (with\n    std attachment) in admin interface.\n - 2008-09-12 Fixed bug#[3292](http://bugs.otrs.org/show_bug.cgi?id=3292) - Missing entries in the generic agent mask if\n    a freetext field is configured as pull down menu.\n - 2008-09-11 Fixed bug#[3275](http://bugs.otrs.org/show_bug.cgi?id=3275) - Kernel::System::EmailParser::CheckMessageBody\n    uses undefined $Param{URL}.\n - 2008-09-11 Fixed bug#[3284](http://bugs.otrs.org/show_bug.cgi?id=3284) - Missing entries in the stats mask if a\n    freetext field is configured as pull down menu.\n - 2008-09-10 Fixed bug#[3287](http://bugs.otrs.org/show_bug.cgi?id=3287) - Possible CSS on login page, in\n    AgentTicketMailbox and CustomerTicketOverView.\n - 2008-09-08 Fixed bug#[3158](http://bugs.otrs.org/show_bug.cgi?id=3158) - Ticket has a \"pending\" state --\\> the\n    escalation time is not set out.\n - 2008-09-08 Fixed bug#[3266](http://bugs.otrs.org/show_bug.cgi?id=3266) - backup.pl calls \"mysqldump5\" not \"mysqldump\".\n - 2008-09-08 Fixed bug#[3251](http://bugs.otrs.org/show_bug.cgi?id=3251) - Error retrieving pop3s email from gmail\n    or MS Exchange.\n - 2008-09-08 Fixed bug#[3247](http://bugs.otrs.org/show_bug.cgi?id=3247) - GenericAgent is running also without time\n    settings.\n - 2008-09-08 Fixed bug#[3261](http://bugs.otrs.org/show_bug.cgi?id=3261) - Escalation also for ro tickets (normally just\n    rw tickets).\n - 2008-08-30 Fixed bug#[2862](http://bugs.otrs.org/show_bug.cgi?id=2862) - Wrong summary in GenericAgent webinterface\n    after adding a new job. Max. shown 10,000 affected tickets.\n - 2008-08-30 Fixed bug#[3053](http://bugs.otrs.org/show_bug.cgi?id=3053) - AJAX functionality without cookies is not\n    working.\n - 2008-08-29 Fixed bug#[3152](http://bugs.otrs.org/show_bug.cgi?id=3152) - German wording in link tables within english\n    environment.\n - 2008-08-21 Fixed bug#[3227](http://bugs.otrs.org/show_bug.cgi?id=3227) - Link delete doesn't work if the key includes\n    double colons.\n\n#2.3.2 2008-08-25\n - 2008-08-21 Fixed bug#[3076](http://bugs.otrs.org/show_bug.cgi?id=3076) - Ticket Eskalation of update time is not\n    working correctly.\n - 2008-08-21 Fixed bug#[3064](http://bugs.otrs.org/show_bug.cgi?id=3064) - Java Script Error if I use\n    \"Internet Explorer 7\".\n - 2008-08-21 Fixed bug#[3198](http://bugs.otrs.org/show_bug.cgi?id=3198) - ACL is not working for services in Customer\n    Panel for creating new tickets.\n - 2008-08-21 Fixed bug#[3214](http://bugs.otrs.org/show_bug.cgi?id=3214) - PostMasterFilter - Its not possible to\n    filter for \"Return-Path\".\n - 2008-08-21 Fixed bug#[3216](http://bugs.otrs.org/show_bug.cgi?id=3216) - CustomerTicketSearch returns links to\n    internal articles.\n - 2008-08-21 Fixed bug#[3219](http://bugs.otrs.org/show_bug.cgi?id=3219) - Bogus 7bit check in the file cache backend.\n - 2008-08-21 Implemented display of ticket search profiles in Agent\n    Interface for immediate access (disabled by default).\n - 2008-08-18 Fixed bug#[3199](http://bugs.otrs.org/show_bug.cgi?id=3199) - Queue lists - The queue tree has problems\n    with disabled queues.\n - 2008-08-18 Fixed bug#[3139](http://bugs.otrs.org/show_bug.cgi?id=3139) - QueueUpdate-Bug on oracle and postgres dbs.\n - 2008-08-14 Fixed bug#[3191](http://bugs.otrs.org/show_bug.cgi?id=3191) - It is hard to identify the selected page of\n    a list of elements.\n - 2008-08-13 Fixed bug#[3133](http://bugs.otrs.org/show_bug.cgi?id=3133) - OTRS creates temp dirs with wrong access\n    permissions.\n\n#2.3.1 2008-08-04\n - 2008-08-03 Fixed bug#[3096](http://bugs.otrs.org/show_bug.cgi?id=3096) - Errorlog messages from NET::DNS (Subroutine\n    nxrrset redefined at ...).\n - 2008-08-03 Added http target for customer user map config options in\n    position 9 (see Kernel/Config/Defaults.pm for examples).\n - 2008-08-02 Fixed bug#[3121](http://bugs.otrs.org/show_bug.cgi?id=3121) - OTRS corrupts email headers (Subject, From etc.)\n    while encoding with utf-8.\n - 2008-08-01 Fixed bug#[3142](http://bugs.otrs.org/show_bug.cgi?id=3142) - The Ticket-ACL module\n    CloseParentAfterClosedChilds produces errors.\n - 2008-07-31 Fixed bug#[3141](http://bugs.otrs.org/show_bug.cgi?id=3141) - The TicketSearch() function produces error on\n    a DB2 database, if the argument TicketCreateTimeOlderDate is given.\n - 2008-07-31 Added function LinkCleanup() to delete forgotten temporary\n    links that are older than one day. The function is called only when deleting\n    a link.\n - 2008-07-30 Updated dansk language translation, thanks to Mads N. Vestergaard!\n - 2008-07-30 Updated spanish translation, thanks to Pelayo Romero Martin!\n - 2008-07-30 Updated CPAN module CGI to version 3.39.\n - 2008-07-30 Updated CPAN module MailTools to version 2.04.\n - 2008-07-27 Updated russian translation, thanks to Egor Tsilenko!\n - 2008-07-25 Fixed bug#[3122](http://bugs.otrs.org/show_bug.cgi?id=3122) - Ticket attributes in agent ticket search\n    CSV export gets not translated.\n - 2008-07-25 Fixed bug#[2300](http://bugs.otrs.org/show_bug.cgi?id=2300) - Not all Notification Tags are working in\n    Notifications.\n - 2008-07-21 Fixed bug#[3117](http://bugs.otrs.org/show_bug.cgi?id=3117) - Auto increment of \"id\" in article\\_search\n    table is not needed.\n - 2008-07-21 Fixed bug#[3104](http://bugs.otrs.org/show_bug.cgi?id=3104) - If new config can't get created by\n    scripts/DBUpdate-to-2.3.pl, the script need to stop.\n\n#2.3.0 rc1 2008-07-21\n - 2008-07-20 Update persian translation, thanks to Amir Shams Parsa and\n    Hooman Mesgary!\n - 2008-07-20 Fixed bug#[2712](http://bugs.otrs.org/show_bug.cgi?id=2712) - Email in POP3 or IMAP box gets deleted/lost\n    also if it got not processed.\n - 2008-07-20 Added Ingres database files for Ingres 2006 R3 experimental\n    support.\n - 2008-07-20 Fixed bug#[3102](http://bugs.otrs.org/show_bug.cgi?id=3102) - (Optional) group-Permissions for\n    Frontend::Agent::Ticket::MenuModule(Pre).\n - 2008-07-19 Fixed bug#[3098](http://bugs.otrs.org/show_bug.cgi?id=3098) - Ticket number search in the new link mask does\n    not work correctly.\n - 2008-07-19 Fixed bug#[3093](http://bugs.otrs.org/show_bug.cgi?id=3093) - Foreign Key drop does not work.\n - 2008-07-19 Fixed bug#[2826](http://bugs.otrs.org/show_bug.cgi?id=2826) - Impossible to use DEFAULT values in SOPM\n    files.\n - 2008-07-18 Fixed bug#[2893](http://bugs.otrs.org/show_bug.cgi?id=2893) - Allow translation texts with new lines.\n - 2008-07-17 Integrate function StatsCleanUp().\n - 2008-07-16 Fixed bug#[3089](http://bugs.otrs.org/show_bug.cgi?id=3089) - Stats module creates an error log entry with\n    message \"Got no SessionID\" .\n - 2008-07-16 Fixed bug#[3088](http://bugs.otrs.org/show_bug.cgi?id=3088) - Statistics module fails with\n    message \"Got no AccessRw\" if you work with ro permissions\n - 2008-07-16 Fixed bug#[3012](http://bugs.otrs.org/show_bug.cgi?id=3012) - Statistics module fails with\n    message \"Got no UserLanguage\"\n - 2008-07-15 Moved config option PostMasterMaxEmailSize default 12 MB\n    to 16 MB.\n - 2008-07-15 Fixed bug#[3082](http://bugs.otrs.org/show_bug.cgi?id=3082) - Wrong requirement checks and false default\n    handling in function QueueAdd and QueueUpdate.\n - 2008-07-15 Updated french translation, thanks to Yann Richard!\n - 2008-07-14 Only show Company-NavBar item if CustomerCompanySupport is\n    enabled for min. one CustomerUser source.\n - 2008-07-10 Fixed bug#[3066](http://bugs.otrs.org/show_bug.cgi?id=3066) - The CPAN module XML::Parser::Lite crashs after\n    login if the CPAN module version is not installed.\n - 2008-07-09 Updated catalonian translation, thanks to Antonio Linde!\n - 2008-07-09 Updated finnish translation, thanks to Mikko Hynninen!\n - 2008-07-09 Fixed problem in CodeUpgrade functionallity.\n    Code did not react correctly to version number in CodeUpgrade sections.\n - 2008-07-08 Updated norwegian translation, thanks to Fredrik Andersen!\n\n#2.3.0 beta4 2008-07-07\n - 2008-07-07 Fixed bug#[2158](http://bugs.otrs.org/show_bug.cgi?id=2158) - Trigger Definitions not allow export / import\n    through oracle exp/imp tool.\n - 2008-07-06 Fixed bug#[3058](http://bugs.otrs.org/show_bug.cgi?id=3058) - Unconsistent usage of id's in\n    otrs-initial\\_insert.\\*.sql. E. g. in case of Dual-Master MySQL 5 Replication\n    is used.\n - 2008-07-06 Fixed bug#[3059](http://bugs.otrs.org/show_bug.cgi?id=3059) - article\\_search table is missing in\n    scripts/database/otrs-schema.\\*.sql and scripts/DBUpdate-to-2.3.\\*.sql.\n - 2008-07-04 Fixed bug#[3055](http://bugs.otrs.org/show_bug.cgi?id=3055) - Link migration from 2.2 -\\> 2.3 is no working\n    (missing TypeGet(), not shown because of disabled STDERR).\n - 2008-07-03 Fixed bug#[3053](http://bugs.otrs.org/show_bug.cgi?id=3053) - AJAX functionality without cookies is not\n    working.\n - 2008-07-03 Improved OPM package CodeUpgrade by using Version attribute\n    for code execurtion (like already exisitng DatabaseUpgrade). If no Version\n    is used, CodeUpgrade will performed on every upgrade. For more info see\n    developer manual.\n - 2008-07-02 Fixed bug#[3042](http://bugs.otrs.org/show_bug.cgi?id=3042) - QueueView Sort by Escalation unfunctional.\n - 2008-07-02 Fixed bug#[3045](http://bugs.otrs.org/show_bug.cgi?id=3045) - Hard coded permission check on merging\n    tickets.\n - 2008-07-02 Fixed bug#[3048](http://bugs.otrs.org/show_bug.cgi?id=3048) - AgentLinkObject shows a wrong search result\n    list, if a object cannot link with itself.\n - 2008-07-02 Added AJAX support to ticket move screen.\n - 2008-07-01 Added priority management mask to the admin interface.\n - 2008-07-01 Fixed bug#[3046](http://bugs.otrs.org/show_bug.cgi?id=3046) - Phone and Email-Ticket needs to get clicked\n    twice on \"create\" to get created.\n - 2008-07-01 Fixed bug#[3047](http://bugs.otrs.org/show_bug.cgi?id=3047) - Not possible to reset service or sla in\n    AgentTicketNote.\n - 2008-07-01 Updated CPAN module Net::POP3::SSLWrapper to version 0.02.\n - 2008-07-01 Updated CPAN module XML::Parser::Lite to version 0.710.05.\n - 2008-07-01 Updated CPAN module Authen::SASL to version 2.11.\n - 2008-07-01 Updated CPAN module MIME::Tools to version 5.427.\n - 2008-07-01 Updated CPAN module File::Temp to version 0.20.\n - 2008-06-30 Implemented options to search update-, response- and solution\n    escalation time in TicketSearch().\n - 2008-06-27 Fixed bug#[2960](http://bugs.otrs.org/show_bug.cgi?id=2960) - DBUpdate-to-2.3.pl script fails.\n - 2008-06-26 Fixed bug#[3036](http://bugs.otrs.org/show_bug.cgi?id=3036) - Missing link delete checkboxes.\n - 2008-06-26 Fixed bug#[3029](http://bugs.otrs.org/show_bug.cgi?id=3029) - Search result of linkable objects is not\n    sorted correctly.\n - 2008-06-26 Fixed bug#[3035](http://bugs.otrs.org/show_bug.cgi?id=3035) - Missing check to prevent creation of the same\n    link with opposite direction.\n - 2008-06-26 Fixed bug#[3030](http://bugs.otrs.org/show_bug.cgi?id=3030) - Getting no error message if I link an already\n    linked ticket again.\n - 2008-06-26 Fixed bug#[3034](http://bugs.otrs.org/show_bug.cgi?id=3034) - Ticket::Frontend::ZoomExpandSort is\n    conflicting with new ticket Expand/Collapse feature in AgentTicketZoom, it\n    get lost after clicking on Collapse.\n - 2008-06-26 Moved required permissions for ticket owner-selections to\n    owner and for ticket responsible-selection to responsible (instead rw\n    permissions).\n - 2008-06-23 Fixed bug#[3020](http://bugs.otrs.org/show_bug.cgi?id=3020) - New complex link table blocks output of the\n    free text fields.\n - 2008-06-23 Fixed bug#[3019](http://bugs.otrs.org/show_bug.cgi?id=3019) - Wrong location of the new complex link table.\n\n#2.3.0 beta3 2008-06-24\n - 2008-06-23 Fixed bug#[3015](http://bugs.otrs.org/show_bug.cgi?id=3015) - Performace problem in AgentLinkObject.\n - 2008-06-23 Added CustomerUser attribute support for Ticket-ACLs. For\n    Example you can use customer user attributes in ACL properties in\n    this case to create an list of possible queues in the customer\n    interface for creating or moving tickets.\n\n```perl\n    $Self->{TicketAcl}->{'ACL-Name-Test'} = {\n        # match properties\n        Properties => {\n            CustomerUser => {\n                UserCustomerID => ['some_customer_id'],\n            },\n        }\n        # possible properties\n        Possible => {\n            Ticket => {\n                Queue => ['Hotline', 'Junk'],\n            },\n        },\n    };\n```\n - 2008-06-23 Fixed bug#[3013](http://bugs.otrs.org/show_bug.cgi?id=3013) - Freetext fields show wrong on AJAX update\n    in phone and email ticket when queue is changed.\n - 2008-06-23 Updated cpan module TEXT::CSV to version 1.06.\n - 2008-06-23 Moved Ticket::ResponsibleAutoSet feature to external ticket\n    event module (Kernel::System::Ticket::Event::ResponsibleAutoSet).\n - 2008-06-23 Fixed bug#[2959](http://bugs.otrs.org/show_bug.cgi?id=2959) - Linking and Unlinking Tickets is not addin\n    ticket history and not executing TicketEventHandlerPost() by ticket link\n    backend anymore.\n - 2008-06-20 Fixed bug#[1565](http://bugs.otrs.org/show_bug.cgi?id=1565) - Responsible Agent not updated when creating\n    new ticket in phone or email ticket.\n - 2008-06-20 Removed output of linked objects in customer ticket print\n    (because it's not needed in the customer panel).\n - 2008-06-19 Fixed bug#[2998](http://bugs.otrs.org/show_bug.cgi?id=2998) - Highlighted selection for notification\n    listbox in admin interface.\n - 2008-06-19 Fixed bug#[3005](http://bugs.otrs.org/show_bug.cgi?id=3005) - AJAX functionality is not working in phone\n    and email ticket for Service and SLA.\n - 2008-06-19 Added article TimeUnit support to automatically add time\n    units to ticket by using generic agent (also usable over admin\n    interface).\n - 2008-06-19 Added CleanUp() to Kernel::System::Cache to clean up/remove\n    all cache files.\n - 2008-06-19 Fixed bug#[2957](http://bugs.otrs.org/show_bug.cgi?id=2957) - Merged ticket not shown \"canceled\" in linked\n    objects table.\n - 2008-06-19 Simplifed the new link mechanism.\n - 2008-06-19 Added cleanup of old cache files and cleanup of non existing\n    TicketIDs in ticket\\_watcher and ArticleIDs in article\\_flag table (there\n    was a bug, this reference entries got not deleted by deleting a ticket\n    or article, e. g. by GenericAgent) to scripts/DBUpgrade-to-2.3.pl.\n - 2008-06-13 Added extra config option for \"CheckMXRecord\" config option\n    to configure extra name servers for MX lookups.\n - 2008-06-11 Fixed bug#[2980](http://bugs.otrs.org/show_bug.cgi?id=2980) - Getting cron emails (Use of uninitialized\n    value in numeric gt (\\>) at) every time if IMAP and IMAPs gets executed.\n - 2008-06-11 Fixed bug#[2979](http://bugs.otrs.org/show_bug.cgi?id=2979) - Unable to work on ticket, get error message\n    \"no permission\" even with rw permissions on the ticket. Fixed recoding\n    issue.\n - 2008-06-05 Fixed bug#[2969](http://bugs.otrs.org/show_bug.cgi?id=2969) - Unable to get past login screen - undefined\n    value as a HASH reference at\n    Kernel/System/Ticket/IndexAccelerator/RuntimeDB.pm line 57.\n - 2008-06-05 Fixed bug#[2960](http://bugs.otrs.org/show_bug.cgi?id=2960) - DBUpdate-to-2.3.pl script possibly fails.\n - 2008-06-05 Added enhancement bug#[2964](http://bugs.otrs.org/show_bug.cgi?id=2964) - Add hash sort to data dumper\n    of Kernel::System::Main::Dump to get it better readable and comparable\n    (also for diff's).\n - 2008-06-05 Improved Kernel::System::Cache::File, moved cache type files\n    to sub directory of tmp/ to tmp/Cache/to have it clear where the cache\n    files are.\n\n#2.3.0 beta2 2008-06-02\n - 2008-06-02 Moved to new link mechanism.\n - 2008-06-02 Fixed bug#[2902](http://bugs.otrs.org/show_bug.cgi?id=2902) - Salutation and Signature examples in the\n    admin interface are same.\n - 2008-06-02 Fixed bug#[2940](http://bugs.otrs.org/show_bug.cgi?id=2940) - Error/typo in DBUpdate-to-2.3.\\*.sql,\n    'escalation\\_start\\_time' instead of 'escalation\\_update\\_time' is used.\n - 2008-06-01 Fixed bug#[2956](http://bugs.otrs.org/show_bug.cgi?id=2956) - Not working ticket escalation by using SLAs.\n - 2008-06-01 Added sub sorting to Kernel::System::Ticket::TicketSearch()\n    and improved unit test. Example:\n\n```perl\n    my @TicketIDs = $Self->{TicketObject}->TicketSearch(\n        Result  => 'ARRAY',\n        Title   => '%sort/order by test%',\n        Queues  => ['Raw'],\n        OrderBy => ['Down', 'Down'],\n        SortBy  => ['Priority', 'Age'],\n        UserID  => 1,\n    );\n```\n\n - 2008-05-28 Fixed bug#[2891](http://bugs.otrs.org/show_bug.cgi?id=2891) - Typo in Bounce Customer notification\n    'information'.\n - 2008-05-22 Upgraded Mail::Tools from version 2.02 to 2.03 from CPAN.\n\n#2.3.0 beta1 2008-05-19\n - 2008-05-16 Updated cpan module Text::CSV to the version 1.05.\n - 2008-05-15 Added ticket search close time support to agent ticket search\n    and generic agent.\n - 2008-05-15 Reimplmeented \"bin/xml2sql.pl\", works now with new cmd params.\n    Now \"-t $DatabaseType\", \"-n $Name\", \"-s $SplitInPrePostFiles\" and\n    \"-o $OutputDir\".\n - 2008-05-15 Renamed mssql reserved database table word \"system\\_user\" to\n    \"users\". Use scripts/DBUpdate-to-2.3.\\*.sql for database upgrade.\n - 2008-05-15 If signing via SMIME fails, we now fall back to the original\n     unsigned mailtext instead of sending an empty mail.\n - 2008-05-15 Fixed bug#[2844](http://bugs.otrs.org/show_bug.cgi?id=2844) - Improved robustness of RANDFILE setting for\n     openssl (SMIME).\n - 2008-05-15 Refactored SMIME to work on Windows, too.\n - 2008-05-09 Added service \\<-\\> sla multi relation support.\n - 2008-05-09 Fixed bug#[2448](http://bugs.otrs.org/show_bug.cgi?id=2448) - Not necessary unique check of SLA name.\n - 2008-05-07 Renamed/cleanup of all config setting names for QueueView,\n    StatusView and LockedTickets.\n - 2008-05-07 Improved use of existing unique-names in xml definition of\n    scripts/database/otrs-schema.xml (not longer auto generated).\n - 2008-05-07 Improved oracle database backend, generation of long\n    index/koreign key names, moved from NUMBER to NUMBER(12,0).\n - 2008-05-07 Added some new database indexes to increase the database\n    speed (for more info see scripts/DBUpdate\\*.sql).\n - 2008-05-07 Added article index support to increase speed of full text\n    search up to 50% (need to be configured via SysConfig and\n    bin/otrs.RebuildFulltextIndex.pl need to be executed after backend change).\n - 2008-05-07 Added ticket event support for TicketWatch\\*() in\n    Kernel::System::Ticket. Fixed not removed ticket watch infos after deleting\n    a ticket.\n - 2008-05-07 Improved speed of ticket search screen on large installation,\n    added cache for database lookup to get all unique ticket free text fields\n    (tooks up to 10 sek, on lage installations).\n - 2008-05-02 Deleted textarea wrap in perl code and set browser wrap in dtl files.\n - 2007-04-29 Added X-OTRS-TicketTime and X-OTRS-FollowUp-TicketTime email\n    header support as additional attributes like already existing X-OTRS-Header\n    (for more info see doc/X-OTRS-Headers.txt).\n - 2007-04-29 Added Format attribute (default html, optional plain) for \"Intro\\*\"\n    tags in .sopm files. Format=\"html\" will work as default and it's possible to\n    put every html into the intro message. Format=\"plain\" will add automatically\n    \\<pre\\>\\</pre\\> to intro messages, so new lines and spaces are shown 1:1 in intro\n    messages (for more info see developer manual).\n - 2007-04-29 TicketFreeTime, TicketFreeFields and Article Attachments now are\n    taken over on ticket split.\n - 2007-04-29 Updated cpan module CGI to version 3.37.\n - 2007-04-25 Added create and drop of index and unique in xml TableAlter tag\n    (for more info see developer manual).\n - 2008-04-20 Changed GenericAgent default limit of matching ticket for each\n    run of a job from 2000 to 4000.\n - 2008-04-18 Let FrontendOutputFilters have access to LayoutObject and TemplateFile.\n - 2008-04-18 Added Title-Attribute (for Tooltips) to BuildSelection.\n - 2008-04-14 Increased db2 BLOB size from 20M to 30M in\n    scripts/database/otrs-schema.db2.sql.\n - 2008-04-14 Improved admin interface, show only links with own permissions.\n    So it's possible/easy to create sub admins for part administration\n    (Fixed bug#[2535](http://bugs.otrs.org/show_bug.cgi?id=2535) - User is able to access admin menu).\n - 2008-04-14 Improved .opm packages to definde pre and post Code\\* and\n    Database\\* tags to define time point of execution. For more info how to use\n    it see developer manual.\n - 2008-04-14 Renamed .opm package tags for intro messages\n    Intro(Install|Upgrade|Unintall)(Pre|Post) from \\<IntroInstallPost\\> to new\n    format like \\<IntroInstall Type=\"post\"\\>. For more info see developer manual.\n    Note: Old tags still usable, will be converted by OTRS automatically.\n - 2008-04-10 Added global Search-Condition-Feature (AND/OR/()/!/+) to ticket\n    search backend, customer search backend and faq.\n - 2008-04-10 Added support to ticket print to print selected article only.\n - 2008-04-10 Fixed bug#[2159](http://bugs.otrs.org/show_bug.cgi?id=2159) - added ticket close time search option (works\n    like ticket create time search option) to agent ticket search screen.\n - 2008-04-10 Updated cpan module CGI to version 3.35.\n - 2008-04-02 Moved from default password 'crypt' method to 'md5'. All new\n    changed passwords are stored with md5-password method. Old stored passwords\n    still usable.\n - 2008-04-02 Fixed bug#[1952](http://bugs.otrs.org/show_bug.cgi?id=1952) - Superfluous error messages by\n   Kernel/Config/Defaults.pm in Debug mode.\n - 2008-04-02 Fixed bug#[2496](http://bugs.otrs.org/show_bug.cgi?id=2496) - HTML formatting in the customer ticket zoom is\n    wrong.\n - 2008-04-02 Fixed bug#[1116](http://bugs.otrs.org/show_bug.cgi?id=1116) - Made uses of \\<br\\\\\\> and \\<input\\\\\\> comply with XHTML.\n - 2008-04-01 Fixed bug#[2575](http://bugs.otrs.org/show_bug.cgi?id=2575) - Trying to Kernel::System::PGP::Crypt()\n    utf8-character-strings no longer bails, but simply auto-converts the string\n    into an utf8-byte-string, such that the correct data is written into the temp\n    file.\n - 2008-04-01 Added new SysLog backend config for log sock. Defaulte use is\n    'unix'. On Solaris you may need to use 'stream'.\n - 2008-03-31 Added ticket free time as required field support (works like\n    for already existing ticket free text fields).\n - 2008-03-31 Added missing ticket type as required check if ticket type\n    feature is enabled.\n - 2008-03-31 Fixed MD5/SHA1 mixups in SMIME handling on older systems (that have\n    MD5 as default, not SHA1).\n - 2008-03-27 Added OpenSearchDescription to support \"quick\" search for\n    ticket numbers for browsers like firefox2.\n - 2008-03-26 Added POP3/POP3S/IMAP/IMAPS support for PostMaster sub system\n    (new bin/PostMasterMailbox.pl is replacing old bin/PostMasterPOP3.pl).\n    Thanks to Igor Stradwo for this patch!\n    NOTE: table pop3\\_account need to be modified - use scripts/DBUpdate-to-2.3.\\*.sql\n - 2008-03-26 Added support of renaming of database tables in XML backend and\n    database drivers (Kernel/System/DB/\\*.pm).\n    Example:\n\n    \\<TableAlter NameOld=\"calendar\\_event\" NameNew=\"calendar\\_event\\_new\"/\\>\n\n - 2008-03-25 Added enhancement for agent and customer HTTPBasicAuth to strip\n    parts of REMOTE\\_USER or HTTP\\_REMOTE\\_USER by using a regexp. Example to\n    strip @example.com of login.\n    [Kernel/Config.pm]\n\n```perl\n    # In case you need to replace some part of the REMOTE_USER, you can\n    # use the following RegExp ($1 will be new login).\n    $Self->{'AuthModule::HTTPBasicAuth::ReplaceRegExp'} = '^(.+?)@.+?$';\n```\n - 2008-03-21 Added enhancement bug#[2773](http://bugs.otrs.org/show_bug.cgi?id=2773) - HTTPBasicAuth fails when only\n    HTTP\\_REMOTE\\_USER is populated (not REMOTE\\_USER).\n - 2008-03-18 Fixed mssql/sybase/freetds database problem\n    \"Setting of CS\\_OPT\\_TEXTSIZE failed. at\" if a mssql customer backend\n    is used. The problem is, that LongReadLen is not supported by\n    dbd::sybase (this is the reason of this error message).\n    So the database customer is now improved to set all database attributes\n    in CustomerUser config. For example this is the solution to prevent\n    the sybase error message:\n\n```perl\n    $Self->{CustomerUser} = {\n        Name   => 'Database Backend',\n        Module => 'Kernel::System::CustomerUser::DB',\n        Params => {\n            DSN       => 'DBI:sybase:yourdsn',\n            User      => 'some_user',\n            Password  => 'some_password',\n            Table     => 'customer_user',\n            Attribute => {},\n        },\n```\nFor more info see: http://www.perlmonks.org/index.pl?node_id=663835\n - 2008-03-17 Fixed bug#[2197](http://bugs.otrs.org/show_bug.cgi?id=2197) - utf8 problems with auto generated\n    Kernel/Config/Files/ZZZAuto.pm and Kernel/Config/Files/ZZZAAuto.pm\n    (non ascii signs and utf8 stamps).\n - 2008-03-17 Added ACL example module \"CloseParentAfterClosedChilds\" which\n    allows you to not close parent tickets till all childs are closed (\n    configuable via SysConfig -\\> Ticket -\\> Core::TicketACL).\n - 2008-03-17 Improved ticket zoom view, shown linked objects (only show link\n    types (Normal/Child/Parent) if links are available).\n - 2008-03-16 Improved ticket zoom view, shown plain link to emails (per\n    default, can be enabled via sys config) and improved shown linked/merged\n    tickets.\n - 2008-03-09 Improved API of Cache core module (Kernel::System::Cache), added\n    type param to define the type of cached object/data (so also a better\n    storage is possible because you can manage each cache type object/data it\n    self, e. g. if file system backend is used in differend sub directories).\n\nAPI Example (old):\n```perl\n        $CacheObject->Set(\n            Key   => 'SomeKey',\n            Value => 'Some Value',\n            TTL   => 24*60*60,     # in sec. in this case 24h\n        );\n```\nAPI Example (new):\n```perl\n        $CacheObject->Set(\n            Type  => 'ObjectName', # only A-z chars usable\n            Key   => 'SomeKey',\n            Value => 'Some Value',\n            TTL   => 24*60*60,     # in sec. in this case 24h\n        );\n```\n - 2008-03-06 Fixed use of uninitialized value in Log.pm (visible when\n    executed in ModPerl environment).\n - 2008-03-02 Added title of object to div tag of linked objects to have an\n    preview to the content of a linked object.\n - 2008-03-01 Added missing ticket title to ticket search mask in agent\n    and generic agent interface.\n - 2008-02-17 Removed not needed Encode::decode\\_utf8() in core module\n    Kernel::System::Encode (only set if utf-8 stamp is needed).\n - 2008-02-17 Upgraded Mail::Tools from version 1.77 to 2.02 from CPAN.\n - 2008-02-12 Fixed bug#[2670](http://bugs.otrs.org/show_bug.cgi?id=2670) - \"wide character\" error when login with\n    russian password.\n    Note: It could be on older systems, that existing passwords are not\n    longer valid. Just reset the password and everything will work fine.\n - 2008-02-12 Fixed bug#[1996](http://bugs.otrs.org/show_bug.cgi?id=1996) - Replaced 'U' & 'D' with respective arrow\n    icons.\n - 2008-02-12 Improved Fix for bug#[1608](http://bugs.otrs.org/show_bug.cgi?id=1608) - Badly formatted calendar popup.\n    Now the table width is explicity passed into DTL from the perl module\n    and the customer calendar view has been fixed, too.\n - 2008-02-11 Added queue preferences - module support like for agents and\n    customer to create easier extentions/addons for queues.\n    See Developer-Manual for more information.\n    NOTE: table sla need to be modified - use scripts/DBUpdate-to-2.3.\\*.sql\n - 2008-02-11 Added escalation warning feature. So agents will be notified\n    before a ticket will escalate. This time point can be configured in the\n    admin interface for queue and sla settings.\n    NOTE: table queue need to be modified - use scripts/DBUpdate-to-2.3.\\*.sql\n - 2008-02-04 Fixed bug#[1608](http://bugs.otrs.org/show_bug.cgi?id=1608) - Badly formatted calendar popup.\n - 2008-02-04 Fixed bug#[2657](http://bugs.otrs.org/show_bug.cgi?id=2657) - Improved regexp in RPM spec files to detect\n    already existing \"otrs\" user (it was also matching on xxxotrsxxx names).\n - 2008-01-28 Added note permission \"note\" to default ticket permissions to\n    manage list of inform involved agents out of the box.\n - 2008-01-24 Fixed bug#[2611](http://bugs.otrs.org/show_bug.cgi?id=2611) - PGP module not working on Windows platform.\n - 2008-01-15 Fixed bug#[2227](http://bugs.otrs.org/show_bug.cgi?id=2227) - XMLHashSearch returns no values on MS SQL in\n    certain cases.\n - 2008-01-08 Added expand/collapse option to ticket zoom.\n - 2008-01-08 Added multi attachment support to ticket move screen.\n - 2008-01-08 Added AJAX support in email ticket.\n - 2008-01-03 Changed default session settings SessionMaxTime from 14h to\n    16h and SessionMaxIdleTime from 5h to 6h.\n - 2008-01-02 Improved ticket zoom view, removed plain-text attachments\n    of html with plain attachment emails.\n - 2008-01-02 Fixed bug#[2600](http://bugs.otrs.org/show_bug.cgi?id=2600) - MS SQL: Fulltext search in ticket body with\n    mssql backend not possible (improved Kernel::System::DB API with database\n    preferences option \"NoLikeInLargeText\").\n - 2007-12-28 Improved config file mechanism generated by SysConfig to improve\n    speed in `mod_perl` is used (about 0.2%-4% speed improvement, depends\n    on which shown site).\n    Note: Kernel/Config/Files/ZZZAuto.pm and Kernel/Config/Files/ZZZAAuto.pm\n    generated by OTRS 2.3 or higher is not longer compat. to OTRS 2.2 and\n    lower. But OTRS 2.3 or higher can read config files from OTRS 2.2 and\n    lower.\n - 2007-12-27 Fixed bug#[2596](http://bugs.otrs.org/show_bug.cgi?id=2596) - Problems to download file from\n    Action=AdminPackageManager with IE and Safari.\n - 2007-12-27 Improved way how to reset a password. Added password reset\n    via token (email which needs to be accepted by new password requester\n    first).\n - 2007-12-21 Added possiblity to use options of StringClean() in GetParam()\n    and GetArray() functions.\n - 2007-12-21 Add StringClean() function to improve quality of strings.\n - 2007-12-19 Improved installer description to prevent bugs like bug#[2492](http://bugs.otrs.org/show_bug.cgi?id=2492).\n - 2007-12-17 Fixed bug#[2586](http://bugs.otrs.org/show_bug.cgi?id=2586) - File download of package in\n    AdminPackageManager is not delivering the whole file name anymore.\n - 2007-12-17 Fixed bug#[2539](http://bugs.otrs.org/show_bug.cgi?id=2539) - SMIME signing was broken for private keys that\n    have no passphrase and when openssl is unable to write to random state file.\n - 2007-12-11 Fixed bug#[2479](http://bugs.otrs.org/show_bug.cgi?id=2479) - Unable to retrieve attachments bigger than\n    3Mb (on Oracle DB). Changed default read size from 4 MB to 40 MB in\n    Kernel/System/DB/oracle.pm:\n\n```perl\n    $Self->{'DB::Attribute'}      = {\n        LongTruncOk => 1,\n        LongReadLen => 40 * 1024 * 1024,\n    };\n```\n - 2007-12-10 Updated MIME::Tools to current CPAN version 5.425.\n - 2007-12-06 Fixed bug#[2568](http://bugs.otrs.org/show_bug.cgi?id=2568) - Problems with attachment downloads if the\n    active element filter is enabled.\n - 2007-12-05 Fixed bug#[1399](http://bugs.otrs.org/show_bug.cgi?id=1399) - Missing Translation. Added some translation to\n    customer interface.\n - 2007-12-04 Fixed bug#[2257](http://bugs.otrs.org/show_bug.cgi?id=2257) - Silent ignorance of SMTP / Sendmail errors,\n    now we collect the error and log it (which in turn displays it to the user).\n - 2007-11-20 Rewrite of Kernel::System::CSV by using cpan module Text::CSV\n    for parsing and generating CSV files (added Text::CSV to\n    bin/otrs.checkModules to check it).\n - 2007-11-07 Changed default config of WebMaxFileUpload from 10 MB to\n    16 MB.\n - 2007-11-07 Changed Kernel::System::Crypt::PGP to reject any UTF8-strings,\n    as these would get autoconverted into ISO - thus garbling the result.\n    Currently, only binary octets and ISO-strings are supported as input.\n - 2007-10-25 Improved Kernel::System::Crypt::PGP to return information about\n    the PGP-keys that were actually used in Decrypt() and Verify().\n - 2007-10-25 Updated all cpan modules.\n - 2007-10-17 Added GroupLookup() and RoleLookup() to Group.pm and removed the\n    two methods GetGroupIdByName() and GetRoleIdByName() which were already marked\n    as deprecated.\n - 2007-10-08 Added support of ticket free text links in ticket view,\n    configurable via SysConfig.\n - 2007-10-05 Added fist version of AJAX framework support in phone ticket.\n - 2007-10-01 Added \\<ModuleRequired Version=\"0.01\"\\>SomeModule\\</ModuleRequired\\>\n    feature to .opm format for enforcing installed CPAN modules.\n - 2007-09-25 Fixed bug#[2312](http://bugs.otrs.org/show_bug.cgi?id=2312) - Wide character error in Layout.pm if system\n    runs in utf-8 mode.\n - 2007-09-18 Did some improvments in Kernel/Output/HTML/Layout.pm to\n    get an better performance if the block function is used many times\n    (e. g. \\> 1000 times, 30% faster).\n - 2007-09-13 Fixed bug#[1186](http://bugs.otrs.org/show_bug.cgi?id=1186) - Convertion from HTML to text incomplete\n    if html encoded chars like &Egrave; or &eacute; is used. Added full\n    HTML to text convertion to email parser.\n - 2007-09-13 Improved report overview of perfornance log.\n\n#2.2.9 2010-02-08\n - 2010-06-24 Fixed bug#[5497](http://bugs.otrs.org/show_bug.cgi?id=5497) - Missing HTML quoting in stats module.\n - 2010-02-04 Fixed SQL quoting issue (see also\n    http://otrs.org/advisory/OSA-2010-01-en/).\n\n#2.2.8 2008-08-25\n - 2008-08-12 Fixed bug#[3156](http://bugs.otrs.org/show_bug.cgi?id=3156) - When the \"EMAILADDRESS:\" attribute is used to\n    define a specific email address, then secodary match attributes are applied\n    to all mails.\n - 2008-07-20 Fixed bug#[3155](http://bugs.otrs.org/show_bug.cgi?id=3155) - Wrong header charset in lost password\n    notification.\n - 2008-07-20 Fixed bug#[3103](http://bugs.otrs.org/show_bug.cgi?id=3103) - CustomerInterface: Ticket of other customers\n    accessible for other customers.\n - 2008-07-18 Fixed bug#[3101](http://bugs.otrs.org/show_bug.cgi?id=3101) - Getting Queue view after adding a note with\n    state \"open\".\n - 2008-07-18 Fixed reopend bug#[2330](http://bugs.otrs.org/show_bug.cgi?id=2330) - Cron.sh restart \\<OTRS\\_USER\\> doesn't\n    work.\n - 2008-07-16 Fixed bug#[2967](http://bugs.otrs.org/show_bug.cgi?id=2967) - Stats module, illegal division by zero at\n    ../../Kernel/System/Stats.pm line 1581\n - 2008-07-16 Fixed bug#[3079](http://bugs.otrs.org/show_bug.cgi?id=3079) - Default CheckEmailInvalidAddress regexp\n    rejects mail to MobileMe (me.com) accounts.\n - 2008-07-08 Fixed bug#[3062](http://bugs.otrs.org/show_bug.cgi?id=3062) - Not possible to search for Customer Company\n - 2008-06-25 Increaded max size of reformated text (reformating new lines)\n    from 20,000 to 60,000 signs (this size is just a safety performance\n    setting in Kernel::Output::HTML::Layout::Ascii2Html()).\n - 2008-06-20 Fixed bug#[3000](http://bugs.otrs.org/show_bug.cgi?id=3000) - Configured sender address for auto response\n    get's ignored.\n - 2008-06-05 Fixed bug#[2962](http://bugs.otrs.org/show_bug.cgi?id=2962) - Freetext cache problem, old used ticket\n    free text values get not added to pull down list in agent ticket search.\n - 2008-06-04 Removed not wanted email rfc check in AgentTicketPhone and\n    AgentTicketEmail, it's already done by OTRS via config settings.\n\n#2.2.7 2008-06-04\n - 2008-05-28 Fixed bug#[2891](http://bugs.otrs.org/show_bug.cgi?id=2891) - Typo in Bounce Customer notification\n    'information'.\n - 2008-05-25 Fixed bug#[2934](http://bugs.otrs.org/show_bug.cgi?id=2934) - PostmasterPOP3.pl - craches on malformed UTF-8\n    character (fatal)... on incoming emails.\n - 2008-05-22 Fixed bug#[2829](http://bugs.otrs.org/show_bug.cgi?id=2829) - Added config option if Cc should be taken over\n    to Cc recipients list in compose email answer screen.\n    SysConfig -\\> Ticket -\\> Frontend::Agent::Ticket::ViewCompose -\\>\n    Ticket::Frontend::ComposeExcludeCcRecipients\n - 2008-05-15 Fixed bug#[2870](http://bugs.otrs.org/show_bug.cgi?id=2870) - Customer-Frontend: No Access to Company Tickets\n    (CustomerIDCheck fails).\n - 2008-05-09 Added new catalonian language translation, thanks to Antonio Linde!\n - 2008-05-08 Fixed bug#[2683](http://bugs.otrs.org/show_bug.cgi?id=2683) -\n ```$QData{\"OrigFrom\"}``` in Reply leads to wrong\n    quote in email answer if sender is agent (To of origin email is used).\n - 2008-05-08 Fixed bug#[2604](http://bugs.otrs.org/show_bug.cgi?id=2604) - Response Format - Date of Original Mail is\n    missing.\n - 2008-05-07 Fixed bug#[2882](http://bugs.otrs.org/show_bug.cgi?id=2882) - The foreign key syntax in\n    otrs-schema-post.mysql.sql is incorrect.\n - 2008-04-23 Fixed bug#[2907](http://bugs.otrs.org/show_bug.cgi?id=2907) - Typo in the german translation:\n    \"aktuallisiert\".\n - 2008-04-19 Fixed not removable ticket by acl watcher link in ticket menu\n    (added missing config param to Ticket.xml config file).\n - 2008-04-14 Improved speed of phone and email ticket if many queues and\n    groups (150+) are used.\n - 2008-04-14 Improved load speed of ticket search screen (if free text fields\n    are used).\n - 2008-04-14 Fixed bug#[2860](http://bugs.otrs.org/show_bug.cgi?id=2860) - ColumnAdd doesn't work on a DB2 database if\n    Required is true.\n - 2008-04-10 Added new estonian translation, thanks to Lauri Jesmin!\n - 2008-04-07 Fixed bug#[2814](http://bugs.otrs.org/show_bug.cgi?id=2814) - BCC emails are visible to all receipiants in\n    email header.\n - 2008-04-07 Fixed bug#[2829](http://bugs.otrs.org/show_bug.cgi?id=2829) - Local system email address is always set to CC\n    option in compose email answer screen.\n - 2008-04-07 Fixed bug#[2833](http://bugs.otrs.org/show_bug.cgi?id=2833) - Broken email attachments if only attachment is\n    in email (no mime attachments).\n - 2008-04-03 Fixed bug#[2828](http://bugs.otrs.org/show_bug.cgi?id=2828) - Strings like ftp.invalid.org are shown as http\n    link in TicketZoom.\n - 2008-04-02 Fixed bug#[2756](http://bugs.otrs.org/show_bug.cgi?id=2756) - \"http.\" in article body is displayed as\n    \"http://http.\".\n - 2008-04-01 Fixed bug#[2822](http://bugs.otrs.org/show_bug.cgi?id=2822) - Ticket Number in subject of Bounce Notification\n    to customer/sender is not shown.\n - 2008-04-01 Fixed bug#[2453](http://bugs.otrs.org/show_bug.cgi?id=2453) - syntax errors on customer search; name@host\n    problems the mail address parser does not recognize the email address if it\n    is not fully 2822 compilant.\n\n#2.2.6 2008-03-31\n - 2008-03-25 Fixed bug#[2732](http://bugs.otrs.org/show_bug.cgi?id=2732) - Service name is truncated in dropdown lists\n - 2008-03-21 Fixed bug#[2758](http://bugs.otrs.org/show_bug.cgi?id=2758) - non-latin filenames in emails get not converted\n    to utf8 (e. g. koi8-r, utf8, cp1251).\n - 2008-03-21 Fixed bug#[2781](http://bugs.otrs.org/show_bug.cgi?id=2781) - Typo in Kernel::System::Ticket::MoveTicket()\n   \"&\" instead of \"&&\".\n - 2008-03-20 Fixed bug#[2772](http://bugs.otrs.org/show_bug.cgi?id=2772) - Dangling links to deleted tickets (ticket\n    links get not deleted after a ticket got deleted).\n - 2008-03-14 Fixed bug#[2770](http://bugs.otrs.org/show_bug.cgi?id=2770) - Internal cache mechanism of SLAs delivers\n    wrong content.\n - 2008-03-14 Fixed bug#[2769](http://bugs.otrs.org/show_bug.cgi?id=2769) - Trimming of sla name input field produce\n    errors.\n - 2008-03-14 Fixed bug#[954](http://bugs.otrs.org/show_bug.cgi?id=954) - ticket split should linking tickets (origin to\n    new one).\n - 2008-03-13 Added new turkish translation, thanks to Necmettin Begiter!\n - 2008-03-11 Fixed bug#[2763](http://bugs.otrs.org/show_bug.cgi?id=2763) - Trimming of service name input field produce\n    errors.\n - 2008-03-10 Updated vietnam translation, thanks to Nguyen Nguyet. Phuong!\n - 2008-03-10 Fixed bug#[2757](http://bugs.otrs.org/show_bug.cgi?id=2757) - Can't download statistic graph if I use\n    a diagram as output format.\n - 2008-03-10 Fixed bug#[2717](http://bugs.otrs.org/show_bug.cgi?id=2717) - All column and row names will be translated\n    statistics. Additional fixes for special situations.\n - 2008-03-06 Fixed bug#[2737](http://bugs.otrs.org/show_bug.cgi?id=2737) - Wrong order of the xaxis in stats output.\n - 2008-03-06 Fixed bug#[2717](http://bugs.otrs.org/show_bug.cgi?id=2717) - All column and row names will be translated.\n - 2008-03-05 Fixed bug#[2715](http://bugs.otrs.org/show_bug.cgi?id=2715) - Ascii2Html() is not quoting all links\n    correctly.\n - 2008-03-03 Fixed bug#[2742](http://bugs.otrs.org/show_bug.cgi?id=2742) - Wrong content type in admin package manager\n    mask.\n - 2008-02-25 Added missing german translation for required free-text fields.\n - 2008-02-25 Fixed bug#[2451](http://bugs.otrs.org/show_bug.cgi?id=2451) - Typo in openssl invocation when decrypting.\n - 2008-02-23 Fixed bug#[2275](http://bugs.otrs.org/show_bug.cgi?id=2275) - Need User or UserID! by using UnlockTickets.pl\n    and PendingJobs.pl.\n - 2008-02-23 Fixed bug#[2696](http://bugs.otrs.org/show_bug.cgi?id=2696) - CustomerPanelOwnSelection and\n    CustomerGroupSupport does not work together (show also queues without\n    create permissions).\n - 2008-02-23 Fixed bug#[2544](http://bugs.otrs.org/show_bug.cgi?id=2544) - Customer with RO can update ticket in\n    customer panel (wrong SysConfig setting).\n - 2008-02-22 Fixed bug#[2650](http://bugs.otrs.org/show_bug.cgi?id=2650) - Mails not full imported by PostmasterPOP3.pl\n    (mail body is cutted off, if no content type is availabe but 8bit chars are\n    used).\n - 2008-02-22 Fixed bug#[2462](http://bugs.otrs.org/show_bug.cgi?id=2462) - Permission denied when trying to print ticket\n    details from customer panel (customer.pl).\n - 2008-02-21 Added sendmail dummy backend module to deactivate sending\n    emails, useful for test system (Kernel::System::Email::DoNotSendEmail).\n - 2008-02-20 Fixed bug#[2644](http://bugs.otrs.org/show_bug.cgi?id=2644) - Added unit tests to find easier wrong\n    configured GD-CPAN modules.\n - 2008-02-20 Fixed bug#[2706](http://bugs.otrs.org/show_bug.cgi?id=2706) - SysConfig setting LogSystemCacheSize causes\n    error messages.\n - 2008-02-19 Fixed bug#[2450](http://bugs.otrs.org/show_bug.cgi?id=2450) - Auto-conversion of URLs to links fail when\n    a ')' is encountered.\n - 2008-02-18 Fixed bug#[2541](http://bugs.otrs.org/show_bug.cgi?id=2541) - Missing \"Ticket unlock\" link for ticket the\n    actions 'Phone call', 'Merge', 'Move' and 'Forward'.\n - 2008-02-18 Fixed bug#[2145](http://bugs.otrs.org/show_bug.cgi?id=2145) - $Config{\"TicketFreeTimeKey22\"} instant of\n    $Config{\"TicketFreeTimeKey2\"} in AgentTicketSearchResultShort.dtl.\n - 2008-02-18 Fixed bug#[2674](http://bugs.otrs.org/show_bug.cgi?id=2674) - Spellchecker always reports 0 errors\n    even SpellCheckerBin is not configured correctly.\n - 2008-02-17 Improved bin/otrs.checkModules tool for checking required\n    CPAN modules.\n - 2008-02-17 Fixed bug#[2255](http://bugs.otrs.org/show_bug.cgi?id=2255) - SysConfig setting Ticket -\\>\n    Frontend::Customer::Ticket::ViewZoom -\\>\n    Ticket::Frontend::CustomerTicketZoom###State has no effect (only\n    closed is shown any time).\n - 2008-02-15 Fixed non fixed font and wrong new line breaking problem on\n    safari in textarea input fields (updated Kernel/Output/HTML/Standard/css.dtl\n    and Kernel/Output/HTML/Standard/customer-css.dtl).\n - 2008-02-15 Fixed bug#[2694](http://bugs.otrs.org/show_bug.cgi?id=2694) - URL-to-long-error in\n    AdminCustomerUserService mask on changing settings.\n - 2008-02-14 Fixed bug#[2239](http://bugs.otrs.org/show_bug.cgi?id=2239) - CustomerCompanySupport is broken when\n    using external backend DB.\n - 2008-02-12 Fixed bug#[2533](http://bugs.otrs.org/show_bug.cgi?id=2533) - Wide character error when searching for a\n    customer with umlaut in LDAP backend with cache option (CacheTTL) in\n    CustomerUser config option.\n - 2008-02-12 Fixed bug#[2638](http://bugs.otrs.org/show_bug.cgi?id=2638) - Broken email syntax check if\n    \\_somebody@example.com is used.\n - 2008-02-12 Fixed bug#[1957](http://bugs.otrs.org/show_bug.cgi?id=1957) - Auto reply for new Phone-Tickets goes to\n    non-existing addresses (if no email address is given in From field).\n - 2008-02-12 Fixed bug#[2363](http://bugs.otrs.org/show_bug.cgi?id=2363) - AgentTicketPhone###Body is now a text area\n    instead of a string.\n - 2008-02-11 Fixed bug#[1975](http://bugs.otrs.org/show_bug.cgi?id=1975) - OTRS cannot forward tickets with .eml file\n    attachments.\n - 2008-02-11 Fixed bug#[2413](http://bugs.otrs.org/show_bug.cgi?id=2413) - OTRS cannot write to BLOB column in table\n    XML\\_STORAGE with DB2.\n - 2008-02-06 Fixed bug#[1716](http://bugs.otrs.org/show_bug.cgi?id=1716) - Wrong escalation time calculation on\n    wintertime/summertime switch.\n - 2008-02-01 Fixed ticket# 2008012242000417 - View performance problems\n    if more than 1000 customer companies are in the database available.\n\n#2.2.5 2008-01-28\n - 2008-01-25 Fixed bug#[2645](http://bugs.otrs.org/show_bug.cgi?id=2645) - SLA selection doesn't change when customer is\n    changed.\n - 2008-01-16 Fixed bug#[2157](http://bugs.otrs.org/show_bug.cgi?id=2157) - Ticket merged note not translated.\n - 2008-01-15 Fixed bug#[2392](http://bugs.otrs.org/show_bug.cgi?id=2392) - Charset problems with iso8859 and the\n    xml-caching mechanism.\n - 2008-01-15 Implemented workaround for bug#[2227](http://bugs.otrs.org/show_bug.cgi?id=2227) - XMLHashSearch returns\n    no values on MS SQL in certain cases.\n - 2008-01-14 Fixed bug#[2330](http://bugs.otrs.org/show_bug.cgi?id=2330) - Cron.sh start \\<OTRS\\_USER\\> does not work.\n    Thanks to Felix J. Ogris.\n - 2008-01-14 Fixed bug#[977](http://bugs.otrs.org/show_bug.cgi?id=977) - No agent notification for new ticket from\n    webinterface if CustomerGroupSupport is enabled.\n - 2008-01-13 Added new vietnam translation, thanks to Nguyen Nguyet. Phuong!\n - 2008-01-13 Fixed bug#[2621](http://bugs.otrs.org/show_bug.cgi?id=2621) - Wrong order of items (Subject,Service,SLA,Body\n    -\\> Service,SLA,Subject,Body) in Frontend AgentTicketPhone, AgentTicketEmail\n    and CustomerTicketMessage.\n - 2008-01-12 Fixed bug#[1687](http://bugs.otrs.org/show_bug.cgi?id=1687) - Wrong \"New message!\" hint on queue with\n    \"Customer State Notify\" activated.\n - 2008-01-09 Fixed bug#[2613](http://bugs.otrs.org/show_bug.cgi?id=2613) - Images are broken in Lite-Theme if OTRS do\n    not use the default Alias /otrs-web/.\n - 2008-01-08 Improved Kernel::System::XML::XMLParse() to prevent bugs\n    like# 2612.\n - 2008-01-08 Fixed bug#[2609](http://bugs.otrs.org/show_bug.cgi?id=2609) - Temp files are not removed after process was\n    finished under windows.\n - 2008-01-07 Fixed bug#[1893](http://bugs.otrs.org/show_bug.cgi?id=1893) - Attachment Storage fails with\n    ArticleStorageFS in win32 with ? in filenames.\n - 2008-01-03 Fixed bug#[2491](http://bugs.otrs.org/show_bug.cgi?id=2491) - OTRS crash's after initial login on fresh\n    installation on fedora 7, fedora 8, altlinux and ActiveState Perl on win32.\n - 2008-01-02 Fixed bug#[2601](http://bugs.otrs.org/show_bug.cgi?id=2601) - Only agents with rw permissions are shown in\n    inform agent selection of a note screen (note permission need to be\n    activated via SysConfig first). Now all agents with \\_note\\_ permissions are\n    displayed.\n - 2008-01-02 Fixed bug#[2600](http://bugs.otrs.org/show_bug.cgi?id=2600) - MS SQL: Fulltext search in ticket body with\n    mssql backend not possible (workaround, improved API for 2.3.x).\n - 2008-01-01 Fixed bug#[1120](http://bugs.otrs.org/show_bug.cgi?id=1120) - TO recipients which were sometimes dropped\n    in a ticket reply.\n - 2008-01-01 Fixed bug#[2589](http://bugs.otrs.org/show_bug.cgi?id=2589) - Ticket-title not shown in ticket list of\n    change customer, phone- and email ticket.\n - 2007-12-27 Fixed bug#[1148](http://bugs.otrs.org/show_bug.cgi?id=1148) - Lost of attachments when spliting ticket.\n - 2007-12-18 Fixed bug#[2295](http://bugs.otrs.org/show_bug.cgi?id=2295) - Added workaround for IE7. Tries to download\n    [ Attachments ] or [ Attachments \\<-\\> Responses ].\n - 2007-12-17 Fixed bug#[2580](http://bugs.otrs.org/show_bug.cgi?id=2580) - Wrong quoating of semicolon if mssql is used.\n - 2007-12-17 Fixed bug#[2539](http://bugs.otrs.org/show_bug.cgi?id=2539) - SMIME signing was broken for private keys that\n   have no passphrase and when openssl is unable to write to random state file.\n - 2007-12-12 Fixed bug#[2581](http://bugs.otrs.org/show_bug.cgi?id=2581) - Follow up not possible if \"ticket#: xxxxxxx\"\n    is copied from webinterface into new email subject.\n - 2007-12-11 Fixed bug#[2479](http://bugs.otrs.org/show_bug.cgi?id=2479) - Unable to retrieve attachments bigger than\n    3 MB (on Oracle DB). Changed default read size from 4 MB to 15 MB in\n    Kernel/System/DB/oracle.pm:\n\n```perl\n      $Self->{'DB::Attribute'}      = {\n        LongTruncOk => 1,\n        LongReadLen => 15 * 1024 * 1024,\n    };\n```\n - 2007-12-10 Fixed bug#[1428](http://bugs.otrs.org/show_bug.cgi?id=1428) - Whitespaces remove from email subject\n    (notification and new tickets creation) if utf-8 is used (specifically\n    in Russian, Chinese  and Japanese).\n    The problem is a bug in MIME::Tools/MIME::Words, for more info see\n    CPAN-Bug# 5462: http://rt.cpan.org/Public/Bug/Display.html?id=5462\n    As solution Kernel/cpan-lib/MIME/Words.pm got patched. Note: Everybody\n    who is not using Kernel/cpan-lib/ need to wait till this bug is fixed\n    in official MIME::Tools/MIME::Words releases.\n - 2007-12-10 Fixed bug#[2166](http://bugs.otrs.org/show_bug.cgi?id=2166) - Probem with HTML-mails sent by MS Outlook\n    2003 - \"&#8211;\" / long dash gets not decoded.\n - 2007-12-10 Fixed bug#[2377](http://bugs.otrs.org/show_bug.cgi?id=2377) - Missing translation in\n    AdminCustomerUserService mask.\n - 2007-12-03 Fixed bug#[2537](http://bugs.otrs.org/show_bug.cgi?id=2537) - Unable to set free time fields.\n - 2007-11-13 Fixed bug#[2498](http://bugs.otrs.org/show_bug.cgi?id=2498) - A wrong sum of requests was shown in the\n    performance log.\n - 2007-11-07 Fixed bug#[2482](http://bugs.otrs.org/show_bug.cgi?id=2482) - IntroUpgradePre in .opm files is not working\n    on upgradinging via online repository.\n\n#2.2.4 2007-11-06\n - 2007-11-06 Fixed bug#[2477](http://bugs.otrs.org/show_bug.cgi?id=2477) - Escalation time calculation (destination time of\n    escalation) is not working if host system is running in summertime/wintertime\n    mode (loops because system is changing system time from 3:00 am to 2:00 am).\n - 2007-11-05 Fixed bug#[2474](http://bugs.otrs.org/show_bug.cgi?id=2474) - Config option UserSyncLDAPAttibuteGroupsDefination\n    and UserSyncLDAPAttibuteRolesDefination is not working.\n - 2007-11-05 Fixed small typo in scripts/database/otrs-initial\\_insert.xml, for\n    escalation notification text.\n - 2007-11-05 Fixed bug#[2473](http://bugs.otrs.org/show_bug.cgi?id=2473) - Not able to update existing cache files of\n    customer user backend because of file permission problems (cache files are\n    created with 644). From now on cache files are created with 664 permissions.\n - 2007-11-05 Fixed bug#[2472](http://bugs.otrs.org/show_bug.cgi?id=2472) - Emails in utf8 are not sent correctly (problem\n    after upgrading Kernel/cpan-lib/MIME/\\*.pm).\n - 2007-10-26 Fixed bug#[2446](http://bugs.otrs.org/show_bug.cgi?id=2446) - Subject is not quoted.\n - 2007-10-26 Fixed bug#[2442](http://bugs.otrs.org/show_bug.cgi?id=2442) - Disappearing ticket free time checkboxes in\n    some ticket masks after mask reloads.\n - 2007-10-26 Fixed bug#[2436](http://bugs.otrs.org/show_bug.cgi?id=2436) - Translation bug in the frontend function\n    BuildSelection().\n - 2007-10-24 Fixed bug#[2289](http://bugs.otrs.org/show_bug.cgi?id=2289) - Compress with bzip2 dont works in backup.pl.\n - 2007-10-22 Fixed bug#[2421](http://bugs.otrs.org/show_bug.cgi?id=2421) - If customer cache backend is used, sometimes\n    \"Need Value\" appears in the log file.\n - 2007-10-19 Fixed bug#[1203](http://bugs.otrs.org/show_bug.cgi?id=1203) - Changed Redhat shm workaround to use a fixed\n    IPCKey per instance, but prevent clash with IPCKey of other instances.\n - 2007-10-19 Fixed bug#[2263](http://bugs.otrs.org/show_bug.cgi?id=2263) - Problems with array refs and escaping\n - 2007-10-18 Fixed bug#[2410](http://bugs.otrs.org/show_bug.cgi?id=2410) - $/ as given is currently unsupported at\n    Kernel/cpan-lib/MIME/Decoder/NBit.pm line 140. We updated the CPAN module\n    MIME-tools to version 5.423 to solve the problem.\n - 2007-10-17 Fixed bug#[2404](http://bugs.otrs.org/show_bug.cgi?id=2404) - Wrong results if you use StatsTypeID as\n    TicketSearch attribute.\n - 2007-10-17 Fixed bug#[2407](http://bugs.otrs.org/show_bug.cgi?id=2407) - Performance handicap because of a missing\n    'if'-attribute.\n - 2007-10-16 Improved performance of module by reduce calls of\n    $Self-\\>{ConfigObject}-\\>Get() in Kernel/Output/HTML/Layout.pm and\n    Kernel/System/Encode.pm.\n - 2007-10-16 Fixed bug#[2404](http://bugs.otrs.org/show_bug.cgi?id=2404) - Problems with the time extended feature in\n    stats module.\n - 2007-10-15 Fixed bug#[2398](http://bugs.otrs.org/show_bug.cgi?id=2398) - Translate the stats output.\n - 2007-10-12 Fixed bug#[2388](http://bugs.otrs.org/show_bug.cgi?id=2388) - Show the radio button of static stats files.\n - 2007-10-10 Fixed bug#[2383](http://bugs.otrs.org/show_bug.cgi?id=2383) - IntroInstallPre in .opm files is not working\n    on installing via online repository.\n - 2007-10-10 Fixed bug#[2380](http://bugs.otrs.org/show_bug.cgi?id=2380) - Ignore HTMLQuote param in Layout object\n    function \\_BuildSelectionOptionRefCreate.\n - 2007-10-09 Fixed bug#[2375](http://bugs.otrs.org/show_bug.cgi?id=2375) - Possible race condition in generic agent\n    jobs (during processing jobs). Generic agent job attributes can get\n    lost.\n - 2007-10-09 Fixed bug#[2276](http://bugs.otrs.org/show_bug.cgi?id=2276) - GenericAgent with SLA-Search fails, Service\n    and SLA options are missing.\n - 2007-10-05 Fixed bug#[2360](http://bugs.otrs.org/show_bug.cgi?id=2360) - No Permission in customer panel after\n    selecting ticket. Reason is, sender type is customer and article\n    type is email-internal which is set via a postmaster filter.\n - 2007-10-02 Fixed bug#[2346](http://bugs.otrs.org/show_bug.cgi?id=2346) - Emty entries are shown in the responsible\n    option list in TicketSearch mask.\n - 2007-09-24 Fixed bug#[2321](http://bugs.otrs.org/show_bug.cgi?id=2321) - It's not possible to use \u00ef\u00bf\u00bd or \u00ef\u00bf\u00bd in\n    description tag of .sopm file -\\> leading to perl syntax error!\n - 2007-09-17 Fixed bug#[2291](http://bugs.otrs.org/show_bug.cgi?id=2291) - Only include/use PDF::API2 in\n    Kernel/Modules/AgentTicketSearch.pm and Kernel/Modules/AgentStats.pm\n    if needed, to increase performance.\n\n#2.2.3 2007-09-13\n - 2007-09-13 Fixed bug#[2285](http://bugs.otrs.org/show_bug.cgi?id=2285) - Typo in german translation\n    \"Aktualisierungszeit\".\n - 2007-09-12 Fixed bug#[1203](http://bugs.otrs.org/show_bug.cgi?id=1203) - Redhat shm workaround should not relate to\n    real shm request.\n - 2007-09-07 Fixed bug#[2265](http://bugs.otrs.org/show_bug.cgi?id=2265) - On IIS6, Package Manager is displaying a\n    error after installing a package (header not complete). But package got\n    installed corectly.\n - 2007-09-06 Fixed bug#[2261](http://bugs.otrs.org/show_bug.cgi?id=2261) - False params in call of ServiceLookup() and\n    SLALookup() functions.\n - 2007-09-06 Fixed reopened bug#[2142](http://bugs.otrs.org/show_bug.cgi?id=2142) - Ticket history entry was wrong if\n    service, sla or ticket type was changed.\n - 2007-09-03 Fixed bug#[2193](http://bugs.otrs.org/show_bug.cgi?id=2193) - Postmaster module\n    Kernel::System::PostMaster::Filter::NewTicketReject is not working - need\n    Charset!\n - 2007-09-03 Fixed bug#[2245](http://bugs.otrs.org/show_bug.cgi?id=2245) - Responsible / Owner Field not working for\n    all users in the Email-Ticket form.\n - 2007-09-03 Improved system speed of escalation calculation if many open\n    ticket (\\> 2000) are there.\n - 2007-08-28 Fixed Ticket# 2007082842000477 - Problem with different customer\n    sources and use CacheTTL option (namespace of cache is not uniq).\n - 2007-08-28 Fixed Ticket# 2007082842000413 - Ticket created over phone\n    ticket with state closed is shown in queue view like \"My Queues (1)\" but\n    no ticket is shown if I click on \"My Queues (1)\" (if\n    Kernel::System::Ticket::IndexAccelerator::StaticDB is used as\n    Ticket::IndexModule).\n - 2007-08-27 Fixed bug#[2230](http://bugs.otrs.org/show_bug.cgi?id=2230) - OTRS on IIS - redirect/loop problem after\n    login.\n - 2007-08-27 Fixed bug#[2229](http://bugs.otrs.org/show_bug.cgi?id=2229) - Return value of \"ServiceLookup\" is used\n    without quoting in SQL statements.\n - 2007-08-24 Fixed bug#[2207](http://bugs.otrs.org/show_bug.cgi?id=2207) - translation failure in customer preferences\n    (QueueView refresh time).\n - 2007-08-24 Fixed bug#[2214](http://bugs.otrs.org/show_bug.cgi?id=2214) - .opm Package can not handle &lt;, &gt; and\n    &amp; in .sopm files.\n - 2007-08-22 Improved Agent Notifications. Salutation of notfication\n    recipient is now using \\<OTRS\\_UserFirstname\\> and \\<OTRS\\_UserLastname\\> instead\n    of \\<OTRS\\_OWNER\\_UserFirstname\\> or \\<OTRS\\_OWNER\\_UserLastname\\>.\n - 2007-08-22 Fixed bug#[2203](http://bugs.otrs.org/show_bug.cgi?id=2203) - OTRS will not create/verify correct pgp\n    signs if utf8 is used.\n - 2007-08-22 Fixed bug#[2202](http://bugs.otrs.org/show_bug.cgi?id=2202) - Kernel::System::Email::SMTP is sending\n    \"localhost.localdomain\" in smtp hello, some server rejecting this (\"Host\n    not found\").\n - 2007-08-21 Fixed bug#[2024](http://bugs.otrs.org/show_bug.cgi?id=2024) - Problem with agent authentication via LDAP\n    with ADS-Groups and content of DN like \"Some\\, Name\".\n - 2007-08-20 Fixed bug#[2094](http://bugs.otrs.org/show_bug.cgi?id=2094) and 2143 - 'Got no MainObject' warning in\n    Kernel/System/Crypt.pm\n - 2007-08-20 Fixed bug#[2192](http://bugs.otrs.org/show_bug.cgi?id=2192) - Useless fragments of old escalation mechanism\n    produces errors.\n - 2007-08-17 Fixed bug#[1908](http://bugs.otrs.org/show_bug.cgi?id=1908) - Removed duplicate history entry for ticket\n    subscribe action.\n - 2007-08-16 Fixed bug#[1492](http://bugs.otrs.org/show_bug.cgi?id=1492) - Fixed typo in Kernel/Language.pm.\n - 2007-08-10 Fixed bug#[2160](http://bugs.otrs.org/show_bug.cgi?id=2160) - 0 was ignored in database insert by package\n    building.\n - 2007-08-10 Fixed bug#[2156](http://bugs.otrs.org/show_bug.cgi?id=2156) - External customer database is not working,\n    if it's configured the following error message appears\n    (\"Got no MainObject in Kernel/System/DB.pm line 85\").\n - 2007-08-10 Fixed bug#[2155](http://bugs.otrs.org/show_bug.cgi?id=2155) - Std-Attachments are not usable in agent\n    ticket compose screen (no std attachments are shown in compose screen).\n - 2007-08-07 Fixed bug#[2118](http://bugs.otrs.org/show_bug.cgi?id=2118) - Fixed typo in german translation file (\n    Kernel/Language/de.pm).\n - 2007-08-07 Fixed bug#[2117](http://bugs.otrs.org/show_bug.cgi?id=2117) - Fixed small typo in initial insert files.\n - 2007-08-06 Fixed bug#[1999](http://bugs.otrs.org/show_bug.cgi?id=1999) - Service and SLA can not changed on an\n    existing ticket.\n - 2007-08-06 Fixed bug#[2142](http://bugs.otrs.org/show_bug.cgi?id=2142) - If a service or a sla of a ticket was changed,\n    no ticket history entry was added.\n - 2007-08-06 Fixed bug#[2135](http://bugs.otrs.org/show_bug.cgi?id=2135) - scripts/DBUpdate-to-2.2.2.sql contains wrong\n    SQL. Not the queue table needs to be changed, the ticket table would be the\n    right one.\n - 2007-08-03 Fixed bug#[2134](http://bugs.otrs.org/show_bug.cgi?id=2134) - PDF print is creating damaged pdf files with\n    PDF::API2 0.56 or smaller.\n - 2007-08-02 Fixed bug#[940](http://bugs.otrs.org/show_bug.cgi?id=940) - After owners unlock ticket and a follow-up\n    arrives the system, all agents which selected the queue of this ticket get\n    and follow up message. In this follow up message the name was always the\n    current owner and not the recipient of the email (which should be).\n - 2007-07-31 Fixed bug#[2001](http://bugs.otrs.org/show_bug.cgi?id=2001) - New escalation times and the responsible are\n    not shown in any print views.\n\n#2.2.2 2007-07-31\n - 2007-07-31 Fixed bug#[2114](http://bugs.otrs.org/show_bug.cgi?id=2114) - Fixed the problems with the email object.\n - 2007-07-30 Fixed bug#[2015](http://bugs.otrs.org/show_bug.cgi?id=2015) - Improved handling to allocate customerusers\n    and services. Now it's possible to define default services.\n - 2007-07-27 Fixed bug#[2053](http://bugs.otrs.org/show_bug.cgi?id=2053) - If core \"System::Permission\" note is used,\n    not effect to the ticket note mask appears.\n - 2007-07-27 Fixed bug#[2059](http://bugs.otrs.org/show_bug.cgi?id=2059) - config setting $Self-\\>{'Database::Connect'}\n    is not overwriting default option used by driver.\n - 2007-07-26 Fixed bug#[2105](http://bugs.otrs.org/show_bug.cgi?id=2105) - Notification after moving a ticket to my\n    queues is wrong -\\> \"\\> OTRS\\_CUSTOMER\\_QUEUE\\<\" got not replaced in subject.\n    SQL files scripts/database/otrs-initial\\_insert.\\*.sql got fixed.\n - 2007-07-26 Fixed bug#[2029](http://bugs.otrs.org/show_bug.cgi?id=2029) - Selected responsible agent was not taken\n    over after creating a phone ticket.\n - 2007-07-26 Fixed bug#[1946](http://bugs.otrs.org/show_bug.cgi?id=1946) - Setting of service, sla or type via email\n     X-OTRS-Service, X-OTRS-SLA or X-OTRS-Type header not possible.\n - 2007-07-26 Fixed bug#[2097](http://bugs.otrs.org/show_bug.cgi?id=2097) - Sometimes problems with SMTP module and utf8\n    to send emails.\n - 2007-07-26 Improved system performance of escalation (bug#[2020](http://bugs.otrs.org/show_bug.cgi?id=2020) Performance\n    problem after updating to 2.2.0).\n    --\\>Because of this fact you need to add to new column to the ticket table.\\<--\n\n```sql\n    ALTER TABLE ticket ADD escalation_response_time INTEGER;\n    ALTER TABLE ticket ADD escalation_solution_time INTEGER;\n```\n - 2007-07-26 Fixed bug#[2061](http://bugs.otrs.org/show_bug.cgi?id=2061) - UserSyncLDAPMap does not work properly after\n    upgrade to 2.2. The reason is, that we cleaned up this config option and\n    the new one from Kernel/Config/Defaults.pm need to be used. We also added\n    an check which log that an old config setting is used (also an compat.\n    feature to still use the old option has been added).\n\n    If you use UserSyncLDAPMap you need to reconfigure it!\n\nOld style (till 2.1):\n\n```perl\n    $Self->{UserSyncLDAPMap} = {\n        # DB -> LDAP\n        Firstname => 'givenName',\n        Lastname => 'sn',\n        Email => 'mail',\n    };\n```\nNew style (beginning with 2.2):\n\n```perl\n    $Self->{UserSyncLDAPMap} = {\n        # DB -> LDAP\n        UserFirstname => 'givenName',\n        UserLastname => 'sn',\n        UserEmail => 'mail',\n    };\n```\n - 2007-07-25 Added missing OTRS 2.2 sql update scripts for mssql and maxdb\n    (scripts/DBUpdate-to-2.2.maxdb.sql and scripts/DBUpdate-to-2.2.mssql.sql).\n - 2007-07-23 Fixed bug#[2068](http://bugs.otrs.org/show_bug.cgi?id=2068) - Date problem with non en installations of\n    MSSQL server. Some date inserts or package installations failed. Added\n    database init connect option to mssql driver (\"SET DATEFORMAT ymd\" /\n    Kernel/System/DB/mssql.pm).\n - 2007-07-23 Because of safety reason, generic agent jobs will not longer run\n    without min. one search attribute (admin interface and cmd). So if you want to\n    match all ticket, you need to add an \\* in the ticket number.\n - 2007-07-23 Fixed bug#[2021](http://bugs.otrs.org/show_bug.cgi?id=2021) - Errors in MSSQL post schema files.\n - 2007-07-23 Fixed bug#[2025](http://bugs.otrs.org/show_bug.cgi?id=2025) - No upgrade PostgreSQL possible, added missing\n    lines in DBUpdate-to-2.2.postgresql.sql.\n - 2007-07-22 Fixed Ticket#2007072342000148 - Old OTRS (\\< OTRS 2.2)\n    attachments are corrupt after upgrade if file backend is used.\n - 2007-07-16 Updated portuguese translation, thanks Filipe Henriques and\n    Rui Pires!\n - 2007-07-16 Updated norwegian translation, thanks to Fredrik Andersen!\n - 2007-07-16 Updated hungarian translation, thanks to Aron Ujvari!\n - 2007-07-16 Updated spanish translation, thanks to Carlos Oyarzabal!\n - 2007-07-12 Fixed bug#[2016](http://bugs.otrs.org/show_bug.cgi?id=2016) - CustomerUserUpdate: Add a function to handle\n    empty values.\n - 2007-07-11 Fixed bug#[2047](http://bugs.otrs.org/show_bug.cgi?id=2047) - Add MainObject to the needed object check.\n - 2007-07-10 Fixed bug#[2045](http://bugs.otrs.org/show_bug.cgi?id=2045) - Notifications on reopen are not sent to\n    owner/responsible.\n - 2007-07-03 Fixed bug#[2011](http://bugs.otrs.org/show_bug.cgi?id=2011) - Translation problems in stats module.\n\n#2.2.1 2007-07-01\n - 2007-06-29 Updated finnish translation, thanks to Mikko Hynninen!\n - 2007-06-29 Added some build in caches to Service, SQL, Queue and Valid\n    core modules to reduce the amount of sql queries (saves ~ 10% of queries\n    in the queue view).\n - 2007-06-29 Fixed bug#[1998](http://bugs.otrs.org/show_bug.cgi?id=1998) - Error with the web installer if no utf8\n    database is selected.\n - 2007-06-28 Disabled only show escalated tickets in queue view because\n    of already show escalation notifications.\n - 2007-06-28 Updated portuguese translation, thanks Filipe Henriques!\n - 2007-06-28 Fixed bug#[2000](http://bugs.otrs.org/show_bug.cgi?id=2000) - Typo in database update script\n    DBUpdate-to-2.1.mysql.sql.\n - 2007-06-28 Reworked AdminCustomerUserService mask.\n - 2007-06-28 Fixed wildcard handling in ServiceSerarch().\n - 2007-06-27 Added option to log sql queries which take longer the 4 sek.\n    and can be enabled via Kernel/Config.pm (Database::SlowLog). For more\n    info see Kernel/Config/Defaults.pm.\n - 2007-06-26 Fixed not working alter table to SET or DROP NULL and NOT\n    NULL via xml interface (Kernel/System/DB/postgresql.pm).\n - 2007-06-26 Updated french translation, thanks to Yann Richard and Remi Seguy!\n - 2007-06-26 Updated netherlands translation, thanks to Richard Hinkamp!\n - 2007-06-26 Updated hungarian translation, thanks to Aron Ujvari!\n - 2007-06-20 Updated russian translation, thanks to Andrey Feldman!\n - 2007-06-20 Updated greek translation, thanks to Stelios Maistros!\n\n#2.2.0 rc1 2007-07-19\n - 2007-06-19 Fixed bug#[1941](http://bugs.otrs.org/show_bug.cgi?id=1941) - Ticket Escalation blocks QueueView even if\n    Agent has only read access.\n - 2007-06-18 Improved TicketSubjectClean() that it is also working with\n    longer Ticket::SubjectRe options like \"Antwort: [Ticket#: 1234] Antwort: ..\"\n    (which was not removed on email answers).\n - 2007-06-13 Fixed bug#[1951](http://bugs.otrs.org/show_bug.cgi?id=1951) - Changed default selection of 'valid' field in\n    AdminService and AdminSLA mask.\n - 2007-06-12 Added feature (bug#[1949](http://bugs.otrs.org/show_bug.cgi?id=1949) an 1950) for customer ldap backend\n    for soft or hard die.\n - 2007-06-12 Added customeruser to service relation feature.\n - 2007-05-31 Improved XMLHashAdd() and XMLHashUpdate() in\n    Kernel/System/XML.pm to prevent caching errors.\n - 2007-05-31 Fixed bug#[1927](http://bugs.otrs.org/show_bug.cgi?id=1927) - It is possible to uninstall a required\n    package.\n\n#2.2.0 beta4 2007-05-29\n - 2007-05-26 Fixed bug in service and sla tables. Column comment was wrongly\n    defined as required field.\n - 2007-05-24 Fixed bug#[1894](http://bugs.otrs.org/show_bug.cgi?id=1894) - otrs.addUser does not work\n - 2007-05-24 Fixed bug#[1913](http://bugs.otrs.org/show_bug.cgi?id=1913) - Added missing columns first\\_response\\_time,\n    solution\\_time and rename column escalation\\_time to update\\_time for table\n    queue in DBUpdate-to-2.2.oracle.sql.\n - 2007-05-23 Add the ticket options Type, Service and SLA to the ticket\n    print.\n - 2007-05-22 Add TicketType, Service and SLA option to stats module\n    to improve flexibility of dynamic stats.\n - 2007-05-22 Remove wrong item in check needed stuff section of SLAList()\n    function.\n - 2007-05-21 Update german translation.\n - 2007-05-21 Improved check of needed stuff in SLAAdd() function in\n    Kernel/System/SLA.pm.\n - 2007-05-21 Sync HTML style of admin masks. No functionality changed.\n    Kernel/Output/HTML/Standard/AdminAttachmentForm.dtl\n    Kernel/Output/HTML/Standard/AdminAutoResponseForm.dtl\n    Kernel/Output/HTML/Standard/AdminCustomerCompanyForm.dtl\n    Kernel/Output/HTML/Standard/AdminCustomerUserForm.dtl\n    Kernel/Output/HTML/Standard/AdminGenericAgent.dtl\n    Kernel/Output/HTML/Standard/AdminGroupForm.dtl\n    Kernel/Output/HTML/Standard/AdminLog.dtl\n    Kernel/Output/HTML/Standard/AdminNotificationForm.dtl\n    Kernel/Output/HTML/Standard/AdminPGPForm.dtl\n    Kernel/Output/HTML/Standard/AdminPOP3.dtl\n    Kernel/Output/HTML/Standard/AdminPackageManager.dtl\n    Kernel/Output/HTML/Standard/AdminPerformanceLog.dtl\n    Kernel/Output/HTML/Standard/AdminPostMasterFilter.dtl\n    Kernel/Output/HTML/Standard/AdminQueueForm.dtl\n    Kernel/Output/HTML/Standard/AdminResponseForm.dtl\n    Kernel/Output/HTML/Standard/AdminRoleForm.dtl\n    Kernel/Output/HTML/Standard/AdminSLA.dtl\n    Kernel/Output/HTML/Standard/AdminSMIMEForm.dtl\n    Kernel/Output/HTML/Standard/AdminSalutationForm.dtl\n    Kernel/Output/HTML/Standard/AdminService.dtl\n    Kernel/Output/HTML/Standard/AdminSession.dtl\n    Kernel/Output/HTML/Standard/AdminSignatureForm.dtl\n    Kernel/Output/HTML/Standard/AdminStateForm.dtl\n    Kernel/Output/HTML/Standard/AdminSysConfig.dtl\n    Kernel/Output/HTML/Standard/AdminSystemAddressForm.dtl\n    Kernel/Output/HTML/Standard/AdminTypeForm.dtl\n    Kernel/Output/HTML/Standard/AdminUserForm.dtl\n - 2007-05-21 Changes max shown escalated tickets in queue view to 30\n    (to improved spped of escalation view in queue view).\n - 2007-05-21 Fixed double ContentType in ArticleAttachment() of attachment\n    backends (Kernel/System/Ticket/ArticleStorage(DB|FS).pm).\n - 2007-05-21 Sync of all configurable frontend modules. No functionality changed.\n    Kernel/Modules/AgentTicketClose.pm\n    Kernel/Modules/AgentTicketFreeText.pm\n    Kernel/Modules/AgentTicketNote.pm\n    Kernel/Modules/AgentTicketOwner.pm\n    Kernel/Modules/AgentTicketPending.pm\n    Kernel/Modules/AgentTicketPriority.pm\n    Kernel/Modules/AgentTicketResponsible.pm\n    Kernel/Output/HTML/Standard/AgentTicketClose.dtl\n    Kernel/Output/HTML/Standard/AgentTicketFreeText.dtl\n    Kernel/Output/HTML/Standard/AgentTicketNote.dtl\n    Kernel/Output/HTML/Standard/AgentTicketOwner.dtl\n    Kernel/Output/HTML/Standard/AgentTicketPending.dtl\n    Kernel/Output/HTML/Standard/AgentTicketPriority.dtl\n    Kernel/Output/HTML/Standard/AgentTicketResponsible.dtl\n - 2007-05-21 Fixed bug#[1898](http://bugs.otrs.org/show_bug.cgi?id=1898) - Invalid services and slas was shown in agent\n    masks.\n - 2007-05-16 Improved check of needed Charset param in Send() function to\n    prevent problems like in bug#[1887](http://bugs.otrs.org/show_bug.cgi?id=1887).\n - 2007-05-14 Fixed bug#[1866](http://bugs.otrs.org/show_bug.cgi?id=1866) - Error while DB upgrade from 2.1.5 to 2.2.0\n    beta3.\n - 2007-05-12 Ingresed width of html login tables from 270 to 280 because\n    of new language selection.\n - 2007-05-11 Added script to convert a non utf-8 database to an utf-8\n    database.\n - 2007-05-09 Fixed bug#[1825](http://bugs.otrs.org/show_bug.cgi?id=1825) - SQL ticket\\_history INSERT syntax error in\n    HistoryAdd().\n - 2007-05-08 Fixed bug#[1840](http://bugs.otrs.org/show_bug.cgi?id=1840) - Repeat escalation message when queue, SLA\n    Solution time is shown.\n - 2007-05-07 Added DB::Encode database driver config (Kernel/System/DB/\\*.pm)\n    to set encoding of selected data to utf8 if needed.\n - 2007-05-07 Added cmd bin/otrs.RebuildConfig.pl to rebuild/build default\n    Kernel/Config/Files/ZZZAAuto.pm based on Kernel/Config/Files/\\*.xml config\n    files.\n - 2007-05-07 Fixed bug#[1787](http://bugs.otrs.org/show_bug.cgi?id=1787) - Problem with cachefilenames of the stats\n    module in win32.\n\n#2.2.0 beta3 2007-05-07\n - 2007-05-04 Fixed bug#[1788](http://bugs.otrs.org/show_bug.cgi?id=1788) - Problem with cachefile in win32.\n - 2007-05-04 Fixed bug#[1773](http://bugs.otrs.org/show_bug.cgi?id=1773) - DB-error in phone ticket if sla but no\n    service is selected.\n - 2007-05-04 Fixed bug#[1035](http://bugs.otrs.org/show_bug.cgi?id=1035) - OTRS does not set encoding for the mysql\n    database connection (i.e. UTF-8).\n - 2007-05-04 Fixed bug#[1778](http://bugs.otrs.org/show_bug.cgi?id=1778) - Config option Database::Connect should be\n    possible.\n - 2007-05-04 Fixed bug#[1611](http://bugs.otrs.org/show_bug.cgi?id=1611) - Now the Statsmodule use the mirror db if\n    configured.\n - 2007-05-02 Fixed bug#[1809](http://bugs.otrs.org/show_bug.cgi?id=1809) - Fixed typo in variable name (PrioritiesStrg -\\>\n    PriotitiesStrg).\n - 2007-04-27 Fixed bug#[1670](http://bugs.otrs.org/show_bug.cgi?id=1670) - If no result the generation of pie graph throws\n    error.\n - 2007-04-26 Added feature to use no BaseDN (or '') for agent and customer\n    authentification (see ticket# 2007030642000446).\n - 2007-04-24 Fixed bug#[1769](http://bugs.otrs.org/show_bug.cgi?id=1769) - If I change the ticket SLA, the history is\n    not relfecting this change.\n - 2007-04-24 Fixed bug#[1768](http://bugs.otrs.org/show_bug.cgi?id=1768) - If I change the ticket service, the history\n    is not relfecting this change.\n\n#2.2.0 beta2 2007-04-16\n - 2007-04-16 Fixed bug#[1448](http://bugs.otrs.org/show_bug.cgi?id=1448) - Apache::Registry in README.webserver wrong,\n    mod\\_perl2 is missing.\n - 2007-04-16 Fixed bug#[1286](http://bugs.otrs.org/show_bug.cgi?id=1286) - apache configuration should use\n    \\<IfModule mod\\_perl.c\\>.\n - 2007-04-16 Fixed bug#[1755](http://bugs.otrs.org/show_bug.cgi?id=1755) - Wrong permissions for some files.\n - 2007-04-16 Fixed bug#[1757](http://bugs.otrs.org/show_bug.cgi?id=1757) - Cannot install postgres db - null value in\n    column \"escalation\\_start\\_time\" violates not-null constraint.\n - 2007-04-16 Fixed bug#[1745](http://bugs.otrs.org/show_bug.cgi?id=1745) - Invalid SQL-statements in AgentTicketQueue\n    view.\n - 2007-04-13 Fixed bug#[1741](http://bugs.otrs.org/show_bug.cgi?id=1741) - \"PostmasterFollowUpStateClosed\" buggy on\n    follow up actions.\n - 2007-04-12 Updated bulgarian translation, thanks to Alex Kantchev!\n - 2007-04-12 Fixed bug#[1748](http://bugs.otrs.org/show_bug.cgi?id=1748) - Session not allowed to be larger than 358400\n    Bytes using IPC. Change max session size from 350k to 2 MB.\n - 2007-04-12 Fixed bug#[1744](http://bugs.otrs.org/show_bug.cgi?id=1744) - Unable to create xml\\_storage table in utf8\n    charset on mysql database.\n - 2007-04-12 Fixed bug#[1739](http://bugs.otrs.org/show_bug.cgi?id=1739) - Unable to insert new SLA via admin-web after\n    upgrade to 2.2.0 beta1.\n - 2007-04-11 Added new Arabic (Saudi Arabia) translation, thanks to\n    Mohammad Saleh!\n\n#2.2.0 beta1 2007-04-02\n - 2007-04-02 Added customer company feature (split of contact and company\n    infos). Need to be activated in CustomerUser config (see\n    Kernel/Config/Defaults.pm).\n - 2007-03-27 Added enhancement #1688 - Backreference in postmaster filter\n    replaces everything, not just the matched backreferenced token.\n - 2007-03-27 Added enhancement #1600 - Adjustable encoding for mails.\n - 2007-03-21 Updated cpan module CGI to version 3.27.\n - 2007-03-20 Added support of new set ticket pending time over X-OTRS-Header\n    X-OTRS-State-PendingTime and X-OTRS-FollowUp-State-PendingTime.\n - 2007-03-20 Rewrite of Kernel::System::User module (cleanup of used params\n    for UserAdd() and UserUpdate()).\n    If you use this API, you need to change your custom implemention!\n    Note If you use UserSyncLDAPMap you need to reconfigure it!\n\nOld:\n\n```perl\n    $Self->{UserSyncLDAPMap} = {\n        # DB -> LDAP\n        Firstname => 'givenName',\n        Lastname => 'sn',\n        Email => 'mail',\n    };\n```\n\nNew:\n```perl\n    $Self->{UserSyncLDAPMap} = {\n        # DB -> LDAP\n        UserFirstname => 'givenName',\n        UserLastname => 'sn',\n        UserEmail => 'mail',\n    };\n```\n - 2007-03-14 Fixed not shown optional ticket free time option fields in\n    customer panel.\n - 2007-03-11 Added enhancement bug#[1102](http://bugs.otrs.org/show_bug.cgi?id=1102) - restore.pl should check for\n    existing tables and stop if already one exists.\n - 2007-03-11 Added enhancement bug#[1664](http://bugs.otrs.org/show_bug.cgi?id=1664) - increase max. WebMaxFileUpload\n    size.\n - 2007-03-08 Improved Prepare() of Kernel::System::DB to fetch also rows\n   between 10 and 30 (with start option of result). For example:\n\n```perl\n   $DBObject->Prepare(\n       SQL => \"SELECT id, name FROM table\",\n       Start => 10,\n       Limit => 20,\n   );\n```\n - 2007-03-08 Improved XML database database backend for \\<Insert\\>. Content\n    in xml attribut is not longer allowed, use the content instead. Now it's\n    also possible to use new lines (\\n) or more lines as content.\n\nOld style:\n\n```xml\n    <Insert Table=\"table_name\">\n        <Data Key=\"name_a\" Value=\"Some Message A.\" Type=\"Quote\"/>\n        <Data Key=\"name_b\" Value=\"Some Message B.\" Type=\"Quote\"/>\n    </Insert>\n```\nNew style:\n\n```xml\n    <Insert Table=\"table_name\">\n        <Data Key=\"name_a\" Type=\"Quote\">Some Message A.</Data>\n        <Data Key=\"name_b\" Type=\"Quote\">Some Message B.</Data>\n    </Insert>\n```\n - 2007-03-08 Moved from scripts/database/initial\\_insert.sql to database depend\n    initial insert files located under scripts/database/otrs-initial\\_insert.\\*.sql.\n    This files are generated from scripts/database/otrs-initial\\_insert.xml.\n    Note: The scripts/database/initial\\_insert.sql exists not longer, use\n    scripts/database/otrs-initial\\_insert.\\*.sql from now on for installations.\n - 2007-03-08 Fixed bug#[1017](http://bugs.otrs.org/show_bug.cgi?id=1017) - script initial\\_insert.sql, ampersand and oracle.\n - 2007-03-08 Fixed enhacement bug#[1668](http://bugs.otrs.org/show_bug.cgi?id=1668) - removed unnecessary dependency for\n    fetchmail from .srpms.\n - 2007-03-07 Added Intro support for .opm format to add intros for packages.\n    For example to add infos where the module can be found, if you need to add\n    some groups to access the module or some other useful stuff.\n    Intro(Install|Reinstall|Upgrade|Uninstall)(Pre|Post) can be used. For more\n    infos see the developer manual in section \"Package Spec File\".\n - 2007-03-07 Fixed bug#[1398](http://bugs.otrs.org/show_bug.cgi?id=1398) - Malformed UTF-8 charaters in Admin Backend -\n    System Log.\n - 2007-03-05 Added Type, Service, SLA as ticket default attribute.\n    Each an be activated by a config setting over SysConfig under\n    Ticket :: Core :: Ticket.\n - 2007-02-15 Improved PGP decryption of files if more the one possible\n    private key exists in the system and one of it is invalid (e. g. no\n    configured password).\n - 2007-02-15 Fixed bug-ticket# 2007020542000593 - Queue refresh \"off\"\n    can't be used on oracle database.\n - 2007-02-15 Add BuildSelection(). This function replaced OptionStrgHashRef(),\n    OptionElement() AgentQueueListOption().\n - 2007-02-12 Added pending time selection feature for generic agent.\n - 2007-02-07 Moved to dtl block in customer ticket zoom view.\n - 2007-02-07 Moved default WebMaxFileUpload config option from 5 MB\n    to 10 MB.\n - 2007-01-31 Fixed Free Field output in AgentTicketForward and\n    AgentTicketPhoneOutbound.\n - 2007-01-30 Added 4 ticket freetime fields and improved freetime function.\n - 2007-01-30 Relocated valid functionality to new Valid.pm to move it\n   out from Kernel/System/DB.pm.\n - 2007-01-18 Added X-OTRS-Lock and X-OTRS-FollowUp-Lock header for\n    PostMaster.\n - 2007-01-17 Relocated agent preferences button.\n - 2007-01-17 Improved freetime feature, unset freetime is now possible by\n    agent and customer GUI.\n - 2007-01-03 Heavy improvement of PerformanceLog feature, show detail\n    view of each frontend module now.\n - 2007-01-03 Added config option for die or log is ldap/radius auth server\n    is not available.\n - 2006-12-21 Improved description of Email- and Phone-Ticket in navigation.\n - 2006-12-21 Added config option to use SystemID in follow up detection or\n    not (Ticket::NumberGenerator::CheckSystemID).\n - 2006-12-21 Added config option for follow-up state of tickets which\n    was was already closed (Ticket::Core::PostMaster::PostmasterFollowUpStateClosed).\n - 2006-12-19 Added config option Ticket::NumberGenerator::CheckSystemID\n    to configure if SystemID is used in follow up detection.\n - 2006-12-14 Removed old compat. CreateTicketNr()/CheckTicketNr() in\n    Kernel/System/Ticket.pm and Kernel/System/Ticket/Number/\\*.pm - so\n    old ticket number generator not longer compat. to OTRS 2.1.\n - 2006-12-13 Moved config option setting SessionMaxTime from 10h to 14h.\n - 2006-12-13 Added auth and customer password crypt backend for crypt(),\n    md5() and plain().\n - 2006-12-13 Added multi auth feature of agent and customer backend.\n - 2006-12-13 Added feature to configure password crypt type of agent and\n    customer auth backend modules.\n - 2006-12-13 Added feature to match only exact email addresses of incoming\n    emails in PostMaster filter like \"From: EMAILADDRESS:someone@example.com\".\n    This only will match for email addresses like 'someone@example.com',\n    'aaa.someone@example.com' will not match! This was a problem if you use\n    normal \"From: someone@example.com\" match.\n - 2006-12-13 Added config option for online agent and customer module to\n    show/not show email addresses of people (SysConfig: Framework\n    Frontend::Agent::ModuleNotify and Frontend::Customer::ModuleNotify).\n - 2006-12-13 Moved config option PostMasterPOP3MaxEmailSize default 6 MB\n    to 12 MB.\n\n#2.1.9 2010-02-08\n - 2010-02-04 Fixed SQL quoting issue (see also\n    http://otrs.org/advisory/OSA-2010-01-en/).\n - 2008-02-06 Fixed bug#[2491](http://bugs.otrs.org/show_bug.cgi?id=2491) - OTRS crash's after initial login on fresh\n    installation on fedora 7, fedora 8, altlinux and ActiveState Perl on win32.\n\n#2.1.8 2008-03-31\n - 2007-08-03 Fixed bug#[2134](http://bugs.otrs.org/show_bug.cgi?id=2134) - PDF print is creating damaged pdf files with\n    PDF::API2 0.56 or smaller.\n - 2007-07-26 fixed bug#[2046](http://bugs.otrs.org/show_bug.cgi?id=2046) - german Umlauts not printed in PDFs if system\n    runs in utf-8 mode. The PDF::API2 corefonts (which are used as default)\n    doesn't support UTF-8. Changed the used fonts from PDF::API2 corefonts to\n    the DejaVu true type fonts. Add config options to use other true type fonts.\n - 2007-05-31 fixed bug#[1926](http://bugs.otrs.org/show_bug.cgi?id=1926) - package manager ignore PackageRequired tags\n    in OPM files.\n\n#2.1.7 2007-04-05\n - 2007-04-05 fixed bug#[1551](http://bugs.otrs.org/show_bug.cgi?id=1551) - decode\\_mimewords() in ArticleWriteAttachment()\n    dies due to utf-8\n - 2007-03-27 updated Kernel/Language/pt\\_BR.pm translation file - Thanks\n    to Fabricio Luiz Machado!\n - 2007-03-14 fixed bug#[1650](http://bugs.otrs.org/show_bug.cgi?id=1650) - crypt/sign bug in AgentTicketCompose screen\n - 2007-03-14 fixed bug#[1659](http://bugs.otrs.org/show_bug.cgi?id=1659) - Uploading and Saving Pictures in MSSQL won't\n    work with bigger Files (~700KB)\n    ->MSSQL ONLY<- You also need to change some tables by using: ->MSSQL ONLY<-\n\n```sql\n        ALTER TABLE web_upload_cache ALTER COLUMN content TEXT NOT NULL;\n        ALTER TABLE article_plain ALTER COLUMN body TEXT NOT NULL;\n        ALTER TABLE article_attachment ALTER COLUMN content TEXT NOT NULL;\n        ALTER TABLE article ALTER COLUMN a_body TEXT NOT NULL;\n        ALTER TABLE standard_response ALTER COLUMN text TEXT NOT NULL;\n        ALTER TABLE standard_attachment ALTER COLUMN content TEXT;\n        ALTER TABLE sessions ALTER COLUMN session_value TEXT;\n        ALTER TABLE xml_storage ALTER COLUMN xml_content_value TEXT;\n        ALTER TABLE package_repository ALTER COLUMN content TEXT NOT NULL;\n```\n - 2007-03-12 fixed upload cache problem in win32 .pdf files\n - 2007-03-12 fixed bug#[1228](http://bugs.otrs.org/show_bug.cgi?id=1228) - Apostrophe not valid in email address.\n - 2007-03-12 fixed bug#[1442](http://bugs.otrs.org/show_bug.cgi?id=1442) and 1559 - ArticleFreeKey and ArticleFreeText\n    default selection does not work.\n - 2007-03-12 fixed ticket# 2007031242000149 - session backend fails to insert\n    sessions bigger the 4k on oracle database backend\n - 2007-03-11 fixed bug#[1671](http://bugs.otrs.org/show_bug.cgi?id=1671) - restore.pl fails with \"Got no LogObject\"\n - 2007-03-11 fixed bug#[1115](http://bugs.otrs.org/show_bug.cgi?id=1115) - HTML error in NewTicket Customer's interface.\n - 2007-03-08 fixed bug#[1658](http://bugs.otrs.org/show_bug.cgi?id=1658) - Subqueues of Queues with brackets are not\n    shown in the QueueView\n - 2007-03-08 added rpm packages for Fedora Core 4, 5 and 6 to auto build\n    service\n - 2007-03-05 fixed ticket# 2007022342000586 - attachment problem with oracle\n    backend if utf-8 is used\n - 2007-03-05 fixed database driver if 0 is used in begining of an xml insert\n\n#2.1.6 2007-03-02\n - 2007-03-02 fixed bug#[1504](http://bugs.otrs.org/show_bug.cgi?id=1504) - Ticket Creation fails with DB2 due to\n    character quoting issues\n - 2007-03-02 fixed bug#[1506](http://bugs.otrs.org/show_bug.cgi?id=1506) - Error creating Tickets in DB2 due to conflict\n    in string/numerical comparison\n - 2007-03-02 fixed bug#[1445](http://bugs.otrs.org/show_bug.cgi?id=1445) - OTRS is not encoding Umlauts correctly in\n    Organization email header\n - 2007-03-02 fixed bug#[1548](http://bugs.otrs.org/show_bug.cgi?id=1548) - submitting AgentTicketPhone or\n    AgentTicketEmail form without queueid leads to broken fields\n - 2007-02-27 fixed bug#[1581](http://bugs.otrs.org/show_bug.cgi?id=1581) - Garbled paths containing domain names\n - 2007-02-27 updated Mail::Tools from 1.60 to 1.74 - fixed bug#[1642](http://bugs.otrs.org/show_bug.cgi?id=1642) -\n    Cant get mails via PostmasterPop3.pl - Unrecognised line\n - 2007-02-27 fixed bug#[1545](http://bugs.otrs.org/show_bug.cgi?id=1545) - Wrong Variableusage in $Self-\\>{PageShown}\n    (Kernel/Modules/AgentTicketMailbox.pm)\n - 2007-02-26 fixed bug#[1291](http://bugs.otrs.org/show_bug.cgi?id=1291) - Download link in SysConfig skips config\n    options -\\> now download link will be shown if no changes are done\n - 2007-02-26 fixed bug#[1097](http://bugs.otrs.org/show_bug.cgi?id=1097) - Disabling Bounce Feature via SysConfig does\n    not work properly\n - 2007-02-26 fixed ticket #2007022242000293 hard line rewrap of body content\n    in frontend modules\n - 2007-02-26 improved speed of SysConfig core module, added cache mechanism\n    (it's about 2 times faster)\n - 2007-02-22 fixed ticket #2007022042000288 - error on creating postmaster\n    filter on oracle database\n - 2007-02-20 fixed not working crypt/sign option in AgentTicketCompose mask\n - 2007-02-20 fixed bug#[980](http://bugs.otrs.org/show_bug.cgi?id=980) - Use of uninitialized value in\n    Kernel/System/AuthSession/FS.pm\n - 2007-02-15 changed unlock time reset mechanism, added unlock time reset\n    if a agent sends an external message to the customer (like escalation\n    reset mechanism)\n - 2007-02-09 fixed bug in \\_XMLHashAddAutoIncrement() - function could not\n    return keys greater than '9'.\n - 2007-02-02 fixed bug#[1056](http://bugs.otrs.org/show_bug.cgi?id=1056) - UTF-8 mode of OTRS and German Umlaute within\n    agent's name\n - 2007-02-02 fixed bug#[1505](http://bugs.otrs.org/show_bug.cgi?id=1505) - UserSyncLDAPMap fails with LDAP.pm version\n    1.26 and up\n - 2007-01-30 fixed ticket\\_watcher.user\\_id datatype, moved from BIGINT to\n    INTEGER\n - 2007-01-30 fixed oracle driver for xml alter table actions\n - 2007-01-30 improved \\_CryptedWithKey() - private key detection of\n    Kernel/System/Crypt/PGP.pm if more keys are used for crypted messages\n - 2007-01-26 fixed ArticleFreeText output in CustomerTicketZoom mask\n - 2007-01-26 fixed bug in agent- and customer-ticket print feature\n\n#2.1.5 2006-01-25\n - 2007-01-25 fixed ignored ticket responible in phone ticket\n - 2007-01-18 fixed DestinationTime() if calendar feature is used\n - 2007-01-17 fixed not working freetime fields\n - 2007-01-11 fixed not working time selection if time zone feature is used\n - 2007-01-08 fixed not working email notification tags in auto response,\n    agent and customer email notifications\n - 2007-01-08 fixed case sensitive of customer user login and agent user\n    login in Kernel/System/User.pm and Kernel/System/CustomerUser/DB.pm if\n    oracle or postgresql is used\n - 2007-01-08 fixed quoting in user selection if + is used in UserLogin in\n    Kernel/Output/HTML/Standard/AdminCustomerUserForm.dtl\n - 2006-12-17 fixed bug#[1532](http://bugs.otrs.org/show_bug.cgi?id=1532) - utf-8 charsetproblems in stats\n - 2006-12-15 fixed bug#[1446](http://bugs.otrs.org/show_bug.cgi?id=1446) - No \"(Ticket unlock!)\" link in\n    AgentTicketCompose\n - 2006-12-14 fixed customer ldap auth if system is iso-8859 and ldap server\n    is running in utf-8\n - 2006-12-14 fixed not working Kernel/System/DB/db2.pm (syntax error)\n\n#2.1.4 2006-12-13\n - 2006-12-13 fixed not working free time selection in AgentTicketClose,\n    AgentTicketNote, AgentTicketOwner, AgentTicketPending, AgentTicketPriority\n    and AgentTicketResponsible\n - 2006-12-11 added config param for shown my queues/custom queues\n    in preferences, default are shown all ro queues, see also\n    PreferencesGroups###CustomQueue under Frontend::Agent::Preferences\n - 2006-12-11 fixed ldap sync of agents attributes - invalid agents\n    are not longer synced to valid if ldap auth was successfully, the\n    invalid agent will still be invalid\n - 2006-12-11 fixed bug#[1187](http://bugs.otrs.org/show_bug.cgi?id=1187) - Escalation Notifications sent to invalid agent\n - 2006-12-11 improved link quote of long links in web interface\n - 2006-12-11 fixed bug#[962](http://bugs.otrs.org/show_bug.cgi?id=962) - Broken attachments with cyrillic filenames\n - 2006-12-08 fixed bug#[1521](http://bugs.otrs.org/show_bug.cgi?id=1521) - Merge Feature\n - 2006-12-08 fixed bug#[1523](http://bugs.otrs.org/show_bug.cgi?id=1523) - update of FreetextValues 9-16 not working\n - 2006-12-08 fixed bug#[1524](http://bugs.otrs.org/show_bug.cgi?id=1524) - ticketFreeText Fields 9-16 not displayed\n    at CustomerTicketPrint and CustomerTicketZoom\n - 2006-12-07 fixed bug#[1359](http://bugs.otrs.org/show_bug.cgi?id=1359) - acl problem if '' is used in properties to match\n - 2006-12-07 fixed bug#[1031](http://bugs.otrs.org/show_bug.cgi?id=1031) - scripts/backup.pl fails in mysqldump with\n    encrypted database password\n - 2006-12-07 fixed bug#[1378](http://bugs.otrs.org/show_bug.cgi?id=1378) - Got no MainObject! in bin/otrs.getTicketThread\n - 2006-12-07 fixed bug#[1200](http://bugs.otrs.org/show_bug.cgi?id=1200) - not working TicketACL actions AgentTicketCompose,\n    AgentTicketBounce, AgentTicketForward and AgentTicketPhoneOutbound\n - 2006-12-07 added log notice for switch to user admin feature\n - 2006-12-07 fixed bug#[1210](http://bugs.otrs.org/show_bug.cgi?id=1210) - wrong calculation of Kernel::System::Time\n    WorkingTime()\n - 2006-12-06 added changes notice of generic agent jobs to log sub\n    system (to keep clear who changed the job)\n - 2006-12-05 moved ticket number generator loop check from 1000 to 6000\n    (Kernel/System/Ticket/Number/\\*.pm)\n - 2006-11-30 fixed not working faq lookup in compose answer and forward\n    screen\n - 2006-11-30 fixed double quoted \"$Quote{\"Cc: (%s) added database email!\"\"}\n    in compose answer screen (Kernel/Modules/AgentTicketCompose.pm)\n - 2006-11-30 fixed bug#[1498](http://bugs.otrs.org/show_bug.cgi?id=1498) - Typo in QuoteSingle, Kernel/System/DB/mssql.pm\n - 2006-11-30 moved Quote() from Kernel/System/DB.pm to db backend modules\n    Kernel/System/DB/\\*.pm because of needed Quote() in xml processing\n - 2006-11-23 improved handling if there are double customer users in\n    the database used by search result\n - 2006-11-22 fixed PGP/SMIME bug - Can't call method \"body\" on an undefined\n    value at Kernel/System/EmailParser.pm line 382\n - 2006-11-22 fixed bug#[1395](http://bugs.otrs.org/show_bug.cgi?id=1395) - utf-8 - ArticleStorage FS - Attachments with\n    German Umlauts cant be downloaded\n - 2006-11-17 added config option Ticket::PendingNotificationOnlyToOwner\n    to send reached reminder notifications of unlocked tickets only to ticket\n    owner\n - 2006-11-17 fixed database driver detection/problem if a second database\n    connect with different driver is used (wrong sql will not longer be\n    generated) Note: old database driver files Kernel/System/DB/\\*.pm\n    not longer compatible\n - 2006-11-17 added config option Ticket::ResponsibleAutoSet to set owner\n    automatically as responsible if no responsible is set (default is 1)\n\n#2.1.3 2006-11-15\n - 2006-11-15 removed not needed Reply-To of agent notifications\n - 2006-11-15 fixed missing \\n on csv output of customer ticket search\n - 2006-11-15 fixed not working ticket free time option in phone ticket\n - 2006-11-15 added missing access permission pre check to show ticket menu\n    items or not\n - 2006-11-15 fixed bug - not shown empty \"-\" selection of new onwer if on\n    move if Ticket::ChangeOwnerToEveryone is set\n - 2006-11-10 update of Dansk language file, thanks to Mads N. Vestergaard\n - 2006-11-10 update of Spanish language file, thanks to Jorge Becerra\n - 2006-11-09 added AuthModule::HTTPBasicAuth::Replace and\n    Customer::AuthModule::HTTPBasicAuth::Replace config option to HTTPBasicAuth\n    modules to strip e. g. domains like example\\_domain\\user from login down to user\n - 2006-11-09 added AuthModule::LDAP::UserLowerCase to allways convert\n     usernames into lower case letters\n - 2006-11-07 added set auto time zone of agent/customer based on java script\n    offset feature on every login\n - 2006-11-07 fixed not working all owner/responsible selection in phone view\n - 2006-11-07 read out CustomerUserSearchListLimit correctly if LDAP customer\n    backend is in use\n - 2006-10-27 fixed always shown responsible selection\n - 2006-10-27 removed not needed default free text fields from phone outbound\n - 2006-10-26 fixed agent can be customer follow up feature\n - 2006-10-26 added possible - selection for next state in phone view outbount\n - 2006-10-20 fixed LDAP problems \"First bind failed! No password, did you\n    mean noauth or anonymous ?\"\n - 2006-10-19 fixed double agent notifications on ticket move to queue\n    and also selected owner\n\n#2.1.2 2006-10-18\n - 2006-10-13 switched to md5 check sum for password in user\\_preference table\n - 2006-10-12 fixed #1373 - RH RPM requires sendmail, but works with other MTAs\n - 2006-10-12 fixed double agent notifications on follow up if agent is\n    owner and responible\n - 2006-10-12 fixed bug#[1311](http://bugs.otrs.org/show_bug.cgi?id=1311) - Apostrophes are incorrectly displayed under\n    IE 6 & IE7 but correctly displayed under Firefox 1.5.0.6  -=\\>\n    moved from $Text{} to $JSText{} for text translations in Java Script parts\n    to have a correct quoting\n - 2006-10-11 fixed not shown follow up feature in customer panel if ticket\n     is closed\n - 2006-10-09 added missing customer print feature\n - 2006-10-05 fixed bug#[1361](http://bugs.otrs.org/show_bug.cgi?id=1361) - Can't locate object method \"ModGet\" via\n    package \"Kernel::System::Config\"\n\n#2.1.1 2006-10-05\n - 2006-10-05 fixed bug#[1213](http://bugs.otrs.org/show_bug.cgi?id=1213) - some errors not logger by LDAP backends\n - 2006-10-05 fixed bug#[1248](http://bugs.otrs.org/show_bug.cgi?id=1248) - Ticket Zoom - Article Thread - Color of auto\n    responses should be yellow\n - 2006-10-05 fixed bug#[1323](http://bugs.otrs.org/show_bug.cgi?id=1323) - 2.1 DBUpgrade issue with PostgreSQL - patch\n - 2006-10-05 fixed bug#[1333](http://bugs.otrs.org/show_bug.cgi?id=1333) - No reset of escalation time after follow-up\n - 2006-10-05 fixed bug#[1345](http://bugs.otrs.org/show_bug.cgi?id=1345) - Attached binary files uploaded and saved to\n    the FS are corrupted.\n - 2006-09-30 add ticketfreetext-, ticketfreetime- and articlefreetext support\n    to pdf output\n - 2006-09-28 improved stats export/import with an id-name wrapper\n - 2006-09-28 fixed bug#[1353](http://bugs.otrs.org/show_bug.cgi?id=1353)/1354 changed autoreponse text\n - 2006-09-27 add transparency to some images\n - 2006-09-27 fixed bug#[1358](http://bugs.otrs.org/show_bug.cgi?id=1358) - Customer History \\> All customer tickets.\n    returns an incorrect number of tickets\n - 2006-09-27 fixed bug#[1293](http://bugs.otrs.org/show_bug.cgi?id=1293) - Can't use an undefined value as a HASH\n    reference at /opt/otrs/bin/cgi-bin//../../Kernel/Modules/AgentTicketBulk.pm\n    line 194\n - 2006-09-27 fixed bug#[1356](http://bugs.otrs.org/show_bug.cgi?id=1356) - mssql driver bug - Stats module of OTRS 2.1\n    beta 2 - \"Cant use string (\"0\")\".\n - 2006-09-27 fixed bug#[1335](http://bugs.otrs.org/show_bug.cgi?id=1335) - removed \"uninitialized value\" warning in\n    NavBarTicketWatcher.pm\n - 2006-09-22 fixed opm check do not install/upgrade packages if one file to\n    install already exists in an other package\n - 2006-09-22 added \"-a exportfile\" feature to bin/opm.pl to export files\n    of a package into a defined directory e. g. \"-d /path/to/\"\n - 2006-09-21 removed Re: from agent notification emails\n - 2006-09-14 added change to remove 4 not needed empty spaces after folding\n    of email headers (sometimes 4 empty spaces in subject appear)\n - 2006-09-09 updated pdf-logo to ((otrs))\n - 2006-09-09 added DBUpdate-to-2.1.oracle.sql to get oracle databases up to\n    date\n - 2006-09-05 fixed double sending of note notifications\n - 2006-09-05 fixed link to email and phone after adding a new customer user\n - 2006-09-01 added fix to removed leading and trailing spaces in search\n    fields of object linking\n\n#2.1.0 beta2 2006-08-29\n - 2006-08-29 moved Frontend::ImagePath variable\n   (/otrs-web/images/Standard/) from .dtl files to config option\n - 2006-08-28 added examples how to use SOAP (bin/cgi-bin/rpc.pl and\n    scripts/rpc-example.pl)\n - 2006-08-27 added mulit calendar / queue support - you can use different\n    time zones in different queues and each agent can select the own time zone\n    NOTE: table queue need to be modified - see scripts/DBUpdate-to-2.1.\\*.sql\n - 2006-08-27 fixed bug#[739](http://bugs.otrs.org/show_bug.cgi?id=739) - in the login you can type something behind the\n    pass and it works / added password md5 support (required Crypt::PasswdMD5\n    from CPAN or from Kernel/cpan-lib/ - via \"cvs update -d\")\n - 2006-08-26 fixed $Quote{\"\"} bug in login page\n - 2006-08-25 fixed bug#[1284](http://bugs.otrs.org/show_bug.cgi?id=1284) - removed mysql dependence in\n    scripts/apache-perl-startup.pl and scripts/apache2-perl-startup.sql\n - 2006-08-25 fixed bug#[1282](http://bugs.otrs.org/show_bug.cgi?id=1282) - setting up a postgresql database fails\n - 2006-08-24 added performance log feature in admin interface to monitor\n    your system page load performance over different times (1h, 3h, 9h, 1d, 2d,\n    3d) - its disabled per default\n - 2006-08-24 removed Re: in subject auto response emails\n - 2006-08-22 added PDF output support to AgentTicketPrint module\n - 2006-08-21 fixed bug in pdf module - redesiged Table() to fix a lot of\n    infinite loops\n - 2006-08-08 fixed bug in pdf module - special control characters produces\n    infinite loops\n - 2006-08-02 added ldap attribute to groups/roles sync feature, so its\n    possible to use user attributes for permission handling\n - 2006-08-02 fixed bug#[1283](http://bugs.otrs.org/show_bug.cgi?id=1283) - test for modules executed in cronjobs\n\n#2.1.0 beta1 2006-08-02\n - 2006-07-31 added cmd option for bin/opm.pl to find package of file\n    e. g. bin/opm.pl -a file -p Kernel/System/FileA.pm\n - 2006-07-31 added sleep in bin/PostMasterPOP3.pl after 10 (2 sec) and\n    25 (3 sec) emails on one stream (protect server against overload)\n - 2006-07-31 added PDF output feature for stats module and ticket search results\n - 2006-07-26 updated to cpan MIME::Tools 5.420\n - 2006-07-26 changed ticket escalation method, escalation start will\n    be reseted after every \"new\" customer message and after agent\n    communication to customer\n - 2006-07-25 added new link object functions and db table link\\_object changes\n - 2006-07-23 added \\<OTRS\\_CUSTOMER\\_DATA\\_\\*\\> tags to auto responses\n - 2006-07-23 added support of mssql database server (experimental)\n - 2006-07-18 added new feature to sync ldap groups into otrs roles\n    (see more in Kernel/Config/Defaults.pm under UserSyncLDAPGroupsDefination\n    and UserSyncLDAPRolesDefination)\n - 2006-07-14 new stats framework implemented :-)\n - 2006-07-14 fixed bug#[1258](http://bugs.otrs.org/show_bug.cgi?id=1258) - changed language description from Traditional Chinese\n    to Simplified Chinese\n - 2006-07-04 fixed bug#[1151](http://bugs.otrs.org/show_bug.cgi?id=1151) - Error when changing customer on ticket in\n - 2006-07-11 improved performance of ticket search mask (in cases with\n    over 500 Agents and over 50 Groups) by adding GroupMemberInvolvedList()\n    and modify GroupMemberList(), GroupGroupMemberList(), GroupRoleMemberList()\n    and GroupUserRoleMemberList() at Kernel/System/Group.pm\n - 2006-07-11 fixed bug#[1132](http://bugs.otrs.org/show_bug.cgi?id=1132) - Wrong display of escalation time\n - 2006-07-04 fixed bug#[1151](http://bugs.otrs.org/show_bug.cgi?id=1151) - Error when changing customer on ticket in\n    TicketStatusView\n - 2006-06-26 added ticket watcher feature, per default it's disabled\n - 2006-06-22 fixed bug#[1240](http://bugs.otrs.org/show_bug.cgi?id=1240) - Tickets not shown in \"New messages\" if\n    Auto Response \"Reply\" is active\n - 2006-06-14 fixed bug#[1206](http://bugs.otrs.org/show_bug.cgi?id=1206) - When no RELEASE file is available, no\n    product and version is displaied and strange messages apear in the\n    apache error log;  using standard values in this case now\n - 2006-06-13 added public frontend module to serve local repository as\n    remote repository (accessable via IP authentication)\n - 2006-06-13 fixed bug#[1154](http://bugs.otrs.org/show_bug.cgi?id=1154) - Problem in displaying pending tickets\n    in agent mailbox\n - 2006-06-07 improved postmaster follow up detection by scanning email\n    body, attachment and/or raw email (all is disabled by default)\n - 2006-06-02 fixed bug#[1023](http://bugs.otrs.org/show_bug.cgi?id=1023) - Comma in From field creates multiple emails\n    in webform.pl\n - 2006-04-27 fixed IE problem with image-buttons\n    involved files: AdminSysConfigEdit.dtl and AdminSysConfig.pm\n - 2006-04-26 fixed format bug in Package Manager - PackageView\n - 2006-04-06 moved to read any language files located under\n    Kernel/Language/xx\\_\\*.pm at each request to have any translated words\n    e. g. for navigation bar available (Kernel/Language/xx\\_Custom.pm is\n    still used as latest source file)\n - 2006-03-28 added config option to show ticket title in main header\n    of frontend (e. g. QueueView, ZoomView and Mailbox)\n - 2006-03-24 moved from \"otrs\" to \"otrs-x.x.x\" directory in\n    tar.gz / tar.bz download format\n - 2006-03-22 added article free text attrubutes\n - 2006-03-21 moved from Kernel::Output::HTML::Generic to\n    Kernel::Output::HTML::Layout - all sub modules localted under\n    Kernel/Output/HTML/Layout\\*.pm will ne loaded automatically\n    at runtime\n - 2006-03-20 improved ticket zoom to shown attachments with\n    html title about attachment info (name, size, ...)\n - 2006-03-20 added use of current config values in admin sysconfig\n    fulltext search\n - 2006-03-11 fixed some spelling mistakes for the English original in\n    language templates and language files\n - 2006-03-10 added admin init (Kernel/Modules/AdminInit.pm) to init\n    config files .xml-\\>.pm after a new setup (after initial root login)\n - 2006-03-04 splited Kernel::Modules::AgentTicketPhone into\n    two modules Kernel::Modules::AgentTicketPhone and\n    Kernel::Modules::AgentTicketPhoneOutbound (phone calls for existing\n    tickets) also templates are renamed!\n - 2006-03-04 cleanup for ticket event names (added compat mode):\n    TicketCreate, TicketDelete, TicketTitleUpdate, TicketUnlockTimeoutUpdate,\n    TicketEscalationStartUpdate, TicketQueueUpdate (MoveTicket),\n    TicketCustomerUpdate (SetCustomerData), TicketFreeTextUpdate\n    (TicketFreeTextSet), TicketFreeTimeUpdate (TicketFreeTimeSet),\n    TicketPendingTimeUpdate (TicketPendingTimeSet), TicketLockUpdate (LockSet),\n    TicketStateUpdate (StateSet), TicketOwnerUpdate (OwnerSet),\n    TicketResponsibleUpdate, TicketPriorityUpdate (PrioritySet), HistoryAdd,\n    HistoryDelete, TicketAccountTime, TicketMerge, ArticleCreate,\n    ArticleFreeTextUpdate (ArticleFreeTextSet), ArticleUpdate, ArticleSend,\n    ArticleBounce, ArticleAgentNotification, (SendAgentNotification),\n    ArticleCustomerNotification (SendCustomerNotification), ArticleAutoResponse\n    (SendAutoResponse), ArticleFlagSet\n - 2006-03-04 added own X-OTRS-FollowUp-\\* header if Queue, State, Priority,\n    ...  should be changed with follow up emails (see: doc/X-OTRS-Headers.txt)\n - 2006-03-04 reworked \"config options\" and \"interface\" of \\_all\\_ agent\n    ticket interfaces to get is clear\n - 2006-03-03 replaced ticket config option \"Ticket::ForceUnlockAfterMove\"\n    with ticket event module \"Ticket::EventModulePost###99-ForceUnlockOnMove\"\n - 2006-03-03 replaced ticket config option \"Ticket::ForceNewStateAfterLock\"\n    with ticket event module \"Ticket::EventModulePost###99-ForceStateChangeOnLock\"\n - 2006-03-03 added \"responsible\" ticket feature!\n    (db update with scripts/DBUpdate-to-2.1.(mysql|postgres).sql)\n - 2006-03-03 added persian translation (incl. TextDirection support)\n    - Thanks to Amir Shams Parsa!\n - 2006-02-16 added default ticket event module to reset ticket owner\n    after move action (it's disable per default)\n - 2006-02-10 added default next state in ticket forward\n - 2006-02-10 added OTRS\\_Agent\\_\\* tags like OTRS\\_Agent\\_UserFirstname and\n    OTRS\\_Agent\\_UserLastname for salutation and signature templates\n - 2006-02-05 added update and insert via admin sql box\n - 2006-02-05 'removed old compat files' Kernel/Config/Files/Ticket.pm\n    and Kernel/Config/Files/TicketPostMaster.pm\n - 2006-02-05 added 8 more ticket free text fields\n    (db update with scripts/DBUpdate-to-2.1.(mysql|postgres).sql)\n - 2006-01-07 added SendNoNotification option for MoveTicket(),\n    LockSet() and OwnerSet() in Kernel/System/Ticket.pm (used in\n    GenericAgent to do some admin stuff).\n - 2005-12-29 added online repository access for bin/opm.pl\n - 2005-12-29 added Delete and Spam config option to\n    Kernel/Config/Files/Ticket.xml for Ticket::Frontend::MenuModule\n - 2005-12-21 added column type check in xml database defination\n - 2005-12-20 added unit test system\n - 2005-12-17 improved admin view of session management\n - 2005-12-04 moved FAQ from framework to own application module\n    (can be installed over opm online repository now)\n - 2005-11-27 moved otrs archive directory for download and in RPMs\n    from otrs to otrs-x.x.x\n - 2005-11-20 added multi pre application module support, just\n    define it like:\n```\n    $Self->{PreApplicationModule}->{AgentInfo} = 'Kernel::Modules::AgentInfo';\n```\n\n#2.0.5 2007-05-22\n - 2007-05-22 fixed bug#[1842](http://bugs.otrs.org/show_bug.cgi?id=1842) - Cross-Site Scripting Vulnerability\n - 2007-01-11 fixed bug#[1515](http://bugs.otrs.org/show_bug.cgi?id=1515) - Some GenericAgent names don't work\n    (e. g. names with +)\n - 2007-01-11 fixed bug#[1496](http://bugs.otrs.org/show_bug.cgi?id=1496) - GenericAgent: \"Ticket created last...\"\n    does not work\n - 2006-07-11 fixed bug#[1132](http://bugs.otrs.org/show_bug.cgi?id=1132) - Wrong display of escalation time\n - 2006-07-11 added missing utf-8 encoding in agent and customer auth\n - 2006-07-11 added missing utf-8 encoding customer user backend\n - 2006-07-04 changed language description from Traditional Chinese to\n    Simplified Chinese (bug#[1258](http://bugs.otrs.org/show_bug.cgi?id=1258))\n - 2006-07-04 fixed bug#[1151](http://bugs.otrs.org/show_bug.cgi?id=1151) - Error when changing customer on ticket in\n    TicketStatusView\n - 2006-06-17 fixed bug#[1240](http://bugs.otrs.org/show_bug.cgi?id=1240) - Tickets not shown in \"New messages\" if\n    Auto Response \"Reply\" is active\n - 2006-06-14 fixed bug#[1206](http://bugs.otrs.org/show_bug.cgi?id=1206) - When no RELEASE file is available, no\n    product and version is displaied and strange messages apear in the\n    apache error log;  using standard values in this case now\n - 2006-06-13 fixed bug#[1154](http://bugs.otrs.org/show_bug.cgi?id=1154) - Problem in displaying pending tickets\n    in agent mailbox\n - 2006-06-02 fixed bug#[1023](http://bugs.otrs.org/show_bug.cgi?id=1023) - Comma in From field creates multiple emails\n    in webform.pl\n - 2006-03-24 added SUSE 10.x RPM support\n - 2006-03-24 fixed bug#[925](http://bugs.otrs.org/show_bug.cgi?id=925) - Binary Attachments incorrectly utf-8\n    encoded in ticket replies\n - 2006-03-23 fixed links to new phone/email ticket after a new\n    customer is created via Kernel/Modules/AdminCustomerUser.pm\n - 2006-03-21 update of Portuguese language file  - Thanks to\n    Manuel Menezes de Sequeira)\n - 2006-03-18 added Greek translation - Thanks to Stelios Maistros!\n - 2006-03-16 fixed bug#[991](http://bugs.otrs.org/show_bug.cgi?id=991) - changed $Data{} to $QData{} in Ticket.xml\n    and Ticket.pm config files to solve problem when answering requests\n    that contain HTML tags\n - 2006-03-16 updated Dutch language file - Thanks to Richard Hinkamp!\n - 2006-03-16 added Slovak translation\n - 2006-03-10 fixed/removed die in Kernel/System/AuthSession/FS.pm\n    -=\\> GetSessionIDData() - not wanted to die if nn SessionID is given\n - 2006-03-08 added Danish translation - Thanks to Thorsten Rossner!\n - 2006-03-08 updated Norwegian translation - Thanks to Knut Haugen\n - 2006-03-08 fixed some spelling mistakes for the English original in\n    language templates and language files\n - 2006-02-12 updated Brazilian Portuguese translation -Thanks to\n    Fabricio Luiz Machado!\n - 2006-02-01 fixed missing translation after new ticket was created\n - 2006-02-01 added long month translation for calendar popup\n - 2006-02-01 changed Kernel/System/Spelling.pm to work with (a|i)spell\n    on Windows systems\n - 2006-01-30 added \\<OTRS\\_TICKET\\_\\*\\> and \\<OTRS\\_CONFIG\\_\\*\\> support to\n    auto respons templates\n - 2006-01-29 fixed/removed wrong config option\n    \"Ticket::Frontend::QueueSortDefault\", added own config option for\n    StatusView of tickets\n - 2006-01-29 fixed bug#[1047](http://bugs.otrs.org/show_bug.cgi?id=1047) forward fails if \" is in From\n - 2006-01-29 fixed ldap authentication if application charset is\n    e. g. iso-8859-1 and not utf-8\n - 2006-01-26 fixed some spelling mistakes in\n    Kernel/Config/Files/Ticket.xml and Kernel/Config/Files/Framework.xml\n - 2006-01-24 Added X-Spam-Level to config files to have the possibility\n     to filter for this header with PostMasterFilter\n - 2006-01-23 fixed bug#[1069](http://bugs.otrs.org/show_bug.cgi?id=1069) - Problem when the name of a GenericAgent\n    job was updated\n - 2006-01-08 fixed PostMaster filter admin interface if wrong syntax\n    regexp is used (don't save invalid regexp because no email can be\n    received)\n - 2006-01-07 added bin/CheckSum.pl and also ARCHIVE file to include\n    md5 sum archive of current distribution\n - 2006-01-07 improved PostMaster if no article can be created\n - 2005-12-29 fixed internal server error if in sysconfig search\n     is used\n - 2005-12-29 fixed \"enter\" submit bug in sysconfig (e. g. reset first\n    item in the edit site)\n - 2005-12-29 fixed ArticleAttachmentIndex() - wrong index count in\n    fs lookup - attachment icons sometimes not shown\n - 2005-12-29 added added missing class=\"button\" in submit type=\"submit\"\n    of .dtl templates\n - 2005-12-27 fixed default note-type and default state-type in ticket\n    pending mask\n - 2005-12-23 fixed stats/graph error message 'Can't call method \"png\"\n    on an undefined value at ...'\n - 2005-12-21 fixed missing delete on time\\_accounting in\n    Kernel/System/Ticket/Article.pm if article got deleted\n - 2005-12-20 improved die if xml is invalid in Kernel/System/XML.pm\n - 2005-12-12 added compat config option for compose answer to\n    replace original sender with current customers email address\n - 2005-11-19 updated French language file, thanks to Yann Richard\n - 2005-12-04 fixed bug#[1025](http://bugs.otrs.org/show_bug.cgi?id=1025) - ORA-01400: cannot insert NULL into (\"OTRS\"\n    .\"CUSTOMER\\_USER\".\"COMMENTS\"\n - 2005-12-04 fixed bug#[1018](http://bugs.otrs.org/show_bug.cgi?id=1018) - initial\\_insert.sql, oracle error ORA-01400:\n    cannot insert NULL into\n - 2005-12-03 fixed std attachment feature (no attachment after\n    additional fiel upload) in agent ticket compose\n - 2005-12-01 improved database Quote() for integer, also allow +|-\n    in integer\n - 2005-11-30 fixed order of create attributes (TicketCreate(), TicketFreeTime(),\n    TicketFreeTime(), ArticleCreate(), ...) on customer ticket creation\n - 2005-11-29 fixed bug#[1010](http://bugs.otrs.org/show_bug.cgi?id=1010) - ORA-00972 Identifier is too long for oracle\n - 2005-11-29 fixed bug#[1011](http://bugs.otrs.org/show_bug.cgi?id=1011) - ORA-01408: such column list already indexed,\n    Oracle error\n - 2005-11-24 fixed wrong follow up notification (to all agents)\n    via customer panel if ticket is already closed\n - 2005-11-19 updated Dutch language file, thanks to Richard Hinkamp\n - 2005-11-15 fixed not working -r option in scripts/backup.pl\n    (-r == removed backups older then -r days)\n - 2005-11-13 remove leading and trailing spaces in ldap filter for\n    agent and customer authentication\n\n#2.0.4 2005-11-12\n - 2005-11-11 fixed bug#[695](http://bugs.otrs.org/show_bug.cgi?id=695) - From-Header missing quoting if : is used\n - 2005-11-11 fixed bug#[863](http://bugs.otrs.org/show_bug.cgi?id=863) - error after using faq in tickets\n - 2005-11-11 fixed bug#[906](http://bugs.otrs.org/show_bug.cgi?id=906) - group names are translated in admin interface\n - 2005-11-08 added missing default pending note type\n - 2005-11-05 fixed bug#[922](http://bugs.otrs.org/show_bug.cgi?id=922) - rfc quoteing for emails with sender\n    like info@example.com \\<info@example.com\\> is now\n    \"info@example.com\" \\<info@example.com\\>\n - 2005-11-05 fixed bug#[639](http://bugs.otrs.org/show_bug.cgi?id=639) - problems with german \"umlaute\" and\n    \",\" in realname if OE is the sender system\n - 2005-10-31 moved to default download type as attachment (not inline)\n    for a better security default setting\n - 2005-10-31 fixed bug in html mime online viewer module\n    (Kernel/Modules/AgentTicketAttachment.pm)\n - 2005-10-31 added missing ContentType in ArticleAttachmentIndex() if\n    fs lookup is used (Kernel/System/Ticket/ArticleStorage\\*.pm)\n - 2005-10-31 improved sql quote with type (String, Integer and Number)\n    to have a better security\n - 2005-10-30 removed not needed german default salutation and signature\n    from scripts/database/initial\\_insert.sql\n - 2005-10-30 improved oracle backend with max length of index and foreign\n    key ident, fixed triger creation - removed not needed / if DBI is used.\n - 2005-10-25 improved bin/opm.pl to uninstall packages via\n   -p package-verions of installed package\n - 2005-10-25 moved to default selected priority and state in\n    first mask of phone and email mask\n - 2005-10-25 fixed lost of original .backup and .save files if\n    packages are reinstalled\n - 2005-10-25 added html access keys for customer panel\n - 2005-10-24 moved oracle database param LongReadLen to 4\\*1024\\*1024 to\n   store biger attachments\n - 2005-10-23 fixed small bug for WorkingTime calculation\n - 2005-10-22 fixed bug#[971](http://bugs.otrs.org/show_bug.cgi?id=971) - Invalid agents get LockTimeOut notification\n - 2005-10-21 fixed bug#[948](http://bugs.otrs.org/show_bug.cgi?id=948) - Invalid agents should not longer get follow-ups\n - 2005-10-21 fixed bug#[957](http://bugs.otrs.org/show_bug.cgi?id=957) - Got \"no ArticleID\" error when viewing queues\n - 2005-10-20 improved html of admin auto responses \\<-\\> queue relation\n - 2005-10-20 fixed unlock of closed bulk-action tickets\n - 2005-10-20 fixed calendar lookup in admin generic agent time\n    selection\n - 2005-10-18 added sortfunction for hashes and array in admin interface\n    -\\> SysConfig\n - 2005-10-17 fixed bug#[792](http://bugs.otrs.org/show_bug.cgi?id=792) - GPG 1.4.1 is no handled correct\n - 2005-10-17 fixed missing db quoting in Kernel/System/Auth/DB.pm\n - 2005-10-15 small rework of Kernel/Language/de.pm with improved wording\n - 2005-10-15 fixed bug#[889](http://bugs.otrs.org/show_bug.cgi?id=889) - fixed QuoteSignle typo and added changed\n    QuoteSingle for PostgreSQL\n - 2005-10-15 Added correct quoting in Filter.pm when deleting a\n    PostMasterFilter rule\n - 2005-10-13 changed merge article type to note-external to be shown\n    in the customer interface, other way the customer will get an no\n    permission screen for this ticket\n - 2005-10-13 improved bin/PendingJobs.pl to send reminder notifications\n    to queue subscriber if ticket is unlocked (not longer to the ticket\n    owner).\n - 2005-10-13 improved html style of package view in admin interface\n - 2005-10-11 added missing SessionUseCookie config setting to SysConfig\n - 2005-10-10 fixed time (hour and minute) selection on 0x default selections\n    in framework (00 selection if 0x was selected)\n - 2005-10-08 removed not longer needed uniq customer id search in\n    agent interface\n - 2005-10-06 fixed input check of TimeVacationDays and\n    TimeVacationDaysOneTime in admin interface (just integer values allowed)\n - 2005-10-05 fixed bug#[947](http://bugs.otrs.org/show_bug.cgi?id=947) - Admin -\\> SelectBox: Insert, Delete, Update\n    etc. possible\n - 2005-10-04 added MainObject as required for Kernel/Output/HTML/Generic.pm\n - 2005-10-01 fixed time (minute and hour) default selection if 01 minues\n    or 01 hours are used\n\n#2.0.3 2005-09-28\n - 2005-09-28 fixed typo in config option name for csv search output,\n    so configable csv search output is now possible\n - 2005-09-28 improved speed of Kernel::System::AgentTicketMailbox\n    (added page jumper)\n - 2005-09-28 fixed not deleting var/tmp/XXXXXX.tmp files\n - 2005-09-26 fixed not working cache in Kernel::System::User-\\>UserGetData()\n - 2005-09-24 fixed small oracle database driver bugs\n - 2005-09-24 added initial user groups add (UserSyncLDAPGroups) after\n    initial login\n - 2005-09-19 moved ldap user sync after login from Kernel/System/User.pm\n    to Kernel/System/Auth/LDAP.pm (already an existing ldap module)\n - 2005-09-19 fixed ticket search create day and month selection\n    (e. g. 009) if input fields (no pull downs) are used\n - 2005-09-19 removed js from change ticket customer\n - 2005-09-19 fixed bin/mkStats.pl - no attachments are sent\n - 2005-09-18 removed auto result in object link mask (search submit\n    required first!) and improved html design\n - 2005-09-17 added DefaultTheme::HostBased config option for host\n    name based theme selection\n - 2005-09-14 fixed move action module in\n    Kernel/Output/HTML/Standard/AgentTicketQueueTicketViewLite.dtl\n - 2005-09-13 fixed ticket search with IE if many options are selected\n - 2005-09-11 improved html style in customer panel\n - 2005-09-09 added Chinese translation, thanks to zuowei\n - 2005-09-07 added admin \"su\" (Switch To User) feature (it's disabled\n    per default)\n - 2005-09-05 moved to german \"Ihr OTRS Benachrichtigungs-Master\" wording\n    in default notifications\n - 2005-09-05 added missing default state and article type option to\n    Kernel/Modules/AgentTicketClose.pm\n - 2005-09-04 changed max. session time from 9h to 10h\n - 2005-09-04 added missing config options in\n    Kernel/Modules/AgentTicketEmail.pm and Kernel/Modules/AgentTicketPhone.pm\n    for show count of customer ticket history\n - 2005-09-04 added missing Kernel::Modules::AgentLookup module registration\n - 2005-09-04 fixed ArticleGetContentPath() in Kernel/System/Ticket/Article.pm,\n    removed \"uninitialized value\" warning if no content path is set in db'\n - 2005-09-04 fixed ArticleWriteAttachment() in\n    Kernel/System/Ticket/ArticleStorageFS.pm, added ContentPath lookup\n - 2005-09-04 fixed SubGroup of Ticket::Frontend::CustomerInfo(Queue|Zoom|\n    Compose), Frontend::Agent is the correct one\n - 2005-09-04 added possibe state selection in owner update screen\n - 2005-08-29 fixed bug#[905](http://bugs.otrs.org/show_bug.cgi?id=905) - fixed SuSE meta header info, try-restart\n    arg, and some smaller fixes\n - 2005-08-26 added package manager deploy check in admin interface, if\n    package is really deployed (compare files in filesystem and package)\n - 2005-08-26 added time accounting option to ticket move mask\n - 2005-08-26 replaced localtime(time) with Kernel::System::Time core\n    module in several files\n - 2005-08-26 removed empty thai translation file\n - 2005-08-24 replaced scripts/restore.sh and scripts/backup.sh with improved\n    scripts/backup.pl and scripts/restore.pl scripts\n - 2005-08-24 added SMIME and PGP environment check in admin\n    interface\n - 2005-08-23 fixed bug#[891](http://bugs.otrs.org/show_bug.cgi?id=891) - typo in Login.dtl\n\n#2.0.2 2005-08-22\n - 2005-08-19 fixed bug#[811](http://bugs.otrs.org/show_bug.cgi?id=811) - 404 Error for role link OTRS::Admin::Role\n    \\<-\\> User\n - 2005-08-19 Added new config parameter to include a envelope from\n    header in outgoing notifications for customer and agents:\n```perl\n   $Self->{\"SendmailNotificationEnvelopeFrom\"} = '';\n```\n - 2005-08-19 fixed bug#[846](http://bugs.otrs.org/show_bug.cgi?id=846) - empty envelope from on notifications\n - 2005-08-19 fixed bug#[879](http://bugs.otrs.org/show_bug.cgi?id=879) - \"Wide character in subroutine\" - mails with\n    attachments in utf-8 mode\n - 2005-08-19 fixed bug#[871](http://bugs.otrs.org/show_bug.cgi?id=871) - Erroneous Content-Length fields are sent\n    when downloading attachments\n - 2005-08-19 fixed bug#[861](http://bugs.otrs.org/show_bug.cgi?id=861) - Problems in faq attachments and postgresql\n    backend\n - 2005-08-19 updated nb\\_NO translation again - thanks to Espen Stefansen!\n - 2005-08-18 enabled customer PGP and SMIME preferences if PGP or\n    SMIME is enabeled\n - 2005-08-18 fixed broken download of public SMIME certs\n - 2005-08-18 fixed bug#[874](http://bugs.otrs.org/show_bug.cgi?id=874) - password plaintext in UserLastPw\n - 2005-08-17 fixed bug#[872](http://bugs.otrs.org/show_bug.cgi?id=872) - CustomerCalendarSmall not working, module\n    not registered\n - 2005-08-16 fixed bug#[847](http://bugs.otrs.org/show_bug.cgi?id=847) - Broken download of public PGP keys via\n    customer preferences pannel\n - 2005-08-16 fixed bug#[862](http://bugs.otrs.org/show_bug.cgi?id=862) - wrong sum for time acounting\n - 2005-08-12 fixed bug#[870](http://bugs.otrs.org/show_bug.cgi?id=870) - wrong parameter order in\n    Kernel::System::Ticket::Article::SendCustomerNotification routine\n - 2005-08-12 removed default selections (UserSalutation) from CustomerUser\n    config\n - 2005-08-12 updated nb\\_NO translation - thanks to Espen Stefansen!\n - 2005-08-10 updated pt\\_BR translation - thanks to Glau Messina!\n - 2005-08-09 added config option for defaul sortby and order in ticket\n    search result in customer and agent interface\n - 2005-08-09 fixed bug#[822](http://bugs.otrs.org/show_bug.cgi?id=822) - Missing FAQID in TicketZoom for linked\n    FAQ article\n - 2005-08-08 fixed bug#[815](http://bugs.otrs.org/show_bug.cgi?id=815) - strange line in history\n - 2005-08-08 added add/delete option in SysConfig for NavBar\n - 2005-08-07 fixed bug#[658](http://bugs.otrs.org/show_bug.cgi?id=658) - Typo in installer.pl\n - 2005-08-06 fixed bug#[836](http://bugs.otrs.org/show_bug.cgi?id=836) - GenericAgent (GUI based) seem to ignore\n    priority - added some db quote\n - 2005-08-06 changed description text of Ticket::Frontend::PendingDiffTime\n    config setting\n - 2005-08-06 fixed not shown linked objects in faq zoom and print view\n - 2005-08-06 removed not needed Kernel/Modules/FAQState.pm and not\n    needed config setting\n - 2005-08-06 added warning message in customer panel on account create\n    if invalid email address is given\n - 2005-08-05 fixed bug#[850](http://bugs.otrs.org/show_bug.cgi?id=850) - Can't locate object method \"KeySearch\"\n    error\"\n - 2005-08-05 fixed bug#[860](http://bugs.otrs.org/show_bug.cgi?id=860) - Error in AgentTicketForward.pm, missing\n    title in the warning for the owner check\n - 2005-08-04 updated it translation - thanks to Giordano Bianchi!\n - 2005-08-04 changed default state of new faq articles to 'internal (agent)'\n - 2005-08-04 fixed bug#[877](http://bugs.otrs.org/show_bug.cgi?id=877) - Error when merging tickets - Can't call\n    method \"LockSet\" on an undefined value at Kernel/System/Ticket.pm line 3720\n - 2005-08-04 added missing merge params to Kernel/Config/Files/Ticket.xml\n\n#2.0.1 2005-08-01\n - 2005-07-31 fixed bug#[602](http://bugs.otrs.org/show_bug.cgi?id=602) - CustomerIDs and CustomerUserIDs are lowercased\n    before being assigned to a ticket\n - 2005-07-31 fixed bug#[600](http://bugs.otrs.org/show_bug.cgi?id=600) - Wide character death in IPC.pl\n - 2005-07-31 fixed bug#[593](http://bugs.otrs.org/show_bug.cgi?id=593) - Need ID or Name in log file\n - 2005-07-31 fixed missing recover of .save files on uninstall of\n    .opm packages\n - 2005-07-31 fixed DBUpdate-to-2.0.postgresql.sql - alter table\n    time\\_accounting - DECIMAL(10,2), fixed UPDATE ticket SET\n    escalation\\_start\\_time\n - 2005-07-31 fixed bug#[566](http://bugs.otrs.org/show_bug.cgi?id=566) - Wide character in print, ArticleStorageFS.pm\n - 2005-07-29 fixed required time accounting option in js of phone\n    and email ticket\n - 2005-07-29 fixed bug#[817](http://bugs.otrs.org/show_bug.cgi?id=817) - added missing freetime1, freetime2 in\n    otrs-schema.postgresql.sql and scripts/DBUpdate-to-2.0.postgresql.sql\n - 2005-07-29 added hour and minutes in time selection in ticket search\n    in admin, agent and customer interface - bug#[843](http://bugs.otrs.org/show_bug.cgi?id=817)\n - 2005-07-28 updated es tranlsation file by Jorge Becerra - Thanks!\n - 2005-07-28 updated translation files\n - 2005-07-28 fixed bug in ticket expand view\n - 2005-07-28 just framework options for web installer, removed\n    ticket options\n - 2005-07-28 moved to global GetExpiredSessionIDs() for\n    bin/DeleteSessionIDs.pl and Kernel/System/AuthSession.pm\n - 2005-07-24 added missing from realname on phone follow up in\n    Kernel::Modules::AgentTicketPhone\n - 2005-07-24 improved scripts/tools/charset-convert.pl tool with\n    get opt params and with file option\n - 2005-07-24 added block feature for system stats\n - 2005-07-24 added auto removed of expired sessions on CreateSessionID()\n - 2005-07-23 removed access of admin group to stats module (because\n    of existing own stats group)\n - 2005-07-23 improved page title with ticket number of\n    Kernel::Modules::AgentTicketPlain frontend module\n - 2005-07-23 moved ticket unlock after merge from frontend module to\n    Kernel::System::Ticket (because it's a core function)\n - 2005-07-23 disabled PGP and SMIME in default setup (because if it's\n    not configured there are many warnings in error log)\n\n#2.0.0 beta6 2005-07-19\n - 2005-07-18 added ticket search option for ticket free time\n - 2005-07-18 fixed not shown calendar lookup icons\n - 2005-07-18 added date-check (JavaScript)\n - 2005-07-18 added number-check for TimeUnits (JavaScript)\n - 2005-07-17 improved speed of xml parsing - also speed of SysConfig\n - 2005-07-16 fixed module permission check bug in agent handle\n - 2005-07-15 fixed bug#[821](http://bugs.otrs.org/show_bug.cgi?id=821) - Admin SysConfig (Values cannot be activated)\n\n#2.0.0 beta5 2005-07-14\n - 2005-07-14 removed not needed admin dtls from lite theme, because this\n    standard is used as default\n - 2005-07-14 removed not needed customer dtls from lite theme, because this\n    standard is used as default\n - 2005-07-13 web installer rewritten - moved to block feature\n - 2005-07-13 added check in bin/SetPermissions.sh if . files exists\n - 2005-07-09 splited big sub groups Frontend::Agent in smaller groups in\n    Kernel/Config/Files/Ticket.xml\n - 2005-07-08 fixed bug with double session id bug after login\n - 2005-07-08 improved notify layer with error or notice icon\n - 2005-07-08 fixed bug in Kernel/System/Group.pm GroupMemberList() if GroupID\n    is given (possible in AgentTicketOwner.pm if roles are used)\n - 2005-07-08 added postmaster follow up with X-OTRS-Header update function\n - 2005-07-08 fixed win32 binmode problem in Kernel/System/Web/UploadCache/FS.pm\n - 2005-07-08 fixed wrong named templates for customer ticket history\n    in Kernel/Modules/AgentTicketEmail.pm and Kernel/Modules/AgentTicketPhone.pm\n - 2005-07-04 improved bin/otrs.addQueue with -s \\<SYSTEMADDRESSID\\>\n    and -c \\<COMMENT\\> params.\n\n#2.0.0 beta4 2005-07-03\n - 2005-07-03 added ticket free time feature - take care, you need to\n    alter the ticket table:\n\n```mysql\n    ALTER TABLE ticket ADD freetime1 DATETIME;\n    ALTER TABLE ticket ADD freetime2 DATETIME;\n```\n\nnew config options are:\n\n```perl\n    $Self->{\"TicketFreeTimeKey1\"} = 'Termin1';\n    $Self->{\"TicketFreeTimeDiff1\"} = 0;\n    $Self->{\"TicketFreeTimeKey2\"} = 'Termin2';\n    $Self->{\"TicketFreeTimeDiff2\"} = 0;\n```\n - 2005-07-03 fixed bug#[797](http://bugs.otrs.org/show_bug.cgi?id=797) - renamed AdminEmail to Admin Notification\n    in admin interface.\n - 2005-07-03 rewritten faq customer and public area\n - 2005-07-03 fixed bug#[799](http://bugs.otrs.org/show_bug.cgi?id=799) - improved FAQ article for utf8 support\n    http://faq.otrs.org/otrs/public.pl?Action=PublicFAQ&ID=3\n - 2005-07-03 added fixed/auto update for faq articles with no number\n - 2005-07-03 fixed bug#[800](http://bugs.otrs.org/show_bug.cgi?id=800) - FAQ insert overwrites response by default\n - 2005-07-03 removed CGI cpan module from dist because of incomapt.\n   for mod\\_perl 1.99 and mod\\_perl 2.00\n - 2005-07-01 added datatype DECIMAL support for time\\_accounting table\n    (changed datatype of time\\_unit in time\\_accounting table)\n - 2005-06-29 fixed user language selection in customer panel\n - 2005-06-28 fixed default customer valid selection in admin interface\n - 2005-06-27 fixed XML::Parser::Lite backend with xml decode\n - 2005-06-27 updated to cpan CGI v3.10\n\n#2.0.0 beta3 2005-06-21\n - 2005-06-13 fixed bug#[759](http://bugs.otrs.org/show_bug.cgi?id=759) - error when changing default dictionary\n - 2005-06-13 fixed bug#[773](http://bugs.otrs.org/show_bug.cgi?id=773) - NotificationAgentOnline needs TimeObject\n - 2005-06-12 fixed bug#[776](http://bugs.otrs.org/show_bug.cgi?id=776) - when adding a new user I got error message\n - 2005-06-11 added XML::Parser support for Kernel::System::XML\n - 2005-06-07 fixed bug#[771](http://bugs.otrs.org/show_bug.cgi?id=771) - Customer Web Interface - Attachment\n    View Error' Kernel/Modules/CustomerTicketZoom.pm\n - 2005-06-06 added experimental db2 support - thanks to Friedmar Moch!\n - 2005-06-06 removed foreign key for queue\\_id in pop3\\_account, fixed\n    indexes for article\\_flag\n\n#2.0.0 beta2 2005-05-16\n - 2005-05-16 fixed bug#[644](http://bugs.otrs.org/show_bug.cgi?id=644) - GenericAgent module calls should not keep\n    the error msg secret :-), moved to Kernel::System::Main\n - 2005-05-16 fixed bug#[733](http://bugs.otrs.org/show_bug.cgi?id=733) - Postgres: TicketOverview doesn't work in April\n - 2005-05-14 fixed bug#[737](http://bugs.otrs.org/show_bug.cgi?id=737) - cannot add FAQ categories in 2.0 beta1\n - 2005-05-08 fr translation updated by Yann Richard - thanks!\n - 2005-05-08 fixed bug#[729](http://bugs.otrs.org/show_bug.cgi?id=729) - Problem removing example FAQ-entry from FAQ\n - 2005-05-08 fixed bug#[730](http://bugs.otrs.org/show_bug.cgi?id=730) - Problem with FAQ nav bar\n - 2005-05-08 fixed bug#[734](http://bugs.otrs.org/show_bug.cgi?id=734) - Timezone not reflected in DB Tables (ticket\n    create time, etc.)\n - 2005-05-07 fixed language translation files\n - 2005-05-07 fixed bug#[647](http://bugs.otrs.org/show_bug.cgi?id=647) - Allow setting of default language for FAQs\n - 2005-05-07 fixed bug#[686](http://bugs.otrs.org/show_bug.cgi?id=686) - defect attachments on download with firefox\n - 2005-05-07 added html access keys for nav bar\n```\n    general:\n    h = home\n    l = logout\n    o = overview\n    n = new\n    s = search\n    p = preferences\n    a = admin interface\n    t = ticket interface\n    f = faq interface\n    g = formular submit\n\n    ticket:\n    o = queue view\n    n = phone ticket\n    e = email ticket\n    k = locked ticket list\n    m = new messages in locked ticket list\n```\n - 2005-05-07 fixed bug#[719](http://bugs.otrs.org/show_bug.cgi?id=719) - Timezone setting (US EDT -4) causes\n    \"Session Timeout\"\n - 2005-05-04 removed html wrap from ticket text areas\n - 2005-05-04 added ticket event module layer\n - 2006-05-04 fixed priority default selection in priority screen\n\n#2.0.0 beta1 2005-05-02\n - 2005-04-30 fixxed bug#[712](http://bugs.otrs.org/show_bug.cgi?id=712) - Reports ignore setting for http-type\n - 2005-04-22 added ticket merge feature\n - 2005-04-14 fixed From in article of AgentTicketPending and\n    AgentTicketMove frontend module\n - 2005-04-10 added check to ticket core function Move(), send no\n    ticket move info for closed tickets\n - 2005-04-08 updated CGI module to 3.07\n - 2005-02-17 Kernel/Config/Modules\\*.pm not longer needed, moved\n    to config filer\n - 2005-02-17 renamed \\_all\\_ ticket frontend modules and templates\n    to AgentTicket\\* (cleanup)\n - 2005-02-15 renamed \\_all\\_ ticket config options! and moved to\n    own config files:\n      - Kernel/Config/Files/Ticket.pm\n      - Kernel/Config/Files/TicketPostMaster.pm\n    --\\>\\> old ticket config setting will not longer work \\<\\<--\n - 2005-02-11 imporved agent ticket search with created options\n    (berated by user, created in queue)\n - 2004-12-04 moved PGP and SMIME stuff to Kernel/System/Email.pm\n    to be more generic\n - 2004-11-27 added config option TicketHookDivider\n    [Kernel/Config.pm]\n\n```perl\n    # (the divider between TicketHook# and number)\n    $Self->{TicketHookDivider} = ': ';\n#    $Self->{TicketHookDivider} = '';\n```\n - 2004-11-24 renamed from bin/SendStats.pl to bin/mkStats.pl and added\n    fs output e. g.\n\n```bash\n    shell\\> bin/mkStats.pl -m NewTickets -p 'Month=1&Year=2003' -r me@host.com -b text\n    NOTICE: Email sent to 'me@host.com'\n    shell\\> bin/mkStats.pl -m NewTickets -p 'Month=1&Year=2003'  -o /data/dir\n    NOTICE: Writing file /data/dir/NewTickets_2004-11-24_14-38.csv\n    shell\\>\n```\n - 2004-11-24 added postmaster filter to\n - 2004-11-16 a xml 2 sql processor which is using Kernel/System/DB.pm\n    and Kernel/System/DB/\\*.pm' bin/xml2sql.pl to generate database based\n    sql syntax\n - 2004-11-16 moved database settings from Kernel/System/DB.pm to\n    Kernel/System/DB/\\*.pm (mysql|postgresql|maxdb|oracle|db2)\n - 2004-11-16 added fast cgi (fcgi) handle to (bin/fcgi-bin/\\*.pl)\n - 2004-11-16 splited cgi-handle to handle (bin/cgi-bin/\\*.pl) and\n    modules (Kernel/System/Web/Interface\\*.pm)\n - 2004-11-16 renamed Kernel/System/WebUploadCache.pm to\n    Kernel/System/Web/UploadCache.pm\n - 2004-11-16 renamed Kernel/System/WebRequest.pm to\n    Kernel/System/Web/Request.pm\n - 2004-11-07 added LOWER() in sql like queries to search, now searches\n    are case insensitive in postgresql and maxdb\n - 2004-11-04 added new feature so show ticket history reverse\n    [Kernel/Config.pm]\n\n```perl\n    # Agent::HistoryOrder\n    # (show history order reverse) [normal|reverse]\n    $Self->{'Agent::HistoryOrder'} = 'normal';\n#    $Self->{'Agent::HistoryOrder'} = 'reverse';\n```\n - 2004-11-04 added \"show no escalation\" group feature\n    [Kernel/Config.pm]\n\n```perl\n    # AgentNoEscalationGroup\n    # (don't show escalated tickets in frontend for agents who are writable\n    # in this group)\n    $Self->{AgentNoEscalationGroup} = 'some_group';\n```\n - 2004-11-04 renamed session to sessions table (oracle compat.)\n - 2004-11-04 updated to CGI 3.05\n - 2004-11-04 switched to session db module as default because\n   of compat. of operating systems\n - 2004-11-04 added new dtl tag $LQData{} to quote html links\n - 2004-11-02 added ticket free text feature to agent compose\n - 2004-11-02 added ticket free text feature to agent close\n - 2004-11-01 added auto generated table-sql scripts for mysql, postgresql,\n    sapdb and oracle based on scripts/database/otrs-schema.xml\n - 2004-10-31 added database foreign-keys\n - 2004-10-08 fixed 544 - Email address check with query timeout causes\n     Premature end of script headers\n - 2004-10-06 reworked all agent and customer notifications in database\n    (use scripts/DBUpdate-to-2.0.\\*.sql)\n - 2004-10-06 added new config options for email address check\n```perl\n    # CheckEmailValidAddress\n    # (regexp of valid email addresses)\n    $Self->{CheckEmailValidAddress} = '^(root@localhost|admin@localhost)$';\n\n    # CheckEmailInvalidAddress\n    # (regexp of invalid email addresses)\n    $Self->{CheckEmailInvalidAddress} = '@(anywhere|demo|example|foo)\\.(..|...)$';\n```\n - 2004-10-01 added global working time configuration for escalation\n    and unlock calculation:\n    [Kernel/Config.pm]\n```perl\n    # TimeWorkingHours\n    # (counted hours for working time used)\n    $Self->{TimeWorkingHours} = {\n        Mon => [ 8,9,10,11,12,13,14,15,16,17,18,19,20 ],\n        Tue => [ 8,9,10,11,12,13,14,15,16,17,18,19,20 ],\n        Wed => [ 8,9,10,11,12,13,14,15,16,17,18,19,20 ],\n        Thu => [ 8,9,10,11,12,13,14,15,16,17,18,19,20 ],\n        Fri => [ 8,9,10,11,12,13,14,15,16,17,18,19,20 ],\n        Sat => [  ],\n        Sun => [  ],\n    };\n    # TimeVacationDays\n    # adde new days with:\n    # \"$Self->{TimeVacationDays}->{10}->{27} = 'Some Info';\"\n    $Self->{TimeVacationDays} = {\n        1 => {\n            01 => 'New Year's Eve!',\n        },\n        5 => {\n            1 => '1 St. May',\n        },\n        12 => {\n            24 => 'Christmas',\n            25 => 'First Christmas Day',\n            26 => 'Second Christmas Day',\n            31 => 'Silvester',\n        },\n    };\n    # TimeVacationDaysOneTime\n    # adde new own days with:\n    # \"$Self->{TimeVacationDaysOneTime}->{1977}-{10}->{27} = 'Some Info';\"\n    $Self->{TimeVacationDaysOneTime} = {\n        2004 => {\n          6 => {\n              07 => 'Some Day',\n          },\n          12 => {\n              24 => 'Some A Day',\n              31 => 'Some B Day',\n          },\n        },\n    };\n```\n - 2004-10-01 improved ticket escalation, added new ticket table col.\n    use scripts/DBUpdate-to-2.0.\\*.sql\n - 2004-09-29 fixed bug#[310](http://bugs.otrs.org/show_bug.cgi?id=310) - System-ID \"09\" is not working\n - 2004-09-27 replaced dtl env LastScreenQueue with LastScreenOverview\n    and LastScreen with LastScreenView.\n - 2004-09-16 added frontend module registry, so no frontend module\n    will be longer accessable till the module is registry. For example\n    a registered frontend module with navigation icon in Agent nav bar\n    (navigation bar will be build automatically, based on permissions):\n    [Kernel/Config.pm]\n```perl\n    $Self->{'Frontend::Module'}->{'AgentPhone'} = {\n        Group => ['users', 'admin'],\n        Description => 'Create new Phone Ticket',\n        NavBar => [{\n            Description => 'Create new Phone Ticket',\n            Name => 'Phone-Ticket',\n            Image => 'new.png',\n            Link => 'Action=AgentPhone',\n            NavBar => 'Agent',\n            Prio => 20,\n         },\n       ],\n    };\n```\n - 2004-09-16 added Kernel::System::PID to start bin/PostMaster.pl just\n    once (new table, process\\_id is needed)\n - 2004-09-15 added date check on set pending time, don't set pending\n    time to past!\n - 2004-09-11 added support of object link\n - 2004-09-10 changed the agent notification to all subscriped agents\n    if there is an follow up from the customer and the ticket is unlocked.\n    This is different to OTRS \\<= 1.3. So if you don't want this, you can\n    use the following config option to disable this (link in OTRS 1.3)\n    [Kernel/Config.pm]\n\n```perl\n     $Self->{PostmasterFollowUpOnUnlockAgentNotifyOnlyToOwner} = 1;\n```\n - 2004-09-10 added Kernel::System::SearchProfile to manage object\n    search profiles\n - 2004-09-09 added role/profile feature\n - 2004-09-09 added ticket title support\n\n#1.3.3 2005-10-20\n - 2005-10-20 moved to default download type as attachment (not inline)\n    for a better security default setting\n - 2005-10-17 added security bugfix for missing SQL quote\n - 2005-07-08 fixed win32 binmode problem in Kernel/System/WebUploadCache.pm\n - 2005-07-01 fixed missing date in TicketForward.dtl\n - 2005-07-01 fixed bug#[808](http://bugs.otrs.org/show_bug.cgi?id=808) - Stats: StopMonth in Ticket.pm\n - 2005-07-01 fixed bug#[810](http://bugs.otrs.org/show_bug.cgi?id=810) - single quote in comment field generates errors\n - 2005-02-15 updated to cpan MIME::Tools 5.417\n - 2005-02-10 fixed generic agent - was not able to set new owner\n - 2005-01-19 fixed bug#[666](http://bugs.otrs.org/show_bug.cgi?id=666) - INSERTs into 'ticket\\_history' fail sometimes\n - 2005-01-07 fixed bug#[659](http://bugs.otrs.org/show_bug.cgi?id=659) - Escalation Notification Sent to Wrong Users\n - 2004-11-26 fixed remove of ticket link if just one exists\n - 2004-11-24 fixed new owner list in Kernel/Modules/AgentMove.pm\n    (show just user with rw permission to selected queue)\n - 2004-11-07 fixed utf8-problem with postgres and non utf-8 emails in\n    article\\_plain\n - 2004-11-05 updated Kernel/Language/hu.pm Thanks to Czak\u00ef\u00bf\u00bd Kriszti\u00ef\u00bf\u00bdn!\n - 2004-11-04 fixed loop if now theme directory is found\n - 2004-11-04 fixed upper queue rename with () or + chars\n - 2004-11-04 fixed bug#[604](http://bugs.otrs.org/show_bug.cgi?id=604) - Typo in AgentStatusView.pm\n - 2004-10-29 spell check rewritten\n - 2004-10-26 added unlock option to bulk feature\n - 2004-10-18 fixed bug#[551](http://bugs.otrs.org/show_bug.cgi?id=551) - FAQ on Email new only takes over the\n    subject and not the text\n\n#1.3.2 2004-10-15\n - 2004-10-14 fixed bug#[570](http://bugs.otrs.org/show_bug.cgi?id=570) - Stat generation script fails under postgres\n - 2004-10-14 fixed bug#[573](http://bugs.otrs.org/show_bug.cgi?id=573) - Clicked link to check ticket status and here's\n    what I got\n - 2004-10-12 replaced COUNTER with DATA in Kernel/System/Ticket/Number/\\*.pm\n    (because of win32 systems and use strict mode)\n - 2004-10-12 fixed agent can be customer modus\n - 2004-10-10 fixed wrong lable attachments in db backend\n - 2004-10-07 fixed bug#[562](http://bugs.otrs.org/show_bug.cgi?id=562) Content-Transfer-Encoding: 7bit and german umlaut\n - 2004-10-07 fixed bug#[565](http://bugs.otrs.org/show_bug.cgi?id=565) HighlightColor\\* in AgentMailbox\n - 2004-10-06 fixed link quote of https links\n - 2004-10-06 added application log error message if bin/PostMaster.pl fails\n - 2004-10-01 fixed bug#[547](http://bugs.otrs.org/show_bug.cgi?id=547) - uninitialized value in string eq at\n    Kernel/System/Ticket/Article.pm line 1387\n - 2004-09-29 fixed english \"New ticket notification!\", replaced\n    OTRS\\_CURRENT\\_USERFIRSTNAME with OTRS\\_USERFIRSTNAME\n - 2004-09-29 removed not existing jp language translation\n - 2004-09-29 fixed bug#[554](http://bugs.otrs.org/show_bug.cgi?id=554) - \"Thursday\" twice in AdminGenericAgent.pm\n - 2004-09-27 fixed bug#[548](http://bugs.otrs.org/show_bug.cgi?id=548) - german spelling mistakes in agent\n    notifications\n - 2004-09-23 fixed ticket free text selection in Kernel/Modules/CustomerMessag.pm\n - 2004-09-23 fixed not sended agent notification after created Email-Ticket\n - 2004-09-23 fixed ticket zoom in customer panel if no customer article\n   exists\n\n#1.3.1 2004-09-20\n - 2004-09-16 fixed bug#[513](http://bugs.otrs.org/show_bug.cgi?id=513) - distinct customers must have distinct email\n - 2004-09-16 fixed bug#[519](http://bugs.otrs.org/show_bug.cgi?id=519) - PostMaster.pl bounces mail if database\n    is down\n - 2004-09-16 fixed bug#[521](http://bugs.otrs.org/show_bug.cgi?id=521) - buggy utf8 content transfer encoding\n - 2004-09-11 fixed bug if somebody clicks on customer management\n - 2004-09-09 added address book and spell checker to agent forward\n - 2004-09-08 updated spanish translation - Thanks to Jorge Becerra!\n - 2004-09-08 fixed bug#[500](http://bugs.otrs.org/show_bug.cgi?id=500) - js error\n\n#1.3.0 beta4 2004-09-08\n - 2004-09-08 fixed bug#[514](http://bugs.otrs.org/show_bug.cgi?id=514) - Use of uninitialized value in addition (+) at\n    bin/DeleteSessionIDs.pl line 93.\n - 2004-09-08 fixed bug#[517](http://bugs.otrs.org/show_bug.cgi?id=517) - fixed bug 517 - DBUpdate-to-1.3 scripts\n    don't correctly rename system\\_queue\\_id\n - 2004-09-08 fixed bug#[516](http://bugs.otrs.org/show_bug.cgi?id=516) - initial\\_insert.sql violates ticket\\_history\n    \"NOT NULL\" contraints\n - 2004-09-05 fixed bug#[380](http://bugs.otrs.org/show_bug.cgi?id=380) - Does not allow change of customer login\n - 2004-09-04 fixed bug#[502](http://bugs.otrs.org/show_bug.cgi?id=502) - Email bouncing does not work\n - 2004-09-04 fixed bug#[503](http://bugs.otrs.org/show_bug.cgi?id=503) - Move Ticket into queue not possible\n - 2004-09-04 fixed bug#[504](http://bugs.otrs.org/show_bug.cgi?id=504) - $Text{\"0\"} in DTLs does not produce any output\n - 2004-09-04 added delete option for pop3 accounts in admin interface\n - 2004-09-04 improved generic agent web interface\n - 2004-08-30 fixed '' selection on ticket free text search\n - 2004-08-30 support of sub dtl blocks\n - 2004-08-28 fixed call customer via phone (set state was ignored)\n - 2004-08-26 fixed multi customer id support and added docu\n\n#1.3.0 beta3 2004-08-25\n - 2004-08-25 fixed german translation (replaced wrong words)\n - 2004-08-24 fixed time schedule for generic agent\n\n#1.3.0 beta2 2004-08-24\n - 2004-08-24 fixed ticket\\_history table update script\n\n#1.3.0 beta1 2004-08-18\n - 2004-08-11 added feature to send fulltext reqests to a\n    mirror database\n    [Kernel/Config.pm]\n\n```perl\n    # AgentUtil::DB::*\n    # (if you want to use a mirror database for agent ticket fulltext search)\n    $Self->{'AgentUtil::DB::DSN'} = \"DBI:mysql:database=mirrordb;host=mirrordbhost\";\n    $Self->{'AgentUtil::DB::User'} = \"some_user\";\n    $Self->{'AgentUtil::DB::Password'} = \"some_password\";\n```\n - 2004-08-10 added Radius auth modules for agent and customer\n    interface\n - 2004-08-10 improved Kernel::System::CustomerAuth::DB to use\n    an external database\n - 2004-08-10 added email 1:1 download option in AgentPlain\n - 2004-08-08 added owner\\_id, priority\\_id and state\\_id to\n    ticket\\_history table.\n - 2004-08-04 moved customer notifications from Kernel/Config.pm to\n    database and added multi language support\n - 2004-08-02 fixed bug#[466](http://bugs.otrs.org/show_bug.cgi?id=466) - Error in managing very long Message-IDs\n - 2004-08-01 improved Kernel::System::Log::SysLog with log charset\n    config option in case syslog can't work with utf-8\n - 2004-08-01 improved Kernel::System::Email backends\n - 2004-08-01 fixed bug#[429](http://bugs.otrs.org/show_bug.cgi?id=429) - Attachment file names with spaces do\n    not save properly\n - 2004-08-01 fixed bug#[450](http://bugs.otrs.org/show_bug.cgi?id=450) - Spelling mistake in default FAQ entry\n - 2004-08-01 fixed bug#[460](http://bugs.otrs.org/show_bug.cgi?id=460) - Patch to add params hash to LDAP bind\n    in Kernel/System/User.pm.\n - 2004-07-30 added references, in-reply-to follow up check\n    [Kernel/Config.pm]\n\n```perl\n    # PostmasterFollowUpSearchInReferences\n    # (If no ticket number in subject, otrs also looks in In-Reply-To\n    # and References for follow up checks)\n    $Self->{PostmasterFollowUpSearchInReferences} = 0;\n```\n - 2004-07-17 fixed generic agent Schedule web interface\n - 2004-07-16 added multi attachment support for attachments\n - 2004-06-28 improved Kernel/Modules/AdminSelectBox.pm module\n - 2004-06-27 added Block() feature to dtl files (removed a lot\n    of no longer needed templates)\n - 2004-06-27 improved web handle (bin/cgi-bin/index.pl and\n    bin/cgi-bin/customer.pl) to show module syntax errors.\n - 2004-06-22 improved postmaster filter to use matched value as [\\*\\*\\*]\n    in \"Set =\\>\" option.\n - 2004-06-22 added support for crypted database passwords (use\n    bin/CryptPassword.pl to crypt passwords).\n - 2004-06-10 added generic agent web interface\n - 2004-06-03 improved language translation with custom translation\n    files:\n    Kernel/Language/$Locale.pm (default)\n    Kernel/Language/$Locale\\_$Action.pm (translation for otrs modules like\n     file manager, calendar, ...)\n    Kernel/Language/$Locale\\_Custom.pm (own changes,updates)\n - 2004-05-18 added html application output filter option, e. g. to\n    filter java script of the application or to manipulate the html\n    output of the application.\n    (see also Kernel/Config/Defaults.pm -\\> Frontend::Output::PostFilter)\n - 2004-05-04 added ticket history log on ticket link update and\n    notification info if link ticket number doesn't exists.\n - 2004-05-03 added PreApplicationModule examples to Kernel/Config.pm\n - 2004-04-30 added multi customer id support to Kernel/System/CustomerUser.pm,\n    Kernel/System/CustomerUser/DB.pm and Kernel/System/CustomerUser/LDAP.pm.\n    So one customer can have more than one customer id.\n - 2004-04-22 added notification module for customer panel\n    (customer.pl) like for existing agent (index.pl)\n - 2004-04-20 added PreApplicationModule (index.pl) and\n    CustomerPanelPreApplicationModule (customer.pl) This interface\n    use useful to check some user options or to redirect not accept\n    new application news.\n - 2004-04-19 added MaxSessionIdleTime for session managment\n    to check/delete idle sessions\n - 2004-04-15 added file size info to article attachments\n    (DBUpdate-to-1.3.\\*.sql is required!).\n - 2004-04-14 ticket history rewritten and added i18n feature\n - 2004-04-14 reworked/renamed Kernel::System::Ticket::Article\n    and sub module functions and added added pod docu, see\n    http://dev.otrs.org/\n    Note: Kernel::System::Ticket are not longer compat. to OTRS 1.2\n     or lower!\n - 2004-04-07 added config option SessionUseCookieAfterBrowserClose\n    for session config stuff to keep cookies in browser (after closing\n    the browser) till expiration of session (default is 0).\n - 2004-04-06 added missing priority options in TicketSeatch()\n    of Kernel::System::Ticket.\n - 2004-04-05 reworked/renamed Kernel::System::Ticket functions and\n    added added pod docu, see http://dev.otrs.org/\n - 2004-04-04 added auto convert of html only emails to text/plain,\n    text/html will be attached as attachment (Kernel/System/EmailParser.pm)\n - 2004-04-01 fixed some html quote bugs\n - 2004-03-30 added ability to reverse the Queue sorting (added\n    AgentQueueSort setting)\n - 2004-03-12 added customer panel MyTickets and CompanyTickets\n    feature.\n - 2004-03-11 added mulit serach options to customer serach e. g.\n    \"name+phone\" in customer search\n - 2004-03-11 added customer search prefix (default '') and suffix\n    (default '\\*') to CustomerUser as config options.\n - 2004-03-11 added \\<OTRS\\_CUSTOMER\\_\\*\\> tags for salutatuion, signateure\n    and std. responses\n - 2004-03-08 added TimeZone feature - e. g. config option\n    \"$Self-\\>{TimeZone} = +5;\" in Kernel/Config.pm\n - 2004-03-05 added Include function to dtl tags - Thanks to Bozhin Zafirov!\n    - moved to central css dtl file (Kernel/Output/HTML/\\*/css.dtl and\n      Kernel/Output/HTML/\\*/customer-css.dtl)\n - 2004-02-29 improved database handling of large objects (use DBI\n    bind values now / saves memory)\n - 2004-02-27 replaced \"CustomQueue\" with \"My Queues\" in agent frontend\n - 2004-02-27 fixed possible owner selection in AgentPhone/AgentEmail\n - 2004-02-23 improved FreeText feature look if just one key is\n    defined.\n - 2004-02-23 improved otrs LDAP modules with AlwaysFilter and\n    Charset options (see online documentation)\n - 2004-02-23 updated to CGI 3.04\n\n#1.2.4 2004-07-07\n - 2004-06-29 fixed bug#[456](http://bugs.otrs.org/show_bug.cgi?id=456) not existing queue\\_auto\\_response\n    references in scripts/database/initial\\_insert.sql\n - 2004-06-11 added Hungarian translation. Thanks to G\u00ef\u00bf\u00bdncs G\u00ef\u00bf\u00bdbor!\n - 2004-04-10 fixed not shown \"this message is written in an\n    other charset as your own\" link in agent zoom\n - 2004-04-08 fixed performance problem in Kernel::Language\n    module (get ~5% more performance of the webinterface)\n - 2004-04-06 added missing priority options in SearchTicket()\n    of Kernel::System::Ticket.\n\n#1.2.3 2004-04-02\n - 2004-03-29 fixed some html quote bugs\n - 2004-03-28 fixed bug#[365](http://bugs.otrs.org/show_bug.cgi?id=365) - null attachment kills pop import script\n - 2005-03-25 updated pl language translation, Thanks to Tomasz Melissa!\n - 2004-03-25 fixed quote bug in AgentPhoneView, AgentEmail and\n    AgentCompose.\n - 2004-03-08 fixed bug#[341](http://bugs.otrs.org/show_bug.cgi?id=341) Wrong results searching for time ranges\n    http://bugs.otrs.org/show_bug.cgi?id=341\n - 2004-02-29 fixed language quoting in customer login screen\n - 2004-02-27 fixed missing \"internal (agent)\" agent search faq\n - 2004-02-27 fixed possible owner selection in AgentPhone/AgentEmaill\n\n#1.2.2 2004-02-23\n - 2004-02-17 changed screen after moved ticket (like OTRS 1.1)\n - 2004-02-17 added null option to search options\n    http://bugs.otrs.org/show_bug.cgi?id=321\n - 2004-02-17 fixed double quote bug in GetIdOfArticle()/CreateArticle()\n    http://bugs.otrs.org/show_bug.cgi?id=319\n - 2004-02-17 fixed bug#[317](http://bugs.otrs.org/show_bug.cgi?id=317) - Return Path set to invalid email\n    http://bugs.otrs.org/show_bug.cgi?id=317\n\n#1.2.1 2004-02-14\n - 2004-02-14 fixed escalation bug#[290](http://bugs.otrs.org/show_bug.cgi?id=290) -\n    http://bugs.otrs.org/show_bug.cgi?id=290\n - 2004-02-14 updated spanish translation. Thanks to Jorge Becerra!\n - 2004-02-14 updated czech translation. Thanks to Petr Ocasek\n    (BENETA.cz, s.r.o.)!\n - 2004-02-14 added Norwegian language translation (bokm\u00ef\u00bf\u00bdl)\n    Thanks to Arne Georg Gleditsch!\n - 2004-02-12 fixed security bugs ins SQL quote()\n - 2004-02-12 fixed bin/PendingJobs.pl bug (Need User)\n - 2004-02-10 fixed CustomerUserAdd, added Source default map if\n    no Source name is given\n - 2004-02-10 fixed missing translation in agent and customer\n    preferences option selections.\n\n#1.2.0 beta3 2004-02-09\n - 2004-02-09 fixed bug#[249](http://bugs.otrs.org/show_bug.cgi?id=249) Editing system email addresses with\n    quotations in name field - http://bugs.otrs.org/show_bug.cgi?id=249\n - 2004-02-09 added contact customer (create ticket) feature\n - 2004-02-08 added multi customer map/source support\n - 2004-02-08 added GenericAgent module support\n - 2004-02-05 fixed bug in X-OTRS-Queue option if bin/PostMasterPOP3.pl\n    is used.\n - 2004-02-04 fixed bug in customer interface (empty To selection)\n - 2004-02-03 fixed typo in template (wrong $Data{} for Field6)\n    Kernel/Output/HTML/Standard/FAQArticleForm.dtl\n\n#1.2.0 beta2 2004-02-02\n - 2004-02-02 replaced column \"comment\" to \"comments\" of each table to\n    be oracle compat.\n - 2004-02-02 added ticket link feature\n - 2004-02-01 fixed uncounted unlocktime calcualtion in bin/UnlockTickets.pl\n - 2004-01-27 added Bcc field for agent address book and agent compose\n - 2004-01-24 fixed bug#[280](http://bugs.otrs.org/show_bug.cgi?id=280) - group\\_customer\\_user table\n    (http://bugs.otrs.org/show_bug.cgi?id=280)\n - 2004-01-23 fixed bug#[219](http://bugs.otrs.org/show_bug.cgi?id=219) - GenericAgent and adding notes\n    (http://bugs.otrs.org/show_bug.cgi?id=219)\n - 2004-01-23 fixed bug#[215](http://bugs.otrs.org/show_bug.cgi?id=215) - Bug in search URL - wrong link to next page\n    (http://bugs.otrs.org/show_bug.cgi?id=215)\n - 2004-01-23 fixed bug#[213](http://bugs.otrs.org/show_bug.cgi?id=213) - Does not update replies with the correct name\n    (http://bugs.otrs.org/show_bug.cgi?id=213)\n - 2004-01-23 fixed bug#[192](http://bugs.otrs.org/show_bug.cgi?id=192) - rename queue with Sub-queue\n    (http://bugs.otrs.org/show_bug.cgi?id=192)\n - 2004-01-23 fixed customer-user \\<-\\> group problem added the following\n    to Kernel/Config.pm\n\n```perl\n    # CustomerGroupSupport (0 = compat. to OTRS 1.1 or lower)\n    # (if this is 1, the you need to set the group \\<-\\> customer user\n    # relations! http://host/otrs/index.pl?Action=AdminCustomerUserGroup\n    # otherway, each user is ro/rw in each group!)\n    $Self->{CustomerGroupSupport} = 0;\n\n    # CustomerGroupAlwaysGroups\n    # (if CustomerGroupSupport is true and you don't want to manage\n    # each customer user for this groups, then put the groups\n    # for all customer user in there)\n    $Self->{CustomerGroupAlwaysGroups} = ['users', 'info'];\n```\n - 2004-01-23 changed Kernel::System::Ticket-\\>SearchTicket() to\n    return false if on param (e. g. Queue or State) doesn't exist\n    (problem was, that if a queue name dosn't exist, then the\n    GenericAgent gets tickets from all queues!).\n\n#1.2.0 beta1 2004-01-22\n - 2004-01-22 internationalization of agent notification messages\n    configurable over admin interface (attention, agent notificatins\n    are not be longer stored as article, now just a history entry will\n    be created, old articles will be removed/delete by update script!)\n - 2004-01-19 improve ticket search with date/time options\n - 2004-01-14 added X-OTRS-SenderType and X-OTRS-ArticleType to\n    possible email headers (see doc/X-OTRS-Headers.txt).\n - 2004-01-14 Updated Mail::Tools from 1.51 to 1.60.\n - 2004-01-12 added config option to send no pending notification in\n    defined hours (SendNoPendingNotificationTime).\n - 2004-01-10 improved TicketStorageModule, now it's possible to\n    switch from one to the other backend on the fly.\n - 2004-01-09 improved GenericAgent.pl to work also with more ticket\n    properties see also for all options:\n    http://doc.otrs.org/cvs/en/html/generic-agent-example.html\n - 2004-01-09 removed charset selection from perferences (agent and\n    customer interface). Take the charset form translation file.\n - 2004-01-09 added utf-8 support for mail frontend (min. Perl 5.8.0\n    required)\n - 2004-01-08 added address book feature on compose answer\n    screen.\n - 2004-01-07 added OTRS\\_CUSTOMER\\_DATA\\_\\* tags for info of\n    existing customer in CustomerMap in Kernel/Config.pm in\n    Agent notification config options.\n - 2003-12-23 added lock/unlock option to phone view / create\n    ticket.\n - 2003-12-15 changed recipients of customer notifications\n    (change queue, update owner, update state, ...) to current\n    customer user, based on customer user source.\n - 2003-12-15 added customer user cc by creating a new ticket\n    with different sender email addresses.\n - 2003-12-11 added more ticket free text options for tickets\n    now we have 8 (not only 2) - improved also GenericAgent and\n    Web-Frontend!\n - 2003-12-07 added SUSE 9.0 support and added RPM spec file\n    for SUSE 9.0.\n - 2003-12-07 moved Kernel/Output/HTML/Agent|Admin|Customer.pm\n    stuff to Kernel/Modules/\\*.pm modules.\n - 2003-12-07 removed config option CustomerViewableTickets and\n    added customer preferences option (15|20|25|30).\n - 2003-12-07 removed config option ViewableTickets and added\n    agent preferences option (5|10|15|20|25).\n - 2003-12-03 added QueueListType config option [tree|list] to\n    show the QueueSelection in a tree (default) or just in a list\n\n```\n Example:  Tree:        List:\n              QueueA       QueueA\n                Queue1     QueueA::Queue1\n                Queue2     QueueA::Queue2\n                Queue3     QueueA::Queue3\n              QueueB       QueueB\n                Queue1     QueueB::Queue1\n                Queue2     QueueB::Queue2\n```\n - 2003-12-02 added remove of session cookie after closing the\n    browser in agent interface\n - 2003-11-27 added modules for agent notifications\n    Kernel/Output/HTML/NotificationCharsetCheck.pm\n    Kernel/Output/HTML/NotificationUIDCheck.pm\n    are default modules to configure over Kernel/Config.pm\n\n```perl\n    $Self->{'Frontend::NotifyModule'}->{'1-CharsetCheck'} = {\n        Module => 'Kernel::Output::HTML::NotificationCharsetCheck',\n    };\n    $Self->{'Frontend::NotifyModule'}->{'2-UID-Check'} = {\n        Module => 'Kernel::Output::HTML::NotificationUIDCheck',\n    };\n```\nSo it's also possible to create your own agent notifications\n    like motd or escalation infos.\n - 2003-11-26 added group \\<-\\> customer user support - so it's\n    possible that you can define the customer queues for new tickets\n - 2003-11-26 added modules for ticket permission checks\n    Kernel/System/Ticket/Permission/OwnerCheck.pm\n    Kernel/System/Ticket/Permission/GroupCheck.pm\n    Kernel/System/Ticket/CustomerPermission/CustomerIDCheck.pm\n    Kernel/System/Ticket/CustomerPermission/GroupCheck.pm\n    So it's possible to write own perission check modules!\n    Example: Don't allow agents to change the priority if the state\n    of the ticket is 'open' and in a specific queue.\n    Example of Kernel/Config.pm:\n\n```perl\n    # Module Name: 1-OwnerCheck\n    # (if the current owner is already the user, grant access)\n    $Self->{'Ticket::Permission'}->{'1-OwnerCheck'} = {\n        Module => 'Kernel::System::Ticket::Permission::OwnerCheck',\n        Required => 0,\n    };\n    # Module Name: 2-GroupCheck\n    # (if the user is in this group with type ro|rw|..., grant access)\n    $Self->{'Ticket::Permission'}->{'2-GroupCheck'} = {\n        Module => 'Kernel::System::Ticket::Permission::GroupCheck',\n        Required => 0,\n    };\n```\n - 2003-11-19 improved group sub system, added create, move\\_into, owner\n    and priority permissions to groups (DBUpdate-to-1.2.\\*.sql is required!).\n - 2003-11-05 added agent preferences option \"Screen after new phone\n    ticket\". So you can select the next screen after creating a new\n    phone ticket.\n - 2003-11-02 improved GenericAgent.pl to work also with ticket\n    priorities (search and change).\n    Example for Kernel/Config/GenericAgent.pm:\n\n```perl\n    # ---\n    # [name of job] -\\> move all tickets from abc to experts and change priority\n    # ---\n    'move all abc priority \"3 normal\" tickets to experts and change priority'=\\> {\n      # get all tickets with these properties\n      Queue => 'abc',\n      Priorities => ['3 normal'],\n      # new ticket properties\n      New => {\n        Queue => 'experts',\n        Priority => '4 high',\n      },\n    },\n```\n - 2003-11-02 added delete option to Admin-\\>StdAttachment menu\n - 2003-11-01 added PostMaster(POP3).pl filter options like procmail.\n    Example for Kernel/Config.pm:\n\n```perl\n    # Job Name: 1-Match\n    # (block/ignore all spam email with From: noreply@)\n    $Self->{'PostMaster::PreFilterModule'}->{'1-Match'} = {\n        Module => 'Kernel::System::PostMaster::Filter::Match',\n        Match => {\n            From => 'noreply@',\n        },\n        Set => {\n            'X-OTRS-Ignore' => 'yes',\n        },\n    };\n```\nAvailable modules are Kernel::System::PostMaster::Filter::Match\n    and Kernel::System::PostMaster::Filter::CMD. See more to use it\n    on http://doc.otrs.org/.\n - 2003-10-29 added bin/CleanUp.pl to clean up of all tmp data\n    like ipc, database or fs session and log stuff (added CleanUp()\n    to Kernel::System::AuthSession::\\* and Kernel::System::Log).\n - 2003-10-27 added \"-c Kernel::Config::GenericAgentJobModule\"\n    option to GenericAgent.pl to use it with more than one\n    (Kernel::Config::GenericAgent) job file. For example you will be\n    able to have Kernel::Config::Delete and Kernel::Config::Move or\n    other job files to execute it on different times.\n - 2003-10-14 changed phone default settings:\n    * new tickets are unlocked (not locked)\n    * subject and body is empty as default\n - 2003-09-28 improved next screen management after closing tickts\n - 2003-09-28 added \\<OTRS\\_TICKET\\_STATE\\> to agent compose answer screen\n    as variable for new ticket state in composed message.\n - 2003-08-28 improved GenericAgent to use From, To, Cc, Subject and\n    Body for ticket selection - example:\n\n```perl\n   'delete all tickets with subject \"VIRUS 32\" in queue abc' => {\n      # get all tickets with this properties\n      Queue => 'abc',\n      Subject => '%VIRUS%',\n      # new ticket properties\n      New => {\n        # DELETE!\n        Delete => 1,\n      },\n   },\n```\n - 2003-07-31 added \"Show closed Ticket/Don't show closed Ticket\" link\n    to customer panel show my tickets overview\n - 2003-07-14 added last owner selection to Kernel/Modules/AgentOwner.pm\n - 2003-07-13 add \"single sign on\" (pre-authentication) option for\n    http-basic-auth (Kernel::System::Auth::HTTPBasicAuth and\n    Kernel::System::CustomerAuth::HTTPBasicAuth). Thanks to Phil Davis!\n - 2003-07-12 fixed bug#[155](http://bugs.otrs.org/show_bug.cgi?id=155) - in multiple page ticket view, start value\n    might be too high\n - 2003-07-12 improved ticket search, added also search profile option\n - 2003-07-05 improved module permission options, now it's possible\n    to add more the one group\n - 2003-06-26 improved ticket search and added new search preferences\n    table (db update with scripts/DBUpdate-to-1.2.(mysql|postgres).sql)\n    required!\n - 2003-05-29 added utf-8 support for webfrontends (min. Perl 5.8.0\n    required)\n - 2003-05-20 added array for source queue selection to bin/GenericAgent.pl\n    for example, use this job for more queues:\n\n```perl\n    'move tickets from tricky to experts' => {\n      # get all tickets with this properties\n      Queue => ['tricky', 'tricky1'],\n      States => ['new', 'open'],\n      Locks => ['unlock'],\n```\n - 2003-05-13 removed UNIQUE (not needed!) in pop3\\_account table\n\n#1.1.4 (2003/??/??)\n - 2003-10-27 fixed (removed) not needed database connects in\n    PostMaster(POP3).pl stuff (now just 1 database connect, not 3\n    connects)! Thanks to Jens Wilke!\n - 2003-09-39 added Czech translation file - Tomas Krmela!\n - 2003-09-29 added Polish translation file - Tomasz Melissa!\n - 2003-09-16 fixed order of user checking/adding in rpm spec files\n - 2003-08-22 fixed ascii2html convert function for \"\\n\" -\\> \"\\<br\\>\\n\" and\n    \"  \" -\\> \" &nbsp;\".\n - 2003-08-22 fixed customer user lookup for PostMaster\\*.pl based on\n    senders email address (set customer id and customer user)\n\n#1.1.3 2003-07-12\n - 2003-07-12 fixed bug#[182](http://bugs.otrs.org/show_bug.cgi?id=182) - Error when modify an queue without a queue-name\n - 2003-07-12 removed \"PerlInitHandler Apache::StatINC\" (Reload %INC files\n     perl modules) from scripts/apache-httpd.include.conf because of many error\n      message in apache error log\n    -=\\> apache reload is still needed when perl modules changed on disk \\<=-\n - 2003-07-12 improved performance of Kernel/System/Ticket/ArticleStorageDB.pm\n    with large objects\n - 2003-07-10 fixed bug#[171](http://bugs.otrs.org/show_bug.cgi?id=171) - No lock check if two Agents try to lock\n    ticket at same time (or later)\n - 2003-07-06 fixed bug#[168](http://bugs.otrs.org/show_bug.cgi?id=168) - The install script for POSTGRES contains wrong\n    datatypes (DATETIME instead of TIMESTAMP)\n - 2003-07-06 fixed bug#[165](http://bugs.otrs.org/show_bug.cgi?id=165) - Pop3 change - does not show the queue\n - 2003-07-03 fixed bug#[178](http://bugs.otrs.org/show_bug.cgi?id=178) - Authenticated customer LDAP requests don't work\n - 2003-07-02 updated Finnish translation, thanks to Antti K\u00ef\u00bf\u00bdm\u00ef\u00bf\u00bdr\u00ef\u00bf\u00bdinen\n - 2003-07-01 added SMTP module port patch of Jeroen Boomgaardt\n - 2003-06-22 fixed bug#[144](http://bugs.otrs.org/show_bug.cgi?id=144) - PostMasterPOP3.pl is exiting\n    \"Attached .eml file causes bug in EmailParser.pm\"\n    http://bugs.otrs.org/show_bug.cgi?id=144\n - 2003-06-04 fixed legend colors of stats pics\n\n#1.1.2 2003-05-31\n - 2003-06-01 improved Kernel/System/Ticket/Number/\\*.pm (ticket number\n    generator modules) to work with non existing var/log/TicketCounter.log.\n     -=\\> So var/log/TicketCounter.log will be removed from the CVS and\n     tar.gz updates will be much easier! (TicketCounter.log will not be\n     reseted on tar-update of OTRS update)\n - 2003-06-01 added Resent-To email header check for queue sorting of\n    new ticket - http://lists.otrs.org/pipermail/otrs/2003-May/001845.html\n - 2003-05-30 added \"PerlInitHandler Apache::Reload\" (Reload %INC files\n     perl modules) to scripts/apache2-httpd.include.conf\n    -=\\> no apache reload is needed when perl modules is updated on disk \\<=-\n - 2003-05-30 added \"PerlInitHandler Apache::StatINC\" (Reload %INC files\n     perl modules) to scripts/apache-httpd.include.conf\n    -=\\> no apache reload is needed when perl modules is updated on disk \\<=-\n - 2003-05-29 fixed create ticket (without priority selection) via\n    customer panel and changed priority names.\n - 2003-05-26 fixed pic.pl bug - http://bugs.otrs.org/show_bug.cgi?id=149\n - 2003-05-19 improved text formatting of \"long\" messages in QueueView\n    TicketZoom, TicketPlain and TicketSearch\n - 2003-05-18 fixed small logic bugs in Kernel/System/PostMaster\\*\n    improved debug options for bin/PostMaster.pl and bin/PostMasterPOP3.pl\n     -=\\> just used -d1 (1-3) for debug level of Kernel/System/PostMaster\\*\n - 2003-05-18 added customer data lookup for PostMaster\\*.pl based on\n    senders email address (set customer id and customer user)\n - 2003-05-13 fixed unwanted ticket unlock on move\n - 2003-05-13 added russian translation! Thanks to Serg V Kravchenko!\n - 2003-05-13 added config options for shown customer info size\n\n```perl\n    $Self->{ShowCustomerInfo(Zoom|Queue|Phone)MaxSize}\n```\n - 2003-05-08 fixed ignored user comment in admin area\n - 2003-05-04 added missing StateUpdate (table ticket\\_history\\_type)\n    to scripts/DBUpdate-to-1.1.postgresql.sql\n - 2003-05-02 removed unique option for the pop3\\_account column\n    login! To be able to have more pop3 accounts with the same\n    login name.\n - 2003-05-01 fixed bug#[134](http://bugs.otrs.org/show_bug.cgi?id=134) - Title shows \"Select box\" instead\n    of \"Admin Log\" - http://bugs.otrs.org/show_bug.cgi?id=134\n - 2003-05-01 fixed Kernel/System/AuthSession/\\*.pm to be able\n    to store 0 values\n\n#1.1.1 2003-05-01\n - 2003-04-30 removed agent notify about new note because new\n    owner got ticket assigned to you notify!\n - 2003-04-29 fixed bug#[131](http://bugs.otrs.org/show_bug.cgi?id=131) - QueueView shows wrong queue in\n    drop-downs - http://bugs.otrs.org/show_bug.cgi?id=131\n - 2003-04-29 added min. counter size option (default 5) for\n    Kernel::System::Ticket::Number::AutoIncrement module.\n - 2003-04-25 removed shown customer id in 'MyTickets' from\n    customer interface - added customer id to user name line\n\n#1.1 RC1 2003-04-24\n - 2003-04-24 added refresh time to AgentMailbox screen (refresh\n    time still exists for QueueView)\n - 2003-04-24 fixed \"show closed tickets\" in customer interface\n    (http://lists.otrs.org/pipermail/otrs/2003-April/001508.html)\n - 2003-04-24 fixed max shown tickets in QueueView (default now 1200)\n    (http://lists.otrs.org/pipermail/otrs/2003-April/001505.html)\n - 2003-04-23 fixed missing filename (default index.pl) for download\n    of attachments using Kernel/System/Ticket/ArticleStorageFS.pm\n    (http://lists.otrs.org/pipermail/otrs/2003-April/001491.html)\n - 2003-04-22 fixed bug#[123](http://bugs.otrs.org/show_bug.cgi?id=123) - Email address with simple quote\n    http://bugs.otrs.org/show_bug.cgi?id=123\n - 2003-04-18 added RH8 IPC (shm id 0) workaround (create dummy shm)\n - 2003-04-17 fixed AgentStatusView (1st ticket is actually the 2nd)\n - 2003-04-17 added Firstname/Lastname of agents to ticket history\n\n#1.1 RC1 2003-04-15\n - 2003-04-15 added Italian translation - Thanks to Remo Catelotti\n - 2003-04-14 improved performance of MIME parser (PostMaster)\n - 2003-04-13 added config option DefaultNoteTypes (used note\n    types) default is just note-internal because note-external and\n    note-report is confusing.\n - 2003-04-11 added check if ticket state type is closed or\n    removed then send not 'auto reply' to customer.\n    http://lists.otrs.org/pipermail/otrs/2003-April/001401.html\n - 2003-04-11 added check for quotable messages in auto response\n - 2003-04-11 added check and html2ascii convert for html only\n    emails on std. responses, forwards or splits\n - 2003-04-11 added Page Navigator for AgentQueueView -\n    http://lists.otrs.org/pipermail/otrs/2003-February/000881.html\n - 2003-04-09 improved AdminEmail feature with group recipient\n - 2003-04-08 added ticket split option in article zoom.\n - 2003-04-08 fixed bug#[109](http://bugs.otrs.org/show_bug.cgi?id=109) - Attachments not being forwarded on\n    http://bugs.otrs.org/show_bug.cgi?id=109\n - 2003-04-08 fixed bug#[111](http://bugs.otrs.org/show_bug.cgi?id=111) - Inability to forward on anything from:\n    'agent email(external)' - http://bugs.otrs.org/show_bug.cgi?id=110\n - 2003-03-24 improved user-auth and customer-auth ldap interface\n    with 'UserAttr' (UID for posixGroups objectclass and DN for non\n    posixGroups objectclass) on group access check. Config options now:\n\n```perl\n    $Self->{'AuthModule::LDAP::GroupDN'} = 'cn=otrsallow,ou=posixGroups,dc=example,dc=com';\n    $Self->{'AuthModule::LDAP::AccessAttr'} = 'memberUid';\n    # for ldap posixGroups objectclass (just uid)\n    $Self->{'AuthModule::LDAP::UserAttr'} = 'UID';\n    # for non ldap posixGroups objectclass (with full user dn)\n    $Self->{'AuthModule::LDAP::UserAttr'} = 'DN';\n```\n - 2003-03-24 added agent feature to be also customer of one ticket\n - 2003-03-24 added UncountedUnlockTime config options - e.g. don't\n    count Fri 16:00 - Mon 8:00 as unlock time.\n - 2003-03-23 added generic module/group permission concept for\n    Kernel/Modules/\\*.pm modules.\n    -=\\> add \"$Self-\\>{'Module::Permission'}-\\>{'module'} = 'group';\"\n    to Kernel/Config.pm like\n     \"$Self-\\>{'Module::Permission'}-\\>{'AdminAutoResponse'} = 'users';\"\n    to let the users groups able to change the auto responses.\n - 2003-03-13 improved create customer account - send account login\n    via email to requester (added config text for email)\n - 2003-03-13 added SendNoAutoResponseRegExp config option to send no\n    auto responses if regexp is matching. (Default is\n    '(MAILER-DAEMON|postmaster|abuse)@.+?\\..+?')\n - 2003-02-11 improved ticket search (merged fulltext and ticket number\n    rearch)\n - 2003-03-10 added customer email notification on move, state update\n    or owner update (config option for each queue). Use\n    \"scripts/DBUpdate-to-1.1.(mysql|postgresql).sql\".\n    http://lists.otrs.org/pipermail/dev/2002-June/000005.html\n - 2003-03-06 added ro/rw to group object. So the agent is able to search,\n    zoom, ... in tickets but can't edit the tickets - added also new config\n    option 'QueueViewAllPossibleTickets' to show the ro queues in the queue\n    (default 0 -=\\> not shown).\n    Use \"scripts/DBUpdate-to-1.1.(mysql|postgresql).sql\".\n - 2003-03-05 added sendmail backends (Kernel::System::Email::Sendmail\n    and Kernel::System::Email::SMTP) - for win32 user. New config options:\n\n```perl\n      $Self->{'SendmailModule'} = 'Kernel::System::Email::Sendmail';\n      $Self->{'SendmailModule::CMD'} = '/usr/sbin/sendmail -t -i -f ';\n\n      $Self->{'SendmailModule'} = 'Kernel::System::Email::SMTP';\n      $Self->{'SendmailModule::Host'} = 'mail.example.com';\n      $Self->{'SendmailModule::AuthUser'} = '';\n      $Self->{'SendmailModule::AuthPassword'} = '';\n```\n - 2003-03-05 added \"view all articles\" config option for ticket zoom\n    view (TicketZoomExpand default is 0) - new dtl templates for ticket\n    zoom Kernel/Output/HTML/\\*/AgentZoom\\*.dtl (removed TicketZoom\\*.dtl)\n    http://lists.otrs.org/pipermail/otrs/2003-January/000784.html\n - 2003-03-03 new ticket state implementation (added ticket\\_state\\_type\n    table). Use \"scripts/DBUpdate-to-1.1.(mysql|postgresql).sql\".\n    State name is now free settable (because of the ticket state name).\n    Added ticket state documentation.\n - 2003-02-25 rewrote scripts/backup.sh, update your cronjobs!\n    http://lists.otrs.org/pipermail/dev/2003-February/000112.html\n - 2003-02-23 added sub-queue support\n    http://lists.otrs.org/pipermail/otrs/2002-June/000065.html\n - 2003-02-17 added allowing the client to close a ticket via customer\n    panel - http://lists.otrs.org/pipermail/otrs/2003-February/000891.html\n - 2003-02-15 fixed hanging login problem with mod\\_perl2\n - 2003-02-15 added mod\\_perl2 support for web installer\n - 2003-02-15 unfortunately there is a mod\\_perl2 bug on RH8 - added\n    check if crypt() is working correctly\n - 2003-02-14 fixed default Spelling Dictionary selection and added\n    a preferences option\n - 2003-02-13 added PendingDiffTime config option (add this time to\n    shown (selected) pending time) -\n    http://lists.otrs.org/pipermail/otrs/2003-February/000899.html\n - 2003-02-09 updated priotity options with number prefix for sort of\n    html select fields - e. g. \"normal\" is \"3 normal\" and \"high\" is\n    \"4 high\" - use \"scripts/DBUpdate-to-1.1.(mysql|postgresql).sql\"\n - 2003-02-09 added ShowCustomerInfo(Queue|Zoom|Phone) config options\n    for shown CustomerInfo (e. g. company-name, phone, ...) on\n    AgentQueueView, AgentZoom and AgentPhone.\n - 2003-02-08 improved fulltext search with queue and priority option\n - 2003-02-08 added html color highlighting for ticket article type\n    e. g. to highlight internal and external notes in TicketZoom -=\\>\n    article tree.\n - 2003-02-08 added html color highlighting for ticket priority\n - 2003-02-08 moved to 100% CSS support for Standard and Lite theme\n - 2003-02-08 improved VERSION regex for 1.x.x.x cvs revision\n - 2003-02-08 changed database script location from install/database\n    to scripts/database\n\n#1.0 RC3 2003-02-03\n - 2003-02-03 added customer user info on TicketView, TicketZoom and PhoneView\n     dtl template (if wanted, uncomment it).\n - 2003-02-03 fixed java script stuff for Spell Check\n - 2003-02-03 added customer user serach to PhoneView\n - 2003-02-02 added pending ticket notification - Thanks to Andreas Haase!\n     http://lists.otrs.org/pipermail/otrs/2003-January/000839.html\n - 2003-01-27 fixed some doc typos - Thanks to Eddie Urenda!\n - 2003-01-27 added die string -=\\> better to find webserver user file\n    write permission problems (var/log/TicketCounter.log)!\n    Kernel/System/Ticket/Number/\\*.pm\n - 2003-01-23 added Brazilian Portuguese translation! Thanks to Gilberto\n    Cezar de Almeida!\n\n#1.0 RC2 2003-01-19\n - 2003-01-19 added CustomerUser LDAP backend - Thanks to Wiktor Wodecki!\n - 2003-01-19 fixed CustomerUser backend (config options)\n - 2003-01-18 fixed bug#[61](http://bugs.otrs.org/show_bug.cgi?id=61) (ArticleStorageInit error ) -\n    http://bugs.otrs.org/show_bug.cgi?id=61\n - 2003-01-17 fixed bug#[68](http://bugs.otrs.org/show_bug.cgi?id=68) on FreeBSD 4.7 (trying to \"compose email\" from\n    the agent interface) - http://bugs.otrs.org/show_bug.cgi?id=68\n - 2003-01-16 fixed bug#[62](http://bugs.otrs.org/show_bug.cgi?id=62) (not working command line utilitity) -\n    http://bugs.otrs.org/show_bug.cgi?id=62\n - 2003-01-16 added bin/otrs.checkModules to check installed and\n    required cpan modules\n - 2003-01-15 updated finnish translation! Thanks to Antti K\u00ef\u00bf\u00bdm\u00ef\u00bf\u00bdr\u00ef\u00bf\u00bdinen!\n - 2003-01-15 added CheckMXRecord option to webinstaller\n - 2003-01-14 fixed typos \"preferneces != preferences typo\"\n    http://lists.otrs.org/pipermail/dev/2003-January/000074.html\n    Thanks to Wiktor Wodecki!\n - 2003-01-14 fixed bug#[59](http://bugs.otrs.org/show_bug.cgi?id=59) (Bug in SELECT statement on empty search form) -\n    http://bugs.otrs.org/show_bug.cgi?id=59\n - 2003-01-14 updated french translation! Thanks to Nicolas Goralski!\n - 2003-01-12 added spanisch translation! Thanks to Jorge Becerra!\n - 2003-01-11 fixed AgentPhone bug of Time() in subject -\n    Time(DateFormatLong) was shown\n\n#1.0 RC1 (2003-01-09)\n - 2003-01-09 added AgentTicketPrint (Ticket Print View)\n - 2003-01-09 improved Kernel::System::Ticket::IndexAccelerator::RuntimeDB\n    and StaticDB (for locked tickets).\n - 2003-01-09 removed Kernel::System::Ticket::IndexAccelerator::FS\n    because RuntimeDB and StaticDB is enough\n - 2003-01-05 improved fulltext search (added ticket state search option)\n - 2003-01-05 added CMD option to bin/GenericAgent.pl (so you can\n    execute own programs on GenericAgent.pl actions - e. g. send\n    special admin emails)\n - 2003-01-02 added attachments support for std. responses\n - 2002-12-27 added filters (All, Open, New, Pending, Reminder) to\n    AgentMailbox (locked-ticket-view)\n - 2002-12-24 added pending feature for tickets\n - 2002-12-20 added Kernel::System::Ticket::ArticleStorage\\* modules\n    for attachments in database or fs (needs to update the database\n    (scripts/DBUpdate.(mysql|postgesql).sql)! The main reason is a lot\n    of people have problems with the file permissions of the local otrs\n    and webserver user (often incoming emails are shown some times again).\n    TicketStorageModule in Kernel/Config.pm.\n     * Kernel::System::Ticket::ArticleStorageDB -\\> (default)\n     * Kernel::System::Ticket::ArticleStorageFS -\\> (faster but webserver\n        user should be the otrs user - use it for larger setups!)\n - 2002-12-19 attachment support (send and view) for customer panel!\n - 2002-12-18 added config option CheckEmailAddresses and CheckMXRecord.\n    CheckMXRecord is useful for pre checks of valid/invalid senders (\n    reduce Postmaster emails). Disable CheckEmailAddresses if you work\n    with customers which don't have email addresses or your otrs system is\n    in your lan!\n - 2002-12-18 added more error handling to AgentPhone\n - 2002-12-15 added bin/PostMasterPOP3.pl and AdminPOP3 interface for\n    fetching emails without procmail, fetchmail and MDA\n - 2002-12-12 added finnish translation - Thanks to Antti K\u00ef\u00bf\u00bdm\u00ef\u00bf\u00bdr\u00ef\u00bf\u00bdinen!\n - 2002-12-08 added working PostMasterDaemon.pl and PostMasterClient.pl,\n    alternative to PostMaster.pl. How it works: If the PostMasterDaemon.pl\n    is running, pipe email through PostMasterClient.pl like (PostMaster.pl)\n    (e. g. \"cat /tmp/some.box | bin/PostMasterClient.pl\"). Pro: Speed, Contra\n    needs more memory.\n - 2002-12-07 added customer-user-backend Kernel/System/CustomerUser/DB.pm.\n - 2002-12-07 added preferences-backend module for user and customer user\n    (Kernel/System/ (User/Preferences/DB.pm and CustomerUser/Preferences/DB.pm)\n - 2002-12-04 moved from Date::Calc (Perl and C) to Date::Pcalc (Perl only)\n    and added Date::Pcalc to Kernel/cpan-lib/ (OS independent!).\n - 2002-12-01 moved GenericAgent.pm to GenericAgent.pm.dist to have tarball\n    updates easier.\n - 2002-12-01 moved finally to new config file Kernel/Config.pm.dist! Learn\n    more -=\\> INSTALL -=\\> \"Demo config files\"!\n - 2002-12-01 added \"enchant LDAP auth\" patch from Wiktor Wodecki for\n    Kernel/System/Auth/LDAP.pm and Kernel/System/CustomerAuth/LDAP.pm -\n    http://lists.otrs.org/pipermail/dev/2002-November/000043.html.\n    Thanks Wiktor!\n - 2002-11-28 fixed bug#[39](http://bugs.otrs.org/show_bug.cgi?id=39) - added mime encode for attachment file names\n    http://bugs.otrs.org/show_bug.cgi?id=39 - Thanks to Christoph Kaulich!\n - 2002-11-27 added backend modules for loop protection of PostMaster.pl\n    \"LoopProtectionModule\" in Kernel/Config.pm (default is DB) -\n    Kernel::System::PostMaster::LoopProtection::(DB|FS).\n - 2002-11-24 added delete ticket feature for GenericAgent.pl (removes tickets\n    from db and fs) - http://lists.otrs.org/pipermail/dev/2002-October/000037.html.\n - 2002-11-23 removed Kernel::Modules::AdminLanguage! Moved used languages\n    to config file (Kernel/Config.pm - DefaultUsedLanguages). Moved translation\n    files from long language names to short names like en, de, bg, nl, ...\n    (e. g. Kernel/Language/bg.pm). Updated docu.\n - 2002-11-21 moved var/cron/\\* to var/cron/\\*.dist (.dist is not used) to make\n    updates easier! Thanks to Bryan Fullerton!\n - 2002-11-15 moved %doc/install/\\* to /opt/OpenTRS/install in RPM-specs.\n    because the web-installer needs this stuff in this location. %doc isn't\n    consistent on different linux distributions!\n - 2002-11-15 fixed bug#[48](http://bugs.otrs.org/show_bug.cgi?id=48) custom modules don't work/load -\n    http://bugs.otrs.org/show_bug.cgi?id=48\n - 2002-11-15 added Dutch translation! Thanks to Fred van Dijk!\n - 2002-11-14 added Bulgarian translation! Thanks to Vladimir Gerdjikov!\n - 2002-11-11 added new config file as Kernel/Config.pm.dist (will be used\n    for \\>= OTRS 5.0 Beta9) if you want to test it with 0.5, use Kernel/Config.pm.dist\n    as Kernel/Config.pm (cp Kernel/Config.pm.dist Kernel/Config.pm)!\n    Kernel/Config/Defaults.pm is the config file with all defaults. If you want\n    to change this settings, add the needed entry to Kernel/Config.pm(.dist)\n    and the Kernel/Config/Defaults.pm will be overwrite. Updates will be much\n    easier! - http://lists.otrs.org/pipermail/otrs/2002-October/000315.html\n - 2002-11-11 added spell ckecker for agent interface (Kernel::Modules::AgentSpelling).\n - 2002-11-11 added browser window.status info for Standard Theme (Agent\n    and Customer frontend).\n - 2002-11-11 added some CPAN modules to Kernel/cpan-lib/ (CGI 2.89,\n    MIME-tools-5.411 and MailTools-1.51).\n - 2002-11-09 fixed attachment filename for IE (not the whole path like\n    c:\\Documents\\test.jpg) Kernel/Modules/AgentCompose.pm.\n - 2002-11-09 fixed bug in Kernel/System/EmailParser.pm if email headers\n    are longer then 64 characters. Thanks to Phil Davis!\n - 2002-11-01 added file permission check for PostMaster.pl on startup!\n    -=\\> Will help to get setup faster working!\n - 2002-10-31 added email valid check (incl. mx) on CreateAccount (customer\n    panel) -=\\> Config option: $Self-\\>{CheckMXRecord}!\n\n#0.5 BETA8 2002-10-25\n - 2002-10-24 improved web installer - added system settings\n - 2002-10-22 added notify mail to agent by ticket move - configurable via preferences\n - 2002-10-22 added Lite QueueView - configurable via preferences\n - 2002-10-20 added customer web frontend (bin/cgi-bin/customer.pl,\n     Kernel/Modules/Customer\\*.pm and Kernel/Output/HTML/\\*/Customer.dtl)\n - 2002-10-20 added lost password feature\n - added config support for AgentPreferences module (Kernel/Config/Preferences.pm)\n - added AgentStatusView module (overview of all open tickets) - (Thanks to Phil Davis)!\n - added support of generic session id name (e. g. SessionID, OTRS, ...)\n - added more flexibility for option string in Kernel::Modules::AgentPhone\n    [Kernel::Config::Phone]\n\n```perl\n      # PhoneViewASP -> useful for ASP\n      # (Possible to create in all queue? Not only queue which\n      # the own groups) [0|1]\n      $Self->{PhoneViewASP} = 1;\n      # PhoneViewSelectionType\n      # (To: section type. Queue => show all queues, SystemAddress => show all system\n      # addresses;) [Queue|SystemAddress]\n       $Self->{PhoneViewSelectionType} = 'SystemAddress';\n      # PhoneViewSelectionString\n      # (String for To: selection.)\n      $Self->{PhoneViewSelectionString} = '<Realname> <<Email>> - Queue: <Queue> - <QueueComment>';\n      # PhoneViewOwnSelection\n      # (If this is in use, \"just this selection is valid\" for the PhoneView.)\n      $Self->{PhoneViewOwnSelection} = {\n        # QueueID => String\n        '1' => 'First Queue!',\n        '2' => 'Second Queue!',\n      };\n```\n - added attachment support for agent compose answer\n - added Kernel::Modules::AdminEmail feature - a admin can send (via admin\n    interface) info to one or more agents.\n - added /etc/sysconfig/otrs file for rcscripts\n - added rpm for Red Hat Linux 7.3\n - added email notify on ownership change feature - see\n    http://lists.otrs.org/pipermail/otrs/2002-September/000213.html\n - added ReplyTo patch for PostMaster.pl of Phil Davis - Thanks Phil!\n    - http://lists.otrs.org/pipermail/otrs/2002-September/000203.html\n - created config file (Kernel/Config/GenericAgent.pm) for bin/GenericAgent.pl\n - splited Kernel/Config.pm info Kernel/Config.pm, Kernel/Config/Postmaster.pm\n    Kernel/Config/Phone.pm and Kernel/Config/Notification.pm and renamed some\n    config variables to get a better overview.\n - added new/current french translation - Thanks to Bernard Choppy!\n - added module support for log (Kernel/Config.pm --\\> $Self-\\>{LogModule})\n     * \"Kernel::System::Log::SysLog\" for syslogd (default)\n     * \"Kernel::System::Log::File\" for log file\n - added alternate login and logout URL feature (Kernel/Config.pm --\\>\n    $Self-\\>{LoginURL}, $Self-\\>{LogoutURL}) and added two example alternate\n    login pages scripts/login.pl (Perl) and scripts/login.php (PHP)\n - added backup and restore script (scripts/(backup|restore).sh)\n - moved Kernel::System::Article to Kernel::System::Ticket::Article! The\n    ArticleObject exists not longer in Kernel::Modules::\\*, use TicketObject.\n - fixed bug#[25](http://bugs.otrs.org/show_bug.cgi?id=25) Error on bounce of ticket - http://bugs.otrs.org/show_bug.cgi?id=25\n - fixed bug#[27](http://bugs.otrs.org/show_bug.cgi?id=27) Let the fields \"new message\" and \"Locked tickets\" be more visible -\n    http://bugs.otrs.org/show_bug.cgi?id=27\n - fixed bug#[23](http://bugs.otrs.org/show_bug.cgi?id=23) little menu logic mistake - http://bugs.otrs.org/show_bug.cgi?id=23\n - fixed bug#[30](http://bugs.otrs.org/show_bug.cgi?id=30) Kernel/System/DB.pm - DB quoting http://bugs.otrs.org/show_bug.cgi?id=30\n    Thanks to Marc Scheuffler!\n - fixed bug#[28](http://bugs.otrs.org/show_bug.cgi?id=28) Base64 Encoded mail fails - http://bugs.otrs.org/show_bug.cgi?id=28\n    Thanks to Christoph Kaulich!\n - fixed rpm bug for SuSE Linux 7.3 (Installer) - Thanks to Schirott Frank!\n\n#0.5 BETA7 2002-08-06\n - improved screen session management (next screen, last screen) added back\n    buttons\n - improved ticket and article lib functions (Kernel::System::Ticket::\\* and\n    Kernel::System::Article)\n - improved fulltext search\n - added time accounting for tickets (added new database table - time\\_accounting!\n    use scripts/DBUpdate.(mysql|postgresql).sql for database updates!)\n - added notify feature for ticket lock timeout by system\n - added user preferences item email (so login and email can be different)\n - added \"Std. Response on creating a queue\" feature\n    (http://lists.otrs.org/pipermail/otrs/2002-July/000114.html)\n - added module support for auth. (Kernel/Config.pm --\\> $Self-\\>{AuthModule})\n     * \"Kernel::System::Auth::DB\" against OTRS DB (default)\n     * \"Kernel::System::Auth::LDAP\" against a LDAP directory\n - added \"ChangeOwnerToEveryone\" feature fot AgentOwner (useful for ASP)\n    Kernel/Config.pm -\\> $Self-\\>{ChangeOwnerToEveryone} = [0|1]\n - added AgentCustomer module (set a customer id to a ticket and get a customer\n    history)\n - added a GenericAgent.pl! This program can do some generic actions on tickets\n    (like SetLock, MoveTicket, AddNote, SetOwner and SetState). It was developed\n    to close (automatically via cron job) ticket in a specific queue, e. g. all\n    tickets in the queue 'spam'. (Thanks to Gay Gilmore for the idea)\n - added a simple webform (scripts/webform.pl) to generate emails with X-OTRS-Header\n    to dispatch it with procmail (used for feedback forms)\n - added content\\_type col. to article table to handle differen charsets correctly\n    (use script/DBUpdate.(mysql|postgresql).sql to upgrate existing databases).\n - added generic session storage management (Kernel/Config.pm --\\> $Self-\\>{SessionModule})\n     * \"Kernel::System::AuthSession::DB\" (default) --\\> db storage\n     * \"Kernel::System::AuthSession::FS\" --\\> filesystem storage\n     * \"Kernel::System::AuthSession::IPC\" --\\> ram storage\n - added http cookie support for session management - it's more comfortable to\n    send links -==\\> if you have a valid session, you don't have to login again -\n    If the client browser disabled html cookies, otrs will work as usual, append\n    SessionID to links! (Kernel/Config.pm --\\> $Self-\\>{SessionUseCookie})\n - added generic ticket number generator (Kernel/Config.pm --\\> $Self-\\>{TicketNumberGenerator})\n     * \"Kernel::System::Ticket::Number::AutoIncrement\" (default) --\\> auto increment\n        ticket numbers \"SystemID.Counter\" like 1010138 and 1010139.\n     * \"Kernel::System::Ticket::Number::Date\" --\\> ticket numbers with date\n        \"Year.Month.Day.SystemID.Counter\" like 200206231010138 and 200206231010139.\n     * \"Kernel::System::Ticket::Number::DateChecksum\" --\\> ticket numbers with date and\n        check sum and the counter will be rotated daily like 2002070110101520 and 2002070110101535.\n     * \"Kernel::System::Ticket::Number::Random\" --\\> random ticket numbers \"SystemID.Random\"\n         like 100057866352 and 103745394596.\n - added UPGRADING file\n - updated redhat init script (Thanks to Pablo Ruiz Garcia)\n - fixed bug#[21](http://bugs.otrs.org/show_bug.cgi?id=21) \" in email addresses are missing - http://bugs.otrs.org/show_bug.cgi?id=21\n    (Thanks to Christoph Kaulich)\n - fixed bug#[19](http://bugs.otrs.org/show_bug.cgi?id=19) Responses sort randomly - http://bugs.otrs.org/show_bug.cgi?id=19\n - fixed SetPermissions.sh (permission for var/log/TicketCounter.log) (Thanks to\n    Pablo Ruiz Garcia)\n - fixed bug#[16](http://bugs.otrs.org/show_bug.cgi?id=16) Attachment download - http://bugs.otrs.org/show_bug.cgi?id=16\n    (Thanks to Christoph Kaulich)\n - fixed bug#[15](http://bugs.otrs.org/show_bug.cgi?id=15) typo in suse-rcotrs (redhat-rcotrs is not affected) -\n    http://bugs.otrs.org/show_bug.cgi?id=15\n\n#0.5 BETA6 2002-06-17\n - added AgentBounce module\n - moved from Unix::Syslog to Sys::Syslog (Kernel::System::Log) because Sys::Syslog\n    comes with Perl (not an additional CPAN module)!\n - added redhat-rcotrs script (thanks to Pablo Ruiz Garcia)\n - added OTRS cronjobs var/cron/[aaa\\_base|fetchmail|postmaster|session|unlock]\n     * aaa\\_base -\\> cronjob settings like MAILTO=\"root@localhost\"\n     * fetchmail -\\> cronjob for fetchmail\n     * postmaster -\\> cleanup for not processed email\n     * session -\\> cleanup for old sessions\n     * unlock -\\> ticket unlock\n - added OTRS cronjobs support (start/stop) to scripts/suse-rcotrs\n - moved all OTRS application required modules to two new files,\n     * Kernel/Config/Modules.pm (all used OTRS modules)\n     * Kernel/Config/ModulesCustom.pm (all add-on application modules, written by\n        someone else, e. g. customer db or accounting system)\n    to be release independently with Third Party modules for OTRS.\n - added $Env{\"Product\"} $Env{\"Version\"} (e. g. OTRS 0.5 Beta6) as dtl environment\n    variable. Source is $OTRS\\_HOME/RELEASE.\n - added display support for HTML-only emails\n - added generic database and webserver to scripts/suse-rcotrs script\n - added PostgreSQL (7.2 or higher) support (use OpenTRS-schema.postgresql.sql)\n - fixed bug#[12](http://bugs.otrs.org/show_bug.cgi?id=12) fetchmail lock problem - http://bugs.otrs.org/show_bug.cgi?id=12\n - fixed bug#[11](http://bugs.otrs.org/show_bug.cgi?id=11) typos - http://bugs.otrs.org/show_bug.cgi?id=11\n - fixed bug#[10](http://bugs.otrs.org/show_bug.cgi?id=10) user\\_preferences table  - http://bugs.otrs.org/show_bug.cgi?id=10\n - fixed bug#[9](http://bugs.otrs.org/show_bug.cgi?id=9) LoopProtection!!! Can't open'/opt/OpenTRS/var/log/LoopProtection-xyz.log':\n    No such file or directory! - http://bugs.otrs.org/show_bug.cgi?id=9\n - fixed HTML table bug in AdminArea::Queue (just with Netscape)\n - fixed SQL table preferences bug (use script/DBUpdate.mysql.sql)\n\n#0.5 BETA5 2002-05-27\n - added ticket escalation - if a ticket is to old, only this ticket will be shown\n    till somebody is working on it\n     * added new row (ticket\\_answered) to ticket table\n     * updated Kernel/Output/HTML/\\<THEME\\>/AdminQueueForm.dtl\n - added auto ticket unlock for locked old not answered tickets\n     * added new row (ticket\\_answered) to ticket table\n     * modified Kernel::System::Ticket::Lock::SetLock()\n     * added bin/UnlockTickets.pl with --timeout and --all options\n - added command line tool (bin/DeleteSessionIDs.pl) to delete expired or all session\n    ids via command line or cron - options are --help, --expired and --all\n - fixed bug#[7](http://bugs.otrs.org/show_bug.cgi?id=7) - space in Installer.pm\n    lets creating of database otrs in MySQL fail) by Stefan Schmidt.\n - added URL (screen) recovery after session timeout and possibility to send\n    links without session id. Example: Shows you the ticket after OTRS\n    login - http://host.example.com/otrs/index.pl?AgentZoom&TicketID=9\n - added http://bugs.otrs.org/ link to the Error.dtl template, to get an easier\n    bug reporting\n - added NoPermission.dtl screen\n - added phone tool - Kernel::Modules::AgentPhone.pm\n - added french translation (thanks to Martin Scherbaum)\n - added 'Send follow up notification' and 'Send new ticket notification' to agent\n    feature\n     * added new values to initial\\_insert.sql for agent notifications, table:\n       ticket\\_history\\_type, value: SendAgentNotification\n     * modified Kernel/Output/HTML/\\<THEME\\>/AgentPreferencesForm.dtl\n     * required \"new\" options in Kernel::Config.pm!\n - fixed suse-rcotrs script (thanks to Martin Scherbaum)\n     * added \"INIT INFO\"\n     * just check httpd and mysqld - no restart\n     * added stop-force|start-force option to restart httpd and mysqld\n - added help texts to the admin screens\n\n#0.5 BETA4 2002-05-07\n - changed login screen and added motd feature (Kernel/Output/HTML/Standard/Motd.dtl\n   the motd file)\n - added Kernel::Modules::AdminCharsets.pm\n - added Kernel::Modules::AdminStatus.pm\n - added Kernel::Modules::AdminLanguages.pm\n - added mod\\_perl stuff to README.webserver and scripts/suse-httpd.include.conf\n - fixed bug#[6](http://bugs.otrs.org/show_bug.cgi?id=6) - user is a reserved word in\n    SQL) reported by Charles Wimmer. Added some variables for table names and columns\n    to Kernel/Config.pm. Important: For existing installations you have to change the\n    Config.pm or to rename the \"user\" table to \"system\\_user\"!\n - added \"kill all sessions\" function to Kernel::Modules::AdminSession.pm\n - added old subject (\"subject snip\") and old email (\"body snip\") to auto reply\n - added stats support Kernel::Modules::SystemStats and bin/mkStats.pl (with GD)\n - fixed missing html quoting in Kernel::Output::HTML::Agent-\\>AgentHistory\n - update of html in AgentTicketView.dtl and AgentZoom.dtl\n - added MoveInToAllQueues [1|0] to Config.pm (allow to choose the move queues for\n    ticket view and zoom [all|own])\n\n#0.5 BETA3 2002-04-17\n - added AgentOwner Module\n - added AgentForward Module\n - added auto session delete functions if remote ip or session time is invalid.\n - added mail (show-)attachment function\n - added permission check functions for AgentZoom, AgentPlain and AgentAttachments\n - added README.application-module\n\n#0.5 BETA2 2002-04-11\n - html (\\*.dtl) beautified\n - added session driver (sql|fs)\n\n#0.5 BETA1 2002-03-11\n - first official release\n", "# --\n# Kernel/Modules/CustomerPreferences.pm - provides agent preferences\n# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::Modules::CustomerPreferences;\n\nuse strict;\nuse warnings;\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    # allocate new hash for object\n    my $Self = {%Param};\n    bless( $Self, $Type );\n\n    # check all needed objects\n    for (\n        qw(ParamObject DBObject QueueObject LayoutObject ConfigObject LogObject SessionObject UserObject)\n        )\n    {\n        if ( !$Self->{$_} ) {\n            $Self->{LayoutObject}->FatalError( Message => \"Got no $_!\" );\n        }\n    }\n\n    # get params\n    $Self->{Want} = $Self->{ParamObject}->GetParam( Param => 'Want' ) || '';\n\n    return $Self;\n}\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    # ------------------------------------------------------------ #\n    # update preferences\n    # ------------------------------------------------------------ #\n    if ( $Self->{Subaction} eq 'Update' ) {\n\n        # challenge token check for write action\n        $Self->{LayoutObject}->ChallengeTokenCheck();\n\n        # check group param\n        my $Group = $Self->{ParamObject}->GetParam( Param => 'Group' ) || '';\n        if ( !$Group ) {\n            return $Self->{LayoutObject}->ErrorScreen( Message => 'Param Group is required!' );\n        }\n\n        # check preferences setting\n        my %Preferences = %{ $Self->{ConfigObject}->Get('CustomerPreferencesGroups') };\n        if ( !$Preferences{$Group} ) {\n            return $Self->{LayoutObject}->ErrorScreen( Message => \"No such config for $Group\" );\n        }\n\n        # get user data\n        my %UserData = $Self->{UserObject}->CustomerUserDataGet( User => $Self->{UserLogin} );\n        my $Module = $Preferences{$Group}->{Module};\n        if ( !$Self->{MainObject}->Require($Module) ) {\n            return $Self->{LayoutObject}->FatalError();\n        }\n        my $Object = $Module->new(\n            %{$Self},\n            ConfigItem => $Preferences{$Group},\n            Debug      => $Self->{Debug},\n        );\n\n        # log loaded module\n        if ( $Self->{Debug} > 1 ) {\n            $Self->{LogObject}->Log(\n                Priority => 'debug',\n                Message  => \"Module: $Module loaded!\",\n            );\n        }\n        my @Params = $Object->Param( UserData => \\%UserData );\n        my %GetParam;\n        for my $ParamItem (@Params) {\n            my @Array = $Self->{ParamObject}->GetArray(\n                Param => $ParamItem->{Name},\n                Raw => $ParamItem->{Raw} || 0,\n            );\n            $GetParam{ $ParamItem->{Name} } = \\@Array;\n        }\n        my $Message  = '';\n        my $Priority = '';\n        if ( $Object->Run( GetParam => \\%GetParam, UserData => \\%UserData ) ) {\n            $Message = $Object->Message();\n        }\n        else {\n            $Priority = 'Error';\n            $Message  = $Object->Error();\n        }\n\n        # check redirect\n        my $RedirectURL = $Self->{ParamObject}->GetParam( Param => 'RedirectURL' );\n        if ($RedirectURL) {\n            return $Self->{LayoutObject}->Redirect(\n                OP => $RedirectURL,\n            );\n        }\n\n        # redirect\n        return $Self->{LayoutObject}->Redirect(\n            OP => \"Action=CustomerPreferences;Priority=$Priority;Message=$Message\",\n        );\n    }\n\n    # ------------------------------------------------------------ #\n    # show preferences\n    # ------------------------------------------------------------ #\n    else {\n        my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Preferences' );\n        $Output .= $Self->{LayoutObject}->CustomerNavigationBar();\n\n        # get param\n        my $Message  = $Self->{ParamObject}->GetParam( Param => 'Message' )  || '';\n        my $Priority = $Self->{ParamObject}->GetParam( Param => 'Priority' ) || '';\n\n        # add notification\n        if ( $Message && $Priority eq 'Error' ) {\n            $Output .= $Self->{LayoutObject}->Notify(\n                Priority => $Priority,\n                Info     => $Message,\n            );\n        }\n        elsif ($Message) {\n            $Output .= $Self->{LayoutObject}->Notify( Info => $Message, );\n        }\n\n        # get user data\n        my %UserData = $Self->{UserObject}->CustomerUserDataGet( User => $Self->{UserLogin} );\n        $Output .= $Self->CustomerPreferencesForm( UserData => \\%UserData );\n        $Output .= $Self->{LayoutObject}->CustomerFooter();\n        return $Output;\n    }\n}\n\nsub CustomerPreferencesForm {\n    my ( $Self, %Param ) = @_;\n\n    $Self->{LayoutObject}->Block(\n        Name => 'Body',\n        Data => \\%Param,\n    );\n\n    my @Groups = @{ $Self->{ConfigObject}->Get('CustomerPreferencesView') };\n\n    COLUMN:\n    for my $Column (@Groups) {\n\n        next COLUMN if !$Column;\n\n        my %Data;\n        my %Preferences = %{ $Self->{ConfigObject}->Get('CustomerPreferencesGroups') };\n\n        GROUP:\n        for my $Group ( sort keys %Preferences ) {\n\n            next GROUP if !$Group;\n\n            my $PreferencesGroup = $Preferences{$Group};\n\n            next GROUP if !$PreferencesGroup;\n            next GROUP if ref $PreferencesGroup ne 'HASH';\n\n            $PreferencesGroup->{Column} ||= '';\n            $PreferencesGroup->{Prio}   ||= 9999;\n\n            next GROUP if $PreferencesGroup->{Column} ne $Column;\n\n            if ( $Data{ $PreferencesGroup->{Prio} } ) {\n\n                for ( 1 .. 151 ) {\n\n                    $PreferencesGroup->{Prio}++;\n\n                    if ( !$Data{ $PreferencesGroup->{Prio} } ) {\n                        $Data{ $PreferencesGroup->{Prio} } = $Group;\n                        last;\n                    }\n                }\n            }\n\n            $Data{ $PreferencesGroup->{Prio} } = $Group;\n        }\n\n        $Self->{LayoutObject}->Block(\n            Name => 'Head',\n            Data => { Header => $Column, },\n        );\n\n        # sort\n        for my $Key ( sort keys %Data ) {\n            $Data{ sprintf( \"%07d\", $Key ) } = $Data{$Key};\n            delete $Data{$Key};\n        }\n\n        # show each preferences setting\n        for my $Prio ( sort keys %Data ) {\n            my $Group = $Data{$Prio};\n            next if !$Self->{ConfigObject}->{CustomerPreferencesGroups}->{$Group};\n\n            my %Preference = %{ $Self->{ConfigObject}->{CustomerPreferencesGroups}->{$Group} };\n            next if !$Preference{Active};\n\n            # load module\n            my $Module = $Preference{Module} || 'Kernel::Output::HTML::CustomerPreferencesGeneric';\n            if ( !$Self->{MainObject}->Require($Module) ) {\n                return $Self->{LayoutObject}->FatalError();\n            }\n            my $Object = $Module->new(\n                %{$Self},\n                ConfigItem => $Preferences{$Group},\n                Debug      => $Self->{Debug},\n            );\n            my @Params = $Object->Param( UserData => $Param{UserData} );\n            next if !@Params;\n\n            # show item\n            $Self->{LayoutObject}->Block(\n                Name => 'Item',\n                Data => {\n                    Group => $Group,\n                    %Preference,\n                },\n            );\n            for my $ParamItem (@Params) {\n                if ( ref $ParamItem->{Data} eq 'HASH' || ref $Preference{Data} eq 'HASH' ) {\n                    $ParamItem->{Option} = $Self->{LayoutObject}->BuildSelection(\n                        %Preference, %{$ParamItem},\n                    );\n                }\n                $Self->{LayoutObject}->Block(\n                    Name => 'Block',\n                    Data => { %Preference, %{$ParamItem}, },\n                );\n                $Self->{LayoutObject}->Block(\n                    Name => $ParamItem->{Block} || $Preference{Block} || 'Option',\n                    Data => { %Preference, %{$ParamItem}, },\n                );\n            }\n        }\n    }\n\n    # create & return output\n    return $Self->{LayoutObject}->Output(\n        TemplateFile => 'CustomerPreferences',\n        Data         => \\%Param\n    );\n}\n\n1;\n", "# --\n# Kernel/Modules/CustomerTicketMessage.pm - to handle customer messages\n# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::Modules::CustomerTicketMessage;\n\nuse strict;\nuse warnings;\n\nuse Kernel::System::CustomerUser;\nuse Kernel::System::Web::UploadCache;\nuse Kernel::System::SystemAddress;\nuse Kernel::System::Queue;\nuse Kernel::System::State;\nuse Kernel::System::DynamicField;\nuse Kernel::System::DynamicField::Backend;\nuse Kernel::System::VariableCheck qw(:all);\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    # allocate new hash for object\n    my $Self = {%Param};\n    bless( $Self, $Type );\n\n    # check needed objects\n    for (qw(ParamObject DBObject TicketObject LayoutObject LogObject QueueObject ConfigObject)) {\n        if ( !$Self->{$_} ) {\n            $Self->{LayoutObject}->FatalError( Message => \"Got no $_!\" );\n        }\n    }\n\n    # needed objects\n    $Self->{CustomerUserObject} = Kernel::System::CustomerUser->new(%Param);\n    $Self->{StateObject}        = Kernel::System::State->new(%Param);\n    $Self->{SystemAddress}      = Kernel::System::SystemAddress->new(%Param);\n    $Self->{QueueObject}        = Kernel::System::Queue->new(%Param);\n    $Self->{UploadCacheObject}  = Kernel::System::Web::UploadCache->new(%Param);\n    $Self->{DynamicFieldObject} = Kernel::System::DynamicField->new(%Param);\n    $Self->{BackendObject}      = Kernel::System::DynamicField::Backend->new(%Param);\n\n    # get form id\n    $Self->{FormID} = $Self->{ParamObject}->GetParam( Param => 'FormID' );\n\n    # create form id\n    if ( !$Self->{FormID} ) {\n        $Self->{FormID} = $Self->{UploadCacheObject}->FormIDCreate();\n    }\n\n    $Self->{Config} = $Self->{ConfigObject}->Get(\"Ticket::Frontend::$Self->{Action}\");\n\n    # get the dynamic fields for this screen\n    $Self->{DynamicField} = $Self->{DynamicFieldObject}->DynamicFieldListGet(\n        Valid       => 1,\n        ObjectType  => [ 'Ticket', 'Article' ],\n        FieldFilter => $Self->{Config}->{DynamicField} || {},\n    );\n\n    return $Self;\n}\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    # get params\n    my %GetParam;\n    for my $Key (qw( Subject Body PriorityID TypeID ServiceID SLAID Expand Dest)) {\n        $GetParam{$Key} = $Self->{ParamObject}->GetParam( Param => $Key );\n    }\n\n    # ACL compatibility translation\n    my %ACLCompatGetParam;\n    $ACLCompatGetParam{OwnerID} = $GetParam{NewUserID};\n\n    # get Dynamic fields from ParamObject\n    my %DynamicFieldValues;\n\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        # extract the dynamic field value form the web request\n        $DynamicFieldValues{ $DynamicFieldConfig->{Name} } =\n            $Self->{BackendObject}->EditFieldValueGet(\n            DynamicFieldConfig => $DynamicFieldConfig,\n            ParamObject        => $Self->{ParamObject},\n            LayoutObject       => $Self->{LayoutObject},\n            );\n    }\n\n    # convert dynamic field values into a structure for ACLs\n    my %DynamicFieldACLParameters;\n    DYNAMICFIELD:\n    for my $DynamicField ( sort keys %DynamicFieldValues ) {\n        next DYNAMICFIELD if !$DynamicField;\n        next DYNAMICFIELD if !$DynamicFieldValues{$DynamicField};\n\n        $DynamicFieldACLParameters{ 'DynamicField_' . $DynamicField }\n            = $DynamicFieldValues{$DynamicField};\n    }\n    $GetParam{DynamicField} = \\%DynamicFieldACLParameters;\n\n    if ( !$Self->{Subaction} ) {\n\n        #Get default Queue ID if none is set\n        my $QueueDefaultID;\n        if ( !$GetParam{Dest} && !$Param{ToSelected} ) {\n            my $QueueDefault = $Self->{Config}->{'QueueDefault'} || '';\n            if ($QueueDefault) {\n                $QueueDefaultID = $Self->{QueueObject}->QueueLookup( Queue => $QueueDefault );\n                if ($QueueDefaultID) {\n                    $Param{ToSelected} = $QueueDefaultID . '||' . $QueueDefault;\n                }\n            }\n\n            # warn if there is no (valid) default queue and the customer can't select one\n            elsif ( !$Self->{Config}->{'Queue'} ) {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => 'Check SysConfig setting for ' . $Self->{Action} . '::QueueDefault.',\n                    Comment => 'Please contact your administrator',\n                );\n                return;\n            }\n        }\n\n        # create html strings for all dynamic fields\n        my %DynamicFieldHTML;\n\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            my $PossibleValuesFilter;\n\n            # check if field has PossibleValues property in its configuration\n            if ( IsHashRefWithData( $DynamicFieldConfig->{Config}->{PossibleValues} ) ) {\n\n                # convert possible values key => value to key => key for ACLs usign a Hash slice\n                my %AclData = %{ $DynamicFieldConfig->{Config}->{PossibleValues} };\n                @AclData{ keys %AclData } = keys %AclData;\n\n                # set possible values filter from ACLs\n                my $ACL = $Self->{TicketObject}->TicketAcl(\n                    %GetParam,\n                    Action         => $Self->{Action},\n                    TicketID       => $Self->{TicketID},\n                    ReturnType     => 'Ticket',\n                    ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data           => \\%AclData,\n                    CustomerUserID => $Self->{UserID},\n                );\n                if ($ACL) {\n                    my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                    # convert Filer key => key back to key => value using map\n                    %{$PossibleValuesFilter}\n                        = map { $_ => $DynamicFieldConfig->{Config}->{PossibleValues}->{$_} }\n                        keys %Filter;\n                }\n            }\n\n            # get field html\n            $DynamicFieldHTML{ $DynamicFieldConfig->{Name} } =\n                $Self->{BackendObject}->EditFieldRender(\n                DynamicFieldConfig   => $DynamicFieldConfig,\n                PossibleValuesFilter => $PossibleValuesFilter,\n                Mandatory =>\n                    $Self->{Config}->{DynamicField}->{ $DynamicFieldConfig->{Name} } == 2,\n                LayoutObject    => $Self->{LayoutObject},\n                ParamObject     => $Self->{ParamObject},\n                AJAXUpdate      => 1,\n                UpdatableFields => $Self->_GetFieldsToUpdate(),\n                );\n        }\n\n        # print form ...\n        my $Output .= $Self->{LayoutObject}->CustomerHeader();\n        $Output    .= $Self->{LayoutObject}->CustomerNavigationBar();\n        $Output    .= $Self->_MaskNew(\n            %GetParam,\n            QueueID          => $QueueDefaultID,\n            ToSelected       => $Param{ToSelected},\n            DynamicFieldHTML => \\%DynamicFieldHTML,\n        );\n        $Output .= $Self->{LayoutObject}->CustomerFooter();\n        return $Output;\n    }\n    elsif ( $Self->{Subaction} eq 'StoreNew' ) {\n        my $NextScreen = $Self->{Config}->{NextScreenAfterNewTicket};\n        my %Error;\n\n        # get destination queue\n        my $Dest = $Self->{ParamObject}->GetParam( Param => 'Dest' ) || '';\n        my ( $NewQueueID, $To ) = split( /\\|\\|/, $Dest );\n        if ( !$To ) {\n            $NewQueueID = $Self->{ParamObject}->GetParam( Param => 'NewQueueID' ) || '';\n            $To = 'System';\n        }\n\n        # fallback, if no destination is given\n        if ( !$NewQueueID ) {\n            my $Queue\n                = $Self->{ParamObject}->GetParam( Param => 'Queue' )\n                || $Self->{Config}->{'QueueDefault'}\n                || '';\n            if ($Queue) {\n                my $QueueID = $Self->{QueueObject}->QueueLookup( Queue => $Queue );\n                $NewQueueID = $QueueID;\n                $To         = $Queue;\n            }\n        }\n\n        # use default if ticket type is not available in screen but activated on system\n        if ( $Self->{ConfigObject}->Get('Ticket::Type') && !$Self->{Config}->{'TicketType'} ) {\n            my %TypeList = reverse $Self->{TicketObject}->TicketTypeList(\n                %Param,\n                Action         => $Self->{Action},\n                CustomerUserID => $Self->{UserID},\n            );\n            $GetParam{TypeID} = $TypeList{ $Self->{Config}->{'TicketTypeDefault'} };\n            if ( !$GetParam{TypeID} ) {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => 'Check SysConfig setting for '\n                        . $Self->{Action}\n                        . '::TicketTypeDefault.',\n                    Comment => 'Please contact your administrator',\n                );\n                return;\n            }\n        }\n\n        # If is an action about attachments\n        my $IsUpload = 0;\n\n        # attachment delete\n        for my $Count ( 1 .. 32 ) {\n            my $Delete = $Self->{ParamObject}->GetParam( Param => \"AttachmentDelete$Count\" );\n            next if !$Delete;\n            $Error{AttachmentDelete} = 1;\n            $Self->{UploadCacheObject}->FormIDRemoveFile(\n                FormID => $Self->{FormID},\n                FileID => $Count,\n            );\n            $IsUpload = 1;\n        }\n\n        # attachment upload\n        if ( $Self->{ParamObject}->GetParam( Param => 'AttachmentUpload' ) ) {\n            $IsUpload = 1;\n            $Error{AttachmentUpload} = 1;\n            my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n                Param  => 'file_upload',\n                Source => 'string',\n            );\n            $Self->{UploadCacheObject}->FormIDAddFile(\n                FormID => $Self->{FormID},\n                %UploadStuff,\n            );\n        }\n\n        # get all attachments meta data\n        my @Attachments = $Self->{UploadCacheObject}->FormIDGetAllFilesMeta(\n            FormID => $Self->{FormID},\n        );\n\n        # create html strings for all dynamic fields\n        my %DynamicFieldHTML;\n\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            my $PossibleValuesFilter;\n\n            # check if field has PossibleValues property in its configuration\n            if ( IsHashRefWithData( $DynamicFieldConfig->{Config}->{PossibleValues} ) ) {\n\n                # convert possible values key => value to key => key for ACLs usign a Hash slice\n                my %AclData = %{ $DynamicFieldConfig->{Config}->{PossibleValues} };\n                @AclData{ keys %AclData } = keys %AclData;\n\n                # set possible values filter from ACLs\n                my $ACL = $Self->{TicketObject}->TicketAcl(\n                    %GetParam,\n                    Action         => $Self->{Action},\n                    TicketID       => $Self->{TicketID},\n                    ReturnType     => 'Ticket',\n                    ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data           => \\%AclData,\n                    CustomerUserID => $Self->{UserID},\n                );\n                if ($ACL) {\n                    my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                    # convert Filer key => key back to key => value using map\n                    %{$PossibleValuesFilter}\n                        = map { $_ => $DynamicFieldConfig->{Config}->{PossibleValues}->{$_} }\n                        keys %Filter;\n                }\n            }\n\n            my $ValidationResult;\n\n            # do not validate on attachment upload or GetParam Expand\n            if ( !$IsUpload && !$GetParam{Expand} ) {\n\n                $ValidationResult = $Self->{BackendObject}->EditFieldValueValidate(\n                    DynamicFieldConfig   => $DynamicFieldConfig,\n                    PossibleValuesFilter => $PossibleValuesFilter,\n                    ParamObject          => $Self->{ParamObject},\n                    Mandatory =>\n                        $Self->{Config}->{DynamicField}->{ $DynamicFieldConfig->{Name} } == 2,\n                );\n\n                if ( !IsHashRefWithData($ValidationResult) ) {\n                    my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n                    $Output .= $Self->{LayoutObject}->CustomerError(\n                        Message =>\n                            \"Could not perform validation on field $DynamicFieldConfig->{Label}!\",\n                        Comment => 'Please contact your administrator',\n                    );\n                    $Output .= $Self->{LayoutObject}->CustomerFooter();\n                    return $Output;\n                }\n\n                # propagate validation error to the Error variable to be detected by the frontend\n                if ( $ValidationResult->{ServerError} ) {\n                    $Error{ $DynamicFieldConfig->{Name} } = ' ServerError';\n                }\n            }\n\n            # get field html\n            $DynamicFieldHTML{ $DynamicFieldConfig->{Name} } =\n                $Self->{BackendObject}->EditFieldRender(\n                DynamicFieldConfig   => $DynamicFieldConfig,\n                PossibleValuesFilter => $PossibleValuesFilter,\n                Mandatory =>\n                    $Self->{Config}->{DynamicField}->{ $DynamicFieldConfig->{Name} } == 2,\n                ServerError  => $ValidationResult->{ServerError}  || '',\n                ErrorMessage => $ValidationResult->{ErrorMessage} || '',\n                LayoutObject => $Self->{LayoutObject},\n                ParamObject  => $Self->{ParamObject},\n                AJAXUpdate   => 1,\n                UpdatableFields => $Self->_GetFieldsToUpdate(),\n                );\n        }\n\n        # rewrap body if no rich text is used\n        if ( $GetParam{Body} && !$Self->{LayoutObject}->{BrowserRichText} ) {\n            $GetParam{Body} = $Self->{LayoutObject}->WrapPlainText(\n                MaxCharacters => $Self->{ConfigObject}->Get('Ticket::Frontend::TextAreaNote'),\n                PlainText     => $GetParam{Body},\n            );\n        }\n\n        # check queue\n        if ( !$NewQueueID && !$IsUpload && !$GetParam{Expand} ) {\n            $Error{QueueInvalid} = 'ServerError';\n        }\n\n        # prevent tamper with (Queue/Dest), see bug#9408\n        if ( $NewQueueID && !$IsUpload ) {\n\n            # get the original list of queues to display\n            my $Tos = $Self->_GetTos(\n                %GetParam,\n                %ACLCompatGetParam,\n                QueueID => $NewQueueID,\n            );\n\n            # check if current selected QueueID exists in the list of queues,\\\n            # otherwise rise an error\n            if ( !$Tos->{$NewQueueID} ) {\n                $Error{QueueInvalid} = 'ServerError';\n            }\n\n            # set the correct queue name in $To if it was altered\n            if ( $To ne $Tos->{$NewQueueID} ) {\n                $To = $Tos->{$NewQueueID}\n            }\n        }\n\n        # check subject\n        if ( !$GetParam{Subject} && !$IsUpload ) {\n            $Error{SubjectInvalid} = 'ServerError';\n        }\n\n        # check body\n        if ( !$GetParam{Body} && !$IsUpload ) {\n            $Error{BodyInvalid} = 'ServerError';\n        }\n        if ( $GetParam{Expand} ) {\n            %Error = ();\n            $Error{Expand} = 1;\n        }\n\n        # check type\n        if (\n            $Self->{ConfigObject}->Get('Ticket::Type')\n            && !$GetParam{TypeID}\n            && !$IsUpload\n            && !$GetParam{Expand}\n            )\n        {\n            $Error{TypeIDInvalid} = 'ServerError';\n        }\n\n        if (%Error) {\n\n            # html output\n            my $Output .= $Self->{LayoutObject}->CustomerHeader();\n            $Output    .= $Self->{LayoutObject}->CustomerNavigationBar();\n            $Output    .= $Self->_MaskNew(\n                Attachments => \\@Attachments,\n                %GetParam,\n                ToSelected       => $Dest,\n                QueueID          => $NewQueueID,\n                DynamicFieldHTML => \\%DynamicFieldHTML,\n                Errors           => \\%Error,\n            );\n            $Output .= $Self->{LayoutObject}->CustomerFooter();\n            return $Output;\n        }\n\n        # if customer is not allowed to set priority, set it to default\n        if ( !$Self->{Config}->{Priority} ) {\n            $GetParam{PriorityID} = '';\n            $GetParam{Priority}   = $Self->{Config}->{PriorityDefault};\n        }\n\n        # create new ticket, do db insert\n        my $TicketID = $Self->{TicketObject}->TicketCreate(\n            QueueID      => $NewQueueID,\n            TypeID       => $GetParam{TypeID},\n            ServiceID    => $GetParam{ServiceID},\n            SLAID        => $GetParam{SLAID},\n            Title        => $GetParam{Subject},\n            PriorityID   => $GetParam{PriorityID},\n            Priority     => $GetParam{Priority},\n            Lock         => 'unlock',\n            State        => $Self->{Config}->{StateDefault},\n            CustomerID   => $Self->{UserCustomerID},\n            CustomerUser => $Self->{UserLogin},\n            OwnerID      => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            UserID       => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n        );\n\n        # set ticket dynamic fields\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Ticket';\n\n            # set the value\n            my $Success = $Self->{BackendObject}->ValueSet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $TicketID,\n                Value              => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                UserID             => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        my $MimeType = 'text/plain';\n        if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n            $MimeType = 'text/html';\n\n            # verify html document\n            $GetParam{Body} = $Self->{LayoutObject}->RichTextDocumentComplete(\n                String => $GetParam{Body},\n            );\n        }\n\n        # create article\n        my $FullName = $Self->{CustomerUserObject}->CustomerName(\n            UserLogin => $Self->{UserLogin},\n        );\n        my $From      = \"\\\"$FullName\\\" <$Self->{UserEmail}>\";\n        my $ArticleID = $Self->{TicketObject}->ArticleCreate(\n            TicketID         => $TicketID,\n            ArticleType      => $Self->{Config}->{ArticleType},\n            SenderType       => $Self->{Config}->{SenderType},\n            From             => $From,\n            To               => $To,\n            Subject          => $GetParam{Subject},\n            Body             => $GetParam{Body},\n            MimeType         => $MimeType,\n            Charset          => $Self->{LayoutObject}->{UserCharset},\n            UserID           => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            HistoryType      => $Self->{Config}->{HistoryType},\n            HistoryComment   => $Self->{Config}->{HistoryComment} || '%%',\n            AutoResponseType => 'auto reply',\n            OrigHeader       => {\n                From    => $From,\n                To      => $Self->{UserLogin},\n                Subject => $GetParam{Subject},\n                Body    => $Self->{LayoutObject}->RichText2Ascii( String => $GetParam{Body} ),\n            },\n            Queue => $Self->{QueueObject}->QueueLookup( QueueID => $NewQueueID ),\n        );\n        if ( !$ArticleID ) {\n            my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n            $Output .= $Self->{LayoutObject}->CustomerError();\n            $Output .= $Self->{LayoutObject}->CustomerFooter();\n            return $Output;\n        }\n\n        # set article dynamic fields\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Article';\n\n            # set the value\n            my $Success = $Self->{BackendObject}->ValueSet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $ArticleID,\n                Value              => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                UserID             => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # get pre loaded attachment\n        my @AttachmentData = $Self->{UploadCacheObject}->FormIDGetAllFilesData(\n            FormID => $Self->{FormID},\n        );\n\n        # get submitted attachment\n        my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n            Param  => 'file_upload',\n            Source => 'String',\n        );\n        if (%UploadStuff) {\n            push @AttachmentData, \\%UploadStuff;\n        }\n\n        # write attachments\n        for my $Attachment (@AttachmentData) {\n\n            # skip, deleted not used inline images\n            my $ContentID = $Attachment->{ContentID};\n            if ($ContentID) {\n                my $ContentIDHTMLQuote = $Self->{LayoutObject}->Ascii2Html(\n                    Text => $ContentID,\n                );\n\n                # workaround for link encode of rich text editor, see bug#5053\n                my $ContentIDLinkEncode = $Self->{LayoutObject}->LinkEncode($ContentID);\n                $GetParam{Body} =~ s/(ContentID=)$ContentIDLinkEncode/$1$ContentID/g;\n\n                # ignore attachment if not linked in body\n                next if $GetParam{Body} !~ /(\\Q$ContentIDHTMLQuote\\E|\\Q$ContentID\\E)/i;\n            }\n\n            # write existing file to backend\n            $Self->{TicketObject}->ArticleWriteAttachment(\n                %{$Attachment},\n                ArticleID => $ArticleID,\n                UserID    => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # remove pre submitted attachments\n        $Self->{UploadCacheObject}->FormIDRemove( FormID => $Self->{FormID} );\n\n        # redirect\n        return $Self->{LayoutObject}->Redirect(\n            OP => \"Action=$NextScreen;TicketID=$TicketID\",\n        );\n    }\n\n    elsif ( $Self->{Subaction} eq 'AJAXUpdate' ) {\n\n        my $Dest         = $Self->{ParamObject}->GetParam( Param => 'Dest' ) || '';\n        my $CustomerUser = $Self->{UserID};\n        my $QueueID      = '';\n        if ( $Dest =~ /^(\\d{1,100})\\|\\|.+?$/ ) {\n            $QueueID = $1;\n        }\n\n        # get list type\n        my $TreeView = 0;\n        if ( $Self->{ConfigObject}->Get('Ticket::Frontend::ListType') eq 'tree' ) {\n            $TreeView = 1;\n        }\n\n        my $Tos = $Self->_GetTos(\n            %GetParam,\n            %ACLCompatGetParam,\n            QueueID => $QueueID,\n        );\n\n        my $NewTos;\n\n        if ($Tos) {\n            for my $KeyTo ( sort keys %{$Tos} ) {\n                $NewTos->{\"$KeyTo||$Tos->{$KeyTo}\"} = $Tos->{$KeyTo};\n            }\n        }\n        my $Priorities = $Self->_GetPriorities(\n            %GetParam,\n            %ACLCompatGetParam,\n            CustomerUserID => $CustomerUser || '',\n            QueueID        => $QueueID      || 1,\n        );\n        my $Services = $Self->_GetServices(\n            %GetParam,\n            %ACLCompatGetParam,\n            CustomerUserID => $CustomerUser || '',\n            QueueID        => $QueueID      || 1,\n        );\n        my $SLAs = $Self->_GetSLAs(\n            %GetParam,\n            %ACLCompatGetParam,\n            CustomerUserID => $CustomerUser || '',\n            QueueID        => $QueueID      || 1,\n            Services       => $Services,\n        );\n\n        # update Dynamic Fields Possible Values via AJAX\n        my @DynamicFieldAJAX;\n\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD\n                if !$Self->{BackendObject}->IsAJAXUpdateable(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                );\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Ticket';\n\n            my $PossibleValues = $Self->{BackendObject}->AJAXPossibleValuesGet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n            );\n\n            # convert possible values key => value to key => key for ACLs usign a Hash slice\n            my %AclData = %{$PossibleValues};\n            @AclData{ keys %AclData } = keys %AclData;\n\n            # set possible values filter from ACLs\n            my $ACL = $Self->{TicketObject}->TicketAcl(\n                %GetParam,\n                %ACLCompatGetParam,\n                Action         => $Self->{Action},\n                QueueID        => $QueueID || 0,\n                ReturnType     => 'Ticket',\n                ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                Data           => \\%AclData,\n                CustomerUserID => $Self->{UserID},\n            );\n            if ($ACL) {\n                my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                # convert Filer key => key back to key => value using map\n                %{$PossibleValues} = map { $_ => $PossibleValues->{$_} } keys %Filter;\n            }\n\n            # add dynamic field to the list of fields to update\n            push(\n                @DynamicFieldAJAX,\n                {\n                    Name        => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data        => $PossibleValues,\n                    SelectedID  => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                    Translation => $DynamicFieldConfig->{Config}->{TranslatableValues} || 0,\n                    Max         => 100,\n                }\n            );\n        }\n\n        my $JSON = $Self->{LayoutObject}->BuildSelectionJSON(\n            [\n                {\n                    Name         => 'Dest',\n                    Data         => $NewTos,\n                    SelectedID   => $Dest,\n                    Translation  => 0,\n                    PossibleNone => 0,\n                    TreeView     => $TreeView,\n                    Max          => 100,\n                },\n                {\n                    Name        => 'PriorityID',\n                    Data        => $Priorities,\n                    SelectedID  => $GetParam{PriorityID},\n                    Translation => 1,\n                    Max         => 100,\n                },\n                {\n                    Name         => 'ServiceID',\n                    Data         => $Services,\n                    SelectedID   => $GetParam{ServiceID},\n                    PossibleNone => 1,\n                    Translation  => 0,\n                    TreeView     => $TreeView,\n                    Max          => 100,\n                },\n                {\n                    Name         => 'SLAID',\n                    Data         => $SLAs,\n                    SelectedID   => $GetParam{SLAID},\n                    PossibleNone => 1,\n                    Translation  => 0,\n                    Max          => 100,\n                },\n                @DynamicFieldAJAX,\n            ],\n        );\n        return $Self->{LayoutObject}->Attachment(\n            ContentType => 'application/json; charset=' . $Self->{LayoutObject}->{Charset},\n            Content     => $JSON,\n            Type        => 'inline',\n            NoCache     => 1,\n        );\n    }\n    else {\n        return $Self->{LayoutObject}->ErrorScreen(\n            Message => 'No Subaction!!',\n            Comment => 'Please contact your administrator',\n        );\n    }\n\n}\n\nsub _GetPriorities {\n    my ( $Self, %Param ) = @_;\n\n    # get priority\n    my %Priorities;\n    if ( $Param{QueueID} || $Param{TicketID} ) {\n        %Priorities = $Self->{TicketObject}->TicketPriorityList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n    }\n    return \\%Priorities;\n}\n\nsub _GetTypes {\n    my ( $Self, %Param ) = @_;\n\n    # get type\n    my %Type;\n    if ( $Param{QueueID} || $Param{TicketID} ) {\n        %Type = $Self->{TicketObject}->TicketTypeList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n    }\n    return \\%Type;\n}\n\nsub _GetServices {\n    my ( $Self, %Param ) = @_;\n\n    # get service\n    my %Service;\n\n    # check needed\n    return \\%Service if !$Param{QueueID} && !$Param{TicketID};\n\n    # get options for default services for unknown customers\n    my $DefaultServiceUnknownCustomer\n        = $Self->{ConfigObject}->Get('Ticket::Service::Default::UnknownCustomer');\n\n    # get service list\n    if ( $Param{CustomerUserID} || $DefaultServiceUnknownCustomer ) {\n        %Service = $Self->{TicketObject}->TicketServiceList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n    }\n    return \\%Service;\n}\n\nsub _GetSLAs {\n    my ( $Self, %Param ) = @_;\n\n    # get sla\n    my %SLA;\n    if ( $Param{ServiceID} && $Param{Services} && %{ $Param{Services} } ) {\n        if ( $Param{Services}->{ $Param{ServiceID} } ) {\n            %SLA = $Self->{TicketObject}->TicketSLAList(\n                %Param,\n                Action         => $Self->{Action},\n                CustomerUserID => $Self->{UserID},\n            );\n        }\n    }\n    return \\%SLA;\n}\n\nsub _GetTos {\n    my ( $Self, %Param ) = @_;\n\n    # check own selection\n    my %NewTos = ( '', '-' );\n    my $Module = $Self->{ConfigObject}->Get('CustomerPanel::NewTicketQueueSelectionModule')\n        || 'Kernel::Output::HTML::CustomerNewTicketQueueSelectionGeneric';\n    if ( $Self->{MainObject}->Require($Module) ) {\n        my $Object = $Module->new( %{$Self}, Debug => $Self->{Debug}, );\n\n        # log loaded module\n        if ( $Self->{Debug} > 1 ) {\n            $Self->{LogObject}->Log(\n                Priority => 'debug',\n                Message  => \"Module: $Module loaded!\",\n            );\n        }\n        %NewTos = ( $Object->Run( Env => $Self, ACLParams => \\%Param ), ( '', => '-' ) );\n    }\n    else {\n        return $Self->{LayoutObject}->FatalDie(\n            Message => \"Could not load $Module!\",\n        );\n    }\n\n    return \\%NewTos;\n}\n\nsub _MaskNew {\n    my ( $Self, %Param ) = @_;\n\n    $Param{FormID} = $Self->{FormID};\n    $Param{Errors}->{QueueInvalid} = $Param{Errors}->{QueueInvalid} || '';\n\n    # get list type\n    my $TreeView = 0;\n    if ( $Self->{ConfigObject}->Get('Ticket::Frontend::ListType') eq 'tree' ) {\n        $TreeView = 1;\n    }\n\n    if ( $Self->{Config}->{Queue} ) {\n\n        # check own selection\n        my %NewTos = ( '', '-' );\n        my $Module = $Self->{ConfigObject}->Get('CustomerPanel::NewTicketQueueSelectionModule')\n            || 'Kernel::Output::HTML::CustomerNewTicketQueueSelectionGeneric';\n        if ( $Self->{MainObject}->Require($Module) ) {\n            my $Object = $Module->new( %{$Self}, Debug => $Self->{Debug}, );\n\n            # log loaded module\n            if ( $Self->{Debug} > 1 ) {\n                $Self->{LogObject}->Log(\n                    Priority => 'debug',\n                    Message  => \"Module: $Module loaded!\",\n                );\n            }\n            %NewTos = ( $Object->Run( Env => $Self, ACLParams => \\%Param ), ( '', => '-' ) );\n        }\n        else {\n            return $Self->{LayoutObject}->FatalError();\n        }\n\n        # build to string\n        if (%NewTos) {\n            for ( sort keys %NewTos ) {\n                $NewTos{\"$_||$NewTos{$_}\"} = $NewTos{$_};\n                delete $NewTos{$_};\n            }\n        }\n        $Param{ToStrg} = $Self->{LayoutObject}->AgentQueueListOption(\n            Data       => \\%NewTos,\n            Multiple   => 0,\n            Size       => 0,\n            Name       => 'Dest',\n            Class      => \"Validate_Required \" . $Param{Errors}->{QueueInvalid},\n            SelectedID => $Param{ToSelected} || $Param{QueueID},\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'Queue',\n            Data => {\n                %Param,\n                QueueInvalid => $Param{Errors}->{QueueInvalid},\n            },\n        );\n\n    }\n\n    # get priority\n    if ( $Self->{Config}->{Priority} ) {\n        my %Priorities = $Self->{TicketObject}->TicketPriorityList(\n            %Param,\n            CustomerUserID => $Self->{UserID},\n            Action         => $Self->{Action},\n        );\n\n        # build priority string\n        my %PrioritySelected;\n        if ( $Param{PriorityID} ) {\n            $PrioritySelected{SelectedID} = $Param{PriorityID};\n        }\n        else {\n            $PrioritySelected{SelectedValue} = $Self->{Config}->{PriorityDefault} || '3 normal';\n        }\n        $Param{PriorityStrg} = $Self->{LayoutObject}->BuildSelection(\n            Data => \\%Priorities,\n            Name => 'PriorityID',\n            %PrioritySelected,\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'Priority',\n            Data => \\%Param,\n        );\n    }\n\n    # types\n    if ( $Self->{ConfigObject}->Get('Ticket::Type') && $Self->{Config}->{'TicketType'} ) {\n        my %Type = $Self->{TicketObject}->TicketTypeList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n\n        if ( $Self->{Config}->{'TicketTypeDefault'} && !$Param{TypeID} ) {\n            my %ReverseType = reverse %Type;\n            $Param{TypeID} = $ReverseType{ $Self->{Config}->{'TicketTypeDefault'} };\n        }\n\n        $Param{TypeStrg} = $Self->{LayoutObject}->BuildSelection(\n            Data         => \\%Type,\n            Name         => 'TypeID',\n            SelectedID   => $Param{TypeID},\n            PossibleNone => 1,\n            Sort         => 'AlphanumericValue',\n            Translation  => 0,\n            Class        => \"Validate_Required \" . ( $Param{Errors}->{TypeIDInvalid} || '' ),\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'TicketType',\n            Data => {\n                %Param,\n                TypeIDInvalid => $Param{Errors}->{TypeIDInvalid},\n                }\n        );\n    }\n\n    # services\n    if ( $Self->{ConfigObject}->Get('Ticket::Service') && $Self->{Config}->{Service} ) {\n        my %Services;\n        if ( $Param{QueueID} || $Param{TicketID} ) {\n            %Services = $Self->{TicketObject}->TicketServiceList(\n                %Param,\n                Action         => $Self->{Action},\n                CustomerUserID => $Self->{UserID},\n            );\n        }\n        $Param{ServiceStrg} = $Self->{LayoutObject}->BuildSelection(\n            Data         => \\%Services,\n            Name         => 'ServiceID',\n            SelectedID   => $Param{ServiceID},\n            PossibleNone => 1,\n            TreeView     => $TreeView,\n            Sort         => 'TreeView',\n            Translation  => 0,\n            Max          => 200,\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'TicketService',\n            Data => \\%Param,\n        );\n\n        # reset previous ServiceID to reset SLA-List if no service is selected\n        if ( !$Services{ $Param{ServiceID} || '' } ) {\n            $Param{ServiceID} = '';\n        }\n        my %SLA;\n        if ( $Self->{Config}->{SLA} ) {\n            if ( $Param{ServiceID} ) {\n                %SLA = $Self->{TicketObject}->TicketSLAList(\n                    %Param,\n                    Action         => $Self->{Action},\n                    CustomerUserID => $Self->{UserID},\n                );\n            }\n            $Param{SLAStrg} = $Self->{LayoutObject}->BuildSelection(\n                Data         => \\%SLA,\n                Name         => 'SLAID',\n                SelectedID   => $Param{SLAID},\n                PossibleNone => 1,\n                Sort         => 'AlphanumericValue',\n                Translation  => 0,\n                Max          => 200,\n            );\n            $Self->{LayoutObject}->Block(\n                Name => 'TicketSLA',\n                Data => \\%Param,\n            );\n        }\n    }\n\n    # prepare errors\n    if ( $Param{Errors} ) {\n        for ( sort keys %{ $Param{Errors} } ) {\n            $Param{$_} = $Param{Errors}->{$_};\n        }\n    }\n\n    # Dynamic fields\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        # skip fields that HTML could not be retrieved\n        next DYNAMICFIELD if !IsHashRefWithData(\n            $Param{DynamicFieldHTML}->{ $DynamicFieldConfig->{Name} }\n        );\n\n        # get the html strings form $Param\n        my $DynamicFieldHTML = $Param{DynamicFieldHTML}->{ $DynamicFieldConfig->{Name} };\n\n        $Self->{LayoutObject}->Block(\n            Name => 'DynamicField',\n            Data => {\n                Name  => $DynamicFieldConfig->{Name},\n                Label => $DynamicFieldHTML->{Label},\n                Field => $DynamicFieldHTML->{Field},\n            },\n        );\n\n        # example of dynamic fields order customization\n        $Self->{LayoutObject}->Block(\n            Name => 'DynamicField_' . $DynamicFieldConfig->{Name},\n            Data => {\n                Name  => $DynamicFieldConfig->{Name},\n                Label => $DynamicFieldHTML->{Label},\n                Field => $DynamicFieldHTML->{Field},\n            },\n        );\n    }\n\n    # show attachments\n    for my $Attachment ( @{ $Param{Attachments} } ) {\n        next if $Attachment->{ContentID} && $Self->{LayoutObject}->{BrowserRichText};\n        $Self->{LayoutObject}->Block(\n            Name => 'Attachment',\n            Data => $Attachment,\n        );\n    }\n\n    # add rich text editor\n    if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n\n        # use height/width defined for this screen\n        $Param{RichTextHeight} = $Self->{Config}->{RichTextHeight} || 0;\n        $Param{RichTextWidth}  = $Self->{Config}->{RichTextWidth}  || 0;\n\n        $Self->{LayoutObject}->Block(\n            Name => 'RichText',\n            Data => \\%Param,\n        );\n    }\n\n    # get output back\n    return $Self->{LayoutObject}->Output(\n        TemplateFile => 'CustomerTicketMessage',\n        Data         => \\%Param,\n    );\n}\n\nsub _GetFieldsToUpdate {\n    my ( $Self, %Param ) = @_;\n\n    my @UpdatableFields;\n\n    # set the fields that can be updatable via AJAXUpdate\n    if ( !$Param{OnlyDynamicFields} ) {\n        @UpdatableFields\n            = qw( Dest ServiceID SLAID PriorityID );\n    }\n\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        my $Updateable = $Self->{BackendObject}->IsAJAXUpdateable(\n            DynamicFieldConfig => $DynamicFieldConfig,\n        );\n\n        next DYNAMICFIELD if !$Updateable;\n\n        push @UpdatableFields, 'DynamicField_' . $DynamicFieldConfig->{Name};\n    }\n\n    return \\@UpdatableFields;\n}\n\n1;\n", "# --\n# Kernel/Modules/CustomerTicketProcess.pm - to create process tickets\n# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::Modules::CustomerTicketProcess;\n\nuse strict;\nuse warnings;\n\nuse Kernel::System::ProcessManagement::Activity;\nuse Kernel::System::ProcessManagement::ActivityDialog;\nuse Kernel::System::ProcessManagement::TransitionAction;\nuse Kernel::System::ProcessManagement::Transition;\nuse Kernel::System::ProcessManagement::Process;\nuse Kernel::System::DynamicField;\nuse Kernel::System::DynamicField::Backend;\nuse Kernel::System::Web::UploadCache;\nuse Kernel::System::CustomerUser;\nuse Kernel::System::VariableCheck qw(:all);\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    # allocate new hash for object\n    my $Self = {%Param};\n    bless $Self, $Type;\n\n    # check needed Objects\n    for my $Needed (\n        qw(\n        ParamObject DBObject TicketObject LayoutObject LogObject ConfigObject TimeObject MainObject\n        EncodeObject\n        )\n        )\n    {\n        if ( !$Self->{$Needed} ) {\n            $Self->{LayoutObject}->CustomerFatalError( Message => \"Got no $Needed!\" );\n        }\n    }\n\n    $Self->{UploadCacheObject}    = Kernel::System::Web::UploadCache->new(%Param);\n    $Self->{UserObject}           = Kernel::System::User->new(%Param);\n    $Self->{ActivityObject}       = Kernel::System::ProcessManagement::Activity->new(%Param);\n    $Self->{ActivityDialogObject} = Kernel::System::ProcessManagement::ActivityDialog->new(%Param);\n    $Self->{TransitionActionObject}\n        = Kernel::System::ProcessManagement::TransitionAction->new(%Param);\n    $Self->{TransitionObject}   = Kernel::System::ProcessManagement::Transition->new(%Param);\n    $Self->{DynamicFieldObject} = Kernel::System::DynamicField->new(%Param);\n    $Self->{BackendObject}      = Kernel::System::DynamicField::Backend->new(%Param);\n    $Self->{ProcessObject}      = Kernel::System::ProcessManagement::Process->new(\n        ActivityObject         => $Self->{ActivityObject},\n        ActivityDialogObject   => $Self->{ActivityDialogObject},\n        TransitionObject       => $Self->{TransitionObject},\n        TransitionActionObject => $Self->{TransitionActionObject},\n        %Param,\n    );\n    $Self->{CustomerUserObject} = Kernel::System::CustomerUser->new(%Param);\n    $Self->{DynamicField}       = $Self->{DynamicFieldObject}->DynamicFieldListGet(\n        Valid      => 1,\n        ObjectType => 'Ticket',\n    );\n\n    # global config hash for id dissolution\n    $Self->{NameToID} = {\n        Article => 'Article',\n    };\n\n    return $Self;\n}\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    my $TicketID = $Self->{ParamObject}->GetParam( Param => 'TicketID' );\n    my $ActivityDialogEntityID\n        = $Self->{ParamObject}->GetParam( Param => 'ActivityDialogEntityID' );\n    my $ActivityDialogHashRef;\n\n    # get all processes even those that can not be started in the Customer Interface\n    # currently there is no option to start a process from Customer Interface\n    # this list is used later (if is restricted then valid customer activity dialogs it will not be\n    # possible to access valid customer activity dialogs)\n    my $ProcessList = $Self->{ProcessObject}->ProcessList(\n        ProcessState => [ 'Active', 'FadeAway' ],\n        Interface => 'all',\n    );\n    my $ProcessEntityID = $Self->{ParamObject}->GetParam( Param => 'ProcessEntityID' );\n\n    if ( !IsHashRefWithData($ProcessList) ) {\n        return $Self->{LayoutObject}->CustomerErrorScreen(\n            Message => 'No Process configured!',\n            Comment => 'Please contact the admin.',\n        );\n    }\n\n    if ( !$TicketID ) {\n        return $Self->{LayoutObject}->CustomerErrorScreen(\n            Message => 'No TicketID given!',\n            Comment => 'Please contact the admin.',\n        );\n    }\n\n    # check if there is a configured required permission\n    # for the ActivityDialog (if there is one)\n    my $ActivityDialogPermission = 'rw';\n    if ($ActivityDialogEntityID) {\n        $ActivityDialogHashRef\n            = $Self->{ActivityDialogObject}->ActivityDialogGet(\n            ActivityDialogEntityID => $ActivityDialogEntityID,\n            Interface              => 'CustomerInterface',\n            );\n\n        if ( !IsHashRefWithData($ActivityDialogHashRef) ) {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message =>\n                    \"Couldn't get Config for ActivityDialogEntityID '$ActivityDialogEntityID'!\",\n            );\n        }\n\n        if ( $ActivityDialogHashRef->{Permission} ) {\n            $ActivityDialogPermission = $ActivityDialogHashRef->{Permission};\n        }\n    }\n\n    # check permissions\n    my $Access = $Self->{TicketObject}->TicketCustomerPermission(\n        Type     => $ActivityDialogPermission,\n        TicketID => $Self->{TicketID},\n\n        # here is safe to use $Self->{UserID}, since it will be compared vs ticket customer in\n        # ticket permission modules\n        UserID => $Self->{UserID}\n    );\n\n    # error screen, don't show ticket\n    if ( !$Access ) {\n        return $Self->{LayoutObject}->CustomerNoPermission(\n            Message    => \"You need $ActivityDialogPermission permissions!\",\n            WithHeader => 'yes',\n        );\n    }\n\n    # get ACL restrictions\n    $Self->{TicketObject}->TicketAcl(\n        Data           => '-',\n        TicketID       => $TicketID,\n        ReturnType     => 'Action',\n        ReturnSubType  => '-',\n        CustomerUserID => $Self->{UserID},\n    );\n    my %AclAction = $Self->{TicketObject}->TicketAclActionData();\n\n    # check if ACL resctictions if exist\n    if ( IsHashRefWithData( \\%AclAction ) ) {\n\n        # show error screen if ACL prohibits this action\n        if ( defined $AclAction{ $Self->{Action} } && $AclAction{ $Self->{Action} } eq '0' ) {\n            return $Self->{LayoutObject}->CustomerNoPermission( WithHeader => 'yes' );\n        }\n    }\n    if ( IsHashRefWithData($ActivityDialogHashRef) ) {\n\n        # get ACL restrictions\n        $Self->{TicketObject}->TicketAcl(\n            Data                   => '-',\n            ActivityDialogEntityID => $ActivityDialogEntityID,\n            TicketID               => $TicketID,\n            ReturnType             => 'Ticket',\n            ReturnSubType          => '-',\n            CustomerUserID         => $Self->{UserID},\n        );\n\n        my @PossibleActivityDialogs\n            = $Self->{TicketObject}->TicketAclActivityDialogData(\n            ActivityDialogs => [ $ActivityDialogEntityID, ]\n            );\n\n        # check if ACL resctictions exist\n        if (\n            !$PossibleActivityDialogs[0]\n            || $PossibleActivityDialogs[0] ne $ActivityDialogEntityID\n            )\n        {\n            return $Self->{LayoutObject}->CustomerNoPermission( WithHeader => 'yes' );\n        }\n    }\n\n    # If we have no Subaction or Subaction is 'Create' and submitted ProcessEntityID is invalid\n    # Display the ProcessList\n    if (\n        !$Self->{Subaction}\n        || ( $Self->{Subaction} eq 'DisplayActivityDialog' && !$ProcessList->{$ProcessEntityID} )\n        )\n    {\n        return $Self->{LayoutObject}->CustomerErrorScreen(\n            Message => 'Subacion is invalid!',\n            Comment => 'Please contact the admin.',\n        );\n    }\n\n    # set AJAX for proper error responses\n    my $AJAX = $Self->{Subaction} eq 'DisplayActivityDialogAJAX' ? 1 : 0;\n\n    # Get the necessary parameters\n    # collects a mixture of present values bottom to top:\n    # SysConfig DefaultValues, ActivityDialog DefaultValues, TicketValues, SubmittedValues\n    # including ActivityDialogEntityID and ProcessEntityID\n    # is used for:\n    # - Parameter checking before storing\n    # - will be used for ACL checking lateron\n    my $GetParam = $Self->_GetParam(\n        AJAX            => $AJAX,\n        ProcessEntityID => $ProcessEntityID,\n    );\n\n    # get form id\n    $Self->{FormID} = $Self->{ParamObject}->GetParam( Param => 'FormID' );\n\n    # create form id\n    if ( !$Self->{FormID} ) {\n        $Self->{FormID} = $Self->{UploadCacheObject}->FormIDCreate();\n    }\n\n    if ( $Self->{Subaction} eq 'StoreActivityDialog' && $ProcessEntityID ) {\n        $Self->{LayoutObject}->ChallengeTokenCheck();\n\n        return $Self->_StoreActivityDialog(\n            %Param,\n            ProcessEntityID => $ProcessEntityID,\n            GetParam        => $GetParam,\n\n        );\n    }\n    if ( $Self->{Subaction} eq 'DisplayActivityDialog' && $ProcessEntityID ) {\n\n        return $Self->_OutputActivityDialog(\n            %Param,\n            ProcessEntityID => $ProcessEntityID,\n            GetParam        => $GetParam,\n        );\n    }\n    if ( $Self->{Subaction} eq 'DisplayActivityDialogAJAX' && $ProcessEntityID ) {\n\n        my $ActivityDialogHTML = $Self->_OutputActivityDialog(\n            %Param,\n            AJAX            => 1,\n            ProcessEntityID => $ProcessEntityID,\n            GetParam        => $GetParam,\n        );\n        return $Self->{LayoutObject}->Attachment(\n            ContentType => 'text/html; charset=' . $Self->{LayoutObject}->{Charset},\n            Content     => $ActivityDialogHTML,\n            Type        => 'inline',\n            NoCache     => 1,\n        );\n\n    }\n    elsif ( $Self->{Subaction} eq 'AJAXUpdate' ) {\n\n        return $Self->_RenderAjax(\n            %Param,\n            ProcessEntityID => $ProcessEntityID,\n            GetParam        => $GetParam,\n        );\n    }\n    return $Self->{LayoutObject}->CustomerErrorScreen(\n        Message => 'Subacion is invalid!',\n        Comment => 'Please contact the admin.',\n    );\n}\n\nsub _RenderAjax {\n\n    # FatalError is safe because a JSON strcuture is expecting, then it will result into a\n    # communications error\n\n    my ( $Self, %Param ) = @_;\n    for my $Needed (qw(ProcessEntityID)) {\n        if ( !$Param{$Needed} ) {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => \"Got no $Needed in _RenderAjax!\"\n            );\n        }\n    }\n    my $ActivityDialogEntityID = $Param{GetParam}{ActivityDialogEntityID};\n    if ( !$ActivityDialogEntityID ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Got no ActivityDialogEntityID in _RenderAjax!\"\n        );\n    }\n    my $ActivityDialog\n        = $Self->{ActivityDialogObject}->ActivityDialogGet(\n        ActivityDialogEntityID => $ActivityDialogEntityID,\n        Interface              => 'CustomerInterface',\n        );\n    if ( !IsHashRefWithData($ActivityDialog) ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"No ActivityDialog configured for $ActivityDialogEntityID in _RenderAjax!\"\n        );\n    }\n\n    # get list type\n    my $TreeView = 0;\n    if ( $Self->{ConfigObject}->Get('Ticket::Frontend::ListType') eq 'tree' ) {\n        $TreeView = 1;\n    }\n\n    my %FieldsProcessed;\n    my @JSONCollector;\n\n    # All submitted DynamicFields\n    # used for ACL checking\n    my %DynamicFieldCheckParam = map { $_ => $Param{GetParam}{$_} }\n        grep {m{^DynamicField_}xms} ( keys %{ $Param{GetParam} } );\n\n    # Get the activity dialog's Submit Param's or Config Params\n    DIALOGFIELD:\n    for my $CurrentField ( @{ $ActivityDialog->{FieldOrder} } ) {\n\n        # Skip if we're working on a field that was already done with or without ID\n        if (\n            $Self->{NameToID}{$CurrentField}\n            && $FieldsProcessed{ $Self->{NameToID}{$CurrentField} }\n            )\n        {\n            next DIALOGFIELD;\n        }\n\n        if ( $CurrentField =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldName = $1;\n\n            my $DynamicFieldConfig\n                = ( grep { $_->{Name} eq $DynamicFieldName } @{ $Self->{DynamicField} } )[0];\n\n            next DIALOGFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DIALOGFIELD if !$Self->{BackendObject}->IsAJAXUpdateable(\n                DynamicFieldConfig => $DynamicFieldConfig,\n            );\n\n            my $PossibleValues = $Self->{BackendObject}->AJAXPossibleValuesGet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n            );\n            my %DynamicFieldCheckParam = map { $_ => $Param{GetParam}{$_} }\n                grep {m{^DynamicField_}xms} ( keys %{ $Param{GetParam} } );\n\n            # convert possible values key => value to key => key for ACLs usign a Hash slice\n            my %AclData = %{$PossibleValues};\n            @AclData{ keys %AclData } = keys %AclData;\n\n            # set possible values filter from ACLs\n            my $ACL = $Self->{TicketObject}->TicketAcl(\n                %{ $Param{GetParam} },\n                DynamicField   => \\%DynamicFieldCheckParam,\n                ReturnType     => 'Ticket',\n                ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                Data           => \\%AclData,\n                CustomerUserID => $Self->{UserID},\n            );\n\n            if ($ACL) {\n                my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                # convert Filer key => key back to key => value using map\n                %{$PossibleValues} = map { $_ => $PossibleValues->{$_} } keys %Filter;\n            }\n\n            # add dynamic field to the JSONCollector\n            push(\n                @JSONCollector,\n                {\n                    Name       => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data       => $PossibleValues,\n                    SelectedID => $Param{GetParam}{ 'DynamicField_' . $DynamicFieldConfig->{Name} },\n                    Translation => $DynamicFieldConfig->{Config}->{TranslatableValues} || 0,\n                    Max         => 100,\n                }\n            );\n        }\n\n        my $JSON = $Self->{LayoutObject}->BuildSelectionJSON( [@JSONCollector] );\n\n        return $Self->{LayoutObject}->Attachment(\n            ContentType => 'application/json; charset=' . $Self->{LayoutObject}->{Charset},\n            Content     => $JSON,\n            Type        => 'inline',\n            NoCache     => 1,\n        );\n    }\n}\n\n=item _GetParam()\n\nreturns the current data state of the submitted information\n\nThis contains the following data for the different callers:\n\n    Initial call with selected Process:\n        ProcessEntityID\n        ActivityDialogEntityID\n        DefaultValues for the configured Fields in that ActivityDialog\n        DefaultValues for the 4 required Fields Queue State Lock Priority\n\n    First Store call submitting an Activity Dialog:\n        ProcessEntityID\n        ActivityDialogEntityID\n        SubmittedValues for the current ActivityDialog\n        ActivityDialog DefaultValues for invisible fields of that ActivityDialog\n        DefaultValues for the 4 required Fields Queue State Lock Priority\n            if not configured in the ActivityDialog\n\n    ActivityDialog fillout request on existing Ticket:\n        ProcessEntityID\n        ActivityDialogEntityID\n        TicketValues\n\n    ActivityDialog store request or AjaxUpdate request on existing Tickets:\n        ProcessEntityID\n        ActivityDialogEntityID\n        TicketValues for all not-Submitted Values\n        Submitted Values\n\n    my $GetParam = _GetParam(\n        ProcessEntityID => $ProcessEntityID,\n    );\n\n=cut\n\nsub _GetParam {\n    my ( $Self, %Param ) = @_;\n\n    my $IsAJAXUpdate = $Param{AJAX} || '';\n\n    for my $Needed (qw(ProcessEntityID)) {\n        if ( !$Param{$Needed} ) {\n            $Self->{LayoutObject}->CustomerFatalError( Message => \"Got no $Needed in _GetParam!\" );\n        }\n    }\n    my %GetParam;\n    my %Ticket;\n    my $ProcessEntityID = $Param{ProcessEntityID};\n    my $TicketID = $Self->{ParamObject}->GetParam( Param => 'TicketID' );\n    my $ActivityDialogEntityID\n        = $Self->{ParamObject}->GetParam( Param => 'ActivityDialogEntityID' );\n    my $ActivityEntityID;\n    my %ValuesGotten;\n    my $Value;\n\n    # If we got no ActivityDialogEntityID and no TicketID\n    # we have to get the Processes' Startpoint\n    if ( !$ActivityDialogEntityID && !$TicketID ) {\n        my $ActivityActivityDialog\n            = $Self->{ProcessObject}->ProcessStartpointGet( ProcessEntityID => $ProcessEntityID );\n        if (\n            !$ActivityActivityDialog->{ActivityDialog}\n            || !$ActivityActivityDialog->{Activity}\n            )\n        {\n            my $Message = \"Got no Start ActivityEntityID or Start ActivityDialogEntityID for\"\n                . \" Process: $ProcessEntityID in _GetParam!\";\n\n            # does not show header and footer again\n            if ($IsAJAXUpdate) {\n                return $Self->{LayoutObject}->CustomerError(\n                    Message => $Message,\n                );\n            }\n            else {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => $Message,\n                );\n            }\n        }\n        $ActivityDialogEntityID = $ActivityActivityDialog->{ActivityDialog};\n        $ActivityEntityID       = $ActivityActivityDialog->{Activity};\n    }\n\n    my $ActivityDialog\n        = $Self->{ActivityDialogObject}->ActivityDialogGet(\n        ActivityDialogEntityID => $ActivityDialogEntityID,\n        Interface              => 'CustomerInterface',\n        );\n\n    if ( !IsHashRefWithData($ActivityDialog) ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Couldn't get Config for ActivityDialogEntityID '$ActivityDialogEntityID'!\",\n        );\n    }\n\n    # if there is a ticket then is not an AJAX request\n    if ($TicketID) {\n        %Ticket = $Self->{TicketObject}->TicketGet(\n            TicketID      => $TicketID,\n            DynamicFields => 1,\n        );\n\n        %GetParam = %Ticket;\n        if ( !IsHashRefWithData( \\%GetParam ) ) {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => \"Couldn't get Ticket for TicketID: $TicketID in _GetParam!\",\n            );\n        }\n\n        $ActivityEntityID = $Ticket{\n            'DynamicField_'\n                . $Self->{ConfigObject}->Get(\"Process::DynamicFieldProcessManagementActivityID\")\n        };\n        if ( !$ActivityEntityID ) {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message =>\n                    \"Couldn't determine ActivityEntityID. DynamicField or Config isn't set properly!\",\n            );\n        }\n\n    }\n    $GetParam{ActivityDialogEntityID} = $ActivityDialogEntityID;\n    $GetParam{ActivityEntityID}       = $ActivityEntityID;\n    $GetParam{ProcessEntityID}        = $ProcessEntityID;\n\n    # Get the activitydialogs's Submit Param's or Config Params\n    DIALOGFIELD:\n    for my $CurrentField ( @{ $ActivityDialog->{FieldOrder} } ) {\n\n        # Skip if we're working on a field that was already done with or without ID\n        if ( $Self->{NameToID}{$CurrentField} && $ValuesGotten{ $Self->{NameToID}{$CurrentField} } )\n        {\n            next DIALOGFIELD;\n        }\n\n        if ( $CurrentField =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldName = $1;\n\n           # Get the Config of the current DynamicField (the first element of the grep result array)\n            my $DynamicFieldConfig\n                = ( grep { $_->{Name} eq $DynamicFieldName } @{ $Self->{DynamicField} } )[0];\n\n            if ( !IsHashRefWithData($DynamicFieldConfig) ) {\n                my $Message = \"DynamicFieldConfig missing for field: $DynamicFieldName!\";\n\n                # does not show header and footer again\n                if ($IsAJAXUpdate) {\n                    return $Self->{LayoutObject}->CustomerError(\n                        Message => $Message,\n                    );\n                }\n                else {\n                    $Self->{LayoutObject}->CustomerFatalError(\n                        Message => $Message,\n                    );\n                }\n            }\n\n            # Get DynamicField Values\n            $Value = $Self->{BackendObject}->EditFieldValueGet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ParamObject        => $Self->{ParamObject},\n                LayoutObject       => $Self->{LayoutObject},\n            );\n\n            # If we got a submitted param, take it and next out\n            if ($Value) {\n                $GetParam{$CurrentField} = $Value;\n                next DIALOGFIELD;\n            }\n\n            # If we didn't have a Param Value try the ticket Value\n            # next out if it was successful\n            $Value = $Ticket{$CurrentField};\n            if ($Value) {\n                $GetParam{$CurrentField} = $Value;\n                next DIALOGFIELD;\n            }\n\n            # If we had neighter submitted nor ticket param get the ActivityDialog's default Value\n            # next out if it was successful\n            $Value = $ActivityDialog->{Fields}{$CurrentField}{DefaultValue};\n            if ($Value) {\n                $GetParam{$CurrentField} = $Value;\n                next DIALOGFIELD;\n            }\n\n            # If we had no submitted, ticket or ActivityDialog default value\n            # use the DynamicField's default value and next out\n            $Value = $DynamicFieldConfig->{Config}{DefaultValue};\n            if ($Value) {\n                $GetParam{$CurrentField} = $Value;\n                next DIALOGFIELD;\n            }\n\n            # if all that failed, use ''\n            $GetParam{$CurrentField} = '';\n            next DIALOGFIELD;\n        }\n\n        # get article fields\n        if ( $CurrentField eq 'Article' ) {\n\n            $GetParam{Subject} = $Self->{ParamObject}->GetParam( Param => 'Subject' );\n            $GetParam{Body}    = $Self->{ParamObject}->GetParam( Param => 'Body' );\n\n            $ValuesGotten{Article} = 1 if ( $GetParam{Subject} && $GetParam{Body} );\n        }\n    }\n    return \\%GetParam;\n}\n\nsub _OutputActivityDialog {\n    my ( $Self, %Param ) = @_;\n    my $TicketID               = $Param{GetParam}{TicketID};\n    my $ActivityDialogEntityID = $Param{GetParam}{ActivityDialogEntityID};\n    my $IsAJAXUpdate           = $Param{AJAX} || '';\n\n    # Check needed parameters:\n    # TicketID and ActivityDialogEntityID\n    if ( !( $TicketID && $ActivityDialogEntityID ) ) {\n        my $Message = 'Got no TicketID and ActivityDialogEntityID!';\n\n        # does not show header and footer again\n        if ($IsAJAXUpdate) {\n            return $Self->{LayoutObject}->CustomerError(\n                Message => $Message,\n            );\n        }\n        else {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => $Message,\n            );\n        }\n    }\n\n    my $ActivityActivityDialog;\n    my %Ticket;\n    my %Error = ();\n\n    # If we had Errors, we got an Errorhash\n    %Error = %{ $Param{Error} } if ( IsHashRefWithData( $Param{Error} ) );\n\n    # no AJAX update in this part\n    %Ticket = $Self->{TicketObject}->TicketGet(\n        TicketID      => $TicketID,\n        DynamicFields => 1,\n    );\n\n    if ( !IsHashRefWithData( \\%Ticket ) ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Can't get Ticket '$Param{TicketID}'!\",\n        );\n    }\n\n    my $DynamicFieldProcessID = 'DynamicField_'\n        . $Self->{ConfigObject}->Get('Process::DynamicFieldProcessManagementProcessID');\n    my $DynamicFieldActivityID\n        = 'DynamicField_'\n        . $Self->{ConfigObject}->Get(\n        'Process::DynamicFieldProcessManagementActivityID'\n        );\n\n    if ( !$Ticket{$DynamicFieldProcessID} || !$Ticket{$DynamicFieldActivityID} ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message =>\n                \"Can't get ProcessEntityID or ActivityEntityID for Ticket '$Param{TicketID}'!\",\n        );\n    }\n\n    $ActivityActivityDialog = {\n        Activity       => $Ticket{$DynamicFieldActivityID},\n        ActivityDialog => $ActivityDialogEntityID,\n    };\n\n    my $Activity = $Self->{ActivityObject}->ActivityGet(\n        Interface        => 'CustomerInterface',\n        ActivityEntityID => $ActivityActivityDialog->{Activity}\n    );\n    if ( !$Activity ) {\n        my $Message = \"Can't get Activity configuration for ActivityEntityID\"\n            . \" $ActivityActivityDialog->{Activity}!\";\n\n        # does not show header and footer again\n        if ($IsAJAXUpdate) {\n            return $Self->{LayoutObject}->CustomerError(\n                Message => $Message,\n            );\n        }\n        else {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => $Message,\n            );\n        }\n    }\n\n    my $ActivityDialog = $Self->{ActivityDialogObject}->ActivityDialogGet(\n        ActivityDialogEntityID => $ActivityActivityDialog->{ActivityDialog},\n        Interface              => 'CustomerInterface',\n    );\n    if ( !$ActivityDialog ) {\n        my $Message = \"Can't get ActivityDialog configuration for ActivityDialogEntityID\"\n            . \" '$ActivityActivityDialog->{ActivityDialog}'!\";\n\n        # does not show header and footer again\n        if ($IsAJAXUpdate) {\n            return $Self->{LayoutObject}->CustomerError(\n                Message => $Message,\n            );\n        }\n        else {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => $Message,\n            );\n        }\n    }\n\n    # grep out Overwrites if defined on the Activity\n    my @OverwriteActivityDialogNumber = grep {\n        ref $Activity->{ActivityDialog}{$_} eq 'HASH'\n            && $Activity->{ActivityDialog}{$_}{ActivityDialogEntityID}\n            && $Activity->{ActivityDialog}{$_}{ActivityDialogEntityID} eq\n            $ActivityActivityDialog->{ActivityDialog}\n            && IsHashRefWithData( $Activity->{ActivityDialog}{$_}{Overwrite} )\n    } keys %{ $Activity->{ActivityDialog} };\n\n    # let the Overwrites Overwrite the ActivityDialog's Hashvalues\n    if ( $OverwriteActivityDialogNumber[0] ) {\n        %{$ActivityDialog} = (\n            %{$ActivityDialog},\n            %{ $Activity->{ActivityDialog}{ $OverwriteActivityDialogNumber[0] }{Overwrite} }\n        );\n    }\n\n    # Add PageHeader, Navbar, Formheader (Process/ActivityDialogHeader)\n    my $Output;\n\n    if ( !$IsAJAXUpdate ) {\n        $Output = $Self->{LayoutObject}->CustomerHeader(\n            Type  => 'Small',\n            Value => $Ticket{Number},\n        );\n\n        # display given notify messages if this is not an ajax request\n        if ( IsArrayRefWithData( $Param{Notify} ) ) {\n\n            for my $NotifyString ( @{ $Param{Notify} } ) {\n                $Output .= $Self->{LayoutObject}->Notify(\n                    Data => $NotifyString,\n                );\n            }\n        }\n\n        $Self->{LayoutObject}->Block(\n            Name => 'Header',\n            Data => {\n                Name => $Self->{LayoutObject}->{LanguageObject}->Get( $ActivityDialog->{Name} )\n                    || '',\n                }\n        );\n    }\n\n    # show descriptions\n    if ( $ActivityDialog->{DescriptionShort} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'DescriptionShort',\n            Data => {\n                DescriptionShort\n                    => $Self->{LayoutObject}->{LanguageObject}->Get(\n                    $ActivityDialog->{DescriptionShort},\n                    ),\n            },\n        );\n    }\n    if ( $ActivityDialog->{DescriptionLong} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'DescriptionLong',\n            Data => {\n                DescriptionLong\n                    => $Self->{LayoutObject}->{LanguageObject}->Get(\n                    $ActivityDialog->{DescriptionLong},\n                    ),\n            },\n        );\n    }\n\n    # show close & cancel link if neccessary\n    if ( !$IsAJAXUpdate ) {\n        if ( $Param{RenderLocked} ) {\n            $Self->{LayoutObject}->Block(\n                Name => 'PropertiesLock',\n                Data => {\n                    %Param,\n                    TicketID => $TicketID,\n                },\n            );\n        }\n        else {\n            $Self->{LayoutObject}->Block(\n                Name => 'CancelLink',\n            );\n        }\n\n    }\n\n    $Output .= $Self->{LayoutObject}->Output(\n        TemplateFile => 'ProcessManagement/CustomerActivityDialogHeader',\n        Data         => {\n            FormName  => 'ActivityDialogDialog' . $ActivityActivityDialog->{ActivityDialog},\n            FormID    => $Self->{FormID},\n            Subaction => 'StoreActivityDialog',\n            TicketID  => $Ticket{TicketID},\n            ActivityDialogEntityID => $ActivityActivityDialog->{ActivityDialog},\n            ProcessEntityID        => $Param{ProcessEntityID}\n                || $Ticket{\n                'DynamicField_'\n                    . $Self->{ConfigObject}->Get(\n                    'Process::DynamicFieldProcessManagementProcessID'\n                    )\n                },\n        },\n    );\n\n    my %RenderedFields = ();\n\n    # get the list of fields where the AJAX loader icon should appear on AJAX updates triggered\n    # by ActivityDialog fields\n    my $AJAXUpdatableFields = $Self->_GetAJAXUpdatableFields(\n        ActivityDialogFields => $ActivityDialog->{Fields},\n    );\n\n    # Loop through ActivityDialogFields and render their output\n    DIALOGFIELD:\n    for my $CurrentField ( @{ $ActivityDialog->{FieldOrder} } ) {\n        if ( !IsHashRefWithData( $ActivityDialog->{Fields}{$CurrentField} ) ) {\n            my $Message = \"Can't get data for Field '$CurrentField' of ActivityDialog\"\n                . \" '$ActivityActivityDialog->{ActivityDialog}'!\";\n\n            # does not show header and footer again\n            if ($IsAJAXUpdate) {\n                return $Self->{LayoutObject}->CustomerError(\n                    Message => $Message,\n                );\n            }\n            else {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => $Message,\n                );\n            }\n        }\n\n        my %FieldData = %{ $ActivityDialog->{Fields}{$CurrentField} };\n\n        # We render just visible ActivityDialogFields\n        next DIALOGFIELD if !$FieldData{Display};\n\n        # render DynamicFields\n        if ( $CurrentField =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldName = $1;\n            my $Response         = $Self->_RenderDynamicField(\n                ActivityDialogField => $ActivityDialog->{Fields}{$CurrentField},\n                FieldName           => $DynamicFieldName,\n                DescriptionShort    => $ActivityDialog->{Fields}{$CurrentField}{DescriptionShort},\n                Ticket              => \\%Ticket || {},\n                Error               => \\%Error || {},\n                FormID              => $Self->{FormID},\n                GetParam            => $Param{GetParam},\n                AJAXUpdatableFields => $AJAXUpdatableFields,\n            );\n\n            if ( !$Response->{Success} ) {\n\n                # does not show header and footer again\n                if ($IsAJAXUpdate) {\n                    return $Self->{LayoutObject}->CustomerError(\n                        Message => $Response->{Message},\n                    );\n                }\n                else {\n                    $Self->{LayoutObject}->CustomerFatalError(\n                        Message => $Response->{Message},\n                    );\n                }\n            }\n\n            $Output .= $Response->{HTML};\n\n            $RenderedFields{$CurrentField} = 1;\n\n        }\n\n        # render Article\n        elsif (\n            $Self->{NameToID}->{$CurrentField}\n            && $Self->{NameToID}->{$CurrentField} eq 'Article'\n            )\n        {\n            next DIALOGFIELD if $RenderedFields{ $Self->{NameToID}->{$CurrentField} };\n\n            my $Response = $Self->_RenderArticle(\n                ActivityDialogField => $ActivityDialog->{Fields}{$CurrentField},\n                FieldName           => $CurrentField,\n                DescriptionShort    => $ActivityDialog->{Fields}{$CurrentField}{DescriptionShort},\n                Ticket              => \\%Ticket || {},\n                Error               => \\%Error || {},\n                FormID              => $Self->{FormID},\n                GetParam            => $Param{GetParam},\n            );\n\n            if ( !$Response->{Success} ) {\n\n                # does not show header and footer again\n                if ($IsAJAXUpdate) {\n                    return $Self->{LayoutObject}->CustomerError(\n                        Message => $Response->{Message},\n                    );\n                }\n                else {\n                    $Self->{LayoutObject}->CustomerFatalError(\n                        Message => $Response->{Message},\n                    );\n                }\n            }\n\n            $Output .= $Response->{HTML};\n\n            $RenderedFields{$CurrentField} = 1;\n        }\n    }\n\n    my $FooterCSSClass = 'Footer';\n\n    if ($IsAJAXUpdate) {\n\n        # Due to the initial loading of\n        # the first ActivityDialog after Process selection\n        # we have to bind the AjaxUpdate Function on\n        # the selects, so we get the complete JSOnDocumentComplete code\n        # and deliver it in the FooterJS block.\n        # This Javascript Part is executed in\n        # CustomerTicketProcess.dtl\n        $Self->{LayoutObject}->Block(\n            Name => 'FooterJS',\n            Data => { Bindings => $Self->{LayoutObject}->{EnvRef}->{JSOnDocumentComplete} },\n        );\n\n        $FooterCSSClass = 'Centered';\n    }\n\n    # set submit button data\n    my $ButtonText  = 'Submit';\n    my $ButtonTitle = 'Save';\n    my $ButtonID    = 'Submit' . $ActivityActivityDialog->{ActivityDialog};\n    if ( $ActivityDialog->{SubmitButtonText} ) {\n        $ButtonText  = $ActivityDialog->{SubmitButtonText};\n        $ButtonTitle = $ActivityDialog->{SubmitButtonText};\n    }\n\n    $Self->{LayoutObject}->Block(\n        Name => 'Footer',\n        Data => {\n            FooterCSSClass => $FooterCSSClass,\n            ButtonText     => $ButtonText,\n            ButtonTitle    => $ButtonTitle,\n            ButtonID       => $ButtonID\n\n        },\n    );\n\n    if ( $ActivityDialog->{SubmitAdviceText} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'SubmitAdviceText',\n            Data => {\n                AdviceText => $ActivityDialog->{SubmitAdviceText},\n            },\n        );\n    }\n\n    # reload parent window\n    if ( $Param{ParentReload} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'ParentReload',\n        );\n    }\n\n    # Add the FormFooter\n    $Output .= $Self->{LayoutObject}->Output(\n        TemplateFile => 'ProcessManagement/CustomerActivityDialogFooter',\n        Data         => {},\n    );\n\n    if ( !$IsAJAXUpdate ) {\n\n        # Add the OTRS Footer\n        $Output .= $Self->{LayoutObject}->CustomerFooter( Type => 'Small' );\n    }\n\n    return $Output;\n}\n\nsub _RenderDynamicField {\n    my ( $Self, %Param ) = @_;\n\n    for my $Needed (qw(FormID FieldName)) {\n        if ( !$Param{$Needed} ) {\n            return {\n                Success => 0,\n                Message => \"Got no $Needed in _RenderDynamicField!\",\n            };\n        }\n    }\n    my $DynamicFieldConfig\n        = ( grep { $_->{Name} eq $Param{FieldName} } @{ $Self->{DynamicField} } )[0];\n\n    my $PossibleValuesFilter;\n\n    # All Ticket DynamicFields\n    # used for ACL checking\n    my %DynamicFieldCheckParam = map { $_ => $Param{GetParam}{$_} }\n        grep {m{^DynamicField_}xms} ( keys %{ $Param{GetParam} } );\n\n    # check if field has PossibleValues property in its configuration\n    if ( IsHashRefWithData( $DynamicFieldConfig->{Config}->{PossibleValues} ) ) {\n\n        # convert possible values key => value to key => key for ACLs usign a Hash slice\n        my %AclData = %{ $DynamicFieldConfig->{Config}->{PossibleValues} };\n        @AclData{ keys %AclData } = keys %AclData;\n\n        # set possible values filter from ACLs\n        my $ACL = $Self->{TicketObject}->TicketAcl(\n            %{ $Param{GetParam} },\n            DynamicField   => \\%DynamicFieldCheckParam,\n            Action         => $Self->{Action},\n            ReturnType     => 'Ticket',\n            ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n            Data           => \\%AclData,\n            CustomerUserID => $Self->{UserID},\n        );\n        if ($ACL) {\n            my %Filter = $Self->{TicketObject}->TicketAclData();\n\n            # convert Filer key => key back to key => value using map\n            %{$PossibleValuesFilter}\n                = map { $_ => $DynamicFieldConfig->{Config}->{PossibleValues}->{$_} } keys %Filter;\n        }\n    }\n\n    my $DynamicFieldHTML = $Self->{BackendObject}->EditFieldRender(\n        DynamicFieldConfig   => $DynamicFieldConfig,\n        PossibleValuesFilter => $PossibleValuesFilter,\n        Value                => $Param{GetParam}{ 'DynamicField_' . $Param{FieldName} },\n        LayoutObject         => $Self->{LayoutObject},\n        ParamObject          => $Self->{ParamObject},\n        AJAXUpdate           => 1,\n        Mandatory            => $Param{ActivityDialogField}->{Display} == 2,\n        UpdatableFields      => $Param{AJAXUpdatableFields},\n    );\n\n    my %Data = (\n        Name    => $DynamicFieldHTML->{Name},\n        Label   => $DynamicFieldHTML->{Label},\n        Content => $DynamicFieldHTML->{Field},\n    );\n\n    $Self->{LayoutObject}->Block(\n        Name => $Param{ActivityDialogField}->{LayoutBlock} || 'rw:DynamicField',\n        Data => \\%Data,\n    );\n    if ( $Param{DescriptionShort} ) {\n        $Self->{LayoutObject}->Block(\n            Name => $Param{ActivityDialogField}->{LayoutBlock}\n                || 'rw:DynamicField:DescriptionShort',\n            Data => {\n                DescriptionShort => $Param{DescriptionShort},\n            },\n        );\n    }\n\n    return {\n        Success => 1,\n        HTML => $Self->{LayoutObject}->Output( TemplateFile => 'ProcessManagement/DynamicField' ),\n    };\n\n    return '';\n\n}\n\nsub _RenderArticle {\n    my ( $Self, %Param ) = @_;\n\n    for my $Needed (qw(FormID Ticket)) {\n        if ( !$Param{$Needed} ) {\n            return {\n                Success => 0,\n                Message => \"Got no $Needed in _RenderArticle!\",\n            };\n        }\n    }\n    if ( !IsHashRefWithData( $Param{ActivityDialogField} ) ) {\n        return {\n            Success => 0,\n            Message => \"Got no ActivityDialogField in _RenderArticle!\",\n        };\n    }\n\n    my $ArticleInvalid\n        = ( IsHashRefWithData( $Param{Error} ) && $Param{Error}->{'Article'} )\n        ? $Param{Error}->{'Article'}\n        : '';\n\n    my %Data = (\n        Name             => 'Article',\n        ArticleInvalid   => $ArticleInvalid,\n        ClassMandatory   => '',\n        ValidateRequired => '',\n        Marker           => '',\n        Subject          => $Param{GetParam}{Subject},\n        Body             => $Param{GetParam}{Body},\n        LabelSubject     => $Param{ActivityDialogField}->{Config}->{LabelSubject}\n            || $Self->{LayoutObject}->{LanguageObject}->Get(\"Subject\"),\n        LabelBody => $Param{ActivityDialogField}->{Config}->{LabelBody}\n            || $Self->{LayoutObject}->{LanguageObject}->Get(\"Text\"),\n    );\n\n    # If field is required put in the necessary variables for\n    # ValidateRequired class input field, Mandatory class for the label\n    # Marker for the label\n    if ( $Param{ActivityDialogField}->{Display} && $Param{ActivityDialogField}->{Display} == 2 ) {\n        $Data{ValidateRequired} = 'Validate_Required';\n        $Data{ClassMandatory}   = ' class=\"Mandatory\"';\n        $Data{Marker}           = '<span class=\"Marker\">*</span> ';\n    }\n\n    $Self->{LayoutObject}->Block(\n        Name => $Param{ActivityDialogField}->{LayoutBlock} || 'rw:Article',\n        Data => \\%Data,\n    );\n\n    $Self->{LayoutObject}->Block(\n        Name => 'BodySeparator',\n        Data => \\%Param,\n    );\n\n    # add rich text editor\n    if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n\n        # use height/width defined for this screen\n        $Param{RichTextHeight} = $Self->{Config}->{RichTextHeight} || 0;\n        $Param{RichTextWidth}  = $Self->{Config}->{RichTextWidth}  || 0;\n\n        $Self->{LayoutObject}->Block(\n            Name => 'RichText',\n            Data => \\%Param,\n        );\n    }\n\n    if ( length $ArticleInvalid ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'ServerErrorMsg',\n            Data => { Error => $ArticleInvalid },\n        );\n    }\n    if ( $Param{DescriptionShort} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'rw:Article:DescriptionShort',\n            Data => {\n                DescriptionShort => $Param{DescriptionShort},\n            },\n        );\n    }\n\n    # get all attachments meta data\n    my @Attachments = $Self->{UploadCacheObject}->FormIDGetAllFilesMeta(\n        FormID => $Self->{FormID},\n    );\n\n    # show attachments\n    ATTACHMENT:\n    for my $Attachment (@Attachments) {\n\n        next ATTACHMENT if $Attachment->{ContentID} && $Self->{LayoutObject}->{BrowserRichText};\n\n        $Self->{LayoutObject}->Block(\n            Name => 'Attachment',\n            Data => $Attachment,\n        );\n    }\n\n    return {\n        Success => 1,\n        HTML => $Self->{LayoutObject}->Output( TemplateFile => 'ProcessManagement/Article' ),\n    };\n}\n\nsub _StoreActivityDialog {\n    my ( $Self, %Param ) = @_;\n\n    my $TicketID = $Param{GetParam}{TicketID};\n    my $ProcessStartpoint;\n    my %Ticket;\n    my $ProcessEntityID;\n    my $ActivityEntityID;\n    my %Error;\n\n    my %TicketParam;\n\n    my $ActivityDialogEntityID = $Param{GetParam}{ActivityDialogEntityID};\n    if ( !$ActivityDialogEntityID ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"ActivityDialogEntityID missing!\",\n        );\n    }\n\n    my $ActivityDialog\n        = $Self->{ActivityDialogObject}->ActivityDialogGet(\n        ActivityDialogEntityID => $ActivityDialogEntityID,\n        Interface              => 'CustomerInterface',\n        );\n    if ( !IsHashRefWithData($ActivityDialog) ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Couldn't get Config for ActivityDialogEntityID $ActivityDialogEntityID!\",\n        );\n    }\n\n    # If is an action about attachments\n    my $IsUpload = 0;\n\n    # attachment delete\n    COUNT:\n    for my $Count ( 1 .. 32 ) {\n        my $Delete = $Self->{ParamObject}->GetParam( Param => \"AttachmentDelete$Count\" );\n        next COUNT if !$Delete;\n        %Error = ();\n        $Error{AttachmentDelete} = 1;\n        $Self->{UploadCacheObject}->FormIDRemoveFile(\n            FormID => $Self->{FormID},\n            FileID => $Count,\n        );\n        $IsUpload = 1;\n    }\n\n    # attachment upload\n    if ( $Self->{ParamObject}->GetParam( Param => 'AttachmentUpload' ) ) {\n        $IsUpload                = 1;\n        %Error                   = ();\n        $Error{AttachmentUpload} = 1;\n        my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n            Param  => 'FileUpload',\n            Source => 'string',\n        );\n        $Self->{UploadCacheObject}->FormIDAddFile(\n            FormID => $Self->{FormID},\n            %UploadStuff,\n        );\n    }\n\n   # check each Field of an Activity Dialog and fill the error hash if something goes horribly wrong\n    my %CheckedFields;\n    DIALOGFIELD:\n    for my $CurrentField ( @{ $ActivityDialog->{FieldOrder} } ) {\n        if ( $CurrentField =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldName = $1;\n\n           # Get the Config of the current DynamicField (the first element of the grep result array)\n            my $DynamicFieldConfig\n                = ( grep { $_->{Name} eq $DynamicFieldName } @{ $Self->{DynamicField} } )[0];\n\n            if ( !IsHashRefWithData($DynamicFieldConfig) ) {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => \"DynamicFieldConfig missing for field: $DynamicFieldName!\",\n                );\n            }\n\n            # Will be extended lateron for ACL Checking:\n            my $PossibleValuesFilter;\n\n            # Check DynamicField Values\n            my $ValidationResult = $Self->{BackendObject}->EditFieldValueValidate(\n                DynamicFieldConfig   => $DynamicFieldConfig,\n                PossibleValuesFilter => $PossibleValuesFilter,\n                ParamObject          => $Self->{ParamObject},\n                Mandatory            => $ActivityDialog->{Fields}{$CurrentField}{Display} == 2,\n            );\n\n            if ( !IsHashRefWithData($ValidationResult) ) {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message =>\n                        \"Could not perform validation on field $DynamicFieldConfig->{Label}!\",\n                );\n            }\n\n            if ( $ValidationResult->{ServerError} ) {\n                $Error{ $DynamicFieldConfig->{Name} } = ' ServerError';\n            }\n\n            # if we had an invisible field, use config's default value\n            if ( $ActivityDialog->{Fields}{$CurrentField}{Display} == 0 ) {\n                $TicketParam{$CurrentField} = $ActivityDialog->{Fields}{$CurrentField}{DefaultValue}\n                    || '';\n            }\n\n            # else take the DynamicField Value\n            else {\n                $TicketParam{$CurrentField} =\n                    $Self->{BackendObject}->EditFieldValueGet(\n                    DynamicFieldConfig => $DynamicFieldConfig,\n                    ParamObject        => $Self->{ParamObject},\n                    LayoutObject       => $Self->{LayoutObject},\n                    );\n            }\n\n            # In case of DynamicFields there is no NameToID translation\n            # so just take the DynamicField name\n            $CheckedFields{$CurrentField} = 1;\n        }\n\n        # Article\n        else {\n\n            # skip if we've already checked ID or Name\n            next if !$Self->{NameToID}->{$CurrentField};\n            next DIALOGFIELD if $CheckedFields{ $Self->{NameToID}->{$CurrentField} };\n\n            if ( $ActivityDialog->{Fields}{$CurrentField}{Display} == 2 ) {\n\n                # check if the given field param is valid\n                my ( $Body, $Subject ) = (\n                    $Self->{ParamObject}->GetParam( Param => 'Body' ),\n                    $Self->{ParamObject}->GetParam( Param => 'Subject' )\n                );\n\n                if ( !( $Body && $Subject ) ) {\n                    $Error{ $Self->{NameToID}->{$CurrentField} } = ' ServerError';\n                }\n                $CheckedFields{ $Self->{NameToID}->{$CurrentField} } = 1;\n            }\n        }\n    }\n\n    # Get Ticket to check TicketID was valid\n    %Ticket = $Self->{TicketObject}->TicketGet(\n        TicketID      => $TicketID,\n        DynamicFields => 1,\n    );\n\n    if ( !IsHashRefWithData( \\%Ticket ) ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Could not Store ActivityDialog, invalid TicketID: $TicketID!\",\n        );\n    }\n\n    $ActivityEntityID = $Ticket{\n        'DynamicField_'\n            . $Self->{ConfigObject}->Get('Process::DynamicFieldProcessManagementActivityID')\n    };\n    if ( !$ActivityEntityID )\n    {\n        return $Self->{LayoutObject}->CustomerErrorScreen(\n            Message => \"Missing ActivityEntityID in Ticket $Ticket{TicketID}!\",\n            Comment => 'Please contact the admin.',\n        );\n    }\n\n    $ProcessEntityID = $Ticket{\n        'DynamicField_'\n            . $Self->{ConfigObject}->Get('Process::DynamicFieldProcessManagementProcessID')\n    };\n\n    if ( !$ProcessEntityID )\n    {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Missing ProcessEntityID in Ticket $Ticket{TicketID}!\",\n        );\n    }\n\n    # if we got errors go back to displaying the ActivityDialog\n    if ( IsHashRefWithData( \\%Error ) ) {\n        return $Self->_OutputActivityDialog(\n            ProcessEntityID        => $ProcessEntityID,\n            TicketID               => $TicketID || undef,\n            ActivityDialogEntityID => $ActivityDialogEntityID,\n            Error                  => \\%Error,\n            GetParam               => $Param{GetParam},\n        );\n    }\n\n    # We save only once, no matter if one or more configs are set for the same param\n    my %StoredFields;\n\n    # Save loop for storing Ticket Values that were not required on the initial TicketCreate\n    DIALOGFIELD:\n    for my $CurrentField ( @{ $ActivityDialog->{FieldOrder} } ) {\n\n        if ( !IsHashRefWithData( $ActivityDialog->{Fields}{$CurrentField} ) ) {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => \"Can't get data for Field '$CurrentField' of ActivityDialog\"\n                    . \" '$ActivityDialogEntityID'!\",\n            );\n        }\n\n        if ( $CurrentField =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldName = $1;\n            my $DynamicFieldConfig\n                = ( grep { $_->{Name} eq $DynamicFieldName } @{ $Self->{DynamicField} } )[0];\n\n            my $Success = $Self->{BackendObject}->ValueSet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $TicketID,\n                Value              => $TicketParam{$CurrentField},\n                UserID             => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n            if ( !$Success ) {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => \"Could not set DynamicField value for $CurrentField of Ticket\"\n                        . \" with ID '$TicketID' in ActivityDialog '$ActivityDialogEntityID'!\",\n                );\n            }\n        }\n\n        elsif ( $CurrentField eq 'Article' ) {\n\n            if ( $Param{GetParam}{Subject} && $Param{GetParam}{Body} ) {\n\n                # add note\n                my $ArticleID = '';\n                my $MimeType  = 'text/plain';\n                if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n                    $MimeType = 'text/html';\n\n                    # verify html document\n                    $Param{GetParam}{Body} = $Self->{LayoutObject}->RichTextDocumentComplete(\n                        String => $Param{GetParam}{Body},\n                    );\n                }\n\n                my $From = \"$Self->{UserFirstname} $Self->{UserLastname} <$Self->{UserEmail}>\";\n                $ArticleID = $Self->{TicketObject}->ArticleCreate(\n                    TicketID       => $TicketID,\n                    SenderType     => 'customer',\n                    From           => $From,\n                    MimeType       => $MimeType,\n                    Charset        => $Self->{LayoutObject}->{UserCharset},\n                    UserID         => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n                    HistoryType    => 'AddNote',\n                    HistoryComment => '%%Note',\n                    Body           => $Param{GetParam}{Body},\n                    Subject        => $Param{GetParam}{Subject},\n                    ArticleType =>\n                        $ActivityDialog->{Fields}->{Article}->{Config}->{ArticleType},\n                );\n                if ( !$ArticleID ) {\n                    return $Self->{LayoutObject}->CustomerErrorScreen();\n                }\n\n                # get pre loaded attachment\n                my @Attachments = $Self->{UploadCacheObject}->FormIDGetAllFilesData(\n                    FormID => $Self->{FormID},\n                );\n\n                # get submit attachment\n                my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n                    Param  => 'FileUpload',\n                    Source => 'String',\n                );\n                if (%UploadStuff) {\n                    push @Attachments, \\%UploadStuff;\n                }\n\n                # write attachments\n                ATTACHMENT:\n                for my $Attachment (@Attachments) {\n\n                    # skip, deleted not used inline images\n                    my $ContentID = $Attachment->{ContentID};\n                    if ($ContentID) {\n                        my $ContentIDHTMLQuote = $Self->{LayoutObject}->Ascii2Html(\n                            Text => $ContentID,\n                        );\n\n                        # workaround for link encode of rich text editor, see bug#5053\n                        my $ContentIDLinkEncode = $Self->{LayoutObject}->LinkEncode($ContentID);\n                        $Param{GetParam}{Body} =~ s/(ContentID=)$ContentIDLinkEncode/$1$ContentID/g;\n\n                        # ignore attachment if not linked in body\n                        next ATTACHMENT\n                            if $Param{GetParam}{Body}\n                            !~ /(\\Q$ContentIDHTMLQuote\\E|\\Q$ContentID\\E)/i;\n                    }\n\n                    # write existing file to backend\n                    $Self->{TicketObject}->ArticleWriteAttachment(\n                        %{$Attachment},\n                        ArticleID => $ArticleID,\n                        UserID    => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n                    );\n                }\n\n                # remove pre submited attachments\n                $Self->{UploadCacheObject}->FormIDRemove( FormID => $Self->{FormID} );\n            }\n        }\n    }\n\n    # Transitions will be handled by ticket event module (TicketProcessTransitions.pm).\n\n    # load new URL in parent window and close popup\n    return $Self->{LayoutObject}->PopupClose(\n        URL => \"Action=CustomerTicketZoom;TicketID=$TicketID\",\n    );\n}\n\nsub _GetAJAXUpdatableFields {\n    my ( $Self, %Param ) = @_;\n\n    # create a DynamicFieldLookupTable\n    my %DynamicFieldLookup = map { 'DynamicField_' . $_->{Name} => $_ } @{ $Self->{DynamicField} };\n\n    my @UpdatableFields;\n    FIELD:\n    for my $Field ( sort keys %{ $Param{ActivityDialogFields} } ) {\n\n        my $FieldData = $Param{ActivityDialogFields}->{$Field};\n\n        # skip hidden fields\n        next FIELD if !$FieldData->{Display};\n\n        # for Dynamic Fields check if is AJAXUpdatable\n        if ( $Field =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldConfig = $DynamicFieldLookup{$Field};\n\n            # skip any field with wrong config\n            next FIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            # get field update status\n            my $Updateable = $Self->{BackendObject}->IsAJAXUpdateable(\n                DynamicFieldConfig => $DynamicFieldConfig,\n            );\n\n            # skip field if is not updatable\n            next FIELD if !$Updateable;\n\n            push @UpdatableFields, $Field;\n        }\n    }\n\n    return \\@UpdatableFields;\n}\n\n1;\n", "# --\n# Kernel/Modules/CustomerTicketZoom.pm - to get a closer view\n# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::Modules::CustomerTicketZoom;\n\nuse strict;\nuse warnings;\n\nuse Kernel::System::Web::UploadCache;\nuse Kernel::System::State;\nuse Kernel::System::User;\nuse Kernel::System::DynamicField;\nuse Kernel::System::DynamicField::Backend;\nuse Kernel::System::ProcessManagement::Activity;\nuse Kernel::System::ProcessManagement::ActivityDialog;\nuse Kernel::System::ProcessManagement::Process;\nuse Kernel::System::ProcessManagement::Transition;\nuse Kernel::System::ProcessManagement::TransitionAction;\nuse Kernel::System::VariableCheck qw(:all);\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    # allocate new hash for object\n    my $Self = {%Param};\n    bless( $Self, $Type );\n\n    # check needed objects\n    for (\n        qw(ParamObject DBObject TicketObject LayoutObject LogObject QueueObject\n        ConfigObject UserObject SessionObject\n        )\n        )\n    {\n        if ( !$Self->{$_} ) {\n            $Self->{LayoutObject}->FatalError( Message => \"Got no $_!\" );\n        }\n    }\n\n    # get params\n    $Self->{ZoomExpand} = $Self->{ParamObject}->GetParam( Param => 'ZoomExpand' );\n    if ( !defined $Self->{ZoomExpand} ) {\n        $Self->{ZoomExpand} = $Self->{ConfigObject}->Get('Ticket::Frontend::ZoomExpand') || '';\n    }\n\n    # needed objects\n    $Self->{AgentUserObject}    = Kernel::System::User->new(%Param);\n    $Self->{StateObject}        = Kernel::System::State->new(%Param);\n    $Self->{UploadCacheObject}  = Kernel::System::Web::UploadCache->new(%Param);\n    $Self->{DynamicFieldObject} = Kernel::System::DynamicField->new(%Param);\n    $Self->{BackendObject}      = Kernel::System::DynamicField::Backend->new(%Param);\n\n    # get form id\n    $Self->{FormID} = $Self->{ParamObject}->GetParam( Param => 'FormID' );\n\n    # create form id\n    if ( !$Self->{FormID} ) {\n        $Self->{FormID} = $Self->{UploadCacheObject}->FormIDCreate();\n    }\n\n    $Self->{Config} = $Self->{ConfigObject}->Get(\"Ticket::Frontend::$Self->{Action}\");\n\n    # get dynamic field config for frontend module\n    $Self->{DynamicFieldFilter} = $Self->{Config}->{DynamicField};\n\n    $Self->{FollowUpDynamicFieldFilter} = $Self->{Config}->{FollowUpDynamicField};\n\n    # get the dynamic fields for ticket object\n    $Self->{FollowUpDynamicField} = $Self->{DynamicFieldObject}->DynamicFieldListGet(\n        Valid       => 1,\n        ObjectType  => [ 'Ticket', 'Article' ],\n        FieldFilter => $Self->{FollowUpDynamicFieldFilter} || {},\n    );\n\n    # create additional objects for process management\n    $Self->{ActivityObject} = Kernel::System::ProcessManagement::Activity->new(%Param);\n    $Self->{ActivityDialogObject}\n        = Kernel::System::ProcessManagement::ActivityDialog->new(%Param);\n\n    $Self->{TransitionObject} = Kernel::System::ProcessManagement::Transition->new(%Param);\n    $Self->{TransitionActionObject}\n        = Kernel::System::ProcessManagement::TransitionAction->new(%Param);\n\n    $Self->{ProcessObject} = Kernel::System::ProcessManagement::Process->new(\n        %Param,\n        ActivityObject         => $Self->{ActivityObject},\n        ActivityDialogObject   => $Self->{ActivityDialogObject},\n        TransitionObject       => $Self->{TransitionObject},\n        TransitionActionObject => $Self->{TransitionActionObject},\n    );\n\n    return $Self;\n}\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    # ticket id lookup\n    if ( !$Self->{TicketID} && $Self->{ParamObject}->GetParam( Param => 'TicketNumber' ) ) {\n        $Self->{TicketID} = $Self->{TicketObject}->TicketIDLookup(\n            TicketNumber => $Self->{ParamObject}->GetParam( Param => 'TicketNumber' ),\n            UserID       => $Self->{UserID},\n        );\n    }\n\n    # check needed stuff\n    if ( !$Self->{TicketID} ) {\n        my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n        $Output .= $Self->{LayoutObject}->CustomerError( Message => 'Need TicketID!' );\n        $Output .= $Self->{LayoutObject}->CustomerFooter();\n        return $Output;\n    }\n\n    # check permissions\n    my $Access = $Self->{TicketObject}->TicketCustomerPermission(\n        Type     => 'ro',\n        TicketID => $Self->{TicketID},\n        UserID   => $Self->{UserID}\n    );\n\n    # error screen, don't show ticket\n    if ( !$Access ) {\n        return $Self->{LayoutObject}->CustomerNoPermission( WithHeader => 'yes' );\n    }\n\n    # store last screen\n    if ( $Self->{Subaction} ne 'ShowHTMLeMail' ) {\n        $Self->{SessionObject}->UpdateSessionID(\n            SessionID => $Self->{SessionID},\n            Key       => 'LastScreenView',\n            Value     => $Self->{RequestedURL},\n        );\n    }\n\n    # get ticket data\n    my %Ticket = $Self->{TicketObject}->TicketGet(\n        TicketID      => $Self->{TicketID},\n        DynamicFields => 1,\n    );\n\n    # strip html and ascii attachments of content\n    my $StripPlainBodyAsAttachment = 1;\n\n    # check if rich text is enabled, if not only stip ascii attachments\n    if ( !$Self->{LayoutObject}->{BrowserRichText} ) {\n        $StripPlainBodyAsAttachment = 2;\n    }\n\n    # get all articles of this ticket\n    my @CustomerArticleTypes = $Self->{TicketObject}->ArticleTypeList( Type => 'Customer' );\n    my @ArticleBox = $Self->{TicketObject}->ArticleContentIndex(\n        TicketID                   => $Self->{TicketID},\n        ArticleType                => \\@CustomerArticleTypes,\n        StripPlainBodyAsAttachment => $StripPlainBodyAsAttachment,\n        UserID                     => $Self->{UserID},\n        DynamicFields              => 0,\n    );\n\n    # get params\n    my %GetParam;\n    for my $Key (qw( Subject Body StateID PriorityID)) {\n        $GetParam{$Key} = $Self->{ParamObject}->GetParam( Param => $Key );\n    }\n\n    # ACL compatibility translation\n    my %ACLCompatGetParam;\n    $ACLCompatGetParam{OwnerID} = $GetParam{NewUserID};\n\n    # get Dynamic fields from ParamObject\n    my %DynamicFieldValues;\n\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        # extract the dynamic field value form the web request\n        $DynamicFieldValues{ $DynamicFieldConfig->{Name} } =\n            $Self->{BackendObject}->EditFieldValueGet(\n            DynamicFieldConfig => $DynamicFieldConfig,\n            ParamObject        => $Self->{ParamObject},\n            LayoutObject       => $Self->{LayoutObject},\n            );\n    }\n\n    # convert dynamic field values into a structure for ACLs\n    my %DynamicFieldACLParameters;\n    DYNAMICFIELD:\n    for my $DynamicField ( sort keys %DynamicFieldValues ) {\n        next DYNAMICFIELD if !$DynamicField;\n        next DYNAMICFIELD if !$DynamicFieldValues{$DynamicField};\n\n        $DynamicFieldACLParameters{ 'DynamicField_' . $DynamicField }\n            = $DynamicFieldValues{$DynamicField};\n    }\n    $GetParam{DynamicField} = \\%DynamicFieldACLParameters;\n\n    if ( $Self->{Subaction} eq 'AJAXUpdate' ) {\n\n        # get TicketID\n        if ( !$GetParam{TicketID} ) {\n            $GetParam{TicketID} =\n                $Self->{TicketID} ||\n                $Self->{ParamObject}->GetParam( Param => 'TicketID' );\n        }\n\n        my $CustomerUser = $Self->{UserID};\n\n        my $Priorities = $Self->_GetPriorities(\n            %GetParam,\n            %ACLCompatGetParam,\n            CustomerUserID => $CustomerUser || '',\n        );\n        my $NextStates = $Self->_GetNextStates(\n            %GetParam,\n            %ACLCompatGetParam,\n            CustomerUserID => $CustomerUser || '',\n        );\n\n        # update Dynamic Fields Possible Values via AJAX\n        my @DynamicFieldAJAX;\n\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD\n                if !$Self->{BackendObject}->IsAJAXUpdateable(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                );\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Ticket';\n\n            my $PossibleValues = $Self->{BackendObject}->AJAXPossibleValuesGet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n            );\n\n            # convert possible values key => value to key => key for ACLs usign a Hash slice\n            my %AclData = %{$PossibleValues};\n            @AclData{ keys %AclData } = keys %AclData;\n\n            # set possible values filter from ACLs\n            my $ACL = $Self->{TicketObject}->TicketAcl(\n                %GetParam,\n                %ACLCompatGetParam,\n                Action         => $Self->{Action},\n                ReturnType     => 'Ticket',\n                ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                Data           => \\%AclData,\n                CustomerUserID => $Self->{UserID},\n            );\n            if ($ACL) {\n                my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                # convert Filer key => key back to key => value using map\n                %{$PossibleValues} = map { $_ => $PossibleValues->{$_} } keys %Filter;\n            }\n\n            # add dynamic field to the list of fields to update\n            push(\n                @DynamicFieldAJAX,\n                {\n                    Name        => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data        => $PossibleValues,\n                    SelectedID  => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                    Translation => $DynamicFieldConfig->{Config}->{TranslatableValues} || 0,\n                    Max         => 100,\n                }\n            );\n        }\n\n        my $JSON = $Self->{LayoutObject}->BuildSelectionJSON(\n            [\n                {\n                    Name        => 'PriorityID',\n                    Data        => $Priorities,\n                    SelectedID  => $GetParam{PriorityID},\n                    Translation => 1,\n                    Max         => 100,\n                },\n                {\n                    Name        => 'StateID',\n                    Data        => $NextStates,\n                    SelectedID  => $GetParam{StateID},\n                    Translation => 1,\n                    Max         => 100,\n                },\n                @DynamicFieldAJAX,\n            ],\n        );\n        return $Self->{LayoutObject}->Attachment(\n            ContentType => 'application/json; charset=' . $Self->{LayoutObject}->{Charset},\n            Content     => $JSON,\n            Type        => 'inline',\n            NoCache     => 1,\n        );\n    }\n\n    #   end AJAX Update\n\n    # check follow up\n    elsif ( $Self->{Subaction} eq 'Store' ) {\n        my $NextScreen = $Self->{NextScreen} || $Self->{Config}->{NextScreenAfterFollowUp};\n        my %Error;\n\n        # rewrap body if no rich text is used\n        if ( $GetParam{Body} && !$Self->{LayoutObject}->{BrowserRichText} ) {\n            $GetParam{Body} = $Self->{LayoutObject}->WrapPlainText(\n                MaxCharacters => $Self->{ConfigObject}->Get('Ticket::Frontend::TextAreaNote'),\n                PlainText     => $GetParam{Body},\n            );\n        }\n\n        # get follow up option (possible or not)\n        my $FollowUpPossible = $Self->{QueueObject}->GetFollowUpOption(\n            QueueID => $Ticket{QueueID},\n        );\n\n        # get lock option (should be the ticket locked - if closed - after the follow up)\n        my $Lock = $Self->{QueueObject}->GetFollowUpLockOption( QueueID => $Ticket{QueueID}, );\n\n        # get ticket state details\n        my %State = $Self->{StateObject}->StateGet(\n            ID => $Ticket{StateID},\n        );\n        if ( $FollowUpPossible =~ /(new ticket|reject)/i && $State{TypeName} =~ /^close/i ) {\n            my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n            $Output .= $Self->{LayoutObject}->CustomerWarning(\n                Message => 'Can\\'t reopen ticket, not possible in this queue!',\n                Comment => 'Create a new ticket!',\n            );\n            $Output .= $Self->{LayoutObject}->CustomerFooter();\n            return $Output;\n        }\n\n        # rewrap body if no rich text is used\n        if ( $GetParam{Body} && !$Self->{LayoutObject}->{BrowserRichText} ) {\n            $GetParam{Body} = $Self->{LayoutObject}->WrapPlainText(\n                MaxCharacters => $Self->{ConfigObject}->Get('Ticket::Frontend::TextAreaNote'),\n                PlainText     => $GetParam{Body},\n            );\n        }\n\n        # for attachment actions\n        my $IsUpload = 0;\n\n        # attachment delete\n        for my $Count ( 1 .. 32 ) {\n            my $Delete = $Self->{ParamObject}->GetParam( Param => \"AttachmentDelete$Count\" );\n            next if !$Delete;\n            $GetParam{FollowUpVisible} = 'Visible';\n            $Error{AttachmentDelete}   = 1;\n            $Self->{UploadCacheObject}->FormIDRemoveFile(\n                FormID => $Self->{FormID},\n                FileID => $Count,\n            );\n            $IsUpload = 1;\n        }\n\n        # attachment upload\n        if ( $Self->{ParamObject}->GetParam( Param => 'AttachmentUpload' ) ) {\n            $GetParam{FollowUpVisible} = 'Visible';\n            $Error{AttachmentUpload}   = 1;\n            my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n                Param  => \"file_upload\",\n                Source => 'string',\n            );\n            $Self->{UploadCacheObject}->FormIDAddFile(\n                FormID => $Self->{FormID},\n                %UploadStuff,\n            );\n            $IsUpload = 1;\n        }\n\n        if ( !$IsUpload ) {\n            if ( !$GetParam{Body} || $GetParam{Body} eq '<br />' ) {\n                $Error{RichTextInvalid}    = 'ServerError';\n                $GetParam{FollowUpVisible} = 'Visible';\n            }\n        }\n\n        # create html strings for all dynamic fields\n        my %DynamicFieldHTML;\n\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            my $PossibleValuesFilter;\n\n            # check if field has PossibleValues property in its configuration\n            if ( IsHashRefWithData( $DynamicFieldConfig->{Config}->{PossibleValues} ) ) {\n\n                # convert possible values key => value to key => key for ACLs usign a Hash slice\n                my %AclData = %{ $DynamicFieldConfig->{Config}->{PossibleValues} };\n                @AclData{ keys %AclData } = keys %AclData;\n\n                # set possible values filter from ACLs\n                my $ACL = $Self->{TicketObject}->TicketAcl(\n                    %GetParam,\n                    Action         => $Self->{Action},\n                    TicketID       => $Self->{TicketID},\n                    ReturnType     => 'Ticket',\n                    ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data           => \\%AclData,\n                    CustomerUserID => $Self->{UserID},\n                );\n                if ($ACL) {\n                    my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                    # convert Filer key => key back to key => value using map\n                    %{$PossibleValuesFilter}\n                        = map { $_ => $DynamicFieldConfig->{Config}->{PossibleValues}->{$_} }\n                        keys %Filter;\n                }\n            }\n\n            my $ValidationResult;\n\n            # do not validate on attachment upload\n            if ( !$IsUpload ) {\n\n                $ValidationResult = $Self->{BackendObject}->EditFieldValueValidate(\n                    DynamicFieldConfig   => $DynamicFieldConfig,\n                    PossibleValuesFilter => $PossibleValuesFilter,\n                    ParamObject          => $Self->{ParamObject},\n                    Mandatory =>\n                        $Self->{Config}->{FollowUpDynamicField}->{ $DynamicFieldConfig->{Name} }\n                        == 2,\n                );\n\n                if ( !IsHashRefWithData($ValidationResult) ) {\n                    my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n                    $Output .= $Self->{LayoutObject}->CustomerError(\n                        Message =>\n                            \"Could not perform validation on field $DynamicFieldConfig->{Label}!\",\n                        Comment => 'Please contact your administrator',\n                    );\n                    $Output .= $Self->{LayoutObject}->CustomerFooter();\n                    return $Output;\n                }\n\n                # propagate validation error to the Error variable to be detected by the frontend\n                if ( $ValidationResult->{ServerError} ) {\n                    $Error{ $DynamicFieldConfig->{Name} } = ' ServerError';\n\n                    # make FollowUp visible to correcly show the error\n                    $GetParam{FollowUpVisible} = 'Visible';\n                }\n            }\n\n            # get field html\n            $DynamicFieldHTML{ $DynamicFieldConfig->{Name} } =\n                $Self->{BackendObject}->EditFieldRender(\n                DynamicFieldConfig   => $DynamicFieldConfig,\n                PossibleValuesFilter => $PossibleValuesFilter,\n                Mandatory =>\n                    $Self->{Config}->{FollowUpDynamicField}->{ $DynamicFieldConfig->{Name} } == 2,\n                ServerError  => $ValidationResult->{ServerError}  || '',\n                ErrorMessage => $ValidationResult->{ErrorMessage} || '',\n                LayoutObject => $Self->{LayoutObject},\n                ParamObject  => $Self->{ParamObject},\n                AJAXUpdate   => 1,\n                UpdatableFields => $Self->_GetFieldsToUpdate(),\n                );\n        }\n\n        # show edit again\n        if (%Error) {\n\n            # generate output\n            my $Output = $Self->{LayoutObject}->CustomerHeader( Value => $Ticket{TicketNumber} );\n            $Output .= $Self->{LayoutObject}->CustomerNavigationBar();\n            $Output .= $Self->_Mask(\n                TicketID   => $Self->{TicketID},\n                ArticleBox => \\@ArticleBox,\n                Errors     => \\%Error,\n                %Ticket,\n                TicketState   => $Ticket{State},\n                TicketStateID => $Ticket{StateID},\n                %GetParam,\n                DynamicFieldHTML => \\%DynamicFieldHTML,\n            );\n            $Output .= $Self->{LayoutObject}->CustomerFooter();\n            return $Output;\n        }\n\n        # unlock ticket if agent is on vacation or invalid\n        my $LockAction;\n        if ( $Ticket{OwnerID} ) {\n            my %User = $Self->{AgentUserObject}->GetUserData(\n                UserID => $Ticket{OwnerID},\n            );\n            if ( %User && ( $User{OutOfOfficeMessage} || $User{ValidID} ne '1' ) ) {\n                $LockAction = 'unlock';\n            }\n        }\n\n        # set lock if ticket was closed\n        if (\n            !$LockAction\n            && $Lock\n            && $State{TypeName} =~ /^close/i && $Ticket{OwnerID} ne '1'\n            )\n        {\n\n            $LockAction = 'lock';\n        }\n\n        if ($LockAction) {\n            $Self->{TicketObject}->TicketLockSet(\n                TicketID => $Self->{TicketID},\n                Lock     => $LockAction,\n                UserID   => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        my $From = \"$Self->{UserFirstname} $Self->{UserLastname} <$Self->{UserEmail}>\";\n\n        my $MimeType = 'text/plain';\n        if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n            $MimeType = 'text/html';\n\n            # verify html document\n            $GetParam{Body} = $Self->{LayoutObject}->RichTextDocumentComplete(\n                String => $GetParam{Body},\n            );\n        }\n\n        my $ArticleID = $Self->{TicketObject}->ArticleCreate(\n            TicketID    => $Self->{TicketID},\n            ArticleType => $Self->{Config}->{ArticleType},\n            SenderType  => $Self->{Config}->{SenderType},\n            From        => $From,\n            Subject     => $GetParam{Subject},\n            Body        => $GetParam{Body},\n            MimeType    => $MimeType,\n            Charset     => $Self->{LayoutObject}->{UserCharset},\n            UserID      => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            OrigHeader  => {\n                From    => $From,\n                To      => 'System',\n                Subject => $GetParam{Subject},\n                Body    => $Self->{LayoutObject}->RichText2Ascii( String => $GetParam{Body} ),\n            },\n            HistoryType      => $Self->{Config}->{HistoryType},\n            HistoryComment   => $Self->{Config}->{HistoryComment} || '%%',\n            AutoResponseType => 'auto follow up',\n        );\n        if ( !$ArticleID ) {\n            my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n            $Output .= $Self->{LayoutObject}->CustomerError();\n            $Output .= $Self->{LayoutObject}->CustomerFooter();\n            return $Output;\n        }\n\n        # set state\n        my $NextState = $Self->{Config}->{StateDefault} || 'open';\n        if ( $GetParam{StateID} && $Self->{Config}->{State} ) {\n            my %NextStateData = $Self->{StateObject}->StateGet( ID => $GetParam{StateID} );\n            $NextState = $NextStateData{Name};\n        }\n\n        # change state if\n        # customer set another state\n        # or the ticket is not new\n        if ( $Ticket{StateType} !~ /^new/ || $GetParam{StateID} ) {\n            $Self->{TicketObject}->StateSet(\n                TicketID  => $Self->{TicketID},\n                ArticleID => $ArticleID,\n                State     => $NextState,\n                UserID    => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # set priority\n        if ( $Self->{Config}->{Priority} && $GetParam{PriorityID} ) {\n            $Self->{TicketObject}->TicketPrioritySet(\n                TicketID   => $Self->{TicketID},\n                PriorityID => $GetParam{PriorityID},\n                UserID     => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # get pre loaded attachment\n        my @AttachmentData = $Self->{UploadCacheObject}->FormIDGetAllFilesData(\n            FormID => $Self->{FormID}\n        );\n\n        # get submit attachment\n        my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n            Param  => 'file_upload',\n            Source => 'String',\n        );\n        if (%UploadStuff) {\n            push @AttachmentData, \\%UploadStuff;\n        }\n\n        # write attachments\n        for my $Attachment (@AttachmentData) {\n\n            # skip deleted inline images\n            next if $Attachment->{ContentID}\n                && $Attachment->{ContentID} =~ /^inline/\n                && $GetParam{Body} !~ /$Attachment->{ContentID}/;\n            $Self->{TicketObject}->ArticleWriteAttachment(\n                %{$Attachment},\n                ArticleID => $ArticleID,\n                UserID    => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # set ticket dynamic fields\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Ticket';\n\n            # set the value\n            my $Success = $Self->{BackendObject}->ValueSet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $Self->{TicketID},\n                Value              => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                UserID             => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # set article dynamic fields\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Article';\n\n            # set the value\n            my $Success = $Self->{BackendObject}->ValueSet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $ArticleID,\n                Value              => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                UserID             => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # remove pre submited attachments\n        $Self->{UploadCacheObject}->FormIDRemove( FormID => $Self->{FormID} );\n\n        # redirect to zoom view\n        return $Self->{LayoutObject}->Redirect(\n            OP => \"Action=$NextScreen;TicketID=$Self->{TicketID}\",\n        );\n    }\n\n    $Ticket{TmpCounter}      = 0;\n    $Ticket{TicketTimeUnits} = $Self->{TicketObject}->TicketAccountedTimeGet(\n        TicketID => $Ticket{TicketID},\n    );\n\n    # set priority from ticket as fallback\n    $GetParam{PriorityID} ||= $Ticket{PriorityID};\n\n    # create html strings for all dynamic fields\n    my %DynamicFieldHTML;\n\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        my $PossibleValuesFilter;\n\n        # check if field has PossibleValues property in its configuration\n        if ( IsHashRefWithData( $DynamicFieldConfig->{Config}->{PossibleValues} ) ) {\n\n            # convert possible values key => value to key => key for ACLs usign a Hash slice\n            my %AclData = %{ $DynamicFieldConfig->{Config}->{PossibleValues} };\n            @AclData{ keys %AclData } = keys %AclData;\n\n            # set possible values filter from ACLs\n            my $ACL = $Self->{TicketObject}->TicketAcl(\n                %GetParam,\n                Action         => $Self->{Action},\n                TicketID       => $Self->{TicketID},\n                ReturnType     => 'Ticket',\n                ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                Data           => \\%AclData,\n                CustomerUserID => $Self->{UserID},\n            );\n            if ($ACL) {\n                my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                # convert Filer key => key back to key => value using map\n                %{$PossibleValuesFilter}\n                    = map { $_ => $DynamicFieldConfig->{Config}->{PossibleValues}->{$_} }\n                    keys %Filter;\n            }\n        }\n\n        # get field html\n        $DynamicFieldHTML{ $DynamicFieldConfig->{Name} } =\n            $Self->{BackendObject}->EditFieldRender(\n            DynamicFieldConfig   => $DynamicFieldConfig,\n            PossibleValuesFilter => $PossibleValuesFilter,\n            Mandatory =>\n                $Self->{Config}->{FollowUpDynamicField}->{ $DynamicFieldConfig->{Name} } == 2,\n            LayoutObject    => $Self->{LayoutObject},\n            ParamObject     => $Self->{ParamObject},\n            AJAXUpdate      => 1,\n            UpdatableFields => $Self->_GetFieldsToUpdate(),\n            Value           => $Ticket{ 'DynamicField_' . $DynamicFieldConfig->{Name} },\n\n            );\n    }\n\n    # generate output\n    my $Output = $Self->{LayoutObject}->CustomerHeader( Value => $Ticket{TicketNumber} );\n    $Output .= $Self->{LayoutObject}->CustomerNavigationBar();\n\n    # show ticket\n    if ( $Self->{Subaction} eq 'ShowHTMLeMail' ) {\n\n        # if it is a html email, drop normal header\n        $Ticket{ShowHTMLeMail} = 1;\n        $Output = '';\n    }\n    $Output .= $Self->_Mask(\n        TicketID   => $Self->{TicketID},\n        ArticleBox => \\@ArticleBox,\n        %Ticket,\n        TicketState   => $Ticket{State},\n        TicketStateID => $Ticket{StateID},\n        %GetParam,\n        DynamicFieldHTML => \\%DynamicFieldHTML,\n    );\n\n    # return if HTML email\n    if ( $Self->{Subaction} eq 'ShowHTMLeMail' ) {\n        return $Output;\n    }\n\n    # add footer\n    $Output .= $Self->{LayoutObject}->CustomerFooter();\n\n    # return output\n    return $Output;\n}\n\nsub _GetNextStates {\n    my ( $Self, %Param ) = @_;\n\n    my %NextStates;\n    if ( $Param{TicketID} ) {\n        %NextStates = $Self->{TicketObject}->TicketStateList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n    }\n    return \\%NextStates;\n}\n\nsub _GetPriorities {\n    my ( $Self, %Param ) = @_;\n\n    # get priority\n    my %Priorities;\n    if ( $Param{TicketID} ) {\n        %Priorities = $Self->{TicketObject}->TicketPriorityList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n    }\n    return \\%Priorities;\n}\n\nsub _Mask {\n    my ( $Self, %Param ) = @_;\n\n    $Param{FormID} = $Self->{FormID};\n\n    # show back link\n    if ( $Self->{LastScreenOverview} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'Back',\n            Data => \\%Param,\n        );\n    }\n\n    # build article stuff\n    my $SelectedArticleID = $Self->{ParamObject}->GetParam( Param => 'ArticleID' ) || '';\n    my $BaseLink          = $Self->{LayoutObject}->{Baselink} . \"TicketID=$Self->{TicketID}&\";\n    my @ArticleBox        = @{ $Param{ArticleBox} };\n\n    # prepare errors!\n    if ( $Param{Errors} ) {\n        for my $KeyError ( sort keys %{ $Param{Errors} } ) {\n            $Param{$KeyError}\n                = $Self->{LayoutObject}->Ascii2Html( Text => $Param{Errors}->{$KeyError} );\n        }\n    }\n\n    my $ArticleID           = '';\n    my $LastCustomerArticle = '';\n    if (@ArticleBox) {\n\n        # get last customer article\n        my $CounterArray = 0;\n        my $LastCustomerArticleID;\n        $LastCustomerArticle = $#ArticleBox;\n\n        for my $ArticleTmp (@ArticleBox) {\n            my %Article = %{$ArticleTmp};\n\n            # if it is a customer article\n            if ( $Article{SenderType} eq 'customer' ) {\n                $LastCustomerArticleID = $Article{ArticleID};\n                $LastCustomerArticle   = $CounterArray;\n            }\n            $CounterArray++;\n            if ( ($SelectedArticleID) && ( $SelectedArticleID eq $Article{ArticleID} ) ) {\n                $ArticleID = $Article{ArticleID};\n            }\n        }\n\n        # try to use the latest non internal agent article\n        if ( !$ArticleID ) {\n            $ArticleID         = $ArticleBox[-1]->{ArticleID};\n            $SelectedArticleID = $ArticleID;\n        }\n\n        # try to use the latest customer article\n        if ( !$ArticleID && $LastCustomerArticleID ) {\n            $ArticleID         = $LastCustomerArticleID;\n            $SelectedArticleID = $ArticleID;\n        }\n    }\n\n    # ticket priority flag\n    if ( $Self->{Config}->{AttributesView}->{Priority} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'PriorityFlag',\n            Data => \\%Param,\n        );\n    }\n\n    # ticket type\n    if ( $Self->{ConfigObject}->Get('Ticket::Type') && $Self->{Config}->{AttributesView}->{Type} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'Type',\n            Data => \\%Param,\n        );\n    }\n\n    # ticket service\n    if (\n        $Param{Service}\n        &&\n        $Self->{ConfigObject}->Get('Ticket::Service')\n        && $Self->{Config}->{AttributesView}->{Service}\n        )\n    {\n        $Self->{LayoutObject}->Block(\n            Name => 'Service',\n            Data => \\%Param,\n        );\n        if (\n            $Param{SLA}\n            && $Self->{ConfigObject}->Get('Ticket::Service')\n            && $Self->{Config}->{AttributesView}->{SLA}\n            )\n        {\n            $Self->{LayoutObject}->Block(\n                Name => 'SLA',\n                Data => \\%Param,\n            );\n        }\n    }\n\n    # ticket state\n    if ( $Self->{Config}->{AttributesView}->{State} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'State',\n            Data => \\%Param,\n        );\n    }\n\n    # ticket priority\n    if ( $Self->{Config}->{AttributesView}->{Priority} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'Priority',\n            Data => \\%Param,\n        );\n    }\n\n    # ticket queue\n    if ( $Self->{Config}->{AttributesView}->{Queue} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'Queue',\n            Data => \\%Param,\n        );\n    }\n\n    # ticket owner\n    if ( $Self->{Config}->{AttributesView}->{Owner} ) {\n        my $OwnerName = $Self->{AgentUserObject}->UserName(\n            UserID => $Param{OwnerID},\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'Owner',\n            Data => { OwnerName => $OwnerName },\n        );\n    }\n\n    # ticket responsible\n    if (\n        $Self->{ConfigObject}->Get('Ticket::Responsible')\n        &&\n        $Self->{Config}->{AttributesView}->{Responsible}\n        )\n    {\n        my $ResponsibleName = $Self->{AgentUserObject}->UserName(\n            UserID => $Param{ResponsibleID},\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'Responsible',\n            Data => { ResponsibleName => $ResponsibleName },\n        );\n    }\n\n    # check if ticket is normal or process ticket\n    my $IsProcessTicket = $Self->{TicketObject}->TicketCheckForProcessType(\n        'TicketID' => $Self->{TicketID}\n    );\n\n    #    my $ProcessData;\n    #    my $ActivityData;\n    # show process widget  and activity dialogs on process tickets\n    if ($IsProcessTicket) {\n\n        # get the DF where the ProcessEntityID is stored\n        my $ProcessEntityIDField = 'DynamicField_'\n            . $Self->{ConfigObject}->Get(\"Process::DynamicFieldProcessManagementProcessID\");\n\n        # get the DF where the AtivityEntityID is stored\n        my $ActivityEntityIDField = 'DynamicField_'\n            . $Self->{ConfigObject}->Get(\"Process::DynamicFieldProcessManagementActivityID\");\n\n        my $ProcessData = $Self->{ProcessObject}->ProcessGet(\n            ProcessEntityID => $Param{$ProcessEntityIDField},\n        );\n\n        my $ActivityData = $Self->{ActivityObject}->ActivityGet(\n            Interface        => 'CustomerInterface',\n            ActivityEntityID => $Param{$ActivityEntityIDField},\n        );\n\n        # output process information in the sidebar\n        $Self->{LayoutObject}->Block(\n            Name => 'ProcessData',\n            Data => {\n                Process  => $ProcessData->{Name}  || '',\n                Activity => $ActivityData->{Name} || '',\n            },\n        );\n\n        # output the process widget the the main screen\n        $Self->{LayoutObject}->Block(\n            Name => 'ProcessWidget',\n            Data => {\n                WidgetTitle => $Param{WidgetTitle},\n            },\n        );\n\n        # get next activity dialogs\n        my $NextActivityDialogs;\n        if ( $Param{$ActivityEntityIDField} ) {\n            $NextActivityDialogs = $ActivityData;\n        }\n\n        if ( IsHashRefWithData($NextActivityDialogs) ) {\n\n            # we don't need the whole Activity config,\n            # just the Activity Dialogs of the current Activity\n            if ( IsHashRefWithData( $NextActivityDialogs->{ActivityDialog} ) ) {\n                %{$NextActivityDialogs} = %{ $NextActivityDialogs->{ActivityDialog} };\n            }\n            else {\n                $NextActivityDialogs = {};\n            }\n\n            # ACL Check is done in the initial \"Run\" statement\n            # so here we can just pick the possibly reduced Activity Dialogs\n            # map and sort reformat the $NextActivityDialogs hash from it's initial form e.g.:\n            # 1 => 'AD1',\n            # 2 => 'AD3',\n            # 3 => 'AD2',\n            # to a regular array in correct order:\n            # ('AD1', 'AD3', 'AD2')\n\n            my @TmpActivityDialogList\n                = map { $NextActivityDialogs->{$_} }\n                sort  { $a <=> $b } keys %{$NextActivityDialogs};\n\n            # we have to check if the current user has the needed permissions to view the\n            # different activity dialogs, so we loop over every activity dialog and check if there\n            # is a permission configured. If there is a permission configured we check this\n            # and display/hide the activity dialog link\n            my %PermissionRights;\n            my @PermissionActivityDialogList;\n            ACTIVITYDIALOGPERMISSION:\n            for my $CurrentActivityDialogEntityID (@TmpActivityDialogList) {\n\n                my $CurrentActivityDialog = $Self->{ActivityDialogObject}->ActivityDialogGet(\n                    ActivityDialogEntityID => $CurrentActivityDialogEntityID,\n                    Interface              => 'CustomerInterface',\n                );\n\n                # create an interface lookuplist\n                my %InterfaceLookup = map { $_ => 1 } @{ $CurrentActivityDialog->{Interface} };\n\n                next ACTIVITYDIALOGPERMISSION if !$InterfaceLookup{CustomerInterface};\n\n                if ( $CurrentActivityDialog->{Permission} ) {\n\n                    # performanceboost/cache\n                    if ( !defined $PermissionRights{ $CurrentActivityDialog->{Permission} } ) {\n                        $PermissionRights{ $CurrentActivityDialog->{Permission} }\n                            = $Self->{TicketObject}->TicketCustomerPermission(\n                            Type     => $CurrentActivityDialog->{Permission},\n                            TicketID => $Param{TicketID},\n                            UserID   => $Self->{UserID},\n                            );\n                    }\n\n                    next ACTIVITYDIALOGPERMISSION\n                        if !$PermissionRights{ $CurrentActivityDialog->{Permission} };\n                }\n\n                push @PermissionActivityDialogList, $CurrentActivityDialogEntityID;\n            }\n\n            my @PossibleActivityDialogs;\n            if (@PermissionActivityDialogList) {\n                @PossibleActivityDialogs\n                    = $Self->{TicketObject}->TicketAclActivityDialogData(\n                    ActivityDialogs => \\@PermissionActivityDialogList\n                    );\n            }\n\n            # reformat the @PossibleActivityDialogs that is of the structure:\n            # @PossibleActivityDialogs = ('AD1', 'AD3', 'AD4', 'AD2');\n            # to get the same structure as in the %NextActivityDialogs\n            # e.g.:\n            # 1 => 'AD1',\n            # 2 => 'AD3',\n            %{$NextActivityDialogs}\n                = map { $_ => $PossibleActivityDialogs[ $_ - 1 ] }\n                1 .. scalar @PossibleActivityDialogs;\n\n            $Self->{LayoutObject}->Block(\n                Name => 'NextActivities',\n            );\n\n            for my $NextActivityDialogKey ( sort { $a <=> $b } keys %{$NextActivityDialogs} ) {\n                my $ActivityDialogData = $Self->{ActivityDialogObject}->ActivityDialogGet(\n                    ActivityDialogEntityID => $NextActivityDialogs->{$NextActivityDialogKey},\n                    Interface              => 'CustomerInterface',\n                );\n                $Self->{LayoutObject}->Block(\n                    Name => 'ActivityDialog',\n                    Data => {\n                        ActivityDialogEntityID => $NextActivityDialogs->{$NextActivityDialogKey},\n                        Name                   => $ActivityDialogData->{Name},\n                        ProcessEntityID        => $Param{$ProcessEntityIDField},\n                        TicketID               => $Param{TicketID},\n                    },\n                );\n            }\n\n            if ( !IsHashRefWithData($NextActivityDialogs) ) {\n                $Self->{LayoutObject}->Block(\n                    Name => 'NoActivityDialog',\n                    Data => {},\n                );\n            }\n        }\n    }\n\n    # get the dynamic fields for ticket object\n    my $DynamicField = $Self->{DynamicFieldObject}->DynamicFieldListGet(\n        Valid       => 1,\n        ObjectType  => ['Ticket'],\n        FieldFilter => $Self->{DynamicFieldFilter} || {},\n    );\n\n    # cycle trough the activated Dynamic Fields for ticket object\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{$DynamicField} ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        my $Value = $Self->{BackendObject}->ValueGet(\n            DynamicFieldConfig => $DynamicFieldConfig,\n            ObjectID           => $Param{TicketID},\n        );\n\n        next DYNAMICFIELD if !$Value;\n        next DYNAMICFIELD if $Value eq \"\";\n\n        # get print string for this dynamic field\n        my $ValueStrg = $Self->{BackendObject}->DisplayValueRender(\n            DynamicFieldConfig => $DynamicFieldConfig,\n            Value              => $Value,\n            ValueMaxChars      => 25,\n            LayoutObject       => $Self->{LayoutObject},\n        );\n\n        my $Label = $DynamicFieldConfig->{Label};\n\n        $Self->{LayoutObject}->Block(\n            Name => 'TicketDynamicField',\n            Data => {\n                Label => $Label,\n                Value => $ValueStrg->{Value},\n                Title => $ValueStrg->{Title},\n            },\n        );\n\n        # example of dynamic fields order customization\n        $Self->{LayoutObject}->Block(\n            Name => 'TicketDynamicField_' . $DynamicFieldConfig->{Name},\n            Data => {\n                Label => $Label,\n                Value => $ValueStrg->{Value},\n                Title => $ValueStrg->{Title},\n            },\n        );\n    }\n\n    # print option\n    if ( $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{CustomerTicketPrint} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'Print',\n            Data => \\%Param,\n        );\n    }\n\n    # Expand option\n    my $ExpandOption = ( $Self->{ZoomExpand}    ? 'One' : 'All' );\n    my $ExpandPlural = ( $ExpandOption eq 'All' ? 's'   : '' );\n    $Self->{LayoutObject}->Block(\n        Name => 'Expand',\n        Data => {\n            ZoomExpand   => !$Self->{ZoomExpand},\n            ExpandOption => $ExpandOption,\n            ExpandText   => lc($ExpandOption),\n            ExpandPlural => $ExpandPlural,\n            %Param,\n        },\n    );\n\n    my $ShownArticles;\n    my $LastSenderType = '';\n    for my $ArticleTmp (@ArticleBox) {\n        my %Article = %$ArticleTmp;\n\n        # check if article should be expanded (visible)\n        if ( $SelectedArticleID eq $Article{ArticleID} || $Self->{ZoomExpand} ) {\n            $Article{Class} = 'Visible';\n            $ShownArticles++;\n        }\n\n        # do some html quoting\n        $Article{Age} = $Self->{LayoutObject}->CustomerAge(\n            Age   => $Article{AgeTimeUnix},\n            Space => ' ',\n        );\n\n        $Article{Subject} = $Self->{TicketObject}->TicketSubjectClean(\n            TicketNumber => $Article{TicketNumber},\n            Subject      => $Article{Subject} || '',\n            Size         => 150,\n        );\n\n        $LastSenderType = $Article{SenderType};\n\n        $Self->{LayoutObject}->Block(\n            Name => 'Article',\n            Data => \\%Article,\n        );\n\n        # show the correct title: \"expand article...\" or the article's subject\n        if ( $SelectedArticleID eq $Article{ArticleID} || $Self->{ZoomExpand} ) {\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleExpanded',\n                Data => \\%Article,\n            );\n        }\n        else {\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleContracted',\n                Data => \\%Article,\n            );\n        }\n\n        # do some strips && quoting\n        for my $Key (qw(From To Cc)) {\n            next if !$Article{$Key};\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleRow',\n                Data => {\n                    Key      => $Key,\n                    Value    => $Article{$Key},\n                    Realname => $Article{ $Key . 'Realname' },\n                },\n            );\n        }\n\n        # get the dynamic fields for article object\n        my $DynamicField = $Self->{DynamicFieldObject}->DynamicFieldListGet(\n            Valid       => 1,\n            ObjectType  => ['Article'],\n            FieldFilter => $Self->{DynamicFieldFilter} || {},\n        );\n\n        # cycle trough the activated Dynamic Fields for ticket object\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{$DynamicField} ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            my $Value = $Self->{BackendObject}->ValueGet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $Article{ArticleID},\n            );\n\n            next DYNAMICFIELD if !$Value;\n            next DYNAMICFIELD if $Value eq \"\";\n\n            # get print string for this dynamic field\n            my $ValueStrg = $Self->{BackendObject}->DisplayValueRender(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                Value              => $Value,\n                ValueMaxChars      => 160,\n                LayoutObject       => $Self->{LayoutObject},\n            );\n\n            my $Label = $DynamicFieldConfig->{Label};\n\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleDynamicField',\n                Data => {\n                    Label => $Label,\n                    Value => $ValueStrg->{Value},\n                    Title => $ValueStrg->{Title},\n                },\n            );\n\n            # example of dynamic fields order customization\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleDynamicField_' . $DynamicFieldConfig->{Name},\n                Data => {\n                    Label => $Label,\n                    Value => $ValueStrg->{Value},\n                    Title => $ValueStrg->{Title},\n                },\n            );\n        }\n\n        # check if just a only html email\n        if ( my $MimeTypeText = $Self->{LayoutObject}->CheckMimeType( %Param, %Article ) ) {\n            $Param{BodyNote} = $MimeTypeText;\n            $Param{Body}     = '';\n        }\n        else {\n\n            # html quoting\n            $Article{Body} = $Self->{LayoutObject}->Ascii2Html(\n                NewLine        => $Self->{ConfigObject}->Get('DefaultViewNewLine'),\n                Text           => $Article{Body},\n                VMax           => $Self->{ConfigObject}->Get('DefaultViewLines') || 5000,\n                HTMLResultMode => 1,\n                LinkFeature    => 1,\n            );\n\n            # do charset check\n            if ( my $CharsetText = $Self->{LayoutObject}->CheckCharset( %Param, %Article ) ) {\n                $Param{BodyNote} = $CharsetText;\n            }\n        }\n\n        # in case show plain article body (if no html body as attachment exists of if rich\n        # text is not enabled)\n        my $RichText = $Self->{LayoutObject}->{BrowserRichText};\n        if ( $RichText && $Article{AttachmentIDOfHTMLBody} ) {\n            if ( $SelectedArticleID eq $Article{ArticleID} || $Self->{ZoomExpand} ) {\n                $Self->{LayoutObject}->Block(\n                    Name => 'BodyHTMLLoad',\n                    Data => {\n                        %Param,\n                        %Article,\n                    },\n                );\n            }\n            else {\n                my $SessionInformation;\n\n                # Append session information to URL if needed\n                if ( !$Self->{LayoutObject}->{SessionIDCookie} ) {\n                    $SessionInformation = $Self->{LayoutObject}->{SessionName} . '='\n                        . $Self->{LayoutObject}->{SessionID};\n                }\n\n                $Self->{LayoutObject}->Block(\n                    Name => 'BodyHTMLPlaceholder',\n                    Data => {\n                        %Param,\n                        %Article,\n                        SessionInformation => $SessionInformation,\n                    },\n                );\n            }\n        }\n        else {\n            $Self->{LayoutObject}->Block(\n                Name => 'BodyPlain',\n                Data => {\n                    %Param,\n                    %Article,\n                },\n            );\n        }\n\n        # add attachment icon\n        if ( $Article{Atms} && %{ $Article{Atms} } ) {\n\n            # download type\n            my $Type = $Self->{ConfigObject}->Get('AttachmentDownloadType') || 'attachment';\n\n            # if attachment will be forced to download, don't open a new download window!\n            my $Target = '';\n            if ( $Type =~ /inline/i ) {\n                $Target = 'target=\"attachment\" ';\n            }\n            my %AtmIndex = %{ $Article{Atms} };\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleAttachment',\n                Data => { Key => 'Attachment', },\n            );\n            for my $FileID ( sort keys %AtmIndex ) {\n                my %File = %{ $AtmIndex{$FileID} };\n                $Self->{LayoutObject}->Block(\n                    Name => 'ArticleAttachmentRow',\n                    Data => \\%File,\n                );\n\n                $Self->{LayoutObject}->Block(\n                    Name => 'ArticleAttachmentRowLink',\n                    Data => {\n                        %File,\n                        Action => 'Download',\n                        Link =>\n                            \"\\$Env{\\\"Baselink\\\"}Action=CustomerTicketAttachment;ArticleID=$Article{ArticleID};FileID=$FileID\",\n                        Image  => 'disk-s.png',\n                        Target => $Target,\n                    },\n                );\n            }\n        }\n    }\n\n    # if there are no viewable articles show NoArticles message\n    if ( !@ArticleBox ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'NoArticles',\n        );\n    }\n\n    my %Article;\n    if (@ArticleBox) {\n\n        my $ArticleOB = {};\n        if ($LastCustomerArticle) {\n            $ArticleOB = $ArticleBox[$LastCustomerArticle];\n        }\n\n        %Article = %$ArticleOB;\n\n        # if no customer articles found use ticket values\n        if ( !IsHashRefWithData( \\%Article ) ) {\n            %Article = %Param;\n            if ( !$Article{StateID} ) {\n                $Article{StateID} = $Param{TicketStateID}\n            }\n        }\n\n        my $ArticleArray = 0;\n        for my $ArticleTmp (@ArticleBox) {\n            my %ArticleTmp1 = %$ArticleTmp;\n            if ( $ArticleID eq $ArticleTmp1{ArticleID} ) {\n                %Article = %ArticleTmp1;\n            }\n        }\n\n        # just body if html email\n        if ( $Param{ShowHTMLeMail} ) {\n\n            # generate output\n            return $Self->{LayoutObject}->Attachment(\n                Filename => $Self->{ConfigObject}->Get('Ticket::Hook')\n                    . \"-$Article{TicketNumber}-$Article{TicketID}-$Article{ArticleID}\",\n                Type        => 'inline',\n                ContentType => \"$Article{MimeType}; charset=$Article{Charset}\",\n                Content     => $Article{Body},\n            );\n        }\n    }\n\n    # fallback to ticket info if there is no article\n    if ( !IsHashRefWithData( \\%Article ) ) {\n        %Article = %Param;\n        if ( !$Article{StateID} ) {\n            $Article{StateID} = $Param{TicketStateID}\n        }\n    }\n\n    # check follow up permissions\n    my $FollowUpPossible\n        = $Self->{QueueObject}->GetFollowUpOption( QueueID => $Article{QueueID}, );\n    my %State = $Self->{StateObject}->StateGet(\n        ID => $Article{StateID},\n    );\n    if (\n        $Self->{TicketObject}->TicketCustomerPermission(\n            Type     => 'update',\n            TicketID => $Self->{TicketID},\n            UserID   => $Self->{UserID}\n        )\n        && (\n            ( $FollowUpPossible !~ /(new ticket|reject)/i && $State{TypeName} =~ /^close/i )\n            || $State{TypeName} !~ /^close/i\n        )\n        )\n    {\n\n        my $DynamicFieldNames = $Self->_GetFieldsToUpdate(\n            OnlyDynamicFields => 1,\n        );\n\n        # create a string with the quoted dynamic field names separated by a commas\n        if ( IsArrayRefWithData($DynamicFieldNames) ) {\n            my $FirstItem = 1;\n            FIELD:\n            for my $Field ( @{$DynamicFieldNames} ) {\n                if ($FirstItem) {\n                    $FirstItem = 0;\n                }\n                else {\n                    $Param{DynamicFieldNamesStrg} .= ', ';\n                }\n                $Param{DynamicFieldNamesStrg} .= \"'\" . $Field . \"'\";\n            }\n        }\n\n        # check subject\n        if ( !$Param{Subject} ) {\n            $Param{Subject} = \"Re: $Param{Title}\";\n        }\n        $Self->{LayoutObject}->Block(\n            Name => 'FollowUp',\n            Data => \\%Param,\n        );\n\n        # add rich text editor\n        if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n\n            # use height/width defined for this screen\n            $Param{RichTextHeight} = $Self->{Config}->{RichTextHeight} || 0;\n            $Param{RichTextWidth}  = $Self->{Config}->{RichTextWidth}  || 0;\n\n            $Self->{LayoutObject}->Block(\n                Name => 'RichText',\n                Data => \\%Param,\n            );\n        }\n\n        # build next states string\n        if ( $Self->{Config}->{State} ) {\n            my %NextStates = $Self->{TicketObject}->TicketStateList(\n                TicketID       => $Self->{TicketID},\n                Action         => $Self->{Action},\n                CustomerUserID => $Self->{UserID},\n            );\n            my %StateSelected;\n            if ( $Param{StateID} ) {\n                $StateSelected{SelectedID} = $Param{StateID};\n            }\n            else {\n                $StateSelected{SelectedValue} = $Self->{Config}->{StateDefault};\n            }\n            $Param{NextStatesStrg} = $Self->{LayoutObject}->BuildSelection(\n                Data => \\%NextStates,\n                Name => 'StateID',\n                %StateSelected,\n            );\n            $Self->{LayoutObject}->Block(\n                Name => 'FollowUpState',\n                Data => \\%Param,\n            );\n        }\n\n        # get priority\n        if ( $Self->{Config}->{Priority} ) {\n            my %Priorities = $Self->{TicketObject}->TicketPriorityList(\n                CustomerUserID => $Self->{UserID},\n                Action         => $Self->{Action},\n            );\n            my %PrioritySelected;\n            if ( $Param{PriorityID} ) {\n                $PrioritySelected{SelectedID} = $Param{PriorityID};\n            }\n            else {\n                $PrioritySelected{SelectedValue} = $Self->{Config}->{PriorityDefault}\n                    || '3 normal';\n            }\n            $Param{PriorityStrg} = $Self->{LayoutObject}->BuildSelection(\n                Data => \\%Priorities,\n                Name => 'PriorityID',\n                %PrioritySelected,\n            );\n            $Self->{LayoutObject}->Block(\n                Name => 'FollowUpPriority',\n                Data => \\%Param,\n            );\n        }\n\n        # Dynamic fields\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            # skip fields that HTML could not be retrieved\n            next DYNAMICFIELD if !IsHashRefWithData(\n                $Param{DynamicFieldHTML}->{ $DynamicFieldConfig->{Name} }\n            );\n\n            # get the html strings form $Param\n            my $DynamicFieldHTML = $Param{DynamicFieldHTML}->{ $DynamicFieldConfig->{Name} };\n\n            $Self->{LayoutObject}->Block(\n                Name => 'FollowUpDynamicField',\n                Data => {\n                    Name  => $DynamicFieldConfig->{Name},\n                    Label => $DynamicFieldHTML->{Label},\n                    Field => $DynamicFieldHTML->{Field},\n                },\n            );\n\n            # example of dynamic fields order customization\n            $Self->{LayoutObject}->Block(\n                Name => 'FollowUpDynamicField_' . $DynamicFieldConfig->{Name},\n                Data => {\n                    Name  => $DynamicFieldConfig->{Name},\n                    Label => $DynamicFieldHTML->{Label},\n                    Field => $DynamicFieldHTML->{Field},\n                },\n            );\n        }\n\n        # show attachments\n        # get all attachments meta data\n        my @Attachments = $Self->{UploadCacheObject}->FormIDGetAllFilesMeta(\n            FormID => $Self->{FormID},\n        );\n        for my $Attachment (@Attachments) {\n            next if $Attachment->{ContentID} && $Self->{LayoutObject}->{BrowserRichText};\n            $Self->{LayoutObject}->Block(\n                Name => 'FollowUpAttachment',\n                Data => $Attachment,\n            );\n        }\n    }\n\n    # select the output template\n    return $Self->{LayoutObject}->Output(\n        TemplateFile => 'CustomerTicketZoom',\n        Data         => {\n            %Article,\n            %Param,\n        },\n    );\n}\n\nsub _GetFieldsToUpdate {\n    my ( $Self, %Param ) = @_;\n\n    my @UpdatableFields;\n\n    # set the fields that can be updatable via AJAXUpdate\n    if ( !$Param{OnlyDynamicFields} ) {\n        @UpdatableFields\n            = qw( ServiceID SLAID PriorityID StateID );\n    }\n\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        my $Updateable = $Self->{BackendObject}->IsAJAXUpdateable(\n            DynamicFieldConfig => $DynamicFieldConfig,\n        );\n\n        next DYNAMICFIELD if !$Updateable;\n\n        push @UpdatableFields, 'DynamicField_' . $DynamicFieldConfig->{Name};\n    }\n\n    return \\@UpdatableFields;\n}\n\n1;\n", "# --\n# Kernel/Output/HTML/Layout.pm - provides generic HTML output\n# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::Output::HTML::Layout;\n\nuse strict;\nuse warnings;\n\nuse Kernel::Language;\nuse Kernel::System::HTMLUtils;\nuse Kernel::System::JSON;\nuse Kernel::System::VariableCheck qw(:all);\n\nuse Mail::Address;\nuse URI::Escape qw();\n\nuse vars qw(@ISA);\n\n=head1 NAME\n\nKernel::Output::HTML::Layout - all generic html functions\n\n=head1 SYNOPSIS\n\nAll generic html functions. E. g. to get options fields, template processing, ...\n\n=head1 PUBLIC INTERFACE\n\n=over 4\n\n=cut\n\n=item new()\n\ncreate a new object\n\n    use Kernel::Config;\n    use Kernel::System::Encode;\n    use Kernel::System::Log;\n    use Kernel::System::Time;\n    use Kernel::System::Main;\n    use Kernel::System::Web::Request;\n    use Kernel::Output::HTML::Layout;\n\n    my $ConfigObject = Kernel::Config->new();\n    my $EncodeObject = Kernel::System::Encode->new(\n        ConfigObject => $ConfigObject,\n    );\n    my $LogObject = Kernel::System::Log->new(\n        ConfigObject => $ConfigObject,\n        EncodeObject => $EncodeObject,\n    );\n    my $MainObject = Kernel::System::Main->new(\n        ConfigObject => $ConfigObject,\n        EncodeObject => $EncodeObject,\n        LogObject    => $LogObject,\n    );\n    my $TimeObject = Kernel::System::Time->new(\n        ConfigObject => $ConfigObject,\n        LogObject    => $LogObject,\n    );\n    my $RequestObject = Kernel::System::Web::Request->new(\n        ConfigObject => $ConfigObject,\n        LogObject    => $LogObject,\n        EncodeObject => $EncodeObject,\n        MainObject   => $MainObject,\n    );\n    my $LayoutObject = Kernel::Output::HTML::Layout->new(\n        ConfigObject  => $ConfigObject,\n        LogObject     => $LogObject,\n        MainObject    => $MainObject,\n        TimeObject    => $TimeObject,\n        ParamObject   => $RequestObject,\n        EncodeObject  => $EncodeObject,\n        Lang          => 'de',\n    );\n\n    in addition for NavigationBar() you need\n        DBObject\n        SessionObject\n        UserID\n        TicketObject\n        GroupObject\n\n    in addition for AgentCustomerViewTable() you need\n        DBObject\n\n=cut\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    # allocate new hash for object\n    my $Self = {%Param};\n    bless( $Self, $Type );\n\n    # set debug\n    $Self->{Debug} = 0;\n\n    # check needed objects\n    # Attention: NavigationBar() needs also SessionObject and some other objects\n    for my $Object (qw(ConfigObject LogObject TimeObject MainObject EncodeObject ParamObject)) {\n        if ( !$Self->{$Object} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => \"Got no $Object!\",\n            );\n            $Self->FatalError();\n        }\n    }\n\n    # create additional objects\n    $Self->{HTMLUtilsObject} = Kernel::System::HTMLUtils->new( %{$Self} );\n    $Self->{JSONObject}      = Kernel::System::JSON->new( %{$Self} );\n\n    # reset block data\n    delete $Self->{BlockData};\n\n    # get/set some common params\n    if ( !$Self->{UserTheme} ) {\n        $Self->{UserTheme} = $Self->{ConfigObject}->Get('DefaultTheme');\n    }\n\n    if ( $Self->{ConfigObject}->Get('TimeZoneUser') && $Self->{UserTimeZone} ) {\n        $Self->{UserTimeObject} = Kernel::System::Time->new(%Param);\n    }\n    else {\n        $Self->{UserTimeObject} = $Self->{TimeObject};\n        $Self->{UserTimeZone}   = '';\n    }\n\n    # Determine the language to use based on the browser setting, if there\n    #   is none yet.\n    if ( !$Self->{UserLanguage} ) {\n        my @BrowserLanguages = split /\\s*,\\s*/, $Self->{Lang} || $ENV{HTTP_ACCEPT_LANGUAGE} || '';\n        my %Data = %{ $Self->{ConfigObject}->Get('DefaultUsedLanguages') };\n        LANGUAGE:\n        for my $BrowserLang (@BrowserLanguages) {\n            for my $Language ( reverse sort keys %Data ) {\n\n                # check xx_XX and xx-XX type\n                my $LanguageOtherType = $Language;\n                $LanguageOtherType =~ s/_/-/;\n                if ( $BrowserLang =~ /^($Language|$LanguageOtherType)/i ) {\n                    $Self->{UserLanguage} = $Language;\n                    last LANGUAGE;\n                }\n            }\n        }\n        $Self->{UserLanguage} ||= $Self->{ConfigObject}->Get('DefaultLanguage') || 'en';\n    }\n\n    # create language object\n    if ( !$Self->{LanguageObject} ) {\n        $Self->{LanguageObject} = Kernel::Language->new(\n            UserTimeZone => $Self->{UserTimeZone},\n            UserLanguage => $Self->{UserLanguage},\n            LogObject    => $Self->{LogObject},\n            ConfigObject => $Self->{ConfigObject},\n            EncodeObject => $Self->{EncodeObject},\n            MainObject   => $Self->{MainObject},\n            Action       => $Self->{Action},\n        );\n    }\n\n    # set charset if there is no charset given\n    $Self->{UserCharset} = 'utf-8';\n    $Self->{Charset}     = $Self->{UserCharset};                            # just for compat.\n    $Self->{SessionID}   = $Param{SessionID} || '';\n    $Self->{SessionName} = $Param{SessionName} || 'SessionID';\n    $Self->{CGIHandle}   = $ENV{SCRIPT_NAME} || 'No-$ENV{\"SCRIPT_NAME\"}';\n\n    # baselink\n    $Self->{Baselink} = $Self->{CGIHandle} . '?';\n    $Self->{Time}     = $Self->{LanguageObject}->Time(\n        Action => 'GET',\n        Format => 'DateFormat',\n    );\n    $Self->{TimeLong} = $Self->{LanguageObject}->Time(\n        Action => 'GET',\n        Format => 'DateFormatLong',\n    );\n\n    # set text direction\n    $Self->{TextDirection} = $Self->{LanguageObject}->{TextDirection};\n\n    # check Frontend::Output::FilterElementPre\n    $Self->{FilterElementPre} = $Self->{ConfigObject}->Get('Frontend::Output::FilterElementPre');\n\n    # check Frontend::Output::FilterElementPost\n    $Self->{FilterElementPost} = $Self->{ConfigObject}->Get('Frontend::Output::FilterElementPost');\n\n    # check Frontend::Output::FilterContent\n    $Self->{FilterContent} = $Self->{ConfigObject}->Get('Frontend::Output::FilterContent');\n\n    # check Frontend::Output::FilterText\n    $Self->{FilterText} = $Self->{ConfigObject}->Get('Frontend::Output::FilterText');\n\n    # check browser (default is IE because I don't have IE)\n    $Self->{Browser} = 'Unknown';\n\n    $Self->{BrowserJavaScriptSupport} = 1;\n    $Self->{BrowserRichText}          = 1;\n\n    my $HttpUserAgent = ( defined $ENV{HTTP_USER_AGENT} ? lc $ENV{HTTP_USER_AGENT} : '' );\n    if ( !$HttpUserAgent ) {\n        $Self->{Browser} = 'Unknown - no $ENV{\"HTTP_USER_AGENT\"}';\n    }\n    elsif ($HttpUserAgent) {\n\n        # msie\n        if (\n            $HttpUserAgent =~ /msie\\s([0-9.]+)/\n            || $HttpUserAgent =~ /internet\\sexplorer\\/([0-9.]+)/\n            )\n        {\n            $Self->{Browser} = 'MSIE';\n\n            # For IE 5.5 - 8.0, we break the header in a special way that makes\n            # things work. I don't really want to know.\n            if ( $1 =~ /(\\d)\\.(\\d)/ ) {\n                $Self->{BrowserMajorVersion} = $1;\n                $Self->{BrowserMinorVersion} = $2;\n                if (\n                    $1 == 5\n                    && $2 == 5\n                    || $1 == 6 && $2 == 0\n                    || $1 == 7 && $2 == 0\n                    || $1 == 8 && $2 == 0\n                    )\n                {\n                    $Self->{BrowserBreakDispositionHeader} = 1;\n                }\n\n#\n# In IE up to version 8, there is a technical limitation for < 32\n#   CSS file links. Subsequent links will be ignored. Therefore\n#   the loader must be activated for delivering CSS to this browser.\n#   The loader will concatenate and minify the files, resulting in\n#   very few CSS file links.\n#   See also http://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/ad1b6e88-bbfa-4cc4-9e95-3889b82a7c1d.\n#\n                if ( $1 <= 8 ) {\n                    $Self->{ConfigObject}->Set(\n                        Key   => 'Loader::Enabled::CSS',\n                        Value => 1,\n                    );\n                }\n            }\n        }\n\n        # safari\n        elsif ( $HttpUserAgent =~ /safari/ ) {\n            $Self->{Browser} = 'Safari';\n\n            # if it's an iPad/iPhone with iOS5 the rte can be enabled\n            if ( $HttpUserAgent =~ /(ipad|iphone);.*cpu.*os 5_/ ) {\n                $Self->{BrowserRichText} = 1;\n            }\n\n            # on iphone (with older iOS) disable rich text editor\n            elsif ( $HttpUserAgent =~ /iphone\\sos/ ) {\n                $Self->{BrowserRichText} = 0;\n            }\n\n            # on ipad (with older iOS) disable rich text editor\n            elsif ( $HttpUserAgent =~ /ipad;\\s/ ) {\n                $Self->{BrowserRichText} = 0;\n            }\n\n            # on android disable rich text editor\n            elsif ( $HttpUserAgent =~ /android/ ) {\n                $Self->{BrowserRichText} = 0;\n            }\n\n            # chrome\n            elsif ( $HttpUserAgent =~ /chrome/ ) {\n                $Self->{Browser} = 'Chrome';\n            }\n        }\n\n        # konqueror\n        elsif ( $HttpUserAgent =~ /konqueror/ ) {\n            $Self->{Browser} = 'Konqueror';\n\n            # on konquerer disable rich text editor\n            $Self->{BrowserRichText} = 0;\n        }\n\n        # mozilla\n        elsif ( $HttpUserAgent =~ /^mozilla/ ) {\n            $Self->{Browser} = 'Mozilla';\n        }\n\n        # opera\n        elsif ( $HttpUserAgent =~ /^opera.*/ ) {\n            $Self->{Browser} = 'Opera';\n        }\n\n        # netscape\n        elsif ( $HttpUserAgent =~ /netscape/ ) {\n            $Self->{Browser} = 'Netscape';\n        }\n\n        # w3m\n        elsif ( $HttpUserAgent =~ /^w3m.*/ ) {\n            $Self->{Browser}                  = 'w3m';\n            $Self->{BrowserJavaScriptSupport} = 0;\n        }\n\n        # lynx\n        elsif ( $HttpUserAgent =~ /^lynx.*/ ) {\n            $Self->{Browser}                  = 'Lynx';\n            $Self->{BrowserJavaScriptSupport} = 0;\n        }\n\n        # links\n        elsif ( $HttpUserAgent =~ /^links.*/ ) {\n            $Self->{Browser} = 'Links';\n        }\n        else {\n            $Self->{Browser} = 'Unknown - ' . $HttpUserAgent;\n        }\n    }\n\n    # check if rich text can be active\n    if ( !$Self->{BrowserJavaScriptSupport} || !$Self->{BrowserRichText} ) {\n        $Self->{ConfigObject}->Set(\n            Key   => 'Frontend::RichText',\n            Value => 0,\n        );\n    }\n\n    # check if rich text is active\n    if ( !$Self->{ConfigObject}->Get('Frontend::RichText') ) {\n        $Self->{BrowserRichText} = 0;\n    }\n\n    # check if spell check should be active\n    if ( $Self->{BrowserJavaScriptSupport} && $Self->{ConfigObject}->Get('SpellChecker') ) {\n        if ( $Self->{ConfigObject}->Get('Frontend::RichText') ) {\n            $Self->{BrowserSpellCheckerInline} = 1;\n        }\n        else {\n            $Self->{BrowserSpellChecker} = 1;\n        }\n    }\n\n    # load theme\n    my $Theme = $Self->{UserTheme} || $Self->{ConfigObject}->Get('DefaultTheme') || 'Standard';\n\n    # force a theme based on host name\n    my $DefaultThemeHostBased = $Self->{ConfigObject}->Get('DefaultTheme::HostBased');\n    if ( $DefaultThemeHostBased && $ENV{HTTP_HOST} ) {\n        for my $RegExp ( sort keys %{$DefaultThemeHostBased} ) {\n\n            # do not use empty regexp or theme directories\n            next if !$RegExp;\n            next if $RegExp eq '';\n            next if !$DefaultThemeHostBased->{$RegExp};\n\n            # check if regexp is matching\n            if ( $ENV{HTTP_HOST} =~ /$RegExp/i ) {\n                $Theme = $DefaultThemeHostBased->{$RegExp};\n            }\n        }\n    }\n\n    # locate template files\n    $Self->{TemplateDir} = $Self->{ConfigObject}->Get('TemplateDir') . '/HTML/' . $Theme;\n    if ( !-e $Self->{TemplateDir} ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message =>\n                \"No existing template directory found ('$Self->{TemplateDir}')!.\n                Default theme used instead.\",\n        );\n\n        # Set TemplateDir to 'Standard' as a fallback and check if it exists.\n        $Theme = 'Standard';\n        $Self->{TemplateDir} = $Self->{ConfigObject}->Get('TemplateDir') . '/HTML/' . $Theme;\n        if ( !-e $Self->{TemplateDir} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message =>\n                    \"No existing template directory found ('$Self->{TemplateDir}')! Check your Home in Kernel/Config.pm\",\n            );\n            $Self->FatalDie();\n        }\n    }\n\n    $Self->{CustomTemplateDir}\n        = $Self->{ConfigObject}->Get('CustomTemplateDir') . '/HTML/' . $Theme;\n\n    # load sub layout files\n    my $Dir = $Self->{ConfigObject}->Get('TemplateDir') . '/HTML';\n    if ( -e $Dir ) {\n        my @Files = $Self->{MainObject}->DirectoryRead(\n            Directory => $Dir,\n            Filter    => 'Layout*.pm',\n        );\n        for my $File (@Files) {\n            if ( $File !~ /Layout.pm$/ ) {\n                $File =~ s{\\A.*\\/(.+?).pm\\z}{$1}xms;\n                if ( !$Self->{MainObject}->Require(\"Kernel::Output::HTML::$File\") ) {\n                    $Self->FatalError();\n                }\n                push @ISA, \"Kernel::Output::HTML::$File\";\n            }\n        }\n    }\n\n    if ( $Self->{SessionID} && $Self->{UserChallengeToken} ) {\n        $Self->{ChallengeTokenParam} = \"ChallengeToken=$Self->{UserChallengeToken};\";\n    }\n\n    return $Self;\n}\n\nsub SetEnv {\n    my ( $Self, %Param ) = @_;\n\n    for (qw(Key Value)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            $Self->FatalError();\n        }\n    }\n    $Self->{EnvNewRef}->{ $Param{Key} } = $Param{Value};\n    return 1;\n}\n\n=item Block()\n\nuse a dtl block\n\n    $LayoutObject->Block(\n        Name => 'Row',\n        Data => {\n            Time     => $Row[0],\n            Priority => $Row[1],\n            Facility => $Row[2],\n            Message  => $Row[3],\n        },\n    );\n\n=cut\n\nsub Block {\n    my ( $Self, %Param ) = @_;\n\n    if ( !$Param{Name} ) {\n        $Self->{LogObject}->Log( Priority => 'error', Message => 'Need Name!' );\n        return;\n    }\n    push @{ $Self->{BlockData} }, { Name => $Param{Name}, Data => $Param{Data} };\n}\n\n=item Output()\n\ngenerates HTML output based on a template file.\n\nUsing a template file:\n\n    my $HTML = $LayoutObject->Output(\n        TemplateFile => 'AdminLog',\n        Data         => \\%Param,\n    );\n\nUsing a template string:\n\n    my $HTML = $LayoutObject->Output(\n        Template => '<b>$QData{\"SomeKey\"}</b>',\n        Data     => \\%Param,\n    );\n\nAdditional parameters:\n\nKeepScriptTags - this causes <!-- dtl:js_on_document_complete --> blocks NOT\nto be replaced. This is important to be able to generate snippets which can be cached.\n\n    my $HTML = $LayoutObject->Output(\n        TemplateFile   => 'AdminLog',\n        Data           => \\%Param,\n        KeepScriptTags => 1,\n    );\n\n=cut\n\nsub Output {\n    my ( $Self, %Param ) = @_;\n\n    $Param{Data} ||= {};\n\n    # get and check param Data\n    if ( ref $Param{Data} ne 'HASH' ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => \"Need HashRef in Param Data! Got: '\" . ref $Param{Data} . \"'!\",\n        );\n        $Self->FatalError();\n    }\n\n    # fill init Env\n    if ( !$Self->{EnvRef} ) {\n        %{ $Self->{EnvRef} } = %ENV;\n\n        # all $Self->{*}\n        for ( sort keys %{$Self} ) {\n            if ( defined $Self->{$_} && !ref $Self->{$_} ) {\n                $Self->{EnvRef}->{$_} = $Self->{$_};\n            }\n        }\n    }\n\n    # add new env\n    if ( $Self->{EnvNewRef} ) {\n        for ( %{ $Self->{EnvNewRef} } ) {\n            $Self->{EnvRef}->{$_} = $Self->{EnvNewRef}->{$_};\n        }\n        undef $Self->{EnvNewRef};\n    }\n\n    # if we use the HTML5 input type 'email' jQuery Validate will always validate\n    # we do not want that if CheckEmailAddresses is set to 'no' in SysConfig\n    $Self->{EnvRef}->{EmailFieldType}\n        = $Self->{ConfigObject}->Get('CheckEmailAddresses') ? 'email' : 'text';\n\n    # read template from filesystem\n    my $TemplateString = '';\n    if ( $Param{TemplateFile} ) {\n        my $File = '';\n        if ( -f \"$Self->{CustomTemplateDir}/$Param{TemplateFile}.dtl\" ) {\n            $File = \"$Self->{CustomTemplateDir}/$Param{TemplateFile}.dtl\";\n        }\n        elsif ( -f \"$Self->{CustomTemplateDir}/../Standard/$Param{TemplateFile}.dtl\" ) {\n            $File = \"$Self->{CustomTemplateDir}/../Standard/$Param{TemplateFile}.dtl\";\n        }\n        elsif ( -f \"$Self->{TemplateDir}/$Param{TemplateFile}.dtl\" ) {\n            $File = \"$Self->{TemplateDir}/$Param{TemplateFile}.dtl\";\n        }\n        else {\n            $File = \"$Self->{TemplateDir}/../Standard/$Param{TemplateFile}.dtl\";\n        }\n        ## no critic\n        if ( open my $TEMPLATEIN, '<', $File ) {\n            ## use critic\n            $TemplateString = do { local $/; <$TEMPLATEIN> };\n            close $TEMPLATEIN;\n        }\n        else {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => \"Can't read $File: $!\",\n            );\n        }\n    }\n\n    # take templates from string/array\n    elsif ( defined $Param{Template} && ref $Param{Template} eq 'ARRAY' ) {\n        for ( @{ $Param{Template} } ) {\n            $TemplateString .= $_;\n        }\n    }\n    elsif ( defined $Param{Template} ) {\n        $TemplateString = $Param{Template};\n    }\n    else {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => 'Need Template or TemplateFile Param!',\n        );\n        $Self->FatalError();\n    }\n\n    # run output element pre filters\n    if ( $Self->{FilterElementPre} && ref $Self->{FilterElementPre} eq 'HASH' ) {\n\n        # extract filter list\n        my %FilterList = %{ $Self->{FilterElementPre} };\n\n        FILTER:\n        for my $Filter ( sort keys %FilterList ) {\n\n            # extract filter config\n            my $FilterConfig = $FilterList{$Filter};\n\n            next FILTER if !$FilterConfig;\n            next FILTER if ref $FilterConfig ne 'HASH';\n\n            # extract template list\n            my $TemplateList = $FilterConfig->{Templates};\n\n            # check template list\n            if ( !$TemplateList || ref $TemplateList ne 'HASH' || !%{$TemplateList} ) {\n\n                $Self->{LogObject}->Log(\n                    Priority => 'error',\n                    Message =>\n                        \"Please add a template list to output filter $FilterConfig->{Module} \"\n                        . \"to improve performance. Use ALL if OutputFilter should modify all \"\n                        . \"templates of the system (deprecated).\",\n                );\n            }\n\n            # check template list\n            if ( $Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL} ) {\n                next FILTER if !$TemplateList->{ $Param{TemplateFile} };\n            }\n\n            next FILTER\n                if !$Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL};\n\n            next FILTER if !$Self->{MainObject}->Require( $FilterConfig->{Module} );\n\n            # create new instance\n            my $Object = $FilterConfig->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n\n            next FILTER if !$Object;\n\n            # run output filter\n            $Object->Run(\n                %{$FilterConfig},\n                Data => \\$TemplateString,\n                TemplateFile => $Param{TemplateFile} || '',\n            );\n        }\n    }\n\n    # filtering of comment lines\n    $TemplateString =~ s/^#.*\\n//gm;\n\n    my $Output = $Self->_Output(\n        Template     => $TemplateString,\n        Data         => $Param{Data},\n        BlockReplace => 1,\n        TemplateFile => $Param{TemplateFile} || '',\n    );\n\n    # Improve dtl performance of large pages, see also bug#7267.\n    # Thanks to Stelios Gikas <stelios.gikas@noris.net>!\n    my @OutputLines = split /\\n/, $Output;\n    for my $Output (@OutputLines) {\n\n        # do time translation (with seconds)\n        $Output =~ s{\n        \\$TimeLong{\"(.*?)\"}\n    }\n    {\n        $Self->{LanguageObject}->FormatTimeString($1);\n    }egx;\n\n        # do time translation (without seconds)\n        $Output =~ s{\n        \\$TimeShort{\"(.*?)\"}\n    }\n    {\n        $Self->{LanguageObject}->FormatTimeString($1, undef, 'NoSeconds');\n    }egx;\n\n        # do date translation\n        $Output =~ s{\n        \\$Date{\"(.*?)\"}\n    }\n    {\n        $Self->{LanguageObject}->FormatTimeString($1, 'DateFormatShort');\n    }egx;\n\n        # do translation\n        $Output =~ s{\n        \\$Text{\"(.*?)\"}\n    }\n    {\n        $Self->Ascii2Html(\n            Text => $Self->{LanguageObject}->Get($1),\n        );\n    }egx;\n\n        $Output =~ s{\n        \\$JSText{\"(.*?)\"}\n    }\n    {\n        $Self->Ascii2Html(\n            Text => $Self->{LanguageObject}->Get($1),\n            Type => 'JSText',\n        );\n    }egx;\n\n        # do html quote\n        $Output =~ s{\n        \\$Quote{\"(.*?)\"}\n    }\n    {\n        my $Text = $1;\n        if ( !defined $Text || $Text =~ /^\",\\s*\"(.+)$/ ) {\n            '';\n        }\n        elsif ($Text =~ /^(.+?)\",\\s*\"(.+)$/) {\n            $Self->Ascii2Html(Text => $1, Max => $2);\n        }\n        else {\n            $Self->Ascii2Html(Text => $Text);\n        }\n    }egx;\n\n    }\n    $Output = join \"\\n\", @OutputLines;\n\n    # rewrite forms, add challenge token : <form action=\"index.pl\" method=\"get\">\n    if ( $Self->{SessionID} && $Self->{UserChallengeToken} ) {\n        my $UserChallengeToken = $Self->Ascii2Html( Text => $Self->{UserChallengeToken} );\n        $Output =~ s{\n            (<form.+?action=\".+?\".+?>)\n        }\n        {\n            my $Form = $1;\n            if ( lc $Form =~ m{^http s? :}smx ) {\n                $Form;\n            }\n            else {\n                $Form . \"<input type=\\\"hidden\\\" name=\\\"ChallengeToken\\\" value=\\\"$UserChallengeToken\\\"/>\";\n            }\n        }iegx;\n    }\n\n    # Check if the browser sends the session id cookie!\n    # If not, add the session id to the links and forms!\n    if ( $Self->{SessionID} && !$Self->{SessionIDCookie} ) {\n\n        # rewrite a hrefs\n        $Output =~ s{\n            (<a.+?href=\")(.+?)(\\#.+?|)(\".+?>)\n        }\n        {\n            my $AHref   = $1;\n            my $Target  = $2;\n            my $End     = $3;\n            my $RealEnd = $4;\n            if ( lc $Target =~ /^(http:|https:|#|ftp:)/ ||\n                $Target !~ /\\.(pl|php|cgi|fcg|fcgi|fpl)(\\?|$)/ ||\n                $Target =~ /(\\?|&)\\Q$Self->{SessionName}\\E=/) {\n                $AHref.$Target.$End.$RealEnd;\n            }\n            else {\n                $AHref.$Target.';'.$Self->{SessionName}.'='.$Self->{SessionID}.$End.$RealEnd;\n            }\n        }iegxs;\n\n        # rewrite img and iframe src\n        $Output =~ s{\n            (<(?:img|iframe).+?src=\")(.+?)(\".+?>)\n        }\n        {\n            my $AHref = $1;\n            my $Target = $2;\n            my $End = $3;\n            if (lc $Target =~ m{^http s? :}smx || !$Self->{SessionID} ||\n                $Target !~ /\\.(pl|php|cgi|fcg|fcgi|fpl)(\\?|$)/ ||\n                $Target =~ /\\Q$Self->{SessionName}\\E=/) {\n                $AHref.$Target.$End;\n            }\n            else {\n                $AHref.$Target.'&'.$Self->{SessionName}.'='.$Self->{SessionID}.$End;\n            }\n        }iegxs;\n\n        # rewrite forms: <form action=\"index.pl\" method=\"get\">\n        my $SessionID = $Self->Ascii2Html( Text => $Self->{SessionID} );\n        $Output =~ s{\n            (<form.+?action=\".+?\".+?>)\n        }\n        {\n            my $Form = $1;\n            if ( lc $Form =~ m{^http s? :}smx ) {\n                $Form;\n            }\n            else {\n                $Form . \"<input type=\\\"hidden\\\" name=\\\"$Self->{SessionName}\\\" value=\\\"$SessionID\\\"/>\";\n            }\n        }iegx;\n    }\n\n    # run output element post filters\n    if ( $Self->{FilterElementPost} && ref $Self->{FilterElementPost} eq 'HASH' ) {\n\n        # extract filter list\n        my %FilterList = %{ $Self->{FilterElementPost} };\n\n        FILTER:\n        for my $Filter ( sort keys %FilterList ) {\n\n            # extract filter config\n            my $FilterConfig = $FilterList{$Filter};\n\n            next FILTER if !$FilterConfig;\n            next FILTER if ref $FilterConfig ne 'HASH';\n\n            # extract template list\n            my $TemplateList = $FilterConfig->{Templates};\n\n            # check template list\n            if ( !$TemplateList || ref $TemplateList ne 'HASH' || !%{$TemplateList} ) {\n\n                $Self->{LogObject}->Log(\n                    Priority => 'error',\n                    Message =>\n                        \"Please add a template list to output filter $FilterConfig->{Module} \"\n                        . \"to improve performance. Use ALL if OutputFilter should modify all \"\n                        . \"templates of the system (deprecated).\",\n                );\n            }\n\n            # check template list\n            if ( $Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL} ) {\n                next FILTER if !$TemplateList->{ $Param{TemplateFile} };\n            }\n\n            next FILTER\n                if !$Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL};\n\n            next FILTER if !$Self->{MainObject}->Require( $FilterConfig->{Module} );\n\n            # create new instance\n            my $Object = $FilterConfig->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n\n            next FILTER if !$Object;\n\n            # run output filter\n            $Object->Run(\n                %{$FilterConfig},\n                Data => \\$Output,\n                TemplateFile => $Param{TemplateFile} || '',\n            );\n        }\n    }\n\n    # Cut out all dtl:js_on_document_complete tags. These will be inserted to the\n    #   place with the js_on_document_complete_placeholder in the page footer if\n    #   it is present.\n    # This must be done after the post output filters, so that they can also inject\n    #   and mofiy existing script tags.\n\n    if ( !$Param{KeepScriptTags} ) {\n\n        # find document ready\n        $Output =~ s{\n                <!--\\s{0,1}dtl:js_on_document_complete\\s{0,1}-->(.+?)<!--\\s{0,1}dtl:js_on_document_complete\\s{0,1}-->\n        }\n        {\n                if (!$Self->{JSOnDocumentComplete}->{$1}) {\n                    $Self->{JSOnDocumentComplete}->{$1} = 1;\n                    $Self->{EnvRef}->{JSOnDocumentComplete} .= $Self->_RemoveScriptTags(Code => $1);\n                }\n                \"\";\n        }segxm;\n\n        # replace document ready placeholder (only if it's not included via $Include{\"\"})\n        if ( !$Param{Include} ) {\n            $Output =~ s{\n                <!--\\s{0,1}dtl:js_on_document_complete_placeholder\\s{0,1}-->\n            }\n            {\n                if ( $Self->{EnvRef}->{JSOnDocumentComplete} ) {\n                    $Self->{EnvRef}->{JSOnDocumentComplete};\n                }\n                else {\n                    \"\";\n                }\n            }segxm;\n        }\n    }\n\n    return $Output;\n}\n\n=item JSONEncode()\n\nEncode perl data structure to JSON string\n\n    my $JSON = $LayoutObject->JSONEncode(\n        Data        => $Data,\n        NoQuotes    => 0|1, # optional: no double quotes at the start and the end of JSON string\n    );\n\n=cut\n\nsub JSONEncode {\n    my ( $Self, %Param ) = @_;\n\n    # check for needed data\n    return if !$Param{Data};\n\n    # get JSON encoded data\n    my $JSON = $Self->{JSONObject}->Encode(\n        Data => $Param{Data},\n    ) || '\"\"';\n\n    # remove trailing and trailing double quotes if requested\n    if ( $Param{NoQuotes} ) {\n        $JSON =~ s{ \\A \"(.*)\" \\z }{$1}smx;\n    }\n\n    return $JSON;\n}\n\n=item Redirect()\n\nreturn html for browser to redirect\n\n    my $HTML = $LayoutObject->Redirect(\n        OP => \"Action=AdminUserGroup;Subaction=User;ID=$UserID\",\n    );\n\n    my $HTML = $LayoutObject->Redirect(\n        ExtURL => \"http://some.example.com/\",\n    );\n\n=cut\n\nsub Redirect {\n    my ( $Self, %Param ) = @_;\n\n    # add cookies if exists\n    my $Cookies = '';\n    if ( $Self->{SetCookies} && $Self->{ConfigObject}->Get('SessionUseCookie') ) {\n        for ( sort keys %{ $Self->{SetCookies} } ) {\n            $Cookies .= \"Set-Cookie: $Self->{SetCookies}->{$_}\\n\";\n        }\n    }\n\n    # create & return output\n    if ( $Param{ExtURL} ) {\n\n        # external redirect\n        $Param{Redirect} = $Param{ExtURL};\n        return $Cookies . $Self->Output( TemplateFile => 'Redirect', Data => \\%Param );\n    }\n\n    # set baselink\n    $Param{Redirect} = $Self->{Baselink};\n\n    if ( $Param{OP} ) {\n\n        # Filter out hazardous characters\n        if ( $Param{OP} =~ s{\\x00}{}smxg ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => 'Someone tries to use a null bytes (\\x00) character in redirect!',\n            );\n        }\n\n        if ( $Param{OP} =~ s{\\r}{}smxg ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => 'Someone tries to use a carriage return character in redirect!',\n            );\n        }\n\n        if ( $Param{OP} =~ s{\\n}{}smxg ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => 'Someone tries to use a newline character in redirect!',\n            );\n        }\n\n        # internal redirect\n        $Param{OP} =~ s/^.*\\?(.+?)$/$1/;\n        $Param{Redirect} .= $Param{OP};\n    }\n\n    # check if IIS is used, add absolute url for IIS workaround\n    # see also:\n    #  o http://bugs.otrs.org/show_bug.cgi?id=2230\n    #  o http://support.microsoft.com/default.aspx?scid=kb;en-us;221154\n    if ( $ENV{SERVER_SOFTWARE} =~ /^microsoft\\-iis/i ) {\n        my $Host = $ENV{HTTP_HOST} || $Self->{ConfigObject}->Get('FQDN');\n        my $HttpType = $Self->{ConfigObject}->Get('HttpType');\n        $Param{Redirect} = $HttpType . '://' . $Host . '/' . $Param{Redirect};\n    }\n    my $Output = $Cookies . $Self->Output( TemplateFile => 'Redirect', Data => \\%Param );\n\n    # add session id to redirect if no cookie is enabled\n    if ( !$Self->{SessionIDCookie} ) {\n\n        # rewrite location header\n        $Output =~ s{\n            (location:\\s)(.*)\n        }\n        {\n            my $Start  = $1;\n            my $Target = $2;\n            my $End = '';\n            if ($Target =~ /^(.+?)#(|.+?)$/) {\n                $Target = $1;\n                $End = \"#$2\";\n            }\n            if ($Target =~ /http/i || !$Self->{SessionID}) {\n                \"$Start$Target$End\";\n            }\n            else {\n                if ($Target =~ /(\\?|&)$/) {\n                    \"$Start$Target$Self->{SessionName}=$Self->{SessionID}$End\";\n                }\n                elsif ($Target !~ /\\?/) {\n                    \"$Start$Target?$Self->{SessionName}=$Self->{SessionID}$End\";\n                }\n                elsif ($Target =~ /\\?/) {\n                    \"$Start$Target&$Self->{SessionName}=$Self->{SessionID}$End\";\n                }\n                else {\n                    \"$Start$Target?&$Self->{SessionName}=$Self->{SessionID}$End\";\n                }\n            }\n        }iegx;\n    }\n    return $Output;\n}\n\nsub Login {\n    my ( $Self, %Param ) = @_;\n\n    # set Action parameter for the loader\n    $Self->{Action} = 'Login';\n\n    # add cookies if exists\n    my $Output = '';\n    if ( $Self->{SetCookies} && $Self->{ConfigObject}->Get('SessionUseCookie') ) {\n        for ( sort keys %{ $Self->{SetCookies} } ) {\n            $Output .= \"Set-Cookie: $Self->{SetCookies}->{$_}\\n\";\n        }\n    }\n\n    # get message of the day\n    if ( $Self->{ConfigObject}->Get('ShowMotd') ) {\n        $Param{Motd} = $Self->Output( TemplateFile => 'Motd', Data => \\%Param );\n    }\n\n    # get lost password y\n    if (\n        $Self->{ConfigObject}->Get('LostPassword')\n        && $Self->{ConfigObject}->Get('AuthModule') eq 'Kernel::System::Auth::DB'\n        )\n    {\n        $Self->Block(\n            Name => 'LostPasswordLink',\n            Data => \\%Param,\n        );\n\n        $Self->Block(\n            Name => 'LostPassword',\n            Data => \\%Param,\n        );\n    }\n\n   # Generate the minified CSS and JavaScript files and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateAgentCSSCalls();\n    $Self->LoaderCreateAgentJSCalls();\n\n    # Add header logo, if configured\n    if ( defined $Self->{ConfigObject}->Get('AgentLogo') ) {\n        my %AgentLogo = %{ $Self->{ConfigObject}->Get('AgentLogo') };\n        my %Data;\n\n        for my $CSSStatement ( sort keys %AgentLogo ) {\n            if ( $CSSStatement eq 'URL' ) {\n                my $WebPath = '';\n                if ( $AgentLogo{$CSSStatement} !~ /(http|ftp|https):\\//i ) {\n                    $WebPath = $Self->{ConfigObject}->Get('Frontend::WebPath');\n                }\n                $Data{'URL'} = 'url(' . $WebPath . $AgentLogo{$CSSStatement} . ')';\n            }\n            else {\n                $Data{$CSSStatement} = $AgentLogo{$CSSStatement};\n            }\n        }\n\n        $Self->Block(\n            Name => 'HeaderLogoCSS',\n            Data => \\%Data,\n        );\n    }\n\n    # add login logo, if configured\n    if ( defined $Self->{ConfigObject}->Get('AgentLoginLogo') ) {\n        my %AgentLoginLogo = %{ $Self->{ConfigObject}->Get('AgentLoginLogo') };\n        my %Data;\n\n        for my $CSSStatement ( sort keys %AgentLoginLogo ) {\n            if ( $CSSStatement eq 'URL' ) {\n                my $WebPath = $Self->{ConfigObject}->Get('Frontend::WebPath');\n                $Data{'URL'} = 'url(' . $WebPath . $AgentLoginLogo{$CSSStatement} . ')';\n            }\n            else {\n                $Data{$CSSStatement} = $AgentLoginLogo{$CSSStatement};\n            }\n        }\n\n        $Self->Block(\n            Name => 'LoginLogoCSS',\n            Data => \\%Data,\n        );\n\n        $Self->Block(\n            Name => 'LoginLogo'\n        );\n    }\n\n    # create & return output\n    $Output .= $Self->Output( TemplateFile => 'Login', Data => \\%Param );\n\n    # remove the version tag from the header if configured\n    $Self->_DisableBannerCheck( OutputRef => \\$Output );\n\n    return $Output;\n}\n\nsub ChallengeTokenCheck {\n    my ( $Self, %Param ) = @_;\n\n    # return if feature is disabled\n    return 1 if !$Self->{ConfigObject}->Get('SessionCSRFProtection');\n\n    # get challenge token and check it\n    my $ChallengeToken = $Self->{ParamObject}->GetParam( Param => 'ChallengeToken' ) || '';\n\n    # check regular ChallengeToken\n    return 1 if $ChallengeToken eq $Self->{UserChallengeToken};\n\n    # check ChallengeToken of all own sessions\n    my @Sessions = $Self->{SessionObject}->GetAllSessionIDs();\n    for my $SessionID (@Sessions) {\n        my %Data = $Self->{SessionObject}->GetSessionIDData( SessionID => $SessionID );\n        next if !$Data{UserID};\n        next if $Data{UserID} ne $Self->{UserID};\n        next if !$Data{UserChallengeToken};\n\n        # check ChallengeToken\n        return 1 if $ChallengeToken eq $Data{UserChallengeToken};\n    }\n\n    # no valid token found\n    $Self->FatalError(\n        Message => 'Invalid Challenge Token!',\n    );\n\n    # ChallengeToken ok\n    return;\n}\n\nsub FatalError {\n    my ( $Self, %Param ) = @_;\n\n    if ( $Param{Message} ) {\n        $Self->{LogObject}->Log(\n            Caller   => 1,\n            Priority => 'error',\n            Message  => $Param{Message},\n        );\n    }\n    my $Output = $Self->Header( Area => 'Frontend', Title => 'Fatal Error' );\n    $Output .= $Self->Error(%Param);\n    $Output .= $Self->Footer();\n    $Self->Print( Output => \\$Output );\n    exit;\n}\n\nsub SecureMode {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = $Self->Header( Area => 'Frontend', Title => 'Secure Mode' );\n    $Output .= $Self->Output( TemplateFile => 'AdminSecureMode', Data => \\%Param );\n    $Output .= $Self->Footer();\n    $Self->Print( Output => \\$Output );\n    exit;\n}\n\nsub FatalDie {\n    my ( $Self, %Param ) = @_;\n\n    if ( $Param{Message} ) {\n        $Self->{LogObject}->Log(\n            Caller   => 1,\n            Priority => 'error',\n            Message  => $Param{Message},\n        );\n    }\n\n    # get backend error messages\n    for (qw(Message Traceback)) {\n        my $Backend = 'Backend' . $_;\n        $Param{$Backend} = $Self->{LogObject}->GetLogEntry(\n            Type => 'Error',\n            What => $_\n        ) || '';\n        $Param{$Backend} = $Self->Ascii2Html(\n            Text           => $Param{$Backend},\n            HTMLResultMode => 1,\n        );\n    }\n    if ( !$Param{Message} ) {\n        $Param{Message} = $Param{BackendMessage};\n    }\n    die $Param{Message};\n}\n\nsub ErrorScreen {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = $Self->Header( Title => 'Error' );\n    $Output .= $Self->Error(%Param);\n    $Output .= $Self->Footer();\n    return $Output;\n}\n\nsub Error {\n    my ( $Self, %Param ) = @_;\n\n    # get backend error messages\n    for (qw(Message Traceback)) {\n        my $Backend = 'Backend' . $_;\n        $Param{$Backend} = $Self->{LogObject}->GetLogEntry(\n            Type => 'Error',\n            What => $_\n        ) || '';\n    }\n    if ( !$Param{BackendMessage} && !$Param{BackendTraceback} ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message => $Param{Message} || '?',\n        );\n        for (qw(Message Traceback)) {\n            my $Backend = 'Backend' . $_;\n            $Param{$Backend} = $Self->{LogObject}->GetLogEntry(\n                Type => 'Error',\n                What => $_\n            ) || '';\n        }\n    }\n    if ( !$Param{Message} ) {\n        $Param{Message} = $Param{BackendMessage};\n    }\n    $Param{Message} =~ s/^(.{80}).*$/$1\\[\\.\\.\\]/gs;\n\n    if ( $Param{BackendTraceback} ) {\n        $Self->Block(\n            Name => 'ShowBackendTraceback',\n            Data => \\%Param,\n        );\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'Error', Data => \\%Param );\n}\n\nsub Warning {\n    my ( $Self, %Param ) = @_;\n\n    # get backend error messages\n    $Param{BackendMessage} = $Self->{LogObject}->GetLogEntry(\n        Type => 'Notice',\n        What => 'Message',\n        )\n        || $Self->{LogObject}->GetLogEntry(\n        Type => 'Error',\n        What => 'Message',\n        ) || '';\n\n    if ( !$Param{Message} ) {\n        $Param{Message} = $Param{BackendMessage};\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'Warning', Data => \\%Param );\n}\n\n=item Notify()\n\ncreate notify lines\n\n    infos, the text will be translated\n\n    my $Output = $LayoutObject->Notify(\n        Priority => 'Warning',\n        Info => 'Some Info Message',\n    );\n\n    data with link, the text will be translated\n\n    my $Output = $LayoutObject->Notify(\n        Priority  => 'Warning',\n        Data      => '$Text{\"Some DTL Stuff\"}',\n        Link      => 'http://example.com/',\n        LinkClass => 'some_CSS_class',              # optional\n    );\n\n    errors, the text will be translated\n\n    my $Output = $LayoutObject->Notify(\n        Priority => 'Error',\n        Info => 'Some Error Message',\n    );\n\n    errors from log backend, if no error extists, a '' will be returned\n\n    my $Output = $LayoutObject->Notify(\n        Priority => 'Error',\n    );\n\n=cut\n\nsub Notify {\n    my ( $Self, %Param ) = @_;\n\n    # create & return output\n    if ( !$Param{Info} && !$Param{Data} ) {\n        $Param{BackendMessage} = $Self->{LogObject}->GetLogEntry(\n            Type => 'Notice',\n            What => 'Message',\n            )\n            || $Self->{LogObject}->GetLogEntry(\n            Type => 'Error',\n            What => 'Message',\n            ) || '';\n\n        $Param{Info} = $Param{BackendMessage};\n\n        # return if we have nothing to show\n        return '' if !$Param{Info};\n    }\n\n    my $BoxClass = 'Notice';\n\n    if ( $Param{Info} ) {\n        $Param{Info} =~ s/\\n//g;\n    }\n    if ( $Param{Priority} && $Param{Priority} eq 'Error' ) {\n        $BoxClass = 'Error';\n    }\n\n    if ( $Param{Link} ) {\n        $Self->Block(\n            Name => 'LinkStart',\n            Data => {\n                LinkStart => $Param{Link},\n                LinkClass => $Param{LinkClass} || '',\n            },\n        );\n    }\n    if ( $Param{Data} ) {\n        $Self->Block(\n            Name => 'Data',\n            Data => \\%Param,\n        );\n    }\n    else {\n        $Self->Block(\n            Name => 'Text',\n            Data => \\%Param,\n        );\n    }\n    if ( $Param{Link} ) {\n        $Self->Block(\n            Name => 'LinkStop',\n            Data => { LinkStop => '</a>', },\n        );\n    }\n    return $Self->Output(\n        TemplateFile => 'Notify',\n        Data         => {\n            %Param,\n            BoxClass => $BoxClass,\n        },\n    );\n}\n\n=item Header()\n\ngenerates the HTML for the page begin in the Agent interface.\n\n    my $Output = $LayoutObject->Header(\n        Type              => 'Small',                # (optional) '' (Default, full header) or 'Small' (blank header)\n        ShowToolbarItems  => 0,                      # (optional) default 1 (0|1)\n        ShowPrefLink      => 0,                      # (optional) default 1 (0|1)\n        ShowLogoutButton  => 0,                      # (optional) default 1 (0|1)\n    );\n\n=cut\n\nsub Header {\n    my ( $Self, %Param ) = @_;\n\n    my $Type = $Param{Type} || '';\n\n    # check params\n    if ( !defined $Param{ShowToolbarItems} ) {\n        $Param{ShowToolbarItems} = 1;\n    }\n\n    if ( !defined $Param{ShowPrefLink} ) {\n        $Param{ShowPrefLink} = 1;\n    }\n\n    # do not show preferences link if the preferences module is disabled\n    my $Modules = $Self->{ConfigObject}->Get('Frontend::Module');\n    if ( !$Modules->{AgentPreferences} ) {\n        $Param{ShowPrefLink} = 0;\n    }\n\n    if ( !defined $Param{ShowLogoutButton} ) {\n        $Param{ShowLogoutButton} = 1;\n    }\n\n    # set rtl if needed\n    if ( $Self->{TextDirection} && $Self->{TextDirection} eq 'rtl' ) {\n        $Param{BodyClass} = 'RTL';\n    }\n    elsif ( $Self->{ConfigObject}->Get('Frontend::DebugMode') ) {\n        $Self->Block(\n            Name => 'DebugRTLButton',\n        );\n    }\n\n   # Generate the minified CSS and JavaScript files and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateAgentCSSCalls();\n\n    # Add header logo, if configured\n    if ( defined $Self->{ConfigObject}->Get('AgentLogo') ) {\n        my %AgentLogo = %{ $Self->{ConfigObject}->Get('AgentLogo') };\n        my %Data;\n\n        for my $CSSStatement ( sort keys %AgentLogo ) {\n            if ( $CSSStatement eq 'URL' ) {\n                my $WebPath = '';\n                if ( $AgentLogo{$CSSStatement} !~ /(http|ftp|https):\\//i ) {\n                    $WebPath = $Self->{ConfigObject}->Get('Frontend::WebPath');\n                }\n                $Data{'URL'} = 'url(' . $WebPath . $AgentLogo{$CSSStatement} . ')';\n            }\n            else {\n                $Data{$CSSStatement} = $AgentLogo{$CSSStatement};\n            }\n        }\n\n        $Self->Block(\n            Name => 'HeaderLogoCSS',\n            Data => \\%Data,\n        );\n    }\n\n    # add cookies if exists\n    my $Output = '';\n    if ( $Self->{SetCookies} && $Self->{ConfigObject}->Get('SessionUseCookie') ) {\n        for ( sort keys %{ $Self->{SetCookies} } ) {\n            $Output .= \"Set-Cookie: $Self->{SetCookies}->{$_}\\n\";\n        }\n    }\n\n    # fix IE bug if in filename is the word attachment\n    my $File = $Param{Filename} || $Self->{Action} || 'unknown';\n    if ( $Self->{BrowserBreakDispositionHeader} ) {\n        $File =~ s/attachment/bttachment/gi;\n    }\n\n    # set file name for \"save page as\"\n    $Param{ContentDisposition} = \"filename=\\\"$File.html\\\"\";\n\n    # area and title\n    if ( !$Param{Area} ) {\n        $Param{Area}\n            = $Self->{ConfigObject}->Get('Frontend::Module')->{ $Self->{Action} }->{NavBarName}\n            || '';\n    }\n    if ( !$Param{Title} ) {\n        $Param{Title} = $Self->{ConfigObject}->Get('Frontend::Module')->{ $Self->{Action} }->{Title}\n            || '';\n    }\n    for my $Word (qw(Value Title Area)) {\n        if ( $Param{$Word} ) {\n            $Param{TitleArea} .= $Self->{LanguageObject}->Get( $Param{$Word} ) . ' - ';\n        }\n    }\n\n    # run header meta modules\n    my $HeaderMetaModule = $Self->{ConfigObject}->Get('Frontend::HeaderMetaModule');\n    if ( ref $HeaderMetaModule eq 'HASH' ) {\n        my %Jobs = %{$HeaderMetaModule};\n        for my $Job ( sort keys %Jobs ) {\n\n            # load and run module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n            next if !$Object;\n            $Object->Run( %Param, Config => $Jobs{$Job} );\n        }\n    }\n\n    # run tool bar item modules\n    if ( $Self->{UserID} && $Self->{UserType} eq 'User' ) {\n        my $ToolBarModule = $Self->{ConfigObject}->Get('Frontend::ToolBarModule');\n        if ( $Param{ShowToolbarItems} && ref $ToolBarModule eq 'HASH' ) {\n            my %Modules;\n            my %Jobs = %{$ToolBarModule};\n            for my $Job ( sort keys %Jobs ) {\n\n                # load and run module\n                next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n                my $Object = $Jobs{$Job}->{Module}->new(\n                    %{$Self},\n                    LayoutObject => $Self,\n                );\n                next if !$Object;\n                %Modules = ( $Object->Run( %Param, Config => $Jobs{$Job} ), %Modules );\n            }\n\n            # show tool bar items\n            my $ToolBarShown = 0;\n            for my $Key ( sort keys %Modules ) {\n                next if !%{ $Modules{$Key} };\n\n                # show tool bar wrapper\n                if ( !$ToolBarShown ) {\n                    $ToolBarShown = 1;\n                    $Self->Block(\n                        Name => 'ToolBar',\n                        Data => \\%Param,\n                    );\n                }\n                $Self->Block(\n                    Name => $Modules{$Key}->{Block},\n                    Data => {\n                        %{ $Modules{$Key} },\n                        AccessKeyReference => $Modules{$Key}->{AccessKey}\n                        ? \" ($Modules{$Key}->{AccessKey})\"\n                        : '',\n                    },\n                );\n            }\n        }\n\n        # show logged in notice\n        if ( $Param{ShowPrefLink} ) {\n            $Self->Block(\n                Name => 'Login',\n                Data => \\%Param,\n            );\n        }\n        else {\n            $Self->Block(\n                Name => 'LoginWithoutLink',\n                Data => \\%Param,\n            );\n        }\n\n        # show logout button (if registered)\n        if (\n            $Param{ShowLogoutButton}\n            && $Self->{ConfigObject}->Get('Frontend::Module')->{Logout}\n            )\n        {\n            $Self->Block(\n                Name => 'Logout',\n                Data => \\%Param,\n            );\n        }\n    }\n\n    # create & return output\n    $Output .= $Self->Output( TemplateFile => \"Header$Type\", Data => \\%Param );\n\n    # remove the version tag from the header if configured\n    $Self->_DisableBannerCheck( OutputRef => \\$Output );\n\n    return $Output;\n}\n\nsub Footer {\n    my ( $Self, %Param ) = @_;\n\n    my $Type          = $Param{Type}           || '';\n    my $HasDatepicker = $Self->{HasDatepicker} || 0;\n\n   # Generate the minified CSS and JavaScript files and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateAgentJSCalls();\n\n    # get datepicker data, if needed in module\n    if ($HasDatepicker) {\n        my $VacationDays     = $Self->DatepickerGetVacationDays();\n        my $VacationDaysJSON = $Self->JSONEncode(\n            Data => $VacationDays\n        );\n\n        my $TextDirection = $Self->{LanguageObject}->{TextDirection} || '';\n\n        $Self->Block(\n            Name => 'DatepickerData',\n            Data => {\n                VacationDays => $VacationDaysJSON,\n                IsRTLLanguage => ( $TextDirection eq 'rtl' ) ? 1 : 0,\n            },\n        );\n    }\n\n    # NewTicketInNewWindow\n    if ( $Self->{ConfigObject}->Get('NewTicketInNewWindow::Enabled') ) {\n        $Self->Block(\n            Name => 'NewTicketInNewWindow'\n        );\n    }\n\n    # Banner\n    if ( !$Self->{ConfigObject}->Get('Secure::DisableBanner') ) {\n        $Self->Block(\n            Name => 'Banner'\n        );\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => \"Footer$Type\", Data => \\%Param );\n}\n\nsub Print {\n    my ( $Self, %Param ) = @_;\n\n    # run output content filters\n    if ( $Self->{FilterContent} && ref $Self->{FilterContent} eq 'HASH' ) {\n\n        # extract filter list\n        my %FilterList = %{ $Self->{FilterContent} };\n\n        FILTER:\n        for my $Filter ( sort keys %FilterList ) {\n\n            # extract filter config\n            my $FilterConfig = $FilterList{$Filter};\n\n            next FILTER if !$FilterConfig;\n            next FILTER if ref $FilterConfig ne 'HASH';\n\n            # extract template list\n            my $TemplateList = $FilterConfig->{Templates};\n\n            # check template list\n            if ( !$TemplateList || ref $TemplateList ne 'HASH' || !%{$TemplateList} ) {\n\n                $Self->{LogObject}->Log(\n                    Priority => 'error',\n                    Message =>\n                        \"Please add a template list to output filter $FilterConfig->{Module} \"\n                        . \"to improve performance. Use ALL if OutputFilter should modify all \"\n                        . \"templates of the system (deprecated).\",\n                );\n            }\n\n            # check template list\n            if ( $Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL} ) {\n                next FILTER if !$TemplateList->{ $Param{TemplateFile} };\n            }\n\n            next FILTER if !$Self->{MainObject}->Require( $FilterConfig->{Module} );\n\n            # create new instance\n            my $Object = $FilterConfig->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n\n            next FILTER if !$Object;\n\n            # run output filter\n            $Object->Run(\n                %{$FilterConfig},\n                Data => $Param{Output},\n                TemplateFile => $Param{TemplateFile} || '',\n            );\n        }\n    }\n\n    print ${ $Param{Output} };\n\n    return 1;\n}\n\nsub PrintHeader {\n    my ( $Self, %Param ) = @_;\n\n    # unless explicitly specified, we set the header width\n    $Param{Width} ||= 640;\n\n    # fix IE bug if in filename is the word attachment\n    my $File = $Param{Filename} || $Self->{Action} || 'unknown';\n    if ( $Self->{BrowserBreakDispositionHeader} ) {\n        $File =~ s/attachment/bttachment/gi;\n    }\n\n    # set file name for \"save page as\"\n    $Param{ContentDisposition} = \"filename=\\\"$File.html\\\"\";\n\n    # area and title\n    if ( !$Param{Area} ) {\n        $Param{Area}\n            = $Self->{ConfigObject}->Get('Frontend::Module')->{ $Self->{Action} }->{NavBarName}\n            || '';\n    }\n    if ( !$Param{Title} ) {\n        $Param{Title} = $Self->{ConfigObject}->Get('Frontend::Module')->{ $Self->{Action} }->{Title}\n            || '';\n    }\n    for my $Word (qw(Area Title Value)) {\n        if ( $Param{$Word} ) {\n            $Param{TitleArea} .= ' - ' . $Self->{LanguageObject}->Get( $Param{$Word} );\n        }\n    }\n\n    # set rtl if needed\n    if ( $Self->{TextDirection} && $Self->{TextDirection} eq 'rtl' ) {\n        $Param{BodyClass} = 'RTL';\n    }\n\n    my $Output = $Self->Output( TemplateFile => 'PrintHeader', Data => \\%Param );\n\n    # remove the version tag from the header if configured\n    $Self->_DisableBannerCheck( OutputRef => \\$Output );\n\n    # create & return output\n    return $Output;\n}\n\nsub PrintFooter {\n    my ( $Self, %Param ) = @_;\n\n    $Param{Host} = $Self->Ascii2Html( Text => $ENV{SERVER_NAME} . $ENV{REQUEST_URI} );\n    $Param{Host} =~ s/&amp;/&/ig;\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'PrintFooter', Data => \\%Param );\n}\n\n=item Ascii2Html()\n\nconvert ascii to html string\n\n    my $HTML = $LayoutObject->Ascii2Html(\n        Text            => 'Some <> Test <font color=\"red\">Test</font>',\n        Max             => 20,       # max 20 chars folowed by [..]\n        VMax            => 15,       # first 15 lines\n        NewLine         => 0,        # move \\r to \\n\n        HTMLResultMode  => 0,        # replace \" \" with &nbsp;\n        StripEmptyLines => 0,\n        Type            => 'Normal', # JSText or Normal text\n        LinkFeature     => 0,        # do some URL detections\n    );\n\nalso string ref is possible\n\n    my $HTMLStringRef = $LayoutObject->Ascii2Html(\n        Text => \\$Sting,\n    );\n\n=cut\n\nsub Ascii2Html {\n    my ( $Self, %Param ) = @_;\n\n    # check needed param\n    return '' if !defined $Param{Text};\n\n    # check text\n    my $TextScalar;\n    my $Text;\n    if ( !ref $Param{Text} ) {\n        $TextScalar = 1;\n        $Text       = \\$Param{Text};\n    }\n    elsif ( ref $Param{Text} eq 'SCALAR' ) {\n        $Text = $Param{Text};\n    }\n    else {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => 'Invalid ref \"' . ref $Param{Text} . '\" of Text param!',\n        );\n        return '';\n    }\n\n    # run output filter text\n    my @Filters;\n    if ( $Param{LinkFeature} && $Self->{FilterText} && ref $Self->{FilterText} eq 'HASH' ) {\n\n        # extract filter list\n        my %FilterList = %{ $Self->{FilterText} };\n\n        FILTER:\n        for my $Filter ( sort keys %FilterList ) {\n\n            # extract filter config\n            my $FilterConfig = $FilterList{$Filter};\n\n            next FILTER if !$FilterConfig;\n            next FILTER if ref $FilterConfig ne 'HASH';\n\n            # extract template list\n            my $TemplateList = $FilterConfig->{Templates};\n\n            # check template list\n            if ( !$TemplateList || ref $TemplateList ne 'HASH' || !%{$TemplateList} ) {\n\n                $Self->{LogObject}->Log(\n                    Priority => 'error',\n                    Message =>\n                        \"Please add a template list to output filter $FilterConfig->{Module} \"\n                        . \"to improve performance. Use ALL if OutputFilter should modify all \"\n                        . \"templates of the system (deprecated).\",\n                );\n            }\n\n            # check template list\n            if ( $Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL} ) {\n                next FILTER if !$TemplateList->{ $Param{TemplateFile} };\n            }\n\n            $Self->FatalDie() if !$Self->{MainObject}->Require( $FilterConfig->{Module} );\n\n            # create new instance\n            my $Object = $FilterConfig->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n\n            next FILTER if !$Object;\n\n            push(\n                @Filters,\n                {\n                    Object => $Object,\n                    Filter => $FilterConfig,\n                },\n            );\n        }\n\n        # pre run\n        for my $Filter (@Filters) {\n\n            $Text = $Filter->{Object}->Pre(\n                Filter => $Filter->{Filter},\n                Data   => $Text,\n            );\n        }\n    }\n\n    # max width\n    if ( $Param{Max} && length ${$Text} > $Param{Max} ) {\n        ${$Text} = substr( ${$Text}, 0, $Param{Max} - 5 ) . '[...]';\n    }\n\n    # newline\n    if ( $Param{NewLine} && length( ${$Text} ) < 140_000 ) {\n        ${$Text} =~ s/(\\n\\r|\\r\\r\\n|\\r\\n)/\\n/g;\n        ${$Text} =~ s/\\r/\\n/g;\n        ${$Text} =~ s/(.{4,$Param{NewLine}})(?:\\s|\\z)/$1\\n/gm;\n        my $ForceNewLine = $Param{NewLine} + 10;\n        ${$Text} =~ s/(.{$ForceNewLine})(.+?)/$1\\n$2/g;\n    }\n\n    # remove tabs\n    ${$Text} =~ s/\\t/ /g;\n\n    # strip empty lines\n    if ( $Param{StripEmptyLines} ) {\n        ${$Text} =~ s/^\\s*\\n//mg;\n    }\n\n    # max lines\n    if ( $Param{VMax} ) {\n        my @TextList = split( \"\\n\", ${$Text} );\n        ${$Text} = '';\n        my $Counter = 1;\n        for (@TextList) {\n            if ( $Counter <= $Param{VMax} ) {\n                ${$Text} .= $_ . \"\\n\";\n            }\n            $Counter++;\n        }\n        if ( $Counter >= $Param{VMax} ) {\n            ${$Text} .= \"[...]\\n\";\n        }\n    }\n\n    # html quoting\n    ${$Text} =~ s/&/&amp;/g;\n    ${$Text} =~ s/</&lt;/g;\n    ${$Text} =~ s/>/&gt;/g;\n    ${$Text} =~ s/\"/&quot;/g;\n\n    # text -> html format quoting\n    if ( $Param{LinkFeature} ) {\n        for my $Filter (@Filters) {\n            $Text = $Filter->{Object}->Post(\n                Filter => $Filter->{Filter},\n                Data   => $Text,\n            );\n        }\n    }\n\n    if ( $Param{HTMLResultMode} ) {\n        ${$Text} =~ s/\\n/<br\\/>\\n/g;\n        ${$Text} =~ s/  /&nbsp;&nbsp;/g;\n    }\n\n    if ( $Param{Type} && $Param{Type} eq 'JSText' ) {\n        ${$Text} =~ s/'/\\\\'/g;\n    }\n\n    return $Text if ref $Param{Text};\n    return ${$Text};\n}\n\n=item LinkQuote()\n\nso some URL link detections\n\n    my $HTMLWithLinks = $LayoutObject->LinkQuote(\n        Text => $HTMLWithOutLinks,\n    );\n\nalso string ref is possible\n\n    my $HTMLWithLinksRef = $LayoutObject->LinkQuote(\n        Text => \\$HTMLWithOutLinksRef,\n    );\n\n=cut\n\nsub LinkQuote {\n    my ( $Self, %Param ) = @_;\n\n    my $Text   = $Param{Text}   || '';\n    my $Target = $Param{Target} || 'NewPage' . int( rand(199) );\n\n    # check ref\n    my $TextScalar;\n    if ( !ref $Text ) {\n        $TextScalar = $Text;\n        $Text       = \\$TextScalar;\n    }\n\n    # run output filter text\n    my @Filters;\n    if ( $Self->{FilterText} && ref $Self->{FilterText} eq 'HASH' ) {\n\n        # extract filter list\n        my %FilterList = %{ $Self->{FilterText} };\n\n        FILTER:\n        for my $Filter ( sort keys %FilterList ) {\n\n            # extract filter config\n            my $FilterConfig = $FilterList{$Filter};\n\n            next FILTER if !$FilterConfig;\n            next FILTER if ref $FilterConfig ne 'HASH';\n\n            # extract template list\n            my $TemplateList = $FilterConfig->{Templates};\n\n            # check template list\n            if ( !$TemplateList || ref $TemplateList ne 'HASH' || !%{$TemplateList} ) {\n\n                $Self->{LogObject}->Log(\n                    Priority => 'error',\n                    Message =>\n                        \"Please add a template list to output filter $FilterConfig->{Module} \"\n                        . \"to improve performance. Use ALL if OutputFilter should modify all \"\n                        . \"templates of the system (deprecated).\",\n                );\n            }\n\n            # check template list\n            if ( $Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL} ) {\n                next FILTER if !$TemplateList->{ $Param{TemplateFile} };\n            }\n\n            $Self->FatalDie() if !$Self->{MainObject}->Require( $FilterConfig->{Module} );\n\n            # create new instance\n            my $Object = $FilterConfig->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n\n            next FILTER if !$Object;\n\n            push @Filters, {\n                Object => $Object,\n                Filter => $FilterConfig,\n            };\n        }\n    }\n\n    for my $Filter (@Filters) {\n        $Text = $Filter->{Object}->Pre( Filter => $Filter->{Filter}, Data => $Text );\n    }\n    for my $Filter (@Filters) {\n        $Text = $Filter->{Object}->Post( Filter => $Filter->{Filter}, Data => $Text );\n    }\n\n    # do mail to quote\n    ${$Text} =~ s/(mailto:.+?)(\\.\\s|\\s|\\)|\\\"|]|')/<a href=\\\"$1\\\">$1<\\/a>$2/gi;\n\n    # check ref && return result like called\n    if ($TextScalar) {\n        return ${$Text};\n    }\n    else {\n        return $Text;\n    }\n}\n\n=item HTMLLinkQuote()\n\nso some URL link detections in HTML code\n\n    my $HTMLWithLinks = $LayoutObject->HTMLLinkQuote(\n        String => $HTMLString,\n    );\n\nalso string ref is possible\n\n    my $HTMLWithLinksRef = $LayoutObject->HTMLLinkQuote(\n        String => \\$HTMLString,\n    );\n\n=cut\n\nsub HTMLLinkQuote {\n    my ( $Self, %Param ) = @_;\n\n    return $Self->{HTMLUtilsObject}->LinkQuote(\n        String    => $Param{String},\n        TargetAdd => 1,\n        Target    => '_blank',\n    );\n}\n\n=item LinkEncode()\n\nperform URL encoding on query string parameter names or values.\n\n    my $ParamValueEncoded = $LayoutObject->LinkEncode($ParamValue);\n\nDon't encode entire URLs, because this will make them invalid\n(?, & and ; will be encoded as well). Only pass one parameter name\nor value at a time.\n\n=cut\n\nsub LinkEncode {\n    my ( $Self, $Link ) = @_;\n\n    return if !defined $Link;\n\n    return URI::Escape::uri_escape_utf8($Link);\n}\n\nsub CustomerAgeInHours {\n    my ( $Self, %Param ) = @_;\n\n    my $Age = defined( $Param{Age} ) ? $Param{Age} : return;\n    my $Space     = $Param{Space} || '<br/>';\n    my $AgeStrg   = '';\n    my $HourDsc   = 'h';\n    my $MinuteDsc = 'm';\n    if ( $Self->{ConfigObject}->Get('TimeShowCompleteDescription') ) {\n        $HourDsc   = 'hour';\n        $MinuteDsc = 'minute';\n    }\n    if ( $Age =~ /^-(.*)/ ) {\n        $Age     = $1;\n        $AgeStrg = '-';\n    }\n\n    # get hours\n    if ( $Age >= 3600 ) {\n        $AgeStrg .= int( ( $Age / 3600 ) ) . ' ';\n        $AgeStrg .= $Self->{LanguageObject}->Get($HourDsc);\n        $AgeStrg .= $Space;\n    }\n\n    # get minutes (just if age < 1 day)\n    if ( $Age <= 3600 || int( ( $Age / 60 ) % 60 ) ) {\n        $AgeStrg .= int( ( $Age / 60 ) % 60 ) . ' ';\n        $AgeStrg .= $Self->{LanguageObject}->Get($MinuteDsc);\n    }\n    return $AgeStrg;\n}\n\nsub CustomerAge {\n    my ( $Self, %Param ) = @_;\n\n    my $Age = defined( $Param{Age} ) ? $Param{Age} : return;\n    my $Space     = $Param{Space} || '<br/>';\n    my $AgeStrg   = '';\n    my $DayDsc    = 'd';\n    my $HourDsc   = 'h';\n    my $MinuteDsc = 'm';\n    if ( $Self->{ConfigObject}->Get('TimeShowCompleteDescription') ) {\n        $DayDsc    = 'day';\n        $HourDsc   = 'hour';\n        $MinuteDsc = 'minute';\n    }\n    if ( $Age =~ /^-(.*)/ ) {\n        $Age     = $1;\n        $AgeStrg = '-';\n    }\n\n    # get days\n    if ( $Age >= 86400 ) {\n        $AgeStrg .= int( ( $Age / 3600 ) / 24 ) . ' ';\n        $AgeStrg .= $Self->{LanguageObject}->Get($DayDsc);\n        $AgeStrg .= $Space;\n    }\n\n    # get hours\n    if ( $Age >= 3600 ) {\n        $AgeStrg .= int( ( $Age / 3600 ) % 24 ) . ' ';\n        $AgeStrg .= $Self->{LanguageObject}->Get($HourDsc);\n        $AgeStrg .= $Space;\n    }\n\n    # get minutes (just if age < 1 day)\n    if ( $Self->{ConfigObject}->Get('TimeShowAlwaysLong') || $Age < 86400 ) {\n        $AgeStrg .= int( ( $Age / 60 ) % 60 ) . ' ';\n        $AgeStrg .= $Self->{LanguageObject}->Get($MinuteDsc);\n    }\n    return $AgeStrg;\n}\n\n=item BuildSelection()\n\nbuild a html option element based on given data\n\n    my $HTML = $LayoutObject->BuildSelection(\n        Data            => $ArrayRef,             # use $HashRef, $ArrayRef or $ArrayHashRef (see below)\n        Name            => 'TheName',             # name of element\n        ID              => 'HTMLID',              # (optional) the HTML ID for this element, if not provided, the name will be used as ID as well\n        Multiple        => 0,                     # (optional) default 0 (0|1)\n        Size            => 1,                     # (optional) default 1 element size\n        Class           => 'class',               # (optional) a css class\n        Disabled        => 0,                     # (optional) default 0 (0|1) disable the element\n        AutoComplete    => 'off',                 # (optional)\n        OnChange        => 'javascript',          # (optional)\n        OnClick         => 'javascript',          # (optional)\n\n        SelectedID     => 1,                 # (optional) use integer or arrayref (unable to use with ArrayHashRef)\n        SelectedID     => [1, 5, 3],         # (optional) use integer or arrayref (unable to use with ArrayHashRef)\n        SelectedValue  => 'test',            # (optional) use string or arrayref (unable to use with ArrayHashRef)\n        SelectedValue  => ['test', 'test1'], # (optional) use string or arrayref (unable to use with ArrayHashRef)\n\n        Sort           => 'NumericValue',    # (optional) (AlphanumericValue|NumericValue|AlphanumericKey|NumericKey|TreeView|IndividualKey|IndividualValue) unable to use with ArrayHashRef\n        SortIndividual => ['sec', 'min']     # (optional) only sort is set to IndividualKey or IndividualValue\n        SortReverse    => 0,                 # (optional) reverse the list\n\n        Translation    => 1,                 # (optional) default 1 (0|1) translate value\n        PossibleNone   => 0,                 # (optional) default 0 (0|1) add a leading empty selection\n        TreeView       => 0,                 # (optional) default 0 (0|1)\n        DisabledBranch => 'Branch',          # (optional) disable all elements of this branch (use string or arrayref)\n        Max            => 100,               # (optional) default 100 max size of the shown value\n        HTMLQuote      => 0,                 # (optional) default 1 (0|1) disable html quote\n        Title          => 'Tooltip Text',    # (optional) string will be shown as Tooltip on mouseover\n        OptionTitle    => 1,                 # (optional) default 0 (0|1) show title attribute (the option value) on every option element\n    );\n\n    my $HashRef = {\n        Key1 => 'Value1',\n        Key2 => 'Value2',\n        Key3 => 'Value3',\n    };\n\n    my $ArrayRef = [\n        'KeyValue1',\n        'KeyValue2',\n        'KeyValue3',\n        'KeyValue4',\n    ];\n\n    my $ArrayHashRef = [\n        {\n            Key   => '1',\n            Value => 'Value1',\n        },\n        {\n            Key      => '2',\n            Value    => 'Value1::Subvalue1',\n            Selected => 1,\n        },\n        {\n            Key   => '3',\n            Value => 'Value1::Subvalue2',\n        },\n        {\n            Key      => '4',\n            Value    => 'Value2',\n            Disabled => 1,\n        }\n    ];\n\n=cut\n\nsub BuildSelection {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(Name Data)) {\n        if ( !$Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # The parameters 'Ajax' and 'OnChange' are exclusive\n    if ( $Param{Ajax} && $Param{OnChange} ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => \"The parameters 'OnChange' and 'Ajax' exclude each other!\"\n        );\n        return;\n    }\n\n    # set OnChange if AJAX is used\n    if ( $Param{Ajax} ) {\n        if ( !$Param{Ajax}->{Depend} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => 'Need Depend Param Ajax option!',\n            );\n            $Self->FatalError();\n        }\n        if ( !$Param{Ajax}->{Update} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => 'Need Update Param Ajax option()!',\n            );\n            $Self->FatalError();\n        }\n        my $Selector = $Param{ID} || $Param{Name};\n        $Param{OnChange} = \"Core.AJAX.FormUpdate(\\$('#\"\n            . $Selector . \"'), '\" . $Param{Ajax}->{Subaction} . \"',\"\n            . \" '$Param{Name}',\"\n            . \" ['\"\n            . join( \"', '\", @{ $Param{Ajax}->{Update} } ) . \"']);\";\n    }\n\n    # create OptionRef\n    my $OptionRef = $Self->_BuildSelectionOptionRefCreate(%Param);\n\n    # create AttributeRef\n    my $AttributeRef = $Self->_BuildSelectionAttributeRefCreate(%Param);\n\n    # create DataRef\n    my $DataRef = $Self->_BuildSelectionDataRefCreate(\n        Data         => $Param{Data},\n        AttributeRef => $AttributeRef,\n        OptionRef    => $OptionRef,\n    );\n\n    # generate output\n    my $String = $Self->_BuildSelectionOutput(\n        AttributeRef => $AttributeRef,\n        DataRef      => $DataRef,\n        OptionTitle  => $Param{OptionTitle},\n    );\n    return $String;\n}\n\nsub NoPermission {\n    my ( $Self, %Param ) = @_;\n\n    my $WithHeader = $Param{WithHeader} || 'yes';\n    $Param{Message} = 'Insufficient Rights.' if ( !$Param{Message} );\n\n    # create output\n    my $Output;\n    $Output = $Self->Header( Title => 'Insufficient Rights' ) if ( $WithHeader eq 'yes' );\n    $Output .= $Self->Output( TemplateFile => 'NoPermission', Data => \\%Param );\n    $Output .= $Self->Footer() if ( $WithHeader eq 'yes' );\n\n    # return output\n    return $Output;\n}\n\n=item Permission()\n\ncheck if access to a frontend module exists\n\n    my $Access = $LayoutObject->Permission(\n        Action => 'AdminCustomerUser',\n        Type   => 'rw', # ro|rw possible\n    );\n\n=cut\n\nsub Permission {\n    my ( $Self, %Param ) = @_;\n\n    # check needed params\n    for (qw(Action Type)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => \"Got no $_!\",\n            );\n            $Self->FatalError();\n        }\n    }\n\n    # check if it is ro|rw\n    my %Map = (\n        ro => 'GroupRo',\n        rw => 'Group',\n\n    );\n    my $Permission = $Map{ $Param{Type} };\n    return if !$Permission;\n\n    # get config option for frontend module\n    my $Config = $Self->{ConfigObject}->Get('Frontend::Module')->{ $Param{Action} };\n    return if !$Config;\n\n    my $Item = $Config->{$Permission};\n\n    # array access restriction\n    my $Access = 0;\n    if ( $Item && ref $Item eq 'ARRAY' ) {\n        for ( @{$Item} ) {\n            my $Key = 'UserIs' . $Permission . '[' . $_ . ']';\n            if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n                $Access = 1;\n            }\n        }\n    }\n\n    # scalar access restriction\n    elsif ($Item) {\n        my $Key = 'UserIs' . $Permission . '[' . $Item . ']';\n        if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n            $Access = 1;\n        }\n    }\n\n    # no access restriction\n    elsif ( !$Config->{GroupRo} && !$Config->{Group} ) {\n        $Access = 1;\n    }\n    return $Access;\n}\n\nsub CheckCharset {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = '';\n    if ( !$Param{Action} ) {\n        $Param{Action} = '$Env{\"Action\"}';\n    }\n\n    # with utf-8 can everything be shown\n    if ( $Self->{UserCharset} !~ /^utf-8$/i ) {\n\n        # replace ' or \"\n        $Param{Charset} && $Param{Charset} =~ s/'|\"//gi;\n\n        # if the content charset is different to the user charset\n        if ( $Param{Charset} && $Self->{UserCharset} !~ /^$Param{Charset}$/i ) {\n\n            # if the content charset is us-ascii it is always shown correctly\n            if ( $Param{Charset} !~ /us-ascii/i ) {\n                $Output = '<p><i class=\"small\">'\n                    . '$Text{\"This message was written in a character set other than your own.\"}'\n                    . '$Text{\"If it is not displayed correctly,\"} '\n                    . '<a href=\"'\n                    . $Self->{Baselink}\n                    . \"Action=$Param{Action};TicketID=$Param{TicketID}\"\n                    . \";ArticleID=$Param{ArticleID};Subaction=ShowHTMLeMail\\\" target=\\\"HTMLeMail\\\" \"\n                    . 'onmouseover=\"window.status=\\'$Text{\"open it in a new window\"}\\'; return true;\" onmouseout=\"window.status=\\'\\';\">'\n                    . '$Text{\"click here\"}</a> $Text{\"to open it in a new window.\"}</i></p>';\n            }\n        }\n    }\n\n    # return note string\n    return $Output;\n}\n\nsub CheckMimeType {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = '';\n    if ( !$Param{Action} ) {\n        $Param{Action} = '$Env{\"Action\"}';\n    }\n\n    # check if it is a text/plain email\n    if ( $Param{MimeType} && $Param{MimeType} !~ /text\\/plain/i ) {\n        $Output = '<p><i class=\"small\">$Text{\"This is a\"} '\n            . $Param{MimeType}\n            . ' $Text{\"email\"}, '\n            . '<a href=\"'\n            . $Self->{Baselink}\n            . \"Action=$Param{Action};TicketID=\"\n            . \"$Param{TicketID};ArticleID=$Param{ArticleID};Subaction=ShowHTMLeMail\\\" \"\n            . 'target=\"HTMLeMail\" '\n            . 'onmouseover=\"window.status=\\'$Text{\"open it in a new window\"}\\'; return true;\" onmouseout=\"window.status=\\'\\';\">'\n            . '$Text{\"click here\"}</a> '\n            . '$Text{\"to open it in a new window.\"}</i></p>';\n    }\n\n    # just to be compat\n    elsif ( $Param{Body} =~ /^<.DOCTYPE\\s+html|^<HTML>/i ) {\n        $Output = '<p><i class=\"small\">$Text{\"This is a\"} '\n            . $Param{MimeType}\n            . ' $Text{\"email\"}, '\n            . '<a href=\"'\n            . $Self->{Baselink}\n            . 'Action=$Env{\"Action\"};TicketID='\n            . \"$Param{TicketID};ArticleID=$Param{ArticleID};Subaction=ShowHTMLeMail\\\" \"\n            . 'target=\"HTMLeMail\" '\n            . 'onmouseover=\"window.status=\\'$Text{\"open it in a new window\"}\\'; return true;\" onmouseout=\"window.status=\\'\\';\">'\n            . '$Text{\"click here\"}</a> '\n            . '$Text{\"to open it in a new window.\"}</i></p>';\n    }\n\n    # return note string\n    return $Output;\n}\n\nsub ReturnValue {\n    my ( $Self, $What ) = @_;\n\n    return $Self->{$What};\n}\n\n=item Attachment()\n\nreturns browser output to display/download a attachment\n\n    $HTML = $LayoutObject->Attachment(\n        Type        => 'inline',        # optional, default: attachment, possible: inline|attachment\n        Filename    => 'FileName.png',  # optional\n        ContentType => 'image/png',\n        Content     => $Content,\n    );\n\n    or for AJAX html snippets\n\n    $HTML = $LayoutObject->Attachment(\n        Type        => 'inline',        # optional, default: attachment, possible: inline|attachment\n        Filename    => 'FileName.html', # optional\n        ContentType => 'text/html',\n        Charset     => 'utf-8',         # optional\n        Content     => $Content,\n        NoCache     => 1,               # optional\n    );\n\n=cut\n\nsub Attachment {\n    my ( $Self, %Param ) = @_;\n\n    # check needed params\n    for (qw(Content ContentType)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => \"Got no $_!\",\n            );\n            $Self->FatalError();\n        }\n    }\n\n    # return attachment\n    my $Output = 'Content-Disposition: ';\n    if ( $Param{Type} ) {\n        $Output .= $Param{Type};\n        $Output .= '; ';\n    }\n    else {\n        $Output .= $Self->{ConfigObject}->Get('AttachmentDownloadType') || 'attachment';\n        $Output .= '; ';\n    }\n\n    # clean filename to get no problems with some browsers\n    if ( $Param{Filename} ) {\n\n        # detect if IE6 workaround is used (solution for IE problem with multi byte filename)\n        # to solve this kind of problems use the following in dtl for attachment downloads:\n        # <a href=\"$Env{\"CGIHandle\"}/$LQData{\"Filename\"}?Action=...\">xxx</a>\n        my $FilenameInHeader = 1;\n\n        # check if browser is broken\n        if ( $Self->{BrowserBreakDispositionHeader} && $ENV{REQUEST_URI} ) {\n\n            # check if IE 6 workaround is used\n            if ( $ENV{REQUEST_URI} =~ /\\Q$Self->{CGIHandle}\\E\\/.+?\\?Action=/ ) {\n                $FilenameInHeader = 0;\n            }\n        }\n\n        # only deliver filename if needed\n        if ($FilenameInHeader) {\n            $Output .= \" filename=\\\"$Param{Filename}\\\"\";\n        }\n    }\n    $Output .= \"\\n\";\n\n    # get attachment size\n    $Param{Size} = bytes::length( $Param{Content} );\n\n    # add no cache headers\n    if ( $Param{NoCache} ) {\n        $Output .= \"Expires: Tue, 1 Jan 1980 12:00:00 GMT\\n\";\n        $Output .= \"Cache-Control: no-cache\\n\";\n        $Output .= \"Pragma: no-cache\\n\";\n    }\n    $Output .= \"Content-Length: $Param{Size}\\n\";\n\n    if ( $Param{Charset} ) {\n        $Output .= \"Content-Type: $Param{ContentType}; charset=$Param{Charset};\\n\\n\";\n    }\n    else {\n        $Output .= \"Content-Type: $Param{ContentType}\\n\\n\";\n    }\n\n    # disable utf8 flag, to write binary to output\n    $Self->{EncodeObject}->EncodeOutput( \\$Output );\n    $Self->{EncodeObject}->EncodeOutput( \\$Param{Content} );\n\n    # fix for firefox HEAD problem\n    if ( !$ENV{REQUEST_METHOD} || $ENV{REQUEST_METHOD} ne 'HEAD' ) {\n        $Output .= $Param{Content};\n    }\n\n    # reset binmode, don't use utf8\n    binmode STDOUT, ':bytes';\n\n    return $Output;\n}\n\n=item PageNavBar()\n\ngenerates a page nav bar\n\n    my %PageNavBar = $LayoutObject->PageNavBar(\n        Limit       => 100,         # marks result of TotalHits red if Limit is gerater then AllHits\n        WindowSize  => 15,          # max shown pages to click\n        StartHit    => 1,           # start to show items\n        PageShown   => 15,          # number of shown items a page\n        AllHits     => 56,          # number of total hits\n        Action      => 'AgentXXX',  # e. g. 'Action=' . $Self->{LayoutObject}->{Action}\n        Link        => $Link,       # e. g. 'Subaction=View;'\n        AJAXReplace => 'IDElement', # IDElement which should be replaced\n        IDPrefix    => 'Tickets',   # Prefix for the id parameter\n    );\n\n    return values of hash\n\n        TotalHits  # total hits\n        Result     # shown items e. g. \"1-5\" or \"16-30\"\n        SiteNavBar # html for page nav bar e. g. \"1 2 3 4\"\n\n        ResultLong     # shown items e. g. \"1-5 of 32\" or \"16-30 of 64\"\n        SiteNavBarLong # html for page nav bar e. g. \"Page: 1 2 3 4\"\n\n=cut\n\nsub PageNavBar {\n    my ( $Self, %Param ) = @_;\n\n    my $Limit = $Param{Limit} || 0;\n    $Param{AllHits}  = 0 if ( !$Param{AllHits} );\n    $Param{StartHit} = 0 if ( !$Param{AllHits} );\n    my $Pages = int( ( $Param{AllHits} / $Param{PageShown} ) + 0.99999 );\n    my $Page  = int( ( $Param{StartHit} / $Param{PageShown} ) + 0.99999 );\n    my $WindowSize = $Param{WindowSize} || 5;\n    my $IDPrefix   = $Param{IDPrefix}   || 'Generic';\n\n    # build Results (1-5 or 16-30)\n    if ( $Param{AllHits} >= ( $Param{StartHit} + $Param{PageShown} ) ) {\n        $Param{Results} = $Param{StartHit} . \"-\" . ( $Param{StartHit} + $Param{PageShown} - 1 );\n    }\n    else {\n        $Param{Results} = \"$Param{StartHit}-$Param{AllHits}\";\n    }\n\n    # check total hits\n    if ( $Limit == $Param{AllHits} ) {\n        $Param{TotalHits} = \"<span class=\\\"PaginationLimit\\\">$Param{AllHits}</span>\";\n    }\n    else {\n        $Param{TotalHits} = $Param{AllHits};\n    }\n\n    # build page nav bar\n    my $WindowStart = sprintf( \"%.0f\", ( $Param{StartHit} / $Param{PageShown} ) );\n    $WindowStart = int( ( $WindowStart / $WindowSize ) ) + 1;\n    $WindowStart = ( $WindowStart * $WindowSize ) - ($WindowSize);\n    my $Action = $Param{Action} || '';\n    my $Link   = $Param{Link}   || '';\n    my $Baselink = \"$Self->{Baselink}$Action;$Link\";\n    my $i        = 0;\n    while ( $i <= ( $Pages - 1 ) ) {\n        $i++;\n\n        # show normal page 1,2,3,...\n        if ( $i <= ( $WindowStart + $WindowSize ) && $i > $WindowStart ) {\n            my $BaselinkAll\n                = $Baselink\n                . \"StartWindow=$WindowStart;StartHit=\"\n                . ( ( ( $i - 1 ) * $Param{PageShown} ) + 1 );\n            my $SelectedPage = \"\";\n            my $PageNumber   = $i;\n\n            if ( $Page == $i ) {\n                $SelectedPage = \" class=\\\"Selected\\\"\";\n            }\n\n            if ( $Param{AJAXReplace} ) {\n                $Self->Block(\n                    Name => 'PageAjax',\n                    Data => {\n                        BaselinkAll  => $BaselinkAll,\n                        AjaxReplace  => $Param{AJAXReplace},\n                        PageNumber   => $PageNumber,\n                        IDPrefix     => $IDPrefix,\n                        SelectedPage => $SelectedPage\n                    },\n                );\n            }\n            else {\n                $Self->Block(\n                    Name => 'Page',\n                    Data => {\n                        BaselinkAll  => $BaselinkAll,\n                        PageNumber   => $PageNumber,\n                        IDPrefix     => $IDPrefix,\n                        SelectedPage => $SelectedPage\n                    },\n                );\n            }\n        }\n\n        # over window \">>\" and \">|\"\n        elsif ( $i > ( $WindowStart + $WindowSize ) ) {\n            my $StartWindow     = $WindowStart + $WindowSize + 1;\n            my $LastStartWindow = int( $Pages / $WindowSize );\n            my $BaselinkAllBack = $Baselink . \"StartHit=\" . ( ( $i - 1 ) * $Param{PageShown} + 1 );\n            my $BaselinkAllNext\n                = $Baselink . \"StartHit=\" . ( ( $Param{PageShown} * ( $Pages - 1 ) ) + 1 );\n\n            if ( $Param{AJAXReplace} ) {\n                $Self->Block(\n                    Name => 'PageForwardAjax',\n                    Data => {\n                        BaselinkAllBack => $BaselinkAllBack,\n                        BaselinkAllNext => $BaselinkAllNext,\n                        AjaxReplace     => $Param{AJAXReplace},\n                        IDPrefix        => $IDPrefix,\n                    },\n                );\n            }\n            else {\n                $Self->Block(\n                    Name => 'PageForward',\n                    Data => {\n                        BaselinkAllBack => $BaselinkAllBack,\n                        BaselinkAllNext => $BaselinkAllNext,\n                        IDPrefix        => $IDPrefix,\n                    },\n                );\n            }\n\n            $i = 99999999;\n        }\n\n        # over window \"<<\" and \"|<\"\n        elsif ( $i < $WindowStart && ( $i - 1 ) < $Pages ) {\n            my $StartWindow     = $WindowStart - $WindowSize - 1;\n            my $BaselinkAllBack = $Baselink . 'StartHit=1;StartWindow=1';\n            my $BaselinkAllNext\n                = $Baselink . 'StartHit=' . ( ( $WindowStart - 1 ) * ( $Param{PageShown} ) + 1 );\n\n            if ( $Param{AJAXReplace} ) {\n                $Self->Block(\n                    Name => 'PageBackAjax',\n                    Data => {\n                        BaselinkAllBack => $BaselinkAllBack,\n                        BaselinkAllNext => $BaselinkAllNext,\n                        AjaxReplace     => $Param{AJAXReplace},\n                        IDPrefix        => $IDPrefix,\n                    },\n                );\n            }\n            else {\n                $Self->Block(\n                    Name => 'PageBack',\n                    Data => {\n                        BaselinkAllBack => $BaselinkAllBack,\n                        BaselinkAllNext => $BaselinkAllNext,\n                        IDPrefix        => $IDPrefix,\n                    },\n                );\n            }\n\n            $i = $WindowStart - 1;\n        }\n    }\n\n    $Param{SearchNavBar} = $Self->Output(\n        TemplateFile   => 'Pagination',\n        KeepScriptTags => $Param{KeepScriptTags},\n    );\n\n    # only show total amount of pages if there is more than one\n    if ( $Pages > 1 ) {\n        $Param{NavBarLong} = \"- \\$Text{\\\"Page\\\"}: $Param{SearchNavBar}\";\n    }\n    else {\n        $Param{SearchNavBar} = '';\n    }\n\n    # return data\n    return (\n        TotalHits      => $Param{TotalHits},\n        Result         => $Param{Results},\n        ResultLong     => \"$Param{Results} \\$Text{\\\"of\\\"} $Param{TotalHits}\",\n        SiteNavBar     => $Param{SearchNavBar},\n        SiteNavBarLong => $Param{NavBarLong},\n        Link           => $Param{Link},\n    );\n}\n\nsub NavigationBar {\n    my ( $Self, %Param ) = @_;\n\n    if ( !$Param{Type} ) {\n        $Param{Type} = $Self->{ModuleReg}->{NavBarName} || 'Ticket';\n    }\n\n    # create menu items\n    my %NavBar;\n    my $FrontendModuleConfig = $Self->{ConfigObject}->Get('Frontend::Module');\n\n    for my $Module ( sort keys %{$FrontendModuleConfig} ) {\n        my %Hash = %{ $FrontendModuleConfig->{$Module} };\n        next if !$Hash{NavBar};\n        next if ref $Hash{NavBar} ne 'ARRAY';\n\n        my @Items = @{ $Hash{NavBar} };\n        for my $Item (@Items) {\n            next if !$Item->{NavBar};\n            $Item->{CSS} = '';\n\n            # highlight active area link\n            if (\n                ( $Item->{Type} && $Item->{Type} eq 'Menu' )\n                && ( $Item->{NavBar} && $Item->{NavBar} eq $Param{Type} )\n                )\n            {\n                $Item->{CSS} .= ' Selected';\n            }\n\n            # get permissions from module if no permissions are defined for the icon\n            if ( !$Item->{GroupRo} && !$Item->{Group} ) {\n                if ( $Hash{GroupRo} ) {\n                    $Item->{GroupRo} = $Hash{GroupRo};\n                }\n                if ( $Hash{Group} ) {\n                    $Item->{Group} = $Hash{Group};\n                }\n            }\n\n            # check shown permission\n            my $Shown = 0;\n            for my $Permission (qw(GroupRo Group)) {\n\n                # array access restriction\n                if ( $Item->{$Permission} && ref $Item->{$Permission} eq 'ARRAY' ) {\n                    for ( @{ $Item->{$Permission} } ) {\n                        my $Key = 'UserIs' . $Permission . '[' . $_ . ']';\n                        if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n                            $Shown = 1;\n                            last;\n                        }\n                    }\n                }\n\n                # scalar access restriction\n                elsif ( $Item->{$Permission} ) {\n                    my $Key = 'UserIs' . $Permission . '[' . $Item->{$Permission} . ']';\n                    if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n                        $Shown = 1;\n                        last;\n                    }\n                }\n\n                # no access restriction\n                elsif ( !$Item->{GroupRo} && !$Item->{Group} ) {\n                    $Shown = 1;\n                    last;\n                }\n            }\n            next if !$Shown;\n\n            # set prio of item\n            my $Key = ( $Item->{Block} || '' ) . sprintf( \"%07d\", $Item->{Prio} );\n            for ( 1 .. 51 ) {\n                last if !$NavBar{$Key};\n\n                $Item->{Prio}++;\n                $Key = ( $Item->{Block} || '' ) . sprintf( \"%07d\", $Item->{Prio} );\n            }\n\n            # show as main menu\n            if ( $Item->{Type} eq 'Menu' ) {\n                $NavBar{$Key} = $Item;\n            }\n\n            # show as sub of main menu\n            else {\n                $NavBar{Sub}->{ $Item->{NavBar} }->{$Key} = $Item;\n            }\n        }\n    }\n\n    # run menu item modules\n    if ( ref $Self->{ConfigObject}->Get('Frontend::NavBarModule') eq 'HASH' ) {\n        my %Jobs = %{ $Self->{ConfigObject}->Get('Frontend::NavBarModule') };\n        for my $Job ( sort keys %Jobs ) {\n\n            # load module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n            next if !$Object;\n\n            # run module\n            %NavBar = ( %NavBar, $Object->Run( %Param, Config => $Jobs{$Job} ) );\n        }\n    }\n\n    # show nav bar\n    for my $Key ( sort keys %NavBar ) {\n        next if $Key eq 'Sub';\n        next if !%{ $NavBar{$Key} };\n        my $Item = $NavBar{$Key};\n        $Item->{NameForID} = $Item->{Name};\n        $Item->{NameForID} =~ s/[ &;]//ig;\n        my $Sub = $NavBar{Sub}->{ $Item->{NavBar} };\n\n        $Self->Block(\n            Name => 'ItemArea',    #$NavBar{$_}->{Block} || 'Item',\n            Data => {\n                %$Item,\n                AccessKeyReference => $Item->{AccessKey} ? \" ($Item->{AccessKey})\" : '',\n            },\n        );\n\n        # show sub menu\n        next if !$Sub;\n        $Self->Block(\n            Name => 'ItemAreaSub',\n            Data => $Item,\n        );\n        for my $Key ( sort keys %{$Sub} ) {\n            my $ItemSub = $Sub->{$Key};\n            $ItemSub->{NameForID} = $ItemSub->{Name};\n            $ItemSub->{NameForID} =~ s/[ &;]//ig;\n            $ItemSub->{NameTop} = $Item->{NameForID};\n            $Self->Block(\n                Name => 'ItemAreaSubItem',    #$Item->{Block} || 'Item',\n                Data => {\n                    %$ItemSub,\n                    AccessKeyReference => $ItemSub->{AccessKey} ? \" ($ItemSub->{AccessKey})\" : '',\n                },\n            );\n        }\n    }\n\n    # create & return output\n    my $Output = $Self->Output( TemplateFile => 'AgentNavigationBar', Data => \\%Param );\n\n    # run nav bar output modules\n    my $NavBarOutputModuleConfig = $Self->{ConfigObject}->Get('Frontend::NavBarOutputModule');\n    if ( ref $NavBarOutputModuleConfig eq 'HASH' ) {\n        my %Jobs = %{$NavBarOutputModuleConfig};\n        for my $Job ( sort keys %Jobs ) {\n\n            # load module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n            next if !$Object;\n\n            # run module\n            $Output .= $Object->Run( %Param, Config => $Jobs{$Job} );\n        }\n    }\n\n    # run notification modules\n    my $FrontendNotifyModuleConfig = $Self->{ConfigObject}->Get('Frontend::NotifyModule');\n    if ( ref $FrontendNotifyModuleConfig eq 'HASH' ) {\n        my %Jobs = %{$FrontendNotifyModuleConfig};\n        for my $Job ( sort keys %Jobs ) {\n\n            # load module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n            next if !$Object;\n\n            # run module\n            $Output .= $Object->Run( %Param, Config => $Jobs{$Job} );\n        }\n    }\n\n    # run nav bar modules\n    if ( $Self->{ModuleReg}->{NavBarModule} ) {\n\n        # run navbar modules\n        my %Jobs = %{ $Self->{ModuleReg}->{NavBarModule} };\n\n        # load module\n        next if !$Self->{MainObject}->Require( $Jobs{Module} );\n        my $Object = $Jobs{Module}->new(\n            %{$Self},\n            LayoutObject => $Self,\n        );\n        next if !$Object;\n\n        # run module\n        $Output .= $Object->Run( %Param, Config => \\%Jobs );\n    }\n    return $Output;\n}\n\nsub TransformDateSelection {\n    my ( $Self, %Param ) = @_;\n\n    # get key prefix\n    my $Prefix = $Param{Prefix} || '';\n\n    # time zone translation if needed\n    if ( $Self->{ConfigObject}->Get('TimeZoneUser') && $Self->{UserTimeZone} ) {\n        my $TimeStamp = $Self->{TimeObject}->TimeStamp2SystemTime(\n            String => $Param{ $Prefix . 'Year' } . '-'\n                . $Param{ $Prefix . 'Month' } . '-'\n                . $Param{ $Prefix . 'Day' } . ' '\n                . ( $Param{ $Prefix . 'Hour' }   || 0 ) . ':'\n                . ( $Param{ $Prefix . 'Minute' } || 0 )\n                . ':00',\n        );\n        $TimeStamp = $TimeStamp - ( $Self->{UserTimeZone} * 3600 );\n        (\n            $Param{ $Prefix . 'Second' },\n            $Param{ $Prefix . 'Minute' },\n            $Param{ $Prefix . 'Hour' },\n            $Param{ $Prefix . 'Day' },\n            $Param{ $Prefix . 'Month' },\n            $Param{ $Prefix . 'Year' }\n        ) = $Self->{UserTimeObject}->SystemTime2Date( SystemTime => $TimeStamp );\n    }\n\n    # reset prefix\n    $Param{Prefix} = '';\n\n    return %Param;\n}\n\nsub BuildDateSelection {\n    my ( $Self, %Param ) = @_;\n\n    my $DateInputStyle = $Self->{ConfigObject}->Get('TimeInputFormat');\n    my $Prefix         = $Param{Prefix} || '';\n    my $DiffTime       = $Param{DiffTime} || 0;\n    my $Format         = defined( $Param{Format} ) ? $Param{Format} : 'DateInputFormatLong';\n    my $Area           = $Param{Area} || 'Agent';\n    my $Optional       = $Param{ $Prefix . 'Optional' } || 0;\n    my $Required       = $Param{ $Prefix . 'Required' } || 0;\n    my $Used           = $Param{ $Prefix . 'Used' } || 0;\n    my $Class          = $Param{ $Prefix . 'Class' } || '';\n\n    # Defines, if the date selection should be validated on client side with JS\n    my $Validate = $Param{Validate} || 0;\n\n    # Validate that the date is in the future (e. g. pending times)\n    my $ValidateDateInFuture = $Param{ValidateDateInFuture} || 0;\n\n    my ( $s, $m, $h, $D, $M, $Y ) = $Self->{UserTimeObject}->SystemTime2Date(\n        SystemTime => $Self->{UserTimeObject}->SystemTime() + $DiffTime,\n    );\n    my $DatepickerHTML = '';\n\n    # time zone translation\n    if (\n        $Self->{ConfigObject}->Get('TimeZoneUser')\n        && $Self->{UserTimeZone}\n        && $Param{ $Prefix . 'Year' }\n        && $Param{ $Prefix . 'Month' }\n        && $Param{ $Prefix . 'Day' }\n        && !$Param{OverrideTimeZone}\n        )\n    {\n        my $TimeStamp = $Self->{TimeObject}->TimeStamp2SystemTime(\n            String => $Param{ $Prefix . 'Year' } . '-'\n                . $Param{ $Prefix . 'Month' } . '-'\n                . $Param{ $Prefix . 'Day' } . ' '\n                . ( $Param{ $Prefix . 'Hour' }   || 0 ) . ':'\n                . ( $Param{ $Prefix . 'Minute' } || 0 )\n                . ':00',\n        );\n        $TimeStamp = $TimeStamp + ( $Self->{UserTimeZone} * 3600 );\n        (\n            $Param{ $Prefix . 'Second' },\n            $Param{ $Prefix . 'Minute' },\n            $Param{ $Prefix . 'Hour' },\n            $Param{ $Prefix . 'Day' },\n            $Param{ $Prefix . 'Month' },\n            $Param{ $Prefix . 'Year' }\n        ) = $Self->{UserTimeObject}->SystemTime2Date( SystemTime => $TimeStamp );\n    }\n\n    # year\n    if ( $DateInputStyle eq 'Option' ) {\n        my %Year;\n        if ( defined $Param{YearPeriodPast} && defined $Param{YearPeriodFuture} ) {\n            for ( $Y - $Param{YearPeriodPast} .. $Y + $Param{YearPeriodFuture} ) {\n                $Year{$_} = $_;\n            }\n        }\n        else {\n            for ( $Y - 10 .. $Y + 1 + ( $Param{YearDiff} || 0 ) ) {\n                $Year{$_} = $_;\n            }\n        }\n        $Param{Year} = $Self->BuildSelection(\n            Name        => $Prefix . 'Year',\n            Data        => \\%Year,\n            SelectedID  => int( $Param{ $Prefix . 'Year' } || $Y ),\n            Translation => 0,\n            Class       => $Validate ? 'Validate_DateYear' : '',\n            Title       => $Self->{LanguageObject}->Get('Year'),\n        );\n    }\n    else {\n        $Param{Year} = \"<input type=\\\"text\\\" \"\n            . ( $Validate ? \"class=\\\"Validate_DateYear $Class\\\" \" : \"class=\\\"$Class\\\" \" )\n            . \"name=\\\"${Prefix}Year\\\" id=\\\"${Prefix}Year\\\" size=\\\"4\\\" maxlength=\\\"4\\\" \"\n            . \"title=\\\"\"\n            . $Self->{LanguageObject}->Get('Year')\n            . \"\\\" value=\\\"\"\n            . sprintf( \"%02d\", ( $Param{ $Prefix . 'Year' } || $Y ) ) . \"\\\"/>\";\n    }\n\n    # month\n    if ( $DateInputStyle eq 'Option' ) {\n        my %Month;\n        for ( 1 .. 12 ) {\n            my $Tmp = sprintf( \"%02d\", $_ );\n            $Month{$_} = $Tmp;\n        }\n        $Param{Month} = $Self->BuildSelection(\n            Name        => $Prefix . 'Month',\n            Data        => \\%Month,\n            SelectedID  => int( $Param{ $Prefix . 'Month' } || $M ),\n            Translation => 0,\n            Class       => $Validate ? 'Validate_DateMonth' : '',\n            Title       => $Self->{LanguageObject}->Get('Month'),\n        );\n    }\n    else {\n        $Param{Month}\n            = \"<input type=\\\"text\\\" \"\n            . ( $Validate ? \"class=\\\"Validate_DateMonth $Class\\\" \" : \"class=\\\"$Class\\\" \" )\n            . \"name=\\\"${Prefix}Month\\\" id=\\\"${Prefix}Month\\\" size=\\\"2\\\" maxlength=\\\"2\\\" \"\n            . \"title=\\\"\"\n            . $Self->{LanguageObject}->Get('Month')\n            . \"\\\" value=\\\"\"\n            . sprintf( \"%02d\", ( $Param{ $Prefix . 'Month' } || $M ) ) . \"\\\"/>\";\n    }\n\n    my $DateValidateClasses = '';\n    if ($Validate) {\n        $DateValidateClasses\n            .= \"Validate_DateDay Validate_DateYear_${Prefix}Year Validate_DateMonth_${Prefix}Month\";\n        if ($ValidateDateInFuture) {\n            $DateValidateClasses .= \" Validate_DateInFuture\";\n        }\n    }\n\n    # day\n    if ( $DateInputStyle eq 'Option' ) {\n        my %Day;\n        for ( 1 .. 31 ) {\n            my $Tmp = sprintf( \"%02d\", $_ );\n            $Day{$_} = $Tmp;\n        }\n        $Param{Day} = $Self->BuildSelection(\n            Name        => $Prefix . 'Day',\n            Data        => \\%Day,\n            SelectedID  => int( $Param{ $Prefix . 'Day' } || $D ),\n            Translation => 0,\n            Class       => \"$DateValidateClasses $Class\",\n            Title       => $Self->{LanguageObject}->Get('Day'),\n        );\n    }\n    else {\n        $Param{Day} = \"<input type=\\\"text\\\" \"\n            . \"class=\\\"$DateValidateClasses $Class\\\" \"\n            . \"name=\\\"${Prefix}Day\\\" id=\\\"${Prefix}Day\\\" size=\\\"2\\\" maxlength=\\\"2\\\" \"\n            . \"title=\\\"\"\n            . $Self->{LanguageObject}->Get('Day')\n            . \"\\\" value=\\\"\"\n            . sprintf( \"%02d\", ( $Param{ $Prefix . 'Day' } || $D ) ) . \"\\\"/>\";\n    }\n    if ( $Format eq 'DateInputFormatLong' ) {\n\n        # hour\n        if ( $DateInputStyle eq 'Option' ) {\n            my %Hour;\n            for ( 0 .. 23 ) {\n                my $Tmp = sprintf( \"%02d\", $_ );\n                $Hour{$_} = $Tmp;\n            }\n            $Param{Hour} = $Self->BuildSelection(\n                Name       => $Prefix . 'Hour',\n                Data       => \\%Hour,\n                SelectedID => defined( $Param{ $Prefix . 'Hour' } )\n                ? int( $Param{ $Prefix . 'Hour' } )\n                : int($h),\n                Translation => 0,\n                Class       => $Validate ? ( 'Validate_DateHour ' . $Class ) : $Class,\n                Title       => $Self->{LanguageObject}->Get('Hours'),\n            );\n        }\n        else {\n            $Param{Hour} = \"<input type=\\\"text\\\" \"\n                . ( $Validate ? \"class=\\\"Validate_DateHour $Class\\\" \" : \"class=\\\"$Class\\\" \" )\n                . \"name=\\\"${Prefix}Hour\\\" id=\\\"${Prefix}Hour\\\" size=\\\"2\\\" maxlength=\\\"2\\\" \"\n                . \"title=\\\"\"\n                . $Self->{LanguageObject}->Get('Hours')\n                . \"\\\" value=\\\"\"\n                . sprintf(\n                \"%02d\",\n                ( defined( $Param{ $Prefix . 'Hour' } ) ? int( $Param{ $Prefix . 'Hour' } ) : $h )\n                )\n                . \"\\\"/>\";\n        }\n\n        # minute\n        if ( $DateInputStyle eq 'Option' ) {\n            my %Minute;\n            for ( 0 .. 59 ) {\n                my $Tmp = sprintf( \"%02d\", $_ );\n                $Minute{$_} = $Tmp;\n            }\n            $Param{Minute} = $Self->BuildSelection(\n                Name       => $Prefix . 'Minute',\n                Data       => \\%Minute,\n                SelectedID => defined( $Param{ $Prefix . 'Minute' } )\n                ? int( $Param{ $Prefix . 'Minute' } )\n                : int($m),\n                Translation => 0,\n                Class       => $Validate ? ( 'Validate_DateMinute ' . $Class ) : $Class,\n                Title       => $Self->{LanguageObject}->Get('Minutes'),\n            );\n        }\n        else {\n            $Param{Minute} = \"<input type=\\\"text\\\" \"\n                . ( $Validate ? \"class=\\\"Validate_DateMinute $Class\\\" \" : \"class=\\\"$Class\\\" \" )\n                . \"name=\\\"${Prefix}Minute\\\" id=\\\"${Prefix}Minute\\\" size=\\\"2\\\" maxlength=\\\"2\\\" \"\n                . \"title=\\\"\"\n                . $Self->{LanguageObject}->Get('Minutes')\n                . \"\\\" value=\\\"\"\n                . sprintf(\n                \"%02d\",\n                (\n                    defined( $Param{ $Prefix . 'Minute' } )\n                    ? int( $Param{ $Prefix . 'Minute' } )\n                    : $m\n                    )\n                ) . \"\\\"/>\";\n        }\n    }\n\n    # Get first day of the week\n    my $WeekDayStart = $Self->{ConfigObject}->Get('CalendarWeekDayStart');\n    if ( !defined $WeekDayStart ) {\n        $WeekDayStart = 1;\n    }\n\n    # Datepicker\n    $DatepickerHTML = '<!--dtl:js_on_document_complete--><script type=\"text/javascript\">//<![CDATA[\n        Core.UI.Datepicker.Init({\n            Day: $(\\'#' . $Prefix . 'Day\\'),\n            Month: $(\\'#' . $Prefix . 'Month\\'),\n            Year: $(\\'#' . $Prefix . 'Year\\'),\n            Hour: $(\\'#' . $Prefix . 'Hour\\'),\n            Minute: $(\\'#' . $Prefix . 'Minute\\'),\n            DateInFuture: ' . ( $ValidateDateInFuture ? 'true' : 'false' ) . ',\n            WeekDayStart: ' . $WeekDayStart . '\n        });\n    //]]></script>\n    <!--dtl:js_on_document_complete-->';\n\n    my $Output;\n\n    # optional checkbox\n    if ($Optional) {\n        my $Checked       = '';\n        my $ValidateClass = '';\n        if ($Used) {\n            $Checked = ' checked=\"checked\"';\n        }\n        if ($Required) {\n            $ValidateClass = ' class=\"Validate_Required\"';\n        }\n        $Output .= \"<input type=\\\"checkbox\\\" name=\\\"\"\n            . $Prefix\n            . \"Used\\\" id=\\\"\" . $Prefix . \"Used\\\" value=\\\"1\\\"\"\n            . $Checked\n            . $ValidateClass\n            . \" title=\\\"\"\n            . $Self->{LanguageObject}->Get('Check to activate this date')\n            . \"\\\" />&nbsp;\";\n    }\n\n    # date format\n    $Output .= $Self->{LanguageObject}->Time(\n        Action => 'Return',\n        Format => 'DateInputFormat',\n        Mode   => 'NotNumeric',\n        %Param,\n    );\n\n    # add Datepicker HTML to output\n    $Output .= $DatepickerHTML;\n\n    # set global var to true to add a block to the footer later\n    $Self->{HasDatepicker} = 1;\n\n    return $Output;\n}\n\nsub CustomerLogin {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = '';\n    $Param{TitleArea} = $Self->{LanguageObject}->Get('Login') . ' - ';\n\n    # set Action parameter for the loader\n    $Self->{Action} = 'CustomerLogin';\n\n    # add cookies if exists\n    if ( $Self->{SetCookies} && $Self->{ConfigObject}->Get('SessionUseCookie') ) {\n        for ( sort keys %{ $Self->{SetCookies} } ) {\n            $Output .= \"Set-Cookie: $Self->{SetCookies}->{$_}\\n\";\n        }\n    }\n\n    # check if message should be shown\n    if ( $Param{Message} ) {\n        $Self->Block(\n            Name => 'Message',\n            Data => \\%Param,\n        );\n    }\n\n    # get lost password output\n    if (\n        $Self->{ConfigObject}->Get('CustomerPanelLostPassword')\n        && $Self->{ConfigObject}->Get('Customer::AuthModule') eq\n        'Kernel::System::CustomerAuth::DB'\n        )\n    {\n        $Self->Block(\n            Name => 'LostPasswordLink',\n            Data => \\%Param,\n        );\n        $Self->Block(\n            Name => 'LostPassword',\n            Data => \\%Param,\n        );\n    }\n\n    # get lost password output\n    if (\n        $Self->{ConfigObject}->Get('CustomerPanelCreateAccount')\n        && $Self->{ConfigObject}->Get('Customer::AuthModule') eq\n        'Kernel::System::CustomerAuth::DB'\n        )\n\n    {\n        $Self->Block(\n            Name => 'CreateAccountLink',\n            Data => \\%Param,\n        );\n        $Self->Block(\n            Name => 'CreateAccount',\n            Data => \\%Param,\n        );\n    }\n\n   # Generate the minified CSS and JavaScript files and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateCustomerCSSCalls();\n    $Self->LoaderCreateCustomerJSCalls();\n\n    # Add header logo, if configured\n    if ( defined $Self->{ConfigObject}->Get('CustomerLogo') ) {\n        my %CustomerLogo = %{ $Self->{ConfigObject}->Get('CustomerLogo') };\n        my %Data;\n\n        for my $CSSStatement ( sort keys %CustomerLogo ) {\n            if ( $CSSStatement eq 'URL' ) {\n                my $WebPath = '';\n                if ( $CustomerLogo{$CSSStatement} !~ /(http|ftp|https):\\//i ) {\n                    $WebPath = $Self->{ConfigObject}->Get('Frontend::WebPath');\n                }\n                $Data{'URL'} = 'url(' . $WebPath . $CustomerLogo{$CSSStatement} . ')';\n            }\n            else {\n                $Data{$CSSStatement} = $CustomerLogo{$CSSStatement};\n            }\n        }\n\n        $Self->Block(\n            Name => 'HeaderLogoCSS',\n            Data => \\%Data,\n        );\n\n        $Self->Block(\n            Name => 'HeaderLogo',\n        );\n    }\n\n    # create & return output\n    $Output .= $Self->Output( TemplateFile => 'CustomerLogin', Data => \\%Param );\n\n    # remove the version tag from the header if configured\n    $Self->_DisableBannerCheck( OutputRef => \\$Output );\n\n    return $Output;\n}\n\nsub CustomerHeader {\n    my ( $Self, %Param ) = @_;\n\n    my $Type = $Param{Type} || '';\n\n    # add cookies if exists\n    my $Output = '';\n    if ( $Self->{SetCookies} && $Self->{ConfigObject}->Get('SessionUseCookie') ) {\n        for ( sort keys %{ $Self->{SetCookies} } ) {\n            $Output .= \"Set-Cookie: $Self->{SetCookies}->{$_}\\n\";\n        }\n    }\n\n    # area and title\n    if (\n        !$Param{Area}\n        && $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{ $Self->{Action} }\n        )\n    {\n        $Param{Area} = $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{ $Self->{Action} }\n            ->{NavBarName} || '';\n    }\n    if (\n        !$Param{Title}\n        && $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{ $Self->{Action} }\n        )\n    {\n        $Param{Title}\n            = $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{ $Self->{Action} }->{Title}\n            || '';\n    }\n    if (\n        !$Param{Area}\n        && $Self->{ConfigObject}->Get('PublicFrontend::Module')->{ $Self->{Action} }\n        )\n    {\n        $Param{Area} = $Self->{ConfigObject}->Get('PublicFrontend::Module')->{ $Self->{Action} }\n            ->{NavBarName} || '';\n    }\n    if (\n        !$Param{Title}\n        && $Self->{ConfigObject}->Get('PublicFrontend::Module')->{ $Self->{Action} }\n        )\n    {\n        $Param{Title}\n            = $Self->{ConfigObject}->Get('PublicFrontend::Module')->{ $Self->{Action} }->{Title}\n            || '';\n    }\n    for my $Word (qw(Value Title Area)) {\n        if ( $Param{$Word} ) {\n            $Param{TitleArea} .= $Self->{LanguageObject}->Get( $Param{$Word} ) . ' - ';\n        }\n    }\n\n    my $Frontend;\n    if ( $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{ $Self->{Action} } ) {\n        $Frontend = 'Customer';\n    }\n    else {\n        $Frontend = 'Public';\n    }\n\n    # run header meta modules for customer and public frontends\n    my $HeaderMetaModule = $Self->{ConfigObject}->Get( $Frontend . 'Frontend::HeaderMetaModule' );\n    if ( ref $HeaderMetaModule eq 'HASH' ) {\n        my %Jobs = %{$HeaderMetaModule};\n        for my $Job ( sort keys %Jobs ) {\n\n            # load and run module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new( %{$Self}, LayoutObject => $Self );\n            next if !$Object;\n            $Object->Run( %Param, Config => $Jobs{$Job} );\n        }\n    }\n\n    # set rtl if needed\n    if ( $Self->{TextDirection} && $Self->{TextDirection} eq 'rtl' ) {\n        $Param{BodyClass} = 'RTL';\n    }\n    elsif ( $Self->{ConfigObject}->Get('Frontend::DebugMode') ) {\n        $Self->Block(\n            Name => 'DebugRTLButton',\n        );\n    }\n\n    # Add header logo, if configured\n    if ( defined $Self->{ConfigObject}->Get('CustomerLogo') ) {\n        my %CustomerLogo = %{ $Self->{ConfigObject}->Get('CustomerLogo') };\n        my %Data;\n\n        for my $CSSStatement ( sort keys %CustomerLogo ) {\n            if ( $CSSStatement eq 'URL' ) {\n                my $WebPath = '';\n                if ( $CustomerLogo{$CSSStatement} !~ /(http|ftp|https):\\//i ) {\n                    $WebPath = $Self->{ConfigObject}->Get('Frontend::WebPath');\n                }\n                $Data{'URL'} = 'url(' . $WebPath . $CustomerLogo{$CSSStatement} . ')';\n            }\n            else {\n                $Data{$CSSStatement} = $CustomerLogo{$CSSStatement};\n            }\n        }\n\n        $Self->Block(\n            Name => 'HeaderLogoCSS',\n            Data => \\%Data,\n        );\n\n        $Self->Block(\n            Name => 'HeaderLogo',\n        );\n    }\n\n    # Generate the minified CSS and JavaScript files\n    # and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateCustomerCSSCalls();\n\n    # create & return output\n    $Output .= $Self->Output(\n        TemplateFile => \"CustomerHeader$Type\",\n        Data         => \\%Param,\n    );\n\n    # remove the version tag from the header if configured\n    $Self->_DisableBannerCheck( OutputRef => \\$Output );\n\n    return $Output;\n}\n\nsub CustomerFooter {\n    my ( $Self, %Param ) = @_;\n\n    my $Type          = $Param{Type}           || '';\n    my $HasDatepicker = $Self->{HasDatepicker} || 0;\n\n    # Generate the minified CSS and JavaScript files\n    # and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateCustomerJSCalls();\n\n    # get datepicker data, if needed in module\n    if ($HasDatepicker) {\n        my $VacationDays     = $Self->DatepickerGetVacationDays();\n        my $VacationDaysJSON = $Self->JSONEncode(\n            Data => $VacationDays,\n        );\n\n        my $TextDirection = $Self->{LanguageObject}->{TextDirection} || '';\n\n        $Self->Block(\n            Name => 'DatepickerData',\n            Data => {\n                VacationDays => $VacationDaysJSON,\n                IsRTLLanguage => ( $TextDirection eq 'rtl' ) ? 1 : 0,\n            },\n        );\n    }\n\n    # Banner\n    if ( !$Self->{ConfigObject}->Get('Secure::DisableBanner') ) {\n        $Self->Block(\n            Name => 'Banner',\n        );\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => \"CustomerFooter$Type\", Data => \\%Param );\n}\n\nsub CustomerFatalError {\n    my ( $Self, %Param ) = @_;\n\n    if ( $Param{Message} ) {\n        $Self->{LogObject}->Log(\n            Caller   => 1,\n            Priority => 'error',\n            Message  => $Param{Message},\n        );\n    }\n    my $Output = $Self->CustomerHeader( Area => 'Frontend', Title => 'Fatal Error' );\n    $Output .= $Self->Error(%Param);\n    $Output .= $Self->CustomerFooter();\n    $Self->Print( Output => \\$Output );\n    exit;\n}\n\nsub CustomerNavigationBar {\n    my ( $Self, %Param ) = @_;\n\n    # create menu items\n    my %NavBarModule;\n    my $FrontendModuleConfig = $Self->{ConfigObject}->Get('CustomerFrontend::Module');\n\n    for my $Module ( sort keys %{$FrontendModuleConfig} ) {\n        my %Hash = %{ $FrontendModuleConfig->{$Module} };\n        next if !$Hash{NavBar};\n        next if ref $Hash{NavBar} ne 'ARRAY';\n\n        my @Items = @{ $Hash{NavBar} };\n        for my $Item (@Items) {\n            next if !$Item;\n\n            # check permissions\n            my $Shown = 0;\n\n            # get permissions from module if no permissions are defined for the icon\n            if ( !$Item->{GroupRo} && !$Item->{Group} ) {\n                if ( $Hash{GroupRo} ) {\n                    $Item->{GroupRo} = $Hash{GroupRo};\n                }\n                if ( $Hash{Group} ) {\n                    $Item->{Group} = $Hash{Group};\n                }\n            }\n\n            # check shown permission\n            for my $Permission (qw(GroupRo Group)) {\n\n                # array access restriction\n                if ( $Item->{$Permission} && ref $Item->{$Permission} eq 'ARRAY' ) {\n                    for my $Type ( @{ $Item->{$Permission} } ) {\n                        my $Key = 'UserIs' . $Permission . '[' . $Type . ']';\n                        if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n                            $Shown = 1;\n                            last;\n                        }\n                    }\n                }\n\n                # scalar access restriction\n                elsif ( $Item->{$Permission} ) {\n                    my $Key = 'UserIs' . $Permission . '[' . $Item->{$Permission} . ']';\n                    if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n                        $Shown = 1;\n                        last;\n                    }\n                }\n\n                # no access restriction\n                elsif ( !$Item->{GroupRo} && !$Item->{Group} ) {\n                    $Shown = 1;\n                    last;\n                }\n            }\n            next if !$Shown;\n\n            # set prio of item\n            my $Key = sprintf( \"%07d\", $Item->{Prio} );\n            for ( 1 .. 51 ) {\n                last if !$NavBarModule{$Key};\n\n                $Item->{Prio}++;\n            }\n\n            if ( $Item->{Type} eq 'Menu' ) {\n                $NavBarModule{ sprintf( \"%07d\", $Item->{Prio} ) } = $Item;\n            }\n\n            # show as sub of main menu\n            elsif ( $Item->{Type} eq 'Submenu' ) {\n                $NavBarModule{Sub}->{ $Item->{NavBar} }->{ sprintf( \"%07d\", $Item->{Prio} ) }\n                    = $Item;\n            }\n            else {\n                $NavBarModule{ sprintf( \"%07d\", $Item->{Prio} ) } = $Item;\n            }\n        }\n    }\n\n    # run menu item modules\n    if ( ref $Self->{ConfigObject}->Get('CustomerFrontend::NavBarModule') eq 'HASH' ) {\n        my %Jobs = %{ $Self->{ConfigObject}->Get('CustomerFrontend::NavBarModule') };\n        for my $Job ( sort keys %Jobs ) {\n\n            # load module\n            if ( !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} ) ) {\n                $Self->FatalError();\n            }\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                ConfigObject => $Self->{ConfigObject},\n                LogObject    => $Self->{LogObject},\n                DBObject     => $Self->{DBObject},\n                LayoutObject => $Self,\n                UserID       => $Self->{UserID},\n                Debug        => $Self->{Debug},\n            );\n\n            # run module\n            %NavBarModule = ( %NavBarModule, $Object->Run( %Param, Config => $Jobs{$Job} ) );\n        }\n    }\n\n    my $Total   = keys %NavBarModule;\n    my $Counter = 0;\n\n    if ( $NavBarModule{Sub} ) {\n        $Total = int($Total) - 1;\n    }\n\n    # Only highlight the first matched navigation entry. If there are several entries\n    #   with the same Action and Subaction, it cannot be determined which one was used.\n    #   Therefore we just highlight the first one.\n    my $SelectedFlag;\n    for my $Item ( sort keys %NavBarModule ) {\n        next if !%{ $NavBarModule{$Item} };\n        next if $Item eq 'Sub';\n        $Counter++;\n        my $Sub;\n        if ( $NavBarModule{$Item}->{NavBar} ) {\n            $Sub = $NavBarModule{Sub}->{ $NavBarModule{$Item}->{NavBar} };\n        }\n\n        # highlight active link\n        $NavBarModule{$Item}->{Class} = '';\n        if ( $NavBarModule{$Item}->{Link} ) {\n            if (\n                !$SelectedFlag\n                && $NavBarModule{$Item}->{Link} =~ /Action=$Self->{Action}/\n                && $NavBarModule{$Item}->{Link} =~ /$Self->{Subaction}/    # Subaction can be empty\n                )\n            {\n                $NavBarModule{$Item}->{Class} .= ' Selected';\n                $SelectedFlag = 1;\n            }\n        }\n        if ( $Counter == $Total ) {\n            $NavBarModule{$Item}->{Class} .= ' Last';\n        }\n        $Self->Block(\n            Name => $NavBarModule{$Item}->{Block} || 'Item',\n            Data => $NavBarModule{$Item},\n        );\n\n        # show sub menu\n        next if !$Sub;\n        $Self->Block(\n            Name => 'ItemAreaSub',\n            Data => $Item,\n        );\n        for my $Key ( sort keys %{$Sub} ) {\n            my $ItemSub = $Sub->{$Key};\n            $ItemSub->{NameForID} = $ItemSub->{Name};\n            $ItemSub->{NameForID} =~ s/[ &;]//ig;\n            $ItemSub->{NameTop} = $NavBarModule{$Item}->{NameForID};\n\n            # check if we must mark the parent element as selected\n            if ( $ItemSub->{Link} ) {\n                if (\n                    !$SelectedFlag\n                    && $ItemSub->{Link} =~ /Action=$Self->{Action}/\n                    && $ItemSub->{Link} =~ /$Self->{Subaction}/    # Subaction can be empty\n                    )\n                {\n                    $NavBarModule{$Item}->{Class} .= ' Selected';\n                    $ItemSub->{Class} .= ' SubSelected';\n                    $SelectedFlag = 1;\n                }\n            }\n\n            $Self->Block(\n                Name => 'ItemAreaSubItem',\n                Data => {\n                    %$ItemSub,\n                    AccessKeyReference => $ItemSub->{AccessKey} ? \" ($ItemSub->{AccessKey})\" : '',\n                },\n            );\n        }\n    }\n\n    # run notification modules\n    my $FrontendNotifyModuleConfig = $Self->{ConfigObject}->Get('CustomerFrontend::NotifyModule');\n    if ( ref $FrontendNotifyModuleConfig eq 'HASH' ) {\n        my %Jobs = %{$FrontendNotifyModuleConfig};\n        for my $Job ( sort keys %Jobs ) {\n\n            # load module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n            next if !$Object;\n\n            # run module\n            $Param{Notification} .= $Object->Run( %Param, Config => $Jobs{$Job} );\n        }\n    }\n\n    # create the customer user login info (usually at the right side of the navigation bar)\n    if ( !$Self->{UserLoginIdentifier} ) {\n        $Param{UserLoginIdentifier} = $Self->{UserEmail} ne $Self->{UserCustomerID}\n            ?\n            \"( $Self->{UserEmail} / $Self->{UserCustomerID} )\"\n            : $Self->{UserEmail};\n    }\n    else {\n        $Param{UserLoginIdentifier} = $Self->{UserLoginIdentifier};\n    }\n\n    # only on valid session\n    if ( $Self->{UserID} ) {\n\n        # show logout button (if registered)\n        if ( $FrontendModuleConfig->{Logout} ) {\n            $Self->Block(\n                Name => 'Logout',\n                Data => \\%Param,\n            );\n        }\n\n        # show preferences button (if registered)\n        if ( $FrontendModuleConfig->{CustomerPreferences} ) {\n            if ( $Self->{Action} eq 'CustomerPreferences' ) {\n                $Param{Class} = 'Selected';\n            }\n            $Self->Block(\n                Name => 'Preferences',\n                Data => \\%Param,\n            );\n        }\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'CustomerNavigationBar', Data => \\%Param );\n}\n\nsub CustomerError {\n    my ( $Self, %Param ) = @_;\n\n    # get backend error messages\n    for (qw(Message Traceback)) {\n        $Param{ 'Backend' . $_ } = $Self->{LogObject}->GetLogEntry(\n            Type => 'Error',\n            What => $_\n        ) || '';\n    }\n    if ( !$Param{BackendMessage} && !$Param{BackendTraceback} ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message => $Param{Message} || '?',\n        );\n        for (qw(Message Traceback)) {\n            $Param{ 'Backend' . $_ } = $Self->{LogObject}->GetLogEntry(\n                Type => 'Error',\n                What => $_\n            ) || '';\n        }\n    }\n\n    if ( !$Param{Message} ) {\n        $Param{Message} = $Param{BackendMessage};\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'CustomerError', Data => \\%Param );\n}\n\nsub CustomerErrorScreen {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = $Self->CustomerHeader( Title => 'Error' );\n    $Output .= $Self->CustomerError(%Param);\n    $Output .= $Self->CustomerFooter();\n    return $Output;\n}\n\nsub CustomerWarning {\n    my ( $Self, %Param ) = @_;\n\n    # get backend error messages\n    $Param{BackendMessage} = $Self->{LogObject}->GetLogEntry(\n        Type => 'Notice',\n        What => 'Message',\n        )\n        || $Self->{LogObject}->GetLogEntry(\n        Type => 'Error',\n        What => 'Message',\n        ) || '';\n\n    if ( !$Param{Message} ) {\n        $Param{Message} = $Param{BackendMessage};\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'CustomerWarning', Data => \\%Param );\n}\n\nsub CustomerNoPermission {\n    my ( $Self, %Param ) = @_;\n\n    my $WithHeader = $Param{WithHeader} || 'yes';\n    $Param{Message} ||= 'No Permission!';\n\n    # create output\n    my $Output;\n    $Output = $Self->CustomerHeader( Title => 'No Permission' ) if ( $WithHeader eq 'yes' );\n    $Output .= $Self->Output( TemplateFile => 'NoPermission', Data => \\%Param );\n    $Output .= $Self->CustomerFooter() if ( $WithHeader eq 'yes' );\n\n    # return output\n    return $Output;\n}\n\n=item Ascii2RichText()\n\nconverts text to rich text\n\n    my $HTMLString = $LayoutObject->Ascii2RichText(\n        String => $TextString,\n    );\n\n=cut\n\nsub Ascii2RichText {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(String)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # ascii 2 html\n    $Param{String} = $Self->{HTMLUtilsObject}->ToHTML(\n        String => $Param{String},\n    );\n\n    return $Param{String};\n}\n\n=item RichText2Ascii()\n\nconverts text to rich text\n\n    my $TextString = $LayoutObject->RichText2Ascii(\n        String => $HTMLString,\n    );\n\n=cut\n\nsub RichText2Ascii {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(String)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # ascii 2 html\n    $Param{String} = $Self->{HTMLUtilsObject}->ToAscii(\n        String => $Param{String},\n    );\n\n    return $Param{String};\n}\n\n=item RichTextDocumentComplete()\n\n1) add html, body, ... tags to be a valid html document\n2) replace links of inline content e. g. images to <img src=\"cid:xxxx\" />\n\n    $HTMLBody = $LayoutObject->RichTextDocumentComplete(\n        String => $HTMLBody,\n    );\n\n=cut\n\nsub RichTextDocumentComplete {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(String)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # replace image link with content id for uploaded images\n    my $StringRef = $Self->_RichTextReplaceLinkOfInlineContent(\n        String => \\$Param{String},\n    );\n\n    # verify html document\n    $Param{String} = $Self->{HTMLUtilsObject}->DocumentComplete(\n        String  => ${$StringRef},\n        Charset => $Self->{UserCharset},\n    );\n\n    # do correct direction\n    if ( $Self->{TextDirection} ) {\n        $Param{String} =~ s/<body/<body dir=\"$Self->{TextDirection}\"/i;\n    }\n\n    # filter links in response\n    $Param{String} = $Self->HTMLLinkQuote( String => $Param{String} );\n\n    return $Param{String};\n}\n\n=begin Internal:\n\n=cut\n\n=item _RichTextReplaceLinkOfInlineContent()\n\nreplace links of inline content e. g. images\n\n    $HTMLBodyStringRef = $LayoutObject->_RichTextReplaceLinkOfInlineContent(\n        String => $HTMLBodyStringRef,\n    );\n\n=cut\n\nsub _RichTextReplaceLinkOfInlineContent {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(String)) {\n        if ( !$Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # replace image link with content id for uploaded images\n    ${ $Param{String} } =~ s{\n        (<img.+?src=(\"|'))[^>]+ContentID=(.+?)(\"|')([^>]+>)\n    }\n    {\n        my ($Start, $CID, $Close, $End) = ($1, $3, $4, $5);\n        # Make sure we only get the CID and not extra stuff like session information\n        $CID =~ s{^([^;&]+).*}{$1}smx;\n        $Start . 'cid:' . $CID . $Close . $End;\n    }esgxi;\n\n    return $Param{String};\n}\n\n=end Internal:\n\n=item RichTextDocumentServe()\n\nserve a rich text (HTML) document for local view inside of an iframe in correct charset and with correct\nlinks for inline documents.\n\nBy default, all inline/active content (such as script, object, applet or embed tags)\nwill be stripped. If there are external images, they will be stripped too,\nbut a message will be shown allowing the user to reload the page showing the external images.\n\n    my %HTMLFile = $LayoutObject->RichTextDocumentServe(\n        Data => {\n            Content     => $HTMLBodyRef,\n            ContentType => 'text/html; charset=\"iso-8859-1\"',\n        },\n        URL               => 'AgentTicketAttachment;Subaction=HTMLView;ArticleID=123;FileID=',\n        Attachments       => \\%AttachmentListOfInlineAttachments,\n\n        LoadInlineContent => 0,     # Serve the document including all inline content. WARNING: This might be dangerous.\n\n        LoadExternalImages => 0,    # Load external images? If this is 0, a message will be included if\n                                    # external images were found and removed.\n    );\n\n=cut\n\nsub RichTextDocumentServe {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(Data URL Attachments)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # get charset and convert content to internal charset\n    if ( $Self->{EncodeObject}->EncodeInternalUsed() ) {\n        my $Charset;\n        if ( $Param{Data}->{ContentType} =~ m/.+?charset=(\"|'|)(.+)/ig ) {\n            $Charset = $2;\n            $Charset =~ s/\"|'//g;\n        }\n        if ( !$Charset ) {\n            $Charset = 'us-ascii';\n            $Param{Data}->{ContentType} .= '; charset=\"us-ascii\"';\n        }\n\n        # convert charset\n        if ($Charset) {\n            $Param{Data}->{Content} = $Self->{EncodeObject}->Convert(\n                Text => $Param{Data}->{Content},\n                From => $Charset,\n                To   => 'utf-8',\n            );\n\n            # replace charset in content\n            $Param{Data}->{ContentType} =~ s/\\Q$Charset\\E/utf-8/gi;\n            $Param{Data}->{Content} =~ s/(charset=(\"|'|))\\Q$Charset\\E/$1utf-8/gi;\n        }\n    }\n\n    # add html links\n    $Param{Data}->{Content} = $Self->HTMLLinkQuote(\n        String => $Param{Data}->{Content},\n    );\n\n    # cleanup some html tags to be cross browser compat.\n    $Param{Data}->{Content} = $Self->RichTextDocumentCleanup(\n        String => $Param{Data}->{Content},\n    );\n\n    # safety check\n    if ( !$Param{LoadInlineContent} ) {\n\n        # Strip out active content first, keeping external images.\n        my %SafetyCheckResult = $Self->{HTMLUtilsObject}->Safety(\n            String       => $Param{Data}->{Content},\n            NoApplet     => 1,\n            NoObject     => 1,\n            NoEmbed      => 1,\n            NoSVG        => 1,\n            NoIntSrcLoad => 0,\n            NoExtSrcLoad => 0,\n            NoJavaScript => 1,\n            Debug        => $Self->{Debug},\n        );\n\n        $Param{Data}->{Content} = $SafetyCheckResult{String};\n\n        if ( !$Param{LoadExternalImages} ) {\n\n            # Strip out external images, but show a confirmation button to\n            #   load them explicitly.\n            my %SafetyCheckResult = $Self->{HTMLUtilsObject}->Safety(\n                String       => $Param{Data}->{Content},\n                NoApplet     => 1,\n                NoObject     => 1,\n                NoEmbed      => 1,\n                NoSVG        => 1,\n                NoIntSrcLoad => 0,\n                NoExtSrcLoad => 1,\n                NoJavaScript => 1,\n                Debug        => $Self->{Debug},\n            );\n\n            $Param{Data}->{Content} = $SafetyCheckResult{String};\n\n            if ( $SafetyCheckResult{Replace} ) {\n\n                # Generate blocker message.\n                my $Message = $Self->Output( TemplateFile => 'AttachmentBlocker' );\n\n                # Add it to the beginning of the body, if possible, otherwise prepend it.\n                if ( $Param{Data}->{Content} =~ /<body.*?>/si ) {\n                    $Param{Data}->{Content} =~ s/(<body.*?>)/$1\\n$Message/si;\n                }\n                else {\n                    $Param{Data}->{Content} = $Message . $Param{Data}->{Content};\n                }\n            }\n\n        }\n    }\n\n    # build base url for inline images\n    my $SessionID = '';\n    if ( $Self->{SessionID} && !$Self->{SessionIDCookie} ) {\n        $SessionID = ';' . $Self->{SessionName} . '=' . $Self->{SessionID};\n    }\n\n    # replace inline images in content with runtime url to images\n    my $AttachmentLink = $Self->{Baselink} . $Param{URL};\n    $Param{Data}->{Content} =~ s{\n        (=|\"|')cid:(.*?)(\"|'|>|\\/>|\\s)\n    }\n    {\n        my $Start= $1;\n        my $ContentID = $2;\n        my $End = $3;\n\n        # improve html quality\n        if ( $Start ne '\"' && $Start ne '\\'' ) {\n            $Start .= '\"';\n        }\n        if ( $End ne '\"' && $End ne '\\'' ) {\n            $End = '\"' . $End;\n        }\n\n        # find matching attachment and replace it with runtlime url to image\n        for my $AttachmentID (  sort keys %{ $Param{Attachments} }) {\n            next if lc $Param{Attachments}->{$AttachmentID}->{ContentID} ne lc \"<$ContentID>\";\n            $ContentID = $AttachmentLink . $AttachmentID . ';' . $SessionID;\n            last;\n        }\n\n        # return new runtime url\n        $Start . $ContentID . $End;\n    }egxi;\n\n    # bug #5053\n    # inline images using Content-Location as identifier instead of Content-ID even RFC2557\n    # http://www.ietf.org/rfc/rfc2557.txt\n\n    # find matching attachment and replace it with runtlime url to image\n    for my $AttachmentID ( sort keys %{ $Param{Attachments} } ) {\n        next if !$Param{Attachments}->{$AttachmentID}->{ContentID};\n\n        # content id cleanup\n        $Param{Attachments}->{$AttachmentID}->{ContentID} =~ s/^<//;\n        $Param{Attachments}->{$AttachmentID}->{ContentID} =~ s/>$//;\n\n        $Param{Data}->{Content} =~ s{\n        (=|\"|')(\\Q$Param{Attachments}->{$AttachmentID}->{ContentID}\\E)(\"|'|>|\\/>|\\s)\n    }\n    {\n        my $Start= $1;\n        my $ContentID = $2;\n        my $End = $3;\n\n        # improve html quality\n        if ( $Start ne '\"' && $Start ne '\\'' ) {\n            $Start .= '\"';\n        }\n        if ( $End ne '\"' && $End ne '\\'' ) {\n            $End = '\"' . $End;\n        }\n\n        # return new runtime url\n        $ContentID = $AttachmentLink . $AttachmentID . ';' . $SessionID;\n        $Start . $ContentID . $End;\n    }egxi;\n    }\n\n    return %{ $Param{Data} };\n}\n\n=item RichTextDocumentCleanup()\n\nplease see L<Kernel::System::HTML::Layout::DocumentCleanup()>\n\n=cut\n\nsub RichTextDocumentCleanup {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(String)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    $Param{String} = $Self->{HTMLUtilsObject}->DocumentCleanup(\n        String => $Param{String},\n    );\n\n    return $Param{String};\n}\n\n=begin Internal:\n\n=cut\n\nsub _BlockTemplatePreferences {\n    my ( $Self, %Param ) = @_;\n\n    my %TagsOpen;\n    my @Preferences;\n    my $LastLayerCount = 0;\n    my $Layer          = 0;\n    my $LastLayer      = '';\n    my $CurrentLayer   = '';\n    my %UsedNames;\n    my $TemplateFile = $Param{TemplateFile} || '';\n    if ( !defined $Param{Template} ) {\n        $Self->{LogObject}->Log( Priority => 'error', Message => 'Need Template!' );\n        return;\n    }\n\n    if ( $Self->{PrasedBlockTemplatePreferences}->{$TemplateFile} ) {\n        return $Self->{PrasedBlockTemplatePreferences}->{$TemplateFile};\n    }\n\n    $Param{Template} =~ s{\n        <!--\\s{0,1}dtl:block:(.+?)\\s{0,1}-->\n    }\n    {\n        my $BlockName = $1;\n        if (!$TagsOpen{$BlockName}) {\n            $Layer++;\n            $TagsOpen{$BlockName} = 1;\n            my $CL = '';\n            if ($Layer == 1) {\n                $LastLayer = '';\n                $CurrentLayer = $BlockName;\n            }\n            elsif ($LastLayerCount == $Layer) {\n                $CurrentLayer = $LastLayer.'::'.$BlockName;\n            }\n            else {\n                $LastLayer = $CurrentLayer;\n                $CurrentLayer = $CurrentLayer.'::'.$BlockName;\n            }\n            $LastLayerCount = $Layer;\n            if (!$UsedNames{$BlockName}) {\n                push (@Preferences, {\n                    Name => $BlockName,\n                    Layer => $Layer,\n                    },\n                );\n                $UsedNames{$BlockName} = 1;\n            }\n        }\n        else {\n            $TagsOpen{$BlockName} = 0;\n            $Layer--;\n        }\n    }segxm;\n\n    # check open (invalid) tags\n    for ( sort keys %TagsOpen ) {\n        if ( $TagsOpen{$_} ) {\n            my $Message = \"'dtl:block:$_' isn't closed!\";\n            if ($TemplateFile) {\n                $Message .= \" ($TemplateFile.dtl)\";\n            }\n            $Self->{LogObject}->Log( Priority => 'error', Message => $Message );\n            $Self->FatalError();\n        }\n    }\n\n    # remember block data\n    if ($TemplateFile) {\n        $Self->{PrasedBlockTemplatePreferences}->{$TemplateFile} = \\@Preferences;\n    }\n\n    return \\@Preferences;\n}\n\nsub _BlockTemplatesReplace {\n    my ( $Self, %Param ) = @_;\n\n    if ( !$Param{Template} ) {\n        $Self->{LogObject}->Log( Priority => 'error', Message => 'Need Template!' );\n        return;\n    }\n    my $TemplateString = $Param{Template};\n\n    # get availabe template block preferences\n    my $BlocksRef = $Self->_BlockTemplatePreferences(\n        Template => $$TemplateString,\n        TemplateFile => $Param{TemplateFile} || '',\n    );\n    my %BlockLayer;\n    my %BlockTemplates;\n    for my $Block ( reverse @{$BlocksRef} ) {\n        $$TemplateString =~ s{\n            <!--\\s{0,1}dtl:block:$Block->{Name}\\s{0,1}-->(.+?)<!--\\s{0,1}dtl:block:$Block->{Name}\\s{0,1}-->\n        }\n        {\n            $BlockTemplates{$Block->{Name}} = $1;\n            \"<!-- dtl:place_block:$Block->{Name} -->\";\n        }segxm;\n        $BlockLayer{ $Block->{Name} } = $Block->{Layer};\n    }\n\n    # create block template string\n    my @BR;\n    if ( $Self->{BlockData} && %BlockTemplates ) {\n        my @NotUsedBlockData;\n        for my $Block ( @{ $Self->{BlockData} } ) {\n            if ( $BlockTemplates{ $Block->{Name} } ) {\n                push(\n                    @BR,\n                    {\n                        Layer => $BlockLayer{ $Block->{Name} },\n                        Name  => $Block->{Name},\n                        Data  => $Self->_Output(\n                            Template => $BlockTemplates{ $Block->{Name} },\n                            Data     => $Block->{Data},\n                        ),\n                    }\n                );\n            }\n            else {\n                push @NotUsedBlockData, { %{$Block} };\n            }\n        }\n\n        # remember not use block data\n        $Self->{BlockData} = \\@NotUsedBlockData;\n    }\n\n    return @BR;\n}\n\nsub _Output {\n    my ( $Self, %Param ) = @_;\n\n    # deep recursion protection\n    $Self->{OutputCount}++;\n    if ( $Self->{OutputCount} > 20 ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => 'Loop detection!',\n        );\n        $Self->FatalDie();\n    }\n\n    # create refs\n    my $GlobalRef = {\n        Env    => $Self->{EnvRef},\n        Data   => $Param{Data},\n        Config => $Self->{ConfigObject},\n    };\n\n    my $TemplateString = $Param{Template};\n\n    # parse/get text blocks\n    my @BR = $Self->_BlockTemplatesReplace(\n        Template => \\$TemplateString,\n        TemplateFile => $Param{TemplateFile} || '',\n    );\n\n    # check if a block structure exists\n    if ( scalar @BR ) {\n\n        # process structure\n        my $BlockStructure;\n        my $LastLayer = $BR[-1]->{Layer};\n        for my $Block (\n            reverse\n            {\n                Data  => $TemplateString,\n                Layer => 0,\n                Name  => 'TemplateString',\n            },\n            @BR\n            )\n        {\n\n            # process and remove substructure (if exists)\n            if (\n                $Block->{Layer} < $LastLayer\n                && ref $BlockStructure->{ $Block->{Layer} + 1 } eq 'HASH'\n                )\n            {\n                for my $SubLayer ( sort keys %{ $BlockStructure->{ $Block->{Layer} + 1 } } ) {\n                    my $SubLayerString = join '',\n                        @{ $BlockStructure->{ $Block->{Layer} + 1 }->{$SubLayer} };\n                    $Block->{Data}\n                        =~ s{ <!-- [ ] dtl:place_block: $SubLayer [ ] --> }{$SubLayerString}xms;\n                }\n                undef $BlockStructure->{ $Block->{Layer} + 1 };\n            }\n\n            # for safety - clean up old same-level structures\n            elsif ( $Block->{Layer} > $LastLayer ) {\n                undef $BlockStructure->{ $Block->{Layer} };\n            }\n\n            # add to structure\n            unshift @{ $BlockStructure->{ $Block->{Layer} }->{ $Block->{Name} } }, $Block->{Data};\n            $LastLayer = $Block->{Layer};\n        }\n\n        # assign result\n        $TemplateString = $BlockStructure->{0}->{TemplateString}->[0];\n\n    }\n\n    # remove empty blocks and block preferences\n    if ( $Param{BlockReplace} ) {\n        my @TemplateBlocks = split '<!-- dtl:place_block:', $TemplateString;\n        $TemplateString = shift @TemplateBlocks || '';\n        for my $TemplateBlock (@TemplateBlocks) {\n            $TemplateBlock =~ s{ \\A .+? [ ] --> }{}xms;\n            $TemplateString .= $TemplateBlock;\n        }\n    }\n\n    # process template\n    $TemplateString ||= '';\n    my $Output = '';\n    for my $Line ( split( /\\n/, $TemplateString ) ) {\n\n        #        # add missing new line (striped from split)\n        #        $Line .= \"\\n\";\n\n        # variable & env & config replacement\n        my $Regexp = 1;\n        while ($Regexp) {\n            $Regexp = $Line =~ s{\n                \\$((?:|Q|LQ|)Data|(?:|Q)Env|Config|Include){\"(.+?)\"}\n            }\n            {\n                if ($1 eq 'Data' || $1 eq 'Env') {\n                    if ( defined $GlobalRef->{$1}->{$2} ) {\n                        $GlobalRef->{$1}->{$2};\n                    }\n                    else {\n                        # output replace with nothing!\n                        '';\n                    }\n                }\n                elsif ($1 eq 'QEnv') {\n                    my $Text = $2;\n                    if ( !defined $Text || $Text =~ /^\",\\s*\"(.+)$/ ) {\n                        '';\n                    }\n                    elsif ($Text =~ /^(.+?)\",\\s*\"(.+)$/) {\n                        if ( defined $GlobalRef->{Env}->{$1} ) {\n                            $Self->Ascii2Html(Text => $GlobalRef->{Env}->{$1}, Max => $2);\n                        }\n                        else {\n                            # output replace with nothing!\n                            '';\n                        }\n                    }\n                    else {\n                        if ( defined $GlobalRef->{Env}->{$Text} ) {\n                            $Self->Ascii2Html(Text => $GlobalRef->{Env}->{$Text});\n                        }\n                        else {\n                            # output replace with nothing!\n                            '';\n                        }\n                    }\n                }\n                elsif ($1 eq 'QData') {\n                    my $Text = $2;\n                    if ( !defined $Text || $Text =~ /^\",\\s*\"(.+)$/ ) {\n                        '';\n                    }\n                    elsif ($Text =~ /^(.+?)\",\\s*\"(.+)$/) {\n                        if ( defined $GlobalRef->{Data}->{$1} ) {\n                            $Self->Ascii2Html(Text => $GlobalRef->{Data}->{$1}, Max => $2);\n                        }\n                        else {\n                            # output replace with nothing!\n                            '';\n                        }\n                    }\n                    else {\n                        if ( defined $GlobalRef->{Data}->{$Text} ) {\n                            $Self->Ascii2Html(Text => $GlobalRef->{Data}->{$Text});\n                        }\n                        else {\n                            # output replace with nothing!\n                            '';\n                        }\n                    }\n                }\n                # link encode\n                elsif ($1 eq 'LQData') {\n                    if ( defined $GlobalRef->{Data}->{$2} ) {\n                        $Self->LinkEncode($GlobalRef->{Data}->{$2});\n                    }\n                    else {\n                        # output replace with nothing!\n                        '';\n                    }\n                }\n                # replace with\n                elsif ($1 eq 'Config') {\n                    if ( defined $Self->{ConfigObject}->Get($2) ) {\n                        $Self->{ConfigObject}->Get($2);\n                    }\n                    else {\n                        # output replace with nothing!\n                        '';\n                    }\n                }\n                # include dtl files\n                elsif ($1 eq 'Include') {\n                    $Self->Output(\n                        %Param,\n                        Include => 1,\n                        TemplateFile => $2,\n                    );\n                }\n            }egx;\n        }\n\n        # add this line to output\n        $Output .= $Line . \"\\n\";\n    }\n    chomp $Output;\n\n    $Self->{OutputCount} = 0;\n\n    return $Output;\n}\n\n=item _BuildSelectionOptionRefCreate()\n\ncreate the option hash\n\n    my $OptionRef = $LayoutObject->_BuildSelectionOptionRefCreate(\n        %Param,\n    );\n\n    my $OptionRef = {\n        Sort         => 'numeric',\n        PossibleNone => 0,\n        Max          => 100,\n    }\n\n=cut\n\nsub _BuildSelectionOptionRefCreate {\n    my ( $Self, %Param ) = @_;\n\n    # set SelectedID option\n    my $OptionRef = {};\n    if ( defined $Param{SelectedID} ) {\n        if ( ref $Param{SelectedID} eq 'ARRAY' ) {\n            for my $Key ( @{ $Param{SelectedID} } ) {\n                $OptionRef->{SelectedID}->{$Key} = 1;\n            }\n        }\n        else {\n            $OptionRef->{SelectedID}->{ $Param{SelectedID} } = 1;\n        }\n    }\n\n    # set SelectedValue option\n    if ( defined $Param{SelectedValue} ) {\n        if ( ref $Param{SelectedValue} eq 'ARRAY' ) {\n            for my $Value ( @{ $Param{SelectedValue} } ) {\n                $OptionRef->{SelectedValue}->{$Value} = 1;\n            }\n        }\n        else {\n            $OptionRef->{SelectedValue}->{ $Param{SelectedValue} } = 1;\n        }\n    }\n\n    # set Sort option\n    $OptionRef->{Sort} = 0;\n    if ( $Param{Sort} ) {\n        $OptionRef->{Sort} = $Param{Sort};\n    }\n\n    # look if a individual sort is available\n    if ( $Param{SortIndividual} && ref $Param{SortIndividual} eq 'ARRAY' ) {\n        $OptionRef->{SortIndividual} = $Param{SortIndividual};\n    }\n\n    # set SortReverse option\n    $OptionRef->{SortReverse} = 0;\n    if ( $Param{SortReverse} ) {\n        $OptionRef->{SortReverse} = 1;\n    }\n\n    # set Translation option\n    $OptionRef->{Translation} = 1;\n    if ( defined $Param{Translation} && $Param{Translation} eq 0 ) {\n        $OptionRef->{Translation} = 0;\n    }\n\n    # correcting selected value hash if translation is on\n    if (\n        $OptionRef->{Translation}\n        && $OptionRef->{SelectedValue}\n        && ref $OptionRef->{SelectedValue} eq 'HASH'\n        )\n    {\n        my %SelectedValueNew;\n        for my $OriginalKey ( sort keys %{ $OptionRef->{SelectedValue} } ) {\n            my $TranslatedKey = $Self->{LanguageObject}->Get($OriginalKey);\n            $SelectedValueNew{$TranslatedKey} = 1;\n        }\n        $OptionRef->{SelectedValue} = \\%SelectedValueNew;\n    }\n\n    # set PossibleNone option\n    $OptionRef->{PossibleNone} = 0;\n    if ( $Param{PossibleNone} ) {\n        $OptionRef->{PossibleNone} = 1;\n    }\n\n    # set TreeView option\n    $OptionRef->{TreeView} = 0;\n    if ( $Param{TreeView} ) {\n        $OptionRef->{TreeView} = 1;\n        $OptionRef->{Sort}     = 'TreeView';\n    }\n\n    # set DisabledBranch option\n    if ( $Param{DisabledBranch} ) {\n        if ( ref $Param{DisabledBranch} eq 'ARRAY' ) {\n            for my $Branch ( @{ $Param{DisabledBranch} } ) {\n                $OptionRef->{DisabledBranch}->{$Branch} = 1;\n            }\n        }\n        else {\n            $OptionRef->{DisabledBranch}->{ $Param{DisabledBranch} } = 1;\n        }\n    }\n\n    # set Max option\n    $OptionRef->{Max} = $Param{Max} || 100;\n\n    # set HTMLQuote option\n    $OptionRef->{HTMLQuote} = 1;\n    if ( defined $Param{HTMLQuote} ) {\n        $OptionRef->{HTMLQuote} = $Param{HTMLQuote};\n    }\n\n    return $OptionRef;\n}\n\n=item _BuildSelectionAttributeRefCreate()\n\ncreate the attribute hash\n\n    my $AttributeRef = $LayoutObject->_BuildSelectionAttributeRefCreate(\n        %Param,\n    );\n\n    my $AttributeRef = {\n        name     => 'TheName',\n        multiple => undef,\n        size     => 5,\n    }\n\n=cut\n\nsub _BuildSelectionAttributeRefCreate {\n    my ( $Self, %Param ) = @_;\n\n    my $AttributeRef = {};\n\n    # check params with key and value\n    for (qw(Name ID Size Class OnChange OnClick AutoComplete)) {\n        if ( $Param{$_} ) {\n            $AttributeRef->{ lc($_) } = $Param{$_};\n        }\n    }\n\n    # add id attriubut\n    if ( !$AttributeRef->{id} ) {\n        $AttributeRef->{id} = $AttributeRef->{name};\n    }\n\n    # check params with key and value that need to be HTML-Quoted\n    for (qw(Title)) {\n        if ( $Param{$_} ) {\n            $AttributeRef->{ lc($_) } = $Self->Ascii2Html( Text => $Param{$_} );\n        }\n    }\n\n    # check HTML params\n    for (qw(Multiple Disabled)) {\n        if ( $Param{$_} ) {\n            $AttributeRef->{ lc($_) } = lc($_);\n        }\n    }\n\n    return $AttributeRef;\n}\n\n=item _BuildSelectionDataRefCreate()\n\ncreate the data hash\n\n    my $DataRef = $LayoutObject->_BuildSelectionDataRefCreate(\n        Data => $ArrayRef,              # use $HashRef, $ArrayRef or $ArrayHashRef\n        AttributeRef => $AttributeRef,\n        OptionRef => $OptionRef,\n    );\n\n    my $DataRef  = [\n        {\n            Key => 11,\n            Value => 'Text',\n        },\n        {\n            Key => 'abc',\n            Value => '&nbsp;&nbsp;Text',\n            Selected => 1,\n        },\n    ];\n\n=cut\n\nsub _BuildSelectionDataRefCreate {\n    my ( $Self, %Param ) = @_;\n\n    my $AttributeRef = $Param{AttributeRef};\n    my $OptionRef    = $Param{OptionRef};\n    my $DataRef      = [];\n\n    my $Counter = 0;\n\n    # for HashRef and ArrayRef only\n    my %DisabledElements;\n\n    # dclone $Param{Data} because the subroutine unfortunately modifies\n    # the original data ref\n    if ( !$Self->{MainObject}->Require(\"Storable\") ) {\n        $Self->FatalError();\n    }\n    my $DataLocal = Storable::dclone( $Param{Data} );\n\n    # if HashRef was given\n    if ( ref $DataLocal eq 'HASH' ) {\n\n        # get missing parents and mark them for disable later\n        if ( $OptionRef->{Sort} eq 'TreeView' ) {\n            my %List = reverse %{$DataLocal};\n\n            # get each data value\n            for my $Key ( sort keys %List ) {\n                my $Parents = '';\n\n                # try to split its parents (e.g. Queue or Service) GrandParent::Parent::Son\n                my @Elements = split /::/, $Key;\n\n                # get each element in the hierarchy\n                for my $Element (@Elements) {\n\n                    # add its own parents for the complete name\n                    my $ElementLongName = $Parents . $Element;\n\n                    # check if element exists in the original data or if it is already marked\n                    if ( !$List{$ElementLongName} && !$DisabledElements{$ElementLongName} ) {\n\n                        # mark element as disabled\n                        $DisabledElements{$ElementLongName} = 1;\n\n                        # add the element to the original data to be disabled later\n                        $DataLocal->{ $ElementLongName . '_Disabled' } = $ElementLongName;\n                    }\n                    $Parents .= $Element . '::';\n                }\n            }\n        }\n\n        # sort hash (before the translation)\n        my @SortKeys;\n        if ( $OptionRef->{Sort} eq 'IndividualValue' && $OptionRef->{SortIndividual} ) {\n            my %List = reverse %{$DataLocal};\n            for my $Key ( @{ $OptionRef->{SortIndividual} } ) {\n                if ( $List{$Key} ) {\n                    push @SortKeys, $List{$Key};\n                    delete $List{$Key};\n                }\n            }\n            push @SortKeys, sort { $a cmp $b } ( values %List );\n        }\n\n        # translate value\n        if ( $OptionRef->{Translation} ) {\n            for my $Row ( sort keys %{$DataLocal} ) {\n                $DataLocal->{$Row} = $Self->{LanguageObject}->Get( $DataLocal->{$Row} );\n            }\n        }\n\n        # sort hash (after the translation)\n        if ( $OptionRef->{Sort} eq 'NumericKey' ) {\n            @SortKeys = sort { $a <=> $b } ( keys %{$DataLocal} );\n        }\n        elsif ( $OptionRef->{Sort} eq 'NumericValue' ) {\n            @SortKeys\n                = sort { $DataLocal->{$a} <=> $DataLocal->{$b} } ( keys %{$DataLocal} );\n        }\n        elsif ( $OptionRef->{Sort} eq 'AlphanumericKey' ) {\n            @SortKeys = sort( keys %{$DataLocal} );\n        }\n        elsif ( $OptionRef->{Sort} eq 'TreeView' ) {\n\n            # add suffix for correct sorting\n            my %SortHash;\n            for ( sort keys %{$DataLocal} ) {\n                $SortHash{$_} = $DataLocal->{$_} . '::';\n            }\n            @SortKeys = sort { $SortHash{$a} cmp $SortHash{$b} } ( keys %SortHash );\n        }\n        elsif ( $OptionRef->{Sort} eq 'IndividualKey' && $OptionRef->{SortIndividual} ) {\n            my %List = %{$DataLocal};\n            for my $Key ( @{ $OptionRef->{SortIndividual} } ) {\n                if ( $List{$Key} ) {\n                    push @SortKeys, $Key;\n                    delete $List{$Key};\n                }\n            }\n            push @SortKeys, sort { $List{$a} cmp $List{$b} } ( keys %List );\n        }\n        elsif ( $OptionRef->{Sort} eq 'IndividualValue' && $OptionRef->{SortIndividual} ) {\n\n            # already done before the translation\n        }\n        else {\n            @SortKeys\n                = sort { $DataLocal->{$a} cmp $DataLocal->{$b} } ( keys %{$DataLocal} );\n            $OptionRef->{Sort} = 'AlphanumericValue';\n        }\n\n        # create DataRef\n        for my $Row (@SortKeys) {\n            $DataRef->[$Counter]->{Key}   = $Row;\n            $DataRef->[$Counter]->{Value} = $DataLocal->{$Row};\n            $Counter++;\n        }\n    }\n\n    # if ArrayHashRef was given\n    elsif ( ref $DataLocal eq 'ARRAY' && ref $DataLocal->[0] eq 'HASH' ) {\n\n        # create DataRef\n        for my $Row ( @{$DataLocal} ) {\n            if ( ref $Row eq 'HASH' && defined $Row->{Key} ) {\n                $DataRef->[$Counter]->{Key}   = $Row->{Key};\n                $DataRef->[$Counter]->{Value} = $Row->{Value};\n\n                # translate value\n                if ( $OptionRef->{Translation} ) {\n                    $DataRef->[$Counter]->{Value}\n                        = $Self->{LanguageObject}->Get( $DataRef->[$Counter]->{Value} );\n                }\n\n                # set Selected and Disabled options\n                if ( $Row->{Selected} ) {\n                    $DataRef->[$Counter]->{Selected} = 1;\n                }\n                elsif ( $Row->{Disabled} ) {\n                    $DataRef->[$Counter]->{Disabled} = 1;\n                }\n                $Counter++;\n            }\n        }\n    }\n\n    # if ArrayRef was given\n    elsif ( ref $DataLocal eq 'ARRAY' ) {\n\n        # get missing parents and mark them for disable later\n        if ( $OptionRef->{Sort} eq 'TreeView' ) {\n            my %List = map { $_ => 1 } @{$DataLocal};\n\n            # get each data value\n            for my $Key ( sort keys %List ) {\n                my $Parents = '';\n\n                # try to split its parents (e.g. Queue or Service) GrandParent::Parent::Son\n                my @Elements = split /::/, $Key;\n\n                # get each element in the hierarchy\n                for my $Element (@Elements) {\n\n                    # add its own parents for the complete name\n                    my $ElementLongName = $Parents . $Element;\n\n                    # check if element exists in the original data or if it is already marked\n                    if ( !$List{$ElementLongName} && !$DisabledElements{$ElementLongName} ) {\n\n                        # mark element as disabled\n                        $DisabledElements{$ElementLongName} = 1;\n\n                        # add the element to the original data to be disabled later\n                        push @{$DataLocal}, $ElementLongName;\n                    }\n                    $Parents .= $Element . '::';\n                }\n            }\n        }\n\n        if ( $OptionRef->{Sort} eq 'IndividualValue' && $OptionRef->{SortIndividual} ) {\n            my %List = map { $_ => 1 } @{$DataLocal};\n            $DataLocal = [];\n            for my $Key ( @{ $OptionRef->{SortIndividual} } ) {\n                if ( $List{$Key} ) {\n                    push @{$DataLocal}, $Key;\n                    delete $List{$Key};\n                }\n            }\n            push @{$DataLocal}, sort { $a cmp $b } ( keys %List );\n        }\n\n        my %ReverseHash;\n\n        # translate value\n        if ( $OptionRef->{Translation} ) {\n            my @TranslateArray;\n            for my $Row ( @{$DataLocal} ) {\n                my $TranslateString = $Self->{LanguageObject}->Get($Row);\n                push @TranslateArray, $TranslateString;\n                $ReverseHash{$TranslateString} = $Row;\n            }\n            $DataLocal = \\@TranslateArray;\n        }\n        else {\n            for my $Row ( @{$DataLocal} ) {\n                $ReverseHash{$Row} = $Row;\n            }\n        }\n\n        # sort array\n        if ( $OptionRef->{Sort} eq 'AlphanumericKey' || $OptionRef->{Sort} eq 'AlphanumericValue' )\n        {\n            my @SortArray = sort( @{$DataLocal} );\n            $DataLocal = \\@SortArray;\n        }\n        elsif ( $OptionRef->{Sort} eq 'NumericKey' || $OptionRef->{Sort} eq 'NumericValue' ) {\n            my @SortArray = sort { $a <=> $b } ( @{$DataLocal} );\n            $DataLocal = \\@SortArray;\n        }\n        elsif ( $OptionRef->{Sort} eq 'TreeView' ) {\n\n            # sort array, add '::' in the comparison, for proper sort of Items with Items::SubItems\n            my @SortArray = sort { $a . '::' cmp $b . '::' } @{$DataLocal};\n            $DataLocal = \\@SortArray;\n        }\n\n        # create DataRef\n        for my $Row ( @{$DataLocal} ) {\n            $DataRef->[$Counter]->{Key}   = $ReverseHash{$Row};\n            $DataRef->[$Counter]->{Value} = $Row;\n            $Counter++;\n        }\n    }\n\n    # check disabled items on ArrayRef or HashRef only\n    if (\n        ref $DataLocal eq 'HASH'\n        || ( ref $DataLocal eq 'ARRAY' && ref $DataLocal->[0] ne 'HASH' )\n        )\n    {\n        for my $Row ( @{$DataRef} ) {\n            if ( $DisabledElements{ $Row->{Value} } ) {\n                $Row->{Key}      = '-';\n                $Row->{Disabled} = 1;\n            }\n        }\n    }\n\n    # DisabledBranch option\n    if ( $OptionRef->{DisabledBranch} ) {\n        for my $Row ( @{$DataRef} ) {\n            for my $Branch ( sort keys %{ $OptionRef->{DisabledBranch} } ) {\n                if ( $Row->{Value} =~ /^(\\Q$Branch\\E)$/ || $Row->{Value} =~ /^(\\Q$Branch\\E)::/ ) {\n                    $Row->{Disabled} = 1;\n                }\n            }\n        }\n    }\n\n    # Max option\n    # REMARK: Don't merge the Max handling with Ascii2Html function call of\n    # the HTMLQuote handling. In this case you lose the max handling if you\n    # deactivate HTMLQuote\n    if ( $OptionRef->{Max} ) {\n        for my $Row ( @{$DataRef} ) {\n\n            # REMARK: This is the same solution as in Ascii2Html\n            $Row->{Value} =~ s/^(.{$OptionRef->{Max}}).+?$/$1\\[\\.\\.\\]/gs;\n\n            #$Row->{Value} = substr( $Row->{Value}, 0, $OptionRef->{Max} );\n        }\n    }\n\n    # SortReverse option\n    if ( $OptionRef->{SortReverse} ) {\n        @{$DataRef} = reverse( @{$DataRef} );\n    }\n\n    # PossibleNone option\n    if ( $OptionRef->{PossibleNone} ) {\n        my %None;\n        $None{Key}   = '';\n        $None{Value} = '-';\n\n        unshift( @{$DataRef}, \\%None );\n    }\n\n    # SelectedID and SelectedValue option\n    if ( defined $OptionRef->{SelectedID} || $OptionRef->{SelectedValue} ) {\n        for my $Row ( @{$DataRef} ) {\n            if (\n                (\n                    $OptionRef->{SelectedID}->{ $Row->{Key} }\n                    || $OptionRef->{SelectedValue}->{ $Row->{Value} }\n                )\n                && !$DisabledElements{ $Row->{Value} }\n                )\n            {\n                $Row->{Selected} = 1;\n            }\n        }\n    }\n\n    # HTMLQuote option\n    if ( $OptionRef->{HTMLQuote} ) {\n        for my $Row ( @{$DataRef} ) {\n            $Row->{Key}   = $Self->Ascii2Html( Text => $Row->{Key} );\n            $Row->{Value} = $Self->Ascii2Html( Text => $Row->{Value} );\n        }\n    }\n\n    # TreeView option\n    if ( $OptionRef->{TreeView} ) {\n\n        ROW:\n        for my $Row ( @{$DataRef} ) {\n\n            next ROW if !$Row->{Value};\n\n            my @Fragment = split '::', $Row->{Value};\n            $Row->{Value} = pop @Fragment;\n\n            my $Space = '&nbsp;&nbsp;' x scalar @Fragment;\n            $Space ||= '';\n\n            $Row->{Value} = $Space . $Row->{Value};\n        }\n    }\n\n    return $DataRef;\n}\n\n=item _BuildSelectionOutput()\n\ncreate the html string\n\n    my $HTMLString = $LayoutObject->_BuildSelectionOutput(\n        AttributeRef => $AttributeRef,\n        DataRef => $DataRef,\n    );\n\n    my $AttributeRef = {\n        name => 'TheName',\n        multiple => undef,\n        size => 5,\n    }\n\n    my $DataRef  = [\n        {\n            Key => 11,\n            Value => 'Text',\n            Disabled => 1,\n        },\n        {\n            Key => 'abc',\n            Value => '&nbsp;&nbsp;Text',\n            Selected => 1,\n        },\n    ];\n\n=cut\n\nsub _BuildSelectionOutput {\n    my ( $Self, %Param ) = @_;\n\n    # start generation, if AttributeRef and DataRef was found\n    my $String;\n    if ( $Param{AttributeRef} && $Param{DataRef} ) {\n\n        # generate <select> row\n        $String = '<select';\n        for my $Key ( sort keys %{ $Param{AttributeRef} } ) {\n            if ( $Key && defined $Param{AttributeRef}->{$Key} ) {\n                $String .= \" $Key=\\\"$Param{AttributeRef}->{$Key}\\\"\";\n            }\n            elsif ($Key) {\n                $String .= \" $Key\";\n            }\n        }\n        $String .= \">\\n\";\n\n        # generate <option> rows\n        for my $Row ( @{ $Param{DataRef} } ) {\n            my $Key = '';\n            if ( defined $Row->{Key} ) {\n                $Key = $Row->{Key};\n            }\n            my $Value = '';\n            if ( defined $Row->{Value} ) {\n                $Value = $Row->{Value};\n            }\n            my $SelectedDisabled = '';\n            if ( $Row->{Selected} ) {\n                $SelectedDisabled = ' selected=\"selected\"';\n            }\n            elsif ( $Row->{Disabled} ) {\n                $SelectedDisabled = ' disabled=\"disabled\"';\n            }\n            my $OptionTitle = '';\n            if ( $Param{OptionTitle} ) {\n                $OptionTitle = ' title=\"' . $Value . '\"';\n            }\n            $String .= \"  <option value=\\\"$Key\\\"$SelectedDisabled$OptionTitle>$Value</option>\\n\";\n        }\n        $String .= '</select>';\n    }\n    return $String;\n}\n\nsub _DisableBannerCheck {\n    my ( $Self, %Param ) = @_;\n\n    return 1 if !$Self->{ConfigObject}->Get('Secure::DisableBanner');\n    return   if !$Param{OutputRef};\n\n    # remove the version tag from the header\n    ${ $Param{OutputRef} } =~ s{\n                ^ X-Powered-By: .+? Open \\s Ticket \\s Request \\s System \\s \\(http .+? \\)$ \\n\n            }{}smx;\n\n    return 1;\n}\n\n=item _RemoveScriptTags()\n\nThis function will remove the surrounding <script> tags of a\npiece of JavaScript code, if they are present, and return the result.\n\n    my $CodeContent = $LayoutObject->_RemoveScriptTags(Code => $SomeCode);\n\n=cut\n\nsub _RemoveScriptTags {\n    my ( $Self, %Param ) = @_;\n\n    my $Code = $Param{Code} || '';\n\n    if ( $Code =~ m/<script/ ) {\n\n        # cut out dtl block comments of already replaced dtl blocks\n        $Code =~ s{\n            ^\n            <!--\n            \\/?\n            \\w+\n            -->\n            \\r?\\n\n        }{}smxg;\n\n        # cut out opening script tags\n        $Code =~ s{\n            <script[^>]+>\n            (?:\\s*<!--)?\n            (?:\\s*//\\s*<!\\[CDATA\\[)?\n        }\n        {}smxg;\n\n        # cut out closing script tags\n        $Code =~ s{\n            (?:-->\\s*)?\n            (?://\\s*\\]\\]>\\s*)?\n            </script>\n        }{}smxg;\n\n    }\n    return $Code;\n}\n\n=item WrapPlainText()\n\nThis sub has two main functionalities:\n1. Check every line and make sure that \"\\n\" is the ending of the line.\n2. If the line does _not_ start with \">\" (e.g. not cited text)\nwrap it after the number of \"MaxCharacters\" (e.g. if MaxCharacters is \"80\" wrap after 80 characters).\nDo this _just_ if the line, that should be wrapped, contains space characters at which the line can be wrapped.\n\nIf you need more info to understand what it does, take a look at the UnitTest WrapPlainText.t to see\nuse cases there.\n\nmy $WrappedPlainText = $LayoutObject->WrapPlainText(\n    PlainText     => \"Some Plain text that is longer than the amount stored in MaxCharacters\",\n    MaxCharacters => 80,\n);\n\n=cut\n\nsub WrapPlainText {\n    my ( $Self, %Param ) = @_;\n\n    # Return if we did not get MaxCharacters\n    # or MaxCharacters doesn't contain just an int\n    if ( !IsPositiveInteger( $Param{MaxCharacters} ) ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => \"Got no or invalid MaxCharacters!\",\n        );\n        return;\n    }\n\n    # Return if we didn't get PlainText\n    if ( !defined $Param{PlainText} ) {\n        return;\n    }\n\n    # Return if we got no Scalar\n    if ( ref $Param{PlainText} ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => \"Had no string in PlainText!\",\n        );\n        return;\n    }\n\n    # Return PlainText if we have less than MaxCharacters\n    if ( length $Param{PlainText} < $Param{MaxCharacters} ) {\n        return $Param{PlainText};\n    }\n\n    my $WorkString = $Param{PlainText};\n    $WorkString =~ s/(^>.+|.{4,$Param{MaxCharacters}})(?:\\s|\\z)/$1\\n/gm;\n    return $WorkString;\n}\n\n#COMPAT: to 3.0.x and lower (can be removed later)\nsub TransfromDateSelection {\n    my $Self = shift;\n\n    return $Self->TransformDateSelection(@_);\n}\n\n1;\n\n=end Internal:\n\n=back\n\n=head1 TERMS AND CONDITIONS\n\nThis software is part of the OTRS project (L<http://otrs.org/>).\n\nThis software comes with ABSOLUTELY NO WARRANTY. For details, see\nthe enclosed file COPYING for license information (AGPL). If you\ndid not receive this file, see L<http://www.gnu.org/licenses/agpl.txt>.\n\n=cut\n"], "fixing_code": ["#3.2.14 201?-??-??\n - 2013-12-20 Fixed bug#[10099](http://bugs.otrs.org/show_bug.cgi?id=10099) - Missing challenge token checks on customer interface.\n - 2013-12-17 Fixed bug#[10103](http://bugs.otrs.org/show_bug.cgi?id=10103) - ArticleTypeID is always undef in AgentTicketCompose.\n - 2013-12-12 Added functionality to disable access to tickets of other customers with the same customer company in customer interface.\n - 2013-12-12 Fixed bug#[9650](http://bugs.otrs.org/show_bug.cgi?id=9650) - Special character in customer id breaks Open Tickets in AgentTicketZoom.\n - 2013-12-11 Fixed bug#[9723](http://bugs.otrs.org/show_bug.cgi?id=9723) - TicketAccountedTime stat does not run on Oracle with many tickets\n - 2013-12-09 Fixed bug#[10077](http://bugs.otrs.org/show_bug.cgi?id=10077) - regular expressions in postmaster filter return 1 if no regex match.\n - 2013-12-06 Fixed bug#[10070](http://bugs.otrs.org/show_bug.cgi?id=10070) - Wrong error message if Transition contains no transition actions.\n\n#3.2.13 2013-12-10\n - 2013-12-02 Fixed bug#[9327](http://bugs.otrs.org/show_bug.cgi?id=9327) - Filter breaks \"Select all\" functionality.\n - 2013-11-29 Fixed bug#[9999](http://bugs.otrs.org/show_bug.cgi?id=9999) - Timestamps in HistoricalValueGet return milliseconds on SQL Server.\n - 2013-11-29 Fixed bug#[10027](http://bugs.otrs.org/show_bug.cgi?id=10027) - Added old ticket information to ticket_history.\n - 2013-11-19 Fixed bug#[7337](http://bugs.otrs.org/show_bug.cgi?id=7337) - AJAX Error on new Phone Ticket on IIS when using JSON::XS.\n - 2013-11-18 Fixed bug#[8991](http://bugs.otrs.org/show_bug.cgi?id=8991) - Back-action does not work when search result returned just  1 ticket.\n - 2013-11-12 Fixed bug#[9937](http://bugs.otrs.org/show_bug.cgi?id=9937) - Activity-Dialogs in wrong order.\n - 2013-11-11 Fixed bug#[9954](http://bugs.otrs.org/show_bug.cgi?id=9954) - PGP Crypted and Signed emails could be wrongly parsed.\n - 2013-11-07 Fixed bug#[9639](http://bugs.otrs.org/show_bug.cgi?id=9639) - TextArea validation message not translated.\n - 2013-11-07 Fixed bug#[9944](http://bugs.otrs.org/show_bug.cgi?id=9944) - Search Template issue.\n - 2013-11-07 Fixed bug#[9938](http://bugs.otrs.org/show_bug.cgi?id=9938) - ActivityDialog doesn't show queues with move_into permissions.\n - 2013-11-06 Fixed bug#[9940](http://bugs.otrs.org/show_bug.cgi?id=9940) - Fedora misses dependency on Sys::Syslog.\n - 2013-11-05 Removed Patch/Workaround for CPAN MIME::Parser v5.503 (introduced in OTRS 3.2.2) replaced with another solution, as it was causing problems with PGP.\n - 2013-11-05 Fixed bug#[9916](http://bugs.otrs.org/show_bug.cgi?id=9916) - Error when updating CustomerUser Login on ForeignDB.\n - 2013-11-05 Fixed bug#[9841](http://bugs.otrs.org/show_bug.cgi?id=9841) - Tabbing changes radio button of owner change selection.\n - 2013-11-05 Fixed bug#[9867](http://bugs.otrs.org/show_bug.cgi?id=9867) - Validation errors are not shown correctly when replying to a ticket in Customer Interface.\n - 2013-11-04 Fixed bug#[9914](http://bugs.otrs.org/show_bug.cgi?id=9914) - Spellchecker ignores double wrong words.\n\n#3.2.12 2013-11-05\n - 2013-11-04 Fixed bug#[9832](http://bugs.otrs.org/show_bug.cgi?id=9832) - Perl 5.18.1 problems with MIME::Entity.\n - 2013-10-31 Updated French translation, thanks to Olivier Sallou!\n - 2013-10-31 Fixed bug#[9910](http://bugs.otrs.org/show_bug.cgi?id=9910) - Startup warnings/errors with Perl 5.18.1.\n - 2013-10-29 Fixed bug#[9753](http://bugs.otrs.org/show_bug.cgi?id=9753) - META HTTP-EQUIV=\"Refresh\" tag not stripped from HTML email.\n - 2013-10-28 Fixed bug#[9897](http://bugs.otrs.org/show_bug.cgi?id=9897) - process ticket 'fading away' -> Process is invalid.\n - 2013-10-28 Fixed bug#[9749](http://bugs.otrs.org/show_bug.cgi?id=9749) - Using spell checker in rich text Editor strips HTML formatting.\n - 2013-10-28 Fixed bug#[4465](http://bugs.otrs.org/show_bug.cgi?id=4465) - Spell checker ispell ignores some characters such German umlauts.\n - 2013-10-25 Fixed bug#[9883](http://bugs.otrs.org/show_bug.cgi?id=9883) - Stats Overview is slow due Caching bug (object cache does not work).\n - 2013-10-25 Fixed bug#[9839](http://bugs.otrs.org/show_bug.cgi?id=9839) - Inline images not showing up when cookies are disabled.\n - 2013-10-25 Moved process import functionality in the backend module Kernel/System/ProcessManagement/DB/Process.pm.\n - 2013-10-18 Fixed bug#[9669](http://bugs.otrs.org/show_bug.cgi?id=9669) - Accessibility: ticket submenu not expandable with the keyboard.\n - 2013-10-14 Fixed bug#[9814](http://bugs.otrs.org/show_bug.cgi?id=9814) - Tickets without articles not shown correcly in medium view.\n - 2013-10-14 Fixed bug#[9812](http://bugs.otrs.org/show_bug.cgi?id=9812) - Sysconfig descriptions for tooltips and placeholder values of toolbar widgets are ignored.\n - 2013-10-14 Fixed bug#[9391](http://bugs.otrs.org/show_bug.cgi?id=9391) - Incorrect permissions on .procmailrc.\n - 2013-10-08 Fixed bug#[9796](http://bugs.otrs.org/show_bug.cgi?id=9796) - Misaligned Headers on Simple Stats.\n\n#3.2.11 2013-10-08\n - 2013-10-07 Fixed bug#[9770](http://bugs.otrs.org/show_bug.cgi?id=9770) - JavaScript Execution in ProcessManagement is broken in IE8.\n - 2013-10-03 Fixed bug#[9786](http://bugs.otrs.org/show_bug.cgi?id=9786) - Missing tooltip text in Dropdown and Multiselect Dynamic Fields admin.\n - 2013-10-03 Fixed bug#[9785](http://bugs.otrs.org/show_bug.cgi?id=9785) - Switch Customer should not be displayed in New Ticket Customer Option.\n - 2013-10-02 Fixed bug#[9782](http://bugs.otrs.org/show_bug.cgi?id=9782) - Typo in DynamicField Multiselect function.\n - 2013-10-01 Fixed bug#[9542](http://bugs.otrs.org/show_bug.cgi?id=9542) - Uninitialized value in AgentTicketForward.\n - 2013-09-30 Fixed bug#[9765](http://bugs.otrs.org/show_bug.cgi?id=9765) - Dynamic Field values are completely removed if one entry contains a dash.\n - 2013-09-27 Fixed bug#[9764](http://bugs.otrs.org/show_bug.cgi?id=9764) - ACL, Queue will ignored with customerID.\n - 2013-09-27 Fixed bug#[9762](http://bugs.otrs.org/show_bug.cgi?id=9762) - Queue View - S / M / L views - not saved after logout.\n    This also includes the fix for the problem that only 10 tickets per page were shown in the small view.\n - 2013-09-26 Fixed bug#[9580](http://bugs.otrs.org/show_bug.cgi?id=9580) - Time fields in TicketGetResponse Ticket element do not comply with xsd:DateTime format.\n - 2013-09-26 Fixed bug#[9748](http://bugs.otrs.org/show_bug.cgi?id=9748) - ProcessManagement: Duplicate articles in a process-ticket (TransitionAction).\n - 2013-09-26 Fixed bug#[9759](http://bugs.otrs.org/show_bug.cgi?id=9759) - Installer Error DB - max key length is 767 bytes.\n - 2013-09-26 Fixed bug#[9747](http://bugs.otrs.org/show_bug.cgi?id=9747) - Only first selected process displays the RichText editor.\n - 2013-09-25 Fixed bug#[9688](http://bugs.otrs.org/show_bug.cgi?id=9688) - ORA-01839 error occurs at DynamicField in TicketSearch.\n - 2013-09-25 Fixed bug#[9751](http://bugs.otrs.org/show_bug.cgi?id=9751) - TimeUnits are not accepted with a value of 0.\n - 2013-09-20 Fixed bug#[9739](http://bugs.otrs.org/show_bug.cgi?id=9739) - Customer interface not working with MySQL 5.6.\n - 2013-09-20 Fixed bug#[8489](http://bugs.otrs.org/show_bug.cgi?id=8489) - setting Tickets per page resets AgentTicketQueue.\n - 2013-09-20 Fixed bug#[9732](http://bugs.otrs.org/show_bug.cgi?id=9732) - German translation file de.pm incomplete.\n - 2013-09-12 Fixed bug#[9728](http://bugs.otrs.org/show_bug.cgi?id=9728) - Bulk action (send email) ignores reply-to address from unknown customers.\n - 2013-09-06 Fixed bug#[9661](http://bugs.otrs.org/show_bug.cgi?id=9661) - Useless code in DynamicField backend.\n - 2013-09-06 Fixed bug#[9701](http://bugs.otrs.org/show_bug.cgi?id=9701) - Ticket overview Queue Sort Filter is missing.\n - 2013-09-04 Fixed bug#[8173](http://bugs.otrs.org/show_bug.cgi?id=8173) - Dashboard Widget \"Online\" does not save state.\n - 2013-09-04 Fixed bug#[9188](http://bugs.otrs.org/show_bug.cgi?id=9188) - AgentTicketEmail always loads a signature, even if no queue is selected.\n - 2013-09-02 Fixed bug#[9672](http://bugs.otrs.org/show_bug.cgi?id=9672) - Undecrypted HTML part displayed when viewing a multipart/alternative PGP encrypted HTML mail.\n\n#3.2.10 2013-08-27\n - 2013-08-20 Fixed bug#[9617](http://bugs.otrs.org/show_bug.cgi?id=9617) - Event-based notifications are not sent for process-tickets.\n - 2013-08-14 Fixed bug#[9666](http://bugs.otrs.org/show_bug.cgi?id=9666) - Installing an invalid package cause an server error on package manager.\n - 2013-08-06 Fixed bug#[8408](http://bugs.otrs.org/show_bug.cgi?id=8408) - No separator used in CSV files if UserCSVSeparator enabled and not set.\n - 2013-08-01 Fixed bug#[9635](http://bugs.otrs.org/show_bug.cgi?id=9635) - article_search not updated on ticket merges.\n - 2013-07-31 Fixed bug#[9629](http://bugs.otrs.org/show_bug.cgi?id=9629) - ORA-936 error in AgentTicketSearch with some search clauses.\n - 2013-07-30 Fixed bug#[9631](http://bugs.otrs.org/show_bug.cgi?id=9631) - BuildSelection() Selected does not work if value contains strings that are HTML-escaped.\n - 2013-07-30 Fixed bug#[9630](http://bugs.otrs.org/show_bug.cgi?id=9630) - Dynamic Fields of type Date can record wrong date when TimeZoneSettings are used.\n - 2013-07-25 Fixed bug#[9316](http://bugs.otrs.org/show_bug.cgi?id=9316) - Under nginx CustomerInformationCenter search returns Bad Gateway.\n - 2013-07-25 Fixed bug#[9610](http://bugs.otrs.org/show_bug.cgi?id=9610) - When email does not specify charset, content is not displayed in IE10.\n - 2013-07-24 Fixed bug#[9622](http://bugs.otrs.org/show_bug.cgi?id=9622) - Actions in Small ticket overview don't work when cookies are turned off.\n - 2013-07-24 Updated Danish translation, thanks to Lars J\u00f8rgensen!\n - 2013-07-22 Fixed bug#[9541](http://bugs.otrs.org/show_bug.cgi?id=9541) - Package manager cannot use https proxy.\n - 2013-07-22 Fixed bug pull#[83](https://github.com/OTRS/otrs/pull/83) - Pagination next page link, thanks to Ren\u00e9e B\u00e4cker.\n - 2013-07-17 Updated Turkish translation, thanks to Sefer \u015eim\u015fek @ Network Group!\n - 2013-07-17 Fixed bug#[9594](http://bugs.otrs.org/show_bug.cgi?id=9594) - No auro-reply sent with multiple From addresses in\n    AgentTicketPhone on PostgreSQL and Oracle.\n - 2013-07-12 Fixed bug#[3434](http://bugs.otrs.org/show_bug.cgi?id=3434) - Validity of search time frame not checked by OTRS.\n - 2013-07-12 Fixed bug#[5475](http://bugs.otrs.org/show_bug.cgi?id=5475) - Incorrectly limited ticket list queries in queue view.\n - 2013-07-12 Fixed bug#[8667](http://bugs.otrs.org/show_bug.cgi?id=8667) - No error Message when tryiing to Merge Ticket with itself.\n - 2013-07-12 Fixed bug#[6985](http://bugs.otrs.org/show_bug.cgi?id=6985) - SMTPTLS backend requires username and password.\n - 2013-07-12 Fixed bug#[3434](http://bugs.otrs.org/show_bug.cgi?id=3434) - Validity of search time frame not checked by OTRS.\n - 2013-07-10 Fixed bug#[9598](http://bugs.otrs.org/show_bug.cgi?id=9598) - Typo in vacation message for German locale.\n - 2013-07-10 Fixed bug#[9595](http://bugs.otrs.org/show_bug.cgi?id=9595) - Incomplete page reload handling in merge and bounce.\n - 2013-07-10 Fixed bug#[5307](http://bugs.otrs.org/show_bug.cgi?id=5307) - Tickets can be raised against an invalid Customer Company.\n - 2013-07-10 Fixed bug#[9596](http://bugs.otrs.org/show_bug.cgi?id=9596) - On merge and bounce screens is confusing when fill or not 'To',  'Subject' and 'Body' fields.\n - 2013-07-10 Fixed bug#[9514](http://bugs.otrs.org/show_bug.cgi?id=9514) - Bulk action (send email) uses senders address instead of customer id.\n - 2013-07-10 Fixed bug#[9595](http://bugs.otrs.org/show_bug.cgi?id=9595) - Incomplete page reload handling in merge and bounce.\n - 2013-07-10 Fixed bug#[9570](http://bugs.otrs.org/show_bug.cgi?id=9570) - AgentTicketSearch with exclamation mark emits invalid SQL\n - 2013-07-09 Fixed bug#[3007](http://bugs.otrs.org/show_bug.cgi?id=3007) - CheckMXRecord and CheckEmailAddresses have no effect on AgentTicketBounce.\n - 2013-07-09 Fixed bug#[9512](http://bugs.otrs.org/show_bug.cgi?id=9512) - Database error for invalid date in AgentTicketSearch.\n - 2013-07-09 Fixed bug#[4465](http://bugs.otrs.org/show_bug.cgi?id=4465) - Spell checker ispell ignores some characters such German umlauts.\n - 2013-07-09 Fixed bug#[8428](http://bugs.otrs.org/show_bug.cgi?id=8428) - Bad usability of multiple sender/recipient feature.\n - 2013-07-09 Fixed bug#[9556](http://bugs.otrs.org/show_bug.cgi?id=9556) - Bounce and merge require notification recipient, subject and body even if no notification is sent.\n - 2013-07-09 Fixed bug#[9584](http://bugs.otrs.org/show_bug.cgi?id=9584) - No server side validation of To/Subject/Body in merge mask.\n - 2013-07-09 Fixed bug#[9578](http://bugs.otrs.org/show_bug.cgi?id=9578) - DynamicField sorting does not work on TicketSearch results in Customer Interface.\n - 2013-07-08 Fixed bug#[9579](http://bugs.otrs.org/show_nug.cgi?id=9579) - SOAP Serializer used in Kernel/GenericInterface/Transport/HTTP/SOAP.pm does not correctly set namespace.\n - 2013-07-08 Fixed bug#[9577](http://bugs.otrs.org/show_bug.cgi?id=9577) - Engine translate date to dado from english to pt_BR.\n - 2013-07-08 Fixed bug#[7359](http://bugs.otrs.org/show_bug.cgi?id=7359) - Setting pending states via generic agent does not set pending time.\n - 2013-07-08 Fixed bug#[5920](http://bugs.otrs.org/show_bug.cgi?id=5920) - Search restriction for dates is not displayed in customer interface.\n - 2013-07-08 Fixed bug#[8380](http://bugs.otrs.org/show_bug.cgi?id=8380) - Middle name not displayed in AdminCustomerUser.\n - 2013-07-05 Fixed bug#[9576](http://bugs.otrs.org/show_bug.cgi?id=9576) - GI TicketSearch Date and Date/Time dynamic fields are ignored.\n - 2013-07-04 Changed Dynamic Field SearchFieldParameterBuild() API, LayoutObject is now optional.\n - 2013-07-04 Fixed bug#[9573](http://bugs.otrs.org/show_bug.cgi?id=9573) - Date and DateTime dynamic fields not considered in GenericAgent Jobs.\n\n#3.2.9 2013-07-09\n - 2013-07-03 Fixed bug#[9561](http://bugs.otrs.org/show_bug.cgi?id=9561) - ACL restriction with CustomerID for DynamicFields at new Ticket screen not working.\n - 2013-07-02 Fixed bug#[8728](http://bugs.otrs.org/show_bug.cgi?id=8728) - Problem loading otrs-initial_insert.oracle.sql.\n - 2013-07-01 Fixed bug#[9481](http://bugs.otrs.org/show_bug.cgi?id=9481) - Possible to select invalid services in SLA admin screen.\n - 2013-06-29 Fixed bug#[9539](http://bugs.otrs.org/show_bug.cgi?id=9539) - Cannot send notification to a group of customers.\n - 2013-06-28 Fixed bug#[8273](http://bugs.otrs.org/show_bug.cgi?id=8273) - Copying text in preview mode not possible.\n - 2013-06-28 Fixed bug#[9557](http://bugs.otrs.org/show_bug.cgi?id=9557) - Cannot see quoted text in customer ticket zoom.\n - 2013-06-27 Fixed bug#[9011](http://bugs.otrs.org/show_bug.cgi?id=9011) - GenericInterface: New value after value mapping can't be 0.\n - 2013-06-25 Improved parameter quoting in various places.\n - 2013-06-24 Fixed bug#[9104](http://bugs.otrs.org/show_bug.cgi?id=9104) - Group permission for customer subset overwrites permissions for other customers.\n - 2013-06-21 Fixed bug#[9434](http://bugs.otrs.org/show_bug.cgi?id=9434) - Activities are not translated.\n - 2013-06-21 Fixed bug#[9261](http://bugs.otrs.org/show_bug.cgi?id=9261) - Ticket Inbound changes FROM in view.\n - 2013-06-21 Fixed bug#[9540](http://bugs.otrs.org/show_bug.cgi?id=9540) - AgentTicketOwner doesn't activate PreviousOwner if new owner is selected.\n - 2013-06-21 Fixed bug#[9365](http://bugs.otrs.org/show_bug.cgi?id=9365) - AgentLinkObject screen does not provide a search restriction for ticket type.\n - 2013-06-19 Fixed bug#[9533](http://bugs.otrs.org/show_bug.cgi?id=9533) - Delete Inactive Process button not aligned.\n - 2013-06-18 Fixed bug#[9504](http://bugs.otrs.org/show_bug.cgi?id=9504) - wrong status after answer via customer portal.\n - 2013-06-18 Fixed bug#[9425](http://bugs.otrs.org/show_bug.cgi?id=9425) - Wrong created date for queue view.\n - 2013-06-18 Follow-up fix for bug#[8880](http://bugs.otrs.org/show_bug.cgi?id=8880) - No inline image shown if HTML email contains 'base' tag.\n - 2013-06-17 Updated Spanish translation, thanks to Enrique Mat\u00edas S\u00e1nchez!\n - 2013-06-17 Fixed bug#[8112](http://bugs.otrs.org/show_bug.cgi?id=8112) - Display issue in FROM column of AgentTicketZoom with some agent names.\n - 2013-06-14 Fixed bug#[9524](http://bugs.otrs.org/show_bug.cgi?id=9524) - Uninitialized  value after step2 in TicketAccountedTime stats.\n - 2013-06-14 Fixed bug#[9511](http://bugs.otrs.org/show_bug.cgi?id=9511) - ProcessManagement: No SLA verification after Service update.\n - 2013-06-14 Fixed bug#[9513](http://bugs.otrs.org/show_bug.cgi?id=9513) - Frontend::ToolBarModule###11-CICSearchCustomerUser does not use settings of Frontend::Agent::CustomerSearch.\n - 2013-06-13 Fixed bug#[8719](http://bugs.otrs.org/show_bug.cgi?id=8719) - PasswordMin2Lower2UpperCharacters problem.\n\n#3.2.8 2013-06-18\n - 2013-06-13 Fixed bug#[9464](http://bugs.otrs.org/show_bug.cgi?id=9464) - Unique email address only checked during CustomerUserAdd, not during Update.\n - 2013-06-11 Fixed bug#[9497](http://bugs.otrs.org/show_bug.cgi?id=9497) - AgentTicketSearch logs a Uninitialized error message in Oracle.\n - 2013-06-11 Fixed bug#[9451](http://bugs.otrs.org/show_bug.cgi?id=9451) - Possible to select invalid autoresponses for queues.\n - 2013-06-11 Fixed bug#[9516](http://bugs.otrs.org/show_bug.cgi?id=9516) - Field names for account signups in some languages are broken.\n - 2013-06-08 Fixed bug#[9501](http://bugs.otrs.org/show_bug.cgi?id=9501) - Missing values in GenericAgent ticket list for tickets without articles.\n - 2013-06-08 Fixed bug#[9447](http://bugs.otrs.org/show_bug.cgi?id=9447) - Empty line at PDF search result with process tickets (0 article).\n - 2013-06-07 Fixed bug#[9409](http://bugs.otrs.org/show_bug.cgi?id=9409) - If HTTP_USER_AGENT isn't set, error on Layout.pm.\n - 2013-06-07 Fixed bug#[9454](http://bugs.otrs.org/show_bug.cgi?id=9454) - Use of uninitialized value error in AgentTicketForward.pm, undef Next ticket state.\n - 2013-06-07 Fixed bug#[9493](http://bugs.otrs.org/show_bug.cgi?id=9493) - Use of uninitialized value error in AgentTicketPhone.pm on Ticket Split action.\n - 2013-06-06 Fixed bug#[9503](http://bugs.otrs.org/show_bug.cgi?id=9503) - no connection header in soap responses.\n - 2013-06-06 Improved permission checks in AgentTicketWatcher.\n - 2013-06-04 Fixed bug#[7143](http://bugs.otrs.org/show_bug.cgi?id=7143) - \"SFTP.\" gets rewritten to \"Shttp://FTP.\"\n - 2013-06-04 Fixed bug#[9488](http://bugs.otrs.org/show_bug.cgi?id=9488) - Use of uninitialized value at OutofOffice setting in AgentPreferences.\n - 2013-05-31 Fixed bug#[9479](http://bugs.otrs.org/show_bug.cgi?id=9479) - ProcessManagement: Article and CustomerID should not be Hidden.\n - 2013-05-31 Fixed bug#[9491](http://bugs.otrs.org/show_bug.cgi?id=9491) - GenericAgent job update with dynamic fields sends Uninitialized value error.\n - 2013-05-31 Fixed bug#[9456](http://bugs.otrs.org/show_bug.cgi?id=9456) - Empty 'Dropdown' dynamic field value of GenericAgent job wont get used and stored.\n - 2013-05-31 Follow-up fix for bug#[9245](http://bugs.otrs.org/show_bug.cgi?id=9245) - Added translatable titles for transition buttons.\n - 2013-05-31 Updated Russian translation, thanks to Alexey Gluhov!\n - 2013-05-31 Fixed bug#[9245](http://bugs.otrs.org/show_bug.cgi?id=9245) - Improve user interaction on transitions.\n - 2013-05-31 Fixed bug#[9284](http://bugs.otrs.org/show_bug.cgi?id=9284) - Improve user experience of accordion widget.\n - 2013-05-31 Fixed bug#[9105](http://bugs.otrs.org/show_bug.cgi?id=9105) - Opening reply view crashes browsers on iPad 3.\n - 2013-05-28 Fixed caching key and inquiry of dynamic field value in HistoryTicketGet function (TE).\n - 2013-05-28 Added a new parameter to disable default sorting of statistics.\n - 2013-05-28 Added '-a reinstall-all' feature to bin/otrs.PackageManager.pl.\n - 2013-05-27 Fixed bug#[9476](http://bugs.otrs.org/show_bug.cgi?id=9476) - AgentTicketZoom: translation of \"split\" into german language.\n - 2013-05-27 Fixed bug#[9459](http://bugs.otrs.org/show_bug.cgi?id=9459) - Creating a new transition action coming from the transition path view produces errors.\n - 2013-05-27 Fixed bug#[9458](http://bugs.otrs.org/show_bug.cgi?id=9458) - Double click on Transition opens error message.\n - 2013-05-24 Fixed bug#[9241](http://bugs.otrs.org/show_bug.cgi?id=9241) - Article ignored in article search index if body is almost empty.\n    The StaticDB fulltext search backend is now fully configurable.\n - 2013-05-24 Fixed bug#[9462](http://bugs.otrs.org/show_bug.cgi?id=9462) - Package Management page timeout due to HTTPS disabled on Proxy connections.\n - 2013-05-22 Fixed bug#[9408](http://bugs.otrs.org/show_bug.cgi?id=9408) - A value of Dest inputed in CustomerTicketMessage isn't validated.\n - 2013-05-21 Fixed bug#[9418](http://bugs.otrs.org/show_bug.cgi?id=9418) - Incorrect decoding email subject and From token.\n - 2013-05-21 Fixed bug#[9448](http://bugs.otrs.org/show_bug.cgi?id=9448) - AgentTicketPhoneInbound/Outbound inserts Agent's personal email address into article \"from\".\n - 2013-05-17 Fixed bug#[9445](http://bugs.otrs.org/show_bug.cgi?id=9445) - ProcessManagement: Error Message: Need ServiceID or Name!.\n - 2013-05-17 Fixed bug#[9439](http://bugs.otrs.org/show_bug.cgi?id=9439) - ProcessManagement: Customer field value is not remembered after server error is detected.\n\n#3.2.7 2013-05-21\n - 2013-05-17 Updated Package Manager, that will ensure that packages to be installed\n    meet the quality standards of OTRS Group. This is to guarantee that your package\n    wasn\u2019t modified, which may possibly harm your system or have an influence on the\n    stability and performance of it. All independent package contributors will have\n    to conduct a check of their Add-Ons by OTRS Group in order to take full advantage\n    of the OTRS package verification.\n - 2013-05-16 Fixed bug#[9387](http://bugs.otrs.org/show_bug.cgi?id=9387) - Error in a condition with dynamic fields in NotificationEvent.\n - 2013-05-14 Fixed bug#[9286](http://bugs.otrs.org/show_bug.cgi?id=9286) - Ticket::ChangeOwnerToEveryone isn't functional, After a AJAX Load the setting is ignored.\n - 2013-05-14 Fixed bug#[7518](http://bugs.otrs.org/show_bug.cgi?id=7518) - Escalation Notify by not working properly (follow-up fix).\n - 2013-05-14 Fixed bug#[9410](http://bugs.otrs.org/show_bug.cgi?id=9410) - SessionID isn't added to URL when using ajax customer search without cookies active.\n - 2013-05-14 Fixed bug#[9419](http://bugs.otrs.org/show_bug.cgi?id=9419) - Process Management: List of available dialog fields lists Responsible\n    even if feature is inactive.\n - 2013-05-11 Fixed bug#[9246](http://bugs.otrs.org/show_bug.cgi?id=9246) - ProcessManagement: TranstionAction error messages not sufficient enough.\n - 2013-05-07 Fixed bug#[9345](http://bugs.otrs.org/show_bug.cgi?id=9345) - OTRS exceeds 998 character limit in References Line of E-Mail Header.\n - 2013-05-07 Fixed bug#[7478](http://bugs.otrs.org/show_bug.cgi?id=7478) - Got an external answer to an internal mail.\n - 2013-05-07 Improved permission checks in AgentTicketPhone.\n - 2013-05-02 Fixed bug#[9360](http://bugs.otrs.org/show_bug.cgi?id=9360) - DynamicField Names shown in CSV output.\n - 2013-05-01 Fixed bug#[8880](http://bugs.otrs.org/show_bug.cgi?id=8880) - No inline image shown if HTML email contains 'base' tag.\n - 2013-04-30 Fixed bug#[9374](http://bugs.otrs.org/show_bug.cgi?id=9374) - Add more functions to rich text editor.\n - 2013-04-30 Fixed postmaster filter edit screen layout.\n - 2013-04-30 Fixed bug#[9358](http://bugs.otrs.org/show_bug.cgi?id=9358) - Date/Time DynamicFields are broken in CustomerInterface.\n - 2013-04-30 Fixed bug#[9384](http://bugs.otrs.org/show_bug.cgi?id=9384) - Problem with Method ServiceParentsGet of ServiceObject.\n - 2013-04-29 Fixed bug#[9371](http://bugs.otrs.org/show_bug.cgi?id=9371) - UserSalutation field in LDAP.pm fix.\n - 2013-04-29 Fixed bug#[8997](http://bugs.otrs.org/show_bug.cgi?id=8997) - Owner warnings translatable.\n - 2013-04-29 Fixed bug#[9375](http://bugs.otrs.org/show_bug.cgi?id=9375) - Extra colon at the end of recipient lists in forwarded message.\n - 2013-04-29 Updated Polish translation file, thanks to ib.pl!\n - 2013-04-29 Fixed bug#[9040](http://bugs.otrs.org/show_bug.cgi?id=9040) - CustomerTicketPrint crashes when no attributes are configured to be printed.\n - 2013-04-26 Added UnitTest for case sensivity parameter of customer databases\n - 2013-04-23 Fixed bug#[9362](http://bugs.otrs.org/show_bug.cgi?id=9362) - cannot redirect to external url containing & caracter.\n - 2013-04-23 Fixed bug#[7856](http://bugs.otrs.org/show_bug.cgi?id=7856) - Statistics only use non archived tickets.\n - 2013-04-23 Fixed bug#[9072](http://bugs.otrs.org/show_bug.cgi?id=9072) - Reply to email-internal includes customer users email in Cc. field.\n - 2013-04-22 Fixed bug#[9349](http://bugs.otrs.org/show_bug.cgi?id=9349) - SQL warnings on Oracle DB if more than 4k characters are sent to the database.\n - 2013-04-22 Fixed bug#[9353](http://bugs.otrs.org/show_bug.cgi?id=9353) - Customer Ticket Zoom shows owner login name instead of full name.\n - 2013-04-18 Fixed bug#[8599](http://bugs.otrs.org/show_bug.cgi?id=8599) - Problem with \"[]\" characters in name of attachment file.\n\n#3.2.6 2013-04-23\n - 2013-04-18 Fixed bug#[9310](http://bugs.otrs.org/show_bug.cgi?id=9310) - AgentTicketProcess has the same shortkey \"o\" as AgentTicketQueue.\n - 2013-04-18 Fixed bug#[9280](http://bugs.otrs.org/show_bug.cgi?id=9280) - Database upgrade procedure problems when upgrading database to 3.2 that\n    has been upgraded from 2.4 previously.\n - 2013-04-16 Updated Hungarian translation, thanks to Csaba N\u00e9meth!\n - 2013-04-15 Added Malay translation.\n - 2013-04-12 Fixed bug#[9264](http://bugs.otrs.org/show_bug.cgi?id=9264) - Dynamic ticket text fields are displayed with value \"1\" if enabled\n    and displayed by default in ticket search screen.\n - 2013-04-12 Fixed bug#[8960](http://bugs.otrs.org/show_bug.cgi?id=8960) - AgentTicketSearch.pm SearchProfile problem.\n - 2013-04-12 Fixed bug#[9328](http://bugs.otrs.org/show_bug.cgi?id=9328) - Notification event does not work on process ticket.\n - 2013-04-11 Fixed broken process import.\n - 2013-04-11 Follow-up for bug#[9215](http://bugs.otrs.org/show_bug.cgi?id=9215) - Process import always creates new process.\n    The overwrite optionwas removed again because of logical problems.\n - 2013-04-09 Added parameter \"-t dbonly\" to backup.pl to only backup the database\n    (if files are backed up otherwise).\n - 2013-04-09 Fixed bug#[9302](http://bugs.otrs.org/show_bug.cgi?id=9302) - Process Management: Misleading description for activities without dialogs.\n - 2013-04-08 Fixed bug#[9182](http://bugs.otrs.org/show_bug.cgi?id=9182) - Customer Search Function -\\> If you go into a ticket and go back you got not the search results\n - 2013-04-08 Fixed bug#[9297](http://bugs.otrs.org/show_bug.cgi?id=9297) - customer information widget losing data\n - 2013-04-08 Fixed bug#[9244](http://bugs.otrs.org/show_bug.cgi?id=9244) - Process Management: Transitions on Activities does not scale well\n - 2013-04-08 Fixed bug#[9287](http://bugs.otrs.org/show_bug.cgi?id=9287) - Process Management: strange placement of target point for new transitions.\n - 2013-04-08 Fixed bug#[9294](http://bugs.otrs.org/show_bug.cgi?id=9294) - Process Management: Activity hover window not displayed properly if\n    activity is very close to bottom canvas border.\n - 2013-04-08 Fixed bug#[9314](http://bugs.otrs.org/show_bug.cgi?id=9314) - Process Management: Unexpected redirection after creating a new process.\n - 2013-04-08 Fixed bug#[9312](http://bugs.otrs.org/show_bug.cgi?id=9312) - LinkObject permission check problem.\n\n#3.2.5 2013-04-09\n - 2013-04-04 Fixed bug#[9313](http://bugs.otrs.org/show_bug.cgi?id=9313) - No such file or directory in otrs.SetPermission.pl.\n - 2013-04-04 Updated Brazilian Portugese translation, thanks to Alexandre!\n - 2013-04-04 Fixed bug#[9306](http://bugs.otrs.org/show_bug.cgi?id=9306) - Auto Response fails when ticket is created from Customer Interface and\n    last name contains a comma.\n - 2013-04-04 Fixed bug#[9308](http://bugs.otrs.org/show_bug.cgi?id=9308) - Impossible to create a new stats report with absolute period.\n - 2013-04-03 Fixed bug#[9307](http://bugs.otrs.org/show_bug.cgi?id=9307) - Packages not compatible with 3.2.4 listed as available in Package Manager.\n - 2013-04-02 Fixed bug#[9198](http://bugs.otrs.org/show_bug.cgi?id=9198) - Linked search with fulltext AND additional attributes.\n - 2013-03-28 Fixed bug#[9298](http://bugs.otrs.org/show_bug.cgi?id=9298) - version.pm not found on perl 5.8.x.\n - 2013-03-27 Fixed bug#[9295](http://bugs.otrs.org/show_bug.cgi?id=9295) - Article dynamic field is not searchable.\n - 2013-03-27 Fixed bug#[9288](http://bugs.otrs.org/show_bug.cgi?id=9288) - DynamicField Content overwrites TicketTitle for Links from Dynamic Fields.\n\n#3.2.4 2013-04-02\n - 2013-03-21 Fixed bug#[9279](http://bugs.otrs.org/show_bug.cgi?id=9279) - Inaccurate German translation of ,,Priority Update''.\n - 2013-03-21 Fixed bug#[9257](http://bugs.otrs.org/show_bug.cgi?id=9257) - No notifications to agents with out-of-office set but period not reached.\n - 2013-03-21 Fixed bug#[1689](http://bugs.otrs.org/show_bug.cgi?id=1689) - Allow bin/SetPermissions.sh to follow symlink for OTRS_HOME.\n - 2013-03-21 Fixed bug#[8981](http://bugs.otrs.org/show_bug.cgi?id=8981) - Tickets reopened via customer interface are locked to invalid agents.\n - 2013-03-19 Fixed bug#[9242](http://bugs.otrs.org/show_bug.cgi?id=9242) - ProcessManagement: TransitionAction TicketStateSet does not allow to set a pending time.\n - 2013-03-19 Fixed bug#[9247](http://bugs.otrs.org/show_bug.cgi?id=9247) - ProcessManagement: Transitions Actions always use actual user permissions.\n - 2013-03-18 Fixed bug#[9254](http://bugs.otrs.org/show_bug.cgi?id=9254) - No Sorting in Accordion for Activties, Activity Dialog, Transitions and Transition Actions.\n - 2013-03-18 Improved permission checks in LinkObject.\n - 2013-03-18 Fixed bug#[9252](http://bugs.otrs.org/show_bug.cgi?id=9252) - Type of linking displayed wrong and also updated wrong in transitions.\n - 2013-03-18 Fixed bug#[9255](http://bugs.otrs.org/show_bug.cgi?id=9255) - Email is sent to customer, when agents email address is similar\n    but not identical.\n - 2013-03-18 Updated Norwegian translation, thanks to Espen Stefansen.\n - 2013-03-18 Updated Czech translation, thanks to Peter Pruchnerovic.\n - 2013-03-18 Fixed bug#[9215](http://bugs.otrs.org/show_bug.cgi?id=9215) - Process import always creates new process. Now there is a new option\n    \"overwrite existing entities\" for the process import.\n - 2013-03-15 Fixed bug#[4716](http://bugs.otrs.org/show_bug.cgi?id=4716) - Logout page should use ProductName instead of 'OTRS'.\n - 2013-03-15 Fixed bug#[9249](http://bugs.otrs.org/show_bug.cgi?id=9249) - Warning not to use internal articles in customer frontend\n    shown on agent interface also.\n - 2013-03-14 Fixed bug#[9191](http://bugs.otrs.org/show_bug.cgi?id=9191) - When ticket types are restricted, first available type is selected\n    in AgentTicketActionCommon-based screens.\n - 2013-03-12 Updated Chinese translation, thanks to Never Min!\n - 2013-03-12 Updated Turkish translation, thanks to Sefer Simsek / Network Group!\n\n#3.2.3 2013-03-12\n - 2013-03-05 Fixed bug#[9221](http://bugs.otrs.org/show_bug.cgi?id=9221) - Got error log message when customer user take activity dialog operation in customer interface.\n - 2013-03-04 Fixed bug#[8727](http://bugs.otrs.org/show_bug.cgi?id=8727) - Webservices can be created with an invalid/incomplete configuration.\n - 2013-03-02 Fixed bug#[9214](http://bugs.otrs.org/show_bug.cgi?id=9214) - IE10: impossible to open links from rich text articles.\n - 2013-03-01 Fixed bug#[9218](http://bugs.otrs.org/show_bug.cgi?id=9218) - Cannot use special characters in TicketHook.\n - 2013-02-28 Fixed bug#[9056](http://bugs.otrs.org/show_bug.cgi?id=9056) - Unused SysConfig option Ticket::Frontend::CustomerInfoQueueMaxSize.\n - 2013-02-28 Added the possibility to use ticket data in dynamic fields links.\n - 2013-02-28 Fixed bug#[8764](http://bugs.otrs.org/show_bug.cgi?id=8764) - Added @ARGV encoding to command line scripts.\n - 2013-02-28 Fixed bug#[9189](http://bugs.otrs.org/show_bug.cgi?id=9189) - Executing DBUpdate-to-3.2.pl as root user leaves file permissions on ZZZAuto.pm in incorrect state.\n - 2013-02-27 Fixed bug#[9196](http://bugs.otrs.org/show_bug.cgi?id=9196) - ProcessManagement: Internal Server Error for \"Ended\" process zoom in Customer Interface.\n - 2013-02-26 Fixed bug#[9202](http://bugs.otrs.org/show_bug.cgi?id=9202) - ProcessManagement: ActivityDialog Admin GUI should not let internal article types for Customer Interface.\n - 2013-02-26 Fixed bug#[9193](http://bugs.otrs.org/show_bug.cgi?id=9193) - Process Management: (First) article filled in in customer frontend causes \"Need ArticleTypeID!\" error.\n - 2013-02-26 Follow-up fix for bug#[8533](http://bugs.otrs.org/show_bug.cgi?id=8533) apache will not start on Fedora.\n - 2013-02-26 Fixed bug#[9172](http://bugs.otrs.org/show_bug.cgi?id=9172) - Generic Interface does not work on IIS 7.0.\n - 2013-02-25 Updated French language translation, thanks to Rapha\u00ebl Doursenaud!\n - 2013-02-23 Updated Hungarian language translation, thanks to N\u00e9meth Csaba!\n - 2013-02-21 Updated Czech language translation, thanks to Katerina Bubenickova!\n - 2013-02-20 Fixed bug#[8865](http://bugs.otrs.org/show_bug.cgi?id=8865) - Additional empty data column in statistics CSV-Output.\n - 2013-02-19 Fixed bug#[4056](http://bugs.otrs.org/show_bug.cgi?id=4056) - Delete S/MIME Certificate via AdminSMIME does not update CustomerUserPreferences.\n - 2013-02-18 Fixed bug#[9128](http://bugs.otrs.org/show_bug.cgi?id=9128) - OTRS uses internal sub of Locale::Codes::Country which causes trouble for\n    Debian.\n - 2013-02-18 Fixed bug#[9173](http://bugs.otrs.org/show_bug.cgi?id=9173) - ProcessManagement: Very right aligned activities can't display assigned dialogs.\n - 2013-02-18 Fixed bug#[9174](http://bugs.otrs.org/show_bug.cgi?id=9174) - Process Management: Save / Save and finish / Cancel inside process diagram canvas.\n - 2013-02-15 Fixed bug#[9155](http://bugs.otrs.org/show_bug.cgi?id=9155) - SMIME: DefaultSignKey not selected in AJAX refreshes.\n - 2013-02-15 Fixed bug#[9164](http://bugs.otrs.org/show_bug.cgi?id=9164) - ProcessManagement: Default values of assigned hidden activity dialogs not considered.\n - 2013-02-15 Fixed bug#[7312](http://bugs.otrs.org/show_bug.cgi?id=7312) - otrs.SetPermissions.pl does not take scripts in $OTRSHOME/Custom into account.\n - 2013-02-15 Fixed bug#[7237](http://bugs.otrs.org/show_bug.cgi?id=7237) - Better Shortening Logic in Ascii2Html.\n - 2013-02-15 Fixed bug#[9139](http://bugs.otrs.org/show_bug.cgi?id=9139) - Context sensitive search in CIC doesn't open CIC search.\n - 2013-02-14 Fixed bug#[9087](http://bugs.otrs.org/show_bug.cgi?id=9087) - ProcessManagement: AgentTicketProcess doesn't show multi level queue structure.\n - 2013-02-14 Follow-up fix for bug#[9158](http://bugs.otrs.org/show_bug.cgi?id=9158) - ProcessManagement: Priority field error message: Need Priority or PriorityID!.\n\n#3.2.2 2013-02-19\n - 2013-02-14 Fixed bug#[9171](http://bugs.otrs.org/show_bug.cgi?id=9171) - ProcessManagement: AgentTicketProcess lists all state types.\n - 2013-02-14 Follow-up fix for bug#[4513](http://bugs.otrs.org/show_bug.cgi?id=4513) - Password and Username are added\n    automatically by the browser in AdminUser dialog.\n - 2013-02-14 Updated Spanish translation, thanks to Enrique Mat\u00edas S\u00e1nchez!\n - 2013-02-14 Fixed bug#[9157](http://bugs.otrs.org/show_bug.cgi?id=9157) - ProcessManagement: Activity labels not aligned well.\n - 2013-02-14 Fixed bug#[9156](http://bugs.otrs.org/show_bug.cgi?id=9156) - ProcessManagement: Transition Condition Fields cannot be removed correctly.\n - 2013-02-14 Fixed bug#[9160](http://bugs.otrs.org/show_bug.cgi?id=9160) - ProcessManagement: Path dialog looses data after editing transition actions.\n - 2013-02-13 Fixed bug#[9159](http://bugs.otrs.org/show_bug.cgi?id=9159) - ProcessManagement: Date fields are activated by default.\n - 2013-02-13 Added display restriction for field \"CustomerID\" in Process Management Activity\n    Dialogs to only be shown as mandatory or not shown.\n - 2013-02-13 Fixed bug#[9150](http://bugs.otrs.org/show_bug.cgi?id=9150) - Process Management: CustomerUser field not indicated as required field.\n - 2013-02-13 Fixed bug#[9158](http://bugs.otrs.org/show_bug.cgi?id=9158) - ProcessManagement: Priority field error message: Need Priority or PriorityID!\n - 2013-02-13 Fixed bug#[9162](http://bugs.otrs.org/show_bug.cgi?id=9162) - Setting the start day of the week for the datepicker to Sunday does not work.\n - 2013-02-13 Fixed bug#[9127](http://bugs.otrs.org/show_bug.cgi?id=9127) - Problem with CustomerPanelOwnSelection.\n - 2013-02-12 Added new Canadian French translation, thanks to Evans Bernier / CDE Solutions Informatique!\n - 2013-02-12 Fixed bug#[5492](http://bugs.otrs.org/show_bug.cgi?id=5492) - Need Template or TemplateFile Param error message after activating AgentInfo.\n - 2013-02-12 Fixed bug#[9138](http://bugs.otrs.org/show_bug.cgi?id=9138) - Unused X-OTRS-Info header in SysConfig.\n - 2013-02-11 Fixed bug#[9117](http://bugs.otrs.org/show_bug.cgi?id=9117) - CustomerUpdate history entry added even if customer user has not\n    been updated.\n - 2013-02-11 Fixed bug#[9006](http://bugs.otrs.org/show_bug.cgi?id=9006) - Labels and values are misaligned.\n - 2013-02-11 Fixed bug#[9132](http://bugs.otrs.org/show_bug.cgi?id=9132) - Button to create new ticket appears in Customer Interface although\n    ticket creation is disabled.\n - 2013-02-08 Added Patch/Workaround for CPAN MIME::Parser v5.503 that prevent the trimming of empty\n    lines that lead to inconsistencies between signed and actual email contents\n - 2013-02-08 Fixed bug#[9146](http://bugs.otrs.org/show_bug.cgi?id=9146) - Signed SMIME mails with altered content shows a not clear message.\n - 2013-02-08 Fixed bug#[9145](http://bugs.otrs.org/show_bug.cgi?id=9145) - SMIME sign verification errors are not displayed in TicketZoom.\n - 2013-02-07 Fixed bug#[9140](http://bugs.otrs.org/show_bug.cgi?id=9140) - Postmaster Filter for empty subjects does not work.\n - 2013-02-07 Fixed bug#[8024](http://bugs.otrs.org/show_bug.cgi?id=8024) - WYSIWYG editor does not get correct language information.\n - 2013-02-07 Fixed bug#[9135](http://bugs.otrs.org/show_bug.cgi?id=9135) - Can't upgrade databases that have been changed from MyISAM \\> InnoDB.\n - 2013-02-07 Fixed bug#[9125](http://bugs.otrs.org/show_bug.cgi?id=9125) - AgentTicketSearch dialog does not expand when choosing more search criteria.\n - 2013-02-06 Fixed bug#[9118](http://bugs.otrs.org/show_bug.cgi?id=9118) - TicketDynamicFieldUpdate history entry added even if value has not\n    been updated.\n - 2013-02-06 Fixed bug#[9134](http://bugs.otrs.org/show_bug.cgi?id=9134) - Sidebar columns on some screens don't support more than one widget.\n - 2013-02-06 Fixed bug#[4662](http://bugs.otrs.org/show_bug.cgi?id=4662) - Unable to save article with '0' as only content.\n - 2013-02-05 Fixed bug#[9068](http://bugs.otrs.org/show_bug.cgi?id=9068) - ProcessManagement: Entity Names not shown in Deletion Dialogs.\n - 2013-02-05 Fixed bug#[9121](http://bugs.otrs.org/show_bug.cgi?id=9121) - Filenames with Unicode NFD are incorrectly reported as NFC by Main::DirectoryRead().\n - 2013-02-05 Fixed bug#[9126](http://bugs.otrs.org/show_bug.cgi?id=9126) - ProcessManagement: both article fields must be filled.\n - 2013-02-05 Added bug#[1197](http://bugs.otrs.org/show_bug.cgi?id=1197) - Feature enhancement: Link tickets at \"Follow up\".\n - 2013-02-05 Fixed bug#[9108](http://bugs.otrs.org/show_bug.cgi?id=9108) - Check for opened/closed tickets not working with Ticket::SubjectFormat = Right.\n - 2013-02-02 Made Web Installer reload after writing Config.pm under PerlEx.\n - 2013-02-01 Added restriction to TransitionAction TicketArticleCrete to do not allow the creation\n    email article types.\n - 2013-02-01 Fixed bug#[9112](http://bugs.otrs.org/show_bug.cgi?id=9112) - ProcessManagment: TransitionAction TicketActicleCreate should not\n    accept email type articles.\n - 2013-02-01 Fixed bug#[8839](http://bugs.otrs.org/show_bug.cgi?id=8839) - DateChecksum followup doesn't get correctly SystemID.\n - 2013-01-31 Fixed bug#[9111](http://bugs.otrs.org/show_bug.cgi?id=9111) - ProcessManagement: Empty Service or SLA causes an error.\n - 2013-01-31 Fixed bug#[9077](http://bugs.otrs.org/show_bug.cgi?id=9077) - Process Management: TicketType not available as field for activity.\n    dialogs.\n - 2013-01-31 Updated Finnish translation, thanks to Niklas Lamp\u00e9n!\n - 2013-01-31 Updated Italian translation, thanks to Massimo Bianchi!\n - 2013-01-31 Updated Portugese (Brazilian) translation, thanks to Alexandre!\n - 2013-01-31 Updated Russian translation, thanks to Vadim Goncharov!\n - 2013-01-31 Added script otrs.MySQLInnoDBSwitch.pl to switch all database tables from MyISAM\n    to InnoDB on the fly.\n - 2013-01-31 Added bin/otrs.ExecuteDatabaseXML.pl to directly execute Database DDL XML files on\n    the OTRS database.\n - 2013-01-30 Fixed bug#[9097](http://bugs.otrs.org/show_bug.cgi?id=9097) - ProcessManagement: Uninitialized value after Ticket is created if\n    notification event is triggered.\n - 2013-01-30 Fixed bug#[9101](http://bugs.otrs.org/show_bug.cgi?id=9101) - Not possible to create dropdown with autocomplete attribute.\n - 2013-01-29 Fixed bug#[9095](http://bugs.otrs.org/show_bug.cgi?id=9095) - ProcessManagement: Service field does not show default services.\n - 2013-01-29 Fixed bug#[9096](http://bugs.otrs.org/show_bug.cgi?id=9096) - All services list is shown instead of only default services.\n - 2013-01-29 Fixed bug#[9088](http://bugs.otrs.org/show_bug.cgi?id=9088) - ProcessManagement: Service field is not displayed in\n    AgentTicketProcess.\n - 2013-01-29 Updated CPAN module MIME::Tools to version 5.503, keeping an OTRS patch in MIME::Words.\n - 2013-01-29 Fixed bug#[9092](http://bugs.otrs.org/show_bug.cgi?id=9092) - Problem running DBUpdate-to-3.2.mysql.sql on InnoDB.\n - 2013-01-28 Fixed bug#[9078](http://bugs.otrs.org/show_bug.cgi?id=9078) - Fields of type \"email\" loosing style format.\n - 2013-01-28 Fixed bug#[9090](http://bugs.otrs.org/show_bug.cgi?id=9090) - ProcessManagement popup dialogs cannot be saved by pressing Enter.\n - 2013-01-28 Fixed bug#[8470](http://bugs.otrs.org/show_bug.cgi?id=8470) - otrs.GenericAgent.pl reports: Can't open\n    '/opt/otrs/otrs\\_vemco/var/tmp/CacheFileStorable/DynamicField/f3b7e10730fb6c9cab5ae0e7f7e034f3'.\n - 2013-01-28 Fixed bug#[7678](http://bugs.otrs.org/show_bug.cgi?id=7678) - SecureMode does not do what it should.\n - 2013-01-28 Fixed bug#[5158](http://bugs.otrs.org/show_bug.cgi?id=5158) - Unsafe UTF8 handling in Encode module.\n - 2013-01-28 Fixed bug#[8959](http://bugs.otrs.org/show_bug.cgi?id=8959) - AgentTicketResponsible Responsible Changed not checked/forced.\n - 2013-01-28 Fixed bug#[9089](http://bugs.otrs.org/show_bug.cgi?id=9089) - Activities and transitions with HTML special characters are\n    not displayed correctly.\n - 2013-01-28 Added new translation for Spanish (Colombia), thanks to John Edisson Ortiz Roman!\n - 2013-01-28 Updated Finnish translation, thanks to Niklas Lamp\u00e9n!\n\n#3.2.1 2013-01-29\n - 2013-01-24 Updated Dutch translation.\n - 2013-01-24 Added test to check if there are problems with the MySQL storage engine used\n    in OTRS tables to bin/otrs.CheckModules.pl.\n - 2013-01-23 Fixed bug#[9082](http://bugs.otrs.org/show_bug.cgi?id=9082) - Process Management: Wrong popup redirect handling to Process Path\n    from TransitionAction.\n - 2013-01-22 Fixed bug#[9065](http://bugs.otrs.org/show_bug.cgi?id=9065) - Process Management: Service and SLA fields are always shown in ActivityDialogs.\n - 2013-01-21 Fixed bug#[9054](http://bugs.otrs.org/show_bug.cgi?id=9054) - Link Object deletes all links under certain conditions.\n - 2013-01-21 Fixed bug#[9059](http://bugs.otrs.org/show_bug.cgi?id=9059) - Process Management: transition actions module field too short.\n - 2013-01-21 Fixed bug#[9066](http://bugs.otrs.org/show_bug.cgi?id=9066) - ProcessManagement: edit links not displayed in popups.\n - 2013-01-21 Fixed an issue where default values would be used erroneously for ActivityDialog\n    fields where a value was already present.\n - 2013-01-21 Fixed bug#[9052](http://bugs.otrs.org/show_bug.cgi?id=9052) - Accordion is reset after submitting a popup.\n - 2013-01-21 Fixed bug#[9067](http://bugs.otrs.org/show_bug.cgi?id=9067) - New process ticket: state selection empty after AJAX reload.\n\n#3.2.0.rc1 2013-01-22\n - 2013-01-18 Fixed bug#[8944](http://bugs.otrs.org/show_bug.cgi?id=8944) - do not backup the cache.\n - 2013-01-17 Updated Finnish translation, thanks to Niklas Lamp\u00e9n!\n - 2013-01-16 Fixed bug#[8929](http://bugs.otrs.org/show_bug.cgi?id=8929) - Fix problems with empty ticket search results while\n    Ticket::Frontend::AgentTicketSearch###ExtendedSearchCondition is inactive.\n - 2013-01-16 Fixed bug#[9057](http://bugs.otrs.org/show_bug.cgi?id=9057) - Generating a PDF with bin/otrs.GenerateStats.pl produces lots\n    of warnings.\n - 2013-01-15 Fixed bug#[9050](http://bugs.otrs.org/show_bug.cgi?id=9050) - Process Management: ticket title disappears.\n - 2013-01-15 Fixed bug#[9049](http://bugs.otrs.org/show_bug.cgi?id=9049) - Process Management: process with a starting AD for CustomerInterface\n    only breaks in AgentInterface.\n - 2013-01-15 Fixed problems with YAML parsing long lines. Added new module dependency YAML::XS.\n - 2013-01-15 Updated CPAN module Mozilla::CA to version 20130114.\n - 2013-01-15 Updated CPAN module MailTools to version 2.12.\n - 2013-01-15 Updated CPAN module Locale::Codes to version 3.24.\n - 2013-01-15 Updated CPAN module Digest::SHA::PurePerl to version 5.81.\n - 2013-01-15 Updated CPAN module Authen::SASL to version 2.16.\n - 2013-01-14 Fixed bug#[9044](http://bugs.otrs.org/show_bug.cgi?id=9044) - ProcessManagement: Transition is duplicated on redraw.\n - 2013-01-14 Fixed bug#[9035](http://bugs.otrs.org/show_bug.cgi?id=9035) - Event Based mails, triggered by a process ticket, have no sender.\n - 2013-01-14 Fixed bug#[9043](http://bugs.otrs.org/show_bug.cgi?id=9043) - ProcessManagement: Transitions without EndActivity are not correctly removed.\n - 2013-01-14 Fixed bug#[9045](http://bugs.otrs.org/show_bug.cgi?id=9045) - Process Management: Activity Dialog field order lost.\n - 2013-01-14 Fixed bug#[9042](http://bugs.otrs.org/show_bug.cgi?id=9042) - Add X-Spam-Score to Ticket.xml.\n - 2013-01-14 Fixed bug#[9047](http://bugs.otrs.org/show_bug.cgi?id=9047) - HistoryTicketGet caches info on disk directly.\n - 2013-01-11 The Phone Call Outbound and Inbound buttons where moved from the Article menu to\n    the Ticket menu in the TicketZoom screen for the agent interface, in order to be able to\n    register phone calls on tickets without articles.\n - 2013-01-11 Fixed bug#[9036](http://bugs.otrs.org/show_bug.cgi?id=9036) - Process# hook does not register an incoming email to the process.\n - 2013-01-11 The names of the TransitionActions were changed to make them more consistent.\n    Please check your processes if you have already defined some which use TransitionActions.\n    Also, the parameter names of the TransitionAction TicketQueueSet and TicketTypeSet were changed.\n - 2013-01-11 Fixed bug#[4513](http://bugs.otrs.org/show_bug.cgi?id=4513) - Password and Username are added automatically by the browser\n    in AdminUser dialog.\n - 2013-01-11 Fixed bug#[8923](http://bugs.otrs.org/show_bug.cgi?id=8923) - Alert message shown, if parent window is reloaded while\n     bulk action popup is open.\n - 2013-01-11 Fixed bug#[9037](http://bugs.otrs.org/show_bug.cgi?id=9037) - TransitionAction TicketQueueSet parameters does not follow same name\n    convention as others.\n - 2013-01-11 Fixed bug#[9032](http://bugs.otrs.org/show_bug.cgi?id=9032) - TransitionAction module name notation.\n - 2013-01-10 Fixed bug#[9029](http://bugs.otrs.org/show_bug.cgi?id=9029) - Switching on Queue in AgentTicketActionCommon will always result in\n    a move.\n - 2013-01-09 Fixed bug#[9031](http://bugs.otrs.org/show_bug.cgi?id=9031) - ProcessManagement Transition condition with regexp fails.\n - 2013-01-09 Fixed bug#[9030](http://bugs.otrs.org/show_bug.cgi?id=9030) - Wrong handling of Invalid YAML in Scheduler Tasks.\n - 2013-01-07 Fixed bug#[8966](http://bugs.otrs.org/show_bug.cgi?id=8966) - Cc and Bcc lists are hidden if one entry is deleted.\n - 2013-01-07 Fixed bug#[8993](http://bugs.otrs.org/show_bug.cgi?id=8993) - OTRS JavaScript does not handle session timeouts gracefully.\n - 2013-01-07 Updated Polish translation, thanks to Pawel @ ib.pl!\n - 2013-01-04 Fixed bug#[9015](http://bugs.otrs.org/show_bug.cgi?id=9015) - otrs.CheckModules.pl reports module as not installed\n    if prerequisite is missing.\n - 2013-01-04 Follow-up fix for bug#[8805](http://bugs.otrs.org/show_bug.cgi?id=8805) - Cron missing as RPM dependency on Red Hat Enterprise Linux.\n    Changed dependency on `anacron` to `vixie-cron` on RHEL5.\n - 2013-01-04 Removed CPAN module Net::IMAP::Simple::SSL, this can be handled by\n    Net::IMAP::Simple now.\n - 2013-01-04 Updated CPAN module Net::IMAP::Simple to version 1.2034.\n - 2013-01-04 Configured `mod_deflate` in bundled Apache configuration file.\n\n#3.2.0.beta5 2013-01-08\n - 2013-01-02 Fixed bug#[9020](http://bugs.otrs.org/show_bug.cgi?id=9020) - Generic Ticket Connector does not support attachments with\n    ContentType without charset.\n - 2013-01-02 Fixed bug#[8545](http://bugs.otrs.org/show_bug.cgi?id=8545) - Attachment download not possible if pop up of another action is open.\n - 2012-12-27 Fixed bug#[8990](http://bugs.otrs.org/show_bug.cgi?id=8990) - Autocompletion returns stale requests.\n - 2012-12-20 Fixed bug#[9009](http://bugs.otrs.org/show_bug.cgi?id=9009) - Empty Multiselect Dynamic Fields provokes an error.\n - 2012-12-19 Fixed bug#[8999](http://bugs.otrs.org/show_bug.cgi?id=8999) - Upcoming event with duplicate dates not displayed in Dashboard.\n - 2012-12-17 Fixed bug#[8457](http://bugs.otrs.org/show_bug.cgi?id=8457) - Error if accessing AgentTicketSearch from AgentTicketPhone in IE8.\n - 2012-12-17 Fixed bug#[8589](http://bugs.otrs.org/show_bug.cgi?id=8589) - Bulk-Action not possible for single ticket.\n - 2012-12-17 Fixed bug#[8695](http://bugs.otrs.org/show_bug.cgi?id=8695) - Table head of Customer Ticket History does not resize on window resize.\n - 2012-12-13 Fixed bug#[8533](http://bugs.otrs.org/show_bug.cgi?id=8533) - Apache will not start if you use mod\\_perl on Fedora 16 or 17.\n - 2012-12-12 Fixed bug#[8950](http://bugs.otrs.org/show_bug.cgi?id=8950) - \"Sign\" and \"crypt\" are displayed two times in AgentTicketCompose.\n - 2012-12-12 Added RPM specfiles for RHEL5 and RHEL6.\n - 2012-12-12 Fixed bug#[8977](http://bugs.otrs.org/show_bug.cgi?id=8977) - ArticleStorageFS fails after upgrade beta3 \\>\\> beta4.\n - 2012-12-11 Fixed bug#[5644](http://bugs.otrs.org/show_bug.cgi?id=5644) - In Article Zoom, Article Filter: Reset Icon is not showing \"reset\" action. Search for better icon.\n - 2012-12-11 Updated json2.js.\n - 2012-12-11 Added TicketList statistic option for historic states and historic state types.\n - 2012-12-11 Updated QUnit to version 1.10.0.\n - 2012-12-11 Updated StacktraceJS to version 0.4.\n - 2012-12-11 Updated jQuery Validate to version 1.10.\n - 2012-12-11 Added support for limiting result sets in the SQL Server DB Driver.\n - 2012-12-10 Fixed bug#[8974](http://bugs.otrs.org/show_bug.cgi?id=8974) - Event Based Notification does not populate REALNAME with\n    Customer User data.\n - 2012-12-10 Fixed bug#[8928](http://bugs.otrs.org/show_bug.cgi?id=8928) - Link in Groups and Roles screens shows agent login, not name.\n - 2012-12-10 Upgraded CKEditor to version 4.0.\n\n#3.2.0.beta4 2012-12-11\n - 2012-12-05 Fixed bug#[7697](http://bugs.otrs.org/show_bug.cgi?id=7697) - Creating queues: sub-queues after level 4 not shown in dropdown box.\n - 2012-12-03 Fixed bug#[8933](http://bugs.otrs.org/show_bug.cgi?id=8933) - ArticleStorageInit permission check problem.\n - 2012-12-03 Various improvements in CustomerInformationCenter and ProcessManagement.\n - 2012-12-03 Fixed bug#[8963](http://bugs.otrs.org/show_bug.cgi?id=8963) - CIC Company attributes not marked as visible are displayed in\n    Company Dashlet.\n - 2012-11-30 Updated Estonian language translation, thanks to Margus V\u00e4rton!\n - 2012-11-29 Fixed bug#[8949](http://bugs.otrs.org/show_bug.cgi?id=8949) - CIC can't open in a new tab in Firefox 17.\n - 2012-11-29 Fixed bug#[8948](http://bugs.otrs.org/show_bug.cgi?id=8948) - CIC Dashboard Filters shows error, customer\\_id will be lost.\n - 2012-11-29 Fixed bug#[8763](http://bugs.otrs.org/show_bug.cgi?id=8763) - Added charset conversion for customer companies.\n - 2012-11-29 Fixed bug#[1970](http://bugs.otrs.org/show_bug.cgi?id=1970) - Email attachments of type .msg (Outlook-Message) are converted.\n - 2012-11-28 Fixed bug#[8955](http://bugs.otrs.org/show_bug.cgi?id=8955) - Init script might fail on SUSE.\n - 2012-11-24 Fixed bug#[8936](http://bugs.otrs.org/show_bug.cgi?id=8936) - Ticket close date is empty when ticket is created in closed state.\n - 2012-11-24 Fixed bug#[8942](http://bugs.otrs.org/show_bug.cgi?id=8942) - Dates show UTC offset on systems with Timezone support activated.\n - 2012-11-23 Fixed problem with out of office feature in dashboard module DashboardUserOnline.\n\n#3.2.0.beta3 2012-11-27\n - 2012-11-22 Fixed bug#[8937](http://bugs.otrs.org/show_bug.cgi?id=8937) - \"$\" should be escaped in interpolated strings when javascript is meant.\n - 2012-11-20 Fixed bug#[8932](http://bugs.otrs.org/show_bug.cgi?id=8932) - DB backend CustomerName function is prefixed with login.\n - 2012-11-20 Fixed bug#[8896](http://bugs.otrs.org/show_bug.cgi?id=8896) - ProcessManagement GUI Transition arrows overlaps.\n    To achieve this, the rendering engine of the ProcessManagement admin GUI was replaced\n    by jsplumb.\n - 2012-11-19 Fixed bug#[8919](http://bugs.otrs.org/show_bug.cgi?id=8919) - Customer interface search results: ticket can only be accessed\n    via ticket number and subject.\n - 2012-11-19 Fixed bug#[8809](http://bugs.otrs.org/show_bug.cgi?id=8809) - CustomerTicketOverview shows Queue and Owner fields hardcoded.\n - 2012-11-19 Fixed another possible race condition in the new DB session backend.\n - 2012-11-19 Fixed bug#[8850](http://bugs.otrs.org/show_bug.cgi?id=8850) - CustomerTicketOverview - MouseOver Age isn't always correct.\n - 2012-11-17 Follow up fix for added feature Ideascale#934 / bug#[1682](http://bugs.otrs.org/show_bug.cgi?id=1682) - Add\n    timescale for Week in Stats.\n - 2012-11-18 Fixed bug#[8927](http://bugs.otrs.org/show_bug.cgi?id=8927) - OTRS under mod\\_perl generates core dumps when\n    used on SysLog log backend.\n - 2012-11-17 Fixed bug#[8926](http://bugs.otrs.org/show_bug.cgi?id=8926) - RoleList and GroupList cache is not reset when groups or\n    roles are added or updated.\n - 2012-11-17 Updated Dutch translation.\n - 2012-11-16 Fixed a bug where addresses were lost in AgentTicketCompose after adding\n    or removing an attachment.\n - 2012-11-15 Added feature to edit Dynamic Fields in customer follow ups.\n - 2012-11-15 Updated CPAN module CGI to version 3.63.\n - 2012-11-15 Fixed a bug where articles would display an incorrect creation date.\n - 2012-11-15 Added feature to search on Company Name in CustomerID field in Customer\n    Information Center.\n - 2012-11-15 Fixed bug#[8921](http://bugs.otrs.org/show_bug.cgi?id=8921) - Responsible selection has empty option after a selection is\n    made in AgentTicketActionCommon based screens.\n - 2012-11-15 Fixed bug#[8920](http://bugs.otrs.org/show_bug.cgi?id=8920) - Owner selection is set to empty list after a selection is made\n    in AgentTicketActionCommon based screens.\n - 2012-11-14 Fixed bug#[8868](http://bugs.otrs.org/show_bug.cgi?id=8868) - Event Based Notification problem saving 'text' Dynamic Fields.\n - 2012-11-13 Fixed bug#[8910](http://bugs.otrs.org/show_bug.cgi?id=8910) - AjaxUpdate of DynamicFields in CustomerFrontend.\n - 2012-11-12 Fixed bug#[8915](http://bugs.otrs.org/show_bug.cgi?id=8915) - CustomerCompany List returns extra spaces.\n - 2012-11-12 Added feature to hide archived tickets in the customer interface.\n - 2012-11-12 Updated CPAN module CGI to version 3.62.\n - 2012-11-09 Fixed bug#[8914](http://bugs.otrs.org/show_bug.cgi?id=8914) - Syntax error in hash loop in TicketGet operation.\n\n#3.2.0.beta2 2012-11-13\n - 2012-11-07 Fixed bug#[8749](http://bugs.otrs.org/show_bug.cgi?id=8749) - CustomerFrontend: missing dynamicfield in  search results.\n - 2012-11-07 Fixed bug#[8908](http://bugs.otrs.org/show_bug.cgi?id=8908) - ProcessManagement import config feature doesn't works if\n    dynamic fields are included.\n - 2012-11-07 Fixed bug#[8907](http://bugs.otrs.org/show_bug.cgi?id=8907) - ProcessManagement StartActivityDialog Owner and Responsible fields\n    produces an error.\n - 2012-11-07 Fixed bug#[8906](http://bugs.otrs.org/show_bug.cgi?id=8906) - ProcessManagement Activities without AtivityDialogs leads to a\n    internal error in TicketZoom.\n - 2012-11-07 Fixed handling of scalar refs in the new DB based session backend.\n - 2012-11-07 Fixed race condition in new DB based session backend.\n - 2012-11-07 Changed default setting for `Ticket::Frontend::ZoomRichTextForce`.\n    Now OTRS will display HTML emails as HTML by default, even if RichText is not\n    activated for composing new messages. This helps for devices which cannot\n    use RichText for editing, but are able to display HTML content, such as certain\n    iPads.\n - 2012-11-07 Fixed bug#[8897](http://bugs.otrs.org/show_bug.cgi?id=8897) - Wrong ProcessManagement Transition config format.\n - 2012-11-06 Fixed bug#[8873](http://bugs.otrs.org/show_bug.cgi?id=8873) - Bad example of customization of \"static\" dynamic fields in\n    AgentTicketOverviewSmall.\n - 2012-11-06 Fixed bug#[8901](http://bugs.otrs.org/show_bug.cgi?id=8901) - ProcessManagement No article created on StartActivityDialog.\n - 2012-11-06 Fixed bug#[8890](http://bugs.otrs.org/show_bug.cgi?id=8890) - ProcessManagement Undefined EntityID error on\n    AdminProcessManagementTransition edit.\n - 2012-11-06 Fixed bug#[8899](http://bugs.otrs.org/show_bug.cgi?id=8899) - ProcessManagement Articles should not have ArticleType email.\n - 2012-11-06 Fixed bug#[8898](http://bugs.otrs.org/show_bug.cgi?id=8898) - ProcessManagement GUI error on popup close (without change).\n - 2012-11-06 Fixed bug#[8895](http://bugs.otrs.org/show_bug.cgi?id=8895) - ProcessManagement Transition Path JS error on Transition Dbl Click.\n - 2012-11-06 Fixed bug#[3419](http://bugs.otrs.org/show_bug.cgi?id=3419) - Kernel/Config/GenericAgent.pm and utf8.\n - 2012-11-06 Fixed a typo in the auto-generated process configuration cache.\n - 2012-11-05 Updated Swedish translation, thanks to Andreas Berger!\n - 2012-11-02 Fixed bug#[8791](http://bugs.otrs.org/show_bug.cgi?id=8791) - IMAPTLS fails with some Microsoft Exchange servers.\n - 2012-10-31 Fixed bug#[8430](http://bugs.otrs.org/show_bug.cgi?id=8430) - Dynamic field management: selection dropdowns\n    aren't translated.\n - 2012-10-30 Fixed bug#[8872](http://bugs.otrs.org/show_bug.cgi?id=8872) - Need a scalar reference! error on File uploads.\n - 2012-10-30 Updated CPAN module MailTools to version 2.11.\n - 2012-10-30 Updated CPAN module Mozilla::CA to version 20120823.\n - 2012-10-30 Updated CPAN module Locale::Codes to version 3.23.\n - 2012-10-30 Updated CPAN module HTTP::Message to version 6.06.\n - 2012-10-30 Updated CPAN module Digest::SHA::PurePerl to version 5.72.\n - 2012-10-30 Updated CPAN module Class::Inspector to version 1.28.\n - 2012-10-30 Updated CPAN module CGI to version 3.60.\n - 2012-10-30 Updated CPAN module Authen::SASL to version 2.16.\n\n#3.2.0.beta1 2012-10-30\n - 2012-11-19 Fixed bug#[8919](http://bugs.otrs.org/show_bug.cgi?id=8919) - Customer interface search results: ticket can only be accessed\n    via ticket number and subject.\n - 2012-10-25 Fixed bug#[8864](http://bugs.otrs.org/show_bug.cgi?id=8864) - Increasing the column size of a varchar column does not work on oracle\n    under certain conditions.\n - 2012-10-24 Fixed bug#[8062](http://bugs.otrs.org/show_bug.cgi?id=8062) - Optimize images in all defualt skins.\n - 2012-10-24 Fixed bug#[8861](http://bugs.otrs.org/show_bug.cgi?id=8861) - Ticket History overlaid calender choice function.\n - 2012-10-24 Fixed bug#[8818](http://bugs.otrs.org/show_bug.cgi?id=8818) - Slash in attachment filename breaks webinterface.\n - 2012-10-24 Added feature to limit the numbers of cuncurrent working agents and customers.\n - 2012-10-24 Refactored session management to improve performance and scalability.\n - 2012-10-23 Fixed bug#[8566](http://bugs.otrs.org/show_bug.cgi?id=8566) - Cannot download attachment if filename has character #.\n - 2012-10-23 Fixed bug#[8541](http://bugs.otrs.org/show_bug.cgi?id=8541) - Tooltip hides customer field in AgentTicketPhoneNew.\n - 2012-10-23 Fixed bug#[8833](http://bugs.otrs.org/show_bug.cgi?id=8833) - Article table in TicketZoom does not scroll correctly.\n - 2012-10-23 Fixed bug#[8685](http://bugs.otrs.org/show_bug.cgi?id=8685) - Cannot use address book / customer / spell check in phone / email if cookies are disabled.\n - 2012-10-23 Fixed bug#[8861](http://bugs.otrs.org/show_bug.cgi?id=8861) - Placeholder container for multiple customer fields are being displayed though being empty.\n - 2012-10-23 Fixed bug#[8673](http://bugs.otrs.org/show_bug.cgi?id=8673) - Richtext-Editor popups broken on Customer-Interface.\n - 2012-10-23 Upgraded CKEditor to version 3.6.5.\n - 2012-10-22 Fixed bug#[8840](http://bugs.otrs.org/show_bug.cgi?id=8840) - Verifying signature of inline-pgp-signed email with utf8 characters\n    fails even though signatures without such characters get verified.\n - 2012-10-22 Fixed bug#[8746](http://bugs.otrs.org/show_bug.cgi?id=8746) - Unequal usage for ticket ACL match and limitation settings for\n    dynamic fields.\n - 2012-10-22 Fixed bug#[7121](http://bugs.otrs.org/show_bug.cgi?id=7121) - Upgrading OTRS using RPM will not upgrade changed ITSM files.\n - 2012-10-22 Removed obsolete and slow cache backend FileRaw in favor of the better FileStorable.\n    Config setting is updated automatically if needed.\n - 2012-10-22 Fixed bug#[1423](http://bugs.otrs.org/show_bug.cgi?id=1423) - Trim OTRS fields before processing.\n    Kernel::System::Web::Request::GetParam()/GetArray() now always perform whitespace trimming\n    by default. Use Raw =\\> 1 to get the unchanged data if you need it.\n - 2012-10-20 Fixed bug#[8678](http://bugs.otrs.org/show_bug.cgi?id=8678) - 'WidgetAction Toggle' is always shown as 'Expanded' when nesting elements\n - 2012-10-20 Fixed bug#[8378](http://bugs.otrs.org/show_bug.cgi?id=8378) - Validation fails if the ID of the element contains a dot (.) or a\n    colon (:)\n - 2012-10-17 Added possibility to select the queue in AgentTicketActionCommon based\n    screens.\n - 2012-10-17 Fixed bug#[8842](http://bugs.otrs.org/show_bug.cgi?id=8842) - Stats outputs DynamicField keys, not values.\n - 2012-10-16 Added unit test for SOAP::Lite \"Incorrect parameter\" error.\n - 2012-10-16 Fixed \"Incorrect parameter\" error in SOAP::Lite 0.715 on any RPC with more than 2\n    parameters.\n - 2012-10-15 Added bug#[8815](http://bugs.otrs.org/show_bug.cgi?id=8815) - List each SQL column at most once in INSERT statement in\n    CustomerUser Backend, thanks to Michael Kromer!\n - 2012-10-15 Removed insecure storage of the last password of the user as unsalted plain md5. OTRS no\n    longer checks if a user enters a different password than the previous one.\n - 2012-10-12 Fixed bug#[8807](http://bugs.otrs.org/show_bug.cgi?id=8807) - Company database with ForeignDB settings show empty columns.\n - 2012-10-10 Implemented redirect to the TicketZoom if Search result returns only one ticket.\n - 2012-10-08 Fixed bug#[7274](http://bugs.otrs.org/show_bug.cgi?id=7274) - Ticket QueueView sorts by priority on first page but subsequent\n    pages sort incorrectly by Age.\n - 2012-10-08 Fixed bug#[8802](http://bugs.otrs.org/show_bug.cgi?id=8802) - Update to 3.1 leaves freetext columns in article\\_search.\n - 2012-09-28 Fixed bug#[8794](http://bugs.otrs.org/show_bug.cgi?id=8794) - Depreciation warnings in web server error log for\n    AdminEmail.pm when using perl \\>= 5.16.\n - 2012-09-27 Fixed bug#[8551](http://bugs.otrs.org/show_bug.cgi?id=8551) - Missing DynamicFields values in TemplateGenerator and\n    NotificationEvent (only show keys).\n - 2012-09-26 Added support for new SysConfig settings type \"DateTime\" (Date and DateTime).\n - 2012-09-24 Fixed bug#[5098](http://bugs.otrs.org/show_bug.cgi?id=5098) - OTRS does not verify that SMIME signatures match email senders.\n - 2012-09-21 Added new feature \"SwitchToCustomer\". The feature can be enabled\n    with the new sysconfig setting \"SwitchToCustomer\".\n - 2012-09-13 Added possibility to search for tickets based on escalation time.\n - 2012-08-10 Added bug#[7183](http://bugs.otrs.org/show_bug.cgi?id=7183) - Usage of HTML5 Form field 'email'.\n - 2012-09-10 Added caching to Kernel::System::CustomerCompany.\n - 2012-09-07 Updated FSF address.\n - 2012-08-20 Fixed bug#[3463](http://bugs.otrs.org/show_bug.cgi?id=3463) - \\<OTRS\\_TICKET\\_EscalationDestinationIn\\> incorrect.\n - 2012-08-20 Fixed bug#[5954](http://bugs.otrs.org/show_bug.cgi?id=5954) - Ticket::Frontend::OverviewSmall###ColumnHeader has\n    no effect on customer frontend.\n - 2012-08-17 HTML mails will now be displayed in the restricted zone in IE.\n    This means that more restrictive security settings will apply, such as blocking of\n    JavaScript content by default.\n - 2012-08-16 Added possibility to expand DynamicFields by default in ticket search\n    via config option Ticket::Frontend::AgentTicketSearch###DynamicField.\n - 2012-08-14 Fixed bug#[8679](http://bugs.otrs.org/show_bug.cgi?id=8679) - OTRS changes \"UTF-8\" to \"utf-8\" in displayed emails.\n - 2012-08-10 Fixed bug#[5240](http://bugs.otrs.org/show_bug.cgi?id=5240) - Don't update read only fields in the CustomerUser DB.\n - 2012-08-03 Improved HTML mail display filtering. SVG content is now filtered out because\n    it is potentially dangerous.\n - 2012-08-03 Generated HTML mails now always have the HTML5 doctype.\n    HTML mail content to be displayed in OTRS now always gets the HTML5 doctype\n    if it does not have a doctype yet. The HTML5 doctype is compatible to HTML4 and\n    causes the browsers to render the content in standards mode, which is safer.\n - 2012-08-02 Improved HTML mail display filtering.\n    Simple Microsoft CSS expressions are now filtered out.\n - 2012-07-31 Removed unused script otrs.XMLMaster.pl.\n - 2012-07-31 Changed the behaviour of HTML mail display filtering.\n    By default, all inline/active content (such as script, object, applet or embed tags)\n    will be stripped. If there are external images in mails from the customer, they will be stripped too,\n    but a message will be shown allowing the user to reload the page showing the external images.\n - 2012-07-31 HTML mails will now be displayed in an HTML5 sandbox iframe.\n    This means that modern browsers will not execute plugins or JavaScript on the content\n    any more. Currently, this is supported by Chrome and Safari, but IE10 and FF16 are also\n    planned to support this.\n - 2012-07-30 Switched the OTRS frontend to use the HTML5 doctype.\n - 2012-07-23 Added object check in the event handler mechanism.\n - 2012-07-16 Updated CPAN module Apache2::Reload to version 0.12.\n - 2012-07-16 Updated CPAN module LWP::UserAgent to version 6.04.\n - 2012-07-16 Updated CPAN module YAML to version 0.84.\n - 2012-07-16 Updated CPAN module URI to version 1.60.\n - 2012-07-16 Updated CPAN module Mail::Address to version 2.09.\n - 2012-07-16 Updated CPAN module SOAP::Lite to version 0.715.\n - 2012-07-16 Updated CPAN module Mozilla::CA to version 20120309.\n - 2012-07-16 Updated CPAN module Local::Codes to version 3.22.\n - 2012-07-16 Updated CPAN module Encode::Locale to version 1.03.\n - 2012-07-16 Updated CPAN module Digest::SHA::PurePerl to version 5.71.\n - 2012-07-16 Updated CPAN module Class::Inspector to version 1.27.\n - 2012-07-16 Fixed bug#[8616](http://bugs.otrs.org/show_bug.cgi?id=8616) - Spell Checker does not work using IE9.\n - 2012-07-05 Added the ability to hide the Article Type from TicketActionCommon-based screens\n    which can be helpful to fit more data in the browser window.\n - 2012-07-04 The customer web interface now fully supports AJAX and ACLs.\n    It now requires JavaScript and can no longer be used with Internet Explorer 6 or earlier versions.\n - 2012-07-03 Added new feature to remove seen flags and ticket watcher information of\n    archived tickets. Use the config settings Ticket::ArchiveSystem::RemoveSeenFlags and\n    Ticket::ArchiveSystem::RemoveTicketWatchers to control if this data is removed when\n    a ticket is being archived (active by default).\n    Archived tickets will now always be shown as 'seen' by the agent.\n - 2012-06-26 Improved cache performance with many cache files.\n - 2012-06-26 Removed unneeded columns from the ticket table.\n - 2012-06-21 Added bin/otrs.TicketDelete.pl script to delete tickets.\n - 2012-06-21 Fixed bug#[8596](http://bugs.otrs.org/show_bug.cgi?id=8596) - user/group/role data updated unnecessarily on LDAP agent sync.\n - 2012-06-19 Reduced the number of database calls for the article flags in AgentTicketZoom.\n - 2012-06-18 Removed unneeded indices from the article\\_flags table.\n - 2012-06-08 Added feature SMIME certificate read.\n - 2012-05-25 Fixed bug#[8522](http://bugs.otrs.org/show_bug.cgi?id=8522) - Multiple recipient feature is missing in AgentTicketForward.\n - 2012-05-25 Added template list to all output filter config to improve performance.\n - 2012-05-24 Added feature IdeaScale#925 - possibility to place customized DTL files in\n    Custom/Kernel/Output/HTML, so that they override the system's default DTL files just like\n    it already works for Perl files.\n - 2012-05-22 Fixed bug#[8442](http://bugs.otrs.org/show_bug.cgi?id=8442) - Can not submit tickets in customer interface if Queue selection is\n    disabled and no Default queue is specified.\n - 2012-05-21 Added feature Ideascale#72 / bug#[5471](http://bugs.otrs.org/show_bug.cgi?id=5471) - Out-of-Office dashboard widget.\n - 2012-05-14 Added feature Ideascale#934 / bug#[1682](http://bugs.otrs.org/show_bug.cgi?id=1682) - Add timescale for Week in Stats.\n - 2012-05-14 Added feature Ideascale#896 - Have the ability to set the default ticket type\n    or hide the ticket type in the Customer Interface for new tickets.\n - 2012-05-07 Fixed bug#[8196](http://bugs.otrs.org/show_bug.cgi?id=8196) - Wrong article sender type for web service tickets.\n - 2012-04-27 Added bug#[8075](http://bugs.otrs.org/show_bug.cgi?id=8075) - Article Sender Type to be added to\n    NotificationEvent definitions.\n\n#3.1.14 2013-??-??\n - 2013-03-02 Fixed bug#[9214](http://bugs.otrs.org/show_bug.cgi?id=9214) - IE10: impossible to open links from rich text articles.\n - 2013-03-01 Fixed bug#[9218](http://bugs.otrs.org/show_bug.cgi?id=9218) - Cannot use special characters in TicketHook.\n - 2013-02-28 Fixed bug#[9056](http://bugs.otrs.org/show_bug.cgi?id=9056) - Unused SysConfig option Ticket::Frontend::CustomerInfoQueueMaxSize.\n - 2013-02-26 Follow-up fix for bug#[8533](http://bugs.otrs.org/show_bug.cgi?id=8533) apache will not start on Fedora.\n - 2013-02-26 Fixed bug#[9172](http://bugs.otrs.org/show_bug.cgi?id=9172) - Generic Interface does not work on IIS 7.0.\n - 2013-02-21 Updated Czech language translation, thanks to Katerina Bubenickova!\n - 2013-02-20 Fixed bug#[8865](http://bugs.otrs.org/show_bug.cgi?id=8865) - Additional empty data column in statistics CSV-Output.\n\n#3.1.13 2013-02-19\n - 2013-02-19 Fixed bug#[9128](http://bugs.otrs.org/show_bug.cgi?id=9128) - OTRS uses internal sub of Locale::Codes::Country which causes trouble for\n    Debian.\n - 2013-02-13 Fixed bug#[9162](http://bugs.otrs.org/show_bug.cgi?id=9162) - Setting the start day of the week for the datepicker to Sunday does not work.\n - 2013-02-13 Fixed bug#[9141](http://bugs.otrs.org/show_bug.cgi?id=9141) - Confused Columns in CustomerTicketSearch (ResultShort).\n - 2013-02-08 Fixed bug#[9146](http://bugs.otrs.org/show_bug.cgi?id=9146) - Signed SMIME mails with altered content shows a not clear message.\n - 2013-02-08 Fixed bug#[9145](http://bugs.otrs.org/show_bug.cgi?id=9145) - SMIME sign verification errors are not displayed in TicketZoom.\n - 2013-02-07 Fixed bug#[9140](http://bugs.otrs.org/show_bug.cgi?id=9140) - Postmaster Filter for empty subjects does not work.\n - 2013-02-05 Fixed bug#[9121](http://bugs.otrs.org/show_bug.cgi?id=9121) - Filenames with Unicode NFD are incorrectly reported as NFC by Main::DirectoryRead().\n - 2013-02-05 Fixed bug#[9108](http://bugs.otrs.org/show_bug.cgi?id=9108) - Check for opened/closed tickets not working with Ticket::SubjectFormat = Right.\n - 2013-02-01 Fixed bug#[8839](http://bugs.otrs.org/show_bug.cgi?id=8839) - DateChecksum followup doesn't get correctly SystemID.\n - 2013-01-31 Updated Russian translation, thanks to Vadim Goncharov!\n - 2013-01-30 Fixed bug#[9101](http://bugs.otrs.org/show_bug.cgi?id=9101) - Not possible to create dropdown with autocomplete attribute.\n - 2013-01-29 Fixed bug#[9096](http://bugs.otrs.org/show_bug.cgi?id=9096) - All services list is shown instead of only default services.\n - 2013-01-28 Fixed bug#[8470](http://bugs.otrs.org/show_bug.cgi?id=8470) - otrs.GenericAgent.pl reports: Can't open\n    '/opt/otrs/otrs\\_vemco/var/tmp/CacheFileStorable/DynamicField/f3b7e10730fb6c9cab5ae0e7f7e034f3'.\n - 2013-01-28 Added new translation for Spanish (Colombia), thanks to John Edisson Ortiz Roman!\n - 2013-01-21 Fixed bug#[9054](http://bugs.otrs.org/show_bug.cgi?id=9054) - Link Object deletes all links under certain conditions.\n - 2013-01-18 Fixed bug#[8944](http://bugs.otrs.org/show_bug.cgi?id=8944) - do not backup the cache.\n - 2013-01-16 Fixed bug#[9057](http://bugs.otrs.org/show_bug.cgi?id=9057) - Generating a PDF with bin/otrs.GenerateStats.pl produces lots\n    of warnings.\n - 2013-01-15 Fixed bug#[8929](http://bugs.otrs.org/show_bug.cgi?id=8929) - Fix problems with empty ticket search results while\n    Ticket::Frontend::AgentTicketSearch###ExtendedSearchCondition is inactive.\n - 2013-01-14 Fixed bug#[9042](http://bugs.otrs.org/show_bug.cgi?id=9042) - Add X-Spam-Score to Ticket.xml.\n - 2013-01-14 Fixed bug#[9047](http://bugs.otrs.org/show_bug.cgi?id=9047) - HistoryTicketGet caches info on disk directly.\n - 2013-01-11 Fixed bug#[8923](http://bugs.otrs.org/show_bug.cgi?id=8923) - Alert message shown, if parent window is reloaded while\n    bulk action popup is open.\n - 2013-01-09 Fixed bug#[9030](http://bugs.otrs.org/show_bug.cgi?id=9030) - Wrong handling of Invalid YAML in Scheduler Tasks.\n - 2013-01-07 Updated CKEditor to version 3.6.6.\n - 2013-01-07 Updated Polish translation, thanks to Pawel @ ib.pl!\n - 2013-01-04 Follow-up fix for bug#[8805](http://bugs.otrs.org/show_bug.cgi?id=8805) - Cron missing as RPM dependency on Red Hat Enterprise Linux.\n    Changed dependency on `anacron` to `vixie-cron` on RHEL5.\n - 2013-01-02 Fixed bug#[9020](http://bugs.otrs.org/show_bug.cgi?id=9020) - Generic Ticket Connector does not support attachments with\n    ContentType without charset.\n - 2013-01-02 Fixed bug#[8545](http://bugs.otrs.org/show_bug.cgi?id=8545) - Attachment download not possible if pop up of another action is open.\n - 2012-12-20 Fixed bug#[9009](http://bugs.otrs.org/show_bug.cgi?id=9009) - Empty Multiselect Dynamic Fields provokes an error.\n - 2012-12-17 Fixed bug#[8589](http://bugs.otrs.org/show_bug.cgi?id=8589) - Bulk-Action not possible for single ticket.\n - 2012-12-17 Fixed bug#[7198](http://bugs.otrs.org/show_bug.cgi?id=7198) - Broken repository selection width in Package Manager.\n - 2012-12-17 Fixed bug#[8457](http://bugs.otrs.org/show_bug.cgi?id=8457) - Error if accessing AgentTicketSearch from AgentTicketPhone in IE8.\n - 2012-12-17 Fixed bug#[8695](http://bugs.otrs.org/show_bug.cgi?id=8695) - Table head of Customer Ticket History does not resize on window resize.\n - 2012-12-13 Fixed bug#[8533](http://bugs.otrs.org/show_bug.cgi?id=8533) - Apache will not start if you use mod\\_perl on Fedora 16 or 17.\n - 2012-12-10 Fixed bug#[8974](http://bugs.otrs.org/show_bug.cgi?id=8974) - Event Based Notification does not populate REALNAME with\n    Customer User data.\n\n#3.1.12 2012-12-11\n - 2012-12-03 Fixed bug#[8933](http://bugs.otrs.org/show_bug.cgi?id=8933) - ArticleStorageInit permission check problem.\n - 2012-11-29 Fixed bug#[8763](http://bugs.otrs.org/show_bug.cgi?id=8763) - Please add charset conversion for customer companies.\n - 2012-11-29 Fixed bug#[1970](http://bugs.otrs.org/show_bug.cgi?id=1970) - Email attachments of type .msg (Outlook-Message) are converted.\n - 2012-11-28 Fixed bug#[8955](http://bugs.otrs.org/show_bug.cgi?id=8955) - Init script might fail on SUSE.\n - 2012-11-24 Fixed bug#[8936](http://bugs.otrs.org/show_bug.cgi?id=8936) - Ticket close date is empty when ticket is created in closed state.\n - 2012-11-19 Fixed bug#[8850](http://bugs.otrs.org/show_bug.cgi?id=8850) - CustomerTicketOverview - MouseOver Age isn't always correct.\n - 2012-11-14 Fixed bug#[8868](http://bugs.otrs.org/show_bug.cgi?id=8868) - Event Based Notification problem saving 'text' Dynamic Fields.\n - 2012-11-09 Fixed bug#[8914](http://bugs.otrs.org/show_bug.cgi?id=8914) - Syntax error in hash loop in TicketGet operation.\n - 2012-11-07 Fixed bug#[8749](http://bugs.otrs.org/show_bug.cgi?id=8749) - CustomerFrontend: missing dynamicfield in  search results.\n - 2012-11-06 Fixed bug#[8873](http://bugs.otrs.org/show_bug.cgi?id=8873) - Bad example of customization of \"static\" dynamic fields in\n    AgentTicketOverviewSmall.\n - 2012-11-02 Fixed bug#[8791](http://bugs.otrs.org/show_bug.cgi?id=8791) - IMAPTLS fails with some Microsoft Exchange servers.\n - 2012-10-24 Fixed bug#[8841](http://bugs.otrs.org/show_bug.cgi?id=8841) - Search for Dynamic Fields shows all tickets (on \"enter\" key pressed).\n - 2012-10-23 Fixed bug#[8862](http://bugs.otrs.org/show_bug.cgi?id=8862) - GI debugger GUI does not show SOAP XML tags correctly.\n - 2012-10-22 Fixed bug#[8859](http://bugs.otrs.org/show_bug.cgi?id=8859) - Package upgrade does not work if an installed testpackage\n    should be upgraded with a newer regular package.\n - 2012-10-20 Fixed bug#[8678](http://bugs.otrs.org/show_bug.cgi?id=8678) - 'WidgetAction Toggle' is always shown as 'Expanded' when nesting elements\n - 2012-10-20 Fixed bug#[8378](http://bugs.otrs.org/show_bug.cgi?id=8378) - Validation fails if the ID of the element contains a dot (.) or a\n    colon (:)\n - 2012-10-17 Fixed bug#[8847](http://bugs.otrs.org/show_bug.cgi?id=8847) - Inline PGP message description routine does not add any info, thanks\n    to IB Development Team.\n - 2012-10-17 Fixed bug#[8848](http://bugs.otrs.org/show_bug.cgi?id=8848) - AgentTicketEmail does not preserve PGP Signatures set if attachment\n    is added.\n - 2012-10-16 Fixed bug#[8149](http://bugs.otrs.org/show_bug.cgi?id=8149) - Wrong handling of subject when SubjectFormat=right.\n - 2012-10-12 Updated Polish translation, thanks to Pawel!\n - 2012-10-13 Fixed bug#[8820](http://bugs.otrs.org/show_bug.cgi?id=8820) - Service rcotrs restart fails because a race condition happens.\n - 2012-10-12 Fixed bug#[8819](http://bugs.otrs.org/show_bug.cgi?id=8819) - Syntax error (stop crontab command) in SuSE rc script.\n - 2012-10-12 Removed auto cleanup of expired sessions in CreateSessionID() to improve the scalability\n    of the hole system.\n - 2012-10-11 Fixed bug#[8667](http://bugs.otrs.org/show_bug.cgi?id=8667) - TicketSplit does not use QueueID of old Ticket for ACL Checking.\n - 2012-10-08 Fixed bug#[8780](http://bugs.otrs.org/show_bug.cgi?id=8780) - 508 Compliance: Text descriptions of \"Responsible Tickets\"\n    and \"Locked Tickets\" links are insufficient for screen reader users.\n - 2012-10-05 Fixed bug#[8812](http://bugs.otrs.org/show_bug.cgi?id=8812) - Encrypted email doesn't see properly in Outlook.\n - 2012-10-03 Fixed bug#[8214](http://bugs.otrs.org/show_bug.cgi?id=8214) - OTRS Init script on Red Hat fails to check scheduler.\n - 2012-10-03 Fixed bug#[8805](http://bugs.otrs.org/show_bug.cgi?id=8805) - Cron missing as RPM dependency on Red Hat Enterprise Linux.\n - 2012-09-28 Fixed bug#[7274](http://bugs.otrs.org/show_bug.cgi?id=7274) - Ticket QueueView sorts by priority on first page but subsequent\n    pages sort incorrectly by Age.\n - 2012-09-27 Fixed bug#[8792](http://bugs.otrs.org/show_bug.cgi?id=8792) - TriggerEscalationStopEvents logs as loglevel 'error'.\n - 2012-09-26 Fixed bug#[8743](http://bugs.otrs.org/show_bug.cgi?id=8743) - AgentTicketCompose.pm creates To, CC, BCC filelds without spaces after comma.\n - 2012-09-25 Fixed bug#[8606](http://bugs.otrs.org/show_bug.cgi?id=8606) - Escalation notifications should not be sent to agents who are set out-of-office.\n - 2012-09-25 Fixed bug#[8740](http://bugs.otrs.org/show_bug.cgi?id=8740) - backup.pl: insufficient handling of system() return values.\n - 2012-09-24 Fixed bug#[8622](http://bugs.otrs.org/show_bug.cgi?id=8622) - Storing a new GI Invoker or Operation with an existing name doesn't\n    complain anything.\n - 2012-09-24 Fixed bug#[8770](http://bugs.otrs.org/show_bug.cgi?id=8770) - AJAX Removes Default Options (follow-up fix).\n - 2012-09-21 Improved caching for Services and Service Lists.\n\n#3.1.11 2012-10-16\n - 2012-09-18 Fixed bug#[8770](http://bugs.otrs.org/show_bug.cgi?id=8770) - AJAX Removes Default Options.\n - 2012-09-17 Fixed bug#[7135](http://bugs.otrs.org/show_bug.cgi?id=7135) - Queueview, Ticketwindow closing on Refresh.\n - 2012-09-17 Fixed bug#[7294](http://bugs.otrs.org/show_bug.cgi?id=7294) - Ticket search window closes on background refresh of ticket queue.\n - 2012-09-13 Fixed bug#[8765](http://bugs.otrs.org/show_bug.cgi?id=8765) - Package Manager OS detection does not work.\n - 2012-09-13 Improved HTML security filter to better find javascript source URLs.\n - 2012-09-11 Fixed bug#[8575](http://bugs.otrs.org/show_bug.cgi?id=8575) - SSL protocol negotiation fails using SMTPTLS with recent\n    IO::Socket::SSL versions by upgrading TLS module to 0.20.\n - 2012-09-10 Fixed bug#[4475](http://bugs.otrs.org/show_bug.cgi?id=4475) - Extra double quote added to HTML links when using http-link field.\n - 2012-09-07 Improved caching of search results when the result set is empty.\n\n#3.1.10 2012-08-30\n - 2012-08-28 Improved HTML security filter to detect tag nesting.\n - 2012-08-24 Fixed bug#[8611](http://bugs.otrs.org/show_bug.cgi?id=8611) - Ticket count is wrong in QueueView.\n - 2012-08-21 Fixed bug#[8698](http://bugs.otrs.org/show_bug.cgi?id=8698) - Layout.pm only looks at first entry from\n    HTTP\\_ACCEPT\\_LANGUAGE to determine language.\n - 2012-08-21 Fixed bug#[8731](http://bugs.otrs.org/show_bug.cgi?id=8731) - LDAP group check returns wrong error.\n\n#3.1.9 2012-08-21\n - 2012-08-20 Fixed bug#[3463](http://bugs.otrs.org/show_bug.cgi?id=3463) - \\<OTRS\\_TICKET\\_EscalationDestinationIn\\> incorrect.\n - 2012-08-20 Fixed bug#[5954](http://bugs.otrs.org/show_bug.cgi?id=5954) - Ticket::Frontend::OverviewSmall###ColumnHeader has\n    no effect on customer frontend.\n - 2012-08-19 Fixed bug#[8584](http://bugs.otrs.org/show_bug.cgi?id=8584) Email address not added to recipients after collision/duplicate occurred.\n - 2012-08-17 HTML mails will now be displayed in an HTML5 sandbox iframe.\n    This means that modern browsers will not execute plugins or JavaScript on the content\n    any more. Currently, this is supported by Chrome and Safari, but IE10 and FF16 are also\n - 2012-08-17 HTML mails will now be displayed in the restricted zone in IE.\n    This means that more restrictive security settings will apply, such as blocking of\n    JavaScript content by default.\n - 2012-08-14 Fixed bug#[8360](http://bugs.otrs.org/show_bug.cgi?id=8360) Cannot search for tickets by dynamic fields via SOAP.\n - 2012-08-14 Fixed bug#[8697](http://bugs.otrs.org/show_bug.cgi?id=8697) Time related restrictions in TicketSearch operator (GenericInterface) not working.\n - 2012-08-14 Fixed bug#[8685](http://bugs.otrs.org/show_bug.cgi?id=8685) - Cannot use address book / customer / spell check in phone /\n    email if cookies are disabled. (partly fixed)\n - 2012-08-06 Fixed bug#[8682](http://bugs.otrs.org/show_bug.cgi?id=8682) - linking search conditions with && in\n    Customersearch is not working since Update from 3.1.1 to 3.1.7.\n - 2012-08-06 Fixed bug#[8683](http://bugs.otrs.org/show_bug.cgi?id=8683) - Cannot create dynamic field if cookies are disabled.\n - 2012-08-06 Fixed bug#[8672](http://bugs.otrs.org/show_bug.cgi?id=8672) - Search Profile can't have an ampersand in the name via\n    Toolbar module.\n - 2012-08-06 Fixed bug#[8619](http://bugs.otrs.org/show_bug.cgi?id=8619) - The UPGRADING file has incorrect patchlevel upgrade description.\n - 2012-08-03 Fixed bug#[6882](http://bugs.otrs.org/show_bug.cgi?id=6882) - Dummy field set first child to the very right in edit screen.\n - 2012-08-03 Fixed bug#[8680](http://bugs.otrs.org/show_bug.cgi?id=8680) - Bulk action fails if cookies are disabled.\n\n#3.1.8 2012-08-07\n - 2012-08-02 Updated Greek translation file, thanks to Maistros Stelios!\n - 2012-07-31 Improved robustness of HTML security filter: Detect masked UTF-7 \\< and \\> signs.\n - 2012-07-31 Added config option for ticket permission in the escalation view.\n - 2012-07-31 Fixed bug#[8675](http://bugs.otrs.org/show_bug.cgi?id=8675) - Kernel::GenericInterface::Mapping doesn't provide a ConfigObject.\n - 2012-07-20 Fixed bug#[8660](http://bugs.otrs.org/show_bug.cgi?id=8660) - Duplicate DF X-Headers in PostMaster module.\n - 2012-07-17 Fixed bug#[8647](http://bugs.otrs.org/show_bug.cgi?id=8647) - otrs.GenerateStats.pl \"-S\" option does not function.\n - 2012-07-16 Fixed bug#[8616](http://bugs.otrs.org/show_bug.cgi?id=8616) - Spell Checker does not work using IE9.\n - 2012-07-11 Fixed bug#[8568](http://bugs.otrs.org/show_bug.cgi?id=8568) - IMAPTLS - More than one email at one cron run will not work.\n - 2012-07-05 Added bug#[8627](http://bugs.otrs.org/show_bug.cgi?id=8627) - bin/otrs.AddQueue2StdResponse.pl Script to add standard responses\n    to queues, thanks to Oliver Skibbe @ CIPHRON GmbH.\n - 2012-07-04 Fixed bug#[8607](http://bugs.otrs.org/show_bug.cgi?id=8607) - otrs service fails in 3.1.7 on SUSE linux.\n - 2012-07-02 Increased cache TTL of some core modules to improve performance.\n - 2012-07-01 Fixed bug#[8620](http://bugs.otrs.org/show_bug.cgi?id=8620) - Using a default queue in the customer interface causes database\n    error on PostgresSQL if ACLs are used.\n - 2012-06-29 Fixed bug#[8618](http://bugs.otrs.org/show_bug.cgi?id=8618) - Inform and Involved Agents select boxes can not be resizable.\n - 2012-06-27 Fixed bug#[8558](http://bugs.otrs.org/show_bug.cgi?id=8558) - GenericInterface: response isn't valid UTF-8 content.\n - 2012-06-27 Added bug#[7039](http://bugs.otrs.org/show_bug.cgi?id=7039) - bin/otrs.AddService.pl script to add services from the command\n    line.\n - 2012-06-26 Made display of pending time consistent with escalation time display.\n - 2012-06-22 Fixed bug#[8230](http://bugs.otrs.org/show_bug.cgi?id=8230) - Invalid Challenge Token when creating ticket out of hyperlinks.\n\n#3.1.7 2012-06-26\n - 2012-06-18 Fixed bug#[8593](http://bugs.otrs.org/show_bug.cgi?id=8593) - Wrong description for 'Agent Notifications' on Admin interface.\n - 2012-06-18 Fixed bug#[8587](http://bugs.otrs.org/show_bug.cgi?id=8587) - Typo in French translation.\n - 2012-06-15 Fixed bug#[7879](http://bugs.otrs.org/show_bug.cgi?id=7879) - Broken Content-Type in forwarded attachments.\n - 2012-06-15 Fixed bug#[8583](http://bugs.otrs.org/show_bug.cgi?id=8583) - Unneeded complexity and performance degradation creating Service\n    Lists (Replacement for bug fix 7947).\n - 2012-06-15 Fixed bug#[8580](http://bugs.otrs.org/show_bug.cgi?id=8580) - SQL warnings for CustomerCompanyGet on some database backends.\n - 2012-06-14 Fixed bug#[8251](http://bugs.otrs.org/show_bug.cgi?id=8251) - Defect handling of invalid Queues in AJAX refresh.\n - 2012-06-14 Fixed bug#[8574](http://bugs.otrs.org/show_bug.cgi?id=8574) - Perl special variable $/ is changed and never restored.\n - 2012-06-14 Fixed bug#[8337](http://bugs.otrs.org/show_bug.cgi?id=8337) - Parentheses in user last\\_name / first\\_name are not sanitized (follow-up fix).\n - 2012-06-12 Fixed bug#[8575](http://bugs.otrs.org/show_bug.cgi?id=8575) - Assignment of users does not work for responsible or owner permission\n    in AgentTicketPhone.\n - 2012-06-12 Updated Hungarian translation, thanks to N\u00e9meth Csaba!\n - 2012-06-12 Updated Danish translation, thanks to Lars J\u00f8rgensen!\n - 2012-06-12 Fixed bug#[7872](http://bugs.otrs.org/show_bug.cgi?id=7872) - \"Created\" date in Large view is actually Last Updated date.\n - 2012-06-12 Fixed bug#[8457](http://bugs.otrs.org/show_bug.cgi?id=8457) -  Paste on a newly created ckeditor instance does not work on webkit based browsers.\n - 2012-06-11 Fixed bug#[8565](http://bugs.otrs.org/show_bug.cgi?id=8565) - Exportfile action from otrs.PackageManaget.pl is broken.\n - 2012-06-11 Fixed bug#[8458](http://bugs.otrs.org/show_bug.cgi?id=8458) - $OTRS\\_SCHEDULER -a start missing from /etc/init.d/otrs after update.\n - 2012-06-11 Fixed bug#[8139](http://bugs.otrs.org/show_bug.cgi?id=8139) - SUSE RPM has no dependency on Date::Format perl\n    module.\n - 2012-06-11 Fixed bug#[8544](http://bugs.otrs.org/show_bug.cgi?id=8544) - Hovering ticket title is still shortened.\n - 2012-06-07 Fixed bug#[8553](http://bugs.otrs.org/show_bug.cgi?id=8553) - Agent notifications can't be loaded from the database in some\n    scenarios.\n - 2012-06-05 Fixed bug#[8383](http://bugs.otrs.org/show_bug.cgi?id=8383) - Email address in 'To' field is lost after second reload if address is not in customer database.\n - 2012-06-06 Fixed bug#[8549](http://bugs.otrs.org/show_bug.cgi?id=8549) - \"Need User\" warning in error log when creating a ticket for a\n    customer not in DB.\n - 2012-06-05 Fixed bug#[8546](http://bugs.otrs.org/show_bug.cgi?id=8546) - LinkObject Type is not translated in ticket zoom.\n - 2012-06-04 Fixed bug#[7533](http://bugs.otrs.org/show_bug.cgi?id=7533) - SQL error if body contains only a picture.\n - 2012-06-04 Fixed bug#[2626](http://bugs.otrs.org/show_bug.cgi?id=2626) - Default Service does not work for \"unknown\" customers.\n    You can use the new setting \"Ticket::Service::Default::UnknownCustomer\" to specify if unknown customers\n    should also receive the default services.\n - 2012-06-04 Improved performance of TemplateGenerator.pm, thanks to Stelios Gikas!\n - 2012-05-31 Fixed bug#[8481](http://bugs.otrs.org/show_bug.cgi?id=8481) - Dynamic Fields lost after ticket move to another queue (using quick\n    move Dropdown).\n - 2012-05-31 Fixed bug#[8533](http://bugs.otrs.org/show_bug.cgi?id=8533) - Apache will not start using mod\\_perl on Fedora 16.\n\n#3.1.6 2012-06-05\n - 2012-05-30 Fixed bug#[8495](http://bugs.otrs.org/show_bug.cgi?id=8495) - Generic Agent TicketAction single value attributes should not let\n    multiple selection.\n - 2012-05-30 Fixed bug#[8378](http://bugs.otrs.org/show_bug.cgi?id=8378) - Validation fails if the ID of the element contains a dot (.) or a colon (:).\n - 2012-05-30 Fixed bug#[7532](http://bugs.otrs.org/show_bug.cgi?id=7532) - 'Field is required' message should be removed in RTE if content is added.\n - 2012-05-30 Fixed bug#[8514](http://bugs.otrs.org/show_bug.cgi?id=8514) - Long words in description break rendering of SysConfig items.\n - 2012-05-30 Fixed bug#[8537](http://bugs.otrs.org/show_bug.cgi?id=8537) - DynamicField caching issue.\n - 2012-05-29 Fixed bug#[8482](http://bugs.otrs.org/show_bug.cgi?id=8482) - Responsible of a ticket without responsible permission.\n - 2012-05-29 Fixed bug#[8485](http://bugs.otrs.org/show_bug.cgi?id=8485) - CustomerUser validation fails in GI Ticket Operations if there is no\n    ValidID in the mapping.\n - 2012-05-29 Fixed bug#[8529](http://bugs.otrs.org/show_bug.cgi?id=8529) - Fixed print to STDERR in ReferenceData.pm.\n - 2012-05-28 Fixed bug#[8427](http://bugs.otrs.org/show_bug.cgi?id=8427) - Dynamic Field Type Multiselect not shown in Notification (event).\n - 2012-05-27 Updated Norwegian translation, thanks to Lars Magnus Herland!\n - 2012-05-25 Fixed bug#[8189](http://bugs.otrs.org/show_bug.cgi?id=8189) - AgentTicketCompose: Pressing \"Enter\" will delete Attachment.\n - 2012-05-25 Fixed bug#[7844](http://bugs.otrs.org/show_bug.cgi?id=7844) - Escalation Event does not respect service calendar of ticket/queue.\n - 2012-05-25 Fixed bug#[8228](http://bugs.otrs.org/show_bug.cgi?id=8228) - Ticket::Frontend::AgentTicketNote###StateDefault doesn't work.\n - 2012-05-25 Added template list to all output filter config to improve performance.\n - 2012-05-25 Fixed bug#[8519](http://bugs.otrs.org/show_bug.cgi?id=8519) - Kernel::System::TicketSearch-\\>TicketSearch() doesn't properly handle\n     array references in SortBy parameter\n - 2012-05-24 Fixed bug#[7512](http://bugs.otrs.org/show_bug.cgi?id=7512) - AJAX-reload of SMIME-fields did not work properly.\n - 2012-05-24 Fixed bug#[8518](http://bugs.otrs.org/show_bug.cgi?id=8518) - Crypt on multiple recipients error replaces Crypt selection.\n - 2012-05-22 Fixed bug#[8164](http://bugs.otrs.org/show_bug.cgi?id=8164) - Internal articles are visible within customer ticket overview.\n - 2012-05-22 Fixed bug#[8506](http://bugs.otrs.org/show_bug.cgi?id=8506) - Customer email link won't open in popup as expected.\n - 2012-05-20 Fixed bug#[7844](http://bugs.otrs.org/show_bug.cgi?id=7844) - Escalation Event does not respect service calendar of ticket/queue.\n - 2012-05-18 Added otrs.RefreshSMIMEKeys.pl to refresh SMIME certificate filenames according to the\n    system's current OpenSSL version.\n - 2012-05-17 Fixed bug#[8498](http://bugs.otrs.org/show_bug.cgi?id=8498) - OpenSSL 1.0.0 does not get the stored SMIME certificates when\n    -CApath is used in the command.\n - 2012-05-16 Fixed bug#[8337](http://bugs.otrs.org/show_bug.cgi?id=8337) - Parentheses in user last\\_name / first\\_name are not sanitized.\n - 2012-05-15 Updated French translation, thanks to Romain Monnier!\n - 2012-05-11 Fixed bug#[8467](http://bugs.otrs.org/show_bug.cgi?id=8467) - Reply to an e-mail address with ' not possible.\n - 2012-05-11 Fixed bug#[8352](http://bugs.otrs.org/show_bug.cgi?id=8352) - Wrong substitution regex in HTMLUtils.pm-\\>ToAscii.\n - 2012-05-11 Fixed bug#[8401](http://bugs.otrs.org/show_bug.cgi?id=8401) - DynamicField Update doesn't update the X-OTRS-DynamicField-XXX\n    Fields in Postmaster Filters.\n - 2012-05-11 Fixed bug#[5746](http://bugs.otrs.org/show_bug.cgi?id=5746) - Using PerlEx you have to restart IIS each time a setting is\n    changed in SysConfig.\n - 2012-05-10 Fixed bug#[8452](http://bugs.otrs.org/show_bug.cgi?id=8452) - Dynamic Field Date/Time not working when server runs on UTC.\n\n#3.1.5 2012-05-15\n - 2012-05-09 Fixed bug#[8466](http://bugs.otrs.org/show_bug.cgi?id=8466) - On Win32 GenericInterface does not return results properly.\n - 2012-05-08 Fixed bug#[8465](http://bugs.otrs.org/show_bug.cgi?id=8465) - Can't create cache for web service debug log on win32 platforms.\n - 2012-05-08 Fixed bug#[7919](http://bugs.otrs.org/show_bug.cgi?id=7919) - Translation of ticket states in CSV Export of CustomerTicketSearch.\n - 2012-05-08 Fixed bug#[8461](http://bugs.otrs.org/show_bug.cgi?id=8461) - CustomerTicketSearch doesn't use ticket ACL rules.\n - 2012-05-04 Fixed bug#[7877](http://bugs.otrs.org/show_bug.cgi?id=7877) - SMIME emails don't get parsed properly (follow-up fix).\n - 2012-05-04 Fixed bug#[2452](http://bugs.otrs.org/show_bug.cgi?id=2452) - SMIME encoded E-Mails are not decrypted properly by OTRS (follow-up fix).\n - 2012-05-03 Fixed bug#[8446](http://bugs.otrs.org/show_bug.cgi?id=8446) - Dynamic Field type TextArea missing \\> 3800 characters validation.\n - 2012-05-02 Fixed bug#[8447](http://bugs.otrs.org/show_bug.cgi?id=8447) - Checkbox Dynamic Field is wrong calculated in statistics.\n - 2012-05-02 Fixed bug#[8328](http://bugs.otrs.org/show_bug.cgi?id=8328) - Statistic containing restriction on dynamic field ignores the\n    restriction.\n - 2012-05-01 Fixed bug#[8439](http://bugs.otrs.org/show_bug.cgi?id=8439) - AgentTicketForward: ticket not unlocked after\n    selecting a close state.\n - 2012-04-27 Fixed bug#[7168](http://bugs.otrs.org/show_bug.cgi?id=7168) - Ticket Overview Control Row can only be one line high.\n - 2012-04-26 Fixed bug#[8437](http://bugs.otrs.org/show_bug.cgi?id=8437) - Dynamic Field order duplicated when change the order of a field.\n - 2012-04-26 Fixed bug#[8409](http://bugs.otrs.org/show_bug.cgi?id=8409) - Deselecting 'select all' in queue view does not work.\n - 2012-04-26 Updated Hungarian translation, thanks to Csaba Nemeth!\n - 2012-04-26 Fixed bug#[8424](http://bugs.otrs.org/show_bug.cgi?id=8424) - Ticket articles of large tickets cannot be opened.\n - 2012-04-25 Added possibility to specify a cache type for selective cache cleaning\n    in bin/otrs.DeleteCache.\n - 2012-04-24 Added possibility to define ACL rules by user role.\n - 2012-04-24 Fixed bug#[8415](http://bugs.otrs.org/show_bug.cgi?id=8415) - Setting Ticket::Responsible ignored by AgentTicketActionCommon.\n - 2012-04-24 Fixed bug#[8288](http://bugs.otrs.org/show_bug.cgi?id=8288) - Autocomplete search results show up in Times font when using Internet Explorer.\n - 2012-04-24 Fixed bug#[8414](http://bugs.otrs.org/show_bug.cgi?id=8414) - ACL for AgentTicketCustomer in AgentTicketZoom doesn't affect\n    CustomerID link in ticket information.\n - 2012-04-24 Updated CKEditor to version 3.6.3.\n - 2012-04-23 Fixed bug#[8369](http://bugs.otrs.org/show_bug.cgi?id=8369) - Wrong handling of Ticket ACL in AJAX Updates.\n\n#3.1.4 2012-04-24\n - 2012-04-15 Fixed bug#[8284](http://bugs.otrs.org/show_bug.cgi?id=8284) - The text \"Cc: (xx@mail.com) added database email!\" is confusing.\n - 2012-04-16 Fixed bug#[8392](http://bugs.otrs.org/show_bug.cgi?id=8392) - DynamicFieldAdd returns wrong value.\n - 2012-04-16 Fixed bug#[8387](http://bugs.otrs.org/show_bug.cgi?id=8387) - UseSyncBackend configuration does not conform to OTRS style.\n - 2012-04-16 Fixed bug#[8367](http://bugs.otrs.org/show_bug.cgi?id=8367) - Customer entry not marked as mandatory.\n - 2012-04-13 Fixed uninitialized value problem in Kernel/Output/HTML/Layout.pm.\n - 2012-04-06 Fixed bug#[8348](http://bugs.otrs.org/show_bug.cgi?id=8348) - Wrong pop-up close behavior when no URL is given\n    and SessionUseCookie is set to No.\n - 2012-04-06 Fixed bug#[8346](http://bugs.otrs.org/show_bug.cgi?id=8346) - Incoming phone calls trigger NewTicket\n    notification, even for existing tickets.\n - 2012-04-06 Fixed bug#[8353](http://bugs.otrs.org/show_bug.cgi?id=8353) - Small typo in print CSS.\n - 2012-04-06 Fixed bug#[8370](http://bugs.otrs.org/show_bug.cgi?id=8370) - AgentTicketForward does not set pending date for pending states.\n - 2012-04-05 Fixed bug#[8368](http://bugs.otrs.org/show_bug.cgi?id=8368) - Personal queues update is not reflected in UI.\n - 2012-04-03 Fixed bug#[8363](http://bugs.otrs.org/show_bug.cgi?id=8363) - SOAP Transport can't send a value '0'.\n - 2012-04-02 Added new Slovenian translation, thanks to Gorazd Zagar and Andrej Cimerlajt!\n - 2012-04-02 Updated Italian translation, thanks to Massimo Bianchi!\n - 2012-03-30 Fixed bug#[8356](http://bugs.otrs.org/show_bug.cgi?id=8356) - ACLs for DynamicFields does not work on AgentTicketSearch.\n - 2012-03-30 Added new config feature to limit the number of 'From' entries in\n    AgentTicketPhone to 1 (optional). Use the setting\n    'Ticket::Frontend::AgentTicketPhone::AllowMultipleFrom' if you want this.\n - 2012-03-29 Fixed uninitialized value error in Kernel/System/Log.pm.\n - 2012-03-29 Added caching for DynamicFieldValue entries to improve system performance.\n - 2012-03-29 Fixed bug#[8336](http://bugs.otrs.org/show_bug.cgi?id=8336) - otrs.ExportStatsToOPM.pl  broken.\n - 2012-03-29 Fixed bug#[8349](http://bugs.otrs.org/show_bug.cgi?id=8349) - Caching breaks Admin frontend.\n - 2012-03-26 Improved performance on MySQL databases by removing useless LOWER statements.\n - 2012-03-26 Fixed bug#[7877](http://bugs.otrs.org/show_bug.cgi?id=7877) - SMIME emails don't get parsed properly.\n - 2012-03-23 Disabled error message in RemoveSessionID().\n - 2012-03-23 Repaired broken cache handling in DynamicFieldList().\n\n#3.1.3 2012-03-29\n - 2012-03-27 Fixed bug#[8343](http://bugs.otrs.org/show_bug.cgi?id=8343) - Configuration of additional modules can be lost during upgrade.\n - 2012-03-22 Renamed form id in AgentLinkObject.dtl to make sure it doesn't interfere with wrong CSS\n - 2012-03-22 Updated Portugese translation, thanks to Rui Francisco!\n - 2012-03-21 Fixed bug#[8333](http://bugs.otrs.org/show_bug.cgi?id=8333) - Type option '-' should not be available in\n    ActionTicketCommon screens.\n - 2012-03-20 Fixed bug#[8331](http://bugs.otrs.org/show_bug.cgi?id=8331) - Unable to delete ticket with \\> 1000 articles\n    on Oracle database.\n - 2012-03-20 Fixed bug#[8335](http://bugs.otrs.org/show_bug.cgi?id=8335) - Cache keys are not always properly constructed.\n - 2012-03-20 Dynamic fields and associated values can now be deleted in the admin area.\n - 2012-03-20 Do not show the empty item in dynamic field search fields.\n - 2012-03-19 Fixed an issue where DBUpdate-to-3.1.pl would die because\n    of certain free text or free time configuration settings.\n - 2012-03-19 Fixed bug#[8334](http://bugs.otrs.org/show_bug.cgi?id=8334) migration fails if FreeTime fields are not in use.\n - 2012-03-18 Added internal cache to Kernel/System/Lock.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/Salutation.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/Type.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/Valid.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/Queue.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/State.pm to improve performance.\n - 2012-03-18 Added internal cache to Kernel/System/Priority.pm to improve performance.\n - 2012-03-18 Improved performance of Kernel/Modules/AdminPackageManager.\n - 2012-03-18 Improved performance of Kernel/System/Package.pm.\n - 2012-03-17 Improved performance by using SlaveDB in Dashboard if it is configured.\n - 2012-03-17 Improved performance by using Digest::SHA if it is available.\n - 2012-03-16 Added cache to Kernel/System/XML.pm to improve performance.\n - 2012-03-16 Added cache to Kernel/System/Package.pm to improve performance.\n - 2012-03-15 Fixed bug#[8320](http://bugs.otrs.org/show_bug.cgi?id=8320) - IMAP FLAGS (\\Seen \\Recent) are appended to article body\n    by upgrading bundled Net::IMAP::Simple to version 1.2030.\n - 2012-03-14 Added internal cache to user preferences backend to improve performance.\n - 2012-03-14 Added internal cache to customer user preferences backend to improve performance.\n - 2012-03-14 Added internal cache to queue preferences backend to improve performance.\n - 2012-03-14 Added internal cache to service preferences backend to improve performance.\n - 2012-03-14 Added internal cache to sla preferences backend to improve performance.\n - 2012-03-09 Fixed bug#[8286](http://bugs.otrs.org/show_bug.cgi?id=8286) - Adressbook forgets selected entries.\n - 2012-03-07 Fixed bug#[8297](http://bugs.otrs.org/show_bug.cgi?id=8297) - Selectbox for new owner causes ajax update\n    on every change made via keyboard.\n - 2012-03-07 Updated Catalan translation, thanks to Antionio Linde!\n - 2012-03-05 Fixed bug#[7545](http://bugs.otrs.org/show_bug.cgi?id=7545) - AgentTicketBounce lacks permission checks.\n\n#3.1.2 2012-03-06\n - 2012-03-01 Fixed bug#[8282](http://bugs.otrs.org/show_bug.cgi?id=8282) - Dropdown and Multiselect Dynamic Fields without Possible values\n    causes errors with LayoutObject BuildSelection function.\n - 2012-03-01 Fixed bug#[8277](http://bugs.otrs.org/show_bug.cgi?id=8277) - DynamicField Values not deleted when ticket is deleted.\n - 2012-02-28 Fixed bug#[8274](http://bugs.otrs.org/show_bug.cgi?id=8274) - Dynamic Fields ACLs does not work correctly at Ticket Split.\n - 2012-02-28 Improved #[7526](http://bugs.otrs.org/show_bug.cgi?id=7526) - Fixed handling of special characters (, ), &, - within statistics.\n - 2012-02-27 Fixed bug#[8255](http://bugs.otrs.org/show_bug.cgi?id=8255) - TicketSearch in DynamicFields doesn't support ExtendedSearchCondition.\n - 2012-02-25 Fixed bug#[8258](http://bugs.otrs.org/show_bug.cgi?id=8258) - DynamicField date value is reset to NULL.\n - 2012-02-23 Fixed bug#[8214](http://bugs.otrs.org/show_bug.cgi?id=8214) - OTRS Init script on Red Hat / SUSE fails to check scheduler.\n - 2012-02-23 Fixed bug#[8227](http://bugs.otrs.org/show_bug.cgi?id=8227) - LDAP user syncronisation doesn't work.\n - 2012-02-23 Fixed bug#[8235](http://bugs.otrs.org/show_bug.cgi?id=8235) - Searching on DynamicFields, results are lost on next page.\n - 2012-02-21 Fixed bug#[8252](http://bugs.otrs.org/show_bug.cgi?id=8252) - Small typo in German translation of AgentTicketZoom.\n - 2012-02-16 Fixed bug#[8226](http://bugs.otrs.org/show_bug.cgi?id=8226) - Problem with Customized DynamicFields in TicketOverviewSmall.\n - 2012-02-16 Fixed bug#[8233](http://bugs.otrs.org/show_bug.cgi?id=8233) - DB error migrating stats on Oracle.\n - 2012-02-14 Fixed bug#[8224](http://bugs.otrs.org/show_bug.cgi?id=8224) - Admin Responses screen does not allow to filter responses.\n - 2012-02-14 Fixed bug#[7652](http://bugs.otrs.org/show_bug.cgi?id=7652) - OpenSearch providers are served with wrong mime type.\n    Follow-up fix.\n - 2012-02-14 Fixed bug#[8140](http://bugs.otrs.org/show_bug.cgi?id=8140) - Shortcut for creating new e-mail ticket doesn't work.\n    The hotkey for \"new email ticket\" was changed from e to m to avoid a collision.\n - 2012-02-14 Fixed bug#[8144](http://bugs.otrs.org/show_bug.cgi?id=8144) - Typo and improved logging in GenericAgent.pm.\n - 2012-02-14 Fixed bug#[8183](http://bugs.otrs.org/show_bug.cgi?id=8183) - Canceling AgentTicketCompose on an unlocked ticket generates\n    ChallengeToken error.\n - 2012-02-13 Fixed bug#[8219](http://bugs.otrs.org/show_bug.cgi?id=8219) - TicketCreate and TicketUpdate GI ticket operations requires a valid\n    CustomerUser.\n - 2012-02-13 Fixed bug#[8201](http://bugs.otrs.org/show_bug.cgi?id=8201) - Popup in browser always open on leftmost display when using\n    dual monitor setup.\n - 2012-02-13 Fixed bug#[8202](http://bugs.otrs.org/show_bug.cgi?id=8202) - Kernel::System::JSON-\\>Decode() dies when providing malformed JSON.\n - 2012-02-13 Fixed bug#[8211](http://bugs.otrs.org/show_bug.cgi?id=8211) - Typos in Labels: DYNAMICFILED.\n - 2012-02-09 Fixed bug#[7109](http://bugs.otrs.org/show_bug.cgi?id=7109) - Statistics error when PDF support is not active.\n\n#3.1.1 2012-02-14\n - 2012-02-09 Fixed bug#[8184](http://bugs.otrs.org/show_bug.cgi?id=8184) - Uninstall and upgrade fails if file in package can't be removed.\n - 2012-02-09 Fixed bug#[8199](http://bugs.otrs.org/show_bug.cgi?id=8199) - Linked tickets open only in tabs.\n - 2012-02-03 Fixed bug#[8148](http://bugs.otrs.org/show_bug.cgi?id=8148) - Wrong presentation of queue structure in CustomerTicketMessage.\n - 2012-02-03 Fixed bug#[8137](http://bugs.otrs.org/show_bug.cgi?id=8137) - Issues with Owner list refresh when selecting a new Owner.\n - 2012-02-03 Fixed bug#[8180](http://bugs.otrs.org/show_bug.cgi?id=8180) - bin/otrs.LoaderCache.pl exit code is wrong.\n\n#3.1.0.rc1 2012-02-07\n - 2012-02-03 Fixed bug#[8171](http://bugs.otrs.org/show_bug.cgi?id=8171) - Table rows have different heights.\n - 2012-02-02 Fixed bug#[7937](http://bugs.otrs.org/show_bug.cgi?id=7937) - HTMLUtils.pm ignore to much of e-mail source code.\n - 2012-02-02 Fixed bug#[7972](http://bugs.otrs.org/show_bug.cgi?id=7972) - Some mails may not present HTML part when using rich viewing.\n - 2012-02-02 Fixed bug#[8179](http://bugs.otrs.org/show_bug.cgi?id=8179) - DynamicField backend DateTime renders timestamps with seconds.\n - 2012-01-31 Fixed bug#[8163](http://bugs.otrs.org/show_bug.cgi?id=8163) - Ticket / Article title can't be copied if value is too long.\n - 2012-01-31 Fixed bug#[8161](http://bugs.otrs.org/show_bug.cgi?id=8161) - History hover broken - missing title attribute.\n - 2012-01-30 Fixed bug#[8147](http://bugs.otrs.org/show_bug.cgi?id=8147) - Possible values for queues not being considered in ACLs.\n - 2012-01-30 Fixed bug#[8021](http://bugs.otrs.org/show_bug.cgi?id=8021) - Creating new Dynamic Field is not adding the field name\n    to the X-OTRS header lists configuration for the PostMaster filters.\n - 2012-01-27 Fixed bug#[8145](http://bugs.otrs.org/show_bug.cgi?id=8145) - TicketFreeTime entries in search profiles don't get updated.\n - 2012-01-27 Fixed bug#[2820](http://bugs.otrs.org/show_bug.cgi?id=2820) - Wide character in Syslog message causes Perl crash on utf8 systems.\n\n#3.1.0.beta5 2012-01-31\n - 2012-01-25 Fixed bug#[7890](http://bugs.otrs.org/show_bug.cgi?id=7890) - Changed wording of config setting for RFC 5321 compliance.\n - 2012-01-24 Fixed bug#[8068](http://bugs.otrs.org/show_bug.cgi?id=8068) - Corrected field & DynamicField preselection on TicketSplit.\n - 2012-01-24 Fixed bug#[8115](http://bugs.otrs.org/show_bug.cgi?id=8115) - Richtext editor not show in customer interface after switching\n    to Catalan frontend language.\n - 2012-01-23 Fixed bug#[7994](http://bugs.otrs.org/show_bug.cgi?id=7994) - ACL: action-restrictions not possible for all ticket actions.\n - 2012-01-23 Fixed bug#[7984](http://bugs.otrs.org/show_bug.cgi?id=7984) - Unable to select the output format of statistics.\n - 2012-01-23 Fixed bug#[8136](http://bugs.otrs.org/show_bug.cgi?id=8136) - Browser Time Detection and time zone UTC generates warning in\n    web server error log.\n - 2012-01-23 Fixed bug#[8132](http://bugs.otrs.org/show_bug.cgi?id=8132) - Browser version message misleading when 'compatibility mode'\n    is enabled in Internet Explorer.\n - 2012-01-23 Fixed bug#[7916](http://bugs.otrs.org/show_bug.cgi?id=7916) - Address Book doesn't work correctly.\n - 2012-01-23 Fixed bug#[8019](http://bugs.otrs.org/show_bug.cgi?id=8019) - Ticket customer info widget has unneeded scroll bars.\n - 2012-01-23 Fixed bug#[8066](http://bugs.otrs.org/show_bug.cgi?id=8066) - TicketAcl with empy possible List for DynamicFields crashes.\n - 2012-01-20 Fixed bug#[7495](http://bugs.otrs.org/show_bug.cgi?id=7495) - Cursor stands still in editor in IE 9.\n - 2012-01-20 Fixed bug#[8129](http://bugs.otrs.org/show_bug.cgi?id=8129) - Ticket Unwatch may lead to errorscreen.\n - 2012-01-20 Updated Finnish translation file, thanks to Mikko Hynninen!\n - 2012-01-17 Fixed bug#[8117](http://bugs.otrs.org/show_bug.cgi?id=8117) - Can't create ticket for newly created customer user.\n - 2012-01-16 Fixed bug#[8094](http://bugs.otrs.org/show_bug.cgi?id=8094) - Typo In Ticket.pm.\n - 2012-01-16 Creation of QueueObject was not possible because of missing EncodeObject in CustomerUserGenericTicket.pm.\n\n#3.1.0.beta4 2012-01-17\n - 2012-01-12 Fixed bug#[8107](http://bugs.otrs.org/show_bug.cgi?id=8107) - Ticket state is not set as default on ticket edit screens.\n - 2012-01-12 Fixed bug#[8105](http://bugs.otrs.org/show_bug.cgi?id=8105) - Changing Priority does not update all relevant SysConfig fields.\n - 2012-01-11 Dramatically improved HTML rendering performance for pages with a large\n    amount of data, thanks to Stefan Bedorf!\n - 2012-01-11 Fixed bug#[8103](http://bugs.otrs.org/show_bug.cgi?id=8103) - Edit screens does not get Dynamic Field values from selected ticket.\n - 2012-01-11 Fixed bug#[8070](http://bugs.otrs.org/show_bug.cgi?id=8070) - Configured year ranges do not apply for date DynamicFields.\n - 2012-01-11 Updated CPAN module YAML to version 0.78.\n - 2012-01-11 Updated CPAN module Net::IMAP::Simple to version 1.20271.\n - 2012-01-11 Updated CPAN module LWP::UserAgent to version 6.03.\n - 2012-01-11 Updated CPAN module Digest::SHA::PurePerl to version 5.70.\n - 2012-01-11 Updated CPAN module CGI to version 3.59.\n - 2012-01-10 Fixed bug#[8095](http://bugs.otrs.org/show_bug.cgi?id=8095) - Dashboard ticket list does not support DynamicFields.\n - 2012-01-10 Ticket search and ticket link should require at least one search parameter.\n - 2012-01-09 Improved consistency of ChallengeToken checks in the agent and admin interface.\n - 2012-01-03 Updated Serbian translation, thanks to Milorad Jovanovic!\n - 2011-12-23 Fixed bug#[8052](http://bugs.otrs.org/show_bug.cgi?id=8052) - ACLs code is called even when there is no defined ACL or ACL module.\n - 2011-12-23 Fixed bug#[8037](http://bugs.otrs.org/show_bug.cgi?id=8037) - Registration screen in web installer produces HTTP 500 error.\n - 2011-12-22 Fixed bug#[7947](http://bugs.otrs.org/show_bug.cgi?id=7947) - Service list can be made useless with simple ACL and/or disabling\n    services.\n - 2011-12-22 Fixed bug#[8049](http://bugs.otrs.org/show_bug.cgi?id=8049) - TicketFreeText X-headers should not exist on new installations.\n - 2011-12-22 Fixed bug#[8043](http://bugs.otrs.org/show_bug.cgi?id=8043) - TicketSplit does not use default ACLs from parent.\n - 2011-12-21 Fixed bug#[8044](http://bugs.otrs.org/show_bug.cgi?id=8044) - TicketACL does not get dynamic fields as ticket attributes always.\n - 2011-12-21 Fixed bug#[8039](http://bugs.otrs.org/show_bug.cgi?id=8039) - SysConfig writes files in a non-atomic way.\n - 2011-12-20 Fixed bug#[4239](http://bugs.otrs.org/show_bug.cgi?id=4239) - Include ticket number in toolbar fulltext search.\n - 2011-12-20 Fixed bug#[7955](http://bugs.otrs.org/show_bug.cgi?id=7955) - Customer identity is not displayed on Customer Interface.\n - 2011-12-20 Fixed bug#[8035](http://bugs.otrs.org/show_bug.cgi?id=8035) - SOAP interface does not allow to create/update\n    CustomerCompany records.\n - 2011-12-20 Fixed bug#[8027](http://bugs.otrs.org/show_bug.cgi?id=8027) - Duplicated slash in cache subdirectory names.\n - 2011-12-20 Make sure the customer is being returned to ticket search result after using\n    'back' link from a ticket he has reached from the search result page.\n - 2011-12-19 Fixed bug#[7666](http://bugs.otrs.org/show_bug.cgi?id=7666) - Queue Preferences potentially slow.\n - 2011-12-19 Updated Polish translation file, thanks to Pawel!\n - 2011-12-16 Fixed Lithuanian language file encoding.\n - 2011-12-16 Added OTRS 2.4-style article colors to the article list in AgentTicketZoom.\n    This is disabled by default, enable 'Ticket::UseArticleColors' in SysConfig to use it.\n\n#3.1.0.beta3 2011-12-20\n - 2011-12-15 Fixed bug#[8012](http://bugs.otrs.org/show_bug.cgi?id=8012) - Confusing dashboard filter names.\n - 2011-12-14 Fixed bug#[8000](http://bugs.otrs.org/show_bug.cgi?id=8000) - Queues are translated if are displayed in list-style.\n - 2011-12-13 Added feature bug#[7893](http://bugs.otrs.org/show_bug.cgi?id=7893) - Customer Info in TicketZoom can now also list open tickets\n    based on CustomerUserLogin rather than CustomerID, and can list closed tickets as well.\n - 2011-12-13 Fixed bug#[8020](http://bugs.otrs.org/show_bug.cgi?id=8020) - Queue list in new move window has the current queue enabled.\n - 2011-12-13 Fixed bug#[8017](http://bugs.otrs.org/show_bug.cgi?id=8017) - After first AJAXUpdate call, MultiSelect DynamicFields gets empty.\n - 2011-12-13 Fixed bug#[7999](http://bugs.otrs.org/show_bug.cgi?id=7999) - Uncheck all services for a customer doesn't work.\n - 2011-12-13 Fixed bug#[7005](http://bugs.otrs.org/show_bug.cgi?id=7005) - JavaScript Init function is executed more than once in TicketZoom.\n - 2011-12-13 Fixed bug#[7020](http://bugs.otrs.org/show_bug.cgi?id=7020) - Error in MySQL Syntax when CustomerID contains special characters.\n - 2011-12-12 Improved #7526 - Automatic TicketSearch for special characters (, ), &, - fails.\n - 2011-12-12 Fixed bug#[8009](http://bugs.otrs.org/show_bug.cgi?id=8009) - Statistic overview does not show the statistic object name\n    for static statistics.\n - 2011-12-12 Changed the default behaviour of TicketGet() and ArticleGet() to NOT return the\n    dynamic field values for performance reasons. If you need them, pass DynamicFields =\\> 1.\n - 2011-12-09 Fixed bug#[7014](http://bugs.otrs.org/show_bug.cgi?id=7014) - Inline article gets bigger than Ticket::Frontend::HTMLArticleHeightMax.\n - 2011-12-09 Removed compatibility modules AgentTicketMailbox and CustomerZoom\n    (these only performed redirects to newer screens).\n - 2011-12-09 Fixed bug#[7997](http://bugs.otrs.org/show_bug.cgi?id=7997) - Fetching mail via AdminMailAccount does not work.\n - 2011-12-09 Fixed bug#[7991](http://bugs.otrs.org/show_bug.cgi?id=7991) - Locale::Codes is not bundled in 3.1.0beta2 tarball, breaking Customer Cumpany\n    screen.\n - 2011-12-09 Fixed bug#[7995](http://bugs.otrs.org/show_bug.cgi?id=7995) - Previous owner is missing in AgentTicketMove.\n - 2011-12-09 Updated Japanese Translation, thanks to Kaoru Hayama!\n - 2011-12-08 A bug related to oracle made database updates necessary ON ALL PLATFORMS when upgrading from beta1 or beta2.\n    Please see the UPGRADING file for details.\n - 2011-12-07 Fixed bug#[7959](http://bugs.otrs.org/show_bug.cgi?id=7959) - Problem when entering a customer in the autocomplete field in AgentTicketPhone.\n - 2011-12-07 Fixed bug#[7976](http://bugs.otrs.org/show_bug.cgi?id=7976) - Add Event Trigger Asynchronous not correctly displayed in Event Triggers Table.\n - 2011-12-06 Fixed bug#[7981](http://bugs.otrs.org/show_bug.cgi?id=7981) - Stats sum on X axis does not display total if the total is zero.\n - 2011-12-06 Fixed bug#[4740](http://bugs.otrs.org/show_bug.cgi?id=4740) - HTTP header in Redirect is not syntactically correct.\n - 2011-12-06 Fixed bug#[5253](http://bugs.otrs.org/show_bug.cgi?id=5253) - User preferences are updated when displaying an overview.\n - 2011-12-05 Fixed bug#[5356](http://bugs.otrs.org/show_bug.cgi?id=5356) - TicketFreeText (now Dynamic Fields) containing domain name - causes\n    Agent interface issues\n - 2011-12-05 Fixed bug#[3334](http://bugs.otrs.org/show_bug.cgi?id=3334) - FreeFields (now Dynamic Fields) with content \"0\" aren't displayed\n    within TicketZoom view\n - 2011-12-05 Fixed bug#[4032](http://bugs.otrs.org/show_bug.cgi?id=4032) - TicketFreeText (now Dynamic Fields)- DefaultSelection does not work\n    for AgentTicketForward\n - 2011-12-05 Fixed bug#[7923](http://bugs.otrs.org/show_bug.cgi?id=7923) - Free field value not correctly migrated error on DBUpdate-to-3.1.pl.\n - 2011-12-05 Fixed bug#[7975](http://bugs.otrs.org/show_bug.cgi?id=7975) - Wrong Type parameter is sent on Dynamic Fields ACLs.\n - 2011-12-05 Fixed bug#[7968](http://bugs.otrs.org/show_bug.cgi?id=7968) - DynamicField empty value \"-\" disappears on AJAX reload.\n - 2011-12-05 Fixed bug#[3544](http://bugs.otrs.org/show_bug.cgi?id=3544) - Don't show link to AgentTicketCustomer if agent does not have\n    permissions.\n - 2011-12-05 Fixed bug#[7900](http://bugs.otrs.org/show_bug.cgi?id=7900) - DefaultQueue does not preselect queue in CustomerTicketMessage.\n - 2011-12-05 Fixed bug#[7184](http://bugs.otrs.org/show_bug.cgi?id=7184) - Service catalog is not useable with sophisticated amount of entries.\n - 2011-12-05 Fixed bug#[7864](http://bugs.otrs.org/show_bug.cgi?id=7864) - Inconsequent wrapping of text causes ugly notifications.\n - 2011-12-05 Fixed bug#[7967](http://bugs.otrs.org/show_bug.cgi?id=7967) - Misleading comment on DF Dropdown setup.\n - 2011-12-05 Fixed bug#[7966](http://bugs.otrs.org/show_bug.cgi?id=7966) - Little german translation enhancement.\n - 2011-12-02 Fixed bug#[5437](http://bugs.otrs.org/show_bug.cgi?id=5437) - Reload of TicketFreeTexFields (now DynamicFields) (for ACL).\n - 2011-12-02 Fixed bug#[7056](http://bugs.otrs.org/show_bug.cgi?id=7056) - AgentTicketMove.pm does not handle TicketFreeText\n    (now DynamicFields) correctly.\n - 2011-12-02 Fixed bug#[7442](http://bugs.otrs.org/show_bug.cgi?id=7442) - Dashboard permission check for multiple Groups only\n    tests first group.\n - 2011-12-02 Fixed bug#[4548](http://bugs.otrs.org/show_bug.cgi?id=4548) - 'Ajax overwrites OnChange' in BuildSelection().\n\n#3.1.0.beta2 2011-12-06\n - 2011-11-30 Fixed bug#[6715](http://bugs.otrs.org/show_bug.cgi?id=6715) - Setting CustomerID with otrs.AddCustomerUser.pl.\n - 2011-11-29 Fixed bug#[7719](http://bugs.otrs.org/show_bug.cgi?id=7719) - Agent login page does not offer user to save password\n    with Firefox browser.\n - 2011-11-29 Fixed bug#[4957](http://bugs.otrs.org/show_bug.cgi?id=4957) - Password Change dialog misses \"Current Password\" option.\n - 2011-11-29 Show Article Creator in article view, similar to Idea#378.\n - 2011-11-28 Updated CPAN module Apache::DBI to version 1.11.\n - 2011-11-28 Updated CPAN module Mozilla::CA to version 20111025.\n - 2011-11-26 Added ReferenceData object that provides ISO-3166 country codes.\n    Could be extend to contain other data later.\n - 2011-11-23 Fixed bug#[7926](http://bugs.otrs.org/show_bug.cgi?id=7926) - AJAX refresh does not work on some fields.\n - 2011-11-24 Fixed bug#[7931](http://bugs.otrs.org/show_bug.cgi?id=7931) - Operations and Invokers can't be deleted from web service if the\n    Controller is not present or not  registered.\n - 2011-11-23 Fixed bug#[7921](http://bugs.otrs.org/show_bug.cgi?id=7921) - Running DBUpdate-to-3.1-post.mssql.sql on Microsoft SQL Server\n    generates errors.\n - 2011-11-23 Added Idea#378 - Show ticket creator in zoom view.\n - 2011-11-23 Fixed bug#[6139](http://bugs.otrs.org/show_bug.cgi?id=6139) - Hide current queue in queue move dialog in AgentTicketZoom.\n - 2011-11-23 Fixed bug#[6365](http://bugs.otrs.org/show_bug.cgi?id=6365) - AdminMailAccount Queue field should be hidden or disabled if Dispatching\n    is set to 'By Mail'.\n - 2011-11-23 Fixed bug#[7930](http://bugs.otrs.org/show_bug.cgi?id=7930) - Depreciation warnings in error log when running OTRS on\n    Perl 5.14.\n - 2011-11-21 Fixed bug#[7914](http://bugs.otrs.org/show_bug.cgi?id=7914) - DynamicField value Storage on AgentTicketActionCommon.pm and\n    AgentTicketPhoneCommon.pm.\n - 2011-11-21 Fixed bug#[7923](http://bugs.otrs.org/show_bug.cgi?id=7923) - Free field value not correctly migrated error on DBUpdate-to-3.1.pl.\n - 2011-11-21 Fixed bug#[3804](http://bugs.otrs.org/show_bug.cgi?id=3804) - Stats in Bar or Pie chart formats don't display non-\n    ascii characters correctly.\n - 2011-11-21 Fixed bug#[7920](http://bugs.otrs.org/show_bug.cgi?id=7920) - New ACL mechanism does not update Ticket{StateType} when a State\n    or StateID is given.\n - 2011-11-21 Use the secure attribute to restrict cookies to HTTPS if it is used.\n - 2011-11-21 Fixed bug#[7909](http://bugs.otrs.org/show_bug.cgi?id=7909) - Errors should be logged in web server error log only.\n - 2011-11-21 Added feature to drag and drop/copy and paste images to richtext editor in firefox (base64 encoded).\n - 2011-11-19 Fixed bug#[7917](http://bugs.otrs.org/show_bug.cgi?id=7917) - New ACL mechanism does not generate DynamicField hash check when\n    only TicketID is given.\n\n#3.1.0.beta1 2011-11-22\n - 2011-11-15 Added IE7 to browser blacklist.\n - 2011-11-15 Updated German translation.\n - 2011-11-14 Fixed bug#[7526](http://bugs.otrs.org/show_bug.cgi?id=7526) - OTRS Ticket Search not working with ( or ).\n - 2011-11-14 Added Idea#724 - Connect to IMAP servers using TLS encryption.\n - 2011-11-14 Fixed bug#[7879](http://bugs.otrs.org/show_bug.cgi?id=7879) - Add the option to get mail from a specified IMAP folder.\n - 2011-11-14 Added new 'registration' mask to install process.\n - 2011-11-10 Fixed bug#[5863](http://bugs.otrs.org/show_bug.cgi?id=5863) - Added autocomplete for Cc and Bcc in AgentTicketCompose\n - 2011-11-10 Fixed AgentBook (addressbook) to cooperate with the new autocomplete handling\n    in the ticket screens.\n - 2011-11-08 Fixed correct validation handling of RTE.\n - 2011-11-07 Fixed spelling mistake in README.\n - 2011-11-04 Removed 'address' and 'div' style formats from CKEditor.\n - 2011-11-04 Added support for CKEditor on iPhone and iPad with iOS5.\n - 2011-11-04 Added config option Frontend::AgentLinkObject::WildcardSearch to enable\n    wildcard search if the AgentLinkObject mask is started.\n - 2011-11-01 Added functionality to allow to use auto-complete feature for more\n    than one entry in To, From, Cc and Bcc fields into TicketPhone and EmailTicket screens.\n - 2011-10-31 Fixed bug#[7454](http://bugs.otrs.org/show_bug.cgi?id=7454) - MSSQL should use NVARCHAR to store text strings rather than VARCHAR.\n - 2011-10-31 Fixed bug#[7858](http://bugs.otrs.org/show_bug.cgi?id=7858) - Make \"Apache::DBI\" option not being overwritten with each update.\n    Apache::DBI is now loaded in web server configuration file.\n - 2011-10-28 Updated CKEditor to 3.6.2.\n - 2011-10-28 Updated json2.js to current version 2011-10-19.\n - 2011-10-28 Updated stacktrace.js to 0.3.\n - 2011-10-28 Updated jQuery Validate plugin to 1.9.\n - 2011-10-28 Updated jQuery UI to 1.8.16.\n - 2011-10-28 Updated jQuery to 1.6.4.\n - 2011-10-24 Fixed bug#[7824](http://bugs.otrs.org/show_bug.cgi?id=7824) - Tickets locked through 'tmp\\_lock' lock type aren't shown as locked\n    tickets\n - 2011-10-20 Fixed bug#[7168](http://bugs.otrs.org/show_bug.cgi?id=7168) - Ticket Overview Control Row can only be one line high.\n - 2011-09-28 Fixed Ticket#2011080542009673 - Improved location check for _FileInstall().\n - 2011-09-26 Added missing cpan module Encode::Locale which is now required\n    for HTTP::Response and LWP::UserAgent.\n - 2011-09-16 Added new legacy driver for PostgreSQL 8.1 or earlier. This\n    needs to be activated for such older installations in Kernel/Config.pm\n    as follows:\n```perl\n    $Self->{DatabasePostgresqlBefore82} = 1;\n```\n - 2011-09-09 Updated CPAN module Mozilla::CA to version 20110904.\n - 2011-09-06 Converted all translation files to utf-8.\n - 2011-09-01 Changed Postgresql driver to also use standard\\_conforming\\_strings\n    in regular database connections.\n - 2011-09-01 Fixed bug#[7684](http://bugs.otrs.org/show_bug.cgi?id=7684) - PostMaster Filter Module fails to create ticket\n    if state set in filter is invalid.\n - 2011-08-30 Updated CPAN module SOAP::Lite to version 0.714.\n - 2011-08-30 Updated CPAN module libwww-perl to version 6.02.\n - 2011-08-30 Updated CPAN module YAML to version 0.73.\n - 2011-08-30 Updated CPAN module URI to version 1.59.\n - 2011-08-30 Updated CPAN module Text::Diff to version 1.41.\n - 2011-08-30 Updated CPAN module Proc::Daemon to version 0.14.\n - 2011-08-30 Updated CPAN module Net::SMTP::TLS::ButMaintained to version 0.18.\n - 2011-08-30 Updated CPAN module Net::IMAP::Simple to version 1.2024.\n - 2011-08-30 Updated CPAN module Mozilla::CA to version 20110409.\n - 2011-08-30 Updated CPAN module MailTools to version 2.08.\n - 2011-08-30 Updated CPAN module JSON to version 2.53.\n - 2011-08-30 Updated CPAN module JSON::PP to version 2.27200.\n - 2011-08-30 Updated CPAN module HTTP::Message to version 6.02.\n - 2011-08-30 Updated CPAN module Digest::SHA::PurePerl to version 5.62.\n - 2011-08-30 Updated CPAN module CGI to version 3.55.\n - 2011-08-24 Fixed bug#[6718](http://bugs.otrs.org/show_bug.cgi?id=6718) - error when running otrs-initial-insert.postgresql.sql by making\n    otrs.xml2sql.pl write out utf8 files and by adding 'SET standard\\_conforming\\_strings TO ON'.\n - 2011-08-22 Fixed bug#[7635](http://bugs.otrs.org/show_bug.cgi?id=7635) - Remove support for Suse 9.\n - 2011-08-22 Fixed bug#[6444](http://bugs.otrs.org/show_bug.cgi?id=6444) - OTRS rc scripts checks and stops local mysql database\n    and complains about having no database if you use a remote one.\n - 2011-08-22 Fixed bug#[7638](http://bugs.otrs.org/show_bug.cgi?id=7638) - OTRS rc scripts installation/check/stop of Scheduler service.\n - 2011-08-22 Fixed bug#[2365](http://bugs.otrs.org/show_bug.cgi?id=2365) - Removed dependency on MySQL in RPMs.\n - 2011-08-12 Removed support for non-utf-8 internal encodings.\n - 2011-07-29 Fixed bug#[7538](http://bugs.otrs.org/show_bug.cgi?id=7538) - CustomerSearchAutoComplete###QueryDelay has incorrect pattern match.\n - 2011-07-20 Added feature bug#[976](http://bugs.otrs.org/show_bug.cgi?id=976) - Send emails via bulk action.\n - 2011-07-18 Added feature bug#[7479](http://bugs.otrs.org/show_bug.cgi?id=7479) - Add \"TicketChangeTime\" as filter parameter\n    in Generic agent.\n - 2011-07-01 Now stores binary data in VARBINARY rather than deprecated type\n    TEXT on MS SQL Server.\n - 2011-07-01 Fixed bug#[7454](http://bugs.otrs.org/show_bug.cgi?id=7454) - MS SQL should use NVARCHAR to store text strings\n    rather than VARCHAR.\n - 2011-06-21 TicketGet() now also returns ChangeBy and CreateBy.\n - 2011-06-06 Fixed bug#[4946](http://bugs.otrs.org/show_bug.cgi?id=4946) - Notification mails lack \"Precedence: bulk\" or similar headers.\n - 2011-05-20 Added feature bug#[7340](http://bugs.otrs.org/show_bug.cgi?id=7340) - It's not possible to sort tickets on last changed date.\n - 2011-05-18 Added feature bug#[7207](http://bugs.otrs.org/show_bug.cgi?id=7207) - Display warning if user is logged in and out-of-office\n    is activated.\n - 2011-05-16 Added feature bug#[7316](http://bugs.otrs.org/show_bug.cgi?id=7316) - Possibility to exclude articles of certain sender types from\n    being displayed in OverviewPreview mode and to display a certain article type as expanded when\n    entering the view.\n - 2011-05-03 Added feature Ideascale#488 - Use ticket number in the URL to access to\n    its zoom view.\n - 2011-05-02 Added feature bug#[6108](http://bugs.otrs.org/show_bug.cgi?id=6108) / Ideascale#87 - add the possibility to\n    register inbound phone conversations.\n - 2011-04-29 Added enhancement bug#[7267](http://bugs.otrs.org/show_bug.cgi?id=7267) 0 Performance issue in dtl with large\n    pages. Thanks to Stelios Gikas \\<stelios.gikas@noris.net\\>!\n - 2011-04-29 Added enhancement bug#[7266](http://bugs.otrs.org/show_bug.cgi?id=7266) - Performance issue in ticket zoom -\n    article seen with many article. Thanks to Stelios Gikas \\<stelios.gikas@noris.net\\>!\n - 2011-04-27 Added feature bug#[5484](http://bugs.otrs.org/show_bug.cgi?id=5484) / IdeaScale#497 - Bulk action to set/change Ticket Type.\n - 2011-04-27 Added feature bug#[7258](http://bugs.otrs.org/show_bug.cgi?id=7258) - Stats output always has a timestamp and report name in\n    the filename.\n - 2011-04-27 Fixed bug#[7257](http://bugs.otrs.org/show_bug.cgi?id=7257) - Stats CSV outputs report name and timestamp as first line.\n - 2011-04-27 Added feature bug#[5607](http://bugs.otrs.org/show_bug.cgi?id=5607) - otrs.GenerateStats.pl report only can be sent to one\n    recipient at a time.\n - 2011-04-27 Fixed bug#[7211](http://bugs.otrs.org/show_bug.cgi?id=7211) - 'Valid' used in labels is now replaced with 'Validity'.\n - 2011-04-25 Fixed bug#[7236](http://bugs.otrs.org/show_bug.cgi?id=7236) - Ticket::TicketTitleUpdate() does not update change\\_time of ticket.\n - 2011-04-20 Fixed ticket#2011041942007629 - Uninitialized value problem in AgentPreferences.pm.\n - 2011-04-20 Fixed bug#[7243](http://bugs.otrs.org/show_bug.cgi?id=7243) - Problem if current\\_timestamp of database system is\n    different to system time (e. g. time()).\n - 2011-04-19 Fixed bug#[3549](http://bugs.otrs.org/show_bug.cgi?id=3549) - ACLs don't work against queues with nonlatin characters.\n - 2011-04-18 Fixed bug#[7216](http://bugs.otrs.org/show_bug.cgi?id=7216) - Company names containing \"&\" pulled from Active Directory cause\n    errors in error.log when using Company Tickets.\n - 2011-04-06 Added generic notification module to show messages in the agent interface.\n - 2011-04-05 Fixed bug#[7182](http://bugs.otrs.org/show_bug.cgi?id=7182) - AgentDashboard preferences are always translated.\n - 2011-03-29 Fixed bug#[6994](http://bugs.otrs.org/show_bug.cgi?id=6994) - AgentSelfNotifyOnAction is ignored for event based\n    notifications.\n - 2011-03-24 Fixed bug#[6981](http://bugs.otrs.org/show_bug.cgi?id=6981) - ReadOnly CustomerUser sources should not be selectable for\n    creating new customers.\n - 2011-03-15 Fixed bug#[7057](http://bugs.otrs.org/show_bug.cgi?id=7057) - Kernel::System::StandardResponse-\\>StandardResponseLookup() is broken.\n - 2011-03-15 Fixed bug#[7053](http://bugs.otrs.org/show_bug.cgi?id=7053) - Installer page titles are not localized.\n - 2011-03-07 Added feature bug#[6992](http://bugs.otrs.org/show_bug.cgi?id=6992) - Ticket Responsible can't be set by GenericAgent.\n - 2011-03-07 Added feature bug#[6140](http://bugs.otrs.org/show_bug.cgi?id=6140) - Make the refresh interval of the dashboard\n    configurable.\n - 2011-03-01 Added feature bug#[6977](http://bugs.otrs.org/show_bug.cgi?id=6977) - Next Screen after AgentTicketMove should\n    be configurable.\n - 2011-02-28 Added feature bug#[6894](http://bugs.otrs.org/show_bug.cgi?id=6894). Events for escalations.\n - 2011-02-24 Fixed bug#[6867](http://bugs.otrs.org/show_bug.cgi?id=6867). CustomerCompany external source requires\n    change\\_time and create\\_time columns.\n - 2011-02-07 Fixed bug#[2452](http://bugs.otrs.org/show_bug.cgi?id=2452) - SMIME encoded E-Mails are not decrypted properly by OTRS.\n - 2011-02-02 Fixed bug#[3125](http://bugs.otrs.org/show_bug.cgi?id=3125) - No translation for ticket-state in notifications.\n - 2011-02-02 Fixed bug#[6618](http://bugs.otrs.org/show_bug.cgi?id=6618) - TicketIndex can not be created if queue name\n     of \\> 70 characters exists.\n\n#3.0.17 2012-10-16\n - 2012-10-05 Fixed bug#[6820](http://bugs.otrs.org/show_bug.cgi?id=6820) - OTRS crash with \"division by zero\" if escalation set incorrectly.\n - 2012-09-25 Fixed bug#[8606](http://bugs.otrs.org/show_bug.cgi?id=8606) - Escalation notifications should not be sent to agents who are set out-of-office.\n - 2012-09-13 Improved HTML security filter to better find javascript source URLs.\n\n#3.0.16 2012-08-30\n - 2012-08-28 Improved HTML security filter to detect tag nesting.\n - 2012-08-24 Fixed bug#[8611](http://bugs.otrs.org/show_bug.cgi?id=8611) - Ticket count is wrong in QueueView.\n\n#3.0.15 2012-09-04\n - 2012-08-17 HTML mails will now be displayed in an HTML5 sandbox iframe.\n    This means that modern browsers will not execute plugins or JavaScript on the content\n    any more. Currently, this is supported by Chrome and Safari, but IE10 and FF16 are also\n - 2012-08-17 HTML mails will now be displayed in the restricted zone in IE.\n    This means that more restrictive security settings will apply, such as blocking of\n    JavaScript content by default.\n - 2012-08-06 Fixed bug#[8672](http://bugs.otrs.org/show_bug.cgi?id=8672) - Search Profile can't have an ampersand in the name via\n    Toolbar module.\n\n#3.0.14 2012-08-07\n - 2012-07-31 Improved robustness of HTML security filter: Detect masked UTF-7 \\< and \\> signs.\n - 2012-07-16 Fixed bug#[8616](http://bugs.otrs.org/show_bug.cgi?id=8616) - Spell Checker does not work using IE9.\n - 2012-07-16 Fixed JavaScript error when no suggestions can be made by the spell checker.\n - 2012-06-29 Fixed bug#[8618](http://bugs.otrs.org/show_bug.cgi?id=8618) - Inform and Involved Agents select boxes can not be resizable.\n - 2012-06-15 Fixed bug#[7879](http://bugs.otrs.org/show_bug.cgi?id=7879) - Broken Content-Type in forwarded attachments.\n - 2012-06-14 Fixed bug#[8574](http://bugs.otrs.org/show_bug.cgi?id=8574) - Perl special variable $/ is changed and never restored.\n - 2012-06-14 Fixed bug#[8337](http://bugs.otrs.org/show_bug.cgi?id=8337) - Parentheses in user last\\_name / first\\_name are not sanitized (follow-up fix).\n - 2012-06-12 Fixed bug#[7872](http://bugs.otrs.org/show_bug.cgi?id=7872) - \"Created\" date in Large view is actually Last Updated date.\n - 2012-06-04 Improved performance of TemplateGenerator.pm, thanks to Stelios Gikas!\n\n#3.0.13 2012-06-05\n - 2012-05-30 Fixed bug#[7532](http://bugs.otrs.org/show_bug.cgi?id=7532) - 'Field is required' message should be removed in RTE if content is added.\n - 2012-05-30 Fixed bug#[8514](http://bugs.otrs.org/show_bug.cgi?id=8514) - Long words in description break rendering of SysConfig items.\n - 2012-05-25 Fixed bug#[8189](http://bugs.otrs.org/show_bug.cgi?id=8189) - AgentTicketCompose: Pressing \"Enter\" will delete Attachment.\n - 2012-05-24 Fixed bug#[7512](http://bugs.otrs.org/show_bug.cgi?id=7512) - AJAX-reload of SMIME-fields did not work properly.\n - 2012-05-24 Fixed bug#[8518](http://bugs.otrs.org/show_bug.cgi?id=8518) - Crypt on multiple recipients error replaces Crypt selection.\n - 2012-05-22 Fixed bug#[8164](http://bugs.otrs.org/show_bug.cgi?id=8164) - Internal articles are visible within customer ticket overview.\n - 2012-05-16 Fixed bug#[8337](http://bugs.otrs.org/show_bug.cgi?id=8337) - Parentheses in user last\\_name / first\\_name are not sanitized.\n - 2012-05-04 Fixed bug#[7877](http://bugs.otrs.org/show_bug.cgi?id=7877) - SMIME emails don't get parsed properly (follow-up fix).\n - 2012-04-26 Fixed bug#[8424](http://bugs.otrs.org/show_bug.cgi?id=8424) - Ticket articles of large tickets cannot be opened.\n - 2012-04-24 Fixed bug#[8288](http://bugs.otrs.org/show_bug.cgi?id=8288) - Autocomplete search results show up in Times font when using Internet Explorer.\n - 2012-03-26 Fixed bug#[7877](http://bugs.otrs.org/show_bug.cgi?id=7877) - SMIME emails don't get parsed properly.\n - 2012-03-20 Fixed bug#[8331](http://bugs.otrs.org/show_bug.cgi?id=8331) - Unable to delete ticket with \\> 1000 articles\n    on Oracle database.\n\n#3.0.12 2012-03-13\n - 2012-03-05 Fixed bug#[7545](http://bugs.otrs.org/show_bug.cgi?id=7545) - AgentTicketBounce lacks permission checks.\n - 2012-02-28 Improved #7526 - Fixed handling of special characters (, ), &, - within statistics.\n - 2012-02-23 Fixed bug#[8227](http://bugs.otrs.org/show_bug.cgi?id=8227) - LDAP user syncronisation doesn't work.\n - 2012-02-15 Fixed bug#[8144](http://bugs.otrs.org/show_bug.cgi?id=8144) - Typo and improved logging in GenericAgent.pm.\n - 2012-02-14 Fixed bug#[7652](http://bugs.otrs.org/show_bug.cgi?id=7652) - OpenSearch providers are served with wrong mime type.\n    Follow-up fix.\n - 2012-02-09 Fixed bug#[7109](http://bugs.otrs.org/show_bug.cgi?id=7109) - no one statistic is working with your selected.\n - 2012-02-09 Fixed bug#[8199](http://bugs.otrs.org/show_bug.cgi?id=8199) - Linked tickets open only in tabs.\n - 2012-02-03 Fixed bug#[8180](http://bugs.otrs.org/show_bug.cgi?id=8180) - bin/otrs.LoaderCache.pl exit code is wrong.\n - 2012-02-02 Fixed bug#[7937](http://bugs.otrs.org/show_bug.cgi?id=7937) - HTMLUtils.pm ignore to much of e-mail source code.\n - 2012-02-02 Fixed bug#[7972](http://bugs.otrs.org/show_bug.cgi?id=7972) - Some mails may not present HTML part when using rich viewing.\n - 2012-01-27 Fixed bug#[2820](http://bugs.otrs.org/show_bug.cgi?id=2820) - Wide character in Syslog message causes Perl crash on utf8 systems.\n - 2012-01-23 Fixed bug#[8019](http://bugs.otrs.org/show_bug.cgi?id=8019) - Ticket customer info widget has scroll bars\n - 2012-01-20 Fixed bug#[8128](http://bugs.otrs.org/show_bug.cgi?id=8128) - Ticket Unwatch may lead to errorscreen.\n - 2012-01-16 Creation of QueueObject was not possible because of missing EncodeObject in CustomerUserGenericTicket.pm\n - 2011-12-20 Fixed bug#[8035](http://bugs.otrs.org/show_bug.cgi?id=8035) - SOAP interface does not allow to create/update\n    CustomerCompany records.\n - 2011-12-19 Fixed bug#[7005](http://bugs.otrs.org/show_bug.cgi?id=7005) - JavaScript Init function is executed more than once in TicketZoom\n - 2011-12-14 Fixed bug#[7014](http://bugs.otrs.org/show_bug.cgi?id=7014) - Inline article gets bigger than Ticket::Frontend::HTMLArticleHeightMax.\n - 2011-12-16 Fixed Lithuanian language file encoding.\n - 2011-12-14 Fixed bug#[8000](http://bugs.otrs.org/show_bug.cgi?id=8000) - Queues are translated if are displayed in list-style.\n - 2011-12-13 Fixed bug#[7020](http://bugs.otrs.org/show_bug.cgi?id=7020) - Error in MYSQL Syntax when CustomerID contains special characters.\n - 2011-12-12 Improved #7526 - Automatic TicketSearch for special characters (, ), &, - fails.\n - 2011-12-09 Fixed bug#[7997](http://bugs.otrs.org/show_bug.cgi?id=7997) - Fetching mail via AdminMailAccount does not work.\n - 2011-12-09 Fixed bug#[7995](http://bugs.otrs.org/show_bug.cgi?id=7995) - Previous owner is missing in AgentTicketMove.\n - 2011-12-06 Fixed bug#[5253](http://bugs.otrs.org/show_bug.cgi?id=5253) - User preferences are updated when displaying an overview.\n - 2011-12-05 Fixed bug#[7971](http://bugs.otrs.org/show_bug.cgi?id=7971) - ACL to restrict Priority based on Service does not work in Customer\n    interface\n - 2011-12-05 Fixed bug#[7864](http://bugs.otrs.org/show_bug.cgi?id=7864) - Inconsequent wrapping of text causes ugly notifications.\n - 2011-12-05 Fixed bug#[7338](http://bugs.otrs.org/show_bug.cgi?id=7338) - Upgrade Script DBUpdate-to-3.0.pl fails to create\n    virtual\\_fs tables on oracle.\n - 2011-12-02 Fixed bug#[7442](http://bugs.otrs.org/show_bug.cgi?id=7442) - Dashboard permission check for multiple Groups only\n    tests first group.\n - 2011-11-29 Fixed bug#[7719](http://bugs.otrs.org/show_bug.cgi?id=7719) - Agent login page does not offer user to save password\n    with Firefox browser.\n - 2011-11-30 Fixed bug#[6715](http://bugs.otrs.org/show_bug.cgi?id=6715) - Setting CustomerID with otrs.AddCustomerUser.pl.\n - 2011-11-28 Updated CPAN module Apache::DBI to version 1.11.\n - 2011-11-23 Fixed bug#[7930](http://bugs.otrs.org/show_bug.cgi?id=7930) - Depreciation warnings in error log when running OTRS on\n    Perl 5.14.\n - 2011-11-21 Fixed bug#[3804](http://bugs.otrs.org/show_bug.cgi?id=3804) - Stats in Bar or Pie chart formats don't display non-\n    ascii characters correctly.\n - 2011-11-21 Use the secure attribute to restrict coookies to HTTPS if it is used.\n - 2011-11-21 Fixed bug#[7909](http://bugs.otrs.org/show_bug.cgi?id=7909) - Errors should be logged in web server error log only.\n - 2011-11-17 Fixed bug#[7896](http://bugs.otrs.org/show_bug.cgi?id=7896) - Inline images are broken in ticket answers.\n - 2011-11-17 Fixed bug#[5782](http://bugs.otrs.org/show_bug.cgi?id=5782) - Skipped GenericAgent cron executions because of\n    timing issues.\n - 2011-11-17 Fixed bug#[7674](http://bugs.otrs.org/show_bug.cgi?id=7674) - Pagination in dashboard appears even with one page of\n    results.\n - 2011-11-16 Fixed bug#[7903](http://bugs.otrs.org/show_bug.cgi?id=7903) - Improve MarkTicketsAsSeen for use with large amounts\n    of tickets.\n - 2011-11-15 Fixed bug#[7901](http://bugs.otrs.org/show_bug.cgi?id=7901) - Package Manager does not clear the cache.\n - 2011-11-15 Fixed bug#[7120](http://bugs.otrs.org/show_bug.cgi?id=7120) - Inline images from Lotus Notes do not show in\n    AgentTicketCompose interface.\n - 2011-11-14 Fixed bug#[7526](http://bugs.otrs.org/show_bug.cgi?id=7526) - OTRS Ticket Search not working with ( or ).\n - 2011-11-10 Fixed bug#[7879](http://bugs.otrs.org/show_bug.cgi?id=7879) - Ticket forward not working if content-id exists.\n - 2011-11-07 Fixed bug#[7887](http://bugs.otrs.org/show_bug.cgi?id=7887) - Type based ACLs do not match if Type (Name) is sent.\n - 2011-11-05 Fixed bug#[7876](http://bugs.otrs.org/show_bug.cgi?id=7876) - NewTicketReject Postmaster module uses Admin Address\n    as 'from' in reject emails.\n - 2011-11-05 Fixed bug#[7884](http://bugs.otrs.org/show_bug.cgi?id=7884) - Error message in web server error log when assigning\n    queues to standard responses.\n - 2011-11-03 Fixed bug#[7865](http://bugs.otrs.org/show_bug.cgi?id=7865) - Special characters in group names.\n - 2011-11-01 Fixed bug#[7875](http://bugs.otrs.org/show_bug.cgi?id=7875) - Restricting visibility of SLA in the Customer Ticket zoom does not work.\n - 2011-11-01 Fixed bug#[7823](http://bugs.otrs.org/show_bug.cgi?id=7823) - ACL could remove default state from ticket masks.\n - 2011-10-26 Fixed bug#[7465](http://bugs.otrs.org/show_bug.cgi?id=7465) - Out-of-office unlock does not work upon customer's web reply.\n - 2011-10-25 Fixed bug#[7843](http://bugs.otrs.org/show_bug.cgi?id=7843) - Customer and Agent Ticket Zoom issue with Sessions.\n - 2011-10-24 Improved rpc-example.pl to not use autodispatch any more.\n - 2011-10-21 Fixed bug#[7845](http://bugs.otrs.org/show_bug.cgi?id=7845) - No DispatchMultiple Method in rpc.pl script.\n\n#3.0.11 2011-10-18\n - 2011-10-07 Fixed bug#[7812](http://bugs.otrs.org/show_bug.cgi?id=7812) - Height of search terms doesn't fit on search results page on IE7\n - 2011-10-05 Fixed bug#[7807](http://bugs.otrs.org/show_bug.cgi?id=7807) - Ticket free text misplaced in IE7.\n - 2011-09-22 Fixed bug#[7776](http://bugs.otrs.org/show_bug.cgi?id=7776) - Double encoding for AJAX responses on ActiveState perl.\n - 2011-09-19 Fixed bug#[7756](http://bugs.otrs.org/show_bug.cgi?id=7756) - DefaultViewNewLine Config does not get used.\n - 2011-09-13 Fixed bug#[6902](http://bugs.otrs.org/show_bug.cgi?id=6902) - QueueView: My Queues \\> bulk menu duplication.\n - 2011-09-12 Fixed bug#[7708](http://bugs.otrs.org/show_bug.cgi?id=7708) - Only 400 agents available in AdminUser.\n - 2011-09-07 Fixed bug#[7678](http://bugs.otrs.org/show_bug.cgi?id=7678) - ArticleContentIndex: API Documentation disagrees with code.\n - 2011-09-07 Fixed bug#[7633](http://bugs.otrs.org/show_bug.cgi?id=7633) - Status flag in customer interface ticket zoom has wrong colors.\n - 2011-09-07 Fixed bug#[7591](http://bugs.otrs.org/show_bug.cgi?id=7591) - Email address field validation fails if name server does not respond.\n - 2011-09-06 Fixed bug#[7566](http://bugs.otrs.org/show_bug.cgi?id=7566) - Ticket search with article create date not working with StaticDB.\n - 2011-09-05 Fixed ticket#2010111742013515 - import/export of static states with .pm file\n    and umlaut in file is not working.\n - 2011-08-30 Improved fix of bug#[7195](http://bugs.otrs.org/show_bug.cgi?id=7195) to log a understandable error message if png, gif and\n    jpeg support are not activated in the GD CPAN module.\n - 2011-08-26 Fixed bug#[7525](http://bugs.otrs.org/show_bug.cgi?id=7525) - Move in new window doesn't indicate required fields.\n - 2011-08-26 Fixed bug#[7507](http://bugs.otrs.org/show_bug.cgi?id=7507) - AgentTicketActionCommon.dtl don't know about selected Priority.\n - 2011-08-26 Fixed bug#[7504](http://bugs.otrs.org/show_bug.cgi?id=7504) - 7 Day Stats graph doesn't fit into alloted width.\n - 2011-08-25 Fixed bug#[7393](http://bugs.otrs.org/show_bug.cgi?id=7393) - Error when bouncing a ticket with a new state of open or new.\n - 2011-08-23 Fixed bug#[5621](http://bugs.otrs.org/show_bug.cgi?id=5621) - OpenSearch not working for Internet Explorer 8.\n - 2011-08-23 Fixed bug#[7652](http://bugs.otrs.org/show_bug.cgi?id=7652) - OpenSearch providers are served with wrong mime type.\n - 2011-08-17 Fixed bug#[7599](http://bugs.otrs.org/show_bug.cgi?id=7599) - Back-Link does not work in permission denied screen if\n    this screen is a popup window.\n - 2011-08-16 Fixed bug#[7407](http://bugs.otrs.org/show_bug.cgi?id=7407) - Event based notifications with roles as recipients can\n    produce multiple notifications.\n - 2011-08-16 Fixed bug#[7589](http://bugs.otrs.org/show_bug.cgi?id=7589) - Ticket Search - TicketWatcher doesn't expand.\n - 2011-08-15 Fixed bug#[7343](http://bugs.otrs.org/show_bug.cgi?id=7343) - Typos in Customer Company Countries list.\n - 2011-08-15 Fixed bug#[7081](http://bugs.otrs.org/show_bug.cgi?id=7081) - Kernel::System::Log fails when module does not return\n    VERSION.\n - 2011-08-15 Fixed bug#[6263](http://bugs.otrs.org/show_bug.cgi?id=6263) - RPM upgrade should run otrs.RebuildConfig.pl and\n    otrs.DeleteCache.pl.\n - 2011-08-12 Updated Simplified Chinese Translation, thanks to Martin Liu!\n - 2011-08-12 Updated Danish translation, thanks to Lars J\u00c3\u00b8rgensen!\n - 2011-08-10 Fixed bug#[7550](http://bugs.otrs.org/show_bug.cgi?id=7550) - SLA and Service is not written to history.\n - 2011-08-10 Fixed bug#[7549](http://bugs.otrs.org/show_bug.cgi?id=7549) - Missing mandatory class and \\* identifier in AgentTicketMove.\n\n#3.0.10 2011-08-16\n - 2011-07-28 Fixed bug#[7518](http://bugs.otrs.org/show_bug.cgi?id=7518) - Escalation Notify by not working properly.\n - 2011-07-22 Fixed bug#[6978](http://bugs.otrs.org/show_bug.cgi?id=6978) - UTF characters got broken.\n - 2011-07-22 Fixed bug#[6259](http://bugs.otrs.org/show_bug.cgi?id=6259) - Search matching no results to Print opens extra tab.\n - 2011-07-22 Fixed bug#[7527](http://bugs.otrs.org/show_bug.cgi?id=7527) - Calling AgentTicketPhone with pre-selected values fails on\n    ticket status of type \"pending XYZ\".\n - 2011-07-20 Fixed bug#[7097](http://bugs.otrs.org/show_bug.cgi?id=7097) - Length of name of event based notifications limited in the\n    admin interface.\n - 2011-07-18 Fixed bug#[7477](http://bugs.otrs.org/show_bug.cgi?id=7477) - Dashboard shows \"My Queues\" even if a queue is preselected\n    in the configuration.\n - 2011-07-18 Fixed bug#[6348](http://bugs.otrs.org/show_bug.cgi?id=6348) - GenericAgent cron job concurrency issues.\n - 2011-07-18 Fixed bug#[7502](http://bugs.otrs.org/show_bug.cgi?id=7502) - crontab.txt empty on Win32.\n - 2011-07-12 Fixed bug#[7015](http://bugs.otrs.org/show_bug.cgi?id=7015) - Closing split ticked assigned to different agents\n    causes \"Locked Tickets Total\" to be negative (or off by one).\n - 2011-07-11 Fixed bug#[7362](http://bugs.otrs.org/show_bug.cgi?id=7362) - AuthSyncModule::LDAP::UserSyncMap with multiple auth backends.\n - 2011-07-08 Fixed bug#[7472](http://bugs.otrs.org/show_bug.cgi?id=7472) - TicketSearch for FreeTexts with _ in string not working on Oracle.\n - 2011-07-07 Fixed bug#[7484](http://bugs.otrs.org/show_bug.cgi?id=7484) - Customer items too much right-aligned in customer information box.\n - 2011-07-01 Fixed bug#[7434](http://bugs.otrs.org/show_bug.cgi?id=7434) - CustomerTicketOverview.dtl - closing listitems missing in HTML.\n\n#3.0.9 2011-07-05\n - 2011-07-01 Fixed bug#[7419](http://bugs.otrs.org/show_bug.cgi?id=7419) - 3.0.8 RPM does not include var/fonts directory.\n - 2011-06-30 Fixed bug#[7380](http://bugs.otrs.org/show_bug.cgi?id=7380) - Undo & close window or Cancel & close window NOT working IE9.\n - 2011-06-29 Fixed bug#[7435](http://bugs.otrs.org/show_bug.cgi?id=7435) - Ticket::Frontend::CustomerTicketZoom###AttributesView settings not used for pdf output.\n - 2011-06-29 Fixed bug#[7459](http://bugs.otrs.org/show_bug.cgi?id=7459) - Files partly in database after executing bin/otrs.ArticleStorageSwitch.pl.\n - 2011-06-27 Fixed bug#[7367](http://bugs.otrs.org/show_bug.cgi?id=7367) - No notification of notes when ticket is closed.\n - 2011-06-24 Fixed bug#[7335](http://bugs.otrs.org/show_bug.cgi?id=7335) - No empty state selection in AgentTicketForward.\n - 2011-06-22 Fixed bug#[7433](http://bugs.otrs.org/show_bug.cgi?id=7433) - CustomerTicketZoom is not able to display owner and/or responsible.\n - 2011-06-21 Fixed bug#[4946](http://bugs.otrs.org/show_bug.cgi?id=4946) - Notification mails lack \"Precedence: bulk\" or similar headers.\n - 2011-06-21 Updated XML::TreePP to 0.41.\n - 2011-06-21 Updated XML::FeedPP to 0.43.\n - 2011-06-20 Fixed bug#[7400](http://bugs.otrs.org/show_bug.cgi?id=7400) - Setting Ticket::Frontend::ShowCustomerTickets not effective.\n - 2011-06-17 Fixed bug#[6469](http://bugs.otrs.org/show_bug.cgi?id=6469) - i18n: \"Forwarded message\" string is not translatable.\n - 2011-06-17 Fixed bug#[4524](http://bugs.otrs.org/show_bug.cgi?id=4524) - SQL errors when there are no valid states for a given state type.\n - 2011-06-17 Fixed bug#[7368](http://bugs.otrs.org/show_bug.cgi?id=7368) - Error in TicketEscalationDateCalculation.\n - 2011-06-17 Fixed bug#[7420](http://bugs.otrs.org/show_bug.cgi?id=7420) - Cache issue when updating states.\n - 2011-06-15 Fixed bug#[4606](http://bugs.otrs.org/show_bug.cgi?id=4606) - Possible to select invalid dates for Out-of-Office.\n - 2011-06-15 Fixed bug#[7398](http://bugs.otrs.org/show_bug.cgi?id=7398) - FreeTime fields have no validation.\n - 2011-06-14 Fixed bug#[7396](http://bugs.otrs.org/show_bug.cgi?id=7396) - Selectboxes with long entries are cut off in dialogs in IE7.\n - 2011-06-14 Fixed bug#[7350](http://bugs.otrs.org/show_bug.cgi?id=7350) - Permissiontable in Role \\<-\\> Group is cut.\n - 2011-06-14 Added new Lithuanian translation, thanks to Edgaras Lukoschevidsius!\n - 2011-06-11 Fixed bug#[7161](http://bugs.otrs.org/show_bug.cgi?id=7161) - Single page ticket list does not indicate how much tickets are displayed.\n - 2011-06-11 Updated Net::SMTP::TLS::ButMaintained to 0.17.\n - 2011-06-11 Fixed bug#[7354](http://bugs.otrs.org/show_bug.cgi?id=7354) - bin/otrs.Cron4Win32.pl creates an empty crontab.txt.\n - 2011-06-07 Fixed bug#[7119](http://bugs.otrs.org/show_bug.cgi?id=7119) - Search profile names not visible in URL anymore.\n - 2011-05-30 Fixed bug#[7361](http://bugs.otrs.org/show_bug.cgi?id=7361) - \"$HOME/bin/otrs.DeleteCache.pl --expired\" causes error message :\n    Invalid option --expired\n - 2011-05-27 Fixed bug#[7355](http://bugs.otrs.org/show_bug.cgi?id=7355) - Memory leak in XML.pm.\n - 2011-05-27 Fixed bug#[7356](http://bugs.otrs.org/show_bug.cgi?id=7356) - AgentTicketForward ignores free text fields.\n - 2011-05-26 Fixed bug#[7311](http://bugs.otrs.org/show_bug.cgi?id=7311) - bouncing a ticket to multiple email-addresses is not possible anymore.\n - 2011-05-24 Fixed bug#[7348](http://bugs.otrs.org/show_bug.cgi?id=7348) - otrs.ArticleStorageSwitch.pl gives 'Corrupt file' errors on some attachments.\n - 2011-05-24 Fixed bug#[7329](http://bugs.otrs.org/show_bug.cgi?id=7329) - PendingJobs - auto unlock for closed tickets does not work in all cases.\n - 2011-05-24 Fixed bug#[6896](http://bugs.otrs.org/show_bug.cgi?id=6896) - Small inconcistencies in German translation for AgentTicketBulk screen.\n - 2011-05-24 Fixed bug#[7328](http://bugs.otrs.org/show_bug.cgi?id=7328) - PostMastFollowUp.pm value assignment issue.\n\n#3.0.8 2011-05-24\n - 2011-05-19 Updated Japanese translation, thanks to Kaz Kamimura!\n - 2011-05-19 Fixed bug#[7332](http://bugs.otrs.org/show_bug.cgi?id=7332) - Some buttons are not shown in the AdminSysConfig in IE7.\n - 2011-05-16 Fixed bug#[7300](http://bugs.otrs.org/show_bug.cgi?id=7300) - Wrong dropdown pre-selection in AdminQueue.\n - 2011-05-16 Fixed bug#[7288](http://bugs.otrs.org/show_bug.cgi?id=7288) - hyperlink creationcuts URLs after a closing square bracket.\n - 2011-05-16 Fixed bug#[7287](http://bugs.otrs.org/show_bug.cgi?id=7287) - Ticket Type in Customer Interface is not indicated as a required field.\n - 2011-05-16 Fixed bug#[7310](http://bugs.otrs.org/show_bug.cgi?id=7310) - AdminNotification.dtl restricts subject line to 120 characters.\n - 2011-05-10 Fixed bug#[7280](http://bugs.otrs.org/show_bug.cgi?id=7280) - AgentTicketCompose :: empty state selection causes many log entries.\n - 2011-05-10 Fixed bug#[7111](http://bugs.otrs.org/show_bug.cgi?id=7111) - Customer Password reset mail is sent even if the DB could not be updated.\n - 2011-05-10 Fixed bug#[7271](http://bugs.otrs.org/show_bug.cgi?id=7271) - AJAX issue when clicking 'Submit' while AJAX requests are still running.\n - 2011-05-09 Fixed bug#[7270](http://bugs.otrs.org/show_bug.cgi?id=7270) - Changing the customer from overviews opens the ticket zoom.\n - 2011-05-09 Fixed bug#[7262](http://bugs.otrs.org/show_bug.cgi?id=7262) - Customer Ticket Overview Sorting by \\<th\\>.\n - 2011-05-09 Fixed bug#[6901](http://bugs.otrs.org/show_bug.cgi?id=6901) - Ticket Search -\\> CSV export -\\> close date incorrect.\n - 2011-05-09 Fixed bug#[7289](http://bugs.otrs.org/show_bug.cgi?id=7289) - Ticket::Frontend::CustomerSearchAutoComplete###QueryDelay\n    should be specified in milliseconds rather than seconds.\n - 2011-05-09 Added new Croatian translation, thanks to Damir Dzeko!\n - 2011-05-09 Fixed bug#[7092](http://bugs.otrs.org/show_bug.cgi?id=7092) - Non-existent theme set in user\\_preferences makes login impossible.\n - 2011-05-09 Fixed bug#[7010](http://bugs.otrs.org/show_bug.cgi?id=7010) - Latest version of PDF::API2 no longer includes DejaVu fonts.\n    Fixed by including DejaVu fonts in var/fonts.\n - 2011-05-09 Fixed bug#[7245](http://bugs.otrs.org/show_bug.cgi?id=7245) - Event based notifications are not sent to roles.\n - 2011-05-04 Fixed bug#[7277](http://bugs.otrs.org/show_bug.cgi?id=7277) - otrs.cleanup is called in Cron on Win32.\n - 2011-05-04 Fixed bug#[7272](http://bugs.otrs.org/show_bug.cgi?id=7272) - i18n: TicketFreeTime field label is not translated.\n - 2011-05-02 Updated Brasilian Portugese translation, thanks to Murilo Moreira de Oliveira!\n - 2011-05-02 Updated Persian translation, thanks to Masood Ramezani!\n - 2011-04-28 Fixed bug#[7244](http://bugs.otrs.org/show_bug.cgi?id=7244) - Plain Auth with SMTP/TLS does not work.\n - 2011-04-21 Fixed bug#[7212](http://bugs.otrs.org/show_bug.cgi?id=7212) - IE7 Move box alignment issue in AgentTicketZoom.\n - 2011-04-21 Fixed bug#[7188](http://bugs.otrs.org/show_bug.cgi?id=7188) - Resizable handle always in foreground.\n - 2011-04-19 Fixed bug#[7229](http://bugs.otrs.org/show_bug.cgi?id=7229) - Apache configuration file references nonexisting javascript directory.\n - 2011-04-14 Fixed bug#[7230](http://bugs.otrs.org/show_bug.cgi?id=7230) - Password fields in SysConfig GUI are not protected.\n - 2011-04-14 Fixed bug#[7222](http://bugs.otrs.org/show_bug.cgi?id=7222) - Translation strings with more than 3 placeholders are not translated.\n - 2011-04-12 Fixed bug#[7213](http://bugs.otrs.org/show_bug.cgi?id=7213) - TicketSearch() TicketFlags handling broken.\n - 2011-04-11 Fixed bug#[7209](http://bugs.otrs.org/show_bug.cgi?id=7209) - TimeUnits validation not working.\n - 2011-04-11 Updated Italian translation, thanks to Lucia Magnanelli!\n - 2011-04-06 Fixed bug#[7058](http://bugs.otrs.org/show_bug.cgi?id=7058) - AJAX communication error when picking queue during ticket split.\n - 2011-04-05 Fixed bug#[7179](http://bugs.otrs.org/show_bug.cgi?id=7179) - MasterAction causes browser problem.\n - 2011-04-05 Fixed bug#[7169](http://bugs.otrs.org/show_bug.cgi?id=7169) - Archived tickets can not be un-archived.\n - 2011-04-04 Fixed bug#[6801](http://bugs.otrs.org/show_bug.cgi?id=6801) - Bulk Actions are not working.\n - 2011-04-04 Fixed bug#[7156](http://bugs.otrs.org/show_bug.cgi?id=7156) - NewTicketInNewWindow misplaced group.\n - 2011-04-01 Fixed bug#[7096](http://bugs.otrs.org/show_bug.cgi?id=7096) - CSS for navigation bar :: wrong z-index for selected area and hover.\n - 2011-04-01 Fixed bug#[7160](http://bugs.otrs.org/show_bug.cgi?id=7160) - Typo \"Anwort\" in translation file de.pm.\n - 2011-04-01 Fixed bug#[7158](http://bugs.otrs.org/show_bug.cgi?id=7158) - Customer search can not be started via URL.\n - 2011-04-01 Fixed bug#[7119](http://bugs.otrs.org/show_bug.cgi?id=7119) - Search profile names not visible in URL anymore in customer and agent panel.\n - 2011-04-01 Fixed bug#[7151](http://bugs.otrs.org/show_bug.cgi?id=7151) - Secure::DisableBanner does not disable E-Mail Headers\n - 2011-03-28 Fixed bug#[7115](http://bugs.otrs.org/show_bug.cgi?id=7115) - Search profiles are not working after upgrade to OTRS 3.\n\n#3.0.7 2011-04-12\n - 2011-03-24 Fixed bug#[7106](http://bugs.otrs.org/show_bug.cgi?id=7106) - Customer user login can't be updated nor changed.\n - 2011-03-24 Fixed bug#[6954](http://bugs.otrs.org/show_bug.cgi?id=6954) - Option \"NewTicketInNewWindow::Enabled\"  is not working.\n - 2011-03-22 Fixed bug#[7052](http://bugs.otrs.org/show_bug.cgi?id=7052) - Clicking on items in Dashboard and Overview causes\n    two GET request instead of one.\n - 2011-03-22 Fixed bug#[7077](http://bugs.otrs.org/show_bug.cgi?id=7077) - Customer Interface Article Information not displayed properly in IE7.\n - 2011-03-18 Fixed bug#[7063](http://bugs.otrs.org/show_bug.cgi?id=7063) - TicketZoom Customer information display issue in IE7.\n - 2011-03-16 Fixed bug#[7060](http://bugs.otrs.org/show_bug.cgi?id=7060) - Unexisting value is passed to several subroutines in AgentTicketPhone when there is no subaction.\n - 2011-03-15 Fixed bug#[7057](http://bugs.otrs.org/show_bug.cgi?id=7057) - Kernel::System::StandardResponse-\\>StandardResponseLookup() is broken\n - 2011-03-15 Fixed bug#[5604](http://bugs.otrs.org/show_bug.cgi?id=5604) - Show name of static statistic, if there is only one.\n - 2011-03-14 Updated Norwegian translation, thanks to Espen Stefansen!\n - 2011-03-14 Fixed bug#[7040](http://bugs.otrs.org/show_bug.cgi?id=7040) - SQL error when retrieving CustomerCompanyList with Valid =\\> 0.\n - 2011-03-14 Updated Chinese translation, thanks to Martin Liu!\n - 2011-03-13 Fixed bug#[7042](http://bugs.otrs.org/show_bug.cgi?id=7042) - Textual and layout issue Archive option in AgentTicketSearch.\n - 2011-03-10 Fixed bug#[6946](http://bugs.otrs.org/show_bug.cgi?id=6946) - SelectAllXXX checkbox is not checked when you first enter to the module.\n - 2011-03-09 Fixed bug#[7007](http://bugs.otrs.org/show_bug.cgi?id=7007) - Loader unit tests fail on MSWin32.\n - 2011-03-08 Fixed bug#[6790](http://bugs.otrs.org/show_bug.cgi?id=6790) - Custom directory not considered when running in CGI.\n - 2011-03-08 Fixed bug#[5354](http://bugs.otrs.org/show_bug.cgi?id=5354) - Gratuitous \"use lib '../..';\" in Kernel::Output::HTML::Layout\n     preventing modules in /Custom to be loaded when deployed as CGI.\n - 2011-03-07 Fixed bug#[6014](http://bugs.otrs.org/show_bug.cgi?id=6014) - Printed pdf tickets are not searchable.\n - 2011-03-07 Fixed bug#[7006](http://bugs.otrs.org/show_bug.cgi?id=7006) - One MainObject unit test fails on Win32.\n - 2011-03-02 Fixed bug#[6936](http://bugs.otrs.org/show_bug.cgi?id=6936) - Click on Customer triggers Wildcard-Search.\n - 2011-02-28 Fixed bug#[6961](http://bugs.otrs.org/show_bug.cgi?id=6961) - TicketActionsPerTicket - Buttons not localized.\n - 2011-02-28 Fixed bug#[5578](http://bugs.otrs.org/show_bug.cgi?id=5578) - TicketSolutionResponseTime.pm fix.\n - 2011-02-28 Fixed bug#[6974](http://bugs.otrs.org/show_bug.cgi?id=6974) - Ticket Search does not find tickets if searching by\n    in between 2 dates, and the ticket time is 00:00:00.\n - 2011-02-28 Fixed bug#[6930](http://bugs.otrs.org/show_bug.cgi?id=6930) - en\\_GB (united kingdom) notification events blank.\n - 2011-02-25 Fixed bug#[6822](http://bugs.otrs.org/show_bug.cgi?id=6822) -  Underscore in username problem in 3.0.5.\n - 2011-02-25 Added Hindi translation, thanks to Chetan Nagaonkar!\n\n#3.0.6 2011-02-29\n - 2011-02-21 Fixed bug#[6938](http://bugs.otrs.org/show_bug.cgi?id=6938). CustomerUser AutoLoginCreation doesn't work.\n - 2011-02-21 Updated Russian translation, thanks to Eugene Kungurov!\n - 2011-02-18 Fixed bug#[6912](http://bugs.otrs.org/show_bug.cgi?id=6912) - MIME-Viewer (PDF Preview) is not properly displayed in 3.x UI.\n - 2011-02-16 Changed UserID 1 notification\n - 2011-02-16 Updated Brazilian Portugese translation, thanks to Humberto Diogenes!\n - 2011-02-15 Fixed bug#[6861](http://bugs.otrs.org/show_bug.cgi?id=6861) - Navigation should be disabled when linking an object.\n - 2011-02-14 Fixed bug#[6869](http://bugs.otrs.org/show_bug.cgi?id=6869) - ITSM 3 Link Object \"close window\" refreshes and settings lost\n - 2011-02-09 Fixed bug#[6878](http://bugs.otrs.org/show_bug.cgi?id=6878) - Agent and customer usernames and passwords stored plaintext\n    in database and session.\n - 2011-02-09 Updated French translation, thanks to R\u00ef\u00bf\u00bdmi Seguy!\n - 2011-02-08 Fixed bug#[6808](http://bugs.otrs.org/show_bug.cgi?id=6808) - change queue with note destroyes rich text in note\n    when file is attached.\n - 2011-02-04 Fixed bug#[4350](http://bugs.otrs.org/show_bug.cgi?id=4350) - Time\\_accounting not merged when merging ticket.\n - 2011-02-03 Fixed bug#[6831](http://bugs.otrs.org/show_bug.cgi?id=6831) - CustomerLogo not shown if external URL.\n - 2011-02-02 Fixed bug#[2877](http://bugs.otrs.org/show_bug.cgi?id=2877) - Licence is \"License\" in British English.\n - 2011-02-01 Fixed bug#[6837](http://bugs.otrs.org/show_bug.cgi?id=6837) - Queue cannot be created, just changed\n - 2011-02-01 Fixed bug#[6696](http://bugs.otrs.org/show_bug.cgi?id=6696) - TicketFreeTime options are line breaked in the\n    search window.\n - 2011-01-31 Implemented bug#[6824](http://bugs.otrs.org/show_bug.cgi?id=6824) - Adding system addresses from CLI, via new\n    script bin/otrs.AddSystemAddress.pl.\n - 2011-01-31 Fixed bug#[6818](http://bugs.otrs.org/show_bug.cgi?id=6818) - PDF Printing does not work with newest PDF::API2\n    2.x module.\n - 2011-01-28 Fixed bug#[6506](http://bugs.otrs.org/show_bug.cgi?id=6506) - Ticket::Frontend::ZoomRichTextForce no longer\n    available.\n - 2011-01-27 Fixed bug#[6539](http://bugs.otrs.org/show_bug.cgi?id=6539) - CustomerUser LDAP Fetch is requesting all attributes\n    instead of configured attributes from map.\n - 2011-01-27 Added database connection information to otrs.CheckDB.pl script.\n - 2011-01-27 Fixed bug#[6729](http://bugs.otrs.org/show_bug.cgi?id=6729) - SMIME-Encryption broken in Interface.\n - 2011-01-27 Fixed bug#[6792](http://bugs.otrs.org/show_bug.cgi?id=6792) - ArticleFreeText default selection is not respected\n    by input masks.\n - 2011-01-27 Fixed bug#[6791](http://bugs.otrs.org/show_bug.cgi?id=6791) - In TicketZoom Total Accounted Time is displayed\n    when AccountTime is set to \"off\".\n - 2011-01-26 Fixed bug#[6721](http://bugs.otrs.org/show_bug.cgi?id=6721) - New users with empty password creation is allowed\n    but a random password is assigned without notification.\n - 2011-01-26 Fixed bug#[4188](http://bugs.otrs.org/show_bug.cgi?id=4188) - Moving junk mails unnecessarily need subject and\n    body (for 3.0 version).\n - 2011-01-25 Fixed bug#[6789](http://bugs.otrs.org/show_bug.cgi?id=6789) - Ticket OpenSearch in Customer Interface is broken.\n - 2011-01-25 Fixed bug#[4764](http://bugs.otrs.org/show_bug.cgi?id=4764) - Public frontend has Customer frontend opensearch\n    descriptions.\n - 2011-01-25 Fixed bug#[6600](http://bugs.otrs.org/show_bug.cgi?id=6600) - AgentTicketSearch date selection issues.\n - 2011-01-25 Fixed bug#[5487](http://bugs.otrs.org/show_bug.cgi?id=5487) - Event Based notification - respect \"Include\n    Attachments to Notification\".\n - 2011-01-25 Fixed bug#[6745](http://bugs.otrs.org/show_bug.cgi?id=6745) - Disabling out of office does not work until\n    logging out.\n - 2011-01-25 Fixed bug#[6740](http://bugs.otrs.org/show_bug.cgi?id=6740) - Link CI to new phone or mail ticket does not work.\n - 2011-01-25 Fixed bug#[6764](http://bugs.otrs.org/show_bug.cgi?id=6764) - Usage of TicketHook as TicketZoom Subject.\n - 2011-01-24 Fixed bug#[6684](http://bugs.otrs.org/show_bug.cgi?id=6684) - CustomerInfoSize doesn't size the info box.\n - 2011-01-21 Fixed bug#[6728](http://bugs.otrs.org/show_bug.cgi?id=6728) - Notification Management not usable if many\n    notifications exist.\n - 2011-01-21 Fixed bug#[6741](http://bugs.otrs.org/show_bug.cgi?id=6741) - Select box does not display helpful error messages.\n - 2011-01-21 Fixed bug#[6530](http://bugs.otrs.org/show_bug.cgi?id=6530) - Problem sending inline PGP answer.\n - 2011-01-21 Fixed bug#[6044](http://bugs.otrs.org/show_bug.cgi?id=6044) - Toolbar - show static buttons first\n - 2011-01-21 Fixed bug#[6654](http://bugs.otrs.org/show_bug.cgi?id=6654) - Can't add a queue with Unlock set to No using a PostgreSQL\n    database.\n - 2011-01-20 Fixed bug#[4814](http://bugs.otrs.org/show_bug.cgi?id=4814) - Need UserID or UserLogin error message in some scenarios\n    when using BasicAuth.\n - 2011-01-20 Fixed bug#[6725](http://bugs.otrs.org/show_bug.cgi?id=6725) - Typo in description for Stats in SysConfig.\n - 2011-01-20 Fixed bug#[6001](http://bugs.otrs.org/show_bug.cgi?id=6001) - Configuration issues when Apache::DBI is not installed.\n    Apache::DBI is now bundled in Kernel/cpan-lib, mainly because it's not part of the\n    RHEL5 package repositories.\n - 2011-01-19 Fixed bug#[6704](http://bugs.otrs.org/show_bug.cgi?id=6704) - Core.AJAX throws exceptions which cannot be handled.\n - 2011-01-17 Fixed bug#[6599](http://bugs.otrs.org/show_bug.cgi?id=6599) - Ticket sub-sorting in dashlets isn't working.\n - 2011-01-17 Fixed bug#[6706](http://bugs.otrs.org/show_bug.cgi?id=6706) - Add Google Chrome Frame support.\n\n#3.0.5 2011-01-18\n - 2011-01-13 Fixed bug#[6628](http://bugs.otrs.org/show_bug.cgi?id=6628) - Attachments don't show up in Exchange when using WebUploadCacheModule::FS.\n - 2011-01-12 Fixed bug#[6681](http://bugs.otrs.org/show_bug.cgi?id=6681) - Font of notes is not fixed font (Frontend::RichText is disabled).\n - 2011-01-12 Fixed bug#[6458](http://bugs.otrs.org/show_bug.cgi?id=6458) - \"Lock\" not indicated on compose (lock/unlock message was not shown).\n - 2011-01-11 Fixed bug#[6653](http://bugs.otrs.org/show_bug.cgi?id=6653) - Time Format Dashboard etc.\n - 2011-01-11 Fixed bug#[6505](http://bugs.otrs.org/show_bug.cgi?id=6505) - Ticket::Frontend::PlainView has no effect.\n - 2011-01-10 Fixed bug#[6668](http://bugs.otrs.org/show_bug.cgi?id=6668) - Upgrade to OTRS 3.0.x fails if OTRS 2.4.x is used with OTRS::ITSM 2.x\n - 2011-01-07 Fixed bug#[6555](http://bugs.otrs.org/show_bug.cgi?id=6555) - no decoder for iso-8859-1 at /opt/otrs/Kernel/cpan-lib/MIME/Parser.pm line 821.\n - 2011-01-07 Fixed bug#[6582](http://bugs.otrs.org/show_bug.cgi?id=6582) - Admin-\\>Manage Queues wrong subqueue default.\n - 2011-01-07 Fixed bug#[6658](http://bugs.otrs.org/show_bug.cgi?id=6658) - History contains redundant SetPendingTime entries.\n - 2011-01-06 Fixed bug#[5053](http://bugs.otrs.org/show_bug.cgi?id=5053) - Some inline images (bitmaps) from MS Outlook clients are not displayed in ticket zoom.\n - 2011-01-06 Fixed bug#[6627](http://bugs.otrs.org/show_bug.cgi?id=6627) - Queue names are wrapped badly by the browser.\n - 2011-01-06 Fixed bug#[6591](http://bugs.otrs.org/show_bug.cgi?id=6591) - Date selector calendar does not open on agent out of office.\n - 2011-01-06 Fixed bug#[6563](http://bugs.otrs.org/show_bug.cgi?id=6563) - Article list in AgentTicketZoom scrolls inconveniently.\n - 2011-01-06 Fixed bug#[6629](http://bugs.otrs.org/show_bug.cgi?id=6629) - Opening a link in a new Tab with IE doesn't allow you to navigate away from the SOURCE tab.\n - 2011-01-06 Fixed bug#[6650](http://bugs.otrs.org/show_bug.cgi?id=6650) - AgentTicketPhone loses Responsible selection after reload.\n - 2011-01-06 Fixed bug#[6354](http://bugs.otrs.org/show_bug.cgi?id=6354) - SMTPTLS multiplies attachments.\n - 2011-01-05 Fixed bug#[6624](http://bugs.otrs.org/show_bug.cgi?id=6624) - If ticket is displayed in \"Show all articles mode\" only the last article can be replied in IE7.\n - 2011-01-04 Fixed bug#[6578](http://bugs.otrs.org/show_bug.cgi?id=6578) - Agent settings 'My Queues' selection not shown.\n - 2011-01-04 Fixed bug#[5175](http://bugs.otrs.org/show_bug.cgi?id=5175) - Documentation of Kernel::System::Main::FileRead.\n - 2011-01-04 Updated Italian translation, thanks to Alessandro Grassi!\n - 2011-01-04 Updated Norwegian translation, thanks to Eirik Wulff!\n - 2011-01-03 Fixed bug#[6604](http://bugs.otrs.org/show_bug.cgi?id=6604) - Some attachments from mails created with OTRS 2.4.6\n    are missing from the attachment list after upgrade to 3.0.\n - 2010-12-30 Fixed bug#[6473](http://bugs.otrs.org/show_bug.cgi?id=6473) - Error at Apache log \"uninitialized value\".\n - 2010-12-30 Fixed bug#[4886](http://bugs.otrs.org/show_bug.cgi?id=4886) - FollowUp-notification send not to owner.\n - 2010-12-30 Updated CPAN module JSON to version 2.50.\n - 2010-12-30 Updated CPAN module JSON::PP to version 2.27103.\n - 2010-12-30 Updated CPAN module Text::CSV to version 1.21.\n - 2010-12-28 Fixed bug#[6595](http://bugs.otrs.org/show_bug.cgi?id=6595) - umleiten != Zur\u00ef\u00bf\u00bdckweisen an.\n - 2010-12-28 Fixed bug#[6057](http://bugs.otrs.org/show_bug.cgi?id=6057) - Some action buttons don't have tooltips.\n - 2010-12-27 Fixed bug#[6606](http://bugs.otrs.org/show_bug.cgi?id=6606) - Login screen in area of ticket details.\n - 2010-12-27 Fixed bug#[6609](http://bugs.otrs.org/show_bug.cgi?id=6609) - Created date in article is overlapping the Loader icon.\n - 2010-12-27 Added extra documentation for bug#[6610](http://bugs.otrs.org/show_bug.cgi?id=6610) -\n    OTRS\\_CURRENT\\_UserSalutation is always \"-\".\n - 2010-12-27 Fixed bug#[6605](http://bugs.otrs.org/show_bug.cgi?id=6605) - Error in url on admin package manager screen because wrong use of LQData.\n - 2010-12-23 Fixed bug#[6579](http://bugs.otrs.org/show_bug.cgi?id=6579) - ArticleTypeDefault is not selected in 'Note'\n    on Bulk Action\n - 2010-12-23 Fixed bug#[6570](http://bugs.otrs.org/show_bug.cgi?id=6570) - Services/SLAs are not loaded if\n    Ticket::Frontend::CustomerTicketMessage###Queue is set to \"No\"\n - 2010-12-23 Fixed bug#[6553](http://bugs.otrs.org/show_bug.cgi?id=6553) - Add CC for ticket customer function is no longer working.\n - 2010-12-22 Fixed bug#[4502](http://bugs.otrs.org/show_bug.cgi?id=4502) - Event Based Notification ignores SendNoNotification flag.\n - 2010-12-22 Fixed bug#[6596](http://bugs.otrs.org/show_bug.cgi?id=6596) - Ticket::Frontend::AgentTicketBounce###StateDefault doesn't work.\n - 2010-12-21 Fixed bug#[6576](http://bugs.otrs.org/show_bug.cgi?id=6576) - Unneeded entries in @INC.\n - 2010-12-21 Fixed bug#[6573](http://bugs.otrs.org/show_bug.cgi?id=6573) - Dutch notification texts don't display the ticket data.\n - 2010-12-20 Fixed bug#[6580](http://bugs.otrs.org/show_bug.cgi?id=6580) - Troubles modifying AgentTicketPhone in OTRS 3.0.3\n    - using FreeText... failed.\n - 2010-12-20 Fixed bug#[6577](http://bugs.otrs.org/show_bug.cgi?id=6577) - AdminNotification screen does not work in IE7 on Windows XP.\n - 2010-12-17 Fixed bug#[6559](http://bugs.otrs.org/show_bug.cgi?id=6559) - the CK EDITOR for entering comments does not starts\n    if you use CZ localization.\n - 2010-12-17 Fixed bug#[6560](http://bugs.otrs.org/show_bug.cgi?id=6560) - Link to \"AgentPreferences\" is shown even when the module is disabled.\n - 2010-12-17 Fixed bug#[6561](http://bugs.otrs.org/show_bug.cgi?id=6561) - Text sometimes too long for button.\n - 2010-12-17 Fixed bug#[6543](http://bugs.otrs.org/show_bug.cgi?id=6543) - UPGRADING should clearly state changed parameters\n    of SetPermissions script.\n - 2010-12-16 Fixed bug#[6554](http://bugs.otrs.org/show_bug.cgi?id=6554) - SysConfig Group Handling.\n - 2010-12-15 Fixed bug#[6380](http://bugs.otrs.org/show_bug.cgi?id=6380) - Change Search Options does not list default fields.\n - 2010-12-14 Fixed bug#[6476](http://bugs.otrs.org/show_bug.cgi?id=6476) - Stats overview table has display error in table header.\n - 2010-12-14 Fixed bug#[6540](http://bugs.otrs.org/show_bug.cgi?id=6540) - System Log Hint could make room for more log information.\n - 2010-12-14 Fixed bug#[6541](http://bugs.otrs.org/show_bug.cgi?id=6541) - Left pane in AdminNotification is empty.\n - 2010-12-14 Fixed bug#[6542](http://bugs.otrs.org/show_bug.cgi?id=6542) - Typo in file UPGRADING.\n - 2010-12-14 Fixed bug#[6535](http://bugs.otrs.org/show_bug.cgi?id=6535) - Stats CSV output is not CSV, despite preference change.\n - 2010-12-14 Fixed bug#[6532](http://bugs.otrs.org/show_bug.cgi?id=6532) - With multiple inline images, only first one is\n    preserved when replying.\n - 2010-12-14 Fixed bug#[6533](http://bugs.otrs.org/show_bug.cgi?id=6533) - Not possible to search tickets by responsible agent.\n - 2010-12-13 Fixed bug#[6520](http://bugs.otrs.org/show_bug.cgi?id=6520) - backup.pl doesn't backup with strong password.\n\n#3.0.4 2010-12-15\n - 2010-12-10 Improved handling of JavaScript code. Now post output filters\n    are able to inject and modify JavaScript code.\n - 2010-12-09 Fixed bug#[6498](http://bugs.otrs.org/show_bug.cgi?id=6498) - Creating module translations with\n    otrs.CreateTranslationFile.pl -l all creates new files.\n - 2010-11-09 Upgraded jQuery UI to 1.8.6 (to fix some IE9 bugs).\n - 2010-12-09 Fixed bug#[6515](http://bugs.otrs.org/show_bug.cgi?id=6515) - CSV export of SQL statement isn't working.\n - 2010-12-09 Updated Danish Translation, thanks to Lars Jorgensen!\n - 2010-12-09 Fixed bug#[6496](http://bugs.otrs.org/show_bug.cgi?id=6496) - Article Filter only displays one article.\n - 2010-12-08 Fixed bug#[6421](http://bugs.otrs.org/show_bug.cgi?id=6421) - AdminCustomerUser does not show customers without searching\n - 2010-12-08 Fixed bug#[6470](http://bugs.otrs.org/show_bug.cgi?id=6470) - AgentTicketForward does not support ArticleFreeText\n - 2010-12-08 Fixed bug#[6436](http://bugs.otrs.org/show_bug.cgi?id=6436) - Content validation with javascript does not\n    consider \"CheckEmailAddresses\".\n - 2010-12-07 Fixed bug#[6200](http://bugs.otrs.org/show_bug.cgi?id=6200) - OTRS 3.0 customer navigation not configurable.\n - 2010-12-07 Fixed bug#[6012](http://bugs.otrs.org/show_bug.cgi?id=6012) - DashboardTicketGeneric.pm fails handing over\n    \"Attributes\" to AgentTicketSearch().\n - 2010-12-07 Fixed bug#[6459](http://bugs.otrs.org/show_bug.cgi?id=6459) - Unwanted and unconfigurable text when customer has no ticket created yet.\n    This text was adapted and can now optionally be configured with the SysConfig setting\n    'Ticket::Frontend::CustomerTicketOverviewCustomEmptyText'.\n - 2010-12-06 Fixed bug#[6477](http://bugs.otrs.org/show_bug.cgi?id=6477) - There are no hooks for Output filters on ticket composing screens.\n - 2010-12-06 Fixed bug#[6414](http://bugs.otrs.org/show_bug.cgi?id=6414) - Ticket overview small: resizing problems.\n - 2010-12-06 Fixed bug#[6451](http://bugs.otrs.org/show_bug.cgi?id=6451) - Article Tree doesn't expand.\n - 2010-12-06 Fixed bug#[6427](http://bugs.otrs.org/show_bug.cgi?id=6427) - Building large number of CacheFileStorable/\n    CacheInternalTicket Files will cause Software error.\n - 2010-12-06 Fixed bug#[6408](http://bugs.otrs.org/show_bug.cgi?id=6408) - Uploading an attachment removed previously uploaded inline images.\n - 2010-12-06 Fixed bug#[6234](http://bugs.otrs.org/show_bug.cgi?id=6234) - Field validation in the AgentTicketPhone mask kicks in after uploading a picture.\n - 2010-12-06 Fixed bug#[6425](http://bugs.otrs.org/show_bug.cgi?id=6425) - Ticket::Frontend::MenuModule###460-Delete and\n    Ticket::Frontend::PreMenuModule###450-Delete resulting in white page.\n - 2010-12-03 Added possibility to see ticket actions on hover on every single ticket in medium and large\n    ticket overviews (enable with TicketActionsPerTicket item on Ticket::Frontend::Overview###Medium or\n    Ticket::Frontend::Overview###Preview setting).\n - 2010-12-03 Fixed bug#[6458](http://bugs.otrs.org/show_bug.cgi?id=6458) - \"Lock\" not indicated on compose.\n - 2010-12-03 Fixed bug#[6471](http://bugs.otrs.org/show_bug.cgi?id=6471) - Public interface handler is not able to load module\n    specific JavaScript and CSS.\n - 2010-12-03 Fixed bug#[6262](http://bugs.otrs.org/show_bug.cgi?id=6262) - Results list can expand behind ticket history table.\n - 2010-12-03 Fixed bug#[6456](http://bugs.otrs.org/show_bug.cgi?id=6456) - Searches won't save selected queues.\n - 2010-12-03 Fixed bug#[6431](http://bugs.otrs.org/show_bug.cgi?id=6431) - TicketSearch Window broken in IE8.\n - 2010-12-03 Fixed bug#[6468](http://bugs.otrs.org/show_bug.cgi?id=6468) - Can't add \"To\" field to TicketSearch.\n - 2010-12-03 Fixed bug#[6289](http://bugs.otrs.org/show_bug.cgi?id=6289) - i18n: Creating a new stat shows hardcoded value 'New'.\n - 2010-12-03 Fixed bug#[6304](http://bugs.otrs.org/show_bug.cgi?id=6304) - Not sure about the meaning of \"3\".\n - 2010-12-03 Updated Russian translation, thanks to Sergey Romanov!\n - 2010-12-02 Fixed bug#[6366](http://bugs.otrs.org/show_bug.cgi?id=6366) - gnupg signatures not working correct for partly signed messages.\n - 2010-12-01 Fixed bug#[6303](http://bugs.otrs.org/show_bug.cgi?id=6303) - Article display height in ticket zoom of customer interface can be too high.\n - 2010-12-01 Updated Danish translation, thanks to Lars Jorgensen!\n - 2010-12-01 Fixed bug#[6440](http://bugs.otrs.org/show_bug.cgi?id=6440) - Incomplete Action parameter after logging in to the\n    customer interface.\n - 2010-12-01 Fixed bug#[6455](http://bugs.otrs.org/show_bug.cgi?id=6455) - Ticket actions in Ticket Overview are not usable if\n    session id is not in cookie.\n - 2010-12-01 Fixed bug#[6453](http://bugs.otrs.org/show_bug.cgi?id=6453) - Moving Tickets via AgentTicketMove empties set Free Fields.\n - 2010-11-30 Updated Serbian translation, thanks to Milorad Jovanovic!\n - 2010-11-30 Fixed bug#[6401](http://bugs.otrs.org/show_bug.cgi?id=6401) - Invalid agents are partially ignored/shown in ticket masks.\n - 2010-11-30 Fixed bug#[6040](http://bugs.otrs.org/show_bug.cgi?id=6040) - Remove ReplyAll option if possible in agent interface.\n - 2010-11-29 Fixed bug#[4856](http://bugs.otrs.org/show_bug.cgi?id=4856) - Notifications are sent even if ticket is created with closed state.\n - 2010-11-29 Fixed bug#[6420](http://bugs.otrs.org/show_bug.cgi?id=6420) - Customer Search with No Results does not display appropriate message.\n - 2010-11-29 Fixed bug#[6428](http://bugs.otrs.org/show_bug.cgi?id=6428) - FreeText field alignment is wrong in AdminGenericAgent.\n - 2010-11-29 Updated Japanese translation, thanks to Kaz Kamimura!\n - 2010-11-29 Fixed bug#[2950](http://bugs.otrs.org/show_bug.cgi?id=2950) - Field labels for ArticleFreeTime are not translated in PDF print.\n - 2010-11-29 Fixed bug#[6401](http://bugs.otrs.org/show_bug.cgi?id=6401) - Field label for Content not aligned in SysConfig.\n - 2010-11-26 Fixed bug#[6390](http://bugs.otrs.org/show_bug.cgi?id=6390) - Customer Interface - Latest article hover text is always 'Loading'.\n\n#3.0.3 2010-11-29\n - 2010-11-26 Fixed bug#[6393](http://bugs.otrs.org/show_bug.cgi?id=6393) - ArticleFreeText is missing in Customer Interface TicketZoom.\n - 2010-11-26 Fixed bug#[6396](http://bugs.otrs.org/show_bug.cgi?id=6396) - Freetext fields can't be added to ticket search.\n - 2010-11-25 Fixed bug#[6131](http://bugs.otrs.org/show_bug.cgi?id=6131) - Lack of warning for revoked and expired keys for PGP signs on emails.\n - 2010-11-25 Fixed bug#[6361](http://bugs.otrs.org/show_bug.cgi?id=6361) - Upgrade v2.4-\\>v3.0 on MySQL with InnoDB as storage\n    engine generates an error.\n - 2010-11-25 Fixed bug#[6199](http://bugs.otrs.org/show_bug.cgi?id=6199) - OTRS 3.0 ToolBarSearchFulltext has no product design.\n - 2010-11-25 Fixed bug#[2638](http://bugs.otrs.org/show_bug.cgi?id=2638) - Broken email syntax detection.\n - 2010-11-25 Fixed bug#[6392](http://bugs.otrs.org/show_bug.cgi?id=6392) - Email addresses containing special but allowed\n    characters are not accepted in customer administration.\n - 2010-11-25 Fixed bug#[6367](http://bugs.otrs.org/show_bug.cgi?id=6367) - My Queues Selection Box doesn't display well on lower resolutions.\n - 2010-11-24 Fixed bug#[6379](http://bugs.otrs.org/show_bug.cgi?id=6379) - No Ajax Update fro Crypt and Sign fields when you set the customer on Email Compose.\n - 2010-11-24 Fixed bug#[6395](http://bugs.otrs.org/show_bug.cgi?id=6395) - Broken use of PGP Sign on AgentTicketEmail screen.\n - 2010-11-24 Fixed bug#[6388](http://bugs.otrs.org/show_bug.cgi?id=6388) - In the Medium view, the title of the ticket is truncated after 25 characters.\n - 2010-11-24 Fixed bug#[6389](http://bugs.otrs.org/show_bug.cgi?id=6389) - Customer TicketZoom - Ticket Title is truncated after 25 characters.\n - 2010-11-24 Fixed bug#[6370](http://bugs.otrs.org/show_bug.cgi?id=6370) - New customer form submission - errors are silently dropped.\n - 2010-11-24 Fixed bug#[6264](http://bugs.otrs.org/show_bug.cgi?id=6264) - CKEditor Image upload does not show a correct behavior in case a FormID is missing.\n - 2010-11-24 Fixed bug#[6353](http://bugs.otrs.org/show_bug.cgi?id=6353) - GenericAgent throws error when ArticleFS storage used.\n - 2010-11-24 Added new Japanese translation, thanks to Kaz Kamimura Thomas!\n - 2010-11-24 Fixed bug#[6187](http://bugs.otrs.org/show_bug.cgi?id=6187) - IE9: article height incorrectly calculated.\n - 2010-11-24 Fixed bug#[6188](http://bugs.otrs.org/show_bug.cgi?id=6188) - IE9: article table resize handle has no effect.\n - 2010-11-24 Fixed bug#[6189](http://bugs.otrs.org/show_bug.cgi?id=6189) - IE9: ticket overview table headers behave incorrectly.\n - 2010-11-24 Fixed bug#[6382](http://bugs.otrs.org/show_bug.cgi?id=6382) - otrs.ArticleStorageSwitch.pl script not working.\n - 2010-11-24 Fixed bug#[6378](http://bugs.otrs.org/show_bug.cgi?id=6378) - The error messages are displayed incorrectly in the action list.\n - 2010-11-23 Fixed bug#[6314](http://bugs.otrs.org/show_bug.cgi?id=6314) - Upgrade 2.4.x -\\> 3.0.x - older tickets in database\n    are marked as unread.\n - 2010-11-23 Fixed bug#[6360](http://bugs.otrs.org/show_bug.cgi?id=6360) - Bulk Action link all to ticket number doesn't link anything.\n - 2010-11-23 Fixed bug#[6286](http://bugs.otrs.org/show_bug.cgi?id=6286) - Adding a phone call outbound does indicate an unread article.\n - 2010-11-23 Fixed bug#[6283](http://bugs.otrs.org/show_bug.cgi?id=6283) - FreeText field search is not possible in Customer Interface.\n - 2010-11-23 Fixed bug#[6362](http://bugs.otrs.org/show_bug.cgi?id=6362) - Software error adding new PGP key.\n - 2010-11-23 Fixed bug#[6273](http://bugs.otrs.org/show_bug.cgi?id=6273) - IE7: Alert dialog display problems.\n - 2010-11-23 Fixed bug#[6260](http://bugs.otrs.org/show_bug.cgi?id=6260) - RichTextEditor Action for Inline-Image Upload is hard coded.\n - 2010-11-23 Fixed bug#[6371](http://bugs.otrs.org/show_bug.cgi?id=6371) - Opening the customer ticket zoom shows a browser error message.\n - 2010-11-23 Fixed bug#[6308](http://bugs.otrs.org/show_bug.cgi?id=6308) - Ticket search templates are not saved in agent interface.\n - 2010-11-23 Fixed bug#[6359](http://bugs.otrs.org/show_bug.cgi?id=6359) - Documentation fixes.\n - 2010-11-23 Fixed bug#[6368](http://bugs.otrs.org/show_bug.cgi?id=6368) - Change search options does not work in customer interface.\n - 2010-11-23 Fixed bug#[6346](http://bugs.otrs.org/show_bug.cgi?id=6346) - Upgrading script 2.4 -\\> 3.0 may cause corruption of\n    the configuration files (ZZZAuto.pm and ZZZAAuto.pm).\n - 2010-11-23 Fixed bug#[6357](http://bugs.otrs.org/show_bug.cgi?id=6357) - Customer search URL contains ampersands (&) instead of semicolons (;).\n - 2010-11-22 Fixed bug#[6358](http://bugs.otrs.org/show_bug.cgi?id=6358) - No custom CSS or JS is loaded from public module registration settings.\n - 2010-11-22 Fixed bug#[6355](http://bugs.otrs.org/show_bug.cgi?id=6355) - $HOME/bin/otrs.LoaderCache.pl cron job unhappy with\n    files in var/httpd/htdocs/skins/Customer/.\n - 2010-11-22 Fixed bug#[6352](http://bugs.otrs.org/show_bug.cgi?id=6352) - var/cron/cache schedules nonexistent $HOME/bin/otrs.CacheDelete.pl.\n - 2010-11-22 Fixed bug#[6350](http://bugs.otrs.org/show_bug.cgi?id=6350) - Sort order in \"Auto Responses \\<-\\> Queues\".\n - 2010-11-19 Fixed bug#[6288](http://bugs.otrs.org/show_bug.cgi?id=6288) - Generating a stat that outputs to PDF or CSV opens an empty pop-up.\n - 2010-11-19 Fixed bug#[6300](http://bugs.otrs.org/show_bug.cgi?id=6300) - Revoked GPG-Keys are not shown as revoked.\n - 2010-11-19 Fixed bug#[6343](http://bugs.otrs.org/show_bug.cgi?id=6343) - CSS problem in the result list of ticket customer search.\n - 2010-11-19 Fixed bug#[6327](http://bugs.otrs.org/show_bug.cgi?id=6327) - More problems when using Session instead of Cookie.\n - 2010-11-19 Fixed bug#[6337](http://bugs.otrs.org/show_bug.cgi?id=6337) - Generic Agent has \"Delete Ticket\" as Default set -\\> risk of ticket loss!\n - 2010-11-18 Fixed bug#[6330](http://bugs.otrs.org/show_bug.cgi?id=6330) - Bad character in Polish translation.\n - 2010-11-18 Fixed bug#[6324](http://bugs.otrs.org/show_bug.cgi?id=6324) - If you use Sessions in URLs and not in cookies,\n    responding to tickets logs you out.\n - 2010-11-17 Upgraded jQuery to 1.4.4 because of a number of regressions in 1.4.3.\n - 2010-11-17 Fixed bug#[6232](http://bugs.otrs.org/show_bug.cgi?id=6232) - FreeText fields requiredness is not indicated.\n - 2010-11-17 Fixed bug#[6318](http://bugs.otrs.org/show_bug.cgi?id=6318) - Error in error log due to comparison with a value that sometimes does not exist on Customer Search.\n - 2010-11-17 Fixed bug#[6317](http://bugs.otrs.org/show_bug.cgi?id=6317) - No Pagination String in Customer Search Results.\n - 2010-11-17 Fixed bug#[6309](http://bugs.otrs.org/show_bug.cgi?id=6309) - SortBy columns performs a full ticket search on customer ticket search results.\n - 2010-11-16 Fixed bug#[6316](http://bugs.otrs.org/show_bug.cgi?id=6316) - CustomerLogo not working.\n - 2010-11-16 Fixed bug#[5797](http://bugs.otrs.org/show_bug.cgi?id=5797) - SMIME functionality does not work with OpenSSL 1.0.0.\n - 2010-11-16 Fixed bug#[6302](http://bugs.otrs.org/show_bug.cgi?id=6302) - Inbound mail password displayed in clear text during install.\n - 2010-11-16 Fixed bug#[6261](http://bugs.otrs.org/show_bug.cgi?id=6261) - Remove drop down from SysConfig start screen.\n - 2010-11-16 Fixed bug#[6294](http://bugs.otrs.org/show_bug.cgi?id=6294) - GenericAgent - Time Selection is not in columns.\n\n#3.0.2 2010-11-17\n - 2010-11-16 Fixed bug#[6278](http://bugs.otrs.org/show_bug.cgi?id=6278) - Public and Customer frontends disclose version information.\n - 2010-11-16 Fixed bug#[6297](http://bugs.otrs.org/show_bug.cgi?id=6297) - [IE8] can't open popups.\n - 2010-11-15 Fixed bug#[6290](http://bugs.otrs.org/show_bug.cgi?id=6290) - Generic Agent Weekdays are not correctly sorted.\n\n#3.0.1 2010-11-15\n - 2010-11-12 Fixed bug#[6268](http://bugs.otrs.org/show_bug.cgi?id=6268) - Error in web installer when setting up RPM on CentOS.\n - 2010-11-12 Fixed bug#[6271](http://bugs.otrs.org/show_bug.cgi?id=6271) - In IE8 customer name does not come up when\n    you create new Tickets and enter customer name.\n - 2010-11-12 Fixed bug#[6225](http://bugs.otrs.org/show_bug.cgi?id=6225) - User creation gives confusing error message when\n    email address is incorrect.\n - 2010-11-12 Fixed bug#[6266](http://bugs.otrs.org/show_bug.cgi?id=6266) - Order of TicketOverview columns in CPanel.\n - 2010-11-11 Fixed bug#[5984](http://bugs.otrs.org/show_bug.cgi?id=5984) - Attachment is lost when replying / forwarding /\n    splitting articles.\n - 2010-11-11 Fixed bug#[6222](http://bugs.otrs.org/show_bug.cgi?id=6222) - Links are not displayed completely in HTML articles.\n - 2010-11-10 Fixed bug#[6257](http://bugs.otrs.org/show_bug.cgi?id=6257) - Watched Tickets ToolBarModule does not have a shortcut defined\n    - leads to display issues.\n - 2010-11-10 Fixed bug#[6254](http://bugs.otrs.org/show_bug.cgi?id=6254) - Reloading article in ticket zoom corrupts encoding.\n - 2010-11-10 Fixed bug#[6111](http://bugs.otrs.org/show_bug.cgi?id=6111): i18n - Admin Link relation edit screens translation issues.\n - 2010-11-10 Fixed bug#[6061](http://bugs.otrs.org/show_bug.cgi?id=6061): Field size harmonization.\n - 2010-11-10 Updated zh\\_CN translation, thanks to Never Min!\n - 2010-11-09 Updated CPAN module CGI to version 3.50.\n - 2010-11-09 Fixed bug#[6251](http://bugs.otrs.org/show_bug.cgi?id=6251) - Admin Group Interface produces an error log entry.\n - 2010-11-09 Fixed bug#[5043](http://bugs.otrs.org/show_bug.cgi?id=5043) - All Tickets / Locked Tickets View in QueueView missing.\n - 2010-11-09 Fixed bug#[6238](http://bugs.otrs.org/show_bug.cgi?id=6238) - Global Overview settings are centered on the results, not on the page.\n - 2010-11-09 Fixed bug#[6071](http://bugs.otrs.org/show_bug.cgi?id=6071) - Ticket Zoom - back button does not work as expected.\n - 2010-11-09 Fixed bug#[5788](http://bugs.otrs.org/show_bug.cgi?id=5788) - IE Browser Error \"Out of memory at line: 35\".\n - 2010-11-08 Fixed bug#[6225](http://bugs.otrs.org/show_bug.cgi?id=6225) - User creation gives confusing error message when email address is incorrect.\n - 2010-11-08 Fixed bug#[6227](http://bugs.otrs.org/show_bug.cgi?id=6227) - Customer User creation gives confusing error message when email address is\n     not validated.\n - 2010-11-08 Fixed bug#[6241](http://bugs.otrs.org/show_bug.cgi?id=6241) - Need Ticket::ViewableStateType in Kernel/Config.pm.\n - 2010-11-08 Fixed bug#[6240](http://bugs.otrs.org/show_bug.cgi?id=6240) - Agent Dashboard - ticket opens only when clicking on the number.\n - 2010-11-08 Fixed bug#[5935](http://bugs.otrs.org/show_bug.cgi?id=5935) - TicketSearch Button - various improvements.\n - 2010-11-05 Fixed bug#[6113](http://bugs.otrs.org/show_bug.cgi?id=6113) - SysConfig - add a shortcut to \"Change\" button.\n - 2010-11-05 Fixed bug#[5930](http://bugs.otrs.org/show_bug.cgi?id=5930) - Optimisation in\n    Kernel::Modules::CustomerTicketOverView-\\>ShowTicketStatus.\n\n#3.0.0 beta7 2010-11-08\n - 2010-11-05 Fixed bug#[6151](http://bugs.otrs.org/show_bug.cgi?id=6151) - No visual notification when generated article in ticket views.\n - 2010-11-05 Upgraded CKEditor to 3.4.2.\n - 2010-11-05 Fixed bug#[6237](http://bugs.otrs.org/show_bug.cgi?id=6237) - Datepicker starts weeks always on Sunday.\n - 2010-11-04 Skins can now be selected based on hostname with the configuration\n    settings \"Loader::Agent::DefaultSelectedSkin::HostBased\" and\n    \"Loader::Customer::SelectedSkin::HostBased\".\n - 2010-11-04 Fixed bug#[6216](http://bugs.otrs.org/show_bug.cgi?id=6216) - Queue names with spaces not displayed correctly in ticket view.\n - 2010-11-04 Fixed bug#[6186](http://bugs.otrs.org/show_bug.cgi?id=6186) - IE9: Dashboard widget functions broken.\n - 2010-11-04 Fixed bug#[6185](http://bugs.otrs.org/show_bug.cgi?id=6185) - IE9: JS error in the Dashboard.\n - 2010-11-04 Fixed bug#[6231](http://bugs.otrs.org/show_bug.cgi?id=6231) - Link delete screen redirects to itself if the bulk checkbox is used.\n - 2010-11-04 Fixed bug#[6215](http://bugs.otrs.org/show_bug.cgi?id=6215) - Agents can't have two popups open at the same time.\n - 2010-11-04 Fixed bug#[6228](http://bugs.otrs.org/show_bug.cgi?id=6228) - No difference between prio 1, 2 and 3 in overviews.\n - 2010-11-04 Fixed bug#[5757](http://bugs.otrs.org/show_bug.cgi?id=5757) - Article table resizing does not work correctly in IE7.\n - 2010-11-04 Fixed bug#[6229](http://bugs.otrs.org/show_bug.cgi?id=6229) - Submit button for Change Customer is below the fold with large amount of history.\n - 2010-11-04 Fixed bug#[6191](http://bugs.otrs.org/show_bug.cgi?id=6191) - Dashboard filter loses context after moving to next \"bundle\".\n - 2010-11-04 Fixed bug#[6207](http://bugs.otrs.org/show_bug.cgi?id=6207) - Pagination does not work in dashboard.\n - 2010-11-04 Fixed bug#[5937](http://bugs.otrs.org/show_bug.cgi?id=5937) - Large overview data presentation issues.\n - 2010-11-04 Fixed bug#[6203](http://bugs.otrs.org/show_bug.cgi?id=6203) - Rich Text Editor - right click on misspelled words in Firefox does not work as expected.\n - 2010-11-03 Fixed bug#[4273](http://bugs.otrs.org/show_bug.cgi?id=4273) - No required fields indication in AdminUser screen.\n - 2010-11-03 Added Serbian translation, thanks to Milorad Jovanovi\u00c4\u2021!\n - 2010-11-03 Fixed bug#[6073](http://bugs.otrs.org/show_bug.cgi?id=6073) - Search window does not resize to selected content.\n - 2010-11-03 Fixed bug#[6122](http://bugs.otrs.org/show_bug.cgi?id=6122) - TicketZoom Scroller Height is calculation is broken.\n - 2010-11-03 Fixed bug#[5649](http://bugs.otrs.org/show_bug.cgi?id=5649) - Changing owner in M and S views opens in same tab instead of popup.\n - 2010-11-03 Fixed bug#[6181](http://bugs.otrs.org/show_bug.cgi?id=6181) - Customer Login box does not work if password is in browser cache.\n - 2010-11-03 Fixed bug#[6206](http://bugs.otrs.org/show_bug.cgi?id=6206) - DefineEmailFrom is not used when creating an email-ticket.\n - 2010-11-03 Fixed bug#[6156](http://bugs.otrs.org/show_bug.cgi?id=6156) - No FreeText Fields in Search.\n - 2010-11-02 Fixed bug#[6092](http://bugs.otrs.org/show_bug.cgi?id=6092) - Skins cannot be selected based on hostname.\n - 2010-11-02 Fixed bug#[5054](http://bugs.otrs.org/show_bug.cgi?id=5054) - Page titles could be more compact and informative.\n - 2010-11-02 Fixed bug#[6213](http://bugs.otrs.org/show_bug.cgi?id=6213) - If you use AgentTicketMove in a separate screen,\n    it does not open in a popup.\n - 2010-11-02 Fixed bug#[6208](http://bugs.otrs.org/show_bug.cgi?id=6208) - If ticket zoom is not fully loaded actions will\n    open in same window instead of popup.\n - 2010-11-02 Fixed bug#[6210](http://bugs.otrs.org/show_bug.cgi?id=6210) - GetUserData() function caching does not work correctly in all scenarios.\n - 2010-11-02 Fixed bug#[4565](http://bugs.otrs.org/show_bug.cgi?id=4565) - OutOfOffice information is displayed in responses and signatures.\n - 2010-11-02 Fixed bug#[6055](http://bugs.otrs.org/show_bug.cgi?id=6055) - 500 Error when closing ticket with non-original/changed customer.\n - 2010-11-02 Fixed bug#[5830](http://bugs.otrs.org/show_bug.cgi?id=5830) - Sometimes when replying on ticket getting error\n    \"Can't use an undefined value as a SCALAR reference\".\n - 2010-11-02 Fixed bug#[5296](http://bugs.otrs.org/show_bug.cgi?id=5296) - Event based notifications do not check for local mail address.\n - 2010-11-02 Fixed bug#[1639](http://bugs.otrs.org/show_bug.cgi?id=1639) - Limit search time to certain amount by default.\n - 2010-11-02 Updated CPAN module JSON to version 2.27.\n - 2010-11-02 Fixed bug#[6205](http://bugs.otrs.org/show_bug.cgi?id=6205) - DefineEmailFrom does not use SystemAddress when set to\n    Agent Name + FromSeparator + System Address Display Name.\n - 2010-11-02 Fixed bug#[6162](http://bugs.otrs.org/show_bug.cgi?id=6162) - When you close a search before complete load,\n    it will be reopened automatically.\n - 2010-11-02 Fixed bug#[6060](http://bugs.otrs.org/show_bug.cgi?id=6060) - IE7 customer management in a popup breaks ticket creation page.\n - 2010-11-02 Fixed bug#[6204](http://bugs.otrs.org/show_bug.cgi?id=6204) - Autocomplete of customer users shows encoding characters.\n - 2010-11-02 Fixed bug#[6201](http://bugs.otrs.org/show_bug.cgi?id=6201) - Not able to save FreeText fields if TimeInput it set to required.\n - 2010-11-01 Fixed bug#[6137](http://bugs.otrs.org/show_bug.cgi?id=6137) - Split action does not create a link to the original ticket.\n - 2010-10-29 Fixed bug#[6163](http://bugs.otrs.org/show_bug.cgi?id=6163) - In Phone Ticket you can't attach files automatically after choosing a customer.\n - 2010-10-29 Fixed bug#[5917](http://bugs.otrs.org/show_bug.cgi?id=5917) - Thirdparty [Firefox]: Search freezes after deleting one field from profile.\n - 2010-10-29 Fixed bug#[5989](http://bugs.otrs.org/show_bug.cgi?id=5989) - Thirdparty [ckeditor?]: Using address book in reply window breaks the message body text box.\n - 2010-10-29 Updated Russian translation, thanks to Eugene Kungurov!\n - 2010-10-29 Fixed bug#[6184](http://bugs.otrs.org/show_bug.cgi?id=6184) - Streamline required field error messages.\n - 2010-10-28 Fixed bug#[5657](http://bugs.otrs.org/show_bug.cgi?id=5657) - In Global Ticket Overview, sorting for Prio is missing.\n - 2010-10-28 Fixed bug#[6141](http://bugs.otrs.org/show_bug.cgi?id=6141) - Sysconfig Address Book disable.\n - 2010-10-28 Upgraded CKEditor to 3.4.1.\n - 2010-10-27 Fixed bug#[6082](http://bugs.otrs.org/show_bug.cgi?id=6082) - Graph selections appear even if GD is not installed.\n - 2010-10-27 Fixed bug#[6059](http://bugs.otrs.org/show_bug.cgi?id=6059) - Customer name with quotes is truncated.\n - 2010-10-27 Fixed bug#[6094](http://bugs.otrs.org/show_bug.cgi?id=6094) - Responses in ticket view don't match.\n - 2010-10-27 Fixed bug#[6116](http://bugs.otrs.org/show_bug.cgi?id=6116) - ZoomExpand preference works inverted for articles.\n - 2010-10-27 Fixed bug#[6125](http://bugs.otrs.org/show_bug.cgi?id=6125) - Customer IDs with underscores do not work properly.\n - 2010-10-27 Fixed bug#[5637](http://bugs.otrs.org/show_bug.cgi?id=5637) - In Phone Ticket -\\> Create a new customer via Popup,\n    it's not possible to take over the recent created customer.\n    Only a link to create a new ticket appears.\n - 2010-10-26 Fixed bug#[6076](http://bugs.otrs.org/show_bug.cgi?id=6076) - Bulk unlock does not work correctly.\n - 2010-10-26 Fixed bug#[6163](http://bugs.otrs.org/show_bug.cgi?id=6163) - In Phone Ticket you can't attach files automatically after choosing a customer.\n - 2010-10-26 Fixed bug#[6114](http://bugs.otrs.org/show_bug.cgi?id=6114) - Percentage sign in Customers \\<-\\> Services interface when using\n    Dutch translation.\n - 2010-10-25 Fixed bug#[6160](http://bugs.otrs.org/show_bug.cgi?id=6160) - ServiceList function breaks if you have service names with\n    special characters like ? ? ? or + + +.\n - 2010-10-25 Fixed bug#[6118](http://bugs.otrs.org/show_bug.cgi?id=6118) - The \"Small\", \"Medium\" and \"Large\" Queue views are broken if no\n    data is found.\n\n#3.0.0 beta6 2010-10-25\n - 2010-10-22 Fixed bug#[6150](http://bugs.otrs.org/show_bug.cgi?id=6150) - Spell checker should not be enabled by default.\n - 2010-10-22 Fixed bug#[6149](http://bugs.otrs.org/show_bug.cgi?id=6149) - New users get Ivory skin when created by admin using non-english language.\n - 2010-10-22 Updated CPAN module Text::CSV to version 1.20.\n - 2010-10-21 Fixed bug#[6089](http://bugs.otrs.org/show_bug.cgi?id=6089) - Close Window in Statistics doesn't work.\n - 2010-10-20 Fixed bug#[6132](http://bugs.otrs.org/show_bug.cgi?id=6132) - Wrong caching in RoleLookup function in Kernel/System/Group.pm.\n - 2010-10-19 Fixed bug#[6124](http://bugs.otrs.org/show_bug.cgi?id=6124) - Wrong caching in GroupLookup function in Kernel/System/Group.pm.\n - 2010-10-19 Fixed bug#[6127](http://bugs.otrs.org/show_bug.cgi?id=6127) - External function to create validation rules fails in Firefox on Ubuntu Linux.\n - 2010-10-19 Updated CPAN module Net::POP3::SSLWrapper to version 0.05.\n - 2010-10-19 Updated CPAN module Net::IMAP::Simple to version 1.2017.\n - 2010-10-19 Updated CPAN module MailTools to version 2.07.\n - 2010-10-19 Updated CPAN module JSON to version 2.26.\n - 2010-10-19 Updated CPAN module Apache::Reload to version 0.11.\n - 2010-10-18 Fixed bug#[6117](http://bugs.otrs.org/show_bug.cgi?id=6117) - Find method in VirtualFS is not able to find a file\n    by Filename and Preferences\n - 2010-10-17 Fixed bug#[6090](http://bugs.otrs.org/show_bug.cgi?id=6090) - Accounted Time is not displayed in articles if\n    Ticket::ZoomTimeDisplay is set to 'yes'.\n - 2010-10-17 Fixed bug#[6112](http://bugs.otrs.org/show_bug.cgi?id=6112) - Database IDs displayed in Admin GUI.\n - 2010-10-17 Fixed bug#[6110](http://bugs.otrs.org/show_bug.cgi?id=6110) - AdminCustomerUserGroup lists non-existing group 'info'.\n - 2010-10-17 Fixed bug#[6109](http://bugs.otrs.org/show_bug.cgi?id=6109) - '0' is not recognized as a valid input for TimeUnits.\n - 2010-10-12 Fixed bug#[6058](http://bugs.otrs.org/show_bug.cgi?id=6058) - Keyboard shortcuts should be shown via tooltip.\n - 2010-10-12 Added ability to open ticket history and other ticket actions\n    in parallel.\n - 2010-10-12 Fixed bug#[6047](http://bugs.otrs.org/show_bug.cgi?id=6047) - Secure::DisableBanner does not work.\n - 2010-10-11 Fixed bug#[6079](http://bugs.otrs.org/show_bug.cgi?id=6079) - Unread tickets does mark as readed only second time.\n - 2010-10-11 Fixed bug#[5921](http://bugs.otrs.org/show_bug.cgi?id=5921) - RedHat rc script does not ignore \".save\" files\n    when rebuilding the cron jobs.\n - 2010-10-11 Fixed bug#[6040](http://bugs.otrs.org/show_bug.cgi?id=6040) - Remove ReplyAll option if possible.\n - 2010-10-07 Fixed bug#[5994](http://bugs.otrs.org/show_bug.cgi?id=5994) - Creating new statistic, field validation kicks in immediately.\n - 2010-10-07 Fixed bug#[5975](http://bugs.otrs.org/show_bug.cgi?id=5975) - Notifications (event-based) to external email\n    address are visible to customers.\n\n#3.0.0 beta5 2010-10-11\n - 2010-10-04 Fixed bug#[6064](http://bugs.otrs.org/show_bug.cgi?id=6064) - Predefined responses does not work.\n - 2010-10-01 Big improvements to TicketZoom rendering performance.\n - 2010-09-30 Fixed bug#[6054](http://bugs.otrs.org/show_bug.cgi?id=6054) - The default services are not loaded when creating a new ticket.\n - 2010-09-30 Fixed bug#[5911](http://bugs.otrs.org/show_bug.cgi?id=5911) - Enhance menu behavior.\n    The submenus in the agent main menu open on click by default. With the new\n    config \"OpenMainMenuOnHover\" setting it can be specified that they should\n    also open on mouse hover.\n - 2010-09-30 Updated Ukrainian translation file, thanks to \u00d0\u2018\u00d0\u00b5\u00d0\u00bb\u00d1\u0152\u00d1?\u00d0\u00ba\u00d0\u00b8\u00d0\u00b9 \u00d0?\u00d1\u20ac\u00d1\u201a\u00d0\u00b5\u00d0\u00bc!\n - 2010-09-30 Fixed bug#[5979](http://bugs.otrs.org/show_bug.cgi?id=5979) - IE8 - articles for a ticket doesn't switch\n - 2010-09-29 Fixed bug#[6017](http://bugs.otrs.org/show_bug.cgi?id=6017) - QueueLookup function returns wrong QueueID if a\n    queue name was updated.\n - 2010-09-29 Fixed bug#[6019](http://bugs.otrs.org/show_bug.cgi?id=6019) - Choosing a search template does nothing.\n - 2010-09-29 Fixed bug#[6033](http://bugs.otrs.org/show_bug.cgi?id=6033) - Too many toolbar icons shown by default.\n    Toolbar shortcuts are not shown by default.\n    Toolbar items for tickets (such as locked tickets) are only shown if\n    they have active tickets.\n - 2010-09-29 Fixed bug#[6032](http://bugs.otrs.org/show_bug.cgi?id=6032) - Customer History context settings not working.\n - 2010-09-28 Fixed bug#[6021](http://bugs.otrs.org/show_bug.cgi?id=6021) - Ticket Types are still displayed if they're invalid.\n - 2010-09-28 Fixed bug#[4732](http://bugs.otrs.org/show_bug.cgi?id=4732) - Mysql table index not used when LOWER()\n    is used in queries for customer\\_user.login. There is now a new flag CaseSensitive\n    in the customer DB settings. Setting this to 1 will improve performance\n    dramatically on large databases.\n - 2010-09-24 Fixed bug#[6007](http://bugs.otrs.org/show_bug.cgi?id=6007) - Free field content not saved.\n\n#3.0.0 beta4 2010-09-27\n - 2010-09-24 Updated Russian translation file, thanks to Eugene Kungurov!\n - 2010-09-24 Fixed bug#[5655](http://bugs.otrs.org/show_bug.cgi?id=5655) - In Article Zoom, after a new article got created\n    and page reloads, new article is shown as new. It's confusing.\n - 2010-09-24 Fixed bug#[5848](http://bugs.otrs.org/show_bug.cgi?id=5848) - Wrong characters in Czech language.\n - 2010-09-24 Updated Czech translation file, thanks to Pavel!\n - 2010-09-24 Fixed bug#[5962](http://bugs.otrs.org/show_bug.cgi?id=5962) - ToolBarModule and TicketSearchProfile, management\n    of search profiles is not working correctly.\n - 2010-09-23 Fixed bug#[5950](http://bugs.otrs.org/show_bug.cgi?id=5950) - Customer History not shown in Change Customer View.\n - 2010-09-23 Changed ResponseFormat to TOFU (what people expect).\n - 2010-09-23 Fixed bug#[3515](http://bugs.otrs.org/show_bug.cgi?id=3515) - AgentTicketMove standard \"Note\" and \"Subject\" cannot be configured.\n - 2010-09-23 Fixed bug#[5965](http://bugs.otrs.org/show_bug.cgi?id=5965) - AgentTicketMove does not support setting of \"Note\" and \"Subject\".\n - 2010-09-23 Fixed bug#[5999](http://bugs.otrs.org/show_bug.cgi?id=5999) - Undefined variables generate warning in CustomerTicketMessage.\n - 2010-09-23 Fixed bug#[5980](http://bugs.otrs.org/show_bug.cgi?id=5980) - Free fields are not properly aligned.\n - 2010-09-23 Fixed bug#[5983](http://bugs.otrs.org/show_bug.cgi?id=5983) - Outlook inline image is displayed in attachment list.\n - 2010-09-23 Fixed bug#[5849](http://bugs.otrs.org/show_bug.cgi?id=5849) - Headline / Company Name is hardcoded in the DTL of the customer interface.\n - 2010-09-23 Fixed bug#[5988](http://bugs.otrs.org/show_bug.cgi?id=5988) - ActionRow in customer interface displays incorrectly\n    when zoomed, in Firefox/Webkit browser\n - 2010-09-23 Fixed bug#[5995](http://bugs.otrs.org/show_bug.cgi?id=5995) - Pagination in Customer Interface does not work.\n - 2010-09-23 Fixed bug#[5982](http://bugs.otrs.org/show_bug.cgi?id=5982) - Email address does not render properly if it\n    contains braces.\n - 2010-09-23 Fixed bug#[5987](http://bugs.otrs.org/show_bug.cgi?id=5987) - No column titles for ticket list in customer interface.\n    This can now be configured with the config setting\n    \"Ticket::Frontend::CustomerTicketOverviewSortable\".\n - 2010-09-22 Fixed bug#[5964](http://bugs.otrs.org/show_bug.cgi?id=5964) - The given param 'klant@ykoon.xx' in 'WatchUserIDs' is\n    invalid in customer panel!\n - 2010-09-22 Fixed bug#[5956](http://bugs.otrs.org/show_bug.cgi?id=5956) - Arrows to expand/collapse Support Module details point\n    in the wrong direction.\n - 2010-09-22 Fixed bug#[5976](http://bugs.otrs.org/show_bug.cgi?id=5976) - Admin Notification (event) text box runs outside the screen.\n - 2010-09-22 Fixed bug#[5959](http://bugs.otrs.org/show_bug.cgi?id=5959) - Agent gets \"Invalid argument\" JavaScript Error in Ticket Zoom.\n - 2010-09-21 Fixed bug#[5970](http://bugs.otrs.org/show_bug.cgi?id=5970) - Wrong orientation of expand / collapse arrows.\n - 2010-09-20 Fixed bug#[5707](http://bugs.otrs.org/show_bug.cgi?id=5707) - Web Installer Mail Configuration does not list all SMTP backends/options.\n - 2010-09-15 Fixed bug#[5948](http://bugs.otrs.org/show_bug.cgi?id=5948) - Address Book will not open for ticket forwarding.\n - 2010-09-15 Fixed bug#[5943](http://bugs.otrs.org/show_bug.cgi?id=5943) - Customer Link behaviour in ZoomView.\n - 2010-09-13 Fixed bug#[5649](http://bugs.otrs.org/show_bug.cgi?id=5649) - Changing owner from L view opens in same tab instead of popup.\n - 2010-09-13 Fixed bug#[5929](http://bugs.otrs.org/show_bug.cgi?id=5929) - CheckURLHash();get's called every 500ms - generates\n    not needed load.\n\n#3.0.0 beta3 2010-09-13\n - 2010-09-10 Fixed bug#[5525](http://bugs.otrs.org/show_bug.cgi?id=5525) - If submit button is clicked repeatedly two or more tickets\n    can be created instead of one.\n - 2010-09-10 Fixed bug#[5923](http://bugs.otrs.org/show_bug.cgi?id=5923) - Can't set pending date to today but few hours later.\n - 2010-09-10 Fixed bug#[5913](http://bugs.otrs.org/show_bug.cgi?id=5913) - Time field of adminlog has to be bigger.\n - 2010-09-09 Fixed bug#[5916](http://bugs.otrs.org/show_bug.cgi?id=5916) - Used search fields are not removed from the\n    available search fields list.\n - 2010-09-09 Fixed bug#[5866](http://bugs.otrs.org/show_bug.cgi?id=5866) - AutoLoginCreation does not work.\n - 2010-09-09 Fixed bug#[5674](http://bugs.otrs.org/show_bug.cgi?id=5674) - Attachment name and size are not displayed in\n    attachment column in ticket zoom article table.\n - 2010-09-09 Fixed bug#[5902](http://bugs.otrs.org/show_bug.cgi?id=5902) - Long text overflow in infobox is not cut or wrapped.\n - 2010-09-09 Fixed bug#[5900](http://bugs.otrs.org/show_bug.cgi?id=5900) - ~otrs/bin/otrs.DeleteCache.pl should also delete the\n    minified JS cache.\n - 2010-09-08 Fixed bug#[5665](http://bugs.otrs.org/show_bug.cgi?id=5665) - In Admin-Customer Management, required fields are not shown but\n    validation is working.\n - 2010-09-08 Fixed bug#[5881](http://bugs.otrs.org/show_bug.cgi?id=5881) - ArticleDialog does not show last article description\n    fully.\n - 2010-09-08 Fixed bug#[5846](http://bugs.otrs.org/show_bug.cgi?id=5846) - Missing error message if tickets pending time gets\n    set to an invalid time.\n - 2010-09-08 Fixed bug#[5651](http://bugs.otrs.org/show_bug.cgi?id=5651) - Spellcheck can't be disabled.\n - 2010-09-08 Updated Danish translation file, thanks to Mads N\u00ef\u00bf\u00bdshauge Vestergaard!\n - 2010-09-08 Fixed bug#[5668](http://bugs.otrs.org/show_bug.cgi?id=5668) - Dashboard Widgets \"Agents Online\" shows pagination\n   links even if no pagination is needed.\n - 2010-09-08 Fixed bug#[5882](http://bugs.otrs.org/show_bug.cgi?id=5882) - ArticleBox 'Direction' is not implemented.\n - 2010-09-03 Fixed bug#[5779](http://bugs.otrs.org/show_bug.cgi?id=5779) - Mandatory FreeTime fields are not validated.\n - 2010-09-03 Fixed bug#[5811](http://bugs.otrs.org/show_bug.cgi?id=5811) - Customer Interface account creation error handling\n    does not work correctly.\n - 2010-09-07 Fixed bug#[5861](http://bugs.otrs.org/show_bug.cgi?id=5861) - Dashboard: CacheTTL for Stats breaks the generation of the chart.\n - 2010-09-07 Fixed bug#[5886](http://bugs.otrs.org/show_bug.cgi?id=5886) - Forwarding rich text tickets adds extra attachment.\n - 2010-09-07 Fixed bug#[5885](http://bugs.otrs.org/show_bug.cgi?id=5885) - Forwarding an article adds string to subject.\n - 2010-09-07 Fixed bug#[5024](http://bugs.otrs.org/show_bug.cgi?id=5024) - Adding a new ticket-priority results in a PriorityID-\\<new ID\\> tag\n    from the layout engine in the generated HTML wo/ matching CSS class.\n - 2010-09-07 Fixed bug#[5884](http://bugs.otrs.org/show_bug.cgi?id=5884) - For CSV and Print (PDF) search results the search window does not auto close.\n - 2010-09-06 Fixed bug#[5887](http://bugs.otrs.org/show_bug.cgi?id=5887) - The size of the widget in the import statistic is too small for the input file.\n - 2010-09-06 Fixed bug#[5877](http://bugs.otrs.org/show_bug.cgi?id=5877) - No screen refresh when linking tickets.\n - 2010-09-06 Fixed bug#[4411](http://bugs.otrs.org/show_bug.cgi?id=4411) - CustomerTicket plain print (PDF=off) shows wrong URLs.\n - 2010-09-06 Fixed bug#[3521](http://bugs.otrs.org/show_bug.cgi?id=3521) - Error messages from password regex rules are\n    truncated at comma which should't be there.\n - 2010-09-06 Fixed bug#[5875](http://bugs.otrs.org/show_bug.cgi?id=5875) - Customer ticket print view has too much information.\n - 2010-09-06 Fixed bug#[5867](http://bugs.otrs.org/show_bug.cgi?id=5867) - Navigation bar does not obey click path.\n - 2010-09-06 Fixed bug#[5871](http://bugs.otrs.org/show_bug.cgi?id=5871) - Ticket information in dashboard is not properly aligned.\n - 2010-09-06 Fixed bug#[5876](http://bugs.otrs.org/show_bug.cgi?id=5876) - Chinese UI issue.\n - 2010-09-03 Fixed bug#[5873](http://bugs.otrs.org/show_bug.cgi?id=5873) - Permissions fields are displaced in the EditSpecification of a Stat.\n - 2010-09-03 Fixed bug#[5812](http://bugs.otrs.org/show_bug.cgi?id=5812) - Customer Interface Password Sent dialog could be less confusing.\n - 2010-09-03 Fixed bug#[5870](http://bugs.otrs.org/show_bug.cgi?id=5870) - Login boxes in Customer Interface are too small.\n - 2010-09-03 Fixed bug#[5811](http://bugs.otrs.org/show_bug.cgi?id=5811) - Customer Interface account creation error handling\n    does not work correctly.\n - 2010-09-03 Fixed bug#[5632](http://bugs.otrs.org/show_bug.cgi?id=5632) - New Ticket Search Dialog takes about 3 Seconds to load, 3 seconds\n    with no feedback. User Experience need to get improved. Faster load of the dialog.\n - 2010-09-03 Fixed bug#[5789](http://bugs.otrs.org/show_bug.cgi?id=5789) - Use of uninitialized value $\\_ in Kernel/System/CustomerUser/LDAP.pm.\n - 2010-09-03 Fixed bug#[5691](http://bugs.otrs.org/show_bug.cgi?id=5691) - Not possbible for a package to modify a file\n    that belongs to another package.\n - 2010-09-02 Fixed bug#[5860](http://bugs.otrs.org/show_bug.cgi?id=5860) - Tooltips are not displayed correct in Customer\n    interface.\n - 2010-09-02 Fixed bug#[5811](http://bugs.otrs.org/show_bug.cgi?id=5811) - Customer Interface account creation error\n    handling does not work correctly.\n - 2010-09-02 Fixed bug#[5818](http://bugs.otrs.org/show_bug.cgi?id=5818) - Standard height of the article list.\n - 2010-09-02 Fixed bug#[5693](http://bugs.otrs.org/show_bug.cgi?id=5693) - Error messages appearing during mysql tables\n    migration.\n - 2010-09-02 Fixed bug#[5802](http://bugs.otrs.org/show_bug.cgi?id=5802) - OTRS 3.0.0 beta 2 doesn't install default packages\n    on login.\n - 2010-09-02 Fixed bug#[5780](http://bugs.otrs.org/show_bug.cgi?id=5780) - Have to resize window when replying on ticket.\n - 2010-09-02 Fixed bug#[5638](http://bugs.otrs.org/show_bug.cgi?id=5638) - Strange labels/buttons in TicketSearch \"Create New  Delete\".\n - 2010-09-02 Fixed bug#[5629](http://bugs.otrs.org/show_bug.cgi?id=5629) - Search Dialog of new Ticket Search Feature is not working with IE7.\n - 2010-09-02 Fixed bug#[5582](http://bugs.otrs.org/show_bug.cgi?id=5582) - Ticket::Frontend::MergeText and special carachters.\n - 2010-09-01 Fixed bug#[5851](http://bugs.otrs.org/show_bug.cgi?id=5851) - 3 AJAX refresh indicators are shown at the top of the AgentTicketPhone page.\n - 2010-09-01 Fixed bug#[5835](http://bugs.otrs.org/show_bug.cgi?id=5835) - Client side validation without JavaScript broken in\n    customer interface.\n - 2010-09-01 Fixed bug#[5816](http://bugs.otrs.org/show_bug.cgi?id=5816) - SysConfig HighlightAge, wrong limits and handling.\n - 2010-09-01 Fixed bug#[5747](http://bugs.otrs.org/show_bug.cgi?id=5747) - Too much whitespace in popups.\n - 2010-09-01 Fixed bug#[5801](http://bugs.otrs.org/show_bug.cgi?id=5801) - Article action \"Bounce article\" gives error message.\n - 2010-09-01 Fixed bug#[5813](http://bugs.otrs.org/show_bug.cgi?id=5813) - Attachments of Tickets could not be loaded,\n    caused by an (for IIS) invalid URL.\n - 2010-09-01 Fixed bug#[4423](http://bugs.otrs.org/show_bug.cgi?id=4423) - Hard coded CSS-Path in DTL templates.\n - 2010-09-01 Fixed bug#[5844](http://bugs.otrs.org/show_bug.cgi?id=5844) - Missing AJAX refresh indicator in the selection lists.\n - 2010-08-31 Fixed bug#[5729](http://bugs.otrs.org/show_bug.cgi?id=5729) - In Database creation or delete from Installer.pl the green colored word\n    \"Done\" higher that the rest of the line.\n - 2010-08-31 Fixed bug#[5751](http://bugs.otrs.org/show_bug.cgi?id=5751) - TicketZoom Scroller Height is incorrectly calculated in Opera 10.61 Browser.\n - 2010-08-31 Fixed bug#[5809](http://bugs.otrs.org/show_bug.cgi?id=5809) - SLA should be Service Level Agreement.\n - 2010-08-31 Fixed bug#[2671](http://bugs.otrs.org/show_bug.cgi?id=2671) - Postmaster filter creation does not require a name.\n - 2010-08-31 Fixed bug#[5838](http://bugs.otrs.org/show_bug.cgi?id=5838) - Dialogs are not shown correctly in IE7.\n - 2010-08-31 Fixed bug#[5837](http://bugs.otrs.org/show_bug.cgi?id=5837) - Tooltips have transparent background in IE7.\n - 2010-08-31 Fixed bug#[5714](http://bugs.otrs.org/show_bug.cgi?id=5714) - Selecting a customer in AgentTicketEmail/Phone\n    changes \"Priority\" and \"Next ticket state\" selections.\n - 2010-08-31 Fixed bug#[5791](http://bugs.otrs.org/show_bug.cgi?id=5791) - When creating a new ticket,\n    changing the queue will change the priority and state.\n - 2010-08-30 Fixed bug#[5794](http://bugs.otrs.org/show_bug.cgi?id=5794) - Error when using Customer link when creating new ticket.\n - 2010-08-30 Fixed bug#[5807](http://bugs.otrs.org/show_bug.cgi?id=5807) - New mail account default state is \"Invalid\".\n - 2010-08-30 Fixed bug#[5824](http://bugs.otrs.org/show_bug.cgi?id=5824) - \"Cancel & close window\" link do nothing on Bulk operation at Tickets Status.\n - 2010-08-30 Fixed bug#[5829](http://bugs.otrs.org/show_bug.cgi?id=5829) - The body of the most recent article is not shown in the CustomerTicketZoom.\n - 2010-08-30 Fixed bug#[5800](http://bugs.otrs.org/show_bug.cgi?id=5800) - Ticket response drop down.\n - 2010-08-30 Fixed bug#[5765](http://bugs.otrs.org/show_bug.cgi?id=5765) - reply buttons in queue view produce perl error.\n - 2010-08-30 Updated Chinese translation file, thanks to Never Min!\n - 2010-08-30 Fixed bug#[5743](http://bugs.otrs.org/show_bug.cgi?id=5743) - Popup blocker should be detected.\n - 2010-08-30 Fixed bug#[5786](http://bugs.otrs.org/show_bug.cgi?id=5786) - -Reply- dropdown menu not reverting to initial state then closing reply\n    window.\n - 2010-08-27 Fixed bug#[5833](http://bugs.otrs.org/show_bug.cgi?id=5833) - The text \"Attachment\" is above the paper-clip icon in the CustomerTicketZoom.\n - 2010-08-27 Fixed bug#[5831](http://bugs.otrs.org/show_bug.cgi?id=5831) - English language typo: \"doesn't exists\" should\n    be \"doesn't exist\".\n - 2010-08-27 Updated Polish translation file, thanks to Janek Rumianek!\n - 2010-08-25 Fixed bug#[5805](http://bugs.otrs.org/show_bug.cgi?id=5805) - Customer interface: creation of a new ticket\n    requires two clicks on the submit button.\n - 2010-08-26 Fixed bug#[5819](http://bugs.otrs.org/show_bug.cgi?id=5819) - Queue-View on size \"S\" is missing  the link to size \"L\".\n - 2010-08-26 Fixed bug#[5821](http://bugs.otrs.org/show_bug.cgi?id=5821) - SysConfig CSSLoader description is displayed incorrectly.\n - 2010-08-25 Fixed bug#[5795](http://bugs.otrs.org/show_bug.cgi?id=5795) - Some .pl files in bin directory fails to load\n    modules from  Kernel/cpan-lib.\n - 2010-08-25 Fixed bug#[5817](http://bugs.otrs.org/show_bug.cgi?id=5817) Button to adjust the article-list-size contains a link on IE 8.0.\n - 2010-08-25 Fixed bug#[5805](http://bugs.otrs.org/show_bug.cgi?id=5805) - Customer interface: creation of a new ticket\n    requires two clicks on the submit button.\n - 2010-08-25 Fixed bug#[5820](http://bugs.otrs.org/show_bug.cgi?id=5820) - Ticket owner get no email reminder reached\n    notification if ticket is unlocked and owner is not subscribed to queue.\n - 2010-08-25 Fixed bug#[5815](http://bugs.otrs.org/show_bug.cgi?id=5815) - Customer interface field validation takes place before submitting.\n - 2010-08-25 Fixed bug#[5808](http://bugs.otrs.org/show_bug.cgi?id=5808) - Generic Agent does not display job info.\n - 2010-08-24 Applied change suggested in bug#[5733](http://bugs.otrs.org/show_bug.cgi?id=5733). $Text should be dereferenced while counting its length.\n - 2010-08-24 Fixed bug#[5806](http://bugs.otrs.org/show_bug.cgi?id=5806) - Default services aren't checked in AdminCustomerUserService.\n - 2010-08-24 Fixed bug#[5803](http://bugs.otrs.org/show_bug.cgi?id=5803) - TimeInputFormat \"Input\" generates CSS errors.\n\n#3.0.0 beta2 2010-08-23\n - 2010-08-21 Fixed bug#[5697](http://bugs.otrs.org/show_bug.cgi?id=5697) - IMAP Connector Failing in IMAP mode, IMAPS is working.\n - 2010-08-21 Fixed bug#[5766](http://bugs.otrs.org/show_bug.cgi?id=5766) - Complex LinkObject Table is broken when more\n    than one kind of object is linked.\n - 2010-08-20 Fixed bug#[5784](http://bugs.otrs.org/show_bug.cgi?id=5784) - Core.AJAX.js fails if if called without callback\n    parameter and also exception handler breaks.\n - 2010-08-20 Fixed bug#[5783](http://bugs.otrs.org/show_bug.cgi?id=5783) - Warning: Ticket locked! message when replying to\n    unlocked ticket.\n - 2010-08-20 Updated database diagram to reflect changes in OTRS 3.\n - 2010-08-19 Fixed bug#[5768](http://bugs.otrs.org/show_bug.cgi?id=5768) - No tickets shown at customer interface if no open\n    tickets exist.\n - 2010-08-19 Fixed bug#[5639](http://bugs.otrs.org/show_bug.cgi?id=5639) - Global Overview: No action when clicking a row in\n    S/M/L view mode.\n - 2010-08-19 Fixed bug#[5728](http://bugs.otrs.org/show_bug.cgi?id=5728) - Ticket history shows wrong date and time for agent\n    actions \"createtime\" (actually shows user creation date).\n - 2010-08-19 Fixed bug#[5727](http://bugs.otrs.org/show_bug.cgi?id=5727) - Ticket search results are not sortable.\n - 2010-08-19 Fixed bug#[5611](http://bugs.otrs.org/show_bug.cgi?id=5611) - Company Button has the same function as Tickets Button.\n - 2010-08-19 Fixed bug#[5760](http://bugs.otrs.org/show_bug.cgi?id=5760) - Adding a new ticket in the customer interface\n    can result in 2 tickets.\n - 2010-08-19 Fixed bug#[5722](http://bugs.otrs.org/show_bug.cgi?id=5722) - Customer interface does not display error messages\n    when creating a ticket.\n - 2010-08-18 Fixed bug#[5662](http://bugs.otrs.org/show_bug.cgi?id=5662) - In Global Ticket Overview, in L-Mode, template\n    support is missing in \"Reply\" feature.\n - 2010-08-18 Fixed bug#[5764](http://bugs.otrs.org/show_bug.cgi?id=5764) - No move option in S/M/L mode available.\n - 2010-08-18 Fixed bug#[5725](http://bugs.otrs.org/show_bug.cgi?id=5725) - Missing labels for search-terms in customer interface.\n - 2010-08-17 Fixed bug#[5598](http://bugs.otrs.org/show_bug.cgi?id=5598) - Address Book To: field does is not populated.\n - 2010-08-17 Fixed bug#[5679](http://bugs.otrs.org/show_bug.cgi?id=5679) - In \"New Ticket\" in customer interface,\n    selecting the queue automatically submits the ticket.\n - 2010-08-17 Fixed bug#[5724](http://bugs.otrs.org/show_bug.cgi?id=5724) - Security leak: Edit HTML source code as customer.\n - 2010-08-17 Fixed bug#[5682](http://bugs.otrs.org/show_bug.cgi?id=5682) - Collapse / expand for GenericAgent.\n - 2010-08-17 Fixed bug#[5370](http://bugs.otrs.org/show_bug.cgi?id=5370) - The word \"subscribe\" should be changed to \"watch\".\n - 2010-08-17 Fixed bug#[5742](http://bugs.otrs.org/show_bug.cgi?id=5742) - Outgoing email link detection does not work properly.\n - 2010-08-13 Fixed bug#[5660](http://bugs.otrs.org/show_bug.cgi?id=5660) - In Global Ticket Overview, with IE7: S/M/L, character\n    is not clickable, only hover area is clickable, fixed changing images for S/M/L letters.\n - 2010-08-12 Fixed bug#[5648](http://bugs.otrs.org/show_bug.cgi?id=5648) - Submitting a note does not work as expected in all scenarios.\n - 2010-08-12 Fixed bug#[5654](http://bugs.otrs.org/show_bug.cgi?id=5654) - Missing shortcut icon (product.ico).\n - 2010-08-12 Fixed bug#[5643](http://bugs.otrs.org/show_bug.cgi?id=5643) - Articles are sorted alphabetically in TicketZoom.\n - 2010-08-12 Fixed bug#[5613](http://bugs.otrs.org/show_bug.cgi?id=5613) - WYSIWYG Editor not in center position.\n - 2010-08-12 Fixed bug#[5612](http://bugs.otrs.org/show_bug.cgi?id=5612) - Change free text fields not working correct in Firefox.\n - 2010-08-11 Fixed bug#[5652](http://bugs.otrs.org/show_bug.cgi?id=5652) - Can't select Service and SLA when creating new\n     tickets.\n - 2010-08-11 Fixed bug#[5669](http://bugs.otrs.org/show_bug.cgi?id=5669) - The customer panel login shows \"Request new password\"\n     on FF 3.5.\n - 2010-08-11 Fixed bug#[5689](http://bugs.otrs.org/show_bug.cgi?id=5689) - The body of the response message is incomplete.\n - 2010-08-11 Fixed bug#[5650](http://bugs.otrs.org/show_bug.cgi?id=5650) - Height of the article list is not retained.\n - 2010-08-11 Fixed bug#[5684](http://bugs.otrs.org/show_bug.cgi?id=5684) - Drag&Drop in agent dashboard is not working\n    with IE7.\n - 2010-08-10 Fixed bug#[5579](http://bugs.otrs.org/show_bug.cgi?id=5579) - Spaces in filenames are converted to + characters\n    when downloading in IE.\n - 2010-08-10 Fixed bug#[5701](http://bugs.otrs.org/show_bug.cgi?id=5701) - Tarball includes empty directories.\n - 2010-08-10 Fixed bug#[5255](http://bugs.otrs.org/show_bug.cgi?id=5255) - Accessibility: \"ALL\" link when selecting an owner\n - 2010-08-10 Fixed bug#[5694](http://bugs.otrs.org/show_bug.cgi?id=5694) - Images in web based installer are not displayed\n    when performing installation from source.\n - 2010-08-09 Fixed bug#[5661](http://bugs.otrs.org/show_bug.cgi?id=5661) - In Global Ticket Overview, with IE7 and L-Mode,\n    Hover of first Ticket overlaps Action Row Area.\n - 2010-08-09 Fixed bug#[5633](http://bugs.otrs.org/show_bug.cgi?id=5633) - Customer user information is not shown in\n    ticket zoom if it was set by AgentTicketCustomer.\n - 2010-08-06 Fixed bug#[5676](http://bugs.otrs.org/show_bug.cgi?id=5676) - Ticket Free Time selection in customer panel is\n    broken, because wrong \"for\" statement inside Label.\n - 2010-08-06 Fixed bug#[5691](http://bugs.otrs.org/show_bug.cgi?id=5691) - Not possbible for a package to modify a file\n    that belongs to another package.\n - 2010-08-06 Fixed bug#[5690](http://bugs.otrs.org/show_bug.cgi?id=5690) - In AgentTicketZoom, \"reset filter\" is not\n    taken over for next login.\n - 2010-08-06 Fixed bug#[5659](http://bugs.otrs.org/show_bug.cgi?id=5659) - In Global Ticket Overview, Small View,\n    \"FROM/SUBJECT\" is problematically to read. now it reads \"FROM / SUBJECT\".\n - 2010-08-06 Fixed bug#[5628](http://bugs.otrs.org/show_bug.cgi?id=5628) - In new Ticket Search, the attribute\n    TicketCreateTime, wording is wrong + Checkbox is not longer needed.\n - 2010-08-06 Fixed bug#[5645](http://bugs.otrs.org/show_bug.cgi?id=5645) - Changing the ticket search options does not\n    work.\n - 2010-08-06 Fixed bug#[5627](http://bugs.otrs.org/show_bug.cgi?id=5627) - \"Fulltext\" attribute in new ticket search\n    feature is missing for initial use.\n - 2010-08-06 Fixed bug#[5663](http://bugs.otrs.org/show_bug.cgi?id=5663) - In Global Ticket Overview, in M+L Mode, orange\n    hyper links are not shown on hover a record.\n - 2010-08-05 Fixed bug#[5670](http://bugs.otrs.org/show_bug.cgi?id=5670) - In Agent Interface, e. g. note action, you can\n    select a file, which is uploaded automatically. This is not working in\n    customer panel.\n - 2010-08-05 Fixed bug#[5625](http://bugs.otrs.org/show_bug.cgi?id=5625) - Article Zoom Screen -\\> New Message Indicator\n    is not removed after clicking on an article item.\n - 2010-08-05 Fixed bug#[5671](http://bugs.otrs.org/show_bug.cgi?id=5671) - In Customer Panel, there are not used links in\n    footer (FAQ, Help, ...).\n - 2010-08-05 Fixed bug#[5635](http://bugs.otrs.org/show_bug.cgi?id=5635) - It's not possible to open Ticket Search feature\n    in own browser tab.\n - 2010-08-02 Fixed bug#[2774](http://bugs.otrs.org/show_bug.cgi?id=2774) - Added sha1 and sha2 for additional auth method.\n    Now otrs is able to crypt passwords using sha-1 and sha-256 for users and\n    customer using DB backend.\n\n#3.0.0 beta1 2010-08-02\n - 2010-07-30 Fixed bug#[5361](http://bugs.otrs.org/show_bug.cgi?id=5361) - Wrong link detection, because regexp looking for url\n   like \"www.exam.com\" and needed \"xwww.exam.com\", added unit test.\n - 2010-07-28 Added new sysconfig validation module layer to verify and auto-correct\n    some sysconfig settings.\n - 2010-07-21 Fixed bug#[5566](http://bugs.otrs.org/show_bug.cgi?id=5566) - StateDefault, PriorityDefault and ArticleTypeDefault\n    not working in AgentTicketNote and other frontend modules.\n - 2010-07-20 Fixed bug#[4483](http://bugs.otrs.org/show_bug.cgi?id=4483) - AgentTicketActionCommon, set radio button when select\n    old/ new owner are selected.\n - 2010-07-19 Fixed bug#[5563](http://bugs.otrs.org/show_bug.cgi?id=5563) - Static statistic file StateAction is overwritten\n    by an older version.\n - 2010-07-16 Removed support for the deprecated DTL commands \\<dtl if\\>, \\<dtl set\\>\n    and \\<dtl system-call\\>. They were deprecated since OTRS 2.2.\n - 2010-07-15 Fixed bug#[5416](http://bugs.otrs.org/show_bug.cgi?id=5416) - AgentTicketMove does not support Pending Date.\n - 2010-07-15 Fixed bug#[5556](http://bugs.otrs.org/show_bug.cgi?id=5556) - Broken unicode chars in CustomerUser selections.\n - 2010-07-14 Fixed bug#[5132](http://bugs.otrs.org/show_bug.cgi?id=5132) - New owner validation always ask to set a owner.\n - 2010-07-14 Fixed bug#[5343](http://bugs.otrs.org/show_bug.cgi?id=5343) - Widespread typo in Agent-/CustomerPreferences - replaced \"Activ\"\n                for \"Active\".\n - 2010-07-13 Fixed bug#[5550](http://bugs.otrs.org/show_bug.cgi?id=5550) - Broken linebreaks in textareas of Google Chrome.\n - 2010-07-09 Fixed bug#[5545](http://bugs.otrs.org/show_bug.cgi?id=5545) - LIKE pattern must not end with escape character.\n - 2010-07-09 Fixed bug#[5494](http://bugs.otrs.org/show_bug.cgi?id=5494) - Handle attachments with java script.\n - 2010-07-09 Fixed bug#[5544](http://bugs.otrs.org/show_bug.cgi?id=5544) - Wrong handling of underscore in LIKE\n    search with oracle.\n - 2010-07-06 Removed AgentLookup (was not used in OTRS framework itself\n     and is not state of the art of dealing with dynamic data any more).\n - 2010-07-01 Streamlined messages in AgentTicketBulk.\n - 2010-07-01 Added option to ticket bulk action to define if tickets for bulk\n    action need to get locked for current agent or not.\n     * Config Name: Ticket::Frontend::AgentTicketBulk###RequiredLock\n    Thanks to Jeroen van Meeuwen!\n - 2010-06-22 Improved otrs.CheckModules.pl script.\n - 2010-06-22 Updated CPAN module Authen::SASL to version 2.15.\n - 2010-06-22 Updated CPAN module Net::IMAP::Simple to version 1.1916.\n - 2010-06-22 Updated CPAN module MIME::Tools to version 5.428.\n - 2010-06-22 Updated CPAN module Net::POP3::SSLWrapper to version 0.04.\n - 2010-06-22 Updated CPAN module XML::Parser to version 0.712.\n - 2010-06-22 Updated CPAN module Text::CSV to version 1.18.\n - 2010-06-18 Updated CPAN module JSON::PP to version 2.21\n - 2010-06-14 New DirectoryRead Function to read filenames with Unicode::Normalize\n - 2010-06-09 Fixed bug#[5447](http://bugs.otrs.org/show_bug.cgi?id=5447) - Added SMTP TLS support, to send out emails via\n    mail servers (MS Exchange!) that require this.\n - 2010-06-02 Fixed bug#[5426](http://bugs.otrs.org/show_bug.cgi?id=5426) - Can't set timezone for customer users.\n - 2010-05-28 Fixed bug#[5262](http://bugs.otrs.org/show_bug.cgi?id=5262) - Sort by \"pending time\" includes ticket with no\n    pending state.\n - 2010-05-28 Added option to use TicketPendingTimeSet() to null out the\n    Pending Time, similar to the implementation for TicketFreeTimeSet().\n - 2010-05-21 Fixed bug#[4459](http://bugs.otrs.org/show_bug.cgi?id=4459) - Two related error messages in S/MIME if you\n    call it and it's disabled, and one message is enough.\n - 2010-05-21 Fixed bug#[5377](http://bugs.otrs.org/show_bug.cgi?id=5377) - Show all users in AdminUser as a default.\n - 2010-05-20 Fixed bug#[1846](http://bugs.otrs.org/show_bug.cgi?id=1846) - AdminCustomerUserGroup shows all CustomerUsers,\n    even if you have thousands of them.\n - 2010-05-20 Fixed bug#[5103](http://bugs.otrs.org/show_bug.cgi?id=5103) - Searching for non-existing company does not\n    return \"no results found\".\n - 2010-05-20 Implemented bug#[1701](http://bugs.otrs.org/show_bug.cgi?id=1701) - In customer's ticket overview, subject\n    should come from the first article.\n - 2010-05-20 Fixed bug#[5186](http://bugs.otrs.org/show_bug.cgi?id=5186) - Prepend fwd: instead of re: to the subject of\n    forwarded mails.\n - 2010-05-19 Added Groups and Roles support to Event Based Notifications.\n    You can now also send a notification to agens in a certain group or role.\n - 2010-05-19 Implemented bug#[4337](http://bugs.otrs.org/show_bug.cgi?id=4337) - Added lock state to ticket search.\n - 2010-05-19 Reworked Kernel::System::Ticket API to have more intuitive\n    wording (is still compat. to OTRS 1.x and 2.x).\n    CustomerPermission()  -\\> TicketCustomerPermission()\n    InvolvedAgents()      -\\> TicketInvolvedAgentsList()\n    LockIsTicketLocked()  -\\> TicketLockGet()\n    LockSet()             -\\> TicketLockSet()\n    MoveList()            -\\> TicketMoveList()\n    MoveTicket()          -\\> TicketQueueSet()\n    MoveQueueList()       -\\> TicketMoveQueueList()\n    OwnerList()           -\\> TicketOwnerList()\n    OwnerSet()            -\\> TicketOwnerSet()\n    Permission()          -\\> TicketPermission()\n    PriorityList()        -\\> TicketPriorityList()\n    PrioritySet()         -\\> TicketPrioritySet()\n    ResponsibleList()     -\\> TicketResponsibleList()\n    ResponsibleSet()      -\\> TicketResponsibleSet()\n    SetCustomerData()     -\\> TicketCustomerSet()\n    StateList()           -\\> TicketStateList()\n    StateSet()            -\\> TicketStateSet()\n - 2010-05-14 Fixed bug#[4199](http://bugs.otrs.org/show_bug.cgi?id=4199) - Hard limit of 200 services defined in front-end files.\n - 2010-05-12 Renamed core module 'Kernel/System/StdResponse.pm' to 'Kernel/System/StandardResponse.pm'.\n - 2010-05-12 Fixed bug#[4940](http://bugs.otrs.org/show_bug.cgi?id=4940) - SQL Improvement, deleted not needed GROUP BY statement.\n - 2010-05-07 Fixed bug#[5005](http://bugs.otrs.org/show_bug.cgi?id=5005) - 'Statuses' is not correct in British English.\n - 2010-05-06 Implemented bug#[3516](http://bugs.otrs.org/show_bug.cgi?id=3516) - added CustomerGroupSupport feature for\n    customer navigation bar. Kudos Martin Balzarek.\n - 2010-05-04 Fixed bug#[5249](http://bugs.otrs.org/show_bug.cgi?id=5249) - ArticleStorageFS should not die on failed rm.\n    Kudos Dominik Schulz.\n - 2010-04-30 Make it possible to use a version argument with bin/otrs.PackageManager.pl.\n - 2010-04-19 Improved bin/otrs.CreateTranslationFile.pl to get also\n    translatable strings from sys config settings for translation catalog.\n - 2010-04-09 Added the feature to save searches in the Customer Frontend\n - 2010-04-08 Implemented fix for bug#[2673](http://bugs.otrs.org/show_bug.cgi?id=2673) -  Ticket subject lines in customer\n    frontend can be confusing.\n - 2010-04-07 Fixed bug#[5118](http://bugs.otrs.org/show_bug.cgi?id=5118) - Printing an article should indicate that\n    only 1 article is printed not the whole ticket.\n - 2010-04-06 made command line scripts consistent. They now all\n     have the format `otrs.DoThis.pl`. Also, SetPermissions.sh is removed\n     because we already have otrs.SetPermissions.pl.\n    otrs.mkStats.pl                 -\\>  otrs.GenerateStats.pl\n    otrs.addGroup.pl                -\\>  otrs.AddGroup.pl\n    otrs.addQueue.pl                -\\>  otrs.AddQueue.pl\n    otrs.addRole.pl                 -\\>  otrs.AddRole.pl\n    otrs.addRole2Group.pl           -\\>  otrs.AddRole2Group.pl\n    otrs.addUser.pl                 -\\>  otrs.AddUser.pl\n    otrs.addUser2Group.pl           -\\>  otrs.AddUser2Group.pl\n    otrs.addUser2Role.pl            -\\>  otrs.AddUser2Role.pl\n    otrs.checkModules.pl            -\\>  otrs.CheckModules.pl\n    otrs.CreateNewTranslationFile.pl-\\>  otrs.CreateTranslationFile.pl\n    otrs.getConfig.pl               -\\>  otrs.GetConfig.pl\n    otrs.getTicketThread.pl         -\\>  otrs.GetTicketThread.pl\n    otrs.setPassword.pl             -\\>  otrs.SetPassword.pl\n    otrs.StatsExportToOPM.pl        -\\>  otrs.ExportStatsToOPM.pl\n    opm.pl                          -\\>  otrs.PackageManager.pl\n - 2010-03-24 Reworked Kernel::System::Encode API to have more intuitive\n    wording (is still compat. to OTRS 1.x and 2.x).\n    EncodeInternalUsed() -\\> CharsetInternal()\n    Encode()             -\\> EncodeInput()\n    Decode()             -\\> Convert2CharsetInternal()\n - 2010-03-24 Fixed bug#[5130](http://bugs.otrs.org/show_bug.cgi?id=5130) - Incorrect check for 'NoOutOfOffice' in\n    GetUserData().\n - 2010-03-22 Fixed bug#[5161](http://bugs.otrs.org/show_bug.cgi?id=5161) - Envelope-To Header gets ignored for email\n    dispatching.\n - 2010-03-18 Fixed bug#[5060](http://bugs.otrs.org/show_bug.cgi?id=5060) - Get email notification for tickets created by\n    myself (new feature).\n - 2010-03-18 Updated CPAN module Text::CSV to version 1.17.\n - 2010-03-18 Updated CPAN module MailTools to version 2.06.\n - 2010-03-18 Updated CPAN module CGI to version 3.49.\n - 2010-03-18 Updated CPAN module Net::IMAP::Simple to version 1.1911.\n - 2010-03-11 Upgraded CKEditor from version 3.1 to version 3.2.\n - 2010-03-09 Fixed bug#[4996](http://bugs.otrs.org/show_bug.cgi?id=4996) - Rich Text Editor does not display in the Customer\n    Frontend in IE8.\n - 2010-03-08 Fixed bug#[5085](http://bugs.otrs.org/show_bug.cgi?id=5085) - Wrong colours codes in Stats::Graph::dclrs.\n - 2010-03-08 Fixed bug#[5097](http://bugs.otrs.org/show_bug.cgi?id=5097) - AdminNotificationEvent does not display values\n    on Change.\n - 2010-02-26 Fixed bug#[4874](http://bugs.otrs.org/show_bug.cgi?id=4874) - LDAP connection even if it is not needed.\n    Moved to \"Die =\\> 0\" as default value if no connection to customer ldap\n    source was possible.\n - 2010-02-23 Fixed bug#[4957](http://bugs.otrs.org/show_bug.cgi?id=4957) - Password Change dialog misses \"Current Password\"\n    option.\n - 2010-02-22 Fixed bug#[5020](http://bugs.otrs.org/show_bug.cgi?id=5020) - Framework version for stats export is outdated.\n - 2010-02-21 Extended QueryCondition() of Kernel::System::DB to allow\n    also \"some praise\" expression as \"some&&praise\", to be compat. just add\n`Extended => 1` to QueryCondition(). Short summary:\n        some praise   -\\> search for \"some\" and \"praise\" in a text (order of words\n                         is not importand)\n        \"some praise\" -\\> search for \"some praise\" in a text as one string\n - 2010-02-16 Extended QueryCondition() of Kernel::System::DB to allow\n    also \"some praise\" expression for search conditions to search this string\n    1:1 in database.\n - 2010-02-15 Added \"New Article\" feature. Shows any agent in dashboard and\n    global ticket overviews if there is a new article in a ticket which is not\n    seen (like unread feature in email clients).\n    Notice: Use scripts/DBUpdate-to-2.5.\\*.sql for upgrading!\n - 2010-02-15 Removed example config files for Apache1, switched to only\n    one config file for Apache2 instead of two.\n - 2010-02-15 Fixed bug#[4924](http://bugs.otrs.org/show_bug.cgi?id=4924) - Incorrect email address syntax check.\n - 2010-02-10 Fixed bug#[2376](http://bugs.otrs.org/show_bug.cgi?id=2376) - Customer preferences are lost after update\n    of customer login.\n - 2010-02-10 Fixed bug#[4828](http://bugs.otrs.org/show_bug.cgi?id=4828) - In SysConfig, changed \"Registration\" to\n    \"Registrierung\" in German description.\n - 2010-02-07 Fixed bug#[4918](http://bugs.otrs.org/show_bug.cgi?id=4918) - Delete only expired cache items by using\n    e. g. `bin/otrs.CacheDelete.pl --expired`.\n - 2010-02-01 Added Kernel::System::Cache::FileStorable backend module for\n    Kernel::System::Cache which is working with binary for dump and eval of\n    perl data structures (a little bit faster the dump/eval in pure perl).\n    Perl's Storable module is included in perl distibution it self.\n - 2010-01-26 IPC session backend (`Kernel::System::AuthSession::IPC`) is not\n    longer supported. Increased performance of DB and FS backend (only sync\n    session data to storage at end of a session).\n - 2010-01-25 Added agent preferences for max. shown tickets a page in\n    ticket overviews.\n - 2010-01-19 Added security feature enhancement to block active elements\n    and external images as auto load of html articles in zoom view (agent\n    and customer interface).\n - 2010-01-15 Fixed bug#[4651](http://bugs.otrs.org/show_bug.cgi?id=4651) - Dashboard upcoming events does not look up\n    statetypes for Pending Reminder.\n - 2010-01-14 Removed not needed tool `scripts/sync_node.sh`.\n - 2010-01-13 Added ticket fulltext search to dashboard.\n - 2010-01-06 Added dashboard widget for displaying external content via iframe.\n - 2009-12-31 Added cpan module for JSON support (version 2.16), removed JSON\n    function from LayoutAJAX and changed all function calls to the new JSON\n    wrapper.\n - 2009-12-24 Themes are now stored in SysConfig under Frontend::Themes rather\n    than in the database. This to enable administrators to add a new theme by\n    just modifying SysConfig instead of having to use mysql or isql or so.\n - 2009-12-23 Renamed inconsistent module name Kernel::System::Config to\n    Kernel::System::SysConfig.\n - 2009-12-23 Added support for multiple Kernel::System::Ticket::Custom\n    backends. Can now be defined via config key `Ticket::CustomModule`, e. g.\n\n```xml\n<ConfigItem Name=\"Ticket::CustomModule###001-CustomModule\" Required=\"0\" Valid=\"0\">\n   <Description Lang=\"en\">A module with custom functions to redefine ....</Description>\n   <Description Lang=\"de\">Ein Modul mit angepassten Funktionen das ...</Description>\n   <Group>Ticket</Group>\n   <SubGroup>Core::Ticket</SubGroup>\n   <Setting>\n      <String Regex=\"\">Kernel::System::Ticket::Custom</String>\n   </Setting>\n</ConfigItem>\n```\n\n - 2009-12-21 Added the ability to hide the Queue, SLA and/or Service in\n    the Customer interface.\n - 2009-12-15 Changed rich text editor from FCKEditor 2.6.4.1 to CKEditor 3.0.1\n - 2009-12-14 Fixed bug#[4660](http://bugs.otrs.org/show_bug.cgi?id=4660) - Admin Notification module does not send mail\n    to customer users in groups.\n - 2009-12-14 Added the ability to use AdminEmail to send notifications based\n    on roles.\n - 2009-12-14 Updated SysConfig to make sure OTRS toolbars and Admin section uses\n    plural in interface where appropriate.\n - 2009-12-11 Replaced all OptionStrgHashRef() with the newer BuildSelection().\n - 2009-12-09 Added archive feature to improve performance.\n - 2009-12-09 Updated CPAN module Text::CSV to version 1.16.\n - 2009-12-08 Fixed bug#[4570](http://bugs.otrs.org/show_bug.cgi?id=4570) - Not processed attachment on incoming email\n    (value too long for type).\n    Increased varchar of article\\_attachment.content\\_type from 250 to 450.\n - 2009-12-08 Fixed bug#[1698](http://bugs.otrs.org/show_bug.cgi?id=1698) - Send emails with the real name from the agent.\n - 2009-12-08 Fixed bug#[2153](http://bugs.otrs.org/show_bug.cgi?id=2153) - Recognize domain names only if they are words.\n - 2009-12-08 Fixed bug#[4399](http://bugs.otrs.org/show_bug.cgi?id=4399) - Phone- / Email-Ticket AJAX reload does not\n    consider ACL in Kernel/Config.pm.\n - 2009-12-08 Fixed bug#[4330](http://bugs.otrs.org/show_bug.cgi?id=4330) - Added new history-get results.\n - 2009-12-07 Fixed bug#[3887](http://bugs.otrs.org/show_bug.cgi?id=3887) - Processing headers with faulty charset definitions.\n - 2009-12-04 Removed OptionElement() from Layout.pm. Use BuildSelection()\n    instead.\n - 2009-12-04 Changed line chart library again: from OFC to Flot.\n - 2009-12-02 Completely removed YUI from the OTRS code.\n - 2009-12-02 Switched line chart on the dashboard from YUI to OFC.\n - 2009-11-27 Updated CPAN module XML::Parser::Lite to version 0.710.10.\n - 2009-11-27 Updated CPAN module XML::TreePP to version 0.39.\n - 2009-11-27 Updated CPAN module XML::FeedPP to version 0.41.\n - 2009-11-27 Updated CPAN module Text::Diff to version 1.37.\n - 2009-11-27 Updated CPAN module Text::CSV to version 1.15.\n - 2009-11-27 Updated CPAN module Authen::SASL to version 2.13.\n - 2009-11-27 Changed directory structure for thirdparty javascript modules.\n - 2009-11-27 Switched AutoCompletion and Dialog from YUI to jQuery.\n - 2009-11-25 Switched to XHTML doctype\n    - not all of the generated HTML is valid yet, but much\n    - from now on, \";\" will be used as a query parameter separator in URLs\n        (old: index.pl?Action=AgentExample&Subaction=Test,\n        new: index.pl?Action=AgentExample;Subaction=Test)\n    - made some self-closing tags actually close themselves (e.g.`<img .../>`)\n    - made some tags and attributes used lowercase\n - 2009-11-25 Updated CPAN module CGI to version 3.48.\n - 2009-11-23 Only database configuration is now saved in Config.pm.\n - 2009-11-18 Added database check and mail configuration steps\n    to the web installer.\n - 2009-11-12 Fixed bug#[4509](http://bugs.otrs.org/show_bug.cgi?id=4509) - Notification (event based) comments are not\n    saved.\n - 2009-11-11 Added feature/config option (Ticket::SubjectFormat) for subject\n    format.\n     - 'Left'  means '[TicketHook#:12345] Some Subject',\n     - 'Right' means 'Some Subject [TicketHook#:12345]',\n     - 'None'  means 'Some Subject' (without any ticket number ins subject).\n\n    In the last case you should enable PostmasterFollowupSearchInRaw or\n    PostmasterFollowUpSearchInReferences to recognize followups based on email\n    headers and/or body.\n    Wrote also unit tests to take care of functionality.\n - 2009-11-11 Moved from prototype js to jQuery\n    (removed var/httpd/htdocs/js/prototype.js added\n    var/httpd/htdocs/js/jquery-1.3.2.min.js).\n - 2009-11-03 Renamed some files in the bin/ directory\n\n```\n    CheckSum.pl                     -\\>  otrs.CheckSum.pl\n    CleanUp.pl                      -\\>  otrs.CleanUp.pl\n    Cron4Win32.pl                   -\\>  otrs.Cron4Win32.pl\n    CryptPassword.pl                -\\>  otrs.CryptPassword.pl\n    DeleteSessionIDs.pl             -\\>  otrs.DeleteSessionIDs.pl\n    GenericAgent.pl                 -\\>  otrs.GenericAgent.pl\n    mkStats.pl                      -\\>  otrs.mkStats.pl\n    otrs.addGroup                   -\\>  otrs.addGroup.pl\n    otrs.addQueue                   -\\>  otrs.addQueue.pl\n    otrs.addRole                    -\\>  otrs.addRole.pl\n    otrs.addRole2Group              -\\>  otrs.addRole2Group.pl\n    otrs.addUser                    -\\>  otrs.addUser.pl\n    otrs.addUser2Group              -\\>  otrs.addUser2Group.pl\n    otrs.addUser2Role               -\\>  otrs.addUser2Role.pl\n    otrs.checkModules               -\\>  otrs.checkModules.pl\n    otrs.CreateNewTranslationFile   -\\>  otrs.CreateNewTranslationFile.pl\n    otrs.getConfig                  -\\>  otrs.getConfig.pl\n    otrs.getTicketThread            -\\>  otrs.getTicketThread.pl\n    otrs.setPassword                -\\>  otrs.setPassword.pl\n    PendingJobs.pl                  -\\>  otrs.PendingJobs.pl\n    PostMaster.pl                   -\\>  otrs.PostMaster.pl\n    PostMasterClient.pl             -\\>  otrs.PostMasterClient.pl\n    PostMasterDaemon.pl             -\\>  otrs.PostMasterDaemon.pl\n    PostMasterMailbox.pl            -\\>  otrs.PostMasterMailbox.pl\n    PostMasterPOP3.pl               -\\>  otrs.PostMasterPOP3.pl\n    RebuildTicketIndex.pl           -\\>  otrs.RebuildTicketIndex.pl\n    SetPermissions.pl               -\\>  otrs.SetPermissions.pl\n    StatsExportToOPM.pl             -\\>  otrs.StatsExportToOPM.pl\n    UnitTest.pl                     -\\>  otrs.UnitTest.pl\n    UnlockTickets.pl                -\\>  otrs.UnlockTickets.pl\n    xml2sql.pl                      -\\>  otrs.xml2sql.pl\n    XMLMaster.pl                    -\\>  otrs.XMLMaster.pl\n```\n\n - 2009-10-26 Added CGI.pm back to packaged versions (auto\\_build.sh).\n - 2009-10-14 Pending Date of tickets can be max. 1 year in the future.\n - 2009-10-14 Fixed bug#[1731](http://bugs.otrs.org/show_bug.cgi?id=1731) - Show last login time of agent and customer\n    management.\n - 2009-10-12 TTL in Kernel::System::Cache::Set required but not checked.\n - 2009-10-12 Removed check on AttachmentDelete1 in function in\n    AgentTicketMove.dtl.\n - 2009-10-12 AgentTicketOverviewPreview.dtl: superfluous hidden parameter\n    'QueueID'.\n - 2009-10-07 Added global Search-Condition-Feature (AND/OR/()/!/+) for\n    TicketNumber, From, To, Cc, Subject and Body also to generic agent.\n - 2009-10-05 Fixed bug#[939](http://bugs.otrs.org/show_bug.cgi?id=939) - \"Salutation\" should be renamed to \"Title\" for\n    users and customer users.\n    Notice: Use scripts/DBUpdate-to-2.5.\\*.sql for upgrading!\n - 2009-10-02 Fixed bug#[4379](http://bugs.otrs.org/show_bug.cgi?id=4379) - Array parameters not working in mkStats.pl\n - 2009-09-23 Added virtual file system object for global file storage as\n    Kernel::System::VirtualFS with FS and DB backends.\n    Notice: Use scripts/DBUpdate-to-2.5.\\*.sql for upgrading!\n - 2009-09-22 Fixed bug#[1774](http://bugs.otrs.org/show_bug.cgi?id=1774) - Updated documentation in AdminQueue.dtl.\n - 2009-09-22 Fixed bug#[4100](http://bugs.otrs.org/show_bug.cgi?id=4100) - ArticleFreeText Default Value not working.\n - 2009-09-22 Fixed bug#[1027](http://bugs.otrs.org/show_bug.cgi?id=1027) - Ticket csv export in customer interface incomplete.\n - 2009-09-21 Fixed bug#[4218](http://bugs.otrs.org/show_bug.cgi?id=4218) - No error message when sending mail through not\n    installed sendmail.\n - 2009-09-21 Fixed bug#[4312](http://bugs.otrs.org/show_bug.cgi?id=4312) - MOTD module for Agent Dashboard, thanks to\n    Alexander Scholler!\n - 2009-09-21 Fixed bug#[3978](http://bugs.otrs.org/show_bug.cgi?id=3978) - Better description for PGP passphrases.\n - 2009-09-16 Fixed bug#[3932](http://bugs.otrs.org/show_bug.cgi?id=3932) - Translation enhancements for AdminSession.dtl.\n - 2009-09-16 Fixed bug#[2786](http://bugs.otrs.org/show_bug.cgi?id=2786) - Wrong text labels\n    AdminSystemAddressForm.dtl.\n - 2009-09-16 Fixed bug#[4288](http://bugs.otrs.org/show_bug.cgi?id=4288) - Use of uninitialized value in\n    AdminGenericAgent.pm.\n - 2009-09-16 Moved to global event handler Kernel/System/EventHander.pm\n    for ticket events (config is compatble with old one).\n - 2009-09-15 Improved performance of the PDF backend.\n\n#2.4.11 (????/??/??)\n - 2011-04-07 Fixed bug#[7195](http://bugs.otrs.org/show_bug.cgi?id=7195) - Graphs doesn't use GIF as fallback if PNG is not available.\n\n#2.4.10 (2011/04/12)\n - 2011-04-04 Fixed bug#[7140](http://bugs.otrs.org/show_bug.cgi?id=7140) - Attachments with percent symbol not working.\n - 2011-03-23 Updated Brazilian Portugese translation, thanks to Murilo Moreira de Oliveira!\n - 2011-03-18 Added required settings for oracle databases in apache2-httpd-new.include.conf.\n - 2011-03-07 Fixed bug#[6014](http://bugs.otrs.org/show_bug.cgi?id=6014) - Printed pdf tickets are not searchable.\n - 2011-02-17 Fixed bug#[6906](http://bugs.otrs.org/show_bug.cgi?id=6906) - Vendor URL points to Basename+URL instead of URL.\n - 2011-01-25 Event Based notification - respect \"Include Attachments\n    to Notification\".\n - 2010-12-17 Fixed bug#[6510](http://bugs.otrs.org/show_bug.cgi?id=6510) - Signature ID missing.\n - 2010-12-14 Fixed bug#[6532](http://bugs.otrs.org/show_bug.cgi?id=6532) - With multiple inline images, only first one is\n    preserved when replying.\n - 2010-12-13 Fixed bug#[6520](http://bugs.otrs.org/show_bug.cgi?id=6520) - backup.pl doesn't backup with strong password.\n - 2010-12-09 Fixed bug#[6488](http://bugs.otrs.org/show_bug.cgi?id=6488) - otrs.ArticleStorageSwitch.pl creating wrong files.\n - 2010-12-09 Fixed bug#[3984](http://bugs.otrs.org/show_bug.cgi?id=3984) - HTML Notifications - Links to ticketsystem are not clickable.\n - 2010-12-02 Fixed bug#[6366](http://bugs.otrs.org/show_bug.cgi?id=6366) - gnupg signatures not working correct for partly signed messages.\n - 2010-11-29 Fixed bug#[5981](http://bugs.otrs.org/show_bug.cgi?id=5981) - Warnings from TransfromDateSelection() in AgentTicketMove.\n - 2010-11-23 Fixed bug#[6131](http://bugs.otrs.org/show_bug.cgi?id=6131) - Lack of warning for revoked and expired PGP keys in email compose screens.\n - 2010-11-04 Fixed bug#[6211](http://bugs.otrs.org/show_bug.cgi?id=6211) - Wrong TicketFreeText-value in ticket creation by\n    using event notifications.\n - 2010-11-02 Email.ticket: wrong signature is shown.\n - 2010-10-26 Improved German translation, thanks to Stelios Gikas!\n - 2010-10-13 Fixed some Perl \"uninitialized value\" warnings.\n - 2010-10-12 Fixed bug#[6087](http://bugs.otrs.org/show_bug.cgi?id=6087) - Search template name is broken if & or ; is used.\n\n#2.4.9 (2010/10/25)\n - 2010-09-30 Fixed bug#[6016](http://bugs.otrs.org/show_bug.cgi?id=6016) - AgentTicketZoom is vunerable to XSS attacks from HTML e-mails.\n - 2010-09-22 Fixed bug#[5903](http://bugs.otrs.org/show_bug.cgi?id=5903) - E-mail notification links don't contain \\<a href... tags.\n - 2010-09-29 Fixed bug#[6030](http://bugs.otrs.org/show_bug.cgi?id=6030) - Event notifications are fired several times on\n    event \"TicketFreeTextUpdate\".\n - 2010-09-14 Fixed bug#[5541](http://bugs.otrs.org/show_bug.cgi?id=5541) - Dashboard Chart generates error in webserver log.\n - 2010-09-09 Fixed bug#[5462](http://bugs.otrs.org/show_bug.cgi?id=5462) - Kernel::System::Ticket::TicketEscalationIndexBuild()\n    does not invalidate the cache.\n - 2010-08-27 Fixed bug#[5667](http://bugs.otrs.org/show_bug.cgi?id=5667) - Rich Text is not working in ipad. It's not\n    possible to add a note or close a ticket.\n - 2010-08-25 Fixed bug#[5266](http://bugs.otrs.org/show_bug.cgi?id=5266) - Ticket Zoom shows wrong html content if there\n    is no text but two html attachments in there.\n\n#2.4.8 (2010/09/15)\n - 2010-08-24 Applied change suggested in bug#[5733](http://bugs.otrs.org/show_bug.cgi?id=5733). $Text should be dereferenced while counting its length.\n - 2010-08-18 Fixed bug#[5444](http://bugs.otrs.org/show_bug.cgi?id=5444) - TicketZoom mask vulnerable to XSS.\n - 2010-08-09 Fixed bug#[5698](http://bugs.otrs.org/show_bug.cgi?id=5698) - Ticket Assignment includes '(' character.\n - 2010-07-20 Fixed bug#[4483](http://bugs.otrs.org/show_bug.cgi?id=4483) - AgentTicketActions, set radio button when select\n    old/ new owner are selected, fix wrong javascript behavior.\n - 2010-07-15 Fixed bug#[5416](http://bugs.otrs.org/show_bug.cgi?id=5416) - AgentTicketMove does not support Pending Date.\n - 2010-07-15 Fixed bug#[5556](http://bugs.otrs.org/show_bug.cgi?id=5556) - Broken unicode chars in CustomerUser selections.\n - 2010-07-14 Fixed bug#[5132](http://bugs.otrs.org/show_bug.cgi?id=5132) - New owner validation always ask to set a owner.\n - 2010-07-13 Fixed bug#[5210](http://bugs.otrs.org/show_bug.cgi?id=5210) - LinkQuote consumes all CPU memory when processing a\n    large amount of data.\n - 2010-07-13 Fixed bug#[5550](http://bugs.otrs.org/show_bug.cgi?id=5550) - Broken linebreaks in textareas of Google Chrome.\n - 2010-07-07 Fixed bug#[5541](http://bugs.otrs.org/show_bug.cgi?id=5541) - Dashboard Chart generates error in webserver log.\n - 2010-07-01 Fixed bug#[5512](http://bugs.otrs.org/show_bug.cgi?id=5512) - Bulk Action No Access is displayed incorrectly.\n - 2010-06-25 Updated Danish translation, thanks to Jesper R\u00ef\u00bf\u00bdnnov,\n    Faaborg-Midtfyn Kommune!\n - 2010-06-24 Fixed bug#[5445](http://bugs.otrs.org/show_bug.cgi?id=5445) - Reflected XSS vulnerability.\n - 2010-06-16 Fixed bug#[5488](http://bugs.otrs.org/show_bug.cgi?id=5488) - AutoPriorityIncrease runs into failures.\n - 2010-06-16 Fixed bug#[5478](http://bugs.otrs.org/show_bug.cgi?id=5478) - Web Installer has 'editable' license text.\n - 2010-05-31 Fixed bug#[5385](http://bugs.otrs.org/show_bug.cgi?id=5385) - Queue name is not used in signature on ticket\n    creation.\n - 2010-05-28 Fixed bug#[5235](http://bugs.otrs.org/show_bug.cgi?id=5235) - Link in response not shown as link.\n - 2010-05-28 Added PNG version of data model in doc directory.\n - 2010-05-28 Fixed bug#[5395](http://bugs.otrs.org/show_bug.cgi?id=5395) - Function $LanguageObject-\\>Time() can't process\n    seconds.\n - 2010-05-07 Fixed bug#[5336](http://bugs.otrs.org/show_bug.cgi?id=5336) - Also set execute bit on scripts/tools.\n - 2010-04-30 Make it possible to use a version argument with bin/opm.pl.\n - 2010-04-21 Fixed bug#[5266](http://bugs.otrs.org/show_bug.cgi?id=5266) - Ticket Zoom shows wrong html content if there\n    is no text but two html attachments in there.\n - 2010-04-15 Fixed bug#[5242](http://bugs.otrs.org/show_bug.cgi?id=5242) - Newlines are not displayed in html notification\n    mails on Lotus Notes\n - 2010-04-14 Fixed bug#[4999](http://bugs.otrs.org/show_bug.cgi?id=4999) - Cache of customer user is not refreshed after\n    a preference is updated.\n - 2010-04-13 Fixed bug#[5152](http://bugs.otrs.org/show_bug.cgi?id=5152) - responsible\\_user\\_id in ticket table is wrong in\n    otrs-database.dia.\n - 2010-04-12 Fixed bug#[5108](http://bugs.otrs.org/show_bug.cgi?id=5108) - The RSS date was not displayed correctly.\n - 2010-04-12 Fixed bug#[5112](http://bugs.otrs.org/show_bug.cgi?id=5112) - Redirecting to a valid screen after unsubscribing a ticket\n    that is on a queue in which the agent has no permissions.\n - 2010-04-06 Fixed bug#[4986](http://bugs.otrs.org/show_bug.cgi?id=4986) - There is no activate/deactivate check for Graphsize menu,\n    when page loads in Stats Definition\n - 2010-04-01 Fixed bug#[4786](http://bugs.otrs.org/show_bug.cgi?id=4786) - AgentTicketCompose ONLY: Defining a next state,\n    then adding and attachment, resets the next state upon screen refresh.\n - 2010-03-29 Improved handling of the StateType attribute of\n    StateGetStatesByType() in Kernel/System/State.pm.\n - 2010-03-24 Fixed bug#[5164](http://bugs.otrs.org/show_bug.cgi?id=5164) - Pending time not working if agent as an other\n    timezone.\n - 2010-03-19 Fixed bug#[5094](http://bugs.otrs.org/show_bug.cgi?id=5094) - Bulk pending date/time do not get applied to\n    tickets.\n - 2010-03-18 Updated Ukrainian language translation, thanks to Belskii Artem!\n - 2010-03-10 Fixed bug#[4416](http://bugs.otrs.org/show_bug.cgi?id=4416) - Merge: whitespace before ticketnumber not removed.\n - 2010-03-09 Fixed bug#[5102](http://bugs.otrs.org/show_bug.cgi?id=5102) - Notification sent to OTRS instead of Customer.\n - 2010-03-08 Fixed bug#[5085](http://bugs.otrs.org/show_bug.cgi?id=5085) - Wrong colours codes in Stats::Graph::dclrs.\n - 2010-03-02 Updated Czech translation, thanks to O2BS.com, s r.o. Jakub Hanus!\n - 2010-02-26 Fixed bug#[4137](http://bugs.otrs.org/show_bug.cgi?id=4137) - Follow ups to internal forwarded message marked\n    as customer reply.\n - 2010-02-23 Updated pt\\_BR translation file, thanks to Fabricio Luiz Machado!\n - 2010-02-22 Fixed bug#[5020](http://bugs.otrs.org/show_bug.cgi?id=5020) - Framework version for stats export is outdated.\n - 2010-02-18 Fixed bug#[4969](http://bugs.otrs.org/show_bug.cgi?id=4969) - Event Based Notification: Body Match field displays\n    Subject Match value.\n - 2010-02-16 Fixed bug#[4967](http://bugs.otrs.org/show_bug.cgi?id=4967) - Can't locate object method \"new\" via package\n    error when using Perl 5.10.1.\n - 2010-02-15 Fixed bug#[4977](http://bugs.otrs.org/show_bug.cgi?id=4977) - mod\\_perl is not used in fedora with RPM.\n - 2010-02-12 Fixed bug#[4936](http://bugs.otrs.org/show_bug.cgi?id=4936) - Kernel::System::Main::FileWrite has race condition.\n - 2010-02-11 Fixed bug#[4442](http://bugs.otrs.org/show_bug.cgi?id=4442) - Customer search fails when there is a space\n    in the name.\n - 2010-02-11 Fixed bug#[4822](http://bugs.otrs.org/show_bug.cgi?id=4822) - No fulltext search with more than one word\n    for FAQ.\n - 2010-02-10 Fixed bug#[4889](http://bugs.otrs.org/show_bug.cgi?id=4889) - Inline images from Lotus Notes are not\n    displayed in ticket zoom.\n - 2010-02-09 Fixed bug#[4658](http://bugs.otrs.org/show_bug.cgi?id=4658) - Cannot delete attachment from AdminAttachment\n    interface.\n\n#2.4.7 2010-02-08\n - 2010-02-03 Fixed bug#[4937](http://bugs.otrs.org/show_bug.cgi?id=4937) - Accounted time per article is not displayed\n    in PDF print.\n - 2010-02-03 Fixed bug#[4848](http://bugs.otrs.org/show_bug.cgi?id=4848) - Issue with TicketOverView object - does not\n    show all tickets when moving through list.\n - 2010-02-02 Fixed issue with migrating Customer Queue notifications to\n    Event Based when upgrading OTRS 2.3 \\> 2.4.\n - 2010-02-01 Fixed bug#[4393](http://bugs.otrs.org/show_bug.cgi?id=4393) - AgentTicketQueue - Small view takes long to\n    load. -\\> New solution with own config option for each view mode (S/M/L)\n    Admin -\\> SysConfig -\\> Ticket -\\> Frontend::Agent::TicketOverview.\n - 2010-01-25 Fixed bug#[4818](http://bugs.otrs.org/show_bug.cgi?id=4818) - Removed inline image of forwarded message gets\n    still included.\n - 2010-01-20 Fixed bug#[4780](http://bugs.otrs.org/show_bug.cgi?id=4780) - Adding groups to a CustomerUser fails,\n    adding CustomerUsers to a group works.\n - 2010-01-20 Fixed bug#[4486](http://bugs.otrs.org/show_bug.cgi?id=4486) - Some preferences displayed in AdminUser are not\n    correct.\n - 2010-01-18 Fixed bug#[4770](http://bugs.otrs.org/show_bug.cgi?id=4770) - Attachments are stripped/not shown from\n    outgoing emails in some scenarios with ms exchange.\n - 2010-01-15 Fixed bug#[4735](http://bugs.otrs.org/show_bug.cgi?id=4735) - TicketFreeTime search in Customer frontend\n    does not work as expected\n - 2010-01-15 Fixed bug#[4758](http://bugs.otrs.org/show_bug.cgi?id=4758) - Dashboard RSS feeds doesn't display XML\n    encoded entities correctly.\n - 2010-01-13 Fixed bug#[4754](http://bugs.otrs.org/show_bug.cgi?id=4754) - Multiple tickets with a huge POP3 Mailbox\n    - more than 2000 email in the box (\"Deep recursion on subroutine\").\n - 2010-01-13 Fixed bug#[4713](http://bugs.otrs.org/show_bug.cgi?id=4713) - In ticket overview, after adding view=30 - no\n    tickets are visible.\n - 2010-01-12 Upgrade of cpan Net::IMAP::Simple from 1.17 to 1.1910.\n\n#2.4.6 2010-01-12\n - 2010-01-11 Fixed bug#[4737](http://bugs.otrs.org/show_bug.cgi?id=4737) - Customer User update fails in 2.4.6 RC.\n - 2010-01-08 Fixed bug#[4730](http://bugs.otrs.org/show_bug.cgi?id=4730) - Unable to open Admin \\> Attachments in IE8.\n - 2010-01-07 Fixed bug#[4731](http://bugs.otrs.org/show_bug.cgi?id=4731) - Service and SLA gets translated after AJAX\n    reload in Phone an Email Ticket.\n - 2010-01-05 Fixed bug#[4718](http://bugs.otrs.org/show_bug.cgi?id=4718) - LDAP auth not possible with OTRS in iso-8859-1\n    and utf-8 ldap directory.\n - 2010-01-05 Fixed bug#[4708](http://bugs.otrs.org/show_bug.cgi?id=4708) - Added ArticleID to output of\n    bin/otrs.getTicketThread.\n - 2010-01-04 Fixed bug#[4704](http://bugs.otrs.org/show_bug.cgi?id=4704) - Package Manager: upload install fails with\n    \"Message: Need ContentType!\" with Google Chrome browser.\n - 2009-12-30 Added Ukrainian language translation, thanks to Belskii Artem!\n - 2009-12-30 Fixed bug#[4727](http://bugs.otrs.org/show_bug.cgi?id=4727) - Added proper removal of FormID in\n    AgentTicketPhoneOutbound.\n - 2009-12-23 Fixed bug#[3526](http://bugs.otrs.org/show_bug.cgi?id=3526) - Escalation emails are resent over and over again.\n - 2009-12-23 Fixed bug#[4428](http://bugs.otrs.org/show_bug.cgi?id=4428) - PGP-inline signed messages can't be encoded\n    correctly with rich text editor.\n - 2009-12-22 Fixed bug#[4690](http://bugs.otrs.org/show_bug.cgi?id=4690) - AdminMailAccount - only 50 characters can be\n    entered in username, password and host fields while database can store 200.\n - 2009-12-16 Fixed bug#[4503](http://bugs.otrs.org/show_bug.cgi?id=4503) - Border around image does not display well\n    in some email clients.\n - 2009-12-13 Fixed bug#[4393](http://bugs.otrs.org/show_bug.cgi?id=4393) - AgentTicketQueue - Small view takes long to load.\n - 2009-12-09 Fixed crash in Ascii2Html() if no scalar reference is given.\n - 2009-12-09 Fixed bug#[4551](http://bugs.otrs.org/show_bug.cgi?id=4551) - GenericAgent appends leading zeros to dates\n    if TimeInputFormat is \"Input\".\n - 2009-12-09 Fixed bug#[4584](http://bugs.otrs.org/show_bug.cgi?id=4584) - Auto response does not use selected from e-mail\n    address.\n - 2009-12-09 Fixed bug#[4556](http://bugs.otrs.org/show_bug.cgi?id=4556) - Translation \"Accounted Time\" to german \"Zugewiesene Zeit\".\n - 2009-12-09 Fixed bug#[4184](http://bugs.otrs.org/show_bug.cgi?id=4184) - Can't call method \"NotificationGet\" on\n    an undefined value.\n - 2009-12-09 Fixed bug#[4371](http://bugs.otrs.org/show_bug.cgi?id=4371) - DataSelected value for config option\n    PreferencesGroups###WatcherNotify doesn't work.\n - 2009-12-09 Fixed bug#[4486](http://bugs.otrs.org/show_bug.cgi?id=4486) - Some preferences displayed in AdminUser are not correct.\n - 2009-12-09 Fixed bug#[4363](http://bugs.otrs.org/show_bug.cgi?id=4363) - Kernel/Output/HTML/Layout.pm -\\> PageNavBar()\n    mistakes because of missing checks and descriptions.\n - 2009-12-08 Fixed bug#[4361](http://bugs.otrs.org/show_bug.cgi?id=4361) - Umlauts in Dashboard are not displayed correcty\n    after refresh on non-unicode databases.\n - 2009-12-08 Fixed bug#[4323](http://bugs.otrs.org/show_bug.cgi?id=4323) - Customer Interface shows last customer article\n    instead of last article.\n - 2009-12-08 Fixed bug#[4435](http://bugs.otrs.org/show_bug.cgi?id=4435) - Inline attachments break in some scenarios like\n    AgentTicketCompose and AgentTicketForward.\n - 2009-12-08 Fixed bug#[4384](http://bugs.otrs.org/show_bug.cgi?id=4384) - Customer User Info not deleted when From in\n    AgentTicketPhone is changed.\n - 2009-12-08 Fixed bug#[4482](http://bugs.otrs.org/show_bug.cgi?id=4482) - Owner update possible with no new owner set.\n - 2009-12-07 Fixed bug#[4246](http://bugs.otrs.org/show_bug.cgi?id=4246) - Response Templates fail to populate for certain\n    email tickets.\n - 2009-12-07 Fixed bug#[4381](http://bugs.otrs.org/show_bug.cgi?id=4381) - Function change\\_selection in AgentTicketMove.\n - 2009-12-07 Fixed bug#[4400](http://bugs.otrs.org/show_bug.cgi?id=4400) - OTRS switches back to phone view when closing\n    ticket after split.\n - 2009-12-07 Fixed bug#[4597](http://bugs.otrs.org/show_bug.cgi?id=4597) - Unnecessary slash in download links.\n - 2009-12-07 Fixed bug#[2768](http://bugs.otrs.org/show_bug.cgi?id=2768) - AttachmentsContent-Disposition header downloading\n    a non-ASCII filename.\n - 2009-12-07 Fixed bug#[4282](http://bugs.otrs.org/show_bug.cgi?id=4282) - Fixed problems with CustomerInfo for Usernames\n    with a '+'.\n - 2009-12-07 Fixed bug#[4477](http://bugs.otrs.org/show_bug.cgi?id=4477) - Uninitialized Value issue with Redirect()\n    function in Layout.pm.\n - 2009-12-07 Fixed bug#[3907](http://bugs.otrs.org/show_bug.cgi?id=3907) - Caching function not working due to wrong\n     hardcoded umask.\n - 2009-12-02 Fixed bug#[4613](http://bugs.otrs.org/show_bug.cgi?id=4613) - Umlauts in \\<OTRS\\_\\*\\> variable and also on whole\n    message are not show right with ArticleStorageFS.\n - 2009-12-02 Fixed bug#[3667](http://bugs.otrs.org/show_bug.cgi?id=3667) - E-mail notification link is wrong when using\n    FastCGI.\n - 2009-11-25 Fixed bug#[4498](http://bugs.otrs.org/show_bug.cgi?id=4498) - Rich text editor places whitespace in front of\n    lines in plain text mail body.\n - 2009-11-23 Fixed bug#[4128](http://bugs.otrs.org/show_bug.cgi?id=4128) - Signature line breaks are stripped in\n    E-Mail-Ticket.\n - 2009-11-18 Fixed bug#[4319](http://bugs.otrs.org/show_bug.cgi?id=4319) - 'no quotable message' error for old messages\n    after upgrade.\n - 2009-11-18 Added FastCGI handle for web installer.\n - 2009-11-16 Fixed bug#[4464](http://bugs.otrs.org/show_bug.cgi?id=4464) - Spell checker (WYSIWIG + ispell) causes\n    exceptions sometimes.\n - 2009-11-16 Fixed bug#[4507](http://bugs.otrs.org/show_bug.cgi?id=4507) - Add Ticket Events for SLAUpdate, ServiceUpdate,\n    and TicketTypeUpdate in AdminNotificationEvent UI.\n - 2009-11-16 Fixed bug#[4509](http://bugs.otrs.org/show_bug.cgi?id=4509) - Notification (event based) comments are not\n    saved.\n - 2009-11-06 Fixed bug#[2069](http://bugs.otrs.org/show_bug.cgi?id=2069) - Update of CustomerCompany company\\_id is not\n    working.\n - 2009-11-06 Fixed bug#[2948](http://bugs.otrs.org/show_bug.cgi?id=2948) - Renamed crypt config option \"md5\" to \"md5-crypt\"\n    to avoid missunderstanding.\n - 2009-10-30 Fixed JS check for months, thanks to bes.\n - 2009-10-26 Fixed bug#[4455](http://bugs.otrs.org/show_bug.cgi?id=4455) - Input field in Preferences of a Dashboard\n    module doesn't save settings.\n - 2009-10-26 Fixed bug#[4454](http://bugs.otrs.org/show_bug.cgi?id=4454) - scripts/restore.pl is not working.\n - 2009-10-26 Fixed bug#[4447](http://bugs.otrs.org/show_bug.cgi?id=4447) - TimeUnits not saved in AgentTicketMove.pm when\n    omitting a note.\n - 2009-10-22 Fixed bug#[4188](http://bugs.otrs.org/show_bug.cgi?id=4188) - Restore original subject check in AgentTicketMerge.\n - 2009-10-21 Fixed bug#[4232](http://bugs.otrs.org/show_bug.cgi?id=4232) - SpellChecker Customer-Interface is not\n    working.\n - 2009-10-19 Fixed bug#[4433](http://bugs.otrs.org/show_bug.cgi?id=4433) - StateDefault is being ignored in when composing\n    an email answer, current ticket state or first one in list gets selected.\n\n#2.4.5 2009-10-15\n - 2009-10-12 Fixed bug#[3541](http://bugs.otrs.org/show_bug.cgi?id=3541) - Deleting tickets is not possible when using\n    Full Text Search Index on MS-SQL or PostgreSQL.\n - 2009-10-12 Fixed bug#[4392](http://bugs.otrs.org/show_bug.cgi?id=4392) - TicketCounter.log is created after permissions\n    are set.\n - 2009-10-07 Updated cpan module TEXT::CSV to version 1.14 to\n    fix bug#[4195](http://bugs.otrs.org/show_bug.cgi?id=4195) - Import with leading 0 in a field not possible.\n - 2009-10-07 Fixed bug#[3581](http://bugs.otrs.org/show_bug.cgi?id=3581) - Wrong German translation of \"no\".\n - 2009-10-07 Fixed bug#[4397](http://bugs.otrs.org/show_bug.cgi?id=4397) - QueueView shows wrong filter name.\n - 2009-10-07 Fixed bug#[4395](http://bugs.otrs.org/show_bug.cgi?id=4395) - Can't delete locked tickets via GenericAgent\n    on PostgreSQL and MS-SQL databases.\n - 2009-10-07 Fixed bug#[4367](http://bugs.otrs.org/show_bug.cgi?id=4367) - Generic agent produces TicketNumberLookup error\n    messages.\n - 2009-10-05 Fixed bug#[3793](http://bugs.otrs.org/show_bug.cgi?id=3793) - UTF-8 PostgreSQL database encode issues on\n    incoming emails.\n - 2009-10-05 Updated Spanish translation, thanks to Emiliano Augusto!\n - 2009-10-02 Fixed bug#[4379](http://bugs.otrs.org/show_bug.cgi?id=4379) - Array parameters not working in mkStats.pl\n - 2009-09-30 Fixed bug#[4348](http://bugs.otrs.org/show_bug.cgi?id=4348) - Dashboard: Upcoming Events Caching on a\n    per-user basis.\n - 2009-09-30 Fixed bug#[4338](http://bugs.otrs.org/show_bug.cgi?id=4338) - Enhancement: Be able to disable customer\n    feature of customer\\_id to have access to all ticket with same customer id.\n - 2009-09-30 Fixed bug#[4358](http://bugs.otrs.org/show_bug.cgi?id=4358) - Unable to insert inline images in customer\n    frontend if WebUploadCacheModule is set to \"FS\".\n - 2009-09-30 Fixed bug#[4355](http://bugs.otrs.org/show_bug.cgi?id=4355) - SLA dropdown does not populate in\n    AgentTicketEmail.\n - 2009-09-29 Fixed bug#[3248](http://bugs.otrs.org/show_bug.cgi?id=3248) - TicketSearch with ExtendedSearchCondition not\n    working correct.\n - 2009-09-29 Fixed bug#[4341](http://bugs.otrs.org/show_bug.cgi?id=4341) - RTE is not coupled with RichTextViewing. Rich\n    text is being shown, even if the text/plain MIME part is available.\n    Added new config option to force rich text viewing in ticket zoom.\n\n```\n     SysConfig -> Ticket -> Frontend::Agent::Ticket::ViewZoom ->\n      -=> Ticket::Frontend::ZoomRichTextForce\n```\n\n - 2009-09-28 Fixed bug#[4269](http://bugs.otrs.org/show_bug.cgi?id=4269) - Softwareerror in stats module after uninstall\n    ITSMIncidentProblemManagement\n - 2009-09-28 Fixed bug#[4341](http://bugs.otrs.org/show_bug.cgi?id=4341) - No HighlightColors configured fills up OTRS log\n    file with warnings.\n - 2009-09-28 Fixed bug#[4328](http://bugs.otrs.org/show_bug.cgi?id=4328) - Incorrect charset in AgentTicketAttachment.\n - 2009-09-28 Fixed bug#[4333](http://bugs.otrs.org/show_bug.cgi?id=4333) - StateGet() gives wrong error message.\n - 2009-09-26 Fixed bug#[4302](http://bugs.otrs.org/show_bug.cgi?id=4302) - Dashboard: Tickets Stats graph incorrect\n   (permission related).\n - 2009-09-24 Fixed bug#[3909](http://bugs.otrs.org/show_bug.cgi?id=3909) - Optional TicketFreeTimes with AgentTicketCompose\n    break when attaching a file\n - 2009-09-23 Fixed bug#[4326](http://bugs.otrs.org/show_bug.cgi?id=4326) - Notification emails have empty lines by using\n    opera at creation time.\n - 2009-09-23 Fixed bug#[3001](http://bugs.otrs.org/show_bug.cgi?id=3001) - Agent ticket queue ordering by priority causes\n    SQL error.\n - 2009-09-23 Fixed bug#[3969](http://bugs.otrs.org/show_bug.cgi?id=3969) - Role \\<-\\> User Admin Screen Refresh Error.\n - 2009-09-23 Fixed bug#[3787](http://bugs.otrs.org/show_bug.cgi?id=3787) - Generic Agent: Send no notifications is not\n    working.\n - 2009-09-23 Fixed bug#[4222](http://bugs.otrs.org/show_bug.cgi?id=4222) - Changed Italian translation of \"Login As\".\n - 2009-09-23 Fixed bug#[3923](http://bugs.otrs.org/show_bug.cgi?id=3923) - Frontend::Output::FilterText###OutputFilterTextAutoLink\n    does not work.\n - 2009-09-23 Fixed bug#[4226](http://bugs.otrs.org/show_bug.cgi?id=4226) - \"Previous owner\" alway empty when a new owner\n    must be defined.\n - 2009-09-23 Fixed bug#[4322](http://bugs.otrs.org/show_bug.cgi?id=4322) - Bulk-Action checkboxes are refilled wrongly by\n    Firefox-Autocomplete feature.\n - 2009-09-23 Fixed bug#[4320](http://bugs.otrs.org/show_bug.cgi?id=4320) - Javascript-check on empty body not working\n    with RichText-Editor (RTE).\n - 2009-09-23 Fixed bug#[2936](http://bugs.otrs.org/show_bug.cgi?id=2936) - $QData{\"\"} and $Quote{\"\"} crashes if a space\n    is set between the arguments.\n - 2009-09-22 Fixed bug#[4262](http://bugs.otrs.org/show_bug.cgi?id=4262) - Encoding issue with Event-based notifications.\n - 2009-09-22 Fixed bug#[1420](http://bugs.otrs.org/show_bug.cgi?id=1420) - $Text{\"User\"} instead of $Text{\"Username\"} in\n    AdminUserForm.dtl\n - 2009-09-22 Ensured that plain article body is used for ArticleViewModules\n    in AgentTicketZoom.\n - 2009-09-21 Fixed bug#[2087](http://bugs.otrs.org/show_bug.cgi?id=2087) - AgentTicketMove does not consider responsible\n    feature.\n - 2009-09-21 Fixed bug#[4029](http://bugs.otrs.org/show_bug.cgi?id=4029) - S/MIME activation with unclear message\n    message/incomplete documentation.\n - 2009-09-21 Fixed bug#[3408](http://bugs.otrs.org/show_bug.cgi?id=3408) - Richtext editor - editor windows is way to small.\n - 2009-09-21 Fixed bug#[4188](http://bugs.otrs.org/show_bug.cgi?id=4188) - Moving junk mails unnecessarily need subject and\n    body.\n - 2009-09-21 Fixed bug#[4189](http://bugs.otrs.org/show_bug.cgi?id=4189) - RTE off inserts a blank line in the text editor\n    field.\n - 2009-09-21 Fixed bug#[4080](http://bugs.otrs.org/show_bug.cgi?id=4080) - Rich editors javascript overrides onload function.\n - 2009-09-21 Fixed bug#[3818](http://bugs.otrs.org/show_bug.cgi?id=3818) - Customer History - Small/Medium/Preview does\n    not work.\n - 2009-09-21 Fixed bug#[2532](http://bugs.otrs.org/show_bug.cgi?id=2532) - Problem when setting queues and subqueues to\n    invalid.\n - 2009-09-18 Updated Spanish translation, thanks to Gustavo Azambuja!\n - 2009-09-16 Fixed bug#[4288](http://bugs.otrs.org/show_bug.cgi?id=4288) - 4288: Use of uninitialized value in\n    AdminGenericAgent.pm.\n - 2009-09-16 Fixed bug#[4292](http://bugs.otrs.org/show_bug.cgi?id=4292) - \"\\<some@example.com\\>\" in body breaks body on\n    ticket split.\n - 2009-09-08 Fixed bug#[4255](http://bugs.otrs.org/show_bug.cgi?id=4255) - RichText is not coupled with RichTextViewing.\n    Rich Text is being shown, even if the text/plain MIME part is available.\n - 2009-09-08 Fixed bug#[4243](http://bugs.otrs.org/show_bug.cgi?id=4243) - Adding a key to DefaultTheme HostBased via\n    Sysconfig breaks OTRS.\n - 2009-09-08 Fixed bug#[4257](http://bugs.otrs.org/show_bug.cgi?id=4257) - No event based notification is sent on queue\n    or state update.\n - 2009-09-08 Fixed bug#[4233](http://bugs.otrs.org/show_bug.cgi?id=4233) - AgentTicketCompose doesn't remember next state\n    while attaching a file.\n - 2009-09-08 Fixed bug#[4228](http://bugs.otrs.org/show_bug.cgi?id=4228) - scripts/DBUpdate-to-2.4.pl -\n    MigrateCustomerNotification() fails.\n - 2009-09-08 Fixed bug#[4232](http://bugs.otrs.org/show_bug.cgi?id=4232) - SpellChecker Customer-Interface is not\n    working.\n - 2009-09-08 Fixed bug#[4248](http://bugs.otrs.org/show_bug.cgi?id=4248) - follow up email contains the ticket number two\n    times.\n - 2009-09-07 Fixed bug#[4253](http://bugs.otrs.org/show_bug.cgi?id=4253) - No customer get found by using german umlaut\n    \"e. g. m\u00ef\u00bf\u00bdller\".\n - 2009-09-02 Fixed bug#[4186](http://bugs.otrs.org/show_bug.cgi?id=4186) - Customer search autocomplete result field is\n    sometimes too small to show complete customer entry.\n - 2009-09-02 Fixed bug#[4234](http://bugs.otrs.org/show_bug.cgi?id=4234) - Typo in german update message.\n - 2009-09-01 Fixed bug#[4139](http://bugs.otrs.org/show_bug.cgi?id=4139) - Missing config option to show or hide customer\n    history tickets.\n - 2009-09-01 Fixed bug#[4160](http://bugs.otrs.org/show_bug.cgi?id=4160) - Toolbar icons not correct in AdminCustomerUser.\n - 2009-09-01 Updated French translation, thanks to Remi Seguy.\n - 2009-09-01 Added Options for FirstResponseTime,UpdateTime,SolutionTime and\n    CalendarID to bin/otrs.addQueue.\n - 2009-09-01 Fixed bug#[4214](http://bugs.otrs.org/show_bug.cgi?id=4214) - TicketSearch on TicketID with ArrayRef doesn't\n    give results.\n\n#2.4.4 2009-08-31\n - 2009-08-31 Fixed bug#[4105](http://bugs.otrs.org/show_bug.cgi?id=4105) - CustomerUser has access to other Customers\n    tickets than defined in CustomerIDs.\n - 2009-08-31 Fixed Android browser support.\n - 2009-08-31 Added SOAP::Lite, which is needed for the XML-RPC Interface,\n    to bin/otrs.checkModules.\n - 2009-08-29 Fixed bug#[4018](http://bugs.otrs.org/show_bug.cgi?id=4018) - CustomerCompany in ModuleAction section while\n    CustomerUser in Module section.\n - 2009-08-28 Fixed bug#[4159](http://bugs.otrs.org/show_bug.cgi?id=4159) - Text Editor does not work with Konqueror.\n - 2009-08-28 Fixed bug#[4117](http://bugs.otrs.org/show_bug.cgi?id=4117) - UPGRADING: SetPermission.sh has to be run\n    before the update script is started.\n - 2009-08-28 Fixed bug#[1917](http://bugs.otrs.org/show_bug.cgi?id=1917) - Wrong Content-Type in downloaded message\n    from ArticlePlain.\n - 2009-08-28 Fixed wrong quoting in links in AgentTicketZoom.dtl and\n    CustomerTicketZoom.dtl.\n - 2009-08-28 Fixed bug#[4203](http://bugs.otrs.org/show_bug.cgi?id=4203) - No German translation for \"My Locked Tickets\".\n - 2009-08-28 Fixed bug#[1245](http://bugs.otrs.org/show_bug.cgi?id=1245) - Queues and responses are sorted descending\n    instead of ascending in AdminQueueResponses.\n - 2009-08-27 Fixed bug#[4198](http://bugs.otrs.org/show_bug.cgi?id=4198) - Error with services with one bracket in the\n    name.\n - 2009-08-27 Fixed bug#[4085](http://bugs.otrs.org/show_bug.cgi?id=4085) - The UPGRADING document is incorrect and\n    misleading.\n - 2009-08-27 Fixed bug#[2768](http://bugs.otrs.org/show_bug.cgi?id=2768) - AttachmentsContent-Disposition header\n    downloading a with non-ASCII filename.\n - 2009-08-27 Fixed bug#[3974](http://bugs.otrs.org/show_bug.cgi?id=3974) - Missing template stats in the 2.4.0 beta 5.\n - 2009-08-27 Fixed bug#[3297](http://bugs.otrs.org/show_bug.cgi?id=3297) - Disabling of AgentTicketMerge does not remove\n    merge link.\n - 2009-08-26 Fixed bug#[3746](http://bugs.otrs.org/show_bug.cgi?id=3746) - Show expiration date for PGP or S/MIME keys.\n - 2009-08-25 Fixed bug#[2676](http://bugs.otrs.org/show_bug.cgi?id=2676) - Translation issue for May.\n - 2009-08-26 Fixed bug#[4122](http://bugs.otrs.org/show_bug.cgi?id=4122) - META: spell checker issues with Rich Text\n    Editor.\n - 2009-08-25 Added prio color in dashboard ticket overview like in ticket\n    overview \"s\" mode.\n - 2009-08-24 Fixed bug#[4090](http://bugs.otrs.org/show_bug.cgi?id=4090) - RSS feeds have broken umlauts.\n - 2009-08-24 Fixed bug#[4177](http://bugs.otrs.org/show_bug.cgi?id=4177) - ArticleFilterDialog does not work in IE\n    Javascript.\n - 2009-08-24 Added COPYING-Third-Party - a list of all included party\n    libraries.\n - 2009-08-21 Fixed bug#[4178](http://bugs.otrs.org/show_bug.cgi?id=4178) - Added bundle of Apache2::Reload in\n    Kernel/cpan-lib/, because it's no longer distributed with mod\\_perl.\n - 2009-08-21 Fixed bug#[4170](http://bugs.otrs.org/show_bug.cgi?id=4170) - Typos in AgentTicketQueue and Sysconfig:MOTD.\n - 2009-08-19 Fixed bug#[4070](http://bugs.otrs.org/show_bug.cgi?id=4070) - No refresh in CPanel activated by default /\n    default values of preferences sys config not taken over.\n - 2009-08-18 Fixed bug#[4161](http://bugs.otrs.org/show_bug.cgi?id=4161) - System takes about 20sec to get edit screen\n    like note or compose answer.\n - 2009-08-18 Fixed bug#[4073](http://bugs.otrs.org/show_bug.cgi?id=4073) - Forward form does not add attachment.\n - 2009-08-18 Fixed bug#[4102](http://bugs.otrs.org/show_bug.cgi?id=4102) - otrs.addUser2Group: \"Use of uninitialized\n    value\" message.\n - 2009-08-18 Replaced a Die() call in Kernel/System/Package.pm with an normal\n    return for a better error handling.\n - 2009-08-18 Fixed bug#[4049](http://bugs.otrs.org/show_bug.cgi?id=4049) - SetPermissions.sh fails if .fetchmailrc does\n    not exist.\n - 2009-08-18 Added attachment support of ArticleCreate event in event based\n    notification feature.\n - 2009-08-18 Fixed bug#[4149](http://bugs.otrs.org/show_bug.cgi?id=4149) - TicketCreate event does not have access to\n    Article attributes.\n - 2009-08-18 Fixed bug#[4155](http://bugs.otrs.org/show_bug.cgi?id=4155) - Typo in German translation of\n    AdminSystemAddressForm.dtl.\n - 2009-08-17 Fixed bug#[3872](http://bugs.otrs.org/show_bug.cgi?id=3872) - Typo in CustomerFrontend::CommonParam###Action\n    issue.\n - 2009-08-17 Fixed bug#[4154](http://bugs.otrs.org/show_bug.cgi?id=4154) - Signature seperator is wrong.\n - 2009-08-16 Fixed bug#[4011](http://bugs.otrs.org/show_bug.cgi?id=4011) - Kernel/System/PostMaster/Filter/Match.pm\n    global symbol $Prefix not declared.\n - 2009-08-14 Fixed bug#[4150](http://bugs.otrs.org/show_bug.cgi?id=4150) - US/English Date Format not available.\n - 2009-08-13 Fixed bug#[4092](http://bugs.otrs.org/show_bug.cgi?id=4092) - Junk tickets shown as New tickets in Dashboard.\n - 2009-08-13 Fixed bug#[4129](http://bugs.otrs.org/show_bug.cgi?id=4129) - Watched Tickets in Dashboard.\n - 2009-08-13 Fixed bug#[4072](http://bugs.otrs.org/show_bug.cgi?id=4072) - Inline images broken in reply with\n    ArticleStorageFS as attachment backend.\n\n#2.4.3 2009-08-12\n - 2009-08-10 Fixed bug#[4123](http://bugs.otrs.org/show_bug.cgi?id=4123) - Reinstall of OPM packages with incorrect\n    framework or OS possible.\n - 2009-08-10 Fixed bug#[4116](http://bugs.otrs.org/show_bug.cgi?id=4116) - Error when bouncing welcome ticket.\n - 2009-08-10 Fixed bug#[3870](http://bugs.otrs.org/show_bug.cgi?id=3870) - OTRS utf-8 to iso-8859-1 conversion error\n    messages on every incoming mail.\n - 2009-08-05 Fixed bug#[4089](http://bugs.otrs.org/show_bug.cgi?id=4089) - root on OTRS Server gets an e-mail every 10\n    minutes (Can't call method \"FETCH\" on an undefined value at ...Net/LDAP.pm\n    line 274)\n - 2009-08-05 Fixed bug#[4107](http://bugs.otrs.org/show_bug.cgi?id=4107) - OpenSearch URL incorrect in Customer\n    Interface.\n - 2009-08-03 Improved ChallengeTokenCheck to check all token of own\n    sessions (not only of current session).\n - 2009-08-01 Fixed bug#[4086](http://bugs.otrs.org/show_bug.cgi?id=4086) - Kernel/System/Ticket.pm - next not in loop.\n - 2009-08-01 Fixed bug#[2795](http://bugs.otrs.org/show_bug.cgi?id=2795) - Modification on SubjectRe (possible use of\n    \"\" in Ticket::SubjectRe).\n - 2009-07-31 Fixed bug#[4044](http://bugs.otrs.org/show_bug.cgi?id=4044) - WYSIWYG DefaultPreViewLines in ExpandMode.\n - 2009-07-30 Fixed bug#[4082](http://bugs.otrs.org/show_bug.cgi?id=4082) - Queue customer notification moved to new\n    event based notification feature, but it's still in admin interface and\n    initial insert file.\n - 2009-07-30 Fixed bug#[4081](http://bugs.otrs.org/show_bug.cgi?id=4081) - In Dashboard ticket overviews it is not\n    possible to go to page 2,3,... and so on.\n - 2009-07-30 Fixed bug#[4039](http://bugs.otrs.org/show_bug.cgi?id=4039) - Use of uninitialized value -\\>\n    Kernel/Modules/AdminPackageManager.pm line.\n - 2009-07-30 Fixed bug#[4052](http://bugs.otrs.org/show_bug.cgi?id=4052) - Error composing a message in a Ticket with\n    \"empty answer\" if $QData{\"OrigFrom\"} is used in config option\n    Ticket::Frontend::ResponseFormat.\n - 2009-07-30 Fixed bug#[4048](http://bugs.otrs.org/show_bug.cgi?id=4048) - Subject starts with \"Re:\" when creating new\n    ticket via EmailTicket.\n - 2009-07-30 Fixed bug#[4031](http://bugs.otrs.org/show_bug.cgi?id=4031) - Generic Agent does not handle ticket create\n    time settings.\n\n#2.4.2 2009-07-29\n - 2009-07-28 Added \"bin/otrs.CacheDelete.pl\" to remove all cached items.\n - 2009-07-28 Updated Chinese Simple translation, thanks to Never Min!\n - 2009-07-28 Updated Swedish translation, thanks to Mikael Mattsson!\n - 2009-07-27 Fixed bug#[3962](http://bugs.otrs.org/show_bug.cgi?id=3962) - Page displayed with errors when filename\n    in attachment has simple quotes in it.\n - 2009-07-27 Fixed bug#[4054](http://bugs.otrs.org/show_bug.cgi?id=4054) - Bulk-action don't change ticket state.\n - 2009-07-27 Fixed bug#[3944](http://bugs.otrs.org/show_bug.cgi?id=3944) - Obligated TicketFreeText in composer breaks\n    WYSIWYG Editor when replying.\n - 2009-07-26 Fixed bug#[4009](http://bugs.otrs.org/show_bug.cgi?id=4009) - Improved sql statement in GenericAgent (\n    SELECT distinct(job\\_name) FROM generic\\_agent\\_jobs).\n - 2009-07-26 Fixed bug#[3987](http://bugs.otrs.org/show_bug.cgi?id=3987) - When executing upgrade script (\n    scripts/DBUpdate-to-2.4.pl), get an error \"Need Ticket::ViewableStateType\n    in Kernel/Config.pm!\".\n - 2009-07-26 Fixed bug#[3984](http://bugs.otrs.org/show_bug.cgi?id=3984) - HTML Notifications - Links to ticketsystem not\n    \"clickable\" in email client thunderbird.\n - 2009-07-25 Fixed bug#[4038](http://bugs.otrs.org/show_bug.cgi?id=4038) - Entering text for RTL languages is impossible\n    in rich text mode!\n - 2009-07-25 Fixed bug#[4046](http://bugs.otrs.org/show_bug.cgi?id=4046) - Dashboard New/Open do not show anything in\n   \"New Tickets\" and \"Open Tickets\" section.\n - 2009-07-24 Fixed bug#[4043](http://bugs.otrs.org/show_bug.cgi?id=4043) - French translation is corrupted.\n - 2009-07-24 Fixed bug#[3904](http://bugs.otrs.org/show_bug.cgi?id=3904) - Signing Mails with PGP or S/MIME not possible\n   in AgentTicketEmail.\n - 2009-07-23 Fixed bug#[4020](http://bugs.otrs.org/show_bug.cgi?id=4020) - OTRS crashes when signing with PGP/GnuPG\n    - Got no EncodeObject!\n - 2009-07-23 Fixed bug#[2304](http://bugs.otrs.org/show_bug.cgi?id=2304) - Two notification when a owner is changed.\n - 2009-07-23 Fixed bug#[2495](http://bugs.otrs.org/show_bug.cgi?id=2495) - Annoying Responsible Update Notifications.\n - 2009-07-23 Fixed bug#[4036](http://bugs.otrs.org/show_bug.cgi?id=4036) - Dashboard Plugin Upcoming Events shows also\n    \"pending auto close\" tickets as \"pending reminder reached in\".\n - 2009-07-22 Fixed bug#[4035](http://bugs.otrs.org/show_bug.cgi?id=4035) - Dashboard Product Notify get's shown always,\n    also if no new release info is available.\n - 2009-07-22 Fixed bug#[4027](http://bugs.otrs.org/show_bug.cgi?id=4027) - RichText: Incoming emails written with MS\n    Word 12 seems to be empty.\n - 2009-07-22 Fixed bug#[4026](http://bugs.otrs.org/show_bug.cgi?id=4026) - Quote in Auto-Responses of new tickets which\n    are created over the web interface are not plain text. Quote in\n    Auto-Responses based on emails are working fine.\n - 2009-07-22 Fixed bug#[4024](http://bugs.otrs.org/show_bug.cgi?id=4024) - Use of Sessions per URL (not cookie) breaks\n    Dashboard.\n\n#2.4.1 2009-07-22\n - 2009-07-21 Updated Hungarian translation, thanks to Arnold Matyasi!\n - 2009-07-21 Updated Turkish translation, thanks to Meric Iktu!\n - 2009-07-21 Moved to default font \"Geneva,Helvetica,Arial\" of rich text\n    feature.\n - 2009-07-21 Fixed bug#[4005](http://bugs.otrs.org/show_bug.cgi?id=4005) - Spellcheck with FCKEditor Plugin for WYSIWYG.\n - 2009-07-21 Fixed bug#[4022](http://bugs.otrs.org/show_bug.cgi?id=4022) - In AgentTicketZoom I get the following error\n    message in log index.pl: Malformed UTF-8 character (unexpected\n    non-continuation byte 0x74, immediately after start byte 0xe9) in\n    substitution iterator at ../..//Kernel/Modules/AgentTicketAttachment.pm\n    line 192.\n - 2009-07-21 Added/Updated new Chinese Traditional translation, thanks to\n    Bin Du, Yiye Huang and Qingjiu Jia!\n\n#2.4.0 beta6 2009-07-19\n - 2009-07-19 Moved to fckeditor (http://www.fckeditor.net/) as rich text\n    editor because of several problems regaring text formating with YUI rich\n    text editor.\n - 2009-07-19 Updated CPAN File::Temp to verion 0.22.\n - 2009-07-19 Updated Chinese Simple translation, thanks to Never Min!\n - 2009-07-19 Added new Chinese Traditional translation, thanks to Bin Du,\n    Yiye Huang and Qingjiu Jia!\n - 2009-07-19 Updated Chinese Simple translation, thanks to Bin Du,\n    Yiye Huang and Qingjiu Jia!\n - 2009-07-18 Fixed bug#[4004](http://bugs.otrs.org/show_bug.cgi?id=4004) - Can not search for customer strings like\n    \"St. Peters\", I always get the result of \"St.+Peters\" which is much\n     more than I want. Please make it working like in OTRS 2.3.\n - 2009-07-18 Fixed bug#[3991](http://bugs.otrs.org/show_bug.cgi?id=3991) - Link in HTML Article opens in iframe.\n - 2009-07-18 Renamed Kernel/System/HTML2Ascii.pm to\n    Kernel/System/HTMLUtils.pm, because of better naming.\n - 2009-07-17 Updated Russian translation, thanks to Andrey Cherepanov!\n - 2009-07-16 Fixed bug#[4001](http://bugs.otrs.org/show_bug.cgi?id=4001) - proxy usage - rss get's not loaded via\n    proxy settings.\n - 2009-07-16 Updated Russian translation, thanks to Egor Tsilenko!\n - 2009-07-16 Fixed bug#[3994](http://bugs.otrs.org/show_bug.cgi?id=3994) - It's possible to create an email ticket\n - 2009-07-16 Fixed bug#[3997](http://bugs.otrs.org/show_bug.cgi?id=3997) - Wrong named variable in AgentTicketZoom.\n - 2009-07-16 Fixed bug#[3993](http://bugs.otrs.org/show_bug.cgi?id=3993) - Error message about wrong email adress\n    not visible in AgentTicketPhone and AgentTicketEmail if AutoComplete\n    is enabled.\n - 2009-07-16 Fixed bug#[3994](http://bugs.otrs.org/show_bug.cgi?id=3994) - It's possible to create an email ticket\n    for internal queues.\n - 2009-07-15 Fixed bug#[3663](http://bugs.otrs.org/show_bug.cgi?id=3663) - Responsible Notification does not happen\n    for pending reached.\n    Added config optio to be compat. to old OTRS versions.\n    --\\>\\> SysConfig -\\> Ticket -\\> Core::Ticket -\\>\n             Ticket::PendingNotificationNotToResponsible \\<\\<--\n - 2009-07-15 Updated Italian translation, thanks to Giordano Bianchi,\n    Emiliano Coletti and Alessandro Faraldi!\n - 2009-07-14 Fixed bug#[3983](http://bugs.otrs.org/show_bug.cgi?id=3983) - bin/PendingJobs.pl is not sendign reminder\n    email (Error Message: Message: Need RecipientID!).\n - 2009-07-14 Fixed bug#[3977](http://bugs.otrs.org/show_bug.cgi?id=3977) - Tags of auto responses get not replaced.\n - 2009-07-14 Fixed bug#[3960](http://bugs.otrs.org/show_bug.cgi?id=3960) - Split function does not use RichText content\n    from original article for new article.\n - 2009-07-14 Fixed bug#[3976](http://bugs.otrs.org/show_bug.cgi?id=3976) - AgentTicketBounce does not work when\n    Frontend::RichText is disabled.\n - 2009-07-13 Updated Russian translation, thanks to Mike Lykov!\n - 2009-07-13 Updated Italian translation, thanks to Remo Catelotti!\n - 2009-07-13 Fixed bug#[3975](http://bugs.otrs.org/show_bug.cgi?id=3975) - New Dashboard Featrue: SQL of Upcoming Events\n    (for pending remidner time) is not using database index, index on\n    until\\_time is missing. Use scripts/DBUpdate-to-2.4.\\*.sql for upgrading.\n - 2009-07-13 Fixed bug#[3972](http://bugs.otrs.org/show_bug.cgi?id=3972) - Sub Kernel::System::TicketOwnerCheck() gives\n    wrong result if asked for different TicketIDs in one TicketObject.\n - 2009-07-13 Updated Persian translation, thanks to Amir Shams Parsa!\n - 2009-07-13 Updated Dutch translation, thanks to Michiel Beijen!\n - 2009-07-13 Fixed bug#[3790](http://bugs.otrs.org/show_bug.cgi?id=3790) - POP3S doesn't fail when IO::Socket::SSL is not\n    installed or mail server address is wrong.\n - 2009-07-13 Improved dashboard api / module layer to load content changes\n    via AJAX / no compiled dashboard reload is needed.\n - 2009-07-11 Added new dashboard backend to show online agent and customers.\n - 2009-07-11 Improved dashboard api / module layer (added Preferences() to\n    API to get/modify config settings of backend at runtime).\n - 2009-07-11 Fixed bug#[3967](http://bugs.otrs.org/show_bug.cgi?id=3967) - Unable to create notes by using GenericAgent\n    (Error: Need Charset!).\n - 2009-07-11 Fixed bug#[3965](http://bugs.otrs.org/show_bug.cgi?id=3965) - New TicketOverview S/M/L feature: Last used\n    ticket view mode get't only stored in current session but get lost after\n    new relogin.\n - 2009-07-11 Fixed bug#[3964](http://bugs.otrs.org/show_bug.cgi?id=3964) - Update script is not working correctly (Can't\n    call method \"NotificationAdd\" on an undefined value at\n    scripts/DBUpdate-to-2.4.pl line 218).\n - 2009-07-11 Fixed bug#[3963](http://bugs.otrs.org/show_bug.cgi?id=3963) - Upgrade script is not executable\n    scripts/DBUpdate-to-2.4.pl.\n\n#2.4.0 beta5 2009-07-09\n - 2009-07-09 Fixed bug#[3938](http://bugs.otrs.org/show_bug.cgi?id=3938) - GenericAgent.pl - send agent escalation\n    notification escalation ERROR (Got no EncodeObject).\n - 2009-07-09 Updated Polish translation, thanks to Artur Skalski!\n - 2009-07-09 Updated French translation, thanks to Olivier Sallou!\n - 2009-07-09 Updated Persian translation, thanks to Afshar Mohebbi!\n    See also at\n    http://afsharm.blogspot.com/2009/06/localizing-otrs-into-persian-farsi.html\n - 2009-07-09 Added CSV/HTML export for Admin-SQL-Box feature.\n - 2009-07-09 Fixed bug#[3956](http://bugs.otrs.org/show_bug.cgi?id=3956) - New OpenSearch feature for fulltext search\n    is not working.\n - 2009-07-08 Fixed bug#[3954](http://bugs.otrs.org/show_bug.cgi?id=3954) - Lite Theme is not working.\n - 2009-07-07 Updated Italian translation, thanks to Remo Catelotti!\n - 2009-07-06 Fixed bug#[3948](http://bugs.otrs.org/show_bug.cgi?id=3948) - Some \\<OTRS\\> variables are not replaced in\n    responses and auto responses.\n - 2009-07-06 Fixed bug#[3946](http://bugs.otrs.org/show_bug.cgi?id=3946) - Incomplete substitution of tag\n    \\<OTRS\\_FIRST\\_NAME\\> in templates.\n - 2009-07-01 Added Kernel/Language/en\\_CA.pm and Kernel/Language/en\\_GB.pm\n    to have different date formats for US, CA and GB.\n - 2009-07-01 Fixed bug#[3939](http://bugs.otrs.org/show_bug.cgi?id=3939) - Not able to configure an external\n    customer dastabase source // Got no EncodeObject! at Kernel/System/DB.pm\n    line 96.\n - 2009-07-01 Fixed bug#[3935](http://bugs.otrs.org/show_bug.cgi?id=3935) - Frontend::CustomerUser::Item###9-OpenTickets\n    does not work anymore.\n - 2009-07-01 Fixed bug#[3936](http://bugs.otrs.org/show_bug.cgi?id=3936) - \"select all\" in bulk action is not working\n    on only one ticket in overview.\n - 2009-06-30 Updated Italian translation, thanks to Remo Catelotti!\n - 2009-06-30 Fixed bug#[3934](http://bugs.otrs.org/show_bug.cgi?id=3934) - Error message on email processing - without\n    any effect.\n\n#2.4.0 beta4 2009-06-30\n - 2009-06-25 Fixed bug#[3774](http://bugs.otrs.org/show_bug.cgi?id=3774) - Wrong processing of email address containing\n    www.com.\n - 2009-06-25 Fixed bug#[3892](http://bugs.otrs.org/show_bug.cgi?id=3892) - Wrong error message on agents changing his\n    password.\n - 2009-06-29 Fixed bug#[3933](http://bugs.otrs.org/show_bug.cgi?id=3933) - Kernel::System::LinkObject should be usable\n    in rpc.pl.\n - 2009-06-20 Updated Norwegian translation, thanks to Fredrik Andersen!\n - 2009-06-29 Added Latvian translation, thanks to Ivars Strazdins!\n - 2009-06-25 Fixed bug#[3911](http://bugs.otrs.org/show_bug.cgi?id=3911) - Not all Dashboard Functions e. g. charts\n    available in Internet Explorer 6.\n - 2009-06-25 Fixed bug#[3925](http://bugs.otrs.org/show_bug.cgi?id=3925) - Frontend::NavBarModule in agent navigation\n    bar \"Ticket::TicketSearchFulltext\" and \"Ticket::TicketSearchProfile\" not\n    working together.\n - 2009-06-25 Fixed bug#[3924](http://bugs.otrs.org/show_bug.cgi?id=3924) - Upcoming Events -\\> wrong displayed Escalation\n    time.\n - 2009-06-25 Fixed bug#[3917](http://bugs.otrs.org/show_bug.cgi?id=3917) - Dashboard will crash when no Internet\n    connection available - Module: ProductNotify.\n - 2009-06-25 Fixed bug#[3913](http://bugs.otrs.org/show_bug.cgi?id=3913) - Missing Modules in 2.4.0 beta1-beta3:\n    Kernel/Output/HTML/ServicePreferencesGeneric.pm and\n    Kernel/Output/HTML/SLAPreferencesGeneric.pm.\n - 2009-06-24 Fixed bug#[3826](http://bugs.otrs.org/show_bug.cgi?id=3826) - In auto responses and agent notifications,\n    WYSIWYG is not working.\n - 2009-06-24 Fixed bug#[3796](http://bugs.otrs.org/show_bug.cgi?id=3796) - Admin notification edit screen is not coming\n    proper in WYSIWYG editor.\n - 2009-06-22 Added PasswordMaxLoginFailed as password preferences to define\n    max login till user get gets disabled (invalid-temporarily). Feature\n    provided by Torsten Thau.\n - 2009-06-22 Fixed bug#[3775](http://bugs.otrs.org/show_bug.cgi?id=3775) - Translation error in Kernel/Language/de.pm.\n - 2009-06-22 Fixed bug#[3879](http://bugs.otrs.org/show_bug.cgi?id=3879) - Typing mistakes in the notification texts\n    (scripts/database/otrs-initial\\_insert.xml).\n - 2009-06-22 Fixed bug#[3907](http://bugs.otrs.org/show_bug.cgi?id=3907) - Sum rows/columns in stats only adds integers.\n - 2009-06-16 Fixed bug#[3881](http://bugs.otrs.org/show_bug.cgi?id=3881) - Dashboard - Error message when\n    http://otrs.org/rss/ is not reachable.\n - 2009-06-13 Fixed bug#[3791](http://bugs.otrs.org/show_bug.cgi?id=3791) - Safari v3+4 cannot work with WYSIWYG Editor.\n - 2009-06-10 Fixed bug#[3882](http://bugs.otrs.org/show_bug.cgi?id=3882) - Dashboard does not set LastScreenOverview.\n - 2009-06-10 Added own web user agent, Kernel::System::WebUserAgent. Removed\n    http/ftp access from Kernel::System::Package, moved to new core module.\n - 2009-06-10 Moved default menu type form \"Classic\" to \"Modern\".\n\n#2.4.0 beta3 2009-06-08\n - 2009-06-08 Fixed bug#[3852](http://bugs.otrs.org/show_bug.cgi?id=3852) - installer.pl throws Got no EncodeObject.\n - 2009-06-08 Fixed bug#[3842](http://bugs.otrs.org/show_bug.cgi?id=3842) - DBUpdate-to-2.4.pl - Error when updating from\n    beta1 to beta 2.\n - 2009-05-28 Added new management dashboard feature.\n - 2009-05-28 Added new event based notication management feature (notification\n    can get easy managed via the admin interface).\n - 2009-05-28 Fixed bug#[3868](http://bugs.otrs.org/show_bug.cgi?id=3868) - the replacement of %s in $Text{} content\n    doesn't work if the content is 0.\n - 2009-05-28 Fixed bug#[3846](http://bugs.otrs.org/show_bug.cgi?id=3846) - Generic Agents - cant set \"Create Times\"\n    settings.\n - 2009-05-27 Fixed bug#[3862](http://bugs.otrs.org/show_bug.cgi?id=3862) - typos in english warning message of\n    GenericAgent setup.\n - 2009-05-18 Updated CPAN module Text::CSV to version 1.12.\n\n#2.4.0 beta2 2009-05-15\n - 2009-05-15 Fixed bug#[3618](http://bugs.otrs.org/show_bug.cgi?id=3618) - Ticket history info (ticket\\_history.queue\\_id)\n    on TicketMove-Event is saving the old queue\\_id instead of the new queue\\_id.\n - 2009-05-15 Fixed bug#[3598](http://bugs.otrs.org/show_bug.cgi?id=3598) - Attachments are incorrectly displayed in\n    ticket zoom view when attachments are located in file system (done by\n    AttachmentFS) and now AttachmentDB backned is used.\n - 2009-05-15 Fixed bug#[3583](http://bugs.otrs.org/show_bug.cgi?id=3583) - Watched tickets do not follow queue rights.\n    Can't read watched tickets with no permissions in new queue.\n - 2009-05-15 Fixed bug#[3816](http://bugs.otrs.org/show_bug.cgi?id=3816) - Typo in some bin/\\*.pl files like\n    bin/PostMasterMailbox.pl.\n - 2009-05-15 Added escalation time selection in admin generic agent\n    interface.\n - 2009-05-15 Added notification event feature (be able to create custom\n    notifications based on ticket events). Old notifications get migrated\n    by scripts/DBUpdate-to-2.4.pl. Removed queue attributes for customer\n    notification options.\n - 2009-04-27 Fixed bug#[3805](http://bugs.otrs.org/show_bug.cgi?id=3805) - Error: Module\n    Kernel/Output/HTML/NavBarTicketBulkAction.pm not found!'\n - 2009-04-27 Fixed bug#[3802](http://bugs.otrs.org/show_bug.cgi?id=3802) - Errormessage: \"Got no EncodeObject!\" if\n    using rpc.pl (SOAP).\n - 2009-04-24 Fixed bug#[3691](http://bugs.otrs.org/show_bug.cgi?id=3691) - CustomerUser::LDAP does support GroupDN now.\n - 2009-04-23 Fixed bug#[3799](http://bugs.otrs.org/show_bug.cgi?id=3799) - The UPGRADING refrences a file not included\n    in the source code.\n - 2009-04-20 Updated nb\\_NO translation, thanks to Fredrik Andersen!\n - 2009-04-20 Fixed bug#[3786](http://bugs.otrs.org/show_bug.cgi?id=3786) - No CSS get found at installation time (no\n    colors are visable).\n\n#2.4.0 beta1 2009-04-20\n - 2009-04-20 Changed default config size of IPC-Log (LogSystemCacheSize)\n    to 32k (64k is not working on darwin).\n - 2009-04-20 Moved from bin/SetPermissions.sh to bin/SetPermissions.pl\n    for a better maintanance.\n - 2009-04-20 Added warning screen to AdminSysConfig, AdminPackageManager,\n    AdminGenericAgent to block to use it till SecureMode is activated.\n - 2009-04-18 Added SysConfig setting to (not) include custmers email address\n    on composing an answer \"Ticket::Frontend::ComposeAddCustomerAddress\".\n    Default is set to true.\n - 2009-04-17 Added own SysConfig settings for bulk action (\n    Ticket // Frontend::Agent::Ticket::ViewBulk).\n - 2009-04-15 Removed AgentCanBeCustomer option from agent frontend.\n    Customer followup messages can only be created from the customer frontend.\n - 2009-04-09 Added search for article create times in ticket search.\n - 2009-04-09 Improved email send functionality to properly format emails\n    with alternative parts and inline images.\n - 2009-04-09 Added enhancement bug#[3514](http://bugs.otrs.org/show_bug.cgi?id=3514) - RegExp support in ACLs. Now you\n    can use RegExp in ACLs like the following example:\n\n```perl\n    $Self->{TicketAcl}->{'ACL-Name-1'} = {\n       # match properties\n       Properties => {\n           Queue => {\n               Name => ['[RegExp]^Misc'],\n           },\n       },\n       # return possible options (white list)\n       Possible => {\n           # possible ticket options (white list)\n           Ticket => {\n               Service  => ['[RegExp]^t1', '[RegExp]^t2'],\n               Priority => [ '4 high' ],\n           },\n       },\n    };\n```\nStarting with \"[RegExp]\" in value area means the following will be a regexp\n    content.\n\nThis ACL will match all Queues with starting \"Misc\" and all services with\n    starting \"t1\" and \"t2\". So you do not longer need to write every full queue\n    names to the array list.\n\n   Usage of [RegExp] results in case-sensitive matching.\n   Usage of [regexp] results in case-insensitive matching.\n - 2009-04-08 Updated CPAN module CGI to version 3.43.\n - 2009-04-07 Changed default config size of IPC-Log (LogSystemCacheSize)\n    to 64k (160k is not working on darwin).\n - 2009-04-07 Added SMTPS support for outgoing emails (e. g. for sending\n    via gmail smtp server).\n - 2009-04-06 Added fulltext search feature for quick search (OpenSearch\n    format and input field in nav bar - disabled per default).\n - 2009-04-03 Added check for required perl version 5.8.6.\n - 2009-04-02 Added possibility to search tickets with params like\n    *OlderMinutes and \\*NewerMinutes with 0 minutes.\n - 2009-04-02 Fixed bug#[3732](http://bugs.otrs.org/show_bug.cgi?id=3732) - Improved russion translation.\n - 2009-04-02 Dropped MaxDB/SAPDB support due to some limitations.\n - 2009-04-01 Fixed bug#[3295](http://bugs.otrs.org/show_bug.cgi?id=3295) - SQL error when you have no state of type\n    \"pending reminder\".\n - 2009-04-01 Fixed bug#[2296](http://bugs.otrs.org/show_bug.cgi?id=2296) - Enable/disable \"blinking queue\" in QueueView\n    via SysConfig.\n - 2009-04-01 Fixed bug#[3641](http://bugs.otrs.org/show_bug.cgi?id=3641) - AgentTicketCustomer totally broken in CVS.\n - 2009-04-01 When merging tickets, assign article based ticket history\n    entries to the merged ticket as well.\n - 2009-04-01 Implemented enhancement/bug#[3333](http://bugs.otrs.org/show_bug.cgi?id=3333) - Increased the memory of\n    the shared memory used for SystemLog.\n - 2009-04-01 Fixed bug#[3737](http://bugs.otrs.org/show_bug.cgi?id=3737) - Non-ascii characters in filenames of outbound\n    email attachments are not quoted.\n - 2009-04-01 Implement enhancement/bug#[3527](http://bugs.otrs.org/show_bug.cgi?id=3527) - the input fields at the\n    restrictions of the stats module now allow the use of wildcards at the\n    beginning and end of a word (e.g. 'huber\\*'). This is now the same behavior\n    as in GenericAgent. But not the behavior of the TicketSearch.\n - 2009-03-30 Updated CPAN module Authen::SASL to version 2.12.\n - 2009-03-30 Updated CPAN module Text::CSV to version 1.11.\n - 2009-03-30 Updated CPAN module File::Temp to version 0.21.\n - 2009-03-17 Fixed bug#[3729](http://bugs.otrs.org/show_bug.cgi?id=3729) - Missing translation of \"Customer history\"\n    in AgentTicketCustomer.\n - 2009-03-17 Fixed bug#[3713](http://bugs.otrs.org/show_bug.cgi?id=3713) - Apache-error if ticket has only internal\n    articles.\n - 2009-03-06 Added article filter feature in TicketZoom.\n - 2009-03-01 Replaced dtl variable for image location \"$Env{\"Images\"}\" by\n    using config option \"$Config{\"Frontend::ImagePath\"}\" to remove not needed\n    $Env{} \"alias\". Added \"$Config{\"Frontend::JavaScriptPath\"}\" for java script\n    and \"$Config{\"Frontend::CSSPath\"}\" for css directory.\n - 2009-02-27 Added feature to show the ticket title or the last\n    customer subject in TicketOverviewSmall.\n - 2009-02-27 Added enhancement bug#[3271](http://bugs.otrs.org/show_bug.cgi?id=3271) Added accessibility of\n    Kernel::System::CustomerUser (CustomerUserObject) to bin/cgi-bin/rpc.pl\n    (SOAP handle).\n - 2009-02-17 Added group permission support for bulk feature (config via\n    SysConfig -\\> Ticket -\\> Core::TicketBulkAction).\n - 2009-02-17 Added read only permission support for watched tickets.\n - 2009-02-17 Added agent notification support for watched tickets (config\n    via perferences setting for each agent).\n - 2009-02-11 Fixed ticket# 2009020942001554 - generic agent is logging many\n    debug infos into log file.\n - 2009-02-09 Fixed bug#[3075](http://bugs.otrs.org/show_bug.cgi?id=3075) - IntroUpgrade Text is not shown during package\n    upgrade in admin interface of package manager.\n - 2009-02-09 Implement the same identifier handling for customer as for\n    user. This effects the files Kernel/Ouptut/HTML/\\*/CustomerNavigationBar.dtl\n    and Kernel/Ouptut/HTML/Layout.pm.\n - 2009-02-05 Removed the dtl-if from Header.dtl. And implement a new\n    handling to set a indentifier for the user information (usually visible\n    on the top of the right side of a page).\n - 2009-02-04 Implement a config option to remove OTRS version tags\n    from the http headers.\n - 2009-02-04 Removed a useless slogan from the HTML/DTL-Headers (\n    Kernel/Ouptut/HTML/\\*/Header.dtl, Kernel/Ouptut/HTML/\\*/Footer.dtl, ...).\n - 2009-01-28 Fixed bug#[3233](http://bugs.otrs.org/show_bug.cgi?id=3233) - Better error message when adding auto\n    responses with same name.\n - 2009-01-26 Removed outdated function FetchrowHashref() from core module\n    Kernel/System/DB.pm.\n - 2009-01-08 Fixed bug#[3571](http://bugs.otrs.org/show_bug.cgi?id=3571) - Output Filter Pre+Post of layout object will\n    be use on any block, not on any template file like it was in 2.1-2.2. Moved\n    back to old behavior.\n - 2009-01-05 Moved to new auth sync layer. Splited auth and agent\n    sync into two module layers. For example:\n\n    [Kernel/Config.pm]\n\n```perl\n    # agent authentication against http basic auth\n    $Self->{'AuthModule'} = 'Kernel::System::Auth::HTTPBasic';\n\n    # agent data sync against ldap\n    $Self->{'AuthSyncModule'} = 'Kernel::System::Auth::Sync::LDAP';\n    $Self->{'AuthSyncModule::LDAP::Host'} = 'ldap://ldap.example.com/';\n    $Self->{'AuthSyncModule::LDAP::BaseDN'} = 'dc=otrs, dc=org';\n    $Self->{'AuthSyncModule::LDAP::UID'} = 'uid';\n    $Self->{'AuthSyncModule::LDAP::SearchUserDN'} = 'uid=sys, ou=user, dc=otrs, dc=org';\n    $Self->{'AuthSyncModule::LDAP::SearchUserPw'} = 'some_pass';\n    $Self->{'AuthSyncModule::LDAP::UserSyncMap'} = {\n        # DB -> LDAP\n        UserFirstname => 'givenName',\n        UserLastname  => 'sn',\n        UserEmail     => 'mail',\n    };\n```\n - 2008-12-28 Added daemon support to bin/PostMasterMailbox.pl and\n    bin/GenericAgent.pl by using \"-b \\<BACKGROUND\\_INTERVAL\\_IN\\_MIN\\>\".\n - 2008-12-22 Improved ticket escalation notification, moved to .dtl support\n    (Kernel/Output/HTML/Standard/AgentTicketEscalation.dtl) and added ticket\n    title as mouse on over note.\n - 2008-12-19 Added out of office feature for agent users.\n - 2008-12-15 Added new ticket attributes to CSV export of ticket in ticket\n    search. New attributes are 'Closed', 'FirstLock' and 'FirstResponse'.\n - 2008-12-10 Added the text auto link feature to add http links for text body\n    to add icons after conigured expressions the standard.\n - 2008-12-08 Added new postmaster filter to check if new arrived email is\n    based on follow up of forwarded email. Then Followup should not be shown\n    as \"email-external\", it should be shown as \"email-internal\".\n - 2008-11-12 Removed not supported PostMaster module\n    Kernel/System/PostMaster/Filter/AgentInterface.pm.\n - 2008-11-10 Added autocomplete feature for customer search.\n - 2008-10-30 Fixed bug#[2371](http://bugs.otrs.org/show_bug.cgi?id=2371) - \"Panic, no user data!\" message should be more\n    verbose.\n - 2008-10-29 Added additional default attributes of customer attributes like\n    (phone, fax, mobile, street, zip, city). Use scripts/DBUpdate-to-2.4.\\*.sql\n    for upgrading.\n - 2008-10-28 Fixed bug#[1722](http://bugs.otrs.org/show_bug.cgi?id=1722) - weekday sorting in TimeWorkingHours corrected.\n - 2008-10-28 Fixed bug#[1491](http://bugs.otrs.org/show_bug.cgi?id=1491) - text in the file \"UPGRADING\" is misleading.\n - 2008-10-28 Implemented RFE (bug#[1006](http://bugs.otrs.org/show_bug.cgi?id=1006)): Added ticket change time to\n    TicketGet and ArticleGet output. As a result, parameter 'Changed' is now\n    usable as field in CSV search output as ticket change time.\n - 2008-10-24 Added StopAfterMatch attribute on postmaster filter (DB and\n    config backend).\n - 2008-10-23 First version of improved ticket overview modus, added S/M/L\n    options.\n - 2008-10-23 Added ticket change time option to agent ticket search.\n - 2008-10-14 Added COUNT as result option in TicketSearch() of\n    Kernel::System::Ticket to increase performance of count lookups.\n - 2008-10-14 Added new tables for \"RFC 2822 conform\" and Service/SLA\n    preferences feature (use scripts/DBUpdate-to-2.4.\\*.sql for upgrading).\n - 2008-10-14 Added RFC 2822 conform In-Reply-To and References header\n    support for outgoing emails (Threading).\n - 2008-10-02 Added script to move stored attachments from one backend to\n    other backend, e. g. DB -\\> FS (bin/otrs.ArticleStorageSwitch.pl).\n - 2008-10-02 Added service and sla preferences feature, like already exising\n    user, customer and queue preferences. Can be extended by config settings.\n - 2008-10-02 Improved package manager to get info about documentation\n    availabe in online repository packages.\n - 2008-10-02 Added password reset option based on auth backend for multi\n    auth support.\n\n#2.3.6 (2010/09/15)\n - 2010-07-23 Fixed bug#[3426](http://bugs.otrs.org/show_bug.cgi?id=3426) - Abort while processing mails with invalid\n    charset messes up POP3 mailbox handling.\n\n#2.3.5 2010-02-08\n - 2010-02-04 Fixed SQL quoting issue (see also\n    http://otrs.org/advisory/OSA-2010-01-en/).\n - 2009-05-19 Fixed bug#[3844](http://bugs.otrs.org/show_bug.cgi?id=3844) - SLA get's not removed on reload if servics was\n    selected before (in agent interface).\n - 2009-04-23 Fixed bug#[3495](http://bugs.otrs.org/show_bug.cgi?id=3495) - Missing ldap disconnects leaves CLOSE\\_WAIT tcp\n    sessions.\n - 2009-04-23 Fixed bug#[3674](http://bugs.otrs.org/show_bug.cgi?id=3674) - CustomerSearch() doesn't match non-single\n    words if they are in the same DB field.\n - 2009-04-23 Fixed bug#[3684](http://bugs.otrs.org/show_bug.cgi?id=3684) - No search for \\* in LDAP-CustomerBackend.\n - 2009-04-02 Fixed bug#[3732](http://bugs.otrs.org/show_bug.cgi?id=3732) - Improved russion translation.\n - 2009-04-01 Fixed bug#[3573](http://bugs.otrs.org/show_bug.cgi?id=3573) - Deleting tickets on PostgreSQL 8.3.0 failes.\n - 2009-04-01 Fixed bug#[3719](http://bugs.otrs.org/show_bug.cgi?id=3719) - otrs.checkModules incorrectly parses PDF::API2\n    version.\n - 2009-04-01 Fixed bug#[3257](http://bugs.otrs.org/show_bug.cgi?id=3257) - otrs.checkModules incorrectly states DBD:mysql\n    is required.\n - 2009-04-01 Fixed bug#[3739](http://bugs.otrs.org/show_bug.cgi?id=3739) - Customer can not logon to the Customer\n    Interface if ShowAgentOnline is used.\n - 2009-04-01 Fixed bug#[3404](http://bugs.otrs.org/show_bug.cgi?id=3404) - PendingJobs.pl doesn't unlock the closed\n    tickets.\n - 2009-04-01 Fixed bug#[3745](http://bugs.otrs.org/show_bug.cgi?id=3745) - German umlaut in customer login\\_id breaks\n    login.\n - 2009-03-24 Fixed bug#[3735](http://bugs.otrs.org/show_bug.cgi?id=3735) - Queue names should be quoted when editing\n    queues (In this case if you use them in regular expressions).\n - 2009-02-19 Fixed bug#[3636](http://bugs.otrs.org/show_bug.cgi?id=3636) - Phone call link can be used without adding\n    a body the ticket mask.\n - 2009-02-19 Fixed bug#[3671](http://bugs.otrs.org/show_bug.cgi?id=3671) - Priority in CustomerTicketZoom resets to\n    pre-configured or 3.\n - 2009-02-13 Fixed bug#[3657](http://bugs.otrs.org/show_bug.cgi?id=3657) - Stats module: The locking attribute doesn't\n    work.\n - 2009-02-11 Fixed ticket# 2009020942001554 - generic agent is logging many\n    debug infos into log file.\n - 2009-02-09 Fixed bug#[3656](http://bugs.otrs.org/show_bug.cgi?id=3656) - The package manager testscript doesn't work\n    on developer installations.\n - 2009-01-30 Fixed bug#[3635](http://bugs.otrs.org/show_bug.cgi?id=3635) - Was not able to install .opm packages bigger\n    then 1MB (because of missing MySQL config) but OTRS error message was\n    miss leading.\n - 2009-01-28 Fixed bug#[3242](http://bugs.otrs.org/show_bug.cgi?id=3242) - AdminGenericAgent produces apache-error-log\n    entry.\n - 2009-01-26 Fixed bug#[3528](http://bugs.otrs.org/show_bug.cgi?id=3528) - Stats-cache-mechanism does not take unfixed\n    restrictions in consideration.\n - 2009-01-23 Fixed bug#[3615](http://bugs.otrs.org/show_bug.cgi?id=3615) - The links to the related Customer User and\n    related Group in [ Customer Users \\<-\\> Groups ] frontend were broken.\n - 2009-01-23 Fixed bug#[3499](http://bugs.otrs.org/show_bug.cgi?id=3499) - Permission problems if you change the\n    configuration of the System::Permissions. Now it doesn't matter if you\n    active or deactive one of the additional permissions.\n - 2009-01-22 Fixed bug#[3137](http://bugs.otrs.org/show_bug.cgi?id=3137) - Ticket search does not work with words like\n    \"BPX\" and \"new\".\n - 2009-01-22 Fixed bug#[3596](http://bugs.otrs.org/show_bug.cgi?id=3596) - Show a warning, if some tries to renaming\n    the admin group in admin frontend.\n\n#2.3.4 2009-01-21\n - 2009-02-09 Fixed bug#[3458](http://bugs.otrs.org/show_bug.cgi?id=3458) - Length of E-mail adress form in\n    AdminSystemAddressForm is way too short.\n - 2009-01-20 Fixed bug#[3447](http://bugs.otrs.org/show_bug.cgi?id=3447) - CustomerUser-Renaming to existing UserLogin\n    was possible.\n - 2009-01-20 Fixed bug#[3603](http://bugs.otrs.org/show_bug.cgi?id=3603) - Different Max-Attribute handling in Layout.pm\n    BuildSelection and OptionStrgHashRef.\n - 2009-01-20 Fixed bug#[3601](http://bugs.otrs.org/show_bug.cgi?id=3601) - Problems in function BuildSelection with\n   ''-Strings and 0.\n - 2009-01-15 Fixed bug#[3595](http://bugs.otrs.org/show_bug.cgi?id=3595) - VacationCheck() of Kernel::System::Time is\n    ignoring different OTRS calendar.\n - 2009-01-13 Fixed bug#[3542](http://bugs.otrs.org/show_bug.cgi?id=3542) - Static Stats lose associated perlmodule after\n    editing.\n - 2009-01-10 Fixed bug#[3575](http://bugs.otrs.org/show_bug.cgi?id=3575) - Framework file get lost after upgrading OTRS\n    and reinstalling or uninstalling e. g. ITSM pakages then.\n - 2008-12-08 Added feature to install included packages located under\n    var/packages/\\*.opm on first/initial setup.\n - 2008-12-08 Fixed bug#[3462](http://bugs.otrs.org/show_bug.cgi?id=3462) - SMIME crypt and sign functions bail out -\n     unable to save random state.\n - 2008-12-04 Fixed bug#[3360](http://bugs.otrs.org/show_bug.cgi?id=3360) - Service list formating broken after AJAX reload.\n - 2008-12-02 Fixed bug#[3495](http://bugs.otrs.org/show_bug.cgi?id=3495) - No unbind in LDAP-CustomerDataBackend.\n - 2008-12-01 Fixed bug#[3493](http://bugs.otrs.org/show_bug.cgi?id=3493) - CloseParentAfterClosedChilds.pm does not work.\n - 2008-11-26 Fixed bug#[2582](http://bugs.otrs.org/show_bug.cgi?id=2582) - Ticket print and config option\n     Ticket::Frontend::ZoomExpandSort gets not recognized.\n - 2008-11-16 Fixed bug#[3452](http://bugs.otrs.org/show_bug.cgi?id=3452) - \"permission denied\" after moving tickets into\n    a queue with no permissions.\n - 2008-11-16 Fixed bug#[3461](http://bugs.otrs.org/show_bug.cgi?id=3461) - It's not possible to past an email into a\n    note screen, only 70 signs are possible for each line, it should be\n    increased to 78.\n - 2008-11-14 Fixed bug#[3459](http://bugs.otrs.org/show_bug.cgi?id=3459) - Ticket in state \"pending\" are not escalating\n    but shown in escalation overview with incorect timestamp calculation\n    (34512 days).\n - 2008-11-10 Fixed bug#[3213](http://bugs.otrs.org/show_bug.cgi?id=3213) - Make rpc.pl work when using ModPerl.\n - 2008-11-10 Fixed bug#[3442](http://bugs.otrs.org/show_bug.cgi?id=3442) - HTML2Ascii is ignoring spaces on email\n    processing.\n - 2008-11-07 Fixed bug#[2730](http://bugs.otrs.org/show_bug.cgi?id=2730) - Sending mails to MS Exchange Server 2007\n    fails sometimes with \"Bad file descriptor!\".\n - 2008-11-01 Fixed bug#[3207](http://bugs.otrs.org/show_bug.cgi?id=3207) - Expanded articles in wrong order.\n - 2008-10-30 Fixed bug#[2071](http://bugs.otrs.org/show_bug.cgi?id=2071) - Dead link to online documentation in admin\n    interface (AdminState).\n - 2008-10-29 Fixed bug#[3244](http://bugs.otrs.org/show_bug.cgi?id=3244) - \"Defination\"-Typo in Defaults.pm.\n - 2008-10-29 Fixed bug#[2736](http://bugs.otrs.org/show_bug.cgi?id=2736) - AdminUser&Subaction=Change - Valid is\n    automatically changed\n - 2008-10-29 Fixed bug#[2710](http://bugs.otrs.org/show_bug.cgi?id=2710) - Error: Module 'Kernel::Modules::' not found!\n - 2008-10-28 Fixed bug#[3402](http://bugs.otrs.org/show_bug.cgi?id=3402) - AgentLinkObject crashes with \"Got no\n    UserLanguage\" if browser sends exotic language.\n - 2008-10-28 Fixed bug#[3405](http://bugs.otrs.org/show_bug.cgi?id=3405) - Input field agent-email-address too short.\n - 2008-10-28 Fixed bug#[1719](http://bugs.otrs.org/show_bug.cgi?id=1719) - psql -u deprecated.\n - 2008-10-28 Fixed bug#[3366](http://bugs.otrs.org/show_bug.cgi?id=3366) - TicketEvent ArticleFreeTextSet does not know\n    ArticleID.\n - 2008-10-28 Fixed bug#[3346](http://bugs.otrs.org/show_bug.cgi?id=3346) - improved error logging of new postmaster\n    tickets for invalid priority names.\n - 2008-10-28 Fixed bug#[3376](http://bugs.otrs.org/show_bug.cgi?id=3376) - GenericAgent: A warning like \"you have to set\n    schedule times\" would be helpful.\n - 2008-10-20 Fixed bug#[3391](http://bugs.otrs.org/show_bug.cgi?id=3391) - Filter out hazardous characters from redirects.\n - 2008-10-16 Fixed bug#[2415](http://bugs.otrs.org/show_bug.cgi?id=2415) - Wrong info after editing salutation.\n - 2008-10-15 Fixed bug#[3379](http://bugs.otrs.org/show_bug.cgi?id=3379) - Documentation of packages got not shown in\n    admin package manager.\n - 2008-10-15 Updated Chinese translation, thanks to Never Min!\n - 2008-10-13 Fixed bug#[3373](http://bugs.otrs.org/show_bug.cgi?id=3373) - Postmaster match filter is losing [\\*\\*\\*] on\n    second time.\n - 2008-10-13 Fixed bug#[3367](http://bugs.otrs.org/show_bug.cgi?id=3367) - Escalation of first response gets not changed\n    on note-external (which was working in OTRS 2.2.x).\n - 2008-10-09 Fixed bug#[3358](http://bugs.otrs.org/show_bug.cgi?id=3358) - Removed useless error warning in stats module.\n\n#2.3.3 2008-10-02\n - 2009-01-13 Fixed bug#[3542](http://bugs.otrs.org/show_bug.cgi?id=3542) - Static Stats lose associated perlmodule after\n    editing.\n - 2008-09-30 Fixed bug#[3335](http://bugs.otrs.org/show_bug.cgi?id=3335) - No user name in pdf - print of stats-report\n - 2008-09-29 Updated Italian translation, thanks to Remo Catelotti!\n - 2008-09-29 Fixed bug#[3315](http://bugs.otrs.org/show_bug.cgi?id=3315) - GenericAgent does not work with pending time\n    reached for x units.\n - 2008-09-29 Fixed bug#[3314](http://bugs.otrs.org/show_bug.cgi?id=3314) - Escalation time not updated correctly, e. g.\n    ticket get's not escalated if one escalation time got solved.\n - 2008-09-25 Updated Chinese translation, thanks to Never Min!\n - 2008-09-24 Fixed bug#[3322](http://bugs.otrs.org/show_bug.cgi?id=3322) - After updating SysConfig I get: Can't use\n    string (\"0\") as a HASH ref while \"strict refs\" in use at\n    Kernel/System/Config.pm line 716.\n - 2008-09-24 Fixed bug#[3321](http://bugs.otrs.org/show_bug.cgi?id=3321) - \"(\" or \")\" in user name is breaking ldap query\n    for agent and customer auth.\n - 2008-09-13 Fixed bug#[3289](http://bugs.otrs.org/show_bug.cgi?id=3289) - Error when trying to delete an answer (with\n    std attachment) in admin interface.\n - 2008-09-12 Fixed bug#[3292](http://bugs.otrs.org/show_bug.cgi?id=3292) - Missing entries in the generic agent mask if\n    a freetext field is configured as pull down menu.\n - 2008-09-11 Fixed bug#[3275](http://bugs.otrs.org/show_bug.cgi?id=3275) - Kernel::System::EmailParser::CheckMessageBody\n    uses undefined $Param{URL}.\n - 2008-09-11 Fixed bug#[3284](http://bugs.otrs.org/show_bug.cgi?id=3284) - Missing entries in the stats mask if a\n    freetext field is configured as pull down menu.\n - 2008-09-10 Fixed bug#[3287](http://bugs.otrs.org/show_bug.cgi?id=3287) - Possible CSS on login page, in\n    AgentTicketMailbox and CustomerTicketOverView.\n - 2008-09-08 Fixed bug#[3158](http://bugs.otrs.org/show_bug.cgi?id=3158) - Ticket has a \"pending\" state --\\> the\n    escalation time is not set out.\n - 2008-09-08 Fixed bug#[3266](http://bugs.otrs.org/show_bug.cgi?id=3266) - backup.pl calls \"mysqldump5\" not \"mysqldump\".\n - 2008-09-08 Fixed bug#[3251](http://bugs.otrs.org/show_bug.cgi?id=3251) - Error retrieving pop3s email from gmail\n    or MS Exchange.\n - 2008-09-08 Fixed bug#[3247](http://bugs.otrs.org/show_bug.cgi?id=3247) - GenericAgent is running also without time\n    settings.\n - 2008-09-08 Fixed bug#[3261](http://bugs.otrs.org/show_bug.cgi?id=3261) - Escalation also for ro tickets (normally just\n    rw tickets).\n - 2008-08-30 Fixed bug#[2862](http://bugs.otrs.org/show_bug.cgi?id=2862) - Wrong summary in GenericAgent webinterface\n    after adding a new job. Max. shown 10,000 affected tickets.\n - 2008-08-30 Fixed bug#[3053](http://bugs.otrs.org/show_bug.cgi?id=3053) - AJAX functionality without cookies is not\n    working.\n - 2008-08-29 Fixed bug#[3152](http://bugs.otrs.org/show_bug.cgi?id=3152) - German wording in link tables within english\n    environment.\n - 2008-08-21 Fixed bug#[3227](http://bugs.otrs.org/show_bug.cgi?id=3227) - Link delete doesn't work if the key includes\n    double colons.\n\n#2.3.2 2008-08-25\n - 2008-08-21 Fixed bug#[3076](http://bugs.otrs.org/show_bug.cgi?id=3076) - Ticket Eskalation of update time is not\n    working correctly.\n - 2008-08-21 Fixed bug#[3064](http://bugs.otrs.org/show_bug.cgi?id=3064) - Java Script Error if I use\n    \"Internet Explorer 7\".\n - 2008-08-21 Fixed bug#[3198](http://bugs.otrs.org/show_bug.cgi?id=3198) - ACL is not working for services in Customer\n    Panel for creating new tickets.\n - 2008-08-21 Fixed bug#[3214](http://bugs.otrs.org/show_bug.cgi?id=3214) - PostMasterFilter - Its not possible to\n    filter for \"Return-Path\".\n - 2008-08-21 Fixed bug#[3216](http://bugs.otrs.org/show_bug.cgi?id=3216) - CustomerTicketSearch returns links to\n    internal articles.\n - 2008-08-21 Fixed bug#[3219](http://bugs.otrs.org/show_bug.cgi?id=3219) - Bogus 7bit check in the file cache backend.\n - 2008-08-21 Implemented display of ticket search profiles in Agent\n    Interface for immediate access (disabled by default).\n - 2008-08-18 Fixed bug#[3199](http://bugs.otrs.org/show_bug.cgi?id=3199) - Queue lists - The queue tree has problems\n    with disabled queues.\n - 2008-08-18 Fixed bug#[3139](http://bugs.otrs.org/show_bug.cgi?id=3139) - QueueUpdate-Bug on oracle and postgres dbs.\n - 2008-08-14 Fixed bug#[3191](http://bugs.otrs.org/show_bug.cgi?id=3191) - It is hard to identify the selected page of\n    a list of elements.\n - 2008-08-13 Fixed bug#[3133](http://bugs.otrs.org/show_bug.cgi?id=3133) - OTRS creates temp dirs with wrong access\n    permissions.\n\n#2.3.1 2008-08-04\n - 2008-08-03 Fixed bug#[3096](http://bugs.otrs.org/show_bug.cgi?id=3096) - Errorlog messages from NET::DNS (Subroutine\n    nxrrset redefined at ...).\n - 2008-08-03 Added http target for customer user map config options in\n    position 9 (see Kernel/Config/Defaults.pm for examples).\n - 2008-08-02 Fixed bug#[3121](http://bugs.otrs.org/show_bug.cgi?id=3121) - OTRS corrupts email headers (Subject, From etc.)\n    while encoding with utf-8.\n - 2008-08-01 Fixed bug#[3142](http://bugs.otrs.org/show_bug.cgi?id=3142) - The Ticket-ACL module\n    CloseParentAfterClosedChilds produces errors.\n - 2008-07-31 Fixed bug#[3141](http://bugs.otrs.org/show_bug.cgi?id=3141) - The TicketSearch() function produces error on\n    a DB2 database, if the argument TicketCreateTimeOlderDate is given.\n - 2008-07-31 Added function LinkCleanup() to delete forgotten temporary\n    links that are older than one day. The function is called only when deleting\n    a link.\n - 2008-07-30 Updated dansk language translation, thanks to Mads N. Vestergaard!\n - 2008-07-30 Updated spanish translation, thanks to Pelayo Romero Martin!\n - 2008-07-30 Updated CPAN module CGI to version 3.39.\n - 2008-07-30 Updated CPAN module MailTools to version 2.04.\n - 2008-07-27 Updated russian translation, thanks to Egor Tsilenko!\n - 2008-07-25 Fixed bug#[3122](http://bugs.otrs.org/show_bug.cgi?id=3122) - Ticket attributes in agent ticket search\n    CSV export gets not translated.\n - 2008-07-25 Fixed bug#[2300](http://bugs.otrs.org/show_bug.cgi?id=2300) - Not all Notification Tags are working in\n    Notifications.\n - 2008-07-21 Fixed bug#[3117](http://bugs.otrs.org/show_bug.cgi?id=3117) - Auto increment of \"id\" in article\\_search\n    table is not needed.\n - 2008-07-21 Fixed bug#[3104](http://bugs.otrs.org/show_bug.cgi?id=3104) - If new config can't get created by\n    scripts/DBUpdate-to-2.3.pl, the script need to stop.\n\n#2.3.0 rc1 2008-07-21\n - 2008-07-20 Update persian translation, thanks to Amir Shams Parsa and\n    Hooman Mesgary!\n - 2008-07-20 Fixed bug#[2712](http://bugs.otrs.org/show_bug.cgi?id=2712) - Email in POP3 or IMAP box gets deleted/lost\n    also if it got not processed.\n - 2008-07-20 Added Ingres database files for Ingres 2006 R3 experimental\n    support.\n - 2008-07-20 Fixed bug#[3102](http://bugs.otrs.org/show_bug.cgi?id=3102) - (Optional) group-Permissions for\n    Frontend::Agent::Ticket::MenuModule(Pre).\n - 2008-07-19 Fixed bug#[3098](http://bugs.otrs.org/show_bug.cgi?id=3098) - Ticket number search in the new link mask does\n    not work correctly.\n - 2008-07-19 Fixed bug#[3093](http://bugs.otrs.org/show_bug.cgi?id=3093) - Foreign Key drop does not work.\n - 2008-07-19 Fixed bug#[2826](http://bugs.otrs.org/show_bug.cgi?id=2826) - Impossible to use DEFAULT values in SOPM\n    files.\n - 2008-07-18 Fixed bug#[2893](http://bugs.otrs.org/show_bug.cgi?id=2893) - Allow translation texts with new lines.\n - 2008-07-17 Integrate function StatsCleanUp().\n - 2008-07-16 Fixed bug#[3089](http://bugs.otrs.org/show_bug.cgi?id=3089) - Stats module creates an error log entry with\n    message \"Got no SessionID\" .\n - 2008-07-16 Fixed bug#[3088](http://bugs.otrs.org/show_bug.cgi?id=3088) - Statistics module fails with\n    message \"Got no AccessRw\" if you work with ro permissions\n - 2008-07-16 Fixed bug#[3012](http://bugs.otrs.org/show_bug.cgi?id=3012) - Statistics module fails with\n    message \"Got no UserLanguage\"\n - 2008-07-15 Moved config option PostMasterMaxEmailSize default 12 MB\n    to 16 MB.\n - 2008-07-15 Fixed bug#[3082](http://bugs.otrs.org/show_bug.cgi?id=3082) - Wrong requirement checks and false default\n    handling in function QueueAdd and QueueUpdate.\n - 2008-07-15 Updated french translation, thanks to Yann Richard!\n - 2008-07-14 Only show Company-NavBar item if CustomerCompanySupport is\n    enabled for min. one CustomerUser source.\n - 2008-07-10 Fixed bug#[3066](http://bugs.otrs.org/show_bug.cgi?id=3066) - The CPAN module XML::Parser::Lite crashs after\n    login if the CPAN module version is not installed.\n - 2008-07-09 Updated catalonian translation, thanks to Antonio Linde!\n - 2008-07-09 Updated finnish translation, thanks to Mikko Hynninen!\n - 2008-07-09 Fixed problem in CodeUpgrade functionallity.\n    Code did not react correctly to version number in CodeUpgrade sections.\n - 2008-07-08 Updated norwegian translation, thanks to Fredrik Andersen!\n\n#2.3.0 beta4 2008-07-07\n - 2008-07-07 Fixed bug#[2158](http://bugs.otrs.org/show_bug.cgi?id=2158) - Trigger Definitions not allow export / import\n    through oracle exp/imp tool.\n - 2008-07-06 Fixed bug#[3058](http://bugs.otrs.org/show_bug.cgi?id=3058) - Unconsistent usage of id's in\n    otrs-initial\\_insert.\\*.sql. E. g. in case of Dual-Master MySQL 5 Replication\n    is used.\n - 2008-07-06 Fixed bug#[3059](http://bugs.otrs.org/show_bug.cgi?id=3059) - article\\_search table is missing in\n    scripts/database/otrs-schema.\\*.sql and scripts/DBUpdate-to-2.3.\\*.sql.\n - 2008-07-04 Fixed bug#[3055](http://bugs.otrs.org/show_bug.cgi?id=3055) - Link migration from 2.2 -\\> 2.3 is no working\n    (missing TypeGet(), not shown because of disabled STDERR).\n - 2008-07-03 Fixed bug#[3053](http://bugs.otrs.org/show_bug.cgi?id=3053) - AJAX functionality without cookies is not\n    working.\n - 2008-07-03 Improved OPM package CodeUpgrade by using Version attribute\n    for code execurtion (like already exisitng DatabaseUpgrade). If no Version\n    is used, CodeUpgrade will performed on every upgrade. For more info see\n    developer manual.\n - 2008-07-02 Fixed bug#[3042](http://bugs.otrs.org/show_bug.cgi?id=3042) - QueueView Sort by Escalation unfunctional.\n - 2008-07-02 Fixed bug#[3045](http://bugs.otrs.org/show_bug.cgi?id=3045) - Hard coded permission check on merging\n    tickets.\n - 2008-07-02 Fixed bug#[3048](http://bugs.otrs.org/show_bug.cgi?id=3048) - AgentLinkObject shows a wrong search result\n    list, if a object cannot link with itself.\n - 2008-07-02 Added AJAX support to ticket move screen.\n - 2008-07-01 Added priority management mask to the admin interface.\n - 2008-07-01 Fixed bug#[3046](http://bugs.otrs.org/show_bug.cgi?id=3046) - Phone and Email-Ticket needs to get clicked\n    twice on \"create\" to get created.\n - 2008-07-01 Fixed bug#[3047](http://bugs.otrs.org/show_bug.cgi?id=3047) - Not possible to reset service or sla in\n    AgentTicketNote.\n - 2008-07-01 Updated CPAN module Net::POP3::SSLWrapper to version 0.02.\n - 2008-07-01 Updated CPAN module XML::Parser::Lite to version 0.710.05.\n - 2008-07-01 Updated CPAN module Authen::SASL to version 2.11.\n - 2008-07-01 Updated CPAN module MIME::Tools to version 5.427.\n - 2008-07-01 Updated CPAN module File::Temp to version 0.20.\n - 2008-06-30 Implemented options to search update-, response- and solution\n    escalation time in TicketSearch().\n - 2008-06-27 Fixed bug#[2960](http://bugs.otrs.org/show_bug.cgi?id=2960) - DBUpdate-to-2.3.pl script fails.\n - 2008-06-26 Fixed bug#[3036](http://bugs.otrs.org/show_bug.cgi?id=3036) - Missing link delete checkboxes.\n - 2008-06-26 Fixed bug#[3029](http://bugs.otrs.org/show_bug.cgi?id=3029) - Search result of linkable objects is not\n    sorted correctly.\n - 2008-06-26 Fixed bug#[3035](http://bugs.otrs.org/show_bug.cgi?id=3035) - Missing check to prevent creation of the same\n    link with opposite direction.\n - 2008-06-26 Fixed bug#[3030](http://bugs.otrs.org/show_bug.cgi?id=3030) - Getting no error message if I link an already\n    linked ticket again.\n - 2008-06-26 Fixed bug#[3034](http://bugs.otrs.org/show_bug.cgi?id=3034) - Ticket::Frontend::ZoomExpandSort is\n    conflicting with new ticket Expand/Collapse feature in AgentTicketZoom, it\n    get lost after clicking on Collapse.\n - 2008-06-26 Moved required permissions for ticket owner-selections to\n    owner and for ticket responsible-selection to responsible (instead rw\n    permissions).\n - 2008-06-23 Fixed bug#[3020](http://bugs.otrs.org/show_bug.cgi?id=3020) - New complex link table blocks output of the\n    free text fields.\n - 2008-06-23 Fixed bug#[3019](http://bugs.otrs.org/show_bug.cgi?id=3019) - Wrong location of the new complex link table.\n\n#2.3.0 beta3 2008-06-24\n - 2008-06-23 Fixed bug#[3015](http://bugs.otrs.org/show_bug.cgi?id=3015) - Performace problem in AgentLinkObject.\n - 2008-06-23 Added CustomerUser attribute support for Ticket-ACLs. For\n    Example you can use customer user attributes in ACL properties in\n    this case to create an list of possible queues in the customer\n    interface for creating or moving tickets.\n\n```perl\n    $Self->{TicketAcl}->{'ACL-Name-Test'} = {\n        # match properties\n        Properties => {\n            CustomerUser => {\n                UserCustomerID => ['some_customer_id'],\n            },\n        }\n        # possible properties\n        Possible => {\n            Ticket => {\n                Queue => ['Hotline', 'Junk'],\n            },\n        },\n    };\n```\n - 2008-06-23 Fixed bug#[3013](http://bugs.otrs.org/show_bug.cgi?id=3013) - Freetext fields show wrong on AJAX update\n    in phone and email ticket when queue is changed.\n - 2008-06-23 Updated cpan module TEXT::CSV to version 1.06.\n - 2008-06-23 Moved Ticket::ResponsibleAutoSet feature to external ticket\n    event module (Kernel::System::Ticket::Event::ResponsibleAutoSet).\n - 2008-06-23 Fixed bug#[2959](http://bugs.otrs.org/show_bug.cgi?id=2959) - Linking and Unlinking Tickets is not addin\n    ticket history and not executing TicketEventHandlerPost() by ticket link\n    backend anymore.\n - 2008-06-20 Fixed bug#[1565](http://bugs.otrs.org/show_bug.cgi?id=1565) - Responsible Agent not updated when creating\n    new ticket in phone or email ticket.\n - 2008-06-20 Removed output of linked objects in customer ticket print\n    (because it's not needed in the customer panel).\n - 2008-06-19 Fixed bug#[2998](http://bugs.otrs.org/show_bug.cgi?id=2998) - Highlighted selection for notification\n    listbox in admin interface.\n - 2008-06-19 Fixed bug#[3005](http://bugs.otrs.org/show_bug.cgi?id=3005) - AJAX functionality is not working in phone\n    and email ticket for Service and SLA.\n - 2008-06-19 Added article TimeUnit support to automatically add time\n    units to ticket by using generic agent (also usable over admin\n    interface).\n - 2008-06-19 Added CleanUp() to Kernel::System::Cache to clean up/remove\n    all cache files.\n - 2008-06-19 Fixed bug#[2957](http://bugs.otrs.org/show_bug.cgi?id=2957) - Merged ticket not shown \"canceled\" in linked\n    objects table.\n - 2008-06-19 Simplifed the new link mechanism.\n - 2008-06-19 Added cleanup of old cache files and cleanup of non existing\n    TicketIDs in ticket\\_watcher and ArticleIDs in article\\_flag table (there\n    was a bug, this reference entries got not deleted by deleting a ticket\n    or article, e. g. by GenericAgent) to scripts/DBUpgrade-to-2.3.pl.\n - 2008-06-13 Added extra config option for \"CheckMXRecord\" config option\n    to configure extra name servers for MX lookups.\n - 2008-06-11 Fixed bug#[2980](http://bugs.otrs.org/show_bug.cgi?id=2980) - Getting cron emails (Use of uninitialized\n    value in numeric gt (\\>) at) every time if IMAP and IMAPs gets executed.\n - 2008-06-11 Fixed bug#[2979](http://bugs.otrs.org/show_bug.cgi?id=2979) - Unable to work on ticket, get error message\n    \"no permission\" even with rw permissions on the ticket. Fixed recoding\n    issue.\n - 2008-06-05 Fixed bug#[2969](http://bugs.otrs.org/show_bug.cgi?id=2969) - Unable to get past login screen - undefined\n    value as a HASH reference at\n    Kernel/System/Ticket/IndexAccelerator/RuntimeDB.pm line 57.\n - 2008-06-05 Fixed bug#[2960](http://bugs.otrs.org/show_bug.cgi?id=2960) - DBUpdate-to-2.3.pl script possibly fails.\n - 2008-06-05 Added enhancement bug#[2964](http://bugs.otrs.org/show_bug.cgi?id=2964) - Add hash sort to data dumper\n    of Kernel::System::Main::Dump to get it better readable and comparable\n    (also for diff's).\n - 2008-06-05 Improved Kernel::System::Cache::File, moved cache type files\n    to sub directory of tmp/ to tmp/Cache/to have it clear where the cache\n    files are.\n\n#2.3.0 beta2 2008-06-02\n - 2008-06-02 Moved to new link mechanism.\n - 2008-06-02 Fixed bug#[2902](http://bugs.otrs.org/show_bug.cgi?id=2902) - Salutation and Signature examples in the\n    admin interface are same.\n - 2008-06-02 Fixed bug#[2940](http://bugs.otrs.org/show_bug.cgi?id=2940) - Error/typo in DBUpdate-to-2.3.\\*.sql,\n    'escalation\\_start\\_time' instead of 'escalation\\_update\\_time' is used.\n - 2008-06-01 Fixed bug#[2956](http://bugs.otrs.org/show_bug.cgi?id=2956) - Not working ticket escalation by using SLAs.\n - 2008-06-01 Added sub sorting to Kernel::System::Ticket::TicketSearch()\n    and improved unit test. Example:\n\n```perl\n    my @TicketIDs = $Self->{TicketObject}->TicketSearch(\n        Result  => 'ARRAY',\n        Title   => '%sort/order by test%',\n        Queues  => ['Raw'],\n        OrderBy => ['Down', 'Down'],\n        SortBy  => ['Priority', 'Age'],\n        UserID  => 1,\n    );\n```\n\n - 2008-05-28 Fixed bug#[2891](http://bugs.otrs.org/show_bug.cgi?id=2891) - Typo in Bounce Customer notification\n    'information'.\n - 2008-05-22 Upgraded Mail::Tools from version 2.02 to 2.03 from CPAN.\n\n#2.3.0 beta1 2008-05-19\n - 2008-05-16 Updated cpan module Text::CSV to the version 1.05.\n - 2008-05-15 Added ticket search close time support to agent ticket search\n    and generic agent.\n - 2008-05-15 Reimplmeented \"bin/xml2sql.pl\", works now with new cmd params.\n    Now \"-t $DatabaseType\", \"-n $Name\", \"-s $SplitInPrePostFiles\" and\n    \"-o $OutputDir\".\n - 2008-05-15 Renamed mssql reserved database table word \"system\\_user\" to\n    \"users\". Use scripts/DBUpdate-to-2.3.\\*.sql for database upgrade.\n - 2008-05-15 If signing via SMIME fails, we now fall back to the original\n     unsigned mailtext instead of sending an empty mail.\n - 2008-05-15 Fixed bug#[2844](http://bugs.otrs.org/show_bug.cgi?id=2844) - Improved robustness of RANDFILE setting for\n     openssl (SMIME).\n - 2008-05-15 Refactored SMIME to work on Windows, too.\n - 2008-05-09 Added service \\<-\\> sla multi relation support.\n - 2008-05-09 Fixed bug#[2448](http://bugs.otrs.org/show_bug.cgi?id=2448) - Not necessary unique check of SLA name.\n - 2008-05-07 Renamed/cleanup of all config setting names for QueueView,\n    StatusView and LockedTickets.\n - 2008-05-07 Improved use of existing unique-names in xml definition of\n    scripts/database/otrs-schema.xml (not longer auto generated).\n - 2008-05-07 Improved oracle database backend, generation of long\n    index/koreign key names, moved from NUMBER to NUMBER(12,0).\n - 2008-05-07 Added some new database indexes to increase the database\n    speed (for more info see scripts/DBUpdate\\*.sql).\n - 2008-05-07 Added article index support to increase speed of full text\n    search up to 50% (need to be configured via SysConfig and\n    bin/otrs.RebuildFulltextIndex.pl need to be executed after backend change).\n - 2008-05-07 Added ticket event support for TicketWatch\\*() in\n    Kernel::System::Ticket. Fixed not removed ticket watch infos after deleting\n    a ticket.\n - 2008-05-07 Improved speed of ticket search screen on large installation,\n    added cache for database lookup to get all unique ticket free text fields\n    (tooks up to 10 sek, on lage installations).\n - 2008-05-02 Deleted textarea wrap in perl code and set browser wrap in dtl files.\n - 2007-04-29 Added X-OTRS-TicketTime and X-OTRS-FollowUp-TicketTime email\n    header support as additional attributes like already existing X-OTRS-Header\n    (for more info see doc/X-OTRS-Headers.txt).\n - 2007-04-29 Added Format attribute (default html, optional plain) for \"Intro\\*\"\n    tags in .sopm files. Format=\"html\" will work as default and it's possible to\n    put every html into the intro message. Format=\"plain\" will add automatically\n    \\<pre\\>\\</pre\\> to intro messages, so new lines and spaces are shown 1:1 in intro\n    messages (for more info see developer manual).\n - 2007-04-29 TicketFreeTime, TicketFreeFields and Article Attachments now are\n    taken over on ticket split.\n - 2007-04-29 Updated cpan module CGI to version 3.37.\n - 2007-04-25 Added create and drop of index and unique in xml TableAlter tag\n    (for more info see developer manual).\n - 2008-04-20 Changed GenericAgent default limit of matching ticket for each\n    run of a job from 2000 to 4000.\n - 2008-04-18 Let FrontendOutputFilters have access to LayoutObject and TemplateFile.\n - 2008-04-18 Added Title-Attribute (for Tooltips) to BuildSelection.\n - 2008-04-14 Increased db2 BLOB size from 20M to 30M in\n    scripts/database/otrs-schema.db2.sql.\n - 2008-04-14 Improved admin interface, show only links with own permissions.\n    So it's possible/easy to create sub admins for part administration\n    (Fixed bug#[2535](http://bugs.otrs.org/show_bug.cgi?id=2535) - User is able to access admin menu).\n - 2008-04-14 Improved .opm packages to definde pre and post Code\\* and\n    Database\\* tags to define time point of execution. For more info how to use\n    it see developer manual.\n - 2008-04-14 Renamed .opm package tags for intro messages\n    Intro(Install|Upgrade|Unintall)(Pre|Post) from \\<IntroInstallPost\\> to new\n    format like \\<IntroInstall Type=\"post\"\\>. For more info see developer manual.\n    Note: Old tags still usable, will be converted by OTRS automatically.\n - 2008-04-10 Added global Search-Condition-Feature (AND/OR/()/!/+) to ticket\n    search backend, customer search backend and faq.\n - 2008-04-10 Added support to ticket print to print selected article only.\n - 2008-04-10 Fixed bug#[2159](http://bugs.otrs.org/show_bug.cgi?id=2159) - added ticket close time search option (works\n    like ticket create time search option) to agent ticket search screen.\n - 2008-04-10 Updated cpan module CGI to version 3.35.\n - 2008-04-02 Moved from default password 'crypt' method to 'md5'. All new\n    changed passwords are stored with md5-password method. Old stored passwords\n    still usable.\n - 2008-04-02 Fixed bug#[1952](http://bugs.otrs.org/show_bug.cgi?id=1952) - Superfluous error messages by\n   Kernel/Config/Defaults.pm in Debug mode.\n - 2008-04-02 Fixed bug#[2496](http://bugs.otrs.org/show_bug.cgi?id=2496) - HTML formatting in the customer ticket zoom is\n    wrong.\n - 2008-04-02 Fixed bug#[1116](http://bugs.otrs.org/show_bug.cgi?id=1116) - Made uses of \\<br\\\\\\> and \\<input\\\\\\> comply with XHTML.\n - 2008-04-01 Fixed bug#[2575](http://bugs.otrs.org/show_bug.cgi?id=2575) - Trying to Kernel::System::PGP::Crypt()\n    utf8-character-strings no longer bails, but simply auto-converts the string\n    into an utf8-byte-string, such that the correct data is written into the temp\n    file.\n - 2008-04-01 Added new SysLog backend config for log sock. Defaulte use is\n    'unix'. On Solaris you may need to use 'stream'.\n - 2008-03-31 Added ticket free time as required field support (works like\n    for already existing ticket free text fields).\n - 2008-03-31 Added missing ticket type as required check if ticket type\n    feature is enabled.\n - 2008-03-31 Fixed MD5/SHA1 mixups in SMIME handling on older systems (that have\n    MD5 as default, not SHA1).\n - 2008-03-27 Added OpenSearchDescription to support \"quick\" search for\n    ticket numbers for browsers like firefox2.\n - 2008-03-26 Added POP3/POP3S/IMAP/IMAPS support for PostMaster sub system\n    (new bin/PostMasterMailbox.pl is replacing old bin/PostMasterPOP3.pl).\n    Thanks to Igor Stradwo for this patch!\n    NOTE: table pop3\\_account need to be modified - use scripts/DBUpdate-to-2.3.\\*.sql\n - 2008-03-26 Added support of renaming of database tables in XML backend and\n    database drivers (Kernel/System/DB/\\*.pm).\n    Example:\n\n    \\<TableAlter NameOld=\"calendar\\_event\" NameNew=\"calendar\\_event\\_new\"/\\>\n\n - 2008-03-25 Added enhancement for agent and customer HTTPBasicAuth to strip\n    parts of REMOTE\\_USER or HTTP\\_REMOTE\\_USER by using a regexp. Example to\n    strip @example.com of login.\n    [Kernel/Config.pm]\n\n```perl\n    # In case you need to replace some part of the REMOTE_USER, you can\n    # use the following RegExp ($1 will be new login).\n    $Self->{'AuthModule::HTTPBasicAuth::ReplaceRegExp'} = '^(.+?)@.+?$';\n```\n - 2008-03-21 Added enhancement bug#[2773](http://bugs.otrs.org/show_bug.cgi?id=2773) - HTTPBasicAuth fails when only\n    HTTP\\_REMOTE\\_USER is populated (not REMOTE\\_USER).\n - 2008-03-18 Fixed mssql/sybase/freetds database problem\n    \"Setting of CS\\_OPT\\_TEXTSIZE failed. at\" if a mssql customer backend\n    is used. The problem is, that LongReadLen is not supported by\n    dbd::sybase (this is the reason of this error message).\n    So the database customer is now improved to set all database attributes\n    in CustomerUser config. For example this is the solution to prevent\n    the sybase error message:\n\n```perl\n    $Self->{CustomerUser} = {\n        Name   => 'Database Backend',\n        Module => 'Kernel::System::CustomerUser::DB',\n        Params => {\n            DSN       => 'DBI:sybase:yourdsn',\n            User      => 'some_user',\n            Password  => 'some_password',\n            Table     => 'customer_user',\n            Attribute => {},\n        },\n```\nFor more info see: http://www.perlmonks.org/index.pl?node_id=663835\n - 2008-03-17 Fixed bug#[2197](http://bugs.otrs.org/show_bug.cgi?id=2197) - utf8 problems with auto generated\n    Kernel/Config/Files/ZZZAuto.pm and Kernel/Config/Files/ZZZAAuto.pm\n    (non ascii signs and utf8 stamps).\n - 2008-03-17 Added ACL example module \"CloseParentAfterClosedChilds\" which\n    allows you to not close parent tickets till all childs are closed (\n    configuable via SysConfig -\\> Ticket -\\> Core::TicketACL).\n - 2008-03-17 Improved ticket zoom view, shown linked objects (only show link\n    types (Normal/Child/Parent) if links are available).\n - 2008-03-16 Improved ticket zoom view, shown plain link to emails (per\n    default, can be enabled via sys config) and improved shown linked/merged\n    tickets.\n - 2008-03-09 Improved API of Cache core module (Kernel::System::Cache), added\n    type param to define the type of cached object/data (so also a better\n    storage is possible because you can manage each cache type object/data it\n    self, e. g. if file system backend is used in differend sub directories).\n\nAPI Example (old):\n```perl\n        $CacheObject->Set(\n            Key   => 'SomeKey',\n            Value => 'Some Value',\n            TTL   => 24*60*60,     # in sec. in this case 24h\n        );\n```\nAPI Example (new):\n```perl\n        $CacheObject->Set(\n            Type  => 'ObjectName', # only A-z chars usable\n            Key   => 'SomeKey',\n            Value => 'Some Value',\n            TTL   => 24*60*60,     # in sec. in this case 24h\n        );\n```\n - 2008-03-06 Fixed use of uninitialized value in Log.pm (visible when\n    executed in ModPerl environment).\n - 2008-03-02 Added title of object to div tag of linked objects to have an\n    preview to the content of a linked object.\n - 2008-03-01 Added missing ticket title to ticket search mask in agent\n    and generic agent interface.\n - 2008-02-17 Removed not needed Encode::decode\\_utf8() in core module\n    Kernel::System::Encode (only set if utf-8 stamp is needed).\n - 2008-02-17 Upgraded Mail::Tools from version 1.77 to 2.02 from CPAN.\n - 2008-02-12 Fixed bug#[2670](http://bugs.otrs.org/show_bug.cgi?id=2670) - \"wide character\" error when login with\n    russian password.\n    Note: It could be on older systems, that existing passwords are not\n    longer valid. Just reset the password and everything will work fine.\n - 2008-02-12 Fixed bug#[1996](http://bugs.otrs.org/show_bug.cgi?id=1996) - Replaced 'U' & 'D' with respective arrow\n    icons.\n - 2008-02-12 Improved Fix for bug#[1608](http://bugs.otrs.org/show_bug.cgi?id=1608) - Badly formatted calendar popup.\n    Now the table width is explicity passed into DTL from the perl module\n    and the customer calendar view has been fixed, too.\n - 2008-02-11 Added queue preferences - module support like for agents and\n    customer to create easier extentions/addons for queues.\n    See Developer-Manual for more information.\n    NOTE: table sla need to be modified - use scripts/DBUpdate-to-2.3.\\*.sql\n - 2008-02-11 Added escalation warning feature. So agents will be notified\n    before a ticket will escalate. This time point can be configured in the\n    admin interface for queue and sla settings.\n    NOTE: table queue need to be modified - use scripts/DBUpdate-to-2.3.\\*.sql\n - 2008-02-04 Fixed bug#[1608](http://bugs.otrs.org/show_bug.cgi?id=1608) - Badly formatted calendar popup.\n - 2008-02-04 Fixed bug#[2657](http://bugs.otrs.org/show_bug.cgi?id=2657) - Improved regexp in RPM spec files to detect\n    already existing \"otrs\" user (it was also matching on xxxotrsxxx names).\n - 2008-01-28 Added note permission \"note\" to default ticket permissions to\n    manage list of inform involved agents out of the box.\n - 2008-01-24 Fixed bug#[2611](http://bugs.otrs.org/show_bug.cgi?id=2611) - PGP module not working on Windows platform.\n - 2008-01-15 Fixed bug#[2227](http://bugs.otrs.org/show_bug.cgi?id=2227) - XMLHashSearch returns no values on MS SQL in\n    certain cases.\n - 2008-01-08 Added expand/collapse option to ticket zoom.\n - 2008-01-08 Added multi attachment support to ticket move screen.\n - 2008-01-08 Added AJAX support in email ticket.\n - 2008-01-03 Changed default session settings SessionMaxTime from 14h to\n    16h and SessionMaxIdleTime from 5h to 6h.\n - 2008-01-02 Improved ticket zoom view, removed plain-text attachments\n    of html with plain attachment emails.\n - 2008-01-02 Fixed bug#[2600](http://bugs.otrs.org/show_bug.cgi?id=2600) - MS SQL: Fulltext search in ticket body with\n    mssql backend not possible (improved Kernel::System::DB API with database\n    preferences option \"NoLikeInLargeText\").\n - 2007-12-28 Improved config file mechanism generated by SysConfig to improve\n    speed in `mod_perl` is used (about 0.2%-4% speed improvement, depends\n    on which shown site).\n    Note: Kernel/Config/Files/ZZZAuto.pm and Kernel/Config/Files/ZZZAAuto.pm\n    generated by OTRS 2.3 or higher is not longer compat. to OTRS 2.2 and\n    lower. But OTRS 2.3 or higher can read config files from OTRS 2.2 and\n    lower.\n - 2007-12-27 Fixed bug#[2596](http://bugs.otrs.org/show_bug.cgi?id=2596) - Problems to download file from\n    Action=AdminPackageManager with IE and Safari.\n - 2007-12-27 Improved way how to reset a password. Added password reset\n    via token (email which needs to be accepted by new password requester\n    first).\n - 2007-12-21 Added possiblity to use options of StringClean() in GetParam()\n    and GetArray() functions.\n - 2007-12-21 Add StringClean() function to improve quality of strings.\n - 2007-12-19 Improved installer description to prevent bugs like bug#[2492](http://bugs.otrs.org/show_bug.cgi?id=2492).\n - 2007-12-17 Fixed bug#[2586](http://bugs.otrs.org/show_bug.cgi?id=2586) - File download of package in\n    AdminPackageManager is not delivering the whole file name anymore.\n - 2007-12-17 Fixed bug#[2539](http://bugs.otrs.org/show_bug.cgi?id=2539) - SMIME signing was broken for private keys that\n    have no passphrase and when openssl is unable to write to random state file.\n - 2007-12-11 Fixed bug#[2479](http://bugs.otrs.org/show_bug.cgi?id=2479) - Unable to retrieve attachments bigger than\n    3Mb (on Oracle DB). Changed default read size from 4 MB to 40 MB in\n    Kernel/System/DB/oracle.pm:\n\n```perl\n    $Self->{'DB::Attribute'}      = {\n        LongTruncOk => 1,\n        LongReadLen => 40 * 1024 * 1024,\n    };\n```\n - 2007-12-10 Updated MIME::Tools to current CPAN version 5.425.\n - 2007-12-06 Fixed bug#[2568](http://bugs.otrs.org/show_bug.cgi?id=2568) - Problems with attachment downloads if the\n    active element filter is enabled.\n - 2007-12-05 Fixed bug#[1399](http://bugs.otrs.org/show_bug.cgi?id=1399) - Missing Translation. Added some translation to\n    customer interface.\n - 2007-12-04 Fixed bug#[2257](http://bugs.otrs.org/show_bug.cgi?id=2257) - Silent ignorance of SMTP / Sendmail errors,\n    now we collect the error and log it (which in turn displays it to the user).\n - 2007-11-20 Rewrite of Kernel::System::CSV by using cpan module Text::CSV\n    for parsing and generating CSV files (added Text::CSV to\n    bin/otrs.checkModules to check it).\n - 2007-11-07 Changed default config of WebMaxFileUpload from 10 MB to\n    16 MB.\n - 2007-11-07 Changed Kernel::System::Crypt::PGP to reject any UTF8-strings,\n    as these would get autoconverted into ISO - thus garbling the result.\n    Currently, only binary octets and ISO-strings are supported as input.\n - 2007-10-25 Improved Kernel::System::Crypt::PGP to return information about\n    the PGP-keys that were actually used in Decrypt() and Verify().\n - 2007-10-25 Updated all cpan modules.\n - 2007-10-17 Added GroupLookup() and RoleLookup() to Group.pm and removed the\n    two methods GetGroupIdByName() and GetRoleIdByName() which were already marked\n    as deprecated.\n - 2007-10-08 Added support of ticket free text links in ticket view,\n    configurable via SysConfig.\n - 2007-10-05 Added fist version of AJAX framework support in phone ticket.\n - 2007-10-01 Added \\<ModuleRequired Version=\"0.01\"\\>SomeModule\\</ModuleRequired\\>\n    feature to .opm format for enforcing installed CPAN modules.\n - 2007-09-25 Fixed bug#[2312](http://bugs.otrs.org/show_bug.cgi?id=2312) - Wide character error in Layout.pm if system\n    runs in utf-8 mode.\n - 2007-09-18 Did some improvments in Kernel/Output/HTML/Layout.pm to\n    get an better performance if the block function is used many times\n    (e. g. \\> 1000 times, 30% faster).\n - 2007-09-13 Fixed bug#[1186](http://bugs.otrs.org/show_bug.cgi?id=1186) - Convertion from HTML to text incomplete\n    if html encoded chars like &Egrave; or &eacute; is used. Added full\n    HTML to text convertion to email parser.\n - 2007-09-13 Improved report overview of perfornance log.\n\n#2.2.9 2010-02-08\n - 2010-06-24 Fixed bug#[5497](http://bugs.otrs.org/show_bug.cgi?id=5497) - Missing HTML quoting in stats module.\n - 2010-02-04 Fixed SQL quoting issue (see also\n    http://otrs.org/advisory/OSA-2010-01-en/).\n\n#2.2.8 2008-08-25\n - 2008-08-12 Fixed bug#[3156](http://bugs.otrs.org/show_bug.cgi?id=3156) - When the \"EMAILADDRESS:\" attribute is used to\n    define a specific email address, then secodary match attributes are applied\n    to all mails.\n - 2008-07-20 Fixed bug#[3155](http://bugs.otrs.org/show_bug.cgi?id=3155) - Wrong header charset in lost password\n    notification.\n - 2008-07-20 Fixed bug#[3103](http://bugs.otrs.org/show_bug.cgi?id=3103) - CustomerInterface: Ticket of other customers\n    accessible for other customers.\n - 2008-07-18 Fixed bug#[3101](http://bugs.otrs.org/show_bug.cgi?id=3101) - Getting Queue view after adding a note with\n    state \"open\".\n - 2008-07-18 Fixed reopend bug#[2330](http://bugs.otrs.org/show_bug.cgi?id=2330) - Cron.sh restart \\<OTRS\\_USER\\> doesn't\n    work.\n - 2008-07-16 Fixed bug#[2967](http://bugs.otrs.org/show_bug.cgi?id=2967) - Stats module, illegal division by zero at\n    ../../Kernel/System/Stats.pm line 1581\n - 2008-07-16 Fixed bug#[3079](http://bugs.otrs.org/show_bug.cgi?id=3079) - Default CheckEmailInvalidAddress regexp\n    rejects mail to MobileMe (me.com) accounts.\n - 2008-07-08 Fixed bug#[3062](http://bugs.otrs.org/show_bug.cgi?id=3062) - Not possible to search for Customer Company\n - 2008-06-25 Increaded max size of reformated text (reformating new lines)\n    from 20,000 to 60,000 signs (this size is just a safety performance\n    setting in Kernel::Output::HTML::Layout::Ascii2Html()).\n - 2008-06-20 Fixed bug#[3000](http://bugs.otrs.org/show_bug.cgi?id=3000) - Configured sender address for auto response\n    get's ignored.\n - 2008-06-05 Fixed bug#[2962](http://bugs.otrs.org/show_bug.cgi?id=2962) - Freetext cache problem, old used ticket\n    free text values get not added to pull down list in agent ticket search.\n - 2008-06-04 Removed not wanted email rfc check in AgentTicketPhone and\n    AgentTicketEmail, it's already done by OTRS via config settings.\n\n#2.2.7 2008-06-04\n - 2008-05-28 Fixed bug#[2891](http://bugs.otrs.org/show_bug.cgi?id=2891) - Typo in Bounce Customer notification\n    'information'.\n - 2008-05-25 Fixed bug#[2934](http://bugs.otrs.org/show_bug.cgi?id=2934) - PostmasterPOP3.pl - craches on malformed UTF-8\n    character (fatal)... on incoming emails.\n - 2008-05-22 Fixed bug#[2829](http://bugs.otrs.org/show_bug.cgi?id=2829) - Added config option if Cc should be taken over\n    to Cc recipients list in compose email answer screen.\n    SysConfig -\\> Ticket -\\> Frontend::Agent::Ticket::ViewCompose -\\>\n    Ticket::Frontend::ComposeExcludeCcRecipients\n - 2008-05-15 Fixed bug#[2870](http://bugs.otrs.org/show_bug.cgi?id=2870) - Customer-Frontend: No Access to Company Tickets\n    (CustomerIDCheck fails).\n - 2008-05-09 Added new catalonian language translation, thanks to Antonio Linde!\n - 2008-05-08 Fixed bug#[2683](http://bugs.otrs.org/show_bug.cgi?id=2683) -\n ```$QData{\"OrigFrom\"}``` in Reply leads to wrong\n    quote in email answer if sender is agent (To of origin email is used).\n - 2008-05-08 Fixed bug#[2604](http://bugs.otrs.org/show_bug.cgi?id=2604) - Response Format - Date of Original Mail is\n    missing.\n - 2008-05-07 Fixed bug#[2882](http://bugs.otrs.org/show_bug.cgi?id=2882) - The foreign key syntax in\n    otrs-schema-post.mysql.sql is incorrect.\n - 2008-04-23 Fixed bug#[2907](http://bugs.otrs.org/show_bug.cgi?id=2907) - Typo in the german translation:\n    \"aktuallisiert\".\n - 2008-04-19 Fixed not removable ticket by acl watcher link in ticket menu\n    (added missing config param to Ticket.xml config file).\n - 2008-04-14 Improved speed of phone and email ticket if many queues and\n    groups (150+) are used.\n - 2008-04-14 Improved load speed of ticket search screen (if free text fields\n    are used).\n - 2008-04-14 Fixed bug#[2860](http://bugs.otrs.org/show_bug.cgi?id=2860) - ColumnAdd doesn't work on a DB2 database if\n    Required is true.\n - 2008-04-10 Added new estonian translation, thanks to Lauri Jesmin!\n - 2008-04-07 Fixed bug#[2814](http://bugs.otrs.org/show_bug.cgi?id=2814) - BCC emails are visible to all receipiants in\n    email header.\n - 2008-04-07 Fixed bug#[2829](http://bugs.otrs.org/show_bug.cgi?id=2829) - Local system email address is always set to CC\n    option in compose email answer screen.\n - 2008-04-07 Fixed bug#[2833](http://bugs.otrs.org/show_bug.cgi?id=2833) - Broken email attachments if only attachment is\n    in email (no mime attachments).\n - 2008-04-03 Fixed bug#[2828](http://bugs.otrs.org/show_bug.cgi?id=2828) - Strings like ftp.invalid.org are shown as http\n    link in TicketZoom.\n - 2008-04-02 Fixed bug#[2756](http://bugs.otrs.org/show_bug.cgi?id=2756) - \"http.\" in article body is displayed as\n    \"http://http.\".\n - 2008-04-01 Fixed bug#[2822](http://bugs.otrs.org/show_bug.cgi?id=2822) - Ticket Number in subject of Bounce Notification\n    to customer/sender is not shown.\n - 2008-04-01 Fixed bug#[2453](http://bugs.otrs.org/show_bug.cgi?id=2453) - syntax errors on customer search; name@host\n    problems the mail address parser does not recognize the email address if it\n    is not fully 2822 compilant.\n\n#2.2.6 2008-03-31\n - 2008-03-25 Fixed bug#[2732](http://bugs.otrs.org/show_bug.cgi?id=2732) - Service name is truncated in dropdown lists\n - 2008-03-21 Fixed bug#[2758](http://bugs.otrs.org/show_bug.cgi?id=2758) - non-latin filenames in emails get not converted\n    to utf8 (e. g. koi8-r, utf8, cp1251).\n - 2008-03-21 Fixed bug#[2781](http://bugs.otrs.org/show_bug.cgi?id=2781) - Typo in Kernel::System::Ticket::MoveTicket()\n   \"&\" instead of \"&&\".\n - 2008-03-20 Fixed bug#[2772](http://bugs.otrs.org/show_bug.cgi?id=2772) - Dangling links to deleted tickets (ticket\n    links get not deleted after a ticket got deleted).\n - 2008-03-14 Fixed bug#[2770](http://bugs.otrs.org/show_bug.cgi?id=2770) - Internal cache mechanism of SLAs delivers\n    wrong content.\n - 2008-03-14 Fixed bug#[2769](http://bugs.otrs.org/show_bug.cgi?id=2769) - Trimming of sla name input field produce\n    errors.\n - 2008-03-14 Fixed bug#[954](http://bugs.otrs.org/show_bug.cgi?id=954) - ticket split should linking tickets (origin to\n    new one).\n - 2008-03-13 Added new turkish translation, thanks to Necmettin Begiter!\n - 2008-03-11 Fixed bug#[2763](http://bugs.otrs.org/show_bug.cgi?id=2763) - Trimming of service name input field produce\n    errors.\n - 2008-03-10 Updated vietnam translation, thanks to Nguyen Nguyet. Phuong!\n - 2008-03-10 Fixed bug#[2757](http://bugs.otrs.org/show_bug.cgi?id=2757) - Can't download statistic graph if I use\n    a diagram as output format.\n - 2008-03-10 Fixed bug#[2717](http://bugs.otrs.org/show_bug.cgi?id=2717) - All column and row names will be translated\n    statistics. Additional fixes for special situations.\n - 2008-03-06 Fixed bug#[2737](http://bugs.otrs.org/show_bug.cgi?id=2737) - Wrong order of the xaxis in stats output.\n - 2008-03-06 Fixed bug#[2717](http://bugs.otrs.org/show_bug.cgi?id=2717) - All column and row names will be translated.\n - 2008-03-05 Fixed bug#[2715](http://bugs.otrs.org/show_bug.cgi?id=2715) - Ascii2Html() is not quoting all links\n    correctly.\n - 2008-03-03 Fixed bug#[2742](http://bugs.otrs.org/show_bug.cgi?id=2742) - Wrong content type in admin package manager\n    mask.\n - 2008-02-25 Added missing german translation for required free-text fields.\n - 2008-02-25 Fixed bug#[2451](http://bugs.otrs.org/show_bug.cgi?id=2451) - Typo in openssl invocation when decrypting.\n - 2008-02-23 Fixed bug#[2275](http://bugs.otrs.org/show_bug.cgi?id=2275) - Need User or UserID! by using UnlockTickets.pl\n    and PendingJobs.pl.\n - 2008-02-23 Fixed bug#[2696](http://bugs.otrs.org/show_bug.cgi?id=2696) - CustomerPanelOwnSelection and\n    CustomerGroupSupport does not work together (show also queues without\n    create permissions).\n - 2008-02-23 Fixed bug#[2544](http://bugs.otrs.org/show_bug.cgi?id=2544) - Customer with RO can update ticket in\n    customer panel (wrong SysConfig setting).\n - 2008-02-22 Fixed bug#[2650](http://bugs.otrs.org/show_bug.cgi?id=2650) - Mails not full imported by PostmasterPOP3.pl\n    (mail body is cutted off, if no content type is availabe but 8bit chars are\n    used).\n - 2008-02-22 Fixed bug#[2462](http://bugs.otrs.org/show_bug.cgi?id=2462) - Permission denied when trying to print ticket\n    details from customer panel (customer.pl).\n - 2008-02-21 Added sendmail dummy backend module to deactivate sending\n    emails, useful for test system (Kernel::System::Email::DoNotSendEmail).\n - 2008-02-20 Fixed bug#[2644](http://bugs.otrs.org/show_bug.cgi?id=2644) - Added unit tests to find easier wrong\n    configured GD-CPAN modules.\n - 2008-02-20 Fixed bug#[2706](http://bugs.otrs.org/show_bug.cgi?id=2706) - SysConfig setting LogSystemCacheSize causes\n    error messages.\n - 2008-02-19 Fixed bug#[2450](http://bugs.otrs.org/show_bug.cgi?id=2450) - Auto-conversion of URLs to links fail when\n    a ')' is encountered.\n - 2008-02-18 Fixed bug#[2541](http://bugs.otrs.org/show_bug.cgi?id=2541) - Missing \"Ticket unlock\" link for ticket the\n    actions 'Phone call', 'Merge', 'Move' and 'Forward'.\n - 2008-02-18 Fixed bug#[2145](http://bugs.otrs.org/show_bug.cgi?id=2145) - $Config{\"TicketFreeTimeKey22\"} instant of\n    $Config{\"TicketFreeTimeKey2\"} in AgentTicketSearchResultShort.dtl.\n - 2008-02-18 Fixed bug#[2674](http://bugs.otrs.org/show_bug.cgi?id=2674) - Spellchecker always reports 0 errors\n    even SpellCheckerBin is not configured correctly.\n - 2008-02-17 Improved bin/otrs.checkModules tool for checking required\n    CPAN modules.\n - 2008-02-17 Fixed bug#[2255](http://bugs.otrs.org/show_bug.cgi?id=2255) - SysConfig setting Ticket -\\>\n    Frontend::Customer::Ticket::ViewZoom -\\>\n    Ticket::Frontend::CustomerTicketZoom###State has no effect (only\n    closed is shown any time).\n - 2008-02-15 Fixed non fixed font and wrong new line breaking problem on\n    safari in textarea input fields (updated Kernel/Output/HTML/Standard/css.dtl\n    and Kernel/Output/HTML/Standard/customer-css.dtl).\n - 2008-02-15 Fixed bug#[2694](http://bugs.otrs.org/show_bug.cgi?id=2694) - URL-to-long-error in\n    AdminCustomerUserService mask on changing settings.\n - 2008-02-14 Fixed bug#[2239](http://bugs.otrs.org/show_bug.cgi?id=2239) - CustomerCompanySupport is broken when\n    using external backend DB.\n - 2008-02-12 Fixed bug#[2533](http://bugs.otrs.org/show_bug.cgi?id=2533) - Wide character error when searching for a\n    customer with umlaut in LDAP backend with cache option (CacheTTL) in\n    CustomerUser config option.\n - 2008-02-12 Fixed bug#[2638](http://bugs.otrs.org/show_bug.cgi?id=2638) - Broken email syntax check if\n    \\_somebody@example.com is used.\n - 2008-02-12 Fixed bug#[1957](http://bugs.otrs.org/show_bug.cgi?id=1957) - Auto reply for new Phone-Tickets goes to\n    non-existing addresses (if no email address is given in From field).\n - 2008-02-12 Fixed bug#[2363](http://bugs.otrs.org/show_bug.cgi?id=2363) - AgentTicketPhone###Body is now a text area\n    instead of a string.\n - 2008-02-11 Fixed bug#[1975](http://bugs.otrs.org/show_bug.cgi?id=1975) - OTRS cannot forward tickets with .eml file\n    attachments.\n - 2008-02-11 Fixed bug#[2413](http://bugs.otrs.org/show_bug.cgi?id=2413) - OTRS cannot write to BLOB column in table\n    XML\\_STORAGE with DB2.\n - 2008-02-06 Fixed bug#[1716](http://bugs.otrs.org/show_bug.cgi?id=1716) - Wrong escalation time calculation on\n    wintertime/summertime switch.\n - 2008-02-01 Fixed ticket# 2008012242000417 - View performance problems\n    if more than 1000 customer companies are in the database available.\n\n#2.2.5 2008-01-28\n - 2008-01-25 Fixed bug#[2645](http://bugs.otrs.org/show_bug.cgi?id=2645) - SLA selection doesn't change when customer is\n    changed.\n - 2008-01-16 Fixed bug#[2157](http://bugs.otrs.org/show_bug.cgi?id=2157) - Ticket merged note not translated.\n - 2008-01-15 Fixed bug#[2392](http://bugs.otrs.org/show_bug.cgi?id=2392) - Charset problems with iso8859 and the\n    xml-caching mechanism.\n - 2008-01-15 Implemented workaround for bug#[2227](http://bugs.otrs.org/show_bug.cgi?id=2227) - XMLHashSearch returns\n    no values on MS SQL in certain cases.\n - 2008-01-14 Fixed bug#[2330](http://bugs.otrs.org/show_bug.cgi?id=2330) - Cron.sh start \\<OTRS\\_USER\\> does not work.\n    Thanks to Felix J. Ogris.\n - 2008-01-14 Fixed bug#[977](http://bugs.otrs.org/show_bug.cgi?id=977) - No agent notification for new ticket from\n    webinterface if CustomerGroupSupport is enabled.\n - 2008-01-13 Added new vietnam translation, thanks to Nguyen Nguyet. Phuong!\n - 2008-01-13 Fixed bug#[2621](http://bugs.otrs.org/show_bug.cgi?id=2621) - Wrong order of items (Subject,Service,SLA,Body\n    -\\> Service,SLA,Subject,Body) in Frontend AgentTicketPhone, AgentTicketEmail\n    and CustomerTicketMessage.\n - 2008-01-12 Fixed bug#[1687](http://bugs.otrs.org/show_bug.cgi?id=1687) - Wrong \"New message!\" hint on queue with\n    \"Customer State Notify\" activated.\n - 2008-01-09 Fixed bug#[2613](http://bugs.otrs.org/show_bug.cgi?id=2613) - Images are broken in Lite-Theme if OTRS do\n    not use the default Alias /otrs-web/.\n - 2008-01-08 Improved Kernel::System::XML::XMLParse() to prevent bugs\n    like# 2612.\n - 2008-01-08 Fixed bug#[2609](http://bugs.otrs.org/show_bug.cgi?id=2609) - Temp files are not removed after process was\n    finished under windows.\n - 2008-01-07 Fixed bug#[1893](http://bugs.otrs.org/show_bug.cgi?id=1893) - Attachment Storage fails with\n    ArticleStorageFS in win32 with ? in filenames.\n - 2008-01-03 Fixed bug#[2491](http://bugs.otrs.org/show_bug.cgi?id=2491) - OTRS crash's after initial login on fresh\n    installation on fedora 7, fedora 8, altlinux and ActiveState Perl on win32.\n - 2008-01-02 Fixed bug#[2601](http://bugs.otrs.org/show_bug.cgi?id=2601) - Only agents with rw permissions are shown in\n    inform agent selection of a note screen (note permission need to be\n    activated via SysConfig first). Now all agents with \\_note\\_ permissions are\n    displayed.\n - 2008-01-02 Fixed bug#[2600](http://bugs.otrs.org/show_bug.cgi?id=2600) - MS SQL: Fulltext search in ticket body with\n    mssql backend not possible (workaround, improved API for 2.3.x).\n - 2008-01-01 Fixed bug#[1120](http://bugs.otrs.org/show_bug.cgi?id=1120) - TO recipients which were sometimes dropped\n    in a ticket reply.\n - 2008-01-01 Fixed bug#[2589](http://bugs.otrs.org/show_bug.cgi?id=2589) - Ticket-title not shown in ticket list of\n    change customer, phone- and email ticket.\n - 2007-12-27 Fixed bug#[1148](http://bugs.otrs.org/show_bug.cgi?id=1148) - Lost of attachments when spliting ticket.\n - 2007-12-18 Fixed bug#[2295](http://bugs.otrs.org/show_bug.cgi?id=2295) - Added workaround for IE7. Tries to download\n    [ Attachments ] or [ Attachments \\<-\\> Responses ].\n - 2007-12-17 Fixed bug#[2580](http://bugs.otrs.org/show_bug.cgi?id=2580) - Wrong quoating of semicolon if mssql is used.\n - 2007-12-17 Fixed bug#[2539](http://bugs.otrs.org/show_bug.cgi?id=2539) - SMIME signing was broken for private keys that\n   have no passphrase and when openssl is unable to write to random state file.\n - 2007-12-12 Fixed bug#[2581](http://bugs.otrs.org/show_bug.cgi?id=2581) - Follow up not possible if \"ticket#: xxxxxxx\"\n    is copied from webinterface into new email subject.\n - 2007-12-11 Fixed bug#[2479](http://bugs.otrs.org/show_bug.cgi?id=2479) - Unable to retrieve attachments bigger than\n    3 MB (on Oracle DB). Changed default read size from 4 MB to 15 MB in\n    Kernel/System/DB/oracle.pm:\n\n```perl\n      $Self->{'DB::Attribute'}      = {\n        LongTruncOk => 1,\n        LongReadLen => 15 * 1024 * 1024,\n    };\n```\n - 2007-12-10 Fixed bug#[1428](http://bugs.otrs.org/show_bug.cgi?id=1428) - Whitespaces remove from email subject\n    (notification and new tickets creation) if utf-8 is used (specifically\n    in Russian, Chinese  and Japanese).\n    The problem is a bug in MIME::Tools/MIME::Words, for more info see\n    CPAN-Bug# 5462: http://rt.cpan.org/Public/Bug/Display.html?id=5462\n    As solution Kernel/cpan-lib/MIME/Words.pm got patched. Note: Everybody\n    who is not using Kernel/cpan-lib/ need to wait till this bug is fixed\n    in official MIME::Tools/MIME::Words releases.\n - 2007-12-10 Fixed bug#[2166](http://bugs.otrs.org/show_bug.cgi?id=2166) - Probem with HTML-mails sent by MS Outlook\n    2003 - \"&#8211;\" / long dash gets not decoded.\n - 2007-12-10 Fixed bug#[2377](http://bugs.otrs.org/show_bug.cgi?id=2377) - Missing translation in\n    AdminCustomerUserService mask.\n - 2007-12-03 Fixed bug#[2537](http://bugs.otrs.org/show_bug.cgi?id=2537) - Unable to set free time fields.\n - 2007-11-13 Fixed bug#[2498](http://bugs.otrs.org/show_bug.cgi?id=2498) - A wrong sum of requests was shown in the\n    performance log.\n - 2007-11-07 Fixed bug#[2482](http://bugs.otrs.org/show_bug.cgi?id=2482) - IntroUpgradePre in .opm files is not working\n    on upgradinging via online repository.\n\n#2.2.4 2007-11-06\n - 2007-11-06 Fixed bug#[2477](http://bugs.otrs.org/show_bug.cgi?id=2477) - Escalation time calculation (destination time of\n    escalation) is not working if host system is running in summertime/wintertime\n    mode (loops because system is changing system time from 3:00 am to 2:00 am).\n - 2007-11-05 Fixed bug#[2474](http://bugs.otrs.org/show_bug.cgi?id=2474) - Config option UserSyncLDAPAttibuteGroupsDefination\n    and UserSyncLDAPAttibuteRolesDefination is not working.\n - 2007-11-05 Fixed small typo in scripts/database/otrs-initial\\_insert.xml, for\n    escalation notification text.\n - 2007-11-05 Fixed bug#[2473](http://bugs.otrs.org/show_bug.cgi?id=2473) - Not able to update existing cache files of\n    customer user backend because of file permission problems (cache files are\n    created with 644). From now on cache files are created with 664 permissions.\n - 2007-11-05 Fixed bug#[2472](http://bugs.otrs.org/show_bug.cgi?id=2472) - Emails in utf8 are not sent correctly (problem\n    after upgrading Kernel/cpan-lib/MIME/\\*.pm).\n - 2007-10-26 Fixed bug#[2446](http://bugs.otrs.org/show_bug.cgi?id=2446) - Subject is not quoted.\n - 2007-10-26 Fixed bug#[2442](http://bugs.otrs.org/show_bug.cgi?id=2442) - Disappearing ticket free time checkboxes in\n    some ticket masks after mask reloads.\n - 2007-10-26 Fixed bug#[2436](http://bugs.otrs.org/show_bug.cgi?id=2436) - Translation bug in the frontend function\n    BuildSelection().\n - 2007-10-24 Fixed bug#[2289](http://bugs.otrs.org/show_bug.cgi?id=2289) - Compress with bzip2 dont works in backup.pl.\n - 2007-10-22 Fixed bug#[2421](http://bugs.otrs.org/show_bug.cgi?id=2421) - If customer cache backend is used, sometimes\n    \"Need Value\" appears in the log file.\n - 2007-10-19 Fixed bug#[1203](http://bugs.otrs.org/show_bug.cgi?id=1203) - Changed Redhat shm workaround to use a fixed\n    IPCKey per instance, but prevent clash with IPCKey of other instances.\n - 2007-10-19 Fixed bug#[2263](http://bugs.otrs.org/show_bug.cgi?id=2263) - Problems with array refs and escaping\n - 2007-10-18 Fixed bug#[2410](http://bugs.otrs.org/show_bug.cgi?id=2410) - $/ as given is currently unsupported at\n    Kernel/cpan-lib/MIME/Decoder/NBit.pm line 140. We updated the CPAN module\n    MIME-tools to version 5.423 to solve the problem.\n - 2007-10-17 Fixed bug#[2404](http://bugs.otrs.org/show_bug.cgi?id=2404) - Wrong results if you use StatsTypeID as\n    TicketSearch attribute.\n - 2007-10-17 Fixed bug#[2407](http://bugs.otrs.org/show_bug.cgi?id=2407) - Performance handicap because of a missing\n    'if'-attribute.\n - 2007-10-16 Improved performance of module by reduce calls of\n    $Self-\\>{ConfigObject}-\\>Get() in Kernel/Output/HTML/Layout.pm and\n    Kernel/System/Encode.pm.\n - 2007-10-16 Fixed bug#[2404](http://bugs.otrs.org/show_bug.cgi?id=2404) - Problems with the time extended feature in\n    stats module.\n - 2007-10-15 Fixed bug#[2398](http://bugs.otrs.org/show_bug.cgi?id=2398) - Translate the stats output.\n - 2007-10-12 Fixed bug#[2388](http://bugs.otrs.org/show_bug.cgi?id=2388) - Show the radio button of static stats files.\n - 2007-10-10 Fixed bug#[2383](http://bugs.otrs.org/show_bug.cgi?id=2383) - IntroInstallPre in .opm files is not working\n    on installing via online repository.\n - 2007-10-10 Fixed bug#[2380](http://bugs.otrs.org/show_bug.cgi?id=2380) - Ignore HTMLQuote param in Layout object\n    function \\_BuildSelectionOptionRefCreate.\n - 2007-10-09 Fixed bug#[2375](http://bugs.otrs.org/show_bug.cgi?id=2375) - Possible race condition in generic agent\n    jobs (during processing jobs). Generic agent job attributes can get\n    lost.\n - 2007-10-09 Fixed bug#[2276](http://bugs.otrs.org/show_bug.cgi?id=2276) - GenericAgent with SLA-Search fails, Service\n    and SLA options are missing.\n - 2007-10-05 Fixed bug#[2360](http://bugs.otrs.org/show_bug.cgi?id=2360) - No Permission in customer panel after\n    selecting ticket. Reason is, sender type is customer and article\n    type is email-internal which is set via a postmaster filter.\n - 2007-10-02 Fixed bug#[2346](http://bugs.otrs.org/show_bug.cgi?id=2346) - Emty entries are shown in the responsible\n    option list in TicketSearch mask.\n - 2007-09-24 Fixed bug#[2321](http://bugs.otrs.org/show_bug.cgi?id=2321) - It's not possible to use \u00ef\u00bf\u00bd or \u00ef\u00bf\u00bd in\n    description tag of .sopm file -\\> leading to perl syntax error!\n - 2007-09-17 Fixed bug#[2291](http://bugs.otrs.org/show_bug.cgi?id=2291) - Only include/use PDF::API2 in\n    Kernel/Modules/AgentTicketSearch.pm and Kernel/Modules/AgentStats.pm\n    if needed, to increase performance.\n\n#2.2.3 2007-09-13\n - 2007-09-13 Fixed bug#[2285](http://bugs.otrs.org/show_bug.cgi?id=2285) - Typo in german translation\n    \"Aktualisierungszeit\".\n - 2007-09-12 Fixed bug#[1203](http://bugs.otrs.org/show_bug.cgi?id=1203) - Redhat shm workaround should not relate to\n    real shm request.\n - 2007-09-07 Fixed bug#[2265](http://bugs.otrs.org/show_bug.cgi?id=2265) - On IIS6, Package Manager is displaying a\n    error after installing a package (header not complete). But package got\n    installed corectly.\n - 2007-09-06 Fixed bug#[2261](http://bugs.otrs.org/show_bug.cgi?id=2261) - False params in call of ServiceLookup() and\n    SLALookup() functions.\n - 2007-09-06 Fixed reopened bug#[2142](http://bugs.otrs.org/show_bug.cgi?id=2142) - Ticket history entry was wrong if\n    service, sla or ticket type was changed.\n - 2007-09-03 Fixed bug#[2193](http://bugs.otrs.org/show_bug.cgi?id=2193) - Postmaster module\n    Kernel::System::PostMaster::Filter::NewTicketReject is not working - need\n    Charset!\n - 2007-09-03 Fixed bug#[2245](http://bugs.otrs.org/show_bug.cgi?id=2245) - Responsible / Owner Field not working for\n    all users in the Email-Ticket form.\n - 2007-09-03 Improved system speed of escalation calculation if many open\n    ticket (\\> 2000) are there.\n - 2007-08-28 Fixed Ticket# 2007082842000477 - Problem with different customer\n    sources and use CacheTTL option (namespace of cache is not uniq).\n - 2007-08-28 Fixed Ticket# 2007082842000413 - Ticket created over phone\n    ticket with state closed is shown in queue view like \"My Queues (1)\" but\n    no ticket is shown if I click on \"My Queues (1)\" (if\n    Kernel::System::Ticket::IndexAccelerator::StaticDB is used as\n    Ticket::IndexModule).\n - 2007-08-27 Fixed bug#[2230](http://bugs.otrs.org/show_bug.cgi?id=2230) - OTRS on IIS - redirect/loop problem after\n    login.\n - 2007-08-27 Fixed bug#[2229](http://bugs.otrs.org/show_bug.cgi?id=2229) - Return value of \"ServiceLookup\" is used\n    without quoting in SQL statements.\n - 2007-08-24 Fixed bug#[2207](http://bugs.otrs.org/show_bug.cgi?id=2207) - translation failure in customer preferences\n    (QueueView refresh time).\n - 2007-08-24 Fixed bug#[2214](http://bugs.otrs.org/show_bug.cgi?id=2214) - .opm Package can not handle &lt;, &gt; and\n    &amp; in .sopm files.\n - 2007-08-22 Improved Agent Notifications. Salutation of notfication\n    recipient is now using \\<OTRS\\_UserFirstname\\> and \\<OTRS\\_UserLastname\\> instead\n    of \\<OTRS\\_OWNER\\_UserFirstname\\> or \\<OTRS\\_OWNER\\_UserLastname\\>.\n - 2007-08-22 Fixed bug#[2203](http://bugs.otrs.org/show_bug.cgi?id=2203) - OTRS will not create/verify correct pgp\n    signs if utf8 is used.\n - 2007-08-22 Fixed bug#[2202](http://bugs.otrs.org/show_bug.cgi?id=2202) - Kernel::System::Email::SMTP is sending\n    \"localhost.localdomain\" in smtp hello, some server rejecting this (\"Host\n    not found\").\n - 2007-08-21 Fixed bug#[2024](http://bugs.otrs.org/show_bug.cgi?id=2024) - Problem with agent authentication via LDAP\n    with ADS-Groups and content of DN like \"Some\\, Name\".\n - 2007-08-20 Fixed bug#[2094](http://bugs.otrs.org/show_bug.cgi?id=2094) and 2143 - 'Got no MainObject' warning in\n    Kernel/System/Crypt.pm\n - 2007-08-20 Fixed bug#[2192](http://bugs.otrs.org/show_bug.cgi?id=2192) - Useless fragments of old escalation mechanism\n    produces errors.\n - 2007-08-17 Fixed bug#[1908](http://bugs.otrs.org/show_bug.cgi?id=1908) - Removed duplicate history entry for ticket\n    subscribe action.\n - 2007-08-16 Fixed bug#[1492](http://bugs.otrs.org/show_bug.cgi?id=1492) - Fixed typo in Kernel/Language.pm.\n - 2007-08-10 Fixed bug#[2160](http://bugs.otrs.org/show_bug.cgi?id=2160) - 0 was ignored in database insert by package\n    building.\n - 2007-08-10 Fixed bug#[2156](http://bugs.otrs.org/show_bug.cgi?id=2156) - External customer database is not working,\n    if it's configured the following error message appears\n    (\"Got no MainObject in Kernel/System/DB.pm line 85\").\n - 2007-08-10 Fixed bug#[2155](http://bugs.otrs.org/show_bug.cgi?id=2155) - Std-Attachments are not usable in agent\n    ticket compose screen (no std attachments are shown in compose screen).\n - 2007-08-07 Fixed bug#[2118](http://bugs.otrs.org/show_bug.cgi?id=2118) - Fixed typo in german translation file (\n    Kernel/Language/de.pm).\n - 2007-08-07 Fixed bug#[2117](http://bugs.otrs.org/show_bug.cgi?id=2117) - Fixed small typo in initial insert files.\n - 2007-08-06 Fixed bug#[1999](http://bugs.otrs.org/show_bug.cgi?id=1999) - Service and SLA can not changed on an\n    existing ticket.\n - 2007-08-06 Fixed bug#[2142](http://bugs.otrs.org/show_bug.cgi?id=2142) - If a service or a sla of a ticket was changed,\n    no ticket history entry was added.\n - 2007-08-06 Fixed bug#[2135](http://bugs.otrs.org/show_bug.cgi?id=2135) - scripts/DBUpdate-to-2.2.2.sql contains wrong\n    SQL. Not the queue table needs to be changed, the ticket table would be the\n    right one.\n - 2007-08-03 Fixed bug#[2134](http://bugs.otrs.org/show_bug.cgi?id=2134) - PDF print is creating damaged pdf files with\n    PDF::API2 0.56 or smaller.\n - 2007-08-02 Fixed bug#[940](http://bugs.otrs.org/show_bug.cgi?id=940) - After owners unlock ticket and a follow-up\n    arrives the system, all agents which selected the queue of this ticket get\n    and follow up message. In this follow up message the name was always the\n    current owner and not the recipient of the email (which should be).\n - 2007-07-31 Fixed bug#[2001](http://bugs.otrs.org/show_bug.cgi?id=2001) - New escalation times and the responsible are\n    not shown in any print views.\n\n#2.2.2 2007-07-31\n - 2007-07-31 Fixed bug#[2114](http://bugs.otrs.org/show_bug.cgi?id=2114) - Fixed the problems with the email object.\n - 2007-07-30 Fixed bug#[2015](http://bugs.otrs.org/show_bug.cgi?id=2015) - Improved handling to allocate customerusers\n    and services. Now it's possible to define default services.\n - 2007-07-27 Fixed bug#[2053](http://bugs.otrs.org/show_bug.cgi?id=2053) - If core \"System::Permission\" note is used,\n    not effect to the ticket note mask appears.\n - 2007-07-27 Fixed bug#[2059](http://bugs.otrs.org/show_bug.cgi?id=2059) - config setting $Self-\\>{'Database::Connect'}\n    is not overwriting default option used by driver.\n - 2007-07-26 Fixed bug#[2105](http://bugs.otrs.org/show_bug.cgi?id=2105) - Notification after moving a ticket to my\n    queues is wrong -\\> \"\\> OTRS\\_CUSTOMER\\_QUEUE\\<\" got not replaced in subject.\n    SQL files scripts/database/otrs-initial\\_insert.\\*.sql got fixed.\n - 2007-07-26 Fixed bug#[2029](http://bugs.otrs.org/show_bug.cgi?id=2029) - Selected responsible agent was not taken\n    over after creating a phone ticket.\n - 2007-07-26 Fixed bug#[1946](http://bugs.otrs.org/show_bug.cgi?id=1946) - Setting of service, sla or type via email\n     X-OTRS-Service, X-OTRS-SLA or X-OTRS-Type header not possible.\n - 2007-07-26 Fixed bug#[2097](http://bugs.otrs.org/show_bug.cgi?id=2097) - Sometimes problems with SMTP module and utf8\n    to send emails.\n - 2007-07-26 Improved system performance of escalation (bug#[2020](http://bugs.otrs.org/show_bug.cgi?id=2020) Performance\n    problem after updating to 2.2.0).\n    --\\>Because of this fact you need to add to new column to the ticket table.\\<--\n\n```sql\n    ALTER TABLE ticket ADD escalation_response_time INTEGER;\n    ALTER TABLE ticket ADD escalation_solution_time INTEGER;\n```\n - 2007-07-26 Fixed bug#[2061](http://bugs.otrs.org/show_bug.cgi?id=2061) - UserSyncLDAPMap does not work properly after\n    upgrade to 2.2. The reason is, that we cleaned up this config option and\n    the new one from Kernel/Config/Defaults.pm need to be used. We also added\n    an check which log that an old config setting is used (also an compat.\n    feature to still use the old option has been added).\n\n    If you use UserSyncLDAPMap you need to reconfigure it!\n\nOld style (till 2.1):\n\n```perl\n    $Self->{UserSyncLDAPMap} = {\n        # DB -> LDAP\n        Firstname => 'givenName',\n        Lastname => 'sn',\n        Email => 'mail',\n    };\n```\nNew style (beginning with 2.2):\n\n```perl\n    $Self->{UserSyncLDAPMap} = {\n        # DB -> LDAP\n        UserFirstname => 'givenName',\n        UserLastname => 'sn',\n        UserEmail => 'mail',\n    };\n```\n - 2007-07-25 Added missing OTRS 2.2 sql update scripts for mssql and maxdb\n    (scripts/DBUpdate-to-2.2.maxdb.sql and scripts/DBUpdate-to-2.2.mssql.sql).\n - 2007-07-23 Fixed bug#[2068](http://bugs.otrs.org/show_bug.cgi?id=2068) - Date problem with non en installations of\n    MSSQL server. Some date inserts or package installations failed. Added\n    database init connect option to mssql driver (\"SET DATEFORMAT ymd\" /\n    Kernel/System/DB/mssql.pm).\n - 2007-07-23 Because of safety reason, generic agent jobs will not longer run\n    without min. one search attribute (admin interface and cmd). So if you want to\n    match all ticket, you need to add an \\* in the ticket number.\n - 2007-07-23 Fixed bug#[2021](http://bugs.otrs.org/show_bug.cgi?id=2021) - Errors in MSSQL post schema files.\n - 2007-07-23 Fixed bug#[2025](http://bugs.otrs.org/show_bug.cgi?id=2025) - No upgrade PostgreSQL possible, added missing\n    lines in DBUpdate-to-2.2.postgresql.sql.\n - 2007-07-22 Fixed Ticket#2007072342000148 - Old OTRS (\\< OTRS 2.2)\n    attachments are corrupt after upgrade if file backend is used.\n - 2007-07-16 Updated portuguese translation, thanks Filipe Henriques and\n    Rui Pires!\n - 2007-07-16 Updated norwegian translation, thanks to Fredrik Andersen!\n - 2007-07-16 Updated hungarian translation, thanks to Aron Ujvari!\n - 2007-07-16 Updated spanish translation, thanks to Carlos Oyarzabal!\n - 2007-07-12 Fixed bug#[2016](http://bugs.otrs.org/show_bug.cgi?id=2016) - CustomerUserUpdate: Add a function to handle\n    empty values.\n - 2007-07-11 Fixed bug#[2047](http://bugs.otrs.org/show_bug.cgi?id=2047) - Add MainObject to the needed object check.\n - 2007-07-10 Fixed bug#[2045](http://bugs.otrs.org/show_bug.cgi?id=2045) - Notifications on reopen are not sent to\n    owner/responsible.\n - 2007-07-03 Fixed bug#[2011](http://bugs.otrs.org/show_bug.cgi?id=2011) - Translation problems in stats module.\n\n#2.2.1 2007-07-01\n - 2007-06-29 Updated finnish translation, thanks to Mikko Hynninen!\n - 2007-06-29 Added some build in caches to Service, SQL, Queue and Valid\n    core modules to reduce the amount of sql queries (saves ~ 10% of queries\n    in the queue view).\n - 2007-06-29 Fixed bug#[1998](http://bugs.otrs.org/show_bug.cgi?id=1998) - Error with the web installer if no utf8\n    database is selected.\n - 2007-06-28 Disabled only show escalated tickets in queue view because\n    of already show escalation notifications.\n - 2007-06-28 Updated portuguese translation, thanks Filipe Henriques!\n - 2007-06-28 Fixed bug#[2000](http://bugs.otrs.org/show_bug.cgi?id=2000) - Typo in database update script\n    DBUpdate-to-2.1.mysql.sql.\n - 2007-06-28 Reworked AdminCustomerUserService mask.\n - 2007-06-28 Fixed wildcard handling in ServiceSerarch().\n - 2007-06-27 Added option to log sql queries which take longer the 4 sek.\n    and can be enabled via Kernel/Config.pm (Database::SlowLog). For more\n    info see Kernel/Config/Defaults.pm.\n - 2007-06-26 Fixed not working alter table to SET or DROP NULL and NOT\n    NULL via xml interface (Kernel/System/DB/postgresql.pm).\n - 2007-06-26 Updated french translation, thanks to Yann Richard and Remi Seguy!\n - 2007-06-26 Updated netherlands translation, thanks to Richard Hinkamp!\n - 2007-06-26 Updated hungarian translation, thanks to Aron Ujvari!\n - 2007-06-20 Updated russian translation, thanks to Andrey Feldman!\n - 2007-06-20 Updated greek translation, thanks to Stelios Maistros!\n\n#2.2.0 rc1 2007-07-19\n - 2007-06-19 Fixed bug#[1941](http://bugs.otrs.org/show_bug.cgi?id=1941) - Ticket Escalation blocks QueueView even if\n    Agent has only read access.\n - 2007-06-18 Improved TicketSubjectClean() that it is also working with\n    longer Ticket::SubjectRe options like \"Antwort: [Ticket#: 1234] Antwort: ..\"\n    (which was not removed on email answers).\n - 2007-06-13 Fixed bug#[1951](http://bugs.otrs.org/show_bug.cgi?id=1951) - Changed default selection of 'valid' field in\n    AdminService and AdminSLA mask.\n - 2007-06-12 Added feature (bug#[1949](http://bugs.otrs.org/show_bug.cgi?id=1949) an 1950) for customer ldap backend\n    for soft or hard die.\n - 2007-06-12 Added customeruser to service relation feature.\n - 2007-05-31 Improved XMLHashAdd() and XMLHashUpdate() in\n    Kernel/System/XML.pm to prevent caching errors.\n - 2007-05-31 Fixed bug#[1927](http://bugs.otrs.org/show_bug.cgi?id=1927) - It is possible to uninstall a required\n    package.\n\n#2.2.0 beta4 2007-05-29\n - 2007-05-26 Fixed bug in service and sla tables. Column comment was wrongly\n    defined as required field.\n - 2007-05-24 Fixed bug#[1894](http://bugs.otrs.org/show_bug.cgi?id=1894) - otrs.addUser does not work\n - 2007-05-24 Fixed bug#[1913](http://bugs.otrs.org/show_bug.cgi?id=1913) - Added missing columns first\\_response\\_time,\n    solution\\_time and rename column escalation\\_time to update\\_time for table\n    queue in DBUpdate-to-2.2.oracle.sql.\n - 2007-05-23 Add the ticket options Type, Service and SLA to the ticket\n    print.\n - 2007-05-22 Add TicketType, Service and SLA option to stats module\n    to improve flexibility of dynamic stats.\n - 2007-05-22 Remove wrong item in check needed stuff section of SLAList()\n    function.\n - 2007-05-21 Update german translation.\n - 2007-05-21 Improved check of needed stuff in SLAAdd() function in\n    Kernel/System/SLA.pm.\n - 2007-05-21 Sync HTML style of admin masks. No functionality changed.\n    Kernel/Output/HTML/Standard/AdminAttachmentForm.dtl\n    Kernel/Output/HTML/Standard/AdminAutoResponseForm.dtl\n    Kernel/Output/HTML/Standard/AdminCustomerCompanyForm.dtl\n    Kernel/Output/HTML/Standard/AdminCustomerUserForm.dtl\n    Kernel/Output/HTML/Standard/AdminGenericAgent.dtl\n    Kernel/Output/HTML/Standard/AdminGroupForm.dtl\n    Kernel/Output/HTML/Standard/AdminLog.dtl\n    Kernel/Output/HTML/Standard/AdminNotificationForm.dtl\n    Kernel/Output/HTML/Standard/AdminPGPForm.dtl\n    Kernel/Output/HTML/Standard/AdminPOP3.dtl\n    Kernel/Output/HTML/Standard/AdminPackageManager.dtl\n    Kernel/Output/HTML/Standard/AdminPerformanceLog.dtl\n    Kernel/Output/HTML/Standard/AdminPostMasterFilter.dtl\n    Kernel/Output/HTML/Standard/AdminQueueForm.dtl\n    Kernel/Output/HTML/Standard/AdminResponseForm.dtl\n    Kernel/Output/HTML/Standard/AdminRoleForm.dtl\n    Kernel/Output/HTML/Standard/AdminSLA.dtl\n    Kernel/Output/HTML/Standard/AdminSMIMEForm.dtl\n    Kernel/Output/HTML/Standard/AdminSalutationForm.dtl\n    Kernel/Output/HTML/Standard/AdminService.dtl\n    Kernel/Output/HTML/Standard/AdminSession.dtl\n    Kernel/Output/HTML/Standard/AdminSignatureForm.dtl\n    Kernel/Output/HTML/Standard/AdminStateForm.dtl\n    Kernel/Output/HTML/Standard/AdminSysConfig.dtl\n    Kernel/Output/HTML/Standard/AdminSystemAddressForm.dtl\n    Kernel/Output/HTML/Standard/AdminTypeForm.dtl\n    Kernel/Output/HTML/Standard/AdminUserForm.dtl\n - 2007-05-21 Changes max shown escalated tickets in queue view to 30\n    (to improved spped of escalation view in queue view).\n - 2007-05-21 Fixed double ContentType in ArticleAttachment() of attachment\n    backends (Kernel/System/Ticket/ArticleStorage(DB|FS).pm).\n - 2007-05-21 Sync of all configurable frontend modules. No functionality changed.\n    Kernel/Modules/AgentTicketClose.pm\n    Kernel/Modules/AgentTicketFreeText.pm\n    Kernel/Modules/AgentTicketNote.pm\n    Kernel/Modules/AgentTicketOwner.pm\n    Kernel/Modules/AgentTicketPending.pm\n    Kernel/Modules/AgentTicketPriority.pm\n    Kernel/Modules/AgentTicketResponsible.pm\n    Kernel/Output/HTML/Standard/AgentTicketClose.dtl\n    Kernel/Output/HTML/Standard/AgentTicketFreeText.dtl\n    Kernel/Output/HTML/Standard/AgentTicketNote.dtl\n    Kernel/Output/HTML/Standard/AgentTicketOwner.dtl\n    Kernel/Output/HTML/Standard/AgentTicketPending.dtl\n    Kernel/Output/HTML/Standard/AgentTicketPriority.dtl\n    Kernel/Output/HTML/Standard/AgentTicketResponsible.dtl\n - 2007-05-21 Fixed bug#[1898](http://bugs.otrs.org/show_bug.cgi?id=1898) - Invalid services and slas was shown in agent\n    masks.\n - 2007-05-16 Improved check of needed Charset param in Send() function to\n    prevent problems like in bug#[1887](http://bugs.otrs.org/show_bug.cgi?id=1887).\n - 2007-05-14 Fixed bug#[1866](http://bugs.otrs.org/show_bug.cgi?id=1866) - Error while DB upgrade from 2.1.5 to 2.2.0\n    beta3.\n - 2007-05-12 Ingresed width of html login tables from 270 to 280 because\n    of new language selection.\n - 2007-05-11 Added script to convert a non utf-8 database to an utf-8\n    database.\n - 2007-05-09 Fixed bug#[1825](http://bugs.otrs.org/show_bug.cgi?id=1825) - SQL ticket\\_history INSERT syntax error in\n    HistoryAdd().\n - 2007-05-08 Fixed bug#[1840](http://bugs.otrs.org/show_bug.cgi?id=1840) - Repeat escalation message when queue, SLA\n    Solution time is shown.\n - 2007-05-07 Added DB::Encode database driver config (Kernel/System/DB/\\*.pm)\n    to set encoding of selected data to utf8 if needed.\n - 2007-05-07 Added cmd bin/otrs.RebuildConfig.pl to rebuild/build default\n    Kernel/Config/Files/ZZZAAuto.pm based on Kernel/Config/Files/\\*.xml config\n    files.\n - 2007-05-07 Fixed bug#[1787](http://bugs.otrs.org/show_bug.cgi?id=1787) - Problem with cachefilenames of the stats\n    module in win32.\n\n#2.2.0 beta3 2007-05-07\n - 2007-05-04 Fixed bug#[1788](http://bugs.otrs.org/show_bug.cgi?id=1788) - Problem with cachefile in win32.\n - 2007-05-04 Fixed bug#[1773](http://bugs.otrs.org/show_bug.cgi?id=1773) - DB-error in phone ticket if sla but no\n    service is selected.\n - 2007-05-04 Fixed bug#[1035](http://bugs.otrs.org/show_bug.cgi?id=1035) - OTRS does not set encoding for the mysql\n    database connection (i.e. UTF-8).\n - 2007-05-04 Fixed bug#[1778](http://bugs.otrs.org/show_bug.cgi?id=1778) - Config option Database::Connect should be\n    possible.\n - 2007-05-04 Fixed bug#[1611](http://bugs.otrs.org/show_bug.cgi?id=1611) - Now the Statsmodule use the mirror db if\n    configured.\n - 2007-05-02 Fixed bug#[1809](http://bugs.otrs.org/show_bug.cgi?id=1809) - Fixed typo in variable name (PrioritiesStrg -\\>\n    PriotitiesStrg).\n - 2007-04-27 Fixed bug#[1670](http://bugs.otrs.org/show_bug.cgi?id=1670) - If no result the generation of pie graph throws\n    error.\n - 2007-04-26 Added feature to use no BaseDN (or '') for agent and customer\n    authentification (see ticket# 2007030642000446).\n - 2007-04-24 Fixed bug#[1769](http://bugs.otrs.org/show_bug.cgi?id=1769) - If I change the ticket SLA, the history is\n    not relfecting this change.\n - 2007-04-24 Fixed bug#[1768](http://bugs.otrs.org/show_bug.cgi?id=1768) - If I change the ticket service, the history\n    is not relfecting this change.\n\n#2.2.0 beta2 2007-04-16\n - 2007-04-16 Fixed bug#[1448](http://bugs.otrs.org/show_bug.cgi?id=1448) - Apache::Registry in README.webserver wrong,\n    mod\\_perl2 is missing.\n - 2007-04-16 Fixed bug#[1286](http://bugs.otrs.org/show_bug.cgi?id=1286) - apache configuration should use\n    \\<IfModule mod\\_perl.c\\>.\n - 2007-04-16 Fixed bug#[1755](http://bugs.otrs.org/show_bug.cgi?id=1755) - Wrong permissions for some files.\n - 2007-04-16 Fixed bug#[1757](http://bugs.otrs.org/show_bug.cgi?id=1757) - Cannot install postgres db - null value in\n    column \"escalation\\_start\\_time\" violates not-null constraint.\n - 2007-04-16 Fixed bug#[1745](http://bugs.otrs.org/show_bug.cgi?id=1745) - Invalid SQL-statements in AgentTicketQueue\n    view.\n - 2007-04-13 Fixed bug#[1741](http://bugs.otrs.org/show_bug.cgi?id=1741) - \"PostmasterFollowUpStateClosed\" buggy on\n    follow up actions.\n - 2007-04-12 Updated bulgarian translation, thanks to Alex Kantchev!\n - 2007-04-12 Fixed bug#[1748](http://bugs.otrs.org/show_bug.cgi?id=1748) - Session not allowed to be larger than 358400\n    Bytes using IPC. Change max session size from 350k to 2 MB.\n - 2007-04-12 Fixed bug#[1744](http://bugs.otrs.org/show_bug.cgi?id=1744) - Unable to create xml\\_storage table in utf8\n    charset on mysql database.\n - 2007-04-12 Fixed bug#[1739](http://bugs.otrs.org/show_bug.cgi?id=1739) - Unable to insert new SLA via admin-web after\n    upgrade to 2.2.0 beta1.\n - 2007-04-11 Added new Arabic (Saudi Arabia) translation, thanks to\n    Mohammad Saleh!\n\n#2.2.0 beta1 2007-04-02\n - 2007-04-02 Added customer company feature (split of contact and company\n    infos). Need to be activated in CustomerUser config (see\n    Kernel/Config/Defaults.pm).\n - 2007-03-27 Added enhancement #1688 - Backreference in postmaster filter\n    replaces everything, not just the matched backreferenced token.\n - 2007-03-27 Added enhancement #1600 - Adjustable encoding for mails.\n - 2007-03-21 Updated cpan module CGI to version 3.27.\n - 2007-03-20 Added support of new set ticket pending time over X-OTRS-Header\n    X-OTRS-State-PendingTime and X-OTRS-FollowUp-State-PendingTime.\n - 2007-03-20 Rewrite of Kernel::System::User module (cleanup of used params\n    for UserAdd() and UserUpdate()).\n    If you use this API, you need to change your custom implemention!\n    Note If you use UserSyncLDAPMap you need to reconfigure it!\n\nOld:\n\n```perl\n    $Self->{UserSyncLDAPMap} = {\n        # DB -> LDAP\n        Firstname => 'givenName',\n        Lastname => 'sn',\n        Email => 'mail',\n    };\n```\n\nNew:\n```perl\n    $Self->{UserSyncLDAPMap} = {\n        # DB -> LDAP\n        UserFirstname => 'givenName',\n        UserLastname => 'sn',\n        UserEmail => 'mail',\n    };\n```\n - 2007-03-14 Fixed not shown optional ticket free time option fields in\n    customer panel.\n - 2007-03-11 Added enhancement bug#[1102](http://bugs.otrs.org/show_bug.cgi?id=1102) - restore.pl should check for\n    existing tables and stop if already one exists.\n - 2007-03-11 Added enhancement bug#[1664](http://bugs.otrs.org/show_bug.cgi?id=1664) - increase max. WebMaxFileUpload\n    size.\n - 2007-03-08 Improved Prepare() of Kernel::System::DB to fetch also rows\n   between 10 and 30 (with start option of result). For example:\n\n```perl\n   $DBObject->Prepare(\n       SQL => \"SELECT id, name FROM table\",\n       Start => 10,\n       Limit => 20,\n   );\n```\n - 2007-03-08 Improved XML database database backend for \\<Insert\\>. Content\n    in xml attribut is not longer allowed, use the content instead. Now it's\n    also possible to use new lines (\\n) or more lines as content.\n\nOld style:\n\n```xml\n    <Insert Table=\"table_name\">\n        <Data Key=\"name_a\" Value=\"Some Message A.\" Type=\"Quote\"/>\n        <Data Key=\"name_b\" Value=\"Some Message B.\" Type=\"Quote\"/>\n    </Insert>\n```\nNew style:\n\n```xml\n    <Insert Table=\"table_name\">\n        <Data Key=\"name_a\" Type=\"Quote\">Some Message A.</Data>\n        <Data Key=\"name_b\" Type=\"Quote\">Some Message B.</Data>\n    </Insert>\n```\n - 2007-03-08 Moved from scripts/database/initial\\_insert.sql to database depend\n    initial insert files located under scripts/database/otrs-initial\\_insert.\\*.sql.\n    This files are generated from scripts/database/otrs-initial\\_insert.xml.\n    Note: The scripts/database/initial\\_insert.sql exists not longer, use\n    scripts/database/otrs-initial\\_insert.\\*.sql from now on for installations.\n - 2007-03-08 Fixed bug#[1017](http://bugs.otrs.org/show_bug.cgi?id=1017) - script initial\\_insert.sql, ampersand and oracle.\n - 2007-03-08 Fixed enhacement bug#[1668](http://bugs.otrs.org/show_bug.cgi?id=1668) - removed unnecessary dependency for\n    fetchmail from .srpms.\n - 2007-03-07 Added Intro support for .opm format to add intros for packages.\n    For example to add infos where the module can be found, if you need to add\n    some groups to access the module or some other useful stuff.\n    Intro(Install|Reinstall|Upgrade|Uninstall)(Pre|Post) can be used. For more\n    infos see the developer manual in section \"Package Spec File\".\n - 2007-03-07 Fixed bug#[1398](http://bugs.otrs.org/show_bug.cgi?id=1398) - Malformed UTF-8 charaters in Admin Backend -\n    System Log.\n - 2007-03-05 Added Type, Service, SLA as ticket default attribute.\n    Each an be activated by a config setting over SysConfig under\n    Ticket :: Core :: Ticket.\n - 2007-02-15 Improved PGP decryption of files if more the one possible\n    private key exists in the system and one of it is invalid (e. g. no\n    configured password).\n - 2007-02-15 Fixed bug-ticket# 2007020542000593 - Queue refresh \"off\"\n    can't be used on oracle database.\n - 2007-02-15 Add BuildSelection(). This function replaced OptionStrgHashRef(),\n    OptionElement() AgentQueueListOption().\n - 2007-02-12 Added pending time selection feature for generic agent.\n - 2007-02-07 Moved to dtl block in customer ticket zoom view.\n - 2007-02-07 Moved default WebMaxFileUpload config option from 5 MB\n    to 10 MB.\n - 2007-01-31 Fixed Free Field output in AgentTicketForward and\n    AgentTicketPhoneOutbound.\n - 2007-01-30 Added 4 ticket freetime fields and improved freetime function.\n - 2007-01-30 Relocated valid functionality to new Valid.pm to move it\n   out from Kernel/System/DB.pm.\n - 2007-01-18 Added X-OTRS-Lock and X-OTRS-FollowUp-Lock header for\n    PostMaster.\n - 2007-01-17 Relocated agent preferences button.\n - 2007-01-17 Improved freetime feature, unset freetime is now possible by\n    agent and customer GUI.\n - 2007-01-03 Heavy improvement of PerformanceLog feature, show detail\n    view of each frontend module now.\n - 2007-01-03 Added config option for die or log is ldap/radius auth server\n    is not available.\n - 2006-12-21 Improved description of Email- and Phone-Ticket in navigation.\n - 2006-12-21 Added config option to use SystemID in follow up detection or\n    not (Ticket::NumberGenerator::CheckSystemID).\n - 2006-12-21 Added config option for follow-up state of tickets which\n    was was already closed (Ticket::Core::PostMaster::PostmasterFollowUpStateClosed).\n - 2006-12-19 Added config option Ticket::NumberGenerator::CheckSystemID\n    to configure if SystemID is used in follow up detection.\n - 2006-12-14 Removed old compat. CreateTicketNr()/CheckTicketNr() in\n    Kernel/System/Ticket.pm and Kernel/System/Ticket/Number/\\*.pm - so\n    old ticket number generator not longer compat. to OTRS 2.1.\n - 2006-12-13 Moved config option setting SessionMaxTime from 10h to 14h.\n - 2006-12-13 Added auth and customer password crypt backend for crypt(),\n    md5() and plain().\n - 2006-12-13 Added multi auth feature of agent and customer backend.\n - 2006-12-13 Added feature to configure password crypt type of agent and\n    customer auth backend modules.\n - 2006-12-13 Added feature to match only exact email addresses of incoming\n    emails in PostMaster filter like \"From: EMAILADDRESS:someone@example.com\".\n    This only will match for email addresses like 'someone@example.com',\n    'aaa.someone@example.com' will not match! This was a problem if you use\n    normal \"From: someone@example.com\" match.\n - 2006-12-13 Added config option for online agent and customer module to\n    show/not show email addresses of people (SysConfig: Framework\n    Frontend::Agent::ModuleNotify and Frontend::Customer::ModuleNotify).\n - 2006-12-13 Moved config option PostMasterPOP3MaxEmailSize default 6 MB\n    to 12 MB.\n\n#2.1.9 2010-02-08\n - 2010-02-04 Fixed SQL quoting issue (see also\n    http://otrs.org/advisory/OSA-2010-01-en/).\n - 2008-02-06 Fixed bug#[2491](http://bugs.otrs.org/show_bug.cgi?id=2491) - OTRS crash's after initial login on fresh\n    installation on fedora 7, fedora 8, altlinux and ActiveState Perl on win32.\n\n#2.1.8 2008-03-31\n - 2007-08-03 Fixed bug#[2134](http://bugs.otrs.org/show_bug.cgi?id=2134) - PDF print is creating damaged pdf files with\n    PDF::API2 0.56 or smaller.\n - 2007-07-26 fixed bug#[2046](http://bugs.otrs.org/show_bug.cgi?id=2046) - german Umlauts not printed in PDFs if system\n    runs in utf-8 mode. The PDF::API2 corefonts (which are used as default)\n    doesn't support UTF-8. Changed the used fonts from PDF::API2 corefonts to\n    the DejaVu true type fonts. Add config options to use other true type fonts.\n - 2007-05-31 fixed bug#[1926](http://bugs.otrs.org/show_bug.cgi?id=1926) - package manager ignore PackageRequired tags\n    in OPM files.\n\n#2.1.7 2007-04-05\n - 2007-04-05 fixed bug#[1551](http://bugs.otrs.org/show_bug.cgi?id=1551) - decode\\_mimewords() in ArticleWriteAttachment()\n    dies due to utf-8\n - 2007-03-27 updated Kernel/Language/pt\\_BR.pm translation file - Thanks\n    to Fabricio Luiz Machado!\n - 2007-03-14 fixed bug#[1650](http://bugs.otrs.org/show_bug.cgi?id=1650) - crypt/sign bug in AgentTicketCompose screen\n - 2007-03-14 fixed bug#[1659](http://bugs.otrs.org/show_bug.cgi?id=1659) - Uploading and Saving Pictures in MSSQL won't\n    work with bigger Files (~700KB)\n    ->MSSQL ONLY<- You also need to change some tables by using: ->MSSQL ONLY<-\n\n```sql\n        ALTER TABLE web_upload_cache ALTER COLUMN content TEXT NOT NULL;\n        ALTER TABLE article_plain ALTER COLUMN body TEXT NOT NULL;\n        ALTER TABLE article_attachment ALTER COLUMN content TEXT NOT NULL;\n        ALTER TABLE article ALTER COLUMN a_body TEXT NOT NULL;\n        ALTER TABLE standard_response ALTER COLUMN text TEXT NOT NULL;\n        ALTER TABLE standard_attachment ALTER COLUMN content TEXT;\n        ALTER TABLE sessions ALTER COLUMN session_value TEXT;\n        ALTER TABLE xml_storage ALTER COLUMN xml_content_value TEXT;\n        ALTER TABLE package_repository ALTER COLUMN content TEXT NOT NULL;\n```\n - 2007-03-12 fixed upload cache problem in win32 .pdf files\n - 2007-03-12 fixed bug#[1228](http://bugs.otrs.org/show_bug.cgi?id=1228) - Apostrophe not valid in email address.\n - 2007-03-12 fixed bug#[1442](http://bugs.otrs.org/show_bug.cgi?id=1442) and 1559 - ArticleFreeKey and ArticleFreeText\n    default selection does not work.\n - 2007-03-12 fixed ticket# 2007031242000149 - session backend fails to insert\n    sessions bigger the 4k on oracle database backend\n - 2007-03-11 fixed bug#[1671](http://bugs.otrs.org/show_bug.cgi?id=1671) - restore.pl fails with \"Got no LogObject\"\n - 2007-03-11 fixed bug#[1115](http://bugs.otrs.org/show_bug.cgi?id=1115) - HTML error in NewTicket Customer's interface.\n - 2007-03-08 fixed bug#[1658](http://bugs.otrs.org/show_bug.cgi?id=1658) - Subqueues of Queues with brackets are not\n    shown in the QueueView\n - 2007-03-08 added rpm packages for Fedora Core 4, 5 and 6 to auto build\n    service\n - 2007-03-05 fixed ticket# 2007022342000586 - attachment problem with oracle\n    backend if utf-8 is used\n - 2007-03-05 fixed database driver if 0 is used in begining of an xml insert\n\n#2.1.6 2007-03-02\n - 2007-03-02 fixed bug#[1504](http://bugs.otrs.org/show_bug.cgi?id=1504) - Ticket Creation fails with DB2 due to\n    character quoting issues\n - 2007-03-02 fixed bug#[1506](http://bugs.otrs.org/show_bug.cgi?id=1506) - Error creating Tickets in DB2 due to conflict\n    in string/numerical comparison\n - 2007-03-02 fixed bug#[1445](http://bugs.otrs.org/show_bug.cgi?id=1445) - OTRS is not encoding Umlauts correctly in\n    Organization email header\n - 2007-03-02 fixed bug#[1548](http://bugs.otrs.org/show_bug.cgi?id=1548) - submitting AgentTicketPhone or\n    AgentTicketEmail form without queueid leads to broken fields\n - 2007-02-27 fixed bug#[1581](http://bugs.otrs.org/show_bug.cgi?id=1581) - Garbled paths containing domain names\n - 2007-02-27 updated Mail::Tools from 1.60 to 1.74 - fixed bug#[1642](http://bugs.otrs.org/show_bug.cgi?id=1642) -\n    Cant get mails via PostmasterPop3.pl - Unrecognised line\n - 2007-02-27 fixed bug#[1545](http://bugs.otrs.org/show_bug.cgi?id=1545) - Wrong Variableusage in $Self-\\>{PageShown}\n    (Kernel/Modules/AgentTicketMailbox.pm)\n - 2007-02-26 fixed bug#[1291](http://bugs.otrs.org/show_bug.cgi?id=1291) - Download link in SysConfig skips config\n    options -\\> now download link will be shown if no changes are done\n - 2007-02-26 fixed bug#[1097](http://bugs.otrs.org/show_bug.cgi?id=1097) - Disabling Bounce Feature via SysConfig does\n    not work properly\n - 2007-02-26 fixed ticket #2007022242000293 hard line rewrap of body content\n    in frontend modules\n - 2007-02-26 improved speed of SysConfig core module, added cache mechanism\n    (it's about 2 times faster)\n - 2007-02-22 fixed ticket #2007022042000288 - error on creating postmaster\n    filter on oracle database\n - 2007-02-20 fixed not working crypt/sign option in AgentTicketCompose mask\n - 2007-02-20 fixed bug#[980](http://bugs.otrs.org/show_bug.cgi?id=980) - Use of uninitialized value in\n    Kernel/System/AuthSession/FS.pm\n - 2007-02-15 changed unlock time reset mechanism, added unlock time reset\n    if a agent sends an external message to the customer (like escalation\n    reset mechanism)\n - 2007-02-09 fixed bug in \\_XMLHashAddAutoIncrement() - function could not\n    return keys greater than '9'.\n - 2007-02-02 fixed bug#[1056](http://bugs.otrs.org/show_bug.cgi?id=1056) - UTF-8 mode of OTRS and German Umlaute within\n    agent's name\n - 2007-02-02 fixed bug#[1505](http://bugs.otrs.org/show_bug.cgi?id=1505) - UserSyncLDAPMap fails with LDAP.pm version\n    1.26 and up\n - 2007-01-30 fixed ticket\\_watcher.user\\_id datatype, moved from BIGINT to\n    INTEGER\n - 2007-01-30 fixed oracle driver for xml alter table actions\n - 2007-01-30 improved \\_CryptedWithKey() - private key detection of\n    Kernel/System/Crypt/PGP.pm if more keys are used for crypted messages\n - 2007-01-26 fixed ArticleFreeText output in CustomerTicketZoom mask\n - 2007-01-26 fixed bug in agent- and customer-ticket print feature\n\n#2.1.5 2006-01-25\n - 2007-01-25 fixed ignored ticket responible in phone ticket\n - 2007-01-18 fixed DestinationTime() if calendar feature is used\n - 2007-01-17 fixed not working freetime fields\n - 2007-01-11 fixed not working time selection if time zone feature is used\n - 2007-01-08 fixed not working email notification tags in auto response,\n    agent and customer email notifications\n - 2007-01-08 fixed case sensitive of customer user login and agent user\n    login in Kernel/System/User.pm and Kernel/System/CustomerUser/DB.pm if\n    oracle or postgresql is used\n - 2007-01-08 fixed quoting in user selection if + is used in UserLogin in\n    Kernel/Output/HTML/Standard/AdminCustomerUserForm.dtl\n - 2006-12-17 fixed bug#[1532](http://bugs.otrs.org/show_bug.cgi?id=1532) - utf-8 charsetproblems in stats\n - 2006-12-15 fixed bug#[1446](http://bugs.otrs.org/show_bug.cgi?id=1446) - No \"(Ticket unlock!)\" link in\n    AgentTicketCompose\n - 2006-12-14 fixed customer ldap auth if system is iso-8859 and ldap server\n    is running in utf-8\n - 2006-12-14 fixed not working Kernel/System/DB/db2.pm (syntax error)\n\n#2.1.4 2006-12-13\n - 2006-12-13 fixed not working free time selection in AgentTicketClose,\n    AgentTicketNote, AgentTicketOwner, AgentTicketPending, AgentTicketPriority\n    and AgentTicketResponsible\n - 2006-12-11 added config param for shown my queues/custom queues\n    in preferences, default are shown all ro queues, see also\n    PreferencesGroups###CustomQueue under Frontend::Agent::Preferences\n - 2006-12-11 fixed ldap sync of agents attributes - invalid agents\n    are not longer synced to valid if ldap auth was successfully, the\n    invalid agent will still be invalid\n - 2006-12-11 fixed bug#[1187](http://bugs.otrs.org/show_bug.cgi?id=1187) - Escalation Notifications sent to invalid agent\n - 2006-12-11 improved link quote of long links in web interface\n - 2006-12-11 fixed bug#[962](http://bugs.otrs.org/show_bug.cgi?id=962) - Broken attachments with cyrillic filenames\n - 2006-12-08 fixed bug#[1521](http://bugs.otrs.org/show_bug.cgi?id=1521) - Merge Feature\n - 2006-12-08 fixed bug#[1523](http://bugs.otrs.org/show_bug.cgi?id=1523) - update of FreetextValues 9-16 not working\n - 2006-12-08 fixed bug#[1524](http://bugs.otrs.org/show_bug.cgi?id=1524) - ticketFreeText Fields 9-16 not displayed\n    at CustomerTicketPrint and CustomerTicketZoom\n - 2006-12-07 fixed bug#[1359](http://bugs.otrs.org/show_bug.cgi?id=1359) - acl problem if '' is used in properties to match\n - 2006-12-07 fixed bug#[1031](http://bugs.otrs.org/show_bug.cgi?id=1031) - scripts/backup.pl fails in mysqldump with\n    encrypted database password\n - 2006-12-07 fixed bug#[1378](http://bugs.otrs.org/show_bug.cgi?id=1378) - Got no MainObject! in bin/otrs.getTicketThread\n - 2006-12-07 fixed bug#[1200](http://bugs.otrs.org/show_bug.cgi?id=1200) - not working TicketACL actions AgentTicketCompose,\n    AgentTicketBounce, AgentTicketForward and AgentTicketPhoneOutbound\n - 2006-12-07 added log notice for switch to user admin feature\n - 2006-12-07 fixed bug#[1210](http://bugs.otrs.org/show_bug.cgi?id=1210) - wrong calculation of Kernel::System::Time\n    WorkingTime()\n - 2006-12-06 added changes notice of generic agent jobs to log sub\n    system (to keep clear who changed the job)\n - 2006-12-05 moved ticket number generator loop check from 1000 to 6000\n    (Kernel/System/Ticket/Number/\\*.pm)\n - 2006-11-30 fixed not working faq lookup in compose answer and forward\n    screen\n - 2006-11-30 fixed double quoted \"$Quote{\"Cc: (%s) added database email!\"\"}\n    in compose answer screen (Kernel/Modules/AgentTicketCompose.pm)\n - 2006-11-30 fixed bug#[1498](http://bugs.otrs.org/show_bug.cgi?id=1498) - Typo in QuoteSingle, Kernel/System/DB/mssql.pm\n - 2006-11-30 moved Quote() from Kernel/System/DB.pm to db backend modules\n    Kernel/System/DB/\\*.pm because of needed Quote() in xml processing\n - 2006-11-23 improved handling if there are double customer users in\n    the database used by search result\n - 2006-11-22 fixed PGP/SMIME bug - Can't call method \"body\" on an undefined\n    value at Kernel/System/EmailParser.pm line 382\n - 2006-11-22 fixed bug#[1395](http://bugs.otrs.org/show_bug.cgi?id=1395) - utf-8 - ArticleStorage FS - Attachments with\n    German Umlauts cant be downloaded\n - 2006-11-17 added config option Ticket::PendingNotificationOnlyToOwner\n    to send reached reminder notifications of unlocked tickets only to ticket\n    owner\n - 2006-11-17 fixed database driver detection/problem if a second database\n    connect with different driver is used (wrong sql will not longer be\n    generated) Note: old database driver files Kernel/System/DB/\\*.pm\n    not longer compatible\n - 2006-11-17 added config option Ticket::ResponsibleAutoSet to set owner\n    automatically as responsible if no responsible is set (default is 1)\n\n#2.1.3 2006-11-15\n - 2006-11-15 removed not needed Reply-To of agent notifications\n - 2006-11-15 fixed missing \\n on csv output of customer ticket search\n - 2006-11-15 fixed not working ticket free time option in phone ticket\n - 2006-11-15 added missing access permission pre check to show ticket menu\n    items or not\n - 2006-11-15 fixed bug - not shown empty \"-\" selection of new onwer if on\n    move if Ticket::ChangeOwnerToEveryone is set\n - 2006-11-10 update of Dansk language file, thanks to Mads N. Vestergaard\n - 2006-11-10 update of Spanish language file, thanks to Jorge Becerra\n - 2006-11-09 added AuthModule::HTTPBasicAuth::Replace and\n    Customer::AuthModule::HTTPBasicAuth::Replace config option to HTTPBasicAuth\n    modules to strip e. g. domains like example\\_domain\\user from login down to user\n - 2006-11-09 added AuthModule::LDAP::UserLowerCase to allways convert\n     usernames into lower case letters\n - 2006-11-07 added set auto time zone of agent/customer based on java script\n    offset feature on every login\n - 2006-11-07 fixed not working all owner/responsible selection in phone view\n - 2006-11-07 read out CustomerUserSearchListLimit correctly if LDAP customer\n    backend is in use\n - 2006-10-27 fixed always shown responsible selection\n - 2006-10-27 removed not needed default free text fields from phone outbound\n - 2006-10-26 fixed agent can be customer follow up feature\n - 2006-10-26 added possible - selection for next state in phone view outbount\n - 2006-10-20 fixed LDAP problems \"First bind failed! No password, did you\n    mean noauth or anonymous ?\"\n - 2006-10-19 fixed double agent notifications on ticket move to queue\n    and also selected owner\n\n#2.1.2 2006-10-18\n - 2006-10-13 switched to md5 check sum for password in user\\_preference table\n - 2006-10-12 fixed #1373 - RH RPM requires sendmail, but works with other MTAs\n - 2006-10-12 fixed double agent notifications on follow up if agent is\n    owner and responible\n - 2006-10-12 fixed bug#[1311](http://bugs.otrs.org/show_bug.cgi?id=1311) - Apostrophes are incorrectly displayed under\n    IE 6 & IE7 but correctly displayed under Firefox 1.5.0.6  -=\\>\n    moved from $Text{} to $JSText{} for text translations in Java Script parts\n    to have a correct quoting\n - 2006-10-11 fixed not shown follow up feature in customer panel if ticket\n     is closed\n - 2006-10-09 added missing customer print feature\n - 2006-10-05 fixed bug#[1361](http://bugs.otrs.org/show_bug.cgi?id=1361) - Can't locate object method \"ModGet\" via\n    package \"Kernel::System::Config\"\n\n#2.1.1 2006-10-05\n - 2006-10-05 fixed bug#[1213](http://bugs.otrs.org/show_bug.cgi?id=1213) - some errors not logger by LDAP backends\n - 2006-10-05 fixed bug#[1248](http://bugs.otrs.org/show_bug.cgi?id=1248) - Ticket Zoom - Article Thread - Color of auto\n    responses should be yellow\n - 2006-10-05 fixed bug#[1323](http://bugs.otrs.org/show_bug.cgi?id=1323) - 2.1 DBUpgrade issue with PostgreSQL - patch\n - 2006-10-05 fixed bug#[1333](http://bugs.otrs.org/show_bug.cgi?id=1333) - No reset of escalation time after follow-up\n - 2006-10-05 fixed bug#[1345](http://bugs.otrs.org/show_bug.cgi?id=1345) - Attached binary files uploaded and saved to\n    the FS are corrupted.\n - 2006-09-30 add ticketfreetext-, ticketfreetime- and articlefreetext support\n    to pdf output\n - 2006-09-28 improved stats export/import with an id-name wrapper\n - 2006-09-28 fixed bug#[1353](http://bugs.otrs.org/show_bug.cgi?id=1353)/1354 changed autoreponse text\n - 2006-09-27 add transparency to some images\n - 2006-09-27 fixed bug#[1358](http://bugs.otrs.org/show_bug.cgi?id=1358) - Customer History \\> All customer tickets.\n    returns an incorrect number of tickets\n - 2006-09-27 fixed bug#[1293](http://bugs.otrs.org/show_bug.cgi?id=1293) - Can't use an undefined value as a HASH\n    reference at /opt/otrs/bin/cgi-bin//../../Kernel/Modules/AgentTicketBulk.pm\n    line 194\n - 2006-09-27 fixed bug#[1356](http://bugs.otrs.org/show_bug.cgi?id=1356) - mssql driver bug - Stats module of OTRS 2.1\n    beta 2 - \"Cant use string (\"0\")\".\n - 2006-09-27 fixed bug#[1335](http://bugs.otrs.org/show_bug.cgi?id=1335) - removed \"uninitialized value\" warning in\n    NavBarTicketWatcher.pm\n - 2006-09-22 fixed opm check do not install/upgrade packages if one file to\n    install already exists in an other package\n - 2006-09-22 added \"-a exportfile\" feature to bin/opm.pl to export files\n    of a package into a defined directory e. g. \"-d /path/to/\"\n - 2006-09-21 removed Re: from agent notification emails\n - 2006-09-14 added change to remove 4 not needed empty spaces after folding\n    of email headers (sometimes 4 empty spaces in subject appear)\n - 2006-09-09 updated pdf-logo to ((otrs))\n - 2006-09-09 added DBUpdate-to-2.1.oracle.sql to get oracle databases up to\n    date\n - 2006-09-05 fixed double sending of note notifications\n - 2006-09-05 fixed link to email and phone after adding a new customer user\n - 2006-09-01 added fix to removed leading and trailing spaces in search\n    fields of object linking\n\n#2.1.0 beta2 2006-08-29\n - 2006-08-29 moved Frontend::ImagePath variable\n   (/otrs-web/images/Standard/) from .dtl files to config option\n - 2006-08-28 added examples how to use SOAP (bin/cgi-bin/rpc.pl and\n    scripts/rpc-example.pl)\n - 2006-08-27 added mulit calendar / queue support - you can use different\n    time zones in different queues and each agent can select the own time zone\n    NOTE: table queue need to be modified - see scripts/DBUpdate-to-2.1.\\*.sql\n - 2006-08-27 fixed bug#[739](http://bugs.otrs.org/show_bug.cgi?id=739) - in the login you can type something behind the\n    pass and it works / added password md5 support (required Crypt::PasswdMD5\n    from CPAN or from Kernel/cpan-lib/ - via \"cvs update -d\")\n - 2006-08-26 fixed $Quote{\"\"} bug in login page\n - 2006-08-25 fixed bug#[1284](http://bugs.otrs.org/show_bug.cgi?id=1284) - removed mysql dependence in\n    scripts/apache-perl-startup.pl and scripts/apache2-perl-startup.sql\n - 2006-08-25 fixed bug#[1282](http://bugs.otrs.org/show_bug.cgi?id=1282) - setting up a postgresql database fails\n - 2006-08-24 added performance log feature in admin interface to monitor\n    your system page load performance over different times (1h, 3h, 9h, 1d, 2d,\n    3d) - its disabled per default\n - 2006-08-24 removed Re: in subject auto response emails\n - 2006-08-22 added PDF output support to AgentTicketPrint module\n - 2006-08-21 fixed bug in pdf module - redesiged Table() to fix a lot of\n    infinite loops\n - 2006-08-08 fixed bug in pdf module - special control characters produces\n    infinite loops\n - 2006-08-02 added ldap attribute to groups/roles sync feature, so its\n    possible to use user attributes for permission handling\n - 2006-08-02 fixed bug#[1283](http://bugs.otrs.org/show_bug.cgi?id=1283) - test for modules executed in cronjobs\n\n#2.1.0 beta1 2006-08-02\n - 2006-07-31 added cmd option for bin/opm.pl to find package of file\n    e. g. bin/opm.pl -a file -p Kernel/System/FileA.pm\n - 2006-07-31 added sleep in bin/PostMasterPOP3.pl after 10 (2 sec) and\n    25 (3 sec) emails on one stream (protect server against overload)\n - 2006-07-31 added PDF output feature for stats module and ticket search results\n - 2006-07-26 updated to cpan MIME::Tools 5.420\n - 2006-07-26 changed ticket escalation method, escalation start will\n    be reseted after every \"new\" customer message and after agent\n    communication to customer\n - 2006-07-25 added new link object functions and db table link\\_object changes\n - 2006-07-23 added \\<OTRS\\_CUSTOMER\\_DATA\\_\\*\\> tags to auto responses\n - 2006-07-23 added support of mssql database server (experimental)\n - 2006-07-18 added new feature to sync ldap groups into otrs roles\n    (see more in Kernel/Config/Defaults.pm under UserSyncLDAPGroupsDefination\n    and UserSyncLDAPRolesDefination)\n - 2006-07-14 new stats framework implemented :-)\n - 2006-07-14 fixed bug#[1258](http://bugs.otrs.org/show_bug.cgi?id=1258) - changed language description from Traditional Chinese\n    to Simplified Chinese\n - 2006-07-04 fixed bug#[1151](http://bugs.otrs.org/show_bug.cgi?id=1151) - Error when changing customer on ticket in\n - 2006-07-11 improved performance of ticket search mask (in cases with\n    over 500 Agents and over 50 Groups) by adding GroupMemberInvolvedList()\n    and modify GroupMemberList(), GroupGroupMemberList(), GroupRoleMemberList()\n    and GroupUserRoleMemberList() at Kernel/System/Group.pm\n - 2006-07-11 fixed bug#[1132](http://bugs.otrs.org/show_bug.cgi?id=1132) - Wrong display of escalation time\n - 2006-07-04 fixed bug#[1151](http://bugs.otrs.org/show_bug.cgi?id=1151) - Error when changing customer on ticket in\n    TicketStatusView\n - 2006-06-26 added ticket watcher feature, per default it's disabled\n - 2006-06-22 fixed bug#[1240](http://bugs.otrs.org/show_bug.cgi?id=1240) - Tickets not shown in \"New messages\" if\n    Auto Response \"Reply\" is active\n - 2006-06-14 fixed bug#[1206](http://bugs.otrs.org/show_bug.cgi?id=1206) - When no RELEASE file is available, no\n    product and version is displaied and strange messages apear in the\n    apache error log;  using standard values in this case now\n - 2006-06-13 added public frontend module to serve local repository as\n    remote repository (accessable via IP authentication)\n - 2006-06-13 fixed bug#[1154](http://bugs.otrs.org/show_bug.cgi?id=1154) - Problem in displaying pending tickets\n    in agent mailbox\n - 2006-06-07 improved postmaster follow up detection by scanning email\n    body, attachment and/or raw email (all is disabled by default)\n - 2006-06-02 fixed bug#[1023](http://bugs.otrs.org/show_bug.cgi?id=1023) - Comma in From field creates multiple emails\n    in webform.pl\n - 2006-04-27 fixed IE problem with image-buttons\n    involved files: AdminSysConfigEdit.dtl and AdminSysConfig.pm\n - 2006-04-26 fixed format bug in Package Manager - PackageView\n - 2006-04-06 moved to read any language files located under\n    Kernel/Language/xx\\_\\*.pm at each request to have any translated words\n    e. g. for navigation bar available (Kernel/Language/xx\\_Custom.pm is\n    still used as latest source file)\n - 2006-03-28 added config option to show ticket title in main header\n    of frontend (e. g. QueueView, ZoomView and Mailbox)\n - 2006-03-24 moved from \"otrs\" to \"otrs-x.x.x\" directory in\n    tar.gz / tar.bz download format\n - 2006-03-22 added article free text attrubutes\n - 2006-03-21 moved from Kernel::Output::HTML::Generic to\n    Kernel::Output::HTML::Layout - all sub modules localted under\n    Kernel/Output/HTML/Layout\\*.pm will ne loaded automatically\n    at runtime\n - 2006-03-20 improved ticket zoom to shown attachments with\n    html title about attachment info (name, size, ...)\n - 2006-03-20 added use of current config values in admin sysconfig\n    fulltext search\n - 2006-03-11 fixed some spelling mistakes for the English original in\n    language templates and language files\n - 2006-03-10 added admin init (Kernel/Modules/AdminInit.pm) to init\n    config files .xml-\\>.pm after a new setup (after initial root login)\n - 2006-03-04 splited Kernel::Modules::AgentTicketPhone into\n    two modules Kernel::Modules::AgentTicketPhone and\n    Kernel::Modules::AgentTicketPhoneOutbound (phone calls for existing\n    tickets) also templates are renamed!\n - 2006-03-04 cleanup for ticket event names (added compat mode):\n    TicketCreate, TicketDelete, TicketTitleUpdate, TicketUnlockTimeoutUpdate,\n    TicketEscalationStartUpdate, TicketQueueUpdate (MoveTicket),\n    TicketCustomerUpdate (SetCustomerData), TicketFreeTextUpdate\n    (TicketFreeTextSet), TicketFreeTimeUpdate (TicketFreeTimeSet),\n    TicketPendingTimeUpdate (TicketPendingTimeSet), TicketLockUpdate (LockSet),\n    TicketStateUpdate (StateSet), TicketOwnerUpdate (OwnerSet),\n    TicketResponsibleUpdate, TicketPriorityUpdate (PrioritySet), HistoryAdd,\n    HistoryDelete, TicketAccountTime, TicketMerge, ArticleCreate,\n    ArticleFreeTextUpdate (ArticleFreeTextSet), ArticleUpdate, ArticleSend,\n    ArticleBounce, ArticleAgentNotification, (SendAgentNotification),\n    ArticleCustomerNotification (SendCustomerNotification), ArticleAutoResponse\n    (SendAutoResponse), ArticleFlagSet\n - 2006-03-04 added own X-OTRS-FollowUp-\\* header if Queue, State, Priority,\n    ...  should be changed with follow up emails (see: doc/X-OTRS-Headers.txt)\n - 2006-03-04 reworked \"config options\" and \"interface\" of \\_all\\_ agent\n    ticket interfaces to get is clear\n - 2006-03-03 replaced ticket config option \"Ticket::ForceUnlockAfterMove\"\n    with ticket event module \"Ticket::EventModulePost###99-ForceUnlockOnMove\"\n - 2006-03-03 replaced ticket config option \"Ticket::ForceNewStateAfterLock\"\n    with ticket event module \"Ticket::EventModulePost###99-ForceStateChangeOnLock\"\n - 2006-03-03 added \"responsible\" ticket feature!\n    (db update with scripts/DBUpdate-to-2.1.(mysql|postgres).sql)\n - 2006-03-03 added persian translation (incl. TextDirection support)\n    - Thanks to Amir Shams Parsa!\n - 2006-02-16 added default ticket event module to reset ticket owner\n    after move action (it's disable per default)\n - 2006-02-10 added default next state in ticket forward\n - 2006-02-10 added OTRS\\_Agent\\_\\* tags like OTRS\\_Agent\\_UserFirstname and\n    OTRS\\_Agent\\_UserLastname for salutation and signature templates\n - 2006-02-05 added update and insert via admin sql box\n - 2006-02-05 'removed old compat files' Kernel/Config/Files/Ticket.pm\n    and Kernel/Config/Files/TicketPostMaster.pm\n - 2006-02-05 added 8 more ticket free text fields\n    (db update with scripts/DBUpdate-to-2.1.(mysql|postgres).sql)\n - 2006-01-07 added SendNoNotification option for MoveTicket(),\n    LockSet() and OwnerSet() in Kernel/System/Ticket.pm (used in\n    GenericAgent to do some admin stuff).\n - 2005-12-29 added online repository access for bin/opm.pl\n - 2005-12-29 added Delete and Spam config option to\n    Kernel/Config/Files/Ticket.xml for Ticket::Frontend::MenuModule\n - 2005-12-21 added column type check in xml database defination\n - 2005-12-20 added unit test system\n - 2005-12-17 improved admin view of session management\n - 2005-12-04 moved FAQ from framework to own application module\n    (can be installed over opm online repository now)\n - 2005-11-27 moved otrs archive directory for download and in RPMs\n    from otrs to otrs-x.x.x\n - 2005-11-20 added multi pre application module support, just\n    define it like:\n```\n    $Self->{PreApplicationModule}->{AgentInfo} = 'Kernel::Modules::AgentInfo';\n```\n\n#2.0.5 2007-05-22\n - 2007-05-22 fixed bug#[1842](http://bugs.otrs.org/show_bug.cgi?id=1842) - Cross-Site Scripting Vulnerability\n - 2007-01-11 fixed bug#[1515](http://bugs.otrs.org/show_bug.cgi?id=1515) - Some GenericAgent names don't work\n    (e. g. names with +)\n - 2007-01-11 fixed bug#[1496](http://bugs.otrs.org/show_bug.cgi?id=1496) - GenericAgent: \"Ticket created last...\"\n    does not work\n - 2006-07-11 fixed bug#[1132](http://bugs.otrs.org/show_bug.cgi?id=1132) - Wrong display of escalation time\n - 2006-07-11 added missing utf-8 encoding in agent and customer auth\n - 2006-07-11 added missing utf-8 encoding customer user backend\n - 2006-07-04 changed language description from Traditional Chinese to\n    Simplified Chinese (bug#[1258](http://bugs.otrs.org/show_bug.cgi?id=1258))\n - 2006-07-04 fixed bug#[1151](http://bugs.otrs.org/show_bug.cgi?id=1151) - Error when changing customer on ticket in\n    TicketStatusView\n - 2006-06-17 fixed bug#[1240](http://bugs.otrs.org/show_bug.cgi?id=1240) - Tickets not shown in \"New messages\" if\n    Auto Response \"Reply\" is active\n - 2006-06-14 fixed bug#[1206](http://bugs.otrs.org/show_bug.cgi?id=1206) - When no RELEASE file is available, no\n    product and version is displaied and strange messages apear in the\n    apache error log;  using standard values in this case now\n - 2006-06-13 fixed bug#[1154](http://bugs.otrs.org/show_bug.cgi?id=1154) - Problem in displaying pending tickets\n    in agent mailbox\n - 2006-06-02 fixed bug#[1023](http://bugs.otrs.org/show_bug.cgi?id=1023) - Comma in From field creates multiple emails\n    in webform.pl\n - 2006-03-24 added SUSE 10.x RPM support\n - 2006-03-24 fixed bug#[925](http://bugs.otrs.org/show_bug.cgi?id=925) - Binary Attachments incorrectly utf-8\n    encoded in ticket replies\n - 2006-03-23 fixed links to new phone/email ticket after a new\n    customer is created via Kernel/Modules/AdminCustomerUser.pm\n - 2006-03-21 update of Portuguese language file  - Thanks to\n    Manuel Menezes de Sequeira)\n - 2006-03-18 added Greek translation - Thanks to Stelios Maistros!\n - 2006-03-16 fixed bug#[991](http://bugs.otrs.org/show_bug.cgi?id=991) - changed $Data{} to $QData{} in Ticket.xml\n    and Ticket.pm config files to solve problem when answering requests\n    that contain HTML tags\n - 2006-03-16 updated Dutch language file - Thanks to Richard Hinkamp!\n - 2006-03-16 added Slovak translation\n - 2006-03-10 fixed/removed die in Kernel/System/AuthSession/FS.pm\n    -=\\> GetSessionIDData() - not wanted to die if nn SessionID is given\n - 2006-03-08 added Danish translation - Thanks to Thorsten Rossner!\n - 2006-03-08 updated Norwegian translation - Thanks to Knut Haugen\n - 2006-03-08 fixed some spelling mistakes for the English original in\n    language templates and language files\n - 2006-02-12 updated Brazilian Portuguese translation -Thanks to\n    Fabricio Luiz Machado!\n - 2006-02-01 fixed missing translation after new ticket was created\n - 2006-02-01 added long month translation for calendar popup\n - 2006-02-01 changed Kernel/System/Spelling.pm to work with (a|i)spell\n    on Windows systems\n - 2006-01-30 added \\<OTRS\\_TICKET\\_\\*\\> and \\<OTRS\\_CONFIG\\_\\*\\> support to\n    auto respons templates\n - 2006-01-29 fixed/removed wrong config option\n    \"Ticket::Frontend::QueueSortDefault\", added own config option for\n    StatusView of tickets\n - 2006-01-29 fixed bug#[1047](http://bugs.otrs.org/show_bug.cgi?id=1047) forward fails if \" is in From\n - 2006-01-29 fixed ldap authentication if application charset is\n    e. g. iso-8859-1 and not utf-8\n - 2006-01-26 fixed some spelling mistakes in\n    Kernel/Config/Files/Ticket.xml and Kernel/Config/Files/Framework.xml\n - 2006-01-24 Added X-Spam-Level to config files to have the possibility\n     to filter for this header with PostMasterFilter\n - 2006-01-23 fixed bug#[1069](http://bugs.otrs.org/show_bug.cgi?id=1069) - Problem when the name of a GenericAgent\n    job was updated\n - 2006-01-08 fixed PostMaster filter admin interface if wrong syntax\n    regexp is used (don't save invalid regexp because no email can be\n    received)\n - 2006-01-07 added bin/CheckSum.pl and also ARCHIVE file to include\n    md5 sum archive of current distribution\n - 2006-01-07 improved PostMaster if no article can be created\n - 2005-12-29 fixed internal server error if in sysconfig search\n     is used\n - 2005-12-29 fixed \"enter\" submit bug in sysconfig (e. g. reset first\n    item in the edit site)\n - 2005-12-29 fixed ArticleAttachmentIndex() - wrong index count in\n    fs lookup - attachment icons sometimes not shown\n - 2005-12-29 added added missing class=\"button\" in submit type=\"submit\"\n    of .dtl templates\n - 2005-12-27 fixed default note-type and default state-type in ticket\n    pending mask\n - 2005-12-23 fixed stats/graph error message 'Can't call method \"png\"\n    on an undefined value at ...'\n - 2005-12-21 fixed missing delete on time\\_accounting in\n    Kernel/System/Ticket/Article.pm if article got deleted\n - 2005-12-20 improved die if xml is invalid in Kernel/System/XML.pm\n - 2005-12-12 added compat config option for compose answer to\n    replace original sender with current customers email address\n - 2005-11-19 updated French language file, thanks to Yann Richard\n - 2005-12-04 fixed bug#[1025](http://bugs.otrs.org/show_bug.cgi?id=1025) - ORA-01400: cannot insert NULL into (\"OTRS\"\n    .\"CUSTOMER\\_USER\".\"COMMENTS\"\n - 2005-12-04 fixed bug#[1018](http://bugs.otrs.org/show_bug.cgi?id=1018) - initial\\_insert.sql, oracle error ORA-01400:\n    cannot insert NULL into\n - 2005-12-03 fixed std attachment feature (no attachment after\n    additional fiel upload) in agent ticket compose\n - 2005-12-01 improved database Quote() for integer, also allow +|-\n    in integer\n - 2005-11-30 fixed order of create attributes (TicketCreate(), TicketFreeTime(),\n    TicketFreeTime(), ArticleCreate(), ...) on customer ticket creation\n - 2005-11-29 fixed bug#[1010](http://bugs.otrs.org/show_bug.cgi?id=1010) - ORA-00972 Identifier is too long for oracle\n - 2005-11-29 fixed bug#[1011](http://bugs.otrs.org/show_bug.cgi?id=1011) - ORA-01408: such column list already indexed,\n    Oracle error\n - 2005-11-24 fixed wrong follow up notification (to all agents)\n    via customer panel if ticket is already closed\n - 2005-11-19 updated Dutch language file, thanks to Richard Hinkamp\n - 2005-11-15 fixed not working -r option in scripts/backup.pl\n    (-r == removed backups older then -r days)\n - 2005-11-13 remove leading and trailing spaces in ldap filter for\n    agent and customer authentication\n\n#2.0.4 2005-11-12\n - 2005-11-11 fixed bug#[695](http://bugs.otrs.org/show_bug.cgi?id=695) - From-Header missing quoting if : is used\n - 2005-11-11 fixed bug#[863](http://bugs.otrs.org/show_bug.cgi?id=863) - error after using faq in tickets\n - 2005-11-11 fixed bug#[906](http://bugs.otrs.org/show_bug.cgi?id=906) - group names are translated in admin interface\n - 2005-11-08 added missing default pending note type\n - 2005-11-05 fixed bug#[922](http://bugs.otrs.org/show_bug.cgi?id=922) - rfc quoteing for emails with sender\n    like info@example.com \\<info@example.com\\> is now\n    \"info@example.com\" \\<info@example.com\\>\n - 2005-11-05 fixed bug#[639](http://bugs.otrs.org/show_bug.cgi?id=639) - problems with german \"umlaute\" and\n    \",\" in realname if OE is the sender system\n - 2005-10-31 moved to default download type as attachment (not inline)\n    for a better security default setting\n - 2005-10-31 fixed bug in html mime online viewer module\n    (Kernel/Modules/AgentTicketAttachment.pm)\n - 2005-10-31 added missing ContentType in ArticleAttachmentIndex() if\n    fs lookup is used (Kernel/System/Ticket/ArticleStorage\\*.pm)\n - 2005-10-31 improved sql quote with type (String, Integer and Number)\n    to have a better security\n - 2005-10-30 removed not needed german default salutation and signature\n    from scripts/database/initial\\_insert.sql\n - 2005-10-30 improved oracle backend with max length of index and foreign\n    key ident, fixed triger creation - removed not needed / if DBI is used.\n - 2005-10-25 improved bin/opm.pl to uninstall packages via\n   -p package-verions of installed package\n - 2005-10-25 moved to default selected priority and state in\n    first mask of phone and email mask\n - 2005-10-25 fixed lost of original .backup and .save files if\n    packages are reinstalled\n - 2005-10-25 added html access keys for customer panel\n - 2005-10-24 moved oracle database param LongReadLen to 4\\*1024\\*1024 to\n   store biger attachments\n - 2005-10-23 fixed small bug for WorkingTime calculation\n - 2005-10-22 fixed bug#[971](http://bugs.otrs.org/show_bug.cgi?id=971) - Invalid agents get LockTimeOut notification\n - 2005-10-21 fixed bug#[948](http://bugs.otrs.org/show_bug.cgi?id=948) - Invalid agents should not longer get follow-ups\n - 2005-10-21 fixed bug#[957](http://bugs.otrs.org/show_bug.cgi?id=957) - Got \"no ArticleID\" error when viewing queues\n - 2005-10-20 improved html of admin auto responses \\<-\\> queue relation\n - 2005-10-20 fixed unlock of closed bulk-action tickets\n - 2005-10-20 fixed calendar lookup in admin generic agent time\n    selection\n - 2005-10-18 added sortfunction for hashes and array in admin interface\n    -\\> SysConfig\n - 2005-10-17 fixed bug#[792](http://bugs.otrs.org/show_bug.cgi?id=792) - GPG 1.4.1 is no handled correct\n - 2005-10-17 fixed missing db quoting in Kernel/System/Auth/DB.pm\n - 2005-10-15 small rework of Kernel/Language/de.pm with improved wording\n - 2005-10-15 fixed bug#[889](http://bugs.otrs.org/show_bug.cgi?id=889) - fixed QuoteSignle typo and added changed\n    QuoteSingle for PostgreSQL\n - 2005-10-15 Added correct quoting in Filter.pm when deleting a\n    PostMasterFilter rule\n - 2005-10-13 changed merge article type to note-external to be shown\n    in the customer interface, other way the customer will get an no\n    permission screen for this ticket\n - 2005-10-13 improved bin/PendingJobs.pl to send reminder notifications\n    to queue subscriber if ticket is unlocked (not longer to the ticket\n    owner).\n - 2005-10-13 improved html style of package view in admin interface\n - 2005-10-11 added missing SessionUseCookie config setting to SysConfig\n - 2005-10-10 fixed time (hour and minute) selection on 0x default selections\n    in framework (00 selection if 0x was selected)\n - 2005-10-08 removed not longer needed uniq customer id search in\n    agent interface\n - 2005-10-06 fixed input check of TimeVacationDays and\n    TimeVacationDaysOneTime in admin interface (just integer values allowed)\n - 2005-10-05 fixed bug#[947](http://bugs.otrs.org/show_bug.cgi?id=947) - Admin -\\> SelectBox: Insert, Delete, Update\n    etc. possible\n - 2005-10-04 added MainObject as required for Kernel/Output/HTML/Generic.pm\n - 2005-10-01 fixed time (minute and hour) default selection if 01 minues\n    or 01 hours are used\n\n#2.0.3 2005-09-28\n - 2005-09-28 fixed typo in config option name for csv search output,\n    so configable csv search output is now possible\n - 2005-09-28 improved speed of Kernel::System::AgentTicketMailbox\n    (added page jumper)\n - 2005-09-28 fixed not deleting var/tmp/XXXXXX.tmp files\n - 2005-09-26 fixed not working cache in Kernel::System::User-\\>UserGetData()\n - 2005-09-24 fixed small oracle database driver bugs\n - 2005-09-24 added initial user groups add (UserSyncLDAPGroups) after\n    initial login\n - 2005-09-19 moved ldap user sync after login from Kernel/System/User.pm\n    to Kernel/System/Auth/LDAP.pm (already an existing ldap module)\n - 2005-09-19 fixed ticket search create day and month selection\n    (e. g. 009) if input fields (no pull downs) are used\n - 2005-09-19 removed js from change ticket customer\n - 2005-09-19 fixed bin/mkStats.pl - no attachments are sent\n - 2005-09-18 removed auto result in object link mask (search submit\n    required first!) and improved html design\n - 2005-09-17 added DefaultTheme::HostBased config option for host\n    name based theme selection\n - 2005-09-14 fixed move action module in\n    Kernel/Output/HTML/Standard/AgentTicketQueueTicketViewLite.dtl\n - 2005-09-13 fixed ticket search with IE if many options are selected\n - 2005-09-11 improved html style in customer panel\n - 2005-09-09 added Chinese translation, thanks to zuowei\n - 2005-09-07 added admin \"su\" (Switch To User) feature (it's disabled\n    per default)\n - 2005-09-05 moved to german \"Ihr OTRS Benachrichtigungs-Master\" wording\n    in default notifications\n - 2005-09-05 added missing default state and article type option to\n    Kernel/Modules/AgentTicketClose.pm\n - 2005-09-04 changed max. session time from 9h to 10h\n - 2005-09-04 added missing config options in\n    Kernel/Modules/AgentTicketEmail.pm and Kernel/Modules/AgentTicketPhone.pm\n    for show count of customer ticket history\n - 2005-09-04 added missing Kernel::Modules::AgentLookup module registration\n - 2005-09-04 fixed ArticleGetContentPath() in Kernel/System/Ticket/Article.pm,\n    removed \"uninitialized value\" warning if no content path is set in db'\n - 2005-09-04 fixed ArticleWriteAttachment() in\n    Kernel/System/Ticket/ArticleStorageFS.pm, added ContentPath lookup\n - 2005-09-04 fixed SubGroup of Ticket::Frontend::CustomerInfo(Queue|Zoom|\n    Compose), Frontend::Agent is the correct one\n - 2005-09-04 added possibe state selection in owner update screen\n - 2005-08-29 fixed bug#[905](http://bugs.otrs.org/show_bug.cgi?id=905) - fixed SuSE meta header info, try-restart\n    arg, and some smaller fixes\n - 2005-08-26 added package manager deploy check in admin interface, if\n    package is really deployed (compare files in filesystem and package)\n - 2005-08-26 added time accounting option to ticket move mask\n - 2005-08-26 replaced localtime(time) with Kernel::System::Time core\n    module in several files\n - 2005-08-26 removed empty thai translation file\n - 2005-08-24 replaced scripts/restore.sh and scripts/backup.sh with improved\n    scripts/backup.pl and scripts/restore.pl scripts\n - 2005-08-24 added SMIME and PGP environment check in admin\n    interface\n - 2005-08-23 fixed bug#[891](http://bugs.otrs.org/show_bug.cgi?id=891) - typo in Login.dtl\n\n#2.0.2 2005-08-22\n - 2005-08-19 fixed bug#[811](http://bugs.otrs.org/show_bug.cgi?id=811) - 404 Error for role link OTRS::Admin::Role\n    \\<-\\> User\n - 2005-08-19 Added new config parameter to include a envelope from\n    header in outgoing notifications for customer and agents:\n```perl\n   $Self->{\"SendmailNotificationEnvelopeFrom\"} = '';\n```\n - 2005-08-19 fixed bug#[846](http://bugs.otrs.org/show_bug.cgi?id=846) - empty envelope from on notifications\n - 2005-08-19 fixed bug#[879](http://bugs.otrs.org/show_bug.cgi?id=879) - \"Wide character in subroutine\" - mails with\n    attachments in utf-8 mode\n - 2005-08-19 fixed bug#[871](http://bugs.otrs.org/show_bug.cgi?id=871) - Erroneous Content-Length fields are sent\n    when downloading attachments\n - 2005-08-19 fixed bug#[861](http://bugs.otrs.org/show_bug.cgi?id=861) - Problems in faq attachments and postgresql\n    backend\n - 2005-08-19 updated nb\\_NO translation again - thanks to Espen Stefansen!\n - 2005-08-18 enabled customer PGP and SMIME preferences if PGP or\n    SMIME is enabeled\n - 2005-08-18 fixed broken download of public SMIME certs\n - 2005-08-18 fixed bug#[874](http://bugs.otrs.org/show_bug.cgi?id=874) - password plaintext in UserLastPw\n - 2005-08-17 fixed bug#[872](http://bugs.otrs.org/show_bug.cgi?id=872) - CustomerCalendarSmall not working, module\n    not registered\n - 2005-08-16 fixed bug#[847](http://bugs.otrs.org/show_bug.cgi?id=847) - Broken download of public PGP keys via\n    customer preferences pannel\n - 2005-08-16 fixed bug#[862](http://bugs.otrs.org/show_bug.cgi?id=862) - wrong sum for time acounting\n - 2005-08-12 fixed bug#[870](http://bugs.otrs.org/show_bug.cgi?id=870) - wrong parameter order in\n    Kernel::System::Ticket::Article::SendCustomerNotification routine\n - 2005-08-12 removed default selections (UserSalutation) from CustomerUser\n    config\n - 2005-08-12 updated nb\\_NO translation - thanks to Espen Stefansen!\n - 2005-08-10 updated pt\\_BR translation - thanks to Glau Messina!\n - 2005-08-09 added config option for defaul sortby and order in ticket\n    search result in customer and agent interface\n - 2005-08-09 fixed bug#[822](http://bugs.otrs.org/show_bug.cgi?id=822) - Missing FAQID in TicketZoom for linked\n    FAQ article\n - 2005-08-08 fixed bug#[815](http://bugs.otrs.org/show_bug.cgi?id=815) - strange line in history\n - 2005-08-08 added add/delete option in SysConfig for NavBar\n - 2005-08-07 fixed bug#[658](http://bugs.otrs.org/show_bug.cgi?id=658) - Typo in installer.pl\n - 2005-08-06 fixed bug#[836](http://bugs.otrs.org/show_bug.cgi?id=836) - GenericAgent (GUI based) seem to ignore\n    priority - added some db quote\n - 2005-08-06 changed description text of Ticket::Frontend::PendingDiffTime\n    config setting\n - 2005-08-06 fixed not shown linked objects in faq zoom and print view\n - 2005-08-06 removed not needed Kernel/Modules/FAQState.pm and not\n    needed config setting\n - 2005-08-06 added warning message in customer panel on account create\n    if invalid email address is given\n - 2005-08-05 fixed bug#[850](http://bugs.otrs.org/show_bug.cgi?id=850) - Can't locate object method \"KeySearch\"\n    error\"\n - 2005-08-05 fixed bug#[860](http://bugs.otrs.org/show_bug.cgi?id=860) - Error in AgentTicketForward.pm, missing\n    title in the warning for the owner check\n - 2005-08-04 updated it translation - thanks to Giordano Bianchi!\n - 2005-08-04 changed default state of new faq articles to 'internal (agent)'\n - 2005-08-04 fixed bug#[877](http://bugs.otrs.org/show_bug.cgi?id=877) - Error when merging tickets - Can't call\n    method \"LockSet\" on an undefined value at Kernel/System/Ticket.pm line 3720\n - 2005-08-04 added missing merge params to Kernel/Config/Files/Ticket.xml\n\n#2.0.1 2005-08-01\n - 2005-07-31 fixed bug#[602](http://bugs.otrs.org/show_bug.cgi?id=602) - CustomerIDs and CustomerUserIDs are lowercased\n    before being assigned to a ticket\n - 2005-07-31 fixed bug#[600](http://bugs.otrs.org/show_bug.cgi?id=600) - Wide character death in IPC.pl\n - 2005-07-31 fixed bug#[593](http://bugs.otrs.org/show_bug.cgi?id=593) - Need ID or Name in log file\n - 2005-07-31 fixed missing recover of .save files on uninstall of\n    .opm packages\n - 2005-07-31 fixed DBUpdate-to-2.0.postgresql.sql - alter table\n    time\\_accounting - DECIMAL(10,2), fixed UPDATE ticket SET\n    escalation\\_start\\_time\n - 2005-07-31 fixed bug#[566](http://bugs.otrs.org/show_bug.cgi?id=566) - Wide character in print, ArticleStorageFS.pm\n - 2005-07-29 fixed required time accounting option in js of phone\n    and email ticket\n - 2005-07-29 fixed bug#[817](http://bugs.otrs.org/show_bug.cgi?id=817) - added missing freetime1, freetime2 in\n    otrs-schema.postgresql.sql and scripts/DBUpdate-to-2.0.postgresql.sql\n - 2005-07-29 added hour and minutes in time selection in ticket search\n    in admin, agent and customer interface - bug#[843](http://bugs.otrs.org/show_bug.cgi?id=817)\n - 2005-07-28 updated es tranlsation file by Jorge Becerra - Thanks!\n - 2005-07-28 updated translation files\n - 2005-07-28 fixed bug in ticket expand view\n - 2005-07-28 just framework options for web installer, removed\n    ticket options\n - 2005-07-28 moved to global GetExpiredSessionIDs() for\n    bin/DeleteSessionIDs.pl and Kernel/System/AuthSession.pm\n - 2005-07-24 added missing from realname on phone follow up in\n    Kernel::Modules::AgentTicketPhone\n - 2005-07-24 improved scripts/tools/charset-convert.pl tool with\n    get opt params and with file option\n - 2005-07-24 added block feature for system stats\n - 2005-07-24 added auto removed of expired sessions on CreateSessionID()\n - 2005-07-23 removed access of admin group to stats module (because\n    of existing own stats group)\n - 2005-07-23 improved page title with ticket number of\n    Kernel::Modules::AgentTicketPlain frontend module\n - 2005-07-23 moved ticket unlock after merge from frontend module to\n    Kernel::System::Ticket (because it's a core function)\n - 2005-07-23 disabled PGP and SMIME in default setup (because if it's\n    not configured there are many warnings in error log)\n\n#2.0.0 beta6 2005-07-19\n - 2005-07-18 added ticket search option for ticket free time\n - 2005-07-18 fixed not shown calendar lookup icons\n - 2005-07-18 added date-check (JavaScript)\n - 2005-07-18 added number-check for TimeUnits (JavaScript)\n - 2005-07-17 improved speed of xml parsing - also speed of SysConfig\n - 2005-07-16 fixed module permission check bug in agent handle\n - 2005-07-15 fixed bug#[821](http://bugs.otrs.org/show_bug.cgi?id=821) - Admin SysConfig (Values cannot be activated)\n\n#2.0.0 beta5 2005-07-14\n - 2005-07-14 removed not needed admin dtls from lite theme, because this\n    standard is used as default\n - 2005-07-14 removed not needed customer dtls from lite theme, because this\n    standard is used as default\n - 2005-07-13 web installer rewritten - moved to block feature\n - 2005-07-13 added check in bin/SetPermissions.sh if . files exists\n - 2005-07-09 splited big sub groups Frontend::Agent in smaller groups in\n    Kernel/Config/Files/Ticket.xml\n - 2005-07-08 fixed bug with double session id bug after login\n - 2005-07-08 improved notify layer with error or notice icon\n - 2005-07-08 fixed bug in Kernel/System/Group.pm GroupMemberList() if GroupID\n    is given (possible in AgentTicketOwner.pm if roles are used)\n - 2005-07-08 added postmaster follow up with X-OTRS-Header update function\n - 2005-07-08 fixed win32 binmode problem in Kernel/System/Web/UploadCache/FS.pm\n - 2005-07-08 fixed wrong named templates for customer ticket history\n    in Kernel/Modules/AgentTicketEmail.pm and Kernel/Modules/AgentTicketPhone.pm\n - 2005-07-04 improved bin/otrs.addQueue with -s \\<SYSTEMADDRESSID\\>\n    and -c \\<COMMENT\\> params.\n\n#2.0.0 beta4 2005-07-03\n - 2005-07-03 added ticket free time feature - take care, you need to\n    alter the ticket table:\n\n```mysql\n    ALTER TABLE ticket ADD freetime1 DATETIME;\n    ALTER TABLE ticket ADD freetime2 DATETIME;\n```\n\nnew config options are:\n\n```perl\n    $Self->{\"TicketFreeTimeKey1\"} = 'Termin1';\n    $Self->{\"TicketFreeTimeDiff1\"} = 0;\n    $Self->{\"TicketFreeTimeKey2\"} = 'Termin2';\n    $Self->{\"TicketFreeTimeDiff2\"} = 0;\n```\n - 2005-07-03 fixed bug#[797](http://bugs.otrs.org/show_bug.cgi?id=797) - renamed AdminEmail to Admin Notification\n    in admin interface.\n - 2005-07-03 rewritten faq customer and public area\n - 2005-07-03 fixed bug#[799](http://bugs.otrs.org/show_bug.cgi?id=799) - improved FAQ article for utf8 support\n    http://faq.otrs.org/otrs/public.pl?Action=PublicFAQ&ID=3\n - 2005-07-03 added fixed/auto update for faq articles with no number\n - 2005-07-03 fixed bug#[800](http://bugs.otrs.org/show_bug.cgi?id=800) - FAQ insert overwrites response by default\n - 2005-07-03 removed CGI cpan module from dist because of incomapt.\n   for mod\\_perl 1.99 and mod\\_perl 2.00\n - 2005-07-01 added datatype DECIMAL support for time\\_accounting table\n    (changed datatype of time\\_unit in time\\_accounting table)\n - 2005-06-29 fixed user language selection in customer panel\n - 2005-06-28 fixed default customer valid selection in admin interface\n - 2005-06-27 fixed XML::Parser::Lite backend with xml decode\n - 2005-06-27 updated to cpan CGI v3.10\n\n#2.0.0 beta3 2005-06-21\n - 2005-06-13 fixed bug#[759](http://bugs.otrs.org/show_bug.cgi?id=759) - error when changing default dictionary\n - 2005-06-13 fixed bug#[773](http://bugs.otrs.org/show_bug.cgi?id=773) - NotificationAgentOnline needs TimeObject\n - 2005-06-12 fixed bug#[776](http://bugs.otrs.org/show_bug.cgi?id=776) - when adding a new user I got error message\n - 2005-06-11 added XML::Parser support for Kernel::System::XML\n - 2005-06-07 fixed bug#[771](http://bugs.otrs.org/show_bug.cgi?id=771) - Customer Web Interface - Attachment\n    View Error' Kernel/Modules/CustomerTicketZoom.pm\n - 2005-06-06 added experimental db2 support - thanks to Friedmar Moch!\n - 2005-06-06 removed foreign key for queue\\_id in pop3\\_account, fixed\n    indexes for article\\_flag\n\n#2.0.0 beta2 2005-05-16\n - 2005-05-16 fixed bug#[644](http://bugs.otrs.org/show_bug.cgi?id=644) - GenericAgent module calls should not keep\n    the error msg secret :-), moved to Kernel::System::Main\n - 2005-05-16 fixed bug#[733](http://bugs.otrs.org/show_bug.cgi?id=733) - Postgres: TicketOverview doesn't work in April\n - 2005-05-14 fixed bug#[737](http://bugs.otrs.org/show_bug.cgi?id=737) - cannot add FAQ categories in 2.0 beta1\n - 2005-05-08 fr translation updated by Yann Richard - thanks!\n - 2005-05-08 fixed bug#[729](http://bugs.otrs.org/show_bug.cgi?id=729) - Problem removing example FAQ-entry from FAQ\n - 2005-05-08 fixed bug#[730](http://bugs.otrs.org/show_bug.cgi?id=730) - Problem with FAQ nav bar\n - 2005-05-08 fixed bug#[734](http://bugs.otrs.org/show_bug.cgi?id=734) - Timezone not reflected in DB Tables (ticket\n    create time, etc.)\n - 2005-05-07 fixed language translation files\n - 2005-05-07 fixed bug#[647](http://bugs.otrs.org/show_bug.cgi?id=647) - Allow setting of default language for FAQs\n - 2005-05-07 fixed bug#[686](http://bugs.otrs.org/show_bug.cgi?id=686) - defect attachments on download with firefox\n - 2005-05-07 added html access keys for nav bar\n```\n    general:\n    h = home\n    l = logout\n    o = overview\n    n = new\n    s = search\n    p = preferences\n    a = admin interface\n    t = ticket interface\n    f = faq interface\n    g = formular submit\n\n    ticket:\n    o = queue view\n    n = phone ticket\n    e = email ticket\n    k = locked ticket list\n    m = new messages in locked ticket list\n```\n - 2005-05-07 fixed bug#[719](http://bugs.otrs.org/show_bug.cgi?id=719) - Timezone setting (US EDT -4) causes\n    \"Session Timeout\"\n - 2005-05-04 removed html wrap from ticket text areas\n - 2005-05-04 added ticket event module layer\n - 2006-05-04 fixed priority default selection in priority screen\n\n#2.0.0 beta1 2005-05-02\n - 2005-04-30 fixxed bug#[712](http://bugs.otrs.org/show_bug.cgi?id=712) - Reports ignore setting for http-type\n - 2005-04-22 added ticket merge feature\n - 2005-04-14 fixed From in article of AgentTicketPending and\n    AgentTicketMove frontend module\n - 2005-04-10 added check to ticket core function Move(), send no\n    ticket move info for closed tickets\n - 2005-04-08 updated CGI module to 3.07\n - 2005-02-17 Kernel/Config/Modules\\*.pm not longer needed, moved\n    to config filer\n - 2005-02-17 renamed \\_all\\_ ticket frontend modules and templates\n    to AgentTicket\\* (cleanup)\n - 2005-02-15 renamed \\_all\\_ ticket config options! and moved to\n    own config files:\n      - Kernel/Config/Files/Ticket.pm\n      - Kernel/Config/Files/TicketPostMaster.pm\n    --\\>\\> old ticket config setting will not longer work \\<\\<--\n - 2005-02-11 imporved agent ticket search with created options\n    (berated by user, created in queue)\n - 2004-12-04 moved PGP and SMIME stuff to Kernel/System/Email.pm\n    to be more generic\n - 2004-11-27 added config option TicketHookDivider\n    [Kernel/Config.pm]\n\n```perl\n    # (the divider between TicketHook# and number)\n    $Self->{TicketHookDivider} = ': ';\n#    $Self->{TicketHookDivider} = '';\n```\n - 2004-11-24 renamed from bin/SendStats.pl to bin/mkStats.pl and added\n    fs output e. g.\n\n```bash\n    shell\\> bin/mkStats.pl -m NewTickets -p 'Month=1&Year=2003' -r me@host.com -b text\n    NOTICE: Email sent to 'me@host.com'\n    shell\\> bin/mkStats.pl -m NewTickets -p 'Month=1&Year=2003'  -o /data/dir\n    NOTICE: Writing file /data/dir/NewTickets_2004-11-24_14-38.csv\n    shell\\>\n```\n - 2004-11-24 added postmaster filter to\n - 2004-11-16 a xml 2 sql processor which is using Kernel/System/DB.pm\n    and Kernel/System/DB/\\*.pm' bin/xml2sql.pl to generate database based\n    sql syntax\n - 2004-11-16 moved database settings from Kernel/System/DB.pm to\n    Kernel/System/DB/\\*.pm (mysql|postgresql|maxdb|oracle|db2)\n - 2004-11-16 added fast cgi (fcgi) handle to (bin/fcgi-bin/\\*.pl)\n - 2004-11-16 splited cgi-handle to handle (bin/cgi-bin/\\*.pl) and\n    modules (Kernel/System/Web/Interface\\*.pm)\n - 2004-11-16 renamed Kernel/System/WebUploadCache.pm to\n    Kernel/System/Web/UploadCache.pm\n - 2004-11-16 renamed Kernel/System/WebRequest.pm to\n    Kernel/System/Web/Request.pm\n - 2004-11-07 added LOWER() in sql like queries to search, now searches\n    are case insensitive in postgresql and maxdb\n - 2004-11-04 added new feature so show ticket history reverse\n    [Kernel/Config.pm]\n\n```perl\n    # Agent::HistoryOrder\n    # (show history order reverse) [normal|reverse]\n    $Self->{'Agent::HistoryOrder'} = 'normal';\n#    $Self->{'Agent::HistoryOrder'} = 'reverse';\n```\n - 2004-11-04 added \"show no escalation\" group feature\n    [Kernel/Config.pm]\n\n```perl\n    # AgentNoEscalationGroup\n    # (don't show escalated tickets in frontend for agents who are writable\n    # in this group)\n    $Self->{AgentNoEscalationGroup} = 'some_group';\n```\n - 2004-11-04 renamed session to sessions table (oracle compat.)\n - 2004-11-04 updated to CGI 3.05\n - 2004-11-04 switched to session db module as default because\n   of compat. of operating systems\n - 2004-11-04 added new dtl tag $LQData{} to quote html links\n - 2004-11-02 added ticket free text feature to agent compose\n - 2004-11-02 added ticket free text feature to agent close\n - 2004-11-01 added auto generated table-sql scripts for mysql, postgresql,\n    sapdb and oracle based on scripts/database/otrs-schema.xml\n - 2004-10-31 added database foreign-keys\n - 2004-10-08 fixed 544 - Email address check with query timeout causes\n     Premature end of script headers\n - 2004-10-06 reworked all agent and customer notifications in database\n    (use scripts/DBUpdate-to-2.0.\\*.sql)\n - 2004-10-06 added new config options for email address check\n```perl\n    # CheckEmailValidAddress\n    # (regexp of valid email addresses)\n    $Self->{CheckEmailValidAddress} = '^(root@localhost|admin@localhost)$';\n\n    # CheckEmailInvalidAddress\n    # (regexp of invalid email addresses)\n    $Self->{CheckEmailInvalidAddress} = '@(anywhere|demo|example|foo)\\.(..|...)$';\n```\n - 2004-10-01 added global working time configuration for escalation\n    and unlock calculation:\n    [Kernel/Config.pm]\n```perl\n    # TimeWorkingHours\n    # (counted hours for working time used)\n    $Self->{TimeWorkingHours} = {\n        Mon => [ 8,9,10,11,12,13,14,15,16,17,18,19,20 ],\n        Tue => [ 8,9,10,11,12,13,14,15,16,17,18,19,20 ],\n        Wed => [ 8,9,10,11,12,13,14,15,16,17,18,19,20 ],\n        Thu => [ 8,9,10,11,12,13,14,15,16,17,18,19,20 ],\n        Fri => [ 8,9,10,11,12,13,14,15,16,17,18,19,20 ],\n        Sat => [  ],\n        Sun => [  ],\n    };\n    # TimeVacationDays\n    # adde new days with:\n    # \"$Self->{TimeVacationDays}->{10}->{27} = 'Some Info';\"\n    $Self->{TimeVacationDays} = {\n        1 => {\n            01 => 'New Year's Eve!',\n        },\n        5 => {\n            1 => '1 St. May',\n        },\n        12 => {\n            24 => 'Christmas',\n            25 => 'First Christmas Day',\n            26 => 'Second Christmas Day',\n            31 => 'Silvester',\n        },\n    };\n    # TimeVacationDaysOneTime\n    # adde new own days with:\n    # \"$Self->{TimeVacationDaysOneTime}->{1977}-{10}->{27} = 'Some Info';\"\n    $Self->{TimeVacationDaysOneTime} = {\n        2004 => {\n          6 => {\n              07 => 'Some Day',\n          },\n          12 => {\n              24 => 'Some A Day',\n              31 => 'Some B Day',\n          },\n        },\n    };\n```\n - 2004-10-01 improved ticket escalation, added new ticket table col.\n    use scripts/DBUpdate-to-2.0.\\*.sql\n - 2004-09-29 fixed bug#[310](http://bugs.otrs.org/show_bug.cgi?id=310) - System-ID \"09\" is not working\n - 2004-09-27 replaced dtl env LastScreenQueue with LastScreenOverview\n    and LastScreen with LastScreenView.\n - 2004-09-16 added frontend module registry, so no frontend module\n    will be longer accessable till the module is registry. For example\n    a registered frontend module with navigation icon in Agent nav bar\n    (navigation bar will be build automatically, based on permissions):\n    [Kernel/Config.pm]\n```perl\n    $Self->{'Frontend::Module'}->{'AgentPhone'} = {\n        Group => ['users', 'admin'],\n        Description => 'Create new Phone Ticket',\n        NavBar => [{\n            Description => 'Create new Phone Ticket',\n            Name => 'Phone-Ticket',\n            Image => 'new.png',\n            Link => 'Action=AgentPhone',\n            NavBar => 'Agent',\n            Prio => 20,\n         },\n       ],\n    };\n```\n - 2004-09-16 added Kernel::System::PID to start bin/PostMaster.pl just\n    once (new table, process\\_id is needed)\n - 2004-09-15 added date check on set pending time, don't set pending\n    time to past!\n - 2004-09-11 added support of object link\n - 2004-09-10 changed the agent notification to all subscriped agents\n    if there is an follow up from the customer and the ticket is unlocked.\n    This is different to OTRS \\<= 1.3. So if you don't want this, you can\n    use the following config option to disable this (link in OTRS 1.3)\n    [Kernel/Config.pm]\n\n```perl\n     $Self->{PostmasterFollowUpOnUnlockAgentNotifyOnlyToOwner} = 1;\n```\n - 2004-09-10 added Kernel::System::SearchProfile to manage object\n    search profiles\n - 2004-09-09 added role/profile feature\n - 2004-09-09 added ticket title support\n\n#1.3.3 2005-10-20\n - 2005-10-20 moved to default download type as attachment (not inline)\n    for a better security default setting\n - 2005-10-17 added security bugfix for missing SQL quote\n - 2005-07-08 fixed win32 binmode problem in Kernel/System/WebUploadCache.pm\n - 2005-07-01 fixed missing date in TicketForward.dtl\n - 2005-07-01 fixed bug#[808](http://bugs.otrs.org/show_bug.cgi?id=808) - Stats: StopMonth in Ticket.pm\n - 2005-07-01 fixed bug#[810](http://bugs.otrs.org/show_bug.cgi?id=810) - single quote in comment field generates errors\n - 2005-02-15 updated to cpan MIME::Tools 5.417\n - 2005-02-10 fixed generic agent - was not able to set new owner\n - 2005-01-19 fixed bug#[666](http://bugs.otrs.org/show_bug.cgi?id=666) - INSERTs into 'ticket\\_history' fail sometimes\n - 2005-01-07 fixed bug#[659](http://bugs.otrs.org/show_bug.cgi?id=659) - Escalation Notification Sent to Wrong Users\n - 2004-11-26 fixed remove of ticket link if just one exists\n - 2004-11-24 fixed new owner list in Kernel/Modules/AgentMove.pm\n    (show just user with rw permission to selected queue)\n - 2004-11-07 fixed utf8-problem with postgres and non utf-8 emails in\n    article\\_plain\n - 2004-11-05 updated Kernel/Language/hu.pm Thanks to Czak\u00ef\u00bf\u00bd Kriszti\u00ef\u00bf\u00bdn!\n - 2004-11-04 fixed loop if now theme directory is found\n - 2004-11-04 fixed upper queue rename with () or + chars\n - 2004-11-04 fixed bug#[604](http://bugs.otrs.org/show_bug.cgi?id=604) - Typo in AgentStatusView.pm\n - 2004-10-29 spell check rewritten\n - 2004-10-26 added unlock option to bulk feature\n - 2004-10-18 fixed bug#[551](http://bugs.otrs.org/show_bug.cgi?id=551) - FAQ on Email new only takes over the\n    subject and not the text\n\n#1.3.2 2004-10-15\n - 2004-10-14 fixed bug#[570](http://bugs.otrs.org/show_bug.cgi?id=570) - Stat generation script fails under postgres\n - 2004-10-14 fixed bug#[573](http://bugs.otrs.org/show_bug.cgi?id=573) - Clicked link to check ticket status and here's\n    what I got\n - 2004-10-12 replaced COUNTER with DATA in Kernel/System/Ticket/Number/\\*.pm\n    (because of win32 systems and use strict mode)\n - 2004-10-12 fixed agent can be customer modus\n - 2004-10-10 fixed wrong lable attachments in db backend\n - 2004-10-07 fixed bug#[562](http://bugs.otrs.org/show_bug.cgi?id=562) Content-Transfer-Encoding: 7bit and german umlaut\n - 2004-10-07 fixed bug#[565](http://bugs.otrs.org/show_bug.cgi?id=565) HighlightColor\\* in AgentMailbox\n - 2004-10-06 fixed link quote of https links\n - 2004-10-06 added application log error message if bin/PostMaster.pl fails\n - 2004-10-01 fixed bug#[547](http://bugs.otrs.org/show_bug.cgi?id=547) - uninitialized value in string eq at\n    Kernel/System/Ticket/Article.pm line 1387\n - 2004-09-29 fixed english \"New ticket notification!\", replaced\n    OTRS\\_CURRENT\\_USERFIRSTNAME with OTRS\\_USERFIRSTNAME\n - 2004-09-29 removed not existing jp language translation\n - 2004-09-29 fixed bug#[554](http://bugs.otrs.org/show_bug.cgi?id=554) - \"Thursday\" twice in AdminGenericAgent.pm\n - 2004-09-27 fixed bug#[548](http://bugs.otrs.org/show_bug.cgi?id=548) - german spelling mistakes in agent\n    notifications\n - 2004-09-23 fixed ticket free text selection in Kernel/Modules/CustomerMessag.pm\n - 2004-09-23 fixed not sended agent notification after created Email-Ticket\n - 2004-09-23 fixed ticket zoom in customer panel if no customer article\n   exists\n\n#1.3.1 2004-09-20\n - 2004-09-16 fixed bug#[513](http://bugs.otrs.org/show_bug.cgi?id=513) - distinct customers must have distinct email\n - 2004-09-16 fixed bug#[519](http://bugs.otrs.org/show_bug.cgi?id=519) - PostMaster.pl bounces mail if database\n    is down\n - 2004-09-16 fixed bug#[521](http://bugs.otrs.org/show_bug.cgi?id=521) - buggy utf8 content transfer encoding\n - 2004-09-11 fixed bug if somebody clicks on customer management\n - 2004-09-09 added address book and spell checker to agent forward\n - 2004-09-08 updated spanish translation - Thanks to Jorge Becerra!\n - 2004-09-08 fixed bug#[500](http://bugs.otrs.org/show_bug.cgi?id=500) - js error\n\n#1.3.0 beta4 2004-09-08\n - 2004-09-08 fixed bug#[514](http://bugs.otrs.org/show_bug.cgi?id=514) - Use of uninitialized value in addition (+) at\n    bin/DeleteSessionIDs.pl line 93.\n - 2004-09-08 fixed bug#[517](http://bugs.otrs.org/show_bug.cgi?id=517) - fixed bug 517 - DBUpdate-to-1.3 scripts\n    don't correctly rename system\\_queue\\_id\n - 2004-09-08 fixed bug#[516](http://bugs.otrs.org/show_bug.cgi?id=516) - initial\\_insert.sql violates ticket\\_history\n    \"NOT NULL\" contraints\n - 2004-09-05 fixed bug#[380](http://bugs.otrs.org/show_bug.cgi?id=380) - Does not allow change of customer login\n - 2004-09-04 fixed bug#[502](http://bugs.otrs.org/show_bug.cgi?id=502) - Email bouncing does not work\n - 2004-09-04 fixed bug#[503](http://bugs.otrs.org/show_bug.cgi?id=503) - Move Ticket into queue not possible\n - 2004-09-04 fixed bug#[504](http://bugs.otrs.org/show_bug.cgi?id=504) - $Text{\"0\"} in DTLs does not produce any output\n - 2004-09-04 added delete option for pop3 accounts in admin interface\n - 2004-09-04 improved generic agent web interface\n - 2004-08-30 fixed '' selection on ticket free text search\n - 2004-08-30 support of sub dtl blocks\n - 2004-08-28 fixed call customer via phone (set state was ignored)\n - 2004-08-26 fixed multi customer id support and added docu\n\n#1.3.0 beta3 2004-08-25\n - 2004-08-25 fixed german translation (replaced wrong words)\n - 2004-08-24 fixed time schedule for generic agent\n\n#1.3.0 beta2 2004-08-24\n - 2004-08-24 fixed ticket\\_history table update script\n\n#1.3.0 beta1 2004-08-18\n - 2004-08-11 added feature to send fulltext reqests to a\n    mirror database\n    [Kernel/Config.pm]\n\n```perl\n    # AgentUtil::DB::*\n    # (if you want to use a mirror database for agent ticket fulltext search)\n    $Self->{'AgentUtil::DB::DSN'} = \"DBI:mysql:database=mirrordb;host=mirrordbhost\";\n    $Self->{'AgentUtil::DB::User'} = \"some_user\";\n    $Self->{'AgentUtil::DB::Password'} = \"some_password\";\n```\n - 2004-08-10 added Radius auth modules for agent and customer\n    interface\n - 2004-08-10 improved Kernel::System::CustomerAuth::DB to use\n    an external database\n - 2004-08-10 added email 1:1 download option in AgentPlain\n - 2004-08-08 added owner\\_id, priority\\_id and state\\_id to\n    ticket\\_history table.\n - 2004-08-04 moved customer notifications from Kernel/Config.pm to\n    database and added multi language support\n - 2004-08-02 fixed bug#[466](http://bugs.otrs.org/show_bug.cgi?id=466) - Error in managing very long Message-IDs\n - 2004-08-01 improved Kernel::System::Log::SysLog with log charset\n    config option in case syslog can't work with utf-8\n - 2004-08-01 improved Kernel::System::Email backends\n - 2004-08-01 fixed bug#[429](http://bugs.otrs.org/show_bug.cgi?id=429) - Attachment file names with spaces do\n    not save properly\n - 2004-08-01 fixed bug#[450](http://bugs.otrs.org/show_bug.cgi?id=450) - Spelling mistake in default FAQ entry\n - 2004-08-01 fixed bug#[460](http://bugs.otrs.org/show_bug.cgi?id=460) - Patch to add params hash to LDAP bind\n    in Kernel/System/User.pm.\n - 2004-07-30 added references, in-reply-to follow up check\n    [Kernel/Config.pm]\n\n```perl\n    # PostmasterFollowUpSearchInReferences\n    # (If no ticket number in subject, otrs also looks in In-Reply-To\n    # and References for follow up checks)\n    $Self->{PostmasterFollowUpSearchInReferences} = 0;\n```\n - 2004-07-17 fixed generic agent Schedule web interface\n - 2004-07-16 added multi attachment support for attachments\n - 2004-06-28 improved Kernel/Modules/AdminSelectBox.pm module\n - 2004-06-27 added Block() feature to dtl files (removed a lot\n    of no longer needed templates)\n - 2004-06-27 improved web handle (bin/cgi-bin/index.pl and\n    bin/cgi-bin/customer.pl) to show module syntax errors.\n - 2004-06-22 improved postmaster filter to use matched value as [\\*\\*\\*]\n    in \"Set =\\>\" option.\n - 2004-06-22 added support for crypted database passwords (use\n    bin/CryptPassword.pl to crypt passwords).\n - 2004-06-10 added generic agent web interface\n - 2004-06-03 improved language translation with custom translation\n    files:\n    Kernel/Language/$Locale.pm (default)\n    Kernel/Language/$Locale\\_$Action.pm (translation for otrs modules like\n     file manager, calendar, ...)\n    Kernel/Language/$Locale\\_Custom.pm (own changes,updates)\n - 2004-05-18 added html application output filter option, e. g. to\n    filter java script of the application or to manipulate the html\n    output of the application.\n    (see also Kernel/Config/Defaults.pm -\\> Frontend::Output::PostFilter)\n - 2004-05-04 added ticket history log on ticket link update and\n    notification info if link ticket number doesn't exists.\n - 2004-05-03 added PreApplicationModule examples to Kernel/Config.pm\n - 2004-04-30 added multi customer id support to Kernel/System/CustomerUser.pm,\n    Kernel/System/CustomerUser/DB.pm and Kernel/System/CustomerUser/LDAP.pm.\n    So one customer can have more than one customer id.\n - 2004-04-22 added notification module for customer panel\n    (customer.pl) like for existing agent (index.pl)\n - 2004-04-20 added PreApplicationModule (index.pl) and\n    CustomerPanelPreApplicationModule (customer.pl) This interface\n    use useful to check some user options or to redirect not accept\n    new application news.\n - 2004-04-19 added MaxSessionIdleTime for session managment\n    to check/delete idle sessions\n - 2004-04-15 added file size info to article attachments\n    (DBUpdate-to-1.3.\\*.sql is required!).\n - 2004-04-14 ticket history rewritten and added i18n feature\n - 2004-04-14 reworked/renamed Kernel::System::Ticket::Article\n    and sub module functions and added added pod docu, see\n    http://dev.otrs.org/\n    Note: Kernel::System::Ticket are not longer compat. to OTRS 1.2\n     or lower!\n - 2004-04-07 added config option SessionUseCookieAfterBrowserClose\n    for session config stuff to keep cookies in browser (after closing\n    the browser) till expiration of session (default is 0).\n - 2004-04-06 added missing priority options in TicketSeatch()\n    of Kernel::System::Ticket.\n - 2004-04-05 reworked/renamed Kernel::System::Ticket functions and\n    added added pod docu, see http://dev.otrs.org/\n - 2004-04-04 added auto convert of html only emails to text/plain,\n    text/html will be attached as attachment (Kernel/System/EmailParser.pm)\n - 2004-04-01 fixed some html quote bugs\n - 2004-03-30 added ability to reverse the Queue sorting (added\n    AgentQueueSort setting)\n - 2004-03-12 added customer panel MyTickets and CompanyTickets\n    feature.\n - 2004-03-11 added mulit serach options to customer serach e. g.\n    \"name+phone\" in customer search\n - 2004-03-11 added customer search prefix (default '') and suffix\n    (default '\\*') to CustomerUser as config options.\n - 2004-03-11 added \\<OTRS\\_CUSTOMER\\_\\*\\> tags for salutatuion, signateure\n    and std. responses\n - 2004-03-08 added TimeZone feature - e. g. config option\n    \"$Self-\\>{TimeZone} = +5;\" in Kernel/Config.pm\n - 2004-03-05 added Include function to dtl tags - Thanks to Bozhin Zafirov!\n    - moved to central css dtl file (Kernel/Output/HTML/\\*/css.dtl and\n      Kernel/Output/HTML/\\*/customer-css.dtl)\n - 2004-02-29 improved database handling of large objects (use DBI\n    bind values now / saves memory)\n - 2004-02-27 replaced \"CustomQueue\" with \"My Queues\" in agent frontend\n - 2004-02-27 fixed possible owner selection in AgentPhone/AgentEmail\n - 2004-02-23 improved FreeText feature look if just one key is\n    defined.\n - 2004-02-23 improved otrs LDAP modules with AlwaysFilter and\n    Charset options (see online documentation)\n - 2004-02-23 updated to CGI 3.04\n\n#1.2.4 2004-07-07\n - 2004-06-29 fixed bug#[456](http://bugs.otrs.org/show_bug.cgi?id=456) not existing queue\\_auto\\_response\n    references in scripts/database/initial\\_insert.sql\n - 2004-06-11 added Hungarian translation. Thanks to G\u00ef\u00bf\u00bdncs G\u00ef\u00bf\u00bdbor!\n - 2004-04-10 fixed not shown \"this message is written in an\n    other charset as your own\" link in agent zoom\n - 2004-04-08 fixed performance problem in Kernel::Language\n    module (get ~5% more performance of the webinterface)\n - 2004-04-06 added missing priority options in SearchTicket()\n    of Kernel::System::Ticket.\n\n#1.2.3 2004-04-02\n - 2004-03-29 fixed some html quote bugs\n - 2004-03-28 fixed bug#[365](http://bugs.otrs.org/show_bug.cgi?id=365) - null attachment kills pop import script\n - 2005-03-25 updated pl language translation, Thanks to Tomasz Melissa!\n - 2004-03-25 fixed quote bug in AgentPhoneView, AgentEmail and\n    AgentCompose.\n - 2004-03-08 fixed bug#[341](http://bugs.otrs.org/show_bug.cgi?id=341) Wrong results searching for time ranges\n    http://bugs.otrs.org/show_bug.cgi?id=341\n - 2004-02-29 fixed language quoting in customer login screen\n - 2004-02-27 fixed missing \"internal (agent)\" agent search faq\n - 2004-02-27 fixed possible owner selection in AgentPhone/AgentEmaill\n\n#1.2.2 2004-02-23\n - 2004-02-17 changed screen after moved ticket (like OTRS 1.1)\n - 2004-02-17 added null option to search options\n    http://bugs.otrs.org/show_bug.cgi?id=321\n - 2004-02-17 fixed double quote bug in GetIdOfArticle()/CreateArticle()\n    http://bugs.otrs.org/show_bug.cgi?id=319\n - 2004-02-17 fixed bug#[317](http://bugs.otrs.org/show_bug.cgi?id=317) - Return Path set to invalid email\n    http://bugs.otrs.org/show_bug.cgi?id=317\n\n#1.2.1 2004-02-14\n - 2004-02-14 fixed escalation bug#[290](http://bugs.otrs.org/show_bug.cgi?id=290) -\n    http://bugs.otrs.org/show_bug.cgi?id=290\n - 2004-02-14 updated spanish translation. Thanks to Jorge Becerra!\n - 2004-02-14 updated czech translation. Thanks to Petr Ocasek\n    (BENETA.cz, s.r.o.)!\n - 2004-02-14 added Norwegian language translation (bokm\u00ef\u00bf\u00bdl)\n    Thanks to Arne Georg Gleditsch!\n - 2004-02-12 fixed security bugs ins SQL quote()\n - 2004-02-12 fixed bin/PendingJobs.pl bug (Need User)\n - 2004-02-10 fixed CustomerUserAdd, added Source default map if\n    no Source name is given\n - 2004-02-10 fixed missing translation in agent and customer\n    preferences option selections.\n\n#1.2.0 beta3 2004-02-09\n - 2004-02-09 fixed bug#[249](http://bugs.otrs.org/show_bug.cgi?id=249) Editing system email addresses with\n    quotations in name field - http://bugs.otrs.org/show_bug.cgi?id=249\n - 2004-02-09 added contact customer (create ticket) feature\n - 2004-02-08 added multi customer map/source support\n - 2004-02-08 added GenericAgent module support\n - 2004-02-05 fixed bug in X-OTRS-Queue option if bin/PostMasterPOP3.pl\n    is used.\n - 2004-02-04 fixed bug in customer interface (empty To selection)\n - 2004-02-03 fixed typo in template (wrong $Data{} for Field6)\n    Kernel/Output/HTML/Standard/FAQArticleForm.dtl\n\n#1.2.0 beta2 2004-02-02\n - 2004-02-02 replaced column \"comment\" to \"comments\" of each table to\n    be oracle compat.\n - 2004-02-02 added ticket link feature\n - 2004-02-01 fixed uncounted unlocktime calcualtion in bin/UnlockTickets.pl\n - 2004-01-27 added Bcc field for agent address book and agent compose\n - 2004-01-24 fixed bug#[280](http://bugs.otrs.org/show_bug.cgi?id=280) - group\\_customer\\_user table\n    (http://bugs.otrs.org/show_bug.cgi?id=280)\n - 2004-01-23 fixed bug#[219](http://bugs.otrs.org/show_bug.cgi?id=219) - GenericAgent and adding notes\n    (http://bugs.otrs.org/show_bug.cgi?id=219)\n - 2004-01-23 fixed bug#[215](http://bugs.otrs.org/show_bug.cgi?id=215) - Bug in search URL - wrong link to next page\n    (http://bugs.otrs.org/show_bug.cgi?id=215)\n - 2004-01-23 fixed bug#[213](http://bugs.otrs.org/show_bug.cgi?id=213) - Does not update replies with the correct name\n    (http://bugs.otrs.org/show_bug.cgi?id=213)\n - 2004-01-23 fixed bug#[192](http://bugs.otrs.org/show_bug.cgi?id=192) - rename queue with Sub-queue\n    (http://bugs.otrs.org/show_bug.cgi?id=192)\n - 2004-01-23 fixed customer-user \\<-\\> group problem added the following\n    to Kernel/Config.pm\n\n```perl\n    # CustomerGroupSupport (0 = compat. to OTRS 1.1 or lower)\n    # (if this is 1, the you need to set the group \\<-\\> customer user\n    # relations! http://host/otrs/index.pl?Action=AdminCustomerUserGroup\n    # otherway, each user is ro/rw in each group!)\n    $Self->{CustomerGroupSupport} = 0;\n\n    # CustomerGroupAlwaysGroups\n    # (if CustomerGroupSupport is true and you don't want to manage\n    # each customer user for this groups, then put the groups\n    # for all customer user in there)\n    $Self->{CustomerGroupAlwaysGroups} = ['users', 'info'];\n```\n - 2004-01-23 changed Kernel::System::Ticket-\\>SearchTicket() to\n    return false if on param (e. g. Queue or State) doesn't exist\n    (problem was, that if a queue name dosn't exist, then the\n    GenericAgent gets tickets from all queues!).\n\n#1.2.0 beta1 2004-01-22\n - 2004-01-22 internationalization of agent notification messages\n    configurable over admin interface (attention, agent notificatins\n    are not be longer stored as article, now just a history entry will\n    be created, old articles will be removed/delete by update script!)\n - 2004-01-19 improve ticket search with date/time options\n - 2004-01-14 added X-OTRS-SenderType and X-OTRS-ArticleType to\n    possible email headers (see doc/X-OTRS-Headers.txt).\n - 2004-01-14 Updated Mail::Tools from 1.51 to 1.60.\n - 2004-01-12 added config option to send no pending notification in\n    defined hours (SendNoPendingNotificationTime).\n - 2004-01-10 improved TicketStorageModule, now it's possible to\n    switch from one to the other backend on the fly.\n - 2004-01-09 improved GenericAgent.pl to work also with more ticket\n    properties see also for all options:\n    http://doc.otrs.org/cvs/en/html/generic-agent-example.html\n - 2004-01-09 removed charset selection from perferences (agent and\n    customer interface). Take the charset form translation file.\n - 2004-01-09 added utf-8 support for mail frontend (min. Perl 5.8.0\n    required)\n - 2004-01-08 added address book feature on compose answer\n    screen.\n - 2004-01-07 added OTRS\\_CUSTOMER\\_DATA\\_\\* tags for info of\n    existing customer in CustomerMap in Kernel/Config.pm in\n    Agent notification config options.\n - 2003-12-23 added lock/unlock option to phone view / create\n    ticket.\n - 2003-12-15 changed recipients of customer notifications\n    (change queue, update owner, update state, ...) to current\n    customer user, based on customer user source.\n - 2003-12-15 added customer user cc by creating a new ticket\n    with different sender email addresses.\n - 2003-12-11 added more ticket free text options for tickets\n    now we have 8 (not only 2) - improved also GenericAgent and\n    Web-Frontend!\n - 2003-12-07 added SUSE 9.0 support and added RPM spec file\n    for SUSE 9.0.\n - 2003-12-07 moved Kernel/Output/HTML/Agent|Admin|Customer.pm\n    stuff to Kernel/Modules/\\*.pm modules.\n - 2003-12-07 removed config option CustomerViewableTickets and\n    added customer preferences option (15|20|25|30).\n - 2003-12-07 removed config option ViewableTickets and added\n    agent preferences option (5|10|15|20|25).\n - 2003-12-03 added QueueListType config option [tree|list] to\n    show the QueueSelection in a tree (default) or just in a list\n\n```\n Example:  Tree:        List:\n              QueueA       QueueA\n                Queue1     QueueA::Queue1\n                Queue2     QueueA::Queue2\n                Queue3     QueueA::Queue3\n              QueueB       QueueB\n                Queue1     QueueB::Queue1\n                Queue2     QueueB::Queue2\n```\n - 2003-12-02 added remove of session cookie after closing the\n    browser in agent interface\n - 2003-11-27 added modules for agent notifications\n    Kernel/Output/HTML/NotificationCharsetCheck.pm\n    Kernel/Output/HTML/NotificationUIDCheck.pm\n    are default modules to configure over Kernel/Config.pm\n\n```perl\n    $Self->{'Frontend::NotifyModule'}->{'1-CharsetCheck'} = {\n        Module => 'Kernel::Output::HTML::NotificationCharsetCheck',\n    };\n    $Self->{'Frontend::NotifyModule'}->{'2-UID-Check'} = {\n        Module => 'Kernel::Output::HTML::NotificationUIDCheck',\n    };\n```\nSo it's also possible to create your own agent notifications\n    like motd or escalation infos.\n - 2003-11-26 added group \\<-\\> customer user support - so it's\n    possible that you can define the customer queues for new tickets\n - 2003-11-26 added modules for ticket permission checks\n    Kernel/System/Ticket/Permission/OwnerCheck.pm\n    Kernel/System/Ticket/Permission/GroupCheck.pm\n    Kernel/System/Ticket/CustomerPermission/CustomerIDCheck.pm\n    Kernel/System/Ticket/CustomerPermission/GroupCheck.pm\n    So it's possible to write own perission check modules!\n    Example: Don't allow agents to change the priority if the state\n    of the ticket is 'open' and in a specific queue.\n    Example of Kernel/Config.pm:\n\n```perl\n    # Module Name: 1-OwnerCheck\n    # (if the current owner is already the user, grant access)\n    $Self->{'Ticket::Permission'}->{'1-OwnerCheck'} = {\n        Module => 'Kernel::System::Ticket::Permission::OwnerCheck',\n        Required => 0,\n    };\n    # Module Name: 2-GroupCheck\n    # (if the user is in this group with type ro|rw|..., grant access)\n    $Self->{'Ticket::Permission'}->{'2-GroupCheck'} = {\n        Module => 'Kernel::System::Ticket::Permission::GroupCheck',\n        Required => 0,\n    };\n```\n - 2003-11-19 improved group sub system, added create, move\\_into, owner\n    and priority permissions to groups (DBUpdate-to-1.2.\\*.sql is required!).\n - 2003-11-05 added agent preferences option \"Screen after new phone\n    ticket\". So you can select the next screen after creating a new\n    phone ticket.\n - 2003-11-02 improved GenericAgent.pl to work also with ticket\n    priorities (search and change).\n    Example for Kernel/Config/GenericAgent.pm:\n\n```perl\n    # ---\n    # [name of job] -\\> move all tickets from abc to experts and change priority\n    # ---\n    'move all abc priority \"3 normal\" tickets to experts and change priority'=\\> {\n      # get all tickets with these properties\n      Queue => 'abc',\n      Priorities => ['3 normal'],\n      # new ticket properties\n      New => {\n        Queue => 'experts',\n        Priority => '4 high',\n      },\n    },\n```\n - 2003-11-02 added delete option to Admin-\\>StdAttachment menu\n - 2003-11-01 added PostMaster(POP3).pl filter options like procmail.\n    Example for Kernel/Config.pm:\n\n```perl\n    # Job Name: 1-Match\n    # (block/ignore all spam email with From: noreply@)\n    $Self->{'PostMaster::PreFilterModule'}->{'1-Match'} = {\n        Module => 'Kernel::System::PostMaster::Filter::Match',\n        Match => {\n            From => 'noreply@',\n        },\n        Set => {\n            'X-OTRS-Ignore' => 'yes',\n        },\n    };\n```\nAvailable modules are Kernel::System::PostMaster::Filter::Match\n    and Kernel::System::PostMaster::Filter::CMD. See more to use it\n    on http://doc.otrs.org/.\n - 2003-10-29 added bin/CleanUp.pl to clean up of all tmp data\n    like ipc, database or fs session and log stuff (added CleanUp()\n    to Kernel::System::AuthSession::\\* and Kernel::System::Log).\n - 2003-10-27 added \"-c Kernel::Config::GenericAgentJobModule\"\n    option to GenericAgent.pl to use it with more than one\n    (Kernel::Config::GenericAgent) job file. For example you will be\n    able to have Kernel::Config::Delete and Kernel::Config::Move or\n    other job files to execute it on different times.\n - 2003-10-14 changed phone default settings:\n    * new tickets are unlocked (not locked)\n    * subject and body is empty as default\n - 2003-09-28 improved next screen management after closing tickts\n - 2003-09-28 added \\<OTRS\\_TICKET\\_STATE\\> to agent compose answer screen\n    as variable for new ticket state in composed message.\n - 2003-08-28 improved GenericAgent to use From, To, Cc, Subject and\n    Body for ticket selection - example:\n\n```perl\n   'delete all tickets with subject \"VIRUS 32\" in queue abc' => {\n      # get all tickets with this properties\n      Queue => 'abc',\n      Subject => '%VIRUS%',\n      # new ticket properties\n      New => {\n        # DELETE!\n        Delete => 1,\n      },\n   },\n```\n - 2003-07-31 added \"Show closed Ticket/Don't show closed Ticket\" link\n    to customer panel show my tickets overview\n - 2003-07-14 added last owner selection to Kernel/Modules/AgentOwner.pm\n - 2003-07-13 add \"single sign on\" (pre-authentication) option for\n    http-basic-auth (Kernel::System::Auth::HTTPBasicAuth and\n    Kernel::System::CustomerAuth::HTTPBasicAuth). Thanks to Phil Davis!\n - 2003-07-12 fixed bug#[155](http://bugs.otrs.org/show_bug.cgi?id=155) - in multiple page ticket view, start value\n    might be too high\n - 2003-07-12 improved ticket search, added also search profile option\n - 2003-07-05 improved module permission options, now it's possible\n    to add more the one group\n - 2003-06-26 improved ticket search and added new search preferences\n    table (db update with scripts/DBUpdate-to-1.2.(mysql|postgres).sql)\n    required!\n - 2003-05-29 added utf-8 support for webfrontends (min. Perl 5.8.0\n    required)\n - 2003-05-20 added array for source queue selection to bin/GenericAgent.pl\n    for example, use this job for more queues:\n\n```perl\n    'move tickets from tricky to experts' => {\n      # get all tickets with this properties\n      Queue => ['tricky', 'tricky1'],\n      States => ['new', 'open'],\n      Locks => ['unlock'],\n```\n - 2003-05-13 removed UNIQUE (not needed!) in pop3\\_account table\n\n#1.1.4 (2003/??/??)\n - 2003-10-27 fixed (removed) not needed database connects in\n    PostMaster(POP3).pl stuff (now just 1 database connect, not 3\n    connects)! Thanks to Jens Wilke!\n - 2003-09-39 added Czech translation file - Tomas Krmela!\n - 2003-09-29 added Polish translation file - Tomasz Melissa!\n - 2003-09-16 fixed order of user checking/adding in rpm spec files\n - 2003-08-22 fixed ascii2html convert function for \"\\n\" -\\> \"\\<br\\>\\n\" and\n    \"  \" -\\> \" &nbsp;\".\n - 2003-08-22 fixed customer user lookup for PostMaster\\*.pl based on\n    senders email address (set customer id and customer user)\n\n#1.1.3 2003-07-12\n - 2003-07-12 fixed bug#[182](http://bugs.otrs.org/show_bug.cgi?id=182) - Error when modify an queue without a queue-name\n - 2003-07-12 removed \"PerlInitHandler Apache::StatINC\" (Reload %INC files\n     perl modules) from scripts/apache-httpd.include.conf because of many error\n      message in apache error log\n    -=\\> apache reload is still needed when perl modules changed on disk \\<=-\n - 2003-07-12 improved performance of Kernel/System/Ticket/ArticleStorageDB.pm\n    with large objects\n - 2003-07-10 fixed bug#[171](http://bugs.otrs.org/show_bug.cgi?id=171) - No lock check if two Agents try to lock\n    ticket at same time (or later)\n - 2003-07-06 fixed bug#[168](http://bugs.otrs.org/show_bug.cgi?id=168) - The install script for POSTGRES contains wrong\n    datatypes (DATETIME instead of TIMESTAMP)\n - 2003-07-06 fixed bug#[165](http://bugs.otrs.org/show_bug.cgi?id=165) - Pop3 change - does not show the queue\n - 2003-07-03 fixed bug#[178](http://bugs.otrs.org/show_bug.cgi?id=178) - Authenticated customer LDAP requests don't work\n - 2003-07-02 updated Finnish translation, thanks to Antti K\u00ef\u00bf\u00bdm\u00ef\u00bf\u00bdr\u00ef\u00bf\u00bdinen\n - 2003-07-01 added SMTP module port patch of Jeroen Boomgaardt\n - 2003-06-22 fixed bug#[144](http://bugs.otrs.org/show_bug.cgi?id=144) - PostMasterPOP3.pl is exiting\n    \"Attached .eml file causes bug in EmailParser.pm\"\n    http://bugs.otrs.org/show_bug.cgi?id=144\n - 2003-06-04 fixed legend colors of stats pics\n\n#1.1.2 2003-05-31\n - 2003-06-01 improved Kernel/System/Ticket/Number/\\*.pm (ticket number\n    generator modules) to work with non existing var/log/TicketCounter.log.\n     -=\\> So var/log/TicketCounter.log will be removed from the CVS and\n     tar.gz updates will be much easier! (TicketCounter.log will not be\n     reseted on tar-update of OTRS update)\n - 2003-06-01 added Resent-To email header check for queue sorting of\n    new ticket - http://lists.otrs.org/pipermail/otrs/2003-May/001845.html\n - 2003-05-30 added \"PerlInitHandler Apache::Reload\" (Reload %INC files\n     perl modules) to scripts/apache2-httpd.include.conf\n    -=\\> no apache reload is needed when perl modules is updated on disk \\<=-\n - 2003-05-30 added \"PerlInitHandler Apache::StatINC\" (Reload %INC files\n     perl modules) to scripts/apache-httpd.include.conf\n    -=\\> no apache reload is needed when perl modules is updated on disk \\<=-\n - 2003-05-29 fixed create ticket (without priority selection) via\n    customer panel and changed priority names.\n - 2003-05-26 fixed pic.pl bug - http://bugs.otrs.org/show_bug.cgi?id=149\n - 2003-05-19 improved text formatting of \"long\" messages in QueueView\n    TicketZoom, TicketPlain and TicketSearch\n - 2003-05-18 fixed small logic bugs in Kernel/System/PostMaster\\*\n    improved debug options for bin/PostMaster.pl and bin/PostMasterPOP3.pl\n     -=\\> just used -d1 (1-3) for debug level of Kernel/System/PostMaster\\*\n - 2003-05-18 added customer data lookup for PostMaster\\*.pl based on\n    senders email address (set customer id and customer user)\n - 2003-05-13 fixed unwanted ticket unlock on move\n - 2003-05-13 added russian translation! Thanks to Serg V Kravchenko!\n - 2003-05-13 added config options for shown customer info size\n\n```perl\n    $Self->{ShowCustomerInfo(Zoom|Queue|Phone)MaxSize}\n```\n - 2003-05-08 fixed ignored user comment in admin area\n - 2003-05-04 added missing StateUpdate (table ticket\\_history\\_type)\n    to scripts/DBUpdate-to-1.1.postgresql.sql\n - 2003-05-02 removed unique option for the pop3\\_account column\n    login! To be able to have more pop3 accounts with the same\n    login name.\n - 2003-05-01 fixed bug#[134](http://bugs.otrs.org/show_bug.cgi?id=134) - Title shows \"Select box\" instead\n    of \"Admin Log\" - http://bugs.otrs.org/show_bug.cgi?id=134\n - 2003-05-01 fixed Kernel/System/AuthSession/\\*.pm to be able\n    to store 0 values\n\n#1.1.1 2003-05-01\n - 2003-04-30 removed agent notify about new note because new\n    owner got ticket assigned to you notify!\n - 2003-04-29 fixed bug#[131](http://bugs.otrs.org/show_bug.cgi?id=131) - QueueView shows wrong queue in\n    drop-downs - http://bugs.otrs.org/show_bug.cgi?id=131\n - 2003-04-29 added min. counter size option (default 5) for\n    Kernel::System::Ticket::Number::AutoIncrement module.\n - 2003-04-25 removed shown customer id in 'MyTickets' from\n    customer interface - added customer id to user name line\n\n#1.1 RC1 2003-04-24\n - 2003-04-24 added refresh time to AgentMailbox screen (refresh\n    time still exists for QueueView)\n - 2003-04-24 fixed \"show closed tickets\" in customer interface\n    (http://lists.otrs.org/pipermail/otrs/2003-April/001508.html)\n - 2003-04-24 fixed max shown tickets in QueueView (default now 1200)\n    (http://lists.otrs.org/pipermail/otrs/2003-April/001505.html)\n - 2003-04-23 fixed missing filename (default index.pl) for download\n    of attachments using Kernel/System/Ticket/ArticleStorageFS.pm\n    (http://lists.otrs.org/pipermail/otrs/2003-April/001491.html)\n - 2003-04-22 fixed bug#[123](http://bugs.otrs.org/show_bug.cgi?id=123) - Email address with simple quote\n    http://bugs.otrs.org/show_bug.cgi?id=123\n - 2003-04-18 added RH8 IPC (shm id 0) workaround (create dummy shm)\n - 2003-04-17 fixed AgentStatusView (1st ticket is actually the 2nd)\n - 2003-04-17 added Firstname/Lastname of agents to ticket history\n\n#1.1 RC1 2003-04-15\n - 2003-04-15 added Italian translation - Thanks to Remo Catelotti\n - 2003-04-14 improved performance of MIME parser (PostMaster)\n - 2003-04-13 added config option DefaultNoteTypes (used note\n    types) default is just note-internal because note-external and\n    note-report is confusing.\n - 2003-04-11 added check if ticket state type is closed or\n    removed then send not 'auto reply' to customer.\n    http://lists.otrs.org/pipermail/otrs/2003-April/001401.html\n - 2003-04-11 added check for quotable messages in auto response\n - 2003-04-11 added check and html2ascii convert for html only\n    emails on std. responses, forwards or splits\n - 2003-04-11 added Page Navigator for AgentQueueView -\n    http://lists.otrs.org/pipermail/otrs/2003-February/000881.html\n - 2003-04-09 improved AdminEmail feature with group recipient\n - 2003-04-08 added ticket split option in article zoom.\n - 2003-04-08 fixed bug#[109](http://bugs.otrs.org/show_bug.cgi?id=109) - Attachments not being forwarded on\n    http://bugs.otrs.org/show_bug.cgi?id=109\n - 2003-04-08 fixed bug#[111](http://bugs.otrs.org/show_bug.cgi?id=111) - Inability to forward on anything from:\n    'agent email(external)' - http://bugs.otrs.org/show_bug.cgi?id=110\n - 2003-03-24 improved user-auth and customer-auth ldap interface\n    with 'UserAttr' (UID for posixGroups objectclass and DN for non\n    posixGroups objectclass) on group access check. Config options now:\n\n```perl\n    $Self->{'AuthModule::LDAP::GroupDN'} = 'cn=otrsallow,ou=posixGroups,dc=example,dc=com';\n    $Self->{'AuthModule::LDAP::AccessAttr'} = 'memberUid';\n    # for ldap posixGroups objectclass (just uid)\n    $Self->{'AuthModule::LDAP::UserAttr'} = 'UID';\n    # for non ldap posixGroups objectclass (with full user dn)\n    $Self->{'AuthModule::LDAP::UserAttr'} = 'DN';\n```\n - 2003-03-24 added agent feature to be also customer of one ticket\n - 2003-03-24 added UncountedUnlockTime config options - e.g. don't\n    count Fri 16:00 - Mon 8:00 as unlock time.\n - 2003-03-23 added generic module/group permission concept for\n    Kernel/Modules/\\*.pm modules.\n    -=\\> add \"$Self-\\>{'Module::Permission'}-\\>{'module'} = 'group';\"\n    to Kernel/Config.pm like\n     \"$Self-\\>{'Module::Permission'}-\\>{'AdminAutoResponse'} = 'users';\"\n    to let the users groups able to change the auto responses.\n - 2003-03-13 improved create customer account - send account login\n    via email to requester (added config text for email)\n - 2003-03-13 added SendNoAutoResponseRegExp config option to send no\n    auto responses if regexp is matching. (Default is\n    '(MAILER-DAEMON|postmaster|abuse)@.+?\\..+?')\n - 2003-02-11 improved ticket search (merged fulltext and ticket number\n    rearch)\n - 2003-03-10 added customer email notification on move, state update\n    or owner update (config option for each queue). Use\n    \"scripts/DBUpdate-to-1.1.(mysql|postgresql).sql\".\n    http://lists.otrs.org/pipermail/dev/2002-June/000005.html\n - 2003-03-06 added ro/rw to group object. So the agent is able to search,\n    zoom, ... in tickets but can't edit the tickets - added also new config\n    option 'QueueViewAllPossibleTickets' to show the ro queues in the queue\n    (default 0 -=\\> not shown).\n    Use \"scripts/DBUpdate-to-1.1.(mysql|postgresql).sql\".\n - 2003-03-05 added sendmail backends (Kernel::System::Email::Sendmail\n    and Kernel::System::Email::SMTP) - for win32 user. New config options:\n\n```perl\n      $Self->{'SendmailModule'} = 'Kernel::System::Email::Sendmail';\n      $Self->{'SendmailModule::CMD'} = '/usr/sbin/sendmail -t -i -f ';\n\n      $Self->{'SendmailModule'} = 'Kernel::System::Email::SMTP';\n      $Self->{'SendmailModule::Host'} = 'mail.example.com';\n      $Self->{'SendmailModule::AuthUser'} = '';\n      $Self->{'SendmailModule::AuthPassword'} = '';\n```\n - 2003-03-05 added \"view all articles\" config option for ticket zoom\n    view (TicketZoomExpand default is 0) - new dtl templates for ticket\n    zoom Kernel/Output/HTML/\\*/AgentZoom\\*.dtl (removed TicketZoom\\*.dtl)\n    http://lists.otrs.org/pipermail/otrs/2003-January/000784.html\n - 2003-03-03 new ticket state implementation (added ticket\\_state\\_type\n    table). Use \"scripts/DBUpdate-to-1.1.(mysql|postgresql).sql\".\n    State name is now free settable (because of the ticket state name).\n    Added ticket state documentation.\n - 2003-02-25 rewrote scripts/backup.sh, update your cronjobs!\n    http://lists.otrs.org/pipermail/dev/2003-February/000112.html\n - 2003-02-23 added sub-queue support\n    http://lists.otrs.org/pipermail/otrs/2002-June/000065.html\n - 2003-02-17 added allowing the client to close a ticket via customer\n    panel - http://lists.otrs.org/pipermail/otrs/2003-February/000891.html\n - 2003-02-15 fixed hanging login problem with mod\\_perl2\n - 2003-02-15 added mod\\_perl2 support for web installer\n - 2003-02-15 unfortunately there is a mod\\_perl2 bug on RH8 - added\n    check if crypt() is working correctly\n - 2003-02-14 fixed default Spelling Dictionary selection and added\n    a preferences option\n - 2003-02-13 added PendingDiffTime config option (add this time to\n    shown (selected) pending time) -\n    http://lists.otrs.org/pipermail/otrs/2003-February/000899.html\n - 2003-02-09 updated priotity options with number prefix for sort of\n    html select fields - e. g. \"normal\" is \"3 normal\" and \"high\" is\n    \"4 high\" - use \"scripts/DBUpdate-to-1.1.(mysql|postgresql).sql\"\n - 2003-02-09 added ShowCustomerInfo(Queue|Zoom|Phone) config options\n    for shown CustomerInfo (e. g. company-name, phone, ...) on\n    AgentQueueView, AgentZoom and AgentPhone.\n - 2003-02-08 improved fulltext search with queue and priority option\n - 2003-02-08 added html color highlighting for ticket article type\n    e. g. to highlight internal and external notes in TicketZoom -=\\>\n    article tree.\n - 2003-02-08 added html color highlighting for ticket priority\n - 2003-02-08 moved to 100% CSS support for Standard and Lite theme\n - 2003-02-08 improved VERSION regex for 1.x.x.x cvs revision\n - 2003-02-08 changed database script location from install/database\n    to scripts/database\n\n#1.0 RC3 2003-02-03\n - 2003-02-03 added customer user info on TicketView, TicketZoom and PhoneView\n     dtl template (if wanted, uncomment it).\n - 2003-02-03 fixed java script stuff for Spell Check\n - 2003-02-03 added customer user serach to PhoneView\n - 2003-02-02 added pending ticket notification - Thanks to Andreas Haase!\n     http://lists.otrs.org/pipermail/otrs/2003-January/000839.html\n - 2003-01-27 fixed some doc typos - Thanks to Eddie Urenda!\n - 2003-01-27 added die string -=\\> better to find webserver user file\n    write permission problems (var/log/TicketCounter.log)!\n    Kernel/System/Ticket/Number/\\*.pm\n - 2003-01-23 added Brazilian Portuguese translation! Thanks to Gilberto\n    Cezar de Almeida!\n\n#1.0 RC2 2003-01-19\n - 2003-01-19 added CustomerUser LDAP backend - Thanks to Wiktor Wodecki!\n - 2003-01-19 fixed CustomerUser backend (config options)\n - 2003-01-18 fixed bug#[61](http://bugs.otrs.org/show_bug.cgi?id=61) (ArticleStorageInit error ) -\n    http://bugs.otrs.org/show_bug.cgi?id=61\n - 2003-01-17 fixed bug#[68](http://bugs.otrs.org/show_bug.cgi?id=68) on FreeBSD 4.7 (trying to \"compose email\" from\n    the agent interface) - http://bugs.otrs.org/show_bug.cgi?id=68\n - 2003-01-16 fixed bug#[62](http://bugs.otrs.org/show_bug.cgi?id=62) (not working command line utilitity) -\n    http://bugs.otrs.org/show_bug.cgi?id=62\n - 2003-01-16 added bin/otrs.checkModules to check installed and\n    required cpan modules\n - 2003-01-15 updated finnish translation! Thanks to Antti K\u00ef\u00bf\u00bdm\u00ef\u00bf\u00bdr\u00ef\u00bf\u00bdinen!\n - 2003-01-15 added CheckMXRecord option to webinstaller\n - 2003-01-14 fixed typos \"preferneces != preferences typo\"\n    http://lists.otrs.org/pipermail/dev/2003-January/000074.html\n    Thanks to Wiktor Wodecki!\n - 2003-01-14 fixed bug#[59](http://bugs.otrs.org/show_bug.cgi?id=59) (Bug in SELECT statement on empty search form) -\n    http://bugs.otrs.org/show_bug.cgi?id=59\n - 2003-01-14 updated french translation! Thanks to Nicolas Goralski!\n - 2003-01-12 added spanisch translation! Thanks to Jorge Becerra!\n - 2003-01-11 fixed AgentPhone bug of Time() in subject -\n    Time(DateFormatLong) was shown\n\n#1.0 RC1 (2003-01-09)\n - 2003-01-09 added AgentTicketPrint (Ticket Print View)\n - 2003-01-09 improved Kernel::System::Ticket::IndexAccelerator::RuntimeDB\n    and StaticDB (for locked tickets).\n - 2003-01-09 removed Kernel::System::Ticket::IndexAccelerator::FS\n    because RuntimeDB and StaticDB is enough\n - 2003-01-05 improved fulltext search (added ticket state search option)\n - 2003-01-05 added CMD option to bin/GenericAgent.pl (so you can\n    execute own programs on GenericAgent.pl actions - e. g. send\n    special admin emails)\n - 2003-01-02 added attachments support for std. responses\n - 2002-12-27 added filters (All, Open, New, Pending, Reminder) to\n    AgentMailbox (locked-ticket-view)\n - 2002-12-24 added pending feature for tickets\n - 2002-12-20 added Kernel::System::Ticket::ArticleStorage\\* modules\n    for attachments in database or fs (needs to update the database\n    (scripts/DBUpdate.(mysql|postgesql).sql)! The main reason is a lot\n    of people have problems with the file permissions of the local otrs\n    and webserver user (often incoming emails are shown some times again).\n    TicketStorageModule in Kernel/Config.pm.\n     * Kernel::System::Ticket::ArticleStorageDB -\\> (default)\n     * Kernel::System::Ticket::ArticleStorageFS -\\> (faster but webserver\n        user should be the otrs user - use it for larger setups!)\n - 2002-12-19 attachment support (send and view) for customer panel!\n - 2002-12-18 added config option CheckEmailAddresses and CheckMXRecord.\n    CheckMXRecord is useful for pre checks of valid/invalid senders (\n    reduce Postmaster emails). Disable CheckEmailAddresses if you work\n    with customers which don't have email addresses or your otrs system is\n    in your lan!\n - 2002-12-18 added more error handling to AgentPhone\n - 2002-12-15 added bin/PostMasterPOP3.pl and AdminPOP3 interface for\n    fetching emails without procmail, fetchmail and MDA\n - 2002-12-12 added finnish translation - Thanks to Antti K\u00ef\u00bf\u00bdm\u00ef\u00bf\u00bdr\u00ef\u00bf\u00bdinen!\n - 2002-12-08 added working PostMasterDaemon.pl and PostMasterClient.pl,\n    alternative to PostMaster.pl. How it works: If the PostMasterDaemon.pl\n    is running, pipe email through PostMasterClient.pl like (PostMaster.pl)\n    (e. g. \"cat /tmp/some.box | bin/PostMasterClient.pl\"). Pro: Speed, Contra\n    needs more memory.\n - 2002-12-07 added customer-user-backend Kernel/System/CustomerUser/DB.pm.\n - 2002-12-07 added preferences-backend module for user and customer user\n    (Kernel/System/ (User/Preferences/DB.pm and CustomerUser/Preferences/DB.pm)\n - 2002-12-04 moved from Date::Calc (Perl and C) to Date::Pcalc (Perl only)\n    and added Date::Pcalc to Kernel/cpan-lib/ (OS independent!).\n - 2002-12-01 moved GenericAgent.pm to GenericAgent.pm.dist to have tarball\n    updates easier.\n - 2002-12-01 moved finally to new config file Kernel/Config.pm.dist! Learn\n    more -=\\> INSTALL -=\\> \"Demo config files\"!\n - 2002-12-01 added \"enchant LDAP auth\" patch from Wiktor Wodecki for\n    Kernel/System/Auth/LDAP.pm and Kernel/System/CustomerAuth/LDAP.pm -\n    http://lists.otrs.org/pipermail/dev/2002-November/000043.html.\n    Thanks Wiktor!\n - 2002-11-28 fixed bug#[39](http://bugs.otrs.org/show_bug.cgi?id=39) - added mime encode for attachment file names\n    http://bugs.otrs.org/show_bug.cgi?id=39 - Thanks to Christoph Kaulich!\n - 2002-11-27 added backend modules for loop protection of PostMaster.pl\n    \"LoopProtectionModule\" in Kernel/Config.pm (default is DB) -\n    Kernel::System::PostMaster::LoopProtection::(DB|FS).\n - 2002-11-24 added delete ticket feature for GenericAgent.pl (removes tickets\n    from db and fs) - http://lists.otrs.org/pipermail/dev/2002-October/000037.html.\n - 2002-11-23 removed Kernel::Modules::AdminLanguage! Moved used languages\n    to config file (Kernel/Config.pm - DefaultUsedLanguages). Moved translation\n    files from long language names to short names like en, de, bg, nl, ...\n    (e. g. Kernel/Language/bg.pm). Updated docu.\n - 2002-11-21 moved var/cron/\\* to var/cron/\\*.dist (.dist is not used) to make\n    updates easier! Thanks to Bryan Fullerton!\n - 2002-11-15 moved %doc/install/\\* to /opt/OpenTRS/install in RPM-specs.\n    because the web-installer needs this stuff in this location. %doc isn't\n    consistent on different linux distributions!\n - 2002-11-15 fixed bug#[48](http://bugs.otrs.org/show_bug.cgi?id=48) custom modules don't work/load -\n    http://bugs.otrs.org/show_bug.cgi?id=48\n - 2002-11-15 added Dutch translation! Thanks to Fred van Dijk!\n - 2002-11-14 added Bulgarian translation! Thanks to Vladimir Gerdjikov!\n - 2002-11-11 added new config file as Kernel/Config.pm.dist (will be used\n    for \\>= OTRS 5.0 Beta9) if you want to test it with 0.5, use Kernel/Config.pm.dist\n    as Kernel/Config.pm (cp Kernel/Config.pm.dist Kernel/Config.pm)!\n    Kernel/Config/Defaults.pm is the config file with all defaults. If you want\n    to change this settings, add the needed entry to Kernel/Config.pm(.dist)\n    and the Kernel/Config/Defaults.pm will be overwrite. Updates will be much\n    easier! - http://lists.otrs.org/pipermail/otrs/2002-October/000315.html\n - 2002-11-11 added spell ckecker for agent interface (Kernel::Modules::AgentSpelling).\n - 2002-11-11 added browser window.status info for Standard Theme (Agent\n    and Customer frontend).\n - 2002-11-11 added some CPAN modules to Kernel/cpan-lib/ (CGI 2.89,\n    MIME-tools-5.411 and MailTools-1.51).\n - 2002-11-09 fixed attachment filename for IE (not the whole path like\n    c:\\Documents\\test.jpg) Kernel/Modules/AgentCompose.pm.\n - 2002-11-09 fixed bug in Kernel/System/EmailParser.pm if email headers\n    are longer then 64 characters. Thanks to Phil Davis!\n - 2002-11-01 added file permission check for PostMaster.pl on startup!\n    -=\\> Will help to get setup faster working!\n - 2002-10-31 added email valid check (incl. mx) on CreateAccount (customer\n    panel) -=\\> Config option: $Self-\\>{CheckMXRecord}!\n\n#0.5 BETA8 2002-10-25\n - 2002-10-24 improved web installer - added system settings\n - 2002-10-22 added notify mail to agent by ticket move - configurable via preferences\n - 2002-10-22 added Lite QueueView - configurable via preferences\n - 2002-10-20 added customer web frontend (bin/cgi-bin/customer.pl,\n     Kernel/Modules/Customer\\*.pm and Kernel/Output/HTML/\\*/Customer.dtl)\n - 2002-10-20 added lost password feature\n - added config support for AgentPreferences module (Kernel/Config/Preferences.pm)\n - added AgentStatusView module (overview of all open tickets) - (Thanks to Phil Davis)!\n - added support of generic session id name (e. g. SessionID, OTRS, ...)\n - added more flexibility for option string in Kernel::Modules::AgentPhone\n    [Kernel::Config::Phone]\n\n```perl\n      # PhoneViewASP -> useful for ASP\n      # (Possible to create in all queue? Not only queue which\n      # the own groups) [0|1]\n      $Self->{PhoneViewASP} = 1;\n      # PhoneViewSelectionType\n      # (To: section type. Queue => show all queues, SystemAddress => show all system\n      # addresses;) [Queue|SystemAddress]\n       $Self->{PhoneViewSelectionType} = 'SystemAddress';\n      # PhoneViewSelectionString\n      # (String for To: selection.)\n      $Self->{PhoneViewSelectionString} = '<Realname> <<Email>> - Queue: <Queue> - <QueueComment>';\n      # PhoneViewOwnSelection\n      # (If this is in use, \"just this selection is valid\" for the PhoneView.)\n      $Self->{PhoneViewOwnSelection} = {\n        # QueueID => String\n        '1' => 'First Queue!',\n        '2' => 'Second Queue!',\n      };\n```\n - added attachment support for agent compose answer\n - added Kernel::Modules::AdminEmail feature - a admin can send (via admin\n    interface) info to one or more agents.\n - added /etc/sysconfig/otrs file for rcscripts\n - added rpm for Red Hat Linux 7.3\n - added email notify on ownership change feature - see\n    http://lists.otrs.org/pipermail/otrs/2002-September/000213.html\n - added ReplyTo patch for PostMaster.pl of Phil Davis - Thanks Phil!\n    - http://lists.otrs.org/pipermail/otrs/2002-September/000203.html\n - created config file (Kernel/Config/GenericAgent.pm) for bin/GenericAgent.pl\n - splited Kernel/Config.pm info Kernel/Config.pm, Kernel/Config/Postmaster.pm\n    Kernel/Config/Phone.pm and Kernel/Config/Notification.pm and renamed some\n    config variables to get a better overview.\n - added new/current french translation - Thanks to Bernard Choppy!\n - added module support for log (Kernel/Config.pm --\\> $Self-\\>{LogModule})\n     * \"Kernel::System::Log::SysLog\" for syslogd (default)\n     * \"Kernel::System::Log::File\" for log file\n - added alternate login and logout URL feature (Kernel/Config.pm --\\>\n    $Self-\\>{LoginURL}, $Self-\\>{LogoutURL}) and added two example alternate\n    login pages scripts/login.pl (Perl) and scripts/login.php (PHP)\n - added backup and restore script (scripts/(backup|restore).sh)\n - moved Kernel::System::Article to Kernel::System::Ticket::Article! The\n    ArticleObject exists not longer in Kernel::Modules::\\*, use TicketObject.\n - fixed bug#[25](http://bugs.otrs.org/show_bug.cgi?id=25) Error on bounce of ticket - http://bugs.otrs.org/show_bug.cgi?id=25\n - fixed bug#[27](http://bugs.otrs.org/show_bug.cgi?id=27) Let the fields \"new message\" and \"Locked tickets\" be more visible -\n    http://bugs.otrs.org/show_bug.cgi?id=27\n - fixed bug#[23](http://bugs.otrs.org/show_bug.cgi?id=23) little menu logic mistake - http://bugs.otrs.org/show_bug.cgi?id=23\n - fixed bug#[30](http://bugs.otrs.org/show_bug.cgi?id=30) Kernel/System/DB.pm - DB quoting http://bugs.otrs.org/show_bug.cgi?id=30\n    Thanks to Marc Scheuffler!\n - fixed bug#[28](http://bugs.otrs.org/show_bug.cgi?id=28) Base64 Encoded mail fails - http://bugs.otrs.org/show_bug.cgi?id=28\n    Thanks to Christoph Kaulich!\n - fixed rpm bug for SuSE Linux 7.3 (Installer) - Thanks to Schirott Frank!\n\n#0.5 BETA7 2002-08-06\n - improved screen session management (next screen, last screen) added back\n    buttons\n - improved ticket and article lib functions (Kernel::System::Ticket::\\* and\n    Kernel::System::Article)\n - improved fulltext search\n - added time accounting for tickets (added new database table - time\\_accounting!\n    use scripts/DBUpdate.(mysql|postgresql).sql for database updates!)\n - added notify feature for ticket lock timeout by system\n - added user preferences item email (so login and email can be different)\n - added \"Std. Response on creating a queue\" feature\n    (http://lists.otrs.org/pipermail/otrs/2002-July/000114.html)\n - added module support for auth. (Kernel/Config.pm --\\> $Self-\\>{AuthModule})\n     * \"Kernel::System::Auth::DB\" against OTRS DB (default)\n     * \"Kernel::System::Auth::LDAP\" against a LDAP directory\n - added \"ChangeOwnerToEveryone\" feature fot AgentOwner (useful for ASP)\n    Kernel/Config.pm -\\> $Self-\\>{ChangeOwnerToEveryone} = [0|1]\n - added AgentCustomer module (set a customer id to a ticket and get a customer\n    history)\n - added a GenericAgent.pl! This program can do some generic actions on tickets\n    (like SetLock, MoveTicket, AddNote, SetOwner and SetState). It was developed\n    to close (automatically via cron job) ticket in a specific queue, e. g. all\n    tickets in the queue 'spam'. (Thanks to Gay Gilmore for the idea)\n - added a simple webform (scripts/webform.pl) to generate emails with X-OTRS-Header\n    to dispatch it with procmail (used for feedback forms)\n - added content\\_type col. to article table to handle differen charsets correctly\n    (use script/DBUpdate.(mysql|postgresql).sql to upgrate existing databases).\n - added generic session storage management (Kernel/Config.pm --\\> $Self-\\>{SessionModule})\n     * \"Kernel::System::AuthSession::DB\" (default) --\\> db storage\n     * \"Kernel::System::AuthSession::FS\" --\\> filesystem storage\n     * \"Kernel::System::AuthSession::IPC\" --\\> ram storage\n - added http cookie support for session management - it's more comfortable to\n    send links -==\\> if you have a valid session, you don't have to login again -\n    If the client browser disabled html cookies, otrs will work as usual, append\n    SessionID to links! (Kernel/Config.pm --\\> $Self-\\>{SessionUseCookie})\n - added generic ticket number generator (Kernel/Config.pm --\\> $Self-\\>{TicketNumberGenerator})\n     * \"Kernel::System::Ticket::Number::AutoIncrement\" (default) --\\> auto increment\n        ticket numbers \"SystemID.Counter\" like 1010138 and 1010139.\n     * \"Kernel::System::Ticket::Number::Date\" --\\> ticket numbers with date\n        \"Year.Month.Day.SystemID.Counter\" like 200206231010138 and 200206231010139.\n     * \"Kernel::System::Ticket::Number::DateChecksum\" --\\> ticket numbers with date and\n        check sum and the counter will be rotated daily like 2002070110101520 and 2002070110101535.\n     * \"Kernel::System::Ticket::Number::Random\" --\\> random ticket numbers \"SystemID.Random\"\n         like 100057866352 and 103745394596.\n - added UPGRADING file\n - updated redhat init script (Thanks to Pablo Ruiz Garcia)\n - fixed bug#[21](http://bugs.otrs.org/show_bug.cgi?id=21) \" in email addresses are missing - http://bugs.otrs.org/show_bug.cgi?id=21\n    (Thanks to Christoph Kaulich)\n - fixed bug#[19](http://bugs.otrs.org/show_bug.cgi?id=19) Responses sort randomly - http://bugs.otrs.org/show_bug.cgi?id=19\n - fixed SetPermissions.sh (permission for var/log/TicketCounter.log) (Thanks to\n    Pablo Ruiz Garcia)\n - fixed bug#[16](http://bugs.otrs.org/show_bug.cgi?id=16) Attachment download - http://bugs.otrs.org/show_bug.cgi?id=16\n    (Thanks to Christoph Kaulich)\n - fixed bug#[15](http://bugs.otrs.org/show_bug.cgi?id=15) typo in suse-rcotrs (redhat-rcotrs is not affected) -\n    http://bugs.otrs.org/show_bug.cgi?id=15\n\n#0.5 BETA6 2002-06-17\n - added AgentBounce module\n - moved from Unix::Syslog to Sys::Syslog (Kernel::System::Log) because Sys::Syslog\n    comes with Perl (not an additional CPAN module)!\n - added redhat-rcotrs script (thanks to Pablo Ruiz Garcia)\n - added OTRS cronjobs var/cron/[aaa\\_base|fetchmail|postmaster|session|unlock]\n     * aaa\\_base -\\> cronjob settings like MAILTO=\"root@localhost\"\n     * fetchmail -\\> cronjob for fetchmail\n     * postmaster -\\> cleanup for not processed email\n     * session -\\> cleanup for old sessions\n     * unlock -\\> ticket unlock\n - added OTRS cronjobs support (start/stop) to scripts/suse-rcotrs\n - moved all OTRS application required modules to two new files,\n     * Kernel/Config/Modules.pm (all used OTRS modules)\n     * Kernel/Config/ModulesCustom.pm (all add-on application modules, written by\n        someone else, e. g. customer db or accounting system)\n    to be release independently with Third Party modules for OTRS.\n - added $Env{\"Product\"} $Env{\"Version\"} (e. g. OTRS 0.5 Beta6) as dtl environment\n    variable. Source is $OTRS\\_HOME/RELEASE.\n - added display support for HTML-only emails\n - added generic database and webserver to scripts/suse-rcotrs script\n - added PostgreSQL (7.2 or higher) support (use OpenTRS-schema.postgresql.sql)\n - fixed bug#[12](http://bugs.otrs.org/show_bug.cgi?id=12) fetchmail lock problem - http://bugs.otrs.org/show_bug.cgi?id=12\n - fixed bug#[11](http://bugs.otrs.org/show_bug.cgi?id=11) typos - http://bugs.otrs.org/show_bug.cgi?id=11\n - fixed bug#[10](http://bugs.otrs.org/show_bug.cgi?id=10) user\\_preferences table  - http://bugs.otrs.org/show_bug.cgi?id=10\n - fixed bug#[9](http://bugs.otrs.org/show_bug.cgi?id=9) LoopProtection!!! Can't open'/opt/OpenTRS/var/log/LoopProtection-xyz.log':\n    No such file or directory! - http://bugs.otrs.org/show_bug.cgi?id=9\n - fixed HTML table bug in AdminArea::Queue (just with Netscape)\n - fixed SQL table preferences bug (use script/DBUpdate.mysql.sql)\n\n#0.5 BETA5 2002-05-27\n - added ticket escalation - if a ticket is to old, only this ticket will be shown\n    till somebody is working on it\n     * added new row (ticket\\_answered) to ticket table\n     * updated Kernel/Output/HTML/\\<THEME\\>/AdminQueueForm.dtl\n - added auto ticket unlock for locked old not answered tickets\n     * added new row (ticket\\_answered) to ticket table\n     * modified Kernel::System::Ticket::Lock::SetLock()\n     * added bin/UnlockTickets.pl with --timeout and --all options\n - added command line tool (bin/DeleteSessionIDs.pl) to delete expired or all session\n    ids via command line or cron - options are --help, --expired and --all\n - fixed bug#[7](http://bugs.otrs.org/show_bug.cgi?id=7) - space in Installer.pm\n    lets creating of database otrs in MySQL fail) by Stefan Schmidt.\n - added URL (screen) recovery after session timeout and possibility to send\n    links without session id. Example: Shows you the ticket after OTRS\n    login - http://host.example.com/otrs/index.pl?AgentZoom&TicketID=9\n - added http://bugs.otrs.org/ link to the Error.dtl template, to get an easier\n    bug reporting\n - added NoPermission.dtl screen\n - added phone tool - Kernel::Modules::AgentPhone.pm\n - added french translation (thanks to Martin Scherbaum)\n - added 'Send follow up notification' and 'Send new ticket notification' to agent\n    feature\n     * added new values to initial\\_insert.sql for agent notifications, table:\n       ticket\\_history\\_type, value: SendAgentNotification\n     * modified Kernel/Output/HTML/\\<THEME\\>/AgentPreferencesForm.dtl\n     * required \"new\" options in Kernel::Config.pm!\n - fixed suse-rcotrs script (thanks to Martin Scherbaum)\n     * added \"INIT INFO\"\n     * just check httpd and mysqld - no restart\n     * added stop-force|start-force option to restart httpd and mysqld\n - added help texts to the admin screens\n\n#0.5 BETA4 2002-05-07\n - changed login screen and added motd feature (Kernel/Output/HTML/Standard/Motd.dtl\n   the motd file)\n - added Kernel::Modules::AdminCharsets.pm\n - added Kernel::Modules::AdminStatus.pm\n - added Kernel::Modules::AdminLanguages.pm\n - added mod\\_perl stuff to README.webserver and scripts/suse-httpd.include.conf\n - fixed bug#[6](http://bugs.otrs.org/show_bug.cgi?id=6) - user is a reserved word in\n    SQL) reported by Charles Wimmer. Added some variables for table names and columns\n    to Kernel/Config.pm. Important: For existing installations you have to change the\n    Config.pm or to rename the \"user\" table to \"system\\_user\"!\n - added \"kill all sessions\" function to Kernel::Modules::AdminSession.pm\n - added old subject (\"subject snip\") and old email (\"body snip\") to auto reply\n - added stats support Kernel::Modules::SystemStats and bin/mkStats.pl (with GD)\n - fixed missing html quoting in Kernel::Output::HTML::Agent-\\>AgentHistory\n - update of html in AgentTicketView.dtl and AgentZoom.dtl\n - added MoveInToAllQueues [1|0] to Config.pm (allow to choose the move queues for\n    ticket view and zoom [all|own])\n\n#0.5 BETA3 2002-04-17\n - added AgentOwner Module\n - added AgentForward Module\n - added auto session delete functions if remote ip or session time is invalid.\n - added mail (show-)attachment function\n - added permission check functions for AgentZoom, AgentPlain and AgentAttachments\n - added README.application-module\n\n#0.5 BETA2 2002-04-11\n - html (\\*.dtl) beautified\n - added session driver (sql|fs)\n\n#0.5 BETA1 2002-03-11\n - first official release\n", "# --\n# Kernel/Modules/CustomerPreferences.pm - provides agent preferences\n# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::Modules::CustomerPreferences;\n\nuse strict;\nuse warnings;\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    # allocate new hash for object\n    my $Self = {%Param};\n    bless( $Self, $Type );\n\n    # check all needed objects\n    for (\n        qw(ParamObject DBObject QueueObject LayoutObject ConfigObject LogObject SessionObject UserObject)\n        )\n    {\n        if ( !$Self->{$_} ) {\n            $Self->{LayoutObject}->FatalError( Message => \"Got no $_!\" );\n        }\n    }\n\n    # get params\n    $Self->{Want} = $Self->{ParamObject}->GetParam( Param => 'Want' ) || '';\n\n    return $Self;\n}\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    # ------------------------------------------------------------ #\n    # update preferences\n    # ------------------------------------------------------------ #\n    if ( $Self->{Subaction} eq 'Update' ) {\n\n        # challenge token check for write action\n        $Self->{LayoutObject}->ChallengeTokenCheck(Type => 'Customer');\n\n        # check group param\n        my $Group = $Self->{ParamObject}->GetParam( Param => 'Group' ) || '';\n        if ( !$Group ) {\n            return $Self->{LayoutObject}->ErrorScreen( Message => 'Param Group is required!' );\n        }\n\n        # check preferences setting\n        my %Preferences = %{ $Self->{ConfigObject}->Get('CustomerPreferencesGroups') };\n        if ( !$Preferences{$Group} ) {\n            return $Self->{LayoutObject}->ErrorScreen( Message => \"No such config for $Group\" );\n        }\n\n        # get user data\n        my %UserData = $Self->{UserObject}->CustomerUserDataGet( User => $Self->{UserLogin} );\n        my $Module = $Preferences{$Group}->{Module};\n        if ( !$Self->{MainObject}->Require($Module) ) {\n            return $Self->{LayoutObject}->FatalError();\n        }\n        my $Object = $Module->new(\n            %{$Self},\n            ConfigItem => $Preferences{$Group},\n            Debug      => $Self->{Debug},\n        );\n\n        # log loaded module\n        if ( $Self->{Debug} > 1 ) {\n            $Self->{LogObject}->Log(\n                Priority => 'debug',\n                Message  => \"Module: $Module loaded!\",\n            );\n        }\n        my @Params = $Object->Param( UserData => \\%UserData );\n        my %GetParam;\n        for my $ParamItem (@Params) {\n            my @Array = $Self->{ParamObject}->GetArray(\n                Param => $ParamItem->{Name},\n                Raw => $ParamItem->{Raw} || 0,\n            );\n            $GetParam{ $ParamItem->{Name} } = \\@Array;\n        }\n        my $Message  = '';\n        my $Priority = '';\n        if ( $Object->Run( GetParam => \\%GetParam, UserData => \\%UserData ) ) {\n            $Message = $Object->Message();\n        }\n        else {\n            $Priority = 'Error';\n            $Message  = $Object->Error();\n        }\n\n        # check redirect\n        my $RedirectURL = $Self->{ParamObject}->GetParam( Param => 'RedirectURL' );\n        if ($RedirectURL) {\n            return $Self->{LayoutObject}->Redirect(\n                OP => $RedirectURL,\n            );\n        }\n\n        # redirect\n        return $Self->{LayoutObject}->Redirect(\n            OP => \"Action=CustomerPreferences;Priority=$Priority;Message=$Message\",\n        );\n    }\n\n    # ------------------------------------------------------------ #\n    # show preferences\n    # ------------------------------------------------------------ #\n    else {\n        my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Preferences' );\n        $Output .= $Self->{LayoutObject}->CustomerNavigationBar();\n\n        # get param\n        my $Message  = $Self->{ParamObject}->GetParam( Param => 'Message' )  || '';\n        my $Priority = $Self->{ParamObject}->GetParam( Param => 'Priority' ) || '';\n\n        # add notification\n        if ( $Message && $Priority eq 'Error' ) {\n            $Output .= $Self->{LayoutObject}->Notify(\n                Priority => $Priority,\n                Info     => $Message,\n            );\n        }\n        elsif ($Message) {\n            $Output .= $Self->{LayoutObject}->Notify( Info => $Message, );\n        }\n\n        # get user data\n        my %UserData = $Self->{UserObject}->CustomerUserDataGet( User => $Self->{UserLogin} );\n        $Output .= $Self->CustomerPreferencesForm( UserData => \\%UserData );\n        $Output .= $Self->{LayoutObject}->CustomerFooter();\n        return $Output;\n    }\n}\n\nsub CustomerPreferencesForm {\n    my ( $Self, %Param ) = @_;\n\n    $Self->{LayoutObject}->Block(\n        Name => 'Body',\n        Data => \\%Param,\n    );\n\n    my @Groups = @{ $Self->{ConfigObject}->Get('CustomerPreferencesView') };\n\n    COLUMN:\n    for my $Column (@Groups) {\n\n        next COLUMN if !$Column;\n\n        my %Data;\n        my %Preferences = %{ $Self->{ConfigObject}->Get('CustomerPreferencesGroups') };\n\n        GROUP:\n        for my $Group ( sort keys %Preferences ) {\n\n            next GROUP if !$Group;\n\n            my $PreferencesGroup = $Preferences{$Group};\n\n            next GROUP if !$PreferencesGroup;\n            next GROUP if ref $PreferencesGroup ne 'HASH';\n\n            $PreferencesGroup->{Column} ||= '';\n            $PreferencesGroup->{Prio}   ||= 9999;\n\n            next GROUP if $PreferencesGroup->{Column} ne $Column;\n\n            if ( $Data{ $PreferencesGroup->{Prio} } ) {\n\n                for ( 1 .. 151 ) {\n\n                    $PreferencesGroup->{Prio}++;\n\n                    if ( !$Data{ $PreferencesGroup->{Prio} } ) {\n                        $Data{ $PreferencesGroup->{Prio} } = $Group;\n                        last;\n                    }\n                }\n            }\n\n            $Data{ $PreferencesGroup->{Prio} } = $Group;\n        }\n\n        $Self->{LayoutObject}->Block(\n            Name => 'Head',\n            Data => { Header => $Column, },\n        );\n\n        # sort\n        for my $Key ( sort keys %Data ) {\n            $Data{ sprintf( \"%07d\", $Key ) } = $Data{$Key};\n            delete $Data{$Key};\n        }\n\n        # show each preferences setting\n        for my $Prio ( sort keys %Data ) {\n            my $Group = $Data{$Prio};\n            next if !$Self->{ConfigObject}->{CustomerPreferencesGroups}->{$Group};\n\n            my %Preference = %{ $Self->{ConfigObject}->{CustomerPreferencesGroups}->{$Group} };\n            next if !$Preference{Active};\n\n            # load module\n            my $Module = $Preference{Module} || 'Kernel::Output::HTML::CustomerPreferencesGeneric';\n            if ( !$Self->{MainObject}->Require($Module) ) {\n                return $Self->{LayoutObject}->FatalError();\n            }\n            my $Object = $Module->new(\n                %{$Self},\n                ConfigItem => $Preferences{$Group},\n                Debug      => $Self->{Debug},\n            );\n            my @Params = $Object->Param( UserData => $Param{UserData} );\n            next if !@Params;\n\n            # show item\n            $Self->{LayoutObject}->Block(\n                Name => 'Item',\n                Data => {\n                    Group => $Group,\n                    %Preference,\n                },\n            );\n            for my $ParamItem (@Params) {\n                if ( ref $ParamItem->{Data} eq 'HASH' || ref $Preference{Data} eq 'HASH' ) {\n                    $ParamItem->{Option} = $Self->{LayoutObject}->BuildSelection(\n                        %Preference, %{$ParamItem},\n                    );\n                }\n                $Self->{LayoutObject}->Block(\n                    Name => 'Block',\n                    Data => { %Preference, %{$ParamItem}, },\n                );\n                $Self->{LayoutObject}->Block(\n                    Name => $ParamItem->{Block} || $Preference{Block} || 'Option',\n                    Data => { %Preference, %{$ParamItem}, },\n                );\n            }\n        }\n    }\n\n    # create & return output\n    return $Self->{LayoutObject}->Output(\n        TemplateFile => 'CustomerPreferences',\n        Data         => \\%Param\n    );\n}\n\n1;\n", "# --\n# Kernel/Modules/CustomerTicketMessage.pm - to handle customer messages\n# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::Modules::CustomerTicketMessage;\n\nuse strict;\nuse warnings;\n\nuse Kernel::System::CustomerUser;\nuse Kernel::System::Web::UploadCache;\nuse Kernel::System::SystemAddress;\nuse Kernel::System::Queue;\nuse Kernel::System::State;\nuse Kernel::System::DynamicField;\nuse Kernel::System::DynamicField::Backend;\nuse Kernel::System::VariableCheck qw(:all);\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    # allocate new hash for object\n    my $Self = {%Param};\n    bless( $Self, $Type );\n\n    # check needed objects\n    for (qw(ParamObject DBObject TicketObject LayoutObject LogObject QueueObject ConfigObject)) {\n        if ( !$Self->{$_} ) {\n            $Self->{LayoutObject}->FatalError( Message => \"Got no $_!\" );\n        }\n    }\n\n    # needed objects\n    $Self->{CustomerUserObject} = Kernel::System::CustomerUser->new(%Param);\n    $Self->{StateObject}        = Kernel::System::State->new(%Param);\n    $Self->{SystemAddress}      = Kernel::System::SystemAddress->new(%Param);\n    $Self->{QueueObject}        = Kernel::System::Queue->new(%Param);\n    $Self->{UploadCacheObject}  = Kernel::System::Web::UploadCache->new(%Param);\n    $Self->{DynamicFieldObject} = Kernel::System::DynamicField->new(%Param);\n    $Self->{BackendObject}      = Kernel::System::DynamicField::Backend->new(%Param);\n\n    # get form id\n    $Self->{FormID} = $Self->{ParamObject}->GetParam( Param => 'FormID' );\n\n    # create form id\n    if ( !$Self->{FormID} ) {\n        $Self->{FormID} = $Self->{UploadCacheObject}->FormIDCreate();\n    }\n\n    $Self->{Config} = $Self->{ConfigObject}->Get(\"Ticket::Frontend::$Self->{Action}\");\n\n    # get the dynamic fields for this screen\n    $Self->{DynamicField} = $Self->{DynamicFieldObject}->DynamicFieldListGet(\n        Valid       => 1,\n        ObjectType  => [ 'Ticket', 'Article' ],\n        FieldFilter => $Self->{Config}->{DynamicField} || {},\n    );\n\n    return $Self;\n}\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    # get params\n    my %GetParam;\n    for my $Key (qw( Subject Body PriorityID TypeID ServiceID SLAID Expand Dest)) {\n        $GetParam{$Key} = $Self->{ParamObject}->GetParam( Param => $Key );\n    }\n\n    # ACL compatibility translation\n    my %ACLCompatGetParam;\n    $ACLCompatGetParam{OwnerID} = $GetParam{NewUserID};\n\n    # get Dynamic fields from ParamObject\n    my %DynamicFieldValues;\n\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        # extract the dynamic field value form the web request\n        $DynamicFieldValues{ $DynamicFieldConfig->{Name} } =\n            $Self->{BackendObject}->EditFieldValueGet(\n            DynamicFieldConfig => $DynamicFieldConfig,\n            ParamObject        => $Self->{ParamObject},\n            LayoutObject       => $Self->{LayoutObject},\n            );\n    }\n\n    # convert dynamic field values into a structure for ACLs\n    my %DynamicFieldACLParameters;\n    DYNAMICFIELD:\n    for my $DynamicField ( sort keys %DynamicFieldValues ) {\n        next DYNAMICFIELD if !$DynamicField;\n        next DYNAMICFIELD if !$DynamicFieldValues{$DynamicField};\n\n        $DynamicFieldACLParameters{ 'DynamicField_' . $DynamicField }\n            = $DynamicFieldValues{$DynamicField};\n    }\n    $GetParam{DynamicField} = \\%DynamicFieldACLParameters;\n\n    if ( !$Self->{Subaction} ) {\n\n        #Get default Queue ID if none is set\n        my $QueueDefaultID;\n        if ( !$GetParam{Dest} && !$Param{ToSelected} ) {\n            my $QueueDefault = $Self->{Config}->{'QueueDefault'} || '';\n            if ($QueueDefault) {\n                $QueueDefaultID = $Self->{QueueObject}->QueueLookup( Queue => $QueueDefault );\n                if ($QueueDefaultID) {\n                    $Param{ToSelected} = $QueueDefaultID . '||' . $QueueDefault;\n                }\n            }\n\n            # warn if there is no (valid) default queue and the customer can't select one\n            elsif ( !$Self->{Config}->{'Queue'} ) {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => 'Check SysConfig setting for ' . $Self->{Action} . '::QueueDefault.',\n                    Comment => 'Please contact your administrator',\n                );\n                return;\n            }\n        }\n\n        # create html strings for all dynamic fields\n        my %DynamicFieldHTML;\n\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            my $PossibleValuesFilter;\n\n            # check if field has PossibleValues property in its configuration\n            if ( IsHashRefWithData( $DynamicFieldConfig->{Config}->{PossibleValues} ) ) {\n\n                # convert possible values key => value to key => key for ACLs usign a Hash slice\n                my %AclData = %{ $DynamicFieldConfig->{Config}->{PossibleValues} };\n                @AclData{ keys %AclData } = keys %AclData;\n\n                # set possible values filter from ACLs\n                my $ACL = $Self->{TicketObject}->TicketAcl(\n                    %GetParam,\n                    Action         => $Self->{Action},\n                    TicketID       => $Self->{TicketID},\n                    ReturnType     => 'Ticket',\n                    ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data           => \\%AclData,\n                    CustomerUserID => $Self->{UserID},\n                );\n                if ($ACL) {\n                    my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                    # convert Filer key => key back to key => value using map\n                    %{$PossibleValuesFilter}\n                        = map { $_ => $DynamicFieldConfig->{Config}->{PossibleValues}->{$_} }\n                        keys %Filter;\n                }\n            }\n\n            # get field html\n            $DynamicFieldHTML{ $DynamicFieldConfig->{Name} } =\n                $Self->{BackendObject}->EditFieldRender(\n                DynamicFieldConfig   => $DynamicFieldConfig,\n                PossibleValuesFilter => $PossibleValuesFilter,\n                Mandatory =>\n                    $Self->{Config}->{DynamicField}->{ $DynamicFieldConfig->{Name} } == 2,\n                LayoutObject    => $Self->{LayoutObject},\n                ParamObject     => $Self->{ParamObject},\n                AJAXUpdate      => 1,\n                UpdatableFields => $Self->_GetFieldsToUpdate(),\n                );\n        }\n\n        # print form ...\n        my $Output .= $Self->{LayoutObject}->CustomerHeader();\n        $Output    .= $Self->{LayoutObject}->CustomerNavigationBar();\n        $Output    .= $Self->_MaskNew(\n            %GetParam,\n            QueueID          => $QueueDefaultID,\n            ToSelected       => $Param{ToSelected},\n            DynamicFieldHTML => \\%DynamicFieldHTML,\n        );\n        $Output .= $Self->{LayoutObject}->CustomerFooter();\n        return $Output;\n    }\n    elsif ( $Self->{Subaction} eq 'StoreNew' ) {\n\n        # challenge token check for write action\n        $Self->{LayoutObject}->ChallengeTokenCheck(Type => 'Customer');\n\n        my $NextScreen = $Self->{Config}->{NextScreenAfterNewTicket};\n        my %Error;\n\n        # get destination queue\n        my $Dest = $Self->{ParamObject}->GetParam( Param => 'Dest' ) || '';\n        my ( $NewQueueID, $To ) = split( /\\|\\|/, $Dest );\n        if ( !$To ) {\n            $NewQueueID = $Self->{ParamObject}->GetParam( Param => 'NewQueueID' ) || '';\n            $To = 'System';\n        }\n\n        # fallback, if no destination is given\n        if ( !$NewQueueID ) {\n            my $Queue\n                = $Self->{ParamObject}->GetParam( Param => 'Queue' )\n                || $Self->{Config}->{'QueueDefault'}\n                || '';\n            if ($Queue) {\n                my $QueueID = $Self->{QueueObject}->QueueLookup( Queue => $Queue );\n                $NewQueueID = $QueueID;\n                $To         = $Queue;\n            }\n        }\n\n        # use default if ticket type is not available in screen but activated on system\n        if ( $Self->{ConfigObject}->Get('Ticket::Type') && !$Self->{Config}->{'TicketType'} ) {\n            my %TypeList = reverse $Self->{TicketObject}->TicketTypeList(\n                %Param,\n                Action         => $Self->{Action},\n                CustomerUserID => $Self->{UserID},\n            );\n            $GetParam{TypeID} = $TypeList{ $Self->{Config}->{'TicketTypeDefault'} };\n            if ( !$GetParam{TypeID} ) {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => 'Check SysConfig setting for '\n                        . $Self->{Action}\n                        . '::TicketTypeDefault.',\n                    Comment => 'Please contact your administrator',\n                );\n                return;\n            }\n        }\n\n        # If is an action about attachments\n        my $IsUpload = 0;\n\n        # attachment delete\n        for my $Count ( 1 .. 32 ) {\n            my $Delete = $Self->{ParamObject}->GetParam( Param => \"AttachmentDelete$Count\" );\n            next if !$Delete;\n            $Error{AttachmentDelete} = 1;\n            $Self->{UploadCacheObject}->FormIDRemoveFile(\n                FormID => $Self->{FormID},\n                FileID => $Count,\n            );\n            $IsUpload = 1;\n        }\n\n        # attachment upload\n        if ( $Self->{ParamObject}->GetParam( Param => 'AttachmentUpload' ) ) {\n            $IsUpload = 1;\n            $Error{AttachmentUpload} = 1;\n            my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n                Param  => 'file_upload',\n                Source => 'string',\n            );\n            $Self->{UploadCacheObject}->FormIDAddFile(\n                FormID => $Self->{FormID},\n                %UploadStuff,\n            );\n        }\n\n        # get all attachments meta data\n        my @Attachments = $Self->{UploadCacheObject}->FormIDGetAllFilesMeta(\n            FormID => $Self->{FormID},\n        );\n\n        # create html strings for all dynamic fields\n        my %DynamicFieldHTML;\n\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            my $PossibleValuesFilter;\n\n            # check if field has PossibleValues property in its configuration\n            if ( IsHashRefWithData( $DynamicFieldConfig->{Config}->{PossibleValues} ) ) {\n\n                # convert possible values key => value to key => key for ACLs usign a Hash slice\n                my %AclData = %{ $DynamicFieldConfig->{Config}->{PossibleValues} };\n                @AclData{ keys %AclData } = keys %AclData;\n\n                # set possible values filter from ACLs\n                my $ACL = $Self->{TicketObject}->TicketAcl(\n                    %GetParam,\n                    Action         => $Self->{Action},\n                    TicketID       => $Self->{TicketID},\n                    ReturnType     => 'Ticket',\n                    ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data           => \\%AclData,\n                    CustomerUserID => $Self->{UserID},\n                );\n                if ($ACL) {\n                    my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                    # convert Filer key => key back to key => value using map\n                    %{$PossibleValuesFilter}\n                        = map { $_ => $DynamicFieldConfig->{Config}->{PossibleValues}->{$_} }\n                        keys %Filter;\n                }\n            }\n\n            my $ValidationResult;\n\n            # do not validate on attachment upload or GetParam Expand\n            if ( !$IsUpload && !$GetParam{Expand} ) {\n\n                $ValidationResult = $Self->{BackendObject}->EditFieldValueValidate(\n                    DynamicFieldConfig   => $DynamicFieldConfig,\n                    PossibleValuesFilter => $PossibleValuesFilter,\n                    ParamObject          => $Self->{ParamObject},\n                    Mandatory =>\n                        $Self->{Config}->{DynamicField}->{ $DynamicFieldConfig->{Name} } == 2,\n                );\n\n                if ( !IsHashRefWithData($ValidationResult) ) {\n                    my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n                    $Output .= $Self->{LayoutObject}->CustomerError(\n                        Message =>\n                            \"Could not perform validation on field $DynamicFieldConfig->{Label}!\",\n                        Comment => 'Please contact your administrator',\n                    );\n                    $Output .= $Self->{LayoutObject}->CustomerFooter();\n                    return $Output;\n                }\n\n                # propagate validation error to the Error variable to be detected by the frontend\n                if ( $ValidationResult->{ServerError} ) {\n                    $Error{ $DynamicFieldConfig->{Name} } = ' ServerError';\n                }\n            }\n\n            # get field html\n            $DynamicFieldHTML{ $DynamicFieldConfig->{Name} } =\n                $Self->{BackendObject}->EditFieldRender(\n                DynamicFieldConfig   => $DynamicFieldConfig,\n                PossibleValuesFilter => $PossibleValuesFilter,\n                Mandatory =>\n                    $Self->{Config}->{DynamicField}->{ $DynamicFieldConfig->{Name} } == 2,\n                ServerError  => $ValidationResult->{ServerError}  || '',\n                ErrorMessage => $ValidationResult->{ErrorMessage} || '',\n                LayoutObject => $Self->{LayoutObject},\n                ParamObject  => $Self->{ParamObject},\n                AJAXUpdate   => 1,\n                UpdatableFields => $Self->_GetFieldsToUpdate(),\n                );\n        }\n\n        # rewrap body if no rich text is used\n        if ( $GetParam{Body} && !$Self->{LayoutObject}->{BrowserRichText} ) {\n            $GetParam{Body} = $Self->{LayoutObject}->WrapPlainText(\n                MaxCharacters => $Self->{ConfigObject}->Get('Ticket::Frontend::TextAreaNote'),\n                PlainText     => $GetParam{Body},\n            );\n        }\n\n        # check queue\n        if ( !$NewQueueID && !$IsUpload && !$GetParam{Expand} ) {\n            $Error{QueueInvalid} = 'ServerError';\n        }\n\n        # prevent tamper with (Queue/Dest), see bug#9408\n        if ( $NewQueueID && !$IsUpload ) {\n\n            # get the original list of queues to display\n            my $Tos = $Self->_GetTos(\n                %GetParam,\n                %ACLCompatGetParam,\n                QueueID => $NewQueueID,\n            );\n\n            # check if current selected QueueID exists in the list of queues,\\\n            # otherwise rise an error\n            if ( !$Tos->{$NewQueueID} ) {\n                $Error{QueueInvalid} = 'ServerError';\n            }\n\n            # set the correct queue name in $To if it was altered\n            if ( $To ne $Tos->{$NewQueueID} ) {\n                $To = $Tos->{$NewQueueID}\n            }\n        }\n\n        # check subject\n        if ( !$GetParam{Subject} && !$IsUpload ) {\n            $Error{SubjectInvalid} = 'ServerError';\n        }\n\n        # check body\n        if ( !$GetParam{Body} && !$IsUpload ) {\n            $Error{BodyInvalid} = 'ServerError';\n        }\n        if ( $GetParam{Expand} ) {\n            %Error = ();\n            $Error{Expand} = 1;\n        }\n\n        # check type\n        if (\n            $Self->{ConfigObject}->Get('Ticket::Type')\n            && !$GetParam{TypeID}\n            && !$IsUpload\n            && !$GetParam{Expand}\n            )\n        {\n            $Error{TypeIDInvalid} = 'ServerError';\n        }\n\n        if (%Error) {\n\n            # html output\n            my $Output .= $Self->{LayoutObject}->CustomerHeader();\n            $Output    .= $Self->{LayoutObject}->CustomerNavigationBar();\n            $Output    .= $Self->_MaskNew(\n                Attachments => \\@Attachments,\n                %GetParam,\n                ToSelected       => $Dest,\n                QueueID          => $NewQueueID,\n                DynamicFieldHTML => \\%DynamicFieldHTML,\n                Errors           => \\%Error,\n            );\n            $Output .= $Self->{LayoutObject}->CustomerFooter();\n            return $Output;\n        }\n\n        # if customer is not allowed to set priority, set it to default\n        if ( !$Self->{Config}->{Priority} ) {\n            $GetParam{PriorityID} = '';\n            $GetParam{Priority}   = $Self->{Config}->{PriorityDefault};\n        }\n\n        # create new ticket, do db insert\n        my $TicketID = $Self->{TicketObject}->TicketCreate(\n            QueueID      => $NewQueueID,\n            TypeID       => $GetParam{TypeID},\n            ServiceID    => $GetParam{ServiceID},\n            SLAID        => $GetParam{SLAID},\n            Title        => $GetParam{Subject},\n            PriorityID   => $GetParam{PriorityID},\n            Priority     => $GetParam{Priority},\n            Lock         => 'unlock',\n            State        => $Self->{Config}->{StateDefault},\n            CustomerID   => $Self->{UserCustomerID},\n            CustomerUser => $Self->{UserLogin},\n            OwnerID      => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            UserID       => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n        );\n\n        # set ticket dynamic fields\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Ticket';\n\n            # set the value\n            my $Success = $Self->{BackendObject}->ValueSet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $TicketID,\n                Value              => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                UserID             => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        my $MimeType = 'text/plain';\n        if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n            $MimeType = 'text/html';\n\n            # verify html document\n            $GetParam{Body} = $Self->{LayoutObject}->RichTextDocumentComplete(\n                String => $GetParam{Body},\n            );\n        }\n\n        # create article\n        my $FullName = $Self->{CustomerUserObject}->CustomerName(\n            UserLogin => $Self->{UserLogin},\n        );\n        my $From      = \"\\\"$FullName\\\" <$Self->{UserEmail}>\";\n        my $ArticleID = $Self->{TicketObject}->ArticleCreate(\n            TicketID         => $TicketID,\n            ArticleType      => $Self->{Config}->{ArticleType},\n            SenderType       => $Self->{Config}->{SenderType},\n            From             => $From,\n            To               => $To,\n            Subject          => $GetParam{Subject},\n            Body             => $GetParam{Body},\n            MimeType         => $MimeType,\n            Charset          => $Self->{LayoutObject}->{UserCharset},\n            UserID           => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            HistoryType      => $Self->{Config}->{HistoryType},\n            HistoryComment   => $Self->{Config}->{HistoryComment} || '%%',\n            AutoResponseType => 'auto reply',\n            OrigHeader       => {\n                From    => $From,\n                To      => $Self->{UserLogin},\n                Subject => $GetParam{Subject},\n                Body    => $Self->{LayoutObject}->RichText2Ascii( String => $GetParam{Body} ),\n            },\n            Queue => $Self->{QueueObject}->QueueLookup( QueueID => $NewQueueID ),\n        );\n        if ( !$ArticleID ) {\n            my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n            $Output .= $Self->{LayoutObject}->CustomerError();\n            $Output .= $Self->{LayoutObject}->CustomerFooter();\n            return $Output;\n        }\n\n        # set article dynamic fields\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Article';\n\n            # set the value\n            my $Success = $Self->{BackendObject}->ValueSet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $ArticleID,\n                Value              => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                UserID             => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # get pre loaded attachment\n        my @AttachmentData = $Self->{UploadCacheObject}->FormIDGetAllFilesData(\n            FormID => $Self->{FormID},\n        );\n\n        # get submitted attachment\n        my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n            Param  => 'file_upload',\n            Source => 'String',\n        );\n        if (%UploadStuff) {\n            push @AttachmentData, \\%UploadStuff;\n        }\n\n        # write attachments\n        for my $Attachment (@AttachmentData) {\n\n            # skip, deleted not used inline images\n            my $ContentID = $Attachment->{ContentID};\n            if ($ContentID) {\n                my $ContentIDHTMLQuote = $Self->{LayoutObject}->Ascii2Html(\n                    Text => $ContentID,\n                );\n\n                # workaround for link encode of rich text editor, see bug#5053\n                my $ContentIDLinkEncode = $Self->{LayoutObject}->LinkEncode($ContentID);\n                $GetParam{Body} =~ s/(ContentID=)$ContentIDLinkEncode/$1$ContentID/g;\n\n                # ignore attachment if not linked in body\n                next if $GetParam{Body} !~ /(\\Q$ContentIDHTMLQuote\\E|\\Q$ContentID\\E)/i;\n            }\n\n            # write existing file to backend\n            $Self->{TicketObject}->ArticleWriteAttachment(\n                %{$Attachment},\n                ArticleID => $ArticleID,\n                UserID    => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # remove pre submitted attachments\n        $Self->{UploadCacheObject}->FormIDRemove( FormID => $Self->{FormID} );\n\n        # redirect\n        return $Self->{LayoutObject}->Redirect(\n            OP => \"Action=$NextScreen;TicketID=$TicketID\",\n        );\n    }\n\n    elsif ( $Self->{Subaction} eq 'AJAXUpdate' ) {\n\n        my $Dest         = $Self->{ParamObject}->GetParam( Param => 'Dest' ) || '';\n        my $CustomerUser = $Self->{UserID};\n        my $QueueID      = '';\n        if ( $Dest =~ /^(\\d{1,100})\\|\\|.+?$/ ) {\n            $QueueID = $1;\n        }\n\n        # get list type\n        my $TreeView = 0;\n        if ( $Self->{ConfigObject}->Get('Ticket::Frontend::ListType') eq 'tree' ) {\n            $TreeView = 1;\n        }\n\n        my $Tos = $Self->_GetTos(\n            %GetParam,\n            %ACLCompatGetParam,\n            QueueID => $QueueID,\n        );\n\n        my $NewTos;\n\n        if ($Tos) {\n            for my $KeyTo ( sort keys %{$Tos} ) {\n                $NewTos->{\"$KeyTo||$Tos->{$KeyTo}\"} = $Tos->{$KeyTo};\n            }\n        }\n        my $Priorities = $Self->_GetPriorities(\n            %GetParam,\n            %ACLCompatGetParam,\n            CustomerUserID => $CustomerUser || '',\n            QueueID        => $QueueID      || 1,\n        );\n        my $Services = $Self->_GetServices(\n            %GetParam,\n            %ACLCompatGetParam,\n            CustomerUserID => $CustomerUser || '',\n            QueueID        => $QueueID      || 1,\n        );\n        my $SLAs = $Self->_GetSLAs(\n            %GetParam,\n            %ACLCompatGetParam,\n            CustomerUserID => $CustomerUser || '',\n            QueueID        => $QueueID      || 1,\n            Services       => $Services,\n        );\n\n        # update Dynamic Fields Possible Values via AJAX\n        my @DynamicFieldAJAX;\n\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD\n                if !$Self->{BackendObject}->IsAJAXUpdateable(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                );\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Ticket';\n\n            my $PossibleValues = $Self->{BackendObject}->AJAXPossibleValuesGet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n            );\n\n            # convert possible values key => value to key => key for ACLs usign a Hash slice\n            my %AclData = %{$PossibleValues};\n            @AclData{ keys %AclData } = keys %AclData;\n\n            # set possible values filter from ACLs\n            my $ACL = $Self->{TicketObject}->TicketAcl(\n                %GetParam,\n                %ACLCompatGetParam,\n                Action         => $Self->{Action},\n                QueueID        => $QueueID || 0,\n                ReturnType     => 'Ticket',\n                ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                Data           => \\%AclData,\n                CustomerUserID => $Self->{UserID},\n            );\n            if ($ACL) {\n                my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                # convert Filer key => key back to key => value using map\n                %{$PossibleValues} = map { $_ => $PossibleValues->{$_} } keys %Filter;\n            }\n\n            # add dynamic field to the list of fields to update\n            push(\n                @DynamicFieldAJAX,\n                {\n                    Name        => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data        => $PossibleValues,\n                    SelectedID  => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                    Translation => $DynamicFieldConfig->{Config}->{TranslatableValues} || 0,\n                    Max         => 100,\n                }\n            );\n        }\n\n        my $JSON = $Self->{LayoutObject}->BuildSelectionJSON(\n            [\n                {\n                    Name         => 'Dest',\n                    Data         => $NewTos,\n                    SelectedID   => $Dest,\n                    Translation  => 0,\n                    PossibleNone => 0,\n                    TreeView     => $TreeView,\n                    Max          => 100,\n                },\n                {\n                    Name        => 'PriorityID',\n                    Data        => $Priorities,\n                    SelectedID  => $GetParam{PriorityID},\n                    Translation => 1,\n                    Max         => 100,\n                },\n                {\n                    Name         => 'ServiceID',\n                    Data         => $Services,\n                    SelectedID   => $GetParam{ServiceID},\n                    PossibleNone => 1,\n                    Translation  => 0,\n                    TreeView     => $TreeView,\n                    Max          => 100,\n                },\n                {\n                    Name         => 'SLAID',\n                    Data         => $SLAs,\n                    SelectedID   => $GetParam{SLAID},\n                    PossibleNone => 1,\n                    Translation  => 0,\n                    Max          => 100,\n                },\n                @DynamicFieldAJAX,\n            ],\n        );\n        return $Self->{LayoutObject}->Attachment(\n            ContentType => 'application/json; charset=' . $Self->{LayoutObject}->{Charset},\n            Content     => $JSON,\n            Type        => 'inline',\n            NoCache     => 1,\n        );\n    }\n    else {\n        return $Self->{LayoutObject}->ErrorScreen(\n            Message => 'No Subaction!!',\n            Comment => 'Please contact your administrator',\n        );\n    }\n\n}\n\nsub _GetPriorities {\n    my ( $Self, %Param ) = @_;\n\n    # get priority\n    my %Priorities;\n    if ( $Param{QueueID} || $Param{TicketID} ) {\n        %Priorities = $Self->{TicketObject}->TicketPriorityList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n    }\n    return \\%Priorities;\n}\n\nsub _GetTypes {\n    my ( $Self, %Param ) = @_;\n\n    # get type\n    my %Type;\n    if ( $Param{QueueID} || $Param{TicketID} ) {\n        %Type = $Self->{TicketObject}->TicketTypeList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n    }\n    return \\%Type;\n}\n\nsub _GetServices {\n    my ( $Self, %Param ) = @_;\n\n    # get service\n    my %Service;\n\n    # check needed\n    return \\%Service if !$Param{QueueID} && !$Param{TicketID};\n\n    # get options for default services for unknown customers\n    my $DefaultServiceUnknownCustomer\n        = $Self->{ConfigObject}->Get('Ticket::Service::Default::UnknownCustomer');\n\n    # get service list\n    if ( $Param{CustomerUserID} || $DefaultServiceUnknownCustomer ) {\n        %Service = $Self->{TicketObject}->TicketServiceList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n    }\n    return \\%Service;\n}\n\nsub _GetSLAs {\n    my ( $Self, %Param ) = @_;\n\n    # get sla\n    my %SLA;\n    if ( $Param{ServiceID} && $Param{Services} && %{ $Param{Services} } ) {\n        if ( $Param{Services}->{ $Param{ServiceID} } ) {\n            %SLA = $Self->{TicketObject}->TicketSLAList(\n                %Param,\n                Action         => $Self->{Action},\n                CustomerUserID => $Self->{UserID},\n            );\n        }\n    }\n    return \\%SLA;\n}\n\nsub _GetTos {\n    my ( $Self, %Param ) = @_;\n\n    # check own selection\n    my %NewTos = ( '', '-' );\n    my $Module = $Self->{ConfigObject}->Get('CustomerPanel::NewTicketQueueSelectionModule')\n        || 'Kernel::Output::HTML::CustomerNewTicketQueueSelectionGeneric';\n    if ( $Self->{MainObject}->Require($Module) ) {\n        my $Object = $Module->new( %{$Self}, Debug => $Self->{Debug}, );\n\n        # log loaded module\n        if ( $Self->{Debug} > 1 ) {\n            $Self->{LogObject}->Log(\n                Priority => 'debug',\n                Message  => \"Module: $Module loaded!\",\n            );\n        }\n        %NewTos = ( $Object->Run( Env => $Self, ACLParams => \\%Param ), ( '', => '-' ) );\n    }\n    else {\n        return $Self->{LayoutObject}->FatalDie(\n            Message => \"Could not load $Module!\",\n        );\n    }\n\n    return \\%NewTos;\n}\n\nsub _MaskNew {\n    my ( $Self, %Param ) = @_;\n\n    $Param{FormID} = $Self->{FormID};\n    $Param{Errors}->{QueueInvalid} = $Param{Errors}->{QueueInvalid} || '';\n\n    # get list type\n    my $TreeView = 0;\n    if ( $Self->{ConfigObject}->Get('Ticket::Frontend::ListType') eq 'tree' ) {\n        $TreeView = 1;\n    }\n\n    if ( $Self->{Config}->{Queue} ) {\n\n        # check own selection\n        my %NewTos = ( '', '-' );\n        my $Module = $Self->{ConfigObject}->Get('CustomerPanel::NewTicketQueueSelectionModule')\n            || 'Kernel::Output::HTML::CustomerNewTicketQueueSelectionGeneric';\n        if ( $Self->{MainObject}->Require($Module) ) {\n            my $Object = $Module->new( %{$Self}, Debug => $Self->{Debug}, );\n\n            # log loaded module\n            if ( $Self->{Debug} > 1 ) {\n                $Self->{LogObject}->Log(\n                    Priority => 'debug',\n                    Message  => \"Module: $Module loaded!\",\n                );\n            }\n            %NewTos = ( $Object->Run( Env => $Self, ACLParams => \\%Param ), ( '', => '-' ) );\n        }\n        else {\n            return $Self->{LayoutObject}->FatalError();\n        }\n\n        # build to string\n        if (%NewTos) {\n            for ( sort keys %NewTos ) {\n                $NewTos{\"$_||$NewTos{$_}\"} = $NewTos{$_};\n                delete $NewTos{$_};\n            }\n        }\n        $Param{ToStrg} = $Self->{LayoutObject}->AgentQueueListOption(\n            Data       => \\%NewTos,\n            Multiple   => 0,\n            Size       => 0,\n            Name       => 'Dest',\n            Class      => \"Validate_Required \" . $Param{Errors}->{QueueInvalid},\n            SelectedID => $Param{ToSelected} || $Param{QueueID},\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'Queue',\n            Data => {\n                %Param,\n                QueueInvalid => $Param{Errors}->{QueueInvalid},\n            },\n        );\n\n    }\n\n    # get priority\n    if ( $Self->{Config}->{Priority} ) {\n        my %Priorities = $Self->{TicketObject}->TicketPriorityList(\n            %Param,\n            CustomerUserID => $Self->{UserID},\n            Action         => $Self->{Action},\n        );\n\n        # build priority string\n        my %PrioritySelected;\n        if ( $Param{PriorityID} ) {\n            $PrioritySelected{SelectedID} = $Param{PriorityID};\n        }\n        else {\n            $PrioritySelected{SelectedValue} = $Self->{Config}->{PriorityDefault} || '3 normal';\n        }\n        $Param{PriorityStrg} = $Self->{LayoutObject}->BuildSelection(\n            Data => \\%Priorities,\n            Name => 'PriorityID',\n            %PrioritySelected,\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'Priority',\n            Data => \\%Param,\n        );\n    }\n\n    # types\n    if ( $Self->{ConfigObject}->Get('Ticket::Type') && $Self->{Config}->{'TicketType'} ) {\n        my %Type = $Self->{TicketObject}->TicketTypeList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n\n        if ( $Self->{Config}->{'TicketTypeDefault'} && !$Param{TypeID} ) {\n            my %ReverseType = reverse %Type;\n            $Param{TypeID} = $ReverseType{ $Self->{Config}->{'TicketTypeDefault'} };\n        }\n\n        $Param{TypeStrg} = $Self->{LayoutObject}->BuildSelection(\n            Data         => \\%Type,\n            Name         => 'TypeID',\n            SelectedID   => $Param{TypeID},\n            PossibleNone => 1,\n            Sort         => 'AlphanumericValue',\n            Translation  => 0,\n            Class        => \"Validate_Required \" . ( $Param{Errors}->{TypeIDInvalid} || '' ),\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'TicketType',\n            Data => {\n                %Param,\n                TypeIDInvalid => $Param{Errors}->{TypeIDInvalid},\n                }\n        );\n    }\n\n    # services\n    if ( $Self->{ConfigObject}->Get('Ticket::Service') && $Self->{Config}->{Service} ) {\n        my %Services;\n        if ( $Param{QueueID} || $Param{TicketID} ) {\n            %Services = $Self->{TicketObject}->TicketServiceList(\n                %Param,\n                Action         => $Self->{Action},\n                CustomerUserID => $Self->{UserID},\n            );\n        }\n        $Param{ServiceStrg} = $Self->{LayoutObject}->BuildSelection(\n            Data         => \\%Services,\n            Name         => 'ServiceID',\n            SelectedID   => $Param{ServiceID},\n            PossibleNone => 1,\n            TreeView     => $TreeView,\n            Sort         => 'TreeView',\n            Translation  => 0,\n            Max          => 200,\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'TicketService',\n            Data => \\%Param,\n        );\n\n        # reset previous ServiceID to reset SLA-List if no service is selected\n        if ( !$Services{ $Param{ServiceID} || '' } ) {\n            $Param{ServiceID} = '';\n        }\n        my %SLA;\n        if ( $Self->{Config}->{SLA} ) {\n            if ( $Param{ServiceID} ) {\n                %SLA = $Self->{TicketObject}->TicketSLAList(\n                    %Param,\n                    Action         => $Self->{Action},\n                    CustomerUserID => $Self->{UserID},\n                );\n            }\n            $Param{SLAStrg} = $Self->{LayoutObject}->BuildSelection(\n                Data         => \\%SLA,\n                Name         => 'SLAID',\n                SelectedID   => $Param{SLAID},\n                PossibleNone => 1,\n                Sort         => 'AlphanumericValue',\n                Translation  => 0,\n                Max          => 200,\n            );\n            $Self->{LayoutObject}->Block(\n                Name => 'TicketSLA',\n                Data => \\%Param,\n            );\n        }\n    }\n\n    # prepare errors\n    if ( $Param{Errors} ) {\n        for ( sort keys %{ $Param{Errors} } ) {\n            $Param{$_} = $Param{Errors}->{$_};\n        }\n    }\n\n    # Dynamic fields\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        # skip fields that HTML could not be retrieved\n        next DYNAMICFIELD if !IsHashRefWithData(\n            $Param{DynamicFieldHTML}->{ $DynamicFieldConfig->{Name} }\n        );\n\n        # get the html strings form $Param\n        my $DynamicFieldHTML = $Param{DynamicFieldHTML}->{ $DynamicFieldConfig->{Name} };\n\n        $Self->{LayoutObject}->Block(\n            Name => 'DynamicField',\n            Data => {\n                Name  => $DynamicFieldConfig->{Name},\n                Label => $DynamicFieldHTML->{Label},\n                Field => $DynamicFieldHTML->{Field},\n            },\n        );\n\n        # example of dynamic fields order customization\n        $Self->{LayoutObject}->Block(\n            Name => 'DynamicField_' . $DynamicFieldConfig->{Name},\n            Data => {\n                Name  => $DynamicFieldConfig->{Name},\n                Label => $DynamicFieldHTML->{Label},\n                Field => $DynamicFieldHTML->{Field},\n            },\n        );\n    }\n\n    # show attachments\n    for my $Attachment ( @{ $Param{Attachments} } ) {\n        next if $Attachment->{ContentID} && $Self->{LayoutObject}->{BrowserRichText};\n        $Self->{LayoutObject}->Block(\n            Name => 'Attachment',\n            Data => $Attachment,\n        );\n    }\n\n    # add rich text editor\n    if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n\n        # use height/width defined for this screen\n        $Param{RichTextHeight} = $Self->{Config}->{RichTextHeight} || 0;\n        $Param{RichTextWidth}  = $Self->{Config}->{RichTextWidth}  || 0;\n\n        $Self->{LayoutObject}->Block(\n            Name => 'RichText',\n            Data => \\%Param,\n        );\n    }\n\n    # get output back\n    return $Self->{LayoutObject}->Output(\n        TemplateFile => 'CustomerTicketMessage',\n        Data         => \\%Param,\n    );\n}\n\nsub _GetFieldsToUpdate {\n    my ( $Self, %Param ) = @_;\n\n    my @UpdatableFields;\n\n    # set the fields that can be updatable via AJAXUpdate\n    if ( !$Param{OnlyDynamicFields} ) {\n        @UpdatableFields\n            = qw( Dest ServiceID SLAID PriorityID );\n    }\n\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{DynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        my $Updateable = $Self->{BackendObject}->IsAJAXUpdateable(\n            DynamicFieldConfig => $DynamicFieldConfig,\n        );\n\n        next DYNAMICFIELD if !$Updateable;\n\n        push @UpdatableFields, 'DynamicField_' . $DynamicFieldConfig->{Name};\n    }\n\n    return \\@UpdatableFields;\n}\n\n1;\n", "# --\n# Kernel/Modules/CustomerTicketProcess.pm - to create process tickets\n# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::Modules::CustomerTicketProcess;\n\nuse strict;\nuse warnings;\n\nuse Kernel::System::ProcessManagement::Activity;\nuse Kernel::System::ProcessManagement::ActivityDialog;\nuse Kernel::System::ProcessManagement::TransitionAction;\nuse Kernel::System::ProcessManagement::Transition;\nuse Kernel::System::ProcessManagement::Process;\nuse Kernel::System::DynamicField;\nuse Kernel::System::DynamicField::Backend;\nuse Kernel::System::Web::UploadCache;\nuse Kernel::System::CustomerUser;\nuse Kernel::System::VariableCheck qw(:all);\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    # allocate new hash for object\n    my $Self = {%Param};\n    bless $Self, $Type;\n\n    # check needed Objects\n    for my $Needed (\n        qw(\n        ParamObject DBObject TicketObject LayoutObject LogObject ConfigObject TimeObject MainObject\n        EncodeObject\n        )\n        )\n    {\n        if ( !$Self->{$Needed} ) {\n            $Self->{LayoutObject}->CustomerFatalError( Message => \"Got no $Needed!\" );\n        }\n    }\n\n    $Self->{UploadCacheObject}    = Kernel::System::Web::UploadCache->new(%Param);\n    $Self->{UserObject}           = Kernel::System::User->new(%Param);\n    $Self->{ActivityObject}       = Kernel::System::ProcessManagement::Activity->new(%Param);\n    $Self->{ActivityDialogObject} = Kernel::System::ProcessManagement::ActivityDialog->new(%Param);\n    $Self->{TransitionActionObject}\n        = Kernel::System::ProcessManagement::TransitionAction->new(%Param);\n    $Self->{TransitionObject}   = Kernel::System::ProcessManagement::Transition->new(%Param);\n    $Self->{DynamicFieldObject} = Kernel::System::DynamicField->new(%Param);\n    $Self->{BackendObject}      = Kernel::System::DynamicField::Backend->new(%Param);\n    $Self->{ProcessObject}      = Kernel::System::ProcessManagement::Process->new(\n        ActivityObject         => $Self->{ActivityObject},\n        ActivityDialogObject   => $Self->{ActivityDialogObject},\n        TransitionObject       => $Self->{TransitionObject},\n        TransitionActionObject => $Self->{TransitionActionObject},\n        %Param,\n    );\n    $Self->{CustomerUserObject} = Kernel::System::CustomerUser->new(%Param);\n    $Self->{DynamicField}       = $Self->{DynamicFieldObject}->DynamicFieldListGet(\n        Valid      => 1,\n        ObjectType => 'Ticket',\n    );\n\n    # global config hash for id dissolution\n    $Self->{NameToID} = {\n        Article => 'Article',\n    };\n\n    return $Self;\n}\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    my $TicketID = $Self->{ParamObject}->GetParam( Param => 'TicketID' );\n    my $ActivityDialogEntityID\n        = $Self->{ParamObject}->GetParam( Param => 'ActivityDialogEntityID' );\n    my $ActivityDialogHashRef;\n\n    # get all processes even those that can not be started in the Customer Interface\n    # currently there is no option to start a process from Customer Interface\n    # this list is used later (if is restricted then valid customer activity dialogs it will not be\n    # possible to access valid customer activity dialogs)\n    my $ProcessList = $Self->{ProcessObject}->ProcessList(\n        ProcessState => [ 'Active', 'FadeAway' ],\n        Interface => 'all',\n    );\n    my $ProcessEntityID = $Self->{ParamObject}->GetParam( Param => 'ProcessEntityID' );\n\n    if ( !IsHashRefWithData($ProcessList) ) {\n        return $Self->{LayoutObject}->CustomerErrorScreen(\n            Message => 'No Process configured!',\n            Comment => 'Please contact the admin.',\n        );\n    }\n\n    if ( !$TicketID ) {\n        return $Self->{LayoutObject}->CustomerErrorScreen(\n            Message => 'No TicketID given!',\n            Comment => 'Please contact the admin.',\n        );\n    }\n\n    # check if there is a configured required permission\n    # for the ActivityDialog (if there is one)\n    my $ActivityDialogPermission = 'rw';\n    if ($ActivityDialogEntityID) {\n        $ActivityDialogHashRef\n            = $Self->{ActivityDialogObject}->ActivityDialogGet(\n            ActivityDialogEntityID => $ActivityDialogEntityID,\n            Interface              => 'CustomerInterface',\n            );\n\n        if ( !IsHashRefWithData($ActivityDialogHashRef) ) {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message =>\n                    \"Couldn't get Config for ActivityDialogEntityID '$ActivityDialogEntityID'!\",\n            );\n        }\n\n        if ( $ActivityDialogHashRef->{Permission} ) {\n            $ActivityDialogPermission = $ActivityDialogHashRef->{Permission};\n        }\n    }\n\n    # check permissions\n    my $Access = $Self->{TicketObject}->TicketCustomerPermission(\n        Type     => $ActivityDialogPermission,\n        TicketID => $Self->{TicketID},\n\n        # here is safe to use $Self->{UserID}, since it will be compared vs ticket customer in\n        # ticket permission modules\n        UserID => $Self->{UserID}\n    );\n\n    # error screen, don't show ticket\n    if ( !$Access ) {\n        return $Self->{LayoutObject}->CustomerNoPermission(\n            Message    => \"You need $ActivityDialogPermission permissions!\",\n            WithHeader => 'yes',\n        );\n    }\n\n    # get ACL restrictions\n    $Self->{TicketObject}->TicketAcl(\n        Data           => '-',\n        TicketID       => $TicketID,\n        ReturnType     => 'Action',\n        ReturnSubType  => '-',\n        CustomerUserID => $Self->{UserID},\n    );\n    my %AclAction = $Self->{TicketObject}->TicketAclActionData();\n\n    # check if ACL resctictions if exist\n    if ( IsHashRefWithData( \\%AclAction ) ) {\n\n        # show error screen if ACL prohibits this action\n        if ( defined $AclAction{ $Self->{Action} } && $AclAction{ $Self->{Action} } eq '0' ) {\n            return $Self->{LayoutObject}->CustomerNoPermission( WithHeader => 'yes' );\n        }\n    }\n    if ( IsHashRefWithData($ActivityDialogHashRef) ) {\n\n        # get ACL restrictions\n        $Self->{TicketObject}->TicketAcl(\n            Data                   => '-',\n            ActivityDialogEntityID => $ActivityDialogEntityID,\n            TicketID               => $TicketID,\n            ReturnType             => 'Ticket',\n            ReturnSubType          => '-',\n            CustomerUserID         => $Self->{UserID},\n        );\n\n        my @PossibleActivityDialogs\n            = $Self->{TicketObject}->TicketAclActivityDialogData(\n            ActivityDialogs => [ $ActivityDialogEntityID, ]\n            );\n\n        # check if ACL resctictions exist\n        if (\n            !$PossibleActivityDialogs[0]\n            || $PossibleActivityDialogs[0] ne $ActivityDialogEntityID\n            )\n        {\n            return $Self->{LayoutObject}->CustomerNoPermission( WithHeader => 'yes' );\n        }\n    }\n\n    # If we have no Subaction or Subaction is 'Create' and submitted ProcessEntityID is invalid\n    # Display the ProcessList\n    if (\n        !$Self->{Subaction}\n        || ( $Self->{Subaction} eq 'DisplayActivityDialog' && !$ProcessList->{$ProcessEntityID} )\n        )\n    {\n        return $Self->{LayoutObject}->CustomerErrorScreen(\n            Message => 'Subacion is invalid!',\n            Comment => 'Please contact the admin.',\n        );\n    }\n\n    # set AJAX for proper error responses\n    my $AJAX = $Self->{Subaction} eq 'DisplayActivityDialogAJAX' ? 1 : 0;\n\n    # Get the necessary parameters\n    # collects a mixture of present values bottom to top:\n    # SysConfig DefaultValues, ActivityDialog DefaultValues, TicketValues, SubmittedValues\n    # including ActivityDialogEntityID and ProcessEntityID\n    # is used for:\n    # - Parameter checking before storing\n    # - will be used for ACL checking lateron\n    my $GetParam = $Self->_GetParam(\n        AJAX            => $AJAX,\n        ProcessEntityID => $ProcessEntityID,\n    );\n\n    # get form id\n    $Self->{FormID} = $Self->{ParamObject}->GetParam( Param => 'FormID' );\n\n    # create form id\n    if ( !$Self->{FormID} ) {\n        $Self->{FormID} = $Self->{UploadCacheObject}->FormIDCreate();\n    }\n\n    if ( $Self->{Subaction} eq 'StoreActivityDialog' && $ProcessEntityID ) {\n        $Self->{LayoutObject}->ChallengeTokenCheck(Type => 'Customer');\n\n        return $Self->_StoreActivityDialog(\n            %Param,\n            ProcessEntityID => $ProcessEntityID,\n            GetParam        => $GetParam,\n\n        );\n    }\n    if ( $Self->{Subaction} eq 'DisplayActivityDialog' && $ProcessEntityID ) {\n\n        return $Self->_OutputActivityDialog(\n            %Param,\n            ProcessEntityID => $ProcessEntityID,\n            GetParam        => $GetParam,\n        );\n    }\n    if ( $Self->{Subaction} eq 'DisplayActivityDialogAJAX' && $ProcessEntityID ) {\n\n        my $ActivityDialogHTML = $Self->_OutputActivityDialog(\n            %Param,\n            AJAX            => 1,\n            ProcessEntityID => $ProcessEntityID,\n            GetParam        => $GetParam,\n        );\n        return $Self->{LayoutObject}->Attachment(\n            ContentType => 'text/html; charset=' . $Self->{LayoutObject}->{Charset},\n            Content     => $ActivityDialogHTML,\n            Type        => 'inline',\n            NoCache     => 1,\n        );\n\n    }\n    elsif ( $Self->{Subaction} eq 'AJAXUpdate' ) {\n\n        return $Self->_RenderAjax(\n            %Param,\n            ProcessEntityID => $ProcessEntityID,\n            GetParam        => $GetParam,\n        );\n    }\n    return $Self->{LayoutObject}->CustomerErrorScreen(\n        Message => 'Subacion is invalid!',\n        Comment => 'Please contact the admin.',\n    );\n}\n\nsub _RenderAjax {\n\n    # FatalError is safe because a JSON strcuture is expecting, then it will result into a\n    # communications error\n\n    my ( $Self, %Param ) = @_;\n    for my $Needed (qw(ProcessEntityID)) {\n        if ( !$Param{$Needed} ) {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => \"Got no $Needed in _RenderAjax!\"\n            );\n        }\n    }\n    my $ActivityDialogEntityID = $Param{GetParam}{ActivityDialogEntityID};\n    if ( !$ActivityDialogEntityID ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Got no ActivityDialogEntityID in _RenderAjax!\"\n        );\n    }\n    my $ActivityDialog\n        = $Self->{ActivityDialogObject}->ActivityDialogGet(\n        ActivityDialogEntityID => $ActivityDialogEntityID,\n        Interface              => 'CustomerInterface',\n        );\n    if ( !IsHashRefWithData($ActivityDialog) ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"No ActivityDialog configured for $ActivityDialogEntityID in _RenderAjax!\"\n        );\n    }\n\n    # get list type\n    my $TreeView = 0;\n    if ( $Self->{ConfigObject}->Get('Ticket::Frontend::ListType') eq 'tree' ) {\n        $TreeView = 1;\n    }\n\n    my %FieldsProcessed;\n    my @JSONCollector;\n\n    # All submitted DynamicFields\n    # used for ACL checking\n    my %DynamicFieldCheckParam = map { $_ => $Param{GetParam}{$_} }\n        grep {m{^DynamicField_}xms} ( keys %{ $Param{GetParam} } );\n\n    # Get the activity dialog's Submit Param's or Config Params\n    DIALOGFIELD:\n    for my $CurrentField ( @{ $ActivityDialog->{FieldOrder} } ) {\n\n        # Skip if we're working on a field that was already done with or without ID\n        if (\n            $Self->{NameToID}{$CurrentField}\n            && $FieldsProcessed{ $Self->{NameToID}{$CurrentField} }\n            )\n        {\n            next DIALOGFIELD;\n        }\n\n        if ( $CurrentField =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldName = $1;\n\n            my $DynamicFieldConfig\n                = ( grep { $_->{Name} eq $DynamicFieldName } @{ $Self->{DynamicField} } )[0];\n\n            next DIALOGFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DIALOGFIELD if !$Self->{BackendObject}->IsAJAXUpdateable(\n                DynamicFieldConfig => $DynamicFieldConfig,\n            );\n\n            my $PossibleValues = $Self->{BackendObject}->AJAXPossibleValuesGet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n            );\n            my %DynamicFieldCheckParam = map { $_ => $Param{GetParam}{$_} }\n                grep {m{^DynamicField_}xms} ( keys %{ $Param{GetParam} } );\n\n            # convert possible values key => value to key => key for ACLs usign a Hash slice\n            my %AclData = %{$PossibleValues};\n            @AclData{ keys %AclData } = keys %AclData;\n\n            # set possible values filter from ACLs\n            my $ACL = $Self->{TicketObject}->TicketAcl(\n                %{ $Param{GetParam} },\n                DynamicField   => \\%DynamicFieldCheckParam,\n                ReturnType     => 'Ticket',\n                ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                Data           => \\%AclData,\n                CustomerUserID => $Self->{UserID},\n            );\n\n            if ($ACL) {\n                my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                # convert Filer key => key back to key => value using map\n                %{$PossibleValues} = map { $_ => $PossibleValues->{$_} } keys %Filter;\n            }\n\n            # add dynamic field to the JSONCollector\n            push(\n                @JSONCollector,\n                {\n                    Name       => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data       => $PossibleValues,\n                    SelectedID => $Param{GetParam}{ 'DynamicField_' . $DynamicFieldConfig->{Name} },\n                    Translation => $DynamicFieldConfig->{Config}->{TranslatableValues} || 0,\n                    Max         => 100,\n                }\n            );\n        }\n\n        my $JSON = $Self->{LayoutObject}->BuildSelectionJSON( [@JSONCollector] );\n\n        return $Self->{LayoutObject}->Attachment(\n            ContentType => 'application/json; charset=' . $Self->{LayoutObject}->{Charset},\n            Content     => $JSON,\n            Type        => 'inline',\n            NoCache     => 1,\n        );\n    }\n}\n\n=item _GetParam()\n\nreturns the current data state of the submitted information\n\nThis contains the following data for the different callers:\n\n    Initial call with selected Process:\n        ProcessEntityID\n        ActivityDialogEntityID\n        DefaultValues for the configured Fields in that ActivityDialog\n        DefaultValues for the 4 required Fields Queue State Lock Priority\n\n    First Store call submitting an Activity Dialog:\n        ProcessEntityID\n        ActivityDialogEntityID\n        SubmittedValues for the current ActivityDialog\n        ActivityDialog DefaultValues for invisible fields of that ActivityDialog\n        DefaultValues for the 4 required Fields Queue State Lock Priority\n            if not configured in the ActivityDialog\n\n    ActivityDialog fillout request on existing Ticket:\n        ProcessEntityID\n        ActivityDialogEntityID\n        TicketValues\n\n    ActivityDialog store request or AjaxUpdate request on existing Tickets:\n        ProcessEntityID\n        ActivityDialogEntityID\n        TicketValues for all not-Submitted Values\n        Submitted Values\n\n    my $GetParam = _GetParam(\n        ProcessEntityID => $ProcessEntityID,\n    );\n\n=cut\n\nsub _GetParam {\n    my ( $Self, %Param ) = @_;\n\n    my $IsAJAXUpdate = $Param{AJAX} || '';\n\n    for my $Needed (qw(ProcessEntityID)) {\n        if ( !$Param{$Needed} ) {\n            $Self->{LayoutObject}->CustomerFatalError( Message => \"Got no $Needed in _GetParam!\" );\n        }\n    }\n    my %GetParam;\n    my %Ticket;\n    my $ProcessEntityID = $Param{ProcessEntityID};\n    my $TicketID = $Self->{ParamObject}->GetParam( Param => 'TicketID' );\n    my $ActivityDialogEntityID\n        = $Self->{ParamObject}->GetParam( Param => 'ActivityDialogEntityID' );\n    my $ActivityEntityID;\n    my %ValuesGotten;\n    my $Value;\n\n    # If we got no ActivityDialogEntityID and no TicketID\n    # we have to get the Processes' Startpoint\n    if ( !$ActivityDialogEntityID && !$TicketID ) {\n        my $ActivityActivityDialog\n            = $Self->{ProcessObject}->ProcessStartpointGet( ProcessEntityID => $ProcessEntityID );\n        if (\n            !$ActivityActivityDialog->{ActivityDialog}\n            || !$ActivityActivityDialog->{Activity}\n            )\n        {\n            my $Message = \"Got no Start ActivityEntityID or Start ActivityDialogEntityID for\"\n                . \" Process: $ProcessEntityID in _GetParam!\";\n\n            # does not show header and footer again\n            if ($IsAJAXUpdate) {\n                return $Self->{LayoutObject}->CustomerError(\n                    Message => $Message,\n                );\n            }\n            else {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => $Message,\n                );\n            }\n        }\n        $ActivityDialogEntityID = $ActivityActivityDialog->{ActivityDialog};\n        $ActivityEntityID       = $ActivityActivityDialog->{Activity};\n    }\n\n    my $ActivityDialog\n        = $Self->{ActivityDialogObject}->ActivityDialogGet(\n        ActivityDialogEntityID => $ActivityDialogEntityID,\n        Interface              => 'CustomerInterface',\n        );\n\n    if ( !IsHashRefWithData($ActivityDialog) ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Couldn't get Config for ActivityDialogEntityID '$ActivityDialogEntityID'!\",\n        );\n    }\n\n    # if there is a ticket then is not an AJAX request\n    if ($TicketID) {\n        %Ticket = $Self->{TicketObject}->TicketGet(\n            TicketID      => $TicketID,\n            DynamicFields => 1,\n        );\n\n        %GetParam = %Ticket;\n        if ( !IsHashRefWithData( \\%GetParam ) ) {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => \"Couldn't get Ticket for TicketID: $TicketID in _GetParam!\",\n            );\n        }\n\n        $ActivityEntityID = $Ticket{\n            'DynamicField_'\n                . $Self->{ConfigObject}->Get(\"Process::DynamicFieldProcessManagementActivityID\")\n        };\n        if ( !$ActivityEntityID ) {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message =>\n                    \"Couldn't determine ActivityEntityID. DynamicField or Config isn't set properly!\",\n            );\n        }\n\n    }\n    $GetParam{ActivityDialogEntityID} = $ActivityDialogEntityID;\n    $GetParam{ActivityEntityID}       = $ActivityEntityID;\n    $GetParam{ProcessEntityID}        = $ProcessEntityID;\n\n    # Get the activitydialogs's Submit Param's or Config Params\n    DIALOGFIELD:\n    for my $CurrentField ( @{ $ActivityDialog->{FieldOrder} } ) {\n\n        # Skip if we're working on a field that was already done with or without ID\n        if ( $Self->{NameToID}{$CurrentField} && $ValuesGotten{ $Self->{NameToID}{$CurrentField} } )\n        {\n            next DIALOGFIELD;\n        }\n\n        if ( $CurrentField =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldName = $1;\n\n           # Get the Config of the current DynamicField (the first element of the grep result array)\n            my $DynamicFieldConfig\n                = ( grep { $_->{Name} eq $DynamicFieldName } @{ $Self->{DynamicField} } )[0];\n\n            if ( !IsHashRefWithData($DynamicFieldConfig) ) {\n                my $Message = \"DynamicFieldConfig missing for field: $DynamicFieldName!\";\n\n                # does not show header and footer again\n                if ($IsAJAXUpdate) {\n                    return $Self->{LayoutObject}->CustomerError(\n                        Message => $Message,\n                    );\n                }\n                else {\n                    $Self->{LayoutObject}->CustomerFatalError(\n                        Message => $Message,\n                    );\n                }\n            }\n\n            # Get DynamicField Values\n            $Value = $Self->{BackendObject}->EditFieldValueGet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ParamObject        => $Self->{ParamObject},\n                LayoutObject       => $Self->{LayoutObject},\n            );\n\n            # If we got a submitted param, take it and next out\n            if ($Value) {\n                $GetParam{$CurrentField} = $Value;\n                next DIALOGFIELD;\n            }\n\n            # If we didn't have a Param Value try the ticket Value\n            # next out if it was successful\n            $Value = $Ticket{$CurrentField};\n            if ($Value) {\n                $GetParam{$CurrentField} = $Value;\n                next DIALOGFIELD;\n            }\n\n            # If we had neighter submitted nor ticket param get the ActivityDialog's default Value\n            # next out if it was successful\n            $Value = $ActivityDialog->{Fields}{$CurrentField}{DefaultValue};\n            if ($Value) {\n                $GetParam{$CurrentField} = $Value;\n                next DIALOGFIELD;\n            }\n\n            # If we had no submitted, ticket or ActivityDialog default value\n            # use the DynamicField's default value and next out\n            $Value = $DynamicFieldConfig->{Config}{DefaultValue};\n            if ($Value) {\n                $GetParam{$CurrentField} = $Value;\n                next DIALOGFIELD;\n            }\n\n            # if all that failed, use ''\n            $GetParam{$CurrentField} = '';\n            next DIALOGFIELD;\n        }\n\n        # get article fields\n        if ( $CurrentField eq 'Article' ) {\n\n            $GetParam{Subject} = $Self->{ParamObject}->GetParam( Param => 'Subject' );\n            $GetParam{Body}    = $Self->{ParamObject}->GetParam( Param => 'Body' );\n\n            $ValuesGotten{Article} = 1 if ( $GetParam{Subject} && $GetParam{Body} );\n        }\n    }\n    return \\%GetParam;\n}\n\nsub _OutputActivityDialog {\n    my ( $Self, %Param ) = @_;\n    my $TicketID               = $Param{GetParam}{TicketID};\n    my $ActivityDialogEntityID = $Param{GetParam}{ActivityDialogEntityID};\n    my $IsAJAXUpdate           = $Param{AJAX} || '';\n\n    # Check needed parameters:\n    # TicketID and ActivityDialogEntityID\n    if ( !( $TicketID && $ActivityDialogEntityID ) ) {\n        my $Message = 'Got no TicketID and ActivityDialogEntityID!';\n\n        # does not show header and footer again\n        if ($IsAJAXUpdate) {\n            return $Self->{LayoutObject}->CustomerError(\n                Message => $Message,\n            );\n        }\n        else {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => $Message,\n            );\n        }\n    }\n\n    my $ActivityActivityDialog;\n    my %Ticket;\n    my %Error = ();\n\n    # If we had Errors, we got an Errorhash\n    %Error = %{ $Param{Error} } if ( IsHashRefWithData( $Param{Error} ) );\n\n    # no AJAX update in this part\n    %Ticket = $Self->{TicketObject}->TicketGet(\n        TicketID      => $TicketID,\n        DynamicFields => 1,\n    );\n\n    if ( !IsHashRefWithData( \\%Ticket ) ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Can't get Ticket '$Param{TicketID}'!\",\n        );\n    }\n\n    my $DynamicFieldProcessID = 'DynamicField_'\n        . $Self->{ConfigObject}->Get('Process::DynamicFieldProcessManagementProcessID');\n    my $DynamicFieldActivityID\n        = 'DynamicField_'\n        . $Self->{ConfigObject}->Get(\n        'Process::DynamicFieldProcessManagementActivityID'\n        );\n\n    if ( !$Ticket{$DynamicFieldProcessID} || !$Ticket{$DynamicFieldActivityID} ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message =>\n                \"Can't get ProcessEntityID or ActivityEntityID for Ticket '$Param{TicketID}'!\",\n        );\n    }\n\n    $ActivityActivityDialog = {\n        Activity       => $Ticket{$DynamicFieldActivityID},\n        ActivityDialog => $ActivityDialogEntityID,\n    };\n\n    my $Activity = $Self->{ActivityObject}->ActivityGet(\n        Interface        => 'CustomerInterface',\n        ActivityEntityID => $ActivityActivityDialog->{Activity}\n    );\n    if ( !$Activity ) {\n        my $Message = \"Can't get Activity configuration for ActivityEntityID\"\n            . \" $ActivityActivityDialog->{Activity}!\";\n\n        # does not show header and footer again\n        if ($IsAJAXUpdate) {\n            return $Self->{LayoutObject}->CustomerError(\n                Message => $Message,\n            );\n        }\n        else {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => $Message,\n            );\n        }\n    }\n\n    my $ActivityDialog = $Self->{ActivityDialogObject}->ActivityDialogGet(\n        ActivityDialogEntityID => $ActivityActivityDialog->{ActivityDialog},\n        Interface              => 'CustomerInterface',\n    );\n    if ( !$ActivityDialog ) {\n        my $Message = \"Can't get ActivityDialog configuration for ActivityDialogEntityID\"\n            . \" '$ActivityActivityDialog->{ActivityDialog}'!\";\n\n        # does not show header and footer again\n        if ($IsAJAXUpdate) {\n            return $Self->{LayoutObject}->CustomerError(\n                Message => $Message,\n            );\n        }\n        else {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => $Message,\n            );\n        }\n    }\n\n    # grep out Overwrites if defined on the Activity\n    my @OverwriteActivityDialogNumber = grep {\n        ref $Activity->{ActivityDialog}{$_} eq 'HASH'\n            && $Activity->{ActivityDialog}{$_}{ActivityDialogEntityID}\n            && $Activity->{ActivityDialog}{$_}{ActivityDialogEntityID} eq\n            $ActivityActivityDialog->{ActivityDialog}\n            && IsHashRefWithData( $Activity->{ActivityDialog}{$_}{Overwrite} )\n    } keys %{ $Activity->{ActivityDialog} };\n\n    # let the Overwrites Overwrite the ActivityDialog's Hashvalues\n    if ( $OverwriteActivityDialogNumber[0] ) {\n        %{$ActivityDialog} = (\n            %{$ActivityDialog},\n            %{ $Activity->{ActivityDialog}{ $OverwriteActivityDialogNumber[0] }{Overwrite} }\n        );\n    }\n\n    # Add PageHeader, Navbar, Formheader (Process/ActivityDialogHeader)\n    my $Output;\n\n    if ( !$IsAJAXUpdate ) {\n        $Output = $Self->{LayoutObject}->CustomerHeader(\n            Type  => 'Small',\n            Value => $Ticket{Number},\n        );\n\n        # display given notify messages if this is not an ajax request\n        if ( IsArrayRefWithData( $Param{Notify} ) ) {\n\n            for my $NotifyString ( @{ $Param{Notify} } ) {\n                $Output .= $Self->{LayoutObject}->Notify(\n                    Data => $NotifyString,\n                );\n            }\n        }\n\n        $Self->{LayoutObject}->Block(\n            Name => 'Header',\n            Data => {\n                Name => $Self->{LayoutObject}->{LanguageObject}->Get( $ActivityDialog->{Name} )\n                    || '',\n                }\n        );\n    }\n\n    # show descriptions\n    if ( $ActivityDialog->{DescriptionShort} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'DescriptionShort',\n            Data => {\n                DescriptionShort\n                    => $Self->{LayoutObject}->{LanguageObject}->Get(\n                    $ActivityDialog->{DescriptionShort},\n                    ),\n            },\n        );\n    }\n    if ( $ActivityDialog->{DescriptionLong} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'DescriptionLong',\n            Data => {\n                DescriptionLong\n                    => $Self->{LayoutObject}->{LanguageObject}->Get(\n                    $ActivityDialog->{DescriptionLong},\n                    ),\n            },\n        );\n    }\n\n    # show close & cancel link if neccessary\n    if ( !$IsAJAXUpdate ) {\n        if ( $Param{RenderLocked} ) {\n            $Self->{LayoutObject}->Block(\n                Name => 'PropertiesLock',\n                Data => {\n                    %Param,\n                    TicketID => $TicketID,\n                },\n            );\n        }\n        else {\n            $Self->{LayoutObject}->Block(\n                Name => 'CancelLink',\n            );\n        }\n\n    }\n\n    $Output .= $Self->{LayoutObject}->Output(\n        TemplateFile => 'ProcessManagement/CustomerActivityDialogHeader',\n        Data         => {\n            FormName  => 'ActivityDialogDialog' . $ActivityActivityDialog->{ActivityDialog},\n            FormID    => $Self->{FormID},\n            Subaction => 'StoreActivityDialog',\n            TicketID  => $Ticket{TicketID},\n            ActivityDialogEntityID => $ActivityActivityDialog->{ActivityDialog},\n            ProcessEntityID        => $Param{ProcessEntityID}\n                || $Ticket{\n                'DynamicField_'\n                    . $Self->{ConfigObject}->Get(\n                    'Process::DynamicFieldProcessManagementProcessID'\n                    )\n                },\n        },\n    );\n\n    my %RenderedFields = ();\n\n    # get the list of fields where the AJAX loader icon should appear on AJAX updates triggered\n    # by ActivityDialog fields\n    my $AJAXUpdatableFields = $Self->_GetAJAXUpdatableFields(\n        ActivityDialogFields => $ActivityDialog->{Fields},\n    );\n\n    # Loop through ActivityDialogFields and render their output\n    DIALOGFIELD:\n    for my $CurrentField ( @{ $ActivityDialog->{FieldOrder} } ) {\n        if ( !IsHashRefWithData( $ActivityDialog->{Fields}{$CurrentField} ) ) {\n            my $Message = \"Can't get data for Field '$CurrentField' of ActivityDialog\"\n                . \" '$ActivityActivityDialog->{ActivityDialog}'!\";\n\n            # does not show header and footer again\n            if ($IsAJAXUpdate) {\n                return $Self->{LayoutObject}->CustomerError(\n                    Message => $Message,\n                );\n            }\n            else {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => $Message,\n                );\n            }\n        }\n\n        my %FieldData = %{ $ActivityDialog->{Fields}{$CurrentField} };\n\n        # We render just visible ActivityDialogFields\n        next DIALOGFIELD if !$FieldData{Display};\n\n        # render DynamicFields\n        if ( $CurrentField =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldName = $1;\n            my $Response         = $Self->_RenderDynamicField(\n                ActivityDialogField => $ActivityDialog->{Fields}{$CurrentField},\n                FieldName           => $DynamicFieldName,\n                DescriptionShort    => $ActivityDialog->{Fields}{$CurrentField}{DescriptionShort},\n                Ticket              => \\%Ticket || {},\n                Error               => \\%Error || {},\n                FormID              => $Self->{FormID},\n                GetParam            => $Param{GetParam},\n                AJAXUpdatableFields => $AJAXUpdatableFields,\n            );\n\n            if ( !$Response->{Success} ) {\n\n                # does not show header and footer again\n                if ($IsAJAXUpdate) {\n                    return $Self->{LayoutObject}->CustomerError(\n                        Message => $Response->{Message},\n                    );\n                }\n                else {\n                    $Self->{LayoutObject}->CustomerFatalError(\n                        Message => $Response->{Message},\n                    );\n                }\n            }\n\n            $Output .= $Response->{HTML};\n\n            $RenderedFields{$CurrentField} = 1;\n\n        }\n\n        # render Article\n        elsif (\n            $Self->{NameToID}->{$CurrentField}\n            && $Self->{NameToID}->{$CurrentField} eq 'Article'\n            )\n        {\n            next DIALOGFIELD if $RenderedFields{ $Self->{NameToID}->{$CurrentField} };\n\n            my $Response = $Self->_RenderArticle(\n                ActivityDialogField => $ActivityDialog->{Fields}{$CurrentField},\n                FieldName           => $CurrentField,\n                DescriptionShort    => $ActivityDialog->{Fields}{$CurrentField}{DescriptionShort},\n                Ticket              => \\%Ticket || {},\n                Error               => \\%Error || {},\n                FormID              => $Self->{FormID},\n                GetParam            => $Param{GetParam},\n            );\n\n            if ( !$Response->{Success} ) {\n\n                # does not show header and footer again\n                if ($IsAJAXUpdate) {\n                    return $Self->{LayoutObject}->CustomerError(\n                        Message => $Response->{Message},\n                    );\n                }\n                else {\n                    $Self->{LayoutObject}->CustomerFatalError(\n                        Message => $Response->{Message},\n                    );\n                }\n            }\n\n            $Output .= $Response->{HTML};\n\n            $RenderedFields{$CurrentField} = 1;\n        }\n    }\n\n    my $FooterCSSClass = 'Footer';\n\n    if ($IsAJAXUpdate) {\n\n        # Due to the initial loading of\n        # the first ActivityDialog after Process selection\n        # we have to bind the AjaxUpdate Function on\n        # the selects, so we get the complete JSOnDocumentComplete code\n        # and deliver it in the FooterJS block.\n        # This Javascript Part is executed in\n        # CustomerTicketProcess.dtl\n        $Self->{LayoutObject}->Block(\n            Name => 'FooterJS',\n            Data => { Bindings => $Self->{LayoutObject}->{EnvRef}->{JSOnDocumentComplete} },\n        );\n\n        $FooterCSSClass = 'Centered';\n    }\n\n    # set submit button data\n    my $ButtonText  = 'Submit';\n    my $ButtonTitle = 'Save';\n    my $ButtonID    = 'Submit' . $ActivityActivityDialog->{ActivityDialog};\n    if ( $ActivityDialog->{SubmitButtonText} ) {\n        $ButtonText  = $ActivityDialog->{SubmitButtonText};\n        $ButtonTitle = $ActivityDialog->{SubmitButtonText};\n    }\n\n    $Self->{LayoutObject}->Block(\n        Name => 'Footer',\n        Data => {\n            FooterCSSClass => $FooterCSSClass,\n            ButtonText     => $ButtonText,\n            ButtonTitle    => $ButtonTitle,\n            ButtonID       => $ButtonID\n\n        },\n    );\n\n    if ( $ActivityDialog->{SubmitAdviceText} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'SubmitAdviceText',\n            Data => {\n                AdviceText => $ActivityDialog->{SubmitAdviceText},\n            },\n        );\n    }\n\n    # reload parent window\n    if ( $Param{ParentReload} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'ParentReload',\n        );\n    }\n\n    # Add the FormFooter\n    $Output .= $Self->{LayoutObject}->Output(\n        TemplateFile => 'ProcessManagement/CustomerActivityDialogFooter',\n        Data         => {},\n    );\n\n    if ( !$IsAJAXUpdate ) {\n\n        # Add the OTRS Footer\n        $Output .= $Self->{LayoutObject}->CustomerFooter( Type => 'Small' );\n    }\n\n    return $Output;\n}\n\nsub _RenderDynamicField {\n    my ( $Self, %Param ) = @_;\n\n    for my $Needed (qw(FormID FieldName)) {\n        if ( !$Param{$Needed} ) {\n            return {\n                Success => 0,\n                Message => \"Got no $Needed in _RenderDynamicField!\",\n            };\n        }\n    }\n    my $DynamicFieldConfig\n        = ( grep { $_->{Name} eq $Param{FieldName} } @{ $Self->{DynamicField} } )[0];\n\n    my $PossibleValuesFilter;\n\n    # All Ticket DynamicFields\n    # used for ACL checking\n    my %DynamicFieldCheckParam = map { $_ => $Param{GetParam}{$_} }\n        grep {m{^DynamicField_}xms} ( keys %{ $Param{GetParam} } );\n\n    # check if field has PossibleValues property in its configuration\n    if ( IsHashRefWithData( $DynamicFieldConfig->{Config}->{PossibleValues} ) ) {\n\n        # convert possible values key => value to key => key for ACLs usign a Hash slice\n        my %AclData = %{ $DynamicFieldConfig->{Config}->{PossibleValues} };\n        @AclData{ keys %AclData } = keys %AclData;\n\n        # set possible values filter from ACLs\n        my $ACL = $Self->{TicketObject}->TicketAcl(\n            %{ $Param{GetParam} },\n            DynamicField   => \\%DynamicFieldCheckParam,\n            Action         => $Self->{Action},\n            ReturnType     => 'Ticket',\n            ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n            Data           => \\%AclData,\n            CustomerUserID => $Self->{UserID},\n        );\n        if ($ACL) {\n            my %Filter = $Self->{TicketObject}->TicketAclData();\n\n            # convert Filer key => key back to key => value using map\n            %{$PossibleValuesFilter}\n                = map { $_ => $DynamicFieldConfig->{Config}->{PossibleValues}->{$_} } keys %Filter;\n        }\n    }\n\n    my $DynamicFieldHTML = $Self->{BackendObject}->EditFieldRender(\n        DynamicFieldConfig   => $DynamicFieldConfig,\n        PossibleValuesFilter => $PossibleValuesFilter,\n        Value                => $Param{GetParam}{ 'DynamicField_' . $Param{FieldName} },\n        LayoutObject         => $Self->{LayoutObject},\n        ParamObject          => $Self->{ParamObject},\n        AJAXUpdate           => 1,\n        Mandatory            => $Param{ActivityDialogField}->{Display} == 2,\n        UpdatableFields      => $Param{AJAXUpdatableFields},\n    );\n\n    my %Data = (\n        Name    => $DynamicFieldHTML->{Name},\n        Label   => $DynamicFieldHTML->{Label},\n        Content => $DynamicFieldHTML->{Field},\n    );\n\n    $Self->{LayoutObject}->Block(\n        Name => $Param{ActivityDialogField}->{LayoutBlock} || 'rw:DynamicField',\n        Data => \\%Data,\n    );\n    if ( $Param{DescriptionShort} ) {\n        $Self->{LayoutObject}->Block(\n            Name => $Param{ActivityDialogField}->{LayoutBlock}\n                || 'rw:DynamicField:DescriptionShort',\n            Data => {\n                DescriptionShort => $Param{DescriptionShort},\n            },\n        );\n    }\n\n    return {\n        Success => 1,\n        HTML => $Self->{LayoutObject}->Output( TemplateFile => 'ProcessManagement/DynamicField' ),\n    };\n\n    return '';\n\n}\n\nsub _RenderArticle {\n    my ( $Self, %Param ) = @_;\n\n    for my $Needed (qw(FormID Ticket)) {\n        if ( !$Param{$Needed} ) {\n            return {\n                Success => 0,\n                Message => \"Got no $Needed in _RenderArticle!\",\n            };\n        }\n    }\n    if ( !IsHashRefWithData( $Param{ActivityDialogField} ) ) {\n        return {\n            Success => 0,\n            Message => \"Got no ActivityDialogField in _RenderArticle!\",\n        };\n    }\n\n    my $ArticleInvalid\n        = ( IsHashRefWithData( $Param{Error} ) && $Param{Error}->{'Article'} )\n        ? $Param{Error}->{'Article'}\n        : '';\n\n    my %Data = (\n        Name             => 'Article',\n        ArticleInvalid   => $ArticleInvalid,\n        ClassMandatory   => '',\n        ValidateRequired => '',\n        Marker           => '',\n        Subject          => $Param{GetParam}{Subject},\n        Body             => $Param{GetParam}{Body},\n        LabelSubject     => $Param{ActivityDialogField}->{Config}->{LabelSubject}\n            || $Self->{LayoutObject}->{LanguageObject}->Get(\"Subject\"),\n        LabelBody => $Param{ActivityDialogField}->{Config}->{LabelBody}\n            || $Self->{LayoutObject}->{LanguageObject}->Get(\"Text\"),\n    );\n\n    # If field is required put in the necessary variables for\n    # ValidateRequired class input field, Mandatory class for the label\n    # Marker for the label\n    if ( $Param{ActivityDialogField}->{Display} && $Param{ActivityDialogField}->{Display} == 2 ) {\n        $Data{ValidateRequired} = 'Validate_Required';\n        $Data{ClassMandatory}   = ' class=\"Mandatory\"';\n        $Data{Marker}           = '<span class=\"Marker\">*</span> ';\n    }\n\n    $Self->{LayoutObject}->Block(\n        Name => $Param{ActivityDialogField}->{LayoutBlock} || 'rw:Article',\n        Data => \\%Data,\n    );\n\n    $Self->{LayoutObject}->Block(\n        Name => 'BodySeparator',\n        Data => \\%Param,\n    );\n\n    # add rich text editor\n    if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n\n        # use height/width defined for this screen\n        $Param{RichTextHeight} = $Self->{Config}->{RichTextHeight} || 0;\n        $Param{RichTextWidth}  = $Self->{Config}->{RichTextWidth}  || 0;\n\n        $Self->{LayoutObject}->Block(\n            Name => 'RichText',\n            Data => \\%Param,\n        );\n    }\n\n    if ( length $ArticleInvalid ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'ServerErrorMsg',\n            Data => { Error => $ArticleInvalid },\n        );\n    }\n    if ( $Param{DescriptionShort} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'rw:Article:DescriptionShort',\n            Data => {\n                DescriptionShort => $Param{DescriptionShort},\n            },\n        );\n    }\n\n    # get all attachments meta data\n    my @Attachments = $Self->{UploadCacheObject}->FormIDGetAllFilesMeta(\n        FormID => $Self->{FormID},\n    );\n\n    # show attachments\n    ATTACHMENT:\n    for my $Attachment (@Attachments) {\n\n        next ATTACHMENT if $Attachment->{ContentID} && $Self->{LayoutObject}->{BrowserRichText};\n\n        $Self->{LayoutObject}->Block(\n            Name => 'Attachment',\n            Data => $Attachment,\n        );\n    }\n\n    return {\n        Success => 1,\n        HTML => $Self->{LayoutObject}->Output( TemplateFile => 'ProcessManagement/Article' ),\n    };\n}\n\nsub _StoreActivityDialog {\n    my ( $Self, %Param ) = @_;\n\n    my $TicketID = $Param{GetParam}{TicketID};\n    my $ProcessStartpoint;\n    my %Ticket;\n    my $ProcessEntityID;\n    my $ActivityEntityID;\n    my %Error;\n\n    my %TicketParam;\n\n    my $ActivityDialogEntityID = $Param{GetParam}{ActivityDialogEntityID};\n    if ( !$ActivityDialogEntityID ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"ActivityDialogEntityID missing!\",\n        );\n    }\n\n    my $ActivityDialog\n        = $Self->{ActivityDialogObject}->ActivityDialogGet(\n        ActivityDialogEntityID => $ActivityDialogEntityID,\n        Interface              => 'CustomerInterface',\n        );\n    if ( !IsHashRefWithData($ActivityDialog) ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Couldn't get Config for ActivityDialogEntityID $ActivityDialogEntityID!\",\n        );\n    }\n\n    # If is an action about attachments\n    my $IsUpload = 0;\n\n    # attachment delete\n    COUNT:\n    for my $Count ( 1 .. 32 ) {\n        my $Delete = $Self->{ParamObject}->GetParam( Param => \"AttachmentDelete$Count\" );\n        next COUNT if !$Delete;\n        %Error = ();\n        $Error{AttachmentDelete} = 1;\n        $Self->{UploadCacheObject}->FormIDRemoveFile(\n            FormID => $Self->{FormID},\n            FileID => $Count,\n        );\n        $IsUpload = 1;\n    }\n\n    # attachment upload\n    if ( $Self->{ParamObject}->GetParam( Param => 'AttachmentUpload' ) ) {\n        $IsUpload                = 1;\n        %Error                   = ();\n        $Error{AttachmentUpload} = 1;\n        my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n            Param  => 'FileUpload',\n            Source => 'string',\n        );\n        $Self->{UploadCacheObject}->FormIDAddFile(\n            FormID => $Self->{FormID},\n            %UploadStuff,\n        );\n    }\n\n   # check each Field of an Activity Dialog and fill the error hash if something goes horribly wrong\n    my %CheckedFields;\n    DIALOGFIELD:\n    for my $CurrentField ( @{ $ActivityDialog->{FieldOrder} } ) {\n        if ( $CurrentField =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldName = $1;\n\n           # Get the Config of the current DynamicField (the first element of the grep result array)\n            my $DynamicFieldConfig\n                = ( grep { $_->{Name} eq $DynamicFieldName } @{ $Self->{DynamicField} } )[0];\n\n            if ( !IsHashRefWithData($DynamicFieldConfig) ) {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => \"DynamicFieldConfig missing for field: $DynamicFieldName!\",\n                );\n            }\n\n            # Will be extended lateron for ACL Checking:\n            my $PossibleValuesFilter;\n\n            # Check DynamicField Values\n            my $ValidationResult = $Self->{BackendObject}->EditFieldValueValidate(\n                DynamicFieldConfig   => $DynamicFieldConfig,\n                PossibleValuesFilter => $PossibleValuesFilter,\n                ParamObject          => $Self->{ParamObject},\n                Mandatory            => $ActivityDialog->{Fields}{$CurrentField}{Display} == 2,\n            );\n\n            if ( !IsHashRefWithData($ValidationResult) ) {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message =>\n                        \"Could not perform validation on field $DynamicFieldConfig->{Label}!\",\n                );\n            }\n\n            if ( $ValidationResult->{ServerError} ) {\n                $Error{ $DynamicFieldConfig->{Name} } = ' ServerError';\n            }\n\n            # if we had an invisible field, use config's default value\n            if ( $ActivityDialog->{Fields}{$CurrentField}{Display} == 0 ) {\n                $TicketParam{$CurrentField} = $ActivityDialog->{Fields}{$CurrentField}{DefaultValue}\n                    || '';\n            }\n\n            # else take the DynamicField Value\n            else {\n                $TicketParam{$CurrentField} =\n                    $Self->{BackendObject}->EditFieldValueGet(\n                    DynamicFieldConfig => $DynamicFieldConfig,\n                    ParamObject        => $Self->{ParamObject},\n                    LayoutObject       => $Self->{LayoutObject},\n                    );\n            }\n\n            # In case of DynamicFields there is no NameToID translation\n            # so just take the DynamicField name\n            $CheckedFields{$CurrentField} = 1;\n        }\n\n        # Article\n        else {\n\n            # skip if we've already checked ID or Name\n            next if !$Self->{NameToID}->{$CurrentField};\n            next DIALOGFIELD if $CheckedFields{ $Self->{NameToID}->{$CurrentField} };\n\n            if ( $ActivityDialog->{Fields}{$CurrentField}{Display} == 2 ) {\n\n                # check if the given field param is valid\n                my ( $Body, $Subject ) = (\n                    $Self->{ParamObject}->GetParam( Param => 'Body' ),\n                    $Self->{ParamObject}->GetParam( Param => 'Subject' )\n                );\n\n                if ( !( $Body && $Subject ) ) {\n                    $Error{ $Self->{NameToID}->{$CurrentField} } = ' ServerError';\n                }\n                $CheckedFields{ $Self->{NameToID}->{$CurrentField} } = 1;\n            }\n        }\n    }\n\n    # Get Ticket to check TicketID was valid\n    %Ticket = $Self->{TicketObject}->TicketGet(\n        TicketID      => $TicketID,\n        DynamicFields => 1,\n    );\n\n    if ( !IsHashRefWithData( \\%Ticket ) ) {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Could not Store ActivityDialog, invalid TicketID: $TicketID!\",\n        );\n    }\n\n    $ActivityEntityID = $Ticket{\n        'DynamicField_'\n            . $Self->{ConfigObject}->Get('Process::DynamicFieldProcessManagementActivityID')\n    };\n    if ( !$ActivityEntityID )\n    {\n        return $Self->{LayoutObject}->CustomerErrorScreen(\n            Message => \"Missing ActivityEntityID in Ticket $Ticket{TicketID}!\",\n            Comment => 'Please contact the admin.',\n        );\n    }\n\n    $ProcessEntityID = $Ticket{\n        'DynamicField_'\n            . $Self->{ConfigObject}->Get('Process::DynamicFieldProcessManagementProcessID')\n    };\n\n    if ( !$ProcessEntityID )\n    {\n        $Self->{LayoutObject}->CustomerFatalError(\n            Message => \"Missing ProcessEntityID in Ticket $Ticket{TicketID}!\",\n        );\n    }\n\n    # if we got errors go back to displaying the ActivityDialog\n    if ( IsHashRefWithData( \\%Error ) ) {\n        return $Self->_OutputActivityDialog(\n            ProcessEntityID        => $ProcessEntityID,\n            TicketID               => $TicketID || undef,\n            ActivityDialogEntityID => $ActivityDialogEntityID,\n            Error                  => \\%Error,\n            GetParam               => $Param{GetParam},\n        );\n    }\n\n    # We save only once, no matter if one or more configs are set for the same param\n    my %StoredFields;\n\n    # Save loop for storing Ticket Values that were not required on the initial TicketCreate\n    DIALOGFIELD:\n    for my $CurrentField ( @{ $ActivityDialog->{FieldOrder} } ) {\n\n        if ( !IsHashRefWithData( $ActivityDialog->{Fields}{$CurrentField} ) ) {\n            $Self->{LayoutObject}->CustomerFatalError(\n                Message => \"Can't get data for Field '$CurrentField' of ActivityDialog\"\n                    . \" '$ActivityDialogEntityID'!\",\n            );\n        }\n\n        if ( $CurrentField =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldName = $1;\n            my $DynamicFieldConfig\n                = ( grep { $_->{Name} eq $DynamicFieldName } @{ $Self->{DynamicField} } )[0];\n\n            my $Success = $Self->{BackendObject}->ValueSet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $TicketID,\n                Value              => $TicketParam{$CurrentField},\n                UserID             => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n            if ( !$Success ) {\n                $Self->{LayoutObject}->CustomerFatalError(\n                    Message => \"Could not set DynamicField value for $CurrentField of Ticket\"\n                        . \" with ID '$TicketID' in ActivityDialog '$ActivityDialogEntityID'!\",\n                );\n            }\n        }\n\n        elsif ( $CurrentField eq 'Article' ) {\n\n            if ( $Param{GetParam}{Subject} && $Param{GetParam}{Body} ) {\n\n                # add note\n                my $ArticleID = '';\n                my $MimeType  = 'text/plain';\n                if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n                    $MimeType = 'text/html';\n\n                    # verify html document\n                    $Param{GetParam}{Body} = $Self->{LayoutObject}->RichTextDocumentComplete(\n                        String => $Param{GetParam}{Body},\n                    );\n                }\n\n                my $From = \"$Self->{UserFirstname} $Self->{UserLastname} <$Self->{UserEmail}>\";\n                $ArticleID = $Self->{TicketObject}->ArticleCreate(\n                    TicketID       => $TicketID,\n                    SenderType     => 'customer',\n                    From           => $From,\n                    MimeType       => $MimeType,\n                    Charset        => $Self->{LayoutObject}->{UserCharset},\n                    UserID         => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n                    HistoryType    => 'AddNote',\n                    HistoryComment => '%%Note',\n                    Body           => $Param{GetParam}{Body},\n                    Subject        => $Param{GetParam}{Subject},\n                    ArticleType =>\n                        $ActivityDialog->{Fields}->{Article}->{Config}->{ArticleType},\n                );\n                if ( !$ArticleID ) {\n                    return $Self->{LayoutObject}->CustomerErrorScreen();\n                }\n\n                # get pre loaded attachment\n                my @Attachments = $Self->{UploadCacheObject}->FormIDGetAllFilesData(\n                    FormID => $Self->{FormID},\n                );\n\n                # get submit attachment\n                my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n                    Param  => 'FileUpload',\n                    Source => 'String',\n                );\n                if (%UploadStuff) {\n                    push @Attachments, \\%UploadStuff;\n                }\n\n                # write attachments\n                ATTACHMENT:\n                for my $Attachment (@Attachments) {\n\n                    # skip, deleted not used inline images\n                    my $ContentID = $Attachment->{ContentID};\n                    if ($ContentID) {\n                        my $ContentIDHTMLQuote = $Self->{LayoutObject}->Ascii2Html(\n                            Text => $ContentID,\n                        );\n\n                        # workaround for link encode of rich text editor, see bug#5053\n                        my $ContentIDLinkEncode = $Self->{LayoutObject}->LinkEncode($ContentID);\n                        $Param{GetParam}{Body} =~ s/(ContentID=)$ContentIDLinkEncode/$1$ContentID/g;\n\n                        # ignore attachment if not linked in body\n                        next ATTACHMENT\n                            if $Param{GetParam}{Body}\n                            !~ /(\\Q$ContentIDHTMLQuote\\E|\\Q$ContentID\\E)/i;\n                    }\n\n                    # write existing file to backend\n                    $Self->{TicketObject}->ArticleWriteAttachment(\n                        %{$Attachment},\n                        ArticleID => $ArticleID,\n                        UserID    => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n                    );\n                }\n\n                # remove pre submited attachments\n                $Self->{UploadCacheObject}->FormIDRemove( FormID => $Self->{FormID} );\n            }\n        }\n    }\n\n    # Transitions will be handled by ticket event module (TicketProcessTransitions.pm).\n\n    # load new URL in parent window and close popup\n    return $Self->{LayoutObject}->PopupClose(\n        URL => \"Action=CustomerTicketZoom;TicketID=$TicketID\",\n    );\n}\n\nsub _GetAJAXUpdatableFields {\n    my ( $Self, %Param ) = @_;\n\n    # create a DynamicFieldLookupTable\n    my %DynamicFieldLookup = map { 'DynamicField_' . $_->{Name} => $_ } @{ $Self->{DynamicField} };\n\n    my @UpdatableFields;\n    FIELD:\n    for my $Field ( sort keys %{ $Param{ActivityDialogFields} } ) {\n\n        my $FieldData = $Param{ActivityDialogFields}->{$Field};\n\n        # skip hidden fields\n        next FIELD if !$FieldData->{Display};\n\n        # for Dynamic Fields check if is AJAXUpdatable\n        if ( $Field =~ m{^DynamicField_(.*)}xms ) {\n            my $DynamicFieldConfig = $DynamicFieldLookup{$Field};\n\n            # skip any field with wrong config\n            next FIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            # get field update status\n            my $Updateable = $Self->{BackendObject}->IsAJAXUpdateable(\n                DynamicFieldConfig => $DynamicFieldConfig,\n            );\n\n            # skip field if is not updatable\n            next FIELD if !$Updateable;\n\n            push @UpdatableFields, $Field;\n        }\n    }\n\n    return \\@UpdatableFields;\n}\n\n1;\n", "# --\n# Kernel/Modules/CustomerTicketZoom.pm - to get a closer view\n# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::Modules::CustomerTicketZoom;\n\nuse strict;\nuse warnings;\n\nuse Kernel::System::Web::UploadCache;\nuse Kernel::System::State;\nuse Kernel::System::User;\nuse Kernel::System::DynamicField;\nuse Kernel::System::DynamicField::Backend;\nuse Kernel::System::ProcessManagement::Activity;\nuse Kernel::System::ProcessManagement::ActivityDialog;\nuse Kernel::System::ProcessManagement::Process;\nuse Kernel::System::ProcessManagement::Transition;\nuse Kernel::System::ProcessManagement::TransitionAction;\nuse Kernel::System::VariableCheck qw(:all);\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    # allocate new hash for object\n    my $Self = {%Param};\n    bless( $Self, $Type );\n\n    # check needed objects\n    for (\n        qw(ParamObject DBObject TicketObject LayoutObject LogObject QueueObject\n        ConfigObject UserObject SessionObject\n        )\n        )\n    {\n        if ( !$Self->{$_} ) {\n            $Self->{LayoutObject}->FatalError( Message => \"Got no $_!\" );\n        }\n    }\n\n    # get params\n    $Self->{ZoomExpand} = $Self->{ParamObject}->GetParam( Param => 'ZoomExpand' );\n    if ( !defined $Self->{ZoomExpand} ) {\n        $Self->{ZoomExpand} = $Self->{ConfigObject}->Get('Ticket::Frontend::ZoomExpand') || '';\n    }\n\n    # needed objects\n    $Self->{AgentUserObject}    = Kernel::System::User->new(%Param);\n    $Self->{StateObject}        = Kernel::System::State->new(%Param);\n    $Self->{UploadCacheObject}  = Kernel::System::Web::UploadCache->new(%Param);\n    $Self->{DynamicFieldObject} = Kernel::System::DynamicField->new(%Param);\n    $Self->{BackendObject}      = Kernel::System::DynamicField::Backend->new(%Param);\n\n    # get form id\n    $Self->{FormID} = $Self->{ParamObject}->GetParam( Param => 'FormID' );\n\n    # create form id\n    if ( !$Self->{FormID} ) {\n        $Self->{FormID} = $Self->{UploadCacheObject}->FormIDCreate();\n    }\n\n    $Self->{Config} = $Self->{ConfigObject}->Get(\"Ticket::Frontend::$Self->{Action}\");\n\n    # get dynamic field config for frontend module\n    $Self->{DynamicFieldFilter} = $Self->{Config}->{DynamicField};\n\n    $Self->{FollowUpDynamicFieldFilter} = $Self->{Config}->{FollowUpDynamicField};\n\n    # get the dynamic fields for ticket object\n    $Self->{FollowUpDynamicField} = $Self->{DynamicFieldObject}->DynamicFieldListGet(\n        Valid       => 1,\n        ObjectType  => [ 'Ticket', 'Article' ],\n        FieldFilter => $Self->{FollowUpDynamicFieldFilter} || {},\n    );\n\n    # create additional objects for process management\n    $Self->{ActivityObject} = Kernel::System::ProcessManagement::Activity->new(%Param);\n    $Self->{ActivityDialogObject}\n        = Kernel::System::ProcessManagement::ActivityDialog->new(%Param);\n\n    $Self->{TransitionObject} = Kernel::System::ProcessManagement::Transition->new(%Param);\n    $Self->{TransitionActionObject}\n        = Kernel::System::ProcessManagement::TransitionAction->new(%Param);\n\n    $Self->{ProcessObject} = Kernel::System::ProcessManagement::Process->new(\n        %Param,\n        ActivityObject         => $Self->{ActivityObject},\n        ActivityDialogObject   => $Self->{ActivityDialogObject},\n        TransitionObject       => $Self->{TransitionObject},\n        TransitionActionObject => $Self->{TransitionActionObject},\n    );\n\n    return $Self;\n}\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    # ticket id lookup\n    if ( !$Self->{TicketID} && $Self->{ParamObject}->GetParam( Param => 'TicketNumber' ) ) {\n        $Self->{TicketID} = $Self->{TicketObject}->TicketIDLookup(\n            TicketNumber => $Self->{ParamObject}->GetParam( Param => 'TicketNumber' ),\n            UserID       => $Self->{UserID},\n        );\n    }\n\n    # check needed stuff\n    if ( !$Self->{TicketID} ) {\n        my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n        $Output .= $Self->{LayoutObject}->CustomerError( Message => 'Need TicketID!' );\n        $Output .= $Self->{LayoutObject}->CustomerFooter();\n        return $Output;\n    }\n\n    # check permissions\n    my $Access = $Self->{TicketObject}->TicketCustomerPermission(\n        Type     => 'ro',\n        TicketID => $Self->{TicketID},\n        UserID   => $Self->{UserID}\n    );\n\n    # error screen, don't show ticket\n    if ( !$Access ) {\n        return $Self->{LayoutObject}->CustomerNoPermission( WithHeader => 'yes' );\n    }\n\n    # store last screen\n    if ( $Self->{Subaction} ne 'ShowHTMLeMail' ) {\n        $Self->{SessionObject}->UpdateSessionID(\n            SessionID => $Self->{SessionID},\n            Key       => 'LastScreenView',\n            Value     => $Self->{RequestedURL},\n        );\n    }\n\n    # get ticket data\n    my %Ticket = $Self->{TicketObject}->TicketGet(\n        TicketID      => $Self->{TicketID},\n        DynamicFields => 1,\n    );\n\n    # strip html and ascii attachments of content\n    my $StripPlainBodyAsAttachment = 1;\n\n    # check if rich text is enabled, if not only stip ascii attachments\n    if ( !$Self->{LayoutObject}->{BrowserRichText} ) {\n        $StripPlainBodyAsAttachment = 2;\n    }\n\n    # get all articles of this ticket\n    my @CustomerArticleTypes = $Self->{TicketObject}->ArticleTypeList( Type => 'Customer' );\n    my @ArticleBox = $Self->{TicketObject}->ArticleContentIndex(\n        TicketID                   => $Self->{TicketID},\n        ArticleType                => \\@CustomerArticleTypes,\n        StripPlainBodyAsAttachment => $StripPlainBodyAsAttachment,\n        UserID                     => $Self->{UserID},\n        DynamicFields              => 0,\n    );\n\n    # get params\n    my %GetParam;\n    for my $Key (qw( Subject Body StateID PriorityID)) {\n        $GetParam{$Key} = $Self->{ParamObject}->GetParam( Param => $Key );\n    }\n\n    # ACL compatibility translation\n    my %ACLCompatGetParam;\n    $ACLCompatGetParam{OwnerID} = $GetParam{NewUserID};\n\n    # get Dynamic fields from ParamObject\n    my %DynamicFieldValues;\n\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        # extract the dynamic field value form the web request\n        $DynamicFieldValues{ $DynamicFieldConfig->{Name} } =\n            $Self->{BackendObject}->EditFieldValueGet(\n            DynamicFieldConfig => $DynamicFieldConfig,\n            ParamObject        => $Self->{ParamObject},\n            LayoutObject       => $Self->{LayoutObject},\n            );\n    }\n\n    # convert dynamic field values into a structure for ACLs\n    my %DynamicFieldACLParameters;\n    DYNAMICFIELD:\n    for my $DynamicField ( sort keys %DynamicFieldValues ) {\n        next DYNAMICFIELD if !$DynamicField;\n        next DYNAMICFIELD if !$DynamicFieldValues{$DynamicField};\n\n        $DynamicFieldACLParameters{ 'DynamicField_' . $DynamicField }\n            = $DynamicFieldValues{$DynamicField};\n    }\n    $GetParam{DynamicField} = \\%DynamicFieldACLParameters;\n\n    if ( $Self->{Subaction} eq 'AJAXUpdate' ) {\n\n        # get TicketID\n        if ( !$GetParam{TicketID} ) {\n            $GetParam{TicketID} =\n                $Self->{TicketID} ||\n                $Self->{ParamObject}->GetParam( Param => 'TicketID' );\n        }\n\n        my $CustomerUser = $Self->{UserID};\n\n        my $Priorities = $Self->_GetPriorities(\n            %GetParam,\n            %ACLCompatGetParam,\n            CustomerUserID => $CustomerUser || '',\n        );\n        my $NextStates = $Self->_GetNextStates(\n            %GetParam,\n            %ACLCompatGetParam,\n            CustomerUserID => $CustomerUser || '',\n        );\n\n        # update Dynamic Fields Possible Values via AJAX\n        my @DynamicFieldAJAX;\n\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD\n                if !$Self->{BackendObject}->IsAJAXUpdateable(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                );\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Ticket';\n\n            my $PossibleValues = $Self->{BackendObject}->AJAXPossibleValuesGet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n            );\n\n            # convert possible values key => value to key => key for ACLs usign a Hash slice\n            my %AclData = %{$PossibleValues};\n            @AclData{ keys %AclData } = keys %AclData;\n\n            # set possible values filter from ACLs\n            my $ACL = $Self->{TicketObject}->TicketAcl(\n                %GetParam,\n                %ACLCompatGetParam,\n                Action         => $Self->{Action},\n                ReturnType     => 'Ticket',\n                ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                Data           => \\%AclData,\n                CustomerUserID => $Self->{UserID},\n            );\n            if ($ACL) {\n                my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                # convert Filer key => key back to key => value using map\n                %{$PossibleValues} = map { $_ => $PossibleValues->{$_} } keys %Filter;\n            }\n\n            # add dynamic field to the list of fields to update\n            push(\n                @DynamicFieldAJAX,\n                {\n                    Name        => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data        => $PossibleValues,\n                    SelectedID  => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                    Translation => $DynamicFieldConfig->{Config}->{TranslatableValues} || 0,\n                    Max         => 100,\n                }\n            );\n        }\n\n        my $JSON = $Self->{LayoutObject}->BuildSelectionJSON(\n            [\n                {\n                    Name        => 'PriorityID',\n                    Data        => $Priorities,\n                    SelectedID  => $GetParam{PriorityID},\n                    Translation => 1,\n                    Max         => 100,\n                },\n                {\n                    Name        => 'StateID',\n                    Data        => $NextStates,\n                    SelectedID  => $GetParam{StateID},\n                    Translation => 1,\n                    Max         => 100,\n                },\n                @DynamicFieldAJAX,\n            ],\n        );\n        return $Self->{LayoutObject}->Attachment(\n            ContentType => 'application/json; charset=' . $Self->{LayoutObject}->{Charset},\n            Content     => $JSON,\n            Type        => 'inline',\n            NoCache     => 1,\n        );\n    }\n\n    #   end AJAX Update\n\n    # check follow up\n    elsif ( $Self->{Subaction} eq 'Store' ) {\n\n        # challenge token check for write action\n        $Self->{LayoutObject}->ChallengeTokenCheck(Type => 'Customer');\n\n        my $NextScreen = $Self->{NextScreen} || $Self->{Config}->{NextScreenAfterFollowUp};\n        my %Error;\n\n        # rewrap body if no rich text is used\n        if ( $GetParam{Body} && !$Self->{LayoutObject}->{BrowserRichText} ) {\n            $GetParam{Body} = $Self->{LayoutObject}->WrapPlainText(\n                MaxCharacters => $Self->{ConfigObject}->Get('Ticket::Frontend::TextAreaNote'),\n                PlainText     => $GetParam{Body},\n            );\n        }\n\n        # get follow up option (possible or not)\n        my $FollowUpPossible = $Self->{QueueObject}->GetFollowUpOption(\n            QueueID => $Ticket{QueueID},\n        );\n\n        # get lock option (should be the ticket locked - if closed - after the follow up)\n        my $Lock = $Self->{QueueObject}->GetFollowUpLockOption( QueueID => $Ticket{QueueID}, );\n\n        # get ticket state details\n        my %State = $Self->{StateObject}->StateGet(\n            ID => $Ticket{StateID},\n        );\n        if ( $FollowUpPossible =~ /(new ticket|reject)/i && $State{TypeName} =~ /^close/i ) {\n            my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n            $Output .= $Self->{LayoutObject}->CustomerWarning(\n                Message => 'Can\\'t reopen ticket, not possible in this queue!',\n                Comment => 'Create a new ticket!',\n            );\n            $Output .= $Self->{LayoutObject}->CustomerFooter();\n            return $Output;\n        }\n\n        # rewrap body if no rich text is used\n        if ( $GetParam{Body} && !$Self->{LayoutObject}->{BrowserRichText} ) {\n            $GetParam{Body} = $Self->{LayoutObject}->WrapPlainText(\n                MaxCharacters => $Self->{ConfigObject}->Get('Ticket::Frontend::TextAreaNote'),\n                PlainText     => $GetParam{Body},\n            );\n        }\n\n        # for attachment actions\n        my $IsUpload = 0;\n\n        # attachment delete\n        for my $Count ( 1 .. 32 ) {\n            my $Delete = $Self->{ParamObject}->GetParam( Param => \"AttachmentDelete$Count\" );\n            next if !$Delete;\n            $GetParam{FollowUpVisible} = 'Visible';\n            $Error{AttachmentDelete}   = 1;\n            $Self->{UploadCacheObject}->FormIDRemoveFile(\n                FormID => $Self->{FormID},\n                FileID => $Count,\n            );\n            $IsUpload = 1;\n        }\n\n        # attachment upload\n        if ( $Self->{ParamObject}->GetParam( Param => 'AttachmentUpload' ) ) {\n            $GetParam{FollowUpVisible} = 'Visible';\n            $Error{AttachmentUpload}   = 1;\n            my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n                Param  => \"file_upload\",\n                Source => 'string',\n            );\n            $Self->{UploadCacheObject}->FormIDAddFile(\n                FormID => $Self->{FormID},\n                %UploadStuff,\n            );\n            $IsUpload = 1;\n        }\n\n        if ( !$IsUpload ) {\n            if ( !$GetParam{Body} || $GetParam{Body} eq '<br />' ) {\n                $Error{RichTextInvalid}    = 'ServerError';\n                $GetParam{FollowUpVisible} = 'Visible';\n            }\n        }\n\n        # create html strings for all dynamic fields\n        my %DynamicFieldHTML;\n\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            my $PossibleValuesFilter;\n\n            # check if field has PossibleValues property in its configuration\n            if ( IsHashRefWithData( $DynamicFieldConfig->{Config}->{PossibleValues} ) ) {\n\n                # convert possible values key => value to key => key for ACLs usign a Hash slice\n                my %AclData = %{ $DynamicFieldConfig->{Config}->{PossibleValues} };\n                @AclData{ keys %AclData } = keys %AclData;\n\n                # set possible values filter from ACLs\n                my $ACL = $Self->{TicketObject}->TicketAcl(\n                    %GetParam,\n                    Action         => $Self->{Action},\n                    TicketID       => $Self->{TicketID},\n                    ReturnType     => 'Ticket',\n                    ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                    Data           => \\%AclData,\n                    CustomerUserID => $Self->{UserID},\n                );\n                if ($ACL) {\n                    my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                    # convert Filer key => key back to key => value using map\n                    %{$PossibleValuesFilter}\n                        = map { $_ => $DynamicFieldConfig->{Config}->{PossibleValues}->{$_} }\n                        keys %Filter;\n                }\n            }\n\n            my $ValidationResult;\n\n            # do not validate on attachment upload\n            if ( !$IsUpload ) {\n\n                $ValidationResult = $Self->{BackendObject}->EditFieldValueValidate(\n                    DynamicFieldConfig   => $DynamicFieldConfig,\n                    PossibleValuesFilter => $PossibleValuesFilter,\n                    ParamObject          => $Self->{ParamObject},\n                    Mandatory =>\n                        $Self->{Config}->{FollowUpDynamicField}->{ $DynamicFieldConfig->{Name} }\n                        == 2,\n                );\n\n                if ( !IsHashRefWithData($ValidationResult) ) {\n                    my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n                    $Output .= $Self->{LayoutObject}->CustomerError(\n                        Message =>\n                            \"Could not perform validation on field $DynamicFieldConfig->{Label}!\",\n                        Comment => 'Please contact your administrator',\n                    );\n                    $Output .= $Self->{LayoutObject}->CustomerFooter();\n                    return $Output;\n                }\n\n                # propagate validation error to the Error variable to be detected by the frontend\n                if ( $ValidationResult->{ServerError} ) {\n                    $Error{ $DynamicFieldConfig->{Name} } = ' ServerError';\n\n                    # make FollowUp visible to correcly show the error\n                    $GetParam{FollowUpVisible} = 'Visible';\n                }\n            }\n\n            # get field html\n            $DynamicFieldHTML{ $DynamicFieldConfig->{Name} } =\n                $Self->{BackendObject}->EditFieldRender(\n                DynamicFieldConfig   => $DynamicFieldConfig,\n                PossibleValuesFilter => $PossibleValuesFilter,\n                Mandatory =>\n                    $Self->{Config}->{FollowUpDynamicField}->{ $DynamicFieldConfig->{Name} } == 2,\n                ServerError  => $ValidationResult->{ServerError}  || '',\n                ErrorMessage => $ValidationResult->{ErrorMessage} || '',\n                LayoutObject => $Self->{LayoutObject},\n                ParamObject  => $Self->{ParamObject},\n                AJAXUpdate   => 1,\n                UpdatableFields => $Self->_GetFieldsToUpdate(),\n                );\n        }\n\n        # show edit again\n        if (%Error) {\n\n            # generate output\n            my $Output = $Self->{LayoutObject}->CustomerHeader( Value => $Ticket{TicketNumber} );\n            $Output .= $Self->{LayoutObject}->CustomerNavigationBar();\n            $Output .= $Self->_Mask(\n                TicketID   => $Self->{TicketID},\n                ArticleBox => \\@ArticleBox,\n                Errors     => \\%Error,\n                %Ticket,\n                TicketState   => $Ticket{State},\n                TicketStateID => $Ticket{StateID},\n                %GetParam,\n                DynamicFieldHTML => \\%DynamicFieldHTML,\n            );\n            $Output .= $Self->{LayoutObject}->CustomerFooter();\n            return $Output;\n        }\n\n        # unlock ticket if agent is on vacation or invalid\n        my $LockAction;\n        if ( $Ticket{OwnerID} ) {\n            my %User = $Self->{AgentUserObject}->GetUserData(\n                UserID => $Ticket{OwnerID},\n            );\n            if ( %User && ( $User{OutOfOfficeMessage} || $User{ValidID} ne '1' ) ) {\n                $LockAction = 'unlock';\n            }\n        }\n\n        # set lock if ticket was closed\n        if (\n            !$LockAction\n            && $Lock\n            && $State{TypeName} =~ /^close/i && $Ticket{OwnerID} ne '1'\n            )\n        {\n\n            $LockAction = 'lock';\n        }\n\n        if ($LockAction) {\n            $Self->{TicketObject}->TicketLockSet(\n                TicketID => $Self->{TicketID},\n                Lock     => $LockAction,\n                UserID   => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        my $From = \"$Self->{UserFirstname} $Self->{UserLastname} <$Self->{UserEmail}>\";\n\n        my $MimeType = 'text/plain';\n        if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n            $MimeType = 'text/html';\n\n            # verify html document\n            $GetParam{Body} = $Self->{LayoutObject}->RichTextDocumentComplete(\n                String => $GetParam{Body},\n            );\n        }\n\n        my $ArticleID = $Self->{TicketObject}->ArticleCreate(\n            TicketID    => $Self->{TicketID},\n            ArticleType => $Self->{Config}->{ArticleType},\n            SenderType  => $Self->{Config}->{SenderType},\n            From        => $From,\n            Subject     => $GetParam{Subject},\n            Body        => $GetParam{Body},\n            MimeType    => $MimeType,\n            Charset     => $Self->{LayoutObject}->{UserCharset},\n            UserID      => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            OrigHeader  => {\n                From    => $From,\n                To      => 'System',\n                Subject => $GetParam{Subject},\n                Body    => $Self->{LayoutObject}->RichText2Ascii( String => $GetParam{Body} ),\n            },\n            HistoryType      => $Self->{Config}->{HistoryType},\n            HistoryComment   => $Self->{Config}->{HistoryComment} || '%%',\n            AutoResponseType => 'auto follow up',\n        );\n        if ( !$ArticleID ) {\n            my $Output = $Self->{LayoutObject}->CustomerHeader( Title => 'Error' );\n            $Output .= $Self->{LayoutObject}->CustomerError();\n            $Output .= $Self->{LayoutObject}->CustomerFooter();\n            return $Output;\n        }\n\n        # set state\n        my $NextState = $Self->{Config}->{StateDefault} || 'open';\n        if ( $GetParam{StateID} && $Self->{Config}->{State} ) {\n            my %NextStateData = $Self->{StateObject}->StateGet( ID => $GetParam{StateID} );\n            $NextState = $NextStateData{Name};\n        }\n\n        # change state if\n        # customer set another state\n        # or the ticket is not new\n        if ( $Ticket{StateType} !~ /^new/ || $GetParam{StateID} ) {\n            $Self->{TicketObject}->StateSet(\n                TicketID  => $Self->{TicketID},\n                ArticleID => $ArticleID,\n                State     => $NextState,\n                UserID    => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # set priority\n        if ( $Self->{Config}->{Priority} && $GetParam{PriorityID} ) {\n            $Self->{TicketObject}->TicketPrioritySet(\n                TicketID   => $Self->{TicketID},\n                PriorityID => $GetParam{PriorityID},\n                UserID     => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # get pre loaded attachment\n        my @AttachmentData = $Self->{UploadCacheObject}->FormIDGetAllFilesData(\n            FormID => $Self->{FormID}\n        );\n\n        # get submit attachment\n        my %UploadStuff = $Self->{ParamObject}->GetUploadAll(\n            Param  => 'file_upload',\n            Source => 'String',\n        );\n        if (%UploadStuff) {\n            push @AttachmentData, \\%UploadStuff;\n        }\n\n        # write attachments\n        for my $Attachment (@AttachmentData) {\n\n            # skip deleted inline images\n            next if $Attachment->{ContentID}\n                && $Attachment->{ContentID} =~ /^inline/\n                && $GetParam{Body} !~ /$Attachment->{ContentID}/;\n            $Self->{TicketObject}->ArticleWriteAttachment(\n                %{$Attachment},\n                ArticleID => $ArticleID,\n                UserID    => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # set ticket dynamic fields\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Ticket';\n\n            # set the value\n            my $Success = $Self->{BackendObject}->ValueSet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $Self->{TicketID},\n                Value              => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                UserID             => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # set article dynamic fields\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n            next DYNAMICFIELD if $DynamicFieldConfig->{ObjectType} ne 'Article';\n\n            # set the value\n            my $Success = $Self->{BackendObject}->ValueSet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $ArticleID,\n                Value              => $DynamicFieldValues{ $DynamicFieldConfig->{Name} },\n                UserID             => $Self->{ConfigObject}->Get('CustomerPanelUserID'),\n            );\n        }\n\n        # remove pre submited attachments\n        $Self->{UploadCacheObject}->FormIDRemove( FormID => $Self->{FormID} );\n\n        # redirect to zoom view\n        return $Self->{LayoutObject}->Redirect(\n            OP => \"Action=$NextScreen;TicketID=$Self->{TicketID}\",\n        );\n    }\n\n    $Ticket{TmpCounter}      = 0;\n    $Ticket{TicketTimeUnits} = $Self->{TicketObject}->TicketAccountedTimeGet(\n        TicketID => $Ticket{TicketID},\n    );\n\n    # set priority from ticket as fallback\n    $GetParam{PriorityID} ||= $Ticket{PriorityID};\n\n    # create html strings for all dynamic fields\n    my %DynamicFieldHTML;\n\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        my $PossibleValuesFilter;\n\n        # check if field has PossibleValues property in its configuration\n        if ( IsHashRefWithData( $DynamicFieldConfig->{Config}->{PossibleValues} ) ) {\n\n            # convert possible values key => value to key => key for ACLs usign a Hash slice\n            my %AclData = %{ $DynamicFieldConfig->{Config}->{PossibleValues} };\n            @AclData{ keys %AclData } = keys %AclData;\n\n            # set possible values filter from ACLs\n            my $ACL = $Self->{TicketObject}->TicketAcl(\n                %GetParam,\n                Action         => $Self->{Action},\n                TicketID       => $Self->{TicketID},\n                ReturnType     => 'Ticket',\n                ReturnSubType  => 'DynamicField_' . $DynamicFieldConfig->{Name},\n                Data           => \\%AclData,\n                CustomerUserID => $Self->{UserID},\n            );\n            if ($ACL) {\n                my %Filter = $Self->{TicketObject}->TicketAclData();\n\n                # convert Filer key => key back to key => value using map\n                %{$PossibleValuesFilter}\n                    = map { $_ => $DynamicFieldConfig->{Config}->{PossibleValues}->{$_} }\n                    keys %Filter;\n            }\n        }\n\n        # get field html\n        $DynamicFieldHTML{ $DynamicFieldConfig->{Name} } =\n            $Self->{BackendObject}->EditFieldRender(\n            DynamicFieldConfig   => $DynamicFieldConfig,\n            PossibleValuesFilter => $PossibleValuesFilter,\n            Mandatory =>\n                $Self->{Config}->{FollowUpDynamicField}->{ $DynamicFieldConfig->{Name} } == 2,\n            LayoutObject    => $Self->{LayoutObject},\n            ParamObject     => $Self->{ParamObject},\n            AJAXUpdate      => 1,\n            UpdatableFields => $Self->_GetFieldsToUpdate(),\n            Value           => $Ticket{ 'DynamicField_' . $DynamicFieldConfig->{Name} },\n\n            );\n    }\n\n    # generate output\n    my $Output = $Self->{LayoutObject}->CustomerHeader( Value => $Ticket{TicketNumber} );\n    $Output .= $Self->{LayoutObject}->CustomerNavigationBar();\n\n    # show ticket\n    if ( $Self->{Subaction} eq 'ShowHTMLeMail' ) {\n\n        # if it is a html email, drop normal header\n        $Ticket{ShowHTMLeMail} = 1;\n        $Output = '';\n    }\n    $Output .= $Self->_Mask(\n        TicketID   => $Self->{TicketID},\n        ArticleBox => \\@ArticleBox,\n        %Ticket,\n        TicketState   => $Ticket{State},\n        TicketStateID => $Ticket{StateID},\n        %GetParam,\n        DynamicFieldHTML => \\%DynamicFieldHTML,\n    );\n\n    # return if HTML email\n    if ( $Self->{Subaction} eq 'ShowHTMLeMail' ) {\n        return $Output;\n    }\n\n    # add footer\n    $Output .= $Self->{LayoutObject}->CustomerFooter();\n\n    # return output\n    return $Output;\n}\n\nsub _GetNextStates {\n    my ( $Self, %Param ) = @_;\n\n    my %NextStates;\n    if ( $Param{TicketID} ) {\n        %NextStates = $Self->{TicketObject}->TicketStateList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n    }\n    return \\%NextStates;\n}\n\nsub _GetPriorities {\n    my ( $Self, %Param ) = @_;\n\n    # get priority\n    my %Priorities;\n    if ( $Param{TicketID} ) {\n        %Priorities = $Self->{TicketObject}->TicketPriorityList(\n            %Param,\n            Action         => $Self->{Action},\n            CustomerUserID => $Self->{UserID},\n        );\n    }\n    return \\%Priorities;\n}\n\nsub _Mask {\n    my ( $Self, %Param ) = @_;\n\n    $Param{FormID} = $Self->{FormID};\n\n    # show back link\n    if ( $Self->{LastScreenOverview} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'Back',\n            Data => \\%Param,\n        );\n    }\n\n    # build article stuff\n    my $SelectedArticleID = $Self->{ParamObject}->GetParam( Param => 'ArticleID' ) || '';\n    my $BaseLink          = $Self->{LayoutObject}->{Baselink} . \"TicketID=$Self->{TicketID}&\";\n    my @ArticleBox        = @{ $Param{ArticleBox} };\n\n    # prepare errors!\n    if ( $Param{Errors} ) {\n        for my $KeyError ( sort keys %{ $Param{Errors} } ) {\n            $Param{$KeyError}\n                = $Self->{LayoutObject}->Ascii2Html( Text => $Param{Errors}->{$KeyError} );\n        }\n    }\n\n    my $ArticleID           = '';\n    my $LastCustomerArticle = '';\n    if (@ArticleBox) {\n\n        # get last customer article\n        my $CounterArray = 0;\n        my $LastCustomerArticleID;\n        $LastCustomerArticle = $#ArticleBox;\n\n        for my $ArticleTmp (@ArticleBox) {\n            my %Article = %{$ArticleTmp};\n\n            # if it is a customer article\n            if ( $Article{SenderType} eq 'customer' ) {\n                $LastCustomerArticleID = $Article{ArticleID};\n                $LastCustomerArticle   = $CounterArray;\n            }\n            $CounterArray++;\n            if ( ($SelectedArticleID) && ( $SelectedArticleID eq $Article{ArticleID} ) ) {\n                $ArticleID = $Article{ArticleID};\n            }\n        }\n\n        # try to use the latest non internal agent article\n        if ( !$ArticleID ) {\n            $ArticleID         = $ArticleBox[-1]->{ArticleID};\n            $SelectedArticleID = $ArticleID;\n        }\n\n        # try to use the latest customer article\n        if ( !$ArticleID && $LastCustomerArticleID ) {\n            $ArticleID         = $LastCustomerArticleID;\n            $SelectedArticleID = $ArticleID;\n        }\n    }\n\n    # ticket priority flag\n    if ( $Self->{Config}->{AttributesView}->{Priority} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'PriorityFlag',\n            Data => \\%Param,\n        );\n    }\n\n    # ticket type\n    if ( $Self->{ConfigObject}->Get('Ticket::Type') && $Self->{Config}->{AttributesView}->{Type} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'Type',\n            Data => \\%Param,\n        );\n    }\n\n    # ticket service\n    if (\n        $Param{Service}\n        &&\n        $Self->{ConfigObject}->Get('Ticket::Service')\n        && $Self->{Config}->{AttributesView}->{Service}\n        )\n    {\n        $Self->{LayoutObject}->Block(\n            Name => 'Service',\n            Data => \\%Param,\n        );\n        if (\n            $Param{SLA}\n            && $Self->{ConfigObject}->Get('Ticket::Service')\n            && $Self->{Config}->{AttributesView}->{SLA}\n            )\n        {\n            $Self->{LayoutObject}->Block(\n                Name => 'SLA',\n                Data => \\%Param,\n            );\n        }\n    }\n\n    # ticket state\n    if ( $Self->{Config}->{AttributesView}->{State} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'State',\n            Data => \\%Param,\n        );\n    }\n\n    # ticket priority\n    if ( $Self->{Config}->{AttributesView}->{Priority} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'Priority',\n            Data => \\%Param,\n        );\n    }\n\n    # ticket queue\n    if ( $Self->{Config}->{AttributesView}->{Queue} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'Queue',\n            Data => \\%Param,\n        );\n    }\n\n    # ticket owner\n    if ( $Self->{Config}->{AttributesView}->{Owner} ) {\n        my $OwnerName = $Self->{AgentUserObject}->UserName(\n            UserID => $Param{OwnerID},\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'Owner',\n            Data => { OwnerName => $OwnerName },\n        );\n    }\n\n    # ticket responsible\n    if (\n        $Self->{ConfigObject}->Get('Ticket::Responsible')\n        &&\n        $Self->{Config}->{AttributesView}->{Responsible}\n        )\n    {\n        my $ResponsibleName = $Self->{AgentUserObject}->UserName(\n            UserID => $Param{ResponsibleID},\n        );\n        $Self->{LayoutObject}->Block(\n            Name => 'Responsible',\n            Data => { ResponsibleName => $ResponsibleName },\n        );\n    }\n\n    # check if ticket is normal or process ticket\n    my $IsProcessTicket = $Self->{TicketObject}->TicketCheckForProcessType(\n        'TicketID' => $Self->{TicketID}\n    );\n\n    #    my $ProcessData;\n    #    my $ActivityData;\n    # show process widget  and activity dialogs on process tickets\n    if ($IsProcessTicket) {\n\n        # get the DF where the ProcessEntityID is stored\n        my $ProcessEntityIDField = 'DynamicField_'\n            . $Self->{ConfigObject}->Get(\"Process::DynamicFieldProcessManagementProcessID\");\n\n        # get the DF where the AtivityEntityID is stored\n        my $ActivityEntityIDField = 'DynamicField_'\n            . $Self->{ConfigObject}->Get(\"Process::DynamicFieldProcessManagementActivityID\");\n\n        my $ProcessData = $Self->{ProcessObject}->ProcessGet(\n            ProcessEntityID => $Param{$ProcessEntityIDField},\n        );\n\n        my $ActivityData = $Self->{ActivityObject}->ActivityGet(\n            Interface        => 'CustomerInterface',\n            ActivityEntityID => $Param{$ActivityEntityIDField},\n        );\n\n        # output process information in the sidebar\n        $Self->{LayoutObject}->Block(\n            Name => 'ProcessData',\n            Data => {\n                Process  => $ProcessData->{Name}  || '',\n                Activity => $ActivityData->{Name} || '',\n            },\n        );\n\n        # output the process widget the the main screen\n        $Self->{LayoutObject}->Block(\n            Name => 'ProcessWidget',\n            Data => {\n                WidgetTitle => $Param{WidgetTitle},\n            },\n        );\n\n        # get next activity dialogs\n        my $NextActivityDialogs;\n        if ( $Param{$ActivityEntityIDField} ) {\n            $NextActivityDialogs = $ActivityData;\n        }\n\n        if ( IsHashRefWithData($NextActivityDialogs) ) {\n\n            # we don't need the whole Activity config,\n            # just the Activity Dialogs of the current Activity\n            if ( IsHashRefWithData( $NextActivityDialogs->{ActivityDialog} ) ) {\n                %{$NextActivityDialogs} = %{ $NextActivityDialogs->{ActivityDialog} };\n            }\n            else {\n                $NextActivityDialogs = {};\n            }\n\n            # ACL Check is done in the initial \"Run\" statement\n            # so here we can just pick the possibly reduced Activity Dialogs\n            # map and sort reformat the $NextActivityDialogs hash from it's initial form e.g.:\n            # 1 => 'AD1',\n            # 2 => 'AD3',\n            # 3 => 'AD2',\n            # to a regular array in correct order:\n            # ('AD1', 'AD3', 'AD2')\n\n            my @TmpActivityDialogList\n                = map { $NextActivityDialogs->{$_} }\n                sort  { $a <=> $b } keys %{$NextActivityDialogs};\n\n            # we have to check if the current user has the needed permissions to view the\n            # different activity dialogs, so we loop over every activity dialog and check if there\n            # is a permission configured. If there is a permission configured we check this\n            # and display/hide the activity dialog link\n            my %PermissionRights;\n            my @PermissionActivityDialogList;\n            ACTIVITYDIALOGPERMISSION:\n            for my $CurrentActivityDialogEntityID (@TmpActivityDialogList) {\n\n                my $CurrentActivityDialog = $Self->{ActivityDialogObject}->ActivityDialogGet(\n                    ActivityDialogEntityID => $CurrentActivityDialogEntityID,\n                    Interface              => 'CustomerInterface',\n                );\n\n                # create an interface lookuplist\n                my %InterfaceLookup = map { $_ => 1 } @{ $CurrentActivityDialog->{Interface} };\n\n                next ACTIVITYDIALOGPERMISSION if !$InterfaceLookup{CustomerInterface};\n\n                if ( $CurrentActivityDialog->{Permission} ) {\n\n                    # performanceboost/cache\n                    if ( !defined $PermissionRights{ $CurrentActivityDialog->{Permission} } ) {\n                        $PermissionRights{ $CurrentActivityDialog->{Permission} }\n                            = $Self->{TicketObject}->TicketCustomerPermission(\n                            Type     => $CurrentActivityDialog->{Permission},\n                            TicketID => $Param{TicketID},\n                            UserID   => $Self->{UserID},\n                            );\n                    }\n\n                    next ACTIVITYDIALOGPERMISSION\n                        if !$PermissionRights{ $CurrentActivityDialog->{Permission} };\n                }\n\n                push @PermissionActivityDialogList, $CurrentActivityDialogEntityID;\n            }\n\n            my @PossibleActivityDialogs;\n            if (@PermissionActivityDialogList) {\n                @PossibleActivityDialogs\n                    = $Self->{TicketObject}->TicketAclActivityDialogData(\n                    ActivityDialogs => \\@PermissionActivityDialogList\n                    );\n            }\n\n            # reformat the @PossibleActivityDialogs that is of the structure:\n            # @PossibleActivityDialogs = ('AD1', 'AD3', 'AD4', 'AD2');\n            # to get the same structure as in the %NextActivityDialogs\n            # e.g.:\n            # 1 => 'AD1',\n            # 2 => 'AD3',\n            %{$NextActivityDialogs}\n                = map { $_ => $PossibleActivityDialogs[ $_ - 1 ] }\n                1 .. scalar @PossibleActivityDialogs;\n\n            $Self->{LayoutObject}->Block(\n                Name => 'NextActivities',\n            );\n\n            for my $NextActivityDialogKey ( sort { $a <=> $b } keys %{$NextActivityDialogs} ) {\n                my $ActivityDialogData = $Self->{ActivityDialogObject}->ActivityDialogGet(\n                    ActivityDialogEntityID => $NextActivityDialogs->{$NextActivityDialogKey},\n                    Interface              => 'CustomerInterface',\n                );\n                $Self->{LayoutObject}->Block(\n                    Name => 'ActivityDialog',\n                    Data => {\n                        ActivityDialogEntityID => $NextActivityDialogs->{$NextActivityDialogKey},\n                        Name                   => $ActivityDialogData->{Name},\n                        ProcessEntityID        => $Param{$ProcessEntityIDField},\n                        TicketID               => $Param{TicketID},\n                    },\n                );\n            }\n\n            if ( !IsHashRefWithData($NextActivityDialogs) ) {\n                $Self->{LayoutObject}->Block(\n                    Name => 'NoActivityDialog',\n                    Data => {},\n                );\n            }\n        }\n    }\n\n    # get the dynamic fields for ticket object\n    my $DynamicField = $Self->{DynamicFieldObject}->DynamicFieldListGet(\n        Valid       => 1,\n        ObjectType  => ['Ticket'],\n        FieldFilter => $Self->{DynamicFieldFilter} || {},\n    );\n\n    # cycle trough the activated Dynamic Fields for ticket object\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{$DynamicField} ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        my $Value = $Self->{BackendObject}->ValueGet(\n            DynamicFieldConfig => $DynamicFieldConfig,\n            ObjectID           => $Param{TicketID},\n        );\n\n        next DYNAMICFIELD if !$Value;\n        next DYNAMICFIELD if $Value eq \"\";\n\n        # get print string for this dynamic field\n        my $ValueStrg = $Self->{BackendObject}->DisplayValueRender(\n            DynamicFieldConfig => $DynamicFieldConfig,\n            Value              => $Value,\n            ValueMaxChars      => 25,\n            LayoutObject       => $Self->{LayoutObject},\n        );\n\n        my $Label = $DynamicFieldConfig->{Label};\n\n        $Self->{LayoutObject}->Block(\n            Name => 'TicketDynamicField',\n            Data => {\n                Label => $Label,\n                Value => $ValueStrg->{Value},\n                Title => $ValueStrg->{Title},\n            },\n        );\n\n        # example of dynamic fields order customization\n        $Self->{LayoutObject}->Block(\n            Name => 'TicketDynamicField_' . $DynamicFieldConfig->{Name},\n            Data => {\n                Label => $Label,\n                Value => $ValueStrg->{Value},\n                Title => $ValueStrg->{Title},\n            },\n        );\n    }\n\n    # print option\n    if ( $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{CustomerTicketPrint} ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'Print',\n            Data => \\%Param,\n        );\n    }\n\n    # Expand option\n    my $ExpandOption = ( $Self->{ZoomExpand}    ? 'One' : 'All' );\n    my $ExpandPlural = ( $ExpandOption eq 'All' ? 's'   : '' );\n    $Self->{LayoutObject}->Block(\n        Name => 'Expand',\n        Data => {\n            ZoomExpand   => !$Self->{ZoomExpand},\n            ExpandOption => $ExpandOption,\n            ExpandText   => lc($ExpandOption),\n            ExpandPlural => $ExpandPlural,\n            %Param,\n        },\n    );\n\n    my $ShownArticles;\n    my $LastSenderType = '';\n    for my $ArticleTmp (@ArticleBox) {\n        my %Article = %$ArticleTmp;\n\n        # check if article should be expanded (visible)\n        if ( $SelectedArticleID eq $Article{ArticleID} || $Self->{ZoomExpand} ) {\n            $Article{Class} = 'Visible';\n            $ShownArticles++;\n        }\n\n        # do some html quoting\n        $Article{Age} = $Self->{LayoutObject}->CustomerAge(\n            Age   => $Article{AgeTimeUnix},\n            Space => ' ',\n        );\n\n        $Article{Subject} = $Self->{TicketObject}->TicketSubjectClean(\n            TicketNumber => $Article{TicketNumber},\n            Subject      => $Article{Subject} || '',\n            Size         => 150,\n        );\n\n        $LastSenderType = $Article{SenderType};\n\n        $Self->{LayoutObject}->Block(\n            Name => 'Article',\n            Data => \\%Article,\n        );\n\n        # show the correct title: \"expand article...\" or the article's subject\n        if ( $SelectedArticleID eq $Article{ArticleID} || $Self->{ZoomExpand} ) {\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleExpanded',\n                Data => \\%Article,\n            );\n        }\n        else {\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleContracted',\n                Data => \\%Article,\n            );\n        }\n\n        # do some strips && quoting\n        for my $Key (qw(From To Cc)) {\n            next if !$Article{$Key};\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleRow',\n                Data => {\n                    Key      => $Key,\n                    Value    => $Article{$Key},\n                    Realname => $Article{ $Key . 'Realname' },\n                },\n            );\n        }\n\n        # get the dynamic fields for article object\n        my $DynamicField = $Self->{DynamicFieldObject}->DynamicFieldListGet(\n            Valid       => 1,\n            ObjectType  => ['Article'],\n            FieldFilter => $Self->{DynamicFieldFilter} || {},\n        );\n\n        # cycle trough the activated Dynamic Fields for ticket object\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{$DynamicField} ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            my $Value = $Self->{BackendObject}->ValueGet(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                ObjectID           => $Article{ArticleID},\n            );\n\n            next DYNAMICFIELD if !$Value;\n            next DYNAMICFIELD if $Value eq \"\";\n\n            # get print string for this dynamic field\n            my $ValueStrg = $Self->{BackendObject}->DisplayValueRender(\n                DynamicFieldConfig => $DynamicFieldConfig,\n                Value              => $Value,\n                ValueMaxChars      => 160,\n                LayoutObject       => $Self->{LayoutObject},\n            );\n\n            my $Label = $DynamicFieldConfig->{Label};\n\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleDynamicField',\n                Data => {\n                    Label => $Label,\n                    Value => $ValueStrg->{Value},\n                    Title => $ValueStrg->{Title},\n                },\n            );\n\n            # example of dynamic fields order customization\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleDynamicField_' . $DynamicFieldConfig->{Name},\n                Data => {\n                    Label => $Label,\n                    Value => $ValueStrg->{Value},\n                    Title => $ValueStrg->{Title},\n                },\n            );\n        }\n\n        # check if just a only html email\n        if ( my $MimeTypeText = $Self->{LayoutObject}->CheckMimeType( %Param, %Article ) ) {\n            $Param{BodyNote} = $MimeTypeText;\n            $Param{Body}     = '';\n        }\n        else {\n\n            # html quoting\n            $Article{Body} = $Self->{LayoutObject}->Ascii2Html(\n                NewLine        => $Self->{ConfigObject}->Get('DefaultViewNewLine'),\n                Text           => $Article{Body},\n                VMax           => $Self->{ConfigObject}->Get('DefaultViewLines') || 5000,\n                HTMLResultMode => 1,\n                LinkFeature    => 1,\n            );\n\n            # do charset check\n            if ( my $CharsetText = $Self->{LayoutObject}->CheckCharset( %Param, %Article ) ) {\n                $Param{BodyNote} = $CharsetText;\n            }\n        }\n\n        # in case show plain article body (if no html body as attachment exists of if rich\n        # text is not enabled)\n        my $RichText = $Self->{LayoutObject}->{BrowserRichText};\n        if ( $RichText && $Article{AttachmentIDOfHTMLBody} ) {\n            if ( $SelectedArticleID eq $Article{ArticleID} || $Self->{ZoomExpand} ) {\n                $Self->{LayoutObject}->Block(\n                    Name => 'BodyHTMLLoad',\n                    Data => {\n                        %Param,\n                        %Article,\n                    },\n                );\n            }\n            else {\n                my $SessionInformation;\n\n                # Append session information to URL if needed\n                if ( !$Self->{LayoutObject}->{SessionIDCookie} ) {\n                    $SessionInformation = $Self->{LayoutObject}->{SessionName} . '='\n                        . $Self->{LayoutObject}->{SessionID};\n                }\n\n                $Self->{LayoutObject}->Block(\n                    Name => 'BodyHTMLPlaceholder',\n                    Data => {\n                        %Param,\n                        %Article,\n                        SessionInformation => $SessionInformation,\n                    },\n                );\n            }\n        }\n        else {\n            $Self->{LayoutObject}->Block(\n                Name => 'BodyPlain',\n                Data => {\n                    %Param,\n                    %Article,\n                },\n            );\n        }\n\n        # add attachment icon\n        if ( $Article{Atms} && %{ $Article{Atms} } ) {\n\n            # download type\n            my $Type = $Self->{ConfigObject}->Get('AttachmentDownloadType') || 'attachment';\n\n            # if attachment will be forced to download, don't open a new download window!\n            my $Target = '';\n            if ( $Type =~ /inline/i ) {\n                $Target = 'target=\"attachment\" ';\n            }\n            my %AtmIndex = %{ $Article{Atms} };\n            $Self->{LayoutObject}->Block(\n                Name => 'ArticleAttachment',\n                Data => { Key => 'Attachment', },\n            );\n            for my $FileID ( sort keys %AtmIndex ) {\n                my %File = %{ $AtmIndex{$FileID} };\n                $Self->{LayoutObject}->Block(\n                    Name => 'ArticleAttachmentRow',\n                    Data => \\%File,\n                );\n\n                $Self->{LayoutObject}->Block(\n                    Name => 'ArticleAttachmentRowLink',\n                    Data => {\n                        %File,\n                        Action => 'Download',\n                        Link =>\n                            \"\\$Env{\\\"Baselink\\\"}Action=CustomerTicketAttachment;ArticleID=$Article{ArticleID};FileID=$FileID\",\n                        Image  => 'disk-s.png',\n                        Target => $Target,\n                    },\n                );\n            }\n        }\n    }\n\n    # if there are no viewable articles show NoArticles message\n    if ( !@ArticleBox ) {\n        $Self->{LayoutObject}->Block(\n            Name => 'NoArticles',\n        );\n    }\n\n    my %Article;\n    if (@ArticleBox) {\n\n        my $ArticleOB = {};\n        if ($LastCustomerArticle) {\n            $ArticleOB = $ArticleBox[$LastCustomerArticle];\n        }\n\n        %Article = %$ArticleOB;\n\n        # if no customer articles found use ticket values\n        if ( !IsHashRefWithData( \\%Article ) ) {\n            %Article = %Param;\n            if ( !$Article{StateID} ) {\n                $Article{StateID} = $Param{TicketStateID}\n            }\n        }\n\n        my $ArticleArray = 0;\n        for my $ArticleTmp (@ArticleBox) {\n            my %ArticleTmp1 = %$ArticleTmp;\n            if ( $ArticleID eq $ArticleTmp1{ArticleID} ) {\n                %Article = %ArticleTmp1;\n            }\n        }\n\n        # just body if html email\n        if ( $Param{ShowHTMLeMail} ) {\n\n            # generate output\n            return $Self->{LayoutObject}->Attachment(\n                Filename => $Self->{ConfigObject}->Get('Ticket::Hook')\n                    . \"-$Article{TicketNumber}-$Article{TicketID}-$Article{ArticleID}\",\n                Type        => 'inline',\n                ContentType => \"$Article{MimeType}; charset=$Article{Charset}\",\n                Content     => $Article{Body},\n            );\n        }\n    }\n\n    # fallback to ticket info if there is no article\n    if ( !IsHashRefWithData( \\%Article ) ) {\n        %Article = %Param;\n        if ( !$Article{StateID} ) {\n            $Article{StateID} = $Param{TicketStateID}\n        }\n    }\n\n    # check follow up permissions\n    my $FollowUpPossible\n        = $Self->{QueueObject}->GetFollowUpOption( QueueID => $Article{QueueID}, );\n    my %State = $Self->{StateObject}->StateGet(\n        ID => $Article{StateID},\n    );\n    if (\n        $Self->{TicketObject}->TicketCustomerPermission(\n            Type     => 'update',\n            TicketID => $Self->{TicketID},\n            UserID   => $Self->{UserID}\n        )\n        && (\n            ( $FollowUpPossible !~ /(new ticket|reject)/i && $State{TypeName} =~ /^close/i )\n            || $State{TypeName} !~ /^close/i\n        )\n        )\n    {\n\n        my $DynamicFieldNames = $Self->_GetFieldsToUpdate(\n            OnlyDynamicFields => 1,\n        );\n\n        # create a string with the quoted dynamic field names separated by a commas\n        if ( IsArrayRefWithData($DynamicFieldNames) ) {\n            my $FirstItem = 1;\n            FIELD:\n            for my $Field ( @{$DynamicFieldNames} ) {\n                if ($FirstItem) {\n                    $FirstItem = 0;\n                }\n                else {\n                    $Param{DynamicFieldNamesStrg} .= ', ';\n                }\n                $Param{DynamicFieldNamesStrg} .= \"'\" . $Field . \"'\";\n            }\n        }\n\n        # check subject\n        if ( !$Param{Subject} ) {\n            $Param{Subject} = \"Re: $Param{Title}\";\n        }\n        $Self->{LayoutObject}->Block(\n            Name => 'FollowUp',\n            Data => \\%Param,\n        );\n\n        # add rich text editor\n        if ( $Self->{LayoutObject}->{BrowserRichText} ) {\n\n            # use height/width defined for this screen\n            $Param{RichTextHeight} = $Self->{Config}->{RichTextHeight} || 0;\n            $Param{RichTextWidth}  = $Self->{Config}->{RichTextWidth}  || 0;\n\n            $Self->{LayoutObject}->Block(\n                Name => 'RichText',\n                Data => \\%Param,\n            );\n        }\n\n        # build next states string\n        if ( $Self->{Config}->{State} ) {\n            my %NextStates = $Self->{TicketObject}->TicketStateList(\n                TicketID       => $Self->{TicketID},\n                Action         => $Self->{Action},\n                CustomerUserID => $Self->{UserID},\n            );\n            my %StateSelected;\n            if ( $Param{StateID} ) {\n                $StateSelected{SelectedID} = $Param{StateID};\n            }\n            else {\n                $StateSelected{SelectedValue} = $Self->{Config}->{StateDefault};\n            }\n            $Param{NextStatesStrg} = $Self->{LayoutObject}->BuildSelection(\n                Data => \\%NextStates,\n                Name => 'StateID',\n                %StateSelected,\n            );\n            $Self->{LayoutObject}->Block(\n                Name => 'FollowUpState',\n                Data => \\%Param,\n            );\n        }\n\n        # get priority\n        if ( $Self->{Config}->{Priority} ) {\n            my %Priorities = $Self->{TicketObject}->TicketPriorityList(\n                CustomerUserID => $Self->{UserID},\n                Action         => $Self->{Action},\n            );\n            my %PrioritySelected;\n            if ( $Param{PriorityID} ) {\n                $PrioritySelected{SelectedID} = $Param{PriorityID};\n            }\n            else {\n                $PrioritySelected{SelectedValue} = $Self->{Config}->{PriorityDefault}\n                    || '3 normal';\n            }\n            $Param{PriorityStrg} = $Self->{LayoutObject}->BuildSelection(\n                Data => \\%Priorities,\n                Name => 'PriorityID',\n                %PrioritySelected,\n            );\n            $Self->{LayoutObject}->Block(\n                Name => 'FollowUpPriority',\n                Data => \\%Param,\n            );\n        }\n\n        # Dynamic fields\n        # cycle trough the activated Dynamic Fields for this screen\n        DYNAMICFIELD:\n        for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n            next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n            # skip fields that HTML could not be retrieved\n            next DYNAMICFIELD if !IsHashRefWithData(\n                $Param{DynamicFieldHTML}->{ $DynamicFieldConfig->{Name} }\n            );\n\n            # get the html strings form $Param\n            my $DynamicFieldHTML = $Param{DynamicFieldHTML}->{ $DynamicFieldConfig->{Name} };\n\n            $Self->{LayoutObject}->Block(\n                Name => 'FollowUpDynamicField',\n                Data => {\n                    Name  => $DynamicFieldConfig->{Name},\n                    Label => $DynamicFieldHTML->{Label},\n                    Field => $DynamicFieldHTML->{Field},\n                },\n            );\n\n            # example of dynamic fields order customization\n            $Self->{LayoutObject}->Block(\n                Name => 'FollowUpDynamicField_' . $DynamicFieldConfig->{Name},\n                Data => {\n                    Name  => $DynamicFieldConfig->{Name},\n                    Label => $DynamicFieldHTML->{Label},\n                    Field => $DynamicFieldHTML->{Field},\n                },\n            );\n        }\n\n        # show attachments\n        # get all attachments meta data\n        my @Attachments = $Self->{UploadCacheObject}->FormIDGetAllFilesMeta(\n            FormID => $Self->{FormID},\n        );\n        for my $Attachment (@Attachments) {\n            next if $Attachment->{ContentID} && $Self->{LayoutObject}->{BrowserRichText};\n            $Self->{LayoutObject}->Block(\n                Name => 'FollowUpAttachment',\n                Data => $Attachment,\n            );\n        }\n    }\n\n    # select the output template\n    return $Self->{LayoutObject}->Output(\n        TemplateFile => 'CustomerTicketZoom',\n        Data         => {\n            %Article,\n            %Param,\n        },\n    );\n}\n\nsub _GetFieldsToUpdate {\n    my ( $Self, %Param ) = @_;\n\n    my @UpdatableFields;\n\n    # set the fields that can be updatable via AJAXUpdate\n    if ( !$Param{OnlyDynamicFields} ) {\n        @UpdatableFields\n            = qw( ServiceID SLAID PriorityID StateID );\n    }\n\n    # cycle trough the activated Dynamic Fields for this screen\n    DYNAMICFIELD:\n    for my $DynamicFieldConfig ( @{ $Self->{FollowUpDynamicField} } ) {\n        next DYNAMICFIELD if !IsHashRefWithData($DynamicFieldConfig);\n\n        my $Updateable = $Self->{BackendObject}->IsAJAXUpdateable(\n            DynamicFieldConfig => $DynamicFieldConfig,\n        );\n\n        next DYNAMICFIELD if !$Updateable;\n\n        push @UpdatableFields, 'DynamicField_' . $DynamicFieldConfig->{Name};\n    }\n\n    return \\@UpdatableFields;\n}\n\n1;\n", "# --\n# Kernel/Output/HTML/Layout.pm - provides generic HTML output\n# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::Output::HTML::Layout;\n\nuse strict;\nuse warnings;\n\nuse Kernel::Language;\nuse Kernel::System::HTMLUtils;\nuse Kernel::System::JSON;\nuse Kernel::System::VariableCheck qw(:all);\n\nuse Mail::Address;\nuse URI::Escape qw();\n\nuse vars qw(@ISA);\n\n=head1 NAME\n\nKernel::Output::HTML::Layout - all generic html functions\n\n=head1 SYNOPSIS\n\nAll generic html functions. E. g. to get options fields, template processing, ...\n\n=head1 PUBLIC INTERFACE\n\n=over 4\n\n=cut\n\n=item new()\n\ncreate a new object\n\n    use Kernel::Config;\n    use Kernel::System::Encode;\n    use Kernel::System::Log;\n    use Kernel::System::Time;\n    use Kernel::System::Main;\n    use Kernel::System::Web::Request;\n    use Kernel::Output::HTML::Layout;\n\n    my $ConfigObject = Kernel::Config->new();\n    my $EncodeObject = Kernel::System::Encode->new(\n        ConfigObject => $ConfigObject,\n    );\n    my $LogObject = Kernel::System::Log->new(\n        ConfigObject => $ConfigObject,\n        EncodeObject => $EncodeObject,\n    );\n    my $MainObject = Kernel::System::Main->new(\n        ConfigObject => $ConfigObject,\n        EncodeObject => $EncodeObject,\n        LogObject    => $LogObject,\n    );\n    my $TimeObject = Kernel::System::Time->new(\n        ConfigObject => $ConfigObject,\n        LogObject    => $LogObject,\n    );\n    my $RequestObject = Kernel::System::Web::Request->new(\n        ConfigObject => $ConfigObject,\n        LogObject    => $LogObject,\n        EncodeObject => $EncodeObject,\n        MainObject   => $MainObject,\n    );\n    my $LayoutObject = Kernel::Output::HTML::Layout->new(\n        ConfigObject  => $ConfigObject,\n        LogObject     => $LogObject,\n        MainObject    => $MainObject,\n        TimeObject    => $TimeObject,\n        ParamObject   => $RequestObject,\n        EncodeObject  => $EncodeObject,\n        Lang          => 'de',\n    );\n\n    in addition for NavigationBar() you need\n        DBObject\n        SessionObject\n        UserID\n        TicketObject\n        GroupObject\n\n    in addition for AgentCustomerViewTable() you need\n        DBObject\n\n=cut\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    # allocate new hash for object\n    my $Self = {%Param};\n    bless( $Self, $Type );\n\n    # set debug\n    $Self->{Debug} = 0;\n\n    # check needed objects\n    # Attention: NavigationBar() needs also SessionObject and some other objects\n    for my $Object (qw(ConfigObject LogObject TimeObject MainObject EncodeObject ParamObject)) {\n        if ( !$Self->{$Object} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => \"Got no $Object!\",\n            );\n            $Self->FatalError();\n        }\n    }\n\n    # create additional objects\n    $Self->{HTMLUtilsObject} = Kernel::System::HTMLUtils->new( %{$Self} );\n    $Self->{JSONObject}      = Kernel::System::JSON->new( %{$Self} );\n\n    # reset block data\n    delete $Self->{BlockData};\n\n    # get/set some common params\n    if ( !$Self->{UserTheme} ) {\n        $Self->{UserTheme} = $Self->{ConfigObject}->Get('DefaultTheme');\n    }\n\n    if ( $Self->{ConfigObject}->Get('TimeZoneUser') && $Self->{UserTimeZone} ) {\n        $Self->{UserTimeObject} = Kernel::System::Time->new(%Param);\n    }\n    else {\n        $Self->{UserTimeObject} = $Self->{TimeObject};\n        $Self->{UserTimeZone}   = '';\n    }\n\n    # Determine the language to use based on the browser setting, if there\n    #   is none yet.\n    if ( !$Self->{UserLanguage} ) {\n        my @BrowserLanguages = split /\\s*,\\s*/, $Self->{Lang} || $ENV{HTTP_ACCEPT_LANGUAGE} || '';\n        my %Data = %{ $Self->{ConfigObject}->Get('DefaultUsedLanguages') };\n        LANGUAGE:\n        for my $BrowserLang (@BrowserLanguages) {\n            for my $Language ( reverse sort keys %Data ) {\n\n                # check xx_XX and xx-XX type\n                my $LanguageOtherType = $Language;\n                $LanguageOtherType =~ s/_/-/;\n                if ( $BrowserLang =~ /^($Language|$LanguageOtherType)/i ) {\n                    $Self->{UserLanguage} = $Language;\n                    last LANGUAGE;\n                }\n            }\n        }\n        $Self->{UserLanguage} ||= $Self->{ConfigObject}->Get('DefaultLanguage') || 'en';\n    }\n\n    # create language object\n    if ( !$Self->{LanguageObject} ) {\n        $Self->{LanguageObject} = Kernel::Language->new(\n            UserTimeZone => $Self->{UserTimeZone},\n            UserLanguage => $Self->{UserLanguage},\n            LogObject    => $Self->{LogObject},\n            ConfigObject => $Self->{ConfigObject},\n            EncodeObject => $Self->{EncodeObject},\n            MainObject   => $Self->{MainObject},\n            Action       => $Self->{Action},\n        );\n    }\n\n    # set charset if there is no charset given\n    $Self->{UserCharset} = 'utf-8';\n    $Self->{Charset}     = $Self->{UserCharset};                            # just for compat.\n    $Self->{SessionID}   = $Param{SessionID} || '';\n    $Self->{SessionName} = $Param{SessionName} || 'SessionID';\n    $Self->{CGIHandle}   = $ENV{SCRIPT_NAME} || 'No-$ENV{\"SCRIPT_NAME\"}';\n\n    # baselink\n    $Self->{Baselink} = $Self->{CGIHandle} . '?';\n    $Self->{Time}     = $Self->{LanguageObject}->Time(\n        Action => 'GET',\n        Format => 'DateFormat',\n    );\n    $Self->{TimeLong} = $Self->{LanguageObject}->Time(\n        Action => 'GET',\n        Format => 'DateFormatLong',\n    );\n\n    # set text direction\n    $Self->{TextDirection} = $Self->{LanguageObject}->{TextDirection};\n\n    # check Frontend::Output::FilterElementPre\n    $Self->{FilterElementPre} = $Self->{ConfigObject}->Get('Frontend::Output::FilterElementPre');\n\n    # check Frontend::Output::FilterElementPost\n    $Self->{FilterElementPost} = $Self->{ConfigObject}->Get('Frontend::Output::FilterElementPost');\n\n    # check Frontend::Output::FilterContent\n    $Self->{FilterContent} = $Self->{ConfigObject}->Get('Frontend::Output::FilterContent');\n\n    # check Frontend::Output::FilterText\n    $Self->{FilterText} = $Self->{ConfigObject}->Get('Frontend::Output::FilterText');\n\n    # check browser (default is IE because I don't have IE)\n    $Self->{Browser} = 'Unknown';\n\n    $Self->{BrowserJavaScriptSupport} = 1;\n    $Self->{BrowserRichText}          = 1;\n\n    my $HttpUserAgent = ( defined $ENV{HTTP_USER_AGENT} ? lc $ENV{HTTP_USER_AGENT} : '' );\n    if ( !$HttpUserAgent ) {\n        $Self->{Browser} = 'Unknown - no $ENV{\"HTTP_USER_AGENT\"}';\n    }\n    elsif ($HttpUserAgent) {\n\n        # msie\n        if (\n            $HttpUserAgent =~ /msie\\s([0-9.]+)/\n            || $HttpUserAgent =~ /internet\\sexplorer\\/([0-9.]+)/\n            )\n        {\n            $Self->{Browser} = 'MSIE';\n\n            # For IE 5.5 - 8.0, we break the header in a special way that makes\n            # things work. I don't really want to know.\n            if ( $1 =~ /(\\d)\\.(\\d)/ ) {\n                $Self->{BrowserMajorVersion} = $1;\n                $Self->{BrowserMinorVersion} = $2;\n                if (\n                    $1 == 5\n                    && $2 == 5\n                    || $1 == 6 && $2 == 0\n                    || $1 == 7 && $2 == 0\n                    || $1 == 8 && $2 == 0\n                    )\n                {\n                    $Self->{BrowserBreakDispositionHeader} = 1;\n                }\n\n#\n# In IE up to version 8, there is a technical limitation for < 32\n#   CSS file links. Subsequent links will be ignored. Therefore\n#   the loader must be activated for delivering CSS to this browser.\n#   The loader will concatenate and minify the files, resulting in\n#   very few CSS file links.\n#   See also http://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/ad1b6e88-bbfa-4cc4-9e95-3889b82a7c1d.\n#\n                if ( $1 <= 8 ) {\n                    $Self->{ConfigObject}->Set(\n                        Key   => 'Loader::Enabled::CSS',\n                        Value => 1,\n                    );\n                }\n            }\n        }\n\n        # safari\n        elsif ( $HttpUserAgent =~ /safari/ ) {\n            $Self->{Browser} = 'Safari';\n\n            # if it's an iPad/iPhone with iOS5 the rte can be enabled\n            if ( $HttpUserAgent =~ /(ipad|iphone);.*cpu.*os 5_/ ) {\n                $Self->{BrowserRichText} = 1;\n            }\n\n            # on iphone (with older iOS) disable rich text editor\n            elsif ( $HttpUserAgent =~ /iphone\\sos/ ) {\n                $Self->{BrowserRichText} = 0;\n            }\n\n            # on ipad (with older iOS) disable rich text editor\n            elsif ( $HttpUserAgent =~ /ipad;\\s/ ) {\n                $Self->{BrowserRichText} = 0;\n            }\n\n            # on android disable rich text editor\n            elsif ( $HttpUserAgent =~ /android/ ) {\n                $Self->{BrowserRichText} = 0;\n            }\n\n            # chrome\n            elsif ( $HttpUserAgent =~ /chrome/ ) {\n                $Self->{Browser} = 'Chrome';\n            }\n        }\n\n        # konqueror\n        elsif ( $HttpUserAgent =~ /konqueror/ ) {\n            $Self->{Browser} = 'Konqueror';\n\n            # on konquerer disable rich text editor\n            $Self->{BrowserRichText} = 0;\n        }\n\n        # mozilla\n        elsif ( $HttpUserAgent =~ /^mozilla/ ) {\n            $Self->{Browser} = 'Mozilla';\n        }\n\n        # opera\n        elsif ( $HttpUserAgent =~ /^opera.*/ ) {\n            $Self->{Browser} = 'Opera';\n        }\n\n        # netscape\n        elsif ( $HttpUserAgent =~ /netscape/ ) {\n            $Self->{Browser} = 'Netscape';\n        }\n\n        # w3m\n        elsif ( $HttpUserAgent =~ /^w3m.*/ ) {\n            $Self->{Browser}                  = 'w3m';\n            $Self->{BrowserJavaScriptSupport} = 0;\n        }\n\n        # lynx\n        elsif ( $HttpUserAgent =~ /^lynx.*/ ) {\n            $Self->{Browser}                  = 'Lynx';\n            $Self->{BrowserJavaScriptSupport} = 0;\n        }\n\n        # links\n        elsif ( $HttpUserAgent =~ /^links.*/ ) {\n            $Self->{Browser} = 'Links';\n        }\n        else {\n            $Self->{Browser} = 'Unknown - ' . $HttpUserAgent;\n        }\n    }\n\n    # check if rich text can be active\n    if ( !$Self->{BrowserJavaScriptSupport} || !$Self->{BrowserRichText} ) {\n        $Self->{ConfigObject}->Set(\n            Key   => 'Frontend::RichText',\n            Value => 0,\n        );\n    }\n\n    # check if rich text is active\n    if ( !$Self->{ConfigObject}->Get('Frontend::RichText') ) {\n        $Self->{BrowserRichText} = 0;\n    }\n\n    # check if spell check should be active\n    if ( $Self->{BrowserJavaScriptSupport} && $Self->{ConfigObject}->Get('SpellChecker') ) {\n        if ( $Self->{ConfigObject}->Get('Frontend::RichText') ) {\n            $Self->{BrowserSpellCheckerInline} = 1;\n        }\n        else {\n            $Self->{BrowserSpellChecker} = 1;\n        }\n    }\n\n    # load theme\n    my $Theme = $Self->{UserTheme} || $Self->{ConfigObject}->Get('DefaultTheme') || 'Standard';\n\n    # force a theme based on host name\n    my $DefaultThemeHostBased = $Self->{ConfigObject}->Get('DefaultTheme::HostBased');\n    if ( $DefaultThemeHostBased && $ENV{HTTP_HOST} ) {\n        for my $RegExp ( sort keys %{$DefaultThemeHostBased} ) {\n\n            # do not use empty regexp or theme directories\n            next if !$RegExp;\n            next if $RegExp eq '';\n            next if !$DefaultThemeHostBased->{$RegExp};\n\n            # check if regexp is matching\n            if ( $ENV{HTTP_HOST} =~ /$RegExp/i ) {\n                $Theme = $DefaultThemeHostBased->{$RegExp};\n            }\n        }\n    }\n\n    # locate template files\n    $Self->{TemplateDir} = $Self->{ConfigObject}->Get('TemplateDir') . '/HTML/' . $Theme;\n    if ( !-e $Self->{TemplateDir} ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message =>\n                \"No existing template directory found ('$Self->{TemplateDir}')!.\n                Default theme used instead.\",\n        );\n\n        # Set TemplateDir to 'Standard' as a fallback and check if it exists.\n        $Theme = 'Standard';\n        $Self->{TemplateDir} = $Self->{ConfigObject}->Get('TemplateDir') . '/HTML/' . $Theme;\n        if ( !-e $Self->{TemplateDir} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message =>\n                    \"No existing template directory found ('$Self->{TemplateDir}')! Check your Home in Kernel/Config.pm\",\n            );\n            $Self->FatalDie();\n        }\n    }\n\n    $Self->{CustomTemplateDir}\n        = $Self->{ConfigObject}->Get('CustomTemplateDir') . '/HTML/' . $Theme;\n\n    # load sub layout files\n    my $Dir = $Self->{ConfigObject}->Get('TemplateDir') . '/HTML';\n    if ( -e $Dir ) {\n        my @Files = $Self->{MainObject}->DirectoryRead(\n            Directory => $Dir,\n            Filter    => 'Layout*.pm',\n        );\n        for my $File (@Files) {\n            if ( $File !~ /Layout.pm$/ ) {\n                $File =~ s{\\A.*\\/(.+?).pm\\z}{$1}xms;\n                if ( !$Self->{MainObject}->Require(\"Kernel::Output::HTML::$File\") ) {\n                    $Self->FatalError();\n                }\n                push @ISA, \"Kernel::Output::HTML::$File\";\n            }\n        }\n    }\n\n    if ( $Self->{SessionID} && $Self->{UserChallengeToken} ) {\n        $Self->{ChallengeTokenParam} = \"ChallengeToken=$Self->{UserChallengeToken};\";\n    }\n\n    return $Self;\n}\n\nsub SetEnv {\n    my ( $Self, %Param ) = @_;\n\n    for (qw(Key Value)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            $Self->FatalError();\n        }\n    }\n    $Self->{EnvNewRef}->{ $Param{Key} } = $Param{Value};\n    return 1;\n}\n\n=item Block()\n\nuse a dtl block\n\n    $LayoutObject->Block(\n        Name => 'Row',\n        Data => {\n            Time     => $Row[0],\n            Priority => $Row[1],\n            Facility => $Row[2],\n            Message  => $Row[3],\n        },\n    );\n\n=cut\n\nsub Block {\n    my ( $Self, %Param ) = @_;\n\n    if ( !$Param{Name} ) {\n        $Self->{LogObject}->Log( Priority => 'error', Message => 'Need Name!' );\n        return;\n    }\n    push @{ $Self->{BlockData} }, { Name => $Param{Name}, Data => $Param{Data} };\n}\n\n=item Output()\n\ngenerates HTML output based on a template file.\n\nUsing a template file:\n\n    my $HTML = $LayoutObject->Output(\n        TemplateFile => 'AdminLog',\n        Data         => \\%Param,\n    );\n\nUsing a template string:\n\n    my $HTML = $LayoutObject->Output(\n        Template => '<b>$QData{\"SomeKey\"}</b>',\n        Data     => \\%Param,\n    );\n\nAdditional parameters:\n\nKeepScriptTags - this causes <!-- dtl:js_on_document_complete --> blocks NOT\nto be replaced. This is important to be able to generate snippets which can be cached.\n\n    my $HTML = $LayoutObject->Output(\n        TemplateFile   => 'AdminLog',\n        Data           => \\%Param,\n        KeepScriptTags => 1,\n    );\n\n=cut\n\nsub Output {\n    my ( $Self, %Param ) = @_;\n\n    $Param{Data} ||= {};\n\n    # get and check param Data\n    if ( ref $Param{Data} ne 'HASH' ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => \"Need HashRef in Param Data! Got: '\" . ref $Param{Data} . \"'!\",\n        );\n        $Self->FatalError();\n    }\n\n    # fill init Env\n    if ( !$Self->{EnvRef} ) {\n        %{ $Self->{EnvRef} } = %ENV;\n\n        # all $Self->{*}\n        for ( sort keys %{$Self} ) {\n            if ( defined $Self->{$_} && !ref $Self->{$_} ) {\n                $Self->{EnvRef}->{$_} = $Self->{$_};\n            }\n        }\n    }\n\n    # add new env\n    if ( $Self->{EnvNewRef} ) {\n        for ( %{ $Self->{EnvNewRef} } ) {\n            $Self->{EnvRef}->{$_} = $Self->{EnvNewRef}->{$_};\n        }\n        undef $Self->{EnvNewRef};\n    }\n\n    # if we use the HTML5 input type 'email' jQuery Validate will always validate\n    # we do not want that if CheckEmailAddresses is set to 'no' in SysConfig\n    $Self->{EnvRef}->{EmailFieldType}\n        = $Self->{ConfigObject}->Get('CheckEmailAddresses') ? 'email' : 'text';\n\n    # read template from filesystem\n    my $TemplateString = '';\n    if ( $Param{TemplateFile} ) {\n        my $File = '';\n        if ( -f \"$Self->{CustomTemplateDir}/$Param{TemplateFile}.dtl\" ) {\n            $File = \"$Self->{CustomTemplateDir}/$Param{TemplateFile}.dtl\";\n        }\n        elsif ( -f \"$Self->{CustomTemplateDir}/../Standard/$Param{TemplateFile}.dtl\" ) {\n            $File = \"$Self->{CustomTemplateDir}/../Standard/$Param{TemplateFile}.dtl\";\n        }\n        elsif ( -f \"$Self->{TemplateDir}/$Param{TemplateFile}.dtl\" ) {\n            $File = \"$Self->{TemplateDir}/$Param{TemplateFile}.dtl\";\n        }\n        else {\n            $File = \"$Self->{TemplateDir}/../Standard/$Param{TemplateFile}.dtl\";\n        }\n        ## no critic\n        if ( open my $TEMPLATEIN, '<', $File ) {\n            ## use critic\n            $TemplateString = do { local $/; <$TEMPLATEIN> };\n            close $TEMPLATEIN;\n        }\n        else {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => \"Can't read $File: $!\",\n            );\n        }\n    }\n\n    # take templates from string/array\n    elsif ( defined $Param{Template} && ref $Param{Template} eq 'ARRAY' ) {\n        for ( @{ $Param{Template} } ) {\n            $TemplateString .= $_;\n        }\n    }\n    elsif ( defined $Param{Template} ) {\n        $TemplateString = $Param{Template};\n    }\n    else {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => 'Need Template or TemplateFile Param!',\n        );\n        $Self->FatalError();\n    }\n\n    # run output element pre filters\n    if ( $Self->{FilterElementPre} && ref $Self->{FilterElementPre} eq 'HASH' ) {\n\n        # extract filter list\n        my %FilterList = %{ $Self->{FilterElementPre} };\n\n        FILTER:\n        for my $Filter ( sort keys %FilterList ) {\n\n            # extract filter config\n            my $FilterConfig = $FilterList{$Filter};\n\n            next FILTER if !$FilterConfig;\n            next FILTER if ref $FilterConfig ne 'HASH';\n\n            # extract template list\n            my $TemplateList = $FilterConfig->{Templates};\n\n            # check template list\n            if ( !$TemplateList || ref $TemplateList ne 'HASH' || !%{$TemplateList} ) {\n\n                $Self->{LogObject}->Log(\n                    Priority => 'error',\n                    Message =>\n                        \"Please add a template list to output filter $FilterConfig->{Module} \"\n                        . \"to improve performance. Use ALL if OutputFilter should modify all \"\n                        . \"templates of the system (deprecated).\",\n                );\n            }\n\n            # check template list\n            if ( $Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL} ) {\n                next FILTER if !$TemplateList->{ $Param{TemplateFile} };\n            }\n\n            next FILTER\n                if !$Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL};\n\n            next FILTER if !$Self->{MainObject}->Require( $FilterConfig->{Module} );\n\n            # create new instance\n            my $Object = $FilterConfig->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n\n            next FILTER if !$Object;\n\n            # run output filter\n            $Object->Run(\n                %{$FilterConfig},\n                Data => \\$TemplateString,\n                TemplateFile => $Param{TemplateFile} || '',\n            );\n        }\n    }\n\n    # filtering of comment lines\n    $TemplateString =~ s/^#.*\\n//gm;\n\n    my $Output = $Self->_Output(\n        Template     => $TemplateString,\n        Data         => $Param{Data},\n        BlockReplace => 1,\n        TemplateFile => $Param{TemplateFile} || '',\n    );\n\n    # Improve dtl performance of large pages, see also bug#7267.\n    # Thanks to Stelios Gikas <stelios.gikas@noris.net>!\n    my @OutputLines = split /\\n/, $Output;\n    for my $Output (@OutputLines) {\n\n        # do time translation (with seconds)\n        $Output =~ s{\n        \\$TimeLong{\"(.*?)\"}\n    }\n    {\n        $Self->{LanguageObject}->FormatTimeString($1);\n    }egx;\n\n        # do time translation (without seconds)\n        $Output =~ s{\n        \\$TimeShort{\"(.*?)\"}\n    }\n    {\n        $Self->{LanguageObject}->FormatTimeString($1, undef, 'NoSeconds');\n    }egx;\n\n        # do date translation\n        $Output =~ s{\n        \\$Date{\"(.*?)\"}\n    }\n    {\n        $Self->{LanguageObject}->FormatTimeString($1, 'DateFormatShort');\n    }egx;\n\n        # do translation\n        $Output =~ s{\n        \\$Text{\"(.*?)\"}\n    }\n    {\n        $Self->Ascii2Html(\n            Text => $Self->{LanguageObject}->Get($1),\n        );\n    }egx;\n\n        $Output =~ s{\n        \\$JSText{\"(.*?)\"}\n    }\n    {\n        $Self->Ascii2Html(\n            Text => $Self->{LanguageObject}->Get($1),\n            Type => 'JSText',\n        );\n    }egx;\n\n        # do html quote\n        $Output =~ s{\n        \\$Quote{\"(.*?)\"}\n    }\n    {\n        my $Text = $1;\n        if ( !defined $Text || $Text =~ /^\",\\s*\"(.+)$/ ) {\n            '';\n        }\n        elsif ($Text =~ /^(.+?)\",\\s*\"(.+)$/) {\n            $Self->Ascii2Html(Text => $1, Max => $2);\n        }\n        else {\n            $Self->Ascii2Html(Text => $Text);\n        }\n    }egx;\n\n    }\n    $Output = join \"\\n\", @OutputLines;\n\n    # rewrite forms, add challenge token : <form action=\"index.pl\" method=\"get\">\n    if ( $Self->{SessionID} && $Self->{UserChallengeToken} ) {\n        my $UserChallengeToken = $Self->Ascii2Html( Text => $Self->{UserChallengeToken} );\n        $Output =~ s{\n            (<form.+?action=\".+?\".+?>)\n        }\n        {\n            my $Form = $1;\n            if ( lc $Form =~ m{^http s? :}smx ) {\n                $Form;\n            }\n            else {\n                $Form . \"<input type=\\\"hidden\\\" name=\\\"ChallengeToken\\\" value=\\\"$UserChallengeToken\\\"/>\";\n            }\n        }iegx;\n    }\n\n    # Check if the browser sends the session id cookie!\n    # If not, add the session id to the links and forms!\n    if ( $Self->{SessionID} && !$Self->{SessionIDCookie} ) {\n\n        # rewrite a hrefs\n        $Output =~ s{\n            (<a.+?href=\")(.+?)(\\#.+?|)(\".+?>)\n        }\n        {\n            my $AHref   = $1;\n            my $Target  = $2;\n            my $End     = $3;\n            my $RealEnd = $4;\n            if ( lc $Target =~ /^(http:|https:|#|ftp:)/ ||\n                $Target !~ /\\.(pl|php|cgi|fcg|fcgi|fpl)(\\?|$)/ ||\n                $Target =~ /(\\?|&)\\Q$Self->{SessionName}\\E=/) {\n                $AHref.$Target.$End.$RealEnd;\n            }\n            else {\n                $AHref.$Target.';'.$Self->{SessionName}.'='.$Self->{SessionID}.$End.$RealEnd;\n            }\n        }iegxs;\n\n        # rewrite img and iframe src\n        $Output =~ s{\n            (<(?:img|iframe).+?src=\")(.+?)(\".+?>)\n        }\n        {\n            my $AHref = $1;\n            my $Target = $2;\n            my $End = $3;\n            if (lc $Target =~ m{^http s? :}smx || !$Self->{SessionID} ||\n                $Target !~ /\\.(pl|php|cgi|fcg|fcgi|fpl)(\\?|$)/ ||\n                $Target =~ /\\Q$Self->{SessionName}\\E=/) {\n                $AHref.$Target.$End;\n            }\n            else {\n                $AHref.$Target.'&'.$Self->{SessionName}.'='.$Self->{SessionID}.$End;\n            }\n        }iegxs;\n\n        # rewrite forms: <form action=\"index.pl\" method=\"get\">\n        my $SessionID = $Self->Ascii2Html( Text => $Self->{SessionID} );\n        $Output =~ s{\n            (<form.+?action=\".+?\".+?>)\n        }\n        {\n            my $Form = $1;\n            if ( lc $Form =~ m{^http s? :}smx ) {\n                $Form;\n            }\n            else {\n                $Form . \"<input type=\\\"hidden\\\" name=\\\"$Self->{SessionName}\\\" value=\\\"$SessionID\\\"/>\";\n            }\n        }iegx;\n    }\n\n    # run output element post filters\n    if ( $Self->{FilterElementPost} && ref $Self->{FilterElementPost} eq 'HASH' ) {\n\n        # extract filter list\n        my %FilterList = %{ $Self->{FilterElementPost} };\n\n        FILTER:\n        for my $Filter ( sort keys %FilterList ) {\n\n            # extract filter config\n            my $FilterConfig = $FilterList{$Filter};\n\n            next FILTER if !$FilterConfig;\n            next FILTER if ref $FilterConfig ne 'HASH';\n\n            # extract template list\n            my $TemplateList = $FilterConfig->{Templates};\n\n            # check template list\n            if ( !$TemplateList || ref $TemplateList ne 'HASH' || !%{$TemplateList} ) {\n\n                $Self->{LogObject}->Log(\n                    Priority => 'error',\n                    Message =>\n                        \"Please add a template list to output filter $FilterConfig->{Module} \"\n                        . \"to improve performance. Use ALL if OutputFilter should modify all \"\n                        . \"templates of the system (deprecated).\",\n                );\n            }\n\n            # check template list\n            if ( $Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL} ) {\n                next FILTER if !$TemplateList->{ $Param{TemplateFile} };\n            }\n\n            next FILTER\n                if !$Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL};\n\n            next FILTER if !$Self->{MainObject}->Require( $FilterConfig->{Module} );\n\n            # create new instance\n            my $Object = $FilterConfig->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n\n            next FILTER if !$Object;\n\n            # run output filter\n            $Object->Run(\n                %{$FilterConfig},\n                Data => \\$Output,\n                TemplateFile => $Param{TemplateFile} || '',\n            );\n        }\n    }\n\n    # Cut out all dtl:js_on_document_complete tags. These will be inserted to the\n    #   place with the js_on_document_complete_placeholder in the page footer if\n    #   it is present.\n    # This must be done after the post output filters, so that they can also inject\n    #   and mofiy existing script tags.\n\n    if ( !$Param{KeepScriptTags} ) {\n\n        # find document ready\n        $Output =~ s{\n                <!--\\s{0,1}dtl:js_on_document_complete\\s{0,1}-->(.+?)<!--\\s{0,1}dtl:js_on_document_complete\\s{0,1}-->\n        }\n        {\n                if (!$Self->{JSOnDocumentComplete}->{$1}) {\n                    $Self->{JSOnDocumentComplete}->{$1} = 1;\n                    $Self->{EnvRef}->{JSOnDocumentComplete} .= $Self->_RemoveScriptTags(Code => $1);\n                }\n                \"\";\n        }segxm;\n\n        # replace document ready placeholder (only if it's not included via $Include{\"\"})\n        if ( !$Param{Include} ) {\n            $Output =~ s{\n                <!--\\s{0,1}dtl:js_on_document_complete_placeholder\\s{0,1}-->\n            }\n            {\n                if ( $Self->{EnvRef}->{JSOnDocumentComplete} ) {\n                    $Self->{EnvRef}->{JSOnDocumentComplete};\n                }\n                else {\n                    \"\";\n                }\n            }segxm;\n        }\n    }\n\n    return $Output;\n}\n\n=item JSONEncode()\n\nEncode perl data structure to JSON string\n\n    my $JSON = $LayoutObject->JSONEncode(\n        Data        => $Data,\n        NoQuotes    => 0|1, # optional: no double quotes at the start and the end of JSON string\n    );\n\n=cut\n\nsub JSONEncode {\n    my ( $Self, %Param ) = @_;\n\n    # check for needed data\n    return if !$Param{Data};\n\n    # get JSON encoded data\n    my $JSON = $Self->{JSONObject}->Encode(\n        Data => $Param{Data},\n    ) || '\"\"';\n\n    # remove trailing and trailing double quotes if requested\n    if ( $Param{NoQuotes} ) {\n        $JSON =~ s{ \\A \"(.*)\" \\z }{$1}smx;\n    }\n\n    return $JSON;\n}\n\n=item Redirect()\n\nreturn html for browser to redirect\n\n    my $HTML = $LayoutObject->Redirect(\n        OP => \"Action=AdminUserGroup;Subaction=User;ID=$UserID\",\n    );\n\n    my $HTML = $LayoutObject->Redirect(\n        ExtURL => \"http://some.example.com/\",\n    );\n\n=cut\n\nsub Redirect {\n    my ( $Self, %Param ) = @_;\n\n    # add cookies if exists\n    my $Cookies = '';\n    if ( $Self->{SetCookies} && $Self->{ConfigObject}->Get('SessionUseCookie') ) {\n        for ( sort keys %{ $Self->{SetCookies} } ) {\n            $Cookies .= \"Set-Cookie: $Self->{SetCookies}->{$_}\\n\";\n        }\n    }\n\n    # create & return output\n    if ( $Param{ExtURL} ) {\n\n        # external redirect\n        $Param{Redirect} = $Param{ExtURL};\n        return $Cookies . $Self->Output( TemplateFile => 'Redirect', Data => \\%Param );\n    }\n\n    # set baselink\n    $Param{Redirect} = $Self->{Baselink};\n\n    if ( $Param{OP} ) {\n\n        # Filter out hazardous characters\n        if ( $Param{OP} =~ s{\\x00}{}smxg ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => 'Someone tries to use a null bytes (\\x00) character in redirect!',\n            );\n        }\n\n        if ( $Param{OP} =~ s{\\r}{}smxg ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => 'Someone tries to use a carriage return character in redirect!',\n            );\n        }\n\n        if ( $Param{OP} =~ s{\\n}{}smxg ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => 'Someone tries to use a newline character in redirect!',\n            );\n        }\n\n        # internal redirect\n        $Param{OP} =~ s/^.*\\?(.+?)$/$1/;\n        $Param{Redirect} .= $Param{OP};\n    }\n\n    # check if IIS is used, add absolute url for IIS workaround\n    # see also:\n    #  o http://bugs.otrs.org/show_bug.cgi?id=2230\n    #  o http://support.microsoft.com/default.aspx?scid=kb;en-us;221154\n    if ( $ENV{SERVER_SOFTWARE} =~ /^microsoft\\-iis/i ) {\n        my $Host = $ENV{HTTP_HOST} || $Self->{ConfigObject}->Get('FQDN');\n        my $HttpType = $Self->{ConfigObject}->Get('HttpType');\n        $Param{Redirect} = $HttpType . '://' . $Host . '/' . $Param{Redirect};\n    }\n    my $Output = $Cookies . $Self->Output( TemplateFile => 'Redirect', Data => \\%Param );\n\n    # add session id to redirect if no cookie is enabled\n    if ( !$Self->{SessionIDCookie} ) {\n\n        # rewrite location header\n        $Output =~ s{\n            (location:\\s)(.*)\n        }\n        {\n            my $Start  = $1;\n            my $Target = $2;\n            my $End = '';\n            if ($Target =~ /^(.+?)#(|.+?)$/) {\n                $Target = $1;\n                $End = \"#$2\";\n            }\n            if ($Target =~ /http/i || !$Self->{SessionID}) {\n                \"$Start$Target$End\";\n            }\n            else {\n                if ($Target =~ /(\\?|&)$/) {\n                    \"$Start$Target$Self->{SessionName}=$Self->{SessionID}$End\";\n                }\n                elsif ($Target !~ /\\?/) {\n                    \"$Start$Target?$Self->{SessionName}=$Self->{SessionID}$End\";\n                }\n                elsif ($Target =~ /\\?/) {\n                    \"$Start$Target&$Self->{SessionName}=$Self->{SessionID}$End\";\n                }\n                else {\n                    \"$Start$Target?&$Self->{SessionName}=$Self->{SessionID}$End\";\n                }\n            }\n        }iegx;\n    }\n    return $Output;\n}\n\nsub Login {\n    my ( $Self, %Param ) = @_;\n\n    # set Action parameter for the loader\n    $Self->{Action} = 'Login';\n\n    # add cookies if exists\n    my $Output = '';\n    if ( $Self->{SetCookies} && $Self->{ConfigObject}->Get('SessionUseCookie') ) {\n        for ( sort keys %{ $Self->{SetCookies} } ) {\n            $Output .= \"Set-Cookie: $Self->{SetCookies}->{$_}\\n\";\n        }\n    }\n\n    # get message of the day\n    if ( $Self->{ConfigObject}->Get('ShowMotd') ) {\n        $Param{Motd} = $Self->Output( TemplateFile => 'Motd', Data => \\%Param );\n    }\n\n    # get lost password y\n    if (\n        $Self->{ConfigObject}->Get('LostPassword')\n        && $Self->{ConfigObject}->Get('AuthModule') eq 'Kernel::System::Auth::DB'\n        )\n    {\n        $Self->Block(\n            Name => 'LostPasswordLink',\n            Data => \\%Param,\n        );\n\n        $Self->Block(\n            Name => 'LostPassword',\n            Data => \\%Param,\n        );\n    }\n\n   # Generate the minified CSS and JavaScript files and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateAgentCSSCalls();\n    $Self->LoaderCreateAgentJSCalls();\n\n    # Add header logo, if configured\n    if ( defined $Self->{ConfigObject}->Get('AgentLogo') ) {\n        my %AgentLogo = %{ $Self->{ConfigObject}->Get('AgentLogo') };\n        my %Data;\n\n        for my $CSSStatement ( sort keys %AgentLogo ) {\n            if ( $CSSStatement eq 'URL' ) {\n                my $WebPath = '';\n                if ( $AgentLogo{$CSSStatement} !~ /(http|ftp|https):\\//i ) {\n                    $WebPath = $Self->{ConfigObject}->Get('Frontend::WebPath');\n                }\n                $Data{'URL'} = 'url(' . $WebPath . $AgentLogo{$CSSStatement} . ')';\n            }\n            else {\n                $Data{$CSSStatement} = $AgentLogo{$CSSStatement};\n            }\n        }\n\n        $Self->Block(\n            Name => 'HeaderLogoCSS',\n            Data => \\%Data,\n        );\n    }\n\n    # add login logo, if configured\n    if ( defined $Self->{ConfigObject}->Get('AgentLoginLogo') ) {\n        my %AgentLoginLogo = %{ $Self->{ConfigObject}->Get('AgentLoginLogo') };\n        my %Data;\n\n        for my $CSSStatement ( sort keys %AgentLoginLogo ) {\n            if ( $CSSStatement eq 'URL' ) {\n                my $WebPath = $Self->{ConfigObject}->Get('Frontend::WebPath');\n                $Data{'URL'} = 'url(' . $WebPath . $AgentLoginLogo{$CSSStatement} . ')';\n            }\n            else {\n                $Data{$CSSStatement} = $AgentLoginLogo{$CSSStatement};\n            }\n        }\n\n        $Self->Block(\n            Name => 'LoginLogoCSS',\n            Data => \\%Data,\n        );\n\n        $Self->Block(\n            Name => 'LoginLogo'\n        );\n    }\n\n    # create & return output\n    $Output .= $Self->Output( TemplateFile => 'Login', Data => \\%Param );\n\n    # remove the version tag from the header if configured\n    $Self->_DisableBannerCheck( OutputRef => \\$Output );\n\n    return $Output;\n}\n\nsub ChallengeTokenCheck {\n    my ( $Self, %Param ) = @_;\n\n    # return if feature is disabled\n    return 1 if !$Self->{ConfigObject}->Get('SessionCSRFProtection');\n\n    # get challenge token and check it\n    my $ChallengeToken = $Self->{ParamObject}->GetParam( Param => 'ChallengeToken' ) || '';\n\n    # check regular ChallengeToken\n    return 1 if $ChallengeToken eq $Self->{UserChallengeToken};\n\n    # check ChallengeToken of all own sessions\n    my @Sessions = $Self->{SessionObject}->GetAllSessionIDs();\n    for my $SessionID (@Sessions) {\n        my %Data = $Self->{SessionObject}->GetSessionIDData( SessionID => $SessionID );\n        next if !$Data{UserID};\n        next if $Data{UserID} ne $Self->{UserID};\n        next if !$Data{UserChallengeToken};\n\n        # check ChallengeToken\n        return 1 if $ChallengeToken eq $Data{UserChallengeToken};\n    }\n\n    # no valid token found\n    if ($Param{Type} && lc $Param{Type} eq 'customer') {\n        $Self->CustomerFatalError(\n            Message => 'Invalid Challenge Token!',\n        );\n    }\n    else {\n        $Self->FatalError(\n            Message => 'Invalid Challenge Token!',\n        );\n    }\n\n    return;\n}\n\nsub FatalError {\n    my ( $Self, %Param ) = @_;\n\n    if ( $Param{Message} ) {\n        $Self->{LogObject}->Log(\n            Caller   => 1,\n            Priority => 'error',\n            Message  => $Param{Message},\n        );\n    }\n    my $Output = $Self->Header( Area => 'Frontend', Title => 'Fatal Error' );\n    $Output .= $Self->Error(%Param);\n    $Output .= $Self->Footer();\n    $Self->Print( Output => \\$Output );\n    exit;\n}\n\nsub SecureMode {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = $Self->Header( Area => 'Frontend', Title => 'Secure Mode' );\n    $Output .= $Self->Output( TemplateFile => 'AdminSecureMode', Data => \\%Param );\n    $Output .= $Self->Footer();\n    $Self->Print( Output => \\$Output );\n    exit;\n}\n\nsub FatalDie {\n    my ( $Self, %Param ) = @_;\n\n    if ( $Param{Message} ) {\n        $Self->{LogObject}->Log(\n            Caller   => 1,\n            Priority => 'error',\n            Message  => $Param{Message},\n        );\n    }\n\n    # get backend error messages\n    for (qw(Message Traceback)) {\n        my $Backend = 'Backend' . $_;\n        $Param{$Backend} = $Self->{LogObject}->GetLogEntry(\n            Type => 'Error',\n            What => $_\n        ) || '';\n        $Param{$Backend} = $Self->Ascii2Html(\n            Text           => $Param{$Backend},\n            HTMLResultMode => 1,\n        );\n    }\n    if ( !$Param{Message} ) {\n        $Param{Message} = $Param{BackendMessage};\n    }\n    die $Param{Message};\n}\n\nsub ErrorScreen {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = $Self->Header( Title => 'Error' );\n    $Output .= $Self->Error(%Param);\n    $Output .= $Self->Footer();\n    return $Output;\n}\n\nsub Error {\n    my ( $Self, %Param ) = @_;\n\n    # get backend error messages\n    for (qw(Message Traceback)) {\n        my $Backend = 'Backend' . $_;\n        $Param{$Backend} = $Self->{LogObject}->GetLogEntry(\n            Type => 'Error',\n            What => $_\n        ) || '';\n    }\n    if ( !$Param{BackendMessage} && !$Param{BackendTraceback} ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message => $Param{Message} || '?',\n        );\n        for (qw(Message Traceback)) {\n            my $Backend = 'Backend' . $_;\n            $Param{$Backend} = $Self->{LogObject}->GetLogEntry(\n                Type => 'Error',\n                What => $_\n            ) || '';\n        }\n    }\n    if ( !$Param{Message} ) {\n        $Param{Message} = $Param{BackendMessage};\n    }\n    $Param{Message} =~ s/^(.{80}).*$/$1\\[\\.\\.\\]/gs;\n\n    if ( $Param{BackendTraceback} ) {\n        $Self->Block(\n            Name => 'ShowBackendTraceback',\n            Data => \\%Param,\n        );\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'Error', Data => \\%Param );\n}\n\nsub Warning {\n    my ( $Self, %Param ) = @_;\n\n    # get backend error messages\n    $Param{BackendMessage} = $Self->{LogObject}->GetLogEntry(\n        Type => 'Notice',\n        What => 'Message',\n        )\n        || $Self->{LogObject}->GetLogEntry(\n        Type => 'Error',\n        What => 'Message',\n        ) || '';\n\n    if ( !$Param{Message} ) {\n        $Param{Message} = $Param{BackendMessage};\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'Warning', Data => \\%Param );\n}\n\n=item Notify()\n\ncreate notify lines\n\n    infos, the text will be translated\n\n    my $Output = $LayoutObject->Notify(\n        Priority => 'Warning',\n        Info => 'Some Info Message',\n    );\n\n    data with link, the text will be translated\n\n    my $Output = $LayoutObject->Notify(\n        Priority  => 'Warning',\n        Data      => '$Text{\"Some DTL Stuff\"}',\n        Link      => 'http://example.com/',\n        LinkClass => 'some_CSS_class',              # optional\n    );\n\n    errors, the text will be translated\n\n    my $Output = $LayoutObject->Notify(\n        Priority => 'Error',\n        Info => 'Some Error Message',\n    );\n\n    errors from log backend, if no error extists, a '' will be returned\n\n    my $Output = $LayoutObject->Notify(\n        Priority => 'Error',\n    );\n\n=cut\n\nsub Notify {\n    my ( $Self, %Param ) = @_;\n\n    # create & return output\n    if ( !$Param{Info} && !$Param{Data} ) {\n        $Param{BackendMessage} = $Self->{LogObject}->GetLogEntry(\n            Type => 'Notice',\n            What => 'Message',\n            )\n            || $Self->{LogObject}->GetLogEntry(\n            Type => 'Error',\n            What => 'Message',\n            ) || '';\n\n        $Param{Info} = $Param{BackendMessage};\n\n        # return if we have nothing to show\n        return '' if !$Param{Info};\n    }\n\n    my $BoxClass = 'Notice';\n\n    if ( $Param{Info} ) {\n        $Param{Info} =~ s/\\n//g;\n    }\n    if ( $Param{Priority} && $Param{Priority} eq 'Error' ) {\n        $BoxClass = 'Error';\n    }\n\n    if ( $Param{Link} ) {\n        $Self->Block(\n            Name => 'LinkStart',\n            Data => {\n                LinkStart => $Param{Link},\n                LinkClass => $Param{LinkClass} || '',\n            },\n        );\n    }\n    if ( $Param{Data} ) {\n        $Self->Block(\n            Name => 'Data',\n            Data => \\%Param,\n        );\n    }\n    else {\n        $Self->Block(\n            Name => 'Text',\n            Data => \\%Param,\n        );\n    }\n    if ( $Param{Link} ) {\n        $Self->Block(\n            Name => 'LinkStop',\n            Data => { LinkStop => '</a>', },\n        );\n    }\n    return $Self->Output(\n        TemplateFile => 'Notify',\n        Data         => {\n            %Param,\n            BoxClass => $BoxClass,\n        },\n    );\n}\n\n=item Header()\n\ngenerates the HTML for the page begin in the Agent interface.\n\n    my $Output = $LayoutObject->Header(\n        Type              => 'Small',                # (optional) '' (Default, full header) or 'Small' (blank header)\n        ShowToolbarItems  => 0,                      # (optional) default 1 (0|1)\n        ShowPrefLink      => 0,                      # (optional) default 1 (0|1)\n        ShowLogoutButton  => 0,                      # (optional) default 1 (0|1)\n    );\n\n=cut\n\nsub Header {\n    my ( $Self, %Param ) = @_;\n\n    my $Type = $Param{Type} || '';\n\n    # check params\n    if ( !defined $Param{ShowToolbarItems} ) {\n        $Param{ShowToolbarItems} = 1;\n    }\n\n    if ( !defined $Param{ShowPrefLink} ) {\n        $Param{ShowPrefLink} = 1;\n    }\n\n    # do not show preferences link if the preferences module is disabled\n    my $Modules = $Self->{ConfigObject}->Get('Frontend::Module');\n    if ( !$Modules->{AgentPreferences} ) {\n        $Param{ShowPrefLink} = 0;\n    }\n\n    if ( !defined $Param{ShowLogoutButton} ) {\n        $Param{ShowLogoutButton} = 1;\n    }\n\n    # set rtl if needed\n    if ( $Self->{TextDirection} && $Self->{TextDirection} eq 'rtl' ) {\n        $Param{BodyClass} = 'RTL';\n    }\n    elsif ( $Self->{ConfigObject}->Get('Frontend::DebugMode') ) {\n        $Self->Block(\n            Name => 'DebugRTLButton',\n        );\n    }\n\n   # Generate the minified CSS and JavaScript files and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateAgentCSSCalls();\n\n    # Add header logo, if configured\n    if ( defined $Self->{ConfigObject}->Get('AgentLogo') ) {\n        my %AgentLogo = %{ $Self->{ConfigObject}->Get('AgentLogo') };\n        my %Data;\n\n        for my $CSSStatement ( sort keys %AgentLogo ) {\n            if ( $CSSStatement eq 'URL' ) {\n                my $WebPath = '';\n                if ( $AgentLogo{$CSSStatement} !~ /(http|ftp|https):\\//i ) {\n                    $WebPath = $Self->{ConfigObject}->Get('Frontend::WebPath');\n                }\n                $Data{'URL'} = 'url(' . $WebPath . $AgentLogo{$CSSStatement} . ')';\n            }\n            else {\n                $Data{$CSSStatement} = $AgentLogo{$CSSStatement};\n            }\n        }\n\n        $Self->Block(\n            Name => 'HeaderLogoCSS',\n            Data => \\%Data,\n        );\n    }\n\n    # add cookies if exists\n    my $Output = '';\n    if ( $Self->{SetCookies} && $Self->{ConfigObject}->Get('SessionUseCookie') ) {\n        for ( sort keys %{ $Self->{SetCookies} } ) {\n            $Output .= \"Set-Cookie: $Self->{SetCookies}->{$_}\\n\";\n        }\n    }\n\n    # fix IE bug if in filename is the word attachment\n    my $File = $Param{Filename} || $Self->{Action} || 'unknown';\n    if ( $Self->{BrowserBreakDispositionHeader} ) {\n        $File =~ s/attachment/bttachment/gi;\n    }\n\n    # set file name for \"save page as\"\n    $Param{ContentDisposition} = \"filename=\\\"$File.html\\\"\";\n\n    # area and title\n    if ( !$Param{Area} ) {\n        $Param{Area}\n            = $Self->{ConfigObject}->Get('Frontend::Module')->{ $Self->{Action} }->{NavBarName}\n            || '';\n    }\n    if ( !$Param{Title} ) {\n        $Param{Title} = $Self->{ConfigObject}->Get('Frontend::Module')->{ $Self->{Action} }->{Title}\n            || '';\n    }\n    for my $Word (qw(Value Title Area)) {\n        if ( $Param{$Word} ) {\n            $Param{TitleArea} .= $Self->{LanguageObject}->Get( $Param{$Word} ) . ' - ';\n        }\n    }\n\n    # run header meta modules\n    my $HeaderMetaModule = $Self->{ConfigObject}->Get('Frontend::HeaderMetaModule');\n    if ( ref $HeaderMetaModule eq 'HASH' ) {\n        my %Jobs = %{$HeaderMetaModule};\n        for my $Job ( sort keys %Jobs ) {\n\n            # load and run module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n            next if !$Object;\n            $Object->Run( %Param, Config => $Jobs{$Job} );\n        }\n    }\n\n    # run tool bar item modules\n    if ( $Self->{UserID} && $Self->{UserType} eq 'User' ) {\n        my $ToolBarModule = $Self->{ConfigObject}->Get('Frontend::ToolBarModule');\n        if ( $Param{ShowToolbarItems} && ref $ToolBarModule eq 'HASH' ) {\n            my %Modules;\n            my %Jobs = %{$ToolBarModule};\n            for my $Job ( sort keys %Jobs ) {\n\n                # load and run module\n                next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n                my $Object = $Jobs{$Job}->{Module}->new(\n                    %{$Self},\n                    LayoutObject => $Self,\n                );\n                next if !$Object;\n                %Modules = ( $Object->Run( %Param, Config => $Jobs{$Job} ), %Modules );\n            }\n\n            # show tool bar items\n            my $ToolBarShown = 0;\n            for my $Key ( sort keys %Modules ) {\n                next if !%{ $Modules{$Key} };\n\n                # show tool bar wrapper\n                if ( !$ToolBarShown ) {\n                    $ToolBarShown = 1;\n                    $Self->Block(\n                        Name => 'ToolBar',\n                        Data => \\%Param,\n                    );\n                }\n                $Self->Block(\n                    Name => $Modules{$Key}->{Block},\n                    Data => {\n                        %{ $Modules{$Key} },\n                        AccessKeyReference => $Modules{$Key}->{AccessKey}\n                        ? \" ($Modules{$Key}->{AccessKey})\"\n                        : '',\n                    },\n                );\n            }\n        }\n\n        # show logged in notice\n        if ( $Param{ShowPrefLink} ) {\n            $Self->Block(\n                Name => 'Login',\n                Data => \\%Param,\n            );\n        }\n        else {\n            $Self->Block(\n                Name => 'LoginWithoutLink',\n                Data => \\%Param,\n            );\n        }\n\n        # show logout button (if registered)\n        if (\n            $Param{ShowLogoutButton}\n            && $Self->{ConfigObject}->Get('Frontend::Module')->{Logout}\n            )\n        {\n            $Self->Block(\n                Name => 'Logout',\n                Data => \\%Param,\n            );\n        }\n    }\n\n    # create & return output\n    $Output .= $Self->Output( TemplateFile => \"Header$Type\", Data => \\%Param );\n\n    # remove the version tag from the header if configured\n    $Self->_DisableBannerCheck( OutputRef => \\$Output );\n\n    return $Output;\n}\n\nsub Footer {\n    my ( $Self, %Param ) = @_;\n\n    my $Type          = $Param{Type}           || '';\n    my $HasDatepicker = $Self->{HasDatepicker} || 0;\n\n   # Generate the minified CSS and JavaScript files and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateAgentJSCalls();\n\n    # get datepicker data, if needed in module\n    if ($HasDatepicker) {\n        my $VacationDays     = $Self->DatepickerGetVacationDays();\n        my $VacationDaysJSON = $Self->JSONEncode(\n            Data => $VacationDays\n        );\n\n        my $TextDirection = $Self->{LanguageObject}->{TextDirection} || '';\n\n        $Self->Block(\n            Name => 'DatepickerData',\n            Data => {\n                VacationDays => $VacationDaysJSON,\n                IsRTLLanguage => ( $TextDirection eq 'rtl' ) ? 1 : 0,\n            },\n        );\n    }\n\n    # NewTicketInNewWindow\n    if ( $Self->{ConfigObject}->Get('NewTicketInNewWindow::Enabled') ) {\n        $Self->Block(\n            Name => 'NewTicketInNewWindow'\n        );\n    }\n\n    # Banner\n    if ( !$Self->{ConfigObject}->Get('Secure::DisableBanner') ) {\n        $Self->Block(\n            Name => 'Banner'\n        );\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => \"Footer$Type\", Data => \\%Param );\n}\n\nsub Print {\n    my ( $Self, %Param ) = @_;\n\n    # run output content filters\n    if ( $Self->{FilterContent} && ref $Self->{FilterContent} eq 'HASH' ) {\n\n        # extract filter list\n        my %FilterList = %{ $Self->{FilterContent} };\n\n        FILTER:\n        for my $Filter ( sort keys %FilterList ) {\n\n            # extract filter config\n            my $FilterConfig = $FilterList{$Filter};\n\n            next FILTER if !$FilterConfig;\n            next FILTER if ref $FilterConfig ne 'HASH';\n\n            # extract template list\n            my $TemplateList = $FilterConfig->{Templates};\n\n            # check template list\n            if ( !$TemplateList || ref $TemplateList ne 'HASH' || !%{$TemplateList} ) {\n\n                $Self->{LogObject}->Log(\n                    Priority => 'error',\n                    Message =>\n                        \"Please add a template list to output filter $FilterConfig->{Module} \"\n                        . \"to improve performance. Use ALL if OutputFilter should modify all \"\n                        . \"templates of the system (deprecated).\",\n                );\n            }\n\n            # check template list\n            if ( $Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL} ) {\n                next FILTER if !$TemplateList->{ $Param{TemplateFile} };\n            }\n\n            next FILTER if !$Self->{MainObject}->Require( $FilterConfig->{Module} );\n\n            # create new instance\n            my $Object = $FilterConfig->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n\n            next FILTER if !$Object;\n\n            # run output filter\n            $Object->Run(\n                %{$FilterConfig},\n                Data => $Param{Output},\n                TemplateFile => $Param{TemplateFile} || '',\n            );\n        }\n    }\n\n    print ${ $Param{Output} };\n\n    return 1;\n}\n\nsub PrintHeader {\n    my ( $Self, %Param ) = @_;\n\n    # unless explicitly specified, we set the header width\n    $Param{Width} ||= 640;\n\n    # fix IE bug if in filename is the word attachment\n    my $File = $Param{Filename} || $Self->{Action} || 'unknown';\n    if ( $Self->{BrowserBreakDispositionHeader} ) {\n        $File =~ s/attachment/bttachment/gi;\n    }\n\n    # set file name for \"save page as\"\n    $Param{ContentDisposition} = \"filename=\\\"$File.html\\\"\";\n\n    # area and title\n    if ( !$Param{Area} ) {\n        $Param{Area}\n            = $Self->{ConfigObject}->Get('Frontend::Module')->{ $Self->{Action} }->{NavBarName}\n            || '';\n    }\n    if ( !$Param{Title} ) {\n        $Param{Title} = $Self->{ConfigObject}->Get('Frontend::Module')->{ $Self->{Action} }->{Title}\n            || '';\n    }\n    for my $Word (qw(Area Title Value)) {\n        if ( $Param{$Word} ) {\n            $Param{TitleArea} .= ' - ' . $Self->{LanguageObject}->Get( $Param{$Word} );\n        }\n    }\n\n    # set rtl if needed\n    if ( $Self->{TextDirection} && $Self->{TextDirection} eq 'rtl' ) {\n        $Param{BodyClass} = 'RTL';\n    }\n\n    my $Output = $Self->Output( TemplateFile => 'PrintHeader', Data => \\%Param );\n\n    # remove the version tag from the header if configured\n    $Self->_DisableBannerCheck( OutputRef => \\$Output );\n\n    # create & return output\n    return $Output;\n}\n\nsub PrintFooter {\n    my ( $Self, %Param ) = @_;\n\n    $Param{Host} = $Self->Ascii2Html( Text => $ENV{SERVER_NAME} . $ENV{REQUEST_URI} );\n    $Param{Host} =~ s/&amp;/&/ig;\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'PrintFooter', Data => \\%Param );\n}\n\n=item Ascii2Html()\n\nconvert ascii to html string\n\n    my $HTML = $LayoutObject->Ascii2Html(\n        Text            => 'Some <> Test <font color=\"red\">Test</font>',\n        Max             => 20,       # max 20 chars folowed by [..]\n        VMax            => 15,       # first 15 lines\n        NewLine         => 0,        # move \\r to \\n\n        HTMLResultMode  => 0,        # replace \" \" with &nbsp;\n        StripEmptyLines => 0,\n        Type            => 'Normal', # JSText or Normal text\n        LinkFeature     => 0,        # do some URL detections\n    );\n\nalso string ref is possible\n\n    my $HTMLStringRef = $LayoutObject->Ascii2Html(\n        Text => \\$Sting,\n    );\n\n=cut\n\nsub Ascii2Html {\n    my ( $Self, %Param ) = @_;\n\n    # check needed param\n    return '' if !defined $Param{Text};\n\n    # check text\n    my $TextScalar;\n    my $Text;\n    if ( !ref $Param{Text} ) {\n        $TextScalar = 1;\n        $Text       = \\$Param{Text};\n    }\n    elsif ( ref $Param{Text} eq 'SCALAR' ) {\n        $Text = $Param{Text};\n    }\n    else {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => 'Invalid ref \"' . ref $Param{Text} . '\" of Text param!',\n        );\n        return '';\n    }\n\n    # run output filter text\n    my @Filters;\n    if ( $Param{LinkFeature} && $Self->{FilterText} && ref $Self->{FilterText} eq 'HASH' ) {\n\n        # extract filter list\n        my %FilterList = %{ $Self->{FilterText} };\n\n        FILTER:\n        for my $Filter ( sort keys %FilterList ) {\n\n            # extract filter config\n            my $FilterConfig = $FilterList{$Filter};\n\n            next FILTER if !$FilterConfig;\n            next FILTER if ref $FilterConfig ne 'HASH';\n\n            # extract template list\n            my $TemplateList = $FilterConfig->{Templates};\n\n            # check template list\n            if ( !$TemplateList || ref $TemplateList ne 'HASH' || !%{$TemplateList} ) {\n\n                $Self->{LogObject}->Log(\n                    Priority => 'error',\n                    Message =>\n                        \"Please add a template list to output filter $FilterConfig->{Module} \"\n                        . \"to improve performance. Use ALL if OutputFilter should modify all \"\n                        . \"templates of the system (deprecated).\",\n                );\n            }\n\n            # check template list\n            if ( $Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL} ) {\n                next FILTER if !$TemplateList->{ $Param{TemplateFile} };\n            }\n\n            $Self->FatalDie() if !$Self->{MainObject}->Require( $FilterConfig->{Module} );\n\n            # create new instance\n            my $Object = $FilterConfig->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n\n            next FILTER if !$Object;\n\n            push(\n                @Filters,\n                {\n                    Object => $Object,\n                    Filter => $FilterConfig,\n                },\n            );\n        }\n\n        # pre run\n        for my $Filter (@Filters) {\n\n            $Text = $Filter->{Object}->Pre(\n                Filter => $Filter->{Filter},\n                Data   => $Text,\n            );\n        }\n    }\n\n    # max width\n    if ( $Param{Max} && length ${$Text} > $Param{Max} ) {\n        ${$Text} = substr( ${$Text}, 0, $Param{Max} - 5 ) . '[...]';\n    }\n\n    # newline\n    if ( $Param{NewLine} && length( ${$Text} ) < 140_000 ) {\n        ${$Text} =~ s/(\\n\\r|\\r\\r\\n|\\r\\n)/\\n/g;\n        ${$Text} =~ s/\\r/\\n/g;\n        ${$Text} =~ s/(.{4,$Param{NewLine}})(?:\\s|\\z)/$1\\n/gm;\n        my $ForceNewLine = $Param{NewLine} + 10;\n        ${$Text} =~ s/(.{$ForceNewLine})(.+?)/$1\\n$2/g;\n    }\n\n    # remove tabs\n    ${$Text} =~ s/\\t/ /g;\n\n    # strip empty lines\n    if ( $Param{StripEmptyLines} ) {\n        ${$Text} =~ s/^\\s*\\n//mg;\n    }\n\n    # max lines\n    if ( $Param{VMax} ) {\n        my @TextList = split( \"\\n\", ${$Text} );\n        ${$Text} = '';\n        my $Counter = 1;\n        for (@TextList) {\n            if ( $Counter <= $Param{VMax} ) {\n                ${$Text} .= $_ . \"\\n\";\n            }\n            $Counter++;\n        }\n        if ( $Counter >= $Param{VMax} ) {\n            ${$Text} .= \"[...]\\n\";\n        }\n    }\n\n    # html quoting\n    ${$Text} =~ s/&/&amp;/g;\n    ${$Text} =~ s/</&lt;/g;\n    ${$Text} =~ s/>/&gt;/g;\n    ${$Text} =~ s/\"/&quot;/g;\n\n    # text -> html format quoting\n    if ( $Param{LinkFeature} ) {\n        for my $Filter (@Filters) {\n            $Text = $Filter->{Object}->Post(\n                Filter => $Filter->{Filter},\n                Data   => $Text,\n            );\n        }\n    }\n\n    if ( $Param{HTMLResultMode} ) {\n        ${$Text} =~ s/\\n/<br\\/>\\n/g;\n        ${$Text} =~ s/  /&nbsp;&nbsp;/g;\n    }\n\n    if ( $Param{Type} && $Param{Type} eq 'JSText' ) {\n        ${$Text} =~ s/'/\\\\'/g;\n    }\n\n    return $Text if ref $Param{Text};\n    return ${$Text};\n}\n\n=item LinkQuote()\n\nso some URL link detections\n\n    my $HTMLWithLinks = $LayoutObject->LinkQuote(\n        Text => $HTMLWithOutLinks,\n    );\n\nalso string ref is possible\n\n    my $HTMLWithLinksRef = $LayoutObject->LinkQuote(\n        Text => \\$HTMLWithOutLinksRef,\n    );\n\n=cut\n\nsub LinkQuote {\n    my ( $Self, %Param ) = @_;\n\n    my $Text   = $Param{Text}   || '';\n    my $Target = $Param{Target} || 'NewPage' . int( rand(199) );\n\n    # check ref\n    my $TextScalar;\n    if ( !ref $Text ) {\n        $TextScalar = $Text;\n        $Text       = \\$TextScalar;\n    }\n\n    # run output filter text\n    my @Filters;\n    if ( $Self->{FilterText} && ref $Self->{FilterText} eq 'HASH' ) {\n\n        # extract filter list\n        my %FilterList = %{ $Self->{FilterText} };\n\n        FILTER:\n        for my $Filter ( sort keys %FilterList ) {\n\n            # extract filter config\n            my $FilterConfig = $FilterList{$Filter};\n\n            next FILTER if !$FilterConfig;\n            next FILTER if ref $FilterConfig ne 'HASH';\n\n            # extract template list\n            my $TemplateList = $FilterConfig->{Templates};\n\n            # check template list\n            if ( !$TemplateList || ref $TemplateList ne 'HASH' || !%{$TemplateList} ) {\n\n                $Self->{LogObject}->Log(\n                    Priority => 'error',\n                    Message =>\n                        \"Please add a template list to output filter $FilterConfig->{Module} \"\n                        . \"to improve performance. Use ALL if OutputFilter should modify all \"\n                        . \"templates of the system (deprecated).\",\n                );\n            }\n\n            # check template list\n            if ( $Param{TemplateFile} && ref $TemplateList eq 'HASH' && !$TemplateList->{ALL} ) {\n                next FILTER if !$TemplateList->{ $Param{TemplateFile} };\n            }\n\n            $Self->FatalDie() if !$Self->{MainObject}->Require( $FilterConfig->{Module} );\n\n            # create new instance\n            my $Object = $FilterConfig->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n\n            next FILTER if !$Object;\n\n            push @Filters, {\n                Object => $Object,\n                Filter => $FilterConfig,\n            };\n        }\n    }\n\n    for my $Filter (@Filters) {\n        $Text = $Filter->{Object}->Pre( Filter => $Filter->{Filter}, Data => $Text );\n    }\n    for my $Filter (@Filters) {\n        $Text = $Filter->{Object}->Post( Filter => $Filter->{Filter}, Data => $Text );\n    }\n\n    # do mail to quote\n    ${$Text} =~ s/(mailto:.+?)(\\.\\s|\\s|\\)|\\\"|]|')/<a href=\\\"$1\\\">$1<\\/a>$2/gi;\n\n    # check ref && return result like called\n    if ($TextScalar) {\n        return ${$Text};\n    }\n    else {\n        return $Text;\n    }\n}\n\n=item HTMLLinkQuote()\n\nso some URL link detections in HTML code\n\n    my $HTMLWithLinks = $LayoutObject->HTMLLinkQuote(\n        String => $HTMLString,\n    );\n\nalso string ref is possible\n\n    my $HTMLWithLinksRef = $LayoutObject->HTMLLinkQuote(\n        String => \\$HTMLString,\n    );\n\n=cut\n\nsub HTMLLinkQuote {\n    my ( $Self, %Param ) = @_;\n\n    return $Self->{HTMLUtilsObject}->LinkQuote(\n        String    => $Param{String},\n        TargetAdd => 1,\n        Target    => '_blank',\n    );\n}\n\n=item LinkEncode()\n\nperform URL encoding on query string parameter names or values.\n\n    my $ParamValueEncoded = $LayoutObject->LinkEncode($ParamValue);\n\nDon't encode entire URLs, because this will make them invalid\n(?, & and ; will be encoded as well). Only pass one parameter name\nor value at a time.\n\n=cut\n\nsub LinkEncode {\n    my ( $Self, $Link ) = @_;\n\n    return if !defined $Link;\n\n    return URI::Escape::uri_escape_utf8($Link);\n}\n\nsub CustomerAgeInHours {\n    my ( $Self, %Param ) = @_;\n\n    my $Age = defined( $Param{Age} ) ? $Param{Age} : return;\n    my $Space     = $Param{Space} || '<br/>';\n    my $AgeStrg   = '';\n    my $HourDsc   = 'h';\n    my $MinuteDsc = 'm';\n    if ( $Self->{ConfigObject}->Get('TimeShowCompleteDescription') ) {\n        $HourDsc   = 'hour';\n        $MinuteDsc = 'minute';\n    }\n    if ( $Age =~ /^-(.*)/ ) {\n        $Age     = $1;\n        $AgeStrg = '-';\n    }\n\n    # get hours\n    if ( $Age >= 3600 ) {\n        $AgeStrg .= int( ( $Age / 3600 ) ) . ' ';\n        $AgeStrg .= $Self->{LanguageObject}->Get($HourDsc);\n        $AgeStrg .= $Space;\n    }\n\n    # get minutes (just if age < 1 day)\n    if ( $Age <= 3600 || int( ( $Age / 60 ) % 60 ) ) {\n        $AgeStrg .= int( ( $Age / 60 ) % 60 ) . ' ';\n        $AgeStrg .= $Self->{LanguageObject}->Get($MinuteDsc);\n    }\n    return $AgeStrg;\n}\n\nsub CustomerAge {\n    my ( $Self, %Param ) = @_;\n\n    my $Age = defined( $Param{Age} ) ? $Param{Age} : return;\n    my $Space     = $Param{Space} || '<br/>';\n    my $AgeStrg   = '';\n    my $DayDsc    = 'd';\n    my $HourDsc   = 'h';\n    my $MinuteDsc = 'm';\n    if ( $Self->{ConfigObject}->Get('TimeShowCompleteDescription') ) {\n        $DayDsc    = 'day';\n        $HourDsc   = 'hour';\n        $MinuteDsc = 'minute';\n    }\n    if ( $Age =~ /^-(.*)/ ) {\n        $Age     = $1;\n        $AgeStrg = '-';\n    }\n\n    # get days\n    if ( $Age >= 86400 ) {\n        $AgeStrg .= int( ( $Age / 3600 ) / 24 ) . ' ';\n        $AgeStrg .= $Self->{LanguageObject}->Get($DayDsc);\n        $AgeStrg .= $Space;\n    }\n\n    # get hours\n    if ( $Age >= 3600 ) {\n        $AgeStrg .= int( ( $Age / 3600 ) % 24 ) . ' ';\n        $AgeStrg .= $Self->{LanguageObject}->Get($HourDsc);\n        $AgeStrg .= $Space;\n    }\n\n    # get minutes (just if age < 1 day)\n    if ( $Self->{ConfigObject}->Get('TimeShowAlwaysLong') || $Age < 86400 ) {\n        $AgeStrg .= int( ( $Age / 60 ) % 60 ) . ' ';\n        $AgeStrg .= $Self->{LanguageObject}->Get($MinuteDsc);\n    }\n    return $AgeStrg;\n}\n\n=item BuildSelection()\n\nbuild a html option element based on given data\n\n    my $HTML = $LayoutObject->BuildSelection(\n        Data            => $ArrayRef,             # use $HashRef, $ArrayRef or $ArrayHashRef (see below)\n        Name            => 'TheName',             # name of element\n        ID              => 'HTMLID',              # (optional) the HTML ID for this element, if not provided, the name will be used as ID as well\n        Multiple        => 0,                     # (optional) default 0 (0|1)\n        Size            => 1,                     # (optional) default 1 element size\n        Class           => 'class',               # (optional) a css class\n        Disabled        => 0,                     # (optional) default 0 (0|1) disable the element\n        AutoComplete    => 'off',                 # (optional)\n        OnChange        => 'javascript',          # (optional)\n        OnClick         => 'javascript',          # (optional)\n\n        SelectedID     => 1,                 # (optional) use integer or arrayref (unable to use with ArrayHashRef)\n        SelectedID     => [1, 5, 3],         # (optional) use integer or arrayref (unable to use with ArrayHashRef)\n        SelectedValue  => 'test',            # (optional) use string or arrayref (unable to use with ArrayHashRef)\n        SelectedValue  => ['test', 'test1'], # (optional) use string or arrayref (unable to use with ArrayHashRef)\n\n        Sort           => 'NumericValue',    # (optional) (AlphanumericValue|NumericValue|AlphanumericKey|NumericKey|TreeView|IndividualKey|IndividualValue) unable to use with ArrayHashRef\n        SortIndividual => ['sec', 'min']     # (optional) only sort is set to IndividualKey or IndividualValue\n        SortReverse    => 0,                 # (optional) reverse the list\n\n        Translation    => 1,                 # (optional) default 1 (0|1) translate value\n        PossibleNone   => 0,                 # (optional) default 0 (0|1) add a leading empty selection\n        TreeView       => 0,                 # (optional) default 0 (0|1)\n        DisabledBranch => 'Branch',          # (optional) disable all elements of this branch (use string or arrayref)\n        Max            => 100,               # (optional) default 100 max size of the shown value\n        HTMLQuote      => 0,                 # (optional) default 1 (0|1) disable html quote\n        Title          => 'Tooltip Text',    # (optional) string will be shown as Tooltip on mouseover\n        OptionTitle    => 1,                 # (optional) default 0 (0|1) show title attribute (the option value) on every option element\n    );\n\n    my $HashRef = {\n        Key1 => 'Value1',\n        Key2 => 'Value2',\n        Key3 => 'Value3',\n    };\n\n    my $ArrayRef = [\n        'KeyValue1',\n        'KeyValue2',\n        'KeyValue3',\n        'KeyValue4',\n    ];\n\n    my $ArrayHashRef = [\n        {\n            Key   => '1',\n            Value => 'Value1',\n        },\n        {\n            Key      => '2',\n            Value    => 'Value1::Subvalue1',\n            Selected => 1,\n        },\n        {\n            Key   => '3',\n            Value => 'Value1::Subvalue2',\n        },\n        {\n            Key      => '4',\n            Value    => 'Value2',\n            Disabled => 1,\n        }\n    ];\n\n=cut\n\nsub BuildSelection {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(Name Data)) {\n        if ( !$Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # The parameters 'Ajax' and 'OnChange' are exclusive\n    if ( $Param{Ajax} && $Param{OnChange} ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => \"The parameters 'OnChange' and 'Ajax' exclude each other!\"\n        );\n        return;\n    }\n\n    # set OnChange if AJAX is used\n    if ( $Param{Ajax} ) {\n        if ( !$Param{Ajax}->{Depend} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => 'Need Depend Param Ajax option!',\n            );\n            $Self->FatalError();\n        }\n        if ( !$Param{Ajax}->{Update} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => 'Need Update Param Ajax option()!',\n            );\n            $Self->FatalError();\n        }\n        my $Selector = $Param{ID} || $Param{Name};\n        $Param{OnChange} = \"Core.AJAX.FormUpdate(\\$('#\"\n            . $Selector . \"'), '\" . $Param{Ajax}->{Subaction} . \"',\"\n            . \" '$Param{Name}',\"\n            . \" ['\"\n            . join( \"', '\", @{ $Param{Ajax}->{Update} } ) . \"']);\";\n    }\n\n    # create OptionRef\n    my $OptionRef = $Self->_BuildSelectionOptionRefCreate(%Param);\n\n    # create AttributeRef\n    my $AttributeRef = $Self->_BuildSelectionAttributeRefCreate(%Param);\n\n    # create DataRef\n    my $DataRef = $Self->_BuildSelectionDataRefCreate(\n        Data         => $Param{Data},\n        AttributeRef => $AttributeRef,\n        OptionRef    => $OptionRef,\n    );\n\n    # generate output\n    my $String = $Self->_BuildSelectionOutput(\n        AttributeRef => $AttributeRef,\n        DataRef      => $DataRef,\n        OptionTitle  => $Param{OptionTitle},\n    );\n    return $String;\n}\n\nsub NoPermission {\n    my ( $Self, %Param ) = @_;\n\n    my $WithHeader = $Param{WithHeader} || 'yes';\n    $Param{Message} = 'Insufficient Rights.' if ( !$Param{Message} );\n\n    # create output\n    my $Output;\n    $Output = $Self->Header( Title => 'Insufficient Rights' ) if ( $WithHeader eq 'yes' );\n    $Output .= $Self->Output( TemplateFile => 'NoPermission', Data => \\%Param );\n    $Output .= $Self->Footer() if ( $WithHeader eq 'yes' );\n\n    # return output\n    return $Output;\n}\n\n=item Permission()\n\ncheck if access to a frontend module exists\n\n    my $Access = $LayoutObject->Permission(\n        Action => 'AdminCustomerUser',\n        Type   => 'rw', # ro|rw possible\n    );\n\n=cut\n\nsub Permission {\n    my ( $Self, %Param ) = @_;\n\n    # check needed params\n    for (qw(Action Type)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => \"Got no $_!\",\n            );\n            $Self->FatalError();\n        }\n    }\n\n    # check if it is ro|rw\n    my %Map = (\n        ro => 'GroupRo',\n        rw => 'Group',\n\n    );\n    my $Permission = $Map{ $Param{Type} };\n    return if !$Permission;\n\n    # get config option for frontend module\n    my $Config = $Self->{ConfigObject}->Get('Frontend::Module')->{ $Param{Action} };\n    return if !$Config;\n\n    my $Item = $Config->{$Permission};\n\n    # array access restriction\n    my $Access = 0;\n    if ( $Item && ref $Item eq 'ARRAY' ) {\n        for ( @{$Item} ) {\n            my $Key = 'UserIs' . $Permission . '[' . $_ . ']';\n            if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n                $Access = 1;\n            }\n        }\n    }\n\n    # scalar access restriction\n    elsif ($Item) {\n        my $Key = 'UserIs' . $Permission . '[' . $Item . ']';\n        if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n            $Access = 1;\n        }\n    }\n\n    # no access restriction\n    elsif ( !$Config->{GroupRo} && !$Config->{Group} ) {\n        $Access = 1;\n    }\n    return $Access;\n}\n\nsub CheckCharset {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = '';\n    if ( !$Param{Action} ) {\n        $Param{Action} = '$Env{\"Action\"}';\n    }\n\n    # with utf-8 can everything be shown\n    if ( $Self->{UserCharset} !~ /^utf-8$/i ) {\n\n        # replace ' or \"\n        $Param{Charset} && $Param{Charset} =~ s/'|\"//gi;\n\n        # if the content charset is different to the user charset\n        if ( $Param{Charset} && $Self->{UserCharset} !~ /^$Param{Charset}$/i ) {\n\n            # if the content charset is us-ascii it is always shown correctly\n            if ( $Param{Charset} !~ /us-ascii/i ) {\n                $Output = '<p><i class=\"small\">'\n                    . '$Text{\"This message was written in a character set other than your own.\"}'\n                    . '$Text{\"If it is not displayed correctly,\"} '\n                    . '<a href=\"'\n                    . $Self->{Baselink}\n                    . \"Action=$Param{Action};TicketID=$Param{TicketID}\"\n                    . \";ArticleID=$Param{ArticleID};Subaction=ShowHTMLeMail\\\" target=\\\"HTMLeMail\\\" \"\n                    . 'onmouseover=\"window.status=\\'$Text{\"open it in a new window\"}\\'; return true;\" onmouseout=\"window.status=\\'\\';\">'\n                    . '$Text{\"click here\"}</a> $Text{\"to open it in a new window.\"}</i></p>';\n            }\n        }\n    }\n\n    # return note string\n    return $Output;\n}\n\nsub CheckMimeType {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = '';\n    if ( !$Param{Action} ) {\n        $Param{Action} = '$Env{\"Action\"}';\n    }\n\n    # check if it is a text/plain email\n    if ( $Param{MimeType} && $Param{MimeType} !~ /text\\/plain/i ) {\n        $Output = '<p><i class=\"small\">$Text{\"This is a\"} '\n            . $Param{MimeType}\n            . ' $Text{\"email\"}, '\n            . '<a href=\"'\n            . $Self->{Baselink}\n            . \"Action=$Param{Action};TicketID=\"\n            . \"$Param{TicketID};ArticleID=$Param{ArticleID};Subaction=ShowHTMLeMail\\\" \"\n            . 'target=\"HTMLeMail\" '\n            . 'onmouseover=\"window.status=\\'$Text{\"open it in a new window\"}\\'; return true;\" onmouseout=\"window.status=\\'\\';\">'\n            . '$Text{\"click here\"}</a> '\n            . '$Text{\"to open it in a new window.\"}</i></p>';\n    }\n\n    # just to be compat\n    elsif ( $Param{Body} =~ /^<.DOCTYPE\\s+html|^<HTML>/i ) {\n        $Output = '<p><i class=\"small\">$Text{\"This is a\"} '\n            . $Param{MimeType}\n            . ' $Text{\"email\"}, '\n            . '<a href=\"'\n            . $Self->{Baselink}\n            . 'Action=$Env{\"Action\"};TicketID='\n            . \"$Param{TicketID};ArticleID=$Param{ArticleID};Subaction=ShowHTMLeMail\\\" \"\n            . 'target=\"HTMLeMail\" '\n            . 'onmouseover=\"window.status=\\'$Text{\"open it in a new window\"}\\'; return true;\" onmouseout=\"window.status=\\'\\';\">'\n            . '$Text{\"click here\"}</a> '\n            . '$Text{\"to open it in a new window.\"}</i></p>';\n    }\n\n    # return note string\n    return $Output;\n}\n\nsub ReturnValue {\n    my ( $Self, $What ) = @_;\n\n    return $Self->{$What};\n}\n\n=item Attachment()\n\nreturns browser output to display/download a attachment\n\n    $HTML = $LayoutObject->Attachment(\n        Type        => 'inline',        # optional, default: attachment, possible: inline|attachment\n        Filename    => 'FileName.png',  # optional\n        ContentType => 'image/png',\n        Content     => $Content,\n    );\n\n    or for AJAX html snippets\n\n    $HTML = $LayoutObject->Attachment(\n        Type        => 'inline',        # optional, default: attachment, possible: inline|attachment\n        Filename    => 'FileName.html', # optional\n        ContentType => 'text/html',\n        Charset     => 'utf-8',         # optional\n        Content     => $Content,\n        NoCache     => 1,               # optional\n    );\n\n=cut\n\nsub Attachment {\n    my ( $Self, %Param ) = @_;\n\n    # check needed params\n    for (qw(Content ContentType)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log(\n                Priority => 'error',\n                Message  => \"Got no $_!\",\n            );\n            $Self->FatalError();\n        }\n    }\n\n    # return attachment\n    my $Output = 'Content-Disposition: ';\n    if ( $Param{Type} ) {\n        $Output .= $Param{Type};\n        $Output .= '; ';\n    }\n    else {\n        $Output .= $Self->{ConfigObject}->Get('AttachmentDownloadType') || 'attachment';\n        $Output .= '; ';\n    }\n\n    # clean filename to get no problems with some browsers\n    if ( $Param{Filename} ) {\n\n        # detect if IE6 workaround is used (solution for IE problem with multi byte filename)\n        # to solve this kind of problems use the following in dtl for attachment downloads:\n        # <a href=\"$Env{\"CGIHandle\"}/$LQData{\"Filename\"}?Action=...\">xxx</a>\n        my $FilenameInHeader = 1;\n\n        # check if browser is broken\n        if ( $Self->{BrowserBreakDispositionHeader} && $ENV{REQUEST_URI} ) {\n\n            # check if IE 6 workaround is used\n            if ( $ENV{REQUEST_URI} =~ /\\Q$Self->{CGIHandle}\\E\\/.+?\\?Action=/ ) {\n                $FilenameInHeader = 0;\n            }\n        }\n\n        # only deliver filename if needed\n        if ($FilenameInHeader) {\n            $Output .= \" filename=\\\"$Param{Filename}\\\"\";\n        }\n    }\n    $Output .= \"\\n\";\n\n    # get attachment size\n    $Param{Size} = bytes::length( $Param{Content} );\n\n    # add no cache headers\n    if ( $Param{NoCache} ) {\n        $Output .= \"Expires: Tue, 1 Jan 1980 12:00:00 GMT\\n\";\n        $Output .= \"Cache-Control: no-cache\\n\";\n        $Output .= \"Pragma: no-cache\\n\";\n    }\n    $Output .= \"Content-Length: $Param{Size}\\n\";\n\n    if ( $Param{Charset} ) {\n        $Output .= \"Content-Type: $Param{ContentType}; charset=$Param{Charset};\\n\\n\";\n    }\n    else {\n        $Output .= \"Content-Type: $Param{ContentType}\\n\\n\";\n    }\n\n    # disable utf8 flag, to write binary to output\n    $Self->{EncodeObject}->EncodeOutput( \\$Output );\n    $Self->{EncodeObject}->EncodeOutput( \\$Param{Content} );\n\n    # fix for firefox HEAD problem\n    if ( !$ENV{REQUEST_METHOD} || $ENV{REQUEST_METHOD} ne 'HEAD' ) {\n        $Output .= $Param{Content};\n    }\n\n    # reset binmode, don't use utf8\n    binmode STDOUT, ':bytes';\n\n    return $Output;\n}\n\n=item PageNavBar()\n\ngenerates a page nav bar\n\n    my %PageNavBar = $LayoutObject->PageNavBar(\n        Limit       => 100,         # marks result of TotalHits red if Limit is gerater then AllHits\n        WindowSize  => 15,          # max shown pages to click\n        StartHit    => 1,           # start to show items\n        PageShown   => 15,          # number of shown items a page\n        AllHits     => 56,          # number of total hits\n        Action      => 'AgentXXX',  # e. g. 'Action=' . $Self->{LayoutObject}->{Action}\n        Link        => $Link,       # e. g. 'Subaction=View;'\n        AJAXReplace => 'IDElement', # IDElement which should be replaced\n        IDPrefix    => 'Tickets',   # Prefix for the id parameter\n    );\n\n    return values of hash\n\n        TotalHits  # total hits\n        Result     # shown items e. g. \"1-5\" or \"16-30\"\n        SiteNavBar # html for page nav bar e. g. \"1 2 3 4\"\n\n        ResultLong     # shown items e. g. \"1-5 of 32\" or \"16-30 of 64\"\n        SiteNavBarLong # html for page nav bar e. g. \"Page: 1 2 3 4\"\n\n=cut\n\nsub PageNavBar {\n    my ( $Self, %Param ) = @_;\n\n    my $Limit = $Param{Limit} || 0;\n    $Param{AllHits}  = 0 if ( !$Param{AllHits} );\n    $Param{StartHit} = 0 if ( !$Param{AllHits} );\n    my $Pages = int( ( $Param{AllHits} / $Param{PageShown} ) + 0.99999 );\n    my $Page  = int( ( $Param{StartHit} / $Param{PageShown} ) + 0.99999 );\n    my $WindowSize = $Param{WindowSize} || 5;\n    my $IDPrefix   = $Param{IDPrefix}   || 'Generic';\n\n    # build Results (1-5 or 16-30)\n    if ( $Param{AllHits} >= ( $Param{StartHit} + $Param{PageShown} ) ) {\n        $Param{Results} = $Param{StartHit} . \"-\" . ( $Param{StartHit} + $Param{PageShown} - 1 );\n    }\n    else {\n        $Param{Results} = \"$Param{StartHit}-$Param{AllHits}\";\n    }\n\n    # check total hits\n    if ( $Limit == $Param{AllHits} ) {\n        $Param{TotalHits} = \"<span class=\\\"PaginationLimit\\\">$Param{AllHits}</span>\";\n    }\n    else {\n        $Param{TotalHits} = $Param{AllHits};\n    }\n\n    # build page nav bar\n    my $WindowStart = sprintf( \"%.0f\", ( $Param{StartHit} / $Param{PageShown} ) );\n    $WindowStart = int( ( $WindowStart / $WindowSize ) ) + 1;\n    $WindowStart = ( $WindowStart * $WindowSize ) - ($WindowSize);\n    my $Action = $Param{Action} || '';\n    my $Link   = $Param{Link}   || '';\n    my $Baselink = \"$Self->{Baselink}$Action;$Link\";\n    my $i        = 0;\n    while ( $i <= ( $Pages - 1 ) ) {\n        $i++;\n\n        # show normal page 1,2,3,...\n        if ( $i <= ( $WindowStart + $WindowSize ) && $i > $WindowStart ) {\n            my $BaselinkAll\n                = $Baselink\n                . \"StartWindow=$WindowStart;StartHit=\"\n                . ( ( ( $i - 1 ) * $Param{PageShown} ) + 1 );\n            my $SelectedPage = \"\";\n            my $PageNumber   = $i;\n\n            if ( $Page == $i ) {\n                $SelectedPage = \" class=\\\"Selected\\\"\";\n            }\n\n            if ( $Param{AJAXReplace} ) {\n                $Self->Block(\n                    Name => 'PageAjax',\n                    Data => {\n                        BaselinkAll  => $BaselinkAll,\n                        AjaxReplace  => $Param{AJAXReplace},\n                        PageNumber   => $PageNumber,\n                        IDPrefix     => $IDPrefix,\n                        SelectedPage => $SelectedPage\n                    },\n                );\n            }\n            else {\n                $Self->Block(\n                    Name => 'Page',\n                    Data => {\n                        BaselinkAll  => $BaselinkAll,\n                        PageNumber   => $PageNumber,\n                        IDPrefix     => $IDPrefix,\n                        SelectedPage => $SelectedPage\n                    },\n                );\n            }\n        }\n\n        # over window \">>\" and \">|\"\n        elsif ( $i > ( $WindowStart + $WindowSize ) ) {\n            my $StartWindow     = $WindowStart + $WindowSize + 1;\n            my $LastStartWindow = int( $Pages / $WindowSize );\n            my $BaselinkAllBack = $Baselink . \"StartHit=\" . ( ( $i - 1 ) * $Param{PageShown} + 1 );\n            my $BaselinkAllNext\n                = $Baselink . \"StartHit=\" . ( ( $Param{PageShown} * ( $Pages - 1 ) ) + 1 );\n\n            if ( $Param{AJAXReplace} ) {\n                $Self->Block(\n                    Name => 'PageForwardAjax',\n                    Data => {\n                        BaselinkAllBack => $BaselinkAllBack,\n                        BaselinkAllNext => $BaselinkAllNext,\n                        AjaxReplace     => $Param{AJAXReplace},\n                        IDPrefix        => $IDPrefix,\n                    },\n                );\n            }\n            else {\n                $Self->Block(\n                    Name => 'PageForward',\n                    Data => {\n                        BaselinkAllBack => $BaselinkAllBack,\n                        BaselinkAllNext => $BaselinkAllNext,\n                        IDPrefix        => $IDPrefix,\n                    },\n                );\n            }\n\n            $i = 99999999;\n        }\n\n        # over window \"<<\" and \"|<\"\n        elsif ( $i < $WindowStart && ( $i - 1 ) < $Pages ) {\n            my $StartWindow     = $WindowStart - $WindowSize - 1;\n            my $BaselinkAllBack = $Baselink . 'StartHit=1;StartWindow=1';\n            my $BaselinkAllNext\n                = $Baselink . 'StartHit=' . ( ( $WindowStart - 1 ) * ( $Param{PageShown} ) + 1 );\n\n            if ( $Param{AJAXReplace} ) {\n                $Self->Block(\n                    Name => 'PageBackAjax',\n                    Data => {\n                        BaselinkAllBack => $BaselinkAllBack,\n                        BaselinkAllNext => $BaselinkAllNext,\n                        AjaxReplace     => $Param{AJAXReplace},\n                        IDPrefix        => $IDPrefix,\n                    },\n                );\n            }\n            else {\n                $Self->Block(\n                    Name => 'PageBack',\n                    Data => {\n                        BaselinkAllBack => $BaselinkAllBack,\n                        BaselinkAllNext => $BaselinkAllNext,\n                        IDPrefix        => $IDPrefix,\n                    },\n                );\n            }\n\n            $i = $WindowStart - 1;\n        }\n    }\n\n    $Param{SearchNavBar} = $Self->Output(\n        TemplateFile   => 'Pagination',\n        KeepScriptTags => $Param{KeepScriptTags},\n    );\n\n    # only show total amount of pages if there is more than one\n    if ( $Pages > 1 ) {\n        $Param{NavBarLong} = \"- \\$Text{\\\"Page\\\"}: $Param{SearchNavBar}\";\n    }\n    else {\n        $Param{SearchNavBar} = '';\n    }\n\n    # return data\n    return (\n        TotalHits      => $Param{TotalHits},\n        Result         => $Param{Results},\n        ResultLong     => \"$Param{Results} \\$Text{\\\"of\\\"} $Param{TotalHits}\",\n        SiteNavBar     => $Param{SearchNavBar},\n        SiteNavBarLong => $Param{NavBarLong},\n        Link           => $Param{Link},\n    );\n}\n\nsub NavigationBar {\n    my ( $Self, %Param ) = @_;\n\n    if ( !$Param{Type} ) {\n        $Param{Type} = $Self->{ModuleReg}->{NavBarName} || 'Ticket';\n    }\n\n    # create menu items\n    my %NavBar;\n    my $FrontendModuleConfig = $Self->{ConfigObject}->Get('Frontend::Module');\n\n    for my $Module ( sort keys %{$FrontendModuleConfig} ) {\n        my %Hash = %{ $FrontendModuleConfig->{$Module} };\n        next if !$Hash{NavBar};\n        next if ref $Hash{NavBar} ne 'ARRAY';\n\n        my @Items = @{ $Hash{NavBar} };\n        for my $Item (@Items) {\n            next if !$Item->{NavBar};\n            $Item->{CSS} = '';\n\n            # highlight active area link\n            if (\n                ( $Item->{Type} && $Item->{Type} eq 'Menu' )\n                && ( $Item->{NavBar} && $Item->{NavBar} eq $Param{Type} )\n                )\n            {\n                $Item->{CSS} .= ' Selected';\n            }\n\n            # get permissions from module if no permissions are defined for the icon\n            if ( !$Item->{GroupRo} && !$Item->{Group} ) {\n                if ( $Hash{GroupRo} ) {\n                    $Item->{GroupRo} = $Hash{GroupRo};\n                }\n                if ( $Hash{Group} ) {\n                    $Item->{Group} = $Hash{Group};\n                }\n            }\n\n            # check shown permission\n            my $Shown = 0;\n            for my $Permission (qw(GroupRo Group)) {\n\n                # array access restriction\n                if ( $Item->{$Permission} && ref $Item->{$Permission} eq 'ARRAY' ) {\n                    for ( @{ $Item->{$Permission} } ) {\n                        my $Key = 'UserIs' . $Permission . '[' . $_ . ']';\n                        if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n                            $Shown = 1;\n                            last;\n                        }\n                    }\n                }\n\n                # scalar access restriction\n                elsif ( $Item->{$Permission} ) {\n                    my $Key = 'UserIs' . $Permission . '[' . $Item->{$Permission} . ']';\n                    if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n                        $Shown = 1;\n                        last;\n                    }\n                }\n\n                # no access restriction\n                elsif ( !$Item->{GroupRo} && !$Item->{Group} ) {\n                    $Shown = 1;\n                    last;\n                }\n            }\n            next if !$Shown;\n\n            # set prio of item\n            my $Key = ( $Item->{Block} || '' ) . sprintf( \"%07d\", $Item->{Prio} );\n            for ( 1 .. 51 ) {\n                last if !$NavBar{$Key};\n\n                $Item->{Prio}++;\n                $Key = ( $Item->{Block} || '' ) . sprintf( \"%07d\", $Item->{Prio} );\n            }\n\n            # show as main menu\n            if ( $Item->{Type} eq 'Menu' ) {\n                $NavBar{$Key} = $Item;\n            }\n\n            # show as sub of main menu\n            else {\n                $NavBar{Sub}->{ $Item->{NavBar} }->{$Key} = $Item;\n            }\n        }\n    }\n\n    # run menu item modules\n    if ( ref $Self->{ConfigObject}->Get('Frontend::NavBarModule') eq 'HASH' ) {\n        my %Jobs = %{ $Self->{ConfigObject}->Get('Frontend::NavBarModule') };\n        for my $Job ( sort keys %Jobs ) {\n\n            # load module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n            next if !$Object;\n\n            # run module\n            %NavBar = ( %NavBar, $Object->Run( %Param, Config => $Jobs{$Job} ) );\n        }\n    }\n\n    # show nav bar\n    for my $Key ( sort keys %NavBar ) {\n        next if $Key eq 'Sub';\n        next if !%{ $NavBar{$Key} };\n        my $Item = $NavBar{$Key};\n        $Item->{NameForID} = $Item->{Name};\n        $Item->{NameForID} =~ s/[ &;]//ig;\n        my $Sub = $NavBar{Sub}->{ $Item->{NavBar} };\n\n        $Self->Block(\n            Name => 'ItemArea',    #$NavBar{$_}->{Block} || 'Item',\n            Data => {\n                %$Item,\n                AccessKeyReference => $Item->{AccessKey} ? \" ($Item->{AccessKey})\" : '',\n            },\n        );\n\n        # show sub menu\n        next if !$Sub;\n        $Self->Block(\n            Name => 'ItemAreaSub',\n            Data => $Item,\n        );\n        for my $Key ( sort keys %{$Sub} ) {\n            my $ItemSub = $Sub->{$Key};\n            $ItemSub->{NameForID} = $ItemSub->{Name};\n            $ItemSub->{NameForID} =~ s/[ &;]//ig;\n            $ItemSub->{NameTop} = $Item->{NameForID};\n            $Self->Block(\n                Name => 'ItemAreaSubItem',    #$Item->{Block} || 'Item',\n                Data => {\n                    %$ItemSub,\n                    AccessKeyReference => $ItemSub->{AccessKey} ? \" ($ItemSub->{AccessKey})\" : '',\n                },\n            );\n        }\n    }\n\n    # create & return output\n    my $Output = $Self->Output( TemplateFile => 'AgentNavigationBar', Data => \\%Param );\n\n    # run nav bar output modules\n    my $NavBarOutputModuleConfig = $Self->{ConfigObject}->Get('Frontend::NavBarOutputModule');\n    if ( ref $NavBarOutputModuleConfig eq 'HASH' ) {\n        my %Jobs = %{$NavBarOutputModuleConfig};\n        for my $Job ( sort keys %Jobs ) {\n\n            # load module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n            next if !$Object;\n\n            # run module\n            $Output .= $Object->Run( %Param, Config => $Jobs{$Job} );\n        }\n    }\n\n    # run notification modules\n    my $FrontendNotifyModuleConfig = $Self->{ConfigObject}->Get('Frontend::NotifyModule');\n    if ( ref $FrontendNotifyModuleConfig eq 'HASH' ) {\n        my %Jobs = %{$FrontendNotifyModuleConfig};\n        for my $Job ( sort keys %Jobs ) {\n\n            # load module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n            next if !$Object;\n\n            # run module\n            $Output .= $Object->Run( %Param, Config => $Jobs{$Job} );\n        }\n    }\n\n    # run nav bar modules\n    if ( $Self->{ModuleReg}->{NavBarModule} ) {\n\n        # run navbar modules\n        my %Jobs = %{ $Self->{ModuleReg}->{NavBarModule} };\n\n        # load module\n        next if !$Self->{MainObject}->Require( $Jobs{Module} );\n        my $Object = $Jobs{Module}->new(\n            %{$Self},\n            LayoutObject => $Self,\n        );\n        next if !$Object;\n\n        # run module\n        $Output .= $Object->Run( %Param, Config => \\%Jobs );\n    }\n    return $Output;\n}\n\nsub TransformDateSelection {\n    my ( $Self, %Param ) = @_;\n\n    # get key prefix\n    my $Prefix = $Param{Prefix} || '';\n\n    # time zone translation if needed\n    if ( $Self->{ConfigObject}->Get('TimeZoneUser') && $Self->{UserTimeZone} ) {\n        my $TimeStamp = $Self->{TimeObject}->TimeStamp2SystemTime(\n            String => $Param{ $Prefix . 'Year' } . '-'\n                . $Param{ $Prefix . 'Month' } . '-'\n                . $Param{ $Prefix . 'Day' } . ' '\n                . ( $Param{ $Prefix . 'Hour' }   || 0 ) . ':'\n                . ( $Param{ $Prefix . 'Minute' } || 0 )\n                . ':00',\n        );\n        $TimeStamp = $TimeStamp - ( $Self->{UserTimeZone} * 3600 );\n        (\n            $Param{ $Prefix . 'Second' },\n            $Param{ $Prefix . 'Minute' },\n            $Param{ $Prefix . 'Hour' },\n            $Param{ $Prefix . 'Day' },\n            $Param{ $Prefix . 'Month' },\n            $Param{ $Prefix . 'Year' }\n        ) = $Self->{UserTimeObject}->SystemTime2Date( SystemTime => $TimeStamp );\n    }\n\n    # reset prefix\n    $Param{Prefix} = '';\n\n    return %Param;\n}\n\nsub BuildDateSelection {\n    my ( $Self, %Param ) = @_;\n\n    my $DateInputStyle = $Self->{ConfigObject}->Get('TimeInputFormat');\n    my $Prefix         = $Param{Prefix} || '';\n    my $DiffTime       = $Param{DiffTime} || 0;\n    my $Format         = defined( $Param{Format} ) ? $Param{Format} : 'DateInputFormatLong';\n    my $Area           = $Param{Area} || 'Agent';\n    my $Optional       = $Param{ $Prefix . 'Optional' } || 0;\n    my $Required       = $Param{ $Prefix . 'Required' } || 0;\n    my $Used           = $Param{ $Prefix . 'Used' } || 0;\n    my $Class          = $Param{ $Prefix . 'Class' } || '';\n\n    # Defines, if the date selection should be validated on client side with JS\n    my $Validate = $Param{Validate} || 0;\n\n    # Validate that the date is in the future (e. g. pending times)\n    my $ValidateDateInFuture = $Param{ValidateDateInFuture} || 0;\n\n    my ( $s, $m, $h, $D, $M, $Y ) = $Self->{UserTimeObject}->SystemTime2Date(\n        SystemTime => $Self->{UserTimeObject}->SystemTime() + $DiffTime,\n    );\n    my $DatepickerHTML = '';\n\n    # time zone translation\n    if (\n        $Self->{ConfigObject}->Get('TimeZoneUser')\n        && $Self->{UserTimeZone}\n        && $Param{ $Prefix . 'Year' }\n        && $Param{ $Prefix . 'Month' }\n        && $Param{ $Prefix . 'Day' }\n        && !$Param{OverrideTimeZone}\n        )\n    {\n        my $TimeStamp = $Self->{TimeObject}->TimeStamp2SystemTime(\n            String => $Param{ $Prefix . 'Year' } . '-'\n                . $Param{ $Prefix . 'Month' } . '-'\n                . $Param{ $Prefix . 'Day' } . ' '\n                . ( $Param{ $Prefix . 'Hour' }   || 0 ) . ':'\n                . ( $Param{ $Prefix . 'Minute' } || 0 )\n                . ':00',\n        );\n        $TimeStamp = $TimeStamp + ( $Self->{UserTimeZone} * 3600 );\n        (\n            $Param{ $Prefix . 'Second' },\n            $Param{ $Prefix . 'Minute' },\n            $Param{ $Prefix . 'Hour' },\n            $Param{ $Prefix . 'Day' },\n            $Param{ $Prefix . 'Month' },\n            $Param{ $Prefix . 'Year' }\n        ) = $Self->{UserTimeObject}->SystemTime2Date( SystemTime => $TimeStamp );\n    }\n\n    # year\n    if ( $DateInputStyle eq 'Option' ) {\n        my %Year;\n        if ( defined $Param{YearPeriodPast} && defined $Param{YearPeriodFuture} ) {\n            for ( $Y - $Param{YearPeriodPast} .. $Y + $Param{YearPeriodFuture} ) {\n                $Year{$_} = $_;\n            }\n        }\n        else {\n            for ( $Y - 10 .. $Y + 1 + ( $Param{YearDiff} || 0 ) ) {\n                $Year{$_} = $_;\n            }\n        }\n        $Param{Year} = $Self->BuildSelection(\n            Name        => $Prefix . 'Year',\n            Data        => \\%Year,\n            SelectedID  => int( $Param{ $Prefix . 'Year' } || $Y ),\n            Translation => 0,\n            Class       => $Validate ? 'Validate_DateYear' : '',\n            Title       => $Self->{LanguageObject}->Get('Year'),\n        );\n    }\n    else {\n        $Param{Year} = \"<input type=\\\"text\\\" \"\n            . ( $Validate ? \"class=\\\"Validate_DateYear $Class\\\" \" : \"class=\\\"$Class\\\" \" )\n            . \"name=\\\"${Prefix}Year\\\" id=\\\"${Prefix}Year\\\" size=\\\"4\\\" maxlength=\\\"4\\\" \"\n            . \"title=\\\"\"\n            . $Self->{LanguageObject}->Get('Year')\n            . \"\\\" value=\\\"\"\n            . sprintf( \"%02d\", ( $Param{ $Prefix . 'Year' } || $Y ) ) . \"\\\"/>\";\n    }\n\n    # month\n    if ( $DateInputStyle eq 'Option' ) {\n        my %Month;\n        for ( 1 .. 12 ) {\n            my $Tmp = sprintf( \"%02d\", $_ );\n            $Month{$_} = $Tmp;\n        }\n        $Param{Month} = $Self->BuildSelection(\n            Name        => $Prefix . 'Month',\n            Data        => \\%Month,\n            SelectedID  => int( $Param{ $Prefix . 'Month' } || $M ),\n            Translation => 0,\n            Class       => $Validate ? 'Validate_DateMonth' : '',\n            Title       => $Self->{LanguageObject}->Get('Month'),\n        );\n    }\n    else {\n        $Param{Month}\n            = \"<input type=\\\"text\\\" \"\n            . ( $Validate ? \"class=\\\"Validate_DateMonth $Class\\\" \" : \"class=\\\"$Class\\\" \" )\n            . \"name=\\\"${Prefix}Month\\\" id=\\\"${Prefix}Month\\\" size=\\\"2\\\" maxlength=\\\"2\\\" \"\n            . \"title=\\\"\"\n            . $Self->{LanguageObject}->Get('Month')\n            . \"\\\" value=\\\"\"\n            . sprintf( \"%02d\", ( $Param{ $Prefix . 'Month' } || $M ) ) . \"\\\"/>\";\n    }\n\n    my $DateValidateClasses = '';\n    if ($Validate) {\n        $DateValidateClasses\n            .= \"Validate_DateDay Validate_DateYear_${Prefix}Year Validate_DateMonth_${Prefix}Month\";\n        if ($ValidateDateInFuture) {\n            $DateValidateClasses .= \" Validate_DateInFuture\";\n        }\n    }\n\n    # day\n    if ( $DateInputStyle eq 'Option' ) {\n        my %Day;\n        for ( 1 .. 31 ) {\n            my $Tmp = sprintf( \"%02d\", $_ );\n            $Day{$_} = $Tmp;\n        }\n        $Param{Day} = $Self->BuildSelection(\n            Name        => $Prefix . 'Day',\n            Data        => \\%Day,\n            SelectedID  => int( $Param{ $Prefix . 'Day' } || $D ),\n            Translation => 0,\n            Class       => \"$DateValidateClasses $Class\",\n            Title       => $Self->{LanguageObject}->Get('Day'),\n        );\n    }\n    else {\n        $Param{Day} = \"<input type=\\\"text\\\" \"\n            . \"class=\\\"$DateValidateClasses $Class\\\" \"\n            . \"name=\\\"${Prefix}Day\\\" id=\\\"${Prefix}Day\\\" size=\\\"2\\\" maxlength=\\\"2\\\" \"\n            . \"title=\\\"\"\n            . $Self->{LanguageObject}->Get('Day')\n            . \"\\\" value=\\\"\"\n            . sprintf( \"%02d\", ( $Param{ $Prefix . 'Day' } || $D ) ) . \"\\\"/>\";\n    }\n    if ( $Format eq 'DateInputFormatLong' ) {\n\n        # hour\n        if ( $DateInputStyle eq 'Option' ) {\n            my %Hour;\n            for ( 0 .. 23 ) {\n                my $Tmp = sprintf( \"%02d\", $_ );\n                $Hour{$_} = $Tmp;\n            }\n            $Param{Hour} = $Self->BuildSelection(\n                Name       => $Prefix . 'Hour',\n                Data       => \\%Hour,\n                SelectedID => defined( $Param{ $Prefix . 'Hour' } )\n                ? int( $Param{ $Prefix . 'Hour' } )\n                : int($h),\n                Translation => 0,\n                Class       => $Validate ? ( 'Validate_DateHour ' . $Class ) : $Class,\n                Title       => $Self->{LanguageObject}->Get('Hours'),\n            );\n        }\n        else {\n            $Param{Hour} = \"<input type=\\\"text\\\" \"\n                . ( $Validate ? \"class=\\\"Validate_DateHour $Class\\\" \" : \"class=\\\"$Class\\\" \" )\n                . \"name=\\\"${Prefix}Hour\\\" id=\\\"${Prefix}Hour\\\" size=\\\"2\\\" maxlength=\\\"2\\\" \"\n                . \"title=\\\"\"\n                . $Self->{LanguageObject}->Get('Hours')\n                . \"\\\" value=\\\"\"\n                . sprintf(\n                \"%02d\",\n                ( defined( $Param{ $Prefix . 'Hour' } ) ? int( $Param{ $Prefix . 'Hour' } ) : $h )\n                )\n                . \"\\\"/>\";\n        }\n\n        # minute\n        if ( $DateInputStyle eq 'Option' ) {\n            my %Minute;\n            for ( 0 .. 59 ) {\n                my $Tmp = sprintf( \"%02d\", $_ );\n                $Minute{$_} = $Tmp;\n            }\n            $Param{Minute} = $Self->BuildSelection(\n                Name       => $Prefix . 'Minute',\n                Data       => \\%Minute,\n                SelectedID => defined( $Param{ $Prefix . 'Minute' } )\n                ? int( $Param{ $Prefix . 'Minute' } )\n                : int($m),\n                Translation => 0,\n                Class       => $Validate ? ( 'Validate_DateMinute ' . $Class ) : $Class,\n                Title       => $Self->{LanguageObject}->Get('Minutes'),\n            );\n        }\n        else {\n            $Param{Minute} = \"<input type=\\\"text\\\" \"\n                . ( $Validate ? \"class=\\\"Validate_DateMinute $Class\\\" \" : \"class=\\\"$Class\\\" \" )\n                . \"name=\\\"${Prefix}Minute\\\" id=\\\"${Prefix}Minute\\\" size=\\\"2\\\" maxlength=\\\"2\\\" \"\n                . \"title=\\\"\"\n                . $Self->{LanguageObject}->Get('Minutes')\n                . \"\\\" value=\\\"\"\n                . sprintf(\n                \"%02d\",\n                (\n                    defined( $Param{ $Prefix . 'Minute' } )\n                    ? int( $Param{ $Prefix . 'Minute' } )\n                    : $m\n                    )\n                ) . \"\\\"/>\";\n        }\n    }\n\n    # Get first day of the week\n    my $WeekDayStart = $Self->{ConfigObject}->Get('CalendarWeekDayStart');\n    if ( !defined $WeekDayStart ) {\n        $WeekDayStart = 1;\n    }\n\n    # Datepicker\n    $DatepickerHTML = '<!--dtl:js_on_document_complete--><script type=\"text/javascript\">//<![CDATA[\n        Core.UI.Datepicker.Init({\n            Day: $(\\'#' . $Prefix . 'Day\\'),\n            Month: $(\\'#' . $Prefix . 'Month\\'),\n            Year: $(\\'#' . $Prefix . 'Year\\'),\n            Hour: $(\\'#' . $Prefix . 'Hour\\'),\n            Minute: $(\\'#' . $Prefix . 'Minute\\'),\n            DateInFuture: ' . ( $ValidateDateInFuture ? 'true' : 'false' ) . ',\n            WeekDayStart: ' . $WeekDayStart . '\n        });\n    //]]></script>\n    <!--dtl:js_on_document_complete-->';\n\n    my $Output;\n\n    # optional checkbox\n    if ($Optional) {\n        my $Checked       = '';\n        my $ValidateClass = '';\n        if ($Used) {\n            $Checked = ' checked=\"checked\"';\n        }\n        if ($Required) {\n            $ValidateClass = ' class=\"Validate_Required\"';\n        }\n        $Output .= \"<input type=\\\"checkbox\\\" name=\\\"\"\n            . $Prefix\n            . \"Used\\\" id=\\\"\" . $Prefix . \"Used\\\" value=\\\"1\\\"\"\n            . $Checked\n            . $ValidateClass\n            . \" title=\\\"\"\n            . $Self->{LanguageObject}->Get('Check to activate this date')\n            . \"\\\" />&nbsp;\";\n    }\n\n    # date format\n    $Output .= $Self->{LanguageObject}->Time(\n        Action => 'Return',\n        Format => 'DateInputFormat',\n        Mode   => 'NotNumeric',\n        %Param,\n    );\n\n    # add Datepicker HTML to output\n    $Output .= $DatepickerHTML;\n\n    # set global var to true to add a block to the footer later\n    $Self->{HasDatepicker} = 1;\n\n    return $Output;\n}\n\nsub CustomerLogin {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = '';\n    $Param{TitleArea} = $Self->{LanguageObject}->Get('Login') . ' - ';\n\n    # set Action parameter for the loader\n    $Self->{Action} = 'CustomerLogin';\n\n    # add cookies if exists\n    if ( $Self->{SetCookies} && $Self->{ConfigObject}->Get('SessionUseCookie') ) {\n        for ( sort keys %{ $Self->{SetCookies} } ) {\n            $Output .= \"Set-Cookie: $Self->{SetCookies}->{$_}\\n\";\n        }\n    }\n\n    # check if message should be shown\n    if ( $Param{Message} ) {\n        $Self->Block(\n            Name => 'Message',\n            Data => \\%Param,\n        );\n    }\n\n    # get lost password output\n    if (\n        $Self->{ConfigObject}->Get('CustomerPanelLostPassword')\n        && $Self->{ConfigObject}->Get('Customer::AuthModule') eq\n        'Kernel::System::CustomerAuth::DB'\n        )\n    {\n        $Self->Block(\n            Name => 'LostPasswordLink',\n            Data => \\%Param,\n        );\n        $Self->Block(\n            Name => 'LostPassword',\n            Data => \\%Param,\n        );\n    }\n\n    # get lost password output\n    if (\n        $Self->{ConfigObject}->Get('CustomerPanelCreateAccount')\n        && $Self->{ConfigObject}->Get('Customer::AuthModule') eq\n        'Kernel::System::CustomerAuth::DB'\n        )\n\n    {\n        $Self->Block(\n            Name => 'CreateAccountLink',\n            Data => \\%Param,\n        );\n        $Self->Block(\n            Name => 'CreateAccount',\n            Data => \\%Param,\n        );\n    }\n\n   # Generate the minified CSS and JavaScript files and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateCustomerCSSCalls();\n    $Self->LoaderCreateCustomerJSCalls();\n\n    # Add header logo, if configured\n    if ( defined $Self->{ConfigObject}->Get('CustomerLogo') ) {\n        my %CustomerLogo = %{ $Self->{ConfigObject}->Get('CustomerLogo') };\n        my %Data;\n\n        for my $CSSStatement ( sort keys %CustomerLogo ) {\n            if ( $CSSStatement eq 'URL' ) {\n                my $WebPath = '';\n                if ( $CustomerLogo{$CSSStatement} !~ /(http|ftp|https):\\//i ) {\n                    $WebPath = $Self->{ConfigObject}->Get('Frontend::WebPath');\n                }\n                $Data{'URL'} = 'url(' . $WebPath . $CustomerLogo{$CSSStatement} . ')';\n            }\n            else {\n                $Data{$CSSStatement} = $CustomerLogo{$CSSStatement};\n            }\n        }\n\n        $Self->Block(\n            Name => 'HeaderLogoCSS',\n            Data => \\%Data,\n        );\n\n        $Self->Block(\n            Name => 'HeaderLogo',\n        );\n    }\n\n    # create & return output\n    $Output .= $Self->Output( TemplateFile => 'CustomerLogin', Data => \\%Param );\n\n    # remove the version tag from the header if configured\n    $Self->_DisableBannerCheck( OutputRef => \\$Output );\n\n    return $Output;\n}\n\nsub CustomerHeader {\n    my ( $Self, %Param ) = @_;\n\n    my $Type = $Param{Type} || '';\n\n    # add cookies if exists\n    my $Output = '';\n    if ( $Self->{SetCookies} && $Self->{ConfigObject}->Get('SessionUseCookie') ) {\n        for ( sort keys %{ $Self->{SetCookies} } ) {\n            $Output .= \"Set-Cookie: $Self->{SetCookies}->{$_}\\n\";\n        }\n    }\n\n    # area and title\n    if (\n        !$Param{Area}\n        && $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{ $Self->{Action} }\n        )\n    {\n        $Param{Area} = $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{ $Self->{Action} }\n            ->{NavBarName} || '';\n    }\n    if (\n        !$Param{Title}\n        && $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{ $Self->{Action} }\n        )\n    {\n        $Param{Title}\n            = $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{ $Self->{Action} }->{Title}\n            || '';\n    }\n    if (\n        !$Param{Area}\n        && $Self->{ConfigObject}->Get('PublicFrontend::Module')->{ $Self->{Action} }\n        )\n    {\n        $Param{Area} = $Self->{ConfigObject}->Get('PublicFrontend::Module')->{ $Self->{Action} }\n            ->{NavBarName} || '';\n    }\n    if (\n        !$Param{Title}\n        && $Self->{ConfigObject}->Get('PublicFrontend::Module')->{ $Self->{Action} }\n        )\n    {\n        $Param{Title}\n            = $Self->{ConfigObject}->Get('PublicFrontend::Module')->{ $Self->{Action} }->{Title}\n            || '';\n    }\n    for my $Word (qw(Value Title Area)) {\n        if ( $Param{$Word} ) {\n            $Param{TitleArea} .= $Self->{LanguageObject}->Get( $Param{$Word} ) . ' - ';\n        }\n    }\n\n    my $Frontend;\n    if ( $Self->{ConfigObject}->Get('CustomerFrontend::Module')->{ $Self->{Action} } ) {\n        $Frontend = 'Customer';\n    }\n    else {\n        $Frontend = 'Public';\n    }\n\n    # run header meta modules for customer and public frontends\n    my $HeaderMetaModule = $Self->{ConfigObject}->Get( $Frontend . 'Frontend::HeaderMetaModule' );\n    if ( ref $HeaderMetaModule eq 'HASH' ) {\n        my %Jobs = %{$HeaderMetaModule};\n        for my $Job ( sort keys %Jobs ) {\n\n            # load and run module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new( %{$Self}, LayoutObject => $Self );\n            next if !$Object;\n            $Object->Run( %Param, Config => $Jobs{$Job} );\n        }\n    }\n\n    # set rtl if needed\n    if ( $Self->{TextDirection} && $Self->{TextDirection} eq 'rtl' ) {\n        $Param{BodyClass} = 'RTL';\n    }\n    elsif ( $Self->{ConfigObject}->Get('Frontend::DebugMode') ) {\n        $Self->Block(\n            Name => 'DebugRTLButton',\n        );\n    }\n\n    # Add header logo, if configured\n    if ( defined $Self->{ConfigObject}->Get('CustomerLogo') ) {\n        my %CustomerLogo = %{ $Self->{ConfigObject}->Get('CustomerLogo') };\n        my %Data;\n\n        for my $CSSStatement ( sort keys %CustomerLogo ) {\n            if ( $CSSStatement eq 'URL' ) {\n                my $WebPath = '';\n                if ( $CustomerLogo{$CSSStatement} !~ /(http|ftp|https):\\//i ) {\n                    $WebPath = $Self->{ConfigObject}->Get('Frontend::WebPath');\n                }\n                $Data{'URL'} = 'url(' . $WebPath . $CustomerLogo{$CSSStatement} . ')';\n            }\n            else {\n                $Data{$CSSStatement} = $CustomerLogo{$CSSStatement};\n            }\n        }\n\n        $Self->Block(\n            Name => 'HeaderLogoCSS',\n            Data => \\%Data,\n        );\n\n        $Self->Block(\n            Name => 'HeaderLogo',\n        );\n    }\n\n    # Generate the minified CSS and JavaScript files\n    # and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateCustomerCSSCalls();\n\n    # create & return output\n    $Output .= $Self->Output(\n        TemplateFile => \"CustomerHeader$Type\",\n        Data         => \\%Param,\n    );\n\n    # remove the version tag from the header if configured\n    $Self->_DisableBannerCheck( OutputRef => \\$Output );\n\n    return $Output;\n}\n\nsub CustomerFooter {\n    my ( $Self, %Param ) = @_;\n\n    my $Type          = $Param{Type}           || '';\n    my $HasDatepicker = $Self->{HasDatepicker} || 0;\n\n    # Generate the minified CSS and JavaScript files\n    # and the tags referencing them (see LayoutLoader)\n    $Self->LoaderCreateCustomerJSCalls();\n\n    # get datepicker data, if needed in module\n    if ($HasDatepicker) {\n        my $VacationDays     = $Self->DatepickerGetVacationDays();\n        my $VacationDaysJSON = $Self->JSONEncode(\n            Data => $VacationDays,\n        );\n\n        my $TextDirection = $Self->{LanguageObject}->{TextDirection} || '';\n\n        $Self->Block(\n            Name => 'DatepickerData',\n            Data => {\n                VacationDays => $VacationDaysJSON,\n                IsRTLLanguage => ( $TextDirection eq 'rtl' ) ? 1 : 0,\n            },\n        );\n    }\n\n    # Banner\n    if ( !$Self->{ConfigObject}->Get('Secure::DisableBanner') ) {\n        $Self->Block(\n            Name => 'Banner',\n        );\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => \"CustomerFooter$Type\", Data => \\%Param );\n}\n\nsub CustomerFatalError {\n    my ( $Self, %Param ) = @_;\n\n    if ( $Param{Message} ) {\n        $Self->{LogObject}->Log(\n            Caller   => 1,\n            Priority => 'error',\n            Message  => $Param{Message},\n        );\n    }\n    my $Output = $Self->CustomerHeader( Area => 'Frontend', Title => 'Fatal Error' );\n    $Output .= $Self->Error(%Param);\n    $Output .= $Self->CustomerFooter();\n    $Self->Print( Output => \\$Output );\n    exit;\n}\n\nsub CustomerNavigationBar {\n    my ( $Self, %Param ) = @_;\n\n    # create menu items\n    my %NavBarModule;\n    my $FrontendModuleConfig = $Self->{ConfigObject}->Get('CustomerFrontend::Module');\n\n    for my $Module ( sort keys %{$FrontendModuleConfig} ) {\n        my %Hash = %{ $FrontendModuleConfig->{$Module} };\n        next if !$Hash{NavBar};\n        next if ref $Hash{NavBar} ne 'ARRAY';\n\n        my @Items = @{ $Hash{NavBar} };\n        for my $Item (@Items) {\n            next if !$Item;\n\n            # check permissions\n            my $Shown = 0;\n\n            # get permissions from module if no permissions are defined for the icon\n            if ( !$Item->{GroupRo} && !$Item->{Group} ) {\n                if ( $Hash{GroupRo} ) {\n                    $Item->{GroupRo} = $Hash{GroupRo};\n                }\n                if ( $Hash{Group} ) {\n                    $Item->{Group} = $Hash{Group};\n                }\n            }\n\n            # check shown permission\n            for my $Permission (qw(GroupRo Group)) {\n\n                # array access restriction\n                if ( $Item->{$Permission} && ref $Item->{$Permission} eq 'ARRAY' ) {\n                    for my $Type ( @{ $Item->{$Permission} } ) {\n                        my $Key = 'UserIs' . $Permission . '[' . $Type . ']';\n                        if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n                            $Shown = 1;\n                            last;\n                        }\n                    }\n                }\n\n                # scalar access restriction\n                elsif ( $Item->{$Permission} ) {\n                    my $Key = 'UserIs' . $Permission . '[' . $Item->{$Permission} . ']';\n                    if ( $Self->{$Key} && $Self->{$Key} eq 'Yes' ) {\n                        $Shown = 1;\n                        last;\n                    }\n                }\n\n                # no access restriction\n                elsif ( !$Item->{GroupRo} && !$Item->{Group} ) {\n                    $Shown = 1;\n                    last;\n                }\n            }\n            next if !$Shown;\n\n            # set prio of item\n            my $Key = sprintf( \"%07d\", $Item->{Prio} );\n            for ( 1 .. 51 ) {\n                last if !$NavBarModule{$Key};\n\n                $Item->{Prio}++;\n            }\n\n            if ( $Item->{Type} eq 'Menu' ) {\n                $NavBarModule{ sprintf( \"%07d\", $Item->{Prio} ) } = $Item;\n            }\n\n            # show as sub of main menu\n            elsif ( $Item->{Type} eq 'Submenu' ) {\n                $NavBarModule{Sub}->{ $Item->{NavBar} }->{ sprintf( \"%07d\", $Item->{Prio} ) }\n                    = $Item;\n            }\n            else {\n                $NavBarModule{ sprintf( \"%07d\", $Item->{Prio} ) } = $Item;\n            }\n        }\n    }\n\n    # run menu item modules\n    if ( ref $Self->{ConfigObject}->Get('CustomerFrontend::NavBarModule') eq 'HASH' ) {\n        my %Jobs = %{ $Self->{ConfigObject}->Get('CustomerFrontend::NavBarModule') };\n        for my $Job ( sort keys %Jobs ) {\n\n            # load module\n            if ( !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} ) ) {\n                $Self->FatalError();\n            }\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                ConfigObject => $Self->{ConfigObject},\n                LogObject    => $Self->{LogObject},\n                DBObject     => $Self->{DBObject},\n                LayoutObject => $Self,\n                UserID       => $Self->{UserID},\n                Debug        => $Self->{Debug},\n            );\n\n            # run module\n            %NavBarModule = ( %NavBarModule, $Object->Run( %Param, Config => $Jobs{$Job} ) );\n        }\n    }\n\n    my $Total   = keys %NavBarModule;\n    my $Counter = 0;\n\n    if ( $NavBarModule{Sub} ) {\n        $Total = int($Total) - 1;\n    }\n\n    # Only highlight the first matched navigation entry. If there are several entries\n    #   with the same Action and Subaction, it cannot be determined which one was used.\n    #   Therefore we just highlight the first one.\n    my $SelectedFlag;\n    for my $Item ( sort keys %NavBarModule ) {\n        next if !%{ $NavBarModule{$Item} };\n        next if $Item eq 'Sub';\n        $Counter++;\n        my $Sub;\n        if ( $NavBarModule{$Item}->{NavBar} ) {\n            $Sub = $NavBarModule{Sub}->{ $NavBarModule{$Item}->{NavBar} };\n        }\n\n        # highlight active link\n        $NavBarModule{$Item}->{Class} = '';\n        if ( $NavBarModule{$Item}->{Link} ) {\n            if (\n                !$SelectedFlag\n                && $NavBarModule{$Item}->{Link} =~ /Action=$Self->{Action}/\n                && $NavBarModule{$Item}->{Link} =~ /$Self->{Subaction}/    # Subaction can be empty\n                )\n            {\n                $NavBarModule{$Item}->{Class} .= ' Selected';\n                $SelectedFlag = 1;\n            }\n        }\n        if ( $Counter == $Total ) {\n            $NavBarModule{$Item}->{Class} .= ' Last';\n        }\n        $Self->Block(\n            Name => $NavBarModule{$Item}->{Block} || 'Item',\n            Data => $NavBarModule{$Item},\n        );\n\n        # show sub menu\n        next if !$Sub;\n        $Self->Block(\n            Name => 'ItemAreaSub',\n            Data => $Item,\n        );\n        for my $Key ( sort keys %{$Sub} ) {\n            my $ItemSub = $Sub->{$Key};\n            $ItemSub->{NameForID} = $ItemSub->{Name};\n            $ItemSub->{NameForID} =~ s/[ &;]//ig;\n            $ItemSub->{NameTop} = $NavBarModule{$Item}->{NameForID};\n\n            # check if we must mark the parent element as selected\n            if ( $ItemSub->{Link} ) {\n                if (\n                    !$SelectedFlag\n                    && $ItemSub->{Link} =~ /Action=$Self->{Action}/\n                    && $ItemSub->{Link} =~ /$Self->{Subaction}/    # Subaction can be empty\n                    )\n                {\n                    $NavBarModule{$Item}->{Class} .= ' Selected';\n                    $ItemSub->{Class} .= ' SubSelected';\n                    $SelectedFlag = 1;\n                }\n            }\n\n            $Self->Block(\n                Name => 'ItemAreaSubItem',\n                Data => {\n                    %$ItemSub,\n                    AccessKeyReference => $ItemSub->{AccessKey} ? \" ($ItemSub->{AccessKey})\" : '',\n                },\n            );\n        }\n    }\n\n    # run notification modules\n    my $FrontendNotifyModuleConfig = $Self->{ConfigObject}->Get('CustomerFrontend::NotifyModule');\n    if ( ref $FrontendNotifyModuleConfig eq 'HASH' ) {\n        my %Jobs = %{$FrontendNotifyModuleConfig};\n        for my $Job ( sort keys %Jobs ) {\n\n            # load module\n            next if !$Self->{MainObject}->Require( $Jobs{$Job}->{Module} );\n            my $Object = $Jobs{$Job}->{Module}->new(\n                %{$Self},\n                LayoutObject => $Self,\n            );\n            next if !$Object;\n\n            # run module\n            $Param{Notification} .= $Object->Run( %Param, Config => $Jobs{$Job} );\n        }\n    }\n\n    # create the customer user login info (usually at the right side of the navigation bar)\n    if ( !$Self->{UserLoginIdentifier} ) {\n        $Param{UserLoginIdentifier} = $Self->{UserEmail} ne $Self->{UserCustomerID}\n            ?\n            \"( $Self->{UserEmail} / $Self->{UserCustomerID} )\"\n            : $Self->{UserEmail};\n    }\n    else {\n        $Param{UserLoginIdentifier} = $Self->{UserLoginIdentifier};\n    }\n\n    # only on valid session\n    if ( $Self->{UserID} ) {\n\n        # show logout button (if registered)\n        if ( $FrontendModuleConfig->{Logout} ) {\n            $Self->Block(\n                Name => 'Logout',\n                Data => \\%Param,\n            );\n        }\n\n        # show preferences button (if registered)\n        if ( $FrontendModuleConfig->{CustomerPreferences} ) {\n            if ( $Self->{Action} eq 'CustomerPreferences' ) {\n                $Param{Class} = 'Selected';\n            }\n            $Self->Block(\n                Name => 'Preferences',\n                Data => \\%Param,\n            );\n        }\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'CustomerNavigationBar', Data => \\%Param );\n}\n\nsub CustomerError {\n    my ( $Self, %Param ) = @_;\n\n    # get backend error messages\n    for (qw(Message Traceback)) {\n        $Param{ 'Backend' . $_ } = $Self->{LogObject}->GetLogEntry(\n            Type => 'Error',\n            What => $_\n        ) || '';\n    }\n    if ( !$Param{BackendMessage} && !$Param{BackendTraceback} ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message => $Param{Message} || '?',\n        );\n        for (qw(Message Traceback)) {\n            $Param{ 'Backend' . $_ } = $Self->{LogObject}->GetLogEntry(\n                Type => 'Error',\n                What => $_\n            ) || '';\n        }\n    }\n\n    if ( !$Param{Message} ) {\n        $Param{Message} = $Param{BackendMessage};\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'CustomerError', Data => \\%Param );\n}\n\nsub CustomerErrorScreen {\n    my ( $Self, %Param ) = @_;\n\n    my $Output = $Self->CustomerHeader( Title => 'Error' );\n    $Output .= $Self->CustomerError(%Param);\n    $Output .= $Self->CustomerFooter();\n    return $Output;\n}\n\nsub CustomerWarning {\n    my ( $Self, %Param ) = @_;\n\n    # get backend error messages\n    $Param{BackendMessage} = $Self->{LogObject}->GetLogEntry(\n        Type => 'Notice',\n        What => 'Message',\n        )\n        || $Self->{LogObject}->GetLogEntry(\n        Type => 'Error',\n        What => 'Message',\n        ) || '';\n\n    if ( !$Param{Message} ) {\n        $Param{Message} = $Param{BackendMessage};\n    }\n\n    # create & return output\n    return $Self->Output( TemplateFile => 'CustomerWarning', Data => \\%Param );\n}\n\nsub CustomerNoPermission {\n    my ( $Self, %Param ) = @_;\n\n    my $WithHeader = $Param{WithHeader} || 'yes';\n    $Param{Message} ||= 'No Permission!';\n\n    # create output\n    my $Output;\n    $Output = $Self->CustomerHeader( Title => 'No Permission' ) if ( $WithHeader eq 'yes' );\n    $Output .= $Self->Output( TemplateFile => 'NoPermission', Data => \\%Param );\n    $Output .= $Self->CustomerFooter() if ( $WithHeader eq 'yes' );\n\n    # return output\n    return $Output;\n}\n\n=item Ascii2RichText()\n\nconverts text to rich text\n\n    my $HTMLString = $LayoutObject->Ascii2RichText(\n        String => $TextString,\n    );\n\n=cut\n\nsub Ascii2RichText {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(String)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # ascii 2 html\n    $Param{String} = $Self->{HTMLUtilsObject}->ToHTML(\n        String => $Param{String},\n    );\n\n    return $Param{String};\n}\n\n=item RichText2Ascii()\n\nconverts text to rich text\n\n    my $TextString = $LayoutObject->RichText2Ascii(\n        String => $HTMLString,\n    );\n\n=cut\n\nsub RichText2Ascii {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(String)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # ascii 2 html\n    $Param{String} = $Self->{HTMLUtilsObject}->ToAscii(\n        String => $Param{String},\n    );\n\n    return $Param{String};\n}\n\n=item RichTextDocumentComplete()\n\n1) add html, body, ... tags to be a valid html document\n2) replace links of inline content e. g. images to <img src=\"cid:xxxx\" />\n\n    $HTMLBody = $LayoutObject->RichTextDocumentComplete(\n        String => $HTMLBody,\n    );\n\n=cut\n\nsub RichTextDocumentComplete {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(String)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # replace image link with content id for uploaded images\n    my $StringRef = $Self->_RichTextReplaceLinkOfInlineContent(\n        String => \\$Param{String},\n    );\n\n    # verify html document\n    $Param{String} = $Self->{HTMLUtilsObject}->DocumentComplete(\n        String  => ${$StringRef},\n        Charset => $Self->{UserCharset},\n    );\n\n    # do correct direction\n    if ( $Self->{TextDirection} ) {\n        $Param{String} =~ s/<body/<body dir=\"$Self->{TextDirection}\"/i;\n    }\n\n    # filter links in response\n    $Param{String} = $Self->HTMLLinkQuote( String => $Param{String} );\n\n    return $Param{String};\n}\n\n=begin Internal:\n\n=cut\n\n=item _RichTextReplaceLinkOfInlineContent()\n\nreplace links of inline content e. g. images\n\n    $HTMLBodyStringRef = $LayoutObject->_RichTextReplaceLinkOfInlineContent(\n        String => $HTMLBodyStringRef,\n    );\n\n=cut\n\nsub _RichTextReplaceLinkOfInlineContent {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(String)) {\n        if ( !$Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # replace image link with content id for uploaded images\n    ${ $Param{String} } =~ s{\n        (<img.+?src=(\"|'))[^>]+ContentID=(.+?)(\"|')([^>]+>)\n    }\n    {\n        my ($Start, $CID, $Close, $End) = ($1, $3, $4, $5);\n        # Make sure we only get the CID and not extra stuff like session information\n        $CID =~ s{^([^;&]+).*}{$1}smx;\n        $Start . 'cid:' . $CID . $Close . $End;\n    }esgxi;\n\n    return $Param{String};\n}\n\n=end Internal:\n\n=item RichTextDocumentServe()\n\nserve a rich text (HTML) document for local view inside of an iframe in correct charset and with correct\nlinks for inline documents.\n\nBy default, all inline/active content (such as script, object, applet or embed tags)\nwill be stripped. If there are external images, they will be stripped too,\nbut a message will be shown allowing the user to reload the page showing the external images.\n\n    my %HTMLFile = $LayoutObject->RichTextDocumentServe(\n        Data => {\n            Content     => $HTMLBodyRef,\n            ContentType => 'text/html; charset=\"iso-8859-1\"',\n        },\n        URL               => 'AgentTicketAttachment;Subaction=HTMLView;ArticleID=123;FileID=',\n        Attachments       => \\%AttachmentListOfInlineAttachments,\n\n        LoadInlineContent => 0,     # Serve the document including all inline content. WARNING: This might be dangerous.\n\n        LoadExternalImages => 0,    # Load external images? If this is 0, a message will be included if\n                                    # external images were found and removed.\n    );\n\n=cut\n\nsub RichTextDocumentServe {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(Data URL Attachments)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    # get charset and convert content to internal charset\n    if ( $Self->{EncodeObject}->EncodeInternalUsed() ) {\n        my $Charset;\n        if ( $Param{Data}->{ContentType} =~ m/.+?charset=(\"|'|)(.+)/ig ) {\n            $Charset = $2;\n            $Charset =~ s/\"|'//g;\n        }\n        if ( !$Charset ) {\n            $Charset = 'us-ascii';\n            $Param{Data}->{ContentType} .= '; charset=\"us-ascii\"';\n        }\n\n        # convert charset\n        if ($Charset) {\n            $Param{Data}->{Content} = $Self->{EncodeObject}->Convert(\n                Text => $Param{Data}->{Content},\n                From => $Charset,\n                To   => 'utf-8',\n            );\n\n            # replace charset in content\n            $Param{Data}->{ContentType} =~ s/\\Q$Charset\\E/utf-8/gi;\n            $Param{Data}->{Content} =~ s/(charset=(\"|'|))\\Q$Charset\\E/$1utf-8/gi;\n        }\n    }\n\n    # add html links\n    $Param{Data}->{Content} = $Self->HTMLLinkQuote(\n        String => $Param{Data}->{Content},\n    );\n\n    # cleanup some html tags to be cross browser compat.\n    $Param{Data}->{Content} = $Self->RichTextDocumentCleanup(\n        String => $Param{Data}->{Content},\n    );\n\n    # safety check\n    if ( !$Param{LoadInlineContent} ) {\n\n        # Strip out active content first, keeping external images.\n        my %SafetyCheckResult = $Self->{HTMLUtilsObject}->Safety(\n            String       => $Param{Data}->{Content},\n            NoApplet     => 1,\n            NoObject     => 1,\n            NoEmbed      => 1,\n            NoSVG        => 1,\n            NoIntSrcLoad => 0,\n            NoExtSrcLoad => 0,\n            NoJavaScript => 1,\n            Debug        => $Self->{Debug},\n        );\n\n        $Param{Data}->{Content} = $SafetyCheckResult{String};\n\n        if ( !$Param{LoadExternalImages} ) {\n\n            # Strip out external images, but show a confirmation button to\n            #   load them explicitly.\n            my %SafetyCheckResult = $Self->{HTMLUtilsObject}->Safety(\n                String       => $Param{Data}->{Content},\n                NoApplet     => 1,\n                NoObject     => 1,\n                NoEmbed      => 1,\n                NoSVG        => 1,\n                NoIntSrcLoad => 0,\n                NoExtSrcLoad => 1,\n                NoJavaScript => 1,\n                Debug        => $Self->{Debug},\n            );\n\n            $Param{Data}->{Content} = $SafetyCheckResult{String};\n\n            if ( $SafetyCheckResult{Replace} ) {\n\n                # Generate blocker message.\n                my $Message = $Self->Output( TemplateFile => 'AttachmentBlocker' );\n\n                # Add it to the beginning of the body, if possible, otherwise prepend it.\n                if ( $Param{Data}->{Content} =~ /<body.*?>/si ) {\n                    $Param{Data}->{Content} =~ s/(<body.*?>)/$1\\n$Message/si;\n                }\n                else {\n                    $Param{Data}->{Content} = $Message . $Param{Data}->{Content};\n                }\n            }\n\n        }\n    }\n\n    # build base url for inline images\n    my $SessionID = '';\n    if ( $Self->{SessionID} && !$Self->{SessionIDCookie} ) {\n        $SessionID = ';' . $Self->{SessionName} . '=' . $Self->{SessionID};\n    }\n\n    # replace inline images in content with runtime url to images\n    my $AttachmentLink = $Self->{Baselink} . $Param{URL};\n    $Param{Data}->{Content} =~ s{\n        (=|\"|')cid:(.*?)(\"|'|>|\\/>|\\s)\n    }\n    {\n        my $Start= $1;\n        my $ContentID = $2;\n        my $End = $3;\n\n        # improve html quality\n        if ( $Start ne '\"' && $Start ne '\\'' ) {\n            $Start .= '\"';\n        }\n        if ( $End ne '\"' && $End ne '\\'' ) {\n            $End = '\"' . $End;\n        }\n\n        # find matching attachment and replace it with runtlime url to image\n        for my $AttachmentID (  sort keys %{ $Param{Attachments} }) {\n            next if lc $Param{Attachments}->{$AttachmentID}->{ContentID} ne lc \"<$ContentID>\";\n            $ContentID = $AttachmentLink . $AttachmentID . ';' . $SessionID;\n            last;\n        }\n\n        # return new runtime url\n        $Start . $ContentID . $End;\n    }egxi;\n\n    # bug #5053\n    # inline images using Content-Location as identifier instead of Content-ID even RFC2557\n    # http://www.ietf.org/rfc/rfc2557.txt\n\n    # find matching attachment and replace it with runtlime url to image\n    for my $AttachmentID ( sort keys %{ $Param{Attachments} } ) {\n        next if !$Param{Attachments}->{$AttachmentID}->{ContentID};\n\n        # content id cleanup\n        $Param{Attachments}->{$AttachmentID}->{ContentID} =~ s/^<//;\n        $Param{Attachments}->{$AttachmentID}->{ContentID} =~ s/>$//;\n\n        $Param{Data}->{Content} =~ s{\n        (=|\"|')(\\Q$Param{Attachments}->{$AttachmentID}->{ContentID}\\E)(\"|'|>|\\/>|\\s)\n    }\n    {\n        my $Start= $1;\n        my $ContentID = $2;\n        my $End = $3;\n\n        # improve html quality\n        if ( $Start ne '\"' && $Start ne '\\'' ) {\n            $Start .= '\"';\n        }\n        if ( $End ne '\"' && $End ne '\\'' ) {\n            $End = '\"' . $End;\n        }\n\n        # return new runtime url\n        $ContentID = $AttachmentLink . $AttachmentID . ';' . $SessionID;\n        $Start . $ContentID . $End;\n    }egxi;\n    }\n\n    return %{ $Param{Data} };\n}\n\n=item RichTextDocumentCleanup()\n\nplease see L<Kernel::System::HTML::Layout::DocumentCleanup()>\n\n=cut\n\nsub RichTextDocumentCleanup {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    for (qw(String)) {\n        if ( !defined $Param{$_} ) {\n            $Self->{LogObject}->Log( Priority => 'error', Message => \"Need $_!\" );\n            return;\n        }\n    }\n\n    $Param{String} = $Self->{HTMLUtilsObject}->DocumentCleanup(\n        String => $Param{String},\n    );\n\n    return $Param{String};\n}\n\n=begin Internal:\n\n=cut\n\nsub _BlockTemplatePreferences {\n    my ( $Self, %Param ) = @_;\n\n    my %TagsOpen;\n    my @Preferences;\n    my $LastLayerCount = 0;\n    my $Layer          = 0;\n    my $LastLayer      = '';\n    my $CurrentLayer   = '';\n    my %UsedNames;\n    my $TemplateFile = $Param{TemplateFile} || '';\n    if ( !defined $Param{Template} ) {\n        $Self->{LogObject}->Log( Priority => 'error', Message => 'Need Template!' );\n        return;\n    }\n\n    if ( $Self->{PrasedBlockTemplatePreferences}->{$TemplateFile} ) {\n        return $Self->{PrasedBlockTemplatePreferences}->{$TemplateFile};\n    }\n\n    $Param{Template} =~ s{\n        <!--\\s{0,1}dtl:block:(.+?)\\s{0,1}-->\n    }\n    {\n        my $BlockName = $1;\n        if (!$TagsOpen{$BlockName}) {\n            $Layer++;\n            $TagsOpen{$BlockName} = 1;\n            my $CL = '';\n            if ($Layer == 1) {\n                $LastLayer = '';\n                $CurrentLayer = $BlockName;\n            }\n            elsif ($LastLayerCount == $Layer) {\n                $CurrentLayer = $LastLayer.'::'.$BlockName;\n            }\n            else {\n                $LastLayer = $CurrentLayer;\n                $CurrentLayer = $CurrentLayer.'::'.$BlockName;\n            }\n            $LastLayerCount = $Layer;\n            if (!$UsedNames{$BlockName}) {\n                push (@Preferences, {\n                    Name => $BlockName,\n                    Layer => $Layer,\n                    },\n                );\n                $UsedNames{$BlockName} = 1;\n            }\n        }\n        else {\n            $TagsOpen{$BlockName} = 0;\n            $Layer--;\n        }\n    }segxm;\n\n    # check open (invalid) tags\n    for ( sort keys %TagsOpen ) {\n        if ( $TagsOpen{$_} ) {\n            my $Message = \"'dtl:block:$_' isn't closed!\";\n            if ($TemplateFile) {\n                $Message .= \" ($TemplateFile.dtl)\";\n            }\n            $Self->{LogObject}->Log( Priority => 'error', Message => $Message );\n            $Self->FatalError();\n        }\n    }\n\n    # remember block data\n    if ($TemplateFile) {\n        $Self->{PrasedBlockTemplatePreferences}->{$TemplateFile} = \\@Preferences;\n    }\n\n    return \\@Preferences;\n}\n\nsub _BlockTemplatesReplace {\n    my ( $Self, %Param ) = @_;\n\n    if ( !$Param{Template} ) {\n        $Self->{LogObject}->Log( Priority => 'error', Message => 'Need Template!' );\n        return;\n    }\n    my $TemplateString = $Param{Template};\n\n    # get availabe template block preferences\n    my $BlocksRef = $Self->_BlockTemplatePreferences(\n        Template => $$TemplateString,\n        TemplateFile => $Param{TemplateFile} || '',\n    );\n    my %BlockLayer;\n    my %BlockTemplates;\n    for my $Block ( reverse @{$BlocksRef} ) {\n        $$TemplateString =~ s{\n            <!--\\s{0,1}dtl:block:$Block->{Name}\\s{0,1}-->(.+?)<!--\\s{0,1}dtl:block:$Block->{Name}\\s{0,1}-->\n        }\n        {\n            $BlockTemplates{$Block->{Name}} = $1;\n            \"<!-- dtl:place_block:$Block->{Name} -->\";\n        }segxm;\n        $BlockLayer{ $Block->{Name} } = $Block->{Layer};\n    }\n\n    # create block template string\n    my @BR;\n    if ( $Self->{BlockData} && %BlockTemplates ) {\n        my @NotUsedBlockData;\n        for my $Block ( @{ $Self->{BlockData} } ) {\n            if ( $BlockTemplates{ $Block->{Name} } ) {\n                push(\n                    @BR,\n                    {\n                        Layer => $BlockLayer{ $Block->{Name} },\n                        Name  => $Block->{Name},\n                        Data  => $Self->_Output(\n                            Template => $BlockTemplates{ $Block->{Name} },\n                            Data     => $Block->{Data},\n                        ),\n                    }\n                );\n            }\n            else {\n                push @NotUsedBlockData, { %{$Block} };\n            }\n        }\n\n        # remember not use block data\n        $Self->{BlockData} = \\@NotUsedBlockData;\n    }\n\n    return @BR;\n}\n\nsub _Output {\n    my ( $Self, %Param ) = @_;\n\n    # deep recursion protection\n    $Self->{OutputCount}++;\n    if ( $Self->{OutputCount} > 20 ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => 'Loop detection!',\n        );\n        $Self->FatalDie();\n    }\n\n    # create refs\n    my $GlobalRef = {\n        Env    => $Self->{EnvRef},\n        Data   => $Param{Data},\n        Config => $Self->{ConfigObject},\n    };\n\n    my $TemplateString = $Param{Template};\n\n    # parse/get text blocks\n    my @BR = $Self->_BlockTemplatesReplace(\n        Template => \\$TemplateString,\n        TemplateFile => $Param{TemplateFile} || '',\n    );\n\n    # check if a block structure exists\n    if ( scalar @BR ) {\n\n        # process structure\n        my $BlockStructure;\n        my $LastLayer = $BR[-1]->{Layer};\n        for my $Block (\n            reverse\n            {\n                Data  => $TemplateString,\n                Layer => 0,\n                Name  => 'TemplateString',\n            },\n            @BR\n            )\n        {\n\n            # process and remove substructure (if exists)\n            if (\n                $Block->{Layer} < $LastLayer\n                && ref $BlockStructure->{ $Block->{Layer} + 1 } eq 'HASH'\n                )\n            {\n                for my $SubLayer ( sort keys %{ $BlockStructure->{ $Block->{Layer} + 1 } } ) {\n                    my $SubLayerString = join '',\n                        @{ $BlockStructure->{ $Block->{Layer} + 1 }->{$SubLayer} };\n                    $Block->{Data}\n                        =~ s{ <!-- [ ] dtl:place_block: $SubLayer [ ] --> }{$SubLayerString}xms;\n                }\n                undef $BlockStructure->{ $Block->{Layer} + 1 };\n            }\n\n            # for safety - clean up old same-level structures\n            elsif ( $Block->{Layer} > $LastLayer ) {\n                undef $BlockStructure->{ $Block->{Layer} };\n            }\n\n            # add to structure\n            unshift @{ $BlockStructure->{ $Block->{Layer} }->{ $Block->{Name} } }, $Block->{Data};\n            $LastLayer = $Block->{Layer};\n        }\n\n        # assign result\n        $TemplateString = $BlockStructure->{0}->{TemplateString}->[0];\n\n    }\n\n    # remove empty blocks and block preferences\n    if ( $Param{BlockReplace} ) {\n        my @TemplateBlocks = split '<!-- dtl:place_block:', $TemplateString;\n        $TemplateString = shift @TemplateBlocks || '';\n        for my $TemplateBlock (@TemplateBlocks) {\n            $TemplateBlock =~ s{ \\A .+? [ ] --> }{}xms;\n            $TemplateString .= $TemplateBlock;\n        }\n    }\n\n    # process template\n    $TemplateString ||= '';\n    my $Output = '';\n    for my $Line ( split( /\\n/, $TemplateString ) ) {\n\n        #        # add missing new line (striped from split)\n        #        $Line .= \"\\n\";\n\n        # variable & env & config replacement\n        my $Regexp = 1;\n        while ($Regexp) {\n            $Regexp = $Line =~ s{\n                \\$((?:|Q|LQ|)Data|(?:|Q)Env|Config|Include){\"(.+?)\"}\n            }\n            {\n                if ($1 eq 'Data' || $1 eq 'Env') {\n                    if ( defined $GlobalRef->{$1}->{$2} ) {\n                        $GlobalRef->{$1}->{$2};\n                    }\n                    else {\n                        # output replace with nothing!\n                        '';\n                    }\n                }\n                elsif ($1 eq 'QEnv') {\n                    my $Text = $2;\n                    if ( !defined $Text || $Text =~ /^\",\\s*\"(.+)$/ ) {\n                        '';\n                    }\n                    elsif ($Text =~ /^(.+?)\",\\s*\"(.+)$/) {\n                        if ( defined $GlobalRef->{Env}->{$1} ) {\n                            $Self->Ascii2Html(Text => $GlobalRef->{Env}->{$1}, Max => $2);\n                        }\n                        else {\n                            # output replace with nothing!\n                            '';\n                        }\n                    }\n                    else {\n                        if ( defined $GlobalRef->{Env}->{$Text} ) {\n                            $Self->Ascii2Html(Text => $GlobalRef->{Env}->{$Text});\n                        }\n                        else {\n                            # output replace with nothing!\n                            '';\n                        }\n                    }\n                }\n                elsif ($1 eq 'QData') {\n                    my $Text = $2;\n                    if ( !defined $Text || $Text =~ /^\",\\s*\"(.+)$/ ) {\n                        '';\n                    }\n                    elsif ($Text =~ /^(.+?)\",\\s*\"(.+)$/) {\n                        if ( defined $GlobalRef->{Data}->{$1} ) {\n                            $Self->Ascii2Html(Text => $GlobalRef->{Data}->{$1}, Max => $2);\n                        }\n                        else {\n                            # output replace with nothing!\n                            '';\n                        }\n                    }\n                    else {\n                        if ( defined $GlobalRef->{Data}->{$Text} ) {\n                            $Self->Ascii2Html(Text => $GlobalRef->{Data}->{$Text});\n                        }\n                        else {\n                            # output replace with nothing!\n                            '';\n                        }\n                    }\n                }\n                # link encode\n                elsif ($1 eq 'LQData') {\n                    if ( defined $GlobalRef->{Data}->{$2} ) {\n                        $Self->LinkEncode($GlobalRef->{Data}->{$2});\n                    }\n                    else {\n                        # output replace with nothing!\n                        '';\n                    }\n                }\n                # replace with\n                elsif ($1 eq 'Config') {\n                    if ( defined $Self->{ConfigObject}->Get($2) ) {\n                        $Self->{ConfigObject}->Get($2);\n                    }\n                    else {\n                        # output replace with nothing!\n                        '';\n                    }\n                }\n                # include dtl files\n                elsif ($1 eq 'Include') {\n                    $Self->Output(\n                        %Param,\n                        Include => 1,\n                        TemplateFile => $2,\n                    );\n                }\n            }egx;\n        }\n\n        # add this line to output\n        $Output .= $Line . \"\\n\";\n    }\n    chomp $Output;\n\n    $Self->{OutputCount} = 0;\n\n    return $Output;\n}\n\n=item _BuildSelectionOptionRefCreate()\n\ncreate the option hash\n\n    my $OptionRef = $LayoutObject->_BuildSelectionOptionRefCreate(\n        %Param,\n    );\n\n    my $OptionRef = {\n        Sort         => 'numeric',\n        PossibleNone => 0,\n        Max          => 100,\n    }\n\n=cut\n\nsub _BuildSelectionOptionRefCreate {\n    my ( $Self, %Param ) = @_;\n\n    # set SelectedID option\n    my $OptionRef = {};\n    if ( defined $Param{SelectedID} ) {\n        if ( ref $Param{SelectedID} eq 'ARRAY' ) {\n            for my $Key ( @{ $Param{SelectedID} } ) {\n                $OptionRef->{SelectedID}->{$Key} = 1;\n            }\n        }\n        else {\n            $OptionRef->{SelectedID}->{ $Param{SelectedID} } = 1;\n        }\n    }\n\n    # set SelectedValue option\n    if ( defined $Param{SelectedValue} ) {\n        if ( ref $Param{SelectedValue} eq 'ARRAY' ) {\n            for my $Value ( @{ $Param{SelectedValue} } ) {\n                $OptionRef->{SelectedValue}->{$Value} = 1;\n            }\n        }\n        else {\n            $OptionRef->{SelectedValue}->{ $Param{SelectedValue} } = 1;\n        }\n    }\n\n    # set Sort option\n    $OptionRef->{Sort} = 0;\n    if ( $Param{Sort} ) {\n        $OptionRef->{Sort} = $Param{Sort};\n    }\n\n    # look if a individual sort is available\n    if ( $Param{SortIndividual} && ref $Param{SortIndividual} eq 'ARRAY' ) {\n        $OptionRef->{SortIndividual} = $Param{SortIndividual};\n    }\n\n    # set SortReverse option\n    $OptionRef->{SortReverse} = 0;\n    if ( $Param{SortReverse} ) {\n        $OptionRef->{SortReverse} = 1;\n    }\n\n    # set Translation option\n    $OptionRef->{Translation} = 1;\n    if ( defined $Param{Translation} && $Param{Translation} eq 0 ) {\n        $OptionRef->{Translation} = 0;\n    }\n\n    # correcting selected value hash if translation is on\n    if (\n        $OptionRef->{Translation}\n        && $OptionRef->{SelectedValue}\n        && ref $OptionRef->{SelectedValue} eq 'HASH'\n        )\n    {\n        my %SelectedValueNew;\n        for my $OriginalKey ( sort keys %{ $OptionRef->{SelectedValue} } ) {\n            my $TranslatedKey = $Self->{LanguageObject}->Get($OriginalKey);\n            $SelectedValueNew{$TranslatedKey} = 1;\n        }\n        $OptionRef->{SelectedValue} = \\%SelectedValueNew;\n    }\n\n    # set PossibleNone option\n    $OptionRef->{PossibleNone} = 0;\n    if ( $Param{PossibleNone} ) {\n        $OptionRef->{PossibleNone} = 1;\n    }\n\n    # set TreeView option\n    $OptionRef->{TreeView} = 0;\n    if ( $Param{TreeView} ) {\n        $OptionRef->{TreeView} = 1;\n        $OptionRef->{Sort}     = 'TreeView';\n    }\n\n    # set DisabledBranch option\n    if ( $Param{DisabledBranch} ) {\n        if ( ref $Param{DisabledBranch} eq 'ARRAY' ) {\n            for my $Branch ( @{ $Param{DisabledBranch} } ) {\n                $OptionRef->{DisabledBranch}->{$Branch} = 1;\n            }\n        }\n        else {\n            $OptionRef->{DisabledBranch}->{ $Param{DisabledBranch} } = 1;\n        }\n    }\n\n    # set Max option\n    $OptionRef->{Max} = $Param{Max} || 100;\n\n    # set HTMLQuote option\n    $OptionRef->{HTMLQuote} = 1;\n    if ( defined $Param{HTMLQuote} ) {\n        $OptionRef->{HTMLQuote} = $Param{HTMLQuote};\n    }\n\n    return $OptionRef;\n}\n\n=item _BuildSelectionAttributeRefCreate()\n\ncreate the attribute hash\n\n    my $AttributeRef = $LayoutObject->_BuildSelectionAttributeRefCreate(\n        %Param,\n    );\n\n    my $AttributeRef = {\n        name     => 'TheName',\n        multiple => undef,\n        size     => 5,\n    }\n\n=cut\n\nsub _BuildSelectionAttributeRefCreate {\n    my ( $Self, %Param ) = @_;\n\n    my $AttributeRef = {};\n\n    # check params with key and value\n    for (qw(Name ID Size Class OnChange OnClick AutoComplete)) {\n        if ( $Param{$_} ) {\n            $AttributeRef->{ lc($_) } = $Param{$_};\n        }\n    }\n\n    # add id attriubut\n    if ( !$AttributeRef->{id} ) {\n        $AttributeRef->{id} = $AttributeRef->{name};\n    }\n\n    # check params with key and value that need to be HTML-Quoted\n    for (qw(Title)) {\n        if ( $Param{$_} ) {\n            $AttributeRef->{ lc($_) } = $Self->Ascii2Html( Text => $Param{$_} );\n        }\n    }\n\n    # check HTML params\n    for (qw(Multiple Disabled)) {\n        if ( $Param{$_} ) {\n            $AttributeRef->{ lc($_) } = lc($_);\n        }\n    }\n\n    return $AttributeRef;\n}\n\n=item _BuildSelectionDataRefCreate()\n\ncreate the data hash\n\n    my $DataRef = $LayoutObject->_BuildSelectionDataRefCreate(\n        Data => $ArrayRef,              # use $HashRef, $ArrayRef or $ArrayHashRef\n        AttributeRef => $AttributeRef,\n        OptionRef => $OptionRef,\n    );\n\n    my $DataRef  = [\n        {\n            Key => 11,\n            Value => 'Text',\n        },\n        {\n            Key => 'abc',\n            Value => '&nbsp;&nbsp;Text',\n            Selected => 1,\n        },\n    ];\n\n=cut\n\nsub _BuildSelectionDataRefCreate {\n    my ( $Self, %Param ) = @_;\n\n    my $AttributeRef = $Param{AttributeRef};\n    my $OptionRef    = $Param{OptionRef};\n    my $DataRef      = [];\n\n    my $Counter = 0;\n\n    # for HashRef and ArrayRef only\n    my %DisabledElements;\n\n    # dclone $Param{Data} because the subroutine unfortunately modifies\n    # the original data ref\n    if ( !$Self->{MainObject}->Require(\"Storable\") ) {\n        $Self->FatalError();\n    }\n    my $DataLocal = Storable::dclone( $Param{Data} );\n\n    # if HashRef was given\n    if ( ref $DataLocal eq 'HASH' ) {\n\n        # get missing parents and mark them for disable later\n        if ( $OptionRef->{Sort} eq 'TreeView' ) {\n            my %List = reverse %{$DataLocal};\n\n            # get each data value\n            for my $Key ( sort keys %List ) {\n                my $Parents = '';\n\n                # try to split its parents (e.g. Queue or Service) GrandParent::Parent::Son\n                my @Elements = split /::/, $Key;\n\n                # get each element in the hierarchy\n                for my $Element (@Elements) {\n\n                    # add its own parents for the complete name\n                    my $ElementLongName = $Parents . $Element;\n\n                    # check if element exists in the original data or if it is already marked\n                    if ( !$List{$ElementLongName} && !$DisabledElements{$ElementLongName} ) {\n\n                        # mark element as disabled\n                        $DisabledElements{$ElementLongName} = 1;\n\n                        # add the element to the original data to be disabled later\n                        $DataLocal->{ $ElementLongName . '_Disabled' } = $ElementLongName;\n                    }\n                    $Parents .= $Element . '::';\n                }\n            }\n        }\n\n        # sort hash (before the translation)\n        my @SortKeys;\n        if ( $OptionRef->{Sort} eq 'IndividualValue' && $OptionRef->{SortIndividual} ) {\n            my %List = reverse %{$DataLocal};\n            for my $Key ( @{ $OptionRef->{SortIndividual} } ) {\n                if ( $List{$Key} ) {\n                    push @SortKeys, $List{$Key};\n                    delete $List{$Key};\n                }\n            }\n            push @SortKeys, sort { $a cmp $b } ( values %List );\n        }\n\n        # translate value\n        if ( $OptionRef->{Translation} ) {\n            for my $Row ( sort keys %{$DataLocal} ) {\n                $DataLocal->{$Row} = $Self->{LanguageObject}->Get( $DataLocal->{$Row} );\n            }\n        }\n\n        # sort hash (after the translation)\n        if ( $OptionRef->{Sort} eq 'NumericKey' ) {\n            @SortKeys = sort { $a <=> $b } ( keys %{$DataLocal} );\n        }\n        elsif ( $OptionRef->{Sort} eq 'NumericValue' ) {\n            @SortKeys\n                = sort { $DataLocal->{$a} <=> $DataLocal->{$b} } ( keys %{$DataLocal} );\n        }\n        elsif ( $OptionRef->{Sort} eq 'AlphanumericKey' ) {\n            @SortKeys = sort( keys %{$DataLocal} );\n        }\n        elsif ( $OptionRef->{Sort} eq 'TreeView' ) {\n\n            # add suffix for correct sorting\n            my %SortHash;\n            for ( sort keys %{$DataLocal} ) {\n                $SortHash{$_} = $DataLocal->{$_} . '::';\n            }\n            @SortKeys = sort { $SortHash{$a} cmp $SortHash{$b} } ( keys %SortHash );\n        }\n        elsif ( $OptionRef->{Sort} eq 'IndividualKey' && $OptionRef->{SortIndividual} ) {\n            my %List = %{$DataLocal};\n            for my $Key ( @{ $OptionRef->{SortIndividual} } ) {\n                if ( $List{$Key} ) {\n                    push @SortKeys, $Key;\n                    delete $List{$Key};\n                }\n            }\n            push @SortKeys, sort { $List{$a} cmp $List{$b} } ( keys %List );\n        }\n        elsif ( $OptionRef->{Sort} eq 'IndividualValue' && $OptionRef->{SortIndividual} ) {\n\n            # already done before the translation\n        }\n        else {\n            @SortKeys\n                = sort { $DataLocal->{$a} cmp $DataLocal->{$b} } ( keys %{$DataLocal} );\n            $OptionRef->{Sort} = 'AlphanumericValue';\n        }\n\n        # create DataRef\n        for my $Row (@SortKeys) {\n            $DataRef->[$Counter]->{Key}   = $Row;\n            $DataRef->[$Counter]->{Value} = $DataLocal->{$Row};\n            $Counter++;\n        }\n    }\n\n    # if ArrayHashRef was given\n    elsif ( ref $DataLocal eq 'ARRAY' && ref $DataLocal->[0] eq 'HASH' ) {\n\n        # create DataRef\n        for my $Row ( @{$DataLocal} ) {\n            if ( ref $Row eq 'HASH' && defined $Row->{Key} ) {\n                $DataRef->[$Counter]->{Key}   = $Row->{Key};\n                $DataRef->[$Counter]->{Value} = $Row->{Value};\n\n                # translate value\n                if ( $OptionRef->{Translation} ) {\n                    $DataRef->[$Counter]->{Value}\n                        = $Self->{LanguageObject}->Get( $DataRef->[$Counter]->{Value} );\n                }\n\n                # set Selected and Disabled options\n                if ( $Row->{Selected} ) {\n                    $DataRef->[$Counter]->{Selected} = 1;\n                }\n                elsif ( $Row->{Disabled} ) {\n                    $DataRef->[$Counter]->{Disabled} = 1;\n                }\n                $Counter++;\n            }\n        }\n    }\n\n    # if ArrayRef was given\n    elsif ( ref $DataLocal eq 'ARRAY' ) {\n\n        # get missing parents and mark them for disable later\n        if ( $OptionRef->{Sort} eq 'TreeView' ) {\n            my %List = map { $_ => 1 } @{$DataLocal};\n\n            # get each data value\n            for my $Key ( sort keys %List ) {\n                my $Parents = '';\n\n                # try to split its parents (e.g. Queue or Service) GrandParent::Parent::Son\n                my @Elements = split /::/, $Key;\n\n                # get each element in the hierarchy\n                for my $Element (@Elements) {\n\n                    # add its own parents for the complete name\n                    my $ElementLongName = $Parents . $Element;\n\n                    # check if element exists in the original data or if it is already marked\n                    if ( !$List{$ElementLongName} && !$DisabledElements{$ElementLongName} ) {\n\n                        # mark element as disabled\n                        $DisabledElements{$ElementLongName} = 1;\n\n                        # add the element to the original data to be disabled later\n                        push @{$DataLocal}, $ElementLongName;\n                    }\n                    $Parents .= $Element . '::';\n                }\n            }\n        }\n\n        if ( $OptionRef->{Sort} eq 'IndividualValue' && $OptionRef->{SortIndividual} ) {\n            my %List = map { $_ => 1 } @{$DataLocal};\n            $DataLocal = [];\n            for my $Key ( @{ $OptionRef->{SortIndividual} } ) {\n                if ( $List{$Key} ) {\n                    push @{$DataLocal}, $Key;\n                    delete $List{$Key};\n                }\n            }\n            push @{$DataLocal}, sort { $a cmp $b } ( keys %List );\n        }\n\n        my %ReverseHash;\n\n        # translate value\n        if ( $OptionRef->{Translation} ) {\n            my @TranslateArray;\n            for my $Row ( @{$DataLocal} ) {\n                my $TranslateString = $Self->{LanguageObject}->Get($Row);\n                push @TranslateArray, $TranslateString;\n                $ReverseHash{$TranslateString} = $Row;\n            }\n            $DataLocal = \\@TranslateArray;\n        }\n        else {\n            for my $Row ( @{$DataLocal} ) {\n                $ReverseHash{$Row} = $Row;\n            }\n        }\n\n        # sort array\n        if ( $OptionRef->{Sort} eq 'AlphanumericKey' || $OptionRef->{Sort} eq 'AlphanumericValue' )\n        {\n            my @SortArray = sort( @{$DataLocal} );\n            $DataLocal = \\@SortArray;\n        }\n        elsif ( $OptionRef->{Sort} eq 'NumericKey' || $OptionRef->{Sort} eq 'NumericValue' ) {\n            my @SortArray = sort { $a <=> $b } ( @{$DataLocal} );\n            $DataLocal = \\@SortArray;\n        }\n        elsif ( $OptionRef->{Sort} eq 'TreeView' ) {\n\n            # sort array, add '::' in the comparison, for proper sort of Items with Items::SubItems\n            my @SortArray = sort { $a . '::' cmp $b . '::' } @{$DataLocal};\n            $DataLocal = \\@SortArray;\n        }\n\n        # create DataRef\n        for my $Row ( @{$DataLocal} ) {\n            $DataRef->[$Counter]->{Key}   = $ReverseHash{$Row};\n            $DataRef->[$Counter]->{Value} = $Row;\n            $Counter++;\n        }\n    }\n\n    # check disabled items on ArrayRef or HashRef only\n    if (\n        ref $DataLocal eq 'HASH'\n        || ( ref $DataLocal eq 'ARRAY' && ref $DataLocal->[0] ne 'HASH' )\n        )\n    {\n        for my $Row ( @{$DataRef} ) {\n            if ( $DisabledElements{ $Row->{Value} } ) {\n                $Row->{Key}      = '-';\n                $Row->{Disabled} = 1;\n            }\n        }\n    }\n\n    # DisabledBranch option\n    if ( $OptionRef->{DisabledBranch} ) {\n        for my $Row ( @{$DataRef} ) {\n            for my $Branch ( sort keys %{ $OptionRef->{DisabledBranch} } ) {\n                if ( $Row->{Value} =~ /^(\\Q$Branch\\E)$/ || $Row->{Value} =~ /^(\\Q$Branch\\E)::/ ) {\n                    $Row->{Disabled} = 1;\n                }\n            }\n        }\n    }\n\n    # Max option\n    # REMARK: Don't merge the Max handling with Ascii2Html function call of\n    # the HTMLQuote handling. In this case you lose the max handling if you\n    # deactivate HTMLQuote\n    if ( $OptionRef->{Max} ) {\n        for my $Row ( @{$DataRef} ) {\n\n            # REMARK: This is the same solution as in Ascii2Html\n            $Row->{Value} =~ s/^(.{$OptionRef->{Max}}).+?$/$1\\[\\.\\.\\]/gs;\n\n            #$Row->{Value} = substr( $Row->{Value}, 0, $OptionRef->{Max} );\n        }\n    }\n\n    # SortReverse option\n    if ( $OptionRef->{SortReverse} ) {\n        @{$DataRef} = reverse( @{$DataRef} );\n    }\n\n    # PossibleNone option\n    if ( $OptionRef->{PossibleNone} ) {\n        my %None;\n        $None{Key}   = '';\n        $None{Value} = '-';\n\n        unshift( @{$DataRef}, \\%None );\n    }\n\n    # SelectedID and SelectedValue option\n    if ( defined $OptionRef->{SelectedID} || $OptionRef->{SelectedValue} ) {\n        for my $Row ( @{$DataRef} ) {\n            if (\n                (\n                    $OptionRef->{SelectedID}->{ $Row->{Key} }\n                    || $OptionRef->{SelectedValue}->{ $Row->{Value} }\n                )\n                && !$DisabledElements{ $Row->{Value} }\n                )\n            {\n                $Row->{Selected} = 1;\n            }\n        }\n    }\n\n    # HTMLQuote option\n    if ( $OptionRef->{HTMLQuote} ) {\n        for my $Row ( @{$DataRef} ) {\n            $Row->{Key}   = $Self->Ascii2Html( Text => $Row->{Key} );\n            $Row->{Value} = $Self->Ascii2Html( Text => $Row->{Value} );\n        }\n    }\n\n    # TreeView option\n    if ( $OptionRef->{TreeView} ) {\n\n        ROW:\n        for my $Row ( @{$DataRef} ) {\n\n            next ROW if !$Row->{Value};\n\n            my @Fragment = split '::', $Row->{Value};\n            $Row->{Value} = pop @Fragment;\n\n            my $Space = '&nbsp;&nbsp;' x scalar @Fragment;\n            $Space ||= '';\n\n            $Row->{Value} = $Space . $Row->{Value};\n        }\n    }\n\n    return $DataRef;\n}\n\n=item _BuildSelectionOutput()\n\ncreate the html string\n\n    my $HTMLString = $LayoutObject->_BuildSelectionOutput(\n        AttributeRef => $AttributeRef,\n        DataRef => $DataRef,\n    );\n\n    my $AttributeRef = {\n        name => 'TheName',\n        multiple => undef,\n        size => 5,\n    }\n\n    my $DataRef  = [\n        {\n            Key => 11,\n            Value => 'Text',\n            Disabled => 1,\n        },\n        {\n            Key => 'abc',\n            Value => '&nbsp;&nbsp;Text',\n            Selected => 1,\n        },\n    ];\n\n=cut\n\nsub _BuildSelectionOutput {\n    my ( $Self, %Param ) = @_;\n\n    # start generation, if AttributeRef and DataRef was found\n    my $String;\n    if ( $Param{AttributeRef} && $Param{DataRef} ) {\n\n        # generate <select> row\n        $String = '<select';\n        for my $Key ( sort keys %{ $Param{AttributeRef} } ) {\n            if ( $Key && defined $Param{AttributeRef}->{$Key} ) {\n                $String .= \" $Key=\\\"$Param{AttributeRef}->{$Key}\\\"\";\n            }\n            elsif ($Key) {\n                $String .= \" $Key\";\n            }\n        }\n        $String .= \">\\n\";\n\n        # generate <option> rows\n        for my $Row ( @{ $Param{DataRef} } ) {\n            my $Key = '';\n            if ( defined $Row->{Key} ) {\n                $Key = $Row->{Key};\n            }\n            my $Value = '';\n            if ( defined $Row->{Value} ) {\n                $Value = $Row->{Value};\n            }\n            my $SelectedDisabled = '';\n            if ( $Row->{Selected} ) {\n                $SelectedDisabled = ' selected=\"selected\"';\n            }\n            elsif ( $Row->{Disabled} ) {\n                $SelectedDisabled = ' disabled=\"disabled\"';\n            }\n            my $OptionTitle = '';\n            if ( $Param{OptionTitle} ) {\n                $OptionTitle = ' title=\"' . $Value . '\"';\n            }\n            $String .= \"  <option value=\\\"$Key\\\"$SelectedDisabled$OptionTitle>$Value</option>\\n\";\n        }\n        $String .= '</select>';\n    }\n    return $String;\n}\n\nsub _DisableBannerCheck {\n    my ( $Self, %Param ) = @_;\n\n    return 1 if !$Self->{ConfigObject}->Get('Secure::DisableBanner');\n    return   if !$Param{OutputRef};\n\n    # remove the version tag from the header\n    ${ $Param{OutputRef} } =~ s{\n                ^ X-Powered-By: .+? Open \\s Ticket \\s Request \\s System \\s \\(http .+? \\)$ \\n\n            }{}smx;\n\n    return 1;\n}\n\n=item _RemoveScriptTags()\n\nThis function will remove the surrounding <script> tags of a\npiece of JavaScript code, if they are present, and return the result.\n\n    my $CodeContent = $LayoutObject->_RemoveScriptTags(Code => $SomeCode);\n\n=cut\n\nsub _RemoveScriptTags {\n    my ( $Self, %Param ) = @_;\n\n    my $Code = $Param{Code} || '';\n\n    if ( $Code =~ m/<script/ ) {\n\n        # cut out dtl block comments of already replaced dtl blocks\n        $Code =~ s{\n            ^\n            <!--\n            \\/?\n            \\w+\n            -->\n            \\r?\\n\n        }{}smxg;\n\n        # cut out opening script tags\n        $Code =~ s{\n            <script[^>]+>\n            (?:\\s*<!--)?\n            (?:\\s*//\\s*<!\\[CDATA\\[)?\n        }\n        {}smxg;\n\n        # cut out closing script tags\n        $Code =~ s{\n            (?:-->\\s*)?\n            (?://\\s*\\]\\]>\\s*)?\n            </script>\n        }{}smxg;\n\n    }\n    return $Code;\n}\n\n=item WrapPlainText()\n\nThis sub has two main functionalities:\n1. Check every line and make sure that \"\\n\" is the ending of the line.\n2. If the line does _not_ start with \">\" (e.g. not cited text)\nwrap it after the number of \"MaxCharacters\" (e.g. if MaxCharacters is \"80\" wrap after 80 characters).\nDo this _just_ if the line, that should be wrapped, contains space characters at which the line can be wrapped.\n\nIf you need more info to understand what it does, take a look at the UnitTest WrapPlainText.t to see\nuse cases there.\n\nmy $WrappedPlainText = $LayoutObject->WrapPlainText(\n    PlainText     => \"Some Plain text that is longer than the amount stored in MaxCharacters\",\n    MaxCharacters => 80,\n);\n\n=cut\n\nsub WrapPlainText {\n    my ( $Self, %Param ) = @_;\n\n    # Return if we did not get MaxCharacters\n    # or MaxCharacters doesn't contain just an int\n    if ( !IsPositiveInteger( $Param{MaxCharacters} ) ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => \"Got no or invalid MaxCharacters!\",\n        );\n        return;\n    }\n\n    # Return if we didn't get PlainText\n    if ( !defined $Param{PlainText} ) {\n        return;\n    }\n\n    # Return if we got no Scalar\n    if ( ref $Param{PlainText} ) {\n        $Self->{LogObject}->Log(\n            Priority => 'error',\n            Message  => \"Had no string in PlainText!\",\n        );\n        return;\n    }\n\n    # Return PlainText if we have less than MaxCharacters\n    if ( length $Param{PlainText} < $Param{MaxCharacters} ) {\n        return $Param{PlainText};\n    }\n\n    my $WorkString = $Param{PlainText};\n    $WorkString =~ s/(^>.+|.{4,$Param{MaxCharacters}})(?:\\s|\\z)/$1\\n/gm;\n    return $WorkString;\n}\n\n#COMPAT: to 3.0.x and lower (can be removed later)\nsub TransfromDateSelection {\n    my $Self = shift;\n\n    return $Self->TransformDateSelection(@_);\n}\n\n1;\n\n=end Internal:\n\n=back\n\n=head1 TERMS AND CONDITIONS\n\nThis software is part of the OTRS project (L<http://otrs.org/>).\n\nThis software comes with ABSOLUTELY NO WARRANTY. For details, see\nthe enclosed file COPYING for license information (AGPL). If you\ndid not receive this file, see L<http://www.gnu.org/licenses/agpl.txt>.\n\n=cut\n"], "filenames": ["CHANGES.md", "Kernel/Modules/CustomerPreferences.pm", "Kernel/Modules/CustomerTicketMessage.pm", "Kernel/Modules/CustomerTicketProcess.pm", "Kernel/Modules/CustomerTicketZoom.pm", "Kernel/Output/HTML/Layout.pm"], "buggy_code_start_loc": [1, 47, 195, 230, 307, 1154], "buggy_code_end_loc": [1, 48, 195, 231, 307, 1159], "fixing_code_start_loc": [2, 47, 196, 230, 308, 1154], "fixing_code_end_loc": [3, 48, 200, 231, 312, 1165], "type": "CWE-352", "message": "Multiple cross-site request forgery (CSRF) vulnerabilities in (1) CustomerPreferences.pm, (2) CustomerTicketMessage.pm, (3) CustomerTicketProcess.pm, and (4) CustomerTicketZoom.pm in Kernel/Modules/ in Open Ticket Request System (OTRS) 3.1.x before 3.1.19, 3.2.x before 3.2.14, and 3.3.x before 3.3.4 allow remote attackers to hijack the authentication of arbitrary users for requests that (5) create tickets or (6) send follow-ups to existing tickets.", "other": {"cve": {"id": "CVE-2014-1694", "sourceIdentifier": "cve@mitre.org", "published": "2014-02-04T21:55:05.640", "lastModified": "2014-03-06T04:50:55.003", "vulnStatus": "Modified", "descriptions": [{"lang": "en", "value": "Multiple cross-site request forgery (CSRF) vulnerabilities in (1) CustomerPreferences.pm, (2) CustomerTicketMessage.pm, (3) CustomerTicketProcess.pm, and (4) CustomerTicketZoom.pm in Kernel/Modules/ in Open Ticket Request System (OTRS) 3.1.x before 3.1.19, 3.2.x before 3.2.14, and 3.3.x before 3.3.4 allow remote attackers to hijack the authentication of arbitrary users for requests that (5) create tickets or (6) send follow-ups to existing tickets."}, {"lang": "es", "value": "M\u00faltiples vulnerabilidades de CSRF en (1)  CustomerPreferences.pm, (2) CustomerTicketMessage.pm, (3) CustomerTicketProcess.pm y (4) CustomerTicketZoom.pm en Kernel/Modules/ en Open Ticket Request System (OTRS) 3.1.x anterior a 3.1.19, 3.2.x anterior a 3.2.14 y 3.3.x anterior a 3.3.4 permite a atacantes remotos secuestrar la auntenticaci\u00f3n de usuarios arbitrarios para solicitudes que (5) crean tickets o (6) env\u00edan seguimientos a tickets existentes."}], "metrics": {"cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:M/Au:N/C:P/I:P/A:P", "accessVector": "NETWORK", "accessComplexity": "MEDIUM", "authentication": "NONE", "confidentialityImpact": "PARTIAL", "integrityImpact": "PARTIAL", "availabilityImpact": "PARTIAL", "baseScore": 6.8}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.6, "impactScore": 6.4, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": true}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-352"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.0:*:*:*:*:*:*:*", "matchCriteriaId": "2206E940-7C63-43A5-A041-CA13A84312A4"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.0:beta1:*:*:*:*:*:*", "matchCriteriaId": "EB051883-3917-414F-8A36-B51E833451E7"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.0:beta2:*:*:*:*:*:*", "matchCriteriaId": "445641C8-5D1E-463E-8C00-1CD4E18B2B5E"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.0:beta3:*:*:*:*:*:*", "matchCriteriaId": "24C72855-1DF6-4456-A68A-89458C2EA7D1"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.0:beta4:*:*:*:*:*:*", "matchCriteriaId": "A84F186F-D5F9-4968-BA39-2B44FFD2119F"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.0:beta5:*:*:*:*:*:*", "matchCriteriaId": "2F58F68B-CCB5-408B-A721-05E355E9A2EA"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.0:rc1:*:*:*:*:*:*", "matchCriteriaId": "9C41A2AB-BED9-4185-A71B-23F6CF101DA9"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.1:*:*:*:*:*:*:*", "matchCriteriaId": "EADC2C11-F0BB-4763-9B7D-D8ACCD259DA1"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.2:*:*:*:*:*:*:*", "matchCriteriaId": "4BF18770-E861-4689-9040-A6E4BCB03D88"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.3:*:*:*:*:*:*:*", "matchCriteriaId": "77E1C1A9-4835-467D-8FA9-D93814634476"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.4:*:*:*:*:*:*:*", "matchCriteriaId": "097B8F4A-66E7-46E9-B624-EA26F8687181"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.5:*:*:*:*:*:*:*", "matchCriteriaId": "5B223E5A-9A4B-466B-BC0F-4C0400E70E64"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.6:*:*:*:*:*:*:*", "matchCriteriaId": "A30D8237-63CD-4075-B533-3E537A5B0D42"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.7:*:*:*:*:*:*:*", "matchCriteriaId": "8821F99A-24D8-483E-AD56-AA5D34BF47FF"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.8:*:*:*:*:*:*:*", "matchCriteriaId": "C0B6966E-47DA-4852-87E0-E768CCE07012"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.9:*:*:*:*:*:*:*", "matchCriteriaId": "F638AF98-56CC-44A3-94E7-B7CCBAAFCE8F"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.2.10:*:*:*:*:*:*:*", "matchCriteriaId": "F52F5362-FFE8-49F4-97A9-2BE4D855AF3A"}]}]}, {"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.0:*:*:*:*:*:*:*", "matchCriteriaId": "55EB05A1-9965-40D2-BABF-A666BE857166"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.1:*:*:*:*:*:*:*", "matchCriteriaId": "777A992E-1D05-493F-8E2F-15AB3F2A4562"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.2:*:*:*:*:*:*:*", "matchCriteriaId": "828189F1-EF8B-485C-946F-C12CCEE4E27D"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.3:*:*:*:*:*:*:*", "matchCriteriaId": "3D8020EA-A636-4C9B-A080-3EF092DF583B"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.4:*:*:*:*:*:*:*", "matchCriteriaId": "9C3C84E0-F4C1-4BDC-B7C1-519C4499FEC5"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.5:*:*:*:*:*:*:*", "matchCriteriaId": "51877344-2358-400D-89D5-6273992571FC"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.6:*:*:*:*:*:*:*", "matchCriteriaId": "9FC3B407-4C93-422F-800B-E747068826E8"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.7:*:*:*:*:*:*:*", "matchCriteriaId": "52A10F00-2869-4DDE-9548-B374EBC14C12"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.8:*:*:*:*:*:*:*", "matchCriteriaId": "6BF985A8-DB88-47DA-9F9A-B63F727D8239"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.9:*:*:*:*:*:*:*", "matchCriteriaId": "7A1D5FC4-BDFC-4D46-B722-8BFAC91C819F"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.10:*:*:*:*:*:*:*", "matchCriteriaId": "5189FACC-454A-4AFD-A08C-0F4F7158EDEB"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.11:*:*:*:*:*:*:*", "matchCriteriaId": "5959FA82-043D-42A6-BB7A-C4D37350C5C9"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.13:*:*:*:*:*:*:*", "matchCriteriaId": "C7DC1416-3EBF-4FA9-9A4E-0737BFFD4DA1"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.14:*:*:*:*:*:*:*", "matchCriteriaId": "B30DBAFD-3213-4473-8F3A-783035D6ED9A"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.15:*:*:*:*:*:*:*", "matchCriteriaId": "D1729DB9-48DB-49D5-8F81-567D01B91866"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.16:*:*:*:*:*:*:*", "matchCriteriaId": "EB3AF271-B4CA-4217-A96A-835133AF517B"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.17:*:*:*:*:*:*:*", "matchCriteriaId": "EDF17BC5-DEB1-47A1-9734-14F56F0B8DDB"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.1.18:*:*:*:*:*:*:*", "matchCriteriaId": "C9A73332-DDB0-4C16-BB5B-4C4A3F90BF8C"}]}]}, {"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.3.0:*:*:*:*:*:*:*", "matchCriteriaId": "4B4C9653-D2B6-4A2E-A1E3-59D9E47D4F4D"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.3.0:beta1:*:*:*:*:*:*", "matchCriteriaId": "F950A3B9-9347-4271-9AE2-816BB37F2FF2"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.3.0:beta2:*:*:*:*:*:*", "matchCriteriaId": "78F12260-F695-492E-9F93-34873E8CD42B"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.3.0:beta3:*:*:*:*:*:*", "matchCriteriaId": "2CFBFFA0-A57E-44A8-9D37-25AD4D0D36F1"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.3.0:beta4:*:*:*:*:*:*", "matchCriteriaId": "C2ACF399-6BD0-4753-A8FA-A7031C5E898D"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.3.0:beta5:*:*:*:*:*:*", "matchCriteriaId": "E314819D-7CF9-4DCC-8007-CFE73F3138A3"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.3.0:rc1:*:*:*:*:*:*", "matchCriteriaId": "1D286118-DA1F-43A4-9B0B-9A340887EA88"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.3.1:*:*:*:*:*:*:*", "matchCriteriaId": "82E2C445-2CC0-4F4E-BF4E-C2987E273448"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.3.2:*:*:*:*:*:*:*", "matchCriteriaId": "DAB02A9C-AE23-4DF6-88E7-A606A3483036"}, {"vulnerable": true, "criteria": "cpe:2.3:a:otrs:otrs:3.3.3:*:*:*:*:*:*:*", "matchCriteriaId": "D1AEB95F-BF0E-42DE-BB47-3CB10BB27DA7"}]}]}], "references": [{"url": "http://bugs.otrs.org/show_bug.cgi?id=10099", "source": "cve@mitre.org"}, {"url": "http://www.debian.org/security/2014/dsa-2867", "source": "cve@mitre.org"}, {"url": "http://www.openwall.com/lists/oss-security/2014/01/29/15", "source": "cve@mitre.org"}, {"url": "http://www.openwall.com/lists/oss-security/2014/01/29/7", "source": "cve@mitre.org"}, {"url": "https://github.com/OTRS/otrs/commit/6f324aaf8647729d509eebf063a0181f9f9196f7", "source": "cve@mitre.org", "tags": ["Exploit", "Patch"]}, {"url": "https://github.com/OTRS/otrs/commit/92f417277f43832f1a0462f2485fe1fd3fd52312", "source": "cve@mitre.org", "tags": ["Exploit", "Patch"]}, {"url": "https://github.com/OTRS/otrs/commit/ca2c3390fd60d9a3f810ed2c22cbc2c193457b77", "source": "cve@mitre.org", "tags": ["Exploit", "Patch"]}, {"url": "https://www.otrs.com/release-notes-otrs-help-desk-3-3-4", "source": "cve@mitre.org"}, {"url": "https://www.otrs.com/security-advisory-2014-01-csrf-issue-customer-web-interface", "source": "cve@mitre.org", "tags": ["Patch", "Vendor Advisory"]}]}, "github_commit_url": "https://github.com/OTRS/otrs/commit/6f324aaf8647729d509eebf063a0181f9f9196f7"}}