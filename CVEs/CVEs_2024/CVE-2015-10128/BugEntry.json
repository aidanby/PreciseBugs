{"buggy_code": ["/* ------------------------------------------------------------------------\n\tClass: prettyPhoto\n\tUse: Lightbox clone for jQuery\n\tAuthor: Stephane Caron (http://www.no-margin-for-errors.com)\n\tVersion: 3.1.5\n------------------------------------------------------------------------- */\n(function(e){function t(){var e=location.href;hashtag=e.indexOf(\"#prettyPhoto\")!==-1?decodeURI(e.substring(e.indexOf(\"#prettyPhoto\")+1,e.length)):false;return hashtag}function n(){if(typeof theRel==\"undefined\")return;location.hash=theRel+\"/\"+rel_index+\"/\"}function r(){if(location.href.indexOf(\"#prettyPhoto\")!==-1)location.hash=\"prettyPhoto\"}function i(e,t){e=e.replace(/[\\[]/,\"\\\\[\").replace(/[\\]]/,\"\\\\]\");var n=\"[\\\\?&]\"+e+\"=([^&#]*)\";var r=new RegExp(n);var i=r.exec(t);return i==null?\"\":i[1]}e.prettyPhoto={version:\"3.1.5\"};e.fn.prettyPhoto=function(s){function g(){e(\".pp_loaderIcon\").hide();projectedTop=scroll_pos[\"scrollTop\"]+(d/2-a[\"containerHeight\"]/2);if(projectedTop<0)projectedTop=0;$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find(\".pp_content\").animate({height:a[\"contentHeight\"],width:a[\"contentWidth\"]},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:v/2-a[\"containerWidth\"]/2<0?0:v/2-a[\"containerWidth\"]/2,width:a[\"containerWidth\"]},settings.animation_speed,function(){$pp_pic_holder.find(\".pp_hoverContainer,#fullResImage\").height(a[\"height\"]).width(a[\"width\"]);$pp_pic_holder.find(\".pp_fade\").fadeIn(settings.animation_speed);if(isSet&&S(pp_images[set_position])==\"image\"){$pp_pic_holder.find(\".pp_hoverContainer\").show()}else{$pp_pic_holder.find(\".pp_hoverContainer\").hide()}if(settings.allow_expand){if(a[\"resized\"]){e(\"a.pp_expand,a.pp_contract\").show()}else{e(\"a.pp_expand\").hide()}}if(settings.autoplay_slideshow&&!m&&!f)e.prettyPhoto.startSlideshow();settings.changepicturecallback();f=true});C();s.ajaxcallback()}function y(t){$pp_pic_holder.find(\"#pp_full_res object,#pp_full_res embed\").css(\"visibility\",\"hidden\");$pp_pic_holder.find(\".pp_fade\").fadeOut(settings.animation_speed,function(){e(\".pp_loaderIcon\").show();t()})}function b(t){t>1?e(\".pp_nav\").show():e(\".pp_nav\").hide()}function w(e,t){resized=false;E(e,t);imageWidth=e,imageHeight=t;if((p>v||h>d)&&doresize&&settings.allow_resize&&!u){resized=true,fitting=false;while(!fitting){if(p>v){imageWidth=v-200;imageHeight=t/e*imageWidth}else if(h>d){imageHeight=d-200;imageWidth=e/t*imageHeight}else{fitting=true}h=imageHeight,p=imageWidth}if(p>v||h>d){w(p,h)}E(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(h),containerWidth:Math.floor(p)+settings.horizontal_padding*2,contentHeight:Math.floor(l),contentWidth:Math.floor(c),resized:resized}}function E(t,n){t=parseFloat(t);n=parseFloat(n);$pp_details=$pp_pic_holder.find(\".pp_details\");$pp_details.width(t);detailsHeight=parseFloat($pp_details.css(\"marginTop\"))+parseFloat($pp_details.css(\"marginBottom\"));$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e(\"body\")).css({position:\"absolute\",top:-1e4});detailsHeight+=$pp_details.height();detailsHeight=detailsHeight<=34?36:detailsHeight;$pp_details.remove();$pp_title=$pp_pic_holder.find(\".ppt\");$pp_title.width(t);titleHeight=parseFloat($pp_title.css(\"marginTop\"))+parseFloat($pp_title.css(\"marginBottom\"));$pp_title=$pp_title.clone().appendTo(e(\"body\")).css({position:\"absolute\",top:-1e4});titleHeight+=$pp_title.height();$pp_title.remove();l=n+detailsHeight;c=t;h=l+titleHeight+$pp_pic_holder.find(\".pp_top\").height()+$pp_pic_holder.find(\".pp_bottom\").height();p=t}function S(e){if(e.match(/youtube\\.com\\/watch/i)||e.match(/youtu\\.be/i)){return\"youtube\"}else if(e.match(/vimeo\\.com/i)){return\"vimeo\"}else if(e.match(/\\b.mov\\b/i)){return\"quicktime\"}else if(e.match(/\\b.swf\\b/i)){return\"flash\"}else if(e.match(/\\biframe=true\\b/i)){return\"iframe\"}else if(e.match(/\\bajax=true\\b/i)){return\"ajax\"}else if(e.match(/\\bcustom=true\\b/i)){return\"custom\"}else if(e.substr(0,1)==\"#\"){return\"inline\"}else{return\"image\"}}function x(){if(doresize&&typeof $pp_pic_holder!=\"undefined\"){scroll_pos=T();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=d/2+scroll_pos[\"scrollTop\"]-contentHeight/2;if(projectedTop<0)projectedTop=0;if(contentHeight>d)return;$pp_pic_holder.css({top:projectedTop,left:v/2+scroll_pos[\"scrollLeft\"]-contentwidth/2})}}function T(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}}else if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}}function N(){d=e(window).height(),v=e(window).width();if(typeof $pp_overlay!=\"undefined\")$pp_overlay.height(e(document).height()).width(v)}function C(){if(isSet&&settings.overlay_gallery&&S(pp_images[set_position])==\"image\"){itemWidth=52+5;navWidth=settings.theme==\"facebook\"||settings.theme==\"pp_default\"?50:30;itemsPerPage=Math.floor((a[\"containerWidth\"]-100-navWidth)/itemWidth);itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find(\".pp_arrow_next,.pp_arrow_previous\").hide()}else{$pp_gallery.find(\".pp_arrow_next,.pp_arrow_previous\").show()}galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css(\"margin-left\",-(galleryWidth/2+navWidth/2)).find(\"div:first\").width(galleryWidth+5).find(\"ul\").width(fullGalleryWidth).find(\"li.selected\").removeClass(\"selected\");goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage;e.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(\":eq(\"+set_position+\")\").addClass(\"selected\")}else{$pp_pic_holder.find(\".pp_content\").unbind(\"mouseenter mouseleave\")}}function k(t){if(settings.social_tools)facebook_like_link=settings.social_tools.replace(\"{location_href}\",encodeURIComponent(location.href));settings.markup=settings.markup.replace(\"{pp_social}\",\"\");e(\"body\").append(settings.markup);$pp_pic_holder=e(\".pp_pic_holder\"),$ppt=e(\".ppt\"),$pp_overlay=e(\"div.pp_overlay\");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject=\"\";for(var n=0;n<pp_images.length;n++){if(!pp_images[n].match(/\\b(jpg|jpeg|png|gif)\\b/gi)){classname=\"default\";img_src=\"\"}else{classname=\"\";img_src=pp_images[n]}toInject+=\"<li class='\"+classname+\"'><a href='#'><img src='\"+img_src+\"' width='50' alt='' /></a></li>\"}toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find(\"#pp_full_res\").after(toInject);$pp_gallery=e(\".pp_pic_holder .pp_gallery\"),$pp_gallery_li=$pp_gallery.find(\"li\");$pp_gallery.find(\".pp_arrow_next\").click(function(){e.prettyPhoto.changeGalleryPage(\"next\");e.prettyPhoto.stopSlideshow();return false});$pp_gallery.find(\".pp_arrow_previous\").click(function(){e.prettyPhoto.changeGalleryPage(\"previous\");e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(\".pp_content\").hover(function(){$pp_pic_holder.find(\".pp_gallery:not(.disabled)\").fadeIn()},function(){$pp_pic_holder.find(\".pp_gallery:not(.disabled)\").fadeOut()});itemWidth=52+5;$pp_gallery_li.each(function(t){e(this).find(\"a\").click(function(){e.prettyPhoto.changePage(t);e.prettyPhoto.stopSlideshow();return false})})}if(settings.slideshow){$pp_pic_holder.find(\".pp_nav\").prepend('<a href=\"#\" class=\"pp_play\">Play</a>');$pp_pic_holder.find(\".pp_nav .pp_play\").click(function(){e.prettyPhoto.startSlideshow();return false})}$pp_pic_holder.attr(\"class\",\"pp_pic_holder \"+settings.theme);$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind(\"click\",function(){if(!settings.modal)e.prettyPhoto.close()});e(\"a.pp_close\").bind(\"click\",function(){e.prettyPhoto.close();return false});if(settings.allow_expand){e(\"a.pp_expand\").bind(\"click\",function(t){if(e(this).hasClass(\"pp_expand\")){e(this).removeClass(\"pp_expand\").addClass(\"pp_contract\");doresize=false}else{e(this).removeClass(\"pp_contract\").addClass(\"pp_expand\");doresize=true}y(function(){e.prettyPhoto.open()});return false})}$pp_pic_holder.find(\".pp_previous, .pp_nav .pp_arrow_previous\").bind(\"click\",function(){e.prettyPhoto.changePage(\"previous\");e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(\".pp_next, .pp_nav .pp_arrow_next\").bind(\"click\",function(){e.prettyPhoto.changePage(\"next\");e.prettyPhoto.stopSlideshow();return false});x()}s=jQuery.extend({hook:\"rel\",animation_speed:\"fast\",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:false,opacity:.8,show_title:true,allow_resize:true,allow_expand:true,default_width:500,default_height:344,counter_separator_label:\"/\",theme:\"pp_default\",horizontal_padding:20,hideflash:false,wmode:\"opaque\",autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,overlay_gallery_max:30,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class=\"pp_pic_holder\"> \t\t\t\t\t\t<div class=\"ppt\">\u00a0</div> \t\t\t\t\t\t<div class=\"pp_top\"> \t\t\t\t\t\t\t<div class=\"pp_left\"></div> \t\t\t\t\t\t\t<div class=\"pp_middle\"></div> \t\t\t\t\t\t\t<div class=\"pp_right\"></div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class=\"pp_content_container\"> \t\t\t\t\t\t\t<div class=\"pp_left\"> \t\t\t\t\t\t\t<div class=\"pp_right\"> \t\t\t\t\t\t\t\t<div class=\"pp_content\"> \t\t\t\t\t\t\t\t\t<div class=\"pp_loaderIcon\"></div> \t\t\t\t\t\t\t\t\t<div class=\"pp_fade\"> \t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_expand\" title=\"Expand the image\">Expand</a> \t\t\t\t\t\t\t\t\t\t<div class=\"pp_hoverContainer\"> \t\t\t\t\t\t\t\t\t\t\t<a class=\"pp_next\" href=\"#\">next</a> \t\t\t\t\t\t\t\t\t\t\t<a class=\"pp_previous\" href=\"#\">previous</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t<div id=\"pp_full_res\"></div> \t\t\t\t\t\t\t\t\t\t<div class=\"pp_details\"> \t\t\t\t\t\t\t\t\t\t\t<div class=\"pp_nav\"> \t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \t\t\t\t\t\t\t\t\t\t\t\t<p class=\"currentTextHolder\">0/0</p> \t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_next\">Next</a> \t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t<p class=\"pp_description\"></p> \t\t\t\t\t\t\t\t\t\t\t<div class=\"pp_social\">{pp_social}</div> \t\t\t\t\t\t\t\t\t\t\t<a class=\"pp_close\" href=\"#\">Close</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class=\"pp_bottom\"> \t\t\t\t\t\t\t<div class=\"pp_left\"></div> \t\t\t\t\t\t\t<div class=\"pp_middle\"></div> \t\t\t\t\t\t\t<div class=\"pp_right\"></div> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<div class=\"pp_overlay\"></div>',gallery_markup:'<div class=\"pp_gallery\"> \t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \t\t\t\t\t\t\t\t<div> \t\t\t\t\t\t\t\t\t<ul> \t\t\t\t\t\t\t\t\t\t{gallery} \t\t\t\t\t\t\t\t\t</ul> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_next\">Next</a> \t\t\t\t\t\t\t</div>',image_markup:'<img id=\"fullResImage\" src=\"{path}\" />',flash_markup:'<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"{width}\" height=\"{height}\"><param name=\"wmode\" value=\"{wmode}\" /><param name=\"allowfullscreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"movie\" value=\"{path}\" /><embed src=\"{path}\" type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowscriptaccess=\"always\" width=\"{width}\" height=\"{height}\" wmode=\"{wmode}\"></embed></object>',quicktime_markup:'<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" codebase=\"http://www.apple.com/qtactivex/qtplugin.cab\" height=\"{height}\" width=\"{width}\"><param name=\"src\" value=\"{path}\"><param name=\"autoplay\" value=\"{autoplay}\"><param name=\"type\" value=\"video/quicktime\"><embed src=\"{path}\" height=\"{height}\" width=\"{width}\" autoplay=\"{autoplay}\" type=\"video/quicktime\" pluginspage=\"http://www.apple.com/quicktime/download/\"></embed></object>',iframe_markup:'<iframe src =\"{path}\" width=\"{width}\" height=\"{height}\" frameborder=\"no\"></iframe>',inline_markup:'<div class=\"pp_inline\">{content}</div>',custom_markup:\"\",social_tools:'<div class=\"twitter\"><a href=\"http://twitter.com/share\" class=\"twitter-share-button\" data-count=\"none\">Tweet</a><script type=\"text/javascript\" src=\"http://platform.twitter.com/widgets.js\"></script></div><div class=\"facebook\"><iframe src=\"//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23\" scrolling=\"no\" frameborder=\"0\" style=\"border:none; overflow:hidden; width:500px; height:23px;\" allowTransparency=\"true\"></iframe></div>'},s);var o=this,u=false,a,f,l,c,h,p,d=e(window).height(),v=e(window).width(),m;doresize=true,scroll_pos=T();e(window).unbind(\"resize.prettyphoto\").bind(\"resize.prettyphoto\",function(){x();N()});if(s.keyboard_shortcuts){e(document).unbind(\"keydown.prettyphoto\").bind(\"keydown.prettyphoto\",function(t){if(typeof $pp_pic_holder!=\"undefined\"){if($pp_pic_holder.is(\":visible\")){switch(t.keyCode){case 37:e.prettyPhoto.changePage(\"previous\");t.preventDefault();break;case 39:e.prettyPhoto.changePage(\"next\");t.preventDefault();break;case 27:if(!settings.modal)e.prettyPhoto.close();t.preventDefault();break}}}})}e.prettyPhoto.initialize=function(){settings=s;if(settings.theme==\"pp_default\")settings.horizontal_padding=16;theRel=e(this).attr(settings.hook);galleryRegExp=/\\[(?:.*)\\]/;isSet=galleryRegExp.exec(theRel)?true:false;pp_images=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr(\"href\")}):e.makeArray(e(this).attr(\"href\"));pp_titles=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).find(\"img\").attr(\"alt\")?e(t).find(\"img\").attr(\"alt\"):\"\"}):e.makeArray(e(this).find(\"img\").attr(\"alt\"));pp_descriptions=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr(\"title\")?e(t).attr(\"title\"):\"\"}):e.makeArray(e(this).attr(\"title\"));if(pp_images.length>settings.overlay_gallery_max)settings.overlay_gallery=false;set_position=jQuery.inArray(e(this).attr(\"href\"),pp_images);rel_index=isSet?set_position:e(\"a[\"+settings.hook+\"^='\"+theRel+\"']\").index(e(this));k(this);if(settings.allow_resize)e(window).bind(\"scroll.prettyphoto\",function(){x()});e.prettyPhoto.open();return false};e.prettyPhoto.open=function(t){if(typeof settings==\"undefined\"){settings=s;pp_images=e.makeArray(arguments[0]);pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray(\"\");pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray(\"\");isSet=pp_images.length>1?true:false;set_position=arguments[3]?arguments[3]:0;k(t.target)}if(settings.hideflash)e(\"object,embed,iframe[src*=youtube],iframe[src*=vimeo]\").css(\"visibility\",\"hidden\");b(e(pp_images).size());e(\".pp_loaderIcon\").show();if(settings.deeplinking)n();if(settings.social_tools){facebook_like_link=settings.social_tools.replace(\"{location_href}\",encodeURIComponent(location.href));$pp_pic_holder.find(\".pp_social\").html(facebook_like_link)}if($ppt.is(\":hidden\"))$ppt.css(\"opacity\",0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(\".currentTextHolder\").text(set_position+1+settings.counter_separator_label+e(pp_images).size());if(typeof pp_descriptions[set_position]!=\"undefined\"&&pp_descriptions[set_position]!=\"\"){$pp_pic_holder.find(\".pp_description\").show().html(unescape(pp_descriptions[set_position]))}else{$pp_pic_holder.find(\".pp_description\").hide()}movie_width=parseFloat(i(\"width\",pp_images[set_position]))?i(\"width\",pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(i(\"height\",pp_images[set_position]))?i(\"height\",pp_images[set_position]):settings.default_height.toString();u=false;if(movie_height.indexOf(\"%\")!=-1){movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150);u=true}if(movie_width.indexOf(\"%\")!=-1){movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150);u=true}$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=\"\"&&typeof pp_titles[set_position]!=\"undefined\"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html(\"\u00a0\");imgPreloader=\"\";skipInjection=false;switch(S(pp_images[set_position])){case\"image\":imgPreloader=new Image;nextImage=new Image;if(isSet&&set_position<e(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image;if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position-1];$pp_pic_holder.find(\"#pp_full_res\")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){a=w(imgPreloader.width,imgPreloader.height);g()};imgPreloader.onerror=function(){alert(\"Image cannot be loaded. Make sure the path is correct and image exist.\");e.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case\"youtube\":a=w(movie_width,movie_height);movie_id=i(\"v\",pp_images[set_position]);if(movie_id==\"\"){movie_id=pp_images[set_position].split(\"youtu.be/\");movie_id=movie_id[1];if(movie_id.indexOf(\"?\")>0)movie_id=movie_id.substr(0,movie_id.indexOf(\"?\"));if(movie_id.indexOf(\"&\")>0)movie_id=movie_id.substr(0,movie_id.indexOf(\"&\"))}movie=\"http://www.youtube.com/embed/\"+movie_id;i(\"rel\",pp_images[set_position])?movie+=\"?rel=\"+i(\"rel\",pp_images[set_position]):movie+=\"?rel=1\";if(settings.autoplay)movie+=\"&autoplay=1\";toInject=settings.iframe_markup.replace(/{width}/g,a[\"width\"]).replace(/{height}/g,a[\"height\"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case\"vimeo\":a=w(movie_width,movie_height);movie_id=pp_images[set_position];var t=/http(s?):\\/\\/(www\\.)?vimeo.com\\/(\\d+)/;var n=movie_id.match(t);movie=\"http://player.vimeo.com/video/\"+n[3]+\"?title=0&byline=0&portrait=0\";if(settings.autoplay)movie+=\"&autoplay=1;\";vimeo_width=a[\"width\"]+\"/embed/?moog_width=\"+a[\"width\"];toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,a[\"height\"]).replace(/{path}/g,movie);break;case\"quicktime\":a=w(movie_width,movie_height);a[\"height\"]+=15;a[\"contentHeight\"]+=15;a[\"containerHeight\"]+=15;toInject=settings.quicktime_markup.replace(/{width}/g,a[\"width\"]).replace(/{height}/g,a[\"height\"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case\"flash\":a=w(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf(\"flashvars\")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf(\"?\"));toInject=settings.flash_markup.replace(/{width}/g,a[\"width\"]).replace(/{height}/g,a[\"height\"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+\"?\"+flash_vars);break;case\"iframe\":a=w(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf(\"iframe\")-1);toInject=settings.iframe_markup.replace(/{width}/g,a[\"width\"]).replace(/{height}/g,a[\"height\"]).replace(/{path}/g,frame_url);break;case\"ajax\":doresize=false;a=w(movie_width,movie_height);doresize=true;skipInjection=true;e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e);$pp_pic_holder.find(\"#pp_full_res\")[0].innerHTML=toInject;g()});break;case\"custom\":a=w(movie_width,movie_height);toInject=settings.custom_markup;break;case\"inline\":myClone=e(pp_images[set_position]).clone().append('<br clear=\"all\" />').css({width:settings.default_width}).wrapInner('<div id=\"pp_full_res\"><div class=\"pp_inline\"></div></div>').appendTo(e(\"body\")).show();doresize=false;a=w(e(myClone).width(),e(myClone).height());doresize=true;e(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html());break}if(!imgPreloader&&!skipInjection){$pp_pic_holder.find(\"#pp_full_res\")[0].innerHTML=toInject;g()}});return false};e.prettyPhoto.changePage=function(t){currentGalleryPage=0;if(t==\"previous\"){set_position--;if(set_position<0)set_position=e(pp_images).size()-1}else if(t==\"next\"){set_position++;if(set_position>e(pp_images).size()-1)set_position=0}else{set_position=t}rel_index=set_position;if(!doresize)doresize=true;if(settings.allow_expand){e(\".pp_contract\").removeClass(\"pp_contract\").addClass(\"pp_expand\")}y(function(){e.prettyPhoto.open()})};e.prettyPhoto.changeGalleryPage=function(e){if(e==\"next\"){currentGalleryPage++;if(currentGalleryPage>totalPage)currentGalleryPage=0}else if(e==\"previous\"){currentGalleryPage--;if(currentGalleryPage<0)currentGalleryPage=totalPage}else{currentGalleryPage=e}slide_speed=e==\"next\"||e==\"previous\"?settings.animation_speed:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find(\"ul\").animate({left:-slide_to},slide_speed)};e.prettyPhoto.startSlideshow=function(){if(typeof m==\"undefined\"){$pp_pic_holder.find(\".pp_play\").unbind(\"click\").removeClass(\"pp_play\").addClass(\"pp_pause\").click(function(){e.prettyPhoto.stopSlideshow();return false});m=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)}else{e.prettyPhoto.changePage(\"next\")}};e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(\".pp_pause\").unbind(\"click\").removeClass(\"pp_pause\").addClass(\"pp_play\").click(function(){e.prettyPhoto.startSlideshow();return false});clearInterval(m);m=undefined};e.prettyPhoto.close=function(){if($pp_overlay.is(\":animated\"))return;e.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find(\"object,embed\").css(\"visibility\",\"hidden\");e(\"div.pp_pic_holder,div.ppt,.pp_fade\").fadeOut(settings.animation_speed,function(){e(this).remove()});$pp_overlay.fadeOut(settings.animation_speed,function(){if(settings.hideflash)e(\"object,embed,iframe[src*=youtube],iframe[src*=vimeo]\").css(\"visibility\",\"visible\");e(this).remove();e(window).unbind(\"scroll.prettyphoto\");r();settings.callback();doresize=true;f=false;delete settings})};if(!pp_alreadyInitialized&&t()){pp_alreadyInitialized=true;hashIndex=t();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf(\"/\")+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf(\"/\"));setTimeout(function(){e(\"a[\"+s.hook+\"^='\"+hashRel+\"']:eq(\"+hashIndex+\")\").trigger(\"click\")},50)}return this.unbind(\"click.prettyphoto\").bind(\"click.prettyphoto\",e.prettyPhoto.initialize)};})(jQuery);var pp_alreadyInitialized=false", "=== Plugin Name ===\r\nContributors: royaltechbd\r\nDonate link: http://royaltechbd.com/donate.html\r\nTags: jQuery Lightbox, jQuery, jQuery PrettyPhoto, Lightbox, PrettyPhoto, royal, royaltechbd\r\nRequires at least: 3.3\r\nTested up to: 4.2.1\r\nStable tag: 1.2\r\nLicense: GPLv2 or later\r\nLicense URI: http://www.gnu.org/licenses/gpl-2.0.html\r\n\r\nThis plugin will automatic add lightbox in wordpress post/page without disturbance.\r\n\r\n\r\n== Description ==\r\n\r\nThis plugin will automatic add lightbox in wordpress post/page without disturbance.\r\n\r\n### Features\r\n* Easy to use.\r\n* Support Images, Youtube Video, Vimeo video, iFrame, DEV. \r\n* For image not need to add rel\r\n\r\n### Browser support\r\n* Firefox 3.0+ Google\r\n* Chrome 10.0+ \r\n* Internet Explorer 6.0+ \r\n* Safari 3.1.1+ \r\n* Opera 9+\r\n\r\n### More\r\n* Thank you for using our plugin.\r\n* Vist the [blog post](http://www.royaltechbd.com/rt-prettyphoto/) to know more.\r\n* [Give a Rating & Write a Review](http://goo.gl/3lNO1R)\r\n\r\n\r\n### Special Thanks\r\n* [No Margin For Errors](http://www.no-margin-for-errors.com/projects/prettyphoto-jquery-lightbox-clone)\r\n* [Rasel Ahmed](http://www.rrfoundation.net)\r\n\r\n== Installation ==\r\n\r\n\r\n1. Upload the plugin to the '/wp-content/plugins/' directory\r\n2. Activate the plugin through the 'Plugins' menu in WordPress\r\n3. Add Images as like you upload (with media link)\r\n\r\n\r\n### Examples:\r\n\r\n= To add a Single Video =\r\n`<a href=\"Full Video Link\" rel=\"prettyPhoto\" ><img src=\"Full Thumbnail Path\" alt=\"\"/></a>`\r\n\r\n= To add video with default image gallery =\r\n`<a href=\"Full Video Link\" rel=\"prettyPhoto[Your_Post_ID]\" ><img src=\"Full Thumbnail Path\" alt=\"\"/></a>`\r\nIf you post ID is 708 rel should rel=\"prettyPhoto[708]\".\r\n\r\n= Aditional Gallery with Image, Youtube Video, Vimeo Video or DIV =\r\n`<div id=\"complexgallery\">\r\n\t<a href=\"Internal or External Full Image Link\" rel=\"prettyPhoto[galleryname]\"><img src=\"Full Thumbnail Path\" alt=\"\"/></a>\r\n\t<a href=\"Youtube Full Video Link\" rel=\"prettyPhoto[galleryname]\"><img src=\"Full Thumbnail Path\" alt=\"\"/></a>\r\n\t<a href=\"Vimeo Full Video Link\" rel=\"prettyPhoto[galleryname]\"><img src=\"Full Thumbnail Path\" alt=\"\"/></a>\r\n\t<a href=\"#DIV_ID_NAME\" rel=\"prettyPhoto[galleryname]\"><img src=\"Full Thumbnail Path\" alt=\"\"/></a>\r\n\t<a href=\"#DIV_ID_NAME\" rel=\"prettyPhoto[galleryname]\">Text for Link</a>\r\n</div>`\r\nFor DIV you should add a div like below.\r\n`<div id=\"DIV_ID_NAME\" style=\"display:none\">\r\n<p>This is inline DEV content for prettyPhoto.</p>\r\n<p>Your DIV full content here.</p><p>Your DIV full content here.</p><p>Your DIV full content here.</p><p>Your DIV full content here.</p></div>\r\n</div>`\r\n\r\n\r\n= iframe =\r\n`\r\n<a href=\"http://royaltechbd.com/?iframe=true&width=100%&height=100%\" rel=\"prettyPhoto[iframes]\" title=\"royaltechbd.com opened at 100%\">royaltechbd.com</a>\r\n<a href=\"http://shamokaldarpon.com/?iframe=true&width=500&height=250\" rel=\"prettyPhoto[iframes]\">shamokaldarpon.com</a>\r\n`\r\n\r\n\r\n= Flash content =\r\n`<a href=\"http://www.adobe.com/jp/events/cs3_web_edition_tour/swfs/perform.swf?width=792&amp;height=294\" rel=\"prettyPhoto[flash]\" title=\"Flash\">\r\n<img src=\"Full Thumbnail Path\" alt=\"Flash content\" /></a>\r\n`\r\n\r\n= QuickTime movies =\r\n`\r\n<a title=\"QuickTime movies\" rel=\"prettyPhoto[movies]\" href=\"http://trailers.apple.com/movies/universal/despicableme/despicableme-tlr1_r640s.mov?width=640&height=360\">\r\n<img src=\"Full Thumbnial Path\" alt=\"QuickTime movies\" /></a>\r\n`\r\n\r\n\r\n== Frequently asked questions ==\r\n\r\n= Is it need rel=\"\" =\r\n\r\nNo, Just add photo, It automatic add rel=\"\".\r\n\r\n\r\n== Screenshots ==\r\n1. Royal PrettyPhoto Settings.\r\n2. Royal PrettyPhoto in action.\r\n\r\n\r\n== Changelog ==\r\n= 1.2 =\r\n* Bug fixed\r\n\r\n= 1.1 =\r\n* Expand button disable option\r\n\r\n= 1.0.1 =\r\n* Add Settings\r\n\r\n= 1.0.0 =\r\n* Initial release\r\n\r\n\r\n== Upgrade notice ==\r\n= 1.2 =\r\n* Bug fixed\r\n\r\n= 1.1 =\r\n* Expand button disable option\r\n\r\n= 1.0.0 =\r\nIt is Initial release", "<?php\r\n/*\r\nPlugin Name: Royal PrettyPhoto\r\nPlugin URI: http://www.wordpress.org/plugins/rt-prettyphoto\r\nDescription: This plugin will automatic add lightbox in wordpress post/page without disturbance.\r\nAuthor: SM Mehdi Akram\r\nAuthor URI: http://www.shamokaldarpon.com\r\nVersion: 1.2\r\n*/\r\n\r\n\r\n//Additional links on the plugin page\r\nadd_filter( 'plugin_row_meta', 'royal_prettyphoto_plugin_links', 10, 2 );\r\nfunction royal_prettyphoto_plugin_links($links, $file) {\r\n\t$base = plugin_basename(__FILE__);\r\n\tif ($file == $base) {\r\n\t\t$links[] = '<a href=\"http://wordpress.org/plugins/rt-prettyphoto/installation/\" target=\"_blank\">' . __( 'Installation', 'rsb' ) . '</a>';\r\n\t\t$links[] = '<a href=\"http://www.royaltechbd.com/\" target=\"_blank\">' . __( 'Royal Technologies', 'rsb' ) . '</a>';\r\n\t\t$links[] = '<a href=\"http://www.shamokaldarpon.com/\" target=\"_blank\">' . __( 'Shamokal Darpon', 'rsb' ) . '</a>';\r\n\t}\r\n\treturn $links;\r\n}\r\n\r\n\r\nadd_filter('the_content', 'royal_prettyphoto_replace', 12);\r\nadd_filter('get_comment_text', 'royal_prettyphoto_replace');\r\nfunction royal_prettyphoto_replace ($content)\r\n{   global $post;\r\n\t$pattern = \"/<a(.*?)href=('|\\\")([^>]*).(bmp|gif|jpeg|jpg|png)('|\\\")(.*?)>(.*?)<\\/a>/i\";\r\n    $replacement = '<a$1href=$2$3.$4$5 rel=\"prettyPhoto['.$post->ID.']\"$6>$7</a>';\r\n    $content = preg_replace($pattern, $replacement, $content);\r\n    return $content;\r\n}\r\n\r\n/*Some Set-up*/\r\ndefine('RT_WPP_PLUGIN_PATH', WP_PLUGIN_URL . '/' . plugin_basename( dirname(__FILE__) ) . '/' );\r\n\r\n\r\n/* Adding Latest jQuery from Wordpress */\r\nfunction rt_wpp_latest_jquery() {\r\n\twp_enqueue_script('jquery');\r\n}\r\nadd_action('init', 'rt_wpp_latest_jquery');\r\n\r\n\r\n\r\n/* Adding plugin javascript active file */\r\nwp_enqueue_script('rt-wpp-plugin-active', RT_WPP_PLUGIN_PATH.'js/jquery.prettyPhoto.js', array('jquery'));\r\n/* Adding plugin javascript active file */\r\nwp_enqueue_script('rt-wpp-plugin-script-active', RT_WPP_PLUGIN_PATH.'js/wpp-active.js', array('jquery'));\r\n\r\n/* Adding Plugin custm CSS file */\r\nwp_enqueue_style('rt-wpp-plugin-style', RT_WPP_PLUGIN_PATH.'css/prettyPhoto.css');\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*************** Setting System*******************/\r\n\r\n\r\n\r\n\r\n\r\n// Add options and populate default values on first load\r\nfunction royal_prettyphoto_activate_plugin() {\r\n\r\n\t// populate plugin options array\r\n\t$royal_prettyphoto_plugin_options = array(\t\t\r\n\t\t'font_family'      => '\"Righteous\", cursive',\r\n\t\t'text_color'       => '#ffffff',\r\n\t\t'hide_photo_control' => '0',\r\n\t\t'hide_photo_title' => '0',\r\n\t\t'hide_social_icons' => '0',\r\n\t\t'hide_photo_thumbnial' => '0',\r\n\t\t'hide_photo_nav_arrow' => '0',\r\n\t\t'hide_photo_expand_button' => '0'\t\r\n\t\t);\r\n\r\n\t// create field in WP_options to store all plugin data in one field\r\n\tadd_option( 'royal_prettyphoto_plugin_options', $royal_prettyphoto_plugin_options );\r\n\r\n}\r\n\r\n\r\n// Fire off hooks depending on if the admin settings page is used or the public website\r\nif ( is_admin() ){ // admin actions and filters\r\n\r\n\t// Hook for adding admin menu\r\n\tadd_action( 'admin_menu', 'royal_prettyphoto_admin_menu' );\r\n\r\n\t// Hook for registering plugin option settings\r\n\tadd_action( 'admin_init', 'royal_prettyphoto_settings_api_init');\r\n\r\n\t// Hook to fire farbtastic includes for using built in WordPress color picker functionality\r\n\tadd_action('admin_enqueue_scripts', 'royal_prettyphoto_farbtastic_script');\r\n\r\n\t// Display the 'Settings' link in the plugin row on the installed plugins list page\r\n\tadd_filter( 'plugin_action_links_'.plugin_basename(__FILE__), 'royal_prettyphoto_admin_plugin_actions', -10);\r\n\r\n} else { // non-admin enqueues, actions, and filters\r\n\r\n\r\n\t// get the current page url\r\n\t$royal_prettyphoto_current_page_url \t\t\t= royal_prettyphoto_get_full_url();\r\n\r\n\r\n\t// get the tab url from the plugin option variable array\r\n\t$royal_prettyphoto_plugin_option_array\t= get_option( 'royal_prettyphoto_plugin_options' );\r\n\r\n\r\n\t// compare the page url and the option tab - don't render the tab if the values are the same\r\n\tif ( $royal_prettyphoto_tab_url != $royal_prettyphoto_current_page_url ) {\r\n\r\n\t\t// hook to get option values and dynamically render css to support the tab classes\r\n\t\tadd_action( 'wp_head', 'royal_prettyphoto_custom_css_hook' );\r\n\r\n\t\t// hook to get option values and write the div for the Royal PrettyPhoto to display\r\n\t\tadd_action( 'wp_footer', 'royal_prettyphoto_body_tag_html' );\r\n\t}\r\n}\r\n\r\n\r\n\r\n// get the complete url for the current page\r\nfunction royal_prettyphoto_get_full_url()\r\n{\r\n\t$s \t\t\t= empty($_SERVER[\"HTTPS\"]) ? '' : ($_SERVER[\"HTTPS\"] == \"on\") ? \"s\" : \"\";\r\n\t$sp \t\t= strtolower($_SERVER[\"SERVER_PROTOCOL\"]);\r\n\t$protocol \t= substr($sp, 0, strpos($sp, \"/\")) . $s;\r\n\t$port \t\t= ($_SERVER[\"SERVER_PORT\"] == \"80\") ? \"\" : (\":\".$_SERVER[\"SERVER_PORT\"]);\r\n\treturn $protocol . \"://\" . $_SERVER['SERVER_NAME'] . $port . $_SERVER['REQUEST_URI'];\r\n}\r\n\r\n\r\n\r\n// Include WordPress color picker functionality\r\nfunction royal_prettyphoto_farbtastic_script($hook) {\r\n\r\n\t// only enqueue farbtastic on the plugin settings page\r\n\tif( $hook != 'settings_page_royal_pretty_photo' ) \r\n\t\treturn;\r\n\r\n\r\n\t// load the style and script for farbtastic\r\n\twp_enqueue_style( 'farbtastic' );\r\n\twp_enqueue_script( 'farbtastic' );\r\n\r\n}\r\n\r\n\r\n\r\n// action function to get option values and write the div for the Royal PrettyPhoto to display\r\nfunction royal_prettyphoto_body_tag_html() {\r\n\r\n\t// get plugin option array and store in a variable\r\n\t$royal_prettyphoto_plugin_option_array\t= get_option( 'royal_prettyphoto_plugin_options' );\r\n\r\n\t// fetch individual values from the plugin option variable array\r\n\t$royal_prettyphoto_target_blank\t\t\t= $royal_prettyphoto_plugin_option_array[ 'target_blank' ];\r\n\r\n\t// set the page target\r\n\tif ($royal_prettyphoto_target_blank == '1') {\r\n\t\t$royal_prettyphoto_target_blank = ' target=\"_blank\"';\r\n\t}\r\n\r\n\t// Write HTML to render tab\r\n\techo '<a href=\"' . esc_url( $royal_prettyphoto_tab_url ) . '\"' . $royal_prettyphoto_target_blank . '><div id=\"royal_prettyphoto_tab\" class=\"royal_prettyphoto_contents royal_prettyphoto_left\">' . esc_html( $royal_prettyphoto_text_for_tab ) . '</div></a>';\r\n}\r\n\r\n\r\n\r\n// action function to add a new submenu under Settings\r\nfunction royal_prettyphoto_admin_menu() {\r\n\r\n\t// Add a new submenu under Settings\r\n\tadd_options_page( 'Royal PrettyPhoto Option Settings', 'Royal PrettyPhoto', 'manage_options', 'royal_pretty_photo', 'royal_prettyphoto_options_page' );\r\n}\r\n\r\n\r\n// Display and fill the form fields for the plugin admin page\r\nfunction royal_prettyphoto_options_page() {\r\n\r\n\r\n?>\r\n\r\n\t<div class=\"wrap\">\r\n\t<?php screen_icon( 'plugins' ); ?>\r\n\t<h2>Royal PrettyPhoto</h2>\r\n\t<p>You can control Font Family, Photo Title with color, Social Icons, Photo Thumbnial, Nav Arrow, Photo Control & Expand Button.</p>\r\n\t<strong>NOTE: This plugin requires the WP_footer() hook to be fired from your theme.</strong></p>\r\n\t<form method=\"post\" action=\"options.php\">\r\n\r\n\r\n<?php\r\n\r\n\tsettings_fields( 'royal_prettyphoto_option_group' );\r\n\tdo_settings_sections( 'royal_pretty_photo' );\r\n\r\n\t// get plugin option array and store in a variable\r\n\t$royal_prettyphoto_plugin_option_array\t= get_option( 'royal_prettyphoto_plugin_options' );\r\n\r\n\t// fetch individual values from the plugin option variable array\r\n\t$royal_prettyphoto_font_family\t\t\t= $royal_prettyphoto_plugin_option_array[ 'font_family' ];\r\n\t$royal_prettyphoto_text_color\t\t\t= $royal_prettyphoto_plugin_option_array[ 'text_color' ];\r\n\t$royal_prettyphoto_hide_photo_title\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_title' ];\r\n\t$royal_prettyphoto_hide_photo_control\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_control' ];\r\n\t$royal_prettyphoto_hide_social_icons\t= $royal_prettyphoto_plugin_option_array[ 'hide_social_icons' ];\r\n\t$royal_prettyphoto_hide_photo_thumbnial\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_thumbnial' ];\r\n\t$royal_prettyphoto_hide_photo_nav_arrow\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_nav_arrow' ];\r\n\t$royal_prettyphoto_hide_photo_expand_button\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_expand_button' ];\r\n\r\n?>\r\n\r\n<script type=\"text/javascript\">\r\n\tjQuery(document).ready(function() {\r\n\t\tjQuery('#colorpicker1').hide();\r\n\t\tjQuery('#colorpicker1').farbtastic(\"#color1\");\r\n\t\tjQuery(\"#color1\").click(function(){jQuery('#colorpicker1').slideToggle()});\r\n\t});\r\n</script>\r\n\r\n\r\n\t<table class=\"widefat\">\r\n\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_tab_font\">Select Google font for Photo Title</label></th>\r\n\t\t<td>\r\n\t\t\t<select name=\"royal_prettyphoto_plugin_options[font_family]\">\t\r\n\t\t\t\t<option value='\"Righteous\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Righteous\", cursive' );\t\t\t\t\t\t\t?>\t>Righteous</option>\r\n\t\t\t\t<option value='\"Titan One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Titan One\", cursive' );\t\t\t\t\t\t\t?>\t>Titan One</option>\r\n\t\t\t\t<option value='\"Finger Paint\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Finger Paint\", cursive' );\t\t\t\t\t\t\t?>\t>Finger Paint</option>\r\n\t\t\t\t<option value='\"Londrina Shadow\", cursive'\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Londrina Shadow\", cursive' );\t\t\t\t\t\t?>\t>Londrina Shadow</option>\r\n\t\t\t\t<option value='\"Autour One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Autour One\", cursive' );\t\t\t\t\t\t\t?>\t>Autour One</option>\r\n\t\t\t\t<option value='\"Meie Script\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Meie Script\", cursive' );\t\t\t\t\t\t\t?>\t>Meie Script</option>\r\n\t\t\t\t<option value='\"Sonsie One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Sonsie One\", cursive' );\t\t\t\t\t\t\t?>\t>Sonsie One</option>\r\n\t\t\t\t<option value='\"Kavoon\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Kavoon\", cursive' );\t\t\t\t\t\t\t\t?>\t>Kavoon</option>\r\n\t\t\t\t<option value='\"Racing Sans One\", cursive'\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Racing Sans One\", cursive' );\t\t\t\t\t\t?>\t>Racing Sans One</option>\r\n\t\t\t\t<option value='\"Gravitas One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Gravitas One\", cursive' );\t\t\t\t\t\t\t?>\t>Gravitas One</option>\r\n\t\t\t\t<option value='\"Nosifer\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Nosifer\", cursive' );\t\t\t\t\t\t\t\t?>\t>Nosifer</option>\r\n\t\t\t\t<option value='\"Offside\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Offside\", cursive' );\t\t\t\t\t\t\t\t?>\t>Offside</option>\r\n\t\t\t\t<option value='\"Audiowide\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Audiowide\", cursive' );\t\t\t\t\t\t\t?>\t>Audiowide</option>\r\n\t\t\t\t<option value='\"Faster One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Faster One\", cursive' );\t\t\t\t\t\t\t?>\t>Faster One</option>\r\n\t\t\t\t<option value='\"Germania One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Germania One\", cursive' );\t\t\t\t\t\t\t?>\t>Germania One</option>\r\n\t\t\t\t<option value='\"Emblema One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Emblema One\", cursive' );\t\t\t\t\t\t\t?>\t>Emblema One</option>\r\n\t\t\t\t<option value='\"Sansita One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Sansita One\", cursive' );\t\t\t\t\t\t\t?>\t>Sansita One</option>\r\n\t\t\t\t<option value='\"Creepster\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Creepster\", cursive' );\t\t\t\t\t\t\t?>\t>Creepster</option>\r\n\t\t\t\t<option value='\"Delius Unicase\", cursive'\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Delius Unicase\", cursive' );\t\t\t\t\t\t?>\t>Delius Unicase</option>\r\n\t\t\t\t<option value='\"Wallpoet\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Wallpoet\", cursive' );\t\t\t\t\t\t\t\t?>\t>Wallpoet</option>\r\n\t\t\t\t<option value='\"Monoton\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Monoton\", cursive' );\t\t\t\t\t\t\t\t?>\t>Monoton</option>\r\n\t\t\t\t<option value='\"Kenia\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Kenia\", cursive' );\t\t\t\t\t\t\t\t?>\t>Kenia</option>\r\n\t\t\t\t<option value='\"Monofett\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Monofett\", cursive' );\t\t\t\t\t\t\t\t?>\t>Monofett</option>\r\n\t\t\t\t<option value='\"Denk One\", sans-serif'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Denk One\", sans-serif' );\t\t\t\t\t\t\t?>\t>Denk One</option>\r\n\t\t\t\t<option value='\"Ropa Sans\", sans-serif'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Ropa Sans\", sans-serif' );\t\t\t\t\t\t\t?>\t>Ropa Sans</option>\r\n\t\t\t\t<option value='\"Paytone One\", sans-serif'\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Paytone One\", sans-serif' );\t\t\t\t\t\t?>\t>Paytone One</option>\r\n\t\t\t\t<option value='\"Russo One\", sans-serif'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Russo One\", sans-serif' );\t\t\t\t\t\t\t?>\t>Russo One</option>\r\n\t\t\t\t<option value='\"Krona One\", sans-serif'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Krona One\", sans-serif' );\t\t\t\t\t\t\t?>\t>Krona One</option>\r\n\t\t\t\t<option value='\"Rum Raisin\", sans-serif'\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Rum Raisin\", sans-serif' );\t\t\t\t\t\t?>\t>Rum Raisin</option>\r\n\t\t\t\t\r\n\t\t\t</select>\r\n\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr valign=\"top\">\r\n\t\t<th width=\"33%\" scope=\"row\"><label for=\"royal_prettyphoto_hide_photo_title\">Hide Photo Title</label></th>\r\n\t\t<td ><input name=\"royal_prettyphoto_plugin_options[hide_photo_title]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_photo_title ); ?> /></td>\r\n\t\t</tr>\t\t\r\n\t\t\r\n\t\t<tr valign=\"top\">\r\n\t\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_text_color\">Text color (Default #FFFFFF)</label></th>\r\n\t\t\t<td><input type=\"text\" maxlength=\"7\" size=\"6\" value=\"<?php echo esc_attr( $royal_prettyphoto_text_color ); ?>\" name=\"royal_prettyphoto_plugin_options[text_color]\" id=\"color1\" />\r\n\t\t\t<div id=\"colorpicker1\"></div></td>\r\n\t\t</tr>\r\n\t\t\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_hide_photo_control\">Hide Photo Control</label></th>\r\n\t\t<td><input name=\"royal_prettyphoto_plugin_options[hide_photo_control]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_photo_control); ?> /></td>\r\n\t\t</tr>\t\t\r\n\t\t\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_hide_photo_expand_button\">Hide Photo Expand Button</label></th>\r\n\t\t<td><input name=\"royal_prettyphoto_plugin_options[hide_photo_expand_button]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_photo_expand_button); ?> /></td>\r\n\t\t</tr>\r\n\t\t\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_hide_social_icons\">Hide Social Icons</label></th>\r\n\t\t<td><input name=\"royal_prettyphoto_plugin_options[hide_social_icons]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_social_icons); ?> /></td>\r\n\t\t</tr>\r\n\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_hide_photo_thumbnial\">Hide Photo Thumbnial</label></th>\r\n\t\t<td><input name=\"royal_prettyphoto_plugin_options[hide_photo_thumbnial]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_photo_thumbnial); ?> /></td>\r\n\t\t</tr>\r\n\t\t\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_hide_photo_nav_arrow\">Hide Photo Nav Arrow</label></th>\r\n\t\t<td><input name=\"royal_prettyphoto_plugin_options[hide_photo_nav_arrow]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_photo_nav_arrow); ?> /></td>\r\n\t\t</tr>\r\n\t\t\r\n\t</table>\r\n\r\n\t<p class=\"submit\"><input type=\"submit\" class=\"button-primary\" value=\"<?php _e('Save Changes') ?>\" /></p>\r\n\r\n\r\n\r\n<?php\r\n\techo '</form>';\r\n\techo '</div>';\r\n}\r\n\r\n\r\n\r\n// Use Settings API to whitelist options\r\nfunction royal_prettyphoto_settings_api_init() {\r\n\r\n\tregister_setting( 'royal_prettyphoto_option_group', 'royal_prettyphoto_plugin_options' );\r\n\r\n}\r\n\r\n\r\n\r\n// Build array of links for rendering in installed plugins list\r\nfunction royal_prettyphoto_admin_plugin_actions($links) {\r\n\r\n\t$links[] = '<a href=\"options-general.php?page=royal_pretty_photo\">'.__('Settings').'</a>';\r\n\treturn $links;\r\n\r\n}\r\n\r\n\r\n\r\n// This function runs all the css and dynamic css elements for displaying the Royal PrettyPhoto\r\nfunction royal_prettyphoto_custom_css_hook() {\r\n\r\n\t// get plugin option array and store in a variable\r\n\t$royal_prettyphoto_plugin_option_array\t= get_option( 'royal_prettyphoto_plugin_options' );\r\n\r\n\t// fetch individual values from the plugin option variable array\r\n\t$royal_prettyphoto_font_family\t\t\t\t= $royal_prettyphoto_plugin_option_array[ 'font_family' ];\t\r\n\t$royal_prettyphoto_text_color\t\t\t\t= $royal_prettyphoto_plugin_option_array[ 'text_color' ];\r\n\t$royal_prettyphoto_hide_photo_title\t\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_title' ];\r\n\t$royal_prettyphoto_hide_photo_control\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_control' ];\r\n\t$royal_prettyphoto_hide_social_icons\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_social_icons' ];\r\n\t$royal_prettyphoto_hide_photo_thumbnial\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_thumbnial' ];\r\n\t$royal_prettyphoto_hide_photo_nav_arrow\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_nav_arrow' ];\r\n\t$royal_prettyphoto_hide_photo_expand_button\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_expand_button' ];\r\n\r\n?>\r\n\r\n<style type='text/css'>\r\n/* Begin Royal PrettyPhoto Styles*/\r\n\r\n@import url(http://fonts.googleapis.com/css?family=Autour+One|Meie+Script|Armata|Rum+Raisin|Sonsie+One|Kavoon|Denk+One|Gravitas+One|Racing+Sans+One|Nosifer|Ropa+Sans|Offside|Titan+One|Paytone+One|Audiowide|Righteous|Faster+One|Russo+One|Germania+One|Krona+One|Emblema+One|Creepster|Delius+Unicase|Wallpoet|Sansita+One|Monoton|Kenia|Monofett);\r\n\r\ndiv.ppt {\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_photo_title =='1' ) :\r\n\t  echo 'display: none!important;' . \"\\n\";\r\n\telse :\r\n\t  echo ' display: none;' . \"\\n\";\r\n\tendif;\r\n\t?>\r\n}\r\n\r\n\r\n.pp_nav {\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_photo_control =='1' ) :\r\n\t  echo ' display: none !important;' . \"\\n\";\r\n\telse :\r\n\t  \r\n\tendif;\r\n\t?> \r\n}\r\n\r\n\r\n.pp_social {\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_social_icons =='1' ) :\r\n\t  echo ' display: none !important;' . \"\\n\";\r\n\telse :\r\n\t  \r\n\tendif;\r\n\t?> \r\n}\r\n\r\n\r\n.pp_gallery {\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_photo_thumbnial =='1' ) :\r\n\t  echo ' display: none !important;' . \"\\n\";\r\n\telse :\r\n\t  \r\n\tendif;\r\n\t?> \r\n}\r\n\r\n\r\ndiv.ppt{\r\n\tfont-family:<?php echo $royal_prettyphoto_font_family; ?>;\r\n\tcolor:<?php echo $royal_prettyphoto_text_color; ?>;\r\n}\r\n\r\n\r\na.pp_next, a.pp_previous \r\n{\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_photo_nav_arrow =='1' ) :\r\n\t  echo ' display: none !important;' . \"\\n\";\r\n\telse :\r\n\t  \r\n\tendif;\r\n\t?> \r\n}\r\n\r\n\r\ndiv.pp_default .pp_expand, \r\n.pp_fade a.pp_expand, \r\na.pp_expand, \r\ndiv.facebook .pp_expand, \r\ndiv.light_square .pp_expand, \r\ndiv.dark_square .pp_expand, \r\ndiv.dark_rounded .pp_expand, \r\ndiv.light_rounded .pp_expand\r\n{\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_photo_expand_button =='1' ) :\r\n\t  echo 'display: none !important;' . \"\\n\";\r\n\telse :\r\n\t  \r\n\tendif;\r\n\t?> \r\n}\r\n\r\n\r\n/* End Royal PrettyPhoto Styles*/\r\n</style>\r\n\r\n<?php\r\n}\r\n"], "fixing_code": ["/* ------------------------------------------------------------------------\n\tClass: prettyPhoto\n\tUse: Lightbox clone for jQuery\n\tAuthor: Stephane Caron (http://www.no-margin-for-errors.com)\n\tVersion: 3.1.6\n------------------------------------------------------------------------- */\n(function($) {\n\t$.prettyPhoto = {version: '3.1.6'};\n\t\n\t$.fn.prettyPhoto = function(pp_settings) {\n\t\tpp_settings = jQuery.extend({\n\t\t\thook: 'rel', /* the attribute tag to use for prettyPhoto hooks. default: 'rel'. For HTML5, use \"data-rel\" or similar. */\n\t\t\tanimation_speed: 'fast', /* fast/slow/normal */\n\t\t\tajaxcallback: function() {},\n\t\t\tslideshow: 5000, /* false OR interval time in ms */\n\t\t\tautoplay_slideshow: false, /* true/false */\n\t\t\topacity: 0.80, /* Value between 0 and 1 */\n\t\t\tshow_title: true, /* true/false */\n\t\t\tallow_resize: true, /* Resize the photos bigger than viewport. true/false */\n\t\t\tallow_expand: true, /* Allow the user to expand a resized image. true/false */\n\t\t\tdefault_width: 500,\n\t\t\tdefault_height: 344,\n\t\t\tcounter_separator_label: '/', /* The separator for the gallery counter 1 \"of\" 2 */\n\t\t\ttheme: 'pp_default', /* light_rounded / dark_rounded / light_square / dark_square / facebook */\n\t\t\thorizontal_padding: 20, /* The padding on each side of the picture */\n\t\t\thideflash: false, /* Hides all the flash object on a page, set to TRUE if flash appears over prettyPhoto */\n\t\t\twmode: 'opaque', /* Set the flash wmode attribute */\n\t\t\tautoplay: true, /* Automatically start videos: True/False */\n\t\t\tmodal: false, /* If set to true, only the close button will close the window */\n\t\t\tdeeplinking: true, /* Allow prettyPhoto to update the url to enable deeplinking. */\n\t\t\toverlay_gallery: true, /* If set to true, a gallery will overlay the fullscreen image on mouse over */\n\t\t\toverlay_gallery_max: 30, /* Maximum number of pictures in the overlay gallery */\n\t\t\tkeyboard_shortcuts: true, /* Set to false if you open forms inside prettyPhoto */\n\t\t\tchangepicturecallback: function(){}, /* Called everytime an item is shown/changed */\n\t\t\tcallback: function(){}, /* Called when prettyPhoto is closed */\n\t\t\tie6_fallback: true,\n\t\t\tmarkup: '<div class=\"pp_pic_holder\"> \\\n\t\t\t\t\t\t<div class=\"ppt\">&nbsp;</div> \\\n\t\t\t\t\t\t<div class=\"pp_top\"> \\\n\t\t\t\t\t\t\t<div class=\"pp_left\"></div> \\\n\t\t\t\t\t\t\t<div class=\"pp_middle\"></div> \\\n\t\t\t\t\t\t\t<div class=\"pp_right\"></div> \\\n\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t<div class=\"pp_content_container\"> \\\n\t\t\t\t\t\t\t<div class=\"pp_left\"> \\\n\t\t\t\t\t\t\t<div class=\"pp_right\"> \\\n\t\t\t\t\t\t\t\t<div class=\"pp_content\"> \\\n\t\t\t\t\t\t\t\t\t<div class=\"pp_loaderIcon\"></div> \\\n\t\t\t\t\t\t\t\t\t<div class=\"pp_fade\"> \\\n\t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_expand\" title=\"Expand the image\">Expand</a> \\\n\t\t\t\t\t\t\t\t\t\t<div class=\"pp_hoverContainer\"> \\\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"pp_next\" href=\"#\">next</a> \\\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"pp_previous\" href=\"#\">previous</a> \\\n\t\t\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t\t\t\t<div id=\"pp_full_res\"></div> \\\n\t\t\t\t\t\t\t\t\t\t<div class=\"pp_details\"> \\\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"pp_nav\"> \\\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \\\n\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"currentTextHolder\">0/0</p> \\\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_next\">Next</a> \\\n\t\t\t\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"pp_description\"></p> \\\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"pp_social\">{pp_social}</div> \\\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"pp_close\" href=\"#\">Close</a> \\\n\t\t\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t<div class=\"pp_bottom\"> \\\n\t\t\t\t\t\t\t<div class=\"pp_left\"></div> \\\n\t\t\t\t\t\t\t<div class=\"pp_middle\"></div> \\\n\t\t\t\t\t\t\t<div class=\"pp_right\"></div> \\\n\t\t\t\t\t\t</div> \\\n\t\t\t\t\t</div> \\\n\t\t\t\t\t<div class=\"pp_overlay\"></div>',\n\t\t\tgallery_markup: '<div class=\"pp_gallery\"> \\\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \\\n\t\t\t\t\t\t\t\t<div> \\\n\t\t\t\t\t\t\t\t\t<ul> \\\n\t\t\t\t\t\t\t\t\t\t{gallery} \\\n\t\t\t\t\t\t\t\t\t</ul> \\\n\t\t\t\t\t\t\t\t</div> \\\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_arrow_next\">Next</a> \\\n\t\t\t\t\t\t\t</div>',\n\t\t\timage_markup: '<img id=\"fullResImage\" src=\"{path}\" />',\n\t\t\tflash_markup: '<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"{width}\" height=\"{height}\"><param name=\"wmode\" value=\"{wmode}\" /><param name=\"allowfullscreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"movie\" value=\"{path}\" /><embed src=\"{path}\" type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowscriptaccess=\"always\" width=\"{width}\" height=\"{height}\" wmode=\"{wmode}\"></embed></object>',\n\t\t\tquicktime_markup: '<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" codebase=\"http://www.apple.com/qtactivex/qtplugin.cab\" height=\"{height}\" width=\"{width}\"><param name=\"src\" value=\"{path}\"><param name=\"autoplay\" value=\"{autoplay}\"><param name=\"type\" value=\"video/quicktime\"><embed src=\"{path}\" height=\"{height}\" width=\"{width}\" autoplay=\"{autoplay}\" type=\"video/quicktime\" pluginspage=\"http://www.apple.com/quicktime/download/\"></embed></object>',\n\t\t\tiframe_markup: '<iframe src =\"{path}\" width=\"{width}\" height=\"{height}\" frameborder=\"no\"></iframe>',\n\t\t\tinline_markup: '<div class=\"pp_inline\">{content}</div>',\n\t\t\tcustom_markup: '',\n\t\t\tsocial_tools: '<div class=\"twitter\"><a href=\"http://twitter.com/share\" class=\"twitter-share-button\" data-count=\"none\">Tweet</a><script type=\"text/javascript\" src=\"http://platform.twitter.com/widgets.js\"></script></div><div class=\"facebook\"><iframe src=\"//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23\" scrolling=\"no\" frameborder=\"0\" style=\"border:none; overflow:hidden; width:500px; height:23px;\" allowTransparency=\"true\"></iframe></div>' /* html or false to disable */\n\t\t}, pp_settings);\n\t\t\n\t\t// Global variables accessible only by prettyPhoto\n\t\tvar matchedObjects = this, percentBased = false, pp_dimensions, pp_open,\n\t\t\n\t\t// prettyPhoto container specific\n\t\tpp_contentHeight, pp_contentWidth, pp_containerHeight, pp_containerWidth,\n\t\t\n\t\t// Window size\n\t\twindowHeight = $(window).height(), windowWidth = $(window).width(),\n\n\t\t// Global elements\n\t\tpp_slideshow;\n\t\t\n\t\tdoresize = true, scroll_pos = _get_scroll();\n\t\n\t\t// Window/Keyboard events\n\t\t$(window).unbind('resize.prettyphoto').bind('resize.prettyphoto',function(){ _center_overlay(); _resize_overlay(); });\n\t\t\n\t\tif(pp_settings.keyboard_shortcuts) {\n\t\t\t$(document).unbind('keydown.prettyphoto').bind('keydown.prettyphoto',function(e){\n\t\t\t\tif(typeof $pp_pic_holder != 'undefined'){\n\t\t\t\t\tif($pp_pic_holder.is(':visible')){\n\t\t\t\t\t\tswitch(e.keyCode){\n\t\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\t\t\t$.prettyPhoto.changePage('previous');\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\t\t\t$.prettyPhoto.changePage('next');\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 27:\n\t\t\t\t\t\t\t\tif(!settings.modal)\n\t\t\t\t\t\t\t\t$.prettyPhoto.close();\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// return false;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t});\n\t\t};\n\t\t\n\t\t/**\n\t\t* Initialize prettyPhoto.\n\t\t*/\n\t\t$.prettyPhoto.initialize = function() {\n\t\t\t\n\t\t\tsettings = pp_settings;\n\t\t\t\n\t\t\tif(settings.theme == 'pp_default') settings.horizontal_padding = 16;\n\t\t\t\n\t\t\t// Find out if the picture is part of a set\n\t\t\ttheRel = $(this).attr(settings.hook);\n\t\t\tgalleryRegExp = /\\[(?:.*)\\]/;\n\t\t\tisSet = (galleryRegExp.exec(theRel)) ? true : false;\n\t\t\t\n\t\t\t// Put the SRCs, TITLEs, ALTs into an array.\n\t\t\tpp_images = (isSet) ? jQuery.map(matchedObjects, function(n, i){ if($(n).attr(settings.hook).indexOf(theRel) != -1) return $(n).attr('href'); }) : $.makeArray($(this).attr('href'));\n\t\t\tpp_titles = (isSet) ? jQuery.map(matchedObjects, function(n, i){ if($(n).attr(settings.hook).indexOf(theRel) != -1) return ($(n).find('img').attr('alt')) ? $(n).find('img').attr('alt') : \"\"; }) : $.makeArray($(this).find('img').attr('alt'));\n\t\t\tpp_descriptions = (isSet) ? jQuery.map(matchedObjects, function(n, i){ if($(n).attr(settings.hook).indexOf(theRel) != -1) return ($(n).attr('title')) ? $(n).attr('title') : \"\"; }) : $.makeArray($(this).attr('title'));\n\t\t\t\n\t\t\tif(pp_images.length > settings.overlay_gallery_max) settings.overlay_gallery = false;\n\t\t\t\n\t\t\tset_position = jQuery.inArray($(this).attr('href'), pp_images); // Define where in the array the clicked item is positionned\n\t\t\trel_index = (isSet) ? set_position : $(\"a[\"+settings.hook+\"^='\"+theRel+\"']\").index($(this));\n\t\t\t\n\t\t\t_build_overlay(this); // Build the overlay {this} being the caller\n\t\t\t\n\t\t\tif(settings.allow_resize)\n\t\t\t\t$(window).bind('scroll.prettyphoto',function(){ _center_overlay(); });\n\t\t\t\n\t\t\t\n\t\t\t$.prettyPhoto.open();\n\t\t\t\n\t\t\treturn false;\n\t\t}\n\n\n\t\t/**\n\t\t* Opens the prettyPhoto modal box.\n\t\t* @param image {String,Array} Full path to the image to be open, can also be an array containing full images paths.\n\t\t* @param title {String,Array} The title to be displayed with the picture, can also be an array containing all the titles.\n\t\t* @param description {String,Array} The description to be displayed with the picture, can also be an array containing all the descriptions.\n\t\t*/\n\t\t$.prettyPhoto.open = function(event) {\n\t\t\tif(typeof settings == \"undefined\"){ // Means it's an API call, need to manually get the settings and set the variables\n\t\t\t\tsettings = pp_settings;\n\t\t\t\tpp_images = $.makeArray(arguments[0]);\n\t\t\t\tpp_titles = (arguments[1]) ? $.makeArray(arguments[1]) : $.makeArray(\"\");\n\t\t\t\tpp_descriptions = (arguments[2]) ? $.makeArray(arguments[2]) : $.makeArray(\"\");\n\t\t\t\tisSet = (pp_images.length > 1) ? true : false;\n\t\t\t\tset_position = (arguments[3])? arguments[3]: 0;\n\t\t\t\t_build_overlay(event.target); // Build the overlay {this} being the caller\n\t\t\t}\n\t\t\t\n\t\t\tif(settings.hideflash) $('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','hidden'); // Hide the flash\n\n\t\t\t_checkPosition($(pp_images).size()); // Hide the next/previous links if on first or last images.\n\t\t\n\t\t\t$('.pp_loaderIcon').show();\n\t\t\n\t\t\tif(settings.deeplinking)\n\t\t\t\tsetHashtag();\n\t\t\n\t\t\t// Rebuild Facebook Like Button with updated href\n\t\t\tif(settings.social_tools){\n\t\t\t\tfacebook_like_link = settings.social_tools.replace('{location_href}', encodeURIComponent(location.href)); \n\t\t\t\t$pp_pic_holder.find('.pp_social').html(facebook_like_link);\n\t\t\t}\n\t\t\t\n\t\t\t// Fade the content in\n\t\t\tif($ppt.is(':hidden')) $ppt.css('opacity',0).show();\n\t\t\t$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);\n\n\t\t\t// Display the current position\n\t\t\t$pp_pic_holder.find('.currentTextHolder').text((set_position+1) + settings.counter_separator_label + $(pp_images).size());\n\n\t\t\t// Set the description\n\t\t\tif(typeof pp_descriptions[set_position] != 'undefined' && pp_descriptions[set_position] != \"\"){\n\t\t\t\t$pp_pic_holder.find('.pp_description').show().html(unescape(pp_descriptions[set_position]));\n\t\t\t}else{\n\t\t\t\t$pp_pic_holder.find('.pp_description').hide();\n\t\t\t}\n\t\t\t\n\t\t\t// Get the dimensions\n\t\t\tmovie_width = ( parseFloat(getParam('width',pp_images[set_position])) ) ? getParam('width',pp_images[set_position]) : settings.default_width.toString();\n\t\t\tmovie_height = ( parseFloat(getParam('height',pp_images[set_position])) ) ? getParam('height',pp_images[set_position]) : settings.default_height.toString();\n\t\t\t\n\t\t\t// If the size is % based, calculate according to window dimensions\n\t\t\tpercentBased=false;\n\t\t\tif(movie_height.indexOf('%') != -1) { movie_height = parseFloat(($(window).height() * parseFloat(movie_height) / 100) - 150); percentBased = true; }\n\t\t\tif(movie_width.indexOf('%') != -1) { movie_width = parseFloat(($(window).width() * parseFloat(movie_width) / 100) - 150); percentBased = true; }\n\t\t\t\n\t\t\t// Fade the holder\n\t\t\t$pp_pic_holder.fadeIn(function(){\n\t\t\t\t// Set the title\n\t\t\t\t(settings.show_title && pp_titles[set_position] != \"\" && typeof pp_titles[set_position] != \"undefined\") ? $ppt.html(unescape(pp_titles[set_position])) : $ppt.html('&nbsp;');\n\t\t\t\t\n\t\t\t\timgPreloader = \"\";\n\t\t\t\tskipInjection = false;\n\t\t\t\t\n\t\t\t\t// Inject the proper content\n\t\t\t\tswitch(_getFileType(pp_images[set_position])){\n\t\t\t\t\tcase 'image':\n\t\t\t\t\t\timgPreloader = new Image();\n\n\t\t\t\t\t\t// Preload the neighbour images\n\t\t\t\t\t\tnextImage = new Image();\n\t\t\t\t\t\tif(isSet && set_position < $(pp_images).size() -1) nextImage.src = pp_images[set_position + 1];\n\t\t\t\t\t\tprevImage = new Image();\n\t\t\t\t\t\tif(isSet && pp_images[set_position - 1]) prevImage.src = pp_images[set_position - 1];\n\n\t\t\t\t\t\t$pp_pic_holder.find('#pp_full_res')[0].innerHTML = settings.image_markup.replace(/{path}/g,pp_images[set_position]);\n\n\t\t\t\t\t\timgPreloader.onload = function(){\n\t\t\t\t\t\t\t// Fit item to viewport\n\t\t\t\t\t\t\tpp_dimensions = _fitToViewport(imgPreloader.width,imgPreloader.height);\n\n\t\t\t\t\t\t\t_showContent();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\timgPreloader.onerror = function(){\n\t\t\t\t\t\t\talert('Image cannot be loaded. Make sure the path is correct and image exist.');\n\t\t\t\t\t\t\t$.prettyPhoto.close();\n\t\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t\timgPreloader.src = pp_images[set_position];\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'youtube':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Regular youtube link\n\t\t\t\t\t\tmovie_id = getParam('v',pp_images[set_position]);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// youtu.be link\n\t\t\t\t\t\tif(movie_id == \"\"){\n\t\t\t\t\t\t\tmovie_id = pp_images[set_position].split('youtu.be/');\n\t\t\t\t\t\t\tmovie_id = movie_id[1];\n\t\t\t\t\t\t\tif(movie_id.indexOf('?') > 0)\n\t\t\t\t\t\t\t\tmovie_id = movie_id.substr(0,movie_id.indexOf('?')); // Strip anything after the ?\n\n\t\t\t\t\t\t\tif(movie_id.indexOf('&') > 0)\n\t\t\t\t\t\t\t\tmovie_id = movie_id.substr(0,movie_id.indexOf('&')); // Strip anything after the &\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmovie = 'http://www.youtube.com/embed/'+movie_id;\n\t\t\t\t\t\t(getParam('rel',pp_images[set_position])) ? movie+=\"?rel=\"+getParam('rel',pp_images[set_position]) : movie+=\"?rel=1\";\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tif(settings.autoplay) movie += \"&autoplay=1\";\n\t\t\t\t\t\n\t\t\t\t\t\ttoInject = settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'vimeo':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\t\n\t\t\t\t\t\tmovie_id = pp_images[set_position];\n\t\t\t\t\t\tvar regExp = /http(s?):\\/\\/(www\\.)?vimeo.com\\/(\\d+)/;\n\t\t\t\t\t\tvar match = movie_id.match(regExp);\n\t\t\t\t\t\t\n\t\t\t\t\t\tmovie = 'http://player.vimeo.com/video/'+ match[3] +'?title=0&amp;byline=0&amp;portrait=0';\n\t\t\t\t\t\tif(settings.autoplay) movie += \"&autoplay=1;\";\n\t\t\t\t\n\t\t\t\t\t\tvimeo_width = pp_dimensions['width'] + '/embed/?moog_width='+ pp_dimensions['width'];\n\t\t\t\t\n\t\t\t\t\t\ttoInject = settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,movie);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'quicktime':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\t\tpp_dimensions['height']+=15; pp_dimensions['contentHeight']+=15; pp_dimensions['containerHeight']+=15; // Add space for the control bar\n\t\t\t\t\n\t\t\t\t\t\ttoInject = settings.quicktime_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'flash':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\t\n\t\t\t\t\t\tflash_vars = pp_images[set_position];\n\t\t\t\t\t\tflash_vars = flash_vars.substring(pp_images[set_position].indexOf('flashvars') + 10,pp_images[set_position].length);\n\n\t\t\t\t\t\tfilename = pp_images[set_position];\n\t\t\t\t\t\tfilename = filename.substring(0,filename.indexOf('?'));\n\t\t\t\t\t\n\t\t\t\t\t\ttoInject =  settings.flash_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+'?'+flash_vars);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'iframe':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\n\t\t\t\t\t\tframe_url = pp_images[set_position];\n\t\t\t\t\t\tframe_url = frame_url.substr(0,frame_url.indexOf('iframe')-1);\n\n\t\t\t\t\t\ttoInject = settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,frame_url);\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase 'ajax':\n\t\t\t\t\t\tdoresize = false; // Make sure the dimensions are not resized.\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height);\n\t\t\t\t\t\tdoresize = true; // Reset the dimensions\n\t\t\t\t\t\n\t\t\t\t\t\tskipInjection = true;\n\t\t\t\t\t\t$.get(pp_images[set_position],function(responseHTML){\n\t\t\t\t\t\t\ttoInject = settings.inline_markup.replace(/{content}/g,responseHTML);\n\t\t\t\t\t\t\t$pp_pic_holder.find('#pp_full_res')[0].innerHTML = toInject;\n\t\t\t\t\t\t\t_showContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase 'custom':\n\t\t\t\t\t\tpp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\n\t\t\t\t\t\n\t\t\t\t\t\ttoInject = settings.custom_markup;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\tcase 'inline':\n\t\t\t\t\t\t// to get the item height clone it, apply default width, wrap it in the prettyPhoto containers , then delete\n\t\t\t\t\t\tmyClone = $(pp_images[set_position]).clone().append('<br clear=\"all\" />').css({'width':settings.default_width}).wrapInner('<div id=\"pp_full_res\"><div class=\"pp_inline\"></div></div>').appendTo($('body')).show();\n\t\t\t\t\t\tdoresize = false; // Make sure the dimensions are not resized.\n\t\t\t\t\t\tpp_dimensions = _fitToViewport($(myClone).width(),$(myClone).height());\n\t\t\t\t\t\tdoresize = true; // Reset the dimensions\n\t\t\t\t\t\t$(myClone).remove();\n\t\t\t\t\t\ttoInject = settings.inline_markup.replace(/{content}/g,$(pp_images[set_position]).html());\n\t\t\t\t\tbreak;\n\t\t\t\t};\n\n\t\t\t\tif(!imgPreloader && !skipInjection){\n\t\t\t\t\t$pp_pic_holder.find('#pp_full_res')[0].innerHTML = toInject;\n\t\t\t\t\n\t\t\t\t\t// Show content\n\t\t\t\t\t_showContent();\n\t\t\t\t};\n\t\t\t});\n\n\t\t\treturn false;\n\t\t};\n\n\t\n\t\t/**\n\t\t* Change page in the prettyPhoto modal box\n\t\t* @param direction {String} Direction of the paging, previous or next.\n\t\t*/\n\t\t$.prettyPhoto.changePage = function(direction){\n\t\t\tcurrentGalleryPage = 0;\n\t\t\t\n\t\t\tif(direction == 'previous') {\n\t\t\t\tset_position--;\n\t\t\t\tif (set_position < 0) set_position = $(pp_images).size()-1;\n\t\t\t}else if(direction == 'next'){\n\t\t\t\tset_position++;\n\t\t\t\tif(set_position > $(pp_images).size()-1) set_position = 0;\n\t\t\t}else{\n\t\t\t\tset_position=direction;\n\t\t\t};\n\t\t\t\n\t\t\trel_index = set_position;\n\n\t\t\tif(!doresize) doresize = true; // Allow the resizing of the images\n\t\t\tif(settings.allow_expand) {\n\t\t\t\t$('.pp_contract').removeClass('pp_contract').addClass('pp_expand');\n\t\t\t}\n\n\t\t\t_hideContent(function(){ $.prettyPhoto.open(); });\n\t\t};\n\n\n\t\t/**\n\t\t* Change gallery page in the prettyPhoto modal box\n\t\t* @param direction {String} Direction of the paging, previous or next.\n\t\t*/\n\t\t$.prettyPhoto.changeGalleryPage = function(direction){\n\t\t\tif(direction=='next'){\n\t\t\t\tcurrentGalleryPage ++;\n\n\t\t\t\tif(currentGalleryPage > totalPage) currentGalleryPage = 0;\n\t\t\t}else if(direction=='previous'){\n\t\t\t\tcurrentGalleryPage --;\n\n\t\t\t\tif(currentGalleryPage < 0) currentGalleryPage = totalPage;\n\t\t\t}else{\n\t\t\t\tcurrentGalleryPage = direction;\n\t\t\t};\n\t\t\t\n\t\t\tslide_speed = (direction == 'next' || direction == 'previous') ? settings.animation_speed : 0;\n\n\t\t\tslide_to = currentGalleryPage * (itemsPerPage * itemWidth);\n\n\t\t\t$pp_gallery.find('ul').animate({left:-slide_to},slide_speed);\n\t\t};\n\n\n\t\t/**\n\t\t* Start the slideshow...\n\t\t*/\n\t\t$.prettyPhoto.startSlideshow = function(){\n\t\t\tif(typeof pp_slideshow == 'undefined'){\n\t\t\t\t$pp_pic_holder.find('.pp_play').unbind('click').removeClass('pp_play').addClass('pp_pause').click(function(){\n\t\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\tpp_slideshow = setInterval($.prettyPhoto.startSlideshow,settings.slideshow);\n\t\t\t}else{\n\t\t\t\t$.prettyPhoto.changePage('next');\t\n\t\t\t};\n\t\t}\n\n\n\t\t/**\n\t\t* Stop the slideshow...\n\t\t*/\n\t\t$.prettyPhoto.stopSlideshow = function(){\n\t\t\t$pp_pic_holder.find('.pp_pause').unbind('click').removeClass('pp_pause').addClass('pp_play').click(function(){\n\t\t\t\t$.prettyPhoto.startSlideshow();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tclearInterval(pp_slideshow);\n\t\t\tpp_slideshow=undefined;\n\t\t}\n\n\n\t\t/**\n\t\t* Closes prettyPhoto.\n\t\t*/\n\t\t$.prettyPhoto.close = function(){\n\t\t\tif($pp_overlay.is(\":animated\")) return;\n\t\t\t\n\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\n\t\t\t$pp_pic_holder.stop().find('object,embed').css('visibility','hidden');\n\t\t\t\n\t\t\t$('div.pp_pic_holder,div.ppt,.pp_fade').fadeOut(settings.animation_speed,function(){ $(this).remove(); });\n\t\t\t\n\t\t\t$pp_overlay.fadeOut(settings.animation_speed, function(){\n\t\t\t\t\n\t\t\t\tif(settings.hideflash) $('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','visible'); // Show the flash\n\t\t\t\t\n\t\t\t\t$(this).remove(); // No more need for the prettyPhoto markup\n\t\t\t\t\n\t\t\t\t$(window).unbind('scroll.prettyphoto');\n\t\t\t\t\n\t\t\t\tclearHashtag();\n\t\t\t\t\n\t\t\t\tsettings.callback();\n\t\t\t\t\n\t\t\t\tdoresize = true;\n\t\t\t\t\n\t\t\t\tpp_open = false;\n\t\t\t\t\n\t\t\t\tdelete settings;\n\t\t\t});\n\t\t};\n\t\n\t\t/**\n\t\t* Set the proper sizes on the containers and animate the content in.\n\t\t*/\n\t\tfunction _showContent(){\n\t\t\t$('.pp_loaderIcon').hide();\n\n\t\t\t// Calculate the opened top position of the pic holder\n\t\t\tprojectedTop = scroll_pos['scrollTop'] + ((windowHeight/2) - (pp_dimensions['containerHeight']/2));\n\t\t\tif(projectedTop < 0) projectedTop = 0;\n\n\t\t\t$ppt.fadeTo(settings.animation_speed,1);\n\n\t\t\t// Resize the content holder\n\t\t\t$pp_pic_holder.find('.pp_content')\n\t\t\t\t.animate({\n\t\t\t\t\theight:pp_dimensions['contentHeight'],\n\t\t\t\t\twidth:pp_dimensions['contentWidth']\n\t\t\t\t},settings.animation_speed);\n\t\t\t\n\t\t\t// Resize picture the holder\n\t\t\t$pp_pic_holder.animate({\n\t\t\t\t'top': projectedTop,\n\t\t\t\t'left': ((windowWidth/2) - (pp_dimensions['containerWidth']/2) < 0) ? 0 : (windowWidth/2) - (pp_dimensions['containerWidth']/2),\n\t\t\t\twidth:pp_dimensions['containerWidth']\n\t\t\t},settings.animation_speed,function(){\n\t\t\t\t$pp_pic_holder.find('.pp_hoverContainer,#fullResImage').height(pp_dimensions['height']).width(pp_dimensions['width']);\n\n\t\t\t\t$pp_pic_holder.find('.pp_fade').fadeIn(settings.animation_speed); // Fade the new content\n\n\t\t\t\t// Show the nav\n\t\t\t\tif(isSet && _getFileType(pp_images[set_position])==\"image\") { $pp_pic_holder.find('.pp_hoverContainer').show(); }else{ $pp_pic_holder.find('.pp_hoverContainer').hide(); }\n\t\t\t\n\t\t\t\tif(settings.allow_expand) {\n\t\t\t\t\tif(pp_dimensions['resized']){ // Fade the resizing link if the image is resized\n\t\t\t\t\t\t$('a.pp_expand,a.pp_contract').show();\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$('a.pp_expand').hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(settings.autoplay_slideshow && !pp_slideshow && !pp_open) $.prettyPhoto.startSlideshow();\n\t\t\t\t\n\t\t\t\tsettings.changepicturecallback(); // Callback!\n\t\t\t\t\n\t\t\t\tpp_open = true;\n\t\t\t});\n\t\t\t\n\t\t\t_insert_gallery();\n\t\t\tpp_settings.ajaxcallback();\n\t\t};\n\t\t\n\t\t/**\n\t\t* Hide the content...DUH!\n\t\t*/\n\t\tfunction _hideContent(callback){\n\t\t\t// Fade out the current picture\n\t\t\t$pp_pic_holder.find('#pp_full_res object,#pp_full_res embed').css('visibility','hidden');\n\t\t\t$pp_pic_holder.find('.pp_fade').fadeOut(settings.animation_speed,function(){\n\t\t\t\t$('.pp_loaderIcon').show();\n\t\t\t\t\n\t\t\t\tcallback();\n\t\t\t});\n\t\t};\n\t\n\t\t/**\n\t\t* Check the item position in the gallery array, hide or show the navigation links\n\t\t* @param setCount {integer} The total number of items in the set\n\t\t*/\n\t\tfunction _checkPosition(setCount){\n\t\t\t(setCount > 1) ? $('.pp_nav').show() : $('.pp_nav').hide(); // Hide the bottom nav if it's not a set.\n\t\t};\n\t\n\t\t/**\n\t\t* Resize the item dimensions if it's bigger than the viewport\n\t\t* @param width {integer} Width of the item to be opened\n\t\t* @param height {integer} Height of the item to be opened\n\t\t* @return An array containin the \"fitted\" dimensions\n\t\t*/\n\t\tfunction _fitToViewport(width,height){\n\t\t\tresized = false;\n\n\t\t\t_getDimensions(width,height);\n\t\t\t\n\t\t\t// Define them in case there's no resize needed\n\t\t\timageWidth = width, imageHeight = height;\n\n\t\t\tif( ((pp_containerWidth > windowWidth) || (pp_containerHeight > windowHeight)) && doresize && settings.allow_resize && !percentBased) {\n\t\t\t\tresized = true, fitting = false;\n\t\t\t\n\t\t\t\twhile (!fitting){\n\t\t\t\t\tif((pp_containerWidth > windowWidth)){\n\t\t\t\t\t\timageWidth = (windowWidth - 200);\n\t\t\t\t\t\timageHeight = (height/width) * imageWidth;\n\t\t\t\t\t}else if((pp_containerHeight > windowHeight)){\n\t\t\t\t\t\timageHeight = (windowHeight - 200);\n\t\t\t\t\t\timageWidth = (width/height) * imageHeight;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tfitting = true;\n\t\t\t\t\t};\n\n\t\t\t\t\tpp_containerHeight = imageHeight, pp_containerWidth = imageWidth;\n\t\t\t\t};\n\t\t\t\n\n\t\t\t\t\n\t\t\t\tif((pp_containerWidth > windowWidth) || (pp_containerHeight > windowHeight)){\n\t\t\t\t\t_fitToViewport(pp_containerWidth,pp_containerHeight)\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t_getDimensions(imageWidth,imageHeight);\n\t\t\t};\n\t\t\t\n\t\t\treturn {\n\t\t\t\twidth:Math.floor(imageWidth),\n\t\t\t\theight:Math.floor(imageHeight),\n\t\t\t\tcontainerHeight:Math.floor(pp_containerHeight),\n\t\t\t\tcontainerWidth:Math.floor(pp_containerWidth) + (settings.horizontal_padding * 2),\n\t\t\t\tcontentHeight:Math.floor(pp_contentHeight),\n\t\t\t\tcontentWidth:Math.floor(pp_contentWidth),\n\t\t\t\tresized:resized\n\t\t\t};\n\t\t};\n\t\t\n\t\t/**\n\t\t* Get the containers dimensions according to the item size\n\t\t* @param width {integer} Width of the item to be opened\n\t\t* @param height {integer} Height of the item to be opened\n\t\t*/\n\t\tfunction _getDimensions(width,height){\n\t\t\twidth = parseFloat(width);\n\t\t\theight = parseFloat(height);\n\t\t\t\n\t\t\t// Get the details height, to do so, I need to clone it since it's invisible\n\t\t\t$pp_details = $pp_pic_holder.find('.pp_details');\n\t\t\t$pp_details.width(width);\n\t\t\tdetailsHeight = parseFloat($pp_details.css('marginTop')) + parseFloat($pp_details.css('marginBottom'));\n\t\t\t\n\t\t\t$pp_details = $pp_details.clone().addClass(settings.theme).width(width).appendTo($('body')).css({\n\t\t\t\t'position':'absolute',\n\t\t\t\t'top':-10000\n\t\t\t});\n\t\t\tdetailsHeight += $pp_details.height();\n\t\t\tdetailsHeight = (detailsHeight <= 34) ? 36 : detailsHeight; // Min-height for the details\n\t\t\t$pp_details.remove();\n\t\t\t\n\t\t\t// Get the titles height, to do so, I need to clone it since it's invisible\n\t\t\t$pp_title = $pp_pic_holder.find('.ppt');\n\t\t\t$pp_title.width(width);\n\t\t\ttitleHeight = parseFloat($pp_title.css('marginTop')) + parseFloat($pp_title.css('marginBottom'));\n\t\t\t$pp_title = $pp_title.clone().appendTo($('body')).css({\n\t\t\t\t'position':'absolute',\n\t\t\t\t'top':-10000\n\t\t\t});\n\t\t\ttitleHeight += $pp_title.height();\n\t\t\t$pp_title.remove();\n\t\t\t\n\t\t\t// Get the container size, to resize the holder to the right dimensions\n\t\t\tpp_contentHeight = height + detailsHeight;\n\t\t\tpp_contentWidth = width;\n\t\t\tpp_containerHeight = pp_contentHeight + titleHeight + $pp_pic_holder.find('.pp_top').height() + $pp_pic_holder.find('.pp_bottom').height();\n\t\t\tpp_containerWidth = width;\n\t\t}\n\t\n\t\tfunction _getFileType(itemSrc){\n\t\t\tif (itemSrc.match(/youtube\\.com\\/watch/i) || itemSrc.match(/youtu\\.be/i)) {\n\t\t\t\treturn 'youtube';\n\t\t\t}else if (itemSrc.match(/vimeo\\.com/i)) {\n\t\t\t\treturn 'vimeo';\n\t\t\t}else if(itemSrc.match(/\\b.mov\\b/i)){ \n\t\t\t\treturn 'quicktime';\n\t\t\t}else if(itemSrc.match(/\\b.swf\\b/i)){\n\t\t\t\treturn 'flash';\n\t\t\t}else if(itemSrc.match(/\\biframe=true\\b/i)){\n\t\t\t\treturn 'iframe';\n\t\t\t}else if(itemSrc.match(/\\bajax=true\\b/i)){\n\t\t\t\treturn 'ajax';\n\t\t\t}else if(itemSrc.match(/\\bcustom=true\\b/i)){\n\t\t\t\treturn 'custom';\n\t\t\t}else if(itemSrc.substr(0,1) == '#'){\n\t\t\t\treturn 'inline';\n\t\t\t}else{\n\t\t\t\treturn 'image';\n\t\t\t};\n\t\t};\n\t\n\t\tfunction _center_overlay(){\n\t\t\tif(doresize && typeof $pp_pic_holder != 'undefined') {\n\t\t\t\tscroll_pos = _get_scroll();\n\t\t\t\tcontentHeight = $pp_pic_holder.height(), contentwidth = $pp_pic_holder.width();\n\n\t\t\t\tprojectedTop = (windowHeight/2) + scroll_pos['scrollTop'] - (contentHeight/2);\n\t\t\t\tif(projectedTop < 0) projectedTop = 0;\n\t\t\t\t\n\t\t\t\tif(contentHeight > windowHeight)\n\t\t\t\t\treturn;\n\n\t\t\t\t$pp_pic_holder.css({\n\t\t\t\t\t'top': projectedTop,\n\t\t\t\t\t'left': (windowWidth/2) + scroll_pos['scrollLeft'] - (contentwidth/2)\n\t\t\t\t});\n\t\t\t};\n\t\t};\n\t\n\t\tfunction _get_scroll(){\n\t\t\tif (self.pageYOffset) {\n\t\t\t\treturn {scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};\n\t\t\t} else if (document.documentElement && document.documentElement.scrollTop) { // Explorer 6 Strict\n\t\t\t\treturn {scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};\n\t\t\t} else if (document.body) {// all other Explorers\n\t\t\t\treturn {scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft};\n\t\t\t};\n\t\t};\n\t\n\t\tfunction _resize_overlay() {\n\t\t\twindowHeight = $(window).height(), windowWidth = $(window).width();\n\t\t\t\n\t\t\tif(typeof $pp_overlay != \"undefined\") $pp_overlay.height($(document).height()).width(windowWidth);\n\t\t};\n\t\n\t\tfunction _insert_gallery(){\n\t\t\tif(isSet && settings.overlay_gallery && _getFileType(pp_images[set_position])==\"image\") {\n\t\t\t\titemWidth = 52+5; // 52 beign the thumb width, 5 being the right margin.\n\t\t\t\tnavWidth = (settings.theme == \"facebook\" || settings.theme == \"pp_default\") ? 50 : 30; // Define the arrow width depending on the theme\n\t\t\t\t\n\t\t\t\titemsPerPage = Math.floor((pp_dimensions['containerWidth'] - 100 - navWidth) / itemWidth);\n\t\t\t\titemsPerPage = (itemsPerPage < pp_images.length) ? itemsPerPage : pp_images.length;\n\t\t\t\ttotalPage = Math.ceil(pp_images.length / itemsPerPage) - 1;\n\n\t\t\t\t// Hide the nav in the case there's no need for links\n\t\t\t\tif(totalPage == 0){\n\t\t\t\t\tnavWidth = 0; // No nav means no width!\n\t\t\t\t\t$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').hide();\n\t\t\t\t}else{\n\t\t\t\t\t$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').show();\n\t\t\t\t};\n\n\t\t\t\tgalleryWidth = itemsPerPage * itemWidth;\n\t\t\t\tfullGalleryWidth = pp_images.length * itemWidth;\n\t\t\t\t\n\t\t\t\t// Set the proper width to the gallery items\n\t\t\t\t$pp_gallery\n\t\t\t\t\t.css('margin-left',-((galleryWidth/2) + (navWidth/2)))\n\t\t\t\t\t.find('div:first').width(galleryWidth+5)\n\t\t\t\t\t.find('ul').width(fullGalleryWidth)\n\t\t\t\t\t.find('li.selected').removeClass('selected');\n\t\t\t\t\n\t\t\t\tgoToPage = (Math.floor(set_position/itemsPerPage) < totalPage) ? Math.floor(set_position/itemsPerPage) : totalPage;\n\n\t\t\t\t$.prettyPhoto.changeGalleryPage(goToPage);\n\t\t\t\t\n\t\t\t\t$pp_gallery_li.filter(':eq('+set_position+')').addClass('selected');\n\t\t\t}else{\n\t\t\t\t$pp_pic_holder.find('.pp_content').unbind('mouseenter mouseleave');\n\t\t\t\t// $pp_gallery.hide();\n\t\t\t}\n\t\t}\n\t\n\t\tfunction _build_overlay(caller){\n\t\t\t// Inject Social Tool markup into General markup\n\t\t\tif(settings.social_tools)\n\t\t\t\tfacebook_like_link = settings.social_tools.replace('{location_href}', encodeURIComponent(location.href)); \n\n\t\t\tsettings.markup = settings.markup.replace('{pp_social}',''); \n\t\t\t\n\t\t\t$('body').append(settings.markup); // Inject the markup\n\t\t\t\n\t\t\t$pp_pic_holder = $('.pp_pic_holder') , $ppt = $('.ppt'), $pp_overlay = $('div.pp_overlay'); // Set my global selectors\n\t\t\t\n\t\t\t// Inject the inline gallery!\n\t\t\tif(isSet && settings.overlay_gallery) {\n\t\t\t\tcurrentGalleryPage = 0;\n\t\t\t\ttoInject = \"\";\n\t\t\t\tfor (var i=0; i < pp_images.length; i++) {\n\t\t\t\t\tif(!pp_images[i].match(/\\b(jpg|jpeg|png|gif)\\b/gi)){\n\t\t\t\t\t\tclassname = 'default';\n\t\t\t\t\t\timg_src = '';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tclassname = '';\n\t\t\t\t\t\timg_src = pp_images[i];\n\t\t\t\t\t}\n\t\t\t\t\ttoInject += \"<li class='\"+classname+\"'><a href='#'><img src='\" + img_src + \"' width='50' alt='' /></a></li>\";\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\ttoInject = settings.gallery_markup.replace(/{gallery}/g,toInject);\n\t\t\t\t\n\t\t\t\t$pp_pic_holder.find('#pp_full_res').after(toInject);\n\t\t\t\t\n\t\t\t\t$pp_gallery = $('.pp_pic_holder .pp_gallery'), $pp_gallery_li = $pp_gallery.find('li'); // Set the gallery selectors\n\t\t\t\t\n\t\t\t\t$pp_gallery.find('.pp_arrow_next').click(function(){\n\t\t\t\t\t$.prettyPhoto.changeGalleryPage('next');\n\t\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t$pp_gallery.find('.pp_arrow_previous').click(function(){\n\t\t\t\t\t$.prettyPhoto.changeGalleryPage('previous');\n\t\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t$pp_pic_holder.find('.pp_content').hover(\n\t\t\t\t\tfunction(){\n\t\t\t\t\t\t$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeIn();\n\t\t\t\t\t},\n\t\t\t\t\tfunction(){\n\t\t\t\t\t\t$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeOut();\n\t\t\t\t\t});\n\n\t\t\t\titemWidth = 52+5; // 52 beign the thumb width, 5 being the right margin.\n\t\t\t\t$pp_gallery_li.each(function(i){\n\t\t\t\t\t$(this)\n\t\t\t\t\t\t.find('a')\n\t\t\t\t\t\t.click(function(){\n\t\t\t\t\t\t\t$.prettyPhoto.changePage(i);\n\t\t\t\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\t\t\t\n\t\t\t\n\t\t\t// Inject the play/pause if it's a slideshow\n\t\t\tif(settings.slideshow){\n\t\t\t\t$pp_pic_holder.find('.pp_nav').prepend('<a href=\"#\" class=\"pp_play\">Play</a>')\n\t\t\t\t$pp_pic_holder.find('.pp_nav .pp_play').click(function(){\n\t\t\t\t\t$.prettyPhoto.startSlideshow();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t$pp_pic_holder.attr('class','pp_pic_holder ' + settings.theme); // Set the proper theme\n\t\t\t\n\t\t\t$pp_overlay\n\t\t\t\t.css({\n\t\t\t\t\t'opacity':0,\n\t\t\t\t\t'height':$(document).height(),\n\t\t\t\t\t'width':$(window).width()\n\t\t\t\t\t})\n\t\t\t\t.bind('click',function(){\n\t\t\t\t\tif(!settings.modal) $.prettyPhoto.close();\n\t\t\t\t});\n\n\t\t\t$('a.pp_close').bind('click',function(){ $.prettyPhoto.close(); return false; });\n\n\n\t\t\tif(settings.allow_expand) {\n\t\t\t\t$('a.pp_expand').bind('click',function(e){\n\t\t\t\t\t// Expand the image\n\t\t\t\t\tif($(this).hasClass('pp_expand')){\n\t\t\t\t\t\t$(this).removeClass('pp_expand').addClass('pp_contract');\n\t\t\t\t\t\tdoresize = false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$(this).removeClass('pp_contract').addClass('pp_expand');\n\t\t\t\t\t\tdoresize = true;\n\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t\t_hideContent(function(){ $.prettyPhoto.open(); });\n\t\t\t\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\t$pp_pic_holder.find('.pp_previous, .pp_nav .pp_arrow_previous').bind('click',function(){\n\t\t\t\t$.prettyPhoto.changePage('previous');\n\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\n\t\t\t$pp_pic_holder.find('.pp_next, .pp_nav .pp_arrow_next').bind('click',function(){\n\t\t\t\t$.prettyPhoto.changePage('next');\n\t\t\t\t$.prettyPhoto.stopSlideshow();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t\n\t\t\t_center_overlay(); // Center it\n\t\t};\n\n\t\tif(!pp_alreadyInitialized && getHashtag()){\n\t\t\tpp_alreadyInitialized = true;\n\t\t\t\n\t\t\t// Grab the rel index to trigger the click on the correct element\n\t\t\thashIndex = getHashtag();\n\t\t\thashRel = hashIndex;\n\t\t\thashIndex = hashIndex.substring(hashIndex.indexOf('/')+1,hashIndex.length-1);\n\t\t\thashRel = hashRel.substring(0,hashRel.indexOf('/'));\n\n\t\t\t// Little timeout to make sure all the prettyPhoto initialize scripts has been run.\n\t\t\t// Useful in the event the page contain several init scripts.\n\t\t\tsetTimeout(function(){ $(\"a[\"+pp_settings.hook+\"^='\"+hashRel+\"']:eq(\"+hashIndex+\")\").trigger('click'); },50);\n\t\t}\n\t\t\n\t\treturn this.unbind('click.prettyphoto').bind('click.prettyphoto',$.prettyPhoto.initialize); // Return the jQuery object for chaining. The unbind method is used to avoid click conflict when the plugin is called more than once\n\t};\n\t\n\tfunction getHashtag(){\n\t\tvar url = location.href;\n\t\thashtag = (url.indexOf('#prettyPhoto') !== -1) ? decodeURI(url.substring(url.indexOf('#prettyPhoto')+1,url.length)) : false;\n\t\tif(hashtag){  hashtag = hashtag.replace(/<|>/g,''); }\n\t\treturn hashtag;\n\t};\n\t\n\tfunction setHashtag(){\n\t\tif(typeof theRel == 'undefined') return; // theRel is set on normal calls, it's impossible to deeplink using the API\n\t\tlocation.hash = theRel + '/'+rel_index+'/';\n\t};\n\t\n\tfunction clearHashtag(){\n\t\tif ( location.href.indexOf('#prettyPhoto') !== -1 ) location.hash = \"prettyPhoto\";\n\t}\n\t\n\tfunction getParam(name,url){\n\t  name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n\t  var regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\n\t  var regex = new RegExp( regexS );\n\t  var results = regex.exec( url );\n\t  return ( results == null ) ? \"\" : results[1];\n\t}\n\t\n})(jQuery);\n\nvar pp_alreadyInitialized = false; // Used for the deep linking to make sure not to call the same function several times.\n", "=== Plugin Name ===\r\nContributors: royaltechbd\r\nDonate link: http://royaltechbd.com/donate.html\r\nTags: jQuery Lightbox, jQuery, jQuery PrettyPhoto, Lightbox, PrettyPhoto, royal, royaltechbd\r\nRequires at least: 3.3\r\nTested up to: 4.2.2\r\nStable tag: 1.3\r\nLicense: GPLv2 or later\r\nLicense URI: http://www.gnu.org/licenses/gpl-2.0.html\r\n\r\nThis plugin will automatic add lightbox in wordpress post/page without disturbance.\r\n\r\n\r\n== Description ==\r\n\r\nThis plugin will automatic add lightbox in wordpress post/page without disturbance.\r\n\r\n### Features\r\n* Easy to use.\r\n* Support Images, Youtube Video, Vimeo video, iFrame, DEV. \r\n* For image not need to add rel\r\n\r\n### Browser support\r\n* Firefox 3.0+ Google\r\n* Chrome 10.0+ \r\n* Internet Explorer 6.0+ \r\n* Safari 3.1.1+ \r\n* Opera 9+\r\n\r\n### More\r\n* Thank you for using our plugin.\r\n* Vist the [blog post](http://www.royaltechbd.com/rt-prettyphoto/) to know more.\r\n* [Give a Rating & Write a Review](http://goo.gl/3lNO1R)\r\n\r\n\r\n### Special Thanks\r\n* [No Margin For Errors](http://www.no-margin-for-errors.com/projects/prettyphoto-jquery-lightbox-clone)\r\n* [Rasel Ahmed](http://www.rrfoundation.net)\r\n\r\n== Installation ==\r\n\r\n\r\n1. Upload the plugin to the '/wp-content/plugins/' directory\r\n2. Activate the plugin through the 'Plugins' menu in WordPress\r\n3. Add Images as like you upload (with media link)\r\n\r\n\r\n### Examples:\r\n\r\n= To add a Single Video =\r\n`<a href=\"Full Video Link\" rel=\"prettyPhoto\" ><img src=\"Full Thumbnail Path\" alt=\"\"/></a>`\r\n\r\n= To add video with default image gallery =\r\n`<a href=\"Full Video Link\" rel=\"prettyPhoto[Your_Post_ID]\" ><img src=\"Full Thumbnail Path\" alt=\"\"/></a>`\r\nIf you post ID is 708 rel should rel=\"prettyPhoto[708]\".\r\n\r\n= Aditional Gallery with Image, Youtube Video, Vimeo Video or DIV =\r\n`<div id=\"complexgallery\">\r\n\t<a href=\"Internal or External Full Image Link\" rel=\"prettyPhoto[galleryname]\"><img src=\"Full Thumbnail Path\" alt=\"\"/></a>\r\n\t<a href=\"Youtube Full Video Link\" rel=\"prettyPhoto[galleryname]\"><img src=\"Full Thumbnail Path\" alt=\"\"/></a>\r\n\t<a href=\"Vimeo Full Video Link\" rel=\"prettyPhoto[galleryname]\"><img src=\"Full Thumbnail Path\" alt=\"\"/></a>\r\n\t<a href=\"#DIV_ID_NAME\" rel=\"prettyPhoto[galleryname]\"><img src=\"Full Thumbnail Path\" alt=\"\"/></a>\r\n\t<a href=\"#DIV_ID_NAME\" rel=\"prettyPhoto[galleryname]\">Text for Link</a>\r\n</div>`\r\nFor DIV you should add a div like below.\r\n`<div id=\"DIV_ID_NAME\" style=\"display:none\">\r\n<p>This is inline DEV content for prettyPhoto.</p>\r\n<p>Your DIV full content here.</p><p>Your DIV full content here.</p><p>Your DIV full content here.</p><p>Your DIV full content here.</p></div>\r\n</div>`\r\n\r\n\r\n= iframe =\r\n`\r\n<a href=\"http://royaltechbd.com/?iframe=true&width=100%&height=100%\" rel=\"prettyPhoto[iframes]\" title=\"royaltechbd.com opened at 100%\">royaltechbd.com</a>\r\n<a href=\"http://shamokaldarpon.com/?iframe=true&width=500&height=250\" rel=\"prettyPhoto[iframes]\">shamokaldarpon.com</a>\r\n`\r\n\r\n\r\n= Flash content =\r\n`<a href=\"http://www.adobe.com/jp/events/cs3_web_edition_tour/swfs/perform.swf?width=792&amp;height=294\" rel=\"prettyPhoto[flash]\" title=\"Flash\">\r\n<img src=\"Full Thumbnail Path\" alt=\"Flash content\" /></a>\r\n`\r\n\r\n= QuickTime movies =\r\n`\r\n<a title=\"QuickTime movies\" rel=\"prettyPhoto[movies]\" href=\"http://trailers.apple.com/movies/universal/despicableme/despicableme-tlr1_r640s.mov?width=640&height=360\">\r\n<img src=\"Full Thumbnial Path\" alt=\"QuickTime movies\" /></a>\r\n`\r\n\r\n\r\n== Frequently asked questions ==\r\n\r\n= Is it need rel=\"\" =\r\n\r\nNo, Just add photo, It automatic add rel=\"\".\r\n\r\n\r\n== Screenshots ==\r\n1. Royal PrettyPhoto Settings.\r\n2. Royal PrettyPhoto in action.\r\n\r\n\r\n== Changelog ==\r\n= 1.3 =\r\n* xss fixed\r\n\r\n= 1.2 =\r\n* Bug fixed\r\n\r\n= 1.1 =\r\n* Expand button disable option\r\n\r\n= 1.0.1 =\r\n* Add Settings\r\n\r\n= 1.0.0 =\r\n* Initial release\r\n\r\n\r\n== Upgrade notice ==\r\n= 1.3 =\r\n* xss fixed\r\n\r\n= 1.2 =\r\n* Bug fixed\r\n\r\n= 1.1 =\r\n* Expand button disable option\r\n\r\n= 1.0.0 =\r\nIt is Initial release", "<?php\r\n/*\r\nPlugin Name: Royal PrettyPhoto\r\nPlugin URI: http://www.wordpress.org/plugins/rt-prettyphoto\r\nDescription: This plugin will automatic add lightbox in wordpress post/page without disturbance.\r\nAuthor: SM Mehdi Akram\r\nAuthor URI: http://www.shamokaldarpon.com\r\nVersion: 1.3\r\n*/\r\n\r\n\r\n//Additional links on the plugin page\r\nadd_filter( 'plugin_row_meta', 'royal_prettyphoto_plugin_links', 10, 2 );\r\nfunction royal_prettyphoto_plugin_links($links, $file) {\r\n\t$base = plugin_basename(__FILE__);\r\n\tif ($file == $base) {\r\n\t\t$links[] = '<a href=\"http://wordpress.org/plugins/rt-prettyphoto/installation/\" target=\"_blank\">' . __( 'Installation', 'rsb' ) . '</a>';\r\n\t\t$links[] = '<a href=\"http://www.royaltechbd.com/\" target=\"_blank\">' . __( 'Royal Technologies', 'rsb' ) . '</a>';\r\n\t\t$links[] = '<a href=\"http://www.shamokaldarpon.com/\" target=\"_blank\">' . __( 'Shamokal Darpon', 'rsb' ) . '</a>';\r\n\t}\r\n\treturn $links;\r\n}\r\n\r\n\r\nadd_filter('the_content', 'royal_prettyphoto_replace', 12);\r\nfunction royal_prettyphoto_replace ($content)\r\n{   global $post;\r\n\t$pattern = \"/<a(.*?)href=('|\\\")([^>]*).(bmp|gif|jpeg|jpg|png)('|\\\")(.*?)>(.*?)<\\/a>/i\";\r\n    $replacement = '<a$1href=$2$3.$4$5 rel=\"prettyPhoto['.$post->ID.']\"$6>$7</a>';\r\n    $content = preg_replace($pattern, $replacement, $content);\r\n    return $content;\r\n}\r\n\r\n/*Some Set-up*/\r\ndefine('RT_WPP_PLUGIN_PATH', WP_PLUGIN_URL . '/' . plugin_basename( dirname(__FILE__) ) . '/' );\r\n\r\n\r\n/* Adding Latest jQuery from Wordpress */\r\nfunction rt_wpp_latest_jquery() {\r\n\twp_enqueue_script('jquery');\r\n}\r\nadd_action('init', 'rt_wpp_latest_jquery');\r\n\r\n\r\n\r\n/* Adding plugin javascript active file */\r\nwp_enqueue_script('rt-wpp-plugin-active', RT_WPP_PLUGIN_PATH.'js/jquery.prettyPhoto.js', array('jquery'));\r\n/* Adding plugin javascript active file */\r\nwp_enqueue_script('rt-wpp-plugin-script-active', RT_WPP_PLUGIN_PATH.'js/wpp-active.js', array('jquery'));\r\n\r\n/* Adding Plugin custm CSS file */\r\nwp_enqueue_style('rt-wpp-plugin-style', RT_WPP_PLUGIN_PATH.'css/prettyPhoto.css');\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*************** Setting System*******************/\r\n\r\n\r\n\r\n\r\n\r\n// Add options and populate default values on first load\r\nfunction royal_prettyphoto_activate_plugin() {\r\n\r\n\t// populate plugin options array\r\n\t$royal_prettyphoto_plugin_options = array(\t\t\r\n\t\t'font_family'      => '\"Righteous\", cursive',\r\n\t\t'text_color'       => '#ffffff',\r\n\t\t'hide_photo_control' => '0',\r\n\t\t'hide_photo_title' => '0',\r\n\t\t'hide_social_icons' => '0',\r\n\t\t'hide_photo_thumbnial' => '0',\r\n\t\t'hide_photo_nav_arrow' => '0',\r\n\t\t'hide_photo_expand_button' => '0'\t\r\n\t\t);\r\n\r\n\t// create field in WP_options to store all plugin data in one field\r\n\tadd_option( 'royal_prettyphoto_plugin_options', $royal_prettyphoto_plugin_options );\r\n\r\n}\r\n\r\n\r\n// Fire off hooks depending on if the admin settings page is used or the public website\r\nif ( is_admin() ){ // admin actions and filters\r\n\r\n\t// Hook for adding admin menu\r\n\tadd_action( 'admin_menu', 'royal_prettyphoto_admin_menu' );\r\n\r\n\t// Hook for registering plugin option settings\r\n\tadd_action( 'admin_init', 'royal_prettyphoto_settings_api_init');\r\n\r\n\t// Hook to fire farbtastic includes for using built in WordPress color picker functionality\r\n\tadd_action('admin_enqueue_scripts', 'royal_prettyphoto_farbtastic_script');\r\n\r\n\t// Display the 'Settings' link in the plugin row on the installed plugins list page\r\n\tadd_filter( 'plugin_action_links_'.plugin_basename(__FILE__), 'royal_prettyphoto_admin_plugin_actions', -10);\r\n\r\n} else { // non-admin enqueues, actions, and filters\r\n\r\n\r\n\t// get the current page url\r\n\t$royal_prettyphoto_current_page_url \t\t\t= royal_prettyphoto_get_full_url();\r\n\r\n\r\n\t// get the tab url from the plugin option variable array\r\n\t$royal_prettyphoto_plugin_option_array\t= get_option( 'royal_prettyphoto_plugin_options' );\r\n\r\n\r\n\t// compare the page url and the option tab - don't render the tab if the values are the same\r\n\tif ( $royal_prettyphoto_tab_url != $royal_prettyphoto_current_page_url ) {\r\n\r\n\t\t// hook to get option values and dynamically render css to support the tab classes\r\n\t\tadd_action( 'wp_head', 'royal_prettyphoto_custom_css_hook' );\r\n\r\n\t\t// hook to get option values and write the div for the Royal PrettyPhoto to display\r\n\t\tadd_action( 'wp_footer', 'royal_prettyphoto_body_tag_html' );\r\n\t}\r\n}\r\n\r\n\r\n\r\n// get the complete url for the current page\r\nfunction royal_prettyphoto_get_full_url()\r\n{\r\n\t$s \t\t\t= empty($_SERVER[\"HTTPS\"]) ? '' : ($_SERVER[\"HTTPS\"] == \"on\") ? \"s\" : \"\";\r\n\t$sp \t\t= strtolower($_SERVER[\"SERVER_PROTOCOL\"]);\r\n\t$protocol \t= substr($sp, 0, strpos($sp, \"/\")) . $s;\r\n\t$port \t\t= ($_SERVER[\"SERVER_PORT\"] == \"80\") ? \"\" : (\":\".$_SERVER[\"SERVER_PORT\"]);\r\n\treturn $protocol . \"://\" . $_SERVER['SERVER_NAME'] . $port . $_SERVER['REQUEST_URI'];\r\n}\r\n\r\n\r\n\r\n// Include WordPress color picker functionality\r\nfunction royal_prettyphoto_farbtastic_script($hook) {\r\n\r\n\t// only enqueue farbtastic on the plugin settings page\r\n\tif( $hook != 'settings_page_royal_pretty_photo' ) \r\n\t\treturn;\r\n\r\n\r\n\t// load the style and script for farbtastic\r\n\twp_enqueue_style( 'farbtastic' );\r\n\twp_enqueue_script( 'farbtastic' );\r\n\r\n}\r\n\r\n\r\n\r\n// action function to get option values and write the div for the Royal PrettyPhoto to display\r\nfunction royal_prettyphoto_body_tag_html() {\r\n\r\n\t// get plugin option array and store in a variable\r\n\t$royal_prettyphoto_plugin_option_array\t= get_option( 'royal_prettyphoto_plugin_options' );\r\n\r\n\t// fetch individual values from the plugin option variable array\r\n\t$royal_prettyphoto_target_blank\t\t\t= $royal_prettyphoto_plugin_option_array[ 'target_blank' ];\r\n\r\n\t// set the page target\r\n\tif ($royal_prettyphoto_target_blank == '1') {\r\n\t\t$royal_prettyphoto_target_blank = ' target=\"_blank\"';\r\n\t}\r\n\r\n\t// Write HTML to render tab\r\n\techo '<a href=\"' . esc_url( $royal_prettyphoto_tab_url ) . '\"' . $royal_prettyphoto_target_blank . '><div id=\"royal_prettyphoto_tab\" class=\"royal_prettyphoto_contents royal_prettyphoto_left\">' . esc_html( $royal_prettyphoto_text_for_tab ) . '</div></a>';\r\n}\r\n\r\n\r\n\r\n// action function to add a new submenu under Settings\r\nfunction royal_prettyphoto_admin_menu() {\r\n\r\n\t// Add a new submenu under Settings\r\n\tadd_options_page( 'Royal PrettyPhoto Option Settings', 'Royal PrettyPhoto', 'manage_options', 'royal_pretty_photo', 'royal_prettyphoto_options_page' );\r\n}\r\n\r\n\r\n// Display and fill the form fields for the plugin admin page\r\nfunction royal_prettyphoto_options_page() {\r\n\r\n\r\n?>\r\n\r\n\t<div class=\"wrap\">\r\n\t<?php screen_icon( 'plugins' ); ?>\r\n\t<h2>Royal PrettyPhoto</h2>\r\n\t<p>You can control Font Family, Photo Title with color, Social Icons, Photo Thumbnial, Nav Arrow, Photo Control & Expand Button.</p>\r\n\t<strong>NOTE: This plugin requires the WP_footer() hook to be fired from your theme.</strong></p>\r\n\t<form method=\"post\" action=\"options.php\">\r\n\r\n\r\n<?php\r\n\r\n\tsettings_fields( 'royal_prettyphoto_option_group' );\r\n\tdo_settings_sections( 'royal_pretty_photo' );\r\n\r\n\t// get plugin option array and store in a variable\r\n\t$royal_prettyphoto_plugin_option_array\t= get_option( 'royal_prettyphoto_plugin_options' );\r\n\r\n\t// fetch individual values from the plugin option variable array\r\n\t$royal_prettyphoto_font_family\t\t\t= $royal_prettyphoto_plugin_option_array[ 'font_family' ];\r\n\t$royal_prettyphoto_text_color\t\t\t= $royal_prettyphoto_plugin_option_array[ 'text_color' ];\r\n\t$royal_prettyphoto_hide_photo_title\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_title' ];\r\n\t$royal_prettyphoto_hide_photo_control\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_control' ];\r\n\t$royal_prettyphoto_hide_social_icons\t= $royal_prettyphoto_plugin_option_array[ 'hide_social_icons' ];\r\n\t$royal_prettyphoto_hide_photo_thumbnial\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_thumbnial' ];\r\n\t$royal_prettyphoto_hide_photo_nav_arrow\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_nav_arrow' ];\r\n\t$royal_prettyphoto_hide_photo_expand_button\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_expand_button' ];\r\n\r\n?>\r\n\r\n<script type=\"text/javascript\">\r\n\tjQuery(document).ready(function() {\r\n\t\tjQuery('#colorpicker1').hide();\r\n\t\tjQuery('#colorpicker1').farbtastic(\"#color1\");\r\n\t\tjQuery(\"#color1\").click(function(){jQuery('#colorpicker1').slideToggle()});\r\n\t});\r\n</script>\r\n\r\n\r\n\t<table class=\"widefat\">\r\n\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_tab_font\">Select Google font for Photo Title</label></th>\r\n\t\t<td>\r\n\t\t\t<select name=\"royal_prettyphoto_plugin_options[font_family]\">\t\r\n\t\t\t\t<option value='\"Righteous\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Righteous\", cursive' );\t\t\t\t\t\t\t?>\t>Righteous</option>\r\n\t\t\t\t<option value='\"Titan One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Titan One\", cursive' );\t\t\t\t\t\t\t?>\t>Titan One</option>\r\n\t\t\t\t<option value='\"Finger Paint\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Finger Paint\", cursive' );\t\t\t\t\t\t\t?>\t>Finger Paint</option>\r\n\t\t\t\t<option value='\"Londrina Shadow\", cursive'\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Londrina Shadow\", cursive' );\t\t\t\t\t\t?>\t>Londrina Shadow</option>\r\n\t\t\t\t<option value='\"Autour One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Autour One\", cursive' );\t\t\t\t\t\t\t?>\t>Autour One</option>\r\n\t\t\t\t<option value='\"Meie Script\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Meie Script\", cursive' );\t\t\t\t\t\t\t?>\t>Meie Script</option>\r\n\t\t\t\t<option value='\"Sonsie One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Sonsie One\", cursive' );\t\t\t\t\t\t\t?>\t>Sonsie One</option>\r\n\t\t\t\t<option value='\"Kavoon\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Kavoon\", cursive' );\t\t\t\t\t\t\t\t?>\t>Kavoon</option>\r\n\t\t\t\t<option value='\"Racing Sans One\", cursive'\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Racing Sans One\", cursive' );\t\t\t\t\t\t?>\t>Racing Sans One</option>\r\n\t\t\t\t<option value='\"Gravitas One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Gravitas One\", cursive' );\t\t\t\t\t\t\t?>\t>Gravitas One</option>\r\n\t\t\t\t<option value='\"Nosifer\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Nosifer\", cursive' );\t\t\t\t\t\t\t\t?>\t>Nosifer</option>\r\n\t\t\t\t<option value='\"Offside\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Offside\", cursive' );\t\t\t\t\t\t\t\t?>\t>Offside</option>\r\n\t\t\t\t<option value='\"Audiowide\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Audiowide\", cursive' );\t\t\t\t\t\t\t?>\t>Audiowide</option>\r\n\t\t\t\t<option value='\"Faster One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Faster One\", cursive' );\t\t\t\t\t\t\t?>\t>Faster One</option>\r\n\t\t\t\t<option value='\"Germania One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Germania One\", cursive' );\t\t\t\t\t\t\t?>\t>Germania One</option>\r\n\t\t\t\t<option value='\"Emblema One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Emblema One\", cursive' );\t\t\t\t\t\t\t?>\t>Emblema One</option>\r\n\t\t\t\t<option value='\"Sansita One\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Sansita One\", cursive' );\t\t\t\t\t\t\t?>\t>Sansita One</option>\r\n\t\t\t\t<option value='\"Creepster\", cursive'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Creepster\", cursive' );\t\t\t\t\t\t\t?>\t>Creepster</option>\r\n\t\t\t\t<option value='\"Delius Unicase\", cursive'\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Delius Unicase\", cursive' );\t\t\t\t\t\t?>\t>Delius Unicase</option>\r\n\t\t\t\t<option value='\"Wallpoet\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Wallpoet\", cursive' );\t\t\t\t\t\t\t\t?>\t>Wallpoet</option>\r\n\t\t\t\t<option value='\"Monoton\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Monoton\", cursive' );\t\t\t\t\t\t\t\t?>\t>Monoton</option>\r\n\t\t\t\t<option value='\"Kenia\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Kenia\", cursive' );\t\t\t\t\t\t\t\t?>\t>Kenia</option>\r\n\t\t\t\t<option value='\"Monofett\", cursive'\t\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Monofett\", cursive' );\t\t\t\t\t\t\t\t?>\t>Monofett</option>\r\n\t\t\t\t<option value='\"Denk One\", sans-serif'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Denk One\", sans-serif' );\t\t\t\t\t\t\t?>\t>Denk One</option>\r\n\t\t\t\t<option value='\"Ropa Sans\", sans-serif'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Ropa Sans\", sans-serif' );\t\t\t\t\t\t\t?>\t>Ropa Sans</option>\r\n\t\t\t\t<option value='\"Paytone One\", sans-serif'\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Paytone One\", sans-serif' );\t\t\t\t\t\t?>\t>Paytone One</option>\r\n\t\t\t\t<option value='\"Russo One\", sans-serif'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Russo One\", sans-serif' );\t\t\t\t\t\t\t?>\t>Russo One</option>\r\n\t\t\t\t<option value='\"Krona One\", sans-serif'\t\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Krona One\", sans-serif' );\t\t\t\t\t\t\t?>\t>Krona One</option>\r\n\t\t\t\t<option value='\"Rum Raisin\", sans-serif'\t\t\t\t\t\t<?php selected( $royal_prettyphoto_font_family, '\"Rum Raisin\", sans-serif' );\t\t\t\t\t\t?>\t>Rum Raisin</option>\r\n\t\t\t\t\r\n\t\t\t</select>\r\n\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr valign=\"top\">\r\n\t\t<th width=\"33%\" scope=\"row\"><label for=\"royal_prettyphoto_hide_photo_title\">Hide Photo Title</label></th>\r\n\t\t<td ><input name=\"royal_prettyphoto_plugin_options[hide_photo_title]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_photo_title ); ?> /></td>\r\n\t\t</tr>\t\t\r\n\t\t\r\n\t\t<tr valign=\"top\">\r\n\t\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_text_color\">Text color (Default #FFFFFF)</label></th>\r\n\t\t\t<td><input type=\"text\" maxlength=\"7\" size=\"6\" value=\"<?php echo esc_attr( $royal_prettyphoto_text_color ); ?>\" name=\"royal_prettyphoto_plugin_options[text_color]\" id=\"color1\" />\r\n\t\t\t<div id=\"colorpicker1\"></div></td>\r\n\t\t</tr>\r\n\t\t\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_hide_photo_control\">Hide Photo Control</label></th>\r\n\t\t<td><input name=\"royal_prettyphoto_plugin_options[hide_photo_control]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_photo_control); ?> /></td>\r\n\t\t</tr>\t\t\r\n\t\t\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_hide_photo_expand_button\">Hide Photo Expand Button</label></th>\r\n\t\t<td><input name=\"royal_prettyphoto_plugin_options[hide_photo_expand_button]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_photo_expand_button); ?> /></td>\r\n\t\t</tr>\r\n\t\t\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_hide_social_icons\">Hide Social Icons</label></th>\r\n\t\t<td><input name=\"royal_prettyphoto_plugin_options[hide_social_icons]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_social_icons); ?> /></td>\r\n\t\t</tr>\r\n\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_hide_photo_thumbnial\">Hide Photo Thumbnial</label></th>\r\n\t\t<td><input name=\"royal_prettyphoto_plugin_options[hide_photo_thumbnial]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_photo_thumbnial); ?> /></td>\r\n\t\t</tr>\r\n\t\t\r\n\t\t<tr valign=\"top\">\r\n\t\t<th scope=\"row\"><label for=\"royal_prettyphoto_hide_photo_nav_arrow\">Hide Photo Nav Arrow</label></th>\r\n\t\t<td><input name=\"royal_prettyphoto_plugin_options[hide_photo_nav_arrow]\" type=\"checkbox\" value=\"1\" <?php checked( '1', $royal_prettyphoto_hide_photo_nav_arrow); ?> /></td>\r\n\t\t</tr>\r\n\t\t\r\n\t</table>\r\n\r\n\t<p class=\"submit\"><input type=\"submit\" class=\"button-primary\" value=\"<?php _e('Save Changes') ?>\" /></p>\r\n\r\n\r\n\r\n<?php\r\n\techo '</form>';\r\n\techo '</div>';\r\n}\r\n\r\n\r\n\r\n// Use Settings API to whitelist options\r\nfunction royal_prettyphoto_settings_api_init() {\r\n\r\n\tregister_setting( 'royal_prettyphoto_option_group', 'royal_prettyphoto_plugin_options' );\r\n\r\n}\r\n\r\n\r\n\r\n// Build array of links for rendering in installed plugins list\r\nfunction royal_prettyphoto_admin_plugin_actions($links) {\r\n\r\n\t$links[] = '<a href=\"options-general.php?page=royal_pretty_photo\">'.__('Settings').'</a>';\r\n\treturn $links;\r\n\r\n}\r\n\r\n\r\n\r\n// This function runs all the css and dynamic css elements for displaying the Royal PrettyPhoto\r\nfunction royal_prettyphoto_custom_css_hook() {\r\n\r\n\t// get plugin option array and store in a variable\r\n\t$royal_prettyphoto_plugin_option_array\t= get_option( 'royal_prettyphoto_plugin_options' );\r\n\r\n\t// fetch individual values from the plugin option variable array\r\n\t$royal_prettyphoto_font_family\t\t\t\t= $royal_prettyphoto_plugin_option_array[ 'font_family' ];\t\r\n\t$royal_prettyphoto_text_color\t\t\t\t= $royal_prettyphoto_plugin_option_array[ 'text_color' ];\r\n\t$royal_prettyphoto_hide_photo_title\t\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_title' ];\r\n\t$royal_prettyphoto_hide_photo_control\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_control' ];\r\n\t$royal_prettyphoto_hide_social_icons\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_social_icons' ];\r\n\t$royal_prettyphoto_hide_photo_thumbnial\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_thumbnial' ];\r\n\t$royal_prettyphoto_hide_photo_nav_arrow\t\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_nav_arrow' ];\r\n\t$royal_prettyphoto_hide_photo_expand_button\t= $royal_prettyphoto_plugin_option_array[ 'hide_photo_expand_button' ];\r\n\r\n?>\r\n\r\n<style type='text/css'>\r\n/* Begin Royal PrettyPhoto Styles*/\r\n\r\n@import url(http://fonts.googleapis.com/css?family=Autour+One|Meie+Script|Armata|Rum+Raisin|Sonsie+One|Kavoon|Denk+One|Gravitas+One|Racing+Sans+One|Nosifer|Ropa+Sans|Offside|Titan+One|Paytone+One|Audiowide|Righteous|Faster+One|Russo+One|Germania+One|Krona+One|Emblema+One|Creepster|Delius+Unicase|Wallpoet|Sansita+One|Monoton|Kenia|Monofett);\r\n\r\ndiv.ppt {\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_photo_title =='1' ) :\r\n\t  echo 'display: none!important;' . \"\\n\";\r\n\telse :\r\n\t  echo ' display: none;' . \"\\n\";\r\n\tendif;\r\n\t?>\r\n}\r\n\r\n\r\n.pp_nav {\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_photo_control =='1' ) :\r\n\t  echo ' display: none !important;' . \"\\n\";\r\n\telse :\r\n\t  \r\n\tendif;\r\n\t?> \r\n}\r\n\r\n\r\n.pp_social {\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_social_icons =='1' ) :\r\n\t  echo ' display: none !important;' . \"\\n\";\r\n\telse :\r\n\t  \r\n\tendif;\r\n\t?> \r\n}\r\n\r\n\r\n.pp_gallery {\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_photo_thumbnial =='1' ) :\r\n\t  echo ' display: none !important;' . \"\\n\";\r\n\telse :\r\n\t  \r\n\tendif;\r\n\t?> \r\n}\r\n\r\n\r\ndiv.ppt{\r\n\tfont-family:<?php echo $royal_prettyphoto_font_family; ?>;\r\n\tcolor:<?php echo $royal_prettyphoto_text_color; ?>;\r\n}\r\n\r\n\r\na.pp_next, a.pp_previous \r\n{\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_photo_nav_arrow =='1' ) :\r\n\t  echo ' display: none !important;' . \"\\n\";\r\n\telse :\r\n\t  \r\n\tendif;\r\n\t?> \r\n}\r\n\r\n\r\ndiv.pp_default .pp_expand, \r\n.pp_fade a.pp_expand, \r\na.pp_expand, \r\ndiv.facebook .pp_expand, \r\ndiv.light_square .pp_expand, \r\ndiv.dark_square .pp_expand, \r\ndiv.dark_rounded .pp_expand, \r\ndiv.light_rounded .pp_expand\r\n{\r\n\t<?php\r\n\tif ( $royal_prettyphoto_hide_photo_expand_button =='1' ) :\r\n\t  echo 'display: none !important;' . \"\\n\";\r\n\telse :\r\n\t  \r\n\tendif;\r\n\t?> \r\n}\r\n\r\n\r\n/* End Royal PrettyPhoto Styles*/\r\n</style>\r\n\r\n<?php\r\n}\r\n"], "filenames": ["js/jquery.prettyPhoto.js", "readme.txt", "rt-prettyphoto.php"], "buggy_code_start_loc": [5, 6, 8], "buggy_code_end_loc": [8, 117, 27], "fixing_code_start_loc": [5, 6, 8], "fixing_code_end_loc": [912, 124, 25], "type": "CWE-79", "message": "A vulnerability was found in rt-prettyphoto Plugin up to 1.2 on WordPress and classified as problematic. Affected by this issue is the function royal_prettyphoto_plugin_links of the file rt-prettyphoto.php. The manipulation leads to cross site scripting. The attack may be launched remotely. Upgrading to version 1.3 is able to address this issue. The patch is identified as 0d3d38cfa487481b66869e4212df1cefc281ecb7. It is recommended to upgrade the affected component. VDB-249422 is the identifier assigned to this vulnerability.", "other": {"cve": {"id": "CVE-2015-10128", "sourceIdentifier": "cna@vuldb.com", "published": "2024-01-02T14:15:07.810", "lastModified": "2024-02-29T01:16:12.793", "vulnStatus": "Modified", "descriptions": [{"lang": "en", "value": "A vulnerability was found in rt-prettyphoto Plugin up to 1.2 on WordPress and classified as problematic. Affected by this issue is the function royal_prettyphoto_plugin_links of the file rt-prettyphoto.php. The manipulation leads to cross site scripting. The attack may be launched remotely. Upgrading to version 1.3 is able to address this issue. The patch is identified as 0d3d38cfa487481b66869e4212df1cefc281ecb7. It is recommended to upgrade the affected component. VDB-249422 is the identifier assigned to this vulnerability."}, {"lang": "es", "value": "Una vulnerabilidad fue encontrada en rt-prettyphoto Plugin up to 1.2 en WordPress y clasificada como problem\u00e1tica. La funci\u00f3n royal_prettyphoto_plugin_links del archivo rt-prettyphoto.php es afectada por esta vulnerabilidad. La manipulaci\u00f3n conduce a cross site scripting. El ataque puede lanzarse de forma remota. La actualizaci\u00f3n a la versi\u00f3n 1.3 puede solucionar este problema. El parche se identifica como 0d3d38cfa487481b66869e4212df1cefc281ecb7. Se recomienda actualizar el componente afectado. VDB-249422 es el identificador asignado a esta vulnerabilidad."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 6.1, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 2.7}, {"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:U/C:N/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 3.5, "baseSeverity": "LOW"}, "exploitabilityScore": 2.1, "impactScore": 1.4}], "cvssMetricV2": [{"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:S/C:N/I:P/A:N", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "SINGLE", "confidentialityImpact": "NONE", "integrityImpact": "PARTIAL", "availabilityImpact": "NONE", "baseScore": 4.0}, "baseSeverity": "MEDIUM", "exploitabilityScore": 8.0, "impactScore": 2.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "cna@vuldb.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:royaltechbd:royal_prettyphoto:*:*:*:*:*:wordpress:*:*", "versionEndExcluding": "1.3", "matchCriteriaId": "7D7871D2-A668-46F5-83F0-A6AC595BA243"}]}]}], "references": [{"url": "https://github.com/wp-plugins/rt-prettyphoto/commit/0d3d38cfa487481b66869e4212df1cefc281ecb7", "source": "cna@vuldb.com", "tags": ["Patch"]}, {"url": "https://vuldb.com/?ctiid.249422", "source": "cna@vuldb.com", "tags": ["Third Party Advisory"]}, {"url": "https://vuldb.com/?id.249422", "source": "cna@vuldb.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/wp-plugins/rt-prettyphoto/commit/0d3d38cfa487481b66869e4212df1cefc281ecb7"}}