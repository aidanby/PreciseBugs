{"buggy_code": ["# GLPI changes\n\nThe present file will list all changes made to the project; according to the\n[Keep a Changelog](http://keepachangelog.com/) project.\n\n## [9.5.2] unreleased\n\n### API changes\n\n#### Removed\n\n- Ability to use SQL expressions as string in criterion values in SQL iterator (replaced by usage of `QueryExpression`).\n\n## [9.5.1] 2020-07-16\n\n## [9.5.0] 2020-07-07\n\n### Added\n\n- Encrypted file systems support.\n- Mails collected from suppliers can be marked as private on an entity basis.\n- Ability to add custom CSS in entity configuration.\n- CLI commands to enable and disable maintenance mode.\n- Operating system links on Monitors, Peripherals, Phones and Printers.\n- Add datacenter items to global search\n- Project task search options for Projects\n- Automatic action to purge closed tickets\n- Ability to automatically calculate project's percent done\n- Software link on Phones.\n- Add and answer approvals from timeline\n- Add lightbox with PhotoSwipe to timeline images\n- Ability to copy tasks while merging tickets\n- the API gives the ID of the user who logs in with initSession\n- Kanban view for projects\n- Network ports on Monitors\n- Add warning when there are unsaved changes in forms\n- Add ability to get information from the status endpoint in JSON format using Accept header\n- Add `glpi:system:status` CLI command for getting the GLPI status\n\n### Changed\n\n- PHP error_reporting and display_errors configuration directives are no longer overrided by GLPI, unless in debug mode (which forces reporting and display of all errors).\n- `scripts/migrations/racks_plugin.php` has been replaced by `glpi:migration:racks_plugin_to_core` command available using `bin/console`\n- Encryption alogithm improved using libsodium\n\n### API changes\n\n#### Added\n\n- Add translation functions `__()`,  `_n()`,  `_x()` and  `_nx()` in javascript in browser context.\n- `Migration::renameItemtype()` method to update of database schema/values when an itemtype class is renamed\n- Menu returned by `CommonGLPI::getMenuContent()` method override may now define an icon for each menu entry.\n- `CommonDBConnexity::getItemsAssociatedTo()` method to get the items associated to the given one\n- `CommonDBConnexity::getItemsAssociationRequest()` method to get the DB request to use to get the items associated to the given one\n- `CommonDBTM::clone()` method to clone the current item\n- `CommonDBTM::prepareInputForClone()` method to modify the input data that will be used for the cloning\n- `CommonDBTM::post_clone()` method to perform other steps after an item has been cloned (like clone the elements it is associated to)\n\n#### Changes\n\n- jQuery library has been upgraded from 2.2.x to 3.4.x. jQuery Migrate is used to ensure backward compatibility in most cases.\n- `DBmysqlIterator::handleOrderClause()` supports QueryExpressions\n- Use Laminas instead of deprecated ZendFramework\n- Database datetime fields have been replaced by timestamp fields to handle timezones support.\n- Database integer/float fields values are now returned as number instead of strings from DB read operations.\n- Field `domains_id` of Computer, NetworkEquipment and Printer has been dropped and data has been transfered into `glpi_domains_items` table.\n- Plugin status hook can now be used to provide an array with more information about the plugin's status the status of any child services.\n    - Returned array should contain a 'status' value at least (See status values in Glpi\\System\\Status\\StatusChecker)\n    - Old style returns are still supported\n\n#### Deprecated\n\n- `DBMysql::fetch_array()`\n- `DBMysql::fetch_row()`\n- `DBMysql::fetch_assoc()`\n- `DBMysql::fetch_object()`\n- `DBMysql::data_seek()`\n- `DBMysql::insert_id()`\n- `DBMysql::num_fields()`\n- `DBMysql::field_name()`\n- `DBMysql::list_fields()`\n- `DBMysql::affected_rows()`\n- `DBMysql::free_result()`\n- `DBMysql::isMySQLStrictMode()`\n- `getAllDatasFromTable` renamed to `getAllDataFromTable()`\n- Usage of `$order` parameter in `getAllDataFromTable()` (`DbUtils::getAllDataFromTable()`)\n- `Ticket::getTicketTemplateToUse()` renamed to `Ticket::getITILTemplateToUse()`\n- `TicketTemplate::getFromDBWithDatas()` renamed to `TicketTemplate::getFromDBWithData()` (inherited from `ITILTemplate`)\n- `Computer_SoftwareLicense` replaced by `Item_SoftwareLicense` and table `glpi_computers_softwarelicenses` renamed to `glpi_items_softwarelicenses`\n- `Computer_SoftwareVersion` replaced by `Item_SoftwareVersion` and table `glpi_computers_softwareversions` renamed to `glpi_items_softwareversions`\n- `Item_SoftwareVersion::updateDatasForComputer` renamed to `Item_SoftwareVersion::updateDatasForItem`\n- `Item_SoftwareVersion::showForComputer` renamed to `Item_SoftwareVersion::showForItem`\n- `Item_SoftwareVersion::softsByCategory` renamed to `Item_SoftwareVersion::softwareByCategory`\n- `Item_SoftwareVersion::displaySoftsByLicense` renamed to `Item_SoftwareVersion::displaySoftwareByLicense`\n- `Item_SoftwareVersion::cloneComputer` renamed to `Item_SoftwareVersion::cloneItem`\n- `Transfer::transferComputerSoftwares` renamed to `Transfer::transferItemSoftwares`\n- 'getRealQueryForTreeItem()'\n- ``getCommonSelect`` and ``getCommonLeftJoin()`` from ``Ticket``, ``Change`` and ``Problem`` are replaced with ``getCommonCriteria()`` compliant with db iterator\n- `Config::checkWriteAccessToDirs()`\n- `Config::displayCheckExtensions()`\n- `Toolbox::checkSELinux()`\n- `Toolbox::userErrorHandlerDebug()`\n- `Toolbox::userErrorHandlerNormal()`\n- `Html::jsDisable()`\n- `Html::jsEnable()`\n- `Plugin::setLoaded()`\n- `Plugin::setUnloaded()`\n- `Plugin::setUnloadedByName()`\n- Usage of `$LOADED_PLUGINS` global variable\n- `CommonDBTM::getRawName()` replaced by `CommonDBTM::getFriendlyName()`\n- `Calendar_Holiday::cloneCalendar()`\n- `CalendarSegment::cloneCalendar()`\n- `Computer_Item::cloneComputer()`\n- `Computer_Item::cloneItem()`\n- `ComputerAntivirus::cloneComputer()`\n- `Contract::cloneItem()`\n- `Contract_Item::cloneItem()`\n- `ContractCost::cloneContract()`\n- `Document_Item::cloneItem()`\n- `Infocom::cloneItem()`\n- `Item_Devices::cloneItem()`\n- `Item_Disk::cloneItem()`\n- `Item_OperatingSystem::cloneItem()`\n- `Item_SoftwareLicense::cloneComputer()`\n- `Item_SoftwareLicense::cloneItem()`\n- `Item_SoftwareVersion::cloneComputer()`\n- `Item_SoftwareVersion::cloneItem()`\n- `Itil_Project::cloneItilProject()`\n- `KnowbaseItem_Item::cloneItem()`\n- `NetworkPort::cloneItem()`\n- `Notepad::cloneItem()`\n- `ProjectCost::cloneProject()`\n- `ProjectTeam::cloneProjectTask()`\n- `ProjectTask::cloneProjectTeam()`\n- Usage of `GLPIKEY` constant\n- `Toolbox::encrypt()` and `Toolbox::decrypt()` because they use the old encryption aglogithm\n\n#### Removed\n\n- Usage of string `$condition` parameter in `CommonDBTM::find()`\n- Usage of string `$condition` parameter in `Dropdown::addNewCondition()`\n- Usage of string in `$option['condition']` parameter in `Dropdown::show()`\n- `KnowbaseItemCategory::showFirstLevel()`\n- `Ticket::getTicketActors()`\n- `NotificationTarget::getProfileJoinSql()`\n- `NotificationTarget::getDistinctUserSql()`\n- `NotificationTargetCommonITILObject::getProfileJoinSql()`\n- `RuleCollection::getRuleListQuery()`\n- `getNextItem()`\n- `getPreviousItem()`\n- `CommonDBChild::getSQLRequestToSearchForItem()`\n- `CommonDBConnexity::getSQLRequestToSearchForItem()`\n- `CommonDBRelation::getSQLRequestToSearchForItem()`\n- `Project::addVisibility()`\n- `Project::addVisibilityJoins()`\n- `Plugin::hasBeenInit()`\n- 'SELECT DISTINCT' and 'DISTINCT FIELDS' criteria in `DBmysqlIterator::buildQuery()`\n- `CommonDBTM::getTablesOf()`\n- `CommonDBTM::getForeignKeyFieldsOf()`\n- `TicketFollowup`\n- `getDateRequest` and `DbUtils::getDateRequest()`\n- `Html::convertTagFromRichTextToImageTag()`\n- `Transfer::createSearchConditionUsingArray()`\n- Unused constants GLPI_FONT_FREESANS and GLPI_SCRIPT_DIR\n\n## [9.4.6] 2020-05-05\n\n## [9.4.5] 2019-12-18\n\n## [9.4.4] 2019-09-24\n\n### API changes\n\n#### Changes\n- For security reasons, autocompletion feature requires now to be authorized by a `'autocomplete' => true` flag in corresponding field search option.\n\n## [9.4.3] 2019-06-20\n\n### API changes\n\n#### Deprecated\n\nThe following methods have been deprecated:\n\n- `Html::convertTagFromRichTextToImageTag()`\n\n## [9.4.2] 2019-04-11\n\n### API changes\n\n#### Deprecated\n\nThe following methods have been deprecated:\n\n- `CommonDBTM::getTablesOf()`\n- `CommonDBTM::getForeignKeyFieldsOf()`\n\n## [9.4.1] 2019-03-15\n\n### API changes\n\n#### Added\n\n- new display hook `timeline_actions` to add new buttons to timeline forms\n- Ability to copy document links while merging tickets\n\n#### Deprecated\n\nThe following methods have been deprecated:\n\n- `Plugin::hasBeenInit()`\n- Deprecate 'SELECT DISTINCT' and 'DISTINCT FIELDS' criteria in `DBmysqlIterator::buildQuery()`\n\n#### Removed\n\n- Drop `CommonITILObject::showSolutions()`.\n\n## [9.4.0] 2019-02-11\n\n### Added\n\n- Ability to link project with problems and tickets.\n- Ability to specify creation and modification dates during CommonDBTM object add method\n- Add followups to Changes and Problems.\n- Add timeline to Changes and Problems.\n- CLI console to centralize CLI commands.\n- Search on devices from Printers and Network equipments.\n- Ability to merge and split tickets.\n- Search on devices from Printers and Network equipments.\n- Ability to specify creation and modification dates during CommonDBTM object add method.\n\n### Changed\n- `license_id` field in `glpi_items_operatingsystems` table has been renamed to `licenseid`\n- `olas_tto_id` field in `glpi_tickets` table has been renamed to `olas_id_tto`\n- `olas_ttr_id` field in `glpi_tickets` table has been renamed to `olas_id_ttr`\n- `ttr_olalevels_id` field in `glpi_tickets` table has been renamed to `olalevels_id_ttr`\n- `slas_tto_id` field in `glpi_tickets` table has been renamed to `slas_id_tto`\n- `slas_ttr_id` field in `glpi_tickets` table has been renamed to `slas_id_ttr`\n- `ttr_slalevels_id` field in `glpi_tickets` table has been renamed to `slalevels_id_ttr`\n- `scripts/add_creation_date.php` has been replaced by `glpi:migration:build_missing_timestamps` command available using `bin/console`\n- `scripts/checkdb.php` has been replaced by `glpi:database:check` command available using `bin/console`\n- `scripts/cliinstall.php` has been replaced by `glpi:database:install` command available using `bin/console`\n- `scripts/cliupdate.php` has been replaced by `glpi:database:update` command available using `bin/console`\n- `scripts/ldap_mass_sync.php` has been replaced by `glpi:ldap:synchronize_users` command available using `bin/console`\n- `scripts/innodb_migration.php` has been replaced by `glpi:migration:myisam_to_innodb` command available using `bin/console`\n- `scripts/unlock_tasks.php` has been replaced by `glpi:task:unlock` command available using `bin/console`\n\n### API changes\n\n#### Changes\n- Plugins are now loaded in ajax files.\n- `TicketFollowup` has been replaced by `ITILFollowup`\n- `$num` parameter has been removed from several `Search` class methods:\n   - `addSelect()`,\n   - `addOrderBy()`,\n   - `addHaving()`,\n   - `giveItem()`\n- `NotificationTarget::getMode()` visibility is now `public`.\n- Added `add_recipient_to_target` hook, triggered when a recipient is added to a notification.\n\n#### Deprecated\n\n- Remove `$CFG_GLPI['use_rich_text']` parameter. Will now be `true` per default.\n- Remove `$CFG_GLPI['ticket_timeline']` parameter. Will now be `true` per default.\n- Remove `$CFG_GLPI['ticket_timeline_keep_replaced_tabs']` parameter. Will now be `false` per default.\n- Usage of `TicketFollowup` class has been deprecated.\n- Usage of string `$condition` parameter in `CommonDBTM::find()` has been deprecated.\n- Usage of string `$condition` parameter in `Dropdown::addNewCondition()` has been deprecated.\n- Usage of string in `$option['condition']` parameter in `Dropdown::show()` has been deprecated.\n\nThe following methods have been deprecated:\n\n- `KnowbaseItemCategory::showFirstLevel()`\n- `Ticket::getTicketActors()`\n- `Ticket::processMassiveActionsForOneItemtype()`\n- `Ticket::showFormMassiveAction()`\n- `Ticket::showMassiveActionsSubForm()`\n- `NotificationTarget::getProfileJoinSql()`\n- `NotificationTarget::getDistinctUserSql()`\n- `NotificationTargetCommonITILObject::getProfileJoinSql()`\n- `RuleCollection::getRuleListQuery()`\n- `getNextItem()`\n- `getPreviousItem()`\n- `CommonDBChild::getSQLRequestToSearchForItem()`\n- `CommonDBConnexity::getSQLRequestToSearchForItem()`\n- `CommonDBRelation::getSQLRequestToSearchForItem()`\n- `Project::addVisibility()`\n- `Project::addVisibilityJoins()`\n\n#### Removed\n\n- Drop ability to use `JOIN` in `DBmysqlIterator::buildQuery()`\n- Drop `NotificationTarget::datas` property\n- Drop support of string `$filter` parameter in `Profileuser::getUserProfiles()`\n- Drop support of string `$condition` parameter in `User::getFromDBbyEmail()`\n- Drop support of string `$condition` parameter in `Group_User::getUserGroups()`\n- Drop support of string `$condition` parameter in `Group_User::getGroupUsers()`\n- Drop support of string `$condition` parameter in `countElementsInTable` (`DbUtils::countElementsInTable()`)\n- Drop support of string `$condition` parameter in `countDistinctElementsInTable` (`DbUtils::countDistinctElementsInTable()`)\n- Drop support of string `$condition` parameter in `countElementsInTableForMyEntities` (`DbUtils::countElementsInTableForMyEntities()`)\n- Drop support of string `$condition` parameter in `countElementsInTableForEntity` (`DbUtils::countElementsInTableForEntity()`)\n- Drop support of string `$condition` parameter in `getAllDatasFromTable` (`DbUtils::getAllDataFromTable()`)\n- Drop ITIL Tasks, Followups and Solutions `showSummary()` and massive actions related methods that are replaced with timeline\n\n- Drop class alias `Event` for `Glpi\\Event`\n- Drop `Zend\\Loader\\SplAutoloader` interface\n- Drop all methods that have been deprecated in GLPI 9.2\n  - `_e()`\n  - `_ex()`\n  - `FieldExists()`\n  - `formatOutputWebLink()`\n  - `TableExists()`\n  - `CommonTreeDropodwn::recursiveCleanSonsAboveID()`\n  - `DBMysql::optimize_tables()`\n  - `NotificationTarget::addToAddressesList()`\n  - `NotificationTarget::getAdditionalTargets()`\n  - `NotificationTarget::getAddressesByGroup()`\n  - `NotificationTarget::getAddressesByTarget()`\n  - `NotificationTarget::getAdminAddress()`\n  - `NotificationTarget::getEntityAdminAddress()`\n  - `NotificationTarget::getItemAuthorAddress()`\n  - `NotificationTarget::getItemGroupAddress()`\n  - `NotificationTarget::getItemGroupSupervisorAddress()`\n  - `NotificationTarget::getItemGroupTechInChargeAddress()`\n  - `NotificationTarget::getItemGroupWithoutSupervisorAddress()`\n  - `NotificationTarget::getItemOwnerAddress()`\n  - `NotificationTarget::getItemTechnicianInChargeAddress()`\n  - `NotificationTarget::getNotificationTargets()`\n  - `NotificationTarget::getSpecificTargets()`\n  - `NotificationTarget::getUserByField()`\n  - `NotificationTarget::getUsersAddressesByProfile()`\n  - `NotificationTargetCommonITILObject::getDatasForObject()`\n  - `NotificationTargetCommonITILObject::getFollowupAuthor()`\n  - `NotificationTargetCommonITILObject::getLinkedGroupByType()`\n  - `NotificationTargetCommonITILObject::getLinkedGroupSupervisorByType()`\n  - `NotificationTargetCommonITILObject::getLinkedGroupWithoutSupervisorByType()`\n  - `NotificationTargetCommonITILObject::getLinkedUserByType()`\n  - `NotificationTargetCommonITILObject::getOldAssignTechnicianAddress()`\n  - `NotificationTargetCommonITILObject::getRecipientAddress()`\n  - `NotificationTargetCommonITILObject::getSupplierAddress()`\n  - `NotificationTargetCommonITILObject::getTaskAssignGroup()`\n  - `NotificationTargetCommonITILObject::getTaskAssignUser()`\n  - `NotificationTargetCommonITILObject::getTaskAuthor()`\n  - `NotificationTargetCommonITILObject::getValidationApproverAddress()`\n  - `NotificationTargetCommonITILObject::getValidationRequesterAddress()`\n  - `NotificationTargetProjectTask::getTeamContacts()`\n  - `NotificationTargetProjectTask::getTeamGroups()`\n  - `NotificationTargetProjectTask::getTeamSuppliers()`\n  - `NotificationTargetProjectTask::getTeamUsers()`\n  - `QueuedNotification::sendMailById()`\n  - `Ticket::convertContentForNotification()`\n  - `User::getPersonalToken()`\n  - `User::getUniquePersonalToken()`\n- Drop all methods that have been deprecated in GLPI 9.3.0\n  - `CommonDBTM::getFromDBByQuery()`\n  - `CommonDBTM::getSearchOptions()`\n  - `CommonDBTM::getSearchOptionsNew()`\n  - `CommonDBTM::getSearchOptionsToAddNew()`\n  - `CommonITILObject::getStatusIconURL()`\n  - `DBMysql::list_tables()`\n  - `Dropdown::showPrivatePublicSwitch()`\n  - `NotificationTargetProjectTask::getTeamContacts()`\n  - `NotificationTargetProjectTask::getTeamGroups()`\n  - `NotificationTargetProjectTask::getTeamSuppliers()`\n  - `NotificationTargetProjectTask::getTeamUsers()`\n  - `Search::constructDatas()`\n  - `Search::displayDatas()`\n  - `Transfer::transferComputerDisks()`\n- Drop all methods that have been deprecated in GLPI 9.3.1\n  - `ComputerVirtualMachine::getUUIDRestrictRequest()`\n  - `Config::getSQLMode()`\n  - `DBMysql::checkForCrashedTables()`\n  - `Html::checkAllAsCheckbox()`\n  - `Html::scriptEnd()`\n  - `Html::scriptStart()`\n  - `Plugin::isAllPluginsCSRFCompliant()`\n  - `Profile::getUnderActiveProfileRestrictRequest()`\n  - `Toolbox::is_a()`\n- Drop all constants that have been deprecated in GLPI 9.3.1\n  - `CommonDBTM::ERROR_FIELDSIZE_EXCEEDED`\n  - `CommonDBTM::HAS_DUPLICATE`\n  - `CommonDBTM::NOTHING_TO_DO`\n  - `CommonDBTM::SUCCESS`\n  - `CommonDBTM::TYPE_MISMATCH`\n- Drop all methods that have been deprecated in GLPI 9.3.2\n - `ITILSolution::removeForItem()`\n - `Session::isViewAllEntities()`\n\n## [9.3.3] 2018-11-27\n\n### Changed\n\n- Fix some cache issues\n- Fix reservation tab of an item\n- Fix actors notifications massive action\n- Improve racks plugins migration script\n\n### API changes\n\nNo API changes.\n\n## [9.3.2] 2018-10-26\n\n### API changes\n\n#### Changed\n\n- `Rule::executePluginsActions()` signature has changed\n- Javascript function `formatResult()` has been renamed to `templateResult()`\n\n#### Deprecated\n\nThe following methods have been deprecated:\n\n- `CommonITILTask::displayTabContentForItem()`\n- `CommonITILTask::showFormMassiveAction()`\n- `CommonITILTask::showSummary()`\n- `ITILSolution::displayTabContentForItem()`\n- `ITILSolution::removeForItem()`\n- `ITILSolution::showSummary()`\n- `Session::isViewAllEntities()`\n- `TicketFollowup::processMassiveActionsForOneItemtype()`\n- `TicketFollowup::showFormMassiveAction()`\n- `TicketFollowup::showMassiveActionsSubForm()`\n- `TicketFollowup::showSummary()`\n- `Plugin::removeFromSession()`\n\n## [9.3.1] 2018-09-12\n\n### Added\n- List receivers folders to choose imported/refused folders\n\n### API changes\n\n#### Deprecated\n\n- Usage of string `$condition` parameter in `Group_User::getUserGroups()` has been deprecated\n- Usage of string `$condition` parameter in `Group_User::getGroupUsers()` has been deprecated\n- Usage of string `$condition` parameter in `countElementsInTable` (`DbUtils::countElementsInTable()`) has been deprecated\n- Usage of string `$condition` parameter in `countDistinctElementsInTable` (`DbUtils::countDistinctElementsInTable()`) has been deprecated\n- Usage of string `$condition` parameter in `countElementsInTableForMyEntities` (`DbUtils::countElementsInTableForMyEntities()`) has been deprecated\n- Usage of string `$condition` parameter in `countElementsInTableForEntity` (`DbUtils::countElementsInTableForEntity()`) has been deprecated\n- Usage of string `$condition` parameter in `getAllDatasFromTable` (`DbUtils::getAllDataFromTable()`) has been deprecated\n\nThe following methods have been deprecated:\n\n- `Config::getSQLMode()`\n- `DBMysql::checkForCrashedTables()`\n- `Html::checkAllAsCheckbox()`\n- `Html::scriptEnd()`\n- `Html::scriptStart()`\n- `Toolbox::is_a()`\n- `ComputerVirtualMachine::getUUIDRestrictRequest()`\n- `Plugin::isAllPluginsCSRFCompliant()`\n- `Profile::getUnderActiveProfileRestrictRequest()`\n\nThe following constants have been deprecated:\n- `CommonDBTM::ERROR_FIELDSIZE_EXCEEDED`\n- `CommonDBTM::HAS_DUPLICATE`\n- `CommonDBTM::NOTHING_TO_DO`\n- `CommonDBTM::SUCCESS`\n- `CommonDBTM::TYPE_MISMATCH`\n\n## [9.3.0] 2018-06-28\n\n### Added\n- Add DCIM management\n- Add OSM view to set locations and on Search\n- Add login source selection\n- Add logs purge\n- Filter in items logs\n\n### Changed\n- Switch MySQL engine from MyIsam to Innodb\n- Rework solutions for Tickets, Problems and Changes to support history\n- Disks can be attached to network equipments and printers\n\n### API changes\n\n#### Changes\n- Added `DB::insert()`, `DB::update()` and `DB::delete()` to replace raw SQL queries\n- `CommonITILObject::showMassiveSolutionForm()` now takes a `CommonITILObject` as argument\n- `Profileuser::getUserProfiles()` `$filter` parameter is now an array\n- `User::getFromDBbyEmail()` `$condition` parameter is now an array\n- Select2 javascript component has been upgraded to 4.0 version, see [Migrating from Select2 3.5](https://select2.org/upgrading/migrating-from-35)\n- `CommonDevice::getItem_DeviceType()` has a new optional `$devicetype` parameter\n\n#### Deprecated\n\n- Usage of string `$filter` parameter in `Profileuser::getUserProfiles()` has been deprecated\n- Usage of string `$condition` parameter in `User::getFromDBbyEmail()` has been deprecated\n\nThe following methods have been deprecated:\n\n- `CommonDBTM::getFromDBByQuery()`\n- `CommonDBTM::getSearchOptions()`\n- `CommonDBTM::getSearchOptionsNew()`\n- `CommonDBTM::getSearchOptionsToAddNew()`\n- `CommonITILObject::getStatusIconURL()`\n- `DBMysql::list_tables()`\n- `Dropdown::showPrivatePublicSwitch()`\n- `NotificationTargetProject::getTeamContacts()`\n- `NotificationTargetProject::getTeamGroups()`\n- `NotificationTargetProject::getTeamSuppliers()`\n- `NotificationTargetProject::getTeamUsers()`\n- `Search::constructDatas()`\n- `Search::displayDatas()`\n- `Transfer::transferComputerDisks()`\n\n#### Removed\n\n- `CommonITILValidation::isAllValidationsHaveSameStatusForTicket`\n- `CommonITILValidation::getNumberValidationForTicket`\n- PHPCas library is no longer provided (for licensing issues)\n\n## [9.2.4] 2018-06-21\n\n## [9.2.3] 2018-04-27\n\n## [9.2.2] 2018-03-01\n\n\n### Deprecated\n\n- `CommonITILValidation::isAllValidationsHaveSameStatusForTicket`\n- `CommonITILValidation::getNumberValidationForTicket`\n- `DBMysql::optimize_tables()`\n\n## [9.2.1] 2017-11-16\n\n### Added\n\n- Search engine, added ``itemtype_item_revert`` jointype\n\n### Deprecated\n\n- `Ticket::convertContentForNotification()`\n\n## [9.2] 2017-09-25\n\n### Added\n- Link knowledge base entries with assets or tickets\n- Revisions on knowledge base entries and their translations, with diff view\n- Add recursive comments on knowledge base entries\n- Direct links to KB article's title for a direct access\n- Load minified CSS and JS files (core and plugins) that are generated on release\n- Link beetween software licenses\n- Alerts on saved searches\n- Add ajax browsers notifications in addition to emails\n- Plugins can now add new notifications types (xmpp, sms, telegram, ...) to be used along with standard notifications\n- Simcard component\n- Synchronization field for LDAP\n- Improved performances on large entities databases\n- Remember me on login\n- Fuzzy search\n- Paste images in rich text editor\n- Add tasks in tickets templates\n- Composite tickets (link on sons/parents)\n- Telemetry\n- Certificates component\n- Firmwares components (BIOSes, firwmwares, ...)\n- Add OLA management\n\n### Changed\n- Many bugs have been fixed\n- Display knowledge base category items in tickets using a popup instead of a\nnew whole window\n- Reviewed all richtext editor (tinymce) and their upload parts, now more simpler and intuitive\n- Don't ask user to select a template if there is no configured template\n- personal_token is not used anymore for api authentication, a new api_token field has been added (empty by default, you should regenerate it)\n- Operating systems management has been improved\n- Direct language change from any page\n- Better icons harmonization\n\n### API changes\n\n#### Changes\n\n- `CommonDBTM::getTable()` signature has changed\n- `User::getFromDBbyToken()` signature has changed\n- `Bookmark` has been renamed to `SavedSearch`\n- Update to latest jsTree plugin\n- `RuleDictionnarySoftwareCollection::versionExists()` signature has changed\n- `NotificationTemplate::getDataToSend()` signature has changed\n- `QueuedMail` has been renamed to `QueuedNotification`\n- `CommonDBTM::mailqueueonaction()` has been renamed to `CommonDBTM::notificationqueueonaction()`\n- `NotificationTarget::getSender()` no longer takes any parameters (was not used)\n- `TableExists()` has been moved to `DBMysql::tableExists()`\n- `FieldExists()` has been moved to `DBMysql::fieldExists()`\n- `Profile_User::getUserEntitiesForRight()` signature has changed\n- `NotificationTarget` property `datas` has been renamed to `data`\n\n#### Deprecated\n\n- Ability to use `JOIN` in `DBmysqlIterator::buildQuery()` has been deprecated\n- Usage of `NotificationTarget::datas` property has been deprecated\n- Usage of `Zend\\Loader\\SplAutoloader` interface has been deprecated\n\nThe following methods have been deprecated:\n\n- `_e()`\n- `_ex()`\n- `Bookmark::mark_default()`\n- `Bookmark::unmark_default()`\n- `CommonTreeDropodwn::recursiveCleanSonsAboveID()`\n- `NotificationTarget::addToAddressesList()`\n- `NotificationTarget::getAdditionalTargets()`\n- `NotificationTarget::getAddressesByGroup()`\n- `NotificationTarget::getAddressesByTarget()`\n- `NotificationTarget::getAdminAddress()`\n- `NotificationTarget::getEntityAdminAddress()`\n- `NotificationTarget::getItemAuthorAddress()`\n- `NotificationTarget::getItemGroupAddress()`\n- `NotificationTarget::getItemGroupSupervisorAddress()`\n- `NotificationTarget::getItemGroupTechInChargeAddress()`\n- `NotificationTarget::getItemGroupWithoutSupervisorAddress()`\n- `NotificationTarget::getItemOwnerAddress()`\n- `NotificationTarget::getItemTechnicianInChargeAddress()`\n- `NotificationTarget::getNotificationTargets()`\n- `NotificationTarget::getSpecificTargets()`\n- `NotificationTarget::getUserByField()`\n- `NotificationTarget::getUsersAddressesByProfile()`\n- `NotificationTargetCommonITILObject::getDatasForObject()`\n- `NotificationTargetCommonITILObject::getFollowupAuthor()`\n- `NotificationTargetCommonITILObject::getLinkedGroupByType()`\n- `NotificationTargetCommonITILObject::getLinkedGroupSupervisorByType()`\n- `NotificationTargetCommonITILObject::getLinkedGroupWithoutSupervisorByType()`\n- `NotificationTargetCommonITILObject::getLinkedUserByType()`\n- `NotificationTargetCommonITILObject::getOldAssignTechnicianAddress()`\n- `NotificationTargetCommonITILObject::getRecipientAddress()`\n- `NotificationTargetCommonITILObject::getSupplierAddress()`\n- `NotificationTargetCommonITILObject::getTaskAssignGroup()`\n- `NotificationTargetCommonITILObject::getTaskAssignUser()`\n- `NotificationTargetCommonITILObject::getTaskAuthor()`\n- `NotificationTargetCommonITILObject::getValidationApproverAddress()`\n- `NotificationTargetCommonITILObject::getValidationRequesterAddress()`\n- `NotificationTargetProjectTask::getTeamContacts()`\n- `NotificationTargetProjectTask::getTeamGroups()`\n- `NotificationTargetProjectTask::getTeamSuppliers()`\n- `NotificationTargetProjectTask::getTeamUsers()`\n- `QueuedNotification::sendMailById()`\n- `User::getPersonalToken()`\n- `User::getUniquePersonalToken()`\n- `formatOutputWebLink()`\n\n#### Removals\n\nThe following methods have been dropped:\n\n- `Ajax::displaySearchTextForDropdown()`\n- `Ajax::getSearchTextForDropdown()`\n- `Bookmark::changeBookmarkOrder()`\n- `Bookmark::moveBookmark()`\n- `CommonGLPI::addDivForTabs()`\n- `CommonGLPI::showTabs()`\n- `CommonGLPI::showNavigationHeaderOld()`\n- `CommonGLPI::show()`\n- `Dropdown::showInteger()`\n- `DBMysql::field_flags()`\n- `Html::showDateFormItem()`\n- `Html::showDateTimeFormItem()`\n- `Profile::dropdownNoneReadWrite()`\n- `Toolbox::get_magic_quotes_runtime()`\n- `Toolbox::get_magic_quotes_gpc()`\n- `Dropdown::showAllItems()`\n\nFor older entries, please check [GLPI website](http://glpi-project.org).\n", "<?php\n/**\n * ---------------------------------------------------------------------\n * GLPI - Gestionnaire Libre de Parc Informatique\n * Copyright (C) 2015-2020 Teclib' and contributors.\n *\n * http://glpi-project.org\n *\n * based on GLPI - Gestionnaire Libre de Parc Informatique\n * Copyright (C) 2003-2014 by the INDEPNET Development Team.\n *\n * ---------------------------------------------------------------------\n *\n * LICENSE\n *\n * This file is part of GLPI.\n *\n * GLPI is free software; you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 2 of the License, or\n * (at your option) any later version.\n *\n * GLPI is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with GLPI. If not, see <http://www.gnu.org/licenses/>.\n * ---------------------------------------------------------------------\n */\n\n/**\n * Send image generated by a plugin to browser\n *\n *  Arguments :\n *  - plugin : name of the plugin, also the subdir in files/_plugins\n *  - name : of the image in the files/_plugins/xxxx dir\n *  - clean : delete the image after send it\n */\n\nuse Glpi\\Event;\n\ninclude ('../inc/includes.php');\n\nif (!isset($_GET[\"name\"]) || !isset($_GET[\"plugin\"])) {\n   Event::log(\"-1\", \"system\", 2, \"security\",\n              //TRANS: %s is user name\n              sprintf(__('%s makes a bad usage.'), $_SESSION[\"glpiname\"]));\n   die(\"security\");\n}\n\nif ((basename($_GET[\"name\"]) != $_GET[\"name\"])\n    || (basename($_GET[\"plugin\"]) != $_GET[\"plugin\"])) {\n\n   Event::log(\"-1\", \"system\", 1, \"security\",\n              sprintf(__('%s tries to use a non standard path.'), $_SESSION[\"glpiname\"]));\n   die(\"security\");\n}\n$Path = GLPI_PLUGIN_DOC_DIR.\"/\".$_GET[\"plugin\"].\"/\";\n\n// Now send the file with header() magic\nheader(\"Expires: Sun, 30 Jan 1966 06:30:00 GMT\");\nheader('Pragma: private'); /// IE BUG + SSL\nheader('Cache-control: private, must-revalidate'); /// IE BUG + SSL\nheader('Content-disposition: filename=\"' . $_GET[\"name\"] . '\"');\nheader(\"Content-type: image/png\");\n\nif (file_exists($Path.$_GET[\"name\"])) {\n   readfile($Path.$_GET[\"name\"]);\n   if (isset($_GET[\"clean\"])) {\n      unlink($Path.$_GET[\"name\"]);\n   }\n} else {\n   readfile($CFG_GLPI['root_doc'] . \"/pics/warning.png\");\n}\n"], "fixing_code": ["# GLPI changes\n\nThe present file will list all changes made to the project; according to the\n[Keep a Changelog](http://keepachangelog.com/) project.\n\n## [9.5.2] unreleased\n\n### API changes\n\n#### Removed\n\n- Ability to use SQL expressions as string in criterion values in SQL iterator (replaced by usage of `QueryExpression`).\n- Ability to delete a plugin image using `/front/pluginimage.send.php` script.\n\n## [9.5.1] 2020-07-16\n\n## [9.5.0] 2020-07-07\n\n### Added\n\n- Encrypted file systems support.\n- Mails collected from suppliers can be marked as private on an entity basis.\n- Ability to add custom CSS in entity configuration.\n- CLI commands to enable and disable maintenance mode.\n- Operating system links on Monitors, Peripherals, Phones and Printers.\n- Add datacenter items to global search\n- Project task search options for Projects\n- Automatic action to purge closed tickets\n- Ability to automatically calculate project's percent done\n- Software link on Phones.\n- Add and answer approvals from timeline\n- Add lightbox with PhotoSwipe to timeline images\n- Ability to copy tasks while merging tickets\n- the API gives the ID of the user who logs in with initSession\n- Kanban view for projects\n- Network ports on Monitors\n- Add warning when there are unsaved changes in forms\n- Add ability to get information from the status endpoint in JSON format using Accept header\n- Add `glpi:system:status` CLI command for getting the GLPI status\n\n### Changed\n\n- PHP error_reporting and display_errors configuration directives are no longer overrided by GLPI, unless in debug mode (which forces reporting and display of all errors).\n- `scripts/migrations/racks_plugin.php` has been replaced by `glpi:migration:racks_plugin_to_core` command available using `bin/console`\n- Encryption alogithm improved using libsodium\n\n### API changes\n\n#### Added\n\n- Add translation functions `__()`,  `_n()`,  `_x()` and  `_nx()` in javascript in browser context.\n- `Migration::renameItemtype()` method to update of database schema/values when an itemtype class is renamed\n- Menu returned by `CommonGLPI::getMenuContent()` method override may now define an icon for each menu entry.\n- `CommonDBConnexity::getItemsAssociatedTo()` method to get the items associated to the given one\n- `CommonDBConnexity::getItemsAssociationRequest()` method to get the DB request to use to get the items associated to the given one\n- `CommonDBTM::clone()` method to clone the current item\n- `CommonDBTM::prepareInputForClone()` method to modify the input data that will be used for the cloning\n- `CommonDBTM::post_clone()` method to perform other steps after an item has been cloned (like clone the elements it is associated to)\n\n#### Changes\n\n- jQuery library has been upgraded from 2.2.x to 3.4.x. jQuery Migrate is used to ensure backward compatibility in most cases.\n- `DBmysqlIterator::handleOrderClause()` supports QueryExpressions\n- Use Laminas instead of deprecated ZendFramework\n- Database datetime fields have been replaced by timestamp fields to handle timezones support.\n- Database integer/float fields values are now returned as number instead of strings from DB read operations.\n- Field `domains_id` of Computer, NetworkEquipment and Printer has been dropped and data has been transfered into `glpi_domains_items` table.\n- Plugin status hook can now be used to provide an array with more information about the plugin's status the status of any child services.\n    - Returned array should contain a 'status' value at least (See status values in Glpi\\System\\Status\\StatusChecker)\n    - Old style returns are still supported\n\n#### Deprecated\n\n- `DBMysql::fetch_array()`\n- `DBMysql::fetch_row()`\n- `DBMysql::fetch_assoc()`\n- `DBMysql::fetch_object()`\n- `DBMysql::data_seek()`\n- `DBMysql::insert_id()`\n- `DBMysql::num_fields()`\n- `DBMysql::field_name()`\n- `DBMysql::list_fields()`\n- `DBMysql::affected_rows()`\n- `DBMysql::free_result()`\n- `DBMysql::isMySQLStrictMode()`\n- `getAllDatasFromTable` renamed to `getAllDataFromTable()`\n- Usage of `$order` parameter in `getAllDataFromTable()` (`DbUtils::getAllDataFromTable()`)\n- `Ticket::getTicketTemplateToUse()` renamed to `Ticket::getITILTemplateToUse()`\n- `TicketTemplate::getFromDBWithDatas()` renamed to `TicketTemplate::getFromDBWithData()` (inherited from `ITILTemplate`)\n- `Computer_SoftwareLicense` replaced by `Item_SoftwareLicense` and table `glpi_computers_softwarelicenses` renamed to `glpi_items_softwarelicenses`\n- `Computer_SoftwareVersion` replaced by `Item_SoftwareVersion` and table `glpi_computers_softwareversions` renamed to `glpi_items_softwareversions`\n- `Item_SoftwareVersion::updateDatasForComputer` renamed to `Item_SoftwareVersion::updateDatasForItem`\n- `Item_SoftwareVersion::showForComputer` renamed to `Item_SoftwareVersion::showForItem`\n- `Item_SoftwareVersion::softsByCategory` renamed to `Item_SoftwareVersion::softwareByCategory`\n- `Item_SoftwareVersion::displaySoftsByLicense` renamed to `Item_SoftwareVersion::displaySoftwareByLicense`\n- `Item_SoftwareVersion::cloneComputer` renamed to `Item_SoftwareVersion::cloneItem`\n- `Transfer::transferComputerSoftwares` renamed to `Transfer::transferItemSoftwares`\n- 'getRealQueryForTreeItem()'\n- ``getCommonSelect`` and ``getCommonLeftJoin()`` from ``Ticket``, ``Change`` and ``Problem`` are replaced with ``getCommonCriteria()`` compliant with db iterator\n- `Config::checkWriteAccessToDirs()`\n- `Config::displayCheckExtensions()`\n- `Toolbox::checkSELinux()`\n- `Toolbox::userErrorHandlerDebug()`\n- `Toolbox::userErrorHandlerNormal()`\n- `Html::jsDisable()`\n- `Html::jsEnable()`\n- `Plugin::setLoaded()`\n- `Plugin::setUnloaded()`\n- `Plugin::setUnloadedByName()`\n- Usage of `$LOADED_PLUGINS` global variable\n- `CommonDBTM::getRawName()` replaced by `CommonDBTM::getFriendlyName()`\n- `Calendar_Holiday::cloneCalendar()`\n- `CalendarSegment::cloneCalendar()`\n- `Computer_Item::cloneComputer()`\n- `Computer_Item::cloneItem()`\n- `ComputerAntivirus::cloneComputer()`\n- `Contract::cloneItem()`\n- `Contract_Item::cloneItem()`\n- `ContractCost::cloneContract()`\n- `Document_Item::cloneItem()`\n- `Infocom::cloneItem()`\n- `Item_Devices::cloneItem()`\n- `Item_Disk::cloneItem()`\n- `Item_OperatingSystem::cloneItem()`\n- `Item_SoftwareLicense::cloneComputer()`\n- `Item_SoftwareLicense::cloneItem()`\n- `Item_SoftwareVersion::cloneComputer()`\n- `Item_SoftwareVersion::cloneItem()`\n- `Itil_Project::cloneItilProject()`\n- `KnowbaseItem_Item::cloneItem()`\n- `NetworkPort::cloneItem()`\n- `Notepad::cloneItem()`\n- `ProjectCost::cloneProject()`\n- `ProjectTeam::cloneProjectTask()`\n- `ProjectTask::cloneProjectTeam()`\n- Usage of `GLPIKEY` constant\n- `Toolbox::encrypt()` and `Toolbox::decrypt()` because they use the old encryption aglogithm\n\n#### Removed\n\n- Usage of string `$condition` parameter in `CommonDBTM::find()`\n- Usage of string `$condition` parameter in `Dropdown::addNewCondition()`\n- Usage of string in `$option['condition']` parameter in `Dropdown::show()`\n- `KnowbaseItemCategory::showFirstLevel()`\n- `Ticket::getTicketActors()`\n- `NotificationTarget::getProfileJoinSql()`\n- `NotificationTarget::getDistinctUserSql()`\n- `NotificationTargetCommonITILObject::getProfileJoinSql()`\n- `RuleCollection::getRuleListQuery()`\n- `getNextItem()`\n- `getPreviousItem()`\n- `CommonDBChild::getSQLRequestToSearchForItem()`\n- `CommonDBConnexity::getSQLRequestToSearchForItem()`\n- `CommonDBRelation::getSQLRequestToSearchForItem()`\n- `Project::addVisibility()`\n- `Project::addVisibilityJoins()`\n- `Plugin::hasBeenInit()`\n- 'SELECT DISTINCT' and 'DISTINCT FIELDS' criteria in `DBmysqlIterator::buildQuery()`\n- `CommonDBTM::getTablesOf()`\n- `CommonDBTM::getForeignKeyFieldsOf()`\n- `TicketFollowup`\n- `getDateRequest` and `DbUtils::getDateRequest()`\n- `Html::convertTagFromRichTextToImageTag()`\n- `Transfer::createSearchConditionUsingArray()`\n- Unused constants GLPI_FONT_FREESANS and GLPI_SCRIPT_DIR\n\n## [9.4.6] 2020-05-05\n\n## [9.4.5] 2019-12-18\n\n## [9.4.4] 2019-09-24\n\n### API changes\n\n#### Changes\n- For security reasons, autocompletion feature requires now to be authorized by a `'autocomplete' => true` flag in corresponding field search option.\n\n## [9.4.3] 2019-06-20\n\n### API changes\n\n#### Deprecated\n\nThe following methods have been deprecated:\n\n- `Html::convertTagFromRichTextToImageTag()`\n\n## [9.4.2] 2019-04-11\n\n### API changes\n\n#### Deprecated\n\nThe following methods have been deprecated:\n\n- `CommonDBTM::getTablesOf()`\n- `CommonDBTM::getForeignKeyFieldsOf()`\n\n## [9.4.1] 2019-03-15\n\n### API changes\n\n#### Added\n\n- new display hook `timeline_actions` to add new buttons to timeline forms\n- Ability to copy document links while merging tickets\n\n#### Deprecated\n\nThe following methods have been deprecated:\n\n- `Plugin::hasBeenInit()`\n- Deprecate 'SELECT DISTINCT' and 'DISTINCT FIELDS' criteria in `DBmysqlIterator::buildQuery()`\n\n#### Removed\n\n- Drop `CommonITILObject::showSolutions()`.\n\n## [9.4.0] 2019-02-11\n\n### Added\n\n- Ability to link project with problems and tickets.\n- Ability to specify creation and modification dates during CommonDBTM object add method\n- Add followups to Changes and Problems.\n- Add timeline to Changes and Problems.\n- CLI console to centralize CLI commands.\n- Search on devices from Printers and Network equipments.\n- Ability to merge and split tickets.\n- Search on devices from Printers and Network equipments.\n- Ability to specify creation and modification dates during CommonDBTM object add method.\n\n### Changed\n- `license_id` field in `glpi_items_operatingsystems` table has been renamed to `licenseid`\n- `olas_tto_id` field in `glpi_tickets` table has been renamed to `olas_id_tto`\n- `olas_ttr_id` field in `glpi_tickets` table has been renamed to `olas_id_ttr`\n- `ttr_olalevels_id` field in `glpi_tickets` table has been renamed to `olalevels_id_ttr`\n- `slas_tto_id` field in `glpi_tickets` table has been renamed to `slas_id_tto`\n- `slas_ttr_id` field in `glpi_tickets` table has been renamed to `slas_id_ttr`\n- `ttr_slalevels_id` field in `glpi_tickets` table has been renamed to `slalevels_id_ttr`\n- `scripts/add_creation_date.php` has been replaced by `glpi:migration:build_missing_timestamps` command available using `bin/console`\n- `scripts/checkdb.php` has been replaced by `glpi:database:check` command available using `bin/console`\n- `scripts/cliinstall.php` has been replaced by `glpi:database:install` command available using `bin/console`\n- `scripts/cliupdate.php` has been replaced by `glpi:database:update` command available using `bin/console`\n- `scripts/ldap_mass_sync.php` has been replaced by `glpi:ldap:synchronize_users` command available using `bin/console`\n- `scripts/innodb_migration.php` has been replaced by `glpi:migration:myisam_to_innodb` command available using `bin/console`\n- `scripts/unlock_tasks.php` has been replaced by `glpi:task:unlock` command available using `bin/console`\n\n### API changes\n\n#### Changes\n- Plugins are now loaded in ajax files.\n- `TicketFollowup` has been replaced by `ITILFollowup`\n- `$num` parameter has been removed from several `Search` class methods:\n   - `addSelect()`,\n   - `addOrderBy()`,\n   - `addHaving()`,\n   - `giveItem()`\n- `NotificationTarget::getMode()` visibility is now `public`.\n- Added `add_recipient_to_target` hook, triggered when a recipient is added to a notification.\n\n#### Deprecated\n\n- Remove `$CFG_GLPI['use_rich_text']` parameter. Will now be `true` per default.\n- Remove `$CFG_GLPI['ticket_timeline']` parameter. Will now be `true` per default.\n- Remove `$CFG_GLPI['ticket_timeline_keep_replaced_tabs']` parameter. Will now be `false` per default.\n- Usage of `TicketFollowup` class has been deprecated.\n- Usage of string `$condition` parameter in `CommonDBTM::find()` has been deprecated.\n- Usage of string `$condition` parameter in `Dropdown::addNewCondition()` has been deprecated.\n- Usage of string in `$option['condition']` parameter in `Dropdown::show()` has been deprecated.\n\nThe following methods have been deprecated:\n\n- `KnowbaseItemCategory::showFirstLevel()`\n- `Ticket::getTicketActors()`\n- `Ticket::processMassiveActionsForOneItemtype()`\n- `Ticket::showFormMassiveAction()`\n- `Ticket::showMassiveActionsSubForm()`\n- `NotificationTarget::getProfileJoinSql()`\n- `NotificationTarget::getDistinctUserSql()`\n- `NotificationTargetCommonITILObject::getProfileJoinSql()`\n- `RuleCollection::getRuleListQuery()`\n- `getNextItem()`\n- `getPreviousItem()`\n- `CommonDBChild::getSQLRequestToSearchForItem()`\n- `CommonDBConnexity::getSQLRequestToSearchForItem()`\n- `CommonDBRelation::getSQLRequestToSearchForItem()`\n- `Project::addVisibility()`\n- `Project::addVisibilityJoins()`\n\n#### Removed\n\n- Drop ability to use `JOIN` in `DBmysqlIterator::buildQuery()`\n- Drop `NotificationTarget::datas` property\n- Drop support of string `$filter` parameter in `Profileuser::getUserProfiles()`\n- Drop support of string `$condition` parameter in `User::getFromDBbyEmail()`\n- Drop support of string `$condition` parameter in `Group_User::getUserGroups()`\n- Drop support of string `$condition` parameter in `Group_User::getGroupUsers()`\n- Drop support of string `$condition` parameter in `countElementsInTable` (`DbUtils::countElementsInTable()`)\n- Drop support of string `$condition` parameter in `countDistinctElementsInTable` (`DbUtils::countDistinctElementsInTable()`)\n- Drop support of string `$condition` parameter in `countElementsInTableForMyEntities` (`DbUtils::countElementsInTableForMyEntities()`)\n- Drop support of string `$condition` parameter in `countElementsInTableForEntity` (`DbUtils::countElementsInTableForEntity()`)\n- Drop support of string `$condition` parameter in `getAllDatasFromTable` (`DbUtils::getAllDataFromTable()`)\n- Drop ITIL Tasks, Followups and Solutions `showSummary()` and massive actions related methods that are replaced with timeline\n\n- Drop class alias `Event` for `Glpi\\Event`\n- Drop `Zend\\Loader\\SplAutoloader` interface\n- Drop all methods that have been deprecated in GLPI 9.2\n  - `_e()`\n  - `_ex()`\n  - `FieldExists()`\n  - `formatOutputWebLink()`\n  - `TableExists()`\n  - `CommonTreeDropodwn::recursiveCleanSonsAboveID()`\n  - `DBMysql::optimize_tables()`\n  - `NotificationTarget::addToAddressesList()`\n  - `NotificationTarget::getAdditionalTargets()`\n  - `NotificationTarget::getAddressesByGroup()`\n  - `NotificationTarget::getAddressesByTarget()`\n  - `NotificationTarget::getAdminAddress()`\n  - `NotificationTarget::getEntityAdminAddress()`\n  - `NotificationTarget::getItemAuthorAddress()`\n  - `NotificationTarget::getItemGroupAddress()`\n  - `NotificationTarget::getItemGroupSupervisorAddress()`\n  - `NotificationTarget::getItemGroupTechInChargeAddress()`\n  - `NotificationTarget::getItemGroupWithoutSupervisorAddress()`\n  - `NotificationTarget::getItemOwnerAddress()`\n  - `NotificationTarget::getItemTechnicianInChargeAddress()`\n  - `NotificationTarget::getNotificationTargets()`\n  - `NotificationTarget::getSpecificTargets()`\n  - `NotificationTarget::getUserByField()`\n  - `NotificationTarget::getUsersAddressesByProfile()`\n  - `NotificationTargetCommonITILObject::getDatasForObject()`\n  - `NotificationTargetCommonITILObject::getFollowupAuthor()`\n  - `NotificationTargetCommonITILObject::getLinkedGroupByType()`\n  - `NotificationTargetCommonITILObject::getLinkedGroupSupervisorByType()`\n  - `NotificationTargetCommonITILObject::getLinkedGroupWithoutSupervisorByType()`\n  - `NotificationTargetCommonITILObject::getLinkedUserByType()`\n  - `NotificationTargetCommonITILObject::getOldAssignTechnicianAddress()`\n  - `NotificationTargetCommonITILObject::getRecipientAddress()`\n  - `NotificationTargetCommonITILObject::getSupplierAddress()`\n  - `NotificationTargetCommonITILObject::getTaskAssignGroup()`\n  - `NotificationTargetCommonITILObject::getTaskAssignUser()`\n  - `NotificationTargetCommonITILObject::getTaskAuthor()`\n  - `NotificationTargetCommonITILObject::getValidationApproverAddress()`\n  - `NotificationTargetCommonITILObject::getValidationRequesterAddress()`\n  - `NotificationTargetProjectTask::getTeamContacts()`\n  - `NotificationTargetProjectTask::getTeamGroups()`\n  - `NotificationTargetProjectTask::getTeamSuppliers()`\n  - `NotificationTargetProjectTask::getTeamUsers()`\n  - `QueuedNotification::sendMailById()`\n  - `Ticket::convertContentForNotification()`\n  - `User::getPersonalToken()`\n  - `User::getUniquePersonalToken()`\n- Drop all methods that have been deprecated in GLPI 9.3.0\n  - `CommonDBTM::getFromDBByQuery()`\n  - `CommonDBTM::getSearchOptions()`\n  - `CommonDBTM::getSearchOptionsNew()`\n  - `CommonDBTM::getSearchOptionsToAddNew()`\n  - `CommonITILObject::getStatusIconURL()`\n  - `DBMysql::list_tables()`\n  - `Dropdown::showPrivatePublicSwitch()`\n  - `NotificationTargetProjectTask::getTeamContacts()`\n  - `NotificationTargetProjectTask::getTeamGroups()`\n  - `NotificationTargetProjectTask::getTeamSuppliers()`\n  - `NotificationTargetProjectTask::getTeamUsers()`\n  - `Search::constructDatas()`\n  - `Search::displayDatas()`\n  - `Transfer::transferComputerDisks()`\n- Drop all methods that have been deprecated in GLPI 9.3.1\n  - `ComputerVirtualMachine::getUUIDRestrictRequest()`\n  - `Config::getSQLMode()`\n  - `DBMysql::checkForCrashedTables()`\n  - `Html::checkAllAsCheckbox()`\n  - `Html::scriptEnd()`\n  - `Html::scriptStart()`\n  - `Plugin::isAllPluginsCSRFCompliant()`\n  - `Profile::getUnderActiveProfileRestrictRequest()`\n  - `Toolbox::is_a()`\n- Drop all constants that have been deprecated in GLPI 9.3.1\n  - `CommonDBTM::ERROR_FIELDSIZE_EXCEEDED`\n  - `CommonDBTM::HAS_DUPLICATE`\n  - `CommonDBTM::NOTHING_TO_DO`\n  - `CommonDBTM::SUCCESS`\n  - `CommonDBTM::TYPE_MISMATCH`\n- Drop all methods that have been deprecated in GLPI 9.3.2\n - `ITILSolution::removeForItem()`\n - `Session::isViewAllEntities()`\n\n## [9.3.3] 2018-11-27\n\n### Changed\n\n- Fix some cache issues\n- Fix reservation tab of an item\n- Fix actors notifications massive action\n- Improve racks plugins migration script\n\n### API changes\n\nNo API changes.\n\n## [9.3.2] 2018-10-26\n\n### API changes\n\n#### Changed\n\n- `Rule::executePluginsActions()` signature has changed\n- Javascript function `formatResult()` has been renamed to `templateResult()`\n\n#### Deprecated\n\nThe following methods have been deprecated:\n\n- `CommonITILTask::displayTabContentForItem()`\n- `CommonITILTask::showFormMassiveAction()`\n- `CommonITILTask::showSummary()`\n- `ITILSolution::displayTabContentForItem()`\n- `ITILSolution::removeForItem()`\n- `ITILSolution::showSummary()`\n- `Session::isViewAllEntities()`\n- `TicketFollowup::processMassiveActionsForOneItemtype()`\n- `TicketFollowup::showFormMassiveAction()`\n- `TicketFollowup::showMassiveActionsSubForm()`\n- `TicketFollowup::showSummary()`\n- `Plugin::removeFromSession()`\n\n## [9.3.1] 2018-09-12\n\n### Added\n- List receivers folders to choose imported/refused folders\n\n### API changes\n\n#### Deprecated\n\n- Usage of string `$condition` parameter in `Group_User::getUserGroups()` has been deprecated\n- Usage of string `$condition` parameter in `Group_User::getGroupUsers()` has been deprecated\n- Usage of string `$condition` parameter in `countElementsInTable` (`DbUtils::countElementsInTable()`) has been deprecated\n- Usage of string `$condition` parameter in `countDistinctElementsInTable` (`DbUtils::countDistinctElementsInTable()`) has been deprecated\n- Usage of string `$condition` parameter in `countElementsInTableForMyEntities` (`DbUtils::countElementsInTableForMyEntities()`) has been deprecated\n- Usage of string `$condition` parameter in `countElementsInTableForEntity` (`DbUtils::countElementsInTableForEntity()`) has been deprecated\n- Usage of string `$condition` parameter in `getAllDatasFromTable` (`DbUtils::getAllDataFromTable()`) has been deprecated\n\nThe following methods have been deprecated:\n\n- `Config::getSQLMode()`\n- `DBMysql::checkForCrashedTables()`\n- `Html::checkAllAsCheckbox()`\n- `Html::scriptEnd()`\n- `Html::scriptStart()`\n- `Toolbox::is_a()`\n- `ComputerVirtualMachine::getUUIDRestrictRequest()`\n- `Plugin::isAllPluginsCSRFCompliant()`\n- `Profile::getUnderActiveProfileRestrictRequest()`\n\nThe following constants have been deprecated:\n- `CommonDBTM::ERROR_FIELDSIZE_EXCEEDED`\n- `CommonDBTM::HAS_DUPLICATE`\n- `CommonDBTM::NOTHING_TO_DO`\n- `CommonDBTM::SUCCESS`\n- `CommonDBTM::TYPE_MISMATCH`\n\n## [9.3.0] 2018-06-28\n\n### Added\n- Add DCIM management\n- Add OSM view to set locations and on Search\n- Add login source selection\n- Add logs purge\n- Filter in items logs\n\n### Changed\n- Switch MySQL engine from MyIsam to Innodb\n- Rework solutions for Tickets, Problems and Changes to support history\n- Disks can be attached to network equipments and printers\n\n### API changes\n\n#### Changes\n- Added `DB::insert()`, `DB::update()` and `DB::delete()` to replace raw SQL queries\n- `CommonITILObject::showMassiveSolutionForm()` now takes a `CommonITILObject` as argument\n- `Profileuser::getUserProfiles()` `$filter` parameter is now an array\n- `User::getFromDBbyEmail()` `$condition` parameter is now an array\n- Select2 javascript component has been upgraded to 4.0 version, see [Migrating from Select2 3.5](https://select2.org/upgrading/migrating-from-35)\n- `CommonDevice::getItem_DeviceType()` has a new optional `$devicetype` parameter\n\n#### Deprecated\n\n- Usage of string `$filter` parameter in `Profileuser::getUserProfiles()` has been deprecated\n- Usage of string `$condition` parameter in `User::getFromDBbyEmail()` has been deprecated\n\nThe following methods have been deprecated:\n\n- `CommonDBTM::getFromDBByQuery()`\n- `CommonDBTM::getSearchOptions()`\n- `CommonDBTM::getSearchOptionsNew()`\n- `CommonDBTM::getSearchOptionsToAddNew()`\n- `CommonITILObject::getStatusIconURL()`\n- `DBMysql::list_tables()`\n- `Dropdown::showPrivatePublicSwitch()`\n- `NotificationTargetProject::getTeamContacts()`\n- `NotificationTargetProject::getTeamGroups()`\n- `NotificationTargetProject::getTeamSuppliers()`\n- `NotificationTargetProject::getTeamUsers()`\n- `Search::constructDatas()`\n- `Search::displayDatas()`\n- `Transfer::transferComputerDisks()`\n\n#### Removed\n\n- `CommonITILValidation::isAllValidationsHaveSameStatusForTicket`\n- `CommonITILValidation::getNumberValidationForTicket`\n- PHPCas library is no longer provided (for licensing issues)\n\n## [9.2.4] 2018-06-21\n\n## [9.2.3] 2018-04-27\n\n## [9.2.2] 2018-03-01\n\n\n### Deprecated\n\n- `CommonITILValidation::isAllValidationsHaveSameStatusForTicket`\n- `CommonITILValidation::getNumberValidationForTicket`\n- `DBMysql::optimize_tables()`\n\n## [9.2.1] 2017-11-16\n\n### Added\n\n- Search engine, added ``itemtype_item_revert`` jointype\n\n### Deprecated\n\n- `Ticket::convertContentForNotification()`\n\n## [9.2] 2017-09-25\n\n### Added\n- Link knowledge base entries with assets or tickets\n- Revisions on knowledge base entries and their translations, with diff view\n- Add recursive comments on knowledge base entries\n- Direct links to KB article's title for a direct access\n- Load minified CSS and JS files (core and plugins) that are generated on release\n- Link beetween software licenses\n- Alerts on saved searches\n- Add ajax browsers notifications in addition to emails\n- Plugins can now add new notifications types (xmpp, sms, telegram, ...) to be used along with standard notifications\n- Simcard component\n- Synchronization field for LDAP\n- Improved performances on large entities databases\n- Remember me on login\n- Fuzzy search\n- Paste images in rich text editor\n- Add tasks in tickets templates\n- Composite tickets (link on sons/parents)\n- Telemetry\n- Certificates component\n- Firmwares components (BIOSes, firwmwares, ...)\n- Add OLA management\n\n### Changed\n- Many bugs have been fixed\n- Display knowledge base category items in tickets using a popup instead of a\nnew whole window\n- Reviewed all richtext editor (tinymce) and their upload parts, now more simpler and intuitive\n- Don't ask user to select a template if there is no configured template\n- personal_token is not used anymore for api authentication, a new api_token field has been added (empty by default, you should regenerate it)\n- Operating systems management has been improved\n- Direct language change from any page\n- Better icons harmonization\n\n### API changes\n\n#### Changes\n\n- `CommonDBTM::getTable()` signature has changed\n- `User::getFromDBbyToken()` signature has changed\n- `Bookmark` has been renamed to `SavedSearch`\n- Update to latest jsTree plugin\n- `RuleDictionnarySoftwareCollection::versionExists()` signature has changed\n- `NotificationTemplate::getDataToSend()` signature has changed\n- `QueuedMail` has been renamed to `QueuedNotification`\n- `CommonDBTM::mailqueueonaction()` has been renamed to `CommonDBTM::notificationqueueonaction()`\n- `NotificationTarget::getSender()` no longer takes any parameters (was not used)\n- `TableExists()` has been moved to `DBMysql::tableExists()`\n- `FieldExists()` has been moved to `DBMysql::fieldExists()`\n- `Profile_User::getUserEntitiesForRight()` signature has changed\n- `NotificationTarget` property `datas` has been renamed to `data`\n\n#### Deprecated\n\n- Ability to use `JOIN` in `DBmysqlIterator::buildQuery()` has been deprecated\n- Usage of `NotificationTarget::datas` property has been deprecated\n- Usage of `Zend\\Loader\\SplAutoloader` interface has been deprecated\n\nThe following methods have been deprecated:\n\n- `_e()`\n- `_ex()`\n- `Bookmark::mark_default()`\n- `Bookmark::unmark_default()`\n- `CommonTreeDropodwn::recursiveCleanSonsAboveID()`\n- `NotificationTarget::addToAddressesList()`\n- `NotificationTarget::getAdditionalTargets()`\n- `NotificationTarget::getAddressesByGroup()`\n- `NotificationTarget::getAddressesByTarget()`\n- `NotificationTarget::getAdminAddress()`\n- `NotificationTarget::getEntityAdminAddress()`\n- `NotificationTarget::getItemAuthorAddress()`\n- `NotificationTarget::getItemGroupAddress()`\n- `NotificationTarget::getItemGroupSupervisorAddress()`\n- `NotificationTarget::getItemGroupTechInChargeAddress()`\n- `NotificationTarget::getItemGroupWithoutSupervisorAddress()`\n- `NotificationTarget::getItemOwnerAddress()`\n- `NotificationTarget::getItemTechnicianInChargeAddress()`\n- `NotificationTarget::getNotificationTargets()`\n- `NotificationTarget::getSpecificTargets()`\n- `NotificationTarget::getUserByField()`\n- `NotificationTarget::getUsersAddressesByProfile()`\n- `NotificationTargetCommonITILObject::getDatasForObject()`\n- `NotificationTargetCommonITILObject::getFollowupAuthor()`\n- `NotificationTargetCommonITILObject::getLinkedGroupByType()`\n- `NotificationTargetCommonITILObject::getLinkedGroupSupervisorByType()`\n- `NotificationTargetCommonITILObject::getLinkedGroupWithoutSupervisorByType()`\n- `NotificationTargetCommonITILObject::getLinkedUserByType()`\n- `NotificationTargetCommonITILObject::getOldAssignTechnicianAddress()`\n- `NotificationTargetCommonITILObject::getRecipientAddress()`\n- `NotificationTargetCommonITILObject::getSupplierAddress()`\n- `NotificationTargetCommonITILObject::getTaskAssignGroup()`\n- `NotificationTargetCommonITILObject::getTaskAssignUser()`\n- `NotificationTargetCommonITILObject::getTaskAuthor()`\n- `NotificationTargetCommonITILObject::getValidationApproverAddress()`\n- `NotificationTargetCommonITILObject::getValidationRequesterAddress()`\n- `NotificationTargetProjectTask::getTeamContacts()`\n- `NotificationTargetProjectTask::getTeamGroups()`\n- `NotificationTargetProjectTask::getTeamSuppliers()`\n- `NotificationTargetProjectTask::getTeamUsers()`\n- `QueuedNotification::sendMailById()`\n- `User::getPersonalToken()`\n- `User::getUniquePersonalToken()`\n- `formatOutputWebLink()`\n\n#### Removals\n\nThe following methods have been dropped:\n\n- `Ajax::displaySearchTextForDropdown()`\n- `Ajax::getSearchTextForDropdown()`\n- `Bookmark::changeBookmarkOrder()`\n- `Bookmark::moveBookmark()`\n- `CommonGLPI::addDivForTabs()`\n- `CommonGLPI::showTabs()`\n- `CommonGLPI::showNavigationHeaderOld()`\n- `CommonGLPI::show()`\n- `Dropdown::showInteger()`\n- `DBMysql::field_flags()`\n- `Html::showDateFormItem()`\n- `Html::showDateTimeFormItem()`\n- `Profile::dropdownNoneReadWrite()`\n- `Toolbox::get_magic_quotes_runtime()`\n- `Toolbox::get_magic_quotes_gpc()`\n- `Dropdown::showAllItems()`\n\nFor older entries, please check [GLPI website](http://glpi-project.org).\n", "<?php\n/**\n * ---------------------------------------------------------------------\n * GLPI - Gestionnaire Libre de Parc Informatique\n * Copyright (C) 2015-2020 Teclib' and contributors.\n *\n * http://glpi-project.org\n *\n * based on GLPI - Gestionnaire Libre de Parc Informatique\n * Copyright (C) 2003-2014 by the INDEPNET Development Team.\n *\n * ---------------------------------------------------------------------\n *\n * LICENSE\n *\n * This file is part of GLPI.\n *\n * GLPI is free software; you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 2 of the License, or\n * (at your option) any later version.\n *\n * GLPI is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with GLPI. If not, see <http://www.gnu.org/licenses/>.\n * ---------------------------------------------------------------------\n */\n\n/**\n * Send image generated by a plugin to browser\n *\n *  Arguments :\n *  - plugin : name of the plugin, also the subdir in files/_plugins\n *  - name : of the image in the files/_plugins/xxxx dir\n *  - clean : delete the image after send it\n */\n\nuse Glpi\\Event;\n\ninclude ('../inc/includes.php');\n\nif (!isset($_GET[\"name\"]) || !isset($_GET[\"plugin\"]) || !Plugin::isPluginActive($_GET[\"plugin\"])) {\n   Event::log(\"-1\", \"system\", 2, \"security\",\n              //TRANS: %s is user name\n              sprintf(__('%s makes a bad usage.'), $_SESSION[\"glpiname\"]));\n   die(\"security\");\n}\n\n$dir = GLPI_PLUGIN_DOC_DIR.\"/\".$_GET[\"plugin\"].\"/\";\n$filepath = $dir.$_GET[\"name\"];\n\nif ((basename($_GET[\"name\"]) != $_GET[\"name\"])\n    || (basename($_GET[\"plugin\"]) != $_GET[\"plugin\"])\n    || !Toolbox::startsWith(realpath($filepath), realpath(GLPI_PLUGIN_DOC_DIR))\n    || !Document::isImage($filepath)) {\n\n   Event::log(\"-1\", \"system\", 1, \"security\",\n              sprintf(__('%s tries to use a non standard path.'), $_SESSION[\"glpiname\"]));\n   die(\"security\");\n}\n\n// Now send the file with header() magic\nheader(\"Expires: Sun, 30 Jan 1966 06:30:00 GMT\");\nheader('Pragma: private'); /// IE BUG + SSL\nheader('Cache-control: private, must-revalidate'); /// IE BUG + SSL\nheader('Content-disposition: filename=\"' . $_GET[\"name\"] . '\"');\n\nif (file_exists($filepath)) {\n   header(\"Content-type: \" . Toolbox::getMime($filepath));\n   readfile($filepath);\n} else {\n   header(\"Content-type: image/png\");\n   readfile($CFG_GLPI['root_doc'] . \"/pics/warning.png\");\n}\n"], "filenames": ["CHANGELOG.md", "front/pluginimage.send.php"], "buggy_code_start_loc": [12, 46], "buggy_code_end_loc": [12, 74], "fixing_code_start_loc": [13, 46], "fixing_code_end_loc": [14, 77], "type": "CWE-552", "message": "In GLPI before version 9.5.2, the `?pluginimage.send.php?` endpoint allows a user to specify an image from a plugin. The parameters can be maliciously crafted to instead delete the .htaccess file for the files directory. Any user becomes able to read all the files and folders contained in \u201c/files/\u201d. Some of the sensitive information that is compromised are the user sessions, logs, and more. An attacker would be able to get the Administrators session token and use that to authenticate. The issue is patched in version 9.5.2.", "other": {"cve": {"id": "CVE-2020-15175", "sourceIdentifier": "security-advisories@github.com", "published": "2020-10-07T19:15:12.627", "lastModified": "2023-03-01T18:56:26.450", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "In GLPI before version 9.5.2, the `?pluginimage.send.php?` endpoint allows a user to specify an image from a plugin. The parameters can be maliciously crafted to instead delete the .htaccess file for the files directory. Any user becomes able to read all the files and folders contained in \u201c/files/\u201d. Some of the sensitive information that is compromised are the user sessions, logs, and more. An attacker would be able to get the Administrators session token and use that to authenticate. The issue is patched in version 9.5.2."}, {"lang": "es", "value": "En GLPI antes de la versi\u00f3n 9.5.2, el punto final `?pluginimage.send.php?` permite al usuario especificar una imagen de un plugin. Los par\u00e1metros pueden ser maliciosamente dise\u00f1ados para eliminar el archivo .htaccess para el directorio de archivos. Cualquier usuario puede leer todos los archivos y carpetas contenidos en \"/files/\". Parte de la informaci\u00f3n sensible que se ve comprometida son las sesiones de usuario, los registros, y m\u00e1s. Un atacante podr\u00eda obtener el token de sesi\u00f3n de los administradores y utilizarlo para autenticarse. El problema est\u00e1 parcheado en la versi\u00f3n 9.5.2"}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "NONE", "baseScore": 9.1, "baseSeverity": "CRITICAL"}, "exploitabilityScore": 3.9, "impactScore": 5.2}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:N", "attackVector": "NETWORK", "attackComplexity": "HIGH", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "NONE", "baseScore": 7.4, "baseSeverity": "HIGH"}, "exploitabilityScore": 2.2, "impactScore": 5.2}], "cvssMetricV2": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "2.0", "vectorString": "AV:N/AC:L/Au:N/C:P/I:P/A:N", "accessVector": "NETWORK", "accessComplexity": "LOW", "authentication": "NONE", "confidentialityImpact": "PARTIAL", "integrityImpact": "PARTIAL", "availabilityImpact": "NONE", "baseScore": 6.4}, "baseSeverity": "MEDIUM", "exploitabilityScore": 10.0, "impactScore": 4.9, "acInsufInfo": false, "obtainAllPrivilege": false, "obtainUserPrivilege": false, "obtainOtherPrivilege": false, "userInteractionRequired": false}]}, "weaknesses": [{"source": "security-advisories@github.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-552"}]}, {"source": "nvd@nist.gov", "type": "Secondary", "description": [{"lang": "en", "value": "CWE-552"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:glpi-project:glpi:*:*:*:*:*:*:*:*", "versionEndExcluding": "9.5.2", "matchCriteriaId": "4FDDC1DB-791A-495C-84D1-110B95394022"}]}]}], "references": [{"url": "https://github.com/glpi-project/glpi/commit/6ca9a0e77299a755c356d758344a23278df67f65", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/glpi-project/glpi/security/advisories/GHSA-rm52-jx9h-rwcp", "source": "security-advisories@github.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/glpi-project/glpi/commit/6ca9a0e77299a755c356d758344a23278df67f65"}}