{"buggy_code": ["<?php\n/*\n * Copyright (c) 2020, Tribal Limited\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Zenario, Tribal Limited nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL TRIBAL LTD BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nif (!defined('NOT_ACCESSED_DIRECTLY')) exit('This file may not be directly accessed');\n\ndefine('LATEST_REVISION_NO', 48646);\t//N.b. 8.6 starts at revision #49800\ndefine('LATEST_BIG_CHANGE_REVISION_NO', 48644);\ndefine('INSTALLER_REVISION_NO', 41600);\ndefine('INSTALLER_DEFAULT_THEME', 'blackdog');\n\ndefine('ZENARIO_IS_HEAD', false);\ndefine('ZENARIO_VERSION', '8.5');\ndefine('ZENARIO_MAJOR_VERSION', '8');\ndefine('ZENARIO_MINOR_VERSION', '5');\ndefine('ZENARIO_IS_BUILD', true);\ndefine('ZENARIO_REVISION', '50977');\n\ndefine('TINYMCE_DIR', 'zenario/libs/manually_maintained/lgpl/tinymce_4_7_3/');", "<?php\n/*\n * Copyright (c) 2020, Tribal Limited\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Zenario, Tribal Limited nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL TRIBAL LTD BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n\nnamespace ze;\n\nclass welcome {\n\n\n\t//Formerly \"directoryIsWritable()\"\n\tpublic static function directoryIsWritable($dir) {\n\t\n\t\t//Check to see if the directory is flagged as writable\n\t\tif (!@is_writable($dir)) {\n\t\t\treturn false;\n\t\t}\n\t\n\t\t//Check to see if the directory is flagged as listable/executable\n\t\tif (substr($dir, -1) == '/') {\n\t\t\t$dir .= '.';\n\t\t} else {\n\t\t\t$dir .= '/.';\n\t\t}\n\t\n\t\treturn @file_exists($dir);\n\t}\n\n\n\n\tpublic static function passwordMessageSnippet($password) {\n\t\t$passwordValidation = \\ze\\user::checkPasswordStrength($password);\n\t\tif (!$passwordValidation['password_matches_requirements']) {\n\t\t\t\n\t\t\t//Set the post-html field to display \"FAIL\" highlighted in red.\n\t\t\t$passwordMessageSnippet = \n\t\t\t\t'<div>\n\t\t\t\t\t<span id=\"snippet_password_message\" class=\"title_red\">' . \\ze\\admin::phrase('Password does not match the requirements') . '</span>\n\t\t\t\t</div>';\n\t\t} else {\n\t\t\t//Set the post-html field to display \"PASS\" highlighted in green.\n\t\t\t$passwordMessageSnippet = \n\t\t\t\t'<div>\n\t\t\t\t\t<span id=\"snippet_password_message\" class=\"title_green\">' . \\ze\\admin::phrase('Password matches the requirements') . '</span>\n\t\t\t\t</div>';\n\t\t}\n\t\t\n\t\treturn $passwordMessageSnippet;\n\t}\n\t\n\t//Formerly \"quickValidateWelcomePage()\"\n\tpublic static function quickValidateWelcomePage(&$values, &$rowClasses, &$snippets, $tab) {\n\t\tif ($tab == 5 || $tab == 'change_password' || $tab == 'new_admin') {\n\t\t\t\n\t\t\t//Validate password\n\t\t\t$snippets['password_message'] = self::passwordMessageSnippet($values['password']);\n\t\n\t\t} elseif ($tab == 6) {\n\t\t\tif (is_file($values['path'])) {\n\t\t\t\tif (substr($values['path'], -4) != '.sql'\n\t\t\t\t && substr($values['path'], -7) != '.sql.gz'\n\t\t\t\t && substr($values['path'], -14) != '.sql.encrypted'\n\t\t\t\t && substr($values['path'], -17) != '.sql.gz.encrypted') {\n\t\t\t\t\t$snippets['path_status'] = \\ze\\admin::phrase('Please select a backup file.');\n\t\t\t\t} elseif (is_readable($values['path'])) {\n\t\t\t\t\t$snippets['path_status'] = \\ze\\admin::phrase('File exists.');\n\t\t\t\t} else {\n\t\t\t\t\t$snippets['path_status'] = \\ze\\admin::phrase('File exists but cannot be read.');\n\t\t\t\t}\n\t\t\t} elseif (@is_dir($values['path'])) {\n\t\t\t\t$snippets['path_status'] = \\ze\\admin::phrase('Directory exists, please enter a filename.');\n\t\t\t} else {\n\t\t\t\t$snippets['path_status'] = \\ze\\admin::phrase('No file or directory with that name.');\n\t\t\t}\n\t\t}\n\n\t}\n\n\t//This file includes common functionality for running SQL scripts\n\n\t//Formerly \"runSQL()\"\n\tpublic static function runSQL($prefix = false, $file, &$error, $patterns = false, $replacements = false) {\n\t\t\n\t\t\\ze\\dbAdm::getTableEngine();\n\t\t$error = false;\n\t\n\t\t//Attempt to work out the location of the installer scripts, if not provided\n\t\tif (!$prefix) {\n\t\t\t$prefix = CMS_ROOT. 'zenario/admin/db_install/';\n\t\t}\n\t\n\t\tif (!file_exists($prefix. $file)) {\n\t\t\t$error = 'SQL Template File '. $file. ' does not exist.';\n\t\t\treturn false;\n\t\t}\n\t\n\t\t//Build up a list of pattern replacements\n\t\tif (!$patterns) {\n\t\t\t//If no patterns have been set, go in with a few default patterns. Note I am assuming that the CMS\n\t\t\t//is running here...\n\t\t\t$from = [\"\\r\", '[[DB_PREFIX]]',\t'[[LATEST_REVISION_NO]]',\t'[[INSTALLER_REVISION_NO]]',\t'[[ZENARIO_TABLE_ENGINE]]',\t\t'[[THEME]]'];\n\t\t\t$to =\t['',\tDB_PREFIX,\t\tLATEST_REVISION_NO,\t\t\tINSTALLER_REVISION_NO,\t\t\tZENARIO_TABLE_ENGINE,\t\t\tINSTALLER_DEFAULT_THEME];\n\t\t} else {\n\t\t\t$from = [\"\\r\"];\n\t\t\t$to = [''];\n\t\t\tforeach($patterns as $pattern => $replacement) {\n\t\t\t\n\t\t\t\t//Accept $patterns and $replacements in two different arrays with numeric keys\n\t\t\t\tif (is_array($replacements)) {\n\t\t\t\t\t$pattern = $replacement;\n\t\t\t\t\t$replacement = $replacements[$pattern];\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$from[] = '[['. $pattern. ']]';\n\t\t\t\tif ($pattern == 'DB_PREFIX') {\n\t\t\t\t\t$to[] = $replacement;\n\t\t\t\t} else {\n\t\t\t\t\t$to[] = \\ze\\escape::sql($replacement);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t//Get the contents of the script, do the replacements, and split up into statements\n\t\t$sqls = explode(\";\\n\", str_replace($from, $to, file_get_contents($prefix. $file)));\n\n\n\t\t//Get the number of sql statements, check if the last one is empty and exclude it if so\n\t\t$count = count($sqls);\n\t\ttrim($sqls[$count-1])? null: --$count;\n\t\n\t\t//Loop through and execute each statement\n\t\tfor ($i = 0; $i < $count; ++$i) {\n\t\t\t$query = $sqls[$i];\n\t\t\n\t\t\tif (!$result = \\ze\\sql::cacheFriendlyUpdate($query)) {\n\t\t\t\t$errno = \\ze\\sql::errno();\n\t\t\t\t$error = \\ze\\sql::error();\n\t\t\t\t$error = '(Error '. $errno. ': '. $error. \"). \\n\\n\". $query. \"\\nFile: \". $file;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\n\t\treturn true;\n\t}\n\n\n\t//Formerly \"readSampleConfigFile()\"\n\tpublic static function readSampleConfigFile($patterns) {\n\t\t$searches = $replaces = [];\n\t\tforeach ($patterns as $pattern => $value) {\n\t\t\t$searches[] = '[['. $pattern. ']]';\n\t\t\t$replaces[] = $value;\n\t\t}\n\t\n\t\treturn str_replace($searches, $replaces, file_get_contents(CMS_ROOT. 'zenario/admin/db_install/zenario_siteconfig.sample.php'));\n\t}\n\n\t//Check whether the config file exists.\n\t//Note: if it doesn't exist, return false\n\t//Note: if exists but is empty, return 0\n\t//Formerly \"checkConfigFileExists()\"\n\tpublic static function checkConfigFileExists() {\n\t\tif (!@file_exists(CMS_ROOT. 'zenario_siteconfig.php')) {\n\t\t\treturn false;\n\t\t}\n\t\t$filesize = @filesize(CMS_ROOT. 'zenario_siteconfig.php');\n\t\tif ($filesize && $filesize >= 20) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t//Formerly \"compareVersionNumber()\"\n\tpublic static function compareVersionNumber($actual, $required) {\n\t\treturn version_compare(preg_replace('@[^\\d\\.]@', '', $actual), $required, '>=');\n\t}\n\n\t//Formerly \"getSVNInfo()\"\n\tpublic static function svnInfo() {\n\t\tif (!\\ze\\server::isWindows() && \\ze\\server::execEnabled()) {\n\t\t\t$output = [];\n\t\t\t$svninfo = [];\n\t\t\t$realDir = realpath($logicalDir = CMS_ROOT. 'zenario');\n\t\t\n\t\t\tif (is_dir($realDir. '/.svn')) {\n\t\t\t\t@exec('svn info '. escapeshellcmd($realDir. '/'), $output);\n\t\n\t\t\t} elseif (is_dir(dirname($realDir). '/.svn')) {\n\t\t\t\t@exec('svn info '. escapeshellcmd(dirname($realDir). '/'), $output);\n\t\n\t\t\t} elseif (is_dir('.svn')) {\n\t\t\t\t@exec('svn info .', $output);\n\t\t\t}\n\t\t\n\t\t\tif (!empty($output)) {\n\t\t\t\tforeach ($output as $line) {\n\t\t\t\t\t$line = explode(': ', $line, 2);\n\t\t\n\t\t\t\t\tif (!empty($line[1])) {\n\t\t\t\t\t\t$svninfo[$line[0]] = $line[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif (!empty($svninfo)\n\t\t\t\t && !empty($svninfo['Revision'])) {\n\t\t\t\t\treturn $svninfo;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\t//Formerly \"installerReportError()\"\n\tpublic static function installerReportError() {\n\t\treturn \"\\n\". \\ze\\admin::phrase('(Error [[errno]]: [[error]])', ['errno' => \\ze\\sql::errno(), 'error' => \\ze\\sql::error()]);\n\t}\n\t\n\t//Formerly \"refreshAdminSession()\"\n\tpublic static function refreshAdminSession() {\n\t\tif (\\ze\\admin::id()) {\n\t\t\t\\ze\\admin::setSession(\\ze\\admin::id(), ($_SESSION['admin_global_id'] ?? false));\n\t\t}\n\t}\n\n\t//Formerly \"prepareAdminWelcomeScreen()\"\n\tpublic static function prepareAdminWelcomeScreen($path, &$source, &$tags, &$fields, &$values, &$changes) {\n\t\n\t\t$resetErrors = true;\n\t\t$clientPath = \\ze\\tuix::deTilde($tags['path'] ?? '');\n\t\n\t\t//If this is the first time we're displaying something,\n\t\t//or we were displaying something different before and have now just switched paths,\n\t\t//then wipe any previous client tags and initialise every tag as they are defined in the .yaml files.\n\t\tif ($clientPath != $path) {\n\t\t\t$filling = true;\n\t\t\n\t\t\t$tags = $source[$path];\n\t\t\t$tags['path'] = $path;\n\t\n\t\t//If we're re-displaying the same form, merge the tags on the client with the definitions from the .yaml files.\n\t\t} else {\n\t\t\t$filling = false;\n\t\t\n\t\t\t$clientTags = $tags;\n\t\t\t$tags = $source[$path];\n\t\t\t\\ze\\tuix::syncFromClientToServer($tags, $clientTags);\n\t\t\t$tags['path'] = $path;\n\t\t}\n\t\n\n\t\t$fields = [];\n\t\t$values = [];\n\t\t$changes = [];\n\t\t\\ze\\tuix::readValues($tags, $fields, $values, $changes, $filling, $resetErrors);\n\t}\n\n\n\t//Old code for sample sites, commented out as we don't currently use them\n\t//function listSampleSites() {\n\t//\t$sampleSites = [];\n\t//\t\n\t//\tforeach (\\ze::moduleDirs('sample_installations/') as $mdir) {\n\t//\t\tforeach (scandir($path = CMS_ROOT. $mdir) as $dir) {\n\t//\t\t\tif (substr($dir, 0, 1) != '.'\n\t//\t\t\t && is_file($path. $dir. '/description.txt')\n\t//\t\t\t && is_file($path. $dir. '/backup.sql.gz')) {\n\t//\t\t\t\t$sampleSites[$dir] = $path. $dir. '/';\n\t//\t\t\t}\n\t//\t\t}\n\t//\t}\n\t//\t\n\t//\treturn $sampleSites;\n\t//}\n\n\t//Formerly \"listSampleThemes()\"\n\tpublic static function listSampleThemes() {\n\t\t$themes = [];\n\t\t$sDir = \\ze\\content::templatePath(). 'grid_templates/skins/';\n\t\n\t\tif (is_dir($path = CMS_ROOT. $sDir)) {\n\t\t\tforeach (scandir($path) as $dir) {\n\t\t\t\tif (substr($dir, 0, 1) != '.'\n\t\t\t\t && is_file($path. $dir. '/installer/thumbnail.png')) {\n\t\t\t\t\t$themes[$dir] = $sDir. $dir. '/installer/thumbnail.png';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tif (empty($themes)) {\n\t\t\t$themes[INSTALLER_DEFAULT_THEME] = $sDir. INSTALLER_DEFAULT_THEME. '/installer/thumbnail.png';\n\t\t}\n\t\n\t\treturn $themes;\n\t}\n\t\n\t//A list of some common mime types, including images. Used in the installer where we don't have database access\n\tpublic static function commonMimeType($type) {\n\t\t$mimeTypes = [\n\t\t\t'gif' => 'image/gif',\n\t\t\t'jpe' => 'image/jpeg',\n\t\t\t'jpeg' => 'image/jpeg',\n\t\t\t'jpg' => 'image/jpeg',\n\t\t\t'png' => 'image/png',\n\t\t\t'svg' => 'image/svg+xml'\n\t\t];\n\t\n\t\treturn $mimeTypes[$type] ?? 'application/octet-stream';\n\t}\n\n\t//Formerly \"systemRequirementsAJAX()\"\n\tpublic static function systemRequirementsAJAX(&$source, &$tags, &$fields, &$values, $changes, $isDiagnosticsPage = false) {\n\t\n\t\tif ($isDiagnosticsPage) {\n\t\t\t$valid = 'sub_valid';\n\t\t\t$warning = 'sub_warning';\n\t\t\t$invalid = 'sub_invalid';\n\t\t\t$section_valid = 'sub_section_valid';\n\t\t\t$section_warning = 'sub_section_warning';\n\t\t\t$section_invalid = 'sub_section_invalid';\n\t\t} else {\n\t\t\t$valid = 'valid';\n\t\t\t$warning = 'warning';\n\t\t\t$invalid = 'invalid';\n\t\t\t$section_valid = 'section_valid';\n\t\t\t$section_warning = 'section_warning';\n\t\t\t$section_invalid = 'section_invalid';\n\t\t}\n\t\n\t\t//Check if the server meets the requirements\n\t\t//Get the server phpinfo\n\t\t//(Note this section of code may not work properly if compression has been enabled)\n\t\t$search = [];\n\t\t$replace = [];\n\t\n\t\t$search[] = '~';\n\t\t$replace[] = '--';\n\t\n\t\t$search[] = '`';\n\t\t$replace[] = '---';\n\t\n\t\t$search[] = '<h2';\n\t\t$replace[] = '~<h2';\n\t\n\t\t$search[] = '</h2>';\n\t\t$replace[] = '</h2>~';\n\t\n\t\t$search[] = '<td';\n\t\t$replace[] = '`<td';\n\t\n\t\tob_start();\n\t\tphpinfo();\n\t\t$info = strip_tags(str_replace($search, $replace, ob_get_contents()));\n\t\tob_end_clean();\n\t\n\t\t$phpinfo = [];\n\t\t$sectionName = 'PHP';\n\t\tforeach (explode('~', $info) as $i => $section) {\n\t\t\tif ($i % 2) {\n\t\t\t\t$phpinfo[$sectionName = $section] = [];\n\t\t\t} else {\n\t\t\t\tforeach (explode(\"\\n\", $section) as $line) {\n\t\t\t\t\tforeach (explode('`', $line) as $j => $cell) {\n\t\t\t\t\t\tif ($j == 1) {\n\t\t\t\t\t\t\t$setting = trim($cell);\n\t\t\t\t\t\t} else if ($j == 2) {\n\t\t\t\t\t\t\t$phpinfo[$sectionName][$setting] = trim($cell);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tunset($info, $search, $replace);\n\t\n\t\n\t\t//Check whether we're using Apache, and if so, which version?\n\t\t$apacheVer = [];\n\t\t$isApache = preg_match('@Apache(|/?[\\d\\.]+)@i', $_SERVER['SERVER_SOFTWARE'], $apacheVer);\n\t\t\n\t\t//PHP doesn't always get given the version number, try calling apache2 directly as a fallback\n\t\tif ($isApache && empty($apacheVer[1]) && \\ze\\server::execEnabled()) {\n\t\t\texec('apache2 -v', $apacheVer[1]);\n\t\t\t\n\t\t\tif (is_array($apacheVer[1])) {\n\t\t\t\t$apacheVer[1] = implode(' ', $apacheVer[1]);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//Show a warning if not running Apache.\n\t\t//If we could get the version number above, also check it's 2.4.7 or later\n\t\tif (!$isApache\n\t\t || ($apacheVer[1] && !\\ze\\welcome::compareVersionNumber($apacheVer[1], '2.4.7'))) {\n\t\t\t$fields['0/server_1']['row_class'] = $warning;\n\t\t\t$apacheRecommendationMet = false;\n\t\n\t\t} else {\n\t\t\t$fields['0/server_1']['row_class'] = $valid;\n\t\t\t$apacheRecommendationMet = true;\n\t\t}\n\t\t\n\t\tif (empty($apacheVer[1])) {\n\t\t\t$fields['0/server_1']['post_field_html'] =\n\t\t\t\t\\ze\\admin::phrase('&nbsp;(<em>you have [[software]]</em>)', ['software' => htmlspecialchars($_SERVER['SERVER_SOFTWARE'])]);\n\t\t} else {\n\t\t\t$fields['0/server_1']['post_field_html'] =\n\t\t\t\t\\ze\\admin::phrase('&nbsp;(<em>you have version [[version]]</em>)', ['version' => htmlspecialchars($apacheVer[1])]);\n\t\t}\n\t\n\t\t$phpRequirementsMet = false;\n\t\t$phpVersion = phpversion();\n\t\t$fields['0/php_1']['post_field_html'] =\n\t\t\t\\ze\\admin::phrase('&nbsp;(<em>you have version [[version]]</em>)', ['version' => htmlspecialchars($phpVersion)]);\n\t\n\t\tif (!\\ze\\welcome::compareVersionNumber($phpVersion, '7.0.0')) {\n\t\t\t$fields['0/php_1']['row_class'] = $invalid;\n\t\n\t\t} else {\n\t\t\t$fields['0/php_1']['row_class'] = $valid;\n\t\t\t$phpRequirementsMet = true;\n\t\t}\n\t\n\t\t$phpWarning = false;\n\t\tif (!$fields['0/opcache_misconfigured']['hidden'] =\n\t\t\t\\ze\\welcome::compareVersionNumber(phpversion(), '7.0.0')\n\t\t || !\\ze\\server::checkFunctionEnabled('ini_get')\n\t\t || !\\ze\\ring::engToBoolean(ini_get('opcache.enable'))\n\t\t || \\ze\\ring::engToBoolean(ini_get('opcache.dups_fix'))\n\t\t) {\n\t\t\t$fields['0/opcache_misconfigured']['row_class'] = $warning;\n\t\t\t$phpWarning = true;\n\t\t}\n\t\n\t\t$mysqlRequirementsMet = false;\n\t\tif (!extension_loaded('mysqli')) {\n\t\t\t$fields['0/mysql_1']['row_class'] = $invalid;\n\t\t\t$fields['0/mysql_2']['row_class'] = $invalid;\n\t\t\t$fields['0/mysql_2']['post_field_html'] = '';\n\t\n\t\t} else {\n\t\t\t$fields['0/mysql_1']['row_class'] = $valid;\n\t\t\t\n\t\t\t//Attempt to check the MySQL version.\n\t\t\t//There's a simple test for this in PHP, but unfortunately it returns the version\n\t\t\t//of PHP's library functions, and not the actual version of the MySQL server, so\n\t\t\t//it would be better if we could check the MySQL server's version directly.\n\t\t\t\n\t\t\t//If the CMS is already installed, we can do a database connection and read the right version off of the metadata.\n\t\t\tif ($isDiagnosticsPage) {\n\t\t\t\t$dbL = new \\ze\\db(DB_PREFIX, DBHOST, DBNAME, DBUSER, DBPASS, DBPORT, false);\n\t\t\t\t$mysqlServerVersion = (isset($dbL->con->server_info)) ? $dbL->con->server_info : false;\n\t\t\t\t$fields['0/mysql_2']['post_field_html'] =\n\t\t\t\t\t\t\\ze\\admin::phrase('&nbsp;(<em>your server is version [[version]]</em>)', ['version' => htmlspecialchars($mysqlServerVersion)]);\n\t\t\t\tif (!$mysqlServerVersion\n\t\t\t\t || !\\ze\\welcome::compareVersionNumber($mysqlServerVersion, '5.5.3')) {\n\t\t\t\t\t$fields['0/mysql_2']['row_class'] = $invalid;\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/mysql_2']['row_class'] = $valid;\n\t\t\t\t\t$mysqlRequirementsMet = true;\n\t\t\t\t}\n\t\t\t\n\t\t\t} else {\n\t\t\t\t//Check the MySQL version on the PHP the client.\n\t\t\t\t$mysqlVersion = \\ze::ifNull(\n\t\t\t\t\t\\ze\\ray::value($phpinfo, 'mysql', 'Client API version'),\n\t\t\t\t\t\\ze\\ray::value($phpinfo, 'mysqli', 'Client API library version'));\n\t\t\n\t\t\t\t//Try and check the MySQL version on this server\n\t\t\t\tif (\\ze\\server::programPathForExec('/usr/bin/', 'mysql', $checkExecutable = true)) {\n\t\t\t\t\t\\ze\\site::setSetting('mysql_path', '/usr/bin/', false, false, false);\n\n\t\t\t\t} elseif (\\ze\\server::programPathForExec('/usr/local/bin/', 'mysql', $checkExecutable = true)) {\n\t\t\t\t\t\\ze\\site::setSetting('mysql_path', '/usr/local/bin/', false, false, false);\n\t\t\t\t}\n\t\t\t\tif (\\ze::setting('mysql_path') && ($mysqlServerVersion = \\ze\\dbAdm::callMySQL(false, ' --version'))) {\n\t\t\t\t\t$mysqlServerVersion = \\ze\\ring::chopPrefix(\\ze::setting('mysql_path'), $mysqlServerVersion, true);\n\t\t\t\t\t$matches = [];\n\t\t\t\t\tif ($matches = preg_split('@Distrib ([\\d\\.]+)@', $mysqlServerVersion, 2, PREG_SPLIT_DELIM_CAPTURE)) {\n\t\t\t\t\t\tif (!empty($matches[1])) {\n\t\t\t\t\t\t\tif (!\\ze\\welcome::compareVersionNumber($mysqlVersion, $matches[1])) {\n\t\t\t\t\t\t\t\t$mysqlVersion = $mysqlServerVersion;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\n\t\t\t\tif ($mysqlVersion) {\n\t\t\t\t\t$fields['0/mysql_2']['post_field_html'] =\n\t\t\t\t\t\t\\ze\\admin::phrase('&nbsp;(<em>your client is version [[version]]</em>)', ['version' => htmlspecialchars($mysqlVersion)]);\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!$mysqlVersion\n\t\t\t\t || !\\ze\\welcome::compareVersionNumber($mysqlVersion, '5.5.3')) {\n\t\t\t\t\t$fields['0/mysql_2']['row_class'] = $invalid;\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/mysql_2']['row_class'] = $valid;\n\t\t\t\t\t$mysqlRequirementsMet = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t$mbRequirementsMet = true;\n\t\tif (!extension_loaded('ctype')) {\n\t\t\t$mbRequirementsMet = false;\n\t\t\t$fields['0/mb_1']['row_class'] = $invalid;\n\t\n\t\t} else {\n\t\t\t$fields['0/mb_1']['row_class'] = $valid;\n\t\t}\n\t\tif (!extension_loaded('mbstring')) {\n\t\t\t$mbRequirementsMet = false;\n\t\t\t$fields['0/mb_2']['row_class'] = $invalid;\n\t\n\t\t} else {\n\t\t\t$fields['0/mb_2']['row_class'] = $valid;\n\t\t}\n\t\t\n\t\tif ($isDiagnosticsPage) {\n\t\t\t$osRequirementsMet = true;\n\t\t\t$extract = '';\n\t\t\tif (!\\ze\\file::plainTextExtract(\\ze::moduleDir('zenario_common_features', 'fun/test_files/test.doc'), $extract)) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_1']['row_class'] = $warning;\n\t\t\t\t$fields['0/os_1']['snippet']['html'] = \\ze\\admin::phrase('Antiword<br><small>Antiword is not correctly set up.</small>');\n\t\n\t\t\t} else {\n\t\t\t\t$fields['0/os_1']['row_class'] = $valid;\n\t\t\t}\n\t\t\t$extract = '';\n\n\t\t\tif (!\\ze\\file::createPpdfFirstPageScreenshotPng(\\ze::moduleDir('zenario_common_features', 'fun/test_files/test.pdf'))) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_2']['row_class'] = $warning;\n\t\t\t\t$fields['0/os_2']['snippet']['html'] = \\ze\\admin::phrase('Ghostscript<br><small>ghostscript is not correctly set up.</small>');\n\t\t\t} else {\n\t\t\t\t$fields['0/os_2']['row_class'] = $valid;\n\t\t\t}\n\n\t\t\t$jpegtran=\\ze\\server::programPathForExec(\\ze::setting('jpegtran_path'), 'jpegtran', true);\n\t\t\t$jpegoptim= \\ze\\server::programPathForExec(\\ze::setting('jpegoptim_path'), 'jpegoptim', true);\n\t\t\tif ($jpegtran==NULL || $jpegoptim==NULL) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_3']['row_class'] = $warning;\n\t\t\t\tif($jpegtran== NULL && $jpegoptim!= NULL){\n\t\t\t\t\t$fields['0/os_3']['snippet']['html'] = \\ze\\admin::phrase('JPEG Image Optimizers<br><small>jpegtran is not correctly set up.</small><br><small>jpegoptim is correctly set up.</small>');\n\t\t\t\t} else if($jpegoptim== NULL && $jpegtran!= NULL) {\n\t\t\t\n\t\t\t\t\t $fields['0/os_3']['snippet']['html'] = \\ze\\admin::phrase('JPEG Image Optimizers<br><small>jpegtran is correctly set up.</small><br><small>jpegoptim is not are correctly set up.</small>');\n\t\t\t\t} else {\n\t\t\t\t\t $fields['0/os_3']['row_class'] = $warning;\n\t\t\t\t\t$fields['0/os_3']['snippet']['html'] = \\ze\\admin::phrase('JPEG Image Optimizers<br><small>jpegtran is not correctly set up.</small><br><small>jpegoptim is not correctly set up.</small>');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$fields['0/os_3']['row_class'] = $valid;\n\t\t\t}\n\t\t\t$mysqlPath = \\ze\\dbAdm::testMySQL(false);\n\t\t\t$mysqldumpPath = \\ze\\dbAdm::testMySQL(true);\n\t\t\tif ($mysqlPath == false || $mysqldumpPath == false ) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_4']['row_class'] = $warning;\n\t\t\t\tif($mysqlPath== false && $mysqldumpPath!= false){\n\t\t\t\t\t$fields['0/os_4']['snippet']['html'] = \\ze\\admin::phrase('Backup/restore<br><small>mysql is not correctly set up.</small><br><small>mysqldump is working successfully.</small>');\n\t\t\t\t} else if($mysqlPath!= false && $mysqldumpPath== false) {\n\t\t\t\n\t\t\t\t\t $fields['0/os_4']['snippet']['html'] = \\ze\\admin::phrase('Backup/restore<br><small>mysql is working successfully.</small><br><small>mysqldump is not correctly set up.</small>');\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/os_4']['row_class'] = $warning;\n\t\t\t\t\t$fields['0/os_4']['snippet']['html'] = \\ze\\admin::phrase('Backup/restore<br><small>mysql is not correctly set up.</small><br><small>mysqldump is not correctly set up.</small>');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$fields['0/os_4']['row_class'] = $valid;\n\t\t\t}\t\n\t\t\n\t\t\tif (!(\\ze\\file::plainTextExtract(\\ze::moduleDir('zenario_common_features', 'fun/test_files/test.pdf'), $extract))) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_5']['row_class'] = $warning;\n\t\t\t\t$fields['0/os_5']['snippet']['html'] = \\ze\\admin::phrase('PDF-To-Text<br><small>pdftotext is not correctly set up.</small>');\n\n\t\t\t} else {\n\t\t\t\t$fields['0/os_5']['row_class'] = $valid;\n\t\t\t}\n\t\t\t$optipng = \\ze\\server::programPathForExec(\\ze::setting('optipng_path'), 'optipng', true);\n\t\t\t$advpng = \\ze\\server::programPathForExec(\\ze::setting('advpng_path'), 'advpng', true);\n\t\t\tif ($optipng == NULL || $advpng ==NULL) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_6']['row_class'] = $warning;\n\t\t\t\tif($optipng== NULL && $advpng!= NULL){\n\t\t\t\t\t$fields['0/os_6']['snippet']['html'] = \\ze\\admin::phrase('PNG Image Optimizers<br><small>optipng is not correctly set up.</small><br><small>advpng is correctly set up.</small>');\n\t\t\t\t} else if($advpng== NULL && $optipng!= NULL) {\n\t\t\t\n\t\t\t\t\t $fields['0/os_6']['snippet']['html'] = \\ze\\admin::phrase('PNG Image Optimizers<br><small>optipng is correctly set up.</small><br><small>advpng is not correctly set up.</small>');\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/os_6']['row_class'] = $warning;\n\t\t\t\t\t$fields['0/os_6']['snippet']['html'] = \\ze\\admin::phrase('PNG Image Optimizers<br><small>optipng is not correctly set up.</small><br><small>advpng is not correctly set up.</small>');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$fields['0/os_6']['row_class'] = $valid;\n\t\t\t}\n\t\t\n\t\t\t//wkhtmltopdf is an optional program.\n\t\t\t//Enabled and set up correctly:\n\t\t\tif (($programPath = \\ze\\server::programPathForExec(\\ze::setting('wkhtmltopdf_path'), 'wkhtmltopdf'))\n\t\t\t\t\t && ($rv = exec(escapeshellarg($programPath) .' --version'))) {\n\t\t\t\t$fields['0/os_7']['row_class'] = $valid;\n\t\t\t// Enabled but set up incorrectly:\n\t\t\t} elseif ($programPath && isset($rv) && !$rv) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_7']['row_class'] = $warning;\n\t\t\t\t$fields['0/os_7']['snippet']['html'] = \\ze\\admin::phrase('wkhtmltopdf<br><small>wkhtmltopdf is not correctly set up.</small>');\n\t\t\t//Disabled:\n\t\t\t} else {\n\t\t\t\t$fields['0/os_7']['hidden'] = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t$gdRequirementsMet = true;\n\t\tif (\\ze\\ray::value($phpinfo, 'gd', 'GD Support') != 'enabled') {\n\t\t\t$gdRequirementsMet = false;\n\t\t\t$fields['0/gd_1']['row_class'] = $invalid;\n\t\t\t$fields['0/gd_2']['row_class'] = $invalid;\n\t\t\t$fields['0/gd_3']['row_class'] = $invalid;\n\t\t\t$fields['0/gd_4']['row_class'] = $invalid;\n\t\n\t\t} else {\n\t\t\t$fields['0/gd_1']['row_class'] = $valid;\n\t\t\n\t\t\tif (\\ze\\ray::value($phpinfo, 'gd', 'GIF Read Support') != 'enabled') {\n\t\t\t\t$gdRequirementsMet = false;\n\t\t\t\t$fields['0/gd_2']['row_class'] = $invalid;\n\t\t\t} else {\n\t\t\t\t$fields['0/gd_2']['row_class'] = $valid;\n\t\t\t}\n\t\t\n\t\t\tif (\\ze\\ray::value($phpinfo, 'gd', 'JPG Support') != 'enabled' && \\ze\\ray::value($phpinfo, 'gd', 'JPEG Support') != 'enabled') {\n\t\t\t\t$gdRequirementsMet = false;\n\t\t\t\t$fields['0/gd_3']['row_class'] = $invalid;\n\t\t\t} else {\n\t\t\t\t$fields['0/gd_3']['row_class'] = $valid;\n\t\t\t}\n\t\t\n\t\t\tif (\\ze\\ray::value($phpinfo, 'gd', 'PNG Support') != 'enabled') {\n\t\t\t\t$gdRequirementsMet = false;\n\t\t\t\t$fields['0/gd_4']['row_class'] = $invalid;\n\t\t\t} else {\n\t\t\t\t$fields['0/gd_4']['row_class'] = $valid;\n\t\t\t}\n\t\t}\n\t\n\t\t$optionalRequirementsMet = true;\n\t\t\n\t\t$fields['0/optional_mod_deflate']['row_class'] = $valid;\n\t\t$fields['0/optional_mod_expires']['row_class'] = $valid;\n\t\t$fields['0/optional_mod_rewrite']['row_class'] = $valid;\n\t\t\n\t\tif (!function_exists('apache_get_modules')) {\n\t\t\t$fields['0/optional_mod_deflate']['hidden'] = true;\n\t\t\t$fields['0/optional_mod_expires']['hidden'] = true;\n\t\t\t$fields['0/optional_mod_rewrite']['hidden'] = true;\n\t\t\n\t\t} else {\n\t\t\t$apacheModules = apache_get_modules();\n\t\t\n\t\t\tif (!in_array('mod_deflate', $apacheModules)) {\n\t\t\t\t$optionalRequirementsMet = false;\n\t\t\t\t$fields['0/optional_mod_deflate']['row_class'] = $warning;\n\t\t\t}\n\t\t\tif (!in_array('mod_expires', $apacheModules)) {\n\t\t\t\t$optionalRequirementsMet = false;\n\t\t\t\t$fields['0/optional_mod_expires']['row_class'] = $warning;\n\t\t\t}\n\t\t\tif (!in_array('mod_rewrite', $apacheModules)) {\n\t\t\t\t$optionalRequirementsMet = false;\n\t\t\t\t$fields['0/optional_mod_rewrite']['row_class'] = $warning;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!extension_loaded('curl')) {\n\t\t\t$optionalRequirementsMet = false;\n\t\t\t$fields['0/optional_curl']['row_class'] = $warning;\n\t\n\t\t} else {\n\t\t\t$fields['0/optional_curl']['row_class'] = $valid;\n\t\t}\n\t\tif (!extension_loaded('zip')) {\n\t\t\t$optionalRequirementsMet = false;\n\t\t\t$fields['0/optional_zip']['row_class'] = $warning;\n\t\n\t\t} else {\n\t\t\t$fields['0/optional_zip']['row_class'] = $valid;\n\t\t}\n\t\t\n\t\tif (!function_exists('utf8_encode')) {\n\t\t\t$optionalRequirementsMet = false;\n\t\t\t$fields['0/optional_utf8_encode']['row_class'] = $warning;\n\t\t} else {\n\t\t\t$fields['0/optional_utf8_encode']['row_class'] = $valid;\n\t\t}\n\t\n\t\t$overall = 'section_valid';\n\t\n\t\tif (!$apacheRecommendationMet) {\n\t\t\t$overall = 'section_warning';\n\t\t\t$fields['0/show_server']['pressed'] = true;\n\t\t\t$fields['0/server']['row_class'] = $section_warning;\n\t\t} else {\n\t\t\t$fields['0/server']['row_class'] = $section_valid;\n\t\t}\n\t\n\t\tif (!$optionalRequirementsMet) {\n\t\t\t$overall = 'section_warning';\n\t\t\t$fields['0/show_optional']['pressed'] = true;\n\t\t\t$fields['0/optional']['row_class'] = $section_warning;\n\t\t} else {\n\t\t\t$fields['0/optional']['row_class'] = $section_valid;\n\t\t}\n\t\n\t\tif (!$phpRequirementsMet) {\n\t\t\t$overall = 'section_invalid';\n\t\t\t$fields['0/show_php']['pressed'] = true;\n\t\t\t$fields['0/php']['row_class'] = $section_invalid;\n\t\t} elseif ($phpWarning) {\n\t\t\t$overall = 'section_warning';\n\t\t\t$fields['0/show_php']['pressed'] = true;\n\t\t\t$fields['0/php']['row_class'] = $section_warning;\n\t\t} else {\n\t\t\t$fields['0/php']['row_class'] = $section_valid;\n\t\t}\n\t\n\t\tif (!$mysqlRequirementsMet) {\n\t\t\t$overall = 'section_invalid';\n\t\t\t$fields['0/show_mysql']['pressed'] = true;\n\t\t\t$fields['0/mysql']['row_class'] = $section_invalid;\n\t\t} else {\n\t\t\t$fields['0/mysql']['row_class'] = $section_valid;\n\t\t}\n\t\n\t\tif (!$mbRequirementsMet) {\n\t\t\t$overall = 'section_invalid';\n\t\t\t$fields['0/show_mb']['pressed'] = true;\n\t\t\t$fields['0/mb']['row_class'] = $section_invalid;\n\t\t} else {\n\t\t\t$fields['0/mb']['row_class'] = $section_valid;\n\t\t}\n\t\t\n\t\tif (!$gdRequirementsMet) {\n\t\t\t$overall = 'section_invalid';\n\t\t\t$fields['0/show_gd']['pressed'] = true;\n\t\t\t$fields['0/gd']['row_class'] = $section_invalid;\n\t\t} else {\n\t\t\t$fields['0/gd']['row_class'] = $section_valid;\n\t\t}\n\t\t\n\t\tif ($isDiagnosticsPage) {\n\t\t\tif (!$osRequirementsMet) {\n\t\t\t\t$overall = 'section_invalid';\n\t\t\t\t$fields['0/show_os']['pressed'] = true;\n\t\t\t\t$fields['0/os']['row_class'] = $section_warning;\n\t\t\t} else {\n\t\t\t\t$fields['0/os']['row_class'] = $section_valid;\n\t\t\t}\n\t\t\t\n\t\t\tif ($overall != 'section_valid') {\n\t\t\t\t$fields['0/show_system_requirements']['pressed'] = true;\n\t\t\t}\n\t\t\t$fields['0/system_requirements']['row_class'] = $overall;\n\t\n\t\t} else {\n\t\t\t$wasFirstViewing = $tags['key']['first_viewing'];\n\t\t\t$tags['key']['first_viewing'] = false;\n\t    \n\t\t\t//Did the Server meets the requirements?\n\t\t\tif (!($phpRequirementsMet && $mysqlRequirementsMet && $mbRequirementsMet && $gdRequirementsMet)) {\n\t\t\t\t$fields['0/continue']['hidden'] = true;\n\t\t\t\treturn false;\n\t\n\t\t\t} else {\n\t\t\t\t$fields['0/continue']['hidden'] = false;\n\t\t\t\treturn $wasFirstViewing || !empty($fields['0/continue']['pressed']);\n\t\t\t}\n\t\t}\n\t}\n\n\t//Formerly \"installerAJAX()\"\n\tpublic static function installerAJAX(&$source, &$tags, &$fields, &$values, $changes, &$task, $installStatus, &$freshInstall, &$adminId) {\n\t\t$merge = [];\n\t\t$merge['SUBDIRECTORY'] = SUBDIRECTORY;\n\t\t//If the database prefix is already set in the config file, look it up and default the field to it.\n\t\tif (!isset($fields['3/prefix']['current_value'])) {\n\t\t\tif (defined('DB_PREFIX') && DB_PREFIX && strpos(DB_PREFIX, '[') === false) {\n\t\t\t\t$values['3/prefix'] = DB_PREFIX;\n\t\t\t} else {\n\t\t\t\t$values['3/prefix'] = 'zenario_';\n\t\t\t}\n\t\t}\n\t\n\t\t//Validation for Step 1: Check if the Admin has accepted the license\n\t\t$licenseAccepted = !empty($values['1/i_agree']);\n\t\n\t\tif (!empty($fields['1/fresh_install']['pressed'])) {\n\t\t\t$task = 'install';\n\t\t} elseif (!empty($fields['1/restore']['pressed'])) {\n\t\t\t$task = 'restore';\n\t\t}\n\t\n\t\t//Validation for Step 3: Validate the Database Connection\n\t\tif ($tags['tab'] > 3 || ($tags['tab'] == 3 && !empty($fields['3/next']['pressed']))) {\n\t\t\t$tags['tabs'][3]['errors'] = [];\n\t\t\n\t\t\t$merge['DBHOST'] = $values['3/host'];\n\t\t\t$merge['DBNAME'] = $values['3/name'];\n\t\t\t$merge['DBUSER'] = $values['3/user'];\n\t\t\t$merge['DBPASS'] = $values['3/password'];\n\t\t\t$merge['DBPORT'] = $values['3/port'];\n\t\t\t$merge['DB_PREFIX'] = $values['3/prefix'];\n\t\t\n\t\t\tif (!$merge['DBHOST']) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('Please enter your hostname.');\n\t\t\t}\n\t\t\n\t\t\tif (!$merge['DBNAME']) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('Please enter your database name.');\n\t\t\t} elseif (preg_match('/[^a-zA-Z0-9_-]/', $merge['DBNAME'])) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('The Database Name should only contain [a-z, A-Z, 0-9, _ and -].');\n\t\t\t}\n\t\t\n\t\t\tif (!$merge['DBUSER']) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('Please enter the database username.');\n\t\t\t} elseif (preg_match('/[^a-zA-Z0-9_-]/', $merge['DBUSER'])) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('The database username should only contain [a-z, A-Z, 0-9, _ and -].');\n\t\t\t}\n\t\t\n\t\t\tif ($merge['DBPORT'] !== '' && !is_numeric($merge['DBPORT'])) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('The database port must be a number.');\n\t\t\t}\n\t\t\n\t\t\tif (preg_match('/[^a-zA-Z0-9_]/', $merge['DB_PREFIX'])) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('The table prefix should only contain the characters [a-z, A-Z, 0-9 and _].');\n\t\t\t}\n\t\t\n\t\t\tif (empty($tags['tabs'][3]['errors'])) {\n\t\t\t\t\n\t\t\t\t\\ze::$dbL = new \\ze\\db($merge['DB_PREFIX'], $merge['DBHOST'], $merge['DBNAME'], $merge['DBUSER'], $merge['DBPASS'], $merge['DBPORT'], $reportErrors = false);\n\t\t\t\t\n\t\t\t\tif (!\\ze::$dbL->con) {\n\t\t\t\t\t\\ze::$dbL = null;\n\t\t\t\t\t$tags['tabs'][3]['errors'][] = \n\t\t\t\t\t\t\\ze\\admin::phrase('The database name, username and/or password are invalid.');\n\t\t\t\n\t\t\t\t} else {\t\n\t\t\t\t\n\t\t\t\t\tif (!($result = @\\ze\\sql::select(\"SELECT VERSION()\"))\n\t\t\t\t\t\t   || !($version = @\\ze\\sql::fetchRow($result))\n\t\t\t\t\t\t   || !($result = @\\ze\\sql::select(\"SHOW TABLES\"))) {\n\t\t\t\t\t\t$tags['tabs'][3]['errors'][] = \n\t\t\t\t\t\t\t\\ze\\admin::phrase('You do not have access rights to the database [[DBNAME]].', $merge);\n\t\t\t\n\t\t\t\t\t} elseif (!\\ze\\welcome::compareVersionNumber($version[0], '5.5.3')) {\n\t\t\t\t\t    \n\t\t\t\t\t\t$tags['tabs'][3]['errors'][] = \n\t\t\t\t\t\t\t\\ze\\admin::phrase('Sorry, your MySQL server is \"[[version]]\". Version 5.5.3 or later is required.', ['version' => $version[0]]);\n\t\t\t\n\t\t\t\t\t} elseif (!(@\\ze\\sql::update(\"CREATE TABLE IF NOT EXISTS `zenario_priv_test` (`id` TINYINT(1) NOT NULL )\", false, false))\n\t\t\t\t\t\t   || !(@\\ze\\sql::update(\"DROP TABLE `zenario_priv_test`\", false, false))) {\n\t\t\t\t\t\t$tags['tabs'][3]['errors'][] = \n\t\t\t\t\t\t\t\\ze\\admin::phrase('Cannot verify database privileges. Please ensure the MySQL user [[DBUSER]] has CREATE TABLE and DROP TABLE privileges. You may need to contact your MySQL administrator to have these privileges enabled.',\n\t\t\t\t\t\t\t\t$merge['DBUSER']).\n\t\t\t\t\t\t\t\\ze\\welcome::installerReportError();\n\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\twhile ($tables = \\ze\\sql::fetchRow($result)) {\n\t\t\t\t\t\t\tif ($merge['DB_PREFIX'] == '' || substr($tables[0], 0, strlen($merge['DB_PREFIX'])) == $merge['DB_PREFIX']) {\n\t\t\t\t\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('There are already tables in this database that match your chosen table prefix. Please choose a different table prefix, or a different database.');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t//No validation for Step 4, but remember the theme and language chosen\n\t\tif ($tags['tab'] > 4 || ($tags['tab'] == 4 && !empty($fields['4/next']['pressed']))) {\n\t\t\t$merge['LANGUAGE_ID'] = $values['4/language_id'];\n\t\t\t$merge['VIS_DATE_FORMAT_SHORT'] = $values['4/vis_date_format_short'];\n\t\t\t$merge['VIS_DATE_FORMAT_MED'] = $values['4/vis_date_format_med'];\n\t\t\t$merge['VIS_DATE_FORMAT_LONG'] = $values['4/vis_date_format_long'];\n\t\t\t$merge['THEME'] = preg_replace('/\\W/', '', $values['4/theme']);\n\t\t}\n\t\n\t\tif (empty($fields['1/restore']['pressed'])) {\n\t\t\t//Validation for Step 5: Validate new Admin's details\n\t\t\tif (($tags['tab'] > 5 || ($tags['tab'] == 5 && !empty($fields['5/next']['pressed'])))) {\n\t\t\t\t$tags['tabs'][5]['errors'] = [];\n\t\t\t\n\t\t\t\tif (!$merge['admin_first_name'] = $values['5/first_name']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please enter your first name.');\n\t\t\t\t}\n\t\n\t\t\t\tif (!$merge['admin_last_name'] = $values['5/last_name']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please enter your last name.');\n\t\t\t\t}\n\t\n\t\t\t\tif (!$merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'] = $values['5/email']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please enter your email address.');\n\t\t\t\n\t\t\t\t} elseif (!\\ze\\ring::validateEmailAddress($merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'])) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please enter a valid email address.');\n\t\t\t\t}\n\t\n\t\t\t\tif (!$merge['USERNAME'] = $values['5/username']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please choose an administrator username.');\n\t\t\t\n\t\t\t\t} elseif (!\\ze\\ring::validateScreenName($merge['USERNAME'])) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Your username may not contain any special characters.');\n\t\t\t\n\t\t\t\t} elseif (preg_replace('/\\S/', '', $merge['USERNAME'])) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Your username may not contain any spaces.');\n\t\t\t\t}\n\t\n\t\t\t\tif (!$merge['PASSWORD'] = $values['5/password']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please choose a password.');\n\t\t\t\n\t\t\t\t} elseif ($merge['PASSWORD'] != $values['5/re_password']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('The password fields do not match.');\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t//Validation for Step 4/5: Check a backup file exists\n\t\t\tif ((($tags['tab'] != 6 && $tags['tab'] > 5)\n\t\t\t  || ($tags['tab'] == 6 && !empty($fields['6/next']['pressed'])))) {\n\t\t\t\t$tags['tabs'][6]['errors'] = [];\n\t\t\t\n\t\t\t\tif (!is_file($values['6/path'])) {\n\t\t\t\t\t$tags['tabs'][6]['errors'][] = \\ze\\admin::phrase('Please enter a path to a file.');\n\t\t\t\n\t\t\t\t} else\n\t\t\t\tif (substr($values['6/path'], -4) != '.sql'\n\t\t\t\t && substr($values['6/path'], -7) != '.sql.gz'\n\t\t\t\t && substr($values['6/path'], -14) != '.sql.encrypted'\n\t\t\t\t && substr($values['6/path'], -17) != '.sql.gz.encrypted') {\n\t\t\t\t\t$tags['tabs'][6]['errors'][] = \\ze\\admin::phrase('Please select a backup file.');\n\t\t\t\n\t\t\t\t} elseif (!is_readable($values['6/path'])) {\n\t\t\t\t\t$tags['tabs'][6]['errors'][] = \\ze\\admin::phrase('Please enter a path to a file with read-access set.');\n\t\t\t\t}\n\t\n\t\t\t\tif (!$merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'] = $values['6/email']) {\n\t\t\t\t\t$tags['tabs'][6]['errors'][] = \\ze\\admin::phrase('Please enter a support email address.');\n\t\t\t\n\t\t\t\t} elseif (!\\ze\\ring::validateEmailAddress($merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'])) {\n\t\t\t\t\t$tags['tabs'][6]['errors'][] = \\ze\\admin::phrase('Please enter a valid email address.');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t//Validation for Step 6: Attempt to create (if requested) and then validate the siteconfig files\n\t\tif ($tags['tab'] == 7 && (!empty($fields['7/ive_done_it']['pressed']) || !empty($fields['7/do_it_for_me']['pressed']))) {\n\t\t\t$tags['tabs'][7]['errors'] = [];\n\t\t\n\t\t\t$checkConfigFileExists = \\ze\\welcome::checkConfigFileExists();\n\t\t\tif (!empty($fields['7/do_it_for_me']['pressed'])) {\n\t\t\t\t$permErrors = false;\n\t\t\t\tif (!$checkConfigFileExists) {\n\t\t\t\t\tif (!file_exists(CMS_ROOT. 'zenario_siteconfig.php')) {\n\t\t\t\t\t\t$tags['tabs'][7]['errors'][] =\n\t\t\t\t\t\t\t\\ze\\admin::phrase('Please create a file called zenario_siteconfig.php. If you want this installer to populate it, it can be empty but writable.');\n\t\t\t\t\n\t\t\t\t\t} elseif (!@file_put_contents(CMS_ROOT. 'zenario_siteconfig.php', \\ze\\welcome::readSampleConfigFile($merge))) {\n\t\t\t\t\t\t$tags['tabs'][7]['errors'][] =\n\t\t\t\t\t\t\t\\ze\\admin::phrase('Could not write to file zenario_siteconfig.php');\n\t\t\t\t\t\t$permErrors = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif ($permErrors && !stristr(php_uname('s'), 'win')) {\n\t\t\t\t\t$tags['tabs'][7]['errors'][] = \\ze\\admin::phrase('To correct the file permissions: chmod 666 zenario_siteconfig.php');\n\t\t\t\t}\n\t\t\n\t\t\t} else {\n\t\t\t\tif ($checkConfigFileExists === false) {\n\t\t\t\t\t$tags['tabs'][7]['errors'][] = \\ze\\admin::phrase('Please create a file named zenario_siteconfig.php in the location shown below.');\n\t\t\t\n\t\t\t\t} elseif ($checkConfigFileExists === 0) {\n\t\t\t\t\t$tags['tabs'][7]['errors'][] = \\ze\\admin::phrase('Please please enter the text as shown into your zenario_siteconfig.php file.');\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tif ($checkConfigFileExists) {\n\t\t\t\tif (!@include_once CMS_ROOT. 'zenario_siteconfig.php') {\n\t\t\t\t\t$tags['tabs'][7]['errors'][] = \\ze\\admin::phrase('There is a syntax error in zenario_siteconfig.php');\n\t\t\t\t} else {\n\t\t\t\t\tforeach (['DBHOST', 'DBNAME', 'DBUSER', 'DBPASS', 'DBPORT', 'DB_PREFIX'] as $constant) {\n\t\t\t\t\t\tif (!defined($constant) || constant($constant) !== $merge[$constant]) {\n\t\t\t\t\t\t\t$tags['tabs'][7]['errors'][] = \\ze\\admin::phrase('The constants in zenario_siteconfig.php are not set as below.');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tif (!empty($tags['tabs'][7]['errors'])) {\n\t\t\t\t$fields['7/ive_done_it']['pressed'] = false;\n\t\t\t\t$fields['7/do_it_for_me']['pressed'] = false;\n\t\t\t}\n\t\t}\n\t\n\t\t//Handle navigation\n\t\tswitch ($tags['tab']) {\n\t\t\tcase 0:\n\t\t\t\tif (!empty($fields['0/next']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 1;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 1:\n\t\t\t\tif (!empty($fields['1/restore']['pressed']) || !empty($fields['1/fresh_install']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 3;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 3:\n\t\t\t\tif (!empty($fields['3/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][3]['errors']);\n\t\t\t\t\t$tags['tab'] = 1;\n\t\t\t\n\t\t\t\t} elseif (!empty($fields['3/next']['pressed'])) {\n\t\t\t\t\tif (!empty($fields['1/restore']['pressed'])) {\n\t\t\t\t\t\t$tags['tab'] = 6;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$tags['tab'] = 4;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 4:\n\t\t\t\tif (!empty($fields['4/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][4]['errors']);\n\t\t\t\t\t$tags['tab'] = 3;\n\t\t\t\n\t\t\t\t} elseif (!empty($fields['4/next']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 5;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 5:\n\t\t\t\tif (!empty($fields['5/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][5]['errors']);\n\t\t\t\t\t$tags['tab'] = 4;\n\t\t\t\n\t\t\t\t} elseif (!empty($fields['5/next']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 7;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 6:\n\t\t\t\tif (!empty($fields['6/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][6]['errors']);\n\t\t\t\t\t$tags['tab'] = 3;\n\t\t\t\n\t\t\t\t} elseif (!empty($fields['6/next']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 7;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 7:\n\t\t\t\tif (!empty($fields['7/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][7]['errors']);\n\t\t\t\t\n\t\t\t\t\tif (!empty($fields['1/restore']['pressed'])) {\n\t\t\t\t\t\t$tags['tab'] = 6;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$tags['tab'] = 5;\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t} elseif (!empty($fields['7/do_it_for_me']['pressed']) || !empty($fields['7/ive_done_it']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 8;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 8:\n\t\t\t\tif (!empty($fields['8/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][8]['errors']);\n\t\t\t\t\t$tags['tab'] = 7;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t}\n\t\n\t\t//Don't let the Admin proceed from Step 1 without accepting the license\n\t\tif ($tags['tab'] > 0 && !$licenseAccepted) {\n\t\t\t$tags['tab'] = 1;\n\t\t}\n\t\n\t\t//Don't let the Admin proceed from Step 3 without a valid database connection\n\t\tif ($tags['tab'] > 3 && !empty($tags['tabs'][3]['errors'])) {\n\t\t\t$tags['tab'] = 3;\n\t\t}\n\t\n\t\tif (empty($fields['1/restore']['pressed'])) {\n\t\t\t//Don't let the Admin proceed from Step 5 without entering their admin details\n\t\t\tif ($tags['tab'] > 5 && !empty($tags['tabs'][5]['errors'])) {\n\t\t\t\t$tags['tab'] = 5;\n\t\t\t}\n\t\t} else {\n\t\t\t//Don't let the Admin proceed from Step 4/5 without selecting a backup\n\t\t\tif ($tags['tab'] > 6 && !empty($tags['tabs'][6]['errors'])) {\n\t\t\t\t$tags['tab'] = 6;\n\t\t\t}\n\t\t}\n\t\n\t\t//Don't let the Admin proceed from Step 6 without setting the siteconfig up correctly\n\t\tif ($tags['tab'] > 7 && !empty($tags['tabs'][7]['errors'])) {\n\t\t\t$tags['tab'] = 7;\n\t\t}\n\t\n\t\t//Display the current step\n\t\tswitch ($tags['tab']) {\n\t\t\tcase 0:\n\t\t\t\n\t\t\t\tif ($installStatus == 0) {\n\t\t\t\t\t$fields['0/reason']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::phrase('The config file \"[[file]]\" is empty.',\n\t\t\t\t\t\t\t['file' => '<code>zenario_siteconfig.php</code>']);\n\t\t\t\n\t\t\t\t} elseif ($installStatus == 1) {\n\t\t\t\t\t$fields['0/reason']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::phrase('A database connection could not be established.');\n\t\t\t\n\t\t\t\t} elseif ($installStatus == 2) {\n\t\t\t\t\t$fields['0/reason']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::phrase('The database is empty, or contains no tables with the specified prefix.');\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 1:\n\t\t\t\tif (is_file(CMS_ROOT. 'license.txt')) {\n\t\t\t\t\t$fields['1/license']['snippet']['url'] = 'license.txt';\n\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\techo \\ze\\admin::phrase('The license file \"license.txt\" could not be found. This installer cannot proceed.');\n\t\t\t\t\texit;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 3:\n\t\t\t\t//Nothing doing for step 3\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 4:\n\t\t\t\n\t\t\t\t//Old code for sample sites, commented out as we don't currently use them\n\t\t\t\t//$fields['4/sample']['values'] = [\n\t\t\t\t//\t0 => [\n\t\t\t\t//\t\t'label' => \\ze\\admin::phrase('Blank Site:'),\n\t\t\t\t//\t\t'note_below' => \\ze\\admin::phrase('An empty site, ready for you to choose a language.')]];\n\t\t\t\t//\n\t\t\t\t//foreach (listSampleSites() as $dir => $path) {\n\t\t\t\t//\t$fields['4/sample']['values'][$dir] = [\n\t\t\t\t//\t\t'label' => $dir. ': ',\n\t\t\t\t//\t\t'note_below' => file_get_contents($path. 'description.txt')];\n\t\t\t\t//}\n\t\t\t\n\t\t\t\t//Format the labels for the date format picker fields\n\t\t\t\tif (empty($fields['4/language_id']['values'])) {\n\t\t\t\t\t$fields['4/language_id']['values'] = [];\n\t\t\t\t\n\t\t\t\t\t$ord = 0;\n\t\t\t\t\t$languages = require CMS_ROOT. 'zenario/includes/language_names.inc.php';\n\t\t\t\t\tforeach ($languages as $langId => $phrases) {\n\t\t\t\t\t\t$fields['4/language_id']['values'][$langId] = $phrases[0]. ' ('. $langId. ')';\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\\ze\\miscAdm::formatDateFormatSelectList($fields['4/vis_date_format_short'], true);\n\t\t\t\t\t\\ze\\miscAdm::formatDateFormatSelectList($fields['4/vis_date_format_med']);\n\t\t\t\t\t\\ze\\miscAdm::formatDateFormatSelectList($fields['4/vis_date_format_long']);\n\t\t\t\t}\n\t\t\t\n\t\t\t\t//Add logic if English is not chosen..?\n\t\t\t\t//if (!empty($values['4/language_id'])\n\t\t\t\t// && !\\ze\\ring::chopPrefix('en-', $values['4/language_id'])) {\n\t\t\t\t//\t\n\t\t\t\t//}\n\t\t\t\n\t\t\t\tif (empty($fields['4/theme']['values'])) {\n\t\t\t\t\t$fields['4/theme']['values'] = [];\n\t\t\t\t\tforeach (\\ze\\welcome::listSampleThemes() as $dir => $imageSrc) {\n\t\t\t\t\t\t$fields['4/theme']['values'][$dir] = [\n\t\t\t\t\t\t\t'label' => '',\n\t\t\t\t\t\t\t'post_field_html' =>\n\t\t\t\t\t\t\t\t'<label for=\"theme___'. htmlspecialchars($dir). '\">\n\t\t\t\t\t\t\t\t\t<img src=\"'. htmlspecialchars($imageSrc). '\"/>\n\t\t\t\t\t\t\t\t</label>'\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 5:\n\t\t\t\n\t\t\t\t//Quick hack - these functions doesn't seem to work with a partial db-connection, so just clear it quickly\n\t\t\t\t$db = \\ze::$dbL;\n\t\t\t\t\\ze::$dbL = null;\n\t\t\t\t\n\t\t\t\t\t$fields['5/password_message']['snippet']['html'] = self::passwordMessageSnippet($fields['5/password']['current_value'] ?? false);\n\t\t\t\t\t$fields['5/password_requirements']['snippet']['html'] = \\ze\\admin::displayPasswordRequirementsNoteAdmin($fields['5/password']['current_value'] ?? false);\n\t\t\t\t\n\t\t\t\t//Restore the connection\n\t\t\t\t\\ze::$dbL = $db;\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 6:\n\t\t\t\t$fields['6/path']['value'] = CMS_ROOT;\n\t\t\t\t$fields['6/path_status']['snippet']['html'] = '&nbsp;';\n\t\t\t\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 7:\n\t\t\t\t$fields['7/zenario_siteconfig']['pre_field_html'] =\n\t\t\t\t\t'<pre>'. CMS_ROOT. 'zenario_siteconfig.php'. ':</pre>';\n\t\t\t\t$fields['7/zenario_siteconfig']['value'] = \\ze\\welcome::readSampleConfigFile($merge);\n\t\t\t\tunset($values['7/zenario_siteconfig']);\n\t\t\t\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 8:\n\t\t\t\t$tags['tabs'][8]['errors'] = [];\n\t\t\t\n\t\t\t\tif (!defined('SHOW_SQL_ERRORS_TO_VISITORS')) {\n\t\t\t\t\tdefine('SHOW_SQL_ERRORS_TO_VISITORS', true);\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$merge['URL'] = \\ze\\link::protocol(). $_SERVER['HTTP_HOST'];\n\t\t\t\t$merge['HTTP_HOST'] = $_SERVER['HTTP_HOST'];\n\t\t\t\t$merge['SUBDIRECTORY'] = SUBDIRECTORY;\n\t\t\t\n\t\t\t\t//Set the latest revision number\n\t\t\t\t$merge['LATEST_REVISION_NO'] = LATEST_REVISION_NO;\n\t\t\t\t$merge['INSTALLER_REVISION_NO'] = INSTALLER_REVISION_NO;\n\t\t\t\t\n\t\t\t\t\\ze\\dbAdm::getTableEngine();\n\t\t\t\t$merge['ZENARIO_TABLE_ENGINE'] = ZENARIO_TABLE_ENGINE;\n\t\t\t\n\t\t\t\n\t\t\t\t//Install to the database\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate('SET NAMES \"UTF8\"');\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET collation_connection='utf8_general_ci'\");\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET collation_server='utf8_general_ci'\");\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET character_set_client='utf8'\");\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET character_set_connection='utf8'\");\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET character_set_results='utf8'\");\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET character_set_server='utf8'\");\n\t\t\t\t\n\t\t\t\t//Define the DB connection info, if it wasn't previously\n\t\t\t\t\\ze::define('DBHOST', $merge['DBHOST']);\n\t\t\t\t\\ze::define('DBNAME', $merge['DBNAME']);\n\t\t\t\t\\ze::define('DBUSER', $merge['DBUSER']);\n\t\t\t\t\\ze::define('DBPASS', $merge['DBPASS']);\n\t\t\t\t\\ze::define('DBPORT', $merge['DBPORT']);\n\t\t\t\t\\ze::define('DB_PREFIX', $merge['DB_PREFIX']);\n\t\t\t\t\n\t\t\t\t//Previously the \"from\" address was the same as the admin support email address.\n\t\t\t\t//The default \"from\" address now should contain the server user string (e.g. \"www-data\" for Apache),\n\t\t\t\t//and the server name.\n\t\t\t\t$merge['EMAIL_ADDRESS_FROM'] = getenv('APACHE_RUN_USER') . '@' . $_SERVER['SERVER_NAME'];\n\t\t\t\n\t\t\t\t//Here we restore a backup, and/or do a fresh install, depending on the choices in the installer.\n\t\t\t\t//(Installing a sample site is done by restoring a backup, then immediately doing a fresh install.)\n\t\t\t\n\t\t\t\t$doFreshInstall = !empty($fields['1/fresh_install']['pressed']);\n\t\t\t\t$restoreBackup = !$doFreshInstall && !empty($fields['1/restore']['pressed']);\n\t\t\t\n\t\t\t\t//Old code for sample sites, commented out as we don't currently use them\n\t\t\t\t//$installSampleSite = $doFreshInstall && !empty($values['4/sample']);\n\t\t\t\n\t\t\t\t//Try to restore a backup file\n\t\t\t\tif ($restoreBackup) {\n\t\t\t\t\t//Set the primary_domain to the current domain, reguardless of what it is in the backup\n\t\t\t\t\t\\ze::$siteConfig['primary_domain'] = $_SERVER['HTTP_HOST'];\n\t\t\t\t\n\t\t\t\t\t//Restore a backup, using either the specified path or the sample install path\n\t\t\t\t\n\t\t\t\t\t//Old code for sample sites, commented out as we don't currently use them\n\t\t\t\t\t//if ($installSampleSite) {\n\t\t\t\t\t//\t$backupPath = '';\n\t\t\t\t\t//\tforeach (listSampleSites() as $dir => $path) {\n\t\t\t\t\t//\t\tif ($dir == $values['4/sample']) {\n\t\t\t\t\t//\t\t\t$backupPath = $path. 'backup.sql.gz';\n\t\t\t\t\t//\t\t}\n\t\t\t\t\t//\t}\n\t\t\t\t\t//} else {\n\t\t\t\t\t\t$backupPath = $values['6/path'];\n\t\t\t\t\t//}\n\t\t\t\t\n\t\t\t\t\t//Little hack - the mysql_path and mysqldump_path site settings won't be set,\n\t\t\t\t\t//so temporarily set  them to their default values just before we attempt the restore.\n\t\t\t\t\t\\ze\\site::setSetting('mysqldump_path', 'PATH', $updateDB = false);\n\t\t\t\t\t\\ze\\site::setSetting('mysql_path', 'PATH', $updateDB = false);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t$failures = [];\n\t\t\t\t\tif (!\\ze\\dbAdm::restoreFromBackup($backupPath, $failures)) {\n\t\t\t\t\t\tforeach ($failures as $text) {\n\t\t\t\t\t\t\t$tags['tabs'][8]['errors'][] = $text;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\t//Set up tables in a fresh installation\n\t\t\t\tif ($doFreshInstall && empty($tags['tabs'][8]['errors'])) {\n\t\t\t\t\t//Old code for sample sites, commented out as we don't currently use them\n\t\t\t\t\t//if ($installSampleSite) {\n\t\t\t\t\t//\t$files = ['local-admin-CREATE.sql', 'local-sample-INSERT.sql'];\n\t\t\t\t\t//} else {\n\t\t\t\t\t\tset_time_limit(60 * 10);\n\t\t\t\t\t\t$files = ['local-CREATE.sql', 'local-admin-CREATE.sql', 'local-INSERT.sql'];\n\t\t\t\t\t//}\n\t\t\t\t\n\t\t\t\t\t$error = false;\n\t\t\t\t\tforeach ($files as $file) {\n\t\t\t\t\t\tif (!\\ze\\welcome::runSQL('zenario/admin/db_install/', $file, $error, $merge)) {\n\t\t\t\t\t\t\t$tags['tabs'][8]['errors'][] = $error;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t//Was the install successful?\n\t\t\t\t\tif (empty($tags['tabs'][8]['errors'])) {\n\t\t\t\t\t\n\t\t\t\t\t\t//Define the main email address for the remaining run of this script\n\t\t\t\t\t\t//(This is just needed this once; the next time a script run this should\n\t\t\t\t\t\t// be defined by the config file.)\n\t\t\t\t\t\tif (!defined('EMAIL_ADDRESS_GLOBAL_SUPPORT')) {\n\t\t\t\t\t\t\tdefine('EMAIL_ADDRESS_GLOBAL_SUPPORT', $merge['EMAIL_ADDRESS_GLOBAL_SUPPORT']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t//Populate the Modules table with all of the Modules in the system,\n\t\t\t\t\t\t//and install and run any Modules that should running by default.\n\t\t\t\t\t\t\\ze\\moduleAdm::addNew($skipIfFilesystemHasNotChanged = false, $runModulesOnInstall = true, $dbUpdateSafeMode = true);\n\t\t\t\t\t\n\t\t\t\t\t\t//If a language is picked, enable that language by default,\n\t\t\t\t\t\t//import any phrase packs and create special pages such as the home page.\n\t\t\t\t\t\tif ($merge['LANGUAGE_ID']\n\t\t\t\t\t\t && ($languages = require CMS_ROOT. 'zenario/includes/language_names.inc.php')\n\t\t\t\t\t\t && (!empty($languages[$merge['LANGUAGE_ID']]))) {\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t$translatePhrases = 1;\n\t\t\t\t\t\t\t$searchType = 'full_text';\n\t\t\t\t\t\t\tswitch ($merge['LANGUAGE_ID']) {\n\t\t\t\t\t\t\t\tcase 'en-gb':\n\t\t\t\t\t\t\t\tcase 'en-us':\n\t\t\t\t\t\t\t\t\t$translatePhrases = 0;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'zh-hans':\n\t\t\t\t\t\t\t\tcase 'zh-hant':\n\t\t\t\t\t\t\t\tcase 'ko':\n\t\t\t\t\t\t\t\tcase 'ja':\n\t\t\t\t\t\t\t\tcase 'vi':\n\t\t\t\t\t\t\t\t\t$searchType = 'simple';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\\ze\\row::set('languages', [\n\t\t\t\t\t\t\t\t'detect' => 0,\n\t\t\t\t\t\t\t\t'detect_lang_codes' => '',\n\t\t\t\t\t\t\t\t'translate_phrases' => $translatePhrases,\n\t\t\t\t\t\t\t\t'search_type'=> $searchType\n\t\t\t\t\t\t\t\t], \n\t\t\t\t\t\t\t\t$merge['LANGUAGE_ID']);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t//Set this language as the default language\n\t\t\t\t\t\t\t\\ze\\site::setSetting('default_language', \\ze::$defaultLang = $merge['LANGUAGE_ID']);\n\n\t\t\t\t\t\t\t//Import any phrases for Modules that use phrases\n\t\t\t\t\t\t\t\\ze\\contentAdm::importPhrasesForModules($merge['LANGUAGE_ID']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t\\ze\\site::setSetting('vis_date_format_short', $merge['VIS_DATE_FORMAT_SHORT']);\n\t\t\t\t\t\t\\ze\\site::setSetting('vis_date_format_med', $merge['VIS_DATE_FORMAT_MED']);\n\t\t\t\t\t\t\\ze\\site::setSetting('vis_date_format_long', $merge['VIS_DATE_FORMAT_LONG']);\n\t\t\t\t\t\t\\ze\\site::setSetting('vis_date_format_datepicker', \\ze\\miscAdm::convertMySQLToJqueryDateFormat($merge['VIS_DATE_FORMAT_SHORT']));\n\t\t\t\t\t\t\\ze\\site::setSetting('organizer_date_format', \\ze\\miscAdm::convertMySQLToJqueryDateFormat($merge['VIS_DATE_FORMAT_MED']));\n\t\t\t\t\t\n\t\t\t\t\t\t//Set a random key that is linked to the site.\n\t\t\t\t\t\t\\ze\\site::setSetting('site_id', \\ze\\dbAdm::generateRandomSiteIdentifierKey());\n\t\t\n\t\t\t\t\t\t//Set a random first data-revision number\n\t\t\t\t\t\t//(If someone is doing repeated fresh installs, this stops data from an old one getting cached and used in another)\n\t\t\t\t\t\t\\ze\\row::set('local_revision_numbers', ['revision_no' => rand(1, 32767)], ['path' => 'data_rev', 'patchfile' => 'data_rev']);\n\t\t\t\t\t\n\t\t\t\t\t\t$freshInstall = true;\n\t\t\t\t\t\n\t\t\t\t\t\t//Create an Admin, and give them all of the core permissions\n\t\t\t\t\t\t$details = [\n\t\t\t\t\t\t\t'username' => $merge['USERNAME'],\n\t\t\t\t\t\t\t'first_name' => $merge['admin_first_name'],\n\t\t\t\t\t\t\t'last_name' => $merge['admin_last_name'],\n\t\t\t\t\t\t\t'email' => $merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'],\n\t\t\t\t\t\t\t'created_date' => \\ze\\date::now(),\n\t\t\t\t\t\t\t'status' => 'active'];\n\t\t\t\t\t\n\t\t\t\t\t\t$adminId = \\ze\\row::insert('admins', $details);\n\t\t\t\t\t\t\\ze\\adminAdm::setPassword($adminId, $merge['PASSWORD']);\n\t\t\t\t\t\t\\ze\\adminAdm::savePerms($adminId, 'all_permissions');\n\t\t\t\t\t\t\\ze\\admin::setSession($adminId);\n\t\t\t\t\t\n\t\t\t\t\t\t//Prepare email to the installing person\n\t\t\t\t\t\t$message = $source['email_templates']['installed_cms']['body'];\n\t\t\t\t\t\n\t\t\t\t\t\t$subject = $source['email_templates']['installed_cms']['subject'];\n\t\t\t\t\t\n\t\t\t\t\t\tforeach ($merge as $pattern => $replacement) {\n\t\t\t\t\t\t\t$message = str_replace('[['. $pattern. ']]', $replacement, $message);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t$addressToOverriddenBy = false;\n\t\t\t\t\t\t\\ze\\server::sendEmail(\n\t\t\t\t\t\t\t$subject, $message,\n\t\t\t\t\t\t\t$merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'],\n\t\t\t\t\t\t\t$addressToOverriddenBy,\n\t\t\t\t\t\t\t$nameTo = false,\n\t\t\t\t\t\t\t$addressFrom = false,\n\t\t\t\t\t\t\t$nameFrom = $source['email_templates']['installed_cms']['from'],\n\t\t\t\t\t\t\tfalse, false, false,\n\t\t\t\t\t\t\t$isHTML = false);\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t//Apply database updates\n\t\t\t\t\t\t$moduleErrors = '';\n\t\t\t\t\t\t\\ze\\dbAdm::checkIfUpdatesAreNeeded($moduleErrors, $andDoUpdates = true);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//Reset the cached table details, in case any of the definitions are out of date\n\t\t\t\t\t\t\\ze\\dbAdm::resetTableDefs();\n\t\t\t\t\t\n\t\t\t\t\t\t//Fix a bug where sample sites might not have a default language set, by setting a default language if any content has been created\n\t\t\t\t\t\tif (!\\ze::$defaultLang && ($langId = \\ze\\row::get('content_items', 'language_id', []))) {\n\t\t\t\t\t\t\t\\ze\\site::setSetting('default_language', \\ze::$defaultLang = $langId);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//Set the \"Email from\" and \"Organizer title\" setting from the Organisation name field, if that was provided\n\t\t\t\t\t\tif ($values['4/organisation_name']) {\n\t\t\t\t\t\t\t\\ze\\site::setSetting('email_name_from', (string)$values['4/organisation_name']);\n\t\t\t\t\t\t\t\\ze\\site::setSetting('organizer_title', \\ze\\admin::phrase('Organizer for [[organisation_name]]', $values));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//Check if a logo was uploaded during the installer, and try to add it to the filesystem\n\t\t\t\t\t\tif ($values['4/logo']\n\t\t\t\t\t\t && ($location = \\ze\\file::getPathOfUploadInCacheDir($values['4/logo']))\n\t\t\t\t\t\t && ($imageId = \\ze\\file::addToDatabase('image', $location, false, $mustBeAnImage = true, $deleteWhenDone = false))) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//Change the image in the banner to use this image\n\t\t\t\t\t\t\t\\ze\\row::update('plugin_settings',\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t'value' => $imageId,\n\t\t\t\t\t\t\t\t\t'foreign_key_id' => $imageId\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t['name' => 'image', 'instance_id' => 1, 'egg_id' => 0]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//Also set the image as the image on the login screen\n\t\t\t\t\t\t\t$imageId = \\ze\\file::addToDatabase('site_setting', $location);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\\ze\\site::setSetting('brand_logo', 'custom');\n\t\t\t\t\t\t\t\\ze\\site::setSetting('custom_logo', $imageId);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//Unless the image was a SVG, also set it as the default og:image\n\t\t\t\t\t\t\tif (\\ze\\file::isImage(\\ze\\file::mimeType($location))) {\n\t\t\t\t\t\t\t\t\\ze\\site::setSetting('default_icon', $imageId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t//Populate the menu_hierarchy and the menu_positions tables\n\t\t\t\t\t\t\\ze\\menuAdm::recalcAllHierarchy();\n\t\t\t\t\t\n\t\t\t\t\t\t//Update the special pages, creating new ones if needed\n\t\t\t\t\t\t\\ze\\contentAdm::addNeededSpecialPages();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif (!empty($tags['tabs'][8]['errors'])) {\n\t\t\t\t\t//Did something go wrong? Remove any tables that were created.\n\t\t\t\t\t\\ze\\welcome::runSQL('zenario/admin/db_install/', 'local-DROP.sql', $error, $merge);\n\t\t\t\t\t\\ze\\welcome::runSQL('zenario/admin/db_install/', 'local-admin-DROP.sql', $error, $merge);\n\t\t\t\t\n\t\t\t\t\tforeach (\\ze\\dbAdm::lookupExistingCMSTables($dbUpdateSafeMode = true) as $table) {\n\t\t\t\t\t\tif ($table['reset'] == 'drop') {\n\t\t\t\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"DROP TABLE `\". \\ze\\escape::sql($table['actual_name']). \"`\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\tpublic static function enableCaptchaForAdminLogins() {\n\t\treturn \\ze::setting('google_recaptcha_site_key')\n\t\t\t&& \\ze::setting('google_recaptcha_secret_key')\n\t\t\t&& \\ze\\site::description('enable_captcha_for_admin_logins');\n\t}\n\n\t//Formerly \"loginAJAX()\"\n\tpublic static function loginAJAX(&$source, &$tags, &$fields, &$values, $changes, $getRequest) {\n\t\t$passwordReset = false;\n\t\t$tags['tabs']['login']['errors'] = [];\n\t\t$tags['tabs']['forgot']['errors'] = [];\n\t\n\t\tif ($tags['tab'] == 'login' && !empty($fields['login/previous']['pressed'])) {\n\t\t\t$tags['go_to_url'] = \\ze\\welcome::redirectAdmin($getRequest);\n\t\t\treturn false;\n\t\n\t\t//Go between the login and the forgot password screens\n\t\t} elseif ($tags['tab'] == 'login' && !empty($fields['login/forgot']['pressed'])) {\n\t\t\t$tags['tab'] = 'forgot';\n\t\n\t\t} elseif ($tags['tab'] == 'forgot' && !empty($fields['forgot/previous']['pressed'])) {\n\t\t\t$tags['tab'] = 'login';\n\t\n\t\t//Check a login attempt\n\t\t} elseif ($tags['tab'] == 'login' && !empty($fields['login/login']['pressed'])) {\n\t\t\t\n\t\t\t//Call the standard TUIX validation, as there's a captcha on this screen that needs validating,\n\t\t\t//and this function has the logic to handle it.\n\t\t\t\\ze\\tuix::applyValidation($tags['tabs']['login'], true);\n\t\t\t\n\t\t\tif (!$values['login/username']) {\n\t\t\t\t$tags['tabs']['login']['errors'][] = \\ze\\admin::phrase('Please enter your administrator username.');\n\t\t\t}\n\t\t\n\t\t\tif (!$values['login/password']) {\n\t\t\t\t$tags['tabs']['login']['errors'][] = \\ze\\admin::phrase('Please enter your administrator password.');\n\t\t\t}\n\t\t\t\n\t\t\tif (\\ze\\welcome::enableCaptchaForAdminLogins() && !$values['login/admin_login_captcha']) {\n\t\t\t\t$tags['tabs']['login']['errors'][] = \\ze\\admin::phrase('Please complete the CAPTCHA.');\n\t\t\t}\n\t\t\t\n\t\t\tif (empty($tags['tabs']['login']['errors'])) {\n\t\t\t\t$details = [];\n\t\t\t\n\t\t\t\t$adminIdL = \\ze\\admin::checkPassword($values['login/username'], $details, $values['login/password'], $checkViaEmail = false);\n\t\t\t\n\t\t\t\tif (!$adminIdL || \\ze::isError($adminIdL)) {\n\t\t\t\t\t$tags['tabs']['login']['errors']['details_wrong'] = \\ze\\admin::phrase('_ERROR_ADMIN_LOGIN_USERNAME');\n\t\t\t\t\t\n\t\t\t\t\t//Be nasty and reset the captcha if they got the username or password wrong!\n\t\t\t\t\tif (\\ze\\welcome::enableCaptchaForAdminLogins()) {\n\t\t\t\t\t\t$values['login/admin_login_captcha'] = '';\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t\\ze\\admin::logIn($adminIdL, $values['login/remember_me']);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t//Reset a password\n\t\t} elseif ($tags['tab'] == 'forgot' && !empty($fields['forgot/reset']['pressed'])) {\n\t\t\n\t\t\tif (!$values['forgot/email']) {\n\t\t\t\t$tags['tabs']['forgot']['errors'][] = \\ze\\admin::phrase('Please enter your email address.');\n\t\t\n\t\t\t} elseif (!\\ze\\ring::validateEmailAddress($values['forgot/email'])) {\n\t\t\t\t$tags['tabs']['forgot']['errors'][] = \\ze\\admin::phrase('Please enter a valid email address.');\n\t\t\n\t\t\t//Check for the user by email address, without specifying their password.\n\t\t\t//This will return 0 if the user wasn't found, otherwise it should return\n\t\t\t//false (for user found but password didn't match)\n\t\t\t} elseif (!$admin = \\ze\\row::get('admins', ['id', 'authtype', 'username', 'email', 'first_name', 'last_name', 'status'], ['email' => $values['forgot/email']])) {\n\t\t\t\t//If email address doesn't exist, don't actually tell the user!\n\t\t\t\t$passwordReset = true;\n\t\t\t\t$tags['tab'] = 'login';\n\t\t\n\t\t\t//Super Admins shouldn't be trying to change their passwords on a local site\n\t\t\t} elseif (isset($admin['authtype']) && $admin['authtype'] != 'local') {\n\t\t\t\t$tags['tabs']['forgot']['errors'][] = \\ze\\admin::phrase(\"Please go to the Controller site to reset the password for a Superadmin account.\");\n\t\t\n\t\t\t//Trashed admins should not be able to trigger password resets, just as if the account didn't exist\n\t\t\t} elseif ($admin['status'] == 'deleted') {\n\t\t\t\t$passwordReset = true;\n\t\t\t\t$tags['tab'] = 'login';\n\t\t\n\t\t\t} else {\n\t\t\t\n\t\t\t\t//Prepare email to the mail with the reset password\n\t\t\t\t$merge = [];\n\t\t\t\t$merge['NAME'] = \\ze::ifNull(trim($admin['first_name']. ' '. $admin['last_name']), $admin['username']);\n\t\t\t\t$merge['USERNAME'] = $admin['username'];\n\t\t\t\t$merge['PASSWORD'] = \\ze\\admin::resetPassword($admin['id']);\n\t\t\t\t$merge['URL'] = \\ze\\link::protocol(). $_SERVER['HTTP_HOST'];\n\t\t\t\t$merge['SUBDIRECTORY'] = SUBDIRECTORY;\n\t\t\t\t$merge['IP'] = preg_replace('[^W\\.\\:]', '', \\ze\\user::ip());\n\t\t\t\n\t\t\t\t$emailTemplate = 'new_reset_password';\n\t\t\t\t\n\t\t\t\t$message = $source['email_templates'][$emailTemplate]['body'];\n\t\t\t\t$message = nl2br($message);\n\t\t\t\t\n\t\t\t\tif (\\ze\\module::inc('zenario_email_template_manager')) {\n\t\t\t\t\t\\zenario_email_template_manager::putBodyInTemplate($message);\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$subject = $source['email_templates'][$emailTemplate]['subject'];\n\t\t\t\n\t\t\t\tforeach ($merge as $pattern => $replacement) {\n\t\t\t\t\t$message = str_replace('[['. $pattern. ']]', $replacement, $message);\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$addressToOverriddenBy = false;\n\t\t\t\t\\ze\\server::sendEmail(\n\t\t\t\t\t$subject, $message,\n\t\t\t\t\t$admin['email'],\n\t\t\t\t\t$addressToOverriddenBy,\n\t\t\t\t\t$nameTo = $merge['NAME'],\n\t\t\t\t\t$addressFrom = false,\n\t\t\t\t\t$nameFrom = $source['email_templates'][$emailTemplate]['from'],\n\t\t\t\t\tfalse, false, false,\n\t\t\t\t\t$isHTML = true);\n\t\t\t\n\t\t\t\t$passwordReset = true;\n\t\t\t\t$tags['tab'] = 'login';\n\t\t\t}\n\t\t}\n\t\n\t\t//Format the login screen\n\t\tif ($tags['tab'] == 'login') {\n\t\t\tif (!empty($_COOKIE['COOKIE_LAST_ADMIN_USER'])) {\n\t\t\t\t$fields['login/username']['value'] = $_COOKIE['COOKIE_LAST_ADMIN_USER'];\n\t\t\t}\n\t\t\t$fields['login/remember_me']['value'] = empty($_COOKIE['COOKIE_DONT_REMEMBER_LAST_ADMIN_USER']);\n\t\t\n\t\t\t//Don't show the note about the admin login link if it is turned off in Site Settings\n\t\t\tif (\\ze\\link::adminDomainIsPrivate()) {\n\t\t\t\t$fields['login/remember_me']['note_below'] = '';\n\t\t\t}\n\t\t\n\t\t\tif ($passwordReset) {\n\t\t\t\t$fields['login/reset']['hidden'] = false;\n\t\t\t\t$fields['login/description']['hidden'] = true;\n\t\t\t} else {\n\t\t\t\t$fields['login/reset']['hidden'] = true;\n\t\t\t\t$fields['login/description']['hidden'] = false;\n\t\t\t}\n\t\t\t\n\t\t\t$fields['login/admin_login_captcha']['hidden'] = !\\ze\\welcome::enableCaptchaForAdminLogins();\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\t//Formerly \"updateNoPermissionsAJAX()\"\n\tpublic static function updateNoPermissionsAJAX(&$source, &$tags, &$fields, &$values, $changes, &$task, $getRequest) {\n\t\t//Handle the \"back to site\" button\n\t\tif (!empty($fields['0/previous']['pressed'])) {\n\t\t\t\\ze\\welcome::logoutAdminAJAX($tags, $getRequest);\n\t\t\treturn;\n\t\n\t\t} else {\n\t\t       $tags['tabs'][0]['errors'][0] = \\ze\\admin::phrase(\"Sorry, you do not have permission to apply a database update to this site. An email has been sent to the Zenario system administrator to ask them to do this.\");\n\t\t       \n\t\t\t\tif(!isset($_SESSION[\"mailSent\"])){//send mail once to global support.\n\t\t\t\t    \n\t\t\t\t    $subject = \\ze\\admin::phrase(\"Admin has no permission to apply db updates\") ;\n\t\t            $message = \\ze\\admin::phrase('Dear Admin,').\"\\n\\n\". \\ze\\admin::phrase('The admin \"').$_SESSION['admin_username'].\\ze\\admin::phrase('\" has no permission to apply db updates for the site ').\\ze\\link::absolute().\"admin. \\n\\n\".\\ze\\admin::phrase(\"Thanks.\");\n\t\t    \n\t\t            $mailSent = \\ze\\server::sendEmail(\n\t\t\t\t\t            $subject, $message,\n\t\t\t\t\t            EMAIL_ADDRESS_GLOBAL_SUPPORT,\n\t\t\t\t\t            $addressToOverriddenBy,\n\t\t\t\t\t\t\t    $nameTo = false,\n\t\t\t\t\t\t\t    $addressFrom = false,\n\t\t\t\t\t\t\t    $nameFrom = $source['email_templates']['installed_cms']['from'],\n\t\t\t\t\t\t\t    false, false, false,\n\t\t\t\t\t\t\t    $isHTML = false);\n\t\t\t\t\t$_SESSION[\"mailSent\"]= $mailSent ;  \n\t\t\t\t}\t\t\t\n\t\t\t\n\t\t  \n\t\t\t\t\t\t\t    \n\t\t\t$admins = \\ze\\row::getAssocs(\n\t\t\t\t'admins',\n\t\t\t\t['first_name', 'last_name', 'username', 'authtype'],\n\t\t\t\t[\n\t\t\t\t\t'status' => 'active',\n\t\t\t\t\t'id' => \\ze\\row::getAssocs(\n\t\t\t\t\t\t'action_admin_link',\n\t\t\t\t\t\t'admin_id',\n\t\t\t\t\t\t['action_name' => ['_ALL', '_PRIV_APPLY_DATABASE_UPDATES']])],\n\t\t\t\t['first_name', 'last_name', 'username', 'authtype']\n\t\t\t);\n\t\t\n\t\t\tif (!empty($admins)) {\n\t\t\t    \n\t\t\t\t$html =\n\t\t\t\t\t'<p>'. \\ze\\admin::phrase('The following administrators are able to apply updates:'). '</p><ul>';\n\t\t\t   \n\t\t\t\tforeach ($admins as $admin) {\n\t\t\t\t\t$html .= '<li>'. htmlspecialchars(\\ze\\admin::formatName($admin)). '</li>';\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$html .= '</ul>';\n\t\t\t\n\t\t\t\t$fields['0/admins_who_can_do_updates']['hidden'] = false;\n\t\t\t\t$fields['0/admins_who_can_do_updates']['snippet']['html'] = $html;\n\t\t\t}\n\t\t}\n\t}\n\n\t//Formerly \"updateAJAX()\"\n\tpublic static function updateAJAX(&$source, &$tags, &$fields, &$values, $changes, &$task) {\n\t\t$tags['tab'] = 1;\n\t\n\t\t//Apply updates without prompting when installing, restoring backups or doing site resets\n\t\tif ($task == 'install' || $task == 'restore' || $task == 'site_reset' || !empty($fields['1/apply']['pressed'])) {\n\t\t\n\t\t\t//Update to the latest version\n\t\t\tset_time_limit(60 * 10);\n\t\t\t$moduleErrors = '';\n\t\t\t$dbUpToDate = \\ze\\dbAdm::checkIfUpdatesAreNeeded($moduleErrors, $andDoUpdates = true);\n\t\t\n\t\t\tif ($dbUpToDate) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\n\t\t$fields['1/description']['snippet']['html'] =\n\t\t\t\\ze\\admin::phrase('We need to update your database (<code>[[database]]</code>) to match.', ['database' => htmlspecialchars(DBNAME)]);\n\t\n\t\n\t\tif ($tags['tab'] == 1 && !empty($fields['1/why']['pressed'])) {\n\t\t\t$modules = [];\n\t\t\t$revisions = [];\n\t\t\t$currentRevisionNumber = false;\n\t\t\t$latestRevisionNumber = LATEST_REVISION_NO;\n\t\n\t\t\t//Get details on any database updates needed\n\t\t\t$moduleErrors = '';\n\t\t\tif ($updates = \\ze\\dbAdm::checkIfUpdatesAreNeeded($moduleErrors, false, false, false)) {\n\t\t\t\tlist($currentRevisionNumber, $modules) = $updates;\n\t\t\t}\n\t\t\n\t\t\tif (empty($modules)\n\t\t\t && empty($currentRevisionNumber)) {\n\t\t\t\n\t\t\t\t$html =\n\t\t\t\t\t'<table class=\"revisions\"><tr class=\"even\"><td>'.\n\t\t\t\t\t\t\\ze\\admin::phrase('A major CMS update needs to be applied.').\n\t\t\t\t\t'</td></tr></table>';\n\t\t\n\t\t\t} else {\n\t\t\t\tif ($currentRevisionNumber === false) {\n\t\t\t\t\t$currentRevisionNumber = $latestRevisionNumber;\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($currentRevisionNumber != $latestRevisionNumber) {\n\t\t\t\t\t$revisions['core'] = ['name' => ' '. \\ze\\admin::phrase('Core files'), 'from' => $currentRevisionNumber, 'to' => $latestRevisionNumber];\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!empty($modules)) {\n\t\t\t\t\tforeach($modules as $module => $pluginRevisions) {\n\t\t\t\t\t\t$sql = \"\n\t\t\t\t\t\t\tSELECT display_name\n\t\t\t\t\t\t\tFROM \". DB_PREFIX. \"modules\n\t\t\t\t\t\t\tWHERE class_name = '\". \\ze\\escape::sql($module). \"'\";\n\t\t\t\t\n\t\t\t\t\t\tif (($result = @\\ze\\sql::select($sql)) && ($row = \\ze\\sql::fetchAssoc($result))) {\n\t\t\t\t\t\t\t$moduleName = ($row['display_name'] ?: $module);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$moduleName = $module;\n\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t$revisions[$module] = ['name' => $moduleName, 'from' => $pluginRevisions[0] + 1, 'to' => $pluginRevisions[1]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t\\ze\\ray::sqlSort($revisions);\n\t\t\n\t\t\t\t$html = '<table class=\"revisions\"><tr><th>'. \\ze\\admin::phrase('Module'). '</th><th>'. \\ze\\admin::phrase('Revision Numbers to Apply'). '</th></tr>';\n\t\t\n\t\t\t\t$oddOrEven = 'even';\n\t\t\t\tforeach ($revisions as $revision) {\n\t\t\t\t\t$oddOrEven = $oddOrEven == 'even'? 'odd' : 'even';\n\t\t\t\t\t$html .= '<tr class=\"'. $oddOrEven. '\"><td>'. htmlspecialchars($revision['name']). '</td><td>';\n\t\t\t\n\t\t\t\t\tif ($revision['from'] == $revision['to']) {\n\t\t\t\t\t\t$html .= \\ze\\admin::phrase('Revision #[[to]]', $revision);\n\t\t\t\n\t\t\t\t\t} elseif ($revision['from'] == 0) {\n\t\t\t\t\t\t$revision['version'] = \\ze\\site::versionNumber();\n\t\t\t\t\t\t$html .= \\ze\\admin::phrase('Updates from [[version]]', $revision);\n\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$html .= \\ze\\admin::phrase('Revision #[[from]] through to Revision #[[to]]', $revision);\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t$html .= '</tr>';\n\t\t\t\t}\n\t\t\n\t\t\t\t$html .= '</table>';\n\t\t\t}\n\t\t\n\t\t\t$fields['1/updates']['snippet']['html'] = $html;\n\t\t\t$fields['1/updates']['hidden'] = false;\n\t\t} else {\n\t\t\t$fields['1/updates']['hidden'] = true;\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\t//Log the current admin out\n\t//Formerly \"logoutAdminAJAX()\"\n\tpublic static function logoutAdminAJAX(&$tags, $getRequest) {\n\t\t\\ze\\admin::unsetSession();\n\t\t$tags['_clear_local_storage'] = true;\n\t\t$tags['go_to_url'] = \\ze\\welcome::redirectAdmin($getRequest, true);\n\t}\n\n\t//Return the UNIX time, $offset ago, converted to a string\n\t//Formerly \"zenarioSecurityCodeTime()\"\n\tpublic static function securityCodeTime($offset = 0) {\n\t\treturn str_pad(time() - (int) $offset * 86400, 16, '0', STR_PAD_LEFT);\n\t}\n\n\t//This returns the name that the cookie for the security code should have.\n\t//This is in the form \"COOKIE_ADMIN_SECURITY_CODE_[[ADMIN_ID]]\"\n\t//Formerly \"zenarioSecurityCodeCookieName()\"\n\tpublic static function securityCodeCookieName() {\n\t\treturn 'COOKIE_ADMIN_SECURITY_CODE_'. \\ze::session('admin_userid');\n\t}\n\n\t//Get the value of the cookie above\n\t//Formerly \"zenarioSecurityCodeCookieValue()\"\n\tpublic static function securityCodeCookieValue() {\n\t\tif (isset($_COOKIE[\\ze\\welcome::securityCodeCookieName()])) {\n\t\t\treturn preg_replace('@[^-_=\\w]@', '', $_COOKIE[\\ze\\welcome::securityCodeCookieName()]);\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t}\n\n\t//Looks for a security code cookie with the above name,\n\t//then returns the corresponding name that a site setting should have.\n\t//This is in the form \"COOKIE_ADMIN_SECURITY_CODE_[[COOKIE_VALUE]]\", or\n\t//\"COOKIE_ADMIN_SECURITY_CODE_[[COOKIE_VALUE]]_[[IP_ADDRESS]]\", depending on\n\t//whether the apply_two_factor_authentication_by_ip option is set in the site_description.yaml file.\n\t//Formerly \"zenarioSecurityCodeSettingName()\"\n\tpublic static function securityCodeSettingName() {\n\t\n\t\tif ('' == ($sccn = \\ze\\welcome::securityCodeCookieValue())) {\n\t\t\t return false;\n\t\n\t\t} elseif (\\ze\\site::description('apply_two_factor_authentication_by_ip')) {\n\t\t\treturn 'COOKIE_ADMIN_SECURITY_CODE_'. $sccn. '_'. \\ze\\user::ip();\n\n\t\t} else {\n\t\t\treturn 'COOKIE_ADMIN_SECURITY_CODE_'. $sccn;\n\t\t}\n\t}\n\n\t//Remove very old security codes\n\t//(But keep ones that have recently expired, so we can show a different message to the admin on the login screen.)\n\t//Formerly \"zenarioTidySecurityCodes()\"\n\tpublic static function tidySecurityCodes() {\n\t\t$sql = \"\n\t\t\tDELETE FROM \". DB_PREFIX. \"admin_settings\n\t\t\tWHERE name LIKE 'COOKIE_ADMIN_SECURITY_CODE_%'\n\t\t\t  AND value < '\". \\ze\\escape::sql(\\ze\\welcome::securityCodeTime(2 * \\ze\\site::description('two_factor_authentication_timeout'))). \"'\";\n\t\t\\ze\\sql::update($sql, false, false);\n\t}\n\n\t//Formerly \"securityCodeAJAX()\"\n\tpublic static function securityCodeAJAX(&$source, &$tags, &$fields, &$values, $changes, &$task, $getRequest, $time) {\n\t\n\t\t$firstTimeHere = empty($_SESSION['COOKIE_ADMIN_SECURITY_CODE']);\n\t\t$resend = !empty($fields['security_code/resend']['pressed']);\n\t\t$tags['tabs']['security_code']['notices']['email_resent']['show'] = false;\n\t\t$tags['tabs']['security_code']['errors'] = [];\n\t\t\n\t\n\t\t//Handle the \"back to site\" button\n\t\tif (!empty($fields['security_code/previous']['pressed'])) {\n\t\t\t\\ze\\welcome::logoutAdminAJAX($tags, $getRequest);\n\t\t\treturn false;\n\t\n\t\t//If we've not sent the email yet, or the user presses the retry button, then send the email\n\t\t} elseif ($firstTimeHere || $resend) {\n\t\t\n\t\t\tif ($firstTimeHere) {\n\t\t\t\t$_SESSION['COOKIE_ADMIN_SECURITY_CODE'] = \\ze\\ring::randomFromSet(5, 'ABCDEFGHIJKLMNPPQRSTUVWXYZ');\n\t\t\t}\n\t\t\n\t\t\t$admin = \\ze\\row::get('admins', ['id', 'authtype', 'username', 'email', 'first_name', 'last_name'], $_SESSION['admin_userid'] ?? false);\n\t\t\n\t\t\t//Prepare email to the mail with the code\n\t\t\t$merge = [];\n\t\t\t$merge['NAME'] = \\ze::ifNull(trim($admin['first_name']. ' '. $admin['last_name']), $admin['username']);\n\t\t\t$merge['USERNAME'] = $admin['username'];\n\t\t\t$merge['URL'] = \\ze\\link::protocol(). $_SERVER['HTTP_HOST'];\n\t\t\t$merge['SUBDIRECTORY'] = SUBDIRECTORY;\n\t\t\t$merge['IP'] = preg_replace('[^W\\.\\:]', '', \\ze\\user::ip());\n\t\t\t$merge['CODE'] = $_SESSION['COOKIE_ADMIN_SECURITY_CODE'];\n\t\t\n\t\t\t$emailTemplate = 'security_code';\n\t\t\t$message = $source['email_templates'][$emailTemplate]['body'];\n\t\t\n\t\t\t$subject = $source['email_templates'][$emailTemplate]['subject'];\n\t\t\n\t\t\tforeach ($merge as $pattern => $replacement) {\n\t\t\t\t$subject = str_replace('[['. $pattern. ']]', $replacement, $subject);\n\t\t\t\t$message = str_replace('[['. $pattern. ']]', $replacement, $message);\n\t\t\t}\n\t\t\t\n\t\t\t$message = nl2br($message);\n\t\t\t$addressToOverriddenBy = false;\n\t\t\t\n\t\t\tif (\\ze\\module::inc('zenario_email_template_manager')) {\n\t\t\t\t\\zenario_email_template_manager::putBodyInTemplate($message);\n\t\t\t}\n\t\t\t\n\t\t\t$emailSent = \\ze\\server::sendEmail(\n\t\t\t\t$subject, $message,\n\t\t\t\t$admin['email'],\n\t\t\t\t$addressToOverriddenBy,\n\t\t\t\t$nameTo = $merge['NAME'],\n\t\t\t\t$addressFrom = false,\n\t\t\t\t$nameFrom = $source['email_templates'][$emailTemplate]['from'],\n\t\t\t\tfalse, false, false,\n\t\t\t\t$isHTML = true,\n\t\t\t\tfalse, false, false, false, '', '', 'To',\n\t\t\t\t$ignoreDebugMode = true); //Security codes should always be sent to the intended recipient,\n\t\t\t\t\t\t\t\t\t\t  //even if debug mode is on.\n\t\t\n\t\t\tif (!$emailSent) {\n\t\t\t\t$tags['tabs']['security_code']['errors'][] =\n\t\t\t\t\t\\ze\\admin::phrase('Warning! The system could not send an email. Please contact your server administrator.');\n\t\t\t\n\t\t\t} elseif ($resend) {\n\t\t\t\t$tags['tabs']['security_code']['notices']['email_resent']['show'] = true;\n\t\t\t}\n\t\n\t\t//Check the code if someone is trying to submit it\n\t\t} else\n\t\tif ((!empty($_SESSION['COOKIE_ADMIN_SECURITY_CODE']) && !empty($fields['security_code/submit']['pressed']) && ($code = $values['security_code/code']))\n\t\t || (isset($getRequest['verification_code']) && ($code = $getRequest['verification_code']))) {\n\t\t\n\t\t\tif ($code == '') {\n\t\t\t\t$tags['tabs']['security_code']['errors'][] =\n\t\t\t\t\t\\ze\\admin::phrase('Please enter the code that was sent to your email address.');\n\t\t\n\t\t\t} elseif (trim($code) !== $_SESSION['COOKIE_ADMIN_SECURITY_CODE']) {\n\t\t\t\t$tags['tabs']['security_code']['errors'][] =\n\t\t\t\t\t\\ze\\admin::phrase('The code you have entered is not correct.');\n\t\t\n\t\t\t} else {\n\t\t\t\n\t\t\t\t//If the code is correct, save a cookie...\n\t\t\t\t\\ze\\cookie::set(\n\t\t\t\t\t\\ze\\welcome::securityCodeCookieName(),\n\t\t\t\t\t\\ze\\ring::random(),\n\t\t\t\t\t(int) \\ze\\site::description('two_factor_authentication_timeout') * 86400);\n\t\t\t\n\t\t\t\t//...and an admin setting to remember it next time!\n\t\t\t\t$scsn = \\ze\\welcome::securityCodeSettingName();\n\t\t\t\t$time = \\ze\\welcome::securityCodeTime();\n\t\t\t\t\\ze\\admin::setSetting($scsn, $time);\n\t\t\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t$fields['security_code/not_seen_you']['hidden'] =\n\t\t$fields['security_code/not_seen_you_ip']['hidden'] =\n\t\t$fields['security_code/timeout']['hidden'] = \n\t\t$fields['security_code/timeout_ip']['hidden'] = true;\n\t\t\n\t\tif (\\ze\\site::description('apply_two_factor_authentication_by_ip')) {\n\t\t\tif ($time) {\n\t\t\t\t$fields['security_code/timeout_ip']['hidden'] = false;\n\t\t\t} else {\n\t\t\t\t$fields['security_code/not_seen_you_ip']['hidden'] = false;\n\t\t\t}\n\t\t} else {\n\t\t\tif ($time) {\n\t\t\t\t$fields['security_code/timeout']['hidden'] = false;\n\t\t\t} else {\n\t\t\t\t$fields['security_code/not_seen_you']['hidden'] = false;\n\t\t\t}\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\t//Formerly \"changePasswordAJAX()\"\n\tpublic static function changePasswordAJAX(&$source, &$tags, &$fields, &$values, $changes, &$task) {\n\t\n\t\t//Skip this screen if the Admin presses the \"Skip\" button\n\t\tif (!empty($fields['change_password/skip']['pressed'])) {\n\t\t\t\\ze\\admin::cancelPasswordChange($_SESSION['admin_userid'] ?? false);\n\t\t\n\t\t\tif ($task == 'change_password') {\n\t\t\t\t$task = 'password_changed';\n\t\t\t}\n\t\t\n\t\t\treturn true;\n\t\n\t\t//Change the password if the Admin presses the change password\n\t\t} elseif (!empty($fields['change_password/change_password']['pressed'])) {\n\t\t\t$details = [];\n\t\t\t$tags['tabs']['change_password']['errors'] = [];\n\t\t\t$currentPassword = $values['change_password/current_password']; \n\t\t\t$newPassword = $values['change_password/password']; \n\t\t\t$newPasswordConfirm = $values['change_password/re_password']; \n\t\t\n\t\t\tif (!$currentPassword) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('Please enter your current password.');\n\t\t\n\t\t\t} elseif (!\\ze\\ring::engToBoolean(\\ze\\admin::checkPassword($_SESSION['admin_username'] ?? false, $details, $currentPassword))) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('_MSG_PASS_WRONG');\n\t\t\t}\n\t\t\n\t\t\tif (!$newPassword) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('Please enter your new password.');\n\t\t\n\t\t\t} elseif ($newPassword == $currentPassword) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('_MSG_PASS_NOT_CHANGED');\n\t\t\n\t\t\t} elseif (!\\ze\\user::checkPasswordStrength($newPassword)['password_matches_requirements']) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('The password provided does not match the requirements.');\n\t\t\n\t\t\t} elseif (!$newPasswordConfirm) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('Please repeat your New Password.');\n\t\t\n\t\t\t} elseif ($newPassword != $newPasswordConfirm) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('_MSG_PASS_2');\n\t\t\t}\n\t\t\n\t\t\t//If no errors with validation, then save new password\n\t\t\tif (empty($tags['tabs']['change_password']['errors'])) {\n\t\t\t\t\\ze\\adminAdm::setPassword($_SESSION['admin_userid'] ?? false, $newPassword, 0);\n\t\t\t\n\t\t\t\tif ($task == 'change_password') {\n\t\t\t\t\t$task = 'password_changed';\n\t\t\t\t}\n\t\t\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\n\t\t$fields['change_password/password_message']['snippet']['html'] = self::passwordMessageSnippet($values['password']);\n\t\t$fields['change_password/password_requirements']['snippet']['html'] = \\ze\\admin::displayPasswordRequirementsNoteAdmin($fields['5/password']['current_value'] ?? false);\n\t\n\t\treturn false;\n\t}\n\t\n\tpublic static function newAdminAJAX(&$source, &$tags, &$fields, &$values, $changes, $task, $adminId) { \n\t\t//Set password if the Admin presses the save and login button\n\t\tif (!empty($fields['new_admin/save_password_and_login']['pressed'])) {\n\t\t\t$password = $values['new_admin/password'];\n\t\t\t$passwordConfirm = $values['new_admin/re_password'];\n\t\t\t\n\t\t\tif (!$password) {\n\t\t\t\t$tags['tabs']['new_admin']['errors'][] = \\ze\\admin::phrase('Please enter a password.');\n\t\t\t\t\n\t\t\t} elseif (!\\ze\\user::checkPasswordStrength($password)['password_matches_requirements']) {\n\t\t\t\t$tags['tabs']['new_admin']['errors'][] = \\ze\\admin::phrase('The password provided does not match the requirements.');\n\t\t\t\t\n\t\t\t} elseif (!$passwordConfirm) {\n\t\t\t\t$tags['tabs']['new_admin']['errors'][] = \\ze\\admin::phrase('Please repeat your Password.');\n\t\t\t\t\n\t\t\t} elseif ($password != $passwordConfirm) {\n\t\t\t\t$tags['tabs']['new_admin']['errors'][] = \\ze\\admin::phrase('_MSG_PASS_2');\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t//If no errors with validation, then save password and login\n\t\t\tif (empty($tags['tabs']['new_admin']['errors'])) {\n\t\t\t\t\\ze\\adminAdm::setPassword($adminId, $password, 0);\n\t\t\t\t\\ze\\admin::logIn($adminId);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t$fields['new_admin/password_message']['snippet']['html'] = self::passwordMessageSnippet($fields['new_admin/password']['current_value'] ?? false);\n\t\t$fields['new_admin/password_requirements']['snippet']['html'] = \\ze\\admin::displayPasswordRequirementsNoteAdmin($fields['new_admin/password']['current_value'] ?? false);\n\t\t\n\t\treturn false;\n\t}\n\n\t//Formerly \"diagnosticsAJAX()\"\n\tpublic static function diagnosticsAJAX(&$source, &$tags, &$fields, &$values, $changes, $task, $freshInstall) {\n\t\t\n\t\t$showContinueButton = true;\n\t\t$showCheckAgainButton = false;\n\t\t$showCheckAgainButtonIfDirsAreEditable = false;\n\t\n\t\t//If the directories aren't set at all, set them now so at least they're set to something\n\t\tif (!\\ze::setting('backup_dir')) {\n\t\t\t\\ze\\site::setSetting('backup_dir', \\ze\\dbAdm::suggestDir('backup'));\n\t\t}\n\t\tif (!\\ze::setting('docstore_dir')) {\n\t\t\t\\ze\\site::setSetting('docstore_dir', \\ze\\dbAdm::suggestDir('docstore'));\n\t\t}\n\t\n\t\n\t\t$fields['0/template_dir']['value']\t= $tdir = CMS_ROOT. 'zenario_custom/templates/grid_templates';\n\t\t$fields['0/cache_dir']['value']\t= CMS_ROOT. 'cache';\n\t\t$fields['0/private_dir']['value']\t= CMS_ROOT. 'private';\n\t\t$fields['0/public_dir']['value']\t= CMS_ROOT. 'public';\n\t    $fields['0/custom_dir']['value']\t= CMS_ROOT. 'zenario_custom';\n\t    \n\t\tif (!$values['0/backup_dir']) {\n\t\t\t$values['0/backup_dir'] = (string) \\ze::setting('backup_dir');\n\t\t}\n\t\n\t\tif (!$values['0/docstore_dir']) {\n\t\t\t$values['0/docstore_dir'] = (string) \\ze::setting('docstore_dir');\n\t\t}\n\t\n\t\n\t\t$fields['0/dirs']['row_class'] = 'section_valid';\n\t\n\t\n\t\t$mrg = [\n\t\t\t'dir' => $dir = $values['0/backup_dir'],\n\t\t\t'basename' => $dir? htmlspecialchars(basename($dir)) : ''];\n\t\n\t\tif (!$dir) {\n\t\t\t$fields['0/backup_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/backup_dir_status']['snippet']['html'] = \\ze\\admin::phrase('Please enter a directory.');\n\t\n\t\t} elseif (!@is_dir($dir)) {\n\t\t\t$fields['0/backup_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/backup_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> does not exist.', $mrg);\n\t\n\t\t} elseif (false !== \\ze\\ring::chopPrefix(realpath(CMS_ROOT), realpath($dir))) {\n\t\t\t$fields['0/backup_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/backup_dir_status']['snippet']['html'] = \\ze\\admin::phrase('Zenario is installed this directory. Please choose a different directory.', $mrg);\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable($dir)) {\n\t\t\t$fields['0/backup_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/backup_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> is not writable.', $mrg);\n\t\n\t\t} else {\n\t\t\t$fields['0/dir_1']['row_class'] = 'sub_section_valid';\n\t\t\t$fields['0/backup_dir_status']['row_class'] = 'sub_valid';\n\t\t\t$fields['0/backup_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> exists and is writable.', $mrg);\n\t\t}\n\t\n\t\n\t\t$mrg = [\n\t\t\t'dir' => $dir = $values['0/docstore_dir'],\n\t\t\t'basename' => $dir? htmlspecialchars(basename($dir)) : ''];\n\t\n\t\tif (!$dir) {\n\t\t\t$fields['0/docstore_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/docstore_dir_status']['snippet']['html'] = \\ze\\admin::phrase('Please enter a directory.');\n\t\n\t\t} elseif (!@is_dir($dir)) {\n\t\t\t$fields['0/docstore_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/docstore_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> does not exist.', $mrg);\n\t\n\t\t} elseif (false !== \\ze\\ring::chopPrefix(realpath(CMS_ROOT), realpath($dir))) {\n\t\t\t$fields['0/docstore_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/docstore_dir_status']['snippet']['html'] = \\ze\\admin::phrase('Zenario is installed this directory. Please choose a different directory.', $mrg);\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable($dir)) {\n\t\t\t$fields['0/docstore_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/docstore_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> is not writable.', $mrg);\n\t\n\t\t} else {\n\t\t\t$fields['0/dir_2']['row_class'] = 'sub_section_valid';\n\t\t\t$fields['0/docstore_dir_status']['row_class'] = 'sub_valid';\n\t\t\t$fields['0/docstore_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> exists and is writable.', $mrg);\n\t\t}\n\t\n\t\n\t\t//Check to see if the templates & grid templates directories exist,\n\t\t//and that the grid templates directory and all of the files inside are writable.\n\t\t//(A site setting can be set to stop this check.)\n\t\t$mrg = [\n\t\t\t'dir' => $dir = $tdir,\n\t\t\t'basename' => $dir? htmlspecialchars(basename($dir)) : ''];\n\t\n\t\tif (!is_dir($tdir)) {\n\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/template_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> does not exist.', $mrg);\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable($tdir)) {\n\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/template_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> is not writable.', $mrg);\n\n\t\t} else {\n\t\t\t$fileWritable = false;\n\t\t\t$fileNotWritable = false;\n\t\t\tforeach (scandir($tdir) as $sdir) {\n\t\t\t\tif (is_file($tdir. '/'. $sdir)) {\n\t\t\t\t\tif (is_writable($tdir. '/'. $sdir)) {\n\t\t\t\t\t\t$fileWritable = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ($fileNotWritable === false) {\n\t\t\t\t\t\t\t$fileNotWritable = $sdir;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$fileNotWritable = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tif ($fileNotWritable === true) {\n\t\t\t\tif ($fileWritable) {\n\t\t\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t\t\t$fields['0/template_dir_status']['snippet']['html'] = \\ze\\admin::phrase('Some of the files in the <code>[[basename]]</code> directory are not writable by the web server (e.g. use &quot;chmod 666 *.tpl.php *.css&quot;).', $mrg);\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t\t\t$fields['0/template_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The files in the <code>[[basename]]</code> directory are not writable by the web server, please make them writable (e.g. use &quot;chmod 666 *.tpl.php *.css&quot;).', $mrg);\n\t\t\t\t}\n\t\t\n\t\t\t} elseif ($fileNotWritable !== false) {\n\t\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t\t$fields['0/template_dir_status']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('<code>[[short_path]]</code> is not writable, please make it writable (e.g. use &quot;chmod 666 [[file]]&quot;).',\n\t\t\t\t\t\t['short_path' => htmlspecialchars('grid_templates/'. $fileNotWritable), 'file' => htmlspecialchars($fileNotWritable)]);\n\t\t\n\t\t\t} else {\n\t\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_valid';\n\t\t\t\t$fields['0/template_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> exists and is writable.', $mrg);\n\t\t\t}\n\t\t}\n\t\n\t\t//Loop through all of the skins in the system (max 9) and check their editable_css directories\n\t\t$i = 0;\n\t\t$maxI = 9;\n\t\t$skinDirsValid = true;\n\t\tforeach (\\ze\\row::getAssocs(\n\t\t\t'skins',\n\t\t\t['family_name', 'name', 'display_name'],\n\t\t\t['missing' => 0, 'family_name' => 'grid_templates', 'enable_editable_css' => 1]\n\t\t) as $skin) {\n\t\t\tif ($i == $maxI) {\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\t++$i;\n\t\t\t}\n\t\t\n\t\t\t$skinWritableDir = CMS_ROOT. \\ze\\content::skinPath($skin['family_name'], $skin['name']). 'editable_css/';\n\t\t\n\t\t\t$tags['tabs'][0]['fields']['skin_dir_'. $i]['value'] =\n\t\t\t$tags['tabs'][0]['fields']['skin_dir_'. $i]['current_value'] = $skinWritableDir;\n\t\t\n\t\t\t$mrg = [\n\t\t\t\t'dir' => $dir = $tdir,\n\t\t\t\t'basename' => $dir? htmlspecialchars(basename($skinWritableDir)) : '',\n\t\t\t\t'2dir' => $dir? htmlspecialchars($skin['name']. '/editable_css') : ''\n\t\t\t];\n\t\t\n\t\t\tif (!is_dir($skinWritableDir)) {\n\t\t\t\t$skinDirsValid = false;\n\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_warning';\n\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[2dir]]</code> does not exist.', $mrg);\n\t\n\t\t\t} elseif (!\\ze\\welcome::directoryIsWritable($skinWritableDir)) {\n\t\t\t\t$skinDirsValid = false;\n\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_warning';\n\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[2dir]]</code> is not writable.', $mrg);\n\n\t\t\t} else {\n\t\t\t\t$fileWritable = false;\n\t\t\t\t$fileNotWritable = false;\n\t\t\t\tforeach (scandir($skinWritableDir) as $sdir) {\n\t\t\t\t\tif (is_file($skinWritableDir. '/'. $sdir)) {\n\t\t\t\t\t\tif (is_writable($skinWritableDir. '/'. $sdir)) {\n\t\t\t\t\t\t\t$fileWritable = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ($fileNotWritable === false) {\n\t\t\t\t\t\t\t\t$fileNotWritable = $sdir;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fileNotWritable = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($fileNotWritable === true) {\n\t\t\t\t\tif ($fileWritable) {\n\t\t\t\t\t\t$skinDirsValid = false;\n\t\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_warning';\n\t\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] = \\ze\\admin::phrase('Some of the files in the <code>[[2dir]]</code> directory are not writable by the web server (e.g. use &quot;chmod 666 *.css&quot;).', $mrg);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$skinDirsValid = false;\n\t\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_warning';\n\t\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] = \\ze\\admin::phrase('The files in the <code>[[2dir]]</code> directory are not writable by the web server, please make them writable (e.g. use &quot;chmod 666 *.css&quot;).', $mrg);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t} elseif ($fileNotWritable !== false) {\n\t\t\t\t\t$skinDirsValid = false;\n\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_warning';\n\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] =\n\t\t\t\t\t\t\\ze\\admin::phrase('<code>[[short_path]]</code> is not writable, please make it writable (e.g. use &quot;chmod 666 [[file]]&quot;).',\n\t\t\t\t\t\t\t['short_path' => htmlspecialchars('editable_css/'. $fileNotWritable), 'file' => htmlspecialchars($fileNotWritable)]);\n\t\t\n\t\t\t\t} else {\n\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_valid';\n\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[2dir]]</code> exists and is writable.', $mrg);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t$fields['0/dir_4']['hidden'] =\n\t\t$fields['0/show_dir_4']['hidden'] =\n\t\t$fields['0/dir_4_blurb']['hidden'] = $i == 0;\n\t\n\t\tfor ($j = 0; $j <= $maxI; ++$j) {\n\t\t\t$tags['tabs'][0]['fields']['skin_dir_'. $j]['hidden'] =\n\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $j]['hidden'] = $j > $i;\n\t\t}\n\t\n\t\tif ($i == 1) {\n\t\t\t$fields['0/dir_4_blurb']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('CSS for plugins may be edited by an administrator, and Zenario writes CSS files to the following directory. Please ensure it exists and is writable by the web server:');\n\t\t} elseif ($i > 1) {\n\t\t\t$fields['0/dir_4_blurb']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('CSS for plugins may be edited by an administrator, and Zenario writes CSS files to the following directories. Please ensure they exist and are writable by the web server:');\n\t\t}\n\t\n\t\tif (!is_dir(CMS_ROOT. 'cache')) {\n\t\t\t$fields['0/cache_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/cache_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;cache&quot; directory does not exist.');\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable(CMS_ROOT. 'cache')) {\n\t\t\t$fields['0/cache_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/cache_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;cache&quot; directory is not writable.');\n\t\n\t\t} else {\n\t\t\t$fields['0/dir_5']['row_class'] = 'sub_section_valid';\n\t\t\t$fields['0/cache_dir_status']['row_class'] = 'sub_valid';\n\t\t\t$fields['0/cache_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;cache&quot; directory exists and is writable.');\n\t\t}\n\t\n\t\tif (!is_dir(CMS_ROOT. 'private')) {\n\t\t\t$fields['0/private_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/private_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;private&quot; directory does not exist.');\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable(CMS_ROOT. 'private')) {\n\t\t\t$fields['0/private_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/private_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;private&quot; directory is not writable.');\n\t\n\t\t} else {\n\t\t\t$fields['0/dir_6']['row_class'] = 'sub_section_valid';\n\t\t\t$fields['0/private_dir_status']['row_class'] = 'sub_valid';\n\t\t\t$fields['0/private_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;private&quot; directory exists and is writable.');\n\t\t}\n\t\n\t\tif (!is_dir(CMS_ROOT. 'public')) {\n\t\t\t$fields['0/public_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/public_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;public&quot; directory does not exist.');\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable(CMS_ROOT. 'public')) {\n\t\t\t$fields['0/public_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/public_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;public&quot; directory is not writable.');\n\t\n\t\t} else {\n\t\t\t$fields['0/dir_7']['row_class'] = 'sub_section_valid';\n\t\t\t$fields['0/public_dir_status']['row_class'] = 'sub_valid';\n\t\t\t$fields['0/public_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;public&quot; directory exists and is writable.');\n\t\t}\n\n\t\t$statusLines = [];\n\t    if (!is_dir(CMS_ROOT. 'zenario_custom')) {\n\t\t\t$fields['0/custom_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/custom_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;zenario_custom&quot; directory does not exist.');\n\t\n\t\t} elseif (exec('svn status '. escapeshellarg(CMS_ROOT. 'zenario_custom'), $statusLines) && !empty($statusLines)) {\n            $skinCustomDirsValid = false;\n            $fields['0/custom_dir_status']['row_class'] = 'sub_warning';\n            $fields['0/custom_dir_status']['snippet']['html'] =\n                \\ze\\admin::phrase('The &quot;zenario_custom&quot; directory has uncommitted changes in svn.');\n        } else {\n            $skinCustomDirsValid = true;\n            $fields['0/custom_dir_status']['row_class'] = 'sub_valid';\n            $fields['0/custom_dir_status']['snippet']['html'] =\n                \\ze\\admin::phrase('The &quot;zenario_custom&quot; directory exists and all the files are committed in svn.');\n        }\n\t   \n\t\tif ($fields['0/backup_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButtonIfDirsAreEditable =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_1']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_1']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t\n\t\tif ($fields['0/docstore_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButtonIfDirsAreEditable =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_2']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_2']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t\n\t\tif ($fields['0/template_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_3']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_3']['row_class'] = 'sub_section_invalid';\n\t\t} else {\n\t\t\t$fields['0/dir_3']['row_class'] = 'sub_section_valid';\n\t\t}\n\t\n\t\tif ($fields['0/cache_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_5']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_5']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t\n\t\tif ($fields['0/private_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_6']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_6']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t\n\t\tif ($fields['0/public_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_7']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_7']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t    \n\t\tif (!$skinDirsValid) {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_4']['pressed'] = true;\n\t\t\tif ($fields['0/dirs']['row_class'] != 'section_invalid') {\n\t\t\t\t$fields['0/dirs']['row_class'] = 'section_warning';\n\t\t\t}\n\t\t\t$fields['0/dir_4']['row_class'] = 'sub_section_warning';\n\t\t} else {\n\t\t\t$fields['0/dir_4']['row_class'] = 'sub_section_valid';\n\t\t}\n\t\t\n\t\t//skins for custom directory warnings\n\t\tif ($fields['0/custom_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_8']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_8']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t    else if (!$skinCustomDirsValid) {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_8']['pressed'] = true;\n\t\t\tif ($fields['0/dirs']['row_class'] != 'section_invalid') {\n\t\t\t\t$fields['0/dirs']['row_class'] = 'section_warning';\n\t\t\t}\n\t\t\t$fields['0/dir_8']['row_class'] = 'sub_section_warning';\n\t\t} else {\n\t\t    $fields['0/dirs']['row_class'] = 'section_valid';\n\t\t\t$fields['0/dir_8']['row_class'] = 'sub_section_valid';\n\t\t}\n\t\t$fields['0/site']['row_class'] = 'section_valid';\n\t\t$fields['0/content']['row_class'] = 'section_valid';\n\t\t$fields['0/administrators']['row_class'] = 'section_valid';\n\t\n\t\t//Don't show the \"site\" section yet if we've just finished an install\n\t\tif ($freshInstall\n\t\t || $task == 'install'\n\t\t || !\\ze\\row::exists('languages', [])) {\n\t\t\tforeach ($tags['tabs'][0]['fields'] as $fieldName => &$field) {\n\t\t\t\tif (!empty($field['hide_on_install'])) {\n\t\t\t\t\t$field['hidden'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t} else {\n\t\t\t\n\t\t\t//\n\t\t\t// Go through all of the checks in the site configuration section\n\t\t\t//\n\t\t\t\n\t\t\t$show_warning = false;\n\t\t\t$show_error = false;\n\t\t\n\t\t\tif (!\\ze::setting('site_enabled')) {\n\t\t\t\t\n\t\t\t\t$mrg = ['link' => htmlspecialchars('zenario/admin/organizer.php#zenario__administration/panels/site_settings//site_disabled~.zenario_enable_site~tsite~k{\"id\"%3A\"site_disabled\"}')];\n\t\t\t\t\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/site_disabled']['row_class'] = 'warning';\n\t\t\t\t$fields['0/site_disabled']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('Your site is not enabled, so visitors will not be able to see it. Please go to <a href=\"[[link]]\" target=\"_blank\"><em>Site disabled</em></a> in Site Settings to change this.', $mrg);\n\t\t\t} else {\n\t\t\t\t$fields['0/site_disabled']['row_class'] = 'valid';\n\t\t\t\t$fields['0/site_disabled']['snippet']['html'] = \\ze\\admin::phrase('Your site is enabled.');\n\t\t\t}\t\n\t\t\t\n\t\t\t$errors = $exampleFile = false;\n\t\t\t\\ze\\document::checkAllPublicLinks($forceRemake = false, $errors, $exampleFile);\n\t\t\tif ($errors) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/public_documents']['row_class'] = 'warning';\n\t\t\t\t$fields['0/public_documents']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::nPhrase('There is a problem with the public link for [[exampleFile]] and 1 other document. Please check your docstore and public/downloads directory for possible permission problems.',\n\t\t\t\t\t\t'There is a problem with the public link for [[exampleFile]] and [[count]] other documents. Please check your docstore and public/downloads directory for possible permission problems.',\n\t\t\t\t\t\tabs($errors - 1), ['exampleFile' => $exampleFile],\n\t\t\t\t\t\t'There is a problem with the public link for the document [[exampleFile]]. Please check your docstore and public/downloads directory for possible permission problems.'\n\t\t\t\t\t);\n\t\t\n\t\t\t} else {\n\t\t\t\t$fields['0/public_documents']['row_class'] = 'valid';\n\t\t\t\t$fields['0/public_documents']['hidden'] = true;\n\t\t\t}\n\t\t\n\t\t\t$warnings = \\ze\\welcome::getBackupWarnings();\n\t\t\t$fields['0/site_automated_backups']['row_class'] = $warnings['row_class'];\n\t\t\t$fields['0/site_automated_backups']['hidden'] = isset($warnings['hidden']) ? $warnings['hidden'] : false;\n\t\t\tif (isset($warnings['snippet']['html'])) {\n\t\t\t\t$fields['0/site_automated_backups']['snippet']['html'] = $warnings['snippet']['html'];\n\t\t\t}\n\t\t\t$show_warning = !empty($warnings['show_warning']);\n\t\t\t\n\t\t\t//Check if the scheduled task manager is running\n\t\t\tif (!\\ze\\module::inc('zenario_scheduled_task_manager')) {\n\t\t\t\t$fields['0/scheduled_task_manager']['row_class'] = 'valid';\n\t\t\t\t$fields['0/scheduled_task_manager']['hidden'] = true;\n\t\t\n\t\t\t} elseif (!\\zenario_scheduled_task_manager::checkScheduledTaskRunning($jobName = false, $checkPulse = false)) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/scheduled_task_manager']['row_class'] = 'warning';\n\t\t\t\t$fields['0/scheduled_task_manager']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('The Scheduled Tasks Manager is installed, but the master switch is not enabled.');\n\t\t\n\t\t\t} elseif (!\\zenario_scheduled_task_manager::checkScheduledTaskRunning($jobName = false, $checkPulse = true)) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/scheduled_task_manager']['row_class'] = 'warning';\n\t\t\t\t$fields['0/scheduled_task_manager']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('The Scheduled Tasks Manager is installed, but not correctly configured in your crontab.');\n\t\t\t\n\t\t\t} else {\n\t\t\t\t$fields['0/scheduled_task_manager']['row_class'] = 'valid';\n\t\t\t\t$fields['0/scheduled_task_manager']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('The Scheduled Tasks Manager is running.');\n\t\t\t}\n\t\t\t\n\t\t\t//Check for a missing site description file.\n\t\t\tif (!is_file(CMS_ROOT. 'zenario_custom/site_description.yaml')) {\n\t\t\t\t$show_error = true;\n\t\t\t\t$showCheckAgainButton = true;\n\t\t\t\t$fields['0/site_description_missing']['row_class'] = 'invalid';\n\t\t\t} else {\n\t\t\t\t//Note: only show this message if it's in the error state; hide it otherwise\n\t\t\t\t$fields['0/site_description_missing']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t//Check for a missing or unreadable .htaccess file\n\t\t\tif (is_readable(CMS_ROOT . '.htaccess')) {\n\t\t\t\t$fields['0/htaccess_unavailable']['hidden'] = true;\n\t\t\t\tif (!\\ze::setting('mod_rewrite_enabled')) {\n\t\t\t\t\t$fields['0/friendly_urls_disabled']['row_class'] = 'warning';\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/friendly_urls_disabled']['hidden'] = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$fields['0/htaccess_unavailable']['row_class'] = 'warning';\n\t\t\t\t$fields['0/htaccess_unavailable']['snippet']['html'] = \\ze\\admin::phrase('The .htaccess file cannot be read or is missing. (This message needs revising.)');\n\t\t\t}\n\t\t\n\t\t\t//Check to see if there are spare domains without a primary domain\n\t\t\tif (!\\ze::setting('primary_domain') && \\ze\\row::exists('spare_domain_names', [])) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/spare_domains_without_primary_domain']['row_class'] = 'warning';\n\t\t\t} else {\n\t\t\t\t//Note: only show this message if it's in the error state; hide it otherwise\n\t\t\t\t$fields['0/spare_domains_without_primary_domain']['hidden'] = true;\n\t\t\t}\n\t\t\n\t\t\t//Check IP forwarding is either off, or on and working correctly\n\t\t\tif (defined('USE_FORWARDED_IP')\n\t\t\t && constant('USE_FORWARDED_IP')\n\t\t\t && empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/forwarded_ip_misconfigured']['row_class'] = 'warning';\n\t\t\t} else {\n\t\t\t\t//Note: only show this message if it's in the error state; hide it otherwise\n\t\t\t\t$fields['0/forwarded_ip_misconfigured']['hidden'] = true;\n\t\t\t}\n\t\t\n\t\t\t//Check to see if this is a developer installation...\n\t\t\t$fields['0/notices_shown']['hidden'] = true;\n\t\t\t$fields['0/errors_not_shown']['hidden'] = true;\n\t\t\n\t\t\tif (\\ze\\site::inDevMode()) {\n\t\t\t\n\t\t\t\t//Check to see if any developers are not showing errors/warnings\n\t\t\t\t//Note: only show this message if it's in the error state; hide it otherwise\n\t\t\t\tif (!(ERROR_REPORTING_LEVEL & E_ALL)\n\t\t\t\t || !(ERROR_REPORTING_LEVEL & E_NOTICE)\n\t\t\t\t || !(ERROR_REPORTING_LEVEL & E_STRICT)) {\n\t\t\t\t\t$show_warning = true;\n\t\t\t\t\t$fields['0/errors_not_shown']['hidden'] = false;\n\t\t\t\t\t$fields['0/errors_not_shown']['row_class'] = 'warning';\n\t\t\t\t}\n\t\t\t\n\t\t\t\t////Check to see if any developers are missing the debug_override_enable setting\n\t\t\t\t//if (!\\ze::setting('debug_override_enable')) {\n\t\t\t\t//\t$show_warning = true;\n\t\t\t\t//\t$fields['0/email_addresses_not_overridden']['row_class'] = 'warning';\n\t\t\t\t//} else {\n\t\t\t\t//\t//Note: only show this message if it's in the error state; hide it otherwise\n\t\t\t\t//\t$fields['0/email_addresses_not_overridden']['hidden'] = true;\n\t\t\t\t//}\n\t\t\t} else {\n\t\t\t\t//$fields['0/email_addresses_not_overridden']['hidden'] = true;\n\t\t\t\n\t\t\t\t//Reverse of the above;\n\t\t\t\t//Warn production sites that level a high level of error reporting on\n\t\t\t\tif ((ERROR_REPORTING_LEVEL & E_NOTICE)\n\t\t\t\t || (ERROR_REPORTING_LEVEL & E_STRICT)) {\n\t\t\t\t\t$show_warning = true;\n\t\t\t\t\t$fields['0/notices_shown']['hidden'] = false;\n\t\t\t\t\t$fields['0/notices_shown']['row_class'] = 'warning';\n\t\t\t\t}\n\t\t\t\n\t\t\t}\n\t\t\n\t\t\t//Check to see if production sites have the debug_override_enable setting enabled\n\t\t\tif (\\ze::setting('debug_override_enable')) {\n\t\t\t\t$mrg = [\n\t\t\t\t\t'email' => htmlspecialchars(\\ze::setting('debug_override_email_address')),\n\t\t\t\t\t'link' => htmlspecialchars('zenario/admin/organizer.php#zenario__administration/panels/site_settings//email~.site_settings~tdebug~k{\"id\"%3A\"email\"}')];\n\t\t\t\t\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/email_addresses_overridden']['row_class'] = 'warning';\n\t\t\t\t$fields['0/email_addresses_overridden']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('You have &ldquo;Email debug mode&rdquo; enabled in <a href=\"[[link]]\" target=\"_blank\"><em>Email</em></a> in Site Settings. Email sent by this site will be redirected to &quot;[[email]]&quot;.', $mrg);\n\t\t\t} else {\n\t\t\t\t$fields['0/email_addresses_overridden']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t//Check for missing modules\n\t\t\t$missingModules = [];\n\t\t\tforeach(\\ze\\row::getAssocs('modules', ['class_name', 'display_name'], ['status' => 'module_running'], 'class_name') as $module) {\n\t\t\t\tif (!\\ze::moduleDir($module['class_name'], 'module_code.php', true)) {\n\t\t\t\t\t$missingModules[$module['class_name']] = \\ze\\admin::phrase('[[display_name|escape]] (<code>[[class_name|escape]]</code>)', $module);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (!$fields['0/missing_modules']['hidden'] = empty($missingModules)) {\n\t\t\t\t$show_error = true;\n\t\t\t\t$fields['0/missing_modules']['row_class'] = 'invalid';\n\t\t\t\t$fields['0/missing_modules']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('Files for the following modules are missing:').\n\t\t\t\t\t'<ul><li>'.\n\t\t\t\t\t\timplode('</li><li>', $missingModules).\n\t\t\t\t\t'</li></ul>';\n\t\t\t}\n\t\t\n\t\t\t$badSymlinks = [];\n\t\t\tif (is_dir($dir = CMS_ROOT. 'zenario_extra_modules/')) {\n\t\t\t\tforeach (scandir($dir) as $mDir) {\n\t\t\t\t\tif ($mDir != '.'\n\t\t\t\t\t && $mDir != '..'\n\t\t\t\t\t && ($rp = realpath($dir. $mDir))\n\t\t\t\t\t && (rtrim($dir. $mDir, '/') != rtrim($rp, '/'))\n\t\t\t\t\t && ($rp = dirname($rp))\n\t\t\t\t\t && (is_dir($rp. '/zenario') || ($rp = dirname($rp)))\n\t\t\t\t\t && (is_dir($rp. '/zenario') || ($rp = dirname($rp)))\n\t\t\t\t\t && (is_dir($rp = $rp. '/zenario/admin/db_updates/copy_over_top_check/'))\n\t\t\t\t\t && (!file_exists($rp. ZENARIO_MAJOR_VERSION. '.'. ZENARIO_MINOR_VERSION. '.txt'))) {\n\t\t\t\t\t\n\t\t\t\t\t\t$badSymlinks[] = $mDir;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tif (!$fields['0/bad_extra_module_symlinks']['hidden'] = empty($badSymlinks)) {\n\t\t\t\t$fields['0/bad_extra_module_symlinks']['row_class'] = 'invalid';\n\t\t\t\t$show_error = true;\n\t\t\t\t$showContinueButton = false;\n\t\t\t\n\t\t\t\t$mrg = ['module' => array_pop($badSymlinks), 'version' => ZENARIO_MAJOR_VERSION. '.'. ZENARIO_MINOR_VERSION];\n\t\t\t\tif (empty($badSymlinks)) {\n\t\t\t\t\t$fields['0/bad_extra_module_symlinks']['snippet']['html'] =\n\t\t\t\t\t\t\\ze\\admin::phrase('The <code>[[module]]</code> symlink in the <code>zenario_extra_modules/</code> directory is linked to the wrong version of Zenario. It should be linked to version [[version]].', $mrg);\n\t\t\t\t} else {\n\t\t\t\t\t$mrg['modules'] = implode('</code>, <code>', $badSymlinks);\n\t\t\t\t\t$fields['0/bad_extra_module_symlinks']['snippet']['html'] =\n\t\t\t\t\t\t\\ze\\admin::phrase('The <code>[[modules]]</code> and <code>[[module]]</code> symlinks in the <code>zenario_extra_modules/</code> directory are linked to the wrong version of Zenario. They should be linked to version [[version]].', $mrg);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t$moduleErrors = '';\n\t\t\t\\ze\\dbAdm::checkIfUpdatesAreNeeded($moduleErrors, $andDoUpdates = false);\n\t\t\n\t\t\tif (!$fields['0/module_errors']['hidden'] = !$moduleErrors) {\n\t\t\t\t$show_error = true;\n\t\t\t\t$fields['0/module_errors']['row_class'] = 'invalid';\n\t\t\t\t$fields['0/module_errors']['snippet']['html'] = nl2br(htmlspecialchars($moduleErrors));\n\t\t\t}\n\t\t\t\n\t\t\t$storesUserData = \\ze\\row::exists(\n\t\t\t\t'modules', [\n\t\t\t\t\t'status' => ['module_running', 'module_suspended'],\n\t\t\t\t\t'class_name' => ['zenario_extranet', 'zenario_users', 'zenario_user_forms']\n\t\t\t\t]\n\t\t\t);\n\t\t\t\n\t\t\t//Check if extranet sites have two-factor authentication enabled\n\t\t\t$warnAboutThis = \n\t\t\t\t!\\ze\\site::description('enable_two_factor_authentication_for_admin_logins')\n\t\t\t\t&& $storesUserData;\n\t\t\t\n\t\t\tif (!$fields['0/two_factor_security']['hidden'] = !$warnAboutThis) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/two_factor_security']['row_class'] = 'warning';\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//Check a site accepts password without SSL\n\t\t\t$warnAboutThis = \n\t\t\t\t!\\ze\\link::isHttps()\n\t\t\t && \\ze\\row::exists('modules', [\n\t\t\t\t\t'status' => ['module_running', 'module_suspended'],\n\t\t\t\t\t'class_name' => 'zenario_extranet'\n\t\t\t\t]);\n\t\t\t\n\t\t\tif (!$fields['0/no_ssl_for_login']['hidden'] = !$warnAboutThis) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/no_ssl_for_login']['row_class'] = 'warning';\n\t\t\t}\n\t\t\t\n\t\t\t//Check if extranet sites use SSL\n\t\t\t$warnAboutThis = \n\t\t\t\t!\\ze\\site::description('enable_two_factor_authentication_for_admin_logins')\n\t\t\t\t&& $storesUserData;\n\t\t\t\n\t\t\tif (!$fields['0/two_factor_security']['hidden'] = !$warnAboutThis) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/two_factor_security']['row_class'] = 'warning';\n\t\t\t}\n\t\t\t\n\t\t\t//Get any public pages which have plugins that must be on a private page (e.g. change password)\n\t\t\tif ($privatePagesWithPluginsThatMustBeOnPublicPage = \\ze\\contentAdm::getContentItemsWithPluginsThatMustBeOnPublicOrPrivatePage('private_page')) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/plugin_must_be_on_private_page_error']['hidden'] = false;\n\t\t\t\t$fields['0/plugin_must_be_on_private_page_error']['row_class'] = 'warning';\n\t\t\t\t$fields['0/plugin_must_be_on_private_page_error']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::nPhrase('This content item is public, but contains one or more plugins which must be on a private page:[[listOfContentItems]]',\n\t\t\t\t\t\t\t'These content items are public, but contain one or more plugins which must be on a private page:[[listOfContentItems]]',\n\t\t\t\t\t\t\tcount($privatePagesWithPluginsThatMustBeOnPublicPage),\n\t\t\t\t\t\t\t['listOfContentItems' => implode('<br>', $privatePagesWithPluginsThatMustBeOnPublicPage)]);\n\t\t\t} else {\n\t\t\t\t$fields['0/plugin_must_be_on_private_page_error']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t//Get any private pages which have plugins that must be on a public page (e.g. change password)\n\t\t\tif ($publicPagesWithPluginsThatMustBeOnPrivatePage = \\ze\\contentAdm::getContentItemsWithPluginsThatMustBeOnPublicOrPrivatePage('public_page')) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/plugin_must_be_on_public_page_error']['hidden'] = false;\n\t\t\t\t$fields['0/plugin_must_be_on_public_page_error']['row_class'] = 'warning';\n\t\t\t\t$fields['0/plugin_must_be_on_public_page_error']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::nPhrase('This content item is private, but contains one or more plugins which must be on a public page:[[listOfContentItems]]',\n\t\t\t\t\t\t\t'These content items are private, but contain one or more plugins which must be on a public page:[[listOfContentItems]]',\n\t\t\t\t\t\t\tcount($publicPagesWithPluginsThatMustBeOnPrivatePage),\n\t\t\t\t\t\t\t['listOfContentItems' => implode('<br>', $publicPagesWithPluginsThatMustBeOnPrivatePage)]);\n\t\t\t} else {\n\t\t\t\t$fields['0/plugin_must_be_on_public_page_error']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t//If company key exists, and users module is running, show a warning if the consent table is not encrypted\n\t\t\t$warnAboutThis = \\ze\\zewl::checkConfIsOkay() && $storesUserData;\n\t\t\tif ($warnAboutThis) {\n\t\t\t\t\n\t\t\t\t$encryptedColumns = ['ip_address', 'email', 'first_name', 'last_name'];\n\t\t\t\t$unencryptedColumns = [];\n\t\t\t\tforeach ($encryptedColumns as $column) {\n\t\t\t\t\tif (!\\ze::$dbL->columnIsHashed('consents', $column)) {\n\t\t\t\t\t\t$unencryptedColumns[] = '<code>' . $column . '</code>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($unencryptedColumns) {\n\t\t\t\t\t$show_warning = true;\n\t\t\t\t\t$fields['0/consent_table_encrypted']['row_class'] = 'warning';\n\t\t\t\t\t\n\t\t\t\t\t$fields['0/consent_table_encrypted']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::phrase('The following columns should be encrypted and hashed in the table <code>consents</code>: [[columns]].', ['columns' => implode(', ', $unencryptedColumns)]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//Otherwise, hide the warning.\n\t\t\t\t$fields['0/consent_table_encrypted']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t//Check if site contains user/contact data unencrypted\n\t\t\t$warnAboutThis =(bool)(!\\ze::$dbL->columnIsEncrypted('users', 'first_name') && !\\ze::$dbL->columnIsEncrypted('users', 'last_name') && !\\ze::$dbL->columnIsEncrypted('users', 'email') && !\\ze::$dbL->columnIsEncrypted('users', 'identifier'));\n\t\t\t\n\t\t\tif (!$fields['0/unencrypted_data']['hidden'] = !$warnAboutThis) {\n\t\t\t\t\n\t\t\t\t$sql = \"\n\t\t\t\t\tSELECT count(*) as numberOfRecordsUnencrypted\n\t\t\t\t\tFROM \". DB_PREFIX. \"users\";\n\t\t\t\t$numberOfRecordsUnencrypted = \\ze\\sql::fetchAssoc($sql);\n\t\t\t\tif($numberOfRecordsUnencrypted['numberOfRecordsUnencrypted'] > 0){\n\t\t\t\t    $textForNumber = '';\n\t\t\t\t    if($numberOfRecordsUnencrypted['numberOfRecordsUnencrypted'] == 1){\n\t\t\t\t        $textForNumber = \"User/Contact\";\n\t\t\t\t      \n\t\t\t\t    }else {\n\t\t\t\t        $textForNumber = \"Users/Contacts\";\n\t\t\t\t    }    \n\n\t\t\t\t   \n\t\t\t\t    $numberOfRecordsUnencrypted[\"textForNumber\"] = $textForNumber;\n\t\t\t\t    \\ze\\lang::applyMergeFields($fields['0/unencrypted_data'][\"snippet\"][\"html\"], $numberOfRecordsUnencrypted);\n\t\t\t\t    $show_warning = true;\n\t\t\t\t    $fields['0/unencrypted_data']['row_class'] = 'warning';\n\t\t\t\t} else {\n\t\t\t\t\t//If a site contains no user records, don't show the warning.\n\t\t\t\t\t$fields['0/unencrypted_data']['hidden'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//Check if site contains user/contact data encrypted and corresponding plain text column does not exist\n\t\t\t$userColumns = [];\n\t\t\t$fields['0/column_not_found']['hidden'] = true;\n\t\t\tif(\\ze::$dbL->columnIsEncrypted('users', 'first_name')|| \\ze::$dbL->columnIsHashed('users', 'first_name')){\n\t\t\t    $q= \\ze\\sql::select(\"SHOW COLUMNS FROM \".DB_PREFIX.\"users LIKE '%first_name'\" );\n\t            if($q){\n                    $columns = [];\n\t                while($row =\\ze\\sql::fetchAssoc($q)){\n\t                   if($row['Field'] == '%first_name' || $row['Field'] == 'first_name'){\n\t                        $columns[]= $row;\n\t                    }\n\t                }\n\t                if(count($columns) == 1){\n\t                \n\t                    $userColumns[] =  '<code>'.'first_name'.'</code>';\n\t                }\n\t            }\n\t\t\t}\n\t\t\t\n\t\t\tif(\\ze::$dbL->columnIsEncrypted('users', 'last_name') || \\ze::$dbL->columnIsHashed('users', 'last_name')){\n\t\t\t    $q= \\ze\\sql::select(\"SHOW COLUMNS FROM \".DB_PREFIX.\"users LIKE '%last_name'\" );\n\t            if($q){\n                    $columns = [];\n\t                while($row =\\ze\\sql::fetchAssoc($q)){\n\t                   if($row['Field'] == '%last_name' || $row['Field'] == 'last_name'){\n\t                        $columns[]= $row;\n\t                    }\n\t                }\n\t                \n\t                if(count($columns) == 1){\n\t                \n\t                    $userColumns[] =  '<code>'.'last_name'.'</code>';\n\t                }\n\t            }\n\t\t\t}\n\t\t\t\n\t\t\tif(\\ze::$dbL->columnIsEncrypted('users', 'email') || (\\ze::$dbL->columnIsHashed('users', 'email'))){\n\t\t\t    $q= \\ze\\sql::select(\"SHOW COLUMNS FROM \".DB_PREFIX.\"users LIKE '%email'\" );\n\t            if($q){\n                    $columns = [];\n\t                while($row =\\ze\\sql::fetchAssoc($q)){\n\t                   if($row['Field'] == '%email' || $row['Field'] == 'email'){\n\t                        $columns[]= $row;\n\t                    }\n\t                }\n\t                \n\t                if(count($columns) == 1){\n\t                \n\t                    $userColumns[] =  '<code>'.'email'.'</code>';\n\t                }\n\t            }\n\t            \n\t\t\t}\n\t\t\t\n\t\t\tif(\\ze::$dbL->columnIsEncrypted('users', 'identifier') || \\ze::$dbL->columnIsHashed('users', 'identifier')){\n\t\t\t    $q= \\ze\\sql::select(\"SHOW COLUMNS FROM \".DB_PREFIX.\"users LIKE '%identifier'\" );\n\t            if($q){\n                    $columns = [];\n\t                while($row =\\ze\\sql::fetchAssoc($q)){\n\t                   if($row['Field'] == '%identifier' || $row['Field'] == 'identifier'){\n\t                        $columns[]= $row;\n\t                    }\n\t                }\n\t                if(count($columns) == 1){\n\t                \n\t                    $userColumns[] =  '<code>'.'identifier'.'</code>';\n\t                }\n\t            }\n\t            \n\t\t\t}\n\t\t\t\n\t\t\tif(count($userColumns)>=1){\n\t            $fields['0/column_not_found']['row_class'] = 'warning';\n\t            $show_warning = true;\n\t            $fields['0/column_not_found']['hidden'] = false;\n                $fields['0/column_not_found']['snippet']['html'] = \\ze\\admin::phrase('The following columns are encrypted/ hashed but their corresponding plain text columns are missing: [[columns]].', ['columns' => implode(', ', $userColumns)]);\n\t        }\n\t        \n\t\t\t//Do some basic checks on the robots.txt file\n\t\t\t$robotsDotTextError = false;\n\t\t\tif (!file_exists(CMS_ROOT. 'robots.txt')) {\n\t\t\t\t$robotsDotTextError =\n\t\t\t\t\t\\ze\\admin::phrase('The <code>robots.txt</code> file for this site is missing.');\n\t\t\t\n\t\t\t} elseif ($robotsDotTextContents = self::getTrimmedFileContents(CMS_ROOT. 'robots.txt')) {\n\t\t\t\t$robotsFileLink = 'robots.txt';\n\t\t\t\tif (strpos($robotsDotTextContents, ' User-agent:* Disallow:/ ') !== false) {\n\t\t\t\t\t$robotsDotTextError =\n\t\t\t\t\t\t\\ze\\admin::phrase(\"This site has a <code>robots.txt</code> that is blocking search engine indexing. <a href=\".$robotsFileLink.\" target='_blank'>View robots.txt file</a>\");\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\n\t\t\t\t\tif (($standardRobotsDotTextContents = self::getTrimmedFileContents(CMS_ROOT. 'zenario/includes/test_files/default_robots.txt'))\n\t\t\t\t\t && ($standardRobotsDotTextContents != $robotsDotTextContents)) {\n\t\t\t\t\t\t$robotsDotTextError =\n\t\t\t\t\t\t\t\\ze\\admin::phrase(\"This site has a <code>robots.txt</code> that has non-standard modifications. <a href=\".$robotsFileLink.\" target='_blank'>View robots.txt file</a>\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (!$fields['0/robots_txt']['hidden'] = !$robotsDotTextError) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/robots_txt']['row_class'] = 'warning';\n\t\t\t\t$fields['0/robots_txt']['snippet']['html'] = $robotsDotTextError;\n\t\t\t}\n\t\t\t\n\t\t\t/**Check if there aren't any unknown files in the public html directory.\n\t\t\tThis is to let us know when, for example, someone has left a script or sql backup in the public_html dir and forgot to remove it.\n\t\t\tChecks for the following types:\n\t\t\t\t.7z\n\t\t\t\t.csv\n\t\t\t\t.gtar\n\t\t\t\t.gz\n\t\t\t\t.sql\n\t\t\t\t.tar\n\t\t\t\t.tgz\n\t\t\t\t.zip\n\t\t\t\tany executables\n\t\t\t\tany unrecognised files\n\t\t\t*/\n\t\t\n\t\t\t$publicHtmlFolderContents = scandir(CMS_ROOT);\n\t\t\t$unknownFiles = [];\n\t\t\tforeach ($publicHtmlFolderContents as $file) {\n\t\t\t\tif (is_file($file)) {\n\t\t\t\t\t$fileParts = pathinfo($file);\n\t\t\t\t\n\t\t\t\t\t//Ignore hidden files that start with a . (like .htaccess)\n\t\t\t\t\tif ($fileParts['filename'] === ''\n\t\t\t\t\t\t//Ignore .php files\n\t\t\t\t\t || $fileParts['extension'] === 'php'\n\t\t\t\t\t\t//Ignore .lock files (e.g. generated from a package builder)\n\t\t\t\t\t || $fileParts['extension'] === 'lock'\n\t\t\t\t\t\t//Ignore the alternate .htaccess files\n\t\t\t\t\t || $fileParts['extension'] === 'htaccess') {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\tif (!\\ze\\file::isAllowed($file) || \\ze\\file::isArchive($fileParts['extension'])) {\n\t\t\t\t\t\t$unknownFiles[] = $file;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ($count = count($unknownFiles)) {\n\t\t\t\t$unknownFiles = implode(', ', $unknownFiles);\n\t\t\t\t$fields['0/unknown_files_in_zenario_root_directory']['row_class'] = 'warning';\n\t\t\t\t$fields['0/unknown_files_in_zenario_root_directory']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::nphrase('There is an unknown file in the Zenario root directory: [[files]]. Please remove this if possible.', 'There are [[count]] unknown files in the Zenario root directory: [[files]]. Please remove them if possible.', $count, ['files' => $unknownFiles]);\n\t\t\t} else {\n\t\t\t\t//If there are no unknown files, hide the warning.\n\t\t\t\t$fields['0/unknown_files_in_zenario_root_directory']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif ($show_error) {\n\t\t\t\t$fields['0/show_site']['pressed'] = true;\n\t\t\t\t$fields['0/site']['row_class'] = 'section_invalid';\n\t\t\n\t\t\t} elseif ($show_warning) {\n\t\t\t\t$fields['0/show_site']['pressed'] = true;\n\t\t\t\t$fields['0/site']['row_class'] = 'section_warning';\n\t\t\t}\n\t\t\t\n\t\t\t//\n\t\t\t// Go through all of the checks in the site content section\n\t\t\t//\n\t\t\t\n\t\t\t$show_warning = false;\n\t\t\t$show_error = false;\n\t\t\t\n\t\t\t$fields['0/content_unpublished_1']['row_class'] =\n\t\t\t$fields['0/content_unpublished_2']['row_class'] =\n\t\t\t$fields['0/content_unpublished_3']['row_class'] =\n\t\t\t$fields['0/content_unpublished_4']['row_class'] =\n\t\t\t$fields['0/content_unpublished_5']['row_class'] =\n\t\t\t$fields['0/content_more_unpublished']['row_class'] =\n\t\t\t$fields['0/content_nothing_unpublished']['row_class'] = 'valid';\n\t\t\t$fields['0/content_unpublished_1']['hidden'] =\n\t\t\t$fields['0/content_unpublished_2']['hidden'] =\n\t\t\t$fields['0/content_unpublished_3']['hidden'] =\n\t\t\t$fields['0/content_unpublished_4']['hidden'] =\n\t\t\t$fields['0/content_unpublished_5']['hidden'] =\n\t\t\t$fields['0/content_more_unpublished']['hidden'] = true;\n\t\t\t$fields['0/content_nothing_unpublished']['hidden'] = false;\n\t\t\n\t\t\t$sql = \"\n\t\t\t\tSELECT c.id, c.type, c.alias, c.language_id, c.status, v.creating_author_id AS creator, v.last_author_id AS last_author, v.created_datetime, v.last_modified_datetime\n\t\t\t\tFROM \". DB_PREFIX. \"content_items AS c\n\t\t\t\tINNER JOIN \". DB_PREFIX. \"content_item_versions AS v\n\t\t\t\t   ON c.id = v.id\n\t\t\t\t  AND c.type = v.type\n\t\t\t\t  AND c.admin_version = v.version\n\t\t\t\tWHERE c.status IN ('first_draft','published_with_draft','hidden_with_draft','trashed_with_draft')\n\t\t\t\tORDER BY last_modified_datetime DESC\";\n\t\t\t\n\t\t\t$result = \\ze\\sql::select($sql);\n\t\t\t\n\t\t\tif ($rowCount = \\ze\\sql::numRows($result)) {\n\t\t\t\t$fields['0/content_nothing_unpublished']['hidden'] = true;\n\t\t\t\t$show_warning = true;\n\t\t\t\t$i = 0;\n\t\t\t\twhile ($row = \\ze\\sql::fetchAssoc($result)) {\n\t\t\t\t\t\n\t\t\t\t\tif (++$i > 5) {\n\t\t\t\t\t\t$row['link'] = 'zenario/admin/organizer.php#zenario__content/panels/content/refiners/work_in_progress////';\n\t\t\t\t\t\t\n\t\t\t\t\t\t$fields['0/content_more_unpublished']['hidden'] = false;\n\t\t\t\t\t\t$fields['0/content_more_unpublished']['row_class'] = 'warning';\n\t\t\t\t\t\t$fields['0/content_more_unpublished']['snippet']['html'] =\n\t\t\t\t\t\t\t\\ze\\admin::nPhrase('[[count]] other page is in draft mode. <a target=\"blank\" href=\"[[link]]\">View...</a>',\n\t\t\t\t\t\t\t\t'[[count]] other pages are in draft mode. <a target=\"blank\" href=\"[[link]]\">View...</a>',\n\t\t\t\t\t\t\t\tabs($rowCount - 5), $row);\n\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$row['tag'] = htmlspecialchars(\\ze\\content::formatTag($row['id'], $row['type'], $row['alias'], $row['language_id']));\n\t\t\t\t\t\t$row['link'] = htmlspecialchars(\\ze\\link::toItem($row['id'], $row['type'], true));\n\t\t\t\t\t\t$row['class'] = 'organizer_item_image '. \\ze\\contentAdm::getItemIconClass($row['id'], $row['type'], true, $row['status']);\n\t\t\t\n\t\t\t\t\t\t//If a content item has ever been edited, show last modified date and admin who modified it, but not created date...\n\t\t\t\t\t\tif ($row['last_modified_datetime']) {\n\t\t\t\t\t\t\t$item['unpublished_content_info'] =\n\t\t\t\t\t\t\t\t\\ze\\admin::phrase('Last edit [[time]] by [[admin]].', [\n\t\t\t\t\t\t\t\t\t'time' => \\ze\\date::relative($row['last_modified_datetime']),\n\t\t\t\t\t\t\t\t\t'admin' => \\ze\\admin::formatName($row['last_author'])\n\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//... otherwise, show created date and admin who created it.\n\t\t\t\t\t\t\t$item['unpublished_content_info'] =\n\t\t\t\t\t\t\t\t\\ze\\admin::phrase('Created [[time]] by [[admin]].', [\n\t\t\t\t\t\t\t\t\t'time' => \\ze\\date::relative($row['created_datetime']),\n\t\t\t\t\t\t\t\t\t'admin' => \\ze\\admin::formatName($row['creator'])\n\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t}\n                \n\t\t\t\t\t\t$specialPageUnpublishedMessage = (\\ze\\content::isSpecialPage($row['id'], $row['type'])) ? \\ze\\admin::phrase('<br />This page is a special page and it should be published.') : \"\";\n\t\t\t\t\t\t$fields['0/content_unpublished_'. $i]['hidden'] = false;\n\t\t\t\t\t\t$fields['0/content_unpublished_'. $i]['row_class'] = ''; //Don't display warning triangle icons for unpublished items anymore. Deleting this line will show a green tick icon.\n\t\t\t\t\t\t$fields['0/content_unpublished_'. $i]['snippet']['html'] =\n\t\t\t\t\t\t\t\\ze\\admin::phrase('<a target=\"blank\" href=\"[[link]]\"><span class=\"[[class]]\"></span>[[tag]]</a> is in draft mode.', $row) . $specialPageUnpublishedMessage.'<br/>'.$item['unpublished_content_info'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ($show_error) {\n\t\t\t\t$fields['0/show_content']['pressed'] = true;\n\t\t\t\t$fields['0/content']['row_class'] = 'section_invalid';\n\t\t\n\t\t\t} elseif ($show_warning) {\n\t\t\t\t$fields['0/show_content']['pressed'] = true;\n\t\t\t\t$fields['0/content']['row_class'] = 'section_warning';\n\t\t\t}\n\t\t\t\n\t\t\t//\n\t\t\t// Go through all of the checks in the administrators section\n\t\t\t//\n\t\t\t\n\t\t\t//Admin must have this permission to view administrator activity warnings\n\t\t\tif (\\ze\\priv::check('_PRIV_VIEW_ADMIN')) {\n\t\t\t\n\t\t\t\t$show_warning = false;\n\t\t\t\t$show_error = false;\n\t\t\t\n\t\t\t\t$fields['0/administrator_inactive_1']['row_class'] = \n\t\t\t\t$fields['0/administrator_inactive_2']['row_class'] = \n\t\t\t\t$fields['0/administrator_inactive_3']['row_class'] = \n\t\t\t\t$fields['0/administrator_inactive_4']['row_class'] = \n\t\t\t\t$fields['0/administrator_inactive_5']['row_class'] = \n\t\t\t\t$fields['0/administrator_more_inactive']['row_class'] = \n\t\t\t\t$fields['0/administrators_active']['row_class'] = 'valid';\n\t\t\t\t$fields['0/administrator_inactive_1']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_2']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_3']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_4']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_5']['hidden'] = \n\t\t\t\t$fields['0/administrator_more_inactive']['hidden'] = true;\n\t\t\t\t$fields['0/administrators_active']['hidden'] = false;\n\t\t\t\t\n\t\t\t\t$days = \\ze\\admin::getDaysBeforeAdminsAreInactive();\n\t\t\t\t$fields['0/administrators_active']['snippet']['html'] = \\ze\\admin::phrase('No administrator has been inactive for over [[count]] days.', ['count' => $days]);\n\t\t\t\t\n\t\t\t\t$sql = '\n\t\t\t\t\tSELECT id, username, last_login, created_date\n\t\t\t\t\tFROM ' . DB_PREFIX . 'admins\n\t\t\t\t\tWHERE authtype = \\'local\\'\n\t\t\t\t\t  AND `status` = \\'active\\'\n\t\t\t\t\tORDER BY last_login';\n\t\t\t\t$result = \\ze\\sql::select($sql);\n\t\t\t\t$inactiveAdminCount = 0;\n\t\t\t\twhile ($row = \\ze\\sql::fetchAssoc($result)) {\n\t\t\t\t\tif (\\ze\\admin::isInactive($row['id'])) {\n\t\t\t\t\t\tif (!$show_warning) {\n\t\t\t\t\t\t\t$show_warning = true;\n\t\t\t\t\t\t\t$fields['0/administrators_active']['hidden'] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (++$inactiveAdminCount <= 5) {\n\t\t\t\t\t\t\t$row['link'] = 'zenario/admin/organizer.php#zenario__users/panels/administrators//' . $row['id'];\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t$fields['0/administrator_inactive_'. $inactiveAdminCount]['hidden'] = false;\n\t\t\t\t\t\t\t$fields['0/administrator_inactive_'. $inactiveAdminCount]['row_class'] = 'warning';\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ($row['last_login']) {\n\t\t\t\t\t\t\t\t$row['days'] = floor((strtotime('now') - strtotime($row['last_login'])) / 60 / 60 / 24);\n\t\t\t\t\t\t\t\t$row['last_login_date'] = \\ze\\admin::formatDate($row['last_login'], '_MEDIUM');\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t$fields['0/administrator_inactive_'. $inactiveAdminCount]['snippet']['html'] =\n\t\t\t\t\t\t\t\t\t\\ze\\admin::phrase(\"<a target='blank' href='[[link]]'>[[username]]</a> hasn't logged in since [[last_login_date]], [[days]] days ago.\", $row);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$row['created_date'] = \\ze\\admin::formatDate($row['created_date'], '_MEDIUM');\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t$fields['0/administrator_inactive_'. $inactiveAdminCount]['snippet']['html'] =\n\t\t\t\t\t\t\t\t\t\\ze\\admin::phrase(\"<a target='blank' href='[[link]]'>[[username]]</a> was created on [[created_date]] and has never logged in.\", $row);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($inactiveAdminCount > 5) {\n\t\t\t\t\t$merge = ['link' => 'zenario/admin/organizer.php#zenario__users/panels/administrators'];\n\t\t\t\t\n\t\t\t\t\t$fields['0/administrator_more_inactive']['hidden'] = false;\n\t\t\t\t\t$fields['0/administrator_more_inactive']['row_class'] = 'warning';\n\t\t\t\t\t$fields['0/administrator_more_inactive']['snippet']['html'] =\n\t\t\t\t\t\t\\ze\\admin::nPhrase('1 other administrator is inactive. <a target=\"blank\" href=\"[[link]]\">View...</a>',\n\t\t\t\t\t\t\t'[[count]] other administrators are inactive. <a target=\"blank\" href=\"[[link]]\">View...</a>',\n\t\t\t\t\t\t\tabs($inactiveAdminCount - 5), $merge);\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif ($show_error) {\n\t\t\t\t\t$fields['0/show_administrators']['pressed'] = true;\n\t\t\t\t\t$fields['0/administrators']['row_class'] = 'section_invalid';\n\t\t\n\t\t\t\t} elseif ($show_warning) {\n\t\t\t\t\t$fields['0/show_administrators']['pressed'] = true;\n\t\t\t\t\t$fields['0/administrators']['row_class'] = 'section_warning';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$fields['0/administrators']['hidden'] = \n\t\t\t\t$fields['0/show_administrators']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_1']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_2']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_3']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_4']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_5']['hidden'] = \n\t\t\t\t$fields['0/administrator_more_inactive']['hidden'] =\n\t\t\t\t$fields['0/administrators_active']['hidden'] = true;\n\t\t\t}\n\t\t\t$fields['0/default_timezone_not_set']['hidden'] = true;\n\t\t\tif (\\ze\\module::inc('zenario_timezones')) {\n                if(\\ze::setting('zenario_timezones__default_timezone') == \"\"){\n                    $fields['0/default_timezone_not_set']['row_class'] = 'warning';\n                    $fields['0/default_timezone_not_set']['hidden'] = false;\n                    $mrg = ['link' => htmlspecialchars('zenario/admin/organizer.php#zenario__administration/panels/site_settings//date_and_time~.site_settings~ttimezone_settings~k{\"id\"%3A\"date_and_time\"}')];\n\t\t\t\t\n\t\t\t\t    $show_warning = true; \n\t\t\t\t    $fields['0/default_timezone_not_set']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('The default timezone is not set in site settings. Please go to <a href=\"[[link]]\" target=\"_blank\"><em>Date and Time</em></a> in Site Settings to change this.', $mrg);\n\t\t\t    }\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\t//Strip any trailing slashes off of a directory path\n\t\t$values['0/backup_dir'] = preg_replace('/[\\\\\\\\\\\\/]+$/', '', $values['0/backup_dir']);\n\t\t$values['0/docstore_dir'] = preg_replace('/[\\\\\\\\\\\\/]+$/', '', $values['0/docstore_dir']);\n\t\n\t\t//On multisite sites, don't allow local Admins to change the directory paths\n\t\tif (\\ze\\db::hasGlobal() && !($_SESSION['admin_global_id'] ?? false)) {\n\t\t\t$_SESSION['zenario_installer_disallow_changes_to_dirs'] = true;\n\t\n\t\t//Only allow changes to the directories if they were not correctly set to start with\n\t\t} elseif (!isset($_SESSION['zenario_installer_disallow_changes_to_dirs'])) {\n\t\t\t$_SESSION['zenario_installer_disallow_changes_to_dirs'] =\n\t\t\t\t$fields['0/backup_dir_status']['row_class'] == 'sub_valid'\n\t\t\t && $fields['0/docstore_dir_status']['row_class'] == 'sub_valid';\n\t\t}\n\t\n\t\tif ($_SESSION['zenario_installer_disallow_changes_to_dirs']) {\n\t\t\t$fields['0/backup_dir']['readonly'] = true;\n\t\t\t$fields['0/docstore_dir']['readonly'] = true;\n\t\n\t\t} else {\n\t\t\tif ($fields['0/backup_dir_status']['row_class'] == 'sub_valid') {\n\t\t\t\t\\ze\\site::setSetting('backup_dir', $values['0/backup_dir']);\n\t\t\t}\n\t\t\n\t\t\tif ($fields['0/docstore_dir_status']['row_class'] == 'sub_valid') {\n\t\t\t\t\\ze\\site::setSetting('docstore_dir', $values['0/docstore_dir']);\n\t\t\t}\n\t\t}\n\t\n\t\t\\ze\\welcome::systemRequirementsAJAX($source, $tags, $fields, $values, $changes, $isDiagnosticsPage = true);\n\t\n\t\t$everythingIsOkay =\n\t\t\t$fields['0/dirs']['row_class'] == 'section_valid'\n\t\t && $fields['0/site']['row_class'] == 'section_valid'\n\t\t && $fields['0/content']['row_class'] == 'section_valid'\n\t\t && $fields['0/administrators']['row_class'] = 'section_valid'\n\t\t && $fields['0/system_requirements']['row_class'] == 'section_valid';\n\t\n\t\tif (!$everythingIsOkay) {\n\t\t\t$showCheckAgainButton = true;\n\t\t}\n\t\n\t\t//In some cases, if something is so bad, hide the continue button.\n\t\t$fields['0/continue']['hidden'] =\n\t\t\t!$showContinueButton;\n\t\t\n\t\t//If all of the directory info valid (or uneditable due to not being a super-admin),\n\t\t//only show one button as there is nothing to save or recheck\n\t\t$fields['0/check_again']['hidden'] =\n\t\t\t$showContinueButton\n\t\t && !$showCheckAgainButton\n\t\t && (!$showCheckAgainButtonIfDirsAreEditable || $_SESSION['zenario_installer_disallow_changes_to_dirs']);\n\t\t\n\t\t$wasFirstViewing = $tags['key']['first_viewing'];\n\t\t$tags['key']['first_viewing'] = false;\n\t\n\t\t//If everything is valid, do not show this screen unless it was shown previously,\n\t\t//or the admin specificly requested it by clicking on the stethoscope button\n\t\tif ($everythingIsOkay && $wasFirstViewing) {\n\t\t\tif ($task != 'diagnostics') {\n\t\t\t\tunset($_SESSION['zenario_installer_disallow_changes_to_dirs']);\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\t//Don't show all of the toggles closed to start with, if everything is green\n\t\t\t\t//open the \"Site configuration\" and \"Site content\" sections by default in this case.\n\t\t\t\t$fields['0/show_site']['pressed'] = true;\n\t\t\t\t$fields['0/show_content']['pressed'] = true;\n\t\t\t}\n\t\t}\n\t\n\t\t//Continue on from this step if the \"Continue\" button is pressed\n\t\tif (!empty($fields['0/continue']['pressed'])) {\n\t\t\tunset($_SESSION['zenario_installer_disallow_changes_to_dirs']);\n\t\t\treturn true;\n\t\n\t\t} else {\n\t\t\t//If the Admin has pressed the \"Save and Continue\" button...\n\t\t\tif (!empty($fields['0/check_again']['pressed'])) {\n\t\t\t\t//If the directory section is valid, also don't show this screen unless it was shown previously\n\t\t\t\tif ($fields['0/dirs']['row_class'] == 'section_valid'\n\t\t\t\t && empty($fields['0/check_again']['pressed'])) {\n\t\t\t\t\tunset($_SESSION['zenario_installer_disallow_changes_to_dirs']);\n\t\t\t\t\treturn true;\n\t\t\t\n\t\t\t\t//Otherwise shake the screen\n\t\t\t\t} else {\n\t\t\t\t\t$tags['shake'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tpublic static function getTrimmedFileContents($path) {\n\t\t\n\t\tif ($contents = @file_get_contents($path)) {\n\t\t\treturn preg_replace('@[\\n\\r]+@', ' ', preg_replace('@[^\\S\\n\\r]@', '', \"\\n\". $contents. \"\\n\"));\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//Formerly \"protectBackupAndDocstoreDirsIfPossible()\"\n\tpublic static function protectBackupAndDocstoreDirsIfPossible() {\n\t\tforeach ([\\ze::setting('backup_dir'), \\ze::setting('docstore_dir')] as $dir) {\n\t\t\tif ($dir\n\t\t\t && is_dir($dir)\n\t\t\t && is_writeable($dir)\n\t\t\t && !file_exists($file = $dir. '/.htaccess')) {\n\t\t\t\t@file_put_contents($file, \n'Options -Indexes\n\n<IfModule mod_rewrite.c>\n\tRewriteEngine On\n\tRewriteRule .* - [F,NC]\n</IfModule>'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t//Formerly \"licenseExpiryDate()\"\n\tpublic static function licenseExpiryDate($file) {\n\t\t$return = false;\n\t\n\t\tif ($f = fopen($file, 'r')) {\n\t\t\tif (($expires = trim(fgets($f)))\n\t\t\t && ($expires = explode('Expires: ', $expires, 2))\n\t\t\t && (!empty($expires[1]))) {\n\t\t\t\t$return = $expires[1];\n\t\t\t}\n\t\t\tfclose($f);\n\t\t}\n\t\n\t\treturn $return;\n\t}\n\n\t//Formerly \"congratulationsAJAX()\"\n\tpublic static function congratulationsAJAX(&$source, &$tags, &$fields, &$values, $changes) {\n\t\t$fields['0/link']['snippet']['html'] =\n\t\t\t'<a href=\"'. \\ze\\link::protocol(). $_SERVER['HTTP_HOST']. SUBDIRECTORY. '\">'. \\ze\\link::protocol(). $_SERVER['HTTP_HOST']. SUBDIRECTORY. '</a>';\n\t}\n\n\t//Formerly \"redirectAdmin()\"\n\tpublic static function redirectAdmin($getRequest, $forceAliasInAdminMode = false) {\n\t\t\n\t\t$cID = $cType = $redirectNeeded = $aliasInURL = false;\n\t\tif (!empty($getRequest)) {\n\t\t\t\\ze\\content::resolveFromRequest($cID, $cType, $redirectNeeded, $aliasInURL, $getRequest, $getRequest, []);\n\t\t}\n\t\t\n\t\t$domain = ($forceAliasInAdminMode || !\\ze\\priv::check())? \\ze\\link::primaryDomain() : \\ze\\link::adminDomain();\n\t\n\t\tif (!empty($getRequest['og']) && \\ze\\priv::check()) {\n\t\t\treturn\n\t\t\t\t'zenario/admin/organizer.php'.\n\t\t\t\t(isset($getRequest['fromCID']) && isset($getRequest['fromCType'])? '?fromCID='. $getRequest['fromCID']. '&fromCType='. $getRequest['fromCType'] : '').\n\t\t\t\t'#'. $getRequest['og'];\n\t\t\n\t\t} elseif (!empty($getRequest['desturl']) && \\ze\\priv::check()) {\n\t\t\treturn \\ze\\link::protocol(). $domain. $getRequest['desturl'];\n\t\t\n\t\t}\n\t\t\n\t\tif (!$cID && !empty($_SESSION['destCID'])) {\n\t\t\t$cID = $_SESSION['destCID'];\n\t\t\t$cType = $_SESSION['destCType'] ?? 'html';\n\t\t}\n\t\n\t\tif ($cID && \\ze\\content::checkPerm($cID, $cType)) {\n\t\t\n\t\t\tunset($getRequest['task'], $getRequest['cID'], $getRequest['cType'], $getRequest['cVersion'], $getRequest['verification_code']);\n\t\t\n\t\t\treturn \\ze\\link::toItem($cID, $cType, true, http_build_query($getRequest), false, false, $forceAliasInAdminMode);\n\t\t} else {\n\t\t\treturn (DIRECTORY_INDEX_FILENAME ?: SUBDIRECTORY);\n\t\t}\n\t}\n\n\n\t//Formerly \"lastAutomatedBackupTimestamp()\"\n\tpublic static function lastAutomatedBackupTimestamp($automated_backup_log_path = false) {\n\t\t$backup = \\ze\\welcome::lastAutomatedBackup($automated_backup_log_path);\n\t\tif ($backup) {\n\t\t\t$datetime = new \\DateTime($backup[0]);\n\t\t\treturn $datetime->getTimestamp();\n\t\t}\n\t\treturn 0;\n\t}\n\n\tpublic static function lastAutomatedBackup($automated_backup_log_path = false) {\n\t\tif ($automated_backup_log_path === false) {\n\t\t\t$automated_backup_log_path = \\ze::setting('automated_backup_log_path');\n\t\t}\n\t\n\t\t//Attempt to get the date of the last backup from\n\t\t$timestamp = 0;\n\t\t$latestLineValues = false;\n\t\tini_set('auto_detect_line_endings', true);\n\t\tif ($f = fopen($automated_backup_log_path, 'r')) {\n\t\t\twhile ($line = fgets($f)) {\n\t\t\t\tif (trim($line) != ''\n\t\t\t\t && ($lineValues = str_getcsv($line))\n\t\t\t\t && ($lineValues[0])\n\t\t\t\t && ($lineValues[2]? DBNAME == $lineValues[2] : DBNAME == $lineValues[1])\n\t\t\t\t && ($time = new \\DateTime($lineValues[0]))\n\t\t\t\t && ($timestamp < $time->getTimestamp())) {\n\t\t\t\t\t$timestamp = $time->getTimestamp();\n\t\t\t\t\t$latestLineValues = $lineValues;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn $latestLineValues;\n\t}\n\n    //Used on Diagnostics screen\n    public static function getBackupWarnings() {\n        $mrg = [\n\t\t\t\t'DBNAME' => DBNAME,\n\t\t\t\t'path' => \\ze::setting('automated_backup_log_path'),\n\t\t\t\t'link' => htmlspecialchars('zenario/admin/organizer.php#zenario__administration/panels/site_settings//dirs~.site_settings~tautomated_backups~k{\"id\"%3A\"dirs\"}'),\n\t\t\t\t'manageAutomatedBackupLink' => htmlspecialchars('zenario/admin/organizer.php#zenario__administration/panels/site_settings//dirs')];\n        $warnings = [];\n        if (!\\ze::setting('check_automated_backups')) {\n            $warnings['row_class'] = 'valid';\n            $warnings['hidden'] = true;\n\n        } elseif (!\\ze::setting('automated_backup_log_path')) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n            $warnings['snippet']['html'] =\n                \\ze\\admin::phrase('Automated backup monitoring is not set up. Please go to <a href=\"[[link]]\" target=\"_blank\"><em>Backups and document storage</em></a> in Site Settings to change this. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>', $mrg);\n\n        } elseif (!is_file(\\ze::setting('automated_backup_log_path'))) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n             $warnings['snippet']['html'] =\n                \\ze\\admin::phrase('Automated backup monitoring is not running properly: the log file ([[path]]) could not be found. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>', $mrg);\n\n        } elseif (!is_readable(\\ze::setting('automated_backup_log_path'))) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n            $warnings['snippet']['html']=\n                \\ze\\admin::phrase('Automated backup monitoring is not running properly: the log file ([[path]]) exists but could not be read. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>', $mrg);\n\n        } else {\n            //Attempt to get the date of the last backup from\n            $timestamp = \\ze\\welcome::lastAutomatedBackupTimestamp();\n    \n            if (!$timestamp) {\n                $warnings['show_warning'] = true;\n                $warnings['row_class']= 'warning';\n                $warnings['snippet']['html'] =\n                    \\ze\\admin::phrase('This site is not being backed-up using the automated process: database [[DBNAME]] was not listed in [[path]]. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>', $mrg);\n    \n            } else {\n                $days = (int) floor((time() - (int) $timestamp) / 86400);\n        \n                if ($days >= (int) \\ze::setting('automated_backup_days')) {\n                    $warnings['show_warning'] = true;\n                    $warnings['row_class']= 'warning';\n                    $warnings['snippet']['html'] =\n                        \\ze\\admin::nPhrase('Automated backups have not been run in the last day. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>',\n                            'Automated backups have not been run in [[days]] days. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>',\n                            $days, ['days' => $days, 'manageAutomatedBackupLink' => $mrg['manageAutomatedBackupLink']]);\n\n                } else {\n                    $warnings['row_class'] = 'valid';\n                    $warnings['snippet']['html']=\n                        \\ze\\admin::phrase(\"Automated backups are running.\");\n                }\n            }\n        }\n\t\treturn $warnings;\n    }\n    \n    //Used in \"Backups and document storage\" Site Setting FAB.\n    public static function getBackupWarningsWithoutHtmlLinks() {\n        $mrg = [\n\t\t\t\t'DBNAME' => DBNAME,\n\t\t\t\t'path' => \\ze::setting('automated_backup_log_path')];\n        $warnings = [];\n        if (!\\ze::setting('check_automated_backups')) {\n            $warnings['row_class'] = 'valid';\n            $warnings['hidden'] = true;\n\n        } elseif (!\\ze::setting('automated_backup_log_path')) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n            $warnings['snippet']['html'] =\n                \\ze\\admin::phrase('Automated backup monitoring is not set up.', $mrg);\n\n        } elseif (!is_file(\\ze::setting('automated_backup_log_path'))) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n             $warnings['snippet']['html'] =\n                \\ze\\admin::phrase('Automated backup monitoring is not running properly: the log file ([[path]]) could not be found.', $mrg);\n\n        } elseif (!is_readable(\\ze::setting('automated_backup_log_path'))) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n            $warnings['snippet']['html']=\n                \\ze\\admin::phrase('Automated backup monitoring is not running properly: the log file ([[path]]) exists but could not be read.', $mrg);\n\n        } else {\n            //Attempt to get the date of the last backup from\n            $timestamp = \\ze\\welcome::lastAutomatedBackupTimestamp();\n    \n            if (!$timestamp) {\n                $warnings['show_warning'] = true;\n                $warnings['row_class']= 'warning';\n                $warnings['snippet']['html'] =\n                    \\ze\\admin::phrase('This site is not being backed-up using the automated process: database [[DBNAME]] was not listed in [[path]].', $mrg);\n    \n            } else {\n                $days = (int) floor((time() - (int) $timestamp) / 86400);\n        \n                if ($days >= (int) \\ze::setting('automated_backup_days')) {\n                    $warnings['show_warning'] = true;\n                    $warnings['row_class']= 'warning';\n                    $warnings['snippet']['html'] =\n                        \\ze\\admin::nPhrase('Automated backups have not been run in the last day.',\n                            'Automated backups have not been run in [[days]] days.',\n                            $days, ['days' => $days]);\n\n                } else {\n                    $warnings['row_class'] = 'valid';\n                    $warnings['snippet']['html']=\n                        \\ze\\admin::phrase(\"Automated backups are running.\");\n                }\n            }\n        }\n\t\treturn $warnings;\n    }\n\n\t//Formerly \"deleteNamedPluginSetting()\"\n\tpublic static function deleteNamedPluginSetting($moduleClassName, $settingName) {\n\t\n\t\t$sql = \"\n\t\t\tDELETE ps.*\n\t\t\tFROM `\". DB_PREFIX. \"modules` AS m\n\t\t\tINNER JOIN `\". DB_PREFIX. \"plugin_instances` AS pi\n\t\t\t   ON m.id = pi.module_id\n\t\t\tINNER JOIN `\". DB_PREFIX. \"plugin_settings` AS ps\n\t\t\t   ON pi.id = ps.instance_id\n\t\t\t  AND ps.egg_id = 0\n\t\t\t  AND ps.name = '\". \\ze\\escape::sql($settingName). \"'\n\t\t\tWHERE m.class_name = '\". \\ze\\escape::sql($moduleClassName). \"'\";\n\t\t\\ze\\sql::update($sql);\n\n\t\t$sql = \"\n\t\t\tDELETE ps.*\n\t\t\tFROM `\". DB_PREFIX. \"modules` AS m\n\t\t\tINNER JOIN `\". DB_PREFIX. \"nested_plugins` AS np\n\t\t\t   ON m.id = np.module_id\n\t\t\tINNER JOIN `\". DB_PREFIX. \"plugin_settings` AS ps\n\t\t\t   ON ps.egg_id = np.id\n\t\t\t  AND ps.name = '\". \\ze\\escape::sql($settingName). \"'\n\t\t\tWHERE m.class_name = '\". \\ze\\escape::sql($moduleClassName). \"'\";\n\t\t\\ze\\sql::update($sql);\n\t}\n}\n", "/*\n * Copyright (c) 2020, Tribal Limited\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Zenario, Tribal Limited nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL TRIBAL LTD BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/*\n\tThis file contains JavaScript source code.\n\tThe code here is not the code you see in your browser. Before this file is downloaded:\n\t\n\t\t1. Compilation macros are applied (e.g. \"foreach\" is a macro for \"for .. in ... hasOwnProperty\").\n\t\t2. It is minified (e.g. using Google Closure Compiler).\n\t\t3. It may be wrapped togther with other files (this is to reduce the number of http requests on a page).\n\t\n\tFor more information, see js_minify.shell.php for steps (1) and (2), and organizer.wrapper.js.php for step (3).\n*/\n\n\nzenario.lib(function(\n\tundefined,\n\tURLBasePath,\n\tdocument, window, windowOpener, windowParent,\n\tzenario, zenarioA, zenarioT, zenarioAB, zenarioAT, zenarioO,\n\tencodeURIComponent, defined, engToBoolean, get, htmlspecialchars, jsEscape, phrase,\n\textensionOf, methodsOf, has\n) {\n\t\"use strict\";\n\n\n\n\n//To do: Functions to document in the API directory in javascript_organizer.js:\n/*\n\t//getting arrays of merge fields\n\tzenarioO.getPanelItems(useLargerThumbnails)\n\tzenarioO.getItemButtons()\n\tzenarioO.getCollectionButtons()\n\n\tzenarioO.disableInteraction()\n\tzenarioO.enableInteraction()\n\n\tzenarioO.load()\n\tzenarioO.reload(\n\t\t//Need to tidy up inputs\n\t)\n\n\tzenarioO.setHash()\n\tzenarioO.setPanel()\n\t\t//includes zenarioO.setTrash()\n\tzenarioO.setButtons()\n\t\t//includes zenarioO.setChooseButton()\n\tzenarioO.setBackButton()\n\tzenarioO.setNavigation()\n\tzenarioO.setPanelTitle()\n\tzenarioO.getCurrentPage()\n\tzenarioO.getPageCount()\n\n\n\tzenarioO.pi.itemClick(\n\t\t//Need to tidy up inputs\n\t)\n\tzenarioO.itemClickThrough(\n\t\t//Need to tidy up inputs\n\t)\n\n\tzenarioO.toggleAllItems()\n\tzenarioO.selectItems()\n\t\n\t//inspection view functions\n\tzenarioO.inspectionViewEnabled()\n\tzenarioO.inInspectionView(stateChange)\n\tzenarioO.inspectionViewItemId(stateChange)\n\tzenarioO.openInspectionView()\n\tzenarioO.closeInspectionView()\n\tzenarioO.toggleInspectionView()\n*/\n\n/*\n\t//Things that might become API functions, that I need to review:\n\n\tzenarioO.path\n\tzenarioO.getKeyId()\n\tzenarioO.itemsSelected\n\tzenarioO.selectCreatedIds()\n\tzenarioO.saveSelection()\n\tzenarioO.searchedItems\n\n\tzenarioO.checkButtonHidden()\n\tzenarioO.checkDisabled()\n\n\t//list view stuff\n\tzenarioO.resizeColumn()\n\tzenarioO.columnWidths\n\tzenarioO.resizingColumn\n\tzenarioO.sortingColumn\n\tzenarioO.switchColumnOrder()\n*/\n\n\n\n//Constants\nzenarioO.getItemLinkTimeoutTime = 7000;\n\n//(Periodic refresh is now disabled)\n//zenarioO.periodicRefreshTime = 120000;\n\nzenarioO.yourWorkInProgressLastUpdateFrequency = 60000;\nzenarioO.yourWorkInProgressItemCount = 10;\n\nzenarioO.itemDoubleClickTime = 500;\nzenarioO.searchDelayTime = 700;\nzenarioO.firstLoaded = false;\n\nzenarioO.defaultPageSize = 50;\nzenarioO.defaultColumnWidth = 150;\nzenarioO.columnsExtraSpacing = 1;\nzenarioO.columnSpacing = 1;\nzenarioO.columnPadding = 10;\nzenarioO.columnWidths = {\n\txxsmall: 45,\n\txsmall: 75,\n\tsmall: 100,\n\tmedium: 150,\n\tlarge: 225,\n\txlarge: 350,\n\txxlarge: 500\n};\nzenarioO.pi = false;\nzenarioO.inspectionView = false;\n\n\n\n\n//Create an instance of the admin forms library for the view options box\nvar zenarioVO = window.zenarioVO = new zenarioAF();\n\n\n\n\n//Go to the \"Content by Layout\" panel by default\nzenarioO.defaultPath = 'zenario__content/panels/content';\nzenarioO.defaultPathInIframePreload = 'dummy_item/panels/loading_message';\n\n\n\nzenarioO.inInspectionView = function(stateChange) {\n\tif (!zenarioO.inspectionViewEnabled()) {\n\t\tzenarioO.inspectionView = false;\n\t\treturn false;\n\t}\n\t\n\tif (!defined(stateChange)) {\n\t\treturn zenarioO.inspectionView;\n\t\n\t} else if (stateChange === false) {\n\t\tzenarioO.inspectionView =\n\t\tzenarioO.inspectionViewItem = false;\n\t\tzenarioO.setHash();\n\t\n\t} else {\n\t\tzenarioO.inspectionView = true;\n\t\tzenarioO.inspectionViewItem = stateChange;\n\t\tzenarioO.setHash();\n\t}\n};\n\nzenarioO.inspectionViewItemId = function() {\n\tif (zenarioO.inInspectionView()) {\n\t\treturn zenarioO.inspectionViewItem;\n\t}\n\treturn false;\n};\n\nzenarioO.inspectionViewEnabled = function() {\n\treturn zenarioO.pi\n\t\t&& zenarioO.pi.returnInspectionViewEnabled();\n};\n\nzenarioO.toggleInspectionView = function(id) {\n\tif (zenarioO.inspectionViewEnabled()) {\n\t\tzenarioO.pi.toggleInspectionView(id);\n\t}\n};\n\nzenarioO.openInspectionView = function(id) {\n\tif (zenarioO.inspectionViewEnabled()) {\n\t\tzenarioO.pi.openInspectionView(id);\n\t}\n};\n\nzenarioO.closeInspectionView = function(id) {\n\tif (zenarioO.inspectionViewEnabled()) {\n\t\tzenarioO.pi.closeInspectionView(id);\n\t}\n};\n\n\nzenarioO.print = function() {\n\ttry {\n\t\t\n\t\tvar title = $(\"#organizer_panelTitle div:eq(1)\").text();\n\t\tvar table = $('.organizer_list_view').removeAttr('style').html();\n\t\t\n\t\t//table.$('.organizer_column').removeAttr('style');\n\t\t\n\t\tvar mywindow = window.open('', title, 'height=50,width=50');\n        mywindow.document.write('<html><head><title></title>');\n        mywindow.document.write('<link rel=\"stylesheet\" href=\"http://dev-jc.tribiq.com/HEAD/zenario/styles/admin_organizer_print.css\" type=\"text/css\" />');\n        //mywindow.document.write('<link rel=\"stylesheet\" media=\"screen\" href=\"http://dev-jc.tribiq.com/HEAD/zenario/styles/admin_organizer_print.css\" type=\"text/css\" />');\n        mywindow.document.write('<script>myFunction = function() { window.print(); window.close();};</script>');\n\n        mywindow.document.write('</head><body onload=\"myFunction()\"><div class=\"table_wrapper\"><h1 class=\"print_title\">' + title + '</h1>');\n        mywindow.document.write(table);\n        \n        mywindow.document.write('</div></body></html>');\n\n        mywindow.document.close(); // necessary for IE >= 10\n        mywindow.focus(); // necessary for IE >= 10\n\t\t\n\t\t//mywindow.print();\n\t\t//mywindow.close(); \n        \t\n\t\t//window.print();\n\t\t\n\t} catch(e) {\n\t}\n};\n\n\n\n\nzenarioO.open = function(className, e, width, left, top, disablePageBelow, overlay, draggable, resizable, padding, maxHeight, rightCornerOfElement, bottomCornerOfElement) {\n\tif (!zenarioO.topLeftHTML) {\n\t\tzenarioO.topLeftHTML = '';\n\t}\n\tif (!zenarioO.topRightHTML) {\n\t\tzenarioO.topRightHTML =\n\t\t\t'<div class=\"organizer_close_button\">' +\n\t\t\t\t'<a onclick=\"zenarioO.closeSelectMode();\"></a>' +\n\t\t\t'</div>';\n\t}\n\t\n\t\n\tvar html = zenarioT.microTemplate('zenario_organizer', {topLeftHTML: zenarioO.topLeftHTML, topRightHTML: zenarioO.topRightHTML});\n\t\n\tzenarioA.openBox(html, className, 'og', e, width, left, top, disablePageBelow, overlay, draggable, resizable, padding, maxHeight, rightCornerOfElement, bottomCornerOfElement);\n\t\n\tzenarioO.setOrganizerIcons();\n};\n\n\n\n//Start up the JavaScript engine for the Organizer as soon as the page has loaded\nzenarioO.initRun = false;\nzenarioO.init = function(reload) {\n\t\n\t//Unless the reload flag is set, don't reload if we've already done this\n\tif (zenarioO.initRun && !reload) {\n\t\treturn;\n\t}\n\tzenarioO.initRun = true;\n\t\n\tzenarioA.showAJAXLoader();\n\t\n\t//if (window.console && typeof console.groupEnd == 'function') console.group('Loading Organizer');\n\t\n\tzenarioO.pageTitle = document.title;\n\t\n\t//Set the search box to the default search Phrase\n\tzenarioO.setSearch(undefined);\n\t\n\t//Load the current admin's Organizer preferences\n\tzenarioO.checkPrefs();\n\t\n\t\n\tzenarioO.loadMap(zenarioO.init2);\n};\n\nzenarioO.loadMap = function(after) {\n\t\n\t//Check if the map was already loaded!\n\tif (zenarioO.map) {\n\t\tafter();\n\t\treturn;\n\t}\n\t\n\t//Load the map\n\ttry {\n\t\t//If this is a select mode window launched from Organizer, try to copy the map off of the launching Organizer\n\t\tif (\t   zenarioA.openedInIframe\n\t\t\t\t&& self.parent\n\t\t\t\t&& self.parent.zenarioO\n\t\t\t\t&& self.parent.zenarioO.map\n\t\t\t\t&& self.parent.zenarioA.moduleCodeHash === zenarioA.moduleCodeHash\n\t\t\t\t&& self.parent.zenarioCSSJSVersionNumber === window.zenarioCSSJSVersionNumber\n\t\t) {\n\t\t\tzenarioO.map = self.parent.zenarioO.map;\n\t\t\tzenarioO.lookForBranches(zenarioO.map);\n\t\t\tafter();\n\t\t\treturn;\n\t\t\n\t\t//Check if this window had an opener, which already had Organizer loaded\n\t\t} else if (windowOpener\n\t\t\t\t&& windowOpener.zenarioO\n\t\t\t\t&& windowOpener.zenarioO.map\n\t\t\t\t&& windowOpener.zenarioA.moduleCodeHash === zenarioA.moduleCodeHash\n\t\t\t\t&& windowOpener.zenarioCSSJSVersionNumber === window.zenarioCSSJSVersionNumber\n\t\t) {\n\t\t\tzenarioO.map = windowOpener.zenarioO.map;\n\t\t\tzenarioO.lookForBranches(zenarioO.map);\n\t\t\tafter();\n\t\t\treturn;\n\t\t\n\t\t//Check if this window had an windowOpener, which already had Organizer preloaded\n\t\t} else if (windowOpener\n\t\t\t\t&& windowOpener.zenario\n\t\t\t\t&& windowOpener.zenario.get\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe')\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe').contentWindow\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe').contentWindow.zenarioO\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe').contentWindow.zenarioO.map\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe').contentWindow.zenarioA.moduleCodeHash === zenarioA.moduleCodeHash\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe').contentWindow.zenarioCSSJSVersionNumber === window.zenarioCSSJSVersionNumber\n\t\t) {\n\t\t\tzenarioO.map = windowOpener.get('zenario_sk_iframe').contentWindow.zenarioO.map;\n\t\t\tzenarioO.lookForBranches(zenarioO.map);\n\t\t\tafter();\n\t\t\treturn;\n\t\t}\n\t} catch (e) {\n\t\t//Run the code below if something went wrong\n\t}\n\t\n\t\n\tvar store, url = URLBasePath + 'zenario/admin/organizer.ajax.php';\n\t\n\t//zenario.ajax(url, post, json, useCache, retry, continueAnyway, settings, timeout, AJAXErrorHandler, onRetry, onCancel)\n\tzenario.ajax(url, false, true, true, true, true).after(function (data) {\n\t\tzenarioO.map = data;\n\t\tzenarioO.lookForBranches(zenarioO.map);\n\t\tafter();\n\t});\n};\n\n\nzenarioO.init2 = function() {\n\t\n\tzenarioA.tooltips();\n\t\n\t\n\tzenarioO.setNavigation();\n\tzenarioO.setTopRightButtons();\n\t\n\tif (zenarioT.canDoHTML5Upload()) {\n\t\tget('organizer_rightColumn').addEventListener('dragover', function() {\n\t\t\t$('#organizer_rightColumn').addClass('dragover');\n\t\t}, false);\n\t\tget('organizer_rightColumn').addEventListener('dragleave', function() {\n\t\t\t$('#organizer_rightColumn').removeClass('dragover');\n\t\t}, false);\n\t}\n\t\n\tif (zenarioO.checkQueue()) {\n\t\t//if (window.console && typeof console.groupEnd == 'function') console.groupEnd();\n\t\treturn;\n\t\n\t} else if (!zenarioA.openedInIframe) {\n\t\tzenarioO.go();\n\t\t//if (window.console && typeof console.groupEnd == 'function') console.groupEnd();\n\t}\n};\n\n\n\nzenarioO.prefs = {};\nzenarioO.prefsChecksum = '{}';\nzenarioO.previousPrefChecksums = {'{}': true};\n\n//Update the current admin's Organizer preferences from the server to the client if needed.\nzenarioO.checkPrefs = function() {\n\t\n\t//Check a checksum of the prefs as stored on the server.\n\tvar prefs,\n\t\turl = URLBasePath + 'zenario/admin/quick_ajax.php?_manage_prefs=1',\n\t\tserverChecksum = zenario.nonAsyncAJAX(url + '&_get_checksum=1', true, false);\n\t\n\t//If this doesn't match the checksum on the client attempt to load in the new value.\n\t//(If there wasn't anything on the server, if it was corrupt, or we know that\n\t//the server's was an old copy, then keep the client's current copy.)\n\tif (serverChecksum && serverChecksum != zenarioO.prefsChecksum && !zenarioO.previousPrefChecksums[serverChecksum]) {\n\t\tif ((prefs = zenario.nonAsyncAJAX(url + '&_load_prefs=1', true, true)) && (prefs)) {\n\t\t\tzenarioO.prefs = prefs;\n\t\t\tzenarioO.previousPrefChecksums[zenarioO.prefsChecksum = serverChecksum] = true;\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\treturn true;\n};\n\n//Save the current admin's Organizer preferences from the client to the server.\nzenarioO.savePrefs = function(sync) {\n\t\n\tvar request = {\n\t\t_manage_prefs: 1,\n\t\t_save_prefs: 1,\n\t\tprefs: JSON.stringify(zenarioO.prefs)};\n\t\n\t//We'll generate a new checksum so that others can tell that this is a change.\n\t//We'll also remember the checksum to try and prevent accidentally loading an old checksum due to any race conditions.\n\tzenarioO.previousPrefChecksums[zenarioO.prefsChecksum = request.checksum = hex_md5(request.prefs)] = true;\n\t\n\t$.ajax({\n\t\ttype: 'POST',\n\t\tasync: !sync,\n\t\tdataType: 'text',\n\t\turl: URLBasePath + 'zenario/admin/quick_ajax.php',\n\t\tdata: request,\n\t\tsuccess: function(message) {\n\t\t\tif (message) {\n\t\t\t\tzenarioA.showMessage(message);\n\t\t\t}\n\t\t}\n\t});\n};\n\n\nzenarioO.shortenPath = function(path) {\n\t//path = ('/' + path + '/').replace(\n\t//\t/\\/panel\\//g, '/').replace(\n\t//\t/\\/panels\\//g, '/').replace(\n\t//\t/\\/refiners\\//g, '/').replace(\n\t//\t/\\/nav\\//g, '/').replace(\n\t//\t/\\/collection_buttons\\//g, '/').replace(\n\t//\t/\\/item_buttons\\//g, '/').replace(\n\t//\t/\\/inline_buttons\\//g, '/').replace(\n\t//\t/\\/hidden_nav\\//g, '/').replace(\n\t//\t/\\/items\\//g, '/');\n\t//\n\t//return path.substr(1, path.length-2);\n\treturn path;\n};\n\n\nzenarioO.implodeKeys = function(input) {\n\tvar output = '';\n\t\n\tforeach (input as var i) {\n\t\toutput += (output? ',' : '') + i;\n\t}\n\t\n\treturn output;\n};\n\n\nzenarioO.getPanelType = function(path) {\n\t\n\tif (path = path || zenarioO.path) {\n\t\t\n\t\tvar panelType = zenarioO.followPathOnMap(path, 'panel_type');\n\t\n\t\tif (panelType && zenarioO.panelTypes[panelType]) {\n\t\t\treturn panelType;\n\t\t}\n\t}\n\t\n\treturn 'list';\n};\n\n\nzenarioO.initNewPanelInstance = function(path, refiner) {\n\tvar panelType = zenarioO.getPanelType(path),\n\t\tpanelInstance = new zenarioO.panelTypes[panelType]();\n\t\n\tpanelInstance.panelType = panelType;\n\tpanelInstance.cmsSetsPath(path);\n\tpanelInstance.cmsSetsRefiner(refiner);\n\tpanelInstance.init();\n\t\n\treturn panelInstance;\n};\n\n\n//Go to a series of locations in turn\nzenarioO.checkQueue = function(sameLoad) {\n\tvar len;\n\tif (len = zenarioO.checkQueueLength()) {\n\t\tvar ids = '',\n\t\t\tpanelType, panelInstance,\n\t\t\tqueued = window.zenarioOQueue.shift();\n\t\t\n\t\t//Should any items be selected at this point?\n\t\tif (queued.selectedItems) {\n\t\t\tids = zenarioO.implodeKeys(queued.selectedItems);\n\t\t\t\n\t\t\tif (queued.refinerName) {\n\t\t\t\tqueued.refiner = {name: queued.refinerName, id: ids};\n\t\t\t}\n\t\t\t\n\t\t\t//Normally we'd wait until the zenarioO.go() function to set up the panel instance,\n\t\t\t//but if we have any selected items to record then we'll need to initialise it now\n\t\t\t//in order to record them.\n\t\t\t//So if the panel instance was not loaded previously, create a new one.\n\t\t\tif (!zenarioO.pi\n\t\t\t || !zenarioO.branches[zenarioO.branches.length-1].panel_instances[zenarioO.path]) {\n\t\t\t\t\n\t\t\t\tzenarioO.pi =\n\t\t\t\tzenarioO.branches[zenarioO.branches.length-1].panel_instances[zenarioO.path] =\n\t\t\t\t\tzenarioO.initNewPanelInstance(zenarioO.path, queued.refiner);\n\t\t\t}\n\t\t\t\n\t\t\t//Record the items that were selected on this panel\n\t\t\tzenarioO.pi.cmsSetsSelectedItems(queued.selectedItems);\n\t\t\t\n\t\t\t//zenarioO.pi.selectedItems = queued.selectedItems;\n\t\t\t//zenarioO.saveSelection(true);\n\t\t\n\t\t} else {\n\t\t\tif (queued.refinerName) {\n\t\t\t\tqueued.refiner = {name: queued.refinerName, id: ids};\n\t\t\t}\n\t\t}\n\t\t\n\t\t//zenarioO.go(path, branch, refiner, queued, lastInQueue, backwards, dontUseCache, itemToSelect, sameLoad, runFunctionAfter, periodic, inCloseUpView, searchTerm) {\n\n\t\tzenarioO.go(queued.path, queued.branch, queued.refiner, true, !--len, undefined, undefined, undefined, sameLoad, undefined, undefined, undefined, queued.searchTerm, queued.filters);\n\t\t\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nzenarioO.checkQueueLength = function() {\n\tif (!window.zenarioOQueue) {\n\t\treturn 0;\n\t} else {\n\t\treturn window.zenarioOQueue.length;\n\t}\n};\n\n//If a Plugin Nest opened this Organizer Window, refresh that nest\nzenarioO.reloadOpeningInstanceIfRelevant = function(path) {\n\t\n\ttry {\n\t\n\t\tvar parent,\n\t\t\treload,\n\t\t\ti, instanceIds, instanceId, instance, instances;\n\t\n\t\tif (windowOpener && windowOpener.zenario) {\n\t\t\tparent = windowOpener;\n\n\t\t} else if (windowParent && windowParent.zenario) {\n\t\t\tparent = windowParent;\n\t\t}\n\t\n\t\tif (parent && !zenarioO.checkQueueLength()) {\n\t\t\n\t\t\n\t\t\tif (reload = window.zenarioOReloadOnChanges == 'zenarioO'\n\t\t\t && parent.zenarioO\n\t\t\t && parent.zenarioO.reload) {\n\t\t\t\treload();\n\t\t\t}\n\t\t\n\t\t\tif (reload = window.zenarioOReloadOnChanges == 'zenarioAT'\n\t\t\t && parent.zenarioAT\n\t\t\t && parent.zenarioAT.init) {\n\t\t\t\treload();\n\t\t\t}\n\t\t\n\t\t\tif ((instanceIds = window.zenarioOOpeningInstance)\n\t\t\t && (instances = parent.zenario.instances)) {\n\t\t\t\n\t\t\t\tinstanceIds = instanceIds.split(',');\n\t\t\t\tforeach (instanceIds as i => instanceId) {\n\t\t\t\t\tif (instance = instances[instanceId]) {\n\t\t\t\t\t\tzenario.refreshSlot(instance.slotName, zenarioA.importantGetRequests);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t} catch (e) {\n\t\t//A rare bug in Chrome sometimes causes a cross-origin error,\n\t\t//ignore this and continue without reloading if it happens\n\t\tif (defined(console) && console.error) {\n\t\t\tconsole.error(e.message, e);\n\t\t}\n\t}\n};\n\n\n\nzenarioO.callPanelOnUnload = function() {\n\t//If there is already a panel being displayed, attempt to call it's onUnload function\n\tif (zenarioO.path\n\t && zenarioO.pi\n\t && zenarioO.pi.onUnload) {\n\t\tvar $header = zenarioO.getHeader(),\n\t\t\t$panel = zenarioO.getPanel(),\n\t\t\t$footer = zenarioO.getFooter();\n\t\tzenarioO.pi.onUnload($header, $panel, $footer);\n\t}\n};\n\nzenarioO.pathNotAllowed = function(link) {\n\treturn link && window.zenarioONotFull && window.zenarioOMaxPath !== false && zenarioO.path == window.zenarioOMaxPath && link.path != zenarioO.path;\n};\n\n\nzenarioO.parseNavigationPath = function(pathAndItem, len, includeSelectedItem) {\n\t\n\tif (_.isString(pathAndItem)) {\n\t\tpathAndItem = pathAndItem.split('//'),\n\t\tlen = pathAndItem.length;\n\t}\n\t\n\tif (len <= 2) {\n\t\tqueue = [{path: pathAndItem[0], branch: -1}];\n\t\n\t} else {\n\t\t\n\t\t//Try and parse the path to work out where this should be\n\t\tvar lastLink, p, link, combinedPath, selectedItems, refinerId, refinerName, linkTo, queue;\n\t\t\n\t\tfor (p = 0; p < len-1; p += 2) {\n\t\t\t\n\t\t\t//Navigate to the start of the branch\n\t\t\tif (p == 0) {\n\t\t\t\tlink = zenarioO.getFromToFromLink(pathAndItem[0]);\n\t\t\t\tqueue = [{path: link.from, branch: -1}];\n\t\t\t\n\t\t\t} else {\n\t\t\t\tif (pathAndItem[p].substr(0, 1) == '/') {\n\t\t\t\t\tcombinedPath = pathAndItem[p].substr(1);\n\t\t\t\t} else {\n\t\t\t\t\tcombinedPath = lastLink.to + '/' + pathAndItem[p];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlink = zenarioO.getFromToFromLink(combinedPath);\n\t\t\t\t\n\t\t\t\tif (lastLink.to != link.from) {\n\t\t\t\t\tqueue.push({path: link.from});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//Select any items \n\t\t\tselectedItems = {};\n\t\t\tif (pathAndItem[p + 1]) {\n\t\t\t\tselectedItems = zenarioT.csvToObject(pathAndItem[p + 1]);\n\t\t\t}\n\t\t\t\n\t\t\t//Look for any refiners\n\t\t\trefinerId = false,\n\t\t\trefinerName = false;\n\t\t\tif (link.refiner) {\n\t\t\t\trefinerName = link.refiner;\n\t\t\t\trefinerId = pathAndItem[p + 1];\n\t\t\t}\n\t\t\t\n\t\t\tlinkTo = link.to;\n\t\t\t\n\t\t\tif (!linkTo) {\n\t\t\t\tzenarioA.showMessage('The requested path \"' + pathAndItem.join('//') + '\" was not found in the system. If you have just updated or added files to the CMS, you will need to reload the page.', undefined, 'error', false, true);\n\t\t\t\treturn false;\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t//Select an item on the last panel, if asked for\n\t\t\tif (includeSelectedItem && p+2 == len-1) {\n\t\t\t\tlinkTo += '//' + pathAndItem[p+2];\n\t\t\t}\n\t\t\t\n\t\t\t//Do the branch\n\t\t\tqueue.push({path: linkTo, branch: true, selectedItems: selectedItems, refinerId: refinerId, refinerName: refinerName});\n\t\t\t\n\t\t\tlastLink = link;\n\t\t}\n\t}\n\t\n\treturn queue;\n};\n\nzenarioO.convertNavPathToTagPathAndRefiners = function(path) {\n\t\n\tvar queue, i, link,\n\t\tout = {path: '', request: {}};\n\t\n\tif (queue = zenarioO.parseNavigationPath(path)) {\n\t\t\n\t\tfor (i = 0; i < queue.length; ++i) {\n\t\t\tlink = queue[i];\n\t\t\t\n\t\t\tout.path = link.path;\n\t\t\t\n\t\t\tif (link.refinerName) {\n\t\t\t\tout.request['refiner__' + link.refinerName] =\n\t\t\t\tout.request.refinerId =\n\t\t\t\t\tlink.refinerId;\n\t\t\t\tout.request.refinerName =\n\t\t\t\t\tlink.refinerName;\n\t\t\t\n\t\t\t} else {\n\t\t\t\tdelete out.request.refinerId;\n\t\t\t\tdelete out.request.refinerName;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn out;\n\t\t\n\t} else {\n\t\treturn false;\n\t}\n};\n\nzenarioO.convertNavPathToTagPath = function(path) {\n\tvar queue;\n\t\n\tif (zenarioO.map\n\t && path.indexOf('//') != -1\n\t && (queue = zenarioO.parseNavigationPath(path))) {\n\t\treturn queue[queue.length - 1];\n\t\n\t} else {\n\t\treturn {path: path};\n\t}\n};\n\n\nvar escapeStateString = function(string, isJSON) {\n\t\t\n\t\tif (isJSON) {\n\t\t\tstring = decodeURI(encodeURIComponent(JSON.stringify(string)));\n\t\t} else {\n\t\t\tstring = encodeURIComponent(string);\n\t\t}\n\t\n\t\treturn string.replace(/'/g, \"'1\").replace(/~/g, \"'2\");\n\t},\n\tunescapeStateString = function(string, isJSON) {\n\t\t\n\t\tstring = string.replace(/'2/g, \"~\").replace(/'1/g, \"'\");\n\t\t\n\t\tif (isJSON) {\n\t\t\treturn JSON.parse(decodeURIComponent(string));\n\t\t} else {\n\t\t\treturn decodeURIComponent(string);\n\t\t}\n\t},\n\tgetStateFromPath = function(path, code, out, isJSON) {\n\n\t\tvar varFromHash,\n\t\t\tpos = path.indexOf(code);\n\t\n\t\tif (pos != -1) {\n\t\t\tvarFromHash = path.substr(pos + 2);\n\t\t\tout.path = path.substr(0, pos);\n\t\n\t\t\ttry {\n\t\t\t\tout.info = unescapeStateString(varFromHash, isJSON);\n\t\t\t} catch(e) {\n\t\t\t\tout.info = undefined;\n\t\t\t}\n\t\t\n\t\t\treturn true;\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\n//Get a list of columns that are currently being displayed (i.e. they are not hidden by either the dev or the current user)\n//in the order in which they've been sorted.\nzenarioO.showableColumns = function() {\n\t\n\tvar colNo, c, cols = [];\n\t\n\tforeach (zenarioO.sortedColumns as colNo => c) {\n\t\tif (zenarioO.isShowableColumn(c, true)) {\n\t\t\tcols.push(c);\n\t\t}\n\t}\n\t\n\treturn cols;\n};\n\n//Request a CSV export of the current view/panel.\nzenarioO.exportPanelAsCSV = function() {\n\tvar url = zenarioO.getAJAXURL(10000);\n\t\n\tif (url) {\n\t\tzenarioA.doDownload(url, {\n\t\t\t_export: 1,\n\t\t\t_csvExport: 1,\n\t\t\t_exportCols: zenarioO.showableColumns().join(',')\n\t\t});\n\t}\n\t\n\t//Calling the zenarioO.getAJAXURL() function to get the current URL messes up a few variables,\n\t//which can cause a lot of strange errors later if the user continues to interact with the panel,\n\t//so as a quick hack to fix all of these problems I'm triggering a cached-reload\n\tzenarioO.reload(false, true);\n};\n\n//Request an Excel export of the current view/panel.\nzenarioO.exportPanelAsExcel = function() {\n\tvar url = zenarioO.getAJAXURL(10000);\n\t\n\tif (url) {\n\t\tzenarioA.doDownload(url, {\n\t\t\t_export: 1,\n\t\t\t_excelExport: 1,\n\t\t\t_exportCols: zenarioO.showableColumns().join(',')\n\t\t});\n\t}\n\t\n\t//Calling the zenarioO.getAJAXURL() function to get the current URL messes up a few variables,\n\t//which can cause a lot of strange errors later if the user continues to interact with the panel,\n\t//so as a quick hack to fix all of these problems I'm triggering a cached-reload\n\tzenarioO.reload(false, true);\n};\n\n\n\n//Get the URL as used by the go() function, without actually sending the AJAX request.\nzenarioO.getAJAXURL = function(thisPageSize) {\n\treturn zenarioO.go(zenarioO.path, undefined, undefined, undefined, undefined, undefined, false, undefined, undefined, undefined, false, false, undefined, undefined, true, thisPageSize);\n};\n\n\n//Go to a location\nzenarioO.goNum = 0;\nzenarioO.loadNum = 0;\nzenarioO.lastSuccessfulGoNum = 0;\nzenarioO.go = function(path, branch, refiner, queued, lastInQueue, backwards, dontUseCache, itemToSelect, sameLoad, runFunctionAfter, periodic, inCloseUpView, searchTerm, filters, returnURL, thisPageSize) {\n\t\n\tif (!periodic) {\n\t\tzenarioO.lastActivity = Date.now();\n\t}\n\t\n\tif (!zenarioA.isFullOrganizerWindow && !zenarioA.checkIfBoxIsOpen('og')) {\n\t\treturn;\n\t}\n\t\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\t//If the map has not yet loaded, wait until it has!\n\tif (!zenarioO.map\n\t || !zenarioO.initRun) {\n\t\tif (!window.zenarioONotFull) {\n\t\t\twindow.zenarioOQueue = [{path: path, branch: -1}];\n\t\t}\n\t\treturn;\n\t}\n\t\n\t//For the min/max/target paths, automatically convert any navigation paths to tag paths\n\tif (window.zenarioOCheckPaths) {\n\t\tdelete window.zenarioOCheckPaths;\n\t\t\n\t\tif (window.zenarioOTargetPath) {\n\t\t\twindow.zenarioOTargetPath = zenarioO.convertNavPathToTagPath(window.zenarioOTargetPath).path;\n\t\t}\n\t\tif (window.zenarioOMinPath) {\n\t\t\twindow.zenarioOMinPath = zenarioO.convertNavPathToTagPath(window.zenarioOMinPath).path;\n\t\t}\n\t\tif (window.zenarioOMaxPath && engToBoolean(window.zenarioOMaxPath)) {\n\t\t\twindow.zenarioOMaxPath = zenarioO.convertNavPathToTagPath(window.zenarioOMaxPath).path;\n\t\t}\n\t}\n\t\n\tif (!returnURL) {\n\t\tzenarioO.callPanelOnUnload();\n\t}\n\t\n\t\n\tif (!queued) {\n\t\twindow.zenarioOQueue = false;\n\t}\n\t\n\t//Look for searches/filters passed in the URL\n\tvar requestedPath,\n\t\tfabPath,\n\t\tfabKey,\n\t\tfabTab,\n\t\tout = {};\n\t\n\tif (defined(path)) {\n\t\t\n\t\tif (getStateFromPath(path, '~k', out, true)) {\n\t\t\tpath = out.path;\n\t\t\tfabKey = out.info;\n\t\t}\n\t\tif (getStateFromPath(path, '~t', out)) {\n\t\t\tpath = out.path;\n\t\t\tfabTab = out.info;\n\t\t}\n\t\tif (getStateFromPath(path, '~.', out)) {\n\t\t\tpath = out.path;\n\t\t\tfabPath = out.info;\n\t\t}\n\t\tif (getStateFromPath(path, '~_', out, true)) {\n\t\t\tpath = out.path;\n\t\t\tfilters = out.info;\n\t\t}\n\t\tif (getStateFromPath(path, '~-', out)) {\n\t\t\tpath = out.path;\n\t\t\tsearchTerm = out.info;\n\t\t}\n\t\t\n\t\tif (fabPath && !zenarioAB.isOpen) {\n\t\t\tzenarioAB.open(fabPath, fabKey, fabTab);\n\t\t}\n\t}\n\t\n\t\n\trequestedPath = path;\n\t\n\tif (path) {\n\t\t\n\t\tvar pathAndItem = path.split('//'),\n\t\t\tlen = pathAndItem.length,\n\t\t\tqueue;\n\t\t\n\t\t//Is there any deeplinking in the path?\n\t\tif (len > 2) {\n\t\t\t//Ignore the itemToSelect parameter if it was set\n\t\t\titemToSelect = undefined;\n\t\t\tinCloseUpView = false;\n\t\t\t\n\t\t\tif (!(queue = zenarioO.parseNavigationPath(pathAndItem, len, true))) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t//If we saw a search term and/or filters in the hash, remember them for the last panel.\n\t\t\t//(We don't remember any searches/filters on parent panels in the branches, just the current/deepest one.)\n\t\t\tif (defined(searchTerm)) {\n\t\t\t\tqueue[queue.length - 1].searchTerm = searchTerm;\n\t\t\t}\n\t\t\tif (defined(filters)) {\n\t\t\t\tqueue[queue.length - 1].filters = filters;\n\t\t\t}\n\t\t\t\n\t\t\twindow.zenarioOQueue = queue;\n\t\t\tzenarioO.checkQueue(true);\n\t\t\treturn;\n\t\t\n\t\t//Is an item requested in the path?\n\t\t} else if (len == 2) {\n\t\t\t//Ignore the itemToSelect parameter if it was set\n\t\t\titemToSelect = undefined;\n\t\t\tinCloseUpView = false;\n\t\t\t\n\t\t\t//Get the tag-path from the item and path\n\t\t\tpath = pathAndItem[0];\n\t\t\t\n\t\t\t//Check there are no commas in the id of the selected item,\n\t\t\t//and try and get the item id from the item and path\n\t\t\tif ((pathAndItem[1].indexOf(',') == -1)\n\t\t\t && (itemToSelect = pathAndItem[1])) {\n\t\t\t\t//Look for a single slash after the item - this should indicate closeup view\n\t\t\t\tvar len = itemToSelect.length - 1;\n\t\t\t\tif (itemToSelect.substr(len) == '/') {\n\t\t\t\t\titemToSelect = itemToSelect.substr(0, len);\n\t\t\t\t\tinCloseUpView = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t//Otherwise we'll use the itemToSelect input, and select that item after the jump if possible\n\t\t} else {\n\t\t\tif (!itemToSelect) {\n\t\t\t\tinCloseUpView = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tpath = zenarioO.shortenPath(path);\n\t}\n\t\n\t//If a path has not been set, go to the initial panel\n\tif (!path) {\n\t\tpath = window.zenarioONotFull? zenarioO.defaultPathInIframePreload : zenarioO.defaultPath;\n\t\tinCloseUpView = false;\n\t}\n\t\n\tif (!zenarioO.followPathOnMap(path)) {\n\t\t//add some debug information here\n\t\tzenarioA.showMessage('The requested path \"' + requestedPath + '\" was not found in the system. If you have just updated or added files to the CMS, you will need to reload the page.', undefined, 'error', false, true);\n\t\treturn false;\n\t}\n\t\n\t\n\t//Number each request that is made, so we can tell which ones are outdated\n\tvar goNum = ++zenarioO.goNum;\n\t\n\tif (!sameLoad) {\n\t\t++zenarioO.loadNum;\n\t}\n\t\n\t\n\tvar panelInstance = false,\n\t\tadvancedValues = false,\n\t\tpreviousRefiner = false;\n\t\n\tif (!defined(filters)) {\n\t\tfilters = zenarioO.loadFromBranches(path, branch, 'filters');\n\t}\n\t\n\tif (!defined(searchTerm)) {\n\t\tsearchTerm = zenarioO.loadFromBranches(path, branch, 'searches');\n\t}\n\n\t\n\t//Check to see if a refiner is set\n\tif (!defined(refiner)) {\n\t\trefiner = zenarioO.loadRefiner(path, branch);\n\t}\n\t\n\t//If this panel requires a refiner but none has been set, don't attempt to show it and go to the panel above instead.\n\tif (!refiner && engToBoolean(zenarioO.followPathOnMap(path, 'refiner_required'))) {\n\t\tzenarioA.showMessage('A refiner was required, but none was set.', true, 'error');\n\t\treturn;\n\t}\n\t\n\t//Attempt to find the refiner used on the panel before this one, if there was one\n\tvar rememberRefiner,\n\t\tlastRefinerName,\n\t\tlastRefiners = {},\n\t\tbranches = zenarioO.branches.length - 1,\n\t\tb;\n\t\n\t//If we're resetting all branches, there will be no previous refiner and no need to load the panel instance\n\tif (branch !== -1) {\n\t\t//Try to retrieve the panel instance\n\t\tpanelInstance = zenarioO.loadFromBranches(path, branch, 'panel_instances');\n\t\t\n\t\t//Get the refiners on each of the branches that we've previously followed\n\t\tfor (b = 0; b < branches; ++b) {\n\t\t\trememberRefiner = zenarioO.branches[b].refiners[zenarioO.branches[b+1].from];\n\t\t\tif (rememberRefiner) {\n\t\t\t\tlastRefiners['refiner__' + (lastRefinerName = rememberRefiner.name)] = rememberRefiner.id;\n\t\t\t}\n\t\t}\n\t\t\n\t\t//If we're branching with this link, get the refiner on the current panel\n\t\t//if (branch) {\n\t\t\trememberRefiner = zenarioO.branches[branches].refiners[zenarioO.path];\n\t\t\tif (rememberRefiner) {\n\t\t\t\tlastRefiners['refiner__' + (lastRefinerName = rememberRefiner.name)] = rememberRefiner.id;\n\t\t\t}\n\t\t//}\n\t\t\n\t\t//Add the current refiner, if there is one\n\t\tif (refiner) {\n\t\t\tlastRefiners['refiner__' + refiner.name] = refiner.id;\n\t\t}\n\t}\n\t\n\t//If the panel instance was not loaded previously, create a new one.\n\tif (!panelInstance) {\n\t\tpanelInstance = zenarioO.initNewPanelInstance(path, refiner);\n\t} else {\n\t\tpanelInstance.cmsSetsPath(path);\n\t\tpanelInstance.cmsSetsRefiner(refiner);\n\t}\n\t\n\t\n\tvar defaultSortColumn = zenarioO.followPathOnMap(path, 'default_sort_column');\n\tif (!defaultSortColumn) {\n\t\tdefaultSortColumn = 'name';\n\t}\n\t\n\t//Load the TUIX of this panel from the \"map\". The map is a static version of all of the TUIX files\n\t//that make up Organizer.\n\t//To keep the inital download size small when first opening Organizer, maybe properties are trimmed\n\t//from the map to save space.  The ze\\tuix::parse() function controls the logic for which tags are not trimmed.\n\tvar panel = zenarioO.followPathOnMap(path);\n\t\n\t//Let the panel instance know about the TUIX properties from the map\n\tpanelInstance.cmsSetsPanelTUIX(panel);\n\t\n\t//Let the panel instance know which item was selected\n\tpanelInstance.cmsSetsRequestedItem(itemToSelect);\n\t\n\t//Let the panel instance know what the search term was\n\tpanelInstance.cmsSetsSearchTerm(searchTerm);\n \t\n \t//Check to see if there were any filters previously set on this panel\n\tif (filters && !_.isEmpty(filters)) {\n\t\t//If so, use them\n\t\tfilters = zenario.clone(filters);\n\t\n\t} else {\n\t\t//Otherwise start with empty filters\n\t\tfilters = {};\n\t}\n\t\n\t//Look through the filters on this page, checking to see if any have been set.\n\t//If any are not set them strip them away as we don't need any junk data.\n\tforeach (filters as var c => var filter) {\n\t\tif (zenarioO.filterSetOnColumn(c, filters)) {\n\t\t\t\n\t\t\t\n\t\t\t//A couple of little hacks to save space here:\n\t\t\t\t//There's no difference between {not: false} and {not: undefined} so we can delete \"not\" if it is false\n\t\t\t\t//Also \"not\" and \"show\" is used a as a boolean, so we can convert {s: true} to {s: 1} and {s: false} to {s: 0}\n\t\t\tif (defined(filter.not)) {\n\t\t\t\tif (!filter.not) {\n\t\t\t\t\tdelete filter.not;\n\t\t\t\t} else {\n\t\t\t\t\tfilter.not = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defined(filter.s)) {\n\t\t\t\tfilter.s = engToBoolean(filter.s);\n\t\t\t}\n\t\t\t\n\t\t//However leave an empty object so we can tell the different between specifically turning something off,\n\t\t//and something that was never turned on\n\t\t} else if (filters[c]) {\n\t\t\tfilters[c] = {};\n\t\t}\n\t}\n\t\n\tif (!defined(thisPageSize)) {\n\t\tthisPageSize = 1*panelInstance.returnPageSize();\n\t}\n\t\n\tvar db_items = panel.db_items,\n\t\treorder = panel.reorder,\n\t\tserver_side = panelInstance.returnDoSortingAndSearchingOnServer(),\n\t\turl = panelInstance.returnAJAXURL(),\n\t\tdevToolsURL = panelInstance.returnDevToolsAJAXURL(),\n\t\trequests = {},\n\t\tdata = false,\n\t\tstore,\n\t\tgo2 = function(data) {\n\t\t\tzenarioO.go2(path, url, devToolsURL, requests, branch, goNum, defaultSortColumn, thisPageSize, inCloseUpView, itemToSelect, panelInstance, searchTerm, filters, refiner, lastRefinerName, lastRefiners, server_side, backwards, runFunctionAfter, data);\n\t\t};\n\t\n\tif (url) {\n\t\tif (window.zenarioONotFull) {\n\t\t\tif (window.zenarioOSelectMode) {\n\t\t\t\turl += '&_select_mode=1';\n\t\t\t} else if (window.zenarioOQuickMode) {\n\t\t\t\turl += '&_quick_mode=1';\n\t\t\t}\n\t\t}\n\t\t\n\t\tzenarioO.addWindowParentInfo(requests);\n\t\n\t\tif (queued && !lastInQueue) {\n\t\t\trequests._queued = 1;\n\t\t}\n\t\n\t\tif (defined(refiner)) {\n\t\t\trequests.refinerId = refiner.id;\n\t\t\trequests.refinerName = refiner.name;\n\t\t\n\t\t\tif (refiner.languageId) {\n\t\t\t\trequests.languageId = refiner.languageId;\n\t\t\t}\n\t\t}\n\t\n\t\tif (window.zenarioOCombineItem) {\n\t\t\trequests._combineItem = window.zenarioOCombineItem;\n\t\t}\n\t\n\t\tforeach (lastRefiners as var f) {\n\t\t\trequests[f] = lastRefiners[f];\n\t\t}\n\t\n\t\t//Pagination logic\n\t\tif (server_side || zenarioO.CSVExport) {\n\t\t\tif (thisPageSize) {\n\t\t\t\trequests._limit = thisPageSize;\n\t\t\n\t\t\t\tif (zenarioO.refreshToPage) {\n\t\t\t\t\trequests._start = (zenarioO.refreshToPage-1) * thisPageSize;\n\t\t\t\t} else {\n\t\t\t\t\trequests._start = 0;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (itemToSelect) {\n\t\t\t\t\trequests._item = itemToSelect;\n\t\t\n\t\t\t\t//Try to get the previously selected item from the previous panel, if there was one\n\t\t\t\t} else if (backwards) {\n\t\t\t\t\tvar requestItem;\n\t\t\t\n\t\t\t\t\tif (typeof backwards == 'object' && backwards.selectedItemFromLastPanel) {\n\t\t\t\t\t\trequests._item = backwards.selectedItemFromLastPanel;\n\t\t\t\t\t} else if (requestItem = zenarioO.getSelectedItemFromLastPanel(path)) {\n\t\t\t\t\t\trequests._item = requestItem;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t//Work out which column to sort on\n\t\t\t//Sort by the reorder column if we're reordering\n\t\t\tif (reorder && reorder.column) {\n\t\t\t\trequests._sort_col = reorder.column;\n\t\t\n\t\t\t//Look up the user's choice of sort column\n\t\t\t} else if (zenarioO.prefs[path] && zenarioO.prefs[path].sortBy) {\n\t\t\t\trequests._sort_col = zenarioO.prefs[path].sortBy;\n\t\t\t\trequests._sort_desc = zenarioO.prefs[path].sortDesc? 1 : 0;\n\t\t\n\t\t\t//Otherwise sort by the default sort column\n\t\t\t} else {\n\t\t\t\trequests._sort_col = defaultSortColumn;\n\t\t\t\trequests._sort_desc = engToBoolean(zenarioO.followPathOnMap(path, 'default_sort_desc'));\n\t\t\t}\n\t\t}\n\t\t\n\t\t//Send the values of any filters\n\t\tif (filters && !_.isEmpty(filters)) {\n\t\t\trequests._filters = JSON.stringify(filters);\n\t\t}\n\t\n\t\tif (server_side || zenarioO.CSVExport) {\n\t\t\tif (defined(searchTerm)) {\n\t\t\t\trequests._search = searchTerm;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (returnURL) {\n\t\treturn url + zenario.urlRequest(requests);\n\t}\n\t\n\t//Disable the current panel/page from refreshing\n\tzenarioO.stopRefreshing();\n\t\n\tif (path != zenarioO.defaultPathInIframePreload) {\n\t\tget('organizer_preloader_circle').style.display = 'block';\n\t}\n\t\n\t//Refresh the opener, if needed\n\tif (defined(window.zenarioOFirstLoad)) {\n\t\tif (window.zenarioOFirstLoad) {\n\t\t\twindow.zenarioOFirstLoad = false;\n\t\t} else {\n\t\t\tzenarioO.reloadOpeningInstanceIfRelevant(path);\n\t\t}\n\t}\n\t\n\t//Allow the panel type to disable this AJAX request by returning false for the url\n\tif (!url) {\n\t\tgo2(panel);\n\t\n\t} else {\n\t\tzenario.ajax(url + zenario.urlRequest(requests), false, true, true, true, true).after(go2);\n\t}\n};\n\n\n\n//Tidy these long params up into an object..?\n\n//Part 2 of the go function, run when we've got the data back from the server\n\t//(Or run straight away if the server was never polled)\nzenarioO.go2 = function(path, url, devToolsURL, requests, branch, goNum, defaultSortColumn, thisPageSize, inCloseUpView, itemToSelect, panelInstance, searchTerm, filters, refiner, lastRefinerName, lastRefiners, server_side, backwards, runFunctionAfter, data) {\n\t\n\t//For debugging\n\tif (data\n\t && defined(data.comment)\n\t && window.console) {\n\t\tconsole.log(data.comment);\n\t}\n\t\n\tif (!zenarioA.isFullOrganizerWindow && !zenarioA.checkIfBoxIsOpen('og')) {\n\t\treturn;\n\t}\n\t\n\t//Check that this isn't an out-of-date request that has come in syncronously via AJAX\n\tif (goNum != zenarioO.goNum) {\n\t\treturn;\n\t}\n\t\n\tzenarioO.stopRefreshing();\n\t\n\t////If this is a different panel, scroll back up to the top\n\t//if (zenarioO.path != path || branch === true || branch === -1) {\n\t//\tzenarioO.scrollToPageTop = true;\n\t//}\n\t\n\tvar lastPath = zenarioO.path,\n\t\tlastTitle,\n\t\tnoReturnEnabled;\n\t\n\tif (zenarioO.tuix) {\n\t\t\n\t\tlastTitle = lastRefinerName && zenarioO.tuix.refiners && zenarioO.tuix.refiners[lastRefinerName] && zenarioO.tuix.refiners[lastRefinerName].title || zenarioO.tuix.title;\n\t\tnoReturnEnabled = engToBoolean(zenarioO.tuix.no_return);\n\t}\n\t\n\t//This variable is used by dev tools to load dev information on the last panel\n\tzenarioO.url = url + zenario.urlRequest(requests);\n\t\n\t//If a panel type has overridded the returnAJAXURL() function,\n\t//record what the output would have been so that we can still use the dev tools\n\tif (devToolsURL != url) {\n\t\tzenarioO.devToolsURL = devToolsURL + zenario.urlRequest(requests);\n\t} else {\n\t\tzenarioO.devToolsURL = undefined;\n\t}\n\t\n\t//This variable is used later to launch a second AJAX request, if we need to repeat\n\t//the same query with the same search/filters as before\n\tzenarioO.lastRequests = requests;\n\t\n\tzenarioO.path = path;\n\tzenarioO.defaultSortColumn = defaultSortColumn;\n\tzenarioO.thisPageSize = thisPageSize;\n\tzenarioO.server_side = server_side;\n\tzenarioO.inspectionView = inCloseUpView;\n\tzenarioO.inspectionViewItem = itemToSelect;\n\t\n\tif (!zenarioO.prefs[path]) {\n\t\tzenarioO.prefs[path] = {};\n\t}\n\t\n\t\n\t//Add functionality for multiple \"branches\"\n\tif (branch === -1) {\n\t\t//branch = -1 turns off all previously collected branches\n\t\tzenarioO.resetBranches();\n\t} else if (branch) {\n\t\t//branch = true turns this link into a new branch\n\t\tzenarioO.branch(path, lastPath, lastTitle, noReturnEnabled);\n\t}\n\t\t//Otherwise branch = undefined continues in the current branch\n\t\n\t\n\t//Save the instance to this part of the navigation so it can be loaded again if the admin\n\t//ever comes back to the panel.\n\tzenarioO.pi =\n\tzenarioO.branches[zenarioO.branches.length-1].panel_instances[zenarioO.path] =\n\t\tpanelInstance;\n\t\n\t//Save filters\n\tif (defined(data._filters)) {\n\t\tfilters = data._filters;\n\t\tdelete data._filters;\n\t}\n\tzenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path] = filters;\n\t//zenarioO.branches[zenarioO.branches.length-1].searches[zenarioO.path] = searchTerm;\n\tzenarioO.saveSearch(searchTerm);\n\t//zenarioO.searchTerm = searchTerm\n\t\n\t//Focus on this part of the map\n\tdelete zenarioO.tuix;\n\tzenarioO.tuix = data;\n\t\t//Backwards compatability for any old code\n\t\tzenarioO.focus = zenarioO.tuix;\t\n\t\n\tzenarioO.pi.cmsSetsPanelTUIX(zenarioO.tuix);\n\t\n\t\n\t//Setup filters\n\tzenarioO.filtersSet = false;\n\tzenarioO.filtersSetInViewOptions = false;\n\tforeach (filters as var c => var filter) {\n\t\tif (zenarioO.filterSetOnColumn(c, filters)) {\n\t\t\tzenarioO.filtersSet = true;\n\t\t\t\n\t\t\tif (zenarioO.canFilterColumn(c)) {\n\t\t\t\tzenarioO.filtersSetInViewOptions = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tzenarioO.markIfViewIsFiltered();\n\t\n\t\n\t\n\tzenarioO.saveRefiner(refiner);\n\tzenarioO.lastRefiners = lastRefiners;\n\t\n\t\n\t\n\t//Check if we have a column description, and set a default one if not\n\tif (!zenarioO.tuix.columns) {\n\t\tzenarioO.tuix.columns = {'name': {'title': 'Name'}};\n\t}\n\t\n\t\n\t//Handle preferences\n\t//Sort by the reorder column if we're reordering\n\tvar defaultSortColumn, reorder = zenarioO.followPathOnMap(path, 'reorder');\n\tif (reorder && reorder.column) {\n\t\tzenarioO.sortBy = reorder.column;\n\t\tzenarioO.sortDesc = false;\n\t\n\t//Look up the user's choice of search column\n\t} else if (zenarioO.prefs[path].sortBy && zenarioO.tuix.columns[zenarioO.prefs[path].sortBy]) {\n\t\tzenarioO.sortBy = zenarioO.prefs[path].sortBy;\n\t\tzenarioO.sortDesc = zenarioO.prefs[path].sortDesc;\n\t\n\t//Sort by the default sort column if this is defined\n\t} else if (defaultSortColumn = zenarioO.followPathOnMap(path, 'default_sort_column')) {\n\t\tzenarioO.sortBy = defaultSortColumn;\n\t\tzenarioO.sortDesc = engToBoolean(zenarioO.followPathOnMap(path, 'default_sort_desc'));\n\t\n\t//Otherwise sort by name by default\n\t} else {\n\t\tzenarioO.sortBy = zenarioO.defaultSortColumn;\n\t\tzenarioO.sortDesc = engToBoolean(zenarioO.followPathOnMap(path, 'default_sort_desc'));\n\t}\n\tzenarioO.pi.cmsSetsSortColumn(zenarioO.sortBy, zenarioO.sortDesc);\n\t\n\tzenarioO.sortedColumns = zenarioO.getSortedIdsOfTUIXElements('columns');\n\tzenarioO.sortedItemButtons = zenarioO.getSortedIdsOfTUIXElements('item_buttons');\n\tzenarioO.sortedInlineButtons = zenarioO.getSortedIdsOfTUIXElements('inline_buttons');\n\tzenarioO.sortedCollectionButtons = zenarioO.getSortedIdsOfTUIXElements('collection_buttons');\n\tzenarioO.sortedQuickFilterButtons = zenarioO.getSortedIdsOfTUIXElements('quick_filter_buttons');\n\t\n\t//Work out which columns should be shown\n\tzenarioO.shownColumns = zenarioO.getShownColumns(path, defaultSortColumn, zenarioO.tuix.columns);\n\t\n\t//Check if the Admin has a customised sort order on this Panel\n\tif (zenarioO.prefs[path].sortedColumns) {\n\t\t//Get an array-flip of their sorted columns, so we can look up each column's order\n\t\tvar existingSortedColumns = {};\n\t\tforeach (zenarioO.prefs[path].sortedColumns as var colNo) {\n\t\t\tvar c = zenarioO.prefs[path].sortedColumns[colNo];\n\t\t\texistingSortedColumns[c] = colNo;\n\t\t}\n\t\t\n\t\t//Loop through the columns in the current view...\n\t\tvar lastColName = false;\n\t\tforeach (zenarioO.sortedColumns as var colNo) {\n\t\t\tvar c = zenarioO.sortedColumns[colNo];\n\t\t\t\n\t\t\tif (zenarioO.isShowableColumn(c, false, true)) {\n\t\t\t\t//...checking to see if there are any newly added columns\n\t\t\t\tif (!defined(existingSortedColumns[c])) {\n\t\t\t\t\t//If so, attempt to find a new place for this column by looking at where the column before it was\n\t\t\t\t\tvar colPos = existingSortedColumns[lastColName];\n\t\t\t\t\t\n\t\t\t\t\tif (!defined(colPos)) {\n\t\t\t\t\t\tcolPos = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolPos = 1*colPos + 1;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Add the column in\n\t\t\t\t\tzenarioO.prefs[path].sortedColumns.splice(colPos, 0, c);\n\t\t\t\t\t\n\t\t\t\t\t//Update the array of placements\n\t\t\t\t\tforeach (existingSortedColumns as var d) {\n\t\t\t\t\t\tif (existingSortedColumns[d] >= colPos) {\n\t\t\t\t\t\t\t++existingSortedColumns[d]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\texistingSortedColumns[c] = colPos;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tlastColName = c;\n\t\t}\n\t\t\n\t\tzenarioO.sortedColumns = zenarioO.prefs[path].sortedColumns;\n\t}\n\t\n\t\n\t\n\tif (zenarioO.tuix.items && zenarioO.tuix.__item_count__ == 1 && engToBoolean(zenarioO.tuix.allow_bypass)) {\n\t\tzenarioO.branches[zenarioO.branches.length-1].bypasses[zenarioO.path] = true;\n\t} else {\n\t\tdelete zenarioO.branches[zenarioO.branches.length-1].bypasses[zenarioO.path];\n\t}\n\t\n\t\n\t//Check the queue to see if there are any more navigation commands queued after this destination. If so, run them, and stop processing this one\n\tif (zenarioO.checkQueue(true)) {\n\t\treturn;\n\t}\n\t\n\t//If there is only one item and \"allow_bypass\" is enabled, skip right past this panel\n\tif (zenarioO.tuix.items && zenarioO.tuix.__item_count__ == 1 && engToBoolean(zenarioO.tuix.allow_bypass)) {\n\t\tif (backwards) {\n\t\t\tif (zenarioO.getBackButtonTitle() !== false) {\n\t\t\t\tzenarioO.back();\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tvar link;\n\t\t\tif (zenarioO.tuix.items) {\n\t\t\t\tforeach (zenarioO.tuix.items as var id) {\n\t\t\t\t\tvar selectedItems = {};\n\t\t\t\t\tselectedItems[id] = true;\n\t\t\t\t\tzenarioO.pi.cmsSetsSelectedItems(selectedItems);\n\t\t\t\t\t//zenarioO.saveSelection();\n\t\t\t\t\t\n\t\t\t\t\tif (zenarioO.itemClickThroughAction(id)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t//If there are no items in this Panel and the return_if_empty flag is set, attempt to go back\n\t} else if ((!zenarioO.tuix.items || !zenarioO.tuix.__item_count__) && engToBoolean(zenarioO.tuix.return_if_empty)) {\n\t\tif (zenarioO.getBackButtonTitle() !== false) {\n\t\t\tzenarioO.back();\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\t\n\t//Look to see if there are any item_link type columns\n\tvar menuIds = {},\n\t\tcontentTags = {},\n\t\totherItemLinks = {},\n\t\tcTypes = {},\n\t\tvalue, values,\n\t\tcTypeAndId,\n\t\ti, c, col, path,\n\t\tlang, parent, url;\n\t\n\tforeach (zenarioO.tuix.columns as c => col) {\n\t\tif (zenarioO.isShowableColumn(c)) {\n\t\t\tif (path = col.item_link) {\n\t\t\t\tswitch (path) {\n\t\t\t\t\tcase 'content_item':\n\t\t\t\t\tcase 'content_item_or_url':\n\t\t\t\t\n\t\t\t\t\t\tforeach (zenarioO.tuix.items as i) {\n\t\t\t\t\t\t\tif (value = zenarioO.tuix.items[i][c]) {\n\t\t\t\t\t\t\t\tcTypeAndId = value.split('_');\n\t\t\t\t\t\t\t\tif (cTypeAndId[0]\n\t\t\t\t\t\t\t\t && cTypeAndId[0] != 'null'\n\t\t\t\t\t\t\t\t && cTypeAndId[0] === cTypeAndId[0].replace(/\\W/, '')\n\t\t\t\t\t\t\t\t && cTypeAndId[1]\n\t\t\t\t\t\t\t\t && cTypeAndId[1] == 1*cTypeAndId[1]) {\n\t\t\t\t\t\t\t\t\tlang = zenarioO.itemLanguage(i),\n\t\t\t\t\t\t\t\t\tparent = zenarioO.itemParent(i);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (!contentTags[lang]) {\n\t\t\t\t\t\t\t\t\t\tcontentTags[lang] = {};\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (!contentTags[lang][parent]) {\n\t\t\t\t\t\t\t\t\t\tcontentTags[lang][parent] = '';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcontentTags[lang][parent] += ',';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tcontentTags[lang][parent] += cTypeAndId[0] + '_' + cTypeAndId[1];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase 'menu_item':\n\t\t\t\t\t\tforeach (zenarioO.tuix.items as i) {\n\t\t\t\t\t\t\tif ((value = zenarioO.tuix.items[i][c])\n\t\t\t\t\t\t\t && (value == 1*value)) {\n\t\t\t\t\t\t\t\tlang = zenarioO.itemLanguage(i);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (!menuIds[lang]) {\n\t\t\t\t\t\t\t\t\tmenuIds[lang] = '';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmenuIds[lang] += ',';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tmenuIds[lang] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tforeach (zenarioO.tuix.items as i) {\n\t\t\t\t\t\t\tif (value = zenarioO.tuix.items[i][c]) {\n\t\t\t\t\t\t\t\tif (!otherItemLinks[path]) {\n\t\t\t\t\t\t\t\t\totherItemLinks[path] = '';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\totherItemLinks[path] += ',';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t\totherItemLinks[path] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t//Launch AJAX requests for each of the item links\n\t//As there may be more than one we'll launch them syncronously to save time\n\t//When all the requests have been completed we'll then proceed to the go3 function.\n\tzenarioO.contentItems = {};\n\tzenarioO.menuItems = {};\n\tzenarioO.otherItemLinks = {};\n\tzenarioO.itemLinkRequestsLeft = 0;\n\tzenarioO.shallowLinks = {'content_item': 'zenario__content/panels/content', 'content_item_or_url': 'zenario__content/panels/content', 'menu_item': 'zenario__menu/panels/menu_nodes'};\n\t\n\tforeach (contentTags as lang) {\n\t\tforeach (contentTags as parent) {\n\t\t\tif (contentTags[lang][parent]) {\n\t\t\t\n\t\t\t\tif (!zenarioO.contentItems[lang]) {\n\t\t\t\t\tzenarioO.contentItems[lang] = {}\n\t\t\t\t}\n\t\t\t\tif (!zenarioO.contentItems[lang][parent]) {\n\t\t\t\t\tzenarioO.contentItems[lang][parent] = {}\n\t\t\t\t}\n\t\t\t\n\t\t\t\turl =\n\t\t\t\t\tURLBasePath +\n\t\t\t\t\t'zenario/admin/organizer.ajax.php?path=' + zenarioO.shallowLinks['content_item'] +\n\t\t\t\t\t'&_get_item_links=' + contentTags[lang][parent] +\n\t\t\t\t\t'&languageId=' + encodeURIComponent(lang);\n\t\t\t\t\n\t\t\t\t//if (!(zenarioO.contentItems[lang][parent] = zenario.checkSessionStorage(url, {}, true, zenarioO.loadNum))) {\n\t\t\t\t\t++zenarioO.itemLinkRequestsLeft;\n\t\t\t\t\tzenarioO.getDataHack(url, lang, function(lang, data) {\n\t\t\t\t\t\tif (goNum == zenarioO.goNum) {\n\t\t\t\t\t\t\tzenarioO.contentItems[lang][parent] = data;\n\t\t\t\t\t\t\tif (!--zenarioO.itemLinkRequestsLeft) {\n\t\t\t\t\t\t\t\tzenarioO.go3(goNum, searchTerm, backwards, runFunctionAfter);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t//}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tforeach (menuIds as lang => values) {\n\t\tif (values) {\n\t\t\t\n\t\t\tif (!zenarioO.menuItems[lang]) {\n\t\t\t\tzenarioO.menuItems[lang] = {}\n\t\t\t}\n\t\t\t\n\t\t\turl =\n\t\t\t\tURLBasePath +\n\t\t\t\t'zenario/admin/organizer.ajax.php?path=' + zenarioO.shallowLinks['menu_item'] +\n\t\t\t\t'&_get_item_links=' + encodeURIComponent(values) +\n\t\t\t\t'&languageId=' + encodeURIComponent(lang) +\n\t\t\t\t'&refinerName=language' +\n\t\t\t\t'&refinerId=' + encodeURIComponent(lang) +\n\t\t\t\t'&refiner__language=' + encodeURIComponent(lang);\n\t\t\t\n\t\t\t//if (!(zenarioO.menuItems[lang] = zenario.checkSessionStorage(url, {}, true, zenarioO.loadNum))) {\n\t\t\t\t++zenarioO.itemLinkRequestsLeft;\n\t\t\t\tzenarioO.getDataHack(url, lang, function(lang, data) {\n\t\t\t\t\tif (goNum == zenarioO.goNum) {\n\t\t\t\t\t\tzenarioO.menuItems[lang] = data;\n\t\t\t\t\t\tif (!--zenarioO.itemLinkRequestsLeft) {\n\t\t\t\t\t\t\tzenarioO.go3(goNum, searchTerm, backwards, runFunctionAfter);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t//}\n\t\t}\n\t}\n\t\n\tforeach (otherItemLinks as path => values) {\n\t\tif (values) {\n\t\t\t\n\t\t\tif (!zenarioO.otherItemLinks[path]) {\n\t\t\t\tzenarioO.otherItemLinks[path] = {}\n\t\t\t}\n\t\t\t\n\t\t\turl =\n\t\t\t\tURLBasePath +\n\t\t\t\t'zenario/admin/organizer.ajax.php?path=' + encodeURIComponent(path) +\n\t\t\t\t'&_get_item_links=' + encodeURIComponent(values);\n\t\t\t\n\t\t\t//if (!(zenarioO.otherItemLinks[path] = zenario.checkSessionStorage(url, {}, true, zenarioO.loadNum))) {\n\t\t\t\t++zenarioO.itemLinkRequestsLeft;\n\t\t\t\tzenarioO.getDataHack(url, path, function(path, data) {\n\t\t\t\t\tif (goNum == zenarioO.goNum) {\n\t\t\t\t\t\tzenarioO.otherItemLinks[path] = data;\n\t\t\t\t\t\tif (!--zenarioO.itemLinkRequestsLeft) {\n\t\t\t\t\t\t\tzenarioO.go3(goNum, searchTerm, backwards, runFunctionAfter);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t//}\n\t\t}\n\t}\n\t\n\t//If there were no item links to look up, we don't need to wait for any AJAX requests before continuing\n\tif (!zenarioO.itemLinkRequestsLeft) {\n\t\tzenarioO.go3(goNum, searchTerm, backwards, runFunctionAfter);\n\t\n\t//If there were, set a timeout on them so that the panel will eventually display even if one or two times out\n\t} else {\n\t\tif (zenarioO.go3Timeout) {\n\t\t\tclearTimeout(zenarioO.go3Timeout);\n\t\t}\n\t\tzenarioO.go3Timeout =\n\t\t\tsetTimeout(\n\t\t\t\tfunction() {\n\t\t\t\t\tzenarioO.go3(goNum, searchTerm, backwards, runFunctionAfter);\n\t\t\t\t}, zenarioO.getItemLinkTimeoutTime);\n\t}\n};\n\n//A wrapper function to ensure that the url, lang variables keep their values, rather than get overwritten\nzenarioO.getDataHack = function(url, lang, success) {\n\t\n\tzenario.ajax(url, url.length > 2000, true, true, true).after(function(data) {\n\t\tsuccess(lang, data);\n\t});\n\t\n\t//setTimeout(\n\t//\tfunction() {\n\t//\t\t//Hack to try and prevent a possible bug where the GET request gets too large:\n\t//\t\t\t//Convert it to a post request if it gets too big\n\t//\t\tvar post = url.length > 2000,\n\t//\t\t\tdata = zenario.nonAsyncAJAX(url, post);\n\t//\t\tsuccess(url, lang, data);\n\t//\t}, 1);\n};\n\n\nzenarioO.go3 = function(goNum, searchTerm, backwards, runFunctionAfter) {\n\t\n\tif (!zenarioA.isFullOrganizerWindow && !zenarioA.checkIfBoxIsOpen('og')) {\n\t\treturn;\n\t}\n\t\n\t//Check that this isn't an out-of-date request that has come in syncronously via AJAX\n\tif (goNum != zenarioO.goNum) {\n\t\treturn;\n\t} else {\n\t\tzenarioO.lastSuccessfulGoNum = ++zenarioO.goNum;\n\t}\n\t\n\tif (zenarioO.go3Timeout) {\n\t\tclearTimeout(zenarioO.go3Timeout);\n\t}\n\t\n\tget('organizer_preloader_circle').style.display = 'none';\n\t\n\tzenarioO.setNavigation();\n\t\n\t//Display a pop-up message, if this is not a refresh and one has been requested\n\tif (!backwards && zenarioO.tuix.popout_message) {\n\t\tif (!defined(zenarioO.refreshToPage) || zenarioO.tuix.popout_message != zenarioO.lastPopoutMessage) {\n\t\t\tzenarioA.showMessage(zenarioO.tuix.popout_message, true, false);\n\t\t}\n\t\t\n\t\tzenarioO.lastPopoutMessage = zenarioO.tuix.popout_message;\n\t}\n\t\n\t\n\tzenarioO.searchAndSortItems(searchTerm);\n\t\n\t//(Periodic refresh is now disabled)\n\t//if (!engToBoolean(zenarioO.tuix.disable_periodic_refresh)) {\n\t//\tzenarioO.periodicRefresh();\n\t//}\n\t\n\tif (!zenarioO.firstLoaded) {\n\t\tzenarioO.firstLoaded = true;\n\t\tzenarioA.hideAJAXLoader();\n\t}\n\t\n\tzenarioO.setWrapperClass('loaded', true);\n\tzenarioO.setWrapperClass('filters_set', zenarioO.filtersSet);\n\tzenarioO.setWrapperClass('filters_set_in_view_options', zenarioO.filtersSetInViewOptions);\n\t\n\tif (runFunctionAfter) {\n\t\trunFunctionAfter();\n\t}\n};\n\nzenarioO.setWrapperClass = function(className, active) {\n\t$('#organizer__box_inner')\n\t\t.removeClass('organizer_' + (active? 'not_' : '') + className)\n\t\t.addClass('organizer_' + (active? '' : 'not_') + className);\n};\n\n\nzenarioO.itemLanguage = function(i) {\n\t\n\tif (i && zenarioO.tuix && zenarioO.tuix.items && zenarioO.tuix.items[i]\n\t && (!zenarioO.tuix.items[i].css_class || ('' + zenarioO.tuix.items[i].css_class).indexOf('ghost') == -1)\n\t && zenarioO.tuix.items[i].language_id) {\n\t\treturn zenarioO.tuix.items[i].language_id;\n\t\n\t} else if (zenarioO.tuix && zenarioO.tuix.key) {\n\t\treturn zenarioO.tuix.key.languageId || zenarioO.tuix.key.language;\n\t\n\t} else {\n\t\treturn '';\n\t}\n};\n\n\n\nzenarioO.itemParent = function(i) {\n\t\n\t//if (i && zenarioO.tuix && zenarioO.tuix.items && zenarioO.tuix.items[i]\n\t// && zenarioO.tuix.db_items && zenarioO.tuix.db_items.hierarchy_column) {\n\t//\n\t//\treturn zenarioO.tuix.items[i][zenarioO.tuix.db_items.hierarchy_column] || '';\n\t//\n\t//} else {\n\t\treturn '';\n\t//}\n};\n\n\n//Create a list of which columns are to be shown.\nzenarioO.getShownColumns = function(path, defaultSortColumn, columns) {\t\n\tvar firstColumn = false;\n\tvar columnsShown = false;\n\tvar shownColumns = {};\n\t\n\tif (zenarioO.prefs && zenarioO.prefs[path] && zenarioO.prefs[path].shownColumns) {\n\t\tshownColumns = zenarioO.prefs[path].shownColumns;\n\t}\n\t\n\tif (columns) {\n\t\tforeach (columns as var c) {\n\t\t\tif (!firstColumn) {\n\t\t\t\tfirstColumn = c;\n\t\t\t}\n\t\t\t\n\t\t\tif (engToBoolean(columns[c].always_show)) {\n\t\t\t\tcolumnsShown = shownColumns[c] = true;\n\t\t\t\n\t\t\t} else if (defined(shownColumns[c])) {\n\t\t\t\tif (shownColumns[c]) {\n\t\t\t\t\tcolumnsShown = true;\n\t\t\t\t}\n\t\t\t\n\t\t\t} else {\n\t\t\t\tif (engToBoolean(columns[c].show_by_default)) {\n\t\t\t\t\tcolumnsShown = shownColumns[c] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//Show the first column by default, if all others are turned off\n\tif (!columnsShown) {\n\t\tshownColumns[firstColumn || defaultSortColumn] = true;\n\t}\n\t\n\treturn shownColumns;\n};\n\n\n//zenarioO.scrollToPageTop = false;\nzenarioO.nextPage = function() {\n\t\n\tif (zenarioO.lockPageClicks) {\n\t\treturn false;\n\t}\n\t\n\tif (zenarioO.page < zenarioO.pageCount) {\n\t\t//zenarioO.scrollToPageTop = true;\n\t\tzenarioO.goToPage(zenarioO.page + 1);\n\t}\n};\n\n//zenarioO.scrollToPageBottom = false;\nzenarioO.prevPage = function() {\n\t\n\tif (zenarioO.lockPageClicks) {\n\t\treturn false;\n\t}\n\t\n\tif (zenarioO.page > 1) {\n\t\t//zenarioO.scrollToPageBottom = true;\n\t\t//zenarioO.scrollToPageTop = true;\n\t\tzenarioO.goToPage(zenarioO.page - 1);\n\t}\n};\n\nzenarioO.goToPage = function(page) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tif (zenarioO.page != page) {\n\t\tzenarioO.deselectAllItems();\n\t}\n\t\n\tzenarioO.lockPageClicks = true;\n\tzenarioO.inspectionView = false;\n\t\n\tzenarioO.pi.resetScrollPosition();\n\t\n\tif (zenarioO.server_side) {\n\t\tzenarioO.refreshAndShowPage(page);\n\t} else {\n\t\tzenarioO.showPage(page);\n\t}\n};\n\nzenarioO.goToLastPage = function() {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tzenarioO.goToPage(zenarioO.pageCount);\n};\n\nzenarioO.refreshAndShowPage = function(page) {\n\tzenarioO.page = page || 1;\n\tzenarioO.load()\n};\n\nzenarioO.showPage = function(page) {\n\tzenarioO.page = page;\n\tzenarioO.setPanel();\n};\n\nzenarioO.searchAndSortItems = function(searchTerm) {\n\tvar id,\n\t\tmatches,\n\t\tnumeric;\n\t\n\t//Show/hide the search box, and set the search term\n\t\t//(Don't do this if this was a page refresh, not a page jump)\n\tif (!defined(zenarioO.refreshToPage)) {\n\t\tzenarioO.setSearch(searchTerm);\n\t}\n\t\n\t\n\t\n\t\n\t\n\tif (zenarioO.server_side) {\n\t\t//If server side sorting and searching is being used, we can use the sort order from the server as\n\t\t//our searched and sorted list.\n\t\t//(Note that it's not possible to sort on the server but search on the client.)\n\t\tzenarioO.searchedItems = zenarioO.tuix.__item_sort_order__;\n\t\tzenarioO.searchMatches = zenarioO.tuix.__item_count__;\n\t\n\t} else {\n\t\t\n\t\t\n\t\tif (!defined(zenarioO.searchTerm) || get('organizer_search').style.visibility == 'hidden') {\n\t\t\tzenarioO.searchedItems = zenarioO.pi.sortAndSearchItems();\n\t\t} else {\n\t\t\tzenarioO.searchedItems = zenarioO.pi.sortAndSearchItems(searchTerm);\n\t\t}\n\t\t\n\t\tzenarioO.searchMatches = zenarioO.searchedItems.length;\n\t}\n\t\n\tzenarioO.itemsOrder = {};\n\tforeach (zenarioO.searchedItems as var itemNo => id) {\n\t\tzenarioO.itemsOrder[id] = 1*itemNo;\n\t}\n\t\n\tvar ord, page = 1;\n\t\n\tif (zenarioO.thisPageSize) {\n\t\t//Work out the current page number for server-side searching and sorting\n\t\tif (zenarioO.server_side && zenarioO.server_side) {\n\t\t\tpage = zenarioO.tuix.__page__ || zenarioO.refreshToPage || 1;\n\t\n\t\t//Work out the current page number for client-side sorting\n\t\t} else {\n\t\t\tif (defined(zenarioO.refreshToPage)) {\n\t\t\t\tpage = zenarioO.refreshToPage;\n\t\t\t} else {\n\t\t\t\t//If we've not got a specific target, check if any items were selected here and use the first we find as a target\n\t\t\t\tif (!zenarioO.inspectionViewItem) {\n\t\t\t\t\tvar selectedItems = zenarioO.pi.returnSelectedItems();\n\t\t\t\t\tforeach (selectedItems as id) {\n\t\t\t\t\t\tzenarioO.inspectionViewItem = id;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\t//If the item we want is in the results, make sure we show that page\n\t\t\t\tif (ord = zenarioO.itemsOrder[zenarioO.inspectionViewItem]) {\n\t\t\t\t\tpage = Math.floor(ord / zenarioO.thisPageSize) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tdelete zenarioO.refreshToPage;\n\tzenarioO.showPage(page);\n};\n\nzenarioO.stop = false;\nzenarioO.stopWarningMessage = false;\nzenarioO.disableInteraction = function(warningMessage) {\n\tzenarioO.stop = true;\n\tif (warningMessage) {\n\t\tzenarioO.stopWarningMessage = warningMessage;\n\t}\n\t$('#organizer_search_term').prop('disabled', true);\n\tzenarioO.setWrapperClass('interaction_disabled', true);\n};\n\nzenarioO.enableInteraction = function() {\n\tzenarioO.stop = false;\n\tzenarioO.stopWarningMessage = false;\n\t$('#organizer_search_term').prop('disabled', false);\n\tzenarioO.setWrapperClass('interaction_disabled', false);\n};\n\n\nzenarioO.getHeader = function() {\n\treturn $('#organizer_header');\n};\nzenarioO.getPanel = function() {\n\treturn $('#organizer_rightColumnContent');\n};\nzenarioO.getFooter = function() {\n\treturn $('#organizer_lowerMiddleColumn');\n};\n\n\nzenarioO.setPanel = function() {\n\t\n\tvar i,\n\t\t$header = zenarioO.getHeader(),\n\t\t$panel = zenarioO.getPanel(),\n\t\t$footer = zenarioO.getFooter(),\n\t\titemsGone = false;\n\t\tn = 0;\n\t\n\t\n\t//zenarioO.loadSelection();\n\t\n\tif (window.zenarioOSelectMode) {\n\t\tzenarioO.multipleSelectEnabled = window.zenarioOMultipleSelect;\n\t} else {\n\t\t//Check to see if any item toolbar buttons allow for multiple selections, and enable multiple select if so\n\t\tzenarioO.multipleSelectEnabled = zenarioO.pi.returnMultipleSelectEnabled();\n\t}\n\t\n\tvar selectedItems = _.clone(zenarioO.pi.returnSelectedItems());\n\t\n\tforeach (selectedItems as var i) {\n\t\t//Remove any items that have disappeared since this panel was last shown\n\t\tif (!zenarioO.tuix.items\n\t\t || !zenarioO.tuix.items[i]) {\n\t\t\tdelete selectedItems[i];\n\t\t\titemsGone = true;\n\t\t\n\t\t} else {\n\t\t\t++n;\n\t\t}\n\t}\n\t\n\t//T10250, When deleting an item in Organizer, select the next one\n\t//If the admin just pressed a button, and that caused the item(s) that were selected to disappear,\n\t//then try to select the next item.\n\tif (itemsGone && n == 0) {\n\t\tif (zenarioO.selectNextItem\n\t\t && zenarioO.tuix.items\n\t\t && zenarioO.tuix.items[zenarioO.selectNextItem]) {\n\t\t\tselectedItems[zenarioO.selectNextItem] = true;\n\t\t\t++n;\n\t\t}\n\t\n\t//If multiple-select is not enabled, ensure we've not got too many items selected\n\t} else if (!zenarioO.multipleSelectEnabled && n > 1) {\n\t\tselectedItems = {};\n\t\tn = 0;\n\t}\n\tdelete zenarioO.selectNextItem;\n\t\n\t//If we don't have any record of any selected items, but we were asked to select one in the URL,\n\t//then select that one\n\tif (n == 0\n\t && zenarioO.inspectionViewItem\n\t && zenarioO.tuix.items\n\t && zenarioO.tuix.items[zenarioO.inspectionViewItem]) {\n\t\tn = 1;\n\t\tselectedItems = {};\n\t\tselectedItems[zenarioO.inspectionViewItem] = true;\n\t\n\t//Make sure we don't try to show inspection view if more than one item is selected\n\t} else if (n > 1\n\t || !zenarioO.inspectionViewItem\n\t || !zenarioO.tuix.items\n\t || !zenarioO.tuix.items[zenarioO.inspectionViewItem]) {\n\t\tzenarioO.inspectionView = false;\n\t}\n\t\n\tzenarioO.pi.cmsSetsSelectedItems(selectedItems);\n\t\n\t//Set the colour of the debug button\n\tvar debugButton, path;\n\tif (debugButton = get('organizer_debug_button')) {\n\t\t\n\t\t//Grey: normal, where there is a navigation path, no refiner.\n\t\tif (!zenarioO.refiner) {\n\t\t\tdebugButton.className = 'zenario_debug zenario_debug_with_no_refiner';\n\t\t\n\t\t//Yellow: e.g. the Trash, where refiner name is set but refiner ID is not set.\n\t\t} else if (!zenarioO.refiner.id) {\n\t\t\tdebugButton.className = 'zenario_debug zenario_debug_with_refiner_and_no_id';\n\t\t\n\t\t//Orange: e.g. where admin has selected something and views \"its\" panel, where refiner name is set and there is a refiner ID.\n\t\t} else {\n\t\t\tdebugButton.className = 'zenario_debug zenario_debug_with_refiner_and_id';\n\t\t}\n\t}\n\t\n\t\n\tzenarioO.enableInteraction();\n\t\n\t\n\tzenarioO.setPanelTitle();\n\tzenarioO.setBackButton();\n\tzenarioO.getPageCount();\n\t\n\tpath = zenarioO.path.split('/');\n\tget('organizer__box_wrap').className = path.join('__') + ' organizer_panel__' + path.pop();\n\t\n\tzenarioO.pi.showPanel($header, $panel, $footer);\n\t\n\tif (zenarioO.tuix.toast) {\n\t\tzenarioA.toast(zenarioO.tuix.toast);\n\t}\n\t\n\t\n\t\n\t//Add $('#organizer_search') ..?\n\t\n\tzenarioO.setButtons();\n\tzenarioO.setTrash();\n\t\n\t\n\t//Check that Organizer and the panel are the right size\n\tzenarioO.size(true);\n\t\n\t\n\t//zenarioO.scrollToPageTop = false;\n\t//zenarioO.scrollToPageBottom = false;\n\t\n\t//Is this line needed..?\n\tzenarioO.lockPageClicks = false;\n\t\n\t//Set the hash in the browser bar\n\tzenarioO.setHash();\n\t\n\t// Open help tour\n\tif (!window.zenarioONotFull\n\t && !zenarioA.openedInIframe\n\t && !zenarioA.seen_help_tour\n\t && zenarioA.show_help_tour_next_time) {\n\t\t// Get current nav\n\t\t//var topLevel = zenarioO.currentTopLevelPath.split('/')[0];\n\t\t// Always use this nav\n\t\tvar topLevel = 'dummy_item';\n\t\tzenarioA.showTutorial(topLevel, true);\n\t}\n\tzenarioA.seen_help_tour = true;\n\t\n\t//Little hack to fix a few sizing bugs:\n\t//Run another size check after all of the scripts have finished running.\n\tsetTimeout(function() {\n\t\tzenarioO.size(true);\n\t}, 0);\n};\n\n\n\n//Go backwards, if possible\nzenarioO.back = function(times) {\n\tif (zenarioO.stop) {\n\t\tif (zenarioO.stopWarningMessage) {\n\t\t\talert(zenarioO.stopWarningMessage);\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tvar branchLevel = zenarioO.branches.length - 1,\n\t\tstats = {},\n\t\tcanGoBack = zenarioO.getFromLastPanel(branchLevel, zenarioO.path, 'title', false, times, false, stats),\n\t\tbackwards = {},\n\t\ti;\n\t\n\tif (canGoBack !== false) {\n\t\t//Try to get the previously selected item from the previous panel, if there was one\n\t\tbackwards.selectedItemFromLastPanel = zenarioO.getSelectedItemFromLastPanel(stats.path);\n\t\t\n\t\t//Deslect all items before leaving\n\t\tzenarioO.deselectAllItems();\n\t\tzenarioO.clearRefiner();\n\t\tzenarioO.clearSearch();\n\t\t\n\t\tfor (i = stats.pops; i > 0; --i) {\n\t\t\tzenarioO.branches.pop();\n\t\t}\n\t\tzenarioO.go(stats.path, undefined, undefined, undefined, undefined, backwards);\n\t}\n};\n\n\n\n\n//Scan the map, registering any link that's a branch\nzenarioO.knownBranches = {};\nzenarioO.lookForBranches = function(map, path, panelPath, parentKey) {\n\t\n\tvar isBranch, p, i, link;\n\t\n\tif (map._path_here) {\n\t\tpanelPath = map._path_here;\n\t}\n\t\n\tforeach (map as i) {\n\t\tif (map[i] && typeof map[i] == 'object') {\n\t\t\t\n\t\t\tp = path? path + '/' + i : i;\n\t\t\t\n\t\t\t//Old logic: developers must manually specify which things are branches\n\t\t\t//var isBranch = map[i].link && typeof map[i].link == 'object' && map[i].link.branch;\n\t\t\t\n\t\t\t//New logic: all links are branches except for top/second-level items,\n\t\t\t//and top-level items may not contain links\n\t\t\tisBranch = false;\n\t\t\tif (defined(parentKey)\n\t\t\t && (link = map[i].link)\n\t\t\t && (typeof link == 'object')) {\n\t\t\t\t \n\t\t\t\tif (parentKey != 'nav') {\n\t\t\t\t\tlink.branch = isBranch = true;\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tlink.branch = isBranch = false;\n\t\t\t\t\t\n\t\t\t\t\t//Automatically turn links with refiners into deep links to that refiner\n\t\t\t\t\tif (link.refiner\n\t\t\t\t\t && link.path\n\t\t\t\t\t && link.path.indexOf('//') == -1) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlink.path += '/refiners/' + link.refiner + '//';\n\t\t\t\t\t\tif (link.refinerId) {\n\t\t\t\t\t\t\tlink.path += link.refinerId;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlink.path += '//';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//Allow refiners to link to themselves, to save us from adding needless Waypoints just to link to refiners\n\t\t\tif (parentKey == 'refiners' && typeof map[i] == 'object' && !defined(map[i].link)) {\n\t\t\t\tmap[i].link = {\n\t\t\t\t\tpath: panelPath,\n\t\t\t\t\trefiner: i\n\t\t\t\t};\n\t\t\t\tmap[i].link.branch = isBranch = true;\n\t\t\t}\n\t\t\t\n\t\t\tif (isBranch) {\n\t\t\t\tif (!zenarioO.knownBranches[panelPath]) {\n\t\t\t\t\tzenarioO.knownBranches[panelPath] = {};\n\t\t\t\t}\n\t\t\t\tif (!zenarioO.knownBranches[panelPath][map[i].link.path]) {\n\t\t\t\t\tzenarioO.knownBranches[panelPath][map[i].link.path] = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//In the event that two branches go to the same place, prefer item double-click links over anything else\n\t\t\t\tif (!zenarioO.knownBranches[panelPath][map[i].link.path][map[i].link.refiner || 1]\n\t\t\t\t || ('' + zenarioO.knownBranches[panelPath][map[i].link.path][map[i].link.refiner || 1]).substr(-4) != 'item') {\n\t\t\t\t\t//Otherwise, log the branch and stop scanning the parent tag\n\t\t\t\t\tzenarioO.knownBranches[panelPath][map[i].link.path][map[i].link.refiner || 1] = zenarioO.shortenPath(p);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tzenarioO.lookForBranches(map[i], p, panelPath, i);\n\t\t}\n\t}\n};\n\n//Remove every branch taken so far from memory\nzenarioO.resetBranches = function() {\n\tzenarioO.branches = [{\n\t\t'panel_instances': {},\n\t\t'bypasses': {},\n\t\t'filters': {},\n\t\t'refiners': {},\n\t\t'searches': {}\n\t}];\n};\n\n\n//Add a new branch\nzenarioO.branch = function(path, lastPath, lastTitle, noReturnEnabled) {\n\t\n\tpath = zenarioO.shortenPath(path);\n\t\n\tzenarioO.branches[zenarioO.branches.length] = {\n\t\t'from': lastPath,\n\t\t'to': path,\n\t\t'title': lastTitle,\n\t\t'no_return': noReturnEnabled,\n\t\t'panel_instances': {},\n\t\t'bypasses': {},\n\t\t'filters': {},\n\t\t'refiners': {},\n\t\t'searches': {}\n\t};\n};\n\n//Set the current location in the URL\nzenarioO.setHash = function() {\n\t\n\t//Don't bother setting a hash in select mode, where you can't see the path anyway\n\tif (window.zenarioONotFull) {\n\t\treturn;\n\t}\n\t\n\t//Don't set the location in the hash in IE 6/7, as this really slows them down\n\tif (!zenario.browserIsIE(7)) {\n\t\tvar path = zenarioO.getHash();\n\t\t\n\t\t//Add the path to the hash\n\t\tdocument.location.hash = path;\n\t\tzenario.currentHash = document.location.hash;\n\t}\n\t\n\tif (zenarioA.homeLink && get('home_page_button_link')) {\n\t\tget('home_page_button_link').href = zenarioO.parseReturnLink(zenarioA.homeLink);\n\t}\n\tif (zenarioA.backLink && get('last_page_button_link')) {\n\t\tget('last_page_button_link').href = zenarioO.parseReturnLink(zenarioA.backLink);\n\t}\n};\n\n\nzenarioO.getHash = function(ignoreSelectedItem) {\n\t\n\tvar hash = '',\n\t\tpath = zenarioO.path,\n\t\tb, kb, lastTo, failed = false,\n\t\toneItemSelected = false,\n\t\tselectedItem = '',\n\t\tselectedItems = zenarioO.pi && zenarioO.pi.returnSelectedItems(),\n\t\tprevPanels, prevPanelInstance, prevSelectedItems,\n\t\tfabPath = zenarioAB.isOpen && zenarioAB.path,\n\t\tfabKey = zenarioAB.isOpen && zenarioAB.openingKey,\n\t\tfabTab = zenarioAB.isOpen && zenarioAB.tuix && zenarioAB.tuix.tab;\n\t\n\tif (!ignoreSelectedItem && selectedItems) {\n\t\t//Check if there was only one item selected\n\t\tforeach (selectedItems as var i) {\n\t\t\tif (selectedItems[i]) {\n\t\t\t\tif (oneItemSelected === false) {\n\t\t\t\t\toneItemSelected = i;\n\t\t\t\t} else {\n\t\t\t\t\toneItemSelected = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t//If there is one item selected, put it in the hash after the path\n\t\tif (oneItemSelected) {\n\t\t\tif (!zenarioO.inspectionView) {\n\t\t\t\tselectedItem = oneItemSelected;\n\t\t\t} else {\n\t\t\t\tselectedItem = oneItemSelected + '/';\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Attempt to include the current branches taken in the URL by creating a deep link\n\tforeach (zenarioO.branches as var i) {\n\t\tif (i > 0) {\n\t\t\tb = zenarioO.branches[i];\n\t\t\t\n\t\t\t//Is this branch in the map?\n\t\t\tif (b.to && zenarioO.knownBranches[b.from] && zenarioO.knownBranches[b.from][b.to]\n\t\t\t && (kb = zenarioO.knownBranches[b.from][b.to][b.refiners[b.to]? b.refiners[b.to].name : 1])) {\n\t\t\t\t\n\t\t\t\tkb = zenarioO.shortenPath(kb);\n\t\t\t\t\n\t\t\t\tif (lastTo) {\n\t\t\t\t\t//Use a relative path on the other end of the branch, to save space in the URL\n\t\t\t\t\tif (kb.substr(0, lastTo.length) == lastTo) {\n\t\t\t\t\t\tkb = zenarioO.shortenPath(kb.substr(lastTo.length + 1));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//If we couldn't get a relative path then there was something odd with the branch\n\t\t\t\t\t\t//and we cannot create a deep link to it\n\t\t\t\t\t\tfailed = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\thash += '//';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Add any selected items to the deep link\n\t\t\t\thash += kb + '//';\n\t\t\t\t\n\t\t\t\tprevPanels = zenarioO.branches[i-1];\n\t\t\t\tif (prevPanelInstance = prevPanels.panel_instances[b.from]) {\n\t\t\t\t\thash += zenarioO.implodeKeys(prevPanelInstance.returnSelectedItems());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlastTo = b.to;\n\t\t\t} else {\n\t\t\t\t//If the branch wasn't registered then we can't create a deep link to it\n\t\t\t\t//Note that this should never happen, but if it does break I don't want Organizer breaking too\n\t\t\t\tfailed = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//If we successfully built a deep link, combine it with the current path\n\t\t//Note that this involves running some of the above logic again\n\tif (!failed && lastTo) {\n\t\t//Use a relative path on the other end of the branch, to save space in the URL\n\t\tif (path.substr(0, lastTo.length) == lastTo) {\n\t\t\tpath = hash + '//' + zenarioO.shortenPath(path.substr(lastTo.length + 1));\n\t\t} else {\n\t\t\t//If we couldn't get a relative path then there was something odd with the branch\n\t\t\t//and we cannot create a deep link to it\n\t\t}\n\t}\n\t\n\t//Add the selected item to the URL\n\tif (selectedItem) {\n\t\t//No matter what the generated path was, there should always be two slashes between the selected item and the path\n\t\tif (zenario.rightHandedSubStr(path, 2) == '//') {\n\t\t\tpath += selectedItem;\n\t\t} else if (zenario.rightHandedSubStr(path, 1) == '/') {\n\t\t\tpath += '/' + selectedItem;\n\t\t} else {\n\t\t\tpath += '//' + selectedItem;\n\t\t}\n\t}\n\t\n\tif (!ignoreSelectedItem\n\t && defined(zenarioO.searchTerm)) {\n\t\tpath += '~-' + escapeStateString(zenarioO.searchTerm);\n\t}\n\tif (!ignoreSelectedItem\n\t && zenarioO.path\n\t && zenarioO.branches.length\n\t && zenarioO.branches[zenarioO.branches.length-1]\n\t && zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path]\n\t && !_.isEmpty(zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path])) {\n\t\tpath += '~_' + escapeStateString(zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path], true);\n\t}\n\t\n\t//Note down if a FAB is open\n\tif (fabPath) {\n\t\tpath += '~.' + escapeStateString(fabPath);\n\t\t\n\t\tif (fabTab) {\n\t\t\tpath += '~t' + escapeStateString(fabTab);\n\t\t}\n\t\tif (fabKey) {\n\t\t\tpath += '~k' + escapeStateString(fabKey, true);\n\t\t}\n\t}\n\t\n\t\n\treturn path;\n};\n\n\n\nzenarioO.searchOnClick = function(el) {\n};\n\n//Update the search term\nzenarioO.searchOnKeyUp = function(el) {\n\tif (zenarioO.doSearchAfterDelay) {\n\t\tclearTimeout(zenarioO.doSearchAfterDelay);\n\t}\n\t\n\tzenarioO.doSearchAfterDelay =\n\t\tsetTimeout(\n\t\t\tfunction() {\n\t\t\t\tzenarioO.doSearch(get('organizer_search_term'));\n\t\t\t}, zenarioO.searchDelayTime);\n};\n\nzenarioO.searchOnChange = function(el) {\n\tif (zenarioO.server_side) {\n\t\tif (zenarioO.doSearchAfterDelay) {\n\t\t\tclearTimeout(zenarioO.doSearchAfterDelay);\n\t\t\tzenarioO.doSearch(el);\n\t\t}\n\t}\n};\n\nzenarioO.markIfViewIsFiltered = function() {\n\tzenarioO.filteredView = defined(zenarioO.searchTerm) || zenarioO.filtersSet;\n};\n\nzenarioO.doSearch = function(el) {\n\tif (zenarioO.doSearchAfterDelay) {\n\t\tclearTimeout(zenarioO.doSearchAfterDelay);\n\t}\n\t\n\tvar searchTerm;\n\tif (el.value === '') {\n\t\tsearchTerm = undefined;\n\t} else {\n\t\tsearchTerm = el.value;\n\t\t\n\t\t//Ensure that the searct term is numeric if possible\n\t\tif (searchTerm.substr(0, 1) !== '0'\n\t\t && searchTerm == 1*searchTerm) {\n\t\t\tsearchTerm = 1*searchTerm;\n\t\t}\n\t}\n\t\n\t//Don't launch a search if the search term has not changed\n\tif (searchTerm === zenarioO.searchTerm) {\n\t\treturn;\n\t}\n\t\n\tzenarioO.searchTerm = searchTerm;\n\tzenarioO.markIfViewIsFiltered();\n\t\n\tzenarioO.saveSearch(zenarioO.searchTerm);\n\tzenarioO.runSearch();\n};\n\nzenarioO.runSearch = function() {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tzenarioO.lockPageClicks = true;\n\tzenarioO.inspectionView = false;\n\t\n\t//This slightly confusing line tries to allow the panel instance to turn on server side mode on the fly\n\t//and not have organizer break!\n\tif (zenarioO.server_side || (zenarioO.server_side = zenarioO.pi.returnDoSortingAndSearchingOnServer())) {\n\t\tzenarioO.refreshAndShowPage();\n\t} else {\n\t\tzenarioO.searchAndSortItems(zenarioO.searchTerm);\n\t}\n};\n\n\n\n\nzenarioO.allItemsSelected = function() {\n\tif (zenarioO.shownItemsLength == 0) {\n\t\treturn false;\n\t}\n\t\n\tvar i,\n\t\tc = 0,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\n\tforeach (selectedItems as i) {\n\t\t++c;\n\t}\n\t\n\treturn c == zenarioO.shownItemsLength;\n};\n\nzenarioO.noItemsSelected = function() {\n\tif (zenarioO.shownItemsLength == 0) {\n\t\treturn true;\n\t}\n\t\n\tvar i,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\n\tforeach (selectedItems as i) {\n\t\treturn false;\n\t}\n\t\n\treturn true;\n};\n\n\n\n\n\n\nzenarioO.parseReturnLink = function(url, replace) {\n\t\n\tif (!defined(replace)) {\n\t\tif (url && zenario.currentHash && !zenario.browserIsIE(7)) {\n\t\t\treplace = 'zenario_sk_return=' + zenario.currentHash.replace('#', '');\n\t\t} else {\n\t\t\treplace = '';\n\t\t}\n\t}\n\t\n\treturn zenario.addBasePath(('' + url).replace('zenario_sk_return=navigation_path', replace));\n};\n\n//Get a property, either from the panel's current refiner, or from the panel.\n//This allows us to have properties on panels that are overridden when a refiner is active.\nzenarioO.panelProp = function(prop, tuix) {\n\t\n\tvar refinerName,\n\t\trefinerDetails;\n\t\n\tif (tuix = tuix || zenarioO.tuix) {\n\t\tif ((refinerName = zenarioO.refiner && zenarioO.refiner.name)\n\t\t && (refinerDetails = tuix.refiners && tuix.refiners[refinerName])\n\t\t && (defined(refinerDetails[prop]))) {\n\t\t\treturn refinerDetails[prop];\n\t\t} else {\n\t\t\treturn tuix[prop];\n\t\t}\n\t}\n};\n\n//Remember a refiner on the current panel\nzenarioO.saveRefiner = function(refiner) {\n\tzenarioO.branches[zenarioO.branches.length-1].refiners[zenarioO.path] = zenarioO.refiner = refiner;\n};\n\n//Check to see if there was a refiner on a panel\nzenarioO.loadRefiner = function(path, branch) {\n\t//New branch? No refiner if so.\n\tif (branch === -1 || branch) {\n\t\treturn undefined;\n\t}\n\t\n\tif (zenarioO.branches[zenarioO.branches.length-1].refiners[path]) {\n\t\treturn zenarioO.branches[zenarioO.branches.length-1].refiners[path];\n\t}\n\t\n\treturn undefined;\n};\n\nzenarioO.clearRefiner = function() {\n\tzenarioO.refiner = undefined;\n\tzenarioO.saveRefiner();\n};\n\n//Remember an admin's search\nzenarioO.saveSearch = function(searchTerm) {\n\tzenarioO.branches[zenarioO.branches.length-1].searches[zenarioO.path] = searchTerm;\n\tzenarioO.pi.cmsSetsSearchTerm(searchTerm);\n};\n\n//Check to see if there was a Search on a panel\nzenarioO.loadFromBranches = function(path, branch, type) {\n\t//New branch? Clear the search if so.\n\tif (branch === -1 || branch) {\n\t\treturn undefined;\n\t}\n\t\n\tif (zenarioO.branches[zenarioO.branches.length-1]\n\t && zenarioO.branches[zenarioO.branches.length-1][type]\n\t && zenarioO.branches[zenarioO.branches.length-1][type][path]) {\n\t\treturn zenarioO.branches[zenarioO.branches.length-1][type][path];\n\t}\n\t\n\treturn undefined;\n};\n\nzenarioO.setSearch = function(searchTerm) {\n\t\n\tvar visibility;\n\t\n\tif (zenarioO.pi && zenarioO.pi.returnSearchingEnabled()) {\n\t\tvisibility = 'visible';\n\t\tzenarioO.searchTerm = searchTerm;\n\t} else {\n\t\tvisibility = 'hidden';\n\t\tzenarioO.searchTerm = undefined;\n\t}\n\t\n\tzenarioO.markIfViewIsFiltered();\n\tget('organizer_search').style.visibility = visibility;\n\t\n\tif (!defined(zenarioO.searchTerm)) {\n\t\tget('organizer_search_term').value = '';\n\t} else {\n\t\tget('organizer_search_term').value = zenarioO.searchTerm;\n\t}\n};\n\nzenarioO.clearSearch = function() {\n\tget('organizer_search_term').value = '';\n\t\n\tzenarioO.searchTerm = undefined;\n\tzenarioO.markIfViewIsFiltered();\n\t\n\tzenarioO.saveSearch(zenarioO.searchTerm);\n};\n\n\n\n\n\n\nzenarioO.toggleAllItems = function() {\n\tif (zenarioO.allItemsSelected()) {\n\t\tzenarioO.deselectAllItems();\n\t} else {\n\t\tzenarioO.selectAllItems();\n\t}\n\tzenarioO.setButtons();\n\tzenarioO.setHash();\n};\n\nzenarioO.selectAllItems = function() {\n\tzenarioO.selectItemRange();\n};\n\nzenarioO.deselectAllItems = function() {\n\tzenarioO.selectItemRange(-1);\n};\n\n\n\nzenarioO.selectItemRange = function(start, stop) {\n\t\n\tvar changes = false,\n\t\tselectThisItem,\n\t\tinRange = !defined(start),\n\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\n\tfor (var itemNo in zenarioO.searchedItems) {\n\t\tvar id = zenarioO.searchedItems[itemNo];\n\t\t\n\t\tif (zenarioO.shownItems && zenarioO.shownItems[id]) {\n\t\t\t\n\t\t\tselectThisItem = inRange || id === start || id === stop;\n\t\t\t\n\t\t\tif (selectThisItem && !selectedItems[id]) {\n\t\t\t\tzenarioO.pi.selectItem(id);\n\t\t\t\tchanges = true;\n\t\t\t\n\t\t\t} else if (!selectThisItem && selectedItems[id]) {\n\t\t\t\tzenarioO.pi.deselectItem(id);\n\t\t\t\tchanges = true;\n\t\t\t}\n\t\t\t\n\t\t\tif ((id === start && id === stop)) {\n\t\t\t\tinRange = false;\n\t\t\t} else if (id === start || id === stop) {\n\t\t\t\tinRange = !inRange;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (changes) {\n\t\tzenarioO.closeInspectionView();\n\t}\n};\n\n\nzenarioO.selectItems = function(itemsIn) {\n\t\n\tvar i, id, selectItems = {},\n\t\tchanges = false,\n\t\tselectThisItem,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\n\tif (_.isArray(itemsIn)) {\n\t\tforeach (itemsIn as i => id) {\n\t\t\tselectItems[id] = true;\n\t\t}\n\t} else if (_.isObject(itemsIn)) {\n\t\tselectItems = itemsIn;\n\t} else {\n\t\tselectItems[itemsIn] = true;\n\t}\n\t\n\tforeach (zenarioO.shownItems as id) {\n\t\tselectThisItem = selectItems[id];\n\t\t\n\t\tif (selectThisItem && !selectedItems[id]) {\n\t\t\tzenarioO.pi.selectItem(id);\n\t\t\tchanges = true;\n\t\t\n\t\t} else if (!selectThisItem && selectedItems[id]) {\n\t\t\tzenarioO.pi.deselectItem(id);\n\t\t\tchanges = true;\n\t\t}\n\t}\n\t\n\tif (changes) {\n\t\tzenarioO.closeInspectionView();\n\t\tzenarioO.setButtons();\n\t\tzenarioO.setHash();\n\t}\n};\n\n\n\n\n\n\nzenarioO.itemClickThrough = function(id, e) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tzenario.stop(e);\n\t\n\t\n\tif (!zenarioO.tuix\n\t || !zenarioO.tuix.items\n\t || !zenarioO.tuix.items[id]) {\n\t\treturn false;\n\t}\n\t\n\tzenarioO.itemClickThroughAction(id);\n\t\n\treturn false;\n};\n\nzenarioO.itemClickThroughAction = function(id) {\n\tvar link = zenarioO.itemClickThroughLink(id),\n\t\tselectedItems;\n\t\n\tif (link) {\n\t\tif (!engToBoolean(link.unselect_items)) {\n\t\t\tselectedItems = {};\n\t\t\tselectedItems[id] = true;\n\t\t\tzenarioO.pi.cmsSetsSelectedItems(selectedItems);\n\t\t\t//zenarioO.saveSelection();\n\t\t}\n\n\t\tzenarioT.action(zenarioO, zenarioO.tuix.items[id], true, true, link);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nzenarioO.itemClickThroughLink = function(id) {\n\tvar link = zenarioO.tuix.items[id].link,\n\t\tpanel = zenarioO.tuix.items[id].panel;\n\t\n\tif (!defined(link)\n\t && !defined(panel)\n\t && zenarioO.tuix.item) {\n\t\tlink = zenarioO.tuix.item.link;\n\t\tpanel = zenarioO.tuix.item.panel;\n\t}\n\t\n\tif (panel) {\n\t\tlink = {path: panel._path_here};\n\t}\n\t\n\t//If there is a max path set, don't allow the administrator to navigate to a different path.\n\t//But if the disallow_refiners_looping_on_min_path propery is set, don't allow\n\t//the administrator to navigate regardless of whether the path is different\t.\n\tif (link\n\t && window.zenarioONotFull\n\t && zenarioO.path === window.zenarioOMaxPath\n\t && (zenarioO.path !== link.path || window.zenarioODisallowRefinersLoopingOnMinPath)) {\n\t\treturn false;\n\t}\n\t\n\treturn link;\n};\n\n\n\n\n\nzenarioO.topRightButtonClick = function(id) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tzenarioT.action(zenarioO, zenarioO.map.top_right_buttons[id], false, -1);\n};\n\nzenarioO.topLevelClick = function(id, j, first) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tzenarioO.clearRefiner();\n\tzenarioO.clearSearch();\n\tzenarioO.resetBranches();\n\t\n\tif (defined(j)) {\n\t\tvar obj = zenario.clone(zenarioO.map[id].nav[j]);\n\t\t\n\t\tzenarioT.action(zenarioO, obj, false, -1);\n\t} else {\n\t\tzenarioT.action(zenarioO, zenarioO.map[id], false, -1);\n\t}\n};\n\nzenarioO.viewTrash = function () {\n\tif (!window.zenarioOSelectMode && zenarioO.tuix && zenarioO.tuix.trash && !engToBoolean(zenarioO.tuix.trash.empty)) {\n\t\tzenarioT.action(zenarioO, zenarioO.tuix.trash, false, true);\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.collectionButtonClick = function(id, extraRequests) {\n\tif (zenarioO.tuix && zenarioO.tuix.collection_buttons && zenarioO.tuix.collection_buttons[id]) {\n\t\tzenarioT.action(zenarioO, zenarioO.tuix.collection_buttons[id], false, true, undefined, extraRequests);\n\t}\n};\n\nzenarioO.itemButtonClick = function(id, itemId) {\n\tif (zenarioO.tuix && zenarioO.tuix.item_buttons && zenarioO.tuix.item_buttons[id]) {\n\t\tif (defined(itemId)) {\n\t\t\tzenarioO.selectItems(itemId);\n\t\t}\n\t\tzenarioT.action(zenarioO, zenarioO.tuix.item_buttons[id], true, true);\n\t}\n};\n\nzenarioO.inlineButtonClick = function(id, itemId) {\n\tif (zenarioO.tuix && zenarioO.tuix.inline_buttons && zenarioO.tuix.inline_buttons[id]) {\n\t\tzenarioO.selectItems(itemId);\n\t\tzenarioT.action(zenarioO, zenarioO.tuix.inline_buttons[id], true, true);\n\t}\n};\n\nzenarioO.toggleQuickFilter = function(id, turnOn) {\n\n\tvar c, i, otherButton, filterType,\n\t\tchangedSomething = false,\n\t\tquick_filter_buttons =\n\t\t\tzenarioO.tuix\n\t\t && zenarioO.tuix.quick_filter_buttons\n\t\tbutton =\n\t\t\tquick_filter_buttons\n\t\t && quick_filter_buttons[id];\n\t\n\tif (!button) {\n\t\treturn;\n\t}\n\n\t//Clicking on a quick-filter-button with clear_all set will clear every\n\t//other quick-filter button. (But if this is in a drop-down, only the buttons\n\t//in the drop-down will be affected.)\n\tif (engToBoolean(button.clear_all)) {\n\t\t\n\t\tforeach (quick_filter_buttons as i => otherButton) {\n\t\t\t\n\t\t\t//Ignore this button itself!\n\t\t\tif (i == id) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tif (!button.parent\n\t\t\t || button.parent == i\n\t\t\t || button.parent == otherButton.parent) {\n\t\t\t\tif (c = otherButton.column) {\n\t\t\t\t\tif (zenarioO.getFilterValue('s', c)) {\n\t\t\t\t\t\tzenarioO.setFilterValue('s', c, false);\n\t\t\t\t\t\tzenarioO.clearFilter(c);\n\t\t\t\t\t\tchangedSomething = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//If this quick-filter-button has a column set, try to either\n\t//apply a filter to that column, or else turn off the filter if\n\t//it was previously applied\n\tif ((c = button.column)\n\t && (filterType = zenarioO.getColumnFilterType(c))\n\t && (zenarioO.checkIfColumnPickerChangesAreAllowed(c))) {\n\t\n\t\t//Work out whether this button should be enabled\n\t\tif (engToBoolean(button.remove_filter)) {\n\t\t\tturnOn = false;\n\t\n\t\t} else if (!defined(turnOn)) {\n\t\t\tturnOn = !zenarioO.quickFilterEnabled(id);\n\t\t}\n\t\n\t\tzenarioO.setFilterValue('s', c, turnOn);\n\t\tzenarioO.clearFilter(c);\n\t\n\t\tif (turnOn) {\n\t\t\tzenarioO.setFilterValue('not', c, engToBoolean(button.invert));\n\t\n\t\t\tif (filterType == 'yes_or_no') {\n\t\t\t\tzenarioO.setFilterValue('v', c, 1);\n\t\n\t\t\t} else if (defined(button.value)) {\n\t\t\t\tzenarioO.setFilterValue('v', c, button.value);\n\t\t\t}\n\t\t}\n\t\t\n\t\tchangedSomething = true;\n\t}\n\t\n\tif (changedSomething) {\n\t\t//Refresh to update the panel with the changes\n\t\tzenarioO.refreshAndShowPage();\n\t}\n};\n\n//Check whether a specific quick-filter button is enabled\nzenarioO.quickFilterEnabled = function(id) {\n\n\tvar filter,\n\t\tc,\n\t\tfilterType;\n\n\tif ((filter = zenarioO.tuix.quick_filter_buttons[id])\n\t && (c = filter.column)\n\t && (filterType = zenarioO.getColumnFilterType(c))) {\n\t\t\n\t\tif (engToBoolean(filter.remove_filter)) {\n\t\t\treturn !zenarioO.getFilterValue('s', c);\n\t\t\n\t\t} else {\n\t\t\tif (zenarioO.getFilterValue('s', c)\n\t\t\t && engToBoolean(filter.invert) == engToBoolean(zenarioO.getFilterValue('not', c))) {\n\t\t\t\t\n\t\t\t\tif (filterType == 'yes_or_no') {\n\t\t\t\t\treturn true;\n\t\n\t\t\t\t} else if (defined(filter.value)) {\n\t\t\t\t\treturn zenarioO.getFilterValue('v', c) === filter.value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn false;\n};\n\n\n\n//Apply merge fields to a message, using the currently selected item's columns as fields\nzenarioO.applyMergeFields = function(string, escapeHTML, i, keepNewLines) {\n\t\n\t//Escape any ~s in the string\n\tstring = (string + '').replace(/~/g, '~1');\n\t\n\tvar string2 = string,\n\t\tcolumnValue,\n\t\tc, v;\n\t\n\tif (!defined(i)) {\n\t\ti = zenarioO.getKeyId();\n\t}\n\t\n\tforeach (zenarioO.tuix.items[i] as c => v) {\n\t\tif (string.indexOf('[[' + c + ']]') != -1) {\n\t\t\t\n\t\t\tif (zenarioO.tuix.columns\n\t\t\t && zenarioO.tuix.columns[c]) {\n\t\t\t\tcolumnValue = zenarioO.columnValue(i, c, !escapeHTML);\n\t\t\t\n\t\t\t} else if (escapeHTML) {\n\t\t\t\tcolumnValue = htmlspecialchars(v);\n\t\t\t\n\t\t\t} else {\n\t\t\t\tcolumnValue = v;\n\t\t\t}\n\t\t\t\n\t\t\tif (!keepNewLines && defined(columnValue)) {\n\t\t\t\tcolumnValue = (columnValue + '').replace(/\\n/g, ' ');\n\t\t\t}\n\t\t\t\n\t\t\t//Escape any ~s, [s and ]s in the string\n\t\t\tcolumnValue = (columnValue + '').replace(/~/g, '~1').replace(/\\[/g, '~2').replace(/\\]/g, '~3');\n\t\t\t\n\t\t\twhile (string != (string2 = string.replace('[[' + c + ']]', columnValue))) {\n\t\t\t\tstring = string2;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Unescape and return\n\treturn string.replace(/~2/g, '[').replace(/~3/g, ']').replace(/~1/g, '~');\n};\n\nzenarioO.applyMergeFieldsToLabel = function(label, isHTML, itemLevel, multiSelectLabel) {\n\t\n\tif (itemLevel\n\t && multiSelectLabel\n\t && zenarioO.itemsSelected > 1) {\n\t\tlabel = multiSelectLabel;\n\t}\n\t\n\tif (!label) {\n\t\treturn label;\n\t}\n\t\n\tlabel = ('' + label).replace(/\\[\\[item_count\\]\\]/ig, zenarioO.itemsSelected);\n\n\tif (itemLevel\n\t && zenarioO.itemsSelected == 1) {\n\t\tlabel = zenarioO.applyMergeFields(label, isHTML);\n\t}\n\t\n\treturn label;\n};\n\n\n//Given a long piece of text that doesn't wrap, attempt to add tiny spaces to force it to wrap at certain points\nzenarioO.applySmallSpaces = function(text) {\n\tvar pos, piece, snipTo, out = '', wordLength = 25;\n\t\n\t//Firstly, do our best to spit between existing words, and anything else that would wrap normally\n\twhile ((pos = text.search(/([a-z][A-Z]|[a-zA-Z][^a-zA-Z\\)]|[^a-zA-Z\\(][a-zA-Z]|[0-9][^0-9\\)]|[^0-9\\(][0-9])/)) != -1) {\n\t\t\n\t\t//Spilt the text up into each piece.\n\t\t//Where we spilt by a space, include the space as part of the piece before.\n\t\t//If we split by something that wasn't a space, keep the non-space as part of the word after\n\t\tif (text[pos + 1].match(/\\s/) !== null) {\n\t\t\tsnipTo = pos + 2;\n\t\t} else {\n\t\t\tsnipTo = pos + 1;\n\t\t}\n\t\t\n\t\tpiece = text.substr(0, snipTo);\n\t\ttext = text.substr(snipTo);\n\t\t\n\t\t//If this word is longer than the max length, forcible split it up.\n\t\tout += zenarioO.maxLengthString(htmlspecialchars(piece, false, 'asis'), wordLength);\n\t\t\n\t\t//If there was no space in this piece, add one\n\t\tif (piece.search(/\\s/) == -1) {\n\t\t\tout += '<span style=\"font-size: 1px;\"> </span>';\n\t\t}\n\t}\n\t\n\t//If the last piece is longer than the max length, forcibly split it up.\n\tout += zenarioO.maxLengthString(htmlspecialchars(text), wordLength);\n\t\n\treturn out;\n};\n\nzenarioO.maxLengthString = function(text, wordLength) {\n\tvar out = '';\n\twhile (text.wordLength > wordLength) {\n\t\tout += text.substr(0, wordLength) + '<span style=\"font-size: 1px;\"> </span>';\n\t\ttext = text.substr(wordLength);\n\t}\n\t\n\tout += text;\n\t\n\treturn out;\n};\n\nzenarioO.pickItems = function(path, keyIn, row) {\n\t\n\t//Remove any \"parent__\" paramaters from the key, which are going to be just dupicated here\n\tvar key = {};\n\tforeach (keyIn as var i) {\n\t\tif (i == 'id') {\n\t\t\tkey[i] = keyIn[i];\n\t\t} else if (i.substr(0, 8) != 'parent__') {\n\t\t\tkey['child__' + i] = keyIn[i];\n\t\t}\n\t}\n\t\n\tif (zenarioO.postPickItemsObject) {\n\t\tif (zenarioO.pickItemsItemLevel) {\n\t\t\tkey.id2 = key.id;\n\t\t\tdelete key.id;\n\t\t}\n\t\tzenarioT.action(zenarioO, zenarioO.postPickItemsObject, true, true, undefined, key);\n\t\n\t} else if (zenarioO.actionTarget) {\n\t\tif (zenarioO.pickItemsItemLevel) {\n\t\t\tzenarioO.actionRequests.id2 = key.id;\n\t\t\tforeach (key as var k) {\n\t\t\t\tif (k != 'id') {\n\t\t\t\t\tzenarioO.actionRequests[k] = key[k];\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tforeach (key as var k) {\n\t\t\t\tzenarioO.actionRequests[k] = key[k];\n\t\t\t}\n\t\t}\n\t\t\n\t\tzenarioO.action2();\n\t}\n\t\n\tzenarioO.postPickItemsObject = false;\n};\n\nzenarioO.action2 = function() {\n\tif (zenarioO.actionTarget) {\n\t\t//Number each request that is made, so we can tell which ones are outdated\n\t\tvar goNum = ++zenarioO.goNum;\n\t\tget('organizer_preloader_circle').style.display = 'block';\n\t\t\n\t\tzenario.ajax(zenarioO.actionTarget, zenarioO.actionRequests, false, false, true).after(function(message) {\n\t\t\t//Check that this isn't an out-of-date request that has come in syncronously via AJAX\n\t\t\tif (goNum != zenarioO.goNum) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (message) {\n\t\t\t\tif (zenarioA.showMessage(message, undefined, 'error') === false) {\n\t\t\t\t\tget('organizer_preloader_circle').style.display = 'none';\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tzenarioO.selectCreatedIds();\n\t\t});\n\t}\n\tzenarioO.actionTarget = false;\n\tdelete zenarioO.actionRequests;\n};\n\nzenarioO.uploadStart = function() {\n\tzenarioO.disableInteraction();\n};\n\nzenarioO.uploadComplete = function() {\n\tzenarioO.enableInteraction();\n\tzenarioO.selectCreatedIds();\n};\n\nzenarioO.selectCreatedIds = function() {\n\tzenario.ajax(URLBasePath + 'zenario/ajax.php?method_call=getNewId', true, true).after(function(newIds) {\n\t\tzenarioO.refreshToShowItem(newIds);\n\t});\n};\n\n\n//If the admin manually presses the reload button in Organizer, clear the cache and reload the panel.\nzenarioO.reloadButton = function() {\n\tzenario.outdateCachedData();\n\tzenarioO.reload();\n\t\n\t//Reload the lower-left and upper-right sections as well if manually reloading\n\tzenarioO.setOrganizerIcons();\n};\n\n//Refresh the current view\nzenarioO.lastActivity = false;\nzenarioO.reload = function(periodic, allowCache, runFunctionAfter) {\n\t\n\t//Stop doing periodic refreshes after 20 minutes if inactivity\n\tif (periodic) {\n\t\tif (!zenarioO.lastActivity || ((Date.now() - zenarioO.lastActivity) > 20 * 60 * 1000)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//(Periodic refresh is now disabled)\n\t////Don't allow a periodic refresh when uploading, or when the column picker is open, or when resizing/sorting columns\n\t//if (zenarioT.uploading\n\t// || (periodic\n\t//  && (zenarioO.sortingColumn\n\t//   || zenarioO.resizingColumn\n\t//   || zenarioA.checkIfBoxIsOpen('AdminColumnFilter')\n\t//   || zenarioA.checkIfBoxIsOpen('AdminViewModeOptions')))) {\n\t//\t\n\t//\t//However still keep the timer going incase this it is later closed\n\t//\tzenarioO.periodicRefresh();\n\t//\t\n\t//\treturn false;\n\t//}\n\t\n\tzenarioO.stopRefreshing();\n\t\n\t//In hierarchy mode, remember what was open/closed when refreshing\n\t//zenarioO.recordOpenItems();\n\t//zenarioO.saveOpenItems();\n\t\n\t\n\tvar path = zenarioO.path,\n\t\titemToSelect = zenarioO.getKeyId(true),\n\t\tinCloseUpView = zenarioO.inspectionView;\n\t\n\tif (itemToSelect) {\n\t\tzenarioO.refreshToPage = undefined;\n\t} else {\n\t\tzenarioO.refreshToPage = zenarioO.page;\n\t}\n\t\n\t\n\t//zenarioO.go = function(path, branch, refiner, queued, lastInQueue, backwards, dontUseCache, itemToSelect, sameLoad, runFunctionAfter, periodic, inCloseUpView) {\n\tzenarioO.go(path, undefined, undefined, undefined, undefined, undefined, !allowCache, itemToSelect, undefined, runFunctionAfter, periodic, inCloseUpView);\n};\n\n//zenarioO.load() does the same thing as zenarioO.reload(), except it uses the cache if possible\nzenarioO.load = function() {\n\tzenarioO.reload(false, true);\n};\n\n//Go to the change password section\nzenarioO.changePassword = function() {\n\tzenarioO.reloadPage(undefined, true, 'change_password');\n};\n\n//Reload Organizer, making sure to go via the admin login page in case a login/db_update is needed\nzenarioO.reloadPage =\nzenarioO.refreshPage = function(hash, dontAutoDetectMode, task, force) {\n\tif (!force && zenarioO.stop) {\n\t\treturn false;\n\t}\n\n\ttask = task || '';\n\t\n\tif (!defined(hash)) {\n\t\tif (zenario.currentHash && !zenario.browserIsIE(7)) {\n\t\t\thash = zenario.currentHash.replace('#', '');\n\t\t} else {\n\t\t\thash = zenarioO.getHash();\n\t\t}\n\t}\n\t\n\tif (!task && !dontAutoDetectMode) {\n\t\tif (hash == 'zenario__administration/panels/site_settings//site_reset') {\n\t\t\ttask = 'site_reset';\n\t\t\n\t\t} else if (hash && hash.substr(0, 31) == 'zenario__administration/panels/backups') {\n\t\t\ttask = 'restore';\n\t\t\n\t\t} else {\n\t\t\ttask = 'reload_sk';\n\t\t}\n\t}\n\t\n\tvar href = URLBasePath + 'admin.php?task=' + task;\n\t\n\t//If this is the front-end, link back to the front end, otherwise go back to Organizer\n\tif (zenario.cID) {\n\t\thref += '&cID=' + zenario.cID + '&cType=' + zenario.cType + '&cVersion=' + zenario.cVersion;\n\t} else {\n\t\thref += '&og=' + encodeURIComponent(hash);\n\t\t\n\t\tif (zenario.cID) {\n\t\t\thref += '&fromCID=' + zenarioA.fromCID + '&fromCType=' + zenarioA.fromCType;\n\t\t}\n\t}\n\t\n\twindow.location.href = href;\n};\n\n//Refresh the panel to show an item after a button click or admin box is saved.\nzenarioO.refreshToShowItem = function(itemId, growlIfItemIsVisible, growlIfItemIsNotVisible) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\t//If this is the admin or the site settings panel, do a SK reload instead\n\tif (zenarioO.path == 'zenario__administration/panels/site_settings') {\n\t\tzenarioO.reloadPage();\n\t\treturn;\n\t}\n\t\n\tvar i, itemIds,\n\t\tpath = zenarioO.path,\n\t\tselectedItems;\n\t\n\t//Normally, when refreshing to show one item, the system checks to\n\t//see what page that item is on, and specifically shows that page.\n\t//But If there are no items or multiple items selected,\n\t//then the system won't be able to use this logic.\n\t//So as a fallback, we'll try and stay on the current page.\n\tif (zenarioO.page) {\n\t\tzenarioO.refreshToPage = zenarioO.page;\n\t}\n\t\n\t//T10250, When deleting an item in Organizer, select the next one\n\t//If an item or items are currently selected, remember which item is next in\n\t//the list after them for use in our logic later.\n\tzenarioO.selectNextItem = zenarioO.getNextItem();\n\t\n\t\n\t//Accept a string, array or object as an input\n\tif (itemId === false\n\t || !defined(itemId)) {\n\t\titemIds = [];\n\t\n\t} else if (_.isObject(itemId)) {\n\t\titemIds = _.keys(itemId);\n\t\n\t} else if (_.isArray(itemId)) {\n\t\titemIds = itemId;\n\t\n\t} else {\n\t\titemIds = (itemId + '').split(',');\n\t}\n\t\n\t\n\t//If any items were specified, use these instead of the currently selected items.\n\t//(If no items were specificed, keep using the currently selected items.)\n\tif (itemIds.length) {\n\t\tselectedItems = {};\n\t\tforeach (itemIds as i) {\n\t\n\t\t\t//Escape the item id if needed\n\t\t\tif (zenarioO.tuix.db_items\n\t\t\t && zenarioO.tuix.db_items.encode_id_column) {\n\t\t\t\titemIds[i] = zenario.encodeItemIdForOrganizer(itemIds[i]);\n\t\t\t}\n\t\t\t\n\t\t\tselectedItems[itemIds[i]] = true;\n\t\t}\n\t\t\n\t\tzenarioO.pi.cmsSetsSelectedItems(selectedItems);\n\t\tzenarioO.setHash();\n\t\t\n\t\tpath += '//' + itemIds.join(',');\n\t\tif (zenarioO.inspectionView) {\n\t\t\tpath += '/';\n\t\t}\n\t}\n\t\n\tzenarioO.stopRefreshing();\n\t\n\t//Clear the local storage, as there have probably just been changes\n\tzenario.outdateCachedData();\n\t\n\t//zenarioO.go = function(path, branch, refiner, queued, lastInQueue, backwards, dontUseCache, itemToSelect, sameLoad, runFunctionAfter, periodic, inCloseUpView) {\n\tzenarioO.go(path, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, function() {\n\t\t\n\t\tvar name;\n\t\t\n\t\tif (itemId\n\t\t && (itemId + '').indexOf(',') == -1\n\t\t && zenarioO.pi\n\t\t && zenarioO.tuix) {\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (growlIfItemIsVisible\n\t\t\t && (name = zenarioA.formatOrganizerItemName(zenarioO.tuix, itemId))) {\n\t\t\t\tzenarioO.pi.displayToastMessage(growlIfItemIsVisible.replace(/\\[\\[name\\]\\]/ig, htmlspecialchars(name)));\n\t\t\t}\n\t\t\t\n\t\t\t//If an item was just saved, but isn't visible, show the \"Item saved, but your filter prevents it from appearing\" message\n\t\t\tif (growlIfItemIsNotVisible\n\t\t\t && !engToBoolean(zenarioO.tuix.hide_filter_warning)\n\t\t\t && !(zenarioO.tuix.items && zenarioO.tuix.items[itemId])) {\n\t\t\t\t\n\t\t\t\t//Quickly check if the item still exists; e.g. we shouldn't show this for deleted items\n\t\t\t\tzenarioA.getItemFromOrganizer(zenarioO.path, itemId, true).after(data => {\n\t\t\t\t\t\n\t\t\t\t\t//Show the message if it exists\n\t\t\t\t\tif (data.items\n\t\t\t\t\t && data.items[itemId]) {\n\t\t\t\t\t\tzenarioO.pi.displayToastMessage(growlIfItemIsNotVisible);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n};\n\n//Keep refreshing panels that can change\nzenarioO.refreshing = false;\n\n//(Periodic refresh is now disabled)\n//zenarioO.periodicRefresh = function() {\n//\tif (zenarioO.stop) {\n//\t\treturn false;\n//\t}\n//\t\n//\tzenarioO.stopRefreshing();\n//\tzenarioO.refreshing =\n//\t\tsetTimeout(\n//\t\t\tfunction() {\n//\t\t\t\tzenarioO.reload(true, true);\n//\t\t\t}, zenarioO.periodicRefreshTime);\n//}\n\nzenarioO.stopRefreshing = function() {\n\tif (zenarioO.refreshing) {\n\t\tclearTimeout(zenarioO.refreshing);\n\t}\n};\n\n\n\n\n//WiP CSV export ability\nzenarioO.doCSVExport = function() {\n\tzenarioO.CSVExport = true;\n\tzenarioO.reload();\n};\n\n\nzenarioO.getNextItem = function() {\n\t\n\tvar id, ord,\n\t\tnextId,\n\t\tnextOrd = -1,\n\t\titem_sort_order,\n\t\tselectedItems;\n\t\n\tif (!(item_sort_order = zenarioO.tuix && zenarioO.searchedItems)\n\t || !(selectedItems = zenarioO.pi && zenarioO.pi.returnSelectedItems())) {\n\t\treturn false;\n\t}\n\t\n\tforeach (item_sort_order as ord => id) {\n\t\tord = 1*ord + 1;\n\t\tif (ord > nextOrd\n\t\t && selectedItems[id]\n\t\t && (nextId = item_sort_order[ord])\n\t\t && (!selectedItems[nextId])) {\n\t\t\tnextOrd = ord;\n\t\t}\n\t}\n\t\n\treturn nextOrd != -1 && item_sort_order[nextOrd];\n\t\n};\n\n\n\n//Get the current collection key, as well as the current item id(s) if this is something on the item level\nzenarioO.getKey = function(itemLevel) {\n\t\n\tvar key = {},\n\t\ttuix = zenarioO.tuix,\n\t\titem, i;\n\t\n\tif (tuix.key) {\n\t\tforeach (tuix.key as i) {\n\t\t\tkey[i] = tuix.key[i];\n\t\t}\n\t}\n\t\n\tif (zenarioO.refiner) {\n\t\tkey.refinerId = zenarioO.refiner.id;\n\t\tkey.refinerName = zenarioO.refiner.name;\n\t}\n\t\n\tif (zenarioO.lastRefiners) {\n\t\tforeach (zenarioO.lastRefiners as i) {\n\t\t\tkey[i] = zenarioO.lastRefiners[i];\n\t\t}\n\t}\n\t\n\tif (itemLevel) {\n\t\tkey.id = zenarioO.getKeyId();\n\t\t\n\t\tif (item = tuix.items && tuix.items[key.id]) {\n\t\t\tif (_.isObject(item.key)) {\n\t\t\t\tforeach (item.key as i) {\n\t\t\t\t\tkey[i] = item.key[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tzenarioO.addWindowParentInfo(key);\n\t\n\treturn key;\n};\n\nzenarioO.addWindowParentInfo = function(key) {\n\tvar parentKey,\n\t\ti,\n\t\tz = (windowParent && windowParent.zenario) || zenario;\n\t\n\tif (zenarioA.openedInIframe && windowParent && windowParent.zenario) {\n\t\tif (windowParent.zenarioO.init\n\t\t && windowParent.zenarioO.tuix) {\n\t\t\tparentKey = windowParent.zenarioO.getKey(true);\n\t\t\tforeach (parentKey as i) {\n\t\t\t\tkey['parent__' + i] = parentKey[i];\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (z.cID) {\n\t\tkey.parent__cID = z.cID;\n\t\tkey.parent__cType = z.cType;\n\t\tkey.parent__cVersion = z.cVersion;\n\t}\n};\n\nzenarioO.selectedItems = function() {\n\treturn zenarioO.pi && zenarioO.pi.returnSelectedItems();\n};\n\nzenarioO.selectedItemId = function() {\n\treturn zenarioO.getKeyId(true, true);\n};\n\nzenarioO.selectedItemIds = function() {\n\treturn zenarioO.getKeyId();\n};\n\nzenarioO.selectedItemDetails = function() {\n\tvar id = zenarioO.selectedItemId();\n\treturn (id && zenarioO.tuix.items && zenarioO.tuix.items[id]) || {};\n};\n\nzenarioO.getKeyId = function(limitOfOne, onlyOne) {\n\t\n\tvar thisId,\n\t\tid = '',\n\t\tcomma = '',\n\t\tselectedItems = zenarioO.selectedItems();\n\t\n\tif (selectedItems) {\n\t\tforeach (selectedItems as thisId) {\n\t\t\t\n\t\t\tif (id === '') {\n\t\t\t\tid = thisId;\n\t\t\t\n\t\t\t} else {\n\t\t\t\tif (onlyOne) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (limitOfOne) {\n\t\t\t\t\treturn id;\n\t\t\t\t} else {\n\t\t\t\t\tid += ',' + thisId;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn id;\n};\n\nzenarioO.getLastKeyId = function(limitOfOne) {\n\tvar refiner;\n\tif (refiner = zenarioO.loadRefiner(zenarioO.path)) {\n\t\treturn refiner.id;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n\n//From a given path, get part of the map object\nzenarioO.followPathOnMap = function(path, attribute, getLocation) {\n\t\n\tif (!path) {\n\t\tpath = zenarioO.defaultPath;\n\t}\n\t\n\tvar focus = zenarioO.map,\n\t\tsplit = path.split('/'),\n\t\tfrom = false,\n\t\tto = false;\n\t\n\tforeach (split as var i) {\n\t\tvar tag = split[i];\n\t\t\n\t\tif (tag === '') {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tif (i == 0) {\n\t\t\tfrom = to = tag;\n\t\t}\n\t\t\n\t\tif (focus[tag]) {\n\t\t\tfocus = focus[tag];\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tif (focus.link && focus.link.path) {\n\t\t\tfrom = to;\n\t\t\tto = focus.link.path;\n\t\t\n\t\t} else if (focus._path_here) {\n\t\t\tfrom = to;\n\t\t\tto = focus._path_here;\n\t\t}\n\t}\n\t\n\t//For second level items, add some code that can read an attribute off of the second level item rather than the containing panel.\n\tif (focus.panel && (getLocation || !attribute || (!defined(focus[attribute]) && defined(focus.panel[attribute])))) {\n\t\tfocus = focus.panel;\n\t}\n\t\n\tif (getLocation) {\n\t\tif (!focus.link) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn {from: from, to: to, branch: focus.link.branch, refiner: focus.link.refiner};\n\t\t}\n\t} else if (attribute) {\n\t\treturn focus[attribute];\n\t} else {\n\t\treturn focus;\n\t}\n};\n\n//Given a <link> tag, get where it came from and where it goes to\nzenarioO.getFromToFromLink = function(path) {\n\treturn zenarioO.followPathOnMap(path, false, true);\n};\n\n\n\n\n//  View Modes  //\n\nzenarioO.showViewOptions = function(e) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tif (!zenarioO.tuix.columns) {\n\t\treturn false;\n\t}\n\t\n\t//Check if the prefs are up to date. If not, refresh the panel first.\n\tif (zenarioO.checkPrefs()) {\n\t\tzenarioO.showViewOptions2();\n\t} else {\n\t\tzenarioO.reload(undefined, undefined, zenarioO.showViewOptions2);\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.showViewOptions2 = function() {\n\tvar width = 445,\n\t\tleft = -395,\n\t\ttop = -2;\n\tzenarioA.openBox(false, 'zenario_view_options', 'AdminViewModeOptions', get('organizer_listViewOptionsDropdown'), width, left, top, false, true, false, false, undefined, undefined, false, true);\n\t\n\tzenarioO.setViewOptions();\n};\n\nzenarioO.getColumnFilterType = function(c) {\n\t\n\tif (!zenarioO.tuix\n\t || !zenarioO.tuix.columns\n\t || !zenarioO.tuix.columns[c]) {\n\t\treturn false\n\t}\n\n\tvar filterType = false,\n\t\tfilterFormat = zenarioO.tuix.columns[c].filter_format || zenarioO.tuix.columns[c].format;\n\t\n\tif (filterFormat == 'date'\n\t || filterFormat == 'datetime'\n\t || filterFormat == 'datetime_with_seconds') {\n\t\tfilterType = 'date';\n\t\n\t} else if (filterFormat == 'yes_or_no') {\n\t\tfilterType = 'yes_or_no';\n\t\n\t} else if (\n\t\t(filterFormat == 'enum' && zenarioO.tuix.columns[c].values)\n\t || filterFormat == 'language_english_name_with_id'\n\t || filterFormat == 'language_english_name'\n\t || filterFormat == 'language_local_name_with_id'\n\t || filterFormat == 'language_local_name'\n\t) {\n\t\tfilterType = 'enum';\n\t\n\t} else if (engToBoolean(zenarioO.tuix.columns[c].searchable)) {\n\t\tfilterType = 'search';\n\t}\n\t\n\treturn filterType;\n};\n\nzenarioO.setViewOptions = function() {\n\t\n\tvar fields = {},\n\t\tcb = new zenario.callback;\n\t\n\tfields.showcol__title_ = {\n\t\tord: -3,\n\t\tfull_width: true,\n\t\tpre_field_html: '<div class=\"organizer_colPickerTitle_show\" style=\"\">',\n\t\tsnippet: {html: phrase.show},\n\t\tpost_field_html: '</div>'\n\t};\n\t\n\tfields.sortcol__title_ = {\n\t\tord: -1,\n\t\tsame_row: true,\n\t\tpre_field_html: '<div class=\"organizer_colPickerTitle_sort\">',\n\t\tsnippet: {html: phrase.sort},\n\t\tpost_field_html: '</div>'\n\t};\n\t\n\tvar c, colNo, column,\n\t\tlastCol = false,\n\t\tlastColName = false,\n\t\tprefs = zenarioO.prefs[zenarioO.path] || {};\n\t\n\t\n\tforeach (zenarioO.sortedColumns as colNo => c) {\n\t\t\n\t\tif ((column = zenarioO.tuix.columns[c])\n\t\t && (zenarioO.isShowableColumn(c, false))) {\n\t\t\t\n\t\t\tfields['start_of_row__' + c] = {\n\t\t\t\tord: 100 * colNo,\n\t\t\t\tfull_width: true,\n\t\t\t\tsnippet: {html: ''}\n\t\t\t}\n\t\t\t\n\t\t\tfields['showcol_' + c] = {\n\t\t\t\tord: 100 * colNo + 4,\n\t\t\t\tsame_row: true,\n\t\t\t\ttype: 'toggle',\n\t\t\t\tonclick: \"zenarioO.showHideColumn(!\" + engToBoolean(zenarioO.shownColumns[c]) + \", '\" + htmlspecialchars(c) + \"'); zenarioO.setViewOptions();\",\n\t\t\t\tvalue: zenarioO.shownColumns[c]? 'Hide' : 'Show',\n\t\t\t\ttitle: phrase.showCol,\n\t\t\t\t'class': (zenarioO.view_mode == 'grid' ||\n\t\t\t\t\t\t engToBoolean(column.always_show)?\n\t\t\t\t\t\t \t'notused ' : '') + (zenarioO.shownColumns[c]? 'zen_col_hidden' : 'zen_col_shown')\n\t\t\t};\n\t\t\t\n\t\t\tif (zenarioO.showCSVInViewOptions) {\n\t\t\t\tdelete fields['showcol_' + c].onclick;\n\t\t\t\t\n\t\t\t\tif (engToBoolean(engToBoolean(column.server_side_only))) {\n\t\t\t\t\tfields['showcol_' + c].style = 'visibility: hidden;';\n\t\t\t\t} else {\n\t\t\t\t\tfields['showcol_' + c].disabled = 'disabled';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar value = zenarioO.shownColumns[c];\n\t\t\t\t\n\t\t\t\tif (defined(prefs.shownColumnsInCSV)\n\t\t\t\t && defined(prefs.shownColumnsInCSV[c])) {\n\t\t\t\t\tvalue = prefs.shownColumnsInCSV[c];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfields['showcsv_' + c] = {\n\t\t\t\t\tord: 100 * colNo + 5,\n\t\t\t\t\tsame_row: true,\n\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\tonclick: \"zenarioO.showHideColumnInCSV(this, '\" + htmlspecialchars(c) + \"');\",\n\t\t\t\t\tvalue: value,\n\t\t\t\t\t'class': zenarioO.view_mode == 'grid' ||\n\t\t\t\t\t\t\t engToBoolean(column.always_show)?\n\t\t\t\t\t\t\t\t'notused' : ''\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tfields['sortcol_' + c] = {\n\t\t\t\tord: 100 * colNo + 6,\n\t\t\t\tsame_row: true,\n\t\t\t\tsnippet: {\n\t\t\t\t\thtml: '<label class=\"zenario_filter_column_name\" for=\"showcol_' + c + '\">' + htmlspecialchars(column.title) + '</label>'\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tif (zenarioO.canFilterColumn(c)) {\n\t\t\t\t\n\t\t\t\tvar hidden = !zenarioO.getFilterValue('s', c),\n\t\t\t\t\thiddenPreviously = hidden,\n\t\t\t\t\tvalue_ = zenarioO.getFilterValue('v', c),\n\t\t\t\t\tdates,\n\t\t\t\t\tdateBefore = '',\n\t\t\t\t\tdateAfter = '',\n\t\t\t\t\tfilterFormat = column.filter_format || column.format,\n\t\t\t\t\tinvertLink =\n\t\t\t\t\t\t'<a class=\"' + (zenarioO.getFilterValue('not', c)? 'organizer_inverter organizer_not' : 'organizer_inverter') + '\"' +\n\t\t\t\t\t\t\t' title=\"' + phrase.invertFilter + '\"' +\n\t\t\t\t\t\t\t' onclick=\"zenarioO.invertFilter(this, \\'' + htmlspecialchars(c) + '\\', \\'' + htmlspecialchars(filterFormat) + '\\');\">';\n\t\t\t\t\n\t\t\t\tif (filterFormat == 'date'\n\t\t\t\t || filterFormat == 'datetime'\n\t\t\t\t || filterFormat == 'datetime_with_seconds') {\n\t\t\t\t\t\n\t\t\t\t\tif (value_) {\n\t\t\t\t\t\tdates = value_.split(',');\n\t\t\t\t\t\tdateBefore = dates[1];\n\t\t\t\t\t\tdateAfter = dates[0];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfields['date_after_col_' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 7,\n\t\t\t\t\t\trow_class: 'zenario_date_filters_for_field',\n\t\t\t\t\t\tlabel: '<span class=\"zenario_date_filters_phrase\">' + phrase.after + '</span>',\n\t\t\t\t\t\ttype: 'date',\n\t\t\t\t\t\tonchange: \"zenarioO.updateDateFilters('\" + htmlspecialchars(c) + \"');\",\n\t\t\t\t\t\tvalue: dateAfter,\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t\tfields['date_before_col_' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 8,\n\t\t\t\t\t\trow_class: 'zenario_date_filters_for_field',\n\t\t\t\t\t\tlabel: '<span class=\"zenario_date_filters_phrase\">' + phrase.before + \"</span>\",\n\t\t\t\t\t\ttype: 'date',\n\t\t\t\t\t\tonchange: \"zenarioO.updateDateFilters('\" + htmlspecialchars(c) + \"');\",\n\t\t\t\t\t\tvalue: dateBefore,\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t\tfields['v' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 9,\n\t\t\t\t\t\tsame_row: true,\n\t\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\t\tvalue: value_,\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t} else if (filterFormat == 'yes_or_no') {\n\t\t\t\t\t//Attempt to add a colon to the title of the column\n\t\t\t\t\tvar label = ('' + column.title);\n\t\t\t\t\tif (label.indexOf(':') == -1) {\n\t\t\t\t\t\tlabel += ':';\n\t\t\t\t\t\tlabel = label.replace(/\\s*:/, ':');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfields['v' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 7,\n\t\t\t\t\t\trow_class: 'zenario_filters_for_field yes_or_no',\n\t\t\t\t\t\tsnippet: {\n\t\t\t\t\t\t\thtml: invertLink + (zenarioO.getFilterValue('not', c)? phrase.no : phrase.yes) + '</a>'\n\t\t\t\t\t\t},\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t} else if (\n\t\t\t\t\t(filterFormat == 'enum' && column.values)\n\t\t\t\t || filterFormat == 'language_english_name_with_id'\n\t\t\t\t || filterFormat == 'language_english_name'\n\t\t\t\t || filterFormat == 'language_local_name_with_id'\n\t\t\t\t || filterFormat == 'language_local_name'\n\t\t\t\t) {\n\t\t\t\t\tvar values,\n\t\t\t\t\t\tempty_value = undefined;\n\t\t\t\t\t\n\t\t\t\t\tif (filterFormat == 'enum') {\n\t\t\t\t\t\t//Get the list of values for this column, adding on an empty value if one is not present\n\t\t\t\t\t\tvalues = column.values;\n\t\t\t\t\t\tif (!values[''] && !values[0]) {\n\t\t\t\t\t\t\tvalues = {};\n\t\t\t\t\t\t\tempty_value = phrase.selectListSelect;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tforeach (column.values as var v) {\n\t\t\t\t\t\t\t\tvalues[v] = column.values[v];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalues = {};\n\t\t\t\t\t\tvalues[''] = phrase.selectListSelect;\n\t\t\t\t\t\t\n\t\t\t\t\t\tforeach (zenarioA.lang as var v) {\n\t\t\t\t\t\t\tif (zenarioA.lang[v].enabled) {\n\t\t\t\t\t\t\t\tvalues[v] = zenarioA.lang[v].name;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (filterFormat == 'language_english_name_with_id'\n\t\t\t\t\t\t\t\t || filterFormat == 'language_local_name_with_id') {\n\t\t\t\t\t\t\t\t\tvalues[v] += ' (' + v + ')';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfields['v' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 7,\n\t\t\t\t\t\trow_class: 'zenario_filters_for_field enum',\n\t\t\t\t\t\tlabel: invertLink + (zenarioO.getFilterValue('not', c)? phrase.isnt : phrase.is) + '</a>',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tonchange: 'zenarioO.changeFilters();',\n\t\t\t\t\t\tempty_value: empty_value,\n\t\t\t\t\t\tvalues: values,\n\t\t\t\t\t\tvalue: value_,\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t} else if (engToBoolean(column.searchable)) {\n\t\t\t\t\t\n\t\t\t\t\tvar labelPhrase,\n\t\t\t\t\t\texact = column.format == 'id' || column.encrypted;\n\t\t\t\t\t\n\t\t\t\t\tif (zenarioO.getFilterValue('not', c)) {\n\t\t\t\t\t\tlabelPhrase = exact? phrase.isnt : phrase.notLike;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabelPhrase = exact? phrase.is : phrase.like;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfields['v' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 7,\n\t\t\t\t\t\trow_class: 'zenario_filters_for_field',\n\t\t\t\t\t\tlabel: invertLink + labelPhrase + '</a>',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tonkeyup: 'zenarioVO.changeFiltersAfterDelay();',\n\t\t\t\t\t\tvalue: value_,\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (zenarioO.getColumnFilterType(c)) {\n\t\t\t\t\tfields['togglefilter_' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 2,\n\t\t\t\t\t\tsame_row: true,\n\t\t\t\t\t\tpre_field_html: '<div class=\"organizer_togglefilter\">',\n\t\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\t\tonclick: \"zenarioO.toggleFilter(this, '\" + htmlspecialchars(c) + \"');\",\n\t\t\t\t\t\t'class': hidden? 'togglefilter_closed' : 'togglefilter_open',\n\t\t\t\t\t\tvalue: hidden? ' ' : 'x',\n\t\t\t\t\t\ttitle: hidden? phrase.filterByCol : phrase.filterByColStop,\n\t\t\t\t\t\tpost_field_html: '</div>'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (zenarioO.showCSVInViewOptions) {\n\t\t\t\tfields['up__' + c] = {\n\t\t\t\t\tord: 100 * colNo + 1,\n\t\t\t\t\tsame_row: true,\n\t\t\t\t\tpre_field_html: '<div class=\"organizer_mov_col\">',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\tvalue: ' ',\n\t\t\t\t\t'class': 'movcol_up',\n\t\t\t\t\tstyle: 'visibility: hidden;',\n\t\t\t\t\ttitle: phrase.moveColForward\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tfields['down__' + c] = {\n\t\t\t\t\tord: 100 * colNo + 2,\n\t\t\t\t\tsame_row: true,\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\tvalue: ' ',\n\t\t\t\t\t'class': 'movcol_down',\n\t\t\t\t\tstyle: 'visibility: hidden;',\n\t\t\t\t\ttitle: phrase.moveColBack,\n\t\t\t\t\tpost_field_html: '</div>'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tif (lastCol !== false) {\n\t\t\t\t\tfields['up__' + c].style = '';\n\t\t\t\t\tfields['up__' + c].onclick = 'zenarioO.switchColumnOrder(' + colNo + ', ' + lastCol + ', true)';\n\t\t\t\t\t\n\t\t\t\t\tfields['down__' + lastColName].style = '';\n\t\t\t\t\tfields['down__' + lastColName].onclick = 'zenarioO.switchColumnOrder(' + colNo + ', ' + lastCol + ', true)';\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastCol = colNo;\n\t\t\tlastColName = c;\n\t\t}\n\t}\n\t\n\t\n\tvar p,\n\t\tpref,\n\t\tpageSize,\n\t\tshowResetButton = false;\n\t\n\tif (zenarioO.branches[zenarioO.branches.length-1]\n\t && zenarioO.branches[zenarioO.branches.length-1].filters\n\t && zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path]) {\n\t\tforeach (zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path] as var p) {\n\t\t\tif (zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path][p].shown) {\n\t\t\t\tshowResetButton = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tforeach (prefs as p => pref) {\n\t\tif (p && pref) {\n\t\t\tshowResetButton = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tif (showResetButton) {\n\t\tfields.reset = {\n\t\t\tord: 100 * colNo + 12,\n\t\t\tfull_width: true,\n\t\t\ttype: 'toggle',\n\t\t\tonclick: \"zenarioO.resetPrefs();\",\n\t\t\tvalue: phrase.reset\n\t\t};\n\t}\n\t\n\tget('zenario_fbAdminViewModeOptions').innerHTML = zenarioVO.drawTUIX(fields, 'zenario_filters_popup', cb);\n\t\n\tzenario.addJQueryElements('#zenario_fbAdminViewModeOptions ', true);\n\tcb.done();\n\t\n\tzenarioO.size(true);\n};\n\nzenarioO.updateDateFilters = function(c) {\n\t\n\t//var getDateFromField = function(id) {\n\t//\t\treturn $.datepicker.formatDate($.datepicker.ATOM, $(get(id)).datepicker('getDate'));\n\t//\t},\n\t//\tdateAfter = getDateFromField('date_after_col_' + c),\n\t//\tdateBefore = getDateFromField('date_before_col_' + c),\n\t\n\tvar dateAfter = zenarioVO.readField('date_after_col_' + c),\n\t\tdateBefore = zenarioVO.readField('date_before_col_' + c),\n\t\tdomValue = get('v' + c);\n\t\n\tif (dateAfter || dateBefore) {\n\t\tdomValue.value = dateAfter + ',' + dateBefore;\n\t} else {\n\t\tdomValue.value = '';\n\t}\n\t\n\tzenarioO.changeFilters();\n};\n\nzenarioO.canSortColumn = function(c) {\n\tif (zenarioO.stop\n\t || engToBoolean(zenarioO.tuix.columns[c].disallow_sorting)\n\t || (zenarioO.server_side && !zenarioO.tuix.columns[c].db_column)) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nzenarioO.canFilterColumn = function(c) {\n\t\n\tvar col = zenarioO.tuix.columns[c],\n\t\tfilterFormat;\n\t\n\tif (!col) {\n\t\treturn false;\n\t}\n\t\n\tfilterFormat = col.filter_format || col.format;\n\t\n\t//Only allow filtering for columns in the database\n\tif (!(col.db_column || col.filter_column)\n\t || engToBoolean(col.server_side_only)\n\t || engToBoolean(col.disallow_filtering)\n\t\t//Catch the case where an enum column is missing its values - don't allow filtering here\n\t || (filterFormat == 'enum' && !col.values)) {\n\t\treturn false;\n\t}\n\t\n\tswitch (filterFormat) {\n\t\t//Date and enum type fields are implemented as a drop-down select list or toggle.\n\t\t//They should be filterable if an index has been created on that field.\n\t\tcase 'date':\n\t\tcase 'datetime':\n\t\tcase 'datetime_with_seconds':\n\t\tcase 'language_english_name_with_id':\n\t\tcase 'language_english_name':\n\t\tcase 'language_local_name_with_id':\n\t\tcase 'language_local_name':\n\t\t\treturn !engToBoolean(col.disallow_sorting);\n\t\t\n\t\t//Text type fields are implemented as a search box.\n\t\t//They should be filterable if they are flagged as searchable.\n\t\tdefault:\n\t\t\treturn engToBoolean(col.searchable);\n\t}\n};\n\nzenarioO.showHideColumn = function(show, c) {\n\t//Ignore requests to hide columns that are forced on\n\tif (engToBoolean(zenarioO.tuix.columns[c].always_show)) {\n\t\tshow = true;\n\t\n\t} else {\n\t\t//Ensure someone can never hide the last column!\n\t\tvar count = 0;\n\t\tforeach (zenarioO.tuix.columns as var i) {\n\t\t\tif (zenarioO.shownColumns[i]) {\n\t\t\t\t++count;\n\t\t\t}\n\t\t}\n\t\n\t\tif (count < 2 && !show) {\n\t\t\tshow = true;\n\t\t}\n\t}\n\t\n\t//Otherwise change this column's visibility\n\tif (show) {\n\t\tzenarioO.shownColumns[c] = true;\n\t} else {\n\t\tzenarioO.shownColumns[c] = false;\n\t}\n\t\n\tzenarioO.checkPrefs();\n\tzenarioO.prefs[zenarioO.path].shownColumns = zenarioO.shownColumns;\n\tzenarioO.savePrefs();\n\t\n\tzenarioO.setPanel();\n};\n\nzenarioO.resizeColumn = function(c, size) {\n\tif (zenarioO.shownColumns[c]) {\n\t\tsize = Math.max(size, zenarioO.columnWidths.xxsmall);\n\t\t\n\t\tzenarioO.checkPrefs();\n\t\tif (!zenarioO.prefs[zenarioO.path].colSizes) {\n\t\t\tzenarioO.prefs[zenarioO.path].colSizes = {};\n\t\t}\n\t\tzenarioO.prefs[zenarioO.path].colSizes[c] = size;\n\t\tzenarioO.savePrefs();\n\t}\n\t\n\tzenarioO.setPanel();\n};\n\nzenarioO.showHideColumnInCSV = function(el, c) {\n\tzenarioO.checkPrefs();\n\t\n\tif (!zenarioO.prefs[zenarioO.path].shownColumnsInCSV) {\n\t\tzenarioO.prefs[zenarioO.path].shownColumnsInCSV = {};\n\t}\n\t\n\tif (el.checked) {\n\t\tzenarioO.prefs[zenarioO.path].shownColumnsInCSV[c] = true;\n\t} else {\n\t\tzenarioO.prefs[zenarioO.path].shownColumnsInCSV[c] = false;\n\t}\n\t\n\tzenarioO.savePrefs();\n};\n\nzenarioO.switchColumnOrder = function(a, b, viewOptions) {\n\tif (typeof a == 'object') {\n\t\tvar n,\n\t\t\tcol,\n\t\t\tcolumnsToMove = {};\n\t\t\tmoveableColumns = {},\n\t\t\tpi = -1,\n\t\t\tpositions = [];\n\t\t\n\t\tforeach (a as n) {\n\t\t\tcol = a[n];\n\t\t\t\n\t\t\tcolumnsToMove[col] = true;\n\t\t}\n\t\t\n\t\tforeach (zenarioO.sortedColumns as n) {\n\t\t\tcol = zenarioO.sortedColumns[n];\n\t\t\t\n\t\t\tif (columnsToMove[col]) {\n\t\t\t\tmoveableColumns[col] = true;\n\t\t\t\tpositions[++pi] = n;\n\t\t\t\t\n\t\t\t\tzenarioO.sortedColumns[n] = undefined;\n\t\t\t}\n\t\t}\n\t\t\n\t\tpi = -1;\n\t\tforeach (a as n) {\n\t\t\tcol = a[n];\n\t\t\t\n\t\t\tif (columnsToMove[col] && moveableColumns[col]) {\n\t\t\t\tzenarioO.sortedColumns[positions.shift()] = col;\n\t\t\t}\t\n\t\t}\n\t\t\n\t\tfor (n = zenarioO.sortedColumns.length - 1; n >= 0; --n) {\n\t\t\tif (!defined(zenarioO.sortedColumns[n])) {\n\t\t\t\tzenarioO.sortedColumns.splice(n, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t} else {\n\t\tvar tmp = zenarioO.sortedColumns[a];\n\t\tzenarioO.sortedColumns[a] = zenarioO.sortedColumns[b];\n\t\tzenarioO.sortedColumns[b] = tmp;\n\t}\n\t\n\tzenarioO.checkPrefs();\n\tzenarioO.prefs[zenarioO.path].sortedColumns = zenarioO.sortedColumns;\n\t\n\tzenarioO.setPanel();\n\t\n\tif (viewOptions) {\n\t\tzenarioO.setViewOptions();\n\t}\n\t\n\tzenarioO.savePrefs();\n};\n\nzenarioO.resetPrefs = function() {\n\t\n\tzenarioO.checkPrefs();\n\tif (zenarioO.prefs[zenarioO.path]) {\n\t\tzenarioO.prefs[zenarioO.path] = {};\n\t\tzenarioO.savePrefs();\n\t}\n\t\n\tif (zenarioO.branches[zenarioO.branches.length-1]\n\t && zenarioO.branches[zenarioO.branches.length-1].filters) {\n\t\tzenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path] = {};\n\t}\n\t\n\tzenarioA.closeBox('AdminViewModeOptions');\n\t\n\tzenarioO.refreshAndShowPage();\n};\n\n\n\nzenarioO.checkIfColumnPickerChangesAreAllowed = function(c) {\n\t//Don't allow the sort order to be changed when reordering\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\treturn true;\n};\n\nzenarioO.changeSortOrder = function(c) {\n\tif (!zenarioO.canSortColumn(c)\n\t || !zenarioO.checkIfColumnPickerChangesAreAllowed(c)) {\n\t\treturn;\n\t}\n\t\n\tif (zenarioO.sortBy == c) {\n\t\tzenarioO.sortDesc = !zenarioO.sortDesc;\n\t} else {\n\t\tzenarioO.sortBy = c;\n\t\tzenarioO.sortDesc = false;\n\t}\n\t\n\tzenarioO.checkPrefs();\n\tzenarioO.prefs[zenarioO.path].sortBy = zenarioO.sortBy;\n\tzenarioO.prefs[zenarioO.path].sortDesc = zenarioO.sortDesc;\n\t\n\tif (zenarioO.pi) {\n\t\tzenarioO.pi.cmsSetsSortColumn(zenarioO.sortBy, zenarioO.sortDesc);\n\t}\n\tzenarioO.runSearch();\n\t\n\t//This line is not needed now we don't use the view options for sorting columns\n\t//zenarioO.setViewOptions();\n\t\n\tzenarioO.savePrefs(true);\n};\n\nzenarioO.toggleFilter = function(el, c) {\n\t\n\tvar shown,\n\t\tfilterType = zenarioO.getColumnFilterType(c);\n\t\n\tif (!filterType\n\t || !zenarioO.checkIfColumnPickerChangesAreAllowed(c)) {\n\t\treturn;\n\t}\n\t\n\t//Toogle whether this filter is hidden or shown\n\tshown = !zenarioO.getFilterValue('s', c);\n\tzenarioO.setFilterValue('s', c, shown);\n\t\n\t//Unset values of hidden filters\n\tvar refreshNeeded = false;\n\tif (!shown) {\n\t\tif (zenarioO.getFilterValue('v', c)) {\n\t\t\tzenarioO.setFilterValue('v', c, '')\n\t\t\trefreshNeeded = true;\n\t\t}\n\t\tzenarioO.setFilterValue('not', c, false);\n\t}\n\t\n\t//yes_or_no type filters should turn on by default if activated\n\tif (filterType == 'yes_or_no') {\n\t\tif (shown) {\n\t\t\trefreshNeeded = true;\n\t\t\tzenarioO.setFilterValue('v', c, 1);\n\t\t}\n\t}\n\t\n\t\n\tzenarioO.setViewOptions(c);\n\t\n\t//Animate in/out the field that was just shown/hidden\n\tzenarioVO.hideShowFields(function() {\n\t\tzenarioO.size(true);\n\t\t//Focus a text field straight away if we can\n\t\tif (get('v' + c) && $(get('v' + c)).is(':visible')) {\n\t\t\tget('v' + c).focus();\n\t\t}\n\t});\n\t\n\t\n\t//If a filter with a value set was hidden, we will need to refresh to update the panel with the changes\n\tif (refreshNeeded) {\n\t\tzenarioO.refreshAndShowPage();\n\t}\n};\n\nzenarioO.invertFilter = function(el, c, format) {\n\tif (!zenarioO.checkIfColumnPickerChangesAreAllowed(c)) {\n\t\treturn;\n\t}\n\t\n\t//Toogle whether this filter is inverted or not\n\tvar not = !zenarioO.getFilterValue('not', c);\n\tzenarioO.setFilterValue('not', c, not);\n\t\n\t//Redraw the form to change the button\n\tzenarioO.setViewOptions(c);\n\t\n\t//If a filter with a value set was inverted, we will need to refresh to update the panel with the changes\n\tif (zenarioO.filterSetOnColumn(c)) {\n\t\tzenarioO.refreshAndShowPage();\n\t}\n};\n\nzenarioO.refreshIfFilterSet = function(c) {\n\tif (zenarioO.getFilterValue('v', c)) {\n\t\tzenarioO.refreshAndShowPage();\n\t}\n};\n\nzenarioO.filterSetOnColumn = function(c, filters) {\n\treturn !!zenarioO.getFilterValue('v', c, filters);\n};\n\nzenarioO.getFilterValue = function(filter, c, filters) {\n\tif (!defined(filters)) {\n\t\tfilters = zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path];\n\t}\n\n\tif (filters\n\t && filters[c]\n\t && filters[c][filter]) {\n\t\treturn filters[c][filter];\n\t} else {\n\t\treturn '';\n\t}\n};\n\nzenarioO.setFilterValue = function(filter, c, value) {\n\t\n\tvar filters = zenarioO.branches[zenarioO.branches.length-1].filters;\n\t\n\tif (!filters[zenarioO.path]) {\n\t\tfilters[zenarioO.path] = {};\n\t}\n\tif (!filters[zenarioO.path][c]) {\n\t\tfilters[zenarioO.path][c] = {};\n\t}\n\t\n\t//Store the value.\n\t//A couple of little hacks to save space here:\n\t\t//There's no difference between {not: false} and {not: undefined} so we can delete \"not\" if it is false\n\t\t//Also \"not\" and \"show\" is used a as a boolean, so we can convert {s: true} to {s: 1} and {s: false} to {s: 0}\n\tif (!defined(value)\n\t || (!value && c == 'not')) {\n\t\tdelete filters[zenarioO.path][c][filter];\n\t\n\t} else if (c == 's' || c == 'not') {\n\t\tfilters[zenarioO.path][c][filter] = engToBoolean(value);\n\t\n\t} else {\n\t\tfilters[zenarioO.path][c][filter] = value;\n\t}\n\t\n\tif (_.isEmpty(filters[zenarioO.path][c])) {\n\t\tdelete filters[zenarioO.path][c];\n\t}\n\tif (_.isEmpty(filters[zenarioO.path])) {\n\t\tdelete filters[zenarioO.path];\n\t}\n};\n\nzenarioO.clearFilter = function(c) {\n\tzenarioO.setFilterValue('v', c);\n\tzenarioO.setFilterValue('not', c);\n};\n\n\nzenarioVO.changeFiltersAfterDelay = function() {\n\tzenario.actAfterDelayIfNotSuperseded('changeFilters', zenarioO.changeFilters, 700);\n};\n\nzenarioO.changeFilters = function() {\n\t\n\t//Don't allow the filters to be touched when reordering\n\tif (zenarioO.stop) {\n\t\tzenarioO.setViewOptions();\n\t\treturn;\n\t}\n\t\n\t\n\tvar value;\n\tforeach (zenarioO.tuix.columns as var c) {\n\t\tif (zenarioO.isShowableColumn(c)) {\n\t\t\tif (get('v' + c) || get('v' + c + '___yes')) {\n\t\t\t\tif (value = zenarioVO.readField('v' + c)) {\n\t\t\t\t\tzenarioO.setFilterValue('v', c, value);\n\t\t\t\t} else {\n\t\t\t\t\tzenarioO.setFilterValue('v', c, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (get('remove_filter_' + c)) {\n\t\t\t\tget('remove_filter_' + c).className =\n\t\t\t\t\tzenarioO.filterSetOnColumn(c)? 'organizer_remove_filter organizer_remove_filter_active' : 'organizer_remove_filter organizer_remove_filter_inactive'\n\t\t\t}\n\t\t}\n\t}\n\t\n\tzenarioO.refreshAndShowPage();\n};\n\nzenarioO.changePageSize = function(newPageSize) {\n\t\n\t//Don't allow the filters to be touched when reordering\n\tif (zenarioO.stop) {\n\t\t//zenarioO.setViewOptions();\n\t\treturn;\n\t}\n\t\n\tzenarioO.checkPrefs();\n\tif (1*newPageSize) {\n\t\tzenarioO.prefs[zenarioO.path].pageSize = 1*newPageSize;\n\t} else {\n\t\tdelete zenarioO.prefs[zenarioO.path].pageSize;\n\t}\n\t\n\t//zenarioO.setViewOptions();\n\tzenarioO.refreshAndShowPage();\n\tzenarioO.savePrefs(true);\n};\n\n\nzenarioO.hideViewOptions = function(e) {\n\tzenarioA.closeBox('AdminViewModeOptions');\n\treturn false;\n};\n\n\n\n\n\n\n\nzenarioO.isShowableColumn = function(c, shown) {\n\t\n\tvar column = zenarioO.tuix.columns[c];\n\t\n\tif (shown) {\n\t\treturn zenarioO.shownColumns[c] && zenarioO.isShowableColumn(c);\n\t} else {\n\t\t//zenarioT.hidden(tuixObject, lib, item, id, button, column, field, section, tab, tuix)\n\t\treturn column\n\t\t\t&& column.title\n\t\t\t&& !engToBoolean(column.server_side_only)\n\t\t\t&& !zenarioT.hidden(undefined, zenarioO, undefined, c, undefined, column)\n\t\t\t&& !zenarioO.checkHiddenByFilter(column);\n\t}\n};\n\n\n//  Sorting Functions  //\n\nzenarioO.getSortedIdsOfTUIXElements = function(toSort, column, desc) {\n\treturn zenarioT.getSortedIdsOfTUIXElements(zenarioO.tuix, toSort, column, desc);\n};\n\n//Given two elements from the above function, say which order they should be in\nzenarioO.sortArray = function(a, b) {\n\tif (a[1] === b[1]) {\n\t\t//If their values are the same type and identical, say that they're identical\n\t\treturn 0;\n\t\n\t} else if (a[2]? b[2] : !b[2]) {\n\t\t//If they're the same type, use a < to work out which is smallest\n\t\treturn a[1] < b[1]? -1 : 1;\n\t\n\t} else {\n\t\t//Otherwise order by numeric data first, then strings\n\t\treturn a[2]? -1 : 1;\n\t}\n};\n\n\n\nzenarioO.dateDays = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];\nzenarioO.dateMonths = ['January','Feburary','March','April','May','June','July','August','September','October','November','December'];\n\n\n\n\n\nzenarioO.checkCondition = function(condition) {\n\tvar id,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\n    foreach (selectedItems as var id) {\n    \tif (!zenarioO.tuix.items[id]) {\n    \t\treturn false\n    \t\n    \t} else if (!condition(id, zenarioO.tuix.items[id])) {\n            return false;\n        }\n    }\n    return true;\n};\n\nzenarioO.columnEqual = function(column, value) {\n\treturn zenarioO.checkCondition(function(id) {\n\t\treturn zenarioO.columnRawValue(id, column) == value;\n\t});\n};\n\nzenarioO.columnNotEqual = function(column, value) {\n\treturn zenarioO.checkCondition(function(id) {\n\t\treturn zenarioO.columnRawValue(id, column) != value;\n\t});\n};\n\nzenarioO.columnRawValue = function(i, c) {\n\t\n\tif (!zenarioO.tuix\n\t || !zenarioO.tuix.columns\n\t || !defined(zenarioO.tuix.columns[c])\n\t || !defined(zenarioO.tuix.items[i])) {\n\t\treturn '';\n\t}\n\t\n\treturn zenarioO.tuix.items[i][c];\n};\n\nzenarioO.columnValue = function(i, c, dontHTMLEscape) {\n\t\n\tif (!zenarioO.tuix) {\n\t\treturn '';\n\t}\n\t\n\t\n\tvar col = (zenarioO.tuix.columns && zenarioO.tuix.columns[c]) || {},\n\t\tvalue = zenarioO.tuix.items[i][c];\n\t\n\tif (value === false || !defined(value)) {\n\t\tvalue = '';\n\t} else {\n\t\tvalue = '' + value;\n\t}\n\t\n\t\n\t//Is this item an item link..?\n\tvar item_link = col.item_link,\n\t\tisSKLink = true,\n\t\tisURL = false,\n\t\titemName;\n\t\n\tif (item_link) {\n\t\tvar item = false;\n\t\t\n\t\tswitch (item_link) {\n\t\t\tcase 'content_item':\n\t\t\tcase 'content_item_or_url':\n\t\t\t\tvar lang = zenarioO.itemLanguage(i),\n\t\t\t\t\tparent = zenarioO.itemParent(i);\n\t\t\n\t\t\t\tif (value\n\t\t\t\t && zenarioO.contentItems[lang]\n\t\t\t\t && zenarioO.contentItems[lang][parent]\n\t\t\t\t && (item = zenarioO.contentItems[lang][parent].items)\n\t\t\t\t && (item = item[value])) {\n\t\t\t\n\t\t\t\t} else if (item_link == 'content_item_or_url'\n\t\t\t\t\t\t&& value\n\t\t\t\t\t\t&& value.substr(0, 1) != '_'\n\t\t\t\t\t\t&& value.substr(1, 2) != '_'\n\t\t\t\t) {\n\t\t\t\t\titem = {name: value, frontend_link: value};\n\t\t\t\t\tisSKLink = false;\n\t\t\n\t\t\t\t} else {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 'menu_item':\n\t\t\t\tvar lang = zenarioO.itemLanguage(i);\n\t\t\t\tif (value && zenarioO.menuItems[lang] && (item = zenarioO.menuItems[lang].items) && (item = item[value])) {}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tif (value && zenarioO.otherItemLinks[item_link] && (item = zenarioO.otherItemLinks[item_link].items) && (item = item[value])) {}\n\t\t\t\n\t\t}\n\t\t\n\t\tif (item) {\n\t\t\tif (dontHTMLEscape) {\n\t\t\t\treturn item.name;\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tvar href = '';\n\t\t\t\t\n\t\t\t\tif (zenarioO.tuix.items[i].cell_css_classes\n\t\t\t\t && zenarioO.tuix.items[i].cell_css_classes[c]\n\t\t\t\t && ('' + zenarioO.tuix.items[i].cell_css_classes[c]).indexOf('ghost') != -1) {\n\t\t\t\t\t//Don't allow ghosted Item Links to be clickable\n\t\t\t\t\thref = ' style=\"cursor: default;\"';\n\t\t\t\t\t\n\t\t\t\t\tif (item_link == 'menu_item') {\n\t\t\t\t\t\thref += ' title=\"' + htmlspecialchars(item.name) + '|\"';\n\t\t\t\t\t\n\t\t\t\t\t} else if (item_link == 'content_item' || item_link == 'content_item_or_url') {\n\t\t\t\t\t\thref += ' title=\"' + htmlspecialchars(item.name) + '|\"';\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tif (isSKLink && !window.zenarioONotFull) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar extraParams = '',\n\t\t\t\t\t\t\tnavPath,\n\t\t\t\t\t\t\ttagPath = zenarioO.shallowLinks[item_link] || item_link;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (item.navigation_path) {\n\t\t\t\t\t\t\tnavPath = item.navigation_path;\n\t\t\t\t\t\t\n\t\t\t\t\t\t} else if (zenarioO.shallowLinks[item_link]) {\n\t\t\t\t\t\t\tnavPath = zenarioO.shallowLinks[item_link] + '//' + value;\n\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnavPath = item_link + '//' + value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (zenarioO.shallowLinks[item_link]) {\n\t\t\t\t\t\t\textraParams = \", name: 'following_item_link', languageId: '\" + htmlspecialchars(zenarioO.itemLanguage(i)) + \"'\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\thref =\n\t\t\t\t\t\t\t' href=\"organizer.php#' + htmlspecialchars(navPath) + '\" onclick=\"' +\n\t\t\t\t\t\t\t\t\"zenarioO.deselectAllItems();\" +\n\t\t\t\t\t\t\t\t\"var selectedItems = {};\" +\n\t\t\t\t\t\t\t\t\"selectedItems['\" + htmlspecialchars(i) + \"'] = true;\" +\n\t\t\t\t\t\t\t\t\"zenarioO.pi.cmsSetsSelectedItems(selectedItems);\" +\n\t\t\t\t\t\t\t\t\"zenarioO.setHash();\" +\n\t\t\t\t\t\t\t\t\"zenarioO.go('\" + htmlspecialchars(tagPath) + \"', true, {id: '\" + htmlspecialchars(value) + \"'\" + extraParams + \"}, undefined, undefined, undefined, undefined, '\" + htmlspecialchars(value) + \"');\" +\n\t\t\t\t\t\t\t\t\"return zenario.stop(event);\" +\n\t\t\t\t\t\t\t'\"';\n\t\t\t\t\t\n\t\t\t\t\t} else if (item.navigation_path) {\n\t\t\t\t\t\thref = ' href=\"' + URLBasePath + 'zenario/admin/organizer.php#/' + htmlspecialchars(item.navigation_path) + '\" target=\"_blank\"';\n\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisSKLink = false;\n\t\t\t\t\t\tif (item.frontend_link) {\n\t\t\t\t\t\t\tisURL = true;\n\t\t\t\t\t\t\thref = ' href=\"' + htmlspecialchars(zenario.addBasePath(item.frontend_link)) + '\" target=\"_blank\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (isSKLink) {\n\t\t\t\t\t\tif (item_link == 'menu_item') {\n\t\t\t\t\t\t\thref += ' title=\"' + htmlspecialchars(item.name) + '|' + phrase.clkToViewLinkedMenuNode + '\"';\n\t\t\t\t\t\t\n\t\t\t\t\t\t} else if (item_link == 'content_item' || item_link == 'content_item_or_url') {\n\t\t\t\t\t\t\thref += ' title=\"' + htmlspecialchars(item.name) + '|' + phrase.clkToViewLinkedCItem + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t} else if (isURL) {\n\t\t\t\t\t\thref += ' title=\"' + htmlspecialchars(item.name) + '|' + phrase.clkToViewLinkInNewWindow + '\"';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tswitch (item_link) {\n\t\t\t\t\tcase 'content_item':\n\t\t\t\t\tcase 'content_item_or_url':\n\t\t\t\t\t\titemName = item.name;\n\t\t\t\t\t\tbreak;\n\t\t\t\n\t\t\t\t\tcase 'menu_item':\n\t\t\t\t\t\tvar longName = htmlspecialchars(item.name);\n\t\t\t\t\t\tvar shortName = longName.replace(/.*?\\-\\&gt\\; /g, '-&gt; ');\n\t\t\t\t\t\n\t\t\t\t\t\tif (shortName == longName) {\n\t\t\t\t\t\t\tshortName = longName.replace(/.*?\\: /g, '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\titemName = shortName;\n\t\t\t\t\t\tbreak;\n\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\titemName = zenarioA.formatOrganizerItemName(zenarioO.otherItemLinks[item_link], value);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn zenarioT.microTemplate('zenario_organizer_item_link', {\n\t\t\t\t\titem: item,\n\t\t\t\t\titem_link: item_link,\n\t\t\t\t\titemName: itemName,\n\t\t\t\t\thref: href,\n\t\t\t\t\tpanel: zenarioO.otherItemLinks[item_link],\n\t\t\t\t\tvalue: value\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t//Otherwise check to see if this is a formated column\n\tif (col.format || col.empty_value) {\n\t\tvalue = zenarioA.formatSKItemField(value, col);\n\t}\n\t\n\t\n\tvar applyLengthLimit = col.length_limit && value.length > col.length_limit;\n\t\n\tif (dontHTMLEscape) {\n\t\tif (applyLengthLimit) {\n\t\t\treturn value.substr(0, col.length_limit) + '...';\n\t\t} else {\n\t\t\treturn value;\n\t\t}\n\t\n\t} else {\n\t\tif (applyLengthLimit) {\n\t\t\treturn '<span class=\"tooltip\" title=\"' + htmlspecialchars(value) + '\">' +\n\t\t\t\t\t\thtmlspecialchars(value.substr(0, col.length_limit)) +\n\t\t\t\t\t'...</span>';\n\t\t\n\t\t} else {\n\t\t\treturn htmlspecialchars(value);\n\t\t}\n\t}\n};\n\nzenarioO.rowCssClass = function(i) {\n\tvar item = zenarioO.tuix.items[i] || {};\n\treturn item.row_class || item.row_css_class || '';\n\t\t//N.b. row_css_class is the old name for this property;\n\t\t//I've kept it here to preserve backwards compatability just in case it's used in any old client modules\n};\n\nzenarioO.columnCssClass = function(c, i) {\n\tvar html = '',\n\t\tcol = zenarioO.tuix.columns[c],\n\t\titem = defined(i) && zenarioO.tuix.items[i];\n\t\n\tif (col && col['css_class']) {\n\t\thtml += ' ' + col['css_class'];\n\t}\n\t\n\tif (item\n\t && item.cell_css_classes\n\t && item.cell_css_classes[c]) {\n\t\thtml += ' ' + item.cell_css_classes[c];\n\t}\n\t\n\tif (item\n\t && item[c]\n\t && col\n\t && col.values\n\t && col.values[item[c]]\n\t && col.values[item[c]].css_class) {\n\t\thtml += ' ' + col.values[item[c]].css_class;\n\t}\n\t\n\treturn html;\n};\n\n\n\n\n//\tDisplay Functions  //\n\n//Warning: the zenarioO.setBackButton() and zenarioO.getBackButtonTitle() functions both\n//rely on the zenarioO.setNavigation() function being called first!\nzenarioO.setBackButton = function() {\n\tvar i,\n\t\thtml = '',\n\t\ttitles = zenarioO.getBackButtonTitle(-1, true),\n\t\tdata = {\n\t\t\tbuttons: []\n\t\t};\n\t\n\tif (!titles || titles.length == 0) {\n\t\tget('organizer_branding_title').style.display = 'block';\n\t\tget('organizer_backButton').style.display = 'none';\n\t\n\t} else {\n\t\tget('organizer_branding_title').style.display = 'none';\n\t\tget('organizer_backButton').style.display = 'block';\n\t\t\n\t\tforeach (titles as i) {\n\t\t\tdata.buttons[i] = {\n\t\t\t\torderAsc: i + 1,\n\t\t\t\torderDesc: titles.length - i,\n\t\t\t\ttitle: titles[i]\n\t\t\t};\n\t\t}\n\t\t\n\t\thtml = zenarioT.microTemplate('zenario_organizer_back_buttons', data);\n\t}\n\t\n\tget('organizer_backButton').innerHTML = html;\n\tzenarioA.tooltips('#organizer_backButton *[title]');\n\tzenarioA.setTooltipIfTooLarge('.organizer_lastBackButton a', undefined, zenarioA.tooltipLengthThresholds.organizerBackButton);\n};\n\nzenarioO.getBackButtonTitle = function(times, getArray) {\n\tvar branchLevel = zenarioO.branches.length - 1;\n\treturn zenarioO.getFromLastPanel(branchLevel, zenarioO.path, 'title', false, times, getArray);\n};\n\nzenarioO.getSelectedItemFromLastPanel = function(path) {\n\tvar id,\n\t\tselectedItems = false;\n\t\n\tif ((panelInstance = zenarioO.getFromLastPanel(zenarioO.branches.length-1, zenarioO.path, 'panel_instances', true))\n\t && (panelInstance = panelInstance[path])) {\n\t\tselectedItems = panelInstance.returnSelectedItems();\n\t}\n\t\n\tif (selectedItems) {\n\t\tforeach (selectedItems as id) {\n\t\t\treturn id;\n\t\t}\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.getFromLastPanel = function(branchLevel, path, thing, branchBelow, times, getArray, stats, secondCall) {\n\t\n\tif (!zenarioO.tuix || !zenarioO.path) {\n\t\treturn false;\n\t}\n\t\n\tvar output,\n\t\tarrayOut = false,\n\t\thash,\n\t\tbackLink,\n\t\tgoDownBranch = false,\n\t\tgoUpPath = false;\n\t\n\tif (!defined(times)) {\n\t\ttimes = 1;\n\t}\n\tif (!defined(stats)) {\n\t\tstats = {};\n\t}\n\tif (!defined(stats.path)) {\n\t\tstats.path = path;\n\t}\n\tif (!defined(stats.pops)) {\n\t\tstats.pops = 0;\n\t}\n\t\n\t\t//Don't go further back than the top-level panel\n\tif (branchLevel === 0 && path.indexOf('/') == -1) {\n\t\treturn false;\n\t}\n\t\n\tif (thing != 'no_return') {\n\t\t\t//Don't allow the back button if the last panel used the \"no return\" flag\n\t\tif (engToBoolean(zenarioO.getFromLastPanel(branchLevel, path, 'no_return'))\n\t\t\t\n\t\t\t//Don't allow the back button if it has been disabled using <back_link></back_link>\n\t\t || (branchLevel === 0 && !zenarioO.tuix.back_link)\n\t\t \n\t\t\t//If the current top level has a refiner in it, treat the end-point of the refiner\n\t\t\t//(i.e. the second branch-level) as the start and don't allow anything to reference\n\t\t\t//the first branch level (which you can never actually navigate to).\n\t\t || (branchLevel < 2 && zenarioO.currentTopLevelPathHasRefiner)) {\n\t\t\t\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//Is this the start of the branch?\n\tif (branchLevel > 0 && path == zenarioO.branches[branchLevel].to) {\n\t\t//If so, look for the previous panel\n\t\t\n\t\t//Don't allow the admin to go above the min-path in select mode\n\t\tif (window.zenarioONotFull && window.zenarioOMinPath && path == window.zenarioOMinPath && (window.zenarioODisallowRefinersLoopingOnMinPath || zenarioO.branches[branchLevel].from != path)) {\n\t\t\treturn false;\n\t\t\n\t\t//If the previous panel was a bypass, call zenarioO.getFromLastPanel() again to get the title of the panel before that.\n\t\t} else if (zenarioO.branches[branchLevel-1].bypasses[zenarioO.branches[branchLevel].from]\n\t\t\t\n\t\t\t//Note that bypasses are only used for item links, so we need to check if actually is an item link just in case we disallow the back button when it should in fact be allowed\n\t\t && zenarioO.knownBranches[zenarioO.branches[branchLevel].from]\n\t\t && zenarioO.knownBranches[zenarioO.branches[branchLevel].from][zenarioO.branches[branchLevel].to]\n\t\t && zenarioO.knownBranches[zenarioO.branches[branchLevel].from][zenarioO.branches[branchLevel].to][zenarioO.branches[branchLevel].refiners[zenarioO.branches[branchLevel].to]? zenarioO.branches[branchLevel].refiners[zenarioO.branches[branchLevel].to].name : 1]\n\t\t && zenarioO.knownBranches[zenarioO.branches[branchLevel].from][zenarioO.branches[branchLevel].to][zenarioO.branches[branchLevel].refiners[zenarioO.branches[branchLevel].to]? zenarioO.branches[branchLevel].refiners[zenarioO.branches[branchLevel].to].name : 1].substr(-4) == 'item'\n\t\t) {\n\t\t\treturn zenarioO.getFromLastPanel(branchLevel-1, zenarioO.branches[branchLevel].from, thing, branchBelow, times, getArray, stats, true);\n\t\t\n\t\t//Set the title of the back button to the last panel in the previous branch.\n\t\t//Return eiher the current branch or the branch below if branchBelow is set.\n\t\t} else {\n\t\t\tgoDownBranch = true;\n\t\t\t\n\t\t\tif (branchBelow) {\n\t\t\t\toutput = zenarioO.branches[branchLevel-1][thing];\n\t\t\t} else {\n\t\t\t\toutput = zenarioO.branches[branchLevel][thing];\n\t\t\t}\n\t\t}\n\t\n\t} else if (zenarioO.branches[branchLevel][thing]) {\n\t\tgoDownBranch = true;\n\t\toutput = zenarioO.branches[branchLevel][thing];\n\t\n\t} else {\n\t\t//Otherwise check to see if there is a panel naturally above the current panel and use the title from there\n\t\tif (!secondCall && path == zenarioO.path) {\n\t\t\tbackLink = zenarioO.tuix.back_link;\n\t\t} else {\n\t\t\tbackLink = zenarioO.followPathOnMap(path, 'back_link');\n\t\t}\n\t\t\n\t\t\n\t\tif (!backLink) {\n\t\t\treturn false;\n\t\t\n\t\t//Don't allow the admin to go above the min-path in select mode\n\t\t} else if (window.zenarioONotFull && window.zenarioOMinPath && path == window.zenarioOMinPath && (window.zenarioODisallowRefinersLoopingOnMinPath || backLink != path)) {\n\t\t\treturn false;\n\t\t\n\t\t//Otherwise just attempt to read the title off from the map\n\t\t} else {\n\t\t\tgoUpPath = true;\n\t\t\toutput = zenarioO.followPathOnMap(backLink, thing);\n\t\t}\n\t}\n\t\n\tif (goDownBranch) {\n\t\tstats.path = zenarioO.branches[branchLevel].from;\n\t\t++stats.pops;\n\t\n\t} else if (goUpPath && backLink) {\n\t\tstats.path = backLink;\n\t}\n\t\n\tif (--times != 0) {\n\t\tif (goDownBranch) {\n\t\t\tarrayOut = zenarioO.getFromLastPanel(branchLevel-1, zenarioO.branches[branchLevel].from, thing, branchBelow, times, getArray, stats, true);\n\t\t\n\t\t} else if (goUpPath && backLink) {\n\t\t\tarrayOut = zenarioO.getFromLastPanel(branchLevel, backLink, thing, branchBelow, times, getArray, stats, true);\n\t\t\n\t\t} else {\n\t\t\t//should never happen\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tif (getArray) {\n\t\tif (!arrayOut) {\n\t\t\tarrayOut = [];\n\t\t}\n\t\tarrayOut[arrayOut.length] = output;\n\t\t\n\t\treturn arrayOut;\n\t\n\t} else if (arrayOut !== false) {\n\t\treturn arrayOut;\n\t\n\t} else {\n\t\treturn output;\n\t}\n};\n\n\n\n//Warning: the zenarioO.setBackButton() and zenarioO.getBackButtonTitle() functions both\n//rely on the zenarioO.setNavigation() function being called first!\nzenarioO.setNavigation = function(returnData) {\n\tvar i, j,\n\t\titemNo, jtemNo,\n\t\tti = -1,\n\t\tselected1st,\n\t\tselected2nd,\n\t\tlength,\n\t\tlongestMatch = -1,\n\t\tcommonPrefix,\n\t\tsortedSecondLevelItems,\n\t\tdata = {\n\t\t\titems: [],\n\t\t\tselected1st: 0\n\t\t},\n\t\t\n\t\t//Work out which top level item was selected, either by looking at the first branch, or if there are no\n\t\t//branches, the current path.\n\t\tpath = zenarioO.path,\n\t\tnavPath = zenarioO.getHash(true),\n\t\tthisNavPath;\n\t\n\tif (!zenarioO.sortedTopLevelItems) {\n\t\tzenarioO.sortedTopLevelItems = zenarioO.getSortedIdsOfTUIXElements(zenarioO.map);\n\t}\n\t\n\tzenarioO.currentTopLevelPathHasRefiner = false;\n\t\n\tif (zenarioO.branches.length > 1) {\n\t\tpath = zenarioO.branches[1].from;\n\t}\n\t\n\t\n\t//Loop through all of the first and second level navs\n\tforeach (zenarioO.map as i) {\n\t\tif (i != 'top_right_buttons'\n\t\t && typeof zenarioO.map[i] == 'object'\n\t\t && zenarioO.map[i].nav) {\n\t\t\tforeach (zenarioO.map[i].nav as j) {\n\t\t\t\tif (typeof zenarioO.map[i].nav[j] == 'object') {\n\t\t\t\t\t\n\t\t\t\t\t//Work out which first/second level nav should be selected by comparing its path against the navigation path\n\t\t\t\t\tthisNavPath = i + '/nav/' + j + '/panel';\n\t\t\t\t\t\n\t\t\t\t\tif (zenarioO.map[i].nav[j].link\n\t\t\t\t\t && zenarioO.map[i].nav[j].link.path) {\n\t\t\t\t\t\tthisNavPath = zenarioO.map[i].nav[j].link.path;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlength = (thisNavPath + '').length;\n\t\t\t\t\t\n\t\t\t\t\tif (longestMatch < length\n\t\t\t\t\t && (commonPrefix = (navPath + '/').substr(0, length))\n\t\t\t\t\t && (commonPrefix == thisNavPath\n\t\t\t\t\t  || commonPrefix == thisNavPath + '/')) {\n\t\t\t\t\t\tlongestMatch = length;\n\t\t\t\t\t\tselected1st = i;\n\t\t\t\t\t\tselected2nd = j;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t\n\t//Loop through each top level nav\n\tforeach (zenarioO.sortedTopLevelItems as itemNo => i) {\n\t\t\n\t\tvar first2nd = true,\n\t\t\tsi = -1,\n\t\t\tprop,\n\t\t\ttopLevel = zenarioO.map[i],\n\t\t\tsecondLevel,\n\t\t\ttopLevelTUIX,\n\t\t\tsecondLevelTUIX,\n\t\t\tpanelItemDefaults,\n\t\t\titem_css_class;\n\t\t\n\t\tif (i == 'top_right_buttons'\n\t\t\t//zenarioT.hidden(tuixObject, lib, item, id, button, column, field, section, tab, tuix)\n\t\t || zenarioT.hidden(undefined, zenarioO, undefined, i, undefined, undefined, undefined, topLevel)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\t//Set data to pass to the microtemplate\n\t\ttopLevelTUIX = data.items[++ti] = {\n\t\t\tid: i,\n\t\t\titems: [],\n\t\t\tselected: i === selected1st,\n\t\t\tcss_class: topLevel.css_class,\n\t\t\tlabel: topLevel.label || topLevel.name,\n\t\t\ttooltip: topLevel.tooltip,\n\t\t\thref: topLevel.href,\n\t\t\tonclick: topLevel.onclick,\n\t\t\tyoutube_video_id: topLevel.youtube_video_id,\n\t\t\tyoutube_thumbnail_title: topLevel.youtube_thumbnail_title\n\t\t};\n\t\tzenarioO.setDataAttributes(topLevel, topLevelTUIX);\n\t\t\n\t\tif (i === selected1st) {\n\t\t\tdata.selected1st = ti;\n\t\t}\n\t\t\n\t\t//Sort the second level nav under this top level\n\t\tif (topLevel.nav\n\t\t && _.isObject(topLevel.nav)) {\n\t\t\tsortedSecondLevelItems = zenarioO.getSortedIdsOfTUIXElements(topLevel.nav);\n\t\t\n\t\t\t//Loop through each second level nav\n\t\t\tforeach (sortedSecondLevelItems as jtemNo => j) {\n\t\t\t\tsecondLevel = topLevel.nav[j];\n\t\t\t\n\t\t\t\tif (secondLevel.link\n\t\t\t\t && secondLevel.link.path) {\n\t\t\t\t\tpath = secondLevel.link.path;\n\t\t\t\t} else {\n\t\t\t\t\tpath = i + '/nav/' + j + '/panel';\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif (i === selected1st && j === selected2nd) {\n\t\t\t\t\tzenarioO.currentTopLevelPath = path;\n\t\t\t\t\n\t\t\t\t\tif (path.match(/\\/\\//)) {\n\t\t\t\t\t\tzenarioO.currentTopLevelPathHasRefiner = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//zenarioT.hidden(tuixObject, lib, item, id, button, column, field, section, tab, tuix)\n\t\t\t\tif (zenarioT.hidden(undefined, zenarioO, undefined, j, secondLevel, undefined, undefined, topLevel)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\titem_css_class = secondLevel.css_class;\n\t\t\t\t\n\t\t\t\t//If a CSS class wasn't set, attempt to look up the icons used in the target panel.\n\t\t\t\t//(This is currently only needed for the Admin Toolbar, so I'm only\n\t\t\t\t// doing the logic if the returnData variable is set.)\n\t\t\t\tif (!item_css_class\n\t\t\t\t && returnData\n\t\t\t\t && (panelItemDefaults = zenarioO.followPathOnMap(path, 'item'))) {\n\t\t\t\t\titem_css_class = panelItemDefaults.css_class;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tsecondLevelTUIX = topLevelTUIX.items[++si] = {\n\t\t\t\t\tid: j,\n\t\t\t\t\tselected: i === selected1st && j === selected2nd,\n\t\t\t\t\thref: secondLevel.href,\n\t\t\t\t\tonclick: secondLevel.onclick,\n\t\t\t\t\tcss_class: item_css_class,\n\t\t\t\t\tlabel: secondLevel.label || secondLevel.name,\n\t\t\t\t\ttooltip: secondLevel.tooltip,\n\t\t\t\t\titem_css_class: item_css_class\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tif (!secondLevel.href && !secondLevel.onclick) {\n\t\t\t\t\tsecondLevelTUIX.href = '#' + path;\n\t\t\t\t\tsecondLevelTUIX.onclick = \"zenarioO.topLevelClick('\" + jsEscape(i) + \"', '\" + jsEscape(j) + \"', \" + engToBoolean(si == 0) + \"); return false;\";\n\t\t\t\t}\n\t\t\t\n\t\t\t\t//The user should be taken to the first second level item if they click on the top level item\n\t\t\t\tif (first2nd) {\n\t\t\t\t\tfirst2nd = false;\n\t\t\t\t\tif (!topLevelTUIX.href && !topLevelTUIX.onclick) {\n\t\t\t\t\t\ttopLevelTUIX.href = secondLevelTUIX.href;\n\t\t\t\t\t\ttopLevelTUIX.onclick = secondLevelTUIX.onclick;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n\t\n\tif (returnData) {\n\t\treturn data;\n\t}\n\t\n\tget('organizer_leftColumn').innerHTML = zenarioT.microTemplate('zenario_organizer_nav', data);\n\t\n\t//Set tooltips for top-level nav\n\tzenarioA.tooltips('#organizer_leftColumn #organizer_topLevelNav a[title]', {position: {my: 'left+2 center', at: 'right center', collision: 'flipfit'}, show: false, hide: false});\n\t\n\t//Set tooltips for second-level nav\n\tzenarioA.tooltips('#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav a[title]', {position: {my: 'left+2 center', at: 'right center', collision: 'flipfit'}});\n\t\n\t\n\tvar $topLevelNav = $('#organizer_topLevelNav');\n\t$('#organizer_topLevelNavScrollUp').mousehold(function() {\n\t\tzenarioO.scrollTopLevelNav($topLevelNav, true);\n\t}, 100);\n\t$('#organizer_topLevelNavScrollDown').mousehold(function() {\n\t\tzenarioO.scrollTopLevelNav($topLevelNav, false);\n\t}, 100);\n\tzenarioO.setTopLevelNavScrollStatus($topLevelNav);\n};\n\nzenarioO.scrollTopLevelNav = function($topLevelNav, up) {\n\t$topLevelNav.scrollTop($topLevelNav.scrollTop() + (up? -50 : 50));\n\tzenarioO.setTopLevelNavScrollStatus($topLevelNav);\n};\n\nzenarioO.setTopLevelNavScrollStatus = function($topLevelNav) {\n\tif (!$topLevelNav) {\n\t\t$topLevelNav = $('#organizer_topLevelNav');\n\t}\n\t\n\tvar scrollLength = $('#organizer_topLevelNavInner').outerHeight() - $topLevelNav.innerHeight();\n\t\n\tif (scrollLength <= 0) {\n\t\t$('#organizer_topLevelNavScroll').hide();\n\t} else {\n\t\t$('#organizer_topLevelNavScroll').show();\n\t\t\n\t\tvar scrollTop = $topLevelNav.scrollTop();\n\t\t\n\t\tif (scrollTop > 0) {\n\t\t\t$('#organizer_topLevelNavScrollUp').addClass('organizer_scrollActive');\n\t\t} else {\n\t\t\t$('#organizer_topLevelNavScrollUp').removeClass('organizer_scrollActive');\n\t\t}\n\t\t\n\t\tif (scrollTop < scrollLength) {\n\t\t\t$('#organizer_topLevelNavScrollDown').addClass('organizer_scrollActive');\n\t\t} else {\n\t\t\t$('#organizer_topLevelNavScrollDown').removeClass('organizer_scrollActive');\n\t\t}\n\t}\n};\n\n\nzenarioO.setDataAttributes = function(tuix, mergefields) {\n\tforeach (tuix as var prop) {\n\t\tif (prop.substr(0, 4) == 'data') {\n\t\t\tmergefields[prop] = tuix[prop];\n\t\t}\n\t}\n};\n\nzenarioO.setTopRightButtons = function() {\n\t\n\tdelete zenarioO.map.top_right_buttons.ord;\n\tvar sortedTopRightButtons = zenarioO.getSortedIdsOfTUIXElements(zenarioO.map.top_right_buttons);\n\t\n\tvar bi = -1,\n\t\tbutton,\n\t\tbuttons = [],\n\t\tdisabled,\n\t\ti, itemNo;\n\t\n\tforeach (sortedTopRightButtons as itemNo => i) {\n\t\tbutton = zenarioO.map.top_right_buttons[i];\n\t\t\n\t\t//Check if this button is hidden\n\t\tif (zenarioO.checkButtonHidden(button)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tdisabled = zenarioO.checkDisabled(button, i);\n\t\tbuttons[++bi] = zenarioO.setButtonAction('zenarioO.topRightButtonClick', button, disabled, i, undefined, undefined, '');\n\t}\n\t\n\t//Add parent/child relationships\n\tzenarioT.setButtonKin(buttons);\n\t\n\t$('#organizer_top_right_buttons').html(zenarioT.microTemplate('zenario_organizer_top_right_button', buttons));\n\t\n\tzenarioA.tooltips('#organizer_top_right_buttons a[title]', {position: {my: 'right center', at: 'left center', collision: 'flipfit'}, show: false, hide: false});\n\n};\n\nzenarioO.setButtons = function() {\n\t\n\tvar id,\n\t\ttuix = zenarioO.tuix,\n\t\titemsSelected = 0,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems(),\n\t\tstring;\n\t\n\tforeach (selectedItems as id) {\n\t\t++itemsSelected;\n\t}\n\t\n\tif (itemsSelected === 1\n\t && tuix.items\n\t && tuix.items[id]\n\t && (string = tuix.items[id].selected_label)\n\t && (_.isString(string))) {\n\t\t\n\t\t$('#organizer_itemSelected').text(\n\t\t\tstring.replace(/\\w/, function(chr) { return chr.toLocaleUpperCase(); }) +\n\t\t\t' ' +\n\t\t\tphrase.selected\n\t\t);\n\t\t\n\t\t$('#organizer_selected').show();\n\t} else {\n\t\t$('#organizer_selected').hide();\n\t}\n\t\n\tzenarioO.itemsSelected = itemsSelected;\n\t\n\tzenarioO.pi.showButtons(\n\t\t$('#organizer_buttons'));\n\t\n\tzenarioO.setChooseButton();\n\t\n\tzenarioO.sizeButtons();\n\t\n\t//if (!get('organizer_rightColumnOptions')) {\n\t//\treturn;\n\t//}\n\t//\n\t//if (zenarioO.changingHierarchy) {\n\t//\t$('#organizer_rightColumnOptions').hide();\n\t//\t$('#organizer_rightColumnApplyCancel').show();\n\t//} else {\n\t//\t$('#organizer_rightColumnOptions').show();\n\t//\t$('#organizer_rightColumnApplyCancel').hide();\n\t//\t\n\t//\tdelete zenarioO.upload;\n\t//\tdelete zenarioO.uploadIsItemLevel;\n\t//\tif (zenarioO.itemsSelected) {\n\t//\t\tzenarioO.setItemButtons(transition);\n\t//\t} else {\n\t//\t\tzenarioO.setCollectionButtons(transition);\n\t//\t}\n\t//\tzenarioO.setUploads();\n\t//\tzenarioO.setChooseButton();\n\t//}\n};\n\nzenarioO.sizeButtons = function() {\n\tvar LARGE_PADDING = 3000,\n\t\tMARGIN = 25,\n\t\tdomWrap = get('organizer_buttons'),\n\t\tdomCB = get('organizer_collectionToolbar'),\n\t\tdomIB = get('organizer_itemToolbar'),\n\t\tdomCW = get('organizer_collectionToolbarWrap'),\n\t\tdomIW = get('organizer_itemToolbarWrap'),\n\t\t$wrap = domWrap && $(domWrap),\n\t\t$cB = domCB && $(domCB),\n\t\t$iB = domIB && $(domIB),\n\t\t$cW = domCW && $(domCW),\n\t\t$iW = domIW && $(domIW),\n\t\twrapWidth,\n\t\tcBWidth,\n\t\tiBWidth;\n\t\n\tif ($wrap && $cB) {\n\t\t\n\t\t$cW.show();\n\t\t\n\t\twrapWidth = $wrap.width() - MARGIN;\n\t\t\n\t\t$cW.width(LARGE_PADDING);\n\t\t$cB.width('');\n\t\tcBWidth = $cB.width();\n\t\t\n\t\tif ($iB && $iB.is(\":visible\")) {\n\t\t\t$iW.width(LARGE_PADDING);\n\t\t\t$iB.width('');\n\t\t\tiBWidth = $iB.width();\n\t\t\t\n\t\t\tif (cBWidth + iBWidth > wrapWidth) {\n\t\t\t\tif (iBWidth > wrapWidth) {\n\t\t\t\t\t$iW.width(wrapWidth);\n\t\t\t\t\t$iB.width(LARGE_PADDING);\n\t\t\t\t\t$cW.hide();\n\t\t\t\t} else {\n\t\t\t\t\t$iW.width('');\n\t\t\t\t\t$iB.width('');\n\t\t\t\t\t$cW.width(wrapWidth - iBWidth);\n\t\t\t\t\t$cB.width(LARGE_PADDING);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$iW.width('');\n\t\t\t\t$iB.width('');\n\t\t\t\t$cW.width('');\n\t\t\t\t$cB.width('');\n\t\t\t}\n\t\t} else {\n\t\t\tif (cBWidth > wrapWidth) {\n\t\t\t\t$cW.width(wrapWidth);\n\t\t\t\t$cB.width(LARGE_PADDING);\n\t\t\t} else {\n\t\t\t\t$cW.width('');\n\t\t\t\t$cB.width('');\n\t\t\t}\n\t\t}\n\t}\n};\n\nzenarioO.getQuickFilters = function() {\n\t\n\tvar bi = -1,\n\t\tbutton,\n\t\tbuttons = [],\n\t\tdisabled,\n\t\ti, itemNo;\n\t\n\tforeach (zenarioO.sortedQuickFilterButtons as itemNo => i) {\n\t\tbutton = zenarioO.tuix.quick_filter_buttons[i];\n\t\t\n\t\t//Check if this button is hidden\n\t\tif (zenarioO.checkButtonHidden(button)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tdisabled = zenarioO.checkDisabled(button, i);\n\t\tbuttons[++bi] = zenarioO.setButtonAction('zenarioO.toggleQuickFilter', button, disabled, i, undefined, undefined, '');\n\t\t\n\t\tbuttons[bi].enabled = zenarioO.quickFilterEnabled(i);\n\t}\n\t\n\t//Add parent/child relationships\n\tzenarioT.setButtonKin(buttons);\n\t\n\treturn buttons;\n};\n\n//zenarioO.setCollectionButtons = function(transition) {\nzenarioO.getCollectionButtons = function(m) {\n\t\n\tvar bi = -1,\n\t\tbutton,\n\t\tbuttons = [],\n\t\tdisabled,\n\t\ti, itemNo;\n\t\n\tforeach (zenarioO.sortedCollectionButtons as itemNo => i) {\n\t\tbutton = zenarioO.tuix.collection_buttons[i];\n\t\t\n\t\t//Check if this button is hidden\n\t\tif (zenarioO.checkButtonHidden(button)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\t//Hide the export to csv button if there are no rows\n\t\tif (!zenarioO.searchMatches && (engToBoolean(button.do_csv_export) || engToBoolean(button.hide_when_no_search_results))) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tdisabled = zenarioO.checkDisabled(button, i);\n\t\tbuttons[++bi] = zenarioO.setButtonAction('zenarioO.collectionButtonClick', button, disabled, i);\n\t}\n\t\n\t//Add parent/child relationships\n\tzenarioT.setButtonKin(buttons);\n\t\n\tm.collectionButtons = buttons;\n};\n\nzenarioO.buttonsPrevHTML = '';\nzenarioO.fadeOutLastButtons = function(html, item, transition) {\n\tif (!get('organizer_rightColumnOptions')) {\n\t\treturn;\n\t}\n\t\n\tvar $collectionButtons = $('#organizer_collectionToolbar'),\n\t\t$collectionButtonsHTML = $('#organizer_collectionToolbarButtons'),\n\t\t$itemButtons = $('#organizer_itemToolbar'),\n\t\t$itemButtonsHTML = $('#organizer_itemToolbarButtons'),\n\t\t$prevButtons = $('#organizer_previousToolbar'),\n\t\t$prevButtonsHTML = $('#organizer_previousToolbarButtons');\n\t\n\tif ($collectionButtons.is(':visible')) {\n\t\t$collectionButtons.clearQueue().hide();\n\t}\n\t\n\tif ($itemButtons.is(':visible')) {\n\t\t$itemButtons.clearQueue().hide();\n\t}\n\t\n\tif (item) {\n\t\t$itemButtonsHTML.html(html);\n\t} else {\n\t\t$collectionButtonsHTML.html(html);\n\t}\n\t\n\t$prevButtons.clearQueue().hide();\n\t\n\tif (!transition || zenarioO.buttonsPrevHTML == html) {\n\t\t//Either transitions are not enabled, or the HTML hasn't actually changed therefore there's not need to show one\n\t\tif (item) {\n\t\t\t$itemButtons.show();\n\t\t} else {\n\t\t\t$collectionButtons.show();\n\t\t}\n\t\n\t} else {\n\t\tif (zenarioO.buttonsPrevHTML) {\n\t\t\t//Fade out the previous buttons\n\t\t\t$prevButtonsHTML.html(zenarioO.buttonsPrevHTML);\n\t\t\t$prevButtons.show().fadeOut({\n\t\t\t\tduration: 250,\n\t\t\t\teasing: 'zenarioLinearWithDelayAfterwards',\n\t\t\t\tcomplete: function() { $prevButtonsHTML.html(''); }\n\t\t\t});\n\t\t}\n\t\t\n\t\t//Fade in the new buttons\n\t\tif (item) {\n\t\t\t$itemButtons\n\t\t\t\t.css('animation', 'none')\n\t\t\t\t.fadeIn({\n\t\t\t\t\tduration: 250,\n\t\t\t\t\teasing: 'zenarioLinearWithDelayAfterwards',\n\t\t\t\t\tcomplete: function() { $itemButtons.css('animation', ''); $itemButtons.addClass('yellow_flash'); }\n\t\t\t\t});\n\t\t} else {\n\t\t\t$collectionButtons\n\t\t\t\t.css('animation', 'none')\n\t\t\t\t.fadeIn({\n\t\t\t\t\tduration: 250,\n\t\t\t\t\teasing: 'zenarioLinearWithDelay',\n\t\t\t\t\tcomplete: function() { $collectionButtons.css('animation', ''); $collectionButtons.addClass('white_flash'); }\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\tzenarioO.buttonsPrevHTML = html;\n};\n\nzenarioO.showCollectionButtons = function(html, transition) {\n\tzenarioO.fadeOutLastButtons(html, false, transition);\n};\n\nzenarioO.hideCollectionButtons = function(transition) {\n\tzenarioO.fadeOutLastButtons('', false, transition);\n};\n\nzenarioO.showItemButtons = function(html, transition) {\n\tzenarioO.fadeOutLastButtons(html, true, transition);\n};\n\nzenarioO.hideItemButtons = function(transition) {\n\tzenarioO.fadeOutLastButtons('', true, transition);\n};\n\n\n\n//zenarioO.setItemButtons = function(transition) {\nzenarioO.getItemButtons = function(m) {\n\t\n\tvar i,\n\t\tbi = -1,\n\t\tbutton,\n\t\tbuttons = [],\n\t\tparent,\n\t\tdisabled,\n\t\ti, itemNo,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems(),\n\t\tid = zenarioO.getKeyId(true),\n\t\titem = id && zenarioO.tuix.items && zenarioO.tuix.items[id],\n\t\titemsSelected = zenarioO.itemsSelected,\n\t\titemCSSClass = zenarioO.tuix.item && zenarioO.tuix.item.css_class;\n\t\n\tif (itemsSelected > 0) {\n\t\tif (itemsSelected == 1) {\n\t\t\titemCSSClass = item.css_class || itemCSSClass;\n\t\t}\n\t\t\n\t\tforeach (zenarioO.sortedItemButtons as itemNo => i) {\n\t\t\tbutton = zenarioO.tuix.item_buttons[i];\n\t\t\t\n\t\t\t//Check if this button only works with single items, and then don't show it if multiple items are selected\n\t\t\tvar maxItems = 1, \n\t\t\t\tminItems = 1;\n\t\t\t\n\t\t\tif (engToBoolean(button.multiple_select)) {\n\t\t\t\tmaxItems = button.multiple_select_max_items;\n\t\t\t\t\n\t\t\t\tif (engToBoolean(button.multiple_select_only)) {\n\t\t\t\t\tminItems = 2;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (button.multiple_select_min_items) {\n\t\t\t\t\tminItems = Math.max(minItems, button.multiple_select_min_items);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (itemsSelected < minItems || (maxItems && itemsSelected > maxItems)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t//Check if this button is hidden\n\t\t\tif (zenarioO.checkButtonHidden(button, selectedItems)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tif (!zenarioO.checkItemButtonHidden(button, selectedItems)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tdisabled = zenarioO.checkDisabled(button, i, selectedItems);\n\t\t\tbuttons[++bi] = zenarioO.setButtonAction('zenarioO.itemButtonClick', button, disabled, i, undefined, item);\n\t\t\t\n\t\t\t\n\t\t\tbuttons[bi].label = zenarioO.applyMergeFieldsToLabel(\n\t\t\t\tbutton.label || button.name,\n\t\t\t\tfalse, true,\n\t\t\t\tbutton.multiple_select_label\n\t\t\t);\n\t\t\t\n\t\t\tif (disabled && button.disabled_tooltip) {\n\t\t\t\tbuttons[bi].tooltip = zenarioO.applyMergeFieldsToLabel(button.disabled_tooltip, false, true);\n\t\t\t\n\t\t\t} else {\n\t\t\t\tbuttons[bi].tooltip = zenarioO.applyMergeFieldsToLabel(\n\t\t\t\t\tbutton.tooltip,\n\t\t\t\t\tfalse, true,\n\t\t\t\t\tbutton.multiple_select_tooltip\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Add parent/child relationships\n\tzenarioT.setButtonKin(buttons);\n\t\n\t\n\tm.itemButtons = buttons;\n\tm.itemCSSClass = itemCSSClass;\n\tm.itemsSelected = itemsSelected;\n};\n\n\n\nzenarioO.setButtonAction = function(funName, button, disabled, buttonId, itemId, item, defaultCSS) {\n\t\n\tif (!defined(defaultCSS)) {\n\t\tdefaultCSS = 'label_without_icon';\n\t}\n\t\n\tvar merge = {\n\t\tid: buttonId,\n\t\ttuix: button,\n\t\tcss_class: button.css_class || defaultCSS,\n\t\tlabel: button.label || button.name,\n\t\tdisabled: disabled\n\t};\n\t\n\tif (disabled) {\n\t\tmerge.onclick = \"return false;\";\n\t\t\n\t} else if (button.navigation_path) {\n\t\tif (item && item.navigation_path) {\n\t\t\tmerge.href = '#/' + item.navigation_path;\n\t\t} else {\n\t\t\tmerge.href = '#/' + button.navigation_path;\n\t\t}\n\t\n\t} else if (button.frontend_link) {\n\t\tif (item && item.frontend_link) {\n\t\t\tmerge.href = zenarioO.parseReturnLink(item.frontend_link);\n\t\t} else {\n\t\t\tmerge.href = zenarioO.parseReturnLink(button.frontend_link);\n\t\t}\n\t\t\n\t\tmerge.new_window = !!button.new_window;\n\t\n\t} else if (button.onclick) {\n\t\tmerge.onclick = button.onclick;\n\t\t\n\t\t//If this button is for one specific item (e.g. an inline button), ensure that item is selected first\n\t\tif (itemId && item) {\n\t\t\tmerge.onclick = \"zenarioO.selectItems('\" + jsEscape(itemId) + \"'); zenario.stop(event); \" + merge.onclick;\n\t\t}\n\t\n\t} else {\n\t\tmerge.onclick = funName + \"('\" + jsEscape(buttonId) + (!defined(itemId)? '' : \"', '\" + jsEscape(itemId)) + \"'); return false;\";\n\t}\n\t\n\tif (disabled && button.disabled_tooltip) {\n\t\tmerge.tooltip = button.disabled_tooltip;\n\t} else {\n\t\tmerge.tooltip = button.tooltip;\n\t}\n\t\n\treturn merge;\n};\n\n\n//Check to see whether a button should be disabled\nzenarioO.checkDisabled = function(button, buttonId, items) {\n\tvar id,\n\t\tsingleItem = undefined,\n\t\tsingleItemId = undefined,\n\t\ttuix = zenarioO.tuix;\n\t\n\tif (engToBoolean(button.disabled)) {\n\t\treturn true;\n\t}\n\t\n\t//Check to see if there is only one item selected\n\tif (items) {\n\t\tforeach (items as id) {\n\t\t\tif (!defined(singleItemId)) {\n\t\t\t\tsingleItemId = id;\n\t\t\t\tsingleItem = tuix.items && tuix.items[id];\n\t\t\t} else {\n\t\t\t\tsingleItemId =\n\t\t\t\tsingleItem = undefined;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (defined(button.disabled_if)) {\n\t\t//zenarioT.eval(c, lib, tuixObject, item, id, tuix, button, column, field, section, tab, tuix)\n\t\tif (zenarioT.eval(button.disabled_if, zenarioO, undefined, singleItem, buttonId, button)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\t//Check whether an item button with the disabled_if_for_any_selected_items/disabled_if_for_all_selected_items\n\t//properties should be visible\n\tif (items && defined(button.disabled_if_for_any_selected_items)) {\n\t\tforeach (items as id) {\n\t\t\tif (zenarioT.eval(button.disabled_if_for_any_selected_items, zenarioO, undefined, tuix.items[id], id, button)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (items && defined(button.disabled_if_for_all_selected_items)) {\n\t\tforeach (items as id) {\n\t\t\tif (!zenarioT.eval(button.disabled_if_for_all_selected_items, zenarioO, undefined, tuix.items[id], id, button)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn true;\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.checkHiddenByFilter = function(button) {\n\t\n\tvar refiner = zenarioO.refiner,\n\t\trefinerName = refiner && refiner.name,\n\t\thide_on_refiner = button.hide_on_refiner;\n\t\n\t//Check if this button should only be shown in a certain refiner\n\tif (button.only_show_on_refiner) {\n\t\tif (!refiner) {\n\t\t\treturn true;\n\t\t\n\t\t} else {\n\t\t\tif (typeof button.only_show_on_refiner == 'object') {\n\t\t\t\tif (!engToBoolean(button.only_show_on_refiner[refinerName])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (refinerName != button.only_show_on_refiner) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Check if this button should never be shown in a certain refiner\n\tif (refiner && hide_on_refiner) {\n\t\t//I want to check if someone has entered true for hide_on_refiner, but need to deal\n\t\t//with the fact that true sometimes converted to a number 1, or a string \"1\".\n\t\t//Thankfully this is easy to do in JavaScript, as 1*\"1\" === 1,\n\t\t//but 1*\"any-other-string\" !== 1\n\t\tif (1 === 1 * hide_on_refiner) {\n\t\t\treturn true;\n\t\t\n\t\t} else if (typeof hide_on_refiner == 'object') {\n\t\t\tif (engToBoolean(hide_on_refiner[refinerName])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\tif (refinerName == hide_on_refiner) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Some buttons should not be shown when there is a search or a filter set\n\tif (zenarioO.filteredView && engToBoolean(button.hide_on_filter)) {\n\t\treturn true;\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.checkButtonHidden = function(button, items) {\n\t\n\tvar id,\n\t\tsingleItem = undefined,\n\t\tsingleItemId = undefined;\n\t\n\t//Check to see if there is only one item selected\n\tif (items) {\n\t\tforeach (items as id) {\n\t\t\tif (!defined(singleItemId)) {\n\t\t\t\tsingleItemId = id;\n\t\t\t\tsingleItem = zenarioO.tuix.items && zenarioO.tuix.items[id];\n\t\t\t} else {\n\t\t\t\tsingleItemId =\n\t\t\t\tsingleItem = undefined;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Check if this button is hidden\n\t//zenarioT.hidden(tuixObject, lib, item, id, button, column, field, section, tab, tuix)\n\tif (zenarioT.hidden(undefined, zenarioO, singleItem, singleItemId, button)) {\n\t\treturn true;\n\t}\n\t\n\t//Check if this button should be hidden in quick/select mode (or hidden if not in quick/select mode)\n\t//Also, automatically hide a button in quick/select mode if it is a front-end link\n\tif ((window.zenarioONotFull && button.frontend_link)\n\t||  (window.zenarioOQuickMode && engToBoolean(button.hide_in_quick_mode))\n\t||  (window.zenarioOSelectMode && engToBoolean(button.hide_in_select_mode))\n\t||  (!window.zenarioOQuickMode && engToBoolean(button.quick_mode_only) && !(window.zenarioOSelectMode && engToBoolean(button.select_mode_only)))\n\t||  (!window.zenarioOSelectMode && engToBoolean(button.select_mode_only) && !(window.zenarioOQuickMode && engToBoolean(button.quick_mode_only)))) {\n\t\treturn true;\n\t}\n\t\n\t//Check fi there is any refiner/filter logic that should hide this button\n\tif (zenarioO.checkHiddenByFilter(button)) {\n\t\treturn true;\n\t}\n\t\n\t//In select mode, don't show a link to a panel that we can't reach due to a max-path restriction\n\tif (zenarioO.pathNotAllowed(button.link)) {\n\t\treturn true;\n\t}\n\t\n\treturn false;\n};\n\n\n//Define some logic for checking columns and traits on item buttons\nvar colCheckLogic = {\n\ttraits: {\n\t\tcondition: function(id, trait, item) {\n\t\t\treturn item.traits && engToBoolean(item.traits[trait]); \n\t\t}\n\t},\n\twithout_traits: {\n\t\tcondition: function(id, trait, item) {\n\t\t\treturn !item.traits || !engToBoolean(item.traits[trait]);\n\t\t}\n\t},\n\twith_columns_set: {\n\t\tcondition: function(id, column, item) {\n\t\t\treturn engToBoolean(zenarioT.prop(item, column));\n\t\t}\n\t},\n\twithout_columns_set: {\n\t\tcondition: function(id, column, item) {\n\t\t\treturn !engToBoolean(zenarioT.prop(item, column));\n\t\t}\n\t}\n};\ncolCheckLogic.one_with_traits = zenario.clone(colCheckLogic.traits, {one: true});\ncolCheckLogic.one_without_traits = zenario.clone(colCheckLogic.without_traits, {one: true});\ncolCheckLogic.one_with_columns_set = zenario.clone(colCheckLogic.with_columns_set, {one: true});\ncolCheckLogic.one_without_columns_set = zenario.clone(colCheckLogic.without_columns_set, {one: true});\n\n\n//Check to see whether an item button should be visible or hidden based on logic specific to item buttons\nzenarioO.checkItemButtonHidden = function(button, items) {\n\t\n\tvar id,\n\t\tcheck, checks, ci, logic,\n\t\tmet = false,\n\t\tthisItemMet,\n\t\ttuix = zenarioO.tuix;\n\t\n\t//Catch the case where we get passed an undefined rather than an object\n\t//(Note that no conditions means whatever this is should be shown!)\n\tif (!button) {\n\t\treturn true;\n\t}\n\t\n\t//Check whether an item button with the visible_if_for_all_selected_items/visible_if_for_any_selected_items\n\t//properties should be visible\n\tif (defined(button.visible_if_for_all_selected_items)) {\n\t\tforeach (items as id) {\n\t\t\t//zenarioT.eval(c, lib, tuixObject, item, id, tuix, button, column, field, section, tab, tuix)\n\t\t\tif (!zenarioT.eval(button.visible_if_for_all_selected_items, zenarioO, undefined, tuix.items[id], id, button)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (defined(button.visible_if_for_any_selected_items)) {\n\t\tforeach (items as id) {\n\t\t\tif (zenarioT.eval(button.visible_if_for_any_selected_items, zenarioO, undefined, tuix.items[id], id, button)) {\n\t\t\t\tmet = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!met) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t\n\t//The \"with column set\" logic, and the deprecated traits logic\n\t//Check if that button requires a trait or a column to be set, or not to be set, in order to be shown.\n\t//Note that traits use an engToBoolean() check but columns just use a normal boolean check.\n\t//(i.e. 'No' or 'False' as strings would be true).\n\tmet = true;\n\t\n\t//Loop through each check\n\tforeach (colCheckLogic as check => logic) {\n\t\t\n\t\tif (button[check]) {\n\t\t\tchecks = zenarioT.tuixToArray(button[check]);\n\t\t\t\n\t\t\t//Loop through each item, checking whether they match.\n\t\t\tmet = !logic.one;\n\t\t\tforeach (items as id) {\n\t\t\t\t\n\t\t\t\tthisItemMet = true;\n\t\t\t\tfor (ci in checks) {\n\t\t\t\t\tif (!logic.condition(id, checks[ci], tuix.items[id])) {\n\t\t\t\t\t\tthisItemMet = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (logic.one) {\n\t\t\t\t\t//For \"at least one\" logic, we'll assume the button doesn't match until we find one example\n\t\t\t\t\t//that does.\n\t\t\t\t\tif (thisItemMet) {\n\t\t\t\t\t\tmet = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//For \"all must match\" logic, we'll assume the button matches until we find one example\n\t\t\t\t\t//that doesn't, at which point we'll break out of the loop.\n\t\t\t\t\tif (!thisItemMet) {\n\t\t\t\t\t\tmet = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!met) {\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\treturn met;\n};\n\n//Shortcut to call the above function for just one item\nzenarioO.checkItemPickable = function(id) {\n\tvar items = {};\n\titems[id] = true;\n\treturn zenarioO.checkItemButtonHidden(window.zenarioOSelectObject, items)\n\t\t&& !zenarioO.checkDisabled(window.zenarioOSelectObject, undefined, items);\n};\n\n\nzenarioO.getInlineButtons = function(id) {\n\t\n\tvar bi = -1,\n\t\tbuttons = [],\n\t\tdisabled,\n\t\ti, itemNo, ids;\n\t\n\tforeach (zenarioO.sortedInlineButtons as itemNo => i) {\n\t\tbutton = zenarioO.tuix.inline_buttons[i],\n\t\tids = {};\n\t\tids[id] = true;\n\t\t\n\t\t//Check if this button is hidden\n\t\tif (zenarioO.checkButtonHidden(button, ids)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tif (!zenarioO.checkItemButtonHidden(button, ids)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tdisabled = zenarioO.checkDisabled(button, i, ids);\n\t\tbuttons[++bi] = zenarioO.setButtonAction('zenarioO.inlineButtonClick', button, disabled, i, id, zenarioO.tuix.items[id]);\n\t\t\n\t\tif (buttons[bi].tooltip) {\n\t\t\tbuttons[bi].tooltip = zenarioO.applyMergeFields(buttons[bi].tooltip, false, id);\n\t\t}\n\t\tif (buttons[bi].label) {\n\t\t\tbuttons[bi].label = zenarioO.applyMergeFields(buttons[bi].label, false, id);\n\t\t}\n\t}\n\t\n\tif (buttons.length) {\n\t\treturn buttons;\n\t} else {\n\t\treturn undefined;\n\t}\n};\n\n\n\nzenarioO.chooseButtonActive = function() {\n\treturn window.zenarioOSelectMode\n\t\t&& (zenarioO.path == window.zenarioOTargetPath || window.zenarioOTargetPath === false);\n};\n\nzenarioO.setChooseButton = function() {\n\t//Enable or disable the \"Choose\" button\n\tif (window.zenarioOSelectMode) {\n\t\tvar choosePhrase = window.zenarioOChoosePhrase || phrase.choose,\n\t\t\tdisabled = true,\n\t\t\tclassName = 'submit_disabled',\n\t\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\t\n\t\tif (zenarioO.chooseButtonActive()\n\t\t && zenarioO.checkItemButtonHidden(window.zenarioOSelectObject, selectedItems)\n\t\t && !zenarioO.checkDisabled(window.zenarioOSelectObject, undefined, selectedItems)\n\t\t && (zenarioO.itemsSelected > 0 || window.zenarioOAllowNoSelection)\n\t\t && (zenarioO.itemsSelected <= 1 || window.zenarioOMultipleSelect)) {\n\t\t\tdisabled = false;\n\t\t\tclassName = window.zenarioOChooseButtonActiveClass? 'submit_selected' : 'submit';\n\t\t\t\n\t\t\tif (zenarioO.itemsSelected == 0 && window.zenarioOAllowNoSelection && window.zenarioONoSelectionChoosePhrase) {\n\t\t\t\tchoosePhrase = window.zenarioONoSelectionChoosePhrase;\n\t\t\t\n\t\t\t} else if (zenarioO.itemsSelected > 1 && window.zenarioOChooseMultiplePhrase) {\n\t\t\t\tchoosePhrase = window.zenarioOChooseMultiplePhrase;\n\t\t\t}\n\t\t\n\t\t} else {\n\t\t\tif (window.zenarioOAllowNoSelection && window.zenarioONoSelectionChoosePhrase) {\n\t\t\t\tchoosePhrase = window.zenarioONoSelectionChoosePhrase;\n\t\t\t}\n\t\t}\n\t\t\n\t\tget('organizer_choose_button').disabled = disabled;\n\t\tget('organizer_choose_button').className = className;\n\t\tget('organizer_choose_button').value = htmlspecialchars(choosePhrase);\n\t}\n};\n\nzenarioO.getCurrentPage = function() {\n\treturn zenarioO.page;\n};\n\nzenarioO.getPageCount = function() {\n\tif (zenarioO.thisPageSize\n\t && defined(zenarioO.searchMatches)) {\n\t\tzenarioO.pageCount = Math.ceil(zenarioO.searchMatches / zenarioO.thisPageSize);\n\t} else {\n\t\tzenarioO.pageCount = 1;\n\t}\n\t\n\treturn zenarioO.pageCount;\n};\n\n\nzenarioO.setPanelTitle = function() {\n\tif (zenarioO.pi\n\t && zenarioO.tuix\n\t && get('organizer_rightColumnTitle')) {\n\t\tget('organizer_rightColumnTitle').style.display = '';\n\t\t\n\t\tvar title = zenarioO.pi.returnPanelTitle();\n\t\t\n\t\tif (zenarioO.tuix.item && zenarioO.tuix.item.css_class) {\n\t\t\tget('organizer_panelTitle').innerHTML =\n\t\t\t\t'<div class=\"listicon organizer_item_image ' + zenarioO.tuix.item.css_class + '\"></div><div>' + htmlspecialchars(title) + '</div>';\n\t\t} else {\n\t\t\tget('organizer_panelTitle').innerHTML = htmlspecialchars(title);\n\t\t}\n\t\t\n\t\tvar width = Math.max(0, ($('#organizer_rightColumnTitle').width() || 0) - 75 - ($('#organizer_collectionToolbar').width() || 90));\n\t\t\n\t\t//get('organizer_panelTitle').style.fontSize = Math.min(18, 1.6 * Math.round((width) / ('' + title).length)) + 'px';\n\t\t//$('#organizer_panelTitle').width(width);\n\t\t\n\t\tzenarioA.setTooltipIfTooLarge('#organizer_panelTitle', title, zenarioA.tooltipLengthThresholds.organizerPanelTitle);\n\t\t\n\t\tif (zenarioA.isFullOrganizerWindow) {\n\t\t\tdocument.title = zenarioO.pageTitle + phrase.colon + title;\n\t\t}\n\t}\n};\n\n\nzenarioO.setTrash = function () {\n\tif (!window.zenarioOSelectMode && zenarioO.tuix && zenarioO.tuix.trash) {\n\t\tget('organizer_trash_button').style.display = '';\n\t\tget('organizer_trash_button').className =\n\t\t\tengToBoolean(zenarioO.tuix.trash.empty)?\n\t\t\t\tzenarioO.tuix.trash.empty_css_class || 'trash_button_empty'\n\t\t\t :\tzenarioO.tuix.trash.full_css_class || 'trash_button_full';\n\t\t\n\t\tzenarioA.tooltips('#organizer_trash_button a', {\n\t\t\tposition: {\n\t\t\t\tmy: 'center bottom-12',\n\t\t\t\tat: 'center top',\n\t\t\t\tcollision: 'flipfit',\n\t\t\t\tusing: zenario.tooltipsUsing\n\t\t\t},\n\t\t\titems: '*',\n\t\t\tcontent:\n\t\t\t\tengToBoolean(zenarioO.tuix.trash.empty)?\n\t\t\t\t\tzenarioO.tuix.trash.empty_tooltip || phrase.viewTrash\n\t\t\t\t :\tzenarioO.tuix.trash.full_tooltip || phrase.viewTrash\n\t\t});\n\t\t\n\t} else {\n\t\tget('organizer_trash_button').style.display = 'none';\n\t}\n};\n\n\n\nzenarioO.getItemCSSClass = function (i) {\n\tif (zenarioO.tuix.items[i].css_class) {\n\t\treturn zenarioO.tuix.items[i].css_class;\n\t} else if (zenarioO.tuix.item) {\n\t\treturn zenarioO.tuix.item.css_class;\n\t} else {\n\t\treturn undefined;\n\t}\n};\n\n//Send a signal to any Modules on the page to fill the lower-left (or upper-right) of Organizer\n//This should return an array of arrays of things in the format:\n\t//[[[html, ord, '\u2197'], [html, ord], ... ], ... ]\n//Flatten this, sort this, then output this.\nzenarioO.setOrganizerIcons = function() {\n\t\n\tvar i, j,\n\t\t_$div = zenarioT.div,\n\t\tlowerLeftIcons = [], upperRightIcons = [],\n\t\tpos, icons, iconGroups, icon;\n\t\n\t//Add the debug icon if dev tools are enabled. This is added even in select/quick mode.\n\tif (zenarioT.showDevTools()) {\n\t\tupperRightIcons.push([_$div(\"id\", \"organizer_debug_button\", \"class\", \"zenario_debug\", \"onmouseover\", \"zenarioO.infoBox(this);\", \"onclick\", \"zenarioO.closeInfoBox(); zenarioA.debug('zenarioO');\", _$div()), 99]);\n\t}\n\t\n\t//Only add the rest of the icons in full-mode.\n\tif (zenarioA.isFullOrganizerWindow && !zenarioA.openedInIframe) {\n\t\t\n\t\t//Add standard icons from the core\n\t\tupperRightIcons.push([zenarioT.microTemplate('zenario_organizer_top_right_icons', {}), 1]);\n\t\t\n\t\t//Look for any icons from modules\n\t\ticons = zenario.sendSignal('eventSetOrganizerIcons');\n\t\t\n\t\t//Look through each icon, checking the last entry in the array for its position\n\t\tforeach (icons as i => iconGroups) {\n\t\t\tif (iconGroups['\u2197']) {\n\t\t\t\tupperRightIcons = upperRightIcons.concat(iconGroups['\u2197']);\n\t\t\t}\n\t\t\tif (iconGroups['\u2199']) {\n\t\t\t\tlowerLeftIcons = lowerLeftIcons.concat(iconGroups['\u2199']);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//Sort each group\n\t\tlowerLeftIcons.sort(zenarioT.sortArray);\n\t\tupperRightIcons.sort(zenarioT.sortArray);\n\t}\n\t\n\t//Remove the sort columns and just leave the HTML\n\tforeach (lowerLeftIcons as i) {\n\t\tlowerLeftIcons[i] = lowerLeftIcons[i][0];\n\t}\n\n\tforeach (upperRightIcons as i) {\n\t\tupperRightIcons[i] = upperRightIcons[i][0];\n\t}\n\t\n\t//Set the icons\n\t$('#organizer_lowerLeftColumn').html(lowerLeftIcons.join('\\n'));\n\t$('#organizer_topRightIcons').html(upperRightIcons.join('\\n'));\n};\n\n\n\n\nzenarioO.closeSelectMode = function() {\n\tzenarioO.closeInfoBox();\n\t\n\tif (zenarioA.isFullOrganizerWindow) {\n\t\twindowParent.zenarioA.closeBox('AdminOrganizer', true);\n\t\tzenarioO.go(zenarioO.defaultPathInIframePreload);\n\t\t\n\t\tzenarioA.showAJAXLoader();\n\t\tzenarioO.firstLoaded = false;\n\t\n\t} else {\n\t\tzenarioO.go(zenarioO.defaultPathInIframePreload);\n\t\tzenarioA.closeBox('og');\n\t\tzenarioO.firstLoaded = false;\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.choose = function() {\n\t\n\t//Stop admins making choices on outdated panels\n\tif (zenarioO.lastSuccessfulGoNum != zenarioO.goNum) {\n\t\treturn;\n\t}\n\t\n\tif (windowParent\n\t && window.zenarioOSelectMode\n\t && (zenarioO.path == window.zenarioOTargetPath || window.zenarioOTargetPath === false)\n\t && (zenarioO.itemsSelected > 0 || window.zenarioOAllowNoSelection)\n\t && (zenarioO.itemsSelected <= 1 || window.zenarioOMultipleSelect)) {\n\t\t\n\t\t//Disable the current panel/page from refreshing\n\t\tzenarioO.stopRefreshing();\n\t\t\n\t\tvar key = zenarioO.getKey(true),\n\t\t\tpath = zenarioO.path,\n\t\t\tpanel = zenario.clone(zenarioO.tuix),\n\t\t\trow,\n\t\t\tselectedItems = zenarioO.pi.returnSelectedItems(),\n\t\t\tcallback = false;\n\t\t\n\t\tkey._items = {};\n\t\tforeach (selectedItems as var i) {\n\t\t\tkey._items[i] = true;\n\t\t\t\n\t\t\tif (!window.zenarioOMultipleSelect) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!window.zenarioOMultipleSelect && key.id) {\n\t\t\trow = panel.items[key.id];\n\t\t\trow.__label_tag__ = zenarioO.defaultSortColumn;\n\t\t} else {\n\t\t\trow = {};\n\t\t}\n\t\t\n\t\tzenarioO.closeSelectMode();\n\t\t\n\t\t//Check to see if the original caller passed a callback function for us\n\t\tif (_.isFunction(window.zenarioOCallbackObject)) {\n\t\t\tcallback = window.zenarioOCallbackObject;\n\t\t} else if (_.isFunction(window.zenarioOCallbackFunction)) {\n\t\t\tcallback = window.zenarioOCallbackFunction;\n\t\t}\n\t\t\n\t\tif (callback) {\n\t\t\t//If they did, call it\n\t\t\tif (window.zenarioOMultipleSelect) {\n\t\t\t\tcallback(path, key, undefined, panel);\n\t\t\t} else {\n\t\t\t\tcallback(path, key, row, panel);\n\t\t\t}\n\t\t} else {\n\t\t\t//If not look for the named object/method in the callback window\n\t\t\tif (window.zenarioOMultipleSelect) {\n\t\t\t\twindowParent[window.zenarioOCallbackObject][window.zenarioOCallbackFunction](path, key, undefined, panel);\n\t\t\t} else {\n\t\t\t\twindowParent[window.zenarioOCallbackObject][window.zenarioOCallbackFunction](path, key, row, panel);\n\t\t\t}\n\t\t\t\n\t\t\t//N.b. When we first added the callback variable above we tried to use the code:\n\t\t\t\t//callback = windowParent[window.zenarioOCallbackObject][window.zenarioOCallbackFunction];\n\t\t\t\t//...\n\t\t\t\t//callback(path, key, row, panel);\n\t\t\t//However this called the function with the wrong scope and we can't work out why.\n\t\t}\n\t}\n};\n\n\n\n//\n//\tSome specific functions\n//\n\n//An info box with helpful things for Module Developers\nzenarioO.infoBox = function(el) {\n\t\n\tvar html = zenarioT.microTemplate('zenario_organizer_debug_info', {}),\n\t\twidth = 600,\n\t\tbuttonWidth = 28,//$('.zenario_debug').width()\n\t\tbuttonHeight = 28;//$('.zenario_debug').width()\n\t\n\t//$('#zenario_debug_infobox').html(html).show();\n\tzenarioA.openBox(html, 'zenario_fbDebugInfoBox', 'DebugInfoBox', el, 600, (buttonWidth - width) / 2, buttonHeight, false, false, undefined, undefined, undefined, undefined, false, false);\n\t//(html, className, n, e, width, left, top, disablePageBelow, overlay, draggable, resizable, padding, maxHeight, rightCornerOfElement, bottomCornerOfElement)\n\n\t\n\t//get('zenario_fbAdminInfoBox').innerHTML = html;\n\t//zenario.addJQueryElements('#zenario_fbAdminInfoBox ', true);\n};\n\nzenarioO.closeInfoBox = function() {\n\tzenarioA.closeBox('DebugInfoBox');\n};\n\n\n\n\n//Set/update the html in the \"My work in progress\" dropdown\nzenarioO.yourWorkInProgressLastUpdated = 0;\nzenarioO.updateYourWorkInProgress = function() {\n\t\n\t//Only update once every so often, to avoid spamming AJAX requests just because the admin keeps moving their mouse over the button\n\tvar ms = (new Date()).getTime(),\n\t\t$dropdown,\n\t\turl;\n\t\n\tif ((zenarioO.yourWorkInProgressLastUpdated - ms < -zenarioO.yourWorkInProgressLastUpdateFrequency)\n\t && ($dropdown = $('#zenario_ywip_dropdown'))) {\n\t\t\n\t\tzenarioO.yourWorkInProgressLastUpdated = ms;\n\t\t$dropdown.removeClass('zenario_ywip_loaded').addClass('zenario_ywip_loading');\n\t\t\n\t\turl =\n\t\t\tURLBasePath + 'zenario/admin/organizer.ajax.php' +\n\t\t\t'?path=zenario__content/panels/content' +\n\t\t\t'&_sort_col=last_modified_datetime' +\n\t\t\t'&_sort_desc=1' +\n\t\t\t'&_start=0' +\n\t\t\t'&_limit=' + zenarioO.yourWorkInProgressItemCount +\n\t\t\t'&refinerId=' +\n\t\t\t'&refinerName=work_in_progress' +\n\t\t\t'&refiner__work_in_progress=' +\n\t\t\t'&_get_item_data=1';\n\t\t\n\t\tzenario.ajax(url, false, true, true).after(function(WiP) {\n\t\t\tvar html = zenarioT.microTemplate('zenario_ywip', WiP);\n\t\t\t$dropdown.removeClass('zenario_ywip_loading').addClass('zenario_ywip_loaded').html(html);\n\t\t\t\n\t\t});\n\t}\n};\n$(document).ready(function() { setTimeout(zenarioO.updateYourWorkInProgress, 100) } );\n\n\n\n\n//Automatically set the box to the correct height for the users screen, or the maximum height requested, whichever is smaller\nzenarioO.sizing = false;\nzenarioO.lastSize = false;\nzenarioO.size = function(refresh) {\n\t\t\t\n\tvar headerHeight = 46,\n\t\tfooterHeight = 57,\n\t\tcontentGap = 40,\n\t\ttitleHeight = 0,\n\t\tbuttonsHeight = 30,\n\t\tbordersWidth = 2,\n\t\trightColumnContentBorderWidth = 2,\n\t\theaderHeight = 35,\n\t\theaderToolbar = 55,\n\t\tbottomWrapHeight = 45,\n\t\tleftColAdjustment,\n\t\tdomOrgWrapper = get('zenario_fbog'),\n\t\t$zenario_fbog = $(domOrgWrapper),\n\t\twidth, height, el;\n\t\n\t\n\tif (zenarioO.sizing) {\n\t\tclearTimeout(zenarioO.sizing);\n\t}\n\t\n\tif (!get('organizer__box_wrap')) {\n\t\treturn;\n\t}\n\t\n\t//Try to get the width/height of the window\n\tif (!zenarioA.isFullOrganizerWindow) {\n\t\twidth = Math.floor($zenario_fbog.width());\n\t\theight = Math.floor($zenario_fbog.height());\n\t} else {\n\t\twidth = Math.floor($(window).width());\n\t\theight = Math.floor($(window).height());\n\t}\n\t\n\tif (width && height) {\n\t\t//Set a minimum width/height\n\t\tif (width < zenarioA.orgMinWidth) {\n\t\t\twidth = zenarioA.orgMinWidth;\n\t\t}\n\t\tif (height < 400) {\n\t\t\theight = 400;\n\t\t}\n\t\t\n\t\tif (refresh || zenarioO.lastSize != width + 'x' + height) {\n\t\t\t\n\t\t\t//Check whether we should show the left-hand-nav\n\t\t\tif (zenarioO.pi) {\n\t\t\t\tzenarioO.showLeftColumn = zenarioO.pi.returnShowLeftColumn();\n\t\t\t} else {\n\t\t\t\t//By default, if this is full mode then show the left hand nav, and if not, then hide it.\n\t\t\t\tzenarioO.showLeftColumn = !window.zenarioONotFull;\n\t\t\t}\n\t\t\t\n\t\t\tvar domPanel = get('organizer_rightColumnContent'),\n\t\t\t\tdomIcons = get('organizer_lowerLeftColumn'),\n\t\t\t\tdomFooter = get('organizer_lowerMiddleColumn'),\n\t\t\t\tdomChooseButtonWrap = get('organizer_lowerRightColumn'),\n\t\t\t\t$header = zenarioO.getHeader(),\n\t\t\t\t$panel = $(domPanel),\n\t\t\t\t$footer = $(domFooter),\n\t\t\t\t$buttons = $('#organizer_buttons'),\n\t\t\t\t$bottomWrap = $('#organizer_bottomWrap');\n\t\t\t\n\t\t\tif (!$header.is(':visible')) {\n\t\t\t\theaderToolbar = 0;\n\t\t\t}\n\t\t\tif (!$buttons.is(':visible')) {\n\t\t\t\tbuttonsHeight = 0;\n\t\t\t}\n\t\t\tif (!$bottomWrap.is(':visible')) {\n\t\t\t\tfooterHeight = 0;\n\t\t\t}\n\n\t\t\t\n\t\t\tif (domOrgWrapper) {\n\t\t\t\tdomOrgWrapper.className = zenarioA.getSKBodyClass(window, zenarioO.pi && zenarioO.pi.panelType);\n\t\t\t}\n\t\t\t\n\t\t\t//This line fixes a bug where the height of the floating div keeps changing when Organizer is opened\n\t\t\t//by specifically setting it to what it was read as\n\t\t\tif (!zenarioA.isFullOrganizerWindow) {\n\t\t\t\tMath.floor($zenario_fbog.height(height));\n\t\t\t}\n\t\t\t\n\t\t\tget('organizer_rightColumn').style.height =\n\t\t\tget('organizer_preloader_circle').style.height = (1*height - headerHeight - footerHeight) + 'px';\n\t\t\tget('organizer_leftColumn').style.height = ((1*height - headerHeight - footerHeight) - 2) + 'px';\n\t\t\tget('organizer_Outer').style.height = (1*height - headerHeight) + 'px';\n\t\t\t\n\t\t\tif (get('organizer_colsortfields')) {\n\t\t\t\tif (zenario.browserIsIE(6)) {\n\t\t\t\t\tget('organizer_colsortfields').style.height = (1*height - headerHeight - 130) + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tget('organizer_colsortfields').style.maxHeight = (1*height - headerHeight - 130) + 'px';\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar rightColumnContentHeight = ((1*height - headerHeight - footerHeight - contentGap - buttonsHeight - bordersWidth - zenarioO.columnPadding + titleHeight - headerToolbar) - 13);\n\t\t\tif (domPanel) {\n\t\t\t\tdomPanel.style.height = rightColumnContentHeight + 'px';\n\t\t\t}\n\t\t\t\n\t\t\tif (zenarioO.showLeftColumn) {\n\t\t\t\tleftColAdjustment = 204;\n\t\t\t\tget('organizer_leftColumn').style.display = get('organizer_leftColumnOuter').style.display = '';\n\t\t\t} else {\n\t\t\t\tleftColAdjustment = 0;\n\t\t\t\tget('organizer_leftColumn').style.display = get('organizer_leftColumnOuter').style.display = 'none';\n\t\t\t}\n\n\t\t\tget('organizer__box_top').style.width =\n\t\t\tget('organizer__box_wrap').style.width =\n\t\t\tget('organizer__box_center').style.width =\n\t\t\tget('organizer__box_bottom').style.width = (width - 0) + 'px';\n\t\t\t\n\t\t\tget('organizer_Outer').style.width = (width - 22) + 'px';\n\t\t\tget('organizer_wrapInner_bm').style.width = (width - 32) + 'px';\n\t\t\tget('organizer_wrapOuter_tm').style.width = (width - 0) + 'px';\n\t\t\t\n\t\t\tget('organizer_rightColumn').style.width = get('organizer_preloader_circle').style.width = (width - 30 - leftColAdjustment) + 'px';\n\t\t\tif (get('organizer_rightColumnTitle')) get('organizer_rightColumnTitle').style.width = (width - 30 - leftColAdjustment - 2) + 'px';\n\t\t\tif (domPanel) domPanel.style.width = (width - 30 - leftColAdjustment - bordersWidth) + 'px';\n\t\t\t\n\t\t\t\n\t\t\tif (window.zenarioOSelectMode) {\n\t\t\t\tget('organizer_choose_button').style.display = 'inline';\n\t\t\t} else {\n\t\t\t\tget('organizer_choose_button').style.display = 'none';\n\t\t\t}\n\t\t\t\n\t\t\tif (width <= 825) {\n\t\t\t\tdomIcons.style.width = \"40%\";\n\t\t\t\tdomFooter.style.width = \"49%\";\n\t\t\t\tdomChooseButtonWrap.style.width = \"10%\";\n\t\t\t} else if (width <= 965) {\n\t\t\t\tdomIcons.style.width = \"35%\";\n\t\t\t\tdomFooter.style.width = \"49%\";\n\t\t\t\tdomChooseButtonWrap.style.width = \"15%\";\n\t\t\t} else if(width <= 1155) {\n\t\t\t\tdomIcons.style.width = \"30%\";\n\t\t\t\tdomFooter.style.width = \"49%\";\n\t\t\t\tdomChooseButtonWrap.style.width = \"20%\";\n\t\t\t} else if(width >= 1155) {\n\t\t\t\tdomIcons.style.width = \"25%\";\n\t\t\t\tdomFooter.style.width = \"49%\";\n\t\t\t\tdomChooseButtonWrap.style.width = \"25%\";\n\t\t\t}\n\t\t\t\n\t\t\tzenarioO.setPanelTitle();\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (zenarioO.pi) {\n\t\t\t\tzenarioO.pi.sizePanel($header, $panel, $footer, $buttons);\n\t\t\t}\n\t\t\t\n\t\t\tzenarioO.sizeButtons();\n\t\t\t\n\t\t\t\n\t\t\tzenarioO.lastSize = width + 'x' + height;\n\t\t\t\n\t\t\tzenarioO.setTopLevelNavScrollStatus();\n\t\t}\n\t}\n\t\n\t//Stop selection/highlighting in IE\n\tif (zenario.browserIsIE()) {\n\t\tif (get('organizer_rightColumnContent')) {\n\t\t\tif (zenario.browserIsIE(8)) {\n\t\t\t\tif (el = get('organizer_Outer')) {\n\t\t\t\t\tel.onselectstart =\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\n\t\t\t} else {\n\t\t\t\tif (el = get('organizer_leftColumnOuter')) {\n\t\t\t\t\tel.onselectstart =\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (el = get('organizer_itemCountWrap')) {\n\t\t\t\t\tel.onselectstart =\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (el = get('organizer_rightColumn')) {\n\t\t\t\t\tel.onselectstart =\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\treturn !(zenarioO.itemsSelected > 1);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tzenarioO.sizing = setTimeout(zenarioO.size, 500);\n};\n\n\n//Calculate function short names, we need to do this before calling any functions!\nzenario.shrtNms(zenarioO);\n\n\nzenarioVO.init('zenarioVO', 'zenario_filters');\nzenario.shrtNms(zenarioVO);\n\n\nzenarioO.resetBranches();\n\n});", "zenario.lib(function(k,M,V,l,z,E,w,q,u,Q,aa,a,T,r,v,m,t,W,y,ba,ca,p){a.getItemLinkTimeoutTime=7E3;a.yourWorkInProgressLastUpdateFrequency=6E4;a.yourWorkInProgressItemCount=10;a.itemDoubleClickTime=500;a.searchDelayTime=700;a.firstLoaded=!1;a.defaultPageSize=50;a.defaultColumnWidth=150;a.columnsExtraSpacing=1;a.columnSpacing=1;a.columnPadding=10;a.columnWidths={xxsmall:45,xsmall:75,small:100,medium:150,large:225,xlarge:350,xxlarge:500};a.pi=!1;a.inspectionView=!1;var S=l.zenarioVO=new zenarioAF;a.defaultPath=\n\"zenario__content/panels/content\";a.defaultPathInIframePreload=\"dummy_item/panels/loading_message\";a.inInspectionView=function(b){if(!a._iVE())return a.inspectionView=!1;if(r(b))!1===b?a.inspectionView=a.inspectionViewItem=!1:(a.inspectionView=!0,a.inspectionViewItem=b),a._sH();else return a.inspectionView};a.inspectionViewItemId=function(){return a._iIV()?a.inspectionViewItem:!1};a.inspectionViewEnabled=function(){return a.pi&&a.pi.returnInspectionViewEnabled()};a.toggleInspectionView=function(b){a._iVE()&&\na.pi.toggleInspectionView(b)};a.openInspectionView=function(b){a._iVE()&&a.pi.openInspectionView(b)};a.closeInspectionView=function(b){a._iVE()&&a.pi.closeInspectionView(b)};a.print=function(){try{var a=$(\"#organizer_panelTitle div:eq(1)\").text(),c=$(\".organizer_list_view\").removeAttr(\"style\").html(),d=l.open(\"\",a,\"height=50,width=50\");d.document.write(\"<html><head><title></title>\");d.document.write('<link rel=\"stylesheet\" href=\"http://dev-jc.tribiq.com/HEAD/zenario/styles/admin_organizer_print.css\" type=\"text/css\" />');\nd.document.write(\"<script>myFunction = function() { window.print(); window.close();};\\x3c/script>\");d.document.write('</head><body onload=\"myFunction()\"><div class=\"table_wrapper\"><h1 class=\"print_title\">'+a+\"</h1>\");d.document.write(c);d.document.write(\"</div></body></html>\");d.document.close();d.focus()}catch(e){}};a.open=function(b,c,d,e,f,g,h,s,F,l,k,m,p){a.topLeftHTML||(a.topLeftHTML=\"\");a.topRightHTML||(a.topRightHTML='<div class=\"organizer_close_button\"><a onclick=\"zenarioO._cSM();\"></a></div>');\nvar r=u._mT(\"zenario_organizer\",{topLeftHTML:a.topLeftHTML,topRightHTML:a.topRightHTML});q._oB(r,b,\"og\",c,d,e,f,g,h,s,F,l,k,m,p);a._sOI()};a.initRun=!1;a.init=function(b){if(!a.initRun||b)a.initRun=!0,q._sAL(),a.pageTitle=V.title,a._seSe(k),a._chPr(),a._lM(a.init2)};a.loadMap=function(b){if(a.map)b();else{try{if(q.openedInIframe&&self.parent&&self.parent.zenarioO&&self.parent.zenarioO.map&&self.parent.zenarioA.moduleCodeHash===q.moduleCodeHash&&self.parent.zenarioCSSJSVersionNumber===l.zenarioCSSJSVersionNumber){a.map=\nself.parent.zenarioO.map;a._loFoBr(a.map);b();return}if(z&&z.zenarioO&&z.zenarioO.map&&z.zenarioA.moduleCodeHash===q.moduleCodeHash&&z.zenarioCSSJSVersionNumber===l.zenarioCSSJSVersionNumber){a.map=z.zenarioO.map;a._loFoBr(a.map);b();return}if(z&&z.zenario&&z.zenario.get&&z.zenario._g(\"zenario_sk_iframe\")&&z.zenario._g(\"zenario_sk_iframe\").contentWindow&&z.zenario._g(\"zenario_sk_iframe\").contentWindow.zenarioO&&z.zenario._g(\"zenario_sk_iframe\").contentWindow.zenarioO.map&&z.zenario._g(\"zenario_sk_iframe\").contentWindow.zenarioA.moduleCodeHash===\nq.moduleCodeHash&&z.zenario._g(\"zenario_sk_iframe\").contentWindow.zenarioCSSJSVersionNumber===l.zenarioCSSJSVersionNumber){a.map=z.get(\"zenario_sk_iframe\").contentWindow.zenarioO.map;a._loFoBr(a.map);b();return}}catch(c){}w._a(M+\"zenario/admin/organizer.ajax.php\",!1,!0,!0,!0,!0).after(function(c){a.map=c;a._loFoBr(a.map);b()})}};a.init2=function(){q._to();a._sN();a._sTRB();u._cDHTML5U()&&(m(\"organizer_rightColumn\").addEventListener(\"dragover\",function(){$(\"#organizer_rightColumn\").addClass(\"dragover\")},\n!1),m(\"organizer_rightColumn\").addEventListener(\"dragleave\",function(){$(\"#organizer_rightColumn\").removeClass(\"dragover\")},!1));a._cQ()||q.openedInIframe||a.go()};a.prefs={};a.prefsChecksum=\"{}\";a.previousPrefChecksums={\"{}\":!0};a.checkPrefs=function(){var b,c=M+\"zenario/admin/quick_ajax.php?_manage_prefs=1\",d=w._nAA(c+\"&_get_checksum=1\",!0,!1);return d&&d!=a.prefsChecksum&&!a.previousPrefChecksums[d]&&(b=w._nAA(c+\"&_load_prefs=1\",!0,!0))&&b?(a.prefs=b,a.previousPrefChecksums[a.prefsChecksum=d]=\n!0,!1):!0};a.savePrefs=function(b){var c={_manage_prefs:1,_save_prefs:1,prefs:JSON.stringify(a.prefs)};a.previousPrefChecksums[a.prefsChecksum=c.checksum=hex_md5(c.prefs)]=!0;$.ajax({type:\"POST\",async:!b,dataType:\"text\",url:M+\"zenario/admin/quick_ajax.php\",data:c,success:function(a){a&&q._sM(a)}})};a.shortenPath=function(a){return a};a.implodeKeys=function(a){var c=\"\",d;for(d in a)p(a,d)&&(c+=(c?\",\":\"\")+d);return c};a.getPanelType=function(b){return(b=b||a.path)&&(b=a._fPOM(b,\"panel_type\"))&&a.panelTypes[b]?\nb:\"list\"};a.initNewPanelInstance=function(b,c){var d=a._gPT(b),e=new a.panelTypes[d];e.panelType=d;e.cmsSetsPath(b);e.cmsSetsRefiner(c);e.init();return e};a.checkQueue=function(b){var c;if(c=a._cQL()){var d=\"\",e=l.zenarioOQueue.shift();e.selectedItems?(d=a._iK(e.selectedItems),e.refinerName&&(e.refiner={name:e.refinerName,id:d}),a.pi&&a.branches[a.branches.length-1].panel_instances[a.path]||(a.pi=a.branches[a.branches.length-1].panel_instances[a.path]=a._iNPI(a.path,e.refiner)),a.pi.cmsSetsSelectedItems(e.selectedItems)):\ne.refinerName&&(e.refiner={name:e.refinerName,id:d});a.go(e.path,e.branch,e.refiner,!0,!--c,k,k,k,b,k,k,k,e.searchTerm,e.filters);return!0}return!1};a.checkQueueLength=function(){return l.zenarioOQueue?l.zenarioOQueue.length:0};a.reloadOpeningInstanceIfRelevant=function(b){try{var c,d,e,f,g,h,s;z&&z.zenario?c=z:E&&E.zenario&&(c=E);if(c&&!a._cQL()&&((d=\"zenarioO\"==l.zenarioOReloadOnChanges&&c.zenarioO&&c.zenarioO.reload)&&d(),(d=\"zenarioAT\"==l.zenarioOReloadOnChanges&&c.zenarioAT&&c.zenarioAT.init)&&\nd(),(f=l.zenarioOOpeningInstance)&&(s=c.zenario.instances)))for(e in f=f.s(\",\"),f)p(f,e)&&(g=f[e],(h=s[g])&&w._rS(h.slotName,q.importantGetRequests))}catch(F){r(console)&&console.error&&console.error(F.message,F)}};a.callPanelOnUnload=function(){if(a.path&&a.pi&&a.pi.onUnload){var b=a._geHe(),c=a._gP(),d=a._gF();a.pi.onUnload(b,c,d)}};a.pathNotAllowed=function(b){return b&&l.zenarioONotFull&&!1!==l.zenarioOMaxPath&&a.path==l.zenarioOMaxPath&&b.path!=a.path};a.parseNavigationPath=function(b,c,d){_._iS(b)&&\n(b=b.s(\"//\"),c=b.length);if(2>=c)l=[{path:b[0],branch:-1}];else{var e,f,g,h,s,F,l;for(f=0;f<c-1;f+=2){0==f?(g=a._gFTFL(b[0]),l=[{path:g.from,branch:-1}]):(g=\"/\"==b[f].substr(0,1)?b[f].substr(1):e.to+\"/\"+b[f],g=a._gFTFL(g),e.to!=g.from&&l.push({path:g.from}));e={};b[f+1]&&(e=u._cTO(b[f+1]));s=h=!1;g.refiner&&(s=g.refiner,h=b[f+1]);F=g.to;if(!F)return q._sM('The requested path \"'+b.join(\"//\")+'\" was not found in the system. If you have just updated or added files to the CMS, you will need to reload the page.',\nk,\"error\",!1,!0),!1;d&&f+2==c-1&&(F+=\"//\"+b[f+2]);l.push({path:F,branch:!0,selectedItems:e,refinerId:h,refinerName:s});e=g}}return l};a.convertNavPathToTagPathAndRefiners=function(b){var c,d,e={path:\"\",request:{}};if(b=a._pNP(b)){for(c=0;c<b.length;++c)d=b[c],e.path=d.path,d.refinerName?(e.request[\"refiner__\"+d.refinerName]=e.request.refinerId=d.refinerId,e.request.refinerName=d.refinerName):(delete e.request.refinerId,delete e.request.refinerName);return e}return!1};a.convertNavPathToTagPath=function(b){var c;\nreturn a.map&&-1!=b.indexOf(\"//\")&&(c=a._pNP(b))?c[c.length-1]:{path:b}};var X=function(a,c){a=c?decodeURI(T(JSON.stringify(a))):T(a);return a.r(/'/g,\"'1\").r(/~/g,\"'2\")},Y=function(a,c,d,e){var f=a.indexOf(c);if(-1!=f){c=a.substr(f+2);d.path=a.substr(0,f);try{var g;a=c;a=a.r(/'2/g,\"~\").r(/'1/g,\"'\");g=e?JSON.parse(decodeURIComponent(a)):decodeURIComponent(a);d.info=g}catch(h){d.info=k}return!0}return!1};a.showableColumns=function(){var b,c,d=[];for(b in a.sortedColumns)p(a.sortedColumns,b)&&(c=a.sortedColumns[b],\na._iSC(c,!0)&&d.push(c));return d};a.exportPanelAsCSV=function(){var b=a.getAJAXURL(1E4);b&&q.doDownload(b,{_export:1,_csvExport:1,_exportCols:a.showableColumns().join(\",\")});a._r(!1,!0)};a.exportPanelAsExcel=function(){var b=a.getAJAXURL(1E4);b&&q.doDownload(b,{_export:1,_excelExport:1,_exportCols:a.showableColumns().join(\",\")});a._r(!1,!0)};a.getAJAXURL=function(b){return a.go(a.path,k,k,k,k,k,!1,k,k,k,!1,!1,k,k,!0,b)};a.goNum=0;a.loadNum=0;a.lastSuccessfulGoNum=0;a.go=function(b,c,d,e,f,g,h,s,\nF,Z,R,O,G,x,B,u){R||(a.lastActivity=Date.now());if(q.isFullOrganizerWindow||q._cIBIO(\"og\")){if(a.stop)return!1;if(a.map&&a.initRun){l.zenarioOCheckPaths&&(delete l.zenarioOCheckPaths,l.zenarioOTargetPath&&(l.zenarioOTargetPath=a._cNPTTP(l.zenarioOTargetPath).path),l.zenarioOMinPath&&(l.zenarioOMinPath=a._cNPTTP(l.zenarioOMinPath).path),l.zenarioOMaxPath&&v(l.zenarioOMaxPath)&&(l.zenarioOMaxPath=a._cNPTTP(l.zenarioOMaxPath).path));B||a._cPOU();e||(l.zenarioOQueue=!1);var A,t,y;h={};r(b)&&(Y(b,\"~k\",\nh,!0)&&(b=h.path,t=h.info),Y(b,\"~t\",h)&&(b=h.path,y=h.info),Y(b,\"~.\",h)&&(b=h.path,A=h.info),Y(b,\"~_\",h,!0)&&(b=h.path,x=h.info),Y(b,\"~-\",h)&&(b=h.path,G=h.info),A&&!Q.isOpen&&Q.open(A,t,y));if(A=b){t=b.s(\"//\");y=t.length;if(2<y){s=k;O=!1;if(!(B=a._pNP(t,y,!0)))return!1;r(G)&&(B[B.length-1].searchTerm=G);r(x)&&(B[B.length-1].filters=x);l.zenarioOQueue=B;a._cQ(!0);return}2==y?(s=k,O=!1,b=t[0],-1==t[1].indexOf(\",\")&&(s=t[1])&&(y=s.length-1,\"/\"==s.substr(y)&&(s=s.substr(0,y),O=!0))):s||(O=!1);b=a._shPa(b)}b||\n(b=l.zenarioONotFull?a.defaultPathInIframePreload:a.defaultPath,O=!1);if(!a._fPOM(b))return q._sM('The requested path \"'+A+'\" was not found in the system. If you have just updated or added files to the CMS, you will need to reload the page.',k,\"error\",!1,!0),!1;var z=++a.goNum;F||++a.loadNum;var N=!1;r(x)||(x=a._lFB(b,c,\"filters\"));r(G)||(G=a._lFB(b,c,\"searches\"));r(d)||(d=a._lR(b,c));if(!d&&v(a._fPOM(b,\"refiner_required\")))q._sM(\"A refiner was required, but none was set.\",!0,\"error\");else{var E,\nI={};A=a.branches.length-1;if(-1!==c){N=a._lFB(b,c,\"panel_instances\");for(t=0;t<A;++t)if(F=a.branches[t].refiners[a.branches[t+1].from])I[\"refiner__\"+(E=F.name)]=F.id;if(F=a.branches[A].refiners[a.path])I[\"refiner__\"+(E=F.name)]=F.id;d&&(I[\"refiner__\"+d.name]=d.id)}N?(N.cmsSetsPath(b),N.cmsSetsRefiner(d)):N=a._iNPI(b,d);var J=a._fPOM(b,\"default_sort_column\");J||(J=\"name\");F=a._fPOM(b);N.cmsSetsPanelTUIX(F);N.cmsSetsRequestedItem(s);N.cmsSetsSearchTerm(G);x=x&&!_._isEm(x)?w._cl(x):{};for(var H in x)p(x,\nH)&&(A=x[H],a._fSOC(H,x)?(r(A.not)&&(A.not?A.not=1:delete A.not),r(A.s)&&(A.s=v(A.s))):x[H]&&(x[H]={}));r(u)||(u=1*N.returnPageSize());H=F.reorder;var L=N.returnDoSortingAndSearchingOnServer(),K=N.returnAJAXURL(),M=N.returnDevToolsAJAXURL(),D={};A=function(e){a.go2(b,K,M,D,c,z,J,u,O,s,N,G,x,d,E,I,L,g,Z,e)};if(K){l.zenarioONotFull&&(l.zenarioOSelectMode?K+=\"&_select_mode=1\":l.zenarioOQuickMode&&(K+=\"&_quick_mode=1\"));a._aWPI(D);e&&!f&&(D._queued=1);r(d)&&(D.refinerId=d.id,D.refinerName=d.name,d.languageId&&\n(D.languageId=d.languageId));l.zenarioOCombineItem&&(D._combineItem=l.zenarioOCombineItem);for(var C in I)p(I,C)&&(D[C]=I[C]);if(L||a.CSVExport){if(u)if(D._limit=u,D._start=a.refreshToPage?(a.refreshToPage-1)*u:0,s)D._item=s;else if(g)if(\"object\"==typeof g&&g.selectedItemFromLastPanel)D._item=g.selectedItemFromLastPanel;else if(e=a._gSIFLP(b))D._item=e;H&&H.column?D._sort_col=H.column:a.prefs[b]&&a.prefs[b].sortBy?(D._sort_col=a.prefs[b].sortBy,D._sort_desc=a.prefs[b].sortDesc?1:0):(D._sort_col=J,\nD._sort_desc=v(a._fPOM(b,\"default_sort_desc\")))}x&&!_._isEm(x)&&(D._filters=JSON.stringify(x));(L||a.CSVExport)&&r(G)&&(D._search=G)}if(B)return K+w._uR(D);a._stRe();b!=a.defaultPathInIframePreload&&(m(\"organizer_preloader_circle\").style.display=\"block\");r(l.zenarioOFirstLoad)&&(l.zenarioOFirstLoad?l.zenarioOFirstLoad=!1:a._rOIIR(b));K?w._a(K+w._uR(D),!1,!0,!0,!0,!0).after(A):A(F)}}else l.zenarioONotFull||(l.zenarioOQueue=[{path:b,branch:-1}])}};a.go2=function(b,c,d,e,f,g,h,s,F,m,u,t,G,x,B,y,A,z,\nI,E){E&&r(E.comment)&&l.console&&console.log(E.comment);if((q.isFullOrganizerWindow||q._cIBIO(\"og\"))&&g==a.goNum){a._stRe();var N=a.path,Q,S;a.tuix&&(Q=B&&a.tuix.refiners&&a.tuix.refiners[B]&&a.tuix.refiners[B].title||a.tuix.title,S=v(a.tuix.no_return));a.url=c+w._uR(e);a.devToolsURL=d!=c?d+w._uR(e):k;a.lastRequests=e;a.path=b;a.defaultSortColumn=h;a.thisPageSize=s;a.server_side=A;a.inspectionView=F;a.inspectionViewItem=m;a.prefs[b]||(a.prefs[b]={});-1===f?a._reBr():f&&a._br(b,N,Q,S);a.pi=a.branches[a.branches.length-\n1].panel_instances[a.path]=u;r(E._filters)&&(G=E._filters,delete E._filters);a.branches[a.branches.length-1].filters[a.path]=G;a._sS(t);delete a.tuix;a.tuix=E;a.focus=a.tuix;a.pi.cmsSetsPanelTUIX(a.tuix);a.filtersSet=!1;a.filtersSetInViewOptions=!1;for(var J in G)if(p(G,J)&&a._fSOC(J,G)&&(a.filtersSet=!0,a._cFC(J))){a.filtersSetInViewOptions=!0;break}a._mIVIF();a._sR(x);a.lastRefiners=y;a.tuix.columns||(a.tuix.columns={name:{title:\"Name\"}});(c=a._fPOM(b,\"reorder\"))&&c.column?(a.sortBy=c.column,a.sortDesc=\n!1):a.prefs[b].sortBy&&a.tuix.columns[a.prefs[b].sortBy]?(a.sortBy=a.prefs[b].sortBy,a.sortDesc=a.prefs[b].sortDesc):((h=a._fPOM(b,\"default_sort_column\"))?a.sortBy=h:a.sortBy=a.defaultSortColumn,a.sortDesc=v(a._fPOM(b,\"default_sort_desc\")));a.pi.cmsSetsSortColumn(a.sortBy,a.sortDesc);a.sortedColumns=a._gSIOTE(\"columns\");a.sortedItemButtons=a._gSIOTE(\"item_buttons\");a.sortedInlineButtons=a._gSIOTE(\"inline_buttons\");a.sortedCollectionButtons=a._gSIOTE(\"collection_buttons\");a.sortedQuickFilterButtons=\na._gSIOTE(\"quick_filter_buttons\");a.shownColumns=a._gSC(b,h,a.tuix.columns);if(a.prefs[b].sortedColumns){c={};for(var H in a.prefs[b].sortedColumns)p(a.prefs[b].sortedColumns,H)&&(J=a.prefs[b].sortedColumns[H],c[J]=H);h=!1;for(H in a.sortedColumns)if(p(a.sortedColumns,H)){J=a.sortedColumns[H];if(a._iSC(J,!1,!0)&&!r(c[J])){h=c[h];h=r(h)?1*h+1:0;a.prefs[b].sortedColumns.splice(h,0,J);for(var L in c)p(c,L)&&c[L]>=h&&++c[L];c[J]=h}h=J}a.sortedColumns=a.prefs[b].sortedColumns}a.tuix.items&&1==a.tuix.__item_count__&&\nv(a.tuix.allow_bypass)?a.branches[a.branches.length-1].bypasses[a.path]=!0:delete a.branches[a.branches.length-1].bypasses[a.path];if(!a._cQ(!0)){if(a.tuix.items&&1==a.tuix.__item_count__&&v(a.tuix.allow_bypass))if(z){if(!1!==a._gBBT()){a._b();return}}else{if(a.tuix.items)for(var K in a.tuix.items)if(p(a.tuix.items,K)){H={};H[K]=!0;a.pi.cmsSetsSelectedItems(H);if(a._iCTA(K))return;break}}else if((!a.tuix.items||!a.tuix.__item_count__)&&v(a.tuix.return_if_empty)&&!1!==a._gBBT()){a._b();return}K={};\nL={};H={};var U,D,C,P;for(J in a.tuix.columns)if(p(a.tuix.columns,J)&&(c=a.tuix.columns[J],a._iSC(J)&&(b=c.item_link)))switch(b){case \"content_item\":case \"content_item_or_url\":for(D in a.tuix.items)p(a.tuix.items,D)&&(U=a.tuix.items[D][J])&&(c=U.s(\"_\"),c[0]&&\"null\"!=c[0]&&c[0]===c[0].r(/\\W/,\"\")&&c[1]&&c[1]==1*c[1]&&(C=a._iL(D),P=a._iP(D),L[C]||(L[C]={}),L[C][P]=L[C][P]?L[C][P]+\",\":\"\",L[C][P]+=c[0]+\"_\"+c[1]));break;case \"menu_item\":for(D in a.tuix.items)p(a.tuix.items,D)&&(U=a.tuix.items[D][J])&&U==\n1*U&&(C=a._iL(D),K[C]=K[C]?K[C]+\",\":\"\",K[C]+=U);break;default:for(D in a.tuix.items)p(a.tuix.items,D)&&(U=a.tuix.items[D][J])&&(H[b]=H[b]?H[b]+\",\":\"\",H[b]+=U)}a.contentItems={};a.menuItems={};a.otherItemLinks={};a.itemLinkRequestsLeft=0;a.shallowLinks={content_item:\"zenario__content/panels/content\",content_item_or_url:\"zenario__content/panels/content\",menu_item:\"zenario__menu/panels/menu_nodes\"};for(C in L)if(p(L,C))for(P in L)p(L,P)&&L[C][P]&&(a.contentItems[C]||(a.contentItems[C]={}),a.contentItems[C][P]||\n(a.contentItems[C][P]={}),c=M+\"zenario/admin/organizer.ajax.php?path=\"+a.shallowLinks.content_item+\"&_get_item_links=\"+L[C][P]+\"&languageId=\"+T(C),++a.itemLinkRequestsLeft,a._gDH(c,C,function(b,c){g==a.goNum&&(a.contentItems[b][P]=c,--a.itemLinkRequestsLeft||a.go3(g,t,z,I))}));for(C in K)p(K,C)&&(J=K[C])&&(a.menuItems[C]||(a.menuItems[C]={}),c=M+\"zenario/admin/organizer.ajax.php?path=\"+a.shallowLinks.menu_item+\"&_get_item_links=\"+T(J)+\"&languageId=\"+T(C)+\"&refinerName=language&refinerId=\"+T(C)+\"&refiner__language=\"+\nT(C),++a.itemLinkRequestsLeft,a._gDH(c,C,function(b,c){g==a.goNum&&(a.menuItems[b]=c,--a.itemLinkRequestsLeft||a.go3(g,t,z,I))}));for(b in H)p(H,b)&&(J=H[b])&&(a.otherItemLinks[b]||(a.otherItemLinks[b]={}),c=M+\"zenario/admin/organizer.ajax.php?path=\"+T(b)+\"&_get_item_links=\"+T(J),++a.itemLinkRequestsLeft,a._gDH(c,b,function(b,c){g==a.goNum&&(a.otherItemLinks[b]=c,--a.itemLinkRequestsLeft||a.go3(g,t,z,I))}));a.itemLinkRequestsLeft?(a.go3Timeout&&clearTimeout(a.go3Timeout),a.go3Timeout=setTimeout(function(){a.go3(g,\nt,z,I)},a.getItemLinkTimeoutTime)):a.go3(g,t,z,I)}}};a.getDataHack=function(a,c,d){w._a(a,2E3<a.length,!0,!0,!0).after(function(a){d(c,a)})};a.go3=function(b,c,d,e){(q.isFullOrganizerWindow||q._cIBIO(\"og\"))&&b==a.goNum&&(a.lastSuccessfulGoNum=++a.goNum,a.go3Timeout&&clearTimeout(a.go3Timeout),m(\"organizer_preloader_circle\").style.display=\"none\",a._sN(),!d&&a.tuix.popout_message&&(r(a.refreshToPage)&&a.tuix.popout_message==a.lastPopoutMessage||q._sM(a.tuix.popout_message,!0,!1),a.lastPopoutMessage=\na.tuix.popout_message),a._sASI(c),a.firstLoaded||(a.firstLoaded=!0,q._hAL()),a._sWC(\"loaded\",!0),a._sWC(\"filters_set\",a.filtersSet),a._sWC(\"filters_set_in_view_options\",a.filtersSetInViewOptions),e&&e())};a.setWrapperClass=function(a,c){$(\"#organizer__box_inner\").removeClass(\"organizer_\"+(c?\"not_\":\"\")+a).addClass(\"organizer_\"+(c?\"\":\"not_\")+a)};a.itemLanguage=function(b){return b&&a.tuix&&a.tuix.items&&a.tuix.items[b]&&(!a.tuix.items[b].css_class||-1==(\"\"+a.tuix.items[b].css_class).indexOf(\"ghost\"))&&\na.tuix.items[b].language_id?a.tuix.items[b].language_id:a.tuix&&a.tuix.key?a.tuix.key.languageId||a.tuix.key.language:\"\"};a.itemParent=function(a){return\"\"};a.getShownColumns=function(b,c,d){var e=!1,f=!1,g={};a.prefs&&a.prefs[b]&&a.prefs[b].shownColumns&&(g=a.prefs[b].shownColumns);if(d)for(var h in d)p(d,h)&&(e||(e=h),v(d[h].always_show)?f=g[h]=!0:r(g[h])?g[h]&&(f=!0):v(d[h].show_by_default)&&(f=g[h]=!0));f||(g[e||c]=!0);return g};a.nextPage=function(){if(a.lockPageClicks)return!1;a.page<a.pageCount&&\na._gTP(a.page+1)};a.prevPage=function(){if(a.lockPageClicks)return!1;1<a.page&&a._gTP(a.page-1)};a.goToPage=function(b){if(a.stop)return!1;a.page!=b&&a._dAI();a.lockPageClicks=!0;a.inspectionView=!1;a.pi.resetScrollPosition();a.server_side?a._rASP(b):a.showPage(b)};a.goToLastPage=function(){if(a.stop)return!1;a._gTP(a.pageCount)};a.refreshAndShowPage=function(b){a.page=b||1;a._l()};a.showPage=function(b){a.page=b;a._sePa()};a.searchAndSortItems=function(b){var c;r(a.refreshToPage)||a._seSe(b);a.server_side?\n(a.searchedItems=a.tuix.__item_sort_order__,a.searchMatches=a.tuix.__item_count__):(r(a.searchTerm)&&\"hidden\"!=m(\"organizer_search\").style.visibility?a.searchedItems=a.pi.sortAndSearchItems(b):a.searchedItems=a.pi.sortAndSearchItems(),a.searchMatches=a.searchedItems.length);a.itemsOrder={};for(var d in a.searchedItems)p(a.searchedItems,d)&&(c=a.searchedItems[d],a.itemsOrder[c]=1*d);b=1;if(a.thisPageSize)if(a.server_side&&a.server_side)b=a.tuix.__page__||a.refreshToPage||1;else if(r(a.refreshToPage))b=\na.refreshToPage;else{if(!a.inspectionViewItem)for(c in d=a.pi.returnSelectedItems(),d)if(p(d,c)){a.inspectionViewItem=c;break}if(c=a.itemsOrder[a.inspectionViewItem])b=Math.floor(c/a.thisPageSize)+1}delete a.refreshToPage;a.showPage(b)};a.stop=!1;a.stopWarningMessage=!1;a.disableInteraction=function(b){a.stop=!0;b&&(a.stopWarningMessage=b);$(\"#organizer_search_term\").prop(\"disabled\",!0);a._sWC(\"interaction_disabled\",!0)};a.enableInteraction=function(){a.stop=!1;a.stopWarningMessage=!1;$(\"#organizer_search_term\").prop(\"disabled\",\n!1);a._sWC(\"interaction_disabled\",!1)};a.getHeader=function(){return $(\"#organizer_header\")};a.getPanel=function(){return $(\"#organizer_rightColumnContent\")};a.getFooter=function(){return $(\"#organizer_lowerMiddleColumn\")};a.setPanel=function(){var b,c=a._geHe(),d=a._gP(),e=a._gF(),f=!1;n=0;a.multipleSelectEnabled=l.zenarioOSelectMode?l.zenarioOMultipleSelect:a.pi.returnMultipleSelectEnabled();var g=_._cl(a.pi.returnSelectedItems());for(b in g)p(g,b)&&(a.tuix.items&&a.tuix.items[b]?++n:(delete g[b],\nf=!0));f&&0==n?a.selectNextItem&&a.tuix.items&&a.tuix.items[a.selectNextItem]&&(g[a.selectNextItem]=!0,++n):!a.multipleSelectEnabled&&1<n&&(g={},n=0);delete a.selectNextItem;if(0==n&&a.inspectionViewItem&&a.tuix.items&&a.tuix.items[a.inspectionViewItem])n=1,g={},g[a.inspectionViewItem]=!0;else if(1<n||!a.inspectionViewItem||!a.tuix.items||!a.tuix.items[a.inspectionViewItem])a.inspectionView=!1;a.pi.cmsSetsSelectedItems(g);if(b=m(\"organizer_debug_button\"))b.className=a.refiner?a.refiner.id?\"zenario_debug zenario_debug_with_refiner_and_id\":\n\"zenario_debug zenario_debug_with_refiner_and_no_id\":\"zenario_debug zenario_debug_with_no_refiner\";a._eI();a._sPT();a._sBB();a._gPC();b=a.path.s(\"/\");m(\"organizer__box_wrap\").className=b.join(\"__\")+\" organizer_panel__\"+b.pop();a.pi.showPanel(c,d,e);a.tuix.toast&&q._t(a.tuix.toast);a._sB();a._sT();a._s(!0);a.lockPageClicks=!1;a._sH();l.zenarioONotFull||q.openedInIframe||q.seen_help_tour||!q.show_help_tour_next_time||q._sT(\"dummy_item\",!0);q.seen_help_tour=!0;setTimeout(function(){a._s(!0)},0)};a.back=\nfunction(b){if(a.stop)return a.stopWarningMessage&&alert(a.stopWarningMessage),!1;var c={},d={};if(!1!==a._gFLP(a.branches.length-1,a.path,\"title\",!1,b,!1,c)){d.selectedItemFromLastPanel=a._gSIFLP(c.path);a._dAI();a._cR();a._cS();for(b=c.pops;0<b;--b)a.branches.pop();a.go(c.path,k,k,k,k,d)}};a.knownBranches={};a.lookForBranches=function(b,c,d,e){var f,g,h,s;b._path_here&&(d=b._path_here);for(h in b)p(b,h)&&b[h]&&\"object\"==typeof b[h]&&(g=c?c+\"/\"+h:h,f=!1,r(e)&&(s=b[h].link)&&\"object\"==typeof s&&(\"nav\"!=\ne?s.branch=f=!0:(s.branch=f=!1,s.refiner&&s.path&&-1==s.path.indexOf(\"//\")&&(s.path+=\"/refiners/\"+s.refiner+\"//\",s.refinerId&&(s.path+=s.refinerId),s.path+=\"//\"))),\"refiners\"!=e||\"object\"!=typeof b[h]||r(b[h].link)||(b[h].link={path:d,refiner:h},b[h].link.branch=f=!0),f&&(a.knownBranches[d]||(a.knownBranches[d]={}),a.knownBranches[d][b[h].link.path]||(a.knownBranches[d][b[h].link.path]={}),a.knownBranches[d][b[h].link.path][b[h].link.refiner||1]&&\"item\"==(\"\"+a.knownBranches[d][b[h].link.path][b[h].link.refiner||\n1]).substr(-4)||(a.knownBranches[d][b[h].link.path][b[h].link.refiner||1]=a._shPa(g))),a._loFoBr(b[h],g,d,h))};a.resetBranches=function(){a.branches=[{panel_instances:{},bypasses:{},filters:{},refiners:{},searches:{}}]};a.branch=function(b,c,d,e){b=a._shPa(b);a.branches[a.branches.length]={from:c,to:b,title:d,no_return:e,panel_instances:{},bypasses:{},filters:{},refiners:{},searches:{}}};a.setHash=function(){if(!l.zenarioONotFull){if(!w._bII(7)){var b=a._gH();V.location.hash=b;w.currentHash=V.location.hash}q.homeLink&&\nm(\"home_page_button_link\")&&(m(\"home_page_button_link\").href=a._pRL(q.homeLink));q.backLink&&m(\"last_page_button_link\")&&(m(\"last_page_button_link\").href=a._pRL(q.backLink))}};a.getHash=function(b){var c=\"\",d=a.path,e,f,g,h=!1;e=!1;var s=\"\",F=a.pi&&a.pi.returnSelectedItems(),l=Q.isOpen&&Q.path,k=Q.isOpen&&Q.openingKey,m=Q.isOpen&&Q.tuix&&Q.tuix.tab;if(!b&&F){for(var q in F)if(p(F,q)&&F[q])if(!1===e)e=q;else{e=!1;break}e&&(s=a.inspectionView?e+\"/\":e)}for(q in a.branches)if(p(a.branches,q)&&0<q)if(e=\na.branches[q],e.to&&a.knownBranches[e.from]&&a.knownBranches[e.from][e.to]&&(f=a.knownBranches[e.from][e.to][e.refiners[e.to]?e.refiners[e.to].name:1])){f=a._shPa(f);if(g){if(f.substr(0,g.length)==g)f=a._shPa(f.substr(g.length+1));else{h=!0;break}c+=\"//\"}c+=f+\"//\";g=a.branches[q-1];if(g=g.panel_instances[e.from])c+=a._iK(g.returnSelectedItems());g=e.to}else{h=!0;break}!h&&g&&d.substr(0,g.length)==g&&(d=c+\"//\"+a._shPa(d.substr(g.length+1)));s&&(d=\"//\"==w._rHSS(d,2)?d+s:\"/\"==w._rHSS(d,1)?d+(\"/\"+s):\nd+(\"//\"+s));!b&&r(a.searchTerm)&&(d+=\"~-\"+X(a.searchTerm));!b&&a.path&&a.branches.length&&a.branches[a.branches.length-1]&&a.branches[a.branches.length-1].filters[a.path]&&!_._isEm(a.branches[a.branches.length-1].filters[a.path])&&(d+=\"~_\"+X(a.branches[a.branches.length-1].filters[a.path],!0));l&&(d+=\"~.\"+X(l),m&&(d+=\"~t\"+X(m)),k&&(d+=\"~k\"+X(k,!0)));return d};a.searchOnClick=function(a){};a.searchOnKeyUp=function(b){a.doSearchAfterDelay&&clearTimeout(a.doSearchAfterDelay);a.doSearchAfterDelay=setTimeout(function(){a._dS(m(\"organizer_search_term\"))},\na.searchDelayTime)};a.searchOnChange=function(b){a.server_side&&a.doSearchAfterDelay&&(clearTimeout(a.doSearchAfterDelay),a._dS(b))};a.markIfViewIsFiltered=function(){a.filteredView=r(a.searchTerm)||a.filtersSet};a.doSearch=function(b){a.doSearchAfterDelay&&clearTimeout(a.doSearchAfterDelay);\"\"===b.value?b=k:(b=b.value,\"0\"!==b.substr(0,1)&&b==1*b&&(b*=1));b!==a.searchTerm&&(a.searchTerm=b,a._mIVIF(),a._sS(a.searchTerm),a._rS())};a.runSearch=function(){if(a.stop)return!1;a.lockPageClicks=!0;a.inspectionView=\n!1;a.server_side||(a.server_side=a.pi.returnDoSortingAndSearchingOnServer())?a._rASP():a._sASI(a.searchTerm)};a.allItemsSelected=function(){if(0==a.shownItemsLength)return!1;var b,c=0,d=a.pi.returnSelectedItems();for(b in d)p(d,b)&&++c;return c==a.shownItemsLength};a.noItemsSelected=function(){if(0==a.shownItemsLength)return!0;var b,c=a.pi.returnSelectedItems();for(b in c)if(p(c,b))return!1;return!0};a.parseReturnLink=function(a,c){r(c)||(c=a&&w.currentHash&&!w._bII(7)?\"zenario_sk_return=\"+w.currentHash.r(\"#\",\n\"\"):\"\");return w._aBP((\"\"+a).r(\"zenario_sk_return=navigation_path\",c))};a.panelProp=function(b,c){var d,e;if(c=c||a.tuix)return(d=a.refiner&&a.refiner.name)&&(e=c.refiners&&c.refiners[d])&&r(e[b])?e[b]:c[b]};a.saveRefiner=function(b){a.branches[a.branches.length-1].refiners[a.path]=a.refiner=b};a.loadRefiner=function(b,c){return-1===c||c?k:a.branches[a.branches.length-1].refiners[b]?a.branches[a.branches.length-1].refiners[b]:k};a.clearRefiner=function(){a.refiner=k;a._sR()};a.saveSearch=function(b){a.branches[a.branches.length-\n1].searches[a.path]=b;a.pi.cmsSetsSearchTerm(b)};a.loadFromBranches=function(b,c,d){return-1===c||c?k:a.branches[a.branches.length-1]&&a.branches[a.branches.length-1][d]&&a.branches[a.branches.length-1][d][b]?a.branches[a.branches.length-1][d][b]:k};a.setSearch=function(b){var c;a.pi&&a.pi.returnSearchingEnabled()?(c=\"visible\",a.searchTerm=b):(c=\"hidden\",a.searchTerm=k);a._mIVIF();m(\"organizer_search\").style.visibility=c;r(a.searchTerm)?m(\"organizer_search_term\").value=a.searchTerm:m(\"organizer_search_term\").value=\n\"\"};a.clearSearch=function(){m(\"organizer_search_term\").value=\"\";a.searchTerm=k;a._mIVIF();a._sS(a.searchTerm)};a.toggleAllItems=function(){a._aIS()?a._dAI():a._sAI();a._sB();a._sH()};a.selectAllItems=function(){a._sIR()};a.deselectAllItems=function(){a._sIR(-1)};a.selectItemRange=function(b,c){var d=!1,e,f=!r(b),g=a.pi.returnSelectedItems(),h;for(h in a.searchedItems){var s=a.searchedItems[h];if(a.shownItems&&a.shownItems[s])if((e=f||s===b||s===c)&&!g[s]?(a.pi.selectItem(s),d=!0):!e&&g[s]&&(a.pi.deselectItem(s),\nd=!0),s===b&&s===c)f=!1;else if(s===b||s===c)f=!f}d&&a._cIV()};a.selectItems=function(b){var c,d,e={},f=!1,g=a.pi.returnSelectedItems();if(_._isAr(b))for(c in b)p(b,c)&&(d=b[c],e[d]=!0);else _._isOb(b)?e=b:e[b]=!0;for(d in a.shownItems)p(a.shownItems,d)&&((b=e[d])&&!g[d]?(a.pi.selectItem(d),f=!0):!b&&g[d]&&(a.pi.deselectItem(d),f=!0));f&&(a._cIV(),a._sB(),a._sH())};a.itemClickThrough=function(b,c){if(a.stop)return!1;w._st(c);if(!a.tuix||!a.tuix.items||!a.tuix.items[b])return!1;a._iCTA(b);return!1};\na.itemClickThroughAction=function(b){var c=a._iCTL(b),d;return c?(v(c.unselect_items)||(d={},d[b]=!0,a.pi.cmsSetsSelectedItems(d)),u._a(a,a.tuix.items[b],!0,!0,c),!0):!1};a.itemClickThroughLink=function(b){var c=a.tuix.items[b].link;b=a.tuix.items[b].panel;r(c)||r(b)||!a.tuix.item||(c=a.tuix.item.link,b=a.tuix.item.panel);b&&(c={path:b._path_here});return c&&l.zenarioONotFull&&a.path===l.zenarioOMaxPath&&(a.path!==c.path||l.zenarioODisallowRefinersLoopingOnMinPath)?!1:c};a.topRightButtonClick=function(b){if(a.stop)return!1;\nu._a(a,a.map.top_right_buttons[b],!1,-1)};a.topLevelClick=function(b,c,d){if(a.stop)return!1;a._cR();a._cS();a._reBr();r(c)?(b=w._cl(a.map[b].nav[c]),u._a(a,b,!1,-1)):u._a(a,a.map[b],!1,-1)};a.viewTrash=function(){!l.zenarioOSelectMode&&a.tuix&&a.tuix.trash&&!v(a.tuix.trash.empty)&&u._a(a,a.tuix.trash,!1,!0);return!1};a.collectionButtonClick=function(b,c){a.tuix&&a.tuix.collection_buttons&&a.tuix.collection_buttons[b]&&u._a(a,a.tuix.collection_buttons[b],!1,!0,k,c)};a.itemButtonClick=function(b,c){a.tuix&&\na.tuix.item_buttons&&a.tuix.item_buttons[b]&&(r(c)&&a._sI(c),u._a(a,a.tuix.item_buttons[b],!0,!0))};a.inlineButtonClick=function(b,c){a.tuix&&a.tuix.inline_buttons&&a.tuix.inline_buttons[b]&&(a._sI(c),u._a(a,a.tuix.inline_buttons[b],!0,!0))};a.toggleQuickFilter=function(b,c){var d,e,f,g,h=!1,s=a.tuix&&a.tuix.quick_filter_buttons;if(button=s&&s[b]){if(v(button.clear_all))for(e in s)p(s,e)&&(f=s[e],e==b||button.parent&&button.parent!=e&&button.parent!=f.parent||!(d=f.column)||!a._gFV(\"s\",d)||(a._sFV(\"s\",\nd,!1),a._clFi(d),h=!0));(d=button.column)&&(g=a._gCFT(d))&&a._cICPCAA(d)&&(v(button.remove_filter)?c=!1:r(c)||(c=!a._qFE(b)),a._sFV(\"s\",d,c),a._clFi(d),c&&(a._sFV(\"not\",d,v(button.invert)),\"yes_or_no\"==g?a._sFV(\"v\",d,1):r(button.value)&&a._sFV(\"v\",d,button.value)),h=!0);h&&a._rASP()}};a.quickFilterEnabled=function(b){var c,d,e;if((c=a.tuix.quick_filter_buttons[b])&&(d=c.column)&&(e=a._gCFT(d))){if(v(c.remove_filter))return!a._gFV(\"s\",d);if(a._gFV(\"s\",d)&&v(c.invert)==v(a._gFV(\"not\",d))){if(\"yes_or_no\"==\ne)return!0;if(r(c.value))return a._gFV(\"v\",d)===c.value}}return!1};a.applyMergeFields=function(b,c,d,e){var f=b=(b+\"\").r(/~/g,\"~1\"),g,h;r(d)||(d=a._gKI());for(h in a.tuix.items[d])if(p(a.tuix.items[d],h)&&(f=a.tuix.items[d][h],-1!=b.indexOf(\"[[\"+h+\"]]\")))for(g=a.tuix.columns&&a.tuix.columns[h]?a._cV(d,h,!c):c?t(f):f,!e&&r(g)&&(g=(g+\"\").r(/\\n/g,\" \")),g=(g+\"\").r(/~/g,\"~1\").r(/\\[/g,\"~2\").r(/\\]/g,\"~3\");b!=(f=b.r(\"[[\"+h+\"]]\",g));)b=f;return b.r(/~2/g,\"[\").r(/~3/g,\"]\").r(/~1/g,\"~\")};a.applyMergeFieldsToLabel=\nfunction(b,c,d,e){d&&e&&1<a.itemsSelected&&(b=e);if(!b)return b;b=(\"\"+b).r(/\\[\\[item_count\\]\\]/ig,a.itemsSelected);d&&1==a.itemsSelected&&(b=a._aMF(b,c));return b};a.applySmallSpaces=function(b){for(var c,d,e=\"\";-1!=(c=b.search(/([a-z][A-Z]|[a-zA-Z][^a-zA-Z\\)]|[^a-zA-Z\\(][a-zA-Z]|[0-9][^0-9\\)]|[^0-9\\(][0-9])/));)d=null!==b[c+1].m(/\\s/)?c+2:c+1,c=b.substr(0,d),b=b.substr(d),e+=a._mLS(t(c,!1,\"asis\"),25),-1==c.search(/\\s/)&&(e+='<span style=\"font-size: 1px;\"> </span>');return e+=a._mLS(t(b),25)};a.maxLengthString=\nfunction(a,c){for(var d=\"\";a.wordLength>c;)d+=a.substr(0,c)+'<span style=\"font-size: 1px;\"> </span>',a=a.substr(c);return d+a};a.pickItems=function(b,c,d){b={};for(var e in c)p(c,e)&&(\"id\"==e?b[e]=c[e]:\"parent__\"!=e.substr(0,8)&&(b[\"child__\"+e]=c[e]));if(a.postPickItemsObject)a.pickItemsItemLevel&&(b.id2=b.id,delete b.id),u._a(a,a.postPickItemsObject,!0,!0,k,b);else if(a.actionTarget){if(a.pickItemsItemLevel){a.actionRequests.id2=b.id;for(var f in b)p(b,f)&&\"id\"!=f&&(a.actionRequests[f]=b[f])}else for(f in b)p(b,\nf)&&(a.actionRequests[f]=b[f]);a._a2()}a.postPickItemsObject=!1};a.action2=function(){if(a.actionTarget){var b=++a.goNum;m(\"organizer_preloader_circle\").style.display=\"block\";w._a(a.actionTarget,a.actionRequests,!1,!1,!0).after(function(c){b==a.goNum&&(c&&!1===q._sM(c,k,\"error\")?m(\"organizer_preloader_circle\").style.display=\"none\":a._sCI())})}a.actionTarget=!1;delete a.actionRequests};a.uploadStart=function(){a._dI()};a.uploadComplete=function(){a._eI();a._sCI()};a.selectCreatedIds=function(){w._a(M+\n\"zenario/ajax.php?method_call=getNewId\",!0,!0).after(function(b){a._rTSI(b)})};a.reloadButton=function(){w._oCD();a._r();a._sOI()};a.lastActivity=!1;a.reload=function(b,c,d){if(b&&(!a.lastActivity||12E5<Date.now()-a.lastActivity))return!1;a._stRe();var e=a.path,f=a._gKI(!0),g=a.inspectionView;a.refreshToPage=f?k:a.page;a.go(e,k,k,k,k,k,!c,f,k,d,b,g)};a.load=function(){a._r(!1,!0)};a.changePassword=function(){a._rePa(k,!0,\"change_password\")};a.reloadPage=a.refreshPage=function(b,c,d,e){if(!e&&a.stop)return!1;\nd=d||\"\";r(b)||(b=w.currentHash&&!w._bII(7)?w.currentHash.r(\"#\",\"\"):a._gH());d||c||(d=\"zenario__administration/panels/site_settings//site_reset\"==b?\"site_reset\":b&&\"zenario__administration/panels/backups\"==b.substr(0,31)?\"restore\":\"reload_sk\");c=M+\"admin.php?task=\"+d;w.cID?c+=\"&cID=\"+w.cID+\"&cType=\"+w.cType+\"&cVersion=\"+w.cVersion:(c+=\"&og=\"+T(b),w.cID&&(c+=\"&fromCID=\"+q.fromCID+\"&fromCType=\"+q.fromCType));l.location.href=c};a.refreshToShowItem=function(b,c,d){if(a.stop)return!1;if(\"zenario__administration/panels/site_settings\"==\na.path)a._rePa();else{var e,f,g=a.path,h;a.page&&(a.refreshToPage=a.page);a.selectNextItem=a._gNI();f=!1!==b&&r(b)?_._isOb(b)?_._k(b):_._isAr(b)?b:(b+\"\").s(\",\"):[];if(f.length){h={};for(e in f)p(f,e)&&(a.tuix.db_items&&a.tuix.db_items.encode_id_column&&(f[e]=w._eIIFO(f[e])),h[f[e]]=!0);a.pi.cmsSetsSelectedItems(h);a._sH();g+=\"//\"+f.join(\",\");a.inspectionView&&(g+=\"/\")}a._stRe();w._oCD();a.go(g,k,k,k,k,k,k,k,k,function(){var e;b&&-1==(b+\"\").indexOf(\",\")&&a.pi&&a.tuix&&(c&&(e=q._fOIN(a.tuix,b))&&a.pi.displayToastMessage(c.r(/\\[\\[name\\]\\]/ig,\nt(e))),!d||v(a.tuix.hide_filter_warning)||a.tuix.items&&a.tuix.items[b]||q._gIFO(a.path,b,!0).after(function(c){c.items&&c.items[b]&&a.pi.displayToastMessage(d)}))})}};a.refreshing=!1;a.stopRefreshing=function(){a.refreshing&&clearTimeout(a.refreshing)};a.doCSVExport=function(){a.CSVExport=!0;a._r()};a.getNextItem=function(){var b,c,d,e=-1,f,g;if(!(f=a.tuix&&a.searchedItems)||!(g=a.pi&&a.pi.returnSelectedItems()))return!1;for(c in f)p(f,c)&&(b=f[c],c=1*c+1,c>e&&g[b]&&(d=f[c])&&!g[d]&&(e=c));return-1!=\ne&&f[e]};a.getKey=function(b){var c={},d=a.tuix,e,f;if(d.key)for(f in d.key)p(d.key,f)&&(c[f]=d.key[f]);a.refiner&&(c.refinerId=a.refiner.id,c.refinerName=a.refiner.name);if(a.lastRefiners)for(f in a.lastRefiners)p(a.lastRefiners,f)&&(c[f]=a.lastRefiners[f]);if(b&&(c.id=a._gKI(),(e=d.items&&d.items[c.id])&&_._isOb(e.key)))for(f in e.key)p(e.key,f)&&(c[f]=e.key[f]);a._aWPI(c);return c};a.addWindowParentInfo=function(a){var c,d,e=E&&E.zenario||w;if(q.openedInIframe&&E&&E.zenario&&E.zenarioO.init&&E.zenarioO.tuix)for(d in c=\nE.zenarioO._gK(!0),c)p(c,d)&&(a[\"parent__\"+d]=c[d]);e.cID&&(a.parent__cID=e.cID,a.parent__cType=e.cType,a.parent__cVersion=e.cVersion)};a.selectedItems=function(){return a.pi&&a.pi.returnSelectedItems()};a.selectedItemId=function(){return a._gKI(!0,!0)};a.selectedItemIds=function(){return a._gKI()};a.selectedItemDetails=function(){var b=a._sII();return b&&a.tuix.items&&a.tuix.items[b]||{}};a.getKeyId=function(b,c){var d,e=\"\",f=a._seIt();if(f)for(d in f)if(p(f,d))if(\"\"===e)e=d;else{if(c)return!1;if(b)break;\nelse e+=\",\"+d}return e};a.getLastKeyId=function(b){var c;return(c=a._lR(a.path))?c.id:!1};a.followPathOnMap=function(b,c,d){b||(b=a.defaultPath);var e=a.map;b=b.s(\"/\");var f=!1,g=!1,h;for(h in b)if(p(b,h)){var s=b[h];if(\"\"!==s){0==h&&(f=g=s);if(e[s])e=e[s];else return!1;e.link&&e.link.path?(f=g,g=e.link.path):e._path_here&&(f=g,g=e._path_here)}}e.panel&&(d||!c||!r(e[c])&&r(e.panel[c]))&&(e=e.panel);return d?e.link?{from:f,to:g,branch:e.link.branch,refiner:e.link.refiner}:!1:c?e[c]:e};a.getFromToFromLink=\nfunction(b){return a._fPOM(b,!1,!0)};a.showViewOptions=function(b){if(a.stop||!a.tuix.columns)return!1;a._chPr()?a._sVO2():a._r(k,k,a.showViewOptions2);return!1};a.showViewOptions2=function(){q._oB(!1,\"zenario_view_options\",\"AdminViewModeOptions\",m(\"organizer_listViewOptionsDropdown\"),445,-395,-2,!1,!0,!1,!1,k,k,!1,!0);a._sVO()};a.getColumnFilterType=function(b){if(!a.tuix||!a.tuix.columns||!a.tuix.columns[b])return!1;var c=!1,d=a.tuix.columns[b].filter_format||a.tuix.columns[b].format;\"date\"==d||\n\"datetime\"==d||\"datetime_with_seconds\"==d?c=\"date\":\"yes_or_no\"==d?c=\"yes_or_no\":\"enum\"==d&&a.tuix.columns[b].values||\"language_english_name_with_id\"==d||\"language_english_name\"==d||\"language_local_name_with_id\"==d||\"language_local_name\"==d?c=\"enum\":v(a.tuix.columns[b].searchable)&&(c=\"search\");return c};a.setViewOptions=function(){var b={},c=new w.callback;b.showcol__title_={ord:-3,full_width:!0,pre_field_html:'<div class=\"organizer_colPickerTitle_show\" style=\"\">',snippet:{html:y.show},post_field_html:\"</div>\"};\nb.sortcol__title_={ord:-1,same_row:!0,pre_field_html:'<div class=\"organizer_colPickerTitle_sort\">',snippet:{html:y.sort},post_field_html:\"</div>\"};var d,e,f,g=!1,h=!1,s=a.prefs[a.path]||{};for(e in a.sortedColumns)if(p(a.sortedColumns,e)&&(d=a.sortedColumns[e],(f=a.tuix.columns[d])&&a._iSC(d,!1))){b[\"start_of_row__\"+d]={ord:100*e,full_width:!0,snippet:{html:\"\"}};b[\"showcol_\"+d]={ord:100*e+4,same_row:!0,type:\"toggle\",onclick:\"zenarioO._sHC(!\"+v(a.shownColumns[d])+\", '\"+t(d)+\"'); zenarioO._sVO();\",\nvalue:a.shownColumns[d]?\"Hide\":\"Show\",title:y.showCol,\"class\":(\"grid\"==a.view_mode||v(f.always_show)?\"notused \":\"\")+(a.shownColumns[d]?\"zen_col_hidden\":\"zen_col_shown\")};if(a.showCSVInViewOptions){delete b[\"showcol_\"+d].onclick;v(v(f.server_side_only))?b[\"showcol_\"+d].style=\"visibility: hidden;\":b[\"showcol_\"+d].disabled=\"disabled\";var l=a.shownColumns[d];r(s.shownColumnsInCSV)&&r(s.shownColumnsInCSV[d])&&(l=s.shownColumnsInCSV[d]);b[\"showcsv_\"+d]={ord:100*e+5,same_row:!0,type:\"checkbox\",onclick:\"zenarioO._sHCIC(this, '\"+\nt(d)+\"');\",value:l,\"class\":\"grid\"==a.view_mode||v(f.always_show)?\"notused\":\"\"}}b[\"sortcol_\"+d]={ord:100*e+6,same_row:!0,snippet:{html:'<label class=\"zenario_filter_column_name\" for=\"showcol_'+d+'\">'+t(f.title)+\"</label>\"}};if(a._cFC(d)){var u=l=!a._gFV(\"s\",d),R=a._gFV(\"v\",d),O,G=\"\",x=\"\",B=f.filter_format||f.format;O='<a class=\"'+(a._gFV(\"not\",d)?\"organizer_inverter organizer_not\":\"organizer_inverter\")+'\" title=\"'+y.invertFilter+'\" onclick=\"zenarioO._iF(this, \\''+t(d)+\"', '\"+t(B)+\"');\\\">\";if(\"date\"==\nB||\"datetime\"==B||\"datetime_with_seconds\"==B)R&&(O=R.s(\",\"),G=O[1],x=O[0]),b[\"date_after_col_\"+d]={ord:100*e+7,row_class:\"zenario_date_filters_for_field\",label:'<span class=\"zenario_date_filters_phrase\">'+y.after+\"</span>\",type:\"date\",onchange:\"zenarioO._uDF('\"+t(d)+\"');\",value:x,hidden:l,_was_hidden_before:u},b[\"date_before_col_\"+d]={ord:100*e+8,row_class:\"zenario_date_filters_for_field\",label:'<span class=\"zenario_date_filters_phrase\">'+y.before+\"</span>\",type:\"date\",onchange:\"zenarioO._uDF('\"+\nt(d)+\"');\",value:G,hidden:l,_was_hidden_before:u},b[\"v\"+d]={ord:100*e+9,same_row:!0,type:\"hidden\",value:R,hidden:l,_was_hidden_before:u};else if(\"yes_or_no\"==B)R=\"\"+f.title,-1==R.indexOf(\":\")&&(R+=\":\",R.r(/\\s*:/,\":\")),b[\"v\"+d]={ord:100*e+7,row_class:\"zenario_filters_for_field yes_or_no\",snippet:{html:O+(a._gFV(\"not\",d)?y.no:y.yes)+\"</a>\"},hidden:l,_was_hidden_before:u};else if(\"enum\"==B&&f.values||\"language_english_name_with_id\"==B||\"language_english_name\"==B||\"language_local_name_with_id\"==B||\"language_local_name\"==\nB){x=k;if(\"enum\"==B){if(G=f.values,!G[\"\"]&&!G[0]){var G={},x=y.selectListSelect,z;for(z in f.values)p(f.values,z)&&(G[z]=f.values[z])}}else for(z in G={},G[\"\"]=y.selectListSelect,q.lang)p(q.lang,z)&&q.lang[z].enabled&&(G[z]=q.lang[z].name,\"language_english_name_with_id\"==B||\"language_local_name_with_id\"==B)&&(G[z]+=\" (\"+z+\")\");b[\"v\"+d]={ord:100*e+7,row_class:\"zenario_filters_for_field enum\",label:O+(a._gFV(\"not\",d)?y.isnt:y.is)+\"</a>\",type:\"select\",onchange:\"zenarioO._cF();\",empty_value:x,values:G,\nvalue:R,hidden:l,_was_hidden_before:u}}else v(f.searchable)&&(f=\"id\"==f.format||f.encrypted,f=a._gFV(\"not\",d)?f?y.isnt:y.notLike:f?y.is:y.like,b[\"v\"+d]={ord:100*e+7,row_class:\"zenario_filters_for_field\",label:O+f+\"</a>\",type:\"text\",onkeyup:\"zenarioVO._cFAD();\",value:R,hidden:l,_was_hidden_before:u});a._gCFT(d)&&(b[\"togglefilter_\"+d]={ord:100*e+2,same_row:!0,pre_field_html:'<div class=\"organizer_togglefilter\">',type:\"toggle\",onclick:\"zenarioO._tF(this, '\"+t(d)+\"');\",\"class\":l?\"togglefilter_closed\":\n\"togglefilter_open\",value:l?\" \":\"x\",title:l?y.filterByCol:y.filterByColStop,post_field_html:\"</div>\"})}a.showCSVInViewOptions&&(b[\"up__\"+d]={ord:100*e+1,same_row:!0,pre_field_html:'<div class=\"organizer_mov_col\">',type:\"toggle\",value:\" \",\"class\":\"movcol_up\",style:\"visibility: hidden;\",title:y.moveColForward},b[\"down__\"+d]={ord:100*e+2,same_row:!0,type:\"toggle\",value:\" \",\"class\":\"movcol_down\",style:\"visibility: hidden;\",title:y.moveColBack,post_field_html:\"</div>\"},!1!==g&&(b[\"up__\"+d].style=\"\",b[\"up__\"+\nd].onclick=\"zenarioO._sCO(\"+e+\", \"+g+\", true)\",b[\"down__\"+h].style=\"\",b[\"down__\"+h].onclick=\"zenarioO._sCO(\"+e+\", \"+g+\", true)\"));g=e;h=d}var A,g=!1;if(a.branches[a.branches.length-1]&&a.branches[a.branches.length-1].filters&&a.branches[a.branches.length-1].filters[a.path])for(A in a.branches[a.branches.length-1].filters[a.path])if(p(a.branches[a.branches.length-1].filters[a.path],A)&&a.branches[a.branches.length-1].filters[a.path][A].shown){g=!0;break}for(A in s)if(p(s,A)&&(d=s[A],A&&d)){g=!0;break}g&&\n(b.reset={ord:100*e+12,full_width:!0,type:\"toggle\",onclick:\"zenarioO._rePr();\",value:y.reset});m(\"zenario_fbAdminViewModeOptions\").innerHTML=S.drawTUIX(b,\"zenario_filters_popup\",c);w._aJQE(\"#zenario_fbAdminViewModeOptions \",!0);c.done();a._s(!0)};a.updateDateFilters=function(b){var c=S.readField(\"date_after_col_\"+b),d=S.readField(\"date_before_col_\"+b);m(\"v\"+b).value=c||d?c+\",\"+d:\"\";a._cF()};a.canSortColumn=function(b){return a.stop||v(a.tuix.columns[b].disallow_sorting)||a.server_side&&!a.tuix.columns[b].db_column?\n!1:!0};a.canFilterColumn=function(b){b=a.tuix.columns[b];var c;if(!b)return!1;c=b.filter_format||b.format;if(!b.db_column&&!b.filter_column||v(b.server_side_only)||v(b.disallow_filtering)||\"enum\"==c&&!b.values)return!1;switch(c){case \"date\":case \"datetime\":case \"datetime_with_seconds\":case \"language_english_name_with_id\":case \"language_english_name\":case \"language_local_name_with_id\":case \"language_local_name\":return!v(b.disallow_sorting);default:return v(b.searchable)}};a.showHideColumn=function(b,\nc){if(v(a.tuix.columns[c].always_show))b=!0;else{var d=0,e;for(e in a.tuix.columns)p(a.tuix.columns,e)&&a.shownColumns[e]&&++d;2>d&&!b&&(b=!0)}a.shownColumns[c]=b?!0:!1;a._chPr();a.prefs[a.path].shownColumns=a.shownColumns;a._sP();a._sePa()};a.resizeColumn=function(b,c){a.shownColumns[b]&&(c=Math.max(c,a.columnWidths.xxsmall),a._chPr(),a.prefs[a.path].colSizes||(a.prefs[a.path].colSizes={}),a.prefs[a.path].colSizes[b]=c,a._sP());a._sePa()};a.showHideColumnInCSV=function(b,c){a._chPr();a.prefs[a.path].shownColumnsInCSV||\n(a.prefs[a.path].shownColumnsInCSV={});a.prefs[a.path].shownColumnsInCSV[c]=b.checked?!0:!1;a._sP()};a.switchColumnOrder=function(b,c,d){if(\"object\"==typeof b){var e,f={};moveableColumns={};pi=-1;positions=[];for(e in b)p(b,e)&&(c=b[e],f[c]=!0);for(e in a.sortedColumns)p(a.sortedColumns,e)&&(c=a.sortedColumns[e],f[c]&&(moveableColumns[c]=!0,positions[++pi]=e,a.sortedColumns[e]=k));pi=-1;for(e in b)p(b,e)&&(c=b[e],f[c]&&moveableColumns[c]&&(a.sortedColumns[positions.shift()]=c));for(e=a.sortedColumns.length-\n1;0<=e;--e)r(a.sortedColumns[e])||a.sortedColumns.splice(e,1)}else e=a.sortedColumns[b],a.sortedColumns[b]=a.sortedColumns[c],a.sortedColumns[c]=e;a._chPr();a.prefs[a.path].sortedColumns=a.sortedColumns;a._sePa();d&&a._sVO();a._sP()};a.resetPrefs=function(){a._chPr();a.prefs[a.path]&&(a.prefs[a.path]={},a._sP());a.branches[a.branches.length-1]&&a.branches[a.branches.length-1].filters&&(a.branches[a.branches.length-1].filters[a.path]={});q._cB(\"AdminViewModeOptions\");a._rASP()};a.checkIfColumnPickerChangesAreAllowed=\nfunction(b){return a.stop?!1:!0};a.changeSortOrder=function(b){a._cSC(b)&&a._cICPCAA(b)&&(a.sortBy==b?a.sortDesc=!a.sortDesc:(a.sortBy=b,a.sortDesc=!1),a._chPr(),a.prefs[a.path].sortBy=a.sortBy,a.prefs[a.path].sortDesc=a.sortDesc,a.pi&&a.pi.cmsSetsSortColumn(a.sortBy,a.sortDesc),a._rS(),a._sP(!0))};a.toggleFilter=function(b,c){var d,e=a._gCFT(c);if(e&&a._cICPCAA(c)){d=!a._gFV(\"s\",c);a._sFV(\"s\",c,d);var f=!1;d||(a._gFV(\"v\",c)&&(a._sFV(\"v\",c,\"\"),f=!0),a._sFV(\"not\",c,!1));\"yes_or_no\"==e&&d&&(f=!0,a._sFV(\"v\",\nc,1));a._sVO(c);S.hideShowFields(function(){a._s(!0);m(\"v\"+c)&&$(m(\"v\"+c)).is(\":visible\")&&m(\"v\"+c).focus()});f&&a._rASP()}};a.invertFilter=function(b,c,d){a._cICPCAA(c)&&(b=!a._gFV(\"not\",c),a._sFV(\"not\",c,b),a._sVO(c),a._fSOC(c)&&a._rASP())};a.refreshIfFilterSet=function(b){a._gFV(\"v\",b)&&a._rASP()};a.filterSetOnColumn=function(b,c){return!!a._gFV(\"v\",b,c)};a.getFilterValue=function(b,c,d){r(d)||(d=a.branches[a.branches.length-1].filters[a.path]);return d&&d[c]&&d[c][b]?d[c][b]:\"\"};a.setFilterValue=\nfunction(b,c,d){var e=a.branches[a.branches.length-1].filters;e[a.path]||(e[a.path]={});e[a.path][c]||(e[a.path][c]={});!r(d)||!d&&\"not\"==c?delete e[a.path][c][b]:e[a.path][c][b]=\"s\"==c||\"not\"==c?v(d):d;_._isEm(e[a.path][c])&&delete e[a.path][c];_._isEm(e[a.path])&&delete e[a.path]};a.clearFilter=function(b){a._sFV(\"v\",b);a._sFV(\"not\",b)};S.changeFiltersAfterDelay=function(){w._aADINS(\"changeFilters\",a.changeFilters,700)};a.changeFilters=function(){if(a.stop)a._sVO();else{var b,c;for(c in a.tuix.columns)if(p(a.tuix.columns,\nc)&&a._iSC(c)){if(m(\"v\"+c)||m(\"v\"+c+\"___yes\"))(b=S.readField(\"v\"+c))?a._sFV(\"v\",c,b):a._sFV(\"v\",c,\"\");m(\"remove_filter_\"+c)&&(m(\"remove_filter_\"+c).className=a._fSOC(c)?\"organizer_remove_filter organizer_remove_filter_active\":\"organizer_remove_filter organizer_remove_filter_inactive\")}a._rASP()}};a.changePageSize=function(b){a.stop||(a._chPr(),1*b?a.prefs[a.path].pageSize=1*b:delete a.prefs[a.path].pageSize,a._rASP(),a._sP(!0))};a.hideViewOptions=function(a){q._cB(\"AdminViewModeOptions\");return!1};\na.isShowableColumn=function(b,c){var d=a.tuix.columns[b];return c?a.shownColumns[b]&&a._iSC(b):d&&d.title&&!v(d.server_side_only)&&!u._h(k,a,k,b,k,d)&&!a._cHBF(d)};a.getSortedIdsOfTUIXElements=function(b,c,d){return u._gSIOTE(a.tuix,b,c,d)};a.sortArray=function(a,c){return a[1]===c[1]?0:(a[2]?c[2]:!c[2])?a[1]<c[1]?-1:1:a[2]?-1:1};a.dateDays=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \");a.dateMonths=\"January Feburary March April May June July August September October November December\".split(\" \");\na.checkCondition=function(b){var c,d=a.pi.returnSelectedItems();for(c in d)if(p(d,c)&&(!a.tuix.items[c]||!b(c,a.tuix.items[c])))return!1;return!0};a.columnEqual=function(b,c){return a._cC(function(d){return a._cRV(d,b)==c})};a.columnNotEqual=function(b,c){return a._cC(function(d){return a._cRV(d,b)!=c})};a.columnRawValue=function(b,c){return a.tuix&&a.tuix.columns&&r(a.tuix.columns[c])&&r(a.tuix.items[b])?a.tuix.items[b][c]:\"\"};a.columnValue=function(b,c,d){if(!a.tuix)return\"\";var e=a.tuix.columns&&\na.tuix.columns[c]||{},f=a.tuix.items[b][c],f=!1!==f&&r(f)?\"\"+f:\"\",g=e.item_link,h=!0,s=!1;if(g){var k=!1;switch(g){case \"content_item\":case \"content_item_or_url\":var m=a._iL(b),p=a._iP(b);if(!(f&&a.contentItems[m]&&a.contentItems[m][p]&&(k=a.contentItems[m][p].items)&&(k=k[f])))if(\"content_item_or_url\"==g&&f&&\"_\"!=f.substr(0,1)&&\"_\"!=f.substr(1,2))k={name:f,frontend_link:f},h=!1;else return\"\";break;case \"menu_item\":m=a._iL(b);f&&a.menuItems[m]&&(k=a.menuItems[m].items)&&(k=k[f]);break;default:f&&\na.otherItemLinks[g]&&(k=a.otherItemLinks[g].items)&&(k=k[f])}if(k){if(d)return k.name;d=\"\";if(a.tuix.items[b].cell_css_classes&&a.tuix.items[b].cell_css_classes[c]&&-1!=(\"\"+a.tuix.items[b].cell_css_classes[c]).indexOf(\"ghost\"))if(d=' style=\"cursor: default;\"',\"menu_item\"==g)d+=' title=\"'+t(k.name)+'|\"';else{if(\"content_item\"==g||\"content_item_or_url\"==g)d+=' title=\"'+t(k.name)+'|\"'}else if(h&&!l.zenarioONotFull?(c=\"\",e=a.shallowLinks[g]||g,d=k.navigation_path?k.navigation_path:a.shallowLinks[g]?a.shallowLinks[g]+\n\"//\"+f:g+\"//\"+f,a.shallowLinks[g]&&(c=\", name: 'following_item_link', languageId: '\"+t(a._iL(b))+\"'\"),d=' href=\"organizer.php#'+t(d)+'\" onclick=\"zenarioO._dAI();var selectedItems = {};selectedItems[\\''+t(b)+\"'] = true;zenarioO.pi.cmsSetsSelectedItems(selectedItems);zenarioO._sH();zenarioO.go('\"+t(e)+\"', true, {id: '\"+t(f)+\"'\"+c+\"}, undefined, undefined, undefined, undefined, '\"+t(f)+\"');return zenario._st(event);\\\"\"):k.navigation_path?d=' href=\"'+M+\"zenario/admin/organizer.php#/\"+t(k.navigation_path)+\n'\" target=\"_blank\"':(h=!1,k.frontend_link&&(s=!0,d=' href=\"'+t(w._aBP(k.frontend_link))+'\" target=\"_blank\"')),h)if(\"menu_item\"==g)d+=' title=\"'+t(k.name)+\"|\"+y.clkToViewLinkedMenuNode+'\"';else{if(\"content_item\"==g||\"content_item_or_url\"==g)d+=' title=\"'+t(k.name)+\"|\"+y.clkToViewLinkedCItem+'\"'}else s&&(d+=' title=\"'+t(k.name)+\"|\"+y.clkToViewLinkInNewWindow+'\"');switch(g){case \"content_item\":case \"content_item_or_url\":b=k.name;break;case \"menu_item\":b=t(k.name);h=b.r(/.*?\\-\\&gt\\; /g,\"-&gt; \");h==b&&\n(h=b.r(/.*?\\: /g,\"\"));b=h;break;default:b=q._fOIN(a.otherItemLinks[g],f)}return u._mT(\"zenario_organizer_item_link\",{item:k,item_link:g,itemName:b,href:d,panel:a.otherItemLinks[g],value:f})}}if(e.format||e.empty_value)f=q._fSIF(f,e);g=e.length_limit&&f.length>e.length_limit;return d?g?f.substr(0,e.length_limit)+\"...\":f:g?'<span class=\"tooltip\" title=\"'+t(f)+'\">'+t(f.substr(0,e.length_limit))+\"...</span>\":t(f)};a.rowCssClass=function(b){b=a.tuix.items[b]||{};return b.row_class||b.row_css_class||\"\"};\na.columnCssClass=function(b,c){var d=\"\",e=a.tuix.columns[b],f=r(c)&&a.tuix.items[c];e&&e.css_class&&(d+=\" \"+e.css_class);f&&f.cell_css_classes&&f.cell_css_classes[b]&&(d+=\" \"+f.cell_css_classes[b]);f&&f[b]&&e&&e.values&&e.values[f[b]]&&e.values[f[b]].css_class&&(d+=\" \"+e.values[f[b]].css_class);return d};a.setBackButton=function(){var b,c=\"\",d=a._gBBT(-1,!0),e={buttons:[]};if(d&&0!=d.length){m(\"organizer_branding_title\").style.display=\"none\";m(\"organizer_backButton\").style.display=\"block\";for(b in d)p(d,\nb)&&(e.buttons[b]={orderAsc:b+1,orderDesc:d.length-b,title:d[b]});c=u._mT(\"zenario_organizer_back_buttons\",e)}else m(\"organizer_branding_title\").style.display=\"block\",m(\"organizer_backButton\").style.display=\"none\";m(\"organizer_backButton\").innerHTML=c;q._to(\"#organizer_backButton *[title]\");q._sTITL(\".organizer_lastBackButton a\",k,q.tooltipLengthThresholds.organizerBackButton)};a.getBackButtonTitle=function(b,c){return a._gFLP(a.branches.length-1,a.path,\"title\",!1,b,c)};a.getSelectedItemFromLastPanel=\nfunction(b){var c,d=!1;(panelInstance=a._gFLP(a.branches.length-1,a.path,\"panel_instances\",!0))&&(panelInstance=panelInstance[b])&&(d=panelInstance.returnSelectedItems());if(d)for(c in d)if(p(d,c))return c;return!1};a.getFromLastPanel=function(b,c,d,e,f,g,h,k){if(!a.tuix||!a.path)return!1;var m=!1,p,q=!1,u=!1;r(f)||(f=1);r(h)||(h={});r(h.path)||(h.path=c);r(h.pops)||(h.pops=0);if(0===b&&-1==c.indexOf(\"/\")||\"no_return\"!=d&&(v(a._gFLP(b,c,\"no_return\"))||0===b&&!a.tuix.back_link||2>b&&a.currentTopLevelPathHasRefiner))return!1;\nif(0<b&&c==a.branches[b].to){if(l.zenarioONotFull&&l.zenarioOMinPath&&c==l.zenarioOMinPath&&(l.zenarioODisallowRefinersLoopingOnMinPath||a.branches[b].from!=c))return!1;if(a.branches[b-1].bypasses[a.branches[b].from]&&a.knownBranches[a.branches[b].from]&&a.knownBranches[a.branches[b].from][a.branches[b].to]&&a.knownBranches[a.branches[b].from][a.branches[b].to][a.branches[b].refiners[a.branches[b].to]?a.branches[b].refiners[a.branches[b].to].name:1]&&\"item\"==a.knownBranches[a.branches[b].from][a.branches[b].to][a.branches[b].refiners[a.branches[b].to]?\na.branches[b].refiners[a.branches[b].to].name:1].substr(-4))return a._gFLP(b-1,a.branches[b].from,d,e,f,g,h,!0);q=!0;c=e?a.branches[b-1][d]:a.branches[b][d]}else if(a.branches[b][d])q=!0,c=a.branches[b][d];else if(p=k||c!=a.path?a._fPOM(c,\"back_link\"):a.tuix.back_link){if(l.zenarioONotFull&&l.zenarioOMinPath&&c==l.zenarioOMinPath&&(l.zenarioODisallowRefinersLoopingOnMinPath||p!=c))return!1;u=!0;c=a._fPOM(p,d)}else return!1;q?(h.path=a.branches[b].from,++h.pops):u&&p&&(h.path=p);if(0!=--f)if(q)m=a._gFLP(b-\n1,a.branches[b].from,d,e,f,g,h,!0);else if(u&&p)m=a._gFLP(b,p,d,e,f,g,h,!0);else return!1;return g?(m||(m=[]),m[m.length]=c,m):!1!==m?m:c};a.setNavigation=function(b){var c,d,e,f,g=-1,h,l,r,t=-1,w,z={items:[],selected1st:0};r=a.path;var y=a._gH(!0),x;a.sortedTopLevelItems||(a.sortedTopLevelItems=a._gSIOTE(a.map));a.currentTopLevelPathHasRefiner=!1;1<a.branches.length&&(r=a.branches[1].from);for(c in a.map)if(p(a.map,c)&&\"top_right_buttons\"!=c&&\"object\"==typeof a.map[c]&&a.map[c].nav)for(d in a.map[c].nav)p(a.map[c].nav,\nd)&&\"object\"==typeof a.map[c].nav[d]&&(x=c+\"/nav/\"+d+\"/panel\",a.map[c].nav[d].link&&a.map[c].nav[d].link.path&&(x=a.map[c].nav[d].link.path),r=(x+\"\").length,t<r&&(w=(y+\"/\").substr(0,r))&&(w==x||w==x+\"/\")&&(t=r,h=c,l=d));for(e in a.sortedTopLevelItems)if(p(a.sortedTopLevelItems,e)){c=a.sortedTopLevelItems[e];w=!0;y=-1;x=a.map[c];var B,E,A,I;if(\"top_right_buttons\"!=c&&!u._h(k,a,k,c,k,k,k,x)&&(E=z.items[++g]={id:c,items:[],selected:c===h,css_class:x.css_class,label:x.label||x.name,tooltip:x.tooltip,\nhref:x.href,onclick:x.onclick,youtube_video_id:x.youtube_video_id,youtube_thumbnail_title:x.youtube_thumbnail_title},a._sDA(x,E),c===h&&(z.selected1st=g),x.nav&&_._isOb(x.nav)))for(f in t=a._gSIOTE(x.nav),t)p(t,f)&&(d=t[f],B=x.nav[d],r=B.link&&B.link.path?B.link.path:c+\"/nav/\"+d+\"/panel\",c===h&&d===l&&(a.currentTopLevelPath=r,r.m(/\\/\\//)&&(a.currentTopLevelPathHasRefiner=!0)),u._h(k,a,k,d,B,k,k,x)||(A=B.css_class,!A&&b&&(I=a._fPOM(r,\"item\"))&&(A=I.css_class),A=E.items[++y]={id:d,selected:c===h&&d===\nl,href:B.href,onclick:B.onclick,css_class:A,label:B.label||B.name,tooltip:B.tooltip,item_css_class:A},B.href||B.onclick||(A.href=\"#\"+r,A.onclick=\"zenarioO._tLC('\"+W(c)+\"', '\"+W(d)+\"', \"+v(0==y)+\"); return false;\"),w&&(w=!1,E.href||E.onclick||(E.href=A.href,E.onclick=A.onclick))))}if(b)return z;m(\"organizer_leftColumn\").innerHTML=u._mT(\"zenario_organizer_nav\",z);q._to(\"#organizer_leftColumn #organizer_topLevelNav a[title]\",{position:{my:\"left+2 center\",at:\"right center\",collision:\"flipfit\"},show:!1,\nhide:!1});q._to(\"#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav a[title]\",{position:{my:\"left+2 center\",at:\"right center\",collision:\"flipfit\"}});var M=$(\"#organizer_topLevelNav\");$(\"#organizer_topLevelNavScrollUp\").mousehold(function(){a._sTLN(M,!0)},100);$(\"#organizer_topLevelNavScrollDown\").mousehold(function(){a._sTLN(M,!1)},100);a._sTLNSS(M)};a.scrollTopLevelNav=function(b,c){b.scrollTop(b.scrollTop()+(c?-50:50));a._sTLNSS(b)};a.setTopLevelNavScrollStatus=function(a){a||(a=$(\"#organizer_topLevelNav\"));\nvar c=$(\"#organizer_topLevelNavInner\").outerHeight()-a.innerHeight();0>=c?$(\"#organizer_topLevelNavScroll\").hide():($(\"#organizer_topLevelNavScroll\").show(),a=a.scrollTop(),0<a?$(\"#organizer_topLevelNavScrollUp\").addClass(\"organizer_scrollActive\"):$(\"#organizer_topLevelNavScrollUp\").removeClass(\"organizer_scrollActive\"),a<c?$(\"#organizer_topLevelNavScrollDown\").addClass(\"organizer_scrollActive\"):$(\"#organizer_topLevelNavScrollDown\").removeClass(\"organizer_scrollActive\"))};a.setDataAttributes=function(a,\nc){for(var d in a)p(a,d)&&\"data\"==d.substr(0,4)&&(c[d]=a[d])};a.setTopRightButtons=function(){delete a.map.top_right_buttons.ord;var b=a._gSIOTE(a.map.top_right_buttons),c=-1,d,e=[],f,g,h;for(h in b)p(b,h)&&(g=b[h],d=a.map.top_right_buttons[g],a._cBH(d)||(f=a._cD(d,g),e[++c]=a._sBA(\"zenarioO.topRightButtonClick\",d,f,g,k,k,\"\")));u._sBK(e);$(\"#organizer_top_right_buttons\").html(u._mT(\"zenario_organizer_top_right_button\",e));q._to(\"#organizer_top_right_buttons a[title]\",{position:{my:\"right center\",\nat:\"left center\",collision:\"flipfit\"},show:!1,hide:!1})};a.setButtons=function(){var b,c=a.tuix,d=0,e=a.pi.returnSelectedItems(),f;for(b in e)p(e,b)&&++d;1===d&&c.items&&c.items[b]&&(f=c.items[b].selected_label)&&_._iS(f)?($(\"#organizer_itemSelected\").text(f.r(/\\w/,function(a){return a.toLocaleUpperCase()})+\" \"+y.selected),$(\"#organizer_selected\").show()):$(\"#organizer_selected\").hide();a.itemsSelected=d;a.pi.showButtons($(\"#organizer_buttons\"));a._sCB();a._siBu()};a.sizeButtons=function(){var a=\nm(\"organizer_buttons\"),c=m(\"organizer_collectionToolbar\"),d=m(\"organizer_itemToolbar\"),e=m(\"organizer_collectionToolbarWrap\"),f=m(\"organizer_itemToolbarWrap\"),a=a&&$(a),c=c&&$(c),d=d&&$(d),e=e&&$(e),f=f&&$(f),g,h;a&&c&&(e.show(),a=a.width()-25,e.width(3E3),c.width(\"\"),g=c.width(),d&&d.is(\":visible\")?(f.width(3E3),d.width(\"\"),h=d.width(),g+h>a?h>a?(f.width(a),d.width(3E3),e.hide()):(f.width(\"\"),d.width(\"\"),e.width(a-h),c.width(3E3)):(f.width(\"\"),d.width(\"\"),e.width(\"\"),c.width(\"\"))):g>a?(e.width(a),\nc.width(3E3)):(e.width(\"\"),c.width(\"\")))};a.getQuickFilters=function(){var b=-1,c,d=[],e,f,g;for(g in a.sortedQuickFilterButtons)p(a.sortedQuickFilterButtons,g)&&(f=a.sortedQuickFilterButtons[g],c=a.tuix.quick_filter_buttons[f],a._cBH(c)||(e=a._cD(c,f),d[++b]=a._sBA(\"zenarioO.toggleQuickFilter\",c,e,f,k,k,\"\"),d[b].enabled=a._qFE(f)));u._sBK(d);return d};a.getCollectionButtons=function(b){var c=-1,d,e=[],f,g,h;for(h in a.sortedCollectionButtons)p(a.sortedCollectionButtons,h)&&(g=a.sortedCollectionButtons[h],\nd=a.tuix.collection_buttons[g],a._cBH(d)||!a.searchMatches&&(v(d.do_csv_export)||v(d.hide_when_no_search_results))||(f=a._cD(d,g),e[++c]=a._sBA(\"zenarioO.collectionButtonClick\",d,f,g)));u._sBK(e);b.collectionButtons=e};a.buttonsPrevHTML=\"\";a.fadeOutLastButtons=function(b,c,d){if(m(\"organizer_rightColumnOptions\")){var e=$(\"#organizer_collectionToolbar\"),f=$(\"#organizer_collectionToolbarButtons\"),g=$(\"#organizer_itemToolbar\"),h=$(\"#organizer_itemToolbarButtons\"),l=$(\"#organizer_previousToolbar\"),k=\n$(\"#organizer_previousToolbarButtons\");e.is(\":visible\")&&e.clearQueue().hide();g.is(\":visible\")&&g.clearQueue().hide();c?h.html(b):f.html(b);l.clearQueue().hide();d&&a.buttonsPrevHTML!=b?(a.buttonsPrevHTML&&(k.html(a.buttonsPrevHTML),l.show().fadeOut({duration:250,easing:\"zenarioLinearWithDelayAfterwards\",complete:function(){k.html(\"\")}})),c?g.css(\"animation\",\"none\").fadeIn({duration:250,easing:\"zenarioLinearWithDelayAfterwards\",complete:function(){g.css(\"animation\",\"\");g.addClass(\"yellow_flash\")}}):\ne.css(\"animation\",\"none\").fadeIn({duration:250,easing:\"zenarioLinearWithDelay\",complete:function(){e.css(\"animation\",\"\");e.addClass(\"white_flash\")}})):c?g.show():e.show();a.buttonsPrevHTML=b}};a.showCollectionButtons=function(b,c){a._fOLB(b,!1,c)};a.hideCollectionButtons=function(b){a._fOLB(\"\",!1,b)};a.showItemButtons=function(b,c){a._fOLB(b,!0,c)};a.hideItemButtons=function(b){a._fOLB(\"\",!0,b)};a.getItemButtons=function(b){var c,d=-1,e,f=[],g,h,l=a.pi.returnSelectedItems(),m=(c=a._gKI(!0))&&a.tuix.items&&\na.tuix.items[c],q=a.itemsSelected,r=a.tuix.item&&a.tuix.item.css_class;if(0<q)for(h in 1==q&&(r=m.css_class||r),a.sortedItemButtons)if(p(a.sortedItemButtons,h)){c=a.sortedItemButtons[h];e=a.tuix.item_buttons[c];var t=g=1;v(e.multiple_select)&&(g=e.multiple_select_max_items,v(e.multiple_select_only)&&(t=2),e.multiple_select_min_items&&(t=Math.max(t,e.multiple_select_min_items)));q<t||g&&q>g||a._cBH(e,l)||!a._cIBH(e,l)||(g=a._cD(e,c,l),f[++d]=a._sBA(\"zenarioO.itemButtonClick\",e,g,c,k,m),f[d].label=\na._aMFTL(e.label||e.name,!1,!0,e.multiple_select_label),f[d].tooltip=g&&e.disabled_tooltip?a._aMFTL(e.disabled_tooltip,!1,!0):a._aMFTL(e.tooltip,!1,!0,e.multiple_select_tooltip))}u._sBK(f);b.itemButtons=f;b.itemCSSClass=r;b.itemsSelected=q};a.setButtonAction=function(b,c,d,e,f,g,h){r(h)||(h=\"label_without_icon\");h={id:e,tuix:c,css_class:c.css_class||h,label:c.label||c.name,disabled:d};d?h.onclick=\"return false;\":c.navigation_path?h.href=g&&g.navigation_path?\"#/\"+g.navigation_path:\"#/\"+c.navigation_path:\nc.frontend_link?(h.href=g&&g.frontend_link?a._pRL(g.frontend_link):a._pRL(c.frontend_link),h.new_window=!!c.new_window):c.onclick?(h.onclick=c.onclick,f&&g&&(h.onclick=\"zenarioO._sI('\"+W(f)+\"'); zenario._st(event); \"+h.onclick)):h.onclick=b+\"('\"+W(e)+(r(f)?\"', '\"+W(f):\"\")+\"'); return false;\";h.tooltip=d&&c.disabled_tooltip?c.disabled_tooltip:c.tooltip;return h};a.checkDisabled=function(b,c,d){var e,f=k,g=k,h=a.tuix;if(v(b.disabled))return!0;if(d)for(e in d)if(p(d,e))if(r(g)){f=k;break}else g=e,f=\nh.items&&h.items[e];if(r(b.disabled_if)&&u._e(b.disabled_if,a,k,f,c,b))return!0;if(d&&r(b.disabled_if_for_any_selected_items))for(e in d)if(p(d,e)&&u._e(b.disabled_if_for_any_selected_items,a,k,h.items[e],e,b))return!0;if(d&&r(b.disabled_if_for_all_selected_items)){for(e in d)if(p(d,e)&&!u._e(b.disabled_if_for_all_selected_items,a,k,h.items[e],e,b))return!1;return!0}return!1};a.checkHiddenByFilter=function(b){var c=a.refiner,d=c&&c.name,e=b.hide_on_refiner;if(b.only_show_on_refiner){if(!c)return!0;\nif(\"object\"==typeof b.only_show_on_refiner){if(!v(b.only_show_on_refiner[d]))return!0}else if(d!=b.only_show_on_refiner)return!0}if(c&&e){if(1===1*e)return!0;if(\"object\"==typeof e){if(v(e[d]))return!0}else if(d==e)return!0}return a.filteredView&&v(b.hide_on_filter)?!0:!1};a.checkButtonHidden=function(b,c){var d,e=k,f=k;if(c)for(d in c)if(p(c,d))if(r(f)){f=e=k;break}else f=d,e=a.tuix.items&&a.tuix.items[d];return u._h(k,a,e,f,b)||l.zenarioONotFull&&b.frontend_link||l.zenarioOQuickMode&&v(b.hide_in_quick_mode)||\nl.zenarioOSelectMode&&v(b.hide_in_select_mode)||!(l.zenarioOQuickMode||!v(b.quick_mode_only)||l.zenarioOSelectMode&&v(b.select_mode_only))||!(l.zenarioOSelectMode||!v(b.select_mode_only)||l.zenarioOQuickMode&&v(b.quick_mode_only))||a._cHBF(b)||a._pNA(b.link)?!0:!1};var I={traits:{condition:function(a,c,d){return d.traits&&v(d.traits[c])}},without_traits:{condition:function(a,c,d){return!d.traits||!v(d.traits[c])}},with_columns_set:{condition:function(a,c,d){return v(u._pr(d,c))}},without_columns_set:{condition:function(a,\nc,d){return!v(u._pr(d,c))}}};I.one_with_traits=w._cl(I.traits,{one:!0});I.one_without_traits=w._cl(I.without_traits,{one:!0});I.one_with_columns_set=w._cl(I.with_columns_set,{one:!0});I.one_without_columns_set=w._cl(I.without_columns_set,{one:!0});a.checkItemButtonHidden=function(b,c){var d,e,f,g,h,l=!1,m,q=a.tuix;if(!b)return!0;if(r(b.visible_if_for_all_selected_items))for(d in c)if(p(c,d)&&!u._e(b.visible_if_for_all_selected_items,a,k,q.items[d],d,b))return!1;if(r(b.visible_if_for_any_selected_items)){for(d in c)if(p(c,\nd)&&u._e(b.visible_if_for_any_selected_items,a,k,q.items[d],d,b)){l=!0;break}if(!l)return!1}l=!0;for(e in I)if(p(I,e)){h=I[e];if(b[e])for(d in f=u._tTA(b[e]),l=!h.one,c)if(p(c,d)){m=!0;for(g in f)if(!h.condition(d,f[g],q.items[d])){m=!1;break}if(h.one){if(m){l=!0;break}}else if(!m){l=!1;break}}if(!l)break}return l};a.checkItemPickable=function(b){var c={};c[b]=!0;return a._cIBH(l.zenarioOSelectObject,c)&&!a._cD(l.zenarioOSelectObject,k,c)};a.getInlineButtons=function(b){var c=-1,d=[],e,f,g;for(g in a.sortedInlineButtons)p(a.sortedInlineButtons,\ng)&&(f=a.sortedInlineButtons[g],button=a.tuix.inline_buttons[f],e={},e[b]=!0,!a._cBH(button,e)&&a._cIBH(button,e)&&(e=a._cD(button,f,e),d[++c]=a._sBA(\"zenarioO.inlineButtonClick\",button,e,f,b,a.tuix.items[b]),d[c].tooltip&&(d[c].tooltip=a._aMF(d[c].tooltip,!1,b)),d[c].label&&(d[c].label=a._aMF(d[c].label,!1,b))));return d.length?d:k};a.chooseButtonActive=function(){return l.zenarioOSelectMode&&(a.path==l.zenarioOTargetPath||!1===l.zenarioOTargetPath)};a.setChooseButton=function(){if(l.zenarioOSelectMode){var b=\nl.zenarioOChoosePhrase||y.choose,c=!0,d=\"submit_disabled\",e=a.pi.returnSelectedItems();a._cBA()&&a._cIBH(l.zenarioOSelectObject,e)&&!a._cD(l.zenarioOSelectObject,k,e)&&(0<a.itemsSelected||l.zenarioOAllowNoSelection)&&(1>=a.itemsSelected||l.zenarioOMultipleSelect)?(c=!1,d=l.zenarioOChooseButtonActiveClass?\"submit_selected\":\"submit\",0==a.itemsSelected&&l.zenarioOAllowNoSelection&&l.zenarioONoSelectionChoosePhrase?b=l.zenarioONoSelectionChoosePhrase:1<a.itemsSelected&&l.zenarioOChooseMultiplePhrase&&\n(b=l.zenarioOChooseMultiplePhrase)):l.zenarioOAllowNoSelection&&l.zenarioONoSelectionChoosePhrase&&(b=l.zenarioONoSelectionChoosePhrase);m(\"organizer_choose_button\").disabled=c;m(\"organizer_choose_button\").className=d;m(\"organizer_choose_button\").value=t(b)}};a.getCurrentPage=function(){return a.page};a.getPageCount=function(){a.thisPageSize&&r(a.searchMatches)?a.pageCount=Math.ceil(a.searchMatches/a.thisPageSize):a.pageCount=1;return a.pageCount};a.setPanelTitle=function(){if(a.pi&&a.tuix&&m(\"organizer_rightColumnTitle\")){m(\"organizer_rightColumnTitle\").style.display=\n\"\";var b=a.pi.returnPanelTitle();a.tuix.item&&a.tuix.item.css_class?m(\"organizer_panelTitle\").innerHTML='<div class=\"listicon organizer_item_image '+a.tuix.item.css_class+'\"></div><div>'+t(b)+\"</div>\":m(\"organizer_panelTitle\").innerHTML=t(b);Math.max(0,($(\"#organizer_rightColumnTitle\").width()||0)-75-($(\"#organizer_collectionToolbar\").width()||90));q._sTITL(\"#organizer_panelTitle\",b,q.tooltipLengthThresholds.organizerPanelTitle);q.isFullOrganizerWindow&&(V.title=a.pageTitle+y.colon+b)}};a.setTrash=\nfunction(){!l.zenarioOSelectMode&&a.tuix&&a.tuix.trash?(m(\"organizer_trash_button\").style.display=\"\",m(\"organizer_trash_button\").className=v(a.tuix.trash.empty)?a.tuix.trash.empty_css_class||\"trash_button_empty\":a.tuix.trash.full_css_class||\"trash_button_full\",q._to(\"#organizer_trash_button a\",{position:{my:\"center bottom-12\",at:\"center top\",collision:\"flipfit\",using:w.tooltipsUsing},items:\"*\",content:v(a.tuix.trash.empty)?a.tuix.trash.empty_tooltip||y.viewTrash:a.tuix.trash.full_tooltip||y.viewTrash})):\nm(\"organizer_trash_button\").style.display=\"none\"};a.getItemCSSClass=function(b){return a.tuix.items[b].css_class?a.tuix.items[b].css_class:a.tuix.item?a.tuix.item.css_class:k};a.setOrganizerIcons=function(){var a,c=u.div,d=[],e=[],f;u._sDT()&&e.push([c(\"id\",\"organizer_debug_button\",\"class\",\"zenario_debug\",\"onmouseover\",\"zenarioO._iB(this);\",\"onclick\",\"zenarioO._cIB(); zenarioA._d('zenarioO');\",c()),99]);if(q.isFullOrganizerWindow&&!q.openedInIframe){e.push([u._mT(\"zenario_organizer_top_right_icons\",\n{}),1]);c=w._sS(\"eventSetOrganizerIcons\");for(a in c)p(c,a)&&(f=c[a],f[\"\\u2197\"]&&(e=e.concat(f[\"\\u2197\"])),f[\"\\u2199\"]&&(d=d.concat(f[\"\\u2199\"])));d.sort(u.sortArray);e.sort(u.sortArray)}for(a in d)p(d,a)&&(d[a]=d[a][0]);for(a in e)p(e,a)&&(e[a]=e[a][0]);$(\"#organizer_lowerLeftColumn\").html(d.join(\"\\n\"));$(\"#organizer_topRightIcons\").html(e.join(\"\\n\"))};a.closeSelectMode=function(){a._cIB();q.isFullOrganizerWindow?(E.zenarioA._cB(\"AdminOrganizer\",!0),a.go(a.defaultPathInIframePreload),q._sAL()):\n(a.go(a.defaultPathInIframePreload),q._cB(\"og\"));return a.firstLoaded=!1};a.choose=function(){if(a.lastSuccessfulGoNum==a.goNum&&E&&l.zenarioOSelectMode&&(a.path==l.zenarioOTargetPath||!1===l.zenarioOTargetPath)&&(0<a.itemsSelected||l.zenarioOAllowNoSelection)&&(1>=a.itemsSelected||l.zenarioOMultipleSelect)){a._stRe();var b=a._gK(!0),c=a.path,d=w._cl(a.tuix),e;e=a.pi.returnSelectedItems();var f=!1;b._items={};for(var g in e)if(p(e,g)&&(b._items[g]=!0,!l.zenarioOMultipleSelect))break;!l.zenarioOMultipleSelect&&\nb.id?(e=d.items[b.id],e.__label_tag__=a.defaultSortColumn):e={};a._cSM();_._isFu(l.zenarioOCallbackObject)?f=l.zenarioOCallbackObject:_._isFu(l.zenarioOCallbackFunction)&&(f=l.zenarioOCallbackFunction);if(f)l.zenarioOMultipleSelect?f(c,b,k,d):f(c,b,e,d);else if(l.zenarioOMultipleSelect)E[l.zenarioOCallbackObject][l.zenarioOCallbackFunction](c,b,k,d);else E[l.zenarioOCallbackObject][l.zenarioOCallbackFunction](c,b,e,d)}};a.infoBox=function(a){var c=u._mT(\"zenario_organizer_debug_info\",{});q._oB(c,\n\"zenario_fbDebugInfoBox\",\"DebugInfoBox\",a,600,-286,28,!1,!1,k,k,k,k,!1,!1)};a.closeInfoBox=function(){q._cB(\"DebugInfoBox\")};a.yourWorkInProgressLastUpdated=0;a.updateYourWorkInProgress=function(){var b=(new Date).getTime(),c;a.yourWorkInProgressLastUpdated-b<-a.yourWorkInProgressLastUpdateFrequency&&(c=$(\"#zenario_ywip_dropdown\"))&&(a.yourWorkInProgressLastUpdated=b,c.removeClass(\"zenario_ywip_loaded\").addClass(\"zenario_ywip_loading\"),b=M+\"zenario/admin/organizer.ajax.php?path=zenario__content/panels/content&_sort_col=last_modified_datetime&_sort_desc=1&_start=0&_limit=\"+\na.yourWorkInProgressItemCount+\"&refinerId=&refinerName=work_in_progress&refiner__work_in_progress=&_get_item_data=1\",w._a(b,!1,!0,!0).after(function(a){a=u._mT(\"zenario_ywip\",a);c.removeClass(\"zenario_ywip_loading\").addClass(\"zenario_ywip_loaded\").html(a)}))};$(V).ready(function(){setTimeout(a.updateYourWorkInProgress,100)});a.sizing=!1;a.lastSize=!1;a.size=function(b){var c=46,d=57,e=30,c=35,f=55,g=m(\"zenario_fbog\"),h=$(g),k,p;a.sizing&&clearTimeout(a.sizing);if(m(\"organizer__box_wrap\")){q.isFullOrganizerWindow?\n(k=Math.floor($(l).width()),p=Math.floor($(l).height())):(k=Math.floor(h.width()),p=Math.floor(h.height()));if(k&&p&&(k<q.orgMinWidth&&(k=q.orgMinWidth),400>p&&(p=400),b||a.lastSize!=k+\"x\"+p)){a.showLeftColumn=a.pi?a.pi.returnShowLeftColumn():!l.zenarioONotFull;b=m(\"organizer_rightColumnContent\");var r=m(\"organizer_lowerLeftColumn\"),t=m(\"organizer_lowerMiddleColumn\"),u=m(\"organizer_lowerRightColumn\"),v=a._geHe(),x=$(b),z=$(t),y=$(\"#organizer_buttons\"),A=$(\"#organizer_bottomWrap\");v.is(\":visible\")||\n(f=0);y.is(\":visible\")||(e=0);A.is(\":visible\")||(d=0);g&&(g.className=q._gSBC(l,a.pi&&a.pi.panelType));q.isFullOrganizerWindow||h.height(p);m(\"organizer_rightColumn\").style.height=m(\"organizer_preloader_circle\").style.height=1*p-c-d+\"px\";m(\"organizer_leftColumn\").style.height=1*p-c-d-2+\"px\";m(\"organizer_Outer\").style.height=1*p-c+\"px\";m(\"organizer_colsortfields\")&&(w._bII(6)?m(\"organizer_colsortfields\").style.height=1*p-c-130+\"px\":m(\"organizer_colsortfields\").style.maxHeight=1*p-c-130+\"px\");c=1*p-\nc-d-40-e-2-a.columnPadding+0-f-13;b&&(b.style.height=c+\"px\");a.showLeftColumn?(c=204,m(\"organizer_leftColumn\").style.display=m(\"organizer_leftColumnOuter\").style.display=\"\"):(c=0,m(\"organizer_leftColumn\").style.display=m(\"organizer_leftColumnOuter\").style.display=\"none\");m(\"organizer__box_top\").style.width=m(\"organizer__box_wrap\").style.width=m(\"organizer__box_center\").style.width=m(\"organizer__box_bottom\").style.width=k-0+\"px\";m(\"organizer_Outer\").style.width=k-22+\"px\";m(\"organizer_wrapInner_bm\").style.width=\nk-32+\"px\";m(\"organizer_wrapOuter_tm\").style.width=k-0+\"px\";m(\"organizer_rightColumn\").style.width=m(\"organizer_preloader_circle\").style.width=k-30-c+\"px\";m(\"organizer_rightColumnTitle\")&&(m(\"organizer_rightColumnTitle\").style.width=k-30-c-2+\"px\");b&&(b.style.width=k-30-c-2+\"px\");l.zenarioOSelectMode?m(\"organizer_choose_button\").style.display=\"inline\":m(\"organizer_choose_button\").style.display=\"none\";825>=k?(r.style.width=\"40%\",t.style.width=\"49%\",u.style.width=\"10%\"):965>=k?(r.style.width=\"35%\",t.style.width=\n\"49%\",u.style.width=\"15%\"):1155>=k?(r.style.width=\"30%\",t.style.width=\"49%\",u.style.width=\"20%\"):1155<=k&&(r.style.width=\"25%\",t.style.width=\"49%\",u.style.width=\"25%\");a._sPT();a.pi&&a.pi.sizePanel(v,x,z,y);a._siBu();a.lastSize=k+\"x\"+p;a._sTLNSS()}if(w._bII()&&m(\"organizer_rightColumnContent\"))if(w._bII(8)){if(k=m(\"organizer_Outer\"))k.onselectstart=function(){return!1}}else{if(k=m(\"organizer_leftColumnOuter\"))k.onselectstart=function(){return!1};if(k=m(\"organizer_itemCountWrap\"))k.onselectstart=function(){return!1};\nif(k=m(\"organizer_rightColumn\"))k.onselectstart=function(){return!(1<a.itemsSelected)}}a.sizing=setTimeout(a.size,500)}};w._sN(a);S.init(\"zenarioVO\",\"zenario_filters\");w._sN(S);a._reBr()});\n", "<?php\n/*\n * Copyright (c) 2020, Tribal Limited\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Zenario, Tribal Limited nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL TRIBAL LTD BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nif (!defined('NOT_ACCESSED_DIRECTLY')) exit('This file may not be directly accessed');\n\n\n\n\n\nclass zenario_forum extends zenario_comments {\n\t\n\tprotected $useCannonicalURLs = true;\n\tprotected $siteDefaultLanguage = false;\n\tprotected $forumNotSetUp = false;\n\tprotected $allow_uploads = false;\n\tstatic $forum_post_upload_dbkey = 'form_post_upload';\n\t\n\tpublic function fillOrganizerPanel($path, &$panel, $refinerName, $refinerId, $mode) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\tpublic function handleOrganizerPanelAJAX($path, $ids, $ids2, $refinerName, $refinerId) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\t\n\tpublic function fillAdminSlotControls(&$controls) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tpublic function handleAJAX() {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tpublic function fillAdminBox($path, $settingGroup, &$box, &$fields, &$values) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tpublic function formatAdminBox($path, $settingGroup, &$box, &$fields, &$values, $changes) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tpublic function validateAdminBox($path, $settingGroup, &$box, &$fields, &$values, $changes, $saving) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tpublic function saveAdminBox($path, $settingGroup, &$box, &$fields, &$values, $changes) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\t\n\t\n\t//Check the forum table for the current page, using Translations if needed to check for language equivalent\n\tprotected function checkPageType($field) {\n\t\t\n\t\t$cID = $cType = false;\n\t\tif ($forumId = ze\\row::get(ZENARIO_FORUM_PREFIX. \"forums\", 'id', [$field. '_content_id' => $this->cID, $field. '_content_type' => $this->cType])) {\n\t\t\treturn $forumId;\n\t\t\n\t\t} elseif (ze\\content::langEquivalentItem($cID, $cType, ze::$defaultLang) &&\n\t\t  ($forumId = ze\\row::get(ZENARIO_FORUM_PREFIX. \"forums\", 'id', [$field. '_content_id' => $this->cID, $field. '_content_type' => $this->cType]))) {\n\t\t\treturn $forumId;\n\t\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t\n\t\n\t\n\tpublic function init() {\n\t\tif($this->setting('allow_uploads')) {\n\t\t\t$this->allow_uploads = true;\n\t\t\t$this->form_encode_type = 'multipart/form-data';\n\t\t\t$this->sections['Show_File_Uploads'] = true;\n\t\t}\n\t\t\n\t\tif (!$this->setting('show_user_online_status')) {\n\t\t\t$this->allowCaching(\n\t\t\t\t$atAll = true, $ifUserLoggedIn = false, $ifGetSet = true, $ifPostSet = false, $ifSessionSet = true, $ifCookieSet = true);\n\t\t\t$this->clearCacheBy(\n\t\t\t\t$clearByContent = false, $clearByMenu = false, $clearByUser = true, $clearByFile = true, $clearByModuleData = true);\n\t\t}\n\t\t\n\t\tif (ze::in(ze\\content::isSpecialPage($this->cID, $this->cType), 'zenario_no_access', 'zenario_not_found', 'zenario_logout')) {\n\t\t\treturn $this->show = false;\n\t\t}\n\t\t\n\t\t$this->page = (int) ($_REQUEST['comm_page'] ?? 1) ?: 1;\n\t\t\n\t\t//Check to see if the current content item has a forum\n\t\tif ($this->forumId = $this->checkPageType('forum')) {\n\t\t\tif (!$this->loadForumInfo()) {\n\t\t\t\treturn $this->show = false;\n\t\t\t\n\t\t\t} elseif (($_REQUEST['comm_request'] ?? false) == 'add_thread' && $this->newThreadPageIsForumPage() && $this->canMakeThread()) {\n\t\t\t\t$this->mode = 'showAddThread';\n\t\t\t\t$this->useCannonicalURLs = false;\n\t\t\t\t$this->allowCaching(false);\n\t\t\t\t$_GET['comm_enter_text'] = 1;\n\t\t\t\n\t\t\t} elseif (($_REQUEST['forum_thread'] ?? false) && $this->threadPageIsForumPage() && $this->loadThreadInfo()) {\n\t\t\t\t$this->mode = 'showPosts';\n\t\t\t\t$this->useCannonicalURLs = false;\n\t\t\t\t$this->allowCaching(false);\n\t\t\t\n\t\t\t} else {\n\t\t\t\t$this->mode = 'showThreads';\n\t\t\t}\n\t\t\t\n\t\t//If not, check to see if the current content item is used for a different forum as a thread page...\n\t\t} elseif ($this->forumId = $this->checkPageType('thread')) {\n\t\t\tif ($this->loadForumInfo()) {\n\t\t\t\tif ($this->loadThreadInfo()) {\n\t\t\t\t\t$this->mode = 'showPosts';\n\t\t\t\t} else {\n\t\t\t\t\tif ($_REQUEST['forum_thread'] ?? false) {\n\t\t\t\t\t\t$this->clearRequest('forum_thread');\n\t\t\t\t\t\tif ($this->loadThreadInfo()) {\n\t\t\t\t\t\t\t$this->mode = 'showPosts';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn $this->show = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn $this->show = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn $this->show = false;\n\t\t\t}\n\t\t\t\n\t\t//...or if the current content item is used for a different forum as a new thread page\n\t\t} elseif ($this->forumId = $this->checkPageType('new_thread')) {\n\t\t\tif ($this->loadForumInfo() &&$this->canMakeThread()) {\n\t\t\t\t$this->mode = 'showAddThread';\n\t\t\t\t$_GET['comm_enter_text'] = 1;\n\t\t\t\n\t\t\t} else {\n\t\t\t\treturn $this->show = false;\n\t\t\t}\n\t\t\n\t\t} else {\n\t\t\t$this->forumNotSetUp = true;\n\t\t\treturn $this->show = false;\n\t\t}\n\t\t\n\t\t\n\t\tif ($this->useCannonicalURLs) {\n\t\t\t$this->registerGetRequest('forum_thread');\n\t\t\t$this->registerGetRequest('comm_request');\n\t\t\t$this->registerGetRequest('comm_page', 1);\n\t\t}\n\t\t\n\t\t\n\t\tif ($this->mode == 'showPosts') {\n\t\t\t\n\t\t\tif ($_SESSION['extranetUserID'] ?? false) {\n\t\t\t\t$this->markThreadCheckUserIsInTable($_SESSION['extranetUserID'] ?? false);\n\t\t\t\t$this->markThreadAsRead($_SESSION['extranetUserID'] ?? false);\n\t\t\t}\n\t\t\t\n\t\t\t$this->loadPagination();\n\t\t\t$this->loadPosts();\n\t\t\t\n\t\t\t$this->threadActionHandler();\n\t\t\t\n\t\t\t$this->threadSelectMode();\n\t\t\t\n\t\t\tif ($this->useCannonicalURLs) {\n\t\t\t\t$this->setPageTitle($this->thread['title']);\n\t\t\t\t$this->setMenuTitle($this->thread['title']);\n\t\t\t}\n\t\t\n\t\t} elseif ($this->mode == 'showAddThread') {\n\t\t\t\n\t\t\tif ($_SESSION['extranetUserID'] ?? false) {\n\t\t\t\t$this->markThreadCheckUserIsInTable($_SESSION['extranetUserID'] ?? false);\n\t\t\t}\n\t\t\t\n\t\t\t$failure = false;\n\t\t\tif (isset($_POST['comm_title']) && empty($_POST['comm_title'])) {\n\t\t\t\t//complain about required fields\n\t\t\t\t$failure = true;\n\t\t\t\t$this->postingErrors[] = ['Error' => $this->phrase('_ERROR_TITLE')];\n\t\t\t}\n\t\t\tif (isset($_POST['comm_message']) && empty($_POST['comm_message'])) {\n\t\t\t\t//complain about required fields\n\t\t\t\t$failure = true;\n\t\t\t\t$this->postingErrors[] = ['Error' => $this->phrase('_ERROR_MESSAGE')];\n\t\t\t}\n\t\t\t\n\t\t\tif (!empty($_POST['comm_title']) && !empty($_POST['comm_message'])) {\n\t\t\t\t$this->addThread($_SESSION['extranetUserID'] ?? false, $_POST['comm_title'], $_POST['comm_message']);\n\t\t\t\t\n\t\t\t\t$this->clearRequest('comm_post');\n\t\t\t\t$this->clearRequest('comm_request');\n\t\t\t\t$this->clearRequest('comm_confirm');\n\t\t\t\t$this->clearRequest('comm_enter_text');\n\t\t\t\t\n\t\t\t\t$this->headerRedirect($this->linkToItem($this->forum['thread_content_id'], $this->forum['thread_content_type'], true, '&forum_thread='. $this->threadId));\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\t//Show the form again and get the User to enter the required fields\n\t\t\t}\n\t\t\t\n\t\t\t$this->showPostScreen($this->phrase('_MESSAGE:'), $this->phrase('_ADD_THREAD'), 'none', $this->phrase('_TITLE:'));\n\t\t\n\t\t} elseif ($this->mode == 'showThreads') {\n\t\t\t\n\t\t\tif ($_SESSION['extranetUserID'] ?? false) {\n\t\t\t\t$this->markThreadCheckUserIsInTable($_SESSION['extranetUserID'] ?? false);\n\t\t\t}\n\t\t\t\n\t\t\t$this->forumActionHandler();\n\t\t\t\n\t\t\t$this->loadPagination();\n\t\t\t$this->loadThreads();\n\t\t\t$this->forumSelectMode();\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\treturn true;\n\t}\n\t\n\tfunction showPostScreenTopFields($titleText) {\n\t\tif ($titleText !== false) {\n\t\t\t$this->sections['Show_Post_Title'] = true;\n\t\t\t\n\t\t\tif (isset($_POST['comm_title'])) {\n\t\t\t\t$this->sections['Post_Message']['Post_Title'] = htmlspecialchars($_POST['comm_title']);\n\t\t\t\n\t\t\t} else {\n\t\t\t\t$this->sections['Post_Message']['Post_Title'] =  htmlspecialchars(ze\\ray::value($this->thread, 'title'));\n\t\t\t}\n\t\t\t\n\t\t\t$this->sections['Post_Message']['Post_Title'] = '<input type=\"text\" id=\"comm_title\" name=\"comm_title\" maxlength=\"255\" value=\"'. $this->sections['Post_Message']['Post_Title']. '\"/>';\n\t\t\t\n\t\t\t\n\t\t\t$this->sections['Post_Message']['Title_Text'] = $titleText;\n\t\t}\n\t}\n\t\n\t\n\t//Add a comment onto the thread\n\tfunction addReply($userId, &$messageText, $firstPost = 0, $name = '', $email = '') {\n\t\treturn require ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\t//Add a new thread\n\tfunction addThread($userId, &$threadTitle, &$messageText) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tfunction calcForumPostCount($forumId, $quickAdd = false, $userId = false, $firstPost = false) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tfunction calcThreadPostCount($threadId, $quickAdd = false, $userId = false) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tfunction calcUserPostCount($userId, $quickAdd = false) {\n\t\t\n\t\t//Update the user's post count\n\t\tif ($quickAdd) {\n\t\t\t$sql = \"\n\t\t\t\tUPDATE \". DB_PREFIX. ZENARIO_COMMENTS_PREFIX. \"users SET\n\t\t\t\t\tpost_count = post_count + 1\n\t\t\t\tWHERE user_id = \". (int) $userId;\n\t\t} else {\n\t\t\t$sql = \"\n\t\t\t\tUPDATE \". DB_PREFIX. ZENARIO_COMMENTS_PREFIX. \"users SET\n\t\t\t\t\tpost_count = (\n\t\t\t\t\t\tSELECT COUNT(*)\n\t\t\t\t\t\tFROM \". DB_PREFIX. ZENARIO_ANONYMOUS_COMMENTS_PREFIX. \"user_comments\n\t\t\t\t\t\tWHERE poster_id = \". (int) $userId. \"\n\t\t\t\t\t) + (\n\t\t\t\t\t\tSELECT COUNT(*)\n\t\t\t\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_posts\n\t\t\t\t\t\tWHERE poster_id = \". (int) $userId. \"\n\t\t\t\t\t)\n\t\t\t\tWHERE user_id = \". (int) $userId;\n\t\t}\n\t\t\n\t\t$result = ze\\sql::update($sql);\n\t}\n\t\n\t\n\tfunction canDeleteThread() {\n\t\treturn $this->modPrivs;\n\t}\n\t\n\t\n\tfunction canEditFirstPost(&$post) {\n\t\tif (empty($post['first_post'])) {\n\t\t\treturn false;\n\t\t} elseif ($this->modPrivs) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn ($_SESSION['extranetUserID'] ?? false)\n\t\t\t\t&& $this->setting('allow_user_edit_own_post')\n\t\t\t\t&& $post['poster_id'] == ($_SESSION['extranetUserID'] ?? false)\n\t\t\t\t&& !$this->locked();\n\t\t}\n\t}\n\t\n\t\n\tfunction canMakeThread() {\n\t\tif (ze::setting('user_use_screen_name')) {\n\t\t\t$confirmed = self::getUserScreenNameConfirmed(ze\\user::id());\n\t\t} else {\n\t\t\t$confirmed = true;\n\t\t}\n\t\treturn $confirmed && !$this->lockedForum() && $this->newThreadPrivs;\n\t}\n\t\n\tfunction canMoveThread() {\n\t\treturn ze\\priv::check('_PRIV_MODERATE_USER_COMMENTS')\n\t\t\t&& ($result = ze\\row::query(ZENARIO_FORUM_PREFIX. 'forums', ['id'], []))\n\t\t\t&& ($row = ze\\sql::fetchAssoc($result))\n\t\t\t&& ($row['id'] != $this->forumId || (\n\t\t\t   ($row = ze\\sql::fetchAssoc($result))\n\t\t\t&& ($row['id'] != $this->forumId)));\n\t}\n\t\n\tfunction canLockThread() {\n\t\treturn $this->modPrivs && !$this->locked() && !$this->lockedForum();\n\t}\n\t\n\tfunction canUnlockThread() {\n\t\treturn $this->modPrivs && $this->locked() && !$this->lockedForum();\n\t}\n\t\n\tfunction canSubsThread() {\n\t\treturn ($_SESSION['extranetUserID'] ?? false) && $this->setting('enable_thread_subs');\n\t}\n\t\n\tfunction canSubsForum() {\n\t\treturn ($_SESSION['extranetUserID'] ?? false) && $this->setting('enable_forum_subs');\n\t}\n\t\n\tfunction couldSubsForum() {\n\t\treturn !($_SESSION['extranetUserID'] ?? false) && $this->setting('enable_forum_subs') && !$this->locked();\n\t}\n\t\n\tfunction hasSubsThread() {\n\t\treturn ze\\row::exists(\n\t\t\tZENARIO_COMMENTS_PREFIX. 'user_subscriptions',\n\t\t\t[\n\t\t\t\t'user_id' => ($_SESSION['extranetUserID'] ?? false),\n\t\t\t\t'forum_id' => $this->forumId,\n\t\t\t\t'thread_id' => $this->threadId]);\n\t}\n\t\n\tfunction hasSubsForum() {\n\t\treturn ze\\row::exists(\n\t\t\tZENARIO_COMMENTS_PREFIX. 'user_subscriptions',\n\t\t\t[\n\t\t\t\t'user_id' => ($_SESSION['extranetUserID'] ?? false),\n\t\t\t\t'forum_id' => $this->forumId,\n\t\t\t\t'thread_id' => 0]);\n\t}\n\t\n\tfunction checkConfirmKey() {\n\t\treturn ($_GET['comm_key'] ?? false) && ($_GET['comm_key'] ?? false) == ($_SESSION['confirm_key'] ?? false);\n\t}\n\t\n\t\n\tfunction runCheckPrivs() {\n\t\t\n\t\tzenario_comments::runCheckPrivs();\n\t\t\n\t\t$this->newThreadPrivs =\n\t\t\t($_SESSION['extranetUserID'] ?? false) && (\n\t\t\t\t\t$this->modPrivs\n\t\t\t\t || !$this->setting('enable_new_thread_restrictions')\n\t\t\t\t || !$this->setting('restrict_new_thread_to_group')\n\t\t\t\t || ze\\user::isInGroup($this->setting('restrict_new_thread_to_group'))\n\t\t\t);\n\t}\n\n\t\n\t\n\tfunction deleteThread() {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tprotected function manageOneUpload($postId, $location, $file_name){\n\t\tif($this->allow_uploads){\n\t\t\tif(!$location || !strlen($location)) return;\n\t\t\tif ($fileId = ze\\file::addToDatabase(self::$forum_post_upload_dbkey, $location, $file_name, false, false, true)) {\n\t\t\t\t$using_ids = ['file_id' => (int)$fileId, 'post_id' => (int)$postId];\n\t\t\t\t$using_values = $using_ids;\n\t\t\t\t$using_values['caption'] = ze\\escape::sql($file_name);\n\t\t\t\tze\\row::set(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', $using_values, $using_ids);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction startswith($haystack, $needle) {\n\t\treturn substr($haystack, 0, strlen($needle)) === $needle;\n\t}\n\n\tfunction split_str_value_to_value($haystack, $needle) {\n\t\t$key_size = strlen($needle);\n\t\tif(substr($haystack, 0, $key_size) === $needle){\n\t\t\treturn substr($haystack, $key_size);\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tprotected function manageUploads($postId){\n\t\tif($this->allow_uploads){\n\t\t\t\n\t\t\tif($postId){\n\t\t\t\tforeach($_POST as $key => $value){\n\t\t\t\t\t$file_id = $this->split_str_value_to_value($key, 'file_caption_');\n\t\t\t\t\tif(is_numeric($file_id) && strlen($value)){\n\t\t\t\t\t\tze\\row::set(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', ['caption' => ze\\escape::sql($value)], \n\t\t\t\t\t\t\t['post_id' => (int)$postId, 'file_id' => (int)$file_id]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t/*\n\t\t\tfor($i=1; $i <= 5; ++$i){\n\t\t\t\t$upload_field =  'post_upload' . $i;\n\t\t\t\tif (!empty($_FILES[$upload_field])){\n\t\t\t\t\t$this->manageOneUpload($postId, $_FILES[$upload_field]['tmp_name'], $_FILES[$upload_field]['name']);\n\t\t\t\t}\n\t\t\t}\n\t\t\t*/\n\t\t\t//multiple files upload\n\t\t\tif(!empty($_FILES['filesToUpload'])){\n\t\t\t\t$filesToUpload = &$_FILES['filesToUpload'];\n\t\t\t\t$files_count = count($filesToUpload['name']);\n\t\t\t\tfor($i=0; $i < $files_count; ++$i){\n\t\t\t\t\t$this->manageOneUpload($postId, $filesToUpload['tmp_name'][$i], $filesToUpload['name'][$i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(!empty($_POST['remove_files'])){\n\t\t\t\t$filesToRemove = &$_POST['remove_files'];\n\t\t\t\t$files_count = count($filesToRemove);\n\t\t\t\tfor($i=0; $i < $files_count; ++$i){\n\t\t\t\t\t$this->deleteOneUpload($postId, $filesToRemove[$i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tprotected function deleteOneUploadFile($file_id){\n\t\tif($this->allow_uploads){\n\t\t\tif(!ze\\row::get(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', 'file_id', ['file_id' => (int)$file_id])){\n\t\t\t\tze\\file::delete($file_id);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprotected function deleteOneUpload($postId, $file_id){\n\t\tif($this->allow_uploads){\n\t\t\tze\\row::delete(ZENARIO_FORUM_PREFIX. 'user_posts_uploads', ['post_id' => (int)$postId, 'file_id' => (int)$file_id]);\n\t\t\t$this->deleteOneUploadFile($file_id);\n\t\t}\n\t}\n\t\n\tprotected function deleteUploads($postId){\n\t\tif($this->allow_uploads){\n\t\t\t\n\t\t\tze\\row::delete(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', ['post_id' => $postId]);\n\t\t\t$file_list = ze\\row::getValues(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', 'file_id', ['post_id' => $postId], false, false,\n\t\t\t\t\tDB_PREFIX.ZENARIO_FORUM_PREFIX);\n\t\t\tif(is_array($file_list)){\n\t\t\t\tforeach($file_list as $file_id){\n\t\t\t\t\t$this->deleteOneUploadFile($file_id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprotected function getExtraPostInfo(&$post, &$mergeFields, &$sections, $to_edit=false){\n\t\t$post_uploads = ze\\row::getAssocs(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', ['file_id','caption'], \n\t\t\t\t['post_id' => $post['id']], false);\n\t\tif(is_array($post_uploads)){\n\t\t\t$mysection = 'Post_Uploads_Links';\n\t\t\tif($to_edit) $mysection .= '_To_Edit';\n\t\t\t\n\t\t\t$upload_links = [];\n\t\t\tforeach($post_uploads as $rec){\n\t\t\t\t$url = '';\n\t\t\t\t$width = $this->setting('image_thumbnail_width');\n\t\t\t\t$height = $this->setting('image_thumbnail_height');\n\t\t\t\t$file_id = $rec['file_id'];\n\t\t\t\t$caption = $rec['caption'];\n\t\t\t\tze\\file::imageLink($width, $height, $url, $file_id, $width, $height);\n\t\t\t\t\n\t\t\t\t$file_link = ze\\file::link($file_id);\n\t\t\t\t\n\t\t\t\t$upload_links[] = ['File_Link' => $file_link, 'File_Thumbnail' => $url, \n\t\t\t\t\t\t'Caption' => htmlspecialchars($caption), 'File_Id' => $file_id,\n\t\t\t\t\t\t'Post_Id' => $post['id'],\n\t\t\t\t\t\t'File_Extension' => strtoupper(pathinfo($file_link, PATHINFO_EXTENSION))\n\t\t\t\t];\n\t\t\t}\n\t\t\t$sections[$mysection] = $upload_links;\n\t\t}\n\t}\n\t\n\t//Remove a post from the thread\n\tfunction deletePost() {\n\t\t$post_id = (int) $this->post['id'];\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t\t$this->deleteUploads($post_id);\n\t}\n\t\n\t\n\t//Update a post in the thread\n\tfunction editPost($userId, $messageText, $posterName = \"\") {\n\t\t$post_id = $this->post['id'];\n\t\t//Add the comment\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_posts SET\n\t\t\t\tmessage_text = '\". ze\\escape::sql(zenario_anonymous_comments::sanitiseHTML($messageText, $this->setting('enable_images'), $this->setting('enable_links'))). \"',\n\t\t\t\tdate_updated = NOW(),\n\t\t\t\tupdater_id = \". (int) $userId. \"\n\t\t\tWHERE thread_id = \". (int) $this->threadId. \"\n\t\t\t  AND id = \". (int) $post_id;\n\t\t\n\t\t$result = ze\\sql::update($sql);\n\t\t\n\t\t$this->manageUploads($post_id);\n\t\t\n\t\t$this->sendEmailNotification((int) $post_id, false);\n\t}\n\t\n\t\n\t//Update the first post in the thread\n\tfunction editFirstPost($userId, $messageText, $threadTitle) {\n\t\t\n\t\t//Updated the thread's title\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads SET\n\t\t\t\ttitle = '\". ze\\escape::sql($threadTitle). \"'\n\t\t\tWHERE id = \". (int) $this->threadId;\n\t\t\n\t\t$result = ze\\sql::update($sql);\n\t\t\n\t\t$this->editPost($userId, $messageText);\n\t}\n\t\n\tfunction showPostScreen($labelText, $submitButtonText, $quoteMode, $titleText = false, $onSubmit = '') {\n\t\tif($this->allow_uploads){\n\t\t\t$onSubmit .= \"\n\t\t\t\tif (!zenario.tinyMCEGetContent(tinyMCE.get('\". ze\\escape::js($this->getEditorId()). \"'))) {\n\t\t\t\t\talert('\". ze\\escape::js($this->phrase('_ERROR_MESSAGE')). \"');\n\t\t\t\t\treturn false;\n\t\t\t\t}\";\n\t\t}\n\t\tparent::showPostScreen($labelText, $submitButtonText, $quoteMode, $titleText, $onSubmit);\n\t}\n\t\n\t//Handle any requests the users ask for\n\tfunction forumActionHandler() {\n\t\t$actionTaken = true;\n\t\t\n\t\t//Note that some forum actions work via GET, so need checkConfirmKey() for extra security\n\t\tif (($_GET['comm_request'] ?? false) == 'mark_forum_read' && ($_SESSION['extranetUserID'] ?? false) && $this->checkConfirmKey()) {\n\t\t\t//Mark all of the Threads in a Forum as read for a User\n\t\t\t$this->markForumRead($_SESSION['extranetUserID'] ?? false);\n\t\t\n\t\t} elseif (($_GET['comm_request'] ?? false) == 'move_thread'  && $this->canMoveThread() && $this->checkConfirmKey()) {\n\t\t\t//Move a Thread from another Forum into this Forum\n\t\t\t$this->moveThreadIntoForum($_GET['forum_thread_to_move'] ?? false);\n\t\t\n\t\t} elseif (($_POST['comm_request'] ?? false) == 'subs_forum' && $this->canSubsForum() && !$this->hasSubsForum()) {\n\t\t\t$this->subs(true, false);\n\t\t\t\n\t\t} elseif (($_POST['comm_request'] ?? false) == 'unsubs_forum' && $this->canSubsForum()) {\n\t\t\t$this->subs(false, false);\n\t\t\n\t\t} else {\n\t\t\t$actionTaken = false;\n\t\t}\n\t\t\n\t\tif ($actionTaken) {\n\t\t\t$this->clearRequest('comm_request');\n\t\t\t$this->clearRequest('comm_confirm');\n\t\t}\n\t}\n\t\n\t\n\t//Check for the most recently created thread so far, and get the last_updated_order\n\tfunction getLatestUpdated() {\n\t\t\n\t\t$sql = \"\n\t\t\tSELECT IFNULL(MAX(last_updated_order), 0)\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads\n\t\t\tWHERE forum_id = \". (int) $this->forumId;\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tlist($latestUpdated) = ze\\sql::fetchRow($result);\n\t\treturn $latestUpdated;\n\t}\n\t\n\t\n\t//Check for the most recently created thread so far, and get the last_updated_order\n\tstatic function getThreadLastUpdated($forumId, $threadId) {\n\t\t\n\t\t$sql = \"\n\t\t\tSELECT last_updated_order\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads\n\t\t\tWHERE forum_id = \". (int) $forumId. \"\n\t\t\t  AND id = \". (int) $threadId. \"\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tlist($threadLastUpdated) = ze\\sql::fetchRow($result);\n\t\treturn $threadLastUpdated;\n\t}\n\t\n\t\n\t//Get the last_updated_order from a post id rather than a thread id\n\tfunction getUpdatedFromPostId($postId) {\n\t\t\n\t\t$sql = \"\n\t\t\tSELECT t.last_updated_order\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads AS t\n\t\t\tINNER JOIN \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_posts AS p\n\t\t\t   ON t.id = p.thread_id\n\t\t\t  AND t.date_updated = p.date_posted\n\t\t\tWHERE t.forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND p.forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND p.id >= \". (int) $postId. \"\n\t\t\tORDER BY p.id\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tlist($threadLastUpdated) = ze\\sql::fetchRow($result);\n\t\treturn $threadLastUpdated;\n\t}\n\t\n\t\n\tfunction threadPageIsForumPage() {\n\t\treturn $this->forum['forum_content_id'] == $this->forum['thread_content_id']\n\t\t\t&& $this->forum['forum_content_type'] == $this->forum['thread_content_type'];\n\t}\n\t\n\tfunction newThreadPageIsForumPage() {\n\t\treturn $this->forum['forum_content_id'] == $this->forum['new_thread_content_id']\n\t\t\t&& $this->forum['forum_content_type'] == $this->forum['new_thread_content_type'];\n\t}\n\t\n\tfunction loadForumInfo() {\n\t\t\n\t\t//Get information on comments for this content item from the mirror table\n\t\t$sql = \"\n\t\t\tSELECT\n\t\t\t\tid,\n\t\t\t\tdate_updated,\n\t\t\t\tupdater_id,\n\t\t\t\tthread_count,\n\t\t\t\tpost_count,\n\t\t\t\tlocked,\n\t\t\t\tforum_content_id,\n\t\t\t\tforum_content_type,\n\t\t\t\tthread_content_id,\n\t\t\t\tthread_content_type,\n\t\t\t\tnew_thread_content_id,\n\t\t\t\tnew_thread_content_type\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"forums AS f\n\t\t\tWHERE id = \". (int) $this->forumId;\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\t\n\t\tif ($this->forum = ze\\sql::fetchAssoc($result)) {\n\t\t\tze\\content::langEquivalentItem($this->forum['forum_content_id'], $this->forum['forum_content_type']);\n\t\t\tze\\content::langEquivalentItem($this->forum['thread_content_id'], $this->forum['thread_content_type']);\n\t\t\tze\\content::langEquivalentItem($this->forum['new_thread_content_id'], $this->forum['new_thread_content_type']);\n\t\t\t\n\t\t\tif (!$this->forum['thread_content_id']) {\n\t\t\t\t$this->forum['thread_content_id'] = $this->forum['forum_content_id'];\n\t\t\t\t$this->forum['thread_content_type'] = $this->forum['forum_content_type'];\n\t\t\t}\n\t\t\t\n\t\t\tif (!$this->forum['new_thread_content_id']) {\n\t\t\t\t$this->forum['new_thread_content_id'] = $this->forum['forum_content_id'];\n\t\t\t\t$this->forum['new_thread_content_type'] = $this->forum['forum_content_type'];\n\t\t\t}\n\t\t\t\n\t\t\t$this->forumLocked = (bool) $this->forum['locked'];\n\t\t\t\n\t\t\t$this->runCheckPrivs();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\t\n\t\n\tfunction loadThreadInfo() {\n\t\t\n\t\t//Get information on comments for this content item from the mirror table\n\t\t$sql = \"\n\t\t\tSELECT\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\tdate_updated,\n\t\t\t\tupdater_id,\n\t\t\t\tpost_count,\n\t\t\t\tlocked,\n\t\t\t\tforum_id\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads AS t\";\n\t\t\n\t\tif ($_REQUEST['forum_thread'] ?? false) {\n\t\t\t$sql .= \"\n\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND id = \". (int) ($_REQUEST['forum_thread'] ?? false);\n\t\t} else {\n\t\t\t$sql .= \"\n\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\tORDER BY last_updated_order DESC\n\t\t\tLIMIT 1\";\n\t\t}\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\t\n\t\tif ($this->thread = ze\\sql::fetchAssoc($result)) {\n\t\t\t$this->threadId = $this->thread['id'];\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\t\n\t\n\tfunction loadThreads() {\n\t\t\n\t\t$this->threads = [];\n\t\n\t\t$sql = \"\n\t\t\tSELECT\n\t\t\t\tid,\n\t\t\t\tdate_posted,\n\t\t\t\tdate_updated,\n\t\t\t\tlast_updated_order,\n\t\t\t\tposter_id,\n\t\t\t\tupdater_id,\n\t\t\t\tview_count,\n\t\t\t\tpost_count,\n\t\t\t\ttitle,\n\t\t\t\tshadow,\n\t\t\t\tsticky,\n\t\t\t\tlocked,\n\t\t\t\trating\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads\n\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\tORDER BY \";\n\t\t\n\t\tif ($this->setting('order') == 'MOST_RECENTLY_POSTED_FIRST') {\n\t\t\t$sql .= \"date_posted DESC\";\n\t\t} elseif ($this->setting('order') == 'OLDEST_FIRST') {\n\t\t\t$sql .= \"date_posted\";\n\t\t} elseif ($this->setting('order') == 'TITLE') {\n\t\t\t$sql .= \"title\";\n\t\t} else {\n\t\t\t$sql .= \"last_updated_order DESC\";\n\t\t}\n\t\t\n\t\t$sql .= ze\\sql::limit($this->page, $this->pageSize);\n\t\t\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\n\t\twhile($row = ze\\sql::fetchAssoc($result)) {\n\t\t\t$this->threads[] = $row;\n\t\t}\n\t}\n\t\n\t\n\tfunction loadPosts() {\n\t\t\n\t\t$this->posts = [];\n\t\n\t\t$sql = \"\n\t\t\tSELECT\n\t\t\t\tid,\n\t\t\t\tdate_posted,\n\t\t\t\tdate_updated,\n\t\t\t\t'published' AS status,\n\t\t\t\tfirst_post,\n\t\t\t\tposter_id,\n\t\t\t\tupdater_id,\n\t\t\t\tmessage_text,\n\t\t\t\trating\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_posts\n\t\t\tWHERE thread_id = \". (int) $this->threadId;\n\t\t\n\t\tif ($_REQUEST['comm_post'] ?? false) {\n\t\t\t$sql .= \"\n\t\t\t  AND id = \". (int) ($_REQUEST['comm_post'] ?? false);\n\t\t} else {\n\t\t\t$sql .= \"\n\t\t\tORDER BY id\".\n\t\t\tze\\sql::limit($this->page, $this->pageSize);\n\t\t}\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\n\t\tif ($_REQUEST['comm_post'] ?? false) {\n\t\t\tif (!$this->posts[] = $this->post = ze\\sql::fetchAssoc($result)) {\n\t\t\t\t$this->clearRequest('comm_post');\n\t\t\t\t$this->clearRequest('comm_request');\n\t\t\t\t$this->clearRequest('comm_confirm');\n\t\t\t\t$this->clearRequest('comm_enter_text');\n\t\t\t\t\n\t\t\t\t$this->loadPagination();\n\t\t\t\t$this->loadPosts();\n\t\t\t}\n\t\t\n\t\t} else {\n\t\t\twhile($row = ze\\sql::fetchAssoc($result)) {\n\t\t\t\t$this->posts[] = $row;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tfunction locked() {\n\t\treturn !empty($this->thread['locked']) || $this->forumLocked;\n\t}\n\t\n\t\n\tfunction lockedForum() {\n\t\treturn $this->forumLocked;\n\t}\n\t\n\t\n\tfunction lockThread($lock) {\n\t\t\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads SET\n\t\t\t\tlocked = \". (int) $lock. \"\n\t\t\tWHERE id = \". (int) $this->threadId;\n\t\t$result = ze\\sql::update($sql);\n\t}\n\t\t\n\tprotected function sendEmailNotification($postId, $newPost = true, $newThreadTitle = false) {\n\t//protected function sendEmailNotification($userId, $messageText, $newPost, $newThreadTitle = false, $name = '', $email = '') {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tprotected function subs($subs, $thread = true) {\n\t\t$key = [\n\t\t\t'user_id' => ($_SESSION['extranetUserID'] ?? false),\n\t\t\t'forum_id' => $this->forumId];\n\t\t\n\t\tif ($thread) {\n\t\t\t$key['thread_id'] = $this->threadId;\n\t\t} else {\n\t\t\t$key['thread_id'] = 0;\n\t\t}\n\t\t\n\t\tif ($subs) {\n\t\t\t$key['content_id'] = $this->forum['forum_content_id'];\n\t\t\t$key['content_type'] = $this->forum['forum_content_type'];\n\t\t\t\n\t\t\tze\\row::set(\n\t\t\t\tZENARIO_COMMENTS_PREFIX. 'user_subscriptions',\n\t\t\t\t['date_subscribed' => ze\\date::now()],\n\t\t\t\t$key);\n\t\t\n\t\t} else {\n\t\t\tze\\row::delete(\n\t\t\t\tZENARIO_COMMENTS_PREFIX. 'user_subscriptions',\n\t\t\t\t$key);\n\t\t}\n\t}\n\t\n\t\n\tfunction markForumRead($readerId) {\n\t\t$sql = \"\n\t\t\tDELETE FROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE unread_from != 0\n\t\t\t  AND unread_to != 0\n\t\t\t  AND forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND reader_id = \". (int) $readerId;\n\t\tze\\sql::update($sql, false, false);\n\t}\n\t\n\t\n\tfunction markOtherThreadsAsLessRecent($threadLastUpdated, $forumId) {\n\t\t\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads SET\n\t\t\t\tlast_updated_order = last_updated_order - 1\n\t\t\tWHERE last_updated_order > \". (int) $threadLastUpdated. \"\n\t\t\t  AND forum_id = \". (int) $forumId;\n\t\tze\\sql::update($sql);\n\t\t\n\t\t$sql = \"\n\t\t\tDELETE FROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE unread_to = \". (int) $threadLastUpdated. \"\n\t\t\t  AND unread_from = \". (int) $threadLastUpdated. \"\n\t\t\t  AND forum_id = \". (int) $forumId;\n\t\tze\\sql::update($sql, false, false);\n\t\t\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads SET\n\t\t\t\tunread_from = unread_from - 1\n\t\t\tWHERE unread_from > \". (int) $threadLastUpdated. \"\n\t\t\t  AND forum_id = \". (int) $forumId;\n\t\tze\\sql::update($sql, false, false);\n\t\t\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads SET\n\t\t\t\tunread_to = unread_to - 1\n\t\t\tWHERE unread_to > \". (int) $threadLastUpdated. \"\n\t\t\t  AND forum_id = \". (int) $forumId;\n\t\tze\\sql::update($sql, false, false);\n\t}\n\t\n\t\n\tfunction markThreadAsMostRecent($latestUpdated) {\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads SET\n\t\t\t\tlast_updated_order = \". (int) $latestUpdated. \"\n\t\t\tWHERE id = \". (int) $this->threadId;\n\t\t\n\t\tze\\sql::update($sql);\n\t}\n\t\n\t\n\t//Alter the rows in the user_unread_threads table to mark the current thread as read for the user\n\tfunction markThreadAsRead($readerId) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tfunction markThreadAsUnRead($latestUpdated) {\n\t\t\n\t\t//Extend the spans if possible\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads SET\n\t\t\t\tunread_to = \". (int) $latestUpdated. \"\n\t\t\tWHERE unread_to = \". ((int) $latestUpdated - 1). \"\n\t\t\t  AND forum_id = \". (int) $this->forumId;\n\t\tze\\sql::update($sql, false, false);\n\t\t\n\t\t//Where we couldn't extend a span, we must add a new one.\n\t\t//NOT IN must be used in order not to create any duplicates with the query above\n\t\t$sql = \"\n\t\t\tINSERT INTO \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads(\n\t\t\t\tunread_from, unread_to, forum_id, reader_id\n\t\t\t)\n\t\t\tSELECT \". (int) $latestUpdated. \", \". (int) $latestUpdated. \", \". (int) $this->forumId. \", reader_id\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND unread_to = 0\n\t\t\t  AND reader_id NOT IN (\n\t\t\t\tSELECT reader_id\n\t\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\t\t  AND unread_to = \". (int) $latestUpdated. \"\n\t\t\t)\n\t\t\tORDER BY forum_id, reader_id\";\n\t\tze\\sql::update($sql, false, false);\n\t}\n\t\n\t\n\tfunction markThreadCheckUserIsInTable($userId) {\n\t\t//Check to see if the user is in the user_unread_threads table for this forum\n\t\t$sql = \"\n\t\t\tSELECT 1\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND reader_id = \". (int) $userId. \"\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tif (ze\\sql::fetchRow($result)) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//Was the reason for them not being in there because there are no forum posts? Do nothing if so.\n\t\tif (!($latestUpdated = $this->getLatestUpdated())) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//If not, add a special row in for them so we know we've included them\n\t\t$sql = \"\n\t\t\tINSERT INTO \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads SET\n\t\t\t\tunread_from = 0,\n\t\t\t\tunread_to = 0,\n\t\t\t\tforum_id = \". (int) $this->forumId. \",\n\t\t\t\treader_id = \". (int) $userId;\n\t\tze\\sql::update($sql, false, false);\n\t\t\n\t\t//Then mark the forum as unread for them\n\t\t$sql = \"\n\t\t\tINSERT INTO \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads SET\n\t\t\t\tunread_from = 1,\n\t\t\t\tunread_to = \". (int) $latestUpdated. \",\n\t\t\t\tforum_id = \". (int) $this->forumId. \",\n\t\t\t\treader_id = \". (int) $userId;\n\t\tze\\sql::update($sql, false, false);\n\t}\n\t\n\t\n\tpublic static function markThreadCheckUserHasReadThread($latestUpdated, $forumId) {\n\t\tif (!($userId = $_SESSION['extranetUserID'] ?? false)) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t$sql = \"\n\t\t\tSELECT 1\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE forum_id = \". (int) $forumId. \"\n\t\t\t  AND reader_id = \". (int) $userId. \"\n\t\t\t  AND unread_from <= \". (int) $latestUpdated. \"\n\t\t\t  AND unread_to >= \". (int) $latestUpdated. \"\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\treturn !ze\\sql::fetchRow($result);\n\t}\n\t\n\t\n\t//Check to see if a user has read a forum\n\tpublic static function markThreadCheckUserHasReadForum($forumId) {\n\t\t//Not logged in? Always return true\n\t\tif (!$userId = $_SESSION['extranetUserID'] ?? false) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t//Otherwise, check to see if there are any unread threads for the user in the forum\n\t\t$sql = \"\n\t\t\tSELECT 1\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE forum_id = \". (int) $forumId. \"\n\t\t\t  AND reader_id = \". (int) $userId. \"\n\t\t\t  AND unread_from != 0\n\t\t\t  AND unread_to != 0\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tif (ze\\sql::fetchRow($result)) {\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\t//Otherwise, check to see if the user has ever been in the forum. (If not, then they've not read it!)\n\t\t$sql = \"\n\t\t\tSELECT 1\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE forum_id = \". (int) $forumId. \"\n\t\t\t  AND reader_id = \". (int) $userId. \"\n\t\t\t  AND unread_from = 0\n\t\t\t  AND unread_to = 0\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tif (ze\\sql::fetchRow($result)) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\t\n\t//Move a Thread from another Forum into this Forum\n\tfunction moveThreadIntoForum($threadId) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tfunction forumSelectMode() {\n\t\tif ($_REQUEST['comm_confirm'] ?? false) {\n\t\t\t$this->scrollToTopOfSlot(false);\n\t\t\t\n\t\t\tif (($_REQUEST['comm_request'] ?? false) == 'subs_forum' && $this->canSubsForum() && !$this->hasSubsForum()) {\n\t\t\t\t$this->showConfirmBox($this->phrase('_CONFIRM_SUBS_FORUM', ['email' => htmlspecialchars(ze\\user::email())]), $this->phrase('_SUBMIT_SUBS_FORUM'));\n\t\t\t\t\n\t\t\t} elseif (($_REQUEST['comm_request'] ?? false) == 'unsubs_forum' && $this->canSubsForum() && $this->hasSubsForum()) {\n\t\t\t\t$this->showConfirmBox($this->phrase('_CONFIRM_UNSUBS_FORUM'), $this->phrase('_SUBMIT_UNSUBS_FORUM'));\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\t$this->showForumActions();\n\t\t}\n\t}\n\t\n\t\n\tfunction showForumActions() {\n\t\t$loginCID = $loginCType = false;\n\t\t\n\t\tif ($this->canMakeThread()) {\n\t\t\t$this->sections['Add_New_Thread'] = true;\n\t\t\t$this->mergeFields['Add_New_Thread_Link'] = $this->linkToItemAnchor($this->forum['new_thread_content_id'], $this->forum['new_thread_content_type'], false, '&comm_request=add_thread');\n\t\t} elseif (ze::setting('user_use_screen_name') && !parent::getUserScreenNameConfirmed(ze\\user::id())) {\n\t\t\t$cID = $cType = false;\n\t\t\tze\\content::langSpecialPage('zenario_profile', $cID, $cType);\n\t\t\t$profileAnchor = $this->linkToItemAnchor($cID, $cType);\n\t\t\t$this->sections['Forum_Profile_Link'] = true;\n\t\t\t$profileLink =  '<a '.$profileAnchor.'>'.$this->phrase('your profile').'</a>';\n\t\t\t$this->mergeFields['Forum_Profile_Link'] = $this->phrase('You must confirm your screen name on [[profile_link]] in order to create a thread.', ['profile_link' => $profileLink]);\n\t\t} elseif ($this->lockedForum()) {\n\t\t\t$this->sections['Forum_Locked'] = true;\n\t\t\t\n\t\t} elseif (empty($_SESSION['extranetUserID']) && ze\\content::langSpecialPage('zenario_login', $loginCID, $loginCType)) {\n\t\t\t$this->sections['Forum_Login_To_Post'] = true;\n\t\t\t$this->mergeFields['Login_To_Post_Link'] = $this->linkToItemAnchor($loginCID, $loginCType);\n\t\t}\n\t\t\n\t\tif (($_SESSION['extranetUserID'] ?? false) && $this->forum['post_count'] && !zenario_forum::markThreadCheckUserHasReadForum($this->forumId)) {\n\t\t\t$this->sections['Mark_Forum_Read'] = true;\n\t\t\t$this->mergeFields['Mark_Forum_Read_Link'] = $this->refreshPluginSlotAnchor('&comm_page='. $this->page. '&comm_key='. $_SESSION['confirm_key']. '&comm_request=mark_forum_read', false);\n\t\t}\n\t\t\n\t\tif ($this->canSubsForum()) {\n\t\t\tif ($this->hasSubsForum()) {\n\t\t\t\t$this->sections['Unsubs_To_Forum'] = true;\n\t\t\t\t$this->sections['Subscribed_To_Forum'] = true;\n\t\t\t\t$this->mergeFields['Unsubs_To_Forum_Link'] = $this->refreshPluginSlotAnchor('&comm_page='. $this->page. '&comm_key='. $_SESSION['confirm_key']. '&comm_request=unsubs_forum&comm_confirm=1', false);\n\t\t\t} else {\n\t\t\t\t$this->sections['Subs_To_Forum'] = true;\n\t\t\t\t$this->mergeFields['Subs_To_Forum_Link'] = $this->refreshPluginSlotAnchor('&comm_page='. $this->page. '&comm_key='. $_SESSION['confirm_key']. '&comm_request=subs_forum&comm_confirm=1', false);\n\t\t\t}\n\t\t\n\t\t} elseif ($this->couldSubsForum()) {\n\t\t\t$this->sections['Login_To_Subs_Forum'] = true;\n\t\t\t\n\t\t\tif (empty($this->mergeFields['Login_To_Post_Link']) && ze\\content::langSpecialPage('zenario_login', $loginCID, $loginCType)) {\n\t\t\t\t$this->mergeFields['Login_To_Post_Link'] = $this->linkToItemAnchor($loginCID, $loginCType);\n\t\t\t}\n\t\t}\n\t\t\n\t\t$this->sections['Thread_Controls'] = true;\n\t}\n\t\n\t\n\tfunction showAddThread() {\n\t\t//Note: currently logic is identical to showPosts()\n\t\t$this->showPosts();\n\t}\n\t\n\tfunction showThreads() {\n\t\t\n\t\t\n\t\tif ($this->threads) {\n\t\t\t$this->sections['Thread'] = [];\n\t\t\t\n\t\t\tforeach($this->threads as &$thread) {\n\t\t\t\t\n\t\t\t\t$sections = [];\n\t\t\t\t$mergeFields = [];\n\t\t\t\t\n\t\t\t\t$mergeFields['Date_Posted'] = ze\\date::formatDateTime($thread['updater_id'], $this->setting('date_format'));\n\t\t\t\t$mergeFields['Posted_By'] = $this->getUserScreenNameLink($thread['poster_id']);\n\t\t\t\t$mergeFields['Posted_By_On'] = $this->phrase('_BY_ON', ['by' => $mergeFields['Posted_By'], 'on' => $mergeFields['Date_Posted']]);\n\t\t\t\t$mergeFields['Title'] = htmlspecialchars($thread['title']);\n\t\t\t\t$mergeFields['Post_Count'] = $thread['post_count'];\n\t\t\t\t$mergeFields['Replies_Count'] = $thread['post_count']-1;\n\t\t\t\t$mergeFields['View_Count'] = $thread['view_count'];\n\t\n\t\t\t\tif ($mergeFields['Updated'] = (bool) $thread['updater_id']) {\n\t\t\t\t\t$mergeFields['Date_Updated'] = ze\\date::formatDateTime($thread['date_updated'], $this->setting('date_format'));\n\t\t\t\t\t$mergeFields['Updated_By'] = $this->getUserScreenNameLink($thread['updater_id']);\n\t\t\t\t\t$mergeFields['Updated_By_On'] = $this->phrase('_BY_ON', ['by' => $mergeFields['Updated_By'], 'on' => $mergeFields['Date_Updated']]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (zenario_forum::markThreadCheckUserHasReadThread($thread['last_updated_order'], $this->forumId)) {\n\t\t\t\t\t$mergeFields['Status_Class'] = 'read';\n\t\t\t\t} else {\n\t\t\t\t\t$mergeFields['Status_Class'] = 'unread';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($thread['locked']) {\n\t\t\t\t\t$mergeFields['Locked'] = true;\n\t\t\t\t\t$mergeFields['Status_Class'] .= ' locked';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$mergeFields['Hyperlink'] = htmlspecialchars($this->linkToItem($this->forum['thread_content_id'], $this->forum['thread_content_type'], false, '&forum_thread='. $thread['id']));\n\t\t\t\t\n\t\t\t\t$this->sections['Thread'][] = $mergeFields;\n\t\t\t}\n\t\t}\n\t\t\n\t\t$this->framework('Threads', $this->mergeFields, $this->sections);\n\t}\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t//Empty a user's history in the user_unread_threads table if they are deleted\n\tpublic static function eventUserDeleted($userId) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n}", "\n/*\tAttempt to set the initial height of Organizer Quick to 95%  */\n#zenario_fbog.zenario_organizer_quick {\n\theight: 97%;\n}\n\n\n\nbody.webkit input {\n\tline-height: inherit !important;\n}\n\n.zenario_og,\n.zenario_og textarea {\n\tfont-family:Verdana, Arial, Helvetica, sans-serif;\n\tfont-size:9pt;\n\tcolor:#616161;\n}\n\n.zenario_organizer_quick__overlay {\n\topacity: 0.4;\n}\n\n.organizer_wrapInner,\n.organizer_wrapOuter,\n.organizer_wrapOuter div {\n\twidth: 100%;\n\tpadding: 0px;\n\tmargin: auto;\n}\n\n.organizer_wrapInner {\n\toverflow: hidden;\n}\n\n#organizer_wrapOuter_tm,\n#organizer_wrapInner_bm {\n\twidth: auto;\n}\n\n#organizer__box_inner {\n\tbackground:#F6F6F6;\n\t-webkit-box-shadow: 0px 0px 5px 2px #929292;\n\tbox-shadow: 0px 0px 5px 2px #929292; \n}\n\n#organizer_leftColumnOuter *::selection {\n\tbackground-color: transparent;\n}\n\n#organizer_leftColumnOuter *::-moz-selection {\n\tbackground-color: transparent;\n}\n\n#organizer_itemCountWrap *::selection {\n\tbackground-color: transparent;\n}\n\n#organizer_itemCountWrap *::-moz-selection {\n\tbackground-color: transparent;\n}\n\n#organizer__box_inner.organizer_multiple_items_selected #organizer_rightColumn *::selection {\n\tbackground-color: transparent;\n}\n\n#organizer__box_inner.organizer_multiple_items_selected #organizer_rightColumn *::-moz-selection {\n\tbackground-color: transparent;\n}\n\n#organizer__box_inner.organizer_not_loaded {\n\topacity:0;\n}\n\n#organizer__box_inner.organizer_loaded {\n\topacity:1;\n}\n\n#organizer__box_inner.organizer_interaction_disabled #organizer_leftColumnOuter,\n#organizer__box_inner.organizer_interaction_disabled #organizer_header #organizer_backButton,\n#organizer__box_inner.organizer_interaction_disabled #organizer_header #organizer_viewOptions {\n\tfilter: alpha(opacity=60); /* internet explorer */\n\t-khtml-opacity: 0.6;\t  /* khtml, old safari */\n\t-moz-opacity: 0.6;\t   /* mozilla, netscape */\n\topacity: 0.6;\t\t   /* fx, safari, opera */\n}\n\n\n#organizer_container {\n\tpadding:auto;\n\tmargin:auto;\n}\n\n.organizer_wrapOuter {\n\theight: 39px;\n}\n\n/******/\n\n#organizer__box_top\n{\n\theight:39px;\n\tposition:relative;\n\tbackground:#333;\n}\n\n#organizer__box_center\n{\n\tclear:both;\n}\n\n#organizer__box_bottom\n{\n\tdisplay:none;\n}\n\n#organizer__box_bottom\n{\n\theight: 19px;\n\toverflow:hidden;\n\tposition:relative;\n}\n\n#organizer__box_bottom .organizer_wrapInner\n{\n\tfloat:left;\n}\n\n#organizer__box_bottom .organizer_bl,\n#organizer__box_bottom .organizer_br\n{\n\tdisplay:block;\n\twidth:16px;\n\theight:19px;\n}\n\n#organizer__box_bottom .organizer_br\n{\n\twidth: 16px;\n}\n\n#organizer__box_bottom .organizer_bl\n{\n\tfloat:left;\n\tbackground:  0px -350px no-repeat;\n\tleft:0;\n}\n\n#organizer__box_bottom .organizer_br\n{\n\tfloat:left;\n\tbackground: -3px -100px no-repeat;\n\tright:0;\n}\n\n/******/\n\n.organizer_wrapOuter div {\n\tbackground: transparent no-repeat;\n\theight: 39px;\n}\n\n.organizer_wrapOuter div div {\n\tmargin-top:0;\n}\n\n.organizer_wrapInner {\n\tfloat:left;\n\theight: 19px;\n}\n\n\n\n#organizer__box_top .organizer_info_box {\n\twidth: 170px;\n\tmargin: 10px 0px 0px 20px;\n\theight: 36px;\n\tcursor: pointer;\n}\n\n#organizer_topRightButtons {\n\twidth:auto;\n\tpadding-top:9px;\n\tmargin-left: 182px;\n}\n\n.organizer_wrapOuter #organizer_search {\n\twidth: 332px;\n\tfloat: right;\n\tmargin-right: 30px;\n\tmargin-top: 7px;\n}\n\n#organizer_searchForm input,\n#organizer_searchForm img {\n\tfloat:left;\n}\n\n#organizer_searchForm input#organizer_search_term {\n\twidth:138px;\n\tbackground:#FFFFFF;\n\tborder:0;\n\tpadding:0 8px 0 26px;\n\theight:34px;\n\tline-height:34px;\n\tbackground: url('../admin/images/icon-search-magnifyer.svg') no-repeat 4px center / 16px 16px;\n\tbox-sizing: content-box;\n}\n\n#organizer_searchForm input#organizer_search_term,\n#organizer_searchForm input#organizer_search_term::-webkit-input-placeholder,\n#organizer_searchForm input#organizer_search_term:-moz-placeholder,\nbody.ie label#search_term_placeholder {\n\tcolor:#6f6f6f;\n}\n\nbody.ie label#search_term_placeholder {\n\tcursor: text;\n\tpadding: 4px 4px 4px 4px;\n}\n\n#organizer_searchForm input#search_btn {\n\tmargin:0px 10px;\n}\n\n\n.organizer_wrapOuter .organizer_close_button,\n.organizer_wrapOuter .restore_button {\n\theight: 39px;\n\twidth: 40px;\n\tfloat: right;\n}\n\n\n.organizer_wrapOuter .organizer_close_button a,\n#organizer__box_top .close_button a {\n\tbackground:url(../admin/images/icon-close-off.svg) no-repeat;\n\tbackground-size:100%;\n\twidth: 34px;\n\theight: 34px;\n\tposition: absolute;\n\tright: 6px;\n\ttop: 2px;\n\tdisplay:block;\n\tcursor: pointer;\n}\n\n.organizer_wrapOuter .organizer_close_button a:hover,\n#organizer__box_top .close_button a:hover {\n\tbackground:url(../admin/images/icon-close-over.svg) no-repeat;\n}\n\n.organizer_wrapOuter .restore_button {\n\tdisplay: none;\n}\n\n.zenario_organizer_quick .organizer_wrapOuter .restore_button {\n\tdisplay: block;\n}\n\n#organizer_top_right_buttons {\n\tfloat: right;\n\twidth: auto;\n}\n\n.organizer_wrapOuter .logout_button a,\n.organizer_wrapOuter .top_right_button,\n.organizer_wrapOuter .top_right_button li a {\n\twidth: 38px;\n\theight: 34px;\n}\n\n.organizer_wrapOuter .top_right_button {\n\tfloat: right;\n\tborder:1px solid #B3B3B3;\n\tborder-top:0;\n}\n\n.organizer_wrapOuter .top_left_button,\n.organizer_wrapOuter .top_left_button a {\n\twidth: 38px;\n\theight: 38px;\n}\n\n.organizer_wrapOuter .zenario_ywip,\n.organizer_wrapOuter .zenario_ywip a {\n\twidth:44px;\n}\n\n.organizer_wrapOuter .top_left_button {\n\tfloat: left;\n\tborder-right:1px solid #818181;\n\tmargin-left:1px;\n\tbackground:url('../admin/images/store_keeper/nav-button-bg-grey.png') repeat-x top;\n}\n\n.organizer_wrapOuter .top_left_button:hover {\n\tbackground:url('../admin/images/store_keeper/nav-button-bg-green.png') repeat-x top;\n\tcursor:pointer;\n}\n\n.organizer_wrapOuter .logout_button a,\n.organizer_wrapOuter .top_left_button a,\n.organizer_wrapOuter .top_right_button li a {\n\tdisplay: block;\n}\n\n.organizer_wrapOuter .logout_button {\n\tmargin-right:20px;\n}\n\n.organizer_wrapOuter .organizer_back_button {\n\tdisplay:none;\n}\n\n.organizer_wrapOuter .logout_button a {\n\tbackground-position: -753px -10px;\n}\n\n.organizer_wrapOuter .logout_button a {\n\tbackground: url('../admin/images/icon-logout.svg') no-repeat center / 16px 16px;\n}\n\n.organizer_wrapOuter .logout_button a:hover {\n\tbackground-color: #007FA3;\n}\n\n.organizer_wrapOuter .zenario_admin_name {\n\twidth:auto;\n\tborder:0;\n\tline-height:36px;\n\tcolor:#FFF;\n\tpadding-left:10px;\n\tpadding-right:60px;\n\tcursor: pointer;\n\tposition:relative;\n}\n\n.organizer_wrapOuter .zenario_admin_name a {\n\tdisplay:inline-block;\n\tpadding-right:15px;\n\tbackground: url('../admin/images/icon-arrow-down-white.svg') no-repeat right center / 8px 8px;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul li a {\n\tbackground:none;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul li span {\n\tpadding-right:0;\n\tbackground:none;\n}\n\n.organizer_wrapOuter .zenario_admin_name:hover {\n\tcolor:#43d4f4;\n}\n\n\n\n\n.organizer_wrapOuter .zenario_admin_name ul {\n\tdisplay: none;\n\ttop: 35px;\n\tleft:0;\n\tz-index:90000;\n\tposition: absolute;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground:#F6F6F6;\n\tborder:1px solid #333333;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;\n\t-moz-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;\n\tbox-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;  \n}\n\n.organizer_wrapOuter .zenario_admin_name ul:after {\n\tborder-color: #F6F6F6 transparent;\n\tborder-style: solid;\n\tborder-width: 0 10px 10px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 15px;\n\twidth: 0;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul:before {\n\tborder-color: #333 transparent;\n\tborder-style: solid;\n\tborder-width: 0 12px 12px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 13px;\n\twidth: 0;\n}\n\n\n.organizer_wrapOuter .zenario_admin_name:hover ul {\n\tdisplay: block;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul,\n.organizer_wrapOuter .zenario_admin_name ul li {\n\tlist-style:none;\n\tmargin:0;\n\tpadding:0;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul {\n\tpadding:5px;\n}\n\n.organizer_wrapOuter .top_right_button ul li a {\n\twidth:150px;\n\theight:auto;\n\tpadding:0 10px;\n\tdisplay:block;\n\tline-height:30px;\n\tborder-top:1px solid #DCDCDC;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul li a,\n.organizer_wrapOuter .zenario_admin_name:hover ul li a {\n\tcolor:#333;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul li a:hover,\n.organizer_wrapOuter .zenario_admin_name:hover ul li a:hover {\n\tcolor:#007fa2;\n}\n\n.organizer_wrapOuter .top_right_button ul li:first-child a {\n\tborder-top:0;\n}\n\n\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown {\n\t/*top:36px;*/\n\tz-index:99 !important;\n\tposition: absolute;\n\t/*margin: 0px auto;\n\tpadding:0px;*/\n\tdisplay: none;\n\ttop:38px;\n\tcursor:default;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown.zenario_ywip_loading {\n\topacity: 0.7;\n}\n\n.organizer_wrapOuter .zenario_ywip:hover #zenario_ywip_dropdown {\n\tdisplay: block;\n}\n\n.organizer_wrapOuter .zenario_ywip div {\n\theight:auto;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown {\n\twidth:272px;\n\tpadding-top:11px;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner {\n\twidth:260px;\n\tpadding:5px;\n\tborder:1px solid #333333;\n\tbackground:#F6F6F6;\n\t-webkit-border-radius: 3px;\n\t-moz-border-radius: 3px;\n\tborder-radius: 3px;\n\t-webkit-box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.5);\n\tbox-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.5);\n\tposition:absolute;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul {\n\tmax-height: 400px;\n\toverflow-y: auto;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner:before {\n\tborder-color: #333333 rgba(0, 0, 0, 0);\n\tborder-style: solid;\n\tborder-width: 0 12px 12px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tleft: 13px;\n\tposition: absolute;\n\twidth: 0;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner:after {\n\tborder-color: #F6F6F6 rgba(0, 0, 0, 0);\n\tborder-style: solid;\n\tborder-width: 0 10px 10px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tleft: 15px;\n\tposition: absolute;\n\twidth: 0;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_title {\n\tbackground:#D8D6D7;\n\tcolor:#007FA2;\n\tpadding:8px;\n\twidth:auto;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown a {\n\twidth:auto;\n\theight:auto;\n\tpadding:5px 8px 3px;\n\tbackground:url(\"../admin/images/store_keeper/2px-grey-white.gif\") repeat-x scroll center top;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li span {\n\tdisplay:block;\n\tpadding:0 8px 8px;\n\tfont-size:11px;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul,\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li {\n\tlist-style:none;\n\tmargin:0;\n\tpadding:0;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a {\n\tcolor:#333;\n\tfont-weight:bold;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a:hover {\n\tcolor:#007FA2;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a,\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a:hover {\n\ttext-decoration:none;\n}\n\n\n\n/*  Temporary styles added by Chris  */\n#organizer_branding_title,\n#organizer_backButton {\n\tfloat: left;\n\twidth: auto;\n}\n\n#organizer_branding_title {\n\tcolor: white;\n\tfont-style: italic;\n\tline-height: 39px;\n\tmargin-left: 10px;\n}\n\n#organizer_branding_title span.organizer_name {\n\tfont-style: normal;\n\tfont-weight: bold;\n\ttext-transform: uppercase;\n}\n\n\n#organizer_branding_title span.organizer_name span {\n\tfont-size: 14px;\n}\n\n#organizer_container {\n\twidth: auto;\n\toverflow: hidden;\n}\n\n#organizer_header,\n#organizer_header .headerPanel {\n\twidth: auto;\n}\n\n.organizer_list_view_body_wrap {\n\twidth:100%;\n}\n\n#organizer_container {\n\tmargin: 0px 6px;\n\tbackground:#F6F6F6;\n}\n\n#organizer_header {\n\tclear:both;\n\theight:56px;\n\tbackground:url('../admin/images/store_keeper/2px-grey-white.gif') repeat-x scroll center bottom;\n\t\n\t/*\n\tFor some reason this line needed to be commented out after removing the \"overflow: hidden;\" rule from #organizer_header\n\t-- Chris\n\t\n\tpadding-top: 16px;\n\t*/\n}\n\n#organizer_rightColumn #organizer_search {\n\tdisplay:inline-block;\n\tposition:absolute;\n\ttop:45px;\n\tleft:0;\n\theight:34px;\n}\n\n#organizer_search_placeholder {\n\tdisplay:block;\n\twidth:176px;\n\tmargin-right:6px;\n}\n\n.zenario_toolbar_header .toolbar {\n\tfloat: left;\n\toverflow: hidden;\n\tmargin: 0 20px 0 0;\n}\n\n#organizer_search,\n.zenario_toolbar_header .toolbar,\n#organizer_trash_button {\n\theight:30px;\n\tborder:1px solid #C6C6C6;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n}\n\n#organizer_search {\n\tborder:2px solid #B6B6B6;\n\tcolor:#F6F6F6;\n}\n\n.zenario_toolbar_header .toolbar,\n#organizer_trash_button {\n\tbackground: url('../admin/images/store_keeper/top-bar-btns-m-off.png') repeat-x 0px 0px;\n}\n\n.zenario_toolbar_header .toolbar div:hover,\n#organizer_trash_button:hover {\n\tbackground: url('../admin/images/store_keeper/top-bar-btns-m-over.png') repeat-x 0px 0px;\n}\n\n.zenario_toolbar_header .toolbar.disabled {\n\tborder:1px solid #dfdfdf;\n}\n\n.zenario_toolbar_header .toolbar.disabled div,\n.zenario_toolbar_header .toolbar.disabled:hover div {\n\tbackground:#f0f0f0;\n}\n\n#organizer__box_inner.organizer_filters_set_in_view_options .zenario_toolbar_header #organizer_viewOptions.toolbar,\n#organizer__box_inner.organizer_filters_set_in_view_options .zenario_toolbar_header #organizer_viewOptions.toolbar div:hover {\n\tbackground:#01d300;\n\tborder-color:#616161;\n}\n\n.zenario_toolbar_header .toolbar div {\n\tborder-right:1px solid #C6C6C6;\n}\n\n.zenario_toolbar_header .toolbar div:first-child {\n\tborder-right:0;\n}\n\n.zenario_toolbar_header .toolbar a,\n.zenario_toolbar_header .toolbar div {\n\tdisplay: block;\n\tfloat:left;\n\twidth:auto;\n}\n\n\n#organizer_header .viewMode,\n#organizer_header .viewMode div {\n\tfloat: right;\n}\n\n#organizer_header .viewMode {\n\tmargin-right: 10px;\n}\n\n.headerPanel .viewMode div,\n.headerPanel .organizer_switch_view,\n.headerPanel #organizer_refreshRightColumn,\n.headerPanel #organizer_listViewOptionsDropdown {\n\twidth: 30px;\n\theight: 30px;\n\tcursor: pointer;\n}\n\n.headerPanel .viewMode div a {\n\tfloat: right;\n\tdisplay: block;\n\twidth: 30px;\n\theight: 30px;\n}\n\n.zenario_toolbar_header .toolbar div.toolbarLeftEnd,\n.zenario_toolbar_header .toolbar div.toolbarRightEnd,\n.zenario_toolbar_header .headerPanelControls div.toolbarLeftEnd,\n.zenario_toolbar_header .headerPanelControls div.toolbarRightEnd {\n\tdisplay:none;\n}\n\n.organizer_grid_view .organizer_slidedown_view_toggle {\n\t/*  Probably change this  */\n\tfloat: right;\n\tdisplay: block;\n\twidth: 15px;\n\theight: 15px;\n\tbackground: grey;\n}\n\n.organizer_grid_view .organizer_slidedown_view_toggle_closed {\n\t/*  Add some CSS here!  */\n}\n\n.organizer_grid_view .organizer_slidedown_view_toggle_open {\n\t/*  Add some CSS here!  */\n}\n\n.organizer_list_view .organizer_slidedown_view_toggle,\n.organizer_list_view .organizer_slidedown_view_toggle_header {\n\twidth: 30px;\n}\n\n.organizer_total_wrapper {\n\theight: 30px;\n\t/*position: fixed;\n\tz-index: 5;*/\n\tbackground-color: #f6f6f6;\n\tborder-color: #c4c4c4;\n\tborder-style: solid;\n\tborder-width: 0 0 1px 0;\n} \n\n.organizer_total_wrapper .organizer_total_cell,\n.organizer_total_wrapper .organizer_slidedown_view_toggle {\n\t  display: block;\n\t  float: left;\n\t  height: 23px;\n\t  padding: 3px 5px 3px 5px;\n\t  text-align: right;\n\t  border-color: #c4c4c4;\n\t  border-style: solid;\n\t  border-width: 0 1px 0 0;\n}\n\n.organizer_subtotal_grouping .organizer_total_wrapper {\n\t  border-color: #c4c4c4;\n\t  border-style: solid;\n\t  border-width: 0 1px 0 0;\n}\n\n.organizer_total_wrapper span {\n\tcolor: #000000;\n\ttext-align: right;\n\tfont-weight: bold;\n}\n\n.placeholder-checkbox {\n\twidth: 25px;\n}\n\n.placeholder-week-item {\n\twidth: 39px;\n}\n\n.organizer_slidedown_view_closed {\n\tdisplay: none !important;\n}\n\n.organizer_slidedown_view {\n\twidth: auto;\n\tpadding:20px 20px 20px;\n\tbackground:#FDFDDF;\n\tborder-bottom:1px solid #C4C4C4;\n}\n\n.organizer-slidedown-image-information table td {\n\tvertical-align: top;\n}\n\n.organizer-slidedown-image-information table {\n\twidth: 100%;\n}\n\n.organizer-slidedown-image-information table .slidedown_table_image {\n\twidth: 360px;\n}\n\n.organizer-slidedown-image-information p {\n\tmargin: 0 0 10px 20px;\n\tcolor: #202020;\n}\n\n.headerPanel .secondToolbar,\n.headerPanel .secondToolbar div {\n\tdisplay:inline;\n}\n\nbody.ie6 #organizer_header #organizer_refreshRightColumn {\n\tmargin-right: 0px;\n}\n\nbody.ie6 .headerPanel .secondToolbar {\n\twidth: 62px;\n}\n\n.organizer_wrapOuter .home_page_button a {\n\tbackground: url('../admin/images/icon-back-to-home-off.svg') no-repeat center / auto 24px;\n}\n\n.organizer_wrapOuter .home_page_button:hover a {\n\tbackground: url('../admin/images/icon-back-to-home-hover.svg') no-repeat center / auto 24px;\n}\n\n.organizer_wrapOuter .zenario_ywip a {\n\tbackground: url('../admin/images/icon-work-in-progress-off.svg') no-repeat center / 32px 14px;\n}\n\n.organizer_wrapOuter .zenario_ywip:hover a {\n\tbackground: url('../admin/images/icon-work-in-progress-hover.svg') no-repeat center / 32px 14px;\n}\n\n.organizer_wrapOuter .last_page_button a {\n\tbackground: url('../admin/images/icon-back-to-html-off.svg') no-repeat center / auto 23px;\n}\n\n.organizer_wrapOuter .last_page_button:hover a {\n\tbackground: url('../admin/images/icon-back-to-html-hover.svg') no-repeat center / auto 23px;\n}\n\n#organizer_header #organizer_listViewOptionsDropdown a {\n\tbackground: url('../admin/images/icon-filter-glasses-dark.svg') no-repeat center / 18px 18px;\n}\n\n#organizer_header #organizer_refreshRightColumn a {\n\tbackground: url('../admin/images/icon-refresh-dark.svg') no-repeat center / 16px 16px;\n}\n\n.headerPanel .viewMode .organizer_switch_view a,\n.organizer_list_view .organizer_slidedown_view_toggle_open {\n\tbackground: url('../admin/images/icon-arrow-down-dark.svg') no-repeat center / 10px;\n}\n\n.organizer_list_view .organizer_slidedown_view_toggle_closed {\n\tbackground: url('../admin/images/icon-arrow-right-grey.svg') no-repeat center / 10px;\n}\n\n.organizer_list_view .organizer_slidedown_view_toggle_closed:hover,\n.organizer_list_view .organizer_selected .organizer_slidedown_view_toggle_closed {\n\tbackground: url('../admin/images/icon-arrow-right-dark.svg') no-repeat center / 10px;\n}\n\n#organizer_header .disabled #organizer_listViewOptionsDropdown a {\n\tbackground: url('../admin/images/icon-filter-glasses-grey.svg') no-repeat center / 18px 18px;\n}\n\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_list_view a {\n\tbackground: url('../admin/images/icon-list-view-dark.svg') no-repeat center / 15px 15px;\n}\n\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_grid_view a {\n\tbackground: url('../admin/images/icon-grid-dark.svg') no-repeat center / 15px 15px;\n}\n\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_map_view a {\n\tbackground: url('../admin/images/icon-map-dark.svg') no-repeat center / 25px 25px;\n}\n\n#organizer_header .disabled #organizer_listViewOptionsDropdown a {\n\tcursor:default;\n\topacity:0.8;\n}\n\n.headerPanel .viewMode #organizer_summary_view {\n\tdisplay:none;\n}\n\n.headerPanel .viewMode .organizer_switch_view,\n.headerPanel .viewMode .organizer_switch_view a {\n\twidth: 31px;\n}\n\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_compact_list_view a {\n\tbackground: url('../admin/images/icon-compact-view.svg') no-repeat center / 16px 14px;\n}\n\n/*\n\tn.b. I am reusing an old icon here; we need a new icon for this!\n*/\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_view_selected {\n\tbackground: url('../admin/images/store_keeper/top-bar-btns-m-over.png') repeat-x 0px 0px;\n}\n\n\n#zenario_fbAdminColumnFilter,\n#zenario_fbAdminViewModeOptions {\n\tpadding-bottom: 5px;\n\tbackground-color: #333;\n\tcolor: #FFF;\n\toverflow: hidden;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #646464;\n\t-moz-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #646464;\n\tbox-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #646464;\n\tborder: solid 1px #333;\n}\n\n#zenario_fbAdminColumnFilter,\n#zenario_fbAdminViewModeOptions {\n\tfont-family:Verdana,Arial,Helvetica,sans-serif;\n\tfont-size:11px;\n}\n\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader {\n\tmargin: 1px 1px 3px;\n\tpadding: 2px 2px 3px 6px;\n\tline-height: 23px;\n\tcolor: #FFF;\n\tfont-weight: bold;\n\ttext-indent:-999;\n\tfont-size:0;\n\tline-height:0;\n}\n\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a {\n\tdisplay: block;\n\tposition:absolute;\n\ttop:10px;\n\theight: 22px;\n\twidth: 22px;\n\tbackground:url('../admin/images/icon-close-off-state-light-grey.svg') no-repeat center center / 14px 13px;\n\tcursor: pointer;\n}\n\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a:hover {\n\tbackground:url('../admin/images/icon-close-hover-state-blue.svg') no-repeat center center / 14px 13px;\n}\n\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a { \n\tright:20px;\n}\n\n#zenario_fbAdminViewModeOptions p {\n\tmargin: 0px;\n\tpadding: 2px 5px;\n\twhite-space: nowrap;\n}\n\n\n#zenario_fbAdminViewModeOptions .notused {\n\topacity: 0.25;\n}\n\n#zenario_fbAdminViewModeOptions p a.sortcol {\n\tmargin-left: 5px;\n}\n\n#zenario_fbAdminViewModeOptions p a.cansortcol {\n\tcursor: pointer;\n}\n\n#zenario_fbAdminViewModeOptions .zenario_ab_row__showcol__title_ div {\n\tbackground:url('../admin/images/border-horizontal-black-grey.gif') repeat-x bottom;\n\tpadding:5px 10px 15px;\n\tmargin-bottom:15px;\n}\n\n#zenario_fbAdminViewModeOptions .zenario_ab_row__showcol__title_ div div {\n\tbackground:none;\n\tpadding:0;\n\tmargin:0;\n}\n\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_show,\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv,\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_sort {\n\tfont-size: 10px;\n\tfont-weight:bold;\n\tcolor:#43d4f4;\n}\n\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_show,\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv {\n\tfloat: left;\n\twidth: 35px;\n\tpadding-left: 5px;\n}\n\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv {\n\tpadding-right: 1px;\n}\n\n\n#zenario_fbAdminViewModeOptions div#organizer_colsortfields,\n#zenario_fbAdminViewModeOptions div#organizer_filterfields {\n\toverflow: auto;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n}\n\n#zenario_fbAdminViewModeOptions table.thickbox_table {\n\twidth: 100%;\n\tborder-collapse: collapse;\n}\n\n#zenario_fbAdminViewModeOptions table.thickbox_table tr td {\n\tmargin:0;\n\tpadding:0;\n}\n\n#zenario_fbAdminViewModeOptions div#organizer_colsortfields table.thickbox_table tr td {\n\tpadding:0 0 3px;\n}\n\n#zenario_fbAdminViewModeOptions div#organizer_colsortfields .zenario_colsortfields_row {\n\twidth:100%;\n\toverflow:hidden;\n}\n\n#zenario_fbAdminViewModeOptions td.title {\n\ttext-align: right;\n\twidth: 100px;\n}\n\n#zenario_fbAdminViewModeOptions td.title label {\n\tpadding-right:2px;\n}\n\n#zenario_fbAdminColumnFilter {\n\tpadding:15px 15px 10px;\n}\n\n#zenario_fbAdminColumnFilter td.title a,\n#zenario_fbAdminColumnFilter tr.yes_or_no a {\n\tcursor: pointer;\n}\n\n#zenario_fbAdminColumnFilter a.inverter,\n#zenario_fbAdminViewModeOptions a.organizer_inverter {\n\tborder: 1px solid #BA0505;\n\tbackground: #E50707;\n\tpadding: 0 1px 2px;\n\tcolor:#FFF;\n\ttext-shadow:0 1px 1px #000000;\n\t-webkit-border-radius: 3px;\n\t-moz-border-radius: 3px;\n\tborder-radius: 3px;\n\tcursor:pointer;\n}\n\n#zenario_fbAdminColumnFilter a.organizer_not,\n#zenario_fbAdminViewModeOptions a.organizer_not {\n\ttext-decoration:line-through;\n}\n\n#zenario_fbAdminViewModeOptions a.organizer_inverter {\n\t/*line-height:40px;*/\n\tmargin-right:3px;\n}\n\n#zenario_fbAdminColumnFilter a.inverter:hover {\n\tborder-color:#8D0303;\n\tbackground: #BA0505;\n}\n\n#zenario_fbAdminViewModeOptions a.organizer_inverter {\n}\n\n#zenario_fbAdminColumnFilter td.title a.not,\n#zenario_fbAdminColumnFilter tr.yes_or_no a.not {\n\ttext-decoration: line-through;\n}\n\n#zenario_fbAdminColumnFilter tr.yes_or_no td.title a.not,\n#zenario_fbAdminColumnFilter tr.yes_or_no a.not,\n#zenario_fbAdminColumnFilter tr.enum a.not {\n\ttext-decoration: none;\n}\n\n#zenario_fbAdminColumnFilter .organizer_remove_filter {\n\tborder: none;\n\tborder:0;\n\tcursor:pointer;\n\tbackground:#333;\n\tcolor:#FFF;\n\tfont-weight:bold;\n\tpadding:0;\n}\n\n#zenario_fbAdminColumnFilter .organizer_close_filter {\n\tcursor: pointer;\n\tdisplay:block;\n\twidth:18px;\n\theight:17px;\n\tbackground:url('../admin/images/icon-close-off.svg') no-repeat;\n\tbackground-size:100%;\n\tposition:absolute;\n\ttop:5px;\n\tright:5px;\n}\n\n#zenario_fbAdminColumnFilter .organizer_close_filter:hover {\n\tbackground:url('../admin/images/icon-close-over.svg') no-repeat;\n}\n\n#zenario_fbAdminColumnFilter .organizer_remove_filter_inactive {\n\tvisibility: hidden;\n}\n\n#zenario_fbAdminViewModeOptions .organizer_mov_col {\n\twidth: 16px;\n\theight: 20px;\n\tfloat: right;\n\tclear: both;\n}\n\nbody.ie7 #zenario_fbAdminViewModeOptions .organizer_mov_col {\n\tpadding-right: 17px;\n}\n\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter input.togglefilter_closed {\n\tbackground:url(\"../admin/images/icon-filter-blue.svg\") no-repeat 12px bottom / auto 11px;\n}\n\n/*  Hack by Chris to move the cross inline with the filter funnel above!  */\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter input.togglefilter_open {\n\twidth: 44px;\n}\n\n#zenario_fbAdminViewModeOptions .organizer_mov_col .input_toggle {\n\twidth: 16px;\n\theight: 10px;\n\tfloat: right;\n\tfont-size: 1px;\n}\n\n\n\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter {\n\tfloat: right;\n}\n\n\n#zenario_fbAdminViewModeOptions div.zenario_filters_for_field,\n#zenario_fbAdminViewModeOptions div.zenario_date_filters_for_field {\n\twidth:auto;\n\tmargin:5px 0 5px 65px;\n}\n\n#zenario_fbAdminViewModeOptions input.input_checkbox { \n\twidth: 20px;\n\tmargin-left:15px;\n}\n\nbody.ie6 #zenario_fbAdminViewModeOptions input.input_checkbox,\nbody.ie7 #zenario_fbAdminViewModeOptions input.input_checkbox {\n\twidth: auto;\n\tmargin: 3px 8px 3px 6px;\n\tborder: 0px none;\n\tpadding: 2px;\n}\n\n#zenario_fbAdminViewModeOptions input.input_toggle {\n\tcursor: pointer;\n\tmargin: 0px;\n\tpadding: 0px;\n\tbackground: none transparent;\n\tborder: 0px none;\n\twidth: 50px;\n\tpadding-left:5px;\n\ttext-align:left;\n\theight: 16px;\n\tcolor:#FFF;\n}\n\n#zenario_fbAdminViewModeOptions input.zen_col_hidden {\n\tcolor:#F5E100;\n}\n\n#zenario_fbAdminViewModeOptions input.zen_col_shown {\n\tcolor:#43D4F4;\n}\n\n/*  Fix a bug in IE 9 where the sort buttons display below the text-line.  */\nbody.ie9 #zenario_fbAdminViewModeOptions input.input_toggle {\n\tvertical-align: 5px;\n}\n\n#zenario_fbAdminViewModeOptions input.input_text,\n#zenario_fbAdminViewModeOptions input.input_date {\n\twidth: 115px;\n\tborder:1px solid #ccc;\n}\n\n#zenario_fbAdminViewModeOptions tr.zenario_ab_row__reset div,\n#zenario_fbAdminViewModeOptions tr.zenario_ab_row__toggle_csv div  {\n\tbackground:url('../admin/images/border-horizontal-black-grey.gif') repeat-x top;\n\tdisplay:block;\n\tmargin-top:15px;\n\tpadding:5px;\n\toverflow:hidden;\n}\n\n#zenario_fbAdminViewModeOptions tr.zenario_ab_row__reset div input {\n\twidth:50% !important;\n}\n\n#zenario_fbAdminViewModeOptions #reset,\n#zenario_fbAdminViewModeOptions #toggle_csv {\n\tfont-weight:bold;\n\tcolor:#F5E100;\n\ttext-decoration:underline;\n}\n\n#zenario_fbAdminViewModeOptions #reset {\n\tfloat: left;\n\twidth: auto;\n}\n\n#zenario_fbAdminViewModeOptions #toggle_csv {\n\tfloat: right;\n\twidth: auto;\n}\n\n\n/*  Styles for the page size switch  */\n\ndiv.organizer_pageSize {\n\tfloat: right;\n\tmargin: 10px;\n}\n\n\n\n\n\n/* Toolbar Buttons */\n\n.zenario_toolbar_header .toolbar a,\n.zenario_toolbar_header .toolbar div {\n\twidth: 28px;\n\theight: 30px;\n}\n\n.zenario_toolbar_header .toolbar div.organizer_button_separator {\n\twidth: 1px;\n\theight: 28px;\n\tbackground:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat right 10px;\n}\n\n.zenario_toolbar_header .toolbar .button {\n\theight: 27px;\n\tline-height: 27px;\n}\n\n.zenario_toolbar_header .toolbar .button a,\n.zenario_toolbar_header .toolbar .button div {\n\tmargin-top: 2px;\n}\n\n.zenario_toolbar_header .toolbar .button img {\n\tborder:none;\n}\n\n\n\n\n\n\n\n\n#organizer_Outer  {\n\twidth: 940px;\n\theight: 616px;\n\toverflow:hidden;\n\tmargin:7px 0px 0px 10px;\n}\n\n#organizer_Outer .organizer_findOuterWrap  {\n}\n\n#organizer_mainColumnsWrap {\n\twidth:100%;\n\toverflow:hidden;\n\tclear:both;\n}\n\n#organizer_bottomWrap {\n\twidth:100%;\n\toverflow:hidden;\n\tclear:both;\n}\n\n#organizer_bottomWrap #organizer_lowerLeftColumn,\n#organizer_bottomWrap #organizer_lowerRightColumn {\n\twidth:25%;\n}\n\n#organizer_bottomWrap #organizer_lowerMiddleColumn {\n\twidth:49%;\n\tmargin:0 0.5%;\n}\n\n#organizer_bottomWrap #organizer_lowerLeftColumn,\n#organizer_bottomWrap #organizer_lowerMiddleColumn {\n\tfloat:left;\n}\n\n#organizer_bottomWrap #organizer_lowerRightColumn {\n\tfloat:right;\n}\n\n#organizer_bottomWrap #organizer_lowerLeftColumn div {\n\tmargin-left:4px;\n\tmargin-right:4px;\n}\n\n.zenario_debugInfo .organizer_info_box,\n#organizer_topRightIcons .organizer_enabled_disabled,\n#organizer_topRightIcons .organizer_info_box,\n#organizer_topRightIcons .organizer_help,\n#organizer_topRightIcons .organizer_diagnostics,\n#organizer_topRightIcons .zenario_debug {\n\twidth:18px;\n\theight:18px;\n\tdisplay:block;\n\tfloat:left;\n\tcursor:pointer;\n}\n\n.zenario_debugInfo .organizer_info_box,\n#organizer_topRightIcons .organizer_enabled_disabled,\n#organizer_topRightIcons .organizer_info_box,\n#organizer_topRightIcons .organizer_help,\n#organizer_topRightIcons .organizer_diagnostics {\n\tmargin-top:8px;\n}\n\n#organizer_topRightIcons .organizer_info_box,\n.zenario_at_dev_icon.organizer_info_box,\n.zenario_debugInfo .organizer_info_box {\n\tcursor: pointer;\n\tbackground: url('../admin/images/icon-info.svg') no-repeat center / auto 18px;\n}\n\n#organizer_topRightIcons .organizer_help {\n\tbackground: url('../admin/images/icon-footer-optimisation-off.png') no-repeat center / 18px 18px;\n}\n\n.zenario_at_dev_icon.organizer_diagnostics,\n#organizer_topRightIcons .organizer_diagnostics {\n\tbackground: url('../admin/images/icon-footer-site-diagnostics.svg') no-repeat center / auto 18px;\n}\n\n#organizer_topRightIcons .organizer_enabled_disabled.site_enabled,\n.zenario_at_dev_icon.site_enabled {\n\tbackground: url('../admin/images/icon-footer-site-enabled-green.svg') no-repeat center / auto 18px;\n}\n\n#organizer_topRightIcons .organizer_enabled_disabled.site_disabled,\n.zenario_at_dev_icon.site_disabled {\n\tbackground: url('../admin/images/icon-site-disabled.svg') no-repeat center / auto 18px;\n}\n\n#organizer_topRightIcons .organizer_enabled_disabled.site_enabled_development,\n.zenario_at_dev_icon.site_enabled_development {\n\tbackground: url('../admin/images/icon-footer-site-enabled.png') no-repeat center / 18px 18px;\n}\n\n#zenario_at_top_left_menu .organizer_item_image.all_languages {\n\tbackground: 15% 30% no-repeat url('../admin/images/icon-languages.svg') / auto 18px;\n}\n\n#organizer_topRightIcons .organizer_help,\n#organizer_topRightIcons .organizer_info_box,\n#organizer_topRightIcons .organizer_enabled_disabled,\n#organizer_topRightIcons .organizer_diagnostics {\n\topacity: 1;\n\ttransition: opacity .25s ease-in-out;\n\t-moz-transition: opacity .25s ease-in-out;\n\t-webkit-transition: opacity .25s ease-in-out;\n}\n\n#organizer_topRightIcons .organizer_help:hover,\n#organizer_topRightIcons .organizer_info_box:hover,\n#organizer_topRightIcons .organizer_enabled_disabled:hover,\n#organizer_topRightIcons .organizer_diagnostics:hover {\n\topacity:0.7;\n}\n\n.zenario_debugInfo .organizer_info_box {\n\tcursor: default;\n}\n\n.zenario_debugInfo td .organizer_info_box {\n\tfloat: none;\n}\n\n#organizer_bottomWrap #organizer_bottomRightForm {\n\tmargin-right:8px;\n}\n\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button {\n\t-webkit-border-radius: 2px 3px 3px 2px/3px;\n\t-moz-border-radius: 2px 3px 3px 2px/3px;\n\tborder-radius: 2px 3px 3px 2px/3px;\n\tbackground-color: #0298c3;\n\tborder: solid 1px #007fa3;\n\tcursor:pointer;\n\tcolor: #FFFFFF;\n\tfont-family: Verdana,Tahoma,Arial,Helvetica,sans-serif;\n\tfont-size: 13px;\n\tpadding: 2px 10px 3px;\n\ttext-shadow: 0 1px 1px #000000;\n\tmargin-top:5px;\n}\n\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button:hover {\n\tbackground-color: #007fa3;\n\t-webkit-box-shadow: 0 0 4px rgba(0,0,0,.45);\n\t-moz-box-shadow: 0 0 4px rgba(0,0,0,.45);\n\tbox-shadow: 0 0 4px rgba(0,0,0,.45);\n\tborder: solid 1px #015d77;\n}\n\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button.submit_disabled,\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button.submit_disabled:hover {\n\tcolor:#848585;\n\ttext-shadow:none;\n\tbackground:#DEDEDE;\n\tborder:1px solid #C5C5C5;\n\t-webkit-box-shadow: none;\n\t-moz-box-shadow: none;\n\tbox-shadow: none;\n\tcursor:auto;\n}\n\n#organizer_rightColumn {\n\toverflow: hidden;\n\tposition:relative;\n}\n\n#organizer_leftColumnOuter  {\n\twidth: 188px;\n\tmargin-right:10px;\n\tfloat: left;  \n\tborder: 1px solid #A2A2A2;\n\t-webkit-box-shadow: 0px 0px 3px 0px #888;\n\tbox-shadow: 0px 0px 3px 0px #888;\n}\n\n#organizer_leftColumn {\n\twidth: 188px;\n\theight: 575px;\n\tbackground: #FFF;\n\tposition:relative;\n}\n\n#organizer_leftColumn #organizer_topLevelNav,\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav {\n\tfloat: left;\n\theight: 100%;\n\toverflow: hidden;\n}\n\n#organizer_leftColumn #organizer_topLevelNav #organizer_topLevelNavInner {\n\tpadding-bottom:60px;\n}\n\n#organizer_leftColumn #organizer_topLevelNavScroll {\n\tclear: both;\n\theight: 0;\n\tposition: absolute;\n\tleft: 0;\n\ttext-align: left;\n\tbottom: 0;\n\twidth: 34px;\n\theight:47px;\n\tpadding-top:10px;\n\tbackground:#333333;\n\tz-index: 98;\n}\n\n#organizer_leftColumn #organizer_topLevelNavScrollUp,\n#organizer_leftColumn #organizer_topLevelNavScrollDown {\n\tcolor: #D1D1D1;\n\tborder: 0 none;\n\theight: 15px;\n\tposition: absolute;\n\twidth: 15px;\n\tz-index: 99;\n\tleft:0;\n\tpadding:0 8px 0 11px\n}\n\n#organizer_leftColumn #organizer_topLevelNavScrollDown {\n\tmargin-top: 15px;\n}\n\n#organizer_leftColumn #organizer_topLevelNavScrollUp.organizer_scrollActive,\n#organizer_leftColumn #organizer_topLevelNavScrollDown.organizer_scrollActive {\n\tcolor: #C5E7F3;\n\tcursor:pointer;\n}\n\n#organizer_leftColumn #organizer_topLevelNav {\n\twidth: 33px;\n\tbackground:#333;\n\tborder-left:1px solid #333;\n\tborder-right:5px solid #00D201;\n}\n\n#organizer_leftColumn #organizer_topLevelNav .organizer_item:first-child {\n\tmargin-top:10px;\n}\n\n#organizer_leftColumn #organizer_topLevelNav .organizer_item {\n\tpadding-bottom:2px;\n\tbackground:url('../admin/images/store_keeper/sk-div-border-black-grey.gif') no-repeat center bottom;\n}\n\n#organizer_leftColumn #organizer_topLevelNav .organizer_item .legend_on {\n\tbackground:#01D103;\n\t-webkit-border-top-left-radius: 2px;\n\t-webkit-border-bottom-left-radius: 2px;\n\t-moz-border-radius-topleft: 2px;\n\t-moz-border-radius-bottomleft: 2px;\n\tborder-top-left-radius: 2px;\n\tborder-bottom-left-radius: 2px;\n}\n\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav {\n\twidth: 146px;\n\tmargin:0 1px;\n}\n\n#organizer_leftColumn .organizer_sectionTitleText {\n\tpadding:12px 5px 12px 15px;\n\tmargin-bottom:12px;\n\tborder-bottom:1px dashed #A1A1A1;\n\tcolor: #333;\n}\n\n#organizer_leftColumn .organizer_sectionTitleText .organizer_sectionTitle {\n\tfont-weight:bold;\n\tpadding:0 0 5px 0;\n}\n\n#organizer_leftColumn .organizer_sectionTitleText .organizer_sectionText {\n\tfont-size:11px;\n}\n\n#organizer_leftColumn .legend_on span,\n#organizer_leftColumn .legend_on a span,\n#organizer_leftColumn .organizer_legend a:hover span{\n\t/*color:#00657a;*/\n}\n\n#organizer_leftColumn .organizer_legend span,\n#organizer_leftColumn .organizer_legend a span{\n\tfont-weight:bold;\n}\n\n#organizer_leftColumn .second_level_item .organizer_legend span,\n#organizer_leftColumn .second_level_item .organizer_legend a span {\n\tfont-weight:normal;\n}\n\n#organizer_leftColumn .second_level_item .legend_on span,\n#organizer_leftColumn .second_level_item .legend_on a span {\n\tfont-weight:bold;\n}\n\n#organizer_leftColumn .organizer_legend a {\n\tdisplay: block;\n\tpadding: 0;\n\tline-height: 35px;\n\theight: 35px;\n\toverflow: hidden;\n\tcolor: #616161;\n\ttext-decoration: none;\n}\n\n#organizer_leftColumn .second_level_item .organizer_legend a {\n\tdisplay: block;\n\tpadding: 0 5px 0 15px;\n\tline-height: 22px;\n\theight: 22px;\n\toverflow: hidden;\n\tfont-size: 8pt;\n}\n\n#organizer_leftColumn .second_level_item .legend_on {\n\tbackground:#BAEFBA;\n}\n\n#organizer_leftColumn .second_level_item .legend_on a span,\n#organizer_leftColumn .second_level_item .organizer_legend a:hover {\n\tcolor: #333;\n}\n\n#organizer_leftColumn .second_level_item.zenario_separator_before_this:before,\n#organizer_leftColumn .second_level_item.zenario_separator_after_this:after {\n\tcontent: \"\";\n\tdisplay: block;\n\theight: 1px;\n\tbackground: #aaa;\n\twidth: 100px;\n\tmargin: 2px 5px 2px 15px;\n}\n\n.organizer_top_level_image.zenario_cms_core_languages {\n\tbackground: url('../admin/images/icon-international-off.png') no-repeat center / 18px 18px;\n}\n\n.organizer_top_level_image.zenario_cms_core_content {\n\tbackground: url('../admin/images/icon-content-items-off.svg') no-repeat center / auto 17px;\n}\n\n.organizer_top_level_image.zenario_cms_core_documents {\n\tbackground: url('../admin/images/icon-documents-off.svg') no-repeat center / auto 17px;\n}\n\n.organizer_top_level_image.zenario_cms_core_administration {\n\tbackground: url('../admin/images/icon-configuration-off.svg') no-repeat center / auto 17px;\n}\n\n.organizer_top_level_image.zenario_cms_core_templates {\n\tbackground: url('../admin/images/icon-layout-off.svg') no-repeat center / auto 16px;\n}\n\n.organizer_top_level_image.zenario_cms_core_users {\n\tbackground: url('../admin/images/icon-users-off.svg') no-repeat center / auto 16px;\n}\n\n.organizer_top_level_image.zenario_cms_core_plugins {\n\tbackground: url('../admin/images/icon-modules-off.svg') no-repeat center / auto 16px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_content,\n#organizer_leftColumn .legend_on a.zenario_cms_core_content,\n.organizer_top_level_image.zenario_cms_core_content:hover {\n\tbackground: url('../admin/images/icon-content-items-on.svg') no-repeat center / auto 17px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_documents,\n#organizer_leftColumn .legend_on a.zenario_cms_core_documents,\n.organizer_top_level_image.zenario_cms_core_documents:hover {\n\tbackground: url('../admin/images/icon-documents-on.svg') no-repeat center / 17px 17px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_templates,\n#organizer_leftColumn .legend_on a.zenario_cms_core_templates,\n.organizer_top_level_image.zenario_cms_core_templates:hover {\n\tbackground: url('../admin/images/icon-layout-on.svg') no-repeat center / 16px 16px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_users,\n#organizer_leftColumn .legend_on a.zenario_cms_core_users,\n.organizer_top_level_image.zenario_cms_core_users:hover {\n\tbackground: url('../admin/images/icon-users-on.svg') no-repeat center / 16px 16px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_languages,\n#organizer_leftColumn .legend_on a.zenario_cms_core_languages,\n.organizer_top_level_image.zenario_cms_core_languages:hover {\n\tbackground: url('../admin/images/icon-international-on.png') no-repeat center / 18px 18px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_plugins,\n#organizer_leftColumn .legend_on a.zenario_cms_core_plugins,\n.organizer_top_level_image.zenario_cms_core_plugins:hover {\n\tbackground: url('../admin/images/icon-modules-on.svg') no-repeat center / 16px 16px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_administration,\n#organizer_leftColumn .legend_on a.zenario_cms_core_administration,\n.organizer_top_level_image.zenario_cms_core_administration:hover {\n\tbackground: url('../admin/images/icon-configuration-on.svg') no-repeat center / 17px 17px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_menu,\n.organizer_top_level_image.zenario_cms_core_menu {\n\tbackground: url('../admin/images/icon-menu-navigation-off.svg') no-repeat center / 17px 17px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_menu,\n.organizer_top_level_image.zenario_cms_core_menu:hover,\n#organizer_leftColumn .legend_on a.zenario_cms_core_menu {\n\tbackground: url('../admin/images/icon-menu-navigation-on.svg') no-repeat center / 17px 17px;\n}\n\n\n#organizer_rightColumn {\n\tmargin: 0px;\n\tfloat: left;\n}\n\n#organizer_rightColumn #organizer_panelTitle table {\n\twidth:100%;\n}\n\n#organizer_rightColumn #organizer_panelTitle .listicon {\n\tdisplay:block;\n\theight:25px;\n\twidth:30px;\n\tfloat:left;\n}\n\n#organizer_rightColumn #organizer_rightColumnTitle {\n\tposition:relative;\n}\n\n#organizer_rightColumn #organizer_rightColumnTitle #organizer_panelTitle {\n\tbackground: none repeat scroll 0 0 #FFFFFF;\n\tborder: 1px solid #C5C5C5;\n\tborder-radius: 2px;\n\tcolor: #000000;\n\theight: 24px;\n\tline-height: 24px;\n\toverflow: hidden;\n\tpadding: 5px 10px;\n\tfont-size: 8pt;\n}\n\n.clearfix:after {\n\tcontent: \".\";\n\tdisplay: block;\n\theight: 0;\n\tclear: both;\n\tvisibility: hidden;\n}\n\t\n.clearfix {display: inline-block;}  /* for IE/Mac */\n\n.body.ie .clearfix {\n\tzoom: 1;\t /* triggers hasLayout */\n\tdisplay: block;\t /* resets display for IE/Win */\n}\n\n.organizer_rightColumnOptions_panel {\n\tmargin-bottom:5px;\n\tborder-bottom:1px solid #DCDCDC;\n\tposition:relative;\n}\n\n.organizer_toolbar,\n.organizer_rightColumnOptions_panel {\n\theight:50px;\n}\n\n/*\tHack to stop buttons from overflowing to the next line  */\n#organizer_rightColumnOptions {\n\twidth: 3000px;\n}\n\n#organizer_collectionToolbar,\n#organizer_itemToolbar,\n#organizer_collectionToolbarWrap,\n#organizer_itemToolbarWrap,\n#organizer_previousToolbar {\n\tdisplay: inline-block;\n}\n\n/*\tSet a solid background on the item buttons, so they cover up the collection buttons if overlayed  */\n#organizer_itemToolbar,\n#organizer_itemToolbarWrap {\n    position: relative;\n    z-index: 50;\n}\n\n#organizer_collectionToolbar a,\n#organizer_itemToolbar a,\n#organizer_previousToolbar a,\n#organizer_quickFilter a {\n\tcursor:pointer;\n}\n\n/* 110518 - Liz\n\n#organizer_collectionToolbar {\n\twidth:210px;\n\toverflow:hidden;\n}\n\n#organizer_collectionToolbar #organizer_collectionToolbarButtons {\n\tdisplay:block;\n\twidth:3000px;\n\theight:50px;\n}*/\n\n\n#organizer_itemToolbar {\n\tz-index:9;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger,\n.organizer_toolbar .toolbarButtons .organizer_button_separator {\n\tfloat:left;\n\tmargin:10px 0 0;\n\theight:20px;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_children span.organizer_button_dropdown_trigger {\n\tmargin:0;\n\theight:auto;\n\tfloat:none;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_children span.organizer_button_dropdown_trigger:hover .label_without_icon {\n\tbackground:#DDF6FD;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .label_without_icon {\n\tpadding:0 10px;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children {\n\tpadding-right:4px;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children a {\n\tbackground: url('../admin/images/icon-arrow-down-dark.svg') no-repeat right 5px / 8px 8px;\n\tpadding-right:12px;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children span.organizer_button_dropdown_trigger a {\n\tbackground:none;\n\tpadding-right:0;\n}\n\n.organizer_toolbar .toolbarButtons div.organizer_button_separator {\n\twidth:2px;\n\tbackground:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat;\n}\n\n.organizer_toolbar .toolbarButtons {\n\tfont-size:11px;\n}\n\n.organizer_toolbar .toolbarButtons a {\n\tcolor:#000;\n\ttext-decoration:none;\n}\n\n.organizer_toolbar .toolbar .organizer_button_dropdown_trigger {\n\tdisplay: block;\n\tfloat: left;\n\tposition:relative;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children {\n\tdisplay: none;\n\ttop: 20px;\n\tleft:0;\n\tz-index:90;\n\tposition: absolute;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children div {\n\tmargin: 0px auto;\n\tpadding: 2px 2px 2px;\n\twidth: 200px;\n\tbackground-image: none;\n\tbackground-color: white;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children a {\n\tdisplay:block;\n\tpadding:5px 0;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children .organizer_button_separator {\n\tdisplay:none;\n}\n\n.organizer_toolbar .toolbar .organizer_button_dropdown_trigger:hover div.organizer_button_children {\n\tdisplay: block;\n}\n\n.organizer_toolbar .toolbar .organizer_button_dropdown_trigger:hover div.organizer_button_children div.organizer_button_children {\n\tdisplay: none;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children div {\n\tclear: left;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children div.organizer_button_separator {\n\tdisplay: none;\n}\n\n/* rightColumn header toolbar Buttons */\n\n.organizer_toolbar .toolbar .toolbarButtons ul,\n.organizer_toolbar .toolbar .toolbarButtons ul li {\n\tlist-style:none;\n\tmargin:0;\n\tpadding:0;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons {\n\tz-index:50;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons,\n.organizer_toolbar .toolbar .toolbarButtons ul,\n.organizer_toolbar .toolbar .toolbarButtons ul li,\n.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\tposition: relative;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul {\n\tz-index:101;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons,\n.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\theight:26px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li,\n.organizer_toolbar .toolbar .toolbarButtons ul li a,\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li a {\n\tdisplay: block;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul,\n.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\tfloat:left;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li a {\n\tfloat:none;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\tdisplay: block;\n\theight:25px;\n\tpadding:10px 15px 6px 15px;\n\ttext-decoration:none;\n}\n\n.organizer_toolbar .toolbar #organizer_collectionToolbarButtons > ul {\n\tmargin-top:5px;\n}\n\n.organizer_toolbar .toolbar #organizer_collectionToolbarButtons > ul > li {\n\tmargin-top:0;\n}\n\n.organizer_toolbar .toolbar#organizer_collectionToolbar .toolbarButtons > ul > li {\n\tbackground:none !important;\n\tpadding-right:0 !important;\n\tmargin-right:5px;\n} \n\n.organizer_toolbar .toolbar#organizer_collectionToolbar .toolbarButtons > ul.organizer_button__settings_dropdown > li {\n\tpadding-right:5px !important;\n} \n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a {\n\tcursor: pointer;\n\theight:auto;\n\ttext-shadow:0 1px 1px #000;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n\tpadding:5px 10px 6px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a {\n\tbackground:#E50707;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a:hover {\n\tbackground:#BA0505;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a {\n\tbackground:#0298C3;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a:hover {\n\tbackground:#007FA3;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a {\n\ttransition:all 0.5s ease 0s;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton:hover a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a:hover,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton:hover a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a:hover {\n\tcolor:#FFF !important;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li {\n\tdisplay:inline-block;\n\tpadding-right:7px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li {\n\theight:auto;\n\tbackground:none;\n\tpadding-left:0;\n\tpadding-right:0;\n\tdisplay:block;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul,\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li a  {\n\theight: auto;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul {\n\tleft:0px;\n\ttop:36px;\n\tz-index:90 !important;\n\tposition: absolute;\n\tmargin: 0px auto;\n\tpadding:0px;\n\tmin-width: 200px;\n\t/*max-height: 35em;\n\toverflow-y:auto;*/\n\tmax-height:70vh;\n\toverflow-y:auto;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li {\n\tpadding: 4px 0;\n\tborder-top:1px solid #DCDCDC;\n\tborder-bottom:1px solid #FFF;\n\tmargin:0 5px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li:first-child {\n\tborder-top:0;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li a  {\n\tpadding: 5px 8px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons a:hover {\n\ttext-decoration:none;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li ul  {\n\ttop: 0;\n\tleft: 100%;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul ul,\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul ul {\n\tdisplay: none;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul {\n\tdisplay: block;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul ul {\n\tbackground:#F6F6F6;\n\tborder:1px solid #808080;\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;\n\t-moz-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;\n\tbox-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;  \n\tposition: relative;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul ul:after {\n\tbottom: 100%;\n\tleft: 20px;\n\tborder: solid transparent;\n\tcontent: \" \";\n\theight: 0;\n\twidth: 0;\n\tposition: absolute;\n\tpointer-events: none;\n\tborder-color: rgba(50, 52, 51, 0);\n\tborder-bottom-color: #323433;\n\tborder-width: 8px;\n\tmargin-left: -8px;\n}\n\n/*.organizer_toolbar .toolbar .toolbarButtons ul ul:after {\n\tborder-color: #F6F6F6 transparent;\n\tborder-style: solid;\n\tborder-width: 0 10px 10px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 15px;\n\twidth: 0;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul ul:before {\n\tborder-color: #333 transparent;\n\tborder-style: solid;\n\tborder-width: 0 12px 12px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 13px;\n\twidth: 0;\n}*/\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_with_children a {\n\tbackground: url('../admin/images/icon-arrow-down-dark.svg') no-repeat right 15px / 8px 8px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li {\n\tdisplay:inline-block;\n\tbackground:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat right 7px;\n\tmargin-top:5px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image {\n\tmargin-top:10px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image,\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image div {\n\tfloat: left;\n\theight: 26px;\n\tbackground-position: left center;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image div {\n\tbackground-position: center center;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons .organizer_items_selected {\n\twhite-space: nowrap;\n\tpadding: 5px 0 0 26px;\n\tmargin: 0 5px 0 0;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul:last-child li {\n\tbackground: none;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li li,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_with_children li a {\n\tbackground:none;\n}\n\n/*.organizer_toolbar .toolbar .toolbarButtons ul li li.label_without_icon {\n\tbackground:url('../admin/images/icon-info.gif') no-repeat right 10px;\n}*/\n\n.organizer_toolbar .toolbar .toolbarButtons ul li li a {\n\t-webkit-transition : background-color 200ms ease-in-out;\n  \t-moz-transition : background-color 200ms ease-in-out;\n  \t-o-transition : background-color 200ms ease-in-out;\n  \ttransition : background-color 200ms ease-in-out;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover a {\n\tcolor:#007FA3;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover li a:hover {\n\tbackground:#fbf290;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover li a {\n\tcolor:#000;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_disabled > a, \n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_disabled:hover > a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_disabled > a,\n.organizer_toolbar .toolbar .toolbarButtons ul li li.organizer_button_disabled > a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_disabled:hover > a,\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul li.organizer_button_disabled > a,\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul li.organizer_button_disabled:hover > a {\n\tcolor: #888 !important;\n\ttext-decoration:none;\n\tcursor:auto !important;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover li.organizer_button_disabled a:hover {\n\tbackground:transparent;\n}\n\n/* Toolbar orange button with children */\n\n/*.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children > a {\n\tbackground:#ea5900;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children > a span {\n\tpadding-right:15px;\n\tbackground: url('../admin/images/icon-arrow-down-white.svg') no-repeat right 5px / 8px 8px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children ul {\n\toverflow-y: auto;\n\ttop:26px;\n\tmax-height:300px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children ul li a {\n\tcolor:#000;\n\ttext-shadow:none;\n}\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children ul li a:hover {\n\tcolor:#027dc9;\n}*/\n\n.organizer_toolbar .toolbar .toolbarButtons > ul > li {\n\t-webkit-transition : background-color 200ms ease-in-out;\n  \t-moz-transition : background-color 200ms ease-in-out;\n  \t-o-transition : background-color 200ms ease-in-out;\n  \ttransition : background-color 200ms ease-in-out;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons > ul > li:hover {\n\tbackground-color:#fbf290;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons > ul > li:hover a {\n\tcolor:#000;\n}\n\n/* Quick filter buttons - hastely copied from the above */\n\n#organizer_quickFilter ul,\n#organizer_quickFilter ul li {\n\tlist-style:none;\n\tmargin:0;\n\tpadding:0;\n}\n\n#organizer_quickFilter {\n\tz-index:51;\n\tdisplay:inline-block;\n\theight:36px;\n\tpadding:0 5px 0 3px;\n\tborder:1px solid #B9B9B9;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n\t-webkit-box-shadow:inset 0 0 3px 2px #ECECEC;\n\tbox-shadow:inset 0 0 3px 0 #ECECEC;\n\tbackground:#FFF;\n\tfont-size:11px;\n}\n\n#organizer_quickFilter,\n#organizer_quickFilter ul,\n#organizer_quickFilter ul li,\n#organizer_quickFilter ul li a {\n\tposition: relative;\n}\n\n#organizer_quickFilter ul li,\n#organizer_quickFilter ul li a {\n\tdisplay: block;\n}\n\n#organizer_quickFilter ul {\n\tz-index:101;\n}\n\n#organizer_quickFilter ul,\n#organizer_quickFilter ul li a {\n\tfloat:left;\n}\n\n#organizer_quickFilter ul li {\n\tmargin-left:2px;\n\theight:auto;\n\tbackground:none;\n\tpadding-left:0;\n\tpadding-right:0;\n}\n\n#organizer_quickFilter ul li a {\n\tdisplay: block;\n\tline-height:24px;\n\tpadding:0 12px 0 12px;\n\tcolor: black;\n\tbackground-color:#E6E6E6;\n\tborder:1px solid #D0D0D0;\n\ttext-decoration:none;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n\tmargin-top:5px;\n}\n\n#organizer_quickFilter ul li.group_break a {\n\tpadding: 0 2px;\n\tbackground:transparent;\n\tborder:0;\n}\n\n#organizer_quickFilter ul li a span {\n\tpadding-bottom:20px;\n}\n\n#organizer_quickFilter ul ul,\n#organizer_quickFilter ul ul li a  {\n\theight: auto;\n}\n\n#organizer_quickFilter ul ul li a  {\n\tfloat:none;\n\tline-height:18px;\n\tborder:0;\n\tmargin:0;\n\tpadding:3px 5px 4px;\n}\n\n#organizer_quickFilter ul li li a span {\n\tpadding-bottom:0;\n}\n\n#organizer_quickFilter ul ul {\n\twidth: 200px;\n\tz-index:90 !important;\n\tposition: absolute;\n\ttop:38px;\n\tleft:0;\n\tmargin: 0px auto;\n\tpadding:0 0 5px;\n}\n\n#organizer_quickFilter ul ul li {\n\tpadding:0;\n\tborder-top:1px solid #747474;\n\tborder-bottom:1px solid #000;\n\tmargin:0 5px;\n}\n\n#organizer_quickFilter ul ul li:first-child {\n\tborder-top:0;\n}\n\n#organizer_quickFilter ul ul li:last-child {\n\tborder-bottom:0;\n}\n\n#organizer_quickFilter ul li ul li ul  {\n\ttop: 0;\n\tleft: 100%;\n}\n\n#organizer_quickFilter ul ul,\n#organizer_quickFilter ul li:hover ul ul {\n\tdisplay: none;\n}\n\n#organizer_quickFilter ul li:hover ul {\n\tdisplay: block;\n}\n\n#organizer_quickFilter ul ul {\n\tbackground:#333333;\n\tborder:1px solid #333;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\t-webkit-box-shadow: 0 0 3px 0 #D6D6D6;\n\tbox-shadow: 0 0 3px 0 #D6D6D6;  \n}\n\n#organizer_quickFilter ul ul:after {\n\tborder-color: #333333 transparent;\n\tborder-style: solid;\n\tborder-width: 0 8px 8px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 15px;\n\twidth: 0;\n}\n\n#organizer_quickFilter ul ul:before {\n\tborder-color: #333 transparent;\n\tborder-style: solid;\n\tborder-width: 0 10px 10px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 13px;\n\twidth: 0;\n}\n\n#organizer_quickFilter ul li.organizer_button_with_children > a {\n\tbackground: url('../admin/images/icon-arrow-down-dark.svg') no-repeat right center / 8px 8px;\n\tline-height:28px;\n\tmargin-top:3px;\n\tpadding-right:25px;\n}\n\n/*\n\tFix a bug with that image having the wrong size - CSS 3 only\n*/\n#organizer_quickFilter ul li.organizer_button_with_children > a {\n\tbackground-position: right 5px center;\n}\n\n#organizer_quickFilter ul li li,\n#organizer_quickFilter ul li.organizer_button_with_children li a {\n\tbackground:none;\n}\n\n#organizer_quickFilter a:hover {\n\ttext-decoration:none;\n}\n\n#organizer_quickFilter ul li:hover a {\n\tcolor:#333;\n}\n\n#organizer_quickFilter ul li li a,\n#organizer_quickFilter ul li:hover li a {\n\tcolor:#FFF;\n}\n\n#organizer_quickFilter ul li:hover li a:hover{\n\tcolor:#43D4F4;\n}\n\n#organizer_quickFilter ul ul li.organizer_qfb_enabled a,\n#organizer_quickFilter ul ul li.organizer_qfb_enabled a:hover {\n\tcolor:#01d300;\n}\n\n#organizer_quickFilter ul ul li.organizer_qfb_enabled a span {\n\tdisplay:inline-block;\n}\n\n#organizer_quickFilter ul ul li.organizer_qfb_enabled a span:after {\n\tcontent:' \\2713';\n}\n\n\n/*  Change the background colour if a quick filter button is enabled  */\n\n#organizer_quickFilter ul > li:hover a {\n\tbackground-color:#CFEAFB;\n}\n\n#organizer_quickFilter ul li.organizer_qfb_no_child.organizer_qfb_enabled  a {\n\tbackground-color:#01D300;\n\tborder:0;\n\tmargin:6px 1px 1px 1px;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n}\n\n#organizer_quickFilter ul li.organizer_qfb_enabled ul a {\n\tmargin:0;\n}\n\n#organizer_quickFilter ul li.organizer_qfb_with_child_enabled > a {\n\tbackground:#01d300 url('../admin/images/store_keeper/arrow-dropdown-grey-space-right.png') no-repeat right center;\n\tborder:1px solid #C6C6C6;\n\tmargin:0;\n\tpadding-right:25px;\n\tline-height:28px;\n\tmargin-top:3px;\n}\n\n#organizer_Outer div.organizer_item {\n\tcursor: pointer;\n}\n\n\n\n/*\tThe \"Item selected\" message, used in the conductor  */\n\n#organizer_selected {\n\tfloat: right;\n\tmargin: 10px 20px 0px 0px;\n}\n\n\n\n/* Top breadcrumbs > organizer_backButton */\n\n#organizer_backButton {\n\tdisplay:inline-block;\n\tfont-size:10px;\n\toverflow:hidden;\n\tpadding-left:30px;\n}\n\n#organizer_backButton span.level a {\n\tdisplay:block;\n\tfloat: left;\n\twidth: 46px;\n\theight: 39px;\n\tmargin-right: -14px;\n\tpointer-events: none;\n\tcolor: transparent;\n\tbackground:url('../admin/images/chevron.svg') no-repeat 0 0 / 46px 40px;\n}\n\n#organizer_backButton span.organizer_lastBackButton a {\n\twidth:auto;\n\tmax-width:300px;\n\tpadding: 0 14px 0 60px;\n\tline-height:36px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\tcolor: #ffffff;\n\tcursor:pointer;\n\tpointer-events:auto;\n}\n\n#organizer_backButton span.organizer_lastBackButton:hover a {\n\ttext-decoration:underline;\n}\n\n/* end Top breadcrumbs > organizer_backButton */\n\n#organizer_rightColumnContent {\n\t/*height: 508px;*/\n\twidth: 738px;\n\t/*overflow-x: auto !important;\n\toverflow-y: hidden !important;*/\n\toverflow: auto;\n\ttext-align:left;\n\tposition: relative;\n\tborder: 1px solid #484848;\n\tbackground:#FFF;\n}\n\n#organizer_rightColumnContent .organizer_header {\n\tposition: relative;\n\tz-index: 5;\n}\n\n#organizer_rightColumn .organizer_dropToUpload {\n\tdisplay:none;\n\tfloat: right;\n\tmargin-left:20px;\n\tpadding:8px 12px;\n\tposition:absolute;\n\ttop:5px;\n\tright:7px;\n\tcolor:#000;\n\tfont-size:11px;\n\tbackground:#f6f6f6;\n\tborder:2px dashed #CDCDCD;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n#organizer_rightColumn.upload_enabled .organizer_dropToUpload {\n\tdisplay: block;\n}\n\n#organizer_rightColumn.upload_enabled #organizer_rightColumnContent,\n#organizer_rightColumn.upload_enabled .organizer_dropToUpload div {\n\tborder: 1px solid #C3C3C3;\n}\n\n#organizer_rightColumn.upload_enabled.dragover #organizer_rightColumnContent,\n#organizer_rightColumn.upload_enabled.dragover .organizer_dropToUpload div {\n\tborder: 1px solid #24e024;\n}\n\n#organizer_rightColumn.upload_enabled .organizer_dropToUpload div,\n#organizer_rightColumn.upload_enabled.dragover .organizer_dropToUpload div {\n\tborder-bottom: none;\n\tbackground: #f8f8f8;\n}\n\n#organizer_rightColumnContent.organizer_grid_view {\n\toverflow-x: hidden !important;\n}\n\n#organizer_list_view,\n#organizer_items_wrapper {\n\twidth: 100%;\n}\n\n#organizer_rightColumnContent div.organizer_list_view {\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tmargin: 0px;\n}\n\n#organizer_rightColumnContent div.organizer_row {\n\toverflow:hidden;\n\tclear:both;\n\tborder-bottom:1px solid #C4C4C4;\n\toverflow:hidden;\n}\n\n#organizer_rightColumnContent div.organizer_non_sortable_resizeable_cols,\n#organizer_rightColumnContent div.organizer_sort_and_resize_wrapper {\n\tfloat:left;\n}\n\n#organizer_rightColumnContent div.organizer_header div.organizer_cell,\n#organizer_rightColumnContent div.organizer_list_view div.organizer_cell {\n\tfloat:left;\n\tposition: relative;\n}\n\n#organizer_rightColumnContent .organizer_header div#organizer_checkbox_col,\n#organizer_rightColumnContent div.organizer_list_view div.organizer_checkbox_col {\n\twidth:25px;\n}\n\n#organizer_rightColumnContent .organizer_header div#organizer_checkbox_col div {\n\twidth: 100%;\n\theight: 100%;\n}\n\n/*#organizer_rightColumnContent div.organizer_list_view .organizer_list_view_body {\n\tborder-bottom:1px solid #C4C4C4;\n}*/\n\n#organizer_rightColumnContent .ui-sortable div.organizer_row,\n#organizer_rightColumnContent .ui-sortable div.organizer_row div.organizer_cell {\n\tcursor:move;\n}\n\n#organizer_rightColumnContent div.organizer_row {\n\tdisplay:block;\n}\n\n#organizer_rightColumnContent div.organizer_list_view div.organizer_cell {\n\tdisplay:block;\n}\n\n#organizer_rightColumnContent div.organizer_row:hover,\n#organizer_rightColumnContent div.organizer_row:hover .organizer_cell {\n\tbackground-color: #DCF5FD;\n}\n\n#organizer_rightColumnContent div.organizer_row {\n\tbackground-color: #FFF;\n}\n\n#organizer_rightColumnContent div.organizer_cell.label_column,\n#organizer_rightColumn div.itemDetail div.organizer_inner_content h2 {\n\tfont-weight:bold;\n\tcolor:#333;\n}\n\n#organizer_rightColumnContent div.organizer_cell.label_column .organizer_cell_line {\n\tfont-weight: normal;\n}\n\n#organizer_rightColumnContent .organizer_cell_line {\n\tfont-style: italic;\n}\n\n#organizer_rightColumnContent .organizer_cell_line.no_italics {\n\tfont-style: normal;\n}\n\n#organizer_rightColumnContent .organizer_grid_view .organizer_checkbox_at_top_left {\n\tposition: relative;\n\tfloat: left;\n\tz-index: 2;\n}\n\n/*  Hack to make the title bar appear full-width in grid view  */\n\n#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row {\n\twidth: 100%;\n\toverflow: hidden;\n}\n\n#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row .organizer_non_sortable_resizeable_cols {\n\twidth: 150%;\n}\n\n#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row .organizer_non_sortable_resizeable_cols .action_column {\n\twidth: 90%;\n}\n\n\n\n#organizer_rightColumnContent .organizer_grid_view .item {\n\twidth:18%;\n\tpadding:10px 6px;\n\tfloat:left;\n\tborder-bottom:1px solid #C5C3C4;\n\tborder-right:1px solid #C5C3C4;\n}\n\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item {\n\twidth: 180px;\n\theight: 270px;\n\tfloat:left;\n\tpadding: 2px 6px;\n\tborder-bottom:1px solid #C5C3C4;\n\tborder-right:1px solid #C5C3C4;\n\tmargin:0;\n\tfont-size:12px;\n\tline-height:13px;\n\tbackground:#FFF;\n}\n\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item:hover {\n\tbackground:#DDF6FD;\n}\n\n#organizer_rightColumn .organizer_grid_view div.organizer_selected,\n#organizer_rightColumn .organizer_grid_view div.ui-selecting,\n#organizer_rightColumn .organizer_grid_view div.organizer_selected:hover,\n#organizer_rightColumn .organizer_grid_view div.ui-selecting:hover {\n\tbackground:#FCF291;\n}\n\n\n/*\n\tPlaceholder code by Chris - attempting to give a yellow background to the item toolbar\n*/\n/*#organizer_rightColumn #organizer_itemToolbar {\n\tbackground: #f5e687;\n\tbackground: linear-gradient(#f5e687, #f5e687 27px, rgba(255,0,0,0) 10%);\n}*/\n\n\n/*\n\tPlaceholder code by Chris - attempting to give the item toolbar a yellow flash every time it changes, and the collection toolbar a white flash every time it changes\n*/\n@keyframes yellow_flash {\n\t0%   {background: #F6F6F6;}\n\t50%  {background: #f5e687;}\n\t100% {background: #F6F6F6;}\n}\n\n@-webkit-keyframes yellow_flash {\n\t0%   {background: #F6F6F6;}\n\t50%  {background: #f5e687;}\n\t100% {background: #F6F6F6;}\n}\n\n/*#organizer_rightColumn #organizer_itemToolbar  {\n\tanimation: yellow_flash 1s;\n\t-webkit-animation: yellow_flash 1s;\n}*/\n\n#organizer_rightColumn #organizer_itemToolbar {\n\tpadding-left: 8px;\n\tbox-sizing: border-box;\n}\n\n#organizer_rightColumn #organizer_collectionToolbar,\n#organizer_rightColumn #organizer_itemToolbar,\n#organizer_rightColumn #organizer_collectionToolbarWrap,\n#organizer_rightColumn #organizer_itemToolbarWrap {\n\theight:49px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons > ul {\n}\n\n/*\n\tN.b. I've dispalyed the \"white flash\" on the collection buttons as it doesn't\n\tlook very nice when they are always displayed along with the item buttons\n*/\n/*\n#organizer_rightColumn #organizer_collectionToolbar {\n\tanimation: white_flash 1s;\n\t-webkit-animation: white_flash 1s;\n}\n\n@keyframes white_flash {\n\t0%   {background: #F6F6F6;}\n\t50%  {background: #ffffff;}\n\t100% {background: #F6F6F6;}\n}\n\n@-webkit-keyframes white_flash {\n\t0%   {background: #F6F6F6;}\n\t50%  {background: #ffffff;}\n\t100% {background: #F6F6F6;}\n}\n*/\n\n\n\n\n\n/*\n\tIcons for the drop-down menus in Organizer for site settings/dataset settings\n*/\n.organizer_settings_dropdown > a > span {\n\tfont-size: 0;\n    width: 13px;\n    height: 13px;\n    line-height: 13px;\n    display: inline-block;\n}\n\n.organizer_button__settings_dropdown .organizer_settings_dropdown > a > span {\n\tbackground: url('../admin/images/icon-site-settings-dark.svg') no-repeat center center;\n}\n\n.organizer_button__dataset_dropdown .organizer_settings_dropdown > a > span {\n\tbackground: url(\"../admin/images/icon-datasets-dark.svg\") no-repeat center center;\n}\n\n\n#organizer_rightColumnContent .organizer_grid_view {\n\tfont-family:Arial,Verdana,Helvetica,Sans-Serif;\n}\n\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item table th,\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item table td {\n\tfont-size:11px;\n}\n\n#organizer_rightColumnContent .organizer_grid_view div.organizer_image_container {\n\tmargin:auto;\n\tpadding-bottom:8px;\n}\n\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item .organizer_legend {\n\tcolor:#007FA2;\n\tfont-weight:bold;\n\tline-height:12px;\n\tmargin-top:5px;\n\t/*height:14px;\n\toverflow:hidden; */\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.right {\n\ttext-align: right;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell {\n\tpadding: 3px 5px;\n\tposition:relative;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row,\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell {\n\tbackground: #333;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_desc,\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_asc {\n\tbackground-color:#5F5F5F;\n\tbackground-repeat:no-repeat;\n\tbackground-position:right center;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.organizer_can_sort {\n\tbackground-image:url('../admin/images/sort-arrow-white-down-v2.png');\n\tbackground-repeat:no-repeat;\n\tbackground-position:right center;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_desc {\n\tbackground-image:url('../admin/images/sort-arrow-green-down.png');\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_asc {\n\tbackground-image:url('../admin/images/sort-arrow-green-up.png');\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row .ui-resizable .ui-resizable-e {\n\twidth:15px;\n\tz-index:10 !important;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell {\n\theight: 29px;\n\tcolor:#FFF;\n\tfont-weight:bold;\n\tvertical-align:middle;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell .label {\n\tline-height:24px;\n\tpadding-right:20px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell,\n#organizer_rightColumnContent div.organizer_row span.organizer_cell {\n\theight: 25px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell,\n#organizer_rightColumnContent div.organizer_row span.organizer_cell,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell a,\n#organizer_rightColumnContent div.organizer_row span.organizer_cell a {\n\tcolor: #202020;\n}\n\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows .organizer_list_view_body_wrap div.organizer_row div.organizer_cell,\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows .organizer_list_view_body_wrap div.organizer_row span.organizer_cell {\n\t/*height: 67px;*/\n\tmin-height: 50px;\n}\n\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell {\n\tborder-style:solid;\n\tborder-width: 0 1px 0 0;\n}\n\n#organizer_rightColumnContent .itemDetail .organizer_col_label {\n\tfont-weight: bold;\n\twhite-space: nowrap;\n\ttext-align: right;\n}\n\n#organizer_rightColumnContent .close_up_view .organizer_col_label {\n\tmin-width: 120px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.firstcol {\n\tborder-left-width: 0px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.firstrow {\n\tborder-top-width: 0px;\n}\n\n#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_can_filter span.icon {\n\twidth:18px;\n\theight:19px;\n\tdisplay:block;\n\tbackground: url(\"../admin/images/icon-filter-blue.svg\") no-repeat center / auto 11px;\n\tposition:absolute;\n\tright:3px;\n\ttop:3px;\n\tcursor:pointer;\n}\n\n#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_filtering span.icon {\n\twidth:18px;\n\theight:19px;\n\tdisplay:block;\n\tbackground: url(\"../admin/images/icon-filter-blue.svg\") no-repeat center / auto 11px;\n\tposition:absolute;\n\tright:3px;\n\ttop:3px;\n\tcursor:pointer;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell {\n\tborder-color:#C4C4C4;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col {\n\tbackground-color:#FFF;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row:hover div.organizer_checkbox_col {\n\tbackground-color: #DCF5FD;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_selected div.organizer_checkbox_col,\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_selected:hover div.organizer_checkbox_col {\n\tbackground-color:#FBF290;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell {\n\tborder-top-width: 0px;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_cant_choose div.organizer_cell,\n#organizer_rightColumnContent div.organizer_row.organizer_non_search_match,\n#organizer_rightColumnContent div.organizer_row.organizer_non_search_match div.organizer_cell {\n\tfilter: alpha(opacity=60); /* internet explorer */\n\t-khtml-opacity: 0.6;\t  /* khtml, old safari */\n\t-moz-opacity: 0.6;\t   /* mozilla, netscape */\n\topacity: 0.6;\t\t   /* fx, safari, opera */\n}\n\n\n/*  Hide the select checkboxes if they're disabled  */\n#organizer_rightColumnContent div.organizer_row.organizer_cant_choose .organizer_checkbox_col input {\n\tdisplay: none;\n}\n\n/*  However if some other checkboxes on this row are visible, use visibility hidden instead to keep things lining up  */\n#organizer_rightColumnContent ol.organizer_can_choose_children div.organizer_row.organizer_cant_choose .organizer_checkbox_col input {\n\tvisibility: hidden;\n\tdisplay: inline;\n}\n\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.brown_line div.organizer_cell {\n\tbackground-color: #993300;\n}\n\n#organizer_rightColumnContent div.organizer_row.brown_line div.organizer_cell {\n\tbackground-color: #663300;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected {\n\tbackground-color: #FBF290;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.brown {\n\tbackground-color: #663300;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.brown {\n\tbackground-color: #993300;\n}\n\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.blue_line div.organizer_cell {\n\tbackground-color: #0099FF;\n}\n\n#organizer_rightColumnContent div.organizer_row.blue_line div.organizer_cell {\n\tbackground-color: #0066FF;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell {\n\tbackground-color: #FBF290;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.blue {\n\tbackground-color: #0066FF;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.blue {\n\tbackground-color: #0099FF;\n}\n\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.orange_line div.organizer_cell {\n\tbackground-color: #FF9900;\n}\n\n#organizer_rightColumnContent div.organizer_row.orange_line div.organizer_cell {\n\tbackground-color: #FF6600;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell,\n#organizer_rightColumnContent div.organizer_row.organizer_selected:hover .organizer_cell {\n\tbackground-color: #FBF290;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.orange {\n\tbackground-color: #FF6600;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.orange {\n\tbackground-color: #FF9900;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.yellow_line div.organizer_cell {\n\tbackground-color: #faf29f;\n}\n\n#organizer_rightColumnContent div.organizer_row.yellow_line div.organizer_cell {\n\tbackground-color: #f6e17a;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.yellow {\n\tbackground-color: #f6e17a;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.yellow {\n\tbackground-color: #faf29f;\n}\n\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.green_line div.organizer_cell {\n\tbackground-color: #b5eec2;\n}\n\n#organizer_rightColumnContent div.organizer_row.green_line div.organizer_cell {\n\tbackground-color: #90dea2;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell {\n\tbackground-color: #FBF290;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.green {\n\tbackground-color: #90dea2;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.green {\n\tbackground-color: #b5eec2;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.red {\n\tbackground-color: #D90000;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.red {\n\tbackground-color: #E43B00;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.warning_line div.organizer_cell {\n\tbackground-color: #f6a9a4;\n}\n\n#organizer_rightColumnContent div.organizer_row.warning_line div.organizer_cell {\n\tbackground-color: #edc6c4;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell {\n\tbackground-color: #FBF290;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.warning {\n\tbackground-color: #edc6c4;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.warning {\n\tbackground-color: #f6a9a4;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.action_column {\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell .listicon,\n#organizer_rightColumn div.organizer_slidedown_view .listicon,\n#organizer_rightColumn div.organizer_slidedown_view .listicon>div {\n\theight: 23px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon > div {\n\theight:25px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_list_view_icon {\n\twidth: 24px;\n\theight: 25px;\n}\n\n#organizer_rightColumn div.organizer_item_image.organizer_list_view_image {\n\tbackground-position: 30% center;\n}\n\n#organizer_rightColumn div.organizer_item_image.organizer_list_view_image,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon > div.organizer_item_with_image {\n\tbackground-size:contain;\n}\n\n.organizer_item_image.zenario_nest_tab {\n\tbackground:url('../admin/images/icon-tabs.svg') no-repeat center center / 20px auto;\n}\n\n#organizer_rightColumn div.organizer_slidedown_view .listicon,\n#organizer_rightColumn div.organizer_slidedown_view .listicon>div {\n\tpadding-left: 20px;\n\theight: 20px;\n}\n\n/*  Inline buttons  */\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons {\n\twidth: auto;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons {\n\tfloat:left;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div {\n\tpadding: 1px 1px 1px 1px;\n\tmargin: 1px 1px 1px 1px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div {\n\tmargin-top:3px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div {\n\tmargin-top:2px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons a,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons a {\n\tdisplay: block;\n\twidth: 16px;\n\theight: 16px;\n\tfloat: left;\n}\n\n.organizer_inline_buttons .zenario_ib_warning {\n\tbackground:url('../admin/images/icon-warning.svg') no-repeat center center / 18px 18px;\n\twidth: 18px;\n\theight: 18px;\n}\n\n/*\tPlaceholder styles for testing layout inline buttons  */\n.organizer_inline_buttons .zenario_ib_active {\n\tbackground:url('../admin/images/icon-layout-active.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_inline_buttons .zenario_ib_default {\n\tbackground:url('../admin/images/icon-layout-default-active.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_inline_buttons .zenario_ib_archived {\n\tbackground:url('../admin/images/icon-layout-archived.svg') no-repeat center center / 16px 16px;\n}\n\n\n\n.zenario_inline_warning {\n\tbackground:url('../admin/images/icon-warning.svg') no-repeat left center / 18px 18px;\n\tmargin: 2px;\n\tpadding-left: 24px;\n\theight: 18px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.organizer_no_border td {\n\tborder-style: none;\n\tborder-width: 0;\n\theight: auto;\n\tpadding: 0;\n\tcolor: #202020;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell td.item_link {\n\ttext-align: right;\n\twhite-space: nowrap;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link tr td .listicon {\n\tmargin: 2px 0 0 2px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text {\n\tpadding: 2px 0 0;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text a,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text a:visited,\n#organizer_rightColumn .organizer_slidedown_view table td a {\n\tcolor: #202020;\n\tcursor: pointer;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link tr td .listicon a {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: block;\n\ttext-decoration: none;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell td.item_link img {\n\tborder: none;\n\twidth: 27px;\n\theight: 21px;\n\tpadding: 3px 2px 0 3px;\n}\n\n#organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon {\n\topacity: 0.3;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_untranslated_menu_node .organizer_cell_items {\n\tfont-style: italic;\n}\n\nbody.ie6 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon,\nbody.ie7 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon {\n\tfilter: alpha(opacity=30);\n}\n\nbody.ie8 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon {\n\t-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost {\n\tcolor: #a7aeaf;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost table.item_link td.organizer_item_link_text a,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost table.item_link td.organizer_item_link_text a:visited {\n\tcolor: #abb0b2;\n}\n\n\n/*  Movement cursors for Shuffling  */\n\n#organizer_rightColumnContent span.organizer_sortable div.organizer_item,\n#organizer_rightColumnContent div.organizer_list_view tbody.organizer_sortable tr,\n#organizer_rightColumnContent div.organizer_list_view tbody.organizer_sortable tr *,\n#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_sortable {\n\tcursor: move;\n}\n\n#organizer_rightColumnContent span.organizer_sortable div.organizer_item a,\n#organizer_rightColumnContent div.organizer_list_view .organizer_list_view_body.organizer_sortable div.organizer_row a,\n#organizer_rightColumnContent div.organizer_list_view .organizer_list_view_body.organizer_sortable div.organizer_row a * {\n\tcursor: pointer;\n}\n\n\n\n#organizer_rightColumn div.organizer_row div.organizer_cell {\n\tvertical-align: top;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.firstcol {\n\tvertical-align: middle;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell,\n#organizer_rightColumn div.organizer_row div.organizer_cell div.organizer_cell_line {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tword-wrap: normal;\n\toverflow:hidden;\n}\n\n#organizer_rightColumn .organizer_list_view_with_tall_rows div.organizer_row div.organizer_cell {\n\twhite-space: normal;\n}\n\n.organizer_item_image.zenario_menunode_internal {\n\tbackground:url('../admin/images/icon-menu-node-1-dark.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.zenario_menunode_internal_unique {\n\tbackground:url('../admin/images/icon-menu-node-main.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.zenario_menunode_internal_secondary {\n\tbackground:url('../admin/images/icon-menu-node-2-dark.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.zenario_menunode_unlinked {\n\tbackground:url('../admin/images/icon-menu-node-unlinked.svg') no-repeat center center / 16px 16px;\n}\n\n/*#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon>div.ghost,\n#organizer_rightColumn div.organizer_slidedown_view .listicon>div.ghost {*/\n.organizer_item_image.ghost {\n\tbackground:url('../admin/images/icon-ghost.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.zenario_menunode_external {\n\tbackground:url('../admin/images/icon-external-url.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.no_icon {\n\tbackground-image: none;\n}\n\n.organizer_item_image.ghost {\n\topacity: 0.3;\n}\n\nbody.ie6 #organizer_rightColumn div.organizer_row div.organizer_cell div.ghost,\nbody.ie7 .organizer_item_image.ghost {\n\tfilter: alpha(opacity=30);\n}\n\nbody.ie8 .organizer_item_image.ghost {\n\t-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";\n}\n\n.Token .organizer_item_image.ghost {\n\topacity:1;\n\t-webkit-filter: invert(.8);\n  \tfilter: invert(.8);\n}\n\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell {\n\tdisplay:inline-block;\n\twidth:20px !important;\n\theight:20px;\n\ttext-indent:-999;\n\tfont-size:0;\n\tline-height:0;\n}\n\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell {\n\tbackground:url('../admin/images/icon-eye-visible.svg') no-repeat center 6px / 16px 16px;\n}\n\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell.invisible_menu_node {\n\tbackground:url('../admin/images/icon-eye-hidden.svg') no-repeat center 6px / 16px 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.privacy_inline_button a {\n\tcursor: default;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_group_members div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_with_role div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_logged_in div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_send_signal div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_call_static_method div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_public div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_logged_out div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_in_smart_group div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_logged_in_not_in_smart_group div.organizer_cell div.privacy_inline_button a {\n\tbackground-image:url('../admin/images/icon-permissions.svg');\n\tbackground-repeat:no-repeat;\n\tbackground-position:center center;\n\tbackground-size:auto 12px;\n\t-webkit-border-radius: 0;\n\t-moz-border-radius: 0;\n\tborder-radius: 0;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_group_members div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#D7ABEA;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_with_role div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#AAEBCC;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_logged_in div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#EBACB3;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_send_signal div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_call_static_method div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#EBD8AA;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_public div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_logged_out div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#e2e2e2;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_in_smart_group div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_logged_in_not_in_smart_group div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#ABD3EB;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_layout_inline_button a {\n\tbackground: #e2e2e2;\n\tcolor: #3c3c3c;\n\tfont-size: 7px;\n\tline-height: 15px;\n\tposition: relative;\n\ttext-align: center;\n\ttop: -1px;\n\tcursor:pointer;\n\t-webkit-transition: all 0.2s ease-in-out;\n  \t-moz-transition: all 0.2s ease-in-out;\n  \t-o-transition: all 0.2s ease-in-out;\n  \ttransition: all 0.2s ease-in-out;\n}\n\n/*\n\tPlaceholder for email templates in debug mode\n*/\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.view_frontend,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.view_frontend {\n\tbackground: url('../admin/images/icon-go-to-content-item-off.svg') no-repeat center center / 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.view_frontend:hover,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.view_frontend:hover {\n\tbackground: url('../admin/images/icon-go-to-content-item-hover.svg') no-repeat center center / 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.inspect,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.inspect {\n\tbackground: url('../admin/images/icon-quick-view-off.svg') no-repeat center center / 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.inspect:hover,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.inspect:hover {\n\tbackground: url('../admin/images/icon-quick-view-hover.svg') no-repeat center center / 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.no_categories,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.no_categories {\n\tbackground: url('../admin/images/icon-categories-inline.png') no-repeat center center / 16px 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.one_or_more_categories,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.one_or_more_categories {\n\tbackground: url('../admin/images/icon-categories-one-or-more.png') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.user {\n\tbackground: url('../admin/images/icon-users-and-contacts.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.zenario_suspended_users {\n\tbackground: url('../admin/images/icon-suspended-users.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.zenario_consent {\n\tbackground: url('../admin/images/icon-consents-dark.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.zenario_smart_group {\n\tbackground: url('../admin/images/icon-smart-groups.svg') no-repeat center center / 18px;\n}\n\n.organizer_item_image.zenario_smart_perms_group {\n\tbackground: url('../admin/images/icon-smart-permissions.svg') no-repeat center center / 18px;\n}\n\n.organizer_item_image.zenario_smart_news_group {\n\tbackground: url('../admin/images/icon-smart-newsletter-group.svg') no-repeat center center / 18px;\n}\n\n.organizer_item_image.zenario_group {\n\tbackground: url('../admin/images/icon-groups.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.roles {\n\tbackground: url('../admin/images/icon-roles.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.pending_comment {\n\tbackground: url('../admin/images/icon-pending-comments-dark.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.zenario_forum__forum {\n\tbackground: url('../admin/images/icon-salutations-dark.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.backup {\n\t/* to add */\n}\n\n.organizer_item_image.admin_item {\n\tbackground: url('../admin/images/icon-administrator.svg') no-repeat center center / 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_draft_published,\n.organizer_item_image.home_content_draft_published {\n\tbackground:url(\"../admin/images/icon-content-home-draft-published.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_published,\n.organizer_item_image.home_content_published {\n\tbackground:url(\"../admin/images/icon-content-home-published.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_draft,\n.organizer_item_image.home_content_draft {\n\tbackground:url(\"../admin/images/icon-content-home-draft.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_published,\n.organizer_item_image.special_content_draft_published {\n\tbackground:url(\"../admin/images/icon-content-special-draft-published.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_published,\n.organizer_item_image.special_content_published {\n\tbackground:url(\"../admin/images/icon-special-pages.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_hidden,\n.organizer_item_image.special_content_draft_hidden {\n\tbackground:url(\"../admin/images/icon-content-special-draft-hidden.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_hidden,\n.organizer_item_image.special_content_hidden {\n\tbackground:url(\"../admin/images/icon-content-special-hidden.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft,\n.organizer_item_image.special_content_draft{\n\tbackground:url(\"../admin/images/icon-content-special-draft.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_trashed,\n.organizer_item_image.special_content_draft_trashed {\n\tbackground:url(\"../admin/images/icon-content-special-draft-trashed.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_trashed,\n.organizer_item_image.special_content_trashed {\n\tbackground:url(\"../admin/images/icon-content-special-trashed.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_published,\n.organizer_item_image.content_draft_published {\n\tbackground:url(\"../admin/images/icon-content-draft-published.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_published,\n.organizer_item_image.content_published {\n\tbackground:url(\"../admin/images/icon-content-published.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_hidden,\n.organizer_item_image.content_draft_hidden {\n\tbackground:url(\"../admin/images/icon-content-draft-hidden.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_hidden,\n.organizer_item_image.content_hidden {\n\tbackground:url(\"../admin/images/icon-content-hidden.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft,\n.organizer_item_image.content_draft {\n\tbackground:url(\"../admin/images/icon-content-draft.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_trashed,\n.organizer_item_image.content_draft_trashed {\n\tbackground:url(\"../admin/images/icon-content-draft-trashed.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_trashed,\n.organizer_item_image.content_trashed {\n\tbackground:url(\"../admin/images/icon-trashed-content.svg\") no-repeat center center / 20px 23px;\n}\n\n.organizer_item_image.content_type_settings {\n\tbackground:url(\"../admin/images/icon-content-types-dark.svg\") no-repeat center center / 22px 22px;\n}\n\n.organizer_item_image.plugin {\n\tbackground:url(\"../admin/images/icon-modules-dark.svg\") no-repeat center center / 15px 15px;\n}\n\n.organizer_item_image.module {\n\tbackground:url(\"../admin/images/icon-plugin-dark.svg\") no-repeat center center / 15px 15px;\n}\n\n.organizer_item_image.plugin_album_instance {\n\tbackground: url('../admin/images/icon-plugin-dark.svg') no-repeat center center / 15px 16px;\n}\n\n.organizer_item_image.plugin_instance {\n\t/* to add */\n}\n\n.organizer_item_image.plugin_album_instance {\n\tbackground-position: 5px center;\n}\n\n.organizer_item_image.zenario_category_icon {\n\tbackground:url('../admin/images/icon-categories-dark-v2.svg') no-repeat center center / auto 14px;\n}\n\n.organizer_item_image.datasets {\n\tbackground:url(\"../admin/images/icon-datasets-dark.svg\") no-repeat center center / auto 20px;\n}\n\n.organizer_item_image.language,\n.organizer_item_image.phrase_translated {\n\tbackground:url(\"../admin/images/icon-languages.svg\") no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.phrase_translated {\n\tbackground-size:auto 18px;\n}\n\n.organizer_item_image.phrase_partially_translated {\n\tbackground:url(\"../admin/images/icon_phrase_partially_translated.svg\") no-repeat center center / auto 20px;\n}\n\n.organizer_item_image.phrase_not_translated {\n\tbackground:url(\"../admin/images/icon_phrase_not_translated.svg\") no-repeat center center / auto 20px;\n}\n\n\n\n\n.organizer_item_image.admins_collection {\n\t/* to add */\n}\n\n.organizer_item_image.admin_phrases_collection {\n\t/* to add */\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.settings,\n.organizer_item_image.setting {\n\tbackground: url('../admin/images/icon-site-settings-dark.svg') no-repeat center center / auto 20px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.backups,\n.organizer_item_image.backup {\n\tbackground: url('../admin/images/icon-back-ups-dark.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.favicon {\n\tbackground: url('../admin/images/icon-favicon-dark.svg') no-repeat center center / 18px auto;\n}\n\n.organizer_item_image.dropbox_collection {\n\t/* to add */\n}\n\n.organizer_item_image.modules {\n\t/* to add */\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.templatesCollection,\n#organizer_rightColumn #organizer_panelTitle div.templatesCollection,\n.organizer_item_image.skin {\n\tbackground: url('../admin/images/icon-skins.svg') no-repeat left center / 18px auto;\n}\n\n.organizer_item_image.zenario_plugins {\n\t/* to add */\n}\n\n.organizer_item_image.slot {\n\t/* to add */\n}\n\n.organizer_item_image.templatesCollectionNoFolder {\n\t/* to add */\n}\n\n\n.organizer_item_image.skinsCollection {\n\t/* to add */\n}\n\n.organizer_item_image.template {\n\tbackground: url('../admin/images/icon-layouts.svg') no-repeat 0 center / 18px auto;\n}\n\n.organizer_item_image.archived_layout {\n\tbackground: url('../admin/images/icon-archive.svg') no-repeat 0 center / auto 18px;\n}\n\n#zenario_at_top_left_menu .organizer_item_image.template,\n#zenario_at_top_left_menu .organizer_item_image.archived_layout,\n#zenario_at_top_left_menu .organizer_item_image.skin {\n\tbackground-position:center center;\n}\n\n#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.template {\n\twidth:25px;\n}\n\n.organizer_item_image.templateFile {\n\t/* to add */\n}\n\n.organizer_item_image.local_media {\n\t/* to add */\n}\n\n/*\tCurrently this image...  */\n.organizer_item_image.log {\n\tbackground: url('../admin/images/icon-sign-in-log.svg') no-repeat center center / 16px;\n}\n\n/*\t...is used for these six icons!  */\n.organizer_item_image.email_log {\n}\n\n.organizer_item_image.sign_in_log {\n}\n\n.organizer_item_image.scheduled_task_log {\n}\n\n.organizer_item_image.access_log {\n}\n\n.organizer_item_image.order_status_log {\n}\n\n.organizer_item_image.license {\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.media_images,\n.organizer_item_image.media_image,\n.organizer_item_image.content_type_picture {\n\tbackground: url('../admin/images/icon-image-library.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.content_type_event {\n\tbackground: url('../admin/images/icon-events-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_html {\n\tbackground: url('../admin/images/icon-html-pages.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_news {\n\tbackground: url('../admin/images/icon-news-articles.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_document {\n\tbackground: url('../admin/images/icon-documents-documents.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_audio {\n\tbackground: url('../admin/images/icon-audio-content-types-dark.svg') no-repeat center center / auto 18px;\t\n}\n\n.organizer_item_image.content_type_blog {\n\tbackground: url('../admin/images/icon-blog-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_vacancy {\n\tbackground: url('../admin/images/icon-job-vacancies-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_project {\n\tbackground: url('../admin/images/icon-project-descriptions-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_testimonial {\n\tbackground: url('../admin/images/icon-testimonials-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.media_movies,\n.organizer_item_image.media_movie,\n.organizer_item_image.content_type_video {\n\tbackground: url('../admin/images/icon-video-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.menu_section,\n.organizer_item_image.linked_child_menuitem_with_children {\n\tbackground: url('../admin/images/icon-menu-sections-dark.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.menu_section_language {\n\tbackground: url('../admin/images/icon-menu-sections-languages-dark.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.menu_section_edit {\n\tbackground: url('../admin/images/icon-menu-sections-edit-dark.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.menu_node,\n.organizer_item_image.zenario_menunode_internal_unique {\n\tbackground: url('../admin/images/icon-menu-node-dark.svg') no-repeat center center / auto 16px;\n}\n\n#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.menu_section,\n#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.linked_child_menuitem_with_children {\n\twidth:25px;\n}\n\n.organizer_item_image.overviewFeedsCollection {\n\t/* to add */\n}\n\n.organizer_item_image.overview_feed_item {\n\t/* to add */\n}\n\n.organizer_item_image.trash {\n\t/* to add */\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.urls_collection,\n#organizer_rightColumn #organizer_panelTitle div.url_item {\n\tbackground: url('../admin/images/icon-spare-domain-names.svg') no-repeat center center / 22px auto;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.alias_urls_collection,\n#organizer_rightColumn #organizer_panelTitle div.alias_url,\n.organizer_item_image.alias_url {\n\tbackground: url('../admin/images/icon-spare-alias-dark.svg') no-repeat center center / 22px auto;\n}\n\n.organizer_item_image.url_item {\n\tbackground: url('../admin/images/icon-spare-domain-names.svg') no-repeat center center / 22px auto;\n}\n\n.organizer_item_image.url_admin_item {\n\t/* to add */\n}\n\n.organizer_item_image.plugin_instance_collection {\n\t/* to add */\n}\n\n.organizer_item_image.site_reset {\n\tbackground: url('../admin/images/icon-rest-site-dark.svg') no-repeat center center / 17px 21px;\n}\n\n.organizer_item_image.site_enabled {\n\tbackground: url('../admin/images/icon-site-enabled-dark.svg') no-repeat center center / 19px 19px;\n}\n\n.organizer_item_image.site_disabled {\n\tbackground: url('../admin/images/icon-site-disabled.svg') no-repeat center center / 19px 19px;\n}\n\n.organizer_item_image.tab {\n\t/* to add */\n}\n\n.organizer_item_image.zenario_trans_chain {\n\t/* to add */\n}\n\n\n.organizer_item_image.xml_sitemap {\n\tbackground: url('../admin/images/icon-xml-site-map.svg') no-repeat center center / auto 19px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.dropbox_files,\n.organizer_item_image.dropbox_file {\n\tbackground: url('../admin/images/icon-file-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.zenario_newsletter_draft {\n\tbackground: url('../admin/images/icon-newsletter-dark.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.zenario_newsletter_template {\n\tbackground: url('../admin/images/icon-newsletter-template-dark.svg') no-repeat center center / auto 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_newsletter_in_progress_newsletter,\n#organizer_rightColumn #organizer_panelTitle div.zenario_newsletter_in_progress_newsletter,\n.organizer_item_image.zenario_newsletter_sent_newsletter {\n\tbackground: url('../admin/images/icon-sent-newsletter-dark.svg') no-repeat center center / auto 20px;\n}\n\n.organizer_item_image.log.email_log {\n\tbackground: url('../admin/images/icon-sent-email-in-log-dark.svg') no-repeat center center / auto 16px;\n}\n\n#organizer_rightColumn div.organizer_list_view div.organizer_item {\n\theight: 150px;\n\twidth: 100px;\n\ttext-align: center;\n\tfloat: left;\n\tmargin: 5px 5px 10px 5px;\n\tfont-size: 1em;\n}\n\nbody.ie6 #organizer_rightColumn div.organizer_list_view div.organizer_item {\n\theight: 160px;\n}\n\n.organizer_image_tags {\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\tcolor: white;\n}\n\n#organizer_rightColumn div.organizer_item div.organizer_image_container,\n#organizer_rightColumn div.organizer_item div.image_container_on {\n\tposition: relative;\n\twidth: 180px;\n\theight: 130px;\n}\n\n#organizer_rightColumn div.zenario_sticky div.organizer_image_container,\n#organizer_rightColumn div.zenario_shared div.organizer_image_container {\n\tborder:2px solid #333;\n\tposition:relative;\n}\n\n#organizer_rightColumn div.organizer_image_container .organizer_image_sticky_marker,\n#organizer_rightColumn div.organizer_image_container .organizer_image_shared_marker {\n\tdisplay:none;\n\twidth:39px;\n\theight:14px;\n\tposition:absolute;\n\tz-index:2;\n\tbottom:0;\n}\n\n#organizer_rightColumn div.organizer_image_container .organizer_image_sticky_marker {\n\tbackground: url('../admin/images/store_keeper/feature-marker.png') no-repeat center center;\n\tleft:0;\n}\n\n#organizer_rightColumn div.organizer_image_container .organizer_image_shared_marker {\n\tbackground: url('../admin/images/store_keeper/shared-marker.png') no-repeat center center;\n\tright:0;\n}\n\n#organizer_rightColumn div.zenario_sticky div.organizer_image_container .organizer_image_sticky_marker,\n#organizer_rightColumn div.zenario_shared div.organizer_image_container .organizer_image_shared_marker {\n\tdisplay:block;\n}\n\n\n/*  Borders by image privacy  */\n\n.zenario_image_privacy_auto .organizer_list_view_icon_border {\n\toutline: solid 1px orange;\n}\n\n.zenario_image_privacy_public .organizer_list_view_icon_border {\n\toutline: solid 1px LightGreen;\n}\n\n.zenario_image_privacy_private .organizer_list_view_icon_border {\n\toutline: solid 1px cyan;\n}\n\n.organizer_list_view_body  .organizer_list_view_icon_border {\n\tcursor: pointer;\n}\n\n\n#organizer_rightColumn .organizer_grid_view div.organizer_item .organizer_image {\n\twidth: 180px;\n\theight: 130px;\n}\n\n#organizer_rightColumn div.organizer_item_with_image {\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n\n#organizer_rightColumn .organizer_doubleclickable .firstcol .organizer_doubleclick {\n\tdisplay: block;\n\tposition: absolute;\n\tright: 0;\n\tbottom: 0;\n\twidth: 16px;\n\theight: 15px;\n\tbackground: url('../admin/images/icon-folder-closed-dark.svg') no-repeat center center / 14px auto;\n\tcursor: pointer;\n\tright:2px;\n\tbottom:3px;\n\tmargin:1px;\n}\n\n#organizer_rightColumn .organizer_doubleclickable .firstcol .organizer_doubleclick:hover {\n\tbackground: url('../admin/images/icon-folder-open-dark.svg') no-repeat center center / 14px auto;\n}\n\n/* Start Right Column Content Icons */\n\n#organizer_rightColumn div.organizer_item .no_icon {\n\tbackground-image: none;\n}\n\n#organizer_rightColumn div.organizer_item .ghost {\n\topacity: 0.3;\n}\n\n\n/*  Translation status icons  */\n\n.zenario_trans_colicon {\n\tmin-width: 15px !important;\n\tmin-height: 23px !important;\n\tbackground-repeat: no-repeat;\n}\n\n#organizer_trash_button {\n\tfloat:right;\n\tmargin:5px 10px 0 0;\n}\n\n#organizer_trash_button,\n#organizer_trash_button a {\n\twidth:30px;\n\theight:30px;\n\tdisplay:block;\n}\n\n#organizer_trash_button a {\n\tdisplay: block;\n\tfloat: right;\n}\n\n.trash_button_empty a,\n.trash_button_full a {\n\tbackground: url('../admin/images/icon-trash-can-v2.svg') no-repeat center center / 14px auto;\n}\n\n.trash_button_full a {\n\tcursor: pointer;\n}\n\n\n\n#organizer_rightColumn div.organizer_no_items {\n\ttext-align: center;\n\tline-height: 1.3em;\n\tpadding-top: 3em;\n\tpadding-bottom: 2em;\n\tfont-size: 12pt;\n\tbackground:#F9F9F9;\n}\n\n\n/*  New pagination (just temporary styles at the moment)  */\n#organizer_item_count {\n\twidth:auto;\n\theight:30px;\n\toverflow:hidden;\n\tdisplay:inline-block;\n\tmargin-right: 20px;\n}\n\n#organizer_pagination {\n\toverflow:hidden;\n}\n\n#organizer_item_count,\n#organizer_pagination {\n\tline-height: 30px;\n}\n\n#organizer_pagination .organizer_page_button {\n\tdisplay: inline-block;\n\twidth: 24px;\n\theight: 24px;\n\ttext-align: center;\n\tposition: relative;\n\tbottom: 5px;\n}\n\n#organizer_page_first {\n\tmargin-right: 5px;\n}\n\n#organizer_page_last {\n\tmargin-left: 5px;\n}\n\n.organizer_page_button {\n\tcursor: pointer;\n}\n\n.organizer_page_button_disabled {\n\tcursor: default;\n}\n\n#organizer_page_first:hover {\n\tbackground: url('../admin/images/icon-pagination-left-dark-grey.svg') no-repeat center center / 16px auto;\n}\n\n#organizer_page_last:hover {\n\tbackground: url('../admin/images/icon-pagination-right-dark-grey.svg') no-repeat center center / 16px auto;\n}\n\n#organizer_page_first,\n#organizer_page_first.pagination_disabled_first:hover {\n\tbackground: url('../admin/images/icon-pagination-left-light-grey.svg') no-repeat center center / 16px auto;\n}\n\n#organizer_page_last,\n#organizer_page_last.pagination_disabled_last:hover {\n\tbackground: url('../admin/images/icon-pagination-right-light-grey.svg') no-repeat center center / 16px auto;\n}\n\n.pagination_disabled_first,\n.pagination_disabled_last,\n#organizer_page_first.pagination_disabled_first:hover,\n#organizer_page_last.pagination_disabled_last:hover  {\n\topacity: 0.5;\n}\n\n.organizer_page_numbers {\n\theight: 32px;\n\tdisplay: inline-block;\n}\n\n#organizer_pagination .paginator_p_wrap {\n\tfloat:none;\n\tdisplay: inline-block;\n\tfloat: left;\n\theight: 24px;\n\tline-height: 23px;\n\tmargin-bottom: 4px;\n\tmargin-top: 3px;\n}\n\n#organizer_pagination .paginator_slider {\n\tbackground: #b9b9b9;\n\tborder: 0;\n\tfloat: left;\n\tclear: both;\n}\n\n.paginator_slider .ui-slider-handle {\n\tbackground:url('../admin/images/srub-bar-off-state.png') no-repeat;\n\tborder: 0;\n\twidth: 24px;\n\tcursor: pointer;\n}\n\n.paginator_slider .ui-slider-handle:hover {\n\tbackground:url('../admin/images/srub-bar-over-state.png') no-repeat;\n}\n\n.paginator_p {\n\tbackground: #b9b9b9;\n\tcolor: #4d4d4d;\n\tfont-weight: 700;\n\tborder-radius: 2px;\n\t-moz-border-radius: 2px;\n\t-webkit-border-radius: 2px;\n\tpadding: 0;\n}\n\n.paginator_p_wrap .selected,\n.paginator_p_wrap .selected:hover {\n\tbackground: #027dc9;\n\tcolor: #ffffff;\n}\n\n.paginator_p:hover {\n\tbackground: #6f6f6f;\n\tcolor: #ffffff;\n}\n\n.paginator_p[data-length='4'] {\n\tfont-size: 8px;\n}\n.paginator_p[data-length='5'] {\n\tfont-size: 6px;\n}\n.paginator_p[data-length='6'] {\n\tfont-size: 5px;\n}\n.paginator_p[data-length='7'],\n.paginator_p[data-length='8'] {\n\tfont-size: 4px;\n}\n.paginator_p[data-length='9'],\n.paginator_p[data-length='10'] {\n\tfont-size: 3px;\n}\n\n\n#organizer_itemCountWrap {\n\twidth: 100%;\n\theight: 45px;\n\tfloat: right;\n\ttext-align: center;\n\tcolor: #333;\n\tfont-size:11px;\n\tmargin-top:0;\n}\n\n#organizer_itemCountWrap .page {\n\tcursor:pointer;\n}\n\n#organizer_itemCountWrap .page:hover {\n\ttext-decoration:underline;\n}\n\n#organizer_itemCountWrap .currentPage {\n\tcursor: default;\n\tfont-weight: bold;\n\tcolor: #007FA2;\n}\n\n#organizer_itemCountWrap img {\n\twidth: 30px;\n\theight: 30px;\n\tvertical-align: middle;\n\tmargin: 0 8px;\n}\n\n#organizer_itemCountWrap #organizer_pagePrev,\n#organizer_itemCountWrap #organizer_pagePrevOff {\n\tmargin-left: 37px;\n}\n\n#organizer_itemCountWrap #organizer_pagePrev,\n#organizer_itemCountWrap #organizer_pageNext {\n\tcursor: pointer;\n}\n\ndiv#organizer_previous_next {\n\tfloat: right;\n\twidth: 100%;\n\tmargin: 3px;\n}\n\ndiv#organizer_previous_next a {\n\tdisplay: block;\n\twidth: 29px;\n\theight: 19px;\n\tfloat: right;\n\tmargin: 2px;\n}\n\n/*  Overflow hidden for things that are variable size with variable text  */\n\n#organizer_itemCountWrap,\n#organizer_rightColumnTitle {\n\toverflow: hidden;\n}\n\n/* Grid maker popup  */\n\nbody #cboxOverlay,\nbody #colorbox.zenario_grid_maker #cboxOverlay {\n\tzoom: 1;\n\tfilter: alpha(opacity=50) !important;\n\topacity: 0.5 !important;\n\tbackground-color:#000;\n\tbackground-image:none;\n}\n \n\nbody #colorbox.zenario_grid_maker #cboxTopLeft,\nbody #colorbox.zenario_grid_maker #cboxTopCenter,\nbody #colorbox.zenario_grid_maker #cboxTopRight,\nbody #colorbox.zenario_grid_maker #cboxMiddleLeft,\nbody #colorbox.zenario_grid_maker #cboxMiddleRight,\nbody #colorbox.zenario_grid_maker #cboxBottomLeft,\nbody #colorbox.zenario_grid_maker #cboxBottomCenter,\nbody #colorbox.zenario_grid_maker #cboxBottomRight,\nbody #colorbox.zenario_grid_maker #cboxTitle,\nbody #colorbox.zenario_grid_maker #colorbox #cboxTopLeft,\nbody #colorbox.zenario_grid_maker #colorbox #cboxTopCenter,\nbody #colorbox.zenario_grid_maker #colorbox #cboxTopRight,\nbody #colorbox.zenario_grid_maker #colorbox #cboxMiddleLeft,\nbody #colorbox.zenario_grid_maker #colorbox #cboxMiddleRight,\nbody #colorbox.zenario_grid_maker #colorbox #cboxBottomLeft,\nbody #colorbox.zenario_grid_maker #colorbox #cboxBottomCenter,\nbody #colorbox.zenario_grid_maker #colorbox #cboxBottomRight,\nbody #colorbox.zenario_grid_maker #colorbox #cboxTitle {\n\tvisibility: hidden;\n}\n\nbody #colorbox.zenario_grid_maker #cboxClose {\n\tposition:absolute;\n\ttop:0;\n\twidth:0;\n\theight:0;\n\tdisplay:none;\n}\n\nbody #colorbox.zenario_grid_maker #cboxLoadedContent {\n\theight: 100% !important;\n}\n\n\n\n/*  Tweaks to jquery nestable  */\n\n#organizer_rightColumnContent .organizer_drag_handle {\n\theight: auto;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol {\n\tmin-width:625px;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol {\n\tmin-width:595px;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol {\n\tmin-width:565px;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol {\n\tmin-width:535px;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol ol {\n\tmin-width:505px;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol ol ol {\n\tmin-width:475px;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .dd {\n\tmax-width:100%;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list {\n\tbackground:url('../admin/images/1px-grey.gif') repeat-x left bottom;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list .dd-item .dd3-handle,\n#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list .dd-item .dd3-content {\n\tborder-left:1px solid #C4C4C4;\n}\n\n\n/*\n\tQuick hack by Chris to try and ensure the +/- buttons in heirarchy view are always clickable.\n*/\n.dd-item > button[data-action] {\n\tposition: absolute;\n\tz-index: 1;\n}\n\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle {\n\tmin-height:30px;\n\tposition:absolute;\n\tcursor:move;\n\tmargin:0;\n\tborder:0;\n\tborder-radius:0;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle,\n#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle:hover,\n#organizer_rightColumn .organizer_hierarchy_view .dd3-handle {\n\tbackground:url('../admin/images/icon-drag-handle.png') no-repeat left center;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .dd3-handle:before {\n\tcontent:'';\n}\n\n#organizer_rightColumn .organizer_hierarchy_view button {\n\tposition:absolute;\n\tfont-weight:bold;\n\tfont-family:verdana;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row div.organizer_row {\n\tclear:none;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row div.organizer_cell {\n\twidth:auto !important;\n\tborder:0;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_checkbox_col {\n\tdisplay:inline;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col {\n\tmargin-left:20px;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col.organizer_documents_area {\n\tmargin-left:50px;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cell {\n\tfloat:left;\n}\n\n.zenario_organizer_select #organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_documents_area {\n\tmargin-right: 10px;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_cell_items {\n\tfloat:left;\n\tpadding:2px 2px 0 0;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items {\n\twidth:94%;\n\twidth:calc(100% - 120px);\n\tline-height:22px;\n\toverflow:hidden;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items {\n\ttext-overflow: ellipsis;\n\tmax-width: 40%;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items.organizer_cell_comma {\n\tmax-width:2%;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view #organizer_items_wrapper ol li div.organizer_row div.organizer_cells_items {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view #organizer_items_wrapper ol li div.organizer_row div.organizer_cells_items > span.organizer_cell_items {\n\twidth:auto;\n\tmax-width:97%;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items span {\n\tfloat:none;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row .organizer_cell_items div.organizer_cell {\n\tpadding:0;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_cell_items table.organizer_no_border {\n\tborder-collapse:collapse;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border,\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr,\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td {\n\tpadding:0;\n\tmargin:0;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td {\n\tdisplay:inline-block;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text {\n\twidth:100%;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text a {\n\twidth:100%;\n\tword-wrap:break-word;\n\tdisplay:block;\n\tcolor:#000;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border,\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr,\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td,\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td a {\n\tdisplay:inline-block;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text a:hover,\n#organizer_rightColumn .organizer_slidedown_view table td a:hover {\n\tcolor:#007FA3;\n}\n\n.dd-placeholder {\n\t\n}\n\n.dd-placeholder .dd3-handle,\n.dd3-handle {\n\tborder: 0 none;\n\tborder-radius: 0 0 0 0;\n\tfont-size:20px;\n}\n\n.dd3-content,\n.dd3-content:hover {\n\tcolor: #616161;\n}\n\n.dd3-content {\n\tfont-family: Verdana,Arial,Helvetica,sans-serif;   \n\tpadding:0 10px 0 20px;\n\tfont-weight:normal;\n\tborder:0;\n\tbackground:#fff;\n\tmargin:0;\n\tborder-radius:0;\n}\n\n.organizer_menu_handle .dd3-content {\n\tpadding-left:30px;\n}\n\n.dd3-content span,\n.dd3-content table,\n.dd3-content div {\n\tfloat:left;\n}\n\n.dd3-content table {\n\tborder-collapse:collapse;\n}\n\n.dd3-content button,\n.dd-placeholder button {\n\tfont-weight:bold;\n\tfont-family:verdana;\n}\n\n.dd3-content a {\n\tcolor:#000;\n}\n\n.dd3-item > button {\n\tmargin-left: 0;\n}\n\n.dd3-item.organizer_menu_handle > button {\n\tmargin-left: 30px;\n}\n\n.zenario_organizer_under_admin_box.zenario_panel_type__hierarchy_documents .dd3-item > button {\n\tmargin-left: 21px;\n}\n\n/* Debug icon */\n\n#organizer_leftColumn .zenario_debug {\n\tright:3px;\n\ttop:3px;\n}\n \n.zenario_toolbar_header .toolbar div.zenario_debug {\n\twidth:30px;\n\theight:30px;\n}\n\n.zenario_toolbar_header .toolbar div.zenario_debug div {\n\tbackground-size:16px;\n}\n\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_id div {\n\tbackground-color:#FFB080;\n}\n\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_id:hover div {\n\topacity:0.9;\n}\n\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_no_id div {\n\tbackground-color:#B4EDB7;\n}\n\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_no_id:hover div {\n\topacity:0.9;\n}\n\n/*  Styles for top-right icons  */\n\n#organizer_rightColumnTitle #organizer_topRightIcons {\n\tposition: absolute;\n\twidth: auto;\n\theight: 18px;\n\ttop: 8px;\n\tright: 8px;\n}\n\n.zenario_organizer_full #organizer_rightColumnTitle #organizer_topRightIcons {\n\ttop: 0;\n}\n\n#organizer_rightColumnTitle #organizer_topRightIcons > div {\n\tmargin-right: 5px;\n\tdisplay: inline-block;\n\tfloat: none;\n\theight: 18px;\n}\n\n\n\n\n\n/*  Debug info box, appears over/just below the debug button  */\n\n#zenario_fbDebugInfoBox {\n\tpadding:4px;\n\tbackground:#333;\n\tfont-family: Verdana,Tahoma,Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n\tclear: both;\n}\n\n#zenario_fbDebugInfoBox,\n#zenario_fbDebugInfoBox input,\n#zenario_fbDebugInfoBox textarea {\n\tcolor:#333;\n\tfont-size:12px;\n\tfont-family:Arial,Verdana,Helvetica,sans-serif;\n}\n\n#zenario_fbDebugInfoBox a {\n\tcolor:#0080CB;\n}\n\n#zenario_fbDebugInfoBox .zenario_debugInfo {\n\tpadding:15px;\n\tbackground:#FFF;\n\tmargin:auto;\n\tmax-height:400px;\n\toverflow:auto;\n}\n\n#zenario_fbDebugInfoBox .zenario_debugInfo .organizer_basic_info {\n\tclear: both;\n}\n\n#zenario_fbDebugInfoBox .zenario_debugInfoTitle {\n\twidth:auto;\n\tfont-weight: bold;\n\tfont-size:13px;\n\tmargin: 0 2px 5px;\n}\n\n#zenario_fbDebugInfoBox .organizer_refiner_no,\n#zenario_fbDebugInfoBox .organizer_cfti {\n\twidth:auto;\n\toverflow:hidden;\n\tclear:both;\n\tmargin:15px 2px 5px;\n\tpadding:10px 0 0 0;\n\tborder-top:1px solid #C4C4C4;\n\tfont-weight: bold;\n\tfont-size:13px;\n}\n\n#zenario_fbDebugInfoBox .organizer_info_box {\n\tfloat:right;\n}\n\n#zenario_fbDebugInfoBox table {\n\twidth: 100%;\n}\n\n#zenario_fbDebugInfoBox table tr th,\n#zenario_fbDebugInfoBox table tr td {\n\tvertical-align:top;\n\tpadding:0;\n}\n\n#zenario_fbDebugInfoBox th {\n\twidth: 22%;\n\ttext-align: left;\n\tfont-weight:normal;\n}\n\n#zenario_fbDebugInfoBox table tr td,\n#zenario_fbDebugInfoBox input,\n#zenario_fbDebugInfoBox textarea {\n\tfont-family:'Courier New',Courier,monospace;\n}\n\n#zenario_fbDebugInfoBox input,\n#zenario_fbDebugInfoBox textarea {\n\twidth: 95%;\n\tborder:0;\n\tbackground:#FFF;\n}\n\n#zenario_fbDebugInfoBox textarea {\n\tresize:none;\n\tline-height:1.2em;\n}\n\n.zenario_debugInfo .organizer_info_box {\n\tmargin-top:0;\n}\n\n/*\n#zenario_debug_infobox {\n\tposition: absolute;\n\tz-index: 1;\n\tdisplay: none;\n\tmargin-top: 30px;\n}\n\n.zenario_toolbar_header .toolbar #zenario_debug_infobox,\n.zenario_toolbar_header .toolbar #zenario_debug_infobox * {\n\twidth: auto;\n\theight: auto;\n\tfloat: none;\n}\n\n.zenario_toolbar_header .toolbar #zenario_debug_infobox:hover,\n.zenario_toolbar_header .toolbar #zenario_debug_infobox div:hover {\n\tbackground: none;\n}*/\n\n\n\ntable.table-bordered\n{\n\tborder-collapse:collapse;\n}\n\ntable.table-bordered, table.table-bordered th, table.table-bordered td\n{\n\tborder: 1px solid #C4C4C4;\n}\n\ntable.table-bordered td\n{\n\tpadding: 4px;\n}\n\n/* ---------- Hierarchical files icon styles ------------*/\n.organizer_item_image.zenario_file_item {\n\tbackground: url('../admin/images/icon-documents-documents.svg') no-repeat center center / 18px auto;\n}\n.organizer_item_image.zenario_folder_item {\n\tbackground: url('../admin/images/icon-folder-closed-dark.svg') no-repeat center center / 18px auto;\n}\n.organizer_item_image.zenario_document_tag_item {\n\tbackground: url('../admin/images/icon-tags.svg') no-repeat center center / 18px auto;\n}\n.organizer_item_image.zenario_document_auto_set_rule {\n\tbackground: url('../admin/images/icon-auto-rule-sets.svg') no-repeat center center / 18px auto;\n}\n.organizer_item_image.zenario_error_log {\n\tbackground: url('../admin/images/icon-error-log-dark.svg') no-repeat center center / 18px auto;\n}\n\n/* ---------- Styles for documents section ------------*/\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_offline {\n\tborder: 1px solid #FFA500;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_public {\n\tborder: 1px solid #008000;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_private {\n\tborder: 1px solid #0000FF;\n}\n\t\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items.organizer_documents_items {\n\tline-height: 28px;\n\tpadding: 2px;\n\tcolor: #202020;\n}\n\n#organizer_rightColumn div.organizer_row.document .listicon > div,\n#organizer_rightColumn div.organizer_row.folder .listicon > div,\n#organizer_rightColumn li.organizer_menu_handle .listicon > div {\n\tpadding-left:24px;\n}\n\n.organizer_document_line_outer .zenario_document_title {\n\tfont-weight: bold;\n\tmargin-right: 10px;\n}\n\n.organizer_document_line_outer .zenario_document_sub_fields {\n\tmargin-right: 10px;\n\tfont-style: italic;\n\tcolor: #696969;\n}\n\n.organizer_document_line_outer.line_2 .organizer_document_line_inner .zenario_document_sub_fields {\n\tposition: relative;\n\tbottom: 5px;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle.document:hover, \n#organizer_rightColumn .organizer_hierarchy_view .dd3-handle.document {\n\theight: 60px;\n\tbackground:url('../admin/images/icon-drag-handle.png') no-repeat left center;\n}\n\n/* ---------- Styles for tour intro.js  ------------*/\n\n.introjs-tooltip {\n\tmin-width:180px;\n}\n\n.introjs-tooltip .introjs-tooltiptext,\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button {\n\tfont-family:Verdana,Arial,Helvetica,sans-serif;\n}\n\n.introjs-tooltip .introjs-tooltiptext > p strong {\n\tfont-size:18px;\n\tfont-weight:normal;\n\tcolor:#333;\n}\n\n.introjs-tooltip .introjs-tooltiptext p {\n\tfont-size:12px;\n\tcolor:#676767;\n}\n\n.introjs-tooltip .introjs-bullets ul li a.active {\n\tbackground:#0079CE !important;\n}\n\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button {\n\tfont-size:14px;\n\ttext-shadow:none;\n\tcolor:#333;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-skipbutton {\n\twidth:12px;\n\theight:12px;\n\tborder:0;\n\ttext-indent:-999;\n\tdisplay:block;\n\tfont-size:0;\n\tline-height:0;\n\tposition:absolute;\n\ttop:-3px;\n\tright:0;\n\tbackground:url('../admin/images/tooltip-close-off-state.png') no-repeat;\n}\n\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-skipbutton:hover {\n\tbox-shadow:none;\n\tbackground:url('../admin/images/tooltip-close-over-state.png') no-repeat;\n}\n\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-prevbutton {\n\tfloat:left;\n\tborder:1px solid #B3B3B3;\n}\n\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-nextbutton {\n\tborder:1px solid #007FA5;\n\tbackground:#0097C5;\n\tcolor:#FFF;\n}\n\n.introjs-helperNumberLayer {\n\tz-index:99999999 !important;\n}\n\n.introjs-showElement.zenario_admin_name,\n.introjs-showElement.logout_button {\n\tbackground:#000;\n}\n\n#organizer_search.introjs-showElement {\n\tbackground:#FFF;\n}\n\n/* Calendar panel styling */\n.calendar-organizer {\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tmargin-left: 1%;\n\tmargin-top: 1%;\n\ttable-layout: fixed;\n}\n\n.calendar-organizer .calendar-prev-link,\n.calendar-organizer .calendar-next-link {\n\ttext-align: center;\n}\n\n.calendar-organizer .calendar-prev-link a,\n.calendar-organizer .calendar-next-link a {\n\tcursor: pointer;\n}\n\n.calendar-organizer-day {\n\tborder: 1px solid #c4c4c4;\n\tpadding: 3%;\n\ttext-align: right;\n\tposition: relative;\n}\n\n.calendar-organizer-no-date {\n\tbackground: #F6F6F6;\n}\n\n.calendar-organizer-date:hover {\n\tbackground: #dcf5fd;\n}\n\n.calendar-organizer-day-names td {\n\tborder: 1px solid #c4c4c4;\n\tcolor: #ffffff;\n\tbackground: #333333;\n\ttext-align: center;\n\tpadding: 1%;\n}\n\n.calendar-organizer-events-details {\n\tdisplay: block;\n\tfloat: left;\n\twidth: 26%;\n\tmargin-left: 3%;\n\tmargin-top: 0;\n}\n\n.calendar-organizer-event {\n\tposition: absolute;\n\ttop: 55%;\n\tright: 5%;\n\tbackground: #01D103;\n\tcolor: #ffffff;\n\tpadding: 3%;\n}\n\n.calendar-organizer-wrapper {\n\tdisplay: block;\n\tfloat: left;\n\twidth: 70%;\n}\n\n.calendar-organizer-day-value {\n\tposition: absolute;\n\ttop: 5%;\n\tright: 5%;\n}\n\n.calendar-first-row {\n\twidth: 100%;\n}\n\n.calendar-first-row div {\n\tdisplay: block;\n\tfloat: left;\n\twidth: 33%;\n}\n\n.calendar-organizer-first-row {\n\tbackground: #f9f9f9;\n\tborder: 1px solid #c4c4c4;\n}\n\n.calendar-first-row-left {\n\ttext-align: left;\n}\n\n.calendar-first-row-middle h2 {\n\ttext-align: center;\n\tmargin: 0;\n}\n\n.calendar-first-row-right {\n\ttext-align: right;\n}\n\n.calendar-first-row ul li {\n\tdisplay: inline-block;\n}\n\n.calendar-first-row ul {\n\tpadding-left: 6%;\n\tmargin: 0;\n}\n\n.calendar-organizer-month-year-title {\n\tfont-size: 1.2em;\n\tfont-weight: 700;\n\ttext-align: center;\n}\n\n.organizer_subheading {\n\tfont-weight: 700;\n\tcolor: #000000;\n\tfont-family: Verdana;\n\tfont-size: 1em;\n\tbackground-color: #e6e6e6;\n\tpadding: 5px 0px 5px 5px;\n\tborder-bottom: 1px solid #c4c4c4;\n}\n\n/* Ensure that inline buttons appear properly */\n\n.organizer_list_view_with_short_rows div.organizer_cell div {\n\tdisplay: block;\n\tfloat: left;\n}\n\n.organizer_list_view_with_short_rows div.organizer_cell div.organizer_cell_line {\n\tfloat: none;\n}\n\n\n/* Image gallery thumbnails */\n.organizer_list_view_with_tall_rows .listicon .organizer_item_with_image {\n\tdisplay: block;\n\tfloat: left;\n}\n\n.organizer_list_view_with_tall_rows .listicon .organizer_inline_buttons {\n\twidth: 60px;\n\tdisplay: block;\n\tfloat: right;\n\tposition: relative;\n\tbottom: 45px;\n\tleft: 4px;\n}\n\n\n\n/*  Form builder styles  */\n\n#organizer_rightColumn .organizer_form_builder_view .form_outer .form h4 {\n\tcolor: #202020;\n\tmargin: 15px 0px 5px 0px;\n}\n\n#organizer_rightColumn .organizer_form_builder_view .form_outer .form .field.ui-sortable-handle {\n\tmargin-left: 20px;\n}\n\n#organizer_rightColumn .organizer_form_builder_view .form_outer .form .field.ui-sortable-handle input {\n\twidth: 200px;\n}\n\n\n/*  Placeholder icons for desktop/mobile view in the nest UI  */\n\n#organizer_rightColumnContent #organizer_hierarchy_view div.organizer_row .organizer_column__small_screens__cell {\n\tdisplay: inline-block;\n\twidth: 40px;\n\theight: 18px;\n\tfont-size: 0;\n\tcolor:transparent;\n}\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_mobile_only:before,\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_and_mobile:before {\n\tdisplay: inline-block;\n\twidth: 18px;\n\theight: 19px;\n\tbackground: url('../admin/images/icon-page-preview-mobile-portrait.svg') center bottom no-repeat;\n\tbackground-size: auto 14px;\n\tcontent: '';\n}\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_only:after,\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_and_mobile:after {\n\tdisplay: inline-block;\n\twidth: 18px;\n\theight: 19px;\n\tbackground: url('../admin/images/icon-page-preview-desktop.svg') center bottom no-repeat;\n\tbackground-size: auto 14px;\n\tcontent: '';\n}\n\n\n\n\n.organizer_list_view_with_tall_rows .listicon > div {\n\twidth: 64px;\n\theight: 48px !important;\n\tdisplay: block;\n\tfloat: left;\n\tpadding-left: 0!important;\n}\n\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row div.organizer_cell.listicon .organizer_list_view_icon {\n\twidth: 60px;\n\theight: 43.333px !important;\n\tmargin: 3px 2px;\n}\n\n/* Overwrote rules for first column */\n\n.organizer_tall_row_with_small_icon .listicon.firstcol > div {\n\twidth:auto;\n\theight:25px !important;\n\tpadding-left:24px !important;\n}\n\n.organizer_tall_row_with_small_icon .listicon.firstcol > div.organizer_inline_buttons {\n\tposition:static;\n\tbottom:0;\n\tleft:0;\n\tfloat:left;\n\tpadding-left:1px !important;\n}\n\n.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons,\n.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons div,\n.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons div.zenario_users_contact_status {\n\theight:25px !important;\n}\n\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cell.listicon .organizer_inline_buttons, \n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cell.listicon .organizer_inline_buttons div, \n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cells_items .organizer_inline_buttons, \n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cells_items .organizer_inline_buttons div {\n\tmargin:0;\n\tpadding:0;\n}\n\n/* Styles for icons in usage columns */\n#organizer_rightColumnContent div.organizer_row div.organizer_cell span.listicon {\n\tdisplay: inline-block;\n\tpadding-left: 16px;\n\theight: 16px;\n\tbackground-size: 14px 16px;\n\tpadding-right: 2px;\n\tbackground-position: left center;\n}\n\n\n/* END: Overwrote rules for first column */\n\n.organizer_slidedown_view table td .slidedown_tags_title {\n\twidth: 40px;\n\tmargin: 0 0 10px 20px;\n\tdisplay: block;\n\tfloat: left;\n\tcolor: #202020;\n\tmargin: 0 0 10px 20px;\n}\n\n.organizer_slidedown_view table td .organizer_image_tags.slidedown_view {\n\tdisplay: block;\n\tfloat: left;\n}\n\n/* Admin box help */\n#row__module_description .zfab_row_inner .module_description * {\n\tcolor: #ffffff;\n\tfont-size: 11px;\n}\n\n#row__module_description .zfab_row_inner .module_description ul {\n\tmargin: 15px 0px 15px 30px;\n\tlist-style-position: inside;\n}\n\n#row__module_description .zfab_row_inner .module_description ul li {\n\tlist-style: disc;\n\tmargin: 5px 0px 5px 0px;\n\t\n}\n\n#row__module_description .zfab_row_inner .module_description p {\n\tmargin-top: 10px;\n\tmargin-bottom: 10px;\n}\n\n\n\n\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li a { \n\tmin-width:200px;\n\ttext-align: center;\n}\n\n.label_without_icon.organizer_button_with_children > a { \n\tmin-width:0; \n}\n\n#organizer_collectionPanelButtons_no_items ul li {\n\tlist-style: none;\n\tmargin-left:2px;\n\tmargin-right:2px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new a,\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a {\n\tcursor: pointer;\n\tpadding: 5px 10px 6px;\n\tborder-radius: 3px;\n\t-webkit-border-radius: 3px; \n\t-moz-border-radius: 3px; \n\ttext-shadow: 0 1px 1px #000;\n\tdisplay: inline-block;\n\tmin-width: 200px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new a,\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a {\n\tbackground-color: #ea5900;\n\tcolor: #ffffff;\n}\n\n#organizer_collectionPanelButtons_no_items ul li a {\n\tbackground: #e9e9e9;\n\tcursor: pointer;\n\tpadding: 5px 10px 6px;\n\tcolor: #616161;\n\tborder-radius: 3px;\n\t-webkit-border-radius: 3px; \n\t-moz-border-radius: 3px; \n\tdisplay: inline-block;\n\tmin-width: 200px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .label_without_icon a {\n\tmin-width: 200px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children a {\n\ttext-align: left;\n\tcursor: auto;\n\tdisplay:inline-block;\n\tmin-width: 0;\n\tbackground: url(\"../admin/images/no_items_arrow_right.png\") no-repeat;\n\tbackground-position: right center;\n\tpadding-right: 15px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children > a {\n\tcolor:#000;\n\ttext-shadow: none;\n}\n\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a {\n\tmargin:5px 8px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children a,\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul,\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li {\n\tdisplay:inline-block;\n}\n\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li a {\n\tbackground: #e9e9e9;\n\tcursor: pointer;\n\tpadding: 5px 10px 6px;\n\tcolor: #616161;\n\tborder-radius: 3px;\n\t-webkit-border-radius: 3px; \n\t-moz-border-radius: 3px; \n\tfont-weight: normal;\n}\n\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul {\n\tpadding: 0;\n}\n\n#organizer_rightColumnOptions_no_items {\n\tmargin-top: 20px;\n}\n\n/* Help tour styling */\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button {\n\tcursor: pointer;\n\tdisplay: block;\n\theight: 25px;\n\twidth: 67px;\n\tbackground: url('../admin/images/help_btn.svg') no-repeat center center / 67px 24px;\n}\n\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button p {\n\tposition: relative;\n\ttop: 4px;\n\tleft: 6px;\n\tcolor: #ffffff;\n}\n\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button {\n\topacity: 1;\n\t-webkit-transition: all 0.3s ease-out;\n\t-moz-transition: all 0.3s ease-out;\n\t-o-transition: all 0.3s ease-out;\n\ttransition: all 0.3s ease-out;\n}\n\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button:hover {\n\topacity: 0.6;\n}\n\n#zenario_tutorial_main_video {\n\tdisplay: block;\n\tmargin: 0 auto;\n\tpadding-bottom: 20px;\n\tpadding-top: 20px;\n}\n\n#zenario_tutorial_main_video iframe,\n#zenario_tutorial_main_video .no_video {\n\tdisplay: block;\n\tmargin: 0 auto;\n}\n\n#zenario_tutorial_main_video .no_video p {\n\ttext-align: center;\n\tcolor: #ffffff;\n\tfont-size: 1.2em;\n\tmargin-top: 149px;\n\tmargin-bottom: 149px;\n}\n\n.zenario_tutorial .other_videos .no_other_videos p {\n\ttext-align: center;\n}\n\n.zenario_tutorial {\n\tbackground-color: #F4F4F4;\n}\n\n.zenario_tutorial .help_tour_outer {\n\tbackground-color: #D2ECF8;\n\tmargin: 0px 10px 10px 10px;\n\tmin-height: 70px;\n}\n\n.zenario_tutorial .help_tour_outer .help_tour_inner,\n.zenario_tutorial .help_tour_outer .video_start_tour {\n\tdisplay: block;\n\tfloat: left;\n}\n\n.zenario_tutorial .help_tour_outer .help_tour_inner .help_tour_message {\n\tfont-weight: 700;\n\tfont-size: 12px;\n\tmargin: 15px 30px 10px 50px;\n}\n\n.zenario_tutorial .help_tour_outer .help_tour_inner .auto_open_option {\n\tmargin: 0px 30px 0px 47px;\n}\n\n.zenario_tutorial .help_tour_outer .video_start_tour .start_button {\n\tbackground: url(\"../admin/images/start-tour-btn-off.png\") no-repeat;\n\tdisplay: block;\n\theight: 50px;\n\twidth: 160px;\n\tcolor: transparent;\n\tcursor: pointer;\n\tmargin-top: 15px;\n}\n\n.zenario_tutorial .help_tour_outer .video_start_tour .start_button:hover {\n\tbackground: url(\"../admin/images/start_tour_btn_on.png\") no-repeat;\n}\n\n.zenario_tutorial .video_end {\n\tclear: both;\n}\n\n.zenario_tutorial .main_video {\n\tbackground-color: #000000;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .zenario_slideshow_wrapper {\n\tmargin-top: 20px;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .no_other_videos {\n\tline-height: 150px;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .no_other_videos p {\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tmargin: 0;\n\ttext-align: center;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .organizer_slideshow #navigator {\n\tposition: relative;\n\ttop: 170px;\n\tdisplay: none;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides {\n\tleft: 70px;\n\twidth: 85%;\n\ttop: 20px;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video {\n\tborder:2px solid #FFF;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video.selected {\n\tborder-color:#01d103;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video.selected .video_title {\n\tbackground:#01d103;\n\ttext-shadow:1px 1px #333;\n}\n\n#zenario_tutorial_other_videos div.slides {\n\theight:154px !important;\n}\n\n.zenario_tutorial .zenario_tutorial_video_banner {\n\theight: 40px;\n\twidth: 97%; \n\tbackground-color: #333333;\n}\n\n.zenario_tutorial .zenario_tutorial_video_banner h1,\n.zenario_tutorial .zenario_tutorial_video_banner {\n\tcolor:  #ffffff;\n\tfont-size: 1.2em;\n\tfont-weight: 700;\n\tmargin: 0;\n\tpadding: 0;\n\tline-height: 40px;\n\ttext-align: left;\n\tpadding-left: 3%;\n}\n\n.zenario_tutorial_cbox #cboxTitle { \n\tdisplay: none!important;\n}\n\n.zenario_tutorial_cbox #cboxLoadedContent {\n\tmargin-bottom:0;\n}\n\n.zenario_tutorial_cbox #cboxContent {\n   background: #F4F4F4;\n}\n\nspan.video_title {\n\tposition: absolute;\n\tbottom: 0;\n\tbackground: #333;\n\tdisplay: block;\n\tpadding: 2px 8px;\n\tcolor: #fff;\n\ttext-align: center;\n\tleft: 0;\n\tright: 0;\n}\n\n.zenario_tutorial_cbox #cboxClose {\n  position: absolute;\n  top: 9px;\n  right: 8px;\n  display: block;\n  width: 23px;\n  height: 23px;\n  text-indent: -9999px;\n}\n\n#organizer_collectionPanelButtons_no_items ul {\n\tpadding-left: 0;\n}\n\n.zenario_show_colobox_above_fab #cboxLoadedContent { \n\tpadding-bottom: 28px;\n}\n\n#organizer_colsortfields .zenario_remove_date {\n\tbackground: #333333;\n\tcolor: #ffffff;\n\tborder: 0;\n\tcursor: pointer;\n\tposition: relative;\n\tbottom: 1px;\n}\n\n.zenario_date_filters_phrase {\n\tdisplay: inline-block;\n\twidth: 80px;\n}\n\n/* Builders\n--------------------------------------------------------------------------------------------------*/\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .logout_button,\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .home_page_button,\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .top_left_button,\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .zenario_admin_name,\n#zenario_fbog.zenario_panel_type__form_builder #organizer_bottomWrap,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .logout_button,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .home_page_button,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .top_left_button,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .zenario_admin_name,\n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_bottomWrap,\n#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .logout_button,\n#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .home_page_button,\n#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .top_left_button,\n#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .zenario_admin_name,\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_bottomWrap {\n\tdisplay:none;\n}\n\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button {\n\tdisplay:block;\n\tborder:0;\n\twidth:auto;\n\theight:auto;\n}\n\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button a,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button a {\n\tdisplay:block;\n\theight:34px;\n\twidth:34px;\n\tcursor:pointer;\n\tmargin-top:2px;\n\tmargin-right:17px;\n\tborder:0;\n\tbackground:url(\"../admin/images/icon-close-off-state-light-grey.svg\") no-repeat center / 16px 16px;\n}\n\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button a:hover,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button a:hover {\n\tbackground:url(\"../admin/images/icon-close-hover-state-blue.svg\") no-repeat center / 16px 16px;\n}\n\n#zenario_fbog.zenario_panel_type__form_builder #organizer_backButton,\n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_backButton {\n\tpadding-left:15px;\n}\n\n#zenario_fbog.zenario_panel_type__form_builder .organizer_rightColumnOptions_panel,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_rightColumnOptions_panel,\n#zenario_fbog.zenario_panel_type__schematic_builder .organizer_rightColumnOptions_panel {\n\theight:0;\n\tpadding:12px 0 0;\n}\n\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel,\n#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel,\n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel {\n\tposition:absolute;\n\tright:0;\n\tleft:0;\n\ttop:-27px;\n\ttext-align:center;\n\tmargin:auto;\n}\n\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul, \n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a,\n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul, \n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a,\n#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul, \n#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\tfloat:none;\n\tdisplay:inline;\n}\n\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li,\n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li,\n#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li {\n\tbackground:none;\n}\n\n/* Organizer form builder\n--------------------------------------------------------------------------------------------------*/\n\n.organizer_form_builder_view {\n\theight:100%;\n\toverflow:hidden;\n\tbackground:url('../admin/images/bg-pattern-blue.png');\n}\n\n.organizer_form_builder_view .form_fields_palette,\n.organizer_form_builder_view .form_outer {\n\tfloat:left;\n}\n\n.organizer_form_builder_view .form_outer {\n\toverflow:auto;\n\twidth:calc( 100% - 450px );\n\theight:calc( 100% - 50px );\n\tpadding:15px 20px;\n\tmargin:10px;\n\tbackground:#FFF;\n\tbox-shadow: 4px 4px 10px 0px rgba(0, 0, 0, 0.35);\n\t-webkit-box-shadow: 4px 4px 10px 0px rgba(0, 0, 0, 0.35);\n\t-moz-box-shadow: 4px 4px 10px 0px rgba(0, 0, 0, 0.35);\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_section {\n\tpadding:10px;\n\tborder-top:1px solid #FFF;\n\tborder-bottom:1px solid #8CD58B;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_section:first-child,\n.organizer_form_builder_view .form_fields_palette .field_type_list.header_content {\n\tborder-top:0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_section:last-child,\n.organizer_form_builder_view .form_fields_palette .field_type_list_header.header_content {\n\tborder-bottom:0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list.header_content {\n\tpadding-top:0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_header.header_content {\n\tpadding-bottom:0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list.field_type_section_simple {\n\tpadding-top:10px;\n}\n\n/**/\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_header {\n\tpadding:15px;\n\tborder-bottom:1px solid #8ED28C;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs {\n\twidth:100%;\n\toverflow:hidden;\n\tmargin-top:5px;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab {\n\tdisplay:inline-block;\n\tmargin-left:4px;\n\tpadding:10px 8px;\n\tcursor:pointer;\n\tcolor:#777;\n\tbackground:#f0f0f0;\n\tborder:1px solid #b9b9b9;\n\tborder-bottom-color:#6f6f6f;\n\tposition:relative;\n\tz-index:2;\n\t-webkit-border-top-left-radius: 2px;\n\t-webkit-border-top-right-radius: 2px;\n\t-moz-border-radius-topleft: 2px;\n\t-moz-border-radius-topright: 2px;\n\tborder-top-left-radius: 2px;\n\tborder-top-right-radius: 2px;\n\t-webkit-transition: color 0.3s ease-out;\n\t-moz-transition: color 0.3s ease-out;\n\t-o-transition: color 0.3s ease-out;\n\ttransition: color 0.3s ease-out;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab:hover {\n\tcolor:#333;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab.on {\n\tpadding-right:22px;\n\tbackground:#fff url('../admin/images/icon-pencil.png') no-repeat right center;\n\tcolor:#333;\n\tborder-color:#6f6f6f;\n\tborder-bottom-color:#FFF;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab.ui-state-hover {\n\tbackground:#333;\n\tborder-color:#333;\n\tcolor:#fff;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab.visible {\n\tbackground-color:#BFFEAF;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab.hidden {\n\tbackground-color:#CCCCCC;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab.visible_on_condition {\n\tbackground-color:#FFC480;\n}\n\n/**/\n\n.organizer_form_builder_view .form_outer .form_outer_inner {\n\tpadding:20px 15px;\n\theight:calc(100% - 80px);\n}\n\n.organizer_form_builder_view .form_outer .form_header {\n\tpadding:5px 10px;\n\ttext-align:center;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs #organizer_add_new_tab {\n\tcursor:pointer;\n\tcolor:#01d102;\n\tfont-weight:bold;\n\tfont-size:20px;\n\tdisplay:inline-block;\n}\n\n.organizer_form_builder_view .form_outer .form {\n\theight:100%;\n\tborder-top:1px solid #6f6f6f;\n\tposition:relative;\n\tmargin-top:-1px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_section {\n\tmin-height:100%;\n}\n\n.organizer_form_builder_view .form_outer .form .form_section.empty {\n\tpadding:30px;\n\ttext-align:center;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field .form_field_arrow {\n\tdisplay:none;\n\twidth:23px;\n\theight:47px;\n\tbackground:url('../admin/images/builder-status-selected-triangle.png') no-repeat 0 0;\n\tposition:absolute;\n\tright:100%;\n\tz-index:50;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.selected .form_field_arrow {\n\tdisplay:inline-block;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.section_description .description {\n\twhite-space: pre-wrap;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start {\n\tbackground-image:url('../admin/images/icon-repeating-section.png');\n\tbackground-repeat:no-repeat;\n\tbackground-position:5px 20px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,\n.organizer_form_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border {\n\tdisplay:inline-block;\n\tborder-top:2px dashed #333333;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border {\n\twidth:100%;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border {\n\twidth:calc(100% - 40px);\n\tmargin-left:40px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper span,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper span {\n\tdisplay:inline-block;\n\tfloat:right;\n\tpadding:0 8px 2px;\n\tmargin:2px 0 0 40px;\n\tbackground:#777;\n\tcolor:#FFF;\n\tfont-size:10px;\n\t-webkit-border-radius: 3px;\n\t-moz-border-radius: 3px;\n\tborder-radius: 3px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field_classes {\n\ttext-align:right;\n\tdisplay:inline-block;\n\tposition:absolute;\n\tright:8px;\n\tbottom:5px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field_classes .field_icon {\n\tdisplay:inline-block;\n\twidth:40px;\n\ttext-align:center;\n\tpadding:1px 0;\n\tfont-size:10px;\n\ttext-transform:uppercase;\n\tbackground:#333333;\n\tcolor:#FFF;\n\t-webkit-border-radius: 3px;\n\t-moz-border-radius: 3px;\n\tborder-radius: 3px;\n}\n\n/* Organizer builder view\n--------------------------------------------------------------------------------------------------*/\n\n.organizer_admin_box_builder_view {\n\theight:100%;\n\toverflow:hidden;\n\tbackground:url('../admin/images/bg-pattern-grey.png');\n}\n\n.organizer_admin_box_builder_view .form_fields_palette,\n.organizer_admin_box_builder_view .form_outer {\n\theight:calc( 100% - 20px );\n\tfloat:left;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette {\n\toverflow:auto;\n\twidth:370px;\n\tmargin:10px;\n\tbackground:#f6f6f6;\n\tbox-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\t-webkit-box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\t-moz-box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n}\n\n.organizer_admin_box_builder_view .form_outer {\n\twidth:calc( 100% - 410px );\n\toverflow:auto;\n\tmargin:10px;\n\tbackground:#FFF;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette .field_type_section {\n\tpadding:10px;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header.field_type_section {\n\tpadding:15px 15px 0;\n\tbackground:url('../admin/images/builder-sections-separator.gif') repeat-x left top;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header.field_type_section:first-child {\n\tbackground-position:left bottom;\n\tpadding-bottom:15px;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header h5 {\n\tmargin:0;\n\tcolor:#333;\n\tfont-size:16px;\n\tfont-weight:normal;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list,\n.organizer_form_builder_view .form_fields_palette .field_type_list,\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields {\n\toverflow:hidden;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_1,\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_2 {\n\twidth:50%;\n\tfloat:left;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_outer_inner {\n\tpadding:15px;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_outer_inner,\n.organizer_admin_box_builder_view .form_outer .form_outer_inner #organizer_form_sections {\n\theight:100%;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_outer_inner #organizer_form_sections .form_section {\n\tmin-height:100%;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_header {\n\tpadding:5px 10px;\n\tbackground:#ddf6fd;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_header h5 {\n\tmargin:0;\n\tcolor:#333;\n\tfont-size:16px;\n\tfont-weight:normal;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_header h5 span {\n\tfont-size:13px;\n\tfont-style:italic;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_tabs {\n\twidth:100%;\n\toverflow:hidden;\n\tborder-bottom:1px solid #6f6f6f;\n\tmargin:5px 0 10px;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_tabs .tab {\n\tdisplay:inline-block;\n\tcolor:#b9b9b9;\n\tmargin-right:15px;\n\tpadding:10px 0;\n\tcursor:pointer;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_tabs .tab:hover {\n\tcolor:#027cd9;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_tabs .tab.on {\n\tcolor:#333;\n\tborder-bottom:2px solid #01d102;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_tabs #organizer_add_new_tab {\n\tcursor:pointer;\n\tcolor:#01d102;\n\tfont-weight:bold;\n\tfont-size:20px;\n\tdisplay:inline-block;\n}\n\n.organizer_admin_box_builder_view .form_outer .form {\n}\n\n.organizer_admin_box_builder_view .field_type_list_outer h6 {\n\tmargin:0;\n\tpadding:6px 10px 0 15px;\n\tfont-size:13px;\n\tcolor:#000;\n}\n\n.organizer_admin_box_builder_view .field_type_list_outer .field_type_section {\n\tbackground:url(\"../admin/images/builder-sections-separator.gif\") repeat-x left bottom;\n}\n\n.field_type_list_outer .field_type_section .field_type,\n.field_type_list_outer .dataset_fields .dataset_field {\n\tpadding-left:5px;\n}\n\n.field_type_list_outer .field_type_section .field_type span,\n.field_type_list_outer .dataset_fields .dataset_field span {\n\tdisplay:inline-block;\n\twidth:20px;\n\theight:16px;\n\tfloat:left;\n\tbackground-position:0 center;\n\tbackground-repeat:no-repeat;\n\t-webkit-transition: all 0.3s ease-out;\n\t-moz-transition: all 0.3s ease-out;\n\t-o-transition: all 0.3s ease-out;\n\ttransition: all 0.3s ease-out;\n}\n\n.field_type_list_outer .field_type_section .field_type span.centralised_radios {\n\tbackground-position:3px center;\n}\n\n.field_type_list_outer .field_type_section .field_type:hover span,\n.field_type_list_outer .dataset_fields .dataset_field:hover span {\n\tfilter:brightness(500%);\n}\n\n.field_type_list_outer .field_type_section .field_type:hover span.radios, \n.field_type_list_outer .dataset_fields .dataset_field:hover span.radios,\n.field_type_list_outer .field_type_section .field_type:hover span.centralised_radios {\n\tfilter:invert(1);\n}\n\n.field_type_list_outer .field_type_section span.text,\n.field_type_list_outer .dataset_fields .dataset_field span.text,\n.organizer_form_builder_view .form_outer .form_field.text .label, \n.organizer_admin_box_builder_view .form_outer .form_field.text .label,\n.organizer_form_builder_view .form_outer .form_field .label, \n.organizer_admin_box_builder_view .form_outer .form_field .label {\n\tbackground-image:url(\"../admin/images/icon-field-text.svg\");\n\tbackground-position:1px 1px;\n\tbackground-size:auto 13px;\n}\n\n.field_type_list_outer .field_type_section span.checkbox,\n.field_type_list_outer .dataset_fields .dataset_field span.checkbox,\n.organizer_form_builder_view .form_outer .form_field.checkbox .label, \n.organizer_admin_box_builder_view .form_outer .form_field.checkbox .label,\n.organizer_form_builder_view .form_outer .form_field.toggle .label, \n.organizer_admin_box_builder_view .form_outer .form_field.toggle .label {\n\tbackground-image:url(\"../admin/images/icon-field-checkbox.svg\");\n\t/*background-position:5px 4px;*/\n\tbackground-size:12px auto;\n}\n\n.field_type_list_outer .field_type_section span.textarea,\n.field_type_list_outer .dataset_fields .dataset_field span.textarea,\n.organizer_form_builder_view .form_outer .form_field.textarea .label, \n.organizer_admin_box_builder_view .form_outer .form_field.textarea .label {\n\tbackground-image:url(\"../admin/images/icon-field-textarea.svg\");\n\tbackground-size:14px auto;\n}\n\n.field_type_list_outer .field_type_section span.select,\n.field_type_list_outer .dataset_fields .dataset_field span.select,\n.organizer_form_builder_view .form_outer .form_field.select .label, \n.organizer_admin_box_builder_view .form_outer .form_field.select .label,\n.field_type_list_outer .field_type_section span.centralised_select,\n.field_type_list_outer .dataset_fields .dataset_field span.centralised_select,\n.organizer_form_builder_view .form_outer .form_field.centralised_select .label, \n.organizer_admin_box_builder_view .form_outer .form_field.centralised_select .label {\n\tbackground-image:url(\"../admin/images/icon-field-select-list.svg\");\n\tbackground-size:15px auto;\n}\n\n.field_type_list_outer .field_type_section span.radios,\n.field_type_list_outer .dataset_fields .dataset_field span.radios,\n.organizer_form_builder_view .form_outer .form_field.radios .label, \n.organizer_admin_box_builder_view .form_outer .form_field.radios .label,\n.field_type_list_outer .field_type_section span.centralised_radios,\n.field_type_list_outer .dataset_fields .dataset_field span.centralised_radios,\n.organizer_form_builder_view .form_outer .form_field.centralised_radios .label, \n.organizer_admin_box_builder_view .form_outer .form_field.centralised_radios .label {\n\tbackground-image:url(\"../admin/images/icon-field-radios.svg\");\n\tbackground-position:3px center;\n}\n\n.field_type_list_outer .field_type_section span.checkboxes,\n.field_type_list_outer .dataset_fields .dataset_field span.checkboxes,\n.organizer_form_builder_view .form_outer .form_field.checkboxes .label, \n.organizer_admin_box_builder_view .form_outer .form_field.checkboxes .label {\n\tbackground-image:url(\"../admin/images/icon-field-checkboxes.svg\");\n\tbackground-position:3px center;\n}\n\n.field_type_list_outer .field_type_section span.date,\n.field_type_list_outer .dataset_fields .dataset_field span.date,\n.organizer_form_builder_view .form_outer .form_field.date .label, \n.organizer_admin_box_builder_view .form_outer .form_field.date .label {\n\tbackground-image:url(\"../admin/images/icon-field-date.svg\");\n}\n\n.field_type_list_outer .field_type_section span.url,\n.field_type_list_outer .dataset_fields .dataset_field span.url,\n.organizer_form_builder_view .form_outer .form_field.url .label, \n.organizer_admin_box_builder_view .form_outer .form_field.url .label {\n\tbackground-image:url(\"../admin/images/icon-field-url.svg\");\n}\n\n.field_type_list_outer .field_type_section span.editor,\n.field_type_list_outer .dataset_fields .dataset_field span.editor,\n.organizer_form_builder_view .form_outer .form_field.editor .label, \n.organizer_admin_box_builder_view .form_outer .form_field.editor .label {\n\tbackground-image:url(\"../admin/images/icon-field-editor.svg\");\n}\n\n.field_type_list_outer .field_type_section span.file_picker,\n.field_type_list_outer .dataset_fields .dataset_field span.file_picker,\n.organizer_form_builder_view .form_outer .form_field.file_picker .label, \n.organizer_admin_box_builder_view .form_outer .form_field.file_picker .label {\n\tbackground-image:url(\"../admin/images/icon-field-file-picker.svg\");\n\tbackground-size:auto 15px;\n}\n\n.field_type_list_outer .field_type_section span.dataset_select,\n.field_type_list_outer .dataset_fields .dataset_field span.dataset_select,\n.organizer_form_builder_view .form_outer .form_field.dataset_select .label, \n.organizer_admin_box_builder_view .form_outer .form_field.dataset_select .label {\n\tbackground-image:url(\"../admin/images/icon-field-dataset-select.png\");\n}\n\n.field_type_list_outer .field_type_section span.dataset_picker,\n.field_type_list_outer .dataset_fields .dataset_field span.dataset_picker,\n.organizer_form_builder_view .form_outer .form_field.dataset_picker .label, \n.organizer_admin_box_builder_view .form_outer .form_field.dataset_picker .label {\n\tbackground-image:url(\"../admin/images/icon-field-dataset-picker.png\");\n}\n\n.field_type_list_outer .field_type_section span.flag,\n.field_type_list_outer .dataset_fields .dataset_field span.flag,\n.organizer_form_builder_view .form_outer .form_field.flag .label, \n.organizer_admin_box_builder_view .form_outer .form_field.flag .label {\n\tbackground-image:url(\"../admin/images/icon-field-flag.png\");\n}\n\n.field_type_list_outer .field_type_section span.group,\n.field_type_list_outer .dataset_fields .dataset_field span.group,\n.organizer_form_builder_view .form_outer .form_field.group .label, \n.organizer_admin_box_builder_view .form_outer .form_field.group .label {\n\tbackground-image:url(\"../admin/images/icon-field-group.svg\");\n\tbackground-size:16px auto;\n}\n\n.field_type_list_outer .field_type_section span.attachment,\n.field_type_list_outer .dataset_fields .dataset_field span.attachment,\n.organizer_form_builder_view .form_outer .form_field.attachment .label, \n.organizer_admin_box_builder_view .form_outer .form_field.attachment .label {\n\tbackground-image:url(\"../admin/images/icon-field-attachment.svg\");\n}\n\n.field_type_list_outer .field_type_section span.calculated,\n.field_type_list_outer .dataset_fields .dataset_field span.calculated,\n.organizer_form_builder_view .form_outer .form_field.calculated .label, \n.organizer_admin_box_builder_view .form_outer .form_field.calculated .label {\n\tbackground-image:url(\"../admin/images/icon-field-calculated.svg\");\n}\n\n.field_type_list_outer .field_type_section span.restatement,\n.field_type_list_outer .dataset_fields .dataset_field span.restatement,\n.organizer_form_builder_view .form_outer .form_field.restatement .label, \n.organizer_admin_box_builder_view .form_outer .form_field.restatement .label {\n\tbackground-image:url(\"../admin/images/icon-field-mirrored.svg\");\n}\n\n.field_type_list_outer .field_type_section span.repeat_start,\n.field_type_list_outer .dataset_fields .dataset_field span.repeat_start,\n.organizer_form_builder_view .form_outer .form_field.repeat_start .label, \n.organizer_admin_box_builder_view .form_outer .form_field.repeat_start .label {\n\tbackground-image:url(\"../admin/images/icon-field-repeatblock.svg\");\n}\n\n.field_type_list_outer .field_type_section span.section_description,\n.field_type_list_outer .dataset_fields .dataset_field span.section_description,\n.organizer_form_builder_view .form_outer .form_field.section_description .label, \n.organizer_admin_box_builder_view .form_outer .form_field.section_description .label {\n\tbackground-image:url(\"../admin/images/icon-field-subheading.svg\");\n}\n\n.field_type_list_outer .field_type_section span.document_upload,\n.field_type_list_outer .dataset_fields .dataset_field span.document_upload,\n.organizer_form_builder_view .form_outer .form_field.document_upload .label, \n.organizer_admin_box_builder_view .form_outer .form_field.document_upload .label {\n\tbackground-image:url(\"../admin/images/icon-field-document-upload.svg\");\n}\n\n.field_type_list_outer .field_type_section span.consent,\n.field_type_list_outer .dataset_fields .dataset_field span.consent,\n.organizer_form_builder_view .form_outer .form_field.consent .label, \n.organizer_admin_box_builder_view .form_outer .form_field.consent .label {\n\tbackground-image:url(\"../admin/images/icon-consents-dark.svg\");\n}\n\n/* Form builder,\n   Adminbox builder\n--------------------------------------------------------------------------------------------------*/\n\n.organizer_form_builder_view input[type=\"text\"],\n.organizer_form_builder_view input[type=\"email\"],\n.organizer_form_builder_view input[type=\"password\"],\n.organizer_form_builder_view textarea,\n.organizer_admin_box_builder_view input[type=\"text\"],\n.organizer_admin_box_builder_view input[type=\"email\"],\n.organizer_admin_box_builder_view input[type=\"password\"],\n.organizer_admin_box_builder_view textarea {\n\tborder: 1px solid #c4c4c4;\n\tcolor: #424242;\n\tfont-family: Verdana,Tahoma,Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n\tpadding: 5px;\n}\n\n.organizer_form_builder_view .form_fields_palette,\n.organizer_admin_box_builder_view .form_fields_palette {\n\toverflow-y:auto;\n\twidth:370px;\n\tmargin:10px;\n\theight:calc( 100% - 24px );\n\tbox-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\t-webkit-box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\t-moz-box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\tbackground:#f6f6f6;\n}\n\n.organizer_form_builder_view .form_fields_palette_outer,\n.organizer_admin_box_builder_view .form_fields_palette_outer {\n\tposition:relative;\n\tdisplay:table;\n\twidth:100%;\n\theight:calc( 100% - 158px );\n}\n\n.organizer_form_builder_view .form_fields_palette_outer .field_details_outer,\n.organizer_admin_box_builder_view .form_fields_palette_outer .field_details_outer {\n\tdisplay:table-cell;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer,\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_outer {\n\theight:100%;\n\tbackground:#baefba;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_header > div,\n.organizer_form_builder_view .form_outer .form_header > div,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_header > div,\n.organizer_admin_box_builder_view .form_outer .form_header > div,\n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header > div {\n\tpadding:10px 15px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_info,\n.organizer_form_builder_view .form_outer .form_header .field_info,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_info,\n.organizer_admin_box_builder_view .form_outer .form_header .field_info,\n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .field_info {\n\tmargin-top:5px;\n\tfont-size:11px;\n\tfont-style:italic;\n\t-ms-word-break: break-all;\n  \tword-break: break-all;\n  \tword-break: break-word;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_details_header_options,\n.organizer_form_builder_view .form_outer .form_header .field_details_header_options,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_details_header_options,\n.organizer_admin_box_builder_view .form_outer .form_header .field_details_header_options,\n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .tab_details_header_options {\n\toverflow:hidden;\n\ttext-align:right;\n\tborder-bottom:1px solid #C6CBCF;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_details_header_options input,\n.organizer_form_builder_view .form_outer .form_header .field_details_header_options input,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_details_header_options input,\n.organizer_admin_box_builder_view .form_outer .form_header .field_details_header_options input,\n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .tab_details_header_options input {\n\tmargin-left:10px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_header h5,\n.organizer_form_builder_view .form_fields_palette .field_details_header h5, \n.organizer_admin_box_builder_view .form_fields_palette .field_details_header h5,\n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header h5 {\n\tmargin:0;\n\tcolor:#000;\n\tfont-size:16px;\n\tfont-weight:normal;\n\tdisplay:inline;\n}\n\n.organizer_form_builder_view .form_outer .form_header h5,\n.organizer_admin_box_builder_view .form_outer .form_header h5 {\n\tmargin:0;\n\tcolor:#333;\n\tfont-size:16px;\n\tfont-weight:normal;\n\tpadding-right:10px;\n}\n\n.organizer_form_builder_view .form_outer .form_header h5 span,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_header h5 span{\n\tfont-size:13px;\n\tfont-style:italic;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_name, \n.organizer_form_builder_view .form_outer .form_header .field_name, \n.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_name, \n.organizer_admin_box_builder_view .form_outer .form_header .field_name, \n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .field_name {\n\twidth:calc(100% - 40px);\n}\n\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content {\n\tposition:relative;\n}\n\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .edit_mode span,\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .view_mode span {\n\tmargin-left:10px;\n\tfont-size:11px;\n\tcolor:#007fa3;\n\tcursor:pointer;\n\t-webkit-transition: all 0.3s ease-out;\n\t-moz-transition: all 0.3s ease-out;\n\t-o-transition: all 0.3s ease-out;\n\ttransition: all 0.3s ease-out;\n}\n\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .view_mode span:hover {\n\ttext-decoration:underline;\n}\n\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .edit_mode input {\n\twidth:70%;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette_outer .tab_details_header_content .add_new_field,\n.organizer_admin_box_builder_view .form_fields_palette_outer .field_details_header_content .add_new_field,\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .add_new_field {\n\tposition:absolute;\n\ttop:14px;\n\tright:15px;\n\ttext-indent:-999;\n\tcursor:pointer;\n\tcolor:#007fa3;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_outer,\n.organizer_form_builder_view .form_fields_palette .field_details_inner,\n.organizer_form_builder_view .form_fields_palette .field_details,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_outer,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_inner,\n.organizer_admin_box_builder_view .form_fields_palette .field_details,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details_outer,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details_inner {\n\theight:100%;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details,\n.organizer_admin_box_builder_view .form_fields_palette .field_details,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details {\n\tbackground:#fbf290;\n\tborder-top:1px solid #b9b9b9;\n\tposition:relative;\n\tz-index:9;\n\tmargin-top:-1px;\n\tpadding:20px 15px;\n\tcolor:#000;\n}\n\n\n.organizer_form_builder_view .form_outer p.error,\n.organizer_form_builder_view .form_fields_palette .field_details .error,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .error,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details .error {\n\tbackground:#fce4e1;\n\tborder:1px solid #fad3c7;\n\tpadding:5px 8px;\n}\n\n.organizer_form_builder_view .form_outer p.error,\n.organizer_form_builder_view .form_fields_palette .field_details p.error,\n.organizer_admin_box_builder_view .form_fields_palette .field_details p.error,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details p.error {\n\tmargin:0 0 5px;\n\tcolor:#af0615;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .field,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .fieldfield_details,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details .field,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .field {\n\tpadding:5px 0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .field:before,\n.organizer_form_builder_view .form_fields_palette .field_details .field:after {\n\tcontent: '.';\n\twidth: 0;\n\theight: 0;\n\tfont-size: 0;\n\tline-height: 0;\n\tdisplay: block;\n\toverflow: hidden;\n\tvisibility: hidden;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .field:after {\n\tclear: both;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .field table {\n\twidth:100%;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .title,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .title,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details .title {\n\tfont-weight:bold;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .value,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .value,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details .value {\n\tmargin:3px 0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details input[type=\"text\"],\n.organizer_form_builder_view .form_fields_palette .field_details input[type=\"email\"],\n.organizer_form_builder_view .form_fields_palette .field_details input[type=\"password\"],\n.organizer_form_builder_view .form_fields_palette .field_details select,\n.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"text\"],\n.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"email\"],\n.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"password\"],\n.organizer_admin_box_builder_view .form_fields_palette .field_details select,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"text\"],\n.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"email\"],\n.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"password\"],\n.organizer_admin_box_builder_view .form_fields_palette .tab_details select {\n\twidth:calc(100% - 12px);\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .ui-sortable-handle input[type=\"text\"],\n.organizer_admin_box_builder_view .form_fields_palette .field_details .ui-sortable-handle input[type=\"text\"] {\n\twidth:calc(100% - 72px);\n\tpadding-right:65px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .note_below,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .note_below {\n\tfont-size:11px;\n\tline-height:14px;\n\tfont-style:italic;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details textarea {\n\twidth:100%;\n\theight:150px;\n\tmax-width:320px;\n}\n\n.organizer_form_builder_view .field_type,\n.organizer_admin_box_builder_view .field_type,\n.organizer_form_builder_view .dataset_field {\n\twidth:45%;\n\twidth:calc( 50% - 25px);\n\tpadding:4px 5px 6px 10px;\n\tline-height:16px;\n\tmargin:5px;\n\tbackground:#FFF;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\t-webkit-box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.35);\n\t-moz-box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.35);\n\tbox-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.35);\n\tcursor:move;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_1 .dataset_field,\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_2 .dataset_field {\n\twidth:calc(100% - 45px);\n}\n\n.organizer_form_builder_view .form_outer .field_type,\n.organizer_admin_box_builder_view .form_outer .field_type,\n.organizer_form_builder_view .form_outer .dataset_field {\n\twidth:140px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list .field_type,\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type {\n\tfloat:left;\n\tposition:relative;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field {\n\tdisplay:inline-block;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list .field_type:hover,\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type:hover,\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field:hover,\n.organizer_form_builder_view .field_type.ui-draggable-dragging,\n.organizer_admin_box_builder_view .field_type.ui-draggable-dragging,\n.organizer_form_builder_view .dataset_field.ui-draggable-dragging {\n\tbackground:#027dc9;\n}\n\n.organizer_form_builder_view .field_type.ui-draggable-dragging,\n.organizer_admin_box_builder_view .field_type.ui-draggable-dragging,\n.organizer_form_builder_view .dataset_field.ui-draggable-dragging {\n\twidth:140px;\n}\n\n.organizer_form_builder_view .zenario_indent_level_1,\n.organizer_admin_box_builder_view .zenario_indent_level_1 {\n\twidth:calc(100% - 15px - 102px) !important;\n\tmargin-left:15px;\n}\n\n.organizer_form_builder_view .zenario_indent_level_1 .zenario_indent_level_1,\n.organizer_admin_box_builder_view .zenario_indent_level_1 .zenario_indent_level_1 {\n\twidth:100% !important;\n\tmargin-left:0;\n}\n\n.organizer_form_builder_view .zenario_indent_level_2,\n.organizer_admin_box_builder_view .zenario_indent_level_2 {\n\twidth:calc(100% - 30px - 102px) !important;\n\tmargin-left:30px;\n}\n\n.organizer_form_builder_view .zenario_indent_level_3,\n.organizer_admin_box_builder_view .zenario_indent_level_3 {\n\twidth:calc(100% - 45px - 102px) !important;\n\tmargin-left:45px;\n}\n\n.organizer_form_builder_view .field_type h4,\n.organizer_admin_box_builder_view .field_type h4,\n.organizer_form_builder_view .dataset_field h4 {\n\tmargin:0 !important;\n\toverflow:hidden;\n\tcolor:#000;\n\tfont-size:12px;\n\tline-height:16px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list .field_type:hover h4,\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type:hover h4,\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field:hover h4,\n.organizer_form_builder_view .field_type.ui-draggable-dragging h4,\n.organizer_admin_box_builder_view .field_type.ui-draggable-dragging h4,\n.organizer_form_builder_view .dataset_field.ui-draggable-dragging h4 {\n\tcolor:#FFF !important;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_tab {\n\toverflow:hidden;\n\tdisplay:block;\n\tfloat:none;\n}\n\n.organizer_form_builder_view .preview,\n.organizer_admin_box_builder_view .preview {\n\twidth:750px;\n\tpadding:25px;\n\tdisplay:block;\n\tborder:3px dashed #d5d5d5;\n\tbackground:#f6f6f6;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_tabs,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs {\n\toverflow:hidden;\n\twidth:100%;\n\tdisplay:block;\n\tposition:relative;\n\tz-index:10;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab {\n\tdisplay:inline-block;\n\tpadding:0 5px;\n\tline-height:30px;\n\tborder:1px solid #d5d5d5;\n\tbackground:#d5d5d5;\n\tcolor:#6f6f6f;\n\tborder-bottom:0;\n\tmargin-right:1px;\n\t-webkit-border-top-left-radius: 4px;\n\t-webkit-border-top-right-radius: 4px;\n\t-moz-border-radius-topleft: 4px;\n\t-moz-border-radius-topright: 4px;\n\tborder-top-left-radius: 4px;\n\tborder-top-right-radius: 4px;\n\tcursor:pointer;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab:first-child,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab:first-child {\n\tmargin-left:4px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab.on,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab.on {\n\tbackground:#fbf290;\n\tborder-color:#b9b9b9;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field,\n.organizer_admin_box_builder_view .form_outer .form_field {\n\tclear:both;\n\tposition:relative;\n\tpadding:14px 90px 14px 12px;\n\tcursor:pointer;\n\t-webkit-transition: background 0.2s ease;\n\t-moz-transition: background 0.2s ease;\n\t-o-transition: background 0.2s ease;\n\ttransition: background 0.2s ease;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field:after,\n.organizer_admin_box_builder_view .form_outer .form_field:after { \n   content: \".\"; \n   visibility: hidden; \n   display: block; \n   height: 0; \n   clear: both;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field .label,\n.organizer_admin_box_builder_view .form_outer .form_field .label {\n\tmin-height:18px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start {\n\tpadding-bottom:30px;\n}\n\n.field_type_list_outer .field_type_section#organizer_centralised_field_type_list .field_type,\n.organizer_form_builder_view .form_outer .form div.form_field[class*=\"centralised\"],\n.organizer_admin_box_builder_view .form_outer .form div.form_field[class*=\"centralised\"] {\n\tbackground-image:url('../admin/images/form-field-bg-centralised.gif');\n\tbackground-repeat:no-repeat;\n\tbackground-position:9px 11px;\n}\n\n.field_type_list_outer .field_type_section#organizer_centralised_field_type_list .field_type {\n\tbackground-position:2px 3px;\n}\n\n.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field,\n.organizer_form_builder_view .form_outer .form .form_field.linked_field,\n.organizer_form_builder_view .form_outer .form div.form_field[class*=\"centralised\"].linked_field,\n.organizer_admin_box_builder_view .form_outer .form div.form_field[class*=\"centralised\"].linked_field {\n\tbackground-image:url('../admin/images/form-field-bg-linked.gif');\n\tbackground-repeat:no-repeat;\n\tbackground-position:9px 11px;\n}\n\n.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field {\n\tbackground-position:2px 3px;\n}\n\n.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field .checkbox {\n\tbackground-position:1px 2px;\n}\n\n.organizer_form_builder_view .form_outer .form_field .label,\n.organizer_admin_box_builder_view .form_outer .form_field .label {\n\tdisplay:block;\n\tmargin-bottom:4px;\n\tpadding-left:20px;\n\tcolor:#424242;\n\tfont-weight:bold;\n\tbackground-position:left 2px;\n\tbackground-repeat:no-repeat;\n}\n\n.organizer_form_builder_view .form_outer .form_field.editor .label,\n.organizer_admin_box_builder_view .form_outer .form_field.editor .label {\n\tbackground-size:16px auto;\n\tbackground-position:left center;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_field.group .label,\n.organizer_form_builder_view .form_outer .form_field.group .label {\n\tdisplay:inline-block;\n}\n\n.organizer_form_builder_view .form_outer .form_field input[type=\"text\"],\n.organizer_form_builder_view .form_outer .form_field input[type=\"email\"],\n.organizer_form_builder_view .form_outer .form_field input[type=\"password\"],\n.organizer_form_builder_view .form_outer .form_field textarea,\n.organizer_admin_box_builder_view .form_outer .form_field input[type=\"text\"],\n.organizer_admin_box_builder_view .form_outer .form_field input[type=\"email\"],\n.organizer_admin_box_builder_view .form_outer .form_field input[type=\"password\"],\n.organizer_admin_box_builder_view .form_outer .form_field textarea {\n\twidth: 410px;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_field.radios .label,\n.organizer_admin_box_builder_view .form_outer .form_field.checkbox .label,\n.organizer_form_builder_view .form_outer .form_field.radios .label,\n.organizer_form_builder_view .form_outer .form_field.checkbox .label {\n\toverflow:hidden;\n\tpadding-left:25px;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_field.checkbox [type=\"checkbox\"],\n.organizer_form_builder_view .form_outer .form_field.checkbox [type=\"checkbox\"] {\n\tfloat:left;\n}\n\n.organizer_form_builder_view .form_outer .form_field input[type=\"text\"].form_picked_item,\n.organizer_admin_box_builder_view .form_outer .form_field input[type=\"text\"].form_picked_item {\t\n\tmargin-right:5px;\n}\n\n.organizer_form_builder_view input[readonly],\n.organizer_admin_box_builder_view input[readonly] {\t\n\tbackground: #e9e9e9 none repeat scroll 0 0 !important;\n\tborder: 1px solid #dadada !important;\n\tcolor: #999 !important;\n\tcursor:default;\n}\n\n.organizer_form_builder_view .form_outer .form_field input[type=\"button\"],\n.organizer_admin_box_builder_view .form_outer .form_field input[type=\"button\"] {\t\n\tcolor: #fff;\n\tfont-family: Verdana,Tahoma,Arial,Helvetica,sans-serif;\n\tfont-size: 13px;\n\tmargin-right: 15px;\n\tpadding: 2px 10px 3px;\n\ttext-shadow: 0 1px 1px #000;\n\tbackground-color: #0298c3;\n\tborder: 1px solid #007fa3;\n\tborder-radius: 2px 3px 3px 2px / 3px;\n\tcursor: pointer;\n}\n\n.organizer_form_builder_view .form_outer .form_field .zenario_note_below,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_note_below {\n\twidth: 408px;\n\tpadding: 3px 5px 5px 7px;\n\tmargin-top: 8px;\n\tbackground: #b1e6fd none repeat scroll 0 0;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note_wrap,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note_wrap {\n\tfloat: right;\n\theight: 0;\n\tline-height: 1px;\n\tmargin: 2px 0 0 10px;\n\tposition: relative;\n\ttext-align: left;\n\twidth: 200px;\n\tz-index: 9;\n}\n\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note {\n\tpadding:5px 10px;\n\tfont-size:10px;\n\tline-height:14px;\n\tposition:absolute;\n\tbackground:#e0e0e0;\n\t-webkit-border-radius:4px;\n\t-webkit-border-top-left-radius:0;\n\t-moz-border-radius:4px;\n\t-moz-border-radius-topleft:0;\n\tborder-radius:4px;\n\tborder-top-left-radius:0;\n}\n\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note:after,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note:after {\n\tright:100%;\n\ttop:0;\n\tborder:solid transparent;\n\tcontent:\" \";\n\theight:0;\n\twidth:0;\n\tposition:absolute;\n\tpointer-events:none;\n\tborder-color:rgba(224,224,224,0);\n\tborder-right-color:#e0e0e0;\n\tborder-width:6px\n}\n\n.organizer_form_builder_view .form_outer .form_field .zenario_note_below,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_note_below,\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note {\n\tcolor: #333;\n\tfont-size: 10px;\n\tword-wrap: break-word;\n}\n\n.form_outer .form .form_field:hover {\n\tbackground:#ddf6fd;\n}\n\n.form_outer .form .form_field.selected {\n\tbackground:#fbf290;\n}\n\n.form_outer .form .form_field.ui-sortable-helper {\n\topacity:0.6;\n}\n\n.form_outer .form .form_field .form_field_inline_buttons,\n.field_value .form_field_value_inline_buttons {\n\twidth:75px;\n\tposition:absolute;\n\tright:12px;\n\ttext-align:right; \n}\n\n.form_outer .form .form_field .form_field_inline_buttons {\n\ttop:5px;\n}\n\n.field_value .form_field_value_inline_buttons {\n\ttop:10px;\n}\n\n.form_outer .form .form_field .form_field_inline_buttons span,\n.field_value .form_field_value_inline_buttons span {\n\tdisplay:inline-block;\n\tfloat:right;\n\twidth:18px;\n\theight:18px;\n\ttext-indent:-999;\n\tfont-size:0;\n\tline-height:0;\n\tmargin-left:5px;\n}\n\n.form_outer .form .form_field .form_field_inline_buttons .drag_icon,\n.field_value .form_field_value_inline_buttons .drag_icon {\n\tbackground:url('../admin/images/icon-vertical-drag-cursor.svg') no-repeat center center / auto 18px;\n}\n\n.form_outer .form .form_field .form_field_inline_buttons .delete_icon,\n.field_value .form_field_value_inline_buttons .delete_icon {\n\tposition:relative;\n\tz-index:9;\n\tcursor:pointer;\n\tbackground:url('../admin/images/icon-trash-can.svg') no-repeat center center / auto 15px;\n}\n\n.form_outer .form .form_field .form_field_inline_buttons .duplicate_icon,\n.field_value .form_field_value_inline_buttons .duplicate_icon {\n\twidth:24px;\n\tbackground:url('../admin/images/icon-duplicate-v2.svg') no-repeat center center / auto 15px;\n}\n\n.organizer_form_builder_view .field_value,\n.organizer_admin_box_builder_view .field_value {\n\tposition:relative;\n\tpadding:5px 0;\n\toverflow:hidden;\n}\n\n.form_fields_palette .bottom_buttons {\n\toverflow:hidden;\n\tpadding-top:10px;\n\ttext-align:right;\n}\n\n.organizer_form_builder_view #organizer_field_details_form .bottom_buttons input[type=\"button\"] {\n\tmargin-right:8px;\n}\n\n.form_fields_palette .tab_details_inner > .bottom_buttons,\n.form_fields_palette .field_details > .bottom_buttons {\n\tpadding:15px;\n\tbackground:#F0F0F0;\n}\n\n.organizer_form_builder_view .form_outer .grouping,\n.organizer_admin_box_builder_view .form_outer .grouping {\n\tborder:1px dotted #333;\n\tmargin-bottom:5px;\n}\n\n/* Form builder buttons,\n   Adminbox builder buttons\n--------------------------------------------------------------------------------------------------*/\n\n.organizer_form_builder_view .form_fields_palette input[type=\"button\"],\n.organizer_admin_box_builder_view .form_fields_palette input[type=\"button\"],\n.organizer_form_builder_view .form_fields_palette .field_type_section input[type=\"button\"] {\n\theight:25px;\n\tfont-size:12px;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\tcursor:pointer;\n}\n\n.organizer_form_builder_view .form_fields_palette input[type=\"button\"],\n.organizer_admin_box_builder_view .form_fields_palette input[type=\"button\"] {\n\tdisplay:inline-block;\n\tpadding:0 6px;\n\tbackground-color:#F6F6F6;\n\tborder:1px solid #B9B9B9;\n\tcolor:#000;\n\tfloat:right;\n\tmargin-bottom:5px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_section input[type=\"button\"] {\n\tfloat:right;\n\tpadding:0 10px;\n}\n\n/*.organizer_form_builder_view .form_fields_palette .field_type_section input[type=\"button\"] {\n\tbackground:#f6f6f6;\n\tborder:1px solid #b9b9b9;\n}*/\n\n\n/*\n\tHide the top right icons if the form builder is open, except for the debug icon\n*/\n\n.organizer_panel__form_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons > *,\n.organizer_panel__custom_tabs_and_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons > * {\n\tdisplay: none;\n}\n\n.organizer_panel__form_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons > #organizer_debug_button,\n.organizer_panel__custom_tabs_and_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons > #organizer_debug_button {\n\tdisplay: inline-block;\n}\n\n\n\n\n\n\n\n\n.field_type_list .preview {\n\t\n}\n\n\n/*\n\tStyles for the master switch for Scheduled tasks,\n\ttaken from https://proto.io/freebies/onoff/\n*/\n\n.zenario_master_switch-wrap {\n\tposition: fixed;\n\tbottom: 70px;\n\tright: 35px;\n\twidth: 300px;\n\theight: 70px;\n}\n\n.zenario_master_switch-text {\n\tfloat: left;\n\tdisplay: block;\n\tfont-size: 20px;\n\tfont-weight: bold;\n\tpadding: 3px 15px 0 0;\n}\n\n.zenario_master_switch {\n\tfloat: left;\n\tposition: relative; width: 80px;\n\t-webkit-user-select:none; -moz-user-select:none; -ms-user-select: none;\n}\n.zenario_master_switch-checkbox {\n\tdisplay: none;\n}\n.zenario_master_switch-label {\n\tdisplay: block; overflow: hidden; cursor: pointer;\n\tborder: 2px solid #999999; border-radius: 20px;\n}\n.zenario_master_switch-inner {\n\tdisplay: block; width: 200%; margin-left: -100%;\n\ttransition: margin 0.3s ease-in 0s;\n}\n.zenario_master_switch-inner:before, .zenario_master_switch-inner:after {\n\tdisplay: block; float: left; width: 50%; height: 30px; padding: 0; line-height: 30px;\n\tfont-size: 14px; color: white; font-family: Trebuchet, Arial, sans-serif; font-weight: bold;\n\tbox-sizing: border-box;\n}\n.zenario_master_switch-inner:before {\n\tcontent: \"On\";\n\tpadding-left: 10px;\n\tbackground-color: #60B000; color: #FFFFFF;\n}\n.zenario_master_switch-inner:after {\n\tcontent: \"Off\";\n\tpadding-right: 10px;\n\tbackground-color: #800000; color: #709090;\n\ttext-align: right;\n}\n.zenario_master_switch-switch {\n\tdisplay: block; width: 42px; margin: -6px;\n\tbackground: #EEEEEE;\n\tposition: absolute; top: 0; bottom: 0;\n\tright: 46px;\n\tborder: 2px solid #999999; border-radius: 20px;\n\ttransition: all 0.3s ease-in 0s; \n}\n.zenario_master_switch-checkbox:checked + .zenario_master_switch-label .zenario_master_switch-inner {\n\tmargin-left: 0;\n}\n.zenario_master_switch-checkbox:checked + .zenario_master_switch-label .zenario_master_switch-switch {\n\tright: 0px; \n}\n\n/* Tooltips\n--------------------------------------------------------------------------------------------------*/\n\ndiv.ui-tooltip.zenario_link_status_tooltip {\n\tbackground:#0073BD;\n\tborder-color:#0073BD;\n\tpadding:8px !important;\n}\n\ndiv.ui-tooltip.zenario_link_status_tooltip .ui-tooltip-content {\n\tcolor:#FFF;\n\tfont-size:12px;\n\tline-height:15px;\n\tmargin:0;\n}\n\n/* NEW STYLES FOR ORGANIZER BAR\n--------------------------------------------------------------------------------------------------*/\n\n#organizer_buttons {\n\tbackground:#baefba;\n}\n\n.zenario_panel_type__form_builder #organizer_buttons,\n.zenario_panel_type__admin_box_builder #organizer_buttons {\n\tbackground:transparent;\n}\n\n#organizer_collectionToolbarWrap {\n\tpadding-left:5px;\n\tpadding-right:0;\n}\n\n#organizer_rightColumn #organizer_itemToolbar {\n\tborder-left:0;\n}\n\n#organizer_itemToolbarWrap #organizer_itemToolbar .toolbarButtons {\n\tbackground:#f6f6f6;\n\tborder: 1px solid #ccc;\n    height: 37px;\n    margin-top: 6px;\n}\n\n#organizer_itemToolbarWrap #organizer_itemToolbar .toolbarButtons > ul:first-child > li:first-child {\n    padding-left: 10px;\n}\n\n#organizer_rightColumn #organizer_itemToolbarButtons  {\n\tanimation: yellow_flash 1s;\n\t-webkit-animation: yellow_flash 1s;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image {\n\tmargin-top:5px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li {\n\tmargin-top:0;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\tpadding-bottom:2px;\n}\n\n/*.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a, \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a, \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a {\n\tbackground:transparent;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a, \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a {\n\tbackground:transparent;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children > a {\n\tbackground:transparent;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children > a span {\n\tbackground:url('../admin/images/icon-arrow-down-dark.svg')  no-repeat right 5px / 8px 8px;\n}*/\n\n.organizer_toolbar .toolbar .toolbarButtons > ul > li.zenario_create_a_new > a:before {\n\tcontent:' +';\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a:hover, \n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new:hover a,  \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a,  \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a {\n\tcolor:#000 !important;\n}\n\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons > ul > li > a,  \n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li a {\n\tcolor:#111;\n}\n\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li a:hover,\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li:hover a,\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li.zenario_create_a_new a:hover, \n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li.zenario_create_a_new:hover a,\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__export li:hover a, \n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__export li a:hover, \n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li:hover a, \n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li a:hover {\n\tcolor:#000;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a, \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a, \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a {\n\t-webkit-border-radius:0;\n\t-moz-border-radius:0;\n\tborder-radius:0;\n\t-webkit-text-shadow:none;\n\t-moz-text-shadow:none;\n\ttext-shadow:none;\n}\n\n#organizer_applyCancelToolbar {\n\tpadding:12px 0 0 10px;\n}\n\n#organizer_applyCancelToolbar ul li,\n#organizer_applyCancelToolbar ul li:hover {\n\tbackground:transparent;\n}\n\n.zenario_panel_type__form_builder #organizer_applyCancelToolbar,\n.zenario_panel_type__admin_box_builder #organizer_applyCancelToolbar {\n\tpadding-top:0;\n}", "#zenario_fbog.zenario_organizer_quick{height:97%}body.webkit input{line-height:inherit !important}.zenario_og,.zenario_og textarea{font-family:Verdana,Arial,Helvetica,sans-serif;font-size:9pt;color:#616161}\n.zenario_organizer_quick__overlay{opacity:.4}.organizer_wrapInner,.organizer_wrapOuter,.organizer_wrapOuter div{width:100%;padding:0;margin:auto}.organizer_wrapInner{overflow:hidden}\n#organizer_wrapOuter_tm,#organizer_wrapInner_bm{width:auto}#organizer__box_inner{background:#f6f6f6;-webkit-box-shadow:0 0 5px 2px #929292;box-shadow:0 0 5px 2px #929292}\n#organizer_leftColumnOuter *::selection{background-color:transparent}#organizer_leftColumnOuter *::-moz-selection{background-color:transparent}#organizer_itemCountWrap *::selection{background-color:transparent}\n#organizer_itemCountWrap *::-moz-selection{background-color:transparent}#organizer__box_inner.organizer_multiple_items_selected #organizer_rightColumn *::selection{background-color:transparent}\n#organizer__box_inner.organizer_multiple_items_selected #organizer_rightColumn *::-moz-selection{background-color:transparent}#organizer__box_inner.organizer_not_loaded{opacity:0}\n#organizer__box_inner.organizer_loaded{opacity:1}#organizer__box_inner.organizer_interaction_disabled #organizer_leftColumnOuter,#organizer__box_inner.organizer_interaction_disabled #organizer_header #organizer_backButton,#organizer__box_inner.organizer_interaction_disabled #organizer_header #organizer_viewOptions{filter:alpha(opacity=60);-khtml-opacity:.6;-moz-opacity:.6;opacity:.6}\n#organizer_container{padding:auto;margin:auto}.organizer_wrapOuter{height:39px}#organizer__box_top{height:39px;position:relative;background:#333}#organizer__box_center{clear:both}\n#organizer__box_bottom{display:none}#organizer__box_bottom{height:19px;overflow:hidden;position:relative}#organizer__box_bottom .organizer_wrapInner{float:left}\n#organizer__box_bottom .organizer_bl,#organizer__box_bottom .organizer_br{display:block;width:16px;height:19px}#organizer__box_bottom .organizer_br{width:16px}\n#organizer__box_bottom .organizer_bl{float:left;background:0 -350px no-repeat;left:0}#organizer__box_bottom .organizer_br{float:left;background:-3px -100px no-repeat;right:0}\n.organizer_wrapOuter div{background:transparent no-repeat;height:39px}.organizer_wrapOuter div div{margin-top:0}.organizer_wrapInner{float:left;height:19px}\n#organizer__box_top .organizer_info_box{width:170px;margin:10px 0 0 20px;height:36px;cursor:pointer}#organizer_topRightButtons{width:auto;padding-top:9px;margin-left:182px}\n.organizer_wrapOuter #organizer_search{width:332px;float:right;margin-right:30px;margin-top:7px}#organizer_searchForm input,#organizer_searchForm img{float:left}\n#organizer_searchForm input#organizer_search_term{width:138px;background:#fff;border:0;padding:0 8px 0 26px;height:34px;line-height:34px;background:url('../admin/images/icon-search-magnifyer.svg') no-repeat 4px center / 16px 16px;box-sizing:content-box}\n#organizer_searchForm input#organizer_search_term,#organizer_searchForm input#organizer_search_term::-webkit-input-placeholder,#organizer_searchForm input#organizer_search_term:-moz-placeholder,body.ie label#search_term_placeholder{color:#6f6f6f}\nbody.ie label#search_term_placeholder{cursor:text;padding:4px 4px 4px 4px}#organizer_searchForm input#search_btn{margin:0 10px}.organizer_wrapOuter .organizer_close_button,.organizer_wrapOuter .restore_button{height:39px;width:40px;float:right}\n.organizer_wrapOuter .organizer_close_button a,#organizer__box_top .close_button a{background:url(../admin/images/icon-close-off.svg) no-repeat;background-size:100%;width:34px;height:34px;position:absolute;right:6px;top:2px;display:block;cursor:pointer}\n.organizer_wrapOuter .organizer_close_button a:hover,#organizer__box_top .close_button a:hover{background:url(../admin/images/icon-close-over.svg) no-repeat}\n.organizer_wrapOuter .restore_button{display:none}.zenario_organizer_quick .organizer_wrapOuter .restore_button{display:block}#organizer_top_right_buttons{float:right;width:auto}\n.organizer_wrapOuter .logout_button a,.organizer_wrapOuter .top_right_button,.organizer_wrapOuter .top_right_button li a{width:38px;height:34px}.organizer_wrapOuter .top_right_button{float:right;border:1px solid #b3b3b3;border-top:0}\n.organizer_wrapOuter .top_left_button,.organizer_wrapOuter .top_left_button a{width:38px;height:38px}.organizer_wrapOuter .zenario_ywip,.organizer_wrapOuter .zenario_ywip a{width:44px}\n.organizer_wrapOuter .top_left_button{float:left;border-right:1px solid #818181;margin-left:1px;background:url('../admin/images/store_keeper/nav-button-bg-grey.png') repeat-x top}\n.organizer_wrapOuter .top_left_button:hover{background:url('../admin/images/store_keeper/nav-button-bg-green.png') repeat-x top;cursor:pointer}.organizer_wrapOuter .logout_button a,.organizer_wrapOuter .top_left_button a,.organizer_wrapOuter .top_right_button li a{display:block}\n.organizer_wrapOuter .logout_button{margin-right:20px}.organizer_wrapOuter .organizer_back_button{display:none}.organizer_wrapOuter .logout_button a{background-position:-753px -10px}\n.organizer_wrapOuter .logout_button a{background:url('../admin/images/icon-logout.svg') no-repeat center / 16px 16px}.organizer_wrapOuter .logout_button a:hover{background-color:#007fa3}\n.organizer_wrapOuter .zenario_admin_name{width:auto;border:0;line-height:36px;color:#FFF;padding-left:10px;padding-right:60px;cursor:pointer;position:relative}\n.organizer_wrapOuter .zenario_admin_name a{display:inline-block;padding-right:15px;background:url('../admin/images/icon-arrow-down-white.svg') no-repeat right center / 8px 8px}\n.organizer_wrapOuter .zenario_admin_name ul li a{background:0}.organizer_wrapOuter .zenario_admin_name ul li span{padding-right:0;background:0}.organizer_wrapOuter .zenario_admin_name:hover{color:#43d4f4}\n.organizer_wrapOuter .zenario_admin_name ul{display:none;top:35px;left:0;z-index:90000;position:absolute;margin:0;padding:0;background:#f6f6f6;border:1px solid #333;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff;-moz-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff;box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff}\n.organizer_wrapOuter .zenario_admin_name ul:after{border-color:#f6f6f6 transparent;border-style:solid;border-width:0 10px 10px;bottom:100%;content:\"\";height:0;position:absolute;left:15px;width:0}\n.organizer_wrapOuter .zenario_admin_name ul:before{border-color:#333 transparent;border-style:solid;border-width:0 12px 12px;bottom:100%;content:\"\";height:0;position:absolute;left:13px;width:0}\n.organizer_wrapOuter .zenario_admin_name:hover ul{display:block}.organizer_wrapOuter .zenario_admin_name ul,.organizer_wrapOuter .zenario_admin_name ul li{list-style:none;margin:0;padding:0}\n.organizer_wrapOuter .zenario_admin_name ul{padding:5px}.organizer_wrapOuter .top_right_button ul li a{width:150px;height:auto;padding:0 10px;display:block;line-height:30px;border-top:1px solid #dcdcdc}\n.organizer_wrapOuter .zenario_admin_name ul li a,.organizer_wrapOuter .zenario_admin_name:hover ul li a{color:#333}.organizer_wrapOuter .zenario_admin_name ul li a:hover,.organizer_wrapOuter .zenario_admin_name:hover ul li a:hover{color:#007fa2}\n.organizer_wrapOuter .top_right_button ul li:first-child a{border-top:0}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown{z-index:99 !important;position:absolute;display:none;top:38px;cursor:default}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown.zenario_ywip_loading{opacity:.7}.organizer_wrapOuter .zenario_ywip:hover #zenario_ywip_dropdown{display:block}\n.organizer_wrapOuter .zenario_ywip div{height:auto}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown{width:272px;padding-top:11px}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner{width:260px;padding:5px;border:1px solid #333;background:#f6f6f6;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 0 5px 0 rgba(0,0,0,0.5);box-shadow:0 0 5px 0 rgba(0,0,0,0.5);position:absolute}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul{max-height:400px;overflow-y:auto}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner:before{border-color:#333 rgba(0,0,0,0);border-style:solid;border-width:0 12px 12px;bottom:100%;content:\"\";height:0;left:13px;position:absolute;width:0}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner:after{border-color:#f6f6f6 rgba(0,0,0,0);border-style:solid;border-width:0 10px 10px;bottom:100%;content:\"\";height:0;left:15px;position:absolute;width:0}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_title{background:#d8d6d7;color:#007fa2;padding:8px;width:auto}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown a{width:auto;height:auto;padding:5px 8px 3px;background:url(\"../admin/images/store_keeper/2px-grey-white.gif\") repeat-x scroll center top}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li span{display:block;padding:0 8px 8px;font-size:11px}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul,.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li{list-style:none;margin:0;padding:0}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a{color:#333;font-weight:bold}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a:hover{color:#007fa2}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a,.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a:hover{text-decoration:none}\n#organizer_branding_title,#organizer_backButton{float:left;width:auto}#organizer_branding_title{color:white;font-style:italic;line-height:39px;margin-left:10px}\n#organizer_branding_title span.organizer_name{font-style:normal;font-weight:bold;text-transform:uppercase}#organizer_branding_title span.organizer_name span{font-size:14px}\n#organizer_container{width:auto;overflow:hidden}#organizer_header,#organizer_header .headerPanel{width:auto}.organizer_list_view_body_wrap{width:100%}\n#organizer_container{margin:0 6px;background:#f6f6f6}#organizer_header{clear:both;height:56px;background:url('../admin/images/store_keeper/2px-grey-white.gif') repeat-x scroll center bottom}\n#organizer_rightColumn #organizer_search{display:inline-block;position:absolute;top:45px;left:0;height:34px}#organizer_search_placeholder{display:block;width:176px;margin-right:6px}\n.zenario_toolbar_header .toolbar{float:left;overflow:hidden;margin:0 20px 0 0}#organizer_search,.zenario_toolbar_header .toolbar,#organizer_trash_button{height:30px;border:1px solid #c6c6c6;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}\n#organizer_search{border:2px solid #b6b6b6;color:#f6f6f6}.zenario_toolbar_header .toolbar,#organizer_trash_button{background:url('../admin/images/store_keeper/top-bar-btns-m-off.png') repeat-x 0 0}\n.zenario_toolbar_header .toolbar div:hover,#organizer_trash_button:hover{background:url('../admin/images/store_keeper/top-bar-btns-m-over.png') repeat-x 0 0}.zenario_toolbar_header .toolbar.disabled{border:1px solid #dfdfdf}\n.zenario_toolbar_header .toolbar.disabled div,.zenario_toolbar_header .toolbar.disabled:hover div{background:#f0f0f0}#organizer__box_inner.organizer_filters_set_in_view_options .zenario_toolbar_header #organizer_viewOptions.toolbar,#organizer__box_inner.organizer_filters_set_in_view_options .zenario_toolbar_header #organizer_viewOptions.toolbar div:hover{background:#01d300;border-color:#616161}\n.zenario_toolbar_header .toolbar div{border-right:1px solid #c6c6c6}.zenario_toolbar_header .toolbar div:first-child{border-right:0}.zenario_toolbar_header .toolbar a,.zenario_toolbar_header .toolbar div{display:block;float:left;width:auto}\n#organizer_header .viewMode,#organizer_header .viewMode div{float:right}#organizer_header .viewMode{margin-right:10px}.headerPanel .viewMode div,.headerPanel .organizer_switch_view,.headerPanel #organizer_refreshRightColumn,.headerPanel #organizer_listViewOptionsDropdown{width:30px;height:30px;cursor:pointer}\n.headerPanel .viewMode div a{float:right;display:block;width:30px;height:30px}.zenario_toolbar_header .toolbar div.toolbarLeftEnd,.zenario_toolbar_header .toolbar div.toolbarRightEnd,.zenario_toolbar_header .headerPanelControls div.toolbarLeftEnd,.zenario_toolbar_header .headerPanelControls div.toolbarRightEnd{display:none}\n.organizer_grid_view .organizer_slidedown_view_toggle{float:right;display:block;width:15px;height:15px;background:grey}.organizer_list_view .organizer_slidedown_view_toggle,.organizer_list_view .organizer_slidedown_view_toggle_header{width:30px}\n.organizer_total_wrapper{height:30px;background-color:#f6f6f6;border-color:#c4c4c4;border-style:solid;border-width:0 0 1px 0}.organizer_total_wrapper .organizer_total_cell,.organizer_total_wrapper .organizer_slidedown_view_toggle{display:block;float:left;height:23px;padding:3px 5px 3px 5px;text-align:right;border-color:#c4c4c4;border-style:solid;border-width:0 1px 0 0}\n.organizer_subtotal_grouping .organizer_total_wrapper{border-color:#c4c4c4;border-style:solid;border-width:0 1px 0 0}.organizer_total_wrapper span{color:#000;text-align:right;font-weight:bold}\n.placeholder-checkbox{width:25px}.placeholder-week-item{width:39px}.organizer_slidedown_view_closed{display:none !important}.organizer_slidedown_view{width:auto;padding:20px 20px 20px;background:#fdfddf;border-bottom:1px solid #c4c4c4}\n.organizer-slidedown-image-information table td{vertical-align:top}.organizer-slidedown-image-information table{width:100%}.organizer-slidedown-image-information table .slidedown_table_image{width:360px}\n.organizer-slidedown-image-information p{margin:0 0 10px 20px;color:#202020}.headerPanel .secondToolbar,.headerPanel .secondToolbar div{display:inline}\nbody.ie6 #organizer_header #organizer_refreshRightColumn{margin-right:0}body.ie6 .headerPanel .secondToolbar{width:62px}.organizer_wrapOuter .home_page_button a{background:url('../admin/images/icon-back-to-home-off.svg') no-repeat center / auto 24px}\n.organizer_wrapOuter .home_page_button:hover a{background:url('../admin/images/icon-back-to-home-hover.svg') no-repeat center / auto 24px}.organizer_wrapOuter .zenario_ywip a{background:url('../admin/images/icon-work-in-progress-off.svg') no-repeat center / 32px 14px}\n.organizer_wrapOuter .zenario_ywip:hover a{background:url('../admin/images/icon-work-in-progress-hover.svg') no-repeat center / 32px 14px}.organizer_wrapOuter .last_page_button a{background:url('../admin/images/icon-back-to-html-off.svg') no-repeat center / auto 23px}\n.organizer_wrapOuter .last_page_button:hover a{background:url('../admin/images/icon-back-to-html-hover.svg') no-repeat center / auto 23px}#organizer_header #organizer_listViewOptionsDropdown a{background:url('../admin/images/icon-filter-glasses-dark.svg') no-repeat center / 18px 18px}\n#organizer_header #organizer_refreshRightColumn a{background:url('../admin/images/icon-refresh-dark.svg') no-repeat center / 16px 16px}.headerPanel .viewMode .organizer_switch_view a,.organizer_list_view .organizer_slidedown_view_toggle_open{background:url('../admin/images/icon-arrow-down-dark.svg') no-repeat center / 10px}\n.organizer_list_view .organizer_slidedown_view_toggle_closed{background:url('../admin/images/icon-arrow-right-grey.svg') no-repeat center / 10px}.organizer_list_view .organizer_slidedown_view_toggle_closed:hover,.organizer_list_view .organizer_selected .organizer_slidedown_view_toggle_closed{background:url('../admin/images/icon-arrow-right-dark.svg') no-repeat center / 10px}\n#organizer_header .disabled #organizer_listViewOptionsDropdown a{background:url('../admin/images/icon-filter-glasses-grey.svg') no-repeat center / 18px 18px}.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_list_view a{background:url('../admin/images/icon-list-view-dark.svg') no-repeat center / 15px 15px}\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_grid_view a{background:url('../admin/images/icon-grid-dark.svg') no-repeat center / 15px 15px}\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_map_view a{background:url('../admin/images/icon-map-dark.svg') no-repeat center / 25px 25px}\n#organizer_header .disabled #organizer_listViewOptionsDropdown a{cursor:default;opacity:.8}.headerPanel .viewMode #organizer_summary_view{display:none}\n.headerPanel .viewMode .organizer_switch_view,.headerPanel .viewMode .organizer_switch_view a{width:31px}.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_compact_list_view a{background:url('../admin/images/icon-compact-view.svg') no-repeat center / 16px 14px}\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_view_selected{background:url('../admin/images/store_keeper/top-bar-btns-m-over.png') repeat-x 0 0}#zenario_fbAdminColumnFilter,#zenario_fbAdminViewModeOptions{padding-bottom:5px;background-color:#333;color:#FFF;overflow:hidden;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #646464;-moz-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #646464;box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #646464;border:solid 1px #333}\n#zenario_fbAdminColumnFilter,#zenario_fbAdminViewModeOptions{font-family:Verdana,Arial,Helvetica,sans-serif;font-size:11px}#zenario_fbAdminViewModeOptions div.organizer_colsortheader{margin:1px 1px 3px;padding:2px 2px 3px 6px;line-height:23px;color:#FFF;font-weight:bold;text-indent:-999;font-size:0;line-height:0}\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a{display:block;position:absolute;top:10px;height:22px;width:22px;background:url('../admin/images/icon-close-off-state-light-grey.svg') no-repeat center center / 14px 13px;cursor:pointer}\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a:hover{background:url('../admin/images/icon-close-hover-state-blue.svg') no-repeat center center / 14px 13px}\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a{right:20px}#zenario_fbAdminViewModeOptions p{margin:0;padding:2px 5px;white-space:nowrap}\n#zenario_fbAdminViewModeOptions .notused{opacity:.25}#zenario_fbAdminViewModeOptions p a.sortcol{margin-left:5px}#zenario_fbAdminViewModeOptions p a.cansortcol{cursor:pointer}\n#zenario_fbAdminViewModeOptions .zenario_ab_row__showcol__title_ div{background:url('../admin/images/border-horizontal-black-grey.gif') repeat-x bottom;padding:5px 10px 15px;margin-bottom:15px}\n#zenario_fbAdminViewModeOptions .zenario_ab_row__showcol__title_ div div{background:0;padding:0;margin:0}#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_show,#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv,#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_sort{font-size:10px;font-weight:bold;color:#43d4f4}\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_show,#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv{float:left;width:35px;padding-left:5px}\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv{padding-right:1px}#zenario_fbAdminViewModeOptions div#organizer_colsortfields,#zenario_fbAdminViewModeOptions div#organizer_filterfields{overflow:auto;overflow-x:hidden;overflow-y:auto}\n#zenario_fbAdminViewModeOptions table.thickbox_table{width:100%;border-collapse:collapse}#zenario_fbAdminViewModeOptions table.thickbox_table tr td{margin:0;padding:0}\n#zenario_fbAdminViewModeOptions div#organizer_colsortfields table.thickbox_table tr td{padding:0 0 3px}#zenario_fbAdminViewModeOptions div#organizer_colsortfields .zenario_colsortfields_row{width:100%;overflow:hidden}\n#zenario_fbAdminViewModeOptions td.title{text-align:right;width:100px}#zenario_fbAdminViewModeOptions td.title label{padding-right:2px}#zenario_fbAdminColumnFilter{padding:15px 15px 10px}\n#zenario_fbAdminColumnFilter td.title a,#zenario_fbAdminColumnFilter tr.yes_or_no a{cursor:pointer}#zenario_fbAdminColumnFilter a.inverter,#zenario_fbAdminViewModeOptions a.organizer_inverter{border:1px solid #ba0505;background:#e50707;padding:0 1px 2px;color:#FFF;text-shadow:0 1px 1px #000;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;cursor:pointer}\n#zenario_fbAdminColumnFilter a.organizer_not,#zenario_fbAdminViewModeOptions a.organizer_not{text-decoration:line-through}#zenario_fbAdminViewModeOptions a.organizer_inverter{margin-right:3px}\n#zenario_fbAdminColumnFilter a.inverter:hover{border-color:#8d0303;background:#ba0505}#zenario_fbAdminColumnFilter td.title a.not,#zenario_fbAdminColumnFilter tr.yes_or_no a.not{text-decoration:line-through}\n#zenario_fbAdminColumnFilter tr.yes_or_no td.title a.not,#zenario_fbAdminColumnFilter tr.yes_or_no a.not,#zenario_fbAdminColumnFilter tr.enum a.not{text-decoration:none}\n#zenario_fbAdminColumnFilter .organizer_remove_filter{border:0;border:0;cursor:pointer;background:#333;color:#FFF;font-weight:bold;padding:0}#zenario_fbAdminColumnFilter .organizer_close_filter{cursor:pointer;display:block;width:18px;height:17px;background:url('../admin/images/icon-close-off.svg') no-repeat;background-size:100%;position:absolute;top:5px;right:5px}\n#zenario_fbAdminColumnFilter .organizer_close_filter:hover{background:url('../admin/images/icon-close-over.svg') no-repeat}#zenario_fbAdminColumnFilter .organizer_remove_filter_inactive{visibility:hidden}\n#zenario_fbAdminViewModeOptions .organizer_mov_col{width:16px;height:20px;float:right;clear:both}body.ie7 #zenario_fbAdminViewModeOptions .organizer_mov_col{padding-right:17px}\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter input.togglefilter_closed{background:url(\"../admin/images/icon-filter-blue.svg\") no-repeat 12px bottom / auto 11px}\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter input.togglefilter_open{width:44px}#zenario_fbAdminViewModeOptions .organizer_mov_col .input_toggle{width:16px;height:10px;float:right;font-size:1px}\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter{float:right}#zenario_fbAdminViewModeOptions div.zenario_filters_for_field,#zenario_fbAdminViewModeOptions div.zenario_date_filters_for_field{width:auto;margin:5px 0 5px 65px}\n#zenario_fbAdminViewModeOptions input.input_checkbox{width:20px;margin-left:15px}body.ie6 #zenario_fbAdminViewModeOptions input.input_checkbox,body.ie7 #zenario_fbAdminViewModeOptions input.input_checkbox{width:auto;margin:3px 8px 3px 6px;border:0 none;padding:2px}\n#zenario_fbAdminViewModeOptions input.input_toggle{cursor:pointer;margin:0;padding:0;background:none transparent;border:0 none;width:50px;padding-left:5px;text-align:left;height:16px;color:#FFF}\n#zenario_fbAdminViewModeOptions input.zen_col_hidden{color:#f5e100}#zenario_fbAdminViewModeOptions input.zen_col_shown{color:#43d4f4}body.ie9 #zenario_fbAdminViewModeOptions input.input_toggle{vertical-align:5px}\n#zenario_fbAdminViewModeOptions input.input_text,#zenario_fbAdminViewModeOptions input.input_date{width:115px;border:1px solid #ccc}#zenario_fbAdminViewModeOptions tr.zenario_ab_row__reset div,#zenario_fbAdminViewModeOptions tr.zenario_ab_row__toggle_csv div{background:url('../admin/images/border-horizontal-black-grey.gif') repeat-x top;display:block;margin-top:15px;padding:5px;overflow:hidden}\n#zenario_fbAdminViewModeOptions tr.zenario_ab_row__reset div input{width:50% !important}#zenario_fbAdminViewModeOptions #reset,#zenario_fbAdminViewModeOptions #toggle_csv{font-weight:bold;color:#f5e100;text-decoration:underline}\n#zenario_fbAdminViewModeOptions #reset{float:left;width:auto}#zenario_fbAdminViewModeOptions #toggle_csv{float:right;width:auto}div.organizer_pageSize{float:right;margin:10px}\n.zenario_toolbar_header .toolbar a,.zenario_toolbar_header .toolbar div{width:28px;height:30px}.zenario_toolbar_header .toolbar div.organizer_button_separator{width:1px;height:28px;background:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat right 10px}\n.zenario_toolbar_header .toolbar .button{height:27px;line-height:27px}.zenario_toolbar_header .toolbar .button a,.zenario_toolbar_header .toolbar .button div{margin-top:2px}\n.zenario_toolbar_header .toolbar .button img{border:0}#organizer_Outer{width:940px;height:616px;overflow:hidden;margin:7px 0 0 10px}#organizer_mainColumnsWrap{width:100%;overflow:hidden;clear:both}\n#organizer_bottomWrap{width:100%;overflow:hidden;clear:both}#organizer_bottomWrap #organizer_lowerLeftColumn,#organizer_bottomWrap #organizer_lowerRightColumn{width:25%}\n#organizer_bottomWrap #organizer_lowerMiddleColumn{width:49%;margin:0 .5%}#organizer_bottomWrap #organizer_lowerLeftColumn,#organizer_bottomWrap #organizer_lowerMiddleColumn{float:left}\n#organizer_bottomWrap #organizer_lowerRightColumn{float:right}#organizer_bottomWrap #organizer_lowerLeftColumn div{margin-left:4px;margin-right:4px}.zenario_debugInfo .organizer_info_box,#organizer_topRightIcons .organizer_enabled_disabled,#organizer_topRightIcons .organizer_info_box,#organizer_topRightIcons .organizer_help,#organizer_topRightIcons .organizer_diagnostics,#organizer_topRightIcons .zenario_debug{width:18px;height:18px;display:block;float:left;cursor:pointer}\n.zenario_debugInfo .organizer_info_box,#organizer_topRightIcons .organizer_enabled_disabled,#organizer_topRightIcons .organizer_info_box,#organizer_topRightIcons .organizer_help,#organizer_topRightIcons .organizer_diagnostics{margin-top:8px}\n#organizer_topRightIcons .organizer_info_box,.zenario_at_dev_icon.organizer_info_box,.zenario_debugInfo .organizer_info_box{cursor:pointer;background:url('../admin/images/icon-info.svg') no-repeat center / auto 18px}\n#organizer_topRightIcons .organizer_help{background:url('../admin/images/icon-footer-optimisation-off.png') no-repeat center / 18px 18px}.zenario_at_dev_icon.organizer_diagnostics,#organizer_topRightIcons .organizer_diagnostics{background:url('../admin/images/icon-footer-site-diagnostics.svg') no-repeat center / auto 18px}\n#organizer_topRightIcons .organizer_enabled_disabled.site_enabled,.zenario_at_dev_icon.site_enabled{background:url('../admin/images/icon-footer-site-enabled-green.svg') no-repeat center / auto 18px}\n#organizer_topRightIcons .organizer_enabled_disabled.site_disabled,.zenario_at_dev_icon.site_disabled{background:url('../admin/images/icon-site-disabled.svg') no-repeat center / auto 18px}\n#organizer_topRightIcons .organizer_enabled_disabled.site_enabled_development,.zenario_at_dev_icon.site_enabled_development{background:url('../admin/images/icon-footer-site-enabled.png') no-repeat center / 18px 18px}\n#zenario_at_top_left_menu .organizer_item_image.all_languages{background:15% 30% no-repeat url('../admin/images/icon-languages.svg') / auto 18px}#organizer_topRightIcons .organizer_help,#organizer_topRightIcons .organizer_info_box,#organizer_topRightIcons .organizer_enabled_disabled,#organizer_topRightIcons .organizer_diagnostics{opacity:1;transition:opacity .25s ease-in-out;-moz-transition:opacity .25s ease-in-out;-webkit-transition:opacity .25s ease-in-out}\n#organizer_topRightIcons .organizer_help:hover,#organizer_topRightIcons .organizer_info_box:hover,#organizer_topRightIcons .organizer_enabled_disabled:hover,#organizer_topRightIcons .organizer_diagnostics:hover{opacity:.7}\n.zenario_debugInfo .organizer_info_box{cursor:default}.zenario_debugInfo td .organizer_info_box{float:none}#organizer_bottomWrap #organizer_bottomRightForm{margin-right:8px}\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button{-webkit-border-radius:2px 3px 3px 2px/3px;-moz-border-radius:2px 3px 3px 2px/3px;border-radius:2px 3px 3px 2px/3px;background-color:#0298c3;border:solid 1px #007fa3;cursor:pointer;color:#fff;font-family:Verdana,Tahoma,Arial,Helvetica,sans-serif;font-size:13px;padding:2px 10px 3px;text-shadow:0 1px 1px #000;margin-top:5px}\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button:hover{background-color:#007fa3;-webkit-box-shadow:0 0 4px rgba(0,0,0,.45);-moz-box-shadow:0 0 4px rgba(0,0,0,.45);box-shadow:0 0 4px rgba(0,0,0,.45);border:solid 1px #015d77}\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button.submit_disabled,#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button.submit_disabled:hover{color:#848585;text-shadow:none;background:#dedede;border:1px solid #c5c5c5;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;cursor:auto}\n#organizer_rightColumn{overflow:hidden;position:relative}#organizer_leftColumnOuter{width:188px;margin-right:10px;float:left;border:1px solid #a2a2a2;-webkit-box-shadow:0 0 3px 0 #888;box-shadow:0 0 3px 0 #888}\n#organizer_leftColumn{width:188px;height:575px;background:#FFF;position:relative}#organizer_leftColumn #organizer_topLevelNav,#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav{float:left;height:100%;overflow:hidden}\n#organizer_leftColumn #organizer_topLevelNav #organizer_topLevelNavInner{padding-bottom:60px}#organizer_leftColumn #organizer_topLevelNavScroll{clear:both;height:0;position:absolute;left:0;text-align:left;bottom:0;width:34px;height:47px;padding-top:10px;background:#333;z-index:98}\n#organizer_leftColumn #organizer_topLevelNavScrollUp,#organizer_leftColumn #organizer_topLevelNavScrollDown{color:#d1d1d1;border:0 none;height:15px;position:absolute;width:15px;z-index:99;left:0;padding:0 8px 0 11px}\n#organizer_leftColumn #organizer_topLevelNavScrollDown{margin-top:15px}#organizer_leftColumn #organizer_topLevelNavScrollUp.organizer_scrollActive,#organizer_leftColumn #organizer_topLevelNavScrollDown.organizer_scrollActive{color:#c5e7f3;cursor:pointer}\n#organizer_leftColumn #organizer_topLevelNav{width:33px;background:#333;border-left:1px solid #333;border-right:5px solid #00d201}#organizer_leftColumn #organizer_topLevelNav .organizer_item:first-child{margin-top:10px}\n#organizer_leftColumn #organizer_topLevelNav .organizer_item{padding-bottom:2px;background:url('../admin/images/store_keeper/sk-div-border-black-grey.gif') no-repeat center bottom}\n#organizer_leftColumn #organizer_topLevelNav .organizer_item .legend_on{background:#01d103;-webkit-border-top-left-radius:2px;-webkit-border-bottom-left-radius:2px;-moz-border-radius-topleft:2px;-moz-border-radius-bottomleft:2px;border-top-left-radius:2px;border-bottom-left-radius:2px}\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav{width:146px;margin:0 1px}#organizer_leftColumn .organizer_sectionTitleText{padding:12px 5px 12px 15px;margin-bottom:12px;border-bottom:1px dashed #a1a1a1;color:#333}\n#organizer_leftColumn .organizer_sectionTitleText .organizer_sectionTitle{font-weight:bold;padding:0 0 5px 0}#organizer_leftColumn .organizer_sectionTitleText .organizer_sectionText{font-size:11px}\n#organizer_leftColumn .organizer_legend span,#organizer_leftColumn .organizer_legend a span{font-weight:bold}#organizer_leftColumn .second_level_item .organizer_legend span,#organizer_leftColumn .second_level_item .organizer_legend a span{font-weight:normal}\n#organizer_leftColumn .second_level_item .legend_on span,#organizer_leftColumn .second_level_item .legend_on a span{font-weight:bold}#organizer_leftColumn .organizer_legend a{display:block;padding:0;line-height:35px;height:35px;overflow:hidden;color:#616161;text-decoration:none}\n#organizer_leftColumn .second_level_item .organizer_legend a{display:block;padding:0 5px 0 15px;line-height:22px;height:22px;overflow:hidden;font-size:8pt}\n#organizer_leftColumn .second_level_item .legend_on{background:#baefba}#organizer_leftColumn .second_level_item .legend_on a span,#organizer_leftColumn .second_level_item .organizer_legend a:hover{color:#333}\n#organizer_leftColumn .second_level_item.zenario_separator_before_this:before,#organizer_leftColumn .second_level_item.zenario_separator_after_this:after{content:\"\";display:block;height:1px;background:#aaa;width:100px;margin:2px 5px 2px 15px}\n.organizer_top_level_image.zenario_cms_core_languages{background:url('../admin/images/icon-international-off.png') no-repeat center / 18px 18px}.organizer_top_level_image.zenario_cms_core_content{background:url('../admin/images/icon-content-items-off.svg') no-repeat center / auto 17px}\n.organizer_top_level_image.zenario_cms_core_documents{background:url('../admin/images/icon-documents-off.svg') no-repeat center / auto 17px}.organizer_top_level_image.zenario_cms_core_administration{background:url('../admin/images/icon-configuration-off.svg') no-repeat center / auto 17px}\n.organizer_top_level_image.zenario_cms_core_templates{background:url('../admin/images/icon-layout-off.svg') no-repeat center / auto 16px}.organizer_top_level_image.zenario_cms_core_users{background:url('../admin/images/icon-users-off.svg') no-repeat center / auto 16px}\n.organizer_top_level_image.zenario_cms_core_plugins{background:url('../admin/images/icon-modules-off.svg') no-repeat center / auto 16px}#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_content,#organizer_leftColumn .legend_on a.zenario_cms_core_content,.organizer_top_level_image.zenario_cms_core_content:hover{background:url('../admin/images/icon-content-items-on.svg') no-repeat center / auto 17px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_documents,#organizer_leftColumn .legend_on a.zenario_cms_core_documents,.organizer_top_level_image.zenario_cms_core_documents:hover{background:url('../admin/images/icon-documents-on.svg') no-repeat center / 17px 17px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_templates,#organizer_leftColumn .legend_on a.zenario_cms_core_templates,.organizer_top_level_image.zenario_cms_core_templates:hover{background:url('../admin/images/icon-layout-on.svg') no-repeat center / 16px 16px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_users,#organizer_leftColumn .legend_on a.zenario_cms_core_users,.organizer_top_level_image.zenario_cms_core_users:hover{background:url('../admin/images/icon-users-on.svg') no-repeat center / 16px 16px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_languages,#organizer_leftColumn .legend_on a.zenario_cms_core_languages,.organizer_top_level_image.zenario_cms_core_languages:hover{background:url('../admin/images/icon-international-on.png') no-repeat center / 18px 18px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_plugins,#organizer_leftColumn .legend_on a.zenario_cms_core_plugins,.organizer_top_level_image.zenario_cms_core_plugins:hover{background:url('../admin/images/icon-modules-on.svg') no-repeat center / 16px 16px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_administration,#organizer_leftColumn .legend_on a.zenario_cms_core_administration,.organizer_top_level_image.zenario_cms_core_administration:hover{background:url('../admin/images/icon-configuration-on.svg') no-repeat center / 17px 17px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_menu,.organizer_top_level_image.zenario_cms_core_menu{background:url('../admin/images/icon-menu-navigation-off.svg') no-repeat center / 17px 17px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_menu,.organizer_top_level_image.zenario_cms_core_menu:hover,#organizer_leftColumn .legend_on a.zenario_cms_core_menu{background:url('../admin/images/icon-menu-navigation-on.svg') no-repeat center / 17px 17px}\n#organizer_rightColumn{margin:0;float:left}#organizer_rightColumn #organizer_panelTitle table{width:100%}#organizer_rightColumn #organizer_panelTitle .listicon{display:block;height:25px;width:30px;float:left}\n#organizer_rightColumn #organizer_rightColumnTitle{position:relative}#organizer_rightColumn #organizer_rightColumnTitle #organizer_panelTitle{background:none repeat scroll 0 0 #fff;border:1px solid #c5c5c5;border-radius:2px;color:#000;height:24px;line-height:24px;overflow:hidden;padding:5px 10px;font-size:8pt}\n.clearfix:after{content:\".\";display:block;height:0;clear:both;visibility:hidden}.clearfix{display:inline-block}.body.ie .clearfix{zoom:1;display:block}\n.organizer_rightColumnOptions_panel{margin-bottom:5px;border-bottom:1px solid #dcdcdc;position:relative}.organizer_toolbar,.organizer_rightColumnOptions_panel{height:50px}\n#organizer_rightColumnOptions{width:3000px}#organizer_collectionToolbar,#organizer_itemToolbar,#organizer_collectionToolbarWrap,#organizer_itemToolbarWrap,#organizer_previousToolbar{display:inline-block}\n#organizer_itemToolbar,#organizer_itemToolbarWrap{position:relative;z-index:50}#organizer_collectionToolbar a,#organizer_itemToolbar a,#organizer_previousToolbar a,#organizer_quickFilter a{cursor:pointer}\n#organizer_itemToolbar{z-index:9}.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger,.organizer_toolbar .toolbarButtons .organizer_button_separator{float:left;margin:10px 0 0;height:20px}\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_children span.organizer_button_dropdown_trigger{margin:0;height:auto;float:none}\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_children span.organizer_button_dropdown_trigger:hover .label_without_icon{background:#ddf6fd}\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .label_without_icon{padding:0 10px}.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children{padding-right:4px}\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children a{background:url('../admin/images/icon-arrow-down-dark.svg') no-repeat right 5px / 8px 8px;padding-right:12px}\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children span.organizer_button_dropdown_trigger a{background:0;padding-right:0}\n.organizer_toolbar .toolbarButtons div.organizer_button_separator{width:2px;background:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat}.organizer_toolbar .toolbarButtons{font-size:11px}\n.organizer_toolbar .toolbarButtons a{color:#000;text-decoration:none}.organizer_toolbar .toolbar .organizer_button_dropdown_trigger{display:block;float:left;position:relative}\n.organizer_toolbar .toolbar div.organizer_button_children{display:none;top:20px;left:0;z-index:90;position:absolute;margin:0;padding:0}.organizer_toolbar .toolbar div.organizer_button_children div{margin:0 auto;padding:2px 2px 2px;width:200px;background-image:none;background-color:white}\n.organizer_toolbar .toolbar div.organizer_button_children a{display:block;padding:5px 0}.organizer_toolbar .toolbar div.organizer_button_children .organizer_button_separator{display:none}\n.organizer_toolbar .toolbar .organizer_button_dropdown_trigger:hover div.organizer_button_children{display:block}.organizer_toolbar .toolbar .organizer_button_dropdown_trigger:hover div.organizer_button_children div.organizer_button_children{display:none}\n.organizer_toolbar .toolbar div.organizer_button_children div{clear:left}.organizer_toolbar .toolbar div.organizer_button_children div.organizer_button_separator{display:none}\n.organizer_toolbar .toolbar .toolbarButtons ul,.organizer_toolbar .toolbar .toolbarButtons ul li{list-style:none;margin:0;padding:0}.organizer_toolbar .toolbar .toolbarButtons{z-index:50}\n.organizer_toolbar .toolbar .toolbarButtons,.organizer_toolbar .toolbar .toolbarButtons ul,.organizer_toolbar .toolbar .toolbarButtons ul li,.organizer_toolbar .toolbar .toolbarButtons ul li a{position:relative}\n.organizer_toolbar .toolbar .toolbarButtons ul{z-index:101}.organizer_toolbar .toolbar .toolbarButtons,.organizer_toolbar .toolbar .toolbarButtons ul li a{height:26px}\n.organizer_toolbar .toolbar .toolbarButtons ul li,.organizer_toolbar .toolbar .toolbarButtons ul li a,.organizer_toolbar .toolbar .toolbarButtons ul li ul li a{display:block}\n.organizer_toolbar .toolbar .toolbarButtons ul,.organizer_toolbar .toolbar .toolbarButtons ul li a{float:left}.organizer_toolbar .toolbar .toolbarButtons ul li ul li a{float:none}\n.organizer_toolbar .toolbar .toolbarButtons ul li a{display:block;height:25px;padding:10px 15px 6px 15px;text-decoration:none}.organizer_toolbar .toolbar #organizer_collectionToolbarButtons>ul{margin-top:5px}\n.organizer_toolbar .toolbar #organizer_collectionToolbarButtons>ul>li{margin-top:0}.organizer_toolbar .toolbar#organizer_collectionToolbar .toolbarButtons>ul>li{background:none !important;padding-right:0 !important;margin-right:5px}\n.organizer_toolbar .toolbar#organizer_collectionToolbar .toolbarButtons>ul.organizer_button__settings_dropdown>li{padding-right:5px !important}.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a{cursor:pointer;height:auto;text-shadow:0 1px 1px #000;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;padding:5px 10px 6px}\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a{background:#e50707}.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a:hover{background:#ba0505}\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a{background:#0298c3}.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a:hover{background:#007fa3}\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a{transition:all .5s ease 0}\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton:hover a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a:hover,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton:hover a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a:hover{color:#FFF !important}\n.organizer_toolbar .toolbar .toolbarButtons ul li{display:inline-block;padding-right:7px}.organizer_toolbar .toolbar .toolbarButtons ul li ul li{height:auto;background:0;padding-left:0;padding-right:0;display:block}\n.organizer_toolbar .toolbar .toolbarButtons ul li ul,.organizer_toolbar .toolbar .toolbarButtons ul li ul li a{height:auto}.organizer_toolbar .toolbar .toolbarButtons ul li ul{left:0;top:36px;z-index:90 !important;position:absolute;margin:0 auto;padding:0;min-width:200px;max-height:70vh;overflow-y:auto}\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li{padding:4px 0;border-top:1px solid #dcdcdc;border-bottom:1px solid #FFF;margin:0 5px}.organizer_toolbar .toolbar .toolbarButtons ul li ul li:first-child{border-top:0}\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li a{padding:5px 8px}.organizer_toolbar .toolbar .toolbarButtons a:hover{text-decoration:none}.organizer_toolbar .toolbar .toolbarButtons ul li ul li ul{top:0;left:100%}\n.organizer_toolbar .toolbar .toolbarButtons ul ul,.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul ul{display:none}.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul{display:block}\n.organizer_toolbar .toolbar .toolbarButtons ul ul{background:#f6f6f6;border:1px solid gray;-webkit-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff;-moz-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff;box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff;position:relative}\n.organizer_toolbar .toolbar .toolbarButtons ul ul:after{bottom:100%;left:20px;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(50,52,51,0);border-bottom-color:#323433;border-width:8px;margin-left:-8px}\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_with_children a{background:url('../admin/images/icon-arrow-down-dark.svg') no-repeat right 15px / 8px 8px}\n.organizer_toolbar .toolbar .toolbarButtons ul li{display:inline-block;background:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat right 7px;margin-top:5px}\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image{margin-top:10px}.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image,.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image div{float:left;height:26px;background-position:left center}\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image div{background-position:center center}.organizer_toolbar .toolbar .toolbarButtons .organizer_items_selected{white-space:nowrap;padding:5px 0 0 26px;margin:0 5px 0 0}\n.organizer_toolbar .toolbar .toolbarButtons ul:last-child li{background:0}.organizer_toolbar .toolbar .toolbarButtons ul li li,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_with_children li a{background:0}\n.organizer_toolbar .toolbar .toolbarButtons ul li li a{-webkit-transition:background-color 200ms ease-in-out;-moz-transition:background-color 200ms ease-in-out;-o-transition:background-color 200ms ease-in-out;transition:background-color 200ms ease-in-out}\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover a{color:#007fa3}.organizer_toolbar .toolbar .toolbarButtons ul li:hover li a:hover{background:#fbf290}\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover li a{color:#000}.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_disabled>a,.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_disabled:hover>a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_disabled>a,.organizer_toolbar .toolbar .toolbarButtons ul li li.organizer_button_disabled>a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_disabled:hover>a,.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul li.organizer_button_disabled>a,.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul li.organizer_button_disabled:hover>a{color:#888 !important;text-decoration:none;cursor:auto !important}\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover li.organizer_button_disabled a:hover{background:transparent}.organizer_toolbar .toolbar .toolbarButtons>ul>li{-webkit-transition:background-color 200ms ease-in-out;-moz-transition:background-color 200ms ease-in-out;-o-transition:background-color 200ms ease-in-out;transition:background-color 200ms ease-in-out}\n.organizer_toolbar .toolbar .toolbarButtons>ul>li:hover{background-color:#fbf290}.organizer_toolbar .toolbar .toolbarButtons>ul>li:hover a{color:#000}\n#organizer_quickFilter ul,#organizer_quickFilter ul li{list-style:none;margin:0;padding:0}#organizer_quickFilter{z-index:51;display:inline-block;height:36px;padding:0 5px 0 3px;border:1px solid #b9b9b9;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:inset 0 0 3px 2px #ececec;box-shadow:inset 0 0 3px 0 #ececec;background:#FFF;font-size:11px}\n#organizer_quickFilter,#organizer_quickFilter ul,#organizer_quickFilter ul li,#organizer_quickFilter ul li a{position:relative}#organizer_quickFilter ul li,#organizer_quickFilter ul li a{display:block}\n#organizer_quickFilter ul{z-index:101}#organizer_quickFilter ul,#organizer_quickFilter ul li a{float:left}#organizer_quickFilter ul li{margin-left:2px;height:auto;background:0;padding-left:0;padding-right:0}\n#organizer_quickFilter ul li a{display:block;line-height:24px;padding:0 12px 0 12px;color:black;background-color:#e6e6e6;border:1px solid #d0d0d0;text-decoration:none;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;margin-top:5px}\n#organizer_quickFilter ul li.group_break a{padding:0 2px;background:transparent;border:0}#organizer_quickFilter ul li a span{padding-bottom:20px}#organizer_quickFilter ul ul,#organizer_quickFilter ul ul li a{height:auto}\n#organizer_quickFilter ul ul li a{float:none;line-height:18px;border:0;margin:0;padding:3px 5px 4px}#organizer_quickFilter ul li li a span{padding-bottom:0}\n#organizer_quickFilter ul ul{width:200px;z-index:90 !important;position:absolute;top:38px;left:0;margin:0 auto;padding:0 0 5px}#organizer_quickFilter ul ul li{padding:0;border-top:1px solid #747474;border-bottom:1px solid #000;margin:0 5px}\n#organizer_quickFilter ul ul li:first-child{border-top:0}#organizer_quickFilter ul ul li:last-child{border-bottom:0}#organizer_quickFilter ul li ul li ul{top:0;left:100%}\n#organizer_quickFilter ul ul,#organizer_quickFilter ul li:hover ul ul{display:none}#organizer_quickFilter ul li:hover ul{display:block}#organizer_quickFilter ul ul{background:#333;border:1px solid #333;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 0 3px 0 #d6d6d6;box-shadow:0 0 3px 0 #d6d6d6}\n#organizer_quickFilter ul ul:after{border-color:#333 transparent;border-style:solid;border-width:0 8px 8px;bottom:100%;content:\"\";height:0;position:absolute;left:15px;width:0}\n#organizer_quickFilter ul ul:before{border-color:#333 transparent;border-style:solid;border-width:0 10px 10px;bottom:100%;content:\"\";height:0;position:absolute;left:13px;width:0}\n#organizer_quickFilter ul li.organizer_button_with_children>a{background:url('../admin/images/icon-arrow-down-dark.svg') no-repeat right center / 8px 8px;line-height:28px;margin-top:3px;padding-right:25px}\n#organizer_quickFilter ul li.organizer_button_with_children>a{background-position:right 5px center}#organizer_quickFilter ul li li,#organizer_quickFilter ul li.organizer_button_with_children li a{background:0}\n#organizer_quickFilter a:hover{text-decoration:none}#organizer_quickFilter ul li:hover a{color:#333}#organizer_quickFilter ul li li a,#organizer_quickFilter ul li:hover li a{color:#FFF}\n#organizer_quickFilter ul li:hover li a:hover{color:#43d4f4}#organizer_quickFilter ul ul li.organizer_qfb_enabled a,#organizer_quickFilter ul ul li.organizer_qfb_enabled a:hover{color:#01d300}\n#organizer_quickFilter ul ul li.organizer_qfb_enabled a span{display:inline-block}#organizer_quickFilter ul ul li.organizer_qfb_enabled a span:after{content:' \\2713'}\n#organizer_quickFilter ul>li:hover a{background-color:#cfeafb}#organizer_quickFilter ul li.organizer_qfb_no_child.organizer_qfb_enabled a{background-color:#01d300;border:0;margin:6px 1px 1px 1px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}\n#organizer_quickFilter ul li.organizer_qfb_enabled ul a{margin:0}#organizer_quickFilter ul li.organizer_qfb_with_child_enabled>a{background:#01d300 url('../admin/images/store_keeper/arrow-dropdown-grey-space-right.png') no-repeat right center;border:1px solid #c6c6c6;margin:0;padding-right:25px;line-height:28px;margin-top:3px}\n#organizer_Outer div.organizer_item{cursor:pointer}#organizer_selected{float:right;margin:10px 20px 0 0}#organizer_backButton{display:inline-block;font-size:10px;overflow:hidden;padding-left:30px}\n#organizer_backButton span.level a{display:block;float:left;width:46px;height:39px;margin-right:-14px;pointer-events:none;color:transparent;background:url('../admin/images/chevron.svg') no-repeat 0 0 / 46px 40px}\n#organizer_backButton span.organizer_lastBackButton a{width:auto;max-width:300px;padding:0 14px 0 60px;line-height:36px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:#fff;cursor:pointer;pointer-events:auto}\n#organizer_backButton span.organizer_lastBackButton:hover a{text-decoration:underline}#organizer_rightColumnContent{width:738px;overflow:auto;text-align:left;position:relative;border:1px solid #484848;background:#FFF}\n#organizer_rightColumnContent .organizer_header{position:relative;z-index:5}#organizer_rightColumn .organizer_dropToUpload{display:none;float:right;margin-left:20px;padding:8px 12px;position:absolute;top:5px;right:7px;color:#000;font-size:11px;background:#f6f6f6;border:2px dashed #cdcdcd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\n#organizer_rightColumn.upload_enabled .organizer_dropToUpload{display:block}#organizer_rightColumn.upload_enabled #organizer_rightColumnContent,#organizer_rightColumn.upload_enabled .organizer_dropToUpload div{border:1px solid #c3c3c3}\n#organizer_rightColumn.upload_enabled.dragover #organizer_rightColumnContent,#organizer_rightColumn.upload_enabled.dragover .organizer_dropToUpload div{border:1px solid #24e024}\n#organizer_rightColumn.upload_enabled .organizer_dropToUpload div,#organizer_rightColumn.upload_enabled.dragover .organizer_dropToUpload div{border-bottom:0;background:#f8f8f8}\n#organizer_rightColumnContent.organizer_grid_view{overflow-x:hidden !important}#organizer_list_view,#organizer_items_wrapper{width:100%}#organizer_rightColumnContent div.organizer_list_view{width:100%;border-collapse:collapse;margin:0}\n#organizer_rightColumnContent div.organizer_row{overflow:hidden;clear:both;border-bottom:1px solid #c4c4c4;overflow:hidden}#organizer_rightColumnContent div.organizer_non_sortable_resizeable_cols,#organizer_rightColumnContent div.organizer_sort_and_resize_wrapper{float:left}\n#organizer_rightColumnContent div.organizer_header div.organizer_cell,#organizer_rightColumnContent div.organizer_list_view div.organizer_cell{float:left;position:relative}\n#organizer_rightColumnContent .organizer_header div#organizer_checkbox_col,#organizer_rightColumnContent div.organizer_list_view div.organizer_checkbox_col{width:25px}\n#organizer_rightColumnContent .organizer_header div#organizer_checkbox_col div{width:100%;height:100%}#organizer_rightColumnContent .ui-sortable div.organizer_row,#organizer_rightColumnContent .ui-sortable div.organizer_row div.organizer_cell{cursor:move}\n#organizer_rightColumnContent div.organizer_row{display:block}#organizer_rightColumnContent div.organizer_list_view div.organizer_cell{display:block}#organizer_rightColumnContent div.organizer_row:hover,#organizer_rightColumnContent div.organizer_row:hover .organizer_cell{background-color:#dcf5fd}\n#organizer_rightColumnContent div.organizer_row{background-color:#FFF}#organizer_rightColumnContent div.organizer_cell.label_column,#organizer_rightColumn div.itemDetail div.organizer_inner_content h2{font-weight:bold;color:#333}\n#organizer_rightColumnContent div.organizer_cell.label_column .organizer_cell_line{font-weight:normal}#organizer_rightColumnContent .organizer_cell_line{font-style:italic}\n#organizer_rightColumnContent .organizer_cell_line.no_italics{font-style:normal}#organizer_rightColumnContent .organizer_grid_view .organizer_checkbox_at_top_left{position:relative;float:left;z-index:2}\n#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row{width:100%;overflow:hidden}#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row .organizer_non_sortable_resizeable_cols{width:150%}\n#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row .organizer_non_sortable_resizeable_cols .action_column{width:90%}#organizer_rightColumnContent .organizer_grid_view .item{width:18%;padding:10px 6px;float:left;border-bottom:1px solid #c5c3c4;border-right:1px solid #c5c3c4}\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item{width:180px;height:270px;float:left;padding:2px 6px;border-bottom:1px solid #c5c3c4;border-right:1px solid #c5c3c4;margin:0;font-size:12px;line-height:13px;background:#FFF}\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item:hover{background:#ddf6fd}#organizer_rightColumn .organizer_grid_view div.organizer_selected,#organizer_rightColumn .organizer_grid_view div.ui-selecting,#organizer_rightColumn .organizer_grid_view div.organizer_selected:hover,#organizer_rightColumn .organizer_grid_view div.ui-selecting:hover{background:#fcf291}\n@keyframes yellow_flash{0{background:#f6f6f6}50%{background:#f5e687}100%{background:#f6f6f6}}@-webkit-keyframes yellow_flash{0{background:#f6f6f6}50%{background:#f5e687}\n100%{background:#f6f6f6}}#organizer_rightColumn #organizer_itemToolbar{padding-left:8px;box-sizing:border-box}#organizer_rightColumn #organizer_collectionToolbar,#organizer_rightColumn #organizer_itemToolbar,#organizer_rightColumn #organizer_collectionToolbarWrap,#organizer_rightColumn #organizer_itemToolbarWrap{height:49px}\n.organizer_settings_dropdown>a>span{font-size:0;width:13px;height:13px;line-height:13px;display:inline-block}.organizer_button__settings_dropdown .organizer_settings_dropdown>a>span{background:url('../admin/images/icon-site-settings-dark.svg') no-repeat center center}\n.organizer_button__dataset_dropdown .organizer_settings_dropdown>a>span{background:url(\"../admin/images/icon-datasets-dark.svg\") no-repeat center center}#organizer_rightColumnContent .organizer_grid_view{font-family:Arial,Verdana,Helvetica,Sans-Serif}\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item table th,#organizer_rightColumnContent .organizer_grid_view div.organizer_item table td{font-size:11px}\n#organizer_rightColumnContent .organizer_grid_view div.organizer_image_container{margin:auto;padding-bottom:8px}#organizer_rightColumnContent .organizer_grid_view div.organizer_item .organizer_legend{color:#007fa2;font-weight:bold;line-height:12px;margin-top:5px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.right{text-align:right}#organizer_rightColumnContent div.organizer_row div.organizer_cell{padding:3px 5px;position:relative}\n#organizer_rightColumnContent .organizer_header div.organizer_row,#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell{background:#333}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_desc,#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_asc{background-color:#5f5f5f;background-repeat:no-repeat;background-position:right center}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.organizer_can_sort{background-image:url('../admin/images/sort-arrow-white-down-v2.png');background-repeat:no-repeat;background-position:right center}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_desc{background-image:url('../admin/images/sort-arrow-green-down.png')}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_asc{background-image:url('../admin/images/sort-arrow-green-up.png')}\n#organizer_rightColumnContent .organizer_header div.organizer_row .ui-resizable .ui-resizable-e{width:15px;z-index:10 !important}#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell{height:29px;color:#FFF;font-weight:bold;vertical-align:middle}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell .label{line-height:24px;padding-right:20px}#organizer_rightColumnContent div.organizer_row div.organizer_cell,#organizer_rightColumnContent div.organizer_row span.organizer_cell{height:25px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell,#organizer_rightColumnContent div.organizer_row span.organizer_cell,#organizer_rightColumnContent div.organizer_row div.organizer_cell a,#organizer_rightColumnContent div.organizer_row span.organizer_cell a{color:#202020}\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows .organizer_list_view_body_wrap div.organizer_row div.organizer_cell,#organizer_rightColumnContent .organizer_list_view_with_tall_rows .organizer_list_view_body_wrap div.organizer_row span.organizer_cell{min-height:50px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell{border-style:solid;border-width:0 1px 0 0}#organizer_rightColumnContent .itemDetail .organizer_col_label{font-weight:bold;white-space:nowrap;text-align:right}\n#organizer_rightColumnContent .close_up_view .organizer_col_label{min-width:120px}#organizer_rightColumnContent div.organizer_row div.organizer_cell.firstcol{border-left-width:0}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.firstrow{border-top-width:0}#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_can_filter span.icon{width:18px;height:19px;display:block;background:url(\"../admin/images/icon-filter-blue.svg\") no-repeat center / auto 11px;position:absolute;right:3px;top:3px;cursor:pointer}\n#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_filtering span.icon{width:18px;height:19px;display:block;background:url(\"../admin/images/icon-filter-blue.svg\") no-repeat center / auto 11px;position:absolute;right:3px;top:3px;cursor:pointer}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell{border-color:#c4c4c4}#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col{background-color:#FFF}\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row:hover div.organizer_checkbox_col{background-color:#dcf5fd}#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_selected div.organizer_checkbox_col,#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_selected:hover div.organizer_checkbox_col{background-color:#fbf290}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell{border-top-width:0}#organizer_rightColumnContent div.organizer_row.organizer_cant_choose div.organizer_cell,#organizer_rightColumnContent div.organizer_row.organizer_non_search_match,#organizer_rightColumnContent div.organizer_row.organizer_non_search_match div.organizer_cell{filter:alpha(opacity=60);-khtml-opacity:.6;-moz-opacity:.6;opacity:.6}\n#organizer_rightColumnContent div.organizer_row.organizer_cant_choose .organizer_checkbox_col input{display:none}#organizer_rightColumnContent ol.organizer_can_choose_children div.organizer_row.organizer_cant_choose .organizer_checkbox_col input{visibility:hidden;display:inline}\n#organizer_rightColumnContent div.organizer_row.organizer_selected.brown_line div.organizer_cell{background-color:#930}#organizer_rightColumnContent div.organizer_row.brown_line div.organizer_cell{background-color:#630}\n#organizer_rightColumnContent div.organizer_row.organizer_selected{background-color:#fbf290}#organizer_rightColumnContent div.organizer_row div.organizer_cell.brown{background-color:#630}\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.brown{background-color:#930}#organizer_rightColumnContent div.organizer_row.organizer_selected.blue_line div.organizer_cell{background-color:#09f}\n#organizer_rightColumnContent div.organizer_row.blue_line div.organizer_cell{background-color:#06f}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell{background-color:#fbf290}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.blue{background-color:#06f}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.blue{background-color:#09f}\n#organizer_rightColumnContent div.organizer_row.organizer_selected.orange_line div.organizer_cell{background-color:#f90}#organizer_rightColumnContent div.organizer_row.orange_line div.organizer_cell{background-color:#f60}\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell,#organizer_rightColumnContent div.organizer_row.organizer_selected:hover .organizer_cell{background-color:#fbf290}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.orange{background-color:#f60}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.orange{background-color:#f90}\n#organizer_rightColumnContent div.organizer_row.organizer_selected.yellow_line div.organizer_cell{background-color:#faf29f}#organizer_rightColumnContent div.organizer_row.yellow_line div.organizer_cell{background-color:#f6e17a}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.yellow{background-color:#f6e17a}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.yellow{background-color:#faf29f}\n#organizer_rightColumnContent div.organizer_row.organizer_selected.green_line div.organizer_cell{background-color:#b5eec2}#organizer_rightColumnContent div.organizer_row.green_line div.organizer_cell{background-color:#90dea2}\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell{background-color:#fbf290}#organizer_rightColumnContent div.organizer_row div.organizer_cell.green{background-color:#90dea2}\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.green{background-color:#b5eec2}#organizer_rightColumnContent div.organizer_row div.organizer_cell.red{background-color:#d90000}\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.red{background-color:#e43b00}#organizer_rightColumnContent div.organizer_row.organizer_selected.warning_line div.organizer_cell{background-color:#f6a9a4}\n#organizer_rightColumnContent div.organizer_row.warning_line div.organizer_cell{background-color:#edc6c4}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell{background-color:#fbf290}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.warning{background-color:#edc6c4}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.warning{background-color:#f6a9a4}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell .listicon,#organizer_rightColumn div.organizer_slidedown_view .listicon,#organizer_rightColumn div.organizer_slidedown_view .listicon>div{height:23px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon>div{height:25px}#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_list_view_icon{width:24px;height:25px}\n#organizer_rightColumn div.organizer_item_image.organizer_list_view_image{background-position:30% center}#organizer_rightColumn div.organizer_item_image.organizer_list_view_image,#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon>div.organizer_item_with_image{background-size:contain}\n.organizer_item_image.zenario_nest_tab{background:url('../admin/images/icon-tabs.svg') no-repeat center center / 20px auto}#organizer_rightColumn div.organizer_slidedown_view .listicon,#organizer_rightColumn div.organizer_slidedown_view .listicon>div{padding-left:20px;height:20px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons{width:auto}\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons{float:left}#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons,#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div{padding:1px 1px 1px 1px;margin:1px 1px 1px 1px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div{margin-top:3px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div{margin-top:2px}#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div,#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons a,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons a{display:block;width:16px;height:16px;float:left}\n.organizer_inline_buttons .zenario_ib_warning{background:url('../admin/images/icon-warning.svg') no-repeat center center / 18px 18px;width:18px;height:18px}\n.organizer_inline_buttons .zenario_ib_active{background:url('../admin/images/icon-layout-active.svg') no-repeat center center / 16px 16px}.organizer_inline_buttons .zenario_ib_default{background:url('../admin/images/icon-layout-default-active.svg') no-repeat center center / 16px 16px}\n.organizer_inline_buttons .zenario_ib_archived{background:url('../admin/images/icon-layout-archived.svg') no-repeat center center / 16px 16px}.zenario_inline_warning{background:url('../admin/images/icon-warning.svg') no-repeat left center / 18px 18px;margin:2px;padding-left:24px;height:18px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.organizer_no_border td{border-style:none;border-width:0;height:auto;padding:0;color:#202020}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell td.item_link{text-align:right;white-space:nowrap}#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link tr td .listicon{margin:2px 0 0 2px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text{padding:2px 0 0}#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text a,#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text a:visited,#organizer_rightColumn .organizer_slidedown_view table td a{color:#202020;cursor:pointer}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link tr td .listicon a{width:100%;height:100%;display:block;text-decoration:none}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell td.item_link img{border:0;width:27px;height:21px;padding:3px 2px 0 3px}#organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon{opacity:.3}\n#organizer_rightColumnContent div.organizer_row.organizer_untranslated_menu_node .organizer_cell_items{font-style:italic}body.ie6 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon,body.ie7 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon{filter:alpha(opacity=30)}\nbody.ie8 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon{-ms-filter:\"alpha(opacity=30)\"}#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost{color:#a7aeaf}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost table.item_link td.organizer_item_link_text a,#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost table.item_link td.organizer_item_link_text a:visited{color:#abb0b2}\n#organizer_rightColumnContent span.organizer_sortable div.organizer_item,#organizer_rightColumnContent div.organizer_list_view tbody.organizer_sortable tr,#organizer_rightColumnContent div.organizer_list_view tbody.organizer_sortable tr *,#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_sortable{cursor:move}\n#organizer_rightColumnContent span.organizer_sortable div.organizer_item a,#organizer_rightColumnContent div.organizer_list_view .organizer_list_view_body.organizer_sortable div.organizer_row a,#organizer_rightColumnContent div.organizer_list_view .organizer_list_view_body.organizer_sortable div.organizer_row a *{cursor:pointer}\n#organizer_rightColumn div.organizer_row div.organizer_cell{vertical-align:top}#organizer_rightColumn div.organizer_row div.organizer_cell.firstcol{vertical-align:middle}\n#organizer_rightColumn div.organizer_row div.organizer_cell,#organizer_rightColumn div.organizer_row div.organizer_cell div.organizer_cell_line{text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;overflow:hidden}\n#organizer_rightColumn .organizer_list_view_with_tall_rows div.organizer_row div.organizer_cell{white-space:normal}.organizer_item_image.zenario_menunode_internal{background:url('../admin/images/icon-menu-node-1-dark.svg') no-repeat center center / 16px 16px}\n.organizer_item_image.zenario_menunode_internal_unique{background:url('../admin/images/icon-menu-node-main.svg') no-repeat center center / 16px 16px}.organizer_item_image.zenario_menunode_internal_secondary{background:url('../admin/images/icon-menu-node-2-dark.svg') no-repeat center center / 16px 16px}\n.organizer_item_image.zenario_menunode_unlinked{background:url('../admin/images/icon-menu-node-unlinked.svg') no-repeat center center / 16px 16px}.organizer_item_image.ghost{background:url('../admin/images/icon-ghost.svg') no-repeat center center / 16px 16px}\n.organizer_item_image.zenario_menunode_external{background:url('../admin/images/icon-external-url.svg') no-repeat center center / 16px 16px}.organizer_item_image.no_icon{background-image:none}\n.organizer_item_image.ghost{opacity:.3}body.ie6 #organizer_rightColumn div.organizer_row div.organizer_cell div.ghost,body.ie7 .organizer_item_image.ghost{filter:alpha(opacity=30)}\nbody.ie8 .organizer_item_image.ghost{-ms-filter:\"alpha(opacity=30)\"}.Token .organizer_item_image.ghost{opacity:1;-webkit-filter:invert(.8);filter:invert(.8)}\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell{display:inline-block;width:20px !important;height:20px;text-indent:-999;font-size:0;line-height:0}\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell{background:url('../admin/images/icon-eye-visible.svg') no-repeat center 6px / 16px 16px}\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell.invisible_menu_node{background:url('../admin/images/icon-eye-hidden.svg') no-repeat center 6px / 16px 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.privacy_inline_button a{cursor:default}#organizer_rightColumn div.organizer_row.privacy_group_members div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_with_role div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_logged_in div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_send_signal div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_call_static_method div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_public div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_logged_out div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_in_smart_group div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_logged_in_not_in_smart_group div.organizer_cell div.privacy_inline_button a{background-image:url('../admin/images/icon-permissions.svg');background-repeat:no-repeat;background-position:center center;background-size:auto 12px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}\n#organizer_rightColumn div.organizer_row.privacy_group_members div.organizer_cell div.privacy_inline_button a{background-color:#d7abea}#organizer_rightColumn div.organizer_row.privacy_with_role div.organizer_cell div.privacy_inline_button a{background-color:#aaebcc}\n#organizer_rightColumn div.organizer_row.privacy_logged_in div.organizer_cell div.privacy_inline_button a{background-color:#ebacb3}#organizer_rightColumn div.organizer_row.privacy_send_signal div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_call_static_method div.organizer_cell div.privacy_inline_button a{background-color:#ebd8aa}\n#organizer_rightColumn div.organizer_row.privacy_public div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_logged_out div.organizer_cell div.privacy_inline_button a{background-color:#e2e2e2}\n#organizer_rightColumn div.organizer_row.privacy_in_smart_group div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_logged_in_not_in_smart_group div.organizer_cell div.privacy_inline_button a{background-color:#abd3eb}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_layout_inline_button a{background:#e2e2e2;color:#3c3c3c;font-size:7px;line-height:15px;position:relative;text-align:center;top:-1px;cursor:pointer;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.view_frontend,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.view_frontend{background:url('../admin/images/icon-go-to-content-item-off.svg') no-repeat center center / 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.view_frontend:hover,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.view_frontend:hover{background:url('../admin/images/icon-go-to-content-item-hover.svg') no-repeat center center / 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.inspect,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.inspect{background:url('../admin/images/icon-quick-view-off.svg') no-repeat center center / 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.inspect:hover,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.inspect:hover{background:url('../admin/images/icon-quick-view-hover.svg') no-repeat center center / 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.no_categories,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.no_categories{background:url('../admin/images/icon-categories-inline.png') no-repeat center center / 16px 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.one_or_more_categories,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.one_or_more_categories{background:url('../admin/images/icon-categories-one-or-more.png') no-repeat center center / 16px 16px}\n.organizer_item_image.user{background:url('../admin/images/icon-users-and-contacts.svg') no-repeat center center / 16px}.organizer_item_image.zenario_suspended_users{background:url('../admin/images/icon-suspended-users.svg') no-repeat center center / 16px}\n.organizer_item_image.zenario_consent{background:url('../admin/images/icon-consents-dark.svg') no-repeat center center / 16px}.organizer_item_image.zenario_smart_group{background:url('../admin/images/icon-smart-groups.svg') no-repeat center center / 18px}\n.organizer_item_image.zenario_smart_perms_group{background:url('../admin/images/icon-smart-permissions.svg') no-repeat center center / 18px}.organizer_item_image.zenario_smart_news_group{background:url('../admin/images/icon-smart-newsletter-group.svg') no-repeat center center / 18px}\n.organizer_item_image.zenario_group{background:url('../admin/images/icon-groups.svg') no-repeat center center / 16px}.organizer_item_image.roles{background:url('../admin/images/icon-roles.svg') no-repeat center center / 16px}\n.organizer_item_image.pending_comment{background:url('../admin/images/icon-pending-comments-dark.svg') no-repeat center center / 16px}.organizer_item_image.zenario_forum__forum{background:url('../admin/images/icon-salutations-dark.svg') no-repeat center center / 16px}\n.organizer_item_image.admin_item{background:url('../admin/images/icon-administrator.svg') no-repeat center center / 16px}#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_draft_published,.organizer_item_image.home_content_draft_published{background:url(\"../admin/images/icon-content-home-draft-published.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_published,.organizer_item_image.home_content_published{background:url(\"../admin/images/icon-content-home-published.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_draft,.organizer_item_image.home_content_draft{background:url(\"../admin/images/icon-content-home-draft.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_published,.organizer_item_image.special_content_draft_published{background:url(\"../admin/images/icon-content-special-draft-published.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_published,.organizer_item_image.special_content_published{background:url(\"../admin/images/icon-special-pages.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_hidden,.organizer_item_image.special_content_draft_hidden{background:url(\"../admin/images/icon-content-special-draft-hidden.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_hidden,.organizer_item_image.special_content_hidden{background:url(\"../admin/images/icon-content-special-hidden.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft,.organizer_item_image.special_content_draft{background:url(\"../admin/images/icon-content-special-draft.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_trashed,.organizer_item_image.special_content_draft_trashed{background:url(\"../admin/images/icon-content-special-draft-trashed.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_trashed,.organizer_item_image.special_content_trashed{background:url(\"../admin/images/icon-content-special-trashed.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_published,.organizer_item_image.content_draft_published{background:url(\"../admin/images/icon-content-draft-published.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_published,.organizer_item_image.content_published{background:url(\"../admin/images/icon-content-published.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_hidden,.organizer_item_image.content_draft_hidden{background:url(\"../admin/images/icon-content-draft-hidden.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_hidden,.organizer_item_image.content_hidden{background:url(\"../admin/images/icon-content-hidden.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft,.organizer_item_image.content_draft{background:url(\"../admin/images/icon-content-draft.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_trashed,.organizer_item_image.content_draft_trashed{background:url(\"../admin/images/icon-content-draft-trashed.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_trashed,.organizer_item_image.content_trashed{background:url(\"../admin/images/icon-trashed-content.svg\") no-repeat center center / 20px 23px}\n.organizer_item_image.content_type_settings{background:url(\"../admin/images/icon-content-types-dark.svg\") no-repeat center center / 22px 22px}.organizer_item_image.plugin{background:url(\"../admin/images/icon-modules-dark.svg\") no-repeat center center / 15px 15px}\n.organizer_item_image.module{background:url(\"../admin/images/icon-plugin-dark.svg\") no-repeat center center / 15px 15px}.organizer_item_image.plugin_album_instance{background:url('../admin/images/icon-plugin-dark.svg') no-repeat center center / 15px 16px}\n.organizer_item_image.plugin_album_instance{background-position:5px center}.organizer_item_image.zenario_category_icon{background:url('../admin/images/icon-categories-dark-v2.svg') no-repeat center center / auto 14px}\n.organizer_item_image.datasets{background:url(\"../admin/images/icon-datasets-dark.svg\") no-repeat center center / auto 20px}.organizer_item_image.language,.organizer_item_image.phrase_translated{background:url(\"../admin/images/icon-languages.svg\") no-repeat center center / auto 16px}\n.organizer_item_image.phrase_translated{background-size:auto 18px}.organizer_item_image.phrase_partially_translated{background:url(\"../admin/images/icon_phrase_partially_translated.svg\") no-repeat center center / auto 20px}\n.organizer_item_image.phrase_not_translated{background:url(\"../admin/images/icon_phrase_not_translated.svg\") no-repeat center center / auto 20px}#organizer_rightColumn div.organizer_row div.organizer_cell div.settings,.organizer_item_image.setting{background:url('../admin/images/icon-site-settings-dark.svg') no-repeat center center / auto 20px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.backups,.organizer_item_image.backup{background:url('../admin/images/icon-back-ups-dark.svg') no-repeat center center / auto 16px}\n.organizer_item_image.favicon{background:url('../admin/images/icon-favicon-dark.svg') no-repeat center center / 18px auto}#organizer_rightColumn div.organizer_row div.organizer_cell div.templatesCollection,#organizer_rightColumn #organizer_panelTitle div.templatesCollection,.organizer_item_image.skin{background:url('../admin/images/icon-skins.svg') no-repeat left center / 18px auto}\n.organizer_item_image.template{background:url('../admin/images/icon-layouts.svg') no-repeat 0 center / 18px auto}.organizer_item_image.archived_layout{background:url('../admin/images/icon-archive.svg') no-repeat 0 center / auto 18px}\n#zenario_at_top_left_menu .organizer_item_image.template,#zenario_at_top_left_menu .organizer_item_image.archived_layout,#zenario_at_top_left_menu .organizer_item_image.skin{background-position:center center}\n#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.template{width:25px}.organizer_item_image.log{background:url('../admin/images/icon-sign-in-log.svg') no-repeat center center / 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.media_images,.organizer_item_image.media_image,.organizer_item_image.content_type_picture{background:url('../admin/images/icon-image-library.svg') no-repeat center center / auto 16px}\n.organizer_item_image.content_type_event{background:url('../admin/images/icon-events-content-types-dark.svg') no-repeat center center / auto 18px}.organizer_item_image.content_type_html{background:url('../admin/images/icon-html-pages.svg') no-repeat center center / auto 18px}\n.organizer_item_image.content_type_news{background:url('../admin/images/icon-news-articles.svg') no-repeat center center / auto 18px}.organizer_item_image.content_type_document{background:url('../admin/images/icon-documents-documents.svg') no-repeat center center / auto 18px}\n.organizer_item_image.content_type_audio{background:url('../admin/images/icon-audio-content-types-dark.svg') no-repeat center center / auto 18px}.organizer_item_image.content_type_blog{background:url('../admin/images/icon-blog-content-types-dark.svg') no-repeat center center / auto 18px}\n.organizer_item_image.content_type_vacancy{background:url('../admin/images/icon-job-vacancies-content-types-dark.svg') no-repeat center center / auto 18px}.organizer_item_image.content_type_project{background:url('../admin/images/icon-project-descriptions-content-types-dark.svg') no-repeat center center / auto 18px}\n.organizer_item_image.content_type_testimonial{background:url('../admin/images/icon-testimonials-content-types-dark.svg') no-repeat center center / auto 18px}#organizer_rightColumn div.organizer_row div.organizer_cell div.media_movies,.organizer_item_image.media_movie,.organizer_item_image.content_type_video{background:url('../admin/images/icon-video-content-types-dark.svg') no-repeat center center / auto 18px}\n.organizer_item_image.menu_section,.organizer_item_image.linked_child_menuitem_with_children{background:url('../admin/images/icon-menu-sections-dark.svg') no-repeat center center / auto 16px}\n.organizer_item_image.menu_section_language{background:url('../admin/images/icon-menu-sections-languages-dark.svg') no-repeat center center / auto 16px}.organizer_item_image.menu_section_edit{background:url('../admin/images/icon-menu-sections-edit-dark.svg') no-repeat center center / auto 16px}\n.organizer_item_image.menu_node,.organizer_item_image.zenario_menunode_internal_unique{background:url('../admin/images/icon-menu-node-dark.svg') no-repeat center center / auto 16px}\n#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.menu_section,#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.linked_child_menuitem_with_children{width:25px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.urls_collection,#organizer_rightColumn #organizer_panelTitle div.url_item{background:url('../admin/images/icon-spare-domain-names.svg') no-repeat center center / 22px auto}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.alias_urls_collection,#organizer_rightColumn #organizer_panelTitle div.alias_url,.organizer_item_image.alias_url{background:url('../admin/images/icon-spare-alias-dark.svg') no-repeat center center / 22px auto}\n.organizer_item_image.url_item{background:url('../admin/images/icon-spare-domain-names.svg') no-repeat center center / 22px auto}.organizer_item_image.site_reset{background:url('../admin/images/icon-rest-site-dark.svg') no-repeat center center / 17px 21px}\n.organizer_item_image.site_enabled{background:url('../admin/images/icon-site-enabled-dark.svg') no-repeat center center / 19px 19px}.organizer_item_image.site_disabled{background:url('../admin/images/icon-site-disabled.svg') no-repeat center center / 19px 19px}\n.organizer_item_image.xml_sitemap{background:url('../admin/images/icon-xml-site-map.svg') no-repeat center center / auto 19px}#organizer_rightColumn div.organizer_row div.organizer_cell div.dropbox_files,.organizer_item_image.dropbox_file{background:url('../admin/images/icon-file-types-dark.svg') no-repeat center center / auto 18px}\n.organizer_item_image.zenario_newsletter_draft{background:url('../admin/images/icon-newsletter-dark.svg') no-repeat center center / auto 16px}.organizer_item_image.zenario_newsletter_template{background:url('../admin/images/icon-newsletter-template-dark.svg') no-repeat center center / auto 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_newsletter_in_progress_newsletter,#organizer_rightColumn #organizer_panelTitle div.zenario_newsletter_in_progress_newsletter,.organizer_item_image.zenario_newsletter_sent_newsletter{background:url('../admin/images/icon-sent-newsletter-dark.svg') no-repeat center center / auto 20px}\n.organizer_item_image.log.email_log{background:url('../admin/images/icon-sent-email-in-log-dark.svg') no-repeat center center / auto 16px}#organizer_rightColumn div.organizer_list_view div.organizer_item{height:150px;width:100px;text-align:center;float:left;margin:5px 5px 10px 5px;font-size:1em}\nbody.ie6 #organizer_rightColumn div.organizer_list_view div.organizer_item{height:160px}.organizer_image_tags{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:white}\n#organizer_rightColumn div.organizer_item div.organizer_image_container,#organizer_rightColumn div.organizer_item div.image_container_on{position:relative;width:180px;height:130px}\n#organizer_rightColumn div.zenario_sticky div.organizer_image_container,#organizer_rightColumn div.zenario_shared div.organizer_image_container{border:2px solid #333;position:relative}\n#organizer_rightColumn div.organizer_image_container .organizer_image_sticky_marker,#organizer_rightColumn div.organizer_image_container .organizer_image_shared_marker{display:none;width:39px;height:14px;position:absolute;z-index:2;bottom:0}\n#organizer_rightColumn div.organizer_image_container .organizer_image_sticky_marker{background:url('../admin/images/store_keeper/feature-marker.png') no-repeat center center;left:0}\n#organizer_rightColumn div.organizer_image_container .organizer_image_shared_marker{background:url('../admin/images/store_keeper/shared-marker.png') no-repeat center center;right:0}\n#organizer_rightColumn div.zenario_sticky div.organizer_image_container .organizer_image_sticky_marker,#organizer_rightColumn div.zenario_shared div.organizer_image_container .organizer_image_shared_marker{display:block}\n.zenario_image_privacy_auto .organizer_list_view_icon_border{outline:solid 1px orange}.zenario_image_privacy_public .organizer_list_view_icon_border{outline:solid 1px LightGreen}\n.zenario_image_privacy_private .organizer_list_view_icon_border{outline:solid 1px cyan}.organizer_list_view_body .organizer_list_view_icon_border{cursor:pointer}\n#organizer_rightColumn .organizer_grid_view div.organizer_item .organizer_image{width:180px;height:130px}#organizer_rightColumn div.organizer_item_with_image{background-position:center center;background-repeat:no-repeat}\n#organizer_rightColumn .organizer_doubleclickable .firstcol .organizer_doubleclick{display:block;position:absolute;right:0;bottom:0;width:16px;height:15px;background:url('../admin/images/icon-folder-closed-dark.svg') no-repeat center center / 14px auto;cursor:pointer;right:2px;bottom:3px;margin:1px}\n#organizer_rightColumn .organizer_doubleclickable .firstcol .organizer_doubleclick:hover{background:url('../admin/images/icon-folder-open-dark.svg') no-repeat center center / 14px auto}\n#organizer_rightColumn div.organizer_item .no_icon{background-image:none}#organizer_rightColumn div.organizer_item .ghost{opacity:.3}.zenario_trans_colicon{min-width:15px !important;min-height:23px !important;background-repeat:no-repeat}\n#organizer_trash_button{float:right;margin:5px 10px 0 0}#organizer_trash_button,#organizer_trash_button a{width:30px;height:30px;display:block}#organizer_trash_button a{display:block;float:right}\n.trash_button_empty a,.trash_button_full a{background:url('../admin/images/icon-trash-can-v2.svg') no-repeat center center / 14px auto}.trash_button_full a{cursor:pointer}\n#organizer_rightColumn div.organizer_no_items{text-align:center;line-height:1.3em;padding-top:3em;padding-bottom:2em;font-size:12pt;background:#f9f9f9}\n#organizer_item_count{width:auto;height:30px;overflow:hidden;display:inline-block;margin-right:20px}#organizer_pagination{overflow:hidden}#organizer_item_count,#organizer_pagination{line-height:30px}\n#organizer_pagination .organizer_page_button{display:inline-block;width:24px;height:24px;text-align:center;position:relative;bottom:5px}#organizer_page_first{margin-right:5px}\n#organizer_page_last{margin-left:5px}.organizer_page_button{cursor:pointer}.organizer_page_button_disabled{cursor:default}#organizer_page_first:hover{background:url('../admin/images/icon-pagination-left-dark-grey.svg') no-repeat center center / 16px auto}\n#organizer_page_last:hover{background:url('../admin/images/icon-pagination-right-dark-grey.svg') no-repeat center center / 16px auto}#organizer_page_first,#organizer_page_first.pagination_disabled_first:hover{background:url('../admin/images/icon-pagination-left-light-grey.svg') no-repeat center center / 16px auto}\n#organizer_page_last,#organizer_page_last.pagination_disabled_last:hover{background:url('../admin/images/icon-pagination-right-light-grey.svg') no-repeat center center / 16px auto}\n.pagination_disabled_first,.pagination_disabled_last,#organizer_page_first.pagination_disabled_first:hover,#organizer_page_last.pagination_disabled_last:hover{opacity:.5}\n.organizer_page_numbers{height:32px;display:inline-block}#organizer_pagination .paginator_p_wrap{float:none;display:inline-block;float:left;height:24px;line-height:23px;margin-bottom:4px;margin-top:3px}\n#organizer_pagination .paginator_slider{background:#b9b9b9;border:0;float:left;clear:both}.paginator_slider .ui-slider-handle{background:url('../admin/images/srub-bar-off-state.png') no-repeat;border:0;width:24px;cursor:pointer}\n.paginator_slider .ui-slider-handle:hover{background:url('../admin/images/srub-bar-over-state.png') no-repeat}.paginator_p{background:#b9b9b9;color:#4d4d4d;font-weight:700;border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px;padding:0}\n.paginator_p_wrap .selected,.paginator_p_wrap .selected:hover{background:#027dc9;color:#fff}.paginator_p:hover{background:#6f6f6f;color:#fff}.paginator_p[data-length='4']{font-size:8px}\n.paginator_p[data-length='5']{font-size:6px}.paginator_p[data-length='6']{font-size:5px}\n.paginator_p[data-length='7'],.paginator_p[data-length='8']{font-size:4px}.paginator_p[data-length='9'],.paginator_p[data-length='10']{font-size:3px}\n#organizer_itemCountWrap{width:100%;height:45px;float:right;text-align:center;color:#333;font-size:11px;margin-top:0}#organizer_itemCountWrap .page{cursor:pointer}\n#organizer_itemCountWrap .page:hover{text-decoration:underline}#organizer_itemCountWrap .currentPage{cursor:default;font-weight:bold;color:#007fa2}#organizer_itemCountWrap img{width:30px;height:30px;vertical-align:middle;margin:0 8px}\n#organizer_itemCountWrap #organizer_pagePrev,#organizer_itemCountWrap #organizer_pagePrevOff{margin-left:37px}#organizer_itemCountWrap #organizer_pagePrev,#organizer_itemCountWrap #organizer_pageNext{cursor:pointer}\ndiv#organizer_previous_next{float:right;width:100%;margin:3px}div#organizer_previous_next a{display:block;width:29px;height:19px;float:right;margin:2px}\n#organizer_itemCountWrap,#organizer_rightColumnTitle{overflow:hidden}body #cboxOverlay,body #colorbox.zenario_grid_maker #cboxOverlay{zoom:1;filter:alpha(opacity=50) !important;opacity:.5 !important;background-color:#000;background-image:none}\nbody #colorbox.zenario_grid_maker #cboxTopLeft,body #colorbox.zenario_grid_maker #cboxTopCenter,body #colorbox.zenario_grid_maker #cboxTopRight,body #colorbox.zenario_grid_maker #cboxMiddleLeft,body #colorbox.zenario_grid_maker #cboxMiddleRight,body #colorbox.zenario_grid_maker #cboxBottomLeft,body #colorbox.zenario_grid_maker #cboxBottomCenter,body #colorbox.zenario_grid_maker #cboxBottomRight,body #colorbox.zenario_grid_maker #cboxTitle,body #colorbox.zenario_grid_maker #colorbox #cboxTopLeft,body #colorbox.zenario_grid_maker #colorbox #cboxTopCenter,body #colorbox.zenario_grid_maker #colorbox #cboxTopRight,body #colorbox.zenario_grid_maker #colorbox #cboxMiddleLeft,body #colorbox.zenario_grid_maker #colorbox #cboxMiddleRight,body #colorbox.zenario_grid_maker #colorbox #cboxBottomLeft,body #colorbox.zenario_grid_maker #colorbox #cboxBottomCenter,body #colorbox.zenario_grid_maker #colorbox #cboxBottomRight,body #colorbox.zenario_grid_maker #colorbox #cboxTitle{visibility:hidden}\nbody #colorbox.zenario_grid_maker #cboxClose{position:absolute;top:0;width:0;height:0;display:none}body #colorbox.zenario_grid_maker #cboxLoadedContent{height:100% !important}\n#organizer_rightColumnContent .organizer_drag_handle{height:auto}#organizer_rightColumnContent .organizer_hierarchy_view ol{min-width:625px}#organizer_rightColumnContent .organizer_hierarchy_view ol ol{min-width:595px}\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol{min-width:565px}#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol{min-width:535px}\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol ol{min-width:505px}#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol ol ol{min-width:475px}\n#organizer_rightColumn .organizer_hierarchy_view .dd{max-width:100%}#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list{background:url('../admin/images/1px-grey.gif') repeat-x left bottom}\n#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list .dd-item .dd3-handle,#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list .dd-item .dd3-content{border-left:1px solid #c4c4c4}\n.dd-item>button[data-action]{position:absolute;z-index:1}#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle{min-height:30px;position:absolute;cursor:move;margin:0;border:0;border-radius:0}\n#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle,#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle:hover,#organizer_rightColumn .organizer_hierarchy_view .dd3-handle{background:url('../admin/images/icon-drag-handle.png') no-repeat left center}\n#organizer_rightColumn .organizer_hierarchy_view .dd3-handle:before{content:''}#organizer_rightColumn .organizer_hierarchy_view button{position:absolute;font-weight:bold;font-family:verdana}\n#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row div.organizer_row{clear:none}#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row div.organizer_cell{width:auto !important;border:0}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_checkbox_col{display:inline}#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col{margin-left:20px}\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col.organizer_documents_area{margin-left:50px}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cell{float:left}.zenario_organizer_select #organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_documents_area{margin-right:10px}\n#organizer_rightColumn .organizer_hierarchy_view .organizer_cell_items{float:left;padding:2px 2px 0 0}#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items{width:94%;width:calc(100% - 120px);line-height:22px;overflow:hidden}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items{text-overflow:ellipsis;max-width:40%;white-space:nowrap;overflow:hidden}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items.organizer_cell_comma{max-width:2%}\n#organizer_rightColumn .organizer_hierarchy_view #organizer_items_wrapper ol li div.organizer_row div.organizer_cells_items{text-overflow:ellipsis;white-space:nowrap}\n#organizer_rightColumn .organizer_hierarchy_view #organizer_items_wrapper ol li div.organizer_row div.organizer_cells_items>span.organizer_cell_items{width:auto;max-width:97%}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items span{float:none}#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row .organizer_cell_items div.organizer_cell{padding:0}\n#organizer_rightColumn .organizer_hierarchy_view .organizer_cell_items table.organizer_no_border{border-collapse:collapse}#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border,#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr,#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td{padding:0;margin:0}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td{display:inline-block}#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text{width:100%}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text a{width:100%;word-wrap:break-word;display:block;color:#000}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border,#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr,#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td,#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td a{display:inline-block}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text a:hover,#organizer_rightColumn .organizer_slidedown_view table td a:hover{color:#007fa3}\n.dd-placeholder .dd3-handle,.dd3-handle{border:0 none;border-radius:0;font-size:20px}.dd3-content,.dd3-content:hover{color:#616161}.dd3-content{font-family:Verdana,Arial,Helvetica,sans-serif;padding:0 10px 0 20px;font-weight:normal;border:0;background:#fff;margin:0;border-radius:0}\n.organizer_menu_handle .dd3-content{padding-left:30px}.dd3-content span,.dd3-content table,.dd3-content div{float:left}.dd3-content table{border-collapse:collapse}\n.dd3-content button,.dd-placeholder button{font-weight:bold;font-family:verdana}.dd3-content a{color:#000}.dd3-item>button{margin-left:0}.dd3-item.organizer_menu_handle>button{margin-left:30px}\n.zenario_organizer_under_admin_box.zenario_panel_type__hierarchy_documents .dd3-item>button{margin-left:21px}#organizer_leftColumn .zenario_debug{right:3px;top:3px}\n.zenario_toolbar_header .toolbar div.zenario_debug{width:30px;height:30px}.zenario_toolbar_header .toolbar div.zenario_debug div{background-size:16px}\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_id div{background-color:#ffb080}.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_id:hover div{opacity:.9}\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_no_id div{background-color:#b4edb7}.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_no_id:hover div{opacity:.9}\n#organizer_rightColumnTitle #organizer_topRightIcons{position:absolute;width:auto;height:18px;top:8px;right:8px}.zenario_organizer_full #organizer_rightColumnTitle #organizer_topRightIcons{top:0}\n#organizer_rightColumnTitle #organizer_topRightIcons>div{margin-right:5px;display:inline-block;float:none;height:18px}#zenario_fbDebugInfoBox{padding:4px;background:#333;font-family:Verdana,Tahoma,Arial,Helvetica,sans-serif;font-size:1em;clear:both}\n#zenario_fbDebugInfoBox,#zenario_fbDebugInfoBox input,#zenario_fbDebugInfoBox textarea{color:#333;font-size:12px;font-family:Arial,Verdana,Helvetica,sans-serif}\n#zenario_fbDebugInfoBox a{color:#0080cb}#zenario_fbDebugInfoBox .zenario_debugInfo{padding:15px;background:#FFF;margin:auto;max-height:400px;overflow:auto}\n#zenario_fbDebugInfoBox .zenario_debugInfo .organizer_basic_info{clear:both}#zenario_fbDebugInfoBox .zenario_debugInfoTitle{width:auto;font-weight:bold;font-size:13px;margin:0 2px 5px}\n#zenario_fbDebugInfoBox .organizer_refiner_no,#zenario_fbDebugInfoBox .organizer_cfti{width:auto;overflow:hidden;clear:both;margin:15px 2px 5px;padding:10px 0 0 0;border-top:1px solid #c4c4c4;font-weight:bold;font-size:13px}\n#zenario_fbDebugInfoBox .organizer_info_box{float:right}#zenario_fbDebugInfoBox table{width:100%}#zenario_fbDebugInfoBox table tr th,#zenario_fbDebugInfoBox table tr td{vertical-align:top;padding:0}\n#zenario_fbDebugInfoBox th{width:22%;text-align:left;font-weight:normal}#zenario_fbDebugInfoBox table tr td,#zenario_fbDebugInfoBox input,#zenario_fbDebugInfoBox textarea{font-family:'Courier New',Courier,monospace}\n#zenario_fbDebugInfoBox input,#zenario_fbDebugInfoBox textarea{width:95%;border:0;background:#FFF}#zenario_fbDebugInfoBox textarea{resize:none;line-height:1.2em}\n.zenario_debugInfo .organizer_info_box{margin-top:0}table.table-bordered{border-collapse:collapse}table.table-bordered,table.table-bordered th,table.table-bordered td{border:1px solid #c4c4c4}\ntable.table-bordered td{padding:4px}.organizer_item_image.zenario_file_item{background:url('../admin/images/icon-documents-documents.svg') no-repeat center center / 18px auto}\n.organizer_item_image.zenario_folder_item{background:url('../admin/images/icon-folder-closed-dark.svg') no-repeat center center / 18px auto}.organizer_item_image.zenario_document_tag_item{background:url('../admin/images/icon-tags.svg') no-repeat center center / 18px auto}\n.organizer_item_image.zenario_document_auto_set_rule{background:url('../admin/images/icon-auto-rule-sets.svg') no-repeat center center / 18px auto}.organizer_item_image.zenario_error_log{background:url('../admin/images/icon-error-log-dark.svg') no-repeat center center / 18px auto}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_offline{border:1px solid orange}#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_public{border:1px solid #008000}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_private{border:1px solid #00f}#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items.organizer_documents_items{line-height:28px;padding:2px;color:#202020}\n#organizer_rightColumn div.organizer_row.document .listicon>div,#organizer_rightColumn div.organizer_row.folder .listicon>div,#organizer_rightColumn li.organizer_menu_handle .listicon>div{padding-left:24px}\n.organizer_document_line_outer .zenario_document_title{font-weight:bold;margin-right:10px}.organizer_document_line_outer .zenario_document_sub_fields{margin-right:10px;font-style:italic;color:#696969}\n.organizer_document_line_outer.line_2 .organizer_document_line_inner .zenario_document_sub_fields{position:relative;bottom:5px}#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle.document:hover,#organizer_rightColumn .organizer_hierarchy_view .dd3-handle.document{height:60px;background:url('../admin/images/icon-drag-handle.png') no-repeat left center}\n.introjs-tooltip{min-width:180px}.introjs-tooltip .introjs-tooltiptext,.introjs-tooltip .introjs-tooltipbuttons .introjs-button{font-family:Verdana,Arial,Helvetica,sans-serif}\n.introjs-tooltip .introjs-tooltiptext>p strong{font-size:18px;font-weight:normal;color:#333}.introjs-tooltip .introjs-tooltiptext p{font-size:12px;color:#676767}\n.introjs-tooltip .introjs-bullets ul li a.active{background:#0079ce !important}.introjs-tooltip .introjs-tooltipbuttons .introjs-button{font-size:14px;text-shadow:none;color:#333;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-skipbutton{width:12px;height:12px;border:0;text-indent:-999;display:block;font-size:0;line-height:0;position:absolute;top:-3px;right:0;background:url('../admin/images/tooltip-close-off-state.png') no-repeat}\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-skipbutton:hover{box-shadow:none;background:url('../admin/images/tooltip-close-over-state.png') no-repeat}\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-prevbutton{float:left;border:1px solid #b3b3b3}.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-nextbutton{border:1px solid #007fa5;background:#0097c5;color:#FFF}\n.introjs-helperNumberLayer{z-index:99999999 !important}.introjs-showElement.zenario_admin_name,.introjs-showElement.logout_button{background:#000}#organizer_search.introjs-showElement{background:#FFF}\n.calendar-organizer{width:100%;border-collapse:collapse;margin-left:1%;margin-top:1%;table-layout:fixed}.calendar-organizer .calendar-prev-link,.calendar-organizer .calendar-next-link{text-align:center}\n.calendar-organizer .calendar-prev-link a,.calendar-organizer .calendar-next-link a{cursor:pointer}.calendar-organizer-day{border:1px solid #c4c4c4;padding:3%;text-align:right;position:relative}\n.calendar-organizer-no-date{background:#f6f6f6}.calendar-organizer-date:hover{background:#dcf5fd}.calendar-organizer-day-names td{border:1px solid #c4c4c4;color:#fff;background:#333;text-align:center;padding:1%}\n.calendar-organizer-events-details{display:block;float:left;width:26%;margin-left:3%;margin-top:0}.calendar-organizer-event{position:absolute;top:55%;right:5%;background:#01d103;color:#fff;padding:3%}\n.calendar-organizer-wrapper{display:block;float:left;width:70%}.calendar-organizer-day-value{position:absolute;top:5%;right:5%}.calendar-first-row{width:100%}\n.calendar-first-row div{display:block;float:left;width:33%}.calendar-organizer-first-row{background:#f9f9f9;border:1px solid #c4c4c4}.calendar-first-row-left{text-align:left}\n.calendar-first-row-middle h2{text-align:center;margin:0}.calendar-first-row-right{text-align:right}.calendar-first-row ul li{display:inline-block}.calendar-first-row ul{padding-left:6%;margin:0}\n.calendar-organizer-month-year-title{font-size:1.2em;font-weight:700;text-align:center}.organizer_subheading{font-weight:700;color:#000;font-family:Verdana;font-size:1em;background-color:#e6e6e6;padding:5px 0 5px 5px;border-bottom:1px solid #c4c4c4}\n.organizer_list_view_with_short_rows div.organizer_cell div{display:block;float:left}.organizer_list_view_with_short_rows div.organizer_cell div.organizer_cell_line{float:none}\n.organizer_list_view_with_tall_rows .listicon .organizer_item_with_image{display:block;float:left}.organizer_list_view_with_tall_rows .listicon .organizer_inline_buttons{width:60px;display:block;float:right;position:relative;bottom:45px;left:4px}\n#organizer_rightColumn .organizer_form_builder_view .form_outer .form h4{color:#202020;margin:15px 0 5px 0}#organizer_rightColumn .organizer_form_builder_view .form_outer .form .field.ui-sortable-handle{margin-left:20px}\n#organizer_rightColumn .organizer_form_builder_view .form_outer .form .field.ui-sortable-handle input{width:200px}#organizer_rightColumnContent #organizer_hierarchy_view div.organizer_row .organizer_column__small_screens__cell{display:inline-block;width:40px;height:18px;font-size:0;color:transparent}\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_mobile_only:before,#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_and_mobile:before{display:inline-block;width:18px;height:19px;background:url('../admin/images/icon-page-preview-mobile-portrait.svg') center bottom no-repeat;background-size:auto 14px;content:''}\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_only:after,#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_and_mobile:after{display:inline-block;width:18px;height:19px;background:url('../admin/images/icon-page-preview-desktop.svg') center bottom no-repeat;background-size:auto 14px;content:''}\n.organizer_list_view_with_tall_rows .listicon>div{width:64px;height:48px !important;display:block;float:left;padding-left:0 !important}#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row div.organizer_cell.listicon .organizer_list_view_icon{width:60px;height:43.333px !important;margin:3px 2px}\n.organizer_tall_row_with_small_icon .listicon.firstcol>div{width:auto;height:25px !important;padding-left:24px !important}.organizer_tall_row_with_small_icon .listicon.firstcol>div.organizer_inline_buttons{position:static;bottom:0;left:0;float:left;padding-left:1px !important}\n.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons,.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons div,.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons div.zenario_users_contact_status{height:25px !important}\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cell.listicon .organizer_inline_buttons,#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cell.listicon .organizer_inline_buttons div,#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cells_items .organizer_inline_buttons,#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cells_items .organizer_inline_buttons div{margin:0;padding:0}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell span.listicon{display:inline-block;padding-left:16px;height:16px;background-size:14px 16px;padding-right:2px;background-position:left center}\n.organizer_slidedown_view table td .slidedown_tags_title{width:40px;margin:0 0 10px 20px;display:block;float:left;color:#202020;margin:0 0 10px 20px}.organizer_slidedown_view table td .organizer_image_tags.slidedown_view{display:block;float:left}\n#row__module_description .zfab_row_inner .module_description *{color:#fff;font-size:11px}#row__module_description .zfab_row_inner .module_description ul{margin:15px 0 15px 30px;list-style-position:inside}\n#row__module_description .zfab_row_inner .module_description ul li{list-style:disc;margin:5px 0 5px 0}#row__module_description .zfab_row_inner .module_description p{margin-top:10px;margin-bottom:10px}\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li a{min-width:200px;text-align:center}.label_without_icon.organizer_button_with_children>a{min-width:0}\n#organizer_collectionPanelButtons_no_items ul li{list-style:none;margin-left:2px;margin-right:2px}#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new a,#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a{cursor:pointer;padding:5px 10px 6px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;text-shadow:0 1px 1px #000;display:inline-block;min-width:200px}\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new a,#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a{background-color:#ea5900;color:#fff}\n#organizer_collectionPanelButtons_no_items ul li a{background:#e9e9e9;cursor:pointer;padding:5px 10px 6px;color:#616161;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;display:inline-block;min-width:200px}\n#organizer_collectionPanelButtons_no_items ul .label_without_icon a{min-width:200px}#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children a{text-align:left;cursor:auto;display:inline-block;min-width:0;background:url(\"../admin/images/no_items_arrow_right.png\") no-repeat;background-position:right center;padding-right:15px}\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children>a{color:#000;text-shadow:none}#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a{margin:5px 8px}\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children a,#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul,#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li{display:inline-block}\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li a{background:#e9e9e9;cursor:pointer;padding:5px 10px 6px;color:#616161;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;font-weight:normal}\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul{padding:0}#organizer_rightColumnOptions_no_items{margin-top:20px}#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button{cursor:pointer;display:block;height:25px;width:67px;background:url('../admin/images/help_btn.svg') no-repeat center center / 67px 24px}\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button p{position:relative;top:4px;left:6px;color:#fff}\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button{opacity:1;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button:hover{opacity:.6}#zenario_tutorial_main_video{display:block;margin:0 auto;padding-bottom:20px;padding-top:20px}\n#zenario_tutorial_main_video iframe,#zenario_tutorial_main_video .no_video{display:block;margin:0 auto}#zenario_tutorial_main_video .no_video p{text-align:center;color:#fff;font-size:1.2em;margin-top:149px;margin-bottom:149px}\n.zenario_tutorial .other_videos .no_other_videos p{text-align:center}.zenario_tutorial{background-color:#f4f4f4}.zenario_tutorial .help_tour_outer{background-color:#d2ecf8;margin:0 10px 10px 10px;min-height:70px}\n.zenario_tutorial .help_tour_outer .help_tour_inner,.zenario_tutorial .help_tour_outer .video_start_tour{display:block;float:left}.zenario_tutorial .help_tour_outer .help_tour_inner .help_tour_message{font-weight:700;font-size:12px;margin:15px 30px 10px 50px}\n.zenario_tutorial .help_tour_outer .help_tour_inner .auto_open_option{margin:0 30px 0 47px}.zenario_tutorial .help_tour_outer .video_start_tour .start_button{background:url(\"../admin/images/start-tour-btn-off.png\") no-repeat;display:block;height:50px;width:160px;color:transparent;cursor:pointer;margin-top:15px}\n.zenario_tutorial .help_tour_outer .video_start_tour .start_button:hover{background:url(\"../admin/images/start_tour_btn_on.png\") no-repeat}.zenario_tutorial .video_end{clear:both}\n.zenario_tutorial .main_video{background-color:#000}.zenario_tutorial .other_videos #zenario_tutorial_other_videos .zenario_slideshow_wrapper{margin-top:20px}\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .no_other_videos{line-height:150px}.zenario_tutorial .other_videos #zenario_tutorial_other_videos .no_other_videos p{font-size:16px;font-weight:700;margin:0;text-align:center}\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .organizer_slideshow #navigator{position:relative;top:170px;display:none}.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides{left:70px;width:85%;top:20px}\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video{border:2px solid #FFF}.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video.selected{border-color:#01d103}\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video.selected .video_title{background:#01d103;text-shadow:1px 1px #333}#zenario_tutorial_other_videos div.slides{height:154px !important}\n.zenario_tutorial .zenario_tutorial_video_banner{height:40px;width:97%;background-color:#333}.zenario_tutorial .zenario_tutorial_video_banner h1,.zenario_tutorial .zenario_tutorial_video_banner{color:#fff;font-size:1.2em;font-weight:700;margin:0;padding:0;line-height:40px;text-align:left;padding-left:3%}\n.zenario_tutorial_cbox #cboxTitle{display:none !important}.zenario_tutorial_cbox #cboxLoadedContent{margin-bottom:0}.zenario_tutorial_cbox #cboxContent{background:#f4f4f4}\nspan.video_title{position:absolute;bottom:0;background:#333;display:block;padding:2px 8px;color:#fff;text-align:center;left:0;right:0}.zenario_tutorial_cbox #cboxClose{position:absolute;top:9px;right:8px;display:block;width:23px;height:23px;text-indent:-9999px}\n#organizer_collectionPanelButtons_no_items ul{padding-left:0}.zenario_show_colobox_above_fab #cboxLoadedContent{padding-bottom:28px}#organizer_colsortfields .zenario_remove_date{background:#333;color:#fff;border:0;cursor:pointer;position:relative;bottom:1px}\n.zenario_date_filters_phrase{display:inline-block;width:80px}#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .logout_button,#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .home_page_button,#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .top_left_button,#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .zenario_admin_name,#zenario_fbog.zenario_panel_type__form_builder #organizer_bottomWrap,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .logout_button,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .home_page_button,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .top_left_button,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .zenario_admin_name,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_bottomWrap,#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .logout_button,#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .home_page_button,#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .top_left_button,#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .zenario_admin_name,#zenario_fbog.zenario_panel_type__schematic_builder #organizer_bottomWrap{display:none}\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button{display:block;border:0;width:auto;height:auto}\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button a,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button a{display:block;height:34px;width:34px;cursor:pointer;margin-top:2px;margin-right:17px;border:0;background:url(\"../admin/images/icon-close-off-state-light-grey.svg\") no-repeat center / 16px 16px}\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button a:hover,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button a:hover{background:url(\"../admin/images/icon-close-hover-state-blue.svg\") no-repeat center / 16px 16px}\n#zenario_fbog.zenario_panel_type__form_builder #organizer_backButton,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_backButton{padding-left:15px}\n#zenario_fbog.zenario_panel_type__form_builder .organizer_rightColumnOptions_panel,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_rightColumnOptions_panel,#zenario_fbog.zenario_panel_type__schematic_builder .organizer_rightColumnOptions_panel{height:0;padding:12px 0 0}\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel,#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel{position:absolute;right:0;left:0;top:-27px;text-align:center;margin:auto}\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul,#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a,#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul,#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a{float:none;display:inline}\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li,#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li{background:0}\n.organizer_form_builder_view{height:100%;overflow:hidden;background:url('../admin/images/bg-pattern-blue.png')}.organizer_form_builder_view .form_fields_palette,.organizer_form_builder_view .form_outer{float:left}\n.organizer_form_builder_view .form_outer{overflow:auto;width:calc(100% - 450px);height:calc(100% - 50px);padding:15px 20px;margin:10px;background:#FFF;box-shadow:4px 4px 10px 0 rgba(0,0,0,0.35);-webkit-box-shadow:4px 4px 10px 0 rgba(0,0,0,0.35);-moz-box-shadow:4px 4px 10px 0 rgba(0,0,0,0.35)}\n.organizer_form_builder_view .form_fields_palette .field_type_section{padding:10px;border-top:1px solid #FFF;border-bottom:1px solid #8cd58b}.organizer_form_builder_view .form_fields_palette .field_type_section:first-child,.organizer_form_builder_view .form_fields_palette .field_type_list.header_content{border-top:0}\n.organizer_form_builder_view .form_fields_palette .field_type_section:last-child,.organizer_form_builder_view .form_fields_palette .field_type_list_header.header_content{border-bottom:0}\n.organizer_form_builder_view .form_fields_palette .field_type_list.header_content{padding-top:0}.organizer_form_builder_view .form_fields_palette .field_type_list_header.header_content{padding-bottom:0}\n.organizer_form_builder_view .form_fields_palette .field_type_list.field_type_section_simple{padding-top:10px}.organizer_form_builder_view .form_fields_palette .field_type_list_header{padding:15px;border-bottom:1px solid #8ed28c}\n.organizer_form_builder_view .form_outer .form_tabs{width:100%;overflow:hidden;margin-top:5px}.organizer_form_builder_view .form_outer .form_tabs .tab{display:inline-block;margin-left:4px;padding:10px 8px;cursor:pointer;color:#777;background:#f0f0f0;border:1px solid #b9b9b9;border-bottom-color:#6f6f6f;position:relative;z-index:2;-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px;-webkit-transition:color .3s ease-out;-moz-transition:color .3s ease-out;-o-transition:color .3s ease-out;transition:color .3s ease-out}\n.organizer_form_builder_view .form_outer .form_tabs .tab:hover{color:#333}.organizer_form_builder_view .form_outer .form_tabs .tab.on{padding-right:22px;background:#fff url('../admin/images/icon-pencil.png') no-repeat right center;color:#333;border-color:#6f6f6f;border-bottom-color:#FFF}\n.organizer_form_builder_view .form_outer .form_tabs .tab.ui-state-hover{background:#333;border-color:#333;color:#fff}.organizer_form_builder_view .form_outer .form_tabs .tab.visible{background-color:#bffeaf}\n.organizer_form_builder_view .form_outer .form_tabs .tab.hidden{background-color:#ccc}.organizer_form_builder_view .form_outer .form_tabs .tab.visible_on_condition{background-color:#ffc480}\n.organizer_form_builder_view .form_outer .form_outer_inner{padding:20px 15px;height:calc(100% - 80px)}.organizer_form_builder_view .form_outer .form_header{padding:5px 10px;text-align:center}\n.organizer_form_builder_view .form_outer .form_tabs #organizer_add_new_tab{cursor:pointer;color:#01d102;font-weight:bold;font-size:20px;display:inline-block}\n.organizer_form_builder_view .form_outer .form{height:100%;border-top:1px solid #6f6f6f;position:relative;margin-top:-1px}.organizer_form_builder_view .form_outer .form .form_section{min-height:100%}\n.organizer_form_builder_view .form_outer .form .form_section.empty{padding:30px;text-align:center}.organizer_form_builder_view .form_outer .form .form_field .form_field_arrow{display:none;width:23px;height:47px;background:url('../admin/images/builder-status-selected-triangle.png') no-repeat 0 0;position:absolute;right:100%;z-index:50}\n.organizer_form_builder_view .form_outer .form .form_field.selected .form_field_arrow{display:inline-block}.organizer_form_builder_view .form_outer .form .form_field.section_description .description{white-space:pre-wrap}\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start{background-image:url('../admin/images/icon-repeating-section.png');background-repeat:no-repeat;background-position:5px 20px}\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,.organizer_form_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border{display:inline-block;border-top:2px dashed #333}\n.organizer_form_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border{width:100%}\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border{width:calc(100% - 40px);margin-left:40px}\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper span,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper span{display:inline-block;float:right;padding:0 8px 2px;margin:2px 0 0 40px;background:#777;color:#FFF;font-size:10px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}\n.organizer_form_builder_view .form_outer .form .form_field_classes{text-align:right;display:inline-block;position:absolute;right:8px;bottom:5px}.organizer_form_builder_view .form_outer .form .form_field_classes .field_icon{display:inline-block;width:40px;text-align:center;padding:1px 0;font-size:10px;text-transform:uppercase;background:#333;color:#FFF;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}\n.organizer_admin_box_builder_view{height:100%;overflow:hidden;background:url('../admin/images/bg-pattern-grey.png')}.organizer_admin_box_builder_view .form_fields_palette,.organizer_admin_box_builder_view .form_outer{height:calc(100% - 20px);float:left}\n.organizer_admin_box_builder_view .form_fields_palette{overflow:auto;width:370px;margin:10px;background:#f6f6f6;box-shadow:0 0 4px 0 rgba(0,0,0,0.5);-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,0.5);-moz-box-shadow:0 0 4px 0 rgba(0,0,0,0.5)}\n.organizer_admin_box_builder_view .form_outer{width:calc(100% - 410px);overflow:auto;margin:10px;background:#FFF;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\n.organizer_admin_box_builder_view .form_fields_palette .field_type_section{padding:10px}.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header.field_type_section{padding:15px 15px 0;background:url('../admin/images/builder-sections-separator.gif') repeat-x left top}\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header.field_type_section:first-child{background-position:left bottom;padding-bottom:15px}\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header h5{margin:0;color:#333;font-size:16px;font-weight:normal}.organizer_admin_box_builder_view .form_fields_palette .field_type_list,.organizer_form_builder_view .form_fields_palette .field_type_list,.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields{overflow:hidden}\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_1,.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_2{width:50%;float:left}\n.organizer_admin_box_builder_view .form_outer .form_outer_inner{padding:15px}.organizer_admin_box_builder_view .form_outer .form_outer_inner,.organizer_admin_box_builder_view .form_outer .form_outer_inner #organizer_form_sections{height:100%}\n.organizer_admin_box_builder_view .form_outer .form_outer_inner #organizer_form_sections .form_section{min-height:100%}.organizer_admin_box_builder_view .form_outer .form_header{padding:5px 10px;background:#ddf6fd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\n.organizer_admin_box_builder_view .form_outer .form_header h5{margin:0;color:#333;font-size:16px;font-weight:normal}.organizer_admin_box_builder_view .form_outer .form_header h5 span{font-size:13px;font-style:italic}\n.organizer_admin_box_builder_view .form_outer .form_tabs{width:100%;overflow:hidden;border-bottom:1px solid #6f6f6f;margin:5px 0 10px}.organizer_admin_box_builder_view .form_outer .form_tabs .tab{display:inline-block;color:#b9b9b9;margin-right:15px;padding:10px 0;cursor:pointer}\n.organizer_admin_box_builder_view .form_outer .form_tabs .tab:hover{color:#027cd9}.organizer_admin_box_builder_view .form_outer .form_tabs .tab.on{color:#333;border-bottom:2px solid #01d102}\n.organizer_admin_box_builder_view .form_outer .form_tabs #organizer_add_new_tab{cursor:pointer;color:#01d102;font-weight:bold;font-size:20px;display:inline-block}\n.organizer_admin_box_builder_view .field_type_list_outer h6{margin:0;padding:6px 10px 0 15px;font-size:13px;color:#000}.organizer_admin_box_builder_view .field_type_list_outer .field_type_section{background:url(\"../admin/images/builder-sections-separator.gif\") repeat-x left bottom}\n.field_type_list_outer .field_type_section .field_type,.field_type_list_outer .dataset_fields .dataset_field{padding-left:5px}.field_type_list_outer .field_type_section .field_type span,.field_type_list_outer .dataset_fields .dataset_field span{display:inline-block;width:20px;height:16px;float:left;background-position:0 center;background-repeat:no-repeat;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}\n.field_type_list_outer .field_type_section .field_type span.centralised_radios{background-position:3px center}.field_type_list_outer .field_type_section .field_type:hover span,.field_type_list_outer .dataset_fields .dataset_field:hover span{filter:brightness(500%)}\n.field_type_list_outer .field_type_section .field_type:hover span.radios,.field_type_list_outer .dataset_fields .dataset_field:hover span.radios,.field_type_list_outer .field_type_section .field_type:hover span.centralised_radios{filter:invert(1)}\n.field_type_list_outer .field_type_section span.text,.field_type_list_outer .dataset_fields .dataset_field span.text,.organizer_form_builder_view .form_outer .form_field.text .label,.organizer_admin_box_builder_view .form_outer .form_field.text .label,.organizer_form_builder_view .form_outer .form_field .label,.organizer_admin_box_builder_view .form_outer .form_field .label{background-image:url(\"../admin/images/icon-field-text.svg\");background-position:1px 1px;background-size:auto 13px}\n.field_type_list_outer .field_type_section span.checkbox,.field_type_list_outer .dataset_fields .dataset_field span.checkbox,.organizer_form_builder_view .form_outer .form_field.checkbox .label,.organizer_admin_box_builder_view .form_outer .form_field.checkbox .label,.organizer_form_builder_view .form_outer .form_field.toggle .label,.organizer_admin_box_builder_view .form_outer .form_field.toggle .label{background-image:url(\"../admin/images/icon-field-checkbox.svg\");background-size:12px auto}\n.field_type_list_outer .field_type_section span.textarea,.field_type_list_outer .dataset_fields .dataset_field span.textarea,.organizer_form_builder_view .form_outer .form_field.textarea .label,.organizer_admin_box_builder_view .form_outer .form_field.textarea .label{background-image:url(\"../admin/images/icon-field-textarea.svg\");background-size:14px auto}\n.field_type_list_outer .field_type_section span.select,.field_type_list_outer .dataset_fields .dataset_field span.select,.organizer_form_builder_view .form_outer .form_field.select .label,.organizer_admin_box_builder_view .form_outer .form_field.select .label,.field_type_list_outer .field_type_section span.centralised_select,.field_type_list_outer .dataset_fields .dataset_field span.centralised_select,.organizer_form_builder_view .form_outer .form_field.centralised_select .label,.organizer_admin_box_builder_view .form_outer .form_field.centralised_select .label{background-image:url(\"../admin/images/icon-field-select-list.svg\");background-size:15px auto}\n.field_type_list_outer .field_type_section span.radios,.field_type_list_outer .dataset_fields .dataset_field span.radios,.organizer_form_builder_view .form_outer .form_field.radios .label,.organizer_admin_box_builder_view .form_outer .form_field.radios .label,.field_type_list_outer .field_type_section span.centralised_radios,.field_type_list_outer .dataset_fields .dataset_field span.centralised_radios,.organizer_form_builder_view .form_outer .form_field.centralised_radios .label,.organizer_admin_box_builder_view .form_outer .form_field.centralised_radios .label{background-image:url(\"../admin/images/icon-field-radios.svg\");background-position:3px center}\n.field_type_list_outer .field_type_section span.checkboxes,.field_type_list_outer .dataset_fields .dataset_field span.checkboxes,.organizer_form_builder_view .form_outer .form_field.checkboxes .label,.organizer_admin_box_builder_view .form_outer .form_field.checkboxes .label{background-image:url(\"../admin/images/icon-field-checkboxes.svg\");background-position:3px center}\n.field_type_list_outer .field_type_section span.date,.field_type_list_outer .dataset_fields .dataset_field span.date,.organizer_form_builder_view .form_outer .form_field.date .label,.organizer_admin_box_builder_view .form_outer .form_field.date .label{background-image:url(\"../admin/images/icon-field-date.svg\")}\n.field_type_list_outer .field_type_section span.url,.field_type_list_outer .dataset_fields .dataset_field span.url,.organizer_form_builder_view .form_outer .form_field.url .label,.organizer_admin_box_builder_view .form_outer .form_field.url .label{background-image:url(\"../admin/images/icon-field-url.svg\")}\n.field_type_list_outer .field_type_section span.editor,.field_type_list_outer .dataset_fields .dataset_field span.editor,.organizer_form_builder_view .form_outer .form_field.editor .label,.organizer_admin_box_builder_view .form_outer .form_field.editor .label{background-image:url(\"../admin/images/icon-field-editor.svg\")}\n.field_type_list_outer .field_type_section span.file_picker,.field_type_list_outer .dataset_fields .dataset_field span.file_picker,.organizer_form_builder_view .form_outer .form_field.file_picker .label,.organizer_admin_box_builder_view .form_outer .form_field.file_picker .label{background-image:url(\"../admin/images/icon-field-file-picker.svg\");background-size:auto 15px}\n.field_type_list_outer .field_type_section span.dataset_select,.field_type_list_outer .dataset_fields .dataset_field span.dataset_select,.organizer_form_builder_view .form_outer .form_field.dataset_select .label,.organizer_admin_box_builder_view .form_outer .form_field.dataset_select .label{background-image:url(\"../admin/images/icon-field-dataset-select.png\")}\n.field_type_list_outer .field_type_section span.dataset_picker,.field_type_list_outer .dataset_fields .dataset_field span.dataset_picker,.organizer_form_builder_view .form_outer .form_field.dataset_picker .label,.organizer_admin_box_builder_view .form_outer .form_field.dataset_picker .label{background-image:url(\"../admin/images/icon-field-dataset-picker.png\")}\n.field_type_list_outer .field_type_section span.flag,.field_type_list_outer .dataset_fields .dataset_field span.flag,.organizer_form_builder_view .form_outer .form_field.flag .label,.organizer_admin_box_builder_view .form_outer .form_field.flag .label{background-image:url(\"../admin/images/icon-field-flag.png\")}\n.field_type_list_outer .field_type_section span.group,.field_type_list_outer .dataset_fields .dataset_field span.group,.organizer_form_builder_view .form_outer .form_field.group .label,.organizer_admin_box_builder_view .form_outer .form_field.group .label{background-image:url(\"../admin/images/icon-field-group.svg\");background-size:16px auto}\n.field_type_list_outer .field_type_section span.attachment,.field_type_list_outer .dataset_fields .dataset_field span.attachment,.organizer_form_builder_view .form_outer .form_field.attachment .label,.organizer_admin_box_builder_view .form_outer .form_field.attachment .label{background-image:url(\"../admin/images/icon-field-attachment.svg\")}\n.field_type_list_outer .field_type_section span.calculated,.field_type_list_outer .dataset_fields .dataset_field span.calculated,.organizer_form_builder_view .form_outer .form_field.calculated .label,.organizer_admin_box_builder_view .form_outer .form_field.calculated .label{background-image:url(\"../admin/images/icon-field-calculated.svg\")}\n.field_type_list_outer .field_type_section span.restatement,.field_type_list_outer .dataset_fields .dataset_field span.restatement,.organizer_form_builder_view .form_outer .form_field.restatement .label,.organizer_admin_box_builder_view .form_outer .form_field.restatement .label{background-image:url(\"../admin/images/icon-field-mirrored.svg\")}\n.field_type_list_outer .field_type_section span.repeat_start,.field_type_list_outer .dataset_fields .dataset_field span.repeat_start,.organizer_form_builder_view .form_outer .form_field.repeat_start .label,.organizer_admin_box_builder_view .form_outer .form_field.repeat_start .label{background-image:url(\"../admin/images/icon-field-repeatblock.svg\")}\n.field_type_list_outer .field_type_section span.section_description,.field_type_list_outer .dataset_fields .dataset_field span.section_description,.organizer_form_builder_view .form_outer .form_field.section_description .label,.organizer_admin_box_builder_view .form_outer .form_field.section_description .label{background-image:url(\"../admin/images/icon-field-subheading.svg\")}\n.field_type_list_outer .field_type_section span.document_upload,.field_type_list_outer .dataset_fields .dataset_field span.document_upload,.organizer_form_builder_view .form_outer .form_field.document_upload .label,.organizer_admin_box_builder_view .form_outer .form_field.document_upload .label{background-image:url(\"../admin/images/icon-field-document-upload.svg\")}\n.field_type_list_outer .field_type_section span.consent,.field_type_list_outer .dataset_fields .dataset_field span.consent,.organizer_form_builder_view .form_outer .form_field.consent .label,.organizer_admin_box_builder_view .form_outer .form_field.consent .label{background-image:url(\"../admin/images/icon-consents-dark.svg\")}\n.organizer_form_builder_view input[type=\"text\"],.organizer_form_builder_view input[type=\"email\"],.organizer_form_builder_view input[type=\"password\"],.organizer_form_builder_view textarea,.organizer_admin_box_builder_view input[type=\"text\"],.organizer_admin_box_builder_view input[type=\"email\"],.organizer_admin_box_builder_view input[type=\"password\"],.organizer_admin_box_builder_view textarea{border:1px solid #c4c4c4;color:#424242;font-family:Verdana,Tahoma,Arial,Helvetica,sans-serif;font-size:1em;padding:5px}\n.organizer_form_builder_view .form_fields_palette,.organizer_admin_box_builder_view .form_fields_palette{overflow-y:auto;width:370px;margin:10px;height:calc(100% - 24px);box-shadow:0 0 4px 0 rgba(0,0,0,0.5);-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,0.5);-moz-box-shadow:0 0 4px 0 rgba(0,0,0,0.5);background:#f6f6f6}\n.organizer_form_builder_view .form_fields_palette_outer,.organizer_admin_box_builder_view .form_fields_palette_outer{position:relative;display:table;width:100%;height:calc(100% - 158px)}\n.organizer_form_builder_view .form_fields_palette_outer .field_details_outer,.organizer_admin_box_builder_view .form_fields_palette_outer .field_details_outer{display:table-cell}\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer,.organizer_admin_box_builder_view .form_fields_palette .field_type_list_outer{height:100%;background:#baefba}\n.organizer_form_builder_view .form_fields_palette .field_details_header>div,.organizer_form_builder_view .form_outer .form_header>div,.organizer_admin_box_builder_view .form_fields_palette .field_details_header>div,.organizer_admin_box_builder_view .form_outer .form_header>div,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header>div{padding:10px 15px}\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_info,.organizer_form_builder_view .form_outer .form_header .field_info,.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_info,.organizer_admin_box_builder_view .form_outer .form_header .field_info,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .field_info{margin-top:5px;font-size:11px;font-style:italic;-ms-word-break:break-all;word-break:break-all;word-break:break-word}\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_details_header_options,.organizer_form_builder_view .form_outer .form_header .field_details_header_options,.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_details_header_options,.organizer_admin_box_builder_view .form_outer .form_header .field_details_header_options,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .tab_details_header_options{overflow:hidden;text-align:right;border-bottom:1px solid #c6cbcf}\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_details_header_options input,.organizer_form_builder_view .form_outer .form_header .field_details_header_options input,.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_details_header_options input,.organizer_admin_box_builder_view .form_outer .form_header .field_details_header_options input,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .tab_details_header_options input{margin-left:10px}\n.organizer_form_builder_view .form_fields_palette .field_type_list_header h5,.organizer_form_builder_view .form_fields_palette .field_details_header h5,.organizer_admin_box_builder_view .form_fields_palette .field_details_header h5,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header h5{margin:0;color:#000;font-size:16px;font-weight:normal;display:inline}\n.organizer_form_builder_view .form_outer .form_header h5,.organizer_admin_box_builder_view .form_outer .form_header h5{margin:0;color:#333;font-size:16px;font-weight:normal;padding-right:10px}\n.organizer_form_builder_view .form_outer .form_header h5 span,.organizer_admin_box_builder_view .form_fields_palette .field_details_header h5 span{font-size:13px;font-style:italic}\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_name,.organizer_form_builder_view .form_outer .form_header .field_name,.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_name,.organizer_admin_box_builder_view .form_outer .form_header .field_name,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .field_name{width:calc(100% - 40px)}\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content{position:relative}.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .edit_mode span,.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .view_mode span{margin-left:10px;font-size:11px;color:#007fa3;cursor:pointer;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .view_mode span:hover{text-decoration:underline}.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .edit_mode input{width:70%}\n.organizer_admin_box_builder_view .form_fields_palette_outer .tab_details_header_content .add_new_field,.organizer_admin_box_builder_view .form_fields_palette_outer .field_details_header_content .add_new_field,.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .add_new_field{position:absolute;top:14px;right:15px;text-indent:-999;cursor:pointer;color:#007fa3}\n.organizer_form_builder_view .form_fields_palette .field_details_outer,.organizer_form_builder_view .form_fields_palette .field_details_inner,.organizer_form_builder_view .form_fields_palette .field_details,.organizer_admin_box_builder_view .form_fields_palette .field_details_outer,.organizer_admin_box_builder_view .form_fields_palette .field_details_inner,.organizer_admin_box_builder_view .form_fields_palette .field_details,.organizer_admin_box_builder_view .form_fields_palette .tab_details,.organizer_admin_box_builder_view .form_fields_palette .tab_details_outer,.organizer_admin_box_builder_view .form_fields_palette .tab_details_inner{height:100%}\n.organizer_form_builder_view .form_fields_palette .field_details,.organizer_admin_box_builder_view .form_fields_palette .field_details,.organizer_admin_box_builder_view .form_fields_palette .tab_details{background:#fbf290;border-top:1px solid #b9b9b9;position:relative;z-index:9;margin-top:-1px;padding:20px 15px;color:#000}\n.organizer_form_builder_view .form_outer p.error,.organizer_form_builder_view .form_fields_palette .field_details .error,.organizer_admin_box_builder_view .form_fields_palette .field_details .error,.organizer_admin_box_builder_view .form_fields_palette .tab_details .error{background:#fce4e1;border:1px solid #fad3c7;padding:5px 8px}\n.organizer_form_builder_view .form_outer p.error,.organizer_form_builder_view .form_fields_palette .field_details p.error,.organizer_admin_box_builder_view .form_fields_palette .field_details p.error,.organizer_admin_box_builder_view .form_fields_palette .tab_details p.error{margin:0 0 5px;color:#af0615}\n.organizer_form_builder_view .form_fields_palette .field_details .field,.organizer_admin_box_builder_view .form_fields_palette .field_details .fieldfield_details,.organizer_admin_box_builder_view .form_fields_palette .tab_details .field,.organizer_admin_box_builder_view .form_fields_palette .field_details .field{padding:5px 0}\n.organizer_form_builder_view .form_fields_palette .field_details .field:before,.organizer_form_builder_view .form_fields_palette .field_details .field:after{content:'.';width:0;height:0;font-size:0;line-height:0;display:block;overflow:hidden;visibility:hidden}\n.organizer_form_builder_view .form_fields_palette .field_details .field:after{clear:both}.organizer_form_builder_view .form_fields_palette .field_details .field table{width:100%}\n.organizer_form_builder_view .form_fields_palette .field_details .title,.organizer_admin_box_builder_view .form_fields_palette .field_details .title,.organizer_admin_box_builder_view .form_fields_palette .tab_details .title{font-weight:bold}\n.organizer_form_builder_view .form_fields_palette .field_details .value,.organizer_admin_box_builder_view .form_fields_palette .field_details .value,.organizer_admin_box_builder_view .form_fields_palette .tab_details .value{margin:3px 0}\n.organizer_form_builder_view .form_fields_palette .field_details input[type=\"text\"],.organizer_form_builder_view .form_fields_palette .field_details input[type=\"email\"],.organizer_form_builder_view .form_fields_palette .field_details input[type=\"password\"],.organizer_form_builder_view .form_fields_palette .field_details select,.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"text\"],.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"email\"],.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"password\"],.organizer_admin_box_builder_view .form_fields_palette .field_details select,.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"text\"],.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"email\"],.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"password\"],.organizer_admin_box_builder_view .form_fields_palette .tab_details select{width:calc(100% - 12px)}\n.organizer_form_builder_view .form_fields_palette .field_details .ui-sortable-handle input[type=\"text\"],.organizer_admin_box_builder_view .form_fields_palette .field_details .ui-sortable-handle input[type=\"text\"]{width:calc(100% - 72px);padding-right:65px}\n.organizer_form_builder_view .form_fields_palette .field_details .note_below,.organizer_admin_box_builder_view .form_fields_palette .field_details .note_below{font-size:11px;line-height:14px;font-style:italic}\n.organizer_form_builder_view .form_fields_palette .field_details textarea{width:100%;height:150px;max-width:320px}.organizer_form_builder_view .field_type,.organizer_admin_box_builder_view .field_type,.organizer_form_builder_view .dataset_field{width:45%;width:calc(50% - 25px);padding:4px 5px 6px 10px;line-height:16px;margin:5px;background:#FFF;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 1px 0 rgba(0,0,0,0.35);-moz-box-shadow:0 1px 1px 0 rgba(0,0,0,0.35);box-shadow:0 1px 1px 0 rgba(0,0,0,0.35);cursor:move}\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_1 .dataset_field,.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_2 .dataset_field{width:calc(100% - 45px)}\n.organizer_form_builder_view .form_outer .field_type,.organizer_admin_box_builder_view .form_outer .field_type,.organizer_form_builder_view .form_outer .dataset_field{width:140px}\n.organizer_form_builder_view .form_fields_palette .field_type_list .field_type,.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type{float:left;position:relative}\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field{display:inline-block}.organizer_form_builder_view .form_fields_palette .field_type_list .field_type:hover,.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type:hover,.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field:hover,.organizer_form_builder_view .field_type.ui-draggable-dragging,.organizer_admin_box_builder_view .field_type.ui-draggable-dragging,.organizer_form_builder_view .dataset_field.ui-draggable-dragging{background:#027dc9}\n.organizer_form_builder_view .field_type.ui-draggable-dragging,.organizer_admin_box_builder_view .field_type.ui-draggable-dragging,.organizer_form_builder_view .dataset_field.ui-draggable-dragging{width:140px}\n.organizer_form_builder_view .zenario_indent_level_1,.organizer_admin_box_builder_view .zenario_indent_level_1{width:calc(100% - 15px - 102px) !important;margin-left:15px}\n.organizer_form_builder_view .zenario_indent_level_1 .zenario_indent_level_1,.organizer_admin_box_builder_view .zenario_indent_level_1 .zenario_indent_level_1{width:100% !important;margin-left:0}\n.organizer_form_builder_view .zenario_indent_level_2,.organizer_admin_box_builder_view .zenario_indent_level_2{width:calc(100% - 30px - 102px) !important;margin-left:30px}\n.organizer_form_builder_view .zenario_indent_level_3,.organizer_admin_box_builder_view .zenario_indent_level_3{width:calc(100% - 45px - 102px) !important;margin-left:45px}\n.organizer_form_builder_view .field_type h4,.organizer_admin_box_builder_view .field_type h4,.organizer_form_builder_view .dataset_field h4{margin:0 !important;overflow:hidden;color:#000;font-size:12px;line-height:16px}\n.organizer_form_builder_view .form_fields_palette .field_type_list .field_type:hover h4,.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type:hover h4,.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field:hover h4,.organizer_form_builder_view .field_type.ui-draggable-dragging h4,.organizer_admin_box_builder_view .field_type.ui-draggable-dragging h4,.organizer_form_builder_view .dataset_field.ui-draggable-dragging h4{color:#FFF !important}\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_tab{overflow:hidden;display:block;float:none}.organizer_form_builder_view .preview,.organizer_admin_box_builder_view .preview{width:750px;padding:25px;display:block;border:3px dashed #d5d5d5;background:#f6f6f6}\n.organizer_form_builder_view .form_fields_palette .field_details_tabs,.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs{overflow:hidden;width:100%;display:block;position:relative;z-index:10}\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab,.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab{display:inline-block;padding:0 5px;line-height:30px;border:1px solid #d5d5d5;background:#d5d5d5;color:#6f6f6f;border-bottom:0;margin-right:1px;-webkit-border-top-left-radius:4px;-webkit-border-top-right-radius:4px;-moz-border-radius-topleft:4px;-moz-border-radius-topright:4px;border-top-left-radius:4px;border-top-right-radius:4px;cursor:pointer}\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab:first-child,.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab:first-child{margin-left:4px}\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab.on,.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab.on{background:#fbf290;border-color:#b9b9b9}\n.organizer_form_builder_view .form_outer .form .form_field,.organizer_admin_box_builder_view .form_outer .form_field{clear:both;position:relative;padding:14px 90px 14px 12px;cursor:pointer;-webkit-transition:background .2s ease;-moz-transition:background .2s ease;-o-transition:background .2s ease;transition:background .2s ease}\n.organizer_form_builder_view .form_outer .form .form_field:after,.organizer_admin_box_builder_view .form_outer .form_field:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}\n.organizer_form_builder_view .form_outer .form .form_field .label,.organizer_admin_box_builder_view .form_outer .form_field .label{min-height:18px}.organizer_form_builder_view .form_outer .form .form_field.repeat_start{padding-bottom:30px}\n.field_type_list_outer .field_type_section#organizer_centralised_field_type_list .field_type,.organizer_form_builder_view .form_outer .form div.form_field[class*=\"centralised\"],.organizer_admin_box_builder_view .form_outer .form div.form_field[class*=\"centralised\"]{background-image:url('../admin/images/form-field-bg-centralised.gif');background-repeat:no-repeat;background-position:9px 11px}\n.field_type_list_outer .field_type_section#organizer_centralised_field_type_list .field_type{background-position:2px 3px}.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field,.organizer_form_builder_view .form_outer .form .form_field.linked_field,.organizer_form_builder_view .form_outer .form div.form_field[class*=\"centralised\"].linked_field,.organizer_admin_box_builder_view .form_outer .form div.form_field[class*=\"centralised\"].linked_field{background-image:url('../admin/images/form-field-bg-linked.gif');background-repeat:no-repeat;background-position:9px 11px}\n.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field{background-position:2px 3px}.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field .checkbox{background-position:1px 2px}\n.organizer_form_builder_view .form_outer .form_field .label,.organizer_admin_box_builder_view .form_outer .form_field .label{display:block;margin-bottom:4px;padding-left:20px;color:#424242;font-weight:bold;background-position:left 2px;background-repeat:no-repeat}\n.organizer_form_builder_view .form_outer .form_field.editor .label,.organizer_admin_box_builder_view .form_outer .form_field.editor .label{background-size:16px auto;background-position:left center}\n.organizer_admin_box_builder_view .form_outer .form_field.group .label,.organizer_form_builder_view .form_outer .form_field.group .label{display:inline-block}\n.organizer_form_builder_view .form_outer .form_field input[type=\"text\"],.organizer_form_builder_view .form_outer .form_field input[type=\"email\"],.organizer_form_builder_view .form_outer .form_field input[type=\"password\"],.organizer_form_builder_view .form_outer .form_field textarea,.organizer_admin_box_builder_view .form_outer .form_field input[type=\"text\"],.organizer_admin_box_builder_view .form_outer .form_field input[type=\"email\"],.organizer_admin_box_builder_view .form_outer .form_field input[type=\"password\"],.organizer_admin_box_builder_view .form_outer .form_field textarea{width:410px}\n.organizer_admin_box_builder_view .form_outer .form_field.radios .label,.organizer_admin_box_builder_view .form_outer .form_field.checkbox .label,.organizer_form_builder_view .form_outer .form_field.radios .label,.organizer_form_builder_view .form_outer .form_field.checkbox .label{overflow:hidden;padding-left:25px}\n.organizer_admin_box_builder_view .form_outer .form_field.checkbox [type=\"checkbox\"],.organizer_form_builder_view .form_outer .form_field.checkbox [type=\"checkbox\"]{float:left}\n.organizer_form_builder_view .form_outer .form_field input[type=\"text\"].form_picked_item,.organizer_admin_box_builder_view .form_outer .form_field input[type=\"text\"].form_picked_item{margin-right:5px}\n.organizer_form_builder_view input[readonly],.organizer_admin_box_builder_view input[readonly]{background:#e9e9e9 none repeat scroll 0 0 !important;border:1px solid #dadada !important;color:#999 !important;cursor:default}\n.organizer_form_builder_view .form_outer .form_field input[type=\"button\"],.organizer_admin_box_builder_view .form_outer .form_field input[type=\"button\"]{color:#fff;font-family:Verdana,Tahoma,Arial,Helvetica,sans-serif;font-size:13px;margin-right:15px;padding:2px 10px 3px;text-shadow:0 1px 1px #000;background-color:#0298c3;border:1px solid #007fa3;border-radius:2px 3px 3px 2px / 3px;cursor:pointer}\n.organizer_form_builder_view .form_outer .form_field .zenario_note_below,.organizer_admin_box_builder_view .form_outer .form_field .zenario_note_below{width:408px;padding:3px 5px 5px 7px;margin-top:8px;background:#b1e6fd none repeat scroll 0 0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note_wrap,.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note_wrap{float:right;height:0;line-height:1px;margin:2px 0 0 10px;position:relative;text-align:left;width:200px;z-index:9}\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note,.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note{padding:5px 10px;font-size:10px;line-height:14px;position:absolute;background:#e0e0e0;-webkit-border-radius:4px;-webkit-border-top-left-radius:0;-moz-border-radius:4px;-moz-border-radius-topleft:0;border-radius:4px;border-top-left-radius:0}\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note:after,.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note:after{right:100%;top:0;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(224,224,224,0);border-right-color:#e0e0e0;border-width:6px}\n.organizer_form_builder_view .form_outer .form_field .zenario_note_below,.organizer_admin_box_builder_view .form_outer .form_field .zenario_note_below,.organizer_form_builder_view .form_outer .form_field .zenario_side_note,.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note{color:#333;font-size:10px;word-wrap:break-word}\n.form_outer .form .form_field:hover{background:#ddf6fd}.form_outer .form .form_field.selected{background:#fbf290}.form_outer .form .form_field.ui-sortable-helper{opacity:.6}\n.form_outer .form .form_field .form_field_inline_buttons,.field_value .form_field_value_inline_buttons{width:75px;position:absolute;right:12px;text-align:right}\n.form_outer .form .form_field .form_field_inline_buttons{top:5px}.field_value .form_field_value_inline_buttons{top:10px}.form_outer .form .form_field .form_field_inline_buttons span,.field_value .form_field_value_inline_buttons span{display:inline-block;float:right;width:18px;height:18px;text-indent:-999;font-size:0;line-height:0;margin-left:5px}\n.form_outer .form .form_field .form_field_inline_buttons .drag_icon,.field_value .form_field_value_inline_buttons .drag_icon{background:url('../admin/images/icon-vertical-drag-cursor.svg') no-repeat center center / auto 18px}\n.form_outer .form .form_field .form_field_inline_buttons .delete_icon,.field_value .form_field_value_inline_buttons .delete_icon{position:relative;z-index:9;cursor:pointer;background:url('../admin/images/icon-trash-can.svg') no-repeat center center / auto 15px}\n.form_outer .form .form_field .form_field_inline_buttons .duplicate_icon,.field_value .form_field_value_inline_buttons .duplicate_icon{width:24px;background:url('../admin/images/icon-duplicate-v2.svg') no-repeat center center / auto 15px}\n.organizer_form_builder_view .field_value,.organizer_admin_box_builder_view .field_value{position:relative;padding:5px 0;overflow:hidden}.form_fields_palette .bottom_buttons{overflow:hidden;padding-top:10px;text-align:right}\n.organizer_form_builder_view #organizer_field_details_form .bottom_buttons input[type=\"button\"]{margin-right:8px}.form_fields_palette .tab_details_inner>.bottom_buttons,.form_fields_palette .field_details>.bottom_buttons{padding:15px;background:#f0f0f0}\n.organizer_form_builder_view .form_outer .grouping,.organizer_admin_box_builder_view .form_outer .grouping{border:1px dotted #333;margin-bottom:5px}.organizer_form_builder_view .form_fields_palette input[type=\"button\"],.organizer_admin_box_builder_view .form_fields_palette input[type=\"button\"],.organizer_form_builder_view .form_fields_palette .field_type_section input[type=\"button\"]{height:25px;font-size:12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer}\n.organizer_form_builder_view .form_fields_palette input[type=\"button\"],.organizer_admin_box_builder_view .form_fields_palette input[type=\"button\"]{display:inline-block;padding:0 6px;background-color:#f6f6f6;border:1px solid #b9b9b9;color:#000;float:right;margin-bottom:5px}\n.organizer_form_builder_view .form_fields_palette .field_type_section input[type=\"button\"]{float:right;padding:0 10px}.organizer_panel__form_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons>*,.organizer_panel__custom_tabs_and_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons>*{display:none}\n.organizer_panel__form_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons>#organizer_debug_button,.organizer_panel__custom_tabs_and_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons>#organizer_debug_button{display:inline-block}\n.zenario_master_switch-wrap{position:fixed;bottom:70px;right:35px;width:300px;height:70px}.zenario_master_switch-text{float:left;display:block;font-size:20px;font-weight:bold;padding:3px 15px 0 0}\n.zenario_master_switch{float:left;position:relative;width:80px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.zenario_master_switch-checkbox{display:none}\n.zenario_master_switch-label{display:block;overflow:hidden;cursor:pointer;border:2px solid #999;border-radius:20px}.zenario_master_switch-inner{display:block;width:200%;margin-left:-100%;transition:margin .3s ease-in 0}\n.zenario_master_switch-inner:before,.zenario_master_switch-inner:after{display:block;float:left;width:50%;height:30px;padding:0;line-height:30px;font-size:14px;color:white;font-family:Trebuchet,Arial,sans-serif;font-weight:bold;box-sizing:border-box}\n.zenario_master_switch-inner:before{content:\"On\";padding-left:10px;background-color:#60b000;color:#fff}.zenario_master_switch-inner:after{content:\"Off\";padding-right:10px;background-color:maroon;color:#709090;text-align:right}\n.zenario_master_switch-switch{display:block;width:42px;margin:-6px;background:#eee;position:absolute;top:0;bottom:0;right:46px;border:2px solid #999;border-radius:20px;transition:all .3s ease-in 0}\n.zenario_master_switch-checkbox:checked+.zenario_master_switch-label .zenario_master_switch-inner{margin-left:0}.zenario_master_switch-checkbox:checked+.zenario_master_switch-label .zenario_master_switch-switch{right:0}\ndiv.ui-tooltip.zenario_link_status_tooltip{background:#0073bd;border-color:#0073bd;padding:8px !important}div.ui-tooltip.zenario_link_status_tooltip .ui-tooltip-content{color:#FFF;font-size:12px;line-height:15px;margin:0}\n#organizer_buttons{background:#baefba}.zenario_panel_type__form_builder #organizer_buttons,.zenario_panel_type__admin_box_builder #organizer_buttons{background:transparent}\n#organizer_collectionToolbarWrap{padding-left:5px;padding-right:0}#organizer_rightColumn #organizer_itemToolbar{border-left:0}#organizer_itemToolbarWrap #organizer_itemToolbar .toolbarButtons{background:#f6f6f6;border:1px solid #ccc;height:37px;margin-top:6px}\n#organizer_itemToolbarWrap #organizer_itemToolbar .toolbarButtons>ul:first-child>li:first-child{padding-left:10px}#organizer_rightColumn #organizer_itemToolbarButtons{animation:yellow_flash 1s;-webkit-animation:yellow_flash 1s}\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image{margin-top:5px}.organizer_toolbar .toolbar .toolbarButtons ul li{margin-top:0}\n.organizer_toolbar .toolbar .toolbarButtons ul li a{padding-bottom:2px}.organizer_toolbar .toolbar .toolbarButtons>ul>li.zenario_create_a_new>a:before{content:' +'}\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a,.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a:hover,.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new:hover a,.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a,.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a{color:#000 !important}\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons>ul>li>a,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li a{color:#111}\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li a:hover,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li:hover a,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li.zenario_create_a_new a:hover,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li.zenario_create_a_new:hover a,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__export li:hover a,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__export li a:hover,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li:hover a,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li a:hover{color:#000}\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a,.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a,.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-text-shadow:none;-moz-text-shadow:none;text-shadow:none}\n#organizer_applyCancelToolbar{padding:12px 0 0 10px}#organizer_applyCancelToolbar ul li,#organizer_applyCancelToolbar ul li:hover{background:transparent}\n.zenario_panel_type__form_builder #organizer_applyCancelToolbar,.zenario_panel_type__admin_box_builder #organizer_applyCancelToolbar{padding-top:0}"], "fixing_code": ["<?php\n/*\n * Copyright (c) 2020, Tribal Limited\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Zenario, Tribal Limited nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL TRIBAL LTD BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nif (!defined('NOT_ACCESSED_DIRECTLY')) exit('This file may not be directly accessed');\n\ndefine('LATEST_REVISION_NO', 48646);\t//N.b. 8.6 starts at revision #49800\ndefine('LATEST_BIG_CHANGE_REVISION_NO', 48644);\ndefine('INSTALLER_REVISION_NO', 41600);\ndefine('INSTALLER_DEFAULT_THEME', 'blackdog');\n\ndefine('ZENARIO_IS_HEAD', false);\ndefine('ZENARIO_VERSION', '8.5');\ndefine('ZENARIO_MAJOR_VERSION', '8');\ndefine('ZENARIO_MINOR_VERSION', '5');\ndefine('ZENARIO_IS_BUILD', true);\ndefine('ZENARIO_REVISION', '51340');\n\ndefine('TINYMCE_DIR', 'zenario/libs/manually_maintained/lgpl/tinymce_4_7_3/');", "<?php\n/*\n * Copyright (c) 2020, Tribal Limited\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Zenario, Tribal Limited nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL TRIBAL LTD BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n\nnamespace ze;\n\nclass welcome {\n\n\n\t//Formerly \"directoryIsWritable()\"\n\tpublic static function directoryIsWritable($dir) {\n\t\n\t\t//Check to see if the directory is flagged as writable\n\t\tif (!@is_writable($dir)) {\n\t\t\treturn false;\n\t\t}\n\t\n\t\t//Check to see if the directory is flagged as listable/executable\n\t\tif (substr($dir, -1) == '/') {\n\t\t\t$dir .= '.';\n\t\t} else {\n\t\t\t$dir .= '/.';\n\t\t}\n\t\n\t\treturn @file_exists($dir);\n\t}\n\n\n\n\tpublic static function passwordMessageSnippet($password) {\n\t\t$passwordValidation = \\ze\\user::checkPasswordStrength($password);\n\t\tif (!$passwordValidation['password_matches_requirements']) {\n\t\t\t\n\t\t\t//Set the post-html field to display \"FAIL\" highlighted in red.\n\t\t\t$passwordMessageSnippet = \n\t\t\t\t'<div>\n\t\t\t\t\t<span id=\"snippet_password_message\" class=\"title_red\">' . \\ze\\admin::phrase('Password does not match the requirements') . '</span>\n\t\t\t\t</div>';\n\t\t} else {\n\t\t\t//Set the post-html field to display \"PASS\" highlighted in green.\n\t\t\t$passwordMessageSnippet = \n\t\t\t\t'<div>\n\t\t\t\t\t<span id=\"snippet_password_message\" class=\"title_green\">' . \\ze\\admin::phrase('Password matches the requirements') . '</span>\n\t\t\t\t</div>';\n\t\t}\n\t\t\n\t\treturn $passwordMessageSnippet;\n\t}\n\t\n\t//Formerly \"quickValidateWelcomePage()\"\n\tpublic static function quickValidateWelcomePage(&$values, &$rowClasses, &$snippets, $tab) {\n\t\tif ($tab == 5 || $tab == 'change_password' || $tab == 'new_admin') {\n\t\t\t\n\t\t\t//Validate password\n\t\t\t$snippets['password_message'] = self::passwordMessageSnippet($values['password']);\n\t\n\t\t} elseif ($tab == 6) {\n\t\t\tif (is_file($values['path'])) {\n\t\t\t\tif (substr($values['path'], -4) != '.sql'\n\t\t\t\t && substr($values['path'], -7) != '.sql.gz'\n\t\t\t\t && substr($values['path'], -14) != '.sql.encrypted'\n\t\t\t\t && substr($values['path'], -17) != '.sql.gz.encrypted') {\n\t\t\t\t\t$snippets['path_status'] = \\ze\\admin::phrase('Please select a backup file.');\n\t\t\t\t} elseif (is_readable($values['path'])) {\n\t\t\t\t\t$snippets['path_status'] = \\ze\\admin::phrase('File exists.');\n\t\t\t\t} else {\n\t\t\t\t\t$snippets['path_status'] = \\ze\\admin::phrase('File exists but cannot be read.');\n\t\t\t\t}\n\t\t\t} elseif (@is_dir($values['path'])) {\n\t\t\t\t$snippets['path_status'] = \\ze\\admin::phrase('Directory exists, please enter a filename.');\n\t\t\t} else {\n\t\t\t\t$snippets['path_status'] = \\ze\\admin::phrase('No file or directory with that name.');\n\t\t\t}\n\t\t}\n\n\t}\n\n\t//This file includes common functionality for running SQL scripts\n\n\t//Formerly \"runSQL()\"\n\tpublic static function runSQL($prefix = false, $file, &$error, $patterns = false, $replacements = false) {\n\t\t\n\t\t\\ze\\dbAdm::getTableEngine();\n\t\t$error = false;\n\t\n\t\t//Attempt to work out the location of the installer scripts, if not provided\n\t\tif (!$prefix) {\n\t\t\t$prefix = CMS_ROOT. 'zenario/admin/db_install/';\n\t\t}\n\t\n\t\tif (!file_exists($prefix. $file)) {\n\t\t\t$error = 'SQL Template File '. $file. ' does not exist.';\n\t\t\treturn false;\n\t\t}\n\t\n\t\t//Build up a list of pattern replacements\n\t\tif (!$patterns) {\n\t\t\t//If no patterns have been set, go in with a few default patterns. Note I am assuming that the CMS\n\t\t\t//is running here...\n\t\t\t$from = [\"\\r\", '[[DB_PREFIX]]',\t'[[LATEST_REVISION_NO]]',\t'[[INSTALLER_REVISION_NO]]',\t'[[ZENARIO_TABLE_ENGINE]]',\t\t'[[THEME]]'];\n\t\t\t$to =\t['',\tDB_PREFIX,\t\tLATEST_REVISION_NO,\t\t\tINSTALLER_REVISION_NO,\t\t\tZENARIO_TABLE_ENGINE,\t\t\tINSTALLER_DEFAULT_THEME];\n\t\t} else {\n\t\t\t$from = [\"\\r\"];\n\t\t\t$to = [''];\n\t\t\tforeach($patterns as $pattern => $replacement) {\n\t\t\t\n\t\t\t\t//Accept $patterns and $replacements in two different arrays with numeric keys\n\t\t\t\tif (is_array($replacements)) {\n\t\t\t\t\t$pattern = $replacement;\n\t\t\t\t\t$replacement = $replacements[$pattern];\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$from[] = '[['. $pattern. ']]';\n\t\t\t\tif ($pattern == 'DB_PREFIX') {\n\t\t\t\t\t$to[] = $replacement;\n\t\t\t\t} else {\n\t\t\t\t\t$to[] = \\ze\\escape::sql($replacement);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t//Get the contents of the script, do the replacements, and split up into statements\n\t\t$sqls = explode(\";\\n\", str_replace($from, $to, file_get_contents($prefix. $file)));\n\n\n\t\t//Get the number of sql statements, check if the last one is empty and exclude it if so\n\t\t$count = count($sqls);\n\t\ttrim($sqls[$count-1])? null: --$count;\n\t\n\t\t//Loop through and execute each statement\n\t\tfor ($i = 0; $i < $count; ++$i) {\n\t\t\t$query = $sqls[$i];\n\t\t\n\t\t\tif (!$result = \\ze\\sql::cacheFriendlyUpdate($query)) {\n\t\t\t\t$errno = \\ze\\sql::errno();\n\t\t\t\t$error = \\ze\\sql::error();\n\t\t\t\t$error = '(Error '. $errno. ': '. $error. \"). \\n\\n\". $query. \"\\nFile: \". $file;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\n\t\treturn true;\n\t}\n\n\n\t//Formerly \"readSampleConfigFile()\"\n\tpublic static function readSampleConfigFile($patterns) {\n\t\t$searches = $replaces = [];\n\t\tforeach ($patterns as $pattern => $value) {\n\t\t\t$searches[] = '[['. $pattern. ']]';\n\t\t\t$replaces[] = $value;\n\t\t}\n\t\n\t\treturn str_replace($searches, $replaces, file_get_contents(CMS_ROOT. 'zenario/admin/db_install/zenario_siteconfig.sample.php'));\n\t}\n\n\t//Check whether the config file exists.\n\t//Note: if it doesn't exist, return false\n\t//Note: if exists but is empty, return 0\n\t//Formerly \"checkConfigFileExists()\"\n\tpublic static function checkConfigFileExists() {\n\t\tif (!@file_exists(CMS_ROOT. 'zenario_siteconfig.php')) {\n\t\t\treturn false;\n\t\t}\n\t\t$filesize = @filesize(CMS_ROOT. 'zenario_siteconfig.php');\n\t\tif ($filesize && $filesize >= 20) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t//Formerly \"compareVersionNumber()\"\n\tpublic static function compareVersionNumber($actual, $required) {\n\t\treturn version_compare(preg_replace('@[^\\d\\.]@', '', $actual), $required, '>=');\n\t}\n\n\t//Formerly \"getSVNInfo()\"\n\tpublic static function svnInfo() {\n\t\tif (!\\ze\\server::isWindows() && \\ze\\server::execEnabled()) {\n\t\t\t$output = [];\n\t\t\t$svninfo = [];\n\t\t\t$realDir = realpath($logicalDir = CMS_ROOT. 'zenario');\n\t\t\n\t\t\tif (is_dir($realDir. '/.svn')) {\n\t\t\t\t@exec('svn info '. escapeshellcmd($realDir. '/'), $output);\n\t\n\t\t\t} elseif (is_dir(dirname($realDir). '/.svn')) {\n\t\t\t\t@exec('svn info '. escapeshellcmd(dirname($realDir). '/'), $output);\n\t\n\t\t\t} elseif (is_dir('.svn')) {\n\t\t\t\t@exec('svn info .', $output);\n\t\t\t}\n\t\t\n\t\t\tif (!empty($output)) {\n\t\t\t\tforeach ($output as $line) {\n\t\t\t\t\t$line = explode(': ', $line, 2);\n\t\t\n\t\t\t\t\tif (!empty($line[1])) {\n\t\t\t\t\t\t$svninfo[$line[0]] = $line[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif (!empty($svninfo)\n\t\t\t\t && !empty($svninfo['Revision'])) {\n\t\t\t\t\treturn $svninfo;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\t//Formerly \"installerReportError()\"\n\tpublic static function installerReportError() {\n\t\treturn \"\\n\". \\ze\\admin::phrase('(Error [[errno]]: [[error]])', ['errno' => \\ze\\sql::errno(), 'error' => \\ze\\sql::error()]);\n\t}\n\t\n\t//Formerly \"refreshAdminSession()\"\n\tpublic static function refreshAdminSession() {\n\t\tif (\\ze\\admin::id()) {\n\t\t\t\\ze\\admin::setSession(\\ze\\admin::id(), ($_SESSION['admin_global_id'] ?? false));\n\t\t}\n\t}\n\n\t//Formerly \"prepareAdminWelcomeScreen()\"\n\tpublic static function prepareAdminWelcomeScreen($path, &$source, &$tags, &$fields, &$values, &$changes) {\n\t\n\t\t$resetErrors = true;\n\t\t$clientPath = \\ze\\tuix::deTilde($tags['path'] ?? '');\n\t\n\t\t//If this is the first time we're displaying something,\n\t\t//or we were displaying something different before and have now just switched paths,\n\t\t//then wipe any previous client tags and initialise every tag as they are defined in the .yaml files.\n\t\tif ($clientPath != $path) {\n\t\t\t$filling = true;\n\t\t\n\t\t\t$tags = $source[$path];\n\t\t\t$tags['path'] = $path;\n\t\n\t\t//If we're re-displaying the same form, merge the tags on the client with the definitions from the .yaml files.\n\t\t} else {\n\t\t\t$filling = false;\n\t\t\n\t\t\t$clientTags = $tags;\n\t\t\t$tags = $source[$path];\n\t\t\t\\ze\\tuix::syncFromClientToServer($tags, $clientTags);\n\t\t\t$tags['path'] = $path;\n\t\t}\n\t\n\n\t\t$fields = [];\n\t\t$values = [];\n\t\t$changes = [];\n\t\t\\ze\\tuix::readValues($tags, $fields, $values, $changes, $filling, $resetErrors);\n\t}\n\n\n\t//Old code for sample sites, commented out as we don't currently use them\n\t//function listSampleSites() {\n\t//\t$sampleSites = [];\n\t//\t\n\t//\tforeach (\\ze::moduleDirs('sample_installations/') as $mdir) {\n\t//\t\tforeach (scandir($path = CMS_ROOT. $mdir) as $dir) {\n\t//\t\t\tif (substr($dir, 0, 1) != '.'\n\t//\t\t\t && is_file($path. $dir. '/description.txt')\n\t//\t\t\t && is_file($path. $dir. '/backup.sql.gz')) {\n\t//\t\t\t\t$sampleSites[$dir] = $path. $dir. '/';\n\t//\t\t\t}\n\t//\t\t}\n\t//\t}\n\t//\t\n\t//\treturn $sampleSites;\n\t//}\n\n\t//Formerly \"listSampleThemes()\"\n\tpublic static function listSampleThemes() {\n\t\t$themes = [];\n\t\t$sDir = \\ze\\content::templatePath(). 'grid_templates/skins/';\n\t\n\t\tif (is_dir($path = CMS_ROOT. $sDir)) {\n\t\t\tforeach (scandir($path) as $dir) {\n\t\t\t\tif (substr($dir, 0, 1) != '.'\n\t\t\t\t && is_file($path. $dir. '/installer/thumbnail.png')) {\n\t\t\t\t\t$themes[$dir] = $sDir. $dir. '/installer/thumbnail.png';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tif (empty($themes)) {\n\t\t\t$themes[INSTALLER_DEFAULT_THEME] = $sDir. INSTALLER_DEFAULT_THEME. '/installer/thumbnail.png';\n\t\t}\n\t\n\t\treturn $themes;\n\t}\n\t\n\t//A list of some common mime types, including images. Used in the installer where we don't have database access\n\tpublic static function commonMimeType($type) {\n\t\t$mimeTypes = [\n\t\t\t'gif' => 'image/gif',\n\t\t\t'jpe' => 'image/jpeg',\n\t\t\t'jpeg' => 'image/jpeg',\n\t\t\t'jpg' => 'image/jpeg',\n\t\t\t'png' => 'image/png',\n\t\t\t'svg' => 'image/svg+xml'\n\t\t];\n\t\n\t\treturn $mimeTypes[$type] ?? 'application/octet-stream';\n\t}\n\n\t//Formerly \"systemRequirementsAJAX()\"\n\tpublic static function systemRequirementsAJAX(&$source, &$tags, &$fields, &$values, $changes, $isDiagnosticsPage = false) {\n\t\n\t\tif ($isDiagnosticsPage) {\n\t\t\t$valid = 'sub_valid';\n\t\t\t$warning = 'sub_warning';\n\t\t\t$invalid = 'sub_invalid';\n\t\t\t$section_valid = 'sub_section_valid';\n\t\t\t$section_warning = 'sub_section_warning';\n\t\t\t$section_invalid = 'sub_section_invalid';\n\t\t} else {\n\t\t\t$valid = 'valid';\n\t\t\t$warning = 'warning';\n\t\t\t$invalid = 'invalid';\n\t\t\t$section_valid = 'section_valid';\n\t\t\t$section_warning = 'section_warning';\n\t\t\t$section_invalid = 'section_invalid';\n\t\t}\n\t\n\t\t//Check if the server meets the requirements\n\t\t//Get the server phpinfo\n\t\t//(Note this section of code may not work properly if compression has been enabled)\n\t\t$search = [];\n\t\t$replace = [];\n\t\n\t\t$search[] = '~';\n\t\t$replace[] = '--';\n\t\n\t\t$search[] = '`';\n\t\t$replace[] = '---';\n\t\n\t\t$search[] = '<h2';\n\t\t$replace[] = '~<h2';\n\t\n\t\t$search[] = '</h2>';\n\t\t$replace[] = '</h2>~';\n\t\n\t\t$search[] = '<td';\n\t\t$replace[] = '`<td';\n\t\n\t\tob_start();\n\t\tphpinfo();\n\t\t$info = strip_tags(str_replace($search, $replace, ob_get_contents()));\n\t\tob_end_clean();\n\t\n\t\t$phpinfo = [];\n\t\t$sectionName = 'PHP';\n\t\tforeach (explode('~', $info) as $i => $section) {\n\t\t\tif ($i % 2) {\n\t\t\t\t$phpinfo[$sectionName = $section] = [];\n\t\t\t} else {\n\t\t\t\tforeach (explode(\"\\n\", $section) as $line) {\n\t\t\t\t\tforeach (explode('`', $line) as $j => $cell) {\n\t\t\t\t\t\tif ($j == 1) {\n\t\t\t\t\t\t\t$setting = trim($cell);\n\t\t\t\t\t\t} else if ($j == 2) {\n\t\t\t\t\t\t\t$phpinfo[$sectionName][$setting] = trim($cell);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tunset($info, $search, $replace);\n\t\n\t\n\t\t//Check whether we're using Apache, and if so, which version?\n\t\t$apacheVer = [];\n\t\t$isApache = preg_match('@Apache(|/?[\\d\\.]+)@i', $_SERVER['SERVER_SOFTWARE'], $apacheVer);\n\t\t\n\t\t//PHP doesn't always get given the version number, try calling apache2 directly as a fallback\n\t\tif ($isApache && empty($apacheVer[1]) && \\ze\\server::execEnabled()) {\n\t\t\texec('apache2 -v', $apacheVer[1]);\n\t\t\t\n\t\t\tif (is_array($apacheVer[1])) {\n\t\t\t\t$apacheVer[1] = implode(' ', $apacheVer[1]);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//Show a warning if not running Apache.\n\t\t//If we could get the version number above, also check it's 2.4.7 or later\n\t\tif (!$isApache\n\t\t || ($apacheVer[1] && !\\ze\\welcome::compareVersionNumber($apacheVer[1], '2.4.7'))) {\n\t\t\t$fields['0/server_1']['row_class'] = $warning;\n\t\t\t$apacheRecommendationMet = false;\n\t\n\t\t} else {\n\t\t\t$fields['0/server_1']['row_class'] = $valid;\n\t\t\t$apacheRecommendationMet = true;\n\t\t}\n\t\t\n\t\tif (empty($apacheVer[1])) {\n\t\t\t$fields['0/server_1']['post_field_html'] =\n\t\t\t\t\\ze\\admin::phrase('&nbsp;(<em>you have [[software]]</em>)', ['software' => htmlspecialchars($_SERVER['SERVER_SOFTWARE'])]);\n\t\t} else {\n\t\t\t$fields['0/server_1']['post_field_html'] =\n\t\t\t\t\\ze\\admin::phrase('&nbsp;(<em>you have version [[version]]</em>)', ['version' => htmlspecialchars($apacheVer[1])]);\n\t\t}\n\t\n\t\t$phpRequirementsMet = false;\n\t\t$phpVersion = phpversion();\n\t\t$fields['0/php_1']['post_field_html'] =\n\t\t\t\\ze\\admin::phrase('&nbsp;(<em>you have version [[version]]</em>)', ['version' => htmlspecialchars($phpVersion)]);\n\t\n\t\tif (!\\ze\\welcome::compareVersionNumber($phpVersion, '7.0.0')) {\n\t\t\t$fields['0/php_1']['row_class'] = $invalid;\n\t\n\t\t} else {\n\t\t\t$fields['0/php_1']['row_class'] = $valid;\n\t\t\t$phpRequirementsMet = true;\n\t\t}\n\t\n\t\t$phpWarning = false;\n\t\tif (!$fields['0/opcache_misconfigured']['hidden'] =\n\t\t\t\\ze\\welcome::compareVersionNumber(phpversion(), '7.0.0')\n\t\t || !\\ze\\server::checkFunctionEnabled('ini_get')\n\t\t || !\\ze\\ring::engToBoolean(ini_get('opcache.enable'))\n\t\t || \\ze\\ring::engToBoolean(ini_get('opcache.dups_fix'))\n\t\t) {\n\t\t\t$fields['0/opcache_misconfigured']['row_class'] = $warning;\n\t\t\t$phpWarning = true;\n\t\t}\n\t\n\t\t$mysqlRequirementsMet = false;\n\t\tif (!extension_loaded('mysqli')) {\n\t\t\t$fields['0/mysql_1']['row_class'] = $invalid;\n\t\t\t$fields['0/mysql_2']['row_class'] = $invalid;\n\t\t\t$fields['0/mysql_2']['post_field_html'] = '';\n\t\n\t\t} else {\n\t\t\t$fields['0/mysql_1']['row_class'] = $valid;\n\t\t\t\n\t\t\t//Attempt to check the MySQL version.\n\t\t\t//There's a simple test for this in PHP, but unfortunately it returns the version\n\t\t\t//of PHP's library functions, and not the actual version of the MySQL server, so\n\t\t\t//it would be better if we could check the MySQL server's version directly.\n\t\t\t\n\t\t\t//If the CMS is already installed, we can do a database connection and read the right version off of the metadata.\n\t\t\tif ($isDiagnosticsPage) {\n\t\t\t\t$dbL = new \\ze\\db(DB_PREFIX, DBHOST, DBNAME, DBUSER, DBPASS, DBPORT, false);\n\t\t\t\t$mysqlServerVersion = (isset($dbL->con->server_info)) ? $dbL->con->server_info : false;\n\t\t\t\t$fields['0/mysql_2']['post_field_html'] =\n\t\t\t\t\t\t\\ze\\admin::phrase('&nbsp;(<em>your server is version [[version]]</em>)', ['version' => htmlspecialchars($mysqlServerVersion)]);\n\t\t\t\tif (!$mysqlServerVersion\n\t\t\t\t || !\\ze\\welcome::compareVersionNumber($mysqlServerVersion, '5.5.3')) {\n\t\t\t\t\t$fields['0/mysql_2']['row_class'] = $invalid;\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/mysql_2']['row_class'] = $valid;\n\t\t\t\t\t$mysqlRequirementsMet = true;\n\t\t\t\t}\n\t\t\t\n\t\t\t} else {\n\t\t\t\t//Check the MySQL version on the PHP the client.\n\t\t\t\t$mysqlVersion = \\ze::ifNull(\n\t\t\t\t\t\\ze\\ray::value($phpinfo, 'mysql', 'Client API version'),\n\t\t\t\t\t\\ze\\ray::value($phpinfo, 'mysqli', 'Client API library version'));\n\t\t\n\t\t\t\t//Try and check the MySQL version on this server\n\t\t\t\tif (\\ze\\server::programPathForExec('/usr/bin/', 'mysql', $checkExecutable = true)) {\n\t\t\t\t\t\\ze\\site::setSetting('mysql_path', '/usr/bin/', false, false, false);\n\n\t\t\t\t} elseif (\\ze\\server::programPathForExec('/usr/local/bin/', 'mysql', $checkExecutable = true)) {\n\t\t\t\t\t\\ze\\site::setSetting('mysql_path', '/usr/local/bin/', false, false, false);\n\t\t\t\t}\n\t\t\t\tif (\\ze::setting('mysql_path') && ($mysqlServerVersion = \\ze\\dbAdm::callMySQL(false, ' --version'))) {\n\t\t\t\t\t$mysqlServerVersion = \\ze\\ring::chopPrefix(\\ze::setting('mysql_path'), $mysqlServerVersion, true);\n\t\t\t\t\t$matches = [];\n\t\t\t\t\tif ($matches = preg_split('@Distrib ([\\d\\.]+)@', $mysqlServerVersion, 2, PREG_SPLIT_DELIM_CAPTURE)) {\n\t\t\t\t\t\tif (!empty($matches[1])) {\n\t\t\t\t\t\t\tif (!\\ze\\welcome::compareVersionNumber($mysqlVersion, $matches[1])) {\n\t\t\t\t\t\t\t\t$mysqlVersion = $mysqlServerVersion;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\n\t\t\t\tif ($mysqlVersion) {\n\t\t\t\t\t$fields['0/mysql_2']['post_field_html'] =\n\t\t\t\t\t\t\\ze\\admin::phrase('&nbsp;(<em>your client is version [[version]]</em>)', ['version' => htmlspecialchars($mysqlVersion)]);\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!$mysqlVersion\n\t\t\t\t || !\\ze\\welcome::compareVersionNumber($mysqlVersion, '5.5.3')) {\n\t\t\t\t\t$fields['0/mysql_2']['row_class'] = $invalid;\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/mysql_2']['row_class'] = $valid;\n\t\t\t\t\t$mysqlRequirementsMet = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t$mbRequirementsMet = true;\n\t\tif (!extension_loaded('ctype')) {\n\t\t\t$mbRequirementsMet = false;\n\t\t\t$fields['0/mb_1']['row_class'] = $invalid;\n\t\n\t\t} else {\n\t\t\t$fields['0/mb_1']['row_class'] = $valid;\n\t\t}\n\t\tif (!extension_loaded('mbstring')) {\n\t\t\t$mbRequirementsMet = false;\n\t\t\t$fields['0/mb_2']['row_class'] = $invalid;\n\t\n\t\t} else {\n\t\t\t$fields['0/mb_2']['row_class'] = $valid;\n\t\t}\n\t\t\n\t\tif ($isDiagnosticsPage) {\n\t\t\t$osRequirementsMet = true;\n\t\t\t$extract = '';\n\t\t\tif (!\\ze\\file::plainTextExtract(\\ze::moduleDir('zenario_common_features', 'fun/test_files/test.doc'), $extract)) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_1']['row_class'] = $warning;\n\t\t\t\t$fields['0/os_1']['snippet']['html'] = \\ze\\admin::phrase('Antiword<br><small>Antiword is not correctly set up.</small>');\n\t\n\t\t\t} else {\n\t\t\t\t$fields['0/os_1']['row_class'] = $valid;\n\t\t\t}\n\t\t\t$extract = '';\n\n\t\t\tif (!\\ze\\file::createPpdfFirstPageScreenshotPng(\\ze::moduleDir('zenario_common_features', 'fun/test_files/test.pdf'))) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_2']['row_class'] = $warning;\n\t\t\t\t$fields['0/os_2']['snippet']['html'] = \\ze\\admin::phrase('Ghostscript<br><small>ghostscript is not correctly set up.</small>');\n\t\t\t} else {\n\t\t\t\t$fields['0/os_2']['row_class'] = $valid;\n\t\t\t}\n\n\t\t\t$jpegtran=\\ze\\server::programPathForExec(\\ze::setting('jpegtran_path'), 'jpegtran', true);\n\t\t\t$jpegoptim= \\ze\\server::programPathForExec(\\ze::setting('jpegoptim_path'), 'jpegoptim', true);\n\t\t\tif ($jpegtran==NULL || $jpegoptim==NULL) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_3']['row_class'] = $warning;\n\t\t\t\tif($jpegtran== NULL && $jpegoptim!= NULL){\n\t\t\t\t\t$fields['0/os_3']['snippet']['html'] = \\ze\\admin::phrase('JPEG Image Optimizers<br><small>jpegtran is not correctly set up.</small><br><small>jpegoptim is correctly set up.</small>');\n\t\t\t\t} else if($jpegoptim== NULL && $jpegtran!= NULL) {\n\t\t\t\n\t\t\t\t\t $fields['0/os_3']['snippet']['html'] = \\ze\\admin::phrase('JPEG Image Optimizers<br><small>jpegtran is correctly set up.</small><br><small>jpegoptim is not are correctly set up.</small>');\n\t\t\t\t} else {\n\t\t\t\t\t $fields['0/os_3']['row_class'] = $warning;\n\t\t\t\t\t$fields['0/os_3']['snippet']['html'] = \\ze\\admin::phrase('JPEG Image Optimizers<br><small>jpegtran is not correctly set up.</small><br><small>jpegoptim is not correctly set up.</small>');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$fields['0/os_3']['row_class'] = $valid;\n\t\t\t}\n\t\t\t$mysqlPath = \\ze\\dbAdm::testMySQL(false);\n\t\t\t$mysqldumpPath = \\ze\\dbAdm::testMySQL(true);\n\t\t\tif ($mysqlPath == false || $mysqldumpPath == false ) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_4']['row_class'] = $warning;\n\t\t\t\tif($mysqlPath== false && $mysqldumpPath!= false){\n\t\t\t\t\t$fields['0/os_4']['snippet']['html'] = \\ze\\admin::phrase('Backup/restore<br><small>mysql is not correctly set up.</small><br><small>mysqldump is working successfully.</small>');\n\t\t\t\t} else if($mysqlPath!= false && $mysqldumpPath== false) {\n\t\t\t\n\t\t\t\t\t $fields['0/os_4']['snippet']['html'] = \\ze\\admin::phrase('Backup/restore<br><small>mysql is working successfully.</small><br><small>mysqldump is not correctly set up.</small>');\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/os_4']['row_class'] = $warning;\n\t\t\t\t\t$fields['0/os_4']['snippet']['html'] = \\ze\\admin::phrase('Backup/restore<br><small>mysql is not correctly set up.</small><br><small>mysqldump is not correctly set up.</small>');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$fields['0/os_4']['row_class'] = $valid;\n\t\t\t}\t\n\t\t\n\t\t\tif (!(\\ze\\file::plainTextExtract(\\ze::moduleDir('zenario_common_features', 'fun/test_files/test.pdf'), $extract))) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_5']['row_class'] = $warning;\n\t\t\t\t$fields['0/os_5']['snippet']['html'] = \\ze\\admin::phrase('PDF-To-Text<br><small>pdftotext is not correctly set up.</small>');\n\n\t\t\t} else {\n\t\t\t\t$fields['0/os_5']['row_class'] = $valid;\n\t\t\t}\n\t\t\t$optipng = \\ze\\server::programPathForExec(\\ze::setting('optipng_path'), 'optipng', true);\n\t\t\t$advpng = \\ze\\server::programPathForExec(\\ze::setting('advpng_path'), 'advpng', true);\n\t\t\tif ($optipng == NULL || $advpng ==NULL) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_6']['row_class'] = $warning;\n\t\t\t\tif($optipng== NULL && $advpng!= NULL){\n\t\t\t\t\t$fields['0/os_6']['snippet']['html'] = \\ze\\admin::phrase('PNG Image Optimizers<br><small>optipng is not correctly set up.</small><br><small>advpng is correctly set up.</small>');\n\t\t\t\t} else if($advpng== NULL && $optipng!= NULL) {\n\t\t\t\n\t\t\t\t\t $fields['0/os_6']['snippet']['html'] = \\ze\\admin::phrase('PNG Image Optimizers<br><small>optipng is correctly set up.</small><br><small>advpng is not correctly set up.</small>');\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/os_6']['row_class'] = $warning;\n\t\t\t\t\t$fields['0/os_6']['snippet']['html'] = \\ze\\admin::phrase('PNG Image Optimizers<br><small>optipng is not correctly set up.</small><br><small>advpng is not correctly set up.</small>');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$fields['0/os_6']['row_class'] = $valid;\n\t\t\t}\n\t\t\n\t\t\t//wkhtmltopdf is an optional program.\n\t\t\t//Enabled and set up correctly:\n\t\t\tif (($programPath = \\ze\\server::programPathForExec(\\ze::setting('wkhtmltopdf_path'), 'wkhtmltopdf'))\n\t\t\t\t\t && ($rv = exec(escapeshellarg($programPath) .' --version'))) {\n\t\t\t\t$fields['0/os_7']['row_class'] = $valid;\n\t\t\t// Enabled but set up incorrectly:\n\t\t\t} elseif ($programPath && isset($rv) && !$rv) {\n\t\t\t\t$osRequirementsMet = false;\n\t\t\t\t$fields['0/os_7']['row_class'] = $warning;\n\t\t\t\t$fields['0/os_7']['snippet']['html'] = \\ze\\admin::phrase('wkhtmltopdf<br><small>wkhtmltopdf is not correctly set up.</small>');\n\t\t\t//Disabled:\n\t\t\t} else {\n\t\t\t\t$fields['0/os_7']['hidden'] = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t$gdRequirementsMet = true;\n\t\tif (\\ze\\ray::value($phpinfo, 'gd', 'GD Support') != 'enabled') {\n\t\t\t$gdRequirementsMet = false;\n\t\t\t$fields['0/gd_1']['row_class'] = $invalid;\n\t\t\t$fields['0/gd_2']['row_class'] = $invalid;\n\t\t\t$fields['0/gd_3']['row_class'] = $invalid;\n\t\t\t$fields['0/gd_4']['row_class'] = $invalid;\n\t\n\t\t} else {\n\t\t\t$fields['0/gd_1']['row_class'] = $valid;\n\t\t\n\t\t\tif (\\ze\\ray::value($phpinfo, 'gd', 'GIF Read Support') != 'enabled') {\n\t\t\t\t$gdRequirementsMet = false;\n\t\t\t\t$fields['0/gd_2']['row_class'] = $invalid;\n\t\t\t} else {\n\t\t\t\t$fields['0/gd_2']['row_class'] = $valid;\n\t\t\t}\n\t\t\n\t\t\tif (\\ze\\ray::value($phpinfo, 'gd', 'JPG Support') != 'enabled' && \\ze\\ray::value($phpinfo, 'gd', 'JPEG Support') != 'enabled') {\n\t\t\t\t$gdRequirementsMet = false;\n\t\t\t\t$fields['0/gd_3']['row_class'] = $invalid;\n\t\t\t} else {\n\t\t\t\t$fields['0/gd_3']['row_class'] = $valid;\n\t\t\t}\n\t\t\n\t\t\tif (\\ze\\ray::value($phpinfo, 'gd', 'PNG Support') != 'enabled') {\n\t\t\t\t$gdRequirementsMet = false;\n\t\t\t\t$fields['0/gd_4']['row_class'] = $invalid;\n\t\t\t} else {\n\t\t\t\t$fields['0/gd_4']['row_class'] = $valid;\n\t\t\t}\n\t\t}\n\t\n\t\t$optionalRequirementsMet = true;\n\t\t\n\t\t$fields['0/optional_mod_deflate']['row_class'] = $valid;\n\t\t$fields['0/optional_mod_expires']['row_class'] = $valid;\n\t\t$fields['0/optional_mod_rewrite']['row_class'] = $valid;\n\t\t\n\t\tif (!function_exists('apache_get_modules')) {\n\t\t\t$fields['0/optional_mod_deflate']['hidden'] = true;\n\t\t\t$fields['0/optional_mod_expires']['hidden'] = true;\n\t\t\t$fields['0/optional_mod_rewrite']['hidden'] = true;\n\t\t\n\t\t} else {\n\t\t\t$apacheModules = apache_get_modules();\n\t\t\n\t\t\tif (!in_array('mod_deflate', $apacheModules)) {\n\t\t\t\t$optionalRequirementsMet = false;\n\t\t\t\t$fields['0/optional_mod_deflate']['row_class'] = $warning;\n\t\t\t}\n\t\t\tif (!in_array('mod_expires', $apacheModules)) {\n\t\t\t\t$optionalRequirementsMet = false;\n\t\t\t\t$fields['0/optional_mod_expires']['row_class'] = $warning;\n\t\t\t}\n\t\t\tif (!in_array('mod_rewrite', $apacheModules)) {\n\t\t\t\t$optionalRequirementsMet = false;\n\t\t\t\t$fields['0/optional_mod_rewrite']['row_class'] = $warning;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!extension_loaded('curl')) {\n\t\t\t$optionalRequirementsMet = false;\n\t\t\t$fields['0/optional_curl']['row_class'] = $warning;\n\t\n\t\t} else {\n\t\t\t$fields['0/optional_curl']['row_class'] = $valid;\n\t\t}\n\t\tif (!extension_loaded('zip')) {\n\t\t\t$optionalRequirementsMet = false;\n\t\t\t$fields['0/optional_zip']['row_class'] = $warning;\n\t\n\t\t} else {\n\t\t\t$fields['0/optional_zip']['row_class'] = $valid;\n\t\t}\n\t\t\n\t\tif (!function_exists('utf8_encode')) {\n\t\t\t$optionalRequirementsMet = false;\n\t\t\t$fields['0/optional_utf8_encode']['row_class'] = $warning;\n\t\t} else {\n\t\t\t$fields['0/optional_utf8_encode']['row_class'] = $valid;\n\t\t}\n\t\n\t\t$overall = 'section_valid';\n\t\n\t\tif (!$apacheRecommendationMet) {\n\t\t\t$overall = 'section_warning';\n\t\t\t$fields['0/show_server']['pressed'] = true;\n\t\t\t$fields['0/server']['row_class'] = $section_warning;\n\t\t} else {\n\t\t\t$fields['0/server']['row_class'] = $section_valid;\n\t\t}\n\t\n\t\tif (!$optionalRequirementsMet) {\n\t\t\t$overall = 'section_warning';\n\t\t\t$fields['0/show_optional']['pressed'] = true;\n\t\t\t$fields['0/optional']['row_class'] = $section_warning;\n\t\t} else {\n\t\t\t$fields['0/optional']['row_class'] = $section_valid;\n\t\t}\n\t\n\t\tif (!$phpRequirementsMet) {\n\t\t\t$overall = 'section_invalid';\n\t\t\t$fields['0/show_php']['pressed'] = true;\n\t\t\t$fields['0/php']['row_class'] = $section_invalid;\n\t\t} elseif ($phpWarning) {\n\t\t\t$overall = 'section_warning';\n\t\t\t$fields['0/show_php']['pressed'] = true;\n\t\t\t$fields['0/php']['row_class'] = $section_warning;\n\t\t} else {\n\t\t\t$fields['0/php']['row_class'] = $section_valid;\n\t\t}\n\t\n\t\tif (!$mysqlRequirementsMet) {\n\t\t\t$overall = 'section_invalid';\n\t\t\t$fields['0/show_mysql']['pressed'] = true;\n\t\t\t$fields['0/mysql']['row_class'] = $section_invalid;\n\t\t} else {\n\t\t\t$fields['0/mysql']['row_class'] = $section_valid;\n\t\t}\n\t\n\t\tif (!$mbRequirementsMet) {\n\t\t\t$overall = 'section_invalid';\n\t\t\t$fields['0/show_mb']['pressed'] = true;\n\t\t\t$fields['0/mb']['row_class'] = $section_invalid;\n\t\t} else {\n\t\t\t$fields['0/mb']['row_class'] = $section_valid;\n\t\t}\n\t\t\n\t\tif (!$gdRequirementsMet) {\n\t\t\t$overall = 'section_invalid';\n\t\t\t$fields['0/show_gd']['pressed'] = true;\n\t\t\t$fields['0/gd']['row_class'] = $section_invalid;\n\t\t} else {\n\t\t\t$fields['0/gd']['row_class'] = $section_valid;\n\t\t}\n\t\t\n\t\tif ($isDiagnosticsPage) {\n\t\t\tif (!$osRequirementsMet) {\n\t\t\t\t$overall = 'section_invalid';\n\t\t\t\t$fields['0/show_os']['pressed'] = true;\n\t\t\t\t$fields['0/os']['row_class'] = $section_warning;\n\t\t\t} else {\n\t\t\t\t$fields['0/os']['row_class'] = $section_valid;\n\t\t\t}\n\t\t\t\n\t\t\tif ($overall != 'section_valid') {\n\t\t\t\t$fields['0/show_system_requirements']['pressed'] = true;\n\t\t\t}\n\t\t\t$fields['0/system_requirements']['row_class'] = $overall;\n\t\n\t\t} else {\n\t\t\t$wasFirstViewing = $tags['key']['first_viewing'];\n\t\t\t$tags['key']['first_viewing'] = false;\n\t    \n\t\t\t//Did the Server meets the requirements?\n\t\t\tif (!($phpRequirementsMet && $mysqlRequirementsMet && $mbRequirementsMet && $gdRequirementsMet)) {\n\t\t\t\t$fields['0/continue']['hidden'] = true;\n\t\t\t\treturn false;\n\t\n\t\t\t} else {\n\t\t\t\t$fields['0/continue']['hidden'] = false;\n\t\t\t\treturn $wasFirstViewing || !empty($fields['0/continue']['pressed']);\n\t\t\t}\n\t\t}\n\t}\n\n\t//Formerly \"installerAJAX()\"\n\tpublic static function installerAJAX(&$source, &$tags, &$fields, &$values, $changes, &$task, $installStatus, &$freshInstall, &$adminId) {\n\t\t$merge = [];\n\t\t$merge['SUBDIRECTORY'] = SUBDIRECTORY;\n\t\t//If the database prefix is already set in the config file, look it up and default the field to it.\n\t\tif (!isset($fields['3/prefix']['current_value'])) {\n\t\t\tif (defined('DB_PREFIX') && DB_PREFIX && strpos(DB_PREFIX, '[') === false) {\n\t\t\t\t$values['3/prefix'] = DB_PREFIX;\n\t\t\t} else {\n\t\t\t\t$values['3/prefix'] = 'zenario_';\n\t\t\t}\n\t\t}\n\t\n\t\t//Validation for Step 1: Check if the Admin has accepted the license\n\t\t$licenseAccepted = !empty($values['1/i_agree']);\n\t\n\t\tif (!empty($fields['1/fresh_install']['pressed'])) {\n\t\t\t$task = 'install';\n\t\t} elseif (!empty($fields['1/restore']['pressed'])) {\n\t\t\t$task = 'restore';\n\t\t}\n\t\n\t\t//Validation for Step 3: Validate the Database Connection\n\t\tif ($tags['tab'] > 3 || ($tags['tab'] == 3 && !empty($fields['3/next']['pressed']))) {\n\t\t\t$tags['tabs'][3]['errors'] = [];\n\t\t\n\t\t\t$merge['DBHOST'] = $values['3/host'];\n\t\t\t$merge['DBNAME'] = $values['3/name'];\n\t\t\t$merge['DBUSER'] = $values['3/user'];\n\t\t\t$merge['DBPASS'] = $values['3/password'];\n\t\t\t$merge['DBPORT'] = $values['3/port'];\n\t\t\t$merge['DB_PREFIX'] = $values['3/prefix'];\n\t\t\n\t\t\tif (!$merge['DBHOST']) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('Please enter your hostname.');\n\t\t\t}\n\t\t\n\t\t\tif (!$merge['DBNAME']) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('Please enter your database name.');\n\t\t\t} elseif (preg_match('/[^a-zA-Z0-9_-]/', $merge['DBNAME'])) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('The Database Name should only contain [a-z, A-Z, 0-9, _ and -].');\n\t\t\t}\n\t\t\n\t\t\tif (!$merge['DBUSER']) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('Please enter the database username.');\n\t\t\t} elseif (preg_match('/[^a-zA-Z0-9_-]/', $merge['DBUSER'])) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('The database username should only contain [a-z, A-Z, 0-9, _ and -].');\n\t\t\t}\n\t\t\n\t\t\tif ($merge['DBPORT'] !== '' && !is_numeric($merge['DBPORT'])) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('The database port must be a number.');\n\t\t\t}\n\t\t\n\t\t\tif (preg_match('/[^a-zA-Z0-9_]/', $merge['DB_PREFIX'])) {\n\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('The table prefix should only contain the characters [a-z, A-Z, 0-9 and _].');\n\t\t\t}\n\t\t\n\t\t\tif (empty($tags['tabs'][3]['errors'])) {\n\t\t\t\t\n\t\t\t\t\\ze::$dbL = new \\ze\\db($merge['DB_PREFIX'], $merge['DBHOST'], $merge['DBNAME'], $merge['DBUSER'], $merge['DBPASS'], $merge['DBPORT'], $reportErrors = false);\n\t\t\t\t\n\t\t\t\tif (!\\ze::$dbL->con) {\n\t\t\t\t\t\\ze::$dbL = null;\n\t\t\t\t\t$tags['tabs'][3]['errors'][] = \n\t\t\t\t\t\t\\ze\\admin::phrase('The database name, username and/or password are invalid.');\n\t\t\t\n\t\t\t\t} else {\t\n\t\t\t\t\n\t\t\t\t\tif (!($result = @\\ze\\sql::select(\"SELECT VERSION()\"))\n\t\t\t\t\t\t   || !($version = @\\ze\\sql::fetchRow($result))\n\t\t\t\t\t\t   || !($result = @\\ze\\sql::select(\"SHOW TABLES\"))) {\n\t\t\t\t\t\t$tags['tabs'][3]['errors'][] = \n\t\t\t\t\t\t\t\\ze\\admin::phrase('You do not have access rights to the database [[DBNAME]].', $merge);\n\t\t\t\n\t\t\t\t\t} elseif (!\\ze\\welcome::compareVersionNumber($version[0], '5.5.3')) {\n\t\t\t\t\t    \n\t\t\t\t\t\t$tags['tabs'][3]['errors'][] = \n\t\t\t\t\t\t\t\\ze\\admin::phrase('Sorry, your MySQL server is \"[[version]]\". Version 5.5.3 or later is required.', ['version' => $version[0]]);\n\t\t\t\n\t\t\t\t\t} elseif (!(@\\ze\\sql::update(\"CREATE TABLE IF NOT EXISTS `zenario_priv_test` (`id` TINYINT(1) NOT NULL )\", false, false))\n\t\t\t\t\t\t   || !(@\\ze\\sql::update(\"DROP TABLE `zenario_priv_test`\", false, false))) {\n\t\t\t\t\t\t$tags['tabs'][3]['errors'][] = \n\t\t\t\t\t\t\t\\ze\\admin::phrase('Cannot verify database privileges. Please ensure the MySQL user [[DBUSER]] has CREATE TABLE and DROP TABLE privileges. You may need to contact your MySQL administrator to have these privileges enabled.',\n\t\t\t\t\t\t\t\t$merge['DBUSER']).\n\t\t\t\t\t\t\t\\ze\\welcome::installerReportError();\n\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\twhile ($tables = \\ze\\sql::fetchRow($result)) {\n\t\t\t\t\t\t\tif ($merge['DB_PREFIX'] == '' || substr($tables[0], 0, strlen($merge['DB_PREFIX'])) == $merge['DB_PREFIX']) {\n\t\t\t\t\t\t\t\t$tags['tabs'][3]['errors'][] = \\ze\\admin::phrase('There are already tables in this database that match your chosen table prefix. Please choose a different table prefix, or a different database.');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t//No validation for Step 4, but remember the theme and language chosen\n\t\tif ($tags['tab'] > 4 || ($tags['tab'] == 4 && !empty($fields['4/next']['pressed']))) {\n\t\t\t$merge['LANGUAGE_ID'] = $values['4/language_id'];\n\t\t\t$merge['VIS_DATE_FORMAT_SHORT'] = $values['4/vis_date_format_short'];\n\t\t\t$merge['VIS_DATE_FORMAT_MED'] = $values['4/vis_date_format_med'];\n\t\t\t$merge['VIS_DATE_FORMAT_LONG'] = $values['4/vis_date_format_long'];\n\t\t\t$merge['THEME'] = preg_replace('/\\W/', '', $values['4/theme']);\n\t\t}\n\t\n\t\tif (empty($fields['1/restore']['pressed'])) {\n\t\t\t//Validation for Step 5: Validate new Admin's details\n\t\t\tif (($tags['tab'] > 5 || ($tags['tab'] == 5 && !empty($fields['5/next']['pressed'])))) {\n\t\t\t\t$tags['tabs'][5]['errors'] = [];\n\t\t\t\n\t\t\t\tif (!$merge['admin_first_name'] = $values['5/first_name']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please enter your first name.');\n\t\t\t\t}\n\t\n\t\t\t\tif (!$merge['admin_last_name'] = $values['5/last_name']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please enter your last name.');\n\t\t\t\t}\n\t\n\t\t\t\tif (!$merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'] = $values['5/email']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please enter your email address.');\n\t\t\t\n\t\t\t\t} elseif (!\\ze\\ring::validateEmailAddress($merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'])) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please enter a valid email address.');\n\t\t\t\t}\n\t\n\t\t\t\tif (!$merge['USERNAME'] = $values['5/username']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please choose an administrator username.');\n\t\t\t\n\t\t\t\t} elseif (!\\ze\\ring::validateScreenName($merge['USERNAME'])) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Your username may not contain any special characters.');\n\t\t\t\n\t\t\t\t} elseif (preg_replace('/\\S/', '', $merge['USERNAME'])) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Your username may not contain any spaces.');\n\t\t\t\t}\n\t\n\t\t\t\tif (!$merge['PASSWORD'] = $values['5/password']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('Please choose a password.');\n\t\t\t\n\t\t\t\t} elseif ($merge['PASSWORD'] != $values['5/re_password']) {\n\t\t\t\t\t$tags['tabs'][5]['errors'][] = \\ze\\admin::phrase('The password fields do not match.');\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t//Validation for Step 4/5: Check a backup file exists\n\t\t\tif ((($tags['tab'] != 6 && $tags['tab'] > 5)\n\t\t\t  || ($tags['tab'] == 6 && !empty($fields['6/next']['pressed'])))) {\n\t\t\t\t$tags['tabs'][6]['errors'] = [];\n\t\t\t\n\t\t\t\tif (!is_file($values['6/path'])) {\n\t\t\t\t\t$tags['tabs'][6]['errors'][] = \\ze\\admin::phrase('Please enter a path to a file.');\n\t\t\t\n\t\t\t\t} else\n\t\t\t\tif (substr($values['6/path'], -4) != '.sql'\n\t\t\t\t && substr($values['6/path'], -7) != '.sql.gz'\n\t\t\t\t && substr($values['6/path'], -14) != '.sql.encrypted'\n\t\t\t\t && substr($values['6/path'], -17) != '.sql.gz.encrypted') {\n\t\t\t\t\t$tags['tabs'][6]['errors'][] = \\ze\\admin::phrase('Please select a backup file.');\n\t\t\t\n\t\t\t\t} elseif (!is_readable($values['6/path'])) {\n\t\t\t\t\t$tags['tabs'][6]['errors'][] = \\ze\\admin::phrase('Please enter a path to a file with read-access set.');\n\t\t\t\t}\n\t\n\t\t\t\tif (!$merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'] = $values['6/email']) {\n\t\t\t\t\t$tags['tabs'][6]['errors'][] = \\ze\\admin::phrase('Please enter a support email address.');\n\t\t\t\n\t\t\t\t} elseif (!\\ze\\ring::validateEmailAddress($merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'])) {\n\t\t\t\t\t$tags['tabs'][6]['errors'][] = \\ze\\admin::phrase('Please enter a valid email address.');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t//Validation for Step 6: Attempt to create (if requested) and then validate the siteconfig files\n\t\tif ($tags['tab'] == 7 && (!empty($fields['7/ive_done_it']['pressed']) || !empty($fields['7/do_it_for_me']['pressed']))) {\n\t\t\t$tags['tabs'][7]['errors'] = [];\n\t\t\n\t\t\t$checkConfigFileExists = \\ze\\welcome::checkConfigFileExists();\n\t\t\tif (!empty($fields['7/do_it_for_me']['pressed'])) {\n\t\t\t\t$permErrors = false;\n\t\t\t\tif (!$checkConfigFileExists) {\n\t\t\t\t\tif (!file_exists(CMS_ROOT. 'zenario_siteconfig.php')) {\n\t\t\t\t\t\t$tags['tabs'][7]['errors'][] =\n\t\t\t\t\t\t\t\\ze\\admin::phrase('Please create a file called zenario_siteconfig.php. If you want this installer to populate it, it can be empty but writable.');\n\t\t\t\t\n\t\t\t\t\t} elseif (!@file_put_contents(CMS_ROOT. 'zenario_siteconfig.php', \\ze\\welcome::readSampleConfigFile($merge))) {\n\t\t\t\t\t\t$tags['tabs'][7]['errors'][] =\n\t\t\t\t\t\t\t\\ze\\admin::phrase('Could not write to file zenario_siteconfig.php');\n\t\t\t\t\t\t$permErrors = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif ($permErrors && !stristr(php_uname('s'), 'win')) {\n\t\t\t\t\t$tags['tabs'][7]['errors'][] = \\ze\\admin::phrase('To correct the file permissions: chmod 666 zenario_siteconfig.php');\n\t\t\t\t}\n\t\t\n\t\t\t} else {\n\t\t\t\tif ($checkConfigFileExists === false) {\n\t\t\t\t\t$tags['tabs'][7]['errors'][] = \\ze\\admin::phrase('Please create a file named zenario_siteconfig.php in the location shown below.');\n\t\t\t\n\t\t\t\t} elseif ($checkConfigFileExists === 0) {\n\t\t\t\t\t$tags['tabs'][7]['errors'][] = \\ze\\admin::phrase('Please please enter the text as shown into your zenario_siteconfig.php file.');\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tif ($checkConfigFileExists) {\n\t\t\t\tif (!@include_once CMS_ROOT. 'zenario_siteconfig.php') {\n\t\t\t\t\t$tags['tabs'][7]['errors'][] = \\ze\\admin::phrase('There is a syntax error in zenario_siteconfig.php');\n\t\t\t\t} else {\n\t\t\t\t\tforeach (['DBHOST', 'DBNAME', 'DBUSER', 'DBPASS', 'DBPORT', 'DB_PREFIX'] as $constant) {\n\t\t\t\t\t\tif (!defined($constant) || constant($constant) !== $merge[$constant]) {\n\t\t\t\t\t\t\t$tags['tabs'][7]['errors'][] = \\ze\\admin::phrase('The constants in zenario_siteconfig.php are not set as below.');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tif (!empty($tags['tabs'][7]['errors'])) {\n\t\t\t\t$fields['7/ive_done_it']['pressed'] = false;\n\t\t\t\t$fields['7/do_it_for_me']['pressed'] = false;\n\t\t\t}\n\t\t}\n\t\n\t\t//Handle navigation\n\t\tswitch ($tags['tab']) {\n\t\t\tcase 0:\n\t\t\t\tif (!empty($fields['0/next']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 1;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 1:\n\t\t\t\tif (!empty($fields['1/restore']['pressed']) || !empty($fields['1/fresh_install']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 3;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 3:\n\t\t\t\tif (!empty($fields['3/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][3]['errors']);\n\t\t\t\t\t$tags['tab'] = 1;\n\t\t\t\n\t\t\t\t} elseif (!empty($fields['3/next']['pressed'])) {\n\t\t\t\t\tif (!empty($fields['1/restore']['pressed'])) {\n\t\t\t\t\t\t$tags['tab'] = 6;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$tags['tab'] = 4;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 4:\n\t\t\t\tif (!empty($fields['4/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][4]['errors']);\n\t\t\t\t\t$tags['tab'] = 3;\n\t\t\t\n\t\t\t\t} elseif (!empty($fields['4/next']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 5;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 5:\n\t\t\t\tif (!empty($fields['5/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][5]['errors']);\n\t\t\t\t\t$tags['tab'] = 4;\n\t\t\t\n\t\t\t\t} elseif (!empty($fields['5/next']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 7;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 6:\n\t\t\t\tif (!empty($fields['6/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][6]['errors']);\n\t\t\t\t\t$tags['tab'] = 3;\n\t\t\t\n\t\t\t\t} elseif (!empty($fields['6/next']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 7;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 7:\n\t\t\t\tif (!empty($fields['7/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][7]['errors']);\n\t\t\t\t\n\t\t\t\t\tif (!empty($fields['1/restore']['pressed'])) {\n\t\t\t\t\t\t$tags['tab'] = 6;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$tags['tab'] = 5;\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t} elseif (!empty($fields['7/do_it_for_me']['pressed']) || !empty($fields['7/ive_done_it']['pressed'])) {\n\t\t\t\t\t$tags['tab'] = 8;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 8:\n\t\t\t\tif (!empty($fields['8/previous']['pressed'])) {\n\t\t\t\t\tunset($tags['tabs'][8]['errors']);\n\t\t\t\t\t$tags['tab'] = 7;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t}\n\t\n\t\t//Don't let the Admin proceed from Step 1 without accepting the license\n\t\tif ($tags['tab'] > 0 && !$licenseAccepted) {\n\t\t\t$tags['tab'] = 1;\n\t\t}\n\t\n\t\t//Don't let the Admin proceed from Step 3 without a valid database connection\n\t\tif ($tags['tab'] > 3 && !empty($tags['tabs'][3]['errors'])) {\n\t\t\t$tags['tab'] = 3;\n\t\t}\n\t\n\t\tif (empty($fields['1/restore']['pressed'])) {\n\t\t\t//Don't let the Admin proceed from Step 5 without entering their admin details\n\t\t\tif ($tags['tab'] > 5 && !empty($tags['tabs'][5]['errors'])) {\n\t\t\t\t$tags['tab'] = 5;\n\t\t\t}\n\t\t} else {\n\t\t\t//Don't let the Admin proceed from Step 4/5 without selecting a backup\n\t\t\tif ($tags['tab'] > 6 && !empty($tags['tabs'][6]['errors'])) {\n\t\t\t\t$tags['tab'] = 6;\n\t\t\t}\n\t\t}\n\t\n\t\t//Don't let the Admin proceed from Step 6 without setting the siteconfig up correctly\n\t\tif ($tags['tab'] > 7 && !empty($tags['tabs'][7]['errors'])) {\n\t\t\t$tags['tab'] = 7;\n\t\t}\n\t\n\t\t//Display the current step\n\t\tswitch ($tags['tab']) {\n\t\t\tcase 0:\n\t\t\t\n\t\t\t\tif ($installStatus == 0) {\n\t\t\t\t\t$fields['0/reason']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::phrase('The config file \"[[file]]\" is empty.',\n\t\t\t\t\t\t\t['file' => '<code>zenario_siteconfig.php</code>']);\n\t\t\t\n\t\t\t\t} elseif ($installStatus == 1) {\n\t\t\t\t\t$fields['0/reason']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::phrase('A database connection could not be established.');\n\t\t\t\n\t\t\t\t} elseif ($installStatus == 2) {\n\t\t\t\t\t$fields['0/reason']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::phrase('The database is empty, or contains no tables with the specified prefix.');\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 1:\n\t\t\t\tif (is_file(CMS_ROOT. 'license.txt')) {\n\t\t\t\t\t$fields['1/license']['snippet']['url'] = 'license.txt';\n\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\techo \\ze\\admin::phrase('The license file \"license.txt\" could not be found. This installer cannot proceed.');\n\t\t\t\t\texit;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 3:\n\t\t\t\t//Nothing doing for step 3\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 4:\n\t\t\t\n\t\t\t\t//Old code for sample sites, commented out as we don't currently use them\n\t\t\t\t//$fields['4/sample']['values'] = [\n\t\t\t\t//\t0 => [\n\t\t\t\t//\t\t'label' => \\ze\\admin::phrase('Blank Site:'),\n\t\t\t\t//\t\t'note_below' => \\ze\\admin::phrase('An empty site, ready for you to choose a language.')]];\n\t\t\t\t//\n\t\t\t\t//foreach (listSampleSites() as $dir => $path) {\n\t\t\t\t//\t$fields['4/sample']['values'][$dir] = [\n\t\t\t\t//\t\t'label' => $dir. ': ',\n\t\t\t\t//\t\t'note_below' => file_get_contents($path. 'description.txt')];\n\t\t\t\t//}\n\t\t\t\n\t\t\t\t//Format the labels for the date format picker fields\n\t\t\t\tif (empty($fields['4/language_id']['values'])) {\n\t\t\t\t\t$fields['4/language_id']['values'] = [];\n\t\t\t\t\n\t\t\t\t\t$ord = 0;\n\t\t\t\t\t$languages = require CMS_ROOT. 'zenario/includes/language_names.inc.php';\n\t\t\t\t\tforeach ($languages as $langId => $phrases) {\n\t\t\t\t\t\t$fields['4/language_id']['values'][$langId] = $phrases[0]. ' ('. $langId. ')';\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\\ze\\miscAdm::formatDateFormatSelectList($fields['4/vis_date_format_short'], true);\n\t\t\t\t\t\\ze\\miscAdm::formatDateFormatSelectList($fields['4/vis_date_format_med']);\n\t\t\t\t\t\\ze\\miscAdm::formatDateFormatSelectList($fields['4/vis_date_format_long']);\n\t\t\t\t}\n\t\t\t\n\t\t\t\t//Add logic if English is not chosen..?\n\t\t\t\t//if (!empty($values['4/language_id'])\n\t\t\t\t// && !\\ze\\ring::chopPrefix('en-', $values['4/language_id'])) {\n\t\t\t\t//\t\n\t\t\t\t//}\n\t\t\t\n\t\t\t\tif (empty($fields['4/theme']['values'])) {\n\t\t\t\t\t$fields['4/theme']['values'] = [];\n\t\t\t\t\tforeach (\\ze\\welcome::listSampleThemes() as $dir => $imageSrc) {\n\t\t\t\t\t\t$fields['4/theme']['values'][$dir] = [\n\t\t\t\t\t\t\t'label' => '',\n\t\t\t\t\t\t\t'post_field_html' =>\n\t\t\t\t\t\t\t\t'<label for=\"theme___'. htmlspecialchars($dir). '\">\n\t\t\t\t\t\t\t\t\t<img src=\"'. htmlspecialchars($imageSrc). '\"/>\n\t\t\t\t\t\t\t\t</label>'\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 5:\n\t\t\t\n\t\t\t\t//Quick hack - these functions doesn't seem to work with a partial db-connection, so just clear it quickly\n\t\t\t\t$db = \\ze::$dbL;\n\t\t\t\t\\ze::$dbL = null;\n\t\t\t\t\n\t\t\t\t\t$fields['5/password_message']['snippet']['html'] = self::passwordMessageSnippet($fields['5/password']['current_value'] ?? false);\n\t\t\t\t\t$fields['5/password_requirements']['snippet']['html'] = \\ze\\admin::displayPasswordRequirementsNoteAdmin($fields['5/password']['current_value'] ?? false);\n\t\t\t\t\n\t\t\t\t//Restore the connection\n\t\t\t\t\\ze::$dbL = $db;\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 6:\n\t\t\t\t$fields['6/path']['value'] = CMS_ROOT;\n\t\t\t\t$fields['6/path_status']['snippet']['html'] = '&nbsp;';\n\t\t\t\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 7:\n\t\t\t\t$fields['7/zenario_siteconfig']['pre_field_html'] =\n\t\t\t\t\t'<pre>'. CMS_ROOT. 'zenario_siteconfig.php'. ':</pre>';\n\t\t\t\t$fields['7/zenario_siteconfig']['value'] = \\ze\\welcome::readSampleConfigFile($merge);\n\t\t\t\tunset($values['7/zenario_siteconfig']);\n\t\t\t\n\t\t\t\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase 8:\n\t\t\t\t$tags['tabs'][8]['errors'] = [];\n\t\t\t\n\t\t\t\tif (!defined('SHOW_SQL_ERRORS_TO_VISITORS')) {\n\t\t\t\t\tdefine('SHOW_SQL_ERRORS_TO_VISITORS', true);\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$merge['URL'] = \\ze\\link::protocol(). $_SERVER['HTTP_HOST'];\n\t\t\t\t$merge['HTTP_HOST'] = $_SERVER['HTTP_HOST'];\n\t\t\t\t$merge['SUBDIRECTORY'] = SUBDIRECTORY;\n\t\t\t\n\t\t\t\t//Set the latest revision number\n\t\t\t\t$merge['LATEST_REVISION_NO'] = LATEST_REVISION_NO;\n\t\t\t\t$merge['INSTALLER_REVISION_NO'] = INSTALLER_REVISION_NO;\n\t\t\t\t\n\t\t\t\t\\ze\\dbAdm::getTableEngine();\n\t\t\t\t$merge['ZENARIO_TABLE_ENGINE'] = ZENARIO_TABLE_ENGINE;\n\t\t\t\n\t\t\t\n\t\t\t\t//Install to the database\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate('SET NAMES \"UTF8\"');\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET collation_connection='utf8_general_ci'\");\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET collation_server='utf8_general_ci'\");\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET character_set_client='utf8'\");\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET character_set_connection='utf8'\");\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET character_set_results='utf8'\");\n\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"SET character_set_server='utf8'\");\n\t\t\t\t\n\t\t\t\t//Define the DB connection info, if it wasn't previously\n\t\t\t\t\\ze::define('DBHOST', $merge['DBHOST']);\n\t\t\t\t\\ze::define('DBNAME', $merge['DBNAME']);\n\t\t\t\t\\ze::define('DBUSER', $merge['DBUSER']);\n\t\t\t\t\\ze::define('DBPASS', $merge['DBPASS']);\n\t\t\t\t\\ze::define('DBPORT', $merge['DBPORT']);\n\t\t\t\t\\ze::define('DB_PREFIX', $merge['DB_PREFIX']);\n\t\t\t\t\n\t\t\t\t//Previously the \"from\" address was the same as the admin support email address.\n\t\t\t\t//The default \"from\" address now should contain the server user string (e.g. \"www-data\" for Apache),\n\t\t\t\t//and the server name.\n\t\t\t\t$merge['EMAIL_ADDRESS_FROM'] = getenv('APACHE_RUN_USER') . '@' . $_SERVER['SERVER_NAME'];\n\t\t\t\n\t\t\t\t//Here we restore a backup, and/or do a fresh install, depending on the choices in the installer.\n\t\t\t\t//(Installing a sample site is done by restoring a backup, then immediately doing a fresh install.)\n\t\t\t\n\t\t\t\t$doFreshInstall = !empty($fields['1/fresh_install']['pressed']);\n\t\t\t\t$restoreBackup = !$doFreshInstall && !empty($fields['1/restore']['pressed']);\n\t\t\t\n\t\t\t\t//Old code for sample sites, commented out as we don't currently use them\n\t\t\t\t//$installSampleSite = $doFreshInstall && !empty($values['4/sample']);\n\t\t\t\n\t\t\t\t//Try to restore a backup file\n\t\t\t\tif ($restoreBackup) {\n\t\t\t\t\t//Set the primary_domain to the current domain, reguardless of what it is in the backup\n\t\t\t\t\t\\ze::$siteConfig['primary_domain'] = $_SERVER['HTTP_HOST'];\n\t\t\t\t\n\t\t\t\t\t//Restore a backup, using either the specified path or the sample install path\n\t\t\t\t\n\t\t\t\t\t//Old code for sample sites, commented out as we don't currently use them\n\t\t\t\t\t//if ($installSampleSite) {\n\t\t\t\t\t//\t$backupPath = '';\n\t\t\t\t\t//\tforeach (listSampleSites() as $dir => $path) {\n\t\t\t\t\t//\t\tif ($dir == $values['4/sample']) {\n\t\t\t\t\t//\t\t\t$backupPath = $path. 'backup.sql.gz';\n\t\t\t\t\t//\t\t}\n\t\t\t\t\t//\t}\n\t\t\t\t\t//} else {\n\t\t\t\t\t\t$backupPath = $values['6/path'];\n\t\t\t\t\t//}\n\t\t\t\t\n\t\t\t\t\t//Little hack - the mysql_path and mysqldump_path site settings won't be set,\n\t\t\t\t\t//so temporarily set  them to their default values just before we attempt the restore.\n\t\t\t\t\t\\ze\\site::setSetting('mysqldump_path', 'PATH', $updateDB = false);\n\t\t\t\t\t\\ze\\site::setSetting('mysql_path', 'PATH', $updateDB = false);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t$failures = [];\n\t\t\t\t\tif (!\\ze\\dbAdm::restoreFromBackup($backupPath, $failures)) {\n\t\t\t\t\t\tforeach ($failures as $text) {\n\t\t\t\t\t\t\t$tags['tabs'][8]['errors'][] = $text;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\t//Set up tables in a fresh installation\n\t\t\t\tif ($doFreshInstall && empty($tags['tabs'][8]['errors'])) {\n\t\t\t\t\t//Old code for sample sites, commented out as we don't currently use them\n\t\t\t\t\t//if ($installSampleSite) {\n\t\t\t\t\t//\t$files = ['local-admin-CREATE.sql', 'local-sample-INSERT.sql'];\n\t\t\t\t\t//} else {\n\t\t\t\t\t\tset_time_limit(60 * 10);\n\t\t\t\t\t\t$files = ['local-CREATE.sql', 'local-admin-CREATE.sql', 'local-INSERT.sql'];\n\t\t\t\t\t//}\n\t\t\t\t\n\t\t\t\t\t$error = false;\n\t\t\t\t\tforeach ($files as $file) {\n\t\t\t\t\t\tif (!\\ze\\welcome::runSQL('zenario/admin/db_install/', $file, $error, $merge)) {\n\t\t\t\t\t\t\t$tags['tabs'][8]['errors'][] = $error;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t//Was the install successful?\n\t\t\t\t\tif (empty($tags['tabs'][8]['errors'])) {\n\t\t\t\t\t\n\t\t\t\t\t\t//Define the main email address for the remaining run of this script\n\t\t\t\t\t\t//(This is just needed this once; the next time a script run this should\n\t\t\t\t\t\t// be defined by the config file.)\n\t\t\t\t\t\tif (!defined('EMAIL_ADDRESS_GLOBAL_SUPPORT')) {\n\t\t\t\t\t\t\tdefine('EMAIL_ADDRESS_GLOBAL_SUPPORT', $merge['EMAIL_ADDRESS_GLOBAL_SUPPORT']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t//Populate the Modules table with all of the Modules in the system,\n\t\t\t\t\t\t//and install and run any Modules that should running by default.\n\t\t\t\t\t\t\\ze\\moduleAdm::addNew($skipIfFilesystemHasNotChanged = false, $runModulesOnInstall = true, $dbUpdateSafeMode = true);\n\t\t\t\t\t\n\t\t\t\t\t\t//If a language is picked, enable that language by default,\n\t\t\t\t\t\t//import any phrase packs and create special pages such as the home page.\n\t\t\t\t\t\tif ($merge['LANGUAGE_ID']\n\t\t\t\t\t\t && ($languages = require CMS_ROOT. 'zenario/includes/language_names.inc.php')\n\t\t\t\t\t\t && (!empty($languages[$merge['LANGUAGE_ID']]))) {\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t$translatePhrases = 1;\n\t\t\t\t\t\t\t$searchType = 'full_text';\n\t\t\t\t\t\t\tswitch ($merge['LANGUAGE_ID']) {\n\t\t\t\t\t\t\t\tcase 'en-gb':\n\t\t\t\t\t\t\t\tcase 'en-us':\n\t\t\t\t\t\t\t\t\t$translatePhrases = 0;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'zh-hans':\n\t\t\t\t\t\t\t\tcase 'zh-hant':\n\t\t\t\t\t\t\t\tcase 'ko':\n\t\t\t\t\t\t\t\tcase 'ja':\n\t\t\t\t\t\t\t\tcase 'vi':\n\t\t\t\t\t\t\t\t\t$searchType = 'simple';\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\\ze\\row::set('languages', [\n\t\t\t\t\t\t\t\t'detect' => 0,\n\t\t\t\t\t\t\t\t'detect_lang_codes' => '',\n\t\t\t\t\t\t\t\t'translate_phrases' => $translatePhrases,\n\t\t\t\t\t\t\t\t'search_type'=> $searchType\n\t\t\t\t\t\t\t\t], \n\t\t\t\t\t\t\t\t$merge['LANGUAGE_ID']);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t//Set this language as the default language\n\t\t\t\t\t\t\t\\ze\\site::setSetting('default_language', \\ze::$defaultLang = $merge['LANGUAGE_ID']);\n\n\t\t\t\t\t\t\t//Import any phrases for Modules that use phrases\n\t\t\t\t\t\t\t\\ze\\contentAdm::importPhrasesForModules($merge['LANGUAGE_ID']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t\\ze\\site::setSetting('vis_date_format_short', $merge['VIS_DATE_FORMAT_SHORT']);\n\t\t\t\t\t\t\\ze\\site::setSetting('vis_date_format_med', $merge['VIS_DATE_FORMAT_MED']);\n\t\t\t\t\t\t\\ze\\site::setSetting('vis_date_format_long', $merge['VIS_DATE_FORMAT_LONG']);\n\t\t\t\t\t\t\\ze\\site::setSetting('vis_date_format_datepicker', \\ze\\miscAdm::convertMySQLToJqueryDateFormat($merge['VIS_DATE_FORMAT_SHORT']));\n\t\t\t\t\t\t\\ze\\site::setSetting('organizer_date_format', \\ze\\miscAdm::convertMySQLToJqueryDateFormat($merge['VIS_DATE_FORMAT_MED']));\n\t\t\t\t\t\n\t\t\t\t\t\t//Set a random key that is linked to the site.\n\t\t\t\t\t\t\\ze\\site::setSetting('site_id', \\ze\\dbAdm::generateRandomSiteIdentifierKey());\n\t\t\n\t\t\t\t\t\t//Set a random first data-revision number\n\t\t\t\t\t\t//(If someone is doing repeated fresh installs, this stops data from an old one getting cached and used in another)\n\t\t\t\t\t\t\\ze\\row::set('local_revision_numbers', ['revision_no' => rand(1, 32767)], ['path' => 'data_rev', 'patchfile' => 'data_rev']);\n\t\t\t\t\t\n\t\t\t\t\t\t$freshInstall = true;\n\t\t\t\t\t\n\t\t\t\t\t\t//Create an Admin, and give them all of the core permissions\n\t\t\t\t\t\t$details = [\n\t\t\t\t\t\t\t'username' => $merge['USERNAME'],\n\t\t\t\t\t\t\t'first_name' => $merge['admin_first_name'],\n\t\t\t\t\t\t\t'last_name' => $merge['admin_last_name'],\n\t\t\t\t\t\t\t'email' => $merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'],\n\t\t\t\t\t\t\t'created_date' => \\ze\\date::now(),\n\t\t\t\t\t\t\t'status' => 'active'];\n\t\t\t\t\t\n\t\t\t\t\t\t$adminId = \\ze\\row::insert('admins', $details);\n\t\t\t\t\t\t\\ze\\adminAdm::setPassword($adminId, $merge['PASSWORD']);\n\t\t\t\t\t\t\\ze\\adminAdm::savePerms($adminId, 'all_permissions');\n\t\t\t\t\t\t\\ze\\admin::setSession($adminId);\n\t\t\t\t\t\n\t\t\t\t\t\t//Prepare email to the installing person\n\t\t\t\t\t\t$message = $source['email_templates']['installed_cms']['body'];\n\t\t\t\t\t\n\t\t\t\t\t\t$subject = $source['email_templates']['installed_cms']['subject'];\n\t\t\t\t\t\n\t\t\t\t\t\tforeach ($merge as $pattern => $replacement) {\n\t\t\t\t\t\t\t$message = str_replace('[['. $pattern. ']]', $replacement, $message);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t$addressToOverriddenBy = false;\n\t\t\t\t\t\t\\ze\\server::sendEmail(\n\t\t\t\t\t\t\t$subject, $message,\n\t\t\t\t\t\t\t$merge['EMAIL_ADDRESS_GLOBAL_SUPPORT'],\n\t\t\t\t\t\t\t$addressToOverriddenBy,\n\t\t\t\t\t\t\t$nameTo = false,\n\t\t\t\t\t\t\t$addressFrom = false,\n\t\t\t\t\t\t\t$nameFrom = $source['email_templates']['installed_cms']['from'],\n\t\t\t\t\t\t\tfalse, false, false,\n\t\t\t\t\t\t\t$isHTML = false);\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t//Apply database updates\n\t\t\t\t\t\t$moduleErrors = '';\n\t\t\t\t\t\t\\ze\\dbAdm::checkIfUpdatesAreNeeded($moduleErrors, $andDoUpdates = true);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//Reset the cached table details, in case any of the definitions are out of date\n\t\t\t\t\t\t\\ze\\dbAdm::resetTableDefs();\n\t\t\t\t\t\n\t\t\t\t\t\t//Fix a bug where sample sites might not have a default language set, by setting a default language if any content has been created\n\t\t\t\t\t\tif (!\\ze::$defaultLang && ($langId = \\ze\\row::get('content_items', 'language_id', []))) {\n\t\t\t\t\t\t\t\\ze\\site::setSetting('default_language', \\ze::$defaultLang = $langId);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//Set the \"Email from\" and \"Organizer title\" setting from the Organisation name field, if that was provided\n\t\t\t\t\t\tif ($values['4/organisation_name']) {\n\t\t\t\t\t\t\t\\ze\\site::setSetting('email_name_from', (string)$values['4/organisation_name']);\n\t\t\t\t\t\t\t\\ze\\site::setSetting('organizer_title', \\ze\\admin::phrase('Organizer for [[organisation_name]]', $values));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//Check if a logo was uploaded during the installer, and try to add it to the filesystem\n\t\t\t\t\t\tif ($values['4/logo']\n\t\t\t\t\t\t && ($location = \\ze\\file::getPathOfUploadInCacheDir($values['4/logo']))\n\t\t\t\t\t\t && ($imageId = \\ze\\file::addToDatabase('image', $location, false, $mustBeAnImage = true, $deleteWhenDone = false))) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//Change the image in the banner to use this image\n\t\t\t\t\t\t\t\\ze\\row::update('plugin_settings',\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t'value' => $imageId,\n\t\t\t\t\t\t\t\t\t'foreign_key_id' => $imageId\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t['name' => 'image', 'instance_id' => 1, 'egg_id' => 0]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//Also set the image as the image on the login screen\n\t\t\t\t\t\t\t$imageId = \\ze\\file::addToDatabase('site_setting', $location);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\\ze\\site::setSetting('brand_logo', 'custom');\n\t\t\t\t\t\t\t\\ze\\site::setSetting('custom_logo', $imageId);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//Unless the image was a SVG, also set it as the default og:image\n\t\t\t\t\t\t\tif (\\ze\\file::isImage(\\ze\\file::mimeType($location))) {\n\t\t\t\t\t\t\t\t\\ze\\site::setSetting('default_icon', $imageId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t//Populate the menu_hierarchy and the menu_positions tables\n\t\t\t\t\t\t\\ze\\menuAdm::recalcAllHierarchy();\n\t\t\t\t\t\n\t\t\t\t\t\t//Update the special pages, creating new ones if needed\n\t\t\t\t\t\t\\ze\\contentAdm::addNeededSpecialPages();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif (!empty($tags['tabs'][8]['errors'])) {\n\t\t\t\t\t//Did something go wrong? Remove any tables that were created.\n\t\t\t\t\t\\ze\\welcome::runSQL('zenario/admin/db_install/', 'local-DROP.sql', $error, $merge);\n\t\t\t\t\t\\ze\\welcome::runSQL('zenario/admin/db_install/', 'local-admin-DROP.sql', $error, $merge);\n\t\t\t\t\n\t\t\t\t\tforeach (\\ze\\dbAdm::lookupExistingCMSTables($dbUpdateSafeMode = true) as $table) {\n\t\t\t\t\t\tif ($table['reset'] == 'drop') {\n\t\t\t\t\t\t\t\\ze\\sql::cacheFriendlyUpdate(\"DROP TABLE `\". \\ze\\escape::sql($table['actual_name']). \"`\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tbreak;\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\tpublic static function enableCaptchaForAdminLogins() {\n\t\treturn \\ze::setting('google_recaptcha_site_key')\n\t\t\t&& \\ze::setting('google_recaptcha_secret_key')\n\t\t\t&& \\ze\\site::description('enable_captcha_for_admin_logins');\n\t}\n\n\t//Formerly \"loginAJAX()\"\n\tpublic static function loginAJAX(&$source, &$tags, &$fields, &$values, $changes, $getRequest) {\n\t\t$passwordReset = false;\n\t\t$tags['tabs']['login']['errors'] = [];\n\t\t$tags['tabs']['forgot']['errors'] = [];\n\t\n\t\tif ($tags['tab'] == 'login' && !empty($fields['login/previous']['pressed'])) {\n\t\t\t$tags['go_to_url'] = \\ze\\welcome::redirectAdmin($getRequest);\n\t\t\treturn false;\n\t\n\t\t//Go between the login and the forgot password screens\n\t\t} elseif ($tags['tab'] == 'login' && !empty($fields['login/forgot']['pressed'])) {\n\t\t\t$tags['tab'] = 'forgot';\n\t\n\t\t} elseif ($tags['tab'] == 'forgot' && !empty($fields['forgot/previous']['pressed'])) {\n\t\t\t$tags['tab'] = 'login';\n\t\n\t\t//Check a login attempt\n\t\t} elseif ($tags['tab'] == 'login' && !empty($fields['login/login']['pressed'])) {\n\t\t\t\n\t\t\t//Call the standard TUIX validation, as there's a captcha on this screen that needs validating,\n\t\t\t//and this function has the logic to handle it.\n\t\t\t\\ze\\tuix::applyValidation($tags['tabs']['login'], true);\n\t\t\t\n\t\t\tif (!$values['login/username']) {\n\t\t\t\t$tags['tabs']['login']['errors'][] = \\ze\\admin::phrase('Please enter your administrator username.');\n\t\t\t}\n\t\t\n\t\t\tif (!$values['login/password']) {\n\t\t\t\t$tags['tabs']['login']['errors'][] = \\ze\\admin::phrase('Please enter your administrator password.');\n\t\t\t}\n\t\t\t\n\t\t\tif (\\ze\\welcome::enableCaptchaForAdminLogins() && !$values['login/admin_login_captcha']) {\n\t\t\t\t$tags['tabs']['login']['errors'][] = \\ze\\admin::phrase('Please complete the CAPTCHA.');\n\t\t\t}\n\t\t\t\n\t\t\tif (empty($tags['tabs']['login']['errors'])) {\n\t\t\t\t$details = [];\n\t\t\t\n\t\t\t\t$adminIdL = \\ze\\admin::checkPassword($values['login/username'], $details, $values['login/password'], $checkViaEmail = false);\n\t\t\t\n\t\t\t\tif (!$adminIdL || \\ze::isError($adminIdL)) {\n\t\t\t\t\t$tags['tabs']['login']['errors']['details_wrong'] = \\ze\\admin::phrase('_ERROR_ADMIN_LOGIN_USERNAME');\n\t\t\t\t\t\n\t\t\t\t\t//Be nasty and reset the captcha if they got the username or password wrong!\n\t\t\t\t\tif (\\ze\\welcome::enableCaptchaForAdminLogins()) {\n\t\t\t\t\t\t$values['login/admin_login_captcha'] = '';\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t\\ze\\admin::logIn($adminIdL, $values['login/remember_me']);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t//Reset a password\n\t\t} elseif ($tags['tab'] == 'forgot' && !empty($fields['forgot/reset']['pressed'])) {\n\t\t\n\t\t\tif (!$values['forgot/email']) {\n\t\t\t\t$tags['tabs']['forgot']['errors'][] = \\ze\\admin::phrase('Please enter your email address.');\n\t\t\n\t\t\t} elseif (!\\ze\\ring::validateEmailAddress($values['forgot/email'])) {\n\t\t\t\t$tags['tabs']['forgot']['errors'][] = \\ze\\admin::phrase('Please enter a valid email address.');\n\t\t\n\t\t\t//Check for the user by email address, without specifying their password.\n\t\t\t//This will return 0 if the user wasn't found, otherwise it should return\n\t\t\t//false (for user found but password didn't match)\n\t\t\t} elseif (!$admin = \\ze\\row::get('admins', ['id', 'authtype', 'username', 'email', 'first_name', 'last_name', 'status'], ['email' => $values['forgot/email']])) {\n\t\t\t\t//If email address doesn't exist, don't actually tell the user!\n\t\t\t\t$passwordReset = true;\n\t\t\t\t$tags['tab'] = 'login';\n\t\t\n\t\t\t//Super Admins shouldn't be trying to change their passwords on a local site\n\t\t\t} elseif (isset($admin['authtype']) && $admin['authtype'] != 'local') {\n\t\t\t\t$tags['tabs']['forgot']['errors'][] = \\ze\\admin::phrase(\"Please go to the Controller site to reset the password for a Superadmin account.\");\n\t\t\n\t\t\t//Trashed admins should not be able to trigger password resets, just as if the account didn't exist\n\t\t\t} elseif ($admin['status'] == 'deleted') {\n\t\t\t\t$passwordReset = true;\n\t\t\t\t$tags['tab'] = 'login';\n\t\t\n\t\t\t} else {\n\t\t\t\n\t\t\t\t//Prepare email to the mail with the reset password\n\t\t\t\t$merge = [];\n\t\t\t\t$merge['NAME'] = \\ze::ifNull(trim($admin['first_name']. ' '. $admin['last_name']), $admin['username']);\n\t\t\t\t$merge['USERNAME'] = $admin['username'];\n\t\t\t\t$merge['PASSWORD'] = \\ze\\admin::resetPassword($admin['id']);\n\t\t\t\t$merge['URL'] = \\ze\\link::protocol(). $_SERVER['HTTP_HOST'];\n\t\t\t\t$merge['SUBDIRECTORY'] = SUBDIRECTORY;\n\t\t\t\t$merge['IP'] = preg_replace('[^W\\.\\:]', '', \\ze\\user::ip());\n\t\t\t\n\t\t\t\t$emailTemplate = 'new_reset_password';\n\t\t\t\t\n\t\t\t\t$message = $source['email_templates'][$emailTemplate]['body'];\n\t\t\t\t$message = nl2br($message);\n\t\t\t\t\n\t\t\t\tif (\\ze\\module::inc('zenario_email_template_manager')) {\n\t\t\t\t\t\\zenario_email_template_manager::putBodyInTemplate($message);\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$subject = $source['email_templates'][$emailTemplate]['subject'];\n\t\t\t\n\t\t\t\tforeach ($merge as $pattern => $replacement) {\n\t\t\t\t\t$message = str_replace('[['. $pattern. ']]', $replacement, $message);\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$addressToOverriddenBy = false;\n\t\t\t\t\\ze\\server::sendEmail(\n\t\t\t\t\t$subject, $message,\n\t\t\t\t\t$admin['email'],\n\t\t\t\t\t$addressToOverriddenBy,\n\t\t\t\t\t$nameTo = $merge['NAME'],\n\t\t\t\t\t$addressFrom = false,\n\t\t\t\t\t$nameFrom = $source['email_templates'][$emailTemplate]['from'],\n\t\t\t\t\tfalse, false, false,\n\t\t\t\t\t$isHTML = true);\n\t\t\t\n\t\t\t\t$passwordReset = true;\n\t\t\t\t$tags['tab'] = 'login';\n\t\t\t}\n\t\t}\n\t\n\t\t//Format the login screen\n\t\tif ($tags['tab'] == 'login') {\n\t\t\tif (!empty($_COOKIE['COOKIE_LAST_ADMIN_USER'])) {\n\t\t\t\t$fields['login/username']['value'] = $_COOKIE['COOKIE_LAST_ADMIN_USER'];\n\t\t\t}\n\t\t\t$fields['login/remember_me']['value'] = empty($_COOKIE['COOKIE_DONT_REMEMBER_LAST_ADMIN_USER']);\n\t\t\n\t\t\t//Don't show the note about the admin login link if it is turned off in Site Settings\n\t\t\tif (\\ze\\link::adminDomainIsPrivate()) {\n\t\t\t\t$fields['login/remember_me']['note_below'] = '';\n\t\t\t}\n\t\t\n\t\t\tif ($passwordReset) {\n\t\t\t\t$fields['login/reset']['hidden'] = false;\n\t\t\t\t$fields['login/description']['hidden'] = true;\n\t\t\t} else {\n\t\t\t\t$fields['login/reset']['hidden'] = true;\n\t\t\t\t$fields['login/description']['hidden'] = false;\n\t\t\t}\n\t\t\t\n\t\t\t$fields['login/admin_login_captcha']['hidden'] = !\\ze\\welcome::enableCaptchaForAdminLogins();\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\t//Formerly \"updateNoPermissionsAJAX()\"\n\tpublic static function updateNoPermissionsAJAX(&$source, &$tags, &$fields, &$values, $changes, &$task, $getRequest) {\n\t\t//Handle the \"back to site\" button\n\t\tif (!empty($fields['0/previous']['pressed'])) {\n\t\t\t\\ze\\welcome::logoutAdminAJAX($tags, $getRequest);\n\t\t\treturn;\n\t\n\t\t} else {\n\t\t       $tags['tabs'][0]['errors'][0] = \\ze\\admin::phrase(\"Sorry, you do not have permission to apply a database update to this site. An email has been sent to the Zenario system administrator to ask them to do this.\");\n\t\t       \n\t\t\t\tif(!isset($_SESSION[\"mailSent\"])){//send mail once to global support.\n\t\t\t\t    \n\t\t\t\t    $subject = \\ze\\admin::phrase(\"Admin has no permission to apply db updates\") ;\n\t\t            $message = \\ze\\admin::phrase('Dear Admin,').\"\\n\\n\". \\ze\\admin::phrase('The admin \"').$_SESSION['admin_username'].\\ze\\admin::phrase('\" has no permission to apply db updates for the site ').\\ze\\link::absolute().\"admin. \\n\\n\".\\ze\\admin::phrase(\"Thanks.\");\n\t\t    \n\t\t            $mailSent = \\ze\\server::sendEmail(\n\t\t\t\t\t            $subject, $message,\n\t\t\t\t\t            EMAIL_ADDRESS_GLOBAL_SUPPORT,\n\t\t\t\t\t            $addressToOverriddenBy,\n\t\t\t\t\t\t\t    $nameTo = false,\n\t\t\t\t\t\t\t    $addressFrom = false,\n\t\t\t\t\t\t\t    $nameFrom = $source['email_templates']['installed_cms']['from'],\n\t\t\t\t\t\t\t    false, false, false,\n\t\t\t\t\t\t\t    $isHTML = false);\n\t\t\t\t\t$_SESSION[\"mailSent\"]= $mailSent ;  \n\t\t\t\t}\t\t\t\n\t\t\t\n\t\t  \n\t\t\t\t\t\t\t    \n\t\t\t$admins = \\ze\\row::getAssocs(\n\t\t\t\t'admins',\n\t\t\t\t['first_name', 'last_name', 'username', 'authtype'],\n\t\t\t\t[\n\t\t\t\t\t'status' => 'active',\n\t\t\t\t\t'id' => \\ze\\row::getAssocs(\n\t\t\t\t\t\t'action_admin_link',\n\t\t\t\t\t\t'admin_id',\n\t\t\t\t\t\t['action_name' => ['_ALL', '_PRIV_APPLY_DATABASE_UPDATES']])],\n\t\t\t\t['first_name', 'last_name', 'username', 'authtype']\n\t\t\t);\n\t\t\n\t\t\tif (!empty($admins)) {\n\t\t\t    \n\t\t\t\t$html =\n\t\t\t\t\t'<p>'. \\ze\\admin::phrase('The following administrators are able to apply updates:'). '</p><ul>';\n\t\t\t   \n\t\t\t\tforeach ($admins as $admin) {\n\t\t\t\t\t$html .= '<li>'. htmlspecialchars(\\ze\\admin::formatName($admin)). '</li>';\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$html .= '</ul>';\n\t\t\t\n\t\t\t\t$fields['0/admins_who_can_do_updates']['hidden'] = false;\n\t\t\t\t$fields['0/admins_who_can_do_updates']['snippet']['html'] = $html;\n\t\t\t}\n\t\t}\n\t}\n\n\t//Formerly \"updateAJAX()\"\n\tpublic static function updateAJAX(&$source, &$tags, &$fields, &$values, $changes, &$task) {\n\t\t$tags['tab'] = 1;\n\t\n\t\t//Apply updates without prompting when installing, restoring backups or doing site resets\n\t\tif ($task == 'install' || $task == 'restore' || $task == 'site_reset' || !empty($fields['1/apply']['pressed'])) {\n\t\t\n\t\t\t//Update to the latest version\n\t\t\tset_time_limit(60 * 10);\n\t\t\t$moduleErrors = '';\n\t\t\t$dbUpToDate = \\ze\\dbAdm::checkIfUpdatesAreNeeded($moduleErrors, $andDoUpdates = true);\n\t\t\n\t\t\tif ($dbUpToDate) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\n\t\t$fields['1/description']['snippet']['html'] =\n\t\t\t\\ze\\admin::phrase('We need to update your database (<code>[[database]]</code>) to match.', ['database' => htmlspecialchars(DBNAME)]);\n\t\n\t\n\t\tif ($tags['tab'] == 1 && !empty($fields['1/why']['pressed'])) {\n\t\t\t$modules = [];\n\t\t\t$revisions = [];\n\t\t\t$currentRevisionNumber = false;\n\t\t\t$latestRevisionNumber = LATEST_REVISION_NO;\n\t\n\t\t\t//Get details on any database updates needed\n\t\t\t$moduleErrors = '';\n\t\t\tif ($updates = \\ze\\dbAdm::checkIfUpdatesAreNeeded($moduleErrors, false, false, false)) {\n\t\t\t\tlist($currentRevisionNumber, $modules) = $updates;\n\t\t\t}\n\t\t\n\t\t\tif (empty($modules)\n\t\t\t && empty($currentRevisionNumber)) {\n\t\t\t\n\t\t\t\t$html =\n\t\t\t\t\t'<table class=\"revisions\"><tr class=\"even\"><td>'.\n\t\t\t\t\t\t\\ze\\admin::phrase('A major CMS update needs to be applied.').\n\t\t\t\t\t'</td></tr></table>';\n\t\t\n\t\t\t} else {\n\t\t\t\tif ($currentRevisionNumber === false) {\n\t\t\t\t\t$currentRevisionNumber = $latestRevisionNumber;\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($currentRevisionNumber != $latestRevisionNumber) {\n\t\t\t\t\t$revisions['core'] = ['name' => ' '. \\ze\\admin::phrase('Core files'), 'from' => $currentRevisionNumber, 'to' => $latestRevisionNumber];\n\t\t\t\t}\n\t\t\n\t\t\t\tif (!empty($modules)) {\n\t\t\t\t\tforeach($modules as $module => $pluginRevisions) {\n\t\t\t\t\t\t$sql = \"\n\t\t\t\t\t\t\tSELECT display_name\n\t\t\t\t\t\t\tFROM \". DB_PREFIX. \"modules\n\t\t\t\t\t\t\tWHERE class_name = '\". \\ze\\escape::sql($module). \"'\";\n\t\t\t\t\n\t\t\t\t\t\tif (($result = @\\ze\\sql::select($sql)) && ($row = \\ze\\sql::fetchAssoc($result))) {\n\t\t\t\t\t\t\t$moduleName = ($row['display_name'] ?: $module);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$moduleName = $module;\n\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t$revisions[$module] = ['name' => $moduleName, 'from' => $pluginRevisions[0] + 1, 'to' => $pluginRevisions[1]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\t\\ze\\ray::sqlSort($revisions);\n\t\t\n\t\t\t\t$html = '<table class=\"revisions\"><tr><th>'. \\ze\\admin::phrase('Module'). '</th><th>'. \\ze\\admin::phrase('Revision Numbers to Apply'). '</th></tr>';\n\t\t\n\t\t\t\t$oddOrEven = 'even';\n\t\t\t\tforeach ($revisions as $revision) {\n\t\t\t\t\t$oddOrEven = $oddOrEven == 'even'? 'odd' : 'even';\n\t\t\t\t\t$html .= '<tr class=\"'. $oddOrEven. '\"><td>'. htmlspecialchars($revision['name']). '</td><td>';\n\t\t\t\n\t\t\t\t\tif ($revision['from'] == $revision['to']) {\n\t\t\t\t\t\t$html .= \\ze\\admin::phrase('Revision #[[to]]', $revision);\n\t\t\t\n\t\t\t\t\t} elseif ($revision['from'] == 0) {\n\t\t\t\t\t\t$revision['version'] = \\ze\\site::versionNumber();\n\t\t\t\t\t\t$html .= \\ze\\admin::phrase('Updates from [[version]]', $revision);\n\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$html .= \\ze\\admin::phrase('Revision #[[from]] through to Revision #[[to]]', $revision);\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t$html .= '</tr>';\n\t\t\t\t}\n\t\t\n\t\t\t\t$html .= '</table>';\n\t\t\t}\n\t\t\n\t\t\t$fields['1/updates']['snippet']['html'] = $html;\n\t\t\t$fields['1/updates']['hidden'] = false;\n\t\t} else {\n\t\t\t$fields['1/updates']['hidden'] = true;\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\t//Log the current admin out\n\t//Formerly \"logoutAdminAJAX()\"\n\tpublic static function logoutAdminAJAX(&$tags, $getRequest) {\n\t\t\\ze\\admin::unsetSession();\n\t\t$tags['_clear_local_storage'] = true;\n\t\t$tags['go_to_url'] = \\ze\\welcome::redirectAdmin($getRequest, true);\n\t}\n\n\t//Return the UNIX time, $offset ago, converted to a string\n\t//Formerly \"zenarioSecurityCodeTime()\"\n\tpublic static function securityCodeTime($offset = 0) {\n\t\treturn str_pad(time() - (int) $offset * 86400, 16, '0', STR_PAD_LEFT);\n\t}\n\n\t//This returns the name that the cookie for the security code should have.\n\t//This is in the form \"COOKIE_ADMIN_SECURITY_CODE_[[ADMIN_ID]]\"\n\t//Formerly \"zenarioSecurityCodeCookieName()\"\n\tpublic static function securityCodeCookieName() {\n\t\treturn 'COOKIE_ADMIN_SECURITY_CODE_'. \\ze::session('admin_userid');\n\t}\n\n\t//Get the value of the cookie above\n\t//Formerly \"zenarioSecurityCodeCookieValue()\"\n\tpublic static function securityCodeCookieValue() {\n\t\tif (isset($_COOKIE[\\ze\\welcome::securityCodeCookieName()])) {\n\t\t\treturn preg_replace('@[^-_=\\w]@', '', $_COOKIE[\\ze\\welcome::securityCodeCookieName()]);\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t}\n\n\t//Looks for a security code cookie with the above name,\n\t//then returns the corresponding name that a site setting should have.\n\t//This is in the form \"COOKIE_ADMIN_SECURITY_CODE_[[COOKIE_VALUE]]\", or\n\t//\"COOKIE_ADMIN_SECURITY_CODE_[[COOKIE_VALUE]]_[[IP_ADDRESS]]\", depending on\n\t//whether the apply_two_factor_authentication_by_ip option is set in the site_description.yaml file.\n\t//Formerly \"zenarioSecurityCodeSettingName()\"\n\tpublic static function securityCodeSettingName() {\n\t\n\t\tif ('' == ($sccn = \\ze\\welcome::securityCodeCookieValue())) {\n\t\t\t return false;\n\t\n\t\t} elseif (\\ze\\site::description('apply_two_factor_authentication_by_ip')) {\n\t\t\treturn 'COOKIE_ADMIN_SECURITY_CODE_'. $sccn. '_'. \\ze\\user::ip();\n\n\t\t} else {\n\t\t\treturn 'COOKIE_ADMIN_SECURITY_CODE_'. $sccn;\n\t\t}\n\t}\n\n\t//Remove very old security codes\n\t//(But keep ones that have recently expired, so we can show a different message to the admin on the login screen.)\n\t//Formerly \"zenarioTidySecurityCodes()\"\n\tpublic static function tidySecurityCodes() {\n\t\t$sql = \"\n\t\t\tDELETE FROM \". DB_PREFIX. \"admin_settings\n\t\t\tWHERE name LIKE 'COOKIE_ADMIN_SECURITY_CODE_%'\n\t\t\t  AND value < '\". \\ze\\escape::sql(\\ze\\welcome::securityCodeTime(2 * \\ze\\site::description('two_factor_authentication_timeout'))). \"'\";\n\t\t\\ze\\sql::update($sql, false, false);\n\t}\n\n\t//Formerly \"securityCodeAJAX()\"\n\tpublic static function securityCodeAJAX(&$source, &$tags, &$fields, &$values, $changes, &$task, $getRequest, $time) {\n\t\n\t\t$firstTimeHere = empty($_SESSION['COOKIE_ADMIN_SECURITY_CODE']);\n\t\t$resend = !empty($fields['security_code/resend']['pressed']);\n\t\t$tags['tabs']['security_code']['notices']['email_resent']['show'] = false;\n\t\t$tags['tabs']['security_code']['errors'] = [];\n\t\t\n\t\n\t\t//Handle the \"back to site\" button\n\t\tif (!empty($fields['security_code/previous']['pressed'])) {\n\t\t\t\\ze\\welcome::logoutAdminAJAX($tags, $getRequest);\n\t\t\treturn false;\n\t\n\t\t//If we've not sent the email yet, or the user presses the retry button, then send the email\n\t\t} elseif ($firstTimeHere || $resend) {\n\t\t\n\t\t\tif ($firstTimeHere) {\n\t\t\t\t$_SESSION['COOKIE_ADMIN_SECURITY_CODE'] = \\ze\\ring::randomFromSet(5, 'ABCDEFGHIJKLMNPPQRSTUVWXYZ');\n\t\t\t}\n\t\t\n\t\t\t$admin = \\ze\\row::get('admins', ['id', 'authtype', 'username', 'email', 'first_name', 'last_name'], $_SESSION['admin_userid'] ?? false);\n\t\t\n\t\t\t//Prepare email to the mail with the code\n\t\t\t$merge = [];\n\t\t\t$merge['NAME'] = \\ze::ifNull(trim($admin['first_name']. ' '. $admin['last_name']), $admin['username']);\n\t\t\t$merge['USERNAME'] = $admin['username'];\n\t\t\t$merge['URL'] = \\ze\\link::protocol(). $_SERVER['HTTP_HOST'];\n\t\t\t$merge['SUBDIRECTORY'] = SUBDIRECTORY;\n\t\t\t$merge['IP'] = preg_replace('[^W\\.\\:]', '', \\ze\\user::ip());\n\t\t\t$merge['CODE'] = $_SESSION['COOKIE_ADMIN_SECURITY_CODE'];\n\t\t\n\t\t\t$emailTemplate = 'security_code';\n\t\t\t$message = $source['email_templates'][$emailTemplate]['body'];\n\t\t\n\t\t\t$subject = $source['email_templates'][$emailTemplate]['subject'];\n\t\t\n\t\t\tforeach ($merge as $pattern => $replacement) {\n\t\t\t\t$subject = str_replace('[['. $pattern. ']]', $replacement, $subject);\n\t\t\t\t$message = str_replace('[['. $pattern. ']]', $replacement, $message);\n\t\t\t}\n\t\t\t\n\t\t\t$message = nl2br($message);\n\t\t\t$addressToOverriddenBy = false;\n\t\t\t\n\t\t\tif (\\ze\\module::inc('zenario_email_template_manager')) {\n\t\t\t\t\\zenario_email_template_manager::putBodyInTemplate($message);\n\t\t\t}\n\t\t\t\n\t\t\t$emailSent = \\ze\\server::sendEmail(\n\t\t\t\t$subject, $message,\n\t\t\t\t$admin['email'],\n\t\t\t\t$addressToOverriddenBy,\n\t\t\t\t$nameTo = $merge['NAME'],\n\t\t\t\t$addressFrom = false,\n\t\t\t\t$nameFrom = $source['email_templates'][$emailTemplate]['from'],\n\t\t\t\tfalse, false, false,\n\t\t\t\t$isHTML = true,\n\t\t\t\tfalse, false, false, false, '', '', 'To',\n\t\t\t\t$ignoreDebugMode = true); //Security codes should always be sent to the intended recipient,\n\t\t\t\t\t\t\t\t\t\t  //even if debug mode is on.\n\t\t\n\t\t\tif (!$emailSent) {\n\t\t\t\t$tags['tabs']['security_code']['errors'][] =\n\t\t\t\t\t\\ze\\admin::phrase('Warning! The system could not send an email. Please contact your server administrator.');\n\t\t\t\n\t\t\t} elseif ($resend) {\n\t\t\t\t$tags['tabs']['security_code']['notices']['email_resent']['show'] = true;\n\t\t\t}\n\t\n\t\t//Check the code if someone is trying to submit it\n\t\t} else\n\t\tif ((!empty($_SESSION['COOKIE_ADMIN_SECURITY_CODE']) && !empty($fields['security_code/submit']['pressed']) && ($code = $values['security_code/code']))\n\t\t || (isset($getRequest['verification_code']) && ($code = $getRequest['verification_code']))) {\n\t\t\n\t\t\tif ($code == '') {\n\t\t\t\t$tags['tabs']['security_code']['errors'][] =\n\t\t\t\t\t\\ze\\admin::phrase('Please enter the code that was sent to your email address.');\n\t\t\n\t\t\t} elseif (trim($code) !== $_SESSION['COOKIE_ADMIN_SECURITY_CODE']) {\n\t\t\t\t$tags['tabs']['security_code']['errors'][] =\n\t\t\t\t\t\\ze\\admin::phrase('The code you have entered is not correct.');\n\t\t\n\t\t\t} else {\n\t\t\t\n\t\t\t\t//If the code is correct, save a cookie...\n\t\t\t\t\\ze\\cookie::set(\n\t\t\t\t\t\\ze\\welcome::securityCodeCookieName(),\n\t\t\t\t\t\\ze\\ring::random(),\n\t\t\t\t\t(int) \\ze\\site::description('two_factor_authentication_timeout') * 86400);\n\t\t\t\n\t\t\t\t//...and an admin setting to remember it next time!\n\t\t\t\t$scsn = \\ze\\welcome::securityCodeSettingName();\n\t\t\t\t$time = \\ze\\welcome::securityCodeTime();\n\t\t\t\t\\ze\\admin::setSetting($scsn, $time);\n\t\t\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t$fields['security_code/not_seen_you']['hidden'] =\n\t\t$fields['security_code/not_seen_you_ip']['hidden'] =\n\t\t$fields['security_code/timeout']['hidden'] = \n\t\t$fields['security_code/timeout_ip']['hidden'] = true;\n\t\t\n\t\tif (\\ze\\site::description('apply_two_factor_authentication_by_ip')) {\n\t\t\tif ($time) {\n\t\t\t\t$fields['security_code/timeout_ip']['hidden'] = false;\n\t\t\t} else {\n\t\t\t\t$fields['security_code/not_seen_you_ip']['hidden'] = false;\n\t\t\t}\n\t\t} else {\n\t\t\tif ($time) {\n\t\t\t\t$fields['security_code/timeout']['hidden'] = false;\n\t\t\t} else {\n\t\t\t\t$fields['security_code/not_seen_you']['hidden'] = false;\n\t\t\t}\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\t//Formerly \"changePasswordAJAX()\"\n\tpublic static function changePasswordAJAX(&$source, &$tags, &$fields, &$values, $changes, &$task) {\n\t\n\t\t//Skip this screen if the Admin presses the \"Skip\" button\n\t\tif (!empty($fields['change_password/skip']['pressed'])) {\n\t\t\t\\ze\\admin::cancelPasswordChange($_SESSION['admin_userid'] ?? false);\n\t\t\n\t\t\tif ($task == 'change_password') {\n\t\t\t\t$task = 'password_changed';\n\t\t\t}\n\t\t\n\t\t\treturn true;\n\t\n\t\t//Change the password if the Admin presses the change password\n\t\t} elseif (!empty($fields['change_password/change_password']['pressed'])) {\n\t\t\t$details = [];\n\t\t\t$tags['tabs']['change_password']['errors'] = [];\n\t\t\t$currentPassword = $values['change_password/current_password']; \n\t\t\t$newPassword = $values['change_password/password']; \n\t\t\t$newPasswordConfirm = $values['change_password/re_password']; \n\t\t\n\t\t\tif (!$currentPassword) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('Please enter your current password.');\n\t\t\n\t\t\t} elseif (!\\ze\\ring::engToBoolean(\\ze\\admin::checkPassword($_SESSION['admin_username'] ?? false, $details, $currentPassword))) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('_MSG_PASS_WRONG');\n\t\t\t}\n\t\t\n\t\t\tif (!$newPassword) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('Please enter your new password.');\n\t\t\n\t\t\t} elseif ($newPassword == $currentPassword) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('_MSG_PASS_NOT_CHANGED');\n\t\t\n\t\t\t} elseif (!\\ze\\user::checkPasswordStrength($newPassword)['password_matches_requirements']) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('The password provided does not match the requirements.');\n\t\t\n\t\t\t} elseif (!$newPasswordConfirm) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('Please repeat your New Password.');\n\t\t\n\t\t\t} elseif ($newPassword != $newPasswordConfirm) {\n\t\t\t\t$tags['tabs']['change_password']['errors'][] = \\ze\\admin::phrase('_MSG_PASS_2');\n\t\t\t}\n\t\t\n\t\t\t//If no errors with validation, then save new password\n\t\t\tif (empty($tags['tabs']['change_password']['errors'])) {\n\t\t\t\t\\ze\\adminAdm::setPassword($_SESSION['admin_userid'] ?? false, $newPassword, 0);\n\t\t\t\n\t\t\t\tif ($task == 'change_password') {\n\t\t\t\t\t$task = 'password_changed';\n\t\t\t\t}\n\t\t\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\n\t\t$fields['change_password/password_message']['snippet']['html'] = self::passwordMessageSnippet($values['password']);\n\t\t$fields['change_password/password_requirements']['snippet']['html'] = \\ze\\admin::displayPasswordRequirementsNoteAdmin($fields['5/password']['current_value'] ?? false);\n\t\n\t\treturn false;\n\t}\n\t\n\tpublic static function newAdminAJAX(&$source, &$tags, &$fields, &$values, $changes, $task, $adminId) { \n\t\t//Set password if the Admin presses the save and login button\n\t\tif (!empty($fields['new_admin/save_password_and_login']['pressed'])) {\n\t\t\t$password = $values['new_admin/password'];\n\t\t\t$passwordConfirm = $values['new_admin/re_password'];\n\t\t\t\n\t\t\tif (!$password) {\n\t\t\t\t$tags['tabs']['new_admin']['errors'][] = \\ze\\admin::phrase('Please enter a password.');\n\t\t\t\t\n\t\t\t} elseif (!\\ze\\user::checkPasswordStrength($password)['password_matches_requirements']) {\n\t\t\t\t$tags['tabs']['new_admin']['errors'][] = \\ze\\admin::phrase('The password provided does not match the requirements.');\n\t\t\t\t\n\t\t\t} elseif (!$passwordConfirm) {\n\t\t\t\t$tags['tabs']['new_admin']['errors'][] = \\ze\\admin::phrase('Please repeat your Password.');\n\t\t\t\t\n\t\t\t} elseif ($password != $passwordConfirm) {\n\t\t\t\t$tags['tabs']['new_admin']['errors'][] = \\ze\\admin::phrase('_MSG_PASS_2');\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t//If no errors with validation, then save password and login\n\t\t\tif (empty($tags['tabs']['new_admin']['errors'])) {\n\t\t\t\t\\ze\\adminAdm::setPassword($adminId, $password, 0);\n\t\t\t\t\\ze\\admin::logIn($adminId);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t$fields['new_admin/password_message']['snippet']['html'] = self::passwordMessageSnippet($fields['new_admin/password']['current_value'] ?? false);\n\t\t$fields['new_admin/password_requirements']['snippet']['html'] = \\ze\\admin::displayPasswordRequirementsNoteAdmin($fields['new_admin/password']['current_value'] ?? false);\n\t\t\n\t\treturn false;\n\t}\n\n\t//Formerly \"diagnosticsAJAX()\"\n\tpublic static function diagnosticsAJAX(&$source, &$tags, &$fields, &$values, $changes, $task, $freshInstall) {\n\t\t\n\t\t$showContinueButton = true;\n\t\t$showCheckAgainButton = false;\n\t\t$showCheckAgainButtonIfDirsAreEditable = false;\n\t\n\t\t//If the directories aren't set at all, set them now so at least they're set to something\n\t\tif (!\\ze::setting('backup_dir')) {\n\t\t\t\\ze\\site::setSetting('backup_dir', \\ze\\dbAdm::suggestDir('backup'));\n\t\t}\n\t\tif (!\\ze::setting('docstore_dir')) {\n\t\t\t\\ze\\site::setSetting('docstore_dir', \\ze\\dbAdm::suggestDir('docstore'));\n\t\t}\n\t\n\t\n\t\t$fields['0/template_dir']['value']\t= $tdir = CMS_ROOT. 'zenario_custom/templates/grid_templates';\n\t\t$fields['0/cache_dir']['value']\t= CMS_ROOT. 'cache';\n\t\t$fields['0/private_dir']['value']\t= CMS_ROOT. 'private';\n\t\t$fields['0/public_dir']['value']\t= CMS_ROOT. 'public';\n\t    $fields['0/custom_dir']['value']\t= CMS_ROOT. 'zenario_custom';\n\t    \n\t\tif (!$values['0/backup_dir']) {\n\t\t\t$values['0/backup_dir'] = (string) \\ze::setting('backup_dir');\n\t\t}\n\t\n\t\tif (!$values['0/docstore_dir']) {\n\t\t\t$values['0/docstore_dir'] = (string) \\ze::setting('docstore_dir');\n\t\t}\n\t\n\t\n\t\t$fields['0/dirs']['row_class'] = 'section_valid';\n\t\n\t\n\t\t$mrg = [\n\t\t\t'dir' => $dir = $values['0/backup_dir'],\n\t\t\t'basename' => $dir? htmlspecialchars(basename($dir)) : ''];\n\t\n\t\tif (!$dir) {\n\t\t\t$fields['0/backup_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/backup_dir_status']['snippet']['html'] = \\ze\\admin::phrase('Please enter a directory.');\n\t\n\t\t} elseif (!@is_dir($dir)) {\n\t\t\t$fields['0/backup_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/backup_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> does not exist.', $mrg);\n\t\n\t\t} elseif (false !== \\ze\\ring::chopPrefix(realpath(CMS_ROOT), realpath($dir))) {\n\t\t\t$fields['0/backup_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/backup_dir_status']['snippet']['html'] = \\ze\\admin::phrase('Zenario is installed this directory. Please choose a different directory.', $mrg);\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable($dir)) {\n\t\t\t$fields['0/backup_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/backup_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> is not writable.', $mrg);\n\t\n\t\t} else {\n\t\t\t$fields['0/dir_1']['row_class'] = 'sub_section_valid';\n\t\t\t$fields['0/backup_dir_status']['row_class'] = 'sub_valid';\n\t\t\t$fields['0/backup_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> exists and is writable.', $mrg);\n\t\t}\n\t\n\t\n\t\t$mrg = [\n\t\t\t'dir' => $dir = $values['0/docstore_dir'],\n\t\t\t'basename' => $dir? htmlspecialchars(basename($dir)) : ''];\n\t\n\t\tif (!$dir) {\n\t\t\t$fields['0/docstore_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/docstore_dir_status']['snippet']['html'] = \\ze\\admin::phrase('Please enter a directory.');\n\t\n\t\t} elseif (!@is_dir($dir)) {\n\t\t\t$fields['0/docstore_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/docstore_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> does not exist.', $mrg);\n\t\n\t\t} elseif (false !== \\ze\\ring::chopPrefix(realpath(CMS_ROOT), realpath($dir))) {\n\t\t\t$fields['0/docstore_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/docstore_dir_status']['snippet']['html'] = \\ze\\admin::phrase('Zenario is installed this directory. Please choose a different directory.', $mrg);\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable($dir)) {\n\t\t\t$fields['0/docstore_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/docstore_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> is not writable.', $mrg);\n\t\n\t\t} else {\n\t\t\t$fields['0/dir_2']['row_class'] = 'sub_section_valid';\n\t\t\t$fields['0/docstore_dir_status']['row_class'] = 'sub_valid';\n\t\t\t$fields['0/docstore_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> exists and is writable.', $mrg);\n\t\t}\n\t\n\t\n\t\t//Check to see if the templates & grid templates directories exist,\n\t\t//and that the grid templates directory and all of the files inside are writable.\n\t\t//(A site setting can be set to stop this check.)\n\t\t$mrg = [\n\t\t\t'dir' => $dir = $tdir,\n\t\t\t'basename' => $dir? htmlspecialchars(basename($dir)) : ''];\n\t\n\t\tif (!is_dir($tdir)) {\n\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/template_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> does not exist.', $mrg);\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable($tdir)) {\n\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/template_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> is not writable.', $mrg);\n\n\t\t} else {\n\t\t\t$fileWritable = false;\n\t\t\t$fileNotWritable = false;\n\t\t\tforeach (scandir($tdir) as $sdir) {\n\t\t\t\tif (is_file($tdir. '/'. $sdir)) {\n\t\t\t\t\tif (is_writable($tdir. '/'. $sdir)) {\n\t\t\t\t\t\t$fileWritable = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ($fileNotWritable === false) {\n\t\t\t\t\t\t\t$fileNotWritable = $sdir;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$fileNotWritable = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tif ($fileNotWritable === true) {\n\t\t\t\tif ($fileWritable) {\n\t\t\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t\t\t$fields['0/template_dir_status']['snippet']['html'] = \\ze\\admin::phrase('Some of the files in the <code>[[basename]]</code> directory are not writable by the web server (e.g. use &quot;chmod 666 *.tpl.php *.css&quot;).', $mrg);\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t\t\t$fields['0/template_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The files in the <code>[[basename]]</code> directory are not writable by the web server, please make them writable (e.g. use &quot;chmod 666 *.tpl.php *.css&quot;).', $mrg);\n\t\t\t\t}\n\t\t\n\t\t\t} elseif ($fileNotWritable !== false) {\n\t\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t\t$fields['0/template_dir_status']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('<code>[[short_path]]</code> is not writable, please make it writable (e.g. use &quot;chmod 666 [[file]]&quot;).',\n\t\t\t\t\t\t['short_path' => htmlspecialchars('grid_templates/'. $fileNotWritable), 'file' => htmlspecialchars($fileNotWritable)]);\n\t\t\n\t\t\t} else {\n\t\t\t\t$fields['0/template_dir_status']['row_class'] = 'sub_valid';\n\t\t\t\t$fields['0/template_dir_status']['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[basename]]</code> exists and is writable.', $mrg);\n\t\t\t}\n\t\t}\n\t\n\t\t//Loop through all of the skins in the system (max 9) and check their editable_css directories\n\t\t$i = 0;\n\t\t$maxI = 9;\n\t\t$skinDirsValid = true;\n\t\tforeach (\\ze\\row::getAssocs(\n\t\t\t'skins',\n\t\t\t['family_name', 'name', 'display_name'],\n\t\t\t['missing' => 0, 'family_name' => 'grid_templates', 'enable_editable_css' => 1]\n\t\t) as $skin) {\n\t\t\tif ($i == $maxI) {\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\t++$i;\n\t\t\t}\n\t\t\n\t\t\t$skinWritableDir = CMS_ROOT. \\ze\\content::skinPath($skin['family_name'], $skin['name']). 'editable_css/';\n\t\t\n\t\t\t$tags['tabs'][0]['fields']['skin_dir_'. $i]['value'] =\n\t\t\t$tags['tabs'][0]['fields']['skin_dir_'. $i]['current_value'] = $skinWritableDir;\n\t\t\n\t\t\t$mrg = [\n\t\t\t\t'dir' => $dir = $tdir,\n\t\t\t\t'basename' => $dir? htmlspecialchars(basename($skinWritableDir)) : '',\n\t\t\t\t'2dir' => $dir? htmlspecialchars($skin['name']. '/editable_css') : ''\n\t\t\t];\n\t\t\n\t\t\tif (!is_dir($skinWritableDir)) {\n\t\t\t\t$skinDirsValid = false;\n\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_warning';\n\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[2dir]]</code> does not exist.', $mrg);\n\t\n\t\t\t} elseif (!\\ze\\welcome::directoryIsWritable($skinWritableDir)) {\n\t\t\t\t$skinDirsValid = false;\n\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_warning';\n\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[2dir]]</code> is not writable.', $mrg);\n\n\t\t\t} else {\n\t\t\t\t$fileWritable = false;\n\t\t\t\t$fileNotWritable = false;\n\t\t\t\tforeach (scandir($skinWritableDir) as $sdir) {\n\t\t\t\t\tif (is_file($skinWritableDir. '/'. $sdir)) {\n\t\t\t\t\t\tif (is_writable($skinWritableDir. '/'. $sdir)) {\n\t\t\t\t\t\t\t$fileWritable = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ($fileNotWritable === false) {\n\t\t\t\t\t\t\t\t$fileNotWritable = $sdir;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fileNotWritable = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tif ($fileNotWritable === true) {\n\t\t\t\t\tif ($fileWritable) {\n\t\t\t\t\t\t$skinDirsValid = false;\n\t\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_warning';\n\t\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] = \\ze\\admin::phrase('Some of the files in the <code>[[2dir]]</code> directory are not writable by the web server (e.g. use &quot;chmod 666 *.css&quot;).', $mrg);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$skinDirsValid = false;\n\t\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_warning';\n\t\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] = \\ze\\admin::phrase('The files in the <code>[[2dir]]</code> directory are not writable by the web server, please make them writable (e.g. use &quot;chmod 666 *.css&quot;).', $mrg);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t} elseif ($fileNotWritable !== false) {\n\t\t\t\t\t$skinDirsValid = false;\n\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_warning';\n\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] =\n\t\t\t\t\t\t\\ze\\admin::phrase('<code>[[short_path]]</code> is not writable, please make it writable (e.g. use &quot;chmod 666 [[file]]&quot;).',\n\t\t\t\t\t\t\t['short_path' => htmlspecialchars('editable_css/'. $fileNotWritable), 'file' => htmlspecialchars($fileNotWritable)]);\n\t\t\n\t\t\t\t} else {\n\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['row_class'] = 'sub_valid';\n\t\t\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $i]['snippet']['html'] = \\ze\\admin::phrase('The directory <code>[[2dir]]</code> exists and is writable.', $mrg);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t$fields['0/dir_4']['hidden'] =\n\t\t$fields['0/show_dir_4']['hidden'] =\n\t\t$fields['0/dir_4_blurb']['hidden'] = $i == 0;\n\t\n\t\tfor ($j = 0; $j <= $maxI; ++$j) {\n\t\t\t$tags['tabs'][0]['fields']['skin_dir_'. $j]['hidden'] =\n\t\t\t$tags['tabs'][0]['fields']['skin_dir_status_'. $j]['hidden'] = $j > $i;\n\t\t}\n\t\n\t\tif ($i == 1) {\n\t\t\t$fields['0/dir_4_blurb']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('CSS for plugins may be edited by an administrator, and Zenario writes CSS files to the following directory. Please ensure it exists and is writable by the web server:');\n\t\t} elseif ($i > 1) {\n\t\t\t$fields['0/dir_4_blurb']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('CSS for plugins may be edited by an administrator, and Zenario writes CSS files to the following directories. Please ensure they exist and are writable by the web server:');\n\t\t}\n\t\n\t\tif (!is_dir(CMS_ROOT. 'cache')) {\n\t\t\t$fields['0/cache_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/cache_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;cache&quot; directory does not exist.');\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable(CMS_ROOT. 'cache')) {\n\t\t\t$fields['0/cache_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/cache_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;cache&quot; directory is not writable.');\n\t\n\t\t} else {\n\t\t\t$fields['0/dir_5']['row_class'] = 'sub_section_valid';\n\t\t\t$fields['0/cache_dir_status']['row_class'] = 'sub_valid';\n\t\t\t$fields['0/cache_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;cache&quot; directory exists and is writable.');\n\t\t}\n\t\n\t\tif (!is_dir(CMS_ROOT. 'private')) {\n\t\t\t$fields['0/private_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/private_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;private&quot; directory does not exist.');\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable(CMS_ROOT. 'private')) {\n\t\t\t$fields['0/private_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/private_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;private&quot; directory is not writable.');\n\t\n\t\t} else {\n\t\t\t$fields['0/dir_6']['row_class'] = 'sub_section_valid';\n\t\t\t$fields['0/private_dir_status']['row_class'] = 'sub_valid';\n\t\t\t$fields['0/private_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;private&quot; directory exists and is writable.');\n\t\t}\n\t\n\t\tif (!is_dir(CMS_ROOT. 'public')) {\n\t\t\t$fields['0/public_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/public_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;public&quot; directory does not exist.');\n\t\n\t\t} elseif (!\\ze\\welcome::directoryIsWritable(CMS_ROOT. 'public')) {\n\t\t\t$fields['0/public_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/public_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;public&quot; directory is not writable.');\n\t\n\t\t} else {\n\t\t\t$fields['0/dir_7']['row_class'] = 'sub_section_valid';\n\t\t\t$fields['0/public_dir_status']['row_class'] = 'sub_valid';\n\t\t\t$fields['0/public_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;public&quot; directory exists and is writable.');\n\t\t}\n\n\t\t$statusLines = [];\n\t    if (!is_dir(CMS_ROOT. 'zenario_custom')) {\n\t\t\t$fields['0/custom_dir_status']['row_class'] = 'sub_invalid';\n\t\t\t$fields['0/custom_dir_status']['snippet']['html'] =\n\t\t\t\t\\ze\\admin::phrase('The &quot;zenario_custom&quot; directory does not exist.');\n\t\n\t\t} elseif (exec('svn status '. escapeshellarg(CMS_ROOT. 'zenario_custom'), $statusLines) && !empty($statusLines)) {\n            $skinCustomDirsValid = false;\n            $fields['0/custom_dir_status']['row_class'] = 'sub_warning';\n            $fields['0/custom_dir_status']['snippet']['html'] =\n                \\ze\\admin::phrase('The &quot;zenario_custom&quot; directory has uncommitted changes in svn.');\n        } else {\n            $skinCustomDirsValid = true;\n            $fields['0/custom_dir_status']['row_class'] = 'sub_valid';\n            $fields['0/custom_dir_status']['snippet']['html'] =\n                \\ze\\admin::phrase('The &quot;zenario_custom&quot; directory exists and all the files are committed in svn.');\n        }\n\t   \n\t\tif ($fields['0/backup_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButtonIfDirsAreEditable =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_1']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_1']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t\n\t\tif ($fields['0/docstore_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButtonIfDirsAreEditable =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_2']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_2']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t\n\t\tif ($fields['0/template_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_3']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_3']['row_class'] = 'sub_section_invalid';\n\t\t} else {\n\t\t\t$fields['0/dir_3']['row_class'] = 'sub_section_valid';\n\t\t}\n\t\n\t\tif ($fields['0/cache_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_5']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_5']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t\n\t\tif ($fields['0/private_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_6']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_6']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t\n\t\tif ($fields['0/public_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_7']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_7']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t    \n\t\tif (!$skinDirsValid) {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_4']['pressed'] = true;\n\t\t\tif ($fields['0/dirs']['row_class'] != 'section_invalid') {\n\t\t\t\t$fields['0/dirs']['row_class'] = 'section_warning';\n\t\t\t}\n\t\t\t$fields['0/dir_4']['row_class'] = 'sub_section_warning';\n\t\t} else {\n\t\t\t$fields['0/dir_4']['row_class'] = 'sub_section_valid';\n\t\t}\n\t\t\n\t\t//skins for custom directory warnings\n\t\tif ($fields['0/custom_dir_status']['row_class'] == 'sub_invalid') {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_8']['pressed'] = true;\n\t\t\t$fields['0/dirs']['row_class'] = 'section_invalid';\n\t\t\t$fields['0/dir_8']['row_class'] = 'sub_section_invalid';\n\t\t}\n\t    else if (!$skinCustomDirsValid) {\n\t\t\t$showCheckAgainButton =\n\t\t\t$fields['0/show_dirs']['pressed'] =\n\t\t\t$fields['0/show_dir_8']['pressed'] = true;\n\t\t\tif ($fields['0/dirs']['row_class'] != 'section_invalid') {\n\t\t\t\t$fields['0/dirs']['row_class'] = 'section_warning';\n\t\t\t}\n\t\t\t$fields['0/dir_8']['row_class'] = 'sub_section_warning';\n\t\t} else {\n\t\t    $fields['0/dirs']['row_class'] = 'section_valid';\n\t\t\t$fields['0/dir_8']['row_class'] = 'sub_section_valid';\n\t\t}\n\t\t$fields['0/site']['row_class'] = 'section_valid';\n\t\t$fields['0/content']['row_class'] = 'section_valid';\n\t\t$fields['0/administrators']['row_class'] = 'section_valid';\n\t\n\t\t//Don't show the \"site\" section yet if we've just finished an install\n\t\tif ($freshInstall\n\t\t || $task == 'install'\n\t\t || !\\ze\\row::exists('languages', [])) {\n\t\t\tforeach ($tags['tabs'][0]['fields'] as $fieldName => &$field) {\n\t\t\t\tif (!empty($field['hide_on_install'])) {\n\t\t\t\t\t$field['hidden'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t} else {\n\t\t\t\n\t\t\t//\n\t\t\t// Go through all of the checks in the site configuration section\n\t\t\t//\n\t\t\t\n\t\t\t$show_warning = false;\n\t\t\t$show_error = false;\n\t\t\n\t\t\tif (!\\ze::setting('site_enabled')) {\n\t\t\t\t\n\t\t\t\t$mrg = ['link' => htmlspecialchars('zenario/admin/organizer.php#zenario__administration/panels/site_settings//site_disabled~.zenario_enable_site~tsite~k{\"id\"%3A\"site_disabled\"}')];\n\t\t\t\t\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/site_disabled']['row_class'] = 'warning';\n\t\t\t\t$fields['0/site_disabled']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('Your site is not enabled, so visitors will not be able to see it. Please go to <a href=\"[[link]]\" target=\"_blank\"><em>Site disabled</em></a> in Site Settings to change this.', $mrg);\n\t\t\t} else {\n\t\t\t\t$fields['0/site_disabled']['row_class'] = 'valid';\n\t\t\t\t$fields['0/site_disabled']['snippet']['html'] = \\ze\\admin::phrase('Your site is enabled.');\n\t\t\t}\t\n\t\t\t\n\t\t\t$errors = $exampleFile = false;\n\t\t\t\\ze\\document::checkAllPublicLinks($forceRemake = false, $errors, $exampleFile);\n\t\t\tif ($errors) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/public_documents']['row_class'] = 'warning';\n\t\t\t\t$fields['0/public_documents']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::nPhrase('There is a problem with the public link for [[exampleFile]] and 1 other document. Please check your docstore and public/downloads directory for possible permission problems.',\n\t\t\t\t\t\t'There is a problem with the public link for [[exampleFile]] and [[count]] other documents. Please check your docstore and public/downloads directory for possible permission problems.',\n\t\t\t\t\t\tabs($errors - 1), ['exampleFile' => $exampleFile],\n\t\t\t\t\t\t'There is a problem with the public link for the document [[exampleFile]]. Please check your docstore and public/downloads directory for possible permission problems.'\n\t\t\t\t\t);\n\t\t\n\t\t\t} else {\n\t\t\t\t$fields['0/public_documents']['row_class'] = 'valid';\n\t\t\t\t$fields['0/public_documents']['hidden'] = true;\n\t\t\t}\n\t\t\n\t\t\t$warnings = \\ze\\welcome::getBackupWarnings();\n\t\t\t$fields['0/site_automated_backups']['row_class'] = $warnings['row_class'];\n\t\t\t$fields['0/site_automated_backups']['hidden'] = isset($warnings['hidden']) ? $warnings['hidden'] : false;\n\t\t\tif (isset($warnings['snippet']['html'])) {\n\t\t\t\t$fields['0/site_automated_backups']['snippet']['html'] = $warnings['snippet']['html'];\n\t\t\t}\n\t\t\t$show_warning = !empty($warnings['show_warning']);\n\t\t\t\n\t\t\t//Check if the scheduled task manager is running\n\t\t\tif (!\\ze\\module::inc('zenario_scheduled_task_manager')) {\n\t\t\t\t$fields['0/scheduled_task_manager']['row_class'] = 'valid';\n\t\t\t\t$fields['0/scheduled_task_manager']['hidden'] = true;\n\t\t\n\t\t\t} elseif (!\\zenario_scheduled_task_manager::checkScheduledTaskRunning($jobName = false, $checkPulse = false)) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/scheduled_task_manager']['row_class'] = 'warning';\n\t\t\t\t$fields['0/scheduled_task_manager']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('The Scheduled Tasks Manager is installed, but the master switch is not enabled.');\n\t\t\n\t\t\t} elseif (!\\zenario_scheduled_task_manager::checkScheduledTaskRunning($jobName = false, $checkPulse = true)) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/scheduled_task_manager']['row_class'] = 'warning';\n\t\t\t\t$fields['0/scheduled_task_manager']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('The Scheduled Tasks Manager is installed, but not correctly configured in your crontab.');\n\t\t\t\n\t\t\t} else {\n\t\t\t\t$fields['0/scheduled_task_manager']['row_class'] = 'valid';\n\t\t\t\t$fields['0/scheduled_task_manager']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('The Scheduled Tasks Manager is running.');\n\t\t\t}\n\t\t\t\n\t\t\t//Check for a missing site description file.\n\t\t\tif (!is_file(CMS_ROOT. 'zenario_custom/site_description.yaml')) {\n\t\t\t\t$show_error = true;\n\t\t\t\t$showCheckAgainButton = true;\n\t\t\t\t$fields['0/site_description_missing']['row_class'] = 'invalid';\n\t\t\t} else {\n\t\t\t\t//Note: only show this message if it's in the error state; hide it otherwise\n\t\t\t\t$fields['0/site_description_missing']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t//Check for a missing or unreadable .htaccess file\n\t\t\tif (is_readable(CMS_ROOT . '.htaccess')) {\n\t\t\t\t$fields['0/htaccess_unavailable']['hidden'] = true;\n\t\t\t\tif (!\\ze::setting('mod_rewrite_enabled')) {\n\t\t\t\t\t$fields['0/friendly_urls_disabled']['row_class'] = 'warning';\n\t\t\t\t} else {\n\t\t\t\t\t$fields['0/friendly_urls_disabled']['hidden'] = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$fields['0/htaccess_unavailable']['row_class'] = 'warning';\n\t\t\t\t$fields['0/htaccess_unavailable']['snippet']['html'] = \\ze\\admin::phrase('The .htaccess file cannot be read or is missing.');\n\t\t\t\t\n\t\t\t\t$fields['0/friendly_urls_disabled']['hidden'] = true;\n\t\t\t}\n\t\t\n\t\t\t//Check to see if there are spare domains without a primary domain\n\t\t\tif (!\\ze::setting('primary_domain') && \\ze\\row::exists('spare_domain_names', [])) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/spare_domains_without_primary_domain']['row_class'] = 'warning';\n\t\t\t} else {\n\t\t\t\t//Note: only show this message if it's in the error state; hide it otherwise\n\t\t\t\t$fields['0/spare_domains_without_primary_domain']['hidden'] = true;\n\t\t\t}\n\t\t\n\t\t\t//Check IP forwarding is either off, or on and working correctly\n\t\t\tif (defined('USE_FORWARDED_IP')\n\t\t\t && constant('USE_FORWARDED_IP')\n\t\t\t && empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/forwarded_ip_misconfigured']['row_class'] = 'warning';\n\t\t\t} else {\n\t\t\t\t//Note: only show this message if it's in the error state; hide it otherwise\n\t\t\t\t$fields['0/forwarded_ip_misconfigured']['hidden'] = true;\n\t\t\t}\n\t\t\n\t\t\t//Check to see if this is a developer installation...\n\t\t\t$fields['0/notices_shown']['hidden'] = true;\n\t\t\t$fields['0/errors_not_shown']['hidden'] = true;\n\t\t\n\t\t\tif (\\ze\\site::inDevMode()) {\n\t\t\t\n\t\t\t\t//Check to see if any developers are not showing errors/warnings\n\t\t\t\t//Note: only show this message if it's in the error state; hide it otherwise\n\t\t\t\tif (!(ERROR_REPORTING_LEVEL & E_ALL)\n\t\t\t\t || !(ERROR_REPORTING_LEVEL & E_NOTICE)\n\t\t\t\t || !(ERROR_REPORTING_LEVEL & E_STRICT)) {\n\t\t\t\t\t$show_warning = true;\n\t\t\t\t\t$fields['0/errors_not_shown']['hidden'] = false;\n\t\t\t\t\t$fields['0/errors_not_shown']['row_class'] = 'warning';\n\t\t\t\t}\n\t\t\t\n\t\t\t\t////Check to see if any developers are missing the debug_override_enable setting\n\t\t\t\t//if (!\\ze::setting('debug_override_enable')) {\n\t\t\t\t//\t$show_warning = true;\n\t\t\t\t//\t$fields['0/email_addresses_not_overridden']['row_class'] = 'warning';\n\t\t\t\t//} else {\n\t\t\t\t//\t//Note: only show this message if it's in the error state; hide it otherwise\n\t\t\t\t//\t$fields['0/email_addresses_not_overridden']['hidden'] = true;\n\t\t\t\t//}\n\t\t\t} else {\n\t\t\t\t//$fields['0/email_addresses_not_overridden']['hidden'] = true;\n\t\t\t\n\t\t\t\t//Reverse of the above;\n\t\t\t\t//Warn production sites that level a high level of error reporting on\n\t\t\t\tif ((ERROR_REPORTING_LEVEL & E_NOTICE)\n\t\t\t\t || (ERROR_REPORTING_LEVEL & E_STRICT)) {\n\t\t\t\t\t$show_warning = true;\n\t\t\t\t\t$fields['0/notices_shown']['hidden'] = false;\n\t\t\t\t\t$fields['0/notices_shown']['row_class'] = 'warning';\n\t\t\t\t}\n\t\t\t\n\t\t\t}\n\t\t\n\t\t\t//Check to see if production sites have the debug_override_enable setting enabled\n\t\t\tif (\\ze::setting('debug_override_enable')) {\n\t\t\t\t$mrg = [\n\t\t\t\t\t'email' => htmlspecialchars(\\ze::setting('debug_override_email_address')),\n\t\t\t\t\t'link' => htmlspecialchars('zenario/admin/organizer.php#zenario__administration/panels/site_settings//email~.site_settings~tdebug~k{\"id\"%3A\"email\"}')];\n\t\t\t\t\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/email_addresses_overridden']['row_class'] = 'warning';\n\t\t\t\t$fields['0/email_addresses_overridden']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('You have &ldquo;Email debug mode&rdquo; enabled in <a href=\"[[link]]\" target=\"_blank\"><em>Email</em></a> in Site Settings. Email sent by this site will be redirected to &quot;[[email]]&quot;.', $mrg);\n\t\t\t} else {\n\t\t\t\t$fields['0/email_addresses_overridden']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t//Check for missing modules\n\t\t\t$missingModules = [];\n\t\t\tforeach(\\ze\\row::getAssocs('modules', ['class_name', 'display_name'], ['status' => 'module_running'], 'class_name') as $module) {\n\t\t\t\tif (!\\ze::moduleDir($module['class_name'], 'module_code.php', true)) {\n\t\t\t\t\t$missingModules[$module['class_name']] = \\ze\\admin::phrase('[[display_name|escape]] (<code>[[class_name|escape]]</code>)', $module);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (!$fields['0/missing_modules']['hidden'] = empty($missingModules)) {\n\t\t\t\t$show_error = true;\n\t\t\t\t$fields['0/missing_modules']['row_class'] = 'invalid';\n\t\t\t\t$fields['0/missing_modules']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('Files for the following modules are missing:').\n\t\t\t\t\t'<ul><li>'.\n\t\t\t\t\t\timplode('</li><li>', $missingModules).\n\t\t\t\t\t'</li></ul>';\n\t\t\t}\n\t\t\n\t\t\t$badSymlinks = [];\n\t\t\tif (is_dir($dir = CMS_ROOT. 'zenario_extra_modules/')) {\n\t\t\t\tforeach (scandir($dir) as $mDir) {\n\t\t\t\t\tif ($mDir != '.'\n\t\t\t\t\t && $mDir != '..'\n\t\t\t\t\t && ($rp = realpath($dir. $mDir))\n\t\t\t\t\t && (rtrim($dir. $mDir, '/') != rtrim($rp, '/'))\n\t\t\t\t\t && ($rp = dirname($rp))\n\t\t\t\t\t && (is_dir($rp. '/zenario') || ($rp = dirname($rp)))\n\t\t\t\t\t && (is_dir($rp. '/zenario') || ($rp = dirname($rp)))\n\t\t\t\t\t && (is_dir($rp = $rp. '/zenario/admin/db_updates/copy_over_top_check/'))\n\t\t\t\t\t && (!file_exists($rp. ZENARIO_MAJOR_VERSION. '.'. ZENARIO_MINOR_VERSION. '.txt'))) {\n\t\t\t\t\t\n\t\t\t\t\t\t$badSymlinks[] = $mDir;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tif (!$fields['0/bad_extra_module_symlinks']['hidden'] = empty($badSymlinks)) {\n\t\t\t\t$fields['0/bad_extra_module_symlinks']['row_class'] = 'invalid';\n\t\t\t\t$show_error = true;\n\t\t\t\t$showContinueButton = false;\n\t\t\t\n\t\t\t\t$mrg = ['module' => array_pop($badSymlinks), 'version' => ZENARIO_MAJOR_VERSION. '.'. ZENARIO_MINOR_VERSION];\n\t\t\t\tif (empty($badSymlinks)) {\n\t\t\t\t\t$fields['0/bad_extra_module_symlinks']['snippet']['html'] =\n\t\t\t\t\t\t\\ze\\admin::phrase('The <code>[[module]]</code> symlink in the <code>zenario_extra_modules/</code> directory is linked to the wrong version of Zenario. It should be linked to version [[version]].', $mrg);\n\t\t\t\t} else {\n\t\t\t\t\t$mrg['modules'] = implode('</code>, <code>', $badSymlinks);\n\t\t\t\t\t$fields['0/bad_extra_module_symlinks']['snippet']['html'] =\n\t\t\t\t\t\t\\ze\\admin::phrase('The <code>[[modules]]</code> and <code>[[module]]</code> symlinks in the <code>zenario_extra_modules/</code> directory are linked to the wrong version of Zenario. They should be linked to version [[version]].', $mrg);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t$moduleErrors = '';\n\t\t\t\\ze\\dbAdm::checkIfUpdatesAreNeeded($moduleErrors, $andDoUpdates = false);\n\t\t\n\t\t\tif (!$fields['0/module_errors']['hidden'] = !$moduleErrors) {\n\t\t\t\t$show_error = true;\n\t\t\t\t$fields['0/module_errors']['row_class'] = 'invalid';\n\t\t\t\t$fields['0/module_errors']['snippet']['html'] = nl2br(htmlspecialchars($moduleErrors));\n\t\t\t}\n\t\t\t\n\t\t\t$storesUserData = \\ze\\row::exists(\n\t\t\t\t'modules', [\n\t\t\t\t\t'status' => ['module_running', 'module_suspended'],\n\t\t\t\t\t'class_name' => ['zenario_extranet', 'zenario_users', 'zenario_user_forms']\n\t\t\t\t]\n\t\t\t);\n\t\t\t\n\t\t\t//Check if extranet sites have two-factor authentication enabled\n\t\t\t$warnAboutThis = \n\t\t\t\t!\\ze\\site::description('enable_two_factor_authentication_for_admin_logins')\n\t\t\t\t&& $storesUserData;\n\t\t\t\n\t\t\tif (!$fields['0/two_factor_security']['hidden'] = !$warnAboutThis) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/two_factor_security']['row_class'] = 'warning';\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//Check a site accepts password without SSL\n\t\t\t$warnAboutThis = \n\t\t\t\t!\\ze\\link::isHttps()\n\t\t\t && \\ze\\row::exists('modules', [\n\t\t\t\t\t'status' => ['module_running', 'module_suspended'],\n\t\t\t\t\t'class_name' => 'zenario_extranet'\n\t\t\t\t]);\n\t\t\t\n\t\t\tif (!$fields['0/no_ssl_for_login']['hidden'] = !$warnAboutThis) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/no_ssl_for_login']['row_class'] = 'warning';\n\t\t\t}\n\t\t\t\n\t\t\t//Check if extranet sites use SSL\n\t\t\t$warnAboutThis = \n\t\t\t\t!\\ze\\site::description('enable_two_factor_authentication_for_admin_logins')\n\t\t\t\t&& $storesUserData;\n\t\t\t\n\t\t\tif (!$fields['0/two_factor_security']['hidden'] = !$warnAboutThis) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/two_factor_security']['row_class'] = 'warning';\n\t\t\t}\n\t\t\t\n\t\t\t//Get any public pages which have plugins that must be on a private page (e.g. change password)\n\t\t\tif ($privatePagesWithPluginsThatMustBeOnPublicPage = \\ze\\contentAdm::getContentItemsWithPluginsThatMustBeOnPublicOrPrivatePage('private_page')) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/plugin_must_be_on_private_page_error']['hidden'] = false;\n\t\t\t\t$fields['0/plugin_must_be_on_private_page_error']['row_class'] = 'warning';\n\t\t\t\t$fields['0/plugin_must_be_on_private_page_error']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::nPhrase('This content item is public, but contains one or more plugins which must be on a private page:[[listOfContentItems]]',\n\t\t\t\t\t\t\t'These content items are public, but contain one or more plugins which must be on a private page:[[listOfContentItems]]',\n\t\t\t\t\t\t\tcount($privatePagesWithPluginsThatMustBeOnPublicPage),\n\t\t\t\t\t\t\t['listOfContentItems' => implode('<br>', $privatePagesWithPluginsThatMustBeOnPublicPage)]);\n\t\t\t} else {\n\t\t\t\t$fields['0/plugin_must_be_on_private_page_error']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t//Get any private pages which have plugins that must be on a public page (e.g. change password)\n\t\t\tif ($publicPagesWithPluginsThatMustBeOnPrivatePage = \\ze\\contentAdm::getContentItemsWithPluginsThatMustBeOnPublicOrPrivatePage('public_page')) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/plugin_must_be_on_public_page_error']['hidden'] = false;\n\t\t\t\t$fields['0/plugin_must_be_on_public_page_error']['row_class'] = 'warning';\n\t\t\t\t$fields['0/plugin_must_be_on_public_page_error']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::nPhrase('This content item is private, but contains one or more plugins which must be on a public page:[[listOfContentItems]]',\n\t\t\t\t\t\t\t'These content items are private, but contain one or more plugins which must be on a public page:[[listOfContentItems]]',\n\t\t\t\t\t\t\tcount($publicPagesWithPluginsThatMustBeOnPrivatePage),\n\t\t\t\t\t\t\t['listOfContentItems' => implode('<br>', $publicPagesWithPluginsThatMustBeOnPrivatePage)]);\n\t\t\t} else {\n\t\t\t\t$fields['0/plugin_must_be_on_public_page_error']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t//If company key exists, and users module is running, show a warning if the consent table is not encrypted\n\t\t\t$warnAboutThis = \\ze\\zewl::checkConfIsOkay() && $storesUserData;\n\t\t\tif ($warnAboutThis) {\n\t\t\t\t\n\t\t\t\t$encryptedColumns = ['ip_address', 'email', 'first_name', 'last_name'];\n\t\t\t\t$unencryptedColumns = [];\n\t\t\t\tforeach ($encryptedColumns as $column) {\n\t\t\t\t\tif (!\\ze::$dbL->columnIsHashed('consents', $column)) {\n\t\t\t\t\t\t$unencryptedColumns[] = '<code>' . $column . '</code>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($unencryptedColumns) {\n\t\t\t\t\t$show_warning = true;\n\t\t\t\t\t$fields['0/consent_table_encrypted']['row_class'] = 'warning';\n\t\t\t\t\t\n\t\t\t\t\t$fields['0/consent_table_encrypted']['snippet']['html'] = \n\t\t\t\t\t\t\\ze\\admin::phrase('The following columns should be encrypted and hashed in the table <code>consents</code>: [[columns]].', ['columns' => implode(', ', $unencryptedColumns)]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//Otherwise, hide the warning.\n\t\t\t\t$fields['0/consent_table_encrypted']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t//Check if site contains user/contact data unencrypted\n\t\t\t$warnAboutThis =(bool)(!\\ze::$dbL->columnIsEncrypted('users', 'first_name') && !\\ze::$dbL->columnIsEncrypted('users', 'last_name') && !\\ze::$dbL->columnIsEncrypted('users', 'email') && !\\ze::$dbL->columnIsEncrypted('users', 'identifier'));\n\t\t\t\n\t\t\tif (!$fields['0/unencrypted_data']['hidden'] = !$warnAboutThis) {\n\t\t\t\t\n\t\t\t\t$sql = \"\n\t\t\t\t\tSELECT count(*) as numberOfRecordsUnencrypted\n\t\t\t\t\tFROM \". DB_PREFIX. \"users\";\n\t\t\t\t$numberOfRecordsUnencrypted = \\ze\\sql::fetchAssoc($sql);\n\t\t\t\tif($numberOfRecordsUnencrypted['numberOfRecordsUnencrypted'] > 0){\n\t\t\t\t    $textForNumber = '';\n\t\t\t\t    if($numberOfRecordsUnencrypted['numberOfRecordsUnencrypted'] == 1){\n\t\t\t\t        $textForNumber = \"User/Contact\";\n\t\t\t\t      \n\t\t\t\t    }else {\n\t\t\t\t        $textForNumber = \"Users/Contacts\";\n\t\t\t\t    }    \n\n\t\t\t\t   \n\t\t\t\t    $numberOfRecordsUnencrypted[\"textForNumber\"] = $textForNumber;\n\t\t\t\t    \\ze\\lang::applyMergeFields($fields['0/unencrypted_data'][\"snippet\"][\"html\"], $numberOfRecordsUnencrypted);\n\t\t\t\t    $show_warning = true;\n\t\t\t\t    $fields['0/unencrypted_data']['row_class'] = 'warning';\n\t\t\t\t} else {\n\t\t\t\t\t//If a site contains no user records, don't show the warning.\n\t\t\t\t\t$fields['0/unencrypted_data']['hidden'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//Check if site contains user/contact data encrypted and corresponding plain text column does not exist\n\t\t\t$userColumns = [];\n\t\t\t$fields['0/column_not_found']['hidden'] = true;\n\t\t\tif(\\ze::$dbL->columnIsEncrypted('users', 'first_name')|| \\ze::$dbL->columnIsHashed('users', 'first_name')){\n\t\t\t    $q= \\ze\\sql::select(\"SHOW COLUMNS FROM \".DB_PREFIX.\"users LIKE '%first_name'\" );\n\t            if($q){\n                    $columns = [];\n\t                while($row =\\ze\\sql::fetchAssoc($q)){\n\t                   if($row['Field'] == '%first_name' || $row['Field'] == 'first_name'){\n\t                        $columns[]= $row;\n\t                    }\n\t                }\n\t                if(count($columns) == 1){\n\t                \n\t                    $userColumns[] =  '<code>'.'first_name'.'</code>';\n\t                }\n\t            }\n\t\t\t}\n\t\t\t\n\t\t\tif(\\ze::$dbL->columnIsEncrypted('users', 'last_name') || \\ze::$dbL->columnIsHashed('users', 'last_name')){\n\t\t\t    $q= \\ze\\sql::select(\"SHOW COLUMNS FROM \".DB_PREFIX.\"users LIKE '%last_name'\" );\n\t            if($q){\n                    $columns = [];\n\t                while($row =\\ze\\sql::fetchAssoc($q)){\n\t                   if($row['Field'] == '%last_name' || $row['Field'] == 'last_name'){\n\t                        $columns[]= $row;\n\t                    }\n\t                }\n\t                \n\t                if(count($columns) == 1){\n\t                \n\t                    $userColumns[] =  '<code>'.'last_name'.'</code>';\n\t                }\n\t            }\n\t\t\t}\n\t\t\t\n\t\t\tif(\\ze::$dbL->columnIsEncrypted('users', 'email') || (\\ze::$dbL->columnIsHashed('users', 'email'))){\n\t\t\t    $q= \\ze\\sql::select(\"SHOW COLUMNS FROM \".DB_PREFIX.\"users LIKE '%email'\" );\n\t            if($q){\n                    $columns = [];\n\t                while($row =\\ze\\sql::fetchAssoc($q)){\n\t                   if($row['Field'] == '%email' || $row['Field'] == 'email'){\n\t                        $columns[]= $row;\n\t                    }\n\t                }\n\t                \n\t                if(count($columns) == 1){\n\t                \n\t                    $userColumns[] =  '<code>'.'email'.'</code>';\n\t                }\n\t            }\n\t            \n\t\t\t}\n\t\t\t\n\t\t\tif(\\ze::$dbL->columnIsEncrypted('users', 'identifier') || \\ze::$dbL->columnIsHashed('users', 'identifier')){\n\t\t\t    $q= \\ze\\sql::select(\"SHOW COLUMNS FROM \".DB_PREFIX.\"users LIKE '%identifier'\" );\n\t            if($q){\n                    $columns = [];\n\t                while($row =\\ze\\sql::fetchAssoc($q)){\n\t                   if($row['Field'] == '%identifier' || $row['Field'] == 'identifier'){\n\t                        $columns[]= $row;\n\t                    }\n\t                }\n\t                if(count($columns) == 1){\n\t                \n\t                    $userColumns[] =  '<code>'.'identifier'.'</code>';\n\t                }\n\t            }\n\t            \n\t\t\t}\n\t\t\t\n\t\t\tif(count($userColumns)>=1){\n\t            $fields['0/column_not_found']['row_class'] = 'warning';\n\t            $show_warning = true;\n\t            $fields['0/column_not_found']['hidden'] = false;\n                $fields['0/column_not_found']['snippet']['html'] = \\ze\\admin::phrase('The following columns are encrypted/ hashed but their corresponding plain text columns are missing: [[columns]].', ['columns' => implode(', ', $userColumns)]);\n\t        }\n\t        \n\t\t\t//Do some basic checks on the robots.txt file\n\t\t\t$robotsDotTextError = false;\n\t\t\tif (!file_exists(CMS_ROOT. 'robots.txt')) {\n\t\t\t\t$robotsDotTextError =\n\t\t\t\t\t\\ze\\admin::phrase('The <code>robots.txt</code> file for this site is missing.');\n\t\t\t\n\t\t\t} elseif ($robotsDotTextContents = self::getTrimmedFileContents(CMS_ROOT. 'robots.txt')) {\n\t\t\t\t$robotsFileLink = 'robots.txt';\n\t\t\t\tif (strpos($robotsDotTextContents, ' User-agent:* Disallow:/ ') !== false) {\n\t\t\t\t\t$robotsDotTextError =\n\t\t\t\t\t\t\\ze\\admin::phrase(\"This site has a <code>robots.txt</code> that is blocking search engine indexing. <a href=\".$robotsFileLink.\" target='_blank'>View robots.txt file</a>\");\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\n\t\t\t\t\tif (($standardRobotsDotTextContents = self::getTrimmedFileContents(CMS_ROOT. 'zenario/includes/test_files/default_robots.txt'))\n\t\t\t\t\t && ($standardRobotsDotTextContents != $robotsDotTextContents)) {\n\t\t\t\t\t\t$robotsDotTextError =\n\t\t\t\t\t\t\t\\ze\\admin::phrase(\"This site has a <code>robots.txt</code> that has non-standard modifications. <a href=\".$robotsFileLink.\" target='_blank'>View robots.txt file</a>\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (!$fields['0/robots_txt']['hidden'] = !$robotsDotTextError) {\n\t\t\t\t$show_warning = true;\n\t\t\t\t$fields['0/robots_txt']['row_class'] = 'warning';\n\t\t\t\t$fields['0/robots_txt']['snippet']['html'] = $robotsDotTextError;\n\t\t\t}\n\t\t\t\n\t\t\t/**Check if there aren't any unknown files in the public html directory.\n\t\t\tThis is to let us know when, for example, someone has left a script or sql backup in the public_html dir and forgot to remove it.\n\t\t\tChecks for the following types:\n\t\t\t\t.7z\n\t\t\t\t.csv\n\t\t\t\t.gtar\n\t\t\t\t.gz\n\t\t\t\t.sql\n\t\t\t\t.tar\n\t\t\t\t.tgz\n\t\t\t\t.zip\n\t\t\t\tany executables\n\t\t\t\tany unrecognised files\n\t\t\t*/\n\t\t\n\t\t\t$publicHtmlFolderContents = scandir(CMS_ROOT);\n\t\t\t$unknownFiles = [];\n\t\t\tforeach ($publicHtmlFolderContents as $file) {\n\t\t\t\tif (is_file($file)) {\n\t\t\t\t\t$fileParts = pathinfo($file);\n\t\t\t\t\n\t\t\t\t\t//Ignore hidden files that start with a . (like .htaccess)\n\t\t\t\t\tif ($fileParts['filename'] === ''\n\t\t\t\t\t\t//Ignore .php files\n\t\t\t\t\t || $fileParts['extension'] === 'php'\n\t\t\t\t\t\t//Ignore .lock files (e.g. generated from a package builder)\n\t\t\t\t\t || $fileParts['extension'] === 'lock'\n\t\t\t\t\t\t//Ignore the alternate .htaccess files\n\t\t\t\t\t || $fileParts['extension'] === 'htaccess') {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\tif (!\\ze\\file::isAllowed($file) || \\ze\\file::isArchive($fileParts['extension'])) {\n\t\t\t\t\t\t$unknownFiles[] = $file;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ($count = count($unknownFiles)) {\n\t\t\t\t$unknownFiles = implode(', ', $unknownFiles);\n\t\t\t\t$fields['0/unknown_files_in_zenario_root_directory']['row_class'] = 'warning';\n\t\t\t\t$fields['0/unknown_files_in_zenario_root_directory']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::nphrase('There is an unknown file in the Zenario root directory: [[files]]. Please remove this if possible.', 'There are [[count]] unknown files in the Zenario root directory: [[files]]. Please remove them if possible.', $count, ['files' => $unknownFiles]);\n\t\t\t} else {\n\t\t\t\t//If there are no unknown files, hide the warning.\n\t\t\t\t$fields['0/unknown_files_in_zenario_root_directory']['hidden'] = true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif ($show_error) {\n\t\t\t\t$fields['0/show_site']['pressed'] = true;\n\t\t\t\t$fields['0/site']['row_class'] = 'section_invalid';\n\t\t\n\t\t\t} elseif ($show_warning) {\n\t\t\t\t$fields['0/show_site']['pressed'] = true;\n\t\t\t\t$fields['0/site']['row_class'] = 'section_warning';\n\t\t\t}\n\t\t\t\n\t\t\t//\n\t\t\t// Go through all of the checks in the site content section\n\t\t\t//\n\t\t\t\n\t\t\t$show_warning = false;\n\t\t\t$show_error = false;\n\t\t\t\n\t\t\t$fields['0/content_unpublished_1']['row_class'] =\n\t\t\t$fields['0/content_unpublished_2']['row_class'] =\n\t\t\t$fields['0/content_unpublished_3']['row_class'] =\n\t\t\t$fields['0/content_unpublished_4']['row_class'] =\n\t\t\t$fields['0/content_unpublished_5']['row_class'] =\n\t\t\t$fields['0/content_more_unpublished']['row_class'] =\n\t\t\t$fields['0/content_nothing_unpublished']['row_class'] = 'valid';\n\t\t\t$fields['0/content_unpublished_1']['hidden'] =\n\t\t\t$fields['0/content_unpublished_2']['hidden'] =\n\t\t\t$fields['0/content_unpublished_3']['hidden'] =\n\t\t\t$fields['0/content_unpublished_4']['hidden'] =\n\t\t\t$fields['0/content_unpublished_5']['hidden'] =\n\t\t\t$fields['0/content_more_unpublished']['hidden'] = true;\n\t\t\t$fields['0/content_nothing_unpublished']['hidden'] = false;\n\t\t\n\t\t\t$sql = \"\n\t\t\t\tSELECT c.id, c.type, c.alias, c.language_id, c.status, v.creating_author_id AS creator, v.last_author_id AS last_author, v.created_datetime, v.last_modified_datetime\n\t\t\t\tFROM \". DB_PREFIX. \"content_items AS c\n\t\t\t\tINNER JOIN \". DB_PREFIX. \"content_item_versions AS v\n\t\t\t\t   ON c.id = v.id\n\t\t\t\t  AND c.type = v.type\n\t\t\t\t  AND c.admin_version = v.version\n\t\t\t\tWHERE c.status IN ('first_draft','published_with_draft','hidden_with_draft','trashed_with_draft')\n\t\t\t\tORDER BY last_modified_datetime DESC\";\n\t\t\t\n\t\t\t$result = \\ze\\sql::select($sql);\n\t\t\t\n\t\t\tif ($rowCount = \\ze\\sql::numRows($result)) {\n\t\t\t\t$fields['0/content_nothing_unpublished']['hidden'] = true;\n\t\t\t\t$show_warning = true;\n\t\t\t\t$i = 0;\n\t\t\t\twhile ($row = \\ze\\sql::fetchAssoc($result)) {\n\t\t\t\t\t\n\t\t\t\t\tif (++$i > 5) {\n\t\t\t\t\t\t$row['link'] = 'zenario/admin/organizer.php#zenario__content/panels/content/refiners/work_in_progress////';\n\t\t\t\t\t\t\n\t\t\t\t\t\t$fields['0/content_more_unpublished']['hidden'] = false;\n\t\t\t\t\t\t$fields['0/content_more_unpublished']['row_class'] = 'warning';\n\t\t\t\t\t\t$fields['0/content_more_unpublished']['snippet']['html'] =\n\t\t\t\t\t\t\t\\ze\\admin::nPhrase('[[count]] other page is in draft mode. <a target=\"blank\" href=\"[[link]]\">View...</a>',\n\t\t\t\t\t\t\t\t'[[count]] other pages are in draft mode. <a target=\"blank\" href=\"[[link]]\">View...</a>',\n\t\t\t\t\t\t\t\tabs($rowCount - 5), $row);\n\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$row['tag'] = htmlspecialchars(\\ze\\content::formatTag($row['id'], $row['type'], $row['alias'], $row['language_id']));\n\t\t\t\t\t\t$row['link'] = htmlspecialchars(\\ze\\link::toItem($row['id'], $row['type'], true));\n\t\t\t\t\t\t$row['class'] = 'organizer_item_image '. \\ze\\contentAdm::getItemIconClass($row['id'], $row['type'], true, $row['status']);\n\t\t\t\n\t\t\t\t\t\t//If a content item has ever been edited, show last modified date and admin who modified it, but not created date...\n\t\t\t\t\t\tif ($row['last_modified_datetime']) {\n\t\t\t\t\t\t\t$item['unpublished_content_info'] =\n\t\t\t\t\t\t\t\t\\ze\\admin::phrase('Last edit [[time]] by [[admin]].', [\n\t\t\t\t\t\t\t\t\t'time' => \\ze\\date::relative($row['last_modified_datetime']),\n\t\t\t\t\t\t\t\t\t'admin' => \\ze\\admin::formatName($row['last_author'])\n\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//... otherwise, show created date and admin who created it.\n\t\t\t\t\t\t\t$item['unpublished_content_info'] =\n\t\t\t\t\t\t\t\t\\ze\\admin::phrase('Created [[time]] by [[admin]].', [\n\t\t\t\t\t\t\t\t\t'time' => \\ze\\date::relative($row['created_datetime']),\n\t\t\t\t\t\t\t\t\t'admin' => \\ze\\admin::formatName($row['creator'])\n\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t}\n                \n\t\t\t\t\t\t$specialPageUnpublishedMessage = (\\ze\\content::isSpecialPage($row['id'], $row['type'])) ? \\ze\\admin::phrase('<br />This page is a special page and it should be published.') : \"\";\n\t\t\t\t\t\t$fields['0/content_unpublished_'. $i]['hidden'] = false;\n\t\t\t\t\t\t$fields['0/content_unpublished_'. $i]['row_class'] = ''; //Don't display warning triangle icons for unpublished items anymore. Deleting this line will show a green tick icon.\n\t\t\t\t\t\t$fields['0/content_unpublished_'. $i]['snippet']['html'] =\n\t\t\t\t\t\t\t\\ze\\admin::phrase('<a target=\"blank\" href=\"[[link]]\"><span class=\"[[class]]\"></span>[[tag]]</a> is in draft mode.', $row) . $specialPageUnpublishedMessage.'<br/>'.$item['unpublished_content_info'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ($show_error) {\n\t\t\t\t$fields['0/show_content']['pressed'] = true;\n\t\t\t\t$fields['0/content']['row_class'] = 'section_invalid';\n\t\t\n\t\t\t} elseif ($show_warning) {\n\t\t\t\t$fields['0/show_content']['pressed'] = true;\n\t\t\t\t$fields['0/content']['row_class'] = 'section_warning';\n\t\t\t}\n\t\t\t\n\t\t\t//\n\t\t\t// Go through all of the checks in the administrators section\n\t\t\t//\n\t\t\t\n\t\t\t//Admin must have this permission to view administrator activity warnings\n\t\t\tif (\\ze\\priv::check('_PRIV_VIEW_ADMIN')) {\n\t\t\t\n\t\t\t\t$show_warning = false;\n\t\t\t\t$show_error = false;\n\t\t\t\n\t\t\t\t$fields['0/administrator_inactive_1']['row_class'] = \n\t\t\t\t$fields['0/administrator_inactive_2']['row_class'] = \n\t\t\t\t$fields['0/administrator_inactive_3']['row_class'] = \n\t\t\t\t$fields['0/administrator_inactive_4']['row_class'] = \n\t\t\t\t$fields['0/administrator_inactive_5']['row_class'] = \n\t\t\t\t$fields['0/administrator_more_inactive']['row_class'] = \n\t\t\t\t$fields['0/administrators_active']['row_class'] = 'valid';\n\t\t\t\t$fields['0/administrator_inactive_1']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_2']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_3']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_4']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_5']['hidden'] = \n\t\t\t\t$fields['0/administrator_more_inactive']['hidden'] = true;\n\t\t\t\t$fields['0/administrators_active']['hidden'] = false;\n\t\t\t\t\n\t\t\t\t$days = \\ze\\admin::getDaysBeforeAdminsAreInactive();\n\t\t\t\t$fields['0/administrators_active']['snippet']['html'] = \\ze\\admin::phrase('No administrator has been inactive for over [[count]] days.', ['count' => $days]);\n\t\t\t\t\n\t\t\t\t$sql = '\n\t\t\t\t\tSELECT id, username, last_login, created_date\n\t\t\t\t\tFROM ' . DB_PREFIX . 'admins\n\t\t\t\t\tWHERE authtype = \\'local\\'\n\t\t\t\t\t  AND `status` = \\'active\\'\n\t\t\t\t\tORDER BY last_login';\n\t\t\t\t$result = \\ze\\sql::select($sql);\n\t\t\t\t$inactiveAdminCount = 0;\n\t\t\t\twhile ($row = \\ze\\sql::fetchAssoc($result)) {\n\t\t\t\t\tif (\\ze\\admin::isInactive($row['id'])) {\n\t\t\t\t\t\tif (!$show_warning) {\n\t\t\t\t\t\t\t$show_warning = true;\n\t\t\t\t\t\t\t$fields['0/administrators_active']['hidden'] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (++$inactiveAdminCount <= 5) {\n\t\t\t\t\t\t\t$row['link'] = 'zenario/admin/organizer.php#zenario__users/panels/administrators//' . $row['id'];\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t$fields['0/administrator_inactive_'. $inactiveAdminCount]['hidden'] = false;\n\t\t\t\t\t\t\t$fields['0/administrator_inactive_'. $inactiveAdminCount]['row_class'] = 'warning';\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ($row['last_login']) {\n\t\t\t\t\t\t\t\t$row['days'] = floor((strtotime('now') - strtotime($row['last_login'])) / 60 / 60 / 24);\n\t\t\t\t\t\t\t\t$row['last_login_date'] = \\ze\\admin::formatDate($row['last_login'], '_MEDIUM');\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t$fields['0/administrator_inactive_'. $inactiveAdminCount]['snippet']['html'] =\n\t\t\t\t\t\t\t\t\t\\ze\\admin::phrase(\"<a target='blank' href='[[link]]'>[[username]]</a> hasn't logged in since [[last_login_date]], [[days]] days ago.\", $row);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$row['created_date'] = \\ze\\admin::formatDate($row['created_date'], '_MEDIUM');\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t$fields['0/administrator_inactive_'. $inactiveAdminCount]['snippet']['html'] =\n\t\t\t\t\t\t\t\t\t\\ze\\admin::phrase(\"<a target='blank' href='[[link]]'>[[username]]</a> was created on [[created_date]] and has never logged in.\", $row);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($inactiveAdminCount > 5) {\n\t\t\t\t\t$merge = ['link' => 'zenario/admin/organizer.php#zenario__users/panels/administrators'];\n\t\t\t\t\n\t\t\t\t\t$fields['0/administrator_more_inactive']['hidden'] = false;\n\t\t\t\t\t$fields['0/administrator_more_inactive']['row_class'] = 'warning';\n\t\t\t\t\t$fields['0/administrator_more_inactive']['snippet']['html'] =\n\t\t\t\t\t\t\\ze\\admin::nPhrase('1 other administrator is inactive. <a target=\"blank\" href=\"[[link]]\">View...</a>',\n\t\t\t\t\t\t\t'[[count]] other administrators are inactive. <a target=\"blank\" href=\"[[link]]\">View...</a>',\n\t\t\t\t\t\t\tabs($inactiveAdminCount - 5), $merge);\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif ($show_error) {\n\t\t\t\t\t$fields['0/show_administrators']['pressed'] = true;\n\t\t\t\t\t$fields['0/administrators']['row_class'] = 'section_invalid';\n\t\t\n\t\t\t\t} elseif ($show_warning) {\n\t\t\t\t\t$fields['0/show_administrators']['pressed'] = true;\n\t\t\t\t\t$fields['0/administrators']['row_class'] = 'section_warning';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$fields['0/administrators']['hidden'] = \n\t\t\t\t$fields['0/show_administrators']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_1']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_2']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_3']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_4']['hidden'] = \n\t\t\t\t$fields['0/administrator_inactive_5']['hidden'] = \n\t\t\t\t$fields['0/administrator_more_inactive']['hidden'] =\n\t\t\t\t$fields['0/administrators_active']['hidden'] = true;\n\t\t\t}\n\t\t\t$fields['0/default_timezone_not_set']['hidden'] = true;\n\t\t\tif (\\ze\\module::inc('zenario_timezones')) {\n                if(\\ze::setting('zenario_timezones__default_timezone') == \"\"){\n                    $fields['0/default_timezone_not_set']['row_class'] = 'warning';\n                    $fields['0/default_timezone_not_set']['hidden'] = false;\n                    $mrg = ['link' => htmlspecialchars('zenario/admin/organizer.php#zenario__administration/panels/site_settings//date_and_time~.site_settings~ttimezone_settings~k{\"id\"%3A\"date_and_time\"}')];\n\t\t\t\t\n\t\t\t\t    $show_warning = true; \n\t\t\t\t    $fields['0/default_timezone_not_set']['snippet']['html'] =\n\t\t\t\t\t\\ze\\admin::phrase('The default timezone is not set in site settings. Please go to <a href=\"[[link]]\" target=\"_blank\"><em>Date and Time</em></a> in Site Settings to change this.', $mrg);\n\t\t\t    }\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\t//Strip any trailing slashes off of a directory path\n\t\t$values['0/backup_dir'] = preg_replace('/[\\\\\\\\\\\\/]+$/', '', $values['0/backup_dir']);\n\t\t$values['0/docstore_dir'] = preg_replace('/[\\\\\\\\\\\\/]+$/', '', $values['0/docstore_dir']);\n\t\n\t\t//On multisite sites, don't allow local Admins to change the directory paths\n\t\tif (\\ze\\db::hasGlobal() && !($_SESSION['admin_global_id'] ?? false)) {\n\t\t\t$_SESSION['zenario_installer_disallow_changes_to_dirs'] = true;\n\t\n\t\t//Only allow changes to the directories if they were not correctly set to start with\n\t\t} elseif (!isset($_SESSION['zenario_installer_disallow_changes_to_dirs'])) {\n\t\t\t$_SESSION['zenario_installer_disallow_changes_to_dirs'] =\n\t\t\t\t$fields['0/backup_dir_status']['row_class'] == 'sub_valid'\n\t\t\t && $fields['0/docstore_dir_status']['row_class'] == 'sub_valid';\n\t\t}\n\t\n\t\tif ($_SESSION['zenario_installer_disallow_changes_to_dirs']) {\n\t\t\t$fields['0/backup_dir']['readonly'] = true;\n\t\t\t$fields['0/docstore_dir']['readonly'] = true;\n\t\n\t\t} else {\n\t\t\tif ($fields['0/backup_dir_status']['row_class'] == 'sub_valid') {\n\t\t\t\t\\ze\\site::setSetting('backup_dir', $values['0/backup_dir']);\n\t\t\t}\n\t\t\n\t\t\tif ($fields['0/docstore_dir_status']['row_class'] == 'sub_valid') {\n\t\t\t\t\\ze\\site::setSetting('docstore_dir', $values['0/docstore_dir']);\n\t\t\t}\n\t\t}\n\t\n\t\t\\ze\\welcome::systemRequirementsAJAX($source, $tags, $fields, $values, $changes, $isDiagnosticsPage = true);\n\t\n\t\t$everythingIsOkay =\n\t\t\t$fields['0/dirs']['row_class'] == 'section_valid'\n\t\t && $fields['0/site']['row_class'] == 'section_valid'\n\t\t && $fields['0/content']['row_class'] == 'section_valid'\n\t\t && $fields['0/administrators']['row_class'] = 'section_valid'\n\t\t && $fields['0/system_requirements']['row_class'] == 'section_valid';\n\t\n\t\tif (!$everythingIsOkay) {\n\t\t\t$showCheckAgainButton = true;\n\t\t}\n\t\n\t\t//In some cases, if something is so bad, hide the continue button.\n\t\t$fields['0/continue']['hidden'] =\n\t\t\t!$showContinueButton;\n\t\t\n\t\t//If all of the directory info valid (or uneditable due to not being a super-admin),\n\t\t//only show one button as there is nothing to save or recheck\n\t\t$fields['0/check_again']['hidden'] =\n\t\t\t$showContinueButton\n\t\t && !$showCheckAgainButton\n\t\t && (!$showCheckAgainButtonIfDirsAreEditable || $_SESSION['zenario_installer_disallow_changes_to_dirs']);\n\t\t\n\t\t$wasFirstViewing = $tags['key']['first_viewing'];\n\t\t$tags['key']['first_viewing'] = false;\n\t\n\t\t//If everything is valid, do not show this screen unless it was shown previously,\n\t\t//or the admin specificly requested it by clicking on the stethoscope button\n\t\tif ($everythingIsOkay && $wasFirstViewing) {\n\t\t\tif ($task != 'diagnostics') {\n\t\t\t\tunset($_SESSION['zenario_installer_disallow_changes_to_dirs']);\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\t//Don't show all of the toggles closed to start with, if everything is green\n\t\t\t\t//open the \"Site configuration\" and \"Site content\" sections by default in this case.\n\t\t\t\t$fields['0/show_site']['pressed'] = true;\n\t\t\t\t$fields['0/show_content']['pressed'] = true;\n\t\t\t}\n\t\t}\n\t\n\t\t//Continue on from this step if the \"Continue\" button is pressed\n\t\tif (!empty($fields['0/continue']['pressed'])) {\n\t\t\tunset($_SESSION['zenario_installer_disallow_changes_to_dirs']);\n\t\t\treturn true;\n\t\n\t\t} else {\n\t\t\t//If the Admin has pressed the \"Save and Continue\" button...\n\t\t\tif (!empty($fields['0/check_again']['pressed'])) {\n\t\t\t\t//If the directory section is valid, also don't show this screen unless it was shown previously\n\t\t\t\tif ($fields['0/dirs']['row_class'] == 'section_valid'\n\t\t\t\t && empty($fields['0/check_again']['pressed'])) {\n\t\t\t\t\tunset($_SESSION['zenario_installer_disallow_changes_to_dirs']);\n\t\t\t\t\treturn true;\n\t\t\t\n\t\t\t\t//Otherwise shake the screen\n\t\t\t\t} else {\n\t\t\t\t\t$tags['shake'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tpublic static function getTrimmedFileContents($path) {\n\t\t\n\t\tif ($contents = @file_get_contents($path)) {\n\t\t\treturn preg_replace('@[\\n\\r]+@', ' ', preg_replace('@[^\\S\\n\\r]@', '', \"\\n\". $contents. \"\\n\"));\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//Formerly \"protectBackupAndDocstoreDirsIfPossible()\"\n\tpublic static function protectBackupAndDocstoreDirsIfPossible() {\n\t\tforeach ([\\ze::setting('backup_dir'), \\ze::setting('docstore_dir')] as $dir) {\n\t\t\tif ($dir\n\t\t\t && is_dir($dir)\n\t\t\t && is_writeable($dir)\n\t\t\t && !file_exists($file = $dir. '/.htaccess')) {\n\t\t\t\t@file_put_contents($file, \n'Options -Indexes\n\n<IfModule mod_rewrite.c>\n\tRewriteEngine On\n\tRewriteRule .* - [F,NC]\n</IfModule>'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t//Formerly \"licenseExpiryDate()\"\n\tpublic static function licenseExpiryDate($file) {\n\t\t$return = false;\n\t\n\t\tif ($f = fopen($file, 'r')) {\n\t\t\tif (($expires = trim(fgets($f)))\n\t\t\t && ($expires = explode('Expires: ', $expires, 2))\n\t\t\t && (!empty($expires[1]))) {\n\t\t\t\t$return = $expires[1];\n\t\t\t}\n\t\t\tfclose($f);\n\t\t}\n\t\n\t\treturn $return;\n\t}\n\n\t//Formerly \"congratulationsAJAX()\"\n\tpublic static function congratulationsAJAX(&$source, &$tags, &$fields, &$values, $changes) {\n\t\t$fields['0/link']['snippet']['html'] =\n\t\t\t'<a href=\"'. \\ze\\link::protocol(). $_SERVER['HTTP_HOST']. SUBDIRECTORY. '\">'. \\ze\\link::protocol(). $_SERVER['HTTP_HOST']. SUBDIRECTORY. '</a>';\n\t}\n\n\t//Formerly \"redirectAdmin()\"\n\tpublic static function redirectAdmin($getRequest, $forceAliasInAdminMode = false) {\n\t\t\n\t\t$cID = $cType = $redirectNeeded = $aliasInURL = false;\n\t\tif (!empty($getRequest)) {\n\t\t\t\\ze\\content::resolveFromRequest($cID, $cType, $redirectNeeded, $aliasInURL, $getRequest, $getRequest, []);\n\t\t}\n\t\t\n\t\t$domain = ($forceAliasInAdminMode || !\\ze\\priv::check())? \\ze\\link::primaryDomain() : \\ze\\link::adminDomain();\n\t\n\t\tif (!empty($getRequest['og']) && \\ze\\priv::check()) {\n\t\t\treturn\n\t\t\t\t'zenario/admin/organizer.php'.\n\t\t\t\t(isset($getRequest['fromCID']) && isset($getRequest['fromCType'])? '?fromCID='. $getRequest['fromCID']. '&fromCType='. $getRequest['fromCType'] : '').\n\t\t\t\t'#'. $getRequest['og'];\n\t\t\n\t\t} elseif (!empty($getRequest['desturl']) && \\ze\\priv::check()) {\n\t\t\treturn \\ze\\link::protocol(). $domain. $getRequest['desturl'];\n\t\t\n\t\t}\n\t\t\n\t\tif (!$cID && !empty($_SESSION['destCID'])) {\n\t\t\t$cID = $_SESSION['destCID'];\n\t\t\t$cType = $_SESSION['destCType'] ?? 'html';\n\t\t}\n\t\n\t\tif ($cID && \\ze\\content::checkPerm($cID, $cType)) {\n\t\t\n\t\t\tunset($getRequest['task'], $getRequest['cID'], $getRequest['cType'], $getRequest['cVersion'], $getRequest['verification_code']);\n\t\t\n\t\t\treturn \\ze\\link::toItem($cID, $cType, true, http_build_query($getRequest), false, false, $forceAliasInAdminMode);\n\t\t} else {\n\t\t\treturn (DIRECTORY_INDEX_FILENAME ?: SUBDIRECTORY);\n\t\t}\n\t}\n\n\n\t//Formerly \"lastAutomatedBackupTimestamp()\"\n\tpublic static function lastAutomatedBackupTimestamp($automated_backup_log_path = false) {\n\t\t$backup = \\ze\\welcome::lastAutomatedBackup($automated_backup_log_path);\n\t\tif ($backup) {\n\t\t\t$datetime = new \\DateTime($backup[0]);\n\t\t\treturn $datetime->getTimestamp();\n\t\t}\n\t\treturn 0;\n\t}\n\n\tpublic static function lastAutomatedBackup($automated_backup_log_path = false) {\n\t\tif ($automated_backup_log_path === false) {\n\t\t\t$automated_backup_log_path = \\ze::setting('automated_backup_log_path');\n\t\t}\n\t\n\t\t//Attempt to get the date of the last backup from\n\t\t$timestamp = 0;\n\t\t$latestLineValues = false;\n\t\tini_set('auto_detect_line_endings', true);\n\t\tif ($f = fopen($automated_backup_log_path, 'r')) {\n\t\t\twhile ($line = fgets($f)) {\n\t\t\t\tif (trim($line) != ''\n\t\t\t\t && ($lineValues = str_getcsv($line))\n\t\t\t\t && ($lineValues[0])\n\t\t\t\t && ($lineValues[2]? DBNAME == $lineValues[2] : DBNAME == $lineValues[1])\n\t\t\t\t && ($time = new \\DateTime($lineValues[0]))\n\t\t\t\t && ($timestamp < $time->getTimestamp())) {\n\t\t\t\t\t$timestamp = $time->getTimestamp();\n\t\t\t\t\t$latestLineValues = $lineValues;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn $latestLineValues;\n\t}\n\n    //Used on Diagnostics screen\n    public static function getBackupWarnings() {\n        $mrg = [\n\t\t\t\t'DBNAME' => DBNAME,\n\t\t\t\t'path' => \\ze::setting('automated_backup_log_path'),\n\t\t\t\t'link' => htmlspecialchars('zenario/admin/organizer.php#zenario__administration/panels/site_settings//dirs~.site_settings~tautomated_backups~k{\"id\"%3A\"dirs\"}'),\n\t\t\t\t'manageAutomatedBackupLink' => htmlspecialchars('zenario/admin/organizer.php#zenario__administration/panels/site_settings//dirs')];\n        $warnings = [];\n        if (!\\ze::setting('check_automated_backups')) {\n            $warnings['row_class'] = 'valid';\n            $warnings['hidden'] = true;\n\n        } elseif (!\\ze::setting('automated_backup_log_path')) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n            $warnings['snippet']['html'] =\n                \\ze\\admin::phrase('Automated backup monitoring is not set up. Please go to <a href=\"[[link]]\" target=\"_blank\"><em>Backups and document storage</em></a> in Site Settings to change this. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>', $mrg);\n\n        } elseif (!is_file(\\ze::setting('automated_backup_log_path'))) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n             $warnings['snippet']['html'] =\n                \\ze\\admin::phrase('Automated backup monitoring is not running properly: the log file ([[path]]) could not be found. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>', $mrg);\n\n        } elseif (!is_readable(\\ze::setting('automated_backup_log_path'))) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n            $warnings['snippet']['html']=\n                \\ze\\admin::phrase('Automated backup monitoring is not running properly: the log file ([[path]]) exists but could not be read. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>', $mrg);\n\n        } else {\n            //Attempt to get the date of the last backup from\n            $timestamp = \\ze\\welcome::lastAutomatedBackupTimestamp();\n    \n            if (!$timestamp) {\n                $warnings['show_warning'] = true;\n                $warnings['row_class']= 'warning';\n                $warnings['snippet']['html'] =\n                    \\ze\\admin::phrase('This site is not being backed-up using the automated process: database [[DBNAME]] was not listed in [[path]]. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>', $mrg);\n    \n            } else {\n                $days = (int) floor((time() - (int) $timestamp) / 86400);\n        \n                if ($days >= (int) \\ze::setting('automated_backup_days')) {\n                    $warnings['show_warning'] = true;\n                    $warnings['row_class']= 'warning';\n                    $warnings['snippet']['html'] =\n                        \\ze\\admin::nPhrase('Automated backups have not been run in the last day. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>',\n                            'Automated backups have not been run in [[days]] days. <a href=\"[[manageAutomatedBackupLink]]\" target=\"_blank\">Manage automated backups</a>',\n                            $days, ['days' => $days, 'manageAutomatedBackupLink' => $mrg['manageAutomatedBackupLink']]);\n\n                } else {\n                    $warnings['row_class'] = 'valid';\n                    $warnings['snippet']['html']=\n                        \\ze\\admin::phrase(\"Automated backups are running.\");\n                }\n            }\n        }\n\t\treturn $warnings;\n    }\n    \n    //Used in \"Backups and document storage\" Site Setting FAB.\n    public static function getBackupWarningsWithoutHtmlLinks() {\n        $mrg = [\n\t\t\t\t'DBNAME' => DBNAME,\n\t\t\t\t'path' => \\ze::setting('automated_backup_log_path')];\n        $warnings = [];\n        if (!\\ze::setting('check_automated_backups')) {\n            $warnings['row_class'] = 'valid';\n            $warnings['hidden'] = true;\n\n        } elseif (!\\ze::setting('automated_backup_log_path')) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n            $warnings['snippet']['html'] =\n                \\ze\\admin::phrase('Automated backup monitoring is not set up.', $mrg);\n\n        } elseif (!is_file(\\ze::setting('automated_backup_log_path'))) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n             $warnings['snippet']['html'] =\n                \\ze\\admin::phrase('Automated backup monitoring is not running properly: the log file ([[path]]) could not be found.', $mrg);\n\n        } elseif (!is_readable(\\ze::setting('automated_backup_log_path'))) {\n            $warnings['show_warning'] = true;\n            $warnings['row_class'] = 'warning';\n            $warnings['snippet']['html']=\n                \\ze\\admin::phrase('Automated backup monitoring is not running properly: the log file ([[path]]) exists but could not be read.', $mrg);\n\n        } else {\n            //Attempt to get the date of the last backup from\n            $timestamp = \\ze\\welcome::lastAutomatedBackupTimestamp();\n    \n            if (!$timestamp) {\n                $warnings['show_warning'] = true;\n                $warnings['row_class']= 'warning';\n                $warnings['snippet']['html'] =\n                    \\ze\\admin::phrase('This site is not being backed-up using the automated process: database [[DBNAME]] was not listed in [[path]].', $mrg);\n    \n            } else {\n                $days = (int) floor((time() - (int) $timestamp) / 86400);\n        \n                if ($days >= (int) \\ze::setting('automated_backup_days')) {\n                    $warnings['show_warning'] = true;\n                    $warnings['row_class']= 'warning';\n                    $warnings['snippet']['html'] =\n                        \\ze\\admin::nPhrase('Automated backups have not been run in the last day.',\n                            'Automated backups have not been run in [[days]] days.',\n                            $days, ['days' => $days]);\n\n                } else {\n                    $warnings['row_class'] = 'valid';\n                    $warnings['snippet']['html']=\n                        \\ze\\admin::phrase(\"Automated backups are running.\");\n                }\n            }\n        }\n\t\treturn $warnings;\n    }\n\n\t//Formerly \"deleteNamedPluginSetting()\"\n\tpublic static function deleteNamedPluginSetting($moduleClassName, $settingName) {\n\t\n\t\t$sql = \"\n\t\t\tDELETE ps.*\n\t\t\tFROM `\". DB_PREFIX. \"modules` AS m\n\t\t\tINNER JOIN `\". DB_PREFIX. \"plugin_instances` AS pi\n\t\t\t   ON m.id = pi.module_id\n\t\t\tINNER JOIN `\". DB_PREFIX. \"plugin_settings` AS ps\n\t\t\t   ON pi.id = ps.instance_id\n\t\t\t  AND ps.egg_id = 0\n\t\t\t  AND ps.name = '\". \\ze\\escape::sql($settingName). \"'\n\t\t\tWHERE m.class_name = '\". \\ze\\escape::sql($moduleClassName). \"'\";\n\t\t\\ze\\sql::update($sql);\n\n\t\t$sql = \"\n\t\t\tDELETE ps.*\n\t\t\tFROM `\". DB_PREFIX. \"modules` AS m\n\t\t\tINNER JOIN `\". DB_PREFIX. \"nested_plugins` AS np\n\t\t\t   ON m.id = np.module_id\n\t\t\tINNER JOIN `\". DB_PREFIX. \"plugin_settings` AS ps\n\t\t\t   ON ps.egg_id = np.id\n\t\t\t  AND ps.name = '\". \\ze\\escape::sql($settingName). \"'\n\t\t\tWHERE m.class_name = '\". \\ze\\escape::sql($moduleClassName). \"'\";\n\t\t\\ze\\sql::update($sql);\n\t}\n}\n", "/*\n * Copyright (c) 2020, Tribal Limited\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Zenario, Tribal Limited nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL TRIBAL LTD BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/*\n\tThis file contains JavaScript source code.\n\tThe code here is not the code you see in your browser. Before this file is downloaded:\n\t\n\t\t1. Compilation macros are applied (e.g. \"foreach\" is a macro for \"for .. in ... hasOwnProperty\").\n\t\t2. It is minified (e.g. using Google Closure Compiler).\n\t\t3. It may be wrapped togther with other files (this is to reduce the number of http requests on a page).\n\t\n\tFor more information, see js_minify.shell.php for steps (1) and (2), and organizer.wrapper.js.php for step (3).\n*/\n\n\nzenario.lib(function(\n\tundefined,\n\tURLBasePath,\n\tdocument, window, windowOpener, windowParent,\n\tzenario, zenarioA, zenarioT, zenarioAB, zenarioAT, zenarioO,\n\tencodeURIComponent, defined, engToBoolean, get, htmlspecialchars, jsEscape, phrase,\n\textensionOf, methodsOf, has\n) {\n\t\"use strict\";\n\n\n\n\n//To do: Functions to document in the API directory in javascript_organizer.js:\n/*\n\t//getting arrays of merge fields\n\tzenarioO.getPanelItems(useLargerThumbnails)\n\tzenarioO.getItemButtons()\n\tzenarioO.getCollectionButtons()\n\n\tzenarioO.disableInteraction()\n\tzenarioO.enableInteraction()\n\n\tzenarioO.load()\n\tzenarioO.reload(\n\t\t//Need to tidy up inputs\n\t)\n\n\tzenarioO.setHash()\n\tzenarioO.setPanel()\n\t\t//includes zenarioO.setTrash()\n\tzenarioO.setButtons()\n\t\t//includes zenarioO.setChooseButton()\n\tzenarioO.setBackButton()\n\tzenarioO.setNavigation()\n\tzenarioO.setPanelTitle()\n\tzenarioO.getCurrentPage()\n\tzenarioO.getPageCount()\n\n\n\tzenarioO.pi.itemClick(\n\t\t//Need to tidy up inputs\n\t)\n\tzenarioO.itemClickThrough(\n\t\t//Need to tidy up inputs\n\t)\n\n\tzenarioO.toggleAllItems()\n\tzenarioO.selectItems()\n\t\n\t//inspection view functions\n\tzenarioO.inspectionViewEnabled()\n\tzenarioO.inInspectionView(stateChange)\n\tzenarioO.inspectionViewItemId(stateChange)\n\tzenarioO.openInspectionView()\n\tzenarioO.closeInspectionView()\n\tzenarioO.toggleInspectionView()\n*/\n\n/*\n\t//Things that might become API functions, that I need to review:\n\n\tzenarioO.path\n\tzenarioO.getKeyId()\n\tzenarioO.itemsSelected\n\tzenarioO.selectCreatedIds()\n\tzenarioO.saveSelection()\n\tzenarioO.searchedItems\n\n\tzenarioO.checkButtonHidden()\n\tzenarioO.checkDisabled()\n\n\t//list view stuff\n\tzenarioO.resizeColumn()\n\tzenarioO.columnWidths\n\tzenarioO.resizingColumn\n\tzenarioO.sortingColumn\n\tzenarioO.switchColumnOrder()\n*/\n\n\n\n//Constants\nzenarioO.getItemLinkTimeoutTime = 7000;\n\n//(Periodic refresh is now disabled)\n//zenarioO.periodicRefreshTime = 120000;\n\nzenarioO.yourWorkInProgressLastUpdateFrequency = 60000;\nzenarioO.yourWorkInProgressItemCount = 10;\n\nzenarioO.itemDoubleClickTime = 500;\nzenarioO.searchDelayTime = 700;\nzenarioO.firstLoaded = false;\n\nzenarioO.defaultPageSize = 50;\nzenarioO.defaultColumnWidth = 150;\nzenarioO.columnsExtraSpacing = 1;\nzenarioO.columnSpacing = 1;\nzenarioO.columnPadding = 10;\nzenarioO.columnWidths = {\n\txxsmall: 45,\n\txsmall: 75,\n\tsmall: 100,\n\tmedium: 150,\n\tlarge: 225,\n\txlarge: 350,\n\txxlarge: 500\n};\nzenarioO.pi = false;\nzenarioO.inspectionView = false;\n\n\n\n\n//Create an instance of the admin forms library for the view options box\nvar zenarioVO = window.zenarioVO = new zenarioAF();\n\n\n\n\n//Go to the \"Content by Layout\" panel by default\nzenarioO.defaultPath = 'zenario__content/panels/content';\nzenarioO.defaultPathInIframePreload = 'dummy_item/panels/loading_message';\n\n\n\nzenarioO.inInspectionView = function(stateChange) {\n\tif (!zenarioO.inspectionViewEnabled()) {\n\t\tzenarioO.inspectionView = false;\n\t\treturn false;\n\t}\n\t\n\tif (!defined(stateChange)) {\n\t\treturn zenarioO.inspectionView;\n\t\n\t} else if (stateChange === false) {\n\t\tzenarioO.inspectionView =\n\t\tzenarioO.inspectionViewItem = false;\n\t\tzenarioO.setHash();\n\t\n\t} else {\n\t\tzenarioO.inspectionView = true;\n\t\tzenarioO.inspectionViewItem = stateChange;\n\t\tzenarioO.setHash();\n\t}\n};\n\nzenarioO.inspectionViewItemId = function() {\n\tif (zenarioO.inInspectionView()) {\n\t\treturn zenarioO.inspectionViewItem;\n\t}\n\treturn false;\n};\n\nzenarioO.inspectionViewEnabled = function() {\n\treturn zenarioO.pi\n\t\t&& zenarioO.pi.returnInspectionViewEnabled();\n};\n\nzenarioO.toggleInspectionView = function(id) {\n\tif (zenarioO.inspectionViewEnabled()) {\n\t\tzenarioO.pi.toggleInspectionView(id);\n\t}\n};\n\nzenarioO.openInspectionView = function(id) {\n\tif (zenarioO.inspectionViewEnabled()) {\n\t\tzenarioO.pi.openInspectionView(id);\n\t}\n};\n\nzenarioO.closeInspectionView = function(id) {\n\tif (zenarioO.inspectionViewEnabled()) {\n\t\tzenarioO.pi.closeInspectionView(id);\n\t}\n};\n\n\nzenarioO.print = function() {\n\ttry {\n\t\t\n\t\tvar title = $(\"#organizer_panelTitle div:eq(1)\").text();\n\t\tvar table = $('.organizer_list_view').removeAttr('style').html();\n\t\t\n\t\t//table.$('.organizer_column').removeAttr('style');\n\t\t\n\t\tvar mywindow = window.open('', title, 'height=50,width=50');\n        mywindow.document.write('<html><head><title></title>');\n        mywindow.document.write('<link rel=\"stylesheet\" href=\"http://dev-jc.tribiq.com/HEAD/zenario/styles/admin_organizer_print.css\" type=\"text/css\" />');\n        //mywindow.document.write('<link rel=\"stylesheet\" media=\"screen\" href=\"http://dev-jc.tribiq.com/HEAD/zenario/styles/admin_organizer_print.css\" type=\"text/css\" />');\n        mywindow.document.write('<script>myFunction = function() { window.print(); window.close();};</script>');\n\n        mywindow.document.write('</head><body onload=\"myFunction()\"><div class=\"table_wrapper\"><h1 class=\"print_title\">' + title + '</h1>');\n        mywindow.document.write(table);\n        \n        mywindow.document.write('</div></body></html>');\n\n        mywindow.document.close(); // necessary for IE >= 10\n        mywindow.focus(); // necessary for IE >= 10\n\t\t\n\t\t//mywindow.print();\n\t\t//mywindow.close(); \n        \t\n\t\t//window.print();\n\t\t\n\t} catch(e) {\n\t}\n};\n\n\n\n\nzenarioO.open = function(className, e, width, left, top, disablePageBelow, overlay, draggable, resizable, padding, maxHeight, rightCornerOfElement, bottomCornerOfElement) {\n\tif (!zenarioO.topLeftHTML) {\n\t\tzenarioO.topLeftHTML = '';\n\t}\n\tif (!zenarioO.topRightHTML) {\n\t\tzenarioO.topRightHTML =\n\t\t\t'<div class=\"organizer_close_button\">' +\n\t\t\t\t'<a onclick=\"zenarioO.closeSelectMode();\"></a>' +\n\t\t\t'</div>';\n\t}\n\t\n\t\n\tvar html = zenarioT.microTemplate('zenario_organizer', {topLeftHTML: zenarioO.topLeftHTML, topRightHTML: zenarioO.topRightHTML});\n\t\n\tzenarioA.openBox(html, className, 'og', e, width, left, top, disablePageBelow, overlay, draggable, resizable, padding, maxHeight, rightCornerOfElement, bottomCornerOfElement);\n\t\n\tzenarioO.setOrganizerIcons();\n};\n\n\n\n//Start up the JavaScript engine for the Organizer as soon as the page has loaded\nzenarioO.initRun = false;\nzenarioO.init = function(reload) {\n\t\n\t//Unless the reload flag is set, don't reload if we've already done this\n\tif (zenarioO.initRun && !reload) {\n\t\treturn;\n\t}\n\tzenarioO.initRun = true;\n\t\n\tzenarioA.showAJAXLoader();\n\t\n\t//if (window.console && typeof console.groupEnd == 'function') console.group('Loading Organizer');\n\t\n\tzenarioO.pageTitle = document.title;\n\t\n\t//Set the search box to the default search Phrase\n\tzenarioO.setSearch(undefined);\n\t\n\t//Load the current admin's Organizer preferences\n\tzenarioO.checkPrefs();\n\t\n\t\n\tzenarioO.loadMap(zenarioO.init2);\n};\n\nzenarioO.loadMap = function(after) {\n\t\n\t//Check if the map was already loaded!\n\tif (zenarioO.map) {\n\t\tafter();\n\t\treturn;\n\t}\n\t\n\t//Load the map\n\ttry {\n\t\t//If this is a select mode window launched from Organizer, try to copy the map off of the launching Organizer\n\t\tif (\t   zenarioA.openedInIframe\n\t\t\t\t&& self.parent\n\t\t\t\t&& self.parent.zenarioO\n\t\t\t\t&& self.parent.zenarioO.map\n\t\t\t\t&& self.parent.zenarioA.moduleCodeHash === zenarioA.moduleCodeHash\n\t\t\t\t&& self.parent.zenarioCSSJSVersionNumber === window.zenarioCSSJSVersionNumber\n\t\t) {\n\t\t\tzenarioO.map = self.parent.zenarioO.map;\n\t\t\tzenarioO.lookForBranches(zenarioO.map);\n\t\t\tafter();\n\t\t\treturn;\n\t\t\n\t\t//Check if this window had an opener, which already had Organizer loaded\n\t\t} else if (windowOpener\n\t\t\t\t&& windowOpener.zenarioO\n\t\t\t\t&& windowOpener.zenarioO.map\n\t\t\t\t&& windowOpener.zenarioA.moduleCodeHash === zenarioA.moduleCodeHash\n\t\t\t\t&& windowOpener.zenarioCSSJSVersionNumber === window.zenarioCSSJSVersionNumber\n\t\t) {\n\t\t\tzenarioO.map = windowOpener.zenarioO.map;\n\t\t\tzenarioO.lookForBranches(zenarioO.map);\n\t\t\tafter();\n\t\t\treturn;\n\t\t\n\t\t//Check if this window had an windowOpener, which already had Organizer preloaded\n\t\t} else if (windowOpener\n\t\t\t\t&& windowOpener.zenario\n\t\t\t\t&& windowOpener.zenario.get\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe')\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe').contentWindow\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe').contentWindow.zenarioO\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe').contentWindow.zenarioO.map\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe').contentWindow.zenarioA.moduleCodeHash === zenarioA.moduleCodeHash\n\t\t\t\t&& windowOpener.zenario.get('zenario_sk_iframe').contentWindow.zenarioCSSJSVersionNumber === window.zenarioCSSJSVersionNumber\n\t\t) {\n\t\t\tzenarioO.map = windowOpener.get('zenario_sk_iframe').contentWindow.zenarioO.map;\n\t\t\tzenarioO.lookForBranches(zenarioO.map);\n\t\t\tafter();\n\t\t\treturn;\n\t\t}\n\t} catch (e) {\n\t\t//Run the code below if something went wrong\n\t}\n\t\n\t\n\tvar store, url = URLBasePath + 'zenario/admin/organizer.ajax.php';\n\t\n\t//zenario.ajax(url, post, json, useCache, retry, continueAnyway, settings, timeout, AJAXErrorHandler, onRetry, onCancel)\n\tzenario.ajax(url, false, true, true, true, true).after(function (data) {\n\t\tzenarioO.map = data;\n\t\tzenarioO.lookForBranches(zenarioO.map);\n\t\tafter();\n\t});\n};\n\n\nzenarioO.init2 = function() {\n\t\n\tzenarioA.tooltips();\n\t\n\t\n\tzenarioO.setNavigation();\n\tzenarioO.setTopRightButtons();\n\t\n\tif (zenarioT.canDoHTML5Upload()) {\n\t\tget('organizer_rightColumn').addEventListener('dragover', function() {\n\t\t\t$('#organizer_rightColumn').addClass('dragover');\n\t\t}, false);\n\t\tget('organizer_rightColumn').addEventListener('dragleave', function() {\n\t\t\t$('#organizer_rightColumn').removeClass('dragover');\n\t\t}, false);\n\t}\n\t\n\tif (zenarioO.checkQueue()) {\n\t\t//if (window.console && typeof console.groupEnd == 'function') console.groupEnd();\n\t\treturn;\n\t\n\t} else if (!zenarioA.openedInIframe) {\n\t\tzenarioO.go();\n\t\t//if (window.console && typeof console.groupEnd == 'function') console.groupEnd();\n\t}\n};\n\n\n\nzenarioO.prefs = {};\nzenarioO.prefsChecksum = '{}';\nzenarioO.previousPrefChecksums = {'{}': true};\n\n//Update the current admin's Organizer preferences from the server to the client if needed.\nzenarioO.checkPrefs = function() {\n\t\n\t//Check a checksum of the prefs as stored on the server.\n\tvar prefs,\n\t\turl = URLBasePath + 'zenario/admin/quick_ajax.php?_manage_prefs=1',\n\t\tserverChecksum = zenario.nonAsyncAJAX(url + '&_get_checksum=1', true, false);\n\t\n\t//If this doesn't match the checksum on the client attempt to load in the new value.\n\t//(If there wasn't anything on the server, if it was corrupt, or we know that\n\t//the server's was an old copy, then keep the client's current copy.)\n\tif (serverChecksum && serverChecksum != zenarioO.prefsChecksum && !zenarioO.previousPrefChecksums[serverChecksum]) {\n\t\tif ((prefs = zenario.nonAsyncAJAX(url + '&_load_prefs=1', true, true)) && (prefs)) {\n\t\t\tzenarioO.prefs = prefs;\n\t\t\tzenarioO.previousPrefChecksums[zenarioO.prefsChecksum = serverChecksum] = true;\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\treturn true;\n};\n\n//Save the current admin's Organizer preferences from the client to the server.\nzenarioO.savePrefs = function(sync) {\n\t\n\tvar request = {\n\t\t_manage_prefs: 1,\n\t\t_save_prefs: 1,\n\t\tprefs: JSON.stringify(zenarioO.prefs)};\n\t\n\t//We'll generate a new checksum so that others can tell that this is a change.\n\t//We'll also remember the checksum to try and prevent accidentally loading an old checksum due to any race conditions.\n\tzenarioO.previousPrefChecksums[zenarioO.prefsChecksum = request.checksum = hex_md5(request.prefs)] = true;\n\t\n\t$.ajax({\n\t\ttype: 'POST',\n\t\tasync: !sync,\n\t\tdataType: 'text',\n\t\turl: URLBasePath + 'zenario/admin/quick_ajax.php',\n\t\tdata: request,\n\t\tsuccess: function(message) {\n\t\t\tif (message) {\n\t\t\t\tzenarioA.showMessage(message);\n\t\t\t}\n\t\t}\n\t});\n};\n\n\nzenarioO.shortenPath = function(path) {\n\t//path = ('/' + path + '/').replace(\n\t//\t/\\/panel\\//g, '/').replace(\n\t//\t/\\/panels\\//g, '/').replace(\n\t//\t/\\/refiners\\//g, '/').replace(\n\t//\t/\\/nav\\//g, '/').replace(\n\t//\t/\\/collection_buttons\\//g, '/').replace(\n\t//\t/\\/item_buttons\\//g, '/').replace(\n\t//\t/\\/inline_buttons\\//g, '/').replace(\n\t//\t/\\/hidden_nav\\//g, '/').replace(\n\t//\t/\\/items\\//g, '/');\n\t//\n\t//return path.substr(1, path.length-2);\n\treturn path;\n};\n\n\nzenarioO.implodeKeys = function(input) {\n\tvar output = '';\n\t\n\tforeach (input as var i) {\n\t\toutput += (output? ',' : '') + i;\n\t}\n\t\n\treturn output;\n};\n\n\nzenarioO.getPanelType = function(path) {\n\t\n\tif (path = path || zenarioO.path) {\n\t\t\n\t\tvar panelType = zenarioO.followPathOnMap(path, 'panel_type');\n\t\n\t\tif (panelType && zenarioO.panelTypes[panelType]) {\n\t\t\treturn panelType;\n\t\t}\n\t}\n\t\n\treturn 'list';\n};\n\n\nzenarioO.initNewPanelInstance = function(path, refiner) {\n\tvar panelType = zenarioO.getPanelType(path),\n\t\tpanelInstance = new zenarioO.panelTypes[panelType]();\n\t\n\tpanelInstance.panelType = panelType;\n\tpanelInstance.cmsSetsPath(path);\n\tpanelInstance.cmsSetsRefiner(refiner);\n\tpanelInstance.init();\n\t\n\treturn panelInstance;\n};\n\n\n//Go to a series of locations in turn\nzenarioO.checkQueue = function(sameLoad) {\n\tvar len;\n\tif (len = zenarioO.checkQueueLength()) {\n\t\tvar ids = '',\n\t\t\tpanelType, panelInstance,\n\t\t\tqueued = window.zenarioOQueue.shift();\n\t\t\n\t\t//Should any items be selected at this point?\n\t\tif (queued.selectedItems) {\n\t\t\tids = zenarioO.implodeKeys(queued.selectedItems);\n\t\t\t\n\t\t\tif (queued.refinerName) {\n\t\t\t\tqueued.refiner = {name: queued.refinerName, id: ids};\n\t\t\t}\n\t\t\t\n\t\t\t//Normally we'd wait until the zenarioO.go() function to set up the panel instance,\n\t\t\t//but if we have any selected items to record then we'll need to initialise it now\n\t\t\t//in order to record them.\n\t\t\t//So if the panel instance was not loaded previously, create a new one.\n\t\t\tif (!zenarioO.pi\n\t\t\t || !zenarioO.branches[zenarioO.branches.length-1].panel_instances[zenarioO.path]) {\n\t\t\t\t\n\t\t\t\tzenarioO.pi =\n\t\t\t\tzenarioO.branches[zenarioO.branches.length-1].panel_instances[zenarioO.path] =\n\t\t\t\t\tzenarioO.initNewPanelInstance(zenarioO.path, queued.refiner);\n\t\t\t}\n\t\t\t\n\t\t\t//Record the items that were selected on this panel\n\t\t\tzenarioO.pi.cmsSetsSelectedItems(queued.selectedItems);\n\t\t\t\n\t\t\t//zenarioO.pi.selectedItems = queued.selectedItems;\n\t\t\t//zenarioO.saveSelection(true);\n\t\t\n\t\t} else {\n\t\t\tif (queued.refinerName) {\n\t\t\t\tqueued.refiner = {name: queued.refinerName, id: ids};\n\t\t\t}\n\t\t}\n\t\t\n\t\t//zenarioO.go(path, branch, refiner, queued, lastInQueue, backwards, dontUseCache, itemToSelect, sameLoad, runFunctionAfter, periodic, inCloseUpView, searchTerm) {\n\n\t\tzenarioO.go(queued.path, queued.branch, queued.refiner, true, !--len, undefined, undefined, undefined, sameLoad, undefined, undefined, undefined, queued.searchTerm, queued.filters);\n\t\t\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nzenarioO.checkQueueLength = function() {\n\tif (!window.zenarioOQueue) {\n\t\treturn 0;\n\t} else {\n\t\treturn window.zenarioOQueue.length;\n\t}\n};\n\n//If a Plugin Nest opened this Organizer Window, refresh that nest\nzenarioO.reloadOpeningInstanceIfRelevant = function(path) {\n\t\n\ttry {\n\t\n\t\tvar parent,\n\t\t\treload,\n\t\t\ti, instanceIds, instanceId, instance, instances;\n\t\n\t\tif (windowOpener && windowOpener.zenario) {\n\t\t\tparent = windowOpener;\n\n\t\t} else if (windowParent && windowParent.zenario) {\n\t\t\tparent = windowParent;\n\t\t}\n\t\n\t\tif (parent && !zenarioO.checkQueueLength()) {\n\t\t\n\t\t\n\t\t\tif (reload = window.zenarioOReloadOnChanges == 'zenarioO'\n\t\t\t && parent.zenarioO\n\t\t\t && parent.zenarioO.reload) {\n\t\t\t\treload();\n\t\t\t}\n\t\t\n\t\t\tif (reload = window.zenarioOReloadOnChanges == 'zenarioAT'\n\t\t\t && parent.zenarioAT\n\t\t\t && parent.zenarioAT.init) {\n\t\t\t\treload();\n\t\t\t}\n\t\t\n\t\t\tif ((instanceIds = window.zenarioOOpeningInstance)\n\t\t\t && (instances = parent.zenario.instances)) {\n\t\t\t\n\t\t\t\tinstanceIds = instanceIds.split(',');\n\t\t\t\tforeach (instanceIds as i => instanceId) {\n\t\t\t\t\tif (instance = instances[instanceId]) {\n\t\t\t\t\t\tzenario.refreshSlot(instance.slotName, zenarioA.importantGetRequests);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t} catch (e) {\n\t\t//A rare bug in Chrome sometimes causes a cross-origin error,\n\t\t//ignore this and continue without reloading if it happens\n\t\tif (defined(console) && console.error) {\n\t\t\tconsole.error(e.message, e);\n\t\t}\n\t}\n};\n\n\n\nzenarioO.callPanelOnUnload = function() {\n\t//If there is already a panel being displayed, attempt to call it's onUnload function\n\tif (zenarioO.path\n\t && zenarioO.pi\n\t && zenarioO.pi.onUnload) {\n\t\tvar $header = zenarioO.getHeader(),\n\t\t\t$panel = zenarioO.getPanel(),\n\t\t\t$footer = zenarioO.getFooter();\n\t\tzenarioO.pi.onUnload($header, $panel, $footer);\n\t}\n};\n\nzenarioO.pathNotAllowed = function(link) {\n\treturn link && window.zenarioONotFull && window.zenarioOMaxPath !== false && zenarioO.path == window.zenarioOMaxPath && link.path != zenarioO.path;\n};\n\n\nzenarioO.parseNavigationPath = function(pathAndItem, len, includeSelectedItem) {\n\t\n\tif (_.isString(pathAndItem)) {\n\t\tpathAndItem = pathAndItem.split('//'),\n\t\tlen = pathAndItem.length;\n\t}\n\t\n\tif (len <= 2) {\n\t\tqueue = [{path: pathAndItem[0], branch: -1}];\n\t\n\t} else {\n\t\t\n\t\t//Try and parse the path to work out where this should be\n\t\tvar lastLink, p, link, combinedPath, selectedItems, refinerId, refinerName, linkTo, queue;\n\t\t\n\t\tfor (p = 0; p < len-1; p += 2) {\n\t\t\t\n\t\t\t//Navigate to the start of the branch\n\t\t\tif (p == 0) {\n\t\t\t\tlink = zenarioO.getFromToFromLink(pathAndItem[0]);\n\t\t\t\tqueue = [{path: link.from, branch: -1}];\n\t\t\t\n\t\t\t} else {\n\t\t\t\tif (pathAndItem[p].substr(0, 1) == '/') {\n\t\t\t\t\tcombinedPath = pathAndItem[p].substr(1);\n\t\t\t\t} else {\n\t\t\t\t\tcombinedPath = lastLink.to + '/' + pathAndItem[p];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlink = zenarioO.getFromToFromLink(combinedPath);\n\t\t\t\t\n\t\t\t\tif (lastLink.to != link.from) {\n\t\t\t\t\tqueue.push({path: link.from});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//Select any items \n\t\t\tselectedItems = {};\n\t\t\tif (pathAndItem[p + 1]) {\n\t\t\t\tselectedItems = zenarioT.csvToObject(pathAndItem[p + 1]);\n\t\t\t}\n\t\t\t\n\t\t\t//Look for any refiners\n\t\t\trefinerId = false,\n\t\t\trefinerName = false;\n\t\t\tif (link.refiner) {\n\t\t\t\trefinerName = link.refiner;\n\t\t\t\trefinerId = pathAndItem[p + 1];\n\t\t\t}\n\t\t\t\n\t\t\tlinkTo = link.to;\n\t\t\t\n\t\t\tif (!linkTo) {\n\t\t\t\tzenarioA.showMessage('The requested path \"' + pathAndItem.join('//') + '\" was not found in the system. If you have just updated or added files to the CMS, you will need to reload the page.', undefined, 'error', false, true);\n\t\t\t\treturn false;\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t//Select an item on the last panel, if asked for\n\t\t\tif (includeSelectedItem && p+2 == len-1) {\n\t\t\t\tlinkTo += '//' + pathAndItem[p+2];\n\t\t\t}\n\t\t\t\n\t\t\t//Do the branch\n\t\t\tqueue.push({path: linkTo, branch: true, selectedItems: selectedItems, refinerId: refinerId, refinerName: refinerName});\n\t\t\t\n\t\t\tlastLink = link;\n\t\t}\n\t}\n\t\n\treturn queue;\n};\n\nzenarioO.convertNavPathToTagPathAndRefiners = function(path) {\n\t\n\tvar queue, i, link,\n\t\tout = {path: '', request: {}};\n\t\n\tif (queue = zenarioO.parseNavigationPath(path)) {\n\t\t\n\t\tfor (i = 0; i < queue.length; ++i) {\n\t\t\tlink = queue[i];\n\t\t\t\n\t\t\tout.path = link.path;\n\t\t\t\n\t\t\tif (link.refinerName) {\n\t\t\t\tout.request['refiner__' + link.refinerName] =\n\t\t\t\tout.request.refinerId =\n\t\t\t\t\tlink.refinerId;\n\t\t\t\tout.request.refinerName =\n\t\t\t\t\tlink.refinerName;\n\t\t\t\n\t\t\t} else {\n\t\t\t\tdelete out.request.refinerId;\n\t\t\t\tdelete out.request.refinerName;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn out;\n\t\t\n\t} else {\n\t\treturn false;\n\t}\n};\n\nzenarioO.convertNavPathToTagPath = function(path) {\n\tvar queue;\n\t\n\tif (zenarioO.map\n\t && path.indexOf('//') != -1\n\t && (queue = zenarioO.parseNavigationPath(path))) {\n\t\treturn queue[queue.length - 1];\n\t\n\t} else {\n\t\treturn {path: path};\n\t}\n};\n\n\nvar escapeStateString = function(string, isJSON) {\n\t\t\n\t\tif (isJSON) {\n\t\t\tstring = decodeURI(encodeURIComponent(JSON.stringify(string)));\n\t\t} else {\n\t\t\tstring = encodeURIComponent(string);\n\t\t}\n\t\n\t\treturn string.replace(/'/g, \"'1\").replace(/~/g, \"'2\");\n\t},\n\tunescapeStateString = function(string, isJSON) {\n\t\t\n\t\tstring = string.replace(/'2/g, \"~\").replace(/'1/g, \"'\");\n\t\t\n\t\tif (isJSON) {\n\t\t\treturn JSON.parse(decodeURIComponent(string));\n\t\t} else {\n\t\t\treturn decodeURIComponent(string);\n\t\t}\n\t},\n\tgetStateFromPath = function(path, code, out, isJSON) {\n\n\t\tvar varFromHash,\n\t\t\tpos = path.indexOf(code);\n\t\n\t\tif (pos != -1) {\n\t\t\tvarFromHash = path.substr(pos + 2);\n\t\t\tout.path = path.substr(0, pos);\n\t\n\t\t\ttry {\n\t\t\t\tout.info = unescapeStateString(varFromHash, isJSON);\n\t\t\t} catch(e) {\n\t\t\t\tout.info = undefined;\n\t\t\t}\n\t\t\n\t\t\treturn true;\n\t\t}\n\t\n\t\treturn false;\n\t}\n\n\n//Get a list of columns that are currently being displayed (i.e. they are not hidden by either the dev or the current user)\n//in the order in which they've been sorted.\nzenarioO.showableColumns = function() {\n\t\n\tvar colNo, c, cols = [];\n\t\n\tforeach (zenarioO.sortedColumns as colNo => c) {\n\t\tif (zenarioO.isShowableColumn(c, true)) {\n\t\t\tcols.push(c);\n\t\t}\n\t}\n\t\n\treturn cols;\n};\n\n//Request a CSV export of the current view/panel.\nzenarioO.exportPanelAsCSV = function() {\n\tvar url = zenarioO.getAJAXURL(10000);\n\t\n\tif (url) {\n\t\tzenarioA.doDownload(url, {\n\t\t\t_export: 1,\n\t\t\t_csvExport: 1,\n\t\t\t_exportCols: zenarioO.showableColumns().join(',')\n\t\t});\n\t}\n\t\n\t//Calling the zenarioO.getAJAXURL() function to get the current URL messes up a few variables,\n\t//which can cause a lot of strange errors later if the user continues to interact with the panel,\n\t//so as a quick hack to fix all of these problems I'm triggering a cached-reload\n\tzenarioO.reload(false, true);\n};\n\n//Request an Excel export of the current view/panel.\nzenarioO.exportPanelAsExcel = function() {\n\tvar url = zenarioO.getAJAXURL(10000);\n\t\n\tif (url) {\n\t\tzenarioA.doDownload(url, {\n\t\t\t_export: 1,\n\t\t\t_excelExport: 1,\n\t\t\t_exportCols: zenarioO.showableColumns().join(',')\n\t\t});\n\t}\n\t\n\t//Calling the zenarioO.getAJAXURL() function to get the current URL messes up a few variables,\n\t//which can cause a lot of strange errors later if the user continues to interact with the panel,\n\t//so as a quick hack to fix all of these problems I'm triggering a cached-reload\n\tzenarioO.reload(false, true);\n};\n\n\n\n//Get the URL as used by the go() function, without actually sending the AJAX request.\nzenarioO.getAJAXURL = function(thisPageSize) {\n\treturn zenarioO.go(zenarioO.path, undefined, undefined, undefined, undefined, undefined, false, undefined, undefined, undefined, false, false, undefined, undefined, true, thisPageSize);\n};\n\n\n//Go to a location\nzenarioO.goNum = 0;\nzenarioO.loadNum = 0;\nzenarioO.lastSuccessfulGoNum = 0;\nzenarioO.go = function(path, branch, refiner, queued, lastInQueue, backwards, dontUseCache, itemToSelect, sameLoad, runFunctionAfter, periodic, inCloseUpView, searchTerm, filters, returnURL, thisPageSize) {\n\t\n\tif (!periodic) {\n\t\tzenarioO.lastActivity = Date.now();\n\t}\n\t\n\tif (!zenarioA.isFullOrganizerWindow && !zenarioA.checkIfBoxIsOpen('og')) {\n\t\treturn;\n\t}\n\t\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\t//If the map has not yet loaded, wait until it has!\n\tif (!zenarioO.map\n\t || !zenarioO.initRun) {\n\t\tif (!window.zenarioONotFull) {\n\t\t\twindow.zenarioOQueue = [{path: path, branch: -1}];\n\t\t}\n\t\treturn;\n\t}\n\t\n\t//For the min/max/target paths, automatically convert any navigation paths to tag paths\n\tif (window.zenarioOCheckPaths) {\n\t\tdelete window.zenarioOCheckPaths;\n\t\t\n\t\tif (window.zenarioOTargetPath) {\n\t\t\twindow.zenarioOTargetPath = zenarioO.convertNavPathToTagPath(window.zenarioOTargetPath).path;\n\t\t}\n\t\tif (window.zenarioOMinPath) {\n\t\t\twindow.zenarioOMinPath = zenarioO.convertNavPathToTagPath(window.zenarioOMinPath).path;\n\t\t}\n\t\tif (window.zenarioOMaxPath && engToBoolean(window.zenarioOMaxPath)) {\n\t\t\twindow.zenarioOMaxPath = zenarioO.convertNavPathToTagPath(window.zenarioOMaxPath).path;\n\t\t}\n\t}\n\t\n\tif (!returnURL) {\n\t\tzenarioO.callPanelOnUnload();\n\t}\n\t\n\t\n\tif (!queued) {\n\t\twindow.zenarioOQueue = false;\n\t}\n\t\n\t//Look for searches/filters passed in the URL\n\tvar requestedPath,\n\t\tfabPath,\n\t\tfabKey,\n\t\tfabTab,\n\t\tout = {};\n\t\n\tif (defined(path)) {\n\t\t\n\t\tif (getStateFromPath(path, '~k', out, true)) {\n\t\t\tpath = out.path;\n\t\t\tfabKey = out.info;\n\t\t}\n\t\tif (getStateFromPath(path, '~t', out)) {\n\t\t\tpath = out.path;\n\t\t\tfabTab = out.info;\n\t\t}\n\t\tif (getStateFromPath(path, '~.', out)) {\n\t\t\tpath = out.path;\n\t\t\tfabPath = out.info;\n\t\t}\n\t\tif (getStateFromPath(path, '~_', out, true)) {\n\t\t\tpath = out.path;\n\t\t\tfilters = out.info;\n\t\t}\n\t\tif (getStateFromPath(path, '~-', out)) {\n\t\t\tpath = out.path;\n\t\t\tsearchTerm = out.info;\n\t\t}\n\t\t\n\t\tif (fabPath && !zenarioAB.isOpen) {\n\t\t\tzenarioAB.open(fabPath, fabKey, fabTab);\n\t\t}\n\t}\n\t\n\t\n\trequestedPath = path;\n\t\n\tif (path) {\n\t\t\n\t\tvar pathAndItem = path.split('//'),\n\t\t\tlen = pathAndItem.length,\n\t\t\tqueue;\n\t\t\n\t\t//Is there any deeplinking in the path?\n\t\tif (len > 2) {\n\t\t\t//Ignore the itemToSelect parameter if it was set\n\t\t\titemToSelect = undefined;\n\t\t\tinCloseUpView = false;\n\t\t\t\n\t\t\tif (!(queue = zenarioO.parseNavigationPath(pathAndItem, len, true))) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t//If we saw a search term and/or filters in the hash, remember them for the last panel.\n\t\t\t//(We don't remember any searches/filters on parent panels in the branches, just the current/deepest one.)\n\t\t\tif (defined(searchTerm)) {\n\t\t\t\tqueue[queue.length - 1].searchTerm = searchTerm;\n\t\t\t}\n\t\t\tif (defined(filters)) {\n\t\t\t\tqueue[queue.length - 1].filters = filters;\n\t\t\t}\n\t\t\t\n\t\t\twindow.zenarioOQueue = queue;\n\t\t\tzenarioO.checkQueue(true);\n\t\t\treturn;\n\t\t\n\t\t//Is an item requested in the path?\n\t\t} else if (len == 2) {\n\t\t\t//Ignore the itemToSelect parameter if it was set\n\t\t\titemToSelect = undefined;\n\t\t\tinCloseUpView = false;\n\t\t\t\n\t\t\t//Get the tag-path from the item and path\n\t\t\tpath = pathAndItem[0];\n\t\t\t\n\t\t\t//Check there are no commas in the id of the selected item,\n\t\t\t//and try and get the item id from the item and path\n\t\t\tif ((pathAndItem[1].indexOf(',') == -1)\n\t\t\t && (itemToSelect = pathAndItem[1])) {\n\t\t\t\t//Look for a single slash after the item - this should indicate closeup view\n\t\t\t\tvar len = itemToSelect.length - 1;\n\t\t\t\tif (itemToSelect.substr(len) == '/') {\n\t\t\t\t\titemToSelect = itemToSelect.substr(0, len);\n\t\t\t\t\tinCloseUpView = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t//Otherwise we'll use the itemToSelect input, and select that item after the jump if possible\n\t\t} else {\n\t\t\tif (!itemToSelect) {\n\t\t\t\tinCloseUpView = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tpath = zenarioO.shortenPath(path);\n\t}\n\t\n\t//If a path has not been set, go to the initial panel\n\tif (!path) {\n\t\tpath = window.zenarioONotFull? zenarioO.defaultPathInIframePreload : zenarioO.defaultPath;\n\t\tinCloseUpView = false;\n\t}\n\t\n\tif (!zenarioO.followPathOnMap(path)) {\n\t\t//add some debug information here\n\t\tzenarioA.showMessage('The requested path \"' + requestedPath + '\" was not found in the system. If you have just updated or added files to the CMS, you will need to reload the page.', undefined, 'error', false, true);\n\t\treturn false;\n\t}\n\t\n\t\n\t//Number each request that is made, so we can tell which ones are outdated\n\tvar goNum = ++zenarioO.goNum;\n\t\n\tif (!sameLoad) {\n\t\t++zenarioO.loadNum;\n\t}\n\t\n\t\n\tvar panelInstance = false,\n\t\tadvancedValues = false,\n\t\tpreviousRefiner = false;\n\t\n\tif (!defined(filters)) {\n\t\tfilters = zenarioO.loadFromBranches(path, branch, 'filters');\n\t}\n\t\n\tif (!defined(searchTerm)) {\n\t\tsearchTerm = zenarioO.loadFromBranches(path, branch, 'searches');\n\t}\n\n\t\n\t//Check to see if a refiner is set\n\tif (!defined(refiner)) {\n\t\trefiner = zenarioO.loadRefiner(path, branch);\n\t}\n\t\n\t//If this panel requires a refiner but none has been set, don't attempt to show it and go to the panel above instead.\n\tif (!refiner && engToBoolean(zenarioO.followPathOnMap(path, 'refiner_required'))) {\n\t\tzenarioA.showMessage('A refiner was required, but none was set.', true, 'error');\n\t\treturn;\n\t}\n\t\n\t//Attempt to find the refiner used on the panel before this one, if there was one\n\tvar rememberRefiner,\n\t\tlastRefinerName,\n\t\tlastRefiners = {},\n\t\tbranches = zenarioO.branches.length - 1,\n\t\tb;\n\t\n\t//If we're resetting all branches, there will be no previous refiner and no need to load the panel instance\n\tif (branch !== -1) {\n\t\t//Try to retrieve the panel instance\n\t\tpanelInstance = zenarioO.loadFromBranches(path, branch, 'panel_instances');\n\t\t\n\t\t//Get the refiners on each of the branches that we've previously followed\n\t\tfor (b = 0; b < branches; ++b) {\n\t\t\trememberRefiner = zenarioO.branches[b].refiners[zenarioO.branches[b+1].from];\n\t\t\tif (rememberRefiner) {\n\t\t\t\tlastRefiners['refiner__' + (lastRefinerName = rememberRefiner.name)] = rememberRefiner.id;\n\t\t\t}\n\t\t}\n\t\t\n\t\t//If we're branching with this link, get the refiner on the current panel\n\t\t//if (branch) {\n\t\t\trememberRefiner = zenarioO.branches[branches].refiners[zenarioO.path];\n\t\t\tif (rememberRefiner) {\n\t\t\t\tlastRefiners['refiner__' + (lastRefinerName = rememberRefiner.name)] = rememberRefiner.id;\n\t\t\t}\n\t\t//}\n\t\t\n\t\t//Add the current refiner, if there is one\n\t\tif (refiner) {\n\t\t\tlastRefiners['refiner__' + refiner.name] = refiner.id;\n\t\t}\n\t}\n\t\n\t//If the panel instance was not loaded previously, create a new one.\n\tif (!panelInstance) {\n\t\tpanelInstance = zenarioO.initNewPanelInstance(path, refiner);\n\t} else {\n\t\tpanelInstance.cmsSetsPath(path);\n\t\tpanelInstance.cmsSetsRefiner(refiner);\n\t}\n\t\n\t\n\tvar defaultSortColumn = zenarioO.followPathOnMap(path, 'default_sort_column');\n\tif (!defaultSortColumn) {\n\t\tdefaultSortColumn = 'name';\n\t}\n\t\n\t//Load the TUIX of this panel from the \"map\". The map is a static version of all of the TUIX files\n\t//that make up Organizer.\n\t//To keep the inital download size small when first opening Organizer, maybe properties are trimmed\n\t//from the map to save space.  The ze\\tuix::parse() function controls the logic for which tags are not trimmed.\n\tvar panel = zenarioO.followPathOnMap(path);\n\t\n\t//Let the panel instance know about the TUIX properties from the map\n\tpanelInstance.cmsSetsPanelTUIX(panel);\n\t\n\t//Let the panel instance know which item was selected\n\tpanelInstance.cmsSetsRequestedItem(itemToSelect);\n\t\n\t//Let the panel instance know what the search term was\n\tpanelInstance.cmsSetsSearchTerm(searchTerm);\n \t\n \t//Check to see if there were any filters previously set on this panel\n\tif (filters && !_.isEmpty(filters)) {\n\t\t//If so, use them\n\t\tfilters = zenario.clone(filters);\n\t\n\t} else {\n\t\t//Otherwise start with empty filters\n\t\tfilters = {};\n\t}\n\t\n\t//Look through the filters on this page, checking to see if any have been set.\n\t//If any are not set them strip them away as we don't need any junk data.\n\tforeach (filters as var c => var filter) {\n\t\tif (zenarioO.filterSetOnColumn(c, filters)) {\n\t\t\t\n\t\t\t\n\t\t\t//A couple of little hacks to save space here:\n\t\t\t\t//There's no difference between {not: false} and {not: undefined} so we can delete \"not\" if it is false\n\t\t\t\t//Also \"not\" and \"show\" is used a as a boolean, so we can convert {s: true} to {s: 1} and {s: false} to {s: 0}\n\t\t\tif (defined(filter.not)) {\n\t\t\t\tif (!filter.not) {\n\t\t\t\t\tdelete filter.not;\n\t\t\t\t} else {\n\t\t\t\t\tfilter.not = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defined(filter.s)) {\n\t\t\t\tfilter.s = engToBoolean(filter.s);\n\t\t\t}\n\t\t\t\n\t\t//However leave an empty object so we can tell the different between specifically turning something off,\n\t\t//and something that was never turned on\n\t\t} else if (filters[c]) {\n\t\t\tfilters[c] = {};\n\t\t}\n\t}\n\t\n\tif (!defined(thisPageSize)) {\n\t\tthisPageSize = 1*panelInstance.returnPageSize();\n\t}\n\t\n\tvar db_items = panel.db_items,\n\t\treorder = panel.reorder,\n\t\tserver_side = panelInstance.returnDoSortingAndSearchingOnServer(),\n\t\turl = panelInstance.returnAJAXURL(),\n\t\tdevToolsURL = panelInstance.returnDevToolsAJAXURL(),\n\t\trequests = {},\n\t\tdata = false,\n\t\tstore,\n\t\tgo2 = function(data) {\n\t\t\tzenarioO.go2(path, url, devToolsURL, requests, branch, goNum, defaultSortColumn, thisPageSize, inCloseUpView, itemToSelect, panelInstance, searchTerm, filters, refiner, lastRefinerName, lastRefiners, server_side, backwards, runFunctionAfter, data);\n\t\t};\n\t\n\tif (url) {\n\t\tif (window.zenarioONotFull) {\n\t\t\tif (window.zenarioOSelectMode) {\n\t\t\t\turl += '&_select_mode=1';\n\t\t\t} else if (window.zenarioOQuickMode) {\n\t\t\t\turl += '&_quick_mode=1';\n\t\t\t}\n\t\t}\n\t\t\n\t\tzenarioO.addWindowParentInfo(requests);\n\t\n\t\tif (queued && !lastInQueue) {\n\t\t\trequests._queued = 1;\n\t\t}\n\t\n\t\tif (defined(refiner)) {\n\t\t\trequests.refinerId = refiner.id;\n\t\t\trequests.refinerName = refiner.name;\n\t\t\n\t\t\tif (refiner.languageId) {\n\t\t\t\trequests.languageId = refiner.languageId;\n\t\t\t}\n\t\t}\n\t\n\t\tif (window.zenarioOCombineItem) {\n\t\t\trequests._combineItem = window.zenarioOCombineItem;\n\t\t}\n\t\n\t\tforeach (lastRefiners as var f) {\n\t\t\trequests[f] = lastRefiners[f];\n\t\t}\n\t\n\t\t//Pagination logic\n\t\tif (server_side || zenarioO.CSVExport) {\n\t\t\tif (thisPageSize) {\n\t\t\t\trequests._limit = thisPageSize;\n\t\t\n\t\t\t\tif (zenarioO.refreshToPage) {\n\t\t\t\t\trequests._start = (zenarioO.refreshToPage-1) * thisPageSize;\n\t\t\t\t} else {\n\t\t\t\t\trequests._start = 0;\n\t\t\t\t}\n\t\t\n\t\t\t\tif (itemToSelect) {\n\t\t\t\t\trequests._item = itemToSelect;\n\t\t\n\t\t\t\t//Try to get the previously selected item from the previous panel, if there was one\n\t\t\t\t} else if (backwards) {\n\t\t\t\t\tvar requestItem;\n\t\t\t\n\t\t\t\t\tif (typeof backwards == 'object' && backwards.selectedItemFromLastPanel) {\n\t\t\t\t\t\trequests._item = backwards.selectedItemFromLastPanel;\n\t\t\t\t\t} else if (requestItem = zenarioO.getSelectedItemFromLastPanel(path)) {\n\t\t\t\t\t\trequests._item = requestItem;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t//Work out which column to sort on\n\t\t\t//Sort by the reorder column if we're reordering\n\t\t\tif (reorder && reorder.column) {\n\t\t\t\trequests._sort_col = reorder.column;\n\t\t\n\t\t\t//Look up the user's choice of sort column\n\t\t\t} else if (zenarioO.prefs[path] && zenarioO.prefs[path].sortBy) {\n\t\t\t\trequests._sort_col = zenarioO.prefs[path].sortBy;\n\t\t\t\trequests._sort_desc = zenarioO.prefs[path].sortDesc? 1 : 0;\n\t\t\n\t\t\t//Otherwise sort by the default sort column\n\t\t\t} else {\n\t\t\t\trequests._sort_col = defaultSortColumn;\n\t\t\t\trequests._sort_desc = engToBoolean(zenarioO.followPathOnMap(path, 'default_sort_desc'));\n\t\t\t}\n\t\t}\n\t\t\n\t\t//Send the values of any filters\n\t\tif (filters && !_.isEmpty(filters)) {\n\t\t\trequests._filters = JSON.stringify(filters);\n\t\t}\n\t\n\t\tif (server_side || zenarioO.CSVExport) {\n\t\t\tif (defined(searchTerm)) {\n\t\t\t\trequests._search = searchTerm;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (returnURL) {\n\t\treturn url + zenario.urlRequest(requests);\n\t}\n\t\n\t//Disable the current panel/page from refreshing\n\tzenarioO.stopRefreshing();\n\t\n\tif (path != zenarioO.defaultPathInIframePreload) {\n\t\tget('organizer_preloader_circle').style.display = 'block';\n\t}\n\t\n\t//Refresh the opener, if needed\n\tif (defined(window.zenarioOFirstLoad)) {\n\t\tif (window.zenarioOFirstLoad) {\n\t\t\twindow.zenarioOFirstLoad = false;\n\t\t} else {\n\t\t\tzenarioO.reloadOpeningInstanceIfRelevant(path);\n\t\t}\n\t}\n\t\n\t//Allow the panel type to disable this AJAX request by returning false for the url\n\tif (!url) {\n\t\tgo2(panel);\n\t\n\t} else {\n\t\tzenario.ajax(url + zenario.urlRequest(requests), false, true, true, true, true).after(go2);\n\t}\n};\n\n\n\n//Tidy these long params up into an object..?\n\n//Part 2 of the go function, run when we've got the data back from the server\n\t//(Or run straight away if the server was never polled)\nzenarioO.go2 = function(path, url, devToolsURL, requests, branch, goNum, defaultSortColumn, thisPageSize, inCloseUpView, itemToSelect, panelInstance, searchTerm, filters, refiner, lastRefinerName, lastRefiners, server_side, backwards, runFunctionAfter, data) {\n\t\n\t//For debugging\n\tif (data\n\t && defined(data.comment)\n\t && window.console) {\n\t\tconsole.log(data.comment);\n\t}\n\t\n\tif (!zenarioA.isFullOrganizerWindow && !zenarioA.checkIfBoxIsOpen('og')) {\n\t\treturn;\n\t}\n\t\n\t//Check that this isn't an out-of-date request that has come in syncronously via AJAX\n\tif (goNum != zenarioO.goNum) {\n\t\treturn;\n\t}\n\t\n\tzenarioO.stopRefreshing();\n\t\n\t////If this is a different panel, scroll back up to the top\n\t//if (zenarioO.path != path || branch === true || branch === -1) {\n\t//\tzenarioO.scrollToPageTop = true;\n\t//}\n\t\n\tvar lastPath = zenarioO.path,\n\t\tlastTitle,\n\t\tnoReturnEnabled;\n\t\n\tif (zenarioO.tuix) {\n\t\t\n\t\tlastTitle = lastRefinerName && zenarioO.tuix.refiners && zenarioO.tuix.refiners[lastRefinerName] && zenarioO.tuix.refiners[lastRefinerName].title || zenarioO.tuix.title;\n\t\tnoReturnEnabled = engToBoolean(zenarioO.tuix.no_return);\n\t}\n\t\n\t//This variable is used by dev tools to load dev information on the last panel\n\tzenarioO.url = url + zenario.urlRequest(requests);\n\t\n\t//If a panel type has overridded the returnAJAXURL() function,\n\t//record what the output would have been so that we can still use the dev tools\n\tif (devToolsURL != url) {\n\t\tzenarioO.devToolsURL = devToolsURL + zenario.urlRequest(requests);\n\t} else {\n\t\tzenarioO.devToolsURL = undefined;\n\t}\n\t\n\t//This variable is used later to launch a second AJAX request, if we need to repeat\n\t//the same query with the same search/filters as before\n\tzenarioO.lastRequests = requests;\n\t\n\tzenarioO.path = path;\n\tzenarioO.defaultSortColumn = defaultSortColumn;\n\tzenarioO.thisPageSize = thisPageSize;\n\tzenarioO.server_side = server_side;\n\tzenarioO.inspectionView = inCloseUpView;\n\tzenarioO.inspectionViewItem = itemToSelect;\n\t\n\tif (!zenarioO.prefs[path]) {\n\t\tzenarioO.prefs[path] = {};\n\t}\n\t\n\t\n\t//Add functionality for multiple \"branches\"\n\tif (branch === -1) {\n\t\t//branch = -1 turns off all previously collected branches\n\t\tzenarioO.resetBranches();\n\t} else if (branch) {\n\t\t//branch = true turns this link into a new branch\n\t\tzenarioO.branch(path, lastPath, lastTitle, noReturnEnabled);\n\t}\n\t\t//Otherwise branch = undefined continues in the current branch\n\t\n\t\n\t//Save the instance to this part of the navigation so it can be loaded again if the admin\n\t//ever comes back to the panel.\n\tzenarioO.pi =\n\tzenarioO.branches[zenarioO.branches.length-1].panel_instances[zenarioO.path] =\n\t\tpanelInstance;\n\t\n\t//Save filters\n\tif (defined(data._filters)) {\n\t\tfilters = data._filters;\n\t\tdelete data._filters;\n\t}\n\tzenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path] = filters;\n\t//zenarioO.branches[zenarioO.branches.length-1].searches[zenarioO.path] = searchTerm;\n\tzenarioO.saveSearch(searchTerm);\n\t//zenarioO.searchTerm = searchTerm\n\t\n\t//Focus on this part of the map\n\tdelete zenarioO.tuix;\n\tzenarioO.tuix = data;\n\t\t//Backwards compatability for any old code\n\t\tzenarioO.focus = zenarioO.tuix;\t\n\t\n\tzenarioO.pi.cmsSetsPanelTUIX(zenarioO.tuix);\n\t\n\t\n\t//Setup filters\n\tzenarioO.filtersSet = false;\n\tzenarioO.filtersSetInViewOptions = false;\n\tforeach (filters as var c => var filter) {\n\t\tif (zenarioO.filterSetOnColumn(c, filters)) {\n\t\t\tzenarioO.filtersSet = true;\n\t\t\t\n\t\t\tif (zenarioO.canFilterColumn(c)) {\n\t\t\t\tzenarioO.filtersSetInViewOptions = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tzenarioO.markIfViewIsFiltered();\n\t\n\t\n\t\n\tzenarioO.saveRefiner(refiner);\n\tzenarioO.lastRefiners = lastRefiners;\n\t\n\t\n\t\n\t//Check if we have a column description, and set a default one if not\n\tif (!zenarioO.tuix.columns) {\n\t\tzenarioO.tuix.columns = {'name': {'title': 'Name'}};\n\t}\n\t\n\t\n\t//Handle preferences\n\t//Sort by the reorder column if we're reordering\n\tvar defaultSortColumn, reorder = zenarioO.followPathOnMap(path, 'reorder');\n\tif (reorder && reorder.column) {\n\t\tzenarioO.sortBy = reorder.column;\n\t\tzenarioO.sortDesc = false;\n\t\n\t//Look up the user's choice of search column\n\t} else if (zenarioO.prefs[path].sortBy && zenarioO.tuix.columns[zenarioO.prefs[path].sortBy]) {\n\t\tzenarioO.sortBy = zenarioO.prefs[path].sortBy;\n\t\tzenarioO.sortDesc = zenarioO.prefs[path].sortDesc;\n\t\n\t//Sort by the default sort column if this is defined\n\t} else if (defaultSortColumn = zenarioO.followPathOnMap(path, 'default_sort_column')) {\n\t\tzenarioO.sortBy = defaultSortColumn;\n\t\tzenarioO.sortDesc = engToBoolean(zenarioO.followPathOnMap(path, 'default_sort_desc'));\n\t\n\t//Otherwise sort by name by default\n\t} else {\n\t\tzenarioO.sortBy = zenarioO.defaultSortColumn;\n\t\tzenarioO.sortDesc = engToBoolean(zenarioO.followPathOnMap(path, 'default_sort_desc'));\n\t}\n\tzenarioO.pi.cmsSetsSortColumn(zenarioO.sortBy, zenarioO.sortDesc);\n\t\n\tzenarioO.sortedColumns = zenarioO.getSortedIdsOfTUIXElements('columns');\n\tzenarioO.sortedItemButtons = zenarioO.getSortedIdsOfTUIXElements('item_buttons');\n\tzenarioO.sortedInlineButtons = zenarioO.getSortedIdsOfTUIXElements('inline_buttons');\n\tzenarioO.sortedCollectionButtons = zenarioO.getSortedIdsOfTUIXElements('collection_buttons');\n\tzenarioO.sortedQuickFilterButtons = zenarioO.getSortedIdsOfTUIXElements('quick_filter_buttons');\n\t\n\t//Work out which columns should be shown\n\tzenarioO.shownColumns = zenarioO.getShownColumns(path, defaultSortColumn, zenarioO.tuix.columns);\n\t\n\t//Check if the Admin has a customised sort order on this Panel\n\tif (zenarioO.prefs[path].sortedColumns) {\n\t\t//Get an array-flip of their sorted columns, so we can look up each column's order\n\t\tvar existingSortedColumns = {};\n\t\tforeach (zenarioO.prefs[path].sortedColumns as var colNo) {\n\t\t\tvar c = zenarioO.prefs[path].sortedColumns[colNo];\n\t\t\texistingSortedColumns[c] = colNo;\n\t\t}\n\t\t\n\t\t//Loop through the columns in the current view...\n\t\tvar lastColName = false;\n\t\tforeach (zenarioO.sortedColumns as var colNo) {\n\t\t\tvar c = zenarioO.sortedColumns[colNo];\n\t\t\t\n\t\t\tif (zenarioO.isShowableColumn(c, false, true)) {\n\t\t\t\t//...checking to see if there are any newly added columns\n\t\t\t\tif (!defined(existingSortedColumns[c])) {\n\t\t\t\t\t//If so, attempt to find a new place for this column by looking at where the column before it was\n\t\t\t\t\tvar colPos = existingSortedColumns[lastColName];\n\t\t\t\t\t\n\t\t\t\t\tif (!defined(colPos)) {\n\t\t\t\t\t\tcolPos = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolPos = 1*colPos + 1;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//Add the column in\n\t\t\t\t\tzenarioO.prefs[path].sortedColumns.splice(colPos, 0, c);\n\t\t\t\t\t\n\t\t\t\t\t//Update the array of placements\n\t\t\t\t\tforeach (existingSortedColumns as var d) {\n\t\t\t\t\t\tif (existingSortedColumns[d] >= colPos) {\n\t\t\t\t\t\t\t++existingSortedColumns[d]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\texistingSortedColumns[c] = colPos;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tlastColName = c;\n\t\t}\n\t\t\n\t\tzenarioO.sortedColumns = zenarioO.prefs[path].sortedColumns;\n\t}\n\t\n\t\n\t\n\tif (zenarioO.tuix.items && zenarioO.tuix.__item_count__ == 1 && engToBoolean(zenarioO.tuix.allow_bypass)) {\n\t\tzenarioO.branches[zenarioO.branches.length-1].bypasses[zenarioO.path] = true;\n\t} else {\n\t\tdelete zenarioO.branches[zenarioO.branches.length-1].bypasses[zenarioO.path];\n\t}\n\t\n\t\n\t//Check the queue to see if there are any more navigation commands queued after this destination. If so, run them, and stop processing this one\n\tif (zenarioO.checkQueue(true)) {\n\t\treturn;\n\t}\n\t\n\t//If there is only one item and \"allow_bypass\" is enabled, skip right past this panel\n\tif (zenarioO.tuix.items && zenarioO.tuix.__item_count__ == 1 && engToBoolean(zenarioO.tuix.allow_bypass)) {\n\t\tif (backwards) {\n\t\t\tif (zenarioO.getBackButtonTitle() !== false) {\n\t\t\t\tzenarioO.back();\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tvar link;\n\t\t\tif (zenarioO.tuix.items) {\n\t\t\t\tforeach (zenarioO.tuix.items as var id) {\n\t\t\t\t\tvar selectedItems = {};\n\t\t\t\t\tselectedItems[id] = true;\n\t\t\t\t\tzenarioO.pi.cmsSetsSelectedItems(selectedItems);\n\t\t\t\t\t//zenarioO.saveSelection();\n\t\t\t\t\t\n\t\t\t\t\tif (zenarioO.itemClickThroughAction(id)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t//If there are no items in this Panel and the return_if_empty flag is set, attempt to go back\n\t} else if ((!zenarioO.tuix.items || !zenarioO.tuix.__item_count__) && engToBoolean(zenarioO.tuix.return_if_empty)) {\n\t\tif (zenarioO.getBackButtonTitle() !== false) {\n\t\t\tzenarioO.back();\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\t\n\t//Look to see if there are any item_link type columns\n\tvar menuIds = {},\n\t\tcontentTags = {},\n\t\totherItemLinks = {},\n\t\tcTypes = {},\n\t\tvalue, values,\n\t\tcTypeAndId,\n\t\ti, c, col, path,\n\t\tlang, parent, url;\n\t\n\tforeach (zenarioO.tuix.columns as c => col) {\n\t\tif (zenarioO.isShowableColumn(c)) {\n\t\t\tif (path = col.item_link) {\n\t\t\t\tswitch (path) {\n\t\t\t\t\tcase 'content_item':\n\t\t\t\t\tcase 'content_item_or_url':\n\t\t\t\t\n\t\t\t\t\t\tforeach (zenarioO.tuix.items as i) {\n\t\t\t\t\t\t\tif (value = zenarioO.tuix.items[i][c]) {\n\t\t\t\t\t\t\t\tcTypeAndId = value.split('_');\n\t\t\t\t\t\t\t\tif (cTypeAndId[0]\n\t\t\t\t\t\t\t\t && cTypeAndId[0] != 'null'\n\t\t\t\t\t\t\t\t && cTypeAndId[0] === cTypeAndId[0].replace(/\\W/, '')\n\t\t\t\t\t\t\t\t && cTypeAndId[1]\n\t\t\t\t\t\t\t\t && cTypeAndId[1] == 1*cTypeAndId[1]) {\n\t\t\t\t\t\t\t\t\tlang = zenarioO.itemLanguage(i),\n\t\t\t\t\t\t\t\t\tparent = zenarioO.itemParent(i);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (!contentTags[lang]) {\n\t\t\t\t\t\t\t\t\t\tcontentTags[lang] = {};\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (!contentTags[lang][parent]) {\n\t\t\t\t\t\t\t\t\t\tcontentTags[lang][parent] = '';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcontentTags[lang][parent] += ',';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tcontentTags[lang][parent] += cTypeAndId[0] + '_' + cTypeAndId[1];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase 'menu_item':\n\t\t\t\t\t\tforeach (zenarioO.tuix.items as i) {\n\t\t\t\t\t\t\tif ((value = zenarioO.tuix.items[i][c])\n\t\t\t\t\t\t\t && (value == 1*value)) {\n\t\t\t\t\t\t\t\tlang = zenarioO.itemLanguage(i);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (!menuIds[lang]) {\n\t\t\t\t\t\t\t\t\tmenuIds[lang] = '';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmenuIds[lang] += ',';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tmenuIds[lang] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tforeach (zenarioO.tuix.items as i) {\n\t\t\t\t\t\t\tif (value = zenarioO.tuix.items[i][c]) {\n\t\t\t\t\t\t\t\tif (!otherItemLinks[path]) {\n\t\t\t\t\t\t\t\t\totherItemLinks[path] = '';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\totherItemLinks[path] += ',';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t\totherItemLinks[path] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t//Launch AJAX requests for each of the item links\n\t//As there may be more than one we'll launch them syncronously to save time\n\t//When all the requests have been completed we'll then proceed to the go3 function.\n\tzenarioO.contentItems = {};\n\tzenarioO.menuItems = {};\n\tzenarioO.otherItemLinks = {};\n\tzenarioO.itemLinkRequestsLeft = 0;\n\tzenarioO.shallowLinks = {'content_item': 'zenario__content/panels/content', 'content_item_or_url': 'zenario__content/panels/content', 'menu_item': 'zenario__menu/panels/menu_nodes'};\n\t\n\tforeach (contentTags as lang) {\n\t\tforeach (contentTags as parent) {\n\t\t\tif (contentTags[lang][parent]) {\n\t\t\t\n\t\t\t\tif (!zenarioO.contentItems[lang]) {\n\t\t\t\t\tzenarioO.contentItems[lang] = {}\n\t\t\t\t}\n\t\t\t\tif (!zenarioO.contentItems[lang][parent]) {\n\t\t\t\t\tzenarioO.contentItems[lang][parent] = {}\n\t\t\t\t}\n\t\t\t\n\t\t\t\turl =\n\t\t\t\t\tURLBasePath +\n\t\t\t\t\t'zenario/admin/organizer.ajax.php?path=' + zenarioO.shallowLinks['content_item'] +\n\t\t\t\t\t'&_get_item_links=' + contentTags[lang][parent] +\n\t\t\t\t\t'&languageId=' + encodeURIComponent(lang);\n\t\t\t\t\n\t\t\t\t//if (!(zenarioO.contentItems[lang][parent] = zenario.checkSessionStorage(url, {}, true, zenarioO.loadNum))) {\n\t\t\t\t\t++zenarioO.itemLinkRequestsLeft;\n\t\t\t\t\tzenarioO.getDataHack(url, lang, function(lang, data) {\n\t\t\t\t\t\tif (goNum == zenarioO.goNum) {\n\t\t\t\t\t\t\tzenarioO.contentItems[lang][parent] = data;\n\t\t\t\t\t\t\tif (!--zenarioO.itemLinkRequestsLeft) {\n\t\t\t\t\t\t\t\tzenarioO.go3(goNum, searchTerm, backwards, runFunctionAfter);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t//}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tforeach (menuIds as lang => values) {\n\t\tif (values) {\n\t\t\t\n\t\t\tif (!zenarioO.menuItems[lang]) {\n\t\t\t\tzenarioO.menuItems[lang] = {}\n\t\t\t}\n\t\t\t\n\t\t\turl =\n\t\t\t\tURLBasePath +\n\t\t\t\t'zenario/admin/organizer.ajax.php?path=' + zenarioO.shallowLinks['menu_item'] +\n\t\t\t\t'&_get_item_links=' + encodeURIComponent(values) +\n\t\t\t\t'&languageId=' + encodeURIComponent(lang) +\n\t\t\t\t'&refinerName=language' +\n\t\t\t\t'&refinerId=' + encodeURIComponent(lang) +\n\t\t\t\t'&refiner__language=' + encodeURIComponent(lang);\n\t\t\t\n\t\t\t//if (!(zenarioO.menuItems[lang] = zenario.checkSessionStorage(url, {}, true, zenarioO.loadNum))) {\n\t\t\t\t++zenarioO.itemLinkRequestsLeft;\n\t\t\t\tzenarioO.getDataHack(url, lang, function(lang, data) {\n\t\t\t\t\tif (goNum == zenarioO.goNum) {\n\t\t\t\t\t\tzenarioO.menuItems[lang] = data;\n\t\t\t\t\t\tif (!--zenarioO.itemLinkRequestsLeft) {\n\t\t\t\t\t\t\tzenarioO.go3(goNum, searchTerm, backwards, runFunctionAfter);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t//}\n\t\t}\n\t}\n\t\n\tforeach (otherItemLinks as path => values) {\n\t\tif (values) {\n\t\t\t\n\t\t\tif (!zenarioO.otherItemLinks[path]) {\n\t\t\t\tzenarioO.otherItemLinks[path] = {}\n\t\t\t}\n\t\t\t\n\t\t\turl =\n\t\t\t\tURLBasePath +\n\t\t\t\t'zenario/admin/organizer.ajax.php?path=' + encodeURIComponent(path) +\n\t\t\t\t'&_get_item_links=' + encodeURIComponent(values);\n\t\t\t\n\t\t\t//if (!(zenarioO.otherItemLinks[path] = zenario.checkSessionStorage(url, {}, true, zenarioO.loadNum))) {\n\t\t\t\t++zenarioO.itemLinkRequestsLeft;\n\t\t\t\tzenarioO.getDataHack(url, path, function(path, data) {\n\t\t\t\t\tif (goNum == zenarioO.goNum) {\n\t\t\t\t\t\tzenarioO.otherItemLinks[path] = data;\n\t\t\t\t\t\tif (!--zenarioO.itemLinkRequestsLeft) {\n\t\t\t\t\t\t\tzenarioO.go3(goNum, searchTerm, backwards, runFunctionAfter);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t//}\n\t\t}\n\t}\n\t\n\t//If there were no item links to look up, we don't need to wait for any AJAX requests before continuing\n\tif (!zenarioO.itemLinkRequestsLeft) {\n\t\tzenarioO.go3(goNum, searchTerm, backwards, runFunctionAfter);\n\t\n\t//If there were, set a timeout on them so that the panel will eventually display even if one or two times out\n\t} else {\n\t\tif (zenarioO.go3Timeout) {\n\t\t\tclearTimeout(zenarioO.go3Timeout);\n\t\t}\n\t\tzenarioO.go3Timeout =\n\t\t\tsetTimeout(\n\t\t\t\tfunction() {\n\t\t\t\t\tzenarioO.go3(goNum, searchTerm, backwards, runFunctionAfter);\n\t\t\t\t}, zenarioO.getItemLinkTimeoutTime);\n\t}\n};\n\n//A wrapper function to ensure that the url, lang variables keep their values, rather than get overwritten\nzenarioO.getDataHack = function(url, lang, success) {\n\t\n\tzenario.ajax(url, url.length > 2000, true, true, true).after(function(data) {\n\t\tsuccess(lang, data);\n\t});\n\t\n\t//setTimeout(\n\t//\tfunction() {\n\t//\t\t//Hack to try and prevent a possible bug where the GET request gets too large:\n\t//\t\t\t//Convert it to a post request if it gets too big\n\t//\t\tvar post = url.length > 2000,\n\t//\t\t\tdata = zenario.nonAsyncAJAX(url, post);\n\t//\t\tsuccess(url, lang, data);\n\t//\t}, 1);\n};\n\n\nzenarioO.go3 = function(goNum, searchTerm, backwards, runFunctionAfter) {\n\t\n\tif (!zenarioA.isFullOrganizerWindow && !zenarioA.checkIfBoxIsOpen('og')) {\n\t\treturn;\n\t}\n\t\n\t//Check that this isn't an out-of-date request that has come in syncronously via AJAX\n\tif (goNum != zenarioO.goNum) {\n\t\treturn;\n\t} else {\n\t\tzenarioO.lastSuccessfulGoNum = ++zenarioO.goNum;\n\t}\n\t\n\tif (zenarioO.go3Timeout) {\n\t\tclearTimeout(zenarioO.go3Timeout);\n\t}\n\t\n\tget('organizer_preloader_circle').style.display = 'none';\n\t\n\tzenarioO.setNavigation();\n\t\n\t//Display a pop-up message, if this is not a refresh and one has been requested\n\tif (!backwards && zenarioO.tuix.popout_message) {\n\t\tif (!defined(zenarioO.refreshToPage) || zenarioO.tuix.popout_message != zenarioO.lastPopoutMessage) {\n\t\t\tzenarioA.showMessage(zenarioO.tuix.popout_message, true, false);\n\t\t}\n\t\t\n\t\tzenarioO.lastPopoutMessage = zenarioO.tuix.popout_message;\n\t}\n\t\n\t\n\tzenarioO.searchAndSortItems(searchTerm);\n\t\n\t//(Periodic refresh is now disabled)\n\t//if (!engToBoolean(zenarioO.tuix.disable_periodic_refresh)) {\n\t//\tzenarioO.periodicRefresh();\n\t//}\n\t\n\tif (!zenarioO.firstLoaded) {\n\t\tzenarioO.firstLoaded = true;\n\t\tzenarioA.hideAJAXLoader();\n\t}\n\t\n\tzenarioO.setWrapperClass('loaded', true);\n\tzenarioO.setWrapperClass('filters_set', zenarioO.filtersSet);\n\tzenarioO.setWrapperClass('filters_set_in_view_options', zenarioO.filtersSetInViewOptions);\n\t\n\tif (runFunctionAfter) {\n\t\trunFunctionAfter();\n\t}\n};\n\nzenarioO.setWrapperClass = function(className, active) {\n\t$('#organizer__box_inner')\n\t\t.removeClass('organizer_' + (active? 'not_' : '') + className)\n\t\t.addClass('organizer_' + (active? '' : 'not_') + className);\n};\n\n\nzenarioO.itemLanguage = function(i) {\n\t\n\tif (i && zenarioO.tuix && zenarioO.tuix.items && zenarioO.tuix.items[i]\n\t && (!zenarioO.tuix.items[i].css_class || ('' + zenarioO.tuix.items[i].css_class).indexOf('ghost') == -1)\n\t && zenarioO.tuix.items[i].language_id) {\n\t\treturn zenarioO.tuix.items[i].language_id;\n\t\n\t} else if (zenarioO.tuix && zenarioO.tuix.key) {\n\t\treturn zenarioO.tuix.key.languageId || zenarioO.tuix.key.language;\n\t\n\t} else {\n\t\treturn '';\n\t}\n};\n\n\n\nzenarioO.itemParent = function(i) {\n\t\n\t//if (i && zenarioO.tuix && zenarioO.tuix.items && zenarioO.tuix.items[i]\n\t// && zenarioO.tuix.db_items && zenarioO.tuix.db_items.hierarchy_column) {\n\t//\n\t//\treturn zenarioO.tuix.items[i][zenarioO.tuix.db_items.hierarchy_column] || '';\n\t//\n\t//} else {\n\t\treturn '';\n\t//}\n};\n\n\n//Create a list of which columns are to be shown.\nzenarioO.getShownColumns = function(path, defaultSortColumn, columns) {\t\n\tvar firstColumn = false;\n\tvar columnsShown = false;\n\tvar shownColumns = {};\n\t\n\tif (zenarioO.prefs && zenarioO.prefs[path] && zenarioO.prefs[path].shownColumns) {\n\t\tshownColumns = zenarioO.prefs[path].shownColumns;\n\t}\n\t\n\tif (columns) {\n\t\tforeach (columns as var c) {\n\t\t\tif (!firstColumn) {\n\t\t\t\tfirstColumn = c;\n\t\t\t}\n\t\t\t\n\t\t\tif (engToBoolean(columns[c].always_show)) {\n\t\t\t\tcolumnsShown = shownColumns[c] = true;\n\t\t\t\n\t\t\t} else if (defined(shownColumns[c])) {\n\t\t\t\tif (shownColumns[c]) {\n\t\t\t\t\tcolumnsShown = true;\n\t\t\t\t}\n\t\t\t\n\t\t\t} else {\n\t\t\t\tif (engToBoolean(columns[c].show_by_default)) {\n\t\t\t\t\tcolumnsShown = shownColumns[c] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//Show the first column by default, if all others are turned off\n\tif (!columnsShown) {\n\t\tshownColumns[firstColumn || defaultSortColumn] = true;\n\t}\n\t\n\treturn shownColumns;\n};\n\n\n//zenarioO.scrollToPageTop = false;\nzenarioO.nextPage = function() {\n\t\n\tif (zenarioO.lockPageClicks) {\n\t\treturn false;\n\t}\n\t\n\tif (zenarioO.page < zenarioO.pageCount) {\n\t\t//zenarioO.scrollToPageTop = true;\n\t\tzenarioO.goToPage(zenarioO.page + 1);\n\t}\n};\n\n//zenarioO.scrollToPageBottom = false;\nzenarioO.prevPage = function() {\n\t\n\tif (zenarioO.lockPageClicks) {\n\t\treturn false;\n\t}\n\t\n\tif (zenarioO.page > 1) {\n\t\t//zenarioO.scrollToPageBottom = true;\n\t\t//zenarioO.scrollToPageTop = true;\n\t\tzenarioO.goToPage(zenarioO.page - 1);\n\t}\n};\n\nzenarioO.goToPage = function(page) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tif (zenarioO.page != page) {\n\t\tzenarioO.deselectAllItems();\n\t}\n\t\n\tzenarioO.lockPageClicks = true;\n\tzenarioO.inspectionView = false;\n\t\n\tzenarioO.pi.resetScrollPosition();\n\t\n\tif (zenarioO.server_side) {\n\t\tzenarioO.refreshAndShowPage(page);\n\t} else {\n\t\tzenarioO.showPage(page);\n\t}\n};\n\nzenarioO.goToLastPage = function() {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tzenarioO.goToPage(zenarioO.pageCount);\n};\n\nzenarioO.refreshAndShowPage = function(page) {\n\tzenarioO.page = page || 1;\n\tzenarioO.load()\n};\n\nzenarioO.showPage = function(page) {\n\tzenarioO.page = page;\n\tzenarioO.setPanel();\n};\n\nzenarioO.searchAndSortItems = function(searchTerm) {\n\tvar id,\n\t\tmatches,\n\t\tnumeric;\n\t\n\t//Show/hide the search box, and set the search term\n\t\t//(Don't do this if this was a page refresh, not a page jump)\n\tif (!defined(zenarioO.refreshToPage)) {\n\t\tzenarioO.setSearch(searchTerm);\n\t}\n\t\n\t\n\t\n\t\n\t\n\tif (zenarioO.server_side) {\n\t\t//If server side sorting and searching is being used, we can use the sort order from the server as\n\t\t//our searched and sorted list.\n\t\t//(Note that it's not possible to sort on the server but search on the client.)\n\t\tzenarioO.searchedItems = zenarioO.tuix.__item_sort_order__;\n\t\tzenarioO.searchMatches = zenarioO.tuix.__item_count__;\n\t\n\t} else {\n\t\t\n\t\t\n\t\tif (!defined(zenarioO.searchTerm) || get('organizer_search').style.visibility == 'hidden') {\n\t\t\tzenarioO.searchedItems = zenarioO.pi.sortAndSearchItems();\n\t\t} else {\n\t\t\tzenarioO.searchedItems = zenarioO.pi.sortAndSearchItems(searchTerm);\n\t\t}\n\t\t\n\t\tzenarioO.searchMatches = zenarioO.searchedItems.length;\n\t}\n\t\n\tzenarioO.itemsOrder = {};\n\tforeach (zenarioO.searchedItems as var itemNo => id) {\n\t\tzenarioO.itemsOrder[id] = 1*itemNo;\n\t}\n\t\n\tvar ord, page = 1;\n\t\n\tif (zenarioO.thisPageSize) {\n\t\t//Work out the current page number for server-side searching and sorting\n\t\tif (zenarioO.server_side && zenarioO.server_side) {\n\t\t\tpage = zenarioO.tuix.__page__ || zenarioO.refreshToPage || 1;\n\t\n\t\t//Work out the current page number for client-side sorting\n\t\t} else {\n\t\t\tif (defined(zenarioO.refreshToPage)) {\n\t\t\t\tpage = zenarioO.refreshToPage;\n\t\t\t} else {\n\t\t\t\t//If we've not got a specific target, check if any items were selected here and use the first we find as a target\n\t\t\t\tif (!zenarioO.inspectionViewItem) {\n\t\t\t\t\tvar selectedItems = zenarioO.pi.returnSelectedItems();\n\t\t\t\t\tforeach (selectedItems as id) {\n\t\t\t\t\t\tzenarioO.inspectionViewItem = id;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t\t//If the item we want is in the results, make sure we show that page\n\t\t\t\tif (ord = zenarioO.itemsOrder[zenarioO.inspectionViewItem]) {\n\t\t\t\t\tpage = Math.floor(ord / zenarioO.thisPageSize) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tdelete zenarioO.refreshToPage;\n\tzenarioO.showPage(page);\n};\n\nzenarioO.stop = false;\nzenarioO.stopWarningMessage = false;\nzenarioO.disableInteraction = function(warningMessage) {\n\tzenarioO.stop = true;\n\tif (warningMessage) {\n\t\tzenarioO.stopWarningMessage = warningMessage;\n\t}\n\t$('#organizer_search_term').prop('disabled', true);\n\tzenarioO.setWrapperClass('interaction_disabled', true);\n};\n\nzenarioO.enableInteraction = function() {\n\tzenarioO.stop = false;\n\tzenarioO.stopWarningMessage = false;\n\t$('#organizer_search_term').prop('disabled', false);\n\tzenarioO.setWrapperClass('interaction_disabled', false);\n};\n\n\nzenarioO.getHeader = function() {\n\treturn $('#organizer_header');\n};\nzenarioO.getPanel = function() {\n\treturn $('#organizer_rightColumnContent');\n};\nzenarioO.getFooter = function() {\n\treturn $('#organizer_lowerMiddleColumn');\n};\n\n\nzenarioO.setPanel = function() {\n\t\n\tvar i,\n\t\t$header = zenarioO.getHeader(),\n\t\t$panel = zenarioO.getPanel(),\n\t\t$footer = zenarioO.getFooter(),\n\t\titemsGone = false;\n\t\tn = 0;\n\t\n\t\n\t//zenarioO.loadSelection();\n\t\n\tif (window.zenarioOSelectMode) {\n\t\tzenarioO.multipleSelectEnabled = window.zenarioOMultipleSelect;\n\t} else {\n\t\t//Check to see if any item toolbar buttons allow for multiple selections, and enable multiple select if so\n\t\tzenarioO.multipleSelectEnabled = zenarioO.pi.returnMultipleSelectEnabled();\n\t}\n\t\n\tvar selectedItems = _.clone(zenarioO.pi.returnSelectedItems());\n\t\n\tforeach (selectedItems as var i) {\n\t\t//Remove any items that have disappeared since this panel was last shown\n\t\tif (!zenarioO.tuix.items\n\t\t || !zenarioO.tuix.items[i]) {\n\t\t\tdelete selectedItems[i];\n\t\t\titemsGone = true;\n\t\t\n\t\t} else {\n\t\t\t++n;\n\t\t}\n\t}\n\t\n\t//T10250, When deleting an item in Organizer, select the next one\n\t//If the admin just pressed a button, and that caused the item(s) that were selected to disappear,\n\t//then try to select the next item.\n\tif (itemsGone && n == 0) {\n\t\tif (zenarioO.selectNextItem\n\t\t && zenarioO.tuix.items\n\t\t && zenarioO.tuix.items[zenarioO.selectNextItem]) {\n\t\t\tselectedItems[zenarioO.selectNextItem] = true;\n\t\t\t++n;\n\t\t}\n\t\n\t//If multiple-select is not enabled, ensure we've not got too many items selected\n\t} else if (!zenarioO.multipleSelectEnabled && n > 1) {\n\t\tselectedItems = {};\n\t\tn = 0;\n\t}\n\tdelete zenarioO.selectNextItem;\n\t\n\t//If we don't have any record of any selected items, but we were asked to select one in the URL,\n\t//then select that one\n\tif (n == 0\n\t && zenarioO.inspectionViewItem\n\t && zenarioO.tuix.items\n\t && zenarioO.tuix.items[zenarioO.inspectionViewItem]) {\n\t\tn = 1;\n\t\tselectedItems = {};\n\t\tselectedItems[zenarioO.inspectionViewItem] = true;\n\t\n\t//Make sure we don't try to show inspection view if more than one item is selected\n\t} else if (n > 1\n\t || !zenarioO.inspectionViewItem\n\t || !zenarioO.tuix.items\n\t || !zenarioO.tuix.items[zenarioO.inspectionViewItem]) {\n\t\tzenarioO.inspectionView = false;\n\t}\n\t\n\tzenarioO.pi.cmsSetsSelectedItems(selectedItems);\n\t\n\t//Set the colour of the debug button\n\tvar debugButton, path;\n\tif (debugButton = get('organizer_debug_button')) {\n\t\t\n\t\t//Grey: normal, where there is a navigation path, no refiner.\n\t\tif (!zenarioO.refiner) {\n\t\t\tdebugButton.className = 'zenario_debug zenario_debug_with_no_refiner';\n\t\t\n\t\t//Yellow: e.g. the Trash, where refiner name is set but refiner ID is not set.\n\t\t} else if (!zenarioO.refiner.id) {\n\t\t\tdebugButton.className = 'zenario_debug zenario_debug_with_refiner_and_no_id';\n\t\t\n\t\t//Orange: e.g. where admin has selected something and views \"its\" panel, where refiner name is set and there is a refiner ID.\n\t\t} else {\n\t\t\tdebugButton.className = 'zenario_debug zenario_debug_with_refiner_and_id';\n\t\t}\n\t}\n\t\n\t\n\tzenarioO.enableInteraction();\n\t\n\t\n\tzenarioO.setPanelTitle();\n\tzenarioO.setBackButton();\n\tzenarioO.getPageCount();\n\t\n\tpath = zenarioO.path.split('/');\n\tget('organizer__box_wrap').className = path.join('__') + ' organizer_panel__' + path.pop();\n\t\n\tzenarioO.pi.showPanel($header, $panel, $footer);\n\t\n\tif (zenarioO.tuix.toast) {\n\t\tzenarioA.toast(zenarioO.tuix.toast);\n\t}\n\t\n\t\n\t\n\t//Add $('#organizer_search') ..?\n\t\n\tzenarioO.setButtons();\n\tzenarioO.setTrash();\n\t\n\t\n\t//Check that Organizer and the panel are the right size\n\tzenarioO.size(true);\n\t\n\t\n\t//zenarioO.scrollToPageTop = false;\n\t//zenarioO.scrollToPageBottom = false;\n\t\n\t//Is this line needed..?\n\tzenarioO.lockPageClicks = false;\n\t\n\t//Set the hash in the browser bar\n\tzenarioO.setHash();\n\t\n\t// Open help tour\n\tif (!window.zenarioONotFull\n\t && !zenarioA.openedInIframe\n\t && !zenarioA.seen_help_tour\n\t && zenarioA.show_help_tour_next_time) {\n\t\t// Get current nav\n\t\t//var topLevel = zenarioO.currentTopLevelPath.split('/')[0];\n\t\t// Always use this nav\n\t\tvar topLevel = 'dummy_item';\n\t\tzenarioA.showTutorial(topLevel, true);\n\t}\n\tzenarioA.seen_help_tour = true;\n\t\n\t//Little hack to fix a few sizing bugs:\n\t//Run another size check after all of the scripts have finished running.\n\tsetTimeout(function() {\n\t\tzenarioO.size(true);\n\t}, 0);\n};\n\n\n\n//Go backwards, if possible\nzenarioO.back = function(times) {\n\tif (zenarioO.stop) {\n\t\tif (zenarioO.stopWarningMessage) {\n\t\t\talert(zenarioO.stopWarningMessage);\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tvar branchLevel = zenarioO.branches.length - 1,\n\t\tstats = {},\n\t\tcanGoBack = zenarioO.getFromLastPanel(branchLevel, zenarioO.path, 'title', false, times, false, stats),\n\t\tbackwards = {},\n\t\ti;\n\t\n\tif (canGoBack !== false) {\n\t\t//Try to get the previously selected item from the previous panel, if there was one\n\t\tbackwards.selectedItemFromLastPanel = zenarioO.getSelectedItemFromLastPanel(stats.path);\n\t\t\n\t\t//Deslect all items before leaving\n\t\tzenarioO.deselectAllItems();\n\t\tzenarioO.clearRefiner();\n\t\tzenarioO.clearSearch();\n\t\t\n\t\tfor (i = stats.pops; i > 0; --i) {\n\t\t\tzenarioO.branches.pop();\n\t\t}\n\t\tzenarioO.go(stats.path, undefined, undefined, undefined, undefined, backwards);\n\t}\n};\n\n\n\n\n//Scan the map, registering any link that's a branch\nzenarioO.knownBranches = {};\nzenarioO.lookForBranches = function(map, path, panelPath, parentKey) {\n\t\n\tvar isBranch, p, i, link;\n\t\n\tif (map._path_here) {\n\t\tpanelPath = map._path_here;\n\t}\n\t\n\tforeach (map as i) {\n\t\tif (map[i] && typeof map[i] == 'object') {\n\t\t\t\n\t\t\tp = path? path + '/' + i : i;\n\t\t\t\n\t\t\t//Old logic: developers must manually specify which things are branches\n\t\t\t//var isBranch = map[i].link && typeof map[i].link == 'object' && map[i].link.branch;\n\t\t\t\n\t\t\t//New logic: all links are branches except for top/second-level items,\n\t\t\t//and top-level items may not contain links\n\t\t\tisBranch = false;\n\t\t\tif (defined(parentKey)\n\t\t\t && (link = map[i].link)\n\t\t\t && (typeof link == 'object')) {\n\t\t\t\t \n\t\t\t\tif (parentKey != 'nav') {\n\t\t\t\t\tlink.branch = isBranch = true;\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tlink.branch = isBranch = false;\n\t\t\t\t\t\n\t\t\t\t\t//Automatically turn links with refiners into deep links to that refiner\n\t\t\t\t\tif (link.refiner\n\t\t\t\t\t && link.path\n\t\t\t\t\t && link.path.indexOf('//') == -1) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlink.path += '/refiners/' + link.refiner + '//';\n\t\t\t\t\t\tif (link.refinerId) {\n\t\t\t\t\t\t\tlink.path += link.refinerId;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlink.path += '//';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//Allow refiners to link to themselves, to save us from adding needless Waypoints just to link to refiners\n\t\t\tif (parentKey == 'refiners' && typeof map[i] == 'object' && !defined(map[i].link)) {\n\t\t\t\tmap[i].link = {\n\t\t\t\t\tpath: panelPath,\n\t\t\t\t\trefiner: i\n\t\t\t\t};\n\t\t\t\tmap[i].link.branch = isBranch = true;\n\t\t\t}\n\t\t\t\n\t\t\tif (isBranch) {\n\t\t\t\tif (!zenarioO.knownBranches[panelPath]) {\n\t\t\t\t\tzenarioO.knownBranches[panelPath] = {};\n\t\t\t\t}\n\t\t\t\tif (!zenarioO.knownBranches[panelPath][map[i].link.path]) {\n\t\t\t\t\tzenarioO.knownBranches[panelPath][map[i].link.path] = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//In the event that two branches go to the same place, prefer item double-click links over anything else\n\t\t\t\tif (!zenarioO.knownBranches[panelPath][map[i].link.path][map[i].link.refiner || 1]\n\t\t\t\t || ('' + zenarioO.knownBranches[panelPath][map[i].link.path][map[i].link.refiner || 1]).substr(-4) != 'item') {\n\t\t\t\t\t//Otherwise, log the branch and stop scanning the parent tag\n\t\t\t\t\tzenarioO.knownBranches[panelPath][map[i].link.path][map[i].link.refiner || 1] = zenarioO.shortenPath(p);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tzenarioO.lookForBranches(map[i], p, panelPath, i);\n\t\t}\n\t}\n};\n\n//Remove every branch taken so far from memory\nzenarioO.resetBranches = function() {\n\tzenarioO.branches = [{\n\t\t'panel_instances': {},\n\t\t'bypasses': {},\n\t\t'filters': {},\n\t\t'refiners': {},\n\t\t'searches': {}\n\t}];\n};\n\n\n//Add a new branch\nzenarioO.branch = function(path, lastPath, lastTitle, noReturnEnabled) {\n\t\n\tpath = zenarioO.shortenPath(path);\n\t\n\tzenarioO.branches[zenarioO.branches.length] = {\n\t\t'from': lastPath,\n\t\t'to': path,\n\t\t'title': lastTitle,\n\t\t'no_return': noReturnEnabled,\n\t\t'panel_instances': {},\n\t\t'bypasses': {},\n\t\t'filters': {},\n\t\t'refiners': {},\n\t\t'searches': {}\n\t};\n};\n\n//Set the current location in the URL\nzenarioO.setHash = function() {\n\t\n\t//Don't bother setting a hash in select mode, where you can't see the path anyway\n\tif (window.zenarioONotFull) {\n\t\treturn;\n\t}\n\t\n\t//Don't set the location in the hash in IE 6/7, as this really slows them down\n\tif (!zenario.browserIsIE(7)) {\n\t\tvar path = zenarioO.getHash();\n\t\t\n\t\t//Add the path to the hash\n\t\tdocument.location.hash = path;\n\t\tzenario.currentHash = document.location.hash;\n\t}\n\t\n\tif (zenarioA.homeLink && get('home_page_button_link')) {\n\t\tget('home_page_button_link').href = zenarioO.parseReturnLink(zenarioA.homeLink);\n\t}\n\tif (zenarioA.backLink && get('last_page_button_link')) {\n\t\tget('last_page_button_link').href = zenarioO.parseReturnLink(zenarioA.backLink);\n\t}\n};\n\n\nzenarioO.getHash = function(ignoreSelectedItem) {\n\t\n\tvar hash = '',\n\t\tpath = zenarioO.path,\n\t\tb, kb, lastTo, failed = false,\n\t\toneItemSelected = false,\n\t\tselectedItem = '',\n\t\tselectedItems = zenarioO.pi && zenarioO.pi.returnSelectedItems(),\n\t\tprevPanels, prevPanelInstance, prevSelectedItems,\n\t\tfabPath = zenarioAB.isOpen && zenarioAB.path,\n\t\tfabKey = zenarioAB.isOpen && zenarioAB.openingKey,\n\t\tfabTab = zenarioAB.isOpen && zenarioAB.tuix && zenarioAB.tuix.tab;\n\t\n\tif (!ignoreSelectedItem && selectedItems) {\n\t\t//Check if there was only one item selected\n\t\tforeach (selectedItems as var i) {\n\t\t\tif (selectedItems[i]) {\n\t\t\t\tif (oneItemSelected === false) {\n\t\t\t\t\toneItemSelected = i;\n\t\t\t\t} else {\n\t\t\t\t\toneItemSelected = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t//If there is one item selected, put it in the hash after the path\n\t\tif (oneItemSelected) {\n\t\t\tif (!zenarioO.inspectionView) {\n\t\t\t\tselectedItem = oneItemSelected;\n\t\t\t} else {\n\t\t\t\tselectedItem = oneItemSelected + '/';\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Attempt to include the current branches taken in the URL by creating a deep link\n\tforeach (zenarioO.branches as var i) {\n\t\tif (i > 0) {\n\t\t\tb = zenarioO.branches[i];\n\t\t\t\n\t\t\t//Is this branch in the map?\n\t\t\tif (b.to && zenarioO.knownBranches[b.from] && zenarioO.knownBranches[b.from][b.to]\n\t\t\t && (kb = zenarioO.knownBranches[b.from][b.to][b.refiners[b.to]? b.refiners[b.to].name : 1])) {\n\t\t\t\t\n\t\t\t\tkb = zenarioO.shortenPath(kb);\n\t\t\t\t\n\t\t\t\tif (lastTo) {\n\t\t\t\t\t//Use a relative path on the other end of the branch, to save space in the URL\n\t\t\t\t\tif (kb.substr(0, lastTo.length) == lastTo) {\n\t\t\t\t\t\tkb = zenarioO.shortenPath(kb.substr(lastTo.length + 1));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//If we couldn't get a relative path then there was something odd with the branch\n\t\t\t\t\t\t//and we cannot create a deep link to it\n\t\t\t\t\t\tfailed = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\thash += '//';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//Add any selected items to the deep link\n\t\t\t\thash += kb + '//';\n\t\t\t\t\n\t\t\t\tprevPanels = zenarioO.branches[i-1];\n\t\t\t\tif (prevPanelInstance = prevPanels.panel_instances[b.from]) {\n\t\t\t\t\thash += zenarioO.implodeKeys(prevPanelInstance.returnSelectedItems());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlastTo = b.to;\n\t\t\t} else {\n\t\t\t\t//If the branch wasn't registered then we can't create a deep link to it\n\t\t\t\t//Note that this should never happen, but if it does break I don't want Organizer breaking too\n\t\t\t\tfailed = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//If we successfully built a deep link, combine it with the current path\n\t\t//Note that this involves running some of the above logic again\n\tif (!failed && lastTo) {\n\t\t//Use a relative path on the other end of the branch, to save space in the URL\n\t\tif (path.substr(0, lastTo.length) == lastTo) {\n\t\t\tpath = hash + '//' + zenarioO.shortenPath(path.substr(lastTo.length + 1));\n\t\t} else {\n\t\t\t//If we couldn't get a relative path then there was something odd with the branch\n\t\t\t//and we cannot create a deep link to it\n\t\t}\n\t}\n\t\n\t//Add the selected item to the URL\n\tif (selectedItem) {\n\t\t//No matter what the generated path was, there should always be two slashes between the selected item and the path\n\t\tif (zenario.rightHandedSubStr(path, 2) == '//') {\n\t\t\tpath += selectedItem;\n\t\t} else if (zenario.rightHandedSubStr(path, 1) == '/') {\n\t\t\tpath += '/' + selectedItem;\n\t\t} else {\n\t\t\tpath += '//' + selectedItem;\n\t\t}\n\t}\n\t\n\tif (!ignoreSelectedItem\n\t && defined(zenarioO.searchTerm)) {\n\t\tpath += '~-' + escapeStateString(zenarioO.searchTerm);\n\t}\n\tif (!ignoreSelectedItem\n\t && zenarioO.path\n\t && zenarioO.branches.length\n\t && zenarioO.branches[zenarioO.branches.length-1]\n\t && zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path]\n\t && !_.isEmpty(zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path])) {\n\t\tpath += '~_' + escapeStateString(zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path], true);\n\t}\n\t\n\t//Note down if a FAB is open\n\tif (fabPath) {\n\t\tpath += '~.' + escapeStateString(fabPath);\n\t\t\n\t\tif (fabTab) {\n\t\t\tpath += '~t' + escapeStateString(fabTab);\n\t\t}\n\t\tif (fabKey) {\n\t\t\tpath += '~k' + escapeStateString(fabKey, true);\n\t\t}\n\t}\n\t\n\t\n\treturn path;\n};\n\n\n\nzenarioO.searchOnClick = function(el) {\n};\n\n//Update the search term\nzenarioO.searchOnKeyUp = function(el) {\n\tif (zenarioO.doSearchAfterDelay) {\n\t\tclearTimeout(zenarioO.doSearchAfterDelay);\n\t}\n\t\n\tzenarioO.doSearchAfterDelay =\n\t\tsetTimeout(\n\t\t\tfunction() {\n\t\t\t\tzenarioO.doSearch(get('organizer_search_term'));\n\t\t\t}, zenarioO.searchDelayTime);\n};\n\nzenarioO.searchOnChange = function(el) {\n\tif (zenarioO.server_side) {\n\t\tif (zenarioO.doSearchAfterDelay) {\n\t\t\tclearTimeout(zenarioO.doSearchAfterDelay);\n\t\t\tzenarioO.doSearch(el);\n\t\t}\n\t}\n};\n\nzenarioO.markIfViewIsFiltered = function() {\n\tzenarioO.filteredView = defined(zenarioO.searchTerm) || zenarioO.filtersSet;\n};\n\nzenarioO.doSearch = function(el) {\n\tif (zenarioO.doSearchAfterDelay) {\n\t\tclearTimeout(zenarioO.doSearchAfterDelay);\n\t}\n\t\n\tvar searchTerm;\n\tif (el.value === '') {\n\t\tsearchTerm = undefined;\n\t} else {\n\t\tsearchTerm = el.value;\n\t\t\n\t\t//Ensure that the searct term is numeric if possible\n\t\tif (searchTerm.substr(0, 1) !== '0'\n\t\t && searchTerm == 1*searchTerm) {\n\t\t\tsearchTerm = 1*searchTerm;\n\t\t}\n\t}\n\t\n\t//Don't launch a search if the search term has not changed\n\tif (searchTerm === zenarioO.searchTerm) {\n\t\treturn;\n\t}\n\t\n\tzenarioO.searchTerm = searchTerm;\n\tzenarioO.markIfViewIsFiltered();\n\t\n\tzenarioO.saveSearch(zenarioO.searchTerm);\n\tzenarioO.runSearch();\n};\n\nzenarioO.runSearch = function() {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tzenarioO.lockPageClicks = true;\n\tzenarioO.inspectionView = false;\n\t\n\t//This slightly confusing line tries to allow the panel instance to turn on server side mode on the fly\n\t//and not have organizer break!\n\tif (zenarioO.server_side || (zenarioO.server_side = zenarioO.pi.returnDoSortingAndSearchingOnServer())) {\n\t\tzenarioO.refreshAndShowPage();\n\t} else {\n\t\tzenarioO.searchAndSortItems(zenarioO.searchTerm);\n\t}\n};\n\n\n\n\nzenarioO.allItemsSelected = function() {\n\tif (zenarioO.shownItemsLength == 0) {\n\t\treturn false;\n\t}\n\t\n\tvar i,\n\t\tc = 0,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\n\tforeach (selectedItems as i) {\n\t\t++c;\n\t}\n\t\n\treturn c == zenarioO.shownItemsLength;\n};\n\nzenarioO.noItemsSelected = function() {\n\tif (zenarioO.shownItemsLength == 0) {\n\t\treturn true;\n\t}\n\t\n\tvar i,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\n\tforeach (selectedItems as i) {\n\t\treturn false;\n\t}\n\t\n\treturn true;\n};\n\n\n\n\n\n\nzenarioO.parseReturnLink = function(url, replace) {\n\t\n\tif (!defined(replace)) {\n\t\tif (url && zenario.currentHash && !zenario.browserIsIE(7)) {\n\t\t\treplace = 'zenario_sk_return=' + zenario.currentHash.replace('#', '');\n\t\t} else {\n\t\t\treplace = '';\n\t\t}\n\t}\n\t\n\treturn zenario.addBasePath(('' + url).replace('zenario_sk_return=navigation_path', replace));\n};\n\n//Get a property, either from the panel's current refiner, or from the panel.\n//This allows us to have properties on panels that are overridden when a refiner is active.\nzenarioO.panelProp = function(prop, tuix) {\n\t\n\tvar refinerName,\n\t\trefinerDetails;\n\t\n\tif (tuix = tuix || zenarioO.tuix) {\n\t\tif ((refinerName = zenarioO.refiner && zenarioO.refiner.name)\n\t\t && (refinerDetails = tuix.refiners && tuix.refiners[refinerName])\n\t\t && (defined(refinerDetails[prop]))) {\n\t\t\treturn refinerDetails[prop];\n\t\t} else {\n\t\t\treturn tuix[prop];\n\t\t}\n\t}\n};\n\n//Remember a refiner on the current panel\nzenarioO.saveRefiner = function(refiner) {\n\tzenarioO.branches[zenarioO.branches.length-1].refiners[zenarioO.path] = zenarioO.refiner = refiner;\n};\n\n//Check to see if there was a refiner on a panel\nzenarioO.loadRefiner = function(path, branch) {\n\t//New branch? No refiner if so.\n\tif (branch === -1 || branch) {\n\t\treturn undefined;\n\t}\n\t\n\tif (zenarioO.branches[zenarioO.branches.length-1].refiners[path]) {\n\t\treturn zenarioO.branches[zenarioO.branches.length-1].refiners[path];\n\t}\n\t\n\treturn undefined;\n};\n\nzenarioO.clearRefiner = function() {\n\tzenarioO.refiner = undefined;\n\tzenarioO.saveRefiner();\n};\n\n//Remember an admin's search\nzenarioO.saveSearch = function(searchTerm) {\n\tzenarioO.branches[zenarioO.branches.length-1].searches[zenarioO.path] = searchTerm;\n\tzenarioO.pi.cmsSetsSearchTerm(searchTerm);\n};\n\n//Check to see if there was a Search on a panel\nzenarioO.loadFromBranches = function(path, branch, type) {\n\t//New branch? Clear the search if so.\n\tif (branch === -1 || branch) {\n\t\treturn undefined;\n\t}\n\t\n\tif (zenarioO.branches[zenarioO.branches.length-1]\n\t && zenarioO.branches[zenarioO.branches.length-1][type]\n\t && zenarioO.branches[zenarioO.branches.length-1][type][path]) {\n\t\treturn zenarioO.branches[zenarioO.branches.length-1][type][path];\n\t}\n\t\n\treturn undefined;\n};\n\nzenarioO.setSearch = function(searchTerm) {\n\t\n\tvar visibility;\n\t\n\tif (zenarioO.pi && zenarioO.pi.returnSearchingEnabled()) {\n\t\tvisibility = 'visible';\n\t\tzenarioO.searchTerm = searchTerm;\n\t} else {\n\t\tvisibility = 'hidden';\n\t\tzenarioO.searchTerm = undefined;\n\t}\n\t\n\tzenarioO.markIfViewIsFiltered();\n\tget('organizer_search').style.visibility = visibility;\n\t\n\tif (!defined(zenarioO.searchTerm)) {\n\t\tget('organizer_search_term').value = '';\n\t} else {\n\t\tget('organizer_search_term').value = zenarioO.searchTerm;\n\t}\n};\n\nzenarioO.clearSearch = function() {\n\tget('organizer_search_term').value = '';\n\t\n\tzenarioO.searchTerm = undefined;\n\tzenarioO.markIfViewIsFiltered();\n\t\n\tzenarioO.saveSearch(zenarioO.searchTerm);\n};\n\n\n\n\n\n\nzenarioO.toggleAllItems = function() {\n\tif (zenarioO.allItemsSelected()) {\n\t\tzenarioO.deselectAllItems();\n\t} else {\n\t\tzenarioO.selectAllItems();\n\t}\n\tzenarioO.setButtons();\n\tzenarioO.setHash();\n};\n\nzenarioO.selectAllItems = function() {\n\tzenarioO.selectItemRange();\n};\n\nzenarioO.deselectAllItems = function() {\n\tzenarioO.selectItemRange(-1);\n};\n\n\n\nzenarioO.selectItemRange = function(start, stop) {\n\t\n\tvar changes = false,\n\t\tselectThisItem,\n\t\tinRange = !defined(start),\n\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\n\tfor (var itemNo in zenarioO.searchedItems) {\n\t\tvar id = zenarioO.searchedItems[itemNo];\n\t\t\n\t\tif (zenarioO.shownItems && zenarioO.shownItems[id]) {\n\t\t\t\n\t\t\tselectThisItem = inRange || id === start || id === stop;\n\t\t\t\n\t\t\tif (selectThisItem && !selectedItems[id]) {\n\t\t\t\tzenarioO.pi.selectItem(id);\n\t\t\t\tchanges = true;\n\t\t\t\n\t\t\t} else if (!selectThisItem && selectedItems[id]) {\n\t\t\t\tzenarioO.pi.deselectItem(id);\n\t\t\t\tchanges = true;\n\t\t\t}\n\t\t\t\n\t\t\tif ((id === start && id === stop)) {\n\t\t\t\tinRange = false;\n\t\t\t} else if (id === start || id === stop) {\n\t\t\t\tinRange = !inRange;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (changes) {\n\t\tzenarioO.closeInspectionView();\n\t}\n};\n\n\nzenarioO.selectItems = function(itemsIn) {\n\t\n\tvar i, id, selectItems = {},\n\t\tchanges = false,\n\t\tselectThisItem,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\n\tif (_.isArray(itemsIn)) {\n\t\tforeach (itemsIn as i => id) {\n\t\t\tselectItems[id] = true;\n\t\t}\n\t} else if (_.isObject(itemsIn)) {\n\t\tselectItems = itemsIn;\n\t} else {\n\t\tselectItems[itemsIn] = true;\n\t}\n\t\n\tforeach (zenarioO.shownItems as id) {\n\t\tselectThisItem = selectItems[id];\n\t\t\n\t\tif (selectThisItem && !selectedItems[id]) {\n\t\t\tzenarioO.pi.selectItem(id);\n\t\t\tchanges = true;\n\t\t\n\t\t} else if (!selectThisItem && selectedItems[id]) {\n\t\t\tzenarioO.pi.deselectItem(id);\n\t\t\tchanges = true;\n\t\t}\n\t}\n\t\n\tif (changes) {\n\t\tzenarioO.closeInspectionView();\n\t\tzenarioO.setButtons();\n\t\tzenarioO.setHash();\n\t}\n};\n\n\n\n\n\n\nzenarioO.itemClickThrough = function(id, e) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tzenario.stop(e);\n\t\n\t\n\tif (!zenarioO.tuix\n\t || !zenarioO.tuix.items\n\t || !zenarioO.tuix.items[id]) {\n\t\treturn false;\n\t}\n\t\n\tzenarioO.itemClickThroughAction(id);\n\t\n\treturn false;\n};\n\nzenarioO.itemClickThroughAction = function(id) {\n\tvar link = zenarioO.itemClickThroughLink(id),\n\t\tselectedItems;\n\t\n\tif (link) {\n\t\tif (!engToBoolean(link.unselect_items)) {\n\t\t\tselectedItems = {};\n\t\t\tselectedItems[id] = true;\n\t\t\tzenarioO.pi.cmsSetsSelectedItems(selectedItems);\n\t\t\t//zenarioO.saveSelection();\n\t\t}\n\n\t\tzenarioT.action(zenarioO, zenarioO.tuix.items[id], true, true, link);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nzenarioO.itemClickThroughLink = function(id) {\n\tvar link = zenarioO.tuix.items[id].link,\n\t\tpanel = zenarioO.tuix.items[id].panel;\n\t\n\tif (!defined(link)\n\t && !defined(panel)\n\t && zenarioO.tuix.item) {\n\t\tlink = zenarioO.tuix.item.link;\n\t\tpanel = zenarioO.tuix.item.panel;\n\t}\n\t\n\tif (panel) {\n\t\tlink = {path: panel._path_here};\n\t}\n\t\n\t//If there is a max path set, don't allow the administrator to navigate to a different path.\n\t//But if the disallow_refiners_looping_on_min_path propery is set, don't allow\n\t//the administrator to navigate regardless of whether the path is different\t.\n\tif (link\n\t && window.zenarioONotFull\n\t && zenarioO.path === window.zenarioOMaxPath\n\t && (zenarioO.path !== link.path || window.zenarioODisallowRefinersLoopingOnMinPath)) {\n\t\treturn false;\n\t}\n\t\n\treturn link;\n};\n\n\n\n\n\nzenarioO.topRightButtonClick = function(id) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tzenarioT.action(zenarioO, zenarioO.map.top_right_buttons[id], false, -1);\n};\n\nzenarioO.topLevelClick = function(id, j, first) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tzenarioO.clearRefiner();\n\tzenarioO.clearSearch();\n\tzenarioO.resetBranches();\n\t\n\tif (defined(j)) {\n\t\tvar obj = zenario.clone(zenarioO.map[id].nav[j]);\n\t\t\n\t\tzenarioT.action(zenarioO, obj, false, -1);\n\t} else {\n\t\tzenarioT.action(zenarioO, zenarioO.map[id], false, -1);\n\t}\n};\n\nzenarioO.viewTrash = function () {\n\tif (!window.zenarioOSelectMode && zenarioO.tuix && zenarioO.tuix.trash && !engToBoolean(zenarioO.tuix.trash.empty)) {\n\t\tzenarioT.action(zenarioO, zenarioO.tuix.trash, false, true);\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.collectionButtonClick = function(id, extraRequests) {\n\tif (zenarioO.tuix && zenarioO.tuix.collection_buttons && zenarioO.tuix.collection_buttons[id]) {\n\t\tzenarioT.action(zenarioO, zenarioO.tuix.collection_buttons[id], false, true, undefined, extraRequests);\n\t}\n};\n\nzenarioO.itemButtonClick = function(id, itemId) {\n\tif (zenarioO.tuix && zenarioO.tuix.item_buttons && zenarioO.tuix.item_buttons[id]) {\n\t\tif (defined(itemId)) {\n\t\t\tzenarioO.selectItems(itemId);\n\t\t}\n\t\tzenarioT.action(zenarioO, zenarioO.tuix.item_buttons[id], true, true);\n\t}\n};\n\nzenarioO.inlineButtonClick = function(id, itemId) {\n\tif (zenarioO.tuix && zenarioO.tuix.inline_buttons && zenarioO.tuix.inline_buttons[id]) {\n\t\tzenarioO.selectItems(itemId);\n\t\tzenarioT.action(zenarioO, zenarioO.tuix.inline_buttons[id], true, true);\n\t}\n};\n\nzenarioO.toggleQuickFilter = function(id, turnOn) {\n\n\tvar c, i, otherButton, filterType,\n\t\tchangedSomething = false,\n\t\tquick_filter_buttons =\n\t\t\tzenarioO.tuix\n\t\t && zenarioO.tuix.quick_filter_buttons\n\t\tbutton =\n\t\t\tquick_filter_buttons\n\t\t && quick_filter_buttons[id];\n\t\n\tif (!button) {\n\t\treturn;\n\t}\n\n\t//Clicking on a quick-filter-button with clear_all set will clear every\n\t//other quick-filter button. (But if this is in a drop-down, only the buttons\n\t//in the drop-down will be affected.)\n\tif (engToBoolean(button.clear_all)) {\n\t\t\n\t\tforeach (quick_filter_buttons as i => otherButton) {\n\t\t\t\n\t\t\t//Ignore this button itself!\n\t\t\tif (i == id) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tif (!button.parent\n\t\t\t || button.parent == i\n\t\t\t || button.parent == otherButton.parent) {\n\t\t\t\tif (c = otherButton.column) {\n\t\t\t\t\tif (zenarioO.getFilterValue('s', c)) {\n\t\t\t\t\t\tzenarioO.setFilterValue('s', c, false);\n\t\t\t\t\t\tzenarioO.clearFilter(c);\n\t\t\t\t\t\tchangedSomething = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//If this quick-filter-button has a column set, try to either\n\t//apply a filter to that column, or else turn off the filter if\n\t//it was previously applied\n\tif ((c = button.column)\n\t && (filterType = zenarioO.getColumnFilterType(c))\n\t && (zenarioO.checkIfColumnPickerChangesAreAllowed(c))) {\n\t\n\t\t//Work out whether this button should be enabled\n\t\tif (engToBoolean(button.remove_filter)) {\n\t\t\tturnOn = false;\n\t\n\t\t} else if (!defined(turnOn)) {\n\t\t\tturnOn = !zenarioO.quickFilterEnabled(id);\n\t\t}\n\t\n\t\tzenarioO.setFilterValue('s', c, turnOn);\n\t\tzenarioO.clearFilter(c);\n\t\n\t\tif (turnOn) {\n\t\t\tzenarioO.setFilterValue('not', c, engToBoolean(button.invert));\n\t\n\t\t\tif (filterType == 'yes_or_no') {\n\t\t\t\tzenarioO.setFilterValue('v', c, 1);\n\t\n\t\t\t} else if (defined(button.value)) {\n\t\t\t\tzenarioO.setFilterValue('v', c, button.value);\n\t\t\t}\n\t\t}\n\t\t\n\t\tchangedSomething = true;\n\t}\n\t\n\tif (changedSomething) {\n\t\t//Refresh to update the panel with the changes\n\t\tzenarioO.refreshAndShowPage();\n\t}\n};\n\n//Check whether a specific quick-filter button is enabled\nzenarioO.quickFilterEnabled = function(id) {\n\n\tvar filter,\n\t\tc,\n\t\tfilterType;\n\n\tif ((filter = zenarioO.tuix.quick_filter_buttons[id])\n\t && (c = filter.column)\n\t && (filterType = zenarioO.getColumnFilterType(c))) {\n\t\t\n\t\tif (engToBoolean(filter.remove_filter)) {\n\t\t\treturn !zenarioO.getFilterValue('s', c);\n\t\t\n\t\t} else {\n\t\t\tif (zenarioO.getFilterValue('s', c)\n\t\t\t && engToBoolean(filter.invert) == engToBoolean(zenarioO.getFilterValue('not', c))) {\n\t\t\t\t\n\t\t\t\tif (filterType == 'yes_or_no') {\n\t\t\t\t\treturn true;\n\t\n\t\t\t\t} else if (defined(filter.value)) {\n\t\t\t\t\treturn zenarioO.getFilterValue('v', c) === filter.value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn false;\n};\n\n\n\n//Apply merge fields to a message, using the currently selected item's columns as fields\nzenarioO.applyMergeFields = function(string, escapeHTML, i, keepNewLines) {\n\t\n\t//Escape any ~s in the string\n\tstring = (string + '').replace(/~/g, '~1');\n\t\n\tvar string2 = string,\n\t\tcolumnValue,\n\t\tc, v;\n\t\n\tif (!defined(i)) {\n\t\ti = zenarioO.getKeyId();\n\t}\n\t\n\tforeach (zenarioO.tuix.items[i] as c => v) {\n\t\tif (string.indexOf('[[' + c + ']]') != -1) {\n\t\t\t\n\t\t\tif (zenarioO.tuix.columns\n\t\t\t && zenarioO.tuix.columns[c]) {\n\t\t\t\tcolumnValue = zenarioO.columnValue(i, c, !escapeHTML);\n\t\t\t\n\t\t\t} else if (escapeHTML) {\n\t\t\t\tcolumnValue = htmlspecialchars(v);\n\t\t\t\n\t\t\t} else {\n\t\t\t\tcolumnValue = v;\n\t\t\t}\n\t\t\t\n\t\t\tif (!keepNewLines && defined(columnValue)) {\n\t\t\t\tcolumnValue = (columnValue + '').replace(/\\n/g, ' ');\n\t\t\t}\n\t\t\t\n\t\t\t//Escape any ~s, [s and ]s in the string\n\t\t\tcolumnValue = (columnValue + '').replace(/~/g, '~1').replace(/\\[/g, '~2').replace(/\\]/g, '~3');\n\t\t\t\n\t\t\twhile (string != (string2 = string.replace('[[' + c + ']]', columnValue))) {\n\t\t\t\tstring = string2;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Unescape and return\n\treturn string.replace(/~2/g, '[').replace(/~3/g, ']').replace(/~1/g, '~');\n};\n\nzenarioO.applyMergeFieldsToLabel = function(label, isHTML, itemLevel, multiSelectLabel) {\n\t\n\tif (itemLevel\n\t && multiSelectLabel\n\t && zenarioO.itemsSelected > 1) {\n\t\tlabel = multiSelectLabel;\n\t}\n\t\n\tif (!label) {\n\t\treturn label;\n\t}\n\t\n\tlabel = ('' + label).replace(/\\[\\[item_count\\]\\]/ig, zenarioO.itemsSelected);\n\n\tif (itemLevel\n\t && zenarioO.itemsSelected == 1) {\n\t\tlabel = zenarioO.applyMergeFields(label, isHTML);\n\t}\n\t\n\treturn label;\n};\n\n\n//Given a long piece of text that doesn't wrap, attempt to add tiny spaces to force it to wrap at certain points\nzenarioO.applySmallSpaces = function(text) {\n\tvar pos, piece, snipTo, out = '', wordLength = 25;\n\t\n\t//Firstly, do our best to spit between existing words, and anything else that would wrap normally\n\twhile ((pos = text.search(/([a-z][A-Z]|[a-zA-Z][^a-zA-Z\\)]|[^a-zA-Z\\(][a-zA-Z]|[0-9][^0-9\\)]|[^0-9\\(][0-9])/)) != -1) {\n\t\t\n\t\t//Spilt the text up into each piece.\n\t\t//Where we spilt by a space, include the space as part of the piece before.\n\t\t//If we split by something that wasn't a space, keep the non-space as part of the word after\n\t\tif (text[pos + 1].match(/\\s/) !== null) {\n\t\t\tsnipTo = pos + 2;\n\t\t} else {\n\t\t\tsnipTo = pos + 1;\n\t\t}\n\t\t\n\t\tpiece = text.substr(0, snipTo);\n\t\ttext = text.substr(snipTo);\n\t\t\n\t\t//If this word is longer than the max length, forcible split it up.\n\t\tout += zenarioO.maxLengthString(htmlspecialchars(piece, false, 'asis'), wordLength);\n\t\t\n\t\t//If there was no space in this piece, add one\n\t\tif (piece.search(/\\s/) == -1) {\n\t\t\tout += '<span style=\"font-size: 1px;\"> </span>';\n\t\t}\n\t}\n\t\n\t//If the last piece is longer than the max length, forcibly split it up.\n\tout += zenarioO.maxLengthString(htmlspecialchars(text), wordLength);\n\t\n\treturn out;\n};\n\nzenarioO.maxLengthString = function(text, wordLength) {\n\tvar out = '';\n\twhile (text.wordLength > wordLength) {\n\t\tout += text.substr(0, wordLength) + '<span style=\"font-size: 1px;\"> </span>';\n\t\ttext = text.substr(wordLength);\n\t}\n\t\n\tout += text;\n\t\n\treturn out;\n};\n\nzenarioO.pickItems = function(path, keyIn, row) {\n\t\n\t//Remove any \"parent__\" paramaters from the key, which are going to be just dupicated here\n\tvar key = {};\n\tforeach (keyIn as var i) {\n\t\tif (i == 'id') {\n\t\t\tkey[i] = keyIn[i];\n\t\t} else if (i.substr(0, 8) != 'parent__') {\n\t\t\tkey['child__' + i] = keyIn[i];\n\t\t}\n\t}\n\t\n\tif (zenarioO.postPickItemsObject) {\n\t\tif (zenarioO.pickItemsItemLevel) {\n\t\t\tkey.id2 = key.id;\n\t\t\tdelete key.id;\n\t\t}\n\t\tzenarioT.action(zenarioO, zenarioO.postPickItemsObject, true, true, undefined, key);\n\t\n\t} else if (zenarioO.actionTarget) {\n\t\tif (zenarioO.pickItemsItemLevel) {\n\t\t\tzenarioO.actionRequests.id2 = key.id;\n\t\t\tforeach (key as var k) {\n\t\t\t\tif (k != 'id') {\n\t\t\t\t\tzenarioO.actionRequests[k] = key[k];\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tforeach (key as var k) {\n\t\t\t\tzenarioO.actionRequests[k] = key[k];\n\t\t\t}\n\t\t}\n\t\t\n\t\tzenarioO.action2();\n\t}\n\t\n\tzenarioO.postPickItemsObject = false;\n};\n\nzenarioO.action2 = function() {\n\tif (zenarioO.actionTarget) {\n\t\t//Number each request that is made, so we can tell which ones are outdated\n\t\tvar goNum = ++zenarioO.goNum;\n\t\tget('organizer_preloader_circle').style.display = 'block';\n\t\t\n\t\tzenario.ajax(zenarioO.actionTarget, zenarioO.actionRequests, false, false, true).after(function(message) {\n\t\t\t//Check that this isn't an out-of-date request that has come in syncronously via AJAX\n\t\t\tif (goNum != zenarioO.goNum) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (message) {\n\t\t\t\tif (zenarioA.showMessage(message, undefined, 'error') === false) {\n\t\t\t\t\tget('organizer_preloader_circle').style.display = 'none';\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tzenarioO.selectCreatedIds();\n\t\t});\n\t}\n\tzenarioO.actionTarget = false;\n\tdelete zenarioO.actionRequests;\n};\n\nzenarioO.uploadStart = function() {\n\tzenarioO.disableInteraction();\n};\n\nzenarioO.uploadComplete = function() {\n\tzenarioO.enableInteraction();\n\tzenarioO.selectCreatedIds();\n};\n\nzenarioO.selectCreatedIds = function() {\n\tzenario.ajax(URLBasePath + 'zenario/ajax.php?method_call=getNewId', true, true).after(function(newIds) {\n\t\tzenarioO.refreshToShowItem(newIds);\n\t});\n};\n\n\n//If the admin manually presses the reload button in Organizer, clear the cache and reload the panel.\nzenarioO.reloadButton = function() {\n\tzenario.outdateCachedData();\n\tzenarioO.reload();\n\t\n\t//Reload the lower-left and upper-right sections as well if manually reloading\n\tzenarioO.setOrganizerIcons();\n};\n\n//Refresh the current view\nzenarioO.lastActivity = false;\nzenarioO.reload = function(periodic, allowCache, runFunctionAfter) {\n\t\n\t//Stop doing periodic refreshes after 20 minutes if inactivity\n\tif (periodic) {\n\t\tif (!zenarioO.lastActivity || ((Date.now() - zenarioO.lastActivity) > 20 * 60 * 1000)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//(Periodic refresh is now disabled)\n\t////Don't allow a periodic refresh when uploading, or when the column picker is open, or when resizing/sorting columns\n\t//if (zenarioT.uploading\n\t// || (periodic\n\t//  && (zenarioO.sortingColumn\n\t//   || zenarioO.resizingColumn\n\t//   || zenarioA.checkIfBoxIsOpen('AdminColumnFilter')\n\t//   || zenarioA.checkIfBoxIsOpen('AdminViewModeOptions')))) {\n\t//\t\n\t//\t//However still keep the timer going incase this it is later closed\n\t//\tzenarioO.periodicRefresh();\n\t//\t\n\t//\treturn false;\n\t//}\n\t\n\tzenarioO.stopRefreshing();\n\t\n\t//In hierarchy mode, remember what was open/closed when refreshing\n\t//zenarioO.recordOpenItems();\n\t//zenarioO.saveOpenItems();\n\t\n\t\n\tvar path = zenarioO.path,\n\t\titemToSelect = zenarioO.getKeyId(true),\n\t\tinCloseUpView = zenarioO.inspectionView;\n\t\n\tif (itemToSelect) {\n\t\tzenarioO.refreshToPage = undefined;\n\t} else {\n\t\tzenarioO.refreshToPage = zenarioO.page;\n\t}\n\t\n\t\n\t//zenarioO.go = function(path, branch, refiner, queued, lastInQueue, backwards, dontUseCache, itemToSelect, sameLoad, runFunctionAfter, periodic, inCloseUpView) {\n\tzenarioO.go(path, undefined, undefined, undefined, undefined, undefined, !allowCache, itemToSelect, undefined, runFunctionAfter, periodic, inCloseUpView);\n};\n\n//zenarioO.load() does the same thing as zenarioO.reload(), except it uses the cache if possible\nzenarioO.load = function() {\n\tzenarioO.reload(false, true);\n};\n\n//Go to the change password section\nzenarioO.changePassword = function() {\n\tzenarioO.reloadPage(undefined, true, 'change_password');\n};\n\n//Reload Organizer, making sure to go via the admin login page in case a login/db_update is needed\nzenarioO.reloadPage =\nzenarioO.refreshPage = function(hash, dontAutoDetectMode, task, force) {\n\tif (!force && zenarioO.stop) {\n\t\treturn false;\n\t}\n\n\ttask = task || '';\n\t\n\tif (!defined(hash)) {\n\t\tif (zenario.currentHash && !zenario.browserIsIE(7)) {\n\t\t\thash = zenario.currentHash.replace('#', '');\n\t\t} else {\n\t\t\thash = zenarioO.getHash();\n\t\t}\n\t}\n\t\n\tif (!task && !dontAutoDetectMode) {\n\t\tif (hash == 'zenario__administration/panels/site_settings//site_reset') {\n\t\t\ttask = 'site_reset';\n\t\t\n\t\t} else if (hash && hash.substr(0, 31) == 'zenario__administration/panels/backups') {\n\t\t\ttask = 'restore';\n\t\t\n\t\t} else {\n\t\t\ttask = 'reload_sk';\n\t\t}\n\t}\n\t\n\tvar href = URLBasePath + 'admin.php?task=' + task;\n\t\n\t//If this is the front-end, link back to the front end, otherwise go back to Organizer\n\tif (zenario.cID) {\n\t\thref += '&cID=' + zenario.cID + '&cType=' + zenario.cType + '&cVersion=' + zenario.cVersion;\n\t} else {\n\t\thref += '&og=' + encodeURIComponent(hash);\n\t\t\n\t\tif (zenario.cID) {\n\t\t\thref += '&fromCID=' + zenarioA.fromCID + '&fromCType=' + zenarioA.fromCType;\n\t\t}\n\t}\n\t\n\twindow.location.href = href;\n};\n\n//Refresh the panel to show an item after a button click or admin box is saved.\nzenarioO.refreshToShowItem = function(itemId, growlIfItemIsVisible, growlIfItemIsNotVisible) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\t//If this is the admin or the site settings panel, do a SK reload instead\n\tif (zenarioO.path == 'zenario__administration/panels/site_settings') {\n\t\tzenarioO.reloadPage();\n\t\treturn;\n\t}\n\t\n\tvar i, itemIds,\n\t\tpath = zenarioO.path,\n\t\tselectedItems;\n\t\n\t//Normally, when refreshing to show one item, the system checks to\n\t//see what page that item is on, and specifically shows that page.\n\t//But If there are no items or multiple items selected,\n\t//then the system won't be able to use this logic.\n\t//So as a fallback, we'll try and stay on the current page.\n\tif (zenarioO.page) {\n\t\tzenarioO.refreshToPage = zenarioO.page;\n\t}\n\t\n\t//T10250, When deleting an item in Organizer, select the next one\n\t//If an item or items are currently selected, remember which item is next in\n\t//the list after them for use in our logic later.\n\tzenarioO.selectNextItem = zenarioO.getNextItem();\n\t\n\t\n\t//Accept a string, array or object as an input\n\tif (itemId === false\n\t || !defined(itemId)) {\n\t\titemIds = [];\n\t\n\t} else if (_.isObject(itemId)) {\n\t\titemIds = _.keys(itemId);\n\t\n\t} else if (_.isArray(itemId)) {\n\t\titemIds = itemId;\n\t\n\t} else {\n\t\titemIds = (itemId + '').split(',');\n\t}\n\t\n\t\n\t//If any items were specified, use these instead of the currently selected items.\n\t//(If no items were specificed, keep using the currently selected items.)\n\tif (itemIds.length) {\n\t\tselectedItems = {};\n\t\tforeach (itemIds as i) {\n\t\n\t\t\t//Escape the item id if needed\n\t\t\tif (zenarioO.tuix.db_items\n\t\t\t && zenarioO.tuix.db_items.encode_id_column) {\n\t\t\t\titemIds[i] = zenario.encodeItemIdForOrganizer(itemIds[i]);\n\t\t\t}\n\t\t\t\n\t\t\tselectedItems[itemIds[i]] = true;\n\t\t}\n\t\t\n\t\tzenarioO.pi.cmsSetsSelectedItems(selectedItems);\n\t\tzenarioO.setHash();\n\t\t\n\t\tpath += '//' + itemIds.join(',');\n\t\tif (zenarioO.inspectionView) {\n\t\t\tpath += '/';\n\t\t}\n\t}\n\t\n\tzenarioO.stopRefreshing();\n\t\n\t//Clear the local storage, as there have probably just been changes\n\tzenario.outdateCachedData();\n\t\n\t//zenarioO.go = function(path, branch, refiner, queued, lastInQueue, backwards, dontUseCache, itemToSelect, sameLoad, runFunctionAfter, periodic, inCloseUpView) {\n\tzenarioO.go(path, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, function() {\n\t\t\n\t\tvar name;\n\t\t\n\t\tif (itemId\n\t\t && (itemId + '').indexOf(',') == -1\n\t\t && zenarioO.pi\n\t\t && zenarioO.tuix) {\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (growlIfItemIsVisible\n\t\t\t && (name = zenarioA.formatOrganizerItemName(zenarioO.tuix, itemId))) {\n\t\t\t\tzenarioO.pi.displayToastMessage(growlIfItemIsVisible.replace(/\\[\\[name\\]\\]/ig, htmlspecialchars(name)));\n\t\t\t}\n\t\t\t\n\t\t\t//If an item was just saved, but isn't visible, show the \"Item saved, but your filter prevents it from appearing\" message\n\t\t\tif (growlIfItemIsNotVisible\n\t\t\t && !engToBoolean(zenarioO.tuix.hide_filter_warning)\n\t\t\t && !(zenarioO.tuix.items && zenarioO.tuix.items[itemId])) {\n\t\t\t\t\n\t\t\t\t//Quickly check if the item still exists; e.g. we shouldn't show this for deleted items\n\t\t\t\tzenarioA.getItemFromOrganizer(zenarioO.path, itemId, true).after(data => {\n\t\t\t\t\t\n\t\t\t\t\t//Show the message if it exists\n\t\t\t\t\tif (data.items\n\t\t\t\t\t && data.items[itemId]) {\n\t\t\t\t\t\tzenarioO.pi.displayToastMessage(growlIfItemIsNotVisible);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n};\n\n//Keep refreshing panels that can change\nzenarioO.refreshing = false;\n\n//(Periodic refresh is now disabled)\n//zenarioO.periodicRefresh = function() {\n//\tif (zenarioO.stop) {\n//\t\treturn false;\n//\t}\n//\t\n//\tzenarioO.stopRefreshing();\n//\tzenarioO.refreshing =\n//\t\tsetTimeout(\n//\t\t\tfunction() {\n//\t\t\t\tzenarioO.reload(true, true);\n//\t\t\t}, zenarioO.periodicRefreshTime);\n//}\n\nzenarioO.stopRefreshing = function() {\n\tif (zenarioO.refreshing) {\n\t\tclearTimeout(zenarioO.refreshing);\n\t}\n};\n\n\n\n\n//WiP CSV export ability\nzenarioO.doCSVExport = function() {\n\tzenarioO.CSVExport = true;\n\tzenarioO.reload();\n};\n\n\nzenarioO.getNextItem = function() {\n\t\n\tvar id, ord,\n\t\tnextId,\n\t\tnextOrd = -1,\n\t\titem_sort_order,\n\t\tselectedItems;\n\t\n\tif (!(item_sort_order = zenarioO.tuix && zenarioO.searchedItems)\n\t || !(selectedItems = zenarioO.pi && zenarioO.pi.returnSelectedItems())) {\n\t\treturn false;\n\t}\n\t\n\tforeach (item_sort_order as ord => id) {\n\t\tord = 1*ord + 1;\n\t\tif (ord > nextOrd\n\t\t && selectedItems[id]\n\t\t && (nextId = item_sort_order[ord])\n\t\t && (!selectedItems[nextId])) {\n\t\t\tnextOrd = ord;\n\t\t}\n\t}\n\t\n\treturn nextOrd != -1 && item_sort_order[nextOrd];\n\t\n};\n\n\n\n//Get the current collection key, as well as the current item id(s) if this is something on the item level\nzenarioO.getKey = function(itemLevel) {\n\t\n\tvar key = {},\n\t\ttuix = zenarioO.tuix,\n\t\titem, i;\n\t\n\tif (tuix.key) {\n\t\tforeach (tuix.key as i) {\n\t\t\tkey[i] = tuix.key[i];\n\t\t}\n\t}\n\t\n\tif (zenarioO.refiner) {\n\t\tkey.refinerId = zenarioO.refiner.id;\n\t\tkey.refinerName = zenarioO.refiner.name;\n\t}\n\t\n\tif (zenarioO.lastRefiners) {\n\t\tforeach (zenarioO.lastRefiners as i) {\n\t\t\tkey[i] = zenarioO.lastRefiners[i];\n\t\t}\n\t}\n\t\n\tif (itemLevel) {\n\t\tkey.id = zenarioO.getKeyId();\n\t\t\n\t\tif (item = tuix.items && tuix.items[key.id]) {\n\t\t\tif (_.isObject(item.key)) {\n\t\t\t\tforeach (item.key as i) {\n\t\t\t\t\tkey[i] = item.key[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tzenarioO.addWindowParentInfo(key);\n\t\n\treturn key;\n};\n\nzenarioO.addWindowParentInfo = function(key) {\n\tvar parentKey,\n\t\ti,\n\t\tz = (windowParent && windowParent.zenario) || zenario;\n\t\n\tif (zenarioA.openedInIframe && windowParent && windowParent.zenario) {\n\t\tif (windowParent.zenarioO.init\n\t\t && windowParent.zenarioO.tuix) {\n\t\t\tparentKey = windowParent.zenarioO.getKey(true);\n\t\t\tforeach (parentKey as i) {\n\t\t\t\tkey['parent__' + i] = parentKey[i];\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (z.cID) {\n\t\tkey.parent__cID = z.cID;\n\t\tkey.parent__cType = z.cType;\n\t\tkey.parent__cVersion = z.cVersion;\n\t}\n};\n\nzenarioO.selectedItems = function() {\n\treturn zenarioO.pi && zenarioO.pi.returnSelectedItems();\n};\n\nzenarioO.selectedItemId = function() {\n\treturn zenarioO.getKeyId(true, true);\n};\n\nzenarioO.selectedItemIds = function() {\n\treturn zenarioO.getKeyId();\n};\n\nzenarioO.selectedItemDetails = function() {\n\tvar id = zenarioO.selectedItemId();\n\treturn (id && zenarioO.tuix.items && zenarioO.tuix.items[id]) || {};\n};\n\nzenarioO.getKeyId = function(limitOfOne, onlyOne) {\n\t\n\tvar thisId,\n\t\tid = '',\n\t\tcomma = '',\n\t\tselectedItems = zenarioO.selectedItems();\n\t\n\tif (selectedItems) {\n\t\tforeach (selectedItems as thisId) {\n\t\t\t\n\t\t\tif (id === '') {\n\t\t\t\tid = thisId;\n\t\t\t\n\t\t\t} else {\n\t\t\t\tif (onlyOne) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (limitOfOne) {\n\t\t\t\t\treturn id;\n\t\t\t\t} else {\n\t\t\t\t\tid += ',' + thisId;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn id;\n};\n\nzenarioO.getLastKeyId = function(limitOfOne) {\n\tvar refiner;\n\tif (refiner = zenarioO.loadRefiner(zenarioO.path)) {\n\t\treturn refiner.id;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n\n//From a given path, get part of the map object\nzenarioO.followPathOnMap = function(path, attribute, getLocation) {\n\t\n\tif (!path) {\n\t\tpath = zenarioO.defaultPath;\n\t}\n\t\n\tvar focus = zenarioO.map,\n\t\tsplit = path.split('/'),\n\t\tfrom = false,\n\t\tto = false;\n\t\n\tforeach (split as var i) {\n\t\tvar tag = split[i];\n\t\t\n\t\tif (tag === '') {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tif (i == 0) {\n\t\t\tfrom = to = tag;\n\t\t}\n\t\t\n\t\tif (focus[tag]) {\n\t\t\tfocus = focus[tag];\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tif (focus.link && focus.link.path) {\n\t\t\tfrom = to;\n\t\t\tto = focus.link.path;\n\t\t\n\t\t} else if (focus._path_here) {\n\t\t\tfrom = to;\n\t\t\tto = focus._path_here;\n\t\t}\n\t}\n\t\n\t//For second level items, add some code that can read an attribute off of the second level item rather than the containing panel.\n\tif (focus.panel && (getLocation || !attribute || (!defined(focus[attribute]) && defined(focus.panel[attribute])))) {\n\t\tfocus = focus.panel;\n\t}\n\t\n\tif (getLocation) {\n\t\tif (!focus.link) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn {from: from, to: to, branch: focus.link.branch, refiner: focus.link.refiner};\n\t\t}\n\t} else if (attribute) {\n\t\treturn focus[attribute];\n\t} else {\n\t\treturn focus;\n\t}\n};\n\n//Given a <link> tag, get where it came from and where it goes to\nzenarioO.getFromToFromLink = function(path) {\n\treturn zenarioO.followPathOnMap(path, false, true);\n};\n\n\n\n\n//  View Modes  //\n\nzenarioO.showViewOptions = function(e) {\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\tif (!zenarioO.tuix.columns) {\n\t\treturn false;\n\t}\n\t\n\t//Check if the prefs are up to date. If not, refresh the panel first.\n\tif (zenarioO.checkPrefs()) {\n\t\tzenarioO.showViewOptions2();\n\t} else {\n\t\tzenarioO.reload(undefined, undefined, zenarioO.showViewOptions2);\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.showViewOptions2 = function() {\n\tvar width = 445,\n\t\tleft = -395,\n\t\ttop = -2;\n\tzenarioA.openBox(false, 'zenario_view_options', 'AdminViewModeOptions', get('organizer_listViewOptionsDropdown'), width, left, top, false, true, false, false, undefined, undefined, false, true);\n\t\n\tzenarioO.setViewOptions();\n};\n\nzenarioO.getColumnFilterType = function(c) {\n\t\n\tif (!zenarioO.tuix\n\t || !zenarioO.tuix.columns\n\t || !zenarioO.tuix.columns[c]) {\n\t\treturn false\n\t}\n\n\tvar filterType = false,\n\t\tfilterFormat = zenarioO.tuix.columns[c].filter_format || zenarioO.tuix.columns[c].format;\n\t\n\tif (filterFormat == 'date'\n\t || filterFormat == 'datetime'\n\t || filterFormat == 'datetime_with_seconds') {\n\t\tfilterType = 'date';\n\t\n\t} else if (filterFormat == 'yes_or_no') {\n\t\tfilterType = 'yes_or_no';\n\t\n\t} else if (\n\t\t(filterFormat == 'enum' && zenarioO.tuix.columns[c].values)\n\t || filterFormat == 'language_english_name_with_id'\n\t || filterFormat == 'language_english_name'\n\t || filterFormat == 'language_local_name_with_id'\n\t || filterFormat == 'language_local_name'\n\t) {\n\t\tfilterType = 'enum';\n\t\n\t} else if (engToBoolean(zenarioO.tuix.columns[c].searchable)) {\n\t\tfilterType = 'search';\n\t}\n\t\n\treturn filterType;\n};\n\nzenarioO.setViewOptions = function() {\n\t\n\tvar fields = {},\n\t\tcb = new zenario.callback;\n\t\n\tfields.showcol__title_ = {\n\t\tord: -3,\n\t\tfull_width: true,\n\t\tpre_field_html: '<div class=\"organizer_colPickerTitle_show\" style=\"\">',\n\t\tsnippet: {html: phrase.show},\n\t\tpost_field_html: '</div>'\n\t};\n\t\n\tfields.sortcol__title_ = {\n\t\tord: -1,\n\t\tsame_row: true,\n\t\tpre_field_html: '<div class=\"organizer_colPickerTitle_sort\">',\n\t\tsnippet: {html: phrase.sort},\n\t\tpost_field_html: '</div>'\n\t};\n\t\n\tvar c, colNo, column,\n\t\tlastCol = false,\n\t\tlastColName = false,\n\t\tprefs = zenarioO.prefs[zenarioO.path] || {};\n\t\n\t\n\tforeach (zenarioO.sortedColumns as colNo => c) {\n\t\t\n\t\tif ((column = zenarioO.tuix.columns[c])\n\t\t && (zenarioO.isShowableColumn(c, false))) {\n\t\t\t\n\t\t\tfields['start_of_row__' + c] = {\n\t\t\t\tord: 100 * colNo,\n\t\t\t\tfull_width: true,\n\t\t\t\tsnippet: {html: ''}\n\t\t\t}\n\t\t\t\n\t\t\tfields['showcol_' + c] = {\n\t\t\t\tord: 100 * colNo + 4,\n\t\t\t\tsame_row: true,\n\t\t\t\ttype: 'toggle',\n\t\t\t\tonclick: \"zenarioO.showHideColumn(!\" + engToBoolean(zenarioO.shownColumns[c]) + \", '\" + htmlspecialchars(c) + \"'); zenarioO.setViewOptions();\",\n\t\t\t\tvalue: zenarioO.shownColumns[c]? 'Hide' : 'Show',\n\t\t\t\ttitle: phrase.showCol,\n\t\t\t\t'class': (zenarioO.view_mode == 'grid' ||\n\t\t\t\t\t\t engToBoolean(column.always_show)?\n\t\t\t\t\t\t \t'notused ' : '') + (zenarioO.shownColumns[c]? 'zen_col_hidden' : 'zen_col_shown')\n\t\t\t};\n\t\t\t\n\t\t\tif (zenarioO.showCSVInViewOptions) {\n\t\t\t\tdelete fields['showcol_' + c].onclick;\n\t\t\t\t\n\t\t\t\tif (engToBoolean(engToBoolean(column.server_side_only))) {\n\t\t\t\t\tfields['showcol_' + c].style = 'visibility: hidden;';\n\t\t\t\t} else {\n\t\t\t\t\tfields['showcol_' + c].disabled = 'disabled';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar value = zenarioO.shownColumns[c];\n\t\t\t\t\n\t\t\t\tif (defined(prefs.shownColumnsInCSV)\n\t\t\t\t && defined(prefs.shownColumnsInCSV[c])) {\n\t\t\t\t\tvalue = prefs.shownColumnsInCSV[c];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfields['showcsv_' + c] = {\n\t\t\t\t\tord: 100 * colNo + 5,\n\t\t\t\t\tsame_row: true,\n\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\tonclick: \"zenarioO.showHideColumnInCSV(this, '\" + htmlspecialchars(c) + \"');\",\n\t\t\t\t\tvalue: value,\n\t\t\t\t\t'class': zenarioO.view_mode == 'grid' ||\n\t\t\t\t\t\t\t engToBoolean(column.always_show)?\n\t\t\t\t\t\t\t\t'notused' : ''\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tfields['sortcol_' + c] = {\n\t\t\t\tord: 100 * colNo + 6,\n\t\t\t\tsame_row: true,\n\t\t\t\tsnippet: {\n\t\t\t\t\thtml: '<label class=\"zenario_filter_column_name\" for=\"showcol_' + c + '\">' + htmlspecialchars(column.title) + '</label>'\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tif (zenarioO.canFilterColumn(c)) {\n\t\t\t\t\n\t\t\t\tvar hidden = !zenarioO.getFilterValue('s', c),\n\t\t\t\t\thiddenPreviously = hidden,\n\t\t\t\t\tvalue_ = zenarioO.getFilterValue('v', c),\n\t\t\t\t\tdates,\n\t\t\t\t\tdateBefore = '',\n\t\t\t\t\tdateAfter = '',\n\t\t\t\t\tfilterFormat = column.filter_format || column.format,\n\t\t\t\t\tinvertLink =\n\t\t\t\t\t\t'<a class=\"' + (zenarioO.getFilterValue('not', c)? 'organizer_inverter organizer_not' : 'organizer_inverter') + '\"' +\n\t\t\t\t\t\t\t' title=\"' + phrase.invertFilter + '\"' +\n\t\t\t\t\t\t\t' onclick=\"zenarioO.invertFilter(this, \\'' + htmlspecialchars(c) + '\\', \\'' + htmlspecialchars(filterFormat) + '\\');\">';\n\t\t\t\t\n\t\t\t\tif (filterFormat == 'date'\n\t\t\t\t || filterFormat == 'datetime'\n\t\t\t\t || filterFormat == 'datetime_with_seconds') {\n\t\t\t\t\t\n\t\t\t\t\tif (value_) {\n\t\t\t\t\t\tdates = value_.split(',');\n\t\t\t\t\t\tdateBefore = dates[1];\n\t\t\t\t\t\tdateAfter = dates[0];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfields['date_after_col_' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 7,\n\t\t\t\t\t\trow_class: 'zenario_date_filters_for_field',\n\t\t\t\t\t\tlabel: '<span class=\"zenario_date_filters_phrase\">' + phrase.after + '</span>',\n\t\t\t\t\t\ttype: 'date',\n\t\t\t\t\t\tonchange: \"zenarioO.updateDateFilters('\" + htmlspecialchars(c) + \"');\",\n\t\t\t\t\t\tvalue: dateAfter,\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t\tfields['date_before_col_' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 8,\n\t\t\t\t\t\trow_class: 'zenario_date_filters_for_field',\n\t\t\t\t\t\tlabel: '<span class=\"zenario_date_filters_phrase\">' + phrase.before + \"</span>\",\n\t\t\t\t\t\ttype: 'date',\n\t\t\t\t\t\tonchange: \"zenarioO.updateDateFilters('\" + htmlspecialchars(c) + \"');\",\n\t\t\t\t\t\tvalue: dateBefore,\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t\tfields['v' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 9,\n\t\t\t\t\t\tsame_row: true,\n\t\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\t\tvalue: value_,\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t} else if (filterFormat == 'yes_or_no') {\n\t\t\t\t\t//Attempt to add a colon to the title of the column\n\t\t\t\t\tvar label = ('' + column.title);\n\t\t\t\t\tif (label.indexOf(':') == -1) {\n\t\t\t\t\t\tlabel += ':';\n\t\t\t\t\t\tlabel = label.replace(/\\s*:/, ':');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfields['v' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 7,\n\t\t\t\t\t\trow_class: 'zenario_filters_for_field yes_or_no',\n\t\t\t\t\t\tsnippet: {\n\t\t\t\t\t\t\thtml: invertLink + (zenarioO.getFilterValue('not', c)? phrase.no : phrase.yes) + '</a>'\n\t\t\t\t\t\t},\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t} else if (\n\t\t\t\t\t(filterFormat == 'enum' && column.values)\n\t\t\t\t || filterFormat == 'language_english_name_with_id'\n\t\t\t\t || filterFormat == 'language_english_name'\n\t\t\t\t || filterFormat == 'language_local_name_with_id'\n\t\t\t\t || filterFormat == 'language_local_name'\n\t\t\t\t) {\n\t\t\t\t\tvar values,\n\t\t\t\t\t\tempty_value = undefined;\n\t\t\t\t\t\n\t\t\t\t\tif (filterFormat == 'enum') {\n\t\t\t\t\t\t//Get the list of values for this column, adding on an empty value if one is not present\n\t\t\t\t\t\tvalues = column.values;\n\t\t\t\t\t\tif (!values[''] && !values[0]) {\n\t\t\t\t\t\t\tvalues = {};\n\t\t\t\t\t\t\tempty_value = phrase.selectListSelect;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tforeach (column.values as var v) {\n\t\t\t\t\t\t\t\tvalues[v] = column.values[v];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalues = {};\n\t\t\t\t\t\tvalues[''] = phrase.selectListSelect;\n\t\t\t\t\t\t\n\t\t\t\t\t\tforeach (zenarioA.lang as var v) {\n\t\t\t\t\t\t\tif (zenarioA.lang[v].enabled) {\n\t\t\t\t\t\t\t\tvalues[v] = zenarioA.lang[v].name;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (filterFormat == 'language_english_name_with_id'\n\t\t\t\t\t\t\t\t || filterFormat == 'language_local_name_with_id') {\n\t\t\t\t\t\t\t\t\tvalues[v] += ' (' + v + ')';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfields['v' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 7,\n\t\t\t\t\t\trow_class: 'zenario_filters_for_field enum',\n\t\t\t\t\t\tlabel: invertLink + (zenarioO.getFilterValue('not', c)? phrase.isnt : phrase.is) + '</a>',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tonchange: 'zenarioO.changeFilters();',\n\t\t\t\t\t\tempty_value: empty_value,\n\t\t\t\t\t\tvalues: values,\n\t\t\t\t\t\tvalue: value_,\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t} else if (engToBoolean(column.searchable)) {\n\t\t\t\t\t\n\t\t\t\t\tvar labelPhrase,\n\t\t\t\t\t\texact = column.format == 'id' || column.encrypted;\n\t\t\t\t\t\n\t\t\t\t\tif (zenarioO.getFilterValue('not', c)) {\n\t\t\t\t\t\tlabelPhrase = exact? phrase.isnt : phrase.notLike;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabelPhrase = exact? phrase.is : phrase.like;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfields['v' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 7,\n\t\t\t\t\t\trow_class: 'zenario_filters_for_field',\n\t\t\t\t\t\tlabel: invertLink + labelPhrase + '</a>',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tonkeyup: 'zenarioVO.changeFiltersAfterDelay();',\n\t\t\t\t\t\tvalue: value_,\n\t\t\t\t\t\thidden: hidden,\n\t\t\t\t\t\t_was_hidden_before: hiddenPreviously\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (zenarioO.getColumnFilterType(c)) {\n\t\t\t\t\tfields['togglefilter_' + c] = {\n\t\t\t\t\t\tord: 100 * colNo + 2,\n\t\t\t\t\t\tsame_row: true,\n\t\t\t\t\t\tpre_field_html: '<div class=\"organizer_togglefilter\">',\n\t\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\t\tonclick: \"zenarioO.toggleFilter(this, '\" + htmlspecialchars(c) + \"');\",\n\t\t\t\t\t\t'class': hidden? 'togglefilter_closed' : 'togglefilter_open',\n\t\t\t\t\t\tvalue: hidden? ' ' : 'x',\n\t\t\t\t\t\ttitle: hidden? phrase.filterByCol : phrase.filterByColStop,\n\t\t\t\t\t\tpost_field_html: '</div>'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (zenarioO.showCSVInViewOptions) {\n\t\t\t\tfields['up__' + c] = {\n\t\t\t\t\tord: 100 * colNo + 1,\n\t\t\t\t\tsame_row: true,\n\t\t\t\t\tpre_field_html: '<div class=\"organizer_mov_col\">',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\tvalue: ' ',\n\t\t\t\t\t'class': 'movcol_up',\n\t\t\t\t\tstyle: 'visibility: hidden;',\n\t\t\t\t\ttitle: phrase.moveColForward\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tfields['down__' + c] = {\n\t\t\t\t\tord: 100 * colNo + 2,\n\t\t\t\t\tsame_row: true,\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\tvalue: ' ',\n\t\t\t\t\t'class': 'movcol_down',\n\t\t\t\t\tstyle: 'visibility: hidden;',\n\t\t\t\t\ttitle: phrase.moveColBack,\n\t\t\t\t\tpost_field_html: '</div>'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tif (lastCol !== false) {\n\t\t\t\t\tfields['up__' + c].style = '';\n\t\t\t\t\tfields['up__' + c].onclick = 'zenarioO.switchColumnOrder(' + colNo + ', ' + lastCol + ', true)';\n\t\t\t\t\t\n\t\t\t\t\tfields['down__' + lastColName].style = '';\n\t\t\t\t\tfields['down__' + lastColName].onclick = 'zenarioO.switchColumnOrder(' + colNo + ', ' + lastCol + ', true)';\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastCol = colNo;\n\t\t\tlastColName = c;\n\t\t}\n\t}\n\t\n\t\n\tvar p,\n\t\tpref,\n\t\tpageSize,\n\t\tshowResetButton = false;\n\t\n\tif (zenarioO.branches[zenarioO.branches.length-1]\n\t && zenarioO.branches[zenarioO.branches.length-1].filters\n\t && zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path]) {\n\t\tforeach (zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path] as var p) {\n\t\t\tif (zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path][p].shown) {\n\t\t\t\tshowResetButton = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tforeach (prefs as p => pref) {\n\t\tif (p && pref) {\n\t\t\tshowResetButton = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tif (showResetButton) {\n\t\tfields.reset = {\n\t\t\tord: 100 * colNo + 12,\n\t\t\tfull_width: true,\n\t\t\ttype: 'toggle',\n\t\t\tonclick: \"zenarioO.resetPrefs();\",\n\t\t\tvalue: phrase.reset\n\t\t};\n\t}\n\t\n\tget('zenario_fbAdminViewModeOptions').innerHTML = zenarioVO.drawTUIX(fields, 'zenario_filters_popup', cb);\n\t\n\tzenario.addJQueryElements('#zenario_fbAdminViewModeOptions ', true);\n\tcb.done();\n\t\n\tzenarioO.size(true);\n};\n\nzenarioO.updateDateFilters = function(c) {\n\t\n\t//var getDateFromField = function(id) {\n\t//\t\treturn $.datepicker.formatDate($.datepicker.ATOM, $(get(id)).datepicker('getDate'));\n\t//\t},\n\t//\tdateAfter = getDateFromField('date_after_col_' + c),\n\t//\tdateBefore = getDateFromField('date_before_col_' + c),\n\t\n\tvar dateAfter = zenarioVO.readField('date_after_col_' + c),\n\t\tdateBefore = zenarioVO.readField('date_before_col_' + c),\n\t\tdomValue = get('v' + c);\n\t\n\tif (dateAfter || dateBefore) {\n\t\tdomValue.value = dateAfter + ',' + dateBefore;\n\t} else {\n\t\tdomValue.value = '';\n\t}\n\t\n\tzenarioO.changeFilters();\n};\n\nzenarioO.canSortColumn = function(c) {\n\tif (zenarioO.stop\n\t || engToBoolean(zenarioO.tuix.columns[c].disallow_sorting)\n\t || (zenarioO.server_side && !zenarioO.tuix.columns[c].db_column)) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nzenarioO.canFilterColumn = function(c) {\n\t\n\tvar col = zenarioO.tuix.columns[c],\n\t\tfilterFormat;\n\t\n\tif (!col) {\n\t\treturn false;\n\t}\n\t\n\tfilterFormat = col.filter_format || col.format;\n\t\n\t//Only allow filtering for columns in the database\n\tif (!(col.db_column || col.filter_column)\n\t || engToBoolean(col.server_side_only)\n\t || engToBoolean(col.disallow_filtering)\n\t\t//Catch the case where an enum column is missing its values - don't allow filtering here\n\t || (filterFormat == 'enum' && !col.values)) {\n\t\treturn false;\n\t}\n\t\n\tswitch (filterFormat) {\n\t\t//Date and enum type fields are implemented as a drop-down select list or toggle.\n\t\t//They should be filterable if an index has been created on that field.\n\t\tcase 'date':\n\t\tcase 'datetime':\n\t\tcase 'datetime_with_seconds':\n\t\tcase 'language_english_name_with_id':\n\t\tcase 'language_english_name':\n\t\tcase 'language_local_name_with_id':\n\t\tcase 'language_local_name':\n\t\t\treturn !engToBoolean(col.disallow_sorting);\n\t\t\n\t\t//Text type fields are implemented as a search box.\n\t\t//They should be filterable if they are flagged as searchable.\n\t\tdefault:\n\t\t\treturn engToBoolean(col.searchable);\n\t}\n};\n\nzenarioO.showHideColumn = function(show, c) {\n\t//Ignore requests to hide columns that are forced on\n\tif (engToBoolean(zenarioO.tuix.columns[c].always_show)) {\n\t\tshow = true;\n\t\n\t} else {\n\t\t//Ensure someone can never hide the last column!\n\t\tvar count = 0;\n\t\tforeach (zenarioO.tuix.columns as var i) {\n\t\t\tif (zenarioO.shownColumns[i]) {\n\t\t\t\t++count;\n\t\t\t}\n\t\t}\n\t\n\t\tif (count < 2 && !show) {\n\t\t\tshow = true;\n\t\t}\n\t}\n\t\n\t//Otherwise change this column's visibility\n\tif (show) {\n\t\tzenarioO.shownColumns[c] = true;\n\t} else {\n\t\tzenarioO.shownColumns[c] = false;\n\t}\n\t\n\tzenarioO.checkPrefs();\n\tzenarioO.prefs[zenarioO.path].shownColumns = zenarioO.shownColumns;\n\tzenarioO.savePrefs();\n\t\n\tzenarioO.setPanel();\n};\n\nzenarioO.resizeColumn = function(c, size) {\n\tif (zenarioO.shownColumns[c]) {\n\t\tsize = Math.max(size, zenarioO.columnWidths.xxsmall);\n\t\t\n\t\tzenarioO.checkPrefs();\n\t\tif (!zenarioO.prefs[zenarioO.path].colSizes) {\n\t\t\tzenarioO.prefs[zenarioO.path].colSizes = {};\n\t\t}\n\t\tzenarioO.prefs[zenarioO.path].colSizes[c] = size;\n\t\tzenarioO.savePrefs();\n\t}\n\t\n\tzenarioO.setPanel();\n};\n\nzenarioO.showHideColumnInCSV = function(el, c) {\n\tzenarioO.checkPrefs();\n\t\n\tif (!zenarioO.prefs[zenarioO.path].shownColumnsInCSV) {\n\t\tzenarioO.prefs[zenarioO.path].shownColumnsInCSV = {};\n\t}\n\t\n\tif (el.checked) {\n\t\tzenarioO.prefs[zenarioO.path].shownColumnsInCSV[c] = true;\n\t} else {\n\t\tzenarioO.prefs[zenarioO.path].shownColumnsInCSV[c] = false;\n\t}\n\t\n\tzenarioO.savePrefs();\n};\n\nzenarioO.switchColumnOrder = function(a, b, viewOptions) {\n\tif (typeof a == 'object') {\n\t\tvar n,\n\t\t\tcol,\n\t\t\tcolumnsToMove = {};\n\t\t\tmoveableColumns = {},\n\t\t\tpi = -1,\n\t\t\tpositions = [];\n\t\t\n\t\tforeach (a as n) {\n\t\t\tcol = a[n];\n\t\t\t\n\t\t\tcolumnsToMove[col] = true;\n\t\t}\n\t\t\n\t\tforeach (zenarioO.sortedColumns as n) {\n\t\t\tcol = zenarioO.sortedColumns[n];\n\t\t\t\n\t\t\tif (columnsToMove[col]) {\n\t\t\t\tmoveableColumns[col] = true;\n\t\t\t\tpositions[++pi] = n;\n\t\t\t\t\n\t\t\t\tzenarioO.sortedColumns[n] = undefined;\n\t\t\t}\n\t\t}\n\t\t\n\t\tpi = -1;\n\t\tforeach (a as n) {\n\t\t\tcol = a[n];\n\t\t\t\n\t\t\tif (columnsToMove[col] && moveableColumns[col]) {\n\t\t\t\tzenarioO.sortedColumns[positions.shift()] = col;\n\t\t\t}\t\n\t\t}\n\t\t\n\t\tfor (n = zenarioO.sortedColumns.length - 1; n >= 0; --n) {\n\t\t\tif (!defined(zenarioO.sortedColumns[n])) {\n\t\t\t\tzenarioO.sortedColumns.splice(n, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t} else {\n\t\tvar tmp = zenarioO.sortedColumns[a];\n\t\tzenarioO.sortedColumns[a] = zenarioO.sortedColumns[b];\n\t\tzenarioO.sortedColumns[b] = tmp;\n\t}\n\t\n\tzenarioO.checkPrefs();\n\tzenarioO.prefs[zenarioO.path].sortedColumns = zenarioO.sortedColumns;\n\t\n\tzenarioO.setPanel();\n\t\n\tif (viewOptions) {\n\t\tzenarioO.setViewOptions();\n\t}\n\t\n\tzenarioO.savePrefs();\n};\n\nzenarioO.resetPrefs = function() {\n\t\n\tzenarioO.checkPrefs();\n\tif (zenarioO.prefs[zenarioO.path]) {\n\t\tzenarioO.prefs[zenarioO.path] = {};\n\t\tzenarioO.savePrefs();\n\t}\n\t\n\tif (zenarioO.branches[zenarioO.branches.length-1]\n\t && zenarioO.branches[zenarioO.branches.length-1].filters) {\n\t\tzenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path] = {};\n\t}\n\t\n\tzenarioA.closeBox('AdminViewModeOptions');\n\t\n\tzenarioO.refreshAndShowPage();\n};\n\n\n\nzenarioO.checkIfColumnPickerChangesAreAllowed = function(c) {\n\t//Don't allow the sort order to be changed when reordering\n\tif (zenarioO.stop) {\n\t\treturn false;\n\t}\n\t\n\treturn true;\n};\n\nzenarioO.changeSortOrder = function(c) {\n\tif (!zenarioO.canSortColumn(c)\n\t || !zenarioO.checkIfColumnPickerChangesAreAllowed(c)) {\n\t\treturn;\n\t}\n\t\n\tif (zenarioO.sortBy == c) {\n\t\tzenarioO.sortDesc = !zenarioO.sortDesc;\n\t} else {\n\t\tzenarioO.sortBy = c;\n\t\tzenarioO.sortDesc = false;\n\t}\n\t\n\tzenarioO.checkPrefs();\n\tzenarioO.prefs[zenarioO.path].sortBy = zenarioO.sortBy;\n\tzenarioO.prefs[zenarioO.path].sortDesc = zenarioO.sortDesc;\n\t\n\tif (zenarioO.pi) {\n\t\tzenarioO.pi.cmsSetsSortColumn(zenarioO.sortBy, zenarioO.sortDesc);\n\t}\n\tzenarioO.runSearch();\n\t\n\t//This line is not needed now we don't use the view options for sorting columns\n\t//zenarioO.setViewOptions();\n\t\n\tzenarioO.savePrefs(true);\n};\n\nzenarioO.toggleFilter = function(el, c) {\n\t\n\tvar shown,\n\t\tfilterType = zenarioO.getColumnFilterType(c);\n\t\n\tif (!filterType\n\t || !zenarioO.checkIfColumnPickerChangesAreAllowed(c)) {\n\t\treturn;\n\t}\n\t\n\t//Toogle whether this filter is hidden or shown\n\tshown = !zenarioO.getFilterValue('s', c);\n\tzenarioO.setFilterValue('s', c, shown);\n\t\n\t//Unset values of hidden filters\n\tvar refreshNeeded = false;\n\tif (!shown) {\n\t\tif (zenarioO.getFilterValue('v', c)) {\n\t\t\tzenarioO.setFilterValue('v', c, '')\n\t\t\trefreshNeeded = true;\n\t\t}\n\t\tzenarioO.setFilterValue('not', c, false);\n\t}\n\t\n\t//yes_or_no type filters should turn on by default if activated\n\tif (filterType == 'yes_or_no') {\n\t\tif (shown) {\n\t\t\trefreshNeeded = true;\n\t\t\tzenarioO.setFilterValue('v', c, 1);\n\t\t}\n\t}\n\t\n\t\n\tzenarioO.setViewOptions(c);\n\t\n\t//Animate in/out the field that was just shown/hidden\n\tzenarioVO.hideShowFields(function() {\n\t\tzenarioO.size(true);\n\t\t//Focus a text field straight away if we can\n\t\tif (get('v' + c) && $(get('v' + c)).is(':visible')) {\n\t\t\tget('v' + c).focus();\n\t\t}\n\t});\n\t\n\t\n\t//If a filter with a value set was hidden, we will need to refresh to update the panel with the changes\n\tif (refreshNeeded) {\n\t\tzenarioO.refreshAndShowPage();\n\t}\n};\n\nzenarioO.invertFilter = function(el, c, format) {\n\tif (!zenarioO.checkIfColumnPickerChangesAreAllowed(c)) {\n\t\treturn;\n\t}\n\t\n\t//Toogle whether this filter is inverted or not\n\tvar not = !zenarioO.getFilterValue('not', c);\n\tzenarioO.setFilterValue('not', c, not);\n\t\n\t//Redraw the form to change the button\n\tzenarioO.setViewOptions(c);\n\t\n\t//If a filter with a value set was inverted, we will need to refresh to update the panel with the changes\n\tif (zenarioO.filterSetOnColumn(c)) {\n\t\tzenarioO.refreshAndShowPage();\n\t}\n};\n\nzenarioO.refreshIfFilterSet = function(c) {\n\tif (zenarioO.getFilterValue('v', c)) {\n\t\tzenarioO.refreshAndShowPage();\n\t}\n};\n\nzenarioO.filterSetOnColumn = function(c, filters) {\n\treturn !!zenarioO.getFilterValue('v', c, filters);\n};\n\nzenarioO.getFilterValue = function(filter, c, filters) {\n\tif (!defined(filters)) {\n\t\tfilters = zenarioO.branches[zenarioO.branches.length-1].filters[zenarioO.path];\n\t}\n\n\tif (filters\n\t && filters[c]\n\t && filters[c][filter]) {\n\t\treturn filters[c][filter];\n\t} else {\n\t\treturn '';\n\t}\n};\n\nzenarioO.setFilterValue = function(filter, c, value) {\n\t\n\tvar filters = zenarioO.branches[zenarioO.branches.length-1].filters;\n\t\n\tif (!filters[zenarioO.path]) {\n\t\tfilters[zenarioO.path] = {};\n\t}\n\tif (!filters[zenarioO.path][c]) {\n\t\tfilters[zenarioO.path][c] = {};\n\t}\n\t\n\t//Store the value.\n\t//A couple of little hacks to save space here:\n\t\t//There's no difference between {not: false} and {not: undefined} so we can delete \"not\" if it is false\n\t\t//Also \"not\" and \"show\" is used a as a boolean, so we can convert {s: true} to {s: 1} and {s: false} to {s: 0}\n\tif (!defined(value)\n\t || (!value && c == 'not')) {\n\t\tdelete filters[zenarioO.path][c][filter];\n\t\n\t} else if (c == 's' || c == 'not') {\n\t\tfilters[zenarioO.path][c][filter] = engToBoolean(value);\n\t\n\t} else {\n\t\tfilters[zenarioO.path][c][filter] = value;\n\t}\n\t\n\tif (_.isEmpty(filters[zenarioO.path][c])) {\n\t\tdelete filters[zenarioO.path][c];\n\t}\n\tif (_.isEmpty(filters[zenarioO.path])) {\n\t\tdelete filters[zenarioO.path];\n\t}\n};\n\nzenarioO.clearFilter = function(c) {\n\tzenarioO.setFilterValue('v', c);\n\tzenarioO.setFilterValue('not', c);\n};\n\n\nzenarioVO.changeFiltersAfterDelay = function() {\n\tzenario.actAfterDelayIfNotSuperseded('changeFilters', zenarioO.changeFilters, 700);\n};\n\nzenarioO.changeFilters = function() {\n\t\n\t//Don't allow the filters to be touched when reordering\n\tif (zenarioO.stop) {\n\t\tzenarioO.setViewOptions();\n\t\treturn;\n\t}\n\t\n\t\n\tvar value;\n\tforeach (zenarioO.tuix.columns as var c) {\n\t\tif (zenarioO.isShowableColumn(c)) {\n\t\t\tif (get('v' + c) || get('v' + c + '___yes')) {\n\t\t\t\tif (value = zenarioVO.readField('v' + c)) {\n\t\t\t\t\tzenarioO.setFilterValue('v', c, value);\n\t\t\t\t} else {\n\t\t\t\t\tzenarioO.setFilterValue('v', c, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (get('remove_filter_' + c)) {\n\t\t\t\tget('remove_filter_' + c).className =\n\t\t\t\t\tzenarioO.filterSetOnColumn(c)? 'organizer_remove_filter organizer_remove_filter_active' : 'organizer_remove_filter organizer_remove_filter_inactive'\n\t\t\t}\n\t\t}\n\t}\n\t\n\tzenarioO.refreshAndShowPage();\n};\n\nzenarioO.changePageSize = function(newPageSize) {\n\t\n\t//Don't allow the filters to be touched when reordering\n\tif (zenarioO.stop) {\n\t\t//zenarioO.setViewOptions();\n\t\treturn;\n\t}\n\t\n\tzenarioO.checkPrefs();\n\tif (1*newPageSize) {\n\t\tzenarioO.prefs[zenarioO.path].pageSize = 1*newPageSize;\n\t} else {\n\t\tdelete zenarioO.prefs[zenarioO.path].pageSize;\n\t}\n\t\n\t//zenarioO.setViewOptions();\n\tzenarioO.refreshAndShowPage();\n\tzenarioO.savePrefs(true);\n};\n\n\nzenarioO.hideViewOptions = function(e) {\n\tzenarioA.closeBox('AdminViewModeOptions');\n\treturn false;\n};\n\n\n\n\n\n\n\nzenarioO.isShowableColumn = function(c, shown) {\n\t\n\tvar column = zenarioO.tuix.columns[c];\n\t\n\tif (shown) {\n\t\treturn zenarioO.shownColumns[c] && zenarioO.isShowableColumn(c);\n\t} else {\n\t\t//zenarioT.hidden(tuixObject, lib, item, id, button, column, field, section, tab, tuix)\n\t\treturn column\n\t\t\t&& column.title\n\t\t\t&& !engToBoolean(column.server_side_only)\n\t\t\t&& !zenarioT.hidden(undefined, zenarioO, undefined, c, undefined, column)\n\t\t\t&& !zenarioO.checkHiddenByFilter(column);\n\t}\n};\n\n\n//  Sorting Functions  //\n\nzenarioO.getSortedIdsOfTUIXElements = function(toSort, column, desc) {\n\treturn zenarioT.getSortedIdsOfTUIXElements(zenarioO.tuix, toSort, column, desc);\n};\n\n//Given two elements from the above function, say which order they should be in\nzenarioO.sortArray = function(a, b) {\n\tif (a[1] === b[1]) {\n\t\t//If their values are the same type and identical, say that they're identical\n\t\treturn 0;\n\t\n\t} else if (a[2]? b[2] : !b[2]) {\n\t\t//If they're the same type, use a < to work out which is smallest\n\t\treturn a[1] < b[1]? -1 : 1;\n\t\n\t} else {\n\t\t//Otherwise order by numeric data first, then strings\n\t\treturn a[2]? -1 : 1;\n\t}\n};\n\n\n\nzenarioO.dateDays = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];\nzenarioO.dateMonths = ['January','Feburary','March','April','May','June','July','August','September','October','November','December'];\n\n\n\n\n\nzenarioO.checkCondition = function(condition) {\n\tvar id,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\n    foreach (selectedItems as var id) {\n    \tif (!zenarioO.tuix.items[id]) {\n    \t\treturn false\n    \t\n    \t} else if (!condition(id, zenarioO.tuix.items[id])) {\n            return false;\n        }\n    }\n    return true;\n};\n\nzenarioO.columnEqual = function(column, value) {\n\treturn zenarioO.checkCondition(function(id) {\n\t\treturn zenarioO.columnRawValue(id, column) == value;\n\t});\n};\n\nzenarioO.columnNotEqual = function(column, value) {\n\treturn zenarioO.checkCondition(function(id) {\n\t\treturn zenarioO.columnRawValue(id, column) != value;\n\t});\n};\n\nzenarioO.columnRawValue = function(i, c) {\n\t\n\tif (!zenarioO.tuix\n\t || !zenarioO.tuix.columns\n\t || !defined(zenarioO.tuix.columns[c])\n\t || !defined(zenarioO.tuix.items[i])) {\n\t\treturn '';\n\t}\n\t\n\treturn zenarioO.tuix.items[i][c];\n};\n\nzenarioO.columnValue = function(i, c, dontHTMLEscape) {\n\t\n\tif (!zenarioO.tuix) {\n\t\treturn '';\n\t}\n\t\n\t\n\tvar col = (zenarioO.tuix.columns && zenarioO.tuix.columns[c]) || {},\n\t\tvalue = zenarioO.tuix.items[i][c];\n\t\n\tif (value === false || !defined(value)) {\n\t\tvalue = '';\n\t} else {\n\t\tvalue = '' + value;\n\t}\n\t\n\t\n\t//Is this item an item link..?\n\tvar item_link = col.item_link,\n\t\tisSKLink = true,\n\t\tisURL = false,\n\t\titemName;\n\t\n\tif (item_link) {\n\t\tvar item = false;\n\t\t\n\t\tswitch (item_link) {\n\t\t\tcase 'content_item':\n\t\t\tcase 'content_item_or_url':\n\t\t\t\tvar lang = zenarioO.itemLanguage(i),\n\t\t\t\t\tparent = zenarioO.itemParent(i);\n\t\t\n\t\t\t\tif (value\n\t\t\t\t && zenarioO.contentItems[lang]\n\t\t\t\t && zenarioO.contentItems[lang][parent]\n\t\t\t\t && (item = zenarioO.contentItems[lang][parent].items)\n\t\t\t\t && (item = item[value])) {\n\t\t\t\n\t\t\t\t} else if (item_link == 'content_item_or_url'\n\t\t\t\t\t\t&& value\n\t\t\t\t\t\t&& value.substr(0, 1) != '_'\n\t\t\t\t\t\t&& value.substr(1, 2) != '_'\n\t\t\t\t) {\n\t\t\t\t\titem = {name: value, frontend_link: value};\n\t\t\t\t\tisSKLink = false;\n\t\t\n\t\t\t\t} else {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 'menu_item':\n\t\t\t\tvar lang = zenarioO.itemLanguage(i);\n\t\t\t\tif (value && zenarioO.menuItems[lang] && (item = zenarioO.menuItems[lang].items) && (item = item[value])) {}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tif (value && zenarioO.otherItemLinks[item_link] && (item = zenarioO.otherItemLinks[item_link].items) && (item = item[value])) {}\n\t\t\t\n\t\t}\n\t\t\n\t\tif (item) {\n\t\t\tif (dontHTMLEscape) {\n\t\t\t\treturn item.name;\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tvar href = '';\n\t\t\t\t\n\t\t\t\tif (zenarioO.tuix.items[i].cell_css_classes\n\t\t\t\t && zenarioO.tuix.items[i].cell_css_classes[c]\n\t\t\t\t && ('' + zenarioO.tuix.items[i].cell_css_classes[c]).indexOf('ghost') != -1) {\n\t\t\t\t\t//Don't allow ghosted Item Links to be clickable\n\t\t\t\t\thref = ' style=\"cursor: default;\"';\n\t\t\t\t\t\n\t\t\t\t\tif (item_link == 'menu_item') {\n\t\t\t\t\t\thref += ' title=\"' + htmlspecialchars(htmlspecialchars(item.name)) + '|\"';\n\t\t\t\t\t\n\t\t\t\t\t} else if (item_link == 'content_item' || item_link == 'content_item_or_url') {\n\t\t\t\t\t\thref += ' title=\"' + htmlspecialchars(htmlspecialchars(item.name)) + '|\"';\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tif (isSKLink && !window.zenarioONotFull) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar extraParams = '',\n\t\t\t\t\t\t\tnavPath,\n\t\t\t\t\t\t\ttagPath = zenarioO.shallowLinks[item_link] || item_link;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (item.navigation_path) {\n\t\t\t\t\t\t\tnavPath = item.navigation_path;\n\t\t\t\t\t\t\n\t\t\t\t\t\t} else if (zenarioO.shallowLinks[item_link]) {\n\t\t\t\t\t\t\tnavPath = zenarioO.shallowLinks[item_link] + '//' + value;\n\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnavPath = item_link + '//' + value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (zenarioO.shallowLinks[item_link]) {\n\t\t\t\t\t\t\textraParams = \", name: 'following_item_link', languageId: '\" + htmlspecialchars(zenarioO.itemLanguage(i)) + \"'\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\thref =\n\t\t\t\t\t\t\t' href=\"organizer.php#' + htmlspecialchars(navPath) + '\" onclick=\"' +\n\t\t\t\t\t\t\t\t\"zenarioO.deselectAllItems();\" +\n\t\t\t\t\t\t\t\t\"var selectedItems = {};\" +\n\t\t\t\t\t\t\t\t\"selectedItems['\" + htmlspecialchars(i) + \"'] = true;\" +\n\t\t\t\t\t\t\t\t\"zenarioO.pi.cmsSetsSelectedItems(selectedItems);\" +\n\t\t\t\t\t\t\t\t\"zenarioO.setHash();\" +\n\t\t\t\t\t\t\t\t\"zenarioO.go('\" + htmlspecialchars(tagPath) + \"', true, {id: '\" + htmlspecialchars(value) + \"'\" + extraParams + \"}, undefined, undefined, undefined, undefined, '\" + htmlspecialchars(value) + \"');\" +\n\t\t\t\t\t\t\t\t\"return zenario.stop(event);\" +\n\t\t\t\t\t\t\t'\"';\n\t\t\t\t\t\n\t\t\t\t\t} else if (item.navigation_path) {\n\t\t\t\t\t\thref = ' href=\"' + URLBasePath + 'zenario/admin/organizer.php#/' + htmlspecialchars(item.navigation_path) + '\" target=\"_blank\"';\n\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisSKLink = false;\n\t\t\t\t\t\tif (item.frontend_link) {\n\t\t\t\t\t\t\tisURL = true;\n\t\t\t\t\t\t\thref = ' href=\"' + htmlspecialchars(zenario.addBasePath(item.frontend_link)) + '\" target=\"_blank\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (isSKLink) {\n\t\t\t\t\t\tif (item_link == 'menu_item') {\n\t\t\t\t\t\t\thref += ' title=\"' + htmlspecialchars(htmlspecialchars(item.name)) + '|' + phrase.clkToViewLinkedMenuNode + '\"';\n\t\t\t\t\t\t\n\t\t\t\t\t\t} else if (item_link == 'content_item' || item_link == 'content_item_or_url') {\n\t\t\t\t\t\t\thref += ' title=\"' + htmlspecialchars(htmlspecialchars(item.name)) + '|' + phrase.clkToViewLinkedCItem + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t} else if (isURL) {\n\t\t\t\t\t\thref += ' title=\"' + htmlspecialchars(htmlspecialchars(item.name)) + '|' + phrase.clkToViewLinkInNewWindow + '\"';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tswitch (item_link) {\n\t\t\t\t\tcase 'content_item':\n\t\t\t\t\tcase 'content_item_or_url':\n\t\t\t\t\t\titemName = htmlspecialchars(item.name);\n\t\t\t\t\t\tbreak;\n\t\t\t\n\t\t\t\t\tcase 'menu_item':\n\t\t\t\t\t\tvar longName = htmlspecialchars(item.name);\n\t\t\t\t\t\tvar shortName = longName.replace(/.*?\\-\\&gt\\; /g, '-&gt; ');\n\t\t\t\t\t\n\t\t\t\t\t\tif (shortName == longName) {\n\t\t\t\t\t\t\tshortName = longName.replace(/.*?\\: /g, '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\titemName = shortName;\n\t\t\t\t\t\tbreak;\n\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\titemName = zenarioA.formatOrganizerItemName(zenarioO.otherItemLinks[item_link], value);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn zenarioT.microTemplate('zenario_organizer_item_link', {\n\t\t\t\t\titem: item,\n\t\t\t\t\titem_link: item_link,\n\t\t\t\t\titemName: itemName,\n\t\t\t\t\thref: href,\n\t\t\t\t\tpanel: zenarioO.otherItemLinks[item_link],\n\t\t\t\t\tvalue: value\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t//Otherwise check to see if this is a formated column\n\tif (col.format || col.empty_value) {\n\t\tvalue = zenarioA.formatSKItemField(value, col);\n\t}\n\t\n\t\n\tvar applyLengthLimit = col.length_limit && value.length > col.length_limit;\n\t\n\tif (dontHTMLEscape) {\n\t\tif (applyLengthLimit) {\n\t\t\treturn value.substr(0, col.length_limit) + '...';\n\t\t} else {\n\t\t\treturn value;\n\t\t}\n\t\n\t} else {\n\t\tif (applyLengthLimit) {\n\t\t\treturn '<span class=\"tooltip\" title=\"' + htmlspecialchars(value) + '\">' +\n\t\t\t\t\t\thtmlspecialchars(value.substr(0, col.length_limit)) +\n\t\t\t\t\t'...</span>';\n\t\t\n\t\t} else {\n\t\t\treturn htmlspecialchars(value);\n\t\t}\n\t}\n};\n\nzenarioO.rowCssClass = function(i) {\n\tvar item = zenarioO.tuix.items[i] || {};\n\treturn item.row_class || item.row_css_class || '';\n\t\t//N.b. row_css_class is the old name for this property;\n\t\t//I've kept it here to preserve backwards compatability just in case it's used in any old client modules\n};\n\nzenarioO.columnCssClass = function(c, i) {\n\tvar html = '',\n\t\tcol = zenarioO.tuix.columns[c],\n\t\titem = defined(i) && zenarioO.tuix.items[i];\n\t\n\tif (col && col['css_class']) {\n\t\thtml += ' ' + col['css_class'];\n\t}\n\t\n\tif (item\n\t && item.cell_css_classes\n\t && item.cell_css_classes[c]) {\n\t\thtml += ' ' + item.cell_css_classes[c];\n\t}\n\t\n\tif (item\n\t && item[c]\n\t && col\n\t && col.values\n\t && col.values[item[c]]\n\t && col.values[item[c]].css_class) {\n\t\thtml += ' ' + col.values[item[c]].css_class;\n\t}\n\t\n\treturn html;\n};\n\n\n\n\n//\tDisplay Functions  //\n\n//Warning: the zenarioO.setBackButton() and zenarioO.getBackButtonTitle() functions both\n//rely on the zenarioO.setNavigation() function being called first!\nzenarioO.setBackButton = function() {\n\tvar i,\n\t\thtml = '',\n\t\ttitles = zenarioO.getBackButtonTitle(-1, true),\n\t\tdata = {\n\t\t\tbuttons: []\n\t\t};\n\t\n\tif (!titles || titles.length == 0) {\n\t\tget('organizer_branding_title').style.display = 'block';\n\t\tget('organizer_backButton').style.display = 'none';\n\t\n\t} else {\n\t\tget('organizer_branding_title').style.display = 'none';\n\t\tget('organizer_backButton').style.display = 'block';\n\t\t\n\t\tforeach (titles as i) {\n\t\t\tdata.buttons[i] = {\n\t\t\t\torderAsc: i + 1,\n\t\t\t\torderDesc: titles.length - i,\n\t\t\t\ttitle: titles[i]\n\t\t\t};\n\t\t}\n\t\t\n\t\thtml = zenarioT.microTemplate('zenario_organizer_back_buttons', data);\n\t}\n\t\n\tget('organizer_backButton').innerHTML = html;\n\tzenarioA.tooltips('#organizer_backButton *[title]');\n\tzenarioA.setTooltipIfTooLarge('.organizer_lastBackButton a', undefined, zenarioA.tooltipLengthThresholds.organizerBackButton);\n};\n\nzenarioO.getBackButtonTitle = function(times, getArray) {\n\tvar branchLevel = zenarioO.branches.length - 1;\n\treturn zenarioO.getFromLastPanel(branchLevel, zenarioO.path, 'title', false, times, getArray);\n};\n\nzenarioO.getSelectedItemFromLastPanel = function(path) {\n\tvar id,\n\t\tselectedItems = false;\n\t\n\tif ((panelInstance = zenarioO.getFromLastPanel(zenarioO.branches.length-1, zenarioO.path, 'panel_instances', true))\n\t && (panelInstance = panelInstance[path])) {\n\t\tselectedItems = panelInstance.returnSelectedItems();\n\t}\n\t\n\tif (selectedItems) {\n\t\tforeach (selectedItems as id) {\n\t\t\treturn id;\n\t\t}\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.getFromLastPanel = function(branchLevel, path, thing, branchBelow, times, getArray, stats, secondCall) {\n\t\n\tif (!zenarioO.tuix || !zenarioO.path) {\n\t\treturn false;\n\t}\n\t\n\tvar output,\n\t\tarrayOut = false,\n\t\thash,\n\t\tbackLink,\n\t\tgoDownBranch = false,\n\t\tgoUpPath = false;\n\t\n\tif (!defined(times)) {\n\t\ttimes = 1;\n\t}\n\tif (!defined(stats)) {\n\t\tstats = {};\n\t}\n\tif (!defined(stats.path)) {\n\t\tstats.path = path;\n\t}\n\tif (!defined(stats.pops)) {\n\t\tstats.pops = 0;\n\t}\n\t\n\t\t//Don't go further back than the top-level panel\n\tif (branchLevel === 0 && path.indexOf('/') == -1) {\n\t\treturn false;\n\t}\n\t\n\tif (thing != 'no_return') {\n\t\t\t//Don't allow the back button if the last panel used the \"no return\" flag\n\t\tif (engToBoolean(zenarioO.getFromLastPanel(branchLevel, path, 'no_return'))\n\t\t\t\n\t\t\t//Don't allow the back button if it has been disabled using <back_link></back_link>\n\t\t || (branchLevel === 0 && !zenarioO.tuix.back_link)\n\t\t \n\t\t\t//If the current top level has a refiner in it, treat the end-point of the refiner\n\t\t\t//(i.e. the second branch-level) as the start and don't allow anything to reference\n\t\t\t//the first branch level (which you can never actually navigate to).\n\t\t || (branchLevel < 2 && zenarioO.currentTopLevelPathHasRefiner)) {\n\t\t\t\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//Is this the start of the branch?\n\tif (branchLevel > 0 && path == zenarioO.branches[branchLevel].to) {\n\t\t//If so, look for the previous panel\n\t\t\n\t\t//Don't allow the admin to go above the min-path in select mode\n\t\tif (window.zenarioONotFull && window.zenarioOMinPath && path == window.zenarioOMinPath && (window.zenarioODisallowRefinersLoopingOnMinPath || zenarioO.branches[branchLevel].from != path)) {\n\t\t\treturn false;\n\t\t\n\t\t//If the previous panel was a bypass, call zenarioO.getFromLastPanel() again to get the title of the panel before that.\n\t\t} else if (zenarioO.branches[branchLevel-1].bypasses[zenarioO.branches[branchLevel].from]\n\t\t\t\n\t\t\t//Note that bypasses are only used for item links, so we need to check if actually is an item link just in case we disallow the back button when it should in fact be allowed\n\t\t && zenarioO.knownBranches[zenarioO.branches[branchLevel].from]\n\t\t && zenarioO.knownBranches[zenarioO.branches[branchLevel].from][zenarioO.branches[branchLevel].to]\n\t\t && zenarioO.knownBranches[zenarioO.branches[branchLevel].from][zenarioO.branches[branchLevel].to][zenarioO.branches[branchLevel].refiners[zenarioO.branches[branchLevel].to]? zenarioO.branches[branchLevel].refiners[zenarioO.branches[branchLevel].to].name : 1]\n\t\t && zenarioO.knownBranches[zenarioO.branches[branchLevel].from][zenarioO.branches[branchLevel].to][zenarioO.branches[branchLevel].refiners[zenarioO.branches[branchLevel].to]? zenarioO.branches[branchLevel].refiners[zenarioO.branches[branchLevel].to].name : 1].substr(-4) == 'item'\n\t\t) {\n\t\t\treturn zenarioO.getFromLastPanel(branchLevel-1, zenarioO.branches[branchLevel].from, thing, branchBelow, times, getArray, stats, true);\n\t\t\n\t\t//Set the title of the back button to the last panel in the previous branch.\n\t\t//Return eiher the current branch or the branch below if branchBelow is set.\n\t\t} else {\n\t\t\tgoDownBranch = true;\n\t\t\t\n\t\t\tif (branchBelow) {\n\t\t\t\toutput = zenarioO.branches[branchLevel-1][thing];\n\t\t\t} else {\n\t\t\t\toutput = zenarioO.branches[branchLevel][thing];\n\t\t\t}\n\t\t}\n\t\n\t} else if (zenarioO.branches[branchLevel][thing]) {\n\t\tgoDownBranch = true;\n\t\toutput = zenarioO.branches[branchLevel][thing];\n\t\n\t} else {\n\t\t//Otherwise check to see if there is a panel naturally above the current panel and use the title from there\n\t\tif (!secondCall && path == zenarioO.path) {\n\t\t\tbackLink = zenarioO.tuix.back_link;\n\t\t} else {\n\t\t\tbackLink = zenarioO.followPathOnMap(path, 'back_link');\n\t\t}\n\t\t\n\t\t\n\t\tif (!backLink) {\n\t\t\treturn false;\n\t\t\n\t\t//Don't allow the admin to go above the min-path in select mode\n\t\t} else if (window.zenarioONotFull && window.zenarioOMinPath && path == window.zenarioOMinPath && (window.zenarioODisallowRefinersLoopingOnMinPath || backLink != path)) {\n\t\t\treturn false;\n\t\t\n\t\t//Otherwise just attempt to read the title off from the map\n\t\t} else {\n\t\t\tgoUpPath = true;\n\t\t\toutput = zenarioO.followPathOnMap(backLink, thing);\n\t\t}\n\t}\n\t\n\tif (goDownBranch) {\n\t\tstats.path = zenarioO.branches[branchLevel].from;\n\t\t++stats.pops;\n\t\n\t} else if (goUpPath && backLink) {\n\t\tstats.path = backLink;\n\t}\n\t\n\tif (--times != 0) {\n\t\tif (goDownBranch) {\n\t\t\tarrayOut = zenarioO.getFromLastPanel(branchLevel-1, zenarioO.branches[branchLevel].from, thing, branchBelow, times, getArray, stats, true);\n\t\t\n\t\t} else if (goUpPath && backLink) {\n\t\t\tarrayOut = zenarioO.getFromLastPanel(branchLevel, backLink, thing, branchBelow, times, getArray, stats, true);\n\t\t\n\t\t} else {\n\t\t\t//should never happen\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tif (getArray) {\n\t\tif (!arrayOut) {\n\t\t\tarrayOut = [];\n\t\t}\n\t\tarrayOut[arrayOut.length] = output;\n\t\t\n\t\treturn arrayOut;\n\t\n\t} else if (arrayOut !== false) {\n\t\treturn arrayOut;\n\t\n\t} else {\n\t\treturn output;\n\t}\n};\n\n\n\n//Warning: the zenarioO.setBackButton() and zenarioO.getBackButtonTitle() functions both\n//rely on the zenarioO.setNavigation() function being called first!\nzenarioO.setNavigation = function(returnData) {\n\tvar i, j,\n\t\titemNo, jtemNo,\n\t\tti = -1,\n\t\tselected1st,\n\t\tselected2nd,\n\t\tlength,\n\t\tlongestMatch = -1,\n\t\tcommonPrefix,\n\t\tsortedSecondLevelItems,\n\t\tdata = {\n\t\t\titems: [],\n\t\t\tselected1st: 0\n\t\t},\n\t\t\n\t\t//Work out which top level item was selected, either by looking at the first branch, or if there are no\n\t\t//branches, the current path.\n\t\tpath = zenarioO.path,\n\t\tnavPath = zenarioO.getHash(true),\n\t\tthisNavPath;\n\t\n\tif (!zenarioO.sortedTopLevelItems) {\n\t\tzenarioO.sortedTopLevelItems = zenarioO.getSortedIdsOfTUIXElements(zenarioO.map);\n\t}\n\t\n\tzenarioO.currentTopLevelPathHasRefiner = false;\n\t\n\tif (zenarioO.branches.length > 1) {\n\t\tpath = zenarioO.branches[1].from;\n\t}\n\t\n\t\n\t//Loop through all of the first and second level navs\n\tforeach (zenarioO.map as i) {\n\t\tif (i != 'top_right_buttons'\n\t\t && typeof zenarioO.map[i] == 'object'\n\t\t && zenarioO.map[i].nav) {\n\t\t\tforeach (zenarioO.map[i].nav as j) {\n\t\t\t\tif (typeof zenarioO.map[i].nav[j] == 'object') {\n\t\t\t\t\t\n\t\t\t\t\t//Work out which first/second level nav should be selected by comparing its path against the navigation path\n\t\t\t\t\tthisNavPath = i + '/nav/' + j + '/panel';\n\t\t\t\t\t\n\t\t\t\t\tif (zenarioO.map[i].nav[j].link\n\t\t\t\t\t && zenarioO.map[i].nav[j].link.path) {\n\t\t\t\t\t\tthisNavPath = zenarioO.map[i].nav[j].link.path;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlength = (thisNavPath + '').length;\n\t\t\t\t\t\n\t\t\t\t\tif (longestMatch < length\n\t\t\t\t\t && (commonPrefix = (navPath + '/').substr(0, length))\n\t\t\t\t\t && (commonPrefix == thisNavPath\n\t\t\t\t\t  || commonPrefix == thisNavPath + '/')) {\n\t\t\t\t\t\tlongestMatch = length;\n\t\t\t\t\t\tselected1st = i;\n\t\t\t\t\t\tselected2nd = j;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t\n\t//Loop through each top level nav\n\tforeach (zenarioO.sortedTopLevelItems as itemNo => i) {\n\t\t\n\t\tvar first2nd = true,\n\t\t\tsi = -1,\n\t\t\tprop,\n\t\t\ttopLevel = zenarioO.map[i],\n\t\t\tsecondLevel,\n\t\t\ttopLevelTUIX,\n\t\t\tsecondLevelTUIX,\n\t\t\tpanelItemDefaults,\n\t\t\titem_css_class;\n\t\t\n\t\tif (i == 'top_right_buttons'\n\t\t\t//zenarioT.hidden(tuixObject, lib, item, id, button, column, field, section, tab, tuix)\n\t\t || zenarioT.hidden(undefined, zenarioO, undefined, i, undefined, undefined, undefined, topLevel)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\t//Set data to pass to the microtemplate\n\t\ttopLevelTUIX = data.items[++ti] = {\n\t\t\tid: i,\n\t\t\titems: [],\n\t\t\tselected: i === selected1st,\n\t\t\tcss_class: topLevel.css_class,\n\t\t\tlabel: topLevel.label || topLevel.name,\n\t\t\ttooltip: topLevel.tooltip,\n\t\t\thref: topLevel.href,\n\t\t\tonclick: topLevel.onclick,\n\t\t\tyoutube_video_id: topLevel.youtube_video_id,\n\t\t\tyoutube_thumbnail_title: topLevel.youtube_thumbnail_title\n\t\t};\n\t\tzenarioO.setDataAttributes(topLevel, topLevelTUIX);\n\t\t\n\t\tif (i === selected1st) {\n\t\t\tdata.selected1st = ti;\n\t\t}\n\t\t\n\t\t//Sort the second level nav under this top level\n\t\tif (topLevel.nav\n\t\t && _.isObject(topLevel.nav)) {\n\t\t\tsortedSecondLevelItems = zenarioO.getSortedIdsOfTUIXElements(topLevel.nav);\n\t\t\n\t\t\t//Loop through each second level nav\n\t\t\tforeach (sortedSecondLevelItems as jtemNo => j) {\n\t\t\t\tsecondLevel = topLevel.nav[j];\n\t\t\t\n\t\t\t\tif (secondLevel.link\n\t\t\t\t && secondLevel.link.path) {\n\t\t\t\t\tpath = secondLevel.link.path;\n\t\t\t\t} else {\n\t\t\t\t\tpath = i + '/nav/' + j + '/panel';\n\t\t\t\t}\n\t\t\t\n\t\t\t\tif (i === selected1st && j === selected2nd) {\n\t\t\t\t\tzenarioO.currentTopLevelPath = path;\n\t\t\t\t\n\t\t\t\t\tif (path.match(/\\/\\//)) {\n\t\t\t\t\t\tzenarioO.currentTopLevelPathHasRefiner = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//zenarioT.hidden(tuixObject, lib, item, id, button, column, field, section, tab, tuix)\n\t\t\t\tif (zenarioT.hidden(undefined, zenarioO, undefined, j, secondLevel, undefined, undefined, topLevel)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\titem_css_class = secondLevel.css_class;\n\t\t\t\t\n\t\t\t\t//If a CSS class wasn't set, attempt to look up the icons used in the target panel.\n\t\t\t\t//(This is currently only needed for the Admin Toolbar, so I'm only\n\t\t\t\t// doing the logic if the returnData variable is set.)\n\t\t\t\tif (!item_css_class\n\t\t\t\t && returnData\n\t\t\t\t && (panelItemDefaults = zenarioO.followPathOnMap(path, 'item'))) {\n\t\t\t\t\titem_css_class = panelItemDefaults.css_class;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tsecondLevelTUIX = topLevelTUIX.items[++si] = {\n\t\t\t\t\tid: j,\n\t\t\t\t\tselected: i === selected1st && j === selected2nd,\n\t\t\t\t\thref: secondLevel.href,\n\t\t\t\t\tonclick: secondLevel.onclick,\n\t\t\t\t\tcss_class: item_css_class,\n\t\t\t\t\tlabel: secondLevel.label || secondLevel.name,\n\t\t\t\t\ttooltip: secondLevel.tooltip,\n\t\t\t\t\titem_css_class: item_css_class\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tif (!secondLevel.href && !secondLevel.onclick) {\n\t\t\t\t\tsecondLevelTUIX.href = '#' + path;\n\t\t\t\t\tsecondLevelTUIX.onclick = \"zenarioO.topLevelClick('\" + jsEscape(i) + \"', '\" + jsEscape(j) + \"', \" + engToBoolean(si == 0) + \"); return false;\";\n\t\t\t\t}\n\t\t\t\n\t\t\t\t//The user should be taken to the first second level item if they click on the top level item\n\t\t\t\tif (first2nd) {\n\t\t\t\t\tfirst2nd = false;\n\t\t\t\t\tif (!topLevelTUIX.href && !topLevelTUIX.onclick) {\n\t\t\t\t\t\ttopLevelTUIX.href = secondLevelTUIX.href;\n\t\t\t\t\t\ttopLevelTUIX.onclick = secondLevelTUIX.onclick;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n\t\n\tif (returnData) {\n\t\treturn data;\n\t}\n\t\n\tget('organizer_leftColumn').innerHTML = zenarioT.microTemplate('zenario_organizer_nav', data);\n\t\n\t//Set tooltips for top-level nav\n\tzenarioA.tooltips('#organizer_leftColumn #organizer_topLevelNav a[title]', {position: {my: 'left+2 center', at: 'right center', collision: 'flipfit'}, show: false, hide: false});\n\t\n\t//Set tooltips for second-level nav\n\tzenarioA.tooltips('#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav a[title]', {position: {my: 'left+2 center', at: 'right center', collision: 'flipfit'}});\n\t\n\t\n\tvar $topLevelNav = $('#organizer_topLevelNav');\n\t$('#organizer_topLevelNavScrollUp').mousehold(function() {\n\t\tzenarioO.scrollTopLevelNav($topLevelNav, true);\n\t}, 100);\n\t$('#organizer_topLevelNavScrollDown').mousehold(function() {\n\t\tzenarioO.scrollTopLevelNav($topLevelNav, false);\n\t}, 100);\n\tzenarioO.setTopLevelNavScrollStatus($topLevelNav);\n};\n\nzenarioO.scrollTopLevelNav = function($topLevelNav, up) {\n\t$topLevelNav.scrollTop($topLevelNav.scrollTop() + (up? -50 : 50));\n\tzenarioO.setTopLevelNavScrollStatus($topLevelNav);\n};\n\nzenarioO.setTopLevelNavScrollStatus = function($topLevelNav) {\n\tif (!$topLevelNav) {\n\t\t$topLevelNav = $('#organizer_topLevelNav');\n\t}\n\t\n\tvar scrollLength = $('#organizer_topLevelNavInner').outerHeight() - $topLevelNav.innerHeight();\n\t\n\tif (scrollLength <= 0) {\n\t\t$('#organizer_topLevelNavScroll').hide();\n\t} else {\n\t\t$('#organizer_topLevelNavScroll').show();\n\t\t\n\t\tvar scrollTop = $topLevelNav.scrollTop();\n\t\t\n\t\tif (scrollTop > 0) {\n\t\t\t$('#organizer_topLevelNavScrollUp').addClass('organizer_scrollActive');\n\t\t} else {\n\t\t\t$('#organizer_topLevelNavScrollUp').removeClass('organizer_scrollActive');\n\t\t}\n\t\t\n\t\tif (scrollTop < scrollLength) {\n\t\t\t$('#organizer_topLevelNavScrollDown').addClass('organizer_scrollActive');\n\t\t} else {\n\t\t\t$('#organizer_topLevelNavScrollDown').removeClass('organizer_scrollActive');\n\t\t}\n\t}\n};\n\n\nzenarioO.setDataAttributes = function(tuix, mergefields) {\n\tforeach (tuix as var prop) {\n\t\tif (prop.substr(0, 4) == 'data') {\n\t\t\tmergefields[prop] = tuix[prop];\n\t\t}\n\t}\n};\n\nzenarioO.setTopRightButtons = function() {\n\t\n\tdelete zenarioO.map.top_right_buttons.ord;\n\tvar sortedTopRightButtons = zenarioO.getSortedIdsOfTUIXElements(zenarioO.map.top_right_buttons);\n\t\n\tvar bi = -1,\n\t\tbutton,\n\t\tbuttons = [],\n\t\tdisabled,\n\t\ti, itemNo;\n\t\n\tforeach (sortedTopRightButtons as itemNo => i) {\n\t\tbutton = zenarioO.map.top_right_buttons[i];\n\t\t\n\t\t//Check if this button is hidden\n\t\tif (zenarioO.checkButtonHidden(button)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tdisabled = zenarioO.checkDisabled(button, i);\n\t\tbuttons[++bi] = zenarioO.setButtonAction('zenarioO.topRightButtonClick', button, disabled, i, undefined, undefined, '');\n\t}\n\t\n\t//Add parent/child relationships\n\tzenarioT.setButtonKin(buttons);\n\t\n\t$('#organizer_top_right_buttons').html(zenarioT.microTemplate('zenario_organizer_top_right_button', buttons));\n\t\n\tzenarioA.tooltips('#organizer_top_right_buttons a[title]', {position: {my: 'right center', at: 'left center', collision: 'flipfit'}, show: false, hide: false});\n\n};\n\nzenarioO.setButtons = function() {\n\t\n\tvar id,\n\t\ttuix = zenarioO.tuix,\n\t\titemsSelected = 0,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems(),\n\t\tstring;\n\t\n\tforeach (selectedItems as id) {\n\t\t++itemsSelected;\n\t}\n\t\n\tif (itemsSelected === 1\n\t && tuix.items\n\t && tuix.items[id]\n\t && (string = tuix.items[id].selected_label)\n\t && (_.isString(string))) {\n\t\t\n\t\t$('#organizer_itemSelected').text(\n\t\t\tstring.replace(/\\w/, function(chr) { return chr.toLocaleUpperCase(); }) +\n\t\t\t' ' +\n\t\t\tphrase.selected\n\t\t);\n\t\t\n\t\t$('#organizer_selected').show();\n\t} else {\n\t\t$('#organizer_selected').hide();\n\t}\n\t\n\tzenarioO.itemsSelected = itemsSelected;\n\t\n\tzenarioO.pi.showButtons(\n\t\t$('#organizer_buttons'));\n\t\n\tzenarioO.setChooseButton();\n\t\n\tzenarioO.sizeButtons();\n\t\n\t//if (!get('organizer_rightColumnOptions')) {\n\t//\treturn;\n\t//}\n\t//\n\t//if (zenarioO.changingHierarchy) {\n\t//\t$('#organizer_rightColumnOptions').hide();\n\t//\t$('#organizer_rightColumnApplyCancel').show();\n\t//} else {\n\t//\t$('#organizer_rightColumnOptions').show();\n\t//\t$('#organizer_rightColumnApplyCancel').hide();\n\t//\t\n\t//\tdelete zenarioO.upload;\n\t//\tdelete zenarioO.uploadIsItemLevel;\n\t//\tif (zenarioO.itemsSelected) {\n\t//\t\tzenarioO.setItemButtons(transition);\n\t//\t} else {\n\t//\t\tzenarioO.setCollectionButtons(transition);\n\t//\t}\n\t//\tzenarioO.setUploads();\n\t//\tzenarioO.setChooseButton();\n\t//}\n};\n\nzenarioO.sizeButtons = function() {\n\tvar LARGE_PADDING = 3000,\n\t\tMARGIN = 25,\n\t\tdomWrap = get('organizer_buttons'),\n\t\tdomCB = get('organizer_collectionToolbar'),\n\t\tdomIB = get('organizer_itemToolbar'),\n\t\tdomCW = get('organizer_collectionToolbarWrap'),\n\t\tdomIW = get('organizer_itemToolbarWrap'),\n\t\t$wrap = domWrap && $(domWrap),\n\t\t$cB = domCB && $(domCB),\n\t\t$iB = domIB && $(domIB),\n\t\t$cW = domCW && $(domCW),\n\t\t$iW = domIW && $(domIW),\n\t\twrapWidth,\n\t\tcBWidth,\n\t\tiBWidth;\n\t\n\tif ($wrap && $cB) {\n\t\t\n\t\t$cW.show();\n\t\t\n\t\twrapWidth = $wrap.width() - MARGIN;\n\t\t\n\t\t$cW.width(LARGE_PADDING);\n\t\t$cB.width('');\n\t\tcBWidth = $cB.width();\n\t\t\n\t\tif ($iB && $iB.is(\":visible\")) {\n\t\t\t$iW.width(LARGE_PADDING);\n\t\t\t$iB.width('');\n\t\t\tiBWidth = $iB.width();\n\t\t\t\n\t\t\tif (cBWidth + iBWidth > wrapWidth) {\n\t\t\t\tif (iBWidth > wrapWidth) {\n\t\t\t\t\t$iW.width(wrapWidth);\n\t\t\t\t\t$iB.width(LARGE_PADDING);\n\t\t\t\t\t$cW.hide();\n\t\t\t\t} else {\n\t\t\t\t\t$iW.width('');\n\t\t\t\t\t$iB.width('');\n\t\t\t\t\t$cW.width(wrapWidth - iBWidth);\n\t\t\t\t\t$cB.width(LARGE_PADDING);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$iW.width('');\n\t\t\t\t$iB.width('');\n\t\t\t\t$cW.width('');\n\t\t\t\t$cB.width('');\n\t\t\t}\n\t\t} else {\n\t\t\tif (cBWidth > wrapWidth) {\n\t\t\t\t$cW.width(wrapWidth);\n\t\t\t\t$cB.width(LARGE_PADDING);\n\t\t\t} else {\n\t\t\t\t$cW.width('');\n\t\t\t\t$cB.width('');\n\t\t\t}\n\t\t}\n\t}\n};\n\nzenarioO.getQuickFilters = function() {\n\t\n\tvar bi = -1,\n\t\tbutton,\n\t\tbuttons = [],\n\t\tdisabled,\n\t\ti, itemNo;\n\t\n\tforeach (zenarioO.sortedQuickFilterButtons as itemNo => i) {\n\t\tbutton = zenarioO.tuix.quick_filter_buttons[i];\n\t\t\n\t\t//Check if this button is hidden\n\t\tif (zenarioO.checkButtonHidden(button)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tdisabled = zenarioO.checkDisabled(button, i);\n\t\tbuttons[++bi] = zenarioO.setButtonAction('zenarioO.toggleQuickFilter', button, disabled, i, undefined, undefined, '');\n\t\t\n\t\tbuttons[bi].enabled = zenarioO.quickFilterEnabled(i);\n\t}\n\t\n\t//Add parent/child relationships\n\tzenarioT.setButtonKin(buttons);\n\t\n\treturn buttons;\n};\n\n//zenarioO.setCollectionButtons = function(transition) {\nzenarioO.getCollectionButtons = function(m) {\n\t\n\tvar bi = -1,\n\t\tbutton,\n\t\tbuttons = [],\n\t\tdisabled,\n\t\ti, itemNo;\n\t\n\tforeach (zenarioO.sortedCollectionButtons as itemNo => i) {\n\t\tbutton = zenarioO.tuix.collection_buttons[i];\n\t\t\n\t\t//Check if this button is hidden\n\t\tif (zenarioO.checkButtonHidden(button)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\t//Hide the export to csv button if there are no rows\n\t\tif (!zenarioO.searchMatches && (engToBoolean(button.do_csv_export) || engToBoolean(button.hide_when_no_search_results))) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tdisabled = zenarioO.checkDisabled(button, i);\n\t\tbuttons[++bi] = zenarioO.setButtonAction('zenarioO.collectionButtonClick', button, disabled, i);\n\t}\n\t\n\t//Add parent/child relationships\n\tzenarioT.setButtonKin(buttons);\n\t\n\tm.collectionButtons = buttons;\n};\n\nzenarioO.buttonsPrevHTML = '';\nzenarioO.fadeOutLastButtons = function(html, item, transition) {\n\tif (!get('organizer_rightColumnOptions')) {\n\t\treturn;\n\t}\n\t\n\tvar $collectionButtons = $('#organizer_collectionToolbar'),\n\t\t$collectionButtonsHTML = $('#organizer_collectionToolbarButtons'),\n\t\t$itemButtons = $('#organizer_itemToolbar'),\n\t\t$itemButtonsHTML = $('#organizer_itemToolbarButtons'),\n\t\t$prevButtons = $('#organizer_previousToolbar'),\n\t\t$prevButtonsHTML = $('#organizer_previousToolbarButtons');\n\t\n\tif ($collectionButtons.is(':visible')) {\n\t\t$collectionButtons.clearQueue().hide();\n\t}\n\t\n\tif ($itemButtons.is(':visible')) {\n\t\t$itemButtons.clearQueue().hide();\n\t}\n\t\n\tif (item) {\n\t\t$itemButtonsHTML.html(html);\n\t} else {\n\t\t$collectionButtonsHTML.html(html);\n\t}\n\t\n\t$prevButtons.clearQueue().hide();\n\t\n\tif (!transition || zenarioO.buttonsPrevHTML == html) {\n\t\t//Either transitions are not enabled, or the HTML hasn't actually changed therefore there's not need to show one\n\t\tif (item) {\n\t\t\t$itemButtons.show();\n\t\t} else {\n\t\t\t$collectionButtons.show();\n\t\t}\n\t\n\t} else {\n\t\tif (zenarioO.buttonsPrevHTML) {\n\t\t\t//Fade out the previous buttons\n\t\t\t$prevButtonsHTML.html(zenarioO.buttonsPrevHTML);\n\t\t\t$prevButtons.show().fadeOut({\n\t\t\t\tduration: 250,\n\t\t\t\teasing: 'zenarioLinearWithDelayAfterwards',\n\t\t\t\tcomplete: function() { $prevButtonsHTML.html(''); }\n\t\t\t});\n\t\t}\n\t\t\n\t\t//Fade in the new buttons\n\t\tif (item) {\n\t\t\t$itemButtons\n\t\t\t\t.css('animation', 'none')\n\t\t\t\t.fadeIn({\n\t\t\t\t\tduration: 250,\n\t\t\t\t\teasing: 'zenarioLinearWithDelayAfterwards',\n\t\t\t\t\tcomplete: function() { $itemButtons.css('animation', ''); $itemButtons.addClass('yellow_flash'); }\n\t\t\t\t});\n\t\t} else {\n\t\t\t$collectionButtons\n\t\t\t\t.css('animation', 'none')\n\t\t\t\t.fadeIn({\n\t\t\t\t\tduration: 250,\n\t\t\t\t\teasing: 'zenarioLinearWithDelay',\n\t\t\t\t\tcomplete: function() { $collectionButtons.css('animation', ''); $collectionButtons.addClass('white_flash'); }\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\tzenarioO.buttonsPrevHTML = html;\n};\n\nzenarioO.showCollectionButtons = function(html, transition) {\n\tzenarioO.fadeOutLastButtons(html, false, transition);\n};\n\nzenarioO.hideCollectionButtons = function(transition) {\n\tzenarioO.fadeOutLastButtons('', false, transition);\n};\n\nzenarioO.showItemButtons = function(html, transition) {\n\tzenarioO.fadeOutLastButtons(html, true, transition);\n};\n\nzenarioO.hideItemButtons = function(transition) {\n\tzenarioO.fadeOutLastButtons('', true, transition);\n};\n\n\n\n//zenarioO.setItemButtons = function(transition) {\nzenarioO.getItemButtons = function(m) {\n\t\n\tvar i,\n\t\tbi = -1,\n\t\tbutton,\n\t\tbuttons = [],\n\t\tparent,\n\t\tdisabled,\n\t\ti, itemNo,\n\t\tselectedItems = zenarioO.pi.returnSelectedItems(),\n\t\tid = zenarioO.getKeyId(true),\n\t\titem = id && zenarioO.tuix.items && zenarioO.tuix.items[id],\n\t\titemsSelected = zenarioO.itemsSelected,\n\t\titemCSSClass = zenarioO.tuix.item && zenarioO.tuix.item.css_class;\n\t\n\tif (itemsSelected > 0) {\n\t\tif (itemsSelected == 1) {\n\t\t\titemCSSClass = item.css_class || itemCSSClass;\n\t\t}\n\t\t\n\t\tforeach (zenarioO.sortedItemButtons as itemNo => i) {\n\t\t\tbutton = zenarioO.tuix.item_buttons[i];\n\t\t\t\n\t\t\t//Check if this button only works with single items, and then don't show it if multiple items are selected\n\t\t\tvar maxItems = 1, \n\t\t\t\tminItems = 1;\n\t\t\t\n\t\t\tif (engToBoolean(button.multiple_select)) {\n\t\t\t\tmaxItems = button.multiple_select_max_items;\n\t\t\t\t\n\t\t\t\tif (engToBoolean(button.multiple_select_only)) {\n\t\t\t\t\tminItems = 2;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (button.multiple_select_min_items) {\n\t\t\t\t\tminItems = Math.max(minItems, button.multiple_select_min_items);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (itemsSelected < minItems || (maxItems && itemsSelected > maxItems)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t//Check if this button is hidden\n\t\t\tif (zenarioO.checkButtonHidden(button, selectedItems)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tif (!zenarioO.checkItemButtonHidden(button, selectedItems)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tdisabled = zenarioO.checkDisabled(button, i, selectedItems);\n\t\t\tbuttons[++bi] = zenarioO.setButtonAction('zenarioO.itemButtonClick', button, disabled, i, undefined, item);\n\t\t\t\n\t\t\t\n\t\t\tbuttons[bi].label = zenarioO.applyMergeFieldsToLabel(\n\t\t\t\tbutton.label || button.name,\n\t\t\t\tfalse, true,\n\t\t\t\tbutton.multiple_select_label\n\t\t\t);\n\t\t\t\n\t\t\tif (disabled && button.disabled_tooltip) {\n\t\t\t\tbuttons[bi].tooltip = zenarioO.applyMergeFieldsToLabel(button.disabled_tooltip, false, true);\n\t\t\t\n\t\t\t} else {\n\t\t\t\tbuttons[bi].tooltip = zenarioO.applyMergeFieldsToLabel(\n\t\t\t\t\tbutton.tooltip,\n\t\t\t\t\tfalse, true,\n\t\t\t\t\tbutton.multiple_select_tooltip\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Add parent/child relationships\n\tzenarioT.setButtonKin(buttons);\n\t\n\t\n\tm.itemButtons = buttons;\n\tm.itemCSSClass = itemCSSClass;\n\tm.itemsSelected = itemsSelected;\n};\n\n\n\nzenarioO.setButtonAction = function(funName, button, disabled, buttonId, itemId, item, defaultCSS) {\n\t\n\tif (!defined(defaultCSS)) {\n\t\tdefaultCSS = 'label_without_icon';\n\t}\n\t\n\tvar merge = {\n\t\tid: buttonId,\n\t\ttuix: button,\n\t\tcss_class: button.css_class || defaultCSS,\n\t\tlabel: button.label || button.name,\n\t\tdisabled: disabled\n\t};\n\t\n\tif (disabled) {\n\t\tmerge.onclick = \"return false;\";\n\t\t\n\t} else if (button.navigation_path) {\n\t\tif (item && item.navigation_path) {\n\t\t\tmerge.href = '#/' + item.navigation_path;\n\t\t} else {\n\t\t\tmerge.href = '#/' + button.navigation_path;\n\t\t}\n\t\n\t} else if (button.frontend_link) {\n\t\tif (item && item.frontend_link) {\n\t\t\tmerge.href = zenarioO.parseReturnLink(item.frontend_link);\n\t\t} else {\n\t\t\tmerge.href = zenarioO.parseReturnLink(button.frontend_link);\n\t\t}\n\t\t\n\t\tmerge.new_window = !!button.new_window;\n\t\n\t} else if (button.onclick) {\n\t\tmerge.onclick = button.onclick;\n\t\t\n\t\t//If this button is for one specific item (e.g. an inline button), ensure that item is selected first\n\t\tif (itemId && item) {\n\t\t\tmerge.onclick = \"zenarioO.selectItems('\" + jsEscape(itemId) + \"'); zenario.stop(event); \" + merge.onclick;\n\t\t}\n\t\n\t} else {\n\t\tmerge.onclick = funName + \"('\" + jsEscape(buttonId) + (!defined(itemId)? '' : \"', '\" + jsEscape(itemId)) + \"'); return false;\";\n\t}\n\t\n\tif (disabled && button.disabled_tooltip) {\n\t\tmerge.tooltip = button.disabled_tooltip;\n\t} else {\n\t\tmerge.tooltip = button.tooltip;\n\t}\n\t\n\treturn merge;\n};\n\n\n//Check to see whether a button should be disabled\nzenarioO.checkDisabled = function(button, buttonId, items) {\n\tvar id,\n\t\tsingleItem = undefined,\n\t\tsingleItemId = undefined,\n\t\ttuix = zenarioO.tuix;\n\t\n\tif (engToBoolean(button.disabled)) {\n\t\treturn true;\n\t}\n\t\n\t//Check to see if there is only one item selected\n\tif (items) {\n\t\tforeach (items as id) {\n\t\t\tif (!defined(singleItemId)) {\n\t\t\t\tsingleItemId = id;\n\t\t\t\tsingleItem = tuix.items && tuix.items[id];\n\t\t\t} else {\n\t\t\t\tsingleItemId =\n\t\t\t\tsingleItem = undefined;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (defined(button.disabled_if)) {\n\t\t//zenarioT.eval(c, lib, tuixObject, item, id, tuix, button, column, field, section, tab, tuix)\n\t\tif (zenarioT.eval(button.disabled_if, zenarioO, undefined, singleItem, buttonId, button)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\t//Check whether an item button with the disabled_if_for_any_selected_items/disabled_if_for_all_selected_items\n\t//properties should be visible\n\tif (items && defined(button.disabled_if_for_any_selected_items)) {\n\t\tforeach (items as id) {\n\t\t\tif (zenarioT.eval(button.disabled_if_for_any_selected_items, zenarioO, undefined, tuix.items[id], id, button)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (items && defined(button.disabled_if_for_all_selected_items)) {\n\t\tforeach (items as id) {\n\t\t\tif (!zenarioT.eval(button.disabled_if_for_all_selected_items, zenarioO, undefined, tuix.items[id], id, button)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn true;\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.checkHiddenByFilter = function(button) {\n\t\n\tvar refiner = zenarioO.refiner,\n\t\trefinerName = refiner && refiner.name,\n\t\thide_on_refiner = button.hide_on_refiner;\n\t\n\t//Check if this button should only be shown in a certain refiner\n\tif (button.only_show_on_refiner) {\n\t\tif (!refiner) {\n\t\t\treturn true;\n\t\t\n\t\t} else {\n\t\t\tif (typeof button.only_show_on_refiner == 'object') {\n\t\t\t\tif (!engToBoolean(button.only_show_on_refiner[refinerName])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (refinerName != button.only_show_on_refiner) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Check if this button should never be shown in a certain refiner\n\tif (refiner && hide_on_refiner) {\n\t\t//I want to check if someone has entered true for hide_on_refiner, but need to deal\n\t\t//with the fact that true sometimes converted to a number 1, or a string \"1\".\n\t\t//Thankfully this is easy to do in JavaScript, as 1*\"1\" === 1,\n\t\t//but 1*\"any-other-string\" !== 1\n\t\tif (1 === 1 * hide_on_refiner) {\n\t\t\treturn true;\n\t\t\n\t\t} else if (typeof hide_on_refiner == 'object') {\n\t\t\tif (engToBoolean(hide_on_refiner[refinerName])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\tif (refinerName == hide_on_refiner) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Some buttons should not be shown when there is a search or a filter set\n\tif (zenarioO.filteredView && engToBoolean(button.hide_on_filter)) {\n\t\treturn true;\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.checkButtonHidden = function(button, items) {\n\t\n\tvar id,\n\t\tsingleItem = undefined,\n\t\tsingleItemId = undefined;\n\t\n\t//Check to see if there is only one item selected\n\tif (items) {\n\t\tforeach (items as id) {\n\t\t\tif (!defined(singleItemId)) {\n\t\t\t\tsingleItemId = id;\n\t\t\t\tsingleItem = zenarioO.tuix.items && zenarioO.tuix.items[id];\n\t\t\t} else {\n\t\t\t\tsingleItemId =\n\t\t\t\tsingleItem = undefined;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//Check if this button is hidden\n\t//zenarioT.hidden(tuixObject, lib, item, id, button, column, field, section, tab, tuix)\n\tif (zenarioT.hidden(undefined, zenarioO, singleItem, singleItemId, button)) {\n\t\treturn true;\n\t}\n\t\n\t//Check if this button should be hidden in quick/select mode (or hidden if not in quick/select mode)\n\t//Also, automatically hide a button in quick/select mode if it is a front-end link\n\tif ((window.zenarioONotFull && button.frontend_link)\n\t||  (window.zenarioOQuickMode && engToBoolean(button.hide_in_quick_mode))\n\t||  (window.zenarioOSelectMode && engToBoolean(button.hide_in_select_mode))\n\t||  (!window.zenarioOQuickMode && engToBoolean(button.quick_mode_only) && !(window.zenarioOSelectMode && engToBoolean(button.select_mode_only)))\n\t||  (!window.zenarioOSelectMode && engToBoolean(button.select_mode_only) && !(window.zenarioOQuickMode && engToBoolean(button.quick_mode_only)))) {\n\t\treturn true;\n\t}\n\t\n\t//Check fi there is any refiner/filter logic that should hide this button\n\tif (zenarioO.checkHiddenByFilter(button)) {\n\t\treturn true;\n\t}\n\t\n\t//In select mode, don't show a link to a panel that we can't reach due to a max-path restriction\n\tif (zenarioO.pathNotAllowed(button.link)) {\n\t\treturn true;\n\t}\n\t\n\treturn false;\n};\n\n\n//Define some logic for checking columns and traits on item buttons\nvar colCheckLogic = {\n\ttraits: {\n\t\tcondition: function(id, trait, item) {\n\t\t\treturn item.traits && engToBoolean(item.traits[trait]); \n\t\t}\n\t},\n\twithout_traits: {\n\t\tcondition: function(id, trait, item) {\n\t\t\treturn !item.traits || !engToBoolean(item.traits[trait]);\n\t\t}\n\t},\n\twith_columns_set: {\n\t\tcondition: function(id, column, item) {\n\t\t\treturn engToBoolean(zenarioT.prop(item, column));\n\t\t}\n\t},\n\twithout_columns_set: {\n\t\tcondition: function(id, column, item) {\n\t\t\treturn !engToBoolean(zenarioT.prop(item, column));\n\t\t}\n\t}\n};\ncolCheckLogic.one_with_traits = zenario.clone(colCheckLogic.traits, {one: true});\ncolCheckLogic.one_without_traits = zenario.clone(colCheckLogic.without_traits, {one: true});\ncolCheckLogic.one_with_columns_set = zenario.clone(colCheckLogic.with_columns_set, {one: true});\ncolCheckLogic.one_without_columns_set = zenario.clone(colCheckLogic.without_columns_set, {one: true});\n\n\n//Check to see whether an item button should be visible or hidden based on logic specific to item buttons\nzenarioO.checkItemButtonHidden = function(button, items) {\n\t\n\tvar id,\n\t\tcheck, checks, ci, logic,\n\t\tmet = false,\n\t\tthisItemMet,\n\t\ttuix = zenarioO.tuix;\n\t\n\t//Catch the case where we get passed an undefined rather than an object\n\t//(Note that no conditions means whatever this is should be shown!)\n\tif (!button) {\n\t\treturn true;\n\t}\n\t\n\t//Check whether an item button with the visible_if_for_all_selected_items/visible_if_for_any_selected_items\n\t//properties should be visible\n\tif (defined(button.visible_if_for_all_selected_items)) {\n\t\tforeach (items as id) {\n\t\t\t//zenarioT.eval(c, lib, tuixObject, item, id, tuix, button, column, field, section, tab, tuix)\n\t\t\tif (!zenarioT.eval(button.visible_if_for_all_selected_items, zenarioO, undefined, tuix.items[id], id, button)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (defined(button.visible_if_for_any_selected_items)) {\n\t\tforeach (items as id) {\n\t\t\tif (zenarioT.eval(button.visible_if_for_any_selected_items, zenarioO, undefined, tuix.items[id], id, button)) {\n\t\t\t\tmet = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!met) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t\n\t//The \"with column set\" logic, and the deprecated traits logic\n\t//Check if that button requires a trait or a column to be set, or not to be set, in order to be shown.\n\t//Note that traits use an engToBoolean() check but columns just use a normal boolean check.\n\t//(i.e. 'No' or 'False' as strings would be true).\n\tmet = true;\n\t\n\t//Loop through each check\n\tforeach (colCheckLogic as check => logic) {\n\t\t\n\t\tif (button[check]) {\n\t\t\tchecks = zenarioT.tuixToArray(button[check]);\n\t\t\t\n\t\t\t//Loop through each item, checking whether they match.\n\t\t\tmet = !logic.one;\n\t\t\tforeach (items as id) {\n\t\t\t\t\n\t\t\t\tthisItemMet = true;\n\t\t\t\tfor (ci in checks) {\n\t\t\t\t\tif (!logic.condition(id, checks[ci], tuix.items[id])) {\n\t\t\t\t\t\tthisItemMet = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (logic.one) {\n\t\t\t\t\t//For \"at least one\" logic, we'll assume the button doesn't match until we find one example\n\t\t\t\t\t//that does.\n\t\t\t\t\tif (thisItemMet) {\n\t\t\t\t\t\tmet = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t//For \"all must match\" logic, we'll assume the button matches until we find one example\n\t\t\t\t\t//that doesn't, at which point we'll break out of the loop.\n\t\t\t\t\tif (!thisItemMet) {\n\t\t\t\t\t\tmet = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!met) {\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\treturn met;\n};\n\n//Shortcut to call the above function for just one item\nzenarioO.checkItemPickable = function(id) {\n\tvar items = {};\n\titems[id] = true;\n\treturn zenarioO.checkItemButtonHidden(window.zenarioOSelectObject, items)\n\t\t&& !zenarioO.checkDisabled(window.zenarioOSelectObject, undefined, items);\n};\n\n\nzenarioO.getInlineButtons = function(id) {\n\t\n\tvar bi = -1,\n\t\tbuttons = [],\n\t\tdisabled,\n\t\ti, itemNo, ids;\n\t\n\tforeach (zenarioO.sortedInlineButtons as itemNo => i) {\n\t\tbutton = zenarioO.tuix.inline_buttons[i],\n\t\tids = {};\n\t\tids[id] = true;\n\t\t\n\t\t//Check if this button is hidden\n\t\tif (zenarioO.checkButtonHidden(button, ids)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tif (!zenarioO.checkItemButtonHidden(button, ids)) {\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tdisabled = zenarioO.checkDisabled(button, i, ids);\n\t\tbuttons[++bi] = zenarioO.setButtonAction('zenarioO.inlineButtonClick', button, disabled, i, id, zenarioO.tuix.items[id]);\n\t\t\n\t\tif (buttons[bi].tooltip) {\n\t\t\tbuttons[bi].tooltip = zenarioO.applyMergeFields(buttons[bi].tooltip, false, id);\n\t\t}\n\t\tif (buttons[bi].label) {\n\t\t\tbuttons[bi].label = zenarioO.applyMergeFields(buttons[bi].label, false, id);\n\t\t}\n\t}\n\t\n\tif (buttons.length) {\n\t\treturn buttons;\n\t} else {\n\t\treturn undefined;\n\t}\n};\n\n\n\nzenarioO.chooseButtonActive = function() {\n\treturn window.zenarioOSelectMode\n\t\t&& (zenarioO.path == window.zenarioOTargetPath || window.zenarioOTargetPath === false);\n};\n\nzenarioO.setChooseButton = function() {\n\t//Enable or disable the \"Choose\" button\n\tif (window.zenarioOSelectMode) {\n\t\tvar choosePhrase = window.zenarioOChoosePhrase || phrase.choose,\n\t\t\tdisabled = true,\n\t\t\tclassName = 'submit_disabled',\n\t\t\tselectedItems = zenarioO.pi.returnSelectedItems();\n\t\t\n\t\tif (zenarioO.chooseButtonActive()\n\t\t && zenarioO.checkItemButtonHidden(window.zenarioOSelectObject, selectedItems)\n\t\t && !zenarioO.checkDisabled(window.zenarioOSelectObject, undefined, selectedItems)\n\t\t && (zenarioO.itemsSelected > 0 || window.zenarioOAllowNoSelection)\n\t\t && (zenarioO.itemsSelected <= 1 || window.zenarioOMultipleSelect)) {\n\t\t\tdisabled = false;\n\t\t\tclassName = window.zenarioOChooseButtonActiveClass? 'submit_selected' : 'submit';\n\t\t\t\n\t\t\tif (zenarioO.itemsSelected == 0 && window.zenarioOAllowNoSelection && window.zenarioONoSelectionChoosePhrase) {\n\t\t\t\tchoosePhrase = window.zenarioONoSelectionChoosePhrase;\n\t\t\t\n\t\t\t} else if (zenarioO.itemsSelected > 1 && window.zenarioOChooseMultiplePhrase) {\n\t\t\t\tchoosePhrase = window.zenarioOChooseMultiplePhrase;\n\t\t\t}\n\t\t\n\t\t} else {\n\t\t\tif (window.zenarioOAllowNoSelection && window.zenarioONoSelectionChoosePhrase) {\n\t\t\t\tchoosePhrase = window.zenarioONoSelectionChoosePhrase;\n\t\t\t}\n\t\t}\n\t\t\n\t\tget('organizer_choose_button').disabled = disabled;\n\t\tget('organizer_choose_button').className = className;\n\t\tget('organizer_choose_button').value = htmlspecialchars(choosePhrase);\n\t}\n};\n\nzenarioO.getCurrentPage = function() {\n\treturn zenarioO.page;\n};\n\nzenarioO.getPageCount = function() {\n\tif (zenarioO.thisPageSize\n\t && defined(zenarioO.searchMatches)) {\n\t\tzenarioO.pageCount = Math.ceil(zenarioO.searchMatches / zenarioO.thisPageSize);\n\t} else {\n\t\tzenarioO.pageCount = 1;\n\t}\n\t\n\treturn zenarioO.pageCount;\n};\n\n\nzenarioO.setPanelTitle = function() {\n\tif (zenarioO.pi\n\t && zenarioO.tuix\n\t && get('organizer_rightColumnTitle')) {\n\t\tget('organizer_rightColumnTitle').style.display = '';\n\t\t\n\t\tvar title = zenarioO.pi.returnPanelTitle();\n\t\t\n\t\tif (zenarioO.tuix.item && zenarioO.tuix.item.css_class) {\n\t\t\tget('organizer_panelTitle').innerHTML =\n\t\t\t\t'<div class=\"listicon organizer_item_image ' + zenarioO.tuix.item.css_class + '\"></div><div>' + htmlspecialchars(title) + '</div>';\n\t\t} else {\n\t\t\tget('organizer_panelTitle').innerHTML = htmlspecialchars(title);\n\t\t}\n\t\t\n\t\tvar width = Math.max(0, ($('#organizer_rightColumnTitle').width() || 0) - 75 - ($('#organizer_collectionToolbar').width() || 90));\n\t\t\n\t\t//get('organizer_panelTitle').style.fontSize = Math.min(18, 1.6 * Math.round((width) / ('' + title).length)) + 'px';\n\t\t//$('#organizer_panelTitle').width(width);\n\t\t\n\t\tzenarioA.setTooltipIfTooLarge('#organizer_panelTitle', title, zenarioA.tooltipLengthThresholds.organizerPanelTitle);\n\t\t\n\t\tif (zenarioA.isFullOrganizerWindow) {\n\t\t\tdocument.title = zenarioO.pageTitle + phrase.colon + title;\n\t\t}\n\t}\n};\n\n\nzenarioO.setTrash = function () {\n\tif (!window.zenarioOSelectMode && zenarioO.tuix && zenarioO.tuix.trash) {\n\t\tget('organizer_trash_button').style.display = '';\n\t\tget('organizer_trash_button').className =\n\t\t\tengToBoolean(zenarioO.tuix.trash.empty)?\n\t\t\t\tzenarioO.tuix.trash.empty_css_class || 'trash_button_empty'\n\t\t\t :\tzenarioO.tuix.trash.full_css_class || 'trash_button_full';\n\t\t\n\t\tzenarioA.tooltips('#organizer_trash_button a', {\n\t\t\tposition: {\n\t\t\t\tmy: 'center bottom-12',\n\t\t\t\tat: 'center top',\n\t\t\t\tcollision: 'flipfit',\n\t\t\t\tusing: zenario.tooltipsUsing\n\t\t\t},\n\t\t\titems: '*',\n\t\t\tcontent:\n\t\t\t\tengToBoolean(zenarioO.tuix.trash.empty)?\n\t\t\t\t\tzenarioO.tuix.trash.empty_tooltip || phrase.viewTrash\n\t\t\t\t :\tzenarioO.tuix.trash.full_tooltip || phrase.viewTrash\n\t\t});\n\t\t\n\t} else {\n\t\tget('organizer_trash_button').style.display = 'none';\n\t}\n};\n\n\n\nzenarioO.getItemCSSClass = function (i) {\n\tif (zenarioO.tuix.items[i].css_class) {\n\t\treturn zenarioO.tuix.items[i].css_class;\n\t} else if (zenarioO.tuix.item) {\n\t\treturn zenarioO.tuix.item.css_class;\n\t} else {\n\t\treturn undefined;\n\t}\n};\n\n//Send a signal to any Modules on the page to fill the lower-left (or upper-right) of Organizer\n//This should return an array of arrays of things in the format:\n\t//[[[html, ord, '\u2197'], [html, ord], ... ], ... ]\n//Flatten this, sort this, then output this.\nzenarioO.setOrganizerIcons = function() {\n\t\n\tvar i, j,\n\t\t_$div = zenarioT.div,\n\t\tlowerLeftIcons = [], upperRightIcons = [],\n\t\tpos, icons, iconGroups, icon;\n\t\n\t//Add the debug icon if dev tools are enabled. This is added even in select/quick mode.\n\tif (zenarioT.showDevTools()) {\n\t\tupperRightIcons.push([_$div(\"id\", \"organizer_debug_button\", \"class\", \"zenario_debug\", \"onmouseover\", \"zenarioO.infoBox(this);\", \"onclick\", \"zenarioO.closeInfoBox(); zenarioA.debug('zenarioO');\", _$div()), 99]);\n\t}\n\t\n\t//Only add the rest of the icons in full-mode.\n\tif (zenarioA.isFullOrganizerWindow && !zenarioA.openedInIframe) {\n\t\t\n\t\t//Add standard icons from the core\n\t\tupperRightIcons.push([zenarioT.microTemplate('zenario_organizer_top_right_icons', {}), 1]);\n\t\t\n\t\t//Look for any icons from modules\n\t\ticons = zenario.sendSignal('eventSetOrganizerIcons');\n\t\t\n\t\t//Look through each icon, checking the last entry in the array for its position\n\t\tforeach (icons as i => iconGroups) {\n\t\t\tif (iconGroups['\u2197']) {\n\t\t\t\tupperRightIcons = upperRightIcons.concat(iconGroups['\u2197']);\n\t\t\t}\n\t\t\tif (iconGroups['\u2199']) {\n\t\t\t\tlowerLeftIcons = lowerLeftIcons.concat(iconGroups['\u2199']);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//Sort each group\n\t\tlowerLeftIcons.sort(zenarioT.sortArray);\n\t\tupperRightIcons.sort(zenarioT.sortArray);\n\t}\n\t\n\t//Remove the sort columns and just leave the HTML\n\tforeach (lowerLeftIcons as i) {\n\t\tlowerLeftIcons[i] = lowerLeftIcons[i][0];\n\t}\n\n\tforeach (upperRightIcons as i) {\n\t\tupperRightIcons[i] = upperRightIcons[i][0];\n\t}\n\t\n\t//Set the icons\n\t$('#organizer_lowerLeftColumn').html(lowerLeftIcons.join('\\n'));\n\t$('#organizer_topRightIcons').html(upperRightIcons.join('\\n'));\n};\n\n\n\n\nzenarioO.closeSelectMode = function() {\n\tzenarioO.closeInfoBox();\n\t\n\tif (zenarioA.isFullOrganizerWindow) {\n\t\twindowParent.zenarioA.closeBox('AdminOrganizer', true);\n\t\tzenarioO.go(zenarioO.defaultPathInIframePreload);\n\t\t\n\t\tzenarioA.showAJAXLoader();\n\t\tzenarioO.firstLoaded = false;\n\t\n\t} else {\n\t\tzenarioO.go(zenarioO.defaultPathInIframePreload);\n\t\tzenarioA.closeBox('og');\n\t\tzenarioO.firstLoaded = false;\n\t}\n\t\n\treturn false;\n};\n\nzenarioO.choose = function() {\n\t\n\t//Stop admins making choices on outdated panels\n\tif (zenarioO.lastSuccessfulGoNum != zenarioO.goNum) {\n\t\treturn;\n\t}\n\t\n\tif (windowParent\n\t && window.zenarioOSelectMode\n\t && (zenarioO.path == window.zenarioOTargetPath || window.zenarioOTargetPath === false)\n\t && (zenarioO.itemsSelected > 0 || window.zenarioOAllowNoSelection)\n\t && (zenarioO.itemsSelected <= 1 || window.zenarioOMultipleSelect)) {\n\t\t\n\t\t//Disable the current panel/page from refreshing\n\t\tzenarioO.stopRefreshing();\n\t\t\n\t\tvar key = zenarioO.getKey(true),\n\t\t\tpath = zenarioO.path,\n\t\t\tpanel = zenario.clone(zenarioO.tuix),\n\t\t\trow,\n\t\t\tselectedItems = zenarioO.pi.returnSelectedItems(),\n\t\t\tcallback = false;\n\t\t\n\t\tkey._items = {};\n\t\tforeach (selectedItems as var i) {\n\t\t\tkey._items[i] = true;\n\t\t\t\n\t\t\tif (!window.zenarioOMultipleSelect) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!window.zenarioOMultipleSelect && key.id) {\n\t\t\trow = panel.items[key.id];\n\t\t\trow.__label_tag__ = zenarioO.defaultSortColumn;\n\t\t} else {\n\t\t\trow = {};\n\t\t}\n\t\t\n\t\tzenarioO.closeSelectMode();\n\t\t\n\t\t//Check to see if the original caller passed a callback function for us\n\t\tif (_.isFunction(window.zenarioOCallbackObject)) {\n\t\t\tcallback = window.zenarioOCallbackObject;\n\t\t} else if (_.isFunction(window.zenarioOCallbackFunction)) {\n\t\t\tcallback = window.zenarioOCallbackFunction;\n\t\t}\n\t\t\n\t\tif (callback) {\n\t\t\t//If they did, call it\n\t\t\tif (window.zenarioOMultipleSelect) {\n\t\t\t\tcallback(path, key, undefined, panel);\n\t\t\t} else {\n\t\t\t\tcallback(path, key, row, panel);\n\t\t\t}\n\t\t} else {\n\t\t\t//If not look for the named object/method in the callback window\n\t\t\tif (window.zenarioOMultipleSelect) {\n\t\t\t\twindowParent[window.zenarioOCallbackObject][window.zenarioOCallbackFunction](path, key, undefined, panel);\n\t\t\t} else {\n\t\t\t\twindowParent[window.zenarioOCallbackObject][window.zenarioOCallbackFunction](path, key, row, panel);\n\t\t\t}\n\t\t\t\n\t\t\t//N.b. When we first added the callback variable above we tried to use the code:\n\t\t\t\t//callback = windowParent[window.zenarioOCallbackObject][window.zenarioOCallbackFunction];\n\t\t\t\t//...\n\t\t\t\t//callback(path, key, row, panel);\n\t\t\t//However this called the function with the wrong scope and we can't work out why.\n\t\t}\n\t}\n};\n\n\n\n//\n//\tSome specific functions\n//\n\n//An info box with helpful things for Module Developers\nzenarioO.infoBox = function(el) {\n\t\n\tvar html = zenarioT.microTemplate('zenario_organizer_debug_info', {}),\n\t\twidth = 600,\n\t\tbuttonWidth = 28,//$('.zenario_debug').width()\n\t\tbuttonHeight = 28;//$('.zenario_debug').width()\n\t\n\t//$('#zenario_debug_infobox').html(html).show();\n\tzenarioA.openBox(html, 'zenario_fbDebugInfoBox', 'DebugInfoBox', el, 600, (buttonWidth - width) / 2, buttonHeight, false, false, undefined, undefined, undefined, undefined, false, false);\n\t//(html, className, n, e, width, left, top, disablePageBelow, overlay, draggable, resizable, padding, maxHeight, rightCornerOfElement, bottomCornerOfElement)\n\n\t\n\t//get('zenario_fbAdminInfoBox').innerHTML = html;\n\t//zenario.addJQueryElements('#zenario_fbAdminInfoBox ', true);\n};\n\nzenarioO.closeInfoBox = function() {\n\tzenarioA.closeBox('DebugInfoBox');\n};\n\n\n\n\n//Set/update the html in the \"My work in progress\" dropdown\nzenarioO.yourWorkInProgressLastUpdated = 0;\nzenarioO.updateYourWorkInProgress = function() {\n\t\n\t//Only update once every so often, to avoid spamming AJAX requests just because the admin keeps moving their mouse over the button\n\tvar ms = (new Date()).getTime(),\n\t\t$dropdown,\n\t\turl;\n\t\n\tif ((zenarioO.yourWorkInProgressLastUpdated - ms < -zenarioO.yourWorkInProgressLastUpdateFrequency)\n\t && ($dropdown = $('#zenario_ywip_dropdown'))) {\n\t\t\n\t\tzenarioO.yourWorkInProgressLastUpdated = ms;\n\t\t$dropdown.removeClass('zenario_ywip_loaded').addClass('zenario_ywip_loading');\n\t\t\n\t\turl =\n\t\t\tURLBasePath + 'zenario/admin/organizer.ajax.php' +\n\t\t\t'?path=zenario__content/panels/content' +\n\t\t\t'&_sort_col=last_modified_datetime' +\n\t\t\t'&_sort_desc=1' +\n\t\t\t'&_start=0' +\n\t\t\t'&_limit=' + zenarioO.yourWorkInProgressItemCount +\n\t\t\t'&refinerId=' +\n\t\t\t'&refinerName=work_in_progress' +\n\t\t\t'&refiner__work_in_progress=' +\n\t\t\t'&_get_item_data=1';\n\t\t\n\t\tzenario.ajax(url, false, true, true).after(function(WiP) {\n\t\t\tvar html = zenarioT.microTemplate('zenario_ywip', WiP);\n\t\t\t$dropdown.removeClass('zenario_ywip_loading').addClass('zenario_ywip_loaded').html(html);\n\t\t\t\n\t\t});\n\t}\n};\n$(document).ready(function() { setTimeout(zenarioO.updateYourWorkInProgress, 100) } );\n\n\n\n\n//Automatically set the box to the correct height for the users screen, or the maximum height requested, whichever is smaller\nzenarioO.sizing = false;\nzenarioO.lastSize = false;\nzenarioO.size = function(refresh) {\n\t\t\t\n\tvar headerHeight = 46,\n\t\tfooterHeight = 57,\n\t\tcontentGap = 40,\n\t\ttitleHeight = 0,\n\t\tbuttonsHeight = 30,\n\t\tbordersWidth = 2,\n\t\trightColumnContentBorderWidth = 2,\n\t\theaderHeight = 35,\n\t\theaderToolbar = 55,\n\t\tbottomWrapHeight = 45,\n\t\tleftColAdjustment,\n\t\tdomOrgWrapper = get('zenario_fbog'),\n\t\t$zenario_fbog = $(domOrgWrapper),\n\t\twidth, height, el;\n\t\n\t\n\tif (zenarioO.sizing) {\n\t\tclearTimeout(zenarioO.sizing);\n\t}\n\t\n\tif (!get('organizer__box_wrap')) {\n\t\treturn;\n\t}\n\t\n\t//Try to get the width/height of the window\n\tif (!zenarioA.isFullOrganizerWindow) {\n\t\twidth = Math.floor($zenario_fbog.width());\n\t\theight = Math.floor($zenario_fbog.height());\n\t} else {\n\t\twidth = Math.floor($(window).width());\n\t\theight = Math.floor($(window).height());\n\t}\n\t\n\tif (width && height) {\n\t\t//Set a minimum width/height\n\t\tif (width < zenarioA.orgMinWidth) {\n\t\t\twidth = zenarioA.orgMinWidth;\n\t\t}\n\t\tif (height < 400) {\n\t\t\theight = 400;\n\t\t}\n\t\t\n\t\tif (refresh || zenarioO.lastSize != width + 'x' + height) {\n\t\t\t\n\t\t\t//Check whether we should show the left-hand-nav\n\t\t\tif (zenarioO.pi) {\n\t\t\t\tzenarioO.showLeftColumn = zenarioO.pi.returnShowLeftColumn();\n\t\t\t} else {\n\t\t\t\t//By default, if this is full mode then show the left hand nav, and if not, then hide it.\n\t\t\t\tzenarioO.showLeftColumn = !window.zenarioONotFull;\n\t\t\t}\n\t\t\t\n\t\t\tvar domPanel = get('organizer_rightColumnContent'),\n\t\t\t\tdomIcons = get('organizer_lowerLeftColumn'),\n\t\t\t\tdomFooter = get('organizer_lowerMiddleColumn'),\n\t\t\t\tdomChooseButtonWrap = get('organizer_lowerRightColumn'),\n\t\t\t\t$header = zenarioO.getHeader(),\n\t\t\t\t$panel = $(domPanel),\n\t\t\t\t$footer = $(domFooter),\n\t\t\t\t$buttons = $('#organizer_buttons'),\n\t\t\t\t$bottomWrap = $('#organizer_bottomWrap');\n\t\t\t\n\t\t\tif (!$header.is(':visible')) {\n\t\t\t\theaderToolbar = 0;\n\t\t\t}\n\t\t\tif (!$buttons.is(':visible')) {\n\t\t\t\tbuttonsHeight = 0;\n\t\t\t}\n\t\t\tif (!$bottomWrap.is(':visible')) {\n\t\t\t\tfooterHeight = 0;\n\t\t\t}\n\n\t\t\t\n\t\t\tif (domOrgWrapper) {\n\t\t\t\tdomOrgWrapper.className = zenarioA.getSKBodyClass(window, zenarioO.pi && zenarioO.pi.panelType);\n\t\t\t}\n\t\t\t\n\t\t\t//This line fixes a bug where the height of the floating div keeps changing when Organizer is opened\n\t\t\t//by specifically setting it to what it was read as\n\t\t\tif (!zenarioA.isFullOrganizerWindow) {\n\t\t\t\tMath.floor($zenario_fbog.height(height));\n\t\t\t}\n\t\t\t\n\t\t\tget('organizer_rightColumn').style.height =\n\t\t\tget('organizer_preloader_circle').style.height = (1*height - headerHeight - footerHeight) + 'px';\n\t\t\tget('organizer_leftColumn').style.height = ((1*height - headerHeight - footerHeight) - 2) + 'px';\n\t\t\tget('organizer_Outer').style.height = (1*height - headerHeight) + 'px';\n\t\t\t\n\t\t\tif (get('organizer_colsortfields')) {\n\t\t\t\tif (zenario.browserIsIE(6)) {\n\t\t\t\t\tget('organizer_colsortfields').style.height = (1*height - headerHeight - 130) + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tget('organizer_colsortfields').style.maxHeight = (1*height - headerHeight - 130) + 'px';\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar rightColumnContentHeight = ((1*height - headerHeight - footerHeight - contentGap - buttonsHeight - bordersWidth - zenarioO.columnPadding + titleHeight - headerToolbar) - 13);\n\t\t\tif (domPanel) {\n\t\t\t\tdomPanel.style.height = rightColumnContentHeight + 'px';\n\t\t\t}\n\t\t\t\n\t\t\tif (zenarioO.showLeftColumn) {\n\t\t\t\tleftColAdjustment = 204;\n\t\t\t\tget('organizer_leftColumn').style.display = get('organizer_leftColumnOuter').style.display = '';\n\t\t\t} else {\n\t\t\t\tleftColAdjustment = 0;\n\t\t\t\tget('organizer_leftColumn').style.display = get('organizer_leftColumnOuter').style.display = 'none';\n\t\t\t}\n\n\t\t\tget('organizer__box_top').style.width =\n\t\t\tget('organizer__box_wrap').style.width =\n\t\t\tget('organizer__box_center').style.width =\n\t\t\tget('organizer__box_bottom').style.width = (width - 0) + 'px';\n\t\t\t\n\t\t\tget('organizer_Outer').style.width = (width - 22) + 'px';\n\t\t\tget('organizer_wrapInner_bm').style.width = (width - 32) + 'px';\n\t\t\tget('organizer_wrapOuter_tm').style.width = (width - 0) + 'px';\n\t\t\t\n\t\t\tget('organizer_rightColumn').style.width = get('organizer_preloader_circle').style.width = (width - 30 - leftColAdjustment) + 'px';\n\t\t\tif (get('organizer_rightColumnTitle')) get('organizer_rightColumnTitle').style.width = (width - 30 - leftColAdjustment - 2) + 'px';\n\t\t\tif (domPanel) domPanel.style.width = (width - 30 - leftColAdjustment - bordersWidth) + 'px';\n\t\t\t\n\t\t\t\n\t\t\tif (window.zenarioOSelectMode) {\n\t\t\t\tget('organizer_choose_button').style.display = 'inline';\n\t\t\t} else {\n\t\t\t\tget('organizer_choose_button').style.display = 'none';\n\t\t\t}\n\t\t\t\n\t\t\tif (width <= 825) {\n\t\t\t\tdomIcons.style.width = \"40%\";\n\t\t\t\tdomFooter.style.width = \"49%\";\n\t\t\t\tdomChooseButtonWrap.style.width = \"10%\";\n\t\t\t} else if (width <= 965) {\n\t\t\t\tdomIcons.style.width = \"35%\";\n\t\t\t\tdomFooter.style.width = \"49%\";\n\t\t\t\tdomChooseButtonWrap.style.width = \"15%\";\n\t\t\t} else if(width <= 1155) {\n\t\t\t\tdomIcons.style.width = \"30%\";\n\t\t\t\tdomFooter.style.width = \"49%\";\n\t\t\t\tdomChooseButtonWrap.style.width = \"20%\";\n\t\t\t} else if(width >= 1155) {\n\t\t\t\tdomIcons.style.width = \"25%\";\n\t\t\t\tdomFooter.style.width = \"49%\";\n\t\t\t\tdomChooseButtonWrap.style.width = \"25%\";\n\t\t\t}\n\t\t\t\n\t\t\tzenarioO.setPanelTitle();\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (zenarioO.pi) {\n\t\t\t\tzenarioO.pi.sizePanel($header, $panel, $footer, $buttons);\n\t\t\t}\n\t\t\t\n\t\t\tzenarioO.sizeButtons();\n\t\t\t\n\t\t\t\n\t\t\tzenarioO.lastSize = width + 'x' + height;\n\t\t\t\n\t\t\tzenarioO.setTopLevelNavScrollStatus();\n\t\t}\n\t}\n\t\n\t//Stop selection/highlighting in IE\n\tif (zenario.browserIsIE()) {\n\t\tif (get('organizer_rightColumnContent')) {\n\t\t\tif (zenario.browserIsIE(8)) {\n\t\t\t\tif (el = get('organizer_Outer')) {\n\t\t\t\t\tel.onselectstart =\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\n\t\t\t} else {\n\t\t\t\tif (el = get('organizer_leftColumnOuter')) {\n\t\t\t\t\tel.onselectstart =\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (el = get('organizer_itemCountWrap')) {\n\t\t\t\t\tel.onselectstart =\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (el = get('organizer_rightColumn')) {\n\t\t\t\t\tel.onselectstart =\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\treturn !(zenarioO.itemsSelected > 1);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tzenarioO.sizing = setTimeout(zenarioO.size, 500);\n};\n\n\n//Calculate function short names, we need to do this before calling any functions!\nzenario.shrtNms(zenarioO);\n\n\nzenarioVO.init('zenarioVO', 'zenario_filters');\nzenario.shrtNms(zenarioVO);\n\n\nzenarioO.resetBranches();\n\n});", "zenario.lib(function(k,M,V,l,z,E,w,q,u,Q,aa,a,T,r,v,m,t,W,y,ba,ca,p){a.getItemLinkTimeoutTime=7E3;a.yourWorkInProgressLastUpdateFrequency=6E4;a.yourWorkInProgressItemCount=10;a.itemDoubleClickTime=500;a.searchDelayTime=700;a.firstLoaded=!1;a.defaultPageSize=50;a.defaultColumnWidth=150;a.columnsExtraSpacing=1;a.columnSpacing=1;a.columnPadding=10;a.columnWidths={xxsmall:45,xsmall:75,small:100,medium:150,large:225,xlarge:350,xxlarge:500};a.pi=!1;a.inspectionView=!1;var S=l.zenarioVO=new zenarioAF;a.defaultPath=\n\"zenario__content/panels/content\";a.defaultPathInIframePreload=\"dummy_item/panels/loading_message\";a.inInspectionView=function(b){if(!a._iVE())return a.inspectionView=!1;if(r(b))!1===b?a.inspectionView=a.inspectionViewItem=!1:(a.inspectionView=!0,a.inspectionViewItem=b),a._sH();else return a.inspectionView};a.inspectionViewItemId=function(){return a._iIV()?a.inspectionViewItem:!1};a.inspectionViewEnabled=function(){return a.pi&&a.pi.returnInspectionViewEnabled()};a.toggleInspectionView=function(b){a._iVE()&&\na.pi.toggleInspectionView(b)};a.openInspectionView=function(b){a._iVE()&&a.pi.openInspectionView(b)};a.closeInspectionView=function(b){a._iVE()&&a.pi.closeInspectionView(b)};a.print=function(){try{var a=$(\"#organizer_panelTitle div:eq(1)\").text(),c=$(\".organizer_list_view\").removeAttr(\"style\").html(),d=l.open(\"\",a,\"height=50,width=50\");d.document.write(\"<html><head><title></title>\");d.document.write('<link rel=\"stylesheet\" href=\"http://dev-jc.tribiq.com/HEAD/zenario/styles/admin_organizer_print.css\" type=\"text/css\" />');\nd.document.write(\"<script>myFunction = function() { window.print(); window.close();};\\x3c/script>\");d.document.write('</head><body onload=\"myFunction()\"><div class=\"table_wrapper\"><h1 class=\"print_title\">'+a+\"</h1>\");d.document.write(c);d.document.write(\"</div></body></html>\");d.document.close();d.focus()}catch(e){}};a.open=function(b,c,d,e,f,g,h,s,F,l,k,m,p){a.topLeftHTML||(a.topLeftHTML=\"\");a.topRightHTML||(a.topRightHTML='<div class=\"organizer_close_button\"><a onclick=\"zenarioO._cSM();\"></a></div>');\nvar r=u._mT(\"zenario_organizer\",{topLeftHTML:a.topLeftHTML,topRightHTML:a.topRightHTML});q._oB(r,b,\"og\",c,d,e,f,g,h,s,F,l,k,m,p);a._sOI()};a.initRun=!1;a.init=function(b){if(!a.initRun||b)a.initRun=!0,q._sAL(),a.pageTitle=V.title,a._seSe(k),a._chPr(),a._lM(a.init2)};a.loadMap=function(b){if(a.map)b();else{try{if(q.openedInIframe&&self.parent&&self.parent.zenarioO&&self.parent.zenarioO.map&&self.parent.zenarioA.moduleCodeHash===q.moduleCodeHash&&self.parent.zenarioCSSJSVersionNumber===l.zenarioCSSJSVersionNumber){a.map=\nself.parent.zenarioO.map;a._loFoBr(a.map);b();return}if(z&&z.zenarioO&&z.zenarioO.map&&z.zenarioA.moduleCodeHash===q.moduleCodeHash&&z.zenarioCSSJSVersionNumber===l.zenarioCSSJSVersionNumber){a.map=z.zenarioO.map;a._loFoBr(a.map);b();return}if(z&&z.zenario&&z.zenario.get&&z.zenario._g(\"zenario_sk_iframe\")&&z.zenario._g(\"zenario_sk_iframe\").contentWindow&&z.zenario._g(\"zenario_sk_iframe\").contentWindow.zenarioO&&z.zenario._g(\"zenario_sk_iframe\").contentWindow.zenarioO.map&&z.zenario._g(\"zenario_sk_iframe\").contentWindow.zenarioA.moduleCodeHash===\nq.moduleCodeHash&&z.zenario._g(\"zenario_sk_iframe\").contentWindow.zenarioCSSJSVersionNumber===l.zenarioCSSJSVersionNumber){a.map=z.get(\"zenario_sk_iframe\").contentWindow.zenarioO.map;a._loFoBr(a.map);b();return}}catch(c){}w._a(M+\"zenario/admin/organizer.ajax.php\",!1,!0,!0,!0,!0).after(function(c){a.map=c;a._loFoBr(a.map);b()})}};a.init2=function(){q._to();a._sN();a._sTRB();u._cDHTML5U()&&(m(\"organizer_rightColumn\").addEventListener(\"dragover\",function(){$(\"#organizer_rightColumn\").addClass(\"dragover\")},\n!1),m(\"organizer_rightColumn\").addEventListener(\"dragleave\",function(){$(\"#organizer_rightColumn\").removeClass(\"dragover\")},!1));a._cQ()||q.openedInIframe||a.go()};a.prefs={};a.prefsChecksum=\"{}\";a.previousPrefChecksums={\"{}\":!0};a.checkPrefs=function(){var b,c=M+\"zenario/admin/quick_ajax.php?_manage_prefs=1\",d=w._nAA(c+\"&_get_checksum=1\",!0,!1);return d&&d!=a.prefsChecksum&&!a.previousPrefChecksums[d]&&(b=w._nAA(c+\"&_load_prefs=1\",!0,!0))&&b?(a.prefs=b,a.previousPrefChecksums[a.prefsChecksum=d]=\n!0,!1):!0};a.savePrefs=function(b){var c={_manage_prefs:1,_save_prefs:1,prefs:JSON.stringify(a.prefs)};a.previousPrefChecksums[a.prefsChecksum=c.checksum=hex_md5(c.prefs)]=!0;$.ajax({type:\"POST\",async:!b,dataType:\"text\",url:M+\"zenario/admin/quick_ajax.php\",data:c,success:function(a){a&&q._sM(a)}})};a.shortenPath=function(a){return a};a.implodeKeys=function(a){var c=\"\",d;for(d in a)p(a,d)&&(c+=(c?\",\":\"\")+d);return c};a.getPanelType=function(b){return(b=b||a.path)&&(b=a._fPOM(b,\"panel_type\"))&&a.panelTypes[b]?\nb:\"list\"};a.initNewPanelInstance=function(b,c){var d=a._gPT(b),e=new a.panelTypes[d];e.panelType=d;e.cmsSetsPath(b);e.cmsSetsRefiner(c);e.init();return e};a.checkQueue=function(b){var c;if(c=a._cQL()){var d=\"\",e=l.zenarioOQueue.shift();e.selectedItems?(d=a._iK(e.selectedItems),e.refinerName&&(e.refiner={name:e.refinerName,id:d}),a.pi&&a.branches[a.branches.length-1].panel_instances[a.path]||(a.pi=a.branches[a.branches.length-1].panel_instances[a.path]=a._iNPI(a.path,e.refiner)),a.pi.cmsSetsSelectedItems(e.selectedItems)):\ne.refinerName&&(e.refiner={name:e.refinerName,id:d});a.go(e.path,e.branch,e.refiner,!0,!--c,k,k,k,b,k,k,k,e.searchTerm,e.filters);return!0}return!1};a.checkQueueLength=function(){return l.zenarioOQueue?l.zenarioOQueue.length:0};a.reloadOpeningInstanceIfRelevant=function(b){try{var c,d,e,f,g,h,s;z&&z.zenario?c=z:E&&E.zenario&&(c=E);if(c&&!a._cQL()&&((d=\"zenarioO\"==l.zenarioOReloadOnChanges&&c.zenarioO&&c.zenarioO.reload)&&d(),(d=\"zenarioAT\"==l.zenarioOReloadOnChanges&&c.zenarioAT&&c.zenarioAT.init)&&\nd(),(f=l.zenarioOOpeningInstance)&&(s=c.zenario.instances)))for(e in f=f.s(\",\"),f)p(f,e)&&(g=f[e],(h=s[g])&&w._rS(h.slotName,q.importantGetRequests))}catch(F){r(console)&&console.error&&console.error(F.message,F)}};a.callPanelOnUnload=function(){if(a.path&&a.pi&&a.pi.onUnload){var b=a._geHe(),c=a._gP(),d=a._gF();a.pi.onUnload(b,c,d)}};a.pathNotAllowed=function(b){return b&&l.zenarioONotFull&&!1!==l.zenarioOMaxPath&&a.path==l.zenarioOMaxPath&&b.path!=a.path};a.parseNavigationPath=function(b,c,d){_._iS(b)&&\n(b=b.s(\"//\"),c=b.length);if(2>=c)l=[{path:b[0],branch:-1}];else{var e,f,g,h,s,F,l;for(f=0;f<c-1;f+=2){0==f?(g=a._gFTFL(b[0]),l=[{path:g.from,branch:-1}]):(g=\"/\"==b[f].substr(0,1)?b[f].substr(1):e.to+\"/\"+b[f],g=a._gFTFL(g),e.to!=g.from&&l.push({path:g.from}));e={};b[f+1]&&(e=u._cTO(b[f+1]));s=h=!1;g.refiner&&(s=g.refiner,h=b[f+1]);F=g.to;if(!F)return q._sM('The requested path \"'+b.join(\"//\")+'\" was not found in the system. If you have just updated or added files to the CMS, you will need to reload the page.',\nk,\"error\",!1,!0),!1;d&&f+2==c-1&&(F+=\"//\"+b[f+2]);l.push({path:F,branch:!0,selectedItems:e,refinerId:h,refinerName:s});e=g}}return l};a.convertNavPathToTagPathAndRefiners=function(b){var c,d,e={path:\"\",request:{}};if(b=a._pNP(b)){for(c=0;c<b.length;++c)d=b[c],e.path=d.path,d.refinerName?(e.request[\"refiner__\"+d.refinerName]=e.request.refinerId=d.refinerId,e.request.refinerName=d.refinerName):(delete e.request.refinerId,delete e.request.refinerName);return e}return!1};a.convertNavPathToTagPath=function(b){var c;\nreturn a.map&&-1!=b.indexOf(\"//\")&&(c=a._pNP(b))?c[c.length-1]:{path:b}};var X=function(a,c){a=c?decodeURI(T(JSON.stringify(a))):T(a);return a.r(/'/g,\"'1\").r(/~/g,\"'2\")},Y=function(a,c,d,e){var f=a.indexOf(c);if(-1!=f){c=a.substr(f+2);d.path=a.substr(0,f);try{var g;a=c;a=a.r(/'2/g,\"~\").r(/'1/g,\"'\");g=e?JSON.parse(decodeURIComponent(a)):decodeURIComponent(a);d.info=g}catch(h){d.info=k}return!0}return!1};a.showableColumns=function(){var b,c,d=[];for(b in a.sortedColumns)p(a.sortedColumns,b)&&(c=a.sortedColumns[b],\na._iSC(c,!0)&&d.push(c));return d};a.exportPanelAsCSV=function(){var b=a.getAJAXURL(1E4);b&&q.doDownload(b,{_export:1,_csvExport:1,_exportCols:a.showableColumns().join(\",\")});a._r(!1,!0)};a.exportPanelAsExcel=function(){var b=a.getAJAXURL(1E4);b&&q.doDownload(b,{_export:1,_excelExport:1,_exportCols:a.showableColumns().join(\",\")});a._r(!1,!0)};a.getAJAXURL=function(b){return a.go(a.path,k,k,k,k,k,!1,k,k,k,!1,!1,k,k,!0,b)};a.goNum=0;a.loadNum=0;a.lastSuccessfulGoNum=0;a.go=function(b,c,d,e,f,g,h,s,\nF,Z,R,O,G,x,B,u){R||(a.lastActivity=Date.now());if(q.isFullOrganizerWindow||q._cIBIO(\"og\")){if(a.stop)return!1;if(a.map&&a.initRun){l.zenarioOCheckPaths&&(delete l.zenarioOCheckPaths,l.zenarioOTargetPath&&(l.zenarioOTargetPath=a._cNPTTP(l.zenarioOTargetPath).path),l.zenarioOMinPath&&(l.zenarioOMinPath=a._cNPTTP(l.zenarioOMinPath).path),l.zenarioOMaxPath&&v(l.zenarioOMaxPath)&&(l.zenarioOMaxPath=a._cNPTTP(l.zenarioOMaxPath).path));B||a._cPOU();e||(l.zenarioOQueue=!1);var A,t,y;h={};r(b)&&(Y(b,\"~k\",\nh,!0)&&(b=h.path,t=h.info),Y(b,\"~t\",h)&&(b=h.path,y=h.info),Y(b,\"~.\",h)&&(b=h.path,A=h.info),Y(b,\"~_\",h,!0)&&(b=h.path,x=h.info),Y(b,\"~-\",h)&&(b=h.path,G=h.info),A&&!Q.isOpen&&Q.open(A,t,y));if(A=b){t=b.s(\"//\");y=t.length;if(2<y){s=k;O=!1;if(!(B=a._pNP(t,y,!0)))return!1;r(G)&&(B[B.length-1].searchTerm=G);r(x)&&(B[B.length-1].filters=x);l.zenarioOQueue=B;a._cQ(!0);return}2==y?(s=k,O=!1,b=t[0],-1==t[1].indexOf(\",\")&&(s=t[1])&&(y=s.length-1,\"/\"==s.substr(y)&&(s=s.substr(0,y),O=!0))):s||(O=!1);b=a._shPa(b)}b||\n(b=l.zenarioONotFull?a.defaultPathInIframePreload:a.defaultPath,O=!1);if(!a._fPOM(b))return q._sM('The requested path \"'+A+'\" was not found in the system. If you have just updated or added files to the CMS, you will need to reload the page.',k,\"error\",!1,!0),!1;var z=++a.goNum;F||++a.loadNum;var N=!1;r(x)||(x=a._lFB(b,c,\"filters\"));r(G)||(G=a._lFB(b,c,\"searches\"));r(d)||(d=a._lR(b,c));if(!d&&v(a._fPOM(b,\"refiner_required\")))q._sM(\"A refiner was required, but none was set.\",!0,\"error\");else{var E,\nI={};A=a.branches.length-1;if(-1!==c){N=a._lFB(b,c,\"panel_instances\");for(t=0;t<A;++t)if(F=a.branches[t].refiners[a.branches[t+1].from])I[\"refiner__\"+(E=F.name)]=F.id;if(F=a.branches[A].refiners[a.path])I[\"refiner__\"+(E=F.name)]=F.id;d&&(I[\"refiner__\"+d.name]=d.id)}N?(N.cmsSetsPath(b),N.cmsSetsRefiner(d)):N=a._iNPI(b,d);var J=a._fPOM(b,\"default_sort_column\");J||(J=\"name\");F=a._fPOM(b);N.cmsSetsPanelTUIX(F);N.cmsSetsRequestedItem(s);N.cmsSetsSearchTerm(G);x=x&&!_._isEm(x)?w._cl(x):{};for(var H in x)p(x,\nH)&&(A=x[H],a._fSOC(H,x)?(r(A.not)&&(A.not?A.not=1:delete A.not),r(A.s)&&(A.s=v(A.s))):x[H]&&(x[H]={}));r(u)||(u=1*N.returnPageSize());H=F.reorder;var L=N.returnDoSortingAndSearchingOnServer(),K=N.returnAJAXURL(),M=N.returnDevToolsAJAXURL(),D={};A=function(e){a.go2(b,K,M,D,c,z,J,u,O,s,N,G,x,d,E,I,L,g,Z,e)};if(K){l.zenarioONotFull&&(l.zenarioOSelectMode?K+=\"&_select_mode=1\":l.zenarioOQuickMode&&(K+=\"&_quick_mode=1\"));a._aWPI(D);e&&!f&&(D._queued=1);r(d)&&(D.refinerId=d.id,D.refinerName=d.name,d.languageId&&\n(D.languageId=d.languageId));l.zenarioOCombineItem&&(D._combineItem=l.zenarioOCombineItem);for(var C in I)p(I,C)&&(D[C]=I[C]);if(L||a.CSVExport){if(u)if(D._limit=u,D._start=a.refreshToPage?(a.refreshToPage-1)*u:0,s)D._item=s;else if(g)if(\"object\"==typeof g&&g.selectedItemFromLastPanel)D._item=g.selectedItemFromLastPanel;else if(e=a._gSIFLP(b))D._item=e;H&&H.column?D._sort_col=H.column:a.prefs[b]&&a.prefs[b].sortBy?(D._sort_col=a.prefs[b].sortBy,D._sort_desc=a.prefs[b].sortDesc?1:0):(D._sort_col=J,\nD._sort_desc=v(a._fPOM(b,\"default_sort_desc\")))}x&&!_._isEm(x)&&(D._filters=JSON.stringify(x));(L||a.CSVExport)&&r(G)&&(D._search=G)}if(B)return K+w._uR(D);a._stRe();b!=a.defaultPathInIframePreload&&(m(\"organizer_preloader_circle\").style.display=\"block\");r(l.zenarioOFirstLoad)&&(l.zenarioOFirstLoad?l.zenarioOFirstLoad=!1:a._rOIIR(b));K?w._a(K+w._uR(D),!1,!0,!0,!0,!0).after(A):A(F)}}else l.zenarioONotFull||(l.zenarioOQueue=[{path:b,branch:-1}])}};a.go2=function(b,c,d,e,f,g,h,s,F,m,t,u,G,x,B,y,A,z,\nI,E){E&&r(E.comment)&&l.console&&console.log(E.comment);if((q.isFullOrganizerWindow||q._cIBIO(\"og\"))&&g==a.goNum){a._stRe();var N=a.path,Q,S;a.tuix&&(Q=B&&a.tuix.refiners&&a.tuix.refiners[B]&&a.tuix.refiners[B].title||a.tuix.title,S=v(a.tuix.no_return));a.url=c+w._uR(e);a.devToolsURL=d!=c?d+w._uR(e):k;a.lastRequests=e;a.path=b;a.defaultSortColumn=h;a.thisPageSize=s;a.server_side=A;a.inspectionView=F;a.inspectionViewItem=m;a.prefs[b]||(a.prefs[b]={});-1===f?a._reBr():f&&a._br(b,N,Q,S);a.pi=a.branches[a.branches.length-\n1].panel_instances[a.path]=t;r(E._filters)&&(G=E._filters,delete E._filters);a.branches[a.branches.length-1].filters[a.path]=G;a._sS(u);delete a.tuix;a.tuix=E;a.focus=a.tuix;a.pi.cmsSetsPanelTUIX(a.tuix);a.filtersSet=!1;a.filtersSetInViewOptions=!1;for(var J in G)if(p(G,J)&&a._fSOC(J,G)&&(a.filtersSet=!0,a._cFC(J))){a.filtersSetInViewOptions=!0;break}a._mIVIF();a._sR(x);a.lastRefiners=y;a.tuix.columns||(a.tuix.columns={name:{title:\"Name\"}});(c=a._fPOM(b,\"reorder\"))&&c.column?(a.sortBy=c.column,a.sortDesc=\n!1):a.prefs[b].sortBy&&a.tuix.columns[a.prefs[b].sortBy]?(a.sortBy=a.prefs[b].sortBy,a.sortDesc=a.prefs[b].sortDesc):((h=a._fPOM(b,\"default_sort_column\"))?a.sortBy=h:a.sortBy=a.defaultSortColumn,a.sortDesc=v(a._fPOM(b,\"default_sort_desc\")));a.pi.cmsSetsSortColumn(a.sortBy,a.sortDesc);a.sortedColumns=a._gSIOTE(\"columns\");a.sortedItemButtons=a._gSIOTE(\"item_buttons\");a.sortedInlineButtons=a._gSIOTE(\"inline_buttons\");a.sortedCollectionButtons=a._gSIOTE(\"collection_buttons\");a.sortedQuickFilterButtons=\na._gSIOTE(\"quick_filter_buttons\");a.shownColumns=a._gSC(b,h,a.tuix.columns);if(a.prefs[b].sortedColumns){c={};for(var H in a.prefs[b].sortedColumns)p(a.prefs[b].sortedColumns,H)&&(J=a.prefs[b].sortedColumns[H],c[J]=H);h=!1;for(H in a.sortedColumns)if(p(a.sortedColumns,H)){J=a.sortedColumns[H];if(a._iSC(J,!1,!0)&&!r(c[J])){h=c[h];h=r(h)?1*h+1:0;a.prefs[b].sortedColumns.splice(h,0,J);for(var L in c)p(c,L)&&c[L]>=h&&++c[L];c[J]=h}h=J}a.sortedColumns=a.prefs[b].sortedColumns}a.tuix.items&&1==a.tuix.__item_count__&&\nv(a.tuix.allow_bypass)?a.branches[a.branches.length-1].bypasses[a.path]=!0:delete a.branches[a.branches.length-1].bypasses[a.path];if(!a._cQ(!0)){if(a.tuix.items&&1==a.tuix.__item_count__&&v(a.tuix.allow_bypass))if(z){if(!1!==a._gBBT()){a._b();return}}else{if(a.tuix.items)for(var K in a.tuix.items)if(p(a.tuix.items,K)){H={};H[K]=!0;a.pi.cmsSetsSelectedItems(H);if(a._iCTA(K))return;break}}else if((!a.tuix.items||!a.tuix.__item_count__)&&v(a.tuix.return_if_empty)&&!1!==a._gBBT()){a._b();return}K={};\nL={};H={};var U,D,C,P;for(J in a.tuix.columns)if(p(a.tuix.columns,J)&&(c=a.tuix.columns[J],a._iSC(J)&&(b=c.item_link)))switch(b){case \"content_item\":case \"content_item_or_url\":for(D in a.tuix.items)p(a.tuix.items,D)&&(U=a.tuix.items[D][J])&&(c=U.s(\"_\"),c[0]&&\"null\"!=c[0]&&c[0]===c[0].r(/\\W/,\"\")&&c[1]&&c[1]==1*c[1]&&(C=a._iL(D),P=a._iP(D),L[C]||(L[C]={}),L[C][P]=L[C][P]?L[C][P]+\",\":\"\",L[C][P]+=c[0]+\"_\"+c[1]));break;case \"menu_item\":for(D in a.tuix.items)p(a.tuix.items,D)&&(U=a.tuix.items[D][J])&&U==\n1*U&&(C=a._iL(D),K[C]=K[C]?K[C]+\",\":\"\",K[C]+=U);break;default:for(D in a.tuix.items)p(a.tuix.items,D)&&(U=a.tuix.items[D][J])&&(H[b]=H[b]?H[b]+\",\":\"\",H[b]+=U)}a.contentItems={};a.menuItems={};a.otherItemLinks={};a.itemLinkRequestsLeft=0;a.shallowLinks={content_item:\"zenario__content/panels/content\",content_item_or_url:\"zenario__content/panels/content\",menu_item:\"zenario__menu/panels/menu_nodes\"};for(C in L)if(p(L,C))for(P in L)p(L,P)&&L[C][P]&&(a.contentItems[C]||(a.contentItems[C]={}),a.contentItems[C][P]||\n(a.contentItems[C][P]={}),c=M+\"zenario/admin/organizer.ajax.php?path=\"+a.shallowLinks.content_item+\"&_get_item_links=\"+L[C][P]+\"&languageId=\"+T(C),++a.itemLinkRequestsLeft,a._gDH(c,C,function(b,c){g==a.goNum&&(a.contentItems[b][P]=c,--a.itemLinkRequestsLeft||a.go3(g,u,z,I))}));for(C in K)p(K,C)&&(J=K[C])&&(a.menuItems[C]||(a.menuItems[C]={}),c=M+\"zenario/admin/organizer.ajax.php?path=\"+a.shallowLinks.menu_item+\"&_get_item_links=\"+T(J)+\"&languageId=\"+T(C)+\"&refinerName=language&refinerId=\"+T(C)+\"&refiner__language=\"+\nT(C),++a.itemLinkRequestsLeft,a._gDH(c,C,function(b,c){g==a.goNum&&(a.menuItems[b]=c,--a.itemLinkRequestsLeft||a.go3(g,u,z,I))}));for(b in H)p(H,b)&&(J=H[b])&&(a.otherItemLinks[b]||(a.otherItemLinks[b]={}),c=M+\"zenario/admin/organizer.ajax.php?path=\"+T(b)+\"&_get_item_links=\"+T(J),++a.itemLinkRequestsLeft,a._gDH(c,b,function(b,c){g==a.goNum&&(a.otherItemLinks[b]=c,--a.itemLinkRequestsLeft||a.go3(g,u,z,I))}));a.itemLinkRequestsLeft?(a.go3Timeout&&clearTimeout(a.go3Timeout),a.go3Timeout=setTimeout(function(){a.go3(g,\nu,z,I)},a.getItemLinkTimeoutTime)):a.go3(g,u,z,I)}}};a.getDataHack=function(a,c,d){w._a(a,2E3<a.length,!0,!0,!0).after(function(a){d(c,a)})};a.go3=function(b,c,d,e){(q.isFullOrganizerWindow||q._cIBIO(\"og\"))&&b==a.goNum&&(a.lastSuccessfulGoNum=++a.goNum,a.go3Timeout&&clearTimeout(a.go3Timeout),m(\"organizer_preloader_circle\").style.display=\"none\",a._sN(),!d&&a.tuix.popout_message&&(r(a.refreshToPage)&&a.tuix.popout_message==a.lastPopoutMessage||q._sM(a.tuix.popout_message,!0,!1),a.lastPopoutMessage=\na.tuix.popout_message),a._sASI(c),a.firstLoaded||(a.firstLoaded=!0,q._hAL()),a._sWC(\"loaded\",!0),a._sWC(\"filters_set\",a.filtersSet),a._sWC(\"filters_set_in_view_options\",a.filtersSetInViewOptions),e&&e())};a.setWrapperClass=function(a,c){$(\"#organizer__box_inner\").removeClass(\"organizer_\"+(c?\"not_\":\"\")+a).addClass(\"organizer_\"+(c?\"\":\"not_\")+a)};a.itemLanguage=function(b){return b&&a.tuix&&a.tuix.items&&a.tuix.items[b]&&(!a.tuix.items[b].css_class||-1==(\"\"+a.tuix.items[b].css_class).indexOf(\"ghost\"))&&\na.tuix.items[b].language_id?a.tuix.items[b].language_id:a.tuix&&a.tuix.key?a.tuix.key.languageId||a.tuix.key.language:\"\"};a.itemParent=function(a){return\"\"};a.getShownColumns=function(b,c,d){var e=!1,f=!1,g={};a.prefs&&a.prefs[b]&&a.prefs[b].shownColumns&&(g=a.prefs[b].shownColumns);if(d)for(var h in d)p(d,h)&&(e||(e=h),v(d[h].always_show)?f=g[h]=!0:r(g[h])?g[h]&&(f=!0):v(d[h].show_by_default)&&(f=g[h]=!0));f||(g[e||c]=!0);return g};a.nextPage=function(){if(a.lockPageClicks)return!1;a.page<a.pageCount&&\na._gTP(a.page+1)};a.prevPage=function(){if(a.lockPageClicks)return!1;1<a.page&&a._gTP(a.page-1)};a.goToPage=function(b){if(a.stop)return!1;a.page!=b&&a._dAI();a.lockPageClicks=!0;a.inspectionView=!1;a.pi.resetScrollPosition();a.server_side?a._rASP(b):a.showPage(b)};a.goToLastPage=function(){if(a.stop)return!1;a._gTP(a.pageCount)};a.refreshAndShowPage=function(b){a.page=b||1;a._l()};a.showPage=function(b){a.page=b;a._sePa()};a.searchAndSortItems=function(b){var c;r(a.refreshToPage)||a._seSe(b);a.server_side?\n(a.searchedItems=a.tuix.__item_sort_order__,a.searchMatches=a.tuix.__item_count__):(r(a.searchTerm)&&\"hidden\"!=m(\"organizer_search\").style.visibility?a.searchedItems=a.pi.sortAndSearchItems(b):a.searchedItems=a.pi.sortAndSearchItems(),a.searchMatches=a.searchedItems.length);a.itemsOrder={};for(var d in a.searchedItems)p(a.searchedItems,d)&&(c=a.searchedItems[d],a.itemsOrder[c]=1*d);b=1;if(a.thisPageSize)if(a.server_side&&a.server_side)b=a.tuix.__page__||a.refreshToPage||1;else if(r(a.refreshToPage))b=\na.refreshToPage;else{if(!a.inspectionViewItem)for(c in d=a.pi.returnSelectedItems(),d)if(p(d,c)){a.inspectionViewItem=c;break}if(c=a.itemsOrder[a.inspectionViewItem])b=Math.floor(c/a.thisPageSize)+1}delete a.refreshToPage;a.showPage(b)};a.stop=!1;a.stopWarningMessage=!1;a.disableInteraction=function(b){a.stop=!0;b&&(a.stopWarningMessage=b);$(\"#organizer_search_term\").prop(\"disabled\",!0);a._sWC(\"interaction_disabled\",!0)};a.enableInteraction=function(){a.stop=!1;a.stopWarningMessage=!1;$(\"#organizer_search_term\").prop(\"disabled\",\n!1);a._sWC(\"interaction_disabled\",!1)};a.getHeader=function(){return $(\"#organizer_header\")};a.getPanel=function(){return $(\"#organizer_rightColumnContent\")};a.getFooter=function(){return $(\"#organizer_lowerMiddleColumn\")};a.setPanel=function(){var b,c=a._geHe(),d=a._gP(),e=a._gF(),f=!1;n=0;a.multipleSelectEnabled=l.zenarioOSelectMode?l.zenarioOMultipleSelect:a.pi.returnMultipleSelectEnabled();var g=_._cl(a.pi.returnSelectedItems());for(b in g)p(g,b)&&(a.tuix.items&&a.tuix.items[b]?++n:(delete g[b],\nf=!0));f&&0==n?a.selectNextItem&&a.tuix.items&&a.tuix.items[a.selectNextItem]&&(g[a.selectNextItem]=!0,++n):!a.multipleSelectEnabled&&1<n&&(g={},n=0);delete a.selectNextItem;if(0==n&&a.inspectionViewItem&&a.tuix.items&&a.tuix.items[a.inspectionViewItem])n=1,g={},g[a.inspectionViewItem]=!0;else if(1<n||!a.inspectionViewItem||!a.tuix.items||!a.tuix.items[a.inspectionViewItem])a.inspectionView=!1;a.pi.cmsSetsSelectedItems(g);if(b=m(\"organizer_debug_button\"))b.className=a.refiner?a.refiner.id?\"zenario_debug zenario_debug_with_refiner_and_id\":\n\"zenario_debug zenario_debug_with_refiner_and_no_id\":\"zenario_debug zenario_debug_with_no_refiner\";a._eI();a._sPT();a._sBB();a._gPC();b=a.path.s(\"/\");m(\"organizer__box_wrap\").className=b.join(\"__\")+\" organizer_panel__\"+b.pop();a.pi.showPanel(c,d,e);a.tuix.toast&&q._t(a.tuix.toast);a._sB();a._sT();a._s(!0);a.lockPageClicks=!1;a._sH();l.zenarioONotFull||q.openedInIframe||q.seen_help_tour||!q.show_help_tour_next_time||q._sT(\"dummy_item\",!0);q.seen_help_tour=!0;setTimeout(function(){a._s(!0)},0)};a.back=\nfunction(b){if(a.stop)return a.stopWarningMessage&&alert(a.stopWarningMessage),!1;var c={},d={};if(!1!==a._gFLP(a.branches.length-1,a.path,\"title\",!1,b,!1,c)){d.selectedItemFromLastPanel=a._gSIFLP(c.path);a._dAI();a._cR();a._cS();for(b=c.pops;0<b;--b)a.branches.pop();a.go(c.path,k,k,k,k,d)}};a.knownBranches={};a.lookForBranches=function(b,c,d,e){var f,g,h,s;b._path_here&&(d=b._path_here);for(h in b)p(b,h)&&b[h]&&\"object\"==typeof b[h]&&(g=c?c+\"/\"+h:h,f=!1,r(e)&&(s=b[h].link)&&\"object\"==typeof s&&(\"nav\"!=\ne?s.branch=f=!0:(s.branch=f=!1,s.refiner&&s.path&&-1==s.path.indexOf(\"//\")&&(s.path+=\"/refiners/\"+s.refiner+\"//\",s.refinerId&&(s.path+=s.refinerId),s.path+=\"//\"))),\"refiners\"!=e||\"object\"!=typeof b[h]||r(b[h].link)||(b[h].link={path:d,refiner:h},b[h].link.branch=f=!0),f&&(a.knownBranches[d]||(a.knownBranches[d]={}),a.knownBranches[d][b[h].link.path]||(a.knownBranches[d][b[h].link.path]={}),a.knownBranches[d][b[h].link.path][b[h].link.refiner||1]&&\"item\"==(\"\"+a.knownBranches[d][b[h].link.path][b[h].link.refiner||\n1]).substr(-4)||(a.knownBranches[d][b[h].link.path][b[h].link.refiner||1]=a._shPa(g))),a._loFoBr(b[h],g,d,h))};a.resetBranches=function(){a.branches=[{panel_instances:{},bypasses:{},filters:{},refiners:{},searches:{}}]};a.branch=function(b,c,d,e){b=a._shPa(b);a.branches[a.branches.length]={from:c,to:b,title:d,no_return:e,panel_instances:{},bypasses:{},filters:{},refiners:{},searches:{}}};a.setHash=function(){if(!l.zenarioONotFull){if(!w._bII(7)){var b=a._gH();V.location.hash=b;w.currentHash=V.location.hash}q.homeLink&&\nm(\"home_page_button_link\")&&(m(\"home_page_button_link\").href=a._pRL(q.homeLink));q.backLink&&m(\"last_page_button_link\")&&(m(\"last_page_button_link\").href=a._pRL(q.backLink))}};a.getHash=function(b){var c=\"\",d=a.path,e,f,g,h=!1;e=!1;var s=\"\",F=a.pi&&a.pi.returnSelectedItems(),l=Q.isOpen&&Q.path,k=Q.isOpen&&Q.openingKey,m=Q.isOpen&&Q.tuix&&Q.tuix.tab;if(!b&&F){for(var q in F)if(p(F,q)&&F[q])if(!1===e)e=q;else{e=!1;break}e&&(s=a.inspectionView?e+\"/\":e)}for(q in a.branches)if(p(a.branches,q)&&0<q)if(e=\na.branches[q],e.to&&a.knownBranches[e.from]&&a.knownBranches[e.from][e.to]&&(f=a.knownBranches[e.from][e.to][e.refiners[e.to]?e.refiners[e.to].name:1])){f=a._shPa(f);if(g){if(f.substr(0,g.length)==g)f=a._shPa(f.substr(g.length+1));else{h=!0;break}c+=\"//\"}c+=f+\"//\";g=a.branches[q-1];if(g=g.panel_instances[e.from])c+=a._iK(g.returnSelectedItems());g=e.to}else{h=!0;break}!h&&g&&d.substr(0,g.length)==g&&(d=c+\"//\"+a._shPa(d.substr(g.length+1)));s&&(d=\"//\"==w._rHSS(d,2)?d+s:\"/\"==w._rHSS(d,1)?d+(\"/\"+s):\nd+(\"//\"+s));!b&&r(a.searchTerm)&&(d+=\"~-\"+X(a.searchTerm));!b&&a.path&&a.branches.length&&a.branches[a.branches.length-1]&&a.branches[a.branches.length-1].filters[a.path]&&!_._isEm(a.branches[a.branches.length-1].filters[a.path])&&(d+=\"~_\"+X(a.branches[a.branches.length-1].filters[a.path],!0));l&&(d+=\"~.\"+X(l),m&&(d+=\"~t\"+X(m)),k&&(d+=\"~k\"+X(k,!0)));return d};a.searchOnClick=function(a){};a.searchOnKeyUp=function(b){a.doSearchAfterDelay&&clearTimeout(a.doSearchAfterDelay);a.doSearchAfterDelay=setTimeout(function(){a._dS(m(\"organizer_search_term\"))},\na.searchDelayTime)};a.searchOnChange=function(b){a.server_side&&a.doSearchAfterDelay&&(clearTimeout(a.doSearchAfterDelay),a._dS(b))};a.markIfViewIsFiltered=function(){a.filteredView=r(a.searchTerm)||a.filtersSet};a.doSearch=function(b){a.doSearchAfterDelay&&clearTimeout(a.doSearchAfterDelay);\"\"===b.value?b=k:(b=b.value,\"0\"!==b.substr(0,1)&&b==1*b&&(b*=1));b!==a.searchTerm&&(a.searchTerm=b,a._mIVIF(),a._sS(a.searchTerm),a._rS())};a.runSearch=function(){if(a.stop)return!1;a.lockPageClicks=!0;a.inspectionView=\n!1;a.server_side||(a.server_side=a.pi.returnDoSortingAndSearchingOnServer())?a._rASP():a._sASI(a.searchTerm)};a.allItemsSelected=function(){if(0==a.shownItemsLength)return!1;var b,c=0,d=a.pi.returnSelectedItems();for(b in d)p(d,b)&&++c;return c==a.shownItemsLength};a.noItemsSelected=function(){if(0==a.shownItemsLength)return!0;var b,c=a.pi.returnSelectedItems();for(b in c)if(p(c,b))return!1;return!0};a.parseReturnLink=function(a,c){r(c)||(c=a&&w.currentHash&&!w._bII(7)?\"zenario_sk_return=\"+w.currentHash.r(\"#\",\n\"\"):\"\");return w._aBP((\"\"+a).r(\"zenario_sk_return=navigation_path\",c))};a.panelProp=function(b,c){var d,e;if(c=c||a.tuix)return(d=a.refiner&&a.refiner.name)&&(e=c.refiners&&c.refiners[d])&&r(e[b])?e[b]:c[b]};a.saveRefiner=function(b){a.branches[a.branches.length-1].refiners[a.path]=a.refiner=b};a.loadRefiner=function(b,c){return-1===c||c?k:a.branches[a.branches.length-1].refiners[b]?a.branches[a.branches.length-1].refiners[b]:k};a.clearRefiner=function(){a.refiner=k;a._sR()};a.saveSearch=function(b){a.branches[a.branches.length-\n1].searches[a.path]=b;a.pi.cmsSetsSearchTerm(b)};a.loadFromBranches=function(b,c,d){return-1===c||c?k:a.branches[a.branches.length-1]&&a.branches[a.branches.length-1][d]&&a.branches[a.branches.length-1][d][b]?a.branches[a.branches.length-1][d][b]:k};a.setSearch=function(b){var c;a.pi&&a.pi.returnSearchingEnabled()?(c=\"visible\",a.searchTerm=b):(c=\"hidden\",a.searchTerm=k);a._mIVIF();m(\"organizer_search\").style.visibility=c;r(a.searchTerm)?m(\"organizer_search_term\").value=a.searchTerm:m(\"organizer_search_term\").value=\n\"\"};a.clearSearch=function(){m(\"organizer_search_term\").value=\"\";a.searchTerm=k;a._mIVIF();a._sS(a.searchTerm)};a.toggleAllItems=function(){a._aIS()?a._dAI():a._sAI();a._sB();a._sH()};a.selectAllItems=function(){a._sIR()};a.deselectAllItems=function(){a._sIR(-1)};a.selectItemRange=function(b,c){var d=!1,e,f=!r(b),g=a.pi.returnSelectedItems(),h;for(h in a.searchedItems){var s=a.searchedItems[h];if(a.shownItems&&a.shownItems[s])if((e=f||s===b||s===c)&&!g[s]?(a.pi.selectItem(s),d=!0):!e&&g[s]&&(a.pi.deselectItem(s),\nd=!0),s===b&&s===c)f=!1;else if(s===b||s===c)f=!f}d&&a._cIV()};a.selectItems=function(b){var c,d,e={},f=!1,g=a.pi.returnSelectedItems();if(_._isAr(b))for(c in b)p(b,c)&&(d=b[c],e[d]=!0);else _._isOb(b)?e=b:e[b]=!0;for(d in a.shownItems)p(a.shownItems,d)&&((b=e[d])&&!g[d]?(a.pi.selectItem(d),f=!0):!b&&g[d]&&(a.pi.deselectItem(d),f=!0));f&&(a._cIV(),a._sB(),a._sH())};a.itemClickThrough=function(b,c){if(a.stop)return!1;w._st(c);if(!a.tuix||!a.tuix.items||!a.tuix.items[b])return!1;a._iCTA(b);return!1};\na.itemClickThroughAction=function(b){var c=a._iCTL(b),d;return c?(v(c.unselect_items)||(d={},d[b]=!0,a.pi.cmsSetsSelectedItems(d)),u._a(a,a.tuix.items[b],!0,!0,c),!0):!1};a.itemClickThroughLink=function(b){var c=a.tuix.items[b].link;b=a.tuix.items[b].panel;r(c)||r(b)||!a.tuix.item||(c=a.tuix.item.link,b=a.tuix.item.panel);b&&(c={path:b._path_here});return c&&l.zenarioONotFull&&a.path===l.zenarioOMaxPath&&(a.path!==c.path||l.zenarioODisallowRefinersLoopingOnMinPath)?!1:c};a.topRightButtonClick=function(b){if(a.stop)return!1;\nu._a(a,a.map.top_right_buttons[b],!1,-1)};a.topLevelClick=function(b,c,d){if(a.stop)return!1;a._cR();a._cS();a._reBr();r(c)?(b=w._cl(a.map[b].nav[c]),u._a(a,b,!1,-1)):u._a(a,a.map[b],!1,-1)};a.viewTrash=function(){!l.zenarioOSelectMode&&a.tuix&&a.tuix.trash&&!v(a.tuix.trash.empty)&&u._a(a,a.tuix.trash,!1,!0);return!1};a.collectionButtonClick=function(b,c){a.tuix&&a.tuix.collection_buttons&&a.tuix.collection_buttons[b]&&u._a(a,a.tuix.collection_buttons[b],!1,!0,k,c)};a.itemButtonClick=function(b,c){a.tuix&&\na.tuix.item_buttons&&a.tuix.item_buttons[b]&&(r(c)&&a._sI(c),u._a(a,a.tuix.item_buttons[b],!0,!0))};a.inlineButtonClick=function(b,c){a.tuix&&a.tuix.inline_buttons&&a.tuix.inline_buttons[b]&&(a._sI(c),u._a(a,a.tuix.inline_buttons[b],!0,!0))};a.toggleQuickFilter=function(b,c){var d,e,f,g,h=!1,s=a.tuix&&a.tuix.quick_filter_buttons;if(button=s&&s[b]){if(v(button.clear_all))for(e in s)p(s,e)&&(f=s[e],e==b||button.parent&&button.parent!=e&&button.parent!=f.parent||!(d=f.column)||!a._gFV(\"s\",d)||(a._sFV(\"s\",\nd,!1),a._clFi(d),h=!0));(d=button.column)&&(g=a._gCFT(d))&&a._cICPCAA(d)&&(v(button.remove_filter)?c=!1:r(c)||(c=!a._qFE(b)),a._sFV(\"s\",d,c),a._clFi(d),c&&(a._sFV(\"not\",d,v(button.invert)),\"yes_or_no\"==g?a._sFV(\"v\",d,1):r(button.value)&&a._sFV(\"v\",d,button.value)),h=!0);h&&a._rASP()}};a.quickFilterEnabled=function(b){var c,d,e;if((c=a.tuix.quick_filter_buttons[b])&&(d=c.column)&&(e=a._gCFT(d))){if(v(c.remove_filter))return!a._gFV(\"s\",d);if(a._gFV(\"s\",d)&&v(c.invert)==v(a._gFV(\"not\",d))){if(\"yes_or_no\"==\ne)return!0;if(r(c.value))return a._gFV(\"v\",d)===c.value}}return!1};a.applyMergeFields=function(b,c,d,e){var f=b=(b+\"\").r(/~/g,\"~1\"),g,h;r(d)||(d=a._gKI());for(h in a.tuix.items[d])if(p(a.tuix.items[d],h)&&(f=a.tuix.items[d][h],-1!=b.indexOf(\"[[\"+h+\"]]\")))for(g=a.tuix.columns&&a.tuix.columns[h]?a._cV(d,h,!c):c?t(f):f,!e&&r(g)&&(g=(g+\"\").r(/\\n/g,\" \")),g=(g+\"\").r(/~/g,\"~1\").r(/\\[/g,\"~2\").r(/\\]/g,\"~3\");b!=(f=b.r(\"[[\"+h+\"]]\",g));)b=f;return b.r(/~2/g,\"[\").r(/~3/g,\"]\").r(/~1/g,\"~\")};a.applyMergeFieldsToLabel=\nfunction(b,c,d,e){d&&e&&1<a.itemsSelected&&(b=e);if(!b)return b;b=(\"\"+b).r(/\\[\\[item_count\\]\\]/ig,a.itemsSelected);d&&1==a.itemsSelected&&(b=a._aMF(b,c));return b};a.applySmallSpaces=function(b){for(var c,d,e=\"\";-1!=(c=b.search(/([a-z][A-Z]|[a-zA-Z][^a-zA-Z\\)]|[^a-zA-Z\\(][a-zA-Z]|[0-9][^0-9\\)]|[^0-9\\(][0-9])/));)d=null!==b[c+1].m(/\\s/)?c+2:c+1,c=b.substr(0,d),b=b.substr(d),e+=a._mLS(t(c,!1,\"asis\"),25),-1==c.search(/\\s/)&&(e+='<span style=\"font-size: 1px;\"> </span>');return e+=a._mLS(t(b),25)};a.maxLengthString=\nfunction(a,c){for(var d=\"\";a.wordLength>c;)d+=a.substr(0,c)+'<span style=\"font-size: 1px;\"> </span>',a=a.substr(c);return d+a};a.pickItems=function(b,c,d){b={};for(var e in c)p(c,e)&&(\"id\"==e?b[e]=c[e]:\"parent__\"!=e.substr(0,8)&&(b[\"child__\"+e]=c[e]));if(a.postPickItemsObject)a.pickItemsItemLevel&&(b.id2=b.id,delete b.id),u._a(a,a.postPickItemsObject,!0,!0,k,b);else if(a.actionTarget){if(a.pickItemsItemLevel){a.actionRequests.id2=b.id;for(var f in b)p(b,f)&&\"id\"!=f&&(a.actionRequests[f]=b[f])}else for(f in b)p(b,\nf)&&(a.actionRequests[f]=b[f]);a._a2()}a.postPickItemsObject=!1};a.action2=function(){if(a.actionTarget){var b=++a.goNum;m(\"organizer_preloader_circle\").style.display=\"block\";w._a(a.actionTarget,a.actionRequests,!1,!1,!0).after(function(c){b==a.goNum&&(c&&!1===q._sM(c,k,\"error\")?m(\"organizer_preloader_circle\").style.display=\"none\":a._sCI())})}a.actionTarget=!1;delete a.actionRequests};a.uploadStart=function(){a._dI()};a.uploadComplete=function(){a._eI();a._sCI()};a.selectCreatedIds=function(){w._a(M+\n\"zenario/ajax.php?method_call=getNewId\",!0,!0).after(function(b){a._rTSI(b)})};a.reloadButton=function(){w._oCD();a._r();a._sOI()};a.lastActivity=!1;a.reload=function(b,c,d){if(b&&(!a.lastActivity||12E5<Date.now()-a.lastActivity))return!1;a._stRe();var e=a.path,f=a._gKI(!0),g=a.inspectionView;a.refreshToPage=f?k:a.page;a.go(e,k,k,k,k,k,!c,f,k,d,b,g)};a.load=function(){a._r(!1,!0)};a.changePassword=function(){a._rePa(k,!0,\"change_password\")};a.reloadPage=a.refreshPage=function(b,c,d,e){if(!e&&a.stop)return!1;\nd=d||\"\";r(b)||(b=w.currentHash&&!w._bII(7)?w.currentHash.r(\"#\",\"\"):a._gH());d||c||(d=\"zenario__administration/panels/site_settings//site_reset\"==b?\"site_reset\":b&&\"zenario__administration/panels/backups\"==b.substr(0,31)?\"restore\":\"reload_sk\");c=M+\"admin.php?task=\"+d;w.cID?c+=\"&cID=\"+w.cID+\"&cType=\"+w.cType+\"&cVersion=\"+w.cVersion:(c+=\"&og=\"+T(b),w.cID&&(c+=\"&fromCID=\"+q.fromCID+\"&fromCType=\"+q.fromCType));l.location.href=c};a.refreshToShowItem=function(b,c,d){if(a.stop)return!1;if(\"zenario__administration/panels/site_settings\"==\na.path)a._rePa();else{var e,f,g=a.path,h;a.page&&(a.refreshToPage=a.page);a.selectNextItem=a._gNI();f=!1!==b&&r(b)?_._isOb(b)?_._k(b):_._isAr(b)?b:(b+\"\").s(\",\"):[];if(f.length){h={};for(e in f)p(f,e)&&(a.tuix.db_items&&a.tuix.db_items.encode_id_column&&(f[e]=w._eIIFO(f[e])),h[f[e]]=!0);a.pi.cmsSetsSelectedItems(h);a._sH();g+=\"//\"+f.join(\",\");a.inspectionView&&(g+=\"/\")}a._stRe();w._oCD();a.go(g,k,k,k,k,k,k,k,k,function(){var e;b&&-1==(b+\"\").indexOf(\",\")&&a.pi&&a.tuix&&(c&&(e=q._fOIN(a.tuix,b))&&a.pi.displayToastMessage(c.r(/\\[\\[name\\]\\]/ig,\nt(e))),!d||v(a.tuix.hide_filter_warning)||a.tuix.items&&a.tuix.items[b]||q._gIFO(a.path,b,!0).after(function(c){c.items&&c.items[b]&&a.pi.displayToastMessage(d)}))})}};a.refreshing=!1;a.stopRefreshing=function(){a.refreshing&&clearTimeout(a.refreshing)};a.doCSVExport=function(){a.CSVExport=!0;a._r()};a.getNextItem=function(){var b,c,d,e=-1,f,g;if(!(f=a.tuix&&a.searchedItems)||!(g=a.pi&&a.pi.returnSelectedItems()))return!1;for(c in f)p(f,c)&&(b=f[c],c=1*c+1,c>e&&g[b]&&(d=f[c])&&!g[d]&&(e=c));return-1!=\ne&&f[e]};a.getKey=function(b){var c={},d=a.tuix,e,f;if(d.key)for(f in d.key)p(d.key,f)&&(c[f]=d.key[f]);a.refiner&&(c.refinerId=a.refiner.id,c.refinerName=a.refiner.name);if(a.lastRefiners)for(f in a.lastRefiners)p(a.lastRefiners,f)&&(c[f]=a.lastRefiners[f]);if(b&&(c.id=a._gKI(),(e=d.items&&d.items[c.id])&&_._isOb(e.key)))for(f in e.key)p(e.key,f)&&(c[f]=e.key[f]);a._aWPI(c);return c};a.addWindowParentInfo=function(a){var c,d,e=E&&E.zenario||w;if(q.openedInIframe&&E&&E.zenario&&E.zenarioO.init&&E.zenarioO.tuix)for(d in c=\nE.zenarioO._gK(!0),c)p(c,d)&&(a[\"parent__\"+d]=c[d]);e.cID&&(a.parent__cID=e.cID,a.parent__cType=e.cType,a.parent__cVersion=e.cVersion)};a.selectedItems=function(){return a.pi&&a.pi.returnSelectedItems()};a.selectedItemId=function(){return a._gKI(!0,!0)};a.selectedItemIds=function(){return a._gKI()};a.selectedItemDetails=function(){var b=a._sII();return b&&a.tuix.items&&a.tuix.items[b]||{}};a.getKeyId=function(b,c){var d,e=\"\",f=a._seIt();if(f)for(d in f)if(p(f,d))if(\"\"===e)e=d;else{if(c)return!1;if(b)break;\nelse e+=\",\"+d}return e};a.getLastKeyId=function(b){var c;return(c=a._lR(a.path))?c.id:!1};a.followPathOnMap=function(b,c,d){b||(b=a.defaultPath);var e=a.map;b=b.s(\"/\");var f=!1,g=!1,h;for(h in b)if(p(b,h)){var s=b[h];if(\"\"!==s){0==h&&(f=g=s);if(e[s])e=e[s];else return!1;e.link&&e.link.path?(f=g,g=e.link.path):e._path_here&&(f=g,g=e._path_here)}}e.panel&&(d||!c||!r(e[c])&&r(e.panel[c]))&&(e=e.panel);return d?e.link?{from:f,to:g,branch:e.link.branch,refiner:e.link.refiner}:!1:c?e[c]:e};a.getFromToFromLink=\nfunction(b){return a._fPOM(b,!1,!0)};a.showViewOptions=function(b){if(a.stop||!a.tuix.columns)return!1;a._chPr()?a._sVO2():a._r(k,k,a.showViewOptions2);return!1};a.showViewOptions2=function(){q._oB(!1,\"zenario_view_options\",\"AdminViewModeOptions\",m(\"organizer_listViewOptionsDropdown\"),445,-395,-2,!1,!0,!1,!1,k,k,!1,!0);a._sVO()};a.getColumnFilterType=function(b){if(!a.tuix||!a.tuix.columns||!a.tuix.columns[b])return!1;var c=!1,d=a.tuix.columns[b].filter_format||a.tuix.columns[b].format;\"date\"==d||\n\"datetime\"==d||\"datetime_with_seconds\"==d?c=\"date\":\"yes_or_no\"==d?c=\"yes_or_no\":\"enum\"==d&&a.tuix.columns[b].values||\"language_english_name_with_id\"==d||\"language_english_name\"==d||\"language_local_name_with_id\"==d||\"language_local_name\"==d?c=\"enum\":v(a.tuix.columns[b].searchable)&&(c=\"search\");return c};a.setViewOptions=function(){var b={},c=new w.callback;b.showcol__title_={ord:-3,full_width:!0,pre_field_html:'<div class=\"organizer_colPickerTitle_show\" style=\"\">',snippet:{html:y.show},post_field_html:\"</div>\"};\nb.sortcol__title_={ord:-1,same_row:!0,pre_field_html:'<div class=\"organizer_colPickerTitle_sort\">',snippet:{html:y.sort},post_field_html:\"</div>\"};var d,e,f,g=!1,h=!1,s=a.prefs[a.path]||{};for(e in a.sortedColumns)if(p(a.sortedColumns,e)&&(d=a.sortedColumns[e],(f=a.tuix.columns[d])&&a._iSC(d,!1))){b[\"start_of_row__\"+d]={ord:100*e,full_width:!0,snippet:{html:\"\"}};b[\"showcol_\"+d]={ord:100*e+4,same_row:!0,type:\"toggle\",onclick:\"zenarioO._sHC(!\"+v(a.shownColumns[d])+\", '\"+t(d)+\"'); zenarioO._sVO();\",\nvalue:a.shownColumns[d]?\"Hide\":\"Show\",title:y.showCol,\"class\":(\"grid\"==a.view_mode||v(f.always_show)?\"notused \":\"\")+(a.shownColumns[d]?\"zen_col_hidden\":\"zen_col_shown\")};if(a.showCSVInViewOptions){delete b[\"showcol_\"+d].onclick;v(v(f.server_side_only))?b[\"showcol_\"+d].style=\"visibility: hidden;\":b[\"showcol_\"+d].disabled=\"disabled\";var l=a.shownColumns[d];r(s.shownColumnsInCSV)&&r(s.shownColumnsInCSV[d])&&(l=s.shownColumnsInCSV[d]);b[\"showcsv_\"+d]={ord:100*e+5,same_row:!0,type:\"checkbox\",onclick:\"zenarioO._sHCIC(this, '\"+\nt(d)+\"');\",value:l,\"class\":\"grid\"==a.view_mode||v(f.always_show)?\"notused\":\"\"}}b[\"sortcol_\"+d]={ord:100*e+6,same_row:!0,snippet:{html:'<label class=\"zenario_filter_column_name\" for=\"showcol_'+d+'\">'+t(f.title)+\"</label>\"}};if(a._cFC(d)){var u=l=!a._gFV(\"s\",d),R=a._gFV(\"v\",d),O,G=\"\",x=\"\",B=f.filter_format||f.format;O='<a class=\"'+(a._gFV(\"not\",d)?\"organizer_inverter organizer_not\":\"organizer_inverter\")+'\" title=\"'+y.invertFilter+'\" onclick=\"zenarioO._iF(this, \\''+t(d)+\"', '\"+t(B)+\"');\\\">\";if(\"date\"==\nB||\"datetime\"==B||\"datetime_with_seconds\"==B)R&&(O=R.s(\",\"),G=O[1],x=O[0]),b[\"date_after_col_\"+d]={ord:100*e+7,row_class:\"zenario_date_filters_for_field\",label:'<span class=\"zenario_date_filters_phrase\">'+y.after+\"</span>\",type:\"date\",onchange:\"zenarioO._uDF('\"+t(d)+\"');\",value:x,hidden:l,_was_hidden_before:u},b[\"date_before_col_\"+d]={ord:100*e+8,row_class:\"zenario_date_filters_for_field\",label:'<span class=\"zenario_date_filters_phrase\">'+y.before+\"</span>\",type:\"date\",onchange:\"zenarioO._uDF('\"+\nt(d)+\"');\",value:G,hidden:l,_was_hidden_before:u},b[\"v\"+d]={ord:100*e+9,same_row:!0,type:\"hidden\",value:R,hidden:l,_was_hidden_before:u};else if(\"yes_or_no\"==B)R=\"\"+f.title,-1==R.indexOf(\":\")&&(R+=\":\",R.r(/\\s*:/,\":\")),b[\"v\"+d]={ord:100*e+7,row_class:\"zenario_filters_for_field yes_or_no\",snippet:{html:O+(a._gFV(\"not\",d)?y.no:y.yes)+\"</a>\"},hidden:l,_was_hidden_before:u};else if(\"enum\"==B&&f.values||\"language_english_name_with_id\"==B||\"language_english_name\"==B||\"language_local_name_with_id\"==B||\"language_local_name\"==\nB){x=k;if(\"enum\"==B){if(G=f.values,!G[\"\"]&&!G[0]){var G={},x=y.selectListSelect,z;for(z in f.values)p(f.values,z)&&(G[z]=f.values[z])}}else for(z in G={},G[\"\"]=y.selectListSelect,q.lang)p(q.lang,z)&&q.lang[z].enabled&&(G[z]=q.lang[z].name,\"language_english_name_with_id\"==B||\"language_local_name_with_id\"==B)&&(G[z]+=\" (\"+z+\")\");b[\"v\"+d]={ord:100*e+7,row_class:\"zenario_filters_for_field enum\",label:O+(a._gFV(\"not\",d)?y.isnt:y.is)+\"</a>\",type:\"select\",onchange:\"zenarioO._cF();\",empty_value:x,values:G,\nvalue:R,hidden:l,_was_hidden_before:u}}else v(f.searchable)&&(f=\"id\"==f.format||f.encrypted,f=a._gFV(\"not\",d)?f?y.isnt:y.notLike:f?y.is:y.like,b[\"v\"+d]={ord:100*e+7,row_class:\"zenario_filters_for_field\",label:O+f+\"</a>\",type:\"text\",onkeyup:\"zenarioVO._cFAD();\",value:R,hidden:l,_was_hidden_before:u});a._gCFT(d)&&(b[\"togglefilter_\"+d]={ord:100*e+2,same_row:!0,pre_field_html:'<div class=\"organizer_togglefilter\">',type:\"toggle\",onclick:\"zenarioO._tF(this, '\"+t(d)+\"');\",\"class\":l?\"togglefilter_closed\":\n\"togglefilter_open\",value:l?\" \":\"x\",title:l?y.filterByCol:y.filterByColStop,post_field_html:\"</div>\"})}a.showCSVInViewOptions&&(b[\"up__\"+d]={ord:100*e+1,same_row:!0,pre_field_html:'<div class=\"organizer_mov_col\">',type:\"toggle\",value:\" \",\"class\":\"movcol_up\",style:\"visibility: hidden;\",title:y.moveColForward},b[\"down__\"+d]={ord:100*e+2,same_row:!0,type:\"toggle\",value:\" \",\"class\":\"movcol_down\",style:\"visibility: hidden;\",title:y.moveColBack,post_field_html:\"</div>\"},!1!==g&&(b[\"up__\"+d].style=\"\",b[\"up__\"+\nd].onclick=\"zenarioO._sCO(\"+e+\", \"+g+\", true)\",b[\"down__\"+h].style=\"\",b[\"down__\"+h].onclick=\"zenarioO._sCO(\"+e+\", \"+g+\", true)\"));g=e;h=d}var A,g=!1;if(a.branches[a.branches.length-1]&&a.branches[a.branches.length-1].filters&&a.branches[a.branches.length-1].filters[a.path])for(A in a.branches[a.branches.length-1].filters[a.path])if(p(a.branches[a.branches.length-1].filters[a.path],A)&&a.branches[a.branches.length-1].filters[a.path][A].shown){g=!0;break}for(A in s)if(p(s,A)&&(d=s[A],A&&d)){g=!0;break}g&&\n(b.reset={ord:100*e+12,full_width:!0,type:\"toggle\",onclick:\"zenarioO._rePr();\",value:y.reset});m(\"zenario_fbAdminViewModeOptions\").innerHTML=S.drawTUIX(b,\"zenario_filters_popup\",c);w._aJQE(\"#zenario_fbAdminViewModeOptions \",!0);c.done();a._s(!0)};a.updateDateFilters=function(b){var c=S.readField(\"date_after_col_\"+b),d=S.readField(\"date_before_col_\"+b);m(\"v\"+b).value=c||d?c+\",\"+d:\"\";a._cF()};a.canSortColumn=function(b){return a.stop||v(a.tuix.columns[b].disallow_sorting)||a.server_side&&!a.tuix.columns[b].db_column?\n!1:!0};a.canFilterColumn=function(b){b=a.tuix.columns[b];var c;if(!b)return!1;c=b.filter_format||b.format;if(!b.db_column&&!b.filter_column||v(b.server_side_only)||v(b.disallow_filtering)||\"enum\"==c&&!b.values)return!1;switch(c){case \"date\":case \"datetime\":case \"datetime_with_seconds\":case \"language_english_name_with_id\":case \"language_english_name\":case \"language_local_name_with_id\":case \"language_local_name\":return!v(b.disallow_sorting);default:return v(b.searchable)}};a.showHideColumn=function(b,\nc){if(v(a.tuix.columns[c].always_show))b=!0;else{var d=0,e;for(e in a.tuix.columns)p(a.tuix.columns,e)&&a.shownColumns[e]&&++d;2>d&&!b&&(b=!0)}a.shownColumns[c]=b?!0:!1;a._chPr();a.prefs[a.path].shownColumns=a.shownColumns;a._sP();a._sePa()};a.resizeColumn=function(b,c){a.shownColumns[b]&&(c=Math.max(c,a.columnWidths.xxsmall),a._chPr(),a.prefs[a.path].colSizes||(a.prefs[a.path].colSizes={}),a.prefs[a.path].colSizes[b]=c,a._sP());a._sePa()};a.showHideColumnInCSV=function(b,c){a._chPr();a.prefs[a.path].shownColumnsInCSV||\n(a.prefs[a.path].shownColumnsInCSV={});a.prefs[a.path].shownColumnsInCSV[c]=b.checked?!0:!1;a._sP()};a.switchColumnOrder=function(b,c,d){if(\"object\"==typeof b){var e,f={};moveableColumns={};pi=-1;positions=[];for(e in b)p(b,e)&&(c=b[e],f[c]=!0);for(e in a.sortedColumns)p(a.sortedColumns,e)&&(c=a.sortedColumns[e],f[c]&&(moveableColumns[c]=!0,positions[++pi]=e,a.sortedColumns[e]=k));pi=-1;for(e in b)p(b,e)&&(c=b[e],f[c]&&moveableColumns[c]&&(a.sortedColumns[positions.shift()]=c));for(e=a.sortedColumns.length-\n1;0<=e;--e)r(a.sortedColumns[e])||a.sortedColumns.splice(e,1)}else e=a.sortedColumns[b],a.sortedColumns[b]=a.sortedColumns[c],a.sortedColumns[c]=e;a._chPr();a.prefs[a.path].sortedColumns=a.sortedColumns;a._sePa();d&&a._sVO();a._sP()};a.resetPrefs=function(){a._chPr();a.prefs[a.path]&&(a.prefs[a.path]={},a._sP());a.branches[a.branches.length-1]&&a.branches[a.branches.length-1].filters&&(a.branches[a.branches.length-1].filters[a.path]={});q._cB(\"AdminViewModeOptions\");a._rASP()};a.checkIfColumnPickerChangesAreAllowed=\nfunction(b){return a.stop?!1:!0};a.changeSortOrder=function(b){a._cSC(b)&&a._cICPCAA(b)&&(a.sortBy==b?a.sortDesc=!a.sortDesc:(a.sortBy=b,a.sortDesc=!1),a._chPr(),a.prefs[a.path].sortBy=a.sortBy,a.prefs[a.path].sortDesc=a.sortDesc,a.pi&&a.pi.cmsSetsSortColumn(a.sortBy,a.sortDesc),a._rS(),a._sP(!0))};a.toggleFilter=function(b,c){var d,e=a._gCFT(c);if(e&&a._cICPCAA(c)){d=!a._gFV(\"s\",c);a._sFV(\"s\",c,d);var f=!1;d||(a._gFV(\"v\",c)&&(a._sFV(\"v\",c,\"\"),f=!0),a._sFV(\"not\",c,!1));\"yes_or_no\"==e&&d&&(f=!0,a._sFV(\"v\",\nc,1));a._sVO(c);S.hideShowFields(function(){a._s(!0);m(\"v\"+c)&&$(m(\"v\"+c)).is(\":visible\")&&m(\"v\"+c).focus()});f&&a._rASP()}};a.invertFilter=function(b,c,d){a._cICPCAA(c)&&(b=!a._gFV(\"not\",c),a._sFV(\"not\",c,b),a._sVO(c),a._fSOC(c)&&a._rASP())};a.refreshIfFilterSet=function(b){a._gFV(\"v\",b)&&a._rASP()};a.filterSetOnColumn=function(b,c){return!!a._gFV(\"v\",b,c)};a.getFilterValue=function(b,c,d){r(d)||(d=a.branches[a.branches.length-1].filters[a.path]);return d&&d[c]&&d[c][b]?d[c][b]:\"\"};a.setFilterValue=\nfunction(b,c,d){var e=a.branches[a.branches.length-1].filters;e[a.path]||(e[a.path]={});e[a.path][c]||(e[a.path][c]={});!r(d)||!d&&\"not\"==c?delete e[a.path][c][b]:e[a.path][c][b]=\"s\"==c||\"not\"==c?v(d):d;_._isEm(e[a.path][c])&&delete e[a.path][c];_._isEm(e[a.path])&&delete e[a.path]};a.clearFilter=function(b){a._sFV(\"v\",b);a._sFV(\"not\",b)};S.changeFiltersAfterDelay=function(){w._aADINS(\"changeFilters\",a.changeFilters,700)};a.changeFilters=function(){if(a.stop)a._sVO();else{var b,c;for(c in a.tuix.columns)if(p(a.tuix.columns,\nc)&&a._iSC(c)){if(m(\"v\"+c)||m(\"v\"+c+\"___yes\"))(b=S.readField(\"v\"+c))?a._sFV(\"v\",c,b):a._sFV(\"v\",c,\"\");m(\"remove_filter_\"+c)&&(m(\"remove_filter_\"+c).className=a._fSOC(c)?\"organizer_remove_filter organizer_remove_filter_active\":\"organizer_remove_filter organizer_remove_filter_inactive\")}a._rASP()}};a.changePageSize=function(b){a.stop||(a._chPr(),1*b?a.prefs[a.path].pageSize=1*b:delete a.prefs[a.path].pageSize,a._rASP(),a._sP(!0))};a.hideViewOptions=function(a){q._cB(\"AdminViewModeOptions\");return!1};\na.isShowableColumn=function(b,c){var d=a.tuix.columns[b];return c?a.shownColumns[b]&&a._iSC(b):d&&d.title&&!v(d.server_side_only)&&!u._h(k,a,k,b,k,d)&&!a._cHBF(d)};a.getSortedIdsOfTUIXElements=function(b,c,d){return u._gSIOTE(a.tuix,b,c,d)};a.sortArray=function(a,c){return a[1]===c[1]?0:(a[2]?c[2]:!c[2])?a[1]<c[1]?-1:1:a[2]?-1:1};a.dateDays=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \");a.dateMonths=\"January Feburary March April May June July August September October November December\".split(\" \");\na.checkCondition=function(b){var c,d=a.pi.returnSelectedItems();for(c in d)if(p(d,c)&&(!a.tuix.items[c]||!b(c,a.tuix.items[c])))return!1;return!0};a.columnEqual=function(b,c){return a._cC(function(d){return a._cRV(d,b)==c})};a.columnNotEqual=function(b,c){return a._cC(function(d){return a._cRV(d,b)!=c})};a.columnRawValue=function(b,c){return a.tuix&&a.tuix.columns&&r(a.tuix.columns[c])&&r(a.tuix.items[b])?a.tuix.items[b][c]:\"\"};a.columnValue=function(b,c,d){if(!a.tuix)return\"\";var e=a.tuix.columns&&\na.tuix.columns[c]||{},f=a.tuix.items[b][c],f=!1!==f&&r(f)?\"\"+f:\"\",g=e.item_link,h=!0,s=!1;if(g){var k=!1;switch(g){case \"content_item\":case \"content_item_or_url\":var m=a._iL(b),p=a._iP(b);if(!(f&&a.contentItems[m]&&a.contentItems[m][p]&&(k=a.contentItems[m][p].items)&&(k=k[f])))if(\"content_item_or_url\"==g&&f&&\"_\"!=f.substr(0,1)&&\"_\"!=f.substr(1,2))k={name:f,frontend_link:f},h=!1;else return\"\";break;case \"menu_item\":m=a._iL(b);f&&a.menuItems[m]&&(k=a.menuItems[m].items)&&(k=k[f]);break;default:f&&\na.otherItemLinks[g]&&(k=a.otherItemLinks[g].items)&&(k=k[f])}if(k){if(d)return k.name;d=\"\";if(a.tuix.items[b].cell_css_classes&&a.tuix.items[b].cell_css_classes[c]&&-1!=(\"\"+a.tuix.items[b].cell_css_classes[c]).indexOf(\"ghost\"))if(d=' style=\"cursor: default;\"',\"menu_item\"==g)d+=' title=\"'+t(t(k.name))+'|\"';else{if(\"content_item\"==g||\"content_item_or_url\"==g)d+=' title=\"'+t(t(k.name))+'|\"'}else if(h&&!l.zenarioONotFull?(c=\"\",e=a.shallowLinks[g]||g,d=k.navigation_path?k.navigation_path:a.shallowLinks[g]?\na.shallowLinks[g]+\"//\"+f:g+\"//\"+f,a.shallowLinks[g]&&(c=\", name: 'following_item_link', languageId: '\"+t(a._iL(b))+\"'\"),d=' href=\"organizer.php#'+t(d)+'\" onclick=\"zenarioO._dAI();var selectedItems = {};selectedItems[\\''+t(b)+\"'] = true;zenarioO.pi.cmsSetsSelectedItems(selectedItems);zenarioO._sH();zenarioO.go('\"+t(e)+\"', true, {id: '\"+t(f)+\"'\"+c+\"}, undefined, undefined, undefined, undefined, '\"+t(f)+\"');return zenario._st(event);\\\"\"):k.navigation_path?d=' href=\"'+M+\"zenario/admin/organizer.php#/\"+\nt(k.navigation_path)+'\" target=\"_blank\"':(h=!1,k.frontend_link&&(s=!0,d=' href=\"'+t(w._aBP(k.frontend_link))+'\" target=\"_blank\"')),h)if(\"menu_item\"==g)d+=' title=\"'+t(t(k.name))+\"|\"+y.clkToViewLinkedMenuNode+'\"';else{if(\"content_item\"==g||\"content_item_or_url\"==g)d+=' title=\"'+t(t(k.name))+\"|\"+y.clkToViewLinkedCItem+'\"'}else s&&(d+=' title=\"'+t(t(k.name))+\"|\"+y.clkToViewLinkInNewWindow+'\"');switch(g){case \"content_item\":case \"content_item_or_url\":b=t(k.name);break;case \"menu_item\":b=t(k.name);h=b.r(/.*?\\-\\&gt\\; /g,\n\"-&gt; \");h==b&&(h=b.r(/.*?\\: /g,\"\"));b=h;break;default:b=q._fOIN(a.otherItemLinks[g],f)}return u._mT(\"zenario_organizer_item_link\",{item:k,item_link:g,itemName:b,href:d,panel:a.otherItemLinks[g],value:f})}}if(e.format||e.empty_value)f=q._fSIF(f,e);g=e.length_limit&&f.length>e.length_limit;return d?g?f.substr(0,e.length_limit)+\"...\":f:g?'<span class=\"tooltip\" title=\"'+t(f)+'\">'+t(f.substr(0,e.length_limit))+\"...</span>\":t(f)};a.rowCssClass=function(b){b=a.tuix.items[b]||{};return b.row_class||b.row_css_class||\n\"\"};a.columnCssClass=function(b,c){var d=\"\",e=a.tuix.columns[b],f=r(c)&&a.tuix.items[c];e&&e.css_class&&(d+=\" \"+e.css_class);f&&f.cell_css_classes&&f.cell_css_classes[b]&&(d+=\" \"+f.cell_css_classes[b]);f&&f[b]&&e&&e.values&&e.values[f[b]]&&e.values[f[b]].css_class&&(d+=\" \"+e.values[f[b]].css_class);return d};a.setBackButton=function(){var b,c=\"\",d=a._gBBT(-1,!0),e={buttons:[]};if(d&&0!=d.length){m(\"organizer_branding_title\").style.display=\"none\";m(\"organizer_backButton\").style.display=\"block\";for(b in d)p(d,\nb)&&(e.buttons[b]={orderAsc:b+1,orderDesc:d.length-b,title:d[b]});c=u._mT(\"zenario_organizer_back_buttons\",e)}else m(\"organizer_branding_title\").style.display=\"block\",m(\"organizer_backButton\").style.display=\"none\";m(\"organizer_backButton\").innerHTML=c;q._to(\"#organizer_backButton *[title]\");q._sTITL(\".organizer_lastBackButton a\",k,q.tooltipLengthThresholds.organizerBackButton)};a.getBackButtonTitle=function(b,c){return a._gFLP(a.branches.length-1,a.path,\"title\",!1,b,c)};a.getSelectedItemFromLastPanel=\nfunction(b){var c,d=!1;(panelInstance=a._gFLP(a.branches.length-1,a.path,\"panel_instances\",!0))&&(panelInstance=panelInstance[b])&&(d=panelInstance.returnSelectedItems());if(d)for(c in d)if(p(d,c))return c;return!1};a.getFromLastPanel=function(b,c,d,e,f,g,h,k){if(!a.tuix||!a.path)return!1;var m=!1,p,q=!1,u=!1;r(f)||(f=1);r(h)||(h={});r(h.path)||(h.path=c);r(h.pops)||(h.pops=0);if(0===b&&-1==c.indexOf(\"/\")||\"no_return\"!=d&&(v(a._gFLP(b,c,\"no_return\"))||0===b&&!a.tuix.back_link||2>b&&a.currentTopLevelPathHasRefiner))return!1;\nif(0<b&&c==a.branches[b].to){if(l.zenarioONotFull&&l.zenarioOMinPath&&c==l.zenarioOMinPath&&(l.zenarioODisallowRefinersLoopingOnMinPath||a.branches[b].from!=c))return!1;if(a.branches[b-1].bypasses[a.branches[b].from]&&a.knownBranches[a.branches[b].from]&&a.knownBranches[a.branches[b].from][a.branches[b].to]&&a.knownBranches[a.branches[b].from][a.branches[b].to][a.branches[b].refiners[a.branches[b].to]?a.branches[b].refiners[a.branches[b].to].name:1]&&\"item\"==a.knownBranches[a.branches[b].from][a.branches[b].to][a.branches[b].refiners[a.branches[b].to]?\na.branches[b].refiners[a.branches[b].to].name:1].substr(-4))return a._gFLP(b-1,a.branches[b].from,d,e,f,g,h,!0);q=!0;c=e?a.branches[b-1][d]:a.branches[b][d]}else if(a.branches[b][d])q=!0,c=a.branches[b][d];else if(p=k||c!=a.path?a._fPOM(c,\"back_link\"):a.tuix.back_link){if(l.zenarioONotFull&&l.zenarioOMinPath&&c==l.zenarioOMinPath&&(l.zenarioODisallowRefinersLoopingOnMinPath||p!=c))return!1;u=!0;c=a._fPOM(p,d)}else return!1;q?(h.path=a.branches[b].from,++h.pops):u&&p&&(h.path=p);if(0!=--f)if(q)m=a._gFLP(b-\n1,a.branches[b].from,d,e,f,g,h,!0);else if(u&&p)m=a._gFLP(b,p,d,e,f,g,h,!0);else return!1;return g?(m||(m=[]),m[m.length]=c,m):!1!==m?m:c};a.setNavigation=function(b){var c,d,e,f,g=-1,h,l,r,t=-1,w,z={items:[],selected1st:0};r=a.path;var y=a._gH(!0),x;a.sortedTopLevelItems||(a.sortedTopLevelItems=a._gSIOTE(a.map));a.currentTopLevelPathHasRefiner=!1;1<a.branches.length&&(r=a.branches[1].from);for(c in a.map)if(p(a.map,c)&&\"top_right_buttons\"!=c&&\"object\"==typeof a.map[c]&&a.map[c].nav)for(d in a.map[c].nav)p(a.map[c].nav,\nd)&&\"object\"==typeof a.map[c].nav[d]&&(x=c+\"/nav/\"+d+\"/panel\",a.map[c].nav[d].link&&a.map[c].nav[d].link.path&&(x=a.map[c].nav[d].link.path),r=(x+\"\").length,t<r&&(w=(y+\"/\").substr(0,r))&&(w==x||w==x+\"/\")&&(t=r,h=c,l=d));for(e in a.sortedTopLevelItems)if(p(a.sortedTopLevelItems,e)){c=a.sortedTopLevelItems[e];w=!0;y=-1;x=a.map[c];var B,E,A,I;if(\"top_right_buttons\"!=c&&!u._h(k,a,k,c,k,k,k,x)&&(E=z.items[++g]={id:c,items:[],selected:c===h,css_class:x.css_class,label:x.label||x.name,tooltip:x.tooltip,\nhref:x.href,onclick:x.onclick,youtube_video_id:x.youtube_video_id,youtube_thumbnail_title:x.youtube_thumbnail_title},a._sDA(x,E),c===h&&(z.selected1st=g),x.nav&&_._isOb(x.nav)))for(f in t=a._gSIOTE(x.nav),t)p(t,f)&&(d=t[f],B=x.nav[d],r=B.link&&B.link.path?B.link.path:c+\"/nav/\"+d+\"/panel\",c===h&&d===l&&(a.currentTopLevelPath=r,r.m(/\\/\\//)&&(a.currentTopLevelPathHasRefiner=!0)),u._h(k,a,k,d,B,k,k,x)||(A=B.css_class,!A&&b&&(I=a._fPOM(r,\"item\"))&&(A=I.css_class),A=E.items[++y]={id:d,selected:c===h&&d===\nl,href:B.href,onclick:B.onclick,css_class:A,label:B.label||B.name,tooltip:B.tooltip,item_css_class:A},B.href||B.onclick||(A.href=\"#\"+r,A.onclick=\"zenarioO._tLC('\"+W(c)+\"', '\"+W(d)+\"', \"+v(0==y)+\"); return false;\"),w&&(w=!1,E.href||E.onclick||(E.href=A.href,E.onclick=A.onclick))))}if(b)return z;m(\"organizer_leftColumn\").innerHTML=u._mT(\"zenario_organizer_nav\",z);q._to(\"#organizer_leftColumn #organizer_topLevelNav a[title]\",{position:{my:\"left+2 center\",at:\"right center\",collision:\"flipfit\"},show:!1,\nhide:!1});q._to(\"#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav a[title]\",{position:{my:\"left+2 center\",at:\"right center\",collision:\"flipfit\"}});var M=$(\"#organizer_topLevelNav\");$(\"#organizer_topLevelNavScrollUp\").mousehold(function(){a._sTLN(M,!0)},100);$(\"#organizer_topLevelNavScrollDown\").mousehold(function(){a._sTLN(M,!1)},100);a._sTLNSS(M)};a.scrollTopLevelNav=function(b,c){b.scrollTop(b.scrollTop()+(c?-50:50));a._sTLNSS(b)};a.setTopLevelNavScrollStatus=function(a){a||(a=$(\"#organizer_topLevelNav\"));\nvar c=$(\"#organizer_topLevelNavInner\").outerHeight()-a.innerHeight();0>=c?$(\"#organizer_topLevelNavScroll\").hide():($(\"#organizer_topLevelNavScroll\").show(),a=a.scrollTop(),0<a?$(\"#organizer_topLevelNavScrollUp\").addClass(\"organizer_scrollActive\"):$(\"#organizer_topLevelNavScrollUp\").removeClass(\"organizer_scrollActive\"),a<c?$(\"#organizer_topLevelNavScrollDown\").addClass(\"organizer_scrollActive\"):$(\"#organizer_topLevelNavScrollDown\").removeClass(\"organizer_scrollActive\"))};a.setDataAttributes=function(a,\nc){for(var d in a)p(a,d)&&\"data\"==d.substr(0,4)&&(c[d]=a[d])};a.setTopRightButtons=function(){delete a.map.top_right_buttons.ord;var b=a._gSIOTE(a.map.top_right_buttons),c=-1,d,e=[],f,g,h;for(h in b)p(b,h)&&(g=b[h],d=a.map.top_right_buttons[g],a._cBH(d)||(f=a._cD(d,g),e[++c]=a._sBA(\"zenarioO.topRightButtonClick\",d,f,g,k,k,\"\")));u._sBK(e);$(\"#organizer_top_right_buttons\").html(u._mT(\"zenario_organizer_top_right_button\",e));q._to(\"#organizer_top_right_buttons a[title]\",{position:{my:\"right center\",\nat:\"left center\",collision:\"flipfit\"},show:!1,hide:!1})};a.setButtons=function(){var b,c=a.tuix,d=0,e=a.pi.returnSelectedItems(),f;for(b in e)p(e,b)&&++d;1===d&&c.items&&c.items[b]&&(f=c.items[b].selected_label)&&_._iS(f)?($(\"#organizer_itemSelected\").text(f.r(/\\w/,function(a){return a.toLocaleUpperCase()})+\" \"+y.selected),$(\"#organizer_selected\").show()):$(\"#organizer_selected\").hide();a.itemsSelected=d;a.pi.showButtons($(\"#organizer_buttons\"));a._sCB();a._siBu()};a.sizeButtons=function(){var a=\nm(\"organizer_buttons\"),c=m(\"organizer_collectionToolbar\"),d=m(\"organizer_itemToolbar\"),e=m(\"organizer_collectionToolbarWrap\"),f=m(\"organizer_itemToolbarWrap\"),a=a&&$(a),c=c&&$(c),d=d&&$(d),e=e&&$(e),f=f&&$(f),g,h;a&&c&&(e.show(),a=a.width()-25,e.width(3E3),c.width(\"\"),g=c.width(),d&&d.is(\":visible\")?(f.width(3E3),d.width(\"\"),h=d.width(),g+h>a?h>a?(f.width(a),d.width(3E3),e.hide()):(f.width(\"\"),d.width(\"\"),e.width(a-h),c.width(3E3)):(f.width(\"\"),d.width(\"\"),e.width(\"\"),c.width(\"\"))):g>a?(e.width(a),\nc.width(3E3)):(e.width(\"\"),c.width(\"\")))};a.getQuickFilters=function(){var b=-1,c,d=[],e,f,g;for(g in a.sortedQuickFilterButtons)p(a.sortedQuickFilterButtons,g)&&(f=a.sortedQuickFilterButtons[g],c=a.tuix.quick_filter_buttons[f],a._cBH(c)||(e=a._cD(c,f),d[++b]=a._sBA(\"zenarioO.toggleQuickFilter\",c,e,f,k,k,\"\"),d[b].enabled=a._qFE(f)));u._sBK(d);return d};a.getCollectionButtons=function(b){var c=-1,d,e=[],f,g,h;for(h in a.sortedCollectionButtons)p(a.sortedCollectionButtons,h)&&(g=a.sortedCollectionButtons[h],\nd=a.tuix.collection_buttons[g],a._cBH(d)||!a.searchMatches&&(v(d.do_csv_export)||v(d.hide_when_no_search_results))||(f=a._cD(d,g),e[++c]=a._sBA(\"zenarioO.collectionButtonClick\",d,f,g)));u._sBK(e);b.collectionButtons=e};a.buttonsPrevHTML=\"\";a.fadeOutLastButtons=function(b,c,d){if(m(\"organizer_rightColumnOptions\")){var e=$(\"#organizer_collectionToolbar\"),f=$(\"#organizer_collectionToolbarButtons\"),g=$(\"#organizer_itemToolbar\"),h=$(\"#organizer_itemToolbarButtons\"),l=$(\"#organizer_previousToolbar\"),k=\n$(\"#organizer_previousToolbarButtons\");e.is(\":visible\")&&e.clearQueue().hide();g.is(\":visible\")&&g.clearQueue().hide();c?h.html(b):f.html(b);l.clearQueue().hide();d&&a.buttonsPrevHTML!=b?(a.buttonsPrevHTML&&(k.html(a.buttonsPrevHTML),l.show().fadeOut({duration:250,easing:\"zenarioLinearWithDelayAfterwards\",complete:function(){k.html(\"\")}})),c?g.css(\"animation\",\"none\").fadeIn({duration:250,easing:\"zenarioLinearWithDelayAfterwards\",complete:function(){g.css(\"animation\",\"\");g.addClass(\"yellow_flash\")}}):\ne.css(\"animation\",\"none\").fadeIn({duration:250,easing:\"zenarioLinearWithDelay\",complete:function(){e.css(\"animation\",\"\");e.addClass(\"white_flash\")}})):c?g.show():e.show();a.buttonsPrevHTML=b}};a.showCollectionButtons=function(b,c){a._fOLB(b,!1,c)};a.hideCollectionButtons=function(b){a._fOLB(\"\",!1,b)};a.showItemButtons=function(b,c){a._fOLB(b,!0,c)};a.hideItemButtons=function(b){a._fOLB(\"\",!0,b)};a.getItemButtons=function(b){var c,d=-1,e,f=[],g,h,l=a.pi.returnSelectedItems(),m=(c=a._gKI(!0))&&a.tuix.items&&\na.tuix.items[c],q=a.itemsSelected,r=a.tuix.item&&a.tuix.item.css_class;if(0<q)for(h in 1==q&&(r=m.css_class||r),a.sortedItemButtons)if(p(a.sortedItemButtons,h)){c=a.sortedItemButtons[h];e=a.tuix.item_buttons[c];var t=g=1;v(e.multiple_select)&&(g=e.multiple_select_max_items,v(e.multiple_select_only)&&(t=2),e.multiple_select_min_items&&(t=Math.max(t,e.multiple_select_min_items)));q<t||g&&q>g||a._cBH(e,l)||!a._cIBH(e,l)||(g=a._cD(e,c,l),f[++d]=a._sBA(\"zenarioO.itemButtonClick\",e,g,c,k,m),f[d].label=\na._aMFTL(e.label||e.name,!1,!0,e.multiple_select_label),f[d].tooltip=g&&e.disabled_tooltip?a._aMFTL(e.disabled_tooltip,!1,!0):a._aMFTL(e.tooltip,!1,!0,e.multiple_select_tooltip))}u._sBK(f);b.itemButtons=f;b.itemCSSClass=r;b.itemsSelected=q};a.setButtonAction=function(b,c,d,e,f,g,h){r(h)||(h=\"label_without_icon\");h={id:e,tuix:c,css_class:c.css_class||h,label:c.label||c.name,disabled:d};d?h.onclick=\"return false;\":c.navigation_path?h.href=g&&g.navigation_path?\"#/\"+g.navigation_path:\"#/\"+c.navigation_path:\nc.frontend_link?(h.href=g&&g.frontend_link?a._pRL(g.frontend_link):a._pRL(c.frontend_link),h.new_window=!!c.new_window):c.onclick?(h.onclick=c.onclick,f&&g&&(h.onclick=\"zenarioO._sI('\"+W(f)+\"'); zenario._st(event); \"+h.onclick)):h.onclick=b+\"('\"+W(e)+(r(f)?\"', '\"+W(f):\"\")+\"'); return false;\";h.tooltip=d&&c.disabled_tooltip?c.disabled_tooltip:c.tooltip;return h};a.checkDisabled=function(b,c,d){var e,f=k,g=k,h=a.tuix;if(v(b.disabled))return!0;if(d)for(e in d)if(p(d,e))if(r(g)){f=k;break}else g=e,f=\nh.items&&h.items[e];if(r(b.disabled_if)&&u._e(b.disabled_if,a,k,f,c,b))return!0;if(d&&r(b.disabled_if_for_any_selected_items))for(e in d)if(p(d,e)&&u._e(b.disabled_if_for_any_selected_items,a,k,h.items[e],e,b))return!0;if(d&&r(b.disabled_if_for_all_selected_items)){for(e in d)if(p(d,e)&&!u._e(b.disabled_if_for_all_selected_items,a,k,h.items[e],e,b))return!1;return!0}return!1};a.checkHiddenByFilter=function(b){var c=a.refiner,d=c&&c.name,e=b.hide_on_refiner;if(b.only_show_on_refiner){if(!c)return!0;\nif(\"object\"==typeof b.only_show_on_refiner){if(!v(b.only_show_on_refiner[d]))return!0}else if(d!=b.only_show_on_refiner)return!0}if(c&&e){if(1===1*e)return!0;if(\"object\"==typeof e){if(v(e[d]))return!0}else if(d==e)return!0}return a.filteredView&&v(b.hide_on_filter)?!0:!1};a.checkButtonHidden=function(b,c){var d,e=k,f=k;if(c)for(d in c)if(p(c,d))if(r(f)){f=e=k;break}else f=d,e=a.tuix.items&&a.tuix.items[d];return u._h(k,a,e,f,b)||l.zenarioONotFull&&b.frontend_link||l.zenarioOQuickMode&&v(b.hide_in_quick_mode)||\nl.zenarioOSelectMode&&v(b.hide_in_select_mode)||!(l.zenarioOQuickMode||!v(b.quick_mode_only)||l.zenarioOSelectMode&&v(b.select_mode_only))||!(l.zenarioOSelectMode||!v(b.select_mode_only)||l.zenarioOQuickMode&&v(b.quick_mode_only))||a._cHBF(b)||a._pNA(b.link)?!0:!1};var I={traits:{condition:function(a,c,d){return d.traits&&v(d.traits[c])}},without_traits:{condition:function(a,c,d){return!d.traits||!v(d.traits[c])}},with_columns_set:{condition:function(a,c,d){return v(u._pr(d,c))}},without_columns_set:{condition:function(a,\nc,d){return!v(u._pr(d,c))}}};I.one_with_traits=w._cl(I.traits,{one:!0});I.one_without_traits=w._cl(I.without_traits,{one:!0});I.one_with_columns_set=w._cl(I.with_columns_set,{one:!0});I.one_without_columns_set=w._cl(I.without_columns_set,{one:!0});a.checkItemButtonHidden=function(b,c){var d,e,f,g,h,l=!1,m,q=a.tuix;if(!b)return!0;if(r(b.visible_if_for_all_selected_items))for(d in c)if(p(c,d)&&!u._e(b.visible_if_for_all_selected_items,a,k,q.items[d],d,b))return!1;if(r(b.visible_if_for_any_selected_items)){for(d in c)if(p(c,\nd)&&u._e(b.visible_if_for_any_selected_items,a,k,q.items[d],d,b)){l=!0;break}if(!l)return!1}l=!0;for(e in I)if(p(I,e)){h=I[e];if(b[e])for(d in f=u._tTA(b[e]),l=!h.one,c)if(p(c,d)){m=!0;for(g in f)if(!h.condition(d,f[g],q.items[d])){m=!1;break}if(h.one){if(m){l=!0;break}}else if(!m){l=!1;break}}if(!l)break}return l};a.checkItemPickable=function(b){var c={};c[b]=!0;return a._cIBH(l.zenarioOSelectObject,c)&&!a._cD(l.zenarioOSelectObject,k,c)};a.getInlineButtons=function(b){var c=-1,d=[],e,f,g;for(g in a.sortedInlineButtons)p(a.sortedInlineButtons,\ng)&&(f=a.sortedInlineButtons[g],button=a.tuix.inline_buttons[f],e={},e[b]=!0,!a._cBH(button,e)&&a._cIBH(button,e)&&(e=a._cD(button,f,e),d[++c]=a._sBA(\"zenarioO.inlineButtonClick\",button,e,f,b,a.tuix.items[b]),d[c].tooltip&&(d[c].tooltip=a._aMF(d[c].tooltip,!1,b)),d[c].label&&(d[c].label=a._aMF(d[c].label,!1,b))));return d.length?d:k};a.chooseButtonActive=function(){return l.zenarioOSelectMode&&(a.path==l.zenarioOTargetPath||!1===l.zenarioOTargetPath)};a.setChooseButton=function(){if(l.zenarioOSelectMode){var b=\nl.zenarioOChoosePhrase||y.choose,c=!0,d=\"submit_disabled\",e=a.pi.returnSelectedItems();a._cBA()&&a._cIBH(l.zenarioOSelectObject,e)&&!a._cD(l.zenarioOSelectObject,k,e)&&(0<a.itemsSelected||l.zenarioOAllowNoSelection)&&(1>=a.itemsSelected||l.zenarioOMultipleSelect)?(c=!1,d=l.zenarioOChooseButtonActiveClass?\"submit_selected\":\"submit\",0==a.itemsSelected&&l.zenarioOAllowNoSelection&&l.zenarioONoSelectionChoosePhrase?b=l.zenarioONoSelectionChoosePhrase:1<a.itemsSelected&&l.zenarioOChooseMultiplePhrase&&\n(b=l.zenarioOChooseMultiplePhrase)):l.zenarioOAllowNoSelection&&l.zenarioONoSelectionChoosePhrase&&(b=l.zenarioONoSelectionChoosePhrase);m(\"organizer_choose_button\").disabled=c;m(\"organizer_choose_button\").className=d;m(\"organizer_choose_button\").value=t(b)}};a.getCurrentPage=function(){return a.page};a.getPageCount=function(){a.thisPageSize&&r(a.searchMatches)?a.pageCount=Math.ceil(a.searchMatches/a.thisPageSize):a.pageCount=1;return a.pageCount};a.setPanelTitle=function(){if(a.pi&&a.tuix&&m(\"organizer_rightColumnTitle\")){m(\"organizer_rightColumnTitle\").style.display=\n\"\";var b=a.pi.returnPanelTitle();a.tuix.item&&a.tuix.item.css_class?m(\"organizer_panelTitle\").innerHTML='<div class=\"listicon organizer_item_image '+a.tuix.item.css_class+'\"></div><div>'+t(b)+\"</div>\":m(\"organizer_panelTitle\").innerHTML=t(b);Math.max(0,($(\"#organizer_rightColumnTitle\").width()||0)-75-($(\"#organizer_collectionToolbar\").width()||90));q._sTITL(\"#organizer_panelTitle\",b,q.tooltipLengthThresholds.organizerPanelTitle);q.isFullOrganizerWindow&&(V.title=a.pageTitle+y.colon+b)}};a.setTrash=\nfunction(){!l.zenarioOSelectMode&&a.tuix&&a.tuix.trash?(m(\"organizer_trash_button\").style.display=\"\",m(\"organizer_trash_button\").className=v(a.tuix.trash.empty)?a.tuix.trash.empty_css_class||\"trash_button_empty\":a.tuix.trash.full_css_class||\"trash_button_full\",q._to(\"#organizer_trash_button a\",{position:{my:\"center bottom-12\",at:\"center top\",collision:\"flipfit\",using:w.tooltipsUsing},items:\"*\",content:v(a.tuix.trash.empty)?a.tuix.trash.empty_tooltip||y.viewTrash:a.tuix.trash.full_tooltip||y.viewTrash})):\nm(\"organizer_trash_button\").style.display=\"none\"};a.getItemCSSClass=function(b){return a.tuix.items[b].css_class?a.tuix.items[b].css_class:a.tuix.item?a.tuix.item.css_class:k};a.setOrganizerIcons=function(){var a,c=u.div,d=[],e=[],f;u._sDT()&&e.push([c(\"id\",\"organizer_debug_button\",\"class\",\"zenario_debug\",\"onmouseover\",\"zenarioO._iB(this);\",\"onclick\",\"zenarioO._cIB(); zenarioA._d('zenarioO');\",c()),99]);if(q.isFullOrganizerWindow&&!q.openedInIframe){e.push([u._mT(\"zenario_organizer_top_right_icons\",\n{}),1]);c=w._sS(\"eventSetOrganizerIcons\");for(a in c)p(c,a)&&(f=c[a],f[\"\\u2197\"]&&(e=e.concat(f[\"\\u2197\"])),f[\"\\u2199\"]&&(d=d.concat(f[\"\\u2199\"])));d.sort(u.sortArray);e.sort(u.sortArray)}for(a in d)p(d,a)&&(d[a]=d[a][0]);for(a in e)p(e,a)&&(e[a]=e[a][0]);$(\"#organizer_lowerLeftColumn\").html(d.join(\"\\n\"));$(\"#organizer_topRightIcons\").html(e.join(\"\\n\"))};a.closeSelectMode=function(){a._cIB();q.isFullOrganizerWindow?(E.zenarioA._cB(\"AdminOrganizer\",!0),a.go(a.defaultPathInIframePreload),q._sAL()):\n(a.go(a.defaultPathInIframePreload),q._cB(\"og\"));return a.firstLoaded=!1};a.choose=function(){if(a.lastSuccessfulGoNum==a.goNum&&E&&l.zenarioOSelectMode&&(a.path==l.zenarioOTargetPath||!1===l.zenarioOTargetPath)&&(0<a.itemsSelected||l.zenarioOAllowNoSelection)&&(1>=a.itemsSelected||l.zenarioOMultipleSelect)){a._stRe();var b=a._gK(!0),c=a.path,d=w._cl(a.tuix),e;e=a.pi.returnSelectedItems();var f=!1;b._items={};for(var g in e)if(p(e,g)&&(b._items[g]=!0,!l.zenarioOMultipleSelect))break;!l.zenarioOMultipleSelect&&\nb.id?(e=d.items[b.id],e.__label_tag__=a.defaultSortColumn):e={};a._cSM();_._isFu(l.zenarioOCallbackObject)?f=l.zenarioOCallbackObject:_._isFu(l.zenarioOCallbackFunction)&&(f=l.zenarioOCallbackFunction);if(f)l.zenarioOMultipleSelect?f(c,b,k,d):f(c,b,e,d);else if(l.zenarioOMultipleSelect)E[l.zenarioOCallbackObject][l.zenarioOCallbackFunction](c,b,k,d);else E[l.zenarioOCallbackObject][l.zenarioOCallbackFunction](c,b,e,d)}};a.infoBox=function(a){var c=u._mT(\"zenario_organizer_debug_info\",{});q._oB(c,\n\"zenario_fbDebugInfoBox\",\"DebugInfoBox\",a,600,-286,28,!1,!1,k,k,k,k,!1,!1)};a.closeInfoBox=function(){q._cB(\"DebugInfoBox\")};a.yourWorkInProgressLastUpdated=0;a.updateYourWorkInProgress=function(){var b=(new Date).getTime(),c;a.yourWorkInProgressLastUpdated-b<-a.yourWorkInProgressLastUpdateFrequency&&(c=$(\"#zenario_ywip_dropdown\"))&&(a.yourWorkInProgressLastUpdated=b,c.removeClass(\"zenario_ywip_loaded\").addClass(\"zenario_ywip_loading\"),b=M+\"zenario/admin/organizer.ajax.php?path=zenario__content/panels/content&_sort_col=last_modified_datetime&_sort_desc=1&_start=0&_limit=\"+\na.yourWorkInProgressItemCount+\"&refinerId=&refinerName=work_in_progress&refiner__work_in_progress=&_get_item_data=1\",w._a(b,!1,!0,!0).after(function(a){a=u._mT(\"zenario_ywip\",a);c.removeClass(\"zenario_ywip_loading\").addClass(\"zenario_ywip_loaded\").html(a)}))};$(V).ready(function(){setTimeout(a.updateYourWorkInProgress,100)});a.sizing=!1;a.lastSize=!1;a.size=function(b){var c=46,d=57,e=30,c=35,f=55,g=m(\"zenario_fbog\"),h=$(g),k,p;a.sizing&&clearTimeout(a.sizing);if(m(\"organizer__box_wrap\")){q.isFullOrganizerWindow?\n(k=Math.floor($(l).width()),p=Math.floor($(l).height())):(k=Math.floor(h.width()),p=Math.floor(h.height()));if(k&&p&&(k<q.orgMinWidth&&(k=q.orgMinWidth),400>p&&(p=400),b||a.lastSize!=k+\"x\"+p)){a.showLeftColumn=a.pi?a.pi.returnShowLeftColumn():!l.zenarioONotFull;b=m(\"organizer_rightColumnContent\");var r=m(\"organizer_lowerLeftColumn\"),t=m(\"organizer_lowerMiddleColumn\"),u=m(\"organizer_lowerRightColumn\"),v=a._geHe(),x=$(b),z=$(t),y=$(\"#organizer_buttons\"),A=$(\"#organizer_bottomWrap\");v.is(\":visible\")||\n(f=0);y.is(\":visible\")||(e=0);A.is(\":visible\")||(d=0);g&&(g.className=q._gSBC(l,a.pi&&a.pi.panelType));q.isFullOrganizerWindow||h.height(p);m(\"organizer_rightColumn\").style.height=m(\"organizer_preloader_circle\").style.height=1*p-c-d+\"px\";m(\"organizer_leftColumn\").style.height=1*p-c-d-2+\"px\";m(\"organizer_Outer\").style.height=1*p-c+\"px\";m(\"organizer_colsortfields\")&&(w._bII(6)?m(\"organizer_colsortfields\").style.height=1*p-c-130+\"px\":m(\"organizer_colsortfields\").style.maxHeight=1*p-c-130+\"px\");c=1*p-\nc-d-40-e-2-a.columnPadding+0-f-13;b&&(b.style.height=c+\"px\");a.showLeftColumn?(c=204,m(\"organizer_leftColumn\").style.display=m(\"organizer_leftColumnOuter\").style.display=\"\"):(c=0,m(\"organizer_leftColumn\").style.display=m(\"organizer_leftColumnOuter\").style.display=\"none\");m(\"organizer__box_top\").style.width=m(\"organizer__box_wrap\").style.width=m(\"organizer__box_center\").style.width=m(\"organizer__box_bottom\").style.width=k-0+\"px\";m(\"organizer_Outer\").style.width=k-22+\"px\";m(\"organizer_wrapInner_bm\").style.width=\nk-32+\"px\";m(\"organizer_wrapOuter_tm\").style.width=k-0+\"px\";m(\"organizer_rightColumn\").style.width=m(\"organizer_preloader_circle\").style.width=k-30-c+\"px\";m(\"organizer_rightColumnTitle\")&&(m(\"organizer_rightColumnTitle\").style.width=k-30-c-2+\"px\");b&&(b.style.width=k-30-c-2+\"px\");l.zenarioOSelectMode?m(\"organizer_choose_button\").style.display=\"inline\":m(\"organizer_choose_button\").style.display=\"none\";825>=k?(r.style.width=\"40%\",t.style.width=\"49%\",u.style.width=\"10%\"):965>=k?(r.style.width=\"35%\",t.style.width=\n\"49%\",u.style.width=\"15%\"):1155>=k?(r.style.width=\"30%\",t.style.width=\"49%\",u.style.width=\"20%\"):1155<=k&&(r.style.width=\"25%\",t.style.width=\"49%\",u.style.width=\"25%\");a._sPT();a.pi&&a.pi.sizePanel(v,x,z,y);a._siBu();a.lastSize=k+\"x\"+p;a._sTLNSS()}if(w._bII()&&m(\"organizer_rightColumnContent\"))if(w._bII(8)){if(k=m(\"organizer_Outer\"))k.onselectstart=function(){return!1}}else{if(k=m(\"organizer_leftColumnOuter\"))k.onselectstart=function(){return!1};if(k=m(\"organizer_itemCountWrap\"))k.onselectstart=function(){return!1};\nif(k=m(\"organizer_rightColumn\"))k.onselectstart=function(){return!(1<a.itemsSelected)}}a.sizing=setTimeout(a.size,500)}};w._sN(a);S.init(\"zenarioVO\",\"zenario_filters\");w._sN(S);a._reBr()});\n", "<?php\n/*\n * Copyright (c) 2020, Tribal Limited\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Zenario, Tribal Limited nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL TRIBAL LTD BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nif (!defined('NOT_ACCESSED_DIRECTLY')) exit('This file may not be directly accessed');\n\n\n\n\n\nclass zenario_forum extends zenario_comments {\n\t\n\tprotected $useCannonicalURLs = true;\n\tprotected $siteDefaultLanguage = false;\n\tprotected $forumNotSetUp = false;\n\tprotected $allow_uploads = false;\n\tstatic $forum_post_upload_dbkey = 'form_post_upload';\n\t\n\tpublic function fillOrganizerPanel($path, &$panel, $refinerName, $refinerId, $mode) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\tpublic function handleOrganizerPanelAJAX($path, $ids, $ids2, $refinerName, $refinerId) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\t\n\tpublic function fillAdminSlotControls(&$controls) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tpublic function handleAJAX() {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tpublic function fillAdminBox($path, $settingGroup, &$box, &$fields, &$values) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tpublic function formatAdminBox($path, $settingGroup, &$box, &$fields, &$values, $changes) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tpublic function validateAdminBox($path, $settingGroup, &$box, &$fields, &$values, $changes, $saving) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tpublic function saveAdminBox($path, $settingGroup, &$box, &$fields, &$values, $changes) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\t\n\t\n\t//Check the forum table for the current page, using Translations if needed to check for language equivalent\n\tprotected function checkPageType($field) {\n\t\t\n\t\t$cID = $cType = false;\n\t\tif ($forumId = ze\\row::get(ZENARIO_FORUM_PREFIX. \"forums\", 'id', [$field. '_content_id' => $this->cID, $field. '_content_type' => $this->cType])) {\n\t\t\treturn $forumId;\n\t\t\n\t\t} elseif (ze\\content::langEquivalentItem($cID, $cType, ze::$defaultLang) &&\n\t\t  ($forumId = ze\\row::get(ZENARIO_FORUM_PREFIX. \"forums\", 'id', [$field. '_content_id' => $this->cID, $field. '_content_type' => $this->cType]))) {\n\t\t\treturn $forumId;\n\t\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t\n\t\n\t\n\tpublic function init() {\n\t\tif($this->setting('allow_uploads')) {\n\t\t\t$this->allow_uploads = true;\n\t\t\t$this->form_encode_type = 'multipart/form-data';\n\t\t\t$this->sections['Show_File_Uploads'] = true;\n\t\t}\n\t\t\n\t\tif (!$this->setting('show_user_online_status')) {\n\t\t\t$this->allowCaching(\n\t\t\t\t$atAll = true, $ifUserLoggedIn = false, $ifGetSet = true, $ifPostSet = false, $ifSessionSet = true, $ifCookieSet = true);\n\t\t\t$this->clearCacheBy(\n\t\t\t\t$clearByContent = false, $clearByMenu = false, $clearByUser = true, $clearByFile = true, $clearByModuleData = true);\n\t\t}\n\t\t\n\t\tif (ze::in(ze\\content::isSpecialPage($this->cID, $this->cType), 'zenario_no_access', 'zenario_not_found', 'zenario_logout')) {\n\t\t\treturn $this->show = false;\n\t\t}\n\t\t\n\t\t$this->page = (int) ($_REQUEST['comm_page'] ?? 1) ?: 1;\n\t\t\n\t\t//Check to see if the current content item has a forum\n\t\tif ($this->forumId = $this->checkPageType('forum')) {\n\t\t\tif (!$this->loadForumInfo()) {\n\t\t\t\treturn $this->show = false;\n\t\t\t\n\t\t\t} elseif (($_REQUEST['comm_request'] ?? false) == 'add_thread' && $this->newThreadPageIsForumPage() && $this->canMakeThread()) {\n\t\t\t\t$this->mode = 'showAddThread';\n\t\t\t\t$this->useCannonicalURLs = false;\n\t\t\t\t$this->allowCaching(false);\n\t\t\t\t$_GET['comm_enter_text'] = 1;\n\t\t\t\n\t\t\t} elseif (($_REQUEST['forum_thread'] ?? false) && $this->threadPageIsForumPage() && $this->loadThreadInfo()) {\n\t\t\t\t$this->mode = 'showPosts';\n\t\t\t\t$this->useCannonicalURLs = false;\n\t\t\t\t$this->allowCaching(false);\n\t\t\t\n\t\t\t} else {\n\t\t\t\t$this->mode = 'showThreads';\n\t\t\t}\n\t\t\t\n\t\t//If not, check to see if the current content item is used for a different forum as a thread page...\n\t\t} elseif ($this->forumId = $this->checkPageType('thread')) {\n\t\t\tif ($this->loadForumInfo()) {\n\t\t\t\tif ($this->loadThreadInfo()) {\n\t\t\t\t\t$this->mode = 'showPosts';\n\t\t\t\t} else {\n\t\t\t\t\tif ($_REQUEST['forum_thread'] ?? false) {\n\t\t\t\t\t\t$this->clearRequest('forum_thread');\n\t\t\t\t\t\tif ($this->loadThreadInfo()) {\n\t\t\t\t\t\t\t$this->mode = 'showPosts';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn $this->show = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn $this->show = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn $this->show = false;\n\t\t\t}\n\t\t\t\n\t\t//...or if the current content item is used for a different forum as a new thread page\n\t\t} elseif ($this->forumId = $this->checkPageType('new_thread')) {\n\t\t\tif ($this->loadForumInfo() &&$this->canMakeThread()) {\n\t\t\t\t$this->mode = 'showAddThread';\n\t\t\t\t$_GET['comm_enter_text'] = 1;\n\t\t\t\n\t\t\t} else {\n\t\t\t\treturn $this->show = false;\n\t\t\t}\n\t\t\n\t\t} else {\n\t\t\t$this->forumNotSetUp = true;\n\t\t\treturn $this->show = false;\n\t\t}\n\t\t\n\t\t\n\t\tif ($this->useCannonicalURLs) {\n\t\t\t$this->registerGetRequest('forum_thread');\n\t\t\t$this->registerGetRequest('comm_request');\n\t\t\t$this->registerGetRequest('comm_page', 1);\n\t\t}\n\t\t\n\t\t\n\t\tif ($this->mode == 'showPosts') {\n\t\t\t\n\t\t\tif ($_SESSION['extranetUserID'] ?? false) {\n\t\t\t\t$this->markThreadCheckUserIsInTable($_SESSION['extranetUserID'] ?? false);\n\t\t\t\t$this->markThreadAsRead($_SESSION['extranetUserID'] ?? false);\n\t\t\t}\n\t\t\t\n\t\t\t$this->loadPagination();\n\t\t\t$this->loadPosts();\n\t\t\t\n\t\t\t$this->threadActionHandler();\n\t\t\t\n\t\t\t$this->threadSelectMode();\n\t\t\t\n\t\t\tif ($this->useCannonicalURLs) {\n\t\t\t\t$this->setPageTitle($this->thread['title']);\n\t\t\t\t$this->setMenuTitle($this->thread['title']);\n\t\t\t}\n\t\t\n\t\t} elseif ($this->mode == 'showAddThread') {\n\t\t\t\n\t\t\tif ($_SESSION['extranetUserID'] ?? false) {\n\t\t\t\t$this->markThreadCheckUserIsInTable($_SESSION['extranetUserID'] ?? false);\n\t\t\t}\n\t\t\t\n\t\t\t$failure = false;\n\t\t\tif (isset($_POST['comm_title']) && empty($_POST['comm_title'])) {\n\t\t\t\t//complain about required fields\n\t\t\t\t$failure = true;\n\t\t\t\t$this->postingErrors[] = ['Error' => $this->phrase('_ERROR_TITLE')];\n\t\t\t}\n\t\t\tif (isset($_POST['comm_message']) && empty($_POST['comm_message'])) {\n\t\t\t\t//complain about required fields\n\t\t\t\t$failure = true;\n\t\t\t\t$this->postingErrors[] = ['Error' => $this->phrase('_ERROR_MESSAGE')];\n\t\t\t}\n\t\t\t\n\t\t\tif (!empty($_POST['comm_title']) && !empty($_POST['comm_message'])) {\n\t\t\t\t$this->addThread($_SESSION['extranetUserID'] ?? false, $_POST['comm_title'], $_POST['comm_message']);\n\t\t\t\t\n\t\t\t\t$this->clearRequest('comm_post');\n\t\t\t\t$this->clearRequest('comm_request');\n\t\t\t\t$this->clearRequest('comm_confirm');\n\t\t\t\t$this->clearRequest('comm_enter_text');\n\t\t\t\t\n\t\t\t\t$this->headerRedirect($this->linkToItem($this->forum['thread_content_id'], $this->forum['thread_content_type'], true, '&forum_thread='. $this->threadId));\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\t//Show the form again and get the User to enter the required fields\n\t\t\t}\n\t\t\t\n\t\t\t$this->showPostScreen($this->phrase('_MESSAGE:'), $this->phrase('_ADD_THREAD'), 'none', $this->phrase('_TITLE:'));\n\t\t\n\t\t} elseif ($this->mode == 'showThreads') {\n\t\t\t\n\t\t\tif ($_SESSION['extranetUserID'] ?? false) {\n\t\t\t\t$this->markThreadCheckUserIsInTable($_SESSION['extranetUserID'] ?? false);\n\t\t\t}\n\t\t\t\n\t\t\t$this->forumActionHandler();\n\t\t\t\n\t\t\t$this->loadPagination();\n\t\t\t$this->loadThreads();\n\t\t\t$this->forumSelectMode();\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\treturn true;\n\t}\n\t\n\tfunction showPostScreenTopFields($titleText) {\n\t\tif ($titleText !== false) {\n\t\t\t$this->sections['Show_Post_Title'] = true;\n\t\t\t\n\t\t\tif (isset($_POST['comm_title'])) {\n\t\t\t\t$this->sections['Post_Message']['Post_Title'] = htmlspecialchars($_POST['comm_title']);\n\t\t\t\n\t\t\t} else {\n\t\t\t\t$this->sections['Post_Message']['Post_Title'] =  htmlspecialchars(ze\\ray::value($this->thread, 'title'));\n\t\t\t}\n\t\t\t\n\t\t\t$this->sections['Post_Message']['Post_Title'] = '<input type=\"text\" id=\"comm_title\" name=\"comm_title\" maxlength=\"255\" value=\"'. $this->sections['Post_Message']['Post_Title']. '\"/>';\n\t\t\t\n\t\t\t\n\t\t\t$this->sections['Post_Message']['Title_Text'] = $titleText;\n\t\t}\n\t}\n\t\n\t\n\t//Add a comment onto the thread\n\tfunction addReply($userId, &$messageText, $firstPost = 0, $name = '', $email = '') {\n\t\treturn require ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\t//Add a new thread\n\tfunction addThread($userId, &$threadTitle, &$messageText) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tfunction calcForumPostCount($forumId, $quickAdd = false, $userId = false, $firstPost = false) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tfunction calcThreadPostCount($threadId, $quickAdd = false, $userId = false) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tfunction calcUserPostCount($userId, $quickAdd = false) {\n\t\t\n\t\t//Update the user's post count\n\t\tif ($quickAdd) {\n\t\t\t$sql = \"\n\t\t\t\tUPDATE \". DB_PREFIX. ZENARIO_COMMENTS_PREFIX. \"users SET\n\t\t\t\t\tpost_count = post_count + 1\n\t\t\t\tWHERE user_id = \". (int) $userId;\n\t\t} else {\n\t\t\t$sql = \"\n\t\t\t\tUPDATE \". DB_PREFIX. ZENARIO_COMMENTS_PREFIX. \"users SET\n\t\t\t\t\tpost_count = (\n\t\t\t\t\t\tSELECT COUNT(*)\n\t\t\t\t\t\tFROM \". DB_PREFIX. ZENARIO_ANONYMOUS_COMMENTS_PREFIX. \"user_comments\n\t\t\t\t\t\tWHERE poster_id = \". (int) $userId. \"\n\t\t\t\t\t) + (\n\t\t\t\t\t\tSELECT COUNT(*)\n\t\t\t\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_posts\n\t\t\t\t\t\tWHERE poster_id = \". (int) $userId. \"\n\t\t\t\t\t)\n\t\t\t\tWHERE user_id = \". (int) $userId;\n\t\t}\n\t\t\n\t\t$result = ze\\sql::update($sql);\n\t}\n\t\n\t\n\tfunction canDeleteThread() {\n\t\treturn $this->modPrivs;\n\t}\n\t\n\t\n\tfunction canEditFirstPost(&$post) {\n\t\tif (empty($post['first_post'])) {\n\t\t\treturn false;\n\t\t} elseif ($this->modPrivs) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn ($_SESSION['extranetUserID'] ?? false)\n\t\t\t\t&& $this->setting('allow_user_edit_own_post')\n\t\t\t\t&& $post['poster_id'] == ($_SESSION['extranetUserID'] ?? false)\n\t\t\t\t&& !$this->locked();\n\t\t}\n\t}\n\t\n\t\n\tfunction canMakeThread() {\n\t\tif (ze::setting('user_use_screen_name')) {\n\t\t\t$confirmed = self::getUserScreenNameConfirmed(ze\\user::id());\n\t\t} else {\n\t\t\t$confirmed = true;\n\t\t}\n\t\treturn $confirmed && !$this->lockedForum() && $this->newThreadPrivs;\n\t}\n\t\n\tfunction canMoveThread() {\n\t\treturn ze\\priv::check('_PRIV_MODERATE_USER_COMMENTS')\n\t\t\t&& ($result = ze\\row::query(ZENARIO_FORUM_PREFIX. 'forums', ['id'], []))\n\t\t\t&& ($row = ze\\sql::fetchAssoc($result))\n\t\t\t&& ($row['id'] != $this->forumId || (\n\t\t\t   ($row = ze\\sql::fetchAssoc($result))\n\t\t\t&& ($row['id'] != $this->forumId)));\n\t}\n\t\n\tfunction canLockThread() {\n\t\treturn $this->modPrivs && !$this->locked() && !$this->lockedForum();\n\t}\n\t\n\tfunction canUnlockThread() {\n\t\treturn $this->modPrivs && $this->locked() && !$this->lockedForum();\n\t}\n\t\n\tfunction canSubsThread() {\n\t\treturn ($_SESSION['extranetUserID'] ?? false) && $this->setting('enable_thread_subs');\n\t}\n\t\n\tfunction canSubsForum() {\n\t\treturn ($_SESSION['extranetUserID'] ?? false) && $this->setting('enable_forum_subs');\n\t}\n\t\n\tfunction couldSubsForum() {\n\t\treturn !($_SESSION['extranetUserID'] ?? false) && $this->setting('enable_forum_subs') && !$this->locked();\n\t}\n\t\n\tfunction hasSubsThread() {\n\t\treturn ze\\row::exists(\n\t\t\tZENARIO_COMMENTS_PREFIX. 'user_subscriptions',\n\t\t\t[\n\t\t\t\t'user_id' => ($_SESSION['extranetUserID'] ?? false),\n\t\t\t\t'forum_id' => $this->forumId,\n\t\t\t\t'thread_id' => $this->threadId]);\n\t}\n\t\n\tfunction hasSubsForum() {\n\t\treturn ze\\row::exists(\n\t\t\tZENARIO_COMMENTS_PREFIX. 'user_subscriptions',\n\t\t\t[\n\t\t\t\t'user_id' => ($_SESSION['extranetUserID'] ?? false),\n\t\t\t\t'forum_id' => $this->forumId,\n\t\t\t\t'thread_id' => 0]);\n\t}\n\t\n\tfunction checkConfirmKey() {\n\t\treturn ($_GET['comm_key'] ?? false) && ($_GET['comm_key'] ?? false) == ($_SESSION['confirm_key'] ?? false);\n\t}\n\t\n\t\n\tfunction runCheckPrivs() {\n\t\t\n\t\tzenario_comments::runCheckPrivs();\n\t\t\n\t\t$this->newThreadPrivs =\n\t\t\t($_SESSION['extranetUserID'] ?? false) && (\n\t\t\t\t\t$this->modPrivs\n\t\t\t\t || !$this->setting('enable_new_thread_restrictions')\n\t\t\t\t || !$this->setting('restrict_new_thread_to_group')\n\t\t\t\t || ze\\user::isInGroup($this->setting('restrict_new_thread_to_group'))\n\t\t\t);\n\t}\n\n\t\n\t\n\tfunction deleteThread() {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tprotected function manageOneUpload($postId, $location, $file_name){\n\t\tif($this->allow_uploads){\n\t\t\tif(!$location || !strlen($location)) return;\n\t\t\tif ($fileId = ze\\file::addToDatabase(self::$forum_post_upload_dbkey, $location, $file_name, false, false, true)) {\n\t\t\t\t$using_ids = ['file_id' => (int)$fileId, 'post_id' => (int)$postId];\n\t\t\t\t$using_values = $using_ids;\n\t\t\t\t$using_values['caption'] = ze\\escape::sql($file_name);\n\t\t\t\tze\\row::set(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', $using_values, $using_ids);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction startswith($haystack, $needle) {\n\t\treturn substr($haystack, 0, strlen($needle)) === $needle;\n\t}\n\n\tfunction split_str_value_to_value($haystack, $needle) {\n\t\t$key_size = strlen($needle);\n\t\tif(substr($haystack, 0, $key_size) === $needle){\n\t\t\treturn substr($haystack, $key_size);\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tprotected function manageUploads($postId){\n\t\tif($this->allow_uploads){\n\t\t\t\n\t\t\tif($postId){\n\t\t\t\tforeach($_POST as $key => $value){\n\t\t\t\t\t$file_id = $this->split_str_value_to_value($key, 'file_caption_');\n\t\t\t\t\tif(is_numeric($file_id) && strlen($value)){\n\t\t\t\t\t\tze\\row::set(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', ['caption' => ze\\escape::sql($value)], \n\t\t\t\t\t\t\t['post_id' => (int)$postId, 'file_id' => (int)$file_id]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t/*\n\t\t\tfor($i=1; $i <= 5; ++$i){\n\t\t\t\t$upload_field =  'post_upload' . $i;\n\t\t\t\tif (!empty($_FILES[$upload_field])){\n\t\t\t\t\t$this->manageOneUpload($postId, $_FILES[$upload_field]['tmp_name'], $_FILES[$upload_field]['name']);\n\t\t\t\t}\n\t\t\t}\n\t\t\t*/\n\t\t\t//multiple files upload\n\t\t\tif(!empty($_FILES['filesToUpload'])){\n\t\t\t\t$filesToUpload = &$_FILES['filesToUpload'];\n\t\t\t\t$files_count = count($filesToUpload['name']);\n\t\t\t\tfor($i=0; $i < $files_count; ++$i){\n\t\t\t\t\tif (empty($filesToUpload['error'][$i])) {\n\t\t\t\t\t\t$this->manageOneUpload($postId, $filesToUpload['tmp_name'][$i], $filesToUpload['name'][$i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(!empty($_POST['remove_files'])){\n\t\t\t\t$filesToRemove = &$_POST['remove_files'];\n\t\t\t\t$files_count = count($filesToRemove);\n\t\t\t\tfor($i=0; $i < $files_count; ++$i){\n\t\t\t\t\t$this->deleteOneUpload($postId, $filesToRemove[$i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tprotected function deleteOneUploadFile($file_id){\n\t\tif($this->allow_uploads){\n\t\t\tif(!ze\\row::get(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', 'file_id', ['file_id' => (int)$file_id])){\n\t\t\t\tze\\file::delete($file_id);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprotected function deleteOneUpload($postId, $file_id){\n\t\tif($this->allow_uploads){\n\t\t\tze\\row::delete(ZENARIO_FORUM_PREFIX. 'user_posts_uploads', ['post_id' => (int)$postId, 'file_id' => (int)$file_id]);\n\t\t\t$this->deleteOneUploadFile($file_id);\n\t\t}\n\t}\n\t\n\tprotected function deleteUploads($postId){\n\t\tif($this->allow_uploads){\n\t\t\t\n\t\t\tze\\row::delete(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', ['post_id' => $postId]);\n\t\t\t$file_list = ze\\row::getValues(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', 'file_id', ['post_id' => $postId], false, false,\n\t\t\t\t\tDB_PREFIX.ZENARIO_FORUM_PREFIX);\n\t\t\tif(is_array($file_list)){\n\t\t\t\tforeach($file_list as $file_id){\n\t\t\t\t\t$this->deleteOneUploadFile($file_id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprotected function getExtraPostInfo(&$post, &$mergeFields, &$sections, $to_edit=false){\n\t\t$post_uploads = ze\\row::getAssocs(ZENARIO_FORUM_PREFIX . 'user_posts_uploads', ['file_id','caption'], \n\t\t\t\t['post_id' => $post['id']], false);\n\t\tif(is_array($post_uploads)){\n\t\t\t$mysection = 'Post_Uploads_Links';\n\t\t\tif($to_edit) $mysection .= '_To_Edit';\n\t\t\t\n\t\t\t$upload_links = [];\n\t\t\tforeach($post_uploads as $rec){\n\t\t\t\t$url = '';\n\t\t\t\t$width = $this->setting('image_thumbnail_width');\n\t\t\t\t$height = $this->setting('image_thumbnail_height');\n\t\t\t\t$file_id = $rec['file_id'];\n\t\t\t\t$caption = $rec['caption'];\n\t\t\t\tze\\file::imageLink($width, $height, $url, $file_id, $width, $height);\n\t\t\t\t\n\t\t\t\t$file_link = ze\\file::link($file_id);\n\t\t\t\t\n\t\t\t\t$upload_links[] = ['File_Link' => $file_link, 'File_Thumbnail' => $url, \n\t\t\t\t\t\t'Caption' => htmlspecialchars($caption), 'File_Id' => $file_id,\n\t\t\t\t\t\t'Post_Id' => $post['id'],\n\t\t\t\t\t\t'File_Extension' => strtoupper(pathinfo($file_link, PATHINFO_EXTENSION))\n\t\t\t\t];\n\t\t\t}\n\t\t\t$sections[$mysection] = $upload_links;\n\t\t}\n\t}\n\t\n\t//Remove a post from the thread\n\tfunction deletePost() {\n\t\t$post_id = (int) $this->post['id'];\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t\t$this->deleteUploads($post_id);\n\t}\n\t\n\t\n\t//Update a post in the thread\n\tfunction editPost($userId, $messageText, $posterName = \"\") {\n\t\t$post_id = $this->post['id'];\n\t\t//Add the comment\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_posts SET\n\t\t\t\tmessage_text = '\". ze\\escape::sql(zenario_anonymous_comments::sanitiseHTML($messageText, $this->setting('enable_images'), $this->setting('enable_links'))). \"',\n\t\t\t\tdate_updated = NOW(),\n\t\t\t\tupdater_id = \". (int) $userId. \"\n\t\t\tWHERE thread_id = \". (int) $this->threadId. \"\n\t\t\t  AND id = \". (int) $post_id;\n\t\t\n\t\t$result = ze\\sql::update($sql);\n\t\t\n\t\t$this->manageUploads($post_id);\n\t\t\n\t\t$this->sendEmailNotification((int) $post_id, false);\n\t}\n\t\n\t\n\t//Update the first post in the thread\n\tfunction editFirstPost($userId, $messageText, $threadTitle) {\n\t\t\n\t\t//Updated the thread's title\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads SET\n\t\t\t\ttitle = '\". ze\\escape::sql($threadTitle). \"'\n\t\t\tWHERE id = \". (int) $this->threadId;\n\t\t\n\t\t$result = ze\\sql::update($sql);\n\t\t\n\t\t$this->editPost($userId, $messageText);\n\t}\n\t\n\tfunction showPostScreen($labelText, $submitButtonText, $quoteMode, $titleText = false, $onSubmit = '') {\n\t\tif($this->allow_uploads){\n\t\t\t$onSubmit .= \"\n\t\t\t\tif (!zenario.tinyMCEGetContent(tinyMCE.get('\". ze\\escape::js($this->getEditorId()). \"'))) {\n\t\t\t\t\talert('\". ze\\escape::js($this->phrase('_ERROR_MESSAGE')). \"');\n\t\t\t\t\treturn false;\n\t\t\t\t}\";\n\t\t}\n\t\tparent::showPostScreen($labelText, $submitButtonText, $quoteMode, $titleText, $onSubmit);\n\t}\n\t\n\t//Handle any requests the users ask for\n\tfunction forumActionHandler() {\n\t\t$actionTaken = true;\n\t\t\n\t\t//Note that some forum actions work via GET, so need checkConfirmKey() for extra security\n\t\tif (($_GET['comm_request'] ?? false) == 'mark_forum_read' && ($_SESSION['extranetUserID'] ?? false) && $this->checkConfirmKey()) {\n\t\t\t//Mark all of the Threads in a Forum as read for a User\n\t\t\t$this->markForumRead($_SESSION['extranetUserID'] ?? false);\n\t\t\n\t\t} elseif (($_GET['comm_request'] ?? false) == 'move_thread'  && $this->canMoveThread() && $this->checkConfirmKey()) {\n\t\t\t//Move a Thread from another Forum into this Forum\n\t\t\t$this->moveThreadIntoForum($_GET['forum_thread_to_move'] ?? false);\n\t\t\n\t\t} elseif (($_POST['comm_request'] ?? false) == 'subs_forum' && $this->canSubsForum() && !$this->hasSubsForum()) {\n\t\t\t$this->subs(true, false);\n\t\t\t\n\t\t} elseif (($_POST['comm_request'] ?? false) == 'unsubs_forum' && $this->canSubsForum()) {\n\t\t\t$this->subs(false, false);\n\t\t\n\t\t} else {\n\t\t\t$actionTaken = false;\n\t\t}\n\t\t\n\t\tif ($actionTaken) {\n\t\t\t$this->clearRequest('comm_request');\n\t\t\t$this->clearRequest('comm_confirm');\n\t\t}\n\t}\n\t\n\t\n\t//Check for the most recently created thread so far, and get the last_updated_order\n\tfunction getLatestUpdated() {\n\t\t\n\t\t$sql = \"\n\t\t\tSELECT IFNULL(MAX(last_updated_order), 0)\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads\n\t\t\tWHERE forum_id = \". (int) $this->forumId;\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tlist($latestUpdated) = ze\\sql::fetchRow($result);\n\t\treturn $latestUpdated;\n\t}\n\t\n\t\n\t//Check for the most recently created thread so far, and get the last_updated_order\n\tstatic function getThreadLastUpdated($forumId, $threadId) {\n\t\t\n\t\t$sql = \"\n\t\t\tSELECT last_updated_order\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads\n\t\t\tWHERE forum_id = \". (int) $forumId. \"\n\t\t\t  AND id = \". (int) $threadId. \"\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tlist($threadLastUpdated) = ze\\sql::fetchRow($result);\n\t\treturn $threadLastUpdated;\n\t}\n\t\n\t\n\t//Get the last_updated_order from a post id rather than a thread id\n\tfunction getUpdatedFromPostId($postId) {\n\t\t\n\t\t$sql = \"\n\t\t\tSELECT t.last_updated_order\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads AS t\n\t\t\tINNER JOIN \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_posts AS p\n\t\t\t   ON t.id = p.thread_id\n\t\t\t  AND t.date_updated = p.date_posted\n\t\t\tWHERE t.forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND p.forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND p.id >= \". (int) $postId. \"\n\t\t\tORDER BY p.id\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tlist($threadLastUpdated) = ze\\sql::fetchRow($result);\n\t\treturn $threadLastUpdated;\n\t}\n\t\n\t\n\tfunction threadPageIsForumPage() {\n\t\treturn $this->forum['forum_content_id'] == $this->forum['thread_content_id']\n\t\t\t&& $this->forum['forum_content_type'] == $this->forum['thread_content_type'];\n\t}\n\t\n\tfunction newThreadPageIsForumPage() {\n\t\treturn $this->forum['forum_content_id'] == $this->forum['new_thread_content_id']\n\t\t\t&& $this->forum['forum_content_type'] == $this->forum['new_thread_content_type'];\n\t}\n\t\n\tfunction loadForumInfo() {\n\t\t\n\t\t//Get information on comments for this content item from the mirror table\n\t\t$sql = \"\n\t\t\tSELECT\n\t\t\t\tid,\n\t\t\t\tdate_updated,\n\t\t\t\tupdater_id,\n\t\t\t\tthread_count,\n\t\t\t\tpost_count,\n\t\t\t\tlocked,\n\t\t\t\tforum_content_id,\n\t\t\t\tforum_content_type,\n\t\t\t\tthread_content_id,\n\t\t\t\tthread_content_type,\n\t\t\t\tnew_thread_content_id,\n\t\t\t\tnew_thread_content_type\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"forums AS f\n\t\t\tWHERE id = \". (int) $this->forumId;\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\t\n\t\tif ($this->forum = ze\\sql::fetchAssoc($result)) {\n\t\t\tze\\content::langEquivalentItem($this->forum['forum_content_id'], $this->forum['forum_content_type']);\n\t\t\tze\\content::langEquivalentItem($this->forum['thread_content_id'], $this->forum['thread_content_type']);\n\t\t\tze\\content::langEquivalentItem($this->forum['new_thread_content_id'], $this->forum['new_thread_content_type']);\n\t\t\t\n\t\t\tif (!$this->forum['thread_content_id']) {\n\t\t\t\t$this->forum['thread_content_id'] = $this->forum['forum_content_id'];\n\t\t\t\t$this->forum['thread_content_type'] = $this->forum['forum_content_type'];\n\t\t\t}\n\t\t\t\n\t\t\tif (!$this->forum['new_thread_content_id']) {\n\t\t\t\t$this->forum['new_thread_content_id'] = $this->forum['forum_content_id'];\n\t\t\t\t$this->forum['new_thread_content_type'] = $this->forum['forum_content_type'];\n\t\t\t}\n\t\t\t\n\t\t\t$this->forumLocked = (bool) $this->forum['locked'];\n\t\t\t\n\t\t\t$this->runCheckPrivs();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\t\n\t\n\tfunction loadThreadInfo() {\n\t\t\n\t\t//Get information on comments for this content item from the mirror table\n\t\t$sql = \"\n\t\t\tSELECT\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\tdate_updated,\n\t\t\t\tupdater_id,\n\t\t\t\tpost_count,\n\t\t\t\tlocked,\n\t\t\t\tforum_id\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads AS t\";\n\t\t\n\t\tif ($_REQUEST['forum_thread'] ?? false) {\n\t\t\t$sql .= \"\n\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND id = \". (int) ($_REQUEST['forum_thread'] ?? false);\n\t\t} else {\n\t\t\t$sql .= \"\n\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\tORDER BY last_updated_order DESC\n\t\t\tLIMIT 1\";\n\t\t}\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\t\n\t\tif ($this->thread = ze\\sql::fetchAssoc($result)) {\n\t\t\t$this->threadId = $this->thread['id'];\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\t\n\t\n\tfunction loadThreads() {\n\t\t\n\t\t$this->threads = [];\n\t\n\t\t$sql = \"\n\t\t\tSELECT\n\t\t\t\tid,\n\t\t\t\tdate_posted,\n\t\t\t\tdate_updated,\n\t\t\t\tlast_updated_order,\n\t\t\t\tposter_id,\n\t\t\t\tupdater_id,\n\t\t\t\tview_count,\n\t\t\t\tpost_count,\n\t\t\t\ttitle,\n\t\t\t\tshadow,\n\t\t\t\tsticky,\n\t\t\t\tlocked,\n\t\t\t\trating\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads\n\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\tORDER BY \";\n\t\t\n\t\tif ($this->setting('order') == 'MOST_RECENTLY_POSTED_FIRST') {\n\t\t\t$sql .= \"date_posted DESC\";\n\t\t} elseif ($this->setting('order') == 'OLDEST_FIRST') {\n\t\t\t$sql .= \"date_posted\";\n\t\t} elseif ($this->setting('order') == 'TITLE') {\n\t\t\t$sql .= \"title\";\n\t\t} else {\n\t\t\t$sql .= \"last_updated_order DESC\";\n\t\t}\n\t\t\n\t\t$sql .= ze\\sql::limit($this->page, $this->pageSize);\n\t\t\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\n\t\twhile($row = ze\\sql::fetchAssoc($result)) {\n\t\t\t$this->threads[] = $row;\n\t\t}\n\t}\n\t\n\t\n\tfunction loadPosts() {\n\t\t\n\t\t$this->posts = [];\n\t\n\t\t$sql = \"\n\t\t\tSELECT\n\t\t\t\tid,\n\t\t\t\tdate_posted,\n\t\t\t\tdate_updated,\n\t\t\t\t'published' AS status,\n\t\t\t\tfirst_post,\n\t\t\t\tposter_id,\n\t\t\t\tupdater_id,\n\t\t\t\tmessage_text,\n\t\t\t\trating\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_posts\n\t\t\tWHERE thread_id = \". (int) $this->threadId;\n\t\t\n\t\tif ($_REQUEST['comm_post'] ?? false) {\n\t\t\t$sql .= \"\n\t\t\t  AND id = \". (int) ($_REQUEST['comm_post'] ?? false);\n\t\t} else {\n\t\t\t$sql .= \"\n\t\t\tORDER BY id\".\n\t\t\tze\\sql::limit($this->page, $this->pageSize);\n\t\t}\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\n\t\tif ($_REQUEST['comm_post'] ?? false) {\n\t\t\tif (!$this->posts[] = $this->post = ze\\sql::fetchAssoc($result)) {\n\t\t\t\t$this->clearRequest('comm_post');\n\t\t\t\t$this->clearRequest('comm_request');\n\t\t\t\t$this->clearRequest('comm_confirm');\n\t\t\t\t$this->clearRequest('comm_enter_text');\n\t\t\t\t\n\t\t\t\t$this->loadPagination();\n\t\t\t\t$this->loadPosts();\n\t\t\t}\n\t\t\n\t\t} else {\n\t\t\twhile($row = ze\\sql::fetchAssoc($result)) {\n\t\t\t\t$this->posts[] = $row;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tfunction locked() {\n\t\treturn !empty($this->thread['locked']) || $this->forumLocked;\n\t}\n\t\n\t\n\tfunction lockedForum() {\n\t\treturn $this->forumLocked;\n\t}\n\t\n\t\n\tfunction lockThread($lock) {\n\t\t\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads SET\n\t\t\t\tlocked = \". (int) $lock. \"\n\t\t\tWHERE id = \". (int) $this->threadId;\n\t\t$result = ze\\sql::update($sql);\n\t}\n\t\t\n\tprotected function sendEmailNotification($postId, $newPost = true, $newThreadTitle = false) {\n\t//protected function sendEmailNotification($userId, $messageText, $newPost, $newThreadTitle = false, $name = '', $email = '') {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\tprotected function subs($subs, $thread = true) {\n\t\t$key = [\n\t\t\t'user_id' => ($_SESSION['extranetUserID'] ?? false),\n\t\t\t'forum_id' => $this->forumId];\n\t\t\n\t\tif ($thread) {\n\t\t\t$key['thread_id'] = $this->threadId;\n\t\t} else {\n\t\t\t$key['thread_id'] = 0;\n\t\t}\n\t\t\n\t\tif ($subs) {\n\t\t\t$key['content_id'] = $this->forum['forum_content_id'];\n\t\t\t$key['content_type'] = $this->forum['forum_content_type'];\n\t\t\t\n\t\t\tze\\row::set(\n\t\t\t\tZENARIO_COMMENTS_PREFIX. 'user_subscriptions',\n\t\t\t\t['date_subscribed' => ze\\date::now()],\n\t\t\t\t$key);\n\t\t\n\t\t} else {\n\t\t\tze\\row::delete(\n\t\t\t\tZENARIO_COMMENTS_PREFIX. 'user_subscriptions',\n\t\t\t\t$key);\n\t\t}\n\t}\n\t\n\t\n\tfunction markForumRead($readerId) {\n\t\t$sql = \"\n\t\t\tDELETE FROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE unread_from != 0\n\t\t\t  AND unread_to != 0\n\t\t\t  AND forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND reader_id = \". (int) $readerId;\n\t\tze\\sql::update($sql, false, false);\n\t}\n\t\n\t\n\tfunction markOtherThreadsAsLessRecent($threadLastUpdated, $forumId) {\n\t\t\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads SET\n\t\t\t\tlast_updated_order = last_updated_order - 1\n\t\t\tWHERE last_updated_order > \". (int) $threadLastUpdated. \"\n\t\t\t  AND forum_id = \". (int) $forumId;\n\t\tze\\sql::update($sql);\n\t\t\n\t\t$sql = \"\n\t\t\tDELETE FROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE unread_to = \". (int) $threadLastUpdated. \"\n\t\t\t  AND unread_from = \". (int) $threadLastUpdated. \"\n\t\t\t  AND forum_id = \". (int) $forumId;\n\t\tze\\sql::update($sql, false, false);\n\t\t\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads SET\n\t\t\t\tunread_from = unread_from - 1\n\t\t\tWHERE unread_from > \". (int) $threadLastUpdated. \"\n\t\t\t  AND forum_id = \". (int) $forumId;\n\t\tze\\sql::update($sql, false, false);\n\t\t\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads SET\n\t\t\t\tunread_to = unread_to - 1\n\t\t\tWHERE unread_to > \". (int) $threadLastUpdated. \"\n\t\t\t  AND forum_id = \". (int) $forumId;\n\t\tze\\sql::update($sql, false, false);\n\t}\n\t\n\t\n\tfunction markThreadAsMostRecent($latestUpdated) {\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"threads SET\n\t\t\t\tlast_updated_order = \". (int) $latestUpdated. \"\n\t\t\tWHERE id = \". (int) $this->threadId;\n\t\t\n\t\tze\\sql::update($sql);\n\t}\n\t\n\t\n\t//Alter the rows in the user_unread_threads table to mark the current thread as read for the user\n\tfunction markThreadAsRead($readerId) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tfunction markThreadAsUnRead($latestUpdated) {\n\t\t\n\t\t//Extend the spans if possible\n\t\t$sql = \"\n\t\t\tUPDATE \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads SET\n\t\t\t\tunread_to = \". (int) $latestUpdated. \"\n\t\t\tWHERE unread_to = \". ((int) $latestUpdated - 1). \"\n\t\t\t  AND forum_id = \". (int) $this->forumId;\n\t\tze\\sql::update($sql, false, false);\n\t\t\n\t\t//Where we couldn't extend a span, we must add a new one.\n\t\t//NOT IN must be used in order not to create any duplicates with the query above\n\t\t$sql = \"\n\t\t\tINSERT INTO \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads(\n\t\t\t\tunread_from, unread_to, forum_id, reader_id\n\t\t\t)\n\t\t\tSELECT \". (int) $latestUpdated. \", \". (int) $latestUpdated. \", \". (int) $this->forumId. \", reader_id\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND unread_to = 0\n\t\t\t  AND reader_id NOT IN (\n\t\t\t\tSELECT reader_id\n\t\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\t\t  AND unread_to = \". (int) $latestUpdated. \"\n\t\t\t)\n\t\t\tORDER BY forum_id, reader_id\";\n\t\tze\\sql::update($sql, false, false);\n\t}\n\t\n\t\n\tfunction markThreadCheckUserIsInTable($userId) {\n\t\t//Check to see if the user is in the user_unread_threads table for this forum\n\t\t$sql = \"\n\t\t\tSELECT 1\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE forum_id = \". (int) $this->forumId. \"\n\t\t\t  AND reader_id = \". (int) $userId. \"\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tif (ze\\sql::fetchRow($result)) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//Was the reason for them not being in there because there are no forum posts? Do nothing if so.\n\t\tif (!($latestUpdated = $this->getLatestUpdated())) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//If not, add a special row in for them so we know we've included them\n\t\t$sql = \"\n\t\t\tINSERT INTO \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads SET\n\t\t\t\tunread_from = 0,\n\t\t\t\tunread_to = 0,\n\t\t\t\tforum_id = \". (int) $this->forumId. \",\n\t\t\t\treader_id = \". (int) $userId;\n\t\tze\\sql::update($sql, false, false);\n\t\t\n\t\t//Then mark the forum as unread for them\n\t\t$sql = \"\n\t\t\tINSERT INTO \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads SET\n\t\t\t\tunread_from = 1,\n\t\t\t\tunread_to = \". (int) $latestUpdated. \",\n\t\t\t\tforum_id = \". (int) $this->forumId. \",\n\t\t\t\treader_id = \". (int) $userId;\n\t\tze\\sql::update($sql, false, false);\n\t}\n\t\n\t\n\tpublic static function markThreadCheckUserHasReadThread($latestUpdated, $forumId) {\n\t\tif (!($userId = $_SESSION['extranetUserID'] ?? false)) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t$sql = \"\n\t\t\tSELECT 1\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE forum_id = \". (int) $forumId. \"\n\t\t\t  AND reader_id = \". (int) $userId. \"\n\t\t\t  AND unread_from <= \". (int) $latestUpdated. \"\n\t\t\t  AND unread_to >= \". (int) $latestUpdated. \"\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\treturn !ze\\sql::fetchRow($result);\n\t}\n\t\n\t\n\t//Check to see if a user has read a forum\n\tpublic static function markThreadCheckUserHasReadForum($forumId) {\n\t\t//Not logged in? Always return true\n\t\tif (!$userId = $_SESSION['extranetUserID'] ?? false) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t//Otherwise, check to see if there are any unread threads for the user in the forum\n\t\t$sql = \"\n\t\t\tSELECT 1\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE forum_id = \". (int) $forumId. \"\n\t\t\t  AND reader_id = \". (int) $userId. \"\n\t\t\t  AND unread_from != 0\n\t\t\t  AND unread_to != 0\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tif (ze\\sql::fetchRow($result)) {\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\t//Otherwise, check to see if the user has ever been in the forum. (If not, then they've not read it!)\n\t\t$sql = \"\n\t\t\tSELECT 1\n\t\t\tFROM \". DB_PREFIX. ZENARIO_FORUM_PREFIX. \"user_unread_threads\n\t\t\tWHERE forum_id = \". (int) $forumId. \"\n\t\t\t  AND reader_id = \". (int) $userId. \"\n\t\t\t  AND unread_from = 0\n\t\t\t  AND unread_to = 0\n\t\t\tLIMIT 1\";\n\t\t\n\t\t$result = ze\\sql::select($sql);\n\t\tif (ze\\sql::fetchRow($result)) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\t\n\t//Move a Thread from another Forum into this Forum\n\tfunction moveThreadIntoForum($threadId) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n\t\n\t\n\tfunction forumSelectMode() {\n\t\tif ($_REQUEST['comm_confirm'] ?? false) {\n\t\t\t$this->scrollToTopOfSlot(false);\n\t\t\t\n\t\t\tif (($_REQUEST['comm_request'] ?? false) == 'subs_forum' && $this->canSubsForum() && !$this->hasSubsForum()) {\n\t\t\t\t$this->showConfirmBox($this->phrase('_CONFIRM_SUBS_FORUM', ['email' => htmlspecialchars(ze\\user::email())]), $this->phrase('_SUBMIT_SUBS_FORUM'));\n\t\t\t\t\n\t\t\t} elseif (($_REQUEST['comm_request'] ?? false) == 'unsubs_forum' && $this->canSubsForum() && $this->hasSubsForum()) {\n\t\t\t\t$this->showConfirmBox($this->phrase('_CONFIRM_UNSUBS_FORUM'), $this->phrase('_SUBMIT_UNSUBS_FORUM'));\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\t$this->showForumActions();\n\t\t}\n\t}\n\t\n\t\n\tfunction showForumActions() {\n\t\t$loginCID = $loginCType = false;\n\t\t\n\t\tif ($this->canMakeThread()) {\n\t\t\t$this->sections['Add_New_Thread'] = true;\n\t\t\t$this->mergeFields['Add_New_Thread_Link'] = $this->linkToItemAnchor($this->forum['new_thread_content_id'], $this->forum['new_thread_content_type'], false, '&comm_request=add_thread');\n\t\t} elseif (ze::setting('user_use_screen_name') && !parent::getUserScreenNameConfirmed(ze\\user::id())) {\n\t\t\t$cID = $cType = false;\n\t\t\tze\\content::langSpecialPage('zenario_profile', $cID, $cType);\n\t\t\t$profileAnchor = $this->linkToItemAnchor($cID, $cType);\n\t\t\t$this->sections['Forum_Profile_Link'] = true;\n\t\t\t$profileLink =  '<a '.$profileAnchor.'>'.$this->phrase('your profile').'</a>';\n\t\t\t$this->mergeFields['Forum_Profile_Link'] = $this->phrase('You must confirm your screen name on [[profile_link]] in order to create a thread.', ['profile_link' => $profileLink]);\n\t\t} elseif ($this->lockedForum()) {\n\t\t\t$this->sections['Forum_Locked'] = true;\n\t\t\t\n\t\t} elseif (empty($_SESSION['extranetUserID']) && ze\\content::langSpecialPage('zenario_login', $loginCID, $loginCType)) {\n\t\t\t$this->sections['Forum_Login_To_Post'] = true;\n\t\t\t$this->mergeFields['Login_To_Post_Link'] = $this->linkToItemAnchor($loginCID, $loginCType);\n\t\t}\n\t\t\n\t\tif (($_SESSION['extranetUserID'] ?? false) && $this->forum['post_count'] && !zenario_forum::markThreadCheckUserHasReadForum($this->forumId)) {\n\t\t\t$this->sections['Mark_Forum_Read'] = true;\n\t\t\t$this->mergeFields['Mark_Forum_Read_Link'] = $this->refreshPluginSlotAnchor('&comm_page='. $this->page. '&comm_key='. $_SESSION['confirm_key']. '&comm_request=mark_forum_read', false);\n\t\t}\n\t\t\n\t\tif ($this->canSubsForum()) {\n\t\t\tif ($this->hasSubsForum()) {\n\t\t\t\t$this->sections['Unsubs_To_Forum'] = true;\n\t\t\t\t$this->sections['Subscribed_To_Forum'] = true;\n\t\t\t\t$this->mergeFields['Unsubs_To_Forum_Link'] = $this->refreshPluginSlotAnchor('&comm_page='. $this->page. '&comm_key='. $_SESSION['confirm_key']. '&comm_request=unsubs_forum&comm_confirm=1', false);\n\t\t\t} else {\n\t\t\t\t$this->sections['Subs_To_Forum'] = true;\n\t\t\t\t$this->mergeFields['Subs_To_Forum_Link'] = $this->refreshPluginSlotAnchor('&comm_page='. $this->page. '&comm_key='. $_SESSION['confirm_key']. '&comm_request=subs_forum&comm_confirm=1', false);\n\t\t\t}\n\t\t\n\t\t} elseif ($this->couldSubsForum()) {\n\t\t\t$this->sections['Login_To_Subs_Forum'] = true;\n\t\t\t\n\t\t\tif (empty($this->mergeFields['Login_To_Post_Link']) && ze\\content::langSpecialPage('zenario_login', $loginCID, $loginCType)) {\n\t\t\t\t$this->mergeFields['Login_To_Post_Link'] = $this->linkToItemAnchor($loginCID, $loginCType);\n\t\t\t}\n\t\t}\n\t\t\n\t\t$this->sections['Thread_Controls'] = true;\n\t}\n\t\n\t\n\tfunction showAddThread() {\n\t\t//Note: currently logic is identical to showPosts()\n\t\t$this->showPosts();\n\t}\n\t\n\tfunction showThreads() {\n\t\t\n\t\t\n\t\tif ($this->threads) {\n\t\t\t$this->sections['Thread'] = [];\n\t\t\t\n\t\t\tforeach($this->threads as &$thread) {\n\t\t\t\t\n\t\t\t\t$sections = [];\n\t\t\t\t$mergeFields = [];\n\t\t\t\t\n\t\t\t\t$mergeFields['Date_Posted'] = ze\\date::formatDateTime($thread['updater_id'], $this->setting('date_format'));\n\t\t\t\t$mergeFields['Posted_By'] = $this->getUserScreenNameLink($thread['poster_id']);\n\t\t\t\t$mergeFields['Posted_By_On'] = $this->phrase('_BY_ON', ['by' => $mergeFields['Posted_By'], 'on' => $mergeFields['Date_Posted']]);\n\t\t\t\t$mergeFields['Title'] = htmlspecialchars($thread['title']);\n\t\t\t\t$mergeFields['Post_Count'] = $thread['post_count'];\n\t\t\t\t$mergeFields['Replies_Count'] = $thread['post_count']-1;\n\t\t\t\t$mergeFields['View_Count'] = $thread['view_count'];\n\t\n\t\t\t\tif ($mergeFields['Updated'] = (bool) $thread['updater_id']) {\n\t\t\t\t\t$mergeFields['Date_Updated'] = ze\\date::formatDateTime($thread['date_updated'], $this->setting('date_format'));\n\t\t\t\t\t$mergeFields['Updated_By'] = $this->getUserScreenNameLink($thread['updater_id']);\n\t\t\t\t\t$mergeFields['Updated_By_On'] = $this->phrase('_BY_ON', ['by' => $mergeFields['Updated_By'], 'on' => $mergeFields['Date_Updated']]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (zenario_forum::markThreadCheckUserHasReadThread($thread['last_updated_order'], $this->forumId)) {\n\t\t\t\t\t$mergeFields['Status_Class'] = 'read';\n\t\t\t\t} else {\n\t\t\t\t\t$mergeFields['Status_Class'] = 'unread';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($thread['locked']) {\n\t\t\t\t\t$mergeFields['Locked'] = true;\n\t\t\t\t\t$mergeFields['Status_Class'] .= ' locked';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$mergeFields['Hyperlink'] = htmlspecialchars($this->linkToItem($this->forum['thread_content_id'], $this->forum['thread_content_type'], false, '&forum_thread='. $thread['id']));\n\t\t\t\t\n\t\t\t\t$this->sections['Thread'][] = $mergeFields;\n\t\t\t}\n\t\t}\n\t\t\n\t\t$this->framework('Threads', $this->mergeFields, $this->sections);\n\t}\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t//Empty a user's history in the user_unread_threads table if they are deleted\n\tpublic static function eventUserDeleted($userId) {\n\t\trequire ze::funIncPath(__FILE__, __FUNCTION__);\n\t}\n}", "\n/*\tAttempt to set the initial height of Organizer Quick to 95%  */\n#zenario_fbog.zenario_organizer_quick {\n\theight: 97%;\n}\n\n\n\nbody.webkit input {\n\tline-height: inherit !important;\n}\n\n.zenario_og,\n.zenario_og textarea {\n\tfont-family:Verdana, Arial, Helvetica, sans-serif;\n\tfont-size:9pt;\n\tcolor:#616161;\n}\n\n.zenario_organizer_quick__overlay {\n\topacity: 0.4;\n}\n\n.organizer_wrapInner,\n.organizer_wrapOuter,\n.organizer_wrapOuter div {\n\twidth: 100%;\n\tpadding: 0px;\n\tmargin: auto;\n}\n\n.organizer_wrapInner {\n\toverflow: hidden;\n}\n\n#organizer_wrapOuter_tm,\n#organizer_wrapInner_bm {\n\twidth: auto;\n}\n\n#organizer__box_inner {\n\tbackground:#F6F6F6;\n\t-webkit-box-shadow: 0px 0px 5px 2px #929292;\n\tbox-shadow: 0px 0px 5px 2px #929292; \n}\n\n#organizer_leftColumnOuter *::selection {\n\tbackground-color: transparent;\n}\n\n#organizer_leftColumnOuter *::-moz-selection {\n\tbackground-color: transparent;\n}\n\n#organizer_itemCountWrap *::selection {\n\tbackground-color: transparent;\n}\n\n#organizer_itemCountWrap *::-moz-selection {\n\tbackground-color: transparent;\n}\n\n#organizer__box_inner.organizer_multiple_items_selected #organizer_rightColumn *::selection {\n\tbackground-color: transparent;\n}\n\n#organizer__box_inner.organizer_multiple_items_selected #organizer_rightColumn *::-moz-selection {\n\tbackground-color: transparent;\n}\n\n#organizer__box_inner.organizer_not_loaded {\n\topacity:0;\n}\n\n#organizer__box_inner.organizer_loaded {\n\topacity:1;\n}\n\n#organizer__box_inner.organizer_interaction_disabled #organizer_leftColumnOuter,\n#organizer__box_inner.organizer_interaction_disabled #organizer_header #organizer_backButton,\n#organizer__box_inner.organizer_interaction_disabled #organizer_header #organizer_viewOptions {\n\tfilter: alpha(opacity=60); /* internet explorer */\n\t-khtml-opacity: 0.6;\t  /* khtml, old safari */\n\t-moz-opacity: 0.6;\t   /* mozilla, netscape */\n\topacity: 0.6;\t\t   /* fx, safari, opera */\n}\n\n\n#organizer_container {\n\tpadding:auto;\n\tmargin:auto;\n}\n\n.organizer_wrapOuter {\n\theight: 39px;\n}\n\n/******/\n\n#organizer__box_top\n{\n\theight:39px;\n\tposition:relative;\n\tbackground:#333;\n}\n\n#organizer__box_center\n{\n\tclear:both;\n}\n\n#organizer__box_bottom\n{\n\tdisplay:none;\n}\n\n#organizer__box_bottom\n{\n\theight: 19px;\n\toverflow:hidden;\n\tposition:relative;\n}\n\n#organizer__box_bottom .organizer_wrapInner\n{\n\tfloat:left;\n}\n\n#organizer__box_bottom .organizer_bl,\n#organizer__box_bottom .organizer_br\n{\n\tdisplay:block;\n\twidth:16px;\n\theight:19px;\n}\n\n#organizer__box_bottom .organizer_br\n{\n\twidth: 16px;\n}\n\n#organizer__box_bottom .organizer_bl\n{\n\tfloat:left;\n\tbackground:  0px -350px no-repeat;\n\tleft:0;\n}\n\n#organizer__box_bottom .organizer_br\n{\n\tfloat:left;\n\tbackground: -3px -100px no-repeat;\n\tright:0;\n}\n\n/******/\n\n.organizer_wrapOuter div {\n\tbackground: transparent no-repeat;\n\theight: 39px;\n}\n\n.organizer_wrapOuter div div {\n\tmargin-top:0;\n}\n\n.organizer_wrapInner {\n\tfloat:left;\n\theight: 19px;\n}\n\n\n\n#organizer__box_top .organizer_info_box {\n\twidth: 170px;\n\tmargin: 10px 0px 0px 20px;\n\theight: 36px;\n\tcursor: pointer;\n}\n\n#organizer_topRightButtons {\n\twidth:auto;\n\tpadding-top:9px;\n\tmargin-left: 182px;\n}\n\n.organizer_wrapOuter #organizer_search {\n\twidth: 332px;\n\tfloat: right;\n\tmargin-right: 30px;\n\tmargin-top: 7px;\n}\n\n#organizer_searchForm input,\n#organizer_searchForm img {\n\tfloat:left;\n}\n\n#organizer_searchForm input#organizer_search_term {\n\twidth:138px;\n\tbackground:#FFFFFF;\n\tborder:0;\n\tpadding:0 8px 0 26px;\n\theight:34px;\n\tline-height:34px;\n\tbackground: url('../admin/images/icon-search-magnifyer.svg') no-repeat 4px center / 16px 16px;\n\tbox-sizing: content-box;\n}\n\n#organizer_searchForm input#organizer_search_term,\n#organizer_searchForm input#organizer_search_term::-webkit-input-placeholder,\n#organizer_searchForm input#organizer_search_term:-moz-placeholder,\nbody.ie label#search_term_placeholder {\n\tcolor:#6f6f6f;\n}\n\nbody.ie label#search_term_placeholder {\n\tcursor: text;\n\tpadding: 4px 4px 4px 4px;\n}\n\n#organizer_searchForm input#search_btn {\n\tmargin:0px 10px;\n}\n\n\n.organizer_wrapOuter .organizer_close_button,\n.organizer_wrapOuter .restore_button {\n\theight: 39px;\n\twidth: 40px;\n\tfloat: right;\n}\n\n\n.organizer_wrapOuter .organizer_close_button a,\n#organizer__box_top .close_button a {\n\tbackground:url(../admin/images/icon-close-off.svg) no-repeat;\n\tbackground-size:100%;\n\twidth: 34px;\n\theight: 34px;\n\tposition: absolute;\n\tright: 6px;\n\ttop: 2px;\n\tdisplay:block;\n\tcursor: pointer;\n}\n\n.organizer_wrapOuter .organizer_close_button a:hover,\n#organizer__box_top .close_button a:hover {\n\tbackground:url(../admin/images/icon-close-over.svg) no-repeat;\n}\n\n.organizer_wrapOuter .restore_button {\n\tdisplay: none;\n}\n\n.zenario_organizer_quick .organizer_wrapOuter .restore_button {\n\tdisplay: block;\n}\n\n#organizer_top_right_buttons {\n\tfloat: right;\n\twidth: auto;\n}\n\n.organizer_wrapOuter .logout_button a,\n.organizer_wrapOuter .top_right_button,\n.organizer_wrapOuter .top_right_button li a {\n\twidth: 38px;\n\theight: 34px;\n}\n\n.organizer_wrapOuter .top_right_button {\n\tfloat: right;\n\tborder:1px solid #B3B3B3;\n\tborder-top:0;\n}\n\n.organizer_wrapOuter .top_left_button,\n.organizer_wrapOuter .top_left_button a {\n\twidth: 38px;\n\theight: 38px;\n}\n\n.organizer_wrapOuter .zenario_ywip,\n.organizer_wrapOuter .zenario_ywip a {\n\twidth:44px;\n}\n\n.organizer_wrapOuter .top_left_button {\n\tfloat: left;\n\tborder-right:1px solid #818181;\n\tmargin-left:1px;\n\tbackground:url('../admin/images/store_keeper/nav-button-bg-grey.png') repeat-x top;\n}\n\n.organizer_wrapOuter .top_left_button:hover {\n\tbackground:url('../admin/images/store_keeper/nav-button-bg-green.png') repeat-x top;\n\tcursor:pointer;\n}\n\n.organizer_wrapOuter .logout_button a,\n.organizer_wrapOuter .top_left_button a,\n.organizer_wrapOuter .top_right_button li a {\n\tdisplay: block;\n}\n\n.organizer_wrapOuter .logout_button {\n\tmargin-right:20px;\n}\n\n.organizer_wrapOuter .organizer_back_button {\n\tdisplay:none;\n}\n\n.organizer_wrapOuter .logout_button a {\n\tbackground-position: -753px -10px;\n}\n\n.organizer_wrapOuter .logout_button a {\n\tbackground: url('../admin/images/icon-logout.svg') no-repeat center / 16px 16px;\n}\n\n.organizer_wrapOuter .logout_button a:hover {\n\tbackground-color: #007FA3;\n}\n\n.organizer_wrapOuter .zenario_admin_name {\n\twidth:auto;\n\tborder:0;\n\tline-height:36px;\n\tcolor:#FFF;\n\tpadding-left:10px;\n\tpadding-right:60px;\n\tcursor: pointer;\n\tposition:relative;\n}\n\n.organizer_wrapOuter .zenario_admin_name a {\n\tdisplay:inline-block;\n\tpadding-right:15px;\n\tbackground: url('../admin/images/icon-arrow-down-white.svg') no-repeat right center / 8px 8px;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul li a {\n\tbackground:none;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul li span {\n\tpadding-right:0;\n\tbackground:none;\n}\n\n.organizer_wrapOuter .zenario_admin_name:hover {\n\tcolor:#43d4f4;\n}\n\n\n\n\n.organizer_wrapOuter .zenario_admin_name ul {\n\tdisplay: none;\n\ttop: 35px;\n\tleft:0;\n\tz-index:90000;\n\tposition: absolute;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground:#F6F6F6;\n\tborder:1px solid #333333;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;\n\t-moz-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;\n\tbox-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;  \n}\n\n.organizer_wrapOuter .zenario_admin_name ul:after {\n\tborder-color: #F6F6F6 transparent;\n\tborder-style: solid;\n\tborder-width: 0 10px 10px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 15px;\n\twidth: 0;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul:before {\n\tborder-color: #333 transparent;\n\tborder-style: solid;\n\tborder-width: 0 12px 12px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 13px;\n\twidth: 0;\n}\n\n\n.organizer_wrapOuter .zenario_admin_name:hover ul {\n\tdisplay: block;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul,\n.organizer_wrapOuter .zenario_admin_name ul li {\n\tlist-style:none;\n\tmargin:0;\n\tpadding:0;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul {\n\tpadding:5px;\n}\n\n.organizer_wrapOuter .top_right_button ul li a {\n\twidth:150px;\n\theight:auto;\n\tpadding:0 10px;\n\tdisplay:block;\n\tline-height:30px;\n\tborder-top:1px solid #DCDCDC;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul li a,\n.organizer_wrapOuter .zenario_admin_name:hover ul li a {\n\tcolor:#333;\n}\n\n.organizer_wrapOuter .zenario_admin_name ul li a:hover,\n.organizer_wrapOuter .zenario_admin_name:hover ul li a:hover {\n\tcolor:#007fa2;\n}\n\n.organizer_wrapOuter .top_right_button ul li:first-child a {\n\tborder-top:0;\n}\n\n\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown {\n\t/*top:36px;*/\n\tz-index:99 !important;\n\tposition: absolute;\n\t/*margin: 0px auto;\n\tpadding:0px;*/\n\tdisplay: none;\n\ttop:38px;\n\tcursor:default;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown.zenario_ywip_loading {\n\topacity: 0.7;\n}\n\n.organizer_wrapOuter .zenario_ywip:hover #zenario_ywip_dropdown {\n\tdisplay: block;\n}\n\n.organizer_wrapOuter .zenario_ywip div {\n\theight:auto;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown {\n\twidth:272px;\n\tpadding-top:11px;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner {\n\twidth:260px;\n\tpadding:5px;\n\tborder:1px solid #333333;\n\tbackground:#F6F6F6;\n\t-webkit-border-radius: 3px;\n\t-moz-border-radius: 3px;\n\tborder-radius: 3px;\n\t-webkit-box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.5);\n\tbox-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.5);\n\tposition:absolute;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul {\n\tmax-height: 400px;\n\toverflow-y: auto;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner:before {\n\tborder-color: #333333 rgba(0, 0, 0, 0);\n\tborder-style: solid;\n\tborder-width: 0 12px 12px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tleft: 13px;\n\tposition: absolute;\n\twidth: 0;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner:after {\n\tborder-color: #F6F6F6 rgba(0, 0, 0, 0);\n\tborder-style: solid;\n\tborder-width: 0 10px 10px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tleft: 15px;\n\tposition: absolute;\n\twidth: 0;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_title {\n\tbackground:#D8D6D7;\n\tcolor:#007FA2;\n\tpadding:8px;\n\twidth:auto;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown a {\n\twidth:auto;\n\theight:auto;\n\tpadding:5px 8px 3px;\n\tbackground:url(\"../admin/images/store_keeper/2px-grey-white.gif\") repeat-x scroll center top;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li span {\n\tdisplay:block;\n\tpadding:0 8px 8px;\n\tfont-size:11px;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul,\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li {\n\tlist-style:none;\n\tmargin:0;\n\tpadding:0;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a {\n\tcolor:#333;\n\tfont-weight:bold;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a:hover {\n\tcolor:#007FA2;\n}\n\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a,\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a:hover {\n\ttext-decoration:none;\n}\n\n\n\n/*  Temporary styles added by Chris  */\n#organizer_branding_title,\n#organizer_backButton {\n\tfloat: left;\n\twidth: auto;\n}\n\n#organizer_branding_title {\n\tcolor: white;\n\tfont-style: italic;\n\tline-height: 39px;\n\tmargin-left: 10px;\n}\n\n#organizer_branding_title span.organizer_name {\n\tfont-style: normal;\n\tfont-weight: bold;\n\ttext-transform: uppercase;\n}\n\n\n#organizer_branding_title span.organizer_name span {\n\tfont-size: 14px;\n}\n\n#organizer_container {\n\twidth: auto;\n\toverflow: hidden;\n}\n\n#organizer_header,\n#organizer_header .headerPanel {\n\twidth: auto;\n}\n\n.organizer_list_view_body_wrap {\n\twidth:100%;\n}\n\n#organizer_container {\n\tmargin: 0px 6px;\n\tbackground:#F6F6F6;\n}\n\n#organizer_header {\n\tclear:both;\n\theight:56px;\n\tbackground:url('../admin/images/store_keeper/2px-grey-white.gif') repeat-x scroll center bottom;\n\t\n\t/*\n\tFor some reason this line needed to be commented out after removing the \"overflow: hidden;\" rule from #organizer_header\n\t-- Chris\n\t\n\tpadding-top: 16px;\n\t*/\n}\n\n#organizer_rightColumn #organizer_search {\n\tdisplay:inline-block;\n\tposition:absolute;\n\ttop:45px;\n\tleft:0;\n\theight:34px;\n}\n\n#organizer_search_placeholder {\n\tdisplay:block;\n\twidth:176px;\n\tmargin-right:6px;\n}\n\n.zenario_toolbar_header .toolbar {\n\tfloat: left;\n\toverflow: hidden;\n\tmargin: 0 20px 0 0;\n}\n\n#organizer_search,\n.zenario_toolbar_header .toolbar,\n#organizer_trash_button {\n\theight:30px;\n\tborder:1px solid #C6C6C6;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n}\n\n#organizer_search {\n\tborder:2px solid #B6B6B6;\n\tcolor:#F6F6F6;\n}\n\n.zenario_toolbar_header .toolbar,\n#organizer_trash_button {\n\tbackground: url('../admin/images/store_keeper/top-bar-btns-m-off.png') repeat-x 0px 0px;\n}\n\n.zenario_toolbar_header .toolbar div:hover,\n#organizer_trash_button:hover {\n\tbackground: url('../admin/images/store_keeper/top-bar-btns-m-over.png') repeat-x 0px 0px;\n}\n\n.zenario_toolbar_header .toolbar.disabled {\n\tborder:1px solid #dfdfdf;\n}\n\n.zenario_toolbar_header .toolbar.disabled div,\n.zenario_toolbar_header .toolbar.disabled:hover div {\n\tbackground:#f0f0f0;\n}\n\n#organizer__box_inner.organizer_filters_set_in_view_options .zenario_toolbar_header #organizer_viewOptions.toolbar,\n#organizer__box_inner.organizer_filters_set_in_view_options .zenario_toolbar_header #organizer_viewOptions.toolbar div:hover {\n\tbackground:#01d300;\n\tborder-color:#616161;\n}\n\n.zenario_toolbar_header .toolbar div {\n\tborder-right:1px solid #C6C6C6;\n}\n\n.zenario_toolbar_header .toolbar div:first-child {\n\tborder-right:0;\n}\n\n.zenario_toolbar_header .toolbar a,\n.zenario_toolbar_header .toolbar div {\n\tdisplay: block;\n\tfloat:left;\n\twidth:auto;\n}\n\n\n#organizer_header .viewMode,\n#organizer_header .viewMode div {\n\tfloat: right;\n}\n\n#organizer_header .viewMode {\n\tmargin-right: 10px;\n}\n\n.headerPanel .viewMode div,\n.headerPanel .organizer_switch_view,\n.headerPanel #organizer_refreshRightColumn,\n.headerPanel #organizer_listViewOptionsDropdown {\n\twidth: 30px;\n\theight: 30px;\n\tcursor: pointer;\n}\n\n.headerPanel .viewMode div a {\n\tfloat: right;\n\tdisplay: block;\n\twidth: 30px;\n\theight: 30px;\n}\n\n.zenario_toolbar_header .toolbar div.toolbarLeftEnd,\n.zenario_toolbar_header .toolbar div.toolbarRightEnd,\n.zenario_toolbar_header .headerPanelControls div.toolbarLeftEnd,\n.zenario_toolbar_header .headerPanelControls div.toolbarRightEnd {\n\tdisplay:none;\n}\n\n.organizer_grid_view .organizer_slidedown_view_toggle {\n\t/*  Probably change this  */\n\tfloat: right;\n\tdisplay: block;\n\twidth: 15px;\n\theight: 15px;\n\tbackground: grey;\n}\n\n.organizer_grid_view .organizer_slidedown_view_toggle_closed {\n\t/*  Add some CSS here!  */\n}\n\n.organizer_grid_view .organizer_slidedown_view_toggle_open {\n\t/*  Add some CSS here!  */\n}\n\n.organizer_list_view .organizer_slidedown_view_toggle,\n.organizer_list_view .organizer_slidedown_view_toggle_header {\n\twidth: 30px;\n}\n\n.organizer_total_wrapper {\n\theight: 30px;\n\t/*position: fixed;\n\tz-index: 5;*/\n\tbackground-color: #f6f6f6;\n\tborder-color: #c4c4c4;\n\tborder-style: solid;\n\tborder-width: 0 0 1px 0;\n} \n\n.organizer_total_wrapper .organizer_total_cell,\n.organizer_total_wrapper .organizer_slidedown_view_toggle {\n\t  display: block;\n\t  float: left;\n\t  height: 23px;\n\t  padding: 3px 5px 3px 5px;\n\t  text-align: right;\n\t  border-color: #c4c4c4;\n\t  border-style: solid;\n\t  border-width: 0 1px 0 0;\n}\n\n.organizer_subtotal_grouping .organizer_total_wrapper {\n\t  border-color: #c4c4c4;\n\t  border-style: solid;\n\t  border-width: 0 1px 0 0;\n}\n\n.organizer_total_wrapper span {\n\tcolor: #000000;\n\ttext-align: right;\n\tfont-weight: bold;\n}\n\n.placeholder-checkbox {\n\twidth: 25px;\n}\n\n.placeholder-week-item {\n\twidth: 39px;\n}\n\n.organizer_slidedown_view_closed {\n\tdisplay: none !important;\n}\n\n.organizer_slidedown_view {\n\twidth: auto;\n\tpadding:20px 20px 20px;\n\tbackground:#FDFDDF;\n\tborder-bottom:1px solid #C4C4C4;\n}\n\n.organizer-slidedown-image-information table td {\n\tvertical-align: top;\n}\n\n.organizer-slidedown-image-information table {\n\twidth: 100%;\n}\n\n.organizer-slidedown-image-information table .slidedown_table_image {\n\twidth: 360px;\n}\n\n.organizer-slidedown-image-information p {\n\tmargin: 0 0 10px 20px;\n\tcolor: #202020;\n}\n\n.headerPanel .secondToolbar,\n.headerPanel .secondToolbar div {\n\tdisplay:inline;\n}\n\nbody.ie6 #organizer_header #organizer_refreshRightColumn {\n\tmargin-right: 0px;\n}\n\nbody.ie6 .headerPanel .secondToolbar {\n\twidth: 62px;\n}\n\n.organizer_wrapOuter .home_page_button a {\n\tbackground: url('../admin/images/icon-back-to-home-off.svg') no-repeat center / auto 24px;\n}\n\n.organizer_wrapOuter .home_page_button:hover a {\n\tbackground: url('../admin/images/icon-back-to-home-hover.svg') no-repeat center / auto 24px;\n}\n\n.organizer_wrapOuter .zenario_ywip a {\n\tbackground: url('../admin/images/icon-work-in-progress-off.svg') no-repeat center / 32px 14px;\n}\n\n.organizer_wrapOuter .zenario_ywip:hover a {\n\tbackground: url('../admin/images/icon-work-in-progress-hover.svg') no-repeat center / 32px 14px;\n}\n\n.organizer_wrapOuter .last_page_button a {\n\tbackground: url('../admin/images/icon-back-to-html-off.svg') no-repeat center / auto 23px;\n}\n\n.organizer_wrapOuter .last_page_button:hover a {\n\tbackground: url('../admin/images/icon-back-to-html-hover.svg') no-repeat center / auto 23px;\n}\n\n#organizer_header #organizer_listViewOptionsDropdown a {\n\tbackground: url('../admin/images/icon-filter-glasses-dark.svg') no-repeat center / 18px 18px;\n}\n\n#organizer_header #organizer_refreshRightColumn a {\n\tbackground: url('../admin/images/icon-refresh-dark.svg') no-repeat center / 16px 16px;\n}\n\n.headerPanel .viewMode .organizer_switch_view a,\n.organizer_list_view .organizer_slidedown_view_toggle_open {\n\tbackground: url('../admin/images/icon-arrow-down-dark.svg') no-repeat center / 10px;\n}\n\n.organizer_list_view .organizer_slidedown_view_toggle_closed {\n\tbackground: url('../admin/images/icon-arrow-right-grey.svg') no-repeat center / 10px;\n}\n\n.organizer_list_view .organizer_slidedown_view_toggle_closed:hover,\n.organizer_list_view .organizer_selected .organizer_slidedown_view_toggle_closed {\n\tbackground: url('../admin/images/icon-arrow-right-dark.svg') no-repeat center / 10px;\n}\n\n#organizer_header .disabled #organizer_listViewOptionsDropdown a {\n\tbackground: url('../admin/images/icon-filter-glasses-grey.svg') no-repeat center / 18px 18px;\n}\n\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_list_view a {\n\tbackground: url('../admin/images/icon-list-view-dark.svg') no-repeat center / 15px 15px;\n}\n\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_grid_view a {\n\tbackground: url('../admin/images/icon-grid-dark.svg') no-repeat center / 15px 15px;\n}\n\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_map_view a {\n\tbackground: url('../admin/images/icon-map-dark.svg') no-repeat center / 25px 25px;\n}\n\n#organizer_header .disabled #organizer_listViewOptionsDropdown a {\n\tcursor:default;\n\topacity:0.8;\n}\n\n.headerPanel .viewMode #organizer_summary_view {\n\tdisplay:none;\n}\n\n.headerPanel .viewMode .organizer_switch_view,\n.headerPanel .viewMode .organizer_switch_view a {\n\twidth: 31px;\n}\n\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_compact_list_view a {\n\tbackground: url('../admin/images/icon-compact-view.svg') no-repeat center / 16px 14px;\n}\n\n/*\n\tn.b. I am reusing an old icon here; we need a new icon for this!\n*/\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_view_selected {\n\tbackground: url('../admin/images/store_keeper/top-bar-btns-m-over.png') repeat-x 0px 0px;\n}\n\n\n#zenario_fbAdminColumnFilter,\n#zenario_fbAdminViewModeOptions {\n\tpadding-bottom: 5px;\n\tbackground-color: #333;\n\tcolor: #FFF;\n\toverflow: hidden;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #646464;\n\t-moz-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #646464;\n\tbox-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #646464;\n\tborder: solid 1px #333;\n}\n\n#zenario_fbAdminColumnFilter,\n#zenario_fbAdminViewModeOptions {\n\tfont-family:Verdana,Arial,Helvetica,sans-serif;\n\tfont-size:11px;\n}\n\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader {\n\tmargin: 1px 1px 3px;\n\tpadding: 2px 2px 3px 6px;\n\tline-height: 23px;\n\tcolor: #FFF;\n\tfont-weight: bold;\n\ttext-indent:-999;\n\tfont-size:0;\n\tline-height:0;\n}\n\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a {\n\tdisplay: block;\n\tposition:absolute;\n\ttop:10px;\n\theight: 22px;\n\twidth: 22px;\n\tbackground:url('../admin/images/icon-close-off-state-light-grey.svg') no-repeat center center / 14px 13px;\n\tcursor: pointer;\n}\n\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a:hover {\n\tbackground:url('../admin/images/icon-close-hover-state-blue.svg') no-repeat center center / 14px 13px;\n}\n\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a { \n\tright:20px;\n}\n\n#zenario_fbAdminViewModeOptions p {\n\tmargin: 0px;\n\tpadding: 2px 5px;\n\twhite-space: nowrap;\n}\n\n\n#zenario_fbAdminViewModeOptions .notused {\n\topacity: 0.25;\n}\n\n#zenario_fbAdminViewModeOptions p a.sortcol {\n\tmargin-left: 5px;\n}\n\n#zenario_fbAdminViewModeOptions p a.cansortcol {\n\tcursor: pointer;\n}\n\n#zenario_fbAdminViewModeOptions .zenario_ab_row__showcol__title_ div {\n\tbackground:url('../admin/images/border-horizontal-black-grey.gif') repeat-x bottom;\n\tpadding:5px 10px 15px;\n\tmargin-bottom:15px;\n}\n\n#zenario_fbAdminViewModeOptions .zenario_ab_row__showcol__title_ div div {\n\tbackground:none;\n\tpadding:0;\n\tmargin:0;\n}\n\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_show,\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv,\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_sort {\n\tfont-size: 10px;\n\tfont-weight:bold;\n\tcolor:#43d4f4;\n}\n\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_show,\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv {\n\tfloat: left;\n\twidth: 35px;\n\tpadding-left: 5px;\n}\n\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv {\n\tpadding-right: 1px;\n}\n\n\n#zenario_fbAdminViewModeOptions div#organizer_colsortfields,\n#zenario_fbAdminViewModeOptions div#organizer_filterfields {\n\toverflow: auto;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n}\n\n#zenario_fbAdminViewModeOptions table.thickbox_table {\n\twidth: 100%;\n\tborder-collapse: collapse;\n}\n\n#zenario_fbAdminViewModeOptions table.thickbox_table tr td {\n\tmargin:0;\n\tpadding:0;\n}\n\n#zenario_fbAdminViewModeOptions div#organizer_colsortfields table.thickbox_table tr td {\n\tpadding:0 0 3px;\n}\n\n#zenario_fbAdminViewModeOptions div#organizer_colsortfields .zenario_colsortfields_row {\n\twidth:100%;\n\toverflow:hidden;\n}\n\n#zenario_fbAdminViewModeOptions td.title {\n\ttext-align: right;\n\twidth: 100px;\n}\n\n#zenario_fbAdminViewModeOptions td.title label {\n\tpadding-right:2px;\n}\n\n#zenario_fbAdminColumnFilter {\n\tpadding:15px 15px 10px;\n}\n\n#zenario_fbAdminColumnFilter td.title a,\n#zenario_fbAdminColumnFilter tr.yes_or_no a {\n\tcursor: pointer;\n}\n\n#zenario_fbAdminColumnFilter a.inverter,\n#zenario_fbAdminViewModeOptions a.organizer_inverter {\n\tborder: 1px solid #BA0505;\n\tbackground: #E50707;\n\tpadding: 0 1px 2px;\n\tcolor:#FFF;\n\ttext-shadow:0 1px 1px #000000;\n\t-webkit-border-radius: 3px;\n\t-moz-border-radius: 3px;\n\tborder-radius: 3px;\n\tcursor:pointer;\n}\n\n#zenario_fbAdminColumnFilter a.organizer_not,\n#zenario_fbAdminViewModeOptions a.organizer_not {\n\ttext-decoration:line-through;\n}\n\n#zenario_fbAdminViewModeOptions a.organizer_inverter {\n\t/*line-height:40px;*/\n\tmargin-right:3px;\n}\n\n#zenario_fbAdminColumnFilter a.inverter:hover {\n\tborder-color:#8D0303;\n\tbackground: #BA0505;\n}\n\n#zenario_fbAdminViewModeOptions a.organizer_inverter {\n}\n\n#zenario_fbAdminColumnFilter td.title a.not,\n#zenario_fbAdminColumnFilter tr.yes_or_no a.not {\n\ttext-decoration: line-through;\n}\n\n#zenario_fbAdminColumnFilter tr.yes_or_no td.title a.not,\n#zenario_fbAdminColumnFilter tr.yes_or_no a.not,\n#zenario_fbAdminColumnFilter tr.enum a.not {\n\ttext-decoration: none;\n}\n\n#zenario_fbAdminColumnFilter .organizer_remove_filter {\n\tborder: none;\n\tborder:0;\n\tcursor:pointer;\n\tbackground:#333;\n\tcolor:#FFF;\n\tfont-weight:bold;\n\tpadding:0;\n}\n\n#zenario_fbAdminColumnFilter .organizer_close_filter {\n\tcursor: pointer;\n\tdisplay:block;\n\twidth:18px;\n\theight:17px;\n\tbackground:url('../admin/images/icon-close-off.svg') no-repeat;\n\tbackground-size:100%;\n\tposition:absolute;\n\ttop:5px;\n\tright:5px;\n}\n\n#zenario_fbAdminColumnFilter .organizer_close_filter:hover {\n\tbackground:url('../admin/images/icon-close-over.svg') no-repeat;\n}\n\n#zenario_fbAdminColumnFilter .organizer_remove_filter_inactive {\n\tvisibility: hidden;\n}\n\n#zenario_fbAdminViewModeOptions .organizer_mov_col {\n\twidth: 16px;\n\theight: 20px;\n\tfloat: right;\n\tclear: both;\n}\n\nbody.ie7 #zenario_fbAdminViewModeOptions .organizer_mov_col {\n\tpadding-right: 17px;\n}\n\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter input.togglefilter_closed {\n\tbackground:url(\"../admin/images/icon-filter-blue.svg\") no-repeat 12px bottom / auto 11px;\n}\n\n/*  Hack by Chris to move the cross inline with the filter funnel above!  */\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter input.togglefilter_open {\n\twidth: 44px;\n}\n\n#zenario_fbAdminViewModeOptions .organizer_mov_col .input_toggle {\n\twidth: 16px;\n\theight: 10px;\n\tfloat: right;\n\tfont-size: 1px;\n}\n\n\n\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter {\n\tfloat: right;\n}\n\n\n#zenario_fbAdminViewModeOptions div.zenario_filters_for_field,\n#zenario_fbAdminViewModeOptions div.zenario_date_filters_for_field {\n\twidth:auto;\n\tmargin:5px 0 5px 65px;\n}\n\n#zenario_fbAdminViewModeOptions input.input_checkbox { \n\twidth: 20px;\n\tmargin-left:15px;\n}\n\nbody.ie6 #zenario_fbAdminViewModeOptions input.input_checkbox,\nbody.ie7 #zenario_fbAdminViewModeOptions input.input_checkbox {\n\twidth: auto;\n\tmargin: 3px 8px 3px 6px;\n\tborder: 0px none;\n\tpadding: 2px;\n}\n\n#zenario_fbAdminViewModeOptions input.input_toggle {\n\tcursor: pointer;\n\tmargin: 0px;\n\tpadding: 0px;\n\tbackground: none transparent;\n\tborder: 0px none;\n\twidth: 50px;\n\tpadding-left:5px;\n\ttext-align:left;\n\theight: 16px;\n\tcolor:#FFF;\n}\n\n#zenario_fbAdminViewModeOptions input.zen_col_hidden {\n\tcolor:#F5E100;\n}\n\n#zenario_fbAdminViewModeOptions input.zen_col_shown {\n\tcolor:#43D4F4;\n}\n\n/*  Fix a bug in IE 9 where the sort buttons display below the text-line.  */\nbody.ie9 #zenario_fbAdminViewModeOptions input.input_toggle {\n\tvertical-align: 5px;\n}\n\n#zenario_fbAdminViewModeOptions input.input_text,\n#zenario_fbAdminViewModeOptions input.input_date {\n\twidth: 115px;\n\tborder:1px solid #ccc;\n}\n\n#zenario_fbAdminViewModeOptions tr.zenario_ab_row__reset div,\n#zenario_fbAdminViewModeOptions tr.zenario_ab_row__toggle_csv div  {\n\tbackground:url('../admin/images/border-horizontal-black-grey.gif') repeat-x top;\n\tdisplay:block;\n\tmargin-top:15px;\n\tpadding:5px;\n\toverflow:hidden;\n}\n\n#zenario_fbAdminViewModeOptions tr.zenario_ab_row__reset div input {\n\twidth:50% !important;\n}\n\n#zenario_fbAdminViewModeOptions #reset,\n#zenario_fbAdminViewModeOptions #toggle_csv {\n\tfont-weight:bold;\n\tcolor:#F5E100;\n\ttext-decoration:underline;\n}\n\n#zenario_fbAdminViewModeOptions #reset {\n\tfloat: left;\n\twidth: auto;\n}\n\n#zenario_fbAdminViewModeOptions #toggle_csv {\n\tfloat: right;\n\twidth: auto;\n}\n\n\n/*  Styles for the page size switch  */\n\ndiv.organizer_pageSize {\n\tfloat: right;\n\tmargin: 10px;\n}\n\n\n\n\n\n/* Toolbar Buttons */\n\n.zenario_toolbar_header .toolbar a,\n.zenario_toolbar_header .toolbar div {\n\twidth: 28px;\n\theight: 30px;\n}\n\n.zenario_toolbar_header .toolbar div.organizer_button_separator {\n\twidth: 1px;\n\theight: 28px;\n\tbackground:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat right 10px;\n}\n\n.zenario_toolbar_header .toolbar .button {\n\theight: 27px;\n\tline-height: 27px;\n}\n\n.zenario_toolbar_header .toolbar .button a,\n.zenario_toolbar_header .toolbar .button div {\n\tmargin-top: 2px;\n}\n\n.zenario_toolbar_header .toolbar .button img {\n\tborder:none;\n}\n\n\n\n\n\n\n\n\n#organizer_Outer  {\n\twidth: 940px;\n\theight: 616px;\n\toverflow:hidden;\n\tmargin:7px 0px 0px 10px;\n}\n\n#organizer_Outer .organizer_findOuterWrap  {\n}\n\n#organizer_mainColumnsWrap {\n\twidth:100%;\n\toverflow:hidden;\n\tclear:both;\n}\n\n#organizer_bottomWrap {\n\twidth:100%;\n\toverflow:hidden;\n\tclear:both;\n}\n\n#organizer_bottomWrap #organizer_lowerLeftColumn,\n#organizer_bottomWrap #organizer_lowerRightColumn {\n\twidth:25%;\n}\n\n#organizer_bottomWrap #organizer_lowerMiddleColumn {\n\twidth:49%;\n\tmargin:0 0.5%;\n}\n\n#organizer_bottomWrap #organizer_lowerLeftColumn,\n#organizer_bottomWrap #organizer_lowerMiddleColumn {\n\tfloat:left;\n}\n\n#organizer_bottomWrap #organizer_lowerRightColumn {\n\tfloat:right;\n}\n\n#organizer_bottomWrap #organizer_lowerLeftColumn div {\n\tmargin-left:4px;\n\tmargin-right:4px;\n}\n\n.zenario_debugInfo .organizer_info_box,\n#organizer_topRightIcons .organizer_enabled_disabled,\n#organizer_topRightIcons .organizer_info_box,\n#organizer_topRightIcons .organizer_help,\n#organizer_topRightIcons .organizer_diagnostics,\n#organizer_topRightIcons .zenario_debug {\n\twidth:18px;\n\theight:18px;\n\tdisplay:block;\n\tfloat:left;\n\tcursor:pointer;\n}\n\n.zenario_debugInfo .organizer_info_box,\n#organizer_topRightIcons .organizer_enabled_disabled,\n#organizer_topRightIcons .organizer_info_box,\n#organizer_topRightIcons .organizer_help,\n#organizer_topRightIcons .organizer_diagnostics {\n\tmargin-top:8px;\n}\n\n#organizer_topRightIcons .organizer_info_box,\n.zenario_at_dev_icon.organizer_info_box,\n.zenario_debugInfo .organizer_info_box {\n\tcursor: pointer;\n\tbackground: url('../admin/images/icon-info.svg') no-repeat center / auto 18px;\n}\n\n#organizer_topRightIcons .organizer_help {\n\tbackground: url('../admin/images/icon-footer-optimisation-off.png') no-repeat center / 18px 18px;\n}\n\n.zenario_at_dev_icon.organizer_diagnostics,\n#organizer_topRightIcons .organizer_diagnostics {\n\tbackground: url('../admin/images/icon-footer-site-diagnostics.svg') no-repeat center / auto 18px;\n}\n\n#organizer_topRightIcons .organizer_enabled_disabled.site_enabled,\n.zenario_at_dev_icon.site_enabled {\n\tbackground: url('../admin/images/icon-footer-site-enabled-green.svg') no-repeat center / auto 18px;\n}\n\n#organizer_topRightIcons .organizer_enabled_disabled.site_disabled,\n.zenario_at_dev_icon.site_disabled {\n\tbackground: url('../admin/images/icon-site-disabled.svg') no-repeat center / auto 18px;\n}\n\n#organizer_topRightIcons .organizer_enabled_disabled.site_enabled_development,\n.zenario_at_dev_icon.site_enabled_development {\n\tbackground: url('../admin/images/icon-footer-site-enabled.png') no-repeat center / 18px 18px;\n}\n\n#zenario_at_top_left_menu .organizer_item_image.all_languages {\n\tbackground: 15% 30% no-repeat url('../admin/images/icon-languages.svg') / auto 18px;\n}\n\n#organizer_topRightIcons .organizer_help,\n#organizer_topRightIcons .organizer_info_box,\n#organizer_topRightIcons .organizer_enabled_disabled,\n#organizer_topRightIcons .organizer_diagnostics {\n\topacity: 1;\n\ttransition: opacity .25s ease-in-out;\n\t-moz-transition: opacity .25s ease-in-out;\n\t-webkit-transition: opacity .25s ease-in-out;\n}\n\n#organizer_topRightIcons .organizer_help:hover,\n#organizer_topRightIcons .organizer_info_box:hover,\n#organizer_topRightIcons .organizer_enabled_disabled:hover,\n#organizer_topRightIcons .organizer_diagnostics:hover {\n\topacity:0.7;\n}\n\n.zenario_debugInfo .organizer_info_box {\n\tcursor: default;\n}\n\n.zenario_debugInfo td .organizer_info_box {\n\tfloat: none;\n}\n\n#organizer_bottomWrap #organizer_bottomRightForm {\n\tmargin-right:8px;\n}\n\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button {\n\t-webkit-border-radius: 2px 3px 3px 2px/3px;\n\t-moz-border-radius: 2px 3px 3px 2px/3px;\n\tborder-radius: 2px 3px 3px 2px/3px;\n\tbackground-color: #0298c3;\n\tborder: solid 1px #007fa3;\n\tcursor:pointer;\n\tcolor: #FFFFFF;\n\tfont-family: Verdana,Tahoma,Arial,Helvetica,sans-serif;\n\tfont-size: 13px;\n\tpadding: 2px 10px 3px;\n\ttext-shadow: 0 1px 1px #000000;\n\tmargin-top:5px;\n}\n\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button:hover {\n\tbackground-color: #007fa3;\n\t-webkit-box-shadow: 0 0 4px rgba(0,0,0,.45);\n\t-moz-box-shadow: 0 0 4px rgba(0,0,0,.45);\n\tbox-shadow: 0 0 4px rgba(0,0,0,.45);\n\tborder: solid 1px #015d77;\n}\n\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button.submit_disabled,\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button.submit_disabled:hover {\n\tcolor:#848585;\n\ttext-shadow:none;\n\tbackground:#DEDEDE;\n\tborder:1px solid #C5C5C5;\n\t-webkit-box-shadow: none;\n\t-moz-box-shadow: none;\n\tbox-shadow: none;\n\tcursor:auto;\n}\n\n#organizer_rightColumn {\n\toverflow: hidden;\n\tposition:relative;\n}\n\n#organizer_leftColumnOuter  {\n\twidth: 188px;\n\tmargin-right:10px;\n\tfloat: left;  \n\tborder: 1px solid #A2A2A2;\n\t-webkit-box-shadow: 0px 0px 3px 0px #888;\n\tbox-shadow: 0px 0px 3px 0px #888;\n}\n\n#organizer_leftColumn {\n\twidth: 188px;\n\theight: 575px;\n\tbackground: #FFF;\n\tposition:relative;\n}\n\n#organizer_leftColumn #organizer_topLevelNav,\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav {\n\tfloat: left;\n\theight: 100%;\n\toverflow: hidden;\n}\n\n#organizer_leftColumn #organizer_topLevelNav #organizer_topLevelNavInner {\n\tpadding-bottom:60px;\n}\n\n#organizer_leftColumn #organizer_topLevelNavScroll {\n\tclear: both;\n\theight: 0;\n\tposition: absolute;\n\tleft: 0;\n\ttext-align: left;\n\tbottom: 0;\n\twidth: 34px;\n\theight:47px;\n\tpadding-top:10px;\n\tbackground:#333333;\n\tz-index: 98;\n}\n\n#organizer_leftColumn #organizer_topLevelNavScrollUp,\n#organizer_leftColumn #organizer_topLevelNavScrollDown {\n\tcolor: #D1D1D1;\n\tborder: 0 none;\n\theight: 15px;\n\tposition: absolute;\n\twidth: 15px;\n\tz-index: 99;\n\tleft:0;\n\tpadding:0 8px 0 11px\n}\n\n#organizer_leftColumn #organizer_topLevelNavScrollDown {\n\tmargin-top: 15px;\n}\n\n#organizer_leftColumn #organizer_topLevelNavScrollUp.organizer_scrollActive,\n#organizer_leftColumn #organizer_topLevelNavScrollDown.organizer_scrollActive {\n\tcolor: #C5E7F3;\n\tcursor:pointer;\n}\n\n#organizer_leftColumn #organizer_topLevelNav {\n\twidth: 33px;\n\tbackground:#333;\n\tborder-left:1px solid #333;\n\tborder-right:5px solid #00D201;\n}\n\n#organizer_leftColumn #organizer_topLevelNav .organizer_item:first-child {\n\tmargin-top:10px;\n}\n\n#organizer_leftColumn #organizer_topLevelNav .organizer_item {\n\tpadding-bottom:2px;\n\tbackground:url('../admin/images/store_keeper/sk-div-border-black-grey.gif') no-repeat center bottom;\n}\n\n#organizer_leftColumn #organizer_topLevelNav .organizer_item .legend_on {\n\tbackground:#01D103;\n\t-webkit-border-top-left-radius: 2px;\n\t-webkit-border-bottom-left-radius: 2px;\n\t-moz-border-radius-topleft: 2px;\n\t-moz-border-radius-bottomleft: 2px;\n\tborder-top-left-radius: 2px;\n\tborder-bottom-left-radius: 2px;\n}\n\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav {\n\twidth: 146px;\n\tmargin:0 1px;\n}\n\n#organizer_leftColumn .organizer_sectionTitleText {\n\tpadding:12px 5px 12px 15px;\n\tmargin-bottom:12px;\n\tborder-bottom:1px dashed #A1A1A1;\n\tcolor: #333;\n}\n\n#organizer_leftColumn .organizer_sectionTitleText .organizer_sectionTitle {\n\tfont-weight:bold;\n\tpadding:0 0 5px 0;\n}\n\n#organizer_leftColumn .organizer_sectionTitleText .organizer_sectionText {\n\tfont-size:11px;\n}\n\n#organizer_leftColumn .legend_on span,\n#organizer_leftColumn .legend_on a span,\n#organizer_leftColumn .organizer_legend a:hover span{\n\t/*color:#00657a;*/\n}\n\n#organizer_leftColumn .organizer_legend span,\n#organizer_leftColumn .organizer_legend a span{\n\tfont-weight:bold;\n}\n\n#organizer_leftColumn .second_level_item .organizer_legend span,\n#organizer_leftColumn .second_level_item .organizer_legend a span {\n\tfont-weight:normal;\n}\n\n#organizer_leftColumn .second_level_item .legend_on span,\n#organizer_leftColumn .second_level_item .legend_on a span {\n\tfont-weight:bold;\n}\n\n#organizer_leftColumn .organizer_legend a {\n\tdisplay: block;\n\tpadding: 0;\n\tline-height: 35px;\n\theight: 35px;\n\toverflow: hidden;\n\tcolor: #616161;\n\ttext-decoration: none;\n}\n\n#organizer_leftColumn .second_level_item .organizer_legend a {\n\tdisplay: block;\n\tpadding: 0 5px 0 15px;\n\tline-height: 22px;\n\theight: 22px;\n\toverflow: hidden;\n\tfont-size: 8pt;\n}\n\n#organizer_leftColumn .second_level_item .legend_on {\n\tbackground:#BAEFBA;\n}\n\n#organizer_leftColumn .second_level_item .legend_on a span,\n#organizer_leftColumn .second_level_item .organizer_legend a:hover {\n\tcolor: #333;\n}\n\n#organizer_leftColumn .second_level_item.zenario_separator_before_this:before,\n#organizer_leftColumn .second_level_item.zenario_separator_after_this:after {\n\tcontent: \"\";\n\tdisplay: block;\n\theight: 1px;\n\tbackground: #aaa;\n\twidth: 100px;\n\tmargin: 2px 5px 2px 15px;\n}\n\n.organizer_top_level_image.zenario_cms_core_languages {\n\tbackground: url('../admin/images/icon-international-off.png') no-repeat center / 18px 18px;\n}\n\n.organizer_top_level_image.zenario_cms_core_content {\n\tbackground: url('../admin/images/icon-content-items-off.svg') no-repeat center / auto 17px;\n}\n\n.organizer_top_level_image.zenario_cms_core_documents {\n\tbackground: url('../admin/images/icon-documents-off.svg') no-repeat center / auto 17px;\n}\n\n.organizer_top_level_image.zenario_cms_core_administration {\n\tbackground: url('../admin/images/icon-configuration-off.svg') no-repeat center / auto 17px;\n}\n\n.organizer_top_level_image.zenario_cms_core_templates {\n\tbackground: url('../admin/images/icon-layout-off.svg') no-repeat center / auto 16px;\n}\n\n.organizer_top_level_image.zenario_cms_core_users {\n\tbackground: url('../admin/images/icon-users-off.svg') no-repeat center / auto 16px;\n}\n\n.organizer_top_level_image.zenario_cms_core_plugins {\n\tbackground: url('../admin/images/icon-modules-off.svg') no-repeat center / auto 16px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_content,\n#organizer_leftColumn .legend_on a.zenario_cms_core_content,\n.organizer_top_level_image.zenario_cms_core_content:hover {\n\tbackground: url('../admin/images/icon-content-items-on.svg') no-repeat center / auto 17px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_documents,\n#organizer_leftColumn .legend_on a.zenario_cms_core_documents,\n.organizer_top_level_image.zenario_cms_core_documents:hover {\n\tbackground: url('../admin/images/icon-documents-on.svg') no-repeat center / 17px 17px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_templates,\n#organizer_leftColumn .legend_on a.zenario_cms_core_templates,\n.organizer_top_level_image.zenario_cms_core_templates:hover {\n\tbackground: url('../admin/images/icon-layout-on.svg') no-repeat center / 16px 16px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_users,\n#organizer_leftColumn .legend_on a.zenario_cms_core_users,\n.organizer_top_level_image.zenario_cms_core_users:hover {\n\tbackground: url('../admin/images/icon-users-on.svg') no-repeat center / 16px 16px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_languages,\n#organizer_leftColumn .legend_on a.zenario_cms_core_languages,\n.organizer_top_level_image.zenario_cms_core_languages:hover {\n\tbackground: url('../admin/images/icon-international-on.png') no-repeat center / 18px 18px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_plugins,\n#organizer_leftColumn .legend_on a.zenario_cms_core_plugins,\n.organizer_top_level_image.zenario_cms_core_plugins:hover {\n\tbackground: url('../admin/images/icon-modules-on.svg') no-repeat center / 16px 16px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_administration,\n#organizer_leftColumn .legend_on a.zenario_cms_core_administration,\n.organizer_top_level_image.zenario_cms_core_administration:hover {\n\tbackground: url('../admin/images/icon-configuration-on.svg') no-repeat center / 17px 17px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_menu,\n.organizer_top_level_image.zenario_cms_core_menu {\n\tbackground: url('../admin/images/icon-menu-navigation-off.svg') no-repeat center / 17px 17px;\n}\n\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_menu,\n.organizer_top_level_image.zenario_cms_core_menu:hover,\n#organizer_leftColumn .legend_on a.zenario_cms_core_menu {\n\tbackground: url('../admin/images/icon-menu-navigation-on.svg') no-repeat center / 17px 17px;\n}\n\n\n#organizer_rightColumn {\n\tmargin: 0px;\n\tfloat: left;\n}\n\n#organizer_rightColumn #organizer_panelTitle table {\n\twidth:100%;\n}\n\n#organizer_rightColumn #organizer_panelTitle .listicon {\n\tdisplay:block;\n\theight:25px;\n\twidth:30px;\n\tfloat:left;\n}\n\n#organizer_rightColumn #organizer_rightColumnTitle {\n\tposition:relative;\n}\n\n#organizer_rightColumn #organizer_rightColumnTitle #organizer_panelTitle {\n\tbackground: none repeat scroll 0 0 #FFFFFF;\n\tborder: 1px solid #C5C5C5;\n\tborder-radius: 2px;\n\tcolor: #000000;\n\theight: 24px;\n\tline-height: 24px;\n\toverflow: hidden;\n\tpadding: 5px 10px;\n\tfont-size: 8pt;\n}\n\n.clearfix:after {\n\tcontent: \".\";\n\tdisplay: block;\n\theight: 0;\n\tclear: both;\n\tvisibility: hidden;\n}\n\t\n.clearfix {display: inline-block;}  /* for IE/Mac */\n\n.body.ie .clearfix {\n\tzoom: 1;\t /* triggers hasLayout */\n\tdisplay: block;\t /* resets display for IE/Win */\n}\n\n.organizer_rightColumnOptions_panel {\n\tmargin-bottom:5px;\n\tborder-bottom:1px solid #DCDCDC;\n\tposition:relative;\n}\n\n.organizer_toolbar,\n.organizer_rightColumnOptions_panel {\n\theight:50px;\n}\n\n/*\tHack to stop buttons from overflowing to the next line  */\n#organizer_rightColumnOptions {\n\twidth: 3000px;\n}\n\n#organizer_collectionToolbar,\n#organizer_itemToolbar,\n#organizer_collectionToolbarWrap,\n#organizer_itemToolbarWrap,\n#organizer_previousToolbar {\n\tdisplay: inline-block;\n}\n\n/*\tSet a solid background on the item buttons, so they cover up the collection buttons if overlayed  */\n#organizer_itemToolbar,\n#organizer_itemToolbarWrap {\n    position: relative;\n    z-index: 50;\n}\n\n#organizer_collectionToolbar a,\n#organizer_itemToolbar a,\n#organizer_previousToolbar a,\n#organizer_quickFilter a {\n\tcursor:pointer;\n}\n\n/* 110518 - Liz\n\n#organizer_collectionToolbar {\n\twidth:210px;\n\toverflow:hidden;\n}\n\n#organizer_collectionToolbar #organizer_collectionToolbarButtons {\n\tdisplay:block;\n\twidth:3000px;\n\theight:50px;\n}*/\n\n\n#organizer_itemToolbar {\n\tz-index:9;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger,\n.organizer_toolbar .toolbarButtons .organizer_button_separator {\n\tfloat:left;\n\tmargin:10px 0 0;\n\theight:20px;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_children span.organizer_button_dropdown_trigger {\n\tmargin:0;\n\theight:auto;\n\tfloat:none;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_children span.organizer_button_dropdown_trigger:hover .label_without_icon {\n\tbackground:#DDF6FD;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .label_without_icon {\n\tpadding:0 10px;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children {\n\tpadding-right:4px;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children a {\n\tbackground: url('../admin/images/icon-arrow-down-dark.svg') no-repeat right 5px / 8px 8px;\n\tpadding-right:12px;\n}\n\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children span.organizer_button_dropdown_trigger a {\n\tbackground:none;\n\tpadding-right:0;\n}\n\n.organizer_toolbar .toolbarButtons div.organizer_button_separator {\n\twidth:2px;\n\tbackground:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat;\n}\n\n.organizer_toolbar .toolbarButtons {\n\tfont-size:11px;\n}\n\n.organizer_toolbar .toolbarButtons a {\n\tcolor:#000;\n\ttext-decoration:none;\n}\n\n.organizer_toolbar .toolbar .organizer_button_dropdown_trigger {\n\tdisplay: block;\n\tfloat: left;\n\tposition:relative;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children {\n\tdisplay: none;\n\ttop: 20px;\n\tleft:0;\n\tz-index:90;\n\tposition: absolute;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children div {\n\tmargin: 0px auto;\n\tpadding: 2px 2px 2px;\n\twidth: 200px;\n\tbackground-image: none;\n\tbackground-color: white;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children a {\n\tdisplay:block;\n\tpadding:5px 0;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children .organizer_button_separator {\n\tdisplay:none;\n}\n\n.organizer_toolbar .toolbar .organizer_button_dropdown_trigger:hover div.organizer_button_children {\n\tdisplay: block;\n}\n\n.organizer_toolbar .toolbar .organizer_button_dropdown_trigger:hover div.organizer_button_children div.organizer_button_children {\n\tdisplay: none;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children div {\n\tclear: left;\n}\n\n.organizer_toolbar .toolbar div.organizer_button_children div.organizer_button_separator {\n\tdisplay: none;\n}\n\n/* rightColumn header toolbar Buttons */\n\n.organizer_toolbar .toolbar .toolbarButtons ul,\n.organizer_toolbar .toolbar .toolbarButtons ul li {\n\tlist-style:none;\n\tmargin:0;\n\tpadding:0;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons {\n\tz-index:50;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons,\n.organizer_toolbar .toolbar .toolbarButtons ul,\n.organizer_toolbar .toolbar .toolbarButtons ul li,\n.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\tposition: relative;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul {\n\tz-index:101;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons,\n.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\theight:26px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li,\n.organizer_toolbar .toolbar .toolbarButtons ul li a,\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li a {\n\tdisplay: block;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul,\n.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\tfloat:left;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li a {\n\tfloat:none;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\tdisplay: block;\n\theight:25px;\n\tpadding:10px 15px 6px 15px;\n\ttext-decoration:none;\n}\n\n.organizer_toolbar .toolbar #organizer_collectionToolbarButtons > ul {\n\tmargin-top:5px;\n}\n\n.organizer_toolbar .toolbar #organizer_collectionToolbarButtons > ul > li {\n\tmargin-top:0;\n}\n\n.organizer_toolbar .toolbar#organizer_collectionToolbar .toolbarButtons > ul > li {\n\tbackground:none !important;\n\tpadding-right:0 !important;\n\tmargin-right:5px;\n} \n\n.organizer_toolbar .toolbar#organizer_collectionToolbar .toolbarButtons > ul.organizer_button__settings_dropdown > li {\n\tpadding-right:5px !important;\n} \n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a {\n\tcursor: pointer;\n\theight:auto;\n\ttext-shadow:0 1px 1px #000;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n\tpadding:5px 10px 6px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a {\n\tbackground:#E50707;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a:hover {\n\tbackground:#BA0505;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a {\n\tbackground:#0298C3;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a:hover {\n\tbackground:#007FA3;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a {\n\ttransition:all 0.5s ease 0s;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton:hover a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a:hover,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton:hover a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a:hover {\n\tcolor:#FFF !important;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li {\n\tdisplay:inline-block;\n\tpadding-right:7px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li {\n\theight:auto;\n\tbackground:none;\n\tpadding-left:0;\n\tpadding-right:0;\n\tdisplay:block;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul,\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li a  {\n\theight: auto;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul {\n\tleft:0px;\n\ttop:36px;\n\tz-index:90 !important;\n\tposition: absolute;\n\tmargin: 0px auto;\n\tpadding:0px;\n\tmin-width: 200px;\n\t/*max-height: 35em;\n\toverflow-y:auto;*/\n\tmax-height:70vh;\n\toverflow-y:auto;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li {\n\tpadding: 4px 0;\n\tborder-top:1px solid #DCDCDC;\n\tborder-bottom:1px solid #FFF;\n\tmargin:0 5px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li:first-child {\n\tborder-top:0;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li a  {\n\tpadding: 5px 8px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons a:hover {\n\ttext-decoration:none;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li ul  {\n\ttop: 0;\n\tleft: 100%;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul ul,\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul ul {\n\tdisplay: none;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul {\n\tdisplay: block;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul ul {\n\tbackground:#F6F6F6;\n\tborder:1px solid #808080;\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;\n\t-moz-box-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;\n\tbox-shadow: 0 1px 5px rgba(0,0,0,.85), inset 0 1px #fff;  \n\tposition: relative;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul ul:after {\n\tbottom: 100%;\n\tleft: 20px;\n\tborder: solid transparent;\n\tcontent: \" \";\n\theight: 0;\n\twidth: 0;\n\tposition: absolute;\n\tpointer-events: none;\n\tborder-color: rgba(50, 52, 51, 0);\n\tborder-bottom-color: #323433;\n\tborder-width: 8px;\n\tmargin-left: -8px;\n}\n\n/*.organizer_toolbar .toolbar .toolbarButtons ul ul:after {\n\tborder-color: #F6F6F6 transparent;\n\tborder-style: solid;\n\tborder-width: 0 10px 10px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 15px;\n\twidth: 0;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul ul:before {\n\tborder-color: #333 transparent;\n\tborder-style: solid;\n\tborder-width: 0 12px 12px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 13px;\n\twidth: 0;\n}*/\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_with_children a {\n\tbackground: url('../admin/images/icon-arrow-down-dark.svg') no-repeat right 15px / 8px 8px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li {\n\tdisplay:inline-block;\n\tbackground:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat right 7px;\n\tmargin-top:5px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image {\n\tmargin-top:10px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image,\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image div {\n\tfloat: left;\n\theight: 26px;\n\tbackground-position: left center;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image div {\n\tbackground-position: center center;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons .organizer_items_selected {\n\twhite-space: nowrap;\n\tpadding: 5px 0 0 26px;\n\tmargin: 0 5px 0 0;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul:last-child li {\n\tbackground: none;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li li,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_with_children li a {\n\tbackground:none;\n}\n\n/*.organizer_toolbar .toolbar .toolbarButtons ul li li.label_without_icon {\n\tbackground:url('../admin/images/icon-info.gif') no-repeat right 10px;\n}*/\n\n.organizer_toolbar .toolbar .toolbarButtons ul li li a {\n\t-webkit-transition : background-color 200ms ease-in-out;\n  \t-moz-transition : background-color 200ms ease-in-out;\n  \t-o-transition : background-color 200ms ease-in-out;\n  \ttransition : background-color 200ms ease-in-out;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover a {\n\tcolor:#007FA3;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover li a:hover {\n\tbackground:#fbf290;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover li a {\n\tcolor:#000;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_disabled > a, \n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_disabled:hover > a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_disabled > a,\n.organizer_toolbar .toolbar .toolbarButtons ul li li.organizer_button_disabled > a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_disabled:hover > a,\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul li.organizer_button_disabled > a,\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul li.organizer_button_disabled:hover > a {\n\tcolor: #888 !important;\n\ttext-decoration:none;\n\tcursor:auto !important;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover li.organizer_button_disabled a:hover {\n\tbackground:transparent;\n}\n\n/* Toolbar orange button with children */\n\n/*.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children > a {\n\tbackground:#ea5900;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children > a span {\n\tpadding-right:15px;\n\tbackground: url('../admin/images/icon-arrow-down-white.svg') no-repeat right 5px / 8px 8px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children ul {\n\toverflow-y: auto;\n\ttop:26px;\n\tmax-height:300px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children ul li a {\n\tcolor:#000;\n\ttext-shadow:none;\n}\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children ul li a:hover {\n\tcolor:#027dc9;\n}*/\n\n.organizer_toolbar .toolbar .toolbarButtons > ul > li {\n\t-webkit-transition : background-color 200ms ease-in-out;\n  \t-moz-transition : background-color 200ms ease-in-out;\n  \t-o-transition : background-color 200ms ease-in-out;\n  \ttransition : background-color 200ms ease-in-out;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons > ul > li:hover {\n\tbackground-color:#fbf290;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons > ul > li:hover a {\n\tcolor:#000;\n}\n\n/* Quick filter buttons - hastely copied from the above */\n\n#organizer_quickFilter ul,\n#organizer_quickFilter ul li {\n\tlist-style:none;\n\tmargin:0;\n\tpadding:0;\n}\n\n#organizer_quickFilter {\n\tz-index:51;\n\tdisplay:inline-block;\n\theight:36px;\n\tpadding:0 5px 0 3px;\n\tborder:1px solid #B9B9B9;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n\t-webkit-box-shadow:inset 0 0 3px 2px #ECECEC;\n\tbox-shadow:inset 0 0 3px 0 #ECECEC;\n\tbackground:#FFF;\n\tfont-size:11px;\n}\n\n#organizer_quickFilter,\n#organizer_quickFilter ul,\n#organizer_quickFilter ul li,\n#organizer_quickFilter ul li a {\n\tposition: relative;\n}\n\n#organizer_quickFilter ul li,\n#organizer_quickFilter ul li a {\n\tdisplay: block;\n}\n\n#organizer_quickFilter ul {\n\tz-index:101;\n}\n\n#organizer_quickFilter ul,\n#organizer_quickFilter ul li a {\n\tfloat:left;\n}\n\n#organizer_quickFilter ul li {\n\tmargin-left:2px;\n\theight:auto;\n\tbackground:none;\n\tpadding-left:0;\n\tpadding-right:0;\n}\n\n#organizer_quickFilter ul li a {\n\tdisplay: block;\n\tline-height:24px;\n\tpadding:0 12px 0 12px;\n\tcolor: black;\n\tbackground-color:#E6E6E6;\n\tborder:1px solid #D0D0D0;\n\ttext-decoration:none;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n\tmargin-top:5px;\n}\n\n#organizer_quickFilter ul li.group_break a {\n\tpadding: 0 2px;\n\tbackground:transparent;\n\tborder:0;\n}\n\n#organizer_quickFilter ul li a span {\n\tpadding-bottom:20px;\n}\n\n#organizer_quickFilter ul ul,\n#organizer_quickFilter ul ul li a  {\n\theight: auto;\n}\n\n#organizer_quickFilter ul ul li a  {\n\tfloat:none;\n\tline-height:18px;\n\tborder:0;\n\tmargin:0;\n\tpadding:3px 5px 4px;\n}\n\n#organizer_quickFilter ul li li a span {\n\tpadding-bottom:0;\n}\n\n#organizer_quickFilter ul ul {\n\twidth: 200px;\n\tz-index:90 !important;\n\tposition: absolute;\n\ttop:38px;\n\tleft:0;\n\tmargin: 0px auto;\n\tpadding:0 0 5px;\n\tmax-height:70vh;\n\toverflow-y:auto;\n}\n\n#organizer_quickFilter ul ul li {\n\tpadding:0;\n\tborder-top:1px solid #747474;\n\tborder-bottom:1px solid #000;\n\tmargin:0 5px;\n}\n\n#organizer_quickFilter ul ul li:first-child {\n\tborder-top:0;\n}\n\n#organizer_quickFilter ul ul li:last-child {\n\tborder-bottom:0;\n}\n\n#organizer_quickFilter ul li ul li ul  {\n\ttop: 0;\n\tleft: 100%;\n}\n\n#organizer_quickFilter ul ul,\n#organizer_quickFilter ul li:hover ul ul {\n\tdisplay: none;\n}\n\n#organizer_quickFilter ul li:hover ul {\n\tdisplay: block;\n}\n\n#organizer_quickFilter ul ul {\n\tbackground:#333333;\n\tborder:1px solid #333;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\t-webkit-box-shadow: 0 0 3px 0 #D6D6D6;\n\tbox-shadow: 0 0 3px 0 #D6D6D6;  \n}\n\n#organizer_quickFilter ul ul:after {\n\tborder-color: #333333 transparent;\n\tborder-style: solid;\n\tborder-width: 0 8px 8px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 15px;\n\twidth: 0;\n}\n\n#organizer_quickFilter ul ul:before {\n\tborder-color: #333 transparent;\n\tborder-style: solid;\n\tborder-width: 0 10px 10px;\n\tbottom: 100%;\n\tcontent: \"\";\n\theight: 0;\n\tposition: absolute;\n\tleft: 13px;\n\twidth: 0;\n}\n\n#organizer_quickFilter ul li.organizer_button_with_children > a {\n\tbackground: url('../admin/images/icon-arrow-down-dark.svg') no-repeat right center / 8px 8px;\n\tline-height:28px;\n\tmargin-top:3px;\n\tpadding-right:25px;\n}\n\n/*\n\tFix a bug with that image having the wrong size - CSS 3 only\n*/\n#organizer_quickFilter ul li.organizer_button_with_children > a {\n\tbackground-position: right 5px center;\n}\n\n#organizer_quickFilter ul li li,\n#organizer_quickFilter ul li.organizer_button_with_children li a {\n\tbackground:none;\n}\n\n#organizer_quickFilter a:hover {\n\ttext-decoration:none;\n}\n\n#organizer_quickFilter ul li:hover a {\n\tcolor:#333;\n}\n\n#organizer_quickFilter ul li li a,\n#organizer_quickFilter ul li:hover li a {\n\tcolor:#FFF;\n}\n\n#organizer_quickFilter ul li:hover li a:hover{\n\tcolor:#43D4F4;\n}\n\n#organizer_quickFilter ul ul li.organizer_qfb_enabled a,\n#organizer_quickFilter ul ul li.organizer_qfb_enabled a:hover {\n\tcolor:#01d300;\n}\n\n#organizer_quickFilter ul ul li.organizer_qfb_enabled a span {\n\tdisplay:inline-block;\n}\n\n#organizer_quickFilter ul ul li.organizer_qfb_enabled a span:after {\n\tcontent:' \\2713';\n}\n\n\n/*  Change the background colour if a quick filter button is enabled  */\n\n#organizer_quickFilter ul > li:hover a {\n\tbackground-color:#CFEAFB;\n}\n\n#organizer_quickFilter ul li.organizer_qfb_no_child.organizer_qfb_enabled  a {\n\tbackground-color:#01D300;\n\tborder:0;\n\tmargin:6px 1px 1px 1px;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n}\n\n#organizer_quickFilter ul li.organizer_qfb_enabled ul a {\n\tmargin:0;\n}\n\n#organizer_quickFilter ul li.organizer_qfb_with_child_enabled > a {\n\tbackground:#01d300 url('../admin/images/store_keeper/arrow-dropdown-grey-space-right.png') no-repeat right center;\n\tborder:1px solid #C6C6C6;\n\tmargin:0;\n\tpadding-right:25px;\n\tline-height:28px;\n\tmargin-top:3px;\n}\n\n#organizer_Outer div.organizer_item {\n\tcursor: pointer;\n}\n\n\n\n/*\tThe \"Item selected\" message, used in the conductor  */\n\n#organizer_selected {\n\tfloat: right;\n\tmargin: 10px 20px 0px 0px;\n}\n\n\n\n/* Top breadcrumbs > organizer_backButton */\n\n#organizer_backButton {\n\tdisplay:inline-block;\n\tfont-size:10px;\n\toverflow:hidden;\n\tpadding-left:30px;\n}\n\n#organizer_backButton span.level a {\n\tdisplay:block;\n\tfloat: left;\n\twidth: 46px;\n\theight: 39px;\n\tmargin-right: -14px;\n\tpointer-events: none;\n\tcolor: transparent;\n\tbackground:url('../admin/images/chevron.svg') no-repeat 0 0 / 46px 40px;\n}\n\n#organizer_backButton span.organizer_lastBackButton a {\n\twidth:auto;\n\tmax-width:300px;\n\tpadding: 0 14px 0 60px;\n\tline-height:36px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\tcolor: #ffffff;\n\tcursor:pointer;\n\tpointer-events:auto;\n}\n\n#organizer_backButton span.organizer_lastBackButton:hover a {\n\ttext-decoration:underline;\n}\n\n/* end Top breadcrumbs > organizer_backButton */\n\n#organizer_rightColumnContent {\n\t/*height: 508px;*/\n\twidth: 738px;\n\t/*overflow-x: auto !important;\n\toverflow-y: hidden !important;*/\n\toverflow: auto;\n\ttext-align:left;\n\tposition: relative;\n\tborder: 1px solid #484848;\n\tbackground:#FFF;\n}\n\n#organizer_rightColumnContent .organizer_header {\n\tposition: relative;\n\tz-index: 5;\n}\n\n#organizer_rightColumn .organizer_dropToUpload {\n\tdisplay:none;\n\tfloat: right;\n\tmargin-left:20px;\n\tpadding:8px 12px;\n\tposition:absolute;\n\ttop:5px;\n\tright:7px;\n\tcolor:#000;\n\tfont-size:11px;\n\tbackground:#f6f6f6;\n\tborder:2px dashed #CDCDCD;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n#organizer_rightColumn.upload_enabled .organizer_dropToUpload {\n\tdisplay: block;\n}\n\n#organizer_rightColumn.upload_enabled #organizer_rightColumnContent,\n#organizer_rightColumn.upload_enabled .organizer_dropToUpload div {\n\tborder: 1px solid #C3C3C3;\n}\n\n#organizer_rightColumn.upload_enabled.dragover #organizer_rightColumnContent,\n#organizer_rightColumn.upload_enabled.dragover .organizer_dropToUpload div {\n\tborder: 1px solid #24e024;\n}\n\n#organizer_rightColumn.upload_enabled .organizer_dropToUpload div,\n#organizer_rightColumn.upload_enabled.dragover .organizer_dropToUpload div {\n\tborder-bottom: none;\n\tbackground: #f8f8f8;\n}\n\n#organizer_rightColumnContent.organizer_grid_view {\n\toverflow-x: hidden !important;\n}\n\n#organizer_list_view,\n#organizer_items_wrapper {\n\twidth: 100%;\n}\n\n#organizer_rightColumnContent div.organizer_list_view {\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tmargin: 0px;\n}\n\n#organizer_rightColumnContent div.organizer_row {\n\toverflow:hidden;\n\tclear:both;\n\tborder-bottom:1px solid #C4C4C4;\n\toverflow:hidden;\n}\n\n#organizer_rightColumnContent div.organizer_non_sortable_resizeable_cols,\n#organizer_rightColumnContent div.organizer_sort_and_resize_wrapper {\n\tfloat:left;\n}\n\n#organizer_rightColumnContent div.organizer_header div.organizer_cell,\n#organizer_rightColumnContent div.organizer_list_view div.organizer_cell {\n\tfloat:left;\n\tposition: relative;\n}\n\n#organizer_rightColumnContent .organizer_header div#organizer_checkbox_col,\n#organizer_rightColumnContent div.organizer_list_view div.organizer_checkbox_col {\n\twidth:25px;\n}\n\n#organizer_rightColumnContent .organizer_header div#organizer_checkbox_col div {\n\twidth: 100%;\n\theight: 100%;\n}\n\n/*#organizer_rightColumnContent div.organizer_list_view .organizer_list_view_body {\n\tborder-bottom:1px solid #C4C4C4;\n}*/\n\n#organizer_rightColumnContent .ui-sortable div.organizer_row,\n#organizer_rightColumnContent .ui-sortable div.organizer_row div.organizer_cell {\n\tcursor:move;\n}\n\n#organizer_rightColumnContent div.organizer_row {\n\tdisplay:block;\n}\n\n#organizer_rightColumnContent div.organizer_list_view div.organizer_cell {\n\tdisplay:block;\n}\n\n#organizer_rightColumnContent div.organizer_row:hover,\n#organizer_rightColumnContent div.organizer_row:hover .organizer_cell {\n\tbackground-color: #DCF5FD;\n}\n\n#organizer_rightColumnContent div.organizer_row {\n\tbackground-color: #FFF;\n}\n\n#organizer_rightColumnContent div.organizer_cell.label_column,\n#organizer_rightColumn div.itemDetail div.organizer_inner_content h2 {\n\tfont-weight:bold;\n\tcolor:#333;\n}\n\n#organizer_rightColumnContent div.organizer_cell.label_column .organizer_cell_line {\n\tfont-weight: normal;\n}\n\n#organizer_rightColumnContent .organizer_cell_line {\n\tfont-style: italic;\n}\n\n#organizer_rightColumnContent .organizer_cell_line.no_italics {\n\tfont-style: normal;\n}\n\n#organizer_rightColumnContent .organizer_grid_view .organizer_checkbox_at_top_left {\n\tposition: relative;\n\tfloat: left;\n\tz-index: 2;\n}\n\n/*  Hack to make the title bar appear full-width in grid view  */\n\n#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row {\n\twidth: 100%;\n\toverflow: hidden;\n}\n\n#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row .organizer_non_sortable_resizeable_cols {\n\twidth: 150%;\n}\n\n#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row .organizer_non_sortable_resizeable_cols .action_column {\n\twidth: 90%;\n}\n\n\n\n#organizer_rightColumnContent .organizer_grid_view .item {\n\twidth:18%;\n\tpadding:10px 6px;\n\tfloat:left;\n\tborder-bottom:1px solid #C5C3C4;\n\tborder-right:1px solid #C5C3C4;\n}\n\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item {\n\twidth: 180px;\n\theight: 270px;\n\tfloat:left;\n\tpadding: 2px 6px;\n\tborder-bottom:1px solid #C5C3C4;\n\tborder-right:1px solid #C5C3C4;\n\tmargin:0;\n\tfont-size:12px;\n\tline-height:13px;\n\tbackground:#FFF;\n}\n\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item:hover {\n\tbackground:#DDF6FD;\n}\n\n#organizer_rightColumn .organizer_grid_view div.organizer_selected,\n#organizer_rightColumn .organizer_grid_view div.ui-selecting,\n#organizer_rightColumn .organizer_grid_view div.organizer_selected:hover,\n#organizer_rightColumn .organizer_grid_view div.ui-selecting:hover {\n\tbackground:#FCF291;\n}\n\n\n/*\n\tPlaceholder code by Chris - attempting to give a yellow background to the item toolbar\n*/\n/*#organizer_rightColumn #organizer_itemToolbar {\n\tbackground: #f5e687;\n\tbackground: linear-gradient(#f5e687, #f5e687 27px, rgba(255,0,0,0) 10%);\n}*/\n\n\n/*\n\tPlaceholder code by Chris - attempting to give the item toolbar a yellow flash every time it changes, and the collection toolbar a white flash every time it changes\n*/\n@keyframes yellow_flash {\n\t0%   {background: #F6F6F6;}\n\t50%  {background: #f5e687;}\n\t100% {background: #F6F6F6;}\n}\n\n@-webkit-keyframes yellow_flash {\n\t0%   {background: #F6F6F6;}\n\t50%  {background: #f5e687;}\n\t100% {background: #F6F6F6;}\n}\n\n/*#organizer_rightColumn #organizer_itemToolbar  {\n\tanimation: yellow_flash 1s;\n\t-webkit-animation: yellow_flash 1s;\n}*/\n\n#organizer_rightColumn #organizer_itemToolbar {\n\tpadding-left: 8px;\n\tbox-sizing: border-box;\n}\n\n#organizer_rightColumn #organizer_collectionToolbar,\n#organizer_rightColumn #organizer_itemToolbar,\n#organizer_rightColumn #organizer_collectionToolbarWrap,\n#organizer_rightColumn #organizer_itemToolbarWrap {\n\theight:49px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons > ul {\n}\n\n/*\n\tN.b. I've dispalyed the \"white flash\" on the collection buttons as it doesn't\n\tlook very nice when they are always displayed along with the item buttons\n*/\n/*\n#organizer_rightColumn #organizer_collectionToolbar {\n\tanimation: white_flash 1s;\n\t-webkit-animation: white_flash 1s;\n}\n\n@keyframes white_flash {\n\t0%   {background: #F6F6F6;}\n\t50%  {background: #ffffff;}\n\t100% {background: #F6F6F6;}\n}\n\n@-webkit-keyframes white_flash {\n\t0%   {background: #F6F6F6;}\n\t50%  {background: #ffffff;}\n\t100% {background: #F6F6F6;}\n}\n*/\n\n\n\n\n\n/*\n\tIcons for the drop-down menus in Organizer for site settings/dataset settings\n*/\n.organizer_settings_dropdown > a > span {\n\tfont-size: 0;\n    width: 13px;\n    height: 13px;\n    line-height: 13px;\n    display: inline-block;\n}\n\n.organizer_button__settings_dropdown .organizer_settings_dropdown > a > span {\n\tbackground: url('../admin/images/icon-site-settings-dark.svg') no-repeat center center;\n}\n\n.organizer_button__dataset_dropdown .organizer_settings_dropdown > a > span {\n\tbackground: url(\"../admin/images/icon-datasets-dark.svg\") no-repeat center center;\n}\n\n\n#organizer_rightColumnContent .organizer_grid_view {\n\tfont-family:Arial,Verdana,Helvetica,Sans-Serif;\n}\n\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item table th,\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item table td {\n\tfont-size:11px;\n}\n\n#organizer_rightColumnContent .organizer_grid_view div.organizer_image_container {\n\tmargin:auto;\n\tpadding-bottom:8px;\n}\n\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item .organizer_legend {\n\tcolor:#007FA2;\n\tfont-weight:bold;\n\tline-height:12px;\n\tmargin-top:5px;\n\t/*height:14px;\n\toverflow:hidden; */\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.right {\n\ttext-align: right;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell {\n\tpadding: 3px 5px;\n\tposition:relative;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row,\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell {\n\tbackground: #333;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_desc,\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_asc {\n\tbackground-color:#5F5F5F;\n\tbackground-repeat:no-repeat;\n\tbackground-position:right center;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.organizer_can_sort {\n\tbackground-image:url('../admin/images/sort-arrow-white-down-v2.png');\n\tbackground-repeat:no-repeat;\n\tbackground-position:right center;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_desc {\n\tbackground-image:url('../admin/images/sort-arrow-green-down.png');\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_asc {\n\tbackground-image:url('../admin/images/sort-arrow-green-up.png');\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row .ui-resizable .ui-resizable-e {\n\twidth:15px;\n\tz-index:10 !important;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell {\n\theight: 29px;\n\tcolor:#FFF;\n\tfont-weight:bold;\n\tvertical-align:middle;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell .label {\n\tline-height:24px;\n\tpadding-right:20px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell,\n#organizer_rightColumnContent div.organizer_row span.organizer_cell {\n\theight: 25px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell,\n#organizer_rightColumnContent div.organizer_row span.organizer_cell,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell a,\n#organizer_rightColumnContent div.organizer_row span.organizer_cell a {\n\tcolor: #202020;\n}\n\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows .organizer_list_view_body_wrap div.organizer_row div.organizer_cell,\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows .organizer_list_view_body_wrap div.organizer_row span.organizer_cell {\n\t/*height: 67px;*/\n\tmin-height: 50px;\n}\n\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell {\n\tborder-style:solid;\n\tborder-width: 0 1px 0 0;\n}\n\n#organizer_rightColumnContent .itemDetail .organizer_col_label {\n\tfont-weight: bold;\n\twhite-space: nowrap;\n\ttext-align: right;\n}\n\n#organizer_rightColumnContent .close_up_view .organizer_col_label {\n\tmin-width: 120px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.firstcol {\n\tborder-left-width: 0px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.firstrow {\n\tborder-top-width: 0px;\n}\n\n#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_can_filter span.icon {\n\twidth:18px;\n\theight:19px;\n\tdisplay:block;\n\tbackground: url(\"../admin/images/icon-filter-blue.svg\") no-repeat center / auto 11px;\n\tposition:absolute;\n\tright:3px;\n\ttop:3px;\n\tcursor:pointer;\n}\n\n#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_filtering span.icon {\n\twidth:18px;\n\theight:19px;\n\tdisplay:block;\n\tbackground: url(\"../admin/images/icon-filter-blue.svg\") no-repeat center / auto 11px;\n\tposition:absolute;\n\tright:3px;\n\ttop:3px;\n\tcursor:pointer;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell {\n\tborder-color:#C4C4C4;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col {\n\tbackground-color:#FFF;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row:hover div.organizer_checkbox_col {\n\tbackground-color: #DCF5FD;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_selected div.organizer_checkbox_col,\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_selected:hover div.organizer_checkbox_col {\n\tbackground-color:#FBF290;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell {\n\tborder-top-width: 0px;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_cant_choose div.organizer_cell,\n#organizer_rightColumnContent div.organizer_row.organizer_non_search_match,\n#organizer_rightColumnContent div.organizer_row.organizer_non_search_match div.organizer_cell {\n\tfilter: alpha(opacity=60); /* internet explorer */\n\t-khtml-opacity: 0.6;\t  /* khtml, old safari */\n\t-moz-opacity: 0.6;\t   /* mozilla, netscape */\n\topacity: 0.6;\t\t   /* fx, safari, opera */\n}\n\n\n/*  Hide the select checkboxes if they're disabled  */\n#organizer_rightColumnContent div.organizer_row.organizer_cant_choose .organizer_checkbox_col input {\n\tdisplay: none;\n}\n\n/*  However if some other checkboxes on this row are visible, use visibility hidden instead to keep things lining up  */\n#organizer_rightColumnContent ol.organizer_can_choose_children div.organizer_row.organizer_cant_choose .organizer_checkbox_col input {\n\tvisibility: hidden;\n\tdisplay: inline;\n}\n\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.brown_line div.organizer_cell {\n\tbackground-color: #993300;\n}\n\n#organizer_rightColumnContent div.organizer_row.brown_line div.organizer_cell {\n\tbackground-color: #663300;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected {\n\tbackground-color: #FBF290;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.brown {\n\tbackground-color: #663300;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.brown {\n\tbackground-color: #993300;\n}\n\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.blue_line div.organizer_cell {\n\tbackground-color: #0099FF;\n}\n\n#organizer_rightColumnContent div.organizer_row.blue_line div.organizer_cell {\n\tbackground-color: #0066FF;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell {\n\tbackground-color: #FBF290;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.blue {\n\tbackground-color: #0066FF;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.blue {\n\tbackground-color: #0099FF;\n}\n\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.orange_line div.organizer_cell {\n\tbackground-color: #FF9900;\n}\n\n#organizer_rightColumnContent div.organizer_row.orange_line div.organizer_cell {\n\tbackground-color: #FF6600;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell,\n#organizer_rightColumnContent div.organizer_row.organizer_selected:hover .organizer_cell {\n\tbackground-color: #FBF290;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.orange {\n\tbackground-color: #FF6600;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.orange {\n\tbackground-color: #FF9900;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.yellow_line div.organizer_cell {\n\tbackground-color: #faf29f;\n}\n\n#organizer_rightColumnContent div.organizer_row.yellow_line div.organizer_cell {\n\tbackground-color: #f6e17a;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.yellow {\n\tbackground-color: #f6e17a;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.yellow {\n\tbackground-color: #faf29f;\n}\n\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.green_line div.organizer_cell {\n\tbackground-color: #b5eec2;\n}\n\n#organizer_rightColumnContent div.organizer_row.green_line div.organizer_cell {\n\tbackground-color: #90dea2;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell {\n\tbackground-color: #FBF290;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.green {\n\tbackground-color: #90dea2;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.green {\n\tbackground-color: #b5eec2;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.red {\n\tbackground-color: #D90000;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.red {\n\tbackground-color: #E43B00;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected.warning_line div.organizer_cell {\n\tbackground-color: #f6a9a4;\n}\n\n#organizer_rightColumnContent div.organizer_row.warning_line div.organizer_cell {\n\tbackground-color: #edc6c4;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell {\n\tbackground-color: #FBF290;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.warning {\n\tbackground-color: #edc6c4;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.warning {\n\tbackground-color: #f6a9a4;\n}\n\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.action_column {\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell .listicon,\n#organizer_rightColumn div.organizer_slidedown_view .listicon,\n#organizer_rightColumn div.organizer_slidedown_view .listicon>div {\n\theight: 23px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon > div {\n\theight:25px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_list_view_icon {\n\twidth: 24px;\n\theight: 25px;\n}\n\n#organizer_rightColumn div.organizer_item_image.organizer_list_view_image {\n\tbackground-position: 30% center;\n}\n\n#organizer_rightColumn div.organizer_item_image.organizer_list_view_image,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon > div.organizer_item_with_image {\n\tbackground-size:contain;\n}\n\n.organizer_item_image.zenario_nest_tab {\n\tbackground:url('../admin/images/icon-tabs.svg') no-repeat center center / 20px auto;\n}\n\n#organizer_rightColumn div.organizer_slidedown_view .listicon,\n#organizer_rightColumn div.organizer_slidedown_view .listicon>div {\n\tpadding-left: 20px;\n\theight: 20px;\n}\n\n/*  Inline buttons  */\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons {\n\twidth: auto;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons {\n\tfloat:left;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div {\n\tpadding: 1px 1px 1px 1px;\n\tmargin: 1px 1px 1px 1px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div {\n\tmargin-top:3px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div {\n\tmargin-top:2px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons a,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div,\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons a {\n\tdisplay: block;\n\twidth: 16px;\n\theight: 16px;\n\tfloat: left;\n}\n\n.organizer_inline_buttons .zenario_ib_warning {\n\tbackground:url('../admin/images/icon-warning.svg') no-repeat center center / 18px 18px;\n\twidth: 18px;\n\theight: 18px;\n}\n\n/*\tPlaceholder styles for testing layout inline buttons  */\n.organizer_inline_buttons .zenario_ib_active {\n\tbackground:url('../admin/images/icon-layout-active.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_inline_buttons .zenario_ib_default {\n\tbackground:url('../admin/images/icon-layout-default-active.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_inline_buttons .zenario_ib_archived {\n\tbackground:url('../admin/images/icon-layout-archived.svg') no-repeat center center / 16px 16px;\n}\n\n\n\n.zenario_inline_warning {\n\tbackground:url('../admin/images/icon-warning.svg') no-repeat left center / 18px 18px;\n\tmargin: 2px;\n\tpadding-left: 24px;\n\theight: 18px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.organizer_no_border td {\n\tborder-style: none;\n\tborder-width: 0;\n\theight: auto;\n\tpadding: 0;\n\tcolor: #202020;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell td.item_link {\n\ttext-align: right;\n\twhite-space: nowrap;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link tr td .listicon {\n\tmargin: 2px 0 0 2px;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text {\n\tpadding: 2px 0 0;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text a,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text a:visited,\n#organizer_rightColumn .organizer_slidedown_view table td a {\n\tcolor: #202020;\n\tcursor: pointer;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link tr td .listicon a {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: block;\n\ttext-decoration: none;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell td.item_link img {\n\tborder: none;\n\twidth: 27px;\n\theight: 21px;\n\tpadding: 3px 2px 0 3px;\n}\n\n#organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon {\n\topacity: 0.3;\n}\n\n#organizer_rightColumnContent div.organizer_row.organizer_untranslated_menu_node .organizer_cell_items {\n\tfont-style: italic;\n}\n\nbody.ie6 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon,\nbody.ie7 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon {\n\tfilter: alpha(opacity=30);\n}\n\nbody.ie8 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon {\n\t-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost {\n\tcolor: #a7aeaf;\n}\n\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost table.item_link td.organizer_item_link_text a,\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost table.item_link td.organizer_item_link_text a:visited {\n\tcolor: #abb0b2;\n}\n\n\n/*  Movement cursors for Shuffling  */\n\n#organizer_rightColumnContent span.organizer_sortable div.organizer_item,\n#organizer_rightColumnContent div.organizer_list_view tbody.organizer_sortable tr,\n#organizer_rightColumnContent div.organizer_list_view tbody.organizer_sortable tr *,\n#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_sortable {\n\tcursor: move;\n}\n\n#organizer_rightColumnContent span.organizer_sortable div.organizer_item a,\n#organizer_rightColumnContent div.organizer_list_view .organizer_list_view_body.organizer_sortable div.organizer_row a,\n#organizer_rightColumnContent div.organizer_list_view .organizer_list_view_body.organizer_sortable div.organizer_row a * {\n\tcursor: pointer;\n}\n\n\n\n#organizer_rightColumn div.organizer_row div.organizer_cell {\n\tvertical-align: top;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.firstcol {\n\tvertical-align: middle;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell,\n#organizer_rightColumn div.organizer_row div.organizer_cell div.organizer_cell_line {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tword-wrap: normal;\n\toverflow:hidden;\n}\n\n#organizer_rightColumn .organizer_list_view_with_tall_rows div.organizer_row div.organizer_cell {\n\twhite-space: normal;\n}\n\n.organizer_item_image.zenario_menunode_internal {\n\tbackground:url('../admin/images/icon-menu-node-1-dark.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.zenario_menunode_internal_unique {\n\tbackground:url('../admin/images/icon-menu-node-main.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.zenario_menunode_internal_secondary {\n\tbackground:url('../admin/images/icon-menu-node-2-dark.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.zenario_menunode_unlinked {\n\tbackground:url('../admin/images/icon-menu-node-unlinked.svg') no-repeat center center / 16px 16px;\n}\n\n/*#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon>div.ghost,\n#organizer_rightColumn div.organizer_slidedown_view .listicon>div.ghost {*/\n.organizer_item_image.ghost {\n\tbackground:url('../admin/images/icon-ghost.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.zenario_menunode_external {\n\tbackground:url('../admin/images/icon-external-url.svg') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.no_icon {\n\tbackground-image: none;\n}\n\n.organizer_item_image.ghost {\n\topacity: 0.3;\n}\n\nbody.ie6 #organizer_rightColumn div.organizer_row div.organizer_cell div.ghost,\nbody.ie7 .organizer_item_image.ghost {\n\tfilter: alpha(opacity=30);\n}\n\nbody.ie8 .organizer_item_image.ghost {\n\t-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";\n}\n\n.Token .organizer_item_image.ghost {\n\topacity:1;\n\t-webkit-filter: invert(.8);\n  \tfilter: invert(.8);\n}\n\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell {\n\tdisplay:inline-block;\n\twidth:20px !important;\n\theight:20px;\n\ttext-indent:-999;\n\tfont-size:0;\n\tline-height:0;\n}\n\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell {\n\tbackground:url('../admin/images/icon-eye-visible.svg') no-repeat center 6px / 16px 16px;\n}\n\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell.invisible_menu_node {\n\tbackground:url('../admin/images/icon-eye-hidden.svg') no-repeat center 6px / 16px 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.privacy_inline_button a {\n\tcursor: default;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_group_members div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_with_role div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_logged_in div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_send_signal div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_call_static_method div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_public div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_logged_out div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_in_smart_group div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_logged_in_not_in_smart_group div.organizer_cell div.privacy_inline_button a {\n\tbackground-image:url('../admin/images/icon-permissions.svg');\n\tbackground-repeat:no-repeat;\n\tbackground-position:center center;\n\tbackground-size:auto 12px;\n\t-webkit-border-radius: 0;\n\t-moz-border-radius: 0;\n\tborder-radius: 0;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_group_members div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#D7ABEA;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_with_role div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#AAEBCC;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_logged_in div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#EBACB3;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_send_signal div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_call_static_method div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#EBD8AA;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_public div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_logged_out div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#e2e2e2;\n}\n\n#organizer_rightColumn div.organizer_row.privacy_in_smart_group div.organizer_cell div.privacy_inline_button a,\n#organizer_rightColumn div.organizer_row.privacy_logged_in_not_in_smart_group div.organizer_cell div.privacy_inline_button a {\n\tbackground-color:#ABD3EB;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_layout_inline_button a {\n\tbackground: #e2e2e2;\n\tcolor: #3c3c3c;\n\tfont-size: 7px;\n\tline-height: 15px;\n\tposition: relative;\n\ttext-align: center;\n\ttop: -1px;\n\tcursor:pointer;\n\t-webkit-transition: all 0.2s ease-in-out;\n  \t-moz-transition: all 0.2s ease-in-out;\n  \t-o-transition: all 0.2s ease-in-out;\n  \ttransition: all 0.2s ease-in-out;\n}\n\n/*\n\tPlaceholder for email templates in debug mode\n*/\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.view_frontend,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.view_frontend {\n\tbackground: url('../admin/images/icon-go-to-content-item-off.svg') no-repeat center center / 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.view_frontend:hover,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.view_frontend:hover {\n\tbackground: url('../admin/images/icon-go-to-content-item-hover.svg') no-repeat center center / 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.inspect,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.inspect {\n\tbackground: url('../admin/images/icon-quick-view-off.svg') no-repeat center center / 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.inspect:hover,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.inspect:hover {\n\tbackground: url('../admin/images/icon-quick-view-hover.svg') no-repeat center center / 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.no_categories,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.no_categories {\n\tbackground: url('../admin/images/icon-categories-inline.png') no-repeat center center / 16px 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.one_or_more_categories,\n#organizer_rightColumn div.organizer_row div.organizer_cells_items div.one_or_more_categories {\n\tbackground: url('../admin/images/icon-categories-one-or-more.png') no-repeat center center / 16px 16px;\n}\n\n.organizer_item_image.user {\n\tbackground: url('../admin/images/icon-users-and-contacts.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.zenario_suspended_users {\n\tbackground: url('../admin/images/icon-suspended-users.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.zenario_consent {\n\tbackground: url('../admin/images/icon-consents-dark.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.zenario_smart_group {\n\tbackground: url('../admin/images/icon-smart-groups.svg') no-repeat center center / 18px;\n}\n\n.organizer_item_image.zenario_smart_perms_group {\n\tbackground: url('../admin/images/icon-smart-permissions.svg') no-repeat center center / 18px;\n}\n\n.organizer_item_image.zenario_smart_news_group {\n\tbackground: url('../admin/images/icon-smart-newsletter-group.svg') no-repeat center center / 18px;\n}\n\n.organizer_item_image.zenario_group {\n\tbackground: url('../admin/images/icon-groups.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.roles {\n\tbackground: url('../admin/images/icon-roles.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.pending_comment {\n\tbackground: url('../admin/images/icon-pending-comments-dark.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.zenario_forum__forum {\n\tbackground: url('../admin/images/icon-salutations-dark.svg') no-repeat center center / 16px;\n}\n\n.organizer_item_image.backup {\n\t/* to add */\n}\n\n.organizer_item_image.admin_item {\n\tbackground: url('../admin/images/icon-administrator.svg') no-repeat center center / 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_draft_published,\n.organizer_item_image.home_content_draft_published {\n\tbackground:url(\"../admin/images/icon-content-home-draft-published.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_published,\n.organizer_item_image.home_content_published {\n\tbackground:url(\"../admin/images/icon-content-home-published.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_draft,\n.organizer_item_image.home_content_draft {\n\tbackground:url(\"../admin/images/icon-content-home-draft.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_published,\n.organizer_item_image.special_content_draft_published {\n\tbackground:url(\"../admin/images/icon-content-special-draft-published.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_published,\n.organizer_item_image.special_content_published {\n\tbackground:url(\"../admin/images/icon-special-pages.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_hidden,\n.organizer_item_image.special_content_draft_hidden {\n\tbackground:url(\"../admin/images/icon-content-special-draft-hidden.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_hidden,\n.organizer_item_image.special_content_hidden {\n\tbackground:url(\"../admin/images/icon-content-special-hidden.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft,\n.organizer_item_image.special_content_draft{\n\tbackground:url(\"../admin/images/icon-content-special-draft.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_trashed,\n.organizer_item_image.special_content_draft_trashed {\n\tbackground:url(\"../admin/images/icon-content-special-draft-trashed.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_trashed,\n.organizer_item_image.special_content_trashed {\n\tbackground:url(\"../admin/images/icon-content-special-trashed.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_published,\n.organizer_item_image.content_draft_published {\n\tbackground:url(\"../admin/images/icon-content-draft-published.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_published,\n.organizer_item_image.content_published {\n\tbackground:url(\"../admin/images/icon-content-published.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_hidden,\n.organizer_item_image.content_draft_hidden {\n\tbackground:url(\"../admin/images/icon-content-draft-hidden.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_hidden,\n.organizer_item_image.content_hidden {\n\tbackground:url(\"../admin/images/icon-content-hidden.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft,\n.organizer_item_image.content_draft {\n\tbackground:url(\"../admin/images/icon-content-draft.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_trashed,\n.organizer_item_image.content_draft_trashed {\n\tbackground:url(\"../admin/images/icon-content-draft-trashed.svg\") no-repeat center center / 20px 23px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_trashed,\n.organizer_item_image.content_trashed {\n\tbackground:url(\"../admin/images/icon-trashed-content.svg\") no-repeat center center / 20px 23px;\n}\n\n.organizer_item_image.content_type_settings {\n\tbackground:url(\"../admin/images/icon-content-types-dark.svg\") no-repeat center center / 22px 22px;\n}\n\n.organizer_item_image.plugin {\n\tbackground:url(\"../admin/images/icon-modules-dark.svg\") no-repeat center center / 15px 15px;\n}\n\n.organizer_item_image.module {\n\tbackground:url(\"../admin/images/icon-plugin-dark.svg\") no-repeat center center / 15px 15px;\n}\n\n.organizer_item_image.plugin_album_instance {\n\tbackground: url('../admin/images/icon-plugin-dark.svg') no-repeat center center / 15px 16px;\n}\n\n.organizer_item_image.plugin_instance {\n\t/* to add */\n}\n\n.organizer_item_image.plugin_album_instance {\n\tbackground-position: 5px center;\n}\n\n.organizer_item_image.zenario_category_icon {\n\tbackground:url('../admin/images/icon-categories-dark-v2.svg') no-repeat center center / auto 14px;\n}\n\n.organizer_item_image.datasets {\n\tbackground:url(\"../admin/images/icon-datasets-dark.svg\") no-repeat center center / auto 20px;\n}\n\n.organizer_item_image.language,\n.organizer_item_image.phrase_translated {\n\tbackground:url(\"../admin/images/icon-languages.svg\") no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.phrase_translated {\n\tbackground-size:auto 18px;\n}\n\n.organizer_item_image.phrase_partially_translated {\n\tbackground:url(\"../admin/images/icon_phrase_partially_translated.svg\") no-repeat center center / auto 20px;\n}\n\n.organizer_item_image.phrase_not_translated {\n\tbackground:url(\"../admin/images/icon_phrase_not_translated.svg\") no-repeat center center / auto 20px;\n}\n\n\n\n\n.organizer_item_image.admins_collection {\n\t/* to add */\n}\n\n.organizer_item_image.admin_phrases_collection {\n\t/* to add */\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.settings,\n.organizer_item_image.setting {\n\tbackground: url('../admin/images/icon-site-settings-dark.svg') no-repeat center center / auto 20px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.backups,\n.organizer_item_image.backup {\n\tbackground: url('../admin/images/icon-back-ups-dark.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.favicon {\n\tbackground: url('../admin/images/icon-favicon-dark.svg') no-repeat center center / 18px auto;\n}\n\n.organizer_item_image.dropbox_collection {\n\t/* to add */\n}\n\n.organizer_item_image.modules {\n\t/* to add */\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.templatesCollection,\n#organizer_rightColumn #organizer_panelTitle div.templatesCollection,\n.organizer_item_image.skin {\n\tbackground: url('../admin/images/icon-skins.svg') no-repeat left center / 18px auto;\n}\n\n.organizer_item_image.zenario_plugins {\n\t/* to add */\n}\n\n.organizer_item_image.slot {\n\t/* to add */\n}\n\n.organizer_item_image.templatesCollectionNoFolder {\n\t/* to add */\n}\n\n\n.organizer_item_image.skinsCollection {\n\t/* to add */\n}\n\n.organizer_item_image.template {\n\tbackground: url('../admin/images/icon-layouts.svg') no-repeat 0 center / 18px auto;\n}\n\n.organizer_item_image.archived_layout {\n\tbackground: url('../admin/images/icon-archive.svg') no-repeat 0 center / auto 18px;\n}\n\n#zenario_at_top_left_menu .organizer_item_image.template,\n#zenario_at_top_left_menu .organizer_item_image.archived_layout,\n#zenario_at_top_left_menu .organizer_item_image.skin {\n\tbackground-position:center center;\n}\n\n#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.template {\n\twidth:25px;\n}\n\n.organizer_item_image.templateFile {\n\t/* to add */\n}\n\n.organizer_item_image.local_media {\n\t/* to add */\n}\n\n/*\tCurrently this image...  */\n.organizer_item_image.log {\n\tbackground: url('../admin/images/icon-sign-in-log.svg') no-repeat center center / 16px;\n}\n\n/*\t...is used for these six icons!  */\n.organizer_item_image.email_log {\n}\n\n.organizer_item_image.sign_in_log {\n}\n\n.organizer_item_image.scheduled_task_log {\n}\n\n.organizer_item_image.access_log {\n}\n\n.organizer_item_image.order_status_log {\n}\n\n.organizer_item_image.license {\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.media_images,\n.organizer_item_image.media_image,\n.organizer_item_image.content_type_picture {\n\tbackground: url('../admin/images/icon-image-library.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.content_type_event {\n\tbackground: url('../admin/images/icon-events-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_html {\n\tbackground: url('../admin/images/icon-html-pages.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_news {\n\tbackground: url('../admin/images/icon-news-articles.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_document {\n\tbackground: url('../admin/images/icon-documents-documents.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_audio {\n\tbackground: url('../admin/images/icon-audio-content-types-dark.svg') no-repeat center center / auto 18px;\t\n}\n\n.organizer_item_image.content_type_blog {\n\tbackground: url('../admin/images/icon-blog-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_vacancy {\n\tbackground: url('../admin/images/icon-job-vacancies-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_project {\n\tbackground: url('../admin/images/icon-project-descriptions-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.content_type_testimonial {\n\tbackground: url('../admin/images/icon-testimonials-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.media_movies,\n.organizer_item_image.media_movie,\n.organizer_item_image.content_type_video {\n\tbackground: url('../admin/images/icon-video-content-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.menu_section,\n.organizer_item_image.linked_child_menuitem_with_children {\n\tbackground: url('../admin/images/icon-menu-sections-dark.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.menu_section_language {\n\tbackground: url('../admin/images/icon-menu-sections-languages-dark.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.menu_section_edit {\n\tbackground: url('../admin/images/icon-menu-sections-edit-dark.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.menu_node,\n.organizer_item_image.zenario_menunode_internal_unique {\n\tbackground: url('../admin/images/icon-menu-node-dark.svg') no-repeat center center / auto 16px;\n}\n\n#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.menu_section,\n#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.linked_child_menuitem_with_children {\n\twidth:25px;\n}\n\n.organizer_item_image.overviewFeedsCollection {\n\t/* to add */\n}\n\n.organizer_item_image.overview_feed_item {\n\t/* to add */\n}\n\n.organizer_item_image.trash {\n\t/* to add */\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.urls_collection,\n#organizer_rightColumn #organizer_panelTitle div.url_item {\n\tbackground: url('../admin/images/icon-spare-domain-names.svg') no-repeat center center / 22px auto;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.alias_urls_collection,\n#organizer_rightColumn #organizer_panelTitle div.alias_url,\n.organizer_item_image.alias_url {\n\tbackground: url('../admin/images/icon-spare-alias-dark.svg') no-repeat center center / 22px auto;\n}\n\n.organizer_item_image.url_item {\n\tbackground: url('../admin/images/icon-spare-domain-names.svg') no-repeat center center / 22px auto;\n}\n\n.organizer_item_image.url_admin_item {\n\t/* to add */\n}\n\n.organizer_item_image.plugin_instance_collection {\n\t/* to add */\n}\n\n.organizer_item_image.site_reset {\n\tbackground: url('../admin/images/icon-rest-site-dark.svg') no-repeat center center / 17px 21px;\n}\n\n.organizer_item_image.site_enabled {\n\tbackground: url('../admin/images/icon-site-enabled-dark.svg') no-repeat center center / 19px 19px;\n}\n\n.organizer_item_image.site_disabled {\n\tbackground: url('../admin/images/icon-site-disabled.svg') no-repeat center center / 19px 19px;\n}\n\n.organizer_item_image.tab {\n\t/* to add */\n}\n\n.organizer_item_image.zenario_trans_chain {\n\t/* to add */\n}\n\n\n.organizer_item_image.xml_sitemap {\n\tbackground: url('../admin/images/icon-xml-site-map.svg') no-repeat center center / auto 19px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.dropbox_files,\n.organizer_item_image.dropbox_file {\n\tbackground: url('../admin/images/icon-file-types-dark.svg') no-repeat center center / auto 18px;\n}\n\n.organizer_item_image.zenario_newsletter_draft {\n\tbackground: url('../admin/images/icon-newsletter-dark.svg') no-repeat center center / auto 16px;\n}\n\n.organizer_item_image.zenario_newsletter_template {\n\tbackground: url('../admin/images/icon-newsletter-template-dark.svg') no-repeat center center / auto 16px;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_newsletter_in_progress_newsletter,\n#organizer_rightColumn #organizer_panelTitle div.zenario_newsletter_in_progress_newsletter,\n.organizer_item_image.zenario_newsletter_sent_newsletter {\n\tbackground: url('../admin/images/icon-sent-newsletter-dark.svg') no-repeat center center / auto 20px;\n}\n\n.organizer_item_image.log.email_log {\n\tbackground: url('../admin/images/icon-sent-email-in-log-dark.svg') no-repeat center center / auto 16px;\n}\n\n#organizer_rightColumn div.organizer_list_view div.organizer_item {\n\theight: 150px;\n\twidth: 100px;\n\ttext-align: center;\n\tfloat: left;\n\tmargin: 5px 5px 10px 5px;\n\tfont-size: 1em;\n}\n\nbody.ie6 #organizer_rightColumn div.organizer_list_view div.organizer_item {\n\theight: 160px;\n}\n\n.organizer_image_tags {\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\tcolor: white;\n}\n\n#organizer_rightColumn div.organizer_item div.organizer_image_container,\n#organizer_rightColumn div.organizer_item div.image_container_on {\n\tposition: relative;\n\twidth: 180px;\n\theight: 130px;\n}\n\n#organizer_rightColumn div.zenario_sticky div.organizer_image_container,\n#organizer_rightColumn div.zenario_shared div.organizer_image_container {\n\tborder:2px solid #333;\n\tposition:relative;\n}\n\n#organizer_rightColumn div.organizer_image_container .organizer_image_sticky_marker,\n#organizer_rightColumn div.organizer_image_container .organizer_image_shared_marker {\n\tdisplay:none;\n\twidth:39px;\n\theight:14px;\n\tposition:absolute;\n\tz-index:2;\n\tbottom:0;\n}\n\n#organizer_rightColumn div.organizer_image_container .organizer_image_sticky_marker {\n\tbackground: url('../admin/images/store_keeper/feature-marker.png') no-repeat center center;\n\tleft:0;\n}\n\n#organizer_rightColumn div.organizer_image_container .organizer_image_shared_marker {\n\tbackground: url('../admin/images/store_keeper/shared-marker.png') no-repeat center center;\n\tright:0;\n}\n\n#organizer_rightColumn div.zenario_sticky div.organizer_image_container .organizer_image_sticky_marker,\n#organizer_rightColumn div.zenario_shared div.organizer_image_container .organizer_image_shared_marker {\n\tdisplay:block;\n}\n\n\n/*  Borders by image privacy  */\n\n.zenario_image_privacy_auto .organizer_list_view_icon_border {\n\toutline: solid 1px orange;\n}\n\n.zenario_image_privacy_public .organizer_list_view_icon_border {\n\toutline: solid 1px LightGreen;\n}\n\n.zenario_image_privacy_private .organizer_list_view_icon_border {\n\toutline: solid 1px cyan;\n}\n\n.organizer_list_view_body  .organizer_list_view_icon_border {\n\tcursor: pointer;\n}\n\n\n#organizer_rightColumn .organizer_grid_view div.organizer_item .organizer_image {\n\twidth: 180px;\n\theight: 130px;\n}\n\n#organizer_rightColumn div.organizer_item_with_image {\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n\n#organizer_rightColumn .organizer_doubleclickable .firstcol .organizer_doubleclick {\n\tdisplay: block;\n\tposition: absolute;\n\tright: 0;\n\tbottom: 0;\n\twidth: 16px;\n\theight: 15px;\n\tbackground: url('../admin/images/icon-folder-closed-dark.svg') no-repeat center center / 14px auto;\n\tcursor: pointer;\n\tright:2px;\n\tbottom:3px;\n\tmargin:1px;\n}\n\n#organizer_rightColumn .organizer_doubleclickable .firstcol .organizer_doubleclick:hover {\n\tbackground: url('../admin/images/icon-folder-open-dark.svg') no-repeat center center / 14px auto;\n}\n\n/* Start Right Column Content Icons */\n\n#organizer_rightColumn div.organizer_item .no_icon {\n\tbackground-image: none;\n}\n\n#organizer_rightColumn div.organizer_item .ghost {\n\topacity: 0.3;\n}\n\n\n/*  Translation status icons  */\n\n.zenario_trans_colicon {\n\tmin-width: 15px !important;\n\tmin-height: 23px !important;\n\tbackground-repeat: no-repeat;\n}\n\n#organizer_trash_button {\n\tfloat:right;\n\tmargin:5px 10px 0 0;\n}\n\n#organizer_trash_button,\n#organizer_trash_button a {\n\twidth:30px;\n\theight:30px;\n\tdisplay:block;\n}\n\n#organizer_trash_button a {\n\tdisplay: block;\n\tfloat: right;\n}\n\n.trash_button_empty a,\n.trash_button_full a {\n\tbackground: url('../admin/images/icon-trash-can-v2.svg') no-repeat center center / 14px auto;\n}\n\n.trash_button_full a {\n\tcursor: pointer;\n}\n\n\n\n#organizer_rightColumn div.organizer_no_items {\n\ttext-align: center;\n\tline-height: 1.3em;\n\tpadding-top: 3em;\n\tpadding-bottom: 2em;\n\tfont-size: 12pt;\n\tbackground:#F9F9F9;\n}\n\n\n/*  New pagination (just temporary styles at the moment)  */\n#organizer_item_count {\n\twidth:auto;\n\theight:30px;\n\toverflow:hidden;\n\tdisplay:inline-block;\n\tmargin-right: 20px;\n}\n\n#organizer_pagination {\n\toverflow:hidden;\n}\n\n#organizer_item_count,\n#organizer_pagination {\n\tline-height: 30px;\n}\n\n#organizer_pagination .organizer_page_button {\n\tdisplay: inline-block;\n\twidth: 24px;\n\theight: 24px;\n\ttext-align: center;\n\tposition: relative;\n\tbottom: 5px;\n}\n\n#organizer_page_first {\n\tmargin-right: 5px;\n}\n\n#organizer_page_last {\n\tmargin-left: 5px;\n}\n\n.organizer_page_button {\n\tcursor: pointer;\n}\n\n.organizer_page_button_disabled {\n\tcursor: default;\n}\n\n#organizer_page_first:hover {\n\tbackground: url('../admin/images/icon-pagination-left-dark-grey.svg') no-repeat center center / 16px auto;\n}\n\n#organizer_page_last:hover {\n\tbackground: url('../admin/images/icon-pagination-right-dark-grey.svg') no-repeat center center / 16px auto;\n}\n\n#organizer_page_first,\n#organizer_page_first.pagination_disabled_first:hover {\n\tbackground: url('../admin/images/icon-pagination-left-light-grey.svg') no-repeat center center / 16px auto;\n}\n\n#organizer_page_last,\n#organizer_page_last.pagination_disabled_last:hover {\n\tbackground: url('../admin/images/icon-pagination-right-light-grey.svg') no-repeat center center / 16px auto;\n}\n\n.pagination_disabled_first,\n.pagination_disabled_last,\n#organizer_page_first.pagination_disabled_first:hover,\n#organizer_page_last.pagination_disabled_last:hover  {\n\topacity: 0.5;\n}\n\n.organizer_page_numbers {\n\theight: 32px;\n\tdisplay: inline-block;\n}\n\n#organizer_pagination .paginator_p_wrap {\n\tfloat:none;\n\tdisplay: inline-block;\n\tfloat: left;\n\theight: 24px;\n\tline-height: 23px;\n\tmargin-bottom: 4px;\n\tmargin-top: 3px;\n}\n\n#organizer_pagination .paginator_slider {\n\tbackground: #b9b9b9;\n\tborder: 0;\n\tfloat: left;\n\tclear: both;\n}\n\n.paginator_slider .ui-slider-handle {\n\tbackground:url('../admin/images/srub-bar-off-state.png') no-repeat;\n\tborder: 0;\n\twidth: 24px;\n\tcursor: pointer;\n}\n\n.paginator_slider .ui-slider-handle:hover {\n\tbackground:url('../admin/images/srub-bar-over-state.png') no-repeat;\n}\n\n.paginator_p {\n\tbackground: #b9b9b9;\n\tcolor: #4d4d4d;\n\tfont-weight: 700;\n\tborder-radius: 2px;\n\t-moz-border-radius: 2px;\n\t-webkit-border-radius: 2px;\n\tpadding: 0;\n}\n\n.paginator_p_wrap .selected,\n.paginator_p_wrap .selected:hover {\n\tbackground: #027dc9;\n\tcolor: #ffffff;\n}\n\n.paginator_p:hover {\n\tbackground: #6f6f6f;\n\tcolor: #ffffff;\n}\n\n.paginator_p[data-length='4'] {\n\tfont-size: 8px;\n}\n.paginator_p[data-length='5'] {\n\tfont-size: 6px;\n}\n.paginator_p[data-length='6'] {\n\tfont-size: 5px;\n}\n.paginator_p[data-length='7'],\n.paginator_p[data-length='8'] {\n\tfont-size: 4px;\n}\n.paginator_p[data-length='9'],\n.paginator_p[data-length='10'] {\n\tfont-size: 3px;\n}\n\n\n#organizer_itemCountWrap {\n\twidth: 100%;\n\theight: 45px;\n\tfloat: right;\n\ttext-align: center;\n\tcolor: #333;\n\tfont-size:11px;\n\tmargin-top:0;\n}\n\n#organizer_itemCountWrap .page {\n\tcursor:pointer;\n}\n\n#organizer_itemCountWrap .page:hover {\n\ttext-decoration:underline;\n}\n\n#organizer_itemCountWrap .currentPage {\n\tcursor: default;\n\tfont-weight: bold;\n\tcolor: #007FA2;\n}\n\n#organizer_itemCountWrap img {\n\twidth: 30px;\n\theight: 30px;\n\tvertical-align: middle;\n\tmargin: 0 8px;\n}\n\n#organizer_itemCountWrap #organizer_pagePrev,\n#organizer_itemCountWrap #organizer_pagePrevOff {\n\tmargin-left: 37px;\n}\n\n#organizer_itemCountWrap #organizer_pagePrev,\n#organizer_itemCountWrap #organizer_pageNext {\n\tcursor: pointer;\n}\n\ndiv#organizer_previous_next {\n\tfloat: right;\n\twidth: 100%;\n\tmargin: 3px;\n}\n\ndiv#organizer_previous_next a {\n\tdisplay: block;\n\twidth: 29px;\n\theight: 19px;\n\tfloat: right;\n\tmargin: 2px;\n}\n\n/*  Overflow hidden for things that are variable size with variable text  */\n\n#organizer_itemCountWrap,\n#organizer_rightColumnTitle {\n\toverflow: hidden;\n}\n\n/* Grid maker popup  */\n\nbody #cboxOverlay,\nbody #colorbox.zenario_grid_maker #cboxOverlay {\n\tzoom: 1;\n\tfilter: alpha(opacity=50) !important;\n\topacity: 0.5 !important;\n\tbackground-color:#000;\n\tbackground-image:none;\n}\n \n\nbody #colorbox.zenario_grid_maker #cboxTopLeft,\nbody #colorbox.zenario_grid_maker #cboxTopCenter,\nbody #colorbox.zenario_grid_maker #cboxTopRight,\nbody #colorbox.zenario_grid_maker #cboxMiddleLeft,\nbody #colorbox.zenario_grid_maker #cboxMiddleRight,\nbody #colorbox.zenario_grid_maker #cboxBottomLeft,\nbody #colorbox.zenario_grid_maker #cboxBottomCenter,\nbody #colorbox.zenario_grid_maker #cboxBottomRight,\nbody #colorbox.zenario_grid_maker #cboxTitle,\nbody #colorbox.zenario_grid_maker #colorbox #cboxTopLeft,\nbody #colorbox.zenario_grid_maker #colorbox #cboxTopCenter,\nbody #colorbox.zenario_grid_maker #colorbox #cboxTopRight,\nbody #colorbox.zenario_grid_maker #colorbox #cboxMiddleLeft,\nbody #colorbox.zenario_grid_maker #colorbox #cboxMiddleRight,\nbody #colorbox.zenario_grid_maker #colorbox #cboxBottomLeft,\nbody #colorbox.zenario_grid_maker #colorbox #cboxBottomCenter,\nbody #colorbox.zenario_grid_maker #colorbox #cboxBottomRight,\nbody #colorbox.zenario_grid_maker #colorbox #cboxTitle {\n\tvisibility: hidden;\n}\n\nbody #colorbox.zenario_grid_maker #cboxClose {\n\tposition:absolute;\n\ttop:0;\n\twidth:0;\n\theight:0;\n\tdisplay:none;\n}\n\nbody #colorbox.zenario_grid_maker #cboxLoadedContent {\n\theight: 100% !important;\n}\n\n\n\n/*  Tweaks to jquery nestable  */\n\n#organizer_rightColumnContent .organizer_drag_handle {\n\theight: auto;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol {\n\tmin-width:625px;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol {\n\tmin-width:595px;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol {\n\tmin-width:565px;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol {\n\tmin-width:535px;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol ol {\n\tmin-width:505px;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol ol ol {\n\tmin-width:475px;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .dd {\n\tmax-width:100%;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list {\n\tbackground:url('../admin/images/1px-grey.gif') repeat-x left bottom;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list .dd-item .dd3-handle,\n#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list .dd-item .dd3-content {\n\tborder-left:1px solid #C4C4C4;\n}\n\n\n/*\n\tQuick hack by Chris to try and ensure the +/- buttons in heirarchy view are always clickable.\n*/\n.dd-item > button[data-action] {\n\tposition: absolute;\n\tz-index: 1;\n}\n\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle {\n\tmin-height:30px;\n\tposition:absolute;\n\tcursor:move;\n\tmargin:0;\n\tborder:0;\n\tborder-radius:0;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle,\n#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle:hover,\n#organizer_rightColumn .organizer_hierarchy_view .dd3-handle {\n\tbackground:url('../admin/images/icon-drag-handle.png') no-repeat left center;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .dd3-handle:before {\n\tcontent:'';\n}\n\n#organizer_rightColumn .organizer_hierarchy_view button {\n\tposition:absolute;\n\tfont-weight:bold;\n\tfont-family:verdana;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row div.organizer_row {\n\tclear:none;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row div.organizer_cell {\n\twidth:auto !important;\n\tborder:0;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_checkbox_col {\n\tdisplay:inline;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col {\n\tmargin-left:20px;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col.organizer_documents_area {\n\tmargin-left:50px;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cell {\n\tfloat:left;\n}\n\n.zenario_organizer_select #organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_documents_area {\n\tmargin-right: 10px;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_cell_items {\n\tfloat:left;\n\tpadding:2px 2px 0 0;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items {\n\twidth:94%;\n\twidth:calc(100% - 120px);\n\tline-height:22px;\n\toverflow:hidden;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items {\n\ttext-overflow: ellipsis;\n\tmax-width: 40%;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items.organizer_cell_comma {\n\tmax-width:2%;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view #organizer_items_wrapper ol li div.organizer_row div.organizer_cells_items {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view #organizer_items_wrapper ol li div.organizer_row div.organizer_cells_items > span.organizer_cell_items {\n\twidth:auto;\n\tmax-width:97%;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items span {\n\tfloat:none;\n}\n\n#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row .organizer_cell_items div.organizer_cell {\n\tpadding:0;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_cell_items table.organizer_no_border {\n\tborder-collapse:collapse;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border,\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr,\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td {\n\tpadding:0;\n\tmargin:0;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td {\n\tdisplay:inline-block;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text {\n\twidth:100%;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text a {\n\twidth:100%;\n\tword-wrap:break-word;\n\tdisplay:block;\n\tcolor:#000;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border,\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr,\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td,\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td a {\n\tdisplay:inline-block;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text a:hover,\n#organizer_rightColumn .organizer_slidedown_view table td a:hover {\n\tcolor:#007FA3;\n}\n\n.dd-placeholder {\n\t\n}\n\n.dd-placeholder .dd3-handle,\n.dd3-handle {\n\tborder: 0 none;\n\tborder-radius: 0 0 0 0;\n\tfont-size:20px;\n}\n\n.dd3-content,\n.dd3-content:hover {\n\tcolor: #616161;\n}\n\n.dd3-content {\n\tfont-family: Verdana,Arial,Helvetica,sans-serif;   \n\tpadding:0 10px 0 20px;\n\tfont-weight:normal;\n\tborder:0;\n\tbackground:#fff;\n\tmargin:0;\n\tborder-radius:0;\n}\n\n.organizer_menu_handle .dd3-content {\n\tpadding-left:30px;\n}\n\n.dd3-content span,\n.dd3-content table,\n.dd3-content div {\n\tfloat:left;\n}\n\n.dd3-content table {\n\tborder-collapse:collapse;\n}\n\n.dd3-content button,\n.dd-placeholder button {\n\tfont-weight:bold;\n\tfont-family:verdana;\n}\n\n.dd3-content a {\n\tcolor:#000;\n}\n\n.dd3-item > button {\n\tmargin-left: 0;\n}\n\n.dd3-item.organizer_menu_handle > button {\n\tmargin-left: 30px;\n}\n\n.zenario_organizer_under_admin_box.zenario_panel_type__hierarchy_documents .dd3-item > button {\n\tmargin-left: 21px;\n}\n\n/* Debug icon */\n\n#organizer_leftColumn .zenario_debug {\n\tright:3px;\n\ttop:3px;\n}\n \n.zenario_toolbar_header .toolbar div.zenario_debug {\n\twidth:30px;\n\theight:30px;\n}\n\n.zenario_toolbar_header .toolbar div.zenario_debug div {\n\tbackground-size:16px;\n}\n\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_id div {\n\tbackground-color:#FFB080;\n}\n\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_id:hover div {\n\topacity:0.9;\n}\n\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_no_id div {\n\tbackground-color:#B4EDB7;\n}\n\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_no_id:hover div {\n\topacity:0.9;\n}\n\n/*  Styles for top-right icons  */\n\n#organizer_rightColumnTitle #organizer_topRightIcons {\n\tposition: absolute;\n\twidth: auto;\n\theight: 18px;\n\ttop: 8px;\n\tright: 8px;\n}\n\n.zenario_organizer_full #organizer_rightColumnTitle #organizer_topRightIcons {\n\ttop: 0;\n}\n\n#organizer_rightColumnTitle #organizer_topRightIcons > div {\n\tmargin-right: 5px;\n\tdisplay: inline-block;\n\tfloat: none;\n\theight: 18px;\n}\n\n\n\n\n\n/*  Debug info box, appears over/just below the debug button  */\n\n#zenario_fbDebugInfoBox {\n\tpadding:4px;\n\tbackground:#333;\n\tfont-family: Verdana,Tahoma,Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n\tclear: both;\n}\n\n#zenario_fbDebugInfoBox,\n#zenario_fbDebugInfoBox input,\n#zenario_fbDebugInfoBox textarea {\n\tcolor:#333;\n\tfont-size:12px;\n\tfont-family:Arial,Verdana,Helvetica,sans-serif;\n}\n\n#zenario_fbDebugInfoBox a {\n\tcolor:#0080CB;\n}\n\n#zenario_fbDebugInfoBox .zenario_debugInfo {\n\tpadding:15px;\n\tbackground:#FFF;\n\tmargin:auto;\n\tmax-height:400px;\n\toverflow:auto;\n}\n\n#zenario_fbDebugInfoBox .zenario_debugInfo .organizer_basic_info {\n\tclear: both;\n}\n\n#zenario_fbDebugInfoBox .zenario_debugInfoTitle {\n\twidth:auto;\n\tfont-weight: bold;\n\tfont-size:13px;\n\tmargin: 0 2px 5px;\n}\n\n#zenario_fbDebugInfoBox .organizer_refiner_no,\n#zenario_fbDebugInfoBox .organizer_cfti {\n\twidth:auto;\n\toverflow:hidden;\n\tclear:both;\n\tmargin:15px 2px 5px;\n\tpadding:10px 0 0 0;\n\tborder-top:1px solid #C4C4C4;\n\tfont-weight: bold;\n\tfont-size:13px;\n}\n\n#zenario_fbDebugInfoBox .organizer_info_box {\n\tfloat:right;\n}\n\n#zenario_fbDebugInfoBox table {\n\twidth: 100%;\n}\n\n#zenario_fbDebugInfoBox table tr th,\n#zenario_fbDebugInfoBox table tr td {\n\tvertical-align:top;\n\tpadding:0;\n}\n\n#zenario_fbDebugInfoBox th {\n\twidth: 22%;\n\ttext-align: left;\n\tfont-weight:normal;\n}\n\n#zenario_fbDebugInfoBox table tr td,\n#zenario_fbDebugInfoBox input,\n#zenario_fbDebugInfoBox textarea {\n\tfont-family:'Courier New',Courier,monospace;\n}\n\n#zenario_fbDebugInfoBox input,\n#zenario_fbDebugInfoBox textarea {\n\twidth: 95%;\n\tborder:0;\n\tbackground:#FFF;\n}\n\n#zenario_fbDebugInfoBox textarea {\n\tresize:none;\n\tline-height:1.2em;\n}\n\n.zenario_debugInfo .organizer_info_box {\n\tmargin-top:0;\n}\n\n/*\n#zenario_debug_infobox {\n\tposition: absolute;\n\tz-index: 1;\n\tdisplay: none;\n\tmargin-top: 30px;\n}\n\n.zenario_toolbar_header .toolbar #zenario_debug_infobox,\n.zenario_toolbar_header .toolbar #zenario_debug_infobox * {\n\twidth: auto;\n\theight: auto;\n\tfloat: none;\n}\n\n.zenario_toolbar_header .toolbar #zenario_debug_infobox:hover,\n.zenario_toolbar_header .toolbar #zenario_debug_infobox div:hover {\n\tbackground: none;\n}*/\n\n\n\ntable.table-bordered\n{\n\tborder-collapse:collapse;\n}\n\ntable.table-bordered, table.table-bordered th, table.table-bordered td\n{\n\tborder: 1px solid #C4C4C4;\n}\n\ntable.table-bordered td\n{\n\tpadding: 4px;\n}\n\n/* ---------- Hierarchical files icon styles ------------*/\n.organizer_item_image.zenario_file_item {\n\tbackground: url('../admin/images/icon-documents-documents.svg') no-repeat center center / 18px auto;\n}\n.organizer_item_image.zenario_folder_item {\n\tbackground: url('../admin/images/icon-folder-closed-dark.svg') no-repeat center center / 18px auto;\n}\n.organizer_item_image.zenario_document_tag_item {\n\tbackground: url('../admin/images/icon-tags.svg') no-repeat center center / 18px auto;\n}\n.organizer_item_image.zenario_document_auto_set_rule {\n\tbackground: url('../admin/images/icon-auto-rule-sets.svg') no-repeat center center / 18px auto;\n}\n.organizer_item_image.zenario_error_log {\n\tbackground: url('../admin/images/icon-error-log-dark.svg') no-repeat center center / 18px auto;\n}\n\n/* ---------- Styles for documents section ------------*/\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_offline {\n\tborder: 1px solid #FFA500;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_public {\n\tborder: 1px solid #008000;\n}\n\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_private {\n\tborder: 1px solid #0000FF;\n}\n\t\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items.organizer_documents_items {\n\tline-height: 28px;\n\tpadding: 2px;\n\tcolor: #202020;\n}\n\n#organizer_rightColumn div.organizer_row.document .listicon > div,\n#organizer_rightColumn div.organizer_row.folder .listicon > div,\n#organizer_rightColumn li.organizer_menu_handle .listicon > div {\n\tpadding-left:24px;\n}\n\n.organizer_document_line_outer .zenario_document_title {\n\tfont-weight: bold;\n\tmargin-right: 10px;\n}\n\n.organizer_document_line_outer .zenario_document_sub_fields {\n\tmargin-right: 10px;\n\tfont-style: italic;\n\tcolor: #696969;\n}\n\n.organizer_document_line_outer.line_2 .organizer_document_line_inner .zenario_document_sub_fields {\n\tposition: relative;\n\tbottom: 5px;\n}\n\n#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle.document:hover, \n#organizer_rightColumn .organizer_hierarchy_view .dd3-handle.document {\n\theight: 60px;\n\tbackground:url('../admin/images/icon-drag-handle.png') no-repeat left center;\n}\n\n/* ---------- Styles for tour intro.js  ------------*/\n\n.introjs-tooltip {\n\tmin-width:180px;\n}\n\n.introjs-tooltip .introjs-tooltiptext,\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button {\n\tfont-family:Verdana,Arial,Helvetica,sans-serif;\n}\n\n.introjs-tooltip .introjs-tooltiptext > p strong {\n\tfont-size:18px;\n\tfont-weight:normal;\n\tcolor:#333;\n}\n\n.introjs-tooltip .introjs-tooltiptext p {\n\tfont-size:12px;\n\tcolor:#676767;\n}\n\n.introjs-tooltip .introjs-bullets ul li a.active {\n\tbackground:#0079CE !important;\n}\n\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button {\n\tfont-size:14px;\n\ttext-shadow:none;\n\tcolor:#333;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-skipbutton {\n\twidth:12px;\n\theight:12px;\n\tborder:0;\n\ttext-indent:-999;\n\tdisplay:block;\n\tfont-size:0;\n\tline-height:0;\n\tposition:absolute;\n\ttop:-3px;\n\tright:0;\n\tbackground:url('../admin/images/tooltip-close-off-state.png') no-repeat;\n}\n\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-skipbutton:hover {\n\tbox-shadow:none;\n\tbackground:url('../admin/images/tooltip-close-over-state.png') no-repeat;\n}\n\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-prevbutton {\n\tfloat:left;\n\tborder:1px solid #B3B3B3;\n}\n\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-nextbutton {\n\tborder:1px solid #007FA5;\n\tbackground:#0097C5;\n\tcolor:#FFF;\n}\n\n.introjs-helperNumberLayer {\n\tz-index:99999999 !important;\n}\n\n.introjs-showElement.zenario_admin_name,\n.introjs-showElement.logout_button {\n\tbackground:#000;\n}\n\n#organizer_search.introjs-showElement {\n\tbackground:#FFF;\n}\n\n/* Calendar panel styling */\n.calendar-organizer {\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tmargin-left: 1%;\n\tmargin-top: 1%;\n\ttable-layout: fixed;\n}\n\n.calendar-organizer .calendar-prev-link,\n.calendar-organizer .calendar-next-link {\n\ttext-align: center;\n}\n\n.calendar-organizer .calendar-prev-link a,\n.calendar-organizer .calendar-next-link a {\n\tcursor: pointer;\n}\n\n.calendar-organizer-day {\n\tborder: 1px solid #c4c4c4;\n\tpadding: 3%;\n\ttext-align: right;\n\tposition: relative;\n}\n\n.calendar-organizer-no-date {\n\tbackground: #F6F6F6;\n}\n\n.calendar-organizer-date:hover {\n\tbackground: #dcf5fd;\n}\n\n.calendar-organizer-day-names td {\n\tborder: 1px solid #c4c4c4;\n\tcolor: #ffffff;\n\tbackground: #333333;\n\ttext-align: center;\n\tpadding: 1%;\n}\n\n.calendar-organizer-events-details {\n\tdisplay: block;\n\tfloat: left;\n\twidth: 26%;\n\tmargin-left: 3%;\n\tmargin-top: 0;\n}\n\n.calendar-organizer-event {\n\tposition: absolute;\n\ttop: 55%;\n\tright: 5%;\n\tbackground: #01D103;\n\tcolor: #ffffff;\n\tpadding: 3%;\n}\n\n.calendar-organizer-wrapper {\n\tdisplay: block;\n\tfloat: left;\n\twidth: 70%;\n}\n\n.calendar-organizer-day-value {\n\tposition: absolute;\n\ttop: 5%;\n\tright: 5%;\n}\n\n.calendar-first-row {\n\twidth: 100%;\n}\n\n.calendar-first-row div {\n\tdisplay: block;\n\tfloat: left;\n\twidth: 33%;\n}\n\n.calendar-organizer-first-row {\n\tbackground: #f9f9f9;\n\tborder: 1px solid #c4c4c4;\n}\n\n.calendar-first-row-left {\n\ttext-align: left;\n}\n\n.calendar-first-row-middle h2 {\n\ttext-align: center;\n\tmargin: 0;\n}\n\n.calendar-first-row-right {\n\ttext-align: right;\n}\n\n.calendar-first-row ul li {\n\tdisplay: inline-block;\n}\n\n.calendar-first-row ul {\n\tpadding-left: 6%;\n\tmargin: 0;\n}\n\n.calendar-organizer-month-year-title {\n\tfont-size: 1.2em;\n\tfont-weight: 700;\n\ttext-align: center;\n}\n\n.organizer_subheading {\n\tfont-weight: 700;\n\tcolor: #000000;\n\tfont-family: Verdana;\n\tfont-size: 1em;\n\tbackground-color: #e6e6e6;\n\tpadding: 5px 0px 5px 5px;\n\tborder-bottom: 1px solid #c4c4c4;\n}\n\n/* Ensure that inline buttons appear properly */\n\n.organizer_list_view_with_short_rows div.organizer_cell div {\n\tdisplay: block;\n\tfloat: left;\n}\n\n.organizer_list_view_with_short_rows div.organizer_cell div.organizer_cell_line {\n\tfloat: none;\n}\n\n\n/* Image gallery thumbnails */\n.organizer_list_view_with_tall_rows .listicon .organizer_item_with_image {\n\tdisplay: block;\n\tfloat: left;\n}\n\n.organizer_list_view_with_tall_rows .listicon .organizer_inline_buttons {\n\twidth: 60px;\n\tdisplay: block;\n\tfloat: right;\n\tposition: relative;\n\tbottom: 45px;\n\tleft: 4px;\n}\n\n\n\n/*  Form builder styles  */\n\n#organizer_rightColumn .organizer_form_builder_view .form_outer .form h4 {\n\tcolor: #202020;\n\tmargin: 15px 0px 5px 0px;\n}\n\n#organizer_rightColumn .organizer_form_builder_view .form_outer .form .field.ui-sortable-handle {\n\tmargin-left: 20px;\n}\n\n#organizer_rightColumn .organizer_form_builder_view .form_outer .form .field.ui-sortable-handle input {\n\twidth: 200px;\n}\n\n\n/*  Placeholder icons for desktop/mobile view in the nest UI  */\n\n#organizer_rightColumnContent #organizer_hierarchy_view div.organizer_row .organizer_column__small_screens__cell {\n\tdisplay: inline-block;\n\twidth: 40px;\n\theight: 18px;\n\tfont-size: 0;\n\tcolor:transparent;\n}\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_mobile_only:before,\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_and_mobile:before {\n\tdisplay: inline-block;\n\twidth: 18px;\n\theight: 19px;\n\tbackground: url('../admin/images/icon-page-preview-mobile-portrait.svg') center bottom no-repeat;\n\tbackground-size: auto 14px;\n\tcontent: '';\n}\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_only:after,\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_and_mobile:after {\n\tdisplay: inline-block;\n\twidth: 18px;\n\theight: 19px;\n\tbackground: url('../admin/images/icon-page-preview-desktop.svg') center bottom no-repeat;\n\tbackground-size: auto 14px;\n\tcontent: '';\n}\n\n\n\n\n.organizer_list_view_with_tall_rows .listicon > div {\n\twidth: 64px;\n\theight: 48px !important;\n\tdisplay: block;\n\tfloat: left;\n\tpadding-left: 0!important;\n}\n\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row div.organizer_cell.listicon .organizer_list_view_icon {\n\twidth: 60px;\n\theight: 43.333px !important;\n\tmargin: 3px 2px;\n}\n\n/* Overwrote rules for first column */\n\n.organizer_tall_row_with_small_icon .listicon.firstcol > div {\n\twidth:auto;\n\theight:25px !important;\n\tpadding-left:24px !important;\n}\n\n.organizer_tall_row_with_small_icon .listicon.firstcol > div.organizer_inline_buttons {\n\tposition:static;\n\tbottom:0;\n\tleft:0;\n\tfloat:left;\n\tpadding-left:1px !important;\n}\n\n.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons,\n.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons div,\n.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons div.zenario_users_contact_status {\n\theight:25px !important;\n}\n\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cell.listicon .organizer_inline_buttons, \n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cell.listicon .organizer_inline_buttons div, \n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cells_items .organizer_inline_buttons, \n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cells_items .organizer_inline_buttons div {\n\tmargin:0;\n\tpadding:0;\n}\n\n/* Styles for icons in usage columns */\n#organizer_rightColumnContent div.organizer_row div.organizer_cell span.listicon {\n\tdisplay: inline-block;\n\tpadding-left: 16px;\n\theight: 16px;\n\tbackground-size: 14px 16px;\n\tpadding-right: 2px;\n\tbackground-position: left center;\n}\n\n\n/* END: Overwrote rules for first column */\n\n.organizer_slidedown_view table td .slidedown_tags_title {\n\twidth: 40px;\n\tmargin: 0 0 10px 20px;\n\tdisplay: block;\n\tfloat: left;\n\tcolor: #202020;\n\tmargin: 0 0 10px 20px;\n}\n\n.organizer_slidedown_view table td .organizer_image_tags.slidedown_view {\n\tdisplay: block;\n\tfloat: left;\n}\n\n/* Admin box help */\n#row__module_description .zfab_row_inner .module_description * {\n\tcolor: #ffffff;\n\tfont-size: 11px;\n}\n\n#row__module_description .zfab_row_inner .module_description ul {\n\tmargin: 15px 0px 15px 30px;\n\tlist-style-position: inside;\n}\n\n#row__module_description .zfab_row_inner .module_description ul li {\n\tlist-style: disc;\n\tmargin: 5px 0px 5px 0px;\n\t\n}\n\n#row__module_description .zfab_row_inner .module_description p {\n\tmargin-top: 10px;\n\tmargin-bottom: 10px;\n}\n\n\n\n\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li a { \n\tmin-width:200px;\n\ttext-align: center;\n}\n\n.label_without_icon.organizer_button_with_children > a { \n\tmin-width:0; \n}\n\n#organizer_collectionPanelButtons_no_items ul li {\n\tlist-style: none;\n\tmargin-left:2px;\n\tmargin-right:2px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new a,\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a {\n\tcursor: pointer;\n\tpadding: 5px 10px 6px;\n\tborder-radius: 3px;\n\t-webkit-border-radius: 3px; \n\t-moz-border-radius: 3px; \n\ttext-shadow: 0 1px 1px #000;\n\tdisplay: inline-block;\n\tmin-width: 200px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new a,\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a {\n\tbackground-color: #ea5900;\n\tcolor: #ffffff;\n}\n\n#organizer_collectionPanelButtons_no_items ul li a {\n\tbackground: #e9e9e9;\n\tcursor: pointer;\n\tpadding: 5px 10px 6px;\n\tcolor: #616161;\n\tborder-radius: 3px;\n\t-webkit-border-radius: 3px; \n\t-moz-border-radius: 3px; \n\tdisplay: inline-block;\n\tmin-width: 200px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .label_without_icon a {\n\tmin-width: 200px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children a {\n\ttext-align: left;\n\tcursor: auto;\n\tdisplay:inline-block;\n\tmin-width: 0;\n\tbackground: url(\"../admin/images/no_items_arrow_right.png\") no-repeat;\n\tbackground-position: right center;\n\tpadding-right: 15px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children > a {\n\tcolor:#000;\n\ttext-shadow: none;\n}\n\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a {\n\tmargin:5px 8px;\n}\n\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children a,\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul,\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li {\n\tdisplay:inline-block;\n}\n\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li a {\n\tbackground: #e9e9e9;\n\tcursor: pointer;\n\tpadding: 5px 10px 6px;\n\tcolor: #616161;\n\tborder-radius: 3px;\n\t-webkit-border-radius: 3px; \n\t-moz-border-radius: 3px; \n\tfont-weight: normal;\n}\n\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul {\n\tpadding: 0;\n}\n\n#organizer_rightColumnOptions_no_items {\n\tmargin-top: 20px;\n}\n\n/* Help tour styling */\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button {\n\tcursor: pointer;\n\tdisplay: block;\n\theight: 25px;\n\twidth: 67px;\n\tbackground: url('../admin/images/help_btn.svg') no-repeat center center / 67px 24px;\n}\n\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button p {\n\tposition: relative;\n\ttop: 4px;\n\tleft: 6px;\n\tcolor: #ffffff;\n}\n\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button {\n\topacity: 1;\n\t-webkit-transition: all 0.3s ease-out;\n\t-moz-transition: all 0.3s ease-out;\n\t-o-transition: all 0.3s ease-out;\n\ttransition: all 0.3s ease-out;\n}\n\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button:hover {\n\topacity: 0.6;\n}\n\n#zenario_tutorial_main_video {\n\tdisplay: block;\n\tmargin: 0 auto;\n\tpadding-bottom: 20px;\n\tpadding-top: 20px;\n}\n\n#zenario_tutorial_main_video iframe,\n#zenario_tutorial_main_video .no_video {\n\tdisplay: block;\n\tmargin: 0 auto;\n}\n\n#zenario_tutorial_main_video .no_video p {\n\ttext-align: center;\n\tcolor: #ffffff;\n\tfont-size: 1.2em;\n\tmargin-top: 149px;\n\tmargin-bottom: 149px;\n}\n\n.zenario_tutorial .other_videos .no_other_videos p {\n\ttext-align: center;\n}\n\n.zenario_tutorial {\n\tbackground-color: #F4F4F4;\n}\n\n.zenario_tutorial .help_tour_outer {\n\tbackground-color: #D2ECF8;\n\tmargin: 0px 10px 10px 10px;\n\tmin-height: 70px;\n}\n\n.zenario_tutorial .help_tour_outer .help_tour_inner,\n.zenario_tutorial .help_tour_outer .video_start_tour {\n\tdisplay: block;\n\tfloat: left;\n}\n\n.zenario_tutorial .help_tour_outer .help_tour_inner .help_tour_message {\n\tfont-weight: 700;\n\tfont-size: 12px;\n\tmargin: 15px 30px 10px 50px;\n}\n\n.zenario_tutorial .help_tour_outer .help_tour_inner .auto_open_option {\n\tmargin: 0px 30px 0px 47px;\n}\n\n.zenario_tutorial .help_tour_outer .video_start_tour .start_button {\n\tbackground: url(\"../admin/images/start-tour-btn-off.png\") no-repeat;\n\tdisplay: block;\n\theight: 50px;\n\twidth: 160px;\n\tcolor: transparent;\n\tcursor: pointer;\n\tmargin-top: 15px;\n}\n\n.zenario_tutorial .help_tour_outer .video_start_tour .start_button:hover {\n\tbackground: url(\"../admin/images/start_tour_btn_on.png\") no-repeat;\n}\n\n.zenario_tutorial .video_end {\n\tclear: both;\n}\n\n.zenario_tutorial .main_video {\n\tbackground-color: #000000;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .zenario_slideshow_wrapper {\n\tmargin-top: 20px;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .no_other_videos {\n\tline-height: 150px;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .no_other_videos p {\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tmargin: 0;\n\ttext-align: center;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .organizer_slideshow #navigator {\n\tposition: relative;\n\ttop: 170px;\n\tdisplay: none;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides {\n\tleft: 70px;\n\twidth: 85%;\n\ttop: 20px;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video {\n\tborder:2px solid #FFF;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video.selected {\n\tborder-color:#01d103;\n}\n\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video.selected .video_title {\n\tbackground:#01d103;\n\ttext-shadow:1px 1px #333;\n}\n\n#zenario_tutorial_other_videos div.slides {\n\theight:154px !important;\n}\n\n.zenario_tutorial .zenario_tutorial_video_banner {\n\theight: 40px;\n\twidth: 97%; \n\tbackground-color: #333333;\n}\n\n.zenario_tutorial .zenario_tutorial_video_banner h1,\n.zenario_tutorial .zenario_tutorial_video_banner {\n\tcolor:  #ffffff;\n\tfont-size: 1.2em;\n\tfont-weight: 700;\n\tmargin: 0;\n\tpadding: 0;\n\tline-height: 40px;\n\ttext-align: left;\n\tpadding-left: 3%;\n}\n\n.zenario_tutorial_cbox #cboxTitle { \n\tdisplay: none!important;\n}\n\n.zenario_tutorial_cbox #cboxLoadedContent {\n\tmargin-bottom:0;\n}\n\n.zenario_tutorial_cbox #cboxContent {\n   background: #F4F4F4;\n}\n\nspan.video_title {\n\tposition: absolute;\n\tbottom: 0;\n\tbackground: #333;\n\tdisplay: block;\n\tpadding: 2px 8px;\n\tcolor: #fff;\n\ttext-align: center;\n\tleft: 0;\n\tright: 0;\n}\n\n.zenario_tutorial_cbox #cboxClose {\n  position: absolute;\n  top: 9px;\n  right: 8px;\n  display: block;\n  width: 23px;\n  height: 23px;\n  text-indent: -9999px;\n}\n\n#organizer_collectionPanelButtons_no_items ul {\n\tpadding-left: 0;\n}\n\n.zenario_show_colobox_above_fab #cboxLoadedContent { \n\tpadding-bottom: 28px;\n}\n\n#organizer_colsortfields .zenario_remove_date {\n\tbackground: #333333;\n\tcolor: #ffffff;\n\tborder: 0;\n\tcursor: pointer;\n\tposition: relative;\n\tbottom: 1px;\n}\n\n.zenario_date_filters_phrase {\n\tdisplay: inline-block;\n\twidth: 80px;\n}\n\n/* Builders\n--------------------------------------------------------------------------------------------------*/\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .logout_button,\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .home_page_button,\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .top_left_button,\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .zenario_admin_name,\n#zenario_fbog.zenario_panel_type__form_builder #organizer_bottomWrap,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .logout_button,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .home_page_button,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .top_left_button,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .zenario_admin_name,\n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_bottomWrap,\n#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .logout_button,\n#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .home_page_button,\n#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .top_left_button,\n#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .zenario_admin_name,\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_bottomWrap {\n\tdisplay:none;\n}\n\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button {\n\tdisplay:block;\n\tborder:0;\n\twidth:auto;\n\theight:auto;\n}\n\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button a,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button a {\n\tdisplay:block;\n\theight:34px;\n\twidth:34px;\n\tcursor:pointer;\n\tmargin-top:2px;\n\tmargin-right:17px;\n\tborder:0;\n\tbackground:url(\"../admin/images/icon-close-off-state-light-grey.svg\") no-repeat center / 16px 16px;\n}\n\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button a:hover,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button a:hover {\n\tbackground:url(\"../admin/images/icon-close-hover-state-blue.svg\") no-repeat center / 16px 16px;\n}\n\n#zenario_fbog.zenario_panel_type__form_builder #organizer_backButton,\n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_backButton {\n\tpadding-left:15px;\n}\n\n#zenario_fbog.zenario_panel_type__form_builder .organizer_rightColumnOptions_panel,\n#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_rightColumnOptions_panel,\n#zenario_fbog.zenario_panel_type__schematic_builder .organizer_rightColumnOptions_panel {\n\theight:0;\n\tpadding:12px 0 0;\n}\n\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel,\n#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel,\n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel {\n\tposition:absolute;\n\tright:0;\n\tleft:0;\n\ttop:-27px;\n\ttext-align:center;\n\tmargin:auto;\n}\n\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul, \n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a,\n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul, \n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a,\n#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul, \n#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\tfloat:none;\n\tdisplay:inline;\n}\n\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li,\n#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li,\n#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li {\n\tbackground:none;\n}\n\n/* Organizer form builder\n--------------------------------------------------------------------------------------------------*/\n\n.organizer_form_builder_view {\n\theight:100%;\n\toverflow:hidden;\n\tbackground:url('../admin/images/bg-pattern-blue.png');\n}\n\n.organizer_form_builder_view .form_fields_palette,\n.organizer_form_builder_view .form_outer {\n\tfloat:left;\n}\n\n.organizer_form_builder_view .form_outer {\n\toverflow:auto;\n\twidth:calc( 100% - 450px );\n\theight:calc( 100% - 50px );\n\tpadding:15px 20px;\n\tmargin:10px;\n\tbackground:#FFF;\n\tbox-shadow: 4px 4px 10px 0px rgba(0, 0, 0, 0.35);\n\t-webkit-box-shadow: 4px 4px 10px 0px rgba(0, 0, 0, 0.35);\n\t-moz-box-shadow: 4px 4px 10px 0px rgba(0, 0, 0, 0.35);\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_section {\n\tpadding:10px;\n\tborder-top:1px solid #FFF;\n\tborder-bottom:1px solid #8CD58B;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_section:first-child,\n.organizer_form_builder_view .form_fields_palette .field_type_list.header_content {\n\tborder-top:0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_section:last-child,\n.organizer_form_builder_view .form_fields_palette .field_type_list_header.header_content {\n\tborder-bottom:0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list.header_content {\n\tpadding-top:0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_header.header_content {\n\tpadding-bottom:0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list.field_type_section_simple {\n\tpadding-top:10px;\n}\n\n/**/\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_header {\n\tpadding:15px;\n\tborder-bottom:1px solid #8ED28C;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs {\n\twidth:100%;\n\toverflow:hidden;\n\tmargin-top:5px;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab {\n\tdisplay:inline-block;\n\tmargin-left:4px;\n\tpadding:10px 8px;\n\tcursor:pointer;\n\tcolor:#777;\n\tbackground:#f0f0f0;\n\tborder:1px solid #b9b9b9;\n\tborder-bottom-color:#6f6f6f;\n\tposition:relative;\n\tz-index:2;\n\t-webkit-border-top-left-radius: 2px;\n\t-webkit-border-top-right-radius: 2px;\n\t-moz-border-radius-topleft: 2px;\n\t-moz-border-radius-topright: 2px;\n\tborder-top-left-radius: 2px;\n\tborder-top-right-radius: 2px;\n\t-webkit-transition: color 0.3s ease-out;\n\t-moz-transition: color 0.3s ease-out;\n\t-o-transition: color 0.3s ease-out;\n\ttransition: color 0.3s ease-out;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab:hover {\n\tcolor:#333;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab.on {\n\tpadding-right:22px;\n\tbackground:#fff url('../admin/images/icon-pencil.png') no-repeat right center;\n\tcolor:#333;\n\tborder-color:#6f6f6f;\n\tborder-bottom-color:#FFF;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab.ui-state-hover {\n\tbackground:#333;\n\tborder-color:#333;\n\tcolor:#fff;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab.visible {\n\tbackground-color:#BFFEAF;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab.hidden {\n\tbackground-color:#CCCCCC;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs .tab.visible_on_condition {\n\tbackground-color:#FFC480;\n}\n\n/**/\n\n.organizer_form_builder_view .form_outer .form_outer_inner {\n\tpadding:20px 15px;\n\theight:calc(100% - 80px);\n}\n\n.organizer_form_builder_view .form_outer .form_header {\n\tpadding:5px 10px;\n\ttext-align:center;\n}\n\n.organizer_form_builder_view .form_outer .form_tabs #organizer_add_new_tab {\n\tcursor:pointer;\n\tcolor:#01d102;\n\tfont-weight:bold;\n\tfont-size:20px;\n\tdisplay:inline-block;\n}\n\n.organizer_form_builder_view .form_outer .form {\n\theight:100%;\n\tborder-top:1px solid #6f6f6f;\n\tposition:relative;\n\tmargin-top:-1px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_section {\n\tmin-height:100%;\n}\n\n.organizer_form_builder_view .form_outer .form .form_section.empty {\n\tpadding:30px;\n\ttext-align:center;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field .form_field_arrow {\n\tdisplay:none;\n\twidth:23px;\n\theight:47px;\n\tbackground:url('../admin/images/builder-status-selected-triangle.png') no-repeat 0 0;\n\tposition:absolute;\n\tright:100%;\n\tz-index:50;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.selected .form_field_arrow {\n\tdisplay:inline-block;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.section_description .description {\n\twhite-space: pre-wrap;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start {\n\tbackground-image:url('../admin/images/icon-repeating-section.png');\n\tbackground-repeat:no-repeat;\n\tbackground-position:5px 20px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,\n.organizer_form_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border {\n\tdisplay:inline-block;\n\tborder-top:2px dashed #333333;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border {\n\twidth:100%;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border {\n\twidth:calc(100% - 40px);\n\tmargin-left:40px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper span,\n.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper span {\n\tdisplay:inline-block;\n\tfloat:right;\n\tpadding:0 8px 2px;\n\tmargin:2px 0 0 40px;\n\tbackground:#777;\n\tcolor:#FFF;\n\tfont-size:10px;\n\t-webkit-border-radius: 3px;\n\t-moz-border-radius: 3px;\n\tborder-radius: 3px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field_classes {\n\ttext-align:right;\n\tdisplay:inline-block;\n\tposition:absolute;\n\tright:8px;\n\tbottom:5px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field_classes .field_icon {\n\tdisplay:inline-block;\n\twidth:40px;\n\ttext-align:center;\n\tpadding:1px 0;\n\tfont-size:10px;\n\ttext-transform:uppercase;\n\tbackground:#333333;\n\tcolor:#FFF;\n\t-webkit-border-radius: 3px;\n\t-moz-border-radius: 3px;\n\tborder-radius: 3px;\n}\n\n/* Organizer builder view\n--------------------------------------------------------------------------------------------------*/\n\n.organizer_admin_box_builder_view {\n\theight:100%;\n\toverflow:hidden;\n\tbackground:url('../admin/images/bg-pattern-grey.png');\n}\n\n.organizer_admin_box_builder_view .form_fields_palette,\n.organizer_admin_box_builder_view .form_outer {\n\theight:calc( 100% - 20px );\n\tfloat:left;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette {\n\toverflow:auto;\n\twidth:370px;\n\tmargin:10px;\n\tbackground:#f6f6f6;\n\tbox-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\t-webkit-box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\t-moz-box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n}\n\n.organizer_admin_box_builder_view .form_outer {\n\twidth:calc( 100% - 410px );\n\toverflow:auto;\n\tmargin:10px;\n\tbackground:#FFF;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette .field_type_section {\n\tpadding:10px;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header.field_type_section {\n\tpadding:15px 15px 0;\n\tbackground:url('../admin/images/builder-sections-separator.gif') repeat-x left top;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header.field_type_section:first-child {\n\tbackground-position:left bottom;\n\tpadding-bottom:15px;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header h5 {\n\tmargin:0;\n\tcolor:#333;\n\tfont-size:16px;\n\tfont-weight:normal;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list,\n.organizer_form_builder_view .form_fields_palette .field_type_list,\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields {\n\toverflow:hidden;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_1,\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_2 {\n\twidth:50%;\n\tfloat:left;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_outer_inner {\n\tpadding:15px;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_outer_inner,\n.organizer_admin_box_builder_view .form_outer .form_outer_inner #organizer_form_sections {\n\theight:100%;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_outer_inner #organizer_form_sections .form_section {\n\tmin-height:100%;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_header {\n\tpadding:5px 10px;\n\tbackground:#ddf6fd;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_header h5 {\n\tmargin:0;\n\tcolor:#333;\n\tfont-size:16px;\n\tfont-weight:normal;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_header h5 span {\n\tfont-size:13px;\n\tfont-style:italic;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_tabs {\n\twidth:100%;\n\toverflow:hidden;\n\tborder-bottom:1px solid #6f6f6f;\n\tmargin:5px 0 10px;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_tabs .tab {\n\tdisplay:inline-block;\n\tcolor:#b9b9b9;\n\tmargin-right:15px;\n\tpadding:10px 0;\n\tcursor:pointer;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_tabs .tab:hover {\n\tcolor:#027cd9;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_tabs .tab.on {\n\tcolor:#333;\n\tborder-bottom:2px solid #01d102;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_tabs #organizer_add_new_tab {\n\tcursor:pointer;\n\tcolor:#01d102;\n\tfont-weight:bold;\n\tfont-size:20px;\n\tdisplay:inline-block;\n}\n\n.organizer_admin_box_builder_view .form_outer .form {\n}\n\n.organizer_admin_box_builder_view .field_type_list_outer h6 {\n\tmargin:0;\n\tpadding:6px 10px 0 15px;\n\tfont-size:13px;\n\tcolor:#000;\n}\n\n.organizer_admin_box_builder_view .field_type_list_outer .field_type_section {\n\tbackground:url(\"../admin/images/builder-sections-separator.gif\") repeat-x left bottom;\n}\n\n.field_type_list_outer .field_type_section .field_type,\n.field_type_list_outer .dataset_fields .dataset_field {\n\tpadding-left:5px;\n}\n\n.field_type_list_outer .field_type_section .field_type span,\n.field_type_list_outer .dataset_fields .dataset_field span {\n\tdisplay:inline-block;\n\twidth:20px;\n\theight:16px;\n\tfloat:left;\n\tbackground-position:0 center;\n\tbackground-repeat:no-repeat;\n\t-webkit-transition: all 0.3s ease-out;\n\t-moz-transition: all 0.3s ease-out;\n\t-o-transition: all 0.3s ease-out;\n\ttransition: all 0.3s ease-out;\n}\n\n.field_type_list_outer .field_type_section .field_type span.centralised_radios {\n\tbackground-position:3px center;\n}\n\n.field_type_list_outer .field_type_section .field_type:hover span,\n.field_type_list_outer .dataset_fields .dataset_field:hover span {\n\tfilter:brightness(500%);\n}\n\n.field_type_list_outer .field_type_section .field_type:hover span.radios, \n.field_type_list_outer .dataset_fields .dataset_field:hover span.radios,\n.field_type_list_outer .field_type_section .field_type:hover span.centralised_radios {\n\tfilter:invert(1);\n}\n\n.field_type_list_outer .field_type_section span.text,\n.field_type_list_outer .dataset_fields .dataset_field span.text,\n.organizer_form_builder_view .form_outer .form_field.text .label, \n.organizer_admin_box_builder_view .form_outer .form_field.text .label,\n.organizer_form_builder_view .form_outer .form_field .label, \n.organizer_admin_box_builder_view .form_outer .form_field .label {\n\tbackground-image:url(\"../admin/images/icon-field-text.svg\");\n\tbackground-position:1px 1px;\n\tbackground-size:auto 13px;\n}\n\n.field_type_list_outer .field_type_section span.checkbox,\n.field_type_list_outer .dataset_fields .dataset_field span.checkbox,\n.organizer_form_builder_view .form_outer .form_field.checkbox .label, \n.organizer_admin_box_builder_view .form_outer .form_field.checkbox .label,\n.organizer_form_builder_view .form_outer .form_field.toggle .label, \n.organizer_admin_box_builder_view .form_outer .form_field.toggle .label {\n\tbackground-image:url(\"../admin/images/icon-field-checkbox.svg\");\n\t/*background-position:5px 4px;*/\n\tbackground-size:12px auto;\n}\n\n.field_type_list_outer .field_type_section span.textarea,\n.field_type_list_outer .dataset_fields .dataset_field span.textarea,\n.organizer_form_builder_view .form_outer .form_field.textarea .label, \n.organizer_admin_box_builder_view .form_outer .form_field.textarea .label {\n\tbackground-image:url(\"../admin/images/icon-field-textarea.svg\");\n\tbackground-size:14px auto;\n}\n\n.field_type_list_outer .field_type_section span.select,\n.field_type_list_outer .dataset_fields .dataset_field span.select,\n.organizer_form_builder_view .form_outer .form_field.select .label, \n.organizer_admin_box_builder_view .form_outer .form_field.select .label,\n.field_type_list_outer .field_type_section span.centralised_select,\n.field_type_list_outer .dataset_fields .dataset_field span.centralised_select,\n.organizer_form_builder_view .form_outer .form_field.centralised_select .label, \n.organizer_admin_box_builder_view .form_outer .form_field.centralised_select .label {\n\tbackground-image:url(\"../admin/images/icon-field-select-list.svg\");\n\tbackground-size:15px auto;\n}\n\n.field_type_list_outer .field_type_section span.radios,\n.field_type_list_outer .dataset_fields .dataset_field span.radios,\n.organizer_form_builder_view .form_outer .form_field.radios .label, \n.organizer_admin_box_builder_view .form_outer .form_field.radios .label,\n.field_type_list_outer .field_type_section span.centralised_radios,\n.field_type_list_outer .dataset_fields .dataset_field span.centralised_radios,\n.organizer_form_builder_view .form_outer .form_field.centralised_radios .label, \n.organizer_admin_box_builder_view .form_outer .form_field.centralised_radios .label {\n\tbackground-image:url(\"../admin/images/icon-field-radios.svg\");\n\tbackground-position:3px center;\n}\n\n.field_type_list_outer .field_type_section span.checkboxes,\n.field_type_list_outer .dataset_fields .dataset_field span.checkboxes,\n.organizer_form_builder_view .form_outer .form_field.checkboxes .label, \n.organizer_admin_box_builder_view .form_outer .form_field.checkboxes .label {\n\tbackground-image:url(\"../admin/images/icon-field-checkboxes.svg\");\n\tbackground-position:3px center;\n}\n\n.field_type_list_outer .field_type_section span.date,\n.field_type_list_outer .dataset_fields .dataset_field span.date,\n.organizer_form_builder_view .form_outer .form_field.date .label, \n.organizer_admin_box_builder_view .form_outer .form_field.date .label {\n\tbackground-image:url(\"../admin/images/icon-field-date.svg\");\n}\n\n.field_type_list_outer .field_type_section span.url,\n.field_type_list_outer .dataset_fields .dataset_field span.url,\n.organizer_form_builder_view .form_outer .form_field.url .label, \n.organizer_admin_box_builder_view .form_outer .form_field.url .label {\n\tbackground-image:url(\"../admin/images/icon-field-url.svg\");\n}\n\n.field_type_list_outer .field_type_section span.editor,\n.field_type_list_outer .dataset_fields .dataset_field span.editor,\n.organizer_form_builder_view .form_outer .form_field.editor .label, \n.organizer_admin_box_builder_view .form_outer .form_field.editor .label {\n\tbackground-image:url(\"../admin/images/icon-field-editor.svg\");\n}\n\n.field_type_list_outer .field_type_section span.file_picker,\n.field_type_list_outer .dataset_fields .dataset_field span.file_picker,\n.organizer_form_builder_view .form_outer .form_field.file_picker .label, \n.organizer_admin_box_builder_view .form_outer .form_field.file_picker .label {\n\tbackground-image:url(\"../admin/images/icon-field-file-picker.svg\");\n\tbackground-size:auto 15px;\n}\n\n.field_type_list_outer .field_type_section span.dataset_select,\n.field_type_list_outer .dataset_fields .dataset_field span.dataset_select,\n.organizer_form_builder_view .form_outer .form_field.dataset_select .label, \n.organizer_admin_box_builder_view .form_outer .form_field.dataset_select .label {\n\tbackground-image:url(\"../admin/images/icon-field-dataset-select.png\");\n}\n\n.field_type_list_outer .field_type_section span.dataset_picker,\n.field_type_list_outer .dataset_fields .dataset_field span.dataset_picker,\n.organizer_form_builder_view .form_outer .form_field.dataset_picker .label, \n.organizer_admin_box_builder_view .form_outer .form_field.dataset_picker .label {\n\tbackground-image:url(\"../admin/images/icon-field-dataset-picker.png\");\n}\n\n.field_type_list_outer .field_type_section span.flag,\n.field_type_list_outer .dataset_fields .dataset_field span.flag,\n.organizer_form_builder_view .form_outer .form_field.flag .label, \n.organizer_admin_box_builder_view .form_outer .form_field.flag .label {\n\tbackground-image:url(\"../admin/images/icon-field-flag.png\");\n}\n\n.field_type_list_outer .field_type_section span.group,\n.field_type_list_outer .dataset_fields .dataset_field span.group,\n.organizer_form_builder_view .form_outer .form_field.group .label, \n.organizer_admin_box_builder_view .form_outer .form_field.group .label {\n\tbackground-image:url(\"../admin/images/icon-field-group.svg\");\n\tbackground-size:16px auto;\n}\n\n.field_type_list_outer .field_type_section span.attachment,\n.field_type_list_outer .dataset_fields .dataset_field span.attachment,\n.organizer_form_builder_view .form_outer .form_field.attachment .label, \n.organizer_admin_box_builder_view .form_outer .form_field.attachment .label {\n\tbackground-image:url(\"../admin/images/icon-field-attachment.svg\");\n}\n\n.field_type_list_outer .field_type_section span.calculated,\n.field_type_list_outer .dataset_fields .dataset_field span.calculated,\n.organizer_form_builder_view .form_outer .form_field.calculated .label, \n.organizer_admin_box_builder_view .form_outer .form_field.calculated .label {\n\tbackground-image:url(\"../admin/images/icon-field-calculated.svg\");\n}\n\n.field_type_list_outer .field_type_section span.restatement,\n.field_type_list_outer .dataset_fields .dataset_field span.restatement,\n.organizer_form_builder_view .form_outer .form_field.restatement .label, \n.organizer_admin_box_builder_view .form_outer .form_field.restatement .label {\n\tbackground-image:url(\"../admin/images/icon-field-mirrored.svg\");\n}\n\n.field_type_list_outer .field_type_section span.repeat_start,\n.field_type_list_outer .dataset_fields .dataset_field span.repeat_start,\n.organizer_form_builder_view .form_outer .form_field.repeat_start .label, \n.organizer_admin_box_builder_view .form_outer .form_field.repeat_start .label {\n\tbackground-image:url(\"../admin/images/icon-field-repeatblock.svg\");\n}\n\n.field_type_list_outer .field_type_section span.section_description,\n.field_type_list_outer .dataset_fields .dataset_field span.section_description,\n.organizer_form_builder_view .form_outer .form_field.section_description .label, \n.organizer_admin_box_builder_view .form_outer .form_field.section_description .label {\n\tbackground-image:url(\"../admin/images/icon-field-subheading.svg\");\n}\n\n.field_type_list_outer .field_type_section span.document_upload,\n.field_type_list_outer .dataset_fields .dataset_field span.document_upload,\n.organizer_form_builder_view .form_outer .form_field.document_upload .label, \n.organizer_admin_box_builder_view .form_outer .form_field.document_upload .label {\n\tbackground-image:url(\"../admin/images/icon-field-document-upload.svg\");\n}\n\n.field_type_list_outer .field_type_section span.consent,\n.field_type_list_outer .dataset_fields .dataset_field span.consent,\n.organizer_form_builder_view .form_outer .form_field.consent .label, \n.organizer_admin_box_builder_view .form_outer .form_field.consent .label {\n\tbackground-image:url(\"../admin/images/icon-consents-dark.svg\");\n}\n\n/* Form builder,\n   Adminbox builder\n--------------------------------------------------------------------------------------------------*/\n\n.organizer_form_builder_view input[type=\"text\"],\n.organizer_form_builder_view input[type=\"email\"],\n.organizer_form_builder_view input[type=\"password\"],\n.organizer_form_builder_view textarea,\n.organizer_admin_box_builder_view input[type=\"text\"],\n.organizer_admin_box_builder_view input[type=\"email\"],\n.organizer_admin_box_builder_view input[type=\"password\"],\n.organizer_admin_box_builder_view textarea {\n\tborder: 1px solid #c4c4c4;\n\tcolor: #424242;\n\tfont-family: Verdana,Tahoma,Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n\tpadding: 5px;\n}\n\n.organizer_form_builder_view .form_fields_palette,\n.organizer_admin_box_builder_view .form_fields_palette {\n\toverflow-y:auto;\n\twidth:370px;\n\tmargin:10px;\n\theight:calc( 100% - 24px );\n\tbox-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\t-webkit-box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\t-moz-box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.5);\n\tbackground:#f6f6f6;\n}\n\n.organizer_form_builder_view .form_fields_palette_outer,\n.organizer_admin_box_builder_view .form_fields_palette_outer {\n\tposition:relative;\n\tdisplay:table;\n\twidth:100%;\n\theight:calc( 100% - 158px );\n}\n\n.organizer_form_builder_view .form_fields_palette_outer .field_details_outer,\n.organizer_admin_box_builder_view .form_fields_palette_outer .field_details_outer {\n\tdisplay:table-cell;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer,\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_outer {\n\theight:100%;\n\tbackground:#baefba;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_header > div,\n.organizer_form_builder_view .form_outer .form_header > div,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_header > div,\n.organizer_admin_box_builder_view .form_outer .form_header > div,\n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header > div {\n\tpadding:10px 15px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_info,\n.organizer_form_builder_view .form_outer .form_header .field_info,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_info,\n.organizer_admin_box_builder_view .form_outer .form_header .field_info,\n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .field_info {\n\tmargin-top:5px;\n\tfont-size:11px;\n\tfont-style:italic;\n\t-ms-word-break: break-all;\n  \tword-break: break-all;\n  \tword-break: break-word;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_details_header_options,\n.organizer_form_builder_view .form_outer .form_header .field_details_header_options,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_details_header_options,\n.organizer_admin_box_builder_view .form_outer .form_header .field_details_header_options,\n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .tab_details_header_options {\n\toverflow:hidden;\n\ttext-align:right;\n\tborder-bottom:1px solid #C6CBCF;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_details_header_options input,\n.organizer_form_builder_view .form_outer .form_header .field_details_header_options input,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_details_header_options input,\n.organizer_admin_box_builder_view .form_outer .form_header .field_details_header_options input,\n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .tab_details_header_options input {\n\tmargin-left:10px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_header h5,\n.organizer_form_builder_view .form_fields_palette .field_details_header h5, \n.organizer_admin_box_builder_view .form_fields_palette .field_details_header h5,\n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header h5 {\n\tmargin:0;\n\tcolor:#000;\n\tfont-size:16px;\n\tfont-weight:normal;\n\tdisplay:inline;\n}\n\n.organizer_form_builder_view .form_outer .form_header h5,\n.organizer_admin_box_builder_view .form_outer .form_header h5 {\n\tmargin:0;\n\tcolor:#333;\n\tfont-size:16px;\n\tfont-weight:normal;\n\tpadding-right:10px;\n}\n\n.organizer_form_builder_view .form_outer .form_header h5 span,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_header h5 span{\n\tfont-size:13px;\n\tfont-style:italic;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_name, \n.organizer_form_builder_view .form_outer .form_header .field_name, \n.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_name, \n.organizer_admin_box_builder_view .form_outer .form_header .field_name, \n.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .field_name {\n\twidth:calc(100% - 40px);\n}\n\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content {\n\tposition:relative;\n}\n\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .edit_mode span,\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .view_mode span {\n\tmargin-left:10px;\n\tfont-size:11px;\n\tcolor:#007fa3;\n\tcursor:pointer;\n\t-webkit-transition: all 0.3s ease-out;\n\t-moz-transition: all 0.3s ease-out;\n\t-o-transition: all 0.3s ease-out;\n\ttransition: all 0.3s ease-out;\n}\n\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .view_mode span:hover {\n\ttext-decoration:underline;\n}\n\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .edit_mode input {\n\twidth:70%;\n}\n\n.organizer_admin_box_builder_view .form_fields_palette_outer .tab_details_header_content .add_new_field,\n.organizer_admin_box_builder_view .form_fields_palette_outer .field_details_header_content .add_new_field,\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .add_new_field {\n\tposition:absolute;\n\ttop:14px;\n\tright:15px;\n\ttext-indent:-999;\n\tcursor:pointer;\n\tcolor:#007fa3;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_outer,\n.organizer_form_builder_view .form_fields_palette .field_details_inner,\n.organizer_form_builder_view .form_fields_palette .field_details,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_outer,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_inner,\n.organizer_admin_box_builder_view .form_fields_palette .field_details,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details_outer,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details_inner {\n\theight:100%;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details,\n.organizer_admin_box_builder_view .form_fields_palette .field_details,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details {\n\tbackground:#fbf290;\n\tborder-top:1px solid #b9b9b9;\n\tposition:relative;\n\tz-index:9;\n\tmargin-top:-1px;\n\tpadding:20px 15px;\n\tcolor:#000;\n}\n\n\n.organizer_form_builder_view .form_outer p.error,\n.organizer_form_builder_view .form_fields_palette .field_details .error,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .error,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details .error {\n\tbackground:#fce4e1;\n\tborder:1px solid #fad3c7;\n\tpadding:5px 8px;\n}\n\n.organizer_form_builder_view .form_outer p.error,\n.organizer_form_builder_view .form_fields_palette .field_details p.error,\n.organizer_admin_box_builder_view .form_fields_palette .field_details p.error,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details p.error {\n\tmargin:0 0 5px;\n\tcolor:#af0615;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .field,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .fieldfield_details,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details .field,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .field {\n\tpadding:5px 0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .field:before,\n.organizer_form_builder_view .form_fields_palette .field_details .field:after {\n\tcontent: '.';\n\twidth: 0;\n\theight: 0;\n\tfont-size: 0;\n\tline-height: 0;\n\tdisplay: block;\n\toverflow: hidden;\n\tvisibility: hidden;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .field:after {\n\tclear: both;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .field table {\n\twidth:100%;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .title,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .title,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details .title {\n\tfont-weight:bold;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .value,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .value,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details .value {\n\tmargin:3px 0;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details input[type=\"text\"],\n.organizer_form_builder_view .form_fields_palette .field_details input[type=\"email\"],\n.organizer_form_builder_view .form_fields_palette .field_details input[type=\"password\"],\n.organizer_form_builder_view .form_fields_palette .field_details select,\n.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"text\"],\n.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"email\"],\n.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"password\"],\n.organizer_admin_box_builder_view .form_fields_palette .field_details select,\n.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"text\"],\n.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"email\"],\n.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"password\"],\n.organizer_admin_box_builder_view .form_fields_palette .tab_details select {\n\twidth:calc(100% - 12px);\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .ui-sortable-handle input[type=\"text\"],\n.organizer_admin_box_builder_view .form_fields_palette .field_details .ui-sortable-handle input[type=\"text\"] {\n\twidth:calc(100% - 72px);\n\tpadding-right:65px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details .note_below,\n.organizer_admin_box_builder_view .form_fields_palette .field_details .note_below {\n\tfont-size:11px;\n\tline-height:14px;\n\tfont-style:italic;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details textarea {\n\twidth:100%;\n\theight:150px;\n\tmax-width:320px;\n}\n\n.organizer_form_builder_view .field_type,\n.organizer_admin_box_builder_view .field_type,\n.organizer_form_builder_view .dataset_field {\n\twidth:45%;\n\twidth:calc( 50% - 25px);\n\tpadding:4px 5px 6px 10px;\n\tline-height:16px;\n\tmargin:5px;\n\tbackground:#FFF;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\t-webkit-box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.35);\n\t-moz-box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.35);\n\tbox-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.35);\n\tcursor:move;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_1 .dataset_field,\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_2 .dataset_field {\n\twidth:calc(100% - 45px);\n}\n\n.organizer_form_builder_view .form_outer .field_type,\n.organizer_admin_box_builder_view .form_outer .field_type,\n.organizer_form_builder_view .form_outer .dataset_field {\n\twidth:140px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list .field_type,\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type {\n\tfloat:left;\n\tposition:relative;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field {\n\tdisplay:inline-block;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list .field_type:hover,\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type:hover,\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field:hover,\n.organizer_form_builder_view .field_type.ui-draggable-dragging,\n.organizer_admin_box_builder_view .field_type.ui-draggable-dragging,\n.organizer_form_builder_view .dataset_field.ui-draggable-dragging {\n\tbackground:#027dc9;\n}\n\n.organizer_form_builder_view .field_type.ui-draggable-dragging,\n.organizer_admin_box_builder_view .field_type.ui-draggable-dragging,\n.organizer_form_builder_view .dataset_field.ui-draggable-dragging {\n\twidth:140px;\n}\n\n.organizer_form_builder_view .zenario_indent_level_1,\n.organizer_admin_box_builder_view .zenario_indent_level_1 {\n\twidth:calc(100% - 15px - 102px) !important;\n\tmargin-left:15px;\n}\n\n.organizer_form_builder_view .zenario_indent_level_1 .zenario_indent_level_1,\n.organizer_admin_box_builder_view .zenario_indent_level_1 .zenario_indent_level_1 {\n\twidth:100% !important;\n\tmargin-left:0;\n}\n\n.organizer_form_builder_view .zenario_indent_level_2,\n.organizer_admin_box_builder_view .zenario_indent_level_2 {\n\twidth:calc(100% - 30px - 102px) !important;\n\tmargin-left:30px;\n}\n\n.organizer_form_builder_view .zenario_indent_level_3,\n.organizer_admin_box_builder_view .zenario_indent_level_3 {\n\twidth:calc(100% - 45px - 102px) !important;\n\tmargin-left:45px;\n}\n\n.organizer_form_builder_view .field_type h4,\n.organizer_admin_box_builder_view .field_type h4,\n.organizer_form_builder_view .dataset_field h4 {\n\tmargin:0 !important;\n\toverflow:hidden;\n\tcolor:#000;\n\tfont-size:12px;\n\tline-height:16px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list .field_type:hover h4,\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type:hover h4,\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field:hover h4,\n.organizer_form_builder_view .field_type.ui-draggable-dragging h4,\n.organizer_admin_box_builder_view .field_type.ui-draggable-dragging h4,\n.organizer_form_builder_view .dataset_field.ui-draggable-dragging h4 {\n\tcolor:#FFF !important;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_tab {\n\toverflow:hidden;\n\tdisplay:block;\n\tfloat:none;\n}\n\n.organizer_form_builder_view .preview,\n.organizer_admin_box_builder_view .preview {\n\twidth:750px;\n\tpadding:25px;\n\tdisplay:block;\n\tborder:3px dashed #d5d5d5;\n\tbackground:#f6f6f6;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_tabs,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs {\n\toverflow:hidden;\n\twidth:100%;\n\tdisplay:block;\n\tposition:relative;\n\tz-index:10;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab {\n\tdisplay:inline-block;\n\tpadding:0 5px;\n\tline-height:30px;\n\tborder:1px solid #d5d5d5;\n\tbackground:#d5d5d5;\n\tcolor:#6f6f6f;\n\tborder-bottom:0;\n\tmargin-right:1px;\n\t-webkit-border-top-left-radius: 4px;\n\t-webkit-border-top-right-radius: 4px;\n\t-moz-border-radius-topleft: 4px;\n\t-moz-border-radius-topright: 4px;\n\tborder-top-left-radius: 4px;\n\tborder-top-right-radius: 4px;\n\tcursor:pointer;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab:first-child,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab:first-child {\n\tmargin-left:4px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab.on,\n.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab.on {\n\tbackground:#fbf290;\n\tborder-color:#b9b9b9;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field,\n.organizer_admin_box_builder_view .form_outer .form_field {\n\tclear:both;\n\tposition:relative;\n\tpadding:14px 90px 14px 12px;\n\tcursor:pointer;\n\t-webkit-transition: background 0.2s ease;\n\t-moz-transition: background 0.2s ease;\n\t-o-transition: background 0.2s ease;\n\ttransition: background 0.2s ease;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field:after,\n.organizer_admin_box_builder_view .form_outer .form_field:after { \n   content: \".\"; \n   visibility: hidden; \n   display: block; \n   height: 0; \n   clear: both;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field .label,\n.organizer_admin_box_builder_view .form_outer .form_field .label {\n\tmin-height:18px;\n}\n\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start {\n\tpadding-bottom:30px;\n}\n\n.field_type_list_outer .field_type_section#organizer_centralised_field_type_list .field_type,\n.organizer_form_builder_view .form_outer .form div.form_field[class*=\"centralised\"],\n.organizer_admin_box_builder_view .form_outer .form div.form_field[class*=\"centralised\"] {\n\tbackground-image:url('../admin/images/form-field-bg-centralised.gif');\n\tbackground-repeat:no-repeat;\n\tbackground-position:9px 11px;\n}\n\n.field_type_list_outer .field_type_section#organizer_centralised_field_type_list .field_type {\n\tbackground-position:2px 3px;\n}\n\n.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field,\n.organizer_form_builder_view .form_outer .form .form_field.linked_field,\n.organizer_form_builder_view .form_outer .form div.form_field[class*=\"centralised\"].linked_field,\n.organizer_admin_box_builder_view .form_outer .form div.form_field[class*=\"centralised\"].linked_field {\n\tbackground-image:url('../admin/images/form-field-bg-linked.gif');\n\tbackground-repeat:no-repeat;\n\tbackground-position:9px 11px;\n}\n\n.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field {\n\tbackground-position:2px 3px;\n}\n\n.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field .checkbox {\n\tbackground-position:1px 2px;\n}\n\n.organizer_form_builder_view .form_outer .form_field .label,\n.organizer_admin_box_builder_view .form_outer .form_field .label {\n\tdisplay:block;\n\tmargin-bottom:4px;\n\tpadding-left:20px;\n\tcolor:#424242;\n\tfont-weight:bold;\n\tbackground-position:left 2px;\n\tbackground-repeat:no-repeat;\n}\n\n.organizer_form_builder_view .form_outer .form_field.editor .label,\n.organizer_admin_box_builder_view .form_outer .form_field.editor .label {\n\tbackground-size:16px auto;\n\tbackground-position:left center;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_field.group .label,\n.organizer_form_builder_view .form_outer .form_field.group .label {\n\tdisplay:inline-block;\n}\n\n.organizer_form_builder_view .form_outer .form_field input[type=\"text\"],\n.organizer_form_builder_view .form_outer .form_field input[type=\"email\"],\n.organizer_form_builder_view .form_outer .form_field input[type=\"password\"],\n.organizer_form_builder_view .form_outer .form_field textarea,\n.organizer_admin_box_builder_view .form_outer .form_field input[type=\"text\"],\n.organizer_admin_box_builder_view .form_outer .form_field input[type=\"email\"],\n.organizer_admin_box_builder_view .form_outer .form_field input[type=\"password\"],\n.organizer_admin_box_builder_view .form_outer .form_field textarea {\n\twidth: 410px;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_field.radios .label,\n.organizer_admin_box_builder_view .form_outer .form_field.checkbox .label,\n.organizer_form_builder_view .form_outer .form_field.radios .label,\n.organizer_form_builder_view .form_outer .form_field.checkbox .label {\n\toverflow:hidden;\n\tpadding-left:25px;\n}\n\n.organizer_admin_box_builder_view .form_outer .form_field.checkbox [type=\"checkbox\"],\n.organizer_form_builder_view .form_outer .form_field.checkbox [type=\"checkbox\"] {\n\tfloat:left;\n}\n\n.organizer_form_builder_view .form_outer .form_field input[type=\"text\"].form_picked_item,\n.organizer_admin_box_builder_view .form_outer .form_field input[type=\"text\"].form_picked_item {\t\n\tmargin-right:5px;\n}\n\n.organizer_form_builder_view input[readonly],\n.organizer_admin_box_builder_view input[readonly] {\t\n\tbackground: #e9e9e9 none repeat scroll 0 0 !important;\n\tborder: 1px solid #dadada !important;\n\tcolor: #999 !important;\n\tcursor:default;\n}\n\n.organizer_form_builder_view .form_outer .form_field input[type=\"button\"],\n.organizer_admin_box_builder_view .form_outer .form_field input[type=\"button\"] {\t\n\tcolor: #fff;\n\tfont-family: Verdana,Tahoma,Arial,Helvetica,sans-serif;\n\tfont-size: 13px;\n\tmargin-right: 15px;\n\tpadding: 2px 10px 3px;\n\ttext-shadow: 0 1px 1px #000;\n\tbackground-color: #0298c3;\n\tborder: 1px solid #007fa3;\n\tborder-radius: 2px 3px 3px 2px / 3px;\n\tcursor: pointer;\n}\n\n.organizer_form_builder_view .form_outer .form_field .zenario_note_below,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_note_below {\n\twidth: 408px;\n\tpadding: 3px 5px 5px 7px;\n\tmargin-top: 8px;\n\tbackground: #b1e6fd none repeat scroll 0 0;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note_wrap,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note_wrap {\n\tfloat: right;\n\theight: 0;\n\tline-height: 1px;\n\tmargin: 2px 0 0 10px;\n\tposition: relative;\n\ttext-align: left;\n\twidth: 200px;\n\tz-index: 9;\n}\n\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note {\n\tpadding:5px 10px;\n\tfont-size:10px;\n\tline-height:14px;\n\tposition:absolute;\n\tbackground:#e0e0e0;\n\t-webkit-border-radius:4px;\n\t-webkit-border-top-left-radius:0;\n\t-moz-border-radius:4px;\n\t-moz-border-radius-topleft:0;\n\tborder-radius:4px;\n\tborder-top-left-radius:0;\n}\n\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note:after,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note:after {\n\tright:100%;\n\ttop:0;\n\tborder:solid transparent;\n\tcontent:\" \";\n\theight:0;\n\twidth:0;\n\tposition:absolute;\n\tpointer-events:none;\n\tborder-color:rgba(224,224,224,0);\n\tborder-right-color:#e0e0e0;\n\tborder-width:6px\n}\n\n.organizer_form_builder_view .form_outer .form_field .zenario_note_below,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_note_below,\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note,\n.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note {\n\tcolor: #333;\n\tfont-size: 10px;\n\tword-wrap: break-word;\n}\n\n.form_outer .form .form_field:hover {\n\tbackground:#ddf6fd;\n}\n\n.form_outer .form .form_field.selected {\n\tbackground:#fbf290;\n}\n\n.form_outer .form .form_field.ui-sortable-helper {\n\topacity:0.6;\n}\n\n.form_outer .form .form_field .form_field_inline_buttons,\n.field_value .form_field_value_inline_buttons {\n\twidth:75px;\n\tposition:absolute;\n\tright:12px;\n\ttext-align:right; \n}\n\n.form_outer .form .form_field .form_field_inline_buttons {\n\ttop:5px;\n}\n\n.field_value .form_field_value_inline_buttons {\n\ttop:10px;\n}\n\n.form_outer .form .form_field .form_field_inline_buttons span,\n.field_value .form_field_value_inline_buttons span {\n\tdisplay:inline-block;\n\tfloat:right;\n\twidth:18px;\n\theight:18px;\n\ttext-indent:-999;\n\tfont-size:0;\n\tline-height:0;\n\tmargin-left:5px;\n}\n\n.form_outer .form .form_field .form_field_inline_buttons .drag_icon,\n.field_value .form_field_value_inline_buttons .drag_icon {\n\tbackground:url('../admin/images/icon-vertical-drag-cursor.svg') no-repeat center center / auto 18px;\n}\n\n.form_outer .form .form_field .form_field_inline_buttons .delete_icon,\n.field_value .form_field_value_inline_buttons .delete_icon {\n\tposition:relative;\n\tz-index:9;\n\tcursor:pointer;\n\tbackground:url('../admin/images/icon-trash-can.svg') no-repeat center center / auto 15px;\n}\n\n.form_outer .form .form_field .form_field_inline_buttons .duplicate_icon,\n.field_value .form_field_value_inline_buttons .duplicate_icon {\n\twidth:24px;\n\tbackground:url('../admin/images/icon-duplicate-v2.svg') no-repeat center center / auto 15px;\n}\n\n.organizer_form_builder_view .field_value,\n.organizer_admin_box_builder_view .field_value {\n\tposition:relative;\n\tpadding:5px 0;\n\toverflow:hidden;\n}\n\n.form_fields_palette .bottom_buttons {\n\toverflow:hidden;\n\tpadding-top:10px;\n\ttext-align:right;\n}\n\n.organizer_form_builder_view #organizer_field_details_form .bottom_buttons input[type=\"button\"] {\n\tmargin-right:8px;\n}\n\n.form_fields_palette .tab_details_inner > .bottom_buttons,\n.form_fields_palette .field_details > .bottom_buttons {\n\tpadding:15px;\n\tbackground:#F0F0F0;\n}\n\n.organizer_form_builder_view .form_outer .grouping,\n.organizer_admin_box_builder_view .form_outer .grouping {\n\tborder:1px dotted #333;\n\tmargin-bottom:5px;\n}\n\n/* Form builder buttons,\n   Adminbox builder buttons\n--------------------------------------------------------------------------------------------------*/\n\n.organizer_form_builder_view .form_fields_palette input[type=\"button\"],\n.organizer_admin_box_builder_view .form_fields_palette input[type=\"button\"],\n.organizer_form_builder_view .form_fields_palette .field_type_section input[type=\"button\"] {\n\theight:25px;\n\tfont-size:12px;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\tcursor:pointer;\n}\n\n.organizer_form_builder_view .form_fields_palette input[type=\"button\"],\n.organizer_admin_box_builder_view .form_fields_palette input[type=\"button\"] {\n\tdisplay:inline-block;\n\tpadding:0 6px;\n\tbackground-color:#F6F6F6;\n\tborder:1px solid #B9B9B9;\n\tcolor:#000;\n\tfloat:right;\n\tmargin-bottom:5px;\n}\n\n.organizer_form_builder_view .form_fields_palette .field_type_section input[type=\"button\"] {\n\tfloat:right;\n\tpadding:0 10px;\n}\n\n/*.organizer_form_builder_view .form_fields_palette .field_type_section input[type=\"button\"] {\n\tbackground:#f6f6f6;\n\tborder:1px solid #b9b9b9;\n}*/\n\n\n/*\n\tHide the top right icons if the form builder is open, except for the debug icon\n*/\n\n.organizer_panel__form_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons > *,\n.organizer_panel__custom_tabs_and_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons > * {\n\tdisplay: none;\n}\n\n.organizer_panel__form_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons > #organizer_debug_button,\n.organizer_panel__custom_tabs_and_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons > #organizer_debug_button {\n\tdisplay: inline-block;\n}\n\n\n\n\n\n\n\n\n.field_type_list .preview {\n\t\n}\n\n\n/*\n\tStyles for the master switch for Scheduled tasks,\n\ttaken from https://proto.io/freebies/onoff/\n*/\n\n.zenario_master_switch-wrap {\n\tposition: fixed;\n\tbottom: 70px;\n\tright: 35px;\n\twidth: 300px;\n\theight: 70px;\n}\n\n.zenario_master_switch-text {\n\tfloat: left;\n\tdisplay: block;\n\tfont-size: 20px;\n\tfont-weight: bold;\n\tpadding: 3px 15px 0 0;\n}\n\n.zenario_master_switch {\n\tfloat: left;\n\tposition: relative; width: 80px;\n\t-webkit-user-select:none; -moz-user-select:none; -ms-user-select: none;\n}\n.zenario_master_switch-checkbox {\n\tdisplay: none;\n}\n.zenario_master_switch-label {\n\tdisplay: block; overflow: hidden; cursor: pointer;\n\tborder: 2px solid #999999; border-radius: 20px;\n}\n.zenario_master_switch-inner {\n\tdisplay: block; width: 200%; margin-left: -100%;\n\ttransition: margin 0.3s ease-in 0s;\n}\n.zenario_master_switch-inner:before, .zenario_master_switch-inner:after {\n\tdisplay: block; float: left; width: 50%; height: 30px; padding: 0; line-height: 30px;\n\tfont-size: 14px; color: white; font-family: Trebuchet, Arial, sans-serif; font-weight: bold;\n\tbox-sizing: border-box;\n}\n.zenario_master_switch-inner:before {\n\tcontent: \"On\";\n\tpadding-left: 10px;\n\tbackground-color: #60B000; color: #FFFFFF;\n}\n.zenario_master_switch-inner:after {\n\tcontent: \"Off\";\n\tpadding-right: 10px;\n\tbackground-color: #800000; color: #709090;\n\ttext-align: right;\n}\n.zenario_master_switch-switch {\n\tdisplay: block; width: 42px; margin: -6px;\n\tbackground: #EEEEEE;\n\tposition: absolute; top: 0; bottom: 0;\n\tright: 46px;\n\tborder: 2px solid #999999; border-radius: 20px;\n\ttransition: all 0.3s ease-in 0s; \n}\n.zenario_master_switch-checkbox:checked + .zenario_master_switch-label .zenario_master_switch-inner {\n\tmargin-left: 0;\n}\n.zenario_master_switch-checkbox:checked + .zenario_master_switch-label .zenario_master_switch-switch {\n\tright: 0px; \n}\n\n/* Tooltips\n--------------------------------------------------------------------------------------------------*/\n\ndiv.ui-tooltip.zenario_link_status_tooltip {\n\tbackground:#0073BD;\n\tborder-color:#0073BD;\n\tpadding:8px !important;\n}\n\ndiv.ui-tooltip.zenario_link_status_tooltip .ui-tooltip-content {\n\tcolor:#FFF;\n\tfont-size:12px;\n\tline-height:15px;\n\tmargin:0;\n}\n\n/* NEW STYLES FOR ORGANIZER BAR\n--------------------------------------------------------------------------------------------------*/\n\n#organizer_buttons {\n\tbackground:#baefba;\n}\n\n.zenario_panel_type__form_builder #organizer_buttons,\n.zenario_panel_type__admin_box_builder #organizer_buttons {\n\tbackground:transparent;\n}\n\n#organizer_collectionToolbarWrap {\n\tpadding-left:5px;\n\tpadding-right:0;\n}\n\n#organizer_rightColumn #organizer_itemToolbar {\n\tborder-left:0;\n}\n\n#organizer_itemToolbarWrap #organizer_itemToolbar .toolbarButtons {\n\tbackground:#f6f6f6;\n\tborder: 1px solid #ccc;\n    height: 37px;\n    margin-top: 6px;\n}\n\n#organizer_itemToolbarWrap #organizer_itemToolbar .toolbarButtons > ul:first-child > li:first-child {\n    padding-left: 10px;\n}\n\n#organizer_rightColumn #organizer_itemToolbarButtons  {\n\tanimation: yellow_flash 1s;\n\t-webkit-animation: yellow_flash 1s;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image {\n\tmargin-top:5px;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li {\n\tmargin-top:0;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li a {\n\tpadding-bottom:2px;\n}\n\n/*.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a, \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a, \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a {\n\tbackground:transparent;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a, \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a {\n\tbackground:transparent;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children > a {\n\tbackground:transparent;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_with_children > a span {\n\tbackground:url('../admin/images/icon-arrow-down-dark.svg')  no-repeat right 5px / 8px 8px;\n}*/\n\n.organizer_toolbar .toolbar .toolbarButtons > ul > li.zenario_create_a_new > a:before {\n\tcontent:' +';\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a,\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a:hover, \n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new:hover a,  \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a,  \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a {\n\tcolor:#000 !important;\n}\n\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons > ul > li > a,  \n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li a {\n\tcolor:#111;\n}\n\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li a:hover,\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li:hover a,\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li.zenario_create_a_new a:hover, \n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li.zenario_create_a_new:hover a,\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__export li:hover a, \n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__export li a:hover, \n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li:hover a, \n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li a:hover {\n\tcolor:#000;\n}\n\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a, \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a, \n.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a {\n\t-webkit-border-radius:0;\n\t-moz-border-radius:0;\n\tborder-radius:0;\n\t-webkit-text-shadow:none;\n\t-moz-text-shadow:none;\n\ttext-shadow:none;\n}\n\n#organizer_applyCancelToolbar {\n\tpadding:12px 0 0 10px;\n}\n\n#organizer_applyCancelToolbar ul li,\n#organizer_applyCancelToolbar ul li:hover {\n\tbackground:transparent;\n}\n\n.zenario_panel_type__form_builder #organizer_applyCancelToolbar,\n.zenario_panel_type__admin_box_builder #organizer_applyCancelToolbar {\n\tpadding-top:0;\n}", "#zenario_fbog.zenario_organizer_quick{height:97%}body.webkit input{line-height:inherit !important}.zenario_og,.zenario_og textarea{font-family:Verdana,Arial,Helvetica,sans-serif;font-size:9pt;color:#616161}\n.zenario_organizer_quick__overlay{opacity:.4}.organizer_wrapInner,.organizer_wrapOuter,.organizer_wrapOuter div{width:100%;padding:0;margin:auto}.organizer_wrapInner{overflow:hidden}\n#organizer_wrapOuter_tm,#organizer_wrapInner_bm{width:auto}#organizer__box_inner{background:#f6f6f6;-webkit-box-shadow:0 0 5px 2px #929292;box-shadow:0 0 5px 2px #929292}\n#organizer_leftColumnOuter *::selection{background-color:transparent}#organizer_leftColumnOuter *::-moz-selection{background-color:transparent}#organizer_itemCountWrap *::selection{background-color:transparent}\n#organizer_itemCountWrap *::-moz-selection{background-color:transparent}#organizer__box_inner.organizer_multiple_items_selected #organizer_rightColumn *::selection{background-color:transparent}\n#organizer__box_inner.organizer_multiple_items_selected #organizer_rightColumn *::-moz-selection{background-color:transparent}#organizer__box_inner.organizer_not_loaded{opacity:0}\n#organizer__box_inner.organizer_loaded{opacity:1}#organizer__box_inner.organizer_interaction_disabled #organizer_leftColumnOuter,#organizer__box_inner.organizer_interaction_disabled #organizer_header #organizer_backButton,#organizer__box_inner.organizer_interaction_disabled #organizer_header #organizer_viewOptions{filter:alpha(opacity=60);-khtml-opacity:.6;-moz-opacity:.6;opacity:.6}\n#organizer_container{padding:auto;margin:auto}.organizer_wrapOuter{height:39px}#organizer__box_top{height:39px;position:relative;background:#333}#organizer__box_center{clear:both}\n#organizer__box_bottom{display:none}#organizer__box_bottom{height:19px;overflow:hidden;position:relative}#organizer__box_bottom .organizer_wrapInner{float:left}\n#organizer__box_bottom .organizer_bl,#organizer__box_bottom .organizer_br{display:block;width:16px;height:19px}#organizer__box_bottom .organizer_br{width:16px}\n#organizer__box_bottom .organizer_bl{float:left;background:0 -350px no-repeat;left:0}#organizer__box_bottom .organizer_br{float:left;background:-3px -100px no-repeat;right:0}\n.organizer_wrapOuter div{background:transparent no-repeat;height:39px}.organizer_wrapOuter div div{margin-top:0}.organizer_wrapInner{float:left;height:19px}\n#organizer__box_top .organizer_info_box{width:170px;margin:10px 0 0 20px;height:36px;cursor:pointer}#organizer_topRightButtons{width:auto;padding-top:9px;margin-left:182px}\n.organizer_wrapOuter #organizer_search{width:332px;float:right;margin-right:30px;margin-top:7px}#organizer_searchForm input,#organizer_searchForm img{float:left}\n#organizer_searchForm input#organizer_search_term{width:138px;background:#fff;border:0;padding:0 8px 0 26px;height:34px;line-height:34px;background:url('../admin/images/icon-search-magnifyer.svg') no-repeat 4px center / 16px 16px;box-sizing:content-box}\n#organizer_searchForm input#organizer_search_term,#organizer_searchForm input#organizer_search_term::-webkit-input-placeholder,#organizer_searchForm input#organizer_search_term:-moz-placeholder,body.ie label#search_term_placeholder{color:#6f6f6f}\nbody.ie label#search_term_placeholder{cursor:text;padding:4px 4px 4px 4px}#organizer_searchForm input#search_btn{margin:0 10px}.organizer_wrapOuter .organizer_close_button,.organizer_wrapOuter .restore_button{height:39px;width:40px;float:right}\n.organizer_wrapOuter .organizer_close_button a,#organizer__box_top .close_button a{background:url(../admin/images/icon-close-off.svg) no-repeat;background-size:100%;width:34px;height:34px;position:absolute;right:6px;top:2px;display:block;cursor:pointer}\n.organizer_wrapOuter .organizer_close_button a:hover,#organizer__box_top .close_button a:hover{background:url(../admin/images/icon-close-over.svg) no-repeat}\n.organizer_wrapOuter .restore_button{display:none}.zenario_organizer_quick .organizer_wrapOuter .restore_button{display:block}#organizer_top_right_buttons{float:right;width:auto}\n.organizer_wrapOuter .logout_button a,.organizer_wrapOuter .top_right_button,.organizer_wrapOuter .top_right_button li a{width:38px;height:34px}.organizer_wrapOuter .top_right_button{float:right;border:1px solid #b3b3b3;border-top:0}\n.organizer_wrapOuter .top_left_button,.organizer_wrapOuter .top_left_button a{width:38px;height:38px}.organizer_wrapOuter .zenario_ywip,.organizer_wrapOuter .zenario_ywip a{width:44px}\n.organizer_wrapOuter .top_left_button{float:left;border-right:1px solid #818181;margin-left:1px;background:url('../admin/images/store_keeper/nav-button-bg-grey.png') repeat-x top}\n.organizer_wrapOuter .top_left_button:hover{background:url('../admin/images/store_keeper/nav-button-bg-green.png') repeat-x top;cursor:pointer}.organizer_wrapOuter .logout_button a,.organizer_wrapOuter .top_left_button a,.organizer_wrapOuter .top_right_button li a{display:block}\n.organizer_wrapOuter .logout_button{margin-right:20px}.organizer_wrapOuter .organizer_back_button{display:none}.organizer_wrapOuter .logout_button a{background-position:-753px -10px}\n.organizer_wrapOuter .logout_button a{background:url('../admin/images/icon-logout.svg') no-repeat center / 16px 16px}.organizer_wrapOuter .logout_button a:hover{background-color:#007fa3}\n.organizer_wrapOuter .zenario_admin_name{width:auto;border:0;line-height:36px;color:#FFF;padding-left:10px;padding-right:60px;cursor:pointer;position:relative}\n.organizer_wrapOuter .zenario_admin_name a{display:inline-block;padding-right:15px;background:url('../admin/images/icon-arrow-down-white.svg') no-repeat right center / 8px 8px}\n.organizer_wrapOuter .zenario_admin_name ul li a{background:0}.organizer_wrapOuter .zenario_admin_name ul li span{padding-right:0;background:0}.organizer_wrapOuter .zenario_admin_name:hover{color:#43d4f4}\n.organizer_wrapOuter .zenario_admin_name ul{display:none;top:35px;left:0;z-index:90000;position:absolute;margin:0;padding:0;background:#f6f6f6;border:1px solid #333;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff;-moz-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff;box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff}\n.organizer_wrapOuter .zenario_admin_name ul:after{border-color:#f6f6f6 transparent;border-style:solid;border-width:0 10px 10px;bottom:100%;content:\"\";height:0;position:absolute;left:15px;width:0}\n.organizer_wrapOuter .zenario_admin_name ul:before{border-color:#333 transparent;border-style:solid;border-width:0 12px 12px;bottom:100%;content:\"\";height:0;position:absolute;left:13px;width:0}\n.organizer_wrapOuter .zenario_admin_name:hover ul{display:block}.organizer_wrapOuter .zenario_admin_name ul,.organizer_wrapOuter .zenario_admin_name ul li{list-style:none;margin:0;padding:0}\n.organizer_wrapOuter .zenario_admin_name ul{padding:5px}.organizer_wrapOuter .top_right_button ul li a{width:150px;height:auto;padding:0 10px;display:block;line-height:30px;border-top:1px solid #dcdcdc}\n.organizer_wrapOuter .zenario_admin_name ul li a,.organizer_wrapOuter .zenario_admin_name:hover ul li a{color:#333}.organizer_wrapOuter .zenario_admin_name ul li a:hover,.organizer_wrapOuter .zenario_admin_name:hover ul li a:hover{color:#007fa2}\n.organizer_wrapOuter .top_right_button ul li:first-child a{border-top:0}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown{z-index:99 !important;position:absolute;display:none;top:38px;cursor:default}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown.zenario_ywip_loading{opacity:.7}.organizer_wrapOuter .zenario_ywip:hover #zenario_ywip_dropdown{display:block}\n.organizer_wrapOuter .zenario_ywip div{height:auto}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown{width:272px;padding-top:11px}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner{width:260px;padding:5px;border:1px solid #333;background:#f6f6f6;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 0 5px 0 rgba(0,0,0,0.5);box-shadow:0 0 5px 0 rgba(0,0,0,0.5);position:absolute}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul{max-height:400px;overflow-y:auto}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner:before{border-color:#333 rgba(0,0,0,0);border-style:solid;border-width:0 12px 12px;bottom:100%;content:\"\";height:0;left:13px;position:absolute;width:0}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_inner:after{border-color:#f6f6f6 rgba(0,0,0,0);border-style:solid;border-width:0 10px 10px;bottom:100%;content:\"\";height:0;left:15px;position:absolute;width:0}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown .zenario_ywip_dropdown_title{background:#d8d6d7;color:#007fa2;padding:8px;width:auto}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown a{width:auto;height:auto;padding:5px 8px 3px;background:url(\"../admin/images/store_keeper/2px-grey-white.gif\") repeat-x scroll center top}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li span{display:block;padding:0 8px 8px;font-size:11px}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul,.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li{list-style:none;margin:0;padding:0}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a{color:#333;font-weight:bold}.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a:hover{color:#007fa2}\n.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a,.organizer_wrapOuter .zenario_ywip #zenario_ywip_dropdown ul li a:hover{text-decoration:none}\n#organizer_branding_title,#organizer_backButton{float:left;width:auto}#organizer_branding_title{color:white;font-style:italic;line-height:39px;margin-left:10px}\n#organizer_branding_title span.organizer_name{font-style:normal;font-weight:bold;text-transform:uppercase}#organizer_branding_title span.organizer_name span{font-size:14px}\n#organizer_container{width:auto;overflow:hidden}#organizer_header,#organizer_header .headerPanel{width:auto}.organizer_list_view_body_wrap{width:100%}\n#organizer_container{margin:0 6px;background:#f6f6f6}#organizer_header{clear:both;height:56px;background:url('../admin/images/store_keeper/2px-grey-white.gif') repeat-x scroll center bottom}\n#organizer_rightColumn #organizer_search{display:inline-block;position:absolute;top:45px;left:0;height:34px}#organizer_search_placeholder{display:block;width:176px;margin-right:6px}\n.zenario_toolbar_header .toolbar{float:left;overflow:hidden;margin:0 20px 0 0}#organizer_search,.zenario_toolbar_header .toolbar,#organizer_trash_button{height:30px;border:1px solid #c6c6c6;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}\n#organizer_search{border:2px solid #b6b6b6;color:#f6f6f6}.zenario_toolbar_header .toolbar,#organizer_trash_button{background:url('../admin/images/store_keeper/top-bar-btns-m-off.png') repeat-x 0 0}\n.zenario_toolbar_header .toolbar div:hover,#organizer_trash_button:hover{background:url('../admin/images/store_keeper/top-bar-btns-m-over.png') repeat-x 0 0}.zenario_toolbar_header .toolbar.disabled{border:1px solid #dfdfdf}\n.zenario_toolbar_header .toolbar.disabled div,.zenario_toolbar_header .toolbar.disabled:hover div{background:#f0f0f0}#organizer__box_inner.organizer_filters_set_in_view_options .zenario_toolbar_header #organizer_viewOptions.toolbar,#organizer__box_inner.organizer_filters_set_in_view_options .zenario_toolbar_header #organizer_viewOptions.toolbar div:hover{background:#01d300;border-color:#616161}\n.zenario_toolbar_header .toolbar div{border-right:1px solid #c6c6c6}.zenario_toolbar_header .toolbar div:first-child{border-right:0}.zenario_toolbar_header .toolbar a,.zenario_toolbar_header .toolbar div{display:block;float:left;width:auto}\n#organizer_header .viewMode,#organizer_header .viewMode div{float:right}#organizer_header .viewMode{margin-right:10px}.headerPanel .viewMode div,.headerPanel .organizer_switch_view,.headerPanel #organizer_refreshRightColumn,.headerPanel #organizer_listViewOptionsDropdown{width:30px;height:30px;cursor:pointer}\n.headerPanel .viewMode div a{float:right;display:block;width:30px;height:30px}.zenario_toolbar_header .toolbar div.toolbarLeftEnd,.zenario_toolbar_header .toolbar div.toolbarRightEnd,.zenario_toolbar_header .headerPanelControls div.toolbarLeftEnd,.zenario_toolbar_header .headerPanelControls div.toolbarRightEnd{display:none}\n.organizer_grid_view .organizer_slidedown_view_toggle{float:right;display:block;width:15px;height:15px;background:grey}.organizer_list_view .organizer_slidedown_view_toggle,.organizer_list_view .organizer_slidedown_view_toggle_header{width:30px}\n.organizer_total_wrapper{height:30px;background-color:#f6f6f6;border-color:#c4c4c4;border-style:solid;border-width:0 0 1px 0}.organizer_total_wrapper .organizer_total_cell,.organizer_total_wrapper .organizer_slidedown_view_toggle{display:block;float:left;height:23px;padding:3px 5px 3px 5px;text-align:right;border-color:#c4c4c4;border-style:solid;border-width:0 1px 0 0}\n.organizer_subtotal_grouping .organizer_total_wrapper{border-color:#c4c4c4;border-style:solid;border-width:0 1px 0 0}.organizer_total_wrapper span{color:#000;text-align:right;font-weight:bold}\n.placeholder-checkbox{width:25px}.placeholder-week-item{width:39px}.organizer_slidedown_view_closed{display:none !important}.organizer_slidedown_view{width:auto;padding:20px 20px 20px;background:#fdfddf;border-bottom:1px solid #c4c4c4}\n.organizer-slidedown-image-information table td{vertical-align:top}.organizer-slidedown-image-information table{width:100%}.organizer-slidedown-image-information table .slidedown_table_image{width:360px}\n.organizer-slidedown-image-information p{margin:0 0 10px 20px;color:#202020}.headerPanel .secondToolbar,.headerPanel .secondToolbar div{display:inline}\nbody.ie6 #organizer_header #organizer_refreshRightColumn{margin-right:0}body.ie6 .headerPanel .secondToolbar{width:62px}.organizer_wrapOuter .home_page_button a{background:url('../admin/images/icon-back-to-home-off.svg') no-repeat center / auto 24px}\n.organizer_wrapOuter .home_page_button:hover a{background:url('../admin/images/icon-back-to-home-hover.svg') no-repeat center / auto 24px}.organizer_wrapOuter .zenario_ywip a{background:url('../admin/images/icon-work-in-progress-off.svg') no-repeat center / 32px 14px}\n.organizer_wrapOuter .zenario_ywip:hover a{background:url('../admin/images/icon-work-in-progress-hover.svg') no-repeat center / 32px 14px}.organizer_wrapOuter .last_page_button a{background:url('../admin/images/icon-back-to-html-off.svg') no-repeat center / auto 23px}\n.organizer_wrapOuter .last_page_button:hover a{background:url('../admin/images/icon-back-to-html-hover.svg') no-repeat center / auto 23px}#organizer_header #organizer_listViewOptionsDropdown a{background:url('../admin/images/icon-filter-glasses-dark.svg') no-repeat center / 18px 18px}\n#organizer_header #organizer_refreshRightColumn a{background:url('../admin/images/icon-refresh-dark.svg') no-repeat center / 16px 16px}.headerPanel .viewMode .organizer_switch_view a,.organizer_list_view .organizer_slidedown_view_toggle_open{background:url('../admin/images/icon-arrow-down-dark.svg') no-repeat center / 10px}\n.organizer_list_view .organizer_slidedown_view_toggle_closed{background:url('../admin/images/icon-arrow-right-grey.svg') no-repeat center / 10px}.organizer_list_view .organizer_slidedown_view_toggle_closed:hover,.organizer_list_view .organizer_selected .organizer_slidedown_view_toggle_closed{background:url('../admin/images/icon-arrow-right-dark.svg') no-repeat center / 10px}\n#organizer_header .disabled #organizer_listViewOptionsDropdown a{background:url('../admin/images/icon-filter-glasses-grey.svg') no-repeat center / 18px 18px}.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_list_view a{background:url('../admin/images/icon-list-view-dark.svg') no-repeat center / 15px 15px}\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_grid_view a{background:url('../admin/images/icon-grid-dark.svg') no-repeat center / 15px 15px}\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_map_view a{background:url('../admin/images/icon-map-dark.svg') no-repeat center / 25px 25px}\n#organizer_header .disabled #organizer_listViewOptionsDropdown a{cursor:default;opacity:.8}.headerPanel .viewMode #organizer_summary_view{display:none}\n.headerPanel .viewMode .organizer_switch_view,.headerPanel .viewMode .organizer_switch_view a{width:31px}.headerPanel .viewMode .organizer_switch_view.organizer_switch_to_compact_list_view a{background:url('../admin/images/icon-compact-view.svg') no-repeat center / 16px 14px}\n.headerPanel .viewMode .organizer_switch_view.organizer_switch_view_selected{background:url('../admin/images/store_keeper/top-bar-btns-m-over.png') repeat-x 0 0}#zenario_fbAdminColumnFilter,#zenario_fbAdminViewModeOptions{padding-bottom:5px;background-color:#333;color:#FFF;overflow:hidden;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #646464;-moz-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #646464;box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #646464;border:solid 1px #333}\n#zenario_fbAdminColumnFilter,#zenario_fbAdminViewModeOptions{font-family:Verdana,Arial,Helvetica,sans-serif;font-size:11px}#zenario_fbAdminViewModeOptions div.organizer_colsortheader{margin:1px 1px 3px;padding:2px 2px 3px 6px;line-height:23px;color:#FFF;font-weight:bold;text-indent:-999;font-size:0;line-height:0}\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a{display:block;position:absolute;top:10px;height:22px;width:22px;background:url('../admin/images/icon-close-off-state-light-grey.svg') no-repeat center center / 14px 13px;cursor:pointer}\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a:hover{background:url('../admin/images/icon-close-hover-state-blue.svg') no-repeat center center / 14px 13px}\n#zenario_fbAdminViewModeOptions div.organizer_colsortheader a{right:20px}#zenario_fbAdminViewModeOptions p{margin:0;padding:2px 5px;white-space:nowrap}\n#zenario_fbAdminViewModeOptions .notused{opacity:.25}#zenario_fbAdminViewModeOptions p a.sortcol{margin-left:5px}#zenario_fbAdminViewModeOptions p a.cansortcol{cursor:pointer}\n#zenario_fbAdminViewModeOptions .zenario_ab_row__showcol__title_ div{background:url('../admin/images/border-horizontal-black-grey.gif') repeat-x bottom;padding:5px 10px 15px;margin-bottom:15px}\n#zenario_fbAdminViewModeOptions .zenario_ab_row__showcol__title_ div div{background:0;padding:0;margin:0}#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_show,#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv,#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_sort{font-size:10px;font-weight:bold;color:#43d4f4}\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_show,#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv{float:left;width:35px;padding-left:5px}\n#zenario_fbAdminViewModeOptions .organizer_colPickerTitle_csv{padding-right:1px}#zenario_fbAdminViewModeOptions div#organizer_colsortfields,#zenario_fbAdminViewModeOptions div#organizer_filterfields{overflow:auto;overflow-x:hidden;overflow-y:auto}\n#zenario_fbAdminViewModeOptions table.thickbox_table{width:100%;border-collapse:collapse}#zenario_fbAdminViewModeOptions table.thickbox_table tr td{margin:0;padding:0}\n#zenario_fbAdminViewModeOptions div#organizer_colsortfields table.thickbox_table tr td{padding:0 0 3px}#zenario_fbAdminViewModeOptions div#organizer_colsortfields .zenario_colsortfields_row{width:100%;overflow:hidden}\n#zenario_fbAdminViewModeOptions td.title{text-align:right;width:100px}#zenario_fbAdminViewModeOptions td.title label{padding-right:2px}#zenario_fbAdminColumnFilter{padding:15px 15px 10px}\n#zenario_fbAdminColumnFilter td.title a,#zenario_fbAdminColumnFilter tr.yes_or_no a{cursor:pointer}#zenario_fbAdminColumnFilter a.inverter,#zenario_fbAdminViewModeOptions a.organizer_inverter{border:1px solid #ba0505;background:#e50707;padding:0 1px 2px;color:#FFF;text-shadow:0 1px 1px #000;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;cursor:pointer}\n#zenario_fbAdminColumnFilter a.organizer_not,#zenario_fbAdminViewModeOptions a.organizer_not{text-decoration:line-through}#zenario_fbAdminViewModeOptions a.organizer_inverter{margin-right:3px}\n#zenario_fbAdminColumnFilter a.inverter:hover{border-color:#8d0303;background:#ba0505}#zenario_fbAdminColumnFilter td.title a.not,#zenario_fbAdminColumnFilter tr.yes_or_no a.not{text-decoration:line-through}\n#zenario_fbAdminColumnFilter tr.yes_or_no td.title a.not,#zenario_fbAdminColumnFilter tr.yes_or_no a.not,#zenario_fbAdminColumnFilter tr.enum a.not{text-decoration:none}\n#zenario_fbAdminColumnFilter .organizer_remove_filter{border:0;border:0;cursor:pointer;background:#333;color:#FFF;font-weight:bold;padding:0}#zenario_fbAdminColumnFilter .organizer_close_filter{cursor:pointer;display:block;width:18px;height:17px;background:url('../admin/images/icon-close-off.svg') no-repeat;background-size:100%;position:absolute;top:5px;right:5px}\n#zenario_fbAdminColumnFilter .organizer_close_filter:hover{background:url('../admin/images/icon-close-over.svg') no-repeat}#zenario_fbAdminColumnFilter .organizer_remove_filter_inactive{visibility:hidden}\n#zenario_fbAdminViewModeOptions .organizer_mov_col{width:16px;height:20px;float:right;clear:both}body.ie7 #zenario_fbAdminViewModeOptions .organizer_mov_col{padding-right:17px}\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter input.togglefilter_closed{background:url(\"../admin/images/icon-filter-blue.svg\") no-repeat 12px bottom / auto 11px}\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter input.togglefilter_open{width:44px}#zenario_fbAdminViewModeOptions .organizer_mov_col .input_toggle{width:16px;height:10px;float:right;font-size:1px}\n#zenario_fbAdminViewModeOptions div.organizer_togglefilter{float:right}#zenario_fbAdminViewModeOptions div.zenario_filters_for_field,#zenario_fbAdminViewModeOptions div.zenario_date_filters_for_field{width:auto;margin:5px 0 5px 65px}\n#zenario_fbAdminViewModeOptions input.input_checkbox{width:20px;margin-left:15px}body.ie6 #zenario_fbAdminViewModeOptions input.input_checkbox,body.ie7 #zenario_fbAdminViewModeOptions input.input_checkbox{width:auto;margin:3px 8px 3px 6px;border:0 none;padding:2px}\n#zenario_fbAdminViewModeOptions input.input_toggle{cursor:pointer;margin:0;padding:0;background:none transparent;border:0 none;width:50px;padding-left:5px;text-align:left;height:16px;color:#FFF}\n#zenario_fbAdminViewModeOptions input.zen_col_hidden{color:#f5e100}#zenario_fbAdminViewModeOptions input.zen_col_shown{color:#43d4f4}body.ie9 #zenario_fbAdminViewModeOptions input.input_toggle{vertical-align:5px}\n#zenario_fbAdminViewModeOptions input.input_text,#zenario_fbAdminViewModeOptions input.input_date{width:115px;border:1px solid #ccc}#zenario_fbAdminViewModeOptions tr.zenario_ab_row__reset div,#zenario_fbAdminViewModeOptions tr.zenario_ab_row__toggle_csv div{background:url('../admin/images/border-horizontal-black-grey.gif') repeat-x top;display:block;margin-top:15px;padding:5px;overflow:hidden}\n#zenario_fbAdminViewModeOptions tr.zenario_ab_row__reset div input{width:50% !important}#zenario_fbAdminViewModeOptions #reset,#zenario_fbAdminViewModeOptions #toggle_csv{font-weight:bold;color:#f5e100;text-decoration:underline}\n#zenario_fbAdminViewModeOptions #reset{float:left;width:auto}#zenario_fbAdminViewModeOptions #toggle_csv{float:right;width:auto}div.organizer_pageSize{float:right;margin:10px}\n.zenario_toolbar_header .toolbar a,.zenario_toolbar_header .toolbar div{width:28px;height:30px}.zenario_toolbar_header .toolbar div.organizer_button_separator{width:1px;height:28px;background:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat right 10px}\n.zenario_toolbar_header .toolbar .button{height:27px;line-height:27px}.zenario_toolbar_header .toolbar .button a,.zenario_toolbar_header .toolbar .button div{margin-top:2px}\n.zenario_toolbar_header .toolbar .button img{border:0}#organizer_Outer{width:940px;height:616px;overflow:hidden;margin:7px 0 0 10px}#organizer_mainColumnsWrap{width:100%;overflow:hidden;clear:both}\n#organizer_bottomWrap{width:100%;overflow:hidden;clear:both}#organizer_bottomWrap #organizer_lowerLeftColumn,#organizer_bottomWrap #organizer_lowerRightColumn{width:25%}\n#organizer_bottomWrap #organizer_lowerMiddleColumn{width:49%;margin:0 .5%}#organizer_bottomWrap #organizer_lowerLeftColumn,#organizer_bottomWrap #organizer_lowerMiddleColumn{float:left}\n#organizer_bottomWrap #organizer_lowerRightColumn{float:right}#organizer_bottomWrap #organizer_lowerLeftColumn div{margin-left:4px;margin-right:4px}.zenario_debugInfo .organizer_info_box,#organizer_topRightIcons .organizer_enabled_disabled,#organizer_topRightIcons .organizer_info_box,#organizer_topRightIcons .organizer_help,#organizer_topRightIcons .organizer_diagnostics,#organizer_topRightIcons .zenario_debug{width:18px;height:18px;display:block;float:left;cursor:pointer}\n.zenario_debugInfo .organizer_info_box,#organizer_topRightIcons .organizer_enabled_disabled,#organizer_topRightIcons .organizer_info_box,#organizer_topRightIcons .organizer_help,#organizer_topRightIcons .organizer_diagnostics{margin-top:8px}\n#organizer_topRightIcons .organizer_info_box,.zenario_at_dev_icon.organizer_info_box,.zenario_debugInfo .organizer_info_box{cursor:pointer;background:url('../admin/images/icon-info.svg') no-repeat center / auto 18px}\n#organizer_topRightIcons .organizer_help{background:url('../admin/images/icon-footer-optimisation-off.png') no-repeat center / 18px 18px}.zenario_at_dev_icon.organizer_diagnostics,#organizer_topRightIcons .organizer_diagnostics{background:url('../admin/images/icon-footer-site-diagnostics.svg') no-repeat center / auto 18px}\n#organizer_topRightIcons .organizer_enabled_disabled.site_enabled,.zenario_at_dev_icon.site_enabled{background:url('../admin/images/icon-footer-site-enabled-green.svg') no-repeat center / auto 18px}\n#organizer_topRightIcons .organizer_enabled_disabled.site_disabled,.zenario_at_dev_icon.site_disabled{background:url('../admin/images/icon-site-disabled.svg') no-repeat center / auto 18px}\n#organizer_topRightIcons .organizer_enabled_disabled.site_enabled_development,.zenario_at_dev_icon.site_enabled_development{background:url('../admin/images/icon-footer-site-enabled.png') no-repeat center / 18px 18px}\n#zenario_at_top_left_menu .organizer_item_image.all_languages{background:15% 30% no-repeat url('../admin/images/icon-languages.svg') / auto 18px}#organizer_topRightIcons .organizer_help,#organizer_topRightIcons .organizer_info_box,#organizer_topRightIcons .organizer_enabled_disabled,#organizer_topRightIcons .organizer_diagnostics{opacity:1;transition:opacity .25s ease-in-out;-moz-transition:opacity .25s ease-in-out;-webkit-transition:opacity .25s ease-in-out}\n#organizer_topRightIcons .organizer_help:hover,#organizer_topRightIcons .organizer_info_box:hover,#organizer_topRightIcons .organizer_enabled_disabled:hover,#organizer_topRightIcons .organizer_diagnostics:hover{opacity:.7}\n.zenario_debugInfo .organizer_info_box{cursor:default}.zenario_debugInfo td .organizer_info_box{float:none}#organizer_bottomWrap #organizer_bottomRightForm{margin-right:8px}\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button{-webkit-border-radius:2px 3px 3px 2px/3px;-moz-border-radius:2px 3px 3px 2px/3px;border-radius:2px 3px 3px 2px/3px;background-color:#0298c3;border:solid 1px #007fa3;cursor:pointer;color:#fff;font-family:Verdana,Tahoma,Arial,Helvetica,sans-serif;font-size:13px;padding:2px 10px 3px;text-shadow:0 1px 1px #000;margin-top:5px}\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button:hover{background-color:#007fa3;-webkit-box-shadow:0 0 4px rgba(0,0,0,.45);-moz-box-shadow:0 0 4px rgba(0,0,0,.45);box-shadow:0 0 4px rgba(0,0,0,.45);border:solid 1px #015d77}\n#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button.submit_disabled,#organizer_bottomWrap #organizer_bottomRightForm #organizer_choose_button.submit_disabled:hover{color:#848585;text-shadow:none;background:#dedede;border:1px solid #c5c5c5;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;cursor:auto}\n#organizer_rightColumn{overflow:hidden;position:relative}#organizer_leftColumnOuter{width:188px;margin-right:10px;float:left;border:1px solid #a2a2a2;-webkit-box-shadow:0 0 3px 0 #888;box-shadow:0 0 3px 0 #888}\n#organizer_leftColumn{width:188px;height:575px;background:#FFF;position:relative}#organizer_leftColumn #organizer_topLevelNav,#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav{float:left;height:100%;overflow:hidden}\n#organizer_leftColumn #organizer_topLevelNav #organizer_topLevelNavInner{padding-bottom:60px}#organizer_leftColumn #organizer_topLevelNavScroll{clear:both;height:0;position:absolute;left:0;text-align:left;bottom:0;width:34px;height:47px;padding-top:10px;background:#333;z-index:98}\n#organizer_leftColumn #organizer_topLevelNavScrollUp,#organizer_leftColumn #organizer_topLevelNavScrollDown{color:#d1d1d1;border:0 none;height:15px;position:absolute;width:15px;z-index:99;left:0;padding:0 8px 0 11px}\n#organizer_leftColumn #organizer_topLevelNavScrollDown{margin-top:15px}#organizer_leftColumn #organizer_topLevelNavScrollUp.organizer_scrollActive,#organizer_leftColumn #organizer_topLevelNavScrollDown.organizer_scrollActive{color:#c5e7f3;cursor:pointer}\n#organizer_leftColumn #organizer_topLevelNav{width:33px;background:#333;border-left:1px solid #333;border-right:5px solid #00d201}#organizer_leftColumn #organizer_topLevelNav .organizer_item:first-child{margin-top:10px}\n#organizer_leftColumn #organizer_topLevelNav .organizer_item{padding-bottom:2px;background:url('../admin/images/store_keeper/sk-div-border-black-grey.gif') no-repeat center bottom}\n#organizer_leftColumn #organizer_topLevelNav .organizer_item .legend_on{background:#01d103;-webkit-border-top-left-radius:2px;-webkit-border-bottom-left-radius:2px;-moz-border-radius-topleft:2px;-moz-border-radius-bottomleft:2px;border-top-left-radius:2px;border-bottom-left-radius:2px}\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav{width:146px;margin:0 1px}#organizer_leftColumn .organizer_sectionTitleText{padding:12px 5px 12px 15px;margin-bottom:12px;border-bottom:1px dashed #a1a1a1;color:#333}\n#organizer_leftColumn .organizer_sectionTitleText .organizer_sectionTitle{font-weight:bold;padding:0 0 5px 0}#organizer_leftColumn .organizer_sectionTitleText .organizer_sectionText{font-size:11px}\n#organizer_leftColumn .organizer_legend span,#organizer_leftColumn .organizer_legend a span{font-weight:bold}#organizer_leftColumn .second_level_item .organizer_legend span,#organizer_leftColumn .second_level_item .organizer_legend a span{font-weight:normal}\n#organizer_leftColumn .second_level_item .legend_on span,#organizer_leftColumn .second_level_item .legend_on a span{font-weight:bold}#organizer_leftColumn .organizer_legend a{display:block;padding:0;line-height:35px;height:35px;overflow:hidden;color:#616161;text-decoration:none}\n#organizer_leftColumn .second_level_item .organizer_legend a{display:block;padding:0 5px 0 15px;line-height:22px;height:22px;overflow:hidden;font-size:8pt}\n#organizer_leftColumn .second_level_item .legend_on{background:#baefba}#organizer_leftColumn .second_level_item .legend_on a span,#organizer_leftColumn .second_level_item .organizer_legend a:hover{color:#333}\n#organizer_leftColumn .second_level_item.zenario_separator_before_this:before,#organizer_leftColumn .second_level_item.zenario_separator_after_this:after{content:\"\";display:block;height:1px;background:#aaa;width:100px;margin:2px 5px 2px 15px}\n.organizer_top_level_image.zenario_cms_core_languages{background:url('../admin/images/icon-international-off.png') no-repeat center / 18px 18px}.organizer_top_level_image.zenario_cms_core_content{background:url('../admin/images/icon-content-items-off.svg') no-repeat center / auto 17px}\n.organizer_top_level_image.zenario_cms_core_documents{background:url('../admin/images/icon-documents-off.svg') no-repeat center / auto 17px}.organizer_top_level_image.zenario_cms_core_administration{background:url('../admin/images/icon-configuration-off.svg') no-repeat center / auto 17px}\n.organizer_top_level_image.zenario_cms_core_templates{background:url('../admin/images/icon-layout-off.svg') no-repeat center / auto 16px}.organizer_top_level_image.zenario_cms_core_users{background:url('../admin/images/icon-users-off.svg') no-repeat center / auto 16px}\n.organizer_top_level_image.zenario_cms_core_plugins{background:url('../admin/images/icon-modules-off.svg') no-repeat center / auto 16px}#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_content,#organizer_leftColumn .legend_on a.zenario_cms_core_content,.organizer_top_level_image.zenario_cms_core_content:hover{background:url('../admin/images/icon-content-items-on.svg') no-repeat center / auto 17px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_documents,#organizer_leftColumn .legend_on a.zenario_cms_core_documents,.organizer_top_level_image.zenario_cms_core_documents:hover{background:url('../admin/images/icon-documents-on.svg') no-repeat center / 17px 17px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_templates,#organizer_leftColumn .legend_on a.zenario_cms_core_templates,.organizer_top_level_image.zenario_cms_core_templates:hover{background:url('../admin/images/icon-layout-on.svg') no-repeat center / 16px 16px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_users,#organizer_leftColumn .legend_on a.zenario_cms_core_users,.organizer_top_level_image.zenario_cms_core_users:hover{background:url('../admin/images/icon-users-on.svg') no-repeat center / 16px 16px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_languages,#organizer_leftColumn .legend_on a.zenario_cms_core_languages,.organizer_top_level_image.zenario_cms_core_languages:hover{background:url('../admin/images/icon-international-on.png') no-repeat center / 18px 18px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_plugins,#organizer_leftColumn .legend_on a.zenario_cms_core_plugins,.organizer_top_level_image.zenario_cms_core_plugins:hover{background:url('../admin/images/icon-modules-on.svg') no-repeat center / 16px 16px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_administration,#organizer_leftColumn .legend_on a.zenario_cms_core_administration,.organizer_top_level_image.zenario_cms_core_administration:hover{background:url('../admin/images/icon-configuration-on.svg') no-repeat center / 17px 17px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_menu,.organizer_top_level_image.zenario_cms_core_menu{background:url('../admin/images/icon-menu-navigation-off.svg') no-repeat center / 17px 17px}\n#zenario_at_top_left_menu .organizer_top_level_image.zenario_cms_core_menu,.organizer_top_level_image.zenario_cms_core_menu:hover,#organizer_leftColumn .legend_on a.zenario_cms_core_menu{background:url('../admin/images/icon-menu-navigation-on.svg') no-repeat center / 17px 17px}\n#organizer_rightColumn{margin:0;float:left}#organizer_rightColumn #organizer_panelTitle table{width:100%}#organizer_rightColumn #organizer_panelTitle .listicon{display:block;height:25px;width:30px;float:left}\n#organizer_rightColumn #organizer_rightColumnTitle{position:relative}#organizer_rightColumn #organizer_rightColumnTitle #organizer_panelTitle{background:none repeat scroll 0 0 #fff;border:1px solid #c5c5c5;border-radius:2px;color:#000;height:24px;line-height:24px;overflow:hidden;padding:5px 10px;font-size:8pt}\n.clearfix:after{content:\".\";display:block;height:0;clear:both;visibility:hidden}.clearfix{display:inline-block}.body.ie .clearfix{zoom:1;display:block}\n.organizer_rightColumnOptions_panel{margin-bottom:5px;border-bottom:1px solid #dcdcdc;position:relative}.organizer_toolbar,.organizer_rightColumnOptions_panel{height:50px}\n#organizer_rightColumnOptions{width:3000px}#organizer_collectionToolbar,#organizer_itemToolbar,#organizer_collectionToolbarWrap,#organizer_itemToolbarWrap,#organizer_previousToolbar{display:inline-block}\n#organizer_itemToolbar,#organizer_itemToolbarWrap{position:relative;z-index:50}#organizer_collectionToolbar a,#organizer_itemToolbar a,#organizer_previousToolbar a,#organizer_quickFilter a{cursor:pointer}\n#organizer_itemToolbar{z-index:9}.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger,.organizer_toolbar .toolbarButtons .organizer_button_separator{float:left;margin:10px 0 0;height:20px}\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_children span.organizer_button_dropdown_trigger{margin:0;height:auto;float:none}\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_children span.organizer_button_dropdown_trigger:hover .label_without_icon{background:#ddf6fd}\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .label_without_icon{padding:0 10px}.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children{padding-right:4px}\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children a{background:url('../admin/images/icon-arrow-down-dark.svg') no-repeat right 5px / 8px 8px;padding-right:12px}\n.organizer_toolbar .toolbarButtons span.organizer_button_dropdown_trigger .organizer_button_with_children span.organizer_button_dropdown_trigger a{background:0;padding-right:0}\n.organizer_toolbar .toolbarButtons div.organizer_button_separator{width:2px;background:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat}.organizer_toolbar .toolbarButtons{font-size:11px}\n.organizer_toolbar .toolbarButtons a{color:#000;text-decoration:none}.organizer_toolbar .toolbar .organizer_button_dropdown_trigger{display:block;float:left;position:relative}\n.organizer_toolbar .toolbar div.organizer_button_children{display:none;top:20px;left:0;z-index:90;position:absolute;margin:0;padding:0}.organizer_toolbar .toolbar div.organizer_button_children div{margin:0 auto;padding:2px 2px 2px;width:200px;background-image:none;background-color:white}\n.organizer_toolbar .toolbar div.organizer_button_children a{display:block;padding:5px 0}.organizer_toolbar .toolbar div.organizer_button_children .organizer_button_separator{display:none}\n.organizer_toolbar .toolbar .organizer_button_dropdown_trigger:hover div.organizer_button_children{display:block}.organizer_toolbar .toolbar .organizer_button_dropdown_trigger:hover div.organizer_button_children div.organizer_button_children{display:none}\n.organizer_toolbar .toolbar div.organizer_button_children div{clear:left}.organizer_toolbar .toolbar div.organizer_button_children div.organizer_button_separator{display:none}\n.organizer_toolbar .toolbar .toolbarButtons ul,.organizer_toolbar .toolbar .toolbarButtons ul li{list-style:none;margin:0;padding:0}.organizer_toolbar .toolbar .toolbarButtons{z-index:50}\n.organizer_toolbar .toolbar .toolbarButtons,.organizer_toolbar .toolbar .toolbarButtons ul,.organizer_toolbar .toolbar .toolbarButtons ul li,.organizer_toolbar .toolbar .toolbarButtons ul li a{position:relative}\n.organizer_toolbar .toolbar .toolbarButtons ul{z-index:101}.organizer_toolbar .toolbar .toolbarButtons,.organizer_toolbar .toolbar .toolbarButtons ul li a{height:26px}\n.organizer_toolbar .toolbar .toolbarButtons ul li,.organizer_toolbar .toolbar .toolbarButtons ul li a,.organizer_toolbar .toolbar .toolbarButtons ul li ul li a{display:block}\n.organizer_toolbar .toolbar .toolbarButtons ul,.organizer_toolbar .toolbar .toolbarButtons ul li a{float:left}.organizer_toolbar .toolbar .toolbarButtons ul li ul li a{float:none}\n.organizer_toolbar .toolbar .toolbarButtons ul li a{display:block;height:25px;padding:10px 15px 6px 15px;text-decoration:none}.organizer_toolbar .toolbar #organizer_collectionToolbarButtons>ul{margin-top:5px}\n.organizer_toolbar .toolbar #organizer_collectionToolbarButtons>ul>li{margin-top:0}.organizer_toolbar .toolbar#organizer_collectionToolbar .toolbarButtons>ul>li{background:none !important;padding-right:0 !important;margin-right:5px}\n.organizer_toolbar .toolbar#organizer_collectionToolbar .toolbarButtons>ul.organizer_button__settings_dropdown>li{padding-right:5px !important}.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a{cursor:pointer;height:auto;text-shadow:0 1px 1px #000;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;padding:5px 10px 6px}\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a{background:#e50707}.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a:hover{background:#ba0505}\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a{background:#0298c3}.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a:hover{background:#007fa3}\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a{transition:all .5s ease 0}\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton:hover a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_applyButton a:hover,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton:hover a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_cancelButton a:hover{color:#FFF !important}\n.organizer_toolbar .toolbar .toolbarButtons ul li{display:inline-block;padding-right:7px}.organizer_toolbar .toolbar .toolbarButtons ul li ul li{height:auto;background:0;padding-left:0;padding-right:0;display:block}\n.organizer_toolbar .toolbar .toolbarButtons ul li ul,.organizer_toolbar .toolbar .toolbarButtons ul li ul li a{height:auto}.organizer_toolbar .toolbar .toolbarButtons ul li ul{left:0;top:36px;z-index:90 !important;position:absolute;margin:0 auto;padding:0;min-width:200px;max-height:70vh;overflow-y:auto}\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li{padding:4px 0;border-top:1px solid #dcdcdc;border-bottom:1px solid #FFF;margin:0 5px}.organizer_toolbar .toolbar .toolbarButtons ul li ul li:first-child{border-top:0}\n.organizer_toolbar .toolbar .toolbarButtons ul li ul li a{padding:5px 8px}.organizer_toolbar .toolbar .toolbarButtons a:hover{text-decoration:none}.organizer_toolbar .toolbar .toolbarButtons ul li ul li ul{top:0;left:100%}\n.organizer_toolbar .toolbar .toolbarButtons ul ul,.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul ul{display:none}.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul{display:block}\n.organizer_toolbar .toolbar .toolbarButtons ul ul{background:#f6f6f6;border:1px solid gray;-webkit-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff;-moz-box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff;box-shadow:0 1px 5px rgba(0,0,0,.85),inset 0 1px #fff;position:relative}\n.organizer_toolbar .toolbar .toolbarButtons ul ul:after{bottom:100%;left:20px;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(50,52,51,0);border-bottom-color:#323433;border-width:8px;margin-left:-8px}\n.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_with_children a{background:url('../admin/images/icon-arrow-down-dark.svg') no-repeat right 15px / 8px 8px}\n.organizer_toolbar .toolbar .toolbarButtons ul li{display:inline-block;background:url('../admin/images/store_keeper/org_toolbar_separator.gif') no-repeat right 7px;margin-top:5px}\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image{margin-top:10px}.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image,.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image div{float:left;height:26px;background-position:left center}\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image div{background-position:center center}.organizer_toolbar .toolbar .toolbarButtons .organizer_items_selected{white-space:nowrap;padding:5px 0 0 26px;margin:0 5px 0 0}\n.organizer_toolbar .toolbar .toolbarButtons ul:last-child li{background:0}.organizer_toolbar .toolbar .toolbarButtons ul li li,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_with_children li a{background:0}\n.organizer_toolbar .toolbar .toolbarButtons ul li li a{-webkit-transition:background-color 200ms ease-in-out;-moz-transition:background-color 200ms ease-in-out;-o-transition:background-color 200ms ease-in-out;transition:background-color 200ms ease-in-out}\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover a{color:#007fa3}.organizer_toolbar .toolbar .toolbarButtons ul li:hover li a:hover{background:#fbf290}\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover li a{color:#000}.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_disabled>a,.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new.organizer_button_disabled:hover>a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_disabled>a,.organizer_toolbar .toolbar .toolbarButtons ul li li.organizer_button_disabled>a,.organizer_toolbar .toolbar .toolbarButtons ul li.organizer_button_disabled:hover>a,.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul li.organizer_button_disabled>a,.organizer_toolbar .toolbar .toolbarButtons ul li:hover ul li.organizer_button_disabled:hover>a{color:#888 !important;text-decoration:none;cursor:auto !important}\n.organizer_toolbar .toolbar .toolbarButtons ul li:hover li.organizer_button_disabled a:hover{background:transparent}.organizer_toolbar .toolbar .toolbarButtons>ul>li{-webkit-transition:background-color 200ms ease-in-out;-moz-transition:background-color 200ms ease-in-out;-o-transition:background-color 200ms ease-in-out;transition:background-color 200ms ease-in-out}\n.organizer_toolbar .toolbar .toolbarButtons>ul>li:hover{background-color:#fbf290}.organizer_toolbar .toolbar .toolbarButtons>ul>li:hover a{color:#000}\n#organizer_quickFilter ul,#organizer_quickFilter ul li{list-style:none;margin:0;padding:0}#organizer_quickFilter{z-index:51;display:inline-block;height:36px;padding:0 5px 0 3px;border:1px solid #b9b9b9;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:inset 0 0 3px 2px #ececec;box-shadow:inset 0 0 3px 0 #ececec;background:#FFF;font-size:11px}\n#organizer_quickFilter,#organizer_quickFilter ul,#organizer_quickFilter ul li,#organizer_quickFilter ul li a{position:relative}#organizer_quickFilter ul li,#organizer_quickFilter ul li a{display:block}\n#organizer_quickFilter ul{z-index:101}#organizer_quickFilter ul,#organizer_quickFilter ul li a{float:left}#organizer_quickFilter ul li{margin-left:2px;height:auto;background:0;padding-left:0;padding-right:0}\n#organizer_quickFilter ul li a{display:block;line-height:24px;padding:0 12px 0 12px;color:black;background-color:#e6e6e6;border:1px solid #d0d0d0;text-decoration:none;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;margin-top:5px}\n#organizer_quickFilter ul li.group_break a{padding:0 2px;background:transparent;border:0}#organizer_quickFilter ul li a span{padding-bottom:20px}#organizer_quickFilter ul ul,#organizer_quickFilter ul ul li a{height:auto}\n#organizer_quickFilter ul ul li a{float:none;line-height:18px;border:0;margin:0;padding:3px 5px 4px}#organizer_quickFilter ul li li a span{padding-bottom:0}\n#organizer_quickFilter ul ul{width:200px;z-index:90 !important;position:absolute;top:38px;left:0;margin:0 auto;padding:0 0 5px;max-height:70vh;overflow-y:auto}\n#organizer_quickFilter ul ul li{padding:0;border-top:1px solid #747474;border-bottom:1px solid #000;margin:0 5px}#organizer_quickFilter ul ul li:first-child{border-top:0}\n#organizer_quickFilter ul ul li:last-child{border-bottom:0}#organizer_quickFilter ul li ul li ul{top:0;left:100%}#organizer_quickFilter ul ul,#organizer_quickFilter ul li:hover ul ul{display:none}\n#organizer_quickFilter ul li:hover ul{display:block}#organizer_quickFilter ul ul{background:#333;border:1px solid #333;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 0 3px 0 #d6d6d6;box-shadow:0 0 3px 0 #d6d6d6}\n#organizer_quickFilter ul ul:after{border-color:#333 transparent;border-style:solid;border-width:0 8px 8px;bottom:100%;content:\"\";height:0;position:absolute;left:15px;width:0}\n#organizer_quickFilter ul ul:before{border-color:#333 transparent;border-style:solid;border-width:0 10px 10px;bottom:100%;content:\"\";height:0;position:absolute;left:13px;width:0}\n#organizer_quickFilter ul li.organizer_button_with_children>a{background:url('../admin/images/icon-arrow-down-dark.svg') no-repeat right center / 8px 8px;line-height:28px;margin-top:3px;padding-right:25px}\n#organizer_quickFilter ul li.organizer_button_with_children>a{background-position:right 5px center}#organizer_quickFilter ul li li,#organizer_quickFilter ul li.organizer_button_with_children li a{background:0}\n#organizer_quickFilter a:hover{text-decoration:none}#organizer_quickFilter ul li:hover a{color:#333}#organizer_quickFilter ul li li a,#organizer_quickFilter ul li:hover li a{color:#FFF}\n#organizer_quickFilter ul li:hover li a:hover{color:#43d4f4}#organizer_quickFilter ul ul li.organizer_qfb_enabled a,#organizer_quickFilter ul ul li.organizer_qfb_enabled a:hover{color:#01d300}\n#organizer_quickFilter ul ul li.organizer_qfb_enabled a span{display:inline-block}#organizer_quickFilter ul ul li.organizer_qfb_enabled a span:after{content:' \\2713'}\n#organizer_quickFilter ul>li:hover a{background-color:#cfeafb}#organizer_quickFilter ul li.organizer_qfb_no_child.organizer_qfb_enabled a{background-color:#01d300;border:0;margin:6px 1px 1px 1px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}\n#organizer_quickFilter ul li.organizer_qfb_enabled ul a{margin:0}#organizer_quickFilter ul li.organizer_qfb_with_child_enabled>a{background:#01d300 url('../admin/images/store_keeper/arrow-dropdown-grey-space-right.png') no-repeat right center;border:1px solid #c6c6c6;margin:0;padding-right:25px;line-height:28px;margin-top:3px}\n#organizer_Outer div.organizer_item{cursor:pointer}#organizer_selected{float:right;margin:10px 20px 0 0}#organizer_backButton{display:inline-block;font-size:10px;overflow:hidden;padding-left:30px}\n#organizer_backButton span.level a{display:block;float:left;width:46px;height:39px;margin-right:-14px;pointer-events:none;color:transparent;background:url('../admin/images/chevron.svg') no-repeat 0 0 / 46px 40px}\n#organizer_backButton span.organizer_lastBackButton a{width:auto;max-width:300px;padding:0 14px 0 60px;line-height:36px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:#fff;cursor:pointer;pointer-events:auto}\n#organizer_backButton span.organizer_lastBackButton:hover a{text-decoration:underline}#organizer_rightColumnContent{width:738px;overflow:auto;text-align:left;position:relative;border:1px solid #484848;background:#FFF}\n#organizer_rightColumnContent .organizer_header{position:relative;z-index:5}#organizer_rightColumn .organizer_dropToUpload{display:none;float:right;margin-left:20px;padding:8px 12px;position:absolute;top:5px;right:7px;color:#000;font-size:11px;background:#f6f6f6;border:2px dashed #cdcdcd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\n#organizer_rightColumn.upload_enabled .organizer_dropToUpload{display:block}#organizer_rightColumn.upload_enabled #organizer_rightColumnContent,#organizer_rightColumn.upload_enabled .organizer_dropToUpload div{border:1px solid #c3c3c3}\n#organizer_rightColumn.upload_enabled.dragover #organizer_rightColumnContent,#organizer_rightColumn.upload_enabled.dragover .organizer_dropToUpload div{border:1px solid #24e024}\n#organizer_rightColumn.upload_enabled .organizer_dropToUpload div,#organizer_rightColumn.upload_enabled.dragover .organizer_dropToUpload div{border-bottom:0;background:#f8f8f8}\n#organizer_rightColumnContent.organizer_grid_view{overflow-x:hidden !important}#organizer_list_view,#organizer_items_wrapper{width:100%}#organizer_rightColumnContent div.organizer_list_view{width:100%;border-collapse:collapse;margin:0}\n#organizer_rightColumnContent div.organizer_row{overflow:hidden;clear:both;border-bottom:1px solid #c4c4c4;overflow:hidden}#organizer_rightColumnContent div.organizer_non_sortable_resizeable_cols,#organizer_rightColumnContent div.organizer_sort_and_resize_wrapper{float:left}\n#organizer_rightColumnContent div.organizer_header div.organizer_cell,#organizer_rightColumnContent div.organizer_list_view div.organizer_cell{float:left;position:relative}\n#organizer_rightColumnContent .organizer_header div#organizer_checkbox_col,#organizer_rightColumnContent div.organizer_list_view div.organizer_checkbox_col{width:25px}\n#organizer_rightColumnContent .organizer_header div#organizer_checkbox_col div{width:100%;height:100%}#organizer_rightColumnContent .ui-sortable div.organizer_row,#organizer_rightColumnContent .ui-sortable div.organizer_row div.organizer_cell{cursor:move}\n#organizer_rightColumnContent div.organizer_row{display:block}#organizer_rightColumnContent div.organizer_list_view div.organizer_cell{display:block}#organizer_rightColumnContent div.organizer_row:hover,#organizer_rightColumnContent div.organizer_row:hover .organizer_cell{background-color:#dcf5fd}\n#organizer_rightColumnContent div.organizer_row{background-color:#FFF}#organizer_rightColumnContent div.organizer_cell.label_column,#organizer_rightColumn div.itemDetail div.organizer_inner_content h2{font-weight:bold;color:#333}\n#organizer_rightColumnContent div.organizer_cell.label_column .organizer_cell_line{font-weight:normal}#organizer_rightColumnContent .organizer_cell_line{font-style:italic}\n#organizer_rightColumnContent .organizer_cell_line.no_italics{font-style:normal}#organizer_rightColumnContent .organizer_grid_view .organizer_checkbox_at_top_left{position:relative;float:left;z-index:2}\n#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row{width:100%;overflow:hidden}#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row .organizer_non_sortable_resizeable_cols{width:150%}\n#organizer_rightColumnContent .organizer_grid_view .organizer_header .organizer_row .organizer_non_sortable_resizeable_cols .action_column{width:90%}#organizer_rightColumnContent .organizer_grid_view .item{width:18%;padding:10px 6px;float:left;border-bottom:1px solid #c5c3c4;border-right:1px solid #c5c3c4}\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item{width:180px;height:270px;float:left;padding:2px 6px;border-bottom:1px solid #c5c3c4;border-right:1px solid #c5c3c4;margin:0;font-size:12px;line-height:13px;background:#FFF}\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item:hover{background:#ddf6fd}#organizer_rightColumn .organizer_grid_view div.organizer_selected,#organizer_rightColumn .organizer_grid_view div.ui-selecting,#organizer_rightColumn .organizer_grid_view div.organizer_selected:hover,#organizer_rightColumn .organizer_grid_view div.ui-selecting:hover{background:#fcf291}\n@keyframes yellow_flash{0{background:#f6f6f6}50%{background:#f5e687}100%{background:#f6f6f6}}@-webkit-keyframes yellow_flash{0{background:#f6f6f6}50%{background:#f5e687}\n100%{background:#f6f6f6}}#organizer_rightColumn #organizer_itemToolbar{padding-left:8px;box-sizing:border-box}#organizer_rightColumn #organizer_collectionToolbar,#organizer_rightColumn #organizer_itemToolbar,#organizer_rightColumn #organizer_collectionToolbarWrap,#organizer_rightColumn #organizer_itemToolbarWrap{height:49px}\n.organizer_settings_dropdown>a>span{font-size:0;width:13px;height:13px;line-height:13px;display:inline-block}.organizer_button__settings_dropdown .organizer_settings_dropdown>a>span{background:url('../admin/images/icon-site-settings-dark.svg') no-repeat center center}\n.organizer_button__dataset_dropdown .organizer_settings_dropdown>a>span{background:url(\"../admin/images/icon-datasets-dark.svg\") no-repeat center center}#organizer_rightColumnContent .organizer_grid_view{font-family:Arial,Verdana,Helvetica,Sans-Serif}\n#organizer_rightColumnContent .organizer_grid_view div.organizer_item table th,#organizer_rightColumnContent .organizer_grid_view div.organizer_item table td{font-size:11px}\n#organizer_rightColumnContent .organizer_grid_view div.organizer_image_container{margin:auto;padding-bottom:8px}#organizer_rightColumnContent .organizer_grid_view div.organizer_item .organizer_legend{color:#007fa2;font-weight:bold;line-height:12px;margin-top:5px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.right{text-align:right}#organizer_rightColumnContent div.organizer_row div.organizer_cell{padding:3px 5px;position:relative}\n#organizer_rightColumnContent .organizer_header div.organizer_row,#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell{background:#333}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_desc,#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_asc{background-color:#5f5f5f;background-repeat:no-repeat;background-position:right center}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.organizer_can_sort{background-image:url('../admin/images/sort-arrow-white-down-v2.png');background-repeat:no-repeat;background-position:right center}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_desc{background-image:url('../admin/images/sort-arrow-green-down.png')}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell.sortcol_asc{background-image:url('../admin/images/sort-arrow-green-up.png')}\n#organizer_rightColumnContent .organizer_header div.organizer_row .ui-resizable .ui-resizable-e{width:15px;z-index:10 !important}#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell{height:29px;color:#FFF;font-weight:bold;vertical-align:middle}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell .label{line-height:24px;padding-right:20px}#organizer_rightColumnContent div.organizer_row div.organizer_cell,#organizer_rightColumnContent div.organizer_row span.organizer_cell{height:25px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell,#organizer_rightColumnContent div.organizer_row span.organizer_cell,#organizer_rightColumnContent div.organizer_row div.organizer_cell a,#organizer_rightColumnContent div.organizer_row span.organizer_cell a{color:#202020}\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows .organizer_list_view_body_wrap div.organizer_row div.organizer_cell,#organizer_rightColumnContent .organizer_list_view_with_tall_rows .organizer_list_view_body_wrap div.organizer_row span.organizer_cell{min-height:50px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell{border-style:solid;border-width:0 1px 0 0}#organizer_rightColumnContent .itemDetail .organizer_col_label{font-weight:bold;white-space:nowrap;text-align:right}\n#organizer_rightColumnContent .close_up_view .organizer_col_label{min-width:120px}#organizer_rightColumnContent div.organizer_row div.organizer_cell.firstcol{border-left-width:0}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.firstrow{border-top-width:0}#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_can_filter span.icon{width:18px;height:19px;display:block;background:url(\"../admin/images/icon-filter-blue.svg\") no-repeat center / auto 11px;position:absolute;right:3px;top:3px;cursor:pointer}\n#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_filtering span.icon{width:18px;height:19px;display:block;background:url(\"../admin/images/icon-filter-blue.svg\") no-repeat center / auto 11px;position:absolute;right:3px;top:3px;cursor:pointer}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell{border-color:#c4c4c4}#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col{background-color:#FFF}\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row:hover div.organizer_checkbox_col{background-color:#dcf5fd}#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_selected div.organizer_checkbox_col,#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_selected:hover div.organizer_checkbox_col{background-color:#fbf290}\n#organizer_rightColumnContent .organizer_header div.organizer_row div.organizer_cell{border-top-width:0}#organizer_rightColumnContent div.organizer_row.organizer_cant_choose div.organizer_cell,#organizer_rightColumnContent div.organizer_row.organizer_non_search_match,#organizer_rightColumnContent div.organizer_row.organizer_non_search_match div.organizer_cell{filter:alpha(opacity=60);-khtml-opacity:.6;-moz-opacity:.6;opacity:.6}\n#organizer_rightColumnContent div.organizer_row.organizer_cant_choose .organizer_checkbox_col input{display:none}#organizer_rightColumnContent ol.organizer_can_choose_children div.organizer_row.organizer_cant_choose .organizer_checkbox_col input{visibility:hidden;display:inline}\n#organizer_rightColumnContent div.organizer_row.organizer_selected.brown_line div.organizer_cell{background-color:#930}#organizer_rightColumnContent div.organizer_row.brown_line div.organizer_cell{background-color:#630}\n#organizer_rightColumnContent div.organizer_row.organizer_selected{background-color:#fbf290}#organizer_rightColumnContent div.organizer_row div.organizer_cell.brown{background-color:#630}\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.brown{background-color:#930}#organizer_rightColumnContent div.organizer_row.organizer_selected.blue_line div.organizer_cell{background-color:#09f}\n#organizer_rightColumnContent div.organizer_row.blue_line div.organizer_cell{background-color:#06f}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell{background-color:#fbf290}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.blue{background-color:#06f}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.blue{background-color:#09f}\n#organizer_rightColumnContent div.organizer_row.organizer_selected.orange_line div.organizer_cell{background-color:#f90}#organizer_rightColumnContent div.organizer_row.orange_line div.organizer_cell{background-color:#f60}\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell,#organizer_rightColumnContent div.organizer_row.organizer_selected:hover .organizer_cell{background-color:#fbf290}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.orange{background-color:#f60}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.orange{background-color:#f90}\n#organizer_rightColumnContent div.organizer_row.organizer_selected.yellow_line div.organizer_cell{background-color:#faf29f}#organizer_rightColumnContent div.organizer_row.yellow_line div.organizer_cell{background-color:#f6e17a}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.yellow{background-color:#f6e17a}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.yellow{background-color:#faf29f}\n#organizer_rightColumnContent div.organizer_row.organizer_selected.green_line div.organizer_cell{background-color:#b5eec2}#organizer_rightColumnContent div.organizer_row.green_line div.organizer_cell{background-color:#90dea2}\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell{background-color:#fbf290}#organizer_rightColumnContent div.organizer_row div.organizer_cell.green{background-color:#90dea2}\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.green{background-color:#b5eec2}#organizer_rightColumnContent div.organizer_row div.organizer_cell.red{background-color:#d90000}\n#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.red{background-color:#e43b00}#organizer_rightColumnContent div.organizer_row.organizer_selected.warning_line div.organizer_cell{background-color:#f6a9a4}\n#organizer_rightColumnContent div.organizer_row.warning_line div.organizer_cell{background-color:#edc6c4}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell{background-color:#fbf290}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.warning{background-color:#edc6c4}#organizer_rightColumnContent div.organizer_row.organizer_selected div.organizer_cell.warning{background-color:#f6a9a4}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell .listicon,#organizer_rightColumn div.organizer_slidedown_view .listicon,#organizer_rightColumn div.organizer_slidedown_view .listicon>div{height:23px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon>div{height:25px}#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_list_view_icon{width:24px;height:25px}\n#organizer_rightColumn div.organizer_item_image.organizer_list_view_image{background-position:30% center}#organizer_rightColumn div.organizer_item_image.organizer_list_view_image,#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon>div.organizer_item_with_image{background-size:contain}\n.organizer_item_image.zenario_nest_tab{background:url('../admin/images/icon-tabs.svg') no-repeat center center / 20px auto}#organizer_rightColumn div.organizer_slidedown_view .listicon,#organizer_rightColumn div.organizer_slidedown_view .listicon>div{padding-left:20px;height:20px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons{width:auto}\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons{float:left}#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons,#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div{padding:1px 1px 1px 1px;margin:1px 1px 1px 1px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div{margin-top:3px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div{margin-top:2px}#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons div,#organizer_rightColumnContent div.organizer_row div.organizer_cell.listicon .organizer_inline_buttons a,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons div,#organizer_rightColumnContent div.organizer_row div.organizer_cells_items .organizer_inline_buttons a{display:block;width:16px;height:16px;float:left}\n.organizer_inline_buttons .zenario_ib_warning{background:url('../admin/images/icon-warning.svg') no-repeat center center / 18px 18px;width:18px;height:18px}\n.organizer_inline_buttons .zenario_ib_active{background:url('../admin/images/icon-layout-active.svg') no-repeat center center / 16px 16px}.organizer_inline_buttons .zenario_ib_default{background:url('../admin/images/icon-layout-default-active.svg') no-repeat center center / 16px 16px}\n.organizer_inline_buttons .zenario_ib_archived{background:url('../admin/images/icon-layout-archived.svg') no-repeat center center / 16px 16px}.zenario_inline_warning{background:url('../admin/images/icon-warning.svg') no-repeat left center / 18px 18px;margin:2px;padding-left:24px;height:18px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.organizer_no_border td{border-style:none;border-width:0;height:auto;padding:0;color:#202020}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell td.item_link{text-align:right;white-space:nowrap}#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link tr td .listicon{margin:2px 0 0 2px}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text{padding:2px 0 0}#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text a,#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link td.organizer_item_link_text a:visited,#organizer_rightColumn .organizer_slidedown_view table td a{color:#202020;cursor:pointer}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell table.item_link tr td .listicon a{width:100%;height:100%;display:block;text-decoration:none}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell td.item_link img{border:0;width:27px;height:21px;padding:3px 2px 0 3px}#organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon{opacity:.3}\n#organizer_rightColumnContent div.organizer_row.organizer_untranslated_menu_node .organizer_cell_items{font-style:italic}body.ie6 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon,body.ie7 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon{filter:alpha(opacity=30)}\nbody.ie8 #organizer_rightColumnContent div.organizer_row .ghost table.item_link tr td .listicon{-ms-filter:\"alpha(opacity=30)\"}#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost{color:#a7aeaf}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost table.item_link td.organizer_item_link_text a,#organizer_rightColumnContent div.organizer_row div.organizer_cell.ghost table.item_link td.organizer_item_link_text a:visited{color:#abb0b2}\n#organizer_rightColumnContent span.organizer_sortable div.organizer_item,#organizer_rightColumnContent div.organizer_list_view tbody.organizer_sortable tr,#organizer_rightColumnContent div.organizer_list_view tbody.organizer_sortable tr *,#organizer_rightColumnContent div.organizer_row .organizer_sort_and_resize_wrapper .organizer_sortable{cursor:move}\n#organizer_rightColumnContent span.organizer_sortable div.organizer_item a,#organizer_rightColumnContent div.organizer_list_view .organizer_list_view_body.organizer_sortable div.organizer_row a,#organizer_rightColumnContent div.organizer_list_view .organizer_list_view_body.organizer_sortable div.organizer_row a *{cursor:pointer}\n#organizer_rightColumn div.organizer_row div.organizer_cell{vertical-align:top}#organizer_rightColumn div.organizer_row div.organizer_cell.firstcol{vertical-align:middle}\n#organizer_rightColumn div.organizer_row div.organizer_cell,#organizer_rightColumn div.organizer_row div.organizer_cell div.organizer_cell_line{text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;overflow:hidden}\n#organizer_rightColumn .organizer_list_view_with_tall_rows div.organizer_row div.organizer_cell{white-space:normal}.organizer_item_image.zenario_menunode_internal{background:url('../admin/images/icon-menu-node-1-dark.svg') no-repeat center center / 16px 16px}\n.organizer_item_image.zenario_menunode_internal_unique{background:url('../admin/images/icon-menu-node-main.svg') no-repeat center center / 16px 16px}.organizer_item_image.zenario_menunode_internal_secondary{background:url('../admin/images/icon-menu-node-2-dark.svg') no-repeat center center / 16px 16px}\n.organizer_item_image.zenario_menunode_unlinked{background:url('../admin/images/icon-menu-node-unlinked.svg') no-repeat center center / 16px 16px}.organizer_item_image.ghost{background:url('../admin/images/icon-ghost.svg') no-repeat center center / 16px 16px}\n.organizer_item_image.zenario_menunode_external{background:url('../admin/images/icon-external-url.svg') no-repeat center center / 16px 16px}.organizer_item_image.no_icon{background-image:none}\n.organizer_item_image.ghost{opacity:.3}body.ie6 #organizer_rightColumn div.organizer_row div.organizer_cell div.ghost,body.ie7 .organizer_item_image.ghost{filter:alpha(opacity=30)}\nbody.ie8 .organizer_item_image.ghost{-ms-filter:\"alpha(opacity=30)\"}.Token .organizer_item_image.ghost{opacity:1;-webkit-filter:invert(.8);filter:invert(.8)}\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell{display:inline-block;width:20px !important;height:20px;text-indent:-999;font-size:0;line-height:0}\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell{background:url('../admin/images/icon-eye-visible.svg') no-repeat center 6px / 16px 16px}\n#organizer_hierarchy_view .organizer_column__invisible_menu_node__cell.invisible_menu_node{background:url('../admin/images/icon-eye-hidden.svg') no-repeat center 6px / 16px 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.privacy_inline_button a{cursor:default}#organizer_rightColumn div.organizer_row.privacy_group_members div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_with_role div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_logged_in div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_send_signal div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_call_static_method div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_public div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_logged_out div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_in_smart_group div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_logged_in_not_in_smart_group div.organizer_cell div.privacy_inline_button a{background-image:url('../admin/images/icon-permissions.svg');background-repeat:no-repeat;background-position:center center;background-size:auto 12px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}\n#organizer_rightColumn div.organizer_row.privacy_group_members div.organizer_cell div.privacy_inline_button a{background-color:#d7abea}#organizer_rightColumn div.organizer_row.privacy_with_role div.organizer_cell div.privacy_inline_button a{background-color:#aaebcc}\n#organizer_rightColumn div.organizer_row.privacy_logged_in div.organizer_cell div.privacy_inline_button a{background-color:#ebacb3}#organizer_rightColumn div.organizer_row.privacy_send_signal div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_call_static_method div.organizer_cell div.privacy_inline_button a{background-color:#ebd8aa}\n#organizer_rightColumn div.organizer_row.privacy_public div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_logged_out div.organizer_cell div.privacy_inline_button a{background-color:#e2e2e2}\n#organizer_rightColumn div.organizer_row.privacy_in_smart_group div.organizer_cell div.privacy_inline_button a,#organizer_rightColumn div.organizer_row.privacy_logged_in_not_in_smart_group div.organizer_cell div.privacy_inline_button a{background-color:#abd3eb}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_layout_inline_button a{background:#e2e2e2;color:#3c3c3c;font-size:7px;line-height:15px;position:relative;text-align:center;top:-1px;cursor:pointer;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.view_frontend,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.view_frontend{background:url('../admin/images/icon-go-to-content-item-off.svg') no-repeat center center / 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.view_frontend:hover,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.view_frontend:hover{background:url('../admin/images/icon-go-to-content-item-hover.svg') no-repeat center center / 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.inspect,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.inspect{background:url('../admin/images/icon-quick-view-off.svg') no-repeat center center / 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.inspect:hover,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.inspect:hover{background:url('../admin/images/icon-quick-view-hover.svg') no-repeat center center / 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.no_categories,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.no_categories{background:url('../admin/images/icon-categories-inline.png') no-repeat center center / 16px 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.one_or_more_categories,#organizer_rightColumn div.organizer_row div.organizer_cells_items div.one_or_more_categories{background:url('../admin/images/icon-categories-one-or-more.png') no-repeat center center / 16px 16px}\n.organizer_item_image.user{background:url('../admin/images/icon-users-and-contacts.svg') no-repeat center center / 16px}.organizer_item_image.zenario_suspended_users{background:url('../admin/images/icon-suspended-users.svg') no-repeat center center / 16px}\n.organizer_item_image.zenario_consent{background:url('../admin/images/icon-consents-dark.svg') no-repeat center center / 16px}.organizer_item_image.zenario_smart_group{background:url('../admin/images/icon-smart-groups.svg') no-repeat center center / 18px}\n.organizer_item_image.zenario_smart_perms_group{background:url('../admin/images/icon-smart-permissions.svg') no-repeat center center / 18px}.organizer_item_image.zenario_smart_news_group{background:url('../admin/images/icon-smart-newsletter-group.svg') no-repeat center center / 18px}\n.organizer_item_image.zenario_group{background:url('../admin/images/icon-groups.svg') no-repeat center center / 16px}.organizer_item_image.roles{background:url('../admin/images/icon-roles.svg') no-repeat center center / 16px}\n.organizer_item_image.pending_comment{background:url('../admin/images/icon-pending-comments-dark.svg') no-repeat center center / 16px}.organizer_item_image.zenario_forum__forum{background:url('../admin/images/icon-salutations-dark.svg') no-repeat center center / 16px}\n.organizer_item_image.admin_item{background:url('../admin/images/icon-administrator.svg') no-repeat center center / 16px}#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_draft_published,.organizer_item_image.home_content_draft_published{background:url(\"../admin/images/icon-content-home-draft-published.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_published,.organizer_item_image.home_content_published{background:url(\"../admin/images/icon-content-home-published.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.home_content_draft,.organizer_item_image.home_content_draft{background:url(\"../admin/images/icon-content-home-draft.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_published,.organizer_item_image.special_content_draft_published{background:url(\"../admin/images/icon-content-special-draft-published.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_published,.organizer_item_image.special_content_published{background:url(\"../admin/images/icon-special-pages.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_hidden,.organizer_item_image.special_content_draft_hidden{background:url(\"../admin/images/icon-content-special-draft-hidden.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_hidden,.organizer_item_image.special_content_hidden{background:url(\"../admin/images/icon-content-special-hidden.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft,.organizer_item_image.special_content_draft{background:url(\"../admin/images/icon-content-special-draft.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_draft_trashed,.organizer_item_image.special_content_draft_trashed{background:url(\"../admin/images/icon-content-special-draft-trashed.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.special_content_trashed,.organizer_item_image.special_content_trashed{background:url(\"../admin/images/icon-content-special-trashed.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_published,.organizer_item_image.content_draft_published{background:url(\"../admin/images/icon-content-draft-published.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_published,.organizer_item_image.content_published{background:url(\"../admin/images/icon-content-published.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_hidden,.organizer_item_image.content_draft_hidden{background:url(\"../admin/images/icon-content-draft-hidden.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_hidden,.organizer_item_image.content_hidden{background:url(\"../admin/images/icon-content-hidden.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft,.organizer_item_image.content_draft{background:url(\"../admin/images/icon-content-draft.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_draft_trashed,.organizer_item_image.content_draft_trashed{background:url(\"../admin/images/icon-content-draft-trashed.svg\") no-repeat center center / 20px 23px}\n#organizer_rightColumn div.organizer_row div.organizer_cell.content_trashed,.organizer_item_image.content_trashed{background:url(\"../admin/images/icon-trashed-content.svg\") no-repeat center center / 20px 23px}\n.organizer_item_image.content_type_settings{background:url(\"../admin/images/icon-content-types-dark.svg\") no-repeat center center / 22px 22px}.organizer_item_image.plugin{background:url(\"../admin/images/icon-modules-dark.svg\") no-repeat center center / 15px 15px}\n.organizer_item_image.module{background:url(\"../admin/images/icon-plugin-dark.svg\") no-repeat center center / 15px 15px}.organizer_item_image.plugin_album_instance{background:url('../admin/images/icon-plugin-dark.svg') no-repeat center center / 15px 16px}\n.organizer_item_image.plugin_album_instance{background-position:5px center}.organizer_item_image.zenario_category_icon{background:url('../admin/images/icon-categories-dark-v2.svg') no-repeat center center / auto 14px}\n.organizer_item_image.datasets{background:url(\"../admin/images/icon-datasets-dark.svg\") no-repeat center center / auto 20px}.organizer_item_image.language,.organizer_item_image.phrase_translated{background:url(\"../admin/images/icon-languages.svg\") no-repeat center center / auto 16px}\n.organizer_item_image.phrase_translated{background-size:auto 18px}.organizer_item_image.phrase_partially_translated{background:url(\"../admin/images/icon_phrase_partially_translated.svg\") no-repeat center center / auto 20px}\n.organizer_item_image.phrase_not_translated{background:url(\"../admin/images/icon_phrase_not_translated.svg\") no-repeat center center / auto 20px}#organizer_rightColumn div.organizer_row div.organizer_cell div.settings,.organizer_item_image.setting{background:url('../admin/images/icon-site-settings-dark.svg') no-repeat center center / auto 20px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.backups,.organizer_item_image.backup{background:url('../admin/images/icon-back-ups-dark.svg') no-repeat center center / auto 16px}\n.organizer_item_image.favicon{background:url('../admin/images/icon-favicon-dark.svg') no-repeat center center / 18px auto}#organizer_rightColumn div.organizer_row div.organizer_cell div.templatesCollection,#organizer_rightColumn #organizer_panelTitle div.templatesCollection,.organizer_item_image.skin{background:url('../admin/images/icon-skins.svg') no-repeat left center / 18px auto}\n.organizer_item_image.template{background:url('../admin/images/icon-layouts.svg') no-repeat 0 center / 18px auto}.organizer_item_image.archived_layout{background:url('../admin/images/icon-archive.svg') no-repeat 0 center / auto 18px}\n#zenario_at_top_left_menu .organizer_item_image.template,#zenario_at_top_left_menu .organizer_item_image.archived_layout,#zenario_at_top_left_menu .organizer_item_image.skin{background-position:center center}\n#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.template{width:25px}.organizer_item_image.log{background:url('../admin/images/icon-sign-in-log.svg') no-repeat center center / 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.media_images,.organizer_item_image.media_image,.organizer_item_image.content_type_picture{background:url('../admin/images/icon-image-library.svg') no-repeat center center / auto 16px}\n.organizer_item_image.content_type_event{background:url('../admin/images/icon-events-content-types-dark.svg') no-repeat center center / auto 18px}.organizer_item_image.content_type_html{background:url('../admin/images/icon-html-pages.svg') no-repeat center center / auto 18px}\n.organizer_item_image.content_type_news{background:url('../admin/images/icon-news-articles.svg') no-repeat center center / auto 18px}.organizer_item_image.content_type_document{background:url('../admin/images/icon-documents-documents.svg') no-repeat center center / auto 18px}\n.organizer_item_image.content_type_audio{background:url('../admin/images/icon-audio-content-types-dark.svg') no-repeat center center / auto 18px}.organizer_item_image.content_type_blog{background:url('../admin/images/icon-blog-content-types-dark.svg') no-repeat center center / auto 18px}\n.organizer_item_image.content_type_vacancy{background:url('../admin/images/icon-job-vacancies-content-types-dark.svg') no-repeat center center / auto 18px}.organizer_item_image.content_type_project{background:url('../admin/images/icon-project-descriptions-content-types-dark.svg') no-repeat center center / auto 18px}\n.organizer_item_image.content_type_testimonial{background:url('../admin/images/icon-testimonials-content-types-dark.svg') no-repeat center center / auto 18px}#organizer_rightColumn div.organizer_row div.organizer_cell div.media_movies,.organizer_item_image.media_movie,.organizer_item_image.content_type_video{background:url('../admin/images/icon-video-content-types-dark.svg') no-repeat center center / auto 18px}\n.organizer_item_image.menu_section,.organizer_item_image.linked_child_menuitem_with_children{background:url('../admin/images/icon-menu-sections-dark.svg') no-repeat center center / auto 16px}\n.organizer_item_image.menu_section_language{background:url('../admin/images/icon-menu-sections-languages-dark.svg') no-repeat center center / auto 16px}.organizer_item_image.menu_section_edit{background:url('../admin/images/icon-menu-sections-edit-dark.svg') no-repeat center center / auto 16px}\n.organizer_item_image.menu_node,.organizer_item_image.zenario_menunode_internal_unique{background:url('../admin/images/icon-menu-node-dark.svg') no-repeat center center / auto 16px}\n#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.menu_section,#zenario_fbAdminFloatingBox .zenario_fabHead .zenario_fabId div.zenario_fabIdIcon.organizer_item_image.linked_child_menuitem_with_children{width:25px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.urls_collection,#organizer_rightColumn #organizer_panelTitle div.url_item{background:url('../admin/images/icon-spare-domain-names.svg') no-repeat center center / 22px auto}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.alias_urls_collection,#organizer_rightColumn #organizer_panelTitle div.alias_url,.organizer_item_image.alias_url{background:url('../admin/images/icon-spare-alias-dark.svg') no-repeat center center / 22px auto}\n.organizer_item_image.url_item{background:url('../admin/images/icon-spare-domain-names.svg') no-repeat center center / 22px auto}.organizer_item_image.site_reset{background:url('../admin/images/icon-rest-site-dark.svg') no-repeat center center / 17px 21px}\n.organizer_item_image.site_enabled{background:url('../admin/images/icon-site-enabled-dark.svg') no-repeat center center / 19px 19px}.organizer_item_image.site_disabled{background:url('../admin/images/icon-site-disabled.svg') no-repeat center center / 19px 19px}\n.organizer_item_image.xml_sitemap{background:url('../admin/images/icon-xml-site-map.svg') no-repeat center center / auto 19px}#organizer_rightColumn div.organizer_row div.organizer_cell div.dropbox_files,.organizer_item_image.dropbox_file{background:url('../admin/images/icon-file-types-dark.svg') no-repeat center center / auto 18px}\n.organizer_item_image.zenario_newsletter_draft{background:url('../admin/images/icon-newsletter-dark.svg') no-repeat center center / auto 16px}.organizer_item_image.zenario_newsletter_template{background:url('../admin/images/icon-newsletter-template-dark.svg') no-repeat center center / auto 16px}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_newsletter_in_progress_newsletter,#organizer_rightColumn #organizer_panelTitle div.zenario_newsletter_in_progress_newsletter,.organizer_item_image.zenario_newsletter_sent_newsletter{background:url('../admin/images/icon-sent-newsletter-dark.svg') no-repeat center center / auto 20px}\n.organizer_item_image.log.email_log{background:url('../admin/images/icon-sent-email-in-log-dark.svg') no-repeat center center / auto 16px}#organizer_rightColumn div.organizer_list_view div.organizer_item{height:150px;width:100px;text-align:center;float:left;margin:5px 5px 10px 5px;font-size:1em}\nbody.ie6 #organizer_rightColumn div.organizer_list_view div.organizer_item{height:160px}.organizer_image_tags{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:white}\n#organizer_rightColumn div.organizer_item div.organizer_image_container,#organizer_rightColumn div.organizer_item div.image_container_on{position:relative;width:180px;height:130px}\n#organizer_rightColumn div.zenario_sticky div.organizer_image_container,#organizer_rightColumn div.zenario_shared div.organizer_image_container{border:2px solid #333;position:relative}\n#organizer_rightColumn div.organizer_image_container .organizer_image_sticky_marker,#organizer_rightColumn div.organizer_image_container .organizer_image_shared_marker{display:none;width:39px;height:14px;position:absolute;z-index:2;bottom:0}\n#organizer_rightColumn div.organizer_image_container .organizer_image_sticky_marker{background:url('../admin/images/store_keeper/feature-marker.png') no-repeat center center;left:0}\n#organizer_rightColumn div.organizer_image_container .organizer_image_shared_marker{background:url('../admin/images/store_keeper/shared-marker.png') no-repeat center center;right:0}\n#organizer_rightColumn div.zenario_sticky div.organizer_image_container .organizer_image_sticky_marker,#organizer_rightColumn div.zenario_shared div.organizer_image_container .organizer_image_shared_marker{display:block}\n.zenario_image_privacy_auto .organizer_list_view_icon_border{outline:solid 1px orange}.zenario_image_privacy_public .organizer_list_view_icon_border{outline:solid 1px LightGreen}\n.zenario_image_privacy_private .organizer_list_view_icon_border{outline:solid 1px cyan}.organizer_list_view_body .organizer_list_view_icon_border{cursor:pointer}\n#organizer_rightColumn .organizer_grid_view div.organizer_item .organizer_image{width:180px;height:130px}#organizer_rightColumn div.organizer_item_with_image{background-position:center center;background-repeat:no-repeat}\n#organizer_rightColumn .organizer_doubleclickable .firstcol .organizer_doubleclick{display:block;position:absolute;right:0;bottom:0;width:16px;height:15px;background:url('../admin/images/icon-folder-closed-dark.svg') no-repeat center center / 14px auto;cursor:pointer;right:2px;bottom:3px;margin:1px}\n#organizer_rightColumn .organizer_doubleclickable .firstcol .organizer_doubleclick:hover{background:url('../admin/images/icon-folder-open-dark.svg') no-repeat center center / 14px auto}\n#organizer_rightColumn div.organizer_item .no_icon{background-image:none}#organizer_rightColumn div.organizer_item .ghost{opacity:.3}.zenario_trans_colicon{min-width:15px !important;min-height:23px !important;background-repeat:no-repeat}\n#organizer_trash_button{float:right;margin:5px 10px 0 0}#organizer_trash_button,#organizer_trash_button a{width:30px;height:30px;display:block}#organizer_trash_button a{display:block;float:right}\n.trash_button_empty a,.trash_button_full a{background:url('../admin/images/icon-trash-can-v2.svg') no-repeat center center / 14px auto}.trash_button_full a{cursor:pointer}\n#organizer_rightColumn div.organizer_no_items{text-align:center;line-height:1.3em;padding-top:3em;padding-bottom:2em;font-size:12pt;background:#f9f9f9}\n#organizer_item_count{width:auto;height:30px;overflow:hidden;display:inline-block;margin-right:20px}#organizer_pagination{overflow:hidden}#organizer_item_count,#organizer_pagination{line-height:30px}\n#organizer_pagination .organizer_page_button{display:inline-block;width:24px;height:24px;text-align:center;position:relative;bottom:5px}#organizer_page_first{margin-right:5px}\n#organizer_page_last{margin-left:5px}.organizer_page_button{cursor:pointer}.organizer_page_button_disabled{cursor:default}#organizer_page_first:hover{background:url('../admin/images/icon-pagination-left-dark-grey.svg') no-repeat center center / 16px auto}\n#organizer_page_last:hover{background:url('../admin/images/icon-pagination-right-dark-grey.svg') no-repeat center center / 16px auto}#organizer_page_first,#organizer_page_first.pagination_disabled_first:hover{background:url('../admin/images/icon-pagination-left-light-grey.svg') no-repeat center center / 16px auto}\n#organizer_page_last,#organizer_page_last.pagination_disabled_last:hover{background:url('../admin/images/icon-pagination-right-light-grey.svg') no-repeat center center / 16px auto}\n.pagination_disabled_first,.pagination_disabled_last,#organizer_page_first.pagination_disabled_first:hover,#organizer_page_last.pagination_disabled_last:hover{opacity:.5}\n.organizer_page_numbers{height:32px;display:inline-block}#organizer_pagination .paginator_p_wrap{float:none;display:inline-block;float:left;height:24px;line-height:23px;margin-bottom:4px;margin-top:3px}\n#organizer_pagination .paginator_slider{background:#b9b9b9;border:0;float:left;clear:both}.paginator_slider .ui-slider-handle{background:url('../admin/images/srub-bar-off-state.png') no-repeat;border:0;width:24px;cursor:pointer}\n.paginator_slider .ui-slider-handle:hover{background:url('../admin/images/srub-bar-over-state.png') no-repeat}.paginator_p{background:#b9b9b9;color:#4d4d4d;font-weight:700;border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px;padding:0}\n.paginator_p_wrap .selected,.paginator_p_wrap .selected:hover{background:#027dc9;color:#fff}.paginator_p:hover{background:#6f6f6f;color:#fff}.paginator_p[data-length='4']{font-size:8px}\n.paginator_p[data-length='5']{font-size:6px}.paginator_p[data-length='6']{font-size:5px}\n.paginator_p[data-length='7'],.paginator_p[data-length='8']{font-size:4px}.paginator_p[data-length='9'],.paginator_p[data-length='10']{font-size:3px}\n#organizer_itemCountWrap{width:100%;height:45px;float:right;text-align:center;color:#333;font-size:11px;margin-top:0}#organizer_itemCountWrap .page{cursor:pointer}\n#organizer_itemCountWrap .page:hover{text-decoration:underline}#organizer_itemCountWrap .currentPage{cursor:default;font-weight:bold;color:#007fa2}#organizer_itemCountWrap img{width:30px;height:30px;vertical-align:middle;margin:0 8px}\n#organizer_itemCountWrap #organizer_pagePrev,#organizer_itemCountWrap #organizer_pagePrevOff{margin-left:37px}#organizer_itemCountWrap #organizer_pagePrev,#organizer_itemCountWrap #organizer_pageNext{cursor:pointer}\ndiv#organizer_previous_next{float:right;width:100%;margin:3px}div#organizer_previous_next a{display:block;width:29px;height:19px;float:right;margin:2px}\n#organizer_itemCountWrap,#organizer_rightColumnTitle{overflow:hidden}body #cboxOverlay,body #colorbox.zenario_grid_maker #cboxOverlay{zoom:1;filter:alpha(opacity=50) !important;opacity:.5 !important;background-color:#000;background-image:none}\nbody #colorbox.zenario_grid_maker #cboxTopLeft,body #colorbox.zenario_grid_maker #cboxTopCenter,body #colorbox.zenario_grid_maker #cboxTopRight,body #colorbox.zenario_grid_maker #cboxMiddleLeft,body #colorbox.zenario_grid_maker #cboxMiddleRight,body #colorbox.zenario_grid_maker #cboxBottomLeft,body #colorbox.zenario_grid_maker #cboxBottomCenter,body #colorbox.zenario_grid_maker #cboxBottomRight,body #colorbox.zenario_grid_maker #cboxTitle,body #colorbox.zenario_grid_maker #colorbox #cboxTopLeft,body #colorbox.zenario_grid_maker #colorbox #cboxTopCenter,body #colorbox.zenario_grid_maker #colorbox #cboxTopRight,body #colorbox.zenario_grid_maker #colorbox #cboxMiddleLeft,body #colorbox.zenario_grid_maker #colorbox #cboxMiddleRight,body #colorbox.zenario_grid_maker #colorbox #cboxBottomLeft,body #colorbox.zenario_grid_maker #colorbox #cboxBottomCenter,body #colorbox.zenario_grid_maker #colorbox #cboxBottomRight,body #colorbox.zenario_grid_maker #colorbox #cboxTitle{visibility:hidden}\nbody #colorbox.zenario_grid_maker #cboxClose{position:absolute;top:0;width:0;height:0;display:none}body #colorbox.zenario_grid_maker #cboxLoadedContent{height:100% !important}\n#organizer_rightColumnContent .organizer_drag_handle{height:auto}#organizer_rightColumnContent .organizer_hierarchy_view ol{min-width:625px}#organizer_rightColumnContent .organizer_hierarchy_view ol ol{min-width:595px}\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol{min-width:565px}#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol{min-width:535px}\n#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol ol{min-width:505px}#organizer_rightColumnContent .organizer_hierarchy_view ol ol ol ol ol ol{min-width:475px}\n#organizer_rightColumn .organizer_hierarchy_view .dd{max-width:100%}#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list{background:url('../admin/images/1px-grey.gif') repeat-x left bottom}\n#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list .dd-item .dd3-handle,#organizer_rightColumn .organizer_hierarchy_view .dd-list .dd-list .dd-item .dd3-content{border-left:1px solid #c4c4c4}\n.dd-item>button[data-action]{position:absolute;z-index:1}#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle{min-height:30px;position:absolute;cursor:move;margin:0;border:0;border-radius:0}\n#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle,#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle:hover,#organizer_rightColumn .organizer_hierarchy_view .dd3-handle{background:url('../admin/images/icon-drag-handle.png') no-repeat left center}\n#organizer_rightColumn .organizer_hierarchy_view .dd3-handle:before{content:''}#organizer_rightColumn .organizer_hierarchy_view button{position:absolute;font-weight:bold;font-family:verdana}\n#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row div.organizer_row{clear:none}#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row div.organizer_cell{width:auto !important;border:0}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_checkbox_col{display:inline}#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col{margin-left:20px}\n#organizer_rightColumn .organizer_hierarchy_view .organizer_menu_handle div.organizer_row div.organizer_checkbox_col.organizer_documents_area{margin-left:50px}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cell{float:left}.zenario_organizer_select #organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_documents_area{margin-right:10px}\n#organizer_rightColumn .organizer_hierarchy_view .organizer_cell_items{float:left;padding:2px 2px 0 0}#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items{width:94%;width:calc(100% - 120px);line-height:22px;overflow:hidden}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items{text-overflow:ellipsis;max-width:40%;white-space:nowrap;overflow:hidden}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items.organizer_cell_comma{max-width:2%}\n#organizer_rightColumn .organizer_hierarchy_view #organizer_items_wrapper ol li div.organizer_row div.organizer_cells_items{text-overflow:ellipsis;white-space:nowrap}\n#organizer_rightColumn .organizer_hierarchy_view #organizer_items_wrapper ol li div.organizer_row div.organizer_cells_items>span.organizer_cell_items{width:auto;max-width:97%}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items span.organizer_cell_items span{float:none}#organizer_rightColumnContent .organizer_hierarchy_view div.organizer_row .organizer_cell_items div.organizer_cell{padding:0}\n#organizer_rightColumn .organizer_hierarchy_view .organizer_cell_items table.organizer_no_border{border-collapse:collapse}#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border,#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr,#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td{padding:0;margin:0}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td{display:inline-block}#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text{width:100%}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text a{width:100%;word-wrap:break-word;display:block;color:#000}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border,#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr,#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td,#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table.organizer_no_border tr td a{display:inline-block}\n#organizer_rightColumn .organizer_hierarchy_view div.organizer_row .organizer_cell_items table td.organizer_item_link_text a:hover,#organizer_rightColumn .organizer_slidedown_view table td a:hover{color:#007fa3}\n.dd-placeholder .dd3-handle,.dd3-handle{border:0 none;border-radius:0;font-size:20px}.dd3-content,.dd3-content:hover{color:#616161}.dd3-content{font-family:Verdana,Arial,Helvetica,sans-serif;padding:0 10px 0 20px;font-weight:normal;border:0;background:#fff;margin:0;border-radius:0}\n.organizer_menu_handle .dd3-content{padding-left:30px}.dd3-content span,.dd3-content table,.dd3-content div{float:left}.dd3-content table{border-collapse:collapse}\n.dd3-content button,.dd-placeholder button{font-weight:bold;font-family:verdana}.dd3-content a{color:#000}.dd3-item>button{margin-left:0}.dd3-item.organizer_menu_handle>button{margin-left:30px}\n.zenario_organizer_under_admin_box.zenario_panel_type__hierarchy_documents .dd3-item>button{margin-left:21px}#organizer_leftColumn .zenario_debug{right:3px;top:3px}\n.zenario_toolbar_header .toolbar div.zenario_debug{width:30px;height:30px}.zenario_toolbar_header .toolbar div.zenario_debug div{background-size:16px}\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_id div{background-color:#ffb080}.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_id:hover div{opacity:.9}\n.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_no_id div{background-color:#b4edb7}.zenario_toolbar_header .toolbar div.zenario_debug_with_refiner_and_no_id:hover div{opacity:.9}\n#organizer_rightColumnTitle #organizer_topRightIcons{position:absolute;width:auto;height:18px;top:8px;right:8px}.zenario_organizer_full #organizer_rightColumnTitle #organizer_topRightIcons{top:0}\n#organizer_rightColumnTitle #organizer_topRightIcons>div{margin-right:5px;display:inline-block;float:none;height:18px}#zenario_fbDebugInfoBox{padding:4px;background:#333;font-family:Verdana,Tahoma,Arial,Helvetica,sans-serif;font-size:1em;clear:both}\n#zenario_fbDebugInfoBox,#zenario_fbDebugInfoBox input,#zenario_fbDebugInfoBox textarea{color:#333;font-size:12px;font-family:Arial,Verdana,Helvetica,sans-serif}\n#zenario_fbDebugInfoBox a{color:#0080cb}#zenario_fbDebugInfoBox .zenario_debugInfo{padding:15px;background:#FFF;margin:auto;max-height:400px;overflow:auto}\n#zenario_fbDebugInfoBox .zenario_debugInfo .organizer_basic_info{clear:both}#zenario_fbDebugInfoBox .zenario_debugInfoTitle{width:auto;font-weight:bold;font-size:13px;margin:0 2px 5px}\n#zenario_fbDebugInfoBox .organizer_refiner_no,#zenario_fbDebugInfoBox .organizer_cfti{width:auto;overflow:hidden;clear:both;margin:15px 2px 5px;padding:10px 0 0 0;border-top:1px solid #c4c4c4;font-weight:bold;font-size:13px}\n#zenario_fbDebugInfoBox .organizer_info_box{float:right}#zenario_fbDebugInfoBox table{width:100%}#zenario_fbDebugInfoBox table tr th,#zenario_fbDebugInfoBox table tr td{vertical-align:top;padding:0}\n#zenario_fbDebugInfoBox th{width:22%;text-align:left;font-weight:normal}#zenario_fbDebugInfoBox table tr td,#zenario_fbDebugInfoBox input,#zenario_fbDebugInfoBox textarea{font-family:'Courier New',Courier,monospace}\n#zenario_fbDebugInfoBox input,#zenario_fbDebugInfoBox textarea{width:95%;border:0;background:#FFF}#zenario_fbDebugInfoBox textarea{resize:none;line-height:1.2em}\n.zenario_debugInfo .organizer_info_box{margin-top:0}table.table-bordered{border-collapse:collapse}table.table-bordered,table.table-bordered th,table.table-bordered td{border:1px solid #c4c4c4}\ntable.table-bordered td{padding:4px}.organizer_item_image.zenario_file_item{background:url('../admin/images/icon-documents-documents.svg') no-repeat center center / 18px auto}\n.organizer_item_image.zenario_folder_item{background:url('../admin/images/icon-folder-closed-dark.svg') no-repeat center center / 18px auto}.organizer_item_image.zenario_document_tag_item{background:url('../admin/images/icon-tags.svg') no-repeat center center / 18px auto}\n.organizer_item_image.zenario_document_auto_set_rule{background:url('../admin/images/icon-auto-rule-sets.svg') no-repeat center center / 18px auto}.organizer_item_image.zenario_error_log{background:url('../admin/images/icon-error-log-dark.svg') no-repeat center center / 18px auto}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_offline{border:1px solid orange}#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_public{border:1px solid #008000}\n#organizer_rightColumn div.organizer_row div.organizer_cell div.zenario_file_item.zenario_document_privacy_private{border:1px solid #00f}#organizer_rightColumn .organizer_hierarchy_view div.organizer_row div.organizer_cells_items.organizer_documents_items{line-height:28px;padding:2px;color:#202020}\n#organizer_rightColumn div.organizer_row.document .listicon>div,#organizer_rightColumn div.organizer_row.folder .listicon>div,#organizer_rightColumn li.organizer_menu_handle .listicon>div{padding-left:24px}\n.organizer_document_line_outer .zenario_document_title{font-weight:bold;margin-right:10px}.organizer_document_line_outer .zenario_document_sub_fields{margin-right:10px;font-style:italic;color:#696969}\n.organizer_document_line_outer.line_2 .organizer_document_line_inner .zenario_document_sub_fields{position:relative;bottom:5px}#organizer_rightColumn .organizer_hierarchy_view .organizer_drag_handle.document:hover,#organizer_rightColumn .organizer_hierarchy_view .dd3-handle.document{height:60px;background:url('../admin/images/icon-drag-handle.png') no-repeat left center}\n.introjs-tooltip{min-width:180px}.introjs-tooltip .introjs-tooltiptext,.introjs-tooltip .introjs-tooltipbuttons .introjs-button{font-family:Verdana,Arial,Helvetica,sans-serif}\n.introjs-tooltip .introjs-tooltiptext>p strong{font-size:18px;font-weight:normal;color:#333}.introjs-tooltip .introjs-tooltiptext p{font-size:12px;color:#676767}\n.introjs-tooltip .introjs-bullets ul li a.active{background:#0079ce !important}.introjs-tooltip .introjs-tooltipbuttons .introjs-button{font-size:14px;text-shadow:none;color:#333;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-skipbutton{width:12px;height:12px;border:0;text-indent:-999;display:block;font-size:0;line-height:0;position:absolute;top:-3px;right:0;background:url('../admin/images/tooltip-close-off-state.png') no-repeat}\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-skipbutton:hover{box-shadow:none;background:url('../admin/images/tooltip-close-over-state.png') no-repeat}\n.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-prevbutton{float:left;border:1px solid #b3b3b3}.introjs-tooltip .introjs-tooltipbuttons .introjs-button.introjs-nextbutton{border:1px solid #007fa5;background:#0097c5;color:#FFF}\n.introjs-helperNumberLayer{z-index:99999999 !important}.introjs-showElement.zenario_admin_name,.introjs-showElement.logout_button{background:#000}#organizer_search.introjs-showElement{background:#FFF}\n.calendar-organizer{width:100%;border-collapse:collapse;margin-left:1%;margin-top:1%;table-layout:fixed}.calendar-organizer .calendar-prev-link,.calendar-organizer .calendar-next-link{text-align:center}\n.calendar-organizer .calendar-prev-link a,.calendar-organizer .calendar-next-link a{cursor:pointer}.calendar-organizer-day{border:1px solid #c4c4c4;padding:3%;text-align:right;position:relative}\n.calendar-organizer-no-date{background:#f6f6f6}.calendar-organizer-date:hover{background:#dcf5fd}.calendar-organizer-day-names td{border:1px solid #c4c4c4;color:#fff;background:#333;text-align:center;padding:1%}\n.calendar-organizer-events-details{display:block;float:left;width:26%;margin-left:3%;margin-top:0}.calendar-organizer-event{position:absolute;top:55%;right:5%;background:#01d103;color:#fff;padding:3%}\n.calendar-organizer-wrapper{display:block;float:left;width:70%}.calendar-organizer-day-value{position:absolute;top:5%;right:5%}.calendar-first-row{width:100%}\n.calendar-first-row div{display:block;float:left;width:33%}.calendar-organizer-first-row{background:#f9f9f9;border:1px solid #c4c4c4}.calendar-first-row-left{text-align:left}\n.calendar-first-row-middle h2{text-align:center;margin:0}.calendar-first-row-right{text-align:right}.calendar-first-row ul li{display:inline-block}.calendar-first-row ul{padding-left:6%;margin:0}\n.calendar-organizer-month-year-title{font-size:1.2em;font-weight:700;text-align:center}.organizer_subheading{font-weight:700;color:#000;font-family:Verdana;font-size:1em;background-color:#e6e6e6;padding:5px 0 5px 5px;border-bottom:1px solid #c4c4c4}\n.organizer_list_view_with_short_rows div.organizer_cell div{display:block;float:left}.organizer_list_view_with_short_rows div.organizer_cell div.organizer_cell_line{float:none}\n.organizer_list_view_with_tall_rows .listicon .organizer_item_with_image{display:block;float:left}.organizer_list_view_with_tall_rows .listicon .organizer_inline_buttons{width:60px;display:block;float:right;position:relative;bottom:45px;left:4px}\n#organizer_rightColumn .organizer_form_builder_view .form_outer .form h4{color:#202020;margin:15px 0 5px 0}#organizer_rightColumn .organizer_form_builder_view .form_outer .form .field.ui-sortable-handle{margin-left:20px}\n#organizer_rightColumn .organizer_form_builder_view .form_outer .form .field.ui-sortable-handle input{width:200px}#organizer_rightColumnContent #organizer_hierarchy_view div.organizer_row .organizer_column__small_screens__cell{display:inline-block;width:40px;height:18px;font-size:0;color:transparent}\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_mobile_only:before,#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_and_mobile:before{display:inline-block;width:18px;height:19px;background:url('../admin/images/icon-page-preview-mobile-portrait.svg') center bottom no-repeat;background-size:auto 14px;content:''}\n#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_only:after,#organizer_hierarchy_view .organizer_column__small_screens__cell.organizer_icon_show_on_desktop_and_mobile:after{display:inline-block;width:18px;height:19px;background:url('../admin/images/icon-page-preview-desktop.svg') center bottom no-repeat;background-size:auto 14px;content:''}\n.organizer_list_view_with_tall_rows .listicon>div{width:64px;height:48px !important;display:block;float:left;padding-left:0 !important}#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row div.organizer_cell.listicon .organizer_list_view_icon{width:60px;height:43.333px !important;margin:3px 2px}\n.organizer_tall_row_with_small_icon .listicon.firstcol>div{width:auto;height:25px !important;padding-left:24px !important}.organizer_tall_row_with_small_icon .listicon.firstcol>div.organizer_inline_buttons{position:static;bottom:0;left:0;float:left;padding-left:1px !important}\n.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons,.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons div,.organizer_tall_row_with_small_icon .listicon.firstcol div.organizer_inline_buttons div.zenario_users_contact_status{height:25px !important}\n#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cell.listicon .organizer_inline_buttons,#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cell.listicon .organizer_inline_buttons div,#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cells_items .organizer_inline_buttons,#organizer_rightColumnContent .organizer_list_view_with_tall_rows div.organizer_row.organizer_tall_row_with_small_icon div.organizer_cells_items .organizer_inline_buttons div{margin:0;padding:0}\n#organizer_rightColumnContent div.organizer_row div.organizer_cell span.listicon{display:inline-block;padding-left:16px;height:16px;background-size:14px 16px;padding-right:2px;background-position:left center}\n.organizer_slidedown_view table td .slidedown_tags_title{width:40px;margin:0 0 10px 20px;display:block;float:left;color:#202020;margin:0 0 10px 20px}.organizer_slidedown_view table td .organizer_image_tags.slidedown_view{display:block;float:left}\n#row__module_description .zfab_row_inner .module_description *{color:#fff;font-size:11px}#row__module_description .zfab_row_inner .module_description ul{margin:15px 0 15px 30px;list-style-position:inside}\n#row__module_description .zfab_row_inner .module_description ul li{list-style:disc;margin:5px 0 5px 0}#row__module_description .zfab_row_inner .module_description p{margin-top:10px;margin-bottom:10px}\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li a{min-width:200px;text-align:center}.label_without_icon.organizer_button_with_children>a{min-width:0}\n#organizer_collectionPanelButtons_no_items ul li{list-style:none;margin-left:2px;margin-right:2px}#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new a,#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a{cursor:pointer;padding:5px 10px 6px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;text-shadow:0 1px 1px #000;display:inline-block;min-width:200px}\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new a,#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a{background-color:#ea5900;color:#fff}\n#organizer_collectionPanelButtons_no_items ul li a{background:#e9e9e9;cursor:pointer;padding:5px 10px 6px;color:#616161;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;display:inline-block;min-width:200px}\n#organizer_collectionPanelButtons_no_items ul .label_without_icon a{min-width:200px}#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children a{text-align:left;cursor:auto;display:inline-block;min-width:0;background:url(\"../admin/images/no_items_arrow_right.png\") no-repeat;background-position:right center;padding-right:15px}\n#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children>a{color:#000;text-shadow:none}#organizer_collectionPanelButtons_no_items ul .zenario_create_a_new.organizer_button_with_children ul li.label_without_icon a{margin:5px 8px}\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children a,#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul,#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li{display:inline-block}\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul li a{background:#e9e9e9;cursor:pointer;padding:5px 10px 6px;color:#616161;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;font-weight:normal}\n#organizer_collectionPanelButtons_no_items ul .organizer_button_with_children ul{padding:0}#organizer_rightColumnOptions_no_items{margin-top:20px}#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button{cursor:pointer;display:block;height:25px;width:67px;background:url('../admin/images/help_btn.svg') no-repeat center center / 67px 24px}\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button p{position:relative;top:4px;left:6px;color:#fff}\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button{opacity:1;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}\n#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav .organizer_sectionTitleText .open_tutorial_button:hover{opacity:.6}#zenario_tutorial_main_video{display:block;margin:0 auto;padding-bottom:20px;padding-top:20px}\n#zenario_tutorial_main_video iframe,#zenario_tutorial_main_video .no_video{display:block;margin:0 auto}#zenario_tutorial_main_video .no_video p{text-align:center;color:#fff;font-size:1.2em;margin-top:149px;margin-bottom:149px}\n.zenario_tutorial .other_videos .no_other_videos p{text-align:center}.zenario_tutorial{background-color:#f4f4f4}.zenario_tutorial .help_tour_outer{background-color:#d2ecf8;margin:0 10px 10px 10px;min-height:70px}\n.zenario_tutorial .help_tour_outer .help_tour_inner,.zenario_tutorial .help_tour_outer .video_start_tour{display:block;float:left}.zenario_tutorial .help_tour_outer .help_tour_inner .help_tour_message{font-weight:700;font-size:12px;margin:15px 30px 10px 50px}\n.zenario_tutorial .help_tour_outer .help_tour_inner .auto_open_option{margin:0 30px 0 47px}.zenario_tutorial .help_tour_outer .video_start_tour .start_button{background:url(\"../admin/images/start-tour-btn-off.png\") no-repeat;display:block;height:50px;width:160px;color:transparent;cursor:pointer;margin-top:15px}\n.zenario_tutorial .help_tour_outer .video_start_tour .start_button:hover{background:url(\"../admin/images/start_tour_btn_on.png\") no-repeat}.zenario_tutorial .video_end{clear:both}\n.zenario_tutorial .main_video{background-color:#000}.zenario_tutorial .other_videos #zenario_tutorial_other_videos .zenario_slideshow_wrapper{margin-top:20px}\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .no_other_videos{line-height:150px}.zenario_tutorial .other_videos #zenario_tutorial_other_videos .no_other_videos p{font-size:16px;font-weight:700;margin:0;text-align:center}\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .organizer_slideshow #navigator{position:relative;top:170px;display:none}.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides{left:70px;width:85%;top:20px}\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video{border:2px solid #FFF}.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video.selected{border-color:#01d103}\n.zenario_tutorial .other_videos #zenario_tutorial_other_videos .slides .video.selected .video_title{background:#01d103;text-shadow:1px 1px #333}#zenario_tutorial_other_videos div.slides{height:154px !important}\n.zenario_tutorial .zenario_tutorial_video_banner{height:40px;width:97%;background-color:#333}.zenario_tutorial .zenario_tutorial_video_banner h1,.zenario_tutorial .zenario_tutorial_video_banner{color:#fff;font-size:1.2em;font-weight:700;margin:0;padding:0;line-height:40px;text-align:left;padding-left:3%}\n.zenario_tutorial_cbox #cboxTitle{display:none !important}.zenario_tutorial_cbox #cboxLoadedContent{margin-bottom:0}.zenario_tutorial_cbox #cboxContent{background:#f4f4f4}\nspan.video_title{position:absolute;bottom:0;background:#333;display:block;padding:2px 8px;color:#fff;text-align:center;left:0;right:0}.zenario_tutorial_cbox #cboxClose{position:absolute;top:9px;right:8px;display:block;width:23px;height:23px;text-indent:-9999px}\n#organizer_collectionPanelButtons_no_items ul{padding-left:0}.zenario_show_colobox_above_fab #cboxLoadedContent{padding-bottom:28px}#organizer_colsortfields .zenario_remove_date{background:#333;color:#fff;border:0;cursor:pointer;position:relative;bottom:1px}\n.zenario_date_filters_phrase{display:inline-block;width:80px}#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .logout_button,#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .home_page_button,#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .top_left_button,#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .zenario_admin_name,#zenario_fbog.zenario_panel_type__form_builder #organizer_bottomWrap,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .logout_button,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .home_page_button,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .top_left_button,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .zenario_admin_name,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_bottomWrap,#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .logout_button,#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .home_page_button,#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .top_left_button,#zenario_fbog.zenario_panel_type__schematic_builder .organizer_wrapOuter .zenario_admin_name,#zenario_fbog.zenario_panel_type__schematic_builder #organizer_bottomWrap{display:none}\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button{display:block;border:0;width:auto;height:auto}\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button a,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button a{display:block;height:34px;width:34px;cursor:pointer;margin-top:2px;margin-right:17px;border:0;background:url(\"../admin/images/icon-close-off-state-light-grey.svg\") no-repeat center / 16px 16px}\n#zenario_fbog.zenario_panel_type__form_builder .organizer_wrapOuter .organizer_back_button a:hover,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_wrapOuter .organizer_back_button a:hover{background:url(\"../admin/images/icon-close-hover-state-blue.svg\") no-repeat center / 16px 16px}\n#zenario_fbog.zenario_panel_type__form_builder #organizer_backButton,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_backButton{padding-left:15px}\n#zenario_fbog.zenario_panel_type__form_builder .organizer_rightColumnOptions_panel,#zenario_fbog.zenario_panel_type__admin_box_builder .organizer_rightColumnOptions_panel,#zenario_fbog.zenario_panel_type__schematic_builder .organizer_rightColumnOptions_panel{height:0;padding:12px 0 0}\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel,#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel{position:absolute;right:0;left:0;top:-27px;text-align:center;margin:auto}\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul,#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a,#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul,#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li a{float:none;display:inline}\n#zenario_fbog.zenario_panel_type__schematic_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li,#zenario_fbog.zenario_panel_type__admin_box_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li,#zenario_fbog.zenario_panel_type__form_builder #organizer_rightColumnApplyCancel.organizer_toolbar .toolbar .toolbarButtons ul li{background:0}\n.organizer_form_builder_view{height:100%;overflow:hidden;background:url('../admin/images/bg-pattern-blue.png')}.organizer_form_builder_view .form_fields_palette,.organizer_form_builder_view .form_outer{float:left}\n.organizer_form_builder_view .form_outer{overflow:auto;width:calc(100% - 450px);height:calc(100% - 50px);padding:15px 20px;margin:10px;background:#FFF;box-shadow:4px 4px 10px 0 rgba(0,0,0,0.35);-webkit-box-shadow:4px 4px 10px 0 rgba(0,0,0,0.35);-moz-box-shadow:4px 4px 10px 0 rgba(0,0,0,0.35)}\n.organizer_form_builder_view .form_fields_palette .field_type_section{padding:10px;border-top:1px solid #FFF;border-bottom:1px solid #8cd58b}.organizer_form_builder_view .form_fields_palette .field_type_section:first-child,.organizer_form_builder_view .form_fields_palette .field_type_list.header_content{border-top:0}\n.organizer_form_builder_view .form_fields_palette .field_type_section:last-child,.organizer_form_builder_view .form_fields_palette .field_type_list_header.header_content{border-bottom:0}\n.organizer_form_builder_view .form_fields_palette .field_type_list.header_content{padding-top:0}.organizer_form_builder_view .form_fields_palette .field_type_list_header.header_content{padding-bottom:0}\n.organizer_form_builder_view .form_fields_palette .field_type_list.field_type_section_simple{padding-top:10px}.organizer_form_builder_view .form_fields_palette .field_type_list_header{padding:15px;border-bottom:1px solid #8ed28c}\n.organizer_form_builder_view .form_outer .form_tabs{width:100%;overflow:hidden;margin-top:5px}.organizer_form_builder_view .form_outer .form_tabs .tab{display:inline-block;margin-left:4px;padding:10px 8px;cursor:pointer;color:#777;background:#f0f0f0;border:1px solid #b9b9b9;border-bottom-color:#6f6f6f;position:relative;z-index:2;-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px;-webkit-transition:color .3s ease-out;-moz-transition:color .3s ease-out;-o-transition:color .3s ease-out;transition:color .3s ease-out}\n.organizer_form_builder_view .form_outer .form_tabs .tab:hover{color:#333}.organizer_form_builder_view .form_outer .form_tabs .tab.on{padding-right:22px;background:#fff url('../admin/images/icon-pencil.png') no-repeat right center;color:#333;border-color:#6f6f6f;border-bottom-color:#FFF}\n.organizer_form_builder_view .form_outer .form_tabs .tab.ui-state-hover{background:#333;border-color:#333;color:#fff}.organizer_form_builder_view .form_outer .form_tabs .tab.visible{background-color:#bffeaf}\n.organizer_form_builder_view .form_outer .form_tabs .tab.hidden{background-color:#ccc}.organizer_form_builder_view .form_outer .form_tabs .tab.visible_on_condition{background-color:#ffc480}\n.organizer_form_builder_view .form_outer .form_outer_inner{padding:20px 15px;height:calc(100% - 80px)}.organizer_form_builder_view .form_outer .form_header{padding:5px 10px;text-align:center}\n.organizer_form_builder_view .form_outer .form_tabs #organizer_add_new_tab{cursor:pointer;color:#01d102;font-weight:bold;font-size:20px;display:inline-block}\n.organizer_form_builder_view .form_outer .form{height:100%;border-top:1px solid #6f6f6f;position:relative;margin-top:-1px}.organizer_form_builder_view .form_outer .form .form_section{min-height:100%}\n.organizer_form_builder_view .form_outer .form .form_section.empty{padding:30px;text-align:center}.organizer_form_builder_view .form_outer .form .form_field .form_field_arrow{display:none;width:23px;height:47px;background:url('../admin/images/builder-status-selected-triangle.png') no-repeat 0 0;position:absolute;right:100%;z-index:50}\n.organizer_form_builder_view .form_outer .form .form_field.selected .form_field_arrow{display:inline-block}.organizer_form_builder_view .form_outer .form .form_field.section_description .description{white-space:pre-wrap}\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start{background-image:url('../admin/images/icon-repeating-section.png');background-repeat:no-repeat;background-position:5px 20px}\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,.organizer_form_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border{display:inline-block;border-top:2px dashed #333}\n.organizer_form_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_end .form_field_details_wrapper .border{width:100%}\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper .border{width:calc(100% - 40px);margin-left:40px}\n.organizer_form_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper span,.organizer_admin_box_builder_view .form_outer .form .form_field.repeat_start .form_field_details_wrapper span{display:inline-block;float:right;padding:0 8px 2px;margin:2px 0 0 40px;background:#777;color:#FFF;font-size:10px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}\n.organizer_form_builder_view .form_outer .form .form_field_classes{text-align:right;display:inline-block;position:absolute;right:8px;bottom:5px}.organizer_form_builder_view .form_outer .form .form_field_classes .field_icon{display:inline-block;width:40px;text-align:center;padding:1px 0;font-size:10px;text-transform:uppercase;background:#333;color:#FFF;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}\n.organizer_admin_box_builder_view{height:100%;overflow:hidden;background:url('../admin/images/bg-pattern-grey.png')}.organizer_admin_box_builder_view .form_fields_palette,.organizer_admin_box_builder_view .form_outer{height:calc(100% - 20px);float:left}\n.organizer_admin_box_builder_view .form_fields_palette{overflow:auto;width:370px;margin:10px;background:#f6f6f6;box-shadow:0 0 4px 0 rgba(0,0,0,0.5);-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,0.5);-moz-box-shadow:0 0 4px 0 rgba(0,0,0,0.5)}\n.organizer_admin_box_builder_view .form_outer{width:calc(100% - 410px);overflow:auto;margin:10px;background:#FFF;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\n.organizer_admin_box_builder_view .form_fields_palette .field_type_section{padding:10px}.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header.field_type_section{padding:15px 15px 0;background:url('../admin/images/builder-sections-separator.gif') repeat-x left top}\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header.field_type_section:first-child{background-position:left bottom;padding-bottom:15px}\n.organizer_admin_box_builder_view .form_fields_palette .field_type_list_header h5{margin:0;color:#333;font-size:16px;font-weight:normal}.organizer_admin_box_builder_view .form_fields_palette .field_type_list,.organizer_form_builder_view .form_fields_palette .field_type_list,.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields{overflow:hidden}\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_1,.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_2{width:50%;float:left}\n.organizer_admin_box_builder_view .form_outer .form_outer_inner{padding:15px}.organizer_admin_box_builder_view .form_outer .form_outer_inner,.organizer_admin_box_builder_view .form_outer .form_outer_inner #organizer_form_sections{height:100%}\n.organizer_admin_box_builder_view .form_outer .form_outer_inner #organizer_form_sections .form_section{min-height:100%}.organizer_admin_box_builder_view .form_outer .form_header{padding:5px 10px;background:#ddf6fd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\n.organizer_admin_box_builder_view .form_outer .form_header h5{margin:0;color:#333;font-size:16px;font-weight:normal}.organizer_admin_box_builder_view .form_outer .form_header h5 span{font-size:13px;font-style:italic}\n.organizer_admin_box_builder_view .form_outer .form_tabs{width:100%;overflow:hidden;border-bottom:1px solid #6f6f6f;margin:5px 0 10px}.organizer_admin_box_builder_view .form_outer .form_tabs .tab{display:inline-block;color:#b9b9b9;margin-right:15px;padding:10px 0;cursor:pointer}\n.organizer_admin_box_builder_view .form_outer .form_tabs .tab:hover{color:#027cd9}.organizer_admin_box_builder_view .form_outer .form_tabs .tab.on{color:#333;border-bottom:2px solid #01d102}\n.organizer_admin_box_builder_view .form_outer .form_tabs #organizer_add_new_tab{cursor:pointer;color:#01d102;font-weight:bold;font-size:20px;display:inline-block}\n.organizer_admin_box_builder_view .field_type_list_outer h6{margin:0;padding:6px 10px 0 15px;font-size:13px;color:#000}.organizer_admin_box_builder_view .field_type_list_outer .field_type_section{background:url(\"../admin/images/builder-sections-separator.gif\") repeat-x left bottom}\n.field_type_list_outer .field_type_section .field_type,.field_type_list_outer .dataset_fields .dataset_field{padding-left:5px}.field_type_list_outer .field_type_section .field_type span,.field_type_list_outer .dataset_fields .dataset_field span{display:inline-block;width:20px;height:16px;float:left;background-position:0 center;background-repeat:no-repeat;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}\n.field_type_list_outer .field_type_section .field_type span.centralised_radios{background-position:3px center}.field_type_list_outer .field_type_section .field_type:hover span,.field_type_list_outer .dataset_fields .dataset_field:hover span{filter:brightness(500%)}\n.field_type_list_outer .field_type_section .field_type:hover span.radios,.field_type_list_outer .dataset_fields .dataset_field:hover span.radios,.field_type_list_outer .field_type_section .field_type:hover span.centralised_radios{filter:invert(1)}\n.field_type_list_outer .field_type_section span.text,.field_type_list_outer .dataset_fields .dataset_field span.text,.organizer_form_builder_view .form_outer .form_field.text .label,.organizer_admin_box_builder_view .form_outer .form_field.text .label,.organizer_form_builder_view .form_outer .form_field .label,.organizer_admin_box_builder_view .form_outer .form_field .label{background-image:url(\"../admin/images/icon-field-text.svg\");background-position:1px 1px;background-size:auto 13px}\n.field_type_list_outer .field_type_section span.checkbox,.field_type_list_outer .dataset_fields .dataset_field span.checkbox,.organizer_form_builder_view .form_outer .form_field.checkbox .label,.organizer_admin_box_builder_view .form_outer .form_field.checkbox .label,.organizer_form_builder_view .form_outer .form_field.toggle .label,.organizer_admin_box_builder_view .form_outer .form_field.toggle .label{background-image:url(\"../admin/images/icon-field-checkbox.svg\");background-size:12px auto}\n.field_type_list_outer .field_type_section span.textarea,.field_type_list_outer .dataset_fields .dataset_field span.textarea,.organizer_form_builder_view .form_outer .form_field.textarea .label,.organizer_admin_box_builder_view .form_outer .form_field.textarea .label{background-image:url(\"../admin/images/icon-field-textarea.svg\");background-size:14px auto}\n.field_type_list_outer .field_type_section span.select,.field_type_list_outer .dataset_fields .dataset_field span.select,.organizer_form_builder_view .form_outer .form_field.select .label,.organizer_admin_box_builder_view .form_outer .form_field.select .label,.field_type_list_outer .field_type_section span.centralised_select,.field_type_list_outer .dataset_fields .dataset_field span.centralised_select,.organizer_form_builder_view .form_outer .form_field.centralised_select .label,.organizer_admin_box_builder_view .form_outer .form_field.centralised_select .label{background-image:url(\"../admin/images/icon-field-select-list.svg\");background-size:15px auto}\n.field_type_list_outer .field_type_section span.radios,.field_type_list_outer .dataset_fields .dataset_field span.radios,.organizer_form_builder_view .form_outer .form_field.radios .label,.organizer_admin_box_builder_view .form_outer .form_field.radios .label,.field_type_list_outer .field_type_section span.centralised_radios,.field_type_list_outer .dataset_fields .dataset_field span.centralised_radios,.organizer_form_builder_view .form_outer .form_field.centralised_radios .label,.organizer_admin_box_builder_view .form_outer .form_field.centralised_radios .label{background-image:url(\"../admin/images/icon-field-radios.svg\");background-position:3px center}\n.field_type_list_outer .field_type_section span.checkboxes,.field_type_list_outer .dataset_fields .dataset_field span.checkboxes,.organizer_form_builder_view .form_outer .form_field.checkboxes .label,.organizer_admin_box_builder_view .form_outer .form_field.checkboxes .label{background-image:url(\"../admin/images/icon-field-checkboxes.svg\");background-position:3px center}\n.field_type_list_outer .field_type_section span.date,.field_type_list_outer .dataset_fields .dataset_field span.date,.organizer_form_builder_view .form_outer .form_field.date .label,.organizer_admin_box_builder_view .form_outer .form_field.date .label{background-image:url(\"../admin/images/icon-field-date.svg\")}\n.field_type_list_outer .field_type_section span.url,.field_type_list_outer .dataset_fields .dataset_field span.url,.organizer_form_builder_view .form_outer .form_field.url .label,.organizer_admin_box_builder_view .form_outer .form_field.url .label{background-image:url(\"../admin/images/icon-field-url.svg\")}\n.field_type_list_outer .field_type_section span.editor,.field_type_list_outer .dataset_fields .dataset_field span.editor,.organizer_form_builder_view .form_outer .form_field.editor .label,.organizer_admin_box_builder_view .form_outer .form_field.editor .label{background-image:url(\"../admin/images/icon-field-editor.svg\")}\n.field_type_list_outer .field_type_section span.file_picker,.field_type_list_outer .dataset_fields .dataset_field span.file_picker,.organizer_form_builder_view .form_outer .form_field.file_picker .label,.organizer_admin_box_builder_view .form_outer .form_field.file_picker .label{background-image:url(\"../admin/images/icon-field-file-picker.svg\");background-size:auto 15px}\n.field_type_list_outer .field_type_section span.dataset_select,.field_type_list_outer .dataset_fields .dataset_field span.dataset_select,.organizer_form_builder_view .form_outer .form_field.dataset_select .label,.organizer_admin_box_builder_view .form_outer .form_field.dataset_select .label{background-image:url(\"../admin/images/icon-field-dataset-select.png\")}\n.field_type_list_outer .field_type_section span.dataset_picker,.field_type_list_outer .dataset_fields .dataset_field span.dataset_picker,.organizer_form_builder_view .form_outer .form_field.dataset_picker .label,.organizer_admin_box_builder_view .form_outer .form_field.dataset_picker .label{background-image:url(\"../admin/images/icon-field-dataset-picker.png\")}\n.field_type_list_outer .field_type_section span.flag,.field_type_list_outer .dataset_fields .dataset_field span.flag,.organizer_form_builder_view .form_outer .form_field.flag .label,.organizer_admin_box_builder_view .form_outer .form_field.flag .label{background-image:url(\"../admin/images/icon-field-flag.png\")}\n.field_type_list_outer .field_type_section span.group,.field_type_list_outer .dataset_fields .dataset_field span.group,.organizer_form_builder_view .form_outer .form_field.group .label,.organizer_admin_box_builder_view .form_outer .form_field.group .label{background-image:url(\"../admin/images/icon-field-group.svg\");background-size:16px auto}\n.field_type_list_outer .field_type_section span.attachment,.field_type_list_outer .dataset_fields .dataset_field span.attachment,.organizer_form_builder_view .form_outer .form_field.attachment .label,.organizer_admin_box_builder_view .form_outer .form_field.attachment .label{background-image:url(\"../admin/images/icon-field-attachment.svg\")}\n.field_type_list_outer .field_type_section span.calculated,.field_type_list_outer .dataset_fields .dataset_field span.calculated,.organizer_form_builder_view .form_outer .form_field.calculated .label,.organizer_admin_box_builder_view .form_outer .form_field.calculated .label{background-image:url(\"../admin/images/icon-field-calculated.svg\")}\n.field_type_list_outer .field_type_section span.restatement,.field_type_list_outer .dataset_fields .dataset_field span.restatement,.organizer_form_builder_view .form_outer .form_field.restatement .label,.organizer_admin_box_builder_view .form_outer .form_field.restatement .label{background-image:url(\"../admin/images/icon-field-mirrored.svg\")}\n.field_type_list_outer .field_type_section span.repeat_start,.field_type_list_outer .dataset_fields .dataset_field span.repeat_start,.organizer_form_builder_view .form_outer .form_field.repeat_start .label,.organizer_admin_box_builder_view .form_outer .form_field.repeat_start .label{background-image:url(\"../admin/images/icon-field-repeatblock.svg\")}\n.field_type_list_outer .field_type_section span.section_description,.field_type_list_outer .dataset_fields .dataset_field span.section_description,.organizer_form_builder_view .form_outer .form_field.section_description .label,.organizer_admin_box_builder_view .form_outer .form_field.section_description .label{background-image:url(\"../admin/images/icon-field-subheading.svg\")}\n.field_type_list_outer .field_type_section span.document_upload,.field_type_list_outer .dataset_fields .dataset_field span.document_upload,.organizer_form_builder_view .form_outer .form_field.document_upload .label,.organizer_admin_box_builder_view .form_outer .form_field.document_upload .label{background-image:url(\"../admin/images/icon-field-document-upload.svg\")}\n.field_type_list_outer .field_type_section span.consent,.field_type_list_outer .dataset_fields .dataset_field span.consent,.organizer_form_builder_view .form_outer .form_field.consent .label,.organizer_admin_box_builder_view .form_outer .form_field.consent .label{background-image:url(\"../admin/images/icon-consents-dark.svg\")}\n.organizer_form_builder_view input[type=\"text\"],.organizer_form_builder_view input[type=\"email\"],.organizer_form_builder_view input[type=\"password\"],.organizer_form_builder_view textarea,.organizer_admin_box_builder_view input[type=\"text\"],.organizer_admin_box_builder_view input[type=\"email\"],.organizer_admin_box_builder_view input[type=\"password\"],.organizer_admin_box_builder_view textarea{border:1px solid #c4c4c4;color:#424242;font-family:Verdana,Tahoma,Arial,Helvetica,sans-serif;font-size:1em;padding:5px}\n.organizer_form_builder_view .form_fields_palette,.organizer_admin_box_builder_view .form_fields_palette{overflow-y:auto;width:370px;margin:10px;height:calc(100% - 24px);box-shadow:0 0 4px 0 rgba(0,0,0,0.5);-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,0.5);-moz-box-shadow:0 0 4px 0 rgba(0,0,0,0.5);background:#f6f6f6}\n.organizer_form_builder_view .form_fields_palette_outer,.organizer_admin_box_builder_view .form_fields_palette_outer{position:relative;display:table;width:100%;height:calc(100% - 158px)}\n.organizer_form_builder_view .form_fields_palette_outer .field_details_outer,.organizer_admin_box_builder_view .form_fields_palette_outer .field_details_outer{display:table-cell}\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer,.organizer_admin_box_builder_view .form_fields_palette .field_type_list_outer{height:100%;background:#baefba}\n.organizer_form_builder_view .form_fields_palette .field_details_header>div,.organizer_form_builder_view .form_outer .form_header>div,.organizer_admin_box_builder_view .form_fields_palette .field_details_header>div,.organizer_admin_box_builder_view .form_outer .form_header>div,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header>div{padding:10px 15px}\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_info,.organizer_form_builder_view .form_outer .form_header .field_info,.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_info,.organizer_admin_box_builder_view .form_outer .form_header .field_info,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .field_info{margin-top:5px;font-size:11px;font-style:italic;-ms-word-break:break-all;word-break:break-all;word-break:break-word}\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_details_header_options,.organizer_form_builder_view .form_outer .form_header .field_details_header_options,.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_details_header_options,.organizer_admin_box_builder_view .form_outer .form_header .field_details_header_options,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .tab_details_header_options{overflow:hidden;text-align:right;border-bottom:1px solid #c6cbcf}\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_details_header_options input,.organizer_form_builder_view .form_outer .form_header .field_details_header_options input,.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_details_header_options input,.organizer_admin_box_builder_view .form_outer .form_header .field_details_header_options input,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .tab_details_header_options input{margin-left:10px}\n.organizer_form_builder_view .form_fields_palette .field_type_list_header h5,.organizer_form_builder_view .form_fields_palette .field_details_header h5,.organizer_admin_box_builder_view .form_fields_palette .field_details_header h5,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header h5{margin:0;color:#000;font-size:16px;font-weight:normal;display:inline}\n.organizer_form_builder_view .form_outer .form_header h5,.organizer_admin_box_builder_view .form_outer .form_header h5{margin:0;color:#333;font-size:16px;font-weight:normal;padding-right:10px}\n.organizer_form_builder_view .form_outer .form_header h5 span,.organizer_admin_box_builder_view .form_fields_palette .field_details_header h5 span{font-size:13px;font-style:italic}\n.organizer_form_builder_view .form_fields_palette .field_details_header .field_name,.organizer_form_builder_view .form_outer .form_header .field_name,.organizer_admin_box_builder_view .form_fields_palette .field_details_header .field_name,.organizer_admin_box_builder_view .form_outer .form_header .field_name,.organizer_admin_box_builder_view .tab_details_outer .tab_details_header .field_name{width:calc(100% - 40px)}\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content{position:relative}.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .edit_mode span,.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .view_mode span{margin-left:10px;font-size:11px;color:#007fa3;cursor:pointer;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}\n.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .view_mode span:hover{text-decoration:underline}.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .field_name .edit_mode input{width:70%}\n.organizer_admin_box_builder_view .form_fields_palette_outer .tab_details_header_content .add_new_field,.organizer_admin_box_builder_view .form_fields_palette_outer .field_details_header_content .add_new_field,.organizer_form_builder_view .form_fields_palette_outer .field_details_header_content .add_new_field{position:absolute;top:14px;right:15px;text-indent:-999;cursor:pointer;color:#007fa3}\n.organizer_form_builder_view .form_fields_palette .field_details_outer,.organizer_form_builder_view .form_fields_palette .field_details_inner,.organizer_form_builder_view .form_fields_palette .field_details,.organizer_admin_box_builder_view .form_fields_palette .field_details_outer,.organizer_admin_box_builder_view .form_fields_palette .field_details_inner,.organizer_admin_box_builder_view .form_fields_palette .field_details,.organizer_admin_box_builder_view .form_fields_palette .tab_details,.organizer_admin_box_builder_view .form_fields_palette .tab_details_outer,.organizer_admin_box_builder_view .form_fields_palette .tab_details_inner{height:100%}\n.organizer_form_builder_view .form_fields_palette .field_details,.organizer_admin_box_builder_view .form_fields_palette .field_details,.organizer_admin_box_builder_view .form_fields_palette .tab_details{background:#fbf290;border-top:1px solid #b9b9b9;position:relative;z-index:9;margin-top:-1px;padding:20px 15px;color:#000}\n.organizer_form_builder_view .form_outer p.error,.organizer_form_builder_view .form_fields_palette .field_details .error,.organizer_admin_box_builder_view .form_fields_palette .field_details .error,.organizer_admin_box_builder_view .form_fields_palette .tab_details .error{background:#fce4e1;border:1px solid #fad3c7;padding:5px 8px}\n.organizer_form_builder_view .form_outer p.error,.organizer_form_builder_view .form_fields_palette .field_details p.error,.organizer_admin_box_builder_view .form_fields_palette .field_details p.error,.organizer_admin_box_builder_view .form_fields_palette .tab_details p.error{margin:0 0 5px;color:#af0615}\n.organizer_form_builder_view .form_fields_palette .field_details .field,.organizer_admin_box_builder_view .form_fields_palette .field_details .fieldfield_details,.organizer_admin_box_builder_view .form_fields_palette .tab_details .field,.organizer_admin_box_builder_view .form_fields_palette .field_details .field{padding:5px 0}\n.organizer_form_builder_view .form_fields_palette .field_details .field:before,.organizer_form_builder_view .form_fields_palette .field_details .field:after{content:'.';width:0;height:0;font-size:0;line-height:0;display:block;overflow:hidden;visibility:hidden}\n.organizer_form_builder_view .form_fields_palette .field_details .field:after{clear:both}.organizer_form_builder_view .form_fields_palette .field_details .field table{width:100%}\n.organizer_form_builder_view .form_fields_palette .field_details .title,.organizer_admin_box_builder_view .form_fields_palette .field_details .title,.organizer_admin_box_builder_view .form_fields_palette .tab_details .title{font-weight:bold}\n.organizer_form_builder_view .form_fields_palette .field_details .value,.organizer_admin_box_builder_view .form_fields_palette .field_details .value,.organizer_admin_box_builder_view .form_fields_palette .tab_details .value{margin:3px 0}\n.organizer_form_builder_view .form_fields_palette .field_details input[type=\"text\"],.organizer_form_builder_view .form_fields_palette .field_details input[type=\"email\"],.organizer_form_builder_view .form_fields_palette .field_details input[type=\"password\"],.organizer_form_builder_view .form_fields_palette .field_details select,.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"text\"],.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"email\"],.organizer_admin_box_builder_view .form_fields_palette .field_details input[type=\"password\"],.organizer_admin_box_builder_view .form_fields_palette .field_details select,.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"text\"],.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"email\"],.organizer_admin_box_builder_view .form_fields_palette .tab_details input[type=\"password\"],.organizer_admin_box_builder_view .form_fields_palette .tab_details select{width:calc(100% - 12px)}\n.organizer_form_builder_view .form_fields_palette .field_details .ui-sortable-handle input[type=\"text\"],.organizer_admin_box_builder_view .form_fields_palette .field_details .ui-sortable-handle input[type=\"text\"]{width:calc(100% - 72px);padding-right:65px}\n.organizer_form_builder_view .form_fields_palette .field_details .note_below,.organizer_admin_box_builder_view .form_fields_palette .field_details .note_below{font-size:11px;line-height:14px;font-style:italic}\n.organizer_form_builder_view .form_fields_palette .field_details textarea{width:100%;height:150px;max-width:320px}.organizer_form_builder_view .field_type,.organizer_admin_box_builder_view .field_type,.organizer_form_builder_view .dataset_field{width:45%;width:calc(50% - 25px);padding:4px 5px 6px 10px;line-height:16px;margin:5px;background:#FFF;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 1px 0 rgba(0,0,0,0.35);-moz-box-shadow:0 1px 1px 0 rgba(0,0,0,0.35);box-shadow:0 1px 1px 0 rgba(0,0,0,0.35);cursor:move}\n.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_1 .dataset_field,.organizer_form_builder_view .form_fields_palette .field_type_list .dataset_fields .column_2 .dataset_field{width:calc(100% - 45px)}\n.organizer_form_builder_view .form_outer .field_type,.organizer_admin_box_builder_view .form_outer .field_type,.organizer_form_builder_view .form_outer .dataset_field{width:140px}\n.organizer_form_builder_view .form_fields_palette .field_type_list .field_type,.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type{float:left;position:relative}\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field{display:inline-block}.organizer_form_builder_view .form_fields_palette .field_type_list .field_type:hover,.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type:hover,.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field:hover,.organizer_form_builder_view .field_type.ui-draggable-dragging,.organizer_admin_box_builder_view .field_type.ui-draggable-dragging,.organizer_form_builder_view .dataset_field.ui-draggable-dragging{background:#027dc9}\n.organizer_form_builder_view .field_type.ui-draggable-dragging,.organizer_admin_box_builder_view .field_type.ui-draggable-dragging,.organizer_form_builder_view .dataset_field.ui-draggable-dragging{width:140px}\n.organizer_form_builder_view .zenario_indent_level_1,.organizer_admin_box_builder_view .zenario_indent_level_1{width:calc(100% - 15px - 102px) !important;margin-left:15px}\n.organizer_form_builder_view .zenario_indent_level_1 .zenario_indent_level_1,.organizer_admin_box_builder_view .zenario_indent_level_1 .zenario_indent_level_1{width:100% !important;margin-left:0}\n.organizer_form_builder_view .zenario_indent_level_2,.organizer_admin_box_builder_view .zenario_indent_level_2{width:calc(100% - 30px - 102px) !important;margin-left:30px}\n.organizer_form_builder_view .zenario_indent_level_3,.organizer_admin_box_builder_view .zenario_indent_level_3{width:calc(100% - 45px - 102px) !important;margin-left:45px}\n.organizer_form_builder_view .field_type h4,.organizer_admin_box_builder_view .field_type h4,.organizer_form_builder_view .dataset_field h4{margin:0 !important;overflow:hidden;color:#000;font-size:12px;line-height:16px}\n.organizer_form_builder_view .form_fields_palette .field_type_list .field_type:hover h4,.organizer_admin_box_builder_view .form_fields_palette .field_type_list .field_type:hover h4,.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_fields .dataset_field:hover h4,.organizer_form_builder_view .field_type.ui-draggable-dragging h4,.organizer_admin_box_builder_view .field_type.ui-draggable-dragging h4,.organizer_form_builder_view .dataset_field.ui-draggable-dragging h4{color:#FFF !important}\n.organizer_form_builder_view .form_fields_palette .field_type_list_outer .field_type_list .dataset_tab{overflow:hidden;display:block;float:none}.organizer_form_builder_view .preview,.organizer_admin_box_builder_view .preview{width:750px;padding:25px;display:block;border:3px dashed #d5d5d5;background:#f6f6f6}\n.organizer_form_builder_view .form_fields_palette .field_details_tabs,.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs{overflow:hidden;width:100%;display:block;position:relative;z-index:10}\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab,.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab{display:inline-block;padding:0 5px;line-height:30px;border:1px solid #d5d5d5;background:#d5d5d5;color:#6f6f6f;border-bottom:0;margin-right:1px;-webkit-border-top-left-radius:4px;-webkit-border-top-right-radius:4px;-moz-border-radius-topleft:4px;-moz-border-radius-topright:4px;border-top-left-radius:4px;border-top-right-radius:4px;cursor:pointer}\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab:first-child,.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab:first-child{margin-left:4px}\n.organizer_form_builder_view .form_fields_palette .field_details_tabs .tab.on,.organizer_admin_box_builder_view .form_fields_palette .field_details_tabs .tab.on{background:#fbf290;border-color:#b9b9b9}\n.organizer_form_builder_view .form_outer .form .form_field,.organizer_admin_box_builder_view .form_outer .form_field{clear:both;position:relative;padding:14px 90px 14px 12px;cursor:pointer;-webkit-transition:background .2s ease;-moz-transition:background .2s ease;-o-transition:background .2s ease;transition:background .2s ease}\n.organizer_form_builder_view .form_outer .form .form_field:after,.organizer_admin_box_builder_view .form_outer .form_field:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}\n.organizer_form_builder_view .form_outer .form .form_field .label,.organizer_admin_box_builder_view .form_outer .form_field .label{min-height:18px}.organizer_form_builder_view .form_outer .form .form_field.repeat_start{padding-bottom:30px}\n.field_type_list_outer .field_type_section#organizer_centralised_field_type_list .field_type,.organizer_form_builder_view .form_outer .form div.form_field[class*=\"centralised\"],.organizer_admin_box_builder_view .form_outer .form div.form_field[class*=\"centralised\"]{background-image:url('../admin/images/form-field-bg-centralised.gif');background-repeat:no-repeat;background-position:9px 11px}\n.field_type_list_outer .field_type_section#organizer_centralised_field_type_list .field_type{background-position:2px 3px}.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field,.organizer_form_builder_view .form_outer .form .form_field.linked_field,.organizer_form_builder_view .form_outer .form div.form_field[class*=\"centralised\"].linked_field,.organizer_admin_box_builder_view .form_outer .form div.form_field[class*=\"centralised\"].linked_field{background-image:url('../admin/images/form-field-bg-linked.gif');background-repeat:no-repeat;background-position:9px 11px}\n.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field{background-position:2px 3px}.field_type_list_outer .field_type_section#organizer_linked_field_type_list .dataset_field .checkbox{background-position:1px 2px}\n.organizer_form_builder_view .form_outer .form_field .label,.organizer_admin_box_builder_view .form_outer .form_field .label{display:block;margin-bottom:4px;padding-left:20px;color:#424242;font-weight:bold;background-position:left 2px;background-repeat:no-repeat}\n.organizer_form_builder_view .form_outer .form_field.editor .label,.organizer_admin_box_builder_view .form_outer .form_field.editor .label{background-size:16px auto;background-position:left center}\n.organizer_admin_box_builder_view .form_outer .form_field.group .label,.organizer_form_builder_view .form_outer .form_field.group .label{display:inline-block}\n.organizer_form_builder_view .form_outer .form_field input[type=\"text\"],.organizer_form_builder_view .form_outer .form_field input[type=\"email\"],.organizer_form_builder_view .form_outer .form_field input[type=\"password\"],.organizer_form_builder_view .form_outer .form_field textarea,.organizer_admin_box_builder_view .form_outer .form_field input[type=\"text\"],.organizer_admin_box_builder_view .form_outer .form_field input[type=\"email\"],.organizer_admin_box_builder_view .form_outer .form_field input[type=\"password\"],.organizer_admin_box_builder_view .form_outer .form_field textarea{width:410px}\n.organizer_admin_box_builder_view .form_outer .form_field.radios .label,.organizer_admin_box_builder_view .form_outer .form_field.checkbox .label,.organizer_form_builder_view .form_outer .form_field.radios .label,.organizer_form_builder_view .form_outer .form_field.checkbox .label{overflow:hidden;padding-left:25px}\n.organizer_admin_box_builder_view .form_outer .form_field.checkbox [type=\"checkbox\"],.organizer_form_builder_view .form_outer .form_field.checkbox [type=\"checkbox\"]{float:left}\n.organizer_form_builder_view .form_outer .form_field input[type=\"text\"].form_picked_item,.organizer_admin_box_builder_view .form_outer .form_field input[type=\"text\"].form_picked_item{margin-right:5px}\n.organizer_form_builder_view input[readonly],.organizer_admin_box_builder_view input[readonly]{background:#e9e9e9 none repeat scroll 0 0 !important;border:1px solid #dadada !important;color:#999 !important;cursor:default}\n.organizer_form_builder_view .form_outer .form_field input[type=\"button\"],.organizer_admin_box_builder_view .form_outer .form_field input[type=\"button\"]{color:#fff;font-family:Verdana,Tahoma,Arial,Helvetica,sans-serif;font-size:13px;margin-right:15px;padding:2px 10px 3px;text-shadow:0 1px 1px #000;background-color:#0298c3;border:1px solid #007fa3;border-radius:2px 3px 3px 2px / 3px;cursor:pointer}\n.organizer_form_builder_view .form_outer .form_field .zenario_note_below,.organizer_admin_box_builder_view .form_outer .form_field .zenario_note_below{width:408px;padding:3px 5px 5px 7px;margin-top:8px;background:#b1e6fd none repeat scroll 0 0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note_wrap,.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note_wrap{float:right;height:0;line-height:1px;margin:2px 0 0 10px;position:relative;text-align:left;width:200px;z-index:9}\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note,.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note{padding:5px 10px;font-size:10px;line-height:14px;position:absolute;background:#e0e0e0;-webkit-border-radius:4px;-webkit-border-top-left-radius:0;-moz-border-radius:4px;-moz-border-radius-topleft:0;border-radius:4px;border-top-left-radius:0}\n.organizer_form_builder_view .form_outer .form_field .zenario_side_note:after,.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note:after{right:100%;top:0;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(224,224,224,0);border-right-color:#e0e0e0;border-width:6px}\n.organizer_form_builder_view .form_outer .form_field .zenario_note_below,.organizer_admin_box_builder_view .form_outer .form_field .zenario_note_below,.organizer_form_builder_view .form_outer .form_field .zenario_side_note,.organizer_admin_box_builder_view .form_outer .form_field .zenario_side_note{color:#333;font-size:10px;word-wrap:break-word}\n.form_outer .form .form_field:hover{background:#ddf6fd}.form_outer .form .form_field.selected{background:#fbf290}.form_outer .form .form_field.ui-sortable-helper{opacity:.6}\n.form_outer .form .form_field .form_field_inline_buttons,.field_value .form_field_value_inline_buttons{width:75px;position:absolute;right:12px;text-align:right}\n.form_outer .form .form_field .form_field_inline_buttons{top:5px}.field_value .form_field_value_inline_buttons{top:10px}.form_outer .form .form_field .form_field_inline_buttons span,.field_value .form_field_value_inline_buttons span{display:inline-block;float:right;width:18px;height:18px;text-indent:-999;font-size:0;line-height:0;margin-left:5px}\n.form_outer .form .form_field .form_field_inline_buttons .drag_icon,.field_value .form_field_value_inline_buttons .drag_icon{background:url('../admin/images/icon-vertical-drag-cursor.svg') no-repeat center center / auto 18px}\n.form_outer .form .form_field .form_field_inline_buttons .delete_icon,.field_value .form_field_value_inline_buttons .delete_icon{position:relative;z-index:9;cursor:pointer;background:url('../admin/images/icon-trash-can.svg') no-repeat center center / auto 15px}\n.form_outer .form .form_field .form_field_inline_buttons .duplicate_icon,.field_value .form_field_value_inline_buttons .duplicate_icon{width:24px;background:url('../admin/images/icon-duplicate-v2.svg') no-repeat center center / auto 15px}\n.organizer_form_builder_view .field_value,.organizer_admin_box_builder_view .field_value{position:relative;padding:5px 0;overflow:hidden}.form_fields_palette .bottom_buttons{overflow:hidden;padding-top:10px;text-align:right}\n.organizer_form_builder_view #organizer_field_details_form .bottom_buttons input[type=\"button\"]{margin-right:8px}.form_fields_palette .tab_details_inner>.bottom_buttons,.form_fields_palette .field_details>.bottom_buttons{padding:15px;background:#f0f0f0}\n.organizer_form_builder_view .form_outer .grouping,.organizer_admin_box_builder_view .form_outer .grouping{border:1px dotted #333;margin-bottom:5px}.organizer_form_builder_view .form_fields_palette input[type=\"button\"],.organizer_admin_box_builder_view .form_fields_palette input[type=\"button\"],.organizer_form_builder_view .form_fields_palette .field_type_section input[type=\"button\"]{height:25px;font-size:12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer}\n.organizer_form_builder_view .form_fields_palette input[type=\"button\"],.organizer_admin_box_builder_view .form_fields_palette input[type=\"button\"]{display:inline-block;padding:0 6px;background-color:#f6f6f6;border:1px solid #b9b9b9;color:#000;float:right;margin-bottom:5px}\n.organizer_form_builder_view .form_fields_palette .field_type_section input[type=\"button\"]{float:right;padding:0 10px}.organizer_panel__form_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons>*,.organizer_panel__custom_tabs_and_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons>*{display:none}\n.organizer_panel__form_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons>#organizer_debug_button,.organizer_panel__custom_tabs_and_fields_gui #organizer_rightColumnTitle #organizer_topRightIcons>#organizer_debug_button{display:inline-block}\n.zenario_master_switch-wrap{position:fixed;bottom:70px;right:35px;width:300px;height:70px}.zenario_master_switch-text{float:left;display:block;font-size:20px;font-weight:bold;padding:3px 15px 0 0}\n.zenario_master_switch{float:left;position:relative;width:80px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.zenario_master_switch-checkbox{display:none}\n.zenario_master_switch-label{display:block;overflow:hidden;cursor:pointer;border:2px solid #999;border-radius:20px}.zenario_master_switch-inner{display:block;width:200%;margin-left:-100%;transition:margin .3s ease-in 0}\n.zenario_master_switch-inner:before,.zenario_master_switch-inner:after{display:block;float:left;width:50%;height:30px;padding:0;line-height:30px;font-size:14px;color:white;font-family:Trebuchet,Arial,sans-serif;font-weight:bold;box-sizing:border-box}\n.zenario_master_switch-inner:before{content:\"On\";padding-left:10px;background-color:#60b000;color:#fff}.zenario_master_switch-inner:after{content:\"Off\";padding-right:10px;background-color:maroon;color:#709090;text-align:right}\n.zenario_master_switch-switch{display:block;width:42px;margin:-6px;background:#eee;position:absolute;top:0;bottom:0;right:46px;border:2px solid #999;border-radius:20px;transition:all .3s ease-in 0}\n.zenario_master_switch-checkbox:checked+.zenario_master_switch-label .zenario_master_switch-inner{margin-left:0}.zenario_master_switch-checkbox:checked+.zenario_master_switch-label .zenario_master_switch-switch{right:0}\ndiv.ui-tooltip.zenario_link_status_tooltip{background:#0073bd;border-color:#0073bd;padding:8px !important}div.ui-tooltip.zenario_link_status_tooltip .ui-tooltip-content{color:#FFF;font-size:12px;line-height:15px;margin:0}\n#organizer_buttons{background:#baefba}.zenario_panel_type__form_builder #organizer_buttons,.zenario_panel_type__admin_box_builder #organizer_buttons{background:transparent}\n#organizer_collectionToolbarWrap{padding-left:5px;padding-right:0}#organizer_rightColumn #organizer_itemToolbar{border-left:0}#organizer_itemToolbarWrap #organizer_itemToolbar .toolbarButtons{background:#f6f6f6;border:1px solid #ccc;height:37px;margin-top:6px}\n#organizer_itemToolbarWrap #organizer_itemToolbar .toolbarButtons>ul:first-child>li:first-child{padding-left:10px}#organizer_rightColumn #organizer_itemToolbarButtons{animation:yellow_flash 1s;-webkit-animation:yellow_flash 1s}\n.organizer_toolbar .toolbar .toolbarButtons .organizer_item_toolbar_image{margin-top:5px}.organizer_toolbar .toolbar .toolbarButtons ul li{margin-top:0}\n.organizer_toolbar .toolbar .toolbarButtons ul li a{padding-bottom:2px}.organizer_toolbar .toolbar .toolbarButtons>ul>li.zenario_create_a_new>a:before{content:' +'}\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a,.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a:hover,.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new:hover a,.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a,.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a{color:#000 !important}\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons>ul>li>a,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li a{color:#111}\n.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li a:hover,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li:hover a,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li.zenario_create_a_new a:hover,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul li.zenario_create_a_new:hover a,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__export li:hover a,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__export li a:hover,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li:hover a,.organizer_toolbar #organizer_collectionToolbarWrap .toolbar .toolbarButtons ul.organizer_button__help li a:hover{color:#000}\n.organizer_toolbar .toolbar .toolbarButtons ul li.zenario_create_a_new a,.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__export li a,.organizer_toolbar .toolbar .toolbarButtons ul.organizer_button__help li a{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-text-shadow:none;-moz-text-shadow:none;text-shadow:none}\n#organizer_applyCancelToolbar{padding:12px 0 0 10px}#organizer_applyCancelToolbar ul li,#organizer_applyCancelToolbar ul li:hover{background:transparent}\n.zenario_panel_type__form_builder #organizer_applyCancelToolbar,.zenario_panel_type__admin_box_builder #organizer_applyCancelToolbar{padding-top:0}"], "filenames": ["zenario/admin/db_updates/latest_revision_no.inc.php", "zenario/autoload/welcome.php", "zenario/js/admin_organizer.js", "zenario/js/admin_organizer.min.js", "zenario/modules/zenario_forum/module_code.php", "zenario/styles/admin_organizer.css", "zenario/styles/admin_organizer.min.css"], "buggy_code_start_loc": [40, 2623, 4726, 23, 469, 2360, 201], "buggy_code_end_loc": [41, 2624, 4793, 97, 470, 2360, 204], "fixing_code_start_loc": [40, 2623, 4726, 23, 469, 2361, 201], "fixing_code_end_loc": [41, 2626, 4793, 97, 472, 2363, 205], "type": "CWE-79", "message": "A vulnerability, which was classified as problematic, has been found in Tribal Systems Zenario CMS. Affected by this issue is some unknown functionality of the file admin_organizer.js of the component Error Log Module. The manipulation leads to cross site scripting. The attack may be launched remotely. The name of the patch is dfd0afacb26c3682a847bea7b49ea440b63f3baa. It is recommended to apply a patch to fix this issue. The identifier of this vulnerability is VDB-212816.", "other": {"cve": {"id": "CVE-2020-36608", "sourceIdentifier": "cna@vuldb.com", "published": "2022-11-02T19:15:09.807", "lastModified": "2022-11-03T16:40:39.310", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "A vulnerability, which was classified as problematic, has been found in Tribal Systems Zenario CMS. Affected by this issue is some unknown functionality of the file admin_organizer.js of the component Error Log Module. The manipulation leads to cross site scripting. The attack may be launched remotely. The name of the patch is dfd0afacb26c3682a847bea7b49ea440b63f3baa. It is recommended to apply a patch to fix this issue. The identifier of this vulnerability is VDB-212816."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 6.1, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 2.7}, {"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:U/C:N/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 3.5, "baseSeverity": "LOW"}, "exploitabilityScore": 2.1, "impactScore": 1.4}]}, "weaknesses": [{"source": "nvd@nist.gov", "type": "Primary", "description": [{"lang": "en", "value": "CWE-79"}]}, {"source": "cna@vuldb.com", "type": "Secondary", "description": [{"lang": "en", "value": "CWE-707"}, {"lang": "en", "value": "CWE-74"}, {"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:tribalsystems:zenario:*:*:*:*:*:*:*:*", "versionEndExcluding": "8.7", "matchCriteriaId": "55A5946A-816A-423A-A549-3405055F1EAB"}]}]}], "references": [{"url": "https://github.com/TribalSystems/Zenario/commit/dfd0afacb26c3682a847bea7b49ea440b63f3baa", "source": "cna@vuldb.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://vuldb.com/?id.212816", "source": "cna@vuldb.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/TribalSystems/Zenario/commit/dfd0afacb26c3682a847bea7b49ea440b63f3baa"}}