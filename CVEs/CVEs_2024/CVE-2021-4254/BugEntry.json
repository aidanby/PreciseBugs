{"buggy_code": ["<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        <meta name=\"description\" content=\"\">\n        <meta name=\"author\" content=\"\">\n        <link rel=\"shortcut icon\" href=\"../../assets/ico/favicon.ico\">\n\n        <title>Lenio - simple facilities management</title>\n\n        <!-- Bootstrap core CSS -->\n        <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"\n            integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\">\n\n        <!-- Custom styles for this template -->\n        <link rel=\"stylesheet\" href=\"/css/calendar.css\">\n        <link rel=\"stylesheet\" href=\"/css/datepicker.css\">\n        <link rel=\"stylesheet\" href=\"/css/lenio.css\">\n\n        <!-- Just for debugging purposes. Don't actually copy this line! -->\n        <!--[if lt IE 9]><script src=\"../../assets/js/ie8-responsive-file-warning.js\"></script><![endif]-->\n\n        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->\n        <!--[if lt IE 9]>\n        <script src=\"//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js\"></script>\n        <script src=\"//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js\"></script>\n        <![endif]-->\n    </head>\n\n<body>\n    <div class=\"container\">\n\n    <div>\n        <img class=\"padded\" src=\"[% logo %]\" style=\"width:280px;height:auto\">\n    </div>\n    [% UNLESS page==\"login\" %]\n        <nav class=\"navbar navbar-default\" role=\"navigation\">\n            <div class=\"navbar-header\">\n                <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\">\n                    <span class=\"sr-only\">Toggle navigation</span>\n                    <span class=\"icon-bar\"></span>\n                    <span class=\"icon-bar\"></span>\n                    <span class=\"icon-bar\"></span>\n                </button>\n                <a class=\"navbar-brand\" href=\"/\">Lenio</a>\n            </div>\n\n            <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n                <ul class=\"nav navbar-nav\">\n                    <li [% IF page == \"index\" %]class=\"active\"[% END %]><a href=\"/\">Calendar</a></li>\n                    <li [% IF page == \"ticket\" %]class=\"active\"[% END %]><a href=\"/tickets\">Tickets</a></li>\n                    [% IF login.is_admin %]\n                        <li [% IF page == \"task\" %]class=\"active\"[% END %]><a href=\"/task\">Tasks</a></li>\n                        <li [% IF page == \"invoice\" %]class=\"active\"[% END %]><a href=\"/invoices\">Invoices</a></li>\n                        <li [% IF page == \"notice\" %]class=\"active\"[% END %]><a href=\"/notice\">Notices</a></li>\n                        <li class=\"dropdown\">\n                            <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">Contractors <span class=\"caret\"></span></a>\n                            <ul class=\"dropdown-menu\">\n                                <li [% IF page == \"contractor\" %]class=\"active\"[% END %]><a href=\"/contractor\">Manage Contractors</a></li>\n                                [% IF page != \"contractor\" %]\n                                    <li class=\"divider\"></li>\n                                        <li><a href=\"?contractor=\">Clear selected contractors</a></li>\n                                    <li class=\"divider\"></li>\n                                    [% FOREACH contractor IN contractors %]\n                                        <li><a href=\"?contractor=[% contractor.id %]\">\n                                                [% contractor.name | html %]\n                                                [% IF contractors_selected.${contractor.id} %]\n                                                    <span class=\"glyphicon glyphicon-ok\"></span>\n                                                [% END %]\n                                            </a>\n                                        </li>\n                                    [% END %]\n                                [% END %]\n                            </ul>\n                        </li>\n                        <li class=\"dropdown\">\n                            <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">Admin <span class=\"caret\"></span></a>\n                            <ul class=\"dropdown-menu\">\n                                <li [% IF page == \"user\" %]class=\"active\"[% END %]><a href=\"/users\">Users</a></li>\n                                <li [% IF page == \"group\" %]class=\"active\"[% END %]><a href=\"/groups\">Site groups</a></li>\n                            </ul>\n                        </li>\n                    [% ELSE %]\n                        <li [% IF page == \"task\" %]class=\"active\"[% END %]><a href=\"/task\">Summary</a></li>\n                        <li [% IF page == \"check\" %]class=\"active\"[% END %]><a href=\"/checks\">Site checks</a></li>\n                        <li [% IF page == \"invoice\" %]class=\"active\"[% END %]><a href=\"/invoices\">Invoices</a></li>\n                    [% END %]\n\n                    <li class=\"dropdown\">\n                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\n                        [% IF login.site %]\n                            <!-- [% login.site.org.name %] ([% login.site.name %]) -->\n                            Site\n                        [% ELSE %]\n                            Site\n                        [% END %] <b class=\"caret\"></b>\n                    </a>\n                    <ul class=\"dropdown-menu scrollable-menu\">\n                        <li><a href=\"?site=all\">All sites</a></li>\n                        [% IF login.is_admin AND groups.size %]\n                            <li class=\"divider\"></li>\n                            [% FOREACH group IN groups %]\n                                <li>\n                                <a href=\"?group=[% group.id %]\">\n                                    [% group.name | html %]\n                                    [% IF group.id == session.group_id %]\n                                        <span class=\"glyphicon glyphicon-ok\"></span>\n                                    [% END %]\n                                </a></li>\n                            [% END %]\n                        [% END %]\n                        <li class=\"divider\"></li>\n                        [% FOR site IN login.sites %]\n                        <li>\n                        <a href=\"?site=[% site.id %]\">\n                            [% site.org.name %] ([% site.name %])\n                            [% IF site.id == session.site_id %]\n                            <span class=\"glyphicon glyphicon-ok\"></span>\n                            [% END %]\n                        </a></li>\n                        [% END %]\n                    </ul>\n                    </li>\n                </ul>\n\n                <ul class=\"nav navbar-nav navbar-right\">\n\n                    <!-- <li><a href=\"#\">Link</a></li> -->\n\n                    <li class=\"dropdown\">\n                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">[% login.firstname %]<b class=\"caret\"></b></a>\n                    <ul class=\"dropdown-menu\">\n                        <li><a href=\"/user/[% login.id %]\">Account settings</a></li>\n                        <li class=\"divider\"></li>\n                        <li><a href=\"/logout\">Logout</a></li>\n                    </ul>\n                    </li>\n                </ul>\n            </div>\n        </nav>\n    [% END %]\n\n    [% FOR notice IN login.login_notices %]\n        <div class=\"alert alert-info alert-dismissable\" data-someid=\"[% notice.id %]\">\n        <button id=\"my-alert\" type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">&times;</button>\n        [% notice.notice.text %]\n        </div>\n    [% END %]\n\n    [% FOR message IN messages %]\n        <div class=\"alert alert-[% message.bootstrap_color %]\">\n            [% message.toString | html_entity %]\n        </div>\n    [% END %]\n\n    [% content %]\n\n    </div> \n\n    <script src=\"https://code.jquery.com/jquery-3.4.1.min.js\"\n            integrity=\"sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=\" crossorigin=\"anonymous\"></script>\n    <script type=\"text/javascript\" src=\"/js/underscore-min.js\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"\n        integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" crossorigin=\"anonymous\"></script>\n    <script type=\"text/javascript\">\n        $('.alert').bind('closed.bs.alert', function ()\n        {\n            var id = $(this).data('someid'); \n            $.post('/close/'+id+'?csrf_token=[% csrf_token %]');\n        });\n\n    </script>\n\n    [% IF page == \"index\" %]\n        <script type=\"text/javascript\" src=\"/js/calendar.js\"></script>\n        <script type=\"text/javascript\" src=\"/js/app.js\"></script>\n        <script type=\"text/javascript\">\n            var calendar = $('#calendar').calendar(\n               {   events_source: '/data'\n                 , tmpl_path: '/tmpls/'\n                 , onAfterViewLoad: function(view) { // Show the month and year in h4\n                     $('.page-header h4').text(this.getTitle());\n                     $('.btn-group button').removeClass('active');\n                     $('button[data-calendar-view=\"' + view + '\"]').addClass('active');\n                     },\n               });\n        </script>\n    [% END %]\n    [% IF page == \"login\" %]\n        <script type=\"text/javascript\" src=\"/js/login.js\"></script>\n        <script type=\"text/javascript\" src=\"/js/bootstrap-show-password.js\"></script>\n    [% END %]\n\n    [% IF page == \"ticket\" || page == \"check\" || page == \"task\" %]\n        <script type=\"text/javascript\" src=\"/js/bootstrap-datepicker.js\"></script>\n        <script type=\"text/javascript\">\n            $(document).ready(function() {\n                $('.datepicker').datepicker({format: \"yyyy-mm-dd\", autoclose: \"true\"});\n            });\n        </script>\n    [% END %]\n\n    [% IF page == \"ticket\" %]\n        <script type=\"text/javascript\">\n            $(document).ready(function () {\n                $('#modal_comment_delete').on('show.bs.modal', function (event) {\n                    var button = $(event.relatedTarget);\n                    var comment_id = button.data('comment_id');\n                    $('#modal_comment_delete-comment_id').val(comment_id);\n                });\n            });\n        </script>\n    [% END %]\n\n    [% IF page == \"task\" %]\n        <script type=\"text/javascript\">\n            $(document).ready(function () {\n                $('#modal_rm_task').on('show.bs.modal', function (event) {\n                    var button = $(event.relatedTarget);\n                    var task_id = button.data('task-id');\n                    $('#taskrm').val(task_id);\n                });\n            });\n        </script>\n    [% END %]\n\n    [% IF page == \"check_edit\" %]\n        <script type=\"text/javascript\">\n            $(document).ready(function () {\n                $('#modalnew').on('show.bs.modal', function (event) {\n                    var button = $(event.relatedTarget);\n                    var checkname = button.data('checkname');\n                    $('#checkitem').val(checkname);\n                    var checkitemid = button.data('checkitemid');\n                    $('#checkitemid-name').val(checkitemid);\n                });\n                $('#modaloptions').on('show.bs.modal', function (event) {\n                    var button = $(event.relatedTarget);\n                    var has_custom_options = button.data('has-custom-options');\n                    if (has_custom_options) {\n                        $(\"#has-custom-options-true\").prop(\"checked\", true);\n                        $(\"#has-custom-options-false\").prop(\"checked\", false);\n                    } else {\n                        $(\"#has-custom-options-false\").prop(\"checked\", true);\n                        $(\"#has-custom-options-true\").prop(\"checked\", false);\n                    }\n                    $('#checkoptions-rows').find('.check-option').not('#check-option-blank').remove();\n                    var check_item_options = button.data('check-item-options');\n                    jQuery.each(check_item_options, function(i, val) {\n                        var option = $(\"#check-option-blank\").clone().appendTo(\"#checkoptions-rows\");\n                        option.removeAttr('id');\n                        option.show();\n                        option.find('.check-option-id').val(val.id);\n                        option.find('.check-option-name').val(val.name);\n                    });\n                    var checkitemid = button.data('checkitemid');\n                    $('#checkitemid-options').val(checkitemid);\n                });\n                $('#add-option').on('click', function() {\n                    var option = $(\"#check-option-blank\").clone().appendTo(\"#checkoptions-rows\");\n                    option.removeAttr('id');\n                    option.show();\n                });\n                $('#checkoptions-rows').on('click', '.closeme', function() {\n                    $(this).closest('.check-option').remove();\n                });\n            });\n        </script>\n    [% END %]\n\n</body>\n</html>\n"], "fixing_code": ["<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        <meta name=\"description\" content=\"\">\n        <meta name=\"author\" content=\"\">\n        <link rel=\"shortcut icon\" href=\"../../assets/ico/favicon.ico\">\n\n        <title>Lenio - simple facilities management</title>\n\n        <!-- Bootstrap core CSS -->\n        <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"\n            integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\">\n\n        <!-- Custom styles for this template -->\n        <link rel=\"stylesheet\" href=\"/css/calendar.css\">\n        <link rel=\"stylesheet\" href=\"/css/datepicker.css\">\n        <link rel=\"stylesheet\" href=\"/css/lenio.css\">\n\n        <!-- Just for debugging purposes. Don't actually copy this line! -->\n        <!--[if lt IE 9]><script src=\"../../assets/js/ie8-responsive-file-warning.js\"></script><![endif]-->\n\n        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->\n        <!--[if lt IE 9]>\n        <script src=\"//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js\"></script>\n        <script src=\"//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js\"></script>\n        <![endif]-->\n    </head>\n\n<body>\n    <div class=\"container\">\n\n    <div>\n        <img class=\"padded\" src=\"[% logo %]\" style=\"width:280px;height:auto\">\n    </div>\n    [% UNLESS page==\"login\" %]\n        <nav class=\"navbar navbar-default\" role=\"navigation\">\n            <div class=\"navbar-header\">\n                <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\">\n                    <span class=\"sr-only\">Toggle navigation</span>\n                    <span class=\"icon-bar\"></span>\n                    <span class=\"icon-bar\"></span>\n                    <span class=\"icon-bar\"></span>\n                </button>\n                <a class=\"navbar-brand\" href=\"/\">Lenio</a>\n            </div>\n\n            <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n                <ul class=\"nav navbar-nav\">\n                    <li [% IF page == \"index\" %]class=\"active\"[% END %]><a href=\"/\">Calendar</a></li>\n                    <li [% IF page == \"ticket\" %]class=\"active\"[% END %]><a href=\"/tickets\">Tickets</a></li>\n                    [% IF login.is_admin %]\n                        <li [% IF page == \"task\" %]class=\"active\"[% END %]><a href=\"/task\">Tasks</a></li>\n                        <li [% IF page == \"invoice\" %]class=\"active\"[% END %]><a href=\"/invoices\">Invoices</a></li>\n                        <li [% IF page == \"notice\" %]class=\"active\"[% END %]><a href=\"/notice\">Notices</a></li>\n                        <li class=\"dropdown\">\n                            <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">Contractors <span class=\"caret\"></span></a>\n                            <ul class=\"dropdown-menu\">\n                                <li [% IF page == \"contractor\" %]class=\"active\"[% END %]><a href=\"/contractor\">Manage Contractors</a></li>\n                                [% IF page != \"contractor\" %]\n                                    <li class=\"divider\"></li>\n                                        <li><a href=\"?contractor=\">Clear selected contractors</a></li>\n                                    <li class=\"divider\"></li>\n                                    [% FOREACH contractor IN contractors %]\n                                        <li><a href=\"?contractor=[% contractor.id %]\">\n                                                [% contractor.name | html %]\n                                                [% IF contractors_selected.${contractor.id} %]\n                                                    <span class=\"glyphicon glyphicon-ok\"></span>\n                                                [% END %]\n                                            </a>\n                                        </li>\n                                    [% END %]\n                                [% END %]\n                            </ul>\n                        </li>\n                        <li class=\"dropdown\">\n                            <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">Admin <span class=\"caret\"></span></a>\n                            <ul class=\"dropdown-menu\">\n                                <li [% IF page == \"user\" %]class=\"active\"[% END %]><a href=\"/users\">Users</a></li>\n                                <li [% IF page == \"group\" %]class=\"active\"[% END %]><a href=\"/groups\">Site groups</a></li>\n                            </ul>\n                        </li>\n                    [% ELSE %]\n                        <li [% IF page == \"task\" %]class=\"active\"[% END %]><a href=\"/task\">Summary</a></li>\n                        <li [% IF page == \"check\" %]class=\"active\"[% END %]><a href=\"/checks\">Site checks</a></li>\n                        <li [% IF page == \"invoice\" %]class=\"active\"[% END %]><a href=\"/invoices\">Invoices</a></li>\n                    [% END %]\n\n                    <li class=\"dropdown\">\n                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\n                        [% IF login.site %]\n                            <!-- [% login.site.org.name %] ([% login.site.name %]) -->\n                            Site\n                        [% ELSE %]\n                            Site\n                        [% END %] <b class=\"caret\"></b>\n                    </a>\n                    <ul class=\"dropdown-menu scrollable-menu\">\n                        <li><a href=\"?site=all\">All sites</a></li>\n                        [% IF login.is_admin AND groups.size %]\n                            <li class=\"divider\"></li>\n                            [% FOREACH group IN groups %]\n                                <li>\n                                <a href=\"?group=[% group.id %]\">\n                                    [% group.name | html %]\n                                    [% IF group.id == session.group_id %]\n                                        <span class=\"glyphicon glyphicon-ok\"></span>\n                                    [% END %]\n                                </a></li>\n                            [% END %]\n                        [% END %]\n                        <li class=\"divider\"></li>\n                        [% FOR site IN login.sites %]\n                        <li>\n                        <a href=\"?site=[% site.id %]\">\n                            [% site.org.name %] ([% site.name %])\n                            [% IF site.id == session.site_id %]\n                            <span class=\"glyphicon glyphicon-ok\"></span>\n                            [% END %]\n                        </a></li>\n                        [% END %]\n                    </ul>\n                    </li>\n                </ul>\n\n                <ul class=\"nav navbar-nav navbar-right\">\n\n                    <!-- <li><a href=\"#\">Link</a></li> -->\n\n                    <li class=\"dropdown\">\n                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">[% login.firstname %]<b class=\"caret\"></b></a>\n                    <ul class=\"dropdown-menu\">\n                        <li><a href=\"/user/[% login.id %]\">Account settings</a></li>\n                        <li class=\"divider\"></li>\n                        <li><a href=\"/logout\">Logout</a></li>\n                    </ul>\n                    </li>\n                </ul>\n            </div>\n        </nav>\n    [% END %]\n\n    [% FOR notice IN login.login_notices %]\n        <div class=\"alert alert-info alert-dismissable\" data-someid=\"[% notice.id %]\">\n        <button id=\"my-alert\" type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">&times;</button>\n        [% notice.notice.text | html %]\n        </div>\n    [% END %]\n\n    [% FOR message IN messages %]\n        <div class=\"alert alert-[% message.bootstrap_color %]\">\n            [% message.toString | html_entity %]\n        </div>\n    [% END %]\n\n    [% content %]\n\n    </div> \n\n    <script src=\"https://code.jquery.com/jquery-3.4.1.min.js\"\n            integrity=\"sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=\" crossorigin=\"anonymous\"></script>\n    <script type=\"text/javascript\" src=\"/js/underscore-min.js\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"\n        integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" crossorigin=\"anonymous\"></script>\n    <script type=\"text/javascript\">\n        $('.alert').bind('closed.bs.alert', function ()\n        {\n            var id = $(this).data('someid'); \n            $.post('/close/'+id+'?csrf_token=[% csrf_token %]');\n        });\n\n    </script>\n\n    [% IF page == \"index\" %]\n        <script type=\"text/javascript\" src=\"/js/calendar.js\"></script>\n        <script type=\"text/javascript\" src=\"/js/app.js\"></script>\n        <script type=\"text/javascript\">\n            var calendar = $('#calendar').calendar(\n               {   events_source: '/data'\n                 , tmpl_path: '/tmpls/'\n                 , onAfterViewLoad: function(view) { // Show the month and year in h4\n                     $('.page-header h4').text(this.getTitle());\n                     $('.btn-group button').removeClass('active');\n                     $('button[data-calendar-view=\"' + view + '\"]').addClass('active');\n                     },\n               });\n        </script>\n    [% END %]\n    [% IF page == \"login\" %]\n        <script type=\"text/javascript\" src=\"/js/login.js\"></script>\n        <script type=\"text/javascript\" src=\"/js/bootstrap-show-password.js\"></script>\n    [% END %]\n\n    [% IF page == \"ticket\" || page == \"check\" || page == \"task\" %]\n        <script type=\"text/javascript\" src=\"/js/bootstrap-datepicker.js\"></script>\n        <script type=\"text/javascript\">\n            $(document).ready(function() {\n                $('.datepicker').datepicker({format: \"yyyy-mm-dd\", autoclose: \"true\"});\n            });\n        </script>\n    [% END %]\n\n    [% IF page == \"ticket\" %]\n        <script type=\"text/javascript\">\n            $(document).ready(function () {\n                $('#modal_comment_delete').on('show.bs.modal', function (event) {\n                    var button = $(event.relatedTarget);\n                    var comment_id = button.data('comment_id');\n                    $('#modal_comment_delete-comment_id').val(comment_id);\n                });\n            });\n        </script>\n    [% END %]\n\n    [% IF page == \"task\" %]\n        <script type=\"text/javascript\">\n            $(document).ready(function () {\n                $('#modal_rm_task').on('show.bs.modal', function (event) {\n                    var button = $(event.relatedTarget);\n                    var task_id = button.data('task-id');\n                    $('#taskrm').val(task_id);\n                });\n            });\n        </script>\n    [% END %]\n\n    [% IF page == \"check_edit\" %]\n        <script type=\"text/javascript\">\n            $(document).ready(function () {\n                $('#modalnew').on('show.bs.modal', function (event) {\n                    var button = $(event.relatedTarget);\n                    var checkname = button.data('checkname');\n                    $('#checkitem').val(checkname);\n                    var checkitemid = button.data('checkitemid');\n                    $('#checkitemid-name').val(checkitemid);\n                });\n                $('#modaloptions').on('show.bs.modal', function (event) {\n                    var button = $(event.relatedTarget);\n                    var has_custom_options = button.data('has-custom-options');\n                    if (has_custom_options) {\n                        $(\"#has-custom-options-true\").prop(\"checked\", true);\n                        $(\"#has-custom-options-false\").prop(\"checked\", false);\n                    } else {\n                        $(\"#has-custom-options-false\").prop(\"checked\", true);\n                        $(\"#has-custom-options-true\").prop(\"checked\", false);\n                    }\n                    $('#checkoptions-rows').find('.check-option').not('#check-option-blank').remove();\n                    var check_item_options = button.data('check-item-options');\n                    jQuery.each(check_item_options, function(i, val) {\n                        var option = $(\"#check-option-blank\").clone().appendTo(\"#checkoptions-rows\");\n                        option.removeAttr('id');\n                        option.show();\n                        option.find('.check-option-id').val(val.id);\n                        option.find('.check-option-name').val(val.name);\n                    });\n                    var checkitemid = button.data('checkitemid');\n                    $('#checkitemid-options').val(checkitemid);\n                });\n                $('#add-option').on('click', function() {\n                    var option = $(\"#check-option-blank\").clone().appendTo(\"#checkoptions-rows\");\n                    option.removeAttr('id');\n                    option.show();\n                });\n                $('#checkoptions-rows').on('click', '.closeme', function() {\n                    $(this).closest('.check-option').remove();\n                });\n            });\n        </script>\n    [% END %]\n\n</body>\n</html>\n"], "filenames": ["views/layouts/main.tt"], "buggy_code_start_loc": [148], "buggy_code_end_loc": [149], "fixing_code_start_loc": [148], "fixing_code_end_loc": [149], "type": "CWE-707", "message": "A vulnerability has been found in ctrlo lenio and classified as problematic. Affected by this vulnerability is an unknown functionality of the file views/layouts/main.tt of the component Notice Handler. The manipulation of the argument notice.notice.text leads to cross site scripting. The attack can be launched remotely. The name of the patch is aa300555343c1c081951fcb68bfb6852fbba7451. It is recommended to apply a patch to fix this issue. The associated identifier of this vulnerability is VDB-216211.", "other": {"cve": {"id": "CVE-2021-4254", "sourceIdentifier": "cna@vuldb.com", "published": "2022-12-18T22:15:10.393", "lastModified": "2022-12-22T19:21:11.087", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "A vulnerability has been found in ctrlo lenio and classified as problematic. Affected by this vulnerability is an unknown functionality of the file views/layouts/main.tt of the component Notice Handler. The manipulation of the argument notice.notice.text leads to cross site scripting. The attack can be launched remotely. The name of the patch is aa300555343c1c081951fcb68bfb6852fbba7451. It is recommended to apply a patch to fix this issue. The associated identifier of this vulnerability is VDB-216211."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "REQUIRED", "scope": "CHANGED", "confidentialityImpact": "LOW", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 6.1, "baseSeverity": "MEDIUM"}, "exploitabilityScore": 2.8, "impactScore": 2.7}, {"source": "cna@vuldb.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:U/C:N/I:L/A:N", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "LOW", "availabilityImpact": "NONE", "baseScore": 3.5, "baseSeverity": "LOW"}, "exploitabilityScore": 2.1, "impactScore": 1.4}]}, "weaknesses": [{"source": "cna@vuldb.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-707"}, {"lang": "en", "value": "CWE-74"}, {"lang": "en", "value": "CWE-79"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:ctrlo:lenio:*:*:*:*:*:*:*:*", "versionEndExcluding": "2021-02-08", "matchCriteriaId": "059A0EE5-ACE2-4EBB-8121-057C780461A6"}]}]}], "references": [{"url": "https://github.com/ctrlo/lenio/commit/aa300555343c1c081951fcb68bfb6852fbba7451", "source": "cna@vuldb.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://vuldb.com/?id.216211", "source": "cna@vuldb.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/ctrlo/lenio/commit/aa300555343c1c081951fcb68bfb6852fbba7451"}}